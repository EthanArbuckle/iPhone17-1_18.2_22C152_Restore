uint64_t ExecuteMusicOnRemoteFlow.deinit()
{
  uint64_t v0;
  uint64_t v1;

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_B21E0(*(void **)(v0 + 48), *(unsigned char *)(v0 + 56));
  sub_7184(v0 + 64);
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin24ExecuteMusicOnRemoteFlow_inputToExecute, &qword_30EBB8);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin24ExecuteMusicOnRemoteFlow_outputPublisher);
  v1 = *(void *)(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin24ExecuteMusicOnRemoteFlow_executeOnRemotePayload + 16);
  swift_bridgeObjectRelease();
  sub_BE054(v1);
  swift_release();
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin24ExecuteMusicOnRemoteFlow_appNameResolver);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin24ExecuteMusicOnRemoteFlow_siriKitTaskLoggingProvider);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t ExecuteMusicOnRemoteFlow.__deallocating_deinit()
{
  ExecuteMusicOnRemoteFlow.deinit();

  return swift_deallocClassInstance();
}

void (*sub_BC854(void *a1))(void *a1)
{
  v2 = malloc(0x28uLL);
  *a1 = v2;
  v2[4] = sub_295A20();
  return sub_BC8C8;
}

void sub_BC8C8(void *a1)
{
  v1 = (void *)*a1;
  (*(void (**)(void))(*a1 + 32))(*a1);

  free(v1);
}

uint64_t sub_BC910(uint64_t a1)
{
  return ExecuteMusicOnRemoteFlow.on(input:)(a1) & 1;
}

uint64_t sub_BC938()
{
  return sub_294010();
}

uint64_t sub_BC998(uint64_t a1)
{
  v3 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v3;
  void *v3 = v1;
  v3[1] = sub_14480;
  return ExecuteMusicOnRemoteFlow.execute()(a1);
}

void sub_BCA34(uint64_t a1@<X8>)
{
  uint64_t v3 = *v1;
  v4 = *(void **)(*v1 + 48);
  char v5 = *(unsigned char *)(v3 + 56);
  sub_B2194(v4, v5);
  v6 = sub_B1E78(v4, v5);
  char v8 = v7;
  sub_B21E0(v4, v5);
  *(void *)a1 = v6;
  *(unsigned char *)(a1 + 8) = v8;
}

uint64_t sub_BCAA8(uint64_t (*a1)(void))
{
  uint64_t result = a1();
  if (result) {
    return _swift_stdlib_bridgeErrorToNSError();
  }
  return result;
}

void *sub_BCAD8(uint64_t a1, uint64_t a2)
{
  if (a2 <= a1) {
    uint64_t v2 = a1;
  }
  else {
    uint64_t v2 = a2;
  }
  if (!v2) {
    return &_swiftEmptyArrayStorage;
  }
  sub_71D4(&qword_30DD58);
  v4 = (void *)swift_allocObject();
  size_t v5 = j__malloc_size(v4);
  v4[2] = a1;
  v4[3] = 2 * v5 - 64;
  return v4;
}

uint64_t sub_BCB40(unsigned __int16 a1, uint64_t a2, uint64_t a3)
{
  char v3 = a1;
  uint64_t v4 = a1 >> 14;
  if ((a3 & 0x1000000000000000) == 0 || (a2 & 0x800000000000000) != 0)
  {
    uint64_t v10 = sub_298AE0();
    uint64_t v11 = v10 + (v4 << 16);
    unint64_t v12 = v10 & 0xFFFFFFFFFFFFFFFCLL | v3 & 3;
    unint64_t v13 = v11 & 0xFFFFFFFFFFFF0000;
    if (!v4) {
      unint64_t v13 = v12;
    }
    return v13 | 4;
  }
  else
  {
    uint64_t v5 = sub_298AB0();
    uint64_t v6 = v5 + (v4 << 16);
    unint64_t v7 = v5 & 0xFFFFFFFFFFFFFFFCLL | v3 & 3;
    unint64_t v8 = v6 & 0xFFFFFFFFFFFF0000;
    if (!v4) {
      unint64_t v8 = v7;
    }
    return v8 | 8;
  }
}

void *sub_BCBBC(void *__src, uint64_t a2, void *__dst, uint64_t a4)
{
  if (__src) {
    uint64_t v5 = a2 - (void)__src;
  }
  else {
    uint64_t v5 = 0;
  }
  if (!__dst)
  {
    if (v5 <= 0) {
      return __src;
    }
LABEL_12:
    __src = (void *)sub_299510();
    __break(1u);
    return __src;
  }
  if (a4 - (uint64_t)__dst < v5) {
    goto LABEL_12;
  }
  if (__src)
  {
    return memmove(__dst, __src, a2 - (void)__src);
  }
  return __src;
}

uint64_t type metadata accessor for ExecuteMusicOnRemoteFlow()
{
  uint64_t result = qword_30ECE0;
  if (!qword_30ECE0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_BCCAC@<X0>(uint64_t (*a1)(void)@<X0>, uint64_t *a2@<X8>)
{
  uint64_t result = a1();
  *a2 = result;
  return result;
}

unsigned __int8 *sub_BCCDC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v13 = a1;
  uint64_t v14 = a2;
  swift_bridgeObjectRetain();
  uint64_t v5 = sub_298B00();
  unint64_t v6 = v4;
  if ((v4 & 0x1000000000000000) == 0)
  {
    if ((v4 & 0x2000000000000000) == 0) {
      goto LABEL_3;
    }
LABEL_6:
    uint64_t v8 = HIBYTE(v6) & 0xF;
    uint64_t v13 = v5;
    uint64_t v14 = v6 & 0xFFFFFFFFFFFFFFLL;
    unint64_t v7 = (unsigned __int8 *)&v13;
    goto LABEL_7;
  }
  uint64_t v5 = sub_BD040();
  unint64_t v10 = v9;
  swift_bridgeObjectRelease();
  unint64_t v6 = v10;
  if ((v10 & 0x2000000000000000) != 0) {
    goto LABEL_6;
  }
LABEL_3:
  if ((v5 & 0x1000000000000000) != 0)
  {
    unint64_t v7 = (unsigned __int8 *)((v6 & 0xFFFFFFFFFFFFFFFLL) + 32);
    uint64_t v8 = v5 & 0xFFFFFFFFFFFFLL;
  }
  else
  {
    unint64_t v7 = (unsigned __int8 *)sub_299400();
  }
LABEL_7:
  uint64_t v11 = sub_BCDC4(v7, v8, a3);
  swift_bridgeObjectRelease();
  return v11;
}

unsigned __int8 *sub_BCDC4(unsigned __int8 *result, uint64_t a2, uint64_t a3)
{
  uint64_t v3 = a2;
  int v4 = *result;
  if (v4 != 43)
  {
    if (v4 == 45)
    {
      if (a2 >= 1)
      {
        uint64_t v5 = a2 - 1;
        if (a2 != 1)
        {
          unsigned __int8 v6 = a3 + 48;
          unsigned __int8 v7 = a3 + 55;
          unsigned __int8 v8 = a3 + 87;
          if (a3 > 10)
          {
            unsigned __int8 v6 = 58;
          }
          else
          {
            unsigned __int8 v8 = 97;
            unsigned __int8 v7 = 65;
          }
          if (result)
          {
            uint64_t v9 = 0;
            for (i = result + 1; ; ++i)
            {
              unsigned int v11 = *i;
              if (v11 < 0x30 || v11 >= v6)
              {
                if (v11 < 0x41 || v11 >= v7)
                {
                  if (v11 < 0x61 || v11 >= v8) {
                    return 0;
                  }
                  char v12 = -87;
                }
                else
                {
                  char v12 = -55;
                }
              }
              else
              {
                char v12 = -48;
              }
              uint64_t v13 = v9 * a3;
              if ((unsigned __int128)(v9 * (__int128)a3) >> 64 != (v9 * a3) >> 63) {
                return 0;
              }
              uint64_t v9 = v13 - (v11 + v12);
              if (__OFSUB__(v13, (v11 + v12))) {
                return 0;
              }
              if (!--v5) {
                return (unsigned __int8 *)v9;
              }
            }
          }
          return 0;
        }
        return 0;
      }
      __break(1u);
      goto LABEL_65;
    }
    if (a2)
    {
      unsigned __int8 v22 = a3 + 48;
      unsigned __int8 v23 = a3 + 55;
      unsigned __int8 v24 = a3 + 87;
      if (a3 > 10)
      {
        unsigned __int8 v22 = 58;
      }
      else
      {
        unsigned __int8 v24 = 97;
        unsigned __int8 v23 = 65;
      }
      if (result)
      {
        uint64_t v25 = 0;
        do
        {
          unsigned int v26 = *result;
          if (v26 < 0x30 || v26 >= v22)
          {
            if (v26 < 0x41 || v26 >= v23)
            {
              if (v26 < 0x61 || v26 >= v24) {
                return 0;
              }
              char v27 = -87;
            }
            else
            {
              char v27 = -55;
            }
          }
          else
          {
            char v27 = -48;
          }
          uint64_t v28 = v25 * a3;
          if ((unsigned __int128)(v25 * (__int128)a3) >> 64 != (v25 * a3) >> 63) {
            return 0;
          }
          uint64_t v25 = v28 + (v26 + v27);
          if (__OFADD__(v28, (v26 + v27))) {
            return 0;
          }
          ++result;
          --v3;
        }
        while (v3);
        return (unsigned __int8 *)(v28 + (v26 + v27));
      }
      return 0;
    }
    return 0;
  }
  if (a2 < 1)
  {
LABEL_65:
    __break(1u);
    return result;
  }
  uint64_t v14 = a2 - 1;
  if (a2 == 1) {
    return 0;
  }
  unsigned __int8 v15 = a3 + 48;
  unsigned __int8 v16 = a3 + 55;
  unsigned __int8 v17 = a3 + 87;
  if (a3 > 10)
  {
    unsigned __int8 v15 = 58;
  }
  else
  {
    unsigned __int8 v17 = 97;
    unsigned __int8 v16 = 65;
  }
  if (!result) {
    return 0;
  }
  uint64_t v9 = 0;
  v18 = result + 1;
  do
  {
    unsigned int v19 = *v18;
    if (v19 < 0x30 || v19 >= v15)
    {
      if (v19 < 0x41 || v19 >= v16)
      {
        if (v19 < 0x61 || v19 >= v17) {
          return 0;
        }
        char v20 = -87;
      }
      else
      {
        char v20 = -55;
      }
    }
    else
    {
      char v20 = -48;
    }
    uint64_t v21 = v9 * a3;
    if ((unsigned __int128)(v9 * (__int128)a3) >> 64 != (v9 * a3) >> 63) {
      return 0;
    }
    uint64_t v9 = v21 + (v19 + v20);
    if (__OFADD__(v21, (v19 + v20))) {
      return 0;
    }
    ++v18;
    --v14;
  }
  while (v14);
  return (unsigned __int8 *)v9;
}

uint64_t sub_BD040()
{
  unint64_t v0 = sub_298B10();
  uint64_t v4 = sub_BD0C0(v0, v1, v2, v3);
  swift_bridgeObjectRelease();
  return v4;
}

uint64_t sub_BD0C0(unint64_t a1, unint64_t a2, unint64_t a3, unint64_t a4)
{
  if ((a4 & 0x1000000000000000) != 0)
  {
    uint64_t v9 = sub_BD218(a1, a2, a3, a4);
    if (!v9
      || (uint64_t v10 = v9,
          unsigned int v11 = sub_BCAD8(v9, 0),
          unint64_t v12 = sub_BD318((unint64_t)v14, (uint64_t)(v11 + 4), v10, a1, a2, a3, a4),
          swift_bridgeObjectRetain(),
          swift_bridgeObjectRelease(),
          v12 == v10))
    {
      uint64_t v13 = sub_298A30();
      swift_release();
      return v13;
    }
    __break(1u);
  }
  else
  {
    if ((a4 & 0x2000000000000000) != 0)
    {
      v14[0] = a3;
      v14[1] = a4 & 0xFFFFFFFFFFFFFFLL;
      return sub_298A30();
    }
    if ((a3 & 0x1000000000000000) != 0) {
      goto LABEL_4;
    }
  }
  sub_299400();
LABEL_4:

  return sub_298A30();
}

uint64_t sub_BD218(uint64_t a1, unint64_t a2, unint64_t a3, uint64_t a4)
{
  unint64_t v4 = a4;
  uint64_t v5 = a3;
  unint64_t v6 = a2;
  unint64_t v7 = a1;
  uint64_t v8 = (a3 >> 59) & 1;
  if ((a4 & 0x1000000000000000) == 0) {
    LOBYTE(v8) = 1;
  }
  uint64_t v9 = 4 << v8;
  if ((a1 & 0xC) == 4 << v8)
  {
    a1 = sub_BCB40(a1, a3, a4);
    unint64_t v7 = a1;
  }
  if ((v6 & 0xC) == v9)
  {
    a1 = sub_BCB40(v6, v5, v4);
    unint64_t v6 = a1;
    if ((v4 & 0x1000000000000000) == 0) {
      return (v6 >> 16) - (v7 >> 16);
    }
  }
  else if ((v4 & 0x1000000000000000) == 0)
  {
    return (v6 >> 16) - (v7 >> 16);
  }
  unint64_t v11 = HIBYTE(v4) & 0xF;
  if ((v4 & 0x2000000000000000) == 0) {
    unint64_t v11 = v5 & 0xFFFFFFFFFFFFLL;
  }
  if (v11 < v7 >> 16)
  {
    __break(1u);
  }
  else if (v11 >= v6 >> 16)
  {
    a1 = v7;
    a2 = v6;
    a3 = v5;
    a4 = v4;
    return String.UTF8View._foreignDistance(from:to:)(a1, a2, a3, a4);
  }
  __break(1u);
  return String.UTF8View._foreignDistance(from:to:)(a1, a2, a3, a4);
}

unint64_t sub_BD318(unint64_t result, uint64_t a2, uint64_t a3, unint64_t a4, unint64_t a5, unint64_t a6, unint64_t a7)
{
  uint64_t v9 = (void *)result;
  if (!a2) {
    goto LABEL_5;
  }
  if (!a3)
  {
    unint64_t v12 = a4;
    uint64_t v11 = 0;
    goto LABEL_33;
  }
  if (a3 < 0) {
    goto LABEL_36;
  }
  unint64_t v10 = a5 >> 14;
  unint64_t v27 = a4 >> 14;
  if (a4 >> 14 == a5 >> 14)
  {
LABEL_5:
    uint64_t v11 = 0;
    unint64_t v12 = a4;
LABEL_33:
    *uint64_t v9 = a4;
    v9[1] = a5;
    v9[2] = a6;
    v9[3] = a7;
    v9[4] = v12;
    return v11;
  }
  uint64_t v11 = 0;
  uint64_t v14 = (a6 >> 59) & 1;
  if ((a7 & 0x1000000000000000) == 0) {
    LOBYTE(v14) = 1;
  }
  uint64_t v15 = 4 << v14;
  uint64_t v21 = (a7 & 0xFFFFFFFFFFFFFFFLL) + 32;
  uint64_t v22 = a7 & 0xFFFFFFFFFFFFFFLL;
  uint64_t v16 = HIBYTE(a7) & 0xF;
  if ((a7 & 0x2000000000000000) == 0) {
    uint64_t v16 = a6 & 0xFFFFFFFFFFFFLL;
  }
  unint64_t v23 = v16;
  uint64_t v26 = a3 - 1;
  unint64_t v12 = a4;
  while (1)
  {
    unint64_t v17 = v12 & 0xC;
    uint64_t result = v12;
    if (v17 == v15) {
      uint64_t result = sub_BCB40(v12, a6, a7);
    }
    if (result >> 14 < v27 || result >> 14 >= v10) {
      break;
    }
    if ((a7 & 0x1000000000000000) != 0)
    {
      uint64_t result = sub_298AD0();
      char v19 = result;
      if (v17 != v15) {
        goto LABEL_23;
      }
    }
    else
    {
      unint64_t v18 = result >> 16;
      if ((a7 & 0x2000000000000000) != 0)
      {
        v28[0] = a6;
        v28[1] = v22;
        char v19 = *((unsigned char *)v28 + v18);
        if (v17 != v15) {
          goto LABEL_23;
        }
      }
      else
      {
        uint64_t result = v21;
        if ((a6 & 0x1000000000000000) == 0) {
          uint64_t result = sub_299400();
        }
        char v19 = *(unsigned char *)(result + v18);
        if (v17 != v15)
        {
LABEL_23:
          if ((a7 & 0x1000000000000000) == 0) {
            goto LABEL_24;
          }
          goto LABEL_27;
        }
      }
    }
    uint64_t result = sub_BCB40(v12, a6, a7);
    unint64_t v12 = result;
    if ((a7 & 0x1000000000000000) == 0)
    {
LABEL_24:
      unint64_t v12 = (v12 & 0xFFFFFFFFFFFF0000) + 65540;
      goto LABEL_29;
    }
LABEL_27:
    if (v23 <= v12 >> 16) {
      goto LABEL_35;
    }
    unint64_t v12 = sub_298AA0();
LABEL_29:
    *(unsigned char *)(a2 + v11) = v19;
    if (v26 == v11)
    {
      uint64_t v11 = a3;
      goto LABEL_33;
    }
    ++v11;
    if (v10 == v12 >> 14) {
      goto LABEL_33;
    }
  }
  __break(1u);
LABEL_35:
  __break(1u);
LABEL_36:
  __break(1u);
  return result;
}

uint64_t sub_BD52C(void *a1)
{
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  unint64_t v6 = &v25[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v4);
  uint64_t v8 = &v25[-v7];
  id v9 = [a1 dictionary];
  if (!v9)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v15 = sub_6E60(v2, (uint64_t)qword_31FC08);
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v3 + 16))(v6, v15, v2);
    uint64_t v16 = sub_2987E0();
    os_log_type_t v17 = sub_298DB0();
    if (os_log_type_enabled(v16, v17))
    {
      unint64_t v18 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v18 = 0;
      _os_log_impl(&dword_0, v16, v17, "ExecuteMusicOnRemoteFlow#serializeCommandAsPList failed to serialize command to dictionary", v18, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(unsigned char *, uint64_t))(v3 + 8))(v6, v2);
    return 0;
  }
  unint64_t v10 = v9;
  uint64_t v11 = self;
  id v26 = 0;
  id v12 = [v11 dataWithPropertyList:v10 format:200 options:0 error:&v26];
  id v13 = v26;
  if (!v12)
  {
    char v19 = v13;
    sub_2935B0();

    swift_willThrow();
    swift_errorRelease();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v20 = sub_6E60(v2, (uint64_t)qword_31FC08);
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v3 + 16))(v8, v20, v2);
    uint64_t v21 = sub_2987E0();
    os_log_type_t v22 = sub_298DB0();
    if (os_log_type_enabled(v21, v22))
    {
      unint64_t v23 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v23 = 0;
      _os_log_impl(&dword_0, v21, v22, "ExecuteMusicOnRemoteFlow#serializeCommandAsPList failed to serialize command to pList", v23, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(unsigned char *, uint64_t))(v3 + 8))(v8, v2);
    return 0;
  }
  uint64_t v14 = sub_293620();

  return v14;
}

id sub_BD8B4(void *a1, uint64_t a2, unint64_t a3)
{
  id v46 = a1;
  uint64_t v5 = sub_298800();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = __chkstk_darwin(v5);
  id v9 = (char *)&v43 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v43 - v10;
  if (a3)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v12 = sub_6E60(v5, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v6 + 16))(v11, v12, v5);
    id v13 = v46;
    swift_bridgeObjectRetain_n();
    id v14 = v13;
    uint64_t v15 = sub_2987E0();
    int v16 = sub_298D90();
    if (os_log_type_enabled(v15, (os_log_type_t)v16))
    {
      int v45 = v16;
      v43 = v15;
      uint64_t v17 = swift_slowAlloc();
      uint64_t v44 = swift_slowAlloc();
      uint64_t v48 = v44;
      *(_DWORD *)uint64_t v17 = 136315650;
      swift_bridgeObjectRetain();
      id v46 = (id)a2;
      uint64_t v47 = sub_6E98(a2, a3, &v48);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v17 + 12) = 2080;
      id v18 = [v14 refId];
      if (v18)
      {
        char v19 = v18;
        uint64_t v20 = sub_2989C0();
        unint64_t v22 = v21;
      }
      else
      {
        unint64_t v22 = 0xE500000000000000;
        uint64_t v20 = 0x3E4C494E3CLL;
      }
      uint64_t v47 = sub_6E98(v20, v22, &v48);
      sub_2992C0();

      swift_bridgeObjectRelease();
      *(_WORD *)(v17 + 22) = 2080;
      id v29 = [v14 aceId];
      if (v29)
      {
        v30 = v29;
        uint64_t v31 = sub_2989C0();
        unint64_t v33 = v32;

        v34 = v43;
      }
      else
      {
        unint64_t v33 = 0xE500000000000000;
        v34 = v43;
        uint64_t v31 = 0x3E4C494E3CLL;
      }
      uint64_t v47 = sub_6E98(v31, v33, &v48);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v34, (os_log_type_t)v45, "ExecuteMusicOnRemoteFlow#wrapCommandForExecution wrapping command for remote execution with assistantID: '%s', refID: '%s', aceID: '%s'", (uint8_t *)v17, 0x20u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v6 + 8))(v11, v5);
      a2 = (uint64_t)v46;
    }
    else
    {

      swift_bridgeObjectRelease_n();
      (*(void (**)(char *, uint64_t))(v6 + 8))(v11, v5);
    }
    id v35 = [objc_allocWithZone((Class)SAExecuteOnRemoteRequest) init];
    uint64_t v36 = sub_BD52C(v14);
    unint64_t v38 = v37;
    Class isa = sub_293610().super.isa;
    sub_BDFFC(v36, v38);
    [v35 setSerializedCommand:isa];

    id v40 = [objc_allocWithZone((Class)SARemoteDevice) init];
    uint64_t v41 = HIBYTE(a3) & 0xF;
    if ((a3 & 0x2000000000000000) == 0) {
      uint64_t v41 = a2 & 0xFFFFFFFFFFFFLL;
    }
    if (v41)
    {
      NSString v42 = sub_2989B0();
      [v40 setAssistantId:v42];
    }
    [v40 setSiriEnabled:1];
    [v35 setRemoteDevice:v40];
    [v35 setShouldFallbackOnAWDL:0];

    return v35;
  }
  else
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v23 = sub_6E60(v5, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v6 + 16))(v9, v23, v5);
    unsigned __int8 v24 = sub_2987E0();
    os_log_type_t v25 = sub_298D90();
    if (os_log_type_enabled(v24, v25))
    {
      id v26 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v26 = 0;
      _os_log_impl(&dword_0, v24, v25, "ExecuteMusicOnRemoteFlow#wrapCommandForExecution wrapping command for remote execution skipped because of null assistantID", v26, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v6 + 8))(v9, v5);
    id v27 = v46;
    return v27;
  }
}

uint64_t sub_BDEB0(uint64_t a1)
{
  uint64_t v4 = swift_task_alloc();
  long long v5 = *(_OWORD *)(v1 + 16);
  *(void *)(v2 + 16) = v4;
  *(void *)uint64_t v4 = v2;
  *(void *)(v4 + 8) = sub_14480;
  *(_OWORD *)(v4 + 24) = v5;
  *(void *)(v4 + 16) = a1;
  return _swift_task_switch(sub_B914C, 0, 0);
}

uint64_t sub_BDF64()
{
  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_BDF9C()
{
  return sub_1DC374(*(void **)(v0 + 16));
}

uint64_t sub_BDFA4(uint64_t a1, unint64_t a2)
{
  if (a2 >> 62 != 1)
  {
    if (a2 >> 62 != 2) {
      return result;
    }
    swift_retain();
  }

  return swift_retain();
}

uint64_t sub_BDFFC(uint64_t a1, unint64_t a2)
{
  if (a2 >> 62 != 1)
  {
    if (a2 >> 62 != 2) {
      return result;
    }
    swift_release();
  }

  return swift_release();
}

uint64_t sub_BE054(uint64_t result)
{
  if (result) {
    return swift_release();
  }
  return result;
}

uint64_t sub_BE064()
{
  return sub_124A4(&qword_30EC78, (void (*)(uint64_t))type metadata accessor for ExecuteMusicOnRemoteFlow);
}

uint64_t sub_BE0AC()
{
  return sub_124A4(&qword_30EBF0, (void (*)(uint64_t))type metadata accessor for ExecuteMusicOnRemoteFlow);
}

uint64_t sub_BE0F4()
{
  return type metadata accessor for ExecuteMusicOnRemoteFlow();
}

void sub_BE0FC()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

void sub_BE1DC()
{
  if (!qword_30ECF0)
  {
    sub_295060();
    unint64_t v0 = sub_2992A0();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_30ECF0);
    }
  }
}

uint64_t initializeBufferWithCopyOfBuffer for ExecuteOnRemoteFlowResult(uint64_t a1, uint64_t a2)
{
  id v3 = *(id *)a2;
  char v4 = *(unsigned char *)(a2 + 8);
  sub_BE27C(*(id *)a2, v4);
  *(void *)a1 = v3;
  *(unsigned char *)(a1 + 8) = v4;
  return a1;
}

id sub_BE27C(id result, char a2)
{
  if (a2 == 2 || a2 == 1) {
    return (id)swift_errorRetain();
  }
  if (!a2) {
    return result;
  }
  return result;
}

void destroy for ExecuteOnRemoteFlowResult(uint64_t a1)
{
}

void sub_BE2B0(id a1, char a2)
{
  if (a2 == 2 || a2 == 1)
  {
    swift_errorRelease();
  }
  else if (!a2)
  {
  }
}

uint64_t *assignWithCopy for ExecuteOnRemoteFlowResult(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  return sub_BE71C(a1, a2, a3, (void (*)(void, void))sub_BE27C, (void (*)(uint64_t, uint64_t))sub_BE2B0);
}

uint64_t assignWithTake for ExecuteOnRemoteFlowResult(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 8);
  char v4 = *(void **)a1;
  *(void *)a1 = *(void *)a2;
  char v5 = *(unsigned char *)(a1 + 8);
  *(unsigned char *)(a1 + 8) = v3;
  sub_BE2B0(v4, v5);
  return a1;
}

uint64_t getEnumTagSinglePayload for ExecuteOnRemoteFlowResult(uint64_t a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0xFD && *(unsigned char *)(a1 + 9)) {
    return (*(_DWORD *)a1 + 253);
  }
  unsigned int v3 = *(unsigned __int8 *)(a1 + 8);
  if (v3 <= 3) {
    int v4 = -1;
  }
  else {
    int v4 = v3 ^ 0xFF;
  }
  return (v4 + 1);
}

uint64_t storeEnumTagSinglePayload for ExecuteOnRemoteFlowResult(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFC)
  {
    *(unsigned char *)(result + 8) = 0;
    *(void *)uint64_t result = a2 - 253;
    if (a3 >= 0xFD) {
      *(unsigned char *)(result + 9) = 1;
    }
  }
  else
  {
    if (a3 >= 0xFD) {
      *(unsigned char *)(result + 9) = 0;
    }
    if (a2) {
      *(unsigned char *)(result + 8) = -(char)a2;
    }
  }
  return result;
}

uint64_t sub_BE3CC(uint64_t a1)
{
  if (*(unsigned __int8 *)(a1 + 8) <= 2u) {
    return *(unsigned __int8 *)(a1 + 8);
  }
  else {
    return (*(_DWORD *)a1 + 3);
  }
}

uint64_t sub_BE3E4(uint64_t result, unsigned int a2)
{
  if (a2 >= 3)
  {
    *(void *)uint64_t result = a2 - 3;
    LOBYTE(a2) = 3;
  }
  *(unsigned char *)(result + 8) = a2;
  return result;
}

ValueMetadata *type metadata accessor for ExecuteOnRemoteFlowResult()
{
  return &type metadata for ExecuteOnRemoteFlowResult;
}

uint64_t destroy for ExecuteOnRemoteFlowPayload(uint64_t a1)
{
  uint64_t result = swift_bridgeObjectRelease();
  if (*(void *)(a1 + 16))
  {
    return swift_release();
  }
  return result;
}

void *initializeWithCopy for ExecuteOnRemoteFlowPayload(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  a1[1] = v4;
  uint64_t v6 = a2 + 2;
  uint64_t v5 = a2[2];
  swift_bridgeObjectRetain();
  if (v5)
  {
    uint64_t v7 = a2[3];
    a1[2] = v5;
    a1[3] = v7;
    swift_retain();
  }
  else
  {
    *((_OWORD *)a1 + 1) = *v6;
  }
  return a1;
}

void *assignWithCopy for ExecuteOnRemoteFlowPayload(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v4 = a2[2];
  if (!a1[2])
  {
    if (v4)
    {
      uint64_t v6 = a2[3];
      a1[2] = v4;
      a1[3] = v6;
      swift_retain();
      return a1;
    }
LABEL_7:
    *((_OWORD *)a1 + 1) = *((_OWORD *)a2 + 1);
    return a1;
  }
  if (!v4)
  {
    swift_release();
    goto LABEL_7;
  }
  uint64_t v5 = a2[3];
  a1[2] = v4;
  a1[3] = v5;
  swift_retain();
  swift_release();
  return a1;
}

__n128 initializeWithTake for ExecuteOnRemoteFlowPayload(_OWORD *a1, uint64_t a2)
{
  __n128 result = *(__n128 *)a2;
  long long v3 = *(_OWORD *)(a2 + 16);
  *a1 = *(_OWORD *)a2;
  a1[1] = v3;
  return result;
}

void *assignWithTake for ExecuteOnRemoteFlowPayload(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  a1[1] = v4;
  swift_bridgeObjectRelease();
  uint64_t v5 = a2[2];
  if (!a1[2])
  {
    if (v5)
    {
      uint64_t v7 = a2[3];
      a1[2] = v5;
      a1[3] = v7;
      return a1;
    }
LABEL_7:
    *((_OWORD *)a1 + 1) = *((_OWORD *)a2 + 1);
    return a1;
  }
  if (!v5)
  {
    swift_release();
    goto LABEL_7;
  }
  uint64_t v6 = a2[3];
  a1[2] = v5;
  a1[3] = v6;
  swift_release();
  return a1;
}

uint64_t getEnumTagSinglePayload for ExecuteOnRemoteFlowPayload(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 32)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ExecuteOnRemoteFlowPayload(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 16) = 0;
    *(void *)(result + 24) = 0;
    *(void *)__n128 result = a2 ^ 0x80000000;
    *(void *)(result + 8) = 0;
    if (a3 < 0) {
      *(unsigned char *)(result + 32) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 32) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ExecuteOnRemoteFlowPayload()
{
  return &type metadata for ExecuteOnRemoteFlowPayload;
}

uint64_t initializeBufferWithCopyOfBuffer for ExecuteMusicOnRemoteFlow.State(uint64_t a1, uint64_t a2)
{
  id v3 = *(id *)a2;
  char v4 = *(unsigned char *)(a2 + 8);
  sub_B2194(*(id *)a2, v4);
  *(void *)a1 = v3;
  *(unsigned char *)(a1 + 8) = v4;
  return a1;
}

void destroy for ExecuteMusicOnRemoteFlow.State(uint64_t a1)
{
}

uint64_t *assignWithCopy for ExecuteMusicOnRemoteFlow.State(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  return sub_BE71C(a1, a2, a3, (void (*)(void, void))sub_B2194, (void (*)(uint64_t, uint64_t))sub_B21E0);
}

uint64_t *sub_BE71C(uint64_t *a1, uint64_t *a2, uint64_t a3, void (*a4)(void, void), void (*a5)(uint64_t, uint64_t))
{
  uint64_t v7 = *a2;
  unsigned __int8 v8 = *((unsigned char *)a2 + 8);
  a4(*a2, v8);
  uint64_t v9 = *a1;
  *a1 = v7;
  uint64_t v10 = *((unsigned __int8 *)a1 + 8);
  *((unsigned char *)a1 + 8) = v8;
  a5(v9, v10);
  return a1;
}

uint64_t assignWithTake for ExecuteMusicOnRemoteFlow.State(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 8);
  char v4 = *(void **)a1;
  *(void *)a1 = *(void *)a2;
  char v5 = *(unsigned char *)(a1 + 8);
  *(unsigned char *)(a1 + 8) = v3;
  sub_B21E0(v4, v5);
  return a1;
}

uint64_t getEnumTagSinglePayload for ExecuteMusicOnRemoteFlow.State(uint64_t a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0xFC && *(unsigned char *)(a1 + 9)) {
    return (*(_DWORD *)a1 + 252);
  }
  unsigned int v3 = *(unsigned __int8 *)(a1 + 8);
  if (v3 <= 4) {
    int v4 = -1;
  }
  else {
    int v4 = v3 ^ 0xFF;
  }
  return (v4 + 1);
}

uint64_t storeEnumTagSinglePayload for ExecuteMusicOnRemoteFlow.State(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFB)
  {
    *(unsigned char *)(result + 8) = 0;
    *(void *)__n128 result = a2 - 252;
    if (a3 >= 0xFC) {
      *(unsigned char *)(result + 9) = 1;
    }
  }
  else
  {
    if (a3 >= 0xFC) {
      *(unsigned char *)(result + 9) = 0;
    }
    if (a2) {
      *(unsigned char *)(result + 8) = -(char)a2;
    }
  }
  return result;
}

uint64_t sub_BE848(uint64_t a1)
{
  if (*(unsigned __int8 *)(a1 + 8) <= 3u) {
    return *(unsigned __int8 *)(a1 + 8);
  }
  else {
    return (*(_DWORD *)a1 + 4);
  }
}

uint64_t sub_BE860(uint64_t result, unsigned int a2)
{
  if (a2 >= 4)
  {
    *(void *)__n128 result = a2 - 4;
    LOBYTE(a2) = 4;
  }
  *(unsigned char *)(result + 8) = a2;
  return result;
}

ValueMetadata *type metadata accessor for ExecuteMusicOnRemoteFlow.State()
{
  return &type metadata for ExecuteMusicOnRemoteFlow.State;
}

uint64_t sub_BE888(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_BAB00(a1, a2, a3, a4, a5, v5);
}

uint64_t sub_BE890(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_BAA6C(a1, a2, a3, a4, a5, v5);
}

uint64_t sub_BE898(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_BA9D4(a1, a2, a3, a4, a5, v5);
}

uint64_t sub_BE8A0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_BA940(a1, a2, a3, a4, a5, v5);
}

uint64_t sub_BE8A8(uint64_t a1)
{
  return sub_BBB5C(a1, *(void (***)(unint64_t, uint64_t, long long *, uint64_t (*)(void (*)(char *, char *)), uint64_t))(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32), *(void *)(v1 + 40));
}

uint64_t sub_BE8B4()
{
  uint64_t v1 = sub_71D4(&qword_30EE80);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_BE984(void (*a1)(char *, char *))
{
  uint64_t v3 = *(void *)(sub_71D4(&qword_30EE80) - 8);
  uint64_t v4 = *(void *)(v1 + 16);
  uint64_t v5 = v1 + ((*(unsigned __int8 *)(v3 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_BBD94(a1, v4, v5);
}

uint64_t sub_BE9FC()
{
  uint64_t v1 = sub_71D4(&qword_30EE80);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_BEA90(uint64_t a1)
{
  sub_71D4(&qword_30EE80);

  return sub_BBEDC(a1);
}

uint64_t getEnumTagSinglePayload for ExecuteOnRemoteError(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFD) {
    goto LABEL_17;
  }
  if (a2 + 3 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 3) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 3;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 3;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 3;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 4;
  int v8 = v6 - 4;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for ExecuteOnRemoteError(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 3 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 3) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFD) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFC)
  {
    unsigned int v6 = ((a2 - 253) >> 8) + 1;
    *__n128 result = a2 + 3;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0xBEC60);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *__n128 result = a2 + 3;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ExecuteOnRemoteError()
{
  return &type metadata for ExecuteOnRemoteError;
}

unint64_t sub_BEC9C()
{
  unint64_t result = qword_30EE98;
  if (!qword_30EE98)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30EE98);
  }
  return result;
}

uint64_t sub_BECF8@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_BED0C(a1, (unint64_t *)&qword_317810, (uint64_t)INPlayMediaIntent_ptr, a2);
}

uint64_t sub_BED0C@<X0>(uint64_t a1@<X0>, unint64_t *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  id v26 = a2;
  uint64_t v27 = a3;
  uint64_t v28 = a1;
  uint64_t v5 = sub_2981F0();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  int v8 = (char *)&v24 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4(&qword_30EF58);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v24 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_298800();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v24 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v12, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v15, v16, v12);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298DA0();
  if (os_log_type_enabled(v17, v18))
  {
    char v19 = (uint8_t *)swift_slowAlloc();
    os_log_type_t v25 = v11;
    *(_WORD *)char v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "CommonNLContextProvider: makeContextForUnsupportedIntent clearing conversation state", v19, 2u);
    uint64_t v11 = v25;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  sub_2948B0();
  sub_71D4(&qword_3107B0);
  uint64_t v20 = swift_allocObject();
  *(_OWORD *)(v20 + 16) = xmmword_29A8D0;
  sub_1983C(0, v26);
  *(void *)(v20 + 32) = sub_294FF0();
  uint64_t v29 = v20;
  sub_298B70();
  sub_294840();
  (*(void (**)(char *, void, uint64_t))(v6 + 104))(v8, enum case for PommesContext.Source.pluginDefined(_:), v5);
  sub_298200();
  uint64_t v21 = sub_298210();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v11, 0, 1, v21);
  sub_2947E0();
  uint64_t v22 = sub_2948C0();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v22 - 8) + 56))(a4, 0, 1, v22);
}

uint64_t sub_BF0D0@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v24 = a1;
  uint64_t v3 = sub_2981F0();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v22 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4(&qword_30EF58);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v22 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v23 = v9;
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "CommonNLContextProvider: makeContextForUnsupportedIntent clearing conversation state", v17, 2u);
    uint64_t v9 = v23;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  sub_2948B0();
  sub_71D4(&qword_3107B0);
  uint64_t v18 = swift_allocObject();
  *(_OWORD *)(v18 + 16) = xmmword_29A8D0;
  type metadata accessor for DetermineIntent();
  *(void *)(v18 + 32) = sub_294FF0();
  uint64_t v25 = v18;
  sub_298B70();
  sub_294840();
  (*(void (**)(char *, void, uint64_t))(v4 + 104))(v6, enum case for PommesContext.Source.pluginDefined(_:), v3);
  sub_298200();
  uint64_t v19 = sub_298210();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v9, 0, 1, v19);
  sub_2947E0();
  uint64_t v20 = sub_2948C0();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v20 - 8) + 56))(a2, 0, 1, v20);
}

uint64_t sub_BF48C@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_BED0C(a1, &qword_30DC98, (uint64_t)INUpdateMediaAffinityIntent_ptr, a2);
}

uint64_t Determine.UnsupportedValueStrategy.deinit()
{
  swift_release();
  sub_7184(v0 + 24);
  sub_7184(v0 + 64);
  return v0;
}

uint64_t protocol witness for UnsupportedValueFlowStrategy.makeUnsupportedValueOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:) in conformance AddMedia.UnsupportedValueStrategy(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8)
{
  return sub_BF5F4(a1, a2, a3, a4, a5, a6, a7, a8, (uint64_t)&unk_2F6730, (uint64_t)sub_C18F4);
}

unint64_t sub_BF518(uint64_t a1)
{
  unint64_t result = sub_BF540();
  *(void *)(a1 + 8) = result;
  return result;
}

unint64_t sub_BF540()
{
  unint64_t result = qword_30EEA0;
  if (!qword_30EEA0)
  {
    type metadata accessor for AddMedia.UnsupportedValueStrategy();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30EEA0);
  }
  return result;
}

uint64_t type metadata accessor for AddMedia.UnsupportedValueStrategy()
{
  return self;
}

uint64_t sub_BF5B8(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8)
{
  return sub_BF5F4(a1, a2, a3, a4, a5, a6, a7, a8, (uint64_t)&unk_2F6708, (uint64_t)sub_C1878);
}

uint64_t sub_BF5F4(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v32 = a8;
  v34 = a6;
  uint64_t v35 = a3;
  uint64_t v31 = a4;
  uint64_t v36 = a10;
  uint64_t v37 = a5;
  uint64_t v13 = sub_298800();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  os_log_type_t v16 = (char *)&v30 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_6E60(v13, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v16, v17, v13);
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DA0();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v20 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v20 = 0;
    _os_log_impl(&dword_0, v18, v19, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput", v20, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
  uint64_t v21 = v33;
  uint64_t v22 = *(void *)(v33 + 16);
  uint64_t v23 = (void *)swift_allocObject();
  v23[2] = v21;
  v23[3] = a1;
  v23[4] = a2;
  v23[5] = a7;
  uint64_t v24 = v31;
  id v26 = v34;
  uint64_t v25 = v35;
  v23[6] = v32;
  v23[7] = v25;
  v23[8] = v24;
  v23[9] = v26;
  v30 = *(void (**)(uint64_t, uint64_t, uint64_t, id, id, uint64_t, void, uint64_t, void *))(*(void *)v22 + 200);
  swift_retain();
  swift_retain();
  swift_retain();
  id v27 = a2;
  swift_retain();
  swift_bridgeObjectRetain();
  id v28 = v26;
  v30(a1, v25, v24, v28, v27, v37, 0, v36, v23);
  swift_release();
  return swift_release();
}

uint64_t sub_BF88C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v20 = type metadata accessor for AddMedia.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeUpdatedIntentForUnsupportedValue(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, v20, a10);
}

uint64_t sub_BF924(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v20 = type metadata accessor for AddMedia.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeLaunchAppWithIntentOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, v20, a10);
}

uint64_t sub_BF9BC(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t *), uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v107 = a8;
  uint64_t v105 = a7;
  v121 = a5;
  uint64_t v122 = a6;
  v123 = a2;
  uint64_t v124 = a4;
  uint64_t v120 = a3;
  v109 = (char *)a1;
  uint64_t v106 = sub_297270();
  uint64_t v104 = *(void *)(v106 - 8);
  __chkstk_darwin(v106);
  uint64_t v10 = (char *)v98 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v11 - 8);
  v116 = (void *)((char *)v98 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v13 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v13 - 8);
  v119 = (char *)v98 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v15 - 8);
  v118 = (char *)v98 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v17 - 8);
  v117 = (char *)v98 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_297280();
  uint64_t v114 = *(void *)(v19 - 8);
  v115 = (void *)v19;
  __chkstk_darwin(v19);
  v111 = (char *)v98 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v113 = sub_297210();
  uint64_t v112 = *(void *)(v113 - 8);
  __chkstk_darwin(v113);
  v110 = (char *)v98 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_71D4(&qword_30D030);
  uint64_t v23 = __chkstk_darwin(v22);
  uint64_t v25 = (char *)v98 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  id v27 = (char *)v98 - v26;
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v32 = (char *)v98 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v30);
  v34 = (char *)v98 - v33;
  uint64_t v35 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v35);
  uint64_t v37 = (void *)((char *)v98 - ((v36 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0((uint64_t)v109, (uint64_t)v37);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v38 = *v37;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v39 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v34, v39, v28);
    swift_errorRetain();
    swift_errorRetain();
    id v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    if (os_log_type_enabled(v40, v41))
    {
      NSString v42 = (uint8_t *)swift_slowAlloc();
      v116 = (void *)swift_slowAlloc();
      *(_DWORD *)NSString v42 = 138412290;
      swift_errorRetain();
      uint64_t v43 = _swift_stdlib_bridgeErrorToNSError();
      v125[0] = v43;
      sub_2992C0();
      void *v116 = v43;
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v40, v41, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput dialog provider failed with error: %@", v42, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v34, v28);
    uint64_t v82 = v112;
    v83 = v110;
    uint64_t v84 = v113;
    (*(void (**)(char *, void, uint64_t))(v112 + 104))(v110, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v113);
    uint64_t v86 = v114;
    v85 = v115;
    v87 = v111;
    (*(void (**)(char *, void, void *))(v114 + 104))(v111, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v115);
    swift_getErrorValue();
    sub_299620();
    v116 = (void *)sub_297230();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, void *))(v86 + 8))(v87, v85);
    (*(void (**)(char *, uint64_t))(v82 + 8))(v83, v84);
    v123 = sub_74A4(v123 + 3, v123[6]);
    uint64_t v88 = enum case for ActivityType.failed(_:);
    uint64_t v89 = sub_2944C0();
    uint64_t v90 = *(void *)(v89 - 8);
    uint64_t v91 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v90 + 104))(v117, v88, v89);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v90 + 56))(v91, 0, 1, v89);
    uint64_t v92 = sub_2949F0();
    uint64_t v93 = (uint64_t)v118;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v92 - 8) + 56))(v118, 1, 1, v92);
    uint64_t v94 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v95 = sub_294170();
    uint64_t v96 = *(void *)(v95 - 8);
    uint64_t v97 = (uint64_t)v119;
    (*(void (**)(char *, uint64_t, uint64_t))(v96 + 104))(v119, v94, v95);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v96 + 56))(v97, 0, 1, v95);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v97, &qword_30D5B8);
    sub_23A44(v93, (uint64_t *)&unk_30FA50);
    sub_23A44(v91, &qword_30D5C0);
    v125[0] = v38;
    char v126 = 1;
    swift_errorRetain();
    v121(v125);
    swift_errorRelease();
    return sub_23A44((uint64_t)v125, (uint64_t *)&unk_30FA80);
  }
  else
  {
    v101 = v25;
    v98[1] = a9;
    uint64_t v44 = *(int *)(v22 + 48);
    uint64_t v45 = sub_2949F0();
    uint64_t v103 = *(void *)(v45 - 8);
    id v46 = *(void (**)(char *, uint64_t, uint64_t))(v103 + 32);
    uint64_t v100 = v45;
    v99 = v46;
    v98[2] = v103 + 32;
    ((void (*)(char *, uint64_t *))v46)(v27, v37);
    uint64_t v47 = *(void **)((char *)v37 + v44);
    *(void *)&v27[v44] = v47;
    uint64_t v48 = qword_30C848;
    id v102 = v47;
    if (v48 != -1) {
      swift_once();
    }
    uint64_t v108 = v22;
    v109 = v27;
    uint64_t v49 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v32, v49, v28);
    v50 = sub_2987E0();
    os_log_type_t v51 = sub_298DC0();
    if (os_log_type_enabled(v50, v51))
    {
      v52 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)v52 = 0;
      _os_log_impl(&dword_0, v50, v51, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput acquired dialog.", v52, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v32, v28);
    sub_BED0C(v124, &qword_30E8B0, (uint64_t)INAddMediaIntent_ptr, (uint64_t)v116);
    uint64_t v53 = v112;
    v54 = v110;
    uint64_t v55 = v113;
    (*(void (**)(char *, void, uint64_t))(v112 + 104))(v110, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v113);
    uint64_t v57 = v114;
    v56 = v115;
    v58 = v111;
    (*(void (**)(char *, void, void *))(v114 + 104))(v111, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v115);
    uint64_t v59 = v104;
    uint64_t v60 = v106;
    (*(void (**)(char *, void, uint64_t))(v104 + 104))(v10, enum case for AdditionalMetricsDescription.StatusReason.slotResolve(_:), v106);
    uint64_t v107 = sub_297250();
    uint64_t v105 = v61;
    (*(void (**)(char *, uint64_t))(v59 + 8))(v10, v60);
    (*(void (**)(char *, void *))(v57 + 8))(v58, v56);
    (*(void (**)(char *, uint64_t))(v53 + 8))(v54, v55);
    uint64_t v62 = v123[6];
    uint64_t v113 = v123[7];
    v115 = sub_74A4(v123 + 3, v62);
    uint64_t v63 = enum case for ActivityType.resolveSlotUnsupported(_:);
    uint64_t v64 = sub_2944C0();
    uint64_t v65 = *(void *)(v64 - 8);
    uint64_t v66 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v65 + 104))(v117, v63, v64);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v65 + 56))(v66, 0, 1, v64);
    uint64_t v67 = *(int *)(v108 + 48);
    uint64_t v68 = v103;
    uint64_t v114 = *(void *)(v103 + 16);
    uint64_t v69 = (uint64_t)v101;
    uint64_t v70 = v100;
    ((void (*)(char *, char *, uint64_t))v114)(v101, v109, v100);
    *(void *)(v69 + v67) = v102;
    uint64_t v71 = (uint64_t)v118;
    v99(v118, v69, v70);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v68 + 56))(v71, 0, 1, v70);
    uint64_t v72 = enum case for SiriKitReliabilityCodes.slotResolutionFailure(_:);
    uint64_t v73 = sub_294170();
    uint64_t v74 = *(void *)(v73 - 8);
    uint64_t v75 = (uint64_t)v119;
    (*(void (**)(char *, uint64_t, uint64_t))(v74 + 104))(v119, v72, v73);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v74 + 56))(v75, 0, 1, v73);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v75, &qword_30D5B8);
    sub_23A44(v71, (uint64_t *)&unk_30FA50);
    sub_23A44(v66, &qword_30D5C0);
    sub_74A4(v123 + 8, v123[11]);
    uint64_t v76 = *(int *)(v108 + 48);
    uint64_t v77 = (uint64_t)v109;
    ((void (*)(uint64_t, char *, uint64_t))v114)(v69, v109, v70);
    v78 = v102;
    *(void *)(v69 + v76) = v102;
    v79 = v78;
    v80 = v116;
    sub_1CBD04(v69, v78, (uint64_t)v116, (uint64_t)_swiftEmptyArrayStorage, v121, v122);

    sub_23A44((uint64_t)v80, (uint64_t *)&unk_30FA70);
    sub_23A44(v77, &qword_30D030);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v103 + 8))(v69, v70);
  }
}

uint64_t sub_C0918(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t *), uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v107 = a8;
  uint64_t v105 = a7;
  v121 = a5;
  uint64_t v122 = a6;
  v123 = a2;
  uint64_t v124 = a4;
  uint64_t v120 = a3;
  v109 = (char *)a1;
  uint64_t v106 = sub_297270();
  uint64_t v104 = *(void *)(v106 - 8);
  __chkstk_darwin(v106);
  uint64_t v10 = (char *)v98 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v11 - 8);
  v116 = (void *)((char *)v98 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v13 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v13 - 8);
  v119 = (char *)v98 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v15 - 8);
  v118 = (char *)v98 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v17 - 8);
  v117 = (char *)v98 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_297280();
  uint64_t v114 = *(void *)(v19 - 8);
  v115 = (void *)v19;
  __chkstk_darwin(v19);
  v111 = (char *)v98 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v113 = sub_297210();
  uint64_t v112 = *(void *)(v113 - 8);
  __chkstk_darwin(v113);
  v110 = (char *)v98 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_71D4(&qword_30D030);
  uint64_t v23 = __chkstk_darwin(v22);
  uint64_t v25 = (char *)v98 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  id v27 = (char *)v98 - v26;
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v32 = (char *)v98 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v30);
  v34 = (char *)v98 - v33;
  uint64_t v35 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v35);
  uint64_t v37 = (void *)((char *)v98 - ((v36 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0((uint64_t)v109, (uint64_t)v37);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v38 = *v37;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v39 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v34, v39, v28);
    swift_errorRetain();
    swift_errorRetain();
    id v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    if (os_log_type_enabled(v40, v41))
    {
      NSString v42 = (uint8_t *)swift_slowAlloc();
      v116 = (void *)swift_slowAlloc();
      *(_DWORD *)NSString v42 = 138412290;
      swift_errorRetain();
      uint64_t v43 = _swift_stdlib_bridgeErrorToNSError();
      v125[0] = v43;
      sub_2992C0();
      void *v116 = v43;
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v40, v41, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput dialog provider failed with error: %@", v42, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v34, v28);
    uint64_t v82 = v112;
    v83 = v110;
    uint64_t v84 = v113;
    (*(void (**)(char *, void, uint64_t))(v112 + 104))(v110, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v113);
    uint64_t v86 = v114;
    v85 = v115;
    v87 = v111;
    (*(void (**)(char *, void, void *))(v114 + 104))(v111, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v115);
    swift_getErrorValue();
    sub_299620();
    v116 = (void *)sub_297230();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, void *))(v86 + 8))(v87, v85);
    (*(void (**)(char *, uint64_t))(v82 + 8))(v83, v84);
    v123 = sub_74A4(v123 + 3, v123[6]);
    uint64_t v88 = enum case for ActivityType.failed(_:);
    uint64_t v89 = sub_2944C0();
    uint64_t v90 = *(void *)(v89 - 8);
    uint64_t v91 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v90 + 104))(v117, v88, v89);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v90 + 56))(v91, 0, 1, v89);
    uint64_t v92 = sub_2949F0();
    uint64_t v93 = (uint64_t)v118;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v92 - 8) + 56))(v118, 1, 1, v92);
    uint64_t v94 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v95 = sub_294170();
    uint64_t v96 = *(void *)(v95 - 8);
    uint64_t v97 = (uint64_t)v119;
    (*(void (**)(char *, uint64_t, uint64_t))(v96 + 104))(v119, v94, v95);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v96 + 56))(v97, 0, 1, v95);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v97, &qword_30D5B8);
    sub_23A44(v93, (uint64_t *)&unk_30FA50);
    sub_23A44(v91, &qword_30D5C0);
    v125[0] = v38;
    char v126 = 1;
    swift_errorRetain();
    v121(v125);
    swift_errorRelease();
    return sub_23A44((uint64_t)v125, (uint64_t *)&unk_30FA80);
  }
  else
  {
    v101 = v25;
    v98[1] = a9;
    uint64_t v44 = *(int *)(v22 + 48);
    uint64_t v45 = sub_2949F0();
    uint64_t v103 = *(void *)(v45 - 8);
    id v46 = *(void (**)(char *, uint64_t, uint64_t))(v103 + 32);
    uint64_t v100 = v45;
    v99 = v46;
    v98[2] = v103 + 32;
    ((void (*)(char *, uint64_t *))v46)(v27, v37);
    uint64_t v47 = *(void **)((char *)v37 + v44);
    *(void *)&v27[v44] = v47;
    uint64_t v48 = qword_30C848;
    id v102 = v47;
    if (v48 != -1) {
      swift_once();
    }
    uint64_t v108 = v22;
    v109 = v27;
    uint64_t v49 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v32, v49, v28);
    v50 = sub_2987E0();
    os_log_type_t v51 = sub_298DC0();
    if (os_log_type_enabled(v50, v51))
    {
      v52 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)v52 = 0;
      _os_log_impl(&dword_0, v50, v51, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput acquired dialog.", v52, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v32, v28);
    sub_BED0C(v124, &qword_30D4E0, (uint64_t)INSearchForMediaIntent_ptr, (uint64_t)v116);
    uint64_t v53 = v112;
    v54 = v110;
    uint64_t v55 = v113;
    (*(void (**)(char *, void, uint64_t))(v112 + 104))(v110, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v113);
    uint64_t v57 = v114;
    v56 = v115;
    v58 = v111;
    (*(void (**)(char *, void, void *))(v114 + 104))(v111, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v115);
    uint64_t v59 = v104;
    uint64_t v60 = v106;
    (*(void (**)(char *, void, uint64_t))(v104 + 104))(v10, enum case for AdditionalMetricsDescription.StatusReason.slotResolve(_:), v106);
    uint64_t v107 = sub_297250();
    uint64_t v105 = v61;
    (*(void (**)(char *, uint64_t))(v59 + 8))(v10, v60);
    (*(void (**)(char *, void *))(v57 + 8))(v58, v56);
    (*(void (**)(char *, uint64_t))(v53 + 8))(v54, v55);
    uint64_t v62 = v123[6];
    uint64_t v113 = v123[7];
    v115 = sub_74A4(v123 + 3, v62);
    uint64_t v63 = enum case for ActivityType.resolveSlotUnsupported(_:);
    uint64_t v64 = sub_2944C0();
    uint64_t v65 = *(void *)(v64 - 8);
    uint64_t v66 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v65 + 104))(v117, v63, v64);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v65 + 56))(v66, 0, 1, v64);
    uint64_t v67 = *(int *)(v108 + 48);
    uint64_t v68 = v103;
    uint64_t v114 = *(void *)(v103 + 16);
    uint64_t v69 = (uint64_t)v101;
    uint64_t v70 = v100;
    ((void (*)(char *, char *, uint64_t))v114)(v101, v109, v100);
    *(void *)(v69 + v67) = v102;
    uint64_t v71 = (uint64_t)v118;
    v99(v118, v69, v70);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v68 + 56))(v71, 0, 1, v70);
    uint64_t v72 = enum case for SiriKitReliabilityCodes.slotResolutionFailure(_:);
    uint64_t v73 = sub_294170();
    uint64_t v74 = *(void *)(v73 - 8);
    uint64_t v75 = (uint64_t)v119;
    (*(void (**)(char *, uint64_t, uint64_t))(v74 + 104))(v119, v72, v73);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v74 + 56))(v75, 0, 1, v73);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v75, &qword_30D5B8);
    sub_23A44(v71, (uint64_t *)&unk_30FA50);
    sub_23A44(v66, &qword_30D5C0);
    sub_74A4(v123 + 8, v123[11]);
    uint64_t v76 = *(int *)(v108 + 48);
    uint64_t v77 = (uint64_t)v109;
    ((void (*)(uint64_t, char *, uint64_t))v114)(v69, v109, v70);
    v78 = v102;
    *(void *)(v69 + v76) = v102;
    v79 = v78;
    v80 = v116;
    sub_1CBD04(v69, v78, (uint64_t)v116, (uint64_t)_swiftEmptyArrayStorage, v121, v122);

    sub_23A44((uint64_t)v80, (uint64_t *)&unk_30FA70);
    sub_23A44(v77, &qword_30D030);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v103 + 8))(v69, v70);
  }
}

uint64_t sub_C1878(uint64_t a1)
{
  return sub_C190C(a1, (uint64_t (*)(uint64_t, void, void, void, void, void, void, void, void))sub_C0918);
}

uint64_t sub_C1894()
{
  swift_release();
  swift_release();

  swift_release();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 80, 7);
}

uint64_t sub_C18F4(uint64_t a1)
{
  return sub_C190C(a1, (uint64_t (*)(uint64_t, void, void, void, void, void, void, void, void))sub_BF9BC);
}

uint64_t sub_C190C(uint64_t a1, uint64_t (*a2)(uint64_t, void, void, void, void, void, void, void, void))
{
  return a2(a1, v2[2], v2[3], v2[4], v2[5], v2[6], v2[7], v2[8], v2[9]);
}

uint64_t sub_C1948@<X0>(void (*a1)(char *, void, uint64_t, uint64_t)@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, void (*a5)(unint64_t, char *, uint64_t)@<X4>, uint64_t a6@<X8>)
{
  uint64_t v74 = a4;
  uint64_t v75 = a5;
  uint64_t v73 = a1;
  uint64_t v67 = a6;
  uint64_t v72 = sub_298800();
  uint64_t v70 = *(void *)(v72 - 8);
  __chkstk_darwin(v72);
  uint64_t v69 = (char *)&v59 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_2948C0();
  uint64_t v71 = *(void *)(v9 - 8);
  uint64_t v10 = __chkstk_darwin(v9);
  uint64_t v64 = (char *)&v59 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v66 = (char *)&v59 - v13;
  __chkstk_darwin(v12);
  uint64_t v68 = (char *)&v59 - v14;
  uint64_t v15 = sub_2936E0();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v65 = (char *)&v59 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v78 = 0;
  uint64_t v18 = *(void *)(a2 + 16);
  if (!v18)
  {
LABEL_24:
    NSString v42 = v65;
    sub_2936D0();
    sub_2936B0();
    uint64_t v43 = (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v42, v15);
    __chkstk_darwin(v43);
    uint64_t v44 = swift_bridgeObjectRetain();
    sub_CACEC(v44, (void (*)(uint64_t, char *))sub_C7C1C);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v22 = (uint64_t)v68;
    sub_C5064();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (qword_30C848 != -1) {
      goto LABEL_33;
    }
    goto LABEL_25;
  }
  uint64_t v60 = v16;
  uint64_t v61 = v15;
  uint64_t v62 = a3;
  uint64_t v63 = v9;
  uint64_t v19 = *(void *)(sub_2988A0() - 8);
  uint64_t v20 = a2 + ((*(unsigned __int8 *)(v19 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v19 + 80));
  uint64_t v9 = *(void *)(v19 + 72);
  swift_bridgeObjectRetain();
  uint64_t v21 = _swiftEmptyArrayStorage;
  while (1)
  {
    sub_C5324(v20, &v78, a2, v73, v74, v75, &v77);
    uint64_t v22 = v77;
    uint64_t v23 = *(void *)(v77 + 16);
    int64_t v24 = v21[2];
    int64_t v25 = v24 + v23;
    if (__OFADD__(v24, v23)) {
      break;
    }
    int isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    if (isUniquelyReferenced_nonNull_native && v25 <= v21[3] >> 1)
    {
      if (*(void *)(v22 + 16)) {
        goto LABEL_14;
      }
    }
    else
    {
      if (v24 <= v25) {
        int64_t v27 = v24 + v23;
      }
      else {
        int64_t v27 = v24;
      }
      uint64_t v21 = (void *)sub_23E08(isUniquelyReferenced_nonNull_native, v27, 1, (unint64_t)v21);
      if (*(void *)(v22 + 16))
      {
LABEL_14:
        uint64_t v28 = v21[2];
        uint64_t v29 = (v21[3] >> 1) - v28;
        uint64_t v30 = *(void *)(sub_294440() - 8);
        uint64_t v31 = *(void *)(v30 + 72);
        if (v29 < v23) {
          goto LABEL_31;
        }
        unint64_t v32 = (*(unsigned __int8 *)(v30 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v30 + 80);
        uint64_t v33 = (char *)v21 + v32 + v31 * v28;
        unint64_t v34 = v22 + v32;
        uint64_t v35 = v31 * v23;
        uint64_t v36 = &v33[v35];
        unint64_t v37 = v34 + v35;
        if (v34 < (unint64_t)v36 && (unint64_t)v33 < v37)
        {
          uint64_t result = sub_299510();
          __break(1u);
          return result;
        }
        swift_arrayInitWithCopy();
        if (v23)
        {
          uint64_t v39 = v21[2];
          BOOL v40 = __OFADD__(v39, v23);
          uint64_t v41 = v39 + v23;
          if (v40) {
            goto LABEL_32;
          }
          v21[2] = v41;
        }
        goto LABEL_4;
      }
    }
    if (v23) {
      goto LABEL_30;
    }
LABEL_4:
    swift_bridgeObjectRelease();
    v20 += v9;
    if (!--v18)
    {
      swift_bridgeObjectRelease();
      uint64_t v9 = v63;
      uint64_t v16 = v60;
      uint64_t v15 = v61;
      goto LABEL_24;
    }
  }
  __break(1u);
LABEL_30:
  __break(1u);
LABEL_31:
  __break(1u);
LABEL_32:
  __break(1u);
LABEL_33:
  swift_once();
LABEL_25:
  uint64_t v45 = v72;
  uint64_t v46 = sub_6E60(v72, (uint64_t)qword_31FC08);
  uint64_t v47 = v69;
  uint64_t v48 = v70;
  (*(void (**)(char *, uint64_t, uint64_t))(v70 + 16))(v69, v46, v45);
  uint64_t v49 = v71;
  v50 = *(void (**)(char *, uint64_t, uint64_t))(v71 + 16);
  os_log_type_t v51 = v66;
  v50(v66, v22, v9);
  v52 = sub_2987E0();
  os_log_type_t v53 = sub_298DA0();
  if (os_log_type_enabled(v52, v53))
  {
    uint64_t v54 = swift_slowAlloc();
    uint64_t v77 = swift_slowAlloc();
    *(_DWORD *)uint64_t v54 = 136315138;
    uint64_t v75 = (void (*)(unint64_t, char *, uint64_t))(v54 + 4);
    v50(v64, (uint64_t)v51, v9);
    uint64_t v55 = sub_2989E0();
    uint64_t v76 = sub_6E98(v55, v56, &v77);
    uint64_t v22 = (uint64_t)v68;
    uint64_t v49 = v71;
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v49 + 8))(v51, v9);
    _os_log_impl(&dword_0, v52, v53, "CommonNLContextProvider#makeDisambiguationContextForMediaDestination for update: %s", (uint8_t *)v54, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v70 + 8))(v69, v72);
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v49 + 8))(v51, v9);

    (*(void (**)(char *, uint64_t))(v48 + 8))(v47, v72);
  }
  uint64_t v57 = v67;
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v49 + 32))(v67, v22, v9);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v49 + 56))(v57, 0, 1, v9);
}

uint64_t sub_C20C0@<X0>(uint64_t a1@<X0>, uint64_t a2@<X2>, uint64_t a3@<X3>, char *a4@<X4>, uint64_t a5@<X8>)
{
  uint64_t v73 = a3;
  uint64_t v74 = a4;
  uint64_t v62 = a2;
  uint64_t v72 = a1;
  uint64_t v65 = a5;
  uint64_t v5 = sub_298800();
  uint64_t v6 = *(void (***)(char *, uint64_t, uint64_t))(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v58 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_2948C0();
  uint64_t v69 = *(void *)(v9 - 8);
  uint64_t v10 = __chkstk_darwin(v9);
  v58 = (char *)&v58 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v58 - v13;
  __chkstk_darwin(v12);
  uint64_t v66 = (char *)&v58 - v15;
  uint64_t v16 = sub_2936E0();
  uint64_t v60 = *(void *)(v16 - 8);
  uint64_t v61 = v16;
  __chkstk_darwin(v16);
  uint64_t v59 = (char *)&v58 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v18 = sub_298CF0();
  unint64_t v19 = v18;
  uint64_t v77 = 0;
  if (v18 >> 62) {
    goto LABEL_40;
  }
  uint64_t v20 = *(void *)((char *)&dword_10 + (v18 & 0xFFFFFFFFFFFFFF8));
  swift_bridgeObjectRetain();
LABEL_3:
  uint64_t v63 = v14;
  uint64_t v64 = v9;
  uint64_t v67 = v8;
  uint64_t v68 = v6;
  uint64_t v70 = v5;
  uint64_t v5 = 0;
  if (v20)
  {
    unint64_t v71 = v19 & 0xC000000000000001;
    uint64_t v21 = _swiftEmptyArrayStorage;
    uint64_t v22 = 4;
    do
    {
      uint64_t v8 = (char *)(v22 - 4);
      if (v71) {
        uint64_t v23 = (void (**)(char *, uint64_t, uint64_t))sub_2993E0();
      }
      else {
        uint64_t v23 = (void (**)(char *, uint64_t, uint64_t))*(id *)(v19 + 8 * v22);
      }
      uint64_t v6 = v23;
      uint64_t v9 = v22 - 3;
      if (__OFADD__(v8, 1))
      {
        __break(1u);
LABEL_36:
        __break(1u);
LABEL_37:
        __break(1u);
LABEL_38:
        __break(1u);
LABEL_39:
        __break(1u);
LABEL_40:
        swift_bridgeObjectRetain();
        uint64_t v20 = sub_2994C0();
        goto LABEL_3;
      }
      uint64_t v76 = (uint64_t)v23;
      sub_C33C8((void **)&v76, &v77, v19, v72, v73, v74, &v75);

      uint64_t v8 = (char *)v75;
      uint64_t v6 = *(void (***)(char *, uint64_t, uint64_t))(v75 + 16);
      int64_t v24 = v21[2];
      uint64_t v14 = (char *)v6 + v24;
      if (__OFADD__(v24, v6)) {
        goto LABEL_36;
      }
      int isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      if (isUniquelyReferenced_nonNull_native && (uint64_t)v14 <= v21[3] >> 1)
      {
        if (*((void *)v8 + 2)) {
          goto LABEL_20;
        }
      }
      else
      {
        if (v24 <= (uint64_t)v14) {
          int64_t v26 = (int64_t)v6 + v24;
        }
        else {
          int64_t v26 = v24;
        }
        uint64_t v21 = (void *)sub_23E08(isUniquelyReferenced_nonNull_native, v26, 1, (unint64_t)v21);
        if (*((void *)v8 + 2))
        {
LABEL_20:
          uint64_t v27 = v21[2];
          uint64_t v14 = (char *)((v21[3] >> 1) - v27);
          uint64_t v28 = *(void *)(sub_294440() - 8);
          uint64_t v29 = *(void *)(v28 + 72);
          if ((uint64_t)v14 < (uint64_t)v6) {
            goto LABEL_38;
          }
          unint64_t v30 = (*(unsigned __int8 *)(v28 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v28 + 80);
          uint64_t v31 = (char *)v21 + v30 + v29 * v27;
          unint64_t v32 = &v8[v30];
          uint64_t v33 = v29 * (void)v6;
          unint64_t v34 = &v31[v33];
          uint64_t v35 = &v32[v33];
          if (v32 < v34 && v31 < v35)
          {
            uint64_t result = sub_299510();
            __break(1u);
            return result;
          }
          swift_arrayInitWithCopy();
          if (v6)
          {
            uint64_t v37 = v21[2];
            BOOL v38 = __OFADD__(v37, v6);
            uint64_t v39 = (char *)v6 + v37;
            if (v38) {
              goto LABEL_39;
            }
            v21[2] = v39;
          }
          goto LABEL_6;
        }
      }
      if (v6) {
        goto LABEL_37;
      }
LABEL_6:
      swift_bridgeObjectRelease();
      ++v22;
    }
    while (v9 != v20);
  }
  swift_bridgeObjectRelease();
  BOOL v40 = v59;
  sub_2936D0();
  sub_2936B0();
  uint64_t v41 = (*(uint64_t (**)(char *, uint64_t))(v60 + 8))(v40, v61);
  __chkstk_darwin(v41);
  sub_CB39C(v19, (void (*)(uint64_t, id))sub_CC670);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  NSString v42 = v66;
  sub_C5064();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v43 = v70;
  uint64_t v44 = sub_6E60(v70, (uint64_t)qword_31FC08);
  uint64_t v45 = v67;
  uint64_t v46 = v68;
  v68[2](v67, v44, v43);
  uint64_t v47 = v69;
  uint64_t v48 = *(void (**)(char *, char *, uint64_t))(v69 + 16);
  v50 = v63;
  uint64_t v49 = v64;
  v48(v63, v42, v64);
  os_log_type_t v51 = sub_2987E0();
  os_log_type_t v52 = sub_298DA0();
  if (os_log_type_enabled(v51, v52))
  {
    uint64_t v53 = swift_slowAlloc();
    uint64_t v76 = swift_slowAlloc();
    *(_DWORD *)uint64_t v53 = 136315138;
    uint64_t v74 = (char *)(v53 + 4);
    v48(v58, v50, v49);
    uint64_t v54 = sub_2989E0();
    uint64_t v75 = sub_6E98(v54, v55, &v76);
    NSString v42 = v66;
    uint64_t v47 = v69;
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v47 + 8))(v50, v49);
    _os_log_impl(&dword_0, v51, v52, "CommonNLContextProvider#makeDisambiguationContextForMediaItems for update: %s", (uint8_t *)v53, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    ((void (*)(char *, uint64_t))v68[1])(v67, v70);
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v47 + 8))(v50, v49);

    ((void (*)(char *, uint64_t))v46[1])(v45, v70);
  }
  uint64_t v56 = v65;
  (*(void (**)(uint64_t, char *, uint64_t))(v47 + 32))(v65, v42, v49);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v47 + 56))(v56, 0, 1, v49);
}

uint64_t sub_C286C()
{
  uint64_t v0 = sub_2936E0();
  uint64_t v45 = *(void *)(v0 - 8);
  uint64_t v46 = v0;
  __chkstk_darwin(v0);
  uint64_t v43 = (char *)&v32 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_71D4(&qword_30F0E0);
  __chkstk_darwin(v2 - 8);
  uint64_t v37 = (char *)&v32 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_2951F0();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v38 = v4;
  uint64_t v39 = v5;
  __chkstk_darwin(v4);
  uint64_t v44 = (char *)&v32 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v47 = sub_2952F0();
  uint64_t v40 = *(void *)(v47 - 8);
  __chkstk_darwin(v47);
  unint64_t v34 = (char *)&v32 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v36 = sub_295270();
  uint64_t v33 = *(void *)(v36 - 8);
  uint64_t v8 = __chkstk_darwin(v36);
  uint64_t v35 = (char *)&v32 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v32 - v10;
  uint64_t v12 = sub_295240();
  __chkstk_darwin(v12 - 8);
  uint64_t v13 = sub_2952B0();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v32 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  unint64_t v19 = (char *)&v32 - v18;
  sub_C2E88();
  sub_294810();
  sub_294DC0();
  swift_allocObject();
  sub_294DB0();
  sub_2976E0();
  sub_294D80();
  swift_bridgeObjectRelease();
  swift_release();
  sub_294DA0();
  swift_release();
  uint64_t v21 = v33;
  uint64_t v20 = v34;
  sub_2948A0();
  sub_2952A0();
  sub_295230();
  uint64_t v22 = (uint64_t)v37;
  sub_295290();
  sub_295260();
  uint64_t v41 = v14;
  uint64_t v42 = v13;
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))(v17, v19, v13);
  uint64_t v23 = v36;
  sub_295250();
  sub_2952E0();
  (*(void (**)(char *, char *, uint64_t))(v21 + 16))(v35, v11, v23);
  uint64_t v24 = v38;
  sub_2952D0();
  int64_t v25 = v43;
  sub_2936D0();
  sub_295320();
  (*(void (**)(char *, uint64_t))(v45 + 8))(v25, v46);
  uint64_t v26 = v39;
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v39 + 48))(v22, 1, v24) == 1)
  {
    sub_2951E0();
    sub_23A44(v22, &qword_30F0E0);
  }
  else
  {
    (*(void (**)(char *, uint64_t, uint64_t))(v26 + 32))(v44, v22, v24);
  }
  sub_2952C0();
  sub_71D4(&qword_30F0E8);
  uint64_t v27 = v40;
  unint64_t v28 = (*(unsigned __int8 *)(v40 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v40 + 80);
  uint64_t v29 = swift_allocObject();
  *(_OWORD *)(v29 + 16) = xmmword_29A440;
  uint64_t v30 = v47;
  (*(void (**)(unint64_t, char *, uint64_t))(v27 + 16))(v29 + v28, v20, v47);
  sub_2947F0();
  (*(void (**)(char *, uint64_t))(v27 + 8))(v20, v30);
  (*(void (**)(char *, uint64_t))(v21 + 8))(v11, v23);
  return (*(uint64_t (**)(char *, uint64_t))(v41 + 8))(v19, v42);
}

uint64_t sub_C2E88()
{
  uint64_t v0 = sub_2981F0();
  uint64_t v24 = *(void *)(v0 - 8);
  uint64_t v25 = v0;
  __chkstk_darwin(v0);
  uint64_t v23 = (char *)&v22 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_71D4(&qword_30EF58);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v22 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_2948B0();
  sub_D105C(0);
  sub_294830();
  uint64_t v22 = sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_29AF30;
  unint64_t v30 = sub_298A00();
  uint64_t v31 = v6;
  uint64_t v28 = 32;
  unint64_t v29 = 0xE100000000000000;
  uint64_t v26 = 95;
  unint64_t v27 = 0xE100000000000000;
  sub_7314();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v30 = sub_D105C(1);
  uint64_t v31 = v7;
  v32._countAndFlagsBits = 0x2E65756C61562ELL;
  v32._object = (void *)0xE700000000000000;
  sub_298A80(v32);
  v33._countAndFlagsBits = sub_298A00();
  sub_298A80(v33);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v8 = v31;
  *(void *)(v5 + 32) = v30;
  *(void *)(v5 + 40) = v8;
  unint64_t v30 = sub_298A00();
  uint64_t v31 = v9;
  uint64_t v28 = 32;
  unint64_t v29 = 0xE100000000000000;
  uint64_t v26 = 95;
  unint64_t v27 = 0xE100000000000000;
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v30 = sub_D105C(1);
  uint64_t v31 = v10;
  v34._countAndFlagsBits = 0x2E65756C61562ELL;
  v34._object = (void *)0xE700000000000000;
  sub_298A80(v34);
  v35._countAndFlagsBits = sub_298A00();
  sub_298A80(v35);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v11 = v31;
  *(void *)(v5 + 48) = v30;
  *(void *)(v5 + 56) = v11;
  unint64_t v30 = sub_298A00();
  uint64_t v31 = v12;
  uint64_t v28 = 32;
  unint64_t v29 = 0xE100000000000000;
  uint64_t v26 = 95;
  unint64_t v27 = 0xE100000000000000;
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v30 = sub_D105C(1);
  uint64_t v31 = v13;
  v36._countAndFlagsBits = 0x2E65756C61562ELL;
  v36._object = (void *)0xE700000000000000;
  sub_298A80(v36);
  v37._countAndFlagsBits = sub_298A00();
  sub_298A80(v37);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v14 = v31;
  *(void *)(v5 + 64) = v30;
  *(void *)(v5 + 72) = v14;
  unint64_t v30 = sub_298A00();
  uint64_t v31 = v15;
  uint64_t v28 = 32;
  unint64_t v29 = 0xE100000000000000;
  uint64_t v26 = 95;
  unint64_t v27 = 0xE100000000000000;
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v30 = sub_D105C(1);
  uint64_t v31 = v16;
  v38._countAndFlagsBits = 0x2E65756C61562ELL;
  v38._object = (void *)0xE700000000000000;
  sub_298A80(v38);
  v39._countAndFlagsBits = sub_298A00();
  sub_298A80(v39);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v17 = v31;
  *(void *)(v5 + 80) = v30;
  *(void *)(v5 + 88) = v17;
  sub_294850();
  uint64_t v18 = swift_allocObject();
  *(_OWORD *)(v18 + 16) = xmmword_29A440;
  *(void *)(v18 + 32) = sub_D105C(1);
  *(void *)(v18 + 40) = v19;
  sub_294860();
  sub_294810();
  (*(void (**)(char *, void, uint64_t))(v24 + 104))(v23, enum case for PommesContext.Source.pluginDefined(_:), v25);
  sub_298200();
  uint64_t v20 = sub_298210();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v20 - 8) + 56))(v4, 0, 1, v20);
  return sub_2947E0();
}

uint64_t sub_C33C8@<X0>(void **a1@<X0>, uint64_t *a2@<X1>, unint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, char *a6@<X5>, void *a7@<X8>)
{
  uint64_t v94 = a6;
  uint64_t v86 = a5;
  uint64_t v87 = a4;
  uint64_t v95 = a2;
  uint64_t v90 = a7;
  uint64_t v89 = (void *)sub_298800();
  unint64_t v88 = *(v89 - 1);
  __chkstk_darwin(v89);
  uint64_t v91 = (char *)&v81 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30F090);
  __chkstk_darwin(v10 - 8);
  uint64_t v97 = (char *)&v81 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v98 = sub_294440();
  uint64_t v99 = *(void *)(v98 - 8);
  uint64_t v12 = __chkstk_darwin(v98);
  v81 = (char *)&v81 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v84 = (char *)&v81 - v15;
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v82 = (char *)&v81 - v17;
  __chkstk_darwin(v16);
  uint64_t v92 = (char *)&v81 - v18;
  uint64_t v19 = sub_294570();
  uint64_t v93 = *(void *)(v19 - 8);
  uint64_t v20 = __chkstk_darwin(v19);
  v85 = (char *)&v81 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = __chkstk_darwin(v20);
  v83 = (char *)&v81 - v23;
  uint64_t v24 = __chkstk_darwin(v22);
  unint64_t v26 = (unint64_t)&v81 - v25;
  uint64_t v27 = __chkstk_darwin(v24);
  uint64_t v96 = (char *)&v81 - v28;
  uint64_t v29 = __chkstk_darwin(v27);
  inited = (char *)&v81 - v30;
  __chkstk_darwin(v29);
  Swift::String v33 = (char *)&v81 - v32;
  Swift::String v34 = *a1;
  id v102 = _swiftEmptyArrayStorage;
  sub_294560();
  sub_294520();
  id v35 = [v34 identifier];
  if (v35)
  {
    Swift::String v36 = v35;
    sub_2989C0();
  }
  sub_294540();
  sub_D105C(4);
  sub_294550();
  uint64_t v37 = *v95;
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    int64_t v38 = sub_2994C0();
    swift_bridgeObjectRelease();
  }
  else
  {
    int64_t v38 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
  }
  Swift::String v39 = sub_C4174(v37, v38, (uint64_t)v33, v86);
  sub_C47A4((uint64_t)v39);
  id v40 = [v34 title];
  uint64_t v41 = v93;
  uint64_t v94 = v33;
  if (!v40) {
    goto LABEL_10;
  }
  uint64_t v42 = v40;
  sub_2989C0();

  sub_294560();
  sub_294520();
  sub_294540();
  sub_D105C(2);
  sub_294550();
  uint64_t v43 = *(void (**)(char *, char *, uint64_t))(v41 + 16);
  uint64_t v44 = v97;
  v43(v97, v33, v19);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v41 + 56))(v44, 0, 1, v19);
  v43(v96, inited, v19);
  sub_294430();
  unint64_t v45 = (unint64_t)v102;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    goto LABEL_39;
  }
  while (1)
  {
    unint64_t v47 = *(void *)(v45 + 16);
    unint64_t v46 = *(void *)(v45 + 24);
    Swift::String v33 = v94;
    if (v47 >= v46 >> 1) {
      unint64_t v45 = sub_23E08(v46 > 1, v47 + 1, 1, v45);
    }
    *(void *)(v45 + 16) = v47 + 1;
    (*(void (**)(unint64_t, char *, uint64_t))(v99 + 32))(v45+ ((*(unsigned __int8 *)(v99 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v99 + 80))+ *(void *)(v99 + 72) * v47, v92, v98);
    id v102 = (void *)v45;
    (*(void (**)(char *, uint64_t))(v41 + 8))(inited, v19);
LABEL_10:
    id v48 = [v34 artist];
    unint64_t v49 = v88;
    if (v48)
    {
      v50 = v48;
      sub_2989C0();

      sub_294560();
      sub_294520();
      sub_294540();
      sub_D105C(3);
      sub_294550();
      os_log_type_t v51 = *(void (**)(char *, char *, uint64_t))(v41 + 16);
      os_log_type_t v52 = v97;
      v51(v97, v33, v19);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v41 + 56))(v52, 0, 1, v19);
      v51(v96, (char *)v26, v19);
      inited = v82;
      sub_294430();
      unint64_t v53 = (unint64_t)v102;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        unint64_t v53 = sub_23E08(0, *(void *)(v53 + 16) + 1, 1, v53);
      }
      unint64_t v55 = *(void *)(v53 + 16);
      unint64_t v54 = *(void *)(v53 + 24);
      Swift::String v33 = v94;
      if (v55 >= v54 >> 1) {
        unint64_t v53 = sub_23E08(v54 > 1, v55 + 1, 1, v53);
      }
      *(void *)(v53 + 16) = v55 + 1;
      (*(void (**)(unint64_t, char *, uint64_t))(v99 + 32))(v53+ ((*(unsigned __int8 *)(v99 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v99 + 80))+ *(void *)(v99 + 72) * v55, inited, v98);
      id v102 = (void *)v53;
      (*(void (**)(unint64_t, uint64_t))(v41 + 8))(v26, v19);
    }
    uint64_t v56 = sub_296490();
    Swift::String v34 = v89;
    if (v57)
    {
      v58 = (char *)v56;
      unint64_t v26 = (unint64_t)v57;
      sub_297700();
      swift_bridgeObjectRetain();
      uint64_t v59 = sub_2976D0();
      type metadata accessor for AppInfoBuilder();
      inited = (char *)swift_initStackObject();
      if (qword_30C8B0 != -1) {
        swift_once();
      }
      sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v100);
      sub_C8B10(v59, (uint64_t)inited, &v100, (uint64_t)_swiftEmptyArrayStorage, &v101);
      sub_CB0EC((uint64_t)&v101, (uint64_t)&v100);
      if (*((void *)&v100 + 1))
      {
        uint64_t v92 = v58;
        uint64_t v60 = v83;
        sub_294560();
        sub_294520();
        swift_bridgeObjectRetain();
        sub_294540();
        sub_D105C(6);
        sub_294550();
        uint64_t v61 = *(void (**)(char *, char *, uint64_t))(v41 + 16);
        uint64_t v62 = v97;
        v61(v97, v33, v19);
        uint64_t v63 = *(char **)(v41 + 56);
        v41 += 56;
        uint64_t v91 = v63;
        ((void (*)(char *, void, uint64_t, uint64_t))v63)(v62, 0, 1, v19);
        uint64_t v64 = v60;
        uint64_t v65 = v61;
        v61(v96, v64, v19);
        sub_294430();
        unint64_t v66 = (unint64_t)v102;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v66 = sub_23E08(0, *(void *)(v66 + 16) + 1, 1, v66);
        }
        unint64_t v68 = *(void *)(v66 + 16);
        unint64_t v67 = *(void *)(v66 + 24);
        if (v68 >= v67 >> 1) {
          unint64_t v66 = sub_23E08(v67 > 1, v68 + 1, 1, v66);
        }
        *(void *)(v66 + 16) = v68 + 1;
        uint64_t v69 = *(void **)(v99 + 32);
        unint64_t v88 = (*(unsigned __int8 *)(v99 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v99 + 80);
        uint64_t v87 = *(void *)(v99 + 72);
        v99 += 32;
        uint64_t v89 = v69;
        ((void (*)(unint64_t, char *, uint64_t))v69)(v66 + v88 + v87 * v68, v84, v98);
        id v102 = (void *)v66;
        inited = *(char **)(v93 + 8);
        Swift::String v34 = (void *)(v93 + 8);
        ((void (*)(char *, uint64_t))inited)(v83, v19);
        uint64_t v70 = v85;
        sub_294560();
        sub_294520();
        sub_294540();
        sub_D105C(5);
        sub_294550();
        unint64_t v71 = v97;
        v65(v97, v33, v19);
        ((void (*)(char *, void, uint64_t, uint64_t))v91)(v71, 0, 1, v19);
        v65(v96, v70, v19);
        uint64_t v72 = v81;
        sub_294430();
        unint64_t v73 = (unint64_t)v102;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v73 = sub_23E08(0, *(void *)(v73 + 16) + 1, 1, v73);
        }
        unint64_t v26 = *(void *)(v73 + 16);
        unint64_t v74 = *(void *)(v73 + 24);
        unint64_t v45 = v26 + 1;
        uint64_t v75 = v94;
        if (v26 >= v74 >> 1) {
          unint64_t v73 = sub_23E08(v74 > 1, v26 + 1, 1, v73);
        }
        *(void *)(v73 + 16) = v45;
        ((void (*)(unint64_t, char *, uint64_t))v89)(v73 + v88 + v26 * v87, v72, v98);
        sub_CB154((uint64_t)&v101);
        id v102 = (void *)v73;
        ((void (*)(char *, uint64_t))inited)(v85, v19);
        uint64_t result = ((uint64_t (*)(char *, uint64_t))inited)(v75, v19);
        goto LABEL_35;
      }
      swift_bridgeObjectRelease();
    }
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v77 = sub_6E60((uint64_t)v34, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, void *))(v49 + 16))(v91, v77, v34);
    uint64_t v78 = sub_2987E0();
    os_log_type_t v79 = sub_298DB0();
    unint64_t v45 = v79;
    if (os_log_type_enabled(v78, v79))
    {
      unint64_t v26 = swift_slowAlloc();
      *(_WORD *)unint64_t v26 = 0;
      _os_log_impl(&dword_0, v78, (os_log_type_t)v45, "CommonNLContextProvider#makeDisambiguationContextForMediaItems unexpected missing bundle identifier from launchId", (uint8_t *)v26, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, void *))(v49 + 8))(v91, v34);
    v80 = *(uint64_t (**)(char *, uint64_t))(v41 + 8);
    v41 += 8;
    uint64_t result = v80(v33, v19);
LABEL_35:
    *uint64_t v90 = v102;
    if (!__OFADD__(*v95, 1)) {
      break;
    }
    __break(1u);
LABEL_39:
    unint64_t v45 = sub_23E08(0, *(void *)(v45 + 16) + 1, 1, v45);
  }
  ++*v95;
  return result;
}

void *sub_C4174(uint64_t a1, int64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v33 = a3;
  uint64_t v8 = sub_294440();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  unint64_t v12 = (unint64_t)v29 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = __chkstk_darwin(v10);
  uint64_t v31 = (char *)v29 - v14;
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)v29 - v16;
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)v29 - v18;
  if (qword_30C828 != -1) {
    swift_once();
  }
  unint64_t v20 = qword_31FAE0;
  uint64_t v21 = *(void *)(qword_31FAE0 + 16);
  int64_t v32 = a2;
  if (v21 <= a1)
  {
    uint64_t v4 = _swiftEmptyArrayStorage;
    goto LABEL_8;
  }
  if (a1 < 0) {
    goto LABEL_29;
  }
  uint64_t v30 = (char *)v12;
  swift_bridgeObjectRetain();
  v29[1] = a4;
  sub_C76F0(v33);
  swift_bridgeObjectRelease();
  uint64_t v4 = (void *)sub_23E08(0, 1, 1, (unint64_t)_swiftEmptyArrayStorage);
  unint64_t v12 = v4[2];
  unint64_t v20 = v4[3];
  a2 = v12 + 1;
  if (v12 >= v20 >> 1) {
    goto LABEL_30;
  }
  while (1)
  {
    v4[2] = a2;
    (*(void (**)(unint64_t, char *, uint64_t))(v9 + 32))((unint64_t)v4+ ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80))+ *(void *)(v9 + 72) * v12, v19, v8);
    unint64_t v12 = (unint64_t)v30;
    a2 = v32;
LABEL_8:
    unint64_t v20 = a2 - 3;
    if (!__OFSUB__(a2, 3)) {
      break;
    }
    __break(1u);
LABEL_29:
    __break(1u);
LABEL_30:
    uint64_t v4 = (void *)sub_23E08(v20 > 1, a2, 1, (unint64_t)v4);
  }
  if (v20 == a1)
  {
    sub_C76F0(v33);
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v4 = (void *)sub_23E08(0, v4[2] + 1, 1, (unint64_t)v4);
    }
    unint64_t v23 = v4[2];
    unint64_t v22 = v4[3];
    if (v23 >= v22 >> 1) {
      uint64_t v4 = (void *)sub_23E08(v22 > 1, v23 + 1, 1, (unint64_t)v4);
    }
    v4[2] = v23 + 1;
    (*(void (**)(unint64_t, char *, uint64_t))(v9 + 32))((unint64_t)v4+ ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80))+ *(void *)(v9 + 72) * v23, v17, v8);
    a2 = v32;
  }
  if (a2 - 2 == a1)
  {
    sub_C76F0(v33);
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v4 = (void *)sub_23E08(0, v4[2] + 1, 1, (unint64_t)v4);
    }
    unint64_t v25 = v4[2];
    unint64_t v24 = v4[3];
    if (v25 >= v24 >> 1) {
      uint64_t v4 = (void *)sub_23E08(v24 > 1, v25 + 1, 1, (unint64_t)v4);
    }
    v4[2] = v25 + 1;
    (*(void (**)(unint64_t, char *, uint64_t))(v9 + 32))((unint64_t)v4+ ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80))+ *(void *)(v9 + 72) * v25, v31, v8);
    a2 = v32;
  }
  if (a2 - 1 == a1)
  {
    sub_C76F0(v33);
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v4 = (void *)sub_23E08(0, v4[2] + 1, 1, (unint64_t)v4);
    }
    unint64_t v27 = v4[2];
    unint64_t v26 = v4[3];
    if (v27 >= v26 >> 1) {
      uint64_t v4 = (void *)sub_23E08(v26 > 1, v27 + 1, 1, (unint64_t)v4);
    }
    v4[2] = v27 + 1;
    (*(void (**)(unint64_t, unint64_t, uint64_t))(v9 + 32))((unint64_t)v4+ ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80))+ *(void *)(v9 + 72) * v27, v12, v8);
  }
  return v4;
}

uint64_t sub_C4644(uint64_t a1)
{
  unint64_t v2 = *(void *)(a1 + 16);
  uint64_t v3 = *(void **)v1;
  int64_t v4 = *(void *)(*(void *)v1 + 16);
  int64_t v5 = v4 + v2;
  if (__OFADD__(v4, v2))
  {
    __break(1u);
    goto LABEL_21;
  }
  int isUniquelyReferenced_nonNull_native = (void *)swift_isUniquelyReferenced_nonNull_native();
  if (isUniquelyReferenced_nonNull_native && v5 <= v3[3] >> 1)
  {
    unint64_t v8 = *(void *)(a1 + 16);
    if (v8) {
      goto LABEL_5;
    }
LABEL_18:
    if (!v2) {
      goto LABEL_19;
    }
    goto LABEL_21;
  }
  if (v4 <= v5) {
    int64_t v15 = v4 + v2;
  }
  else {
    int64_t v15 = v4;
  }
  uint64_t v3 = sub_24360(isUniquelyReferenced_nonNull_native, v15, 1, v3);
  unint64_t v8 = *(void *)(a1 + 16);
  if (!v8) {
    goto LABEL_18;
  }
LABEL_5:
  uint64_t v9 = v3[2];
  if ((v3[3] >> 1) - v9 < (uint64_t)v8)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  unint64_t v10 = (unint64_t)&v3[3 * v9 + 4];
  if (a1 + 32 < v10 + 24 * v8 && v10 < a1 + 32 + 24 * v8) {
    goto LABEL_24;
  }
  swift_arrayInitWithCopy();
  if (v8 < v2)
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v12 = v3[2];
  BOOL v13 = __OFADD__(v12, v8);
  uint64_t v14 = v12 + v8;
  if (!v13)
  {
    v3[2] = v14;
LABEL_19:
    uint64_t result = swift_bridgeObjectRelease();
    *(void *)uint64_t v1 = v3;
    return result;
  }
LABEL_23:
  __break(1u);
LABEL_24:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_C47A4(uint64_t a1)
{
  unint64_t v2 = *(void *)(a1 + 16);
  unint64_t v3 = *v1;
  int64_t v4 = *(void *)(*v1 + 16);
  int64_t v5 = v4 + v2;
  if (__OFADD__(v4, v2))
  {
    __break(1u);
    goto LABEL_21;
  }
  int isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  if (isUniquelyReferenced_nonNull_native && v5 <= *(void *)(v3 + 24) >> 1)
  {
    unint64_t v8 = *(void *)(a1 + 16);
    if (v8) {
      goto LABEL_5;
    }
LABEL_18:
    if (!v2) {
      goto LABEL_19;
    }
    goto LABEL_21;
  }
  if (v4 <= v5) {
    int64_t v23 = v4 + v2;
  }
  else {
    int64_t v23 = v4;
  }
  unint64_t v3 = sub_23E08(isUniquelyReferenced_nonNull_native, v23, 1, v3);
  unint64_t v8 = *(void *)(a1 + 16);
  if (!v8) {
    goto LABEL_18;
  }
LABEL_5:
  uint64_t v9 = *(void *)(v3 + 16);
  uint64_t v10 = (*(void *)(v3 + 24) >> 1) - v9;
  uint64_t v11 = *(void *)(sub_294440() - 8);
  uint64_t v12 = *(void *)(v11 + 72);
  if (v10 < (uint64_t)v8)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  unint64_t v13 = (*(unsigned __int8 *)(v11 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
  unint64_t v14 = v3 + v13 + v12 * v9;
  unint64_t v15 = a1 + v13;
  uint64_t v16 = v12 * v8;
  unint64_t v17 = v14 + v16;
  unint64_t v18 = v15 + v16;
  if (v15 < v17 && v14 < v18) {
    goto LABEL_24;
  }
  swift_arrayInitWithCopy();
  if (v8 < v2)
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v20 = *(void *)(v3 + 16);
  BOOL v21 = __OFADD__(v20, v8);
  uint64_t v22 = v20 + v8;
  if (!v21)
  {
    *(void *)(v3 + 16) = v22;
LABEL_19:
    uint64_t result = swift_bridgeObjectRelease();
    unint64_t *v1 = v3;
    return result;
  }
LABEL_23:
  __break(1u);
LABEL_24:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_C4954(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  unint64_t v3 = *(void **)v1;
  int64_t v4 = *(void *)(*(void *)v1 + 16);
  int64_t v5 = v4 + v2;
  if (__OFADD__(v4, v2))
  {
    __break(1u);
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  int isUniquelyReferenced_nonNull_native = (void *)swift_isUniquelyReferenced_nonNull_native();
  if (isUniquelyReferenced_nonNull_native && v5 <= v3[3] >> 1)
  {
    if (*(void *)(a1 + 16)) {
      goto LABEL_5;
    }
    goto LABEL_18;
  }
  if (v4 <= v5) {
    int64_t v14 = v4 + v2;
  }
  else {
    int64_t v14 = v4;
  }
  unint64_t v3 = sub_240EC(isUniquelyReferenced_nonNull_native, v14, 1, v3);
  if (!*(void *)(a1 + 16))
  {
LABEL_18:
    if (!v2) {
      goto LABEL_19;
    }
    goto LABEL_21;
  }
LABEL_5:
  uint64_t v8 = v3[2];
  if ((v3[3] >> 1) - v8 < v2)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  unint64_t v9 = (unint64_t)&v3[2 * v8 + 4];
  if (a1 + 32 < v9 + 16 * v2 && v9 < a1 + 32 + 16 * v2) {
    goto LABEL_24;
  }
  swift_arrayInitWithCopy();
  if (!v2)
  {
LABEL_19:
    uint64_t result = swift_bridgeObjectRelease();
    *(void *)uint64_t v1 = v3;
    return result;
  }
  uint64_t v11 = v3[2];
  BOOL v12 = __OFADD__(v11, v2);
  uint64_t v13 = v11 + v2;
  if (!v12)
  {
    v3[2] = v13;
    goto LABEL_19;
  }
LABEL_23:
  __break(1u);
LABEL_24:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_C4AA8(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4)
{
  unint64_t v8 = a4 >> 1;
  uint64_t v9 = (a4 >> 1) - a3;
  if (__OFSUB__(a4 >> 1, a3)) {
    goto LABEL_11;
  }
  uint64_t v5 = a3;
  uint64_t v6 = a2;
  unint64_t v7 = *v4;
  if (*v4 >> 62) {
    goto LABEL_12;
  }
  uint64_t v10 = *(void *)((char *)&dword_10 + (v7 & 0xFFFFFFFFFFFFFF8));
  uint64_t v11 = v10 + v9;
  if (!__OFADD__(v10, v9)) {
    goto LABEL_4;
  }
LABEL_14:
  __break(1u);
LABEL_15:
  if (v7 >> 62)
  {
    swift_bridgeObjectRetain();
    sub_2994C0();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  unint64_t v7 = sub_2993F0();
  swift_bridgeObjectRelease();
  unint64_t *v4 = v7;
  uint64_t v13 = v7 & 0xFFFFFFFFFFFFFF8;
  if (v8 == v5)
  {
    while (v9 > 0)
    {
      __break(1u);
LABEL_11:
      __break(1u);
LABEL_12:
      swift_bridgeObjectRetain();
      uint64_t v14 = sub_2994C0();
      swift_bridgeObjectRelease();
      uint64_t v11 = v14 + v9;
      if (__OFADD__(v14, v9)) {
        goto LABEL_14;
      }
LABEL_4:
      unint64_t v7 = *v4;
      int isUniquelyReferenced_nonNull_bridgeObject = swift_isUniquelyReferenced_nonNull_bridgeObject();
      unint64_t *v4 = v7;
      if (!isUniquelyReferenced_nonNull_bridgeObject) {
        goto LABEL_15;
      }
      if ((v7 & 0x8000000000000000) != 0) {
        goto LABEL_15;
      }
      if ((v7 & 0x4000000000000000) != 0) {
        goto LABEL_15;
      }
      uint64_t v13 = v7 & 0xFFFFFFFFFFFFFF8;
      if (v11 > *(void *)((char *)&dword_18 + (v7 & 0xFFFFFFFFFFFFFF8)) >> 1) {
        goto LABEL_15;
      }
      if (v8 != v5) {
        goto LABEL_18;
      }
    }
    goto LABEL_25;
  }
LABEL_18:
  uint64_t v15 = *(void *)(v13 + 16);
  if ((*(void *)(v13 + 24) >> 1) - v15 < v9)
  {
    __break(1u);
LABEL_29:
    __break(1u);
LABEL_30:
    uint64_t result = sub_299510();
    __break(1u);
    return result;
  }
  if (v9 < 0) {
    goto LABEL_30;
  }
  unint64_t v16 = v13 + 8 * v15 + 32;
  unint64_t v17 = v6 + 8 * v5;
  if (v17 < v16 + 8 * v9 && v16 < v17 + 8 * v9) {
    goto LABEL_30;
  }
  sub_1983C(0, (unint64_t *)&qword_313910);
  swift_arrayInitWithCopy();
  if (v9)
  {
    uint64_t v18 = *(void *)((char *)&dword_10 + (*v4 & 0xFFFFFFFFFFFFFF8));
    BOOL v19 = __OFADD__(v18, v9);
    uint64_t v20 = v18 + v9;
    if (!v19)
    {
      *(void *)((char *)&dword_10 + (*v4 & 0xFFFFFFFFFFFFFF8)) = v20;
      goto LABEL_25;
    }
    goto LABEL_29;
  }
LABEL_25:
  swift_unknownObjectRelease();

  return sub_298B70();
}

uint64_t sub_C4D48(unint64_t a1)
{
  return sub_C4D78(a1, (uint64_t (*)(uint64_t, void, unint64_t))sub_C86D0);
}

uint64_t sub_C4D60(unint64_t a1)
{
  return sub_C4D78(a1, (uint64_t (*)(uint64_t, void, unint64_t))sub_C88F0);
}

uint64_t sub_C4D78(unint64_t a1, uint64_t (*a2)(uint64_t, void, unint64_t))
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v5 = sub_2994C0();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v5 = *(void *)((char *)&dword_10 + (a1 & 0xFFFFFFFFFFFFFF8));
  }
  if (!((unint64_t)*v2 >> 62))
  {
    uint64_t v6 = *(void *)((char *)&dword_10 + (*v2 & 0xFFFFFFFFFFFFFF8));
    uint64_t v7 = v6 + v5;
    if (!__OFADD__(v6, v5)) {
      goto LABEL_5;
    }
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  swift_bridgeObjectRetain();
  uint64_t v17 = sub_2994C0();
  swift_bridgeObjectRelease();
  uint64_t v7 = v17 + v5;
  if (__OFADD__(v17, v5)) {
    goto LABEL_21;
  }
LABEL_5:
  unint64_t v8 = *v2;
  int isUniquelyReferenced_nonNull_bridgeObject = swift_isUniquelyReferenced_nonNull_bridgeObject();
  uint64_t *v2 = v8;
  if (isUniquelyReferenced_nonNull_bridgeObject)
  {
    if ((v8 & 0x8000000000000000) == 0 && (v8 & 0x4000000000000000) == 0)
    {
      uint64_t v10 = v8 & 0xFFFFFFFFFFFFFF8;
      if (v7 <= *(void *)((char *)&dword_18 + (v8 & 0xFFFFFFFFFFFFFF8)) >> 1) {
        goto LABEL_11;
      }
    }
  }
  if (v8 >> 62) {
    goto LABEL_23;
  }
  while (1)
  {
    swift_bridgeObjectRetain();
    uint64_t v11 = sub_2993F0();
    swift_bridgeObjectRelease();
    uint64_t *v2 = v11;
    uint64_t v10 = v11 & 0xFFFFFFFFFFFFFF8;
LABEL_11:
    uint64_t result = a2(v10 + 8 * *(void *)(v10 + 16) + 32, (*(void *)(v10 + 24) >> 1) - *(void *)(v10 + 16), a1);
    if (v13 >= v5) {
      break;
    }
LABEL_22:
    __break(1u);
LABEL_23:
    swift_bridgeObjectRetain();
    sub_2994C0();
    swift_bridgeObjectRelease();
  }
  if (v13 >= 1)
  {
    uint64_t v14 = *(void *)((char *)&dword_10 + (*v2 & 0xFFFFFFFFFFFFFF8));
    BOOL v15 = __OFADD__(v14, v13);
    uint64_t v16 = v14 + v13;
    if (v15)
    {
      __break(1u);
      return result;
    }
    *(void *)((char *)&dword_10 + (*v2 & 0xFFFFFFFFFFFFFF8)) = v16;
  }
  swift_bridgeObjectRelease();

  return sub_298B70();
}

uint64_t sub_C4F4C()
{
  uint64_t v0 = sub_71D4(&qword_30F088);
  __chkstk_darwin(v0 - 8);
  uint64_t v2 = (char *)&v5 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_bridgeObjectRetain();
  sub_298820();
  uint64_t v3 = sub_298830();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v3 - 8) + 56))(v2, 0, 1, v3);
  sub_298CD0();
  return sub_23A44((uint64_t)v2, &qword_30F088);
}

uint64_t sub_C5064()
{
  sub_C2E88();
  sub_D105C(0);
  sub_294830();
  sub_294810();
  sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v0 = swift_allocObject();
  *(_OWORD *)(v0 + 16) = xmmword_29A440;
  sub_298A00();
  sub_7314();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v8 = sub_D105C(1);
  uint64_t v10 = v1;
  v12._countAndFlagsBits = 0x2E65756C61562ELL;
  v12._object = (void *)0xE700000000000000;
  sub_298A80(v12);
  v13._countAndFlagsBits = sub_298A00();
  sub_298A80(v13);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v0 + 32) = v8;
  *(void *)(v0 + 40) = v10;
  sub_294820();
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_29BFD0;
  *(void *)(v2 + 32) = sub_D105C(7);
  *(void *)(v2 + 40) = v3;
  *(void *)(v2 + 48) = sub_D105C(1);
  *(void *)(v2 + 56) = v4;
  sub_294860();
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_29A440;
  sub_298A00();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v9 = sub_D105C(1);
  uint64_t v11 = v6;
  v14._countAndFlagsBits = 0x2E65756C61562ELL;
  v14._object = (void *)0xE700000000000000;
  sub_298A80(v14);
  v15._countAndFlagsBits = sub_298A00();
  sub_298A80(v15);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v5 + 32) = v9;
  *(void *)(v5 + 40) = v11;
  sub_294850();
  swift_bridgeObjectRetain();
  sub_2947D0();
  swift_bridgeObjectRetain();
  return sub_2947C0();
}

uint64_t sub_C5324@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X2>, void (*a4)(char *, void, uint64_t, uint64_t)@<X3>, uint64_t a5@<X4>, void (*a6)(unint64_t, char *, uint64_t)@<X5>, void *a7@<X8>)
{
  uint64_t v77 = a6;
  uint64_t v78 = a4;
  uint64_t v87 = a1;
  os_log_type_t v79 = a7;
  uint64_t v73 = sub_298800();
  uint64_t v72 = *(void *)(v73 - 8);
  __chkstk_darwin(v73);
  v81 = (char *)&v70 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4(&qword_30F090);
  __chkstk_darwin(v11 - 8);
  uint64_t v84 = (char *)&v70 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v85 = sub_294440();
  uint64_t v86 = *(void *)(v85 - 8);
  uint64_t v13 = __chkstk_darwin(v85);
  unint64_t v71 = (char *)&v70 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v75 = (char *)&v70 - v16;
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v70 - v17;
  uint64_t v19 = sub_294570();
  uint64_t v20 = *(void *)(v19 - 8);
  uint64_t v21 = __chkstk_darwin(v19);
  uint64_t v76 = (char *)&v70 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = __chkstk_darwin(v21);
  unint64_t v74 = (char *)&v70 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  v83 = (char *)&v70 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v29 = (char *)&v70 - v28;
  __chkstk_darwin(v27);
  uint64_t v31 = (char *)&v70 - v30;
  uint64_t v90 = _swiftEmptyArrayStorage;
  sub_294560();
  sub_294520();
  sub_294540();
  sub_D105C(4);
  sub_294550();
  v80 = a2;
  int64_t v32 = sub_C4174(*a2, *(void *)(a3 + 16), (uint64_t)v31, a5);
  sub_C47A4((uint64_t)v32);
  sub_298860();
  uint64_t v87 = v20;
  if (!v33) {
    goto LABEL_6;
  }
  sub_294560();
  sub_294520();
  sub_294540();
  sub_D105C(8);
  sub_294550();
  Swift::String v34 = *(void (**)(char *, char *, uint64_t))(v20 + 16);
  id v35 = v84;
  v34(v84, v31, v19);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v20 + 56))(v35, 0, 1, v19);
  v34(v83, v29, v19);
  sub_294430();
  unint64_t v36 = (unint64_t)v90;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    goto LABEL_28;
  }
  while (1)
  {
    unint64_t v38 = *(void *)(v36 + 16);
    unint64_t v37 = *(void *)(v36 + 24);
    if (v38 >= v37 >> 1) {
      unint64_t v36 = sub_23E08(v37 > 1, v38 + 1, 1, v36);
    }
    *(void *)(v36 + 16) = v38 + 1;
    (*(void (**)(unint64_t, char *, uint64_t))(v86 + 32))(v36+ ((*(unsigned __int8 *)(v86 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v86 + 80))+ *(void *)(v86 + 72) * v38, v18, v85);
    uint64_t v90 = (void *)v36;
    (*(void (**)(char *, uint64_t))(v87 + 8))(v29, v19);
LABEL_6:
    uint64_t v39 = sub_296490();
    uint64_t v29 = v82;
    if (v40)
    {
      uint64_t v41 = (char *)v39;
      sub_297700();
      swift_bridgeObjectRetain();
      uint64_t v42 = sub_2976D0();
      type metadata accessor for AppInfoBuilder();
      uint64_t inited = swift_initStackObject();
      if (qword_30C8B0 != -1) {
        swift_once();
      }
      sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v88);
      sub_C8B10(v42, inited, &v88, (uint64_t)_swiftEmptyArrayStorage, v89);
      sub_CB0EC((uint64_t)v89, (uint64_t)&v88);
      if (*((void *)&v88 + 1))
      {
        v81 = v41;
        uint64_t v44 = v74;
        sub_294560();
        sub_294520();
        swift_bridgeObjectRetain();
        sub_294540();
        sub_D105C(6);
        sub_294550();
        uint64_t v45 = v87;
        unint64_t v46 = *(void (**)(char *, char *, uint64_t))(v87 + 16);
        unint64_t v47 = v84;
        v46(v84, v31, v19);
        uint64_t v78 = *(void (**)(char *, void, uint64_t, uint64_t))(v45 + 56);
        v78(v47, 0, 1, v19);
        id v48 = v44;
        unint64_t v49 = v46;
        v46(v83, v48, v19);
        sub_294430();
        unint64_t v50 = (unint64_t)v90;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v50 = sub_23E08(0, *(void *)(v50 + 16) + 1, 1, v50);
        }
        unint64_t v52 = *(void *)(v50 + 16);
        unint64_t v51 = *(void *)(v50 + 24);
        if (v52 >= v51 >> 1) {
          unint64_t v50 = sub_23E08(v51 > 1, v52 + 1, 1, v50);
        }
        *(void *)(v50 + 16) = v52 + 1;
        unint64_t v53 = *(void (**)(unint64_t, char *, uint64_t))(v86 + 32);
        uint64_t v73 = (*(unsigned __int8 *)(v86 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v86 + 80);
        uint64_t v72 = *(void *)(v86 + 72);
        v86 += 32;
        uint64_t v77 = v53;
        v53(v50 + v73 + v72 * v52, v75, v85);
        uint64_t v90 = (void *)v50;
        unint64_t v54 = *(void (**)(char *, uint64_t))(v87 + 8);
        v87 += 8;
        v54(v74, v19);
        unint64_t v55 = v76;
        sub_294560();
        sub_294520();
        sub_294540();
        sub_D105C(5);
        sub_294550();
        uint64_t v56 = v84;
        v49(v84, v31, v19);
        v78(v56, 0, 1, v19);
        uint64_t v18 = v83;
        v49(v83, v55, v19);
        uint64_t v57 = v71;
        sub_294430();
        unint64_t v58 = (unint64_t)v90;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v58 = sub_23E08(0, *(void *)(v58 + 16) + 1, 1, v58);
        }
        uint64_t v29 = v82;
        unint64_t v60 = *(void *)(v58 + 16);
        unint64_t v59 = *(void *)(v58 + 24);
        unint64_t v36 = v60 + 1;
        if (v60 >= v59 >> 1) {
          unint64_t v58 = sub_23E08(v59 > 1, v60 + 1, 1, v58);
        }
        *(void *)(v58 + 16) = v36;
        v77(v58 + v73 + v60 * v72, v57, v85);
        sub_CB154((uint64_t)v89);
        uint64_t v90 = (void *)v58;
        v54(v76, v19);
        uint64_t result = ((uint64_t (*)(char *, uint64_t))v54)(v31, v19);
        goto LABEL_25;
      }
      swift_bridgeObjectRelease();
    }
    uint64_t v62 = v87;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v63 = v73;
    uint64_t v64 = sub_6E60(v73, (uint64_t)qword_31FC08);
    uint64_t v65 = v72;
    (*(void (**)(char *, uint64_t, uint64_t))(v72 + 16))(v81, v64, v63);
    unint64_t v66 = sub_2987E0();
    os_log_type_t v67 = sub_298DB0();
    unint64_t v36 = v67;
    if (os_log_type_enabled(v66, v67))
    {
      unint64_t v68 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v68 = 0;
      _os_log_impl(&dword_0, v66, (os_log_type_t)v36, "CommonNLContextProvider#makeDisambiguationContextForMediaDestination unexpected missing bundle identifier from launchId", v68, 2u);
      swift_slowDealloc();
    }

    uint64_t v69 = *(void (**)(char *, uint64_t))(v65 + 8);
    uint64_t v18 = (char *)(v65 + 8);
    v69(v81, v63);
    uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v62 + 8))(v31, v19);
LABEL_25:
    void *v79 = v90;
    if (!__OFADD__(*v80, 1)) {
      break;
    }
    __break(1u);
LABEL_28:
    unint64_t v36 = sub_23E08(0, *(void *)(v36 + 16) + 1, 1, v36);
  }
  ++*v80;
  return result;
}

uint64_t sub_C5E20()
{
  uint64_t v0 = sub_71D4(&qword_30F088);
  __chkstk_darwin(v0 - 8);
  uint64_t v2 = (char *)&v5 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_bridgeObjectRetain();
  sub_298820();
  uint64_t v3 = sub_298830();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v3 - 8) + 56))(v2, 0, 1, v3);
  sub_298870();
  return sub_23A44((uint64_t)v2, &qword_30F088);
}

uint64_t sub_C5F38@<X0>(uint64_t a1@<X8>)
{
  sub_C2E88();
  sub_D105C(0);
  sub_294830();
  sub_294810();
  sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_29A440;
  sub_298A00();
  sub_7314();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v6 = sub_D105C(1);
  uint64_t v7 = v3;
  v8._countAndFlagsBits = 0x2E65756C61562ELL;
  v8._object = (void *)0xE700000000000000;
  sub_298A80(v8);
  v9._countAndFlagsBits = sub_298A00();
  sub_298A80(v9);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v2 + 32) = v6;
  *(void *)(v2 + 40) = v7;
  sub_294820();
  sub_294800();
  uint64_t v4 = sub_2948C0();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v4 - 8) + 56))(a1, 0, 1, v4);
}

uint64_t sub_C60D8@<X0>(uint64_t a1@<X8>)
{
  sub_C2E88();
  sub_D105C(0);
  sub_294830();
  sub_294810();
  sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_29A440;
  sub_298A00();
  sub_7314();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v6 = sub_D105C(1);
  uint64_t v7 = v3;
  v8._countAndFlagsBits = 0x2E65756C61562ELL;
  v8._object = (void *)0xE700000000000000;
  sub_298A80(v8);
  v9._countAndFlagsBits = sub_298A00();
  sub_298A80(v9);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v2 + 32) = v6;
  *(void *)(v2 + 40) = v7;
  sub_294820();
  uint64_t v4 = sub_2948C0();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v4 - 8) + 56))(a1, 0, 1, v4);
}

uint64_t sub_C6270@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint8_t *a3@<X2>, uint64_t a4@<X8>)
{
  unint64_t v66 = a3;
  uint64_t v67 = a2;
  uint64_t v70 = a4;
  uint64_t v5 = sub_2948C0();
  uint64_t v72 = *(void *)(v5 - 8);
  uint64_t v6 = __chkstk_darwin(v5);
  uint64_t v57 = (char *)&v56 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v6);
  unint64_t v68 = (char *)&v56 - v9;
  __chkstk_darwin(v8);
  uint64_t v73 = (char *)&v56 - v10;
  uint64_t v60 = sub_2936E0();
  uint64_t v11 = *(void *)(v60 - 8);
  __chkstk_darwin(v60);
  uint64_t v13 = (char *)&v56 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v16 = __chkstk_darwin(v14);
  unint64_t v71 = (char *)&v56 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v56 - v18;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v69 = v5;
  uint64_t v20 = sub_6E60(v14, (uint64_t)qword_31FC08);
  uint64_t v21 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
  uint64_t v62 = v15 + 16;
  uint64_t v63 = v20;
  uint64_t v22 = v14;
  uint64_t v61 = v21;
  ((void (*)(char *))v21)(v19);
  uint64_t v23 = sub_2987E0();
  os_log_type_t v24 = sub_298DA0();
  if (os_log_type_enabled(v23, v24))
  {
    uint64_t v25 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v25 = 0;
    _os_log_impl(&dword_0, v23, v24, "CommonNLContextProvider#makeAppNeedsDisambiguation", v25, 2u);
    swift_slowDealloc();
  }

  uint64_t v26 = *(void (**)(char *, uint64_t))(v15 + 8);
  uint64_t v64 = v15 + 8;
  uint64_t v65 = v26;
  v26(v19, v22);
  sub_294DC0();
  swift_allocObject();
  sub_294DB0();
  uint64_t v59 = sub_294DA0();
  uint64_t v58 = v27;
  swift_release();
  uint64_t v28 = type metadata accessor for AppInfoBuilder();
  uint64_t inited = swift_initStackObject();
  v75[3] = v28;
  v75[4] = (uint64_t)&off_2F6748;
  v75[0] = inited;
  uint64_t v30 = v66;
  uint64_t v31 = sub_CBA00(a1);
  sub_7184((uint64_t)v75);
  sub_2936D0();
  sub_2936B0();
  uint64_t v33 = v32;
  uint64_t v34 = (*(uint64_t (**)(char *, uint64_t))(v11 + 8))(v13, v60);
  __chkstk_darwin(v34);
  uint64_t v55 = v33;
  uint64_t v35 = swift_bridgeObjectRetain();
  unint64_t v36 = sub_CB6F8(v35, (void (*)(void, void))sub_CC4F4, (uint64_t)(&v56 - 4));
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v37 = swift_allocObject();
  *(_OWORD *)(v37 + 16) = xmmword_29BFD0;
  *(void *)(v37 + 32) = sub_D105C(5);
  *(void *)(v37 + 40) = v38;
  *(void *)(v37 + 48) = sub_D105C(1);
  *(void *)(v37 + 56) = v39;
  unint64_t v54 = v30;
  uint64_t v40 = v73;
  sub_C6A80(v37, v59, v58, (uint64_t)v31, 1, 1, (uint64_t)v36);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v41 = v71;
  uint64_t v67 = v22;
  v61(v71, v63, v22);
  uint64_t v42 = v72;
  uint64_t v43 = *(void (**)(char *, char *, uint64_t))(v72 + 16);
  uint64_t v44 = v68;
  uint64_t v45 = v69;
  v43(v68, v40, v69);
  unint64_t v46 = sub_2987E0();
  os_log_type_t v47 = sub_298DA0();
  if (os_log_type_enabled(v46, v47))
  {
    id v48 = (uint8_t *)swift_slowAlloc();
    v75[0] = swift_slowAlloc();
    *(_DWORD *)id v48 = 136315138;
    unint64_t v66 = v48 + 4;
    v43(v57, v44, v45);
    uint64_t v49 = sub_2989E0();
    uint64_t v74 = sub_6E98(v49, v50, v75);
    uint64_t v42 = v72;
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v42 + 8))(v44, v45);
    _os_log_impl(&dword_0, v46, v47, "CommonNLContextProvider#makeAppNeedsDisambiguation for update: %s", v48, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    unint64_t v51 = v71;
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v42 + 8))(v44, v45);

    unint64_t v51 = v41;
  }
  v65(v51, v67);
  uint64_t v52 = v70;
  (*(void (**)(uint64_t, char *, uint64_t))(v42 + 32))(v70, v73, v45);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v42 + 56))(v52, 0, 1, v45);
}

uint64_t sub_C696C@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = sub_71D4(&qword_30F088);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v7 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_bridgeObjectRetain();
  sub_298820();
  uint64_t v5 = sub_298830();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v5 - 8) + 56))(v4, 0, 1, v5);
  sub_F07C0((uint64_t)v4, a1);
  return sub_23A44((uint64_t)v4, &qword_30F088);
}

uint64_t sub_C6A80(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, uint64_t a7)
{
  uint64_t v27 = a7;
  v20[3] = a5;
  uint64_t v25 = a4;
  uint64_t v22 = a3;
  uint64_t v23 = a2;
  uint64_t v21 = a1;
  uint64_t v28 = sub_2981F0();
  uint64_t v26 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  os_log_type_t v24 = (char *)v20 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30EF58);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)v20 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_2948B0();
  sub_294800();
  sub_294810();
  sub_D105C(0);
  sub_294880();
  sub_71D4((uint64_t *)&unk_3177F0);
  uint64_t v11 = swift_allocObject();
  *(_OWORD *)(v11 + 16) = xmmword_29BFD0;
  unint64_t v33 = sub_298A00();
  uint64_t v34 = v12;
  uint64_t v31 = 32;
  unint64_t v32 = 0xE100000000000000;
  uint64_t v29 = 95;
  unint64_t v30 = 0xE100000000000000;
  sub_7314();
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v33 = sub_D105C(1);
  uint64_t v34 = v13;
  v35._countAndFlagsBits = 0x2E65756C61562ELL;
  v35._object = (void *)0xE700000000000000;
  sub_298A80(v35);
  v36._countAndFlagsBits = sub_298A00();
  sub_298A80(v36);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v14 = v34;
  *(void *)(v11 + 32) = v33;
  *(void *)(v11 + 40) = v14;
  unint64_t v33 = sub_298A00();
  uint64_t v34 = v15;
  uint64_t v31 = 32;
  unint64_t v32 = 0xE100000000000000;
  uint64_t v29 = 95;
  unint64_t v30 = 0xE100000000000000;
  sub_2992F0();
  swift_bridgeObjectRelease();
  unint64_t v33 = sub_D105C(1);
  uint64_t v34 = v16;
  v37._countAndFlagsBits = 0x2E65756C61562ELL;
  v37._object = (void *)0xE700000000000000;
  sub_298A80(v37);
  v38._countAndFlagsBits = sub_298A00();
  sub_298A80(v38);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v17 = v34;
  *(void *)(v11 + 48) = v33;
  *(void *)(v11 + 56) = v17;
  sub_294870();
  swift_bridgeObjectRetain();
  sub_294890();
  swift_bridgeObjectRetain();
  sub_2948A0();
  swift_bridgeObjectRetain();
  sub_2947D0();
  swift_bridgeObjectRetain();
  sub_2947C0();
  (*(void (**)(char *, void, uint64_t))(v26 + 104))(v24, enum case for PommesContext.Source.pluginDefined(_:), v28);
  sub_298200();
  uint64_t v18 = sub_298210();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56))(v10, 0, 1, v18);
  return sub_2947E0();
}

uint64_t sub_C6E70(uint64_t a1, void (*a2)(uint64_t), uint64_t a3)
{
  uint64_t v59 = a3;
  uint64_t v61 = a2;
  uint64_t v3 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v3 - 8);
  uint64_t v60 = (char *)&v54 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_298800();
  uint64_t v62 = *(void *)(v5 - 8);
  uint64_t v6 = __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v54 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  uint64_t v11 = (char *)&v54 - v10;
  __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v54 - v12;
  uint64_t v14 = sub_2948C0();
  uint64_t v57 = *(void *)(v14 - 8);
  uint64_t v58 = v14;
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v54 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v54 - v18;
  uint64_t v20 = sub_2976E0();
  if (!v21)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v36 = v5;
    uint64_t v37 = sub_6E60(v5, (uint64_t)qword_31FC08);
    uint64_t v38 = v62;
    (*(void (**)(char *, uint64_t, uint64_t))(v62 + 16))(v8, v37, v5);
    uint64_t v39 = sub_2987E0();
    os_log_type_t v40 = sub_298DB0();
    BOOL v41 = os_log_type_enabled(v39, v40);
    uint64_t v43 = v57;
    uint64_t v42 = v58;
    if (v41)
    {
      uint64_t v44 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v44 = 0;
      _os_log_impl(&dword_0, v39, v40, "CommonNLContextProvider#makeAppNeedsConfirmation failed to build context update for app confirmation due to nil appIdentifier", v44, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v38 + 8))(v8, v36);
    uint64_t v45 = (uint64_t)v60;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v43 + 56))(v60, 1, 1, v42);
    goto LABEL_20;
  }
  uint64_t v22 = v20;
  unint64_t v23 = v21;
  uint64_t v24 = sub_294960();
  if (!v24)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v46 = v5;
    uint64_t v47 = sub_6E60(v5, (uint64_t)qword_31FC08);
    uint64_t v48 = v62;
    (*(void (**)(char *, uint64_t, uint64_t))(v62 + 16))(v11, v47, v46);
    swift_bridgeObjectRetain();
    uint64_t v49 = sub_2987E0();
    os_log_type_t v50 = sub_298DB0();
    if (os_log_type_enabled(v49, v50))
    {
      unint64_t v51 = (uint8_t *)swift_slowAlloc();
      v65[0] = swift_slowAlloc();
      *(_DWORD *)unint64_t v51 = 136446210;
      id v56 = v51 + 4;
      swift_bridgeObjectRetain();
      uint64_t v64 = sub_6E98(v22, v23, v65);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v49, v50, "CommonNLContextProvider#makeAppNeedsConfirmation failed to build appInfo for app: %{public}s", v51, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v48 + 8))(v11, v46);
    uint64_t v45 = (uint64_t)v60;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v57 + 56))(v60, 1, 1, v58);
LABEL_20:
    v61(v45);
    return sub_23A44(v45, (uint64_t *)&unk_30FA70);
  }
  uint64_t v25 = (void *)v24;
  swift_bridgeObjectRelease();
  sub_C2E88();
  sub_71D4(&qword_3107B0);
  uint64_t v26 = swift_allocObject();
  *(_OWORD *)(v26 + 16) = xmmword_29A8D0;
  *(void *)(v26 + 32) = v25;
  v65[0] = v26;
  sub_298B70();
  id v56 = v25;
  sub_294840();
  sub_294810();
  sub_294DC0();
  swift_allocObject();
  sub_294DB0();
  sub_2976E0();
  sub_294D80();
  swift_bridgeObjectRelease();
  swift_release();
  sub_294DA0();
  swift_release();
  sub_2948A0();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v27 = sub_6E60(v5, (uint64_t)qword_31FC08);
  uint64_t v28 = v62;
  (*(void (**)(char *, uint64_t, uint64_t))(v62 + 16))(v13, v27, v5);
  uint64_t v29 = sub_2987E0();
  os_log_type_t v30 = sub_298DA0();
  if (os_log_type_enabled(v29, v30))
  {
    uint64_t v55 = v5;
    uint64_t v31 = (uint8_t *)swift_slowAlloc();
    v65[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v31 = 136315138;
    unint64_t v54 = v31 + 4;
    swift_beginAccess();
    uint64_t v32 = v57;
    uint64_t v33 = v58;
    (*(void (**)(char *, char *, uint64_t))(v57 + 16))(v17, v19, v58);
    uint64_t v34 = sub_2989E0();
    uint64_t v63 = sub_6E98(v34, v35, v65);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v29, v30, "CommonNLContextProvider#makeAppNeedsConfirmation for update: %s", v31, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v62 + 8))(v13, v55);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v28 + 8))(v13, v5);
    uint64_t v32 = v57;
    uint64_t v33 = v58;
  }
  swift_beginAccess();
  uint64_t v52 = (uint64_t)v60;
  (*(void (**)(char *, char *, uint64_t))(v32 + 16))(v60, v19, v33);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v32 + 56))(v52, 0, 1, v33);
  v61(v52);

  sub_23A44(v52, (uint64_t *)&unk_30FA70);
  return (*(uint64_t (**)(char *, uint64_t))(v32 + 8))(v19, v33);
}

uint64_t sub_C76F0(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30F090);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v14 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_294570();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v14 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v14 - v10;
  sub_294560();
  sub_294520();
  swift_bridgeObjectRetain();
  sub_294540();
  sub_D105C(7);
  sub_294550();
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v6 + 16);
  v12(v4, a1, v5);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v6 + 56))(v4, 0, 1, v5);
  v12(v9, (uint64_t)v11, v5);
  sub_294430();
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v11, v5);
}

uint64_t type metadata accessor for AppInfoBuilder()
{
  return self;
}

uint64_t sub_C790C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_allocateGenericValueMetadata(a1, a2, a3, 16);
}

uint64_t type metadata accessor for AudioNLContextUpdateProvider()
{
  return sub_247C4();
}

id sub_C792C()
{
  uint64_t v1 = v0;
  uint64_t v22 = sub_293700();
  uint64_t v23 = v2;
  unint64_t v21 = sub_7314();
  uint64_t v3 = sub_2992F0();
  uint64_t v5 = v4;
  swift_bridgeObjectRelease();
  id v6 = objc_msgSend(v0, "displayAppName", &type metadata for String, v21, v21, v21, 95, 0xE100000000000000, 45, 0xE100000000000000, v22, v23);
  if (v6) {
    goto LABEL_16;
  }
  id v7 = [v0 displayAppNameMap];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = sub_298960();

    if (*(void *)(v9 + 16))
    {
      swift_bridgeObjectRetain();
      unint64_t v10 = sub_A64A8(v3, v5);
      if (v11)
      {
LABEL_11:
        id v15 = *(id *)(*(void *)(v9 + 56) + 16 * v10);
        swift_bridgeObjectRetain();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        return v15;
      }
      swift_bridgeObjectRelease();
    }
    swift_bridgeObjectRelease();
  }
  id v6 = [v1 appName];
  if (v6) {
    goto LABEL_16;
  }
  id v12 = [v1 appNameMap];
  if (v12)
  {
    uint64_t v13 = v12;
    uint64_t v9 = sub_298960();

    if (*(void *)(v9 + 16))
    {
      swift_bridgeObjectRetain();
      unint64_t v10 = sub_A64A8(v3, v5);
      if (v14) {
        goto LABEL_11;
      }
      swift_bridgeObjectRelease();
    }
    swift_bridgeObjectRelease();
  }
  id v6 = [v1 spotlightName];
  if (v6)
  {
LABEL_16:
    uint64_t v16 = v6;
    id v15 = (id)sub_2989C0();
    swift_bridgeObjectRelease();

    return v15;
  }
  id v15 = [v1 spotlightNameMap];
  if (v15)
  {
    uint64_t v18 = sub_298960();

    if (*(void *)(v18 + 16) && (unint64_t v19 = sub_A64A8(v3, v5), (v20 & 1) != 0))
    {
      id v15 = *(id *)(*(void *)(v18 + 56) + 16 * v19);
      swift_bridgeObjectRetain();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return 0;
    }
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  return v15;
}

uint64_t sub_C7C1C()
{
  return sub_C5E20();
}

unint64_t sub_C7C28(uint64_t a1)
{
  sub_298510();
  sub_CC5D8(&qword_30F0D0, (void (*)(uint64_t))&type metadata accessor for DeviceCategory);
  uint64_t v2 = sub_298980();
  return sub_C8348(a1, v2, (uint64_t (*)(void))&type metadata accessor for DeviceCategory, &qword_30F0D8, (void (*)(uint64_t))&type metadata accessor for DeviceCategory, (uint64_t)&protocol conformance descriptor for DeviceCategory);
}

unint64_t sub_C7CFC(uint64_t a1)
{
  uint64_t v2 = v1;
  Swift::Int v4 = sub_299350(*(void *)(v2 + 40));

  return sub_C81E4(a1, v4);
}

unint64_t sub_C7D40(Swift::UInt a1)
{
  sub_299680();
  sub_299690(a1);
  Swift::Int v2 = sub_2996B0();

  return sub_C82AC(a1, v2);
}

unint64_t sub_C7DAC(uint64_t a1)
{
  sub_297C70();
  sub_CC5D8(&qword_30F098, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType);
  uint64_t v2 = sub_298980();
  return sub_C8348(a1, v2, (uint64_t (*)(void))&type metadata accessor for CommonAudio.MediaType, &qword_30DDE8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType, (uint64_t)&protocol conformance descriptor for CommonAudio.MediaType);
}

unint64_t sub_C7E80(uint64_t a1)
{
  sub_297BF0();
  sub_CC5D8(&qword_30F0A0, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Sort);
  uint64_t v2 = sub_298980();
  return sub_C8348(a1, v2, (uint64_t (*)(void))&type metadata accessor for CommonAudio.Sort, &qword_30F0A8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Sort, (uint64_t)&protocol conformance descriptor for CommonAudio.Sort);
}

unint64_t sub_C7F54(uint64_t a1)
{
  sub_297C10();
  sub_CC5D8(&qword_30F0B0, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Decade);
  uint64_t v2 = sub_298980();
  return sub_C8348(a1, v2, (uint64_t (*)(void))&type metadata accessor for CommonAudio.Decade, &qword_30F0B8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Decade, (uint64_t)&protocol conformance descriptor for CommonAudio.Decade);
}

unint64_t sub_C8028(uint64_t a1, uint64_t a2)
{
  sub_299680();
  if (a2)
  {
    sub_2996A0(1u);
    swift_bridgeObjectRetain();
    sub_298A40();
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_2996A0(0);
  }
  Swift::Int v4 = sub_2996B0();

  return sub_C84E8(a1, a2, v4);
}

unint64_t sub_C80CC(uint64_t a1)
{
  uint64_t v2 = v1;
  Swift::Int v4 = sub_299230(*(void *)(v2 + 40));

  return sub_C85B4(a1, v4);
}

unint64_t sub_C8110(uint64_t a1)
{
  sub_295930();
  sub_CC5D8(&qword_30F0C0, (void (*)(uint64_t))&type metadata accessor for DateTime.DateTimeRange.DefinedDateTimeRange);
  uint64_t v2 = sub_298980();
  return sub_C8348(a1, v2, (uint64_t (*)(void))&type metadata accessor for DateTime.DateTimeRange.DefinedDateTimeRange, &qword_30F0C8, (void (*)(uint64_t))&type metadata accessor for DateTime.DateTimeRange.DefinedDateTimeRange, (uint64_t)&protocol conformance descriptor for DateTime.DateTimeRange.DefinedDateTimeRange);
}

unint64_t sub_C81E4(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = -1 << *(unsigned char *)(v2 + 32);
  unint64_t v4 = a2 & ~v3;
  if ((*(void *)(v2 + 64 + ((v4 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v4))
  {
    uint64_t v5 = ~v3;
    do
    {
      sub_4783C(*(void *)(v2 + 48) + 40 * v4, (uint64_t)v8);
      char v6 = sub_299360();
      sub_47898((uint64_t)v8);
      if (v6) {
        break;
      }
      unint64_t v4 = (v4 + 1) & v5;
    }
    while (((*(void *)(v2 + 64 + ((v4 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v4) & 1) != 0);
  }
  return v4;
}

unint64_t sub_C82AC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = v2 + 64;
  uint64_t v5 = -1 << *(unsigned char *)(v2 + 32);
  unint64_t result = a2 & ~v5;
  if ((*(void *)(v2 + 64 + ((result >> 3) & 0xFFFFFFFFFFFFFF8)) >> result))
  {
    uint64_t v7 = *(void *)(v2 + 48);
    if (*(void *)(v7 + 8 * result) != a1)
    {
      uint64_t v8 = ~v5;
      for (unint64_t result = (result + 1) & v8;
            ((*(void *)(v4 + ((result >> 3) & 0xFFFFFFFFFFFFFF8)) >> result) & 1) != 0;
            unint64_t result = (result + 1) & v8)
      {
        if (*(void *)(v7 + 8 * result) == a1) {
          break;
        }
      }
    }
  }
  return result;
}

unint64_t sub_C8348(uint64_t a1, uint64_t a2, uint64_t (*a3)(void), unint64_t *a4, void (*a5)(uint64_t), uint64_t a6)
{
  uint64_t v24 = a5;
  uint64_t v25 = a6;
  uint64_t v23 = a4;
  v21[1] = a1;
  uint64_t v8 = a3(0);
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  char v11 = (char *)v21 - v10;
  uint64_t v22 = v6;
  uint64_t v12 = -1 << *(unsigned char *)(v6 + 32);
  unint64_t v13 = a2 & ~v12;
  v21[0] = v6 + 64;
  if ((*(void *)(v6 + 64 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13))
  {
    uint64_t v14 = ~v12;
    uint64_t v17 = *(void (**)(char *, unint64_t, uint64_t))(v9 + 16);
    uint64_t v16 = v9 + 16;
    id v15 = v17;
    uint64_t v18 = *(void *)(v16 + 56);
    do
    {
      v15(v11, *(void *)(v22 + 48) + v18 * v13, v8);
      sub_CC5D8(v23, v24);
      char v19 = sub_2989A0();
      (*(void (**)(char *, uint64_t))(v16 - 8))(v11, v8);
      if (v19) {
        break;
      }
      unint64_t v13 = (v13 + 1) & v14;
    }
    while (((*(void *)(v21[0] + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13) & 1) != 0);
  }
  return v13;
}

unint64_t sub_C84E8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3 + 64;
  uint64_t v5 = -1 << *(unsigned char *)(v3 + 32);
  unint64_t v6 = a3 & ~v5;
  if ((*(void *)(v3 + 64 + ((v6 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v6))
  {
    uint64_t v9 = ~v5;
    uint64_t v10 = *(void *)(v3 + 48);
    do
    {
      char v11 = (void *)(v10 + 16 * v6);
      uint64_t v12 = v11[1];
      if (v12)
      {
        if (a2)
        {
          BOOL v13 = *v11 == a1 && v12 == a2;
          if (v13 || (sub_2995D0() & 1) != 0) {
            return v6;
          }
        }
      }
      else if (!a2)
      {
        return v6;
      }
      unint64_t v6 = (v6 + 1) & v9;
    }
    while (((*(void *)(v4 + ((v6 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v6) & 1) != 0);
  }
  return v6;
}

unint64_t sub_C85B4(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2 + 64;
  uint64_t v4 = -1 << *(unsigned char *)(v2 + 32);
  unint64_t i = a2 & ~v4;
  if ((*(void *)(v2 + 64 + ((i >> 3) & 0xFFFFFFFFFFFFFF8)) >> i))
  {
    sub_1983C(0, &qword_30F100);
    id v6 = *(id *)(*(void *)(v2 + 48) + 8 * i);
    char v7 = sub_299240();

    if ((v7 & 1) == 0)
    {
      uint64_t v8 = ~v4;
      for (unint64_t i = (i + 1) & v8; ((*(void *)(v3 + ((i >> 3) & 0xFFFFFFFFFFFFFF8)) >> i) & 1) != 0; unint64_t i = (i + 1) & v8)
      {
        id v9 = *(id *)(*(void *)(v2 + 48) + 8 * i);
        char v10 = sub_299240();

        if (v10) {
          break;
        }
      }
    }
  }
  return i;
}

uint64_t sub_C86D0(unint64_t a1, uint64_t a2, unint64_t a3)
{
  unint64_t v6 = a3 >> 62;
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (!v7) {
      return a3;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
    if (!v7) {
      return a3;
    }
  }
  if (!a1) {
    goto LABEL_19;
  }
  uint64_t v8 = a3 & 0xFFFFFFFFFFFFFF8;
  if (v6)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (v10 <= a2)
    {
      if (v7 >= 1)
      {
        sub_CC620(&qword_30F110, &qword_30F108);
        swift_bridgeObjectRetain();
        for (unint64_t i = 0; i != v7; ++i)
        {
          sub_71D4(&qword_30F108);
          uint64_t v12 = sub_20C950(v16, i, a3);
          id v14 = *v13;
          ((void (*)(void (**)(id *), void))v12)(v16, 0);
          *(void *)(a1 + 8 * i) = v14;
        }
        swift_bridgeObjectRelease();
        return a3;
      }
      goto LABEL_18;
    }
LABEL_17:
    __break(1u);
LABEL_18:
    __break(1u);
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v9 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
  if (v9 > a2)
  {
    __break(1u);
    goto LABEL_17;
  }
  if (v8 + 32 >= a1 + 8 * v9 || v8 + 32 + 8 * v9 <= a1)
  {
    sub_1983C(0, (unint64_t *)&qword_313910);
    swift_arrayInitWithCopy();
    return a3;
  }
LABEL_20:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_C88F0(unint64_t a1, uint64_t a2, unint64_t a3)
{
  unint64_t v6 = a3 >> 62;
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (!v7) {
      return a3;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
    if (!v7) {
      return a3;
    }
  }
  if (!a1) {
    goto LABEL_19;
  }
  uint64_t v8 = a3 & 0xFFFFFFFFFFFFFF8;
  if (v6)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (v10 <= a2)
    {
      if (v7 >= 1)
      {
        sub_CC620(&qword_30F0F8, &qword_30F0F0);
        swift_bridgeObjectRetain();
        for (unint64_t i = 0; i != v7; ++i)
        {
          sub_71D4(&qword_30F0F0);
          uint64_t v12 = sub_20C9BC(v16, i, a3);
          id v14 = *v13;
          ((void (*)(void (**)(id *), void))v12)(v16, 0);
          *(void *)(a1 + 8 * i) = v14;
        }
        swift_bridgeObjectRelease();
        return a3;
      }
      goto LABEL_18;
    }
LABEL_17:
    __break(1u);
LABEL_18:
    __break(1u);
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v9 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
  if (v9 > a2)
  {
    __break(1u);
    goto LABEL_17;
  }
  if (v8 + 32 >= a1 + 8 * v9 || v8 + 32 + 8 * v9 <= a1)
  {
    sub_1983C(0, &qword_317830);
    swift_arrayInitWithCopy();
    return a3;
  }
LABEL_20:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_C8B10@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, _OWORD *a3@<X2>, uint64_t a4@<X3>, uint64_t *a5@<X8>)
{
  uint64_t v225 = a4;
  uint64_t v220 = a2;
  v221 = a5;
  uint64_t v214 = sub_2988B0();
  uint64_t v213 = *(void *)(v214 - 8);
  __chkstk_darwin(v214);
  v210 = (void *)((char *)v189 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v212 = sub_298920();
  uint64_t v211 = *(void *)(v212 - 8);
  uint64_t v8 = __chkstk_darwin(v212);
  v208 = (char *)v189 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  v209 = (char *)v189 - v10;
  uint64_t v207 = sub_2987D0();
  uint64_t v206 = *(void *)(v207 - 8);
  uint64_t v11 = __chkstk_darwin(v207);
  BOOL v13 = (char *)v189 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v204 = v12;
  __chkstk_darwin(v11);
  v205 = (char *)v189 - v14;
  uint64_t v222 = sub_295F80();
  v203 = *(void (**)(void))(v222 - 8);
  uint64_t v15 = __chkstk_darwin(v222);
  uint64_t v17 = (char *)v189 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = __chkstk_darwin(v15);
  v201 = (char *)v189 - v19;
  __chkstk_darwin(v18);
  v202 = (char *)v189 - v20;
  uint64_t v226 = sub_298800();
  uint64_t v223 = *(void *)(v226 - 8);
  uint64_t v21 = __chkstk_darwin(v226);
  uint64_t v23 = (char *)v189 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = __chkstk_darwin(v21);
  v216 = (char *)v189 - v25;
  uint64_t v26 = __chkstk_darwin(v24);
  v215 = (char *)v189 - v27;
  uint64_t v28 = __chkstk_darwin(v26);
  v218 = ((char *)v189 - v29);
  uint64_t v30 = __chkstk_darwin(v28);
  v217 = (char *)v189 - v31;
  uint64_t v32 = __chkstk_darwin(v30);
  v200 = (char *)v189 - v33;
  uint64_t v34 = __chkstk_darwin(v32);
  v219 = (char *)v189 - v35;
  uint64_t v36 = __chkstk_darwin(v34);
  uint64_t v38 = (char *)v189 - v37;
  __chkstk_darwin(v36);
  os_log_type_t v40 = (char *)v189 - v39;
  uint64_t v41 = sub_293720();
  uint64_t v42 = *(void *)(v41 - 8);
  __chkstk_darwin(v41);
  uint64_t v44 = (char *)v189 - ((v43 + 15) & 0xFFFFFFFFFFFFFFF0);
  long long v45 = a3[3];
  v235[2] = a3[2];
  v235[3] = v45;
  v235[4] = a3[4];
  long long v46 = a3[1];
  v235[0] = *a3;
  v235[1] = v46;
  uint64_t v47 = sub_2976E0();
  unint64_t v227 = v48;
  if (!v48) {
    goto LABEL_9;
  }
  uint64_t v224 = v47;
  uint64_t v49 = sub_294960();
  if (!v49)
  {
    swift_bridgeObjectRelease();
LABEL_9:
    swift_bridgeObjectRelease();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v62 = v226;
    uint64_t v63 = sub_6E60(v226, (uint64_t)qword_31FC08);
    uint64_t v64 = v223;
    (*(void (**)(char *, uint64_t, uint64_t))(v223 + 16))(v23, v63, v62);
    swift_retain_n();
    id v65 = v23;
    unint64_t v66 = sub_2987E0();
    os_log_type_t v67 = sub_298DB0();
    if (os_log_type_enabled(v66, v67))
    {
      unint64_t v68 = (uint8_t *)swift_slowAlloc();
      uint64_t v230 = swift_slowAlloc();
      *(_DWORD *)unint64_t v68 = 136446210;
      *(void *)&v231[0] = sub_2976E0();
      *((void *)&v231[0] + 1) = v69;
      sub_71D4((uint64_t *)&unk_313920);
      uint64_t v70 = sub_2989E0();
      id v65 = (id)v71;
      *(void *)&v231[0] = sub_6E98(v70, v71, &v230);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v66, v67, "DisplayApp#init could not build display app for bundle: %{public}s", v68, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      swift_release();
      (*(void (**)(char *, uint64_t))(v64 + 8))(v23, v226);
    }
    else
    {

      swift_release_n();
      (*(void (**)(char *, uint64_t))(v64 + 8))(v23, v62);
    }
    int v72 = 0;
    goto LABEL_15;
  }
  v195 = v38;
  os_log_type_t v50 = (void *)v49;
  swift_retain();
  swift_bridgeObjectRetain();
  uint64_t v197 = (uint64_t)v50;
  id v51 = v50;
  swift_bridgeObjectRetain();
  sub_295D20();
  id v198 = v51;
  uint64_t v52 = (uint64_t)sub_C792C();
  unint64_t v54 = v53;
  uint64_t v55 = *(void (**)(char *, uint64_t))(v42 + 8);
  v55(v44, v41);
  uint64_t v199 = a1;
  v196 = v13;
  if (!v54)
  {
    v194 = v55;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v56 = sub_6E60(v226, (uint64_t)qword_31FC08);
    uint64_t v57 = *(void (**)(char *, uint8_t *, uint64_t))(v223 + 16);
    v192 = (uint8_t *)v56;
    v193 = (void (*)(char *, void (*)(void, void), uint64_t))(v223 + 16);
    v191 = v57;
    ((void (*)(char *))v57)(v40);
    unint64_t v58 = v227;
    swift_bridgeObjectRetain_n();
    uint64_t v59 = sub_2987E0();
    os_log_type_t v60 = sub_298DB0();
    if (os_log_type_enabled(v59, v60))
    {
      uint64_t v61 = (uint8_t *)swift_slowAlloc();
      v190 = (void (*)(char *, uint64_t))swift_slowAlloc();
      *(void *)&v231[0] = v190;
      *(_DWORD *)uint64_t v61 = 136315138;
      v189[1] = v61 + 4;
      swift_bridgeObjectRetain();
      uint64_t v230 = sub_6E98(v224, v58, (uint64_t *)v231);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v59, v60, "DisplayApp#init couldn't find localized name for app info: %s, trying app name...", v61, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    v190 = *(void (**)(char *, uint64_t))(v223 + 8);
    v190(v40, v226);
    sub_294CC0();
    swift_allocObject();
    swift_retain();
    sub_294CB0();
    sub_295D20();
    uint64_t v52 = sub_294CA0();
    unint64_t v54 = v84;
    swift_release();
    v194(v44, v41);
    if (!v54)
    {
      swift_bridgeObjectRelease();
      v109 = v195;
      uint64_t v110 = v226;
      v191(v195, v192, v226);
      swift_bridgeObjectRetain();
      v111 = sub_2987E0();
      os_log_type_t v112 = sub_298DB0();
      if (os_log_type_enabled(v111, v112))
      {
        uint64_t v113 = (uint8_t *)swift_slowAlloc();
        *(void *)&v231[0] = swift_slowAlloc();
        *(_DWORD *)uint64_t v113 = 136315138;
        swift_bridgeObjectRetain();
        uint64_t v230 = sub_6E98(v224, v227, (uint64_t *)v231);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v111, v112, "DisplayApp#init couldn't find localized name for app: %s", v113, 0xCu);
        int v72 = 1;
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
        id v65 = v198;

        swift_release();
        v190(v109, v110);
      }
      else
      {

        id v65 = v198;
        swift_release();
        swift_bridgeObjectRelease_n();
        v190(v109, v110);
        int v72 = 1;
      }
LABEL_15:
      sub_18E18((uint64_t)v235);
      uint64_t result = swift_release();
      if (v72)
      {
        swift_bridgeObjectRelease();

        swift_release();
        uint64_t result = swift_bridgeObjectRelease();
      }
      uint64_t v74 = 0;
      unint64_t v75 = 0;
      uint64_t v76 = 0;
      unint64_t v77 = 0;
      uint64_t v78 = 0;
      unint64_t v79 = 0;
      uint64_t v80 = 0;
      uint64_t v81 = 0;
      uint64_t v82 = 0;
      v83 = v221;
      goto LABEL_69;
    }
  }
  uint64_t v85 = v225;
  uint64_t v86 = v226;
  uint64_t v233 = v52;
  unint64_t v234 = v54;
  uint64_t v87 = HIBYTE(v54) & 0xF;
  if ((v54 & 0x2000000000000000) == 0) {
    uint64_t v87 = v52 & 0xFFFFFFFFFFFFLL;
  }
  uint64_t v88 = v223;
  p_base_meths = &PlayMedia.HandleIntentStrategy.base_meths;
  uint64_t v90 = v219;
  if (!v87)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v91 = sub_6E60(v86, (uint64_t)qword_31FC08);
    uint64_t v92 = *(void (**)(void))(v88 + 16);
    v194 = (void (*)(char *, uint64_t))v91;
    v195 = (char *)(v88 + 16);
    v193 = (void (*)(char *, void (*)(void, void), uint64_t))v92;
    v92(v90);
    swift_bridgeObjectRetain_n();
    uint64_t v93 = sub_2987E0();
    uint64_t v94 = v86;
    os_log_type_t v95 = sub_298DB0();
    if (os_log_type_enabled(v93, v95))
    {
      uint64_t v96 = (uint8_t *)swift_slowAlloc();
      *(void *)&v231[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v96 = 136315138;
      v192 = v96 + 4;
      swift_bridgeObjectRetain();
      uint64_t v97 = sub_298B60();
      unint64_t v99 = v98;
      swift_bridgeObjectRelease();
      uint64_t v230 = sub_6E98(v97, v99, (uint64_t *)v231);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      uint64_t v88 = v223;
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v93, v95, "DisplayApp#init Empty bundleIDs, looking in installed apps: %s", v96, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      long long v100 = *(void (**)(char *, uint64_t))(v88 + 8);
      uint64_t v86 = v226;
      v100(v219, v226);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      long long v100 = *(void (**)(char *, uint64_t))(v88 + 8);
      v100(v90, v94);
      uint64_t v86 = v94;
    }
    uint64_t v101 = *(void *)(v85 + 16);
    p_base_meths = (__objc2_meth_list **)(&PlayMedia.HandleIntentStrategy + 32);
    if (v101)
    {
      v219 = (char *)v100;
      id v102 = (void (*)(char *, uint64_t, uint64_t))*((void *)v203 + 2);
      uint64_t v103 = v85 + ((*((unsigned __int8 *)v203 + 80) + 32) & ~(unint64_t)*((unsigned __int8 *)v203 + 80));
      uint64_t v104 = (void (**)(char *, uint64_t))((char *)v203 + 8);
      uint64_t v105 = *((void *)v203 + 9);
      swift_bridgeObjectRetain();
      uint64_t v106 = v222;
      while (1)
      {
        v102(v17, v103, v106);
        if (sub_295F60() == v224 && v227 == v107) {
          break;
        }
        char v108 = sub_2995D0();
        swift_bridgeObjectRelease();
        if (v108) {
          goto LABEL_39;
        }
        uint64_t v106 = v222;
        (*v104)(v17, v222);
        v103 += v105;
        if (!--v101)
        {
          swift_bridgeObjectRelease();
          goto LABEL_45;
        }
      }
      swift_bridgeObjectRelease();
LABEL_39:
      swift_bridgeObjectRelease();
      uint64_t v114 = (void (*)(char *, char *, uint64_t))*((void *)v203 + 4);
      v115 = v201;
      uint64_t v116 = v222;
      v114(v201, v17, v222);
      v117 = v202;
      v114(v202, v115, v116);
      uint64_t v118 = sub_295F70();
      if (v119)
      {
        uint64_t v120 = v118;
        unint64_t v121 = v119;
        swift_bridgeObjectRelease();
        uint64_t v122 = v200;
        uint64_t v123 = v226;
        v193(v200, (void (*)(void, void))v194, v226);
        unint64_t v124 = v227;
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain_n();
        v125 = sub_2987E0();
        os_log_type_t v126 = sub_298DC0();
        if (os_log_type_enabled(v125, v126))
        {
          uint64_t v127 = swift_slowAlloc();
          *(void *)&v231[0] = swift_slowAlloc();
          *(_DWORD *)uint64_t v127 = 136315394;
          swift_bridgeObjectRetain();
          uint64_t v230 = sub_6E98(v120, v121, (uint64_t *)v231);
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          *(_WORD *)(v127 + 12) = 2080;
          swift_bridgeObjectRetain();
          uint64_t v230 = sub_6E98(v224, v124, (uint64_t *)v231);
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v125, v126, "DisplayApp#init overriding empty displayName with:%s for identifier:%s", (uint8_t *)v127, 0x16u);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          ((void (*)(char *, uint64_t))v219)(v200, v226);
          (*v104)(v202, v222);
        }
        else
        {
          swift_bridgeObjectRelease_n();
          swift_bridgeObjectRelease_n();

          ((void (*)(char *, uint64_t))v219)(v122, v123);
          (*v104)(v117, v222);
        }
        uint64_t v233 = v120;
        unint64_t v234 = v121;
      }
      else
      {
        (*v104)(v117, v116);
      }
LABEL_45:
      uint64_t v86 = v226;
      uint64_t v88 = v223;
      p_base_meths = &PlayMedia.HandleIntentStrategy.base_meths;
    }
  }
  if (p_base_meths[265] != (__objc2_meth_list *)-1) {
    swift_once();
  }
  uint64_t v128 = sub_6E60(v86, (uint64_t)qword_31FC08);
  v129 = *(void (**)(void))(v88 + 16);
  v130 = v217;
  v219 = (char *)v128;
  uint64_t v222 = v88 + 16;
  v203 = v129;
  v129(v217);
  uint64_t v132 = v233;
  unint64_t v131 = v234;
  unint64_t v133 = v227;
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain_n();
  v134 = sub_2987E0();
  os_log_type_t v135 = sub_298DC0();
  if (os_log_type_enabled(v134, v135))
  {
    uint64_t v136 = swift_slowAlloc();
    *(void *)&v231[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v136 = 136315394;
    swift_bridgeObjectRetain();
    uint64_t v230 = sub_6E98(v132, v131, (uint64_t *)v231);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v136 + 12) = 2080;
    swift_bridgeObjectRetain();
    uint64_t v230 = sub_6E98(v224, v133, (uint64_t *)v231);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_0, v134, v135, "DisplayApp#init found default displayName:%s for identifier:%s", (uint8_t *)v136, 0x16u);
    swift_arrayDestroy();
    uint64_t v86 = v226;
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {

    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }
  v137 = *(void (**)(char *, uint64_t))(v88 + 8);
  v137(v130, v86);
  uint64_t v80 = v199;
  unint64_t v75 = v133;
  char v138 = sub_296520();
  uint64_t v82 = v225;
  v139 = v218;
  if (v138)
  {
    ((void (*)(NSObject *, char *, uint64_t))v203)(v218, v219, v86);
    swift_bridgeObjectRetain_n();
    v140 = sub_2987E0();
    os_log_type_t v141 = sub_298DA0();
    BOOL v142 = os_log_type_enabled(v140, v141);
    v202 = (char *)v137;
    if (v142)
    {
      v143 = (uint8_t *)swift_slowAlloc();
      *(void *)&v231[0] = swift_slowAlloc();
      *(_DWORD *)v143 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v144 = v224;
      uint64_t v230 = sub_6E98(v224, v227, (uint64_t *)v231);
      unint64_t v75 = v227;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v140, v141, "DisplayApp#init checking for override name for identifier:%s...", v143, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      ((void (*)(NSObject *, uint64_t))v202)(v139, v86);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      v137((char *)v139, v86);
      uint64_t v144 = v224;
    }
    dispatch_semaphore_t v145 = dispatch_semaphore_create(0);
    uint64_t v146 = swift_allocObject();
    *(void *)(v146 + 16) = 0;
    v201 = (char *)(v146 + 16);
    *(void *)(v146 + 24) = 0;
    uint64_t v232 = 0;
    memset(v231, 0, sizeof(v231));
    uint64_t v147 = v233;
    unint64_t v148 = v234;
    v149 = (void *)swift_allocObject();
    v149[2] = v145;
    v149[3] = v147;
    v149[4] = v148;
    v149[5] = v144;
    v149[6] = v75;
    v149[7] = v146;
    uint64_t v150 = swift_allocObject();
    *(void *)(v150 + 16) = sub_CB2A4;
    *(void *)(v150 + 24) = v149;
    uint64_t v151 = qword_30C890;
    swift_bridgeObjectRetain();
    v218 = v145;
    v217 = (char *)v146;
    swift_retain();
    swift_bridgeObjectRetain();
    swift_retain();
    if (v151 != -1) {
      swift_once();
    }
    id v152 = (id)qword_31FCE0;
    v153 = v205;
    sub_2987B0();
    uint64_t v154 = v206;
    v155 = v196;
    uint64_t v156 = v207;
    (*(void (**)(char *, char *, uint64_t))(v206 + 16))(v196, v153, v207);
    unint64_t v157 = (*(unsigned __int8 *)(v154 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v154 + 80);
    unint64_t v158 = (v204 + v157 + 7) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v159 = swift_allocObject();
    *(void *)(v159 + 16) = "stringsBackedAppNameLocalizedAppName";
    *(void *)(v159 + 24) = 36;
    *(unsigned char *)(v159 + 32) = 2;
    (*(void (**)(unint64_t, char *, uint64_t))(v154 + 32))(v159 + v157, v155, v156);
    v160 = (void *)(v159 + v158);
    void *v160 = sub_CB2B4;
    v160[1] = v150;
    swift_retain();
    sub_299100();
    sub_298790();
    uint64_t v161 = swift_allocObject();
    *(void *)(v161 + 16) = sub_48978;
    *(void *)(v161 + 24) = v159;
    swift_retain();
    unint64_t v162 = v227;
    sub_262A0((uint64_t)sub_48704, v161, v224, v227, (uint64_t)v235, (uint64_t)v231);
    swift_release();
    swift_release();
    (*(void (**)(char *, uint64_t))(v154 + 8))(v153, v156);
    swift_release();
    swift_release();
    sub_23A44((uint64_t)v231, &qword_3138B0);
    v163 = v208;
    sub_298910();
    v164 = v210;
    void *v210 = 1;
    uint64_t v165 = v213;
    uint64_t v166 = v214;
    (*(void (**)(void *, void, uint64_t))(v213 + 104))(v164, enum case for DispatchTimeInterval.seconds(_:), v214);
    v167 = v209;
    sub_298930();
    (*(void (**)(void *, uint64_t))(v165 + 8))(v164, v166);
    v168 = *(void (**)(char *, uint64_t))(v211 + 8);
    uint64_t v169 = v212;
    v168(v163, v212);
    v170 = v218;
    sub_299140();
    v168(v167, v169);
    v171 = v215;
    uint64_t v172 = v226;
    ((void (*)(char *, char *, uint64_t))v203)(v215, v219, v226);
    swift_bridgeObjectRetain_n();
    v173 = v217;
    swift_retain_n();
    v174 = sub_2987E0();
    os_log_type_t v175 = sub_298DA0();
    int v176 = v175;
    if (os_log_type_enabled(v174, v175))
    {
      uint64_t v177 = swift_slowAlloc();
      LODWORD(v214) = v176;
      uint64_t v178 = v177;
      uint64_t v230 = swift_slowAlloc();
      *(_DWORD *)uint64_t v178 = 136315394;
      swift_beginAccess();
      uint64_t v179 = *((void *)v173 + 3);
      *(void *)&v231[0] = *((void *)v173 + 2);
      *((void *)&v231[0] + 1) = v179;
      swift_bridgeObjectRetain();
      sub_71D4((uint64_t *)&unk_313920);
      uint64_t v180 = sub_2989E0();
      *(void *)&v231[0] = sub_6E98(v180, v181, &v230);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      *(_WORD *)(v178 + 12) = 2080;
      swift_bridgeObjectRetain();
      *(void *)&v231[0] = sub_6E98(v224, v227, &v230);
      unint64_t v75 = v227;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v174, (os_log_type_t)v214, "DisplayApp#init override name:%s for identifier:%s...", (uint8_t *)v178, 0x16u);
      swift_arrayDestroy();
      uint64_t v172 = v226;
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      unint64_t v75 = v162;

      swift_bridgeObjectRelease_n();
      swift_release_n();
    }
    v182 = (void (*)(char *, uint64_t))v202;
    ((void (*)(char *, uint64_t))v202)(v171, v172);
    uint64_t v80 = v199;
    swift_beginAccess();
    uint64_t v78 = *((void *)v173 + 2);
    unint64_t v77 = *((void *)v173 + 3);
    v183 = v216;
    if (v77)
    {
      swift_beginAccess();
      uint64_t v184 = v233;
      unint64_t v79 = v234;
      ((void (*)(char *, char *, uint64_t))v203)(v183, v219, v172);
      swift_bridgeObjectRetain_n();
      swift_bridgeObjectRetain_n();
      swift_bridgeObjectRetain_n();
      v185 = sub_2987E0();
      os_log_type_t v186 = sub_298DA0();
      if (os_log_type_enabled(v185, v186))
      {
        uint64_t v187 = swift_slowAlloc();
        uint64_t v222 = swift_slowAlloc();
        uint64_t v229 = v222;
        *(_DWORD *)uint64_t v187 = 136315650;
        swift_bridgeObjectRetain();
        uint64_t v228 = sub_6E98(v78, v77, &v229);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v187 + 12) = 2080;
        swift_bridgeObjectRetain();
        uint64_t v228 = sub_6E98(v184, v79, &v229);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v187 + 22) = 2080;
        swift_bridgeObjectRetain();
        uint64_t v228 = sub_6E98(v224, v227, &v229);
        unint64_t v75 = v227;
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v185, v186, "DisplayApp#init found using primary:%s, alternate:%s for app:%s", (uint8_t *)v187, 0x20u);
        swift_arrayDestroy();
        swift_slowDealloc();
        uint64_t v80 = v199;
        swift_slowDealloc();

        v188 = v216;
      }
      else
      {

        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease_n();

        v188 = v183;
      }
      v182(v188, v226);
      swift_release();
      uint64_t v76 = v78;
      uint64_t v78 = v184;
    }
    else
    {

      swift_beginAccess();
      uint64_t v76 = v233;
      unint64_t v77 = v234;
      swift_release();
      unint64_t v79 = 0;
    }
    uint64_t v82 = v225;
  }
  else
  {
    swift_beginAccess();
    uint64_t v78 = 0;
    unint64_t v79 = 0;
    uint64_t v76 = v233;
    unint64_t v77 = v234;
  }
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_18E18((uint64_t)v235);
  swift_bridgeObjectRelease();

  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t result = swift_release();
  v83 = v221;
  uint64_t v74 = v224;
  uint64_t v81 = v197;
LABEL_69:
  uint64_t *v83 = v74;
  v83[1] = v75;
  v83[2] = v76;
  v83[3] = v77;
  v83[4] = v78;
  v83[5] = v79;
  v83[6] = v80;
  v83[7] = v81;
  v83[8] = v82;
  return result;
}

char *sub_CACEC(uint64_t a1, void (*a2)(uint64_t, char *))
{
  uint64_t v4 = sub_71D4(&qword_30F080);
  __chkstk_darwin(v4 - 8);
  long long v45 = (char *)v34 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v50 = sub_298850();
  uint64_t v6 = *(void *)(v50 - 8);
  uint64_t v7 = __chkstk_darwin(v50);
  uint64_t v49 = (char *)v34 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v37 = (char *)v34 - v9;
  uint64_t v48 = sub_71D4(&qword_30D5F8);
  uint64_t v10 = __chkstk_darwin(v48);
  uint64_t v47 = (char *)v34 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  BOOL v13 = (void *)((char *)v34 - v12);
  uint64_t v14 = *(void *)(a1 + 16);
  swift_bridgeObjectRetain();
  uint64_t v46 = v14;
  v34[1] = a1;
  if (v14)
  {
    uint64_t v15 = 0;
    uint64_t v44 = sub_2988A0();
    uint64_t v16 = *(void *)(v44 - 8);
    uint64_t v17 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 16);
    uint64_t v42 = v16 + 16;
    uint64_t v43 = v17;
    uint64_t v18 = a1 + ((*(unsigned __int8 *)(v16 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v16 + 80));
    uint64_t v19 = *(void *)(v16 + 72);
    os_log_type_t v40 = (void (**)(char *, char *, uint64_t))(v16 + 32);
    uint64_t v41 = v19;
    uint64_t v35 = v6;
    uint64_t v38 = (void (**)(char *, uint64_t, uint64_t))(v6 + 32);
    uint64_t v39 = (unsigned int (**)(uint64_t, uint64_t, uint64_t))(v6 + 48);
    uint64_t v20 = (char *)_swiftEmptyArrayStorage;
    uint64_t v21 = a2;
    uint64_t v36 = a2;
    do
    {
      uint64_t v22 = v48;
      uint64_t v23 = &v47[*(int *)(v48 + 48)];
      uint64_t v24 = v44;
      v43(v23, v18, v44);
      uint64_t v25 = (char *)v13 + *(int *)(v22 + 48);
      *BOOL v13 = v15;
      (*v40)(v25, v23, v24);
      uint64_t v26 = (uint64_t)v45;
      v21(v15, v25);
      sub_23A44((uint64_t)v13, &qword_30D5F8);
      uint64_t v27 = v50;
      if ((*v39)(v26, 1, v50) == 1)
      {
        sub_23A44(v26, &qword_30F080);
      }
      else
      {
        uint64_t v28 = *v38;
        uint64_t v29 = v26;
        uint64_t v30 = v37;
        (*v38)(v37, v29, v27);
        v28(v49, (uint64_t)v30, v27);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          uint64_t v20 = (char *)sub_242F8(0, *((void *)v20 + 2) + 1, 1, (unint64_t)v20);
        }
        unint64_t v32 = *((void *)v20 + 2);
        unint64_t v31 = *((void *)v20 + 3);
        if (v32 >= v31 >> 1) {
          uint64_t v20 = (char *)sub_242F8(v31 > 1, v32 + 1, 1, (unint64_t)v20);
        }
        *((void *)v20 + 2) = v32 + 1;
        v28(&v20[((*(unsigned __int8 *)(v35 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v35 + 80))+ *(void *)(v35 + 72) * v32], (uint64_t)v49, v50);
        uint64_t v21 = v36;
      }
      ++v15;
      v18 += v41;
    }
    while (v46 != v15);
  }
  else
  {
    uint64_t v20 = (char *)_swiftEmptyArrayStorage;
  }
  swift_bridgeObjectRelease();
  return v20;
}

uint64_t sub_CB0EC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_3138F0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_CB154(uint64_t a1)
{
  return a1;
}

uint64_t sub_CB19C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
  if (a2)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();

    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
  return result;
}

uint64_t sub_CB21C()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_CB254()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_release();

  return _swift_deallocObject(v0, 64, 7);
}

Swift::Int sub_CB2A4(uint64_t a1, unint64_t a2)
{
  return sub_1933D0(a1, a2, *(void *)(v2 + 16), *(void *)(v2 + 24), *(void *)(v2 + 32), *(void *)(v2 + 40), *(void *)(v2 + 48), *(void *)(v2 + 56));
}

uint64_t sub_CB2B4(void *a1)
{
  return sub_358F4(a1, *(uint64_t (**)(void, void))(v1 + 16));
}

uint64_t sub_CB2BC()
{
  uint64_t v1 = sub_2987D0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 33) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_CB364()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void *sub_CB39C(unint64_t a1, void (*a2)(uint64_t, id))
{
  uint64_t v3 = v2;
  uint64_t v34 = a2;
  uint64_t v5 = sub_71D4(&qword_30F080);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v25 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_298850();
  uint64_t v28 = *(void *)(v8 - 8);
  uint64_t v9 = __chkstk_darwin(v8);
  uint64_t v33 = (char *)&v25 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v27 = (char *)&v25 - v11;
  if (a1 >> 62) {
    goto LABEL_19;
  }
  uint64_t v12 = *(void *)((char *)&dword_10 + (a1 & 0xFFFFFFFFFFFFFF8));
  swift_bridgeObjectRetain();
  for (; v12; uint64_t v12 = sub_2994C0())
  {
    uint64_t v25 = v3;
    unint64_t v32 = a1 & 0xC000000000000001;
    uint64_t v29 = v28 + 32;
    uint64_t v30 = (unsigned int (**)(char *, uint64_t, uint64_t))(v28 + 48);
    uint64_t v35 = _swiftEmptyArrayStorage;
    uint64_t v13 = 4;
    unint64_t v26 = a1;
    uint64_t v31 = v12;
    uint64_t v14 = (void (**)(char *, char *, uint64_t))(v28 + 32);
    while (1)
    {
      uint64_t v3 = v8;
      uint64_t v8 = v13 - 4;
      id v15 = v32 ? (id)sub_2993E0() : *(id *)(a1 + 8 * v13);
      uint64_t v16 = v15;
      uint64_t v17 = v13 - 3;
      if (__OFADD__(v8, 1)) {
        break;
      }
      v34(v13 - 4, v15);

      uint64_t v8 = v3;
      if ((*v30)(v7, 1, v3) == 1)
      {
        sub_23A44((uint64_t)v7, &qword_30F080);
      }
      else
      {
        uint64_t v18 = *v14;
        uint64_t v19 = v27;
        (*v14)(v27, v7, v3);
        v18(v33, v19, v3);
        if (swift_isUniquelyReferenced_nonNull_native()) {
          unint64_t v20 = (unint64_t)v35;
        }
        else {
          unint64_t v20 = sub_242F8(0, v35[2] + 1, 1, (unint64_t)v35);
        }
        unint64_t v22 = *(void *)(v20 + 16);
        unint64_t v21 = *(void *)(v20 + 24);
        if (v22 >= v21 >> 1) {
          unint64_t v20 = sub_242F8(v21 > 1, v22 + 1, 1, v20);
        }
        *(void *)(v20 + 16) = v22 + 1;
        unint64_t v23 = (*(unsigned __int8 *)(v28 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v28 + 80);
        uint64_t v35 = (void *)v20;
        uint64_t v8 = v3;
        v18((char *)(v20 + v23 + *(void *)(v28 + 72) * v22), v33, v3);
        a1 = v26;
      }
      ++v13;
      if (v17 == v31)
      {
        swift_bridgeObjectRelease();
        return v35;
      }
    }
    __break(1u);
LABEL_19:
    swift_bridgeObjectRetain();
  }
  swift_bridgeObjectRelease();
  return _swiftEmptyArrayStorage;
}

char *sub_CB6F8(uint64_t a1, void (*a2)(void, void), uint64_t a3)
{
  uint64_t v7 = sub_71D4(&qword_30F080);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v27 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298850();
  uint64_t v11 = __chkstk_darwin(v10);
  uint64_t v37 = (char *)&v27 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  unint64_t v32 = (char *)&v27 - v14;
  uint64_t v34 = *(void *)(a1 + 16);
  if (!v34) {
    return (char *)_swiftEmptyArrayStorage;
  }
  uint64_t v27 = v3;
  id v15 = (unsigned int (**)(char *, uint64_t, uint64_t))(v13 + 48);
  uint64_t v29 = v13;
  uint64_t v33 = (void (**)(char *, char *, uint64_t))(v13 + 32);
  swift_bridgeObjectRetain();
  uint64_t v16 = 0;
  uint64_t v17 = (char *)_swiftEmptyArrayStorage;
  uint64_t v18 = 32;
  uint64_t v30 = a2;
  uint64_t v31 = a3;
  uint64_t v28 = v15;
  do
  {
    long long v19 = *(_OWORD *)(a1 + v18 + 48);
    v35[2] = *(_OWORD *)(a1 + v18 + 32);
    v35[3] = v19;
    uint64_t v36 = *(void *)(a1 + v18 + 64);
    long long v20 = *(_OWORD *)(a1 + v18 + 16);
    v35[0] = *(_OWORD *)(a1 + v18);
    v35[1] = v20;
    sub_CC4FC((uint64_t)v35);
    a2(v16, v35);
    sub_CC56C((uint64_t)v35);
    if ((*v15)(v9, 1, v10) == 1)
    {
      sub_23A44((uint64_t)v9, &qword_30F080);
    }
    else
    {
      uint64_t v21 = a1;
      unint64_t v22 = v32;
      unint64_t v23 = *v33;
      (*v33)(v32, v9, v10);
      v23(v37, v22, v10);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v17 = (char *)sub_242F8(0, *((void *)v17 + 2) + 1, 1, (unint64_t)v17);
      }
      unint64_t v25 = *((void *)v17 + 2);
      unint64_t v24 = *((void *)v17 + 3);
      if (v25 >= v24 >> 1) {
        uint64_t v17 = (char *)sub_242F8(v24 > 1, v25 + 1, 1, (unint64_t)v17);
      }
      *((void *)v17 + 2) = v25 + 1;
      v23(&v17[((*(unsigned __int8 *)(v29 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 80))+ *(void *)(v29 + 72) * v25], v37, v10);
      a1 = v21;
      a2 = v30;
      id v15 = v28;
    }
    ++v16;
    v18 += 72;
  }
  while (v34 != v16);
  swift_bridgeObjectRelease();
  return v17;
}

void *sub_CBA00(uint64_t a1)
{
  uint64_t v79 = sub_298800();
  uint64_t v2 = *(void *)(v79 - 8);
  uint64_t v3 = __chkstk_darwin(v79);
  uint64_t v5 = (char *)&v64 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v64 - v6;
  uint64_t v8 = sub_71D4(&qword_30F090);
  __chkstk_darwin(v8 - 8);
  uint64_t v86 = (char *)&v64 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v87 = sub_294440();
  uint64_t v10 = *(void *)(v87 - 8);
  uint64_t v11 = __chkstk_darwin(v87);
  uint64_t v78 = (char *)&v64 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v96 = (char *)&v64 - v13;
  uint64_t v14 = sub_294570();
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v85 = (char *)&v64 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v15);
  os_log_type_t v95 = (char *)&v64 - v18;
  __chkstk_darwin(v17);
  uint64_t v97 = (char *)&v64 - v20;
  long long v100 = _swiftEmptyArrayStorage;
  uint64_t v21 = *(void *)(a1 + 16);
  unint64_t v66 = v5;
  if (v21)
  {
    int v72 = v7;
    v83 = (void *)(v19 + 56);
    unint64_t v84 = (void (**)(char *, char *, uint64_t))(v19 + 16);
    uint64_t v75 = v10;
    uint64_t v82 = v10 + 32;
    unint64_t v71 = (void (**)(char *, uint64_t, uint64_t))(v2 + 16);
    uint64_t v65 = v2;
    uint64_t v70 = (void (**)(char *, uint64_t))(v2 + 8);
    uint64_t v73 = (void (**)(char *, uint64_t))(v19 + 8);
    swift_bridgeObjectRetain();
    uint64_t v64 = a1;
    unint64_t v22 = (void *)(a1 + 48);
    *(void *)&long long v23 = 136315138;
    long long v68 = v23;
    os_log_type_t v67 = (char *)&type metadata for Any + 8;
    uint64_t v74 = v14;
    do
    {
      uint64_t v93 = v21;
      uint64_t v25 = v22[1];
      uint64_t v26 = v22[2];
      unint64_t v88 = v22[3];
      uint64_t v89 = v26;
      uint64_t v27 = v22[4];
      uint64_t v28 = (void *)v22[5];
      uint64_t v29 = v22[6];
      swift_bridgeObjectRetain();
      uint64_t v92 = v27;
      swift_retain();
      id v90 = v28;
      uint64_t v91 = v29;
      swift_bridgeObjectRetain();
      swift_bridgeObjectRetain_n();
      swift_bridgeObjectRetain();
      uint64_t v30 = v97;
      sub_294530();
      swift_bridgeObjectRetain();
      uint64_t v31 = v95;
      uint64_t v94 = v25;
      sub_294530();
      unint64_t v32 = *v84;
      uint64_t v33 = v86;
      (*v84)(v86, v30, v14);
      uint64_t v34 = (void (*)(char *, void, uint64_t, uint64_t))*v83;
      ((void (*)(char *, void, uint64_t, uint64_t))*v83)(v33, 0, 1, v14);
      uint64_t v81 = v32;
      v32(v85, v31, v14);
      sub_294430();
      unint64_t v35 = (unint64_t)v100;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        unint64_t v35 = sub_23E08(0, *(void *)(v35 + 16) + 1, 1, v35);
      }
      unint64_t v37 = *(void *)(v35 + 16);
      unint64_t v36 = *(void *)(v35 + 24);
      uint64_t v38 = v93;
      unint64_t v40 = v88;
      uint64_t v39 = v89;
      if (v37 >= v36 >> 1) {
        unint64_t v35 = sub_23E08(v36 > 1, v37 + 1, 1, v35);
      }
      *(void *)(v35 + 16) = v37 + 1;
      unint64_t v41 = (*(unsigned __int8 *)(v75 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v75 + 80);
      uint64_t v80 = *(void *)(v75 + 72);
      uint64_t v42 = *(void (**)(unint64_t, char *, uint64_t))(v75 + 32);
      v42(v35 + v41 + v80 * v37, v96, v87);
      long long v100 = (void *)v35;
      if (v40)
      {
        unint64_t v76 = v41;
        unint64_t v77 = v34;
        uint64_t v43 = qword_30C848;
        swift_bridgeObjectRetain();
        if (v43 != -1) {
          swift_once();
        }
        uint64_t v44 = v79;
        uint64_t v45 = sub_6E60(v79, (uint64_t)qword_31FC08);
        uint64_t v46 = v72;
        (*v71)(v72, v45, v44);
        swift_bridgeObjectRetain_n();
        uint64_t v47 = sub_2987E0();
        os_log_type_t v48 = sub_298DA0();
        if (os_log_type_enabled(v47, v48))
        {
          uint64_t v49 = swift_slowAlloc();
          uint64_t v69 = v42;
          uint64_t v50 = v49;
          v99[0] = swift_slowAlloc();
          *(_DWORD *)uint64_t v50 = v68;
          swift_bridgeObjectRetain();
          *(void *)(v50 + 4) = sub_6E98(v39, v40, v99);
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v47, v48, "AudioNLContextUpdatedProvider#makeDisplayHints adding alternate displayHint: %s", (uint8_t *)v50, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          uint64_t v42 = v69;
          swift_slowDealloc();
        }
        else
        {

          swift_bridgeObjectRelease_n();
        }
        (*v70)(v46, v79);
        uint64_t v14 = v74;
        id v51 = v86;
        v81(v86, v97, v74);
        v77(v51, 0, 1, v14);
        sub_294530();
        sub_294430();
        unint64_t v52 = (unint64_t)v100;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v52 = sub_23E08(0, *(void *)(v52 + 16) + 1, 1, v52);
        }
        unint64_t v54 = *(void *)(v52 + 16);
        unint64_t v53 = *(void *)(v52 + 24);
        if (v54 >= v53 >> 1) {
          unint64_t v52 = sub_23E08(v53 > 1, v54 + 1, 1, v52);
        }
        *(void *)(v52 + 16) = v54 + 1;
        v42(v52 + v76 + v54 * v80, v78, v87);
        swift_bridgeObjectRelease();

        swift_release();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        long long v100 = (void *)v52;
        unint64_t v24 = *v73;
        (*v73)(v95, v14);
      }
      else
      {
        swift_bridgeObjectRelease();

        swift_release();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        unint64_t v24 = *v73;
        uint64_t v14 = v74;
        (*v73)(v95, v74);
      }
      v24(v97, v14);
      v22 += 9;
      uint64_t v21 = v38 - 1;
    }
    while (v21);
    swift_bridgeObjectRelease();
    uint64_t v2 = v65;
    uint64_t v5 = v66;
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v55 = v79;
  uint64_t v56 = sub_6E60(v79, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v2 + 16))(v5, v56, v55);
  swift_bridgeObjectRetain_n();
  uint64_t v57 = sub_2987E0();
  os_log_type_t v58 = sub_298DA0();
  if (os_log_type_enabled(v57, v58))
  {
    uint64_t v59 = (uint8_t *)swift_slowAlloc();
    v99[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v59 = 136315138;
    swift_bridgeObjectRetain();
    uint64_t v60 = sub_298B60();
    unint64_t v62 = v61;
    swift_bridgeObjectRelease();
    uint64_t v98 = sub_6E98(v60, v62, v99);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v57, v58, "CommonNLContextProvider#makeDisplayHints built display hints for app disambiguation: %s", v59, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v2 + 8))(v66, v79);
  }
  else
  {

    swift_bridgeObjectRelease_n();
    (*(void (**)(char *, uint64_t))(v2 + 8))(v5, v79);
  }
  swift_beginAccess();
  return v100;
}

uint64_t sub_CC4F4@<X0>(uint64_t a1@<X8>)
{
  return sub_C696C(a1);
}

uint64_t sub_CC4FC(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 56);
  swift_bridgeObjectRetain();
  swift_retain();
  id v3 = v2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t sub_CC56C(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 56);
  swift_bridgeObjectRelease();

  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t sub_CC5D8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_CC620(unint64_t *a1, uint64_t *a2)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_60904(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_CC670()
{
  return sub_C4F4C();
}

uint64_t sub_CC684@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v12 = sub_296A10();
  uint64_t v13 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v11);
  sub_296A00();
  uint64_t v9 = sub_296EF0();
  uint64_t v10 = &protocol witness table for MediaRemoteAPIProvider;
  *(void *)&long long v8 = sub_296EE0();
  uint64_t v6 = sub_298550();
  uint64_t v7 = &protocol witness table for EncryptionProvider;
  sub_12B48((uint64_t *)&v5);
  sub_298540();
  uint64_t v2 = type metadata accessor for SiriAudioUIAssertionProvider();
  uint64_t v3 = swift_allocObject();
  sub_11EBC(&v11, v3 + 16);
  sub_11EBC(&v8, v3 + 56);
  uint64_t result = sub_11EBC(&v5, v3 + 96);
  a1[3] = v2;
  a1[4] = (uint64_t)&off_2FB6D0;
  *a1 = v3;
  return result;
}

uint64_t sub_CC76C()
{
  uint64_t v0 = sub_296A10();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v12 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v12 - v5;
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  int v7 = CATDefaultMode;
  sub_296390();
  uint64_t v8 = sub_296380();
  sub_2942A0();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v9 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v13);
  (*(void (**)(char *, char *, uint64_t))(v1 + 16))(v4, v6, v0);
  swift_retain();
  uint64_t v10 = sub_141EA0(v13, v7, v8, (uint64_t)v14, (uint64_t)v4, v9);
  swift_release();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v6, v0);
  swift_release();
  return v10;
}

uint64_t type metadata accessor for Determine.ChildFlowFactory()
{
  return self;
}

uint64_t sub_CC960(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10 = sub_296AA0();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v14 = &v22[-((v13 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  __chkstk_darwin(v12);
  uint64_t v16 = &v22[-v15 - 8];
  uint64_t v27 = sub_295C80();
  uint64_t v28 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v26 = a3;
  uint64_t v24 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v25 = &off_2FA760;
  *(void *)&long long v23 = a4;
  type metadata accessor for DetermineCatDialogService();
  uint64_t v17 = (void *)swift_allocObject();
  v17[6] = 0xEF746E65746E4965;
  v17[2] = 0xD000000000000011;
  v17[3] = 0x80000000002A3570;
  v17[4] = a1;
  v17[5] = 0x6E696D7265746544;
  sub_18D5C(a2, (uint64_t)v22);
  swift_retain();
  sub_296A90();
  type metadata accessor for DetermineDialogProvider();
  uint64_t v18 = (void *)swift_allocObject();
  (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v11 + 16))(v14, v16, v10);
  uint64_t v19 = sub_CCB94((uint64_t)v17, a1, (uint64_t)v22, (uint64_t)v14, v18);
  swift_release();
  (*(void (**)(unsigned char *, uint64_t))(v11 + 8))(v16, v10);
  sub_7184(a2);
  *(void *)(a5 + 16) = v19;
  sub_11EBC(&v26, a5 + 24);
  sub_11EBC(&v23, a5 + 64);
  return a5;
}

void *sub_CCB94(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v10 = sub_296AA0();
  v16[3] = v10;
  v16[4] = (uint64_t)&protocol witness table for StringsFileResolver;
  uint64_t v11 = sub_12B48(v16);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v10 - 8) + 32))(v11, a4, v10);
  a5[15] = a1;
  sub_18D5C((uint64_t)v16, (uint64_t)v15);
  uint64_t v12 = sub_295C80();
  swift_retain();
  uint64_t v13 = sub_295C70();
  a5[11] = v12;
  a5[12] = &protocol witness table for SiriKitTaskLoggingProvider;
  a5[8] = v13;
  a5[13] = 0xD000000000000011;
  a5[14] = 0x80000000002A3570;
  a5[2] = a2;
  sub_11EBC(v15, (uint64_t)(a5 + 3));
  sub_7184((uint64_t)v16);
  sub_7184(a3);
  return a5;
}

void *sub_CCCA4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9)
{
  uint64_t v36 = a8;
  uint64_t v35 = a7;
  uint64_t v34 = a5;
  uint64_t v37 = a3;
  uint64_t v13 = sub_296AA0();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v33 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = __chkstk_darwin(v15);
  uint64_t v20 = (char *)&v33 - v19;
  __chkstk_darwin(v18);
  unint64_t v22 = (char *)&v33 - v21;
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 32))((char *)&v33 - v21, a2, v13);
  uint64_t v52 = sub_295C80();
  unint64_t v53 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v51 = a4;
  uint64_t v23 = sub_296A10();
  uint64_t v49 = v23;
  uint64_t v50 = &protocol witness table for FeatureFlagProvider;
  uint64_t v24 = sub_12B48((uint64_t *)&v48);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v23 - 8) + 32))(v24, a6, v23);
  uint64_t v46 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v47 = &off_2FA760;
  *(void *)&long long v45 = v34;
  uint64_t v43 = type metadata accessor for DetermineSnippetProvider();
  uint64_t v44 = &off_2F8498;
  *(void *)&long long v42 = v35;
  uint64_t v25 = type metadata accessor for SiriAudioUIAssertionProvider();
  unint64_t v41 = &off_2FB6D0;
  uint64_t v40 = v25;
  *(void *)&long long v39 = v36;
  type metadata accessor for DetermineCatDialogService();
  long long v26 = (void *)swift_allocObject();
  v26[6] = 0xEF746E65746E4965;
  v26[2] = 0xD000000000000011;
  v26[3] = 0x80000000002A3570;
  v26[4] = a1;
  v26[5] = 0x6E696D7265746544;
  a9[2] = v26;
  uint64_t v27 = v37;
  sub_18D5C(v37, (uint64_t)v38);
  swift_retain_n();
  swift_retain();
  sub_296A90();
  type metadata accessor for DetermineDialogProvider();
  uint64_t v28 = (void *)swift_allocObject();
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))(v17, v20, v13);
  uint64_t v29 = sub_CCB94((uint64_t)v26, a1, (uint64_t)v38, (uint64_t)v17, v28);
  swift_release();
  uint64_t v30 = *(void (**)(char *, uint64_t))(v14 + 8);
  v30(v20, v13);
  a9[9] = v29;
  type metadata accessor for DetermineViewProvider();
  uint64_t v31 = swift_allocObject();
  swift_retain();
  sub_1EFA5C((uint64_t *)(v31 + 24));
  *(void *)(v31 + 16) = v29;
  sub_7184(v27);
  v30(v22, v13);
  a9[8] = v31;
  sub_11EBC(&v51, (uint64_t)(a9 + 3));
  sub_11EBC(&v45, (uint64_t)(a9 + 10));
  sub_11EBC(&v48, (uint64_t)(a9 + 15));
  sub_11EBC(&v42, (uint64_t)(a9 + 20));
  sub_11EBC(&v39, (uint64_t)(a9 + 25));
  return a9;
}

void *sub_CD060(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v52 = a6;
  uint64_t v54 = a4;
  uint64_t v55 = a1;
  uint64_t v56 = a3;
  uint64_t v53 = sub_296A10();
  uint64_t v11 = *(void *)(v53 - 8);
  __chkstk_darwin(v53);
  uint64_t v13 = (char *)&v49 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_296AA0();
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v49 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = v18;
  uint64_t v50 = v18;
  uint64_t v21 = (char *)&v49 - v20;
  uint64_t v23 = v22;
  (*(void (**)(void))(v18 + 32))();
  uint64_t v24 = type metadata accessor for SiriAudioOutputProvider();
  v63[3] = v24;
  v63[4] = &off_2FA760;
  v63[0] = a5;
  uint64_t v61 = type metadata accessor for DetermineSnippetProvider();
  unint64_t v62 = &off_2F8498;
  v60[0] = a7;
  uint64_t v58 = type metadata accessor for SiriAudioUIAssertionProvider();
  uint64_t v59 = &off_2FB6D0;
  v57[0] = a8;
  type metadata accessor for Determine.HandleIntentStrategy();
  long long v51 = (void *)swift_allocObject();
  uint64_t v25 = sub_12AF8((uint64_t)v63, v24);
  __chkstk_darwin(v25);
  uint64_t v27 = (uint64_t *)((char *)&v49 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v28 + 16))(v27);
  uint64_t v29 = sub_12AF8((uint64_t)v60, v61);
  __chkstk_darwin(v29);
  uint64_t v31 = (uint64_t *)((char *)&v49 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v32 + 16))(v31);
  uint64_t v33 = sub_12AF8((uint64_t)v57, v58);
  __chkstk_darwin(v33);
  uint64_t v35 = (uint64_t *)((char *)&v49 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v36 + 16))(v35);
  uint64_t v37 = *v27;
  uint64_t v38 = *v31;
  uint64_t v49 = *v35;
  long long v39 = *(void (**)(char *, char *, uint64_t))(v19 + 16);
  uint64_t v40 = v21;
  unint64_t v41 = v21;
  uint64_t v42 = v23;
  v39(v17, v41, v23);
  uint64_t v43 = (uint64_t)v13;
  uint64_t v45 = v52;
  uint64_t v44 = v53;
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v52, v53);
  uint64_t v46 = v54;
  swift_retain();
  uint64_t v47 = sub_CCCA4(v55, (uint64_t)v17, v56, v46, v37, v43, v38, v49, v51);
  (*(void (**)(uint64_t, uint64_t))(v11 + 8))(v45, v44);
  (*(void (**)(char *, uint64_t))(v50 + 8))(v40, v42);
  sub_7184((uint64_t)v57);
  sub_7184((uint64_t)v60);
  sub_7184((uint64_t)v63);
  return v47;
}

uint64_t sub_CD51C()
{
  uint64_t v0 = sub_296A10();
  uint64_t v80 = v0;
  v83 = *(void **)(v0 - 8);
  uint64_t v1 = __chkstk_darwin(v0);
  uint64_t v78 = (char *)&v62 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v62 - v3;
  uint64_t v77 = sub_296AA0();
  uint64_t v84 = *(void *)(v77 - 8);
  uint64_t v5 = __chkstk_darwin(v77);
  int v7 = (char *)&v62 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v62 - v8;
  uint64_t v82 = sub_71D4(&qword_30F1B0);
  uint64_t v76 = *(void *)(v82 - 8);
  uint64_t v10 = __chkstk_darwin(v82);
  uint64_t v75 = (char *)&v62 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v81 = (char *)&v62 - v12;
  uint64_t v69 = type metadata accessor for DetermineIntent();
  uint64_t v68 = type metadata accessor for DetermineIntentResponse();
  sub_293FD0();
  int v72 = (char *)sub_CC76C();
  uint64_t v79 = v9;
  sub_296A90();
  sub_2942A0();
  uint64_t v71 = sub_295C80();
  uint64_t v70 = sub_295C70();
  uint64_t v90 = v0;
  uint64_t v91 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v89);
  sub_296A00();
  uint64_t v73 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v63 = swift_allocObject();
  sub_11EBC(&v89, v63 + 16);
  sub_296A00();
  uint64_t v13 = sub_2963C0();
  swift_allocObject();
  uint64_t v14 = sub_2963B0();
  uint64_t v90 = v13;
  uint64_t v91 = &protocol witness table for AppIntentInvoker;
  *(void *)&long long v89 = v14;
  uint64_t v15 = sub_296EF0();
  uint64_t v16 = sub_296EE0();
  uint64_t v87 = v15;
  unint64_t v88 = (_UNKNOWN **)&protocol witness table for MediaRemoteAPIProvider;
  *(void *)&long long v86 = v16;
  type metadata accessor for DetermineSnippetProvider();
  uint64_t v17 = swift_allocObject();
  sub_11EBC(&v89, v17 + 16);
  sub_11EBC(&v86, v17 + 56);
  sub_CC684((uint64_t *)&v89);
  uint64_t v18 = sub_12AF8((uint64_t)&v89, v90);
  __chkstk_darwin(v18);
  uint64_t v20 = (uint64_t *)((char *)&v62 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v21 + 16))(v20);
  uint64_t v62 = *v20;
  uint64_t v22 = (uint64_t)v7;
  unint64_t v66 = *(void (**)(char *, char *, uint64_t))(v84 + 16);
  uint64_t v67 = v84 + 16;
  v66(v7, v9, v77);
  uint64_t v23 = v83;
  uint64_t v24 = (uint64_t)v78;
  uint64_t v25 = v80;
  uint64_t v64 = (void (*)(char *, char *, uint64_t))v83[2];
  uint64_t v65 = v83 + 2;
  v64(v78, v4, v80);
  uint64_t v26 = v63;
  swift_retain();
  uint64_t v27 = v17;
  swift_retain();
  uint64_t v28 = v70;
  swift_retain();
  uint64_t v74 = v22;
  uint64_t v29 = sub_CD060((uint64_t)v72, v22, (uint64_t)v85, v28, v26, v24, v27, v62);
  swift_release();
  swift_release();
  uint64_t v30 = v23 + 1;
  uint64_t v31 = (void (*)(char *, uint64_t))v23[1];
  int v72 = v4;
  uint64_t v32 = v25;
  uint64_t v33 = v77;
  v83 = v30;
  v31(v4, v32);
  swift_release();
  uint64_t v34 = *(void (**)(char *, uint64_t))(v84 + 8);
  v84 += 8;
  v34(v79, v33);
  sub_7184((uint64_t)&v89);
  swift_release();
  swift_release();
  *(void *)&v85[0] = v29;
  type metadata accessor for Determine.HandleIntentStrategy();
  sub_CDF48(&qword_30F1B8, (void (*)(uint64_t))type metadata accessor for Determine.HandleIntentStrategy);
  sub_293E90();
  swift_release();
  sub_293F50();
  sub_297700();
  swift_allocObject();
  uint64_t v70 = sub_2976C0();
  sub_293EA0();
  sub_293F60();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  int v35 = CATDefaultMode;
  sub_296390();
  uint64_t v36 = sub_296380();
  sub_2942A0();
  uint64_t v37 = (uint64_t)v72;
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v38 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v85);
  uint64_t v39 = (uint64_t)v78;
  uint64_t v40 = v80;
  v64(v78, (char *)v37, v80);
  swift_retain();
  uint64_t v41 = sub_141EA0(v85, v35, v36, (uint64_t)&v89, v39, v38);
  swift_release();
  v31((char *)v37, v40);
  swift_release();
  type metadata accessor for DetermineCatDialogService();
  uint64_t v42 = (void *)swift_allocObject();
  v42[6] = 0xEF746E65746E4965;
  v42[2] = 0xD000000000000011;
  v42[3] = 0x80000000002A3570;
  v42[4] = v41;
  v42[5] = 0x6E696D7265746544;
  swift_retain_n();
  sub_2942A0();
  uint64_t v43 = v79;
  sub_296A90();
  type metadata accessor for DetermineDialogProvider();
  uint64_t inited = (void *)swift_initStackObject();
  uint64_t v45 = v74;
  v66((char *)v74, v43, v33);
  v83 = sub_CCB94((uint64_t)v42, v41, (uint64_t)v85, v45, inited);
  swift_release();
  v34(v43, v33);
  uint64_t v46 = sub_CC76C();
  sub_2942A0();
  uint64_t v47 = sub_295C70();
  uint64_t v87 = v40;
  unint64_t v88 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v86);
  sub_296A00();
  uint64_t v48 = v73;
  uint64_t v49 = swift_allocObject();
  sub_11EBC(&v86, v49 + 16);
  uint64_t v87 = v48;
  unint64_t v88 = &off_2FA760;
  *(void *)&long long v86 = v49;
  type metadata accessor for Determine.UnsupportedValueStrategy();
  uint64_t v50 = swift_allocObject();
  uint64_t v51 = sub_12AF8((uint64_t)&v86, v48);
  __chkstk_darwin(v51);
  uint64_t v53 = (uint64_t *)((char *)&v62 - ((v52 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v54 + 16))(v53);
  uint64_t v55 = *v53;
  swift_retain();
  uint64_t v56 = sub_CC960(v46, (uint64_t)&v89, v47, v55, v50);
  sub_7184((uint64_t)&v86);
  swift_release();
  *(void *)&long long v89 = v56;
  sub_CDF48((unint64_t *)&qword_30F1C0, (void (*)(uint64_t))type metadata accessor for Determine.UnsupportedValueStrategy);
  sub_293F20();
  swift_release();
  uint64_t v58 = v81;
  uint64_t v57 = v82;
  sub_293F90();
  uint64_t v59 = v76;
  (*(void (**)(char *, char *, uint64_t))(v76 + 16))(v75, v58, v57);
  sub_71D4(&qword_30F1C8);
  swift_allocObject();
  uint64_t v60 = sub_293F30();
  swift_release();
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v59 + 8))(v58, v57);
  return v60;
}

uint64_t sub_CDF48(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for MediaPlayerConfirmation(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 3 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 3) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFD) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFC)
  {
    unsigned int v6 = ((a2 - 253) >> 8) + 1;
    *uint64_t result = a2 + 3;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0xCE05CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 3;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for MediaPlayerConfirmation()
{
  return &type metadata for MediaPlayerConfirmation;
}

unint64_t sub_CE098()
{
  unint64_t result = qword_30F1D0;
  if (!qword_30F1D0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1D0);
  }
  return result;
}

uint64_t sub_CE0EC(unsigned __int8 *a1, char *a2)
{
  return sub_18A454(*a1, *a2);
}

Swift::Int sub_CE0F8()
{
  return sub_2996B0();
}

uint64_t sub_CE1C0()
{
  sub_298A40();

  return swift_bridgeObjectRelease();
}

Swift::Int sub_CE270()
{
  return sub_2996B0();
}

uint64_t sub_CE334@<X0>(uint64_t a1@<X0>, unsigned char *a2@<X8>)
{
  uint64_t result = sub_CE580(*(void *)a1, *(void **)(a1 + 8));
  *a2 = result;
  return result;
}

void sub_CE364(uint64_t *a1@<X8>)
{
  unint64_t v2 = 0xE300000000000000;
  uint64_t v3 = 7562617;
  switch(*v1)
  {
    case 1:
      unint64_t v2 = 0xE200000000000000;
      uint64_t v3 = 28526;
      goto LABEL_3;
    case 2:
      *a1 = 0x6C65636E6163;
      a1[1] = 0xE600000000000000;
      break;
    case 3:
      *a1 = 0x666E692065726F6DLL;
      a1[1] = 0xE90000000000006FLL;
      break;
    default:
LABEL_3:
      *a1 = v3;
      a1[1] = v2;
      break;
  }
}

void sub_CE3EC(void *a1@<X8>)
{
  *a1 = &off_2F42A8;
}

uint64_t sub_CE3FC(uint64_t a1, uint64_t a2)
{
  unint64_t v4 = sub_CE5CC();
  unint64_t v5 = sub_CE620();
  unint64_t v6 = sub_CE674();

  return static TerminalNodeBoundedSemanticValue<>.fromIntentNodeValue(_:)(a1, a2, v4, v5, v6);
}

unint64_t sub_CE474()
{
  unint64_t result = qword_30F1D8;
  if (!qword_30F1D8)
  {
    sub_60904(&qword_30F1E0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1D8);
  }
  return result;
}

unint64_t sub_CE4D4()
{
  unint64_t result = qword_30F1E8;
  if (!qword_30F1E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1E8);
  }
  return result;
}

unint64_t sub_CE52C()
{
  unint64_t result = qword_30F1F0;
  if (!qword_30F1F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1F0);
  }
  return result;
}

uint64_t sub_CE580(uint64_t a1, void *a2)
{
  v6._countAndFlagsBits = a1;
  v3._rawValue = &off_2F4228;
  v6._object = a2;
  unint64_t v4 = sub_299520(v3, v6);
  swift_bridgeObjectRelease();
  if (v4 >= 4) {
    return 4;
  }
  else {
    return v4;
  }
}

unint64_t sub_CE5CC()
{
  unint64_t result = qword_30F1F8;
  if (!qword_30F1F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1F8);
  }
  return result;
}

unint64_t sub_CE620()
{
  unint64_t result = qword_30F200;
  if (!qword_30F200)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F200);
  }
  return result;
}

unint64_t sub_CE674()
{
  unint64_t result = qword_30F208;
  if (!qword_30F208)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F208);
  }
  return result;
}

uint64_t type metadata accessor for UpdateMediaAffinityViewProvider()
{
  uint64_t result = qword_30F238;
  if (!qword_30F238) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_CE714(uint64_t a1, void *a2)
{
  uint64_t v49 = sub_298550();
  uint64_t v47 = *(void *)(v49 - 8);
  uint64_t v4 = __chkstk_darwin(v49);
  uint64_t v48 = (char *)&v35 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  int v7 = (char *)&v35 - v6;
  uint64_t v46 = sub_2961A0();
  uint64_t v8 = *(void *)(v46 - 8);
  uint64_t v9 = __chkstk_darwin(v46);
  uint64_t v45 = (char *)&v35 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v35 - v11;
  uint64_t v13 = sub_296A10();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v35 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v35 - v18;
  uint64_t v20 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v20 - 8);
  uint64_t v44 = (uint64_t)&v35 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_CF238(a1, v44);
  uint64_t v50 = a2;
  id v42 = a2;
  sub_296A00();
  sub_296EF0();
  uint64_t v43 = sub_296EE0();
  sub_2942A0();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  sub_296180();
  sub_298540();
  sub_296E40();
  uint64_t v41 = sub_296E30();
  sub_295C80();
  uint64_t v38 = sub_295C70();
  type metadata accessor for ConfirmInterruptionFlow();
  uint64_t v22 = v12;
  uint64_t v37 = v12;
  int v35 = v7;
  uint64_t v36 = swift_allocObject();
  uint64_t v23 = v14;
  uint64_t v24 = *(void (**)(char *, char *, uint64_t))(v14 + 16);
  uint64_t v25 = (uint64_t)v17;
  uint64_t v40 = v19;
  uint64_t v39 = v13;
  v24(v17, v19, v13);
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v51);
  uint64_t v26 = (uint64_t)v45;
  uint64_t v27 = v46;
  (*(void (**)(char *, char *, uint64_t))(v8 + 16))(v45, v22, v46);
  uint64_t v29 = v47;
  uint64_t v28 = (uint64_t)v48;
  uint64_t v30 = v49;
  (*(void (**)(char *, char *, uint64_t))(v47 + 16))(v48, v7, v49);
  uint64_t v31 = v43;
  swift_retain();
  uint64_t v32 = sub_CF2A0(v44, v50, v25, v31, (uint64_t)v52, v51, v26, v28, v41, v38, v36);

  (*(void (**)(char *, uint64_t))(v29 + 8))(v35, v30);
  (*(void (**)(char *, uint64_t))(v8 + 8))(v37, v27);
  swift_release();
  (*(void (**)(char *, uint64_t))(v23 + 8))(v40, v39);
  *(void *)&v51[0] = v32;
  sub_CF87C();
  uint64_t v33 = sub_294000();
  swift_release();
  return v33;
}

uint64_t sub_CEC00(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  uint64_t v5 = __chkstk_darwin(v4 - 8);
  int v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v22 - v8;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "SiriForAirPlayFlow#on Handling input", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = sub_295060();
  uint64_t v19 = *(void *)(v18 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v19 + 16))(v9, a1, v18);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v19 + 56))(v9, 0, 1, v18);
  sub_B23C4((uint64_t)v9, (uint64_t)v7);
  uint64_t v20 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_input;
  swift_beginAccess();
  sub_1F9CC((uint64_t)v7, v20);
  swift_endAccess();
  return 1;
}

uint64_t sub_CEECC(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v18 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v18 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v7, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v11, v7);
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DC0();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_0, v12, v13, "SiriForAirPlayFlow#getLocalExecuteResponse", v14, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
  uint64_t v15 = *(void (**)(char *, uint64_t))(v2
                                               + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_nextLocalFlow);
  uint64_t v16 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_input;
  swift_beginAccess();
  sub_CF238(v16, (uint64_t)v6);
  swift_retain();
  v15(v6, a1);
  swift_release();
  sub_CF914((uint64_t)v6);
  sub_294750();
  return swift_release();
}

uint64_t sub_CF13C()
{
  return type metadata accessor for SiriForAirPlayFlow();
}

void sub_CF144()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_CF210(uint64_t a1)
{
  return 1;
}

uint64_t sub_CF238(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_CF2A0(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, _OWORD *a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t v46 = a8;
  uint64_t v50 = a5;
  uint64_t v52 = a1;
  uint64_t v48 = a10;
  uint64_t v47 = a9;
  uint64_t v16 = sub_296A10();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v51 = (char *)&v46 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v46 - v21;
  uint64_t v65[3] = v20;
  v65[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v23 = sub_12B48(v65);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v17 + 32))(v23, a3, v16);
  v64[3] = sub_296EF0();
  v64[4] = &protocol witness table for MediaRemoteAPIProvider;
  v64[0] = a4;
  v63[3] = &type metadata for StringsBackedAppNameResolver;
  v63[4] = sub_18D08();
  uint64_t v24 = (_OWORD *)swift_allocObject();
  v63[0] = v24;
  uint64_t v49 = v24 + 1;
  long long v25 = a6[3];
  v24[3] = a6[2];
  v24[4] = v25;
  v24[5] = a6[4];
  long long v26 = a6[1];
  v24[1] = *a6;
  v24[2] = v26;
  uint64_t v27 = sub_2961A0();
  v62[3] = v27;
  v62[4] = (uint64_t)&protocol witness table for DeviceProvider;
  uint64_t v28 = sub_12B48(v62);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v27 - 8) + 32))(v28, a7, v27);
  uint64_t v29 = sub_298550();
  v61[3] = v29;
  v61[4] = (uint64_t)&protocol witness table for EncryptionProvider;
  uint64_t v30 = sub_12B48(v61);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v29 - 8) + 32))(v30, v46, v29);
  void v60[3] = sub_296E40();
  v60[4] = &protocol witness table for SharedContextProvider;
  v60[0] = v47;
  uint64_t v58 = sub_295C80();
  uint64_t v59 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v57 = v48;
  uint64_t v31 = a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_input;
  uint64_t v32 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v32 - 8) + 56))(v31, 1, 1, v32);
  uint64_t v33 = OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_intent;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_intent) = 0;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_originalPlayMediaRCHFlowWrapper) = 0;
  uint64_t v34 = a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_state;
  *(void *)uint64_t v34 = 0;
  *(unsigned char *)(v34 + 8) = 1;
  swift_beginAccess();
  sub_14418(v52, v31);
  swift_endAccess();
  int v35 = *(void **)(a11 + v33);
  *(void *)(a11 + v33) = a2;
  id v36 = a2;

  sub_18D5C((uint64_t)v65, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_featureFlagProvider);
  sub_18D5C((uint64_t)v64, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_mediaRemoteAPIProvider);
  sub_18D5C((uint64_t)v62, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_deviceProvider);
  uint64_t v37 = v50;
  sub_18D5C(v50, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_aceServiceInvoker);
  sub_18D5C(v37, (uint64_t)v56);
  LODWORD(v35) = CATDefaultMode;
  sub_296390();
  uint64_t v38 = sub_296380();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v39 = swift_allocObject();
  uint64_t v40 = (uint64_t)v51;
  (*(void (**)(char *, char *, uint64_t))(v17 + 16))(v51, v22, v16);
  sub_18C00((uint64_t)v49, (uint64_t)&v53);
  swift_retain();
  uint64_t v41 = sub_141EA0(&v53, (int)v35, v38, (uint64_t)v56, v40, v39);
  swift_release();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v22, v16);
  swift_release();
  type metadata accessor for PlayMediaCatDialogService();
  id v42 = (void *)swift_allocObject();
  v42[6] = 0xEF746E65746E4961;
  v42[2] = 0xD000000000000011;
  v42[3] = 0x80000000002A3570;
  v42[4] = v41;
  v42[5] = 0x6964654D79616C50;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_playMediaCatDialogService) = v42;
  sub_2944B0();
  swift_allocObject();
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_viewFactory) = sub_294490();
  sub_18D5C((uint64_t)v63, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_appNameResolver);
  sub_18D5C((uint64_t)v61, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_encryptionProvider);
  sub_18D5C((uint64_t)v60, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_sharedContextProvider);
  sub_18D5C((uint64_t)v65, (uint64_t)&v53);
  sub_18D5C(v37, (uint64_t)v56);
  uint64_t v43 = sub_296450();
  swift_allocObject();
  uint64_t v44 = sub_296430();
  uint64_t v54 = v43;
  uint64_t v55 = &protocol witness table for SEDeviceProvider;
  *(void *)&long long v53 = v44;
  sub_7184((uint64_t)v60);
  sub_7184((uint64_t)v61);
  sub_7184((uint64_t)v62);
  sub_7184((uint64_t)v63);
  sub_7184(v37);
  sub_7184((uint64_t)v64);
  sub_7184((uint64_t)v65);
  sub_CF914(v52);
  sub_11EBC(&v53, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_seDeviceProvider);
  sub_11EBC(&v57, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_siriKitTaskLoggingProvider);
  return a11;
}

unint64_t sub_CF87C()
{
  unint64_t result = qword_30F4D8;
  if (!qword_30F4D8)
  {
    type metadata accessor for ConfirmInterruptionFlow();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F4D8);
  }
  return result;
}

uint64_t sub_CF8D4()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);

  return _swift_deallocObject(v0, 96, 7);
}

uint64_t sub_CF914(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30EBB8);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t type metadata accessor for PlayMediaDefaultSnippetModelProvider()
{
  return self;
}

uint64_t sub_CF998(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6)
{
  return sub_CF9E8(a5, a6, "PlayMediaSnippetModelProviding#intentPreHandledSnippet won't return snippets for unsupported platform %{public}s");
}

uint64_t sub_CF9C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t a6)
{
  return sub_CF9E8(a5, a6, "PlayMediaSnippetModelProviding#intentHandledSnippet won't return snippets for unsupported platform %{public}s");
}

uint64_t sub_CF9E8(void (*a1)(void), uint64_t a2, const char *a3)
{
  uint64_t v6 = sub_71D4(&qword_30F578);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v23 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v9, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v13, v9);
  uint64_t v14 = sub_2987E0();
  os_log_type_t v15 = sub_298D90();
  if (os_log_type_enabled(v14, v15))
  {
    uint64_t v25 = v6;
    uint64_t v16 = swift_slowAlloc();
    uint64_t v26 = a2;
    uint64_t v17 = (uint8_t *)v16;
    uint64_t v18 = swift_slowAlloc();
    uint64_t v27 = a1;
    uint64_t v29 = v18;
    uint64_t v24 = a3;
    *(_DWORD *)uint64_t v17 = 136446210;
    v23[1] = v17 + 4;
    uint64_t v19 = sub_2973F0();
    uint64_t v28 = sub_6E98(v19, v20, &v29);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v14, v15, v24, v17, 0xCu);
    swift_arrayDestroy();
    a1 = v27;
    swift_slowDealloc();
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  uint64_t v21 = type metadata accessor for SnippetModelResponse();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v8, 1, 1, v21);
  swift_storeEnumTagMultiPayload();
  a1(v8);
  return sub_CFD38((uint64_t)v8);
}

uint64_t type metadata accessor for SnippetModelResponse()
{
  uint64_t result = qword_30F5D8;
  if (!qword_30F5D8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_CFD38(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30F578);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t *sub_CFD98(uint64_t *a1, uint64_t *a2, int *a3)
{
  int v5 = *(_DWORD *)(*((void *)a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v11 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v11 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    uint64_t v7 = sub_297970();
    uint64_t v8 = *(void *)(v7 - 8);
    uint64_t v9 = *(unsigned int (**)(uint64_t *, uint64_t, uint64_t))(v8 + 48);
    if (v9(a2, 1, v7))
    {
      uint64_t v10 = sub_71D4(&qword_30D188);
      memcpy(a1, a2, *(void *)(*(void *)(v10 - 8) + 64));
    }
    else
    {
      (*(void (**)(uint64_t *, uint64_t *, uint64_t))(v8 + 16))(a1, a2, v7);
      (*(void (**)(uint64_t *, void, uint64_t, uint64_t))(v8 + 56))(a1, 0, 1, v7);
    }
    uint64_t v12 = a3[5];
    uint64_t v13 = (char *)a1 + v12;
    uint64_t v14 = (char *)a2 + v12;
    if (v9((uint64_t *)((char *)a2 + v12), 1, v7))
    {
      uint64_t v15 = sub_71D4(&qword_30D188);
      memcpy(v13, v14, *(void *)(*(void *)(v15 - 8) + 64));
    }
    else
    {
      (*(void (**)(char *, char *, uint64_t))(v8 + 16))(v13, v14, v7);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v13, 0, 1, v7);
    }
    uint64_t v16 = a3[6];
    uint64_t v17 = a3[7];
    uint64_t v18 = (uint64_t *)((char *)a1 + v16);
    uint64_t v19 = (uint64_t *)((char *)a2 + v16);
    uint64_t v20 = v19[1];
    void *v18 = *v19;
    v18[1] = v20;
    *(uint64_t *)((char *)a1 + v17) = *(uint64_t *)((char *)a2 + v17);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
  }
  return a1;
}

uint64_t sub_CFFD8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_297970();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48);
  if (!v6(a1, 1, v4)) {
    (*(void (**)(uint64_t, uint64_t))(v5 + 8))(a1, v4);
  }
  uint64_t v7 = a1 + *(int *)(a2 + 20);
  if (!v6(v7, 1, v4)) {
    (*(void (**)(uint64_t, uint64_t))(v5 + 8))(v7, v4);
  }
  swift_bridgeObjectRelease();

  return swift_bridgeObjectRelease();
}

char *sub_D0104(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_297970();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
  if (v8(a2, 1, v6))
  {
    uint64_t v9 = sub_71D4(&qword_30D188);
    memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v7 + 16))(a1, a2, v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
  }
  uint64_t v10 = a3[5];
  uint64_t v11 = &a1[v10];
  uint64_t v12 = &a2[v10];
  if (v8(&a2[v10], 1, v6))
  {
    uint64_t v13 = sub_71D4(&qword_30D188);
    memcpy(v11, v12, *(void *)(*(void *)(v13 - 8) + 64));
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v11, v12, v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v11, 0, 1, v6);
  }
  uint64_t v14 = a3[6];
  uint64_t v15 = a3[7];
  uint64_t v16 = &a1[v14];
  uint64_t v17 = &a2[v14];
  uint64_t v18 = *((void *)v17 + 1);
  *(void *)uint64_t v16 = *(void *)v17;
  *((void *)v16 + 1) = v18;
  *(void *)&a1[v15] = *(void *)&a2[v15];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  return a1;
}

char *sub_D02F4(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_297970();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(uint64_t (**)(char *, uint64_t, uint64_t))(v7 + 48);
  int v9 = v8(a1, 1, v6);
  int v10 = v8(a2, 1, v6);
  if (v9)
  {
    if (!v10)
    {
      (*(void (**)(char *, char *, uint64_t))(v7 + 16))(a1, a2, v6);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
      goto LABEL_7;
    }
    goto LABEL_6;
  }
  if (v10)
  {
    (*(void (**)(char *, uint64_t))(v7 + 8))(a1, v6);
LABEL_6:
    uint64_t v11 = sub_71D4(&qword_30D188);
    memcpy(a1, a2, *(void *)(*(void *)(v11 - 8) + 64));
    goto LABEL_7;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 24))(a1, a2, v6);
LABEL_7:
  uint64_t v12 = a3[5];
  uint64_t v13 = &a1[v12];
  uint64_t v14 = &a2[v12];
  int v15 = v8(&a1[v12], 1, v6);
  int v16 = v8(v14, 1, v6);
  if (!v15)
  {
    if (!v16)
    {
      (*(void (**)(char *, char *, uint64_t))(v7 + 24))(v13, v14, v6);
      goto LABEL_13;
    }
    (*(void (**)(char *, uint64_t))(v7 + 8))(v13, v6);
    goto LABEL_12;
  }
  if (v16)
  {
LABEL_12:
    uint64_t v17 = sub_71D4(&qword_30D188);
    memcpy(v13, v14, *(void *)(*(void *)(v17 - 8) + 64));
    goto LABEL_13;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v13, v14, v6);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v13, 0, 1, v6);
LABEL_13:
  uint64_t v18 = a3[6];
  uint64_t v19 = &a1[v18];
  uint64_t v20 = &a2[v18];
  *(void *)uint64_t v19 = *(void *)v20;
  *((void *)v19 + 1) = *((void *)v20 + 1);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)&a1[a3[7]] = *(void *)&a2[a3[7]];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  return a1;
}

char *sub_D05C0(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_297970();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
  if (v8(a2, 1, v6))
  {
    uint64_t v9 = sub_71D4(&qword_30D188);
    memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v7 + 32))(a1, a2, v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
  }
  uint64_t v10 = a3[5];
  uint64_t v11 = &a1[v10];
  uint64_t v12 = &a2[v10];
  if (v8(&a2[v10], 1, v6))
  {
    uint64_t v13 = sub_71D4(&qword_30D188);
    memcpy(v11, v12, *(void *)(*(void *)(v13 - 8) + 64));
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v11, v12, v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v11, 0, 1, v6);
  }
  uint64_t v14 = a3[7];
  *(_OWORD *)&a1[a3[6]] = *(_OWORD *)&a2[a3[6]];
  *(void *)&a1[v14] = *(void *)&a2[v14];
  return a1;
}

char *sub_D079C(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_297970();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(uint64_t (**)(char *, uint64_t, uint64_t))(v7 + 48);
  int v9 = v8(a1, 1, v6);
  int v10 = v8(a2, 1, v6);
  if (v9)
  {
    if (!v10)
    {
      (*(void (**)(char *, char *, uint64_t))(v7 + 32))(a1, a2, v6);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
      goto LABEL_7;
    }
    goto LABEL_6;
  }
  if (v10)
  {
    (*(void (**)(char *, uint64_t))(v7 + 8))(a1, v6);
LABEL_6:
    uint64_t v11 = sub_71D4(&qword_30D188);
    memcpy(a1, a2, *(void *)(*(void *)(v11 - 8) + 64));
    goto LABEL_7;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 40))(a1, a2, v6);
LABEL_7:
  uint64_t v12 = a3[5];
  uint64_t v13 = &a1[v12];
  uint64_t v14 = &a2[v12];
  int v15 = v8(&a1[v12], 1, v6);
  int v16 = v8(v14, 1, v6);
  if (!v15)
  {
    if (!v16)
    {
      (*(void (**)(char *, char *, uint64_t))(v7 + 40))(v13, v14, v6);
      goto LABEL_13;
    }
    (*(void (**)(char *, uint64_t))(v7 + 8))(v13, v6);
    goto LABEL_12;
  }
  if (v16)
  {
LABEL_12:
    uint64_t v17 = sub_71D4(&qword_30D188);
    memcpy(v13, v14, *(void *)(*(void *)(v17 - 8) + 64));
    goto LABEL_13;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v13, v14, v6);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v13, 0, 1, v6);
LABEL_13:
  uint64_t v18 = a3[6];
  uint64_t v19 = &a1[v18];
  uint64_t v20 = &a2[v18];
  uint64_t v22 = *(void *)v20;
  uint64_t v21 = *((void *)v20 + 1);
  *(void *)uint64_t v19 = v22;
  *((void *)v19 + 1) = v21;
  swift_bridgeObjectRelease();
  *(void *)&a1[a3[7]] = *(void *)&a2[a3[7]];
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t sub_D0A50(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_D0A64);
}

uint64_t sub_D0A64(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_71D4(&qword_30D188);
  uint64_t v7 = *(void *)(v6 - 8);
  if (*(_DWORD *)(v7 + 84) == a2)
  {
    uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v7 + 48);
    return v8(a1, a2, v6);
  }
  else
  {
    unint64_t v10 = *(void *)(a1 + *(int *)(a3 + 24) + 8);
    if (v10 >= 0xFFFFFFFF) {
      LODWORD(v10) = -1;
    }
    int v11 = v10 - 1;
    if (v11 < 0) {
      int v11 = -1;
    }
    return (v11 + 1);
  }
}

uint64_t sub_D0B38(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_D0B4C);
}

uint64_t sub_D0B4C(uint64_t a1, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t result = sub_71D4(&qword_30D188);
  uint64_t v9 = *(void *)(result - 8);
  if (*(_DWORD *)(v9 + 84) == a3)
  {
    unint64_t v10 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v9 + 56);
    return v10(a1, a2, a2, result);
  }
  else
  {
    *(void *)(a1 + *(int *)(a4 + 24) + 8) = a2;
  }
  return result;
}

void sub_D0C10()
{
  sub_D0CB0();
  if (v0 <= 0x3F) {
    swift_initStructMetadata();
  }
}

void sub_D0CB0()
{
  if (!qword_30F5E8)
  {
    sub_297970();
    unint64_t v0 = sub_2992A0();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_30F5E8);
    }
  }
}

uint64_t String.errorDescription.getter(uint64_t a1)
{
  return a1;
}

uint64_t sub_D0D40(uint64_t a1, unint64_t a2)
{
  uint64_t v2 = HIBYTE(a2) & 0xF;
  if ((a2 & 0x2000000000000000) == 0) {
    uint64_t v2 = a1 & 0xFFFFFFFFFFFFLL;
  }
  if (!v2) {
    return 0;
  }
  uint64_t v3 = a1;
  swift_bridgeObjectRetain();
  return v3;
}

void sub_D0D94(uint64_t a1, void *a2)
{
  unint64_t v5 = v2[1];
  uint64_t v6 = *v2 & 0xFFFFFFFFFFFFLL;
  if ((v5 & 0x2000000000000000) != 0) {
    uint64_t v6 = HIBYTE(v5) & 0xF;
  }
  if (v6)
  {
    v9._countAndFlagsBits = 32;
    v9._object = (void *)0xE100000000000000;
    sub_298A80(v9);
  }
  v7._countAndFlagsBits = a1;
  v7._object = a2;

  sub_298A80(v7);
}

uint64_t sub_D0DFC()
{
  uint64_t v1 = *v0;
  swift_bridgeObjectRetain();
  return v1;
}

uint64_t type metadata accessor for UpdateMediaAffinityCatDialogService()
{
  return self;
}

unint64_t sub_D0E5C(char a1)
{
  unint64_t result = 0x616C50616964656DLL;
  switch(a1)
  {
    case 1:
      unint64_t result = 0xD000000000000017;
      break;
    case 3:
      unint64_t result = 0x747241636973756DLL;
      break;
    case 4:
      unint64_t result = 0x6449616964656DLL;
      break;
    case 5:
      unint64_t result = 0x746163696C707061;
      break;
    case 6:
      unint64_t result = 0x656D614E707061;
      break;
    case 7:
      unint64_t result = 0xD000000000000014;
      break;
    case 8:
      unint64_t result = 0x7473696C79616C70;
      break;
    case 9:
      unint64_t result = 0x746954636973756DLL;
      break;
    case 10:
      unint64_t result = 0x626C41636973756DLL;
      break;
    case 11:
      unint64_t result = 0xD000000000000015;
      break;
    case 12:
      unint64_t result = 0xD000000000000012;
      break;
    default:
      return result;
  }
  return result;
}

unint64_t sub_D105C(char a1)
{
  sub_2993B0(20);
  swift_bridgeObjectRelease();
  unint64_t v2 = sub_D0E5C(a1);
  unint64_t v4 = v3;
  swift_bridgeObjectRetain();
  sub_D11E4(1);
  swift_bridgeObjectRelease();
  uint64_t v5 = sub_2992B0();
  Swift::String v7 = v6;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRetain();
  sub_20F688(1uLL, v2, v4);
  swift_bridgeObjectRelease();
  sub_D1280();
  swift_bridgeObjectRetain();
  sub_298A70();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  v9._countAndFlagsBits = v5;
  v9._object = v7;
  sub_298A80(v9);
  swift_bridgeObjectRelease();
  return 0xD000000000000012;
}

void sub_D11D0()
{
  qword_31FAE0 = (uint64_t)&off_2F3968;
}

uint64_t sub_D11E4(uint64_t result)
{
  if (result < 0)
  {
    __break(1u);
  }
  else
  {
    sub_298A60();
    return sub_298B10();
  }
  return result;
}

unint64_t sub_D1280()
{
  unint64_t result = qword_30F7F8;
  if (!qword_30F7F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F7F8);
  }
  return result;
}

uint64_t sub_D12D4(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  uint64_t v5 = __chkstk_darwin(v4 - 8);
  Swift::String v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  Swift::String v9 = (char *)&v22 - v8;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  int v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AmbiguousShuffleFlow#on Handling input", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = sub_295060();
  uint64_t v19 = *(void *)(v18 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v19 + 16))(v9, a1, v18);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v19 + 56))(v9, 0, 1, v18);
  sub_60BBC((uint64_t)v9, (uint64_t)v7, &qword_30EBB8);
  uint64_t v20 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_input;
  swift_beginAccess();
  sub_1F9CC((uint64_t)v7, v20);
  swift_endAccess();
  return 1;
}

uint64_t sub_D15A8(void (*a1)(void *), uint64_t a2)
{
  uint64_t v46 = a1;
  uint64_t v47 = a2;
  uint64_t v3 = sub_294780();
  uint64_t v44 = *(void *)(v3 - 8);
  uint64_t v45 = v3;
  __chkstk_darwin(v3);
  uint64_t v43 = (char **)((char *)&v37 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v5 = (void *)sub_298800();
  uint64_t v41 = *(v5 - 1);
  id v42 = (void (*)(void, void, void))v5;
  __chkstk_darwin(v5);
  uint64_t v40 = (char *)&v37 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_295120();
  uint64_t v38 = *(void *)(v7 - 8);
  uint64_t v39 = v7;
  __chkstk_darwin(v7);
  uint64_t v37 = (char *)&v37 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v37 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_295060();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = *(void *)(v13 + 64);
  uint64_t v15 = __chkstk_darwin(v12);
  os_log_type_t v16 = (char *)&v37 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v37 - v17;
  uint64_t v19 = v2;
  uint64_t v20 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_input;
  swift_beginAccess();
  sub_11E58(v20, (uint64_t)v11, &qword_30EBB8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v13 + 48))(v11, 1, v12) == 1)
  {
    uint64_t v21 = v46;
    sub_23A44((uint64_t)v11, &qword_30EBB8);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v22 = v42;
    uint64_t v23 = sub_6E60((uint64_t)v42, (uint64_t)qword_31FC08);
    uint64_t v25 = v40;
    uint64_t v24 = v41;
    (*(void (**)(char *, uint64_t, void))(v41 + 16))(v40, v23, v22);
    uint64_t v26 = sub_2987E0();
    os_log_type_t v27 = sub_298DB0();
    if (os_log_type_enabled(v26, v27))
    {
      uint64_t v28 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v28 = 0;
      _os_log_impl(&dword_0, v26, v27, "AmbiguousShuffleFlow#execute Input is nil", v28, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, void (*)(void, void, void)))(v24 + 8))(v25, v22);
    uint64_t v29 = v43;
    sub_294760();
    v21(v29);
    return (*(uint64_t (**)(void *, uint64_t))(v44 + 8))(v29, v45);
  }
  else
  {
    id v42 = *(void (**)(void, void, void))(v13 + 32);
    v42(v18, v11, v12);
    uint64_t v31 = *(void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_controlsFlowProvider + 32);
    uint64_t v44 = *(void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_controlsFlowProvider + 24);
    uint64_t v45 = v31;
    uint64_t v43 = sub_74A4((void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_controlsFlowProvider), v44);
    uint64_t v32 = v37;
    sub_295040();
    (*(void (**)(char *, char *, uint64_t))(v13 + 16))(v16, v18, v12);
    unint64_t v33 = (*(unsigned __int8 *)(v13 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
    uint64_t v34 = (void *)swift_allocObject();
    int v35 = (void (*)(void))v46;
    uint64_t v36 = v47;
    void v34[2] = v19;
    v34[3] = v35;
    v34[4] = v36;
    v42((char *)v34 + v33, v16, v12);
    swift_retain();
    swift_retain();
    sub_2983C0();
    swift_release();
    (*(void (**)(char *, uint64_t))(v38 + 8))(v32, v39);
    return (*(uint64_t (**)(char *, uint64_t))(v13 + 8))(v18, v12);
  }
}

uint64_t sub_D1B00(uint64_t a1, char a2, uint64_t a3, void (*a4)(void), uint64_t a5, uint8_t *a6)
{
  uint64_t v43 = a6;
  uint64_t v10 = sub_294780();
  uint64_t v45 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v44 = (char *)&v39 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_298800();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = __chkstk_darwin(v12);
  os_log_type_t v16 = (char *)&v39 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v18 = (char *)&v39 - v17;
  if (a2)
  {
    uint64_t v47 = 0;
    unint64_t v48 = 0xE000000000000000;
    swift_errorRetain();
    sub_2993B0(66);
    v49._countAndFlagsBits = 0xD00000000000003FLL;
    v49._object = (void *)0x80000000002A4C90;
    sub_298A80(v49);
    swift_getErrorValue();
    v50._countAndFlagsBits = sub_299620();
    sub_298A80(v50);
    swift_bridgeObjectRelease();
    v51._countAndFlagsBits = 46;
    v51._object = (void *)0xE100000000000000;
    sub_298A80(v51);
    sub_D21DC(0, v47, v48, (uint64_t)a4, a5);
    swift_bridgeObjectRelease();
    return sub_D5024(a1, 1);
  }
  else
  {
    uint64_t v42 = v10;
    if (a1)
    {
      uint64_t v19 = qword_30C848;
      swift_retain_n();
      if (v19 != -1) {
        swift_once();
      }
      uint64_t v20 = sub_6E60(v12, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v16, v20, v12);
      uint64_t v21 = sub_2987E0();
      os_log_type_t v22 = sub_298DC0();
      if (os_log_type_enabled(v21, v22))
      {
        uint64_t v41 = a5;
        uint64_t v23 = (uint8_t *)swift_slowAlloc();
        uint64_t v24 = swift_slowAlloc();
        uint64_t v40 = a4;
        uint64_t v47 = v24;
        *(_DWORD *)uint64_t v23 = 136446210;
        uint64_t v43 = v23 + 4;
        uint64_t v25 = sub_297410();
        uint64_t v46 = sub_6E98(v25, v26, &v47);
        sub_2992C0();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v21, v22, "AmbiguousShuffleFlow#execute %{public}s executing shuffle flow from controls", v23, 0xCu);
        swift_arrayDestroy();
        a4 = v40;
        swift_slowDealloc();
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v13 + 8))(v16, v12);
      os_log_type_t v27 = v44;
      sub_294750();
      a4(v27);
      sub_D5024(a1, 0);
      sub_D5024(a1, 0);
      return (*(uint64_t (**)(char *, uint64_t))(v45 + 8))(v27, v42);
    }
    else
    {
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v29 = sub_6E60(v12, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v18, v29, v12);
      swift_retain_n();
      uint64_t v30 = sub_2987E0();
      os_log_type_t v31 = sub_298DC0();
      if (os_log_type_enabled(v30, v31))
      {
        uint64_t v32 = swift_slowAlloc();
        uint64_t v41 = a5;
        unint64_t v33 = (uint8_t *)v32;
        uint64_t v34 = swift_slowAlloc();
        uint64_t v40 = a4;
        *(_DWORD *)unint64_t v33 = 136315138;
        uint64_t v47 = v34;
        uint64_t v39 = v33 + 4;
        uint64_t v35 = sub_293E00();
        uint64_t v46 = sub_6E98(v35, v36, &v47);
        sub_2992C0();
        swift_release_n();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v30, v31, "AmbiguousShuffleFlow#execute No flow returned from controls, pushing fallback flow: %s", v33, 0xCu);
        swift_arrayDestroy();
        a4 = v40;
        swift_slowDealloc();
        a5 = v41;
        swift_slowDealloc();
      }
      else
      {

        swift_release_n();
      }
      (*(void (**)(char *, uint64_t))(v13 + 8))(v18, v12);
      uint64_t v37 = v42;
      if (sub_293E10())
      {
        uint64_t v38 = v44;
        sub_294750();
        a4(v38);
        return (*(uint64_t (**)(char *, uint64_t))(v45 + 8))(v38, v37);
      }
      else
      {
        uint64_t v47 = 0;
        unint64_t v48 = 0xE000000000000000;
        sub_2993B0(85);
        v52._countAndFlagsBits = 0xD00000000000003BLL;
        v52._object = (void *)0x80000000002A4C30;
        sub_298A80(v52);
        sub_295060();
        sub_D4FCC();
        v53._countAndFlagsBits = sub_2995A0();
        sub_298A80(v53);
        swift_bridgeObjectRelease();
        v54._object = (void *)0x80000000002A4C70;
        v54._countAndFlagsBits = 0xD000000000000018;
        sub_298A80(v54);
        sub_D21DC(1, v47, v48, (uint64_t)a4, a5);
        return swift_bridgeObjectRelease();
      }
    }
  }
}

uint64_t sub_D21DC(int a1, uint64_t a2, unint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  uint64_t v29 = a2;
  uint64_t v11 = sub_298800();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v24 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_6E60(v11, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v14, v15, v11);
  swift_bridgeObjectRetain_n();
  os_log_type_t v16 = sub_2987E0();
  os_log_type_t v17 = sub_298DB0();
  if (os_log_type_enabled(v16, v17))
  {
    uint64_t v26 = a4;
    uint64_t v18 = swift_slowAlloc();
    uint64_t v27 = a5;
    uint64_t v19 = (uint8_t *)v18;
    uint64_t v20 = swift_slowAlloc();
    uint64_t v28 = v6;
    uint64_t v31 = v20;
    int v25 = a1;
    *(_DWORD *)uint64_t v19 = 136315138;
    swift_bridgeObjectRetain();
    uint64_t v30 = sub_6E98(v29, a3, &v31);
    a4 = v26;
    LOBYTE(a1) = v25;
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_0, v16, v17, "%s", v19, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    a5 = v27;
    swift_slowDealloc();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
  if (a1) {
    uint64_t v21 = 0x6B6361426C6C6166;
  }
  else {
    uint64_t v21 = 0xD000000000000023;
  }
  if (a1) {
    os_log_type_t v22 = (void *)0xEF66664F776F6C46;
  }
  else {
    os_log_type_t v22 = (void *)0x80000000002A4C00;
  }
  sub_D24C4(v21, v22, a4, a5);
  return swift_bridgeObjectRelease();
}

uint64_t sub_D24C4(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v29 = a4;
  uint64_t v27 = a3;
  uint64_t v6 = sub_298800();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v25 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_6E60(v6, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v10, v6);
  swift_bridgeObjectRetain_n();
  uint64_t v11 = sub_2987E0();
  os_log_type_t v12 = sub_298DA0();
  if (os_log_type_enabled(v11, v12))
  {
    uint64_t v13 = (uint8_t *)swift_slowAlloc();
    *(void *)&v31[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 136315138;
    uint64_t v26 = (uint64_t *)(v13 + 4);
    swift_bridgeObjectRetain();
    uint64_t v30 = sub_6E98(a1, (unint64_t)a2, (uint64_t *)v31);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_0, v11, v12, "AmbiguousShuffleFlow#genericErrorDialog... %s", v13, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29BFD0;
  sub_296980();
  *(void *)(inited + 32) = sub_296950();
  *(void *)(inited + 40) = v15;
  *(void *)(inited + 72) = &type metadata for String;
  *(void *)(inited + 48) = a1;
  *(void *)(inited + 56) = a2;
  swift_bridgeObjectRetain();
  *(void *)(inited + 80) = sub_296940();
  *(void *)(inited + 88) = v16;
  *(void *)&v31[0] = 0;
  *((void *)&v31[0] + 1) = 0xE000000000000000;
  sub_2993B0(62);
  v33._object = (void *)0x80000000002A4BC0;
  v33._countAndFlagsBits = 0xD00000000000003CLL;
  sub_298A80(v33);
  v34._countAndFlagsBits = a1;
  v34._object = a2;
  sub_298A80(v34);
  long long v17 = v31[0];
  *(void *)(inited + 120) = &type metadata for String;
  *(_OWORD *)(inited + 96) = v17;
  sub_9A184(inited);
  uint64_t v18 = v28;
  uint64_t v19 = *(void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_playMediaCatDialogService);
  uint64_t v20 = (void *)swift_allocObject();
  uint64_t v26 = &v25;
  v20[2] = v18;
  v20[3] = a1;
  uint64_t v21 = v27;
  _DWORD v20[4] = a2;
  v20[5] = v21;
  v20[6] = v29;
  uint64_t v22 = *(void *)(v19 + 16);
  uint64_t v23 = *(void *)(v19 + 24);
  uint64_t v32 = 0;
  memset(v31, 0, sizeof(v31));
  __chkstk_darwin(v20);
  *(&v25 - 10) = v22;
  *(&v25 - 9) = v23;
  strcpy((char *)&v25 - 64, "GenericError");
  *((unsigned char *)&v25 - 51) = 0;
  *((_WORD *)&v25 - 25) = -5120;
  swift_bridgeObjectRetain();
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_D4E40, (uint64_t)v20, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v22, v23, 0x45636972656E6547, 0xEC000000726F7272, (void (*)(uint64_t (*)(), uint64_t))sub_553C4, (uint64_t)(&v25 - 12));
  sub_23A44((uint64_t)v31, &qword_30D018);
  swift_bridgeObjectRelease();
  return swift_release();
}

uint64_t sub_D2958(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v31 = a4;
  uint64_t v33 = a5;
  uint64_t v34 = a3;
  uint64_t v32 = a2;
  uint64_t v6 = sub_71D4((uint64_t *)&unk_30FA30);
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(void *)(v7 + 64);
  __chkstk_darwin(v6 - 8);
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  os_log_type_t v12 = (char *)v29 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v9, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v13, v9);
  uint64_t v14 = sub_2987E0();
  os_log_type_t v15 = sub_298DA0();
  if (os_log_type_enabled(v14, v15))
  {
    uint64_t v16 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v16 = 0;
    _os_log_impl(&dword_0, v14, v15, "AmbiguousShuffleFlow#handleDialogResult Handling dialog Result...", v16, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  uint64_t v17 = v30;
  uint64_t v18 = *(void *)(v30 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_appNameResolver + 24);
  void v29[2] = *(void *)(v30 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_appNameResolver + 32);
  v29[1] = sub_74A4((void *)(v30 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_appNameResolver), v18);
  v29[0] = sub_2964D0();
  uint64_t v36 = 0;
  memset(v35, 0, sizeof(v35));
  sub_11E58(a1, (uint64_t)v29 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t *)&unk_30FA30);
  unint64_t v19 = (*(unsigned __int8 *)(v7 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80);
  uint64_t v20 = (char *)v29 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v21 = (v8 + v19 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v22 = (v21 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v23 = swift_allocObject();
  sub_60BBC((uint64_t)v20, v23 + v19, (uint64_t *)&unk_30FA30);
  *(void *)(v23 + v21) = v17;
  uint64_t v24 = (void *)(v23 + v22);
  uint64_t v26 = v33;
  uint64_t v25 = v34;
  *uint64_t v24 = v31;
  v24[1] = v26;
  uint64_t v27 = (void *)(v23 + ((v22 + 23) & 0xFFFFFFFFFFFFFFF8));
  *uint64_t v27 = v32;
  v27[1] = v25;
  swift_retain();
  swift_retain();
  swift_bridgeObjectRetain();
  sub_2963D0();
  swift_bridgeObjectRelease();
  swift_release();
  return sub_23A44((uint64_t)v35, &qword_3138B0);
}

uint64_t sub_D2CB8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t), uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v76 = a8;
  uint64_t v75 = a7;
  uint64_t v91 = a6;
  uint64_t v92 = a5;
  uint64_t v93 = a4;
  uint64_t v87 = a1;
  unint64_t v88 = (char *)a3;
  uint64_t v8 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v8 - 8);
  uint64_t v85 = (char *)v73 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v10 - 8);
  uint64_t v84 = (char *)v73 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v12 - 8);
  v83 = (char *)v73 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v82 = sub_297280();
  uint64_t v81 = *(void *)(v82 - 8);
  __chkstk_darwin(v82);
  uint64_t v79 = (char *)v73 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = sub_297210();
  uint64_t v78 = *(void *)(v80 - 8);
  __chkstk_darwin(v80);
  uint64_t v77 = (char *)v73 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v86 = sub_298800();
  uint64_t v74 = *(void *)(v86 - 8);
  __chkstk_darwin(v86);
  uint64_t v17 = (char *)v73 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_294780();
  uint64_t v89 = *(void *)(v18 - 8);
  uint64_t v90 = v18;
  __chkstk_darwin(v18);
  uint64_t v20 = (char *)v73 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_71D4(&qword_30D030);
  uint64_t v22 = __chkstk_darwin(v21);
  uint64_t v24 = (char *)v73 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v22);
  uint64_t v26 = (char *)v73 - v25;
  uint64_t v27 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v27);
  uint64_t v29 = (void *)((char *)v73 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_297700();
  swift_bridgeObjectRetain();
  uint64_t v30 = sub_2976D0();
  sub_11E58((uint64_t)v88, (uint64_t)v29, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v31 = v93;
    unint64_t v88 = v20;
    uint64_t v32 = *v29;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v33 = v86;
    uint64_t v34 = sub_6E60(v86, (uint64_t)qword_31FC08);
    uint64_t v35 = v74;
    (*(void (**)(char *, uint64_t, uint64_t))(v74 + 16))(v17, v34, v33);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v36 = sub_2987E0();
    os_log_type_t v37 = sub_298DB0();
    BOOL v38 = os_log_type_enabled(v36, v37);
    uint64_t v87 = v30;
    if (v38)
    {
      uint64_t v39 = (uint8_t *)swift_slowAlloc();
      uint64_t v94 = swift_slowAlloc();
      *(_DWORD *)uint64_t v39 = 136315138;
      swift_getErrorValue();
      uint64_t v95 = sub_299620();
      uint64_t v96 = v40;
      uint64_t v41 = sub_298B00();
      uint64_t v95 = sub_6E98(v41, v42, &v94);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v36, v37, "AmbiguousShuffleFlow#handleDialogResult Could not properly create dialog %s, silently failing...", v39, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v35 + 8))(v17, v86);
      uint64_t v31 = v93;
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v35 + 8))(v17, v33);
    }
    v73[1] = v32;
    uint64_t v95 = v75;
    uint64_t v96 = v76;
    swift_bridgeObjectRetain();
    v97._countAndFlagsBits = 95;
    v97._object = (void *)0xE100000000000000;
    sub_298A80(v97);
    uint64_t v51 = v95;
    uint64_t v50 = v96;
    swift_getErrorValue();
    uint64_t v95 = sub_299620();
    uint64_t v96 = v52;
    uint64_t v53 = sub_298B00();
    uint64_t v55 = v54;
    uint64_t v95 = v51;
    uint64_t v96 = v50;
    swift_bridgeObjectRetain();
    v98._countAndFlagsBits = v53;
    v98._object = v55;
    sub_298A80(v98);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v56 = v78;
    long long v57 = v77;
    uint64_t v58 = v80;
    (*(void (**)(char *, void, uint64_t))(v78 + 104))(v77, enum case for AdditionalMetricsDescription.ModuleName.asf(_:), v80);
    uint64_t v59 = v81;
    uint64_t v60 = v79;
    uint64_t v61 = v82;
    (*(void (**)(char *, void, uint64_t))(v81 + 104))(v79, enum case for AdditionalMetricsDescription.SourceFunction.handleDlgRes(_:), v82);
    uint64_t v93 = sub_297230();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v59 + 8))(v60, v61);
    (*(void (**)(char *, uint64_t))(v56 + 8))(v57, v58);
    sub_74A4((void *)(v31 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider), *(void *)(v31 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider + 24));
    uint64_t v62 = enum case for ActivityType.failed(_:);
    uint64_t v63 = sub_2944C0();
    uint64_t v64 = *(void *)(v63 - 8);
    uint64_t v65 = (uint64_t)v83;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 104))(v83, v62, v63);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v64 + 56))(v65, 0, 1, v63);
    uint64_t v66 = sub_2949F0();
    uint64_t v67 = (uint64_t)v84;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v66 - 8) + 56))(v84, 1, 1, v66);
    uint64_t v68 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v69 = sub_294170();
    uint64_t v70 = *(void *)(v69 - 8);
    uint64_t v71 = (uint64_t)v85;
    (*(void (**)(char *, uint64_t, uint64_t))(v70 + 104))(v85, v68, v69);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v70 + 56))(v71, 0, 1, v69);
    swift_retain();
    sub_295CC0();
    swift_release();
    swift_bridgeObjectRelease();
    sub_23A44(v71, &qword_30D5B8);
    sub_23A44(v67, (uint64_t *)&unk_30FA50);
    sub_23A44(v65, &qword_30D5C0);
    uint64_t v72 = (uint64_t)v88;
    sub_294760();
    v92(v72);
    swift_release();
    swift_errorRelease();
    return (*(uint64_t (**)(uint64_t, uint64_t))(v89 + 8))(v72, v90);
  }
  else
  {
    uint64_t v43 = *(int *)(v21 + 48);
    uint64_t v44 = sub_2949F0();
    uint64_t v45 = *(void *)(v44 - 8);
    (*(void (**)(char *, uint64_t *, uint64_t))(v45 + 32))(v26, v29, v44);
    uint64_t v46 = *(void **)((char *)v29 + v43);
    *(void *)&v26[v43] = v46;
    uint64_t v47 = *(int *)(v21 + 48);
    (*(void (**)(char *, char *, uint64_t))(v45 + 16))(v24, v26, v44);
    *(void *)&v24[v47] = v46;
    id v48 = v46;
    sub_D381C((uint64_t)v24, v48);

    (*(void (**)(char *, uint64_t))(v45 + 8))(v24, v44);
    sub_294760();
    v92((uint64_t)v20);
    swift_release();
    (*(void (**)(char *, uint64_t))(v89 + 8))(v20, v90);
    return sub_23A44((uint64_t)v26, &qword_30D030);
  }
}

uint64_t sub_D381C(uint64_t a1, void *a2)
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v28 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30D030);
  uint64_t v9 = __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v28 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v28 - v12;
  uint64_t v14 = sub_2949F0();
  uint64_t v31 = *(void *)(v14 - 8);
  uint64_t v32 = v14;
  uint64_t v29 = *(void (**)(char *, uint64_t))(v31 + 16);
  v29(v13, a1);
  uint64_t v30 = v8;
  *(void *)&v13[*(int *)(v8 + 48)] = a2;
  uint64_t v15 = qword_30C848;
  id v16 = a2;
  if (v15 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_6E60(v4, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v17, v4);
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DA0();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v20 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v20 = 0;
    _os_log_impl(&dword_0, v18, v19, "AmbiguousShuffleFlow#publishOutput Dialog successfully generated, responding and exiting...", v20, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  uint64_t v21 = sub_74A4((void *)(v33 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_outputProvider), *(void *)(v33 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_outputProvider + 24));
  uint64_t v22 = *(int *)(v30 + 48);
  uint64_t v23 = v32;
  ((void (*)(char *, char *, uint64_t))v29)(v11, v13, v32);
  *(void *)&v11[v22] = v16;
  uint64_t v24 = swift_allocObject();
  swift_weakInit();
  uint64_t v25 = *v21;
  id v26 = v16;
  sub_1D18A4((uint64_t)v11, v26, v25, v24);

  sub_23A44((uint64_t)v13, &qword_30D030);
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v31 + 8))(v11, v23);
}

uint64_t sub_D3B68(uint64_t a1, uint64_t a2)
{
  uint64_t v79 = sub_298800();
  uint64_t v4 = *(void *)(v79 - 8);
  __chkstk_darwin(v79);
  uint64_t v78 = (char *)&v66 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v6 - 8);
  uint64_t v77 = (char *)&v66 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v8 - 8);
  uint64_t v76 = (char *)&v66 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v10 - 8);
  uint64_t v74 = (char *)&v66 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = sub_296130();
  uint64_t v75 = *(void *)(v80 - 8);
  __chkstk_darwin(v80);
  uint64_t v73 = (char *)&v66 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_297280();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  id v16 = (char *)&v66 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_297210();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v66 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = a2 + 16;
  sub_11E58(a1, (uint64_t)&v87, (uint64_t *)&unk_30FA80);
  if ((v88 & 1) == 0)
  {
    sub_11EBC(&v87, (uint64_t)v84);
    (*(void (**)(char *, void, uint64_t))(v18 + 104))(v20, enum case for AdditionalMetricsDescription.ModuleName.asf(_:), v17);
    (*(void (**)(char *, void, uint64_t))(v14 + 104))(v16, enum case for AdditionalMetricsDescription.SourceFunction.handleDlgRes(_:), v13);
    sub_297230();
    (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v17);
    swift_beginAccess();
    uint64_t Strong = swift_weakLoadStrong();
    if (Strong)
    {
      sub_18D5C(Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider, (uint64_t)v81);
      swift_release();
      uint64_t v78 = v82;
      uint64_t v79 = v83;
      uint64_t v71 = sub_74A4(v81, (uint64_t)v82);
      uint64_t v35 = v75;
      uint64_t v36 = *(void (**)(char *, void, uint64_t))(v75 + 104);
      uint64_t v72 = v21;
      os_log_type_t v37 = v73;
      v36(v73, enum case for TypeOfIntent.acousticID(_:), v80);
      uint64_t v38 = enum case for ActivityType.failed(_:);
      uint64_t v39 = sub_2944C0();
      uint64_t v40 = (uint64_t)v77;
      uint64_t v41 = v39;
      uint64_t v42 = (uint64_t)v76;
      uint64_t v43 = *(void *)(v39 - 8);
      uint64_t v44 = (uint64_t)v74;
      (*(void (**)(char *, uint64_t, uint64_t))(v43 + 104))(v74, v38, v39);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v43 + 56))(v44, 0, 1, v41);
      uint64_t v45 = sub_2949F0();
      (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v45 - 8) + 56))(v42, 1, 1, v45);
      uint64_t v46 = enum case for SiriKitReliabilityCodes.genericError(_:);
      uint64_t v47 = sub_294170();
      uint64_t v48 = *(void *)(v47 - 8);
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v48 + 104))(v40, v46, v47);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v48 + 56))(v40, 0, 1, v47);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v40, &qword_30D5B8);
      sub_23A44(v42, (uint64_t *)&unk_30FA50);
      sub_23A44(v44, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v35 + 8))(v37, v80);
      sub_7184((uint64_t)v81);
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    swift_beginAccess();
    uint64_t v64 = swift_weakLoadStrong();
    if (v64)
    {
      sub_18D5C(v64 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_publisher, (uint64_t)v81);
      swift_release();
      sub_74A4(v81, (uint64_t)v82);
      sub_2948D0();
      sub_7184((uint64_t)v84);
      return sub_7184((uint64_t)v81);
    }
    return sub_7184((uint64_t)v84);
  }
  uint64_t v70 = v17;
  uint64_t v71 = (void *)v13;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v22 = v79;
  uint64_t v23 = sub_6E60(v79, (uint64_t)qword_31FC20);
  uint64_t v24 = v78;
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v78, v23, v22);
  swift_errorRetain();
  swift_errorRetain();
  uint64_t v25 = sub_2987E0();
  os_log_type_t v26 = sub_298DB0();
  int v69 = v26;
  if (os_log_type_enabled(v25, v26))
  {
    uint64_t v27 = swift_slowAlloc();
    uint64_t v68 = swift_slowAlloc();
    v81[0] = v68;
    *(_DWORD *)uint64_t v27 = 136315394;
    uint64_t v66 = v27 + 4;
    swift_getErrorValue();
    os_log_t v67 = v25;
    v84[0] = sub_299620();
    v84[1] = v28;
    uint64_t v72 = a2 + 16;
    uint64_t v29 = sub_298B00();
    v84[0] = sub_6E98(v29, v30, v81);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    *(_WORD *)(v27 + 12) = 2082;
    uint64_t v31 = sub_2973F0();
    v84[0] = sub_6E98(v31, v32, v81);
    sub_2992C0();
    swift_bridgeObjectRelease();
    os_log_t v33 = v67;
    _os_log_impl(&dword_0, v67, (os_log_type_t)v69, "AmbiguousShuffleFlow#handleDialogResult failed to create output %s  %{public}s", (uint8_t *)v27, 0x16u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v4 + 8))(v78, v79);
  }
  else
  {
    swift_errorRelease();
    swift_errorRelease();

    (*(void (**)(char *, uint64_t))(v4 + 8))(v24, v22);
  }
  Swift::String v49 = v71;
  uint64_t v50 = v70;
  (*(void (**)(char *, void, uint64_t))(v18 + 104))(v20, enum case for AdditionalMetricsDescription.ModuleName.asf(_:), v70);
  (*(void (**)(char *, void, void *))(v14 + 104))(v16, enum case for AdditionalMetricsDescription.SourceFunction.handleDlgRes(_:), v49);
  swift_getErrorValue();
  sub_299620();
  uint64_t v79 = sub_297230();
  swift_bridgeObjectRelease();
  (*(void (**)(char *, void *))(v14 + 8))(v16, v49);
  (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v50);
  swift_beginAccess();
  uint64_t v51 = swift_weakLoadStrong();
  if (v51)
  {
    sub_18D5C(v51 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider, (uint64_t)v84);
    swift_release();
    uint64_t v72 = v85;
    uint64_t v78 = v86;
    uint64_t v71 = sub_74A4(v84, v85);
    uint64_t v52 = v75;
    uint64_t v53 = v73;
    (*(void (**)(char *, void, uint64_t))(v75 + 104))(v73, enum case for TypeOfIntent.acousticID(_:), v80);
    uint64_t v54 = enum case for ActivityType.failed(_:);
    uint64_t v55 = sub_2944C0();
    uint64_t v56 = *(void *)(v55 - 8);
    uint64_t v57 = (uint64_t)v74;
    (*(void (**)(char *, uint64_t, uint64_t))(v56 + 104))(v74, v54, v55);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v56 + 56))(v57, 0, 1, v55);
    uint64_t v58 = sub_2949F0();
    uint64_t v59 = (uint64_t)v76;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v58 - 8) + 56))(v76, 1, 1, v58);
    uint64_t v60 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v61 = sub_294170();
    uint64_t v62 = *(void *)(v61 - 8);
    uint64_t v63 = (uint64_t)v77;
    (*(void (**)(char *, uint64_t, uint64_t))(v62 + 104))(v77, v60, v61);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v62 + 56))(v63, 0, 1, v61);
    sub_295CA0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    sub_23A44(v63, &qword_30D5B8);
    sub_23A44(v59, (uint64_t *)&unk_30FA50);
    sub_23A44(v57, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v52 + 8))(v53, v80);
    return sub_7184((uint64_t)v84);
  }
  swift_bridgeObjectRelease();
  return swift_errorRelease();
}

uint64_t sub_D4918()
{
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_input, &qword_30EBB8);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_controlsFlowProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_audioFlowProvider);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_outputProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_publisher);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_appNameResolver);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider);

  return swift_deallocClassInstance();
}

uint64_t sub_D4A04()
{
  return type metadata accessor for AmbiguousShuffleFlow();
}

uint64_t type metadata accessor for AmbiguousShuffleFlow()
{
  uint64_t result = qword_30F870;
  if (!qword_30F870) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_D4A58()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_D4B0C(uint64_t a1)
{
  return 1;
}

uint64_t sub_D4B34(void (*a1)(void *), uint64_t a2)
{
  return sub_D15A8(a1, a2);
}

uint64_t sub_D4B58(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for AmbiguousShuffleFlow();

  return Flow<>.exitValue.getter(v3, a2);
}

uint64_t sub_D4B94()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_D4BCC()
{
  uint64_t v1 = *(void *)(sub_71D4((uint64_t *)&unk_30FA30) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 16) & ~v2;
  uint64_t v4 = *(void *)(v1 + 64);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    swift_errorRelease();
  }
  else
  {
    uint64_t v5 = sub_2949F0();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v5 - 8) + 8))(v0 + v3, v5);
  }
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, ((((((v4 + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 16, v2 | 7);
}

uint64_t sub_D4D28(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void *)(sub_71D4((uint64_t *)&unk_30FA30) - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  unint64_t v7 = (*(void *)(v5 + 64) + v6 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v8 = (v7 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v9 = v2 + v6;
  uint64_t v10 = *(void *)(v2 + v7);
  uint64_t v11 = *(void (**)(uint64_t))(v2 + v8);
  uint64_t v12 = *(void *)(v2 + v8 + 8);
  uint64_t v13 = (uint64_t *)(v2 + ((v8 + 23) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v14 = *v13;
  uint64_t v15 = v13[1];

  return sub_D2CB8(a1, a2, v9, v10, v11, v12, v14, v15);
}

uint64_t sub_D4DF8()
{
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_D4E40(uint64_t a1)
{
  return sub_D2958(a1, v1[3], v1[4], v1[5], v1[6]);
}

uint64_t sub_D4E70()
{
  uint64_t v1 = sub_295060();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 40) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_D4F44(uint64_t a1, char a2)
{
  char v4 = a2 & 1;
  uint64_t v5 = *(void *)(sub_295060() - 8);
  uint64_t v6 = v2[2];
  unint64_t v7 = (void (*)(void))v2[3];
  uint64_t v8 = v2[4];
  uint64_t v9 = (uint8_t *)v2 + ((*(unsigned __int8 *)(v5 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80));

  return sub_D1B00(a1, v4, v6, v7, v8, v9);
}

unint64_t sub_D4FCC()
{
  unint64_t result = qword_30D630;
  if (!qword_30D630)
  {
    sub_295060();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30D630);
  }
  return result;
}

uint64_t sub_D5024(uint64_t a1, char a2)
{
  if (a2) {
    return swift_errorRelease();
  }
  else {
    return swift_release();
  }
}

uint64_t sub_D5030()
{
  return swift_initClassMetadata2();
}

uint64_t sub_D50A4@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = sub_71D4(&qword_30D030);
  uint64_t v3 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v2 - 8) + 56);
  v3(a1, 1, 1, v2);
  char v4 = (int *)type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t result = ((uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t))v3)(a1 + v4[9], 1, 1, v2);
  uint64_t v6 = (void *)(a1 + v4[10]);
  void *v6 = 0;
  v6[1] = 0;
  unint64_t v7 = (void *)(a1 + v4[11]);
  *unint64_t v7 = 0;
  v7[1] = 0;
  *(void *)(a1 + v4[12]) = 0;
  return result;
}

uint64_t sub_D5178@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v4 = sub_71D4(&qword_30D620);
  __chkstk_darwin(v4 - 8);
  uint64_t v79 = (char *)v61 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = sub_297BD0();
  uint64_t v74 = *(void *)(v80 - 8);
  uint64_t v6 = __chkstk_darwin(v80);
  uint64_t v63 = (char *)v61 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v65 = (char *)v61 - v9;
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v68 = (char *)v61 - v11;
  __chkstk_darwin(v10);
  uint64_t v73 = (char *)v61 - v12;
  uint64_t v13 = sub_295120();
  uint64_t v76 = *(void *)(v13 - 8);
  uint64_t v77 = v13;
  __chkstk_darwin(v13);
  uint64_t v75 = (char *)v61 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_295060();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)v61 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_298800();
  uint64_t v20 = *(void *)(v19 - 8);
  uint64_t v21 = __chkstk_darwin(v19);
  uint64_t v64 = (char *)v61 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v62 = (char *)v61 - v24;
  __chkstk_darwin(v23);
  os_log_type_t v26 = (char *)v61 - v25;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v27 = sub_6E60(v19, (uint64_t)qword_31FC08);
  uint64_t v28 = *(void (**)(char *, uint64_t, uint64_t))(v20 + 16);
  uint64_t v70 = v27;
  uint64_t v72 = v20 + 16;
  uint64_t v71 = v28;
  ((void (*)(char *))v28)(v26);
  uint64_t v29 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 16);
  uint64_t v78 = a1;
  v29(v18, a1, v15);
  unint64_t v30 = sub_2987E0();
  uint64_t v31 = v20;
  os_log_type_t v32 = sub_298DC0();
  if (os_log_type_enabled(v30, v32))
  {
    uint64_t v66 = v20;
    os_log_t v33 = (uint8_t *)swift_slowAlloc();
    uint64_t v34 = swift_slowAlloc();
    uint64_t v69 = a2;
    v85[0] = v34;
    uint64_t v67 = v19;
    *(_DWORD *)os_log_t v33 = 136315138;
    v61[1] = v33 + 4;
    sub_DE1C8((unint64_t *)&qword_30D630, (void (*)(uint64_t))&type metadata accessor for Input);
    uint64_t v35 = sub_2995A0();
    *(void *)&long long v83 = sub_6E98(v35, v36, v85);
    uint64_t v19 = v67;
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
    _os_log_impl(&dword_0, v30, v32, "TCCAcceptanceFlowStrategy#actionForInput input:%s", v33, 0xCu);
    swift_arrayDestroy();
    a2 = v69;
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v37 = v66;
    uint64_t v38 = *(void (**)(char *, uint64_t))(v66 + 8);
    v38(v26, v19);
    uint64_t v39 = v37;
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);

    uint64_t v38 = *(void (**)(char *, uint64_t))(v20 + 8);
    v38(v26, v19);
    uint64_t v39 = v31;
  }
  uint64_t v40 = (uint64_t)v75;
  sub_295040();
  double v41 = sub_E2BDC(v40, (uint64_t *)&v83);
  (*(void (**)(uint64_t, uint64_t, double))(v76 + 8))(v40, v77, v41);
  uint64_t v42 = (uint64_t)v79;
  uint64_t v43 = v80;
  if (v84)
  {
    sub_11EBC(&v83, (uint64_t)v85);
    sub_74A4(v85, v85[3]);
    sub_297BC0();
    uint64_t v44 = v74;
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v74 + 48))(v42, 1, v43) == 1)
    {
      sub_23A44(v42, &qword_30D620);
LABEL_9:
      sub_294590();
      return sub_7184((uint64_t)v85);
    }
    uint64_t v66 = v39;
    uint64_t v67 = v19;
    uint64_t v69 = a2;
    (*(void (**)(char *, uint64_t, uint64_t))(v44 + 32))(v73, v42, v43);
    uint64_t v50 = *(void (**)(char *, void, uint64_t))(v44 + 104);
    v50(v68, enum case for CommonAudio.Confirmation.cancel(_:), v43);
    sub_DE1C8(qword_30FAF0, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Confirmation);
    sub_298B20();
    sub_298B20();
    if ((void)v83 == v81 && *((void *)&v83 + 1) == v82) {
      char v51 = 1;
    }
    else {
      char v51 = sub_2995D0();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v52 = v74;
    uint64_t v53 = *(void (**)(char *, uint64_t))(v74 + 8);
    v53(v68, v43);
    uint64_t v54 = v65;
    (*(void (**)(char *, char *, uint64_t))(v52 + 16))(v65, v73, v43);
    if ((v51 & 1) == 0)
    {
      v50(v63, enum case for CommonAudio.Confirmation.no(_:), v43);
      sub_298B20();
      sub_298B20();
      if ((void)v83 != v81 || *((void *)&v83 + 1) != v82)
      {
        char v60 = sub_2995D0();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        v53(v63, v43);
        v53(v65, v43);
        if ((v60 & 1) == 0)
        {
          v53(v73, v43);
          goto LABEL_9;
        }
LABEL_22:
        uint64_t v55 = v62;
        uint64_t v56 = v67;
        v71(v62, v70, v67);
        uint64_t v57 = sub_2987E0();
        os_log_type_t v58 = sub_298DC0();
        if (os_log_type_enabled(v57, v58))
        {
          uint64_t v59 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v59 = 0;
          _os_log_impl(&dword_0, v57, v58, "TCCAcceptanceFlowStrategy#actionForInput cancelled", v59, 2u);
          swift_slowDealloc();
        }

        v38(v55, v56);
        sub_294580();
        v53(v73, v43);
        return sub_7184((uint64_t)v85);
      }
      swift_bridgeObjectRelease_n();
      v53(v63, v43);
      uint64_t v54 = v65;
    }
    v53(v54, v43);
    goto LABEL_22;
  }
  sub_23A44((uint64_t)&v83, &qword_30D628);
  uint64_t v45 = v64;
  v71(v64, v70, v19);
  uint64_t v46 = sub_2987E0();
  os_log_type_t v47 = sub_298DC0();
  if (os_log_type_enabled(v46, v47))
  {
    uint64_t v48 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v48 = 0;
    _os_log_impl(&dword_0, v46, v47, "TCCAcceptanceFlowStrategy#actionForInput received invalid NL intent", v48, 2u);
    swift_slowDealloc();
  }

  v38(v45, v19);
  return sub_2945A0();
}

uint64_t sub_D5C30(uint64_t a1, void (*a2)(uint64_t), uint64_t a3)
{
  uint64_t v118 = a3;
  unint64_t v119 = a2;
  uint64_t v117 = sub_71D4((uint64_t *)&unk_30FAD0);
  uint64_t v4 = __chkstk_darwin(v117);
  uint64_t v6 = (uint64_t *)&v96[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v4);
  uint64_t v114 = &v96[-v7];
  uint64_t v110 = sub_297BD0();
  uint64_t v109 = *(void *)(v110 - 8);
  uint64_t v8 = __chkstk_darwin(v110);
  uint64_t v107 = &v96[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v8);
  uint64_t v101 = &v96[-v10];
  uint64_t v113 = sub_294180();
  uint64_t v116 = *(void *)(v113 - 8);
  uint64_t v11 = __chkstk_darwin(v113);
  uint64_t v106 = &v96[-((v12 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v13 = __chkstk_darwin(v11);
  os_log_type_t v112 = &v96[-v14];
  uint64_t v15 = __chkstk_darwin(v13);
  id v102 = &v96[-v16];
  __chkstk_darwin(v15);
  uint64_t v103 = &v96[-v17];
  uint64_t v18 = sub_71D4(&qword_30D620);
  uint64_t v19 = __chkstk_darwin(v18 - 8);
  char v108 = &v96[-((v20 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v19);
  uint64_t v22 = &v96[-v21];
  uint64_t v105 = sub_71D4((uint64_t *)&unk_30FAE0);
  uint64_t v23 = __chkstk_darwin(v105);
  v111 = &v96[-((v24 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v23);
  uint64_t v104 = &v96[-v25];
  uint64_t v26 = sub_298800();
  uint64_t v27 = *(void *)(v26 - 8);
  uint64_t v28 = __chkstk_darwin(v26);
  unint64_t v30 = &v96[-((v29 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v28);
  v115 = &v96[-v31];
  uint64_t v32 = sub_295120();
  uint64_t v33 = *(void *)(v32 - 8);
  __chkstk_darwin(v32);
  uint64_t v35 = &v96[-((v34 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_295040();
  double v36 = sub_E2BDC((uint64_t)v35, (uint64_t *)&v122);
  (*(void (**)(unsigned char *, uint64_t, double))(v33 + 8))(v35, v32, v36);
  if (v123)
  {
    sub_11EBC(&v122, (uint64_t)v124);
    sub_74A4((void *)(v3 + 152), *(void *)(v3 + 176));
    sub_26A3C4();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v37 = sub_6E60(v26, (uint64_t)qword_31FC08);
    uint64_t v38 = v115;
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v27 + 16))(v115, v37, v26);
    sub_18D5C((uint64_t)v124, (uint64_t)&v122);
    uint64_t v39 = sub_2987E0();
    int v40 = sub_298DC0();
    BOOL v41 = os_log_type_enabled(v39, (os_log_type_t)v40);
    uint64_t v42 = v116;
    uint64_t v43 = v110;
    uint64_t v44 = v109;
    if (!v41)
    {
      sub_7184((uint64_t)&v122);

      (*(void (**)(unsigned char *, uint64_t))(v27 + 8))(v38, v26);
      uint64_t v58 = v113;
      goto LABEL_26;
    }
    int v99 = v40;
    os_log_t v100 = v39;
    uint64_t v45 = (uint8_t *)swift_slowAlloc();
    uint64_t v98 = swift_slowAlloc();
    uint64_t v121 = v98;
    uint64_t v46 = v45;
    *(_DWORD *)uint64_t v45 = 136315138;
    sub_74A4(&v122, v123);
    sub_297BC0();
    if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v44 + 48))(v22, 1, v43) == 1)
    {
      sub_23A44((uint64_t)v22, &qword_30D620);
      uint64_t v47 = sub_294C00();
      (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v47 - 8) + 56))(v104, 1, 1, v47);
      uint64_t v48 = v113;
      Swift::String v49 = v115;
LABEL_25:
      uint64_t v72 = sub_2989E0();
      uint64_t v120 = sub_6E98(v72, v73, &v121);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_7184((uint64_t)&v122);
      os_log_t v74 = v100;
      _os_log_impl(&dword_0, v100, (os_log_type_t)v99, "TCCAcceptanceFlowStrategy#parseTCCConfirmationResponse %s", v46, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(unsigned char *, uint64_t))(v27 + 8))(v49, v26);
      uint64_t v58 = v48;
      uint64_t v42 = v116;
LABEL_26:
      sub_74A4(v124, v124[3]);
      uint64_t v75 = (uint64_t)v108;
      sub_297BC0();
      int v76 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v44 + 48))(v75, 1, v43);
      uint64_t v78 = v111;
      uint64_t v77 = v112;
      if (v76 == 1)
      {
        sub_23A44(v75, &qword_30D620);
        uint64_t v79 = sub_294C00();
        (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v79 - 8) + 56))(v78, 1, 1, v79);
LABEL_43:
        uint64_t v92 = (uint64_t)v114;
        sub_295000();
        swift_storeEnumTagMultiPayload();
        v119(v92);
        sub_23A44(v92, (uint64_t *)&unk_30FAD0);
        return sub_7184((uint64_t)v124);
      }
      uint64_t v80 = v107;
      (*(void (**)(unsigned char *, uint64_t, uint64_t))(v44 + 16))(v107, v75, v43);
      int v81 = (*(uint64_t (**)(unsigned char *, uint64_t))(v44 + 88))(v80, v43);
      if (v81 == enum case for CommonAudio.Confirmation.yes(_:))
      {
        uint64_t v82 = enum case for SiriKitConfirmationState.confirmed(_:);
      }
      else
      {
        int v83 = v81;
        if (v81 == enum case for CommonAudio.Confirmation.no(_:))
        {
          uint64_t v84 = (unsigned int *)&enum case for SiriKitConfirmationState.rejected(_:);
        }
        else
        {
          if (v81 != enum case for CommonAudio.Confirmation.cancel(_:))
          {
            int v93 = enum case for CommonAudio.Confirmation.moreInfo(_:);
            (*(void (**)(unsigned char *, void, uint64_t))(v42 + 104))(v77, enum case for SiriKitConfirmationState.unset(_:), v58);
            if (v83 != v93) {
              (*(void (**)(unsigned char *, uint64_t))(v44 + 8))(v107, v43);
            }
LABEL_36:
            (*(void (**)(uint64_t, uint64_t))(v44 + 8))(v75, v43);
            uint64_t v85 = v106;
            (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v42 + 16))(v106, v77, v58);
            int v86 = (*(uint64_t (**)(unsigned char *, uint64_t))(v42 + 88))(v85, v58);
            if (v86 == enum case for SiriKitConfirmationState.confirmed(_:))
            {
              long long v87 = (unsigned int *)&enum case for ConfirmationResponse.confirmed(_:);
            }
            else
            {
              if (v86 != enum case for SiriKitConfirmationState.rejected(_:))
              {
                uint64_t v91 = sub_294C00();
                (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v91 - 8) + 56))(v78, 1, 1, v91);
                (*(void (**)(unsigned char *, uint64_t))(v42 + 8))(v85, v58);
                goto LABEL_42;
              }
              long long v87 = (unsigned int *)&enum case for ConfirmationResponse.rejected(_:);
            }
            uint64_t v88 = *v87;
            uint64_t v89 = sub_294C00();
            uint64_t v90 = *(void *)(v89 - 8);
            (*(void (**)(unsigned char *, uint64_t, uint64_t))(v90 + 104))(v78, v88, v89);
            (*(void (**)(unsigned char *, void, uint64_t, uint64_t))(v90 + 56))(v78, 0, 1, v89);
LABEL_42:
            (*(void (**)(unsigned char *, uint64_t))(v42 + 8))(v77, v58);
            goto LABEL_43;
          }
          uint64_t v84 = (unsigned int *)&enum case for SiriKitConfirmationState.cancelled(_:);
        }
        uint64_t v82 = *v84;
      }
      (*(void (**)(unsigned char *, uint64_t, uint64_t))(v42 + 104))(v77, v82, v58);
      goto LABEL_36;
    }
    uint64_t v59 = v101;
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v44 + 16))(v101, v22, v43);
    int v60 = (*(uint64_t (**)(unsigned char *, uint64_t))(v44 + 88))(v59, v43);
    uint64_t v61 = v113;
    if (v60 == enum case for CommonAudio.Confirmation.yes(_:))
    {
      uint64_t v62 = v103;
      (*(void (**)(unsigned char *, void, uint64_t))(v42 + 104))(v103, enum case for SiriKitConfirmationState.confirmed(_:), v113);
      uint64_t v63 = v102;
    }
    else
    {
      int v64 = v60;
      uint64_t v63 = v102;
      if (v60 == enum case for CommonAudio.Confirmation.no(_:))
      {
        uint64_t v65 = (unsigned int *)&enum case for SiriKitConfirmationState.rejected(_:);
      }
      else
      {
        if (v60 != enum case for CommonAudio.Confirmation.cancel(_:))
        {
          int v97 = enum case for CommonAudio.Confirmation.moreInfo(_:);
          uint64_t v94 = v103;
          (*(void (**)(unsigned char *, void, uint64_t))(v42 + 104))(v103, enum case for SiriKitConfirmationState.unset(_:), v113);
          BOOL v95 = v64 == v97;
          uint64_t v62 = v94;
          uint64_t v63 = v102;
          if (!v95) {
            (*(void (**)(unsigned char *, uint64_t))(v44 + 8))(v101, v43);
          }
          goto LABEL_20;
        }
        uint64_t v65 = (unsigned int *)&enum case for SiriKitConfirmationState.cancelled(_:);
      }
      uint64_t v62 = v103;
      (*(void (**)(unsigned char *, void, uint64_t))(v42 + 104))(v103, *v65, v113);
    }
LABEL_20:
    (*(void (**)(unsigned char *, uint64_t))(v44 + 8))(v22, v43);
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v42 + 16))(v63, v62, v61);
    int v66 = (*(uint64_t (**)(unsigned char *, uint64_t))(v42 + 88))(v63, v61);
    if (v66 == enum case for SiriKitConfirmationState.confirmed(_:)
      || v66 == enum case for SiriKitConfirmationState.rejected(_:))
    {
      uint64_t v67 = sub_294C00();
      uint64_t v68 = *(void *)(v67 - 8);
      uint64_t v69 = v104;
      (*(void (**)(void))(v68 + 104))();
      (*(void (**)(unsigned char *, void, uint64_t, uint64_t))(v68 + 56))(v69, 0, 1, v67);
    }
    else
    {
      uint64_t v70 = sub_294C00();
      (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v70 - 8) + 56))(v104, 1, 1, v70);
      (*(void (**)(unsigned char *, uint64_t))(v42 + 8))(v63, v61);
    }
    Swift::String v49 = v115;
    uint64_t v71 = *(void (**)(unsigned char *, uint64_t))(v42 + 8);
    uint64_t v48 = v61;
    v71(v103, v61);
    goto LABEL_25;
  }
  sub_23A44((uint64_t)&v122, &qword_30D628);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v50 = sub_6E60(v26, (uint64_t)qword_31FC08);
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v27 + 16))(v30, v50, v26);
  char v51 = sub_2987E0();
  os_log_type_t v52 = sub_298DC0();
  if (os_log_type_enabled(v51, v52))
  {
    uint64_t v53 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v53 = 0;
    _os_log_impl(&dword_0, v51, v52, "TCCAcceptanceFlowStrategy#parseTCCConfirmationResponse received invalid NL intent", v53, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(unsigned char *, uint64_t))(v27 + 8))(v30, v26);
  uint64_t v54 = sub_296000();
  sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
  uint64_t v55 = swift_allocError();
  (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v54 - 8) + 104))(v56, enum case for PlaybackCode.ceGE23(_:), v54);
  uint64_t *v6 = v55;
  swift_storeEnumTagMultiPayload();
  v119((uint64_t)v6);
  return sub_23A44((uint64_t)v6, (uint64_t *)&unk_30FAD0);
}

void (*sub_D6C74(uint64_t a1, uint64_t a2, uint64_t a3))(unsigned char *, void)
{
  uint64_t v7 = sub_2976E0();
  uint64_t v9 = v8;
  uint64_t v10 = sub_2965B0();
  if (!v9)
  {
    swift_bridgeObjectRelease();
    goto LABEL_9;
  }
  if (v7 == v10 && v9 == v11)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    goto LABEL_7;
  }
  char v12 = sub_2995D0();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if ((v12 & 1) == 0)
  {
LABEL_9:
    uint64_t v15 = (void *)swift_allocObject();
    long long v15[2] = a2;
    v15[3] = a3;
    v15[4] = v3;
    swift_retain();
    swift_retain();
    sub_26865C(a1, (uint64_t)sub_DE1BC, (uint64_t)v15);
    return (void (*)(unsigned char *, void))swift_release();
  }
LABEL_7:
  sub_74A4(v3 + 24, v3[27]);
  sub_2965B0();
  sub_296120();
  swift_bridgeObjectRelease();
  swift_beginAccess();
  sub_12AF8((uint64_t)(v3 + 9), v3[12]);
  uint64_t result = (void (*)(unsigned char *, void))sub_296C20();
  if (!__OFADD__(*v14, 1))
  {
    ++*v14;
    result(v16, 0);
    swift_endAccess();
    goto LABEL_9;
  }
  __break(1u);
  return result;
}

uint64_t sub_D6E3C(uint64_t a1, void (*a2)(uint64_t *), uint64_t a3, uint64_t a4)
{
  uint64_t v39 = a4;
  BOOL v41 = a2;
  uint64_t v42 = a3;
  uint64_t v5 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30D030);
  uint64_t v9 = __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v38 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v38 - v12;
  uint64_t v14 = sub_298800();
  uint64_t v40 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v16 = (char *)&v38 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v17);
  uint64_t v19 = (uint64_t *)((char *)&v38 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_11E58(a1, (uint64_t)v19, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v20 = *v19;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v21 = v14;
    uint64_t v22 = sub_6E60(v14, (uint64_t)qword_31FC08);
    uint64_t v23 = v40;
    (*(void (**)(char *, uint64_t, uint64_t))(v40 + 16))(v16, v22, v21);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v24 = sub_2987E0();
    os_log_type_t v25 = sub_298DB0();
    if (os_log_type_enabled(v24, v25))
    {
      uint64_t v26 = (uint8_t *)swift_slowAlloc();
      v44[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v26 = 136446210;
      uint64_t v39 = v21;
      swift_getErrorValue();
      uint64_t v27 = sub_299620();
      uint64_t v43 = sub_6E98(v27, v28, v44);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v24, v25, "TCCAcceptanceFlowStrategy#makeRejectedResponse error generating dialog: %{public}s", v26, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v23 + 8))(v16, v39);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v23 + 8))(v16, v21);
    }
    uint64_t v37 = v41;
    v44[0] = v20;
    char v45 = 1;
    swift_errorRetain();
    v37(v44);
    swift_errorRelease();
    return sub_23A44((uint64_t)v44, (uint64_t *)&unk_30FA80);
  }
  else
  {
    uint64_t v29 = *(int *)(v8 + 48);
    uint64_t v30 = sub_2949F0();
    uint64_t v31 = *(void *)(v30 - 8);
    (*(void (**)(char *, uint64_t *, uint64_t))(v31 + 32))(v13, v19, v30);
    uint64_t v32 = *(void **)((char *)v19 + v29);
    *(void *)&v13[v29] = v32;
    sub_74A4((void *)(v39 + 112), *(void *)(v39 + 136));
    uint64_t v33 = *(int *)(v8 + 48);
    (*(void (**)(char *, char *, uint64_t))(v31 + 16))(v11, v13, v30);
    *(void *)&v11[v33] = v32;
    uint64_t v34 = sub_2948C0();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(v7, 1, 1, v34);
    id v35 = v32;
    sub_1CBD04((uint64_t)v11, v35, (uint64_t)v7, (uint64_t)_swiftEmptyArrayStorage, v41, v42);

    sub_23A44((uint64_t)v7, (uint64_t *)&unk_30FA70);
    sub_23A44((uint64_t)v13, &qword_30D030);
    return (*(uint64_t (**)(char *, uint64_t))(v31 + 8))(v11, v30);
  }
}

uint64_t sub_D73A8(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = v4;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v21 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v22 = a1;
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "TCCAcceptanceFlowStrategy#makeHandoffResponseForAuthenticationResponse", v17, 2u);
    a1 = v22;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = (void *)swift_allocObject();
  v18[2] = a3;
  v18[3] = a4;
  v18[4] = a2;
  v18[5] = a1;
  v18[6] = v5;
  swift_retain();
  id v19 = a2;
  swift_retain();
  swift_retain();
  sub_DB0EC(a1, (uint64_t)sub_DE16C, (uint64_t)v18);
  return swift_release();
}

uint64_t sub_D75F0(uint64_t a1, void (*a2)(uint64_t), uint64_t a3, void *a4, uint64_t a5, uint64_t *a6)
{
  uint64_t v115 = a5;
  uint64_t v124 = a3;
  uint64_t v121 = a2;
  uint64_t v120 = *a6;
  uint64_t v123 = sub_71D4(&qword_30FAC8);
  __chkstk_darwin(v123);
  v125 = (uint64_t *)((char *)&v103 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v112 = sub_2947B0();
  uint64_t v111 = *(void *)(v112 - 8);
  __chkstk_darwin(v112);
  uint64_t v116 = (char *)&v103 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v110 = sub_293720();
  uint64_t v109 = *(void *)(v110 - 8);
  __chkstk_darwin(v110);
  char v108 = (char *)&v103 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v103 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v119 = sub_2951C0();
  uint64_t v118 = *(void *)(v119 - 8);
  __chkstk_darwin(v119);
  uint64_t v117 = (char *)&v103 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298800();
  uint64_t v122 = *(void *)(v16 - 8);
  uint64_t v17 = __chkstk_darwin(v16);
  id v19 = (char *)&v103 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v17);
  uint64_t v113 = (char *)&v103 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v107 = (char *)&v103 - v23;
  __chkstk_darwin(v22);
  os_log_type_t v25 = (char *)&v103 - v24;
  uint64_t v26 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v26 - 8);
  unint64_t v28 = (char *)&v103 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v29 = sub_2949F0();
  __chkstk_darwin(v29);
  uint64_t v31 = (char *)&v103 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = a1;
  uint64_t v34 = v33;
  uint64_t v36 = v35;
  sub_11E58(v32, (uint64_t)v28, (uint64_t *)&unk_30FA50);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v36 + 48))(v28, 1, v34) == 1)
  {
    sub_23A44((uint64_t)v28, (uint64_t *)&unk_30FA50);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v37 = v16;
    uint64_t v38 = sub_6E60(v16, (uint64_t)qword_31FC08);
    uint64_t v39 = v122;
    (*(void (**)(char *, uint64_t, uint64_t))(v122 + 16))(v25, v38, v37);
    uint64_t v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    BOOL v42 = os_log_type_enabled(v40, v41);
    uint64_t v43 = v121;
    if (v42)
    {
      uint64_t v44 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v44 = 0;
      _os_log_impl(&dword_0, v40, v41, "TCCAcceptanceFlowStrategy#makeHandoffResponseForAuthenticationResponse unable to generate templating result", v44, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v39 + 8))(v25, v37);
    uint64_t v45 = sub_296000();
    sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v46 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v45 - 8) + 104))(v47, enum case for PlaybackCode.ceGE24(_:), v45);
    uint64_t v48 = (uint64_t)v125;
    uint64_t *v125 = v46;
    swift_storeEnumTagMultiPayload();
    v43(v48);
    return sub_23A44(v48, &qword_30FAC8);
  }
  uint64_t v106 = v36;
  uint64_t v50 = *(void (**)(char *, char *, uint64_t))(v36 + 32);
  uint64_t v114 = v31;
  uint64_t v105 = v34;
  v50(v31, v28, v34);
  v127[0] = (uint64_t)a4;
  id v51 = a4;
  sub_71D4((uint64_t *)&unk_30FA90);
  if (swift_dynamicCast())
  {
    sub_11EBC(&v129, (uint64_t)v128);
    sub_74A4(v128, v128[3]);
    uint64_t v52 = sub_2968D0();
    uint64_t v53 = v16;
    unint64_t v104 = v54;
    if (v54)
    {
      uint64_t v103 = v52;
      sub_295D60();
      uint64_t v55 = sub_2948C0();
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v55 - 8) + 56))(v14, 1, 1, v55);
      long long v129 = 0u;
      memset(v130, 0, 24);
      uint64_t v56 = v117;
      sub_294670();
      sub_23A44((uint64_t)&v129, &qword_30D5D8);
      sub_23A44((uint64_t)v14, (uint64_t *)&unk_30FA70);
      *(void *)&long long v129 = sub_2976E0();
      *((void *)&v129 + 1) = v57;
      *(void *)v130 = v51;
      memset(&v130[8], 0, 32);
      char v131 = 0;
      id v58 = v51;
      id v59 = sub_237400();

      swift_bridgeObjectRelease();
      if (v59)
      {
        sub_74A4(a6 + 3, a6[6]);
        type metadata accessor for TCCAcceptanceFlowStrategy();
        uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
        id v61 = [self bundleForClass:ObjCClassFromMetadata];
        uint64_t v62 = v108;
        sub_295D20();
        sub_296D60();

        (*(void (**)(char *, uint64_t))(v109 + 8))(v62, v110);
        uint64_t v63 = v119;
        v127[3] = v119;
        v127[4] = (uint64_t)&protocol witness table for AceOutput;
        int v64 = sub_12B48(v127);
        (*(void (**)(uint64_t *, char *, uint64_t))(v118 + 16))(v64, v56, v63);
        id v65 = v59;
        sub_2947A0();
        uint64_t v66 = v122;
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v67 = sub_6E60(v53, (uint64_t)qword_31FC08);
        uint64_t v68 = v113;
        (*(void (**)(char *, uint64_t, uint64_t))(v66 + 16))(v113, v67, v53);
        swift_bridgeObjectRetain_n();
        uint64_t v69 = sub_2987E0();
        os_log_type_t v70 = sub_298DC0();
        if (os_log_type_enabled(v69, v70))
        {
          uint64_t v71 = (uint8_t *)swift_slowAlloc();
          v127[0] = swift_slowAlloc();
          *(_DWORD *)uint64_t v71 = 136315138;
          swift_bridgeObjectRetain();
          uint64_t v126 = sub_6E98(v103, v104, v127);
          uint64_t v56 = v117;
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v69, v70, "TCCAcceptanceFlowStrategy#makeHandoffResponseForAuthenticationResponse Sending handoff notification to assistant id: %s", v71, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*(void (**)(char *, uint64_t))(v66 + 8))(v113, v53);
        }
        else
        {

          swift_bridgeObjectRelease_n();
          (*(void (**)(char *, uint64_t))(v66 + 8))(v68, v53);
        }
        uint64_t v72 = v105;
        int v99 = v116;
        sub_294790();
        uint64_t v100 = v111;
        uint64_t v101 = (uint64_t)v125;
        uint64_t v102 = v112;
        (*(void (**)(uint64_t *, char *, uint64_t))(v111 + 16))(v125, v99, v112);
        swift_storeEnumTagMultiPayload();
        v121(v101);

        sub_23A44(v101, &qword_30FAC8);
        (*(void (**)(char *, uint64_t))(v100 + 8))(v99, v102);
        (*(void (**)(char *, uint64_t))(v118 + 8))(v56, v119);
        (*(void (**)(char *, uint64_t))(v106 + 8))(v114, v72);
      }
      else
      {
        swift_bridgeObjectRelease();
        uint64_t v85 = v122;
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v86 = sub_6E60(v53, (uint64_t)qword_31FC08);
        long long v87 = v107;
        (*(void (**)(char *, uint64_t, uint64_t))(v85 + 16))(v107, v86, v53);
        uint64_t v88 = sub_2987E0();
        os_log_type_t v89 = sub_298DB0();
        BOOL v90 = os_log_type_enabled(v88, v89);
        uint64_t v91 = v105;
        uint64_t v92 = v114;
        int v93 = v121;
        if (v90)
        {
          uint64_t v94 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v94 = 0;
          _os_log_impl(&dword_0, v88, v89, "TCCAcceptanceFlowStrategy#makeHandoffResponseForAuthenticationResponse Unable to create RSKE command", v94, 2u);
          swift_slowDealloc();
        }

        (*(void (**)(char *, uint64_t))(v85 + 8))(v87, v53);
        uint64_t v95 = sub_296000();
        sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
        uint64_t v96 = swift_allocError();
        (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v95 - 8) + 104))(v97, enum case for PlaybackCode.ceGE26(_:), v95);
        uint64_t v98 = (uint64_t)v125;
        uint64_t *v125 = v96;
        swift_storeEnumTagMultiPayload();
        v93(v98);
        sub_23A44(v98, &qword_30FAC8);
        (*(void (**)(char *, uint64_t))(v118 + 8))(v56, v119);
        (*(void (**)(char *, uint64_t))(v106 + 8))(v92, v91);
      }
      return sub_7184((uint64_t)v128);
    }
    sub_7184((uint64_t)v128);
    uint64_t v74 = v105;
    unint64_t v73 = v121;
  }
  else
  {
    long long v129 = 0u;
    memset(v130, 0, 24);
    sub_23A44((uint64_t)&v129, &qword_30E8A8);
    unint64_t v73 = v121;
    uint64_t v74 = v105;
    uint64_t v53 = v16;
  }
  uint64_t v75 = v106;
  uint64_t v76 = v122;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v77 = sub_6E60(v53, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v76 + 16))(v19, v77, v53);
  uint64_t v78 = sub_2987E0();
  os_log_type_t v79 = sub_298DC0();
  if (os_log_type_enabled(v78, v79))
  {
    uint64_t v80 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v80 = 0;
    _os_log_impl(&dword_0, v78, v79, "TCCAcceptanceFlowStrategy#makeHandoffResponseForAuthenticationResponse Could not get companion assistant id for handoff notification", v80, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v76 + 8))(v19, v53);
  uint64_t v81 = sub_296000();
  sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
  uint64_t v82 = swift_allocError();
  (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v81 - 8) + 104))(v83, enum case for PlaybackCode.ceGE25(_:), v81);
  uint64_t v84 = (uint64_t)v125;
  uint64_t *v125 = v82;
  swift_storeEnumTagMultiPayload();
  v73(v84);
  sub_23A44(v84, &qword_30FAC8);
  return (*(uint64_t (**)(char *, uint64_t))(v75 + 8))(v114, v74);
}

void sub_D86E8(uint64_t a1, void *a2, void (*a3)(void *), uint64_t a4)
{
  uint64_t v49 = a4;
  uint64_t v50 = a3;
  uint64_t v47 = a1;
  uint64_t v53 = sub_293720();
  uint64_t v52 = *(void *)(v53 - 8);
  __chkstk_darwin(v53);
  id v51 = (char *)&v45 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_298800();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v10 = (char *)&v45 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v45 - v11;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v6, (uint64_t)qword_31FC08);
  uint64_t v48 = *(void (**)(char *, uint64_t, uint64_t))(v7 + 16);
  v48(v12, v13, v6);
  uint64_t v14 = sub_2987E0();
  os_log_type_t v15 = sub_298DC0();
  if (os_log_type_enabled(v14, v15))
  {
    uint64_t v16 = (uint8_t *)swift_slowAlloc();
    uint64_t v46 = v6;
    *(_WORD *)uint64_t v16 = 0;
    _os_log_impl(&dword_0, v14, v15, "TCCAcceptanceFlowStrategy#makePromptForTCCAcceptance", v16, 2u);
    uint64_t v6 = v46;
    swift_slowDealloc();
  }

  uint64_t v17 = *(void (**)(char *, uint64_t))(v7 + 8);
  v17(v12, v6);
  v55[0] = a2;
  id v18 = a2;
  sub_71D4((uint64_t *)&unk_30FA90);
  if (swift_dynamicCast())
  {
    sub_11EBC((long long *)v57, (uint64_t)&v59);
    sub_74A4(&v59, *((uint64_t *)&v60 + 1));
    if (sub_296880())
    {
      v48(v10, v13, v6);
      id v19 = sub_2987E0();
      os_log_type_t v20 = sub_298DC0();
      if (os_log_type_enabled(v19, v20))
      {
        uint64_t v21 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v21 = 0;
        _os_log_impl(&dword_0, v19, v20, "TCCAcceptanceFlowStrategy#makePromptForTCCAcceptance Adding TCC acceptance required for SiriForAirPlay request", v21, 2u);
        swift_slowDealloc();
      }

      v17(v10, v6);
      sub_74A4(&v59, *((uint64_t *)&v60 + 1));
      sub_296870();
    }
    sub_7184((uint64_t)&v59);
  }
  else
  {
    memset(v57, 0, 40);
    sub_23A44((uint64_t)v57, &qword_30E8A8);
  }
  uint64_t v22 = v54;
  sub_74A4((void *)(v54 + 24), *(void *)(v54 + 48));
  type metadata accessor for PlayMediaAlternativesViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  uint64_t v24 = self;
  id v25 = [v24 bundleForClass:ObjCClassFromMetadata];
  uint64_t v26 = v51;
  sub_295D20();
  uint64_t v46 = sub_296D60();
  uint64_t v48 = v27;

  unint64_t v28 = *(void (**)(char *, uint64_t))(v52 + 8);
  uint64_t v29 = v53;
  v28(v26, v53);
  sub_74A4((void *)(v22 + 24), *(void *)(v22 + 48));
  id v30 = [v24 bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v31 = sub_296D60();
  uint64_t v33 = v32;

  v28(v26, v29);
  uint64_t v62 = 0;
  long long v60 = 0u;
  long long v61 = 0u;
  long long v59 = 0u;
  char v63 = 2;
  id v34 = sub_237E5C();
  if (!v34) {
    goto LABEL_17;
  }
  uint64_t v35 = v34;
  *(void *)uint64_t v57 = 1;
  memset(&v57[8], 0, 48);
  char v58 = 2;
  id v36 = sub_237E5C();
  if (!v36)
  {

LABEL_17:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_DD768();
    v55[0] = swift_allocError();
    char v56 = 1;
    v50(v55);
    sub_23A44((uint64_t)v55, (uint64_t *)&unk_30FA80);
    return;
  }
  uint64_t v37 = v36;
  uint64_t v38 = v54;
  swift_beginAccess();
  uint64_t v39 = *(void *)(v38 + 96);
  uint64_t v40 = sub_74A4((void *)(v38 + 72), v39);
  uint64_t v41 = *(void *)(v39 - 8);
  __chkstk_darwin(v40);
  uint64_t v43 = (char *)&v45 - ((v42 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v41 + 16))(v43);
  char v44 = sub_296C00();
  (*(void (**)(char *, uint64_t))(v41 + 8))(v43, v39);
  if (v44)
  {
    sub_DD7BC(v47, v46, (uint64_t)v48, v31, v33, (void (*)(void))v50, v49);
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
  }
  else
  {
    sub_D8F30(v47, v46, (uint64_t)v48, v35, v31, v33, v37, (uint64_t)v50, v49);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
}

uint64_t sub_D8F30(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, void *a7, uint64_t a8, uint64_t a9)
{
  v45[1] = a5;
  uint64_t v53 = a1;
  uint64_t v55 = a9;
  uint64_t v56 = a8;
  uint64_t v51 = *v9;
  uint64_t v54 = sub_2948C0();
  uint64_t v52 = *(void *)(v54 - 8);
  uint64_t v50 = *(void *)(v52 + 64);
  uint64_t v12 = __chkstk_darwin(v54);
  uint64_t v49 = (char *)v45 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v48 = (char *)v45 - v14;
  sub_71D4(&qword_3107B0);
  uint64_t v15 = swift_allocObject();
  long long v57 = xmmword_29A8D0;
  *(_OWORD *)(v15 + 16) = xmmword_29A8D0;
  *(void *)(v15 + 32) = a4;
  uint64_t v58 = v15;
  sub_298B70();
  sub_2989C0();
  id v16 = a4;
  id v47 = (id)sub_294510();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = v57;
  *(void *)(v17 + 32) = a7;
  uint64_t v58 = v17;
  sub_298B70();
  sub_2989C0();
  id v18 = a7;
  uint64_t v46 = sub_294510();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  id v19 = [objc_allocWithZone((Class)SAUIConfirmationView) init];
  NSString v20 = sub_2989B0();
  [v19 setConfirmText:v20];

  uint64_t v21 = swift_allocObject();
  *(_OWORD *)(v21 + 16) = v57;
  *(void *)(v21 + 32) = v16;
  uint64_t v58 = v21;
  sub_298B70();
  id v22 = v16;
  sub_71D4(&qword_30FA60);
  Class isa = sub_298B40().super.isa;
  swift_bridgeObjectRelease();
  [v19 setConfirmCommands:isa];

  NSString v24 = sub_2989B0();
  [v19 setDenyText:v24];

  uint64_t v25 = swift_allocObject();
  *(_OWORD *)(v25 + 16) = v57;
  *(void *)(v25 + 32) = v18;
  uint64_t v58 = v25;
  sub_298B70();
  id v26 = v18;
  Class v27 = sub_298B40().super.isa;
  swift_bridgeObjectRelease();
  v45[0] = v19;
  [v19 setDenyCommands:v27];

  uint64_t v28 = swift_allocObject();
  *(_OWORD *)(v28 + 16) = xmmword_29C590;
  id v30 = (void *)v46;
  id v29 = v47;
  *(void *)(v28 + 32) = v47;
  *(void *)(v28 + 40) = v30;
  uint64_t v58 = v28;
  sub_298B70();
  sub_DD5C8();
  *(void *)&long long v57 = v29;
  id v47 = v30;
  Class v31 = sub_298B40().super.isa;
  swift_bridgeObjectRelease();
  [v19 setAllConfirmationOptions:v31];

  uint64_t v32 = *(void *)(v51 + 80);
  uint64_t v33 = *(void *)(v51 + 88);
  id v34 = v48;
  uint64_t v35 = v53;
  sub_C286C();
  uint64_t v36 = v52;
  uint64_t v37 = v49;
  uint64_t v38 = v54;
  (*(void (**)(char *, char *, uint64_t))(v52 + 16))(v49, v34, v54);
  unint64_t v39 = (*(unsigned __int8 *)(v36 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v36 + 80);
  uint64_t v40 = (char *)swift_allocObject();
  *((void *)v40 + 2) = v32;
  *((void *)v40 + 3) = v33;
  uint64_t v41 = v55;
  *((void *)v40 + 4) = v56;
  *((void *)v40 + 5) = v41;
  uint64_t v42 = (void *)v45[0];
  *((void *)v40 + 6) = v45[0];
  (*(void (**)(char *, char *, uint64_t))(v36 + 32))(&v40[v39], v37, v38);
  swift_retain();
  id v43 = v42;
  sub_DB6C8(v35, (uint64_t)sub_DD6DC, (uint64_t)v40);

  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v36 + 8))(v34, v38);
}

uint64_t sub_D9458(uint64_t a1, void (*a2)(long long *), uint64_t a3, void *a4, uint64_t a5)
{
  id v67 = a4;
  uint64_t v68 = a5;
  uint64_t v76 = a3;
  uint64_t v77 = a2;
  uint64_t v6 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v6 - 8);
  uint64_t v69 = (char *)&v63 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_2951C0();
  uint64_t v71 = *(void *)(v8 - 8);
  uint64_t v72 = v8;
  __chkstk_darwin(v8);
  os_log_type_t v70 = (char *)&v63 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v74 = *(void *)(v10 - 8);
  uint64_t v75 = v10;
  uint64_t v11 = __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v63 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  unint64_t v73 = (char *)&v63 - v14;
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA20);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v63 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_2949F0();
  uint64_t v19 = *(void *)(v18 - 8);
  uint64_t v20 = __chkstk_darwin(v18);
  id v22 = (char *)&v63 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  NSString v24 = (char *)&v63 - v23;
  uint64_t v25 = (int *)type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  sub_11E58(a1 + v25[9], (uint64_t)v17, (uint64_t *)&unk_30FA20);
  uint64_t v26 = sub_71D4(&qword_30D030);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(*(void *)(v26 - 8) + 48))(v17, 1, v26) == 1)
  {
    sub_23A44((uint64_t)v17, (uint64_t *)&unk_30FA20);
LABEL_10:
    uint64_t v28 = v74;
LABEL_11:
    uint64_t v43 = v75;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v44 = sub_6E60(v43, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v13, v44, v43);
    uint64_t v45 = sub_2987E0();
    os_log_type_t v46 = sub_298DB0();
    if (os_log_type_enabled(v45, v46))
    {
      id v47 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v47 = 0;
      _os_log_impl(&dword_0, v45, v46, "TCCAcceptanceFlowStrategy#createConfirmationViewOutput error generating dialog", v47, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v28 + 8))(v13, v43);
    uint64_t v48 = sub_296000();
    sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v49 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v48 - 8) + 104))(v50, enum case for PlaybackCode.ceGE91(_:), v48);
    *(void *)&long long v79 = v49;
    char v82 = 1;
    v77(&v79);
    return sub_23A44((uint64_t)&v79, (uint64_t *)&unk_30FA80);
  }

  Class v27 = *(void (**)(char *, char *, uint64_t))(v19 + 32);
  v27(v22, v17, v18);
  v27(v24, v22, v18);
  if (!*(void *)(a1 + v25[10] + 8))
  {
    (*(void (**)(char *, uint64_t))(v19 + 8))(v24, v18);
    goto LABEL_10;
  }
  uint64_t v66 = v19;
  uint64_t v28 = v74;
  if (!*(void *)(a1 + v25[11] + 8))
  {
    (*(void (**)(char *, uint64_t))(v66 + 8))(v24, v18);
    goto LABEL_11;
  }
  NSString v29 = sub_2989B0();
  id v30 = v67;
  [v67 setTitle:v29];

  NSString v31 = sub_2989B0();
  [v30 setSubtitle:v31];

  if (qword_30C848 != -1) {
    swift_once();
  }
  int v64 = v24;
  uint64_t v65 = v18;
  uint64_t v32 = v75;
  uint64_t v33 = sub_6E60(v75, (uint64_t)qword_31FC08);
  id v34 = v73;
  (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v73, v33, v32);
  id v35 = v30;
  uint64_t v36 = sub_2987E0();
  os_log_type_t v37 = sub_298DC0();
  if (os_log_type_enabled(v36, v37))
  {
    uint64_t v38 = (uint8_t *)swift_slowAlloc();
    id v67 = (id)swift_slowAlloc();
    *(void *)&long long v79 = v67;
    *(_DWORD *)uint64_t v38 = 136315138;
    id v39 = objc_msgSend(v35, "debugDescription", v38 + 4);
    uint64_t v40 = sub_2989C0();
    unint64_t v42 = v41;

    uint64_t v78 = sub_6E98(v40, v42, (uint64_t *)&v79);
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v36, v37, "TCCAcceptanceFlowStrategy#createConfirmationViewOutput Created view: %s", v38, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v28 + 8))(v73, v32);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v28 + 8))(v34, v32);
  }
  uint64_t v52 = v66;
  sub_295D60();
  sub_71D4(&qword_3107B0);
  uint64_t v53 = swift_allocObject();
  *(_OWORD *)(v53 + 16) = xmmword_29A8D0;
  *(void *)(v53 + 32) = v35;
  *(void *)&long long v79 = v53;
  sub_298B70();
  uint64_t v54 = sub_2948C0();
  uint64_t v55 = *(void *)(v54 - 8);
  uint64_t v56 = (uint64_t)v69;
  (*(void (**)(char *, uint64_t, uint64_t))(v55 + 16))(v69, v68, v54);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v55 + 56))(v56, 0, 1, v54);
  uint64_t v81 = 0;
  long long v79 = 0u;
  long long v80 = 0u;
  id v57 = v35;
  uint64_t v58 = v70;
  long long v59 = v64;
  sub_294690();
  swift_bridgeObjectRelease();
  sub_23A44((uint64_t)&v79, &qword_30D5D8);
  sub_23A44(v56, (uint64_t *)&unk_30FA70);
  uint64_t v60 = v72;
  *((void *)&v80 + 1) = v72;
  uint64_t v81 = &protocol witness table for AceOutput;
  long long v61 = sub_12B48((uint64_t *)&v79);
  uint64_t v62 = v71;
  (*(void (**)(uint64_t *, char *, uint64_t))(v71 + 16))(v61, v58, v60);
  char v82 = 0;
  v77(&v79);
  (*(void (**)(char *, uint64_t))(v62 + 8))(v58, v60);
  (*(void (**)(char *, uint64_t))(v52 + 8))(v59, v65);
  return sub_23A44((uint64_t)&v79, (uint64_t *)&unk_30FA80);
}

uint64_t sub_D9DC4(uint64_t a1, void (*a2)(uint64_t *), uint64_t a3, void (*a4)(char *, uint64_t), void (*a5)(char *, char *, uint64_t), uint64_t a6, char *a7, void (*a8)(char *, uint64_t), void *a9, char *a10)
{
  uint64_t v100 = a8;
  uint64_t v106 = a7;
  uint64_t v103 = a6;
  uint64_t v102 = a5;
  uint64_t v101 = a4;
  uint64_t v113 = a2;
  uint64_t v114 = a3;
  uint64_t v11 = sub_2948C0();
  uint64_t v108 = *(void *)(v11 - 8);
  uint64_t v109 = v11;
  __chkstk_darwin(v11);
  uint64_t v105 = v12;
  uint64_t v107 = (char *)&v92 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v99 = sub_295AF0();
  uint64_t v98 = *(void *)(v99 - 8);
  __chkstk_darwin(v99);
  uint64_t v97 = (char *)&v92 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_297A40();
  uint64_t v111 = *(void *)(v14 - 8);
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v115 = (char *)&v92 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v92 - v18;
  uint64_t v104 = v20;
  __chkstk_darwin(v17);
  id v22 = (char *)&v92 - v21;
  uint64_t v23 = sub_298800();
  uint64_t v24 = *(void *)(v23 - 8);
  uint64_t v116 = v23;
  uint64_t v117 = v24;
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v110 = (char *)&v92 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = __chkstk_darwin(v25);
  NSString v29 = (char *)&v92 - v28;
  __chkstk_darwin(v27);
  NSString v31 = (char *)&v92 - v30;
  uint64_t v32 = sub_71D4((uint64_t *)&unk_30FA20);
  __chkstk_darwin(v32 - 8);
  id v34 = (char *)&v92 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t v36 = *(int *)(v35 + 36);
  uint64_t v112 = a1;
  sub_11E58(a1 + v36, (uint64_t)v34, (uint64_t *)&unk_30FA20);
  uint64_t v37 = sub_71D4(&qword_30D030);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(*(void *)(v37 - 8) + 48))(v34, 1, v37) == 1)
  {
    sub_23A44((uint64_t)v34, (uint64_t *)&unk_30FA20);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v38 = v116;
    uint64_t v39 = sub_6E60(v116, (uint64_t)qword_31FC08);
    uint64_t v40 = v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v117 + 16))(v31, v39, v38);
    unint64_t v41 = sub_2987E0();
    os_log_type_t v42 = sub_298DB0();
    if (os_log_type_enabled(v41, v42))
    {
      uint64_t v43 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v43 = 0;
      _os_log_impl(&dword_0, v41, v42, "TCCAcceptanceFlowStrategy#createConfirmationViewOutputWithRF error generating dialog", v43, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v40 + 8))(v31, v38);
    uint64_t v44 = *(int *)(v35 + 48);
    if (*(void *)(v112 + v44))
    {
      uint64_t v45 = *(void *)(v112 + v44);
    }
    else
    {
      uint64_t v90 = sub_296000();
      sub_DE1C8((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v45 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v90 - 8) + 104))(v91, enum case for PlaybackCode.ceGE92(_:), v90);
    }
    v119[0] = v45;
    char v120 = 1;
    swift_errorRetain();
    v113(v119);
    return sub_23A44((uint64_t)v119, (uint64_t *)&unk_30FA80);
  }
  else
  {
    uint64_t v112 = v14;
    uint64_t v96 = *(void **)&v34[*(int *)(v37 + 48)];
    uint64_t v46 = sub_2949F0();
    (*(void (**)(char *, uint64_t))(*(void *)(v46 - 8) + 8))(v34, v46);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    id v47 = a9;
    uint64_t v48 = v100;
    sub_297A30();
    uint64_t v49 = v22;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v50 = v116;
    uint64_t v51 = sub_6E60(v116, (uint64_t)qword_31FC08);
    uint64_t v52 = *(void (**)(char *, uint64_t, uint64_t))(v117 + 16);
    uint64_t v95 = v51;
    uint64_t v100 = (void (*)(char *, uint64_t))(v117 + 16);
    uint64_t v94 = v52;
    ((void (*)(char *))v52)(v29);
    uint64_t v53 = v111;
    uint64_t v55 = v111 + 16;
    uint64_t v54 = *(void (**)(char *, char *, uint64_t))(v111 + 16);
    uint64_t v106 = v49;
    uint64_t v56 = v49;
    uint64_t v57 = v112;
    v54(v19, v56, v112);
    uint64_t v58 = sub_2987E0();
    os_log_type_t v59 = sub_298DC0();
    BOOL v60 = os_log_type_enabled(v58, v59);
    int v93 = v29;
    uint64_t v103 = v55;
    uint64_t v102 = v54;
    if (v60)
    {
      long long v61 = (uint8_t *)swift_slowAlloc();
      v119[0] = swift_slowAlloc();
      *(_DWORD *)long long v61 = 136315138;
      v54(v115, v19, v112);
      uint64_t v62 = sub_2989E0();
      uint64_t v118 = sub_6E98(v62, v63, v119);
      uint64_t v50 = v116;
      uint64_t v64 = v111;
      sub_2992C0();
      uint64_t v57 = v112;
      swift_bridgeObjectRelease();
      uint64_t v101 = *(void (**)(char *, uint64_t))(v64 + 8);
      v101(v19, v57);
      _os_log_impl(&dword_0, v58, v59, "TCCAcceptanceFlowStrategy#createConfirmationViewOutputWithRF Created RF 2.0 Snippet: %s", v61, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      uint64_t v53 = v64;
      swift_slowDealloc();
    }
    else
    {
      uint64_t v101 = *(void (**)(char *, uint64_t))(v53 + 8);
      v101(v19, v57);
    }

    uint64_t v65 = *(void (**)(char *, uint64_t))(v117 + 8);
    v65(v93, v50);
    uint64_t v66 = v110;
    int v93 = a10;
    uint64_t v67 = sub_295C60();
    if (!v67)
    {
      sub_295A10();
      uint64_t v67 = sub_295A00();
    }
    uint64_t v68 = v67;
    v94(v66, v95, v50);
    swift_retain_n();
    uint64_t v69 = sub_2987E0();
    os_log_type_t v70 = sub_298D90();
    BOOL v71 = os_log_type_enabled(v69, v70);
    uint64_t v92 = v68;
    if (v71)
    {
      uint64_t v72 = (uint8_t *)swift_slowAlloc();
      uint64_t v73 = swift_slowAlloc();
      uint64_t v100 = v65;
      v119[0] = v73;
      *(_DWORD *)uint64_t v72 = 136315138;
      sub_2959C0();
      uint64_t v74 = v97;
      sub_297B00();
      swift_release();
      uint64_t v75 = sub_295A90();
      unint64_t v77 = v76;
      (*(void (**)(char *, uint64_t))(v98 + 8))(v74, v99);
      uint64_t v118 = sub_6E98(v75, v77, v119);
      uint64_t v57 = v112;
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v69, v70, "TCCAcceptanceFlowStrategy#createConfirmationViewOutputWithRF with responseMode = %s", v72, 0xCu);
      swift_arrayDestroy();
      uint64_t v53 = v111;
      swift_slowDealloc();
      swift_slowDealloc();

      v100(v110, v116);
    }
    else
    {

      swift_release_n();
      v65(v66, v50);
    }
    long long v79 = v107;
    uint64_t v78 = v108;
    uint64_t v80 = v109;
    (*(void (**)(char *, char *, uint64_t))(v108 + 16))(v107, v93, v109);
    v102(v115, v106, v57);
    unint64_t v81 = (*(unsigned __int8 *)(v78 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v78 + 80);
    unint64_t v82 = (v105 + v81 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v83 = (v82 + 15) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v84 = (*(unsigned __int8 *)(v53 + 80) + v83 + 8) & ~(unint64_t)*(unsigned __int8 *)(v53 + 80);
    uint64_t v85 = v57;
    uint64_t v86 = swift_allocObject();
    (*(void (**)(unint64_t, char *, uint64_t))(v78 + 32))(v86 + v81, v79, v80);
    *(void *)(v86 + v82) = v92;
    long long v87 = v96;
    *(void *)(v86 + v83) = v96;
    (*(void (**)(unint64_t, char *, uint64_t))(v53 + 32))(v86 + v84, v115, v85);
    swift_retain();
    id v88 = v87;
    sub_71D4((uint64_t *)&unk_313830);
    sub_298C30();
    swift_release();

    swift_release();
    return ((uint64_t (*)(char *, uint64_t))v101)(v106, v85);
  }
}

uint64_t sub_DA9F4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v5[10] = a4;
  v5[11] = a5;
  v5[8] = a2;
  v5[9] = a3;
  v5[7] = a1;
  sub_294420();
  v5[12] = swift_task_alloc();
  uint64_t v6 = sub_294ED0();
  v5[13] = v6;
  v5[14] = *(void *)(v6 - 8);
  v5[15] = swift_task_alloc();
  return _swift_task_switch(sub_DAAE8, 0, 0);
}

uint64_t sub_DAAE8()
{
  uint64_t v1 = *(void *)(v0 + 88);
  uint64_t v2 = *(void **)(v0 + 80);
  long long v13 = *(_OWORD *)(v0 + 64);
  sub_2943D0();
  uint64_t v3 = swift_task_alloc();
  *(_OWORD *)(v3 + 16) = v13;
  *(void *)(v3 + 32) = v2;
  sub_294E00();
  swift_task_dealloc();
  sub_294940();
  swift_allocObject();
  *(void *)(v0 + 128) = sub_294930();
  uint64_t v4 = sub_297970();
  *(void *)(v0 + 40) = v4;
  *(void *)(v0 + 48) = sub_DE1C8((unint64_t *)&qword_30FAC0, (void (*)(uint64_t))&type metadata accessor for SiriAudioSnippets);
  uint64_t v5 = sub_12B48((uint64_t *)(v0 + 16));
  uint64_t v6 = sub_297A40();
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v6 - 8) + 16))(v5, v1, v6);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v4 - 8) + 104))(v5, enum case for SiriAudioSnippets.confirmation(_:), v4);
  sub_71D4(&qword_3107B0);
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_29A8D0;
  *(void *)(v7 + 32) = v2;
  uint64_t v15 = v7;
  sub_298B70();
  *(void *)(v0 + 136) = v15;
  uint64_t v14 = (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(conversationModel:dialog:outputGenerationManifest:)
                                                                   + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(conversationModel:dialog:outputGenerationManifest:));
  id v8 = v2;
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 144) = v9;
  *uint64_t v9 = v0;
  v9[1] = sub_DAD50;
  uint64_t v10 = *(void *)(v0 + 120);
  uint64_t v11 = *(void *)(v0 + 56);
  return v14(v11, v0 + 16, v15, v10);
}

uint64_t sub_DAD50()
{
  uint64_t v1 = *v0 + 16;
  swift_task_dealloc();
  swift_release();
  swift_bridgeObjectRelease();
  sub_7184(v1);
  return _swift_task_switch(sub_DAE98, 0, 0);
}

uint64_t sub_DAE98()
{
  (*(void (**)(void, void))(v0[14] + 8))(v0[15], v0[13]);
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v1 = (uint64_t (*)(void))v0[1];
  return v1();
}

uint64_t sub_DAF20(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  uint64_t v6 = sub_295AF0();
  __chkstk_darwin(v6 - 8);
  uint64_t v7 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v14 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_2948C0();
  uint64_t v11 = *(void *)(v10 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v9, a2, v10);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v11 + 56))(v9, 0, 1, v10);
  sub_294E50();
  sub_2959C0();
  sub_297B00();
  swift_release();
  sub_294E10();
  id v12 = [a4 catId];
  sub_2989C0();

  sub_294E30();
  sub_294E90();
  return sub_294E40();
}

uint64_t sub_DB0EC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = swift_allocObject();
  *(void *)(v6 + 16) = a2;
  *(void *)(v6 + 24) = a3;
  swift_retain();
  sub_268A38(a1, (uint64_t)sub_DD5C0, v6);

  return swift_release();
}

uint64_t sub_DB180(uint64_t a1, void (*a2)(char *), uint64_t a3)
{
  uint64_t v41 = a3;
  os_log_type_t v42 = a2;
  uint64_t v4 = sub_298800();
  uint64_t v40 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v39 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v39 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30D030);
  uint64_t v11 = __chkstk_darwin(v10);
  long long v13 = (char *)&v39 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v39 - v14;
  uint64_t v16 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v16);
  uint64_t v18 = (uint64_t *)((char *)&v39 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_11E58(a1, (uint64_t)v18, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v19 = *v18;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v20 = sub_6E60(v4, (uint64_t)qword_31FC08);
    uint64_t v21 = v40;
    (*(void (**)(char *, uint64_t, uint64_t))(v40 + 16))(v6, v20, v4);
    swift_errorRetain();
    swift_errorRetain();
    id v22 = sub_2987E0();
    os_log_type_t v23 = sub_298DB0();
    if (os_log_type_enabled(v22, v23))
    {
      uint64_t v24 = (uint8_t *)swift_slowAlloc();
      uint64_t v25 = swift_slowAlloc();
      uint64_t v43 = v19;
      uint64_t v44 = v25;
      *(_DWORD *)uint64_t v24 = 136446210;
      uint64_t v39 = v24 + 4;
      swift_errorRetain();
      sub_71D4((uint64_t *)&unk_3121A0);
      uint64_t v26 = sub_2989E0();
      uint64_t v43 = sub_6E98(v26, v27, &v44);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v22, v23, "TCCAcceptanceFlowStrategy#continueOnCompanionDialog error generating dialog: %{public}s", v24, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v40 + 8))(v6, v4);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v21 + 8))(v6, v4);
    }
    uint64_t v36 = v42;
    uint64_t v37 = sub_2949F0();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v37 - 8) + 56))(v9, 1, 1, v37);
    v36(v9);
    swift_errorRelease();
    id v34 = (uint64_t *)&unk_30FA50;
    uint64_t v35 = (uint64_t)v9;
  }
  else
  {
    uint64_t v28 = *(int *)(v10 + 48);
    uint64_t v29 = sub_2949F0();
    uint64_t v30 = *(void *)(v29 - 8);
    NSString v31 = *(void (**)(char *, uint64_t *, uint64_t))(v30 + 32);
    v31(v15, v18, v29);
    uint64_t v32 = *(uint64_t *)((char *)v18 + v28);
    *(void *)&v15[v28] = v32;
    uint64_t v33 = *(int *)(v10 + 48);
    (*(void (**)(char *, char *, uint64_t))(v30 + 16))(v13, v15, v29);
    *(void *)&v13[v33] = v32;
    v31(v9, (uint64_t *)v13, v29);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v30 + 56))(v9, 0, 1, v29);
    v42(v9);
    sub_23A44((uint64_t)v9, (uint64_t *)&unk_30FA50);
    id v34 = &qword_30D030;
    uint64_t v35 = (uint64_t)v15;
  }
  return sub_23A44(v35, v34);
}

uint64_t sub_DB6C8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = *(void *)(*(void *)v4 + 80);
  uint64_t v9 = *(void *)(*(void *)v4 + 88);
  type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t v10 = swift_allocBox();
  sub_D50A4(v11);
  sub_71D4(&qword_30FA10);
  uint64_t v12 = swift_allocObject();
  *(_OWORD *)(v12 + 16) = xmmword_29BFD0;
  long long v13 = (void *)swift_allocObject();
  v13[2] = v4;
  v13[3] = a1;
  v13[4] = v10;
  *(void *)(v12 + 32) = sub_DD410;
  *(void *)(v12 + 40) = v13;
  uint64_t v14 = (void *)swift_allocObject();
  v14[2] = v4;
  void v14[3] = a1;
  v14[4] = v10;
  *(void *)(v12 + 48) = sub_DD468;
  *(void *)(v12 + 56) = v14;
  uint64_t v15 = (void *)swift_allocObject();
  long long v15[2] = v8;
  v15[3] = v9;
  v15[4] = a2;
  v15[5] = a3;
  v15[6] = v10;
  swift_retain_n();
  swift_retain_n();
  swift_retain_n();
  swift_retain();
  sub_2973C0();
  swift_release();
  swift_bridgeObjectRelease();

  return swift_release();
}

uint64_t sub_DB88C(uint64_t *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = *a2;
  uint64_t v7 = *a1;
  uint64_t v8 = a1[1];
  uint64_t v9 = swift_allocObject();
  *(void *)(v9 + 16) = v7;
  *(void *)(v9 + 24) = v8;
  uint64_t v10 = (void *)swift_allocObject();
  v10[2] = *(void *)(v6 + 80);
  v10[3] = *(void *)(v6 + 88);
  v10[4] = sub_DF4C0;
  v10[5] = v9;
  v10[6] = a4;
  swift_retain();
  swift_retain();
  sub_268754(a3, (uint64_t)sub_DD590, (uint64_t)v10);

  return swift_release();
}

uint64_t sub_DB994(uint64_t a1, uint64_t (*a2)(uint64_t), uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v97 = a2;
  uint64_t v98 = a6;
  uint64_t v96 = a3;
  uint64_t v93 = a1;
  uint64_t v7 = sub_298800();
  uint64_t v95 = *(void *)(v7 - 8);
  uint64_t v8 = __chkstk_darwin(v7);
  uint64_t v92 = (char *)&v83 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v90 = (char *)&v83 - v10;
  uint64_t v87 = sub_294660();
  uint64_t v86 = *(void *)(v87 - 8);
  __chkstk_darwin(v87);
  uint64_t v85 = (char *)&v83 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30FA18);
  __chkstk_darwin(v12 - 8);
  os_log_type_t v89 = (char *)&v83 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4((uint64_t *)&unk_30FA20);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v83 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D030);
  uint64_t v88 = *(void *)(v17 - 8);
  uint64_t v18 = __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v83 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  id v22 = (char *)&v83 - v21;
  uint64_t v23 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v23);
  uint64_t v25 = (uint64_t *)((char *)&v83 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v26 = type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t v91 = a4;
  uint64_t v27 = swift_projectBox();
  sub_11E58(v93, (uint64_t)v25, (uint64_t *)&unk_30FA30);
  int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
  uint64_t v94 = v26;
  uint64_t v98 = v27;
  if (EnumCaseMultiPayload == 1)
  {
    uint64_t v29 = *v25;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v30 = sub_6E60(v7, (uint64_t)qword_31FC08);
    uint64_t v31 = v95;
    uint64_t v32 = v92;
    (*(void (**)(char *, uint64_t, uint64_t))(v95 + 16))(v92, v30, v7);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v33 = sub_2987E0();
    os_log_type_t v34 = sub_298DB0();
    if (os_log_type_enabled(v33, v34))
    {
      uint64_t v35 = swift_slowAlloc();
      uint64_t v93 = v7;
      uint64_t v36 = (uint8_t *)v35;
      v101[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v36 = 136446210;
      uint64_t v100 = v29;
      swift_errorRetain();
      sub_71D4((uint64_t *)&unk_3121A0);
      uint64_t v37 = sub_2989E0();
      uint64_t v100 = sub_6E98(v37, v38, v101);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v33, v34, "TCCAcceptanceFlowStrategy#confirmDialogContent error generating dialog: %{public}s", v36, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v31 + 8))(v92, v93);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v31 + 8))(v32, v7);
    }
    uint64_t v59 = v94;
    uint64_t v60 = v98;
    swift_beginAccess();
    *(void *)(v60 + *(int *)(v59 + 48)) = v29;
    uint64_t v61 = swift_errorRelease();
  }
  else
  {
    uint64_t v93 = v7;
    uint64_t v39 = *(int *)(v17 + 48);
    uint64_t v40 = sub_2949F0();
    uint64_t v41 = *(void *)(v40 - 8);
    (*(void (**)(char *, uint64_t *, uint64_t))(v41 + 32))(v22, v25, v40);
    os_log_type_t v42 = *(void **)((char *)v25 + v39);
    *(void *)&v22[v39] = v42;
    uint64_t v43 = *(int *)(v17 + 48);
    unint64_t v84 = v20;
    unint64_t v83 = *(void (**)(char *, char *, uint64_t))(v41 + 16);
    v83(v16, v22, v40);
    *(void *)&v16[v43] = v42;
    (*(void (**)(char *, void, uint64_t, uint64_t))(v88 + 56))(v16, 0, 1, v17);
    uint64_t v44 = v98;
    swift_beginAccess();
    uint64_t v45 = v44 + *(int *)(v26 + 36);
    id v46 = v42;
    sub_DD4AC((uint64_t)v16, v45);
    uint64_t v47 = *(int *)(v17 + 48);
    uint64_t v48 = v84;
    uint64_t v92 = v22;
    v83(v84, v22, v40);

    *(void *)&v48[v47] = v46;
    uint64_t v49 = sub_2949E0();
    (*(void (**)(char *, uint64_t))(v41 + 8))(v48, v40);
    uint64_t v50 = *(void *)(v49 + 16);
    uint64_t v51 = sub_294AD0();
    uint64_t v52 = *(void *)(v51 - 8);
    uint64_t v53 = v94;
    uint64_t v54 = v44;
    if (v50)
    {
      uint64_t v55 = (uint64_t)v89;
      (*(void (**)(char *, unint64_t, uint64_t))(*(void *)(v51 - 8) + 16))(v89, v49+ ((*(unsigned __int8 *)(*(void *)(v51 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v51 - 8) + 80)), v51);
      uint64_t v56 = 0;
      uint64_t v57 = v95;
      uint64_t v58 = v90;
    }
    else
    {
      uint64_t v57 = v95;
      uint64_t v58 = v90;
      uint64_t v55 = (uint64_t)v89;
      uint64_t v56 = 1;
    }
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v52 + 56))(v55, v56, 1, v51);
    swift_bridgeObjectRelease();
    int v62 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v52 + 48))(v55, 1, v51);
    uint64_t v63 = v93;
    if (v62 == 1)
    {
      sub_23A44(v55, &qword_30FA18);
      uint64_t v64 = 0;
      unint64_t v65 = 0xE000000000000000;
    }
    else
    {
      uint64_t v66 = v58;
      uint64_t v67 = v53;
      uint64_t v68 = v85;
      sub_294AC0();
      (*(void (**)(uint64_t, uint64_t))(v52 + 8))(v55, v51);
      uint64_t v64 = sub_294650();
      unint64_t v65 = v69;
      os_log_type_t v70 = v68;
      uint64_t v53 = v67;
      uint64_t v58 = v66;
      uint64_t v54 = v98;
      (*(void (**)(char *, uint64_t))(v86 + 8))(v70, v87);
    }
    swift_beginAccess();
    BOOL v71 = (uint64_t *)(v54 + *(int *)(v53 + 44));
    *BOOL v71 = v64;
    v71[1] = v65;
    swift_bridgeObjectRelease();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v72 = sub_6E60(v63, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v57 + 16))(v58, v72, v63);
    swift_retain_n();
    uint64_t v73 = sub_2987E0();
    os_log_type_t v74 = sub_298DC0();
    if (os_log_type_enabled(v73, v74))
    {
      uint64_t v75 = (uint8_t *)swift_slowAlloc();
      unint64_t v76 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v75 = 138412290;
      swift_beginAccess();
      unint64_t v77 = (uint64_t *)(v54 + *(int *)(v53 + 44));
      uint64_t v78 = v77[1];
      if (v78)
      {
        uint64_t v79 = *v77;
        sub_7218();
        swift_allocError();
        void *v80 = v79;
        v80[1] = v78;
        swift_bridgeObjectRetain();
        uint64_t v78 = _swift_stdlib_bridgeErrorToNSError();
        uint64_t v99 = v78;
      }
      else
      {
        uint64_t v99 = 0;
      }
      sub_2992C0();
      uint64_t v81 = (uint64_t)v92;
      *unint64_t v76 = v78;
      swift_release_n();
      _os_log_impl(&dword_0, v73, v74, "TCCAcceptanceFlowStrategy#confirmDialogContent text for confirmation subtitle: %@", v75, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
      uint64_t v63 = v93;
    }
    else
    {
      swift_release_n();
      uint64_t v81 = (uint64_t)v92;
    }

    (*(void (**)(char *, uint64_t))(v57 + 8))(v58, v63);
    uint64_t v61 = sub_23A44(v81, &qword_30D030);
  }
  return v97(v61);
}

uint64_t sub_DC464(uint64_t *a1, uint64_t *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = *a2;
  uint64_t v7 = *a1;
  uint64_t v8 = a1[1];
  uint64_t v9 = swift_allocObject();
  *(void *)(v9 + 16) = v7;
  *(void *)(v9 + 24) = v8;
  uint64_t v10 = (void *)swift_allocObject();
  v10[2] = *(void *)(v6 + 80);
  v10[3] = *(void *)(v6 + 88);
  v10[4] = sub_DD488;
  v10[5] = v9;
  v10[6] = a4;
  swift_retain();
  swift_retain();
  sub_268938(a3, (uint64_t)sub_DD494, (uint64_t)v10);

  return swift_release();
}

uint64_t sub_DC56C(uint64_t a1, uint64_t (*a2)(uint64_t), uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v86 = a1;
  uint64_t v87 = a6;
  uint64_t v89 = a3;
  uint64_t v90 = a2;
  uint64_t v7 = sub_298800();
  uint64_t v88 = *(void *)(v7 - 8);
  uint64_t v8 = __chkstk_darwin(v7);
  unint64_t v82 = (char *)&v77 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  unint64_t v83 = (char *)&v77 - v10;
  uint64_t v79 = sub_294660();
  uint64_t v78 = *(void *)(v79 - 8);
  __chkstk_darwin(v79);
  unint64_t v77 = (char *)&v77 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30FA18);
  __chkstk_darwin(v12 - 8);
  uint64_t v81 = (char *)&v77 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4((uint64_t *)&unk_30FA20);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v77 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D030);
  uint64_t v80 = *(void *)(v17 - 8);
  uint64_t v18 = __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v77 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  id v22 = (char *)&v77 - v21;
  uint64_t v23 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v23);
  uint64_t v25 = (uint64_t *)((char *)&v77 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v87 = type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t v84 = a4;
  uint64_t v26 = swift_projectBox();
  sub_11E58(v86, (uint64_t)v25, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v27 = *v25;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v28 = sub_6E60(v7, (uint64_t)qword_31FC08);
    uint64_t v29 = v88;
    uint64_t v30 = v82;
    (*(void (**)(char *, uint64_t, uint64_t))(v88 + 16))(v82, v28, v7);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v31 = sub_2987E0();
    os_log_type_t v32 = sub_298DB0();
    if (os_log_type_enabled(v31, v32))
    {
      uint64_t v86 = v26;
      uint64_t v33 = swift_slowAlloc();
      uint64_t v85 = v7;
      os_log_type_t v34 = v30;
      uint64_t v35 = (uint8_t *)v33;
      v93[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v35 = 136446210;
      uint64_t v92 = v27;
      swift_errorRetain();
      sub_71D4((uint64_t *)&unk_3121A0);
      uint64_t v36 = sub_2989E0();
      uint64_t v92 = sub_6E98(v36, v37, v93);
      uint64_t v26 = v86;
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v31, v32, "TCCAcceptanceFlowStrategy#confirmDialogContent error generating dialog: %{public}s", v35, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v29 + 8))(v34, v85);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v29 + 8))(v30, v7);
    }
    uint64_t v56 = v87;
    swift_beginAccess();
    *(void *)(v26 + *(int *)(v56 + 48)) = v27;
    uint64_t v57 = swift_errorRelease();
  }
  else
  {
    uint64_t v85 = v7;
    uint64_t v86 = v26;
    uint64_t v38 = *(int *)(v17 + 48);
    uint64_t v39 = sub_2949F0();
    uint64_t v40 = *(void *)(v39 - 8);
    (*(void (**)(char *, uint64_t *, uint64_t))(v40 + 32))(v22, v25, v39);
    uint64_t v41 = *(void **)((char *)v25 + v38);
    *(void *)&v22[v38] = v41;
    uint64_t v42 = *(int *)(v17 + 48);
    uint64_t v43 = *(void (**)(char *, char *, uint64_t))(v40 + 16);
    v43(v16, v22, v39);
    *(void *)&v16[v42] = v41;
    (*(void (**)(char *, void, uint64_t, uint64_t))(v80 + 56))(v16, 0, 1, v17);
    uint64_t v44 = v86;
    swift_beginAccess();
    id v45 = v41;
    sub_DD4AC((uint64_t)v16, v44);
    uint64_t v46 = *(int *)(v17 + 48);
    unint64_t v82 = v22;
    v43(v20, v22, v39);

    *(void *)&v20[v46] = v45;
    uint64_t v47 = sub_2949E0();
    (*(void (**)(char *, uint64_t))(v40 + 8))(v20, v39);
    uint64_t v48 = *(void *)(v47 + 16);
    uint64_t v49 = sub_294AD0();
    uint64_t v50 = *(void *)(v49 - 8);
    if (v48)
    {
      uint64_t v51 = (uint64_t)v81;
      (*(void (**)(char *, unint64_t, uint64_t))(*(void *)(v49 - 8) + 16))(v81, v47+ ((*(unsigned __int8 *)(*(void *)(v49 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v49 - 8) + 80)), v49);
      uint64_t v52 = 0;
      uint64_t v53 = v87;
      uint64_t v54 = v88;
      uint64_t v55 = v83;
    }
    else
    {
      uint64_t v53 = v87;
      uint64_t v54 = v88;
      uint64_t v55 = v83;
      uint64_t v51 = (uint64_t)v81;
      uint64_t v52 = 1;
    }
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v50 + 56))(v51, v52, 1, v49);
    swift_bridgeObjectRelease();
    int v58 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v50 + 48))(v51, 1, v49);
    uint64_t v59 = v85;
    if (v58 == 1)
    {
      sub_23A44(v51, &qword_30FA18);
      uint64_t v60 = 0;
      unint64_t v61 = 0xE000000000000000;
    }
    else
    {
      int v62 = v77;
      sub_294AC0();
      (*(void (**)(uint64_t, uint64_t))(v50 + 8))(v51, v49);
      uint64_t v60 = sub_294650();
      unint64_t v61 = v63;
      (*(void (**)(char *, uint64_t))(v78 + 8))(v62, v79);
    }
    uint64_t v64 = v86;
    swift_beginAccess();
    unint64_t v65 = (uint64_t *)(v64 + *(int *)(v53 + 40));
    *unint64_t v65 = v60;
    v65[1] = v61;
    swift_bridgeObjectRelease();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v66 = sub_6E60(v59, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v54 + 16))(v55, v66, v59);
    swift_retain_n();
    uint64_t v67 = sub_2987E0();
    os_log_type_t v68 = sub_298DC0();
    if (os_log_type_enabled(v67, v68))
    {
      unint64_t v69 = (uint8_t *)swift_slowAlloc();
      os_log_type_t v70 = (void *)swift_slowAlloc();
      *(_DWORD *)unint64_t v69 = 138412290;
      swift_beginAccess();
      BOOL v71 = (uint64_t *)(v64 + *(int *)(v53 + 40));
      uint64_t v72 = v71[1];
      if (v72)
      {
        uint64_t v73 = *v71;
        sub_7218();
        swift_allocError();
        *os_log_type_t v74 = v73;
        v74[1] = v72;
        swift_bridgeObjectRetain();
        uint64_t v72 = _swift_stdlib_bridgeErrorToNSError();
        uint64_t v91 = v72;
      }
      else
      {
        uint64_t v91 = 0;
      }
      sub_2992C0();
      uint64_t v75 = (uint64_t)v82;
      *os_log_type_t v70 = v72;
      swift_release_n();
      _os_log_impl(&dword_0, v67, v68, "TCCAcceptanceFlowStrategy#confirmDialogContent text for confirmation title: %@", v69, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
      uint64_t v59 = v85;
    }
    else
    {
      swift_release_n();
      uint64_t v75 = (uint64_t)v82;
    }

    (*(void (**)(char *, uint64_t))(v54 + 8))(v55, v59);
    uint64_t v57 = sub_23A44(v75, &qword_30D030);
  }
  return v90(v57);
}

uint64_t sub_DCFD8(void (*a1)(char *))
{
  uint64_t v2 = type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v8 - v4;
  uint64_t v6 = swift_projectBox();
  swift_beginAccess();
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  a1(v5);
  return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v5, v2);
}

uint64_t sub_DD0F4()
{
  swift_release();
  sub_7184(v0 + 24);

  sub_7184(v0 + 72);
  sub_7184(v0 + 112);
  sub_7184(v0 + 152);
  sub_7184(v0 + 192);
  return v0;
}

uint64_t sub_DD144()
{
  sub_DD0F4();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for TCCAcceptanceFlowStrategy()
{
  return sub_247C4();
}

uint64_t sub_DD190@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_D5178(a1, a2);
}

uint64_t sub_DD1A8(uint64_t a1, void (*a2)(uint64_t), uint64_t a3)
{
  return sub_D5C30(a1, a2, a3);
}

uint64_t sub_DD1CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_DD3F0(a1, a3, a4);
}

void sub_DD1F8(uint64_t a1, void *a2, void (*a3)(void *), uint64_t a4)
{
}

uint64_t sub_DD21C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  return sub_DD27C(a1, a2, a3, a4, a5, a6, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))&RequestTCCAcceptanceFlowStrategy.makeRepromptOnEmptyParse(app:intent:_:));
}

uint64_t sub_DD234(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  return sub_DD27C(a1, a2, a3, a4, a5, a6, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))&RequestTCCAcceptanceFlowStrategy.makeRepromptOnLowConfidence(app:intent:_:));
}

uint64_t sub_DD24C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  return sub_DD27C(a1, a2, a3, a4, a5, a6, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))&RequestTCCAcceptanceFlowStrategy.makePromptForDeviceUnlock(app:intent:_:));
}

uint64_t sub_DD264(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  return sub_DD27C(a1, a2, a3, a4, a5, a6, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))&RequestTCCAcceptanceFlowStrategy.makeHandoffForAuthenticationResponse(app:intent:_:));
}

uint64_t sub_DD27C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t (*a7)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))
{
  uint64_t v12 = type metadata accessor for TCCAcceptanceFlowStrategy();

  return a7(a1, a2, a3, a4, v12, a6);
}

uint64_t sub_DD304(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  return sub_D73A8(a1, a2, a3, a4);
}

uint64_t sub_DD328(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for TCCAcceptanceFlowStrategy();

  return IntentErrorHandling.makeErrorResponse(app:intent:error:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_DD3AC()
{
  return swift_getWitnessTable();
}

uint64_t sub_DD3C8()
{
  return swift_getWitnessTable();
}

void *sub_DD3E4()
{
  return &protocol witness table for SimpleConfirmationResponseProvider;
}

uint64_t type metadata accessor for TCCAcceptanceFlowStrategy.ConfirmationDialogResponse()
{
  return sub_247C4();
}

uint64_t sub_DD410(uint64_t *a1)
{
  return sub_DB88C(a1, *(uint64_t **)(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_DD420()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_DD468(uint64_t *a1)
{
  return sub_DC464(a1, *(uint64_t **)(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_DD478()
{
  return sub_DCFD8(*(void (**)(char *))(v0 + 32));
}

uint64_t sub_DD488()
{
  return sub_2E0E4(*(uint64_t (**)(void))(v0 + 16));
}

uint64_t sub_DD494(uint64_t a1)
{
  return sub_DD5A8(a1, (uint64_t (*)(uint64_t, void, void, void, void, void))sub_DC56C);
}

uint64_t sub_DD4AC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4((uint64_t *)&unk_30FA20);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_DD514()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_DD550()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_DD590(uint64_t a1)
{
  return sub_DD5A8(a1, (uint64_t (*)(uint64_t, void, void, void, void, void))sub_DB994);
}

uint64_t sub_DD5A8(uint64_t a1, uint64_t (*a2)(uint64_t, void, void, void, void, void))
{
  return a2(a1, v2[4], v2[5], v2[6], v2[2], v2[3]);
}

uint64_t sub_DD5C0(uint64_t a1)
{
  return sub_DB180(a1, *(void (**)(char *))(v1 + 16), *(void *)(v1 + 24));
}

unint64_t sub_DD5C8()
{
  unint64_t result = qword_30FA68;
  if (!qword_30FA68)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_30FA68);
  }
  return result;
}

uint64_t sub_DD608()
{
  uint64_t v1 = sub_2948C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 56) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_DD6DC(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_2948C0() - 8);
  uint64_t v4 = (void (*)(long long *))v1[4];
  uint64_t v5 = v1[5];
  uint64_t v6 = (void *)v1[6];
  uint64_t v7 = (uint64_t)v1 + ((*(unsigned __int8 *)(v3 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_D9458(a1, v4, v5, v6, v7);
}

unint64_t sub_DD768()
{
  unint64_t result = qword_30FAA0;
  if (!qword_30FAA0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, &qword_30FAA0);
  }
  return result;
}

uint64_t sub_DD7BC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void (*a6)(void), uint64_t a7)
{
  uint64_t v49 = a7;
  uint64_t v45 = a5;
  uint64_t v43 = a4;
  uint64_t v44 = a3;
  uint64_t v48 = a1;
  uint64_t v10 = *v7;
  uint64_t v46 = sub_2948C0();
  uint64_t v11 = *(void *)(v46 - 8);
  uint64_t v12 = __chkstk_darwin(v46);
  uint64_t v42 = (char *)v41 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v41[1] = v13;
  __chkstk_darwin(v12);
  uint64_t v47 = (char *)v41 - v14;
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)v41 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_6E60(v15, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v19, v15);
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298DC0();
  if (os_log_type_enabled(v20, v21))
  {
    id v22 = (uint8_t *)swift_slowAlloc();
    v41[0] = a2;
    *(_WORD *)id v22 = 0;
    _os_log_impl(&dword_0, v20, v21, "TCCAcceptanceFlowStrategy#createConfirmationViewOutputWithRF...", v22, 2u);
    a2 = v41[0];
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
  uint64_t v60 = 0;
  long long v58 = 0u;
  long long v59 = 0u;
  long long v57 = 0u;
  char v61 = 2;
  id v23 = sub_237E5C();
  if (v23)
  {
    uint64_t v24 = v23;
    uint64_t v52 = 1;
    long long v53 = 0u;
    long long v54 = 0u;
    long long v55 = 0u;
    char v56 = 2;
    id v25 = sub_237E5C();
    if (v25)
    {
      uint64_t v26 = v25;
      uint64_t v27 = *(void *)(v10 + 80);
      uint64_t v28 = *(void *)(v10 + 88);
      uint64_t v29 = v47;
      sub_C286C();
      uint64_t v30 = v42;
      (*(void (**)(char *, char *, uint64_t))(v11 + 16))(v42, v29, v46);
      unint64_t v31 = (*(unsigned __int8 *)(v11 + 80) + 96) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
      os_log_type_t v32 = (void *)swift_allocObject();
      uint64_t v33 = a6;
      uint64_t v34 = (uint64_t)v32;
      v32[2] = v27;
      v32[3] = v28;
      v32[4] = v33;
      v32[5] = v49;
      v32[6] = a2;
      uint64_t v35 = v43;
      v32[7] = v44;
      v32[8] = v35;
      v32[9] = v45;
      v32[10] = v24;
      v32[11] = v26;
      uint64_t v36 = (char *)v32 + v31;
      uint64_t v37 = v46;
      (*(void (**)(char *, char *, uint64_t))(v11 + 32))(v36, v30, v46);
      swift_retain();
      swift_bridgeObjectRetain();
      swift_bridgeObjectRetain();
      id v38 = v24;
      id v39 = v26;
      sub_DB6C8(v48, (uint64_t)sub_DDD90, v34);

      swift_release();
      return (*(uint64_t (**)(char *, uint64_t))(v11 + 8))(v47, v37);
    }
  }
  sub_DD768();
  v50[0] = swift_allocError();
  char v51 = 1;
  a6(v50);
  return sub_23A44((uint64_t)v50, (uint64_t *)&unk_30FA80);
}

uint64_t sub_DDCA4()
{
  uint64_t v1 = sub_2948C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 96) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_DDD90(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_2948C0() - 8);
  return sub_D9DC4(a1, *(void (**)(uint64_t *))(v1 + 32), *(void *)(v1 + 40), *(void (**)(char *, uint64_t))(v1 + 48), *(void (**)(char *, char *, uint64_t))(v1 + 56), *(void *)(v1 + 64), *(char **)(v1 + 72), *(void (**)(char *, uint64_t))(v1 + 80), *(void **)(v1 + 88), (char *)(v1 + ((*(unsigned __int8 *)(v3 + 80) + 96) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80))));
}

uint64_t sub_DDE20()
{
  uint64_t v1 = sub_2948C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  unint64_t v5 = (((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v6 = sub_297A40();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = (v5 + v8 + 8) & ~v8;
  uint64_t v12 = v9 + *(void *)(v7 + 64);
  uint64_t v10 = v3 | v8 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v0 + v9, v6);

  return _swift_deallocObject(v0, v12, v10);
}

uint64_t sub_DDFA0(uint64_t a1)
{
  uint64_t v3 = v2;
  uint64_t v5 = *(void *)(sub_2948C0() - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  unint64_t v7 = (*(void *)(v5 + 64) + v6 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v8 = (v7 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v9 = *(unsigned __int8 *)(*(void *)(sub_297A40() - 8) + 80);
  uint64_t v10 = v8 + v9 + 8;
  uint64_t v11 = *(void *)(v1 + v7);
  uint64_t v12 = v1 + v6;
  uint64_t v13 = *(void *)(v1 + v8);
  uint64_t v14 = v1 + (v10 & ~v9);
  uint64_t v15 = (void *)swift_task_alloc();
  *(void *)(v3 + 16) = v15;
  *uint64_t v15 = v3;
  v15[1] = sub_14480;
  return sub_DA9F4(a1, v12, v11, v13, v14);
}

uint64_t sub_DE110(uint64_t a1)
{
  return sub_DAF20(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32));
}

uint64_t sub_DE11C()
{
  swift_release();

  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_DE16C(uint64_t a1)
{
  return sub_D75F0(a1, *(void (**)(uint64_t))(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32), *(void *)(v1 + 40), *(uint64_t **)(v1 + 48));
}

uint64_t sub_DE17C()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_DE1BC(uint64_t a1)
{
  return sub_D6E3C(a1, *(void (**)(uint64_t *))(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_DE1C8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_DE210(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_allocateGenericValueMetadata(a1, a2, a3, 40);
}

void sub_DE218()
{
  sub_DF464();
  if (v0 <= 0x3F) {
    swift_initStructMetadata();
  }
}

uint64_t *sub_DE2BC(uint64_t *a1, uint64_t *a2, int *a3)
{
  int v5 = *(_DWORD *)(*((void *)a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v11 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v11 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    uint64_t v7 = sub_71D4(&qword_30D030);
    uint64_t v8 = *(void *)(v7 - 8);
    uint64_t v9 = *(unsigned int (**)(uint64_t *, uint64_t, uint64_t))(v8 + 48);
    if (v9(a2, 1, v7))
    {
      uint64_t v10 = sub_71D4((uint64_t *)&unk_30FA20);
      memcpy(a1, a2, *(void *)(*(void *)(v10 - 8) + 64));
    }
    else
    {
      uint64_t v12 = sub_2949F0();
      (*(void (**)(uint64_t *, uint64_t *, uint64_t))(*(void *)(v12 - 8) + 16))(a1, a2, v12);
      uint64_t v13 = *(int *)(v7 + 48);
      uint64_t v14 = *(void **)((char *)a2 + v13);
      *(uint64_t *)((char *)a1 + v13) = (uint64_t)v14;
      uint64_t v15 = *(void (**)(uint64_t *, void, uint64_t, uint64_t))(v8 + 56);
      id v16 = v14;
      v15(a1, 0, 1, v7);
    }
    uint64_t v17 = a3[9];
    uint64_t v18 = (char *)a1 + v17;
    uint64_t v19 = (char *)a2 + v17;
    if (v9((uint64_t *)((char *)a2 + v17), 1, v7))
    {
      uint64_t v20 = sub_71D4((uint64_t *)&unk_30FA20);
      memcpy(v18, v19, *(void *)(*(void *)(v20 - 8) + 64));
    }
    else
    {
      uint64_t v21 = sub_2949F0();
      (*(void (**)(char *, char *, uint64_t))(*(void *)(v21 - 8) + 16))(v18, v19, v21);
      uint64_t v22 = *(int *)(v7 + 48);
      id v23 = *(void **)&v19[v22];
      *(void *)&v18[v22] = v23;
      uint64_t v24 = *(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56);
      id v25 = v23;
      v24(v18, 0, 1, v7);
    }
    uint64_t v26 = a3[10];
    uint64_t v27 = a3[11];
    uint64_t v28 = (uint64_t *)((char *)a1 + v26);
    uint64_t v29 = (uint64_t *)((char *)a2 + v26);
    uint64_t v30 = v29[1];
    *uint64_t v28 = *v29;
    v28[1] = v30;
    unint64_t v31 = (uint64_t *)((char *)a1 + v27);
    os_log_type_t v32 = (uint64_t *)((char *)a2 + v27);
    uint64_t v33 = v32[1];
    *unint64_t v31 = *v32;
    v31[1] = v33;
    uint64_t v34 = a3[12];
    uint64_t v35 = *(uint64_t *)((char *)a2 + v34);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    swift_errorRetain();
    *(uint64_t *)((char *)a1 + v34) = v35;
  }
  return a1;
}

uint64_t sub_DE574(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30D030);
  int v5 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 48);
  if (!v5(a1, 1, v4))
  {
    uint64_t v6 = sub_2949F0();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v6 - 8) + 8))(a1, v6);
  }
  uint64_t v7 = a1 + *(int *)(a2 + 36);
  if (!v5(v7, 1, v4))
  {
    uint64_t v8 = sub_2949F0();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v8 - 8) + 8))(v7, v8);
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return swift_errorRelease();
}

char *sub_DE6D4(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_71D4(&qword_30D030);
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
  if (v8(a2, 1, v6))
  {
    uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
  }
  else
  {
    uint64_t v10 = sub_2949F0();
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v10 - 8) + 16))(a1, a2, v10);
    uint64_t v11 = *(int *)(v6 + 48);
    uint64_t v12 = *(void **)&a2[v11];
    *(void *)&a1[v11] = v12;
    uint64_t v13 = *(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56);
    id v14 = v12;
    v13(a1, 0, 1, v6);
  }
  uint64_t v15 = a3[9];
  id v16 = &a1[v15];
  uint64_t v17 = &a2[v15];
  if (v8(&a2[v15], 1, v6))
  {
    uint64_t v18 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(v16, v17, *(void *)(*(void *)(v18 - 8) + 64));
  }
  else
  {
    uint64_t v19 = sub_2949F0();
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v19 - 8) + 16))(v16, v17, v19);
    uint64_t v20 = *(int *)(v6 + 48);
    uint64_t v21 = *(void **)&v17[v20];
    *(void *)&v16[v20] = v21;
    uint64_t v22 = *(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56);
    id v23 = v21;
    v22(v16, 0, 1, v6);
  }
  uint64_t v24 = a3[10];
  uint64_t v25 = a3[11];
  uint64_t v26 = &a1[v24];
  uint64_t v27 = &a2[v24];
  uint64_t v28 = *((void *)v27 + 1);
  *(void *)uint64_t v26 = *(void *)v27;
  *((void *)v26 + 1) = v28;
  uint64_t v29 = &a1[v25];
  uint64_t v30 = &a2[v25];
  uint64_t v31 = *((void *)v30 + 1);
  *(void *)uint64_t v29 = *(void *)v30;
  *((void *)v29 + 1) = v31;
  uint64_t v32 = a3[12];
  uint64_t v33 = *(void *)&a2[v32];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_errorRetain();
  *(void *)&a1[v32] = v33;
  return a1;
}

char *sub_DE93C(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_71D4(&qword_30D030);
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(uint64_t (**)(char *, uint64_t, uint64_t))(v7 + 48);
  int v9 = v8(a1, 1, v6);
  int v10 = v8(a2, 1, v6);
  if (v9)
  {
    if (!v10)
    {
      uint64_t v11 = sub_2949F0();
      (*(void (**)(char *, char *, uint64_t))(*(void *)(v11 - 8) + 16))(a1, a2, v11);
      uint64_t v12 = *(int *)(v6 + 48);
      uint64_t v13 = *(void **)&a2[v12];
      *(void *)&a1[v12] = v13;
      id v14 = *(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56);
      id v15 = v13;
      v14(a1, 0, 1, v6);
      goto LABEL_7;
    }
    goto LABEL_6;
  }
  if (v10)
  {
    sub_23A44((uint64_t)a1, &qword_30D030);
LABEL_6:
    uint64_t v16 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(a1, a2, *(void *)(*(void *)(v16 - 8) + 64));
    goto LABEL_7;
  }
  uint64_t v37 = sub_2949F0();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v37 - 8) + 24))(a1, a2, v37);
  uint64_t v38 = *(int *)(v6 + 48);
  id v39 = *(void **)&a2[v38];
  uint64_t v40 = *(void **)&a1[v38];
  *(void *)&a1[v38] = v39;
  id v41 = v39;

LABEL_7:
  uint64_t v17 = a3[9];
  uint64_t v18 = &a1[v17];
  uint64_t v19 = &a2[v17];
  int v20 = v8(&a1[v17], 1, v6);
  int v21 = v8(v19, 1, v6);
  if (!v20)
  {
    if (!v21)
    {
      uint64_t v42 = sub_2949F0();
      (*(void (**)(char *, char *, uint64_t))(*(void *)(v42 - 8) + 24))(v18, v19, v42);
      uint64_t v43 = *(int *)(v6 + 48);
      uint64_t v44 = *(void **)&v19[v43];
      uint64_t v45 = *(void **)&v18[v43];
      *(void *)&v18[v43] = v44;
      id v46 = v44;

      goto LABEL_13;
    }
    sub_23A44((uint64_t)v18, &qword_30D030);
    goto LABEL_12;
  }
  if (v21)
  {
LABEL_12:
    uint64_t v27 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(v18, v19, *(void *)(*(void *)(v27 - 8) + 64));
    goto LABEL_13;
  }
  uint64_t v22 = sub_2949F0();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v22 - 8) + 16))(v18, v19, v22);
  uint64_t v23 = *(int *)(v6 + 48);
  uint64_t v24 = *(void **)&v19[v23];
  *(void *)&v18[v23] = v24;
  uint64_t v25 = *(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56);
  id v26 = v24;
  v25(v18, 0, 1, v6);
LABEL_13:
  uint64_t v28 = a3[10];
  uint64_t v29 = &a1[v28];
  uint64_t v30 = &a2[v28];
  *(void *)uint64_t v29 = *(void *)v30;
  *((void *)v29 + 1) = *((void *)v30 + 1);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v31 = a3[11];
  uint64_t v32 = &a1[v31];
  uint64_t v33 = &a2[v31];
  *(void *)uint64_t v32 = *(void *)v33;
  *((void *)v32 + 1) = *((void *)v33 + 1);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v34 = a3[12];
  uint64_t v35 = *(void *)&a2[v34];
  swift_errorRetain();
  *(void *)&a1[v34] = v35;
  swift_errorRelease();
  return a1;
}

char *sub_DECF0(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_71D4(&qword_30D030);
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
  if (v8(a2, 1, v6))
  {
    uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
  }
  else
  {
    uint64_t v10 = sub_2949F0();
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v10 - 8) + 32))(a1, a2, v10);
    *(void *)&a1[*(int *)(v6 + 48)] = *(void *)&a2[*(int *)(v6 + 48)];
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
  }
  uint64_t v11 = a3[9];
  uint64_t v12 = &a1[v11];
  uint64_t v13 = &a2[v11];
  if (v8(&a2[v11], 1, v6))
  {
    uint64_t v14 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(v12, v13, *(void *)(*(void *)(v14 - 8) + 64));
  }
  else
  {
    uint64_t v15 = sub_2949F0();
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v15 - 8) + 32))(v12, v13, v15);
    *(void *)&v12[*(int *)(v6 + 48)] = *(void *)&v13[*(int *)(v6 + 48)];
    (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v12, 0, 1, v6);
  }
  uint64_t v16 = a3[11];
  *(_OWORD *)&a1[a3[10]] = *(_OWORD *)&a2[a3[10]];
  *(_OWORD *)&a1[v16] = *(_OWORD *)&a2[v16];
  *(void *)&a1[a3[12]] = *(void *)&a2[a3[12]];
  return a1;
}

char *sub_DEF2C(char *a1, char *a2, int *a3)
{
  uint64_t v6 = sub_71D4(&qword_30D030);
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(uint64_t (**)(char *, uint64_t, uint64_t))(v7 + 48);
  int v9 = v8(a1, 1, v6);
  int v10 = v8(a2, 1, v6);
  if (v9)
  {
    if (!v10)
    {
      uint64_t v11 = sub_2949F0();
      (*(void (**)(char *, char *, uint64_t))(*(void *)(v11 - 8) + 32))(a1, a2, v11);
      *(void *)&a1[*(int *)(v6 + 48)] = *(void *)&a2[*(int *)(v6 + 48)];
      (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
      goto LABEL_7;
    }
    goto LABEL_6;
  }
  if (v10)
  {
    sub_23A44((uint64_t)a1, &qword_30D030);
LABEL_6:
    uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(a1, a2, *(void *)(*(void *)(v12 - 8) + 64));
    goto LABEL_7;
  }
  uint64_t v31 = sub_2949F0();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v31 - 8) + 40))(a1, a2, v31);
  uint64_t v32 = *(int *)(v6 + 48);
  uint64_t v33 = *(void **)&a1[v32];
  *(void *)&a1[v32] = *(void *)&a2[v32];

LABEL_7:
  uint64_t v13 = a3[9];
  uint64_t v14 = &a1[v13];
  uint64_t v15 = &a2[v13];
  int v16 = v8(&a1[v13], 1, v6);
  int v17 = v8(v15, 1, v6);
  if (!v16)
  {
    if (!v17)
    {
      uint64_t v34 = sub_2949F0();
      (*(void (**)(char *, char *, uint64_t))(*(void *)(v34 - 8) + 40))(v14, v15, v34);
      uint64_t v35 = *(int *)(v6 + 48);
      uint64_t v36 = *(void **)&v14[v35];
      *(void *)&v14[v35] = *(void *)&v15[v35];

      goto LABEL_13;
    }
    sub_23A44((uint64_t)v14, &qword_30D030);
    goto LABEL_12;
  }
  if (v17)
  {
LABEL_12:
    uint64_t v19 = sub_71D4((uint64_t *)&unk_30FA20);
    memcpy(v14, v15, *(void *)(*(void *)(v19 - 8) + 64));
    goto LABEL_13;
  }
  uint64_t v18 = sub_2949F0();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v18 - 8) + 32))(v14, v15, v18);
  *(void *)&v14[*(int *)(v6 + 48)] = *(void *)&v15[*(int *)(v6 + 48)];
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v14, 0, 1, v6);
LABEL_13:
  uint64_t v20 = a3[10];
  int v21 = &a1[v20];
  uint64_t v22 = &a2[v20];
  uint64_t v24 = *(void *)v22;
  uint64_t v23 = *((void *)v22 + 1);
  *(void *)int v21 = v24;
  *((void *)v21 + 1) = v23;
  swift_bridgeObjectRelease();
  uint64_t v25 = a3[11];
  id v26 = &a1[v25];
  uint64_t v27 = &a2[v25];
  uint64_t v29 = *(void *)v27;
  uint64_t v28 = *((void *)v27 + 1);
  *(void *)id v26 = v29;
  *((void *)v26 + 1) = v28;
  swift_bridgeObjectRelease();
  *(void *)&a1[a3[12]] = *(void *)&a2[a3[12]];
  swift_errorRelease();
  return a1;
}

uint64_t sub_DF2A4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_DF2B8);
}

uint64_t sub_DF2B8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_71D4((uint64_t *)&unk_30FA20);
  uint64_t v7 = *(void *)(v6 - 8);
  if (*(_DWORD *)(v7 + 84) == a2)
  {
    uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v7 + 48);
    return v8(a1, a2, v6);
  }
  else
  {
    unint64_t v10 = *(void *)(a1 + *(int *)(a3 + 40) + 8);
    if (v10 >= 0xFFFFFFFF) {
      LODWORD(v10) = -1;
    }
    int v11 = v10 - 1;
    if (v11 < 0) {
      int v11 = -1;
    }
    return (v11 + 1);
  }
}

uint64_t sub_DF38C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_DF3A0);
}

uint64_t sub_DF3A0(uint64_t a1, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t result = sub_71D4((uint64_t *)&unk_30FA20);
  uint64_t v9 = *(void *)(result - 8);
  if (*(_DWORD *)(v9 + 84) == a3)
  {
    unint64_t v10 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v9 + 56);
    return v10(a1, a2, a2, result);
  }
  else
  {
    *(void *)(a1 + *(int *)(a4 + 40) + 8) = a2;
  }
  return result;
}

void sub_DF464()
{
  if (!qword_30FB80)
  {
    sub_60904(&qword_30D030);
    unint64_t v0 = sub_2992A0();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_30FB80);
    }
  }
}

void sub_DF4D0(unint64_t a1, uint64_t a2, void *a3, void *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v7 = v6;
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  int v17 = (char *)&v66 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v18 = [a4 code];
  uint64_t v67 = a5;
  if ((id)_INAddMediaIntentResponseCodeFailureAlreadyInLibrary != v18)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v27 = a2;
    uint64_t v28 = sub_6E60(v14, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v17, v28, v14);
    uint64_t v29 = sub_2987E0();
    os_log_type_t v30 = sub_298DC0();
    if (os_log_type_enabled(v29, v30))
    {
      uint64_t v31 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v31 = 0;
      _os_log_impl(&dword_0, v29, v30, "AddMediaDialogProvider#makeFailureHandlingIntentDialog", v31, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v15 + 8))(v17, v14);
    uint64_t v32 = *(void *)(v7 + 120);
    unint64_t v33 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
    uint64_t v72 = sub_1983C(0, &qword_30E8B0);
    uint64_t v73 = &off_2FB128;
    *(void *)&long long v71 = a3;
    uint64_t v34 = *(void *)(v32 + 16);
    uint64_t v35 = *(void *)(v32 + 24);
    __chkstk_darwin(v72);
    *(&v66 - 10) = v34;
    *(&v66 - 9) = v35;
    *(&v66 - 8) = 0xD000000000000015;
    *(&v66 - 7) = 0x80000000002A4F40;
    uint64_t v61 = v36;
    unint64_t v62 = v33;
    uint64_t v63 = v27;
    uint64_t v64 = &v71;
    uint64_t v65 = 0;
    id v37 = a3;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v67, a6, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v34, v35, 0xD000000000000015, 0x80000000002A4F40, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v66 - 12));
    swift_bridgeObjectRelease();
    goto LABEL_24;
  }
  id v19 = [a3 mediaItems];
  if (!v19) {
    goto LABEL_19;
  }
  uint64_t v20 = v19;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v21 = sub_298B50();

  if (!(v21 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v21 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_5;
    }
LABEL_18:
    swift_bridgeObjectRelease();
    goto LABEL_19;
  }
  swift_bridgeObjectRetain();
  uint64_t v38 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v38) {
    goto LABEL_18;
  }
LABEL_5:
  if ((v21 & 0xC000000000000001) != 0)
  {
    id v22 = (id)sub_2993E0();
    goto LABEL_8;
  }
  if (*(void *)((char *)&dword_10 + (v21 & 0xFFFFFFFFFFFFFF8)))
  {
    id v22 = *(id *)(v21 + 32);
LABEL_8:
    uint64_t v23 = v22;
    swift_bridgeObjectRelease();
    uint64_t v24 = (char *)[v23 type];

    if (v24 == (unsigned char *)&dword_0 + 2)
    {
      unint64_t v25 = 0xE500000000000000;
      uint64_t v26 = 0x6D75626C61;
      goto LABEL_20;
    }
    if (v24 == (unsigned char *)&dword_4 + 2)
    {
      unint64_t v25 = 0xE700000000000000;
      uint64_t v26 = 0x74736163646F70;
LABEL_20:
      swift_bridgeObjectRetain();
      sub_1EE83C();
      os_log_type_t v70 = &type metadata for String;
      *(void *)&long long v69 = v39;
      *((void *)&v69 + 1) = v40;
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v68 = a1;
      sub_2542F8(&v69, 0x656C746974, 0xE500000000000000, isUniquelyReferenced_nonNull_native, &v71);
      unint64_t v42 = v68;
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)&v71, &qword_30D040);
      os_log_type_t v70 = &type metadata for String;
      *(void *)&long long v69 = v26;
      *((void *)&v69 + 1) = v25;
      char v43 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v68 = v42;
      sub_2542F8(&v69, 0x707954616964656DLL, 0xE900000000000065, v43, &v71);
      unint64_t v44 = v68;
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)&v71, &qword_30D040);
      id v45 = [a3 mediaDestination];
      uint64_t v66 = a6;
      if (v45)
      {
        id v46 = v45;
        uint64_t v47 = a2;
        uint64_t v48 = (char *)objc_msgSend(v45, "mediaDestinationType", v66, v67);

        BOOL v49 = v48 == (unsigned char *)&dword_0 + 2;
      }
      else
      {
        uint64_t v47 = a2;
        BOOL v49 = 0;
      }
      os_log_type_t v70 = &type metadata for Bool;
      LOBYTE(v69) = v49;
      char v50 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v68 = v44;
      sub_2542F8(&v69, 0xD000000000000015, 0x80000000002A4E20, v50, &v71);
      unint64_t v51 = v68;
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)&v71, &qword_30D040);
      id v52 = sub_1EE848();
      os_log_type_t v70 = &type metadata for String;
      *(void *)&long long v69 = v52;
      *((void *)&v69 + 1) = v53;
      char v54 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v68 = v51;
      sub_2542F8(&v69, 0x7473696C79616C70, 0xED0000656C746954, v54, &v71);
      unint64_t v55 = v68;
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)&v71, &qword_30D040);
      uint64_t v56 = *(void *)(v7 + 120);
      uint64_t v72 = sub_1983C(0, &qword_30E8B0);
      uint64_t v73 = &off_2FB128;
      *(void *)&long long v71 = a3;
      uint64_t v57 = *(void *)(v56 + 40);
      uint64_t v58 = *(void *)(v56 + 48);
      __chkstk_darwin(v72);
      *(&v66 - 10) = v57;
      *(&v66 - 9) = v58;
      *(&v66 - 8) = 0xD000000000000015;
      *(&v66 - 7) = 0x80000000002A3530;
      uint64_t v61 = v59;
      unint64_t v62 = v55;
      uint64_t v63 = v47;
      uint64_t v64 = &v71;
      uint64_t v65 = 0;
      id v60 = a3;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v67, v66, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v57, v58, 0xD000000000000015, 0x80000000002A3530, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v66 - 12));
      swift_bridgeObjectRelease();
LABEL_24:
      sub_23A44((uint64_t)&v71, &qword_30D018);
      return;
    }
LABEL_19:
    uint64_t v26 = 0;
    unint64_t v25 = 0xE000000000000000;
    goto LABEL_20;
  }
  __break(1u);
}

uint64_t sub_DFBC4(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v23 = a8;
  unint64_t v15 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  if (a2 == 0x657449616964656DLL && a3 == 0xEA0000000000736DLL || (sub_2995D0() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return sub_E0CAC(a1, a5, a4, v23, a9);
  }
  else if (a2 == 0xD000000000000010 && a3 == 0x80000000002A2710 || (sub_2995D0() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return sub_E1CCC(a1, a5, a4, v23, a9);
  }
  else
  {
    uint64_t v17 = *(void *)(v9 + 120);
    uint64_t v25 = sub_1983C(0, &qword_30E8B0);
    uint64_t v26 = &off_2FB128;
    v24[0] = a5;
    uint64_t v18 = *(void *)(v17 + 40);
    uint64_t v19 = *(void *)(v17 + 48);
    __chkstk_darwin(v25);
    v22[2] = v18;
    v22[3] = v19;
    v22[4] = 0xD000000000000019;
    v22[5] = 0x80000000002A3200;
    v22[6] = v20;
    v22[7] = v15;
    v22[8] = a1;
    v22[9] = v24;
    v22[10] = 0;
    id v21 = a5;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v23, a9, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v18, v19, 0xD000000000000019, 0x80000000002A3200, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v22);
    swift_bridgeObjectRelease();
    return sub_23A44((uint64_t)v24, &qword_30D018);
  }
}

uint64_t sub_DFE60(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  unint64_t v10 = *(void **)(v5 + 120);
  unint64_t v11 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  v27[3] = sub_1983C(0, &qword_30E8B0);
  v27[4] = &off_2FB128;
  v27[0] = a2;
  uint64_t v12 = v10[4];
  uint64_t v13 = v10[5];
  uint64_t v14 = v10[6];
  uint64_t v18 = v13;
  uint64_t v19 = v14;
  unint64_t v20 = 0xD000000000000018;
  unint64_t v21 = 0x80000000002A3510;
  uint64_t v22 = v12;
  unint64_t v23 = v11;
  uint64_t v24 = a1;
  uint64_t v25 = v27;
  uint64_t v26 = 0;
  id v15 = a2;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v13, v14, 0xD000000000000018, 0x80000000002A3510, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v17);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v27, &qword_30D018);
}

uint64_t sub_DFF90(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6)
{
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  *(void *)(inited + 32) = 0x6574656D61726170;
  *(void *)(inited + 40) = 0xE900000000000072;
  *(void *)(inited + 72) = &type metadata for String;
  *(void *)(inited + 48) = a2;
  *(void *)(inited + 56) = a3;
  swift_bridgeObjectRetain();
  unint64_t v14 = sub_9A184(inited);
  id v15 = *(void **)(v6 + 120);
  v31[3] = sub_1983C(0, &qword_30E8B0);
  v31[4] = &off_2FB128;
  uint64_t v16 = v15[4];
  uint64_t v17 = v15[5];
  uint64_t v18 = v15[6];
  uint64_t v22 = v17;
  uint64_t v23 = v18;
  unint64_t v24 = 0xD00000000000001ALL;
  unint64_t v25 = 0x80000000002A34D0;
  uint64_t v26 = v16;
  unint64_t v27 = v14;
  uint64_t v28 = a1;
  uint64_t v29 = v31;
  uint64_t v30 = 0;
  v31[0] = a4;
  id v19 = a4;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a5, a6, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v17, v18, 0xD00000000000001ALL, 0x80000000002A34D0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v21);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v31, &qword_30D018);
}

uint64_t sub_E0118(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v7 = v6;
  uint64_t v39 = a2;
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29AF30;
  *(void *)(inited + 32) = 0xD000000000000010;
  *(void *)(inited + 40) = 0x80000000002A2710;
  sub_1EEA60();
  id v14 = (id)INMediaDestinationTypeGetName();
  uint64_t v40 = v7;
  uint64_t v41 = a5;
  uint64_t v43 = a6;
  if (v14)
  {
    id v15 = v14;
    uint64_t v16 = sub_2989C0();
    unint64_t v18 = v17;

    id v19 = (uint64_t *)(inited + 48);
    *(void *)(inited + 72) = &type metadata for String;
    if (v18)
    {
      *id v19 = v16;
      goto LABEL_6;
    }
  }
  else
  {
    id v19 = (uint64_t *)(inited + 48);
    *(void *)(inited + 72) = &type metadata for String;
  }
  *id v19 = 0;
  unint64_t v18 = 0xE000000000000000;
LABEL_6:
  *(void *)(inited + 56) = v18;
  *(void *)(inited + 80) = 0xD000000000000015;
  *(void *)(inited + 88) = 0x80000000002A4E20;
  id v20 = [a4 mediaDestination];
  uint64_t v42 = a1;
  if (v20)
  {
    unint64_t v21 = v20;
    uint64_t v22 = (char *)[v20 mediaDestinationType];

    BOOL v23 = v22 == (unsigned char *)&dword_0 + 2;
  }
  else
  {
    BOOL v23 = 0;
  }
  *(unsigned char *)(inited + 96) = v23;
  *(void *)(inited + 120) = &type metadata for Bool;
  *(void *)(inited + 128) = 0xD000000000000014;
  *(void *)(inited + 136) = 0x80000000002A4E40;
  id v24 = [a4 mediaDestination];
  if (v24)
  {
    unint64_t v25 = v24;
    uint64_t v26 = (char *)[v24 mediaDestinationType];

    BOOL v27 = v26 == (unsigned char *)&dword_0 + 1;
  }
  else
  {
    BOOL v27 = 0;
  }
  uint64_t v28 = v40;
  uint64_t v29 = v41;
  uint64_t v30 = v39;
  *(unsigned char *)(inited + 144) = v27;
  *(void *)(inited + 168) = &type metadata for Bool;
  *(void *)(inited + 176) = 0x6574656D61726170;
  *(void *)(inited + 216) = &type metadata for String;
  *(void *)(inited + 184) = 0xE900000000000072;
  *(void *)(inited + 192) = v30;
  *(void *)(inited + 200) = a3;
  swift_bridgeObjectRetain();
  unint64_t v31 = sub_9A184(inited);
  uint64_t v32 = *(void *)(v28 + 120);
  uint64_t v45 = sub_1983C(0, &qword_30E8B0);
  id v46 = &off_2FB128;
  v44[0] = a4;
  uint64_t v33 = *(void *)(v32 + 40);
  uint64_t v34 = *(void *)(v32 + 48);
  __chkstk_darwin(v45);
  v38[2] = v33;
  v38[3] = v34;
  v38[4] = 0xD000000000000012;
  v38[5] = 0x80000000002A34F0;
  v38[6] = v35;
  v38[7] = v31;
  v38[8] = v42;
  v38[9] = v44;
  v38[10] = 0;
  id v36 = a4;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v29, v43, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v33, v34, 0xD000000000000012, 0x80000000002A34F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v38);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v44, &qword_30D018);
}

void sub_E0448(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v14 = sub_71D4(&qword_30D5E0);
  uint64_t v15 = __chkstk_darwin(v14 - 8);
  os_log_type_t v74 = (char *)&v70 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  unint64_t v18 = (char *)&v70 - v17;
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  *(void *)(inited + 32) = 7368801;
  *(void *)(inited + 40) = 0xE300000000000000;
  *(void *)(inited + 72) = sub_297700();
  *(void *)(inited + 48) = a1;
  swift_retain();
  unint64_t v81 = sub_9A184(inited);
  if ((a2 != 0xD000000000000010 || a3 != 0x80000000002A2710) && (sub_2995D0() & 1) == 0)
  {
    swift_bridgeObjectRelease();
    sub_139D84(a1, a2, a3, a4, (uint64_t)a5, a6, a7);
    return;
  }
  uint64_t v71 = a1;
  uint64_t v72 = a6;
  uint64_t v73 = a7;
  id v20 = [a4 itemToConfirm];
  sub_299320();
  swift_unknownObjectRelease();
  uint64_t v21 = sub_2988A0();
  int v22 = swift_dynamicCast();
  uint64_t v23 = *(void *)(v21 - 8);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v23 + 56))(v18, v22 ^ 1u, 1, v21);
  sub_1EE83C();
  uint64_t v25 = v24;
  uint64_t v27 = v26;
  sub_1EEC5C();
  if (v25 == v29 && v27 == v28)
  {
    swift_bridgeObjectRelease();
LABEL_8:
    uint64_t v70 = 0;
    uint64_t v31 = 0;
    goto LABEL_11;
  }
  char v30 = sub_2995D0();
  swift_bridgeObjectRelease();
  if (v30) {
    goto LABEL_8;
  }
  sub_1EEC5C();
  uint64_t v70 = v32;
  uint64_t v31 = v33;
LABEL_11:
  id v34 = objc_msgSend(a5, "mediaItems", v70);
  if (!v34) {
    goto LABEL_23;
  }
  uint64_t v35 = v34;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v36 = sub_298B50();

  if (v36 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v42 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (v42) {
      goto LABEL_14;
    }
LABEL_22:
    swift_bridgeObjectRelease();
    goto LABEL_23;
  }
  if (!*(void *)((char *)&dword_10 + (v36 & 0xFFFFFFFFFFFFFF8))) {
    goto LABEL_22;
  }
LABEL_14:
  if ((v36 & 0xC000000000000001) != 0)
  {
    id v37 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v36 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return;
    }
    id v37 = *(id *)(v36 + 32);
  }
  uint64_t v38 = v37;
  swift_bridgeObjectRelease();
  uint64_t v39 = (char *)[v38 type];

  if (v39 == (unsigned char *)&dword_0 + 2)
  {
    unint64_t v40 = 0xE500000000000000;
    uint64_t v41 = 0x6D75626C61;
    goto LABEL_24;
  }
  if (v39 == (unsigned char *)&dword_4 + 2)
  {
    unint64_t v40 = 0xE700000000000000;
    uint64_t v41 = 0x74736163646F70;
    goto LABEL_24;
  }
LABEL_23:
  uint64_t v41 = 0;
  unint64_t v40 = 0xE000000000000000;
LABEL_24:
  unint64_t v77 = &type metadata for String;
  *(void *)&long long v76 = v41;
  *((void *)&v76 + 1) = v40;
  sub_26608(&v76, v80);
  unint64_t v43 = v81;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v79 = v43;
  sub_482F0(v80, 0x707954616964656DLL, 0xE900000000000065, isUniquelyReferenced_nonNull_native);
  unint64_t v45 = v79;
  swift_bridgeObjectRelease();
  unint64_t v77 = &type metadata for String;
  *(void *)&long long v76 = v25;
  *((void *)&v76 + 1) = v27;
  sub_26608(&v76, v80);
  char v46 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v79 = v45;
  sub_482F0(v80, 0x656C746974, 0xE500000000000000, v46);
  unint64_t v47 = v79;
  unint64_t v81 = v79;
  swift_bridgeObjectRelease();
  if (v31)
  {
    unint64_t v77 = &type metadata for String;
    *(void *)&long long v76 = v70;
    *((void *)&v76 + 1) = v31;
    sub_26608(&v76, v80);
    char v48 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v79 = v47;
    sub_482F0(v80, 0x747369747261, 0xE600000000000000, v48);
    unint64_t v81 = v79;
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_23846C(0x747369747261, 0xE600000000000000, &v76);
    sub_23A44((uint64_t)&v76, &qword_30D040);
  }
  uint64_t v49 = (uint64_t)v74;
  id v50 = [a5 mediaItems];
  if (v50)
  {
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v51 = sub_298B50();

    if (v51 >> 62)
    {
      swift_bridgeObjectRetain();
      id v50 = (id)sub_2994C0();
      swift_bridgeObjectRelease();
    }
    else
    {
      id v50 = *(id *)((char *)&dword_10 + (v51 & 0xFFFFFFFFFFFFFF8));
    }
    swift_bridgeObjectRelease();
  }
  unint64_t v77 = &type metadata for Int;
  *(void *)&long long v76 = v50;
  sub_26608(&v76, v80);
  unint64_t v52 = v81;
  char v53 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v79 = v52;
  sub_482F0(v80, 0x657449616964656DLL, 0xEE00746E756F436DLL, v53);
  unint64_t v81 = v79;
  swift_bridgeObjectRelease();
  sub_8A4B8((uint64_t)v18, v49);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v23 + 48))(v49, 1, v21) == 1)
  {
    sub_23A44(v49, &qword_30D5E0);
    uint64_t v54 = 0;
    unint64_t v77 = &type metadata for String;
LABEL_35:
    unint64_t v56 = 0xE000000000000000;
    goto LABEL_36;
  }
  uint64_t v54 = sub_298860();
  unint64_t v56 = v55;
  (*(void (**)(uint64_t, uint64_t))(v23 + 8))(v49, v21);
  unint64_t v77 = &type metadata for String;
  if (!v56)
  {
    uint64_t v54 = 0;
    goto LABEL_35;
  }
LABEL_36:
  *(void *)&long long v76 = v54;
  *((void *)&v76 + 1) = v56;
  sub_26608(&v76, v80);
  unint64_t v57 = v81;
  char v58 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v79 = v57;
  sub_482F0(v80, 0x7473696C79616C70, 0xED0000656C746954, v58);
  unint64_t v59 = v79;
  swift_bridgeObjectRelease();
  uint64_t v60 = *(void *)(v75 + 120);
  unint64_t v77 = (void *)sub_1983C(0, &qword_30E8B0);
  uint64_t v78 = &off_2FB128;
  *(void *)&long long v76 = a5;
  uint64_t v61 = *(void *)(v60 + 40);
  uint64_t v62 = *(void *)(v60 + 48);
  __chkstk_darwin(v77);
  *(&v70 - 10) = v61;
  *(&v70 - 9) = v62;
  *(&v70 - 8) = 0xD000000000000017;
  *(&v70 - 7) = 0x80000000002A4E00;
  uint64_t v65 = v63;
  unint64_t v66 = v59;
  uint64_t v67 = v71;
  unint64_t v68 = &v76;
  uint64_t v69 = 0;
  id v64 = a5;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v72, v73, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v61, v62, 0xD000000000000017, 0x80000000002A4E00, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v70 - 12));
  swift_bridgeObjectRelease();
  sub_23A44((uint64_t)&v76, &qword_30D018);
  sub_23A44((uint64_t)v18, &qword_30D5E0);
}

uint64_t sub_E0CAC(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  swift_bridgeObjectRelease();
  id v12 = [a3 unsupportedReason];
  switch((unint64_t)v12)
  {
    case 1uLL:
      uint64_t v13 = *(void *)(v6 + 120);
      unint64_t v14 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      v143 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v15 = a5;
      uint64_t v16 = *(void *)(v13 + 16);
      uint64_t v17 = *(void *)(v13 + 24);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v16;
      uint64_t v132 = v17;
      unint64_t v133 = 0xD000000000000022;
      unint64_t v134 = 0x80000000002A3470;
      uint64_t v135 = v18;
      unint64_t v136 = v14;
      v137 = (void *)a1;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v19 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v15, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v16, v17, 0xD000000000000022, 0x80000000002A3470, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    case 2uLL:
      uint64_t v30 = *(void *)(v6 + 120);
      unint64_t v31 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      v143 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v32 = a5;
      uint64_t v33 = *(void *)(v30 + 16);
      uint64_t v34 = *(void *)(v30 + 24);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v33;
      uint64_t v132 = v34;
      unint64_t v133 = 0xD000000000000029;
      unint64_t v134 = 0x80000000002A3410;
      uint64_t v135 = v35;
      unint64_t v136 = v31;
      v137 = (void *)a1;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v36 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v32, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v33, v34, 0xD000000000000029, 0x80000000002A3410, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    case 3uLL:
      v143 = (uint64_t *)a1;
      id v37 = [a2 mediaItems];
      if (!v37) {
        goto LABEL_36;
      }
      uint64_t v38 = v37;
      sub_1983C(0, (unint64_t *)&qword_30D4E8);
      unint64_t v39 = sub_298B50();

      if (v39 >> 62)
      {
        swift_bridgeObjectRetain();
        uint64_t v110 = sub_2994C0();
        swift_bridgeObjectRelease();
        if (v110) {
          goto LABEL_10;
        }
LABEL_35:
        swift_bridgeObjectRelease();
        goto LABEL_36;
      }
      if (!*(void *)((char *)&dword_10 + (v39 & 0xFFFFFFFFFFFFFF8))) {
        goto LABEL_35;
      }
LABEL_10:
      if ((v39 & 0xC000000000000001) != 0)
      {
        id v40 = (id)sub_2993E0();
      }
      else
      {
        if (!*(void *)((char *)&dword_10 + (v39 & 0xFFFFFFFFFFFFFF8)))
        {
          __break(1u);
          goto LABEL_48;
        }
        id v40 = *(id *)(v39 + 32);
      }
      uint64_t v41 = v40;
      swift_bridgeObjectRelease();
      [v41 type];

LABEL_36:
      id v111 = (id)INMediaItemTypeGetName();
      if (v111)
      {
        uint64_t v112 = v111;
        uint64_t v113 = sub_2989C0();
        unint64_t v115 = v114;
      }
      else
      {
        uint64_t v113 = 0;
        unint64_t v115 = 0xE000000000000000;
      }
      sub_1EED98();
      uint64_t v141 = a5;
      if (v116)
      {
        swift_bridgeObjectRelease();
        id v117 = (id)INMediaItemTypeGetName();
        if (v117) {
          goto LABEL_44;
        }
        __break(1u);
      }
      sub_1EEDA8();
      if ((v118 & 1) == 0) {
        goto LABEL_45;
      }
      swift_bridgeObjectRelease();
      id v117 = (id)INMediaItemTypeGetName();
      if (!v117)
      {
LABEL_48:
        __break(1u);
        JUMPOUT(0xE1CACLL);
      }
LABEL_44:
      uint64_t v113 = sub_2989C0();
      unint64_t v115 = v119;

LABEL_45:
      sub_71D4(&qword_313930);
      uint64_t inited = swift_initStackObject();
      *(_OWORD *)(inited + 16) = xmmword_29A440;
      *(void *)(inited + 32) = 0x707954616964656DLL;
      *(void *)(inited + 40) = 0xE900000000000065;
      *(void *)(inited + 72) = &type metadata for String;
      *(void *)(inited + 48) = v113;
      *(void *)(inited + 56) = v115;
      unint64_t v121 = sub_9A184(inited);
      uint64_t v122 = *(void *)(v6 + 120);
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v123 = *(void *)(v122 + 40);
      uint64_t v124 = *(void *)(v122 + 48);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v123;
      uint64_t v132 = v124;
      unint64_t v133 = 0xD000000000000029;
      unint64_t v134 = 0x80000000002A33E0;
      uint64_t v135 = v125;
      unint64_t v136 = v121;
      v137 = v143;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v126 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v141, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v123, v124, 0xD000000000000029, 0x80000000002A33E0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      swift_bridgeObjectRelease();
      return sub_23A44((uint64_t)&v144, &qword_30D018);
    case 4uLL:
      v143 = (uint64_t *)a1;
      uint64_t v42 = *(void *)(v6 + 120);
      unint64_t v43 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      BOOL v142 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v44 = *(void *)(v42 + 16);
      uint64_t v45 = *(void *)(v42 + 24);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v44;
      uint64_t v132 = v45;
      unint64_t v133 = 0xD00000000000002CLL;
      unint64_t v134 = 0x80000000002A34A0;
      uint64_t v135 = v46;
      unint64_t v136 = v43;
      v137 = v143;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v47 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v44, v45, 0xD00000000000002CLL, 0x80000000002A34A0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    case 5uLL:
      unint64_t v48 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      id v49 = a2;
      sub_60CA0(v48, a1, (uint64_t)&v144, a4, a5);
      swift_bridgeObjectRelease();
      return sub_23A44((uint64_t)&v144, &qword_30D018);
    case 6uLL:
      uint64_t v50 = *(void *)(v6 + 120);
      unint64_t v51 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      v143 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v52 = a5;
      uint64_t v53 = *(void *)(v50 + 40);
      uint64_t v54 = *(void *)(v50 + 48);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v53;
      uint64_t v132 = v54;
      unint64_t v133 = 0xD000000000000026;
      unint64_t v134 = 0x80000000002A3440;
      uint64_t v135 = v55;
      unint64_t v136 = v51;
      v137 = (void *)a1;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v56 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v52, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v53, v54, 0xD000000000000026, 0x80000000002A3440, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    case 7uLL:
      uint64_t v57 = *(void *)(v6 + 120);
      unint64_t v58 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      v143 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v59 = a5;
      uint64_t v60 = *(void *)(v57 + 16);
      uint64_t v61 = *(void *)(v57 + 24);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v60;
      uint64_t v132 = v61;
      unint64_t v133 = 0xD000000000000027;
      unint64_t v134 = 0x80000000002A33B0;
      uint64_t v135 = v62;
      unint64_t v136 = v58;
      v137 = (void *)a1;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v63 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v59, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v60, v61, 0xD000000000000027, 0x80000000002A33B0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    case 8uLL:
      uint64_t v64 = *(void *)(v6 + 120);
      unint64_t v65 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      v143 = &v140;
      *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
      uint64_t v146 = &off_2FB128;
      *(void *)&long long v144 = a2;
      uint64_t v66 = a5;
      uint64_t v67 = *(void *)(v64 + 16);
      uint64_t v68 = *(void *)(v64 + 24);
      __chkstk_darwin(*((void *)&v145 + 1));
      uint64_t v131 = v67;
      uint64_t v132 = v68;
      unint64_t v133 = 0xD000000000000026;
      unint64_t v134 = 0x80000000002A3380;
      uint64_t v135 = v69;
      unint64_t v136 = v65;
      v137 = (void *)a1;
      char v138 = &v144;
      uint64_t v139 = 0;
      id v70 = a2;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v66, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v67, v68, 0xD000000000000026, 0x80000000002A3380, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_19;
    default:
      if ((id)_INAddMediaMediaItemUnsupportedReasonAlreadyInLibrary == v12)
      {
        sub_71D4(&qword_313930);
        v143 = (uint64_t *)a1;
        uint64_t v20 = swift_initStackObject();
        *(_OWORD *)(v20 + 16) = xmmword_29BFD0;
        *(void *)(v20 + 32) = 0x656C746974;
        *(void *)(v20 + 40) = 0xE500000000000000;
        sub_1EE83C();
        *(void *)(v20 + 48) = v21;
        *(void *)(v20 + 56) = v22;
        *(void *)(v20 + 72) = &type metadata for String;
        *(void *)(v20 + 80) = 0x736163646F507369;
        *(void *)(v20 + 88) = 0xE900000000000074;
        *(void *)(v20 + 120) = &type metadata for Bool;
        *(unsigned char *)(v20 + 96) = 0;
        unint64_t v23 = sub_9A184(v20);
        uint64_t v24 = *(void *)(v6 + 120);
        BOOL v142 = &v140;
        *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
        uint64_t v146 = &off_2FB128;
        *(void *)&long long v144 = a2;
        uint64_t v25 = a5;
        uint64_t v26 = *(void *)(v24 + 40);
        uint64_t v27 = *(void *)(v24 + 48);
        __chkstk_darwin(*((void *)&v145 + 1));
        uint64_t v131 = v26;
        uint64_t v132 = v27;
        unint64_t v133 = 0xD000000000000025;
        unint64_t v134 = 0x80000000002A4F10;
        uint64_t v135 = v28;
        unint64_t v136 = v23;
        v137 = v143;
        char v138 = &v144;
        uint64_t v139 = 0;
        id v29 = a2;
        uint64_t v128 = 0xD000000000000025;
        uint64_t v129 = 0x80000000002A4F10;
        uint64_t v127 = v27;
LABEL_5:
        sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v25, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v26, v127, v128, v129, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
LABEL_19:
        swift_bridgeObjectRelease();
        return sub_23A44((uint64_t)&v144, &qword_30D018);
      }
      if ((id)_INAddMediaMediaItemUnsupportedReasonCloudSyncOff == v12)
      {
        uint64_t v72 = *(void *)(v6 + 120);
        unint64_t v73 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        v143 = &v140;
        *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
        uint64_t v146 = &off_2FB128;
        *(void *)&long long v144 = a2;
        uint64_t v74 = a5;
        uint64_t v75 = *(void *)(v72 + 40);
        uint64_t v76 = *(void *)(v72 + 48);
        __chkstk_darwin(*((void *)&v145 + 1));
        uint64_t v131 = v75;
        uint64_t v132 = v76;
        unint64_t v133 = 0xD000000000000021;
        unint64_t v134 = 0x80000000002A4EE0;
        uint64_t v135 = v77;
        unint64_t v136 = v73;
        v137 = (void *)a1;
        char v138 = &v144;
        uint64_t v139 = 0;
        id v78 = a2;
        sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v74, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v75, v76, 0xD000000000000021, 0x80000000002A4EE0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
        goto LABEL_19;
      }
      if ((id)_INAddMediaMediaItemUnsupportedReasonAppDoesntSupportIntent == v12)
      {
        uint64_t v79 = *(void *)(v6 + 120);
        unint64_t v80 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        v143 = &v140;
        *((void *)&v145 + 1) = sub_1983C(0, &qword_30E8B0);
        uint64_t v146 = &off_2FB128;
        *(void *)&long long v144 = a2;
        uint64_t v81 = a5;
        uint64_t v82 = *(void *)(v79 + 16);
        uint64_t v83 = *(void *)(v79 + 24);
        __chkstk_darwin(*((void *)&v145 + 1));
        uint64_t v131 = v82;
        uint64_t v132 = v83;
        unint64_t v133 = 0xD00000000000002BLL;
        unint64_t v134 = 0x80000000002A32C0;
        uint64_t v135 = v84;
        unint64_t v136 = v80;
        v137 = (void *)a1;
        char v138 = &v144;
        uint64_t v139 = 0;
        id v85 = a2;
        sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v81, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v82, v83, 0xD00000000000002BLL, 0x80000000002A32C0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
        goto LABEL_19;
      }
      if ((id)_INAddMediaMediaItemUnsupportedReasonAppNotAvailable == v12)
      {
        unint64_t v86 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        uint64_t v146 = 0;
        long long v144 = 0u;
        long long v145 = 0u;
        uint64_t v87 = __chkstk_darwin(v86);
        uint64_t v131 = v88;
        uint64_t v132 = v89;
        uint64_t v90 = 0xD000000000000024;
        uint64_t v91 = 0x80000000002A3350;
        unint64_t v133 = 0xD000000000000024;
        unint64_t v134 = 0x80000000002A3350;
        uint64_t v135 = v92;
        unint64_t v136 = v87;
        v137 = (void *)a1;
        char v138 = &v144;
        uint64_t v139 = 0;
      }
      else
      {
        if ((id)_INAddMediaMediaItemUnsupportedReasonAppNotConfigured != v12)
        {
          uint64_t v96 = *(void *)(v6 + 120);
          if ((id)_INAddMediaMediaItemUnsupportedReasonAppAccountFailure != v12)
          {
            sub_71D4(&qword_313930);
            uint64_t v102 = swift_initStackObject();
            *(_OWORD *)(v102 + 16) = xmmword_29A440;
            *(void *)(v102 + 32) = 0x736163646F507369;
            *(void *)(v102 + 40) = 0xE900000000000074;
            v143 = (uint64_t *)a1;
            uint64_t v103 = sub_1983C(0, &qword_30E8B0);
            sub_E236C();
            BOOL v104 = sub_2966F0() == 6;
            *(void *)(v102 + 72) = &type metadata for Bool;
            *(unsigned char *)(v102 + 48) = v104;
            unint64_t v105 = sub_9A184(v102);
            BOOL v142 = &v140;
            *((void *)&v145 + 1) = v103;
            uint64_t v146 = &off_2FB128;
            *(void *)&long long v144 = a2;
            uint64_t v106 = *(void *)(v96 + 24);
            uint64_t v25 = a5;
            uint64_t v26 = *(void *)(v96 + 16);
            uint64_t v107 = __chkstk_darwin(v105);
            uint64_t v131 = v26;
            uint64_t v132 = v106;
            unint64_t v133 = 0xD00000000000001CLL;
            unint64_t v134 = 0x80000000002A32A0;
            uint64_t v135 = v108;
            unint64_t v136 = v107;
            v137 = v143;
            char v138 = &v144;
            uint64_t v139 = 0;
            id v109 = a2;
            uint64_t v128 = 0xD00000000000001CLL;
            uint64_t v129 = 0x80000000002A32A0;
            uint64_t v127 = v106;
            goto LABEL_5;
          }
          unint64_t v97 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
          uint64_t v146 = 0;
          long long v144 = 0u;
          long long v145 = 0u;
          uint64_t v98 = __chkstk_darwin(v97);
          uint64_t v131 = v99;
          uint64_t v132 = v100;
          unint64_t v133 = 0xD000000000000026;
          unint64_t v134 = 0x80000000002A32F0;
          uint64_t v135 = v101;
          unint64_t v136 = v98;
          v137 = (void *)a1;
          char v138 = &v144;
          uint64_t v139 = 0;
          sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v99, v100, 0xD000000000000026, 0x80000000002A32F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
LABEL_30:
          sub_23A44((uint64_t)&v144, &qword_30D018);
          return swift_bridgeObjectRelease();
        }
        unint64_t v93 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        uint64_t v146 = 0;
        long long v144 = 0u;
        long long v145 = 0u;
        uint64_t v94 = __chkstk_darwin(v93);
        uint64_t v131 = v88;
        uint64_t v132 = v89;
        uint64_t v90 = 0xD000000000000025;
        uint64_t v91 = 0x80000000002A3320;
        unint64_t v133 = 0xD000000000000025;
        unint64_t v134 = 0x80000000002A3320;
        uint64_t v135 = v95;
        unint64_t v136 = v94;
        v137 = (void *)a1;
        char v138 = &v144;
        uint64_t v139 = 0;
      }
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v88, v89, v90, v91, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v130);
      goto LABEL_30;
  }
}

uint64_t sub_E1CCC(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  swift_bridgeObjectRelease();
  id v12 = (char *)[a3 unsupportedReason];
  if (v12 == (unsigned char *)&dword_0 + 2)
  {
    sub_71D4(&qword_313930);
    uint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = xmmword_29A440;
    strcpy((char *)(inited + 32), "playlistName");
    *(unsigned char *)(inited + 45) = 0;
    *(_WORD *)(inited + 46) = -5120;
    id v23 = sub_1EE848();
    *(void *)(inited + 72) = &type metadata for String;
    *(void *)(inited + 48) = v23;
    *(void *)(inited + 56) = v24;
    unint64_t v25 = sub_9A184(inited);
    uint64_t v26 = *(void *)(v6 + 120);
    uint64_t v61 = &v60;
    uint64_t v65 = sub_1983C(0, &qword_30E8B0);
    uint64_t v66 = &off_2FB128;
    v64[0] = a2;
    uint64_t v27 = *(void *)(v26 + 40);
    uint64_t v28 = *(void *)(v26 + 48);
    __chkstk_darwin(v65);
    uint64_t v51 = v27;
    uint64_t v52 = v28;
    unint64_t v53 = 0xD00000000000002ELL;
    unint64_t v54 = 0x80000000002A4E80;
    uint64_t v55 = v29;
    unint64_t v56 = v25;
    uint64_t v57 = a1;
    unint64_t v58 = v64;
    uint64_t v59 = 0;
    id v30 = a2;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v27, v28, 0xD00000000000002ELL, 0x80000000002A4E80, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v50);
    goto LABEL_5;
  }
  if (v12 == (unsigned char *)&dword_0 + 1)
  {
    sub_71D4(&qword_313930);
    uint64_t v13 = swift_initStackObject();
    *(_OWORD *)(v13 + 16) = xmmword_29A440;
    strcpy((char *)(v13 + 32), "playlistName");
    *(unsigned char *)(v13 + 45) = 0;
    *(_WORD *)(v13 + 46) = -5120;
    id v14 = sub_1EE848();
    *(void *)(v13 + 72) = &type metadata for String;
    *(void *)(v13 + 48) = v14;
    *(void *)(v13 + 56) = v15;
    unint64_t v16 = sub_9A184(v13);
    uint64_t v17 = *(void *)(v6 + 120);
    uint64_t v61 = &v60;
    uint64_t v65 = sub_1983C(0, &qword_30E8B0);
    uint64_t v66 = &off_2FB128;
    v64[0] = a2;
    uint64_t v18 = *(void *)(v17 + 40);
    uint64_t v19 = *(void *)(v17 + 48);
    __chkstk_darwin(v65);
    uint64_t v51 = v18;
    uint64_t v52 = v19;
    unint64_t v53 = 0xD00000000000002FLL;
    unint64_t v54 = 0x80000000002A4EB0;
    uint64_t v55 = v20;
    unint64_t v56 = v16;
    uint64_t v57 = a1;
    unint64_t v58 = v64;
    uint64_t v59 = 0;
    id v21 = a2;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v18, v19, 0xD00000000000002FLL, 0x80000000002A4EB0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v50);
LABEL_5:
    swift_bridgeObjectRelease();
    return sub_23A44((uint64_t)v64, &qword_30D018);
  }
  sub_71D4(&qword_313930);
  uint64_t v31 = swift_initStackObject();
  *(_OWORD *)(v31 + 16) = xmmword_29C7B0;
  *(void *)(v31 + 32) = 0xD000000000000015;
  *(void *)(v31 + 40) = 0x80000000002A4E20;
  id v32 = [a2 mediaDestination];
  uint64_t v62 = a1;
  uint64_t v63 = a5;
  if (v32)
  {
    uint64_t v33 = v32;
    uint64_t v34 = (char *)[v32 mediaDestinationType];

    BOOL v35 = v34 == (unsigned char *)&dword_0 + 2;
  }
  else
  {
    BOOL v35 = 0;
  }
  *(unsigned char *)(v31 + 48) = v35;
  *(void *)(v31 + 72) = &type metadata for Bool;
  *(void *)(v31 + 80) = 0xD000000000000014;
  *(void *)(v31 + 88) = 0x80000000002A4E40;
  id v36 = [a2 mediaDestination];
  if (v36)
  {
    id v37 = v36;
    uint64_t v38 = (char *)[v36 mediaDestinationType];

    BOOL v39 = v38 == (unsigned char *)&dword_0 + 1;
  }
  else
  {
    BOOL v39 = 0;
  }
  *(unsigned char *)(v31 + 96) = v39;
  *(void *)(v31 + 120) = &type metadata for Bool;
  *(void *)(v31 + 128) = 0x646E756F72477369;
  *(void *)(v31 + 136) = 0xEB00000000676E69;
  v64[0] = a2;
  uint64_t v40 = sub_1983C(0, &qword_30E8B0);
  sub_E236C();
  BOOL v41 = sub_296700();
  *(void *)(v31 + 168) = &type metadata for Bool;
  *(unsigned char *)(v31 + 144) = v41;
  unint64_t v42 = sub_9A184(v31);
  uint64_t v43 = *(void *)(v6 + 120);
  uint64_t v65 = v40;
  uint64_t v66 = &off_2FB128;
  v64[0] = a2;
  uint64_t v44 = *(void *)(v43 + 40);
  uint64_t v45 = *(void *)(v43 + 48);
  uint64_t v46 = __chkstk_darwin(v42);
  uint64_t v51 = v44;
  uint64_t v52 = v45;
  unint64_t v53 = 0xD00000000000001BLL;
  unint64_t v54 = 0x80000000002A4E60;
  uint64_t v55 = v47;
  unint64_t v56 = v46;
  uint64_t v57 = v62;
  unint64_t v58 = v64;
  uint64_t v59 = 0;
  id v48 = a2;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, v63, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v44, v45, 0xD00000000000001BLL, 0x80000000002A4E60, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v50);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v64, &qword_30D018);
}

uint64_t sub_E2238(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = *(void **)(v5 + 120);
  uint64_t v7 = v6[4];
  uint64_t v8 = v6[5];
  uint64_t v9 = v6[6];
  uint64_t v12 = v8;
  uint64_t v13 = v9;
  unint64_t v14 = 0xD00000000000001DLL;
  unint64_t v15 = 0x80000000002A4DE0;
  uint64_t v16 = v7;
  uint64_t v17 = a1;
  uint64_t v18 = a2;
  uint64_t v19 = a3;
  uint64_t v20 = 0;
  return sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v8, v9, 0xD00000000000001DLL, 0x80000000002A4DE0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v11);
}

uint64_t type metadata accessor for AddMediaDialogProvider()
{
  uint64_t result = qword_30FBB8;
  if (!qword_30FBB8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_E231C()
{
  return swift_initClassMetadata2();
}

unint64_t sub_E236C()
{
  unint64_t result = qword_30FE10;
  if (!qword_30FE10)
  {
    sub_1983C(255, &qword_30E8B0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30FE10);
  }
  return result;
}

void sub_E23D4(uint64_t a1, id a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = v4;
  id v10 = [a2 mediaItems];
  uint64_t v36 = a4;
  uint64_t v37 = a3;
  if (!v10) {
    goto LABEL_13;
  }
  unint64_t v11 = v10;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v12 = sub_298B50();

  if (!(v12 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v12 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_4;
    }
LABEL_12:
    swift_bridgeObjectRelease();
    goto LABEL_13;
  }
  swift_bridgeObjectRetain();
  uint64_t v18 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v18) {
    goto LABEL_12;
  }
LABEL_4:
  if ((v12 & 0xC000000000000001) != 0)
  {
    id v13 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v12 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return;
    }
    id v13 = *(id *)(v12 + 32);
  }
  unint64_t v14 = v13;
  swift_bridgeObjectRelease();
  unint64_t v15 = (char *)objc_msgSend(v14, "type", v36, v37);

  if (v15 == (unsigned char *)&dword_0 + 2)
  {
    unint64_t v16 = 0xE500000000000000;
    uint64_t v17 = 0x6D75626C61;
    goto LABEL_14;
  }
  if (v15 != (unsigned char *)&dword_4 + 2)
  {
LABEL_13:
    uint64_t v17 = 0;
    unint64_t v16 = 0xE000000000000000;
    goto LABEL_14;
  }
  unint64_t v16 = 0xE700000000000000;
  uint64_t v17 = 0x74736163646F70;
LABEL_14:
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29AF30;
  *(void *)(inited + 32) = 0x656C746974;
  *(void *)(inited + 40) = 0xE500000000000000;
  sub_1EE83C();
  *(void *)(inited + 48) = v20;
  *(void *)(inited + 56) = v21;
  *(void *)(inited + 72) = &type metadata for String;
  *(void *)(inited + 80) = 0x707954616964656DLL;
  *(void *)(inited + 88) = 0xE900000000000065;
  *(void *)(inited + 96) = v17;
  *(void *)(inited + 104) = v16;
  *(void *)(inited + 120) = &type metadata for String;
  *(void *)(inited + 128) = 0xD000000000000015;
  *(void *)(inited + 136) = 0x80000000002A4E20;
  id v22 = [a2 mediaDestination];
  if (v22)
  {
    id v23 = v22;
    uint64_t v24 = a1;
    unint64_t v25 = (char *)[v22 mediaDestinationType];

    BOOL v26 = v25 == (unsigned char *)&dword_0 + 2;
  }
  else
  {
    uint64_t v24 = a1;
    BOOL v26 = 0;
  }
  *(unsigned char *)(inited + 144) = v26;
  *(void *)(inited + 168) = &type metadata for Bool;
  strcpy((char *)(inited + 176), "playlistTitle");
  *(_WORD *)(inited + 190) = -4864;
  id v27 = sub_1EE848();
  *(void *)(inited + 216) = &type metadata for String;
  *(void *)(inited + 192) = v27;
  *(void *)(inited + 200) = v28;
  unint64_t v29 = sub_9A184(inited);
  uint64_t v30 = *(void *)(v5 + 120);
  uint64_t v39 = sub_1983C(0, &qword_30E8B0);
  uint64_t v40 = &off_2FB128;
  v38[0] = a2;
  uint64_t v31 = *(void *)(v30 + 40);
  uint64_t v32 = *(void *)(v30 + 48);
  __chkstk_darwin(v39);
  _OWORD v35[2] = v31;
  v35[3] = v32;
  _OWORD v35[4] = 0xD000000000000015;
  v35[5] = 0x80000000002A3530;
  v35[6] = v33;
  v35[7] = v29;
  v35[8] = v24;
  v35[9] = v38;
  v35[10] = 0;
  id v34 = a2;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v37, v36, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v31, v32, 0xD000000000000015, 0x80000000002A3530, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v35);
  swift_bridgeObjectRelease();
  sub_23A44((uint64_t)v38, &qword_30D018);
}

void INUpdateMediaAffinityIntent.firstMediaItemType()()
{
  id v1 = [v0 mediaItems];
  if (!v1) {
    return;
  }
  uint64_t v2 = v1;
  sub_8ABD8();
  unint64_t v3 = sub_298B50();

  if (v3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v6 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (v6) {
      goto LABEL_4;
    }
LABEL_9:
    swift_bridgeObjectRelease();
    return;
  }
  if (!*(void *)((char *)&dword_10 + (v3 & 0xFFFFFFFFFFFFFF8))) {
    goto LABEL_9;
  }
LABEL_4:
  if ((v3 & 0xC000000000000001) != 0)
  {
    id v4 = (id)sub_2993E0();
    goto LABEL_7;
  }
  if (*(void *)((char *)&dword_10 + (v3 & 0xFFFFFFFFFFFFFF8)))
  {
    id v4 = *(id *)(v3 + 32);
LABEL_7:
    uint64_t v5 = v4;
    swift_bridgeObjectRelease();
    [v5 type];

    return;
  }
  __break(1u);
}

Swift::Bool __swiftcall INUpdateMediaAffinityIntent.getAppInferred()()
{
  return 0;
}

BOOL sub_E2878()
{
  swift_getWitnessTable();

  return sub_296700();
}

BOOL sub_E28CC()
{
  swift_getWitnessTable();

  return sub_296720();
}

BOOL sub_E2920(uint64_t a1, void *a2)
{
  swift_getWitnessTable();
  v4.value._countAndFlagsBits = a1;
  v4.value._object = a2;

  return sub_296740(v4);
}

uint64_t sub_E298C()
{
  swift_getWitnessTable();

  return sub_296730();
}

BOOL sub_E29E0()
{
  swift_getWitnessTable();

  return sub_296760();
}

uint64_t sub_E2A34()
{
  swift_getWitnessTable();

  return sub_2966E0();
}

uint64_t sub_E2A88()
{
  swift_getWitnessTable();

  return sub_296710();
}

uint64_t sub_E2ADC()
{
  return CommonIntentSignals.getLocaleOverride()().value._countAndFlagsBits;
}

uint64_t sub_E2AE8(uint64_t a1)
{
  return PrivateMediaIntentDataProviding.isAppAttributionRequired.getter(a1, &protocol witness table for INSearchForMediaIntent);
}

uint64_t sub_E2AF4(uint64_t a1)
{
  return PrivateMediaIntentDataProviding.useDialogMemoryForAttribution.getter(a1, &protocol witness table for INSearchForMediaIntent);
}

uint64_t sub_E2B00(uint64_t a1)
{
  return PrivateMediaIntentDataProviding.fallbackUsername.getter(a1, &protocol witness table for INSearchForMediaIntent);
}

uint64_t sub_E2B0C()
{
  return sub_299170();
}

uint64_t sub_E2B30(uint64_t a1)
{
  return PrivateMediaIntentDataProviding.isUserConfidenceEnoughToBeRecognized.getter(a1, &protocol witness table for INSearchForMediaIntent);
}

id sub_E2B3C()
{
  id v1 = [*v0 mediaSearch];

  return v1;
}

void sub_E2B80()
{
}

uint64_t sub_E2BB4(Swift::String a1)
{
  return PrivateMediaIntentDataProviding.localizedAppName(for:)(a1).value._countAndFlagsBits;
}

BOOL sub_E2BC0()
{
  return CommonIntentSignals.isExpertSFAUser()();
}

BOOL sub_E2BCC()
{
  return sub_296880();
}

double sub_E2BDC@<D0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  uint64_t v135 = a2;
  uint64_t v3 = sub_2950C0();
  uint64_t v4 = *(void *)(v3 - 8);
  uint64_t v5 = __chkstk_darwin(v3);
  unint64_t v115 = (char *)&v111 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v111 - v8;
  __chkstk_darwin(v7);
  uint64_t v132 = (char *)&v111 - v10;
  uint64_t v11 = sub_71D4((uint64_t *)&unk_313880);
  uint64_t v12 = __chkstk_darwin(v11 - 8);
  uint64_t v123 = (char *)&v111 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  char v116 = (char *)&v111 - v14;
  uint64_t v119 = sub_295220();
  uint64_t v118 = *(void *)(v119 - 8);
  __chkstk_darwin(v119);
  id v117 = (char *)&v111 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v122 = sub_2951A0();
  uint64_t v121 = *(void *)(v122 - 8);
  __chkstk_darwin(v122);
  char v120 = (char *)&v111 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30DC90);
  __chkstk_darwin(v17 - 8);
  uint64_t v134 = (uint64_t)&v111 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_295120();
  uint64_t v140 = *(void *)(v19 - 8);
  uint64_t v20 = __chkstk_darwin(v19);
  v137 = (void **)((char *)&v111 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v22 = __chkstk_darwin(v20);
  char v138 = (char *)&v111 - v23;
  __chkstk_darwin(v22);
  unint64_t v25 = (char *)&v111 - v24;
  uint64_t v26 = sub_298800();
  uint64_t v27 = *(void *)(v26 - 8);
  uint64_t v28 = __chkstk_darwin(v26);
  uint64_t v125 = (char *)&v111 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = __chkstk_darwin(v28);
  id v126 = (char *)&v111 - v31;
  uint64_t v32 = __chkstk_darwin(v30);
  unint64_t v114 = (char *)&v111 - v33;
  __chkstk_darwin(v32);
  BOOL v35 = (char *)&v111 - v34;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v124 = v9;
  uint64_t v36 = sub_6E60(v26, (uint64_t)qword_31FC08);
  uint64_t v37 = *(void (**)(char *, uint64_t, uint64_t))(v27 + 16);
  uint64_t v128 = v36;
  uint64_t v130 = v27 + 16;
  uint64_t v129 = v37;
  ((void (*)(char *))v37)(v35);
  uint64_t v38 = *(void (**)(char *, uint64_t, uint64_t))(v140 + 16);
  uint64_t v139 = a1;
  v38(v25, a1, v19);
  uint64_t v39 = sub_2987E0();
  uint64_t v136 = v27;
  uint64_t v40 = v39;
  os_log_type_t v41 = sub_298DA0();
  BOOL v42 = os_log_type_enabled(v40, v41);
  uint64_t v131 = v4;
  if (v42)
  {
    uint64_t v127 = v26;
    uint64_t v43 = swift_slowAlloc();
    uint64_t v113 = v3;
    uint64_t v44 = (uint8_t *)v43;
    uint64_t v112 = swift_slowAlloc();
    uint64_t v145 = v112;
    *(_DWORD *)uint64_t v44 = 136315138;
    id v111 = v44 + 4;
    unint64_t v133 = (void (*)(char *, char *, uint64_t))v38;
    uint64_t v45 = v19;
    v133(v138, v25, v19);
    uint64_t v46 = sub_2989E0();
    uint64_t v143 = sub_6E98(v46, v47, &v145);
    sub_2992C0();
    uint64_t v26 = v127;
    swift_bridgeObjectRelease();
    id v48 = *(void (**)(char *, uint64_t))(v140 + 8);
    v48(v25, v19);
    _os_log_impl(&dword_0, v40, v41, "CommonAudioIntent#from parse: %s", v44, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v3 = v113;
    swift_slowDealloc();

    id v49 = *(void (**)(char *, uint64_t))(v136 + 8);
    v49(v35, v26);
    uint64_t v50 = v45;
    uint64_t v38 = (void (*)(char *, uint64_t, uint64_t))v133;
  }
  else
  {
    id v48 = *(void (**)(char *, uint64_t))(v140 + 8);
    uint64_t v50 = v19;
    v48(v25, v19);

    id v49 = *(void (**)(char *, uint64_t))(v136 + 8);
    v49(v35, v26);
  }
  uint64_t v51 = v137;
  v38((char *)v137, v139, v50);
  int v52 = (*(uint64_t (**)(void **, uint64_t))(v140 + 88))(v51, v50);
  if (v52 == enum case for Parse.NLv3IntentOnly(_:))
  {
    v48((char *)v51, v50);
LABEL_10:
    unint64_t v54 = v138;
    v38(v138, v139, v50);
    uint64_t v55 = v134;
    sub_280D38(v54, v134);
    uint64_t v56 = type metadata accessor for AudioNLv3Intent();
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v56 - 8) + 48))(v55, 1, v56) == 1)
    {
      sub_E4E28(v55);
LABEL_12:
      double result = 0.0;
      unint64_t v58 = v135;
      *(_OWORD *)uint64_t v135 = 0u;
      *((_OWORD *)v58 + 1) = 0u;
      v58[4] = 0;
      return result;
    }
    uint64_t v59 = v135;
    v135[3] = v56;
    v59[4] = sub_E4F30(&qword_30FE38, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
    uint64_t v60 = sub_12B48(v59);
    sub_E4E88(v55, (uint64_t)v60);
    return result;
  }
  if (v52 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    (*(void (**)(void **, uint64_t))(v140 + 96))(v51, v50);
    sub_71D4(&qword_30D610);
    swift_release();
    uint64_t v53 = sub_295870();
    (*(void (**)(void **, uint64_t))(*(void *)(v53 - 8) + 8))(v51, v53);
    goto LABEL_10;
  }
  if (v52 != enum case for Parse.directInvocation(_:))
  {
    if (v52 == enum case for Parse.pommesResponse(_:))
    {
      (*(void (**)(void **, uint64_t))(v140 + 96))(v51, v50);
      uint64_t v67 = *v51;
      uint64_t v68 = sub_124EC();
      if (v68)
      {
        uint64_t v69 = (void *)v68;
        uint64_t v70 = sub_297E30();
        uint64_t v71 = v123;
        sub_2981A0();
        uint64_t v72 = sub_2952B0();
        (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v72 - 8) + 56))(v71, 0, 1, v72);
        uint64_t v73 = sub_297D30();
        if (v73)
        {
          uint64_t v74 = v73;
          uint64_t v75 = v135;
          v135[3] = v70;
          v75[4] = (uint64_t)&protocol witness table for AudioUsoIntent;

          *uint64_t v75 = v74;
          return result;
        }
      }
      else
      {
        uint64_t v102 = v114;
        v129(v114, v128, v26);
        uint64_t v103 = sub_2987E0();
        os_log_type_t v104 = sub_298DB0();
        if (os_log_type_enabled(v103, v104))
        {
          unint64_t v105 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)unint64_t v105 = 0;
          _os_log_impl(&dword_0, v103, v104, "CommonAudioIntent#from pommesResponse contains no AudioExperience", v105, 2u);
          swift_slowDealloc();
        }

        v49(v102, v26);
      }
    }
    else
    {
      if (v52 != enum case for Parse.uso(_:))
      {
        uint64_t v97 = v50;
        v129(v125, v128, v26);
        uint64_t v98 = sub_2987E0();
        os_log_type_t v99 = sub_298DB0();
        if (os_log_type_enabled(v98, v99))
        {
          uint64_t v100 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v100 = 0;
          _os_log_impl(&dword_0, v98, v99, "CommonAudioIntent#from unsupported parse type", v100, 2u);
          swift_slowDealloc();
        }

        v49(v125, v26);
        uint64_t v101 = v135;
        v135[4] = 0;
        *(_OWORD *)uint64_t v101 = 0u;
        *((_OWORD *)v101 + 1) = 0u;
        v48((char *)v137, v97);
        return result;
      }
      (*(void (**)(void **, uint64_t))(v140 + 96))(v51, v50);
      uint64_t v76 = v121;
      uint64_t v77 = v120;
      uint64_t v78 = v122;
      (*(void (**)(char *, void **, uint64_t))(v121 + 32))(v120, v51, v122);
      uint64_t v79 = v117;
      sub_295190();
      uint64_t v80 = sub_295210();
      (*(void (**)(char *, uint64_t))(v118 + 8))(v79, v119);
      uint64_t v81 = *(void *)(v80 + 16);
      uint64_t v82 = sub_2952B0();
      uint64_t v83 = *(void *)(v82 - 8);
      if (v81)
      {
        uint64_t v84 = v116;
        (*(void (**)(char *, unint64_t, uint64_t))(*(void *)(v82 - 8) + 16))(v116, v80+ ((*(unsigned __int8 *)(*(void *)(v82 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v82 - 8) + 80)), v82);
        uint64_t v85 = 0;
      }
      else
      {
        uint64_t v85 = 1;
        uint64_t v84 = v116;
      }
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v83 + 56))(v84, v85, 1, v82);
      swift_bridgeObjectRelease();
      uint64_t v107 = sub_297E30();
      uint64_t v108 = sub_297D30();
      if (v108)
      {
        id v109 = v135;
        v135[3] = v107;
        v109[4] = (uint64_t)&protocol witness table for AudioUsoIntent;
        uint64_t *v109 = v108;
        (*(void (**)(char *, uint64_t))(v76 + 8))(v77, v78);
        return result;
      }
      (*(void (**)(char *, uint64_t))(v76 + 8))(v77, v78);
    }
LABEL_40:
    uint64_t v110 = v135;
    v135[4] = 0;
    double result = 0.0;
    *(_OWORD *)uint64_t v110 = 0u;
    *((_OWORD *)v110 + 1) = 0u;
    return result;
  }
  (*(void (**)(void **, uint64_t))(v140 + 96))(v51, v50);
  uint64_t v61 = v131;
  uint64_t v62 = (uint64_t)v132;
  (*(void (**)(char *, void **, uint64_t))(v131 + 32))(v132, v51, v3);
  sub_23BAD8(v62, (uint64_t)v142);
  sub_B04D0((uint64_t)v142, (uint64_t)&v143);
  if (v144 == 255)
  {
    v129(v126, v128, v26);
    uint64_t v127 = v26;
    unint64_t v86 = v132;
    uint64_t v87 = *(void (**)(char *, char *, uint64_t))(v61 + 16);
    uint64_t v88 = v124;
    v87(v124, v132, v3);
    uint64_t v89 = sub_2987E0();
    os_log_type_t v90 = sub_298DB0();
    int v91 = v90;
    if (os_log_type_enabled(v89, v90))
    {
      uint64_t v92 = swift_slowAlloc();
      LODWORD(v139) = v91;
      unint64_t v93 = (uint8_t *)v92;
      uint64_t v140 = swift_slowAlloc();
      uint64_t v145 = v140;
      *(_DWORD *)unint64_t v93 = 136315138;
      char v138 = (char *)(v93 + 4);
      v87(v115, v88, v3);
      uint64_t v94 = sub_2989E0();
      uint64_t v141 = sub_6E98(v94, v95, &v145);
      sub_2992C0();
      swift_bridgeObjectRelease();
      uint64_t v96 = *(void (**)(char *, uint64_t))(v61 + 8);
      v96(v88, v3);
      _os_log_impl(&dword_0, v89, (os_log_type_t)v139, "CommonAudioIntent#actionForInput received unsupported directInvocation: %s", v93, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v49(v126, v127);
      v96(v132, v3);
    }
    else
    {

      uint64_t v106 = *(void (**)(char *, uint64_t))(v61 + 8);
      v106(v88, v3);
      v49(v126, v127);
      v106(v86, v3);
    }
    goto LABEL_40;
  }
  sub_6094C((uint64_t)&v143, (uint64_t)&v145);
  uint64_t v63 = type metadata accessor for DirectInvocationIntent();
  swift_allocObject();
  sub_E4EEC((uint64_t)&v145, (void (*)(void, void, void, void, void, void, void, void))sub_60ADC);
  uint64_t v64 = sub_13E518((uint64_t)&v145);
  if (!v64)
  {
    (*(void (**)(char *, uint64_t))(v61 + 8))(v132, v3);
    sub_E4EEC((uint64_t)v142, (void (*)(void, void, void, void, void, void, void, void))sub_609E4);
    goto LABEL_12;
  }
  uint64_t v65 = v64;
  uint64_t v66 = v135;
  v135[3] = v63;
  v66[4] = sub_E4F30(&qword_30FE30, (void (*)(uint64_t))type metadata accessor for DirectInvocationIntent);
  sub_E4EEC((uint64_t)v142, (void (*)(void, void, void, void, void, void, void, void))sub_609E4);
  *uint64_t v66 = v65;
  (*(void (**)(char *, uint64_t))(v61 + 8))(v132, v3);
  return result;
}

void sub_E3DA0(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v140 = a1;
  uint64_t v135 = a2;
  uint64_t v132 = sub_2950C0();
  uint64_t v127 = *(void *)(v132 - 8);
  __chkstk_darwin(v132);
  uint64_t v3 = (char *)v111 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_71D4((uint64_t *)&unk_313880);
  uint64_t v5 = __chkstk_darwin(v4 - 8);
  uint64_t v125 = (char *)v111 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  id v117 = (char *)v111 - v7;
  uint64_t v8 = sub_295220();
  uint64_t v119 = *(void *)(v8 - 8);
  uint64_t v120 = v8;
  __chkstk_darwin(v8);
  uint64_t v118 = (char *)v111 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_2951A0();
  uint64_t v122 = *(void *)(v10 - 8);
  uint64_t v123 = v10;
  __chkstk_darwin(v10);
  uint64_t v121 = (char *)v111 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30DC90);
  __chkstk_darwin(v12 - 8);
  uint64_t v134 = (uint64_t)v111 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_295120();
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v16 = __chkstk_darwin(v14);
  v137 = (void **)((char *)v111 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v18 = __chkstk_darwin(v16);
  char v138 = (char *)v111 - v19;
  __chkstk_darwin(v18);
  uint64_t v139 = (char *)v111 - v20;
  uint64_t v21 = sub_298800();
  uint64_t v22 = *(void *)(v21 - 8);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v124 = (char *)v111 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = __chkstk_darwin(v23);
  id v126 = (char *)v111 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  unint64_t v115 = (char *)v111 - v28;
  uint64_t v29 = __chkstk_darwin(v27);
  char v116 = (char *)v111 - v30;
  __chkstk_darwin(v29);
  uint64_t v32 = (char *)v111 - v31;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v131 = v3;
  uint64_t v33 = sub_6E60(v21, (uint64_t)qword_31FC08);
  uint64_t v34 = *(void (**)(char *, uint64_t, uint64_t))(v22 + 16);
  uint64_t v128 = v33;
  uint64_t v129 = v34;
  uint64_t v130 = v22 + 16;
  ((void (*)(char *))v34)(v32);
  BOOL v35 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
  v35(v139, v140, v14);
  uint64_t v36 = sub_2987E0();
  os_log_type_t v37 = sub_298DA0();
  uint64_t v136 = v36;
  BOOL v38 = os_log_type_enabled(v36, v37);
  uint64_t v133 = v22;
  if (v38)
  {
    uint64_t v39 = (uint8_t *)swift_slowAlloc();
    uint64_t v113 = swift_slowAlloc();
    v144[0] = v113;
    *(_DWORD *)uint64_t v39 = 136315138;
    v111[1] = v39 + 4;
    uint64_t v112 = v39;
    uint64_t v114 = v21;
    uint64_t v40 = (void (*)(char *, char *, uint64_t))v35;
    os_log_type_t v41 = v139;
    v40(v138, v139, v14);
    uint64_t v42 = sub_2989E0();
    v143[0] = sub_6E98(v42, v43, v144);
    sub_2992C0();
    swift_bridgeObjectRelease();
    uint64_t v44 = *(void (**)(char *, uint64_t))(v15 + 8);
    uint64_t v45 = v41;
    BOOL v35 = (void (*)(char *, uint64_t, uint64_t))v40;
    v44(v45, v14);
    uint64_t v46 = v136;
    _os_log_impl(&dword_0, v136, v37, "CommonAudioIntent#from parse: %s", v112, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    unint64_t v47 = *(char **)(v133 + 8);
    id v48 = v32;
    uint64_t v21 = v114;
  }
  else
  {
    uint64_t v49 = v22;
    uint64_t v44 = *(void (**)(char *, uint64_t))(v15 + 8);
    v44(v139, v14);

    unint64_t v47 = *(char **)(v49 + 8);
    id v48 = v32;
  }
  uint64_t v139 = v47;
  ((void (*)(char *, uint64_t))v47)(v48, v21);
  uint64_t v50 = v137;
  v35((char *)v137, v140, v14);
  int v51 = (*(uint64_t (**)(void **, uint64_t))(v15 + 88))(v50, v14);
  if (v51 == enum case for Parse.NLv3IntentOnly(_:))
  {
    v44((char *)v50, v14);
    goto LABEL_10;
  }
  if (v51 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    (*(void (**)(void **, uint64_t))(v15 + 96))(v50, v14);
    sub_71D4(&qword_30D610);
    swift_release();
    uint64_t v52 = sub_295870();
    (*(void (**)(void **, uint64_t))(*(void *)(v52 - 8) + 8))(v50, v52);
LABEL_10:
    uint64_t v53 = v138;
    v35(v138, v140, v14);
    uint64_t v54 = v134;
    sub_280D38(v53, v134);
    uint64_t v55 = type metadata accessor for AudioNLv3Intent();
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v55 - 8) + 48))(v54, 1, v55) == 1)
    {
      sub_E4E28(v54);
      uint64_t v56 = v135;
      *(_OWORD *)uint64_t v135 = 0u;
      *(_OWORD *)(v56 + 16) = 0u;
      *(_OWORD *)(v56 + 32) = 0u;
    }
    else
    {
      uint64_t v57 = (uint64_t *)v135;
      *(void *)(v135 + 24) = v55;
      v57[4] = sub_E4F30(&qword_30FE20, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
      v57[5] = sub_E4F30(&qword_30FE28, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
      unint64_t v58 = sub_12B48(v57);
      sub_E4E88(v54, (uint64_t)v58);
    }
    return;
  }
  if (v51 == enum case for Parse.directInvocation(_:))
  {
    (*(void (**)(void **, uint64_t))(v15 + 96))(v50, v14);
    uint64_t v59 = v127;
    uint64_t v60 = (uint64_t)v131;
    (*(void (**)(char *, void **, uint64_t))(v127 + 32))(v131, v50, v132);
    sub_23BAD8(v60, (uint64_t)v141);
    sub_B04D0((uint64_t)v141, (uint64_t)v142);
    uint64_t v61 = v126;
    if (v142[56] != 255)
    {
      sub_6094C((uint64_t)v142, (uint64_t)v143);
      sub_6094C((uint64_t)v143, (uint64_t)v144);
      if (v145 == 4)
      {
        uint64_t v62 = (void *)v144[0];
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (v62)
        {
          uint64_t v63 = sub_297E30();
          id v64 = v62;
          uint64_t v65 = v125;
          sub_2981A0();
          uint64_t v66 = sub_2952B0();
          (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v66 - 8) + 56))(v65, 0, 1, v66);
          uint64_t v67 = sub_297D30();
          if (v67)
          {
            uint64_t v68 = v67;
            uint64_t v69 = (uint64_t *)v135;
            *(void *)(v135 + 24) = v63;
            v69[4] = (uint64_t)&protocol witness table for AudioUsoIntent;
            v69[5] = sub_E4F30(&qword_30FE18, (void (*)(uint64_t))&type metadata accessor for AudioUsoIntent);

            *uint64_t v69 = v68;
            (*(void (**)(char *, uint64_t))(v59 + 8))(v131, v132);
            return;
          }
          (*(void (**)(char *, uint64_t))(v59 + 8))(v131, v132);
        }
        else
        {
          uint64_t v103 = v115;
          v129(v115, v128, v21);
          os_log_type_t v104 = sub_2987E0();
          os_log_type_t v105 = sub_298DB0();
          if (os_log_type_enabled(v104, v105))
          {
            uint64_t v106 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v106 = 0;
            _os_log_impl(&dword_0, v104, v105, "CommonAudioIntent#from PlayMediaShim directinvocation is missing audioExperience", v106, 2u);
            swift_slowDealloc();
          }

          ((void (*)(char *, uint64_t))v139)(v103, v21);
          (*(void (**)(char *, uint64_t))(v59 + 8))(v131, v132);
        }
        goto LABEL_30;
      }
      sub_E4EEC((uint64_t)v141, (void (*)(void, void, void, void, void, void, void, void))sub_609E4);
    }
    v129(v61, v128, v21);
    os_log_type_t v90 = sub_2987E0();
    os_log_type_t v91 = sub_298DB0();
    if (os_log_type_enabled(v90, v91))
    {
      uint64_t v92 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v92 = 0;
      _os_log_impl(&dword_0, v90, v91, "CommonAudioIntent#from unsupported directinvocation type", v92, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v139)(v61, v21);
    (*(void (**)(uint64_t, uint64_t))(v59 + 8))(v60, v132);
LABEL_30:
    unint64_t v93 = (_OWORD *)v135;
    *(_OWORD *)(v135 + 16) = 0u;
    v93[2] = 0u;
    *unint64_t v93 = 0u;
    return;
  }
  if (v51 == enum case for Parse.pommesResponse(_:))
  {
    uint64_t v70 = v21;
    (*(void (**)(void **, uint64_t))(v15 + 96))(v50, v14);
    uint64_t v71 = *v50;
    uint64_t v72 = sub_124EC();
    if (v72)
    {
      uint64_t v73 = (void *)v72;
      uint64_t v74 = sub_297E30();
      uint64_t v75 = v125;
      sub_2981A0();
      uint64_t v76 = sub_2952B0();
      (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v76 - 8) + 56))(v75, 0, 1, v76);
      uint64_t v77 = sub_297D30();
      if (v77)
      {
        uint64_t v78 = v77;
        uint64_t v79 = (uint64_t *)v135;
        *(void *)(v135 + 24) = v74;
        v79[4] = (uint64_t)&protocol witness table for AudioUsoIntent;
        v79[5] = sub_E4F30(&qword_30FE18, (void (*)(uint64_t))&type metadata accessor for AudioUsoIntent);

        uint64_t *v79 = v78;
        return;
      }
    }
    else
    {
      os_log_type_t v99 = v116;
      v129(v116, v128, v21);
      uint64_t v100 = sub_2987E0();
      os_log_type_t v101 = sub_298DB0();
      if (os_log_type_enabled(v100, v101))
      {
        uint64_t v102 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v102 = 0;
        _os_log_impl(&dword_0, v100, v101, "CommonAudioIntent#from pommesResponse contains no AudioExperience", v102, 2u);
        swift_slowDealloc();
      }

      ((void (*)(char *, uint64_t))v139)(v99, v70);
    }
    goto LABEL_30;
  }
  if (v51 == enum case for Parse.uso(_:))
  {
    (*(void (**)(void **, uint64_t))(v15 + 96))(v50, v14);
    uint64_t v81 = v121;
    uint64_t v80 = v122;
    uint64_t v82 = v123;
    (*(void (**)(char *, void **, uint64_t))(v122 + 32))(v121, v50, v123);
    uint64_t v83 = v118;
    sub_295190();
    uint64_t v84 = sub_295210();
    (*(void (**)(char *, uint64_t))(v119 + 8))(v83, v120);
    uint64_t v85 = *(void *)(v84 + 16);
    uint64_t v86 = sub_2952B0();
    uint64_t v87 = *(void *)(v86 - 8);
    if (v85)
    {
      uint64_t v88 = v117;
      (*(void (**)(char *, unint64_t, uint64_t))(*(void *)(v86 - 8) + 16))(v117, v84+ ((*(unsigned __int8 *)(*(void *)(v86 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v86 - 8) + 80)), v86);
      uint64_t v89 = 0;
    }
    else
    {
      uint64_t v89 = 1;
      uint64_t v88 = v117;
    }
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v87 + 56))(v88, v89, 1, v86);
    swift_bridgeObjectRelease();
    uint64_t v107 = sub_297E30();
    uint64_t v108 = sub_297D30();
    if (v108)
    {
      uint64_t v109 = v108;
      uint64_t v110 = (uint64_t *)v135;
      *(void *)(v135 + 24) = v107;
      v110[4] = (uint64_t)&protocol witness table for AudioUsoIntent;
      v110[5] = sub_E4F30(&qword_30FE18, (void (*)(uint64_t))&type metadata accessor for AudioUsoIntent);
      uint64_t *v110 = v109;
      (*(void (**)(char *, uint64_t))(v80 + 8))(v81, v82);
      return;
    }
    (*(void (**)(char *, uint64_t))(v80 + 8))(v81, v82);
    goto LABEL_30;
  }
  uint64_t v94 = v14;
  v129(v124, v128, v21);
  unint64_t v95 = sub_2987E0();
  os_log_type_t v96 = sub_298DB0();
  if (os_log_type_enabled(v95, v96))
  {
    uint64_t v97 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v97 = 0;
    _os_log_impl(&dword_0, v95, v96, "CommonAudioIntent#from unsupported parse type", v97, 2u);
    swift_slowDealloc();
  }

  ((void (*)(char *, uint64_t))v139)(v124, v21);
  uint64_t v98 = (_OWORD *)v135;
  *(_OWORD *)(v135 + 16) = 0u;
  v98[2] = 0u;
  *uint64_t v98 = 0u;
  v44((char *)v137, v94);
}

uint64_t sub_E4E28(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30DC90);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_E4E88(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AudioNLv3Intent();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_E4EEC(uint64_t a1, void (*a2)(void, void, void, void, void, void, void, void))
{
  return a1;
}

uint64_t sub_E4F30(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

char *sub_E4F78(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v53 = a1;
  uint64_t v3 = sub_71D4(&qword_30DDA8);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = (char *)&v49 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  *((void *)v1 + 2) = _swiftEmptyArrayStorage;
  *((void *)v1 + 3) = _swiftEmptyArrayStorage;
  *((void *)v1 + 4) = 0;
  *((void *)v1 + 5) = 0;
  *((void *)v1 + 6) = _swiftEmptyArrayStorage;
  uint64_t v6 = &v1[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_reference];
  uint64_t v52 = (uint64_t)v6;
  uint64_t v7 = sub_297CA0();
  uint64_t v8 = *(void *)(v7 - 8);
  int v51 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v8 + 56);
  v51(v6, 1, 1, v7);
  uint64_t v9 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_mediaType];
  uint64_t v10 = sub_297C70();
  uint64_t v50 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 56);
  v50(v9, 1, 1, v10);
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_activities] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appAudiobookAuthors] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appAudiobookTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appMusicArtistNames] = _swiftEmptyArrayStorage;
  uint64_t v11 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appName];
  *(void *)uint64_t v11 = 0;
  *((void *)v11 + 1) = 0;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appPlaylistTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appShowTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_applePlaylistTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_applePodcastTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_apps] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_attributes] = &_swiftEmptySetSingleton;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_dateTime] = 0;
  uint64_t v12 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_confirmationState];
  uint64_t v13 = sub_297BD0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 - 8) + 56))(v12, 1, 1, v13);
  uint64_t v14 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_decade];
  uint64_t v15 = sub_297C10();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v15 - 8) + 56))(v14, 1, 1, v15);
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_entities] = _swiftEmptyArrayStorage;
  uint64_t v16 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_frequency];
  *(void *)uint64_t v16 = 0;
  v16[8] = 1;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_genres] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_modifiers] = &_swiftEmptySetSingleton;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_moods] = _swiftEmptyArrayStorage;
  uint64_t v17 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_noun];
  uint64_t v18 = sub_297BE0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56))(v17, 1, 1, v18);
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_playlistTitles] = _swiftEmptyArrayStorage;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_podcastTitles] = _swiftEmptyArrayStorage;
  uint64_t v19 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_newsPodcastTopicId];
  *(void *)uint64_t v19 = 0;
  *((void *)v19 + 1) = 0;
  uint64_t v20 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_newsPodcastIdentifier];
  *(void *)uint64_t v20 = 0;
  *((void *)v20 + 1) = 0;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_radioStationNames] = _swiftEmptyArrayStorage;
  uint64_t v21 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_radioType];
  uint64_t v22 = sub_297C90();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v22 - 8) + 56))(v21, 1, 1, v22);
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_resolvedReference] = 0;
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_showTitles] = _swiftEmptyArrayStorage;
  uint64_t v23 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_sort];
  uint64_t v24 = sub_297BF0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v23, 1, 1, v24);
  v50(&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_targetMediaType], 1, 1, v10);
  uint64_t v25 = &v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_verb];
  uint64_t v26 = sub_297C00();
  uint64_t v27 = v53;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v26 - 8) + 56))(v25, 1, 1, v26);
  *(void *)&v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_audioSettingNames] = _swiftEmptyArrayStorage;
  v2[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appInferred] = 0;
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v5, enum case for CommonAudio.Reference.definite(_:), v7);
  v51(v5, 0, 1, v7);
  uint64_t v28 = v52;
  swift_beginAccess();
  sub_E61CC((uint64_t)v5, v28);
  swift_endAccess();
  uint64_t v29 = sub_2961F0();
  if (v30)
  {
    uint64_t v31 = v29;
    uint64_t v32 = v30;
    sub_71D4((uint64_t *)&unk_3177F0);
    uint64_t v33 = swift_allocObject();
    *(_OWORD *)(v33 + 16) = xmmword_29A440;
    *(void *)(v33 + 32) = v31;
    *(void *)(v33 + 40) = v32;
    *((void *)v2 + 3) = v33;
    swift_bridgeObjectRelease();
  }
  uint64_t v34 = sub_296240();
  if (v35)
  {
    uint64_t v36 = v34;
    uint64_t v37 = v35;
    sub_71D4((uint64_t *)&unk_3177F0);
    uint64_t v38 = swift_allocObject();
    *(_OWORD *)(v38 + 16) = xmmword_29A440;
    *(void *)(v38 + 32) = v36;
    *(void *)(v38 + 40) = v37;
    *((void *)v2 + 2) = v38;
    swift_bridgeObjectRelease();
  }
  uint64_t v39 = sub_296250();
  if (v40)
  {
    uint64_t v41 = v39;
    uint64_t v42 = v40;
    sub_71D4((uint64_t *)&unk_3177F0);
    uint64_t v43 = swift_allocObject();
    *(_OWORD *)(v43 + 16) = xmmword_29A440;
    *(void *)(v43 + 32) = v41;
    *(void *)(v43 + 40) = v42;
    *((void *)v2 + 6) = v43;
    swift_bridgeObjectRelease();
  }
  uint64_t v44 = sub_296270();
  uint64_t v46 = v45;
  uint64_t v47 = sub_2962A0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v47 - 8) + 8))(v27, v47);
  *((void *)v2 + 4) = v44;
  *((void *)v2 + 5) = v46;
  swift_bridgeObjectRelease();
  return v2;
}

uint64_t sub_E55C4()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_reference, &qword_30DDA8);
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_mediaType, &qword_30DDB8);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_release();
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_confirmationState, &qword_30D620);
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_decade, &qword_30DE08);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_noun, &qword_30DD78);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_radioType, &qword_30DD88);
  swift_release();
  swift_bridgeObjectRelease();
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_sort, &qword_30DDB0);
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_targetMediaType, &qword_30DDB8);
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_verb, &qword_30DDA0);
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t sub_E5868()
{
  sub_E55C4();

  return swift_deallocClassInstance();
}

uint64_t sub_E58C0()
{
  return type metadata accessor for NowPlayingIntent();
}

uint64_t type metadata accessor for NowPlayingIntent()
{
  uint64_t result = qword_30FE68;
  if (!qword_30FE68) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_E5914()
{
  sub_E5CB0(319, &qword_30FE78, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Reference);
  if (v0 <= 0x3F)
  {
    sub_E5CB0(319, &qword_30FE80, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType);
    if (v1 <= 0x3F)
    {
      sub_E5CB0(319, (unint64_t *)&qword_30FE88, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Confirmation);
      if (v2 <= 0x3F)
      {
        sub_E5CB0(319, &qword_30FE90, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Decade);
        if (v3 <= 0x3F)
        {
          sub_E5CB0(319, &qword_30FE98, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Noun);
          if (v4 <= 0x3F)
          {
            sub_E5CB0(319, &qword_30FEA0, (void (*)(uint64_t))&type metadata accessor for CommonAudio.RadioType);
            if (v5 <= 0x3F)
            {
              sub_E5CB0(319, &qword_30FEA8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Sort);
              if (v6 <= 0x3F)
              {
                sub_E5CB0(319, (unint64_t *)&unk_30FEB0, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
                if (v7 <= 0x3F) {
                  swift_updateClassMetadata2();
                }
              }
            }
          }
        }
      }
    }
  }
}

void sub_E5CB0(uint64_t a1, unint64_t *a2, void (*a3)(uint64_t))
{
  if (!*a2)
  {
    a3(255);
    unint64_t v4 = sub_2992A0();
    if (!v5) {
      atomic_store(v4, a2);
    }
  }
}

uint64_t sub_E5D04()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D18()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D2C()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D40()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D54(uint64_t a1, uint64_t a2)
{
  return sub_E5F88(a1, a2, &OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appName);
}

uint64_t sub_E5D60()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D74()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D88()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5D9C()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5DB0()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5DC4()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5DD0()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5DE4()
{
  return swift_retain();
}

uint64_t sub_E5DF8@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_decade, a1, &qword_30DE08);
}

uint64_t sub_E5E2C()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5E40()
{
  return *(void *)(*v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_frequency);
}

uint64_t sub_E5E5C()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5E70()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 32);
  swift_bridgeObjectRetain();
  return v1;
}

uint64_t sub_E5EA4@<X0>(uint64_t a1@<X8>)
{
  return sub_E6020(&OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_mediaType, &qword_30DDB8, a1);
}

uint64_t sub_E5EB8@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_targetMediaType, a1, &qword_30DDB8);
}

uint64_t sub_E5EEC()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5F00()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5F14@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_noun, a1, &qword_30DD78);
}

uint64_t sub_E5F48()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5F5C()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5F70(uint64_t a1, uint64_t a2)
{
  return sub_E5F88(a1, a2, &OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_newsPodcastTopicId);
}

uint64_t sub_E5F7C(uint64_t a1, uint64_t a2)
{
  return sub_E5F88(a1, a2, &OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_newsPodcastIdentifier);
}

uint64_t sub_E5F88(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v4 = *(void *)(*v3 + *a3);
  swift_bridgeObjectRetain();
  return v4;
}

uint64_t sub_E5FC4()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E5FD8@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_radioType, a1, &qword_30DD88);
}

uint64_t sub_E600C@<X0>(uint64_t a1@<X8>)
{
  return sub_E6020(&OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_reference, &qword_30DDA8, a1);
}

uint64_t sub_E6020@<X0>(void *a1@<X2>, uint64_t *a2@<X3>, uint64_t a3@<X8>)
{
  uint64_t v6 = *v3 + *a1;
  swift_beginAccess();
  return sub_11E58(v6, a3, a2);
}

uint64_t sub_E6084()
{
  return swift_retain();
}

uint64_t sub_E6098()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E60AC@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_sort, a1, &qword_30DDB0);
}

uint64_t sub_E60E0@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_verb, a1, &qword_30DDA0);
}

uint64_t sub_E6114()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_E6128()
{
  return *(unsigned __int8 *)(*v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_appInferred);
}

uint64_t sub_E613C@<X0>(uint64_t a1@<X8>)
{
  return sub_11E58(*v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_confirmationState, a1, &qword_30D620);
}

unint64_t sub_E6174()
{
  unint64_t result = qword_310408;
  if (!qword_310408)
  {
    type metadata accessor for NowPlayingIntent();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310408);
  }
  return result;
}

uint64_t sub_E61CC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30DDA8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t static CommonMedia.makeSiriKitIntentHandler(app:intent:)@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  sub_295C50();
  sub_2963E0();
  sub_74A4(v15, v16);
  sub_2965D0();
  uint64_t v10 = sub_296B20();
  swift_allocObject();
  uint64_t v11 = sub_296B10();
  sub_7184((uint64_t)v15);
  uint64_t v16 = v10;
  uint64_t v17 = &protocol witness table for AirPlayRouteProvider;
  v15[0] = v11;
  void v14[3] = sub_2961A0();
  v14[4] = (uint64_t)&protocol witness table for DeviceProvider;
  sub_12B48(v14);
  sub_296180();
  v13[3].Class isa = (Class)sub_296EF0();
  v13[4].Class isa = (Class)&protocol witness table for MediaRemoteAPIProvider;
  v13[0].Class isa = (Class)sub_296EE0();
  sub_E63B4();
  static CommonMedia.makeSiriKitIntentHandler(_:_:_:_:_:_:)(a1, a2, v15, (uint64_t)v14, v13, a3, a5, a4);
  swift_bridgeObjectRelease();
  sub_7184((uint64_t)v13);
  sub_7184((uint64_t)v14);
  return sub_7184((uint64_t)v15);
}

uint64_t sub_E63B4()
{
  sub_2963E0();
  sub_74A4(v2, v2[3]);
  uint64_t v0 = sub_2965D0();
  sub_7184((uint64_t)v2);
  return v0;
}

uint64_t static CommonMedia.makeSiriKitIntentHandler(_:_:_:_:_:_:)@<X0>(uint64_t a1@<X0>, void *a2@<X1>, void *a3@<X2>, uint64_t a4@<X3>, NSObject *a5@<X4>, uint64_t a6@<X7>, uint64_t a7@<X8>, uint64_t a8)
{
  os_log_t v192 = a5;
  id v201 = (id)a4;
  v193 = a3;
  uint64_t v207 = a1;
  uint64_t v194 = sub_296E90();
  v196 = *(uint8_t **)(v194 - 8);
  uint64_t v11 = __chkstk_darwin(v194);
  v191 = (char *)v178 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  v195 = (char *)v178 - v13;
  uint64_t v206 = sub_298800();
  uint64_t v205 = *(void *)(v206 - 8);
  uint64_t v14 = __chkstk_darwin(v206);
  v200 = (char *)v178 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = __chkstk_darwin(v14);
  v202 = (char *)v178 - v17;
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v204 = (char *)v178 - v19;
  uint64_t v20 = __chkstk_darwin(v18);
  v189 = (char *)v178 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v24 = (char *)v178 - v23;
  uint64_t v25 = __chkstk_darwin(v22);
  v190 = (char *)v178 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v29 = (char *)v178 - v28;
  uint64_t v30 = __chkstk_darwin(v27);
  uint64_t v32 = (char *)v178 - v31;
  __chkstk_darwin(v30);
  uint64_t v34 = (char *)v178 - v33;
  *(void *)&long long v209 = a2;
  uint64_t v199 = a8;
  uint64_t v197 = a6;
  uint64_t AssociatedTypeWitness = swift_getAssociatedTypeWitness();
  id v36 = a2;
  sub_71D4((uint64_t *)&unk_30FA90);
  uint64_t v203 = AssociatedTypeWitness;
  if (swift_dynamicCast())
  {
    sub_11EBC(&v210, (uint64_t)&v213);
    sub_74A4(&v213, v214);
    if (sub_296860())
    {
      uint64_t v37 = v36;
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v38 = v206;
      uint64_t v39 = sub_6E60(v206, (uint64_t)qword_31FC08);
      uint64_t v40 = v205;
      (*(void (**)(char *, uint64_t, uint64_t))(v205 + 16))(v34, v39, v38);
      uint64_t v41 = sub_2987E0();
      os_log_type_t v42 = sub_298DC0();
      if (os_log_type_enabled(v41, v42))
      {
        uint64_t v43 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v43 = 0;
        _os_log_impl(&dword_0, v41, v42, "CommonMedia#makeSiriKitIntentHandler User just accepted TCC initiated from the HomePod for an SFA request. Using the dialog producing intent handler", v43, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v40 + 8))(v34, v38);
      id v44 = objc_allocWithZone((Class)type metadata accessor for DialogProducingIntentHandler());
      swift_retain();
      [v44 init];
      id v45 = v37;
      sub_2940F0();
      uint64_t v46 = sub_294100();
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v46 - 8) + 56))(a7, 0, 1, v46);
      return sub_7184((uint64_t)&v213);
    }
    sub_7184((uint64_t)&v213);
  }
  else
  {
    uint64_t v212 = 0;
    long long v210 = 0u;
    long long v211 = 0u;
    sub_23A44((uint64_t)&v210, &qword_30E8A8);
  }
  BOOL v48 = sub_E8060();
  sub_18D5C((uint64_t)v201, (uint64_t)&v213);
  uint64_t v198 = a7;
  if (v48)
  {
    sub_74A4(&v213, v214);
    char v49 = sub_296350();
    sub_18D5C((uint64_t)&v213, (uint64_t)&v210);
    if (v49)
    {
      sub_7184((uint64_t)&v210);
      sub_7184((uint64_t)&v213);
    }
    else
    {
      sub_74A4(&v210, *((uint64_t *)&v211 + 1));
      char v50 = sub_296340();
      sub_7184((uint64_t)&v210);
      sub_7184((uint64_t)&v213);
      if ((v50 & 1) == 0) {
        goto LABEL_27;
      }
    }
    self;
    uint64_t v51 = swift_dynamicCastObjCClass();
    if (v51)
    {
      uint64_t v52 = (void *)v51;
      uint64_t v53 = sub_297030();
      id v54 = v36;
      uint64_t v188 = v53;
      uint64_t v55 = sub_297020();
      if (v55)
      {
        uint64_t v56 = v55;
        id v186 = v52;
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v57 = v206;
        uint64_t v58 = sub_6E60(v206, (uint64_t)qword_31FC08);
        uint64_t v59 = v205;
        uint64_t v60 = *(void (**)(char *, uint64_t, uint64_t))(v205 + 16);
        uint64_t v182 = v58;
        uint64_t v184 = v205 + 16;
        v183 = v60;
        ((void (*)(char *))v60)(v32);
        id v61 = v54;
        swift_retain_n();
        id v62 = v61;
        uint64_t v63 = v56;
        id v64 = sub_2987E0();
        os_log_type_t v65 = sub_298DA0();
        int v66 = v65;
        BOOL v67 = os_log_type_enabled(v64, v65);
        id v187 = v62;
        if (v67)
        {
          uint64_t v68 = swift_slowAlloc();
          LODWORD(v185) = v66;
          uint64_t v69 = v68;
          uint64_t v180 = swift_slowAlloc();
          *(void *)&long long v210 = v180;
          *(_DWORD *)uint64_t v69 = 136315394;
          uint64_t v70 = v63;
          uint64_t v71 = v62;
          *(void *)&long long v209 = v70;
          uint64_t v181 = v70;
          sub_E9BDC(&qword_30E8A0, (void (*)(uint64_t))&type metadata accessor for AirPlayRouteSetupContext);
          os_log_t v179 = v64;
          uint64_t v72 = sub_2995A0();
          *(void *)&long long v209 = sub_6E98(v72, v73, (uint64_t *)&v210);
          sub_2992C0();
          swift_release_n();
          swift_bridgeObjectRelease();
          *(_WORD *)(v69 + 12) = 2080;
          v178[1] = v69 + 14;
          id v74 = [v186 debugDescription];
          uint64_t v75 = sub_2989C0();
          unint64_t v77 = v76;

          *(void *)&long long v209 = sub_6E98(v75, v77, (uint64_t *)&v210);
          uint64_t v57 = v206;
          sub_2992C0();

          uint64_t v78 = v205;
          swift_bridgeObjectRelease();
          os_log_t v79 = v179;
          _os_log_impl(&dword_0, v179, (os_log_type_t)v185, "CommonMedia#makeSiriKitIntentHandler Handling AirPlay Route setup for 3p app on iOS. Context: %s Intent: %s", (uint8_t *)v69, 0x16u);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          v185 = *(void (**)(char *, uint64_t))(v78 + 8);
          v185(v32, v57);
          uint64_t v63 = v181;
        }
        else
        {

          swift_release_n();
          v185 = *(void (**)(char *, uint64_t))(v59 + 8);
          v185(v32, v57);
        }
        uint64_t v80 = v195;
        uint64_t v81 = v63;
        sub_297000();
        uint64_t v82 = v194;
        int v83 = (*((uint64_t (**)(char *, uint64_t))v196 + 11))(v80, v194);
        if (v83 != enum case for AirPlayRouteSetupState.none(_:))
        {
          if (v83 == enum case for AirPlayRouteSetupState.startedDeviceSearch(_:))
          {
            sub_18D5C((uint64_t)v193, (uint64_t)&v210);
            sub_74A4(&v210, *((uint64_t *)&v211 + 1));
            sub_296DD0();
            sub_74A4(&v210, *((uint64_t *)&v211 + 1));
            sub_296DB0();
            id v138 = v187;
            (*(void (**)(uint64_t, id, uint64_t))(v199 + 32))(v207, v187, v197);
          }
          else
          {
            uint64_t v139 = v197;
            if (v83 == enum case for AirPlayRouteSetupState.startedDeviceSearchWithRouteSetup(_:))
            {
              sub_18D5C((uint64_t)v193, (uint64_t)&v210);
              sub_74A4(&v210, *((uint64_t *)&v211 + 1));
              sub_296DD0();
            }
            else
            {
              if (v83 != enum case for AirPlayRouteSetupState.startedRouteSetup(_:))
              {
                if (v83 == enum case for AirPlayRouteSetupState.complete(_:))
                {
                  uint64_t v140 = v190;
                  v183(v190, v182, v57);
                  id v141 = v187;
                  BOOL v142 = sub_2987E0();
                  os_log_type_t v143 = sub_298D90();
                  if (os_log_type_enabled(v142, v143))
                  {
                    uint64_t v144 = swift_slowAlloc();
                    id v201 = v36;
                    char v145 = (uint8_t *)v144;
                    *(void *)&long long v210 = swift_slowAlloc();
                    *(_DWORD *)char v145 = 136315138;
                    v196 = v145 + 4;
                    id v146 = [v141 debugDescription];
                    uint64_t v147 = sub_2989C0();
                    unint64_t v149 = v148;

                    *(void *)&long long v209 = sub_6E98(v147, v149, (uint64_t *)&v210);
                    sub_2992C0();

                    swift_bridgeObjectRelease();
                    _os_log_impl(&dword_0, v142, v143, "CommonMedia#makeSiriKitIntentHandler AirPlay route setup is complete, no need to wait before executing Handle, intent: %s", v145, 0xCu);
                    swift_arrayDestroy();
                    swift_slowDealloc();
                    id v36 = v201;
                    swift_slowDealloc();
                    swift_release();

                    uint64_t v150 = v190;
                    uint64_t v151 = v206;
                  }
                  else
                  {

                    swift_release();
                    uint64_t v150 = v140;
                    uint64_t v151 = v57;
                  }
                  v185(v150, v151);
                }
                else
                {
                  if (v83 == enum case for AirPlayRouteSetupState.error(_:))
                  {
                    v183(v24, v182, v57);
                    swift_retain_n();
                    id v152 = sub_2987E0();
                    uint64_t v153 = v57;
                    os_log_type_t v154 = sub_298DB0();
                    if (os_log_type_enabled(v152, v154))
                    {
                      v155 = (uint8_t *)swift_slowAlloc();
                      *(void *)&long long v210 = swift_slowAlloc();
                      *(_DWORD *)v155 = 136315138;
                      *(void *)&long long v209 = v81;
                      sub_E9BDC(&qword_30E8A0, (void (*)(uint64_t))&type metadata accessor for AirPlayRouteSetupContext);
                      uint64_t v156 = sub_2995A0();
                      *(void *)&long long v209 = sub_6E98(v156, v157, (uint64_t *)&v210);
                      sub_2992C0();
                      swift_release_n();
                      swift_bridgeObjectRelease();
                      _os_log_impl(&dword_0, v152, v154, "CommonMedia#makeSiriKitIntentHandler Something went wrong setting up AirPlay routes %s. Nothing to do here, will create error dialog in makePreHandleIntentOutput or makeIntentHandledResponse", v155, 0xCu);
                      swift_arrayDestroy();
                      swift_slowDealloc();
                      swift_slowDealloc();
                    }
                    else
                    {

                      swift_release_n();
                    }
                    v185(v24, v153);
                    uint64_t v174 = v198;
                    id v175 = objc_allocWithZone((Class)type metadata accessor for DialogProducingIntentHandler());
                    swift_retain();
                    [v175 init];
                    id v176 = v187;
                    sub_2940F0();

                    swift_release();
                    uint64_t v177 = sub_294100();
                    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v177 - 8) + 56))(v174, 0, 1, v177);
                  }
                  unint64_t v158 = v189;
                  v183(v189, v182, v57);
                  id v159 = v187;
                  swift_retain_n();
                  id v160 = v159;
                  uint64_t v161 = sub_2987E0();
                  os_log_type_t v162 = sub_298D90();
                  int v163 = v162;
                  if (os_log_type_enabled(v161, v162))
                  {
                    uint64_t v164 = swift_slowAlloc();
                    LODWORD(v201) = v163;
                    uint64_t v165 = v164;
                    v193 = (void *)swift_slowAlloc();
                    *(void *)&long long v210 = v193;
                    *(_DWORD *)uint64_t v165 = 136315394;
                    os_log_t v192 = v161;
                    sub_297000();
                    uint64_t v166 = sub_2989E0();
                    *(void *)&long long v209 = sub_6E98(v166, v167, (uint64_t *)&v210);
                    uint64_t v181 = v81;
                    sub_2992C0();
                    swift_release_n();
                    swift_bridgeObjectRelease();
                    *(_WORD *)(v165 + 12) = 2080;
                    id v168 = [v160 debugDescription];
                    uint64_t v169 = v82;
                    uint64_t v170 = sub_2989C0();
                    unint64_t v172 = v171;

                    *(void *)&long long v209 = sub_6E98(v170, v172, (uint64_t *)&v210);
                    sub_2992C0();

                    swift_bridgeObjectRelease();
                    os_log_t v173 = v192;
                    _os_log_impl(&dword_0, v192, (os_log_type_t)v201, "CommonMedia#makeSiriKitIntentHandler Unexpected state of AirPlay route setup: %s, intent: %s", (uint8_t *)v165, 0x16u);
                    swift_arrayDestroy();
                    swift_slowDealloc();
                    swift_slowDealloc();
                    swift_release();

                    v185(v189, v206);
                  }
                  else
                  {

                    swift_release_n();
                    v185(v158, v57);
                    uint64_t v169 = v82;
                  }
                  (*((void (**)(char *, uint64_t))v196 + 1))(v195, v169);
                }
                goto LABEL_27;
              }
              sub_18D5C((uint64_t)v193, (uint64_t)&v210);
            }
            sub_74A4(&v210, *((uint64_t *)&v211 + 1));
            sub_296DE0();
            id v138 = v187;
            (*(void (**)(uint64_t, id, uint64_t))(v199 + 32))(v207, v187, v139);
          }

          swift_release();
          return sub_7184((uint64_t)&v210);
        }
        v183(v29, v182, v57);
        uint64_t v84 = sub_2987E0();
        os_log_type_t v85 = sub_298DA0();
        if (os_log_type_enabled(v84, v85))
        {
          uint64_t v86 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v86 = 0;
          _os_log_impl(&dword_0, v84, v85, "CommonMedia#makeSiriKitIntentHandler Suppressing common WHA routes", v86, 2u);
          swift_slowDealloc();
        }

        v185(v29, v57);
        sub_298E20();
        (*((void (**)(char *, void, uint64_t))v196 + 13))(v191, enum case for AirPlayRouteSetupState.suppressedCommonRouteSetup(_:), v82);
        sub_297010();
        uint64_t v87 = v193;
        sub_74A4(v193, v193[3]);
        sub_18D5C((uint64_t)v87, (uint64_t)&v210);
        sub_18D5C((uint64_t)v201, (uint64_t)&v209);
        sub_18D5C((uint64_t)v192, (uint64_t)&v208);
        uint64_t v88 = swift_allocObject();
        sub_11EBC(&v210, v88 + 16);
        sub_11EBC(&v209, v88 + 56);
        sub_11EBC(&v208, v88 + 96);
        sub_296DA0();
        swift_release();

        swift_release();
      }
      else
      {
      }
    }
  }
  else
  {
    sub_7184((uint64_t)&v213);
  }
LABEL_27:
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v89 = v206;
  uint64_t v90 = sub_6E60(v206, (uint64_t)qword_31FC08);
  uint64_t v91 = v205;
  uint64_t v92 = *(uint8_t **)(v205 + 16);
  unint64_t v93 = v204;
  id v201 = (id)v90;
  ((void (*)(char *))v92)(v204);
  id v94 = v36;
  unint64_t v95 = sub_2987E0();
  os_log_type_t v96 = sub_298DC0();
  if (os_log_type_enabled(v95, v96))
  {
    uint64_t v97 = swift_slowAlloc();
    v196 = v92;
    uint64_t v98 = (uint8_t *)v97;
    *(void *)&long long v210 = swift_slowAlloc();
    *(_DWORD *)uint64_t v98 = 136315138;
    v195 = (char *)(v98 + 4);
    *(void *)&long long v209 = v94;
    swift_getWitnessTable();
    uint64_t v99 = sub_2995A0();
    *(void *)&long long v209 = sub_6E98(v99, v100, (uint64_t *)&v210);
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v95, v96, "CommonMedia#makeSiriKitIntentHandler for intent: %s", v98, 0xCu);
    swift_arrayDestroy();
    uint64_t v89 = v206;
    swift_slowDealloc();
    uint64_t v92 = v196;
    swift_slowDealloc();

    os_log_type_t v101 = *(void (**)(char *, uint64_t))(v91 + 8);
    v101(v204, v89);
  }
  else
  {

    os_log_type_t v101 = *(void (**)(char *, uint64_t))(v91 + 8);
    v101(v93, v89);
  }
  char v102 = sub_A6270();
  uint64_t v103 = v202;
  if (v102)
  {
    ((void (*)(char *, id, uint64_t))v92)(v202, v201, v89);
    os_log_type_t v104 = sub_2987E0();
    os_log_type_t v105 = sub_298DA0();
    if (os_log_type_enabled(v104, v105))
    {
      uint64_t v106 = swift_slowAlloc();
      uint64_t v204 = (char *)v101;
      uint64_t v107 = (uint8_t *)v106;
      uint64_t v108 = swift_slowAlloc();
      id v201 = v94;
      uint64_t v213 = v108;
      *(_DWORD *)uint64_t v107 = 136315138;
      v200 = (char *)(v107 + 4);
      uint64_t v109 = *(uint64_t (**)(uint64_t))(v199 + 24);
      uint64_t v110 = v197;
      id v111 = (void *)v109(v197);
      uint64_t ObjectType = swift_getObjectType();

      *(void *)&long long v210 = ObjectType;
      sub_71D4((uint64_t *)&unk_310410);
      uint64_t v113 = sub_2989E0();
      *(void *)&long long v210 = sub_6E98(v113, v114, &v213);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v104, v105, "CommonMedia#makeSiriKitIntentHandler IS for 1p music or podcasts, returning embedded handler: %s", v107, 0xCu);
      swift_arrayDestroy();
      id v94 = v201;
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v115 = v199;
      ((void (*)(char *, uint64_t))v204)(v202, v206);
    }
    else
    {

      v101(v103, v89);
      uint64_t v115 = v199;
      uint64_t v109 = *(uint64_t (**)(uint64_t))(v199 + 24);
      uint64_t v110 = v197;
    }
    swift_retain();
    ((void (*)(uint64_t, uint64_t))v109)(v110, v115);
    id v129 = v94;
    uint64_t v130 = v198;
    sub_2940F0();
    uint64_t v131 = sub_294100();
    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v131 - 8) + 56))(v130, 0, 1, v131);
  }
  else
  {
    ((void (*)(char *, id, uint64_t))v92)(v200, v201, v89);
    id v116 = v94;
    swift_retain_n();
    id v117 = v116;
    uint64_t v118 = sub_2987E0();
    os_log_type_t v119 = sub_298DA0();
    if (os_log_type_enabled(v118, v119))
    {
      uint64_t v204 = (char *)v101;
      uint64_t v120 = swift_slowAlloc();
      uint64_t v121 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v120 = 138412546;
      sub_2976E0();
      uint64_t v123 = v122;
      uint64_t v124 = v198;
      if (v122)
      {
        uint64_t v125 = sub_298A20();
        uint64_t v127 = v126;
        swift_bridgeObjectRelease();
        sub_7218();
        swift_allocError();
        *uint64_t v128 = v125;
        v128[1] = v127;
        uint64_t v123 = _swift_stdlib_bridgeErrorToNSError();
        uint64_t v213 = v123;
      }
      else
      {
        uint64_t v213 = 0;
      }
      sub_2992C0();
      *uint64_t v121 = v123;
      swift_release_n();
      *(_WORD *)(v120 + 12) = 2112;
      id v132 = [v117 launchId];
      if (v132)
      {
        uint64_t v133 = sub_2989C0();
        uint64_t v135 = v134;

        sub_7218();
        swift_allocError();
        *uint64_t v136 = v133;
        v136[1] = v135;
        id v132 = (id)_swift_stdlib_bridgeErrorToNSError();
        uint64_t v213 = (uint64_t)v132;
      }
      else
      {
        uint64_t v213 = 0;
      }
      sub_2992C0();
      uint64_t v89 = v206;
      v121[1] = v132;

      _os_log_impl(&dword_0, v118, v119, "CommonMedia#makeSiriKitIntentHandler not for 1p music or podcasts (or radio on watch). Bundle: %@, intent launchId: %@", (uint8_t *)v120, 0x16u);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      os_log_type_t v101 = (void (*)(char *, uint64_t))v204;
    }
    else
    {

      swift_release_n();
      uint64_t v124 = v198;
    }
    v101(v200, v89);
    uint64_t v137 = sub_294100();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v137 - 8) + 56))(v124, 1, 1, v137);
  }
}

BOOL sub_E8060()
{
  uint64_t v0 = sub_2976E0();
  uint64_t v2 = v1;
  uint64_t v3 = sub_296580();
  if (v2)
  {
    if (v0 == v3 && v2 == v4) {
      goto LABEL_16;
    }
    char v5 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v5) {
      return 0;
    }
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v6 = sub_2976E0();
  uint64_t v8 = v7;
  uint64_t v9 = sub_2965A0();
  if (v8)
  {
    if (v6 == v9 && v8 == v10) {
      goto LABEL_16;
    }
    char v11 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v11) {
      return 0;
    }
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v12 = sub_2976E0();
  uint64_t v14 = v13;
  uint64_t v15 = sub_296510();
  if (v14)
  {
    if (v12 == v15 && v14 == v16)
    {
LABEL_16:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return 0;
    }
    char v18 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return (v18 & 1) == 0;
  }
  else
  {
    swift_bridgeObjectRelease();
    return 1;
  }
}

uint64_t sub_E81D4(uint64_t a1, void *a2)
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v20 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v10 = (char *)&v20 - v9;
  if (a1)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v11 = sub_6E60(v4, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v8, v11, v4);
    uint64_t v12 = sub_2987E0();
    os_log_type_t v13 = sub_298DA0();
    if (os_log_type_enabled(v12, v13))
    {
      uint64_t v14 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v14 = 0;
      _os_log_impl(&dword_0, v12, v13, "CommonMedia#makeSiriKitIntentHandler Searching for output devices...", v14, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v5 + 8))(v8, v4);
    sub_74A4(a2, a2[3]);
    return sub_296DC0();
  }
  else
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v16 = sub_6E60(v4, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v10, v16, v4);
    uint64_t v17 = sub_2987E0();
    os_log_type_t v18 = sub_298DA0();
    if (os_log_type_enabled(v17, v18))
    {
      uint64_t v19 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v19 = 0;
      _os_log_impl(&dword_0, v17, v18, "CommonMedia#makeSiriKitIntentHandler Routes not found in the intent", v19, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v10, v4);
  }
}

uint64_t sub_E8634(void *a1, void *aBlock, void *a3)
{
  v3[2] = a1;
  v3[3] = a3;
  v3[4] = _Block_copy(aBlock);
  uint64_t v10 = (uint64_t (*)(uint64_t))((char *)&dword_3104F0 + dword_3104F0);
  id v6 = a1;
  id v7 = a3;
  uint64_t v8 = (void *)swift_task_alloc();
  v3[5] = v8;
  *uint64_t v8 = v3;
  v8[1] = sub_E8708;
  return v10((uint64_t)v6);
}

uint64_t sub_E8708(void *a1)
{
  uint64_t v3 = *(void (***)(void, void))(*v1 + 32);
  uint64_t v4 = *(void **)(*v1 + 24);
  uint64_t v5 = *(void **)(*v1 + 16);
  uint64_t v8 = *v1;
  swift_task_dealloc();

  ((void (**)(void, void *))v3)[2](v3, a1);
  _Block_release(v3);

  id v6 = *(uint64_t (**)(void))(v8 + 8);
  return v6();
}

id sub_E88EC()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for DialogProducingIntentHandler();
  return objc_msgSendSuper2(&v2, "dealloc");
}

uint64_t sub_E892C(uint64_t a1, uint64_t a2, int *a3)
{
  id v6 = (uint64_t (*)(void))((char *)a3 + *a3);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v3 + 16) = v4;
  void *v4 = v3;
  v4[1] = sub_5174C;
  return v6();
}

uint64_t sub_E89F8(uint64_t a1, uint64_t a2, uint64_t a3, int *a4)
{
  uint64_t v7 = (uint64_t (*)(void))((char *)a4 + *a4);
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v4 + 16) = v5;
  *uint64_t v5 = v4;
  v5[1] = sub_5174C;
  return v7();
}

uint64_t sub_E8AC4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_298C10();
  uint64_t v7 = *(void *)(v6 - 8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v7 + 48))(a1, 1, v6) != 1)
  {
    sub_298C00();
    (*(void (**)(uint64_t, uint64_t))(v7 + 8))(a1, v6);
    if (!*(void *)(a3 + 16)) {
      goto LABEL_5;
    }
    goto LABEL_3;
  }
  sub_23A44(a1, &qword_3104A8);
  if (*(void *)(a3 + 16))
  {
LABEL_3:
    swift_getObjectType();
    swift_unknownObjectRetain();
    sub_298BD0();
    swift_unknownObjectRelease();
  }
LABEL_5:
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = a2;
  *(void *)(v8 + 24) = a3;
  return swift_task_create();
}

uint64_t sub_E8C70(uint64_t a1, int *a2)
{
  uint64_t v6 = (uint64_t (*)(uint64_t))((char *)a2 + *a2);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v4;
  void *v4 = v2;
  v4[1] = sub_E8D4C;
  return v6(a1);
}

uint64_t sub_E8D4C()
{
  uint64_t v3 = *v0;
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v3 + 8);
  return v1();
}

uint64_t sub_E8E44()
{
  return sub_2995A0();
}

uint64_t type metadata accessor for DialogProducingIntentHandler()
{
  return self;
}

uint64_t sub_E8E94()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);
  sub_7184(v0 + 96);

  return _swift_deallocObject(v0, 136, 7);
}

uint64_t sub_E8EDC()
{
  _Block_release(*(const void **)(v0 + 24));

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_E8F24()
{
  uint64_t v2 = (void *)v0[2];
  uint64_t v3 = (void *)v0[3];
  uint64_t v4 = (void *)v0[4];
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v5;
  *uint64_t v5 = v1;
  v5[1] = sub_14480;
  uint64_t v6 = (uint64_t (*)(void *, void *, void *))((char *)&dword_3104B0 + dword_3104B0);
  return v6(v2, v3, v4);
}

uint64_t sub_E8FDC()
{
  uint64_t v2 = v0[2];
  uint64_t v3 = v0[3];
  uint64_t v4 = (int *)v0[4];
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v5;
  *uint64_t v5 = v1;
  v5[1] = sub_5174C;
  uint64_t v6 = (uint64_t (*)(uint64_t, uint64_t, int *))((char *)&dword_3104C0 + dword_3104C0);
  return v6(v2, v3, v4);
}

uint64_t sub_E90A0()
{
  swift_unknownObjectRelease();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_E90E0(uint64_t a1)
{
  uint64_t v4 = v1[2];
  uint64_t v5 = v1[3];
  uint64_t v6 = (int *)v1[4];
  uint64_t v7 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v7;
  *uint64_t v7 = v2;
  v7[1] = sub_5174C;
  uint64_t v8 = (uint64_t (*)(uint64_t, uint64_t, uint64_t, int *))((char *)&dword_3104D0 + dword_3104D0);
  return v8(a1, v4, v5, v6);
}

uint64_t sub_E91AC()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_E91E4(uint64_t a1)
{
  uint64_t v4 = *(int **)(v1 + 16);
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v5;
  *uint64_t v5 = v2;
  v5[1] = sub_14480;
  uint64_t v6 = (uint64_t (*)(uint64_t, int *))((char *)&dword_3104E0 + dword_3104E0);
  return v6(a1, v4);
}

uint64_t sub_E929C(uint64_t a1)
{
  v1[10] = a1;
  uint64_t v2 = sub_296E90();
  v1[11] = v2;
  v1[12] = *(void *)(v2 - 8);
  v1[13] = swift_task_alloc();
  v1[14] = sub_71D4(&qword_3104F8);
  v1[15] = swift_task_alloc();
  sub_71D4((uint64_t *)&unk_310500);
  v1[16] = swift_task_alloc();
  v1[17] = swift_task_alloc();
  v1[18] = swift_task_alloc();
  uint64_t v3 = sub_298800();
  v1[19] = v3;
  v1[20] = *(void *)(v3 - 8);
  v1[21] = swift_task_alloc();
  v1[22] = swift_task_alloc();
  return _swift_task_switch(sub_E9448, 0, 0);
}

uint64_t sub_E9448()
{
  uint64_t v56 = v0;
  v0[7] = v0[10];
  sub_E9B34();
  if (sub_296860())
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v1 = v0[22];
    uint64_t v2 = v0[19];
    uint64_t v3 = v0[20];
    uint64_t v4 = sub_6E60(v2, (uint64_t)qword_31FC08);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v3 + 16))(v1, v4, v2);
    uint64_t v5 = sub_2987E0();
    os_log_type_t v6 = sub_298DC0();
    if (os_log_type_enabled(v5, v6))
    {
      uint64_t v7 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v7 = 0;
      _os_log_impl(&dword_0, v5, v6, "DialogProducingIntentHandler#handle User just accepted TCC initiated from the HomePod for an SFA request. Using the dialog producing intent handler", v7, 2u);
      swift_slowDealloc();
    }
    uint64_t v8 = v0[22];
    uint64_t v9 = v0[19];
    uint64_t v10 = v0[20];

    (*(void (**)(uint64_t, uint64_t))(v10 + 8))(v8, v9);
    id v11 = [objc_allocWithZone((Class)INPlayMediaIntentResponse) initWithCode:4 userActivity:0];
    goto LABEL_23;
  }
  sub_297030();
  sub_2963E0();
  sub_74A4(v0 + 2, v0[5]);
  sub_2965D0();
  sub_7184((uint64_t)(v0 + 2));
  uint64_t v12 = sub_297020();
  swift_bridgeObjectRelease();
  if (!v12) {
    goto LABEL_16;
  }
  uint64_t v14 = v0[17];
  uint64_t v13 = v0[18];
  uint64_t v15 = v0[14];
  uint64_t v16 = v0[15];
  uint64_t v18 = v0[11];
  uint64_t v17 = v0[12];
  sub_297000();
  uint64_t v19 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v17 + 56);
  v19(v13, 0, 1, v18);
  (*(void (**)(uint64_t, void, uint64_t))(v17 + 104))(v14, enum case for AirPlayRouteSetupState.error(_:), v18);
  v19(v14, 0, 1, v18);
  uint64_t v20 = v16 + *(int *)(v15 + 48);
  sub_E9B74(v13, v16);
  sub_E9B74(v14, v20);
  uint64_t v21 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v17 + 48);
  if (v21(v16, 1, v18) != 1)
  {
    uint64_t v24 = v0[11];
    sub_E9B74(v0[15], v0[16]);
    int v25 = v21(v20, 1, v24);
    uint64_t v27 = v0[17];
    uint64_t v26 = v0[18];
    uint64_t v28 = v0[16];
    if (v25 != 1)
    {
      uint64_t v53 = v0[15];
      uint64_t v31 = v0[12];
      uint64_t v32 = v0[13];
      uint64_t v33 = v0[11];
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v31 + 32))(v32, v20, v33);
      sub_E9BDC((unint64_t *)&unk_310510, (void (*)(uint64_t))&type metadata accessor for AirPlayRouteSetupState);
      char v34 = sub_2989A0();
      uint64_t v35 = *(void (**)(uint64_t, uint64_t))(v31 + 8);
      v35(v32, v33);
      sub_23A44(v27, (uint64_t *)&unk_310500);
      sub_23A44(v26, (uint64_t *)&unk_310500);
      v35(v28, v33);
      sub_23A44(v53, (uint64_t *)&unk_310500);
      if ((v34 & 1) == 0) {
        goto LABEL_16;
      }
      goto LABEL_15;
    }
    uint64_t v30 = v0[11];
    uint64_t v29 = v0[12];
    sub_23A44(v0[17], (uint64_t *)&unk_310500);
    sub_23A44(v26, (uint64_t *)&unk_310500);
    (*(void (**)(uint64_t, uint64_t))(v29 + 8))(v28, v30);
LABEL_13:
    sub_23A44(v0[15], &qword_3104F8);
    goto LABEL_16;
  }
  uint64_t v22 = v0[18];
  uint64_t v23 = v0[11];
  sub_23A44(v0[17], (uint64_t *)&unk_310500);
  sub_23A44(v22, (uint64_t *)&unk_310500);
  if (v21(v20, 1, v23) != 1) {
    goto LABEL_13;
  }
  sub_23A44(v0[15], (uint64_t *)&unk_310500);
LABEL_15:
  if (sub_296FE0())
  {
    uint64_t v36 = 4;
    goto LABEL_17;
  }
LABEL_16:
  uint64_t v36 = 6;
LABEL_17:
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v37 = v0[20];
  uint64_t v38 = v0[21];
  uint64_t v39 = v0[19];
  uint64_t v40 = sub_6E60(v39, (uint64_t)qword_31FC08);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v37 + 16))(v38, v40, v39);
  uint64_t v41 = sub_2987E0();
  os_log_type_t v42 = sub_298DA0();
  BOOL v43 = os_log_type_enabled(v41, v42);
  uint64_t v45 = v0[20];
  uint64_t v44 = v0[21];
  uint64_t v46 = v0[19];
  if (v43)
  {
    uint64_t v54 = v0[21];
    uint64_t v52 = v0[19];
    uint64_t v47 = (uint8_t *)swift_slowAlloc();
    uint64_t v55 = swift_slowAlloc();
    *(_DWORD *)uint64_t v47 = 136315138;
    v0[8] = v36;
    type metadata accessor for INPlayMediaIntentResponseCode(0);
    uint64_t v48 = sub_2989E0();
    v0[9] = sub_6E98(v48, v49, &v55);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v41, v42, "AirPlayErrorIntentHandler#handle short circuiting handle because of AirPlay setup error, returning %s", v47, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(uint64_t, uint64_t))(v45 + 8))(v54, v52);
  }
  else
  {

    (*(void (**)(uint64_t, uint64_t))(v45 + 8))(v44, v46);
  }
  id v11 = [objc_allocWithZone((Class)INPlayMediaIntentResponse) initWithCode:v36 userActivity:0];
  swift_release();
LABEL_23:
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  char v50 = (uint64_t (*)(id))v0[1];
  return v50(v11);
}

unint64_t sub_E9B34()
{
  unint64_t result = qword_317810;
  if (!qword_317810)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_317810);
  }
  return result;
}

uint64_t sub_E9B74(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4((uint64_t *)&unk_310500);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_E9BDC(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t _s27NeedsDisambiguationStrategyCMa_1()
{
  uint64_t result = qword_310548;
  if (!qword_310548) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_E9C70(uint64_t a1)
{
  return sub_E9CB8(a1, 0xD000000000000020, 0x80000000002A5460, &qword_310670);
}

uint64_t sub_E9C94(uint64_t a1)
{
  return sub_E9CB8(a1, 0xD000000000000019, 0x80000000002A5440, &qword_310678);
}

uint64_t sub_E9CB8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  uint64_t v5 = sub_2990B0();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v15 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_298900();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v15 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_2988F0();
  sub_2990A0();
  uint64_t v13 = sub_2961B0();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  *a4 = v13;
  return result;
}

void sub_E9E50()
{
  qword_310680 = 204;
}

uint64_t sub_E9E60(uint64_t (*a1)(uint64_t))
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v13 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v4, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v8, v4);
  uint64_t v9 = sub_2987E0();
  os_log_type_t v10 = sub_298DC0();
  if (os_log_type_enabled(v9, v10))
  {
    uint64_t v11 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v11 = 0;
    _os_log_impl(&dword_0, v9, v10, "ShazamKitRecognizer#enableLiveActivity true for iOS", v11, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  [*(id *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) setEnableLiveActivity:1];
  return a1(1);
}

uint64_t sub_EA034(uint64_t a1, uint64_t a2, void (*a3)(char *), uint64_t a4)
{
  uint64_t v31 = a2;
  uint64_t v32 = a3;
  uint64_t v33 = a4;
  uint64_t v29 = a1;
  uint64_t v4 = sub_295E70();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_296000();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v26 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_310760);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)v26 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v28 = sub_295EB0();
  uint64_t v15 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  uint64_t v17 = (char *)v26 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (sub_EC13C())
  {
    uint64_t v27 = v4;
    if (qword_30C830 != -1) {
      swift_once();
    }
    v26[2] = qword_310670;
    if (qword_30C838 != -1) {
      swift_once();
    }
    v26[1] = qword_310678;
    uint64_t v18 = v15;
    uint64_t v19 = *(void (**)(char *, void, uint64_t))(v15 + 104);
    uint64_t v20 = v28;
    v19(v17, enum case for Completions.TimeoutMillis.shazamKitRecognizer(_:), v28);
    (*(void (**)(char *, void, uint64_t))(v9 + 104))(v11, enum case for PlaybackCode.acousticIDTimeout(_:), v8);
    (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for DomainCode.shazamKit(_:), v27);
    sub_297080();
    swift_storeEnumTagMultiPayload();
    uint64_t v21 = (void *)swift_allocObject();
    uint64_t v23 = v29;
    uint64_t v22 = v30;
    void v21[2] = v30;
    v21[3] = v23;
    v21[4] = v31;
    id v24 = v22;
    swift_retain();
    sub_295ED0();
    swift_release();
    sub_23A44((uint64_t)v14, &qword_310760);
    return (*(uint64_t (**)(char *, uint64_t))(v18 + 8))(v17, v20);
  }
  else
  {
    (*(void (**)(char *, void, uint64_t))(v9 + 104))(v11, enum case for PlaybackCode.acousticIDGenericError(_:), v8);
    (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for DomainCode.shazamKit(_:), v4);
    sub_297080();
    swift_storeEnumTagMultiPayload();
    v32(v14);
    return sub_23A44((uint64_t)v14, &qword_310760);
  }
}

uint64_t sub_EA4CC(uint64_t a1, uint64_t a2, char *a3, void (*a4)(id), NSObject *a5)
{
  v38[1] = a5;
  uint64_t v39 = a4;
  uint64_t v48 = a3;
  uint64_t v40 = a1;
  uint64_t v41 = a2;
  uint64_t v5 = sub_2988D0();
  uint64_t v46 = *(void *)(v5 - 8);
  uint64_t v47 = v5;
  __chkstk_darwin(v5);
  uint64_t v44 = (char *)v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v45 = sub_298900();
  uint64_t v43 = *(void *)(v45 - 8);
  __chkstk_darwin(v45);
  os_log_type_t v42 = (char *)v38 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)v38 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)v38 - v13;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_6E60(v8, (uint64_t)qword_31FC20);
  uint64_t v16 = *(void (**)(char *, uint64_t, uint64_t))(v9 + 16);
  v16(v14, v15, v8);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298DC0();
  if (os_log_type_enabled(v17, v18))
  {
    uint64_t v19 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "ShazamKitRecognizer#performMatch Entering dispatchGroup", v19, 2u);
    swift_slowDealloc();
  }

  uint64_t v20 = *(void (**)(char *, uint64_t))(v9 + 8);
  v20(v14, v8);
  uint64_t v21 = v48;
  v38[0] = *(dispatch_group_t *)&v48[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup];
  dispatch_group_enter(v38[0]);
  uint64_t v22 = *(void **)&v21[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession];
  [v22 setDelegate:v21];
  v16(v12, v15, v8);
  uint64_t v23 = sub_2987E0();
  os_log_type_t v24 = sub_298DC0();
  if (os_log_type_enabled(v23, v24))
  {
    int v25 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)int v25 = 0;
    _os_log_impl(&dword_0, v23, v24, "ShazamKitRecognizer#performMatch triggering matchAmbientAudioSnippet", v25, 2u);
    swift_slowDealloc();
  }

  v20(v12, v8);
  id v26 = [v22 matchAmbientAudioSnippet];
  v39(v26);
  sub_1983C(0, (unint64_t *)&qword_310768);
  uint64_t v27 = (void *)sub_2990D0();
  uint64_t v28 = (void *)swift_allocObject();
  uint64_t v29 = v48;
  uint64_t v30 = v40;
  uint64_t v31 = v41;
  void v28[2] = v48;
  v28[3] = v30;
  v28[4] = v31;
  aBlock[4] = sub_EC914;
  aBlock[5] = v28;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_7460;
  aBlock[3] = &unk_2F6E90;
  uint64_t v32 = _Block_copy(aBlock);
  id v33 = v29;
  swift_retain();
  char v34 = v42;
  sub_2988E0();
  unint64_t v49 = _swiftEmptyArrayStorage;
  sub_EC920((unint64_t *)&qword_310770, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
  sub_71D4(&qword_30E460);
  sub_25E7C();
  uint64_t v35 = v44;
  uint64_t v36 = v47;
  sub_299330();
  sub_299090();
  _Block_release(v32);

  (*(void (**)(char *, uint64_t))(v46 + 8))(v35, v36);
  (*(void (**)(char *, uint64_t))(v43 + 8))(v34, v45);
  return swift_release();
}

uint64_t sub_EAA28(uint64_t a1, void (*a2)(char *))
{
  uint64_t v4 = sub_71D4(&qword_310760);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v17 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  [*(id *)(a1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) setDelegate:0];
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v7, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v11, v7);
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DC0();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_0, v12, v13, "ShazamKitRecognizer#performMatch completed", v14, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
  uint64_t v15 = a1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result;
  swift_beginAccess();
  sub_11E58(v15, (uint64_t)v6, &qword_310760);
  a2(v6);
  return sub_23A44((uint64_t)v6, &qword_310760);
}

uint64_t sub_EAC8C(uint64_t a1)
{
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t result = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v15 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1)
  {
    uint64_t v7 = (void *)sub_2935A0();
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v8 = sub_6E60(v2, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v6, v8, v2);
    uint64_t v9 = v7;
    uint64_t v10 = sub_2987E0();
    os_log_type_t v11 = sub_298DB0();
    if (os_log_type_enabled(v10, v11))
    {
      uint64_t v12 = swift_slowAlloc();
      uint64_t v17 = v3;
      os_log_type_t v13 = (uint8_t *)v12;
      uint64_t v16 = (void *)swift_slowAlloc();
      *(_DWORD *)os_log_type_t v13 = 138412290;
      os_log_type_t v18 = v9;
      uint64_t v14 = v9;
      sub_2992C0();
      *uint64_t v16 = v9;

      _os_log_impl(&dword_0, v10, v11, "ShazamKitRecognizer#sessionDidFindMatch Failed to add song to SHMediaLibrary: %@", v13, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      uint64_t v3 = v17;
      swift_slowDealloc();
    }
    else
    {

      uint64_t v10 = v9;
    }

    return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v6, v2);
  }
  return result;
}

void sub_EAFF4(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v30 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v10 = (char *)&v30 - v9;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v4, (uint64_t)qword_31FC20);
  uint64_t v36 = *(void (**)(char *))(v5 + 16);
  uint64_t v37 = v11;
  v36(v10);
  id v12 = a1;
  os_log_type_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  int v15 = v14;
  if (os_log_type_enabled(v13, v14))
  {
    char v34 = v10;
    int v33 = v15;
    uint64_t v16 = (uint8_t *)swift_slowAlloc();
    uint64_t v32 = swift_slowAlloc();
    uint64_t v39 = v32;
    uint64_t v35 = v5;
    *(_DWORD *)uint64_t v16 = 136315138;
    uint64_t v31 = v16;
    id v17 = objc_msgSend(v12, "description", v16 + 4);
    os_log_type_t v18 = v8;
    uint64_t v19 = v4;
    uint64_t v20 = v2;
    uint64_t v21 = sub_2989C0();
    unint64_t v23 = v22;

    uint64_t v24 = v21;
    uint64_t v2 = v20;
    uint64_t v4 = v19;
    uint64_t v8 = v18;
    uint64_t v38 = sub_6E98(v24, v23, &v39);
    uint64_t v25 = v35;
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v13, (os_log_type_t)v33, "ShazamKitRecognizer#finishedManagedSession: %s", v31, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    id v26 = *(void (**)(char *, uint64_t))(v25 + 8);
    v26(v34, v4);
  }
  else
  {

    id v26 = *(void (**)(char *, uint64_t))(v5 + 8);
    v26(v10, v4);
  }
  [*(id *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) setDelegate:0];
  ((void (*)(char *, uint64_t, uint64_t))v36)(v8, v37, v4);
  uint64_t v27 = sub_2987E0();
  os_log_type_t v28 = sub_298DC0();
  if (os_log_type_enabled(v27, v28))
  {
    uint64_t v29 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v29 = 0;
    _os_log_impl(&dword_0, v27, v28, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v29, 2u);
    swift_slowDealloc();
  }

  v26(v8, v4);
  dispatch_group_leave(*(dispatch_group_t *)(v2
                                           + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup));
}

uint64_t sub_EB40C(uint64_t a1, void (*a2)(uint64_t), uint64_t a3)
{
  uint64_t v58 = a3;
  uint64_t v59 = a2;
  uint64_t v4 = sub_2962A0();
  uint64_t v55 = *(char **)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v53 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v60 = sub_298800();
  uint64_t v57 = *(void *)(v60 - 8);
  uint64_t v7 = __chkstk_darwin(v60);
  uint64_t v54 = (uint8_t *)&v53 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v53 = (char *)&v53 - v10;
  __chkstk_darwin(v9);
  uint64_t v56 = (char *)&v53 - v11;
  uint64_t v12 = sub_296A20();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v16 = (char *)&v53 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  os_log_type_t v18 = (char *)&v53 - v17;
  uint64_t v19 = sub_71D4(&qword_310750);
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v53 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_11E58(a1, (uint64_t)v21, &qword_310750);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    (*(void (**)(char *, char *, uint64_t))(v13 + 32))(v18, v21, v12);
    unint64_t v22 = v18;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v23 = v60;
    uint64_t v24 = sub_6E60(v60, (uint64_t)qword_31FC20);
    uint64_t v25 = v57;
    (*(void (**)(char *, uint64_t, uint64_t))(v57 + 16))(v56, v24, v23);
    id v26 = *(void (**)(char *, char *, uint64_t))(v13 + 16);
    uint64_t v55 = v22;
    v26(v16, v22, v12);
    uint64_t v27 = sub_2987E0();
    os_log_type_t v28 = sub_298DB0();
    if (os_log_type_enabled(v27, v28))
    {
      uint64_t v29 = (uint8_t *)swift_slowAlloc();
      uint64_t v62 = swift_slowAlloc();
      uint64_t v54 = v29;
      *(_DWORD *)uint64_t v29 = 136446210;
      sub_EC920((unint64_t *)&qword_310758, (void (*)(uint64_t))&type metadata accessor for NowPlayingInfoError);
      uint64_t v30 = sub_299620();
      uint64_t v61 = sub_6E98(v30, v31, &v62);
      sub_2992C0();
      swift_bridgeObjectRelease();
      uint64_t v32 = *(void (**)(char *, uint64_t))(v13 + 8);
      v32(v16, v12);
      _os_log_impl(&dword_0, v27, v28, "ShazamKitRecognizer#shouldUseAsyncNotification failure with error: %{public}s, returning false", v54, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v25 + 8))(v56, v60);
    }
    else
    {
      uint64_t v32 = *(void (**)(char *, uint64_t))(v13 + 8);
      v32(v16, v12);

      (*(void (**)(char *, uint64_t))(v25 + 8))(v56, v23);
    }
    v59(0);
    return ((uint64_t (*)(char *, uint64_t))v32)(v55, v12);
  }
  else
  {
    int v33 = v55;
    (*((void (**)(char *, char *, uint64_t))v55 + 4))(v6, v21, v4);
    uint64_t v34 = sub_296290();
    uint64_t v35 = v6;
    if ((v36 & 1) != 0 || v34 != 2)
    {
      uint64_t v46 = v60;
      uint64_t v47 = v57;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v48 = sub_6E60(v46, (uint64_t)qword_31FC20);
      unint64_t v49 = v54;
      (*(void (**)(uint8_t *, uint64_t, uint64_t))(v47 + 16))(v54, v48, v46);
      char v50 = sub_2987E0();
      os_log_type_t v51 = sub_298DC0();
      if (os_log_type_enabled(v50, v51))
      {
        uint64_t v52 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v52 = 0;
        _os_log_impl(&dword_0, v50, v51, "ShazamKitRecognizer#shouldUseAsyncNotification Now playing media type is not video, returning false", v52, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(uint8_t *, uint64_t))(v47 + 8))(v49, v46);
      uint64_t v44 = 0;
    }
    else
    {
      uint64_t v37 = v60;
      uint64_t v38 = v57;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v39 = sub_6E60(v37, (uint64_t)qword_31FC20);
      uint64_t v40 = v53;
      (*(void (**)(char *, uint64_t, uint64_t))(v38 + 16))(v53, v39, v37);
      uint64_t v41 = sub_2987E0();
      os_log_type_t v42 = sub_298DC0();
      if (os_log_type_enabled(v41, v42))
      {
        uint64_t v43 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v43 = 0;
        _os_log_impl(&dword_0, v41, v42, "ShazamKitRecognizer#shouldUseAsyncNotification Now playing media type is video, returning true", v43, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v38 + 8))(v40, v37);
      uint64_t v44 = 1;
    }
    v59(v44);
    return (*((uint64_t (**)(char *, uint64_t))v33 + 1))(v35, v4);
  }
}

void sub_EBB64()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v10 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_6E60(v2, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  uint64_t v7 = sub_2987E0();
  os_log_type_t v8 = sub_298DC0();
  if (os_log_type_enabled(v7, v8))
  {
    uint64_t v9 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v9 = 0;
    _os_log_impl(&dword_0, v7, v8, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v9, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  dispatch_group_leave(*(dispatch_group_t *)(v1
                                           + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup));
}

id sub_EBD3C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ShazamKitRecognizer();
  return objc_msgSendSuper2(&v2, "dealloc");
}

uint64_t sub_EBDE8()
{
  return type metadata accessor for ShazamKitRecognizer();
}

uint64_t type metadata accessor for ShazamKitRecognizer()
{
  uint64_t result = qword_310728;
  if (!qword_310728) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_EBE3C()
{
  sub_EBEE4();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

void sub_EBEE4()
{
  if (!qword_310738)
  {
    sub_60904(&qword_310740);
    sub_2970A0();
    sub_EC920(&qword_310748, (void (*)(uint64_t))&type metadata accessor for PlaybackCodeAndDescription);
    unint64_t v0 = sub_2996D0();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_310738);
    }
  }
}

uint64_t sub_EBF94(uint64_t a1, uint64_t a2, void (*a3)(char *), uint64_t a4)
{
  return sub_EA034(a1, a2, a3, a4);
}

uint64_t sub_EBFB8(uint64_t a1, uint64_t a2)
{
  sub_74A4((void *)(*v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_nowPlayingProvider), *(void *)(*v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_nowPlayingProvider + 24));
  uint64_t v5 = swift_allocObject();
  *(void *)(v5 + 16) = a1;
  *(void *)(v5 + 24) = a2;
  swift_retain();
  sub_296A40();

  return swift_release();
}

id sub_EC068()
{
  return [*(id *)(*v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) stopMatchingAmbientAudioSnippet];
}

void sub_EC084()
{
  uint64_t v1 = *(void **)(*v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession);
  [v1 stopMatchingAmbientAudioSnippet];
  [v1 setDelegate:0];
  sub_EBB64();
}

uint64_t sub_EC0D8(uint64_t (*a1)(uint64_t))
{
  return sub_E9E60(a1);
}

uint64_t sub_EC0FC()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_EC134(uint64_t a1)
{
  return sub_EB40C(a1, *(void (**)(uint64_t))(v1 + 16), *(void *)(v1 + 24));
}

id sub_EC13C()
{
  uint64_t v0 = sub_2987D0();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v51 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  os_log_type_t v8 = (char *)v51 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v10 = (char *)v51 - v9;
  id v11 = [self sharedInstance];
  v59[0] = 0;
  id v12 = [v11 setActive:0 withOptions:1 error:v59];

  if (v12)
  {
    uint64_t v13 = qword_30C850;
    id v14 = v59[0];
    if (v13 != -1) {
      swift_once();
    }
    uint64_t v15 = sub_6E60(v4, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v10, v15, v4);
    uint64_t v16 = sub_2987E0();
    os_log_type_t v17 = sub_298DC0();
    if (os_log_type_enabled(v16, v17))
    {
      os_log_type_t v18 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)os_log_type_t v18 = 0;
      _os_log_impl(&dword_0, v16, v17, "ShazamKitRecognizer#deactivateAudioSession AVAudioSession logic change success", v18, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v5 + 8))(v10, v4);
    sub_299110();
    if (qword_30C890 != -1) {
      swift_once();
    }
    sub_71D4((uint64_t *)&unk_317820);
    uint64_t v19 = swift_allocObject();
    *(_OWORD *)(v19 + 16) = xmmword_29A440;
    *(void *)(v19 + 56) = &type metadata for Int;
    *(void *)(v19 + 64) = &protocol witness table for Int;
    *(void *)(v19 + 32) = 0;
    sub_2987C0();
    sub_298790();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  }
  else
  {
    unsigned int v56 = 0;
    id v20 = v59[0];
    uint64_t v21 = sub_2935B0();

    swift_willThrow();
    uint64_t v55 = v21;
    unint64_t v22 = (void *)sub_2935A0();
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v23 = sub_6E60(v4, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v8, v23, v4);
    id v24 = v22;
    uint64_t v25 = sub_2987E0();
    os_log_type_t v26 = sub_298DB0();
    int v27 = v26;
    BOOL v28 = os_log_type_enabled(v25, v26);
    p_attr = &stru_309FF8.attr;
    uint64_t v57 = v3;
    uint64_t v58 = v0;
    if (v28)
    {
      int v54 = v27;
      uint64_t v30 = (uint8_t *)swift_slowAlloc();
      uint64_t v53 = swift_slowAlloc();
      uint64_t v60 = v53;
      *(_DWORD *)uint64_t v30 = 136315138;
      v51[1] = v30 + 4;
      uint64_t v52 = v30;
      id v31 = [v24 localizedDescription];
      id v32 = v24;
      uint64_t v33 = v1;
      id v34 = v31;
      uint64_t v35 = (void *)sub_2989C0();
      uint64_t v37 = v36;

      uint64_t v1 = v33;
      id v24 = v32;
      p_attr = (char **)(&stru_309FF8 + 8);
      v59[0] = v35;
      v59[1] = v37;
      uint64_t v38 = sub_298B00();
      v59[0] = (id)sub_6E98(v38, v39, &v60);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v25, (os_log_type_t)v54, "ShazamKitRecognizer#deactivateAudioSession AVAudioSession logic change failed: %s", v52, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
    }
    (*(void (**)(char *, uint64_t))(v5 + 8))(v8, v4);
    v59[0] = [v24 code];
    uint64_t v40 = sub_2995A0();
    uint64_t v42 = v41;
    id v43 = objc_msgSend(v24, p_attr[448]);
    uint64_t v44 = sub_2989C0();
    uint64_t v46 = v45;

    sub_299110();
    if (qword_30C890 != -1) {
      swift_once();
    }
    sub_71D4((uint64_t *)&unk_317820);
    uint64_t v47 = swift_allocObject();
    *(_OWORD *)(v47 + 16) = xmmword_29BFD0;
    *(void *)(v47 + 56) = &type metadata for String;
    unint64_t v48 = sub_7368();
    *(void *)(v47 + 32) = v40;
    *(void *)(v47 + 40) = v42;
    *(void *)(v47 + 96) = &type metadata for String;
    *(void *)(v47 + 104) = v48;
    *(void *)(v47 + 64) = v48;
    *(void *)(v47 + 72) = v44;
    *(void *)(v47 + 80) = v46;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    unint64_t v49 = v57;
    sub_2987C0();
    sub_298790();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v49, v58);
    swift_errorRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    return (id)v56;
  }
  return v12;
}

uint64_t sub_EC8C4(uint64_t a1, uint64_t a2)
{
  return sub_EA4CC(a1, a2, *(char **)(v2 + 16), *(void (**)(id))(v2 + 24), *(NSObject **)(v2 + 32));
}

uint64_t sub_EC8D4()
{
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_EC914()
{
  return sub_EAA28(*(void *)(v0 + 16), *(void (**)(char *))(v0 + 24));
}

uint64_t sub_EC920(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_EC968(void *a1)
{
  uint64_t v3 = sub_295E70();
  uint64_t v69 = *(void *)(v3 - 8);
  uint64_t v70 = (void *)v3;
  __chkstk_darwin(v3);
  uint64_t v5 = (char *)&v65 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_296000();
  uint64_t v67 = *(void *)(v6 - 8);
  uint64_t v68 = (void (*)(char *))v6;
  __chkstk_darwin(v6);
  os_log_type_t v8 = (char *)&v65 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_298800();
  uint64_t v74 = *(void *)(v9 - 8);
  uint64_t v10 = __chkstk_darwin(v9);
  id v12 = (char *)&v65 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = __chkstk_darwin(v10);
  uint64_t v15 = (char *)&v65 - v14;
  uint64_t v16 = __chkstk_darwin(v13);
  uint64_t v71 = (char *)&v65 - v17;
  __chkstk_darwin(v16);
  unint64_t v73 = (char *)&v65 - v18;
  uint64_t v19 = sub_71D4(&qword_310760);
  __chkstk_darwin(v19);
  uint64_t v21 = (uint64_t *)((char *)&v65 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0));
  id v22 = [a1 mediaItems];
  sub_1983C(0, &qword_3107A8);
  unint64_t v23 = sub_298B50();

  if (v23 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v53 = sub_2994C0();
    swift_bridgeObjectRelease();
    uint64_t v75 = v9;
    if (v53)
    {
LABEL_3:
      if ((v23 & 0xC000000000000001) != 0)
      {
        id v25 = (id)sub_2993E0();
        id v12 = v1;
      }
      else
      {
        if (!*(void *)((char *)&dword_10 + (v23 & 0xFFFFFFFFFFFFFF8)))
        {
          __break(1u);
          goto LABEL_23;
        }
        id v12 = v1;
        id v25 = *(id *)(v23 + 32);
      }
      swift_bridgeObjectRelease();
      id v26 = [self defaultLibrary];
      sub_71D4(&qword_3107B0);
      uint64_t v27 = swift_allocObject();
      *(_OWORD *)(v27 + 16) = xmmword_29A8D0;
      *(void *)(v27 + 32) = v25;
      aBlock[0] = v27;
      sub_298B70();
      sub_1983C(0, &qword_3107B8);
      id v28 = v25;
      Class isa = sub_298B40().super.isa;
      swift_bridgeObjectRelease();
      aBlock[4] = (uint64_t)sub_EAC8C;
      aBlock[5] = 0;
      aBlock[0] = (uint64_t)_NSConcreteStackBlock;
      aBlock[1] = 1107296256;
      aBlock[2] = (uint64_t)sub_48C1C;
      aBlock[3] = (uint64_t)&unk_2F6EB8;
      uint64_t v30 = _Block_copy(aBlock);
      [v26 addMediaItems:isa completionHandler:v30];
      _Block_release(v30);

      type metadata accessor for ShazamKitMatch();
      swift_allocObject();
      os_log_type_t v8 = (char *)v28;
      id v31 = ShazamKitMatch.init(matchedSong:)(v28);
      *uint64_t v21 = v31;
      swift_storeEnumTagMultiPayload();
      uint64_t v32 = (uint64_t)&v12[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result];
      swift_beginAccess();
      uint64_t v70 = v31;
      swift_retain();
      sub_EE2EC((uint64_t)v21, v32);
      swift_endAccess();
      if (qword_30C850 == -1)
      {
LABEL_7:
        uint64_t v33 = v75;
        uint64_t v34 = sub_6E60(v75, (uint64_t)qword_31FC20);
        uint64_t v35 = v73;
        uint64_t v36 = v74;
        uint64_t v68 = *(void (**)(char *))(v74 + 16);
        uint64_t v69 = v34;
        v68(v73);
        uint64_t v37 = v8;
        uint64_t v38 = sub_2987E0();
        os_log_type_t v39 = sub_298DC0();
        if (os_log_type_enabled(v38, v39))
        {
          uint64_t v40 = v37;
          uint64_t v41 = (uint8_t *)swift_slowAlloc();
          uint64_t v42 = swift_slowAlloc();
          uint64_t v72 = v12;
          uint64_t v67 = v42;
          aBlock[0] = v42;
          *(_DWORD *)uint64_t v41 = 136315138;
          int v66 = (void (*)(char *, char *, uint64_t))(v41 + 4);
          id v43 = [v40 description];
          uint64_t v44 = sub_2989C0();
          unint64_t v46 = v45;

          uint64_t v47 = v44;
          uint64_t v33 = v75;
          uint64_t v76 = sub_6E98(v47, v46, aBlock);
          sub_2992C0();

          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v38, v39, "ShazamKitRecognizer#sessionDidFindMatch Got the following result: %s", v41, 0xCu);
          swift_arrayDestroy();
          id v12 = v72;
          swift_slowDealloc();
          uint64_t v37 = v40;
          swift_slowDealloc();

          unint64_t v48 = *(void (**)(char *, uint64_t))(v36 + 8);
          v48(v73, v33);
        }
        else
        {

          unint64_t v48 = *(void (**)(char *, uint64_t))(v36 + 8);
          v48(v35, v33);
        }
        unint64_t v49 = v71;
        [*(id *)&v12[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession] setDelegate:0];
        ((void (*)(char *, uint64_t, uint64_t))v68)(v49, v69, v33);
        char v50 = sub_2987E0();
        os_log_type_t v51 = sub_298DC0();
        if (os_log_type_enabled(v50, v51))
        {
          uint64_t v52 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v52 = 0;
          _os_log_impl(&dword_0, v50, v51, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v52, 2u);
          uint64_t v33 = v75;
          swift_slowDealloc();
        }

        v48(v49, v33);
        dispatch_group_leave(*(dispatch_group_t *)&v12[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup]);

        swift_release();
        return;
      }
LABEL_23:
      swift_once();
      goto LABEL_7;
    }
  }
  else
  {
    uint64_t v24 = *(void *)((char *)&dword_10 + (v23 & 0xFFFFFFFFFFFFFF8));
    uint64_t v75 = v9;
    if (v24) {
      goto LABEL_3;
    }
  }
  uint64_t v72 = v1;
  unint64_t v73 = (char *)v19;
  swift_bridgeObjectRelease();
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v54 = sub_6E60(v9, (uint64_t)qword_31FC20);
  uint64_t v55 = *(void (**)(char *, char *, uint64_t))(v74 + 16);
  uint64_t v71 = (char *)v54;
  int v66 = v55;
  ((void (*)(char *))v55)(v15);
  unsigned int v56 = sub_2987E0();
  os_log_type_t v57 = sub_298DB0();
  if (os_log_type_enabled(v56, v57))
  {
    uint64_t v58 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v58 = 0;
    _os_log_impl(&dword_0, v56, v57, "ShazamKitRecognizer#sessionDidFindMatch Invalid results from ShazamKit", v58, 2u);
    uint64_t v9 = v75;
    swift_slowDealloc();
  }

  uint64_t v59 = *(void (**)(char *, uint64_t))(v74 + 8);
  v59(v15, v9);
  (*(void (**)(char *, void, void (*)(char *)))(v67 + 104))(v8, enum case for PlaybackCode.acousticIDGenericError(_:), v68);
  (*(void (**)(char *, void, void *))(v69 + 104))(v5, enum case for DomainCode.shazamKit(_:), v70);
  sub_297080();
  swift_storeEnumTagMultiPayload();
  uint64_t v60 = v72;
  uint64_t v61 = (uint64_t)&v72[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result];
  swift_beginAccess();
  sub_EE2EC((uint64_t)v21, v61);
  swift_endAccess();
  [*(id *)&v60[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession] setDelegate:0];
  v66(v12, v71, v9);
  uint64_t v62 = sub_2987E0();
  os_log_type_t v63 = sub_298DC0();
  if (os_log_type_enabled(v62, v63))
  {
    id v64 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v64 = 0;
    _os_log_impl(&dword_0, v62, v63, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v64, 2u);
    uint64_t v9 = v75;
    swift_slowDealloc();
  }

  v59(v12, v9);
  dispatch_group_leave(*(dispatch_group_t *)&v72[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup]);
}

void sub_ED3B8(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v113 = sub_295E70();
  uint64_t v4 = *(void *)(v113 - 8);
  __chkstk_darwin(v113);
  uint64_t v112 = (char *)&v93 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v110 = sub_296000();
  uint64_t v117 = *(void *)(v110 - 8);
  __chkstk_darwin(v110);
  id v111 = (char *)&v93 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4(&qword_310760);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v93 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v93 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = __chkstk_darwin(v12);
  uint64_t v17 = (char *)&v93 - v16;
  uint64_t v18 = __chkstk_darwin(v15);
  id v116 = (char *)&v93 - v19;
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v21 = __chkstk_darwin(v20);
  __chkstk_darwin(v21);
  id v25 = (char *)&v93 - v24;
  uint64_t v115 = v2;
  if (a1)
  {
    uint64_t v103 = v23;
    unint64_t v100 = v22;
    uint64_t v114 = v4;
    swift_errorRetain();
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v26 = sub_6E60(v10, (uint64_t)qword_31FC20);
    uint64_t v27 = *(void (**)(uint64_t, uint64_t, uint64_t))(v11 + 16);
    uint64_t v107 = v26;
    uint64_t v108 = v11 + 16;
    uint64_t v106 = v27;
    ((void (*)(char *))v27)(v25);
    swift_errorRetain();
    swift_errorRetain();
    id v28 = sub_2987E0();
    os_log_type_t v29 = sub_298DB0();
    if (os_log_type_enabled(v28, v29))
    {
      uint64_t v30 = swift_slowAlloc();
      uint64_t v109 = v9;
      id v31 = (uint8_t *)v30;
      uint64_t v32 = swift_slowAlloc();
      uint64_t v102 = v11;
      *(void *)&long long v119 = v32;
      *(_DWORD *)id v31 = 136315138;
      uint64_t v101 = v10;
      swift_getErrorValue();
      uint64_t v33 = sub_299620();
      uint64_t v118 = sub_6E98(v33, v34, (uint64_t *)&v119);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v28, v29, "ShazamKitRecognizer#sessionDidNotFindMatchForSignatureError Found no match for signature with error: %s", v31, 0xCu);
      swift_arrayDestroy();
      uint64_t v11 = v102;
      swift_slowDealloc();
      uint64_t v9 = v109;
      swift_slowDealloc();

      uint64_t v35 = *(void (**)(char *, uint64_t))(v11 + 8);
      uint64_t v36 = v25;
      uint64_t v37 = v101;
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      uint64_t v35 = *(void (**)(char *, uint64_t))(v11 + 8);
      uint64_t v36 = v25;
      uint64_t v37 = v10;
    }
    os_log_type_t v105 = v35;
    ((void (*)(char *))v35)(v36);
    uint64_t v52 = *(void (**)(char *, void, uint64_t))(v117 + 104);
    v117 += 104;
    uint64_t v98 = v52;
    v52(v111, enum case for PlaybackCode.acousticIDGenericError(_:), v110);
    uint64_t v53 = *(void (**)(void))(v114 + 104);
    unsigned int v97 = enum case for DomainCode.shazamKit(_:);
    v114 += 104;
    os_log_type_t v96 = (void (*)(char *, void, uint64_t))v53;
    v53(v112);
    sub_297080();
    swift_storeEnumTagMultiPayload();
    uint64_t v54 = v115;
    uint64_t v55 = v115 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result;
    swift_beginAccess();
    uint64_t v99 = v55;
    sub_EE2EC((uint64_t)v9, v55);
    swift_endAccess();
    unsigned int v56 = (void *)sub_2935A0();
    id v57 = [v56 userInfo];

    uint64_t v58 = sub_298960();
    uint64_t v59 = sub_2989C0();
    if (*(void *)(v58 + 16) && (unint64_t v61 = sub_A64A8(v59, v60), (v62 & 1) != 0))
    {
      sub_7128(*(void *)(v58 + 56) + 32 * v61, (uint64_t)&v119);
    }
    else
    {
      long long v119 = 0u;
      long long v120 = 0u;
    }
    uint64_t v63 = v37;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (*((void *)&v120 + 1))
    {
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        id v64 = (void *)v118;
        uint64_t v65 = v103;
        v106((uint64_t)v103, v107, v37);
        id v66 = v64;
        uint64_t v67 = sub_2987E0();
        os_log_type_t v68 = sub_298DA0();
        BOOL v69 = os_log_type_enabled(v67, v68);
        uint64_t v109 = v9;
        uint64_t v104 = v7;
        id v95 = v66;
        if (v69)
        {
          uint64_t v101 = v63;
          uint64_t v70 = v66;
          uint64_t v102 = v11;
          uint64_t v71 = (uint8_t *)swift_slowAlloc();
          uint64_t v94 = swift_slowAlloc();
          *(void *)&long long v119 = v94;
          *(_DWORD *)uint64_t v71 = 136315138;
          unint64_t v93 = v71 + 4;
          id v72 = v70;
          id v73 = [v72 description];
          uint64_t v74 = sub_2989C0();
          unint64_t v76 = v75;

          uint64_t v54 = v115;
          uint64_t v77 = v74;
          uint64_t v11 = v102;
          uint64_t v63 = v101;
          uint64_t v118 = sub_6E98(v77, v76, (uint64_t *)&v119);
          sub_2992C0();

          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v67, v68, "ShazamKitRecognizer#sessionDidNotFindMatchForSignatureError This is the underlying error: %s", v71, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          uint64_t v78 = v105;
          v105(v103, v63);
          id v66 = v95;
        }
        else
        {

          uint64_t v78 = v105;
          v105(v65, v63);
        }
        id v82 = [v66 code];
        if (qword_30C840 != -1) {
          swift_once();
        }
        if (v82 == (id)qword_310680)
        {
          int v83 = v100;
          v106((uint64_t)v100, v107, v63);
          swift_errorRetain();
          swift_errorRetain();
          uint64_t v84 = sub_2987E0();
          os_log_type_t v85 = sub_298DA0();
          if (os_log_type_enabled(v84, v85))
          {
            uint64_t v86 = (uint8_t *)swift_slowAlloc();
            uint64_t v87 = swift_slowAlloc();
            uint64_t v102 = v11;
            *(void *)&long long v119 = v87;
            uint64_t v101 = v63;
            *(_DWORD *)uint64_t v86 = 136315138;
            swift_getErrorValue();
            uint64_t v88 = sub_299620();
            uint64_t v118 = sub_6E98(v88, v89, (uint64_t *)&v119);
            uint64_t v63 = v101;
            sub_2992C0();
            swift_bridgeObjectRelease();
            swift_errorRelease();
            swift_errorRelease();
            _os_log_impl(&dword_0, v84, v85, "ShazamKitRecognizer#sessionDidNotFindMatchForSignatureError This is privacy acknowledgement error: %s", v86, 0xCu);
            swift_arrayDestroy();
            swift_slowDealloc();
            swift_slowDealloc();
          }
          else
          {
            swift_errorRelease();
            swift_errorRelease();
          }

          uint64_t v90 = v83;
          uint64_t v78 = v105;
          v105(v90, v63);
          v98(v111, enum case for PlaybackCode.acousticIDPrivDiscAckNeeded(_:), v110);
          v96(v112, v97, v113);
          uint64_t v91 = (uint64_t)v109;
          sub_297080();
          swift_storeEnumTagMultiPayload();
          uint64_t v92 = v99;
          swift_beginAccess();
          sub_EE2EC(v91, v92);
          swift_endAccess();
        }
        else
        {
        }
        goto LABEL_24;
      }
    }
    else
    {
      sub_23A44((uint64_t)&v119, &qword_30D040);
    }
    uint64_t v78 = v105;
LABEL_24:
    [*(id *)(v54 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) setDelegate:0];
    v106((uint64_t)v116, v107, v63);
    os_log_t v79 = sub_2987E0();
    os_log_type_t v80 = sub_298DC0();
    if (os_log_type_enabled(v79, v80))
    {
      uint64_t v81 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v81 = 0;
      _os_log_impl(&dword_0, v79, v80, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v81, 2u);
      swift_slowDealloc();
    }

    v78(v116, v63);
    dispatch_group_leave(*(dispatch_group_t *)(v54
                                             + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup));
    swift_errorRelease();
    return;
  }
  uint64_t v104 = v7;
  uint64_t v109 = v9;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v38 = sub_6E60(v10, (uint64_t)qword_31FC20);
  uint64_t v39 = v11;
  uint64_t v40 = *(void (**)(char *, uint64_t, uint64_t))(v11 + 16);
  uint64_t v41 = v10;
  v40(v17, v38, v10);
  uint64_t v42 = sub_2987E0();
  os_log_type_t v43 = sub_298DC0();
  if (os_log_type_enabled(v42, v43))
  {
    uint64_t v44 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v44 = 0;
    _os_log_impl(&dword_0, v42, v43, "ShazamKitRecognizer#sessionDidNotFindMatchForSignatureError Found no match for signature", v44, 2u);
    swift_slowDealloc();
  }

  unint64_t v45 = *(void (**)(char *, uint64_t))(v39 + 8);
  v45(v17, v41);
  uint64_t v46 = (uint64_t)v109;
  *(void *)uint64_t v109 = 0;
  swift_storeEnumTagMultiPayload();
  uint64_t v47 = v115;
  uint64_t v48 = v115 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result;
  swift_beginAccess();
  sub_EE2EC(v46, v48);
  swift_endAccess();
  [*(id *)(v47 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession) setDelegate:0];
  v40(v14, v38, v41);
  unint64_t v49 = sub_2987E0();
  os_log_type_t v50 = sub_298DC0();
  if (os_log_type_enabled(v49, v50))
  {
    os_log_type_t v51 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v51 = 0;
    _os_log_impl(&dword_0, v49, v50, "ShazamKitRecognizer#handleCompletion Triggering dispatchGroup leave", v51, 2u);
    swift_slowDealloc();
  }

  v45(v14, v41);
  dispatch_group_leave(*(dispatch_group_t *)(v47
                                           + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup));
}

uint64_t sub_EE2EC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_310760);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_EE35C()
{
  uint64_t v0 = sub_298800();
  sub_AA03C(v0, qword_31FC08);
  sub_6E60(v0, (uint64_t)qword_31FC08);
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v1 = (id)qword_31FCE0;
  return sub_298810();
}

uint64_t sub_EE3E8()
{
  uint64_t v0 = sub_298800();
  sub_AA03C(v0, qword_31FC20);
  sub_6E60(v0, (uint64_t)qword_31FC20);
  return sub_2987F0();
}

uint64_t type metadata accessor for DetermineViewProvider()
{
  uint64_t result = qword_310848;
  if (!qword_310848) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_EE4B0(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, void *a8, void *a9)
{
  uint64_t v133 = a3;
  uint64_t v131 = a1;
  uint64_t v130 = sub_2936E0();
  uint64_t v129 = *(void *)(v130 - 8);
  __chkstk_darwin(v130);
  uint64_t v128 = (char *)&v124 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298800();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  id v132 = (char *)&v124 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v127 = (char *)&v124 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v135 = (char *)&v124 - v23;
  uint64_t v24 = __chkstk_darwin(v22);
  uint64_t v136 = (char *)&v124 - v25;
  uint64_t v26 = __chkstk_darwin(v24);
  uint64_t v139 = (char *)&v124 - v27;
  __chkstk_darwin(v26);
  os_log_type_t v29 = (char *)&v124 - v28;
  uint64_t v30 = (void *)swift_allocObject();
  v30[2] = a4;
  v30[3] = a5;
  uint64_t v143 = a5;
  *(void *)&long long v144 = a4;
  v30[4] = a6;
  v30[5] = a7;
  v30[6] = a8;
  v30[7] = a9;
  uint64_t v147 = v30;
  uint64_t v31 = qword_30C848;
  swift_retain();
  id v145 = a6;
  swift_retain();
  uint64_t v140 = a7;
  swift_retain();
  id v141 = a8;
  id v142 = a9;
  if (v31 != -1) {
    swift_once();
  }
  uint64_t v32 = sub_6E60(v16, (uint64_t)qword_31FC08);
  uint64_t v33 = v17 + 16;
  unint64_t v34 = *(void (**)(char *, uint64_t, uint64_t))(v17 + 16);
  v34(v29, v32, v16);
  id v35 = a2;
  uint64_t v36 = sub_2987E0();
  os_log_type_t v37 = sub_298DA0();
  if (os_log_type_enabled(v36, v37))
  {
    uint64_t v134 = v16;
    uint64_t v38 = swift_slowAlloc();
    uint64_t v138 = v17 + 16;
    uint64_t v39 = (uint8_t *)v38;
    uint64_t v40 = swift_slowAlloc();
    uint64_t v146 = v32;
    v148[0] = v40;
    uint64_t v137 = v34;
    *(_DWORD *)uint64_t v39 = 136315138;
    uint64_t ObjectType = swift_getObjectType();
    sub_71D4(&qword_310908);
    uint64_t v41 = sub_2989E0();
    uint64_t ObjectType = sub_6E98(v41, v42, v148);
    uint64_t v16 = v134;
    unint64_t v34 = v137;
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v36, v37, "DetermineViewProvider#makeViewsForHandleIntent called for Intent: %s", v39, 0xCu);
    swift_arrayDestroy();
    uint64_t v32 = v146;
    swift_slowDealloc();
    uint64_t v33 = v138;
    swift_slowDealloc();
  }
  else
  {
  }
  os_log_type_t v43 = *(void (**)(char *, uint64_t))(v17 + 8);
  v43(v29, v16);
  if (sub_295DF0())
  {
    uint64_t v44 = v139;
    v34(v139, v32, v16);
    unint64_t v45 = sub_2987E0();
    os_log_type_t v46 = sub_298D90();
    if (os_log_type_enabled(v45, v46))
    {
      uint64_t v47 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v47 = 0;
      _os_log_impl(&dword_0, v45, v46, "DetermineViewProvider#makeViewsForHandleIntent won't return an AceView for CarPlay", v47, 2u);
      swift_slowDealloc();
    }

    v43(v44, v16);
    uint64_t v48 = v144;
    unint64_t v49 = (void *)swift_allocObject();
    os_log_type_t v51 = v142;
    uint64_t v50 = v143;
    v49[2] = v48;
    v49[3] = v50;
    uint64_t v52 = v141;
    v49[4] = v145;
    v49[5] = v52;
    v49[6] = v51;
    v49[7] = _swiftEmptyArrayStorage;
    swift_retain();
    swift_retain();
    id v53 = v52;
    id v54 = v51;
    id v55 = [v53 targetDeviceIds];
    if (v55)
    {
      unsigned int v56 = v55;
      uint64_t v57 = sub_298B50();

      uint64_t v58 = *(void *)(v57 + 16);
      swift_bridgeObjectRelease();
      if (v58)
      {
LABEL_46:
        sub_6AF14(v140, v53, (uint64_t)sub_EF498, (uint64_t)v49);
LABEL_48:
        swift_release();
        swift_release();
        return;
      }
    }
LABEL_47:
    sub_673B8(v140, v53, (uint64_t)sub_EF498, (uint64_t)v49);
    goto LABEL_48;
  }
  id v59 = [v35 nowPlayingIntentInfo];
  if (!v59)
  {
LABEL_42:
    id v111 = v136;
    v34(v136, v32, v16);
    uint64_t v112 = sub_2987E0();
    os_log_type_t v113 = sub_298DA0();
    if (os_log_type_enabled(v112, v113))
    {
      uint64_t v114 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v114 = 0;
      _os_log_impl(&dword_0, v112, v113, "DetermineViewProvider#makeViewsForHandleIntent no view as no nowPlayingIntentInfo could be found", v114, 2u);
      swift_slowDealloc();
    }

    v43(v111, v16);
    uint64_t v115 = v144;
    unint64_t v49 = (void *)swift_allocObject();
    uint64_t v117 = v142;
    uint64_t v116 = v143;
    v49[2] = v115;
    v49[3] = v116;
    uint64_t v118 = v141;
    v49[4] = v145;
    v49[5] = v118;
    v49[6] = v117;
    v49[7] = _swiftEmptyArrayStorage;
    swift_retain();
    swift_retain();
    id v53 = v118;
    id v119 = v117;
    id v120 = [v53 targetDeviceIds];
    if (v120)
    {
      uint64_t v121 = v120;
      uint64_t v122 = sub_298B50();

      uint64_t v123 = *(void *)(v122 + 16);
      swift_bridgeObjectRelease();
      if (v123) {
        goto LABEL_46;
      }
    }
    goto LABEL_47;
  }
  uint64_t v60 = v59;
  uint64_t v146 = v32;
  type metadata accessor for NowPlayingIntentInfo();
  unint64_t v61 = sub_298B50();

  if (!(v61 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v61 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_15;
    }
    goto LABEL_41;
  }
  swift_bridgeObjectRetain();
  uint64_t v110 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v110)
  {
LABEL_41:
    swift_bridgeObjectRelease();
    uint64_t v32 = v146;
    goto LABEL_42;
  }
LABEL_15:
  if ((v61 & 0xC000000000000001) != 0)
  {
    id v62 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v61 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return;
    }
    id v62 = *(id *)(v61 + 32);
  }
  uint64_t v63 = v62;
  swift_bridgeObjectRelease();
  id v64 = v135;
  v34(v135, v146, v16);
  id v145 = v63;
  uint64_t v65 = sub_2987E0();
  os_log_type_t v66 = sub_298DA0();
  BOOL v67 = os_log_type_enabled(v65, v66);
  uint64_t v126 = v17;
  uint64_t v125 = v35;
  uint64_t v137 = v34;
  uint64_t v138 = v33;
  if (v67)
  {
    uint64_t v134 = v16;
    os_log_type_t v68 = (uint8_t *)swift_slowAlloc();
    uint64_t ObjectType = swift_slowAlloc();
    *(_DWORD *)os_log_type_t v68 = 136315138;
    id v69 = [v145 appBundleId];
    if (v69)
    {
      uint64_t v70 = v69;
      uint64_t v71 = sub_2989C0();
      uint64_t v73 = v72;
    }
    else
    {
      uint64_t v71 = 0;
      uint64_t v73 = 0;
    }
    v148[0] = v71;
    v148[1] = v73;
    sub_71D4((uint64_t *)&unk_313920);
    uint64_t v75 = sub_2989E0();
    v148[0] = sub_6E98(v75, v76, &ObjectType);
    sub_2992C0();
    id v77 = v145;

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v65, v66, "DetermineViewProvider#makeViewsForHandleIntent bundleId: %s", v68, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v16 = v134;
    v43(v135, v134);
    id v35 = v125;
    unint64_t v34 = v137;
  }
  else
  {

    id v74 = v145;
    v43(v64, v16);
  }
  p_attr = &stru_309FF8.attr;
  id v79 = [objc_allocWithZone((Class)SFMediaRemoteControlCardSection) init];
  os_log_type_t v80 = v128;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v129 + 8))(v80, v130);
  NSString v81 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v79 setCardSectionId:v81];

  sub_2976E0();
  if (v82)
  {
    NSString v83 = sub_2989B0();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v83 = 0;
  }
  [v79 setPlaybackBundleIdentifier:v83];

  id v84 = [v35 targetDeviceIds];
  if (v84)
  {
    os_log_type_t v85 = v84;
    uint64_t v86 = (void *)sub_298B50();

    if (v86[2])
    {
      unint64_t v87 = v86[5];
      *(void *)&long long v144 = v86[4];
      swift_bridgeObjectRetain();
      swift_bridgeObjectRelease();
      uint64_t v88 = v127;
      v34(v127, v146, v16);
      swift_bridgeObjectRetain_n();
      unint64_t v89 = sub_2987E0();
      os_log_type_t v90 = sub_298D90();
      if (os_log_type_enabled(v89, v90))
      {
        uint64_t v91 = (uint8_t *)swift_slowAlloc();
        v148[0] = swift_slowAlloc();
        uint64_t v134 = v16;
        *(_DWORD *)uint64_t v91 = 136315138;
        swift_bridgeObjectRetain();
        uint64_t ObjectType = sub_6E98(v144, v87, v148);
        p_attr = (char **)(&stru_309FF8 + 8);
        uint64_t v16 = v134;
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v89, v90, "PlayMediaViewProvider#makeViews rendering snippet with route: %s", v91, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v92 = v127;
      }
      else
      {

        swift_bridgeObjectRelease_n();
        uint64_t v92 = v88;
      }
      v43(v92, v16);
      NSString v93 = sub_2989B0();
      swift_bridgeObjectRelease();
      [v79 setPlaybackRouteUniqueIdentifier:v93];
    }
    else
    {
      swift_bridgeObjectRelease();
    }
  }
  uint64_t v94 = v16;
  id v95 = objc_msgSend(objc_allocWithZone((Class)SACardSnippet), p_attr[287]);
  sub_71D4(&qword_3107B0);
  uint64_t v96 = swift_allocObject();
  long long v144 = xmmword_29A8D0;
  *(_OWORD *)(v96 + 16) = xmmword_29A8D0;
  *(void *)(v96 + 32) = v79;
  v148[0] = v96;
  sub_298B70();
  id v97 = v79;
  id v98 = [v145 appBundleId];
  if (v98)
  {
    uint64_t v99 = v98;
    sub_2989C0();
  }
  sub_EF49C();
  unint64_t v100 = (void *)sub_298D70();
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  uint64_t v101 = v132;
  v137(v132, v146, v94);
  id v102 = v100;
  uint64_t v103 = sub_2987E0();
  os_log_type_t v104 = sub_298D90();
  if (os_log_type_enabled(v103, v104))
  {
    os_log_type_t v105 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v105 = 0;
    _os_log_impl(&dword_0, v103, v104, "DetermineViewProvider#makeViewsForHandleIntent Returning snippet for iOS", v105, 2u);
    swift_slowDealloc();
  }

  v43(v101, v94);
  sub_74A4((void *)(v133 + 24), *(void *)(v133 + 48));
  uint64_t v106 = swift_allocObject();
  *(_OWORD *)(v106 + 16) = v144;
  *(void *)(v106 + 32) = v102;
  v148[0] = v106;
  sub_298B70();
  unint64_t v107 = v148[0];
  uint64_t v108 = swift_allocObject();
  uint64_t v109 = v147;
  *(void *)(v108 + 16) = sub_EF480;
  *(void *)(v108 + 24) = v109;
  swift_retain();
  sub_20A9C8(v107, v125, (uint64_t)sub_EF514, v108);
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();
}

uint64_t sub_EF428()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_EF480(uint64_t a1, char a2)
{
  return sub_145F90(a1, a2 & 1, *(void **)(v2 + 16), *(void (**)(void *))(v2 + 24), *(void *)(v2 + 32), *(void *)(v2 + 40), *(void **)(v2 + 48), *(void **)(v2 + 56));
}

unint64_t sub_EF49C()
{
  unint64_t result = qword_312150;
  if (!qword_312150)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_312150);
  }
  return result;
}

uint64_t sub_EF4DC()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_EF514(uint64_t a1)
{
  return (*(uint64_t (**)(uint64_t, void))(v1 + 16))(a1, 0);
}

uint64_t sub_EF544()
{
  swift_release();
  swift_release();

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_EF59C(uint64_t a1)
{
  return sub_14669C(a1, *(void **)(v1 + 16), *(void (**)(long long *))(v1 + 24), *(void *)(v1 + 32), *(void *)(v1 + 40), *(void *)(v1 + 48), *(void *)(v1 + 56));
}

void *sub_EF5AC(uint64_t a1, uint64_t a2)
{
  uint64_t v49 = sub_296AA0();
  uint64_t v51 = *(void *)(v49 - 8);
  uint64_t v4 = __chkstk_darwin(v49);
  os_log_type_t v46 = (char *)&v44 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v44 - v6;
  uint64_t v8 = sub_296A10();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v44 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v44 - v13;
  uint64_t v15 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v44 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v50 = v17;
  type metadata accessor for UpdateMediaAffinityCatDialogService();
  uint64_t v18 = (void *)swift_allocObject();
  v18[2] = 0xD000000000000011;
  v18[3] = 0x80000000002A3570;
  v18[5] = 0xD000000000000019;
  v18[6] = 0x80000000002A3DD0;
  uint64_t v53 = a2;
  uint64_t v54 = a1;
  v18[4] = a1;
  sub_18D5C(a2, (uint64_t)&v58);
  uint64_t v19 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v17, 1, 1, v19);
  unint64_t v45 = sub_A6604(&_swiftEmptyArrayStorage);
  swift_retain_n();
  swift_retain();
  uint64_t v20 = v14;
  sub_296A00();
  sub_296A90();
  type metadata accessor for UpdateMediaAffinityDialogProvider();
  uint64_t v21 = swift_allocObject();
  uint64_t v22 = v14;
  uint64_t v23 = v8;
  uint64_t v47 = *(void (**)(char *, char *, uint64_t))(v9 + 16);
  uint64_t v48 = v9 + 16;
  v47(v12, v22, v8);
  uint64_t v24 = v51;
  uint64_t v25 = v46;
  uint64_t v26 = v49;
  (*(void (**)(char *, char *, uint64_t))(v51 + 16))(v46, v7, v49);
  uint64_t v27 = v50;
  uint64_t v50 = v12;
  uint64_t v28 = sub_11B904(v18, v54, v45, &v58, v27, v12, v25, v21);
  swift_release();
  (*(void (**)(char *, uint64_t))(v24 + 8))(v7, v26);
  os_log_type_t v29 = *(char **)(v9 + 8);
  uint64_t v30 = v20;
  uint64_t v51 = v9 + 8;
  os_log_type_t v46 = v29;
  ((void (*)(char *, uint64_t))v29)(v20, v23);
  uint64_t v59 = v26;
  uint64_t v60 = &protocol witness table for StringsFileResolver;
  sub_12B48((uint64_t *)&v58);
  swift_retain();
  sub_296A90();
  sub_71D4(&qword_310A60);
  uint64_t v31 = swift_allocObject();
  sub_11EBC(&v58, v31 + 16);
  *(void *)(v31 + 56) = v28;
  uint64_t v59 = v23;
  uint64_t v60 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v58);
  swift_retain();
  sub_296A00();
  type metadata accessor for SiriAudioOutputProvider();
  uint64_t v32 = swift_allocObject();
  sub_11EBC(&v58, v32 + 16);
  uint64_t v49 = v23;
  uint64_t v59 = v23;
  uint64_t v60 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v58);
  sub_296A00();
  uint64_t v33 = sub_295C80();
  uint64_t v34 = sub_295C70();
  uint64_t v56 = v33;
  uint64_t v57 = &protocol witness table for SiriKitTaskLoggingProvider;
  uint64_t v55 = v34;
  sub_297050();
  swift_allocObject();
  uint64_t v35 = sub_297040();
  sub_296A00();
  uint64_t v36 = sub_295C70();
  if (qword_30C880 != -1) {
    swift_once();
  }
  uint64_t v37 = qword_31FCC0;
  swift_retain();
  sub_2942A0();
  uint64_t v38 = (uint64_t)v50;
  uint64_t v39 = v30;
  uint64_t v40 = v30;
  uint64_t v41 = v49;
  v47(v50, v39, v49);
  swift_retain();
  unint64_t v42 = sub_EFBF4(v28, v35, v38, v36, v37, &v58, v32, v31, v52);
  ((void (*)(char *, uint64_t))v46)(v40, v41);
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  sub_7184(v53);
  return v42;
}

uint64_t sub_EFB40()
{
  sub_192088();

  return swift_deallocClassInstance();
}

uint64_t _s25NeedsConfirmationStrategyCMa()
{
  uint64_t result = qword_310938;
  if (!qword_310938) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_EFBBC()
{
  return swift_initClassMetadata2();
}

void *sub_EFBF4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, long long *a6, uint64_t a7, uint64_t a8, void *a9)
{
  uint64_t v29 = a7;
  uint64_t v30 = a8;
  uint64_t v27 = a5;
  uint64_t v28 = a6;
  uint64_t v26 = a1;
  uint64_t v12 = sub_2990B0();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v25 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298900();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v25 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = sub_297050();
  uint64_t v39 = &protocol witness table for AppleMediaServicesProvider;
  *(void *)&long long v37 = a2;
  uint64_t v20 = sub_296A10();
  uint64_t v35 = v20;
  uint64_t v36 = &protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48((uint64_t *)&v34);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a3, v20);
  uint64_t v32 = sub_295C80();
  uint64_t v33 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v31 = a4;
  sub_2988F0();
  sub_2990A0();
  uint64_t v22 = sub_2961B0();
  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
  a9[26] = v22;
  a9[2] = v26;
  sub_11EBC(&v37, (uint64_t)(a9 + 3));
  sub_11EBC(&v34, (uint64_t)(a9 + 8));
  sub_11EBC(&v31, (uint64_t)(a9 + 13));
  uint64_t v23 = v28;
  a9[18] = v27;
  sub_11EBC(v23, (uint64_t)(a9 + 20));
  a9[25] = v29;
  a9[19] = v30;
  return a9;
}

unint64_t sub_EFE80(char a1)
{
  unint64_t result = 0x6E696D7265746564;
  switch(a1)
  {
    case 1:
      unint64_t result = 0xD000000000000012;
      break;
    case 2:
      unint64_t result = 2036427888;
      break;
    case 3:
      unint64_t result = 6579297;
      break;
    case 4:
      unint64_t result = 0x656C62616E65;
      break;
    case 5:
      unint64_t result = 0x656C6261736964;
      break;
    case 6:
      unint64_t result = 0x6269726373627573;
      break;
    case 7:
      unint64_t result = 1701538156;
      break;
    case 8:
      unint64_t result = 0x656B696C736964;
      break;
    case 9:
      unint64_t result = 0x656C6666756873;
      break;
    case 10:
      unint64_t result = 0x796669646F6DLL;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_EFFBC@<X0>(char a1@<W0>, uint64_t a2@<X8>)
{
  switch(a1)
  {
    case 1:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.directedAcousticId(_:);
      break;
    case 2:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.play(_:);
      break;
    case 3:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.add(_:);
      break;
    case 4:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.enable(_:);
      break;
    case 5:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.disable(_:);
      break;
    case 6:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.subscribe(_:);
      break;
    case 7:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.like(_:);
      break;
    case 8:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.unlike(_:);
      break;
    case 9:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.shuffle(_:);
      break;
    case 10:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.modify(_:);
      break;
    default:
      uint64_t v3 = (unsigned int *)&enum case for CommonAudio.Verb.determine(_:);
      break;
  }
  uint64_t v4 = *v3;
  uint64_t v5 = sub_297C00();
  uint64_t v6 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 104);

  return v6(a2, v4, v5);
}

uint64_t getEnumTagSinglePayload for MediaPlayerVerb(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xF6) {
    goto LABEL_17;
  }
  if (a2 + 10 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 10) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 10;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 10;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 10;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 0xB;
  int v8 = v6 - 11;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for MediaPlayerVerb(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 10 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 10) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xF6) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF5)
  {
    unsigned int v6 = ((a2 - 246) >> 8) + 1;
    *unint64_t result = a2 + 10;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0xF0254);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 10;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for MediaPlayerVerb()
{
  return &type metadata for MediaPlayerVerb;
}

unint64_t sub_F0290()
{
  unint64_t result = qword_310A68;
  if (!qword_310A68)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A68);
  }
  return result;
}

uint64_t sub_F02E4(char *a1, char *a2)
{
  char v2 = *a2;
  unint64_t v3 = sub_EFE80(*a1);
  uint64_t v5 = v4;
  if (v3 == sub_EFE80(v2) && v5 == v6) {
    char v8 = 1;
  }
  else {
    char v8 = sub_2995D0();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v8 & 1;
}

Swift::Int sub_F0370()
{
  char v1 = *v0;
  sub_299680();
  sub_EFE80(v1);
  sub_298A40();
  swift_bridgeObjectRelease();
  return sub_2996B0();
}

uint64_t sub_F03D4()
{
  sub_EFE80(*v0);
  sub_298A40();

  return swift_bridgeObjectRelease();
}

Swift::Int sub_F0428()
{
  char v1 = *v0;
  sub_299680();
  sub_EFE80(v1);
  sub_298A40();
  swift_bridgeObjectRelease();
  return sub_2996B0();
}

uint64_t sub_F0488@<X0>(uint64_t a1@<X0>, unsigned char *a2@<X8>)
{
  uint64_t result = sub_F0678(*(void *)a1, *(void **)(a1 + 8));
  *a2 = result;
  return result;
}

unint64_t sub_F04B8@<X0>(unint64_t *a1@<X8>)
{
  unint64_t result = sub_EFE80(*v1);
  *a1 = result;
  a1[1] = v4;
  return result;
}

void sub_F04E4(void *a1@<X8>)
{
  *a1 = &off_2F44D8;
}

uint64_t sub_F04F4(uint64_t a1, uint64_t a2)
{
  unint64_t v4 = sub_F06C4();
  unint64_t v5 = sub_F0718();
  unint64_t v6 = sub_F076C();

  return static TerminalNodeBoundedSemanticValue<>.fromIntentNodeValue(_:)(a1, a2, v4, v5, v6);
}

unint64_t sub_F056C()
{
  unint64_t result = qword_310A70;
  if (!qword_310A70)
  {
    sub_60904(&qword_310A78);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A70);
  }
  return result;
}

unint64_t sub_F05CC()
{
  unint64_t result = qword_310A80;
  if (!qword_310A80)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A80);
  }
  return result;
}

unint64_t sub_F0624()
{
  unint64_t result = qword_310A88;
  if (!qword_310A88)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A88);
  }
  return result;
}

uint64_t sub_F0678(uint64_t a1, void *a2)
{
  v6._countAndFlagsBits = a1;
  v3._rawValue = &off_2F43B0;
  v6._object = a2;
  unint64_t v4 = sub_299520(v3, v6);
  swift_bridgeObjectRelease();
  if (v4 >= 0xB) {
    return 11;
  }
  else {
    return v4;
  }
}

unint64_t sub_F06C4()
{
  unint64_t result = qword_310A90;
  if (!qword_310A90)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A90);
  }
  return result;
}

unint64_t sub_F0718()
{
  unint64_t result = qword_310A98;
  if (!qword_310A98)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310A98);
  }
  return result;
}

unint64_t sub_F076C()
{
  unint64_t result = qword_310AA0;
  if (!qword_310AA0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310AA0);
  }
  return result;
}

uint64_t sub_F07C0@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v43 = a1;
  uint64_t v48 = a2;
  uint64_t v2 = sub_71D4(&qword_30F088);
  __chkstk_darwin(v2 - 8);
  uint64_t v42 = (uint64_t)&v37 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_2936E0();
  uint64_t v40 = *(void *)(v4 - 8);
  uint64_t v41 = v4;
  __chkstk_darwin(v4);
  uint64_t v39 = (char *)&v37 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_298800();
  uint64_t v45 = *(void *)(v6 - 8);
  uint64_t v46 = v6;
  __chkstk_darwin(v6);
  uint64_t v44 = (char *)&v37 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_310AA8);
  __chkstk_darwin(v8 - 8);
  uint64_t v38 = (char *)&v37 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_297D00();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v37 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v47 = sub_2953F0();
  uint64_t v14 = *(void *)(v47 - 8);
  __chkstk_darwin(v47);
  uint64_t v16 = (char *)&v37 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_295680();
  swift_allocObject();
  sub_295670();
  sub_295660();
  (*(void (**)(char *, void, uint64_t))(v11 + 104))(v13, enum case for AudioUsoIntent.UsoNamespace.appBundleId(_:), v10);
  swift_bridgeObjectRetain_n();
  sub_297CF0();
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  sub_2953C0();
  sub_295380();
  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v47);
  uint64_t v17 = sub_2955B0();
  if (v17)
  {
    uint64_t v18 = v17;
    uint64_t v19 = sub_2954E0();
    uint64_t v20 = (uint64_t)v38;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v38, 1, 1, v19);
    uint64_t v21 = sub_2954A0();
    sub_F0EC8(v20);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v22 = v46;
    uint64_t v23 = sub_6E60(v46, (uint64_t)qword_31FC08);
    uint64_t v25 = v44;
    uint64_t v24 = v45;
    (*(void (**)(char *, uint64_t, uint64_t))(v45 + 16))(v44, v23, v22);
    swift_retain_n();
    uint64_t v26 = sub_2987E0();
    os_log_type_t v27 = sub_298DA0();
    if (os_log_type_enabled(v26, v27))
    {
      uint64_t v28 = (uint8_t *)swift_slowAlloc();
      uint64_t v29 = swift_slowAlloc();
      uint64_t v49 = v21;
      uint64_t v50 = v29;
      *(_DWORD *)uint64_t v28 = 136315138;
      uint64_t v47 = v18;
      sub_295830();
      sub_F0F90();
      uint64_t v30 = sub_2995A0();
      uint64_t v49 = sub_6E98(v30, v31, &v50);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v26, v27, "DisplayApp#toRREntity UsoBuilderConversionUtils.convertEntityBuilderToEntity creating UsoEntity: %s", v28, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v45 + 8))(v44, v46);
    }
    else
    {

      swift_release_n();
      (*(void (**)(char *, uint64_t))(v24 + 8))(v25, v22);
    }
    uint64_t v34 = v48;
    uint64_t v35 = v39;
    sub_2936D0();
    sub_2936B0();
    (*(void (**)(char *, uint64_t))(v40 + 8))(v35, v41);
    sub_2964D0();
    sub_F0F28(v43, v42);
    sub_298840();
    swift_release();
    swift_release();
    uint64_t v36 = sub_298850();
    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v36 - 8) + 56))(v34, 0, 1, v36);
  }
  else
  {
    uint64_t v32 = sub_298850();
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v32 - 8) + 56))(v48, 1, 1, v32);
    return swift_release();
  }
}

uint64_t sub_F0EC8(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_310AA8);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_F0F28(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30F088);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

unint64_t sub_F0F90()
{
  unint64_t result = qword_310AB0;
  if (!qword_310AB0)
  {
    sub_295830();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310AB0);
  }
  return result;
}

uint64_t sub_F0FE8(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    uint64_t v5 = 0;
    do
    {
      uint64_t v6 = *(void *)(a1 + 8 * v5 + 32);
      swift_bridgeObjectRetain_n();
      swift_bridgeObjectRetain();
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      uint64_t v10 = a2;
      sub_F10F0(v6, (uint64_t)sub_F1354, 0, isUniquelyReferenced_nonNull_native, &v10);
      uint64_t v8 = v10;
      swift_bridgeObjectRelease();
      ++v5;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      a2 = v8;
    }
    while (v3 != v5);
    swift_bridgeObjectRelease();
    return v8;
  }
  else
  {
    swift_bridgeObjectRetain();
  }
  return a2;
}

uint64_t sub_F10F0(uint64_t a1, uint64_t a2, uint64_t a3, char a4, uint64_t *a5)
{
  uint64_t v7 = -1 << *(unsigned char *)(a1 + 32);
  uint64_t v8 = ~v7;
  uint64_t v9 = *(void *)(a1 + 64);
  uint64_t v10 = -v7;
  uint64_t v36 = a1;
  uint64_t v37 = a1 + 64;
  if (v10 < 64) {
    uint64_t v11 = ~(-1 << v10);
  }
  else {
    uint64_t v11 = -1;
  }
  uint64_t v38 = v8;
  uint64_t v39 = 0;
  uint64_t v40 = v11 & v9;
  uint64_t v41 = a2;
  uint64_t v42 = a3;
  swift_bridgeObjectRetain();
  swift_retain();
  sub_F13A8(&v34);
  uint64_t v12 = *((void *)&v34 + 1);
  if (!*((void *)&v34 + 1))
  {
LABEL_19:
    swift_release();
    swift_bridgeObjectRelease();
    sub_F1584();
    return swift_release();
  }
  while (1)
  {
    uint64_t v15 = v34;
    sub_26608(&v35, v33);
    uint64_t v16 = *a5;
    unint64_t v18 = sub_A64A8(v15, v12);
    uint64_t v19 = *(void *)(v16 + 16);
    BOOL v20 = (v17 & 1) == 0;
    uint64_t v21 = v19 + v20;
    if (__OFADD__(v19, v20)) {
      break;
    }
    char v22 = v17;
    if (*(void *)(v16 + 24) >= v21)
    {
      if (a4)
      {
        if (v17) {
          goto LABEL_6;
        }
      }
      else
      {
        sub_23872C();
        if (v22) {
          goto LABEL_6;
        }
      }
    }
    else
    {
      sub_238F94(v21, a4 & 1);
      unint64_t v23 = sub_A64A8(v15, v12);
      if ((v22 & 1) != (v24 & 1)) {
        goto LABEL_22;
      }
      unint64_t v18 = v23;
      if (v22)
      {
LABEL_6:
        uint64_t v13 = 32 * v18;
        sub_7128(*(void *)(*a5 + 56) + v13, (uint64_t)v31);
        sub_7128((uint64_t)v31, (uint64_t)v32);
        sub_7184((uint64_t)v31);
        sub_7184((uint64_t)v33);
        swift_bridgeObjectRelease();
        uint64_t v14 = (_OWORD *)(*(void *)(*a5 + 56) + v13);
        sub_7184((uint64_t)v14);
        sub_26608(v32, v14);
        goto LABEL_7;
      }
    }
    uint64_t v25 = (void *)*a5;
    *(void *)(*a5 + 8 * (v18 >> 6) + 64) |= 1 << v18;
    uint64_t v26 = (uint64_t *)(v25[6] + 16 * v18);
    *uint64_t v26 = v15;
    v26[1] = v12;
    sub_26608(v33, (_OWORD *)(v25[7] + 32 * v18));
    uint64_t v27 = v25[2];
    BOOL v28 = __OFADD__(v27, 1);
    uint64_t v29 = v27 + 1;
    if (v28) {
      goto LABEL_21;
    }
    v25[2] = v29;
LABEL_7:
    sub_F13A8(&v34);
    uint64_t v12 = *((void *)&v34 + 1);
    a4 = 1;
    if (!*((void *)&v34 + 1)) {
      goto LABEL_19;
    }
  }
  __break(1u);
LABEL_21:
  __break(1u);
LABEL_22:
  uint64_t result = sub_299610();
  __break(1u);
  return result;
}

uint64_t sub_F1354@<X0>(uint64_t *a1@<X0>, void *a2@<X8>)
{
  uint64_t v4 = *a1;
  uint64_t v3 = a1[1];
  sub_7128((uint64_t)(a1 + 2), (uint64_t)(a2 + 2));
  *a2 = v4;
  a2[1] = v3;

  return swift_bridgeObjectRetain();
}

uint64_t sub_F13A8@<X0>(_OWORD *a1@<X8>)
{
  uint64_t v3 = *v1;
  uint64_t v4 = v1[1];
  uint64_t v6 = v1[2];
  int64_t v5 = v1[3];
  int64_t v7 = v5;
  unint64_t v8 = v1[4];
  if (v8)
  {
    uint64_t v9 = (v8 - 1) & v8;
    unint64_t v10 = __clz(__rbit64(v8)) | (v5 << 6);
LABEL_3:
    uint64_t v11 = (uint64_t *)(*(void *)(v3 + 48) + 16 * v10);
    uint64_t v13 = *v11;
    uint64_t v12 = v11[1];
    sub_7128(*(void *)(v3 + 56) + 32 * v10, (uint64_t)v24);
    *(void *)&long long v23 = v13;
    *((void *)&v23 + 1) = v12;
    swift_bridgeObjectRetain();
    goto LABEL_23;
  }
  int64_t v14 = v5 + 1;
  if (__OFADD__(v5, 1))
  {
    __break(1u);
    return result;
  }
  int64_t v15 = (unint64_t)(v6 + 64) >> 6;
  if (v14 < v15)
  {
    unint64_t v16 = *(void *)(v4 + 8 * v14);
    if (v16)
    {
LABEL_7:
      uint64_t v9 = (v16 - 1) & v16;
      unint64_t v10 = __clz(__rbit64(v16)) + (v14 << 6);
      int64_t v7 = v14;
      goto LABEL_3;
    }
    int64_t v17 = v5 + 2;
    int64_t v7 = v5 + 1;
    if (v5 + 2 < v15)
    {
      unint64_t v16 = *(void *)(v4 + 8 * v17);
      if (v16)
      {
LABEL_10:
        int64_t v14 = v17;
        goto LABEL_7;
      }
      int64_t v7 = v5 + 2;
      if (v5 + 3 < v15)
      {
        unint64_t v16 = *(void *)(v4 + 8 * (v5 + 3));
        if (v16)
        {
          int64_t v14 = v5 + 3;
          goto LABEL_7;
        }
        int64_t v17 = v5 + 4;
        int64_t v7 = v5 + 3;
        if (v5 + 4 < v15)
        {
          unint64_t v16 = *(void *)(v4 + 8 * v17);
          if (v16) {
            goto LABEL_10;
          }
          int64_t v14 = v5 + 5;
          int64_t v7 = v5 + 4;
          if (v5 + 5 < v15)
          {
            unint64_t v16 = *(void *)(v4 + 8 * v14);
            if (v16) {
              goto LABEL_7;
            }
            int64_t v7 = v15 - 1;
            int64_t v18 = v5 + 6;
            while (v15 != v18)
            {
              unint64_t v16 = *(void *)(v4 + 8 * v18++);
              if (v16)
              {
                int64_t v14 = v18 - 1;
                goto LABEL_7;
              }
            }
          }
        }
      }
    }
  }
  uint64_t v9 = 0;
  memset(v24, 0, sizeof(v24));
  long long v23 = 0u;
LABEL_23:
  uint64_t *v1 = v3;
  v1[1] = v4;
  v1[2] = v6;
  v1[3] = v7;
  v1[4] = v9;
  uint64_t v19 = (void (*)(_OWORD *))v1[5];
  uint64_t result = sub_F158C((uint64_t)&v23, (uint64_t)v22);
  if (*((void *)&v22[0] + 1))
  {
    v21[0] = v22[0];
    v21[1] = v22[1];
    void v21[2] = v22[2];
    v19(v21);
    return sub_F15F4((uint64_t)v21);
  }
  else
  {
    a1[1] = 0u;
    a1[2] = 0u;
    *a1 = 0u;
  }
  return result;
}

uint64_t sub_F1584()
{
  return swift_release();
}

uint64_t sub_F158C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_310AB8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_F15F4(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_310AC0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

void SearchForMedia.HandleIntentStrategy.makeIntentHandledResponse(app:intent:intentResponse:_:)(void *a1, void *a2, void *a3, void (*a4)(uint64_t *), uint64_t a5)
{
  uint64_t v6 = v5;
  id v27 = a3;
  BOOL v28 = a4;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_295C50();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  swift_retain_n();
  int64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    int64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v24 = swift_slowAlloc();
    uint64_t v29 = (uint64_t)a1;
    uint64_t v30 = v24;
    uint64_t v26 = v6;
    *(_DWORD *)int64_t v17 = 136315138;
    v22[1] = v17 + 4;
    long long v23 = v17;
    sub_297700();
    uint64_t v25 = v10;
    sub_F567C((unint64_t *)&qword_30CAD0, 255, (void (*)(uint64_t))&type metadata accessor for App);
    uint64_t v18 = sub_2995A0();
    uint64_t v29 = sub_6E98(v18, v19, &v30);
    uint64_t v6 = v26;
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v15, v16, "HandleIntentStrategy#makeIntentHandledResponse for app: %s", v23, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v25);
  }
  else
  {

    swift_release_n();
    (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  }
  swift_retain();
  swift_retain();
  id v20 = a2;
  swift_retain();
  id v21 = v27;
  sub_1218BC(v20, v6, a1, v20, v28, a5, v21);
  swift_release();
  swift_release();

  swift_release();
}

uint64_t sub_F19B0(void *a1, void *a2, uint64_t a3, void *a4, void (*a5)(uint64_t *), uint64_t a6, uint64_t a7)
{
  uint64_t v277 = a7;
  v278 = a5;
  uint64_t v279 = a6;
  uint64_t v283 = a3;
  id v284 = a4;
  v285 = a2;
  id v281 = a1;
  uint64_t v7 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v7 - 8);
  v250 = (char *)&v243 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v270 = sub_297270();
  uint64_t v269 = *(void *)(v270 - 8);
  __chkstk_darwin(v270);
  v268 = (char *)&v243 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v267 = sub_298800();
  uint64_t v266 = *(void *)(v267 - 8);
  uint64_t v10 = __chkstk_darwin(v267);
  v251 = (char *)&v243 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = __chkstk_darwin(v10);
  v254 = (char *)&v243 - v13;
  __chkstk_darwin(v12);
  v274 = (char *)&v243 - v14;
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v15 - 8);
  uint64_t v280 = (uint64_t)&v243 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D030);
  uint64_t v18 = __chkstk_darwin(v17);
  v256 = (char *)&v243 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  v257 = (char *)&v243 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  v261 = (char *)&v243 - v23;
  uint64_t v24 = __chkstk_darwin(v22);
  v262 = (char *)&v243 - v25;
  __chkstk_darwin(v24);
  v282 = (uint64_t *)((char *)&v243 - v26);
  uint64_t v27 = sub_71D4(&qword_30D5B8);
  uint64_t v28 = __chkstk_darwin(v27 - 8);
  v265 = (char *)&v243 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = __chkstk_darwin(v28);
  v260 = (char *)&v243 - v31;
  uint64_t v32 = __chkstk_darwin(v30);
  v273 = (uint64_t *)((char *)&v243 - v33);
  __chkstk_darwin(v32);
  v276 = (char *)&v243 - v34;
  uint64_t v35 = sub_71D4((uint64_t *)&unk_30FA50);
  uint64_t v36 = __chkstk_darwin(v35 - 8);
  v264 = (char *)&v243 - ((v37 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = __chkstk_darwin(v36);
  v259 = (char *)&v243 - v39;
  uint64_t v40 = __chkstk_darwin(v38);
  v272 = (char *)&v243 - v41;
  __chkstk_darwin(v40);
  v275 = (char *)&v243 - v42;
  uint64_t v43 = sub_71D4(&qword_30D5C0);
  uint64_t v44 = __chkstk_darwin(v43 - 8);
  v263 = (char *)&v243 - ((v45 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v46 = __chkstk_darwin(v44);
  v258 = (char *)&v243 - v47;
  uint64_t v48 = __chkstk_darwin(v46);
  v271 = (char *)&v243 - v49;
  __chkstk_darwin(v48);
  uint64_t v51 = (char *)&v243 - v50;
  uint64_t v52 = sub_297280();
  uint64_t v53 = *(void *)(v52 - 8);
  __chkstk_darwin(v52);
  uint64_t v55 = (char *)&v243 - ((v54 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v56 = sub_297210();
  uint64_t v57 = *(void *)(v56 - 8);
  __chkstk_darwin(v56);
  uint64_t v59 = (char *)&v243 - ((v58 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v60 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v60);
  id v62 = (uint64_t **)((char *)&v243 - ((v61 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0((uint64_t)v281, (uint64_t)v62);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v63 = *v62;
    (*(void (**)(char *, void, unint64_t))(v57 + 104))(v59, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v56);
    (*(void (**)(char *, void, uint64_t))(v53 + 104))(v55, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v52);
    v282 = v63;
    swift_getErrorValue();
    sub_299620();
    uint64_t v280 = sub_297230();
    id v281 = v64;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v53 + 8))(v55, v52);
    (*(void (**)(char *, unint64_t))(v57 + 8))(v59, v56);
    uint64_t v66 = v285[11];
    unint64_t v65 = v285[12];
    sub_74A4(v285 + 8, v66);
    uint64_t v67 = enum case for ActivityType.failed(_:);
    uint64_t v68 = sub_2944C0();
    uint64_t v69 = *(void *)(v68 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v69 + 104))(v51, v67, v68);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v69 + 56))(v51, 0, 1, v68);
    uint64_t v70 = sub_2949F0();
    uint64_t v71 = (uint64_t)v275;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v70 - 8) + 56))(v275, 1, 1, v70);
    uint64_t v72 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v73 = sub_294170();
    uint64_t v74 = *(void *)(v73 - 8);
    uint64_t v75 = (void (*)(char *))v276;
    (*(void (**)(char *, uint64_t, uint64_t))(v74 + 104))(v276, v72, v73);
    (*(void (**)(void (*)(char *), void, uint64_t, uint64_t))(v74 + 56))(v75, 0, 1, v73);
    id v76 = [v284 mediaItems];
    if (!v76) {
      goto LABEL_59;
    }
    id v77 = v76;
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v78 = sub_298B50();

    if (v78 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v79 = sub_2994C0();
      swift_bridgeObjectRelease();
      if (v79) {
        goto LABEL_5;
      }
    }
    else
    {
      uint64_t v79 = *(void *)((char *)&dword_10 + (v78 & 0xFFFFFFFFFFFFFF8));
      if (v79)
      {
LABEL_5:
        if ((v78 & 0xC000000000000001) != 0)
        {
          id v80 = (id)sub_2993E0();
          goto LABEL_8;
        }
        if (*(void *)((char *)&dword_10 + (v78 & 0xFFFFFFFFFFFFFF8)))
        {
          id v80 = *(id *)(v78 + 32);
LABEL_8:
          NSString v81 = v80;
          swift_bridgeObjectRelease();
          [v81 type];

LABEL_59:
          sub_295CC0();
          swift_bridgeObjectRelease();
          sub_23A44((uint64_t)v75, &qword_30D5B8);
          sub_23A44(v71, (uint64_t *)&unk_30FA50);
          sub_23A44((uint64_t)v51, &qword_30D5C0);
          v287 = (char *)v282;
          char v288 = 1;
          swift_errorRetain();
          v278((uint64_t *)&v287);
          swift_errorRelease();
          uint64_t v198 = (uint64_t *)&unk_30FA80;
          uint64_t v199 = (uint64_t *)&v287;
          return sub_23A44((uint64_t)v199, v198);
        }
        __break(1u);
        goto LABEL_63;
      }
    }
    swift_bridgeObjectRelease();
    goto LABEL_59;
  }
  v248 = v55;
  uint64_t v82 = v59;
  uint64_t v249 = v53;
  uint64_t v253 = v52;
  uint64_t v252 = v57;
  v275 = (char *)v17;
  uint64_t v83 = *(int *)(v17 + 48);
  uint64_t v84 = sub_2949F0();
  v276 = *(char **)(v84 - 8);
  os_log_type_t v85 = (void (*)(uint64_t *, uint64_t **))*((void *)v276 + 4);
  uint64_t v86 = v276 + 32;
  unint64_t v87 = v282;
  uint64_t v255 = v84;
  v85(v282, v62);
  uint64_t v88 = *(uint64_t **)((char *)v62 + v83);
  *(uint64_t *)((char *)v87 + v83) = (uint64_t)v88;
  id v281 = v88;
  id v89 = v284;
  sub_26A6C0((uint64_t)v284, v280);
  sub_74A4(v285 + 13, v285[16]);
  char v90 = sub_296B80();
  v247 = (void (*)(char *, char *, uint64_t))v85;
  v246 = v86;
  if ((v90 & 1) == 0)
  {
    uint64_t v123 = (uint64_t)v87;
    sub_2976E0();
    unint64_t v289 = (unint64_t)_swiftEmptyArrayStorage;
    char v126 = sub_296520();
    swift_bridgeObjectRelease();
    uint64_t v75 = (void (*)(char *))v56;
    uint64_t v66 = v252;
    uint64_t v71 = v253;
    uint64_t v127 = v82;
    if ((v126 & 1) == 0) {
      goto LABEL_44;
    }
    id v128 = [v89 mediaItems];
    v245 = v82;
    if (!v128) {
      goto LABEL_34;
    }
    uint64_t v129 = v128;
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v130 = sub_298B50();

    if (v130 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v208 = sub_2994C0();
      swift_bridgeObjectRelease();
      if (v208)
      {
LABEL_25:
        if ((v130 & 0xC000000000000001) != 0) {
          goto LABEL_91;
        }
        if (*(void *)((char *)&dword_10 + (v130 & 0xFFFFFFFFFFFFFF8)))
        {
          id v131 = *(id *)(v130 + 32);
          goto LABEL_28;
        }
        __break(1u);
LABEL_93:
        id v236 = (id)sub_2993E0();
LABEL_85:
        v237 = v236;
        swift_bridgeObjectRelease();
        [v237 type];

LABEL_88:
        uint64_t v238 = (uint64_t)v258;
        uint64_t v239 = (uint64_t)v259;
        uint64_t v240 = (uint64_t)v260;
        sub_295CC0();
        swift_bridgeObjectRelease();
        sub_23A44(v240, &qword_30D5B8);
        sub_23A44(v239, (uint64_t *)&unk_30FA50);
        sub_23A44(v238, &qword_30D5C0);
        sub_F567C((unint64_t *)&unk_313810, 255, (void (*)(uint64_t))&type metadata accessor for CommandFailure);
        uint64_t v241 = swift_allocError();
        *v242 = v75;
        v287 = (char *)v241;
        char v288 = v123;
        swift_retain();
        v278((uint64_t *)&v287);
        swift_release();
        sub_23A44((uint64_t)&v287, (uint64_t *)&unk_30FA80);
        sub_23A44(v280, (uint64_t *)&unk_30FA70);
        uint64_t v198 = &qword_30D030;
        uint64_t v199 = v282;
        return sub_23A44((uint64_t)v199, v198);
      }
    }
    else if (*(void *)((char *)&dword_10 + (v130 & 0xFFFFFFFFFFFFFF8)))
    {
      goto LABEL_25;
    }

    swift_bridgeObjectRelease();
    goto LABEL_72;
  }
  uint64_t v91 = v252;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v92 = v267;
  uint64_t v93 = sub_6E60(v267, (uint64_t)qword_31FC08);
  uint64_t v94 = v266;
  (*(void (**)(char *, uint64_t, uint64_t))(v266 + 16))(v274, v93, v92);
  id v95 = sub_2987E0();
  os_log_type_t v96 = sub_298DA0();
  BOOL v97 = os_log_type_enabled(v95, v96);
  uint64_t v79 = v255;
  uint64_t v98 = v249;
  if (v97)
  {
    uint64_t v99 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v99 = 0;
    _os_log_impl(&dword_0, v95, v96, "HandleIntentStrategy#makeIntentHandledResponse AppIntents enabled, skipping punchout response", v99, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v94 + 8))(v274, v92);
  unint64_t v100 = v82;
  unint64_t v101 = v56;
  (*(void (**)(char *, void, unint64_t))(v91 + 104))(v82, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v56);
  id v102 = v248;
  uint64_t v103 = v253;
  (*(void (**)(char *, void, uint64_t))(v98 + 104))(v248, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v253);
  uint64_t v104 = v269;
  os_log_type_t v105 = v268;
  uint64_t v106 = v98;
  uint64_t v107 = v270;
  (*(void (**)(char *, void, uint64_t))(v269 + 104))(v268, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v270);
  v274 = (char *)sub_297220();
  uint64_t v277 = v108;
  (*(void (**)(char *, uint64_t))(v104 + 8))(v105, v107);
  (*(void (**)(char *, uint64_t))(v106 + 8))(v102, v103);
  (*(void (**)(char *, unint64_t))(v91 + 8))(v100, v101);
  unint64_t v56 = v285[11];
  uint64_t v270 = (uint64_t)sub_74A4(v285 + 8, v56);
  uint64_t v109 = enum case for ActivityType.completed(_:);
  uint64_t v110 = sub_2944C0();
  uint64_t v111 = *(void *)(v110 - 8);
  uint64_t v112 = v271;
  (*(void (**)(char *, uint64_t, uint64_t))(v111 + 104))(v271, v109, v110);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v111 + 56))(v112, 0, 1, v110);
  uint64_t v113 = *((int *)v275 + 12);
  uint64_t v114 = v276;
  uint64_t v71 = (uint64_t)(v276 + 16);
  uint64_t v75 = (void (*)(char *))*((void *)v276 + 2);
  uint64_t v115 = v262;
  uint64_t v66 = (uint64_t)v282;
  v75(v262);
  *(void *)&v115[v113] = v281;
  uint64_t v116 = v272;
  v247(v272, v115, v79);
  (*((void (**)(char *, void, uint64_t, uint64_t))v114 + 7))(v116, 0, 1, v79);
  uint64_t v117 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v118 = sub_294170();
  uint64_t v119 = *(void *)(v118 - 8);
  id v120 = v273;
  (*(void (**)(void *, uint64_t, uint64_t))(v119 + 104))(v273, v117, v118);
  (*(void (**)(void *, void, uint64_t, uint64_t))(v119 + 56))(v120, 0, 1, v118);
  id v121 = [v284 mediaItems];
  if (!v121) {
    goto LABEL_65;
  }
  uint64_t v122 = v121;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v65 = sub_298B50();

  if (!(v65 >> 62))
  {
    uint64_t v123 = *(void *)((char *)&dword_10 + (v65 & 0xFFFFFFFFFFFFFF8));
    if (!v123)
    {
LABEL_64:
      swift_bridgeObjectRelease();
      goto LABEL_65;
    }
    goto LABEL_17;
  }
LABEL_63:
  swift_bridgeObjectRetain();
  uint64_t v123 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v123) {
    goto LABEL_64;
  }
LABEL_17:
  if ((v65 & 0xC000000000000001) != 0)
  {
    id v124 = (id)sub_2993E0();
    goto LABEL_20;
  }
  if (*(void *)((char *)&dword_10 + (v65 & 0xFFFFFFFFFFFFFF8)))
  {
    id v124 = *(id *)(v65 + 32);
LABEL_20:
    uint64_t v125 = v124;
    swift_bridgeObjectRelease();
    [v125 type];

LABEL_65:
    uint64_t v200 = (uint64_t)v271;
    uint64_t v201 = (uint64_t)v272;
    uint64_t v202 = (uint64_t)v273;
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v202, &qword_30D5B8);
    sub_23A44(v201, (uint64_t *)&unk_30FA50);
    sub_23A44(v200, &qword_30D5C0);
    sub_74A4(v285 + 18, v285[21]);
    uint64_t v203 = *((int *)v275 + 12);
    uint64_t v204 = (uint64_t)v261;
    ((void (*)(char *, uint64_t, uint64_t))v75)(v261, v66, v79);
    uint64_t v205 = v281;
    *(void *)(v204 + v203) = v281;
    sub_71D4(&qword_3107B0);
    uint64_t v206 = swift_allocObject();
    *(_OWORD *)(v206 + 16) = xmmword_29A8D0;
    *(void *)(v206 + 32) = [objc_allocWithZone((Class)SAUICloseAssistant) init];
    v287 = (char *)v206;
    sub_298B70();
    uint64_t v207 = v280;
    sub_1CBD04(v204, v205, v280, (uint64_t)v287, v278, v279);

    swift_bridgeObjectRelease();
    sub_23A44(v207, (uint64_t *)&unk_30FA70);
    sub_23A44(v66, &qword_30D030);
    return (*((uint64_t (**)(uint64_t, uint64_t))v276 + 1))(v204, v79);
  }
  __break(1u);
LABEL_69:
  swift_bridgeObjectRetain();
  uint64_t v182 = sub_2994C0();
  swift_bridgeObjectRelease();
  while (1)
  {
    v183 = v275;
    if (!v182) {
      break;
    }
    if ((v56 & 0xC000000000000001) != 0)
    {
      id v184 = (id)sub_2993E0();
      goto LABEL_51;
    }
    if (*(void *)((char *)&dword_10 + (v56 & 0xFFFFFFFFFFFFFF8)))
    {
      id v184 = *(id *)(v56 + 32);
LABEL_51:
      v185 = v184;
      swift_bridgeObjectRelease();
      [v185 type];

      goto LABEL_54;
    }
    __break(1u);
LABEL_91:
    id v131 = (id)sub_2993E0();
LABEL_28:
    id v132 = v131;
    swift_bridgeObjectRelease();
    id v133 = [v132 privateMediaItemValueData];

    if (!v133
      || (id v134 = [v133 punchoutURI], v133, !v134))
    {
LABEL_34:

LABEL_72:
      long long v209 = v254;
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v210 = v267;
      uint64_t v211 = sub_6E60(v267, (uint64_t)qword_31FC08);
      uint64_t v212 = v266;
      (*(void (**)(char *, uint64_t, uint64_t))(v266 + 16))(v209, v211, v210);
      uint64_t v213 = sub_2987E0();
      os_log_type_t v214 = sub_298DB0();
      BOOL v215 = os_log_type_enabled(v213, v214);
      v244 = v75;
      if (v215)
      {
        v216 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)v216 = 0;
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v213, v214, "HandleIntentStrategy#makeIntentHandledResponse missing 1P punchoutURI in resolved mediaItem", v216, 2u);
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v212 + 8))(v209, v210);
      }
      else
      {

        (*(void (**)(char *, uint64_t))(v212 + 8))(v209, v210);
        swift_bridgeObjectRelease();
      }
      unint64_t v137 = sub_2945E0();
      swift_allocObject();
      uint64_t v75 = (void (*)(char *))sub_2945C0();
      sub_2945B0();
      if (!v217)
      {
        uint64_t v218 = v269;
        v219 = v268;
        uint64_t v220 = v270;
        (*(void (**)(char *, void, uint64_t))(v269 + 104))(v268, enum case for AdditionalMetricsDescription.StatusReason.unknown(_:), v270);
        sub_297260();
        v221 = v219;
        uint64_t v66 = v252;
        uint64_t v222 = v220;
        uint64_t v71 = v253;
        (*(void (**)(char *, uint64_t))(v218 + 8))(v221, v222);
      }
      uint64_t v223 = v245;
      uint64_t v224 = v244;
      (*(void (**)(char *, void, void (*)(char *)))(v66 + 104))(v245, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v244);
      uint64_t v225 = v249;
      uint64_t v226 = v248;
      (*(void (**)(char *, void, uint64_t))(v249 + 104))(v248, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v71);
      id v281 = (id)sub_297230();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v225 + 8))(v226, v71);
      (*(void (**)(char *, void (*)(char *)))(v66 + 8))(v223, v224);
      v285 = sub_74A4(v285 + 8, v285[11]);
      uint64_t v227 = enum case for ActivityType.failed(_:);
      uint64_t v228 = sub_2944C0();
      uint64_t v229 = *(void *)(v228 - 8);
      uint64_t v230 = v258;
      (*(void (**)(char *, uint64_t, uint64_t))(v229 + 104))(v258, v227, v228);
      uint64_t v123 = 1;
      (*(void (**)(char *, void, uint64_t, uint64_t))(v229 + 56))(v230, 0, 1, v228);
      (*((void (**)(char *, uint64_t, uint64_t, uint64_t))v276 + 7))(v259, 1, 1, v255);
      uint64_t v231 = enum case for SiriKitReliabilityCodes.unsupportedParameterPunchout(_:);
      uint64_t v232 = sub_294170();
      uint64_t v233 = *(void *)(v232 - 8);
      unint64_t v56 = (unint64_t)v260;
      (*(void (**)(char *, uint64_t, uint64_t))(v233 + 104))(v260, v231, v232);
      (*(void (**)(unint64_t, void, uint64_t, uint64_t))(v233 + 56))(v56, 0, 1, v232);
      id v234 = [v284 mediaItems];
      if (!v234) {
        goto LABEL_88;
      }
      v235 = v234;
      sub_1983C(0, (unint64_t *)&qword_30D4E8);
      unint64_t v135 = sub_298B50();

      if (v135 >> 62)
      {
        swift_bridgeObjectRetain();
        uint64_t v66 = sub_2994C0();
        swift_bridgeObjectRelease();
        if (!v66)
        {
LABEL_87:
          swift_bridgeObjectRelease();
          goto LABEL_88;
        }
      }
      else
      {
        uint64_t v66 = *(void *)((char *)&dword_10 + (v135 & 0xFFFFFFFFFFFFFF8));
        if (!v66) {
          goto LABEL_87;
        }
      }
      if ((v135 & 0xC000000000000001) != 0) {
        goto LABEL_93;
      }
      if (*(void *)((char *)&dword_10 + (v135 & 0xFFFFFFFFFFFFFF8)))
      {
        id v236 = *(id *)(v135 + 32);
        goto LABEL_85;
      }
      __break(1u);
LABEL_95:
      swift_once();
      goto LABEL_31;
    }
    unint64_t v135 = (unint64_t)v75;
    uint64_t v277 = sub_2989C0();
    unint64_t v137 = v136;

    if (qword_30C848 != -1) {
      goto LABEL_95;
    }
LABEL_31:
    uint64_t v138 = v267;
    uint64_t v139 = sub_6E60(v267, (uint64_t)qword_31FC08);
    uint64_t v140 = v266;
    (*(void (**)(char *, uint64_t, uint64_t))(v266 + 16))(v251, v139, v138);
    swift_bridgeObjectRetain_n();
    id v141 = sub_2987E0();
    os_log_type_t v142 = sub_298DA0();
    if (os_log_type_enabled(v141, v142))
    {
      uint64_t v143 = (uint8_t *)swift_slowAlloc();
      v287 = (char *)swift_slowAlloc();
      *(_DWORD *)uint64_t v143 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v286 = sub_6E98(v277, v137, (uint64_t *)&v287);
      uint64_t v66 = v252;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v141, v142, "Creating app punchout command with punchoutURI: %s", v143, 0xCu);
      swift_arrayDestroy();
      uint64_t v123 = (uint64_t)v282;
      unint64_t v135 = v56;
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v140 + 8))(v251, v267);
    id v144 = [objc_allocWithZone((Class)SAUIAppPunchOut) init];
    id v145 = v250;
    sub_2935F0();
    swift_bridgeObjectRelease();
    uint64_t v146 = sub_293600();
    uint64_t v147 = *(void *)(v146 - 8);
    unint64_t v149 = 0;
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v147 + 48))(v145, 1, v146) != 1)
    {
      sub_2935D0(v148);
      unint64_t v149 = v150;
      (*(void (**)(char *, uint64_t))(v147 + 8))(v145, v146);
    }
    [v144 setPunchOutUri:v149];

    sub_74A4(v285 + 2, v285[5]);
    id v151 = v144;
    sub_294A20();
    if (v152)
    {
      NSString v153 = sub_2989B0();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v153 = 0;
    }
    uint64_t v71 = v253;
    [v151 setRefId:v153];

    id v154 = v151;
    sub_298B30();
    if (*(void *)((char *)&dword_10 + (v289 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                    + (v289 & 0xFFFFFFFFFFFFFF8)) >> 1)
      sub_298B80();
    sub_298BB0();
    sub_298B70();

    uint64_t v75 = (void (*)(char *))v135;
    uint64_t v127 = v245;
LABEL_44:
    (*(void (**)(char *, void, void (*)(char *)))(v66 + 104))(v127, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v75);
    uint64_t v155 = v123;
    uint64_t v156 = v127;
    uint64_t v157 = v249;
    unint64_t v158 = v248;
    (*(void (**)(char *, void, uint64_t))(v249 + 104))(v248, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v71);
    id v159 = v75;
    uint64_t v160 = v269;
    uint64_t v161 = v71;
    os_log_type_t v162 = v268;
    uint64_t v163 = v270;
    (*(void (**)(char *, void, uint64_t))(v269 + 104))(v268, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v270);
    v274 = (char *)sub_297220();
    uint64_t v277 = v164;
    (*(void (**)(char *, uint64_t))(v160 + 8))(v162, v163);
    (*(void (**)(char *, uint64_t))(v157 + 8))(v158, v161);
    (*(void (**)(char *, void (*)(char *)))(v66 + 8))(v156, v159);
    uint64_t v71 = v285[11];
    v272 = (char *)v285[12];
    v273 = sub_74A4(v285 + 8, v71);
    uint64_t v165 = enum case for ActivityType.completed(_:);
    uint64_t v166 = sub_2944C0();
    id v167 = v284;
    uint64_t v168 = v166;
    uint64_t v169 = *(void *)(v166 - 8);
    uint64_t v170 = v263;
    (*(void (**)(char *, uint64_t, uint64_t))(v169 + 104))(v263, v165, v166);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v169 + 56))(v170, 0, 1, v168);
    uint64_t v171 = *((int *)v275 + 12);
    unint64_t v172 = v276;
    uint64_t v75 = (void (*)(char *))(v276 + 16);
    uint64_t v66 = *((void *)v276 + 2);
    os_log_t v173 = v257;
    uint64_t v174 = v255;
    ((void (*)(char *, uint64_t, uint64_t))v66)(v257, v155, v255);
    *(void *)&v173[v171] = v281;
    id v175 = v264;
    v247(v264, v173, v174);
    (*((void (**)(char *, void, uint64_t, uint64_t))v172 + 7))(v175, 0, 1, v174);
    uint64_t v176 = enum case for SiriKitReliabilityCodes.success(_:);
    uint64_t v177 = sub_294170();
    uint64_t v178 = *(void *)(v177 - 8);
    os_log_t v179 = v265;
    (*(void (**)(char *, uint64_t, uint64_t))(v178 + 104))(v265, v176, v177);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v178 + 56))(v179, 0, 1, v177);
    uint64_t v123 = (uint64_t)v167;
    id v180 = [v167 mediaItems];
    if (!v180)
    {
      v183 = v275;
      goto LABEL_54;
    }
    uint64_t v181 = v180;
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v56 = sub_298B50();

    if (v56 >> 62) {
      goto LABEL_69;
    }
    uint64_t v182 = *(void *)((char *)&dword_10 + (v56 & 0xFFFFFFFFFFFFFF8));
  }
  swift_bridgeObjectRelease();
LABEL_54:
  uint64_t v186 = (uint64_t)v263;
  uint64_t v187 = (uint64_t)v264;
  uint64_t v188 = (uint64_t)v265;
  sub_295CC0();
  swift_bridgeObjectRelease();
  sub_23A44(v188, &qword_30D5B8);
  sub_23A44(v187, (uint64_t *)&unk_30FA50);
  sub_23A44(v186, &qword_30D5C0);
  sub_74A4(v285 + 18, v285[21]);
  uint64_t v189 = *((int *)v183 + 12);
  uint64_t v190 = (uint64_t)v256;
  uint64_t v191 = (uint64_t)v282;
  uint64_t v192 = v255;
  ((void (*)(char *, uint64_t *, uint64_t))v66)(v256, v282, v255);
  *(void *)(v190 + v189) = v281;
  v193 = (void *)v289;
  if (v289 >> 62)
  {
    sub_1983C(0, &qword_310BB8);
    swift_bridgeObjectRetain();
    uint64_t v194 = sub_2994B0();
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRetain();
    sub_2995E0();
    sub_1983C(0, &qword_310BB8);
    uint64_t v194 = (uint64_t)v193;
  }
  uint64_t v195 = v280;
  swift_bridgeObjectRelease();
  v196 = v281;
  sub_1CBD04(v190, v281, v195, v194, v278, v279);

  swift_bridgeObjectRelease();
  sub_23A44(v195, (uint64_t *)&unk_30FA70);
  sub_23A44(v191, &qword_30D030);
  return (*((uint64_t (**)(uint64_t, uint64_t))v276 + 1))(v190, v192);
}

uint64_t SearchForMedia.HandleIntentStrategy.makeFailureHandlingIntentResponse(app:intent:intentResponse:_:)(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  uint64_t v29 = a4;
  uint64_t v30 = a5;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v28 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_295C50();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "SearchForMedia+HandleIntentStrategy#makeFailureHandlingIntentResponse", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  strcpy((char *)(inited + 32), "MetricsError");
  *(unsigned char *)(inited + 45) = 0;
  *(_WORD *)(inited + 46) = -5120;
  unint64_t v32 = 0;
  unint64_t v33 = 0xE000000000000000;
  sub_2993B0(42);
  swift_bridgeObjectRelease();
  unint64_t v32 = 0xD000000000000028;
  unint64_t v33 = 0x80000000002A56B0;
  id v31 = [a3 code];
  v34._countAndFlagsBits = sub_2995A0();
  sub_298A80(v34);
  swift_bridgeObjectRelease();
  unint64_t v19 = v32;
  unint64_t v20 = v33;
  *(void *)(inited + 72) = &type metadata for String;
  *(void *)(inited + 48) = v19;
  *(void *)(inited + 56) = v20;
  unint64_t v21 = sub_9A184(inited);
  uint64_t v22 = (void *)swift_allocObject();
  void v22[2] = v6;
  _OWORD v22[3] = a1;
  uint64_t v23 = v29;
  uint64_t v24 = v30;
  v22[4] = a2;
  v22[5] = v23;
  v22[6] = v24;
  v22[7] = a3;
  swift_retain();
  swift_retain();
  id v25 = a2;
  swift_retain();
  id v26 = a3;
  sub_F5358(v21, a1, (uint64_t)sub_F5600, (uint64_t)v22, (void (*)(uint64_t (*)(), uint64_t))sub_54D50);
  swift_bridgeObjectRelease();
  return swift_release();
}

void sub_F40F4(uint64_t a1, void *a2, uint64_t a3, void *a4, void (*a5)(uint64_t *), uint64_t a6, void *a7)
{
  id v106 = a7;
  uint64_t v111 = a5;
  uint64_t v112 = a6;
  uint64_t v117 = a2;
  id v118 = a4;
  uint64_t v110 = a3;
  uint64_t v8 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v8 - 8);
  uint64_t v104 = (char *)&v96 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v116 = sub_71D4(&qword_30D030);
  uint64_t v10 = __chkstk_darwin(v116);
  uint64_t v103 = (char *)&v96 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v108 = (char *)&v96 - v13;
  __chkstk_darwin(v12);
  uint64_t v115 = (char *)&v96 - v14;
  uint64_t v15 = sub_71D4(&qword_30D5B8);
  uint64_t v16 = __chkstk_darwin(v15 - 8);
  uint64_t v109 = (char *)&v96 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  uint64_t v107 = (char *)&v96 - v18;
  uint64_t v19 = sub_71D4((uint64_t *)&unk_30FA50);
  uint64_t v20 = __chkstk_darwin(v19 - 8);
  uint64_t v114 = (char *)&v96 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  os_log_type_t v105 = (char *)&v96 - v22;
  uint64_t v23 = sub_71D4(&qword_30D5C0);
  uint64_t v24 = __chkstk_darwin(v23 - 8);
  uint64_t v113 = (char *)&v96 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v24);
  uint64_t v27 = (char *)&v96 - v26;
  uint64_t v28 = sub_297280();
  uint64_t v29 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  id v31 = (char *)&v96 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = sub_297210();
  uint64_t v33 = *(void *)(v32 - 8);
  __chkstk_darwin(v32);
  uint64_t v35 = (char *)&v96 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v36 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v36);
  uint64_t v38 = (uint64_t *)((char *)&v96 - ((v37 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0(a1, (uint64_t)v38);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v39 = *v38;
    (*(void (**)(char *, void, uint64_t))(v33 + 104))(v35, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v32);
    (*(void (**)(char *, void, uint64_t))(v29 + 104))(v31, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v28);
    swift_getErrorValue();
    sub_299620();
    uint64_t v115 = (char *)sub_297230();
    uint64_t v116 = v40;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v29 + 8))(v31, v28);
    (*(void (**)(char *, uint64_t))(v33 + 8))(v35, v32);
    uint64_t v117 = sub_74A4(v117 + 8, v117[11]);
    uint64_t v41 = enum case for ActivityType.failed(_:);
    uint64_t v42 = sub_2944C0();
    uint64_t v43 = *(void *)(v42 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v43 + 104))(v27, v41, v42);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v43 + 56))(v27, 0, 1, v42);
    uint64_t v44 = sub_2949F0();
    uint64_t v45 = (uint64_t)v105;
    (*(void (**)(void))(*(void *)(v44 - 8) + 56))();
    uint64_t v46 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v47 = sub_294170();
    uint64_t v48 = *(void *)(v47 - 8);
    uint64_t v49 = (uint64_t)v107;
    (*(void (**)(char *, uint64_t, uint64_t))(v48 + 104))(v107, v46, v47);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v48 + 56))(v49, 0, 1, v47);
    id v50 = [v118 mediaItems];
    if (!v50)
    {
LABEL_18:
      sub_295CC0();
      swift_bridgeObjectRelease();
      sub_23A44(v49, &qword_30D5B8);
      sub_23A44(v45, (uint64_t *)&unk_30FA50);
      sub_23A44((uint64_t)v27, &qword_30D5C0);
      v119[0] = v39;
      char v120 = 1;
      swift_errorRetain();
      v111(v119);
      swift_errorRelease();
      sub_23A44((uint64_t)v119, (uint64_t *)&unk_30FA80);
      return;
    }
    uint64_t v51 = v50;
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v52 = sub_298B50();

    if (v52 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v86 = sub_2994C0();
      swift_bridgeObjectRelease();
      if (v86) {
        goto LABEL_5;
      }
    }
    else if (*(void *)((char *)&dword_10 + (v52 & 0xFFFFFFFFFFFFFF8)))
    {
LABEL_5:
      if ((v52 & 0xC000000000000001) != 0)
      {
        id v53 = (id)sub_2993E0();
        goto LABEL_8;
      }
      if (*(void *)((char *)&dword_10 + (v52 & 0xFFFFFFFFFFFFFF8)))
      {
        id v53 = *(id *)(v52 + 32);
LABEL_8:
        uint64_t v54 = v53;
        swift_bridgeObjectRelease();
        [v54 type];

        goto LABEL_18;
      }
      __break(1u);
      goto LABEL_26;
    }
    swift_bridgeObjectRelease();
    goto LABEL_18;
  }
  uint64_t v55 = *(int *)(v116 + 48);
  uint64_t v56 = sub_2949F0();
  uint64_t v107 = *(char **)(v56 - 8);
  id v102 = (void (*)(char *, uint64_t *, uint64_t))*((void *)v107 + 4);
  os_log_type_t v105 = v107 + 32;
  uint64_t v57 = v115;
  v102(v115, v38, v56);
  uint64_t v58 = *(void **)((char *)v38 + v55);
  *(void *)&v57[v55] = v58;
  (*(void (**)(char *, void, uint64_t))(v33 + 104))(v35, enum case for AdditionalMetricsDescription.ModuleName.sfmhis(_:), v32);
  (*(void (**)(char *, void, uint64_t))(v29 + 104))(v31, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v28);
  id v59 = v58;
  v119[0] = [v106 code];
  sub_2995A0();
  uint64_t v100 = sub_297230();
  uint64_t v101 = v60;
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v29 + 8))(v31, v28);
  (*(void (**)(char *, uint64_t))(v33 + 8))(v35, v32);
  uint64_t v61 = v117;
  uint64_t v62 = v117[11];
  uint64_t v98 = v117[12];
  uint64_t v96 = v62;
  uint64_t v99 = sub_74A4(v117 + 8, v62);
  uint64_t v63 = enum case for ActivityType.failed(_:);
  uint64_t v64 = sub_2944C0();
  uint64_t v65 = *(void *)(v64 - 8);
  uint64_t v66 = v113;
  (*(void (**)(char *, uint64_t, uint64_t))(v65 + 104))(v113, v63, v64);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v65 + 56))(v66, 0, 1, v64);
  uint64_t v67 = v115;
  uint64_t v68 = v116;
  uint64_t v69 = *(int *)(v116 + 48);
  uint64_t v70 = v107;
  uint64_t v71 = v108;
  BOOL v97 = (void (*)(char *, char *, uint64_t))*((void *)v107 + 2);
  v97(v108, v115, v56);
  id v106 = v59;
  *(void *)&v71[v69] = v59;
  uint64_t v72 = v114;
  v102(v114, (uint64_t *)v71, v56);
  uint64_t v73 = (void (*)(char *, void, uint64_t, uint64_t))*((void *)v70 + 7);
  uint64_t v108 = (char *)v56;
  v73(v72, 0, 1, v56);
  uint64_t v74 = enum case for SiriKitReliabilityCodes.handleIntentFailure(_:);
  uint64_t v75 = sub_294170();
  uint64_t v76 = *(void *)(v75 - 8);
  id v77 = v109;
  (*(void (**)(char *, uint64_t, uint64_t))(v76 + 104))(v109, v74, v75);
  uint64_t v78 = (uint64_t)v77;
  (*(void (**)(char *, void, uint64_t, uint64_t))(v76 + 56))(v77, 0, 1, v75);
  id v79 = [v118 mediaItems];
  id v80 = v61;
  uint64_t v81 = (uint64_t)v67;
  if (v79)
  {
    uint64_t v82 = v79;
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v83 = sub_298B50();

    if (v83 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v87 = sub_2994C0();
      swift_bridgeObjectRelease();
      if (v87) {
        goto LABEL_12;
      }
    }
    else if (*(void *)((char *)&dword_10 + (v83 & 0xFFFFFFFFFFFFFF8)))
    {
LABEL_12:
      if ((v83 & 0xC000000000000001) != 0)
      {
        id v84 = (id)sub_2993E0();
      }
      else
      {
        if (!*(void *)((char *)&dword_10 + (v83 & 0xFFFFFFFFFFFFFF8)))
        {
LABEL_26:
          __break(1u);
          return;
        }
        id v84 = *(id *)(v83 + 32);
      }
      os_log_type_t v85 = v84;
      swift_bridgeObjectRelease();
      [v85 type];

      goto LABEL_21;
    }
    swift_bridgeObjectRelease();
  }
LABEL_21:
  uint64_t v89 = (uint64_t)v113;
  uint64_t v88 = (uint64_t)v114;
  sub_295CC0();
  swift_bridgeObjectRelease();
  sub_23A44(v78, &qword_30D5B8);
  sub_23A44(v88, (uint64_t *)&unk_30FA50);
  sub_23A44(v89, &qword_30D5C0);
  sub_74A4(v80 + 18, v80[21]);
  uint64_t v90 = *(int *)(v68 + 48);
  uint64_t v91 = (uint64_t)v103;
  uint64_t v92 = v108;
  v97(v103, (char *)v81, (uint64_t)v108);
  id v93 = v106;
  *(void *)(v91 + v90) = v106;
  uint64_t v94 = sub_2948C0();
  uint64_t v95 = (uint64_t)v104;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v94 - 8) + 56))(v104, 1, 1, v94);
  sub_1CBD04(v91, v93, v95, (uint64_t)_swiftEmptyArrayStorage, v111, v112);

  sub_23A44(v95, (uint64_t *)&unk_30FA70);
  sub_23A44(v81, &qword_30D030);
  (*((void (**)(uint64_t, char *))v107 + 1))(v91, v92);
}

uint64_t SearchForMedia.HandleIntentStrategy.deinit()
{
  sub_7184(v0 + 16);
  swift_release();
  sub_7184(v0 + 64);
  sub_7184(v0 + 104);
  sub_7184(v0 + 144);
  swift_release();
  swift_release();
  return v0;
}

uint64_t SearchForMedia.HandleIntentStrategy.__deallocating_deinit()
{
  sub_7184(v0 + 16);
  swift_release();
  sub_7184(v0 + 64);
  sub_7184(v0 + 104);
  sub_7184(v0 + 144);
  swift_release();
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t sub_F4F80(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makePromptForDeviceUnlock(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_F4FFC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeHandoffForAuthenticationResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_F5078(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makePreHandleIntentOutput(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

void sub_F50F4(void *a1, void *a2, void *a3, void (*a4)(uint64_t *), uint64_t a5)
{
}

uint64_t sub_F5118(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeContinueInAppResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_F5194(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeInProgressResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_F5210(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5)
{
  return SearchForMedia.HandleIntentStrategy.makeFailureHandlingIntentResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5);
}

uint64_t sub_F5234(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return IntentExtensionCommunicating.shouldIntentBeExecutedOnRemoteCompanion(intent:)(a1, v5, a3);
}

uint64_t sub_F5280(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:)(a1, a2, v7, a4);
}

uint64_t sub_F52D4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for SearchForMedia.HandleIntentStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:completion:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_F5340(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_F5358(a1, a2, a3, a4, (void (*)(uint64_t (*)(), uint64_t))sub_54D50);
}

uint64_t sub_F5358(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t (*)(), uint64_t))
{
  uint64_t v11 = sub_298800();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = &v23[-((v13 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v15 = v5[2];
  uint64_t v16 = v5[13];
  uint64_t v17 = v5[14];
  uint64_t v34 = 0;
  memset(v33, 0, sizeof(v33));
  uint64_t v24 = v16;
  uint64_t v25 = v17;
  unint64_t v26 = 0xD000000000000015;
  unint64_t v27 = 0x80000000002A4F40;
  uint64_t v28 = v15;
  uint64_t v29 = a1;
  uint64_t v30 = a2;
  id v31 = v33;
  uint64_t v32 = 0;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a3, a4, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v16, v17, 0xD000000000000015, 0x80000000002A4F40, a5, (uint64_t)v23);
  sub_23A44((uint64_t)v33, &qword_30D018);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_6E60(v11, (uint64_t)qword_31FC08);
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v12 + 16))(v14, v18, v11);
  uint64_t v19 = sub_2987E0();
  os_log_type_t v20 = sub_298DC0();
  if (os_log_type_enabled(v19, v20))
  {
    uint64_t v21 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v21 = 0;
    _os_log_impl(&dword_0, v19, v20, "CommonDialogProvider#makeFailureHandlingIntentDialog", v21, 2u);
    swift_slowDealloc();
  }

  return (*(uint64_t (**)(unsigned char *, uint64_t))(v12 + 8))(v14, v11);
}

uint64_t sub_F55A8()
{
  swift_release();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 64, 7);
}

void sub_F5600(uint64_t a1)
{
  sub_F40F4(a1, *(void **)(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32), *(void (**)(uint64_t *))(v1 + 40), *(void *)(v1 + 48), *(void **)(v1 + 56));
}

uint64_t sub_F5610(uint64_t a1, uint64_t a2)
{
  return sub_F567C(&qword_310AC8, a2, (void (*)(uint64_t))type metadata accessor for SearchForMedia.HandleIntentStrategy);
}

uint64_t type metadata accessor for SearchForMedia.HandleIntentStrategy()
{
  return self;
}

uint64_t sub_F567C(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_F56C4()
{
  sub_71D4(&qword_310C58);
  uint64_t v0 = sub_298760();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = *(void *)(v1 + 72);
  unint64_t v3 = (*(unsigned __int8 *)(v1 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v1 + 80);
  uint64_t v4 = swift_allocObject();
  *(_OWORD *)(v4 + 16) = xmmword_29AF30;
  unint64_t v5 = v4 + v3;
  uint64_t v6 = *(void (**)(unint64_t, void, uint64_t))(v1 + 104);
  v6(v5, enum case for PlaceHint.this(_:), v0);
  v6(v5 + v2, enum case for PlaceHint.here(_:), v0);
  v6(v5 + 2 * v2, enum case for PlaceHint.room(_:), v0);
  uint64_t result = ((uint64_t (*)(unint64_t, void, uint64_t))v6)(v5 + 3 * v2, enum case for PlaceHint.house(_:), v0);
  static INHomeAutomationEntityProvider.locationPlaceHints = v4;
  return result;
}

uint64_t *INHomeAutomationEntityProvider.locationPlaceHints.unsafeMutableAddressor()
{
  if (qword_30C858 != -1) {
    swift_once();
  }
  return &static INHomeAutomationEntityProvider.locationPlaceHints;
}

uint64_t static INHomeAutomationEntityProvider.locationPlaceHints.getter()
{
  if (qword_30C858 != -1) {
    swift_once();
  }

  return swift_bridgeObjectRetain();
}

void *INHomeAutomationEntityProvider.haRoomNames()()
{
  return sub_F5E1C((SEL *)&selRef_roomNames);
}

Swift::String_optional __swiftcall INHomeAutomationEntityProvider.haHomeName()()
{
  uint64_t v0 = sub_F6CE8((SEL *)&selRef_homeName);
  result.value._object = v1;
  result.value._countAndFlagsBits = v0;
  return result;
}

void *INHomeAutomationEntityProvider.haZoneNames()()
{
  return sub_F5E1C((SEL *)&selRef_zoneNames);
}

void *INHomeAutomationEntityProvider.haAccessoryNames()()
{
  return sub_F5E1C((SEL *)&selRef_accessoryNames);
}

void *INHomeAutomationEntityProvider.haServiceNames()()
{
  uint64_t v47 = sub_298760();
  uint64_t v45 = *(void *)(v47 - 8);
  __chkstk_darwin(v47);
  uint64_t v46 = (char *)v41 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  unint64_t v5 = (char *)v41 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_6E60(v2, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  id v7 = v0;
  uint64_t v8 = sub_2987E0();
  int v9 = sub_298DC0();
  if (os_log_type_enabled(v8, (os_log_type_t)v9))
  {
    LODWORD(v43) = v9;
    uint64_t v10 = (uint8_t *)swift_slowAlloc();
    uint64_t v42 = (void *)swift_slowAlloc();
    uint64_t v49 = v42;
    *(_DWORD *)uint64_t v10 = 136315138;
    id v11 = [v7 serviceNames];
    os_log_t v44 = v8;
    if (v11)
    {
      uint64_t v12 = v11;
      uint64_t v13 = sub_298B50();
    }
    else
    {
      uint64_t v13 = 0;
    }
    v41[1] = v10 + 4;
    uint64_t v48 = v13;
    sub_71D4(&qword_310BC0);
    uint64_t v14 = sub_299280();
    unint64_t v16 = v15;
    swift_bridgeObjectRelease();
    uint64_t v48 = sub_6E98(v14, v16, (uint64_t *)&v49);
    sub_2992C0();

    swift_bridgeObjectRelease();
    os_log_t v17 = v44;
    _os_log_impl(&dword_0, v44, (os_log_type_t)v43, "INHomeAutomationEntityProvider#haServiceNames serviceNames: %s", v10, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
  }
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  id v18 = [v7 serviceNames];
  if (!v18) {
    return _swiftEmptyArrayStorage;
  }
  uint64_t v19 = v18;
  uint64_t v20 = sub_298B50();

  uint64_t v21 = sub_FB490(v20);
  swift_bridgeObjectRelease();
  if (qword_30C858 != -1) {
    swift_once();
  }
  uint64_t v22 = static INHomeAutomationEntityProvider.locationPlaceHints;
  int64_t v23 = *(void *)(static INHomeAutomationEntityProvider.locationPlaceHints + 16);
  uint64_t v24 = _swiftEmptyArrayStorage;
  if (v23)
  {
    os_log_t v44 = v21;
    uint64_t v49 = _swiftEmptyArrayStorage;
    swift_bridgeObjectRetain();
    sub_F7E50(0, v23, 0);
    uint64_t v25 = v45 + 16;
    uint64_t v45 = *(void *)(v45 + 16);
    uint64_t v26 = *(unsigned __int8 *)(v25 + 64);
    uint64_t v43 = v22;
    uint64_t v27 = v22 + ((v26 + 32) & ~v26);
    uint64_t v28 = *(void *)(v25 + 56);
    uint64_t v29 = (void (**)(char *, uint64_t))(v25 - 8);
    do
    {
      uint64_t v30 = v46;
      uint64_t v31 = v47;
      ((void (*)(char *, uint64_t, uint64_t))v45)(v46, v27, v47);
      uint64_t v32 = sub_298750();
      uint64_t v34 = v33;
      (*v29)(v30, v31);
      uint64_t v24 = v49;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_F7E50(0, v24[2] + 1, 1);
        uint64_t v24 = v49;
      }
      unint64_t v36 = v24[2];
      unint64_t v35 = v24[3];
      if (v36 >= v35 >> 1)
      {
        sub_F7E50(v35 > 1, v36 + 1, 1);
        uint64_t v24 = v49;
      }
      _OWORD v24[2] = v36 + 1;
      uint64_t v37 = &v24[2 * v36];
      v37[4] = v32;
      v37[5] = v34;
      v27 += v28;
      --v23;
    }
    while (v23);
    swift_bridgeObjectRelease();
    uint64_t v21 = v44;
  }
  uint64_t v38 = sub_FA2B0((uint64_t)v24, (uint64_t)v21);
  swift_bridgeObjectRelease();
  uint64_t v39 = sub_195DC((uint64_t)v38);
  swift_release();
  return v39;
}

void *INHomeAutomationEntityProvider.haServiceGroups()()
{
  return sub_F5E1C((SEL *)&selRef_serviceGroups);
}

void *sub_F5E1C(SEL *a1)
{
  id v2 = [v1 *a1];
  if (!v2) {
    return _swiftEmptyArrayStorage;
  }
  uint64_t v3 = v2;
  uint64_t v4 = sub_298B50();

  return (void *)v4;
}

char *INHomeAutomationEntityProvider.haFromEntities()()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_71D4(&qword_310BC8);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v27 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_2984D0();
  uint64_t v29 = *(void *)(v5 - 8);
  uint64_t v6 = __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v27 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v28 = (char *)&v27 - v9;
  id v10 = [v1 intentFromEntities];
  if (!v10) {
    return (char *)_swiftEmptyArrayStorage;
  }
  id v11 = v10;
  sub_FB528();
  unint64_t v12 = sub_298B50();

  if (!(v12 >> 62))
  {
    uint64_t v13 = *(void *)((char *)&dword_10 + (v12 & 0xFFFFFFFFFFFFFF8));
    Swift::String_optional result = (char *)swift_bridgeObjectRetain();
    if (v13) {
      goto LABEL_4;
    }
LABEL_19:
    id v18 = (char *)_swiftEmptyArrayStorage;
LABEL_20:
    swift_bridgeObjectRelease_n();
    return v18;
  }
  swift_bridgeObjectRetain();
  Swift::String_optional result = (char *)sub_2994C0();
  uint64_t v13 = (uint64_t)result;
  if (!result) {
    goto LABEL_19;
  }
LABEL_4:
  if (v13 >= 1)
  {
    uint64_t v31 = v8;
    uint64_t v32 = v5;
    uint64_t v15 = 0;
    unint64_t v30 = v12 & 0xC000000000000001;
    unint64_t v16 = (unsigned int (**)(char *, uint64_t, uint64_t))(v29 + 48);
    os_log_t v17 = (void (**)(char *, char *, uint64_t))(v29 + 32);
    id v18 = (char *)_swiftEmptyArrayStorage;
    unint64_t v27 = v12;
    do
    {
      uint64_t v19 = v13;
      if (v30) {
        id v20 = (id)sub_2993E0();
      }
      else {
        id v20 = *(id *)(v12 + 8 * v15 + 32);
      }
      uint64_t v21 = v20;
      id v33 = v20;
      sub_F6234(&v33, (uint64_t)v4);

      uint64_t v22 = v32;
      if ((*v16)(v4, 1, v32) == 1)
      {
        sub_23A44((uint64_t)v4, &qword_310BC8);
      }
      else
      {
        int64_t v23 = *v17;
        uint64_t v24 = v28;
        (*v17)(v28, v4, v22);
        v23(v31, v24, v22);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          id v18 = (char *)sub_24484(0, *((void *)v18 + 2) + 1, 1, (unint64_t)v18, &qword_310C50, (uint64_t (*)(void))&type metadata accessor for FromEntity, (uint64_t (*)(void))&type metadata accessor for FromEntity);
        }
        unint64_t v26 = *((void *)v18 + 2);
        unint64_t v25 = *((void *)v18 + 3);
        if (v26 >= v25 >> 1) {
          id v18 = (char *)sub_24484(v25 > 1, v26 + 1, 1, (unint64_t)v18, &qword_310C50, (uint64_t (*)(void))&type metadata accessor for FromEntity, (uint64_t (*)(void))&type metadata accessor for FromEntity);
        }
        *((void *)v18 + 2) = v26 + 1;
        v23(&v18[((*(unsigned __int8 *)(v29 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 80))+ *(void *)(v29 + 72) * v26], v31, v32);
        unint64_t v12 = v27;
      }
      ++v15;
      uint64_t v13 = v19;
    }
    while (v19 != v15);
    goto LABEL_20;
  }
  __break(1u);
  return result;
}

uint64_t sub_F6234@<X0>(id *a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v51 = a2;
  uint64_t v3 = sub_298800();
  uint64_t v50 = *(void *)(v3 - 8);
  uint64_t v4 = __chkstk_darwin(v3);
  uint64_t v6 = (char *)v45 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)v45 - v7;
  uint64_t v9 = sub_2984A0();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v13 = (char *)v45 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)v45 - v14;
  id v16 = *a1;
  id v17 = [*a1 value];
  if (v17)
  {
    id v18 = v17;
    uint64_t v19 = (uint8_t *)sub_2989C0();
    id v49 = v20;

    uint64_t v21 = (char *)[v16 type];
    if (v21 == (unsigned char *)&dword_0 + 1)
    {
      uint64_t v22 = (unsigned int *)&enum case for FromEntity.FromEntityType.homeAutomationAccessory(_:);
    }
    else if (v21 == (unsigned char *)&dword_0 + 2)
    {
      uint64_t v22 = (unsigned int *)&enum case for FromEntity.FromEntityType.homeAutomationRoom(_:);
    }
    else
    {
      if (v21 != (unsigned char *)&dword_0 + 3)
      {
        uint64_t v48 = v19;
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v36 = sub_6E60(v3, (uint64_t)qword_31FC08);
        (*(void (**)(char *, uint64_t, uint64_t))(v50 + 16))(v6, v36, v3);
        uint64_t v37 = v16;
        uint64_t v38 = sub_2987E0();
        os_log_type_t v39 = sub_298DC0();
        LODWORD(v47) = v39;
        if (os_log_type_enabled(v38, v39))
        {
          uint64_t v40 = (uint8_t *)swift_slowAlloc();
          uint64_t v41 = v37;
          uint64_t v46 = v37;
          uint64_t v42 = v40;
          *(_DWORD *)uint64_t v40 = 134217984;
          v45[1] = v40 + 4;
          id v53 = [v41 type];
          sub_2992C0();

          _os_log_impl(&dword_0, v38, (os_log_type_t)v47, "INHomeAutomationEntityProvider#haFromEntities Unknown from entity type found: %ld", v42, 0xCu);
          swift_slowDealloc();
        }
        else
        {

          uint64_t v38 = v37;
        }

        (*(void (**)(char *, uint64_t))(v50 + 8))(v6, v3);
        (*(void (**)(char *, void, uint64_t))(v10 + 104))(v15, enum case for FromEntity.FromEntityType.homeAutomationService(_:), v9);
        goto LABEL_21;
      }
      uint64_t v22 = (unsigned int *)&enum case for FromEntity.FromEntityType.homeAutomationZone(_:);
    }
    (*(void (**)(char *, void, uint64_t))(v10 + 104))(v15, *v22, v9);
LABEL_21:
    (*(void (**)(char *, char *, uint64_t))(v10 + 16))(v13, v15, v9);
    uint64_t v43 = v51;
    sub_2984B0();
    (*(void (**)(char *, uint64_t))(v10 + 8))(v15, v9);
    uint64_t v44 = sub_2984D0();
    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v44 - 8) + 56))(v43, 0, 1, v44);
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_6E60(v3, (uint64_t)qword_31FC08);
  uint64_t v24 = v50;
  (*(void (**)(char *, uint64_t, uint64_t))(v50 + 16))(v8, v23, v3);
  id v25 = v16;
  unint64_t v26 = sub_2987E0();
  os_log_type_t v27 = sub_298DB0();
  if (os_log_type_enabled(v26, v27))
  {
    uint64_t v28 = (uint8_t *)swift_slowAlloc();
    id v49 = (id)swift_slowAlloc();
    id v53 = v49;
    *(_DWORD *)uint64_t v28 = 136315138;
    uint64_t v47 = v28 + 4;
    uint64_t v48 = v28;
    id v29 = [v25 description];
    uint64_t v30 = sub_2989C0();
    unint64_t v32 = v31;

    uint64_t v52 = sub_6E98(v30, v32, (uint64_t *)&v53);
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v26, v27, "INHomeAutomationEntityProvider#haFromEntities Unable to get from entity value for entity: %s", v48, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v50 + 8))(v8, v3);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v24 + 8))(v8, v3);
  }
  uint64_t v33 = v51;
  uint64_t v34 = sub_2984D0();
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(v33, 1, 1, v34);
}

uint64_t INHomeAutomationEntityProvider.haDeviceQuantifier()@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30E128);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v11 = [v2 intentDeviceQuantifier];
  if (v11)
  {
    uint64_t v12 = v11;
    uint64_t v13 = sub_2989C0();
    unint64_t v15 = v14;

    swift_bridgeObjectRetain();
    sub_298520();
    uint64_t v16 = sub_298530();
    uint64_t v17 = *(void *)(v16 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v17 + 48))(v10, 1, v16) == 1)
    {
      sub_23A44((uint64_t)v10, &qword_30E128);
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v18 = sub_6E60(v4, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v18, v4);
      swift_bridgeObjectRetain();
      uint64_t v19 = sub_2987E0();
      os_log_type_t v20 = sub_298DB0();
      if (os_log_type_enabled(v19, v20))
      {
        uint64_t v21 = swift_slowAlloc();
        uint64_t v29 = a1;
        uint64_t v22 = (uint8_t *)v21;
        uint64_t v27 = swift_slowAlloc();
        uint64_t v31 = v27;
        uint64_t v28 = v5;
        *(_DWORD *)uint64_t v22 = 136315138;
        unint64_t v26 = v22 + 4;
        swift_bridgeObjectRetain();
        uint64_t v30 = sub_6E98(v13, v15, &v31);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v19, v20, "INHomeAutomationEntityProvider#haDeviceQuantifier Unable to get device quantifier for value: %s", v22, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        a1 = v29;
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v28 + 8))(v7, v4);
      }
      else
      {

        swift_bridgeObjectRelease_n();
        (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
      }
      return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v17 + 56))(a1, 1, 1, v16);
    }
    else
    {
      swift_bridgeObjectRelease();
      (*(void (**)(uint64_t, char *, uint64_t))(v17 + 32))(a1, v10, v16);
      return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v17 + 56))(a1, 0, 1, v16);
    }
  }
  else
  {
    uint64_t v23 = sub_298530();
    uint64_t v24 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56);
    return v24(a1, 1, 1, v23);
  }
}

Swift::String_optional __swiftcall INHomeAutomationEntityProvider.haDestinationDeviceId()()
{
  uint64_t v0 = sub_F6CE8((SEL *)&selRef_destinationDeviceId);
  result.value._object = v1;
  result.value._countAndFlagsBits = v0;
  return result;
}

uint64_t sub_F6CE8(SEL *a1)
{
  id v2 = [v1 *a1];
  if (!v2) {
    return 0;
  }
  uint64_t v3 = v2;
  uint64_t v4 = sub_2989C0();

  return v4;
}

uint64_t INHomeAutomationEntityProvider.haDeviceType()@<X0>(uint64_t a1@<X8>)
{
  id v2 = v1;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v8 = [v2 intentDeviceType];
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = sub_2989C0();
    unint64_t v12 = v11;

    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v13 = sub_6E60(v4, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v13, v4);
    swift_bridgeObjectRetain_n();
    unint64_t v14 = sub_2987E0();
    os_log_type_t v15 = sub_298DC0();
    if (os_log_type_enabled(v14, v15))
    {
      uint64_t v22 = a1;
      uint64_t v16 = swift_slowAlloc();
      uint64_t v23 = v10;
      uint64_t v17 = (uint8_t *)v16;
      uint64_t v25 = swift_slowAlloc();
      *(_DWORD *)uint64_t v17 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v24 = sub_6E98(v23, v12, &v25);
      a1 = v22;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v14, v15, "INHomeAutomationEntityProvider#haDeviceType Getting device type for value: %s", v17, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    sub_298470();
    uint64_t v21 = sub_298480();
    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(a1, 0, 1, v21);
  }
  else
  {
    uint64_t v18 = sub_298480();
    uint64_t v19 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56);
    return v19(a1, 1, 1, v18);
  }
}

uint64_t INHomeAutomationEntityProvider.haPlaceHint()@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)v46 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4(&qword_30E118);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)v46 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298760();
  uint64_t v53 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  unint64_t v12 = (char *)v46 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v13 = [v1 intentPlaceHint];
  if (v13)
  {
    unint64_t v14 = v13;
    sub_2989C0();

    return sub_298740();
  }
  else
  {
    id v16 = [v1 serviceNames];
    if (v16)
    {
      uint64_t v17 = v16;
      uint64_t v52 = v9;
      uint64_t v18 = sub_298B50();

      uint64_t v19 = sub_FB490(v18);
      swift_bridgeObjectRelease();
      if (qword_30C858 != -1) {
        swift_once();
      }
      uint64_t v20 = static INHomeAutomationEntityProvider.locationPlaceHints;
      int64_t v21 = *(void *)(static INHomeAutomationEntityProvider.locationPlaceHints + 16);
      uint64_t v22 = _swiftEmptyArrayStorage;
      uint64_t v56 = v10;
      if (v21)
      {
        uint64_t v47 = v19;
        uint64_t v48 = a1;
        id v49 = v6;
        uint64_t v50 = v4;
        uint64_t v51 = v3;
        uint64_t v58 = _swiftEmptyArrayStorage;
        swift_bridgeObjectRetain();
        sub_F7E50(0, v21, 0);
        uint64_t v23 = *(void (**)(char *, uint64_t, uint64_t))(v53 + 16);
        uint64_t v24 = *(unsigned __int8 *)(v53 + 80);
        v46[1] = v20;
        uint64_t v25 = v20 + ((v24 + 32) & ~v24);
        uint64_t v54 = *(void *)(v53 + 72);
        uint64_t v55 = v23;
        unint64_t v26 = (void (**)(char *, uint64_t))(v53 + 8);
        do
        {
          v55(v12, v25, v10);
          uint64_t v27 = sub_298750();
          uint64_t v29 = v28;
          (*v26)(v12, v10);
          uint64_t v22 = v58;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_F7E50(0, v22[2] + 1, 1);
            uint64_t v22 = v58;
          }
          unint64_t v31 = v22[2];
          unint64_t v30 = v22[3];
          if (v31 >= v30 >> 1)
          {
            sub_F7E50(v30 > 1, v31 + 1, 1);
            uint64_t v22 = v58;
          }
          void v22[2] = v31 + 1;
          unint64_t v32 = &v22[2 * v31];
          v32[4] = v27;
          v32[5] = v29;
          v25 += v54;
          --v21;
          uint64_t v10 = v56;
        }
        while (v21);
        swift_bridgeObjectRelease();
        a1 = v48;
        uint64_t v6 = v49;
        uint64_t v4 = v50;
        uint64_t v3 = v51;
        uint64_t v19 = v47;
      }
      uint64_t v33 = sub_FAA88((uint64_t)v22, v19);
      swift_bridgeObjectRelease();
      uint64_t v34 = sub_97384(v33);
      unint64_t v36 = v35;
      swift_release();
      uint64_t v37 = (uint64_t)v52;
      if (v36)
      {
        swift_bridgeObjectRetain();
        sub_298740();
        if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v53 + 48))(v37, 1, v10) != 1)
        {
          swift_bridgeObjectRelease();
          (*(void (**)(uint64_t, uint64_t, uint64_t))(v53 + 32))(a1, v37, v10);
          return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v53 + 56))(a1, 0, 1, v10);
        }
        sub_23A44(v37, &qword_30E118);
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v38 = sub_6E60(v3, (uint64_t)qword_31FC08);
        (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, v38, v3);
        swift_bridgeObjectRetain();
        os_log_type_t v39 = sub_2987E0();
        uint64_t v40 = v6;
        os_log_type_t v41 = sub_298DB0();
        if (os_log_type_enabled(v39, v41))
        {
          uint64_t v42 = swift_slowAlloc();
          uint64_t v50 = v4;
          uint64_t v51 = v3;
          uint64_t v43 = (uint8_t *)v42;
          uint64_t v44 = (void *)swift_slowAlloc();
          id v49 = v40;
          uint64_t v58 = v44;
          *(_DWORD *)uint64_t v43 = 136315138;
          uint64_t v10 = v56;
          swift_bridgeObjectRetain();
          uint64_t v57 = sub_6E98(v34, v36, (uint64_t *)&v58);
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v39, v41, "INHomeAutomationEntityProvider#haPlaceHint Unable to get place hint for value: %s", v43, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*(void (**)(char *, uint64_t))(v50 + 8))(v49, v51);
        }
        else
        {

          swift_bridgeObjectRelease_n();
          (*(void (**)(char *, uint64_t))(v4 + 8))(v40, v3);
        }
      }
      return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v53 + 56))(a1, 1, 1, v10);
    }
    else
    {
      uint64_t v45 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v53 + 56);
      return v45(a1, 1, 1, v10);
    }
  }
}

uint64_t INHomeAutomationEntityProvider.haReference()@<X0>(uint64_t a1@<X8>)
{
  id v2 = v1;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30E110);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v11 = [v2 intentReference];
  if (v11)
  {
    unint64_t v12 = v11;
    uint64_t v13 = sub_2989C0();
    unint64_t v15 = v14;

    swift_bridgeObjectRetain();
    sub_298770();
    uint64_t v16 = sub_298780();
    uint64_t v17 = *(void *)(v16 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v17 + 48))(v10, 1, v16) == 1)
    {
      sub_23A44((uint64_t)v10, &qword_30E110);
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v18 = sub_6E60(v4, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v18, v4);
      swift_bridgeObjectRetain();
      uint64_t v19 = sub_2987E0();
      os_log_type_t v20 = sub_298DB0();
      if (os_log_type_enabled(v19, v20))
      {
        uint64_t v21 = swift_slowAlloc();
        uint64_t v29 = a1;
        uint64_t v22 = (uint8_t *)v21;
        uint64_t v27 = swift_slowAlloc();
        uint64_t v31 = v27;
        uint64_t v28 = v5;
        *(_DWORD *)uint64_t v22 = 136315138;
        unint64_t v26 = v22 + 4;
        swift_bridgeObjectRetain();
        uint64_t v30 = sub_6E98(v13, v15, &v31);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v19, v20, "INHomeAutomationEntityProvider#haReference Unable to get reference for value: %s", v22, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        a1 = v29;
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v28 + 8))(v7, v4);
      }
      else
      {

        swift_bridgeObjectRelease_n();
        (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
      }
      return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v17 + 56))(a1, 1, 1, v16);
    }
    else
    {
      swift_bridgeObjectRelease();
      (*(void (**)(uint64_t, char *, uint64_t))(v17 + 32))(a1, v10, v16);
      return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v17 + 56))(a1, 0, 1, v16);
    }
  }
  else
  {
    uint64_t v23 = sub_298780();
    uint64_t v24 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56);
    return v24(a1, 1, 1, v23);
  }
}

void *sub_F7B8C(uint64_t a1, uint64_t a2)
{
  return sub_F7BEC(a1, a2, (SEL *)&selRef_roomNames);
}

uint64_t sub_F7B98(uint64_t a1, uint64_t a2)
{
  return sub_F7C9C(a1, a2, (SEL *)&selRef_homeName);
}

void *sub_F7BA4(uint64_t a1, uint64_t a2)
{
  return sub_F7BEC(a1, a2, (SEL *)&selRef_zoneNames);
}

void *sub_F7BB0(uint64_t a1, uint64_t a2)
{
  return sub_F7BEC(a1, a2, (SEL *)&selRef_accessoryNames);
}

void *sub_F7BBC()
{
  return INHomeAutomationEntityProvider.haServiceNames()();
}

void *sub_F7BE0(uint64_t a1, uint64_t a2)
{
  return sub_F7BEC(a1, a2, (SEL *)&selRef_serviceGroups);
}

void *sub_F7BEC(uint64_t a1, uint64_t a2, SEL *a3)
{
  id v4 = [*v3 *a3];
  if (!v4) {
    return _swiftEmptyArrayStorage;
  }
  uint64_t v5 = v4;
  uint64_t v6 = sub_298B50();

  return (void *)v6;
}

char *sub_F7C48()
{
  return INHomeAutomationEntityProvider.haFromEntities()();
}

uint64_t sub_F7C6C@<X0>(uint64_t a1@<X8>)
{
  return INHomeAutomationEntityProvider.haDeviceQuantifier()(a1);
}

uint64_t sub_F7C90(uint64_t a1, uint64_t a2)
{
  return sub_F7C9C(a1, a2, (SEL *)&selRef_destinationDeviceId);
}

uint64_t sub_F7C9C(uint64_t a1, uint64_t a2, SEL *a3)
{
  id v4 = [*v3 *a3];
  if (!v4) {
    return 0;
  }
  uint64_t v5 = v4;
  uint64_t v6 = sub_2989C0();

  return v6;
}

uint64_t sub_F7D00@<X0>(uint64_t a1@<X8>)
{
  return INHomeAutomationEntityProvider.haDeviceType()(a1);
}

uint64_t sub_F7D24@<X0>(uint64_t a1@<X8>)
{
  return INHomeAutomationEntityProvider.haPlaceHint()(a1);
}

uint64_t sub_F7D48@<X0>(uint64_t a1@<X8>)
{
  return INHomeAutomationEntityProvider.haReference()(a1);
}

uint64_t sub_F7D6C(char a1, int64_t a2, char a3, unint64_t a4)
{
  return sub_24484(a1, a2, a3, a4, &qword_310C18, (uint64_t (*)(void))&type metadata accessor for SiriAudioDisambiguationItemModel, (uint64_t (*)(void))&type metadata accessor for SiriAudioDisambiguationItemModel);
}

uint64_t sub_F7DA0(char a1, int64_t a2, char a3, unint64_t a4)
{
  return sub_24484(a1, a2, a3, a4, &qword_310C28, (uint64_t (*)(void))&type metadata accessor for SiriAudioAlternativeItemModel, (uint64_t (*)(void))&type metadata accessor for SiriAudioAlternativeItemModel);
}

uint64_t sub_F7DD4(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F7ECC(a1, a2, a3, *v3);
  id *v3 = (char *)result;
  return result;
}

uint64_t sub_F7DF4(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F863C(a1, a2, a3, (void *)*v3, &qword_310BF0, (uint64_t (*)(void))&type metadata accessor for INMediaDestination);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_F7E30(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F8048(a1, a2, a3, *v3);
  uint64_t *v3 = (char *)result;
  return result;
}

uint64_t sub_F7E50(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F81B8(a1, a2, a3, *v3);
  uint64_t *v3 = (char *)result;
  return result;
}

uint64_t sub_F7E70(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F8324(a1, a2, a3, (void *)*v3);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_F7E90(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_F863C(a1, a2, a3, (void *)*v3, &qword_310C48, (uint64_t (*)(void))&type metadata accessor for InstalledApp);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_F7ECC(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_30;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_71D4(&qword_310C38);
    uint64_t v10 = (char *)swift_allocObject();
    size_t v11 = j__malloc_size(v10);
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * ((uint64_t)(v11 - 32) / 24);
  }
  else
  {
    uint64_t v10 = (char *)_swiftEmptyArrayStorage;
  }
  unint64_t v12 = v10 + 32;
  uint64_t v13 = a4 + 32;
  size_t v14 = 24 * v8;
  if (a1)
  {
    if (v10 != a4 || v12 >= &v13[v14]) {
      memmove(v12, v13, v14);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_28;
  }
  if (v13 >= &v12[v14] || v12 >= &v13[v14])
  {
    swift_arrayInitWithCopy();
LABEL_28:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_30:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F8048(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_71D4(&qword_310BE8);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 1;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 5);
  }
  else
  {
    uint64_t v10 = (char *)_swiftEmptyArrayStorage;
  }
  uint64_t v13 = v10 + 32;
  size_t v14 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v13 >= &v14[32 * v8]) {
      memmove(v13, v14, 32 * v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_30;
  }
  if (v14 >= &v13[32 * v8] || v13 >= &v14[32 * v8])
  {
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F81B8(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_71D4((uint64_t *)&unk_3177F0);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 17;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 4);
  }
  else
  {
    uint64_t v10 = (char *)&_swiftEmptyArrayStorage;
  }
  uint64_t v13 = v10 + 32;
  size_t v14 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v13 >= &v14[16 * v8]) {
      memmove(v13, v14, 16 * v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_30;
  }
  if (v14 >= &v13[16 * v8] || v13 >= &v14[16 * v8])
  {
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F8324(char a1, int64_t a2, char a3, void *a4)
{
  if (a3)
  {
    unint64_t v6 = a4[3];
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = a4[2];
  if (v7 <= v8) {
    uint64_t v9 = a4[2];
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_71D4(&qword_310C10);
    uint64_t v10 = (void *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 25;
    }
    v10[2] = v8;
    v10[3] = 2 * (v12 >> 3);
  }
  else
  {
    uint64_t v10 = _swiftEmptyArrayStorage;
  }
  unint64_t v13 = (unint64_t)(v10 + 4);
  unint64_t v14 = (unint64_t)(a4 + 4);
  if (a1)
  {
    if (v10 != a4 || v13 >= v14 + 8 * v8) {
      memmove(v10 + 4, a4 + 4, 8 * v8);
    }
    a4[2] = 0;
    goto LABEL_30;
  }
  if (v14 >= v13 + 8 * v8 || v13 >= v14 + 8 * v8)
  {
    sub_71D4(&qword_30D060);
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F84B0(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_30;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_71D4(&qword_310C20);
    uint64_t v10 = (char *)swift_allocObject();
    size_t v11 = j__malloc_size(v10);
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * ((uint64_t)(v11 - 32) / 72);
  }
  else
  {
    uint64_t v10 = (char *)_swiftEmptyArrayStorage;
  }
  uint64_t v12 = v10 + 32;
  unint64_t v13 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v12 >= &v13[72 * v8]) {
      memmove(v12, v13, 72 * v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_28;
  }
  if (v13 >= &v12[72 * v8] || v12 >= &v13[72 * v8])
  {
    swift_arrayInitWithCopy();
LABEL_28:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_30:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F863C(char a1, int64_t a2, char a3, void *a4, uint64_t *a5, uint64_t (*a6)(void))
{
  if (a3)
  {
    unint64_t v9 = a4[3];
    int64_t v10 = v9 >> 1;
    if ((uint64_t)(v9 >> 1) < a2)
    {
      if (v10 + 0x4000000000000000 < 0)
      {
LABEL_35:
        __break(1u);
        goto LABEL_36;
      }
      int64_t v10 = v9 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v9 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v10 = a2;
      }
    }
  }
  else
  {
    int64_t v10 = a2;
  }
  uint64_t v11 = a4[2];
  if (v10 <= v11) {
    uint64_t v12 = a4[2];
  }
  else {
    uint64_t v12 = v10;
  }
  if (!v12)
  {
    uint64_t v16 = _swiftEmptyArrayStorage;
    goto LABEL_19;
  }
  sub_71D4(a5);
  uint64_t v13 = *(void *)(a6(0) - 8);
  uint64_t v14 = *(void *)(v13 + 72);
  unint64_t v15 = (*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
  uint64_t v16 = (void *)swift_allocObject();
  size_t v17 = j__malloc_size(v16);
  if (!v14)
  {
    __break(1u);
LABEL_34:
    __break(1u);
    goto LABEL_35;
  }
  if (v17 - v15 == 0x8000000000000000 && v14 == -1) {
    goto LABEL_34;
  }
  v16[2] = v11;
  v16[3] = 2 * ((uint64_t)(v17 - v15) / v14);
LABEL_19:
  uint64_t v19 = *(void *)(a6(0) - 8);
  unint64_t v20 = (*(unsigned __int8 *)(v19 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v19 + 80);
  uint64_t v21 = (char *)v16 + v20;
  uint64_t v22 = (char *)a4 + v20;
  if (a1)
  {
    if (v16 < a4 || v21 >= &v22[*(void *)(v19 + 72) * v11])
    {
      swift_arrayInitWithTakeFrontToBack();
    }
    else if (v16 != a4)
    {
      swift_arrayInitWithTakeBackToFront();
    }
    a4[2] = 0;
    goto LABEL_32;
  }
  uint64_t v23 = *(void *)(v19 + 72) * v11;
  uint64_t v24 = &v21[v23];
  unint64_t v25 = (unint64_t)&v22[v23];
  if (v22 >= v24 || (unint64_t)v21 >= v25)
  {
    swift_arrayInitWithCopy();
LABEL_32:
    swift_release();
    return (uint64_t)v16;
  }
LABEL_36:
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_F8884(uint64_t a1, char *a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_297C40();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  unint64_t v9 = (char *)v27 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = *v2;
  sub_FB568(&qword_310BF8);
  swift_bridgeObjectRetain();
  uint64_t v34 = a2;
  uint64_t v11 = sub_298980();
  uint64_t v12 = -1 << *(unsigned char *)(v10 + 32);
  unint64_t v13 = v11 & ~v12;
  uint64_t v33 = v10 + 56;
  if ((*(void *)(v10 + 56 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13))
  {
    uint64_t v29 = v2;
    uint64_t v30 = a1;
    uint64_t v31 = ~v12;
    uint64_t v28 = v7;
    uint64_t v16 = *(void (**)(void, void, void))(v7 + 16);
    uint64_t v15 = v7 + 16;
    uint64_t v14 = v16;
    uint64_t v32 = *(void *)(v15 + 56);
    size_t v17 = (void (**)(char *, uint64_t))(v15 - 8);
    v27[1] = v15 & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
    while (1)
    {
      uint64_t v18 = v10;
      unint64_t v19 = v32 * v13;
      unint64_t v20 = *(void *)(v10 + 48) + v32 * v13;
      uint64_t v21 = v14;
      v14(v9, v20, v6);
      sub_FB568(&qword_310C00);
      char v22 = sub_2989A0();
      uint64_t v23 = *v17;
      (*v17)(v9, v6);
      if (v22) {
        break;
      }
      unint64_t v13 = (v13 + 1) & v31;
      uint64_t v14 = v21;
      uint64_t v10 = v18;
      if (((*(void *)(v33 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13) & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v29;
        a1 = v30;
        uint64_t v7 = v28;
        goto LABEL_7;
      }
    }
    swift_bridgeObjectRelease();
    v23(v34, v6);
    v21(v30, *(void *)(*v29 + 48) + v19, v6);
    return 0;
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v14 = *(void (**)(void, void, void))(v7 + 16);
LABEL_7:
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v25 = v34;
    v14(v9, v34, v6);
    uint64_t v35 = *v3;
    uint64_t *v3 = 0x8000000000000000;
    sub_F93F8((uint64_t)v9, v13, isUniquelyReferenced_nonNull_native);
    uint64_t *v3 = v35;
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, char *, uint64_t))(v7 + 32))(a1, v25, v6);
    return 1;
  }
}

uint64_t sub_F8B80(Swift::Int *a1, Swift::Int a2, Swift::Int a3)
{
  uint64_t v7 = *v3;
  sub_299680();
  swift_bridgeObjectRetain();
  sub_298A40();
  Swift::Int v8 = sub_2996B0();
  uint64_t v9 = -1 << *(unsigned char *)(v7 + 32);
  unint64_t v10 = v8 & ~v9;
  if ((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10))
  {
    uint64_t v11 = *(void *)(v7 + 48);
    uint64_t v12 = (void *)(v11 + 16 * v10);
    BOOL v13 = *v12 == a2 && v12[1] == a3;
    if (v13 || (sub_2995D0() & 1) != 0)
    {
LABEL_7:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v14 = (Swift::Int *)(*(void *)(*v3 + 48) + 16 * v10);
      Swift::Int v15 = v14[1];
      *a1 = *v14;
      a1[1] = v15;
      swift_bridgeObjectRetain();
      return 0;
    }
    uint64_t v17 = ~v9;
    while (1)
    {
      unint64_t v10 = (v10 + 1) & v17;
      if (((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10) & 1) == 0) {
        break;
      }
      uint64_t v18 = (void *)(v11 + 16 * v10);
      BOOL v19 = *v18 == a2 && v18[1] == a3;
      if (v19 || (sub_2995D0() & 1) != 0) {
        goto LABEL_7;
      }
    }
  }
  swift_bridgeObjectRelease();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v21 = *v3;
  uint64_t *v3 = 0x8000000000000000;
  swift_bridgeObjectRetain();
  sub_F9670(a2, a3, v10, isUniquelyReferenced_nonNull_native);
  uint64_t *v3 = v21;
  swift_bridgeObjectRelease();
  *a1 = a2;
  a1[1] = a3;
  return 1;
}

uint64_t sub_F8D30()
{
  uint64_t v1 = v0;
  uint64_t v42 = sub_297C40();
  uint64_t v2 = *(void *)(v42 - 8);
  __chkstk_darwin(v42);
  os_log_type_t v41 = (char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = *v0;
  sub_71D4(&qword_310C08);
  uint64_t v5 = sub_299390();
  uint64_t v6 = v5;
  if (*(void *)(v4 + 16))
  {
    uint64_t v7 = 1 << *(unsigned char *)(v4 + 32);
    uint64_t v8 = *(void *)(v4 + 56);
    uint64_t v37 = (void *)(v4 + 56);
    if (v7 < 64) {
      uint64_t v9 = ~(-1 << v7);
    }
    else {
      uint64_t v9 = -1;
    }
    unint64_t v10 = v9 & v8;
    uint64_t v35 = v0;
    int64_t v36 = (unint64_t)(v7 + 63) >> 6;
    uint64_t v39 = v2;
    uint64_t v11 = v5 + 56;
    uint64_t result = swift_retain();
    int64_t v13 = 0;
    uint64_t v38 = v6;
    uint64_t v14 = v41;
    uint64_t v15 = v42;
    while (1)
    {
      if (v10)
      {
        unint64_t v17 = __clz(__rbit64(v10));
        v10 &= v10 - 1;
        int64_t v40 = v13;
        unint64_t v18 = v17 | (v13 << 6);
      }
      else
      {
        int64_t v19 = v13 + 1;
        if (__OFADD__(v13, 1))
        {
LABEL_38:
          __break(1u);
LABEL_39:
          __break(1u);
          return result;
        }
        if (v19 >= v36) {
          goto LABEL_33;
        }
        unint64_t v20 = v37[v19];
        int64_t v21 = v13 + 1;
        if (!v20)
        {
          int64_t v21 = v13 + 2;
          if (v13 + 2 >= v36) {
            goto LABEL_33;
          }
          unint64_t v20 = v37[v21];
          if (!v20)
          {
            int64_t v21 = v13 + 3;
            if (v13 + 3 >= v36) {
              goto LABEL_33;
            }
            unint64_t v20 = v37[v21];
            if (!v20)
            {
              uint64_t v22 = v13 + 4;
              if (v13 + 4 >= v36)
              {
LABEL_33:
                swift_release();
                uint64_t v1 = v35;
                uint64_t v34 = 1 << *(unsigned char *)(v4 + 32);
                if (v34 > 63) {
                  bzero(v37, ((unint64_t)(v34 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
                }
                else {
                  *uint64_t v37 = -1 << v34;
                }
                *(void *)(v4 + 16) = 0;
                break;
              }
              unint64_t v20 = v37[v22];
              if (!v20)
              {
                while (1)
                {
                  int64_t v21 = v22 + 1;
                  if (__OFADD__(v22, 1)) {
                    goto LABEL_39;
                  }
                  if (v21 >= v36) {
                    goto LABEL_33;
                  }
                  unint64_t v20 = v37[v21];
                  ++v22;
                  if (v20) {
                    goto LABEL_23;
                  }
                }
              }
              int64_t v21 = v13 + 4;
            }
          }
        }
LABEL_23:
        unint64_t v10 = (v20 - 1) & v20;
        int64_t v40 = v21;
        unint64_t v18 = __clz(__rbit64(v20)) + (v21 << 6);
      }
      uint64_t v23 = v4;
      uint64_t v24 = *(void *)(v4 + 48);
      uint64_t v25 = *(void *)(v39 + 72);
      unint64_t v26 = *(void (**)(char *, unint64_t, uint64_t))(v39 + 32);
      v26(v14, v24 + v25 * v18, v15);
      uint64_t v6 = v38;
      sub_FB568(&qword_310BF8);
      uint64_t result = sub_298980();
      uint64_t v27 = -1 << *(unsigned char *)(v6 + 32);
      unint64_t v28 = result & ~v27;
      unint64_t v29 = v28 >> 6;
      if (((-1 << v28) & ~*(void *)(v11 + 8 * (v28 >> 6))) != 0)
      {
        unint64_t v16 = __clz(__rbit64((-1 << v28) & ~*(void *)(v11 + 8 * (v28 >> 6)))) | v28 & 0x7FFFFFFFFFFFFFC0;
      }
      else
      {
        char v30 = 0;
        unint64_t v31 = (unint64_t)(63 - v27) >> 6;
        do
        {
          if (++v29 == v31 && (v30 & 1) != 0)
          {
            __break(1u);
            goto LABEL_38;
          }
          BOOL v32 = v29 == v31;
          if (v29 == v31) {
            unint64_t v29 = 0;
          }
          v30 |= v32;
          uint64_t v33 = *(void *)(v11 + 8 * v29);
        }
        while (v33 == -1);
        unint64_t v16 = __clz(__rbit64(~v33)) + (v29 << 6);
      }
      *(void *)(v11 + ((v16 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v16;
      uint64_t result = ((uint64_t (*)(unint64_t, char *, uint64_t))v26)(*(void *)(v6 + 48) + v16 * v25, v41, v42);
      ++*(void *)(v6 + 16);
      uint64_t v4 = v23;
      int64_t v13 = v40;
    }
  }
  uint64_t result = swift_release();
  uint64_t *v1 = v6;
  return result;
}

uint64_t sub_F9118()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_71D4(&qword_310C40);
  uint64_t v3 = sub_299390();
  uint64_t v4 = v3;
  if (*(void *)(v2 + 16))
  {
    uint64_t v5 = 1 << *(unsigned char *)(v2 + 32);
    char v30 = (void *)(v2 + 56);
    if (v5 < 64) {
      uint64_t v6 = ~(-1 << v5);
    }
    else {
      uint64_t v6 = -1;
    }
    unint64_t v7 = v6 & *(void *)(v2 + 56);
    int64_t v8 = (unint64_t)(v5 + 63) >> 6;
    uint64_t v9 = v3 + 56;
    uint64_t result = swift_retain();
    int64_t v11 = 0;
    while (1)
    {
      if (v7)
      {
        unint64_t v14 = __clz(__rbit64(v7));
        v7 &= v7 - 1;
        unint64_t v15 = v14 | (v11 << 6);
      }
      else
      {
        int64_t v16 = v11 + 1;
        if (__OFADD__(v11, 1))
        {
LABEL_38:
          __break(1u);
LABEL_39:
          __break(1u);
          return result;
        }
        if (v16 >= v8) {
          goto LABEL_33;
        }
        unint64_t v17 = v30[v16];
        ++v11;
        if (!v17)
        {
          int64_t v11 = v16 + 1;
          if (v16 + 1 >= v8) {
            goto LABEL_33;
          }
          unint64_t v17 = v30[v11];
          if (!v17)
          {
            int64_t v11 = v16 + 2;
            if (v16 + 2 >= v8) {
              goto LABEL_33;
            }
            unint64_t v17 = v30[v11];
            if (!v17)
            {
              int64_t v18 = v16 + 3;
              if (v18 >= v8)
              {
LABEL_33:
                swift_release();
                uint64_t v1 = v0;
                uint64_t v29 = 1 << *(unsigned char *)(v2 + 32);
                if (v29 > 63) {
                  bzero(v30, ((unint64_t)(v29 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
                }
                else {
                  void *v30 = -1 << v29;
                }
                *(void *)(v2 + 16) = 0;
                break;
              }
              unint64_t v17 = v30[v18];
              if (!v17)
              {
                while (1)
                {
                  int64_t v11 = v18 + 1;
                  if (__OFADD__(v18, 1)) {
                    goto LABEL_39;
                  }
                  if (v11 >= v8) {
                    goto LABEL_33;
                  }
                  unint64_t v17 = v30[v11];
                  ++v18;
                  if (v17) {
                    goto LABEL_23;
                  }
                }
              }
              int64_t v11 = v18;
            }
          }
        }
LABEL_23:
        unint64_t v7 = (v17 - 1) & v17;
        unint64_t v15 = __clz(__rbit64(v17)) + (v11 << 6);
      }
      int64_t v19 = (uint64_t *)(*(void *)(v2 + 48) + 16 * v15);
      uint64_t v20 = *v19;
      uint64_t v21 = v19[1];
      sub_299680();
      sub_298A40();
      uint64_t result = sub_2996B0();
      uint64_t v22 = -1 << *(unsigned char *)(v4 + 32);
      unint64_t v23 = result & ~v22;
      unint64_t v24 = v23 >> 6;
      if (((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6))) != 0)
      {
        unint64_t v12 = __clz(__rbit64((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6)))) | v23 & 0x7FFFFFFFFFFFFFC0;
      }
      else
      {
        char v25 = 0;
        unint64_t v26 = (unint64_t)(63 - v22) >> 6;
        do
        {
          if (++v24 == v26 && (v25 & 1) != 0)
          {
            __break(1u);
            goto LABEL_38;
          }
          BOOL v27 = v24 == v26;
          if (v24 == v26) {
            unint64_t v24 = 0;
          }
          v25 |= v27;
          uint64_t v28 = *(void *)(v9 + 8 * v24);
        }
        while (v28 == -1);
        unint64_t v12 = __clz(__rbit64(~v28)) + (v24 << 6);
      }
      *(void *)(v9 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
      int64_t v13 = (void *)(*(void *)(v4 + 48) + 16 * v12);
      *int64_t v13 = v20;
      v13[1] = v21;
      ++*(void *)(v4 + 16);
    }
  }
  uint64_t result = swift_release();
  uint64_t *v1 = v4;
  return result;
}

uint64_t sub_F93F8(uint64_t a1, unint64_t a2, char a3)
{
  uint64_t v31 = a1;
  uint64_t v6 = sub_297C40();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v28 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v10 = *(void *)(*v3 + 16);
  unint64_t v11 = *(void *)(*v3 + 24);
  uint64_t v28 = v3;
  uint64_t v29 = v7;
  if (v11 > v10 && (a3 & 1) != 0) {
    goto LABEL_12;
  }
  if (a3)
  {
    sub_F8D30();
  }
  else
  {
    if (v11 > v10)
    {
      sub_F980C();
      goto LABEL_12;
    }
    sub_F9C64();
  }
  uint64_t v12 = *v3;
  sub_FB568(&qword_310BF8);
  uint64_t v13 = sub_298980();
  uint64_t v14 = -1 << *(unsigned char *)(v12 + 32);
  a2 = v13 & ~v14;
  uint64_t v30 = v12;
  uint64_t v15 = v12 + 56;
  if ((*(void *)(v12 + 56 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2))
  {
    uint64_t v16 = ~v14;
    int64_t v19 = *(void (**)(char *, unint64_t, uint64_t))(v7 + 16);
    uint64_t v18 = v7 + 16;
    unint64_t v17 = v19;
    uint64_t v20 = *(void *)(v18 + 56);
    do
    {
      v17(v9, *(void *)(v30 + 48) + v20 * a2, v6);
      sub_FB568(&qword_310C00);
      char v21 = sub_2989A0();
      (*(void (**)(char *, uint64_t))(v18 - 8))(v9, v6);
      if (v21) {
        goto LABEL_15;
      }
      a2 = (a2 + 1) & v16;
    }
    while (((*(void *)(v15 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2) & 1) != 0);
  }
LABEL_12:
  uint64_t v22 = v29;
  uint64_t v23 = *v28;
  *(void *)(v23 + 8 * (a2 >> 6) + 56) |= 1 << a2;
  uint64_t result = (*(uint64_t (**)(unint64_t, uint64_t, uint64_t))(v22 + 32))(*(void *)(v23 + 48) + *(void *)(v22 + 72) * a2, v31, v6);
  uint64_t v25 = *(void *)(v23 + 16);
  BOOL v26 = __OFADD__(v25, 1);
  uint64_t v27 = v25 + 1;
  if (!v26)
  {
    *(void *)(v23 + 16) = v27;
    return result;
  }
  __break(1u);
LABEL_15:
  uint64_t result = sub_299600();
  __break(1u);
  return result;
}

Swift::Int sub_F9670(Swift::Int result, Swift::Int a2, unint64_t a3, char a4)
{
  uint64_t v5 = v4;
  Swift::Int v8 = result;
  unint64_t v9 = *(void *)(*v4 + 16);
  unint64_t v10 = *(void *)(*v4 + 24);
  if (v10 > v9 && (a4 & 1) != 0) {
    goto LABEL_22;
  }
  if (a4)
  {
    sub_F9118();
  }
  else
  {
    if (v10 > v9)
    {
      uint64_t result = (Swift::Int)sub_F9AB0();
      goto LABEL_22;
    }
    sub_FA000();
  }
  uint64_t v11 = *v4;
  sub_299680();
  sub_298A40();
  uint64_t result = sub_2996B0();
  uint64_t v12 = -1 << *(unsigned char *)(v11 + 32);
  a3 = result & ~v12;
  uint64_t v13 = v11 + 56;
  if ((*(void *)(v11 + 56 + ((a3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a3))
  {
    uint64_t v14 = *(void *)(v11 + 48);
    uint64_t v15 = (void *)(v14 + 16 * a3);
    BOOL v16 = *v15 == v8 && v15[1] == a2;
    if (v16 || (uint64_t result = sub_2995D0(), (result & 1) != 0))
    {
LABEL_21:
      uint64_t result = sub_299600();
      __break(1u);
    }
    else
    {
      uint64_t v17 = ~v12;
      while (1)
      {
        a3 = (a3 + 1) & v17;
        if (((*(void *)(v13 + ((a3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a3) & 1) == 0) {
          break;
        }
        uint64_t v18 = (void *)(v14 + 16 * a3);
        if (*v18 != v8 || v18[1] != a2)
        {
          uint64_t result = sub_2995D0();
          if ((result & 1) == 0) {
            continue;
          }
        }
        goto LABEL_21;
      }
    }
  }
LABEL_22:
  uint64_t v20 = *v5;
  *(void *)(*v5 + 8 * (a3 >> 6) + 56) |= 1 << a3;
  char v21 = (Swift::Int *)(*(void *)(v20 + 48) + 16 * a3);
  *char v21 = v8;
  v21[1] = a2;
  uint64_t v22 = *(void *)(v20 + 16);
  BOOL v23 = __OFADD__(v22, 1);
  uint64_t v24 = v22 + 1;
  if (v23) {
    __break(1u);
  }
  else {
    *(void *)(v20 + 16) = v24;
  }
  return result;
}

void *sub_F980C()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_297C40();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v21 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_310C08);
  uint64_t v6 = *v0;
  uint64_t v7 = sub_299380();
  uint64_t v8 = v7;
  if (!*(void *)(v6 + 16))
  {
    uint64_t result = (void *)swift_release();
LABEL_27:
    uint64_t *v1 = v8;
    return result;
  }
  uint64_t v22 = v1;
  uint64_t result = (void *)(v7 + 56);
  unint64_t v10 = (unint64_t)((1 << *(unsigned char *)(v8 + 32)) + 63) >> 6;
  if (v8 != v6 || (unint64_t)result >= v6 + 56 + 8 * v10) {
    uint64_t result = memmove(result, (const void *)(v6 + 56), 8 * v10);
  }
  uint64_t v23 = v6 + 56;
  int64_t v11 = 0;
  *(void *)(v8 + 16) = *(void *)(v6 + 16);
  uint64_t v12 = 1 << *(unsigned char *)(v6 + 32);
  uint64_t v13 = -1;
  if (v12 < 64) {
    uint64_t v13 = ~(-1 << v12);
  }
  unint64_t v14 = v13 & *(void *)(v6 + 56);
  int64_t v24 = (unint64_t)(v12 + 63) >> 6;
  while (1)
  {
    if (v14)
    {
      unint64_t v15 = __clz(__rbit64(v14));
      v14 &= v14 - 1;
      unint64_t v16 = v15 | (v11 << 6);
      goto LABEL_9;
    }
    int64_t v18 = v11 + 1;
    if (__OFADD__(v11, 1))
    {
      __break(1u);
      goto LABEL_29;
    }
    if (v18 >= v24) {
      goto LABEL_25;
    }
    unint64_t v19 = *(void *)(v23 + 8 * v18);
    ++v11;
    if (!v19)
    {
      int64_t v11 = v18 + 1;
      if (v18 + 1 >= v24) {
        goto LABEL_25;
      }
      unint64_t v19 = *(void *)(v23 + 8 * v11);
      if (!v19)
      {
        int64_t v11 = v18 + 2;
        if (v18 + 2 >= v24) {
          goto LABEL_25;
        }
        unint64_t v19 = *(void *)(v23 + 8 * v11);
        if (!v19) {
          break;
        }
      }
    }
LABEL_24:
    unint64_t v14 = (v19 - 1) & v19;
    unint64_t v16 = __clz(__rbit64(v19)) + (v11 << 6);
LABEL_9:
    unint64_t v17 = *(void *)(v3 + 72) * v16;
    (*(void (**)(char *, unint64_t, uint64_t))(v3 + 16))(v5, *(void *)(v6 + 48) + v17, v2);
    uint64_t result = (void *)(*(uint64_t (**)(unint64_t, char *, uint64_t))(v3 + 32))(*(void *)(v8 + 48) + v17, v5, v2);
  }
  int64_t v20 = v18 + 3;
  if (v20 >= v24)
  {
LABEL_25:
    uint64_t result = (void *)swift_release();
    uint64_t v1 = v22;
    goto LABEL_27;
  }
  unint64_t v19 = *(void *)(v23 + 8 * v20);
  if (v19)
  {
    int64_t v11 = v20;
    goto LABEL_24;
  }
  while (1)
  {
    int64_t v11 = v20 + 1;
    if (__OFADD__(v20, 1)) {
      break;
    }
    if (v11 >= v24) {
      goto LABEL_25;
    }
    unint64_t v19 = *(void *)(v23 + 8 * v11);
    ++v20;
    if (v19) {
      goto LABEL_24;
    }
  }
LABEL_29:
  __break(1u);
  return result;
}

void *sub_F9AB0()
{
  uint64_t v1 = v0;
  sub_71D4(&qword_310C40);
  uint64_t v2 = *v0;
  uint64_t v3 = sub_299380();
  uint64_t v4 = v3;
  if (!*(void *)(v2 + 16))
  {
LABEL_28:
    uint64_t result = (void *)swift_release();
    uint64_t *v1 = v4;
    return result;
  }
  uint64_t result = (void *)(v3 + 56);
  uint64_t v6 = v2 + 56;
  unint64_t v7 = (unint64_t)((1 << *(unsigned char *)(v4 + 32)) + 63) >> 6;
  if (v4 != v2 || (unint64_t)result >= v2 + 56 + 8 * v7) {
    uint64_t result = memmove(result, (const void *)(v2 + 56), 8 * v7);
  }
  int64_t v9 = 0;
  *(void *)(v4 + 16) = *(void *)(v2 + 16);
  uint64_t v10 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v11 = -1;
  if (v10 < 64) {
    uint64_t v11 = ~(-1 << v10);
  }
  unint64_t v12 = v11 & *(void *)(v2 + 56);
  int64_t v13 = (unint64_t)(v10 + 63) >> 6;
  while (1)
  {
    if (v12)
    {
      unint64_t v14 = __clz(__rbit64(v12));
      v12 &= v12 - 1;
      unint64_t v15 = v14 | (v9 << 6);
      goto LABEL_12;
    }
    int64_t v20 = v9 + 1;
    if (__OFADD__(v9, 1))
    {
      __break(1u);
      goto LABEL_30;
    }
    if (v20 >= v13) {
      goto LABEL_28;
    }
    unint64_t v21 = *(void *)(v6 + 8 * v20);
    ++v9;
    if (!v21)
    {
      int64_t v9 = v20 + 1;
      if (v20 + 1 >= v13) {
        goto LABEL_28;
      }
      unint64_t v21 = *(void *)(v6 + 8 * v9);
      if (!v21)
      {
        int64_t v9 = v20 + 2;
        if (v20 + 2 >= v13) {
          goto LABEL_28;
        }
        unint64_t v21 = *(void *)(v6 + 8 * v9);
        if (!v21) {
          break;
        }
      }
    }
LABEL_27:
    unint64_t v12 = (v21 - 1) & v21;
    unint64_t v15 = __clz(__rbit64(v21)) + (v9 << 6);
LABEL_12:
    uint64_t v16 = 16 * v15;
    unint64_t v17 = (void *)(*(void *)(v2 + 48) + v16);
    uint64_t v18 = v17[1];
    unint64_t v19 = (void *)(*(void *)(v4 + 48) + v16);
    *unint64_t v19 = *v17;
    v19[1] = v18;
    uint64_t result = (void *)swift_bridgeObjectRetain();
  }
  int64_t v22 = v20 + 3;
  if (v22 >= v13) {
    goto LABEL_28;
  }
  unint64_t v21 = *(void *)(v6 + 8 * v22);
  if (v21)
  {
    int64_t v9 = v22;
    goto LABEL_27;
  }
  while (1)
  {
    int64_t v9 = v22 + 1;
    if (__OFADD__(v22, 1)) {
      break;
    }
    if (v9 >= v13) {
      goto LABEL_28;
    }
    unint64_t v21 = *(void *)(v6 + 8 * v9);
    ++v22;
    if (v21) {
      goto LABEL_27;
    }
  }
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_F9C64()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_297C40();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v33 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = *v0;
  sub_71D4(&qword_310C08);
  uint64_t v7 = sub_299390();
  uint64_t v8 = v7;
  if (!*(void *)(v6 + 16))
  {
    uint64_t result = swift_release();
LABEL_35:
    uint64_t *v1 = v8;
    return result;
  }
  uint64_t v9 = 1 << *(unsigned char *)(v6 + 32);
  uint64_t v10 = *(void *)(v6 + 56);
  uint64_t v34 = v0;
  uint64_t v35 = v6 + 56;
  if (v9 < 64) {
    uint64_t v11 = ~(-1 << v9);
  }
  else {
    uint64_t v11 = -1;
  }
  unint64_t v12 = v11 & v10;
  int64_t v36 = (unint64_t)(v9 + 63) >> 6;
  uint64_t v37 = v3 + 16;
  uint64_t v13 = v7 + 56;
  uint64_t v38 = v3;
  unint64_t v14 = (uint64_t (**)(unint64_t, char *, uint64_t))(v3 + 32);
  uint64_t result = swift_retain();
  int64_t v16 = 0;
  while (1)
  {
    if (v12)
    {
      unint64_t v18 = __clz(__rbit64(v12));
      v12 &= v12 - 1;
      unint64_t v19 = v18 | (v16 << 6);
      goto LABEL_24;
    }
    int64_t v20 = v16 + 1;
    if (__OFADD__(v16, 1))
    {
LABEL_36:
      __break(1u);
      goto LABEL_37;
    }
    if (v20 >= v36) {
      goto LABEL_33;
    }
    unint64_t v21 = *(void *)(v35 + 8 * v20);
    ++v16;
    if (!v21)
    {
      int64_t v16 = v20 + 1;
      if (v20 + 1 >= v36) {
        goto LABEL_33;
      }
      unint64_t v21 = *(void *)(v35 + 8 * v16);
      if (!v21)
      {
        int64_t v16 = v20 + 2;
        if (v20 + 2 >= v36) {
          goto LABEL_33;
        }
        unint64_t v21 = *(void *)(v35 + 8 * v16);
        if (!v21) {
          break;
        }
      }
    }
LABEL_23:
    unint64_t v12 = (v21 - 1) & v21;
    unint64_t v19 = __clz(__rbit64(v21)) + (v16 << 6);
LABEL_24:
    uint64_t v23 = v6;
    uint64_t v24 = *(void *)(v6 + 48);
    uint64_t v25 = *(void *)(v38 + 72);
    (*(void (**)(char *, unint64_t, uint64_t))(v38 + 16))(v5, v24 + v25 * v19, v2);
    sub_FB568(&qword_310BF8);
    uint64_t result = sub_298980();
    uint64_t v26 = -1 << *(unsigned char *)(v8 + 32);
    unint64_t v27 = result & ~v26;
    unint64_t v28 = v27 >> 6;
    if (((-1 << v27) & ~*(void *)(v13 + 8 * (v27 >> 6))) != 0)
    {
      unint64_t v17 = __clz(__rbit64((-1 << v27) & ~*(void *)(v13 + 8 * (v27 >> 6)))) | v27 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v29 = 0;
      unint64_t v30 = (unint64_t)(63 - v26) >> 6;
      do
      {
        if (++v28 == v30 && (v29 & 1) != 0)
        {
          __break(1u);
          goto LABEL_36;
        }
        BOOL v31 = v28 == v30;
        if (v28 == v30) {
          unint64_t v28 = 0;
        }
        v29 |= v31;
        uint64_t v32 = *(void *)(v13 + 8 * v28);
      }
      while (v32 == -1);
      unint64_t v17 = __clz(__rbit64(~v32)) + (v28 << 6);
    }
    *(void *)(v13 + ((v17 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v17;
    uint64_t result = (*v14)(*(void *)(v8 + 48) + v17 * v25, v5, v2);
    ++*(void *)(v8 + 16);
    uint64_t v6 = v23;
  }
  int64_t v22 = v20 + 3;
  if (v22 >= v36)
  {
LABEL_33:
    uint64_t result = swift_release_n();
    uint64_t v1 = v34;
    goto LABEL_35;
  }
  unint64_t v21 = *(void *)(v35 + 8 * v22);
  if (v21)
  {
    int64_t v16 = v22;
    goto LABEL_23;
  }
  while (1)
  {
    int64_t v16 = v22 + 1;
    if (__OFADD__(v22, 1)) {
      break;
    }
    if (v16 >= v36) {
      goto LABEL_33;
    }
    unint64_t v21 = *(void *)(v35 + 8 * v16);
    ++v22;
    if (v21) {
      goto LABEL_23;
    }
  }
LABEL_37:
  __break(1u);
  return result;
}

uint64_t sub_FA000()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_71D4(&qword_310C40);
  uint64_t v3 = sub_299390();
  uint64_t v4 = v3;
  if (!*(void *)(v2 + 16))
  {
    uint64_t result = swift_release();
LABEL_35:
    uint64_t *v1 = v4;
    return result;
  }
  uint64_t v5 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v6 = v2 + 56;
  if (v5 < 64) {
    uint64_t v7 = ~(-1 << v5);
  }
  else {
    uint64_t v7 = -1;
  }
  unint64_t v8 = v7 & *(void *)(v2 + 56);
  int64_t v29 = (unint64_t)(v5 + 63) >> 6;
  uint64_t v9 = v3 + 56;
  uint64_t result = swift_retain();
  int64_t v11 = 0;
  while (1)
  {
    if (v8)
    {
      unint64_t v14 = __clz(__rbit64(v8));
      v8 &= v8 - 1;
      unint64_t v15 = v14 | (v11 << 6);
      goto LABEL_24;
    }
    int64_t v16 = v11 + 1;
    if (__OFADD__(v11, 1))
    {
LABEL_36:
      __break(1u);
      goto LABEL_37;
    }
    if (v16 >= v29) {
      goto LABEL_33;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v16);
    ++v11;
    if (!v17)
    {
      int64_t v11 = v16 + 1;
      if (v16 + 1 >= v29) {
        goto LABEL_33;
      }
      unint64_t v17 = *(void *)(v6 + 8 * v11);
      if (!v17)
      {
        int64_t v11 = v16 + 2;
        if (v16 + 2 >= v29) {
          goto LABEL_33;
        }
        unint64_t v17 = *(void *)(v6 + 8 * v11);
        if (!v17) {
          break;
        }
      }
    }
LABEL_23:
    unint64_t v8 = (v17 - 1) & v17;
    unint64_t v15 = __clz(__rbit64(v17)) + (v11 << 6);
LABEL_24:
    unint64_t v19 = (uint64_t *)(*(void *)(v2 + 48) + 16 * v15);
    uint64_t v20 = *v19;
    uint64_t v21 = v19[1];
    sub_299680();
    swift_bridgeObjectRetain();
    sub_298A40();
    uint64_t result = sub_2996B0();
    uint64_t v22 = -1 << *(unsigned char *)(v4 + 32);
    unint64_t v23 = result & ~v22;
    unint64_t v24 = v23 >> 6;
    if (((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6))) != 0)
    {
      unint64_t v12 = __clz(__rbit64((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6)))) | v23 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v25 = 0;
      unint64_t v26 = (unint64_t)(63 - v22) >> 6;
      do
      {
        if (++v24 == v26 && (v25 & 1) != 0)
        {
          __break(1u);
          goto LABEL_36;
        }
        BOOL v27 = v24 == v26;
        if (v24 == v26) {
          unint64_t v24 = 0;
        }
        v25 |= v27;
        uint64_t v28 = *(void *)(v9 + 8 * v24);
      }
      while (v28 == -1);
      unint64_t v12 = __clz(__rbit64(~v28)) + (v24 << 6);
    }
    *(void *)(v9 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
    uint64_t v13 = (void *)(*(void *)(v4 + 48) + 16 * v12);
    *uint64_t v13 = v20;
    v13[1] = v21;
    ++*(void *)(v4 + 16);
  }
  int64_t v18 = v16 + 3;
  if (v18 >= v29)
  {
LABEL_33:
    uint64_t result = swift_release_n();
    uint64_t v1 = v0;
    goto LABEL_35;
  }
  unint64_t v17 = *(void *)(v6 + 8 * v18);
  if (v17)
  {
    int64_t v11 = v18;
    goto LABEL_23;
  }
  while (1)
  {
    int64_t v11 = v18 + 1;
    if (__OFADD__(v18, 1)) {
      break;
    }
    if (v11 >= v29) {
      goto LABEL_33;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v11);
    ++v18;
    if (v17) {
      goto LABEL_23;
    }
  }
LABEL_37:
  __break(1u);
  return result;
}

unint64_t *sub_FA2B0(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = a2;
  if (!*(void *)(a2 + 16))
  {
    swift_release();
    return (unint64_t *)&_swiftEmptySetSingleton;
  }
  uint64_t v26 = a1;
  uint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    uint64_t v4 = a2 + 56;
    v25[0] = a1 + 32;
    swift_bridgeObjectRetain();
    uint64_t v5 = 0;
    while (1)
    {
      uint64_t v6 = (uint64_t *)(v25[0] + 16 * v5);
      uint64_t v8 = *v6;
      uint64_t v7 = v6[1];
      ++v5;
      sub_299680();
      swift_bridgeObjectRetain();
      sub_298A40();
      Swift::Int v9 = sub_2996B0();
      uint64_t v10 = -1 << *(unsigned char *)(v2 + 32);
      unint64_t v11 = v9 & ~v10;
      if ((*(void *)(v4 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11))
      {
        uint64_t v12 = *(void *)(v2 + 48);
        uint64_t v13 = (void *)(v12 + 16 * v11);
        BOOL v14 = *v13 == v8 && v13[1] == v7;
        if (v14 || (sub_2995D0() & 1) != 0)
        {
          uint64_t isStackAllocationSafe = swift_bridgeObjectRelease();
          uint64_t v27 = v5;
LABEL_19:
          char v19 = *(unsigned char *)(v2 + 32);
          unint64_t v20 = (unint64_t)((1 << v19) + 63) >> 6;
          size_t v21 = 8 * v20;
          if ((v19 & 0x3Fu) < 0xE
            || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), isStackAllocationSafe))
          {
            __chkstk_darwin(isStackAllocationSafe);
            memcpy((char *)v25 - ((v21 + 15) & 0x3FFFFFFFFFFFFFF0), (const void *)(v2 + 56), v21);
            uint64_t v22 = sub_FA5C4((void *)((char *)v25 - ((v21 + 15) & 0x3FFFFFFFFFFFFFF0)), v20, v2, v11, &v26);
            swift_release();
            swift_bridgeObjectRelease();
          }
          else
          {
            unint64_t v23 = (void *)swift_slowAlloc();
            memcpy(v23, (const void *)(v2 + 56), v21);
            uint64_t v22 = sub_FA5C4((unint64_t *)v23, v20, v2, v11, &v26);
            swift_release();
            swift_bridgeObjectRelease();
            swift_slowDealloc();
          }
          return v22;
        }
        uint64_t v15 = ~v10;
        while (1)
        {
          unint64_t v11 = (v11 + 1) & v15;
          if (((*(void *)(v4 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11) & 1) == 0) {
            break;
          }
          int64_t v16 = (void *)(v12 + 16 * v11);
          BOOL v17 = *v16 == v8 && v16[1] == v7;
          if (v17 || (sub_2995D0() & 1) != 0)
          {
            uint64_t v27 = v5;
            uint64_t isStackAllocationSafe = swift_bridgeObjectRelease();
            goto LABEL_19;
          }
        }
      }
      swift_bridgeObjectRelease();
      if (v5 == v3)
      {
        swift_bridgeObjectRelease();
        return (unint64_t *)v2;
      }
    }
  }
  return (unint64_t *)v2;
}

unint64_t *sub_FA5C4(unint64_t *result, uint64_t a2, uint64_t a3, unint64_t a4, void *a5)
{
  uint64_t v6 = *(void *)(a3 + 16);
  *(unint64_t *)((char *)result + ((a4 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= (-1 << a4) - 1;
  unint64_t v30 = result;
  uint64_t v31 = v6 - 1;
  uint64_t v8 = *a5;
  unint64_t v7 = a5[1];
  unint64_t v9 = *(void *)(*a5 + 16);
  if (v7 == v9)
  {
LABEL_2:
    swift_retain();
    return (unint64_t *)sub_FA7F0(v30, a2, v31, a3);
  }
  uint64_t v32 = a3 + 56;
  while ((v7 & 0x8000000000000000) == 0)
  {
    if (v7 >= v9) {
      goto LABEL_29;
    }
    uint64_t v11 = v8 + 16 * v7;
    uint64_t v13 = *(void *)(v11 + 32);
    uint64_t v12 = *(void *)(v11 + 40);
    a5[1] = v7 + 1;
    sub_299680();
    swift_bridgeObjectRetain();
    sub_298A40();
    Swift::Int v14 = sub_2996B0();
    uint64_t v15 = -1 << *(unsigned char *)(a3 + 32);
    unint64_t v16 = v14 & ~v15;
    unint64_t v17 = v16 >> 6;
    uint64_t v18 = 1 << v16;
    if (((1 << v16) & *(void *)(v32 + 8 * (v16 >> 6))) == 0) {
      goto LABEL_4;
    }
    uint64_t v19 = *(void *)(a3 + 48);
    unint64_t v20 = (void *)(v19 + 16 * v16);
    BOOL v21 = *v20 == v13 && v20[1] == v12;
    if (!v21 && (sub_2995D0() & 1) == 0)
    {
      uint64_t v24 = ~v15;
      for (unint64_t i = v16 + 1; ; unint64_t i = v26 + 1)
      {
        unint64_t v26 = i & v24;
        if (((*(void *)(v32 + (((i & v24) >> 3) & 0xFFFFFFFFFFFFFF8)) >> (i & v24)) & 1) == 0) {
          break;
        }
        uint64_t v27 = (void *)(v19 + 16 * v26);
        BOOL v28 = *v27 == v13 && v27[1] == v12;
        if (v28 || (sub_2995D0() & 1) != 0)
        {
          uint64_t result = (unint64_t *)swift_bridgeObjectRelease();
          unint64_t v17 = v26 >> 6;
          uint64_t v18 = 1 << v26;
          goto LABEL_15;
        }
      }
LABEL_4:
      uint64_t result = (unint64_t *)swift_bridgeObjectRelease();
      goto LABEL_5;
    }
    uint64_t result = (unint64_t *)swift_bridgeObjectRelease();
LABEL_15:
    unint64_t v22 = v30[v17];
    v30[v17] = v22 & ~v18;
    if ((v18 & v22) != 0)
    {
      uint64_t v23 = v31 - 1;
      if (__OFSUB__(v31, 1)) {
        goto LABEL_30;
      }
      --v31;
      if (!v23) {
        return (unint64_t *)&_swiftEmptySetSingleton;
      }
    }
LABEL_5:
    uint64_t v8 = *a5;
    unint64_t v7 = a5[1];
    unint64_t v9 = *(void *)(*a5 + 16);
    if (v7 == v9) {
      goto LABEL_2;
    }
  }
  __break(1u);
LABEL_29:
  __break(1u);
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_FA7F0(unint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v4 = a4;
  if (!a3)
  {
    uint64_t v8 = &_swiftEmptySetSingleton;
LABEL_36:
    swift_release();
    return (uint64_t)v8;
  }
  uint64_t v5 = a3;
  if (*(void *)(a4 + 16) == a3) {
    return v4;
  }
  sub_71D4(&qword_310C40);
  uint64_t result = sub_2993A0();
  uint64_t v8 = (unsigned char *)result;
  uint64_t v30 = a2;
  if (a2 < 1) {
    unint64_t v9 = 0;
  }
  else {
    unint64_t v9 = *a1;
  }
  uint64_t v10 = 0;
  uint64_t v11 = result + 56;
  while (1)
  {
    if (v9)
    {
      unint64_t v12 = __clz(__rbit64(v9));
      v9 &= v9 - 1;
      unint64_t v13 = v12 | (v10 << 6);
      goto LABEL_24;
    }
    uint64_t v14 = v10 + 1;
    if (__OFADD__(v10, 1)) {
      goto LABEL_39;
    }
    if (v14 >= v30) {
      goto LABEL_36;
    }
    unint64_t v15 = a1[v14];
    ++v10;
    if (!v15)
    {
      uint64_t v10 = v14 + 1;
      if (v14 + 1 >= v30) {
        goto LABEL_36;
      }
      unint64_t v15 = a1[v10];
      if (!v15)
      {
        uint64_t v10 = v14 + 2;
        if (v14 + 2 >= v30) {
          goto LABEL_36;
        }
        unint64_t v15 = a1[v10];
        if (!v15) {
          break;
        }
      }
    }
LABEL_23:
    unint64_t v9 = (v15 - 1) & v15;
    unint64_t v13 = __clz(__rbit64(v15)) + (v10 << 6);
LABEL_24:
    unint64_t v17 = (uint64_t *)(*(void *)(v4 + 48) + 16 * v13);
    uint64_t v18 = *v17;
    uint64_t v19 = v17[1];
    sub_299680();
    swift_bridgeObjectRetain();
    sub_298A40();
    uint64_t result = sub_2996B0();
    uint64_t v20 = -1 << v8[32];
    unint64_t v21 = result & ~v20;
    unint64_t v22 = v21 >> 6;
    if (((-1 << v21) & ~*(void *)(v11 + 8 * (v21 >> 6))) != 0)
    {
      unint64_t v23 = __clz(__rbit64((-1 << v21) & ~*(void *)(v11 + 8 * (v21 >> 6)))) | v21 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v24 = 0;
      unint64_t v25 = (unint64_t)(63 - v20) >> 6;
      do
      {
        if (++v22 == v25 && (v24 & 1) != 0)
        {
          __break(1u);
          goto LABEL_38;
        }
        BOOL v26 = v22 == v25;
        if (v22 == v25) {
          unint64_t v22 = 0;
        }
        v24 |= v26;
        uint64_t v27 = *(void *)(v11 + 8 * v22);
      }
      while (v27 == -1);
      unint64_t v23 = __clz(__rbit64(~v27)) + (v22 << 6);
    }
    *(void *)(v11 + ((v23 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v23;
    BOOL v28 = (void *)(*((void *)v8 + 6) + 16 * v23);
    *BOOL v28 = v18;
    v28[1] = v19;
    ++*((void *)v8 + 2);
    if (__OFSUB__(v5--, 1))
    {
LABEL_38:
      __break(1u);
LABEL_39:
      __break(1u);
      goto LABEL_40;
    }
    if (!v5) {
      goto LABEL_36;
    }
  }
  uint64_t v16 = v14 + 3;
  if (v16 >= v30) {
    goto LABEL_36;
  }
  unint64_t v15 = a1[v16];
  if (v15)
  {
    uint64_t v10 = v16;
    goto LABEL_23;
  }
  while (1)
  {
    uint64_t v10 = v16 + 1;
    if (__OFADD__(v16, 1)) {
      break;
    }
    if (v10 >= v30) {
      goto LABEL_36;
    }
    unint64_t v15 = a1[v10];
    ++v16;
    if (v15) {
      goto LABEL_23;
    }
  }
LABEL_40:
  __break(1u);
  return result;
}

uint64_t sub_FAA88(uint64_t isStackAllocationSafe, uint64_t a2)
{
  uint64_t v3 = isStackAllocationSafe;
  char v4 = *(unsigned char *)(a2 + 32);
  unint64_t v5 = (unint64_t)((1 << v4) + 63) >> 6;
  size_t v6 = 8 * v5;
  if ((v4 & 0x3Fu) <= 0xD
    || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    __chkstk_darwin(isStackAllocationSafe);
    bzero((char *)&v10 - ((v6 + 15) & 0x3FFFFFFFFFFFFFF0), v6);
    uint64_t v7 = sub_FAC10((unint64_t *)((char *)&v10 - ((v6 + 15) & 0x3FFFFFFFFFFFFFF0)), v5, v3, a2);
    swift_release();
  }
  else
  {
    uint64_t v8 = (void *)swift_slowAlloc();
    bzero(v8, v6);
    uint64_t v7 = sub_FAC10((unint64_t *)v8, v5, v3, a2);
    swift_release();
    swift_slowDealloc();
  }
  return v7;
}

uint64_t sub_FAC10(unint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = a2;
  uint64_t v31 = *(void *)(a3 + 16);
  if (!v31)
  {
    uint64_t v26 = 0;
    goto LABEL_27;
  }
  uint64_t v32 = a4 + 56;
  uint64_t v30 = a3 + 32;
  swift_bridgeObjectRetain();
  uint64_t v28 = 0;
  for (uint64_t i = 0; i != v31; ++i)
  {
    uint64_t v7 = (uint64_t *)(v30 + 16 * i);
    uint64_t v9 = *v7;
    uint64_t v8 = v7[1];
    sub_299680();
    swift_bridgeObjectRetain();
    sub_298A40();
    Swift::Int v10 = sub_2996B0();
    uint64_t v11 = -1 << *(unsigned char *)(a4 + 32);
    unint64_t v12 = v10 & ~v11;
    unint64_t v13 = v12 >> 6;
    uint64_t v14 = 1 << v12;
    if (((1 << v12) & *(void *)(v32 + 8 * (v12 >> 6))) == 0) {
      goto LABEL_3;
    }
    uint64_t v15 = *(void *)(a4 + 48);
    uint64_t v16 = (void *)(v15 + 16 * v12);
    BOOL v17 = *v16 == v9 && v16[1] == v8;
    if (!v17 && (sub_2995D0() & 1) == 0)
    {
      uint64_t v21 = ~v11;
      for (unint64_t j = v12 + 1; ; unint64_t j = v23 + 1)
      {
        unint64_t v23 = j & v21;
        if (((*(void *)(v32 + (((j & v21) >> 3) & 0xFFFFFFFFFFFFFF8)) >> (j & v21)) & 1) == 0) {
          break;
        }
        char v24 = (void *)(v15 + 16 * v23);
        BOOL v25 = *v24 == v9 && v24[1] == v8;
        if (v25 || (sub_2995D0() & 1) != 0)
        {
          uint64_t result = swift_bridgeObjectRelease();
          unint64_t v13 = v23 >> 6;
          uint64_t v14 = 1 << v23;
          goto LABEL_12;
        }
      }
LABEL_3:
      swift_bridgeObjectRelease();
      continue;
    }
    uint64_t result = swift_bridgeObjectRelease();
LABEL_12:
    unint64_t v19 = a1[v13];
    a1[v13] = v14 | v19;
    if ((v14 & v19) == 0 && __OFADD__(v28++, 1))
    {
      __break(1u);
      return result;
    }
  }
  swift_bridgeObjectRelease();
  uint64_t v5 = a2;
  uint64_t v26 = v28;
LABEL_27:
  swift_retain();
  return sub_FA7F0(a1, v5, v26, a4);
}

uint64_t sub_FAE24(uint64_t result, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = (void *)result;
  uint64_t v6 = a4 + 56;
  uint64_t v7 = -1 << *(unsigned char *)(a4 + 32);
  if (-v7 < 64) {
    uint64_t v8 = ~(-1 << -(char)v7);
  }
  else {
    uint64_t v8 = -1;
  }
  unint64_t v9 = v8 & *(void *)(a4 + 56);
  if (!a2)
  {
    int64_t v12 = 0;
    uint64_t v10 = 0;
LABEL_38:
    *uint64_t v5 = a4;
    v5[1] = v6;
    v5[2] = ~v7;
    v5[3] = v12;
    v5[4] = v9;
    return v10;
  }
  uint64_t v10 = a3;
  if (!a3)
  {
    int64_t v12 = 0;
    goto LABEL_38;
  }
  if (a3 < 0)
  {
LABEL_40:
    __break(1u);
    goto LABEL_41;
  }
  uint64_t v11 = a2;
  int64_t v12 = 0;
  uint64_t v13 = 0;
  int64_t v14 = (unint64_t)(63 - v7) >> 6;
  if (!v9) {
    goto LABEL_9;
  }
LABEL_8:
  unint64_t v15 = __clz(__rbit64(v9));
  v9 &= v9 - 1;
  unint64_t v16 = v15 | (v12 << 6);
  while (1)
  {
    ++v13;
    uint64_t v20 = (void *)(*(void *)(a4 + 48) + 16 * v16);
    uint64_t v21 = v20[1];
    *uint64_t v11 = *v20;
    v11[1] = v21;
    if (v13 == v10)
    {
      swift_bridgeObjectRetain();
      goto LABEL_38;
    }
    v11 += 2;
    uint64_t result = swift_bridgeObjectRetain();
    if (v9) {
      goto LABEL_8;
    }
LABEL_9:
    int64_t v17 = v12 + 1;
    if (__OFADD__(v12, 1))
    {
      __break(1u);
      goto LABEL_40;
    }
    if (v17 >= v14) {
      goto LABEL_33;
    }
    unint64_t v18 = *(void *)(v6 + 8 * v17);
    if (!v18) {
      break;
    }
LABEL_18:
    unint64_t v9 = (v18 - 1) & v18;
    unint64_t v16 = __clz(__rbit64(v18)) + (v17 << 6);
    int64_t v12 = v17;
  }
  v12 += 2;
  if (v17 + 1 >= v14)
  {
    unint64_t v9 = 0;
    int64_t v12 = v17;
    goto LABEL_37;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v12);
  if (v18) {
    goto LABEL_14;
  }
  int64_t v19 = v17 + 2;
  if (v17 + 2 >= v14) {
    goto LABEL_33;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v19);
  if (v18) {
    goto LABEL_17;
  }
  int64_t v12 = v17 + 3;
  if (v17 + 3 >= v14)
  {
    unint64_t v9 = 0;
    int64_t v12 = v17 + 2;
    goto LABEL_37;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v12);
  if (v18)
  {
LABEL_14:
    int64_t v17 = v12;
    goto LABEL_18;
  }
  int64_t v19 = v17 + 4;
  if (v17 + 4 >= v14)
  {
LABEL_33:
    unint64_t v9 = 0;
LABEL_37:
    uint64_t v10 = v13;
    goto LABEL_38;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v19);
  if (v18)
  {
LABEL_17:
    int64_t v17 = v19;
    goto LABEL_18;
  }
  while (1)
  {
    int64_t v17 = v19 + 1;
    if (__OFADD__(v19, 1)) {
      break;
    }
    if (v17 >= v14)
    {
      unint64_t v9 = 0;
      int64_t v12 = v14 - 1;
      goto LABEL_37;
    }
    unint64_t v18 = *(void *)(v6 + 8 * v17);
    ++v19;
    if (v18) {
      goto LABEL_18;
    }
  }
LABEL_41:
  __break(1u);
  return result;
}

uint64_t sub_FB024(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 24 * a1 + 32;
    unint64_t v6 = a3 + 24 * v4;
    if (v5 >= v6 || v5 + 24 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_FB11C(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 16 * a1 + 32;
    unint64_t v6 = a3 + 16 * v4;
    if (v5 >= v6 || v5 + 16 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_FB210(uint64_t a1)
{
  uint64_t v2 = sub_297C40();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  unint64_t v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v16 - v7;
  uint64_t v9 = *(void *)(a1 + 16);
  sub_FB568(&qword_310BF8);
  uint64_t result = sub_298C80();
  uint64_t v17 = result;
  if (v9)
  {
    uint64_t v13 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
    uint64_t v11 = v3 + 16;
    int64_t v12 = v13;
    uint64_t v14 = a1 + ((*(unsigned __int8 *)(v11 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v11 + 64));
    uint64_t v15 = *(void *)(v11 + 56);
    do
    {
      v12(v6, v14, v2);
      sub_F8884((uint64_t)v8, v6);
      (*(void (**)(char *, uint64_t))(v11 - 8))(v8, v2);
      v14 += v15;
      --v9;
    }
    while (v9);
    return v17;
  }
  return result;
}

uint64_t sub_FB398(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 72 * a1 + 32;
    unint64_t v6 = a3 + 72 * v4;
    if (v5 >= v6 || v5 + 72 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_FB490(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  uint64_t result = sub_298C80();
  uint64_t v8 = result;
  if (v2)
  {
    uint64_t v4 = (Swift::Int *)(a1 + 40);
    do
    {
      Swift::Int v5 = *(v4 - 1);
      Swift::Int v6 = *v4;
      swift_bridgeObjectRetain();
      sub_F8B80(&v7, v5, v6);
      swift_bridgeObjectRelease();
      v4 += 2;
      --v2;
    }
    while (v2);
    return v8;
  }
  return result;
}

unint64_t sub_FB528()
{
  unint64_t result = qword_310BD0;
  if (!qword_310BD0)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_310BD0);
  }
  return result;
}

uint64_t sub_FB568(unint64_t *a1)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_297C40();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_FB5AC(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4, uint64_t (*a5)(void))
{
  uint64_t v5 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v5 & 0x8000000000000000) == 0)
  {
    uint64_t v9 = *(void *)(a5(0) - 8);
    uint64_t v10 = a4 + ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80));
    uint64_t v11 = *(void *)(v9 + 72);
    unint64_t v12 = v10 + v11 * a1;
    unint64_t v13 = a3 + v11 * v5;
    if (v12 >= v13 || v12 + v11 * v5 <= a3)
    {
      swift_arrayInitWithCopy();
      return v13;
    }
  }
  uint64_t result = sub_299510();
  __break(1u);
  return result;
}

uint64_t sub_FB708@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = enum case for AppResolutionConfirmation.confirmed(_:);
  uint64_t v3 = sub_297730();
  uint64_t v6 = *(void *)(v3 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v6 + 104))(a1, v2, v3);
  uint64_t v4 = *(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v6 + 56);

  return v4(a1, 0, 1, v3);
}

uint64_t PlayMediaAppResolver.resolveBundleIdentifier(for:with:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_71D4(&qword_310D20);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = &v16[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v20 = a1;
  sub_1983C(0, (unint64_t *)&qword_317810);
  sub_2968C0();
  uint64_t v11 = sub_71D4(&qword_30EE88);
  int v12 = (*(uint64_t (**)(unsigned char *, uint64_t, uint64_t))(*(void *)(v11 - 8) + 48))(v10, 1, v11);
  uint64_t v13 = 0x6552657250707061;
  if (v12 == 1)
  {
    uint64_t v13 = 0xD000000000000010;
    uint64_t v14 = 0x80000000002A5820;
  }
  else
  {
    uint64_t v14 = 0xEE006465766C6F73;
  }
  uint64_t v17 = a1;
  uint64_t v18 = v4;
  int64_t v19 = v10;
  sub_100384((uint64_t)"playMediaAppResolutionServiceResolveBundleEverything", 52, 2, a2, a3, (uint64_t)"name=%{signpost.telemetry:string1,public}@ enableTelemetry=YES ", 63, 2, v13, v14, (void (*)(uint64_t (*)(), uint64_t))sub_FCCC0, (uint64_t)v16);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v10, &qword_310D20);
}

void sub_FB9A8(void (*a1)(void), uint64_t a2, void *a3, void *a4, uint64_t a5)
{
  uint64_t v171 = a5;
  uint64_t v173 = a2;
  uint64_t v8 = type metadata accessor for BundleResolutionResult();
  __chkstk_darwin(v8);
  uint64_t v166 = (uint64_t *)((char *)&v149 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v10 = sub_71D4(&qword_310D20);
  __chkstk_darwin(v10 - 8);
  int v12 = (uint64_t *)((char *)&v149 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v177 = sub_71D4(&qword_30EE88);
  uint64_t v170 = *(void (**)(char *, char *, uint64_t))(v177 - 8);
  uint64_t v13 = __chkstk_darwin(v177);
  uint64_t v156 = (char *)&v149 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v155 = (uint64_t *)((char *)&v149 - v16);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v159 = (uint64_t)&v149 - v18;
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v160 = (uint64_t)&v149 - v20;
  uint64_t v21 = __chkstk_darwin(v19);
  unint64_t v158 = (objc_class **)((char *)&v149 - v22);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v167 = (uint64_t)&v149 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v168 = (uint64_t *)((char *)&v149 - v26);
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v157 = ((char *)&v149 - v28);
  __chkstk_darwin(v27);
  unint64_t v172 = (uint64_t *)((char *)&v149 - v29);
  uint64_t v30 = sub_298800();
  uint64_t v31 = *(char **)(v30 - 8);
  uint64_t v32 = __chkstk_darwin(v30);
  id v154 = (char *)&v149 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = __chkstk_darwin(v32);
  uint64_t v169 = (char *)&v149 - v35;
  __chkstk_darwin(v34);
  uint64_t v37 = (char *)&v149 - v36;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v38 = sub_6E60(v30, (uint64_t)qword_31FC08);
  uint64_t v39 = (void (*)(char *, uint64_t, uint64_t))*((void *)v31 + 2);
  uint64_t v162 = v38;
  uint64_t v164 = v31 + 16;
  uint64_t v163 = v39;
  ((void (*)(char *))v39)(v37);
  id v40 = a3;
  swift_retain_n();
  id v41 = v40;
  uint64_t v42 = sub_2987E0();
  LODWORD(v161) = sub_298DC0();
  BOOL v43 = os_log_type_enabled(v42, (os_log_type_t)v161);
  id v175 = a1;
  uint64_t v165 = v8;
  uint64_t v174 = v30;
  uint64_t v176 = v31;
  if (!v43)
  {

    swift_release_n();
    uint64_t v161 = (void (*)(char *, uint64_t))*((void *)v31 + 1);
    v161(v37, v30);
    uint64_t v52 = v170;
    uint64_t v51 = v171;
    goto LABEL_26;
  }
  os_log_t v153 = v42;
  uint64_t v44 = swift_slowAlloc();
  uint64_t v45 = swift_slowAlloc();
  uint64_t v178 = v45;
  *(_DWORD *)uint64_t v44 = 136447234;
  id v46 = [v41 launchId];
  id v151 = a4;
  if (v46)
  {
    uint64_t v47 = v46;
    uint64_t v48 = sub_2989C0();
    uint64_t v50 = v49;
  }
  else
  {
    uint64_t v48 = 0;
    uint64_t v50 = 0;
  }
  uint64_t v181 = (void *)v48;
  id v182 = v50;
  sub_71D4((uint64_t *)&unk_313920);
  uint64_t v53 = sub_2989E0();
  uint64_t v181 = (void *)sub_6E98(v53, v54, &v178);
  sub_2992C0();

  swift_bridgeObjectRelease();
  *(_WORD *)(v44 + 12) = 1026;
  char v55 = sub_298E50();

  LODWORD(v181) = v55 & 1;
  sub_2992C0();

  *(_WORD *)(v44 + 18) = 2082;
  id v56 = [v41 mediaSearch];
  uint64_t v57 = v56;
  if (v56)
  {
    uint64_t v58 = [v56 mediaType];
  }
  else
  {
    uint64_t v58 = 0;
  }
  uint64_t v181 = v58;
  LOBYTE(v182) = v57 == 0;
  sub_71D4(&qword_310DF8);
  uint64_t v59 = sub_2989E0();
  uint64_t v181 = (void *)sub_6E98(v59, v60, &v178);
  sub_2992C0();

  swift_bridgeObjectRelease();
  *(_WORD *)(v44 + 28) = 2082;
  id v61 = [v41 privatePlayMediaIntentData];
  uint64_t v62 = v61;
  uint64_t v152 = v45;
  uint64_t v150 = v12;
  if (!v61) {
    goto LABEL_24;
  }
  id v63 = [v61 audioSearchResults];

  if (!v63)
  {
    uint64_t v62 = 0;
    goto LABEL_25;
  }
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v64 = sub_298B50();

  if (!(v64 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v64 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_15;
    }
LABEL_22:
    swift_bridgeObjectRelease();
LABEL_23:
    uint64_t v62 = 0;
LABEL_24:
    id v63 = 0;
    goto LABEL_25;
  }
  swift_bridgeObjectRetain();
  uint64_t v69 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v69) {
    goto LABEL_22;
  }
LABEL_15:
  if ((v64 & 0xC000000000000001) != 0)
  {
    id v65 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v64 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return;
    }
    id v65 = *(id *)(v64 + 32);
  }
  uint64_t v66 = v65;
  swift_bridgeObjectRelease();
  id v67 = [v66 identifier];

  if (!v67) {
    goto LABEL_23;
  }
  uint64_t v62 = (void *)sub_2989C0();
  id v63 = v68;

LABEL_25:
  uint64_t v181 = v62;
  id v182 = v63;
  uint64_t v70 = sub_2989E0();
  uint64_t v181 = (void *)sub_6E98(v70, v71, &v178);
  sub_2992C0();

  swift_bridgeObjectRelease();
  *(_WORD *)(v44 + 38) = 2082;
  a4 = v151;
  uint64_t v72 = (uint64_t)v151 + *(void *)(class metadata base offset for CommonAppResolver + *v151 + 32);
  swift_beginAccess();
  sub_18D5C(v72, (uint64_t)&v181);
  sub_74A4(&v181, v183);
  uint64_t v179 = sub_296BA0();
  uint64_t v180 = v73;
  uint64_t v74 = sub_2989E0();
  unint64_t v76 = v75;
  sub_7184((uint64_t)&v181);
  uint64_t v181 = (void *)sub_6E98(v74, v76, &v178);
  sub_2992C0();
  swift_release_n();
  swift_bridgeObjectRelease();
  os_log_t v77 = v153;
  _os_log_impl(&dword_0, v153, (os_log_type_t)v161, "PlayMediaAppResolver#resolveBundleIdentifier... launchId:%{public}s, appInferred?:%{BOOL,public}d, mediaSearch-type:%{public}s, firstResult-identifier:%{public}s, forceResolveBundleId:%{public}s", (uint8_t *)v44, 0x30u);
  swift_arrayDestroy();
  swift_slowDealloc();
  swift_slowDealloc();

  uint64_t v30 = v174;
  uint64_t v161 = (void (*)(char *, uint64_t))*((void *)v176 + 1);
  v161(v37, v174);
  a1 = v175;
  uint64_t v52 = v170;
  uint64_t v51 = v171;
  int v12 = v150;
LABEL_26:
  sub_11E58(v51, (uint64_t)v12, &qword_310D20);
  if ((*((unsigned int (**)(void *, uint64_t, uint64_t))v52 + 6))(v12, 1, v177) == 1)
  {
    sub_23A44((uint64_t)v12, &qword_310D20);
    uint64_t v78 = (uint64_t)a4 + *(void *)(class metadata base offset for CommonAppResolver + *a4 + 32);
    swift_beginAccess();
    sub_18D5C(v78, (uint64_t)&v181);
    sub_74A4(&v181, v183);
    uint64_t v79 = sub_296BA0();
    if (v80)
    {
      unint64_t v81 = v80;
      uint64_t v82 = v79;
      sub_7184((uint64_t)&v181);
      unint64_t v83 = v154;
      v163(v154, v162, v30);
      swift_bridgeObjectRetain_n();
      id v84 = sub_2987E0();
      os_log_type_t v85 = sub_298DC0();
      if (os_log_type_enabled(v84, v85))
      {
        uint64_t v86 = (uint8_t *)swift_slowAlloc();
        uint64_t v181 = (void *)swift_slowAlloc();
        *(_DWORD *)uint64_t v86 = 136446210;
        swift_bridgeObjectRetain();
        uint64_t v178 = sub_6E98(v82, v81, (uint64_t *)&v181);
        a1 = v175;
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v84, v85, "PlayMediaAppResolver#resolveBundleIdentifier forceResolveBundleId user default present, resolving bundleIdentifier: %{public}s", v86, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v87 = v154;
        uint64_t v88 = v174;
      }
      else
      {

        swift_bridgeObjectRelease_n();
        uint64_t v87 = v83;
        uint64_t v88 = v30;
      }
      v161(v87, v88);
      id v140 = [v41 launchId];
      if (v140)
      {
        id v141 = v140;
        uint64_t v142 = sub_2989C0();
        id v144 = v143;

        v184._countAndFlagsBits = v142;
        v184._object = v144;
        sub_298EC0(v184);
        swift_bridgeObjectRelease();
      }
      uint64_t v145 = (uint64_t)v166;
      uint64_t v146 = (char *)v166 + *(int *)(v177 + 48);
      *uint64_t v166 = v82;
      *(void *)(v145 + 8) = v81;
      uint64_t v147 = enum case for ResolutionResultType.AppSpecifiedByUser(_:);
      uint64_t v148 = sub_296D30();
      (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v148 - 8) + 104))(v146, v147, v148);
      swift_storeEnumTagMultiPayload();
      a1(v145);
      sub_1080B8(v145);
    }
    else
    {
      sub_7184((uint64_t)&v181);
      unint64_t v137 = (void *)swift_allocObject();
      uint64_t v138 = v173;
      v137[2] = a1;
      v137[3] = v138;
      v137[4] = a4;
      v137[5] = v41;
      id v139 = v41;
      swift_retain();
      swift_retain();
      sub_102408(v139, (uint64_t)sub_1080AC, (uint64_t)v137);
      swift_release();
    }
  }
  else
  {
    uint64_t v89 = v177;
    uint64_t v90 = *(int *)(v177 + 48);
    uint64_t v91 = v172;
    uint64_t v92 = (char *)v172 + v90;
    id v93 = (char *)v12 + v90;
    uint64_t v95 = (objc_class *)*v12;
    uint64_t v94 = (objc_class *)v12[1];
    *unint64_t v172 = *v12;
    v91[1] = v94;
    uint64_t v96 = sub_296D30();
    uint64_t v97 = *(void *)(v96 - 8);
    uint64_t v98 = *(NSObject **)(v97 + 32);
    id v154 = (char *)(v97 + 32);
    os_log_t v153 = v98;
    ((void (*)(char *, char *, uint64_t))v98)(v92, v93, v96);
    v163(v169, v162, v30);
    uint64_t v99 = v157;
    uint64_t v100 = (char *)v157 + *(int *)(v89 + 48);
    v157->Class isa = v95;
    v99[1].Class isa = v94;
    uint64_t v171 = v97;
    uint64_t v101 = *(void (**)(char *, char *, uint64_t))(v97 + 16);
    v101(v100, v92, v96);
    sub_11E58((uint64_t)v99, (uint64_t)v168, &qword_30EE88);
    sub_108114((uint64_t)v99, v167);
    uint64_t v102 = *(int *)(v89 + 48);
    uint64_t v103 = (uint64_t)v158;
    uint64_t v104 = (char *)v158 + v102;
    uint64_t v162 = (uint64_t)v95;
    *unint64_t v158 = v95;
    *(void *)(v103 + 8) = v94;
    uint64_t v163 = (void (*)(char *, uint64_t, uint64_t))v92;
    uint64_t v152 = v96;
    uint64_t v170 = v101;
    uint64_t v164 = (char *)(v97 + 16);
    v101(v104, v92, v96);
    uint64_t v105 = v160;
    sub_11E58(v103, v160, &qword_30EE88);
    uint64_t v106 = v159;
    sub_108114(v103, v159);
    unint64_t v158 = (objc_class **)v94;
    swift_bridgeObjectRetain_n();
    uint64_t v107 = sub_2987E0();
    os_log_type_t v108 = sub_298DC0();
    int v109 = v108;
    uint64_t v157 = v107;
    if (os_log_type_enabled(v107, v108))
    {
      uint64_t v110 = swift_slowAlloc();
      id v151 = (void *)swift_slowAlloc();
      uint64_t v181 = v151;
      *(_DWORD *)uint64_t v110 = 136446466;
      uint64_t v149 = v110 + 4;
      uint64_t v111 = *(int *)(v177 + 48);
      uint64_t v112 = (char *)v155;
      uint64_t v113 = (char *)v155 + v111;
      uint64_t v114 = v168;
      uint64_t v115 = (char *)v168 + v111;
      uint64_t v117 = *v168;
      unint64_t v116 = v168[1];
      id v118 = v155;
      char *v155 = *v168;
      *((void *)v112 + 1) = v116;
      uint64_t v119 = v152;
      LODWORD(v150) = v109;
      char v120 = (void (*)(char *, uint64_t, uint64_t))v170;
      v170(&v112[v111], v115, v152);
      id v121 = *(void (**)(char *, uint64_t))(v171 + 8);
      swift_bridgeObjectRetain();
      v121(v113, v119);
      uint64_t v179 = sub_6E98(v117, v116, (uint64_t *)&v181);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_23A44(v167, &qword_30EE88);
      sub_23A44((uint64_t)v114, &qword_30EE88);
      *(_WORD *)(v110 + 12) = 2082;
      uint64_t v122 = v160;
      v120((char *)v118 + *(int *)(v177 + 48), v160 + *(int *)(v177 + 48), v119);
      uint64_t v123 = sub_2989E0();
      uint64_t v179 = sub_6E98(v123, v124, (uint64_t *)&v181);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_23A44(v159, &qword_30EE88);
      sub_23A44(v122, &qword_30EE88);
      uint64_t v125 = v157;
      _os_log_impl(&dword_0, v157, (os_log_type_t)v150, "PlayMediaAppResolver#resolveBundleIdentifier app resolution ran previously, re-using those results and returning bundleIdentifier: %{public}s, resolutionResult: %{public}s", (uint8_t *)v110, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v161(v169, v174);
      char v126 = (uint64_t *)v156;
      uint64_t v127 = v119;
    }
    else
    {
      sub_23A44(v167, &qword_30EE88);
      sub_23A44((uint64_t)v168, &qword_30EE88);
      sub_23A44(v106, &qword_30EE88);
      sub_23A44(v105, &qword_30EE88);

      v161(v169, v174);
      id v118 = v155;
      char v126 = (uint64_t *)v156;
      uint64_t v127 = v152;
    }
    uint64_t v128 = v177;
    uint64_t v129 = *(int *)(v177 + 48);
    unint64_t v130 = v166;
    id v131 = (char *)v166 + v129;
    uint64_t v176 = (char *)v118 + v129;
    uint64_t v132 = v162;
    id v133 = v158;
    uint64_t *v118 = v162;
    v118[1] = (uint64_t)v133;
    id v134 = v163;
    unint64_t v135 = v170;
    ((void (*)(void))v170)();
    uint64_t *v130 = v132;
    v130[1] = (uint64_t)v133;
    unint64_t v136 = (char *)v126 + *(int *)(v128 + 48);
    *char v126 = v132;
    v126[1] = (uint64_t)v133;
    v135(v136, (char *)v134, v127);
    ((void (*)(char *, char *, uint64_t))v153)(v131, v136, v127);
    swift_storeEnumTagMultiPayload();
    v175(v130);
    sub_1080B8((uint64_t)v130);
    sub_23A44((uint64_t)v172, &qword_30EE88);
    (*(void (**)(char *, uint64_t))(v171 + 8))(v176, v127);
  }
}

void sub_FCCC0(void (*a1)(void), uint64_t a2)
{
  sub_FB9A8(a1, a2, *(void **)(v2 + 16), *(void **)(v2 + 24), *(void *)(v2 + 32));
}

uint64_t sub_FCCCC(uint64_t a1, void (*a2)(void), uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v38 = a4;
  uint64_t v39 = a5;
  uint64_t v40 = sub_2987D0();
  uint64_t v37 = *(void *)(v40 - 8);
  uint64_t v8 = *(void *)(v37 + 64);
  uint64_t v9 = __chkstk_darwin(v40);
  uint64_t v10 = (char *)&v35 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v36 = (char *)&v35 - v11;
  uint64_t v12 = sub_71D4(&qword_310DB0);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v35 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for BundleResolutionResult();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v35 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_11E58(a1, (uint64_t)v14, &qword_310DB0);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v16 + 48))(v14, 1, v15) == 1)
  {
    uint64_t v19 = a2;
    uint64_t v35 = a3;
    sub_23A44((uint64_t)v14, &qword_310DB0);
    if (qword_30C890 != -1) {
      swift_once();
    }
    id v20 = (id)qword_31FCE0;
    uint64_t v21 = v36;
    sub_2987B0();
    uint64_t v22 = v37;
    uint64_t v23 = v40;
    (*(void (**)(char *, char *, uint64_t))(v37 + 16))(v10, v21, v40);
    unint64_t v24 = (*(unsigned __int8 *)(v22 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v22 + 80);
    unint64_t v25 = (v8 + v24 + 7) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v26 = swift_allocObject();
    *(void *)(v26 + 16) = "playMediaAppResolutionServiceResolveBundle";
    *(void *)(v26 + 24) = 42;
    *(unsigned char *)(v26 + 32) = 2;
    (*(void (**)(unint64_t, char *, uint64_t))(v22 + 32))(v26 + v24, v10, v23);
    uint64_t v27 = (void *)(v26 + v25);
    uint64_t v28 = v35;
    *uint64_t v27 = v19;
    v27[1] = v28;
    swift_retain();
    sub_299100();
    sub_298790();
    uint64_t v29 = swift_allocObject();
    *(void *)(v29 + 16) = sub_48828;
    *(void *)(v29 + 24) = v26;
    uint64_t v30 = v38;
    sub_74A4((void *)(v38 + qword_310D28), *(void *)(v38 + qword_310D28 + 24));
    uint64_t v31 = (void *)swift_allocObject();
    uint64_t v32 = v39;
    _OWORD v31[2] = v30;
    v31[3] = v32;
    v31[4] = sub_48814;
    void v31[5] = v29;
    swift_retain();
    swift_retain();
    id v33 = v32;
    swift_retain();
    sub_297200();
    swift_release();
    swift_release();
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v22 + 8))(v21, v40);
  }
  else
  {
    sub_1081D4((uint64_t)v14, (uint64_t)v18);
    a2(v18);
    return sub_1080B8((uint64_t)v18);
  }
}

uint64_t sub_FD128(uint64_t a1, void *a2, void *a3, void (*a4)(uint64_t), uint64_t a5)
{
  uint64_t v125 = a5;
  uint64_t v119 = a4;
  id v120 = a3;
  uint64_t v122 = a2;
  uint64_t v6 = sub_2970E0();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v106 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v113 = (void (*)(char *, uint64_t))type metadata accessor for BundleResolutionResult();
  __chkstk_darwin(v113);
  uint64_t v112 = (uint64_t *)((char *)&v106 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v121 = sub_2971C0();
  uint64_t v11 = *(void *)(v121 - 8);
  uint64_t v12 = __chkstk_darwin(v121);
  uint64_t v14 = (char *)&v106 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = __chkstk_darwin(v12);
  uint64_t v114 = (char *)&v106 - v16;
  uint64_t v117 = v17;
  __chkstk_darwin(v15);
  uint64_t v111 = (char *)&v106 - v18;
  uint64_t v124 = sub_298800();
  uint64_t v123 = *(void **)(v124 - 8);
  uint64_t v19 = __chkstk_darwin(v124);
  uint64_t v21 = (char *)&v106 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = __chkstk_darwin(v19);
  uint64_t v110 = (char *)&v106 - v23;
  __chkstk_darwin(v22);
  unint64_t v25 = (char *)&v106 - v24;
  id v118 = (char *)sub_2971A0();
  if (v26)
  {
    unint64_t v27 = v26;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v28 = v124;
    uint64_t v29 = sub_6E60(v124, (uint64_t)qword_31FC08);
    uint64_t v30 = v123;
    uint64_t v31 = (void (*)(char *, uint64_t, uint64_t))v123[2];
    uint64_t v108 = v29;
    int v109 = v123 + 2;
    uint64_t v107 = v31;
    ((void (*)(char *))v31)(v25);
    swift_bridgeObjectRetain_n();
    uint64_t v32 = sub_2987E0();
    os_log_type_t v33 = sub_298DC0();
    BOOL v34 = os_log_type_enabled(v32, v33);
    uint64_t v116 = v11;
    uint64_t v115 = a1;
    if (v34)
    {
      uint64_t v35 = swift_slowAlloc();
      uint64_t v130 = swift_slowAlloc();
      *(_DWORD *)uint64_t v35 = 136446466;
      uint64_t v36 = sub_2973D0();
      uint64_t v129 = sub_6E98(v36, v37, &v130);
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v35 + 12) = 2082;
      swift_bridgeObjectRetain();
      uint64_t v38 = (uint64_t)v118;
      uint64_t v129 = sub_6E98((uint64_t)v118, v27, &v130);
      uint64_t v39 = v124;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v32, v33, "PlayMediaAppResolver#resolveBundleIdentifier %{public}s app selection resolved bundle: %{public}s", (uint8_t *)v35, 0x16u);
      swift_arrayDestroy();
      uint64_t v11 = v116;
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v40 = (void (*)(char *, uint64_t))v123[1];
      v40(v25, v39);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      uint64_t v40 = (void (*)(char *, uint64_t))v30[1];
      v40(v25, v28);
      uint64_t v38 = (uint64_t)v118;
    }
    char v61 = sub_296520();
    id v62 = v120;
    if ((v61 & 1) == 0)
    {
      sub_71D4(&qword_30EE88);
      uint64_t v78 = (uint64_t)v112;
      *uint64_t v112 = v38;
      *(void *)(v78 + 8) = v27;
      sub_297190();
      swift_storeEnumTagMultiPayload();
      v119(v78);
      return sub_1080B8(v78);
    }
    uint64_t v113 = v40;
    uint64_t v63 = v38;
    unint64_t v64 = *(void (**)(char *, uint64_t, uint64_t))(v11 + 16);
    id v65 = v111;
    uint64_t v66 = v121;
    v64(v111, v115, v121);
    v64(v114, (uint64_t)v65, v66);
    unint64_t v67 = (*(unsigned __int8 *)(v11 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
    uint64_t v68 = (char *)swift_allocObject();
    *((void *)v68 + 2) = v122;
    *((void *)v68 + 3) = v63;
    uint64_t v69 = v119;
    *((void *)v68 + 4) = v27;
    *((void *)v68 + 5) = v69;
    *((void *)v68 + 6) = v125;
    uint64_t v70 = v65;
    unint64_t v71 = v62;
    (*(void (**)(char *, char *, uint64_t))(v11 + 32))(&v68[v67], v70, v66);
    swift_retain_n();
    swift_retain_n();
    uint64_t v72 = v27;
    swift_bridgeObjectRetain();
    id v73 = [v62 privatePlayMediaIntentData];
    if (v73)
    {
      uint64_t v74 = v73;
      uint64_t v75 = (uint64_t)v69;
      id v76 = [v73 audioSearchResults];

      if (v76)
      {
        sub_1983C(0, (unint64_t *)&qword_30D4E8);
        os_log_t v77 = (void *)sub_298B50();

        goto LABEL_23;
      }
    }
    else
    {
      uint64_t v75 = (uint64_t)v69;
    }
    os_log_t v77 = 0;
LABEL_23:
    if ((_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(v62, (uint64_t)&off_2F4508) & 1) != 0&& sub_100D54())
    {
      v107(v110, v108, v124);
      uint64_t v88 = sub_2987E0();
      os_log_type_t v89 = sub_298DA0();
      if (os_log_type_enabled(v88, v89))
      {
        uint64_t v90 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v90 = 0;
        _os_log_impl(&dword_0, v88, v89, "PlayMediaAppResolver#determineFirstPartyBundleIdentifier we have signal from search results to consider using Classical for playback", v90, 2u);
        swift_slowDealloc();
      }

      v113(v110, v124);
      uint64_t v91 = v122;
      sub_74A4((void *)((char *)v122 + qword_310D48), *(void *)((char *)v122 + qword_310D48 + 24));
      uint64_t v92 = (void *)swift_allocObject();
      v92[2] = v91;
      v92[3] = sub_1085C0;
      v92[4] = v68;
      v92[5] = v71;
      v92[6] = v77;
      swift_retain();
      swift_retain();
      id v93 = v71;
      sub_296A70();
      swift_release();
      swift_release();
      swift_release();
      uint64_t v94 = (uint64_t)v114;
    }
    else
    {
      v131.value._rawValue = v77;
      v131.is_nil = 0;
      uint64_t v95 = sub_2991F0(v131, v87);
      uint64_t v97 = v96;
      swift_bridgeObjectRelease();
      uint64_t v94 = (uint64_t)v114;
      sub_FED60(v95, v97, v122, (uint64_t)v118, v72, v75, v125, (uint64_t)v114);
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
    }
    swift_release();
    swift_bridgeObjectRelease();
    return (*(uint64_t (**)(uint64_t, uint64_t))(v116 + 8))(v94, v121);
  }
  uint64_t v114 = (char *)v7;
  id v118 = v14;
  if (sub_2971B0())
  {
    uint64_t v115 = a1;
    uint64_t v116 = v11;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v41 = v124;
    uint64_t v42 = sub_6E60(v124, (uint64_t)qword_31FC08);
    BOOL v43 = v123;
    ((void (*)(char *, uint64_t, uint64_t))v123[2])(v21, v42, v41);
    uint64_t v44 = sub_2987E0();
    os_log_type_t v45 = sub_298DC0();
    id v46 = (void (*)(void, void))v6;
    if (os_log_type_enabled(v44, v45))
    {
      uint64_t v113 = (void (*)(char *, uint64_t))v6;
      uint64_t v47 = (uint8_t *)swift_slowAlloc();
      uint64_t v130 = swift_slowAlloc();
      *(_DWORD *)uint64_t v47 = 136446210;
      uint64_t v112 = (uint64_t *)(v47 + 4);
      uint64_t v48 = sub_2973D0();
      uint64_t v129 = sub_6E98(v48, v49, &v130);
      sub_2992C0();
      id v46 = (void (*)(void, void))v113;
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v44, v45, "PlayMediaAppResolver#resolveBundleIdentifier %{public}s app selection attempted but no bundle returned... disambiguating", v47, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v43[1])(v21, v41);
    uint64_t v50 = (uint64_t)v120;
    uint64_t v51 = (uint64_t)v114;
    uint64_t v52 = v122;
    uint64_t v53 = (void *)((char *)v122 + *(void *)(class metadata base offset for CommonAppResolver + *v122 + 48));
    uint64_t v124 = v53[3];
    id v120 = (id)v53[4];
    uint64_t v123 = sub_74A4(v53, v124);
    sub_1983C(0, (unint64_t *)&qword_317810);
    uint64_t v130 = v50;
    (*(void (**)(char *, void, void (*)(void, void)))(v51 + 104))(v9, enum case for AcceptedSpeakerIdConfidence.executeOnCompanionConfidence(_:), v46);
    sub_2972A0();
    (*(void (**)(char *, void))(v51 + 8))(v9, v46);
    uint64_t v54 = v116;
    uint64_t v55 = (uint64_t)v118;
    uint64_t v56 = v121;
    (*(void (**)(char *, uint64_t, uint64_t))(v116 + 16))(v118, v115, v121);
    unint64_t v57 = (*(unsigned __int8 *)(v54 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v54 + 80);
    uint64_t v58 = (char *)swift_allocObject();
    uint64_t v59 = v119;
    *((void *)v58 + 2) = v52;
    *((void *)v58 + 3) = v59;
    *((void *)v58 + 4) = v125;
    (*(void (**)(char *, uint64_t, uint64_t))(v54 + 32))(&v58[v57], v55, v56);
    swift_retain();
    swift_retain();
    sub_296DF0();
    swift_release();
    return swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v79 = a1;
    unint64_t v80 = v122;
    sub_18D5C((uint64_t)v122 + *(void *)(class metadata base offset for CommonAppResolver + *v122 + 40), (uint64_t)&v130);
    sub_18D5C((uint64_t)v80 + *(void *)(class metadata base offset for CommonAppResolver + *v80 + 24), (uint64_t)&v129);
    uint64_t v81 = (uint64_t)v80 + *(void *)(class metadata base offset for CommonAppResolver + *v80 + 32);
    swift_beginAccess();
    sub_18D5C(v81, (uint64_t)v128);
    id v82 = [v120 privatePlayMediaIntentData];
    unint64_t v83 = v82;
    uint64_t v84 = (uint64_t)v118;
    if (v82)
    {
      id v85 = [v82 audioSearchResults];

      uint64_t v86 = v119;
      if (v85)
      {
        sub_1983C(0, (unint64_t *)&qword_30D4E8);
        sub_298B50();
      }
    }
    else
    {
      uint64_t v86 = v119;
    }
    uint64_t v127 = 0;
    memset(v126, 0, sizeof(v126));
    uint64_t v98 = v121;
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v11 + 16))(v84, v79, v121);
    unint64_t v99 = (*(unsigned __int8 *)(v11 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
    unint64_t v100 = (v117 + v99 + 7) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v101 = swift_allocObject();
    uint64_t v102 = v84;
    uint64_t v103 = v101;
    (*(void (**)(unint64_t, uint64_t, uint64_t))(v11 + 32))(v101 + v99, v102, v98);
    uint64_t v104 = (void (**)(uint64_t))(v103 + v100);
    uint64_t v105 = v125;
    *uint64_t v104 = v86;
    v104[1] = (void (*)(uint64_t))v105;
    swift_retain();
    sub_2991D0();
    swift_release();
    swift_bridgeObjectRelease();
    sub_23A44((uint64_t)v126, &qword_30EE90);
    sub_7184((uint64_t)v128);
    sub_7184((uint64_t)&v129);
    return sub_7184((uint64_t)&v130);
  }
}

uint64_t sub_FE110(uint64_t a1, uint64_t a2, void (*a3)(uint64_t), uint64_t a4, uint64_t a5)
{
  uint64_t v64 = a5;
  uint64_t v65 = a4;
  uint64_t v66 = a3;
  uint64_t v59 = a2;
  uint64_t v63 = type metadata accessor for BundleResolutionResult();
  __chkstk_darwin(v63);
  id v62 = (uint64_t *)((char *)&v53 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v7 = sub_296F70();
  uint64_t v60 = *(void *)(v7 - 8);
  uint64_t v61 = v7;
  __chkstk_darwin(v7);
  uint64_t v58 = (char *)&v53 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v56 = sub_2966D0();
  uint64_t v55 = *(void *)(v56 - 8);
  __chkstk_darwin(v56);
  uint64_t v53 = (char *)&v53 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30E450);
  __chkstk_darwin(v10 - 8);
  unint64_t v57 = (char *)&v53 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_295F80();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v53 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298800();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v20 = (char *)&v53 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v21 = *(void *)(a1 + 16);
  uint64_t v22 = _swiftEmptyArrayStorage;
  unint64_t v67 = v20;
  uint64_t v68 = v18;
  if (v21)
  {
    uint64_t v54 = v17;
    v73[0] = (uint64_t)_swiftEmptyArrayStorage;
    sub_F7E50(0, v21, 0);
    uint64_t v24 = *(void (**)(char *, uint64_t, uint64_t))(v13 + 16);
    uint64_t v23 = v13 + 16;
    uint64_t v25 = a1 + ((*(unsigned __int8 *)(v23 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v23 + 64));
    uint64_t v69 = *(void *)(v23 + 56);
    uint64_t v70 = v24;
    uint64_t v71 = v23;
    do
    {
      v70(v15, v25, v12);
      uint64_t v26 = sub_295F60();
      uint64_t v28 = v27;
      (*(void (**)(char *, uint64_t))(v23 - 8))(v15, v12);
      uint64_t v22 = (void *)v73[0];
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_F7E50(0, v22[2] + 1, 1);
        uint64_t v22 = (void *)v73[0];
      }
      unint64_t v30 = v22[2];
      unint64_t v29 = v22[3];
      if (v30 >= v29 >> 1)
      {
        sub_F7E50(v29 > 1, v30 + 1, 1);
        uint64_t v22 = (void *)v73[0];
      }
      void v22[2] = v30 + 1;
      uint64_t v31 = &v22[2 * v30];
      v31[4] = v26;
      void v31[5] = v28;
      v25 += v69;
      --v21;
    }
    while (v21);
    uint64_t v20 = v67;
    uint64_t v16 = v68;
    uint64_t v17 = v54;
  }
  v73[0] = (uint64_t)v22;
  sub_105840();
  uint64_t v32 = v73[0];
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v33 = sub_6E60(v16, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v20, v33, v16);
  swift_retain_n();
  BOOL v34 = sub_2987E0();
  os_log_type_t v35 = sub_298DC0();
  if (os_log_type_enabled(v34, v35))
  {
    uint64_t v36 = (uint8_t *)swift_slowAlloc();
    v73[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v36 = 136315138;
    swift_retain();
    uint64_t v37 = sub_298B60();
    unint64_t v39 = v38;
    swift_release();
    uint64_t v72 = sub_6E98(v37, v39, v73);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v34, v35, "PlayMediaAppResolutionService#resolveBundleIdentifier disambiguating apps: %s", v36, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v17 + 8))(v67, v68);
  }
  else
  {

    swift_release_n();
    (*(void (**)(char *, uint64_t))(v17 + 8))(v20, v16);
  }
  uint64_t v40 = (uint64_t)v57;
  sub_296820();
  uint64_t v41 = (unsigned int *)&enum case for DisambiguateItemsReason.predictionUncertainty(_:);
  if (sub_296810())
  {
    sub_2967F0();
    swift_release();
    uint64_t v42 = v55;
    uint64_t v43 = v56;
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v55 + 48))(v40, 1, v56))
    {
      sub_23A44(v40, &qword_30E450);
    }
    else
    {
      uint64_t v44 = v53;
      (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v53, v40, v43);
      sub_23A44(v40, &qword_30E450);
      uint64_t v45 = v43;
      char v46 = sub_2966B0();
      (*(void (**)(char *, uint64_t))(v42 + 8))(v44, v45);
      if (v46) {
        uint64_t v41 = (unsigned int *)&enum case for DisambiguateItemsReason.newUser(_:);
      }
    }
  }
  sub_18D5C(v59 + qword_310D28, (uint64_t)v73);
  sub_74A4(v73, v73[3]);
  uint64_t v47 = v60;
  uint64_t v48 = *v41;
  unint64_t v49 = v58;
  uint64_t v50 = v61;
  (*(void (**)(char *, uint64_t, uint64_t))(v60 + 104))(v58, v48, v61);
  sub_2971F0();
  (*(void (**)(char *, uint64_t))(v47 + 8))(v49, v50);
  sub_7184((uint64_t)v73);
  sub_71D4(&qword_310DB8);
  uint64_t v51 = (uint64_t)v62;
  *id v62 = v32;
  sub_297190();
  swift_storeEnumTagMultiPayload();
  v66(v51);
  return sub_1080B8(v51);
}

uint64_t sub_FE8B4(uint64_t a1, unint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t *), uint64_t a6)
{
  uint64_t v41 = a6;
  uint64_t v42 = a5;
  uint64_t v44 = a3;
  uint64_t v43 = type metadata accessor for BundleResolutionResult();
  __chkstk_darwin(v43);
  uint64_t v10 = (uint64_t *)((char *)&v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v11 = sub_2971C0();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v33 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v33 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v40 = a1;
  uint64_t v19 = sub_6E60(v15, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v19, v15);
  (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v14, a4, v11);
  swift_bridgeObjectRetain_n();
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298DC0();
  unint64_t v39 = v20;
  int v38 = v21;
  BOOL v22 = os_log_type_enabled(v20, v21);
  uint64_t v23 = v11;
  if (v22)
  {
    uint64_t v24 = swift_slowAlloc();
    uint64_t v35 = swift_slowAlloc();
    uint64_t v46 = v35;
    *(_DWORD *)uint64_t v24 = 136446722;
    uint64_t v37 = v18;
    uint64_t v25 = sub_2973D0();
    uint64_t v36 = v15;
    uint64_t v45 = sub_6E98(v25, v26, &v46);
    uint64_t v34 = v23;
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v24 + 12) = 2082;
    swift_bridgeObjectRetain();
    uint64_t v27 = v40;
    uint64_t v45 = sub_6E98(v40, a2, &v46);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v24 + 22) = 1026;
    int v28 = sub_2971B0() & 1;
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v34);
    LODWORD(v45) = v28;
    sub_2992C0();
    unint64_t v29 = v39;
    _os_log_impl(&dword_0, v39, (os_log_type_t)v38, "PlayMediaAppResolver#resolveBundleIdentifier %{public}s using inferred bundle: %{public}s, attempted app selection?: %{BOOL,public}d", (uint8_t *)v24, 0x1Cu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v16 + 8))(v37, v36);
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);

    swift_bridgeObjectRelease_n();
    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
    uint64_t v27 = v40;
  }
  unint64_t v30 = (char *)v10 + *(int *)(sub_71D4(&qword_30EE88) + 48);
  *uint64_t v10 = v27;
  v10[1] = a2;
  uint64_t v31 = sub_296D30();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v31 - 8) + 16))(v30, v44, v31);
  swift_storeEnumTagMultiPayload();
  swift_bridgeObjectRetain();
  v42(v10);
  return sub_1080B8((uint64_t)v10);
}

uint64_t sub_FED60(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v64 = a8;
  uint64_t v70 = a6;
  uint64_t v71 = a7;
  uint64_t v68 = a4;
  uint64_t v69 = sub_2971C0();
  uint64_t v66 = *(void *)(v69 - 8);
  __chkstk_darwin(v69);
  uint64_t v65 = v12;
  unint64_t v67 = (char *)&v57 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_298800();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v57 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v57 - v18;
  uint64_t v20 = swift_allocObject();
  *(void *)(v20 + 16) = a1;
  uint64_t v62 = v20 + 16;
  *(void *)(v20 + 24) = a2;
  swift_bridgeObjectRetain_n();
  uint64_t v21 = sub_2965B0();
  uint64_t v59 = a5;
  if (v21 == a1 && v22 == a2)
  {
    swift_bridgeObjectRelease_n();
  }
  else
  {
    char v23 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    int v24 = 0;
    if ((v23 & 1) == 0) {
      goto LABEL_13;
    }
  }
  uint64_t v25 = (uint64_t)a3 + *(void *)(class metadata base offset for CommonAppResolver + *a3 + 32);
  swift_beginAccess();
  sub_18D5C(v25, (uint64_t)v72);
  sub_74A4(v72, v72[3]);
  uint64_t v26 = sub_296BE0();
  if (v27)
  {
    uint64_t v28 = v26;
    unint64_t v29 = v27;
    uint64_t v60 = (uint64_t)v17;
    uint64_t v61 = (void *)v20;
    uint64_t v63 = a3;
    sub_7184((uint64_t)v72);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v30 = sub_6E60(v13, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v19, v30, v13);
    swift_bridgeObjectRetain_n();
    uint64_t v31 = sub_2987E0();
    uint64_t v32 = v13;
    os_log_type_t v33 = sub_298DA0();
    if (os_log_type_enabled(v31, v33))
    {
      uint64_t v34 = (uint8_t *)swift_slowAlloc();
      v72[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v34 = 136315138;
      uint64_t v58 = v34 + 4;
      swift_bridgeObjectRetain();
      v73[0] = sub_6E98(v28, v29, v72);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v31, v33, "PlayMediaAppResolver#resolveBundleIdentifier using overriden Classical Bundle ID (%s)", v34, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v14 + 8))(v19, v32);
    a5 = v59;
    uint64_t v13 = v32;
    uint64_t v20 = (uint64_t)v61;
    void v61[2] = v28;
    *(void *)(v20 + 24) = v29;
    swift_bridgeObjectRelease();
    int v24 = 1;
    a3 = v63;
    uint64_t v17 = (char *)v60;
  }
  else
  {
    sub_7184((uint64_t)v72);
    int v24 = 1;
  }
LABEL_13:
  LODWORD(v63) = v24;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v35 = sub_6E60(v13, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v17, v35, v13);
  swift_retain_n();
  uint64_t v36 = sub_2987E0();
  os_log_type_t v37 = sub_298DC0();
  if (os_log_type_enabled(v36, v37))
  {
    uint64_t v38 = swift_slowAlloc();
    uint64_t v39 = swift_slowAlloc();
    uint64_t v60 = v14;
    uint64_t v61 = (void *)v13;
    uint64_t v58 = (uint8_t *)v39;
    v73[0] = v39;
    *(_DWORD *)uint64_t v38 = 136446466;
    uint64_t v40 = sub_2973D0();
    v72[0] = sub_6E98(v40, v41, v73);
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v38 + 12) = 2082;
    swift_beginAccess();
    uint64_t v42 = *(void *)(v20 + 16);
    unint64_t v43 = *(void *)(v20 + 24);
    swift_bridgeObjectRetain();
    v72[5] = sub_6E98(v42, v43, v73);
    sub_2992C0();
    uint64_t v44 = v20;
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v36, v37, "PlayMediaAppResolver#resolveBundleIdentifier %{public}s overriding with internal bundle: %{public}s", (uint8_t *)v38, 0x16u);
    swift_arrayDestroy();
    uint64_t v45 = v59;
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, void *))(v60 + 8))(v17, v61);
  }
  else
  {

    swift_release_n();
    (*(void (**)(char *, uint64_t))(v14 + 8))(v17, v13);
    uint64_t v44 = v20;
    uint64_t v45 = a5;
  }
  uint64_t v46 = (void *)((char *)a3 + *(void *)(class metadata base offset for CommonAppResolver + *a3 + 48));
  uint64_t v47 = v46[3];
  uint64_t v62 = v46[4];
  uint64_t v61 = sub_74A4(v46, v47);
  uint64_t v60 = sub_1983C(0, (unint64_t *)&qword_317810);
  uint64_t v49 = v66;
  uint64_t v48 = v67;
  uint64_t v50 = v69;
  (*(void (**)(char *, uint64_t, uint64_t))(v66 + 16))(v67, v64, v69);
  uint64_t v51 = a3;
  unint64_t v52 = (*(unsigned __int8 *)(v49 + 80) + 72) & ~(unint64_t)*(unsigned __int8 *)(v49 + 80);
  uint64_t v53 = swift_allocObject();
  *(void *)(v53 + 16) = v44;
  *(unsigned char *)(v53 + 24) = (_BYTE)v63;
  *(void *)(v53 + 32) = v68;
  *(void *)(v53 + 40) = v45;
  uint64_t v54 = v70;
  uint64_t v55 = v71;
  *(void *)(v53 + 48) = v51;
  *(void *)(v53 + 56) = v54;
  *(void *)(v53 + 64) = v55;
  (*(void (**)(unint64_t, char *, uint64_t))(v49 + 32))(v53 + v52, v48, v50);
  swift_retain();
  swift_bridgeObjectRetain();
  swift_retain();
  swift_retain();
  sub_296E00();
  swift_release();
  return swift_release();
}

uint64_t sub_FF5B8(uint64_t a1, uint64_t a2, int a3, uint64_t a4, unint64_t a5, uint64_t a6, void (*a7)(void *), uint64_t a8)
{
  uint64_t v114 = a8;
  uint64_t v115 = a7;
  uint64_t v108 = a6;
  unint64_t v112 = a5;
  uint64_t v105 = a4;
  uint64_t v111 = sub_296F70();
  uint64_t v110 = *(void *)(v111 - 8);
  __chkstk_darwin(v111);
  int v109 = &v101[-((v11 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v113 = type metadata accessor for BundleResolutionResult();
  __chkstk_darwin(v113);
  uint64_t v13 = &v101[-((v12 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v123 = sub_298800();
  uint64_t v119 = *(void *)(v123 - 8);
  uint64_t v14 = __chkstk_darwin(v123);
  uint64_t v117 = &v101[-((v15 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v107 = &v101[-v17];
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v121 = &v101[-v19];
  __chkstk_darwin(v18);
  uint64_t v106 = &v101[-v20];
  uint64_t v21 = sub_295F80();
  uint64_t v22 = *(void *)(v21 - 8);
  uint64_t v23 = __chkstk_darwin(v21);
  char v126 = &v101[-((v24 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v23);
  uint64_t v26 = &v101[-v25];
  uint64_t v122 = a2 + 16;
  uint64_t v27 = *(void *)(a1 + 16);
  uint64_t v118 = a2;
  id v120 = v13;
  uint64_t v116 = a1;
  if (v27)
  {
    int v102 = a3;
    uint64_t v104 = v22;
    uint64_t v28 = *(void **)(v22 + 16);
    uint64_t v29 = a1 + ((*(unsigned __int8 *)(v22 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v22 + 80));
    uint64_t v124 = *(void *)(v22 + 72);
    uint64_t v125 = v28;
    uint64_t v30 = (void (**)(unsigned char *, uint64_t))(v22 + 8);
    swift_bridgeObjectRetain();
    uint64_t v31 = _swiftEmptyArrayStorage;
    uint64_t v103 = v27;
    uint64_t v32 = v27;
    do
    {
      ((void (*)(unsigned char *, uint64_t, uint64_t))v125)(v26, v29, v21);
      uint64_t v33 = sub_295F60();
      uint64_t v35 = v34;
      (*v30)(v26, v21);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v31 = sub_240EC(0, v31[2] + 1, 1, v31);
      }
      unint64_t v37 = v31[2];
      unint64_t v36 = v31[3];
      uint64_t v38 = v31;
      if (v37 >= v36 >> 1) {
        uint64_t v38 = sub_240EC((void *)(v36 > 1), v37 + 1, 1, v31);
      }
      dispatch_group_t v38[2] = v37 + 1;
      uint64_t v31 = v38;
      uint64_t v39 = &v38[2 * v37];
      v39[4] = v33;
      v39[5] = v35;
      v29 += v124;
      --v32;
    }
    while (v32);
    a1 = v116;
    swift_bridgeObjectRelease();
    uint64_t v13 = v120;
    a2 = v118;
    uint64_t v22 = v104;
    uint64_t v27 = v103;
    LOBYTE(a3) = v102;
  }
  else
  {
    uint64_t v31 = _swiftEmptyArrayStorage;
  }
  swift_beginAccess();
  char v40 = sub_B15E8(*(void *)(a2 + 16), *(void *)(a2 + 24), v31);
  unsigned __int8 v131 = v40 & 1;
  uint64_t v125 = v31;
  if ((a3 & 1) != 0 && (v40 & 1) == 0)
  {
    uint64_t v41 = sub_296580();
    char v43 = sub_B15E8(v41, v42, v31);
    swift_bridgeObjectRelease();
    if (v43)
    {
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v44 = v123;
      uint64_t v45 = sub_6E60(v123, (uint64_t)qword_31FC08);
      (*(void (**)(unsigned char *, uint64_t, uint64_t))(v119 + 16))(v106, v45, v44);
      uint64_t v46 = sub_2987E0();
      os_log_type_t v47 = sub_298DA0();
      if (os_log_type_enabled(v46, v47))
      {
        uint64_t v48 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v48 = 0;
        _os_log_impl(&dword_0, v46, v47, "PlayMediaAppResolver#resolveBundleIdentifier Classical was selected, but is not installed. Falling back to Music app", v48, 2u);
        uint64_t v31 = v125;
        swift_slowDealloc();
      }

      (*(void (**)(unsigned char *, uint64_t))(v119 + 8))(v106, v123);
      uint64_t v49 = sub_296580();
      uint64_t v51 = v50;
      swift_beginAccess();
      *(void *)(a2 + 16) = v49;
      *(void *)(a2 + 24) = v51;
      swift_bridgeObjectRelease();
      unsigned __int8 v131 = 1;
    }
  }
  if (v27)
  {
    uint64_t v54 = *(void (**)(unsigned char *, uint64_t, uint64_t))(v22 + 16);
    uint64_t v53 = v22 + 16;
    unint64_t v52 = v54;
    uint64_t v55 = a1 + ((*(unsigned __int8 *)(v53 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v53 + 64));
    uint64_t v56 = (void (**)(unsigned char *, uint64_t))(v53 - 8);
    uint64_t v57 = *(void *)(v53 + 56);
    swift_bridgeObjectRetain();
    uint64_t v58 = v27 - 1;
    uint64_t v59 = v126;
    do
    {
      v52(v59, v55, v21);
      sub_295F60();
      int v60 = sub_296520();
      swift_bridgeObjectRelease();
      (*v56)(v59, v21);
      BOOL v62 = v58-- != 0;
      if ((v60 & 1) == 0) {
        break;
      }
      v55 += v57;
    }
    while (v62);
    swift_bridgeObjectRelease();
    uint64_t v31 = v125;
    uint64_t v13 = v120;
  }
  else
  {
    int v60 = 1;
  }
  uint64_t v63 = v119;
  uint64_t v64 = v121;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v65 = v123;
  uint64_t v66 = sub_6E60(v123, (uint64_t)qword_31FC08);
  unint64_t v67 = *(void (**)(void))(v63 + 16);
  uint64_t v124 = v66;
  char v126 = v67;
  v67(v64);
  swift_bridgeObjectRetain_n();
  uint64_t v68 = sub_2987E0();
  os_log_type_t v69 = sub_298DA0();
  if (os_log_type_enabled(v68, v69))
  {
    uint64_t v70 = swift_slowAlloc();
    uint64_t v130 = swift_slowAlloc();
    *(_DWORD *)uint64_t v70 = 67109634;
    LODWORD(v129) = v60 & 1;
    sub_2992C0();
    *(_WORD *)(v70 + 8) = 1024;
    swift_beginAccess();
    LODWORD(v129) = v131;
    sub_2992C0();
    *(_WORD *)(v70 + 14) = 2080;
    swift_bridgeObjectRetain();
    uint64_t v71 = sub_298B60();
    unint64_t v73 = v72;
    swift_bridgeObjectRelease();
    uint64_t v74 = v71;
    uint64_t v65 = v123;
    uint64_t v129 = sub_6E98(v74, v73, &v130);
    uint64_t v31 = v125;
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v68, v69, "PlayMediaAppResolver#resolveBundleIdentifier no3pBundle?:%{BOOL}d containsSelected1pBundle?:%{BOOL}d. Bundles: %s", (uint8_t *)v70, 0x18u);
    swift_arrayDestroy();
    uint64_t v13 = v120;
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  uint64_t v75 = *(unsigned char **)(v63 + 8);
  ((void (*)(unsigned char *, uint64_t))v75)(v121, v65);
  swift_beginAccess();
  unint64_t v76 = v112;
  os_log_t v77 = v117;
  if ((v131 | v60))
  {
    swift_bridgeObjectRelease();
    uint64_t v78 = v107;
    ((void (*)(unsigned char *, uint64_t, uint64_t))v126)(v107, v124, v65);
    uint64_t v79 = sub_2987E0();
    os_log_type_t v80 = sub_298DA0();
    BOOL v81 = os_log_type_enabled(v79, v80);
    uint64_t v82 = v118;
    if (v81)
    {
      unint64_t v83 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v83 = 0;
      _os_log_impl(&dword_0, v79, v80, "PlayMediaAppResolver#resolveBundleIdentifier validated firstPartyResultsBundleIdentifier available", v83, 2u);
      swift_slowDealloc();
    }

    ((void (*)(unsigned char *, uint64_t))v75)(v78, v65);
    sub_71D4(&qword_30EE88);
    swift_beginAccess();
    uint64_t v84 = *(void *)(v82 + 24);
    *uint64_t v13 = *(void *)(v82 + 16);
    v13[1] = v84;
    swift_bridgeObjectRetain();
    sub_297190();
  }
  else
  {
    ((void (*)(unsigned char *, uint64_t, uint64_t))v126)(v117, v124, v65);
    uint64_t v85 = v118;
    swift_retain_n();
    swift_bridgeObjectRetain_n();
    uint64_t v86 = sub_2987E0();
    os_log_type_t v87 = sub_298DB0();
    if (os_log_type_enabled(v86, v87))
    {
      uint64_t v88 = swift_slowAlloc();
      char v126 = v75;
      uint64_t v89 = v88;
      uint64_t v128 = swift_slowAlloc();
      *(_DWORD *)uint64_t v89 = 136446722;
      uint64_t v90 = sub_2973D0();
      uint64_t v129 = sub_6E98(v90, v91, &v128);
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v89 + 12) = 2082;
      swift_beginAccess();
      uint64_t v92 = *(void *)(v85 + 16);
      unint64_t v93 = *(void *)(v85 + 24);
      swift_bridgeObjectRetain();
      uint64_t v127 = sub_6E98(v92, v93, &v128);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      *(_WORD *)(v89 + 22) = 2082;
      swift_bridgeObjectRetain();
      uint64_t v127 = sub_6E98(v105, v76, &v128);
      uint64_t v31 = v125;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v86, v87, "PlayMediaAppResolver#resolveBundleIdentifier %{public}s inferred 1p bundle: %{public}s based on selection of: %{public}s and intent contents, but it is not available on device... disambiguating.", (uint8_t *)v89, 0x20u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      ((void (*)(unsigned char *, uint64_t))v126)(v117, v123);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      swift_release_n();
      ((void (*)(unsigned char *, uint64_t))v75)(v77, v65);
    }
    sub_74A4((void *)(v108 + qword_310D28), *(void *)(v108 + qword_310D28 + 24));
    uint64_t v94 = v110;
    uint64_t v95 = v109;
    uint64_t v96 = v111;
    (*(void (**)(unsigned char *, void, uint64_t))(v110 + 104))(v109, enum case for DisambiguateItemsReason.unavailableInferred1pBundle(_:), v111);
    sub_2971F0();
    (*(void (**)(unsigned char *, uint64_t))(v94 + 8))(v95, v96);
    uint64_t v97 = (char *)v13 + *(int *)(sub_71D4(&qword_310DB8) + 48);
    *uint64_t v13 = v31;
    uint64_t v98 = enum case for ResolutionResultType.AppNotFoundDisambiguation(_:);
    uint64_t v99 = sub_296D30();
    (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v99 - 8) + 104))(v97, v98, v99);
  }
  swift_storeEnumTagMultiPayload();
  v115(v13);
  return sub_1080B8((uint64_t)v13);
}

uint64_t sub_100384(uint64_t a1, uint64_t a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8, uint64_t a9, uint64_t a10, void (*a11)(uint64_t (*)(), uint64_t), uint64_t a12)
{
  int v35 = a8;
  uint64_t v36 = a7;
  int v37 = a3;
  uint64_t v40 = a12;
  uint64_t v38 = a6;
  uint64_t v39 = a11;
  uint64_t v34 = a10;
  uint64_t v32 = a4;
  uint64_t v33 = a9;
  uint64_t v15 = sub_2987D0();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = *(void *)(v16 + 64);
  uint64_t v18 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v31 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v21 = (char *)&v31 - v20;
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v22 = (id)qword_31FCE0;
  sub_2987B0();
  (*(void (**)(char *, char *, uint64_t))(v16 + 16))(v19, v21, v15);
  unint64_t v23 = (*(unsigned __int8 *)(v16 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v16 + 80);
  unint64_t v24 = (v17 + v23 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v25 = swift_allocObject();
  *(void *)(v25 + 16) = a1;
  *(void *)(v25 + 24) = a2;
  uint64_t v31 = a2;
  *(unsigned char *)(v25 + 32) = v37;
  (*(void (**)(unint64_t, char *, uint64_t))(v16 + 32))(v25 + v23, v19, v15);
  uint64_t v26 = (void *)(v25 + v24);
  *uint64_t v26 = v32;
  v26[1] = a5;
  swift_retain();
  sub_299100();
  sub_71D4((uint64_t *)&unk_317820);
  uint64_t v27 = swift_allocObject();
  *(_OWORD *)(v27 + 16) = xmmword_29A440;
  *(void *)(v27 + 56) = &type metadata for String;
  *(void *)(v27 + 64) = sub_7368();
  uint64_t v28 = v34;
  *(void *)(v27 + 32) = v33;
  *(void *)(v27 + 40) = v28;
  swift_bridgeObjectRetain();
  sub_298790();
  swift_bridgeObjectRelease();
  uint64_t v29 = swift_allocObject();
  *(void *)(v29 + 16) = sub_107C78;
  *(void *)(v29 + 24) = v25;
  swift_retain();
  v39(sub_10803C, v29);
  swift_release();
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v21, v15);
}

uint64_t sub_100694(uint64_t a1, uint64_t a2, int a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, int a8, uint64_t a9, uint64_t a10, void (*a11)(uint64_t (*)(), uint64_t), uint64_t a12)
{
  int v35 = a8;
  uint64_t v36 = a7;
  int v37 = a3;
  uint64_t v40 = a12;
  uint64_t v38 = a6;
  uint64_t v39 = a11;
  uint64_t v34 = a10;
  uint64_t v32 = a4;
  uint64_t v33 = a9;
  uint64_t v15 = sub_2987D0();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = *(void *)(v16 + 64);
  uint64_t v18 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v31 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v21 = (char *)&v31 - v20;
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v22 = (id)qword_31FCE0;
  sub_2987B0();
  (*(void (**)(char *, char *, uint64_t))(v16 + 16))(v19, v21, v15);
  unint64_t v23 = (*(unsigned __int8 *)(v16 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v16 + 80);
  unint64_t v24 = (v17 + v23 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v25 = swift_allocObject();
  *(void *)(v25 + 16) = a1;
  *(void *)(v25 + 24) = a2;
  uint64_t v31 = a2;
  *(unsigned char *)(v25 + 32) = v37;
  (*(void (**)(unint64_t, char *, uint64_t))(v16 + 32))(v25 + v23, v19, v15);
  uint64_t v26 = (void *)(v25 + v24);
  *uint64_t v26 = v32;
  v26[1] = a5;
  swift_retain();
  sub_299100();
  sub_71D4((uint64_t *)&unk_317820);
  uint64_t v27 = swift_allocObject();
  *(_OWORD *)(v27 + 16) = xmmword_29A440;
  *(void *)(v27 + 56) = &type metadata for String;
  *(void *)(v27 + 64) = sub_7368();
  uint64_t v28 = v34;
  *(void *)(v27 + 32) = v33;
  *(void *)(v27 + 40) = v28;
  swift_bridgeObjectRetain();
  sub_298790();
  swift_bridgeObjectRelease();
  uint64_t v29 = swift_allocObject();
  *(void *)(v29 + 16) = sub_107C78;
  *(void *)(v29 + 24) = v25;
  swift_retain();
  v39(sub_1088C8, v29);
  swift_release();
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v21, v15);
}

uint64_t sub_1009A4(int a1, uint64_t a2, void (*a3)(uint64_t), uint64_t a4, void *a5, void *a6)
{
  if (a1 == 4 || a1 == 1)
  {
    sub_74A4((void *)(a2 + qword_310D48), *(void *)(a2 + qword_310D48 + 24));
    uint64_t v10 = (void *)swift_allocObject();
    v10[2] = a3;
    v10[3] = a4;
    v10[4] = a5;
    v10[5] = a6;
    swift_bridgeObjectRetain();
    swift_retain();
    id v11 = a5;
    sub_296A30();
    return swift_release();
  }
  else
  {
    v15.value._rawValue = a6;
    v15.is_nil = 1;
    uint64_t v13 = sub_2991F0(v15, (Swift::Bool)a3);
    a3(v13);
    return swift_bridgeObjectRelease();
  }
}

uint64_t sub_100ACC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void (*a8)(uint64_t), uint64_t a9, uint64_t a10, void *a11)
{
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v31 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a4 && !a7)
  {
    if (sub_296580() == a3 && v26 == a4)
    {
      swift_bridgeObjectRelease();
      char v28 = 0;
    }
    else
    {
      char v29 = sub_2995D0();
      swift_bridgeObjectRelease();
      char v28 = v29 ^ 1;
    }
    v34.is_nil = v28 & 1;
    v34.value._rawValue = a11;
    uint64_t v30 = sub_2991F0(v34, v27);
    a8(v30);
    return swift_bridgeObjectRelease();
  }
  else
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v19 = sub_6E60(v15, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v19, v15);
    uint64_t v20 = sub_2987E0();
    os_log_type_t v21 = sub_298DC0();
    if (os_log_type_enabled(v20, v21))
    {
      id v22 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v22 = 0;
      _os_log_impl(&dword_0, v20, v21, "PlayMediaAppResolver#determineFirstPartyBundleIdentifier encountered error getting now playing bundle. Falling back to allow use of Classical", v22, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
    v33.value._rawValue = a11;
    v33.is_nil = 1;
    uint64_t v24 = sub_2991F0(v33, v23);
    a8(v24);
    return swift_bridgeObjectRelease();
  }
}

BOOL sub_100D54()
{
  uint64_t v1 = sub_297430();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = __chkstk_darwin(v1);
  Swift::Bool v23 = (char *)&v20 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v20 - v6;
  __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v20 - v8;
  id v22 = v0;
  sub_74A4((void *)((char *)v0 + qword_310D50), *(void *)((char *)v0 + qword_310D50 + 24));
  sub_2965B0();
  sub_296110();
  swift_bridgeObjectRelease();
  uint64_t v10 = *(void (**)(char *))(v2 + 104);
  unsigned int v21 = enum case for TCCStatus.notYetPresented(_:);
  v10(v7);
  char v11 = sub_297420();
  uint64_t v12 = *(void (**)(char *, uint64_t))(v2 + 8);
  v12(v7, v1);
  if (v11)
  {
    uint64_t v13 = (uint64_t)v22 + *(void *)(class metadata base offset for CommonAppResolver + *v22 + 32);
    swift_beginAccess();
    uint64_t v20 = v10;
    sub_12AF8(v13, *(void *)(v13 + 24));
    uint64_t v10 = v20;
    sub_296C40();
    swift_endAccess();
  }
  ((void (*)(char *, void, uint64_t))v10)(v7, enum case for TCCStatus.accepted(_:), v1);
  char v14 = sub_297420();
  v12(v7, v1);
  uint64_t v15 = v23;
  (*(void (**)(char *, char *, uint64_t))(v2 + 16))(v23, v9, v1);
  if (v14)
  {
    v12(v15, v1);
LABEL_6:
    v12(v9, v1);
    return 1;
  }
  ((void (*)(char *, void, uint64_t))v10)(v7, v21, v1);
  char v16 = sub_297420();
  v12(v7, v1);
  v12(v15, v1);
  if (v16) {
    goto LABEL_6;
  }
  uint64_t v18 = (uint64_t)v22 + *(void *)(class metadata base offset for CommonAppResolver + *v22 + 32);
  swift_beginAccess();
  sub_18D5C(v18, (uint64_t)v24);
  sub_74A4(v24, v24[3]);
  uint64_t v19 = sub_296C30();
  v12(v9, v1);
  sub_7184((uint64_t)v24);
  return v19 < 2;
}

uint64_t sub_101110()
{
  sub_71D4(&qword_310DC8);
  swift_allocObject();
  uint64_t result = sub_296160();
  qword_31FC40 = result;
  return result;
}

uint64_t sub_101158()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_101190(unsigned __int8 *a1)
{
  return (*(uint64_t (**)(void))(v1 + 16))(*a1);
}

void sub_1011BC()
{
  uint64_t v0 = sub_298800();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v18 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v18 - v5;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v8 = Strong;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v9 = sub_6E60(v0, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v4, v9, v0);
    uint64_t v10 = sub_2987E0();
    os_log_type_t v11 = sub_298D90();
    if (os_log_type_enabled(v10, v11))
    {
      uint64_t v12 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v12 = 0;
      _os_log_impl(&dword_0, v10, v11, "PlayMediaAppResolver#postResolve background lazy triggering 1st party user context store...", v12, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v1 + 8))(v4, v0);
    sub_74A4((void *)(v8 + qword_310D30), *(void *)(v8 + qword_310D30 + 24));
    uint64_t v13 = (void *)sub_296850();
    sub_296E70();
    swift_release();
  }
  else
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v14 = sub_6E60(v0, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v6, v14, v0);
    uint64_t v15 = sub_2987E0();
    os_log_type_t v16 = sub_298DB0();
    if (os_log_type_enabled(v15, v16))
    {
      uint64_t v17 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v17 = 0;
      _os_log_impl(&dword_0, v15, v16, "PlayMediaAppResolver#postResolve self deallocated prematurely", v17, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v1 + 8))(v6, v0);
  }
}

uint64_t sub_1014D8(char a1)
{
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)v11 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_6E60(v2, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  uint64_t v7 = sub_2987E0();
  os_log_type_t v8 = sub_298D90();
  if (os_log_type_enabled(v7, v8))
  {
    uint64_t v9 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v9 = 67109120;
    v11[3] = a1 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v7, v8, "PlayMediaAppResolver#postResolve user context update with success: %{BOOL}d", v9, 8u);
    swift_slowDealloc();
  }

  return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v5, v2);
}

uint64_t sub_1016A0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v70 = a4;
  uint64_t v69 = a3;
  uint64_t v86 = a2;
  uint64_t v5 = sub_2988D0();
  uint64_t v75 = *(void *)(v5 - 8);
  uint64_t v76 = v5;
  __chkstk_darwin(v5);
  unint64_t v73 = (char *)v62 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v74 = sub_298900();
  uint64_t v72 = *(void *)(v74 - 8);
  __chkstk_darwin(v74);
  uint64_t v71 = (char *)v62 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_310DE0);
  __chkstk_darwin(v8 - 8);
  os_log_t v77 = (char *)v62 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_296840();
  uint64_t v80 = *(void *)(v10 - 8);
  uint64_t v81 = v10;
  uint64_t v11 = __chkstk_darwin(v10);
  uint64_t v68 = (char *)v62 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v67 = v12;
  __chkstk_darwin(v11);
  uint64_t v79 = (char *)v62 - v13;
  uint64_t v14 = sub_71D4(&qword_310DE8);
  __chkstk_darwin(v14 - 8);
  uint64_t v82 = (void (*)(char *, uint64_t, uint64_t))((char *)v62 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v16 = sub_2936E0();
  uint64_t v84 = *(void *)(v16 - 8);
  uint64_t v85 = v16;
  uint64_t v17 = __chkstk_darwin(v16);
  uint64_t v66 = (char *)v62 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v65 = v18;
  __chkstk_darwin(v17);
  unint64_t v83 = (char *)v62 - v19;
  uint64_t v20 = sub_297380();
  uint64_t v21 = *(void *)(v20 - 8);
  __chkstk_darwin(v20);
  Swift::Bool v23 = (char *)v62 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = sub_298800();
  uint64_t v25 = *(void *)(v24 - 8);
  __chkstk_darwin(v24);
  Swift::Bool v27 = (char *)v62 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v28 = sub_6E60(v24, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v25 + 16))(v27, v28, v24);
  char v29 = *(void (**)(char *, uint64_t, uint64_t))(v21 + 16);
  uint64_t v78 = a1;
  v29(v23, a1, v20);
  uint64_t v30 = sub_2987E0();
  os_log_type_t v31 = sub_298D90();
  if (os_log_type_enabled(v30, v31))
  {
    uint64_t v32 = (uint8_t *)swift_slowAlloc();
    uint64_t v64 = (void (*)(char *, uint64_t, uint64_t))swift_slowAlloc();
    aBlock[0] = (uint64_t)v64;
    uint64_t v63 = v32;
    *(_DWORD *)uint64_t v32 = 136315138;
    v62[1] = v32 + 4;
    sub_26740(&qword_310DF0, (void (*)(uint64_t))&type metadata accessor for PlayMediaAppSelectionRecordSignalsResult);
    uint64_t v33 = sub_2995A0();
    os_log_type_t v87 = (void *)sub_6E98(v33, v34, aBlock);
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v21 + 8))(v23, v20);
    _os_log_impl(&dword_0, v30, v31, "PlayMediaAppResolver#postResolve app selection signals recorded: %s", v63, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v21 + 8))(v23, v20);
  }

  (*(void (**)(char *, uint64_t))(v25 + 8))(v27, v24);
  sub_74A4((void *)(v86 + qword_310D40), *(void *)(v86 + qword_310D40 + 24));
  uint64_t result = sub_2965D0();
  uint64_t v37 = v84;
  uint64_t v36 = v85;
  uint64_t v38 = v83;
  if (v39)
  {
    uint64_t v40 = (uint64_t)v82;
    sub_2936A0();
    swift_bridgeObjectRelease();
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v37 + 48))(v40, 1, v36) == 1)
    {
      uint64_t v41 = &qword_310DE8;
      return sub_23A44(v40, v41);
    }
    uint64_t v82 = *(void (**)(char *, uint64_t, uint64_t))(v37 + 32);
    v82(v38, v40, v36);
    uint64_t v42 = v77;
    sub_297370();
    uint64_t v40 = (uint64_t)v42;
    uint64_t v43 = v80;
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v80 + 48))(v40, 1, v81) == 1)
    {
      (*(void (**)(char *, uint64_t))(v37 + 8))(v38, v36);
      uint64_t v41 = &qword_310DE0;
      return sub_23A44(v40, v41);
    }
    uint64_t v64 = *(void (**)(char *, uint64_t, uint64_t))(v43 + 32);
    uint64_t v44 = v79;
    uint64_t v45 = v81;
    v64(v79, v40, v81);
    uint64_t v78 = sub_2961C0();
    uint64_t v46 = v43;
    os_log_type_t v47 = *(void (**)(char *, char *, uint64_t))(v43 + 16);
    uint64_t v48 = v68;
    v47(v68, v44, v45);
    uint64_t v49 = v66;
    (*(void (**)(char *, char *, uint64_t))(v37 + 16))(v66, v38, v36);
    unint64_t v50 = (*(unsigned __int8 *)(v46 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v46 + 80);
    unint64_t v51 = (v67 + v50 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v52 = (*(unsigned __int8 *)(v37 + 80) + v51 + 16) & ~(unint64_t)*(unsigned __int8 *)(v37 + 80);
    uint64_t v53 = swift_allocObject();
    *(void *)(v53 + 16) = v86;
    v64((char *)(v53 + v50), (uint64_t)v48, v45);
    uint64_t v54 = (void *)(v53 + v51);
    uint64_t v55 = v70;
    void *v54 = v69;
    v54[1] = v55;
    uint64_t v56 = v85;
    v82((char *)(v53 + v52), (uint64_t)v49, v85);
    aBlock[4] = (uint64_t)sub_107EB8;
    aBlock[5] = v53;
    aBlock[0] = (uint64_t)_NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = (uint64_t)sub_7460;
    aBlock[3] = (uint64_t)&unk_2F7330;
    uint64_t v57 = _Block_copy(aBlock);
    swift_retain();
    swift_bridgeObjectRetain();
    uint64_t v58 = v71;
    sub_2988E0();
    os_log_type_t v87 = _swiftEmptyArrayStorage;
    sub_26740((unint64_t *)&qword_310770, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
    sub_71D4(&qword_30E460);
    sub_25E7C();
    uint64_t v59 = v73;
    uint64_t v60 = v76;
    sub_299330();
    uint64_t v61 = (void *)v78;
    sub_2990E0();
    _Block_release(v57);

    (*(void (**)(char *, uint64_t))(v75 + 8))(v59, v60);
    (*(void (**)(char *, uint64_t))(v72 + 8))(v58, v74);
    (*(void (**)(char *, uint64_t))(v80 + 8))(v79, v45);
    (*(void (**)(char *, uint64_t))(v84 + 8))(v83, v56);
    return swift_release();
  }
  return result;
}

uint64_t sub_1020E4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v27 = a4;
  uint64_t v28 = a5;
  uint64_t v26 = a3;
  uint64_t v7 = sub_71D4(&qword_310DE8);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v24 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_296840();
  uint64_t v25 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v24 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_298800();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v24 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_6E60(v13, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v16, v17, v13);
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DA0();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v20 = (uint8_t *)swift_slowAlloc();
    uint64_t v24 = v12;
    *(_WORD *)uint64_t v20 = 0;
    _os_log_impl(&dword_0, v18, v19, "PlayMediaAppResolver#postResolve: Sending A/B evaluation SELF message", v20, 2u);
    uint64_t v12 = v24;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
  uint64_t v21 = *(void *)(a1 + qword_310D58);
  uint64_t v22 = *(void *)(a1 + qword_310D58 + 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v25 + 16))(v12, a2, v10);
  void v29[3] = v21;
  v29[4] = v22;
  sub_12B48(v29);
  sub_2960F0();
  sub_296100();
  sub_23A44((uint64_t)v9, &qword_310DE8);
  return sub_7184((uint64_t)v29);
}

uint64_t sub_102408(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v21 = a2;
  uint64_t v7 = *v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v20 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DA0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "PlayMediaAppResolver#forcedResolution...", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  uint64_t v16 = (uint64_t)v4 + *(void *)(class metadata base offset for CommonAppResolver + *v4 + 32);
  swift_beginAccess();
  sub_18D5C(v16, (uint64_t)v22);
  sub_74A4(v22, v22[3]);
  LOBYTE(v16) = sub_296C50();
  sub_7184((uint64_t)v22);
  sub_74A4((void *)((char *)v4 + qword_310D28), *(void *)((char *)v4 + qword_310D28 + 24));
  uint64_t v17 = swift_allocObject();
  *(void *)(v17 + 16) = v4;
  *(void *)(v17 + 24) = a1;
  *(unsigned char *)(v17 + 32) = v16 & 1;
  *(void *)(v17 + 40) = v21;
  *(void *)(v17 + 48) = a3;
  *(void *)(v17 + 56) = v7;
  swift_retain();
  id v18 = a1;
  swift_retain();
  sub_2971E0();
  return swift_release();
}

uint64_t sub_1026F8(uint64_t a1, void *a2, void *a3, int a4, void (*a5)(uint64_t), void (*a6)(uint64_t), uint64_t a7)
{
  uint64_t v154 = a7;
  uint64_t v161 = a6;
  uint64_t v160 = a5;
  int v174 = a4;
  id v177 = a3;
  id v175 = a2;
  uint64_t v8 = sub_71D4(&qword_310DB0);
  __chkstk_darwin(v8 - 8);
  uint64_t v149 = (char *)v141 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v153 = sub_2970E0();
  uint64_t v152 = *(void *)(v153 - 8);
  __chkstk_darwin(v153);
  id v151 = (char *)v141 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v157 = sub_296F30();
  uint64_t v156 = *(void *)(v157 - 8);
  __chkstk_darwin(v157);
  uint64_t v155 = (char *)v141 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v180 = sub_293690();
  uint64_t v172 = *(void *)(v180 - 8);
  uint64_t v12 = __chkstk_darwin(v180);
  id v144 = ((char *)v141 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v176 = (char *)v141 - v15;
  uint64_t v150 = v16;
  __chkstk_darwin(v14);
  uint64_t v173 = (char *)v141 - v17;
  uint64_t v18 = sub_297160();
  uint64_t v19 = *(void *)(v18 - 8);
  uint64_t v20 = __chkstk_darwin(v18);
  unint64_t v158 = (char *)v141 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v24 = (char *)v141 - v23;
  uint64_t v25 = __chkstk_darwin(v22);
  uint64_t v27 = (char *)v141 - v26;
  uint64_t v147 = v28;
  __chkstk_darwin(v25);
  uint64_t v30 = (char *)v141 - v29;
  uint64_t v31 = sub_298800();
  uint64_t v32 = *(void *)(v31 - 8);
  uint64_t v33 = __chkstk_darwin(v31);
  uint64_t v170 = (char *)v141 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = __chkstk_darwin(v33);
  uint64_t v143 = (char *)v141 - v36;
  __chkstk_darwin(v35);
  uint64_t v38 = (char *)v141 - v37;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v39 = sub_6E60(v31, (uint64_t)qword_31FC08);
  uint64_t v179 = v32;
  uint64_t v40 = *(void (**)(void))(v32 + 16);
  uint64_t v163 = v39;
  uint64_t v164 = v32 + 16;
  uint64_t v162 = (void (*)(char *, uint64_t, void *))v40;
  v40(v38);
  uint64_t v41 = *(void (**)(char *, uint64_t, uint64_t))(v19 + 16);
  v41(v30, a1, v18);
  v41(v27, a1, v18);
  uint64_t v146 = v19 + 16;
  uint64_t v145 = v41;
  v41(v24, a1, v18);
  uint64_t v169 = (uint64_t)v38;
  uint64_t v42 = sub_2987E0();
  os_log_type_t v43 = sub_298DA0();
  int v44 = v43;
  BOOL v45 = os_log_type_enabled(v42, v43);
  uint64_t v171 = a1;
  uint64_t v159 = v18;
  uint64_t v148 = v19;
  uint64_t v178 = (void *)v31;
  if (v45)
  {
    uint64_t v46 = (_DWORD *)swift_slowAlloc();
    uint64_t v167 = v24;
    os_log_type_t v47 = v46;
    *uint64_t v46 = 134218496;
    LODWORD(v168) = v44;
    sub_297150();
    v182[0] = v48;
    sub_2992C0();
    uint64_t v49 = *(void (**)(char *, uint64_t))(v19 + 8);
    v49(v30, v18);
    *((_WORD *)v47 + 6) = 2048;
    sub_297140();
    v182[0] = v50;
    sub_2992C0();
    v49(v27, v18);
    *((_WORD *)v47 + 11) = 2048;
    unint64_t v51 = v167;
    uint64_t v52 = sub_297110();
    v49(v51, v18);
    v182[0] = v52;
    uint64_t v31 = (uint64_t)v178;
    sub_2992C0();
    _os_log_impl(&dword_0, v42, (os_log_type_t)v168, "PlayMediaAppResolver#forcedResolution rates - disambiguationRate:%f, disambiguationAdditionalRateFirstParty:%f, rateLimitSeconds:%ld", (uint8_t *)v47, 0x20u);
    swift_slowDealloc();
  }
  else
  {
    uint64_t v53 = *(void (**)(char *, uint64_t))(v19 + 8);
    v53(v24, v18);
    v53(v30, v18);
    v53(v27, v18);
  }

  uint64_t v54 = *(char **)(v179 + 8);
  v179 += 8;
  uint64_t v165 = v54;
  ((void (*)(uint64_t, uint64_t))v54)(v169, v31);
  uint64_t v55 = (uint64_t)v175 + *(void *)(class metadata base offset for CommonAppResolver + *v175 + 32);
  swift_beginAccess();
  sub_18D5C(v55, (uint64_t)v182);
  sub_74A4(v182, v183);
  LODWORD(v169) = sub_296C90();
  sub_7184((uint64_t)v182);
  int v56 = sub_298E50();
  uint64_t v57 = sub_296490();
  uint64_t v59 = v58;
  uint64_t v60 = sub_2964D0();
  BOOL v62 = v173;
  if (v59)
  {
    if (v60 == v57 && v59 == v61)
    {
      swift_bridgeObjectRelease();
      uint64_t v63 = swift_bridgeObjectRelease();
      LODWORD(v168) = 1;
    }
    else
    {
      LODWORD(v168) = sub_2995D0();
      swift_bridgeObjectRelease();
      uint64_t v63 = swift_bridgeObjectRelease();
    }
  }
  else
  {
    uint64_t v63 = swift_bridgeObjectRelease();
    LODWORD(v168) = 0;
  }
  uint64_t v64 = sub_1059CC(v63, 0.0, 1.0);
  double v66 = v65;
  sub_1059CC(v64, 0.0, 1.0);
  uint64_t v68 = v67;
  sub_297150();
  BOOL v70 = v66 <= v69;
  sub_293680();
  sub_18D5C(v55, (uint64_t)v182);
  sub_74A4(v182, v183);
  uint64_t v71 = v176;
  sub_296C70();
  sub_7184((uint64_t)v182);
  sub_293630();
  double v73 = v72;
  uint64_t v74 = *(void (**)(char *, uint64_t))(v172 + 8);
  uint64_t v167 = (char *)(v172 + 8);
  uint64_t v166 = v74;
  v74(v71, v180);
  BOOL v75 = v73 > (double)sub_297110();
  uint64_t v76 = v155;
  sub_296F20();
  BOOL v77 = sub_296F10();
  (*(void (**)(char *, uint64_t))(v156 + 8))(v76, v157);
  uint64_t v78 = swift_allocObject();
  *(unsigned char *)(v78 + 16) = 0;
  uint64_t v79 = (BOOL *)(v78 + 16);
  if (qword_30C930 != -1) {
    swift_once();
  }
  uint64_t v80 = &unk_31F000;
  if (*(unsigned char *)(qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_requestCancelled) == 1
    && (*(unsigned char *)(qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_appSelectionUsed) & v56 & 1) != 0)
  {
    uint64_t v81 = *(void **)(qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_mediaSearch);
    if (v81)
    {
      LODWORD(v156) = v56;
      uint64_t v82 = v78;
      id v83 = v81;
      id v84 = [v177 mediaSearch];
      if (v84)
      {
        uint64_t v85 = v84;
        sub_1983C(0, &qword_30DDC8);
        uint64_t v86 = (char *)v83;
        char v87 = sub_299240();

        if (v87)
        {
          uint64_t v155 = v86;
          uint64_t v88 = v176;
          sub_293680();
          uint64_t v89 = qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_time;
          swift_beginAccess();
          uint64_t v90 = v144;
          uint64_t v91 = v180;
          (*(void (**)(NSObject *, uint64_t, uint64_t))(v172 + 16))(v144, v89, v180);
          sub_293630();
          double v93 = v92;
          uint64_t v94 = v90;
          uint64_t v95 = v166;
          v166((char *)v94, v91);
          v95(v88, v91);
          sub_2973A0();
          if (v93 < v96)
          {
            BOOL *v79 = (*(unsigned char *)(qword_31FDE8
                             + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_previousDisambiguationCancelled) & 1) == 0;
            uint64_t v97 = v143;
            v162(v143, v163, v178);
            uint64_t v98 = sub_2987E0();
            os_log_type_t v99 = sub_298DC0();
            id v144 = v98;
            if (os_log_type_enabled(v98, v99))
            {
              unint64_t v100 = (uint8_t *)swift_slowAlloc();
              uint64_t v101 = swift_slowAlloc();
              uint64_t v142 = v100;
              *(_DWORD *)unint64_t v100 = 136315138;
              double v181 = *(double *)&v101;
              v141[1] = v100 + 4;
              uint64_t v102 = *(void *)(qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_refId + 8);
              v182[0] = *(void *)(qword_31FDE8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_refId);
              v182[1] = v102;
              swift_bridgeObjectRetain();
              sub_71D4((uint64_t *)&unk_313920);
              uint64_t v103 = sub_2989E0();
              v182[0] = sub_6E98(v103, v104, (uint64_t *)&v181);
              sub_2992C0();
              uint64_t v80 = (void *)&unk_31F000;
              swift_bridgeObjectRelease();
              uint64_t v105 = v144;
              _os_log_impl(&dword_0, v144, v99, "PlayMediaAppResolver#forcedResolution found this request as repeated, inferred, recent followup to the prior intent: %s resulting in a cancelled result after app selection used", v142, 0xCu);
              swift_arrayDestroy();
              swift_slowDealloc();
              swift_slowDealloc();

              uint64_t v106 = v143;
            }
            else
            {
              uint64_t v80 = &unk_31F000;

              uint64_t v106 = v97;
            }
            ((void (*)(char *, void *))v165)(v106, v178);
            goto LABEL_28;
          }
        }
        else
        {
        }
        uint64_t v78 = v82;
        int v56 = v156;
        uint64_t v80 = (void *)&unk_31F000;
        goto LABEL_29;
      }

LABEL_28:
      uint64_t v78 = v82;
      int v56 = v156;
    }
  }
LABEL_29:
  char v107 = v70 | v174;
  char v108 = v75 | v174;
  int v109 = v77 | v174;
  char v110 = *v79;
  BOOL v111 = *v79;
  if (*v79)
  {
    char v113 = v56;
    unint64_t v112 = v170;
  }
  else
  {
    unint64_t v112 = v170;
    if ((v169 ^ 1))
    {
      char v113 = v56;
    }
    else
    {
      char v113 = v56;
      if (((v56 ^ 1) & 1) == 0 && ((v168 ^ 1) & 1) == 0) {
        char v110 = v107 & v108 & v109;
      }
    }
  }
  LODWORD(v156) = v109;
  *(unsigned char *)(v80[445] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PriorResultContext_previousDisambiguationCancelled) = v111;
  v162(v112, v163, v178);
  swift_retain();
  uint64_t v114 = v78;
  uint64_t v115 = sub_2987E0();
  os_log_type_t v116 = sub_298DC0();
  BOOL v117 = os_log_type_enabled(v115, v116);
  uint64_t v157 = v114;
  if (v117)
  {
    uint64_t v118 = swift_slowAlloc();
    *(_DWORD *)uint64_t v118 = 67111936;
    LODWORD(v182[0]) = v110 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 8) = 1024;
    swift_beginAccess();
    LODWORD(v181) = *(unsigned __int8 *)(v114 + 16);
    sub_2992C0();
    swift_release();
    *(_WORD *)(v118 + 14) = 1024;
    LODWORD(v181) = v169 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 20) = 1024;
    LODWORD(v181) = v113 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 26) = 1024;
    LODWORD(v181) = v168 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 32) = 1024;
    LODWORD(v181) = v107 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 38) = 2048;
    double v181 = v73;
    sub_2992C0();
    *(_WORD *)(v118 + 48) = 1024;
    LODWORD(v181) = v108 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 54) = 1024;
    LODWORD(v181) = v174 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 60) = 1024;
    LODWORD(v181) = v156 & 1;
    sub_2992C0();
    *(_WORD *)(v118 + 66) = 2048;
    double v181 = v66;
    sub_2992C0();
    *(_WORD *)(v118 + 76) = 2048;
    BOOL v62 = v173;
    double v181 = *(double *)&v68;
    sub_2992C0();
    _os_log_impl(&dword_0, v115, v116, "PlayMediaAppResolver#forcedResolution forced disambiguation test?: %{BOOL}d ---- repeatedCancelled?: %{BOOL}d disambiguationEnabled?:%{BOOL}d, appInferred?:%{BOOL}d, bundleIdentifierIsSentinel?:%{BOOL}d, rateTest?:%{BOOL}d, disambiguationElapsed?:%f, interactionFrequencyTest?:%{BOOL}d disambiguateAlways?:%{BOOL}d, recordStoringPermitted?:%{BOOL}d,rateRoll:%f, rateRoll1p:%f", (uint8_t *)v118, 0x56u);
    unint64_t v112 = v170;
    swift_slowDealloc();
  }
  else
  {

    swift_release();
  }
  uint64_t v119 = v171;
  ((void (*)(char *, void *))v165)(v112, v178);
  if (v110)
  {
    id v120 = (void *)((char *)v175 + *(void *)(class metadata base offset for CommonAppResolver + *v175 + 48));
    uint64_t v121 = v120[4];
    uint64_t v179 = v120[3];
    uint64_t v171 = v121;
    uint64_t v178 = sub_74A4(v120, v179);
    uint64_t v170 = (char *)sub_1983C(0, (unint64_t *)&qword_317810);
    double v181 = *(double *)&v177;
    uint64_t v122 = v152;
    uint64_t v123 = v151;
    uint64_t v124 = v153;
    (*(void (**)(char *, void, uint64_t))(v152 + 104))(v151, enum case for AcceptedSpeakerIdConfidence.executeOnCompanionConfidence(_:), v153);
    uint64_t v169 = sub_2972A0();
    uint64_t v168 = v125;
    (*(void (**)(char *, uint64_t))(v122 + 8))(v123, v124);
    v145(v158, v119, v159);
    uint64_t v126 = v172;
    (*(void (**)(char *, char *, uint64_t))(v172 + 16))(v176, v62, v180);
    uint64_t v127 = v148;
    unint64_t v128 = (*(unsigned __int8 *)(v148 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v148 + 80);
    uint64_t v129 = v128 + v147;
    unint64_t v130 = (((v128 + v147) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v165 = (char *)((v130 + 23) & 0xFFFFFFFFFFFFFFF8);
    unint64_t v131 = (unint64_t)&v165[*(unsigned __int8 *)(v126 + 80) + 8] & ~(unint64_t)*(unsigned __int8 *)(v126 + 80);
    unint64_t v132 = (v150 + v131 + 7) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v133 = swift_allocObject();
    id v134 = v177;
    *(void *)(v133 + 16) = v177;
    *(void *)(v133 + 24) = v68;
    (*(void (**)(unint64_t, char *, uint64_t))(v127 + 32))(v133 + v128, v158, v159);
    *(unsigned char *)(v133 + v129) = v174 & 1;
    BOOL v62 = v173;
    *(void *)((v129 & 0xFFFFFFFFFFFFFFF8) + v133 + 8) = v157;
    unint64_t v135 = (void (**)(uint64_t))(v133 + v130);
    unint64_t v136 = v161;
    *unint64_t v135 = v160;
    v135[1] = v136;
    *(void *)&v165[v133] = v175;
    (*(void (**)(unint64_t, char *, uint64_t))(v126 + 32))(v133 + v131, v176, v180);
    *(void *)(v133 + v132) = v154;
    swift_retain();
    id v137 = v134;
    swift_retain();
    swift_retain();
    sub_296DF0();
    swift_release();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v138 = type metadata accessor for BundleResolutionResult();
    uint64_t v139 = (uint64_t)v149;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v138 - 8) + 56))(v149, 1, 1, v138);
    v160(v139);
    sub_23A44(v139, &qword_310DB0);
  }
  v166(v62, v180);
  return swift_release();
}

uint64_t sub_103BA4(uint64_t a1, void *a2, uint64_t a3, int a4, uint64_t a5, void (*a6)(uint64_t), uint64_t a7, void *a8, double a9, char *a10)
{
  unint64_t v131 = a8;
  uint64_t v133 = a7;
  id v134 = a6;
  LODWORD(v130) = a4;
  uint64_t v135 = a3;
  id v129 = a2;
  uint64_t v13 = sub_71D4(&qword_310DB0);
  __chkstk_darwin(v13 - 8);
  unint64_t v132 = (uint64_t *)((char *)&v110 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v128 = sub_296F70();
  uint64_t v127 = *(void *)(v128 - 8);
  __chkstk_darwin(v128);
  uint64_t v126 = (char *)&v110 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = sub_293690();
  uint64_t v123 = *(void *)(v124 - 8);
  __chkstk_darwin(v124);
  uint64_t v125 = (char *)&v110 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v121 = sub_2988D0();
  uint64_t v120 = *(void *)(v121 - 8);
  __chkstk_darwin(v121);
  uint64_t v118 = (char *)&v110 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v119 = sub_298900();
  uint64_t v117 = *(void *)(v119 - 8);
  __chkstk_darwin(v119);
  os_log_type_t v116 = (char *)&v110 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v115 = sub_297160();
  uint64_t v114 = *(void *)(v115 - 8);
  __chkstk_darwin(v115);
  uint64_t v112 = v19;
  char v113 = (char *)&v110 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v137 = sub_298800();
  uint64_t v138 = *(void *)(v137 - 8);
  uint64_t v20 = __chkstk_darwin(v137);
  uint64_t v122 = (char *)&v110 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  unint64_t v136 = (char *)&v110 - v22;
  uint64_t v141 = sub_295F80();
  uint64_t v23 = *(void *)(v141 - 8);
  __chkstk_darwin(v141);
  uint64_t v25 = (char *)&v110 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v26 = *(void *)(a1 + 16);
  uint64_t v27 = _swiftEmptyArrayStorage;
  if (v26)
  {
    uint64_t v111 = a5;
    aBlock[0] = (uint64_t)_swiftEmptyArrayStorage;
    sub_F7E50(0, v26, 0);
    uint64_t v29 = *(void (**)(char *, uint64_t, uint64_t))(v23 + 16);
    uint64_t v28 = v23 + 16;
    uint64_t v30 = a1 + ((*(unsigned __int8 *)(v28 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v28 + 64));
    uint64_t v139 = *(void *)(v28 + 56);
    id v140 = v29;
    uint64_t v31 = (void (**)(char *, uint64_t))(v28 - 8);
    do
    {
      uint64_t v32 = v141;
      uint64_t v33 = v28;
      v140(v25, v30, v141);
      uint64_t v34 = sub_295F60();
      uint64_t v36 = v35;
      (*v31)(v25, v32);
      uint64_t v27 = (void *)aBlock[0];
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_F7E50(0, v27[2] + 1, 1);
        uint64_t v27 = (void *)aBlock[0];
      }
      unint64_t v38 = v27[2];
      unint64_t v37 = v27[3];
      if (v38 >= v37 >> 1)
      {
        sub_F7E50(v37 > 1, v38 + 1, 1);
        uint64_t v27 = (void *)aBlock[0];
      }
      void v27[2] = v38 + 1;
      uint64_t v39 = &v27[2 * v38];
      v39[4] = v34;
      v39[5] = v36;
      v30 += v139;
      --v26;
      uint64_t v28 = v33;
    }
    while (v26);
    a5 = v111;
  }
  aBlock[0] = (uint64_t)v27;
  sub_105840();
  uint64_t v40 = aBlock[0];
  uint64_t v41 = *(void *)(aBlock[0] + 16);
  uint64_t v42 = _swiftEmptyArrayStorage;
  uint64_t v43 = v137;
  if (v41)
  {
    uint64_t v44 = a5;
    swift_retain();
    BOOL v45 = (uint64_t *)(v40 + 40);
    do
    {
      uint64_t v47 = *(v45 - 1);
      uint64_t v46 = *v45;
      swift_bridgeObjectRetain();
      if (sub_296520())
      {
        swift_bridgeObjectRelease();
      }
      else
      {
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        aBlock[0] = (uint64_t)v42;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          sub_F7E50(0, v42[2] + 1, 1);
          uint64_t v42 = (void *)aBlock[0];
        }
        unint64_t v50 = v42[2];
        unint64_t v49 = v42[3];
        if (v50 >= v49 >> 1)
        {
          sub_F7E50(v49 > 1, v50 + 1, 1);
          uint64_t v42 = (void *)aBlock[0];
        }
        v42[2] = v50 + 1;
        unint64_t v51 = &v42[2 * v50];
        v51[4] = v47;
        _OWORD v51[5] = v46;
      }
      v45 += 2;
      --v41;
    }
    while (v41);
    swift_release();
    a5 = v44;
  }
  uint64_t v52 = v42[2];
  swift_release();
  id v53 = [v129 mediaSearch];
  if (v53)
  {
    uint64_t v54 = v53;
    uint64_t v55 = (char *)[v53 mediaType];

    BOOL v56 = v55 == (unsigned char *)&dword_8 + 2;
  }
  else
  {
    BOOL v56 = 0;
  }
  uint64_t v57 = v138;
  sub_297140();
  unsigned int v59 = (v58 >= a9) | v130;
  swift_beginAccess();
  if (*(unsigned char *)(a5 + 16))
  {
    char v60 = 1;
  }
  else
  {
    if (v52) {
      char v61 = 1;
    }
    else {
      char v61 = v56;
    }
    char v60 = v61 | v59;
  }
  LODWORD(v129) = v59;
  uint64_t v141 = v40;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v62 = sub_6E60(v43, (uint64_t)qword_31FC08);
  uint64_t v63 = *(void (**)(char *, uint64_t, uint64_t))(v57 + 16);
  uint64_t v139 = v62;
  unint64_t v130 = v63;
  ((void (*)(char *))v63)(v136);
  swift_retain();
  uint64_t v64 = sub_2987E0();
  os_log_type_t v65 = sub_298DC0();
  BOOL v66 = os_log_type_enabled(v64, v65);
  id v140 = (void (*)(char *, uint64_t, uint64_t))(a5 + 16);
  uint64_t v111 = v52;
  if (v66)
  {
    uint64_t v67 = (_DWORD *)swift_slowAlloc();
    uint64_t v110 = v57 + 16;
    char v68 = v60;
    double v69 = v67;
    *uint64_t v67 = 67110144;
    LODWORD(aBlock[0]) = v68 & 1;
    sub_2992C0();
    *((_WORD *)v69 + 4) = 1024;
    LODWORD(aBlock[0]) = v52 != 0;
    sub_2992C0();
    *((_WORD *)v69 + 7) = 1024;
    LODWORD(aBlock[0]) = v56;
    sub_2992C0();
    *((_WORD *)v69 + 10) = 1024;
    LODWORD(aBlock[0]) = v129 & 1;
    sub_2992C0();
    *((_WORD *)v69 + 13) = 1024;
    uint64_t v43 = v137;
    swift_beginAccess();
    LODWORD(aBlock[0]) = *(unsigned __int8 *)(a5 + 16);
    uint64_t v57 = v138;
    sub_2992C0();
    swift_release();
    _os_log_impl(&dword_0, v64, v65, "PlayMediaAppResolver#forcedResolution firstPartyDisambiguate?:%{BOOL}d --- default apps test. contains3p?:%{BOOL}d audiobook?:%{BOOL}d firstPartyRateTest?:%{BOOL}d repeatedCancelled?:%{BOOL}d", (uint8_t *)v69, 0x20u);
    char v60 = v68;
    swift_slowDealloc();
  }
  else
  {

    swift_release();
  }
  uint64_t v70 = v141;
  double v73 = *(void (**)(void, void))(v57 + 8);
  uint64_t v71 = v57 + 8;
  double v72 = v73;
  v73(v136, v43);
  if (v60)
  {
    id v129 = v72;
    uint64_t v138 = v71;
    unint64_t v136 = a10;
    BOOL v74 = v111 != 0;
    BOOL v75 = (void *)sub_2961C0();
    uint64_t v76 = v114;
    BOOL v77 = v113;
    uint64_t v78 = v115;
    (*(void (**)(char *, uint64_t, uint64_t))(v114 + 16))(v113, v135, v115);
    unint64_t v79 = (*(unsigned __int8 *)(v76 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v76 + 80);
    uint64_t v80 = swift_allocObject();
    *(unsigned char *)(v80 + 16) = v74;
    *(void *)(v80 + 24) = v131;
    uint64_t v81 = v137;
    (*(void (**)(unint64_t, char *, uint64_t))(v76 + 32))(v80 + v79, v77, v78);
    uint64_t v145 = sub_107BD4;
    uint64_t v146 = v80;
    aBlock[0] = (uint64_t)_NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = (uint64_t)sub_7460;
    id v144 = &unk_2F7178;
    uint64_t v82 = _Block_copy(aBlock);
    swift_retain();
    id v83 = v116;
    sub_2988E0();
    uint64_t v142 = _swiftEmptyArrayStorage;
    sub_26740((unint64_t *)&qword_310770, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
    sub_71D4(&qword_30E460);
    sub_25E7C();
    id v84 = v118;
    uint64_t v85 = v121;
    sub_299330();
    sub_2990E0();
    _Block_release(v82);

    (*(void (**)(char *, uint64_t))(v120 + 8))(v84, v85);
    uint64_t v86 = v83;
    uint64_t v87 = v81;
    (*(void (**)(char *, uint64_t))(v117 + 8))(v86, v119);
    swift_release();
    uint64_t v88 = v122;
    v130(v122, v139, v87);
    swift_retain_n();
    uint64_t v89 = sub_2987E0();
    os_log_type_t v90 = sub_298DC0();
    if (os_log_type_enabled(v89, v90))
    {
      uint64_t v91 = (uint8_t *)swift_slowAlloc();
      aBlock[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v91 = 136315138;
      swift_retain();
      uint64_t v92 = sub_298B60();
      unint64_t v94 = v93;
      swift_release();
      uint64_t v142 = (void *)sub_6E98(v92, v94, aBlock);
      uint64_t v70 = v141;
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v89, v90, "PlayMediaAppResolver#forcedResolution disambiguating apps: %s", v91, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_release_n();
    }
    ((void (*)(char *, uint64_t))v129)(v88, v87);
    byte_310D18 = 1;
    (*(void (**)(char *, char *, uint64_t))(v123 + 16))(v125, v136, v124);
    uint64_t v97 = v131;
    uint64_t v98 = (uint64_t)v131 + *(void *)(class metadata base offset for CommonAppResolver + *v131 + 32);
    swift_beginAccess();
    sub_12AF8(v98, *(void *)(v98 + 24));
    sub_296C80();
    swift_endAccess();
    sub_18D5C((uint64_t)v97 + qword_310D28, (uint64_t)aBlock);
    sub_74A4(aBlock, (uint64_t)v144);
    os_log_type_t v99 = v140;
    swift_beginAccess();
    uint64_t v100 = v127;
    uint64_t v101 = (unsigned int *)&enum case for DisambiguateItemsReason.repeatCancelled(_:);
    if (!*(unsigned char *)v99) {
      uint64_t v101 = (unsigned int *)&enum case for DisambiguateItemsReason.forced(_:);
    }
    uint64_t v102 = v126;
    uint64_t v103 = v128;
    (*(void (**)(char *, void, uint64_t))(v127 + 104))(v126, *v101, v128);
    sub_2971F0();
    (*(void (**)(char *, uint64_t))(v100 + 8))(v102, v103);
    sub_7184((uint64_t)aBlock);
    uint64_t v104 = sub_71D4(&qword_310DB8);
    uint64_t v96 = (uint64_t)v132;
    uint64_t v105 = (char *)v132 + *(int *)(v104 + 48);
    *unint64_t v132 = v70;
    uint64_t v106 = enum case for ResolutionResultType.ForcedDisambiguation(_:);
    uint64_t v107 = sub_296D30();
    (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v107 - 8) + 104))(v105, v106, v107);
    uint64_t v108 = type metadata accessor for BundleResolutionResult();
    swift_storeEnumTagMultiPayload();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v108 - 8) + 56))(v96, 0, 1, v108);
  }
  else
  {
    swift_release();
    uint64_t v95 = type metadata accessor for BundleResolutionResult();
    uint64_t v96 = (uint64_t)v132;
    (*(void (**)(uint64_t *, uint64_t, uint64_t, uint64_t))(*(void *)(v95 - 8) + 56))(v132, 1, 1, v95);
  }
  v134(v96);
  return sub_23A44(v96, &qword_310DB0);
}

void sub_104BC4(char a1, void *a2)
{
  uint64_t v34 = sub_298800();
  uint64_t v32 = *(void *)(v34 - 8);
  __chkstk_darwin(v34);
  uint64_t v33 = (char *)&v31 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_296EB0();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v31 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = (unsigned int *)&enum case for CoreAnalyticsResponses.FabricatedPlayCodes.forcedDisambiguationWith3p(_:);
  if ((a1 & 1) == 0) {
    uint64_t v9 = (unsigned int *)&enum case for CoreAnalyticsResponses.FabricatedPlayCodes.forcedDisambiguation1pOnly(_:);
  }
  (*(void (**)(char *, void, uint64_t))(v6 + 104))(v8, *v9, v5);
  uint64_t v31 = sub_296EA0();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  sub_71D4(&qword_30E458);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29B670;
  *(void *)(inited + 32) = 0x6449707061;
  *(void *)(inited + 40) = 0xE500000000000000;
  sub_1983C(0, &qword_310DC0);
  *(void *)(inited + 48) = sub_299250();
  *(void *)(inited + 56) = 1701080931;
  *(void *)(inited + 64) = 0xE400000000000000;
  *(NSNumber *)(inited + 72) = sub_298C90();
  *(void *)(inited + 80) = 0x70616C45656D6974;
  *(void *)(inited + 88) = 0xEB00000000646573;
  sub_1983C(0, (unint64_t *)&qword_30DB90);
  *(NSNumber *)(inited + 96) = sub_299220(0);
  *(void *)(inited + 104) = 0x65636E6174736E69;
  *(void *)(inited + 112) = 0xE800000000000000;
  uint64_t v11 = (uint64_t)a2 + *(void *)(class metadata base offset for CommonAppResolver + *a2 + 32);
  swift_beginAccess();
  sub_18D5C(v11, (uint64_t)v35);
  sub_74A4(v35, (uint64_t)v36);
  sub_296BD0();
  Class isa = sub_298C90().super.super.isa;
  sub_7184((uint64_t)v35);
  *(void *)(inited + 120) = isa;
  *(void *)(inited + 128) = 0x756F43736D657469;
  *(void *)(inited + 136) = 0xEA0000000000746ELL;
  *(NSNumber *)(inited + 144) = sub_299220(0);
  *(void *)(inited + 152) = 0x7265666E49707061;
  *(void *)(inited + 160) = 0xEB00000000646572;
  *(void *)(inited + 168) = [objc_allocWithZone((Class)NSNumber) initWithBool:1];
  *(void *)(inited + 176) = 0x706D657474417361;
  *(void *)(inited + 184) = 0xEB00000000646574;
  *(void *)(inited + 192) = [objc_allocWithZone((Class)NSNumber) initWithBool:0];
  *(void *)(inited + 200) = 0x7265735577656ELL;
  *(void *)(inited + 208) = 0xE700000000000000;
  *(void *)(inited + 216) = [objc_allocWithZone((Class)NSNumber) initWithBool:0];
  *(void *)(inited + 224) = 0x646573557361;
  *(void *)(inited + 232) = 0xE600000000000000;
  *(void *)(inited + 240) = [objc_allocWithZone((Class)NSNumber) initWithBool:0];
  strcpy((char *)(inited + 248), "asExperimentId");
  *(unsigned char *)(inited + 263) = -18;
  sub_297130();
  NSString v13 = sub_2989B0();
  swift_bridgeObjectRelease();
  *(void *)(inited + 264) = v13;
  strcpy((char *)(inited + 272), "asTreatmentId");
  *(_WORD *)(inited + 286) = -4864;
  sub_297120();
  NSString v14 = sub_2989B0();
  swift_bridgeObjectRelease();
  *(void *)(inited + 288) = v14;
  *(void *)(inited + 296) = 0x756F6C6C6F527361;
  *(void *)(inited + 304) = 0xEB00000000644974;
  sub_297100();
  NSString v15 = sub_2989B0();
  swift_bridgeObjectRelease();
  *(void *)(inited + 312) = v15;
  *(void *)(inited + 320) = 0x6469666E6F437361;
  *(void *)(inited + 328) = 0xEF73624165636E65;
  *(NSNumber *)(inited + 336) = sub_299200(-1.0);
  *(void *)(inited + 344) = 0xD000000000000010;
  *(void *)(inited + 352) = 0x80000000002A4090;
  *(NSNumber *)(inited + 360) = sub_299200(-1.0);
  *(void *)(inited + 368) = 0x64497070417361;
  *(void *)(inited + 376) = 0xE700000000000000;
  *(void *)(inited + 384) = sub_299250();
  strcpy((char *)(inited + 392), "successCount");
  *(unsigned char *)(inited + 405) = 0;
  *(_WORD *)(inited + 406) = -5120;
  *(NSNumber *)(inited + 408) = sub_299220(0);
  *(void *)(inited + 416) = 0xD000000000000010;
  *(void *)(inited + 424) = 0x80000000002A40B0;
  *(NSNumber *)(inited + 432) = sub_299220(0);
  *(void *)(inited + 440) = 0x6F43646573557361;
  *(void *)(inited + 448) = 0xEB00000000746E75;
  *(NSNumber *)(inited + 456) = sub_299220(0);
  strcpy((char *)(inited + 464), "responseCode");
  *(unsigned char *)(inited + 477) = 0;
  *(_WORD *)(inited + 478) = -5120;
  uint64_t v39 = v31;
  sub_2995A0();
  NSString v16 = sub_2989B0();
  swift_bridgeObjectRelease();
  *(void *)(inited + 480) = v16;
  unint64_t v17 = sub_9A950(inited);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v18 = v34;
  uint64_t v19 = sub_6E60(v34, (uint64_t)qword_31FC08);
  uint64_t v21 = v32;
  uint64_t v20 = v33;
  (*(void (**)(char *, uint64_t, uint64_t))(v32 + 16))(v33, v19, v18);
  swift_bridgeObjectRetain_n();
  uint64_t v22 = sub_2987E0();
  os_log_type_t v23 = sub_298DA0();
  if (os_log_type_enabled(v22, v23))
  {
    uint64_t v24 = (uint8_t *)swift_slowAlloc();
    v35[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v24 = 136315138;
    uint64_t v31 = (uint64_t)(v24 + 4);
    sub_1983C(0, &qword_30E468);
    swift_bridgeObjectRetain();
    uint64_t v25 = sub_298970();
    unint64_t v27 = v26;
    swift_bridgeObjectRelease();
    uint64_t v39 = sub_6E98(v25, v27, v35);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v22, v23, "PlayMediaAppResolver#forcedResolution recording result analytics data due to disambiguation result: %s", v24, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v21 + 8))(v33, v34);
  }
  else
  {

    swift_bridgeObjectRelease_n();
    (*(void (**)(char *, uint64_t))(v21 + 8))(v20, v18);
  }
  NSString v28 = sub_2989B0();
  uint64_t v29 = swift_allocObject();
  *(void *)(v29 + 16) = v17;
  unint64_t v37 = CommonFlowStrategy.makeParameterMetadata(intent:);
  uint64_t v38 = v29;
  v35[0] = (uint64_t)_NSConcreteStackBlock;
  v35[1] = 1107296256;
  _OWORD v35[2] = (uint64_t)sub_413B4;
  uint64_t v36 = &unk_2F71C8;
  uint64_t v30 = _Block_copy(v35);
  swift_release();
  AnalyticsSendEventLazy();
  _Block_release(v30);
}

uint64_t sub_1054F0()
{
  sub_7184(v0 + qword_310D28);
  sub_7184(v0 + qword_310D30);
  sub_7184(v0 + qword_310D38);
  sub_7184(v0 + qword_310D40);
  sub_7184(v0 + qword_310D48);
  uint64_t v1 = v0 + qword_310D50;

  return sub_7184(v1);
}

void *PlayMediaAppResolver.deinit()
{
  uint64_t v0 = (void *)sub_2976B0();
  swift_bridgeObjectRelease();
  sub_7184((uint64_t)v0 + *(void *)(class metadata base offset for CommonAppResolver + *v0 + 16));
  sub_7184((uint64_t)v0 + *(void *)(class metadata base offset for CommonAppResolver + *v0 + 24));
  sub_7184((uint64_t)v0 + *(void *)(class metadata base offset for CommonAppResolver + *v0 + 32));
  sub_7184((uint64_t)v0 + *(void *)(class metadata base offset for CommonAppResolver + *v0 + 40));
  sub_7184((uint64_t)v0 + *(void *)(class metadata base offset for CommonAppResolver + *v0 + 48));
  sub_7184((uint64_t)v0 + qword_310D28);
  sub_7184((uint64_t)v0 + qword_310D30);
  sub_7184((uint64_t)v0 + qword_310D38);
  sub_7184((uint64_t)v0 + qword_310D40);
  sub_7184((uint64_t)v0 + qword_310D48);
  sub_7184((uint64_t)v0 + qword_310D50);
  return v0;
}

uint64_t PlayMediaAppResolver.__deallocating_deinit()
{
  PlayMediaAppResolver.deinit();

  return swift_deallocClassInstance();
}

uint64_t sub_105784(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t (*a6)(uint64_t))
{
  if (qword_30C890 != -1) {
    swift_once();
  }
  sub_2987A0();
  return a6(a1);
}

void sub_105840()
{
  uint64_t v1 = *v0;
  unint64_t v2 = *(void *)(*v0 + 16);
  unint64_t v3 = v2 - 2;
  if (v2 >= 2)
  {
    unint64_t v4 = 0;
    while (1)
    {
      swift_stdlib_random();
      uint64_t v6 = (0 * (unsigned __int128)v2) >> 64;
      if (v2)
      {
        if (-(uint64_t)v2 % v2)
        {
          while (1)
            swift_stdlib_random();
        }
      }
      unint64_t v8 = v4 + v6;
      if (__OFADD__(v4, v6)) {
        break;
      }
      if (v4 != v8)
      {
        unint64_t v9 = *(void *)(v1 + 16);
        if (v4 >= v9) {
          goto LABEL_18;
        }
        if (v8 >= v9) {
          goto LABEL_19;
        }
        uint64_t v10 = (uint64_t *)(v1 + 32 + 16 * v4);
        uint64_t v12 = *v10;
        uint64_t v11 = v10[1];
        NSString v13 = (uint64_t *)(v1 + 32 + 16 * v8);
        uint64_t v15 = *v13;
        uint64_t v14 = v13[1];
        swift_bridgeObjectRetain();
        swift_bridgeObjectRetain();
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          uint64_t v1 = sub_1874CC(v1);
        }
        if (v4 >= *(void *)(v1 + 16)) {
          goto LABEL_20;
        }
        NSString v16 = (void *)(v1 + 32 + 16 * v4);
        *NSString v16 = v15;
        v16[1] = v14;
        swift_bridgeObjectRelease();
        if (v8 >= *(void *)(v1 + 16)) {
          goto LABEL_21;
        }
        unint64_t v17 = (void *)(v1 + 32 + 16 * v8);
        *unint64_t v17 = v12;
        v17[1] = v11;
        swift_bridgeObjectRelease();
        uint64_t *v18 = v1;
      }
      --v2;
      if (v4++ == v3) {
        return;
      }
    }
    __break(1u);
LABEL_18:
    __break(1u);
LABEL_19:
    __break(1u);
LABEL_20:
    __break(1u);
LABEL_21:
    __break(1u);
  }
}

uint64_t sub_1059CC(uint64_t result, double a2, double a3)
{
  if (a2 == a3)
  {
    __break(1u);
    goto LABEL_7;
  }
  double v5 = a3 - a2;
  if ((~COERCE__INT64(a3 - a2) & 0x7FF0000000000000) == 0)
  {
LABEL_7:
    __break(1u);
    return result;
  }
  uint64_t v6 = result;
  uint64_t result = swift_stdlib_random();
  if (v5 * ((double)0 * 1.11022302e-16) + a2 == a3) {
    return sub_1059CC(v6, a2, a3);
  }
  return result;
}

uint64_t sub_105A78(char *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t (*a6)(char *))
{
  char v8 = *a1;
  sub_2990F0();
  if (qword_30C890 != -1) {
    swift_once();
  }
  sub_2987A0();
  return a6(&v8);
}

uint64_t sub_105B44(char *a1)
{
  uint64_t v3 = *(void *)(sub_2987D0() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v5 = *(void *)(v1 + 16);
  uint64_t v6 = *(void *)(v1 + 24);
  uint64_t v7 = *(uint64_t (**)(char *))(v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v8 = *(unsigned __int8 *)(v1 + 32);

  return sub_105A78(a1, v5, v6, v8, v1 + v4, v7);
}

uint64_t sub_105BEC(char *a1)
{
  unint64_t v2 = *(uint64_t (**)(char *))(v1 + 16);
  char v4 = *a1;
  return v2(&v4);
}

uint64_t sub_105C28(void *a1, unint64_t a2, uint64_t a3, uint64_t a4, uint64_t (*a5)(uint64_t **), uint64_t a6)
{
  uint64_t v151 = a6;
  uint64_t v135 = a4;
  uint64_t v152 = a3;
  id v155 = a1;
  uint64_t v150 = sub_2988D0();
  uint64_t v149 = *(void *)(v150 - 8);
  __chkstk_darwin(v150);
  uint64_t v147 = (char *)&v126 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v148 = sub_298900();
  uint64_t v146 = *(void *)(v148 - 8);
  __chkstk_darwin(v148);
  uint64_t v10 = (char *)&v126 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v143 = sub_2988B0();
  uint64_t v142 = *(void *)(v143 - 8);
  __chkstk_darwin(v143);
  uint64_t v141 = (uint64_t *)((char *)&v126 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v161 = sub_298920();
  uint64_t v145 = *(void *)(v161 - 8);
  uint64_t v12 = __chkstk_darwin(v161);
  id v140 = (char *)&v126 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  id v144 = (char *)&v126 - v14;
  uint64_t v15 = sub_298800();
  NSString v16 = *(void **)(v15 - 8);
  uint64_t v17 = __chkstk_darwin(v15);
  unint64_t v132 = (char *)&v126 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v138 = (char *)&v126 - v20;
  uint64_t v21 = __chkstk_darwin(v19);
  uint64_t v133 = (char *)&v126 - v22;
  uint64_t v23 = __chkstk_darwin(v21);
  id v134 = (char *)&v126 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  unint64_t v136 = (char *)&v126 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v139 = (char *)&v126 - v28;
  __chkstk_darwin(v27);
  unint64_t v30 = (unint64_t)&v126 - v29;
  sub_2963E0();
  sub_74A4(&aBlock, (uint64_t)v168);
  LOBYTE(v31) = sub_2965C0();
  sub_7184((uint64_t)&aBlock);
  if (qword_30C848 != -1) {
LABEL_67:
  }
    swift_once();
  uint64_t v32 = sub_6E60(v15, (uint64_t)qword_31FC08);
  uint64_t v33 = v16;
  uint64_t v34 = (void (*)(char *, uint64_t, uint64_t))v16[2];
  uint64_t v157 = v32;
  unint64_t v158 = v34;
  uint64_t v162 = v15;
  uint64_t v159 = v16 + 2;
  ((void (*)(unint64_t))v34)(v30);
  uint64_t v35 = sub_2987E0();
  os_log_type_t v36 = sub_298D90();
  if (os_log_type_enabled(v35, v36))
  {
    unint64_t v37 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)unint64_t v37 = 67109120;
    LODWORD(aBlock) = v31 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v35, v36, "PlayMediaAppResolver#postResolve will Siri speak?:%{BOOL}d", v37, 8u);
    swift_slowDealloc();
  }

  uint64_t v156 = (void (*)(unint64_t, uint64_t))v33[1];
  uint64_t v160 = v33 + 1;
  v156(v30, v162);
  sub_298FA0(v31 & 1);
  unint64_t v137 = a2;
  uint64_t v38 = sub_2976E0();
  uint64_t v31 = _swiftEmptyArrayStorage;
  uint64_t v153 = a5;
  if (!v39) {
    goto LABEL_71;
  }
  aBlock = (uint64_t *)v38;
  uint64_t v166 = v39;
  uint64_t v163 = sub_2965B0();
  uint64_t v164 = v40;
  sub_726C();
  sub_72C0();
  uint64_t v31 = _swiftEmptyArrayStorage;
  char v41 = sub_298990();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if ((v41 & 1) == 0
    || (id v42 = [v155 privatePlayMediaIntentData]) == 0
    || (uint64_t v43 = v42,
        id v44 = [v42 audioSearchResults],
        v43,
        !v44))
  {
LABEL_71:
    unint64_t v154 = sub_2961C0();
    uint64_t v71 = v140;
    sub_298910();
    double v72 = v141;
    *uint64_t v141 = 10;
    uint64_t v73 = v142;
    uint64_t v74 = v143;
    (*(void (**)(void *, void, uint64_t))(v142 + 104))(v72, enum case for DispatchTimeInterval.seconds(_:), v143);
    BOOL v75 = v144;
    sub_298930();
    (*(void (**)(void *, uint64_t))(v73 + 8))(v72, v74);
    uint64_t v145 = *(void *)(v145 + 8);
    ((void (*)(char *, uint64_t))v145)(v71, v161);
    uint64_t v76 = swift_allocObject();
    uint64_t v77 = v152;
    swift_weakInit();
    uint64_t v169 = sub_107CF4;
    uint64_t v170 = v76;
    aBlock = (uint64_t *)_NSConcreteStackBlock;
    uint64_t v166 = 1107296256;
    uint64_t v167 = sub_7460;
    uint64_t v168 = &unk_2F72B8;
    uint64_t v78 = _Block_copy(&aBlock);
    swift_retain();
    sub_2988E0();
    uint64_t v163 = (uint64_t)v31;
    sub_26740((unint64_t *)&qword_310770, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
    sub_71D4(&qword_30E460);
    sub_25E7C();
    unint64_t v79 = v10;
    uint64_t v80 = v147;
    uint64_t v81 = v150;
    sub_299330();
    uint64_t v82 = (void *)v154;
    sub_2990C0();
    _Block_release(v78);

    (*(void (**)(char *, uint64_t))(v149 + 8))(v80, v81);
    (*(void (**)(char *, uint64_t))(v146 + 8))(v79, v148);
    ((void (*)(char *, uint64_t))v145)(v75, v161);
    swift_release();
    swift_release();
    sub_74A4((void *)(v77 + qword_310D40), *(void *)(v77 + qword_310D40 + 24));
    uint64_t v83 = sub_2965D0();
    if (!v84)
    {
      uint64_t v97 = v136;
      uint64_t v98 = v162;
      v158(v136, v157, v162);
      os_log_type_t v99 = sub_2987E0();
      os_log_type_t v100 = sub_298DB0();
      BOOL v101 = os_log_type_enabled(v99, v100);
      uint64_t v102 = v153;
      if (v101)
      {
        uint64_t v103 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v103 = 0;
        _os_log_impl(&dword_0, v99, v100, "PlayMediaAppResolver#postResolve No requestID found for the current request. Skipping log collection for intent", v103, 2u);
        swift_slowDealloc();
      }

      v156((unint64_t)v97, v98);
      LOBYTE(aBlock) = 1;
      return v102(&aBlock);
    }
    uint64_t v85 = v83;
    unint64_t v86 = v84;
    uint64_t v87 = v139;
    uint64_t v88 = v162;
    v158(v139, v157, v162);
    swift_bridgeObjectRetain_n();
    uint64_t v89 = sub_2987E0();
    os_log_type_t v90 = sub_298D90();
    BOOL v91 = os_log_type_enabled(v89, v90);
    p_base_meths = &PlayMedia.HandleIntentStrategy.base_meths;
    unint64_t v93 = v153;
    if (v91)
    {
      uint64_t v94 = swift_slowAlloc();
      aBlock = (uint64_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v94 = 136315394;
      swift_bridgeObjectRetain();
      uint64_t v163 = sub_6E98(v85, v86, (uint64_t *)&aBlock);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v94 + 12) = 2080;
      if (qword_30C860 != -1) {
        swift_once();
      }
      uint64_t v163 = qword_31FC40;
      swift_retain();
      sub_71D4(&qword_310DC8);
      uint64_t v95 = sub_2989E0();
      uint64_t v163 = sub_6E98(v95, v96, (uint64_t *)&aBlock);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v89, v90, "PlayMediaAppResolver#postResolve Storing intent for request: %s, stored: %s", (uint8_t *)v94, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v88 = v162;
      v156((unint64_t)v139, v162);
      unint64_t v93 = v153;
      p_base_meths = (__objc2_meth_list **)(&PlayMedia.HandleIntentStrategy + 32);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      v156((unint64_t)v87, v88);
    }
    uint64_t v104 = v138;
    if (p_base_meths[268] != (__objc2_meth_list *)-1) {
      swift_once();
    }
    aBlock = (uint64_t *)v85;
    uint64_t v166 = v86;
    if (sub_296170())
    {
      swift_bridgeObjectRelease();
      uint64_t v105 = v134;
      v158(v134, v157, v88);
      uint64_t v106 = sub_2987E0();
      os_log_type_t v107 = sub_298DB0();
      if (os_log_type_enabled(v106, v107))
      {
        uint64_t v108 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v108 = 0;
        _os_log_impl(&dword_0, v106, v107, "PlayMediaAppResolver#postResolve SELF logs already collected for this request. Avoiding double logging", v108, 2u);
        swift_slowDealloc();
      }
    }
    else
    {
      aBlock = (uint64_t *)v85;
      uint64_t v166 = v86;
      sub_296150();
      swift_bridgeObjectRelease();
      if (sub_296D10())
      {
        uint64_t v109 = sub_2976E0();
        if (v110)
        {
          uint64_t v111 = v109;
          uint64_t v112 = v110;
          LODWORD(v161) = byte_310D18;
          byte_310D18 = 0;
          v158(v104, v157, v88);
          char v113 = sub_2987E0();
          os_log_type_t v114 = sub_298DC0();
          if (os_log_type_enabled(v113, v114))
          {
            uint64_t v115 = swift_slowAlloc();
            aBlock = (uint64_t *)swift_slowAlloc();
            *(_DWORD *)uint64_t v115 = 136446466;
            uint64_t v116 = sub_2973D0();
            uint64_t v163 = sub_6E98(v116, v117, (uint64_t *)&aBlock);
            sub_2992C0();
            swift_bridgeObjectRelease();
            *(_WORD *)(v115 + 12) = 1024;
            LODWORD(v163) = v161;
            sub_2992C0();
            _os_log_impl(&dword_0, v113, v114, "PlayMediaAppResolver#postResolve %{public}s recording app selection signals. force?:%{BOOL}d", (uint8_t *)v115, 0x12u);
            swift_arrayDestroy();
            unint64_t v93 = v153;
            swift_slowDealloc();
            swift_slowDealloc();

            v156((unint64_t)v138, v88);
          }
          else
          {

            v156((unint64_t)v104, v88);
          }
          uint64_t v124 = v152;
          sub_74A4((void *)(v152 + qword_310D28), *(void *)(v152 + qword_310D28 + 24));
          uint64_t v125 = (void *)swift_allocObject();
          v125[2] = v124;
          v125[3] = v111;
          void v125[4] = v112;
          swift_retain();
          swift_bridgeObjectRetain();
          sub_2971D0();
          swift_release();
          swift_bridgeObjectRelease();
        }
        goto LABEL_93;
      }
      uint64_t v105 = v133;
      v158(v133, v157, v88);
      uint64_t v106 = sub_2987E0();
      os_log_type_t v118 = sub_298DC0();
      if (os_log_type_enabled(v106, v118))
      {
        uint64_t v119 = (uint8_t *)swift_slowAlloc();
        aBlock = (uint64_t *)swift_slowAlloc();
        *(_DWORD *)uint64_t v119 = 136446210;
        uint64_t v120 = sub_2973D0();
        uint64_t v163 = sub_6E98(v120, v121, (uint64_t *)&aBlock);
        sub_2992C0();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v106, v118, "PlayMediaAppResolver#postResolve %{public}s skipping app selection signals record as the app was not explicitly chosen by the user", v119, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v122 = v133;
        uint64_t v123 = v162;
LABEL_92:
        v156((unint64_t)v122, v123);
LABEL_93:
        LOBYTE(aBlock) = 1;
        return v93(&aBlock);
      }
    }

    uint64_t v122 = v105;
    uint64_t v123 = v88;
    goto LABEL_92;
  }
  uint64_t v127 = v10;
  uint64_t v15 = sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v30 = sub_298B50();

  unint64_t v129 = v30;
  if (v30 >> 62)
  {
LABEL_69:
    swift_bridgeObjectRetain();
    uint64_t v10 = (char *)sub_2994C0();
    swift_bridgeObjectRelease();
    if (v10) {
      goto LABEL_10;
    }
    goto LABEL_70;
  }
  uint64_t v10 = *(char **)((char *)&dword_10 + (v30 & 0xFFFFFFFFFFFFFF8));
  if (!v10)
  {
LABEL_70:
    swift_bridgeObjectRelease();
    uint64_t v10 = v127;
    goto LABEL_71;
  }
LABEL_10:
  uint64_t v126 = v15;
  BOOL v45 = 0;
  aBlock = v31;
  a5 = (uint64_t (*)(uint64_t **))v129;
  unint64_t v154 = v129 & 0xC000000000000001;
  uint64_t v131 = v129 & 0xFFFFFFFFFFFFFF8;
  unint64_t v130 = v129 + 32;
  uint64_t v31 = &qword_2F4558;
  uint64_t v128 = v10;
  while (1)
  {
    while (1)
    {
      if (v154)
      {
        uint64_t v46 = (void *)sub_2993E0();
      }
      else
      {
        if ((unint64_t)v45 >= *(void *)(v131 + 16))
        {
          __break(1u);
          goto LABEL_69;
        }
        uint64_t v46 = *(id *)(v130 + 8 * (void)v45);
      }
      NSString v16 = v46;
      if (__OFADD__(v45++, 1))
      {
        __break(1u);
        goto LABEL_67;
      }
      a2 = 0xD000000000000013;
      swift_bridgeObjectRetain();
      id v48 = objc_msgSend(v16, "privateMediaItemValueData", v126);
      if (!v48) {
        goto LABEL_27;
      }
      unint64_t v30 = (unint64_t)v48;
      id v49 = [v48 internalSignals];

      if (!v49) {
        goto LABEL_27;
      }
      unint64_t v30 = sub_298B50();

      uint64_t v50 = *(void *)(v30 + 16);
      if (!v50)
      {
        swift_bridgeObjectRelease();
LABEL_27:
        swift_bridgeObjectRelease();
        goto LABEL_28;
      }
      BOOL v51 = *(void *)(v30 + 32) == 0xD000000000000013
         && *(void *)(v30 + 40) == (void)"PrioritizeClassicalPlayback";
      if (!v51 && (sub_2995D0() & 1) == 0) {
        break;
      }
LABEL_11:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_arrayDestroy();
      sub_299410();
      unint64_t v30 = aBlock[2];
      sub_299440();
      sub_299450();
      sub_299420();
      a5 = (uint64_t (*)(uint64_t **))v129;
      uint64_t v10 = v128;
      if (v45 == v128) {
        goto LABEL_46;
      }
    }
    if (v50 != 1) {
      break;
    }
LABEL_26:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    a5 = (uint64_t (*)(uint64_t **))v129;
    uint64_t v10 = v128;
LABEL_28:

    if (v45 == v10)
    {
LABEL_46:
      swift_bridgeObjectRelease();
      sub_298CF0();
      swift_release();
      uint64_t v57 = v132;
      uint64_t v58 = v162;
      v158(v132, v157, v162);
      unsigned int v59 = sub_2987E0();
      os_log_type_t v60 = sub_298DA0();
      if (os_log_type_enabled(v59, v60))
      {
        char v61 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)char v61 = 0;
        _os_log_impl(&dword_0, v59, v60, "PlayMediaAppResolver#postResolve adding MediaItems to PlayMediaIntent for Apple Music Classical playback", v61, 2u);
        swift_slowDealloc();
      }

      v156((unint64_t)v57, v58);
      self;
      id v62 = v155;
      uint64_t v63 = swift_dynamicCastObjCClass();
      uint64_t v10 = v127;
      uint64_t v31 = _swiftEmptyArrayStorage;
      if (v63)
      {
        id v64 = [v62 backingStore];
        self;
        uint64_t v65 = swift_dynamicCastObjCClass();
        if (v65) {
          goto LABEL_59;
        }
      }
      else
      {
        self;
        if (swift_dynamicCastObjCClass())
        {
          id v64 = [v62 backingStore];
          self;
          uint64_t v65 = swift_dynamicCastObjCClass();
          if (v65) {
            goto LABEL_59;
          }
        }
        else
        {
          self;
          if (swift_dynamicCastObjCClass())
          {
            id v64 = [v62 backingStore];
            self;
            uint64_t v65 = swift_dynamicCastObjCClass();
            if (v65) {
              goto LABEL_59;
            }
          }
          else
          {
            self;
            if (!swift_dynamicCastObjCClass())
            {
              swift_bridgeObjectRelease();
LABEL_61:
              if (_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(v62, (uint64_t)&off_2F4568))
              {
                id v69 = [v155 backingStore];
                self;
                uint64_t v70 = (void *)swift_dynamicCastObjCClass();
                if (!v70) {

                }
                [v70 setPlayShuffled:1];
              }
              goto LABEL_71;
            }
            id v64 = [v62 backingStore];
            self;
            uint64_t v65 = swift_dynamicCastObjCClass();
            if (v65)
            {
LABEL_59:
              BOOL v66 = (void *)v65;
              Class isa = sub_298B40().super.isa;
              id v68 = (id)INIntentSlotValueTransformToMediaItemValues();

              [v66 setMediaItems:v68];
              swift_bridgeObjectRelease();

              uint64_t v31 = _swiftEmptyArrayStorage;
              id v62 = v155;
              goto LABEL_61;
            }
          }
        }
      }
      swift_bridgeObjectRelease();

      goto LABEL_61;
    }
  }
  if (*(void *)(v30 + 48) == 0xD000000000000013 && *(void *)(v30 + 56) == (void)"PrioritizeClassicalPlayback") {
    goto LABEL_11;
  }
  uint64_t result = sub_2995D0();
  if (result) {
    goto LABEL_11;
  }
  if (v50 == 2) {
    goto LABEL_26;
  }
  uint64_t v54 = (void *)(v30 + 72);
  uint64_t v15 = 2;
  while (1)
  {
    uint64_t v55 = v15 + 1;
    if (__OFADD__(v15, 1)) {
      break;
    }
    if (*(v54 - 1) == 0xD000000000000013 && *v54 == (void)"PrioritizeClassicalPlayback") {
      goto LABEL_11;
    }
    uint64_t result = sub_2995D0();
    if (result) {
      goto LABEL_11;
    }
    v54 += 2;
    ++v15;
    if (v55 == v50) {
      goto LABEL_26;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_107314(uint64_t (*a1)(uint64_t **), uint64_t a2, uint64_t a3, void *a4, unint64_t a5, uint64_t a6)
{
  uint64_t v27 = a2;
  uint64_t v33 = a1;
  uint64_t v10 = sub_2988D0();
  uint64_t v32 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v25 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v31 = sub_298900();
  uint64_t v28 = *(void *)(v31 - 8);
  __chkstk_darwin(v31);
  uint64_t v14 = (char *)&v25 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_296D30();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v29 = v15;
  uint64_t v30 = v16;
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v25 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t))(v19 + 16))(v18, a6);
  swift_retain_n();
  id v26 = a4;
  swift_retain();
  swift_retain();
  uint64_t v20 = (void *)sub_296310();
  uint64_t v21 = swift_allocObject();
  *(void *)(v21 + 16) = a5;
  *(void *)(v21 + 24) = a3;
  aBlock[4] = sub_25ED8;
  aBlock[5] = v21;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_7460;
  uint64_t aBlock[3] = &unk_2F7268;
  uint64_t v22 = _Block_copy(aBlock);
  swift_retain();
  swift_retain();
  sub_2988E0();
  uint64_t v34 = _swiftEmptyArrayStorage;
  sub_26740((unint64_t *)&qword_310770, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
  sub_71D4(&qword_30E460);
  sub_25E7C();
  sub_299330();
  sub_2990E0();
  _Block_release(v22);

  (*(void (**)(char *, uint64_t))(v32 + 8))(v12, v10);
  (*(void (**)(char *, uint64_t))(v28 + 8))(v14, v31);
  swift_release();
  uint64_t v23 = v26;
  sub_105C28(v26, a5, a3, (uint64_t)v18, v33, v27);
  swift_release();
  swift_release();

  swift_release_n();
  return (*(uint64_t (**)(char *, uint64_t))(v30 + 8))(v18, v29);
}

uint64_t type metadata accessor for PlayMediaAppResolver()
{
  uint64_t result = qword_310D60;
  if (!qword_310D60) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_10773C()
{
  return swift_initClassMetadata2();
}

uint64_t sub_10779C()
{
  return type metadata accessor for PlayMediaAppResolver();
}

uint64_t sub_1077A4()
{
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_1077EC(uint64_t a1)
{
  return sub_1026F8(a1, *(void **)(v1 + 16), *(void **)(v1 + 24), *(unsigned __int8 *)(v1 + 32), *(void (**)(uint64_t))(v1 + 40), *(void (**)(uint64_t))(v1 + 48), *(void *)(v1 + 56));
}

uint64_t sub_107800()
{
  return _swift_deallocObject(v0, 17, 7);
}

uint64_t sub_107810()
{
  uint64_t v1 = sub_297160();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 32) & ~v3;
  unint64_t v5 = (((((v4 + *(void *)(v2 + 64)) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v6 = sub_293690();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = (v8 + v5 + 8) & ~v8;
  uint64_t v12 = v3 | v8 | 7;
  unint64_t v10 = ((*(void *)(v7 + 64) + v9 + 7) & 0xFFFFFFFFFFFFFFF8) + 8;

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v0 + v9, v6);

  return _swift_deallocObject(v0, v10, v12);
}

uint64_t sub_1079C0(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_297160() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  unint64_t v5 = v4 + *(void *)(v3 + 64);
  unint64_t v6 = ((v5 & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v7 = *(void *)(sub_293690() - 8);
  return sub_103BA4(a1, *(void **)(v1 + 16), v1 + v4, *(unsigned __int8 *)(v1 + v5), *(void *)((v5 & 0xFFFFFFFFFFFFFFF8) + v1 + 8), *(void (**)(uint64_t))(v1 + v6), *(void *)(v1 + v6 + 8), *(void **)(v1 + ((v6 + 23) & 0xFFFFFFFFFFFFFFF8)), *(double *)(v1 + 24), (char *)(v1+ ((*(unsigned __int8 *)(v7 + 80) + ((v6 + 23) & 0xFFFFFFFFFFFFFFF8) + 8) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80))));
}

uint64_t sub_107B08()
{
  uint64_t v1 = sub_297160();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 32) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

void sub_107BD4()
{
  sub_297160();
  char v1 = *(unsigned char *)(v0 + 16);
  uint64_t v2 = *(void **)(v0 + 24);

  sub_104BC4(v1, v2);
}

uint64_t sub_107C3C()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_107C7C()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_107CBC()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_107CF4()
{
}

uint64_t sub_107CFC()
{
  swift_release();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_107D3C(uint64_t a1)
{
  return sub_1016A0(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_107D48()
{
  uint64_t v1 = sub_296840();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  unint64_t v5 = (*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v6 = sub_2936E0();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = (v5 + v8 + 16) & ~v8;
  uint64_t v10 = v9 + *(void *)(v7 + 64);
  uint64_t v11 = v3 | v8 | 7;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_bridgeObjectRelease();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v0 + v9, v6);

  return _swift_deallocObject(v0, v10, v11);
}

uint64_t sub_107EB8()
{
  uint64_t v1 = *(void *)(sub_296840() - 8);
  unint64_t v2 = (*(unsigned __int8 *)(v1 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v1 + 80);
  unint64_t v3 = (*(void *)(v1 + 64) + v2 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v4 = *(void *)(sub_2936E0() - 8);
  uint64_t v5 = *(void *)(v0 + 16);
  uint64_t v6 = *(void *)(v0 + v3);
  uint64_t v7 = *(void *)(v0 + v3 + 8);
  uint64_t v8 = v0 + ((v3 + *(unsigned __int8 *)(v4 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80));

  return sub_1020E4(v5, v0 + v2, v6, v7, v8);
}

uint64_t sub_107FA0(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_2987D0() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  return sub_105784(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(unsigned __int8 *)(v1 + 32), v1 + v4, *(uint64_t (**)(uint64_t))(v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8)));
}

uint64_t sub_10803C()
{
  return (*(uint64_t (**)(void))(v0 + 16))();
}

uint64_t sub_108064()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_1080AC(uint64_t a1)
{
  return sub_FCCCC(a1, *(void (**)(void))(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32), *(void **)(v1 + 40));
}

uint64_t sub_1080B8(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for BundleResolutionResult();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_108114(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30EE88);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_108180()
{
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_1081C8(uint64_t a1)
{
  return sub_FD128(a1, *(void **)(v1 + 16), *(void **)(v1 + 24), *(void (**)(uint64_t))(v1 + 32), *(void *)(v1 + 40));
}

uint64_t sub_1081D4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for BundleResolutionResult();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_108238()
{
  uint64_t v1 = sub_2971C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_1082E0(uint64_t a1, unint64_t a2, uint64_t a3)
{
  uint64_t v7 = *(void *)(sub_2971C0() - 8);
  unint64_t v8 = (*(unsigned __int8 *)(v7 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = v3 + v8;
  uint64_t v10 = v3 + ((*(void *)(v7 + 64) + v8 + 7) & 0xFFFFFFFFFFFFFFF8);
  uint64_t v11 = *(void (**)(uint64_t *))v10;
  uint64_t v12 = *(void *)(v10 + 8);

  return sub_FE8B4(a1, a2, a3, v9, v11, v12);
}

uint64_t sub_108398()
{
  uint64_t v1 = sub_2971C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 40) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_10846C(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_2971C0() - 8);
  uint64_t v4 = v1[2];
  uint64_t v5 = (void (*)(uint64_t))v1[3];
  uint64_t v6 = v1[4];
  uint64_t v7 = (uint64_t)v1 + ((*(unsigned __int8 *)(v3 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_FE110(a1, v4, v5, v6, v7);
}

uint64_t sub_1084E4()
{
  uint64_t v1 = sub_2971C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 56) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_1085C0(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void *)(sub_2971C0() - 8);
  uint64_t v6 = (void *)v2[2];
  uint64_t v7 = v2[3];
  uint64_t v8 = v2[4];
  uint64_t v9 = v2[5];
  uint64_t v10 = v2[6];
  uint64_t v11 = (uint64_t)v2 + ((*(unsigned __int8 *)(v5 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80));

  return sub_FED60(a1, a2, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_10864C()
{
  swift_release();
  swift_release();

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_10869C(int a1)
{
  return sub_1009A4(a1, *(void *)(v1 + 16), *(void (**)(uint64_t))(v1 + 24), *(void *)(v1 + 32), *(void **)(v1 + 40), *(void **)(v1 + 48));
}

uint64_t sub_1086AC()
{
  swift_release();

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_1086F4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  return sub_100ACC(a1, a2, a3, a4, a5, a6, a7, *(void (**)(uint64_t))(v7 + 16), *(void *)(v7 + 24), *(void *)(v7 + 32), *(void **)(v7 + 40));
}

uint64_t sub_108728()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_108760()
{
  uint64_t v1 = sub_2971C0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 72) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_108844(uint64_t a1)
{
  sub_2971C0();
  return sub_FF5B8(a1, *(void *)(v1 + 16), *(unsigned __int8 *)(v1 + 24), *(void *)(v1 + 32), *(void *)(v1 + 40), *(void *)(v1 + 48), *(void (**)(void *))(v1 + 56), *(void *)(v1 + 64));
}

uint64_t sub_1088FC@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v79 = a1;
  uint64_t v83 = a3;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v73 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  uint64_t v80 = (char *)&v73 - v10;
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v77 = (char *)&v73 - v12;
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v78 = (char *)&v73 - v14;
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v76 = (char *)&v73 - v16;
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v73 - v17;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_6E60(v4, (uint64_t)qword_31FC08);
  uint64_t v81 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  v81(v18, v19, v4);
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298D90();
  if (os_log_type_enabled(v20, v21))
  {
    uint64_t v22 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v22 = 0;
    _os_log_impl(&dword_0, v20, v21, "PlayMediaUnsupportedValueSnippetProvider#unsupportedValueOutputView...", v22, 2u);
    swift_slowDealloc();
  }

  uint64_t v82 = *(void (**)(char *, uint64_t))(v5 + 8);
  v82(v18, v4);
  swift_bridgeObjectRetain();
  id v23 = [a2 mediaItems];
  if (!v23) {
    goto LABEL_31;
  }
  uint64_t v24 = v23;
  sub_8ABD8();
  unint64_t v25 = sub_298B50();

  if (!(v25 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v25 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_8;
    }
LABEL_30:
    swift_bridgeObjectRelease();
    goto LABEL_31;
  }
  swift_bridgeObjectRetain();
  uint64_t v37 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v37) {
    goto LABEL_30;
  }
LABEL_8:
  if ((v25 & 0xC000000000000001) != 0)
  {
    id v26 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v25 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      goto LABEL_61;
    }
    id v26 = *(id *)(v25 + 32);
  }
  uint64_t v27 = v26;
  swift_bridgeObjectRelease();
  id v28 = [v27 privateMediaItemValueData];

  if (v28)
  {
    id v29 = [v28 internalSignals];

    if (v29)
    {
      uint64_t v30 = (void *)sub_298B50();

      uint64_t v74 = v30[2];
      if (v74)
      {
        uint64_t v31 = v30[4];
        uint64_t v32 = (char *)v30[5];
        uint64_t v73 = v30;
        unint64_t v75 = 0xD000000000000019;
        if (v31 == 0xD000000000000019 && v32 == "er" || (sub_2995D0() & 1) != 0)
        {
LABEL_17:
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_arrayDestroy();
LABEL_32:
          v81(v8, v19, v4);
          uint64_t v38 = sub_2987E0();
          os_log_type_t v39 = sub_298D90();
          if (os_log_type_enabled(v38, v39))
          {
            uint64_t v40 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v40 = 0;
            _os_log_impl(&dword_0, v38, v39, "PlayMediaUnsupportedValueSnippetProvider#unsupportedValueOutputView returning nil for podcast promotion", v40, 2u);
            swift_slowDealloc();
          }

          char v41 = v8;
          goto LABEL_47;
        }
        if (v74 != 1)
        {
          uint64_t v33 = v73 + 7;
          uint64_t v34 = 1;
          while (1)
          {
            uint64_t v35 = v34 + 1;
            if (__OFADD__(v34, 1)) {
              break;
            }
            BOOL v36 = *(v33 - 1) == v75 && *v33 == (void)"er";
            if (v36 || (sub_2995D0() & 1) != 0) {
              goto LABEL_17;
            }
            v33 += 2;
            ++v34;
            if (v35 == v74) {
              goto LABEL_30;
            }
          }
LABEL_61:
          __break(1u);
        }
      }
      goto LABEL_30;
    }
  }
LABEL_31:
  swift_bridgeObjectRelease();
  swift_arrayDestroy();
  if (_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F4078))goto LABEL_32; {
  if (_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F40A8))
  }
  {
    id v42 = v80;
    v81(v80, v19, v4);
    uint64_t v43 = sub_2987E0();
    os_log_type_t v44 = sub_298D90();
    if (os_log_type_enabled(v43, v44))
    {
      BOOL v45 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)BOOL v45 = 0;
      uint64_t v46 = "PlayMediaUnsupportedValueSnippetProvider#unsupportedValueOutputView returning nil for acousticID follow up not found";
LABEL_45:
      _os_log_impl(&dword_0, v43, v44, v46, v45, 2u);
      swift_slowDealloc();
      goto LABEL_46;
    }
    goto LABEL_46;
  }
  if ((_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F40D8) & 1) == 0)
  {
    id v42 = v77;
    v81(v77, v19, v4);
    uint64_t v43 = sub_2987E0();
    os_log_type_t v44 = sub_298D90();
    if (os_log_type_enabled(v43, v44))
    {
      BOOL v45 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)BOOL v45 = 0;
      uint64_t v46 = "PlayMediaUnsupportedValueSnippetProvider#unsupportedValueOutputView returning nil for subscriber";
      goto LABEL_45;
    }
LABEL_46:

    char v41 = v42;
LABEL_47:
    v82(v41, v4);
    uint64_t v52 = sub_297970();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v52 - 8) + 56))(v83, 1, 1, v52);
  }
  uint64_t v47 = sub_2976E0();
  uint64_t v49 = v48;
  uint64_t v50 = sub_296580();
  if (!v49)
  {
    swift_bridgeObjectRelease();
    goto LABEL_53;
  }
  if (v47 != v50 || v49 != v51)
  {
    char v54 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v54) {
      goto LABEL_50;
    }
LABEL_53:
    v81(v78, v19, v4);
    swift_retain();
    uint64_t v63 = sub_2987E0();
    os_log_type_t v64 = sub_298D90();
    if (os_log_type_enabled(v63, v64))
    {
      uint64_t v65 = (uint8_t *)swift_slowAlloc();
      BOOL v66 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v65 = 138412290;
      uint64_t v67 = sub_2976E0();
      if (v68)
      {
        uint64_t v69 = v67;
        uint64_t v70 = v68;
        sub_7218();
        swift_allocError();
        *uint64_t v71 = v69;
        v71[1] = v70;
        uint64_t v72 = _swift_stdlib_bridgeErrorToNSError();
        uint64_t v84 = v72;
        sub_2992C0();
      }
      else
      {
        uint64_t v84 = 0;
        sub_2992C0();
        uint64_t v72 = 0;
      }
      *BOOL v66 = v72;
      swift_release();
      _os_log_impl(&dword_0, v63, v64, "PlayMediaUnsupportedValueSnippetProvider#appleMusicButton returning nil since appID: %@ ", v65, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      char v41 = v78;
    }
    else
    {

      swift_release();
      char v41 = v78;
    }
    goto LABEL_47;
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
LABEL_50:
  uint64_t v55 = v76;
  v81(v76, v19, v4);
  BOOL v56 = sub_2987E0();
  os_log_type_t v57 = sub_298D90();
  if (os_log_type_enabled(v56, v57))
  {
    uint64_t v58 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v58 = 0;
    _os_log_impl(&dword_0, v56, v57, "PlayMediaUnsupportedValueSnippetProvider#unsupportedValueOutputView returning an apple music button", v58, 2u);
    swift_slowDealloc();
  }

  v82(v55, v4);
  uint64_t v59 = v83;
  sub_109328(v83);
  uint64_t v60 = enum case for SiriAudioSnippets.actionButton(_:);
  uint64_t v61 = sub_297970();
  uint64_t v62 = *(void *)(v61 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v62 + 104))(v59, v60, v61);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v62 + 56))(v59, 0, 1, v61);
}

uint64_t sub_109328@<X0>(uint64_t a1@<X8>)
{
  uint64_t v42 = a1;
  uint64_t v2 = sub_297A20();
  uint64_t v40 = *(void *)(v2 - 8);
  uint64_t v41 = v2;
  __chkstk_darwin(v2);
  os_log_type_t v39 = (char *)&v33 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_297A00();
  uint64_t v36 = *(void *)(v4 - 8);
  uint64_t v37 = v4;
  __chkstk_darwin(v4);
  uint64_t v38 = (char *)&v33 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v6 - 8);
  uint64_t v34 = (char *)&v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = sub_2936E0();
  uint64_t v8 = *(void *)(v35 - 8);
  __chkstk_darwin(v35);
  uint64_t v10 = (char *)&v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_293720();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v33 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_74A4((void *)(v1 + 16), *(void *)(v1 + 40));
  type metadata accessor for PlayMediaViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v16 = [self bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  sub_296D60();

  (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
  sub_71D4((uint64_t *)&unk_317820);
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = xmmword_29A440;
  uint64_t v18 = sub_109C3C();
  uint64_t v20 = v19;
  *(void *)(v17 + 56) = &type metadata for String;
  *(void *)(v17 + 64) = sub_7368();
  *(void *)(v17 + 32) = v18;
  *(void *)(v17 + 40) = v20;
  sub_2989D0();
  swift_bridgeObjectRelease();
  id v21 = [objc_allocWithZone((Class)SAUIAppPunchOut) init];
  sub_296580();
  NSString v22 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v21 setBundleId:v22];

  id v23 = v34;
  NSString v24 = sub_2989B0();
  [v21 setAppDisplayName:v24];

  [v21 setAppAvailableInStorefront:1];
  id v25 = v21;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v35);
  NSString v26 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v25 setAceId:v26];

  sub_2935F0();
  uint64_t v27 = sub_293600();
  uint64_t v28 = *(void *)(v27 - 8);
  uint64_t v30 = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v28 + 48))(v23, 1, v27) != 1)
  {
    sub_2935D0(v29);
    uint64_t v30 = v31;
    (*(void (**)(char *, uint64_t))(v28 + 8))(v23, v27);
  }
  [v25 setPunchOutUri:v30];

  (*(void (**)(char *, void, uint64_t))(v36 + 104))(v38, enum case for SiriAudioActionButtonSnippetRole.standard(_:), v37);
  (*(void (**)(char *, void, uint64_t))(v40 + 104))(v39, enum case for SiriAudioActionButtonSnippetStyle.button(_:), v41);
  return sub_297A10();
}

uint64_t sub_1098F0@<X0>(uint64_t a1@<X8>)
{
  uint64_t v26 = a1;
  uint64_t v25 = sub_297A20();
  uint64_t v1 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  uint64_t v3 = (char *)v24 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_297A00();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)v24 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_109DC8();
  v24[0] = v12;
  v24[1] = v11;
  id v13 = [objc_allocWithZone((Class)SAUIAppPunchOut) init];
  sub_2935F0();
  uint64_t v14 = sub_293600();
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v17 = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v15 + 48))(v10, 1, v14) != 1)
  {
    sub_2935D0(v16);
    uint64_t v17 = v18;
    (*(void (**)(char *, uint64_t))(v15 + 8))(v10, v14);
  }
  [v13 setPunchOutUri:v17];

  (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for SiriAudioActionButtonSnippetRole.standard(_:), v4);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for SiriAudioActionButtonSnippetStyle.button(_:), v25);
  uint64_t v19 = v26;
  sub_297A10();
  uint64_t v20 = enum case for SiriAudioSnippets.actionButton(_:);
  uint64_t v21 = sub_297970();
  uint64_t v22 = *(void *)(v21 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v22 + 104))(v19, v20, v21);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v22 + 56))(v19, 0, 1, v21);
}

uint64_t sub_109C3C()
{
  uint64_t v1 = sub_293720();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v9 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_74A4((void *)(v0 + 16), *(void *)(v0 + 40));
  type metadata accessor for PlayMediaViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v6 = [self bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v7 = sub_296D60();

  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  return v7;
}

uint64_t sub_109DC8()
{
  uint64_t v1 = sub_293720();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v9 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_74A4((void *)(v0 + 16), *(void *)(v0 + 40));
  type metadata accessor for PlayMediaViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v6 = [self bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v7 = sub_296D60();

  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  return v7;
}

uint64_t sub_109F54()
{
  sub_7184(v0 + 16);
  swift_bridgeObjectRelease();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for PlayMediaUnsupportedValueSnippetProvider()
{
  return self;
}

uint64_t type metadata accessor for AcousticIdCatDialogService()
{
  return self;
}

uint64_t sub_109FDC()
{
  return swift_initClassMetadata2();
}

uint64_t type metadata accessor for ContinueInAppDialogStrategy()
{
  return sub_247C4();
}

uint64_t sub_10A02C()
{
  return swift_getWitnessTable();
}

uint64_t sub_10A048(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for ContinueInAppDialogStrategy();

  return ContinueInAppDialogFlowStrategy.makeContinueInAppResponse(app:intent:intentResponse:completion:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_10A0CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v12 = (void *)swift_task_alloc();
  *(void *)(v6 + 16) = v12;
  uint64_t v13 = type metadata accessor for ContinueInAppDialogStrategy();
  *uint64_t v12 = v6;
  v12[1] = sub_14480;
  return ContinueInAppDialogFlowStrategy.makeContinueInAppResponse(app:intent:intentResponse:)(a1, a2, a3, a4, v13, a6);
}

void *sub_10A1B4(uint64_t a1, uint64_t a2)
{
  uint64_t v49 = sub_296AA0();
  uint64_t v51 = *(void *)(v49 - 8);
  uint64_t v4 = __chkstk_darwin(v49);
  uint64_t v46 = (char *)&v44 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v44 - v6;
  uint64_t v8 = sub_296A10();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v44 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v44 - v13;
  uint64_t v15 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v44 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v50 = v17;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v18 = (void *)swift_allocObject();
  v18[2] = 0xD000000000000011;
  v18[3] = 0x80000000002A3570;
  v18[5] = 0xD000000000000014;
  v18[6] = 0x80000000002A5B10;
  uint64_t v53 = a2;
  uint64_t v54 = a1;
  v18[4] = a1;
  sub_18D5C(a2, (uint64_t)&v58);
  uint64_t v19 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v17, 1, 1, v19);
  unint64_t v45 = sub_A6604(_swiftEmptyArrayStorage);
  swift_retain_n();
  swift_retain();
  uint64_t v20 = v14;
  sub_296A00();
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v21 = swift_allocObject();
  uint64_t v22 = v14;
  uint64_t v23 = v8;
  uint64_t v47 = *(void (**)(char *, char *, uint64_t))(v9 + 16);
  uint64_t v48 = v9 + 16;
  v47(v12, v22, v8);
  uint64_t v24 = v51;
  uint64_t v25 = v46;
  uint64_t v26 = v49;
  (*(void (**)(char *, char *, uint64_t))(v51 + 16))(v46, v7, v49);
  uint64_t v27 = v50;
  uint64_t v50 = v12;
  uint64_t v28 = sub_11B904(v18, v54, v45, &v58, v27, v12, v25, v21);
  swift_release();
  (*(void (**)(char *, uint64_t))(v24 + 8))(v7, v26);
  id v29 = *(char **)(v9 + 8);
  uint64_t v30 = v20;
  uint64_t v51 = v9 + 8;
  uint64_t v46 = v29;
  ((void (*)(char *, uint64_t))v29)(v20, v23);
  uint64_t v59 = v26;
  uint64_t v60 = &protocol witness table for StringsFileResolver;
  sub_12B48((uint64_t *)&v58);
  swift_retain();
  sub_296A90();
  sub_71D4(&qword_311250);
  uint64_t v31 = swift_allocObject();
  sub_11EBC(&v58, v31 + 16);
  *(void *)(v31 + 56) = v28;
  uint64_t v59 = v23;
  uint64_t v60 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v58);
  swift_retain();
  sub_296A00();
  type metadata accessor for SiriAudioOutputProvider();
  uint64_t v32 = swift_allocObject();
  sub_11EBC(&v58, v32 + 16);
  uint64_t v49 = v23;
  uint64_t v59 = v23;
  uint64_t v60 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v58);
  sub_296A00();
  uint64_t v33 = sub_295C80();
  uint64_t v34 = sub_295C70();
  uint64_t v56 = v33;
  os_log_type_t v57 = &protocol witness table for SiriKitTaskLoggingProvider;
  uint64_t v55 = v34;
  sub_297050();
  swift_allocObject();
  uint64_t v35 = sub_297040();
  sub_296A00();
  uint64_t v36 = sub_295C70();
  if (qword_30C880 != -1) {
    swift_once();
  }
  uint64_t v37 = qword_31FCC0;
  swift_retain();
  sub_2942A0();
  uint64_t v38 = (uint64_t)v50;
  os_log_type_t v39 = v30;
  uint64_t v40 = v30;
  uint64_t v41 = v49;
  v47(v50, v39, v49);
  swift_retain();
  uint64_t v42 = sub_10A794(v28, v35, v38, v36, v37, &v58, v32, v31, v52);
  ((void (*)(char *, uint64_t))v46)(v40, v41);
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  sub_7184(v53);
  return v42;
}

uint64_t _s11descr2F17F1V25NeedsConfirmationStrategyCMa()
{
  uint64_t result = qword_311128;
  if (!qword_311128) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void *sub_10A794(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, long long *a6, uint64_t a7, uint64_t a8, void *a9)
{
  uint64_t v29 = a7;
  uint64_t v30 = a8;
  uint64_t v27 = a5;
  uint64_t v28 = a6;
  uint64_t v26 = a1;
  uint64_t v12 = sub_2990B0();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v25 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298900();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v25 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = sub_297050();
  os_log_type_t v39 = &protocol witness table for AppleMediaServicesProvider;
  *(void *)&long long v37 = a2;
  uint64_t v20 = sub_296A10();
  uint64_t v35 = v20;
  uint64_t v36 = &protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48((uint64_t *)&v34);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a3, v20);
  uint64_t v32 = sub_295C80();
  uint64_t v33 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v31 = a4;
  sub_2988F0();
  sub_2990A0();
  uint64_t v22 = sub_2961B0();
  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
  a9[26] = v22;
  a9[2] = v26;
  sub_11EBC(&v37, (uint64_t)(a9 + 3));
  sub_11EBC(&v34, (uint64_t)(a9 + 8));
  sub_11EBC(&v31, (uint64_t)(a9 + 13));
  uint64_t v23 = v28;
  a9[18] = v27;
  sub_11EBC(v23, (uint64_t)(a9 + 20));
  a9[25] = v29;
  a9[19] = v30;
  return a9;
}

uint64_t sub_10AA20@<X0>(uint64_t a1@<X1>, uint64_t a2@<X8>)
{
  uint64_t v102 = a1;
  uint64_t v99 = a2;
  uint64_t v106 = sub_297C00();
  uint64_t v104 = *(void *)(v106 - 8);
  __chkstk_darwin(v106);
  BOOL v91 = (char *)&v78 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v105 = sub_71D4(&qword_30DD98);
  uint64_t v3 = __chkstk_darwin(v105);
  uint64_t v88 = (uint64_t)&v78 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = __chkstk_darwin(v3);
  uint64_t v92 = (uint64_t)&v78 - v6;
  __chkstk_darwin(v5);
  uint64_t v98 = (uint64_t)&v78 - v7;
  uint64_t v8 = sub_71D4(&qword_30DDA0);
  uint64_t v9 = __chkstk_darwin(v8 - 8);
  uint64_t v85 = (uint64_t)&v78 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v90 = (uint64_t)&v78 - v12;
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v87 = (char *)&v78 - v14;
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v86 = (uint64_t)&v78 - v16;
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v78 - v18;
  uint64_t v20 = __chkstk_darwin(v17);
  uint64_t v22 = (char *)&v78 - v21;
  uint64_t v23 = __chkstk_darwin(v20);
  uint64_t v25 = (char *)&v78 - v24;
  uint64_t v26 = __chkstk_darwin(v23);
  uint64_t v97 = (char *)&v78 - v27;
  __chkstk_darwin(v26);
  uint64_t v29 = (char *)&v78 - v28;
  BOOL v101 = (void *)sub_295120();
  uint64_t v100 = *(v101 - 1);
  __chkstk_darwin(v101);
  long long v31 = (char *)&v78 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = sub_298800();
  uint64_t v33 = *(void *)(v32 - 8);
  uint64_t v34 = __chkstk_darwin(v32);
  uint64_t v103 = (char *)&v78 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v34);
  long long v37 = (char *)&v78 - v36;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v38 = sub_6E60(v32, (uint64_t)qword_31FC08);
  os_log_type_t v39 = *(void (**)(char *, uint64_t, uint64_t))(v33 + 16);
  uint64_t v94 = v38;
  uint64_t v95 = v33 + 16;
  unint64_t v93 = v39;
  ((void (*)(char *))v39)(v37);
  uint64_t v40 = sub_2987E0();
  os_log_type_t v41 = sub_298DC0();
  BOOL v42 = os_log_type_enabled(v40, v41);
  unint64_t v96 = v22;
  if (v42)
  {
    uint64_t v43 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v43 = 0;
    _os_log_impl(&dword_0, v40, v41, "AddMediaFlowStrategy#actionForInput", v43, 2u);
    swift_slowDealloc();
  }

  uint64_t v44 = *(void (**)(char *, uint64_t))(v33 + 8);
  v44(v37, v32);
  sub_295040();
  sub_E3DA0((uint64_t)v31, (uint64_t)&v108);
  (*(void (**)(char *, void *))(v100 + 8))(v31, v101);
  if (v109)
  {
    uint64_t v82 = v44;
    uint64_t v83 = v32;
    sub_654B4(&v108, &v110);
    sub_74A4(&v110, v111);
    sub_297F70();
    uint64_t v45 = v104;
    uint64_t v46 = (uint64_t)v97;
    uint64_t v47 = v106;
    uint64_t v100 = *(void *)(v104 + 104);
    uint64_t v89 = v104 + 104;
    ((void (*)(char *, void, uint64_t))v100)(v97, enum case for CommonAudio.Verb.subscribe(_:), v106);
    uint64_t v48 = *(void **)(v45 + 56);
    uint64_t v102 = v45 + 56;
    BOOL v101 = v48;
    ((void (*)(uint64_t, void, uint64_t, uint64_t))v48)(v46, 0, 1, v47);
    uint64_t v49 = v98;
    uint64_t v50 = v98 + *(int *)(v105 + 48);
    sub_10CBA8((uint64_t)v29, v98);
    sub_10CBA8(v46, v50);
    uint64_t v51 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v45 + 48);
    if (v51(v49, 1, v47) == 1)
    {
      sub_23A44(v46, &qword_30DDA0);
      sub_23A44((uint64_t)v29, &qword_30DDA0);
      if (v51(v50, 1, v47) == 1)
      {
        sub_23A44(v49, &qword_30DDA0);
        sub_B0538((uint64_t)&v110, (uint64_t)&v108);
LABEL_23:
        sub_7184((uint64_t)&v108);
        sub_B0538((uint64_t)&v110, (uint64_t)v107);
        goto LABEL_24;
      }
    }
    else
    {
      uint64_t v81 = v29;
      sub_10CBA8(v49, (uint64_t)v25);
      if (v51(v50, 1, v47) != 1)
      {
        uint64_t v84 = v51;
        uint64_t v79 = v25;
        uint64_t v52 = (uint64_t)v19;
        uint64_t v63 = v104;
        os_log_type_t v64 = v91;
        (*(void (**)(char *, uint64_t, uint64_t))(v104 + 32))(v91, v50, v47);
        sub_10CC10((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
        int v80 = sub_2989A0();
        uint64_t v65 = *(void (**)(char *, uint64_t))(v63 + 8);
        v65(v64, v106);
        sub_23A44(v46, &qword_30DDA0);
        sub_23A44((uint64_t)v81, &qword_30DDA0);
        v65(v79, v106);
        uint64_t v47 = v106;
        sub_23A44(v49, &qword_30DDA0);
        sub_B0538((uint64_t)&v110, (uint64_t)&v108);
        if (v80) {
          goto LABEL_23;
        }
LABEL_13:
        sub_74A4(&v108, v109);
        uint64_t v53 = (uint64_t)v96;
        sub_297F70();
        ((void (*)(uint64_t, void, uint64_t))v100)(v52, enum case for CommonAudio.Verb.update(_:), v47);
        ((void (*)(uint64_t, void, uint64_t, uint64_t))v101)(v52, 0, 1, v47);
        uint64_t v54 = v92;
        uint64_t v55 = v92 + *(int *)(v105 + 48);
        sub_10CBA8(v53, v92);
        sub_10CBA8(v52, v55);
        uint64_t v56 = v84;
        if (v84(v54, 1, v47) == 1)
        {
          sub_23A44(v52, &qword_30DDA0);
          sub_23A44(v53, &qword_30DDA0);
          os_log_type_t v57 = v56;
          if (v56(v55, 1, v47) == 1)
          {
            sub_23A44(v54, &qword_30DDA0);
            goto LABEL_23;
          }
        }
        else
        {
          uint64_t v98 = v52;
          uint64_t v58 = v86;
          sub_10CBA8(v54, v86);
          os_log_type_t v57 = v56;
          if (v56(v55, 1, v47) != 1)
          {
            uint64_t v68 = v54;
            uint64_t v69 = v104;
            uint64_t v70 = v91;
            (*(void (**)(char *, uint64_t, uint64_t))(v104 + 32))(v91, v55, v47);
            sub_10CC10((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
            LODWORD(v97) = sub_2989A0();
            uint64_t v71 = *(void (**)(char *, uint64_t))(v69 + 8);
            v71(v70, v106);
            sub_23A44(v98, &qword_30DDA0);
            sub_23A44((uint64_t)v96, &qword_30DDA0);
            v71((char *)v58, v106);
            os_log_type_t v57 = v56;
            uint64_t v47 = v106;
            sub_23A44(v68, &qword_30DDA0);
            sub_7184((uint64_t)&v108);
            sub_B0538((uint64_t)&v110, (uint64_t)v107);
            if (v97) {
              goto LABEL_24;
            }
LABEL_19:
            sub_74A4(v107, v107[3]);
            uint64_t v59 = (uint64_t)v87;
            sub_297F70();
            uint64_t v60 = v90;
            ((void (*)(uint64_t, void, uint64_t))v100)(v90, enum case for CommonAudio.Verb.follow(_:), v47);
            ((void (*)(uint64_t, void, uint64_t, uint64_t))v101)(v60, 0, 1, v47);
            uint64_t v61 = v88;
            uint64_t v62 = v88 + *(int *)(v105 + 48);
            sub_10CBA8(v59, v88);
            sub_10CBA8(v60, v62);
            if (v57(v61, 1, v47) == 1)
            {
              sub_23A44(v60, &qword_30DDA0);
              sub_23A44(v59, &qword_30DDA0);
              if (v57(v62, 1, v47) == 1)
              {
                sub_23A44(v61, &qword_30DDA0);
LABEL_24:
                sub_7184((uint64_t)v107);
LABEL_25:
                sub_294590();
                return sub_7184((uint64_t)&v110);
              }
            }
            else
            {
              uint64_t v67 = v85;
              sub_10CBA8(v61, v85);
              if (v57(v62, 1, v47) != 1)
              {
                uint64_t v72 = v104;
                uint64_t v73 = v91;
                (*(void (**)(char *, uint64_t, uint64_t))(v104 + 32))(v91, v62, v47);
                sub_10CC10((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
                LODWORD(v106) = sub_2989A0();
                uint64_t v74 = *(void (**)(char *, uint64_t))(v72 + 8);
                v74(v73, v47);
                sub_23A44(v90, &qword_30DDA0);
                sub_23A44(v59, &qword_30DDA0);
                v74((char *)v67, v47);
                sub_23A44(v61, &qword_30DDA0);
                sub_7184((uint64_t)v107);
                uint64_t v32 = v83;
                if (v106) {
                  goto LABEL_25;
                }
                goto LABEL_32;
              }
              sub_23A44(v60, &qword_30DDA0);
              sub_23A44(v59, &qword_30DDA0);
              (*(void (**)(uint64_t, uint64_t))(v104 + 8))(v67, v47);
            }
            sub_23A44(v61, &qword_30DD98);
            sub_7184((uint64_t)v107);
            uint64_t v32 = v83;
LABEL_32:
            sub_7184((uint64_t)&v110);
            uint64_t v44 = v82;
            goto LABEL_33;
          }
          sub_23A44(v98, &qword_30DDA0);
          sub_23A44((uint64_t)v96, &qword_30DDA0);
          (*(void (**)(uint64_t, uint64_t))(v104 + 8))(v58, v47);
        }
        sub_23A44(v54, &qword_30DD98);
        sub_7184((uint64_t)&v108);
        sub_B0538((uint64_t)&v110, (uint64_t)v107);
        goto LABEL_19;
      }
      sub_23A44(v46, &qword_30DDA0);
      sub_23A44((uint64_t)v81, &qword_30DDA0);
      (*(void (**)(char *, uint64_t))(v104 + 8))(v25, v47);
    }
    uint64_t v84 = v51;
    uint64_t v52 = (uint64_t)v19;
    sub_23A44(v49, &qword_30DD98);
    sub_B0538((uint64_t)&v110, (uint64_t)&v108);
    goto LABEL_13;
  }
  sub_23A44((uint64_t)&v108, &qword_30D8A8);
LABEL_33:
  v93(v103, v94, v32);
  unint64_t v75 = sub_2987E0();
  os_log_type_t v76 = sub_298DB0();
  if (os_log_type_enabled(v75, v76))
  {
    uint64_t v77 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v77 = 0;
    _os_log_impl(&dword_0, v75, v76, "AddMediaFlowStrategy#actionForInput received unsupported pommesResponse", v77, 2u);
    swift_slowDealloc();
  }

  v44(v103, v32);
  return sub_2945A0();
}

void AddMediaFlowStrategy.makeIntentFromParse(parse:currentIntent:completion:)(char *a1, void *a2, void (*a3)(id, uint64_t), uint64_t a4)
{
  uint64_t v91 = a4;
  uint64_t v92 = a3;
  uint64_t v6 = sub_295120();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v10 = (void **)((char *)&v76 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v11 = __chkstk_darwin(v8);
  uint64_t v85 = (char *)&v76 - v12;
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v76 - v13;
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v86 = (char *)&v76 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v87 = (char *)&v76 - v20;
  uint64_t v21 = __chkstk_darwin(v19);
  int v80 = (char *)&v76 - v22;
  __chkstk_darwin(v21);
  uint64_t v24 = (char *)&v76 - v23;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_6E60(v15, (uint64_t)qword_31FC08);
  uint64_t v26 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 16);
  uint64_t v88 = v25;
  uint64_t v89 = v26;
  uint64_t v90 = v16 + 16;
  ((void (*)(char *))v26)(v24);
  uint64_t v27 = *(void (**)(char *, char *, uint64_t))(v7 + 16);
  uint64_t v95 = a1;
  unint64_t v96 = v27;
  v27(v14, a1, v6);
  id v93 = a2;
  uint64_t v28 = sub_2987E0();
  os_log_type_t v29 = sub_298DA0();
  uint64_t v94 = v28;
  int v84 = v29;
  if (os_log_type_enabled(v28, v29))
  {
    uint64_t v30 = swift_slowAlloc();
    uint64_t v77 = (uint64_t)a2;
    uint64_t v31 = v30;
    uint64_t v78 = swift_slowAlloc();
    v98[0] = v78;
    *(_DWORD *)uint64_t v31 = 136446722;
    uint64_t v81 = v16;
    uint64_t v32 = v7;
    uint64_t v33 = sub_297410();
    uint64_t v79 = v10;
    uint64_t v97 = sub_6E98(v33, v34, v98);
    uint64_t v82 = v15;
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v31 + 12) = 2080;
    v96(v85, v14, v6);
    uint64_t v35 = sub_2989E0();
    uint64_t v97 = sub_6E98(v35, v36, v98);
    sub_2992C0();
    swift_bridgeObjectRelease();
    long long v37 = *(void (**)(char *, uint64_t))(v7 + 8);
    v37(v14, v6);
    *(_WORD *)(v31 + 22) = 2080;
    uint64_t v97 = v77;
    id v38 = v93;
    sub_71D4(&qword_311258);
    uint64_t v39 = sub_2989E0();
    uint64_t v97 = sub_6E98(v39, v40, v98);
    sub_2992C0();

    uint64_t v15 = v82;
    uint64_t v10 = v79;
    swift_bridgeObjectRelease();
    os_log_type_t v41 = v94;
    _os_log_impl(&dword_0, v94, (os_log_type_t)v84, "AddMediaFlowStrategy#makeIntentFromParse %{public}s for parse:%s and previousIntent:%s", (uint8_t *)v31, 0x20u);
    swift_arrayDestroy();
    swift_slowDealloc();
    BOOL v42 = v37;
    swift_slowDealloc();

    uint64_t v43 = v81;
    uint64_t v44 = v81;
  }
  else
  {
    BOOL v42 = *(void (**)(char *, uint64_t))(v7 + 8);
    v42(v14, v6);

    id v45 = v93;
    uint64_t v44 = v16;
    uint64_t v43 = v16;
    uint64_t v32 = v7;
  }
  uint64_t v46 = *(void (**)(char *, uint64_t))(v44 + 8);
  v46(v24, v15);
  v96((char *)v10, v95, v6);
  int v47 = (*(uint64_t (**)(void **, uint64_t))(v32 + 88))(v10, v6);
  if (v47 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    uint64_t v48 = v15;
    (*(void (**)(void **, uint64_t))(v32 + 96))(v10, v6);
    sub_71D4(&qword_30D610);
    uint64_t v49 = (void *)sub_2950E0();
    self;
    uint64_t v50 = swift_dynamicCastObjCClass();
    uint64_t v51 = v10;
    if (v50)
    {
      uint64_t v52 = (void *)v50;
      *(void *)(v83 + 16) = sub_2950F0();
      swift_bridgeObjectRelease();
      id v53 = v49;
      v92(v52, 0);
      swift_release();
    }
    else
    {

      uint64_t v68 = v80;
      v89(v80, v88, v48);
      uint64_t v69 = sub_2987E0();
      os_log_type_t v70 = sub_298DA0();
      if (os_log_type_enabled(v69, v70))
      {
        uint64_t v71 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v71 = 0;
        _os_log_impl(&dword_0, v69, v70, "AddMediaFlowStrategy#makeIntentFromParse received unsupported NLv3IntentPlusServerConversion parse, ignoring", v71, 2u);
        swift_slowDealloc();
      }

      v46(v68, v48);
      uint64_t v72 = sub_296000();
      sub_10CC10((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v73 = (void *)swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v72 - 8) + 104))(v74, enum case for PlaybackCode.ceGE8(_:), v72);
      v92(v73, 1);
      swift_errorRelease();
      swift_release();
    }
    uint64_t v75 = sub_295870();
    (*(void (**)(void **, uint64_t))(*(void *)(v75 - 8) + 8))(v51, v75);
  }
  else if (v47 == enum case for Parse.pommesResponse(_:))
  {
    (*(void (**)(void **, uint64_t))(v32 + 96))(v10, v6);
    uint64_t v54 = *v10;
    v89(v87, v88, v15);
    uint64_t v55 = v54;
    uint64_t v56 = sub_2987E0();
    os_log_type_t v57 = sub_298DC0();
    if (os_log_type_enabled(v56, v57))
    {
      uint64_t v58 = swift_slowAlloc();
      uint64_t v82 = v15;
      uint64_t v59 = (uint8_t *)v58;
      uint64_t v60 = (void *)swift_slowAlloc();
      uint64_t v81 = v43;
      *(_DWORD *)uint64_t v59 = 138477827;
      v98[0] = (uint64_t)v55;
      uint64_t v61 = v55;
      sub_2992C0();
      *uint64_t v60 = v55;

      _os_log_impl(&dword_0, v56, v57, "AddMediaFlowStrategy#makeIntentFrom received pommesResponse: %{private}@", v59, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      uint64_t v15 = v82;
      swift_slowDealloc();
    }
    else
    {

      uint64_t v56 = v55;
    }

    v46(v87, v15);
    sub_10C48C(v55, v92, v91);
  }
  else
  {
    v89(v86, v88, v15);
    uint64_t v62 = sub_2987E0();
    os_log_type_t v63 = sub_298DB0();
    if (os_log_type_enabled(v62, v63))
    {
      os_log_type_t v64 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)os_log_type_t v64 = 0;
      _os_log_impl(&dword_0, v62, v63, "AddMediaFlowStrategy#makeIntentFromParse received unsupported parse", v64, 2u);
      swift_slowDealloc();
    }

    v46(v86, v15);
    uint64_t v65 = sub_296000();
    sub_10CC10((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    BOOL v66 = (void *)swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v65 - 8) + 104))(v67, enum case for PlaybackCode.ceGE9(_:), v65);
    v92(v66, 1);
    swift_errorRelease();
    v42((char *)v10, v6);
  }
}

uint64_t PlayMediaFlowStrategy.__deallocating_deinit()
{
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  swift_release();
  sub_7184(v0 + 56);
  sub_7184(v0 + 96);

  return swift_deallocClassInstance();
}

void sub_10C48C(void *a1, void (*a2)(id, void), uint64_t a3)
{
  uint64_t v55 = a3;
  uint64_t v56 = a2;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)v50 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  uint64_t v54 = (char *)v50 - v10;
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v50 - v11;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v4, (uint64_t)qword_31FC08);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  v14(v12, v13, v4);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v53 = v13;
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AddMediaFlowStrategy#makeIntentFrom", v17, 2u);
    uint64_t v13 = v53;
    swift_slowDealloc();
  }

  uint64_t v20 = *(void (**)(char *, uint64_t))(v5 + 8);
  uint64_t v18 = v5 + 8;
  uint64_t v19 = v20;
  v20(v12, v4);
  uint64_t v21 = sub_124EC();
  if (v21)
  {
    uint64_t v22 = (uint8_t *)v21;
    uint64_t v53 = v18;
    id v23 = [objc_allocWithZone((Class)INAddMediaIntent) init];
    uint64_t v24 = (void *)sub_298240();
    id v25 = sub_7941C(v22, v24);

    swift_bridgeObjectRelease();
    uint64_t v26 = v54;
    v14(v54, v13, v4);
    id v27 = v25;
    uint64_t v28 = sub_2987E0();
    os_log_type_t v29 = sub_298DA0();
    if (os_log_type_enabled(v28, v29))
    {
      uint64_t v30 = (uint8_t *)swift_slowAlloc();
      uint64_t v51 = swift_slowAlloc();
      uint64_t v58 = (char *)v51;
      *(_DWORD *)uint64_t v30 = 136315138;
      v50[1] = v30 + 4;
      id v31 = v27;
      id v32 = [v31 description];
      uint64_t v52 = v19;
      id v33 = v32;
      uint64_t v34 = sub_2989C0();
      unint64_t v36 = v35;

      uint64_t v57 = sub_6E98(v34, v36, (uint64_t *)&v58);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v28, v29, "AddMediaFlowStrategy#makeIntentFromParse converted pommesResponse to intent: %s", v30, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v52(v54, v4);
    }
    else
    {

      v19(v26, v4);
    }
    uint64_t v44 = v56;
    id v45 = v27;
    v44(v27, 0);
  }
  else
  {
    v14(v8, v13, v4);
    id v37 = a1;
    id v38 = sub_2987E0();
    os_log_type_t v39 = sub_298DB0();
    if (os_log_type_enabled(v38, v39))
    {
      unint64_t v40 = (uint8_t *)swift_slowAlloc();
      uint64_t v54 = (char *)swift_slowAlloc();
      uint64_t v58 = v54;
      uint64_t v53 = v18;
      *(_DWORD *)unint64_t v40 = 136315138;
      uint64_t v51 = (uint64_t)(v40 + 4);
      sub_298230();
      sub_2981B0();
      uint64_t v41 = sub_298B60();
      uint64_t v52 = v19;
      unint64_t v43 = v42;
      swift_bridgeObjectRelease();
      uint64_t v57 = sub_6E98(v41, v43, (uint64_t *)&v58);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v38, v39, "AddMediaFlowStrategy#makeIntentFromParse pommesResponse doesn't contain audioExperience %s", v40, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v52(v8, v4);
    }
    else
    {

      v19(v8, v4);
    }
    uint64_t v46 = (void (*)(uint64_t, uint64_t))v56;
    uint64_t v47 = sub_296000();
    sub_10CC10((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v48 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v47 - 8) + 104))(v49, enum case for PlaybackCode.ceGE7(_:), v47);
    v46(v48, 1);
    swift_errorRelease();
  }
}

uint64_t type metadata accessor for AddMediaFlowStrategy()
{
  uint64_t result = qword_311288;
  if (!qword_311288) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_10CB70()
{
  return swift_initClassMetadata2();
}

uint64_t sub_10CBA8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30DDA0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_10CC10(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_10CC58(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30EBB8);
  uint64_t v3 = __chkstk_darwin(v2 - 8);
  uint64_t v91 = (uint64_t)&v86 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v86 - v5;
  uint64_t v7 = sub_71D4(&qword_30DC90);
  __chkstk_darwin(v7 - 8);
  uint64_t v97 = (uint64_t)&v86 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for AudioNLv3Intent();
  uint64_t v95 = *(void *)(v9 - 8);
  uint64_t v96 = v9;
  __chkstk_darwin(v9);
  uint64_t v93 = (uint64_t)&v86 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_295120();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v98 = (char *)&v86 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  BOOL v101 = (char *)&v86 - v15;
  uint64_t v16 = sub_298800();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v88 = (char *)&v86 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v87 = (char *)&v86 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v90 = (char *)&v86 - v23;
  uint64_t v24 = __chkstk_darwin(v22);
  uint64_t v94 = (char *)&v86 - v25;
  uint64_t v26 = __chkstk_darwin(v24);
  uint64_t v89 = (char *)&v86 - v27;
  __chkstk_darwin(v26);
  os_log_type_t v29 = (char *)&v86 - v28;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v30 = sub_6E60(v16, (uint64_t)qword_31FC08);
  id v31 = *(void (**)(char *, uint64_t, uint64_t))(v17 + 16);
  uint64_t v99 = v30;
  uint64_t v100 = v31;
  ((void (*)(char *))v31)(v29);
  id v32 = sub_2987E0();
  os_log_type_t v33 = sub_298DC0();
  if (os_log_type_enabled(v32, v33))
  {
    uint64_t v34 = (uint8_t *)swift_slowAlloc();
    uint64_t v86 = v17 + 16;
    *(_WORD *)uint64_t v34 = 0;
    _os_log_impl(&dword_0, v32, v33, "ShuffleOnDeviceFlow#on Validating input", v34, 2u);
    swift_slowDealloc();
  }

  id v37 = *(char **)(v17 + 8);
  uint64_t v35 = v17 + 8;
  unint64_t v36 = v37;
  ((void (*)(char *, uint64_t))v37)(v29, v16);
  id v38 = v101;
  sub_295040();
  int v39 = (*(uint64_t (**)(char *, uint64_t))(v12 + 88))(v38, v11);
  if (v39 != enum case for Parse.NLv3IntentOnly(_:))
  {
    if (v39 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
    {
      uint64_t v97 = v35;
      uint64_t v45 = v12;
      uint64_t v46 = v16;
      (*(void (**)(char *, uint64_t))(v45 + 96))(v38, v11);
      sub_71D4(&qword_30D610);
      uint64_t v47 = (void *)sub_2950E0();
      self;
      uint64_t v48 = swift_dynamicCastObjCClass();

      if (v48)
      {
        uint64_t v49 = (void *)sub_2950E0();
        self;
        if (swift_dynamicCastObjCClass())
        {
          char v50 = sub_298EE0();

          if (v50)
          {
            swift_release();
            uint64_t v51 = sub_295870();
            (*(void (**)(char *, uint64_t))(*(void *)(v51 - 8) + 8))(v38, v51);
            goto LABEL_37;
          }
        }
        else
        {
        }
      }
      uint64_t v68 = v90;
      uint64_t v69 = v46;
      v100(v90, v99, v46);
      os_log_type_t v70 = sub_2987E0();
      os_log_type_t v71 = sub_298DC0();
      if (os_log_type_enabled(v70, v71))
      {
        uint64_t v72 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v72 = 0;
        _os_log_impl(&dword_0, v70, v71, "ShuffleOnDeviceFlow#on input is not ambiguous shuffle, rejecting", v72, 2u);
        uint64_t v69 = v46;
        swift_slowDealloc();
      }

      swift_release();
      ((void (*)(char *, uint64_t))v36)(v68, v69);
      uint64_t v73 = sub_295870();
      (*(void (**)(char *, uint64_t))(*(void *)(v73 - 8) + 8))(v38, v73);
      return 0;
    }
    uint64_t v96 = v11;
    if (v39 != enum case for Parse.uso(_:))
    {
      os_log_type_t v64 = v88;
      v100(v88, v99, v16);
      uint64_t v65 = sub_2987E0();
      os_log_type_t v66 = sub_298DC0();
      if (os_log_type_enabled(v65, v66))
      {
        uint64_t v67 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v67 = 0;
        _os_log_impl(&dword_0, v65, v66, "ShuffleOnDeviceFlow#on unexpected parse type, rejecting", v67, 2u);
        swift_slowDealloc();
      }

      ((void (*)(char *, uint64_t))v36)(v64, v16);
      (*(void (**)(char *, uint64_t))(v12 + 8))(v38, v96);
      return 0;
    }
    uint64_t v54 = v12;
    uint64_t v97 = v35;
    uint64_t v55 = (void (*)(char *, uint64_t))v36;
    uint64_t v56 = v98;
    sub_295040();
    uint64_t v57 = sub_295070();
    uint64_t v58 = *(void (**)(char *, uint64_t))(v54 + 8);
    v58(v56, v96);
    if (v57)
    {
      sub_2955A0();
      if (v103)
      {
        sub_295750();
        if (swift_dynamicCast())
        {
          swift_release();
          swift_release();
LABEL_36:
          v58(v38, v96);
          goto LABEL_37;
        }
      }
      else
      {
        sub_23A44((uint64_t)v102, &qword_30D040);
      }
      if (sub_65D64())
      {
        swift_release();
        goto LABEL_36;
      }
      char v74 = sub_656E8();
      swift_release();
      if (v74) {
        goto LABEL_36;
      }
    }
    uint64_t v81 = v87;
    v100(v87, v99, v16);
    uint64_t v82 = sub_2987E0();
    os_log_type_t v83 = sub_298DC0();
    if (os_log_type_enabled(v82, v83))
    {
      int v84 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)int v84 = 0;
      _os_log_impl(&dword_0, v82, v83, "ShuffleOnDeviceFlow#on input is not shuffle media item or Play on shuffle, rejecting", v84, 2u);
      swift_slowDealloc();
    }

    v55(v81, v16);
    v58(v38, v96);
    return 0;
  }
  uint64_t v90 = v36;
  unint64_t v40 = v98;
  sub_295040();
  uint64_t v41 = v97;
  sub_280D38(v40, v97);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v95 + 48))(v41, 1, v96) == 1)
  {
    sub_23A44(v41, &qword_30DC90);
    v100(v94, v99, v16);
    unint64_t v42 = sub_2987E0();
    os_log_type_t v43 = sub_298DB0();
    if (os_log_type_enabled(v42, v43))
    {
      uint64_t v44 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v44 = 0;
      _os_log_impl(&dword_0, v42, v43, "ShuffleOnDeviceFlow#on Fatal: Cannot get AudioNLv3Intent from NLv3IntentOnly parse", v44, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v90)(v94, v16);
    (*(void (**)(char *, uint64_t))(v12 + 8))(v38, v11);
    return 0;
  }
  uint64_t v52 = v41;
  uint64_t v53 = v93;
  sub_E4E88(v52, v93);
  if (!sub_281DFC())
  {
    uint64_t v59 = v11;
    uint64_t v60 = v89;
    v100(v89, v99, v16);
    uint64_t v61 = sub_2987E0();
    os_log_type_t v62 = sub_298DC0();
    if (os_log_type_enabled(v61, v62))
    {
      os_log_type_t v63 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)os_log_type_t v63 = 0;
      _os_log_impl(&dword_0, v61, v62, "ShuffleOnDeviceFlow#on input is not ambiguous shuffle, rejecting", v63, 2u);
      uint64_t v60 = v89;
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v90)(v60, v16);
    sub_1138C4(v93);
    (*(void (**)(char *, uint64_t))(v12 + 8))(v38, v59);
    return 0;
  }
  sub_1138C4(v53);
  (*(void (**)(char *, uint64_t))(v12 + 8))(v38, v11);
LABEL_37:
  uint64_t v75 = sub_295060();
  uint64_t v76 = *(void *)(v75 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v76 + 16))(v6, a1, v75);
  uint64_t v77 = 1;
  (*(void (**)(char *, void, uint64_t, uint64_t))(v76 + 56))(v6, 0, 1, v75);
  uint64_t v78 = (uint64_t)v6;
  uint64_t v79 = v91;
  sub_60BBC(v78, v91, &qword_30EBB8);
  uint64_t v80 = v92 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_input;
  swift_beginAccess();
  sub_113860(v79, v80, &qword_30EBB8);
  swift_endAccess();
  return v77;
}

uint64_t sub_10D89C(void (*a1)(char *), uint64_t a2)
{
  uint64_t v123 = a2;
  uint64_t v122 = a1;
  uint64_t v117 = sub_294780();
  uint64_t v116 = *(uint64_t (***)(char *, uint64_t))(v117 - 8);
  __chkstk_darwin(v117);
  uint64_t v3 = (char *)v107 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v113 = sub_295120();
  uint64_t v115 = *(void *)(v113 - 8);
  __chkstk_darwin(v113);
  uint64_t v114 = (uint64_t)v107 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)v107 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = sub_295060();
  uint64_t v8 = *(void *)(v124 - 8);
  uint64_t v9 = __chkstk_darwin(v124);
  uint64_t v112 = (char *)v107 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v111 = v10;
  __chkstk_darwin(v9);
  uint64_t v125 = (uint64_t)v107 - v11;
  uint64_t v12 = (void *)sub_298800();
  uint64_t v13 = *(v12 - 1);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v16 = (char *)v107 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v14);
  uint64_t v19 = (char *)v107 - v18;
  uint64_t v20 = __chkstk_darwin(v17);
  uint64_t v109 = (char *)v107 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  long long v110 = (char *)v107 - v23;
  __chkstk_darwin(v22);
  uint64_t v25 = (char *)v107 - v24;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v127 = v8;
  uint64_t v26 = sub_6E60((uint64_t)v12, (uint64_t)qword_31FC08);
  uint64_t v27 = *(void (**)(void))(v13 + 16);
  uint64_t v120 = (void *)v26;
  uint64_t v128 = v12;
  unint64_t v121 = (void (*)(char *, void *, void *))v27;
  v27(v25);
  uint64_t v28 = sub_2987E0();
  os_log_type_t v29 = sub_298DC0();
  if (os_log_type_enabled(v28, v29))
  {
    uint64_t v30 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v30 = 0;
    _os_log_impl(&dword_0, v28, v29, "ShuffleOnDeviceFlow#execute", v30, 2u);
    swift_slowDealloc();
  }

  uint64_t v119 = *(void (**)(char *, void *))(v13 + 8);
  id v31 = v128;
  uint64_t v118 = v13 + 8;
  v119(v25, v128);
  uint64_t v32 = v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_input;
  swift_beginAccess();
  sub_11E58(v32, (uint64_t)v7, &qword_30EBB8);
  uint64_t v33 = v127;
  uint64_t v34 = v124;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v127 + 48))(v7, 1, v124) == 1)
  {
    sub_23A44((uint64_t)v7, &qword_30EBB8);
    v121(v16, v120, v31);
    uint64_t v35 = sub_2987E0();
    os_log_type_t v36 = sub_298DB0();
    if (os_log_type_enabled(v35, v36))
    {
      id v37 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v37 = 0;
      _os_log_impl(&dword_0, v35, v36, "ShuffleOnDeviceFlow#execute Input is nil", v37, 2u);
      id v31 = v128;
      swift_slowDealloc();
    }

    v119(v16, v31);
    sub_294760();
    v122(v3);
    return v116[1](v3, v117);
  }
  uint64_t v40 = v33 + 32;
  int v39 = *(uint64_t (***)(char *, uint64_t))(v33 + 32);
  ((void (*)(uint64_t, char *, uint64_t))v39)(v125, v7, v34);
  uint64_t v41 = v114;
  sub_295040();
  sub_E3DA0(v41, (uint64_t)&v130);
  uint64_t v43 = v115 + 8;
  unint64_t v42 = *(void (**)(uint64_t, uint64_t))(v115 + 8);
  v42(v41, v113);
  if (v131)
  {
    long long v108 = v42;
    uint64_t v116 = v39;
    sub_654B4(&v130, &v133);
    sub_E9B34();
    uint64_t v44 = sub_298EF0();
    sub_74A4(&v133, v134);
    unint64_t v45 = sub_297F40();
    unint64_t v46 = v45;
    if (v45 >> 62) {
      uint64_t result = sub_2994C0();
    }
    else {
      uint64_t result = *(void *)((char *)&dword_10 + (v45 & 0xFFFFFFFFFFFFFF8));
    }
    uint64_t v117 = v44;
    if (result)
    {
      if ((v46 & 0xC000000000000001) != 0)
      {
        sub_2993E0();
      }
      else
      {
        if (!*(void *)((char *)&dword_10 + (v46 & 0xFFFFFFFFFFFFFF8)))
        {
          __break(1u);
          return result;
        }
        swift_retain();
      }
      swift_bridgeObjectRelease();
      uint64_t v47 = sub_295510();
      unint64_t v49 = v48;
      swift_release();
      if (v49)
      {
        v107[1] = v40;
        char v50 = v110;
        uint64_t v51 = v128;
        v121(v110, v120, v128);
        swift_bridgeObjectRetain_n();
        uint64_t v52 = sub_2987E0();
        os_log_type_t v53 = sub_298DA0();
        BOOL v54 = os_log_type_enabled(v52, v53);
        uint64_t v115 = v43;
        if (v54)
        {
          uint64_t v55 = (uint8_t *)swift_slowAlloc();
          *(void *)&long long v130 = swift_slowAlloc();
          *(_DWORD *)uint64_t v55 = 136315138;
          swift_bridgeObjectRetain();
          uint64_t v129 = sub_6E98(v47, v49, (uint64_t *)&v130);
          uint64_t v51 = v128;
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v52, v53, "ShuffleOnDeviceFlow#execute Adding bundleId: %s to intent", v55, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();
        }
        else
        {

          swift_bridgeObjectRelease_n();
        }
        v119(v50, v51);
        id v71 = sub_1D378(v47, v49, 0, 0);
        self;
        uint64_t v72 = (void *)v117;
        if (swift_dynamicCastObjCClass()
          || (self, swift_dynamicCastObjCClass())
          || (self, swift_dynamicCastObjCClass())
          || (self, swift_dynamicCastObjCClass()))
        {
          id v73 = [v72 backingStore];
          self;
          char v74 = (void *)swift_dynamicCastObjCClass();
          if (!v74) {

          }
          [v74 setIntentMetadata:v71];
        }
        else
        {
          char v74 = v71;
        }

        uint64_t v75 = (void *)sub_2964C0();
        char v76 = sub_B15E8(v47, v49, v75);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (v76)
        {
          uint64_t v77 = v109;
          v121(v109, v120, v51);
          uint64_t v78 = sub_2987E0();
          os_log_type_t v79 = sub_298DA0();
          if (os_log_type_enabled(v78, v79))
          {
            uint64_t v80 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v80 = 0;
            _os_log_impl(&dword_0, v78, v79, "ShuffleOnDeviceFlow#execute resolving routes for 1p app", v80, 2u);
            swift_slowDealloc();
          }

          v119(v77, v51);
          uint64_t v81 = v125;
          sub_295040();
          uint64_t v82 = v126;
          uint64_t v83 = v127;
          int v84 = (void *)(v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
          uint64_t v85 = (void *)(v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
          uint64_t v86 = (void *)(v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
          uint64_t v87 = v112;
          uint64_t v88 = v124;
          (*(void (**)(char *, uint64_t, uint64_t))(v127 + 16))(v112, v81, v124);
          unint64_t v89 = (*(unsigned __int8 *)(v83 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v83 + 80);
          uint64_t v90 = (void *)swift_allocObject();
          uint64_t v91 = (void *)v117;
          v90[2] = v82;
          v90[3] = v91;
          uint64_t v92 = v123;
          v90[4] = v122;
          v90[5] = v92;
          ((void (*)(char *, char *, uint64_t))v116)((char *)v90 + v89, v87, v88);
          uint64_t v93 = v84[3];
          uint64_t v122 = (void (*)(char *))v84[4];
          uint64_t v128 = sub_74A4(v84, v93);
          uint64_t v94 = v85[3];
          unint64_t v121 = (void (*)(char *, void *, void *))v85[4];
          uint64_t v95 = sub_74A4(v85, v94);
          uint64_t v97 = v86[3];
          uint64_t v96 = v86[4];
          uint64_t v98 = sub_74A4(v86, v97);
          swift_retain();
          id v99 = v91;
          swift_retain();
          uint64_t v106 = v96;
          uint64_t v100 = v114;
          sub_1EAA74(v114, (uint64_t)v128, (uint64_t)v95, (uint64_t)v98, (void (*)(void))sub_1134B0, (uint64_t)v90, v99, v94, v93, v97, (uint64_t)v121, (uint64_t)v122, v106);
          swift_release();
          v108(v100, v113);

          (*(void (**)(uint64_t, uint64_t))(v83 + 8))(v125, v124);
        }
        else
        {
          uint64_t v101 = v134;
          uint64_t v102 = v135;
          uint64_t v103 = sub_74A4(&v133, v134);
          uint64_t v131 = v101;
          uint64_t v132 = v102;
          uint64_t v104 = sub_12B48((uint64_t *)&v130);
          (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v101 - 8) + 16))(v104, v103, v101);
          uint64_t v105 = v125;
          sub_112258((uint64_t)v104, v72, v125, (uint64_t)v122, v123, v126, v101, v102);

          (*(void (**)(uint64_t, uint64_t))(v127 + 8))(v105, v124);
          sub_7184((uint64_t)&v130);
        }
        return sub_7184((uint64_t)&v133);
      }
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    uint64_t v59 = v126;
    unint64_t v121 = *(void (**)(char *, void *, void *))(v126
                                                             + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider
                                                             + 24);
    uint64_t v128 = *(void **)(v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider + 32);
    uint64_t v120 = sub_74A4((void *)(v126 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider), (uint64_t)v121);
    uint64_t v60 = v127;
    uint64_t v61 = v112;
    (*(void (**)(char *, uint64_t, uint64_t))(v127 + 16))(v112, v125, v34);
    sub_B0538((uint64_t)&v133, (uint64_t)&v130);
    unint64_t v62 = (*(unsigned __int8 *)(v60 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v60 + 80);
    unint64_t v63 = (v111 + v62 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v64 = (v63 + 23) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v65 = v34;
    uint64_t v66 = swift_allocObject();
    uint64_t v67 = (void *)v117;
    *(void *)(v66 + 16) = v59;
    *(void *)(v66 + 24) = v67;
    ((void (*)(unint64_t, char *, uint64_t))v116)(v66 + v62, v61, v65);
    uint64_t v68 = (void (**)(char *))(v66 + v63);
    uint64_t v69 = v123;
    *uint64_t v68 = v122;
    v68[1] = (void (*)(char *))v69;
    sub_654B4(&v130, (_OWORD *)(v66 + v64));
    swift_retain();
    id v70 = v67;
    swift_retain();
    sub_296A30();

    swift_release();
    (*(void (**)(uint64_t, uint64_t))(v60 + 8))(v125, v65);
    return sub_7184((uint64_t)&v133);
  }
  sub_23A44((uint64_t)&v130, &qword_30D8A8);
  v121(v19, v120, v128);
  uint64_t v56 = sub_2987E0();
  os_log_type_t v57 = sub_298DB0();
  if (os_log_type_enabled(v56, v57))
  {
    uint64_t v58 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v58 = 0;
    _os_log_impl(&dword_0, v56, v57, "ShuffleOnDeviceFlow#execute Failed to create audio intent from parse", v58, 2u);
    swift_slowDealloc();
  }

  v119(v19, v128);
  sub_294760();
  v122(v3);
  v116[1](v3, v117);
  return (*(uint64_t (**)(uint64_t, uint64_t))(v127 + 8))(v125, v34);
}

uint64_t sub_10E8F0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void *a9, uint64_t a10, void *a11, uint64_t a12, void *a13)
{
  uint64_t v100 = a12;
  uint64_t v95 = a10;
  uint64_t v96 = a11;
  uint64_t v97 = a9;
  uint64_t v98 = a8;
  uint64_t v94 = sub_295060();
  uint64_t v15 = *(void *)(v94 - 8);
  uint64_t v16 = *(void *)(v15 + 64);
  __chkstk_darwin(v94);
  uint64_t v93 = (char *)&v89 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_295120();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v99 = (uint64_t)&v89 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_298800();
  uint64_t v21 = *(void *)(v20 - 8);
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v89 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v22);
  uint64_t v26 = (char *)&v89 - v25;
  if (!a4)
  {
    uint64_t v90 = v16;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v55 = v15;
    uint64_t v91 = v18;
    uint64_t v92 = v17;
    uint64_t v56 = sub_6E60(v20, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v21 + 16))(v26, v56, v20);
    os_log_type_t v57 = sub_2987E0();
    os_log_type_t v58 = sub_298DA0();
    if (os_log_type_enabled(v57, v58))
    {
      uint64_t v59 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v59 = 0;
      _os_log_impl(&dword_0, v57, v58, "ShuffleOnDeviceFlow#execute resolving routes", v59, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v21 + 8))(v26, v20);
    uint64_t v60 = v95;
    sub_295040();
    uint64_t v61 = v98;
    unint64_t v62 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
    unint64_t v63 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
    unint64_t v64 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
    uint64_t v65 = v55;
    uint64_t v66 = *(void (**)(char *, uint64_t, uint64_t))(v55 + 16);
    uint64_t v67 = v93;
    uint64_t v68 = v94;
    v66(v93, v60, v94);
    unint64_t v69 = (*(unsigned __int8 *)(v65 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v65 + 80);
    id v70 = (char *)swift_allocObject();
    id v71 = v96;
    uint64_t v72 = v97;
    *((void *)v70 + 2) = v61;
    *((void *)v70 + 3) = v72;
    uint64_t v73 = v100;
    *((void *)v70 + 4) = v71;
    *((void *)v70 + 5) = v73;
    (*(void (**)(char *, char *, uint64_t))(v65 + 32))(&v70[v69], v67, v68);
    uint64_t v74 = v62[3];
    uint64_t v96 = (void *)v62[4];
    uint64_t v75 = sub_74A4(v62, v74);
    uint64_t v76 = v63[3];
    uint64_t v95 = v63[4];
    uint64_t v77 = sub_74A4(v63, v76);
    uint64_t v79 = v64[3];
    uint64_t v78 = v64[4];
    uint64_t v80 = sub_74A4(v64, v79);
    swift_retain();
    id v81 = v72;
    swift_retain();
    uint64_t v88 = v78;
    uint64_t v54 = v99;
    sub_1EAA74(v99, (uint64_t)v75, (uint64_t)v77, (uint64_t)v80, (void (*)(void))sub_1134B0, (uint64_t)v70, v81, v76, v74, v79, v95, (uint64_t)v96, v88);
    goto LABEL_13;
  }
  uint64_t v27 = (void *)sub_2964C0();
  char v28 = sub_B15E8(a3, a4, v27);
  swift_bridgeObjectRelease();
  if (v28)
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v90 = v16;
    uint64_t v91 = v18;
    uint64_t v92 = v17;
    uint64_t v29 = sub_6E60(v20, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v21 + 16))(v24, v29, v20);
    uint64_t v30 = sub_2987E0();
    os_log_type_t v31 = sub_298DA0();
    if (os_log_type_enabled(v30, v31))
    {
      uint64_t v32 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v32 = 0;
      _os_log_impl(&dword_0, v30, v31, "ShuffleOnDeviceFlow#execute resolving routes for 1p app", v32, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v21 + 8))(v24, v20);
    uint64_t v33 = v95;
    sub_295040();
    uint64_t v34 = v98;
    uint64_t v35 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
    os_log_type_t v36 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
    id v37 = (void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
    id v38 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
    uint64_t v39 = v15;
    uint64_t v40 = v93;
    uint64_t v41 = v94;
    v38(v93, v33, v94);
    unint64_t v42 = (*(unsigned __int8 *)(v39 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v39 + 80);
    uint64_t v43 = (char *)swift_allocObject();
    uint64_t v44 = v96;
    unint64_t v45 = v97;
    *((void *)v43 + 2) = v34;
    *((void *)v43 + 3) = v45;
    uint64_t v46 = v100;
    *((void *)v43 + 4) = v44;
    *((void *)v43 + 5) = v46;
    (*(void (**)(char *, char *, uint64_t))(v39 + 32))(&v43[v42], v40, v41);
    uint64_t v47 = v35[3];
    uint64_t v95 = v35[4];
    uint64_t v96 = sub_74A4(v35, v47);
    uint64_t v48 = v36[3];
    uint64_t v94 = v36[4];
    unint64_t v49 = sub_74A4(v36, v48);
    uint64_t v51 = v37[3];
    uint64_t v50 = v37[4];
    uint64_t v52 = sub_74A4(v37, v51);
    swift_retain();
    id v53 = v45;
    swift_retain();
    uint64_t v87 = v50;
    uint64_t v54 = v99;
    sub_1EAA74(v99, (uint64_t)v96, (uint64_t)v49, (uint64_t)v52, (void (*)(void))sub_1134B0, (uint64_t)v43, v53, v48, v47, v51, v94, v95, v87);
LABEL_13:
    swift_release();
    return (*(uint64_t (**)(uint64_t, uint64_t))(v91 + 8))(v54, v92);
  }
  uint64_t v83 = a13[3];
  uint64_t v84 = a13[4];
  uint64_t v85 = sub_74A4(a13, v83);
  uint64_t v101[3] = v83;
  unsigned char v101[4] = v84;
  uint64_t v86 = sub_12B48(v101);
  (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v83 - 8) + 16))(v86, v85, v83);
  sub_112258((uint64_t)v86, v97, v95, (uint64_t)v96, v100, v98, v83, v84);
  return sub_7184((uint64_t)v101);
}

uint64_t sub_10F04C(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v105 = a7;
  uint64_t v98 = a6;
  uint64_t v99 = a4;
  uint64_t v94 = a5;
  uint64_t v103 = a3;
  uint64_t v91 = a2;
  uint64_t v8 = sub_295060();
  uint64_t v96 = *(void *)(v8 - 8);
  uint64_t v97 = v8;
  __chkstk_darwin(v8);
  uint64_t v93 = v9;
  uint64_t v95 = (char *)&v86 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_295120();
  uint64_t v100 = *(void *)(v10 - 8);
  uint64_t v101 = v10;
  __chkstk_darwin(v10);
  uint64_t v104 = (uint64_t)&v86 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30DDB8);
  __chkstk_darwin(v12 - 8);
  uint64_t v90 = (char *)&v86 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30DDA8);
  __chkstk_darwin(v14 - 8);
  uint64_t v89 = (char *)&v86 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298800();
  uint64_t v102 = *(void **)(v16 - 8);
  uint64_t v17 = __chkstk_darwin(v16);
  uint64_t v92 = (char *)&v86 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v86 - v19;
  uint64_t v21 = sub_71D4(&qword_310750);
  __chkstk_darwin(v21);
  uint64_t v23 = (char *)&v86 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = sub_2962A0();
  uint64_t v25 = *(void *)(v24 - 8);
  uint64_t v26 = __chkstk_darwin(v24);
  char v28 = (char *)&v86 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v26);
  uint64_t v30 = (char *)&v86 - v29;
  sub_11E58(a1, (uint64_t)v23, &qword_310750);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    sub_23A44((uint64_t)v23, &qword_310750);
    os_log_type_t v31 = v102;
    uint64_t v32 = v92;
    goto LABEL_24;
  }
  uint64_t v87 = v25;
  uint64_t v33 = *(void (**)(char *, char *, uint64_t))(v25 + 32);
  uint64_t v88 = v30;
  uint64_t v34 = v24;
  v33(v30, v23, v24);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v35 = sub_6E60(v16, (uint64_t)qword_31FC08);
  os_log_type_t v36 = v102;
  ((void (*)(char *, uint64_t, uint64_t))v102[2])(v20, v35, v16);
  id v37 = sub_2987E0();
  os_log_type_t v38 = sub_298DA0();
  if (os_log_type_enabled(v37, v38))
  {
    uint64_t v39 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v39 = 0;
    _os_log_impl(&dword_0, v37, v38, "ShuffleOnDeviceFlow#execute Adding now playing info to intent for 3p app", v39, 2u);
    swift_slowDealloc();
  }

  ((void (*)(char *, uint64_t))v36[1])(v20, v16);
  uint64_t v40 = v87;
  uint64_t v41 = v88;
  (*(void (**)(char *, char *, uint64_t))(v87 + 16))(v28, v88, v34);
  type metadata accessor for NowPlayingIntent();
  swift_allocObject();
  unint64_t v42 = sub_E4F78((uint64_t)v28);
  uint64_t v43 = v91;
  sub_74A4(v91, v91[3]);
  uint64_t v44 = (uint64_t)v89;
  sub_298030();
  uint64_t v45 = (uint64_t)&v42[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_reference];
  swift_beginAccess();
  sub_113860(v44, v45, &qword_30DDA8);
  swift_endAccess();
  sub_74A4(v43, v43[3]);
  uint64_t v46 = (uint64_t)v90;
  sub_298000();
  uint64_t v47 = (uint64_t)&v42[OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_mediaType];
  swift_beginAccess();
  sub_113860(v46, v47, &qword_30DDB8);
  swift_endAccess();
  uint64_t v48 = swift_retain();
  id v49 = sub_80650(v48, 0, 0);
  swift_release();
  self;
  uint64_t v50 = v103;
  if (!swift_dynamicCastObjCClass())
  {
    self;
    if (swift_dynamicCastObjCClass())
    {
      id v51 = [v50 backingStore];
      self;
      uint64_t v55 = swift_dynamicCastObjCClass();
      os_log_type_t v31 = v102;
      if (v55) {
        goto LABEL_19;
      }
    }
    else
    {
      self;
      uint64_t v56 = swift_dynamicCastObjCClass();
      os_log_type_t v31 = v102;
      if (v56)
      {
        id v51 = [v50 backingStore];
        self;
        uint64_t v55 = swift_dynamicCastObjCClass();
        if (v55) {
          goto LABEL_19;
        }
      }
      else
      {
        self;
        if (!swift_dynamicCastObjCClass())
        {
          swift_release();
          id v51 = v49;
          goto LABEL_22;
        }
        id v51 = [v50 backingStore];
        self;
        uint64_t v55 = swift_dynamicCastObjCClass();
        if (v55)
        {
LABEL_19:
          os_log_type_t v57 = (void *)v55;
          id v58 = (id)INIntentSlotValueTransformToMediaSearch();
          [v57 setMediaSearch:v58];
          swift_release();

          (*(void (**)(char *, uint64_t))(v40 + 8))(v88, v34);
          goto LABEL_23;
        }
      }
    }
    swift_release();

    goto LABEL_21;
  }
  id v51 = [v50 backingStore];
  self;
  uint64_t v52 = swift_dynamicCastObjCClass();
  if (!v52)
  {
    swift_release();

    os_log_type_t v31 = v102;
LABEL_21:
    uint64_t v41 = v88;
LABEL_22:

    (*(void (**)(char *, uint64_t))(v40 + 8))(v41, v34);
    goto LABEL_23;
  }
  id v53 = (void *)v52;
  id v54 = (id)INIntentSlotValueTransformToMediaSearch();
  [v53 setMediaSearch:v54];
  swift_release();

  (*(void (**)(char *, uint64_t))(v40 + 8))(v88, v34);
  os_log_type_t v31 = v102;
LABEL_23:
  uint64_t v32 = v92;
LABEL_24:
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v59 = sub_6E60(v16, (uint64_t)qword_31FC08);
  ((void (*)(char *, uint64_t, uint64_t))v31[2])(v32, v59, v16);
  uint64_t v60 = sub_2987E0();
  os_log_type_t v61 = sub_298DA0();
  if (os_log_type_enabled(v60, v61))
  {
    unint64_t v62 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v62 = 0;
    _os_log_impl(&dword_0, v60, v61, "ShuffleOnDeviceFlow#execute resolving routes for 3p app", v62, 2u);
    swift_slowDealloc();
  }

  ((void (*)(char *, uint64_t))v31[1])(v32, v16);
  uint64_t v63 = v94;
  sub_295040();
  uint64_t v64 = v99;
  uint64_t v65 = (void *)(v99 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
  uint64_t v66 = (void *)(v99 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
  uint64_t v67 = (void *)(v99 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
  uint64_t v68 = v95;
  uint64_t v69 = v96;
  uint64_t v70 = v97;
  (*(void (**)(char *, uint64_t, uint64_t))(v96 + 16))(v95, v63, v97);
  unint64_t v71 = (*(unsigned __int8 *)(v69 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v69 + 80);
  uint64_t v72 = (char *)swift_allocObject();
  uint64_t v73 = v103;
  *((void *)v72 + 2) = v64;
  *((void *)v72 + 3) = v73;
  uint64_t v74 = v105;
  *((void *)v72 + 4) = v98;
  *((void *)v72 + 5) = v74;
  (*(void (**)(char *, char *, uint64_t))(v69 + 32))(&v72[v71], v68, v70);
  uint64_t v75 = v65[3];
  uint64_t v98 = v65[4];
  uint64_t v102 = sub_74A4(v65, v75);
  uint64_t v76 = v66[3];
  uint64_t v77 = v66[4];
  uint64_t v78 = sub_74A4(v66, v76);
  uint64_t v80 = v67[3];
  uint64_t v79 = v67[4];
  id v81 = sub_74A4(v67, v80);
  swift_retain();
  id v82 = v73;
  swift_retain();
  uint64_t v85 = v79;
  uint64_t v83 = v104;
  sub_1EAA74(v104, (uint64_t)v102, (uint64_t)v78, (uint64_t)v81, (void (*)(void))sub_1134B0, (uint64_t)v72, v82, v76, v75, v80, v77, v98, v85);
  swift_release();
  return (*(uint64_t (**)(uint64_t, uint64_t))(v100 + 8))(v83, v101);
}

uint64_t sub_10FB48(__int16 a1, uint64_t a2, void *a3, void (*a4)(unsigned char *), uint64_t a5, uint64_t a6)
{
  uint64_t v31 = a2;
  uint64_t v32 = a4;
  uint64_t v10 = sub_294780();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = &v27[-((v12 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = &v27[-((v16 + 15) & 0xFFFFFFFFFFFFFFF0)];
  if ((a1 & 0x100) != 0)
  {
    uint64_t v29 = a3;
    uint64_t v30 = a5;
    int v19 = a1;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v20 = sub_6E60(v14, (uint64_t)qword_31FC08);
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v15 + 16))(v17, v20, v14);
    uint64_t v21 = sub_2987E0();
    os_log_type_t v22 = sub_298DB0();
    if (os_log_type_enabled(v21, v22))
    {
      uint64_t v23 = swift_slowAlloc();
      int v28 = a1;
      uint64_t v24 = (uint8_t *)v23;
      uint64_t v34 = swift_slowAlloc();
      *(_DWORD *)uint64_t v24 = 136315138;
      LOBYTE(v33) = v28;
      sub_1134B4();
      uint64_t v25 = sub_299620();
      uint64_t v33 = sub_6E98(v25, v26, &v34);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v21, v22, "ShuffleOnDeviceFlow#execute Route resolution failed with error: %s", v24, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      int v19 = v28;
      swift_slowDealloc();
    }

    (*(void (**)(unsigned char *, uint64_t))(v15 + 8))(v17, v14);
    if (v19 == 1)
    {
      return sub_1101B4(v29, (uint64_t)v32, v30);
    }
    else if (v19 == 3)
    {
      return sub_110414(v29, (uint64_t)v32, v30);
    }
    else
    {
      return sub_10FEB0(v29, (uint64_t)v32, v30);
    }
  }
  else
  {
    sub_1F3F0(a6, a3);
    sub_294750();
    v32(v13);
    swift_release();
    return (*(uint64_t (**)(unsigned char *, uint64_t))(v11 + 8))(v13, v10);
  }
}

uint64_t sub_10FEB0(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v24[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DA0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "ShuffleOnDeviceFlow#noSpeakerFoundErrorResponse Reached logic...", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  uint64_t v16 = *(void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_playMediaCatDialogService);
  void v24[3] = sub_E9B34();
  void v24[4] = &off_2FA9B8;
  v24[0] = a1;
  uint64_t v17 = (void *)swift_allocObject();
  v17[2] = v4;
  v17[3] = a1;
  v17[4] = a2;
  v17[5] = a3;
  uint64_t v18 = *(void *)(v16 + 40);
  uint64_t v19 = *(void *)(v16 + 48);
  id v20 = a1;
  swift_retain();
  swift_retain();
  unint64_t v21 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  __chkstk_darwin(v21);
  *(&v23 - 10) = v18;
  *(&v23 - 9) = v19;
  strcpy((char *)&v23 - 64, "NoSpeakerFound");
  *((unsigned char *)&v23 - 49) = -18;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_111FFC, (uint64_t)v17, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v18, v19, 0x656B616570536F4ELL, 0xEE00646E756F4672, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v23 - 12));
  swift_release();
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v24, &qword_30D018);
}

uint64_t sub_1101B4(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v21[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DA0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "ShuffleOnDeviceFlow#unsupportedOnPlatformErrorResponse Reached logic...", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  unint64_t v16 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  _OWORD v21[3] = sub_E9B34();
  v21[4] = &off_2FA9B8;
  v21[0] = a1;
  uint64_t v17 = (void *)swift_allocObject();
  v17[2] = v4;
  v17[3] = a1;
  v17[4] = a2;
  v17[5] = a3;
  id v18 = a1;
  swift_retain();
  swift_retain();
  sub_61008(v16, (uint64_t)v21, (uint64_t)sub_111FDC, (uint64_t)v17);
  swift_release();
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v21, &qword_30D018);
}

uint64_t sub_110414(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v24[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DA0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "ShuffleOnDeviceFlow#noSpecificSpeakerErrorResponse Reached logic...", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  uint64_t v16 = *(void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_playMediaCatDialogService);
  void v24[3] = sub_E9B34();
  void v24[4] = &off_2FA9B8;
  v24[0] = a1;
  uint64_t v17 = (void *)swift_allocObject();
  v17[2] = v4;
  v17[3] = a1;
  v17[4] = a2;
  v17[5] = a3;
  uint64_t v18 = *(void *)(v16 + 40);
  uint64_t v19 = *(void *)(v16 + 48);
  id v20 = a1;
  swift_retain();
  swift_retain();
  unint64_t v21 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  __chkstk_darwin(v21);
  *(&v23 - 10) = v18;
  *(&v23 - 9) = v19;
  *(&v23 - 8) = 0xD000000000000011;
  *(&v23 - 7) = 0x80000000002A5C10;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_111FBC, (uint64_t)v17, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v18, v19, 0xD000000000000011, 0x80000000002A5C10, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v23 - 12));
  swift_release();
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v24, &qword_30D018);
}

uint64_t sub_110710(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v35 = a3;
  os_log_type_t v38 = a2;
  uint64_t v39 = a6;
  uint64_t v36 = a5;
  uint64_t v37 = a4;
  uint64_t v7 = sub_71D4((uint64_t *)&unk_30FA30);
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = *(void *)(v8 + 64);
  __chkstk_darwin(v7 - 8);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v33 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "ShuffleOnDeviceFlow#handleDialogResult Handling dialog Result...", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = v34;
  uint64_t v19 = *(void *)(v34 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_appNameResolver + 24);
  v33[3] = *(void *)(v34 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_appNameResolver + 32);
  _OWORD v33[2] = sub_74A4((void *)(v34 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_appNameResolver), v19);
  v33[1] = sub_2964D0();
  uint64_t v41 = 0;
  memset(v40, 0, sizeof(v40));
  sub_11E58(a1, (uint64_t)v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t *)&unk_30FA30);
  id v20 = (char *)v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v21 = (*(unsigned __int8 *)(v8 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  unint64_t v22 = (v9 + v21 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v23 = (v22 + 23) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v24 = (v23 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v25 = swift_allocObject();
  sub_60BBC((uint64_t)v20, v25 + v21, (uint64_t *)&unk_30FA30);
  unint64_t v26 = (void *)(v25 + v22);
  uint64_t v27 = v37;
  int v28 = v38;
  *unint64_t v26 = v35;
  v26[1] = v27;
  *(void *)(v25 + v23) = v18;
  *(void *)(v25 + v24) = v28;
  uint64_t v29 = (void *)(v25 + ((v24 + 15) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v30 = v39;
  *uint64_t v29 = v36;
  v29[1] = v30;
  swift_bridgeObjectRetain();
  swift_retain();
  id v31 = v28;
  swift_retain();
  sub_2963D0();
  swift_bridgeObjectRelease();
  swift_release();
  return sub_23A44((uint64_t)v40, &qword_3138B0);
}

uint64_t sub_110A80(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void (*a8)(char *), uint64_t a9)
{
  unint64_t v121 = a8;
  uint64_t v116 = a7;
  uint64_t v113 = a6;
  uint64_t v111 = a5;
  uint64_t v109 = a4;
  uint64_t v107 = a3;
  uint64_t v124 = a1;
  uint64_t v119 = a9;
  uint64_t v9 = sub_294780();
  uint64_t v122 = *(void *)(v9 - 8);
  uint64_t v123 = v9;
  __chkstk_darwin(v9);
  uint64_t v120 = (char *)&v99 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_298800();
  uint64_t v117 = *(void *)(v11 - 8);
  uint64_t v118 = v11;
  uint64_t v12 = __chkstk_darwin(v11);
  uint64_t v106 = (void (*)(void))((char *)&v99 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v12);
  uint64_t v105 = (char *)&v99 - v14;
  uint64_t v15 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v15 - 8);
  uint64_t v115 = (char *)&v99 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v17 - 8);
  uint64_t v114 = (char *)&v99 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v19 - 8);
  uint64_t v112 = (char *)&v99 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v110 = sub_297280();
  uint64_t v21 = *(void *)(v110 - 8);
  __chkstk_darwin(v110);
  unint64_t v23 = (char *)&v99 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v108 = sub_297210();
  uint64_t v24 = *(void *)(v108 - 8);
  __chkstk_darwin(v108);
  unint64_t v26 = (char *)&v99 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = sub_71D4(&qword_30D030);
  uint64_t v28 = __chkstk_darwin(v27);
  uint64_t v103 = (char *)&v99 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v28);
  uint64_t v104 = (char *)&v99 - v30;
  uint64_t v31 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v31);
  uint64_t v33 = (uint64_t *)((char *)&v99 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_297700();
  swift_bridgeObjectRetain();
  uint64_t v124 = sub_2976D0();
  sub_11E58(v107, (uint64_t)v33, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v34 = *v33;
    uint64_t v126 = v109;
    uint64_t v127 = v111;
    swift_bridgeObjectRetain();
    v128._countAndFlagsBits = 95;
    v128._object = (void *)0xE100000000000000;
    sub_298A80(v128);
    uint64_t v36 = v126;
    uint64_t v35 = v127;
    uint64_t v111 = v34;
    swift_getErrorValue();
    uint64_t v126 = sub_299620();
    uint64_t v127 = v37;
    uint64_t v38 = sub_298B00();
    uint64_t v40 = v39;
    uint64_t v126 = v36;
    uint64_t v127 = v35;
    swift_bridgeObjectRetain();
    v129._countAndFlagsBits = v38;
    v129._object = v40;
    sub_298A80(v129);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v41 = v108;
    (*(void (**)(char *, void, uint64_t))(v24 + 104))(v26, enum case for AdditionalMetricsDescription.ModuleName.sllf(_:), v108);
    uint64_t v42 = v110;
    (*(void (**)(char *, void, uint64_t))(v21 + 104))(v23, enum case for AdditionalMetricsDescription.SourceFunction.handleDlgRes(_:), v110);
    uint64_t v109 = sub_297230();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v21 + 8))(v23, v42);
    (*(void (**)(char *, uint64_t))(v24 + 8))(v26, v41);
    sub_74A4((void *)(v113 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider), *(void *)(v113 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider + 24));
    uint64_t v43 = enum case for ActivityType.failed(_:);
    uint64_t v44 = sub_2944C0();
    uint64_t v45 = *(void *)(v44 - 8);
    uint64_t v46 = (uint64_t)v112;
    (*(void (**)(char *, uint64_t, uint64_t))(v45 + 104))(v112, v43, v44);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v45 + 56))(v46, 0, 1, v44);
    uint64_t v47 = sub_2949F0();
    uint64_t v48 = (uint64_t)v114;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v47 - 8) + 56))(v114, 1, 1, v47);
    uint64_t v49 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v50 = sub_294170();
    uint64_t v51 = *(void *)(v50 - 8);
    uint64_t v52 = (uint64_t)v115;
    (*(void (**)(char *, uint64_t, uint64_t))(v51 + 104))(v115, v49, v50);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v51 + 56))(v52, 0, 1, v50);
    swift_retain();
    sub_298E30();
    sub_295CC0();
    swift_release();
    swift_bridgeObjectRelease();
    sub_23A44(v52, &qword_30D5B8);
    sub_23A44(v48, (uint64_t *)&unk_30FA50);
    sub_23A44(v46, &qword_30D5C0);
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v53 = v118;
    uint64_t v54 = sub_6E60(v118, (uint64_t)qword_31FC08);
    uint64_t v55 = v117;
    uint64_t v56 = v106;
    (*(void (**)(void (*)(void), uint64_t, uint64_t))(v117 + 16))(v106, v54, v53);
    swift_errorRetain();
    swift_errorRetain();
    os_log_type_t v57 = sub_2987E0();
    os_log_type_t v58 = sub_298DB0();
    if (os_log_type_enabled(v57, v58))
    {
      uint64_t v59 = (uint8_t *)swift_slowAlloc();
      uint64_t v125 = swift_slowAlloc();
      *(_DWORD *)uint64_t v59 = 136315138;
      swift_getErrorValue();
      uint64_t v126 = sub_299620();
      uint64_t v127 = v60;
      uint64_t v61 = sub_298B00();
      uint64_t v126 = sub_6E98(v61, v62, &v125);
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v57, v58, "ShuffleOnDeviceFlow#handleDialogResult Could not properly create dialog %s, silently failing...", v59, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(void (*)(void), uint64_t))(v55 + 8))(v106, v53);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(void (*)(void), uint64_t))(v55 + 8))(v56, v53);
    }
    uint64_t v98 = v120;
    sub_294760();
    v121(v98);
    swift_errorRelease();
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v122 + 8))(v98, v123);
  }
  else
  {
    uint64_t v102 = v27;
    uint64_t v63 = *(int *)(v27 + 48);
    uint64_t v64 = sub_2949F0();
    uint64_t v101 = *(void *)(v64 - 8);
    uint64_t v106 = *(void (**)(void))(v101 + 32);
    uint64_t v65 = v24;
    uint64_t v107 = v101 + 32;
    uint64_t v66 = v21;
    uint64_t v67 = v104;
    v106();
    uint64_t v68 = *(void **)((char *)v33 + v63);
    *(void *)&v67[v63] = v68;
    uint64_t v69 = (uint64_t)v67;
    uint64_t v70 = v108;
    (*(void (**)(char *, void, uint64_t))(v65 + 104))(v26, enum case for AdditionalMetricsDescription.ModuleName.sllf(_:), v108);
    uint64_t v71 = v110;
    (*(void (**)(char *, void, uint64_t))(v66 + 104))(v23, enum case for AdditionalMetricsDescription.SourceFunction.handleDlgRes(_:), v110);
    id v100 = v68;
    uint64_t v111 = sub_297230();
    uint64_t v109 = v72;
    (*(void (**)(char *, uint64_t))(v66 + 8))(v23, v71);
    (*(void (**)(char *, uint64_t))(v65 + 8))(v26, v70);
    uint64_t v73 = v113;
    uint64_t v74 = *(void *)(v113
                    + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider
                    + 24);
    uint64_t v108 = *(void *)(v113
                     + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider
                     + 32);
    uint64_t v110 = (uint64_t)sub_74A4((void *)(v113+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider), v74);
    uint64_t v75 = enum case for ActivityType.completed(_:);
    uint64_t v76 = sub_2944C0();
    uint64_t v77 = *(void *)(v76 - 8);
    uint64_t v78 = (uint64_t)v112;
    (*(void (**)(char *, uint64_t, uint64_t))(v77 + 104))(v112, v75, v76);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v77 + 56))(v78, 0, 1, v76);
    uint64_t v79 = *(int *)(v102 + 48);
    uint64_t v80 = v101;
    id v81 = v103;
    (*(void (**)(char *, uint64_t, uint64_t))(v101 + 16))(v103, v69, v64);
    swift_retain();
    id v82 = v100;

    *(void *)&v81[v79] = v82;
    uint64_t v83 = (uint64_t)v114;
    ((void (*)(char *, char *, uint64_t))v106)(v114, v81, v64);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v80 + 56))(v83, 0, 1, v64);
    uint64_t v84 = enum case for SiriKitReliabilityCodes.genericError(_:);
    uint64_t v85 = sub_294170();
    uint64_t v86 = *(void *)(v85 - 8);
    uint64_t v87 = (uint64_t)v115;
    (*(void (**)(char *, uint64_t, uint64_t))(v86 + 104))(v115, v84, v85);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v86 + 56))(v87, 0, 1, v85);
    sub_298E30();
    sub_295CC0();
    swift_release();
    swift_bridgeObjectRelease();
    sub_23A44(v87, &qword_30D5B8);
    sub_23A44(v83, (uint64_t *)&unk_30FA50);
    sub_23A44(v78, &qword_30D5C0);
    uint64_t v88 = (void *)sub_294470();
    sub_74A4((void *)(v73 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_aceServiceInvoker), *(void *)(v73 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_aceServiceInvoker + 24));
    sub_294A10();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v89 = v118;
    uint64_t v90 = sub_6E60(v118, (uint64_t)qword_31FC08);
    uint64_t v91 = v117;
    uint64_t v92 = v105;
    (*(void (**)(char *, uint64_t, uint64_t))(v117 + 16))(v105, v90, v89);
    uint64_t v93 = sub_2987E0();
    os_log_type_t v94 = sub_298DA0();
    if (os_log_type_enabled(v93, v94))
    {
      uint64_t v95 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v95 = 0;
      _os_log_impl(&dword_0, v93, v94, "ShuffleOnDeviceFlow#handleDialogResult Dialog successfully generated, responding and exiting...", v95, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v91 + 8))(v92, v89);
    uint64_t v96 = v120;
    sub_294760();
    v121(v96);
    swift_release();

    (*(void (**)(char *, uint64_t))(v122 + 8))(v96, v123);
    return sub_23A44(v69, &qword_30D030);
  }
}

uint64_t sub_111AB4()
{
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_input, &qword_30EBB8);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_audioFlowProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_aceServiceInvoker);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_appNameResolver);
  swift_release();
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider);
  return v0;
}

uint64_t sub_111B84()
{
  sub_111AB4();

  return swift_deallocClassInstance();
}

uint64_t sub_111BDC()
{
  return type metadata accessor for ShuffleOnDeviceFlow();
}

uint64_t type metadata accessor for ShuffleOnDeviceFlow()
{
  uint64_t result = qword_311400;
  if (!qword_311400) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_111C30()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_111CE8(uint64_t a1)
{
  return sub_10CC58(a1) & 1;
}

uint64_t sub_111D10(void (*a1)(char *), uint64_t a2)
{
  return sub_10D89C(a1, a2);
}

uint64_t sub_111D34(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for ShuffleOnDeviceFlow();

  return Flow<>.exitValue.getter(v3, a2);
}

uint64_t sub_111D70()
{
  uint64_t v1 = *(void *)(sub_71D4((uint64_t *)&unk_30FA30) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 16) & ~v2;
  uint64_t v4 = *(void *)(v1 + 64);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    swift_errorRelease();
  }
  else
  {
    uint64_t v5 = sub_2949F0();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v5 - 8) + 8))(v0 + v3, v5);
  }
  unint64_t v6 = (((((v4 + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8;
  swift_bridgeObjectRelease();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, ((v6 + 15) & 0xFFFFFFFFFFFFFFF8) + 16, v2 | 7);
}

uint64_t sub_111EDC(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void *)(sub_71D4((uint64_t *)&unk_30FA30) - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  unint64_t v7 = (*(void *)(v5 + 64) + v6 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v8 = (v7 + 23) & 0xFFFFFFFFFFFFFFF8;
  return sub_110A80(a1, a2, v2 + v6, *(void *)(v2 + v7), *(void *)(v2 + v7 + 8), *(void *)(v2 + v8), *(void *)(v2 + ((v8 + 15) & 0xFFFFFFFFFFFFFFF8)), *(void (**)(char *))(v2 + ((((v8 + 15) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8)), *(void *)(v2 + ((((v8 + 15) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8) + 8));
}

uint64_t sub_111FBC(uint64_t a1)
{
  return sub_112020(a1, 0xD000000000000011, 0x80000000002A5C30);
}

uint64_t sub_111FDC(uint64_t a1)
{
  return sub_112020(a1, 0xD000000000000015, 0x80000000002A5C50);
}

uint64_t sub_111FFC(uint64_t a1)
{
  return sub_112020(a1, 0x656B616570536F6ELL, 0xEE00646E756F4672);
}

uint64_t sub_112020(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_110710(a1, *(void **)(v3 + 24), a2, a3, *(void *)(v3 + 32), *(void *)(v3 + 40));
}

uint64_t sub_112054()
{
  uint64_t v1 = sub_295060();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 32) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = (((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8;
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();
  sub_7184(v0 + v6);

  return _swift_deallocObject(v0, v6 + 48, v5);
}

uint64_t sub_112158(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v15 = *(void *)(sub_295060() - 8);
  unint64_t v16 = (*(unsigned __int8 *)(v15 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v15 + 80);
  unint64_t v17 = (*(void *)(v15 + 64) + v16 + 7) & 0xFFFFFFFFFFFFFFF8;
  return sub_10E8F0(a1, a2, a3, a4, a5, a6, a7, *(void *)(v7 + 16), *(void **)(v7 + 24), v7 + v16, *(void **)(v7 + v17), *(void *)(v7 + v17 + 8), (void *)(v7 + ((v17 + 23) & 0xFFFFFFFFFFFFFFF8)));
}

uint64_t sub_112258(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v144 = a6;
  uint64_t v145 = a5;
  uint64_t v143 = a4;
  uint64_t v139 = a3;
  id v156 = a2;
  uint64_t v137 = sub_295120();
  uint64_t v136 = *(void *)(v137 - 8);
  __chkstk_darwin(v137);
  uint64_t v155 = (uint64_t)&v118 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v142 = sub_295060();
  uint64_t v141 = *(void *)(v142 - 8);
  __chkstk_darwin(v142);
  uint64_t v138 = v12;
  id v140 = (char *)&v118 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_297C70();
  uint64_t v129 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v119 = (char *)&v118 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v122 = sub_71D4(&qword_30DD90);
  __chkstk_darwin(v122);
  uint64_t v125 = (uint64_t)&v118 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v148 = sub_297CA0();
  uint64_t v153 = *(void *)(v148 - 8);
  __chkstk_darwin(v148);
  unint64_t v121 = (char *)&v118 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v146 = sub_71D4(&qword_311548);
  __chkstk_darwin(v146);
  uint64_t v154 = (uint64_t)&v118 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v131 = (void (*)(char *, uint64_t))sub_71D4(&qword_30DDB8);
  uint64_t v18 = __chkstk_darwin(v131);
  uint64_t v120 = (uint64_t)&v118 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v118 - v21;
  uint64_t v23 = __chkstk_darwin(v20);
  uint64_t v124 = (char *)&v118 - v24;
  __chkstk_darwin(v23);
  Swift::String v128 = (char *)&v118 - v25;
  uint64_t v127 = sub_71D4(&qword_30DDA8);
  uint64_t v26 = __chkstk_darwin(v127);
  uint64_t v147 = (uint64_t)&v118 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v28 = __chkstk_darwin(v26);
  uint64_t v151 = (uint64_t)&v118 - v29;
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v32 = (char *)&v118 - v31;
  __chkstk_darwin(v30);
  uint64_t v33 = sub_298800();
  uint64_t v34 = *(void *)(v33 - 8);
  uint64_t v35 = __chkstk_darwin(v33);
  uint64_t v135 = (char *)&v118 - ((v36 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v35);
  uint64_t v38 = (char *)&v118 - v37;
  v164[3] = a7;
  v164[4] = a8;
  uint64_t v157 = a8;
  uint64_t v39 = sub_12B48(v164);
  uint64_t v40 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a7 - 8) + 16);
  uint64_t v149 = a7;
  v40(v39, a1, a7);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v152 = v32;
  uint64_t v123 = v22;
  uint64_t v41 = sub_6E60(v33, (uint64_t)qword_31FC08);
  uint64_t v42 = *(void (**)(char *, uint64_t, uint64_t))(v34 + 16);
  uint64_t v133 = v41;
  uint64_t v134 = v34 + 16;
  uint64_t v132 = v42;
  ((void (*)(char *))v42)(v38);
  sub_18D5C((uint64_t)v164, (uint64_t)&v162);
  sub_18D5C((uint64_t)v164, (uint64_t)&v160);
  uint64_t v43 = sub_2987E0();
  os_log_type_t v44 = sub_298DA0();
  BOOL v45 = os_log_type_enabled(v43, v44);
  uint64_t v126 = v13;
  uint64_t v150 = v33;
  if (v45)
  {
    uint64_t v46 = swift_slowAlloc();
    uint64_t v118 = v39;
    uint64_t v47 = v46;
    uint64_t v159 = swift_slowAlloc();
    *(_DWORD *)uint64_t v47 = 136315394;
    sub_74A4(&v162, v163);
    sub_298030();
    uint64_t v48 = sub_2989E0();
    uint64_t v158 = sub_6E98(v48, v49, &v159);
    uint64_t v130 = v34;
    sub_2992C0();
    swift_bridgeObjectRelease();
    sub_7184((uint64_t)&v162);
    *(_WORD *)(v47 + 12) = 2080;
    sub_74A4(&v160, v161);
    sub_298000();
    uint64_t v50 = sub_2989E0();
    uint64_t v158 = sub_6E98(v50, v51, &v159);
    sub_2992C0();
    swift_bridgeObjectRelease();
    sub_7184((uint64_t)&v160);
    _os_log_impl(&dword_0, v43, v44, "ShuffleOnDeviceFlow#execute reference: %s mediaType: %s", (uint8_t *)v47, 0x16u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v52 = v130;
    uint64_t v131 = *(void (**)(char *, uint64_t))(v130 + 8);
    v131(v38, v150);
  }
  else
  {
    sub_7184((uint64_t)&v162);
    sub_7184((uint64_t)&v160);

    uint64_t v52 = v34;
    uint64_t v131 = *(void (**)(char *, uint64_t))(v34 + 8);
    v131(v38, v33);
  }
  uint64_t v53 = (uint64_t)v152;
  sub_298030();
  uint64_t v54 = v153;
  uint64_t v55 = v151;
  uint64_t v56 = v148;
  (*(void (**)(uint64_t, void, uint64_t))(v153 + 104))(v151, enum case for CommonAudio.Reference.definite(_:), v148);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v54 + 56))(v55, 0, 1, v56);
  uint64_t v57 = v154;
  uint64_t v58 = v154 + *(int *)(v146 + 48);
  sub_11E58(v53, v154, &qword_30DDA8);
  sub_11E58(v55, v58, &qword_30DDA8);
  uint64_t v59 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v54 + 48);
  int v60 = v59(v57, 1, v56);
  uint64_t v61 = v147;
  if (v60 == 1)
  {
    sub_23A44(v55, &qword_30DDA8);
    uint64_t v57 = v154;
    sub_23A44(v53, &qword_30DDA8);
    int v62 = v59(v58, 1, v56);
    uint64_t v63 = v150;
    if (v62 == 1)
    {
      sub_23A44(v57, &qword_30DDA8);
      sub_18D5C((uint64_t)v164, (uint64_t)&v162);
      goto LABEL_13;
    }
    goto LABEL_11;
  }
  sub_11E58(v57, v147, &qword_30DDA8);
  if (v59(v58, 1, v56) == 1)
  {
    sub_23A44(v151, &qword_30DDA8);
    sub_23A44((uint64_t)v152, &qword_30DDA8);
    (*(void (**)(uint64_t, uint64_t))(v153 + 8))(v61, v56);
    uint64_t v63 = v150;
LABEL_11:
    sub_23A44(v57, &qword_311548);
    sub_18D5C((uint64_t)v164, (uint64_t)&v162);
LABEL_19:
    sub_7184((uint64_t)&v162);
    goto LABEL_20;
  }
  uint64_t v64 = v153;
  uint64_t v65 = v121;
  (*(void (**)(char *, uint64_t, uint64_t))(v153 + 32))(v121, v58, v56);
  sub_1136B0(&qword_311550, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Reference);
  char v66 = sub_2989A0();
  uint64_t v67 = *(void (**)(char *, uint64_t))(v64 + 8);
  uint64_t v68 = v65;
  uint64_t v63 = v150;
  v67(v68, v56);
  sub_23A44(v151, &qword_30DDA8);
  sub_23A44((uint64_t)v152, &qword_30DDA8);
  v67((char *)v61, v56);
  sub_23A44(v57, &qword_30DDA8);
  sub_18D5C((uint64_t)v164, (uint64_t)&v162);
  if ((v66 & 1) == 0) {
    goto LABEL_19;
  }
LABEL_13:
  uint64_t v69 = v63;
  uint64_t v130 = v52;
  sub_74A4(&v162, v163);
  uint64_t v70 = (uint64_t)v124;
  sub_298000();
  uint64_t v71 = v129;
  uint64_t v72 = (uint64_t)v123;
  uint64_t v73 = v126;
  (*(void (**)(char *, void, uint64_t))(v129 + 104))(v123, enum case for CommonAudio.MediaType.album(_:), v126);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v71 + 56))(v72, 0, 1, v73);
  uint64_t v74 = v125;
  uint64_t v75 = v125 + *(int *)(v122 + 48);
  sub_11E58(v70, v125, &qword_30DDB8);
  sub_11E58(v72, v75, &qword_30DDB8);
  uint64_t v76 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v71 + 48);
  if (v76(v74, 1, v73) == 1)
  {
    sub_23A44(v72, &qword_30DDB8);
    sub_23A44(v70, &qword_30DDB8);
    if (v76(v75, 1, v73) == 1)
    {
      sub_23A44(v74, &qword_30DDB8);
      sub_7184((uint64_t)&v162);
LABEL_25:
      uint64_t v107 = v144;
      uint64_t v157 = (uint64_t)sub_74A4((void *)(v144+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider), *(void *)(v144+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider+ 24));
      sub_18D5C((uint64_t)v164, (uint64_t)&v160);
      uint64_t v108 = v141;
      uint64_t v109 = v140;
      uint64_t v110 = v142;
      (*(void (**)(char *, uint64_t, uint64_t))(v141 + 16))(v140, v139, v142);
      unint64_t v111 = (*(unsigned __int8 *)(v108 + 80) + 72) & ~(unint64_t)*(unsigned __int8 *)(v108 + 80);
      unint64_t v112 = (v138 + v111 + 7) & 0xFFFFFFFFFFFFFFF8;
      uint64_t v113 = swift_allocObject();
      sub_11EBC(&v160, v113 + 16);
      id v114 = v156;
      *(void *)(v113 + 56) = v156;
      *(void *)(v113 + 64) = v107;
      (*(void (**)(unint64_t, char *, uint64_t))(v108 + 32))(v113 + v111, v109, v110);
      uint64_t v115 = (void *)(v113 + v112);
      uint64_t v116 = v145;
      void *v115 = v143;
      v115[1] = v116;
      id v117 = v114;
      swift_retain();
      swift_retain();
      sub_296A40();
      swift_release();
      return sub_7184((uint64_t)v164);
    }
    goto LABEL_18;
  }
  uint64_t v77 = v120;
  sub_11E58(v74, v120, &qword_30DDB8);
  if (v76(v75, 1, v73) == 1)
  {
    sub_23A44(v72, &qword_30DDB8);
    sub_23A44(v70, &qword_30DDB8);
    (*(void (**)(uint64_t, uint64_t))(v129 + 8))(v77, v73);
LABEL_18:
    sub_23A44(v74, &qword_30DD90);
    uint64_t v63 = v69;
    goto LABEL_19;
  }
  uint64_t v103 = v129;
  uint64_t v104 = v70;
  uint64_t v105 = v119;
  (*(void (**)(char *, uint64_t, uint64_t))(v129 + 32))(v119, v75, v73);
  sub_1136B0(&qword_30DDE8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType);
  LODWORD(v157) = sub_2989A0();
  uint64_t v106 = *(void (**)(char *, uint64_t))(v103 + 8);
  v106(v105, v73);
  sub_23A44(v72, &qword_30DDB8);
  sub_23A44(v104, &qword_30DDB8);
  v106((char *)v77, v73);
  sub_23A44(v74, &qword_30DDB8);
  sub_7184((uint64_t)&v162);
  uint64_t v63 = v69;
  if (v157) {
    goto LABEL_25;
  }
LABEL_20:
  uint64_t v78 = v135;
  v132(v135, v133, v63);
  uint64_t v79 = sub_2987E0();
  os_log_type_t v80 = sub_298DA0();
  if (os_log_type_enabled(v79, v80))
  {
    id v81 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v81 = 0;
    _os_log_impl(&dword_0, v79, v80, "ShuffleOnDeviceFlow#execute resolving routes for 3p app", v81, 2u);
    swift_slowDealloc();
  }

  v131(v78, v63);
  uint64_t v82 = v139;
  sub_295040();
  uint64_t v83 = v144;
  uint64_t v84 = (void *)(v144 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
  uint64_t v85 = (void *)(v144 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
  uint64_t v86 = (void *)(v144 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
  uint64_t v87 = v141;
  uint64_t v88 = v140;
  uint64_t v89 = v142;
  (*(void (**)(char *, uint64_t, uint64_t))(v141 + 16))(v140, v82, v142);
  unint64_t v90 = (*(unsigned __int8 *)(v87 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v87 + 80);
  uint64_t v91 = (char *)swift_allocObject();
  id v92 = v156;
  *((void *)v91 + 2) = v83;
  *((void *)v91 + 3) = v92;
  uint64_t v93 = v145;
  *((void *)v91 + 4) = v143;
  *((void *)v91 + 5) = v93;
  (*(void (**)(char *, char *, uint64_t))(v87 + 32))(&v91[v90], v88, v89);
  uint64_t v94 = v84[3];
  uint64_t v154 = v84[4];
  uint64_t v157 = (uint64_t)sub_74A4(v84, v94);
  uint64_t v95 = v85[3];
  uint64_t v153 = v85[4];
  uint64_t v96 = sub_74A4(v85, v95);
  uint64_t v97 = v86[3];
  uint64_t v98 = v86[4];
  uint64_t v99 = sub_74A4(v86, v97);
  id v100 = v156;
  swift_retain();
  swift_retain();
  uint64_t v101 = v155;
  sub_1EAA74(v155, v157, (uint64_t)v96, (uint64_t)v99, (void (*)(void))sub_1134B0, (uint64_t)v91, v100, v95, v94, v97, v153, v154, v98);
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v136 + 8))(v101, v137);
  return sub_7184((uint64_t)v164);
}

unint64_t sub_1134B4()
{
  unint64_t result = qword_311540;
  if (!qword_311540)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311540);
  }
  return result;
}

uint64_t sub_11350C()
{
  uint64_t v1 = sub_295060();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 72) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  sub_7184(v0 + 16);

  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_113608(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_295060() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 72) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v5 = (void *)v1[7];
  uint64_t v6 = v1[8];
  uint64_t v7 = (uint64_t)v1 + v4;
  unint64_t v8 = (void *)((char *)v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v9 = *v8;
  uint64_t v10 = v8[1];

  return sub_10F04C(a1, v1 + 2, v5, v6, v7, v9, v10);
}

uint64_t sub_1136B0(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_113704()
{
  uint64_t v1 = sub_295060();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 48) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();

  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_1137E0(__int16 a1)
{
  __int16 v2 = a1 & 0x1FF;
  uint64_t v3 = *(void *)(sub_295060() - 8);
  uint64_t v4 = v1[2];
  uint64_t v5 = (void *)v1[3];
  uint64_t v6 = (void (*)(unsigned char *))v1[4];
  uint64_t v7 = v1[5];
  uint64_t v8 = (uint64_t)v1 + ((*(unsigned __int8 *)(v3 + 80) + 48) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_10FB48(v2, v4, v5, v6, v7, v8);
}

uint64_t sub_113860(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v5 = sub_71D4(a3);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 40))(a2, a1, v5);
  return a2;
}

uint64_t sub_1138C4(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for AudioNLv3Intent();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t static AppSelectionContext.saveRecord(app:intent:intentResponseCode:requestCancelled:pseSignalsStitcher:)(uint64_t a1, void *a2, uint64_t a3, char a4, int a5, uint64_t a6)
{
  return sub_115770(a1, a2, a3, a4 & 1, a5, a6);
}

uint64_t sub_113928(uint64_t a1, char a2, uint64_t a3, uint64_t a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, unsigned __int8 a10)
{
  uint64_t v137 = a8;
  uint64_t v143 = sub_2988D0();
  uint64_t v142 = *(void *)(v143 - 8);
  __chkstk_darwin(v143);
  id v140 = (char *)&v124 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v141 = sub_298900();
  uint64_t v139 = *(void *)(v141 - 8);
  __chkstk_darwin(v141);
  uint64_t v138 = (char *)&v124 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_296840();
  uint64_t v154 = *(void *)(v19 - 8);
  uint64_t v155 = v19;
  uint64_t v20 = __chkstk_darwin(v19);
  uint64_t v135 = (char *)&v124 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v134 = v21;
  __chkstk_darwin(v20);
  uint64_t v151 = (char *)&v124 - v22;
  uint64_t v23 = sub_71D4(&qword_30E708);
  __chkstk_darwin(v23 - 8);
  uint64_t v130 = (char *)&v124 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v149 = sub_2966D0();
  uint64_t v147 = *(void *)(v149 - 8);
  __chkstk_darwin(v149);
  uint64_t v131 = (char *)&v124 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v26 = sub_71D4(&qword_310DE0);
  uint64_t v27 = __chkstk_darwin(v26 - 8);
  uint64_t v150 = (char *)&v124 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v27);
  uint64_t v133 = (char *)&v124 - v29;
  uint64_t v30 = sub_71D4(&qword_30E450);
  uint64_t v31 = __chkstk_darwin(v30 - 8);
  uint64_t v148 = (char *)&v124 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v31);
  uint64_t v132 = (char *)&v124 - v33;
  uint64_t v34 = sub_298800();
  uint64_t v35 = *(void *)(v34 - 8);
  uint64_t v156 = v34;
  uint64_t v157 = v35;
  uint64_t v36 = __chkstk_darwin(v34);
  uint64_t v145 = (char *)&v124 - ((v37 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = __chkstk_darwin(v36);
  uint64_t v129 = (char *)&v124 - v39;
  uint64_t v40 = __chkstk_darwin(v38);
  uint64_t v153 = (char *)&v124 - v41;
  __chkstk_darwin(v40);
  uint64_t v144 = (char *)&v124 - v42;
  uint64_t v43 = sub_2970E0();
  uint64_t v44 = *(void *)(v43 - 8);
  __chkstk_darwin(v43);
  uint64_t v46 = (char *)&v124 - ((v45 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_296A10();
  uint64_t v136 = a7;
  uint64_t v128 = swift_projectBox();
  if (qword_30C930 != -1) {
    swift_once();
  }
  uint64_t v146 = (void *)a3;
  uint64_t v152 = a4;
  sub_253B58(a1, a2 & 1, a3, a4);
  if (a5)
  {
    id aBlock = a5;
    (*(void (**)(char *, void, uint64_t))(v44 + 104))(v46, enum case for AcceptedSpeakerIdConfidence.executeOnCompanionConfidence(_:), v43);
    sub_1983C(0, (unint64_t *)&qword_317810);
    id v47 = a5;
    sub_2972A0();
    (*(void (**)(char *, uint64_t))(v44 + 8))(v46, v43);
  }
  sub_2970D0();
  sub_2970C0();
  uint64_t v48 = a1;
  if (a6)
  {
    sub_2976E0();
    if (!a5) {
      goto LABEL_9;
    }
    goto LABEL_7;
  }
  if (a5) {
LABEL_7:
  }
    sub_298E80();
LABEL_9:
  sub_2970B0();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (a1)
  {
    uint64_t v49 = qword_30C848;
    swift_retain();
    uint64_t v50 = v157;
    if (v49 != -1) {
      swift_once();
    }
    uint64_t v51 = sub_6E60(v156, (uint64_t)qword_31FC08);
    uint64_t v52 = *(void (**)(char *, uint64_t, uint64_t))(v50 + 16);
    uint64_t v127 = v51;
    uint64_t v144 = (char *)(v50 + 16);
    uint64_t v126 = v52;
    ((void (*)(char *))v52)(v153);
    swift_retain();
    uint64_t v53 = sub_2987E0();
    os_log_type_t v54 = sub_298DA0();
    BOOL v55 = os_log_type_enabled(v53, v54);
    uint64_t v125 = a5;
    if (v55)
    {
      uint64_t v56 = swift_slowAlloc();
      *(_DWORD *)uint64_t v56 = 67109376;
      uint64_t v57 = (uint64_t)v132;
      sub_2967F0();
      uint64_t v58 = v147;
      uint64_t v59 = v149;
      BOOL v60 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v147 + 48))(v57, 1, v149) != 1;
      sub_23A44(v57, &qword_30E450);
      LODWORD(aBlock) = v60;
      sub_2992C0();
      *(_WORD *)(v56 + 8) = 1024;
      uint64_t v61 = (uint64_t)v133;
      sub_2967D0();
      BOOL v62 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v154 + 48))(v61, 1, v155) != 1;
      sub_23A44(v61, &qword_310DE0);
      LODWORD(aBlock) = v62;
      sub_2992C0();
      swift_release();
      _os_log_impl(&dword_0, v53, v54, "AppSelectionContext#saveRecord context present, with report?:%{BOOL}d and rawSignalResult?:%{BOOL}d", (uint8_t *)v56, 0xEu);
      swift_slowDealloc();

      uint64_t v63 = (uint64_t)v150;
    }
    else
    {

      swift_release();
      uint64_t v59 = v149;
      uint64_t v63 = (uint64_t)v150;
      uint64_t v58 = v147;
    }
    uint64_t v78 = (uint64_t)v148;
    uint64_t v79 = v156;
    uint64_t v80 = v157 + 8;
    id v81 = *(void (**)(char *, uint64_t))(v157 + 8);
    v81(v153, v156);
    sub_2967F0();
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v58 + 48))(v78, 1, v59))
    {
      sub_23A44(v78, &qword_30E450);
      uint64_t v82 = v152;
    }
    else
    {
      uint64_t v83 = v131;
      (*(void (**)(char *, uint64_t, uint64_t))(v58 + 16))(v131, v78, v59);
      sub_23A44(v78, &qword_30E450);
      char v84 = sub_296630();
      (*(void (**)(char *, uint64_t))(v58 + 8))(v83, v59);
      uint64_t v82 = v152;
      if (v84)
      {
        uint64_t v85 = v129;
        v126(v129, v127, v79);
        uint64_t v86 = sub_2987E0();
        os_log_type_t v87 = sub_298DA0();
        if (os_log_type_enabled(v86, v87))
        {
          uint64_t v88 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v88 = 0;
          _os_log_impl(&dword_0, v86, v87, "AppSelectionContext#saveRecord setting appSelectionLastUsed", v88, 2u);
          swift_slowDealloc();
        }

        v81(v85, v79);
        uint64_t v89 = v130;
        sub_293680();
        uint64_t v90 = sub_293690();
        (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v90 - 8) + 56))(v89, 0, 1, v90);
        swift_beginAccess();
        sub_2969A0();
        swift_endAccess();
      }
    }
    sub_2967D0();
    uint64_t v92 = v154;
    uint64_t v91 = v155;
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v154 + 48))(v63, 1, v155) == 1)
    {
      uint64_t v157 = v80;
      sub_23A44(v63, &qword_310DE0);
      uint64_t v93 = v145;
      v126(v145, v127, v79);
      swift_bridgeObjectRetain_n();
      uint64_t v94 = sub_2987E0();
      os_log_type_t v95 = sub_298DC0();
      if (os_log_type_enabled(v94, v95))
      {
        uint64_t v96 = swift_slowAlloc();
        uint64_t v164 = (void *)swift_slowAlloc();
        *(_DWORD *)uint64_t v96 = 136446466;
        uint64_t v97 = sub_297410();
        id aBlock = (id)sub_6E98(v97, v98, (uint64_t *)&v164);
        sub_2992C0();
        swift_bridgeObjectRelease();
        *(_WORD *)(v96 + 12) = 2082;
        id aBlock = v146;
        uint64_t v159 = v82;
        swift_bridgeObjectRetain();
        sub_71D4((uint64_t *)&unk_313920);
        uint64_t v99 = sub_2989E0();
        id aBlock = (id)sub_6E98(v99, v100, (uint64_t *)&v164);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v94, v95, "AppSelectionContext#saveRecord %{public}s no rawSignalResult present for refId: %{public}s", (uint8_t *)v96, 0x16u);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
        swift_release();

        uint64_t v101 = v145;
        uint64_t v102 = v156;
      }
      else
      {

        swift_bridgeObjectRelease_n();
        swift_release();
        uint64_t v101 = v93;
        uint64_t v102 = v79;
      }
      return ((uint64_t (*)(char *, uint64_t))v81)(v101, v102);
    }
    else
    {
      LODWORD(v153) = a10;
      uint64_t v152 = a9;
      uint64_t v103 = *(void (**)(char *, uint64_t, uint64_t))(v92 + 32);
      uint64_t v104 = v151;
      v103(v151, v63, v91);
      uint64_t v105 = v92;
      uint64_t v106 = v91;
      uint64_t v150 = (char *)sub_2967E0();
      uint64_t v157 = sub_2961C0();
      uint64_t v107 = v135;
      (*(void (**)(char *, char *, uint64_t))(v105 + 16))(v135, v104, v106);
      unint64_t v108 = (*(unsigned __int8 *)(v105 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v105 + 80);
      uint64_t v156 = v48;
      unint64_t v109 = (v134 + v108 + 7) & 0xFFFFFFFFFFFFFFF8;
      unint64_t v110 = (v109 + 31) & 0xFFFFFFFFFFFFFFF8;
      uint64_t v111 = swift_allocObject();
      *(void *)(v111 + 16) = v137;
      unint64_t v112 = v111 + v108;
      uint64_t v113 = v155;
      v103((char *)v112, (uint64_t)v107, v155);
      id v114 = v150;
      *(void *)(v111 + v109) = v150;
      unint64_t v115 = v111 + ((v109 + 15) & 0xFFFFFFFFFFFFFFF8);
      *(void *)unint64_t v115 = v152;
      *(unsigned char *)(v115 + 8) = v153 & 1;
      uint64_t v116 = v125;
      *(void *)(v111 + v110) = v125;
      *(void *)(v111 + ((v110 + 15) & 0xFFFFFFFFFFFFFFF8)) = v136;
      uint64_t v162 = sub_115D0C;
      uint64_t v163 = v111;
      id aBlock = _NSConcreteStackBlock;
      uint64_t v159 = 1107296256;
      long long v160 = sub_7460;
      uint64_t v161 = &unk_2F7838;
      id v117 = _Block_copy(&aBlock);
      id v118 = v114;
      swift_retain();
      id v119 = v116;
      swift_retain();
      uint64_t v120 = v138;
      sub_2988E0();
      uint64_t v164 = _swiftEmptyArrayStorage;
      sub_266E8();
      sub_71D4(&qword_30E460);
      sub_25E7C();
      unint64_t v121 = v140;
      uint64_t v122 = v143;
      sub_299330();
      uint64_t v123 = (void *)v157;
      sub_2990E0();
      _Block_release(v117);
      swift_release();

      (*(void (**)(char *, uint64_t))(v142 + 8))(v121, v122);
      (*(void (**)(char *, uint64_t))(v139 + 8))(v120, v141);
      (*(void (**)(char *, uint64_t))(v154 + 8))(v151, v113);
      return swift_release();
    }
  }
  else
  {
    uint64_t v64 = v157;
    uint64_t v65 = v146;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v66 = v156;
    uint64_t v67 = sub_6E60(v156, (uint64_t)qword_31FC08);
    uint64_t v68 = v144;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 16))(v144, v67, v66);
    uint64_t v69 = v152;
    swift_bridgeObjectRetain_n();
    uint64_t v70 = sub_2987E0();
    os_log_type_t v71 = sub_298DC0();
    if (os_log_type_enabled(v70, v71))
    {
      uint64_t v72 = swift_slowAlloc();
      uint64_t v164 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v72 = 136446466;
      uint64_t v73 = sub_297410();
      id aBlock = (id)sub_6E98(v73, v74, (uint64_t *)&v164);
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v72 + 12) = 2082;
      id aBlock = v65;
      uint64_t v159 = v69;
      swift_bridgeObjectRetain();
      sub_71D4((uint64_t *)&unk_313920);
      uint64_t v75 = sub_2989E0();
      id aBlock = (id)sub_6E98(v75, v76, (uint64_t *)&v164);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v70, v71, "AppSelectionContext#saveRecord %{public}s no context present for refId: %{public}s", (uint8_t *)v72, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      return (*(uint64_t (**)(char *, uint64_t))(v64 + 8))(v68, v156);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      return (*(uint64_t (**)(char *, uint64_t))(v64 + 8))(v68, v66);
    }
  }
}

uint64_t sub_114B10(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5, void *a6, uint64_t a7)
{
  uint64_t v11 = swift_allocObject();
  *(void *)(v11 + 16) = a4;
  *(unsigned char *)(v11 + 24) = a5 & 1;
  *(void *)(v11 + 32) = a6;
  *(void *)(v11 + 40) = a7;
  id v12 = a6;
  swift_retain();
  sub_2967A0();

  return swift_release();
}

uint64_t sub_114BD0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = sub_296840();
  uint64_t v92 = *(void *)(v6 - 8);
  uint64_t v93 = v6;
  __chkstk_darwin(v6);
  uint64_t v91 = (char *)&v82 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_310DE8);
  __chkstk_darwin(v8 - 8);
  os_log_type_t v95 = (char *)&v82 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v98 = sub_2936E0();
  uint64_t v96 = *(uint64_t (***)(uint64_t, uint64_t, void))(v98 - 8);
  uint64_t v10 = __chkstk_darwin(v98);
  os_log_type_t v87 = (char *)&v82 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v97 = (char *)&v82 - v12;
  uint64_t v13 = sub_298800();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v101 = v13;
  uint64_t v102 = v14;
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v88 = (char *)&v82 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v86 = (char *)&v82 - v18;
  __chkstk_darwin(v17);
  unint64_t v100 = (char *)&v82 - v19;
  uint64_t v85 = sub_71D4(&qword_311558);
  uint64_t v20 = __chkstk_darwin(v85);
  uint64_t v99 = (uint64_t)&v82 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v23 = (char *)&v82 - v22;
  uint64_t v24 = sub_293690();
  uint64_t v25 = *(void *)(v24 - 8);
  __chkstk_darwin(v24);
  uint64_t v27 = (char *)&v82 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_296A10();
  swift_projectBox();
  sub_293680();
  uint64_t v94 = a1;
  uint64_t v28 = (void *)sub_296830();
  (*(void (**)(char *, uint64_t))(v25 + 8))(v27, v24);
  if (a4)
  {
    sub_298FE0();
  }
  else
  {
    uint64_t v29 = sub_296D30();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v29 - 8) + 56))(v23, 1, 1, v29);
  }
  uint64_t v30 = (uint64_t)v23;
  Class isa = sub_298C90().super.super.isa;
  uint64_t v105 = (void *)sub_1983C(0, (unint64_t *)&qword_30DB90);
  v104[0] = (uint64_t)isa;
  uint64_t v32 = (void (*)(void *, void))sub_296410();
  sub_238030((uint64_t)v104, 0xD000000000000013, 0x80000000002A5C70);
  v32(v103, 0);
  swift_beginAccess();
  uint64_t v33 = sub_2969D0();
  uint64_t v105 = &type metadata for Int;
  v104[0] = v33;
  swift_endAccess();
  uint64_t v34 = (void (*)(void *, void))sub_296410();
  sub_238030((uint64_t)v104, 0xD000000000000010, 0x80000000002A5C90);
  v34(v103, 0);
  uint64_t v35 = v101;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v36 = sub_6E60(v35, (uint64_t)qword_31FC08);
  uint64_t v37 = v102;
  uint64_t v38 = *(void (**)(char *, uint64_t, uint64_t))(v102 + 16);
  uint64_t v39 = v100;
  uint64_t v89 = v36;
  uint64_t v90 = v38;
  ((void (*)(char *))v38)(v100);
  uint64_t v40 = v99;
  sub_115E18((uint64_t)v23, v99);
  id v41 = v28;
  uint64_t v42 = sub_2987E0();
  os_log_type_t v43 = sub_298DC0();
  int v44 = v43;
  if (os_log_type_enabled(v42, v43))
  {
    uint64_t v45 = swift_slowAlloc();
    uint64_t v84 = swift_slowAlloc();
    v104[0] = v84;
    *(_DWORD *)uint64_t v45 = 136446722;
    uint64_t v46 = sub_297410();
    v103[0] = sub_6E98(v46, v47, v104);
    int v83 = v44;
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v45 + 12) = 2080;
    sub_296420();
    uint64_t v82 = (char *)&type metadata for Any + 8;
    uint64_t v48 = v30;
    uint64_t v49 = sub_298970();
    unint64_t v51 = v50;
    swift_bridgeObjectRelease();
    uint64_t v52 = v49;
    uint64_t v30 = v48;
    v103[0] = sub_6E98(v52, v51, v104);
    sub_2992C0();

    swift_bridgeObjectRelease();
    *(_WORD *)(v45 + 22) = 2080;
    uint64_t v53 = v99;
    uint64_t v54 = sub_299280();
    v103[0] = sub_6E98(v54, v55, v104);
    uint64_t v35 = v101;
    sub_2992C0();
    swift_bridgeObjectRelease();
    sub_23A44(v53, &qword_311558);
    _os_log_impl(&dword_0, v42, (os_log_type_t)v83, "AppSelectionContext#saveRecord %{public}s info: %s, resolution result type: %s, recording to SELF...", (uint8_t *)v45, 0x20u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v56 = *(char **)(v102 + 8);
    uint64_t v57 = v100;
  }
  else
  {

    sub_23A44(v40, &qword_311558);
    uint64_t v56 = *(char **)(v37 + 8);
    uint64_t v57 = v39;
  }
  unint64_t v100 = v56;
  ((void (*)(char *, uint64_t))v56)(v57, v35);
  uint64_t v58 = v98;
  uint64_t v59 = (uint64_t)v95;
  BOOL v60 = v96;
  sub_295F30();
  (*(void (**)(char *, uint64_t, uint64_t))(v92 + 16))(v91, v94, v93);
  sub_295F10();
  sub_295F20();
  swift_release();
  int v61 = v60[6](v59, 1, v58);
  BOOL v62 = v97;
  if (v61 == 1)
  {
    sub_23A44(v59, &qword_310DE8);
    uint64_t v63 = v86;
    v90(v86, v89, v35);
    uint64_t v64 = sub_2987E0();
    os_log_type_t v65 = sub_298DB0();
    if (os_log_type_enabled(v64, v65))
    {
      uint64_t v66 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v66 = 0;
      _os_log_impl(&dword_0, v64, v65, "AppSelectionContext#saveRecord unexpected failed to save record to SELF, uuid nil", v66, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v100)(v63, v35);
    uint64_t v67 = v30;
  }
  else
  {
    uint64_t v99 = v30;
    v60[4]((uint64_t)v97, v59, v58);
    uint64_t v68 = v88;
    v90(v88, v89, v35);
    uint64_t v69 = v87;
    v60[2]((uint64_t)v87, (uint64_t)v62, v58);
    uint64_t v70 = sub_2987E0();
    os_log_type_t v71 = sub_298DC0();
    if (os_log_type_enabled(v70, v71))
    {
      uint64_t v72 = swift_slowAlloc();
      v104[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v72 = 136446466;
      uint64_t v73 = sub_2973D0();
      uint64_t v96 = (uint64_t (**)(uint64_t, uint64_t, void))v41;
      v103[0] = sub_6E98(v73, v74, v104);
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v72 + 12) = 2080;
      uint64_t v75 = sub_2936C0();
      v103[0] = sub_6E98(v75, v76, v104);
      sub_2992C0();
      swift_bridgeObjectRelease();
      uint64_t v77 = (void (*)(char *, uint64_t))v60[1];
      uint64_t v78 = v98;
      v77(v69, v98);
      _os_log_impl(&dword_0, v70, v71, "AppSelectionContext#saveRecord %{public}s saved record with UUID: %s", (uint8_t *)v72, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      ((void (*)(char *, uint64_t))v100)(v88, v101);
      uint64_t v79 = v97;
      uint64_t v80 = v78;
    }
    else
    {

      uint64_t v77 = (void (*)(char *, uint64_t))v60[1];
      v77(v69, v58);

      ((void (*)(char *, uint64_t))v100)(v68, v35);
      uint64_t v79 = v62;
      uint64_t v80 = v58;
    }
    v77(v79, v80);
    uint64_t v67 = v99;
  }
  return sub_23A44(v67, &qword_311558);
}

uint64_t sub_115770(uint64_t a1, void *a2, uint64_t a3, int a4, int a5, uint64_t a6)
{
  int v36 = a5;
  int v38 = a4;
  uint64_t v37 = a3;
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v29 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_296A10();
  uint64_t v13 = swift_allocBox();
  uint64_t v15 = v14;
  sub_296A00();
  if (a1)
  {
    uint64_t v35 = a2;
    swift_retain();
    uint64_t v16 = sub_2976E0();
    if (v17)
    {
      unint64_t v18 = v17;
      uint64_t v34 = v16;
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v19 = sub_6E60(v9, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v19, v9);
      swift_bridgeObjectRetain_n();
      uint64_t v20 = sub_2987E0();
      os_log_type_t v21 = sub_298DA0();
      if (os_log_type_enabled(v20, v21))
      {
        uint64_t v33 = (uint8_t *)swift_slowAlloc();
        v40[0] = swift_slowAlloc();
        uint64_t v31 = v15;
        uint64_t v32 = a6;
        uint64_t v22 = v33;
        *(_DWORD *)uint64_t v33 = 136315138;
        uint64_t v29 = v22 + 4;
        swift_bridgeObjectRetain();
        uint64_t v30 = v10;
        uint64_t v39 = sub_6E98(v34, v18, v40);
        a6 = v32;
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v20, v21, "AppSelectionContext#saveRecord setting lastBundleIdentifier=%s", v33, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v30 + 8))(v12, v9);
      }
      else
      {

        swift_bridgeObjectRelease_n();
        (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
      }
      sub_2969B0();
    }
    swift_release();
    a2 = v35;
  }
  sub_2963E0();
  sub_74A4(v40, v40[3]);
  uint64_t v23 = sub_2965D0();
  uint64_t v25 = v24;
  sub_7184((uint64_t)v40);
  sub_296820();
  uint64_t v26 = swift_allocObject();
  *(unsigned char *)(v26 + 16) = v36 & 1;
  *(void *)(v26 + 24) = v23;
  *(void *)(v26 + 32) = v25;
  *(void *)(v26 + 40) = a2;
  *(void *)(v26 + 48) = a1;
  *(void *)(v26 + 56) = v13;
  *(void *)(v26 + 64) = a6;
  *(void *)(v26 + 72) = v37;
  *(unsigned char *)(v26 + 80) = v38 & 1;
  id v27 = a2;
  swift_retain();
  swift_retain();
  swift_retain();
  swift_bridgeObjectRetain();
  sub_296800();
  swift_release();
  swift_bridgeObjectRelease();
  return swift_release();
}

uint64_t sub_115B64()
{
  swift_bridgeObjectRelease();

  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 81, 7);
}

uint64_t sub_115BBC(uint64_t a1)
{
  return sub_113928(a1, *(unsigned char *)(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32), *(void **)(v1 + 40), *(void *)(v1 + 48), *(void *)(v1 + 56), *(void *)(v1 + 64), *(void *)(v1 + 72), *(unsigned char *)(v1 + 80));
}

uint64_t sub_115BFC()
{
  uint64_t v1 = sub_296840();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = (*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v7 = (v6 + 31) & 0xFFFFFFFFFFFFFFF8;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  swift_release();

  return _swift_deallocObject(v0, ((v7 + 15) & 0xFFFFFFFFFFFFFFF8) + 8, v5);
}

uint64_t sub_115D0C()
{
  uint64_t v1 = *(void *)(sub_296840() - 8);
  unint64_t v2 = (*(unsigned __int8 *)(v1 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v1 + 80);
  unint64_t v3 = (*(void *)(v1 + 64) + v2 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v4 = (v3 + 31) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v5 = *(void *)(v0 + 16);
  uint64_t v6 = v0 + v2;
  uint64_t v7 = *(void *)(v0 + v3);
  uint64_t v8 = v0 + ((v3 + 15) & 0xFFFFFFFFFFFFFFF8);
  uint64_t v9 = *(void *)v8;
  char v10 = *(unsigned char *)(v8 + 8);
  uint64_t v11 = *(void **)(v0 + v4);
  uint64_t v12 = *(void *)(v0 + ((v4 + 15) & 0xFFFFFFFFFFFFFFF8));

  return sub_114B10(v5, v6, v7, v9, v10, v11, v12);
}

uint64_t sub_115DC8()
{
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_115E08(uint64_t a1)
{
  return sub_114BD0(a1, *(void *)(v1 + 16), *(unsigned __int8 *)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_115E18(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_311558);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t Determine.UnsupportedValueStrategy.makeUnsupportedValueOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v9 = v8;
  uint64_t v16 = *(void *)(v8 + 16);
  unint64_t v17 = (void *)swift_allocObject();
  v17[2] = v9;
  v17[3] = a1;
  v17[4] = a2;
  v17[5] = a7;
  v17[6] = a8;
  unint64_t v18 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, id, uint64_t, void, uint64_t (*)(), void *))(*(void *)v16 + 200);
  swift_retain();
  swift_retain();
  id v19 = a2;
  swift_retain();
  v18(a1, a3, a4, a6, v19, a5, 0, sub_116EB8, v17);

  return swift_release();
}

uint64_t sub_115F94(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t *), uint64_t a6)
{
  unint64_t v121 = a5;
  uint64_t v122 = a6;
  uint64_t v119 = a3;
  uint64_t v120 = a4;
  id v118 = a2;
  uint64_t v108 = a1;
  uint64_t v6 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)v99 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v106 = sub_297270();
  uint64_t v105 = *(void *)(v106 - 8);
  __chkstk_darwin(v106);
  char v10 = (char *)v99 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4(&qword_30D030);
  uint64_t v12 = __chkstk_darwin(v11);
  uint64_t v107 = (char *)v99 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)v99 - v14;
  uint64_t v16 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v16 - 8);
  id v117 = (char *)v99 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v18 - 8);
  uint64_t v116 = (char *)v99 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v20 - 8);
  unint64_t v115 = (char *)v99 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_297280();
  uint64_t v113 = *(void **)(v22 - 8);
  id v114 = (void (*)(void, void, void))v22;
  __chkstk_darwin(v22);
  unint64_t v110 = (char *)v99 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v112 = sub_297210();
  uint64_t v111 = *(void *)(v112 - 8);
  __chkstk_darwin(v112);
  unint64_t v109 = (char *)v99 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_298800();
  uint64_t v26 = *(void *)(v25 - 8);
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v29 = (char *)v99 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v27);
  uint64_t v31 = (char *)v99 - v30;
  uint64_t v32 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v32);
  uint64_t v34 = (void *)((char *)v99 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0(v108, (uint64_t)v34);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v35 = *v34;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v36 = sub_6E60(v25, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v26 + 16))(v31, v36, v25);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v37 = sub_2987E0();
    os_log_type_t v38 = sub_298DB0();
    if (os_log_type_enabled(v37, v38))
    {
      uint64_t v39 = (uint8_t *)swift_slowAlloc();
      uint64_t v108 = swift_slowAlloc();
      *(_DWORD *)uint64_t v39 = 138412290;
      swift_errorRetain();
      uint64_t v40 = _swift_stdlib_bridgeErrorToNSError();
      v123[0] = v40;
      sub_2992C0();
      *(void *)uint64_t v108 = v40;
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v37, v38, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput dialog provider failed with error: %@", v39, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();
    }

    (*(void (**)(char *, uint64_t))(v26 + 8))(v31, v25);
    uint64_t v83 = v111;
    uint64_t v84 = v109;
    uint64_t v85 = v112;
    (*(void (**)(char *, void, uint64_t))(v111 + 104))(v109, enum case for AdditionalMetricsDescription.ModuleName.duvs(_:), v112);
    os_log_type_t v87 = v113;
    uint64_t v86 = v114;
    uint64_t v88 = v110;
    ((void (*)(char *, void, void))v113[13])(v110, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v114);
    swift_getErrorValue();
    sub_299620();
    uint64_t v108 = sub_297230();
    swift_bridgeObjectRelease();
    ((void (*)(char *, void (*)(void, void, void)))v87[1])(v88, v86);
    (*(void (**)(char *, uint64_t))(v83 + 8))(v84, v85);
    id v118 = sub_74A4(v118 + 3, v118[6]);
    uint64_t v89 = enum case for ActivityType.failed(_:);
    uint64_t v90 = sub_2944C0();
    uint64_t v91 = *(void *)(v90 - 8);
    uint64_t v92 = (uint64_t)v115;
    (*(void (**)(char *, uint64_t, uint64_t))(v91 + 104))(v115, v89, v90);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v91 + 56))(v92, 0, 1, v90);
    uint64_t v93 = sub_2949F0();
    uint64_t v94 = (uint64_t)v116;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v93 - 8) + 56))(v116, 1, 1, v93);
    uint64_t v95 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v96 = sub_294170();
    uint64_t v97 = *(void *)(v96 - 8);
    uint64_t v98 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v97 + 104))(v117, v95, v96);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v97 + 56))(v98, 0, 1, v96);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v98, &qword_30D5B8);
    sub_23A44(v94, (uint64_t *)&unk_30FA50);
    sub_23A44(v92, &qword_30D5C0);
    v123[0] = v35;
    char v124 = 1;
    swift_errorRetain();
    v121(v123);
    swift_errorRelease();
    return sub_23A44((uint64_t)v123, (uint64_t *)&unk_30FA80);
  }
  else
  {
    uint64_t v108 = v11;
    uint64_t v41 = *(int *)(v11 + 48);
    uint64_t v42 = sub_2949F0();
    uint64_t v103 = *(void *)(v42 - 8);
    os_log_type_t v43 = *(void (**)(char *, uint64_t, uint64_t))(v103 + 32);
    uint64_t v104 = v42;
    unint64_t v100 = v43;
    v99[3] = v103 + 32;
    ((void (*)(char *, uint64_t *))v43)(v15, v34);
    int v44 = *(void **)((char *)v34 + v41);
    *(void *)&v15[v41] = v44;
    uint64_t v45 = qword_30C848;
    id v102 = v44;
    uint64_t v46 = v15;
    if (v45 != -1) {
      swift_once();
    }
    uint64_t v101 = v8;
    uint64_t v47 = sub_6E60(v25, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v26 + 16))(v29, v47, v25);
    uint64_t v48 = sub_2987E0();
    os_log_type_t v49 = sub_298DC0();
    if (os_log_type_enabled(v48, v49))
    {
      unint64_t v50 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v50 = 0;
      _os_log_impl(&dword_0, v48, v49, "CommonUnsupportedValueStrategy#makeUnsupportedValueOutput acquired dialog.", v50, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v26 + 8))(v29, v25);
    uint64_t v51 = v111;
    uint64_t v52 = v109;
    uint64_t v53 = v112;
    (*(void (**)(char *, void, uint64_t))(v111 + 104))(v109, enum case for AdditionalMetricsDescription.ModuleName.duvs(_:), v112);
    unint64_t v55 = v113;
    uint64_t v54 = v114;
    uint64_t v56 = v110;
    ((void (*)(char *, void, void))v113[13])(v110, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v114);
    uint64_t v57 = v105;
    uint64_t v58 = v106;
    (*(void (**)(char *, void, uint64_t))(v105 + 104))(v10, enum case for AdditionalMetricsDescription.StatusReason.slotResolve(_:), v106);
    uint64_t v99[2] = sub_297220();
    v99[1] = v59;
    (*(void (**)(char *, uint64_t))(v57 + 8))(v10, v58);
    ((void (*)(char *, void (*)(void, void, void)))v55[1])(v56, v54);
    (*(void (**)(char *, uint64_t))(v51 + 8))(v52, v53);
    BOOL v60 = v118;
    uint64_t v61 = v118[6];
    uint64_t v111 = v118[7];
    uint64_t v113 = sub_74A4(v118 + 3, v61);
    uint64_t v62 = enum case for ActivityType.resolveSlotUnsupported(_:);
    uint64_t v63 = sub_2944C0();
    uint64_t v64 = *(void *)(v63 - 8);
    uint64_t v65 = (uint64_t)v115;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 104))(v115, v62, v63);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v64 + 56))(v65, 0, 1, v63);
    uint64_t v66 = *(int *)(v108 + 48);
    uint64_t v67 = v103;
    id v114 = *(void (**)(void, void, void))(v103 + 16);
    uint64_t v68 = (uint64_t)v107;
    uint64_t v69 = v104;
    v114(v107, v46, v104);
    *(void *)(v68 + v66) = v102;
    uint64_t v112 = (uint64_t)v46;
    uint64_t v70 = (uint64_t)v116;
    v100(v116, v68, v69);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v67 + 56))(v70, 0, 1, v69);
    uint64_t v71 = enum case for SiriKitReliabilityCodes.slotResolutionFailure(_:);
    uint64_t v72 = sub_294170();
    uint64_t v73 = *(void *)(v72 - 8);
    uint64_t v74 = (uint64_t)v117;
    (*(void (**)(char *, uint64_t, uint64_t))(v73 + 104))(v117, v71, v72);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v73 + 56))(v74, 0, 1, v72);
    uint64_t v75 = v120;
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v74, &qword_30D5B8);
    sub_23A44(v70, (uint64_t *)&unk_30FA50);
    sub_23A44(v65, &qword_30D5C0);
    uint64_t v76 = (uint64_t)v101;
    sub_BF0D0(v75, (uint64_t)v101);
    sub_74A4(v60 + 8, v60[11]);
    uint64_t v77 = *(int *)(v108 + 48);
    uint64_t v78 = v112;
    uint64_t v79 = v104;
    v114(v68, v112, v104);
    uint64_t v80 = v102;
    *(void *)(v68 + v77) = v102;
    id v81 = v80;
    sub_1CBD04(v68, v80, v76, (uint64_t)_swiftEmptyArrayStorage, v121, v122);

    sub_23A44(v76, (uint64_t *)&unk_30FA70);
    sub_23A44(v78, &qword_30D030);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v103 + 8))(v68, v79);
  }
}

unint64_t sub_116EBC(uint64_t a1)
{
  unint64_t result = sub_116EE4();
  *(void *)(a1 + 8) = result;
  return result;
}

unint64_t sub_116EE4()
{
  unint64_t result = qword_30F1C0;
  if (!qword_30F1C0)
  {
    type metadata accessor for Determine.UnsupportedValueStrategy();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30F1C0);
  }
  return result;
}

uint64_t type metadata accessor for Determine.UnsupportedValueStrategy()
{
  return self;
}

uint64_t sub_116F5C(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v14 = *v8;
  uint64_t v15 = *(void *)(*v8 + 16);
  uint64_t v16 = (void *)swift_allocObject();
  v16[2] = v14;
  v16[3] = a1;
  v16[4] = a2;
  uint64_t v16[5] = a7;
  v16[6] = a8;
  uint64_t v17 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, id, uint64_t, void, uint64_t (*)(), void *))(*(void *)v15 + 200);
  swift_retain();
  swift_retain();
  id v18 = a2;
  swift_retain();
  v17(a1, a3, a4, a6, v18, a5, 0, sub_116EB8, v16);

  return swift_release();
}

uint64_t sub_117070(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v20 = type metadata accessor for Determine.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeUpdatedIntentForUnsupportedValue(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, v20, a10);
}

uint64_t sub_117108(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v20 = type metadata accessor for Determine.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeLaunchAppWithIntentOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, v20, a10);
}

uint64_t sub_1171A4()
{
  swift_release();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_1171F4(uint64_t a1)
{
  return sub_115F94(a1, *(void **)(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32), *(void (**)(uint64_t *))(v1 + 40), *(void *)(v1 + 48));
}

uint64_t InternalSignalsManager.__deallocating_deinit()
{
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for AddMediaSnippetProvider()
{
  return self;
}

uint64_t sub_117260(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30EBB8);
  uint64_t v3 = __chkstk_darwin(v2 - 8);
  uint64_t v33 = (uint64_t)v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v31 = (char *)v26 - v5;
  uint64_t v6 = sub_295060();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v26 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v26 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v29 = v10;
  uint64_t v15 = *(void (**)(char *, uint64_t, uint64_t))(v7 + 16);
  uint64_t v32 = a1;
  uint64_t v30 = v15;
  v15(v9, a1, v6);
  uint64_t v16 = sub_2987E0();
  os_log_type_t v17 = sub_298DA0();
  if (os_log_type_enabled(v16, v17))
  {
    id v18 = (uint8_t *)swift_slowAlloc();
    uint64_t v28 = swift_slowAlloc();
    v36[0] = v28;
    uint64_t v27 = v18;
    *(_DWORD *)id v18 = 136315138;
    v26[1] = v18 + 4;
    sub_22394((unint64_t *)&qword_30D630, (void (*)(uint64_t))&type metadata accessor for Input);
    uint64_t v19 = sub_2995A0();
    uint64_t v35 = sub_6E98(v19, v20, v36);
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
    _os_log_impl(&dword_0, v16, v17, "ConfirmInterruptionFlow#on Setting input: %s...", v27, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v29);
  uint64_t v21 = v31;
  v30(v31, v32, v6);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v21, 0, 1, v6);
  uint64_t v22 = (uint64_t)v21;
  uint64_t v23 = v33;
  sub_B23C4(v22, v33);
  uint64_t v24 = v34 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23ConfirmInterruptionFlow_input;
  swift_beginAccess();
  sub_1F9CC(v23, v24);
  swift_endAccess();
  return 1;
}

uint64_t sub_1176B8()
{
  return type metadata accessor for ConfirmInterruptionFlow();
}

void sub_1176C0()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t getEnumTagSinglePayload for ConfirmInterruptionFlow.State(uint64_t a1, int a2)
{
  if (a2 && *(unsigned char *)(a1 + 9)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for ConfirmInterruptionFlow.State(uint64_t result, int a2, int a3)
{
  if (a2)
  {
    *(void *)unint64_t result = 0;
    *(unsigned char *)(result + 8) = 0;
    *(_DWORD *)unint64_t result = a2 - 1;
    if (!a3) {
      return result;
    }
    char v3 = 1;
  }
  else
  {
    if (!a3) {
      return result;
    }
    char v3 = 0;
  }
  *(unsigned char *)(result + 9) = v3;
  return result;
}

uint64_t sub_1177DC(uint64_t a1)
{
  if (*(unsigned char *)(a1 + 8)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t sub_1177F8(uint64_t result, int a2)
{
  if (a2)
  {
    *(void *)unint64_t result = (a2 - 1);
    *(unsigned char *)(result + 8) = 1;
  }
  else
  {
    *(unsigned char *)(result + 8) = 0;
  }
  return result;
}

ValueMetadata *type metadata accessor for ConfirmInterruptionFlow.State()
{
  return &type metadata for ConfirmInterruptionFlow.State;
}

uint64_t sub_117828(uint64_t a1)
{
  return 1;
}

uint64_t sub_117850(unint64_t a1)
{
  uint64_t result = 0xD000000000000013;
  if (a1)
  {
    if (a1 == 1)
    {
      return 0x74706D6F72702ELL;
    }
    else if (a1 == 2)
    {
      return 0xD000000000000014;
    }
    else
    {
      sub_11AB24(a1);
      sub_2976E0();
      sub_71D4((uint64_t *)&unk_313920);
      v3._countAndFlagsBits = sub_2989E0();
      sub_298A80(v3);
      swift_bridgeObjectRelease();
      v4._countAndFlagsBits = 41;
      v4._object = (void *)0xE100000000000000;
      sub_298A80(v4);
      sub_11AB34(a1);
      return 0x65766C6F7365722ELL;
    }
  }
  return result;
}

uint64_t sub_117950()
{
  return sub_117850(*v0);
}

uint64_t sub_117958(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  return sub_11BD40(a1, a2, a4);
}

double sub_117960@<D0>(uint64_t a1@<X0>, uint64_t a2@<X2>, uint64_t *a3@<X8>)
{
  return sub_1179B8(a1, a2, a3);
}

double sub_1179B8@<D0>(uint64_t a1@<X0>, uint64_t a2@<X2>, uint64_t *a3@<X8>)
{
  uint64_t v230 = a1;
  uint64_t v5 = sub_298800();
  uint64_t v226 = *(void **)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v211 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v222 = sub_295F50();
  uint64_t v221 = *(void *)(v222 - 8);
  uint64_t v8 = __chkstk_darwin(v222);
  v219 = (char *)&v211 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v220 = (char *)&v211 - v10;
  uint64_t v11 = sub_296790();
  uint64_t v252 = *(void *)(v11 - 8);
  uint64_t v12 = __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v211 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v16 = (char *)&v211 - v15;
  uint64_t v245 = sub_296CD0();
  uint64_t v218 = *(void *)(v245 - 8);
  uint64_t v17 = __chkstk_darwin(v245);
  uint64_t v240 = (uint64_t *)((char *)&v211 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v17);
  uint64_t v241 = (char *)&v211 - v19;
  uint64_t v242 = sub_296D90();
  uint64_t v217 = *(void *)(v242 - 8);
  uint64_t v20 = __chkstk_darwin(v242);
  v235 = (uint64_t *)((char *)&v211 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v20);
  uint64_t v239 = (uint64_t *)((char *)&v211 - v22);
  uint64_t v244 = sub_296F60();
  uint64_t v238 = *(void *)(v244 - 8);
  uint64_t v23 = __chkstk_darwin(v244);
  uint64_t v233 = (uint64_t)&v211 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  id v236 = (char *)&v211 - v25;
  uint64_t v243 = sub_2961A0();
  uint64_t v237 = *(void *)(v243 - 8);
  uint64_t v26 = __chkstk_darwin(v243);
  uint64_t v232 = (uint64_t)&v211 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v26);
  id v234 = (char *)&v211 - v28;
  uint64_t v229 = sub_296AA0();
  uint64_t v227 = *(void **)(v229 - 8);
  uint64_t v29 = __chkstk_darwin(v229);
  uint64_t v228 = (char *)&v211 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v29);
  uint64_t v32 = (char *)&v211 - v31;
  uint64_t v247 = sub_296A10();
  uint64_t v253 = *(void *)(v247 - 8);
  uint64_t v33 = __chkstk_darwin(v247);
  v250 = (char *)&v211 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v33);
  uint64_t v36 = (char *)&v211 - v35;
  uint64_t v37 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v37 - 8);
  v251 = (uint64_t *)((char *)&v211 - ((v38 + 15) & 0xFFFFFFFFFFFFFFF0));
  self;
  uint64_t v39 = swift_dynamicCastObjCClass();
  uint64_t v231 = a3;
  uint64_t v249 = v11;
  v248 = v14;
  v246 = v16;
  if (v39)
  {
    type metadata accessor for PlayMediaCatDialogService();
    uint64_t v40 = (void *)swift_allocObject();
    v40[6] = 0xEF746E65746E4961;
    _OWORD v40[2] = 0xD000000000000011;
    v40[3] = 0x80000000002A3570;
    uint64_t v40[4] = a2;
    v40[5] = 0x6964654D79616C50;
    uint64_t v41 = sub_294F60();
    (*(void (**)(void *, uint64_t, uint64_t, uint64_t))(*(void *)(v41 - 8) + 56))(v251, 1, 1, v41);
    unint64_t v216 = sub_A6604(&_swiftEmptyArrayStorage);
    swift_retain_n();
    uint64_t v226 = v40;
    swift_retain();
    sub_2942A0();
    sub_296A00();
    sub_296A90();
    sub_295C80();
    uint64_t v215 = sub_295C70();
    uint64_t v42 = v32;
    uint64_t v214 = a2;
    os_log_type_t v43 = v36;
    if (qword_30C950 != -1) {
      swift_once();
    }
    uint64_t v44 = qword_31FE88;
    swift_retain();
    sub_2963E0();
    uint64_t v45 = type metadata accessor for DialogHistoryProvider();
    uint64_t v264 = v45;
    v265 = &off_2FCE00;
    uint64_t v263 = v44;
    type metadata accessor for PlayMediaDialogProvider();
    uint64_t v212 = (void *)swift_allocObject();
    uint64_t v46 = sub_12AF8((uint64_t)&v263, v45);
    uint64_t v213 = &v211;
    __chkstk_darwin(v46);
    uint64_t v48 = (uint64_t *)((char *)&v211 - ((v47 + 15) & 0xFFFFFFFFFFFFFFF0));
    (*(void (**)(uint64_t *))(v49 + 16))(v48);
    uint64_t v50 = *v48;
    uint64_t v51 = v253;
    uint64_t v52 = *(void (**)(uint64_t, char *, uint64_t))(v253 + 16);
    uint64_t v53 = (uint64_t)v250;
    uint64_t v54 = v247;
    uint64_t v225 = v253 + 16;
    uint64_t v224 = v52;
    v52((uint64_t)v250, v43, v247);
    unint64_t v55 = v227;
    uint64_t v56 = (void (*)(char *, char *, uint64_t))v227[2];
    uint64_t v57 = (uint64_t)v228;
    uint64_t v58 = v42;
    uint64_t v223 = v43;
    uint64_t v59 = v42;
    uint64_t v60 = v229;
    v56(v228, v58, v229);
    swift_retain();
    uint64_t v61 = v215;
    swift_retain();
    v251 = sub_11BB34((uint64_t)v226, v214, v216, (uint64_t)&v254, (uint64_t)v251, v53, v57, v61, v50, (uint64_t)&v266, v212);
    swift_release();
    ((void (*)(char *, uint64_t))v55[1])(v59, v60);
    uint64_t v62 = *(char **)(v51 + 8);
    uint64_t v63 = v223;
    uint64_t v64 = v54;
    uint64_t v253 = v51 + 8;
    uint64_t v228 = v62;
    ((void (*)(char *, uint64_t))v62)(v223, v54);
    swift_release();
    sub_7184((uint64_t)&v263);
    swift_release();
    sub_296D00();
    uint64_t v229 = sub_296CF0();
    uint64_t v65 = v63;
    if (qword_30C8B0 != -1) {
      swift_once();
    }
    uint64_t v66 = v234;
    sub_296180();
    sub_296A00();
    uint64_t v67 = v236;
    sub_296F50();
    uint64_t v68 = v239;
    sub_296D80();
    uint64_t v69 = v241;
    sub_296CC0();
    sub_296620();
    uint64_t v214 = sub_296610();
    uint64_t v215 = sub_295F30();
    sub_2963E0();
    uint64_t v70 = v246;
    sub_296780();
    uint64_t v71 = v220;
    sub_295F40();
    type metadata accessor for PlayMediaAppResolver();
    uint64_t v213 = (uint64_t *)swift_allocObject();
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v254);
    (*(void (**)(uint64_t, char *, uint64_t))(v237 + 16))(v232, v66, v243);
    v224(v53, v65, v64);
    (*(void (**)(uint64_t, char *, uint64_t))(v238 + 16))(v233, v67, v244);
    uint64_t v72 = v217;
    (*(void (**)(uint64_t *, void *, uint64_t))(v217 + 16))(v235, v68, v242);
    uint64_t v73 = v218;
    (*(void (**)(uint64_t *, char *, uint64_t))(v218 + 16))(v240, v69, v245);
    uint64_t v74 = v53;
    uint64_t v75 = *(void **)(v252 + 16);
    unint64_t v216 = v252 + 16;
    uint64_t v227 = v75;
    uint64_t v76 = (uint64_t)v248;
    ((void (*)(char *, char *, uint64_t))v75)(v248, v70, v249);
    uint64_t v77 = v221;
    uint64_t v78 = (uint64_t)v219;
    uint64_t v79 = v71;
    uint64_t v80 = v222;
    (*(void (**)(char *, char *, uint64_t))(v221 + 16))(v219, v71, v222);
    uint64_t v81 = v229;
    swift_retain();
    uint64_t v82 = v214;
    swift_retain();
    uint64_t v240 = (uint64_t *)sub_11AB8C(v81, &v254, v232, v74, v233, (uint64_t)v235, (uint64_t)v240, v82, v215, (uint64_t)&protocol witness table for SelfEmitter, (uint64_t)&v266, v76, v78, v213);
    (*(void (**)(char *, uint64_t))(v77 + 8))(v79, v80);
    uint64_t v83 = *(uint64_t **)(v252 + 8);
    v252 += 8;
    v235 = v83;
    uint64_t v84 = v246;
    uint64_t v85 = v249;
    ((void (*)(char *, uint64_t))v83)(v246, v249);
    swift_release();
    (*(void (**)(char *, uint64_t))(v73 + 8))(v241, v245);
    (*(void (**)(void *, uint64_t))(v72 + 8))(v239, v242);
    (*(void (**)(char *, uint64_t))(v238 + 8))(v236, v244);
    uint64_t v86 = v223;
    uint64_t v87 = v247;
    uint64_t v88 = v228;
    ((void (*)(char *, uint64_t))v228)(v223, v247);
    (*(void (**)(char *, uint64_t))(v237 + 8))(v234, v243);
    swift_release();
    uint64_t v89 = v251;
    swift_retain();
    uint64_t v90 = v84;
    sub_296780();
    sub_296A00();
    sub_2942A0();
    sub_71D4(&qword_311B48);
    uint64_t v91 = swift_allocObject();
    uint64_t v92 = (uint64_t)v248;
    uint64_t v93 = v85;
    ((void (*)(char *, char *, uint64_t))v227)(v248, v90, v85);
    uint64_t v94 = (uint64_t)v250;
    v224((uint64_t)v250, v86, v87);
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v254);
    uint64_t v95 = sub_11B790((uint64_t)v240, (uint64_t)v89, v92, v94, &v254, &v266, (uint64_t)sub_11AB44, 0, 1, v91);
    ((void (*)(char *, uint64_t))v88)(v86, v87);
    ((void (*)(char *, uint64_t))v235)(v90, v93);
    *(void *)&long long v254 = v95;
    sub_11BAF4();
    sub_25E38(&qword_311B50, &qword_311B48);
    uint64_t v96 = sub_293E30();
    uint64_t v97 = sub_71D4(&qword_311B10);
    uint64_t v98 = v231;
    v231[3] = v97;
    v98[4] = sub_25E38(&qword_311B18, &qword_311B10);
    swift_release();
    swift_release();
    swift_release();
    *uint64_t v98 = v96;
    return result;
  }
  uint64_t v242 = (uint64_t)v7;
  unint64_t v100 = a3;
  uint64_t v101 = a2;
  id v102 = v251;
  uint64_t v103 = v101;
  self;
  if (swift_dynamicCastObjCClass())
  {
    type metadata accessor for AddMediaCatDialogService();
    uint64_t v104 = swift_allocObject();
    *(unsigned char *)(v104 + 55) = -18;
    *(void *)(v104 + 16) = 0xD000000000000011;
    *(void *)(v104 + 24) = 0x80000000002A3570;
    *(void *)(v104 + 32) = v103;
    strcpy((char *)(v104 + 40), "AddMediaIntent");
    uint64_t v105 = sub_294F60();
    (*(void (**)(void *, uint64_t, uint64_t, uint64_t))(*(void *)(v105 - 8) + 56))(v102, 1, 1, v105);
    uint64_t v240 = (uint64_t *)sub_A6604(&_swiftEmptyArrayStorage);
    swift_retain_n();
    swift_retain();
    sub_2942A0();
    uint64_t v106 = v36;
    sub_296A00();
    uint64_t v107 = v32;
    sub_296A90();
    type metadata accessor for AddMediaDialogProvider();
    uint64_t v239 = (void *)swift_allocObject();
    uint64_t v108 = v253;
    unint64_t v109 = *(char **)(v253 + 16);
    uint64_t v110 = (uint64_t)v250;
    uint64_t v111 = v36;
    uint64_t v112 = v247;
    uint64_t v242 = v253 + 16;
    uint64_t v241 = v109;
    ((void (*)(char *, char *, uint64_t))v109)(v250, v111, v247);
    uint64_t v113 = v227;
    uint64_t v114 = (uint64_t)v228;
    uint64_t v115 = v229;
    ((void (*)(char *, char *, uint64_t))v227[2])(v228, v107, v229);
    uint64_t v116 = v104;
    uint64_t v117 = v103;
    id v118 = (void *)v104;
    uint64_t v119 = v112;
    uint64_t v120 = v106;
    unint64_t v121 = sub_11B908(v116, v117, (uint64_t)v240, (uint64_t)&v254, (uint64_t)v251, v110, v114, v239);
    v251 = v118;
    swift_release();
    ((void (*)(char *, uint64_t))v113[1])(v107, v115);
    uint64_t v122 = *(uint64_t **)(v108 + 8);
    uint64_t v253 = v108 + 8;
    uint64_t v240 = v122;
    ((void (*)(char *, uint64_t))v122)(v106, v119);
    if (qword_30C8B0 != -1) {
      swift_once();
    }
    uint64_t v255 = &type metadata for StringsBackedAppNameResolver;
    unint64_t v256 = sub_18D08();
    *(void *)&long long v254 = swift_allocObject();
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, v254 + 16);
    uint64_t v267 = v243;
    v268 = &protocol witness table for DeviceProvider;
    sub_12B48((uint64_t *)&v266);
    sub_296180();
    uint64_t v264 = v119;
    v265 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
    sub_12B48(&v263);
    sub_296A00();
    uint64_t v261 = v244;
    v262 = &protocol witness table for UserPreferenceProvider;
    sub_12B48(&v260);
    sub_296F50();
    uint64_t v258 = v245;
    v259 = &protocol witness table for InstalledAppProvider;
    sub_12B48(&v257);
    sub_296CC0();
    sub_71D4(&qword_311B30);
    uint64_t v123 = v119;
    char v124 = (void *)swift_allocObject();
    uint64_t v125 = class metadata base offset for CommonAppResolver;
    uint64_t v126 = (char *)v124 + *(void *)(class metadata base offset for CommonAppResolver + *v124 + 8);
    strcpy(v126, "resolutionType");
    v126[15] = -18;
    sub_18D5C((uint64_t)&v254, (uint64_t)v124 + *(void *)(v125 + *v124 + 16));
    sub_18D5C((uint64_t)&v266, (uint64_t)v124 + *(void *)(class metadata base offset for CommonAppResolver + *v124 + 24));
    sub_18D5C((uint64_t)&v263, (uint64_t)v124 + *(void *)(class metadata base offset for CommonAppResolver + *v124 + 32));
    sub_18D5C((uint64_t)&v260, (uint64_t)v124 + *(void *)(class metadata base offset for CommonAppResolver + *v124 + 40));
    sub_18D5C((uint64_t)&v257, (uint64_t)v124 + *(void *)(class metadata base offset for CommonAppResolver + *v124 + 48));
    uint64_t v245 = sub_2976A0();
    sub_7184((uint64_t)&v257);
    sub_7184((uint64_t)&v260);
    sub_7184((uint64_t)&v263);
    sub_7184((uint64_t)&v266);
    sub_7184((uint64_t)&v254);
    swift_retain();
    uint64_t v127 = v246;
    sub_296780();
    sub_296A00();
    sub_2942A0();
    sub_71D4(&qword_311B38);
    uint64_t v128 = swift_allocObject();
    uint64_t v129 = v120;
    uint64_t v130 = v252;
    uint64_t v131 = (uint64_t)v121;
    uint64_t v132 = (uint64_t)v248;
    uint64_t v133 = v249;
    (*(void (**)(char *, char *, uint64_t))(v252 + 16))(v248, v127, v249);
    uint64_t v134 = (uint64_t)v250;
    ((void (*)(char *, char *, uint64_t))v241)(v250, v129, v123);
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v254);
    uint64_t v135 = sub_11B790(v245, v131, v132, v134, &v254, &v266, (uint64_t)sub_11AB44, 0, 1, v128);
    ((void (*)(char *, uint64_t))v240)(v129, v123);
    (*(void (**)(char *, uint64_t))(v130 + 8))(v127, v133);
    *(void *)&long long v254 = v135;
    sub_11BAF4();
    uint64_t v136 = (unint64_t *)&unk_311B40;
    uint64_t v137 = &qword_311B38;
LABEL_19:
    sub_25E38(v136, v137);
    uint64_t v202 = sub_293E30();
    uint64_t v203 = sub_71D4(&qword_311B10);
    uint64_t v204 = v231;
    v231[3] = v203;
    v204[4] = sub_25E38(&qword_311B18, &qword_311B10);
    swift_release();
    swift_release();
    swift_release();
    *uint64_t v204 = v202;
    return result;
  }
  self;
  if (swift_dynamicCastObjCClass())
  {
    type metadata accessor for UpdateMediaAffinityCatDialogService();
    uint64_t v138 = (void *)swift_allocObject();
    v138[2] = 0xD000000000000011;
    v138[3] = 0x80000000002A3570;
    v138[5] = 0xD000000000000019;
    v138[6] = 0x80000000002A3DD0;
    v138[4] = v103;
    uint64_t v139 = sub_294F60();
    (*(void (**)(void *, uint64_t, uint64_t, uint64_t))(*(void *)(v139 - 8) + 56))(v102, 1, 1, v139);
    uint64_t v240 = (uint64_t *)sub_A6604(&_swiftEmptyArrayStorage);
    swift_retain_n();
    swift_retain();
    sub_2942A0();
    id v140 = v36;
    sub_296A00();
    uint64_t v141 = v32;
    sub_296A90();
    type metadata accessor for UpdateMediaAffinityDialogProvider();
    uint64_t v239 = (void *)swift_allocObject();
    uint64_t v142 = v253;
    uint64_t v143 = *(char **)(v253 + 16);
    uint64_t v144 = (uint64_t)v250;
    uint64_t v145 = v36;
    uint64_t v146 = v247;
    uint64_t v242 = v253 + 16;
    uint64_t v241 = v143;
    ((void (*)(char *, char *, uint64_t))v143)(v250, v145, v247);
    uint64_t v147 = v227;
    uint64_t v148 = (uint64_t)v228;
    uint64_t v149 = v229;
    ((void (*)(char *, char *, uint64_t))v227[2])(v228, v141, v229);
    uint64_t v150 = (uint64_t)v138;
    uint64_t v151 = v103;
    uint64_t v152 = v138;
    uint64_t v153 = v146;
    uint64_t v154 = v140;
    uint64_t v155 = sub_11B908(v150, v151, (uint64_t)v240, (uint64_t)&v254, (uint64_t)v251, v144, v148, v239);
    v251 = v152;
    swift_release();
    ((void (*)(char *, uint64_t))v147[1])(v141, v149);
    uint64_t v156 = *(uint64_t **)(v142 + 8);
    uint64_t v253 = v142 + 8;
    uint64_t v240 = v156;
    ((void (*)(char *, uint64_t))v156)(v140, v153);
    if (qword_30C8B0 != -1) {
      swift_once();
    }
    uint64_t v255 = &type metadata for StringsBackedAppNameResolver;
    unint64_t v256 = sub_18D08();
    *(void *)&long long v254 = swift_allocObject();
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, v254 + 16);
    uint64_t v267 = v243;
    v268 = &protocol witness table for DeviceProvider;
    sub_12B48((uint64_t *)&v266);
    sub_296180();
    uint64_t v264 = v153;
    v265 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
    sub_12B48(&v263);
    sub_296A00();
    uint64_t v261 = v244;
    v262 = &protocol witness table for UserPreferenceProvider;
    sub_12B48(&v260);
    sub_296F50();
    uint64_t v258 = v245;
    v259 = &protocol witness table for InstalledAppProvider;
    sub_12B48(&v257);
    sub_296CC0();
    sub_71D4(&qword_30DF00);
    uint64_t v157 = v153;
    uint64_t v158 = (void *)swift_allocObject();
    uint64_t v159 = class metadata base offset for CommonAppResolver;
    long long v160 = (char *)v158 + *(void *)(class metadata base offset for CommonAppResolver + *v158 + 8);
    strcpy(v160, "resolutionType");
    v160[15] = -18;
    sub_18D5C((uint64_t)&v254, (uint64_t)v158 + *(void *)(v159 + *v158 + 16));
    sub_18D5C((uint64_t)&v266, (uint64_t)v158 + *(void *)(class metadata base offset for CommonAppResolver + *v158 + 24));
    sub_18D5C((uint64_t)&v263, (uint64_t)v158 + *(void *)(class metadata base offset for CommonAppResolver + *v158 + 32));
    sub_18D5C((uint64_t)&v260, (uint64_t)v158 + *(void *)(class metadata base offset for CommonAppResolver + *v158 + 40));
    sub_18D5C((uint64_t)&v257, (uint64_t)v158 + *(void *)(class metadata base offset for CommonAppResolver + *v158 + 48));
    uint64_t v245 = sub_2976A0();
    sub_7184((uint64_t)&v257);
    sub_7184((uint64_t)&v260);
    sub_7184((uint64_t)&v263);
    sub_7184((uint64_t)&v266);
    sub_7184((uint64_t)&v254);
    swift_retain();
    uint64_t v161 = v246;
    sub_296780();
    sub_296A00();
    sub_2942A0();
    sub_71D4(&qword_311B20);
    uint64_t v162 = swift_allocObject();
    uint64_t v163 = v154;
    uint64_t v164 = v252;
    uint64_t v165 = (uint64_t)v155;
    uint64_t v166 = (uint64_t)v248;
    uint64_t v167 = v249;
    (*(void (**)(char *, char *, uint64_t))(v252 + 16))(v248, v161, v249);
    uint64_t v168 = (uint64_t)v250;
    ((void (*)(char *, char *, uint64_t))v241)(v250, v163, v157);
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v254);
    uint64_t v169 = sub_11B790(v245, v165, v166, v168, &v254, &v266, (uint64_t)sub_11AB44, 0, 1, v162);
    ((void (*)(char *, uint64_t))v240)(v163, v157);
    (*(void (**)(char *, uint64_t))(v164 + 8))(v161, v167);
    *(void *)&long long v254 = v169;
    sub_11BAF4();
    uint64_t v136 = (unint64_t *)&unk_311B28;
    uint64_t v137 = &qword_311B20;
    goto LABEL_19;
  }
  self;
  if (swift_dynamicCastObjCClass())
  {
    type metadata accessor for SearchForMediaCatDialogService();
    uint64_t v170 = (void *)swift_allocObject();
    v170[2] = 0xD000000000000011;
    v170[3] = 0x80000000002A3570;
    v170[5] = 0xD000000000000014;
    v170[6] = 0x80000000002A5B10;
    v170[4] = v103;
    uint64_t v171 = sub_294F60();
    (*(void (**)(void *, uint64_t, uint64_t, uint64_t))(*(void *)(v171 - 8) + 56))(v102, 1, 1, v171);
    uint64_t v240 = (uint64_t *)sub_A6604(&_swiftEmptyArrayStorage);
    swift_retain_n();
    swift_retain();
    sub_2942A0();
    uint64_t v172 = v36;
    sub_296A00();
    uint64_t v173 = v32;
    sub_296A90();
    type metadata accessor for SearchForMediaDialogProvider();
    uint64_t v239 = (void *)swift_allocObject();
    uint64_t v174 = v253;
    id v175 = *(char **)(v253 + 16);
    uint64_t v176 = (uint64_t)v250;
    id v177 = v36;
    uint64_t v178 = v247;
    uint64_t v242 = v253 + 16;
    uint64_t v241 = v175;
    ((void (*)(char *, char *, uint64_t))v175)(v250, v177, v247);
    uint64_t v179 = v227;
    uint64_t v180 = (uint64_t)v228;
    uint64_t v181 = v229;
    ((void (*)(char *, char *, uint64_t))v227[2])(v228, v173, v229);
    uint64_t v182 = (uint64_t)v170;
    uint64_t v183 = v103;
    Swift::String v184 = v170;
    uint64_t v185 = v178;
    uint64_t v186 = v172;
    uint64_t v187 = sub_11B908(v182, v183, (uint64_t)v240, (uint64_t)&v254, (uint64_t)v251, v176, v180, v239);
    v251 = v184;
    swift_release();
    ((void (*)(char *, uint64_t))v179[1])(v173, v181);
    uint64_t v188 = *(uint64_t **)(v174 + 8);
    uint64_t v253 = v174 + 8;
    uint64_t v240 = v188;
    ((void (*)(char *, uint64_t))v188)(v172, v185);
    if (qword_30C8B0 != -1) {
      swift_once();
    }
    uint64_t v255 = &type metadata for StringsBackedAppNameResolver;
    unint64_t v256 = sub_18D08();
    *(void *)&long long v254 = swift_allocObject();
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, v254 + 16);
    uint64_t v267 = v243;
    v268 = &protocol witness table for DeviceProvider;
    sub_12B48((uint64_t *)&v266);
    sub_296180();
    uint64_t v264 = v185;
    v265 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
    sub_12B48(&v263);
    sub_296A00();
    uint64_t v261 = v244;
    v262 = &protocol witness table for UserPreferenceProvider;
    sub_12B48(&v260);
    sub_296F50();
    uint64_t v258 = v245;
    v259 = &protocol witness table for InstalledAppProvider;
    sub_12B48(&v257);
    sub_296CC0();
    sub_71D4(&qword_311AF0);
    uint64_t v189 = v185;
    uint64_t v190 = (void *)swift_allocObject();
    uint64_t v191 = class metadata base offset for CommonAppResolver;
    uint64_t v192 = (char *)v190 + *(void *)(class metadata base offset for CommonAppResolver + *v190 + 8);
    strcpy(v192, "resolutionType");
    v192[15] = -18;
    sub_18D5C((uint64_t)&v254, (uint64_t)v190 + *(void *)(v191 + *v190 + 16));
    sub_18D5C((uint64_t)&v266, (uint64_t)v190 + *(void *)(class metadata base offset for CommonAppResolver + *v190 + 24));
    sub_18D5C((uint64_t)&v263, (uint64_t)v190 + *(void *)(class metadata base offset for CommonAppResolver + *v190 + 32));
    sub_18D5C((uint64_t)&v260, (uint64_t)v190 + *(void *)(class metadata base offset for CommonAppResolver + *v190 + 40));
    sub_18D5C((uint64_t)&v257, (uint64_t)v190 + *(void *)(class metadata base offset for CommonAppResolver + *v190 + 48));
    uint64_t v245 = sub_2976A0();
    sub_7184((uint64_t)&v257);
    sub_7184((uint64_t)&v260);
    sub_7184((uint64_t)&v263);
    sub_7184((uint64_t)&v266);
    sub_7184((uint64_t)&v254);
    swift_retain();
    v193 = v246;
    sub_296780();
    sub_296A00();
    sub_2942A0();
    sub_71D4(&qword_311AF8);
    uint64_t v194 = swift_allocObject();
    uint64_t v195 = v186;
    uint64_t v196 = v252;
    uint64_t v197 = (uint64_t)v187;
    uint64_t v198 = (uint64_t)v248;
    uint64_t v199 = v249;
    (*(void (**)(char *, char *, uint64_t))(v252 + 16))(v248, v193, v249);
    uint64_t v200 = (uint64_t)v250;
    ((void (*)(char *, char *, uint64_t))v241)(v250, v195, v189);
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v254);
    uint64_t v201 = sub_11B790(v245, v197, v198, v200, &v254, &v266, (uint64_t)sub_11AB44, 0, 1, v194);
    ((void (*)(char *, uint64_t))v240)(v195, v189);
    (*(void (**)(char *, uint64_t))(v196 + 8))(v193, v199);
    *(void *)&long long v254 = v201;
    sub_11BAF4();
    uint64_t v136 = (unint64_t *)&unk_311B08;
    uint64_t v137 = &qword_311AF8;
    goto LABEL_19;
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v205 = v5;
  uint64_t v206 = sub_6E60(v5, (uint64_t)qword_31FC08);
  uint64_t v207 = v242;
  ((void (*)(uint64_t, uint64_t, uint64_t))v226[2])(v242, v206, v205);
  uint64_t v208 = sub_2987E0();
  os_log_type_t v209 = sub_298DB0();
  if (os_log_type_enabled(v208, v209))
  {
    uint64_t v210 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v210 = 0;
    _os_log_impl(&dword_0, v208, v209, "AudioAppResolutionFlow#makeAppResolutinoFlow no app resolution flow returned", v210, 2u);
    swift_slowDealloc();
  }

  ((void (*)(uint64_t, uint64_t))v226[1])(v207, v205);
  v100[4] = 0;
  double result = 0.0;
  *(_OWORD *)unint64_t v100 = 0u;
  *((_OWORD *)v100 + 1) = 0u;
  return result;
}

uint64_t sub_119FC8(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  uint64_t v5 = __chkstk_darwin(v4 - 8);
  uint64_t v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v22 - v8;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AppResolutionFlow#on Handling input", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = sub_295060();
  uint64_t v19 = *(void *)(v18 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v19 + 16))(v9, a1, v18);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v19 + 56))(v9, 0, 1, v18);
  sub_B23C4((uint64_t)v9, (uint64_t)v7);
  uint64_t v20 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_input;
  swift_beginAccess();
  sub_1F9CC((uint64_t)v7, v20);
  swift_endAccess();
  return 1;
}

uint64_t sub_11A294(void (*a1)(char *), uint64_t a2)
{
  uint64_t v3 = v2;
  v24[1] = a2;
  uint64_t v25 = a1;
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)v24 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  v24[0] = sub_294780();
  uint64_t v7 = *(void *)(v24[0] - 8);
  __chkstk_darwin(v24[0]);
  uint64_t v9 = (char *)v24 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v24 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AppResolutionFlow#execute skipping for non-tvOS platform not capable of remote execution. App prediction will run later as part of RCH", v17, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v18 = *(void (**)(char *, void *, void, uint64_t))(v3
                                                               + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_nextAppAcceptingFlow);
  uint64_t v19 = v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_input;
  swift_beginAccess();
  sub_CF238(v19, (uint64_t)v6);
  uint64_t v20 = *(void **)(v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_intent);
  uint64_t v21 = v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_outputPublisher;
  id v22 = v20;
  swift_retain();
  v18(v6, v20, 0, v21);
  swift_release();

  sub_23A44((uint64_t)v6, &qword_30EBB8);
  sub_294750();
  swift_release();
  v25(v9);
  return (*(uint64_t (**)(char *, void))(v7 + 8))(v9, v24[0]);
}

uint64_t sub_11A5D4()
{
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_input, &qword_30EBB8);

  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_appNameResolver);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_aceService);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_outputPublisher);
  swift_release();
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_siriKitTaskLoggingProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_featureFlags);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_nowPlayingProvider);
  swift_release();
  swift_release();
  sub_11AB34(*(void *)(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AudioAppResolutionFlow_state));
  return v0;
}

uint64_t sub_11A6CC()
{
  sub_11A5D4();

  return swift_deallocClassInstance();
}

uint64_t sub_11A724()
{
  return type metadata accessor for AudioAppResolutionFlow();
}

uint64_t type metadata accessor for AudioAppResolutionFlow()
{
  uint64_t result = qword_311978;
  if (!qword_311978) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_11A778()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t *initializeBufferWithCopyOfBuffer for AudioAppResolutionFlow.State(uint64_t *a1, uint64_t *a2)
{
  uint64_t v3 = *a2;
  if ((unint64_t)*a2 >= 0xFFFFFFFF) {
    uint64_t v3 = swift_retain();
  }
  *a1 = v3;
  return a1;
}

unint64_t destroy for AudioAppResolutionFlow.State(unint64_t *a1)
{
  unint64_t result = *a1;
  if (result >= 0xFFFFFFFF) {
    return swift_release();
  }
  return result;
}

unint64_t *assignWithCopy for AudioAppResolutionFlow.State(unint64_t *a1, unint64_t *a2)
{
  unint64_t v3 = *a1;
  unint64_t v4 = *a2;
  if (v3 < 0xFFFFFFFF)
  {
    *a1 = v4;
    if (v4 >= 0xFFFFFFFF) {
      swift_retain();
    }
  }
  else if (v4 < 0xFFFFFFFF)
  {
    swift_release();
    *a1 = *a2;
  }
  else
  {
    *a1 = v4;
    swift_retain();
    swift_release();
  }
  return a1;
}

void *initializeWithTake for AudioAppResolutionFlow.State(void *result, void *a2)
{
  *unint64_t result = *a2;
  return result;
}

unint64_t *assignWithTake for AudioAppResolutionFlow.State(unint64_t *a1, unint64_t *a2)
{
  unint64_t v3 = *a2;
  if (*a1 < 0xFFFFFFFF) {
    goto LABEL_6;
  }
  if (v3 < 0xFFFFFFFF)
  {
    swift_release();
LABEL_6:
    *a1 = v3;
    return a1;
  }
  *a1 = v3;
  swift_release();
  return a1;
}

uint64_t getEnumTagSinglePayload for AudioAppResolutionFlow.State(uint64_t *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0x7FFFFFFD && *((unsigned char *)a1 + 8)) {
    return (*(_DWORD *)a1 + 2147483645);
  }
  uint64_t v3 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v3) = -1;
  }
  unsigned int v4 = v3 + 1;
  unsigned int v5 = v3 - 2;
  if (v4 >= 4) {
    return v5;
  }
  else {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for AudioAppResolutionFlow.State(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 >= 0x7FFFFFFD)
  {
    *(void *)unint64_t result = 0;
    *(_DWORD *)unint64_t result = a2 - 2147483645;
    if (a3 >= 0x7FFFFFFD) {
      *(unsigned char *)(result + 8) = 1;
    }
  }
  else
  {
    if (a3 >= 0x7FFFFFFD) {
      *(unsigned char *)(result + 8) = 0;
    }
    if (a2) {
      *(void *)unint64_t result = a2 + 2;
    }
  }
  return result;
}

uint64_t sub_11AA54(uint64_t *a1)
{
  uint64_t v1 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v1) = -1;
  }
  return (v1 + 1);
}

void *sub_11AA6C(void *result, int a2)
{
  if (a2 < 0)
  {
    unsigned int v2 = a2 ^ 0x80000000;
  }
  else
  {
    if (!a2) {
      return result;
    }
    unsigned int v2 = a2 - 1;
  }
  *unint64_t result = v2;
  return result;
}

ValueMetadata *type metadata accessor for AudioAppResolutionFlow.State()
{
  return &type metadata for AudioAppResolutionFlow.State;
}

uint64_t sub_11AA9C(uint64_t a1)
{
  return 1;
}

uint64_t sub_11AAC4(void (*a1)(char *), uint64_t a2)
{
  return sub_11A294(a1, a2);
}

uint64_t sub_11AAE8(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for AudioAppResolutionFlow();

  return Flow<>.exitValue.getter(v3, a2);
}

unint64_t sub_11AB24(unint64_t result)
{
  if (result >= 3) {
    return swift_retain();
  }
  return result;
}

unint64_t sub_11AB34(unint64_t result)
{
  if (result >= 3) {
    return swift_release();
  }
  return result;
}

uint64_t sub_11AB48()
{
  return sub_294490();
}

uint64_t sub_11AB8C(uint64_t a1, _OWORD *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  void v57[3] = sub_296D00();
  v57[4] = &protocol witness table for PlayMediaAppSelector;
  v57[0] = a1;
  v56[3] = &type metadata for StringsBackedAppNameResolver;
  v56[4] = sub_18D08();
  id v22 = (_OWORD *)swift_allocObject();
  v56[0] = v22;
  long long v23 = a2[3];
  _OWORD v22[3] = a2[2];
  void v22[4] = v23;
  v22[5] = a2[4];
  long long v24 = a2[1];
  v22[1] = *a2;
  void v22[2] = v24;
  uint64_t v25 = sub_2961A0();
  v55[3] = v25;
  v55[4] = (uint64_t)&protocol witness table for DeviceProvider;
  uint64_t v26 = sub_12B48(v55);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v25 - 8) + 32))(v26, a3, v25);
  uint64_t v27 = sub_296A10();
  v54[3] = v27;
  v54[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v28 = sub_12B48(v54);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v27 - 8) + 32))(v28, a4, v27);
  uint64_t v29 = sub_296F60();
  v53[3] = v29;
  v53[4] = (uint64_t)&protocol witness table for UserPreferenceProvider;
  uint64_t v30 = sub_12B48(v53);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v29 - 8) + 32))(v30, a5, v29);
  uint64_t v31 = sub_296D90();
  v52[3] = v31;
  v52[4] = (uint64_t)&protocol witness table for SubscriptionProvider;
  uint64_t v32 = sub_12B48(v52);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v31 - 8) + 32))(v32, a6, v31);
  uint64_t v33 = sub_296CD0();
  v51[3] = v33;
  v51[4] = (uint64_t)&protocol witness table for InstalledAppProvider;
  uint64_t v34 = sub_12B48(v51);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v33 - 8) + 32))(v34, a7, v33);
  v50[3] = sub_296620();
  v50[4] = &protocol witness table for MediaPlaybackLite;
  v50[0] = a8;
  uint64_t v35 = sub_296790();
  v49[3] = v35;
  v49[4] = (uint64_t)&protocol witness table for NowPlayingProvider;
  uint64_t v36 = sub_12B48(v49);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v35 - 8) + 32))(v36, a12, v35);
  uint64_t v37 = sub_295F50();
  v48[3] = v37;
  v48[4] = (uint64_t)&protocol witness table for TCCProvider;
  uint64_t v38 = sub_12B48(v48);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v37 - 8) + 32))(v38, a13, v37);
  sub_18D5C((uint64_t)v57, (uint64_t)a14 + qword_310D28);
  sub_18D5C((uint64_t)v52, (uint64_t)a14 + qword_310D30);
  sub_18D5C((uint64_t)v50, (uint64_t)a14 + qword_310D38);
  uint64_t v39 = (void *)((char *)a14 + qword_310D58);
  *uint64_t v39 = a9;
  v39[1] = a10;
  sub_18D5C(a11, (uint64_t)a14 + qword_310D40);
  sub_18D5C((uint64_t)v49, (uint64_t)a14 + qword_310D48);
  sub_18D5C((uint64_t)v48, (uint64_t)a14 + qword_310D50);
  sub_18D5C((uint64_t)v56, (uint64_t)v47);
  sub_18D5C((uint64_t)v55, (uint64_t)v46);
  sub_18D5C((uint64_t)v54, (uint64_t)v45);
  sub_18D5C((uint64_t)v53, (uint64_t)v44);
  sub_18D5C((uint64_t)v51, (uint64_t)v43);
  uint64_t v40 = (char *)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 8);
  strcpy(v40, "resolutionType");
  v40[15] = -18;
  sub_18D5C((uint64_t)v47, (uint64_t)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 16));
  sub_18D5C((uint64_t)v46, (uint64_t)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 24));
  sub_18D5C((uint64_t)v45, (uint64_t)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 32));
  sub_18D5C((uint64_t)v44, (uint64_t)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 40));
  sub_18D5C((uint64_t)v43, (uint64_t)a14 + *(void *)(class metadata base offset for CommonAppResolver + *a14 + 48));
  uint64_t v41 = sub_2976A0();
  sub_7184((uint64_t)v43);
  sub_7184((uint64_t)v44);
  sub_7184((uint64_t)v45);
  sub_7184((uint64_t)v46);
  sub_7184((uint64_t)v47);
  sub_7184((uint64_t)v48);
  sub_7184((uint64_t)v49);
  sub_7184(a11);
  sub_7184((uint64_t)v50);
  sub_7184((uint64_t)v51);
  sub_7184((uint64_t)v52);
  sub_7184((uint64_t)v53);
  sub_7184((uint64_t)v54);
  sub_7184((uint64_t)v55);
  sub_7184((uint64_t)v56);
  sub_7184((uint64_t)v57);
  return v41;
}

uint64_t sub_11B1B8(uint64_t a1, void *a2, uint64_t a3, _OWORD *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t v53 = a8;
  uint64_t v52 = a6;
  uint64_t v51 = a5;
  uint64_t v16 = sub_296A10();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v48 = (char *)v47 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v49 = (char *)v47 - v20;
  v63[3] = &type metadata for StringsBackedAppNameResolver;
  v63[4] = sub_18D08();
  uint64_t v21 = (_OWORD *)swift_allocObject();
  v63[0] = v21;
  long long v22 = a4[3];
  _OWORD v21[3] = a4[2];
  v21[4] = v22;
  void v21[5] = a4[4];
  long long v23 = a4[1];
  v21[1] = *a4;
  void v21[2] = v23;
  v62[3] = v16;
  v62[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  long long v24 = sub_12B48(v62);
  uint64_t v25 = v17;
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v17 + 32))(v24, a7, v16);
  uint64_t v60 = sub_295C80();
  uint64_t v61 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v59 = a10;
  uint64_t v26 = a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_input;
  uint64_t v27 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v27 - 8) + 56))(v26, 1, 1, v27);
  uint64_t v28 = OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_intent;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_intent) = 0;
  swift_beginAccess();
  uint64_t v55 = a1;
  sub_14418(a1, v26);
  swift_endAccess();
  uint64_t v29 = *(void **)(a11 + v28);
  *(void *)(a11 + v28) = a2;
  id v30 = a2;
  uint64_t v31 = a3;
  uint64_t v32 = v51;
  uint64_t v33 = v52;
  id v54 = v30;

  uint64_t v50 = v31;
  sub_18D5C(v31, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_outputPublisher);
  sub_18D5C((uint64_t)v62, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_featureFlags);
  sub_18D5C((uint64_t)v63, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_appNameResolver);
  sub_18D5C(v32, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_aceService);
  uint64_t v34 = (void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_nextLocalFlow);
  void *v34 = v53;
  v34[1] = a9;
  if (v33)
  {
    swift_retain();
    uint64_t v35 = v33;
  }
  else
  {
    sub_18D5C((uint64_t)v63, (uint64_t)v57);
    sub_18D5C(v32, (uint64_t)v56);
    LODWORD(v53) = CATDefaultMode;
    sub_296390();
    swift_retain();
    uint64_t v36 = sub_296380();
    sub_296A00();
    type metadata accessor for CatService();
    v47[0] = swift_allocObject();
    uint64_t v37 = sub_12AF8((uint64_t)v57, v58);
    v47[1] = (uint64_t)v47;
    __chkstk_darwin(v37);
    uint64_t v39 = (_OWORD *)((char *)v47 - ((v38 + 15) & 0xFFFFFFFFFFFFFFF0));
    (*(void (**)(_OWORD *))(v40 + 16))(v39);
    uint64_t v41 = (uint64_t)v48;
    uint64_t v42 = v49;
    (*(void (**)(char *, char *, uint64_t))(v25 + 16))(v48, v49, v16);
    swift_retain();
    uint64_t v35 = sub_141EA0(v39, v53, v36, (uint64_t)v56, v41, v47[0]);
    swift_release();
    (*(void (**)(char *, uint64_t))(v25 + 8))(v42, v16);
    swift_release();
    sub_7184((uint64_t)v57);
  }
  type metadata accessor for PlayMediaCatDialogService();
  os_log_type_t v43 = (void *)swift_allocObject();
  v43[5] = 0x6964654D79616C50;
  v43[6] = 0xEF746E65746E4961;
  v43[2] = 0xD000000000000011;
  v43[3] = 0x80000000002A3570;
  v43[4] = v35;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_playMediaCatDialogService) = v43;
  type metadata accessor for CommonMediaIntentCatDialogService();
  uint64_t v44 = (void *)swift_allocObject();
  v44[2] = 0xD000000000000011;
  void v44[3] = 0x80000000002A3570;
  v44[4] = v35;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_commonMediaIntentCatDialogService) = v44;
  sub_2944B0();
  swift_allocObject();
  swift_retain_n();
  swift_retain();
  uint64_t v45 = sub_294490();
  swift_release();

  swift_release();
  swift_release();
  sub_7184((uint64_t)v62);
  sub_7184(v32);
  sub_7184((uint64_t)v63);
  sub_7184(v50);
  sub_23A44(v55, &qword_30EBB8);
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_viewFactory) = v45;
  sub_11EBC(&v59, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18SiriForAirPlayFlow_siriKitTaskLoggingProvider);
  return a11;
}

uint64_t sub_11B790(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, _OWORD *a5, long long *a6, uint64_t a7, uint64_t a8, char a9, uint64_t a10)
{
  uint64_t v16 = sub_296790();
  *(void *)(a10 + 184) = v16;
  *(void *)(a10 + 192) = &protocol witness table for NowPlayingProvider;
  uint64_t v17 = sub_12B48((uint64_t *)(a10 + 160));
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v16 - 8) + 32))(v17, a3, v16);
  uint64_t v18 = sub_296A10();
  *(void *)(a10 + 40) = v18;
  *(void *)(a10 + 48) = &protocol witness table for FeatureFlagProvider;
  uint64_t v19 = sub_12B48((uint64_t *)(a10 + 16));
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 32))(v19, a4, v18);
  *(void *)(a10 + 80) = &type metadata for StringsBackedAppNameResolver;
  *(void *)(a10 + 88) = sub_18D08();
  uint64_t v20 = (_OWORD *)swift_allocObject();
  *(void *)(a10 + 56) = v20;
  long long v21 = a5[3];
  v20[3] = a5[2];
  _DWORD v20[4] = v21;
  v20[5] = a5[4];
  long long v22 = a5[1];
  v20[1] = *a5;
  v20[2] = v22;
  *(void *)(a10 + 200) = 0;
  *(void *)(a10 + 208) = a1;
  *(void *)(a10 + 96) = a2;
  *(void *)(a10 + 104) = a7;
  *(void *)(a10 + 112) = a8;
  sub_11EBC(a6, a10 + 120);
  *(unsigned char *)(a10 + 216) = a9;
  return a10;
}

void *sub_11B908(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
  uint64_t v15 = sub_296A10();
  void v24[3] = v15;
  void v24[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v16 = sub_12B48(v24);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v15 - 8) + 32))(v16, a6, v15);
  uint64_t v17 = sub_296AA0();
  v23[3] = v17;
  v23[4] = (uint64_t)&protocol witness table for StringsFileResolver;
  uint64_t v18 = sub_12B48(v23);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v17 - 8) + 32))(v18, a7, v17);
  swift_bridgeObjectRelease();
  a8[15] = a1;
  sub_18D5C((uint64_t)v24, (uint64_t)(a8 + 16));
  sub_18D5C((uint64_t)v23, (uint64_t)v22);
  uint64_t v19 = sub_295C80();
  swift_retain();
  uint64_t v20 = sub_295C70();
  a8[11] = v19;
  a8[12] = &protocol witness table for SiriKitTaskLoggingProvider;
  a8[8] = v20;
  a8[13] = 0xD000000000000011;
  a8[14] = 0x80000000002A3570;
  a8[2] = a2;
  sub_11EBC(v22, (uint64_t)(a8 + 3));
  sub_7184((uint64_t)v23);
  sub_7184((uint64_t)v24);
  sub_23A44(a5, &qword_30DEB8);
  sub_7184(a4);
  return a8;
}

uint64_t sub_11BAB4()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);

  return _swift_deallocObject(v0, 96, 7);
}

unint64_t sub_11BAF4()
{
  unint64_t result = qword_311B00;
  if (!qword_311B00)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_311B00);
  }
  return result;
}

void *sub_11BB34(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, void *a11)
{
  uint64_t v16 = sub_296A10();
  void v29[3] = v16;
  v29[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v17 = sub_12B48(v29);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v16 - 8) + 32))(v17, a6, v16);
  uint64_t v18 = sub_296AA0();
  v28[3] = v18;
  v28[4] = (uint64_t)&protocol witness table for StringsFileResolver;
  uint64_t v19 = sub_12B48(v28);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 32))(v19, a7, v18);
  uint64_t v20 = sub_295C80();
  v27[3] = v20;
  v27[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v27[0] = a8;
  void v26[3] = type metadata accessor for DialogHistoryProvider();
  v26[4] = &off_2FCE00;
  swift_bridgeObjectRelease();
  v26[0] = a9;
  a11[15] = a1;
  sub_18D5C((uint64_t)v29, (uint64_t)(a11 + 16));
  sub_18D5C((uint64_t)v27, (uint64_t)(a11 + 31));
  sub_18D5C((uint64_t)v26, (uint64_t)(a11 + 21));
  sub_18D5C(a10, (uint64_t)(a11 + 26));
  sub_18D5C((uint64_t)v28, (uint64_t)v25);
  swift_retain();
  uint64_t v21 = sub_295C70();
  a11[11] = v20;
  a11[12] = &protocol witness table for SiriKitTaskLoggingProvider;
  a11[8] = v21;
  a11[13] = 0xD000000000000011;
  a11[14] = 0x80000000002A3570;
  a11[2] = a2;
  sub_11EBC(v25, (uint64_t)(a11 + 3));
  sub_7184(a10);
  sub_7184((uint64_t)v26);
  sub_7184((uint64_t)v27);
  sub_7184((uint64_t)v28);
  sub_7184((uint64_t)v29);
  sub_23A44(a5, &qword_30DEB8);
  sub_7184(a4);
  return a11;
}

uint64_t sub_11BD40(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v6 = sub_296A10();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v10 = (char *)v23 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v12 = (char *)v23 - v11;
  uint64_t v13 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v13 - 8);
  uint64_t v15 = (char *)v23 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_CF238(a1, (uint64_t)v15);
  sub_18D5C(a3, (uint64_t)v25);
  uint64_t v16 = qword_30C8B0;
  id v17 = a2;
  if (v16 != -1) {
    swift_once();
  }
  sub_2942A0();
  sub_296A00();
  sub_295C80();
  uint64_t v18 = sub_295C70();
  type metadata accessor for SiriForAirPlayFlow();
  uint64_t v19 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v23);
  (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v10, v12, v6);
  uint64_t v20 = sub_11B1B8((uint64_t)v15, a2, (uint64_t)v25, v23, (uint64_t)v24, 0, (uint64_t)v10, (uint64_t)sub_CE714, 0, v18, v19);
  (*(void (**)(char *, uint64_t))(v7 + 8))(v12, v6);
  *(void *)&v23[0] = v20;
  sub_11BFB4();
  uint64_t v21 = sub_294000();
  swift_release();
  return v21;
}

unint64_t sub_11BFB4()
{
  unint64_t result = qword_311B58;
  if (!qword_311B58)
  {
    type metadata accessor for SiriForAirPlayFlow();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311B58);
  }
  return result;
}

uint64_t sub_11C010@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = v1;
  uint64_t v48 = a1;
  uint64_t v3 = sub_298800();
  uint64_t v47 = *(void *)(v3 - 8);
  uint64_t v4 = __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v41 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v41 - v7;
  uint64_t v9 = sub_293980();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v41 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = __chkstk_darwin(v11);
  uint64_t v46 = (char *)&v41 - v15;
  __chkstk_darwin(v14);
  id v17 = (uint64_t *)((char *)&v41 - v16);
  uint64_t v18 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 16);
  v18((char *)&v41 - v16, v2, v9);
  int v19 = (*(uint64_t (**)(uint64_t *, uint64_t))(v10 + 88))(v17, v9);
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.UNRECOGNIZED(_:))
  {
    (*(void (**)(uint64_t *, uint64_t))(v10 + 96))(v17, v9);
    uint64_t v20 = *v17;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v21 = sub_6E60(v3, (uint64_t)qword_31FC08);
    uint64_t v22 = v47;
    (*(void (**)(char *, uint64_t, uint64_t))(v47 + 16))(v8, v21, v3);
    long long v23 = sub_2987E0();
    os_log_type_t v24 = sub_298DB0();
    if (os_log_type_enabled(v23, v24))
    {
      uint64_t v25 = (uint8_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v25 = 134217984;
      uint64_t v50 = v20;
      sub_2992C0();
      _os_log_impl(&dword_0, v23, v24, "AudioItemType#toCommonAudioMediaType unrecognized AudioItemType: %ld", v25, 0xCu);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v22 + 8))(v8, v3);
    goto LABEL_8;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.unknown(_:))
  {
LABEL_8:
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.unknown(_:);
LABEL_9:
    uint64_t v27 = *v26;
    uint64_t v28 = sub_297C70();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v28 - 8) + 104))(v48, v27, v28);
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.song(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.song(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.album(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.album(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.artist(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.artist(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.genre(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.genre(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.playlist(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.playlist(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.podcastShow(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.podcast(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.podcastEpisode(_:))
  {
LABEL_23:
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.episode(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.podcastPlaylist(_:)) {
    goto LABEL_8;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.musicStation(_:))
  {
LABEL_26:
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.station(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.audioBook(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.audioBook(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.movie(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.movie(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.tvShow(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.tvShow(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.tvShowEpisode(_:)) {
    goto LABEL_23;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.musicVideo(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.musicVideo(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.podcastStation(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.podcastStation(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.radioStation(_:)) {
    goto LABEL_39;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.station(_:)) {
    goto LABEL_26;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.music(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.music(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.algorithmicRadioStation(_:))
  {
LABEL_39:
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.radioStation(_:);
    goto LABEL_9;
  }
  if (v19 == enum case for Apple_Parsec_Siri_V2alpha_AudioItemType.news(_:))
  {
    uint64_t v26 = (unsigned int *)&enum case for CommonAudio.MediaType.news(_:);
    goto LABEL_9;
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v30 = sub_6E60(v3, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v47 + 16))(v6, v30, v3);
  v18(v46, v2, v9);
  uint64_t v31 = sub_2987E0();
  os_log_type_t v32 = sub_298DB0();
  uint64_t v45 = v31;
  int v44 = v32;
  if (os_log_type_enabled(v31, v32))
  {
    uint64_t v33 = (uint8_t *)swift_slowAlloc();
    uint64_t v43 = swift_slowAlloc();
    uint64_t v50 = v43;
    *(_DWORD *)uint64_t v33 = 136315138;
    uint64_t v41 = v33 + 4;
    uint64_t v42 = v33;
    uint64_t v34 = v46;
    v18(v13, (uint64_t)v46, v9);
    uint64_t v35 = sub_2989E0();
    uint64_t v49 = sub_6E98(v35, v36, &v50);
    sub_2992C0();
    swift_bridgeObjectRelease();
    uint64_t v37 = *(void (**)(char *, uint64_t))(v10 + 8);
    v37(v34, v9);
    uint64_t v38 = v45;
    _os_log_impl(&dword_0, v45, (os_log_type_t)v44, "AudioItemType#toCommonAudioMediaType unrecognized AudioItemType type: %s", v42, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
    uint64_t v37 = *(void (**)(char *, uint64_t))(v10 + 8);
    v37(v46, v9);
  }
  (*(void (**)(char *, uint64_t))(v47 + 8))(v6, v3);
  uint64_t v39 = enum case for CommonAudio.MediaType.unknown(_:);
  uint64_t v40 = sub_297C70();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v40 - 8) + 104))(v48, v39, v40);
  return ((uint64_t (*)(uint64_t *, uint64_t))v37)(v17, v9);
}

uint64_t UpdateMediaAffinityFlowStrategy.actionForInput(input:)@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v158 = a1;
  uint64_t v154 = a2;
  uint64_t v2 = sub_71D4(&qword_30D620);
  __chkstk_darwin(v2 - 8);
  uint64_t v142 = &v122[-((v3 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v147 = sub_297BD0();
  uint64_t v143 = *(void *)(v147 - 8);
  uint64_t v4 = __chkstk_darwin(v147);
  uint64_t v134 = &v122[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v133 = &v122[-v7];
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v132 = &v122[-v9];
  __chkstk_darwin(v8);
  uint64_t v141 = &v122[-v10];
  uint64_t v145 = sub_297C00();
  uint64_t v148 = *(void *)(v145 - 8);
  __chkstk_darwin(v145);
  uint64_t v135 = &v122[-((v11 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v12 = sub_71D4(&qword_30DD98);
  uint64_t v13 = __chkstk_darwin(v12);
  uint64_t v137 = &v122[-((v14 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v13);
  uint64_t v146 = &v122[-v15];
  uint64_t v16 = sub_71D4(&qword_30DDA0);
  uint64_t v17 = __chkstk_darwin(v16 - 8);
  uint64_t v131 = &v122[-((v18 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v139 = &v122[-v20];
  uint64_t v21 = __chkstk_darwin(v19);
  id v140 = &v122[-v22];
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v25 = &v122[-v24];
  uint64_t v26 = __chkstk_darwin(v23);
  uint64_t v28 = &v122[-v27];
  __chkstk_darwin(v26);
  uint64_t v144 = &v122[-v29];
  uint64_t v159 = sub_295120();
  uint64_t v157 = *(void *)(v159 - 8);
  uint64_t v30 = __chkstk_darwin(v159);
  uint64_t v155 = &v122[-((v31 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v30);
  uint64_t v33 = &v122[-v32];
  uint64_t v34 = sub_298800();
  uint64_t v35 = *(void *)(v34 - 8);
  uint64_t v36 = __chkstk_darwin(v34);
  uint64_t v138 = &v122[-((v37 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v38 = __chkstk_darwin(v36);
  uint64_t v130 = &v122[-v39];
  uint64_t v40 = __chkstk_darwin(v38);
  uint64_t v136 = &v122[-v41];
  uint64_t v42 = __chkstk_darwin(v40);
  uint64_t v149 = &v122[-v43];
  uint64_t v44 = __chkstk_darwin(v42);
  uint64_t v46 = &v122[-v45];
  __chkstk_darwin(v44);
  uint64_t v48 = &v122[-v47];
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v49 = sub_6E60(v34, (uint64_t)qword_31FC08);
  uint64_t v50 = *(void (**)(void))(v35 + 16);
  uint64_t v151 = v49;
  uint64_t v152 = (void (*)(unsigned char *, uint64_t, uint64_t))v50;
  uint64_t v153 = v35 + 16;
  v50(v48);
  uint64_t v51 = sub_2987E0();
  os_log_type_t v52 = sub_298DA0();
  if (os_log_type_enabled(v51, v52))
  {
    uint64_t v53 = (uint8_t *)swift_slowAlloc();
    uint64_t v156 = v33;
    *(_WORD *)uint64_t v53 = 0;
    _os_log_impl(&dword_0, v51, v52, "UpdateMediaAffinityFlowStrategy#actionForInput called", v53, 2u);
    uint64_t v33 = v156;
    swift_slowDealloc();
  }

  id v54 = *(unsigned char **)(v35 + 8);
  uint64_t v150 = v35 + 8;
  uint64_t v156 = v54;
  ((void (*)(unsigned char *, uint64_t))v54)(v48, v34);
  sub_295040();
  uint64_t v55 = v157;
  int v56 = (*(uint64_t (**)(unsigned char *, uint64_t))(v157 + 88))(v33, v159);
  if (v56 == enum case for Parse.NLv3IntentOnly(_:)) {
    goto LABEL_10;
  }
  if (v56 != enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    if (v56 != enum case for Parse.uso(_:))
    {
      uint64_t v81 = v136;
      v152(v136, v151, v34);
      uint64_t v82 = sub_2987E0();
      os_log_type_t v83 = sub_298DB0();
      if (os_log_type_enabled(v82, v83))
      {
        uint64_t v84 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v84 = 0;
        _os_log_impl(&dword_0, v82, v83, "UpdateMediaAffinityFlowStrategy#actionForInput received non NLv3IntentPlusServerConversion or NLv3IntentOnly parse", v84, 2u);
        uint64_t v55 = v157;
        swift_slowDealloc();
      }

      ((void (*)(unsigned char *, uint64_t))v156)(v81, v34);
      sub_2945A0();
      return (*(uint64_t (**)(unsigned char *, uint64_t))(v55 + 8))(v33, v159);
    }
LABEL_10:
    uint64_t v136 = v28;
    uint64_t v128 = v25;
    uint64_t v61 = *(void (**)(unsigned char *, uint64_t))(v55 + 8);
    uint64_t v62 = v33;
    uint64_t v63 = v159;
    v61(v62, v159);
    uint64_t v64 = (uint64_t)v155;
    sub_295040();
    sub_E3DA0(v64, (uint64_t)&v160);
    v61((unsigned char *)v64, v63);
    if (!v161)
    {
      sub_23A44((uint64_t)&v160, &qword_30D8A8);
LABEL_54:
      v152(v149, v151, v34);
      uint64_t v117 = sub_2987E0();
      os_log_type_t v118 = sub_298DB0();
      if (os_log_type_enabled(v117, v118))
      {
        uint64_t v119 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v119 = 0;
        _os_log_impl(&dword_0, v117, v118, "UpdateMediaAffinityFlowStrategy#actionForInput received unsupported parse", v119, 2u);
        swift_slowDealloc();
      }

      ((void (*)(unsigned char *, uint64_t))v156)(v149, v34);
      return sub_2945A0();
    }
    uint64_t v129 = v34;
    sub_654B4(&v160, &v162);
    sub_74A4(&v162, v163);
    uint64_t v65 = v144;
    sub_297F70();
    uint64_t v66 = v148;
    uint64_t v67 = v136;
    uint64_t v68 = v145;
    uint64_t v126 = *(void (**)(unsigned char *, void, uint64_t))(v148 + 104);
    v126(v136, enum case for CommonAudio.Verb.like(_:), v145);
    uint64_t v127 = *(void (**)(unsigned char *, void, uint64_t, uint64_t))(v66 + 56);
    v127(v67, 0, 1, v68);
    uint64_t v69 = v146;
    uint64_t v70 = (uint64_t)&v146[*(int *)(v12 + 48)];
    sub_10CBA8((uint64_t)v65, (uint64_t)v146);
    sub_10CBA8((uint64_t)v67, v70);
    uint64_t v71 = *(unsigned int (**)(void, void, void))(v66 + 48);
    if (v71(v69, 1, v68) == 1)
    {
      sub_23A44((uint64_t)v67, &qword_30DDA0);
      uint64_t v69 = v146;
      sub_23A44((uint64_t)v65, &qword_30DDA0);
      uint64_t v72 = v71;
      if (v71(v70, 1, v68) == 1)
      {
        sub_23A44((uint64_t)v69, &qword_30DDA0);
        sub_B0538((uint64_t)&v162, (uint64_t)&v160);
LABEL_28:
        sub_7184((uint64_t)&v160);
        uint64_t v60 = v143;
LABEL_29:
        sub_7184((uint64_t)&v162);
        uint64_t v34 = v129;
        uint64_t v55 = v157;
LABEL_30:
        uint64_t v91 = (uint64_t)v155;
        sub_295040();
        sub_E3DA0(v91, (uint64_t)&v162);
        (*(void (**)(uint64_t, uint64_t))(v55 + 8))(v91, v159);
        uint64_t v92 = (uint64_t)v142;
        if (v163)
        {
          sub_74A4(&v162, v163);
          sub_297BC0();
          sub_7184((uint64_t)&v162);
          uint64_t v93 = v147;
          if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v60 + 48))(v92, 1, v147) != 1)
          {
            uint64_t v129 = v34;
            (*(void (**)(unsigned char *, uint64_t, uint64_t))(v60 + 32))(v141, v92, v93);
            uint64_t v94 = *(void (**)(unsigned char *, void, uint64_t))(v60 + 104);
            uint64_t v95 = v132;
            v94(v132, enum case for CommonAudio.Confirmation.cancel(_:), v93);
            sub_11FB3C(qword_30FAF0, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Confirmation);
            sub_298B20();
            sub_298B20();
            if ((void)v162 == (void)v160 && *((void *)&v162 + 1) == *((void *)&v160 + 1)) {
              char v96 = 1;
            }
            else {
              char v96 = sub_2995D0();
            }
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            uint64_t v105 = *(void (**)(unsigned char *, uint64_t))(v60 + 8);
            uint64_t v106 = v147;
            v105(v95, v147);
            uint64_t v107 = v133;
            (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v60 + 16))(v133, v141, v106);
            if (v96) {
              goto LABEL_48;
            }
            v94(v134, enum case for CommonAudio.Confirmation.no(_:), v106);
            sub_298B20();
            sub_298B20();
            if ((void)v162 == (void)v160 && *((void *)&v162 + 1) == *((void *)&v160 + 1))
            {
              swift_bridgeObjectRelease_n();
              uint64_t v106 = v147;
              v105(v134, v147);
LABEL_48:
              v105(v107, v106);
LABEL_49:
              uint64_t v108 = v130;
              uint64_t v109 = v129;
              v152(v130, v151, v129);
              uint64_t v110 = sub_2987E0();
              os_log_type_t v111 = sub_298DC0();
              if (os_log_type_enabled(v110, v111))
              {
                uint64_t v112 = (uint8_t *)swift_slowAlloc();
                *(_WORD *)uint64_t v112 = 0;
                _os_log_impl(&dword_0, v110, v111, "UpdateMediaAffinityFlowStrategy#actionForInput found cancellation node - treating state as cancelled", v112, 2u);
                swift_slowDealloc();
              }

              ((void (*)(unsigned char *, uint64_t))v156)(v108, v109);
              sub_294580();
              return ((uint64_t (*)(unsigned char *, uint64_t))v105)(v141, v147);
            }
            char v120 = sub_2995D0();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            uint64_t v121 = v147;
            v105(v134, v147);
            v105(v107, v121);
            if (v120) {
              goto LABEL_49;
            }
            v105(v141, v121);
            uint64_t v34 = v129;
            goto LABEL_37;
          }
        }
        else
        {
          sub_23A44((uint64_t)&v162, &qword_30D8A8);
          (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v60 + 56))(v92, 1, 1, v147);
        }
        sub_23A44(v92, &qword_30D620);
LABEL_37:
        uint64_t v97 = v138;
        v152(v138, v151, v34);
        uint64_t v98 = sub_2987E0();
        os_log_type_t v99 = sub_298DA0();
        if (os_log_type_enabled(v98, v99))
        {
          unint64_t v100 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)unint64_t v100 = 0;
          _os_log_impl(&dword_0, v98, v99, "UpdateMediaAffinityFlowStrategy#actionForInput handling", v100, 2u);
          swift_slowDealloc();
        }

        ((void (*)(unsigned char *, uint64_t))v156)(v97, v34);
        return sub_294590();
      }
    }
    else
    {
      uint64_t v73 = (uint64_t)v128;
      sub_10CBA8((uint64_t)v69, (uint64_t)v128);
      uint64_t v72 = v71;
      if (v71(v70, 1, v68) != 1)
      {
        uint64_t v125 = v12;
        uint64_t v88 = v148;
        uint64_t v89 = v135;
        (*(void (**)(unsigned char *, uint64_t, uint64_t))(v148 + 32))(v135, v70, v68);
        sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
        int v123 = sub_2989A0();
        char v124 = v72;
        uint64_t v90 = *(void (**)(unsigned char *, uint64_t))(v88 + 8);
        v90(v89, v68);
        sub_23A44((uint64_t)v136, &qword_30DDA0);
        sub_23A44((uint64_t)v144, &qword_30DDA0);
        uint64_t v72 = v124;
        v90((unsigned char *)v73, v68);
        sub_23A44((uint64_t)v146, &qword_30DDA0);
        sub_B0538((uint64_t)&v162, (uint64_t)&v160);
        if (v123) {
          goto LABEL_28;
        }
LABEL_18:
        sub_74A4(&v160, v161);
        uint64_t v74 = v140;
        sub_297F70();
        uint64_t v75 = v139;
        uint64_t v76 = v145;
        v126(v139, enum case for CommonAudio.Verb.unlike(_:), v145);
        uint64_t v77 = (uint64_t)v75;
        v127(v75, 0, 1, v76);
        uint64_t v78 = (uint64_t)v74;
        uint64_t v79 = v137;
        uint64_t v80 = (uint64_t)&v137[*(int *)(v125 + 48)];
        sub_10CBA8(v78, (uint64_t)v137);
        sub_10CBA8(v77, v80);
        if (v72(v79, 1, v76) == 1)
        {
          sub_23A44(v77, &qword_30DDA0);
          sub_23A44(v78, &qword_30DDA0);
          if (v72(v80, 1, v76) == 1)
          {
            sub_23A44((uint64_t)v79, &qword_30DDA0);
            goto LABEL_28;
          }
        }
        else
        {
          uint64_t v86 = v131;
          sub_10CBA8((uint64_t)v79, (uint64_t)v131);
          unsigned int v87 = v72(v80, 1, v76);
          uint64_t v60 = v143;
          if (v87 != 1)
          {
            uint64_t v113 = v148;
            uint64_t v114 = v135;
            (*(void (**)(unsigned char *, uint64_t, uint64_t))(v148 + 32))(v135, v80, v76);
            sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
            char v115 = sub_2989A0();
            uint64_t v116 = *(void (**)(unsigned char *, uint64_t))(v113 + 8);
            v116(v114, v76);
            sub_23A44((uint64_t)v139, &qword_30DDA0);
            sub_23A44((uint64_t)v140, &qword_30DDA0);
            v116(v86, v76);
            sub_23A44((uint64_t)v79, &qword_30DDA0);
            sub_7184((uint64_t)&v160);
            if (v115) {
              goto LABEL_29;
            }
            goto LABEL_53;
          }
          sub_23A44((uint64_t)v139, &qword_30DDA0);
          sub_23A44((uint64_t)v140, &qword_30DDA0);
          (*(void (**)(unsigned char *, uint64_t))(v148 + 8))(v86, v76);
        }
        sub_23A44((uint64_t)v79, &qword_30DD98);
        sub_7184((uint64_t)&v160);
LABEL_53:
        sub_7184((uint64_t)&v162);
        uint64_t v34 = v129;
        goto LABEL_54;
      }
      sub_23A44((uint64_t)v136, &qword_30DDA0);
      sub_23A44((uint64_t)v144, &qword_30DDA0);
      (*(void (**)(uint64_t, uint64_t))(v148 + 8))(v73, v68);
    }
    uint64_t v125 = v12;
    sub_23A44((uint64_t)v69, &qword_30DD98);
    sub_B0538((uint64_t)&v162, (uint64_t)&v160);
    goto LABEL_18;
  }
  uint64_t v57 = (void (*)(unsigned char *, uint64_t))v156;
  (*(void (**)(unsigned char *, uint64_t))(v55 + 96))(v33, v159);
  sub_71D4(&qword_30D610);
  uint64_t v58 = (void *)sub_2950E0();
  self;
  if (swift_dynamicCastObjCClass())
  {
    swift_release();

    uint64_t v59 = sub_295870();
    (*(void (**)(unsigned char *, uint64_t))(*(void *)(v59 - 8) + 8))(v33, v59);
    uint64_t v60 = v143;
    goto LABEL_30;
  }

  v152(v46, v151, v34);
  uint64_t v101 = sub_2987E0();
  os_log_type_t v102 = sub_298DA0();
  if (os_log_type_enabled(v101, v102))
  {
    uint64_t v103 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v103 = 0;
    _os_log_impl(&dword_0, v101, v102, "UpdateMediaAffinityFlowStrategy#actionForInput received unexpected NLv3IntentPlusServerConversion parse, ignoring", v103, 2u);
    swift_slowDealloc();
  }

  v57(v46, v34);
  sub_2945A0();
  swift_release();
  uint64_t v104 = sub_295870();
  return (*(uint64_t (**)(unsigned char *, uint64_t))(*(void *)(v104 - 8) + 8))(v33, v104);
}

uint64_t UpdateMediaAffinityFlowStrategy.makeIntentFromParse(parse:currentIntent:completion:)(char *a1, void *a2, void (*a3)(uint64_t, uint64_t), uint64_t a4)
{
  uint64_t v153 = a3;
  uint64_t v145 = sub_297C00();
  uint64_t v150 = *(void *)(v145 - 8);
  __chkstk_darwin(v145);
  uint64_t v130 = (char *)&v126 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v147 = sub_71D4(&qword_30DD98);
  uint64_t v8 = __chkstk_darwin(v147);
  uint64_t v137 = (uint64_t)&v126 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v146 = (uint64_t)&v126 - v10;
  uint64_t v11 = sub_71D4(&qword_30DDA0);
  uint64_t v12 = __chkstk_darwin(v11 - 8);
  uint64_t v129 = (uint64_t)&v126 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v135 = (char *)&v126 - v15;
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v136 = (char *)&v126 - v17;
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v132 = (uint64_t)&v126 - v19;
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v155 = (uint64_t)&v126 - v21;
  __chkstk_darwin(v20);
  uint64_t v141 = (uint64_t)&v126 - v22;
  uint64_t v23 = sub_295120();
  uint64_t v24 = *(void *)(v23 - 8);
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v154 = (char *)&v126 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v139 = (char *)&v126 - v28;
  __chkstk_darwin(v27);
  uint64_t v30 = (char *)&v126 - v29;
  uint64_t v31 = sub_298800();
  uint64_t v32 = *(void *)(v31 - 8);
  uint64_t v33 = __chkstk_darwin(v31);
  uint64_t v131 = (char *)&v126 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = __chkstk_darwin(v33);
  uint64_t v149 = (char *)&v126 - v36;
  uint64_t v37 = __chkstk_darwin(v35);
  uint64_t v128 = (char *)&v126 - v38;
  __chkstk_darwin(v37);
  uint64_t v40 = (char *)&v126 - v39;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v41 = sub_6E60(v31, (uint64_t)qword_31FC08);
  uint64_t v42 = *(void (**)(char *, uint64_t, uint64_t))(v32 + 16);
  uint64_t v142 = v41;
  uint64_t v144 = v32 + 16;
  uint64_t v143 = v42;
  ((void (*)(char *))v42)(v40);
  uint64_t v158 = v24;
  uint64_t v43 = *(void (**)(char *, char *, uint64_t))(v24 + 16);
  uint64_t v156 = a1;
  uint64_t v157 = v43;
  v43(v30, a1, v23);
  id v44 = a2;
  uint64_t v45 = sub_2987E0();
  os_log_type_t v46 = sub_298DA0();
  int v138 = v46;
  BOOL v47 = os_log_type_enabled(v45, v46);
  uint64_t v152 = v32;
  uint64_t v148 = a2;
  id v133 = v44;
  if (v47)
  {
    uint64_t v48 = swift_slowAlloc();
    uint64_t v140 = v31;
    uint64_t v49 = v48;
    uint64_t v127 = swift_slowAlloc();
    *(void *)&long long v162 = v127;
    *(_DWORD *)uint64_t v49 = 136446722;
    uint64_t v50 = sub_297410();
    *(void *)&long long v159 = sub_6E98(v50, v51, (uint64_t *)&v162);
    uint64_t v151 = a4;
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v49 + 12) = 2080;
    v157(v139, v30, v23);
    uint64_t v52 = sub_2989E0();
    *(void *)&long long v159 = sub_6E98(v52, v53, (uint64_t *)&v162);
    sub_2992C0();
    swift_bridgeObjectRelease();
    id v54 = *(void (**)(char *, uint64_t))(v158 + 8);
    v54(v30, v23);
    *(_WORD *)(v49 + 22) = 2080;
    *(void *)&long long v159 = v148;
    id v55 = v44;
    sub_71D4(&qword_311B60);
    uint64_t v56 = sub_2989E0();
    *(void *)&long long v159 = sub_6E98(v56, v57, (uint64_t *)&v162);
    uint64_t v58 = v151;
    uint64_t v32 = v152;
    sub_2992C0();

    uint64_t v59 = v54;
    a4 = v58;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v45, (os_log_type_t)v138, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse %{public}s for parse:%s and previousIntent:%s", (uint8_t *)v49, 0x20u);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v31 = v140;
    swift_slowDealloc();
  }
  else
  {
    uint64_t v59 = *(void (**)(char *, uint64_t))(v158 + 8);
    v59(v30, v23);
  }
  uint64_t v60 = *(void (**)(char *, uint64_t))(v32 + 8);
  v60(v40, v31);
  uint64_t v61 = v154;
  uint64_t v62 = (uint64_t)v156;
  v157(v154, v156, v23);
  uint64_t v63 = v158;
  int v64 = (*(uint64_t (**)(char *, uint64_t))(v158 + 88))(v61, v23);
  uint64_t v65 = v155;
  if (v64 == enum case for Parse.NLv3IntentOnly(_:)) {
    goto LABEL_11;
  }
  if (v64 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    uint64_t v66 = v31;
    (*(void (**)(char *, uint64_t))(v63 + 96))(v61, v23);
    sub_71D4(&qword_30D610);
    uint64_t v67 = (void *)sub_2950E0();
    self;
    uint64_t v68 = swift_dynamicCastObjCClass();
    if (v68)
    {
      v153(v68, 0);
      swift_release();
    }
    else
    {

      uint64_t v109 = v128;
      v143(v128, v142, v66);
      uint64_t v110 = sub_2987E0();
      os_log_type_t v111 = sub_298DA0();
      if (os_log_type_enabled(v110, v111))
      {
        uint64_t v112 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v112 = 0;
        _os_log_impl(&dword_0, v110, v111, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received unsupported NLv3IntentPlusServerConversion parse, ignoring", v112, 2u);
        uint64_t v61 = v154;
        swift_slowDealloc();
      }

      v60(v109, v66);
      uint64_t v113 = sub_296000();
      sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v114 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v113 - 8) + 104))(v115, enum case for PlaybackCode.ceGE88(_:), v113);
      v153(v114, 1);
      swift_errorRelease();
      swift_release();
    }
    uint64_t v116 = sub_295870();
    return (*(uint64_t (**)(char *, uint64_t))(*(void *)(v116 - 8) + 8))(v61, v116);
  }
  uint64_t v62 = (uint64_t)v156;
  if (v64 == enum case for Parse.uso(_:))
  {
LABEL_11:
    v59(v61, v23);
    sub_E3DA0(v62, (uint64_t)&v159);
    if (!v160)
    {
      sub_23A44((uint64_t)&v159, &qword_30D8A8);
LABEL_39:
      v143(v149, v142, v31);
      char v120 = sub_2987E0();
      os_log_type_t v121 = sub_298DB0();
      if (os_log_type_enabled(v120, v121))
      {
        uint64_t v122 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v122 = 0;
        _os_log_impl(&dword_0, v120, v121, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received unsupported NLv3IntentOnly parse", v122, 2u);
        swift_slowDealloc();
      }

      v60(v149, v31);
      uint64_t v123 = sub_296000();
      sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v124 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v123 - 8) + 104))(v125, enum case for PlaybackCode.ceGE89(_:), v123);
      v153(v124, 1);
      return swift_errorRelease();
    }
    uint64_t v140 = v31;
    uint64_t v151 = a4;
    sub_654B4(&v159, &v162);
    sub_74A4(&v162, v163);
    uint64_t v69 = v141;
    sub_297F70();
    uint64_t v70 = v150;
    uint64_t v71 = v145;
    uint64_t v157 = *(void (**)(char *, char *, uint64_t))(v150 + 104);
    v157((char *)v65, (char *)enum case for CommonAudio.Verb.like(_:), v145);
    uint64_t v158 = *(void *)(v70 + 56);
    ((void (*)(uint64_t, void, uint64_t, uint64_t))v158)(v65, 0, 1, v71);
    uint64_t v72 = v146;
    uint64_t v73 = v146 + *(int *)(v147 + 48);
    sub_10CBA8(v69, v146);
    sub_10CBA8(v65, v73);
    uint64_t v74 = v65;
    uint64_t v75 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v70 + 48);
    if (v75(v72, 1, v71) == 1)
    {
      sub_23A44(v74, &qword_30DDA0);
      uint64_t v72 = v146;
      sub_23A44(v69, &qword_30DDA0);
      if (v75(v73, 1, v71) == 1)
      {
        sub_23A44(v72, &qword_30DDA0);
        sub_B0538((uint64_t)&v162, (uint64_t)&v159);
LABEL_29:
        sub_7184((uint64_t)&v159);
        uint64_t v93 = v151;
LABEL_30:
        uint64_t v97 = v133;
        id v98 = v133;
        if (!v148) {
          id v98 = [objc_allocWithZone((Class)INUpdateMediaAffinityIntent) init];
        }
        uint64_t v99 = v163;
        uint64_t v100 = v164;
        uint64_t v101 = sub_74A4(&v162, v163);
        uint64_t v160 = v99;
        uint64_t v161 = v100;
        os_log_type_t v102 = sub_12B48((uint64_t *)&v159);
        (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v99 - 8) + 16))(v102, v101, v99);
        uint64_t v103 = (void *)(v134 + 16);
        uint64_t v104 = v134 + 56;
        uint64_t v105 = (void *)swift_allocObject();
        uint64_t v106 = v153;
        v105[2] = v98;
        v105[3] = v106;
        v105[4] = v93;
        id v107 = v97;
        id v108 = v98;
        swift_retain();
        sub_127558((uint64_t)v102, v103, v104, (uint64_t)sub_11F9EC, (uint64_t)v105, v108, v99, v100);
        swift_release();

        sub_7184((uint64_t)&v159);
        return sub_7184((uint64_t)&v162);
      }
    }
    else
    {
      uint64_t v76 = v132;
      sub_10CBA8(v72, v132);
      if (v75(v73, 1, v71) != 1)
      {
        uint64_t v156 = (char *)v60;
        uint64_t v94 = v130;
        (*(void (**)(char *, uint64_t, uint64_t))(v150 + 32))(v130, v73, v71);
        sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
        LODWORD(v154) = sub_2989A0();
        uint64_t v95 = *(void (**)(char *, uint64_t))(v150 + 8);
        char v96 = v94;
        uint64_t v77 = v147;
        v95(v96, v71);
        sub_23A44(v155, &qword_30DDA0);
        sub_23A44(v141, &qword_30DDA0);
        v95((char *)v76, v71);
        sub_23A44(v146, &qword_30DDA0);
        sub_B0538((uint64_t)&v162, (uint64_t)&v159);
        if (v154) {
          goto LABEL_29;
        }
LABEL_19:
        sub_74A4(&v159, v160);
        uint64_t v78 = (uint64_t)v136;
        sub_297F70();
        uint64_t v79 = (uint64_t)v135;
        uint64_t v80 = v145;
        v157(v135, (char *)enum case for CommonAudio.Verb.unlike(_:), v145);
        ((void (*)(uint64_t, void, uint64_t, uint64_t))v158)(v79, 0, 1, v80);
        uint64_t v81 = v137;
        uint64_t v82 = v137 + *(int *)(v77 + 48);
        sub_10CBA8(v78, v137);
        sub_10CBA8(v79, v82);
        if (v75(v81, 1, v80) == 1)
        {
          sub_23A44(v79, &qword_30DDA0);
          sub_23A44(v78, &qword_30DDA0);
          if (v75(v82, 1, v80) == 1)
          {
            sub_23A44(v81, &qword_30DDA0);
            goto LABEL_29;
          }
        }
        else
        {
          uint64_t v91 = v129;
          sub_10CBA8(v81, v129);
          unsigned int v92 = v75(v82, 1, v80);
          uint64_t v93 = v151;
          if (v92 != 1)
          {
            uint64_t v117 = v150;
            os_log_type_t v118 = v130;
            (*(void (**)(char *, uint64_t, uint64_t))(v150 + 32))(v130, v82, v80);
            sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
            LODWORD(v158) = sub_2989A0();
            uint64_t v119 = *(void (**)(char *, uint64_t))(v117 + 8);
            v119(v118, v80);
            sub_23A44(v79, &qword_30DDA0);
            sub_23A44(v78, &qword_30DDA0);
            v119((char *)v91, v80);
            sub_23A44(v81, &qword_30DDA0);
            sub_7184((uint64_t)&v159);
            uint64_t v31 = v140;
            if (v158) {
              goto LABEL_30;
            }
            goto LABEL_38;
          }
          sub_23A44(v79, &qword_30DDA0);
          sub_23A44(v78, &qword_30DDA0);
          (*(void (**)(uint64_t, uint64_t))(v150 + 8))(v91, v80);
        }
        sub_23A44(v81, &qword_30DD98);
        sub_7184((uint64_t)&v159);
        uint64_t v31 = v140;
LABEL_38:
        sub_7184((uint64_t)&v162);
        uint64_t v60 = (void (*)(char *, uint64_t))v156;
        goto LABEL_39;
      }
      sub_23A44(v155, &qword_30DDA0);
      sub_23A44(v141, &qword_30DDA0);
      (*(void (**)(uint64_t, uint64_t))(v150 + 8))(v76, v71);
    }
    uint64_t v156 = (char *)v60;
    sub_23A44(v72, &qword_30DD98);
    sub_B0538((uint64_t)&v162, (uint64_t)&v159);
    uint64_t v77 = v147;
    goto LABEL_19;
  }
  uint64_t v157 = (void (*)(char *, char *, uint64_t))v59;
  os_log_type_t v83 = v131;
  v143(v131, v142, v31);
  uint64_t v84 = sub_2987E0();
  os_log_type_t v85 = sub_298DB0();
  if (os_log_type_enabled(v84, v85))
  {
    uint64_t v86 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v86 = 0;
    _os_log_impl(&dword_0, v84, v85, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received non NLv3IntentPlusServerConversion or NLv3IntentOnly parse", v86, 2u);
    os_log_type_t v83 = v131;
    swift_slowDealloc();
  }

  v60(v83, v31);
  uint64_t v87 = sub_296000();
  sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
  uint64_t v88 = swift_allocError();
  (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v87 - 8) + 104))(v89, enum case for PlaybackCode.ceGE90(_:), v87);
  v153(v88, 1);
  swift_errorRelease();
  return ((uint64_t (*)(char *, uint64_t))v157)(v61, v23);
}

uint64_t sub_11F2B8(void *a1, uint64_t (*a2)(void, void))
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v17 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v4, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v8, v4);
  id v9 = a1;
  uint64_t v10 = sub_2987E0();
  os_log_type_t v11 = sub_298DA0();
  if (os_log_type_enabled(v10, v11))
  {
    uint64_t v21 = a2;
    uint64_t v12 = swift_slowAlloc();
    uint64_t v19 = v5;
    uint64_t v13 = (uint8_t *)v12;
    uint64_t v18 = (void *)swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 138412290;
    id v22 = v9;
    id v14 = v9;
    uint64_t v20 = v4;
    id v15 = v14;
    a2 = v21;
    sub_2992C0();
    void *v18 = v9;

    uint64_t v4 = v20;
    _os_log_impl(&dword_0, v10, v11, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse returning intent: %@", v13, 0xCu);
    sub_71D4((uint64_t *)&unk_30FA40);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v5 = v19;
    swift_slowDealloc();
  }
  else
  {
  }
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  return a2(v9, 0);
}

uint64_t DetermineFlowStrategy.deinit()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);
  return v0;
}

uint64_t DetermineFlowStrategy.__deallocating_deinit()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);

  return swift_deallocClassInstance();
}

uint64_t sub_11F5A8@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return UpdateMediaAffinityFlowStrategy.actionForInput(input:)(a1, a2);
}

uint64_t sub_11F5C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return RCHFlowStrategy.makeAnnotatedIntentFromParse(parse:currentIntent:completion:)(a1, a2, a3, a4, updated, a6);
}

uint64_t sub_11F62C(char *a1, void *a2, void (*a3)(uint64_t, uint64_t), uint64_t a4)
{
  return UpdateMediaAffinityFlowStrategy.makeIntentFromParse(parse:currentIntent:completion:)(a1, a2, a3, a4);
}

uint64_t sub_11F650(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return RCHFlowStrategy.makeParameterMetadata(intent:)(a1, updated, a3);
}

uint64_t sub_11F6A0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return ResolveConfirmFlowStrategy.makeAppDoesNotSupportIntentResponse(app:intent:_:)(a1, a2, a3, a4, updated, a6);
}

uint64_t sub_11F70C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return ResolveConfirmFlowStrategy.makeAppNotFoundOnDeviceResponse(app:intent:_:)(a1, a2, a3, a4, updated, a6);
}

uint64_t sub_11F778(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return ResolveConfirmFlowStrategy.makeDeviceIncompatibleResponse(app:intent:_:)(a1, a2, a3, a4, updated, a6);
}

uint64_t sub_11F7E4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return RouteConfirmIntentResponseFlowStrategy.makeFailureConfirmingIntentResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, updated, a7);
}

uint64_t sub_11F860(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return IntentExtensionCommunicating.shouldIntentBeExecutedOnRemoteCompanion(intent:)(a1, updated, a3);
}

uint64_t sub_11F8AC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:)(a1, a2, updated, a4);
}

uint64_t sub_11F900(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:completion:)(a1, a2, a3, a4, updated, a6);
}

uint64_t sub_11F96C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinityFlowStrategy();

  return IntentErrorHandling.makeErrorResponse(app:intent:error:_:)(a1, a2, a3, a4, a5, updated, a7);
}

uint64_t sub_11F9EC()
{
  return sub_11F2B8(*(void **)(v0 + 16), *(uint64_t (**)(void, void))(v0 + 24));
}

uint64_t sub_11F9F8(uint64_t a1, uint64_t a2)
{
  return sub_11FB3C(&qword_311B68, a2, (void (*)(uint64_t))type metadata accessor for UpdateMediaAffinityFlowStrategy);
}

uint64_t type metadata accessor for UpdateMediaAffinityFlowStrategy()
{
  return self;
}

uint64_t sub_11FA64(uint64_t a1, uint64_t a2)
{
  return sub_11FB3C(&qword_311B70, a2, (void (*)(uint64_t))type metadata accessor for UpdateMediaAffinityFlowStrategy);
}

uint64_t sub_11FAAC(uint64_t a1, uint64_t a2)
{
  return sub_11FB3C(&qword_311B78, a2, (void (*)(uint64_t))type metadata accessor for UpdateMediaAffinityFlowStrategy);
}

uint64_t sub_11FAF4(uint64_t a1, uint64_t a2)
{
  return sub_11FB3C(&qword_311B80, a2, (void (*)(uint64_t))type metadata accessor for UpdateMediaAffinityFlowStrategy);
}

uint64_t sub_11FB3C(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_11FB84(void (*a1)(uint64_t, void, uint64_t, uint64_t), void *a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v146 = a3;
  id v170 = a2;
  uint64_t v173 = a1;
  uint64_t v157 = sub_297C00();
  uint64_t v160 = *(void *)(v157 - 8);
  __chkstk_darwin(v157);
  uint64_t v145 = (char *)&v141 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v156 = sub_71D4(&qword_30DD98);
  uint64_t v8 = __chkstk_darwin(v156);
  uint64_t v147 = (uint64_t)&v141 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v159 = (uint64_t)&v141 - v10;
  uint64_t v11 = sub_71D4(&qword_30DDA0);
  uint64_t v12 = __chkstk_darwin(v11 - 8);
  uint64_t v143 = (uint64_t)&v141 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v149 = (uint64_t)&v141 - v15;
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v150 = (uint64_t)&v141 - v17;
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v148 = (char *)&v141 - v19;
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v165 = (uint64_t)&v141 - v21;
  __chkstk_darwin(v20);
  uint64_t v153 = (uint64_t)&v141 - v22;
  uint64_t v23 = sub_295120();
  uint64_t v24 = *(void *)(v23 - 8);
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v167 = (char *)&v141 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v161 = (char *)&v141 - v28;
  __chkstk_darwin(v27);
  uint64_t v30 = (char *)&v141 - v29;
  uint64_t v31 = sub_298800();
  uint64_t v32 = *(void *)(v31 - 8);
  uint64_t v33 = __chkstk_darwin(v31);
  uint64_t v163 = (char *)&v141 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = __chkstk_darwin(v33);
  uint64_t v142 = (char *)&v141 - v36;
  uint64_t v37 = __chkstk_darwin(v35);
  uint64_t v144 = (char *)&v141 - v38;
  __chkstk_darwin(v37);
  uint64_t v172 = (char *)&v141 - v39;
  uint64_t v40 = swift_allocObject();
  *(void *)(v40 + 16) = a4;
  *(void *)(v40 + 24) = a5;
  uint64_t v41 = v40;
  uint64_t v42 = qword_30C848;
  uint64_t v168 = a4;
  swift_retain();
  dispatch_group_t v162 = a5;
  if (v42 != -1) {
    swift_once();
  }
  uint64_t v43 = sub_6E60(v31, (uint64_t)qword_31FC08);
  uint64_t v45 = v32 + 16;
  id v44 = *(void (**)(char *, uint64_t, uint64_t))(v32 + 16);
  uint64_t v154 = v43;
  uint64_t v155 = v44;
  ((void (*)(char *))v44)(v172);
  uint64_t v169 = *(void (**)(char *, void (*)(uint64_t, void, uint64_t, uint64_t), uint64_t))(v24 + 16);
  v169(v30, v173, v23);
  uint64_t v46 = v23;
  id v47 = v170;
  uint64_t v171 = v24;
  uint64_t v48 = sub_2987E0();
  uint64_t v49 = v31;
  os_log_type_t v50 = sub_298DA0();
  BOOL v51 = os_log_type_enabled(v48, v50);
  uint64_t v164 = v41;
  uint64_t v166 = v32;
  id v151 = v47;
  if (v51)
  {
    uint64_t v52 = swift_slowAlloc();
    uint64_t v152 = v32 + 16;
    uint64_t v53 = v52;
    uint64_t v141 = swift_slowAlloc();
    *(void *)&long long v177 = v141;
    *(_DWORD *)uint64_t v53 = 136446722;
    uint64_t v54 = sub_297410();
    uint64_t v158 = v49;
    *(void *)&long long v174 = sub_6E98(v54, v55, (uint64_t *)&v177);
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v53 + 12) = 2080;
    v169(v161, (void (*)(uint64_t, void, uint64_t, uint64_t))v30, v46);
    uint64_t v56 = sub_2989E0();
    *(void *)&long long v174 = sub_6E98(v56, v57, (uint64_t *)&v177);
    sub_2992C0();
    swift_bridgeObjectRelease();
    uint64_t v161 = *(char **)(v171 + 8);
    ((void (*)(char *, uint64_t))v161)(v30, v46);
    *(_WORD *)(v53 + 22) = 2080;
    *(void *)&long long v174 = v170;
    id v58 = v47;
    sub_71D4(&qword_311B60);
    uint64_t v59 = sub_2989E0();
    *(void *)&long long v174 = sub_6E98(v59, v60, (uint64_t *)&v177);
    sub_2992C0();

    uint64_t v61 = v168;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v48, v50, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse %{public}s for parse:%s and previousIntent:%s", (uint8_t *)v53, 0x20u);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v45 = v152;
    swift_slowDealloc();

    uint64_t v62 = *(void (**)(char *, uint64_t))(v166 + 8);
    uint64_t v63 = v158;
    v62(v172, v158);
  }
  else
  {
    uint64_t v161 = *(char **)(v171 + 8);
    ((void (*)(char *, uint64_t))v161)(v30, v46);

    uint64_t v62 = *(void (**)(char *, uint64_t))(v32 + 8);
    v62(v172, v49);
    uint64_t v63 = v49;
    uint64_t v61 = v168;
  }
  int v64 = v167;
  uint64_t v65 = (uint64_t)v173;
  v169(v167, v173, v46);
  uint64_t v66 = v171;
  uint64_t v67 = v46;
  int v68 = (*(uint64_t (**)(char *, uint64_t))(v171 + 88))(v64, v46);
  uint64_t v69 = v165;
  if (v68 == enum case for Parse.NLv3IntentOnly(_:)) {
    goto LABEL_11;
  }
  if (v68 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    (*(void (**)(char *, uint64_t))(v66 + 96))(v64, v46);
    sub_71D4(&qword_30D610);
    uint64_t v70 = (void *)sub_2950E0();
    self;
    uint64_t v71 = swift_dynamicCastObjCClass();
    if (v71)
    {
      uint64_t v72 = v71;
      swift_beginAccess();
      uint64_t v73 = *(void **)(v61 + 16);
      *(void *)(v61 + 16) = v72;
      unsigned __int8 v74 = *(unsigned char *)(v61 + 24);
      *(unsigned char *)(v61 + 24) = 0;
      sub_B128C(v73, v74);
      dispatch_group_leave(v162);
      swift_release();
      uint64_t v75 = sub_295870();
      (*(void (**)(char *, uint64_t))(*(void *)(v75 - 8) + 8))(v64, v75);
    }
    else
    {

      uint64_t v119 = v142;
      v155(v142, v154, v63);
      char v120 = sub_2987E0();
      os_log_type_t v121 = sub_298DA0();
      if (os_log_type_enabled(v120, v121))
      {
        uint64_t v122 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v122 = 0;
        _os_log_impl(&dword_0, v120, v121, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received unsupported NLv3IntentPlusServerConversion parse, ignoring", v122, 2u);
        int v64 = v167;
        swift_slowDealloc();
      }

      v62(v119, v63);
      uint64_t v123 = sub_296000();
      sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v124 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v123 - 8) + 104))(v125, enum case for PlaybackCode.ceGE88(_:), v123);
      swift_beginAccess();
      uint64_t v126 = *(void **)(v61 + 16);
      *(void *)(v61 + 16) = v124;
      unsigned __int8 v127 = *(unsigned char *)(v61 + 24);
      *(unsigned char *)(v61 + 24) = 1;
      sub_B128C(v126, v127);
      dispatch_group_leave(v162);
      swift_release();
      uint64_t v128 = sub_295870();
      (*(void (**)(char *, uint64_t))(*(void *)(v128 - 8) + 8))(v64, v128);
    }
    return swift_release();
  }
  if (v68 == enum case for Parse.uso(_:))
  {
LABEL_11:
    ((void (*)(char *, uint64_t))v161)(v64, v46);
    sub_E3DA0(v65, (uint64_t)&v174);
    uint64_t v172 = (char *)v62;
    if (!v175)
    {
      sub_23A44((uint64_t)&v174, &qword_30D8A8);
      uint64_t v84 = v162;
LABEL_38:
      v155(v163, v154, v63);
      uint64_t v132 = sub_2987E0();
      os_log_type_t v133 = sub_298DB0();
      if (os_log_type_enabled(v132, v133))
      {
        uint64_t v134 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v134 = 0;
        _os_log_impl(&dword_0, v132, v133, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received unsupported NLv3IntentOnly parse", v134, 2u);
        swift_slowDealloc();
      }

      ((void (*)(char *, uint64_t))v172)(v163, v63);
      uint64_t v135 = sub_296000();
      sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v136 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v135 - 8) + 104))(v137, enum case for PlaybackCode.ceGE89(_:), v135);
      swift_beginAccess();
      int v138 = *(void **)(v61 + 16);
      *(void *)(v61 + 16) = v136;
      unsigned __int8 v139 = *(unsigned char *)(v61 + 24);
      *(unsigned char *)(v61 + 24) = 1;
      sub_B128C(v138, v139);
      dispatch_group_leave(v84);
      return swift_release();
    }
    uint64_t v158 = v63;
    sub_654B4(&v174, &v177);
    sub_74A4(&v177, v178);
    uint64_t v76 = v153;
    sub_297F70();
    uint64_t v77 = v160;
    uint64_t v78 = v157;
    uint64_t v171 = *(void *)(v160 + 104);
    ((void (*)(uint64_t, void, uint64_t))v171)(v69, enum case for CommonAudio.Verb.like(_:), v157);
    uint64_t v173 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v77 + 56);
    v173(v69, 0, 1, v78);
    uint64_t v79 = v159;
    uint64_t v80 = v159 + *(int *)(v156 + 48);
    sub_10CBA8(v76, v159);
    sub_10CBA8(v69, v80);
    uint64_t v81 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v77 + 48);
    if (v81(v79, 1, v78) == 1)
    {
      sub_23A44(v69, &qword_30DDA0);
      uint64_t v79 = v159;
      sub_23A44(v76, &qword_30DDA0);
      int v82 = v81(v80, 1, v78);
      os_log_type_t v83 = v151;
      if (v82 == 1)
      {
        sub_23A44(v79, &qword_30DDA0);
        sub_B0538((uint64_t)&v177, (uint64_t)&v174);
LABEL_29:
        sub_7184((uint64_t)&v174);
        id v105 = v170;
LABEL_30:
        id v109 = v83;
        if (!v105) {
          id v109 = [objc_allocWithZone((Class)INUpdateMediaAffinityIntent) init];
        }
        uint64_t v110 = v178;
        uint64_t v111 = v179;
        uint64_t v112 = sub_74A4(&v177, v178);
        uint64_t v175 = v110;
        uint64_t v176 = v111;
        uint64_t v113 = sub_12B48((uint64_t *)&v174);
        (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v110 - 8) + 16))(v113, v112, v110);
        uint64_t v114 = (void *)(v146 + 16);
        uint64_t v115 = v146 + 56;
        uint64_t v116 = (void *)swift_allocObject();
        v116[2] = v109;
        v116[3] = sub_B1280;
        v116[4] = v164;
        id v117 = v83;
        id v118 = v109;
        swift_retain();
        sub_127558((uint64_t)v113, v114, v115, (uint64_t)sub_1211BC, (uint64_t)v116, v118, v110, v111);
        swift_release();

        sub_7184((uint64_t)&v174);
        sub_7184((uint64_t)&v177);
        return swift_release();
      }
    }
    else
    {
      uint64_t v85 = (uint64_t)v148;
      sub_10CBA8(v79, (uint64_t)v148);
      if (v81(v80, 1, v78) != 1)
      {
        uint64_t v152 = v45;
        uint64_t v106 = v160;
        id v107 = v145;
        (*(void (**)(char *, uint64_t, uint64_t))(v160 + 32))(v145, v80, v78);
        sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
        LODWORD(v169) = sub_2989A0();
        id v108 = *(void (**)(char *, uint64_t))(v106 + 8);
        v108(v107, v78);
        sub_23A44(v165, &qword_30DDA0);
        sub_23A44(v153, &qword_30DDA0);
        v108(v148, v78);
        sub_23A44(v159, &qword_30DDA0);
        sub_B0538((uint64_t)&v177, (uint64_t)&v174);
        os_log_type_t v83 = v151;
        if (v169) {
          goto LABEL_29;
        }
LABEL_19:
        sub_74A4(&v174, v175);
        uint64_t v86 = v150;
        sub_297F70();
        uint64_t v87 = v149;
        uint64_t v88 = v157;
        ((void (*)(uint64_t, void, uint64_t))v171)(v149, enum case for CommonAudio.Verb.unlike(_:), v157);
        v173(v87, 0, 1, v88);
        uint64_t v89 = v87;
        uint64_t v90 = v147;
        uint64_t v91 = v147 + *(int *)(v156 + 48);
        sub_10CBA8(v86, v147);
        sub_10CBA8(v89, v91);
        if (v81(v90, 1, v88) == 1)
        {
          sub_23A44(v89, &qword_30DDA0);
          sub_23A44(v86, &qword_30DDA0);
          int v92 = v81(v91, 1, v88);
          uint64_t v61 = v168;
          uint64_t v63 = v158;
          if (v92 == 1)
          {
            sub_23A44(v90, &qword_30DDA0);
            os_log_type_t v83 = v151;
            goto LABEL_29;
          }
        }
        else
        {
          uint64_t v103 = v143;
          sub_10CBA8(v90, v143);
          int v104 = v81(v91, 1, v88);
          uint64_t v61 = v168;
          uint64_t v63 = v158;
          id v105 = v170;
          if (v104 != 1)
          {
            uint64_t v129 = v160;
            uint64_t v130 = v145;
            (*(void (**)(char *, uint64_t, uint64_t))(v160 + 32))(v145, v91, v88);
            sub_11FB3C((unint64_t *)&qword_30DDF8, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
            LODWORD(v173) = sub_2989A0();
            uint64_t v131 = *(void (**)(char *, uint64_t))(v129 + 8);
            v131(v130, v88);
            sub_23A44(v149, &qword_30DDA0);
            sub_23A44(v150, &qword_30DDA0);
            v131((char *)v103, v88);
            sub_23A44(v90, &qword_30DDA0);
            sub_7184((uint64_t)&v174);
            os_log_type_t v83 = v151;
            if (v173) {
              goto LABEL_30;
            }
            goto LABEL_37;
          }
          sub_23A44(v149, &qword_30DDA0);
          sub_23A44(v150, &qword_30DDA0);
          (*(void (**)(uint64_t, uint64_t))(v160 + 8))(v103, v88);
        }
        sub_23A44(v90, &qword_30DD98);
        sub_7184((uint64_t)&v174);
LABEL_37:
        sub_7184((uint64_t)&v177);
        uint64_t v84 = v162;
        goto LABEL_38;
      }
      sub_23A44(v69, &qword_30DDA0);
      sub_23A44(v153, &qword_30DDA0);
      (*(void (**)(uint64_t, uint64_t))(v160 + 8))(v85, v78);
    }
    uint64_t v152 = v45;
    sub_23A44(v79, &qword_30DD98);
    sub_B0538((uint64_t)&v177, (uint64_t)&v174);
    goto LABEL_19;
  }
  uint64_t v93 = v144;
  v155(v144, v154, v63);
  uint64_t v94 = v93;
  uint64_t v95 = sub_2987E0();
  os_log_type_t v96 = sub_298DB0();
  if (os_log_type_enabled(v95, v96))
  {
    uint64_t v97 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v97 = 0;
    _os_log_impl(&dword_0, v95, v96, "UpdateMediaAffinityFlowStrategy#makeIntentFromParse received non NLv3IntentPlusServerConversion or NLv3IntentOnly parse", v97, 2u);
    int v64 = v167;
    swift_slowDealloc();
  }

  v62(v94, v63);
  uint64_t v98 = sub_296000();
  sub_11FB3C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
  uint64_t v99 = swift_allocError();
  (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v98 - 8) + 104))(v100, enum case for PlaybackCode.ceGE90(_:), v98);
  swift_beginAccess();
  uint64_t v101 = *(void **)(v61 + 16);
  *(void *)(v61 + 16) = v99;
  unsigned __int8 v102 = *(unsigned char *)(v61 + 24);
  *(unsigned char *)(v61 + 24) = 1;
  sub_B128C(v101, v102);
  dispatch_group_leave(v162);
  ((void (*)(char *, uint64_t))v161)(v64, v67);
  return swift_release();
}

uint64_t sub_121178()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1211C0()
{
  return swift_initClassMetadata2();
}

uint64_t type metadata accessor for CommonViewProvider()
{
  return sub_247C4();
}

uint64_t sub_121228(uint64_t a1, uint64_t a2, void (*a3)(void, void), uint64_t a4)
{
  uint64_t v8 = sub_2951D0();
  uint64_t v49 = *(void *)(v8 - 8);
  uint64_t v50 = v8;
  __chkstk_darwin(v8);
  uint64_t v48 = (char *)v43 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  unint64_t v55 = (char *)v43 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v54 = (char *)v43 - v15;
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)v43 - v16;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_6E60(v10, (uint64_t)qword_31FC08);
  uint64_t v19 = *(void (**)(char *, uint64_t, uint64_t))(v11 + 16);
  uint64_t v52 = v18;
  uint64_t v53 = v19;
  ((void (*)(char *))v19)(v17);
  swift_retain_n();
  uint64_t v51 = v10;
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298DA0();
  if (os_log_type_enabled(v20, v21))
  {
    uint64_t v44 = v11;
    uint64_t v22 = swift_slowAlloc();
    uint64_t v45 = a2;
    uint64_t v23 = (uint8_t *)v22;
    uint64_t v24 = swift_slowAlloc();
    uint64_t v46 = a4;
    uint64_t v56 = a1;
    uint64_t v57 = v24;
    id v47 = a3;
    *(_DWORD *)uint64_t v23 = 136315138;
    v43[1] = v23 + 4;
    sub_297700();
    sub_121864();
    uint64_t v25 = sub_2995A0();
    uint64_t v56 = sub_6E98(v25, v26, &v57);
    a3 = v47;
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v20, v21, "CommonViewProvider#makeViewsForNeedsDisambiguation for app: %s", v23, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v27 = *(void (**)(char *, uint64_t))(v44 + 8);
    uint64_t v28 = v51;
    v27(v17, v51);
    if ((sub_295DF0() & 1) == 0)
    {
LABEL_5:
      v53(v54, v52, v28);
      uint64_t v29 = sub_2987E0();
      os_log_type_t v30 = sub_298DA0();
      if (os_log_type_enabled(v29, v30))
      {
        uint64_t v31 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v31 = 0;
        _os_log_impl(&dword_0, v29, v30, "CommonViewProvider#makeViewsForNeedsDisambiguation Rending Phone disambiguation views", v31, 2u);
        swift_slowDealloc();
      }

      v27(v54, v28);
      sub_2941C0();
      sub_295D50();
      uint64_t v33 = v48;
      uint64_t v32 = v49;
      uint64_t v34 = v50;
      (*(void (**)(char *, void, uint64_t))(v49 + 104))(v48, enum case for ImageSize.default(_:), v50);
      uint64_t v35 = (void *)sub_294240();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v32 + 8))(v33, v34);
      sub_294160();
      sub_294150();
      sub_294120();
      swift_release();
      uint64_t v36 = sub_294140();
      swift_release();
      a3(v36, 0);

      return swift_bridgeObjectRelease();
    }
  }
  else
  {

    swift_release_n();
    uint64_t v27 = *(void (**)(char *, uint64_t))(v11 + 8);
    uint64_t v28 = v51;
    v27(v17, v51);
    if ((sub_295DF0() & 1) == 0) {
      goto LABEL_5;
    }
  }
  v53(v55, v52, v28);
  uint64_t v37 = sub_2987E0();
  os_log_type_t v38 = sub_298DA0();
  if (os_log_type_enabled(v37, v38))
  {
    uint64_t v39 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v39 = 0;
    _os_log_impl(&dword_0, v37, v38, "CommonViewProvider#makeViewsForNeedsDisambiguation Rending CarPlay disambiguation views", v39, 2u);
    swift_slowDealloc();
  }

  v27(v55, v28);
  sub_71D4(&qword_3107B0);
  uint64_t v40 = swift_allocObject();
  *(_OWORD *)(v40 + 16) = xmmword_29A8D0;
  sub_2941C0();
  sub_295D50();
  uint64_t v41 = sub_294230();
  swift_bridgeObjectRelease();
  *(void *)(v40 + 32) = v41;
  uint64_t v57 = v40;
  sub_298B70();
  a3(v57, 0);
  return swift_bridgeObjectRelease();
}

unint64_t sub_121864()
{
  unint64_t result = qword_30CAD0;
  if (!qword_30CAD0)
  {
    sub_297700();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30CAD0);
  }
  return result;
}

void sub_1218BC(void *a1, void *a2, void *a3, void *a4, void (*a5)(uint64_t *), uint64_t a6, void *a7)
{
  id v30 = a4;
  uint64_t v31 = a5;
  uint64_t v32 = a2;
  uint64_t v33 = a3;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v27 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  id v15 = a1;
  uint64_t v16 = sub_2987E0();
  os_log_type_t v17 = sub_298DA0();
  if (os_log_type_enabled(v16, v17))
  {
    uint64_t v28 = a7;
    uint64_t v18 = (uint8_t *)swift_slowAlloc();
    uint64_t v19 = swift_slowAlloc();
    uint64_t v29 = a6;
    uint64_t v35 = v19;
    *(_DWORD *)uint64_t v18 = 136315138;
    v27[1] = v18 + 4;
    uint64_t ObjectType = swift_getObjectType();
    sub_71D4(&qword_311CC8);
    uint64_t v20 = sub_2989E0();
    uint64_t ObjectType = sub_6E98(v20, v21, &v35);
    sub_2992C0();

    a7 = v28;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v16, v17, "CommonViewProvider called for Intent: %s", v18, 0xCu);
    swift_arrayDestroy();
    a6 = v29;
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
  }
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  uint64_t v22 = v32;
  uint64_t v23 = (void *)v32[24];
  swift_retain();
  uint64_t v24 = v33;
  swift_retain();
  id v25 = v30;
  swift_retain();
  id v26 = a7;
  sub_54D54(v24, v25, v23, v22, (uint64_t)v24, v25, v31, a6, v26);
  swift_release();
  swift_release();

  swift_release();
}

uint64_t sub_121BD0()
{
  uint64_t v6 = sub_2985E0();
  uint64_t v7 = &protocol witness table for DeviceResolutionProvider;
  sub_12B48((uint64_t *)&v5);
  sub_2985D0();
  uint64_t v3 = sub_296E40();
  uint64_t v4 = &protocol witness table for SharedContextProvider;
  *(void *)&long long v2 = sub_296E30();
  type metadata accessor for DetermineFlowStrategy();
  uint64_t v0 = swift_allocObject();
  sub_11EBC(&v5, v0 + 16);
  uint64_t result = sub_11EBC(&v2, v0 + 56);
  qword_31FCA8 = v0;
  return result;
}

uint64_t sub_121C70()
{
  uint64_t result = sub_CD51C();
  qword_31FCB0 = result;
  return result;
}

id sub_121C90()
{
  id result = [objc_allocWithZone((Class)type metadata accessor for DetermineIntentHandler()) init];
  static Determine.intentHandler = (uint64_t)result;
  return result;
}

uint64_t *Determine.intentHandler.unsafeMutableAddressor()
{
  if (qword_30C878 != -1) {
    swift_once();
  }
  return &static Determine.intentHandler;
}

id static Determine.intentHandler.getter()
{
  if (qword_30C878 != -1) {
    swift_once();
  }
  swift_beginAccess();
  uint64_t v0 = (void *)static Determine.intentHandler;

  return v0;
}

void static Determine.intentHandler.setter(uint64_t a1)
{
  if (qword_30C878 != -1) {
    swift_once();
  }
  swift_beginAccess();
  long long v2 = (void *)static Determine.intentHandler;
  static Determine.intentHandler = a1;
}

uint64_t (*static Determine.intentHandler.modify())()
{
  if (qword_30C878 != -1) {
    swift_once();
  }
  swift_beginAccess();
  return j__swift_endAccess;
}

ValueMetadata *type metadata accessor for Determine()
{
  return &type metadata for Determine;
}

uint64_t sub_121EB0()
{
  uint64_t v0 = sub_296A10();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v12 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v12 - v5;
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  int v7 = CATDefaultMode;
  sub_296390();
  uint64_t v8 = sub_296380();
  sub_2942A0();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v9 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v13);
  (*(void (**)(char *, char *, uint64_t))(v1 + 16))(v4, v6, v0);
  swift_retain();
  uint64_t v10 = sub_141EA0(v13, v7, v8, (uint64_t)v14, (uint64_t)v4, v9);
  swift_release();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v6, v0);
  swift_release();
  return v10;
}

uint64_t type metadata accessor for SearchForMedia.ChildFlowFactory()
{
  return self;
}

uint64_t sub_1220A4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v50 = a4;
  uint64_t v48 = a2;
  uint64_t v49 = sub_296AA0();
  uint64_t v7 = *(void *)(v49 - 8);
  uint64_t v8 = __chkstk_darwin(v49);
  id v47 = (char *)&v43 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v43 - v10;
  uint64_t v12 = sub_296A10();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v16 = (char *)&v43 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v18 = (char *)&v43 - v17;
  uint64_t v19 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v19 - 8);
  unint64_t v21 = (char *)&v43 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v46 = v21;
  v55[3] = sub_295C80();
  v55[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v55[0] = a3;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v22 = (void *)swift_allocObject();
  long long v22[2] = 0xD000000000000011;
  _OWORD v22[3] = 0x80000000002A3570;
  v22[5] = 0xD000000000000014;
  v22[6] = 0x80000000002A5B10;
  void v22[4] = a1;
  sub_18D5C(a2, (uint64_t)v54);
  uint64_t v23 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v21, 1, 1, v23);
  unint64_t v45 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v24 = a1;
  swift_retain_n();
  swift_retain();
  id v25 = v18;
  uint64_t v44 = v18;
  sub_296A00();
  id v26 = v11;
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v27 = swift_allocObject();
  uint64_t v28 = v25;
  uint64_t v29 = v12;
  (*(void (**)(char *, char *, uint64_t))(v13 + 16))(v16, v28, v12);
  uint64_t v30 = v7;
  uint64_t v31 = *(void (**)(char *, char *, uint64_t))(v7 + 16);
  uint64_t v32 = v47;
  uint64_t v33 = v26;
  uint64_t v34 = v26;
  uint64_t v35 = v49;
  v31(v47, v33, v49);
  uint64_t v36 = sub_11B904(v22, v24, v45, v54, v46, v16, v32, v27);
  swift_release();
  (*(void (**)(char *, uint64_t))(v30 + 8))(v34, v35);
  (*(void (**)(char *, uint64_t))(v13 + 8))(v44, v29);
  sub_18D5C((uint64_t)v55, (uint64_t)v54);
  uint64_t v52 = v29;
  uint64_t v53 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v51);
  swift_retain();
  sub_296A00();
  uint64_t v37 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v38 = swift_allocObject();
  sub_11EBC(&v51, v38 + 16);
  uint64_t v52 = v37;
  uint64_t v53 = &off_2FA760;
  swift_release();
  swift_release();
  swift_release();
  *(void *)&long long v51 = v38;
  sub_7184((uint64_t)v55);
  sub_7184(v48);
  uint64_t v39 = v50;
  uint64_t v40 = v50 + qword_316F98;
  uint64_t v41 = sub_294C00();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v41 - 8) + 56))(v40, 1, 1, v41);
  *(void *)(v39 + 16) = v36;
  sub_11EBC(v54, v39 + 24);
  sub_11EBC(&v51, v39 + 64);
  return v39;
}

uint64_t sub_122550(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  *(void *)(a6 + 56) = sub_295C80();
  *(void *)(a6 + 64) = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)(a6 + 32) = a3;
  uint64_t v12 = sub_296A10();
  *(void *)(a6 + 96) = v12;
  *(void *)(a6 + 104) = &protocol witness table for FeatureFlagProvider;
  uint64_t v13 = sub_12B48((uint64_t *)(a6 + 72));
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v12 - 8) + 32))(v13, a4, v12);
  uint64_t v14 = sub_296AA0();
  *(void *)(a6 + 144) = v14;
  *(void *)(a6 + 152) = &protocol witness table for StringsFileResolver;
  uint64_t v15 = sub_12B48((uint64_t *)(a6 + 120));
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v14 - 8) + 32))(v15, a5, v14);
  *(void *)(a6 + 112) = &off_2F4628;
  strcpy((char *)(a6 + 160), "MediaItemType");
  *(_WORD *)(a6 + 174) = -4864;
  *(void *)(a6 + 16) = a1;
  *(void *)(a6 + 24) = a2;
  return a6;
}

uint64_t sub_122694(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v41 = a5;
  unint64_t v37 = a3;
  uint64_t v38 = a4;
  uint64_t v40 = sub_296AA0();
  uint64_t v8 = *(void *)(v40 - 8);
  uint64_t v9 = __chkstk_darwin(v40);
  uint64_t v39 = (char *)&v34 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v34 - v11;
  uint64_t v13 = sub_296A10();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v34 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v34 - v18;
  uint64_t v20 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v20 - 8);
  uint64_t v22 = (char *)&v34 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v36 = v22;
  uint64_t v47 = sub_295C80();
  uint64_t v48 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v46 = a2;
  uint64_t v44 = type metadata accessor for SiriAudioOutputProvider();
  unint64_t v45 = &off_2FA760;
  *(void *)&long long v43 = v37;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v23 = (void *)swift_allocObject();
  void v23[2] = 0xD000000000000011;
  v23[3] = 0x80000000002A3570;
  _OWORD v23[5] = 0xD000000000000014;
  v23[6] = 0x80000000002A5B10;
  v23[4] = a1;
  sub_18D5C(a4, (uint64_t)v42);
  uint64_t v24 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v22, 1, 1, v24);
  unint64_t v37 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v25 = a1;
  swift_retain();
  uint64_t v35 = v19;
  sub_296A00();
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v26 = swift_allocObject();
  uint64_t v27 = v19;
  uint64_t v28 = v13;
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))(v17, v27, v13);
  uint64_t v30 = v39;
  uint64_t v29 = v40;
  (*(void (**)(char *, char *, uint64_t))(v8 + 16))(v39, v12, v40);
  uint64_t v31 = sub_11B904(v23, v25, v37, v42, v36, v17, v30, v26);
  swift_release();
  (*(void (**)(char *, uint64_t))(v8 + 8))(v12, v29);
  (*(void (**)(char *, uint64_t))(v14 + 8))(v35, v28);
  sub_7184(v38);
  uint64_t v32 = v41;
  *(void *)(v41 + 16) = v31;
  sub_11EBC(&v46, v32 + 24);
  sub_11EBC(&v43, v32 + 64);
  return v32;
}

uint64_t sub_122A60(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5)
{
  uint64_t v41 = a5;
  unint64_t v37 = a4;
  uint64_t v38 = a2;
  uint64_t v40 = sub_296AA0();
  uint64_t v8 = *(void *)(v40 - 8);
  uint64_t v9 = __chkstk_darwin(v40);
  uint64_t v39 = (char *)&v34 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v34 - v11;
  uint64_t v13 = sub_296A10();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v34 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v34 - v18;
  uint64_t v20 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v20 - 8);
  uint64_t v22 = (char *)&v34 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v36 = v22;
  uint64_t v47 = sub_295C80();
  uint64_t v48 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v46 = a3;
  uint64_t v44 = type metadata accessor for SiriAudioOutputProvider();
  unint64_t v45 = &off_2FA760;
  *(void *)&long long v43 = v37;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v23 = (void *)swift_allocObject();
  void v23[2] = 0xD000000000000011;
  v23[3] = 0x80000000002A3570;
  _OWORD v23[5] = 0xD000000000000014;
  v23[6] = 0x80000000002A5B10;
  v23[4] = a1;
  sub_18D5C(a2, (uint64_t)v42);
  uint64_t v24 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v22, 1, 1, v24);
  unint64_t v37 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v25 = a1;
  swift_retain();
  uint64_t v35 = v19;
  sub_296A00();
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v26 = swift_allocObject();
  uint64_t v27 = v19;
  uint64_t v28 = v13;
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))(v17, v27, v13);
  uint64_t v30 = v39;
  uint64_t v29 = v40;
  (*(void (**)(char *, char *, uint64_t))(v8 + 16))(v39, v12, v40);
  uint64_t v31 = sub_11B904(v23, v25, v37, v42, v36, v17, v30, v26);
  swift_release();
  (*(void (**)(char *, uint64_t))(v8 + 8))(v12, v29);
  (*(void (**)(char *, uint64_t))(v14 + 8))(v35, v28);
  sub_7184(v38);
  uint64_t v32 = v41;
  *(void *)(v41 + 16) = v31;
  sub_11EBC(&v46, v32 + 24);
  sub_11EBC(&v43, v32 + 64);
  return v32;
}

uint64_t sub_122E2C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v49 = a3;
  uint64_t v50 = a4;
  uint64_t v48 = a2;
  uint64_t v54 = sub_296AA0();
  uint64_t v56 = *(void *)(v54 - 8);
  uint64_t v6 = __chkstk_darwin(v54);
  uint64_t v52 = (char *)&v41 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v41 - v8;
  uint64_t v51 = sub_296A10();
  uint64_t v55 = *(void *)(v51 - 8);
  uint64_t v10 = v55;
  uint64_t v11 = __chkstk_darwin(v51);
  uint64_t v13 = (char *)&v41 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v41 - v14;
  uint64_t v16 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v41 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v45 = v18;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v19 = (void *)swift_allocObject();
  v19[2] = 0xD000000000000011;
  v19[3] = 0x80000000002A3570;
  v19[5] = 0xD000000000000014;
  v19[6] = 0x80000000002A5B10;
  uint64_t v53 = a1;
  v19[4] = a1;
  sub_18D5C(a2, (uint64_t)v57);
  uint64_t v20 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v20 - 8) + 56))(v18, 1, 1, v20);
  uint64_t v44 = (void (*)(char *, uint64_t))sub_A6604(_swiftEmptyArrayStorage);
  swift_retain_n();
  swift_retain();
  sub_296A00();
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v42 = swift_allocObject();
  long long v43 = v13;
  uint64_t v47 = *(void (**)(char *, char *, uint64_t))(v10 + 16);
  uint64_t v21 = v13;
  uint64_t v22 = v51;
  v47(v13, v15, v51);
  uint64_t v23 = v56;
  long long v46 = *(void (**)(char *, char *, uint64_t))(v56 + 16);
  uint64_t v24 = v52;
  uint64_t v25 = v54;
  v46(v52, v9, v54);
  uint64_t v26 = sub_11B904(v19, v53, v44, v57, v45, v21, v24, v42);
  swift_release();
  uint64_t v27 = *(char **)(v23 + 8);
  uint64_t v56 = v23 + 8;
  unint64_t v45 = v27;
  ((void (*)(char *, uint64_t))v27)(v9, v25);
  uint64_t v28 = *(void (**)(char *, uint64_t))(v55 + 8);
  v55 += 8;
  uint64_t v44 = v28;
  uint64_t v29 = v22;
  v28(v15, v22);
  type metadata accessor for SearchForMediaViewProvider();
  uint64_t v30 = swift_allocObject();
  swift_retain();
  sub_1EFA5C((uint64_t *)(v30 + 24));
  *(void *)(v30 + 16) = v26;
  swift_retain();
  swift_retain();
  uint64_t v31 = v15;
  sub_296A00();
  uint64_t v32 = v9;
  sub_296A90();
  uint64_t v33 = (uint64_t)v43;
  uint64_t v34 = v31;
  v47(v43, v31, v29);
  uint64_t v35 = (uint64_t)v52;
  uint64_t v36 = v32;
  unint64_t v37 = v32;
  uint64_t v38 = v54;
  v46(v52, v36, v54);
  uint64_t v39 = sub_122550(v30, v26, v49, v33, v35, v50);
  swift_retain();
  ((void (*)(char *, uint64_t))v45)(v37, v38);
  v44(v34, v51);
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  sub_7184(v48);
  return v39;
}

uint64_t sub_1232F0(uint64_t a1, uint64_t a2, long long *a3, uint64_t a4, uint64_t a5, unint64_t a6, uint64_t a7)
{
  uint64_t v50 = a7;
  unint64_t v53 = a6;
  uint64_t v52 = a5;
  uint64_t v54 = a3;
  uint64_t v11 = sub_296A10();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  id v58 = (char *)&v47 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v47 - v15;
  uint64_t v17 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v17 - 8);
  uint64_t v19 = (char *)&v47 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v49 = v19;
  uint64_t v56 = sub_296AA0();
  uint64_t v55 = *(void *)(v56 - 8);
  uint64_t v20 = __chkstk_darwin(v56);
  uint64_t v57 = (char *)&v47 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v47 - v23;
  __chkstk_darwin(v22);
  uint64_t v59 = (char *)&v47 - v25;
  (*(void (**)(void))(v26 + 32))();
  uint64_t v68 = sub_295C80();
  uint64_t v69 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v67 = a4;
  uint64_t v51 = v11;
  uint64_t v65 = v11;
  uint64_t v66 = &protocol witness table for FeatureFlagProvider;
  uint64_t v27 = sub_12B48((uint64_t *)&v64);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v12 + 32))(v27, v52, v11);
  uint64_t v62 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v63 = &off_2FA760;
  *(void *)&long long v61 = v53;
  type metadata accessor for SearchForMediaCatDialogService();
  uint64_t v28 = (void *)swift_allocObject();
  void v28[2] = 0xD000000000000011;
  v28[3] = 0x80000000002A3570;
  uint64_t v28[5] = 0xD000000000000014;
  v28[6] = 0x80000000002A5B10;
  uint64_t v29 = a1;
  v28[4] = a1;
  *(void *)(a7 + 56) = v28;
  sub_18D5C((uint64_t)a3, (uint64_t)v60);
  uint64_t v30 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v30 - 8) + 56))(v19, 1, 1, v30);
  unint64_t v53 = sub_A6604(_swiftEmptyArrayStorage);
  swift_retain_n();
  swift_retain();
  uint64_t v31 = v16;
  uint64_t v48 = v16;
  sub_296A00();
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v32 = swift_allocObject();
  uint64_t v33 = v12;
  uint64_t v34 = *(void (**)(char *, char *, uint64_t))(v12 + 16);
  uint64_t v35 = v58;
  uint64_t v36 = v51;
  v34(v58, v31, v51);
  uint64_t v37 = v55;
  uint64_t v38 = v57;
  uint64_t v39 = v24;
  uint64_t v40 = v24;
  uint64_t v41 = v56;
  (*(void (**)(char *, char *, uint64_t))(v55 + 16))(v57, v39, v56);
  uint64_t v42 = sub_11B904(v28, v29, v53, v60, v49, v35, v38, v32);
  swift_release();
  long long v43 = *(void (**)(char *, uint64_t))(v37 + 8);
  v43(v40, v41);
  (*(void (**)(char *, uint64_t))(v33 + 8))(v48, v36);
  uint64_t v44 = v50;
  *(void *)(v50 + 192) = v42;
  type metadata accessor for SearchForMediaViewProvider();
  uint64_t v45 = swift_allocObject();
  swift_retain();
  sub_1EFA5C((uint64_t *)(v45 + 24));
  *(void *)(v45 + 16) = v42;
  v43(v59, v41);
  *(void *)(v44 + 184) = v45;
  sub_11EBC(v54, v44 + 16);
  sub_11EBC(&v67, v44 + 64);
  sub_11EBC(&v64, v44 + 104);
  sub_11EBC(&v61, v44 + 144);
  return v44;
}

uint64_t sub_123830()
{
  uint64_t v0 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v0 - 8);
  uint64_t v106 = (char *)&v97 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_296A10();
  os_log_type_t v121 = (ValueMetadata *)v2;
  uint64_t v125 = *(void *)(v2 - 8);
  uint64_t v3 = __chkstk_darwin(v2);
  uint64_t v116 = (char *)&v97 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  int v104 = (char *)&v97 - v5;
  uint64_t v115 = sub_296AA0();
  uint64_t v123 = *(void *)(v115 - 8);
  uint64_t v6 = __chkstk_darwin(v115);
  uint64_t v114 = (char *)&v97 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v122 = (char *)&v97 - v8;
  uint64_t v124 = sub_71D4(&qword_311D90);
  uint64_t v112 = *(void *)(v124 - 8);
  uint64_t v9 = __chkstk_darwin(v124);
  uint64_t v111 = (char *)&v97 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v97 - v11;
  sub_1983C(0, &qword_30D4E0);
  uint64_t v109 = sub_1983C(0, &qword_311D98);
  sub_293FD0();
  uint64_t v13 = sub_121EB0();
  sub_2942A0();
  uint64_t v119 = sub_295C80();
  uint64_t v14 = sub_295C70();
  _s11descr2F17F1V27NeedsDisambiguationStrategyCMa();
  uint64_t v15 = swift_allocObject();
  uint64_t v16 = sub_122E2C(v13, (uint64_t)&v131, v14, v15);
  swift_release();
  *(void *)&long long v131 = v16;
  sub_124D80(&qword_311DA0, (void (*)(uint64_t))_s11descr2F17F1V27NeedsDisambiguationStrategyCMa);
  sub_293EF0();
  swift_release();
  uint64_t v17 = v12;
  sub_293FB0();
  uint64_t v18 = sub_121EB0();
  uint64_t v19 = sub_295C70();
  uint64_t v132 = (ValueMetadata *)v2;
  os_log_type_t v133 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v131);
  sub_296A00();
  uint64_t v20 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v21 = swift_allocObject();
  sub_11EBC(&v131, v21 + 16);
  sub_2942A0();
  uint64_t v135 = (ValueMetadata *)v20;
  uint64_t v136 = &off_2FA760;
  *(void *)&long long v134 = v21;
  _s11descr2F17F1V18NeedsValueStrategyCMa();
  uint64_t v22 = swift_allocObject();
  uint64_t v23 = sub_12AF8((uint64_t)&v134, v20);
  uint64_t v24 = *(void *)(v20 - 8);
  uint64_t v25 = *(void *)(v24 + 64);
  __chkstk_darwin(v23);
  unint64_t v117 = (v25 + 15) & 0xFFFFFFFFFFFFFFF0;
  uint64_t v26 = (unint64_t *)((char *)&v97 - v117);
  id v118 = *(void (**)(char *))(v24 + 16);
  v118((char *)&v97 - v117);
  unint64_t v27 = *v26;
  swift_retain();
  uint64_t v28 = sub_122694(v18, v19, v27, (uint64_t)&v131, v22);
  sub_7184((uint64_t)&v134);
  swift_release();
  *(void *)&long long v131 = v28;
  sub_124D80(&qword_311DA8, (void (*)(uint64_t))_s11descr2F17F1V18NeedsValueStrategyCMa);
  sub_293E80();
  swift_release();
  sub_293F40();
  uint64_t v29 = sub_121EB0();
  sub_2942A0();
  _s11descr2F17F1V25NeedsConfirmationStrategyCMa();
  swift_allocObject();
  *(void *)&long long v131 = sub_10A1B4(v29, (uint64_t)&v131);
  sub_124D80(&qword_311DB0, (void (*)(uint64_t))_s11descr2F17F1V25NeedsConfirmationStrategyCMa);
  sub_293EE0();
  swift_release();
  char v120 = v17;
  sub_293FA0();
  uint64_t v30 = sub_121EB0();
  sub_2942A0();
  uint64_t v31 = sub_295C70();
  _s11descr2F17F1V21ConfirmIntentStrategyCMa();
  uint64_t v32 = swift_allocObject();
  *(void *)&long long v131 = sub_1220A4(v30, (uint64_t)&v131, v31, v32);
  sub_124D80(&qword_311DB8, (void (*)(uint64_t))_s11descr2F17F1V21ConfirmIntentStrategyCMa);
  sub_293F10();
  swift_release();
  sub_293F70();
  uint64_t v113 = (void (*)(char *, ValueMetadata *))sub_121EB0();
  uint64_t v33 = v122;
  sub_296A90();
  sub_2942A0();
  uint64_t v99 = (void (*)(char *, uint64_t))sub_295C70();
  uint64_t v34 = v104;
  sub_296A00();
  uint64_t v35 = v121;
  uint64_t v135 = v121;
  uint64_t v136 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v134);
  sub_296A00();
  uint64_t v36 = swift_allocObject();
  sub_11EBC(&v134, v36 + 16);
  uint64_t v135 = (ValueMetadata *)v20;
  uint64_t v136 = &off_2FA760;
  *(void *)&long long v134 = v36;
  uint64_t v105 = type metadata accessor for SearchForMedia.HandleIntentStrategy();
  uint64_t v98 = swift_allocObject();
  uint64_t v37 = sub_12AF8((uint64_t)&v134, v20);
  uint64_t v107 = v25;
  uint64_t v38 = v125;
  __chkstk_darwin(v37);
  uint64_t v39 = (unint64_t *)((char *)&v97 - v117);
  uint64_t v110 = v20;
  uint64_t v108 = v24 + 16;
  v118((char *)&v97 - v117);
  unint64_t v97 = *v39;
  uint64_t v40 = v123;
  uint64_t v41 = *(void (**)(char *, char *, uint64_t))(v123 + 16);
  uint64_t v42 = (uint64_t)v114;
  uint64_t v43 = v115;
  uint64_t v103 = v123 + 16;
  unsigned __int8 v102 = v41;
  v41(v114, v33, v115);
  uint64_t v44 = *(void (**)(uint64_t, char *, ValueMetadata *))(v38 + 16);
  uint64_t v45 = (uint64_t)v116;
  long long v46 = v35;
  uint64_t v101 = v38 + 16;
  uint64_t v100 = v44;
  v44((uint64_t)v116, v34, v35);
  swift_retain();
  uint64_t v47 = (uint64_t)v99;
  swift_retain();
  uint64_t v48 = sub_1232F0((uint64_t)v113, v42, &v131, v47, v45, v97, v98);
  swift_release();
  uint64_t v49 = *(void (**)(char *, ValueMetadata *))(v38 + 8);
  uint64_t v125 = v38 + 8;
  uint64_t v113 = v49;
  v49(v34, v35);
  swift_release();
  uint64_t v50 = *(void (**)(char *, uint64_t))(v40 + 8);
  uint64_t v123 = v40 + 8;
  uint64_t v99 = v50;
  v50(v122, v43);
  sub_7184((uint64_t)&v134);
  swift_release();
  *(void *)&long long v131 = v48;
  sub_124D80(&qword_311DC0, (void (*)(uint64_t))type metadata accessor for SearchForMedia.HandleIntentStrategy);
  sub_293E90();
  swift_release();
  sub_293F50();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  int v51 = CATDefaultMode;
  sub_296390();
  uint64_t v52 = sub_296380();
  sub_2942A0();
  unint64_t v53 = v34;
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v54 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v131);
  uint64_t v55 = (uint64_t)v116;
  uint64_t v56 = v46;
  uint64_t v57 = v46;
  id v58 = v100;
  v100((uint64_t)v116, v34, v57);
  swift_retain();
  uint64_t v59 = sub_141EA0(&v131, v51, v52, (uint64_t)&v134, v55, v54);
  swift_release();
  v113(v34, v56);
  swift_release();
  type metadata accessor for SearchForMediaCatDialogService();
  unint64_t v60 = (void *)swift_allocObject();
  v60[2] = 0xD000000000000011;
  void v60[3] = 0x80000000002A3570;
  void v60[5] = 0xD000000000000014;
  v60[6] = 0x80000000002A5B10;
  v60[4] = v59;
  uint64_t v61 = v59;
  uint64_t v62 = sub_294F60();
  uint64_t v63 = v106;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v62 - 8) + 56))(v106, 1, 1, v62);
  uint64_t v98 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v105 = v59;
  swift_retain_n();
  sub_2942A0();
  sub_296A00();
  long long v64 = v122;
  sub_296A90();
  type metadata accessor for SearchForMediaDialogProvider();
  uint64_t v65 = swift_allocObject();
  uint64_t v66 = v121;
  v58(v55, v34, v121);
  long long v67 = v114;
  uint64_t v68 = v115;
  v102(v114, v64, v115);
  uint64_t v69 = sub_11B904(v60, v61, v98, &v131, v63, v55, v67, v65);
  swift_release();
  v99(v64, v68);
  v113(v53, v66);
  type metadata accessor for SearchForMediaViewProvider();
  uint64_t v70 = swift_allocObject();
  swift_retain_n();
  sub_1EFA5C((uint64_t *)(v70 + 24));
  *(void *)(v70 + 16) = v69;
  uint64_t v132 = &type metadata for StringsBackedAppNameResolver;
  unint64_t v71 = sub_18D08();
  os_log_type_t v133 = (_UNKNOWN **)v71;
  *(void *)&long long v131 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, v131 + 16);
  uint64_t v135 = (ValueMetadata *)sub_2961A0();
  uint64_t v136 = (_UNKNOWN **)&protocol witness table for DeviceProvider;
  sub_12B48((uint64_t *)&v134);
  sub_296180();
  uint64_t v129 = v66;
  uint64_t v72 = v66;
  uint64_t v130 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v128);
  sub_296A00();
  v127[3] = sub_296F60();
  v127[4] = (uint64_t)&protocol witness table for UserPreferenceProvider;
  sub_12B48(v127);
  sub_296F50();
  v126[3] = sub_296CD0();
  v126[4] = (uint64_t)&protocol witness table for InstalledAppProvider;
  sub_12B48(v126);
  sub_296CC0();
  sub_71D4(&qword_311AF0);
  uint64_t v73 = (void *)swift_allocObject();
  uint64_t v74 = class metadata base offset for CommonAppResolver;
  uint64_t v75 = (char *)v73 + *(void *)(class metadata base offset for CommonAppResolver + *v73 + 8);
  strcpy(v75, "resolutionType");
  v75[15] = -18;
  sub_18D5C((uint64_t)&v131, (uint64_t)v73 + *(void *)(v74 + *v73 + 16));
  sub_18D5C((uint64_t)&v134, (uint64_t)v73 + *(void *)(class metadata base offset for CommonAppResolver + *v73 + 24));
  sub_18D5C((uint64_t)&v128, (uint64_t)v73 + *(void *)(class metadata base offset for CommonAppResolver + *v73 + 32));
  sub_18D5C((uint64_t)v127, (uint64_t)v73 + *(void *)(class metadata base offset for CommonAppResolver + *v73 + 40));
  sub_18D5C((uint64_t)v126, (uint64_t)v73 + *(void *)(class metadata base offset for CommonAppResolver + *v73 + 48));
  uint64_t v76 = sub_2976A0();
  sub_7184((uint64_t)v126);
  sub_7184((uint64_t)v127);
  sub_7184((uint64_t)&v128);
  sub_7184((uint64_t)&v134);
  sub_7184((uint64_t)&v131);
  sub_2942A0();
  uint64_t v135 = &type metadata for StringsBackedAppNameResolver;
  uint64_t v136 = (_UNKNOWN **)v71;
  *(void *)&long long v134 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, v134 + 16);
  uint64_t v77 = v72;
  uint64_t v129 = v72;
  uint64_t v130 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v128);
  sub_296A00();
  swift_setDeallocating();
  swift_release();
  sub_7184(v70 + 24);
  swift_deallocClassInstance();
  sub_71D4(&qword_311DC8);
  uint64_t v78 = (void *)swift_allocObject();
  v78[21] = 0;
  v78[2] = v76;
  v78[3] = v69;
  v78[4] = sub_11AB44;
  v78[5] = 0;
  sub_11EBC(&v131, (uint64_t)(v78 + 6));
  sub_11EBC(&v134, (uint64_t)(v78 + 11));
  sub_11EBC(&v128, (uint64_t)(v78 + 16));
  *(void *)&long long v131 = v78;
  sub_25E38(&qword_311DD0, &qword_311DC8);
  sub_293EB0();
  swift_release();
  uint64_t v79 = v124;
  uint64_t v80 = v120;
  sub_293F60();
  uint64_t v116 = (char *)v69;
  uint64_t v81 = swift_retain();
  *(void *)&long long v131 = sub_21DBB0(v81);
  sub_71D4(&qword_311DD8);
  sub_25E38(&qword_311DE0, &qword_311DD8);
  sub_293F00();
  swift_release();
  sub_293FC0();
  uint64_t v82 = sub_121EB0();
  sub_2942A0();
  uint64_t v83 = sub_295C70();
  uint64_t v135 = v77;
  uint64_t v136 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v134);
  sub_296A00();
  uint64_t v84 = v110;
  uint64_t v85 = swift_allocObject();
  sub_11EBC(&v134, v85 + 16);
  uint64_t v135 = (ValueMetadata *)v84;
  uint64_t v136 = &off_2FA760;
  *(void *)&long long v134 = v85;
  type metadata accessor for SearchForMedia.UnsupportedValueStrategy();
  uint64_t v86 = swift_allocObject();
  uint64_t v87 = sub_12AF8((uint64_t)&v134, v84);
  __chkstk_darwin(v87);
  uint64_t v88 = (unint64_t *)((char *)&v97 - v117);
  v118((char *)&v97 - v117);
  unint64_t v89 = *v88;
  swift_retain();
  uint64_t v90 = sub_122A60(v82, (uint64_t)&v131, v83, v89, v86);
  sub_7184((uint64_t)&v134);
  swift_release();
  *(void *)&long long v131 = v90;
  sub_124D80((unint64_t *)&qword_311DE8, (void (*)(uint64_t))type metadata accessor for SearchForMedia.UnsupportedValueStrategy);
  sub_293F20();
  swift_release();
  sub_293F90();
  uint64_t v132 = v121;
  os_log_type_t v133 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v131);
  uint64_t v91 = v116;
  swift_retain();
  sub_296A00();
  uint64_t v92 = swift_allocObject();
  sub_11EBC(&v131, v92 + 16);
  uint64_t v132 = (ValueMetadata *)v84;
  os_log_type_t v133 = &off_2FA760;
  *(void *)&long long v131 = v92;
  sub_71D4(&qword_311DF0);
  uint64_t v93 = swift_allocObject();
  *(void *)(v93 + 16) = v91;
  sub_11EBC(&v131, v93 + 24);
  *(void *)&long long v131 = v93;
  sub_25E38(&qword_311DF8, &qword_311DF0);
  sub_293ED0();
  swift_release();
  sub_293F80();
  uint64_t v94 = v112;
  (*(void (**)(char *, char *, uint64_t))(v112 + 16))(v111, v80, v79);
  sub_71D4(&qword_311E00);
  swift_allocObject();
  uint64_t v95 = sub_293F30();
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v94 + 8))(v80, v79);
  return v95;
}

uint64_t sub_124D40()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);

  return _swift_deallocObject(v0, 96, 7);
}

uint64_t sub_124D80(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_124DC8()
{
  uint64_t v0 = sub_296AA0();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v7 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_296A90();
  uint64_t v9 = v0;
  uint64_t v10 = &protocol witness table for StringsFileResolver;
  uint64_t v4 = sub_12B48((uint64_t *)&v8);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v4, v3, v0);
  type metadata accessor for ConfirmationViewProvider();
  uint64_t v5 = swift_allocObject();
  sub_11EBC(&v8, v5 + 16);
  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  qword_31FCC0 = v5;
  return result;
}

uint64_t sub_124EE4(void (*a1)(void), uint64_t a2)
{
  uint64_t v3 = v2;
  *(void *)&long long v70 = sub_293720();
  uint64_t v69 = *(void **)(v70 - 8);
  __chkstk_darwin(v70);
  uint64_t v7 = (char *)v57 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  long long v64 = (char *)v57 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v57 - v12;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v66 = a2;
  long long v67 = a1;
  uint64_t v14 = sub_6E60(v8, (uint64_t)qword_31FC08);
  uint64_t v15 = *(void (**)(char *, id, uint64_t))(v9 + 16);
  id v62 = (id)v14;
  uint64_t v63 = v9 + 16;
  uint64_t v61 = v15;
  ((void (*)(char *))v15)(v13);
  uint64_t v16 = sub_2987E0();
  os_log_type_t v17 = sub_298DA0();
  if (os_log_type_enabled(v16, v17))
  {
    uint64_t v18 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v18 = 0;
    _os_log_impl(&dword_0, v16, v17, "ConfirmationViewProvider#makeYesNoConfirmationViews Creating confirmation views", v18, 2u);
    swift_slowDealloc();
  }

  uint64_t v19 = *(void (**)(char *, uint64_t))(v9 + 8);
  uint64_t v65 = v8;
  uint64_t v59 = v9 + 8;
  id v58 = v19;
  v19(v13, v8);
  sub_74A4((void *)(v3 + 16), *(void *)(v3 + 40));
  type metadata accessor for PlayMediaAlternativesViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  uint64_t v21 = self;
  id v22 = [v21 bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v60 = sub_296D60();
  id v68 = v23;

  uint64_t v24 = (void (*)(char *, uint64_t))v69[1];
  uint64_t v25 = v70;
  v24(v7, v70);
  sub_74A4((void *)(v3 + 16), *(void *)(v3 + 40));
  id v26 = [v21 bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v27 = sub_296D60();

  v24(v7, v25);
  uint64_t v80 = 0;
  long long v78 = 0u;
  long long v79 = 0u;
  long long v77 = 0u;
  char v81 = 2;
  id v28 = sub_237400();
  if (!v28) {
    goto LABEL_10;
  }
  uint64_t v29 = v28;
  v72[1] = 1;
  long long v73 = 0u;
  long long v74 = 0u;
  long long v75 = 0u;
  char v76 = 2;
  id v30 = sub_237400();
  if (!v30)
  {

LABEL_10:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_DD768();
    swift_allocError();
    v67();
    return swift_errorRelease();
  }
  uint64_t v31 = v30;
  sub_1983C(0, (unint64_t *)&qword_30FA68);
  sub_2989C0();
  v57[1] = v27;
  sub_2989C0();
  uint64_t v32 = sub_71D4(&qword_3107B0);
  uint64_t v33 = swift_allocObject();
  long long v70 = xmmword_29A8D0;
  *(_OWORD *)(v33 + 16) = xmmword_29A8D0;
  *(void *)(v33 + 32) = v29;
  v72[0] = v33;
  sub_298B70();
  uint64_t v69 = v29;
  uint64_t v34 = (void *)sub_299180();
  sub_2989C0();
  sub_2989C0();
  uint64_t v35 = swift_allocObject();
  *(_OWORD *)(v35 + 16) = v70;
  *(void *)(v35 + 32) = v31;
  v72[0] = v35;
  sub_298B70();
  id v68 = v31;
  uint64_t v36 = (void *)sub_299180();
  sub_1983C(0, &qword_311ED0);
  id v37 = v36;
  id v38 = v34;
  uint64_t v39 = (void *)sub_299120();
  uint64_t v40 = v64;
  uint64_t v41 = v65;
  v61(v64, v62, v65);
  id v42 = v39;
  uint64_t v43 = sub_2987E0();
  os_log_type_t v44 = sub_298DC0();
  if (os_log_type_enabled(v43, v44))
  {
    uint64_t v63 = v32;
    uint64_t v45 = (uint8_t *)swift_slowAlloc();
    v72[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v45 = 136315138;
    uint64_t v61 = (void (*)(char *, id, uint64_t))(v45 + 4);
    id v46 = [v42 debugDescription];
    uint64_t v47 = sub_2989C0();
    id v62 = v37;
    unint64_t v49 = v48;

    uint64_t v71 = sub_6E98(v47, v49, v72);
    sub_2992C0();

    id v37 = v62;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v43, v44, "ConfirmationViewProvider#makeYesNoConfirmationViews Created view: %s", v45, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v50 = v64;
    uint64_t v51 = v65;
  }
  else
  {

    uint64_t v50 = v40;
    uint64_t v51 = v41;
  }
  v58(v50, v51);
  unint64_t v53 = v67;
  uint64_t v54 = swift_allocObject();
  *(_OWORD *)(v54 + 16) = v70;
  *(void *)(v54 + 32) = v42;
  v72[0] = v54;
  sub_298B70();
  uint64_t v55 = v72[0];
  id v56 = v42;
  ((void (*)(uint64_t, void))v53)(v55, 0);

  return swift_bridgeObjectRelease();
}

uint64_t sub_1257B0()
{
  sub_7184(v0 + 16);

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ConfirmationViewProvider()
{
  return self;
}

Swift::Int sub_12580C()
{
  return sub_2996B0();
}

void sub_125850()
{
}

Swift::Int sub_125878()
{
  return sub_2996B0();
}

uint64_t getEnumTagSinglePayload for ConfirmationPromptCreationError(unsigned int *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if ((a2 + 1) >= 0x10000) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 1) < 0x100) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4) {
    return *a1;
  }
  if (v3 == 2) {
    return *(unsigned __int16 *)a1;
  }
  return *(unsigned __int8 *)a1;
}

unsigned char *storeEnumTagSinglePayload for ConfirmationPromptCreationError(unsigned char *result, int a2, int a3)
{
  if ((a3 + 1) >= 0x10000) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) < 0x100) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2)
  {
    switch(v5)
    {
      case 1:
        *uint64_t result = a2;
        return result;
      case 2:
        *(_WORD *)uint64_t result = a2;
        return result;
      case 3:
        goto LABEL_19;
      case 4:
        *(_DWORD *)uint64_t result = a2;
        return result;
      default:
        return result;
    }
  }
  switch(v5)
  {
    case 1:
      *uint64_t result = 0;
      break;
    case 2:
      *(_WORD *)uint64_t result = 0;
      break;
    case 3:
LABEL_19:
      __break(1u);
      JUMPOUT(0x1259A8);
    case 4:
      *(_DWORD *)uint64_t result = 0;
      break;
    default:
      return result;
  }
  return result;
}

ValueMetadata *type metadata accessor for ConfirmationPromptCreationError()
{
  return &type metadata for ConfirmationPromptCreationError;
}

unint64_t sub_1259E4()
{
  unint64_t result = qword_311ED8;
  if (!qword_311ED8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311ED8);
  }
  return result;
}

uint64_t sub_125A38(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5, unint64_t a6, uint64_t a7, uint64_t (*a8)(uint64_t), uint64_t a9, void *a10, void *a11, uint64_t a12, unint64_t a13)
{
  uint64_t v76 = a5;
  long long v77 = a8;
  long long v75 = (void *)a6;
  uint64_t v16 = a9;
  uint64_t v17 = sub_298800();
  uint64_t v18 = *(void *)(v17 - 8);
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v21 = (char *)&v69 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = __chkstk_darwin(v19);
  uint64_t v24 = (char *)&v69 - v23;
  uint64_t v25 = __chkstk_darwin(v22);
  uint64_t v27 = (char *)&v69 - v26;
  __chkstk_darwin(v25);
  uint64_t v29 = (char *)&v69 - v28;
  if (a4 && !a7)
  {
    uint64_t v72 = a11;
    uint64_t v73 = a12;
    long long v74 = a10;
    swift_bridgeObjectRetain();
    int v36 = sub_295E00();
    if (sub_2964F0() == a3 && v37 == a4)
    {
      swift_bridgeObjectRelease();
      unint64_t v38 = (unint64_t)v75;
      if ((v36 & (v75 != 0)) == 0) {
        goto LABEL_30;
      }
    }
    else
    {
      uint64_t v71 = v18;
      int v39 = sub_2995D0();
      swift_bridgeObjectRelease();
      if ((v39 & v36 & 1) == 0)
      {
        uint64_t v16 = a9;
        uint64_t v18 = v71;
        unint64_t v38 = (unint64_t)v75;
        goto LABEL_30;
      }
      uint64_t v16 = a9;
      uint64_t v18 = v71;
      unint64_t v38 = (unint64_t)v75;
      if (!v75) {
        goto LABEL_30;
      }
    }
    swift_bridgeObjectRetain();
    uint64_t v40 = sub_296580();
    uint64_t v70 = v16;
    if (v40 == v76 && v41 == v38)
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
LABEL_24:
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v45 = sub_6E60(v17, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v18 + 16))(v29, v45, v17);
      swift_bridgeObjectRetain();
      id v46 = sub_2987E0();
      os_log_type_t v47 = sub_298DC0();
      if (os_log_type_enabled(v46, v47))
      {
        uint64_t v48 = swift_slowAlloc();
        uint64_t v71 = swift_slowAlloc();
        *(void *)&v79[0] = v71;
        *(_DWORD *)uint64_t v48 = 136315394;
        swift_bridgeObjectRetain();
        *(void *)&v78[0] = sub_6E98(v76, v38, (uint64_t *)v79);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v48 + 12) = 2080;
        uint64_t v49 = sub_296580();
        *(void *)&v78[0] = sub_6E98(v49, v50, (uint64_t *)v79);
        unint64_t v38 = (unint64_t)v75;
        uint64_t v16 = v70;
        sub_2992C0();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v46, v47, "UpdateMediaIntent#amend bundleId is AirPlay and representedBundleId is Apple Music: %s, replacing with music: %s", (uint8_t *)v48, 0x16u);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
      }
      else
      {

        swift_bridgeObjectRelease_n();
      }
      (*(void (**)(char *, uint64_t))(v18 + 8))(v29, v17);
      a3 = sub_296580();
      a4 = v51;
      goto LABEL_30;
    }
    char v42 = sub_2995D0();
    swift_bridgeObjectRelease();
    if (v42)
    {
LABEL_23:
      swift_bridgeObjectRelease();
      uint64_t v16 = v70;
      goto LABEL_24;
    }
    if (sub_296540() == v76 && v43 == v38)
    {
      swift_bridgeObjectRelease();
      goto LABEL_23;
    }
    char v44 = sub_2995D0();
    swift_bridgeObjectRelease();
    if (v44) {
      goto LABEL_23;
    }
    sub_74A4(v74, v74[3]);
    if (sub_296B50())
    {
      swift_bridgeObjectRelease();
      unint64_t v38 = (unint64_t)v75;
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v65 = sub_6E60(v17, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v18 + 16))(v27, v65, v17);
      swift_bridgeObjectRetain_n();
      uint64_t v66 = sub_2987E0();
      os_log_type_t v67 = sub_298DC0();
      if (os_log_type_enabled(v66, v67))
      {
        id v68 = (uint8_t *)swift_slowAlloc();
        *(void *)&v79[0] = swift_slowAlloc();
        *(_DWORD *)id v68 = 136315138;
        swift_bridgeObjectRetain();
        *(void *)&v78[0] = sub_6E98(v76, (unint64_t)v75, (uint64_t *)v79);
        unint64_t v38 = (unint64_t)v75;
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v66, v67, "UpdateMediaIntent#amend bundleId is AirPlay, replacing bundleId with representedBundleId %s and may attempt to execute on the device of the requesting user", v68, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
      }
      else
      {

        swift_bridgeObjectRelease_n();
      }
      (*(void (**)(char *, uint64_t))(v18 + 8))(v27, v17);
      a3 = v76;
      a4 = v38;
    }
    else
    {
      unint64_t v38 = (unint64_t)v75;
      swift_bridgeObjectRelease();
    }
    uint64_t v16 = v70;
LABEL_30:
    uint64_t v52 = (void *)a13;
    if (a3 == sub_296550() && a4 == v53)
    {
      swift_bridgeObjectRelease();
      if (!v38)
      {
        uint64_t v54 = v16;
LABEL_48:
        sub_74A4(v72, v72[3]);
        sub_18D5C((uint64_t)v74, (uint64_t)v79);
        sub_18D5C(v73, (uint64_t)v78);
        uint64_t v63 = (void *)swift_allocObject();
        v63[2] = v77;
        v63[3] = v54;
        sub_11EBC(v79, (uint64_t)(v63 + 4));
        sub_11EBC(v78, (uint64_t)(v63 + 9));
        v63[14] = v52;
        v63[15] = a3;
        v63[16] = a4;
        swift_retain();
        id v64 = v52;
        sub_296A40();
        return swift_release();
      }
    }
    else
    {
      uint64_t v54 = v16;
      char v55 = sub_2995D0();
      swift_bridgeObjectRelease();
      if ((v55 & 1) == 0) {
        goto LABEL_48;
      }
      uint64_t v16 = v54;
      if (!v38) {
        goto LABEL_48;
      }
    }
    swift_bridgeObjectRetain();
    if (sub_2965B0() == v76 && v56 == v38)
    {
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v54 = v16;
      char v57 = sub_2995D0();
      swift_bridgeObjectRelease();
      if ((v57 & 1) == 0)
      {
        swift_bridgeObjectRelease();
        goto LABEL_48;
      }
      uint64_t v16 = v54;
    }
    long long v75 = (void *)a13;
    swift_bridgeObjectRelease();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v58 = sub_6E60(v17, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v18 + 16))(v24, v58, v17);
    swift_bridgeObjectRetain();
    uint64_t v59 = sub_2987E0();
    os_log_type_t v60 = sub_298DC0();
    uint64_t v54 = v16;
    if (os_log_type_enabled(v59, v60))
    {
      uint64_t v61 = (uint8_t *)swift_slowAlloc();
      *(void *)&v79[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v61 = 136315138;
      uint64_t v71 = (uint64_t)(v61 + 4);
      swift_bridgeObjectRetain();
      *(void *)&v78[0] = sub_6E98(v76, v38, (uint64_t *)v79);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v59, v60, "UpdateMediaIntent#amend bundleId is remote player service and representedBundleId is Classical: %s, setting bundle id to Classical", v61, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v18 + 8))(v24, v17);
    uint64_t v52 = v75;
    a3 = sub_2965B0();
    a4 = v62;
    goto LABEL_48;
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v30 = sub_6E60(v17, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v18 + 16))(v21, v30, v17);
  uint64_t v31 = sub_2987E0();
  os_log_type_t v32 = sub_298DB0();
  if (os_log_type_enabled(v31, v32))
  {
    uint64_t v33 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v33 = 0;
    _os_log_impl(&dword_0, v31, v32, "UpdateMediaIntent#amend failed to get bundleId for now playing app", v33, 2u);
    swift_slowDealloc();
  }

  uint64_t v34 = (*(uint64_t (**)(char *, uint64_t))(v18 + 8))(v21, v17);
  return v77(v34);
}

uint64_t sub_1264F0(uint64_t a1, void (*a2)(void), uint64_t a3, void *a4, void *a5, void *a6, uint64_t a7, unint64_t a8)
{
  uint64_t v124 = a7;
  unint64_t v125 = a8;
  long long v128 = a6;
  id v118 = a5;
  uint64_t v126 = a4;
  uint64_t v129 = a3;
  uint64_t v130 = a2;
  uint64_t v131 = a1;
  uint64_t v8 = sub_297C70();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v122 = v8;
  uint64_t v123 = v9;
  __chkstk_darwin(v8);
  uint64_t v111 = &v104[-((v10 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v121 = sub_71D4(&qword_30DD90);
  uint64_t v11 = __chkstk_darwin(v121);
  uint64_t v115 = &v104[-((v12 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v11);
  uint64_t v127 = (uint64_t)&v104[-v13];
  uint64_t v14 = sub_71D4(&qword_30DDB8);
  uint64_t v15 = __chkstk_darwin(v14 - 8);
  uint64_t v113 = &v104[-((v16 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v112 = &v104[-v18];
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v114 = &v104[-v20];
  uint64_t v21 = __chkstk_darwin(v19);
  unint64_t v117 = &v104[-v22];
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v116 = &v104[-v24];
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v119 = &v104[-v26];
  __chkstk_darwin(v25);
  char v120 = &v104[-v27];
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  uint64_t v31 = &v104[-((v30 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v32 = sub_71D4(&qword_310750);
  __chkstk_darwin(v32);
  uint64_t v34 = &v104[-((v33 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v35 = (void *)sub_2962A0();
  uint64_t v36 = *(v35 - 1);
  uint64_t v37 = __chkstk_darwin(v35);
  int v39 = &v104[-((v38 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v37);
  uint64_t v41 = &v104[-v40];
  sub_11E58(v131, (uint64_t)v34, &qword_310750);
  if (swift_getEnumCaseMultiPayload() != 1)
  {
    (*(void (**)(unsigned char *, unsigned char *, void *))(v36 + 32))(v41, v34, v35);
    (*(void (**)(unsigned char *, unsigned char *, void *))(v36 + 16))(v39, v41, v35);
    type metadata accessor for NowPlayingIntent();
    swift_allocObject();
    unint64_t v50 = sub_E4F78((uint64_t)v39);
    sub_74A4(v126, v126[3]);
    char v51 = sub_296BF0();
    uint64_t v126 = v35;
    uint64_t v52 = v36;
    uint64_t v53 = v41;
    uint64_t v131 = (uint64_t)v50;
    if ((v51 & 1) == 0) {
      goto LABEL_23;
    }
    uint64_t v109 = v41;
    uint64_t v110 = v36;
    uint64_t v54 = v118;
    sub_74A4(v118, v118[3]);
    char v55 = v120;
    sub_298000();
    uint64_t v57 = v122;
    uint64_t v56 = v123;
    uint64_t v58 = v119;
    uint64_t v106 = *(void (**)(unsigned char *, void, uint64_t))(v123 + 104);
    v106(v119, enum case for CommonAudio.MediaType.artist(_:), v122);
    uint64_t v59 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v56 + 56);
    uint64_t v108 = v56 + 56;
    uint64_t v107 = v59;
    v59((uint64_t)v58, 0, 1, v57);
    uint64_t v60 = v127;
    uint64_t v61 = v127 + *(int *)(v121 + 48);
    sub_11E58((uint64_t)v55, v127, &qword_30DDB8);
    sub_11E58((uint64_t)v58, v61, &qword_30DDB8);
    unint64_t v62 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v56 + 48);
    if (v62(v60, 1, v57) == 1)
    {
      sub_23A44((uint64_t)v58, &qword_30DDB8);
      sub_23A44((uint64_t)v55, &qword_30DDB8);
      int v63 = v62(v61, 1, v57);
      id v64 = v117;
      uint64_t v65 = v62;
      if (v63 == 1)
      {
        sub_23A44(v127, &qword_30DDB8);
        sub_18D5C((uint64_t)v54, (uint64_t)v132);
LABEL_21:
        sub_7184((uint64_t)v132);
        uint64_t v52 = v110;
        uint64_t v53 = v109;
        uint64_t v75 = v131;
        goto LABEL_22;
      }
    }
    else
    {
      uint64_t v66 = v116;
      sub_11E58(v60, (uint64_t)v116, &qword_30DDB8);
      uint64_t v65 = v62;
      if (v62(v61, 1, v57) != 1)
      {
        uint64_t v76 = v123;
        long long v77 = v111;
        (*(void (**)(unsigned char *, uint64_t, uint64_t))(v123 + 32))(v111, v61, v57);
        sub_127BB4(&qword_30DDE8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType);
        int v105 = sub_2989A0();
        long long v78 = *(void (**)(unsigned char *, uint64_t))(v76 + 8);
        uint64_t v67 = v121;
        v78(v77, v122);
        sub_23A44((uint64_t)v119, &qword_30DDB8);
        sub_23A44((uint64_t)v120, &qword_30DDB8);
        v78(v116, v122);
        uint64_t v57 = v122;
        sub_23A44(v127, &qword_30DDB8);
        sub_18D5C((uint64_t)v54, (uint64_t)v132);
        id v64 = v117;
        if (v105) {
          goto LABEL_21;
        }
LABEL_14:
        sub_74A4(v132, v132[3]);
        sub_298000();
        uint64_t v68 = (uint64_t)v114;
        v106(v114, enum case for CommonAudio.MediaType.album(_:), v57);
        v107(v68, 0, 1, v57);
        uint64_t v69 = v115;
        uint64_t v70 = (uint64_t)&v115[*(int *)(v67 + 48)];
        sub_11E58((uint64_t)v64, (uint64_t)v115, &qword_30DDB8);
        sub_11E58(v68, v70, &qword_30DDB8);
        if (v65((uint64_t)v69, 1, v57) == 1)
        {
          sub_23A44(v68, &qword_30DDB8);
          sub_23A44((uint64_t)v64, &qword_30DDB8);
          int v71 = v65(v70, 1, v57);
          uint64_t v52 = v110;
          uint64_t v53 = v109;
          if (v71 == 1)
          {
            sub_23A44((uint64_t)v69, &qword_30DDB8);
            uint64_t v54 = v118;
            goto LABEL_21;
          }
        }
        else
        {
          uint64_t v72 = v112;
          sub_11E58((uint64_t)v69, (uint64_t)v112, &qword_30DDB8);
          int v73 = v65(v70, 1, v57);
          uint64_t v52 = v110;
          uint64_t v74 = v57;
          uint64_t v53 = v109;
          uint64_t v75 = v131;
          if (v73 != 1)
          {
            uint64_t v94 = v123;
            uint64_t v95 = v111;
            (*(void (**)(unsigned char *, uint64_t, uint64_t))(v123 + 32))(v111, v70, v74);
            sub_127BB4(&qword_30DDE8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.MediaType);
            LODWORD(v127) = sub_2989A0();
            os_log_type_t v96 = *(void (**)(unsigned char *, uint64_t))(v94 + 8);
            v96(v95, v74);
            sub_23A44(v68, &qword_30DDB8);
            sub_23A44((uint64_t)v117, &qword_30DDB8);
            v96(v112, v74);
            sub_23A44((uint64_t)v69, &qword_30DDB8);
            sub_7184((uint64_t)v132);
            uint64_t v54 = v118;
            if ((v127 & 1) == 0)
            {
LABEL_23:
              uint64_t v81 = swift_retain();
              id v82 = sub_80650(v81, 0, 0);
              swift_release();
              self;
              uint64_t v83 = v128;
              if (swift_dynamicCastObjCClass())
              {
                id v84 = [v83 backingStore];
                self;
                uint64_t v85 = swift_dynamicCastObjCClass();
                if (v85)
                {
                  uint64_t v86 = (void *)v85;
                  id v87 = (id)INIntentSlotValueTransformToMediaSearch();
                  [v86 setMediaSearch:v87];

                  id v82 = v84;
                  id v84 = v87;
                }
              }
              else
              {
                self;
                if (swift_dynamicCastObjCClass())
                {
                  id v84 = [v83 backingStore];
                  self;
                  uint64_t v88 = swift_dynamicCastObjCClass();
                  if (v88)
                  {
                    unint64_t v89 = (void *)v88;
                    id v90 = (id)INIntentSlotValueTransformToMediaSearch();
                    [v89 setMediaSearch:v90];

                    id v82 = v84;
                    id v84 = v90;
                  }
                }
                else
                {
                  self;
                  if (swift_dynamicCastObjCClass())
                  {
                    id v84 = [v83 backingStore];
                    self;
                    uint64_t v91 = swift_dynamicCastObjCClass();
                    if (v91)
                    {
                      uint64_t v92 = (void *)v91;
                      id v93 = (id)INIntentSlotValueTransformToMediaSearch();
                      [v92 setMediaSearch:v93];

                      id v82 = v84;
                      id v84 = v93;
                    }
                  }
                  else
                  {
                    self;
                    if (!swift_dynamicCastObjCClass())
                    {

                      unsigned __int8 v102 = sub_1D378(v124, v125, 0, 0);
                      uint64_t v103 = v130;
LABEL_43:

                      v103();
                      swift_release();
                      return (*(uint64_t (**)(unsigned char *, void *))(v52 + 8))(v53, v126);
                    }
                    id v84 = [v83 backingStore];
                    self;
                    uint64_t v97 = swift_dynamicCastObjCClass();
                    if (v97)
                    {
                      uint64_t v98 = (void *)v97;
                      id v99 = (id)INIntentSlotValueTransformToMediaSearch();
                      [v98 setMediaSearch:v99];

                      id v82 = v84;
                      id v84 = v99;
                    }
                  }
                }
              }

              id v100 = sub_1D378(v124, v125, 0, 0);
              id v101 = [v83 backingStore];
              self;
              unsigned __int8 v102 = (void *)swift_dynamicCastObjCClass();
              if (!v102) {

              }
              [v102 setIntentMetadata:v100];
              uint64_t v103 = v130;
              goto LABEL_43;
            }
LABEL_22:
            sub_74A4(v54, v54[3]);
            uint64_t v79 = (uint64_t)v113;
            sub_298000();
            uint64_t v80 = v75 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin16NowPlayingIntent_mediaType;
            swift_beginAccess();
            sub_86718(v79, v80);
            swift_endAccess();
            goto LABEL_23;
          }
          sub_23A44(v68, &qword_30DDB8);
          sub_23A44((uint64_t)v64, &qword_30DDB8);
          (*(void (**)(unsigned char *, uint64_t))(v123 + 8))(v72, v74);
        }
        sub_23A44((uint64_t)v69, &qword_30DD90);
        sub_7184((uint64_t)v132);
        goto LABEL_23;
      }
      sub_23A44((uint64_t)v119, &qword_30DDB8);
      sub_23A44((uint64_t)v120, &qword_30DDB8);
      (*(void (**)(unsigned char *, uint64_t))(v123 + 8))(v66, v57);
      id v64 = v117;
    }
    sub_23A44(v127, &qword_30DD90);
    sub_18D5C((uint64_t)v54, (uint64_t)v132);
    uint64_t v67 = v121;
    goto LABEL_14;
  }
  sub_23A44((uint64_t)v34, &qword_310750);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v42 = sub_6E60(v28, (uint64_t)qword_31FC08);
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v29 + 16))(v31, v42, v28);
  uint64_t v43 = sub_2987E0();
  os_log_type_t v44 = sub_298DB0();
  BOOL v45 = os_log_type_enabled(v43, v44);
  id v46 = v130;
  if (v45)
  {
    os_log_type_t v47 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v47 = 0;
    _os_log_impl(&dword_0, v43, v44, "UpdateMediaIntent#amend failed to get now playing info", v47, 2u);
    swift_slowDealloc();
  }

  uint64_t v48 = (*(uint64_t (**)(unsigned char *, uint64_t))(v29 + 8))(v31, v28);
  return ((uint64_t (*)(uint64_t))v46)(v48);
}

uint64_t sub_1274E8()
{
  swift_release();
  sub_7184(v0 + 32);
  sub_7184(v0 + 72);

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 136, 7);
}

uint64_t sub_127540(uint64_t a1)
{
  return sub_1264F0(a1, *(void (**)(void))(v1 + 16), *(void *)(v1 + 24), (void *)(v1 + 32), (void *)(v1 + 72), *(void **)(v1 + 112), *(void *)(v1 + 120), *(void *)(v1 + 128));
}

uint64_t sub_127558(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8)
{
  os_log_type_t v47 = a6;
  uint64_t v46 = a5;
  uint64_t v45 = a4;
  uint64_t v43 = a3;
  os_log_type_t v44 = a2;
  uint64_t v42 = a1;
  uint64_t v10 = sub_297C00();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v40 = (char *)&v39 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_71D4(&qword_30DD98);
  uint64_t v14 = v13 - 8;
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v39 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30DDA0);
  uint64_t v18 = __chkstk_darwin(v17 - 8);
  uint64_t v41 = (uint64_t)&v39 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v39 - v21;
  __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v39 - v23;
  v51[3] = a7;
  v51[4] = a8;
  sub_12B48(v51);
  (*(void (**)(void))(*(void *)(a7 - 8) + 16))();
  sub_297F70();
  (*(void (**)(char *, void, uint64_t))(v11 + 104))(v22, enum case for CommonAudio.Verb.like(_:), v10);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v11 + 56))(v22, 0, 1, v10);
  uint64_t v25 = (uint64_t)&v16[*(int *)(v14 + 56)];
  sub_11E58((uint64_t)v24, (uint64_t)v16, &qword_30DDA0);
  sub_11E58((uint64_t)v22, v25, &qword_30DDA0);
  uint64_t v26 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v11 + 48);
  if (v26((uint64_t)v16, 1, v10) == 1)
  {
    sub_23A44((uint64_t)v22, &qword_30DDA0);
    sub_23A44((uint64_t)v24, &qword_30DDA0);
    int v27 = v26(v25, 1, v10);
    uint64_t v28 = v47;
    if (v27 == 1)
    {
      sub_23A44((uint64_t)v16, &qword_30DDA0);
      goto LABEL_8;
    }
    goto LABEL_6;
  }
  uint64_t v29 = v41;
  sub_11E58((uint64_t)v16, v41, &qword_30DDA0);
  if (v26(v25, 1, v10) == 1)
  {
    sub_23A44((uint64_t)v22, &qword_30DDA0);
    sub_23A44((uint64_t)v24, &qword_30DDA0);
    (*(void (**)(uint64_t, uint64_t))(v11 + 8))(v29, v10);
    uint64_t v28 = v47;
LABEL_6:
    sub_23A44((uint64_t)v16, &qword_30DD98);
    goto LABEL_8;
  }
  uint64_t v30 = v40;
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 32))(v40, v25, v10);
  sub_127BB4((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
  sub_2989A0();
  uint64_t v31 = *(void (**)(char *, uint64_t))(v11 + 8);
  v31(v30, v10);
  sub_23A44((uint64_t)v22, &qword_30DDA0);
  sub_23A44((uint64_t)v24, &qword_30DDA0);
  v31((char *)v29, v10);
  sub_23A44((uint64_t)v16, &qword_30DDA0);
  uint64_t v28 = v47;
LABEL_8:
  id v32 = [v28 backingStore];
  self;
  uint64_t v33 = (void *)swift_dynamicCastObjCClass();
  if (v33) {
    [v33 setAffinityType:INMediaAffinityTypeGetBackingType()];
  }

  uint64_t v34 = v44;
  sub_74A4(v44, v44[3]);
  sub_18D5C(v43, (uint64_t)v50);
  sub_18D5C((uint64_t)v34, (uint64_t)v49);
  sub_18D5C((uint64_t)v51, (uint64_t)v48);
  uint64_t v35 = (void *)swift_allocObject();
  uint64_t v36 = v46;
  _OWORD v35[2] = v45;
  uint64_t v35[3] = v36;
  sub_11EBC(v50, (uint64_t)(v35 + 4));
  sub_11EBC(v49, (uint64_t)(v35 + 9));
  sub_11EBC(v48, (uint64_t)(v35 + 14));
  v35[19] = v28;
  swift_retain();
  id v37 = v28;
  sub_296A30();
  swift_release();
  return sub_7184((uint64_t)v51);
}

uint64_t sub_127B1C()
{
  swift_release();
  sub_7184(v0 + 32);
  sub_7184(v0 + 72);
  sub_7184(v0 + 112);

  return _swift_deallocObject(v0, 160, 7);
}

uint64_t sub_127B74(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5, unint64_t a6, uint64_t a7)
{
  return sub_125A38(a1, a2, a3, a4, a5, a6, a7, *(uint64_t (**)(uint64_t))(v7 + 16), *(void *)(v7 + 24), (void *)(v7 + 32), (void *)(v7 + 72), v7 + 112, *(void *)(v7 + 152));
}

uint64_t sub_127BB4(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_127BFC(char *a1, char *a2)
{
  return sub_18A9C0(*a1, *a2);
}

Swift::Int sub_127C08()
{
  return sub_2996B0();
}

uint64_t sub_127C7C()
{
  sub_298A40();

  return swift_bridgeObjectRelease();
}

Swift::Int sub_127CDC()
{
  return sub_2996B0();
}

uint64_t sub_127D4C@<X0>(uint64_t *a1@<X0>, char *a2@<X8>)
{
  v8._countAndFlagsBits = *a1;
  int v3 = (void *)a1[1];
  v4._rawValue = &off_2F4658;
  v8._object = v3;
  Swift::Int v5 = sub_299520(v4, v8);
  uint64_t result = swift_bridgeObjectRelease();
  if (v5 == 1) {
    char v7 = 1;
  }
  else {
    char v7 = 2;
  }
  if (!v5) {
    char v7 = 0;
  }
  *a2 = v7;
  return result;
}

void sub_127DAC(uint64_t *a1@<X8>)
{
  uint64_t v2 = 1936287860;
  if (*v1) {
    uint64_t v2 = 6647407;
  }
  unint64_t v3 = 0xE400000000000000;
  if (*v1) {
    unint64_t v3 = 0xE300000000000000;
  }
  *a1 = v2;
  a1[1] = v3;
}

uint64_t getEnumTagSinglePayload for MediaPlayerReference(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFF) {
    goto LABEL_17;
  }
  if (a2 + 1 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 1) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 1;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 1;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 1;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 2;
  int v8 = v6 - 2;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for MediaPlayerReference(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *uint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x127F38);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

unsigned char *sub_127F60(unsigned char *result, char a2)
{
  *uint64_t result = a2 & 1;
  return result;
}

ValueMetadata *type metadata accessor for MediaPlayerReference()
{
  return &type metadata for MediaPlayerReference;
}

unint64_t sub_127F80()
{
  unint64_t result = qword_311EE0;
  if (!qword_311EE0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311EE0);
  }
  return result;
}

void sub_127FD4(void *a1@<X8>)
{
  *a1 = &off_2F46A8;
}

uint64_t sub_127FE4(uint64_t a1, uint64_t a2)
{
  unint64_t v4 = sub_128168();
  unint64_t v5 = sub_1281BC();
  unint64_t v6 = sub_128210();

  return static TerminalNodeBoundedSemanticValue<>.fromIntentNodeValue(_:)(a1, a2, v4, v5, v6);
}

unint64_t sub_12805C()
{
  unint64_t result = qword_311EE8;
  if (!qword_311EE8)
  {
    sub_60904(&qword_311EF0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311EE8);
  }
  return result;
}

unint64_t sub_1280BC()
{
  unint64_t result = qword_311EF8;
  if (!qword_311EF8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311EF8);
  }
  return result;
}

unint64_t sub_128114()
{
  unint64_t result = qword_311F00;
  if (!qword_311F00)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311F00);
  }
  return result;
}

unint64_t sub_128168()
{
  unint64_t result = qword_311F08;
  if (!qword_311F08)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311F08);
  }
  return result;
}

unint64_t sub_1281BC()
{
  unint64_t result = qword_311F10;
  if (!qword_311F10)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311F10);
  }
  return result;
}

unint64_t sub_128210()
{
  unint64_t result = qword_311F18;
  if (!qword_311F18)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_311F18);
  }
  return result;
}

uint64_t sub_128264(uint64_t a1)
{
  return *(void *)(a1 + 16);
}

id DetermineIntentHandler.__allocating_init()()
{
  id v1 = objc_allocWithZone(v0);

  return [v1 init];
}

id DetermineIntentHandler.init()()
{
  uint64_t v0 = sub_296790();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  int v3 = (char *)&v11 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_296780();
  uint64_t v4 = sub_295C80();
  uint64_t v5 = sub_295C70();
  v13[3] = v0;
  v13[4] = (uint64_t)&protocol witness table for NowPlayingProvider;
  unint64_t v6 = sub_12B48(v13);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v6, v3, v0);
  v12[3] = v4;
  v12[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v12[0] = v5;
  BOOL v7 = (objc_class *)type metadata accessor for DetermineIntentHandler();
  id v8 = objc_allocWithZone(v7);
  sub_18D5C((uint64_t)v13, (uint64_t)v8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider);
  sub_18D5C((uint64_t)v12, (uint64_t)v8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider);
  v11.receiver = v8;
  v11.super_class = v7;
  swift_retain();
  id v9 = objc_msgSendSuper2(&v11, "init");
  sub_7184((uint64_t)v12);
  sub_7184((uint64_t)v13);
  swift_release();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  swift_getObjectType();
  swift_deallocPartialClassInstance();
  return v9;
}

uint64_t type metadata accessor for DetermineIntentHandler()
{
  return self;
}

uint64_t DetermineIntentHandler.resolveNowPlayingIntentInfo(for:with:)(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v56 = a3;
  uint64_t v58 = a2;
  uint64_t v4 = sub_296140();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v59 = v4;
  uint64_t v60 = v5;
  __chkstk_darwin(v4);
  uint64_t v54 = (char *)v50 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = __chkstk_darwin(v7);
  objc_super v11 = (char *)v50 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v13 = (char *)v50 - v12;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v7, (uint64_t)qword_31FC08);
  uint64_t v52 = *(uint8_t **)(v8 + 16);
  uint64_t v53 = v14;
  ((void (*)(char *))v52)(v13);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "DetermineIntentHandler#resolveNowPlayingIntentInfo Reached logic", v17, 2u);
    swift_slowDealloc();
  }

  char v51 = *(void (**)(char *, uint64_t))(v8 + 8);
  v51(v13, v7);
  uint64_t v18 = v59;
  uint64_t v57 = swift_allocBox();
  uint64_t v20 = v19;
  uint64_t v21 = *(void (**)(uint64_t, void, uint64_t))(v60 + 104);
  v21(v19, enum case for QueuePosition.current(_:), v18);
  if ([a1 queueLocation] == (char *)&dword_0 + 2)
  {
    uint64_t v22 = v11;
    uint64_t v23 = (unsigned int *)&enum case for QueuePosition.next(_:);
  }
  else
  {
    if ([a1 queueLocation] != (char *)&dword_0 + 3) {
      goto LABEL_10;
    }
    uint64_t v22 = v11;
    uint64_t v23 = (unsigned int *)&enum case for QueuePosition.previous(_:);
  }
  uint64_t v24 = v59;
  (*(void (**)(uint64_t, uint64_t))(v60 + 8))(v20, v59);
  v21(v20, *v23, v24);
  objc_super v11 = v22;
LABEL_10:
  id v25 = [a1 targetDeviceIds];
  if (!v25)
  {
LABEL_15:
    uint64_t v34 = v55;
    sub_74A4(&v55[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider], *(void *)&v55[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider + 24]);
    uint64_t v35 = (void *)swift_allocObject();
    uint64_t v37 = v57;
    uint64_t v36 = v58;
    _OWORD v35[2] = v34;
    uint64_t v35[3] = v36;
    _OWORD v35[4] = v56;
    v35[5] = v37;
    id v38 = v34;
    swift_retain();
    swift_retain();
    sub_296A30();
    goto LABEL_18;
  }
  uint64_t v26 = v25;
  uint64_t v27 = sub_298B50();

  if (!*(void *)(v27 + 16))
  {
    swift_bridgeObjectRelease();
    goto LABEL_15;
  }
  ((void (*)(char *, uint64_t, uint64_t))v52)(v11, v53, v7);
  swift_bridgeObjectRetain_n();
  uint64_t v28 = sub_2987E0();
  os_log_type_t v29 = sub_298DA0();
  if (os_log_type_enabled(v28, v29))
  {
    uint64_t v30 = (uint8_t *)swift_slowAlloc();
    uint64_t v53 = swift_slowAlloc();
    uint64_t v62 = v53;
    uint64_t v52 = v30;
    *(_DWORD *)uint64_t v30 = 136315138;
    v50[1] = v30 + 4;
    swift_bridgeObjectRetain();
    uint64_t v31 = sub_298B60();
    unint64_t v33 = v32;
    swift_bridgeObjectRelease();
    uint64_t v61 = sub_6E98(v31, v33, &v62);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v28, v29, "DetermineIntentHandler#resolveNowPlayingIntentInfo targetDeviceIds present: %s", v52, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  v51(v11, v7);
  uint64_t v40 = v55;
  uint64_t v39 = v56;
  uint64_t v41 = swift_allocObject();
  *(void *)(v41 + 16) = _swiftEmptyArrayStorage;
  uint64_t v42 = *(void *)&v40[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider + 24];
  uint64_t v56 = *(void *)&v40[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider + 32];
  sub_74A4(&v40[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider], v42);
  uint64_t v43 = v60;
  os_log_type_t v44 = v54;
  uint64_t v45 = v20;
  uint64_t v46 = v59;
  (*(void (**)(char *, uint64_t, uint64_t))(v60 + 16))(v54, v45, v59);
  os_log_type_t v47 = (void *)swift_allocObject();
  uint64_t v47[2] = v40;
  v47[3] = v41;
  v47[4] = v58;
  v47[5] = v39;
  uint64_t v48 = v40;
  swift_retain();
  swift_retain();
  sub_296A60();
  swift_bridgeObjectRelease();
  swift_release();
  (*(void (**)(char *, uint64_t))(v43 + 8))(v44, v46);
LABEL_18:
  swift_release();
  return swift_release();
}

uint64_t sub_128B14(uint64_t a1, uint64_t a2, uint64_t a3, void (*a4)(uint64_t), uint64_t a5)
{
  v104[2] = a5;
  int v105 = a4;
  uint64_t v123 = sub_297270();
  uint64_t v165 = *(void *)(v123 - 8);
  __chkstk_darwin(v123);
  uint64_t v122 = (char *)v104 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_2962A0();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v163 = v9;
  uint64_t v164 = v10;
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v158 = (char *)v104 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v15 = (char *)v104 - v14;
  __chkstk_darwin(v13);
  dispatch_group_t v162 = (char *)v104 - v16;
  uint64_t v17 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v17 - 8);
  uint64_t v156 = (char *)v104 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v19 - 8);
  uint64_t v155 = (char *)v104 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v21 - 8);
  uint64_t v154 = (char *)v104 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v153 = sub_296130();
  uint64_t v160 = *(char **)(v153 - 8);
  __chkstk_darwin(v153);
  uint64_t v152 = (char *)v104 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v151 = sub_297280();
  uint64_t v146 = *(char **)(v151 - 8);
  __chkstk_darwin(v151);
  uint64_t v150 = (char *)v104 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v149 = sub_297210();
  uint64_t v25 = *(void *)(v149 - 8);
  __chkstk_darwin(v149);
  uint64_t v148 = (char *)v104 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v157 = sub_298800();
  uint64_t v27 = *(void *)(v157 - 8);
  uint64_t v28 = __chkstk_darwin(v157);
  uint64_t v30 = (char *)v104 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v28);
  uint64_t v121 = (char *)v104 - v31;
  uint64_t v32 = sub_296A20();
  uint64_t v33 = *(void *)(v32 - 8);
  uint64_t v34 = __chkstk_darwin(v32);
  char v120 = (char *)v104 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v34);
  uint64_t v161 = (char *)v104 - v36;
  uint64_t v147 = sub_71D4(&qword_310750);
  __chkstk_darwin(v147);
  uint64_t v39 = (char *)v104 - ((v38 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v159 = (void *)(a3 + 16);
  uint64_t v40 = *(void *)(a1 + 16);
  if (v40)
  {
    uint64_t v143 = (void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider);
    uint64_t v41 = a1 + ((*(unsigned __int8 *)(v37 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v37 + 80));
    uint64_t v142 = *(void *)(v37 + 72);
    uint64_t v119 = (void (**)(char *, char *, uint64_t))(v164 + 32);
    uint64_t v141 = (void (**)(char *, uint64_t, uint64_t))(v27 + 16);
    uint64_t v140 = (void (**)(char *, char *, uint64_t))(v164 + 16);
    unsigned __int8 v139 = (void (**)(char *, uint64_t))(v164 + 8);
    int v138 = (void (**)(char *, uint64_t))(v27 + 8);
    uint64_t v109 = &v167;
    unsigned int v137 = enum case for AdditionalMetricsDescription.ModuleName.dih(_:);
    uint64_t v136 = (void (**)(char *, void, uint64_t))(v25 + 104);
    unsigned int v135 = enum case for AdditionalMetricsDescription.SourceFunction.resNowPlayInf(_:);
    long long v134 = (void (**)(char *, void, uint64_t))(v146 + 104);
    unsigned int v118 = enum case for AdditionalMetricsDescription.StatusReason.success(_:);
    unint64_t v117 = (void (**)(char *, void, uint64_t))(v165 + 104);
    uint64_t v116 = (void (**)(char *, uint64_t))(v165 + 8);
    os_log_type_t v133 = (void (**)(char *, uint64_t))(v146 + 8);
    uint64_t v132 = (void (**)(char *, uint64_t))(v25 + 8);
    unsigned int v131 = enum case for TypeOfIntent.determine(_:);
    uint64_t v130 = (void (**)(char *, void, uint64_t))(v160 + 104);
    unsigned int v115 = enum case for ActivityType.completed(_:);
    unsigned int v114 = enum case for SiriKitReliabilityCodes.success(_:);
    uint64_t v129 = (void (**)(char *, uint64_t))(v160 + 8);
    uint64_t v113 = (void (**)(char *, char *, uint64_t))(v33 + 32);
    uint64_t v112 = (void (**)(char *, char *, uint64_t))(v33 + 16);
    long long v128 = (void (**)(char *, uint64_t))(v33 + 8);
    unsigned int v111 = enum case for ActivityType.failed(_:);
    unsigned int v110 = enum case for SiriKitReliabilityCodes.genericError(_:);
    v104[1] = a1;
    swift_bridgeObjectRetain();
    uint64_t v42 = v41;
    *(void *)&long long v43 = 136446210;
    long long v108 = v43;
    uint64_t v107 = (char *)&type metadata for Any + 8;
    *(void *)&long long v43 = 136315138;
    long long v106 = v43;
    uint64_t v44 = v163;
    uint64_t v146 = v15;
    uint64_t v45 = v157;
    uint64_t v160 = v30;
    uint64_t v145 = v32;
    uint64_t v144 = v39;
    uint64_t v46 = (uint64_t)v158;
    do
    {
      uint64_t v164 = v42;
      sub_12C8E8(v42, (uint64_t)v39);
      int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
      uint64_t v165 = v40;
      if (EnumCaseMultiPayload == 1)
      {
        uint64_t v65 = v161;
        (*v113)(v161, v39, v32);
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v66 = sub_6E60(v45, (uint64_t)qword_31FC08);
        uint64_t v67 = v121;
        (*v141)(v121, v66, v45);
        uint64_t v68 = v120;
        (*v112)(v120, v65, v32);
        uint64_t v69 = sub_2987E0();
        os_log_type_t v70 = sub_298DA0();
        if (os_log_type_enabled(v69, v70))
        {
          uint64_t v71 = swift_slowAlloc();
          uint64_t v167 = swift_slowAlloc();
          *(_DWORD *)uint64_t v71 = v108;
          sub_12C950();
          uint64_t v72 = sub_299620();
          *(void *)(v71 + 4) = sub_6E98(v72, v73, &v167);
          swift_bridgeObjectRelease();
          (*v128)(v68, v32);
          _os_log_impl(&dword_0, v69, v70, "DetermineIntentHandler#resolveNowPlayingIntentInfo failure with error in WHA use case: %{public}s", (uint8_t *)v71, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();
        }
        else
        {
          (*v128)(v68, v32);
        }

        (*v138)(v67, v45);
        os_log_type_t v47 = v148;
        uint64_t v48 = v149;
        (*v136)(v148, v137, v149);
        unint64_t v50 = v150;
        uint64_t v49 = v151;
        (*v134)(v150, v135, v151);
        sub_12C950();
        sub_299620();
        uint64_t v127 = (void (*)(char *, uint64_t))sub_297230();
        swift_bridgeObjectRelease();
        (*v133)(v50, v49);
        (*v132)(v47, v48);
        uint64_t v51 = v143[3];
        id v126 = (id)v143[4];
        sub_74A4(v143, v51);
        uint64_t v53 = v152;
        uint64_t v52 = v153;
        (*v130)(v152, v131, v153);
        uint64_t v54 = sub_2944C0();
        uint64_t v55 = *(void *)(v54 - 8);
        uint64_t v56 = (uint64_t)v154;
        (*(void (**)(char *, void, uint64_t))(v55 + 104))(v154, v111, v54);
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v55 + 56))(v56, 0, 1, v54);
        uint64_t v57 = sub_2949F0();
        uint64_t v58 = (uint64_t)v155;
        (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v57 - 8) + 56))(v155, 1, 1, v57);
        uint64_t v59 = sub_294170();
        uint64_t v60 = *(void *)(v59 - 8);
        uint64_t v61 = (uint64_t)v156;
        (*(void (**)(char *, void, uint64_t))(v60 + 104))(v156, v110, v59);
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v60 + 56))(v61, 0, 1, v59);
        sub_295CA0();
        swift_bridgeObjectRelease();
        sub_23A44(v61, &qword_30D5B8);
        sub_23A44(v58, (uint64_t *)&unk_30FA50);
        sub_23A44(v56, &qword_30D5C0);
        (*v129)(v53, v52);
        type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
        static DetermineNowPlayingIntentInfoResolutionResult.unsupported(forReason:)(1);
        uint64_t v62 = v159;
        swift_beginAccess();
        sub_298B30();
        if (*(void *)((char *)&dword_10 + (*v62 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                        + (*v62 & 0xFFFFFFFFFFFFFF8)) >> 1)
          sub_298B80();
        sub_298BB0();
        sub_298B70();
        swift_endAccess();
        uint64_t v32 = v145;
        (*v128)(v161, v145);
        uint64_t v44 = v163;
        uint64_t v30 = v160;
        uint64_t v39 = v144;
        uint64_t v63 = v165;
        uint64_t v46 = (uint64_t)v158;
      }
      else
      {
        uint64_t v74 = v162;
        (*v119)(v162, v39, v44);
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v75 = sub_6E60(v45, (uint64_t)qword_31FC08);
        (*v141)(v30, v75, v45);
        uint64_t v76 = *v140;
        (*v140)(v15, v74, v44);
        long long v77 = sub_2987E0();
        os_log_type_t v78 = sub_298DA0();
        if (os_log_type_enabled(v77, v78))
        {
          uint64_t v79 = v15;
          uint64_t v80 = (uint8_t *)swift_slowAlloc();
          uint64_t v167 = swift_slowAlloc();
          *(_DWORD *)uint64_t v80 = v106;
          uint64_t v127 = (void (*)(char *, uint64_t))(v80 + 4);
          v76((char *)v46, v79, v44);
          uint64_t v81 = sub_2989E0();
          uint64_t v166 = sub_6E98(v81, v82, &v167);
          sub_2992C0();
          uint64_t v44 = v163;
          swift_bridgeObjectRelease();
          uint64_t v74 = v162;
          uint64_t v127 = *v139;
          v127(v79, v44);
          _os_log_impl(&dword_0, v77, v78, "DetermineIntentHandler#resolveNowPlayingIntentInfo got back nowPlayingInfo in WHA use case: %s", v80, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*v138)(v160, v45);
        }
        else
        {
          uint64_t v127 = *v139;
          v127(v15, v44);

          (*v138)(v30, v45);
        }
        type metadata accessor for NowPlayingIntentInfo();
        v76((char *)v46, v74, v44);
        id v83 = sub_99D34(v46);
        type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
        id v126 = v83;
        static NowPlayingIntentInfoResolutionResult.success(with:)((uint64_t)v83);
        id v84 = v159;
        swift_beginAccess();
        sub_298B30();
        if (*(void *)((char *)&dword_10 + (*v84 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                        + (*v84 & 0xFFFFFFFFFFFFFF8)) >> 1)
          sub_298B80();
        sub_298BB0();
        sub_298B70();
        swift_endAccess();
        uint64_t v85 = v148;
        uint64_t v86 = v149;
        (*v136)(v148, v137, v149);
        uint64_t v88 = v150;
        uint64_t v87 = v151;
        (*v134)(v150, v135, v151);
        unint64_t v89 = v122;
        uint64_t v90 = v123;
        (*v117)(v122, v118, v123);
        uint64_t v125 = sub_297220();
        (*v116)(v89, v90);
        (*v133)(v88, v87);
        (*v132)(v85, v86);
        uint64_t v91 = v143[3];
        uint64_t v124 = v143[4];
        sub_74A4(v143, v91);
        uint64_t v92 = v152;
        uint64_t v93 = v153;
        (*v130)(v152, v131, v153);
        uint64_t v94 = sub_2944C0();
        uint64_t v95 = *(void *)(v94 - 8);
        uint64_t v96 = (uint64_t)v154;
        (*(void (**)(char *, void, uint64_t))(v95 + 104))(v154, v115, v94);
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v95 + 56))(v96, 0, 1, v94);
        uint64_t v97 = sub_2949F0();
        uint64_t v98 = (uint64_t)v155;
        (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v97 - 8) + 56))(v155, 1, 1, v97);
        uint64_t v99 = sub_294170();
        uint64_t v100 = *(void *)(v99 - 8);
        uint64_t v101 = (uint64_t)v156;
        (*(void (**)(char *, void, uint64_t))(v100 + 104))(v156, v114, v99);
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v100 + 56))(v101, 0, 1, v99);
        sub_295CA0();

        swift_bridgeObjectRelease();
        sub_23A44(v101, &qword_30D5B8);
        sub_23A44(v98, (uint64_t *)&unk_30FA50);
        sub_23A44(v96, &qword_30D5C0);
        (*v129)(v92, v93);
        uint64_t v44 = v163;
        v127(v162, v163);
        uint64_t v46 = (uint64_t)v158;
        uint64_t v30 = v160;
        uint64_t v32 = v145;
        uint64_t v39 = v144;
        uint64_t v63 = v165;
      }
      uint64_t v42 = v164 + v142;
      uint64_t v40 = v63 - 1;
      uint64_t v15 = v146;
      uint64_t v45 = v157;
    }
    while (v40);
    swift_bridgeObjectRelease();
  }
  swift_beginAccess();
  uint64_t v102 = swift_bridgeObjectRetain();
  v105(v102);
  return swift_bridgeObjectRelease();
}

uint64_t sub_12A010(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, char *a8, void (*a9)(void), uint64_t a10)
{
  uint64_t v95 = a8;
  uint64_t v84 = a7;
  uint64_t v83 = a3;
  uint64_t v96 = a9;
  uint64_t v97 = a10;
  uint64_t v11 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v11 - 8);
  uint64_t v94 = (char *)&v80 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v13 - 8);
  uint64_t v93 = (char *)&v80 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v15 - 8);
  uint64_t v92 = (char *)&v80 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v98 = sub_296130();
  uint64_t v91 = *(void *)(v98 - 8);
  __chkstk_darwin(v98);
  uint64_t v90 = (char *)&v80 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_297270();
  uint64_t v88 = *(void *)(v18 - 8);
  uint64_t v89 = v18;
  __chkstk_darwin(v18);
  uint64_t v20 = (char *)&v80 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_297280();
  uint64_t v86 = *(void *)(v21 - 8);
  uint64_t v87 = v21;
  __chkstk_darwin(v21);
  uint64_t v23 = (char *)&v80 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v85 = sub_297210();
  uint64_t v24 = *(void *)(v85 - 8);
  __chkstk_darwin(v85);
  uint64_t v26 = (char *)&v80 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v82 = sub_296140();
  uint64_t v81 = *(void *)(v82 - 8);
  __chkstk_darwin(v82);
  uint64_t v80 = (char *)&v80 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v32 = (char *)&v80 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v30);
  uint64_t v34 = (char *)&v80 - v33;
  uint64_t v35 = swift_projectBox();
  if (a4 && !v84)
  {
    unint64_t v62 = a4;
    uint64_t v98 = v35;
    uint64_t v63 = qword_30C848;
    unint64_t v64 = a4;
    swift_bridgeObjectRetain();
    if (v63 != -1) {
      swift_once();
    }
    uint64_t v65 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v34, v65, v28);
    swift_bridgeObjectRetain_n();
    uint64_t v66 = sub_2987E0();
    os_log_type_t v67 = sub_298DA0();
    BOOL v68 = os_log_type_enabled(v66, v67);
    uint64_t v69 = v97;
    if (v68)
    {
      os_log_type_t v70 = (uint8_t *)swift_slowAlloc();
      v100[0] = swift_slowAlloc();
      *(_DWORD *)os_log_type_t v70 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v99 = sub_6E98(v83, v62, v100);
      unint64_t v64 = v62;
      uint64_t v69 = v97;
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v66, v67, "DetermineIntentHandler#resolveNowPlayingIntentInfo got back bundleId: %s", v70, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v29 + 8))(v34, v28);
    uint64_t v71 = v95;
    sub_18D5C((uint64_t)&v95[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_nowPlayingProvider], (uint64_t)v100);
    sub_74A4(v100, v100[3]);
    uint64_t v72 = v98;
    swift_beginAccess();
    uint64_t v73 = v81;
    uint64_t v74 = v80;
    uint64_t v75 = v82;
    (*(void (**)(char *, uint64_t, uint64_t))(v81 + 16))(v80, v72, v82);
    uint64_t v76 = (void *)swift_allocObject();
    long long v77 = v96;
    v76[2] = v71;
    v76[3] = v77;
    uint64_t v78 = v83;
    v76[4] = v69;
    v76[5] = v78;
    v76[6] = v64;
    id v79 = v71;
    swift_retain();
    sub_296A50();
    swift_release();
    (*(void (**)(char *, uint64_t))(v73 + 8))(v74, v75);
    return sub_7184((uint64_t)v100);
  }
  else
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v36 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v32, v36, v28);
    uint64_t v37 = sub_2987E0();
    os_log_type_t v38 = sub_298DB0();
    if (os_log_type_enabled(v37, v38))
    {
      uint64_t v39 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v39 = 0;
      _os_log_impl(&dword_0, v37, v38, "DetermineIntent#resolveNowPlayingIntentInfo failed to get bundleId for now playing app", v39, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v32, v28);
    uint64_t v40 = v85;
    (*(void (**)(char *, void, uint64_t))(v24 + 104))(v26, enum case for AdditionalMetricsDescription.ModuleName.dih(_:), v85);
    uint64_t v42 = v86;
    uint64_t v41 = v87;
    (*(void (**)(char *, void, uint64_t))(v86 + 104))(v23, enum case for AdditionalMetricsDescription.SourceFunction.resNowPlayInf(_:), v87);
    uint64_t v44 = v88;
    uint64_t v43 = v89;
    (*(void (**)(char *, void, uint64_t))(v88 + 104))(v20, enum case for AdditionalMetricsDescription.StatusReason.unknown(_:), v89);
    uint64_t v84 = sub_297220();
    uint64_t v83 = v45;
    (*(void (**)(char *, uint64_t))(v44 + 8))(v20, v43);
    (*(void (**)(char *, uint64_t))(v42 + 8))(v23, v41);
    (*(void (**)(char *, uint64_t))(v24 + 8))(v26, v40);
    uint64_t v46 = &v95[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider];
    uint64_t v47 = *(void *)&v95[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                        + 24];
    uint64_t v95 = *(char **)&v95[OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                       + 32];
    sub_74A4(v46, v47);
    uint64_t v48 = v90;
    uint64_t v49 = v91;
    (*(void (**)(char *, void, uint64_t))(v91 + 104))(v90, enum case for TypeOfIntent.determine(_:), v98);
    uint64_t v50 = enum case for ActivityType.failed(_:);
    uint64_t v51 = sub_2944C0();
    uint64_t v52 = *(void *)(v51 - 8);
    uint64_t v53 = (uint64_t)v92;
    (*(void (**)(char *, uint64_t, uint64_t))(v52 + 104))(v92, v50, v51);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v52 + 56))(v53, 0, 1, v51);
    uint64_t v54 = sub_2949F0();
    uint64_t v55 = (uint64_t)v93;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v54 - 8) + 56))(v93, 1, 1, v54);
    uint64_t v56 = enum case for SiriKitReliabilityCodes.genericError(_:);
    uint64_t v57 = sub_294170();
    uint64_t v58 = *(void *)(v57 - 8);
    uint64_t v59 = (uint64_t)v94;
    (*(void (**)(char *, uint64_t, uint64_t))(v58 + 104))(v94, v56, v57);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v58 + 56))(v59, 0, 1, v57);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v59, &qword_30D5B8);
    sub_23A44(v55, (uint64_t *)&unk_30FA50);
    sub_23A44(v53, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v49 + 8))(v48, v98);
    sub_296980();
    sub_296900();
    sub_71D4(&qword_3107B0);
    uint64_t v60 = swift_allocObject();
    *(_OWORD *)(v60 + 16) = xmmword_29A8D0;
    type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
    *(void *)(v60 + 32) = static DetermineNowPlayingIntentInfoResolutionResult.unsupported(forReason:)(2);
    v100[0] = v60;
    sub_298B70();
    v96(v100[0]);
    return swift_bridgeObjectRelease();
  }
}

uint64_t sub_12ABF4(void *a1, uint64_t a2, void (*a3)(uint64_t), uint64_t a4, uint64_t a5, unint64_t a6)
{
  unint64_t v107 = a6;
  uint64_t v113 = a5;
  uint64_t v127 = a4;
  long long v128 = a3;
  uint64_t v121 = a2;
  id v111 = a1;
  uint64_t v110 = sub_297270();
  uint64_t v109 = *(void *)(v110 - 8);
  __chkstk_darwin(v110);
  long long v108 = (char *)&v104 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_2962A0();
  uint64_t v120 = *(void *)(v7 - 8);
  uint64_t v8 = __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v104 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v104 - v11;
  uint64_t v13 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v13 - 8);
  id v126 = (char *)&v104 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v15 - 8);
  uint64_t v125 = (char *)&v104 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v17 - 8);
  uint64_t v123 = (char *)&v104 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v130 = sub_296130();
  uint64_t v124 = *(void *)(v130 - 8);
  __chkstk_darwin(v130);
  uint64_t v122 = (char *)&v104 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_297280();
  uint64_t v118 = *(void *)(v20 - 8);
  uint64_t v119 = v20;
  __chkstk_darwin(v20);
  unsigned int v115 = (char *)&v104 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_297210();
  uint64_t v116 = *(void *)(v22 - 8);
  uint64_t v117 = v22;
  __chkstk_darwin(v22);
  unsigned int v114 = (char *)&v104 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v112 = sub_298800();
  uint64_t v129 = *(void *)(v112 - 8);
  uint64_t v24 = __chkstk_darwin(v112);
  uint64_t v26 = (char *)&v104 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v24);
  uint64_t v28 = (char *)&v104 - v27;
  uint64_t v29 = sub_296A20();
  uint64_t v30 = *(void *)(v29 - 8);
  __chkstk_darwin(v29);
  uint64_t v32 = (char *)&v104 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = sub_71D4(&qword_310750);
  __chkstk_darwin(v33);
  uint64_t v35 = (char *)&v104 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_12C8E8((uint64_t)v111, (uint64_t)v35);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    (*(void (**)(char *, char *, uint64_t))(v30 + 32))(v32, v35, v29);
    sub_12C950();
    uint64_t v36 = sub_299620();
    unint64_t v38 = v37;
    if (qword_30C848 != -1) {
      swift_once();
    }
    id v111 = v32;
    uint64_t v113 = v30;
    uint64_t v120 = v29;
    uint64_t v39 = v112;
    uint64_t v40 = sub_6E60(v112, (uint64_t)qword_31FC08);
    uint64_t v41 = v129;
    (*(void (**)(char *, uint64_t, uint64_t))(v129 + 16))(v28, v40, v39);
    swift_bridgeObjectRetain_n();
    uint64_t v42 = sub_2987E0();
    os_log_type_t v43 = sub_298DA0();
    if (os_log_type_enabled(v42, v43))
    {
      uint64_t v44 = (uint8_t *)swift_slowAlloc();
      v132[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v44 = 136446210;
      swift_bridgeObjectRetain();
      uint64_t v131 = sub_6E98(v36, v38, v132);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v42, v43, "DetermineIntentHandler#resolveNowPlayingIntentInfo failure with error: %{public}s", v44, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v129 + 8))(v28, v39);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      (*(void (**)(char *, uint64_t))(v41 + 8))(v28, v39);
    }
    uint64_t v55 = v116;
    uint64_t v54 = v117;
    uint64_t v56 = v114;
    (*(void (**)(char *, void, uint64_t))(v116 + 104))(v114, enum case for AdditionalMetricsDescription.ModuleName.dih(_:), v117);
    uint64_t v58 = v118;
    uint64_t v57 = v119;
    uint64_t v59 = v115;
    (*(void (**)(char *, void, uint64_t))(v118 + 104))(v115, enum case for AdditionalMetricsDescription.SourceFunction.resNowPlayInf(_:), v119);
    uint64_t v129 = sub_297230();
    uint64_t v112 = v60;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v58 + 8))(v59, v57);
    (*(void (**)(char *, uint64_t))(v55 + 8))(v56, v54);
    uint64_t v61 = (void *)(v121 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider);
    uint64_t v62 = *(void *)(v121
                    + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                    + 24);
    uint64_t v121 = *(void *)(v121
                     + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                     + 32);
    sub_74A4(v61, v62);
    uint64_t v63 = v124;
    unint64_t v64 = v122;
    (*(void (**)(char *, void, uint64_t))(v124 + 104))(v122, enum case for TypeOfIntent.determine(_:), v130);
    uint64_t v65 = enum case for ActivityType.failed(_:);
    uint64_t v66 = sub_2944C0();
    uint64_t v67 = *(void *)(v66 - 8);
    uint64_t v68 = (uint64_t)v123;
    (*(void (**)(char *, uint64_t, uint64_t))(v67 + 104))(v123, v65, v66);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v67 + 56))(v68, 0, 1, v66);
    uint64_t v69 = sub_2949F0();
    uint64_t v70 = (uint64_t)v125;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v69 - 8) + 56))(v125, 1, 1, v69);
    uint64_t v71 = enum case for SiriKitReliabilityCodes.genericError(_:);
    uint64_t v72 = sub_294170();
    uint64_t v73 = *(void *)(v72 - 8);
    uint64_t v74 = (uint64_t)v126;
    (*(void (**)(char *, uint64_t, uint64_t))(v73 + 104))(v126, v71, v72);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v73 + 56))(v74, 0, 1, v72);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v74, &qword_30D5B8);
    sub_23A44(v70, (uint64_t *)&unk_30FA50);
    sub_23A44(v68, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v63 + 8))(v64, v130);
    sub_296980();
    sub_296900();
    sub_71D4(&qword_3107B0);
    uint64_t v75 = swift_allocObject();
    *(_OWORD *)(v75 + 16) = xmmword_29A8D0;
    type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
    *(void *)(v75 + 32) = static DetermineNowPlayingIntentInfoResolutionResult.unsupported(forReason:)(3);
    v132[0] = v75;
    sub_298B70();
    v128(v132[0]);
    swift_bridgeObjectRelease();
    return (*(uint64_t (**)(id, uint64_t))(v113 + 8))(v111, v120);
  }
  else
  {
    uint64_t v45 = v120;
    (*(void (**)(char *, char *, uint64_t))(v120 + 32))(v12, v35, v7);
    type metadata accessor for NowPlayingIntentInfo();
    uint64_t v46 = *(void (**)(char *, char *))(v45 + 16);
    uint64_t v106 = v7;
    v46(v10, v12);
    id v111 = sub_99D34((uint64_t)v10);
    if (qword_30C848 != -1) {
      swift_once();
    }
    int v105 = v12;
    uint64_t v47 = v112;
    uint64_t v48 = sub_6E60(v112, (uint64_t)qword_31FC08);
    uint64_t v49 = v129;
    (*(void (**)(char *, uint64_t, uint64_t))(v129 + 16))(v26, v48, v47);
    unint64_t v50 = v107;
    swift_bridgeObjectRetain_n();
    uint64_t v51 = sub_2987E0();
    os_log_type_t v52 = sub_298DA0();
    if (os_log_type_enabled(v51, v52))
    {
      uint64_t v53 = (uint8_t *)swift_slowAlloc();
      v132[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v53 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v131 = sub_6E98(v113, v50, v132);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v51, v52, "DetermineIntentHandler#resolveNowPlayingIntentInfo got back bundleId: %s", v53, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    (*(void (**)(char *, uint64_t))(v49 + 8))(v26, v47);
    NSString v77 = sub_2989B0();
    [v111 setAppBundleId:v77];

    uint64_t v79 = v116;
    uint64_t v78 = v117;
    uint64_t v80 = v114;
    (*(void (**)(char *, void, uint64_t))(v116 + 104))(v114, enum case for AdditionalMetricsDescription.ModuleName.dih(_:), v117);
    uint64_t v82 = v118;
    uint64_t v81 = v119;
    uint64_t v83 = v115;
    (*(void (**)(char *, void, uint64_t))(v118 + 104))(v115, enum case for AdditionalMetricsDescription.SourceFunction.resNowPlayInf(_:), v119);
    uint64_t v84 = v109;
    uint64_t v85 = v108;
    uint64_t v86 = v110;
    (*(void (**)(char *, void, uint64_t))(v109 + 104))(v108, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v110);
    uint64_t v129 = sub_297220();
    uint64_t v113 = v87;
    (*(void (**)(char *, uint64_t))(v84 + 8))(v85, v86);
    (*(void (**)(char *, uint64_t))(v82 + 8))(v83, v81);
    (*(void (**)(char *, uint64_t))(v79 + 8))(v80, v78);
    uint64_t v88 = (void *)(v121 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider);
    uint64_t v89 = *(void *)(v121
                    + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                    + 24);
    uint64_t v121 = *(void *)(v121
                     + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DetermineIntentHandler_siriKitTaskLoggingProvider
                     + 32);
    sub_74A4(v88, v89);
    uint64_t v90 = v124;
    uint64_t v91 = v122;
    (*(void (**)(char *, void, uint64_t))(v124 + 104))(v122, enum case for TypeOfIntent.determine(_:), v130);
    uint64_t v92 = enum case for ActivityType.completed(_:);
    uint64_t v93 = sub_2944C0();
    uint64_t v94 = *(void *)(v93 - 8);
    uint64_t v95 = (uint64_t)v123;
    (*(void (**)(char *, uint64_t, uint64_t))(v94 + 104))(v123, v92, v93);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v94 + 56))(v95, 0, 1, v93);
    uint64_t v96 = sub_2949F0();
    uint64_t v97 = (uint64_t)v125;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v96 - 8) + 56))(v125, 1, 1, v96);
    uint64_t v98 = enum case for SiriKitReliabilityCodes.success(_:);
    uint64_t v99 = sub_294170();
    uint64_t v100 = *(void *)(v99 - 8);
    uint64_t v101 = (uint64_t)v126;
    (*(void (**)(char *, uint64_t, uint64_t))(v100 + 104))(v126, v98, v99);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v100 + 56))(v101, 0, 1, v99);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v101, &qword_30D5B8);
    sub_23A44(v97, (uint64_t *)&unk_30FA50);
    sub_23A44(v95, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v90 + 8))(v91, v130);
    sub_71D4(&qword_3107B0);
    uint64_t v102 = swift_allocObject();
    *(_OWORD *)(v102 + 16) = xmmword_29A8D0;
    type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
    id v103 = v111;
    *(void *)(v102 + 32) = static NowPlayingIntentInfoResolutionResult.success(with:)((uint64_t)v111);
    v132[0] = v102;
    sub_298B70();
    v128(v132[0]);

    swift_bridgeObjectRelease();
    return (*(uint64_t (**)(char *, uint64_t))(v120 + 8))(v105, v106);
  }
}

void sub_12BDB8(uint64_t a1, uint64_t a2)
{
  type metadata accessor for DetermineNowPlayingIntentInfoResolutionResult();
  Class isa = sub_298B40().super.isa;
  (*(void (**)(uint64_t, objc_class *))(a2 + 16))(a2, isa);
}

void DetermineIntentHandler.confirm(intent:completion:)(uint64_t a1, void (*a2)(char *))
{
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v7 = sub_6E60(v3, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, v7, v3);
  uint64_t v8 = sub_2987E0();
  os_log_type_t v9 = sub_298DA0();
  if (os_log_type_enabled(v8, v9))
  {
    uint64_t v10 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v10 = 0;
    _os_log_impl(&dword_0, v8, v9, "DetermineIntentHandler#confirm", v10, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  uint64_t v11 = (char *)[objc_allocWithZone((Class)type metadata accessor for DetermineIntentResponse()) init];
  uint64_t v12 = &v11[OBJC_IVAR___DetermineIntentResponse_code];
  swift_beginAccess();
  *(void *)uint64_t v12 = 1;
  [v11 setUserActivity:0];
  a2(v11);
}

void DetermineIntentHandler.handle(intent:completion:)(uint64_t a1, void (*a2)(char *))
{
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v7 = sub_6E60(v3, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, v7, v3);
  uint64_t v8 = sub_2987E0();
  os_log_type_t v9 = sub_298DA0();
  if (os_log_type_enabled(v8, v9))
  {
    uint64_t v10 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v10 = 0;
    _os_log_impl(&dword_0, v8, v9, "DetermineIntentHandler#handle Reached logic", v10, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  uint64_t v11 = (char *)[objc_allocWithZone((Class)type metadata accessor for DetermineIntentResponse()) init];
  uint64_t v12 = &v11[OBJC_IVAR___DetermineIntentResponse_code];
  swift_beginAccess();
  *(void *)uint64_t v12 = 4;
  [v11 setUserActivity:0];
  a2(v11);
}

void sub_12C274(void *a1, int a2, void *a3, void *aBlock, void (*a5)(void *))
{
  uint64_t v8 = _Block_copy(aBlock);
  _Block_copy(v8);
  id v9 = a3;
  id v10 = a1;
  a5(v8);
  _Block_release(v8);
  _Block_release(v8);
}

id DetermineIntentHandler.__deallocating_deinit()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for DetermineIntentHandler();
  return objc_msgSendSuper2(&v2, "dealloc");
}

uint64_t sub_12C380()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_12C3C8(uint64_t a1, uint64_t a2, uint64_t a3, unint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  return sub_12A010(a1, a2, a3, a4, a5, a6, a7, *(char **)(v7 + 16), *(void (**)(void))(v7 + 24), *(void *)(v7 + 32));
}

uint64_t sub_12C3FC()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_12C434()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_12C47C(uint64_t a1)
{
  return sub_128B14(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(void (**)(uint64_t))(v1 + 32), *(void *)(v1 + 40));
}

void sub_12C488(uint64_t a1)
{
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v12 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_6E60(v2, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  uint64_t v7 = sub_2987E0();
  os_log_type_t v8 = sub_298DA0();
  if (os_log_type_enabled(v7, v8))
  {
    id v9 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v9 = 0;
    _os_log_impl(&dword_0, v7, v8, "DetermineIntentHandler#confirm", v9, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  id v10 = (char *)[objc_allocWithZone((Class)type metadata accessor for DetermineIntentResponse()) init];
  uint64_t v11 = &v10[OBJC_IVAR___DetermineIntentResponse_code];
  swift_beginAccess();
  *(void *)uint64_t v11 = 1;
  [v10 setUserActivity:0];
  (*(void (**)(uint64_t, char *))(a1 + 16))(a1, v10);
}

void sub_12C698(uint64_t a1)
{
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v12 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_6E60(v2, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, v6, v2);
  uint64_t v7 = sub_2987E0();
  os_log_type_t v8 = sub_298DA0();
  if (os_log_type_enabled(v7, v8))
  {
    id v9 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v9 = 0;
    _os_log_impl(&dword_0, v7, v8, "DetermineIntentHandler#handle Reached logic", v9, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  id v10 = (char *)[objc_allocWithZone((Class)type metadata accessor for DetermineIntentResponse()) init];
  uint64_t v11 = &v10[OBJC_IVAR___DetermineIntentResponse_code];
  swift_beginAccess();
  *(void *)uint64_t v11 = 4;
  [v10 setUserActivity:0];
  (*(void (**)(uint64_t, char *))(a1 + 16))(a1, v10);
}

uint64_t sub_12C8A8()
{
  _Block_release(*(const void **)(v0 + 16));

  return _swift_deallocObject(v0, 24, 7);
}

void sub_12C8E0(uint64_t a1)
{
  sub_12BDB8(a1, *(void *)(v1 + 16));
}

uint64_t sub_12C8E8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_310750);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

unint64_t sub_12C950()
{
  unint64_t result = qword_310758;
  if (!qword_310758)
  {
    sub_296A20();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_310758);
  }
  return result;
}

uint64_t sub_12C9A8()
{
  swift_release();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_12C9F0(void *a1)
{
  return sub_12ABF4(a1, *(void *)(v1 + 16), *(void (**)(uint64_t))(v1 + 24), *(void *)(v1 + 32), *(void *)(v1 + 40), *(void *)(v1 + 48));
}

id Parse.getSiriKitIntent(nowPlayingProvider:featureFlags:)(void *a1, uint64_t a2)
{
  uint64_t v3 = v2;
  v341 = a1;
  uint64_t v342 = a2;
  uint64_t v346 = sub_297C00();
  v354 = *(uint8_t **)(v346 - 8);
  __chkstk_darwin(v346);
  v326 = (char *)&v304 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v347 = sub_71D4(&qword_30DD98);
  uint64_t v5 = __chkstk_darwin(v347);
  uint64_t v339 = (uint64_t)&v304 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  v338 = (char *)&v304 - v7;
  uint64_t v8 = sub_71D4(&qword_30DDA0);
  uint64_t v9 = __chkstk_darwin(v8 - 8);
  v334 = (char *)&v304 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v335 = (uint64_t)&v304 - v12;
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v336 = (uint64_t)&v304 - v14;
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v331 = (uint64_t)&v304 - v16;
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v343 = (uint64_t)&v304 - v18;
  __chkstk_darwin(v17);
  uint64_t v344 = (uint64_t)&v304 - v19;
  uint64_t v20 = sub_71D4(&qword_30DC90);
  __chkstk_darwin(v20 - 8);
  v351 = (void (*)(uint64_t, uint64_t, uint64_t, uint64_t))((char *)&v304 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v353 = type metadata accessor for AudioNLv3Intent();
  unint64_t v350 = *(void *)(v353 - 8);
  uint64_t v22 = __chkstk_darwin(v353);
  v332 = (char *)&v304 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = __chkstk_darwin(v22);
  uint64_t v345 = (uint64_t)&v304 - v25;
  __chkstk_darwin(v24);
  v355 = (uint64_t *)((char *)&v304 - v26);
  uint64_t v27 = (uint8_t *)sub_295870();
  v362 = (void (**)(void, void, void))*((void *)v27 - 1);
  uint64_t v28 = __chkstk_darwin(v27);
  v349 = (char *)&v304 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v28);
  uint64_t v31 = (char *)&v304 - v30;
  uint64_t v32 = sub_2950C0();
  uint64_t v329 = *(void *)(v32 - 8);
  v330 = (char *)v32;
  __chkstk_darwin(v32);
  v328 = (char *)&v304 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = sub_71D4((uint64_t *)&unk_313880);
  uint64_t v35 = __chkstk_darwin(v34 - 8);
  v320 = (char *)&v304 - ((v36 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v35);
  v315 = (char *)&v304 - v37;
  uint64_t v38 = sub_295220();
  uint64_t v313 = *(void *)(v38 - 8);
  uint64_t v314 = v38;
  __chkstk_darwin(v38);
  v312 = (char *)&v304 - ((v39 + 15) & 0xFFFFFFFFFFFFFFF0);
  v324 = (uint8_t *)sub_2952B0();
  uint64_t v327 = *((void *)v324 - 1);
  __chkstk_darwin(v324);
  v311 = (char *)&v304 - ((v40 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v41 = sub_298800();
  uint64_t v363 = *(void *)(v41 - 8);
  uint64_t v364 = v41;
  uint64_t v42 = __chkstk_darwin(v41);
  v348 = (char *)&v304 - ((v43 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v44 = __chkstk_darwin(v42);
  v319 = (char *)&v304 - v45;
  uint64_t v46 = __chkstk_darwin(v44);
  v325 = (char *)&v304 - v47;
  uint64_t v48 = __chkstk_darwin(v46);
  v316 = (char *)&v304 - v49;
  uint64_t v50 = __chkstk_darwin(v48);
  v337 = (char *)&v304 - v51;
  uint64_t v52 = __chkstk_darwin(v50);
  v333 = (char *)&v304 - v53;
  uint64_t v54 = __chkstk_darwin(v52);
  uint64_t v56 = (char *)&v304 - v55;
  uint64_t v57 = __chkstk_darwin(v54);
  v307 = (char *)&v304 - v58;
  uint64_t v59 = __chkstk_darwin(v57);
  v310 = (char *)&v304 - v60;
  uint64_t v61 = __chkstk_darwin(v59);
  v309 = (char *)&v304 - v62;
  uint64_t v63 = __chkstk_darwin(v61);
  v323 = (char *)&v304 - v64;
  uint64_t v65 = __chkstk_darwin(v63);
  v308 = (char *)&v304 - v66;
  uint64_t v67 = __chkstk_darwin(v65);
  v305 = (char *)&v304 - v68;
  uint64_t v69 = __chkstk_darwin(v67);
  v306 = (char *)&v304 - v70;
  __chkstk_darwin(v69);
  v317 = (char *)&v304 - v71;
  v322 = (void (*)(char *, uint64_t))sub_2951A0();
  uint64_t v318 = *((void *)v322 - 1);
  uint64_t v72 = __chkstk_darwin(v322);
  uint64_t v74 = (char *)&v304 - ((v73 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v72);
  v321 = (char *)&v304 - v75;
  uint64_t v76 = sub_295120();
  uint64_t v77 = *(void *)(v76 - 8);
  uint64_t v78 = __chkstk_darwin(v76);
  v340 = (char *)&v304 - ((v79 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = __chkstk_darwin(v78);
  uint64_t v82 = (char *)&v304 - v81;
  uint64_t v83 = __chkstk_darwin(v80);
  uint64_t v85 = (char *)&v304 - v84;
  uint64_t v86 = __chkstk_darwin(v83);
  v352 = (char *)&v304 - v87;
  __chkstk_darwin(v86);
  uint64_t v89 = (void **)((char *)&v304 - v88);
  uint64_t v90 = *(void (**)(char *, uint8_t *, uint64_t))(v77 + 16);
  v360 = (uint8_t *)v3;
  uint64_t v91 = v3;
  uint64_t v93 = v92;
  v357 = v90;
  uint64_t v358 = v77 + 16;
  v90((char *)&v304 - v88, (uint8_t *)v91, v92);
  int v94 = (*(uint64_t (**)(void **, uint64_t))(v77 + 88))(v89, v93);
  uint64_t v359 = v93;
  v361 = v27;
  uint64_t v356 = v77;
  if (v94 == enum case for Parse.NLv3IntentOnly(_:))
  {
    (*(void (**)(void **, uint64_t))(v77 + 96))(v89, v93);
    uint64_t v95 = v362;
    ((void (**)(char *, void **, uint8_t *))v362)[4](v31, v89, v27);
    uint64_t v96 = v27;
    uint64_t v97 = v95;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v98 = v364;
    uint64_t v99 = sub_6E60(v364, (uint64_t)qword_31FC08);
    uint64_t v100 = v363;
    uint64_t v101 = *(char **)(v363 + 16);
    uint64_t v327 = v99;
    v328 = v101;
    uint64_t v329 = v363 + 16;
    ((void (*)(char *))v101)(v56);
    uint64_t v102 = (void (*)(char *, char *, uint8_t *))v95[2];
    id v103 = v349;
    v330 = v31;
    v102(v349, v31, v96);
    uint64_t v104 = sub_2987E0();
    os_log_type_t v105 = sub_298DA0();
    if (os_log_type_enabled(v104, v105))
    {
      uint64_t v106 = (uint8_t *)swift_slowAlloc();
      *(void *)&long long v373 = swift_slowAlloc();
      *(_DWORD *)uint64_t v106 = 136315138;
      sub_1309C8((unint64_t *)&unk_311F60, (void (*)(uint64_t))&type metadata accessor for NLIntent);
      uint64_t v107 = sub_2995A0();
      *(void *)&long long v370 = sub_6E98(v107, v108, (uint64_t *)&v373);
      uint64_t v98 = v364;
      sub_2992C0();
      swift_bridgeObjectRelease();
      v349 = (char *)v362[1];
      ((void (*)(char *, uint8_t *))v349)(v103, v361);
      _os_log_impl(&dword_0, v104, v105, "Parse#getSiriKitIntent .NLv3IntentOnly %s", v106, 0xCu);
      swift_arrayDestroy();
      uint64_t v100 = v363;
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      v349 = (char *)v97[1];
      ((void (*)(char *, uint8_t *))v349)(v103, v96);
    }

    uint64_t v118 = *(void (**)(char *, uint64_t))(v100 + 8);
    v118(v56, v98);
    uint64_t v119 = v352;
    uint64_t v93 = v359;
    v357(v352, v360, v359);
    uint64_t v120 = (uint64_t)v351;
    sub_280D38(v119, (uint64_t)v351);
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v350 + 48))(v120, 1, v353) == 1)
    {
      sub_23A44(v120, &qword_30DC90);
      uint64_t v121 = v337;
      ((void (*)(char *, uint64_t, uint64_t))v328)(v337, v327, v98);
      uint64_t v122 = sub_2987E0();
      os_log_type_t v123 = sub_298DB0();
      if (os_log_type_enabled(v122, v123))
      {
        uint64_t v124 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v124 = 0;
        _os_log_impl(&dword_0, v122, v123, "Parse#getSiriKitIntent Fatal: Cannot get AudioNLv3Intent from NLv3IntentOnly parse", v124, 2u);
        swift_slowDealloc();
      }

      v118(v121, v98);
      ((void (*)(char *, uint8_t *))v349)(v330, v361);
      return 0;
    }
    v322 = v118;
    sub_E4E88(v120, (uint64_t)v355);
    if (qword_30C988 != -1) {
      swift_once();
    }
    uint64_t v142 = sub_1309C8(&qword_311F58, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
    sub_295530();
    unint64_t v143 = (unint64_t)(v354 + 56);
    uint64_t v144 = (uint64_t)v338;
    uint64_t v145 = v344;
    v325 = (char *)v142;
    if (v373 == 11)
    {
      uint64_t v146 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))v143;
      unint64_t v147 = v143 & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
      uint64_t v148 = v344;
      uint64_t v149 = 1;
    }
    else
    {
      sub_EFFBC(v373, v344);
      uint64_t v146 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))v143;
      unint64_t v147 = v143 & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
      uint64_t v148 = v145;
      uint64_t v149 = 0;
    }
    uint64_t v159 = v346;
    v146(v148, v149, 1, v346);
    uint64_t v160 = v354;
    uint64_t v161 = v343;
    v323 = (char *)*((void *)v354 + 13);
    v324 = v354 + 104;
    ((void (*)(uint64_t, void, uint64_t))v323)(v343, enum case for CommonAudio.Verb.like(_:), v159);
    v351 = v146;
    v146(v161, 0, 1, v159);
    uint64_t v162 = v144 + *(int *)(v347 + 48);
    sub_10CBA8(v145, v144);
    sub_10CBA8(v161, v162);
    uint64_t v163 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))*((void *)v160 + 6);
    int v164 = v163(v144, 1, v159);
    unint64_t v350 = v147;
    v337 = (char *)v163;
    if (v164 == 1)
    {
      sub_23A44(v161, &qword_30DDA0);
      sub_23A44(v145, &qword_30DDA0);
      if (v163(v162, 1, v159) == 1)
      {
        sub_23A44(v144, &qword_30DDA0);
        uint64_t v165 = v345;
        sub_130954((uint64_t)v355, v345);
LABEL_60:
        sub_1138C4(v165);
        goto LABEL_61;
      }
    }
    else
    {
      uint64_t v166 = v331;
      sub_10CBA8(v144, v331);
      if (v163(v162, 1, v159) != 1)
      {
        uint64_t v199 = v354;
        uint64_t v200 = v326;
        (*((void (**)(char *, uint64_t, uint64_t))v354 + 4))(v326, v162, v159);
        sub_1309C8((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
        char v201 = sub_2989A0();
        uint64_t v202 = (void (*)(char *, uint64_t))*((void *)v199 + 1);
        v202(v200, v159);
        sub_23A44(v343, &qword_30DDA0);
        sub_23A44(v344, &qword_30DDA0);
        v202((char *)v166, v159);
        uint64_t v93 = v359;
        sub_23A44(v144, &qword_30DDA0);
        uint64_t v165 = v345;
        sub_130954((uint64_t)v355, v345);
        uint64_t v167 = v351;
        if (v201) {
          goto LABEL_60;
        }
LABEL_40:
        sub_295530();
        uint64_t v168 = v336;
        if (v373 == 11)
        {
          uint64_t v169 = v336;
          uint64_t v170 = 1;
        }
        else
        {
          sub_EFFBC(v373, v336);
          uint64_t v169 = v168;
          uint64_t v170 = 0;
        }
        uint64_t v177 = v346;
        v167(v169, v170, 1, v346);
        uint64_t v179 = (uint64_t)v334;
        uint64_t v178 = v335;
        ((void (*)(uint64_t, void, uint64_t))v323)(v335, enum case for CommonAudio.Verb.unlike(_:), v177);
        v167(v178, 0, 1, v177);
        uint64_t v180 = v339;
        uint64_t v181 = v339 + *(int *)(v347 + 48);
        sub_10CBA8(v168, v339);
        sub_10CBA8(v178, v181);
        uint64_t v182 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))v337;
        if (((unsigned int (*)(uint64_t, uint64_t, uint64_t))v337)(v180, 1, v177) == 1)
        {
          sub_23A44(v178, &qword_30DDA0);
          uint64_t v93 = v359;
          sub_23A44(v168, &qword_30DDA0);
          sub_1138C4(v345);
          int v183 = v182(v181, 1, v177);
          uint64_t v129 = v363;
          uint64_t v130 = v348;
          if (v183 == 1)
          {
            sub_23A44(v339, &qword_30DDA0);
LABEL_61:
            uint64_t v203 = v333;
            ((void (*)(char *, uint64_t, uint64_t))v328)(v333, v327, v364);
            uint64_t v204 = sub_2987E0();
            os_log_type_t v205 = sub_298DC0();
            if (os_log_type_enabled(v204, v205))
            {
              uint64_t v206 = (uint8_t *)swift_slowAlloc();
              *(void *)&long long v373 = swift_slowAlloc();
              *(_DWORD *)uint64_t v206 = 136446210;
              uint64_t v207 = sub_2973D0();
              *(void *)&long long v370 = sub_6E98(v207, v208, (uint64_t *)&v373);
              sub_2992C0();
              swift_bridgeObjectRelease();
              _os_log_impl(&dword_0, v204, v205, "Parse#getSiriKitIntent %{public}s Returning UpdateMediaAffinity flow", v206, 0xCu);
              swift_arrayDestroy();
              swift_slowDealloc();
              swift_slowDealloc();
            }

            v322(v203, v364);
            uint64_t v210 = v341;
            uint64_t v209 = v342;
            uint64_t v211 = (uint64_t)v332;
            id v212 = [objc_allocWithZone((Class)INUpdateMediaAffinityIntent) init];
            uint64_t v213 = (void (*)(void, void, void))v355;
            sub_130954((uint64_t)v355, v211);
            uint64_t v214 = dispatch_group_create();
            dispatch_group_enter(v214);
            uint64_t v215 = swift_allocObject();
            *(void *)(v215 + 16) = v212;
            *(void *)(v215 + 24) = v214;
            id v117 = v212;
            unint64_t v216 = v214;
            sub_12FBE8(v211, v210, v209, (uint64_t)sub_1309B8, v215, v117);
            swift_release();
            sub_299080();

            sub_1138C4(v211);
            sub_1138C4((uint64_t)v213);
            ((void (*)(char *, uint8_t *))v349)(v330, v361);
            return v117;
          }
        }
        else
        {
          sub_10CBA8(v180, v179);
          int v184 = v182(v181, 1, v177);
          uint64_t v130 = v348;
          if (v184 != 1)
          {
            uint64_t v225 = v354;
            uint64_t v226 = v326;
            (*((void (**)(char *, uint64_t, uint64_t))v354 + 4))(v326, v181, v177);
            sub_1309C8((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
            char v227 = sub_2989A0();
            uint64_t v228 = (void (*)(char *, uint64_t))*((void *)v225 + 1);
            v228(v226, v177);
            sub_23A44(v335, &qword_30DDA0);
            sub_23A44(v336, &qword_30DDA0);
            sub_1138C4(v345);
            v228((char *)v179, v177);
            uint64_t v93 = v359;
            sub_23A44(v180, &qword_30DDA0);
            uint64_t v129 = v363;
            if (v227) {
              goto LABEL_61;
            }
            goto LABEL_69;
          }
          sub_23A44(v335, &qword_30DDA0);
          sub_23A44(v336, &qword_30DDA0);
          sub_1138C4(v345);
          (*((void (**)(uint64_t, uint64_t))v354 + 1))(v179, v177);
          uint64_t v129 = v363;
        }
        sub_23A44(v339, &qword_30DD98);
LABEL_69:
        sub_1138C4((uint64_t)v355);
        ((void (*)(char *, uint8_t *))v349)(v330, v361);
LABEL_95:
        uint64_t v131 = v340;
        goto LABEL_96;
      }
      sub_23A44(v343, &qword_30DDA0);
      sub_23A44(v344, &qword_30DDA0);
      (*((void (**)(uint64_t, uint64_t))v354 + 1))(v166, v159);
    }
    sub_23A44(v144, &qword_30DD98);
    sub_130954((uint64_t)v355, v345);
    uint64_t v167 = v351;
    goto LABEL_40;
  }
  if (v94 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    uint64_t v109 = v89;
    (*(void (**)(void **, uint64_t))(v356 + 96))(v89, v93);
    sub_71D4(&qword_30D610);
    sub_E3DA0((uint64_t)v360, (uint64_t)&v370);
    if (!v371)
    {
      sub_23A44((uint64_t)&v370, &qword_30D8A8);
      if (qword_30C848 != -1) {
        swift_once();
      }
      uint64_t v171 = v364;
      uint64_t v172 = sub_6E60(v364, (uint64_t)qword_31FC08);
      uint64_t v173 = v325;
      (*(void (**)(char *, uint64_t, uint64_t))(v363 + 16))(v325, v172, v171);
      long long v174 = sub_2987E0();
      os_log_type_t v175 = sub_298DB0();
      if (os_log_type_enabled(v174, v175))
      {
        uint64_t v176 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v176 = 0;
        _os_log_impl(&dword_0, v174, v175, "Parse#getSiriKitIntent Cannot get AudioIntent from NLv3IntentPlusServerConversion parse for INUpdateMediaAffinityIntent", v176, 2u);
        swift_slowDealloc();
      }

      swift_release();
      (*(void (**)(char *, uint64_t))(v363 + 8))(v173, v171);
      ((void (*)(void **, uint8_t *))v362[1])(v109, v361);
      return 0;
    }
    sub_654B4(&v370, &v373);
    uint64_t v110 = (void *)sub_2950E0();
    self;
    if (swift_dynamicCastObjCClass())
    {
      id v111 = (void *)sub_2950E0();
      self;
      uint64_t v112 = (void *)swift_dynamicCastObjCClassUnconditional();
      uint64_t v113 = v374;
      uint64_t v114 = v375;
      unsigned int v115 = sub_74A4(&v373, v374);
      uint64_t v371 = v113;
      uint64_t v372 = v114;
      uint64_t v116 = sub_12B48((uint64_t *)&v370);
      (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v113 - 8) + 16))(v116, v115, v113);
      id v117 = sub_1307D0((uint64_t)v116, v341, v342, v112, (uint64_t)v360, v113, v114);

      swift_release();
      sub_7184((uint64_t)&v370);
      sub_7184((uint64_t)&v373);
      ((void (*)(void **, uint8_t *))v362[1])(v89, v361);
    }
    else
    {
      self;
      if (swift_dynamicCastObjCClass())
      {
        sub_2950E0();
        self;
        id v117 = (id)swift_dynamicCastObjCClassUnconditional();
        uint64_t v217 = dispatch_group_create();
        dispatch_group_enter(v217);
        uint64_t v218 = v374;
        uint64_t v219 = v375;
        uint64_t v220 = sub_74A4(&v373, v374);
        uint64_t v364 = (uint64_t)v89;
        uint64_t v221 = v220;
        uint64_t v371 = v218;
        uint64_t v372 = v219;
        uint64_t v222 = sub_12B48((uint64_t *)&v370);
        (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v218 - 8) + 16))(v222, v221, v218);
        uint64_t v223 = swift_allocObject();
        *(void *)(v223 + 16) = v217;
        uint64_t v224 = v217;
        sub_863C8((uint64_t)v222, v341, v342, (uint64_t)sub_12FBE0, v223, v117, v218, v219);
        swift_release();
        sub_7184((uint64_t)&v370);
        sub_299080();

        swift_release();
        sub_7184((uint64_t)&v373);
        ((void (*)(uint64_t, uint8_t *))v362[1])(v364, v361);
      }
      else
      {

        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v255 = v364;
        uint64_t v256 = sub_6E60(v364, (uint64_t)qword_31FC08);
        uint64_t v257 = v363;
        (*(void (**)(char *, uint64_t, uint64_t))(v363 + 16))(v316, v256, v255);
        uint64_t v258 = v359;
        v259 = (void (*)(char *, char *, uint64_t))v357;
        v357(v85, v360, v359);
        uint64_t v260 = sub_2987E0();
        os_log_type_t v261 = sub_298DA0();
        if (os_log_type_enabled(v260, v261))
        {
          v262 = (uint8_t *)swift_slowAlloc();
          v355 = (void *)swift_slowAlloc();
          *(void *)&long long v370 = v355;
          *(_DWORD *)v262 = 136315138;
          uint64_t v353 = (uint64_t)(v262 + 4);
          v354 = v262;
          v259(v352, v85, v258);
          uint64_t v263 = sub_2989E0();
          v368[0] = sub_6E98(v263, v264, (uint64_t *)&v370);
          sub_2992C0();
          uint64_t v109 = v89;
          swift_bridgeObjectRelease();
          (*(void (**)(char *, uint64_t))(v356 + 8))(v85, v258);
          _os_log_impl(&dword_0, v260, v261, "Parse#getSiriKitIntent found .NLv3IntentPlusServerConversion %s", v354, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*(void (**)(char *, uint64_t))(v363 + 8))(v316, v364);
        }
        else
        {
          (*(void (**)(char *, uint64_t))(v356 + 8))(v85, v258);

          (*(void (**)(char *, uint64_t))(v257 + 8))(v316, v364);
        }
        id v117 = (id)sub_295080();
        swift_release();
        sub_7184((uint64_t)&v373);
        ((void (*)(void **, uint8_t *))v362[1])(v109, v361);
      }
    }
    return v117;
  }
  uint64_t v125 = v89;
  if (v94 == enum case for Parse.directInvocation(_:))
  {
    (*(void (**)(void **, uint64_t))(v356 + 96))(v89, v93);
    uint64_t v127 = (uint64_t)v328;
    uint64_t v126 = v329;
    long long v128 = v330;
    (*(void (**)(char *, void **, char *))(v329 + 32))(v328, v89, v330);
    sub_23BAD8(v127, (uint64_t)v367);
    sub_B04D0((uint64_t)v367, (uint64_t)v368);
    uint64_t v129 = v363;
    uint64_t v130 = v348;
    uint64_t v131 = v340;
    if (v369 != 255)
    {
      sub_6094C((uint64_t)v368, (uint64_t)&v370);
      sub_6094C((uint64_t)&v370, (uint64_t)&v373);
      if (v376 == 4)
      {
        uint64_t v132 = (void *)v373;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (!v132)
        {
          if (qword_30C848 != -1) {
            swift_once();
          }
          uint64_t v282 = v364;
          uint64_t v283 = sub_6E60(v364, (uint64_t)qword_31FC08);
          id v284 = v307;
          (*(void (**)(char *, uint64_t, uint64_t))(v129 + 16))(v307, v283, v282);
          v285 = sub_2987E0();
          os_log_type_t v286 = sub_298DB0();
          if (os_log_type_enabled(v285, v286))
          {
            v287 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)v287 = 0;
            _os_log_impl(&dword_0, v285, v286, "Parse#getSiriKitIntent PlayMediaShim directinvocation is missing audioExperience", v287, 2u);
            swift_slowDealloc();
          }

          (*(void (**)(char *, uint64_t))(v129 + 8))(v284, v364);
          (*(void (**)(uint64_t, char *))(v126 + 8))(v127, v128);
          return 0;
        }
        uint64_t v133 = qword_30C848;
        id v134 = v132;
        if (v133 != -1) {
          swift_once();
        }
        uint64_t v135 = v364;
        uint64_t v136 = sub_6E60(v364, (uint64_t)qword_31FC08);
        unsigned int v137 = v310;
        (*(void (**)(char *, uint64_t, uint64_t))(v129 + 16))(v310, v136, v135);
        int v138 = sub_2987E0();
        os_log_type_t v139 = sub_298DC0();
        if (os_log_type_enabled(v138, v139))
        {
          uint64_t v140 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v140 = 0;
          _os_log_impl(&dword_0, v138, v139, "Parse#getSiriKitIntent Constructing INPlayMediaIntent", v140, 2u);
          swift_slowDealloc();
        }

        (*(void (**)(char *, uint64_t))(v129 + 8))(v137, v364);
        id v141 = [objc_allocWithZone((Class)INPlayMediaIntent) init];
        id v117 = sub_1C579C(v134, (uint64_t)_swiftEmptyArrayStorage);

        (*(void (**)(uint64_t, char *))(v126 + 8))(v127, v128);
        return v117;
      }
      sub_609A8((uint64_t)v367);
    }
    (*(void (**)(uint64_t, char *))(v126 + 8))(v127, v128);
LABEL_96:
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v273 = v364;
    uint64_t v274 = sub_6E60(v364, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v129 + 16))(v130, v274, v273);
    v275 = (void (*)(char *, char *, uint64_t))v357;
    v357(v131, v360, v93);
    v276 = sub_2987E0();
    os_log_type_t v277 = sub_298DB0();
    if (os_log_type_enabled(v276, v277))
    {
      v278 = (uint8_t *)swift_slowAlloc();
      v362 = (void (**)(void, void, void))swift_slowAlloc();
      v366 = v362;
      *(_DWORD *)v278 = 136315138;
      v360 = v278 + 4;
      v361 = v278;
      v275(v352, v131, v93);
      uint64_t v279 = sub_2989E0();
      uint64_t v365 = sub_6E98(v279, v280, (uint64_t *)&v366);
      sub_2992C0();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v356 + 8))(v131, v93);
      _os_log_impl(&dword_0, v276, v277, "Parse#getSiriKitIntent Could not generate intent from parse: %s", v361, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v129 + 8))(v348, v364);
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v356 + 8))(v131, v93);

      (*(void (**)(char *, uint64_t))(v129 + 8))(v130, v364);
    }
    return 0;
  }
  if (v94 == enum case for Parse.pommesResponse(_:))
  {
    (*(void (**)(void **, uint64_t))(v356 + 96))(v89, v93);
    uint64_t v150 = *v89;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v151 = (void (**)(void, void, void))sub_6E60(v364, (uint64_t)qword_31FC08);
    uint64_t v152 = v363;
    uint64_t v153 = v323;
    v361 = *(uint8_t **)(v363 + 16);
    v362 = v151;
    ((void (*)(char *))v361)(v323);
    uint64_t v154 = v150;
    uint64_t v155 = sub_2987E0();
    os_log_type_t v156 = sub_298DA0();
    if (os_log_type_enabled(v155, v156))
    {
      uint64_t v157 = (uint8_t *)swift_slowAlloc();
      v355 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v157 = 138412290;
      *(void *)&long long v373 = v154;
      uint64_t v158 = v154;
      uint64_t v153 = v323;
      sub_2992C0();
      void *v355 = v154;

      _os_log_impl(&dword_0, v155, v156, "Parse#getSiriKitIntent found .pommesResponse in primary parse of input %@", v157, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      uint64_t v152 = v363;
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      uint64_t v155 = v154;
    }
    uint64_t v229 = v327;
    uint64_t v230 = v320;

    uint64_t v231 = *(void (**)(char *, uint64_t))(v152 + 8);
    v231(v153, v364);
    uint64_t v232 = sub_124EC();
    if (v232)
    {
      uint64_t v233 = (void *)v232;
      sub_2981A0();

      uint64_t v234 = 0;
    }
    else
    {
      uint64_t v234 = 1;
    }
    uint64_t v93 = v359;
    (*(void (**)(char *, uint64_t, uint64_t, uint8_t *))(v229 + 56))(v230, v234, 1, v324);
    sub_297E30();
    uint64_t v245 = sub_297D30();
    if (!v245)
    {
      v250 = v309;
      ((void (*)(char *, void, uint64_t))v361)(v309, v362, v364);
      v251 = sub_2987E0();
      os_log_type_t v252 = sub_298DB0();
      if (os_log_type_enabled(v251, v252))
      {
        uint64_t v253 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v253 = 0;
        _os_log_impl(&dword_0, v251, v252, "Parse#getSiriKitIntent AudioUsoIntent failed to be constructed", v253, 2u);
        swift_slowDealloc();
        long long v254 = v154;
      }
      else
      {
        long long v254 = v251;
        v251 = v154;
      }

      v231(v250, v364);
      return 0;
    }
    *(void *)&long long v373 = v245;
    if (sub_298070())
    {
      uint64_t v246 = sub_124EC();
      if (v246)
      {
        uint64_t v247 = (void *)v246;
        id v248 = [objc_allocWithZone((Class)INPlayMediaIntent) init];
        uint64_t v249 = sub_298240();
        id v117 = sub_1C579C(v247, v249);
        swift_release();

        swift_bridgeObjectRelease();
        return v117;
      }
      swift_release();

      return 0;
    }

    swift_release();
LABEL_94:
    uint64_t v129 = v363;
    uint64_t v130 = v348;
    goto LABEL_95;
  }
  if (v94 != enum case for Parse.uso(_:))
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v235 = v364;
    uint64_t v236 = sub_6E60(v364, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v363 + 16))(v319, v236, v235);
    uint64_t v237 = (void (*)(char *, char *, uint64_t))v357;
    v357(v82, v360, v93);
    uint64_t v238 = sub_2987E0();
    os_log_type_t v239 = sub_298DB0();
    v362 = (void (**)(void, void, void))v238;
    if (os_log_type_enabled(v238, v239))
    {
      uint64_t v240 = (uint8_t *)swift_slowAlloc();
      *(void *)&long long v373 = swift_slowAlloc();
      *(_DWORD *)uint64_t v240 = 136315138;
      v361 = v240 + 4;
      v237(v352, v82, v359);
      uint64_t v241 = sub_2989E0();
      *(void *)&long long v370 = sub_6E98(v241, v242, (uint64_t *)&v373);
      sub_2992C0();
      swift_bridgeObjectRelease();
      uint64_t v243 = *(void (**)(char *, uint64_t))(v356 + 8);
      v243(v82, v359);
      id v244 = v362;
      _os_log_impl(&dword_0, (os_log_t)v362, v239, "Parse#getSiriKitIntent parse is not supported %s", v240, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      uint64_t v93 = v359;
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v363 + 8))(v319, v364);
    }
    else
    {
      uint64_t v243 = *(void (**)(char *, uint64_t))(v356 + 8);
      v243(v82, v93);

      (*(void (**)(char *, uint64_t))(v363 + 8))(v319, v235);
    }
    v243((char *)v89, v93);
    goto LABEL_94;
  }
  (*(void (**)(void **, uint64_t))(v356 + 96))(v89, v93);
  uint64_t v185 = v318;
  uint64_t v186 = v321;
  uint64_t v187 = v322;
  (*(void (**)(char *, void **, void (*)(char *, uint64_t)))(v318 + 32))(v321, v125, v322);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v188 = (uint8_t *)sub_6E60(v364, (uint64_t)qword_31FC08);
  uint64_t v189 = v363;
  uint64_t v190 = *(void (**)(void))(v363 + 16);
  uint64_t v191 = v317;
  v354 = v188;
  v355 = v190;
  v361 = (uint8_t *)(v363 + 16);
  v190(v317);
  (*(void (**)(char *, char *, void (*)(char *, uint64_t)))(v185 + 16))(v74, v186, v187);
  uint64_t v192 = sub_2987E0();
  os_log_type_t v193 = sub_298DA0();
  if (os_log_type_enabled(v192, v193))
  {
    uint64_t v194 = (uint8_t *)swift_slowAlloc();
    *(void *)&long long v373 = swift_slowAlloc();
    *(_DWORD *)uint64_t v194 = 136380675;
    uint64_t v195 = sub_295170();
    *(void *)&long long v370 = sub_6E98(v195, v196, (uint64_t *)&v373);
    uint64_t v197 = v318;
    sub_2992C0();
    swift_bridgeObjectRelease();
    v362 = *(void (***)(void, void, void))(v197 + 8);
    ((void (*)(char *, void))v362)(v74, v322);
    _os_log_impl(&dword_0, v192, v193, "Parse#getSiriKitIntent found .uso in primary parse of input %{private}s", v194, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v198 = *(void (**)(char *, uint64_t))(v189 + 8);
    v198(v317, v364);
  }
  else
  {
    v362 = *(void (***)(void, void, void))(v185 + 8);
    ((void (*)(char *, void))v362)(v74, v187);

    uint64_t v198 = *(void (**)(char *, uint64_t))(v189 + 8);
    v198(v191, v364);
  }
  uint64_t v265 = v189;
  uint64_t v266 = v327;
  uint64_t v267 = v312;
  v268 = v321;
  sub_295190();
  uint64_t v269 = sub_295210();
  (*(void (**)(char *, uint64_t))(v313 + 8))(v267, v314);
  uint64_t v93 = v359;
  uint64_t v270 = v324;
  uint64_t v271 = (uint64_t)v315;
  if (*(void *)(v269 + 16))
  {
    (*(void (**)(char *, unint64_t, uint8_t *))(v266 + 16))(v315, v269 + ((*(unsigned __int8 *)(v266 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v266 + 80)), v324);
    uint64_t v272 = 0;
  }
  else
  {
    uint64_t v272 = 1;
  }
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint8_t *))(v266 + 56))(v271, v272, 1, v270);
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint8_t *))(v266 + 48))(v271, 1, v270) == 1)
  {
    sub_23A44(v271, (uint64_t *)&unk_313880);
    char v288 = v308;
    ((void (*)(char *, uint8_t *, uint64_t))v355)(v308, v354, v364);
    unint64_t v289 = sub_2987E0();
    os_log_type_t v290 = sub_298DC0();
    if (os_log_type_enabled(v289, v290))
    {
      v291 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)v291 = 0;
      _os_log_impl(&dword_0, v289, v290, "Parse#getSiriKitIntent firstUserDialogAct No user dialog act found in usoParse", v291, 2u);
      swift_slowDealloc();
    }

    v198(v288, v364);
LABEL_126:
    ((void (*)(char *, void))v362)(v268, v322);
    return 0;
  }
  (*(void (**)(char *, uint64_t, uint8_t *))(v266 + 32))(v311, v271, v270);
  if (!sub_295280())
  {
    v300 = v305;
    ((void (*)(char *, uint8_t *, uint64_t))v355)(v305, v354, v364);
    v301 = sub_2987E0();
    os_log_type_t v302 = sub_298DC0();
    if (os_log_type_enabled(v301, v302))
    {
      v303 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)v303 = 0;
      _os_log_impl(&dword_0, v301, v302, "Parse#getSiriKitIntent failed to get task from usoParse", v303, 2u);
      v300 = v305;
      swift_slowDealloc();
    }

    v198(v300, v364);
    (*(void (**)(char *, uint8_t *))(v266 + 8))(v311, v270);
    goto LABEL_126;
  }
  sub_297E30();
  swift_allocObject();
  swift_retain();
  uint64_t v292 = sub_297DE0();
  if ((sub_42A14() & 1) == 0)
  {
    swift_release();
    swift_release();
    (*(void (**)(char *, uint8_t *))(v327 + 8))(v311, v270);
    ((void (*)(char *, void))v362)(v321, v322);
    uint64_t v130 = v348;
    uint64_t v131 = v340;
    uint64_t v129 = v265;
    goto LABEL_96;
  }
  ((void (*)(char *, uint8_t *, uint64_t))v355)(v306, v354, v364);
  v293 = sub_2987E0();
  os_log_type_t v294 = sub_298DC0();
  if (os_log_type_enabled(v293, v294))
  {
    v295 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)v295 = 0;
    _os_log_impl(&dword_0, v293, v294, "Parse#getSiriKitIntent uso affinity task", v295, 2u);
    swift_slowDealloc();
  }

  v198(v306, v364);
  id v296 = [objc_allocWithZone((Class)INUpdateMediaAffinityIntent) init];
  swift_retain_n();
  v297 = dispatch_group_create();
  dispatch_group_enter(v297);
  uint64_t v298 = swift_allocObject();
  *(void *)(v298 + 16) = v296;
  *(void *)(v298 + 24) = v297;
  id v117 = v296;
  v299 = v297;
  sub_130258(v292, v341, v342, (uint64_t)sub_130AAC, v298, v117);
  swift_release();
  sub_299080();

  swift_release();
  swift_release_n();
  (*(void (**)(char *, uint8_t *))(v327 + 8))(v311, v270);
  ((void (*)(char *, void))v362)(v321, v322);
  swift_release();
  return v117;
}

void sub_12F940(void *a1, NSObject *a2)
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v15 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v4, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v8, v4);
  uint64_t v9 = a1;
  uint64_t v10 = sub_2987E0();
  os_log_type_t v11 = sub_298DA0();
  if (os_log_type_enabled(v10, v11))
  {
    uint64_t v17 = a2;
    uint64_t v12 = swift_slowAlloc();
    uint64_t v16 = v5;
    uint64_t v13 = (uint8_t *)v12;
    uint64_t v15 = (void *)swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 138412290;
    uint64_t v18 = v9;
    uint64_t v14 = v9;
    a2 = v17;
    sub_2992C0();
    *uint64_t v15 = v9;

    _os_log_impl(&dword_0, v10, v11, "Parse#getSiriKitIntent returning intent: %@", v13, 0xCu);
    sub_71D4((uint64_t *)&unk_30FA40);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v5 = v16;
    swift_slowDealloc();
  }
  else
  {

    uint64_t v10 = v9;
  }

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  dispatch_group_leave(a2);
}

uint64_t sub_12FBA8()
{
  return _swift_deallocObject(v0, 24, 7);
}

void sub_12FBE0()
{
  dispatch_group_leave(*(dispatch_group_t *)(v0 + 16));
}

uint64_t sub_12FBE8(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v43 = a6;
  uint64_t v42 = a5;
  uint64_t v41 = a4;
  uint64_t v39 = a3;
  uint64_t v40 = a2;
  uint64_t v7 = sub_297C00();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v38 = (char *)&v37 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30DD98);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v37 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_71D4(&qword_30DDA0);
  uint64_t v14 = __chkstk_darwin(v13 - 8);
  uint64_t v16 = (char *)&v37 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v14);
  uint64_t v19 = (char *)&v37 - v18;
  __chkstk_darwin(v17);
  uint64_t v21 = (char *)&v37 - v20;
  v47[3] = type metadata accessor for AudioNLv3Intent();
  v47[4] = sub_1309C8(&qword_30FE20, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
  uint64_t v22 = sub_12B48(v47);
  sub_130954(a1, (uint64_t)v22);
  if (qword_30C988 != -1) {
    swift_once();
  }
  sub_1309C8(&qword_311F58, (void (*)(uint64_t))type metadata accessor for AudioNLv3Intent);
  sub_295530();
  uint64_t v23 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v8 + 56);
  if (LOBYTE(v46[0]) == 11)
  {
    uint64_t v24 = *v23;
    (*v23)(v21, 1, 1, v7);
  }
  else
  {
    sub_EFFBC(v46[0], (uint64_t)v21);
    uint64_t v24 = *v23;
    (*v23)(v21, 0, 1, v7);
  }
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v19, enum case for CommonAudio.Verb.like(_:), v7);
  v24(v19, 0, 1, v7);
  uint64_t v25 = (uint64_t)&v12[*(int *)(v10 + 48)];
  sub_10CBA8((uint64_t)v21, (uint64_t)v12);
  sub_10CBA8((uint64_t)v19, v25);
  uint64_t v26 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v8 + 48);
  if (v26((uint64_t)v12, 1, v7) == 1)
  {
    sub_23A44((uint64_t)v19, &qword_30DDA0);
    sub_23A44((uint64_t)v21, &qword_30DDA0);
    if (v26(v25, 1, v7) == 1)
    {
      sub_23A44((uint64_t)v12, &qword_30DDA0);
      uint64_t v27 = v43;
      goto LABEL_13;
    }
    goto LABEL_11;
  }
  sub_10CBA8((uint64_t)v12, (uint64_t)v16);
  if (v26(v25, 1, v7) == 1)
  {
    sub_23A44((uint64_t)v19, &qword_30DDA0);
    sub_23A44((uint64_t)v21, &qword_30DDA0);
    (*(void (**)(char *, uint64_t))(v8 + 8))(v16, v7);
LABEL_11:
    sub_23A44((uint64_t)v12, &qword_30DD98);
    uint64_t v27 = v43;
    goto LABEL_13;
  }
  uint64_t v28 = v38;
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 32))(v38, v25, v7);
  sub_1309C8((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
  sub_2989A0();
  uint64_t v29 = *(void (**)(char *, uint64_t))(v8 + 8);
  v29(v28, v7);
  sub_23A44((uint64_t)v19, &qword_30DDA0);
  sub_23A44((uint64_t)v21, &qword_30DDA0);
  v29(v16, v7);
  sub_23A44((uint64_t)v12, &qword_30DDA0);
  uint64_t v27 = v43;
LABEL_13:
  id v30 = [v27 backingStore];
  self;
  uint64_t v31 = (void *)swift_dynamicCastObjCClass();
  if (v31) {
    [v31 setAffinityType:INMediaAffinityTypeGetBackingType()];
  }

  uint64_t v32 = v40;
  sub_74A4(v40, v40[3]);
  sub_18D5C(v39, (uint64_t)v46);
  sub_18D5C((uint64_t)v32, (uint64_t)v45);
  sub_18D5C((uint64_t)v47, (uint64_t)v44);
  uint64_t v33 = (void *)swift_allocObject();
  uint64_t v34 = v42;
  _OWORD v33[2] = v41;
  v33[3] = v34;
  sub_11EBC(v46, (uint64_t)(v33 + 4));
  sub_11EBC(v45, (uint64_t)(v33 + 9));
  sub_11EBC(v44, (uint64_t)(v33 + 14));
  v33[19] = v27;
  swift_retain();
  id v35 = v27;
  sub_296A30();
  swift_release();
  return sub_7184((uint64_t)v47);
}

uint64_t sub_130258(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v42 = a6;
  uint64_t v41 = a5;
  uint64_t v40 = a4;
  uint64_t v38 = a3;
  uint64_t v39 = a2;
  uint64_t v7 = sub_297C00();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v37 = (char *)&v36 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30DD98);
  uint64_t v11 = v10 - 8;
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v36 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30DDA0);
  uint64_t v15 = __chkstk_darwin(v14 - 8);
  uint64_t v17 = (char *)&v36 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = __chkstk_darwin(v15);
  uint64_t v20 = (char *)&v36 - v19;
  __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v36 - v21;
  v46[3] = sub_297E30();
  v46[4] = &protocol witness table for AudioUsoIntent;
  v46[0] = a1;
  swift_retain();
  sub_297F70();
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v20, enum case for CommonAudio.Verb.like(_:), v7);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v20, 0, 1, v7);
  uint64_t v23 = (uint64_t)&v13[*(int *)(v11 + 56)];
  sub_10CBA8((uint64_t)v22, (uint64_t)v13);
  sub_10CBA8((uint64_t)v20, v23);
  uint64_t v24 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v8 + 48);
  if (v24((uint64_t)v13, 1, v7) == 1)
  {
    sub_23A44((uint64_t)v20, &qword_30DDA0);
    sub_23A44((uint64_t)v22, &qword_30DDA0);
    int v25 = v24(v23, 1, v7);
    uint64_t v26 = v42;
    if (v25 == 1)
    {
      sub_23A44((uint64_t)v13, &qword_30DDA0);
      goto LABEL_8;
    }
    goto LABEL_6;
  }
  sub_10CBA8((uint64_t)v13, (uint64_t)v17);
  if (v24(v23, 1, v7) == 1)
  {
    sub_23A44((uint64_t)v20, &qword_30DDA0);
    sub_23A44((uint64_t)v22, &qword_30DDA0);
    (*(void (**)(char *, uint64_t))(v8 + 8))(v17, v7);
    uint64_t v26 = v42;
LABEL_6:
    sub_23A44((uint64_t)v13, &qword_30DD98);
    goto LABEL_8;
  }
  uint64_t v27 = v37;
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 32))(v37, v23, v7);
  sub_1309C8((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
  sub_2989A0();
  uint64_t v28 = *(void (**)(char *, uint64_t))(v8 + 8);
  v28(v27, v7);
  sub_23A44((uint64_t)v20, &qword_30DDA0);
  sub_23A44((uint64_t)v22, &qword_30DDA0);
  v28(v17, v7);
  sub_23A44((uint64_t)v13, &qword_30DDA0);
  uint64_t v26 = v42;
LABEL_8:
  id v29 = [v26 backingStore];
  self;
  id v30 = (void *)swift_dynamicCastObjCClass();
  if (v30) {
    [v30 setAffinityType:INMediaAffinityTypeGetBackingType()];
  }

  uint64_t v31 = v39;
  sub_74A4(v39, v39[3]);
  sub_18D5C(v38, (uint64_t)v45);
  sub_18D5C((uint64_t)v31, (uint64_t)v44);
  sub_18D5C((uint64_t)v46, (uint64_t)v43);
  uint64_t v32 = (void *)swift_allocObject();
  uint64_t v33 = v41;
  _OWORD v32[2] = v40;
  v32[3] = v33;
  sub_11EBC(v45, (uint64_t)(v32 + 4));
  sub_11EBC(v44, (uint64_t)(v32 + 9));
  sub_11EBC(v43, (uint64_t)(v32 + 14));
  v32[19] = v26;
  swift_retain();
  id v34 = v26;
  sub_296A30();
  swift_release();
  return sub_7184((uint64_t)v46);
}

id sub_1307D0(uint64_t a1, void *a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v12 = *(void *)(a6 - 8);
  __chkstk_darwin(a1);
  uint64_t v14 = (char *)&v22 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v12 + 16))(v14);
  uint64_t v15 = dispatch_group_create();
  dispatch_group_enter(v15);
  uint64_t v16 = swift_allocObject();
  *(void *)(v16 + 16) = a4;
  *(void *)(v16 + 24) = v15;
  id v17 = a4;
  uint64_t v18 = v15;
  sub_127558((uint64_t)v14, a2, a3, (uint64_t)sub_130AAC, v16, v17, a6, a7);
  swift_release();
  sub_299080();

  uint64_t v19 = *(void (**)(char *, uint64_t))(v12 + 8);
  id v20 = v17;
  v19(v14, a6);
  return v20;
}

uint64_t sub_130954(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AudioNLv3Intent();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

void sub_1309B8()
{
  sub_12F940(*(void **)(v0 + 16), *(NSObject **)(v0 + 24));
}

uint64_t sub_1309C8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_130A14()
{
  swift_release();
  sub_7184(v0 + 32);
  sub_7184(v0 + 72);
  sub_7184(v0 + 112);

  return _swift_deallocObject(v0, 160, 7);
}

uint64_t sub_130A6C()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_130AB8()
{
  uint64_t v0 = sub_2990B0();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_298900();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v10 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_2988F0();
  sub_2990A0();
  uint64_t v8 = sub_2961B0();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  qword_311F70 = v8;
  return result;
}

uint64_t sub_130C50(void *a1, uint64_t (*a2)(void), uint64_t a3, uint64_t a4)
{
  swift_beginAccess();
  uint64_t v7 = *(void **)(a4 + 48);
  *(void *)(a4 + 48) = a1;
  id v8 = a1;

  return a2();
}

uint64_t sub_130CC0(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t), uint64_t a4, uint64_t a5)
{
  swift_beginAccess();
  *(void *)(a5 + 56) = a1;
  *(void *)(a5 + 64) = a2;
  swift_bridgeObjectRetain();
  uint64_t v9 = swift_bridgeObjectRelease();
  return a3(v9);
}

uint64_t sub_130D3C(uint64_t a1, void *a2, void (*a3)(uint64_t, void), uint64_t a4, uint64_t a5)
{
  uint64_t v185 = a5;
  uint64_t v186 = a4;
  uint64_t v187 = a3;
  id v172 = a2;
  uint64_t v6 = sub_298800();
  uint64_t v190 = *(void *)(v6 - 8);
  uint64_t v191 = v6;
  uint64_t v7 = __chkstk_darwin(v6);
  uint64_t v177 = (char *)v159 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v11 = (char *)v159 - v10;
  __chkstk_darwin(v9);
  uint64_t v13 = (char *)v159 - v12;
  uint64_t v14 = sub_71D4(&qword_30D030);
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v171 = (char *)v159 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v170 = (char *)v159 - v18;
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v176 = (char *)v159 - v20;
  uint64_t v21 = __chkstk_darwin(v19);
  uint64_t v173 = (uint64_t)v159 - v22;
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v174 = (uint64_t)v159 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v182 = (char *)v159 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v180 = (void (*)(char *, uint64_t))((char *)v159 - v28);
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v181 = (char *)v159 - v30;
  uint64_t v31 = __chkstk_darwin(v29);
  uint64_t v33 = (char *)v159 - v32;
  uint64_t v34 = __chkstk_darwin(v31);
  uint64_t v178 = (uint64_t)v159 - v35;
  uint64_t v36 = __chkstk_darwin(v34);
  uint64_t v179 = (uint64_t)v159 - v37;
  uint64_t v38 = __chkstk_darwin(v36);
  uint64_t v40 = (char *)v159 - v39;
  __chkstk_darwin(v38);
  uint64_t v42 = (char *)v159 - v41;
  uint64_t v43 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v43);
  uint64_t v45 = (char *)v159 - ((v44 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_11E58(a1, (uint64_t)v45, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() != 1)
  {
    uint64_t v54 = *(int *)(v14 + 48);
    uint64_t v55 = sub_2949F0();
    uint64_t v189 = *(void **)(v55 - 8);
    uint64_t v56 = (void (*)(char *, char *))v189[4];
    uint64_t v188 = v55;
    v56(v42, v45);
    uint64_t v57 = *(void **)&v45[v54];
    *(void *)&v42[v54] = v57;
    uint64_t v58 = qword_30C848;
    id v59 = v57;
    uint64_t v60 = v42;
    if (v58 != -1) {
      swift_once();
    }
    uint64_t v61 = sub_6E60(v191, (uint64_t)qword_31FC08);
    uint64_t v62 = *(void (**)(char *, uint64_t, uint64_t))(v190 + 16);
    uint64_t v167 = v61;
    uint64_t v168 = v190 + 16;
    uint64_t v166 = v62;
    ((void (*)(char *))v62)(v13);
    uint64_t v63 = *(int *)(v14 + 48);
    uint64_t v64 = v188;
    uint64_t v66 = v189 + 2;
    uint64_t v65 = (void (*)(char *, char *, uint64_t))v189[2];
    v65(v40, v60, v188);
    *(void *)&v40[v63] = v59;
    sub_11E58((uint64_t)v40, v179, &qword_30D030);
    sub_95958((uint64_t)v40, v178);
    uint64_t v67 = *(int *)(v14 + 48);
    v65(v33, v60, v64);
    *(void *)&v33[v67] = v59;
    sub_11E58((uint64_t)v33, (uint64_t)v181, &qword_30D030);
    sub_95958((uint64_t)v33, (uint64_t)v180);
    uint64_t v68 = *(int *)(v14 + 48);
    uint64_t v69 = v182;
    uint64_t v169 = (void (*)(char *, uint64_t, uint64_t))v65;
    int v183 = v66;
    v65(v182, v60, v64);
    *(void *)&v69[v68] = v59;
    uint64_t v70 = v174;
    sub_11E58((uint64_t)v69, v174, &qword_30D030);
    uint64_t v71 = (uint64_t)v69;
    uint64_t v72 = v173;
    sub_95958(v71, v173);
    uint64_t v182 = (char *)v59;
    uint64_t v73 = sub_2987E0();
    os_log_type_t v74 = sub_298DC0();
    int v165 = v74;
    BOOL v75 = os_log_type_enabled(v73, v74);
    uint64_t v184 = (uint64_t)v60;
    uint64_t v76 = v14;
    uint64_t v175 = v14;
    if (v75)
    {
      uint64_t v77 = swift_slowAlloc();
      int v164 = v13;
      uint64_t v78 = v77;
      uint64_t v163 = swift_slowAlloc();
      v194[0] = v163;
      *(_DWORD *)uint64_t v78 = 136446978;
      uint64_t v79 = sub_2973E0();
      uint64_t v192 = sub_6E98(v79, v80, v194);
      uint64_t v161 = &v193;
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v78 + 12) = 2082;
      v159[1] = v78 + 14;
      uint64_t v81 = *(int *)(v14 + 48);
      uint64_t v82 = v176;
      uint64_t v83 = v179;
      uint64_t v84 = v188;
      v169(v176, v179, v188);
      *(void *)&v82[v81] = *(void *)(v83 + v81);
      uint64_t v85 = sub_294990();
      os_log_t v162 = v73;
      unint64_t v87 = v86;
      uint64_t v88 = (void (*)(char *, uint64_t))v189[1];
      v88(v82, v84);
      uint64_t v160 = v88;
      uint64_t v192 = sub_6E98(v85, v87, v194);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_23A44(v178, &qword_30D030);
      sub_23A44(v83, &qword_30D030);
      *(_WORD *)(v78 + 22) = 2082;
      uint64_t v179 = v78 + 24;
      uint64_t v89 = *(int *)(v175 + 48);
      uint64_t v90 = v181;
      uint64_t v91 = v188;
      uint64_t v92 = v169;
      v169(v82, (uint64_t)v181, v188);
      *(void *)&v82[v89] = *(void *)&v90[v89];
      sub_2949C0();
      v88(v82, v91);
      uint64_t v93 = sub_298B60();
      unint64_t v95 = v94;
      swift_bridgeObjectRelease();
      uint64_t v192 = sub_6E98(v93, v95, v194);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)v180, &qword_30D030);
      sub_23A44((uint64_t)v90, &qword_30D030);
      *(_WORD *)(v78 + 32) = 2082;
      uint64_t v96 = *(int *)(v175 + 48);
      uint64_t v97 = v174;
      v92(v82, v174, v91);
      *(void *)&v82[v96] = *(void *)(v97 + v96);
      sub_2949D0();
      v160(v82, v91);
      uint64_t v98 = (char *)v184;
      uint64_t v99 = sub_298B60();
      unint64_t v101 = v100;
      swift_bridgeObjectRelease();
      uint64_t v102 = v99;
      uint64_t v76 = v175;
      uint64_t v192 = sub_6E98(v102, v101, v194);
      sub_2992C0();
      swift_bridgeObjectRelease();
      sub_23A44(v173, &qword_30D030);
      sub_23A44(v97, &qword_30D030);
      os_log_t v103 = v162;
      _os_log_impl(&dword_0, v162, (os_log_type_t)v165, "PlayMediaViewProvider#makeViews %{public}s pym templating evaluation: dialogId:%{public}s, print: %{public}s, speak: %{public}s", (uint8_t *)v78, 0x2Au);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v104 = *(void (**)(char *, uint64_t))(v190 + 8);
      v104(v164, v191);
      uint64_t v105 = v91;
    }
    else
    {
      uint64_t v98 = v60;
      sub_23A44(v178, &qword_30D030);
      sub_23A44(v179, &qword_30D030);
      sub_23A44((uint64_t)v180, &qword_30D030);
      sub_23A44((uint64_t)v181, &qword_30D030);
      sub_23A44(v72, &qword_30D030);
      sub_23A44(v70, &qword_30D030);

      uint64_t v104 = *(void (**)(char *, uint64_t))(v190 + 8);
      v104(v13, v191);
      uint64_t v105 = v188;
    }
    uint64_t v107 = v189;
    uint64_t v108 = *(int *)(v76 + 48);
    uint64_t v109 = v170;
    uint64_t v110 = v169;
    v169(v170, (uint64_t)v98, v105);
    *(void *)&v109[v108] = v182;
    uint64_t v111 = sub_2949C0();
    uint64_t v114 = (void (*)(char *, uint64_t))v107[1];
    uint64_t v112 = v107 + 1;
    uint64_t v113 = v114;
    v114(v109, v105);
    uint64_t v115 = *(void *)(v111 + 16);
    uint64_t v181 = (char *)v104;
    if (v115)
    {
      uint64_t v116 = (uint64_t *)(v111 + 40);
      while (1)
      {
        uint64_t v117 = *v116;
        uint64_t v118 = HIBYTE(*v116) & 0xF;
        if ((*v116 & 0x2000000000000000) == 0) {
          uint64_t v118 = *(v116 - 1) & 0xFFFFFFFFFFFFLL;
        }
        if (v118) {
          break;
        }
        v116 += 2;
        if (!--v115) {
          goto LABEL_19;
        }
      }
      swift_bridgeObjectRetain();
    }
    else
    {
LABEL_19:
      uint64_t v117 = 0;
    }
    swift_bridgeObjectRelease();
    uint64_t v119 = *(int *)(v76 + 48);
    uint64_t v120 = v171;
    v110(v171, v184, v105);
    *(void *)&v120[v119] = v182;
    uint64_t v121 = sub_2949D0();
    v113(v120, v105);
    uint64_t v122 = *(void *)(v121 + 16);
    uint64_t v189 = v112;
    if (v122)
    {
      os_log_type_t v123 = (uint64_t *)(v121 + 40);
      while (1)
      {
        uint64_t v124 = *v123;
        uint64_t v125 = HIBYTE(*v123) & 0xF;
        if ((*v123 & 0x2000000000000000) == 0) {
          uint64_t v125 = *(v123 - 1) & 0xFFFFFFFFFFFFLL;
        }
        if (v125) {
          break;
        }
        v123 += 2;
        if (!--v122) {
          goto LABEL_27;
        }
      }
      swift_bridgeObjectRetain();
    }
    else
    {
LABEL_27:
      uint64_t v124 = 0;
    }
    swift_bridgeObjectRelease();
    id v126 = [objc_allocWithZone((Class)SADialogText) init];
    BOOL v127 = v117 == 0;
    if (v117)
    {
      swift_bridgeObjectRetain();
      NSString v128 = sub_2989B0();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v128 = 0;
    }
    [v126 setText:v128];

    uint64_t v180 = v113;
    if (v124)
    {
      swift_bridgeObjectRetain();
      NSString v129 = sub_2989B0();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v129 = 0;
    }
    [v126 setSpeakableTextOverride:v129];

    id v130 = [objc_allocWithZone((Class)SADialog) init];
    [v130 setCanUseServerTTS:1];
    sub_2963E0();
    sub_74A4(v194, v194[3]);
    char v131 = sub_2965C0();
    sub_7184((uint64_t)v194);
    [v130 setPrintedOnly:(v131 & 1) == 0];
    if (v117)
    {
      swift_bridgeObjectRelease();
      uint64_t v132 = v191;
      uint64_t v133 = v184;
    }
    else
    {
      uint64_t v132 = v191;
      uint64_t v133 = v184;
      if (!v124)
      {
        BOOL v127 = 0;
        goto LABEL_39;
      }
    }
    swift_bridgeObjectRelease();
LABEL_39:
    [v130 setSpokenOnly:v127];
    id v134 = v126;
    [v130 setCaption:v134];
    [v130 setContent:v134];

    uint64_t v135 = *(int *)(v175 + 48);
    uint64_t v136 = v176;
    uint64_t v137 = v188;
    v110(v176, v133, v188);
    int v138 = v182;

    *(void *)&v136[v135] = v138;
    sub_294990();
    NSString v139 = sub_2989B0();
    swift_bridgeObjectRelease();
    v180(v136, v137);
    [v130 setDialogIdentifier:v139];

    [v172 setDialog:v130];
    uint64_t v140 = v177;
    v166(v177, v167, v132);
    id v141 = v130;
    uint64_t v142 = sub_2987E0();
    os_log_type_t v143 = sub_298DC0();
    if (os_log_type_enabled(v142, v143))
    {
      uint64_t v144 = swift_slowAlloc();
      uint64_t v145 = (void *)swift_slowAlloc();
      uint64_t v189 = (void *)swift_slowAlloc();
      v194[0] = (uint64_t)v189;
      *(_DWORD *)uint64_t v144 = 136447490;
      uint64_t v146 = sub_2973E0();
      uint64_t v192 = sub_6E98(v146, v147, v194);
      sub_2992C0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v144 + 12) = 1026;
      unsigned int v148 = [v141 printedOnly];

      LODWORD(v192) = v148;
      sub_2992C0();

      *(_WORD *)(v144 + 18) = 1026;
      unsigned int v149 = [v141 spokenOnly];

      LODWORD(v192) = v149;
      sub_2992C0();

      *(_WORD *)(v144 + 24) = 2114;
      id v150 = [v141 caption];
      id v151 = v150;
      if (v150) {
        uint64_t v192 = (uint64_t)v150;
      }
      else {
        uint64_t v192 = 0;
      }
      sub_2992C0();
      *uint64_t v145 = v151;

      *(_WORD *)(v144 + 34) = 2114;
      id v152 = [v141 content];
      id v153 = v152;
      if (v152) {
        uint64_t v192 = (uint64_t)v152;
      }
      else {
        uint64_t v192 = 0;
      }
      sub_2992C0();
      v145[1] = v153;

      *(_WORD *)(v144 + 44) = 2114;
      id v154 = [v141 dialogIdentifier];
      if (v154)
      {
        uint64_t v155 = sub_2989C0();
        uint64_t v157 = v156;

        sub_7218();
        swift_allocError();
        *uint64_t v158 = v155;
        v158[1] = v157;
        id v154 = (id)_swift_stdlib_bridgeErrorToNSError();
        uint64_t v192 = (uint64_t)v154;
      }
      else
      {
        uint64_t v192 = 0;
      }
      sub_2992C0();
      v145[2] = v154;

      _os_log_impl(&dword_0, v142, v143, "PlayMediaViewProvider#makeViews %{public}s pym built and set SADialog printedOnly:%{BOOL,public}d, spokenOnly:%{BOOL,public}d, caption:%{public}@, content:%{public}@, dialogIdentifier:%{public}@", (uint8_t *)v144, 0x36u);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      ((void (*)(char *, uint64_t))v181)(v177, v191);
      uint64_t v133 = v184;
    }
    else
    {

      ((void (*)(char *, uint64_t))v181)(v140, v132);
    }
    v187(v185, 0);

    return sub_23A44(v133, &qword_30D030);
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v46 = v191;
  uint64_t v47 = sub_6E60(v191, (uint64_t)qword_31FC08);
  uint64_t v48 = v190;
  (*(void (**)(char *, uint64_t, uint64_t))(v190 + 16))(v11, v47, v46);
  swift_errorRetain();
  swift_errorRetain();
  uint64_t v49 = sub_2987E0();
  os_log_type_t v50 = sub_298DB0();
  if (os_log_type_enabled(v49, v50))
  {
    uint64_t v51 = (uint8_t *)swift_slowAlloc();
    v194[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v51 = 136446210;
    swift_getErrorValue();
    uint64_t v52 = sub_299620();
    uint64_t v192 = sub_6E98(v52, v53, v194);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    _os_log_impl(&dword_0, v49, v50, "PlayMediaViewProvider#makeViews pym templating evaluation failed: %{public}s", v51, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v190 + 8))(v11, v46);
  }
  else
  {
    swift_errorRelease();
    swift_errorRelease();

    (*(void (**)(char *, uint64_t))(v48 + 8))(v11, v46);
  }
  v187(v185, 0);
  return swift_errorRelease();
}

void sub_13215C(uint64_t a1, void *a2)
{
  uint64_t v52 = a1;
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  uint64_t v5 = __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v46 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v5);
  unint64_t v53 = (char *)&v46 - v9;
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v51 = (char *)&v46 - v11;
  uint64_t v12 = __chkstk_darwin(v10);
  os_log_type_t v50 = (char *)&v46 - v13;
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v46 - v14;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v3, (uint64_t)qword_31FC08);
  uint64_t v54 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 16);
  v54(v15, v16, v3);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298D90();
  if (os_log_type_enabled(v17, v18))
  {
    uint64_t v19 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "PlayMediaViewProvider#unsupportedValueOutputView...", v19, 2u);
    swift_slowDealloc();
  }

  uint64_t v55 = *(void (**)(char *, uint64_t))(v4 + 8);
  v55(v15, v3);
  swift_bridgeObjectRetain();
  id v20 = [a2 mediaItems];
  if (!v20) {
    goto LABEL_31;
  }
  uint64_t v21 = v20;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v22 = sub_298B50();

  if (!(v22 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v22 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_8;
    }
LABEL_30:
    swift_bridgeObjectRelease();
    goto LABEL_31;
  }
  swift_bridgeObjectRetain();
  uint64_t v34 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v34) {
    goto LABEL_30;
  }
LABEL_8:
  if ((v22 & 0xC000000000000001) != 0)
  {
    id v23 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v22 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
LABEL_49:
      __break(1u);
      return;
    }
    id v23 = *(id *)(v22 + 32);
  }
  uint64_t v24 = v23;
  swift_bridgeObjectRelease();
  id v25 = [v24 privateMediaItemValueData];

  if (v25)
  {
    id v26 = [v25 internalSignals];

    if (v26)
    {
      uint64_t v27 = (void *)sub_298B50();

      uint64_t v48 = v27[2];
      if (v48)
      {
        uint64_t v28 = v27[4];
        uint64_t v29 = (char *)v27[5];
        uint64_t v47 = v27;
        unint64_t v49 = 0xD000000000000019;
        if (v28 == 0xD000000000000019 && v29 == "er" || (sub_2995D0() & 1) != 0)
        {
LABEL_17:
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_arrayDestroy();
          goto LABEL_32;
        }
        if (v48 != 1)
        {
          uint64_t v30 = v47 + 7;
          uint64_t v31 = 1;
          while (1)
          {
            uint64_t v32 = v31 + 1;
            if (__OFADD__(v31, 1)) {
              goto LABEL_49;
            }
            BOOL v33 = *(v30 - 1) == v49 && *v30 == (void)"er";
            if (v33 || (sub_2995D0() & 1) != 0) {
              goto LABEL_17;
            }
            v30 += 2;
            ++v31;
            if (v32 == v48) {
              goto LABEL_30;
            }
          }
        }
      }
      goto LABEL_30;
    }
  }
LABEL_31:
  swift_bridgeObjectRelease();
  swift_arrayDestroy();
  if (_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F4138))
  {
LABEL_32:
    v54(v7, v16, v3);
    uint64_t v35 = sub_2987E0();
    os_log_type_t v36 = sub_298D90();
    if (os_log_type_enabled(v35, v36))
    {
      uint64_t v37 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v37 = 0;
      uint64_t v38 = "PlayMediaViewProvider#unsupportedValueOutputView returning nil for podcast promotion";
LABEL_44:
      _os_log_impl(&dword_0, v35, v36, v38, v37, 2u);
      swift_slowDealloc();
      goto LABEL_45;
    }
    goto LABEL_45;
  }
  if (_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F4168))
  {
    uint64_t v7 = v53;
    v54(v53, v16, v3);
    uint64_t v35 = sub_2987E0();
    os_log_type_t v36 = sub_298D90();
    if (os_log_type_enabled(v35, v36))
    {
      uint64_t v37 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v37 = 0;
      uint64_t v38 = "PlayMediaViewProvider#unsupportedValueOutputView returning nil for acousticID follow up not found";
      goto LABEL_44;
    }
LABEL_45:

    v55(v7, v3);
    return;
  }
  if ((_s23AudioFlowDelegatePlugin22InternalSignalsManagerC10doesIntent_4haveSbSo8INIntentC_SaySSGtFZ_0(a2, (uint64_t)&off_2F4198) & 1) == 0)
  {
    uint64_t v7 = v51;
    v54(v51, v16, v3);
    uint64_t v35 = sub_2987E0();
    os_log_type_t v36 = sub_298D90();
    if (os_log_type_enabled(v35, v36))
    {
      uint64_t v37 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v37 = 0;
      uint64_t v38 = "PlayMediaViewProvider#unsupportedValueOutputView returning nil for subscriber";
      goto LABEL_44;
    }
    goto LABEL_45;
  }
  uint64_t v39 = v50;
  v54(v50, v16, v3);
  uint64_t v40 = sub_2987E0();
  os_log_type_t v41 = sub_298D90();
  if (os_log_type_enabled(v40, v41))
  {
    uint64_t v42 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v42 = 0;
    _os_log_impl(&dword_0, v40, v41, "PlayMediaViewProvider#unsupportedValueOutputView returning an apple music button", v42, 2u);
    swift_slowDealloc();
  }

  v55(v39, v3);
  id v43 = sub_132BB0();
  if (v43)
  {
    id v44 = v43;
    sub_71D4(&qword_3107B0);
    uint64_t v45 = swift_allocObject();
    *(_OWORD *)(v45 + 16) = xmmword_29A8D0;
    *(void *)(v45 + 32) = v44;
    uint64_t v56 = v45;
    sub_298B70();
  }
}

uint64_t sub_132890()
{
  uint64_t v1 = sub_293720();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v9 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_74A4((void *)(v0 + 232), *(void *)(v0 + 256));
  type metadata accessor for PlayMediaViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v6 = [self bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  uint64_t v7 = sub_296D60();

  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  return v7;
}

uint64_t sub_132A1C()
{
  sub_7184(v0 + 64);
  sub_7184(v0 + 104);
  sub_7184(v0 + 144);
  sub_7184(v0 + 184);

  return sub_7184(v0 + 232);
}

uint64_t sub_132A6C()
{
  swift_release();
  sub_7184(v0 + 24);
  sub_7184(v0 + 64);
  sub_7184(v0 + 104);
  sub_7184(v0 + 144);
  sub_7184(v0 + 184);

  sub_7184(v0 + 232);

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for PlayMediaViewProvider()
{
  uint64_t result = qword_311FA0;
  if (!qword_311FA0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_132B28()
{
  return swift_initClassMetadata2();
}

uint64_t sub_132B7C()
{
  return sub_136A44(*(uint64_t (**)(void))(v0 + 8));
}

id sub_132BB0()
{
  uint64_t v0 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v0 - 8);
  uint64_t v81 = (char *)&v75 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_2936E0();
  uint64_t v79 = *(void *)(v2 - 8);
  uint64_t v80 = v2;
  __chkstk_darwin(v2);
  uint64_t v78 = (char *)&v75 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_293720();
  uint64_t v76 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  id v6 = (char *)&v75 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v75 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = __chkstk_darwin(v9);
  uint64_t v82 = (char *)&v75 - v13;
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v75 - v14;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v7, (uint64_t)qword_31FC08);
  uint64_t v17 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  uint64_t v85 = v16;
  unint64_t v86 = v17;
  ((void (*)(char *))v17)(v15);
  os_log_type_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298D90();
  BOOL v20 = os_log_type_enabled(v18, v19);
  uint64_t v87 = v7;
  if (v20)
  {
    uint64_t v21 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v21 = 0;
    _os_log_impl(&dword_0, v18, v19, "PlayMediaViewProvider#appleMusicButton... ", v21, 2u);
    uint64_t v7 = v87;
    swift_slowDealloc();
  }

  uint64_t v83 = *(void (**)(char *, uint64_t))(v8 + 8);
  uint64_t v84 = v8 + 8;
  v83(v15, v7);
  uint64_t v22 = sub_2976E0();
  uint64_t v24 = v23;
  uint64_t v25 = sub_296580();
  if (!v24)
  {
    swift_bridgeObjectRelease();
    goto LABEL_15;
  }
  if (v22 != v25 || v24 != v26)
  {
    char v27 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v27) {
      goto LABEL_11;
    }
LABEL_15:
    uint64_t v63 = v87;
    v86(v11, v85, v87);
    swift_retain();
    uint64_t v64 = sub_2987E0();
    os_log_type_t v65 = sub_298D90();
    if (os_log_type_enabled(v64, v65))
    {
      uint64_t v66 = (uint8_t *)swift_slowAlloc();
      uint64_t v67 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v66 = 138412290;
      uint64_t v68 = sub_2976E0();
      if (v69)
      {
        uint64_t v70 = v68;
        uint64_t v71 = v69;
        sub_7218();
        swift_allocError();
        *uint64_t v72 = v70;
        v72[1] = v71;
        uint64_t v73 = _swift_stdlib_bridgeErrorToNSError();
        uint64_t v89 = v73;
        sub_2992C0();
      }
      else
      {
        uint64_t v89 = 0;
        sub_2992C0();
        uint64_t v73 = 0;
      }
      *uint64_t v67 = v73;
      swift_release();
      _os_log_impl(&dword_0, v64, v65, "PlayMediaViewProvider#appleMusicButton returning nil since appID: %@ ", v66, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {

      swift_release();
    }
    v83(v11, v63);
    return 0;
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
LABEL_11:
  sub_74A4((void *)(v77 + 232), *(void *)(v77 + 256));
  type metadata accessor for PlayMediaViewProvider();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v29 = [self bundleForClass:ObjCClassFromMetadata];
  sub_295D20();
  sub_296D60();

  (*(void (**)(char *, uint64_t))(v76 + 8))(v6, v4);
  sub_71D4((uint64_t *)&unk_317820);
  uint64_t v30 = swift_allocObject();
  *(_OWORD *)(v30 + 16) = xmmword_29A440;
  uint64_t v31 = sub_132890();
  uint64_t v33 = v32;
  *(void *)(v30 + 56) = &type metadata for String;
  *(void *)(v30 + 64) = sub_7368();
  *(void *)(v30 + 32) = v31;
  *(void *)(v30 + 40) = v33;
  sub_2989D0();
  swift_bridgeObjectRelease();
  id v34 = [objc_allocWithZone((Class)SAUIAppPunchOut) init];
  sub_296580();
  NSString v35 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v34 setBundleId:v35];

  NSString v36 = sub_2989B0();
  [v34 setAppDisplayName:v36];

  [v34 setAppAvailableInStorefront:1];
  id v37 = v34;
  uint64_t v38 = v78;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v79 + 8))(v38, v80);
  NSString v39 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v37 setAceId:v39];

  uint64_t v40 = v81;
  sub_2935F0();
  uint64_t v41 = sub_293600();
  uint64_t v42 = *(void *)(v41 - 8);
  id v44 = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v42 + 48))(v40, 1, v41) != 1)
  {
    sub_2935D0(v43);
    id v44 = v45;
    (*(void (**)(char *, uint64_t))(v42 + 8))(v40, v41);
  }
  [v37 setPunchOutUri:v44];

  id v46 = [objc_allocWithZone((Class)SAUIButton) init];
  sub_71D4(&qword_3107B0);
  uint64_t v47 = swift_allocObject();
  *(_OWORD *)(v47 + 16) = xmmword_29A8D0;
  *(void *)(v47 + 32) = v37;
  uint64_t v89 = v47;
  sub_298B70();
  uint64_t v48 = (void (*)(char *, uint64_t, uint64_t))v37;
  sub_71D4(&qword_30FA60);
  Class isa = sub_298B40().super.isa;
  swift_bridgeObjectRelease();
  [v46 setCommands:isa];

  NSString v50 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v46 setText:v50];

  uint64_t v51 = v82;
  uint64_t v52 = v87;
  v86(v82, v85, v87);
  id v53 = v46;
  uint64_t v54 = sub_2987E0();
  os_log_type_t v55 = sub_298D90();
  if (os_log_type_enabled(v54, v55))
  {
    unint64_t v86 = v48;
    uint64_t v56 = (uint8_t *)swift_slowAlloc();
    uint64_t v89 = swift_slowAlloc();
    *(_DWORD *)uint64_t v56 = 136315138;
    id v57 = [v53 description];
    uint64_t v58 = sub_2989C0();
    unint64_t v60 = v59;

    uint64_t v88 = sub_6E98(v58, v60, &v89);
    sub_2992C0();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v54, v55, "PlayMediaViewProvider#appleMusicButton returning: %s", v56, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v61 = v82;
    uint64_t v62 = v87;
  }
  else
  {

    uint64_t v61 = v51;
    uint64_t v62 = v52;
  }
  v83(v61, v62);
  return v53;
}

uint64_t sub_13367C()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1336B4()
{
  uint64_t v1 = sub_2987D0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 33) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_13375C()
{
  uint64_t v0 = sub_298800();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v21 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  unint64_t v6 = (char *)&v21 - v5;
  if (sub_295C60())
  {
    swift_retain();
    sub_2959C0();
    swift_release();
    int v24 = sub_297B30();
    swift_release();
    swift_retain();
    sub_2959C0();
    swift_release();
    int v7 = sub_297AF0();
    swift_release();
  }
  else
  {
    int v7 = 0;
    int v24 = 0;
  }
  int v23 = v7;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v0, (uint64_t)qword_31FC08);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  uint64_t v10 = sub_2987E0();
  os_log_type_t v11 = sub_298DA0();
  if (os_log_type_enabled(v10, v11))
  {
    uint64_t v12 = (uint8_t *)swift_slowAlloc();
    uint64_t v22 = v4;
    uint64_t v13 = v12;
    *(_DWORD *)uint64_t v12 = 67109120;
    int v25 = v24 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v10, v11, "PlayMediaViewProvider#doesSnippetNeedUISessionID isSystemApertureEnabled: %{BOOL}d", v13, 8u);
    uint64_t v4 = v22;
    swift_slowDealloc();
  }

  uint64_t v14 = *(void (**)(char *, uint64_t))(v1 + 8);
  v14(v6, v0);
  v9(v4, v8, v0);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  BOOL v17 = os_log_type_enabled(v15, v16);
  int v18 = v23;
  if (v17)
  {
    os_log_type_t v19 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)os_log_type_t v19 = 67109120;
    int v26 = v18 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v15, v16, "PlayMediaViewProvider#doesSnippetNeedUISessionID isInAmbient: %{BOOL}d", v19, 8u);
    swift_slowDealloc();
  }

  swift_release();
  v14(v4, v0);
  return (v24 | v18) & 1;
}

uint64_t sub_133AB0(void *a1, uint64_t a2, void *a3, int a4, uint64_t a5, void (*a6)(void **), uint64_t a7)
{
  uint64_t v176 = a5;
  int v180 = a4;
  id v181 = a3;
  uint64_t v11 = sub_2987D0();
  uint64_t v178 = *(void *)(v11 - 8);
  uint64_t v179 = v11;
  uint64_t v12 = __chkstk_darwin(v11);
  uint64_t v175 = (char *)&v165 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v170 = v13;
  __chkstk_darwin(v12);
  uint64_t v177 = (char *)&v165 - v14;
  uint64_t v169 = sub_2936E0();
  uint64_t v168 = *(void *)(v169 - 8);
  __chkstk_darwin(v169);
  uint64_t v167 = (char *)&v165 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v186 = sub_298800();
  uint64_t v16 = *(void *)(v186 - 8);
  uint64_t v17 = __chkstk_darwin(v186);
  os_log_type_t v19 = (char *)&v165 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v17);
  id v172 = (char *)&v165 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v171 = (char *)&v165 - v23;
  uint64_t v24 = __chkstk_darwin(v22);
  uint64_t v173 = (char *)&v165 - v25;
  uint64_t v26 = __chkstk_darwin(v24);
  uint64_t v174 = (char *)&v165 - v27;
  uint64_t v28 = __chkstk_darwin(v26);
  uint64_t v30 = (char *)&v165 - v29;
  uint64_t v31 = __chkstk_darwin(v28);
  uint64_t v33 = (char *)&v165 - v32;
  __chkstk_darwin(v31);
  NSString v35 = (char *)&v165 - v34;
  uint64_t v36 = swift_allocObject();
  int v183 = a6;
  *(void *)(v36 + 16) = a6;
  *(void *)(v36 + 24) = a7;
  uint64_t v37 = swift_allocObject();
  *(void *)(v37 + 16) = sub_487D0;
  *(void *)(v37 + 24) = v36;
  uint64_t v184 = (uint8_t *)v37;
  uint64_t v182 = a7;
  uint64_t v38 = a2;
  swift_retain();
  uint64_t v185 = v36;
  swift_retain();
  if (sub_298F80())
  {
    sub_2976E0();
    if (v39)
    {
      char v40 = sub_296520();
      swift_bridgeObjectRelease();
      if (v40)
      {
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v41 = v186;
        uint64_t v42 = sub_6E60(v186, (uint64_t)qword_31FC08);
        uint64_t v43 = v16;
        (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v35, v42, v41);
        id v44 = sub_2987E0();
        os_log_type_t v45 = sub_298DA0();
        if (os_log_type_enabled(v44, v45))
        {
          id v46 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)id v46 = 0;
          _os_log_impl(&dword_0, v44, v45, "PlayMediaViewProvider#makeViews fallbackImplicitRecommendation scenario, override bundleIdentifier with fallback", v46, 2u);
          uint64_t v43 = v16;
          swift_slowDealloc();
        }

        uint64_t v47 = v35;
        uint64_t v48 = v186;
        (*(void (**)(char *, uint64_t))(v43 + 8))(v47, v186);
        uint64_t v166 = sub_296580();
        NSString v50 = v49;
LABEL_11:
        if (!sub_298F30())
        {
          swift_release();
          swift_bridgeObjectRelease();
          if (qword_30C848 != -1) {
            swift_once();
          }
          uint64_t v64 = sub_6E60(v48, (uint64_t)qword_31FC08);
          (*(void (**)(char *, uint64_t, uint64_t))(v43 + 16))(v33, v64, v48);
          os_log_type_t v65 = sub_2987E0();
          os_log_type_t v66 = sub_298DA0();
          if (os_log_type_enabled(v65, v66))
          {
            uint64_t v67 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v67 = 0;
            _os_log_impl(&dword_0, v65, v66, "PlayMediaViewProvider#makeViews won't return an AceView because no view actions on next/later destinations (or create radio)", v67, 2u);
            swift_slowDealloc();
          }

          (*(void (**)(char *, uint64_t))(v43 + 8))(v33, v48);
          goto LABEL_81;
        }
        id v53 = [a1 mediaItems];
        if (v53)
        {
          uint64_t v54 = v53;
          sub_1983C(0, (unint64_t *)&qword_30D4E8);
          unint64_t v55 = sub_298B50();

          if (v55 >> 62)
          {
            swift_bridgeObjectRetain();
            uint64_t v159 = sub_2994C0();
            swift_bridgeObjectRelease();
            if (v159) {
              goto LABEL_15;
            }
          }
          else if (*(void *)((char *)&dword_10 + (v55 & 0xFFFFFFFFFFFFFF8)))
          {
LABEL_15:
            id v56 = v181;
            if ([v181 code] != &dword_4 && objc_msgSend(v56, "code") != (char *)&dword_0 + 1)
            {
              swift_bridgeObjectRelease();
              swift_release();
              swift_bridgeObjectRelease();
              if (qword_30C848 != -1) {
                swift_once();
              }
              uint64_t v81 = sub_6E60(v48, (uint64_t)qword_31FC08);
              uint64_t v82 = v16;
              uint64_t v83 = v172;
              (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v172, v81, v48);
              id v84 = v56;
              uint64_t v85 = sub_2987E0();
              os_log_type_t v86 = sub_298D90();
              if (os_log_type_enabled(v85, v86))
              {
                uint64_t v87 = (uint8_t *)swift_slowAlloc();
                uint64_t v188 = (void *)swift_slowAlloc();
                *(_DWORD *)uint64_t v87 = 136446210;
                uint64_t v184 = v87 + 4;
                id v187 = [v84 code];
                uint64_t v88 = sub_2995A0();
                id v187 = (id)sub_6E98(v88, v89, (uint64_t *)&v188);
                sub_2992C0();

                swift_bridgeObjectRelease();
                _os_log_impl(&dword_0, v85, v86, "PlayMediaViewProvider#makeViews won't return an AceView because non-success code: %{public}s", v87, 0xCu);
                swift_arrayDestroy();
                swift_slowDealloc();
                swift_slowDealloc();

                (*(void (**)(char *, uint64_t))(v82 + 8))(v83, v186);
              }
              else
              {

                (*(void (**)(char *, uint64_t))(v16 + 8))(v83, v48);
              }
              goto LABEL_81;
            }
            if (sub_295DF0())
            {
              swift_bridgeObjectRelease();
              swift_release();
              swift_bridgeObjectRelease();
              uint64_t v57 = v16;
              if (qword_30C848 != -1) {
                swift_once();
              }
              uint64_t v58 = sub_6E60(v48, (uint64_t)qword_31FC08);
              unint64_t v59 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 16);
              unint64_t v60 = v174;
              v59(v174, v58, v48);
              uint64_t v61 = sub_2987E0();
              os_log_type_t v62 = sub_298D90();
              if (os_log_type_enabled(v61, v62))
              {
                uint64_t v63 = (uint8_t *)swift_slowAlloc();
                *(_WORD *)uint64_t v63 = 0;
                _os_log_impl(&dword_0, v61, v62, "PlayMediaViewProvider#makeViews won't return an AceView for CarPlay", v63, 2u);
                swift_slowDealloc();
              }

              (*(void (**)(char *, uint64_t))(v57 + 8))(v60, v48);
LABEL_81:
              uint64_t v188 = _swiftEmptyArrayStorage;
              char v189 = 0;
              v183(&v188);
              return swift_release();
            }
            uint64_t v75 = sub_2976E0();
            uint64_t v77 = v76;
            uint64_t v78 = sub_296580();
            uint64_t v80 = v16;
            if (v77)
            {
              if (v75 == v78 && v77 == v79)
              {
                swift_bridgeObjectRelease();
LABEL_46:
                swift_bridgeObjectRelease();
                goto LABEL_47;
              }
              char v90 = sub_2995D0();
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              if (v90)
              {
LABEL_47:
                int v92 = sub_298F50();
                char v93 = v180;
                if ((v92 ^ v180))
                {
LABEL_48:
                  int v183 = v50;
                  id v94 = [objc_allocWithZone((Class)SFMediaRemoteControlCardSection) init];
                  unint64_t v95 = v167;
                  sub_2936D0();
                  sub_2936B0();
                  (*(void (**)(char *, uint64_t))(v168 + 8))(v95, v169);
                  NSString v96 = sub_2989B0();
                  swift_bridgeObjectRelease();
                  [v94 setCardSectionId:v96];

                  sub_2976E0();
                  if (v97)
                  {
                    NSString v98 = sub_2989B0();
                    swift_bridgeObjectRelease();
                  }
                  else
                  {
                    NSString v98 = 0;
                  }
                  uint64_t v111 = v171;
                  [v94 setPlaybackBundleIdentifier:v98];

                  id v112 = [a1 hashedRouteUIDs];
                  uint64_t v165 = v38;
                  if (v112)
                  {
                    uint64_t v113 = v112;
                    uint64_t v114 = (void *)sub_298B50();

                    if (v114[2])
                    {
                      uint64_t v182 = (uint64_t)a1;
                      uint64_t v116 = (char *)v114[4];
                      unint64_t v115 = v114[5];
                      swift_bridgeObjectRetain();
                      swift_bridgeObjectRelease();
                      if (qword_30C848 != -1) {
                        swift_once();
                      }
                      uint64_t v117 = sub_6E60(v48, (uint64_t)qword_31FC08);
                      (*(void (**)(char *, uint64_t, uint64_t))(v80 + 16))(v111, v117, v48);
                      swift_bridgeObjectRetain_n();
                      uint64_t v118 = sub_2987E0();
                      os_log_type_t v119 = sub_298D90();
                      if (os_log_type_enabled(v118, v119))
                      {
                        uint64_t v120 = swift_slowAlloc();
                        uint64_t v174 = v116;
                        uint64_t v121 = (uint8_t *)v120;
                        uint64_t v188 = (void *)swift_slowAlloc();
                        *(_DWORD *)uint64_t v121 = 136315138;
                        swift_bridgeObjectRetain();
                        id v187 = (id)sub_6E98((uint64_t)v174, v115, (uint64_t *)&v188);
                        sub_2992C0();
                        swift_bridgeObjectRelease_n();
                        _os_log_impl(&dword_0, v118, v119, "PlayMediaViewProvider#makeViews rendering snippet with route: %s", v121, 0xCu);
                        swift_arrayDestroy();
                        swift_slowDealloc();
                        swift_slowDealloc();

                        (*(void (**)(char *, uint64_t))(v80 + 8))(v171, v186);
                        uint64_t v38 = v165;
                      }
                      else
                      {

                        swift_bridgeObjectRelease_n();
                        (*(void (**)(char *, uint64_t))(v80 + 8))(v111, v48);
                      }
                      a1 = (void *)v182;
                      NSString v122 = sub_2989B0();
                      swift_bridgeObjectRelease();
                      [v94 setPlaybackRouteUniqueIdentifier:v122];

                      [v94 setPlaybackRouteUniqueIdentifierIsEncrypted:1];
                    }
                    else
                    {
                      swift_bridgeObjectRelease();
                    }
                  }
                  uint64_t v123 = swift_allocObject();
                  sub_71D4(&qword_3107B0);
                  uint64_t v124 = (void *)swift_allocObject();
                  *((_OWORD *)v124 + 1) = xmmword_29A8D0;
                  void v124[4] = v94;
                  uint64_t v188 = v124;
                  sub_298B70();
                  uint64_t v186 = v123;
                  *(void *)(v123 + 16) = v188;
                  uint64_t v125 = qword_30C890;
                  id v126 = (char *)v94;
                  if (v125 != -1) {
                    swift_once();
                  }
                  id v127 = (id)qword_31FCE0;
                  NSString v128 = v177;
                  sub_2987B0();
                  sub_299100();
                  sub_298790();
                  sub_13375C();
                  uint64_t v129 = swift_allocObject();
                  *(_OWORD *)(v129 + 16) = 0u;
                  *(_OWORD *)(v129 + 32) = 0u;
                  *(_OWORD *)(v129 + 48) = 0u;
                  *(void *)(v129 + 64) = 0;
                  if (qword_30C888 != -1) {
                    swift_once();
                  }
                  uint64_t v182 = qword_311F70;
                  sub_71D4(&qword_30FA10);
                  uint64_t v130 = swift_allocObject();
                  *(_OWORD *)(v130 + 16) = xmmword_29AF30;
                  char v131 = (void *)swift_allocObject();
                  uint64_t v132 = v176;
                  v131[2] = v176;
                  v131[3] = v38;
                  uint64_t v133 = v132;
                  v131[4] = v55;
                  v131[5] = a1;
                  v131[6] = v129;
                  *(void *)(v130 + 32) = sub_2C6B0;
                  *(void *)(v130 + 40) = v131;
                  id v134 = (void *)swift_allocObject();
                  v134[2] = v133;
                  v134[3] = v38;
                  v134[4] = a1;
                  v134[5] = v129;
                  uint64_t v174 = v126;
                  v134[6] = v126;
                  *(void *)(v130 + 48) = sub_2B98C;
                  *(void *)(v130 + 56) = v134;
                  uint64_t v135 = swift_allocObject();
                  *(void *)(v135 + 16) = v133;
                  *(void *)(v135 + 24) = v129;
                  *(void *)(v130 + 64) = sub_2C6E0;
                  *(void *)(v130 + 72) = v135;
                  uint64_t v136 = (void *)swift_allocObject();
                  v136[2] = v133;
                  v136[3] = a1;
                  v136[4] = v129;
                  *(void *)(v130 + 80) = sub_2C6E8;
                  *(void *)(v130 + 88) = v136;
                  uint64_t v137 = v178;
                  (*(void (**)(char *, char *, uint64_t))(v178 + 16))(v175, v128, v179);
                  unint64_t v138 = (*(unsigned __int8 *)(v137 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v137 + 80);
                  unint64_t v139 = (v170 + v138 + 7) & 0xFFFFFFFFFFFFFFF8;
                  unint64_t v140 = (v139 + 23) & 0xFFFFFFFFFFFFFFF8;
                  unint64_t v141 = (v140 + 15) & 0xFFFFFFFFFFFFFFF8;
                  id v172 = (char *)((v141 + 15) & 0xFFFFFFFFFFFFFFF8);
                  uint64_t v173 = (char *)v129;
                  unint64_t v142 = (v141 + 39) & 0xFFFFFFFFFFFFFFF8;
                  os_log_type_t v143 = a1;
                  uint64_t v144 = swift_allocObject();
                  uint64_t v145 = v186;
                  *(void *)(v144 + 16) = v129;
                  *(void *)(v144 + 24) = v145;
                  uint64_t v146 = v175;
                  *(void *)(v144 + 32) = v176;
                  unint64_t v147 = (char *)(v144 + v138);
                  uint64_t v148 = v179;
                  (*(void (**)(char *, char *, uint64_t))(v137 + 32))(v147, v146, v179);
                  unsigned int v149 = (uint64_t *)(v144 + v139);
                  id v150 = (void (*)(void))v183;
                  uint64_t *v149 = v166;
                  v149[1] = (uint64_t)v150;
                  *(void *)(v144 + v140) = v165;
                  *(void *)(v144 + v141) = v143;
                  id v151 = &v172[v144];
                  id v152 = v184;
                  *(void *)id v151 = sub_3819C;
                  *((void *)v151 + 1) = v152;
                  v151[16] = v180 & 1;
                  id v153 = v181;
                  *(void *)(v144 + v142) = v181;
                  swift_retain_n();
                  swift_retain_n();
                  id v154 = v143;
                  swift_retain_n();
                  id v155 = v154;
                  uint64_t v156 = v174;
                  id v157 = v155;
                  swift_retain();
                  id v158 = v153;
                  sub_2973C0();

                  swift_bridgeObjectRelease();
                  swift_release();
                  (*(void (**)(char *, uint64_t))(v178 + 8))(v177, v148);
                  swift_release();
                  swift_release();
                  return swift_release();
                }
                char v99 = v92;
                swift_release();
                swift_bridgeObjectRelease();
                int v100 = v93 & 1;
                int v101 = v99 & 1;
LABEL_51:
                swift_bridgeObjectRelease();
                uint64_t v102 = v173;
                if (qword_30C848 != -1) {
                  swift_once();
                }
                uint64_t v103 = v186;
                uint64_t v104 = sub_6E60(v186, (uint64_t)qword_31FC08);
                (*(void (**)(char *, uint64_t, uint64_t))(v80 + 16))(v102, v104, v103);
                uint64_t v105 = sub_2987E0();
                os_log_type_t v106 = sub_298D90();
                if (os_log_type_enabled(v105, v106))
                {
                  uint64_t v107 = swift_slowAlloc();
                  uint64_t v188 = (void *)swift_slowAlloc();
                  *(_DWORD *)uint64_t v107 = 136446722;
                  LODWORD(v184) = v101;
                  uint64_t v108 = sub_2973E0();
                  id v187 = (id)sub_6E98(v108, v109, (uint64_t *)&v188);
                  sub_2992C0();
                  swift_bridgeObjectRelease();
                  *(_WORD *)(v107 + 12) = 1026;
                  LODWORD(v187) = v100;
                  sub_2992C0();
                  *(_WORD *)(v107 + 18) = 1026;
                  LODWORD(v187) = v184;
                  sub_2992C0();
                  _os_log_impl(&dword_0, v105, v106, "PlayMediaViewProvider#makeViews %{public}s suppressing view: interstitial?:%{BOOL,public}d renderInHandle: %{BOOL,public}d", (uint8_t *)v107, 0x18u);
                  swift_arrayDestroy();
                  swift_slowDealloc();
                  swift_slowDealloc();

                  (*(void (**)(char *, uint64_t))(v80 + 8))(v173, v103);
                }
                else
                {

                  (*(void (**)(char *, uint64_t))(v80 + 8))(v102, v103);
                }
                goto LABEL_81;
              }
            }
            else
            {
              swift_bridgeObjectRelease();
            }
            if (v166 == sub_2965A0() && v50 == v91) {
              goto LABEL_46;
            }
            char v110 = sub_2995D0();
            swift_bridgeObjectRelease();
            if ((v110 & 1) == 0)
            {
              if (v180) {
                goto LABEL_48;
              }
              swift_release();
              swift_bridgeObjectRelease();
              int v101 = 0;
              int v100 = 0;
              goto LABEL_51;
            }
            goto LABEL_47;
          }
          swift_bridgeObjectRelease();
          uint64_t v43 = v16;
        }
        swift_release();
        swift_bridgeObjectRelease();
        if (qword_30C848 != -1) {
          swift_once();
        }
        uint64_t v160 = sub_6E60(v48, (uint64_t)qword_31FC08);
        (*(void (**)(char *, uint64_t, uint64_t))(v43 + 16))(v30, v160, v48);
        uint64_t v161 = sub_2987E0();
        os_log_type_t v162 = sub_298DB0();
        if (os_log_type_enabled(v161, v162))
        {
          uint64_t v163 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v163 = 0;
          _os_log_impl(&dword_0, v161, v162, "PlayMediaViewProvider#makeViews won't return an AceView because nil or empty mediaItems", v163, 2u);
          swift_slowDealloc();
        }

        (*(void (**)(char *, uint64_t))(v43 + 8))(v30, v48);
        goto LABEL_81;
      }
    }
  }
  uint64_t v51 = sub_2976E0();
  if (v52)
  {
    NSString v50 = v52;
    uint64_t v166 = v51;
    uint64_t v43 = v16;
    uint64_t v48 = v186;
    goto LABEL_11;
  }
  swift_release();
  uint64_t v68 = v186;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v69 = sub_6E60(v68, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v19, v69, v68);
  uint64_t v70 = sub_2987E0();
  os_log_type_t v71 = sub_298DB0();
  if (os_log_type_enabled(v70, v71))
  {
    uint64_t v72 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v72 = 0;
    _os_log_impl(&dword_0, v70, v71, "PlayMediaViewProvider#makeViews missing app bundle identifier", v72, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v16 + 8))(v19, v68);
  sub_7218();
  uint64_t v73 = (void *)swift_allocError();
  *os_log_type_t v74 = 0xD00000000000001DLL;
  v74[1] = 0x80000000002A6260;
  uint64_t v188 = v73;
  char v189 = 1;
  v183(&v188);
  swift_errorRelease();
  return swift_release();
}

uint64_t sub_13511C()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_135154()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 72, 7);
}

uint64_t sub_1351B4()
{
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();

  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_13520C()
{
  swift_release();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_135264()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1352A4()
{
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_1352EC()
{
  uint64_t v1 = sub_2987D0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 40) & ~v3;
  uint64_t v8 = v3 | 7;
  unint64_t v5 = (((((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v6 = (v5 + 39) & 0xFFFFFFFFFFFFFFF8;
  swift_release();
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_bridgeObjectRelease();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, v6 + 8, v8);
}

void sub_135440(void *a1, int a2, void (*a3)(void), uint64_t a4, uint64_t a5)
{
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v36 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v16 = (char *)&v36 - v15;
  if (a2)
  {
    swift_errorRetain();
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v17 = sub_6E60(v10, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v14, v17, v10);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v18 = sub_2987E0();
    os_log_type_t v19 = sub_298DB0();
    if (os_log_type_enabled(v18, v19))
    {
      int v40 = a2;
      uint64_t v20 = swift_slowAlloc();
      uint64_t v39 = a3;
      uint64_t v21 = (uint8_t *)v20;
      uint64_t v22 = swift_slowAlloc();
      uint64_t v41 = a5;
      uint64_t v43 = (uint64_t)a1;
      v44[0] = (id)v22;
      uint64_t v42 = a4;
      *(_DWORD *)uint64_t v21 = 136446210;
      id v38 = v21 + 4;
      swift_errorRetain();
      sub_71D4((uint64_t *)&unk_3121A0);
      uint64_t v23 = sub_2989E0();
      uint64_t v43 = sub_6E98(v23, v24, (uint64_t *)v44);
      sub_2992C0();
      LOBYTE(a2) = v40;
      swift_bridgeObjectRelease();
      sub_36DD0(a1, 1);
      sub_36DD0(a1, 1);
      _os_log_impl(&dword_0, v18, v19, "PlayMediaViewProvider#makeSuggestionView error while creating suggestionView: %{public}s", v21, 0xCu);
      swift_arrayDestroy();
      a5 = v41;
      swift_slowDealloc();
      a3 = v39;
      swift_slowDealloc();
    }
    else
    {
      sub_36DD0(a1, 1);
      sub_36DD0(a1, 1);
    }

    (*(void (**)(char *, uint64_t))(v11 + 8))(v14, v10);
    swift_beginAccess();
    uint64_t v33 = *(void **)(a5 + 48);
    *(void *)(a5 + 48) = 0;
  }
  else
  {
    uint64_t v41 = a5;
    uint64_t v42 = a4;
    uint64_t v25 = qword_30C848;
    id v26 = a1;
    if (v25 != -1) {
      swift_once();
    }
    uint64_t v27 = sub_6E60(v10, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v16, v27, v10);
    id v28 = v26;
    uint64_t v29 = sub_2987E0();
    os_log_type_t v30 = sub_298DB0();
    if (os_log_type_enabled(v29, v30))
    {
      id v38 = v28;
      uint64_t v39 = a3;
      int v40 = a2;
      uint64_t v31 = (uint8_t *)swift_slowAlloc();
      uint64_t v37 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v31 = 138412290;
      if (a1)
      {
        v44[0] = v38;
        id v32 = v38;
      }
      else
      {
        v44[0] = 0;
      }
      sub_2992C0();
      LOBYTE(a2) = v40;
      *uint64_t v37 = a1;
      sub_36DD0(a1, 0);
      sub_36DD0(a1, 0);
      _os_log_impl(&dword_0, v29, v30, "PlayMediaViewProvider#makeSuggestionView created snippet: %@", v31, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
      id v28 = v38;
      a3 = v39;
    }
    else
    {
      sub_36DD0(a1, 0);
      sub_36DD0(a1, 0);
    }

    (*(void (**)(char *, uint64_t))(v11 + 8))(v16, v10);
    uint64_t v34 = v41;
    swift_beginAccess();
    uint64_t v33 = *(void **)(v34 + 48);
    *(void *)(v34 + 48) = a1;
    id v35 = v28;
  }

  a3();
  sub_36DD0(a1, a2 & 1);
}

uint64_t sub_135994(void (*a1)(void), uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_71D4(&qword_310DE8);
  __chkstk_darwin(v6 - 8);
  NSString v50 = (char *)v47 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_2936E0();
  uint64_t v51 = *(void *)(v8 - 8);
  uint64_t v52 = v8;
  uint64_t v9 = __chkstk_darwin(v8);
  v47[1] = v10;
  uint64_t v48 = (char *)v47 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  unint64_t v49 = (char *)v47 - v11;
  uint64_t v12 = sub_298800();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = __chkstk_darwin(v12);
  uint64_t v57 = (char *)v47 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)v47 - v16;
  uint64_t v18 = (void *)swift_allocObject();
  id v53 = a1;
  v18[2] = a1;
  v18[3] = a2;
  v18[4] = a3;
  uint64_t v19 = swift_allocObject();
  *(void *)(v19 + 16) = sub_1369A8;
  *(void *)(v19 + 24) = v18;
  uint64_t v56 = v19;
  uint64_t v20 = qword_30C848;
  uint64_t v54 = a2;
  swift_retain();
  uint64_t v55 = a3;
  swift_retain();
  swift_retain();
  if (v20 != -1) {
    swift_once();
  }
  uint64_t v21 = sub_6E60(v12, (uint64_t)qword_31FC08);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v13 + 16);
  v22(v17, v21, v12);
  uint64_t v23 = sub_2987E0();
  os_log_type_t v24 = sub_298D90();
  if (os_log_type_enabled(v23, v24))
  {
    uint64_t v25 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v25 = 0;
    _os_log_impl(&dword_0, v23, v24, "PlayMediaViewProvider#suggestionView...", v25, 2u);
    swift_slowDealloc();
  }

  id v26 = *(void (**)(char *, uint64_t))(v13 + 8);
  v26(v17, v12);
  if (sub_295C60())
  {
    sub_2959C0();
    swift_release();
    sub_297AD0();
    uint64_t v28 = v27;
    swift_release();
    if (v28)
    {
      uint64_t v29 = (uint64_t)v50;
      sub_2936A0();
      swift_bridgeObjectRelease();
      uint64_t v31 = v51;
      uint64_t v30 = v52;
      if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v51 + 48))(v29, 1, v52) != 1)
      {
        uint64_t v39 = v29;
        int v40 = *(void (**)(char *, uint64_t, uint64_t))(v31 + 32);
        uint64_t v41 = v49;
        v40(v49, v39, v30);
        uint64_t v42 = swift_allocObject();
        uint64_t v43 = v56;
        *(void *)(v42 + 16) = sub_368B0;
        *(void *)(v42 + 24) = v43;
        id v44 = v48;
        (*(void (**)(char *, char *, uint64_t))(v31 + 16))(v48, v41, v30);
        unint64_t v45 = (*(unsigned __int8 *)(v31 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v31 + 80);
        uint64_t v46 = swift_allocObject();
        v40((char *)(v46 + v45), (uint64_t)v44, v30);
        swift_retain();
        sub_71D4(&qword_312180);
        sub_298C30();
        swift_release();
        swift_release();
        (*(void (**)(char *, uint64_t))(v31 + 8))(v49, v30);
        swift_release();
        return swift_release();
      }
      sub_23A44(v29, &qword_310DE8);
    }
  }
  id v32 = v57;
  v22(v57, v21, v12);
  uint64_t v33 = sub_2987E0();
  os_log_type_t v34 = sub_298D90();
  if (os_log_type_enabled(v33, v34))
  {
    id v35 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v35 = 0;
    _os_log_impl(&dword_0, v33, v34, "PlayMediaViewProvider#makeSuggestionsView No active requestId. Not creating suggestions view.", v35, 2u);
    id v32 = v57;
    swift_slowDealloc();
  }

  v26(v32, v12);
  uint64_t v36 = v54;
  swift_retain();
  uint64_t v37 = v55;
  swift_retain();
  sub_135440(0, 0, v53, v36, v37);
  swift_release();
  swift_release();
  swift_release();
  return swift_release();
}

void sub_135F88(uint64_t a1, void *a2)
{
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  uint64_t v5 = __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v83 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v5);
  uint64_t v10 = (char *)&v83 - v9;
  __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v83 - v11;
  uint64_t v13 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v13 - 8);
  id v84 = (char *)&v83 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_2936E0();
  uint64_t v85 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v17 = (char *)&v83 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v18 = [a2 mediaItems];
  if (!v18) {
    goto LABEL_53;
  }
  uint64_t v19 = v18;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v20 = sub_298B50();

  if (!(v20 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v20 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_4;
    }
LABEL_52:
    swift_bridgeObjectRelease();
    goto LABEL_53;
  }
  swift_bridgeObjectRetain();
  uint64_t v78 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v78) {
    goto LABEL_52;
  }
LABEL_4:
  if ((v20 & 0xC000000000000001) != 0)
  {
    id v21 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v20 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      goto LABEL_60;
    }
    id v21 = *(id *)(v20 + 32);
  }
  uint64_t v22 = v21;
  swift_bridgeObjectRelease();
  id v23 = [v22 privateMediaItemValueData];

  if (!v23)
  {
LABEL_53:
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v79 = sub_6E60(v3, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v7, v79, v3);
    uint64_t v80 = sub_2987E0();
    os_log_type_t v81 = sub_298DA0();
    if (os_log_type_enabled(v80, v81))
    {
      uint64_t v82 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v82 = 0;
      _os_log_impl(&dword_0, v80, v81, "PlayMediaViewProvider#makeBroadcastRadioButton no privateMediaItemValueData present", v82, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v4 + 8))(v7, v3);
    return;
  }
  uint64_t v24 = sub_2976E0();
  uint64_t v26 = v25;
  uint64_t v27 = sub_296580();
  if (v26)
  {
    if (v24 == v27 && v26 == v28) {
      char v29 = 1;
    }
    else {
      char v29 = sub_2995D0();
    }
    swift_bridgeObjectRelease();
  }
  else
  {
    char v29 = 0;
  }
  swift_bridgeObjectRelease();
  id v30 = [v23 provider];
  if (!v30)
  {

    return;
  }
  uint64_t v31 = v30;
  id v83 = v23;
  uint64_t v32 = sub_2989C0();
  unint64_t v34 = v33;

  swift_bridgeObjectRelease();
  if ((v29 & 1) == 0) {
    goto LABEL_37;
  }
  uint64_t v35 = v32 & 0xFFFFFFFFFFFFLL;
  if ((v34 & 0x2000000000000000) != 0) {
    uint64_t v35 = HIBYTE(v34) & 0xF;
  }
  if (!v35)
  {
LABEL_37:

    return;
  }
  unint64_t v20 = (unint64_t)v83;
  id v36 = [v83 bundleId];
  if (!v36)
  {
LABEL_40:
    if (qword_30C848 == -1)
    {
LABEL_41:
      uint64_t v70 = sub_6E60(v3, (uint64_t)qword_31FC08);
      (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v10, v70, v3);
      os_log_type_t v71 = sub_2987E0();
      os_log_type_t v72 = sub_298DA0();
      if (os_log_type_enabled(v71, v72))
      {
        uint64_t v73 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v73 = 0;
        _os_log_impl(&dword_0, v71, v72, "PlayMediaViewProvider#makeBroadcastRadioButton bundleId is empty.", v73, 2u);
        unint64_t v20 = (unint64_t)v83;
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v4 + 8))(v10, v3);
      return;
    }
LABEL_60:
    swift_once();
    goto LABEL_41;
  }
  uint64_t v37 = v36;
  uint64_t v38 = sub_2989C0();
  unint64_t v40 = v39;
  swift_bridgeObjectRelease();
  uint64_t v41 = HIBYTE(v40) & 0xF;
  if ((v40 & 0x2000000000000000) == 0) {
    uint64_t v41 = v38 & 0xFFFFFFFFFFFFLL;
  }
  if (!v41)
  {

    unint64_t v20 = (unint64_t)v83;
    goto LABEL_40;
  }
  id v42 = v83;
  id v43 = [v83 providerAppName];
  if (!v43)
  {
    id v44 = v37;
LABEL_46:

    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v74 = sub_6E60(v3, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v12, v74, v3);
    uint64_t v75 = sub_2987E0();
    os_log_type_t v76 = sub_298DA0();
    if (os_log_type_enabled(v75, v76))
    {
      uint64_t v77 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v77 = 0;
      _os_log_impl(&dword_0, v75, v76, "PlayMediaViewProvider#makeBroadcastRadioButton providerAppName is empty.", v77, 2u);
      id v42 = v83;
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v4 + 8))(v12, v3);
    return;
  }
  id v44 = v43;
  uint64_t v45 = sub_2989C0();
  unint64_t v47 = v46;
  swift_bridgeObjectRelease();
  uint64_t v48 = HIBYTE(v47) & 0xF;
  if ((v47 & 0x2000000000000000) == 0) {
    uint64_t v48 = v45 & 0xFFFFFFFFFFFFLL;
  }
  if (!v48)
  {

    id v42 = v83;
    goto LABEL_46;
  }
  id v49 = [objc_allocWithZone((Class)SAUIAppPunchOut) init];
  [v49 setBundleId:v37];

  [v49 setAppDisplayName:v44];
  [v49 setAppAvailableInStorefront:1];
  id v50 = v49;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v85 + 8))(v17, v15);
  NSString v51 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v50 setAceId:v51];

  id v52 = [v83 universalResourceLink];
  if (!v52) {
    goto LABEL_36;
  }
  id v53 = v52;
  uint64_t v54 = sub_2989C0();
  unint64_t v56 = v55;

  swift_bridgeObjectRelease();
  uint64_t v57 = HIBYTE(v56) & 0xF;
  if ((v56 & 0x2000000000000000) == 0) {
    uint64_t v57 = v54 & 0xFFFFFFFFFFFFLL;
  }
  if (!v57) {
    goto LABEL_36;
  }
  id v58 = [v83 universalResourceLink];
  if (v58)
  {
    unint64_t v59 = v58;
    sub_2989C0();

    unint64_t v60 = v84;
    sub_2935F0();
    swift_bridgeObjectRelease();
    uint64_t v61 = sub_293600();
    uint64_t v62 = *(void *)(v61 - 8);
    uint64_t v64 = 0;
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v62 + 48))(v60, 1, v61) != 1)
    {
      sub_2935D0(v63);
      uint64_t v64 = v65;
      (*(void (**)(char *, uint64_t))(v62 + 8))(v60, v61);
    }
    [v50 setPunchOutUri:v64];

LABEL_36:
    id v66 = [objc_allocWithZone((Class)SAUIButton) init];
    sub_71D4(&qword_3107B0);
    uint64_t v67 = swift_allocObject();
    *(_OWORD *)(v67 + 16) = xmmword_29A8D0;
    *(void *)(v67 + 32) = v50;
    uint64_t v86 = v67;
    sub_298B70();
    id v68 = v50;
    sub_71D4(&qword_30FA60);
    Class isa = sub_298B40().super.isa;
    swift_bridgeObjectRelease();
    [v66 setCommands:isa];

    [v66 setText:v44];
    return;
  }

  __break(1u);
}

unint64_t sub_13693C()
{
  unint64_t result = qword_313840;
  if (!qword_313840)
  {
    sub_296000();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_313840);
  }
  return result;
}

uint64_t sub_136998(uint64_t a1, uint64_t a2)
{
  return sub_130CC0(a1, a2, *(uint64_t (**)(uint64_t))(v2 + 16), *(void *)(v2 + 24), *(void *)(v2 + 32));
}

uint64_t sub_1369A8(void *a1)
{
  return sub_130C50(a1, *(uint64_t (**)(void))(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_1369B4()
{
  uint64_t v1 = sub_2936E0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_136A44(uint64_t (*a1)(void))
{
  return a1();
}

uint64_t sub_136A50()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t type metadata accessor for AddMediaCatDialogService()
{
  return self;
}

uint64_t UpdateMediaAffinity.UnsupportedValueStrategy.makeUnsupportedValueOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8)
{
  return sub_138C88(a1, a2, a3, a4, a6, a7, a8);
}

void sub_136AE8(void *a1, void *a2, uint64_t a3, void *a4, void (*a5)(uint64_t *), uint64_t a6)
{
  id v112 = a5;
  uint64_t v113 = a6;
  uint64_t v117 = a2;
  id v118 = a4;
  uint64_t v111 = a3;
  os_log_type_t v119 = a1;
  uint64_t v6 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v6 - 8);
  uint64_t v103 = (char *)v100 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v109 = sub_297270();
  uint64_t v107 = *(void *)(v109 - 8);
  __chkstk_darwin(v109);
  os_log_type_t v106 = (char *)v100 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v120 = sub_71D4(&qword_30D030);
  uint64_t v9 = __chkstk_darwin(v120);
  uint64_t v102 = (char *)v100 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = __chkstk_darwin(v9);
  char v110 = (char *)v100 - v12;
  __chkstk_darwin(v11);
  uint64_t v121 = (char *)v100 - v13;
  uint64_t v14 = sub_71D4(&qword_30D5B8);
  uint64_t v15 = __chkstk_darwin(v14 - 8);
  uint64_t v114 = (char *)v100 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v108 = (char *)v100 - v17;
  uint64_t v18 = sub_71D4((uint64_t *)&unk_30FA50);
  uint64_t v19 = __chkstk_darwin(v18 - 8);
  unint64_t v115 = (char *)v100 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v19);
  uint64_t v104 = (void (*)(char *, uint64_t *, uint64_t))((char *)v100 - v21);
  uint64_t v22 = sub_71D4(&qword_30D5C0);
  uint64_t v23 = __chkstk_darwin(v22 - 8);
  uint64_t v105 = (char *)v100 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  uint64_t v26 = (char *)v100 - v25;
  uint64_t v116 = sub_297280();
  uint64_t v27 = *(void *)(v116 - 8);
  __chkstk_darwin(v116);
  char v29 = (char *)v100 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = sub_297210();
  uint64_t v31 = *(void *)(v30 - 8);
  __chkstk_darwin(v30);
  unint64_t v33 = (char *)v100 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v34);
  id v36 = (void *)((char *)v100 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0((uint64_t)v119, (uint64_t)v36);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v37 = *v36;
    (*(void (**)(char *, void, uint64_t))(v31 + 104))(v33, enum case for AdditionalMetricsDescription.ModuleName.umahis(_:), v30);
    uint64_t v38 = v116;
    (*(void (**)(char *, void, uint64_t))(v27 + 104))(v29, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v116);
    swift_getErrorValue();
    sub_299620();
    uint64_t v120 = sub_297230();
    uint64_t v121 = v39;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v27 + 8))(v29, v38);
    (*(void (**)(char *, uint64_t))(v31 + 8))(v33, v30);
    unint64_t v40 = v117 + 3;
    uint64_t v41 = v117[6];
    uint64_t v117 = (void *)v117[7];
    os_log_type_t v119 = sub_74A4(v40, v41);
    uint64_t v42 = enum case for ActivityType.failed(_:);
    uint64_t v43 = sub_2944C0();
    uint64_t v44 = *(void *)(v43 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v44 + 104))(v26, v42, v43);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v44 + 56))(v26, 0, 1, v43);
    uint64_t v45 = sub_2949F0();
    uint64_t v46 = (uint64_t)v104;
    (*(void (**)(void))(*(void *)(v45 - 8) + 56))();
    uint64_t v47 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v48 = sub_294170();
    uint64_t v49 = *(void *)(v48 - 8);
    id v50 = v108;
    (*(void (**)(char *, uint64_t, uint64_t))(v49 + 104))(v108, v47, v48);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v49 + 56))(v50, 0, 1, v48);
    id v51 = [v118 mediaItems];
    if (!v51)
    {
      uint64_t v54 = (uint64_t)v50;
      goto LABEL_19;
    }
    id v52 = v51;
    sub_8ABD8();
    unint64_t v53 = sub_298B50();

    if (v53 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v90 = sub_2994C0();
      swift_bridgeObjectRelease();
      uint64_t v54 = (uint64_t)v50;
      if (v90) {
        goto LABEL_5;
      }
    }
    else
    {
      uint64_t v54 = (uint64_t)v50;
      if (*(void *)((char *)&dword_10 + (v53 & 0xFFFFFFFFFFFFFF8)))
      {
LABEL_5:
        if ((v53 & 0xC000000000000001) != 0)
        {
          id v55 = (id)sub_2993E0();
          goto LABEL_8;
        }
        if (*(void *)((char *)&dword_10 + (v53 & 0xFFFFFFFFFFFFFF8)))
        {
          id v55 = *(id *)(v53 + 32);
LABEL_8:
          unint64_t v56 = v55;
          swift_bridgeObjectRelease();
          [v56 type];

LABEL_19:
          sub_295CC0();
          swift_bridgeObjectRelease();
          sub_23A44(v54, &qword_30D5B8);
          sub_23A44(v46, (uint64_t *)&unk_30FA50);
          sub_23A44((uint64_t)v26, &qword_30D5C0);
          v122[0] = v37;
          char v123 = 1;
          swift_errorRetain();
          v112(v122);
          swift_errorRelease();
          sub_23A44((uint64_t)v122, (uint64_t *)&unk_30FA80);
          return;
        }
        __break(1u);
        goto LABEL_27;
      }
    }
    swift_bridgeObjectRelease();
    goto LABEL_19;
  }
  uint64_t v57 = *(int *)(v120 + 48);
  uint64_t v58 = sub_2949F0();
  os_log_type_t v119 = *(void **)(v58 - 8);
  uint64_t v104 = (void (*)(char *, uint64_t *, uint64_t))v119[4];
  uint64_t v108 = (char *)(v119 + 4);
  unint64_t v59 = v121;
  v104(v121, v36, v58);
  unint64_t v60 = *(void **)((char *)v36 + v57);
  *(void *)&v59[v57] = v60;
  uint64_t v61 = *(void (**)(char *, void, uint64_t))(v31 + 104);
  uint64_t v101 = v30;
  v61(v33, enum case for AdditionalMetricsDescription.ModuleName.umahis(_:), v30);
  uint64_t v62 = v116;
  (*(void (**)(char *, void, uint64_t))(v27 + 104))(v29, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v116);
  uint64_t v63 = v107;
  uint64_t v64 = v106;
  uint64_t v65 = v109;
  (*(void (**)(char *, void, uint64_t))(v107 + 104))(v106, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v109);
  id v66 = v60;
  v100[0] = sub_297220();
  v100[1] = v67;
  (*(void (**)(char *, uint64_t))(v63 + 8))(v64, v65);
  (*(void (**)(char *, uint64_t))(v27 + 8))(v29, v62);
  (*(void (**)(char *, uint64_t))(v31 + 8))(v33, v101);
  id v68 = v117;
  uint64_t v69 = v117[6];
  uint64_t v107 = v117[7];
  uint64_t v109 = (uint64_t)sub_74A4(v117 + 3, v69);
  uint64_t v70 = enum case for ActivityType.completed(_:);
  uint64_t v71 = sub_2944C0();
  uint64_t v72 = *(void *)(v71 - 8);
  uint64_t v73 = v105;
  (*(void (**)(char *, uint64_t, uint64_t))(v72 + 104))(v105, v70, v71);
  uint64_t v74 = (uint64_t)v73;
  (*(void (**)(char *, void, uint64_t, uint64_t))(v72 + 56))(v73, 0, 1, v71);
  uint64_t v75 = v119;
  uint64_t v76 = *(int *)(v120 + 48);
  uint64_t v77 = (void (*)(char *, char *, uint64_t))v119[2];
  uint64_t v78 = v110;
  v77(v110, v121, v58);
  *(void *)&v78[v76] = v66;
  uint64_t v79 = v115;
  v104(v115, (uint64_t *)v78, v58);
  uint64_t v80 = (void (*)(char *, void, uint64_t, uint64_t))v75[7];
  uint64_t v116 = v58;
  v80(v79, 0, 1, v58);
  uint64_t v81 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v82 = sub_294170();
  uint64_t v83 = *(void *)(v82 - 8);
  id v84 = v114;
  (*(void (**)(char *, uint64_t, uint64_t))(v83 + 104))(v114, v81, v82);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v83 + 56))(v84, 0, 1, v82);
  id v85 = [v118 mediaItems];
  if (v85)
  {
    uint64_t v86 = v85;
    sub_8ABD8();
    unint64_t v87 = sub_298B50();

    if (v87 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v91 = sub_2994C0();
      swift_bridgeObjectRelease();
      if (v91) {
        goto LABEL_12;
      }
    }
    else if (*(void *)((char *)&dword_10 + (v87 & 0xFFFFFFFFFFFFFF8)))
    {
LABEL_12:
      if ((v87 & 0xC000000000000001) != 0)
      {
        id v88 = (id)sub_2993E0();
      }
      else
      {
        if (!*(void *)((char *)&dword_10 + (v87 & 0xFFFFFFFFFFFFFF8)))
        {
LABEL_27:
          __break(1u);
          return;
        }
        id v88 = *(id *)(v87 + 32);
      }
      unint64_t v89 = v88;
      swift_bridgeObjectRelease();
      [v89 type];

      goto LABEL_22;
    }
    swift_bridgeObjectRelease();
  }
LABEL_22:
  uint64_t v92 = (uint64_t)v114;
  uint64_t v93 = (uint64_t)v115;
  sub_295CC0();
  swift_bridgeObjectRelease();
  sub_23A44(v92, &qword_30D5B8);
  sub_23A44(v93, (uint64_t *)&unk_30FA50);
  sub_23A44(v74, &qword_30D5C0);
  sub_74A4(v68 + 8, v68[11]);
  uint64_t v94 = (uint64_t)v121;
  uint64_t v95 = *(int *)(v120 + 48);
  uint64_t v96 = (uint64_t)v102;
  uint64_t v97 = v116;
  v77(v102, v121, v116);
  *(void *)(v96 + v95) = v66;
  uint64_t v98 = sub_2948C0();
  uint64_t v99 = (uint64_t)v103;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v98 - 8) + 56))(v103, 1, 1, v98);
  sub_1CBD04(v96, v66, v99, (uint64_t)_swiftEmptyArrayStorage, v112, v113);

  sub_23A44(v99, (uint64_t *)&unk_30FA70);
  sub_23A44(v94, &qword_30D030);
  ((void (*)(uint64_t, uint64_t))v119[1])(v96, v97);
}

uint64_t sub_137930(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void (*a5)(uint64_t *), uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v111 = a8;
  uint64_t v109 = a7;
  id v126 = a5;
  uint64_t v127 = a6;
  uint64_t v128 = a4;
  uint64_t v125 = a3;
  char v123 = a2;
  uint64_t v110 = sub_297270();
  uint64_t v108 = *(void *)(v110 - 8);
  __chkstk_darwin(v110);
  uint64_t v11 = (char *)v102 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v12 - 8);
  uint64_t v120 = (void *)((char *)v102 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v14 = sub_71D4(&qword_30D030);
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v113 = (char *)v102 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)v102 - v17;
  uint64_t v19 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v19 - 8);
  uint64_t v124 = (char *)v102 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v21 - 8);
  NSString v122 = (char *)v102 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v23 - 8);
  uint64_t v121 = (char *)v102 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_297280();
  uint64_t v118 = *(void *)(v25 - 8);
  os_log_type_t v119 = (void *)v25;
  __chkstk_darwin(v25);
  unint64_t v115 = (char *)v102 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v117 = sub_297210();
  uint64_t v116 = *(void *)(v117 - 8);
  __chkstk_darwin(v117);
  uint64_t v114 = (char *)v102 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v32 = (char *)v102 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v30);
  uint64_t v34 = (char *)v102 - v33;
  uint64_t v35 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v35);
  uint64_t v37 = (void *)((char *)v102 - ((v36 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_516E0(a1, (uint64_t)v37);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v38 = *v37;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v39 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v34, v39, v28);
    swift_errorRetain();
    swift_errorRetain();
    unint64_t v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    if (os_log_type_enabled(v40, v41))
    {
      uint64_t v42 = (uint8_t *)swift_slowAlloc();
      uint64_t v120 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v42 = 138412290;
      swift_errorRetain();
      uint64_t v43 = _swift_stdlib_bridgeErrorToNSError();
      v129[0] = v43;
      sub_2992C0();
      *uint64_t v120 = v43;
      swift_errorRelease();
      swift_errorRelease();
      _os_log_impl(&dword_0, v40, v41, "UnsupportedValueStrategy#makeUnsupportedValueOutput dialog provider failed with error: %@", v42, 0xCu);
      sub_71D4((uint64_t *)&unk_30FA40);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v34, v28);
    uint64_t v86 = v116;
    unint64_t v87 = v114;
    uint64_t v88 = v117;
    (*(void (**)(char *, void, uint64_t))(v116 + 104))(v114, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v117);
    uint64_t v90 = v118;
    unint64_t v89 = v119;
    uint64_t v91 = v115;
    (*(void (**)(char *, void, void *))(v118 + 104))(v115, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v119);
    swift_getErrorValue();
    sub_299620();
    uint64_t v120 = (void *)sub_297230();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, void *))(v90 + 8))(v91, v89);
    (*(void (**)(char *, uint64_t))(v86 + 8))(v87, v88);
    char v123 = sub_74A4(v123 + 3, v123[6]);
    uint64_t v92 = enum case for ActivityType.failed(_:);
    uint64_t v93 = sub_2944C0();
    uint64_t v94 = *(void *)(v93 - 8);
    uint64_t v95 = (uint64_t)v121;
    (*(void (**)(char *, uint64_t, uint64_t))(v94 + 104))(v121, v92, v93);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v94 + 56))(v95, 0, 1, v93);
    uint64_t v96 = sub_2949F0();
    uint64_t v97 = (uint64_t)v122;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v96 - 8) + 56))(v122, 1, 1, v96);
    uint64_t v98 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v99 = sub_294170();
    uint64_t v100 = *(void *)(v99 - 8);
    uint64_t v101 = (uint64_t)v124;
    (*(void (**)(char *, uint64_t, uint64_t))(v100 + 104))(v124, v98, v99);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v100 + 56))(v101, 0, 1, v99);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v101, &qword_30D5B8);
    sub_23A44(v97, (uint64_t *)&unk_30FA50);
    sub_23A44(v95, &qword_30D5C0);
    v129[0] = v38;
    char v130 = 1;
    swift_errorRetain();
    v126(v129);
    swift_errorRelease();
    return sub_23A44((uint64_t)v129, (uint64_t *)&unk_30FA80);
  }
  else
  {
    uint64_t v44 = v123;
    v102[1] = a9;
    uint64_t v112 = v14;
    uint64_t v45 = *(int *)(v14 + 48);
    uint64_t v46 = sub_2949F0();
    uint64_t v106 = *(void *)(v46 - 8);
    uint64_t v47 = *(void (**)(char *, uint64_t, uint64_t))(v106 + 32);
    uint64_t v107 = v46;
    uint64_t v103 = v47;
    v102[2] = v106 + 32;
    ((void (*)(char *, uint64_t *))v47)(v18, v37);
    uint64_t v48 = *(void **)((char *)v37 + v45);
    *(void *)&v18[v45] = v48;
    uint64_t v49 = qword_30C848;
    id v105 = v48;
    uint64_t v104 = v18;
    if (v49 != -1) {
      swift_once();
    }
    uint64_t v50 = sub_6E60(v28, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v32, v50, v28);
    id v51 = sub_2987E0();
    os_log_type_t v52 = sub_298DC0();
    unint64_t v53 = v44;
    if (os_log_type_enabled(v51, v52))
    {
      uint64_t v54 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v54 = 0;
      _os_log_impl(&dword_0, v51, v52, "UnsupportedValueStrategy#makeUnsupportedValueOutput acquired dialog.", v54, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v29 + 8))(v32, v28);
    sub_BF48C(v128, (uint64_t)v120);
    uint64_t v55 = v116;
    unint64_t v56 = v114;
    uint64_t v57 = v117;
    (*(void (**)(char *, void, uint64_t))(v116 + 104))(v114, enum case for AdditionalMetricsDescription.ModuleName.cuvs(_:), v117);
    uint64_t v59 = v118;
    uint64_t v58 = v119;
    unint64_t v60 = v115;
    (*(void (**)(char *, void, void *))(v118 + 104))(v115, enum case for AdditionalMetricsDescription.SourceFunction.uvo(_:), v119);
    uint64_t v61 = v108;
    uint64_t v62 = v110;
    (*(void (**)(char *, void, uint64_t))(v108 + 104))(v11, enum case for AdditionalMetricsDescription.StatusReason.slotResolve(_:), v110);
    uint64_t v111 = sub_297250();
    uint64_t v109 = v63;
    (*(void (**)(char *, uint64_t))(v61 + 8))(v11, v62);
    (*(void (**)(char *, void *))(v59 + 8))(v60, v58);
    (*(void (**)(char *, uint64_t))(v55 + 8))(v56, v57);
    uint64_t v64 = v53[6];
    uint64_t v117 = v53[7];
    os_log_type_t v119 = sub_74A4(v53 + 3, v64);
    uint64_t v65 = enum case for ActivityType.resolveSlotUnsupported(_:);
    uint64_t v66 = sub_2944C0();
    uint64_t v67 = *(void *)(v66 - 8);
    uint64_t v68 = (uint64_t)v121;
    (*(void (**)(char *, uint64_t, uint64_t))(v67 + 104))(v121, v65, v66);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v67 + 56))(v68, 0, 1, v66);
    uint64_t v69 = *(int *)(v112 + 48);
    uint64_t v70 = v106;
    uint64_t v118 = *(void *)(v106 + 16);
    uint64_t v71 = (uint64_t)v113;
    uint64_t v72 = v107;
    ((void (*)(char *, char *, uint64_t))v118)(v113, v104, v107);
    *(void *)(v71 + v69) = v105;
    uint64_t v73 = (uint64_t)v122;
    v103(v122, v71, v72);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v70 + 56))(v73, 0, 1, v72);
    uint64_t v74 = enum case for SiriKitReliabilityCodes.slotResolutionFailure(_:);
    uint64_t v75 = sub_294170();
    uint64_t v76 = v53;
    uint64_t v77 = *(void *)(v75 - 8);
    uint64_t v78 = (uint64_t)v124;
    (*(void (**)(char *, uint64_t, uint64_t))(v77 + 104))(v124, v74, v75);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v77 + 56))(v78, 0, 1, v75);
    sub_295CC0();
    swift_bridgeObjectRelease();
    sub_23A44(v78, &qword_30D5B8);
    sub_23A44(v73, (uint64_t *)&unk_30FA50);
    sub_23A44(v68, &qword_30D5C0);
    sub_74A4(v76 + 8, v76[11]);
    uint64_t v79 = *(int *)(v112 + 48);
    uint64_t v80 = (uint64_t)v104;
    uint64_t v81 = v107;
    ((void (*)(uint64_t, char *, uint64_t))v118)(v71, v104, v107);
    uint64_t v82 = v105;
    *(void *)(v71 + v79) = v105;
    uint64_t v83 = v82;
    id v84 = v120;
    sub_1CBD04(v71, v82, (uint64_t)v120, (uint64_t)_swiftEmptyArrayStorage, v126, v127);

    sub_23A44((uint64_t)v84, (uint64_t *)&unk_30FA70);
    sub_23A44(v80, &qword_30D030);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v106 + 8))(v71, v81);
  }
}

uint64_t sub_138888(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8)
{
  return sub_138C88(a1, a2, a3, a4, a6, a7, a8);
}

uint64_t sub_1388B8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinity.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeUpdatedIntentForUnsupportedValue(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, updated, a10);
}

uint64_t sub_138950(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t updated = type metadata accessor for UpdateMediaAffinity.UnsupportedValueStrategy();

  return UnsupportedValueFlowStrategy.makeLaunchAppWithIntentOutput(app:intent:parameterName:multicardinalValueIndex:intentResolutionResult:_:)(a1, a2, a3, a4, a5, a6, a7, a8, updated, a10);
}

uint64_t sub_1389E8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)v19 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v7, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v11, v7);
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DA0();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    v19[1] = a1;
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_0, v12, v13, "CommonDialogProvider#somethingHasToBePlayingDialog", v14, 2u);
    swift_slowDealloc();
  }

  uint64_t v15 = (*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v10, v7);
  uint64_t v21 = 0;
  memset(v20, 0, sizeof(v20));
  __chkstk_darwin(v15);
  v19[-10] = v16;
  v19[-9] = v17;
  v19[-8] = 0xD000000000000017;
  v19[-7] = 0x80000000002A6410;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a3, a4, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v16, v17, 0xD000000000000017, 0x80000000002A6410, (void (*)(uint64_t (*)(), uint64_t))sub_553C4, (uint64_t)&v19[-12]);
  return sub_23A44((uint64_t)v20, &qword_30D018);
}

uint64_t sub_138C88(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v55 = a7;
  id v52 = a5;
  uint64_t v53 = a6;
  uint64_t v50 = a3;
  uint64_t v51 = a4;
  uint64_t v56 = a1;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v49 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v49 - v13;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_6E60(v8, (uint64_t)qword_31FC08);
  uint64_t v16 = *(void (**)(char *, uint64_t, uint64_t))(v9 + 16);
  v16(v14, v15, v8);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298DA0();
  if (os_log_type_enabled(v17, v18))
  {
    uint64_t v19 = (uint8_t *)swift_slowAlloc();
    uint64_t v49 = v15;
    *(_WORD *)uint64_t v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "UnsupportedValueStrategy#makeUnsupportedValueOutput", v19, 2u);
    uint64_t v15 = v49;
    swift_slowDealloc();
  }

  uint64_t v20 = *(void (**)(char *, uint64_t))(v9 + 8);
  v20(v14, v8);
  sub_295C50();
  if (sub_2991A0())
  {
    id v52 = a2;
    v16(v12, v15, v8);
    uint64_t v21 = sub_2987E0();
    os_log_type_t v22 = sub_298DC0();
    if (os_log_type_enabled(v21, v22))
    {
      uint64_t v23 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v23 = 0;
      _os_log_impl(&dword_0, v21, v22, "UnsupportedValueStrategy#makeUnsupportedValueOutput no NowPlaying app", v23, 2u);
      swift_slowDealloc();
    }

    v20(v12, v8);
    uint64_t v24 = v54;
    unint64_t v25 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
    uint64_t v26 = (void *)swift_allocObject();
    uint64_t v28 = v55;
    uint64_t v27 = v56;
    void v26[2] = v24;
    void v26[3] = v27;
    id v30 = v52;
    uint64_t v29 = v53;
    v26[4] = v52;
    void v26[5] = v29;
    v26[6] = v28;
    swift_retain();
    swift_retain();
    id v31 = v30;
    swift_retain();
    sub_1389E8(v25, v27, (uint64_t)sub_139338, (uint64_t)v26);
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v32 = v54;
    sub_71D4(&qword_313930);
    uint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = xmmword_29A440;
    strcpy((char *)(inited + 32), "MetricsError");
    *(unsigned char *)(inited + 45) = 0;
    *(_WORD *)(inited + 46) = -5120;
    unint64_t v58 = 0;
    unint64_t v59 = 0xE000000000000000;
    sub_2993B0(50);
    swift_bridgeObjectRelease();
    unint64_t v58 = 0xD00000000000002DLL;
    unint64_t v59 = 0x80000000002A63E0;
    id v34 = v52;
    id v57 = [v52 resolutionResultCode];
    uint64_t v35 = a2;
    v60._countAndFlagsBits = sub_2995A0();
    sub_298A80(v60);
    swift_bridgeObjectRelease();
    v61._countAndFlagsBits = 95;
    v61._object = (void *)0xE100000000000000;
    sub_298A80(v61);
    id v57 = [v34 unsupportedReason];
    v62._countAndFlagsBits = sub_2995A0();
    sub_298A80(v62);
    swift_bridgeObjectRelease();
    unint64_t v36 = v58;
    unint64_t v37 = v59;
    *(void *)(inited + 72) = &type metadata for String;
    *(void *)(inited + 48) = v36;
    *(void *)(inited + 56) = v37;
    unint64_t v38 = sub_9A184(inited);
    id v39 = [objc_allocWithZone((Class)INUpdateMediaAffinityIntentResponse) initWithCode:4 userActivity:0];
    unint64_t v40 = (void *)swift_allocObject();
    uint64_t v42 = v55;
    uint64_t v41 = v56;
    _OWORD v40[2] = v32;
    v40[3] = v41;
    uint64_t v43 = v53;
    uint64_t v40[4] = v35;
    v40[5] = v43;
    uint64_t v44 = v50;
    uint64_t v45 = v51;
    v40[6] = v42;
    v40[7] = v44;
    v40[8] = v45;
    v40[9] = v34;
    swift_retain();
    swift_retain();
    id v46 = v35;
    swift_retain();
    swift_bridgeObjectRetain();
    id v47 = v34;
    sub_F5340(v38, v41, (uint64_t)sub_1392B4, (uint64_t)v40);
    swift_bridgeObjectRelease();
  }
  return swift_release();
}

unint64_t sub_1391B4(uint64_t a1)
{
  unint64_t result = sub_1391DC();
  *(void *)(a1 + 8) = result;
  return result;
}

unint64_t sub_1391DC()
{
  unint64_t result = qword_30DF28;
  if (!qword_30DF28)
  {
    type metadata accessor for UpdateMediaAffinity.UnsupportedValueStrategy();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30DF28);
  }
  return result;
}

uint64_t type metadata accessor for UpdateMediaAffinity.UnsupportedValueStrategy()
{
  return self;
}

uint64_t sub_139254()
{
  swift_release();
  swift_release();

  swift_release();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 80, 7);
}

uint64_t sub_1392B4(uint64_t a1)
{
  return sub_137930(a1, *(void **)(v1 + 16), *(void *)(v1 + 24), *(void *)(v1 + 32), *(void (**)(uint64_t *))(v1 + 40), *(void *)(v1 + 48), *(void *)(v1 + 56), *(void *)(v1 + 64), *(void *)(v1 + 72));
}

uint64_t sub_1392E8()
{
  swift_release();
  swift_release();

  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

void sub_139338(void *a1)
{
  sub_136AE8(a1, *(void **)(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32), *(void (**)(uint64_t *))(v1 + 40), *(void *)(v1 + 48));
}

void *sub_139348(uint64_t a1, uint64_t a2)
{
  uint64_t v58 = sub_296AA0();
  uint64_t v4 = *(void *)(v58 - 8);
  uint64_t v5 = __chkstk_darwin(v58);
  unint64_t v59 = (char *)v51 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)v51 - v7;
  uint64_t v9 = sub_296A10();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v63 = (char *)v51 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)v51 - v13;
  uint64_t v15 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)v51 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for PlayMediaCatDialogService();
  os_log_type_t v18 = (void *)swift_allocObject();
  v18[6] = 0xEF746E65746E4961;
  v18[2] = 0xD000000000000011;
  v18[3] = 0x80000000002A3570;
  v18[4] = a1;
  v18[5] = 0x6964654D79616C50;
  uint64_t v61 = a2;
  sub_18D5C(a2, (uint64_t)&v68);
  uint64_t v19 = sub_294F60();
  uint64_t v20 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56);
  uint64_t v54 = v17;
  v20(v17, 1, 1, v19);
  unint64_t v53 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v64 = a1;
  swift_retain_n();
  Swift::String v62 = v18;
  swift_retain();
  uint64_t v65 = v14;
  sub_296A00();
  uint64_t v21 = v8;
  sub_296A90();
  uint64_t v57 = sub_295C80();
  uint64_t v52 = sub_295C70();
  if (qword_30C950 != -1) {
    swift_once();
  }
  uint64_t v22 = qword_31FE88;
  swift_retain();
  sub_2963E0();
  uint64_t v23 = type metadata accessor for DialogHistoryProvider();
  v66[3] = v23;
  v66[4] = &off_2FCE00;
  v66[0] = v22;
  type metadata accessor for PlayMediaDialogProvider();
  v51[0] = (void *)swift_allocObject();
  uint64_t v24 = sub_12AF8((uint64_t)v66, v23);
  v51[1] = v51;
  __chkstk_darwin(v24);
  uint64_t v26 = (uint64_t *)((char *)v51 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v27 + 16))(v26);
  uint64_t v28 = *v26;
  uint64_t v29 = v10;
  uint64_t v30 = v10 + 16;
  id v31 = *(void (**)(char *, char *, uint64_t))(v10 + 16);
  uint64_t v32 = (uint64_t)v63;
  uint64_t v33 = v9;
  uint64_t v56 = v30;
  uint64_t v55 = v31;
  v31(v63, v65, v9);
  uint64_t v34 = (uint64_t)v59;
  uint64_t v35 = v58;
  (*(void (**)(char *, char *, uint64_t))(v4 + 16))(v59, v21, v58);
  swift_retain();
  uint64_t v36 = v52;
  swift_retain();
  unint64_t v37 = sub_11BB34((uint64_t)v62, v64, v53, (uint64_t)&v68, (uint64_t)v54, v32, v34, v36, v28, (uint64_t)v67, v51[0]);
  swift_release();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v21, v35);
  unint64_t v38 = *(void (**)(char *, uint64_t))(v29 + 8);
  unint64_t v59 = (char *)(v29 + 8);
  v38(v65, v33);
  swift_release();
  sub_7184((uint64_t)v66);
  swift_release();
  uint64_t v69 = v35;
  uint64_t v70 = &protocol witness table for StringsFileResolver;
  sub_12B48((uint64_t *)&v68);
  swift_retain();
  sub_296A90();
  sub_71D4(&qword_3125D0);
  uint64_t v39 = swift_allocObject();
  sub_11EBC(&v68, v39 + 16);
  *(void *)(v39 + 56) = v37;
  uint64_t v69 = v33;
  uint64_t v70 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v68);
  swift_retain();
  sub_296A00();
  type metadata accessor for SiriAudioOutputProvider();
  uint64_t v40 = swift_allocObject();
  sub_11EBC(&v68, v40 + 16);
  uint64_t v69 = v33;
  uint64_t v70 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v68);
  sub_296A00();
  uint64_t v41 = v57;
  uint64_t v42 = sub_295C70();
  v67[3] = v41;
  v67[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v67[0] = v42;
  sub_297050();
  swift_allocObject();
  uint64_t v43 = sub_297040();
  sub_296A00();
  uint64_t v44 = sub_295C70();
  uint64_t v45 = v33;
  if (qword_30C880 != -1) {
    swift_once();
  }
  uint64_t v46 = qword_31FCC0;
  swift_retain();
  sub_2942A0();
  uint64_t v47 = (uint64_t)v63;
  uint64_t v48 = v65;
  v55(v63, v65, v45);
  swift_retain();
  uint64_t v49 = sub_139AF8((uint64_t)v37, v43, v47, v44, v46, &v68, v40, v39, v60);
  v38(v48, v45);
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  sub_7184(v61);
  return v49;
}

uint64_t _s25NeedsConfirmationStrategyCMa_0()
{
  uint64_t result = qword_3124A8;
  if (!qword_3124A8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void *sub_139AF8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, long long *a6, uint64_t a7, uint64_t a8, void *a9)
{
  uint64_t v29 = a7;
  uint64_t v30 = a8;
  uint64_t v27 = a5;
  uint64_t v28 = a6;
  uint64_t v26 = a1;
  uint64_t v12 = sub_2990B0();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v25 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298900();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v25 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = sub_297050();
  uint64_t v39 = &protocol witness table for AppleMediaServicesProvider;
  *(void *)&long long v37 = a2;
  uint64_t v20 = sub_296A10();
  uint64_t v35 = v20;
  uint64_t v36 = &protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48((uint64_t *)&v34);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a3, v20);
  uint64_t v32 = sub_295C80();
  uint64_t v33 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v31 = a4;
  sub_2988F0();
  sub_2990A0();
  uint64_t v22 = sub_2961B0();
  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
  a9[26] = v22;
  a9[2] = v26;
  sub_11EBC(&v37, (uint64_t)(a9 + 3));
  sub_11EBC(&v34, (uint64_t)(a9 + 8));
  sub_11EBC(&v31, (uint64_t)(a9 + 13));
  uint64_t v23 = v28;
  a9[18] = v27;
  sub_11EBC(v23, (uint64_t)(a9 + 20));
  a9[25] = v29;
  a9[19] = v30;
  return a9;
}

uint64_t sub_139D84(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v8 = v7;
  uint64_t v73 = a7;
  uint64_t v72 = a6;
  uint64_t v71 = a5;
  uint64_t v74 = a1;
  uint64_t v12 = sub_298800();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v69 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v12, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v15, v16, v12);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298DA0();
  if (os_log_type_enabled(v17, v18))
  {
    uint64_t v19 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "CommonDialogProvider#makePromptForConfirmationDialog", v19, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  *(void *)(inited + 32) = 7368801;
  *(void *)(inited + 40) = 0xE300000000000000;
  *(void *)(inited + 72) = sub_297700();
  *(void *)(inited + 48) = v74;
  swift_retain();
  unint64_t v21 = sub_9A184(inited);
  unint64_t v80 = v21;
  if ((a2 != 0x657449616964656DLL || a3 != 0xEA0000000000736DLL) && (sub_2995D0() & 1) == 0)
  {
    uint64_t v29 = v8[2];
    uint64_t v30 = v8[13];
    uint64_t v31 = v8[14];
    uint64_t v78 = (void *)sub_1983C(0, &qword_30E8B0);
    uint64_t v79 = &off_2FB128;
    *(void *)&long long v77 = v71;
    __chkstk_darwin(v78);
    *(&v69 - 10) = v30;
    *(&v69 - 9) = v31;
    *(&v69 - 8) = 0xD000000000000020;
    *(&v69 - 7) = 0x80000000002A64F0;
    uint64_t v64 = v29;
    unint64_t v65 = v21;
    uint64_t v66 = v74;
    uint64_t v67 = &v77;
    uint64_t v68 = 0;
    id v33 = v32;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v72, v73, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v30, v31, 0xD000000000000020, 0x80000000002A64F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v69 - 12));
    swift_bridgeObjectRelease();
    return sub_23A44((uint64_t)&v77, &qword_30D018);
  }
  id v22 = [a4 itemToConfirm];
  sub_299320();
  swift_unknownObjectRelease();
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  if (!swift_dynamicCast())
  {
    uint64_t v26 = 0;
    uint64_t v28 = 0;
    uint64_t v23 = 0;
LABEL_32:
    sub_23846C(0x436F54656C746974, 0xEE006D7269666E6FLL, v76);
    sub_23A44((uint64_t)v76, &qword_30D040);
    goto LABEL_33;
  }
  uint64_t v23 = *(void **)&v76[0];
  id v24 = [*(id *)&v76[0] artist];
  if (v24)
  {
    uint64_t v25 = v24;
    uint64_t v26 = sub_2989C0();
    uint64_t v28 = v27;
  }
  else
  {
    uint64_t v26 = 0;
    uint64_t v28 = 0;
  }
  id v35 = [v23 title];
  if (!v35)
  {
    if (!v28) {
      goto LABEL_32;
    }
    sub_2989F0();
    uint64_t v42 = v43;
LABEL_23:
    if (!v42) {
      goto LABEL_32;
    }
    goto LABEL_26;
  }
  uint64_t v36 = v35;
  sub_2989C0();

  uint64_t v37 = sub_2989F0();
  uint64_t v39 = v38;
  swift_bridgeObjectRelease();
  if (!v28)
  {
    if (!v39)
    {
      uint64_t v28 = 0;
      goto LABEL_32;
    }
    goto LABEL_26;
  }
  uint64_t v40 = sub_2989F0();
  uint64_t v42 = v41;
  if (!v39) {
    goto LABEL_23;
  }
  if (!v41)
  {
LABEL_26:
    swift_bridgeObjectRelease();
    goto LABEL_27;
  }
  if (v37 == v40 && v39 == v41)
  {
    swift_bridgeObjectRelease_n();
    goto LABEL_32;
  }
  char v51 = sub_2995D0();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v51) {
    goto LABEL_32;
  }
LABEL_27:
  id v44 = [v23 title];
  if (!v44) {
    goto LABEL_32;
  }
  uint64_t v45 = v44;
  uint64_t v46 = sub_2989C0();
  uint64_t v48 = v47;

  if (!v48) {
    goto LABEL_32;
  }
  uint64_t v78 = &type metadata for String;
  *(void *)&long long v77 = v46;
  *((void *)&v77 + 1) = v48;
  sub_26608(&v77, v76);
  unint64_t v49 = v80;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v75 = v49;
  sub_482F0(v76, 0x436F54656C746974, 0xEE006D7269666E6FLL, isUniquelyReferenced_nonNull_native);
  unint64_t v80 = v75;
  swift_bridgeObjectRelease();
LABEL_33:
  id v70 = v23;
  if (v28)
  {
    uint64_t v78 = &type metadata for String;
    *(void *)&long long v77 = v26;
    *((void *)&v77 + 1) = v28;
    sub_26608(&v77, v76);
    swift_bridgeObjectRetain();
    unint64_t v52 = v80;
    char v53 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v75 = v52;
    sub_482F0(v76, 0x6F54747369747261, 0xEF6D7269666E6F43, v53);
    unint64_t v54 = v75;
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_23846C(0x6F54747369747261, 0xEF6D7269666E6F43, &v77);
    sub_23A44((uint64_t)&v77, &qword_30D040);
    unint64_t v54 = v80;
  }
  uint64_t v78 = &type metadata for Bool;
  LOBYTE(v77) = 0;
  sub_26608(&v77, v76);
  char v55 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v75 = v54;
  sub_482F0(v76, 0x5265726E65477369, 0xEC0000006F696461, v55);
  unint64_t v56 = v75;
  swift_bridgeObjectRelease();
  uint64_t v78 = &type metadata for String;
  *(void *)&long long v77 = 4473921;
  *((void *)&v77 + 1) = 0xE300000000000000;
  sub_26608(&v77, v76);
  char v57 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v75 = v56;
  sub_482F0(v76, 0x7954746E65746E69, 0xEA00000000006570, v57);
  unint64_t v58 = v75;
  unint64_t v80 = v75;
  swift_bridgeObjectRelease();
  uint64_t v59 = v8[2];
  uint64_t v60 = v8[13];
  uint64_t v61 = v8[14];
  uint64_t v78 = (void *)sub_1983C(0, &qword_30E8B0);
  uint64_t v79 = &off_2FB128;
  *(void *)&long long v77 = v71;
  __chkstk_darwin(v78);
  *(&v69 - 10) = v60;
  *(&v69 - 9) = v61;
  *(&v69 - 8) = 0xD000000000000011;
  *(&v69 - 7) = 0x80000000002A6520;
  uint64_t v64 = v59;
  unint64_t v65 = v58;
  uint64_t v66 = v74;
  uint64_t v67 = &v77;
  uint64_t v68 = 0;
  id v63 = v62;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v72, v73, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v60, v61, 0xD000000000000011, 0x80000000002A6520, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v69 - 12));
  swift_bridgeObjectRelease();

  sub_23A44((uint64_t)&v77, &qword_30D018);
  return swift_bridgeObjectRelease();
}

uint64_t sub_13A640(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v8 = v7;
  uint64_t v74 = a7;
  uint64_t v73 = a6;
  id v75 = a5;
  uint64_t v76 = a1;
  uint64_t v12 = sub_298800();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v71 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v12, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v15, v16, v12);
  uint64_t v17 = sub_2987E0();
  os_log_type_t v18 = sub_298DA0();
  if (os_log_type_enabled(v17, v18))
  {
    uint64_t v19 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v19 = 0;
    _os_log_impl(&dword_0, v17, v18, "CommonDialogProvider#makePromptForConfirmationDialog", v19, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  *(void *)(inited + 32) = 7368801;
  *(void *)(inited + 40) = 0xE300000000000000;
  *(void *)(inited + 72) = sub_297700();
  *(void *)(inited + 48) = v76;
  swift_retain();
  unint64_t v21 = sub_9A184(inited);
  unint64_t v82 = v21;
  if ((a2 != 0x657449616964656DLL || a3 != 0xEA0000000000736DLL) && (sub_2995D0() & 1) == 0)
  {
    uint64_t v31 = v8[2];
    uint64_t v32 = v8[13];
    uint64_t v33 = v8[14];
    unint64_t v80 = (void *)sub_1983C(0, &qword_30DC98);
    uint64_t v81 = &off_2FCF88;
    *(void *)&long long v79 = v75;
    __chkstk_darwin(v80);
    *(&v71 - 10) = v32;
    *(&v71 - 9) = v33;
    *(&v71 - 8) = 0xD000000000000020;
    *(&v71 - 7) = 0x80000000002A64F0;
    uint64_t v66 = v31;
    unint64_t v67 = v21;
    uint64_t v68 = v76;
    uint64_t v69 = &v79;
    uint64_t v70 = 0;
    id v35 = v34;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v73, v74, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v32, v33, 0xD000000000000020, 0x80000000002A64F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v71 - 12));
    swift_bridgeObjectRelease();
    return sub_23A44((uint64_t)&v79, &qword_30D018);
  }
  id v22 = [a4 itemToConfirm];
  sub_299320();
  swift_unknownObjectRelease();
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  if (!swift_dynamicCast())
  {
    uint64_t v29 = 0;
    uint64_t v30 = 0;
    uint64_t v26 = 0;
    uint64_t v28 = 0;
    uint64_t v23 = 0;
    goto LABEL_33;
  }
  uint64_t v23 = *(void **)&v78[0];
  id v24 = [*(id *)&v78[0] artist];
  if (v24)
  {
    uint64_t v25 = v24;
    uint64_t v26 = sub_2989C0();
    uint64_t v28 = v27;
  }
  else
  {
    uint64_t v26 = 0;
    uint64_t v28 = 0;
  }
  id v37 = [v23 title];
  if (!v37)
  {
    if (!v28) {
      goto LABEL_31;
    }
    sub_2989F0();
    uint64_t v43 = v44;
LABEL_23:
    uint64_t v29 = v43;
    if (!v43) {
      goto LABEL_32;
    }
    goto LABEL_26;
  }
  uint64_t v38 = v37;
  sub_2989C0();

  uint64_t v39 = sub_2989F0();
  uint64_t v29 = v40;
  swift_bridgeObjectRelease();
  if (!v28)
  {
    if (!v29)
    {
      uint64_t v30 = 0;
      uint64_t v28 = 0;
      goto LABEL_33;
    }
    goto LABEL_26;
  }
  uint64_t v41 = sub_2989F0();
  uint64_t v43 = v42;
  if (!v29) {
    goto LABEL_23;
  }
  if (v42)
  {
    if (v39 == v41 && v29 == v42)
    {
      swift_bridgeObjectRelease_n();
LABEL_31:
      uint64_t v29 = 0;
LABEL_32:
      uint64_t v30 = 0;
      goto LABEL_33;
    }
    char v48 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v48) {
      goto LABEL_31;
    }
    goto LABEL_27;
  }
LABEL_26:
  swift_bridgeObjectRelease();
LABEL_27:
  id v45 = [v23 title];
  if (!v45) {
    goto LABEL_31;
  }
  uint64_t v46 = v45;
  uint64_t v29 = sub_2989C0();
  uint64_t v30 = v47;

LABEL_33:
  unint64_t v49 = (char *)[v75 affinityType];
  if (v49 == (unsigned char *)&dword_0 + 2)
  {
    unint64_t v50 = 0xE700000000000000;
    uint64_t v51 = 0x454B494C534944;
  }
  else if (v49 == (unsigned char *)&dword_0 + 1)
  {
    unint64_t v50 = 0xE400000000000000;
    uint64_t v51 = 1162561868;
  }
  else
  {
    unint64_t v50 = 0xE700000000000000;
    uint64_t v51 = 0x4E574F4E4B4E55;
  }
  if (v30)
  {
    unint64_t v80 = &type metadata for String;
    *(void *)&long long v79 = v29;
    *((void *)&v79 + 1) = v30;
    sub_26608(&v79, v78);
    unint64_t v52 = v82;
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v77 = v52;
    sub_482F0(v78, 0x436F54656C746974, 0xEE006D7269666E6FLL, isUniquelyReferenced_nonNull_native);
    unint64_t v82 = v77;
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_23846C(0x436F54656C746974, 0xEE006D7269666E6FLL, &v79);
    sub_23A44((uint64_t)&v79, &qword_30D040);
  }
  id v72 = v23;
  if (v28)
  {
    unint64_t v80 = &type metadata for String;
    *(void *)&long long v79 = v26;
    *((void *)&v79 + 1) = v28;
    sub_26608(&v79, v78);
    swift_bridgeObjectRetain();
    unint64_t v54 = v82;
    char v55 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v77 = v54;
    sub_482F0(v78, 0x6F54747369747261, 0xEF6D7269666E6F43, v55);
    unint64_t v56 = v77;
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_23846C(0x6F54747369747261, 0xEF6D7269666E6F43, &v79);
    sub_23A44((uint64_t)&v79, &qword_30D040);
    unint64_t v56 = v82;
  }
  unint64_t v80 = &type metadata for Bool;
  LOBYTE(v79) = 0;
  sub_26608(&v79, v78);
  char v57 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v77 = v56;
  sub_482F0(v78, 0x5265726E65477369, 0xEC0000006F696461, v57);
  unint64_t v58 = v77;
  swift_bridgeObjectRelease();
  unint64_t v80 = &type metadata for String;
  *(void *)&long long v79 = v51;
  *((void *)&v79 + 1) = v50;
  sub_26608(&v79, v78);
  char v59 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v77 = v58;
  sub_482F0(v78, 0x7954746E65746E69, 0xEA00000000006570, v59);
  unint64_t v60 = v77;
  swift_bridgeObjectRelease();
  uint64_t v61 = v8[2];
  uint64_t v62 = v8[13];
  uint64_t v63 = v8[14];
  unint64_t v80 = (void *)sub_1983C(0, &qword_30DC98);
  uint64_t v81 = &off_2FCF88;
  *(void *)&long long v79 = v75;
  __chkstk_darwin(v80);
  *(&v71 - 10) = v62;
  *(&v71 - 9) = v63;
  *(&v71 - 8) = 0xD000000000000011;
  *(&v71 - 7) = 0x80000000002A6520;
  uint64_t v66 = v61;
  unint64_t v67 = v60;
  uint64_t v68 = v76;
  uint64_t v69 = &v79;
  uint64_t v70 = 0;
  id v65 = v64;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v73, v74, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v62, v63, 0xD000000000000011, 0x80000000002A6520, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v71 - 12));
  swift_bridgeObjectRelease();

  sub_23A44((uint64_t)&v79, &qword_30D018);
  return swift_bridgeObjectRelease();
}

uint64_t sub_13AF5C(uint64_t a1, uint64_t a2, uint64_t a3, id a4, void *a5, int a6, int a7, uint64_t a8, uint64_t a9)
{
  uint64_t v128 = a1;
  id v14 = [a4 unsupportedReason];
  uint64_t v15 = (char *)[a5 affinityType];
  char v123 = (char *)[a5 affinityType];
  id v16 = [a5 mediaItems];
  uint64_t v124 = v15;
  id v125 = a5;
  if (!v16)
  {
    uint64_t v19 = v9;
    goto LABEL_11;
  }
  uint64_t v17 = v16;
  sub_1983C(0, (unint64_t *)&qword_30D4E8);
  unint64_t v18 = sub_298B50();

  if (v18 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v22 = sub_2994C0();
    swift_bridgeObjectRelease();
    if (v22) {
      goto LABEL_4;
    }
LABEL_10:
    uint64_t v19 = v9;
    swift_bridgeObjectRelease();
    goto LABEL_11;
  }
  if (!*(void *)((char *)&dword_10 + (v18 & 0xFFFFFFFFFFFFFF8))) {
    goto LABEL_10;
  }
LABEL_4:
  if ((v18 & 0xC000000000000001) != 0)
  {
    uint64_t v19 = v9;
    id v20 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v18 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      JUMPOUT(0x13BF60);
    }
    uint64_t v19 = v9;
    id v20 = *(id *)(v18 + 32);
  }
  unint64_t v21 = v20;
  swift_bridgeObjectRelease();
  [v21 type];

LABEL_11:
  uint64_t v126 = a9;
  id v23 = (id)INMediaItemTypeGetName();
  uint64_t v127 = a8;
  if (v23)
  {
    id v24 = v23;
    uint64_t v25 = sub_2989C0();
    unint64_t v27 = v26;
  }
  else
  {
    uint64_t v25 = 0;
    unint64_t v27 = 0xE000000000000000;
  }
  sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  swift_bridgeObjectRelease();
  if (a2 == 0x657449616964656DLL && a3 == 0xEA0000000000736DLL || (sub_2995D0() & 1) != 0)
  {
    switch((unint64_t)v14)
    {
      case 1uLL:
        swift_bridgeObjectRelease();
        uint64_t v28 = *(void *)(v19 + 120);
        unint64_t v29 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v28 + 16);
        uint64_t v31 = *(void *)(v28 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD000000000000022;
        uint64_t v33 = 0x80000000002A3470;
        unint64_t v116 = 0xD000000000000022;
        unint64_t v117 = 0x80000000002A3470;
        uint64_t v118 = v34;
        unint64_t v119 = v29;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v36 = v35;
        goto LABEL_32;
      case 2uLL:
        swift_bridgeObjectRelease();
        uint64_t v52 = *(void *)(v19 + 120);
        unint64_t v53 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v52 + 16);
        uint64_t v31 = *(void *)(v52 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD000000000000029;
        uint64_t v33 = 0x80000000002A3410;
        unint64_t v116 = 0xD000000000000029;
        unint64_t v117 = 0x80000000002A3410;
        uint64_t v118 = v54;
        unint64_t v119 = v53;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v56 = v55;
        goto LABEL_32;
      case 3uLL:
        BOOL v57 = v123 == (unsigned char *)&dword_0 + 2;
        BOOL v58 = v124 == (unsigned char *)&dword_0 + 1;
        sub_71D4(&qword_313930);
        uint64_t inited = swift_initStackObject();
        *(_OWORD *)(inited + 16) = xmmword_29C7B0;
        strcpy((char *)(inited + 32), "isLikeAffinity");
        *(unsigned char *)(inited + 47) = -18;
        *(unsigned char *)(inited + 48) = v58;
        *(void *)(inited + 72) = &type metadata for Bool;
        *(void *)(inited + 80) = 0xD000000000000011;
        *(void *)(inited + 88) = 0x80000000002A6540;
        *(unsigned char *)(inited + 96) = v57;
        *(void *)(inited + 120) = &type metadata for Bool;
        *(void *)(inited + 128) = 0x707954616964656DLL;
        *(void *)(inited + 168) = &type metadata for String;
        *(void *)(inited + 136) = 0xE900000000000065;
        *(void *)(inited + 144) = v25;
        *(void *)(inited + 152) = v27;
        unint64_t v60 = sub_9A184(inited);
        uint64_t v61 = *(void *)(v19 + 120);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v62 = *(void *)(v61 + 40);
        uint64_t v63 = *(void *)(v61 + 48);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v62;
        uint64_t v115 = v63;
        unint64_t v116 = 0xD000000000000029;
        unint64_t v117 = 0x80000000002A33E0;
        uint64_t v118 = v64;
        unint64_t v119 = v60;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v66 = v65;
        sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v62, v63, 0xD000000000000029, 0x80000000002A33E0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
        break;
      case 4uLL:
        swift_bridgeObjectRelease();
        uint64_t v67 = *(void *)(v19 + 120);
        unint64_t v68 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v67 + 16);
        uint64_t v31 = *(void *)(v67 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD00000000000002CLL;
        uint64_t v33 = 0x80000000002A34A0;
        unint64_t v116 = 0xD00000000000002CLL;
        unint64_t v117 = 0x80000000002A34A0;
        uint64_t v118 = v69;
        unint64_t v119 = v68;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v71 = v70;
        goto LABEL_32;
      case 5uLL:
        swift_bridgeObjectRelease();
        unint64_t v72 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        id v73 = v125;
        sub_60CA0(v72, v128, (uint64_t)&v129, v127, v126);
        swift_bridgeObjectRelease();
        return sub_23A44((uint64_t)&v129, &qword_30D018);
      case 6uLL:
        swift_bridgeObjectRelease();
        uint64_t v74 = *(void *)(v19 + 120);
        unint64_t v75 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v74 + 40);
        uint64_t v31 = *(void *)(v74 + 48);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD000000000000026;
        uint64_t v33 = 0x80000000002A3440;
        unint64_t v116 = 0xD000000000000026;
        unint64_t v117 = 0x80000000002A3440;
        uint64_t v118 = v76;
        unint64_t v119 = v75;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v78 = v77;
        goto LABEL_32;
      case 7uLL:
        swift_bridgeObjectRelease();
        uint64_t v79 = *(void *)(v19 + 120);
        unint64_t v80 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v79 + 16);
        uint64_t v31 = *(void *)(v79 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD000000000000027;
        uint64_t v33 = 0x80000000002A33B0;
        unint64_t v116 = 0xD000000000000027;
        unint64_t v117 = 0x80000000002A33B0;
        uint64_t v118 = v81;
        unint64_t v119 = v80;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v83 = v82;
        goto LABEL_32;
      case 8uLL:
        swift_bridgeObjectRelease();
        uint64_t v84 = *(void *)(v19 + 120);
        unint64_t v85 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v84 + 16);
        uint64_t v31 = *(void *)(v84 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        uint64_t v32 = 0xD000000000000026;
        uint64_t v33 = 0x80000000002A3380;
        unint64_t v116 = 0xD000000000000026;
        unint64_t v117 = 0x80000000002A3380;
        uint64_t v118 = v86;
        unint64_t v119 = v85;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v88 = v87;
        goto LABEL_32;
      default:
        swift_bridgeObjectRelease();
        if ((id)_INUpdateMediaAffinityMediaItemUnsupportedReasonAppNotAvailable == v14)
        {
          unint64_t v47 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
          char v131 = 0;
          long long v129 = 0u;
          long long v130 = 0u;
          uint64_t v48 = __chkstk_darwin(v47);
          uint64_t v114 = v49;
          uint64_t v115 = v50;
          unint64_t v116 = 0xD000000000000024;
          unint64_t v117 = 0x80000000002A3350;
          uint64_t v118 = v51;
          unint64_t v119 = v48;
          uint64_t v120 = v128;
          uint64_t v121 = &v129;
          uint64_t v122 = 0;
          sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v49, v50, 0xD000000000000024, 0x80000000002A3350, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
LABEL_40:
          sub_23A44((uint64_t)&v129, &qword_30D018);
          return swift_bridgeObjectRelease();
        }
        if ((id)_INUpdateMediaAffinityMediaItemUnsupportedReasonAppNotConfigured == v14)
        {
          unint64_t v97 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
          char v131 = 0;
          long long v129 = 0u;
          long long v130 = 0u;
          uint64_t v98 = __chkstk_darwin(v97);
          uint64_t v114 = v99;
          uint64_t v115 = v100;
          unint64_t v116 = 0xD000000000000025;
          unint64_t v117 = 0x80000000002A3320;
          uint64_t v118 = v101;
          unint64_t v119 = v98;
          uint64_t v120 = v128;
          uint64_t v121 = &v129;
          uint64_t v122 = 0;
          sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v99, v100, 0xD000000000000025, 0x80000000002A3320, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
          goto LABEL_40;
        }
        if ((id)_INUpdateMediaAffinityMediaItemUnsupportedReasonAppAccountFailure == v14)
        {
          unint64_t v102 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
          char v131 = 0;
          long long v129 = 0u;
          long long v130 = 0u;
          uint64_t v103 = __chkstk_darwin(v102);
          uint64_t v114 = v104;
          uint64_t v115 = v105;
          unint64_t v116 = 0xD000000000000026;
          unint64_t v117 = 0x80000000002A32F0;
          uint64_t v118 = v106;
          unint64_t v119 = v103;
          uint64_t v120 = v128;
          uint64_t v121 = &v129;
          uint64_t v122 = 0;
          sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v104, v105, 0xD000000000000026, 0x80000000002A32F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
          goto LABEL_40;
        }
        id v107 = (id)_INUpdateMediaAffinityMediaItemUnsupportedReasonAppDoesntSupportIntent;
        uint64_t v108 = *(void *)(v19 + 120);
        unint64_t v109 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
        *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
        char v131 = &off_2FCF88;
        *(void *)&long long v129 = v125;
        uint64_t v30 = *(void *)(v108 + 16);
        uint64_t v31 = *(void *)(v108 + 24);
        __chkstk_darwin(*((void *)&v130 + 1));
        uint64_t v114 = v30;
        uint64_t v115 = v31;
        if (v107 == v14)
        {
          uint64_t v32 = 0xD00000000000002BLL;
          uint64_t v33 = 0x80000000002A32C0;
          unint64_t v116 = 0xD00000000000002BLL;
          unint64_t v117 = 0x80000000002A32C0;
        }
        else
        {
          uint64_t v32 = 0xD00000000000001CLL;
          uint64_t v33 = 0x80000000002A32A0;
          unint64_t v116 = 0xD00000000000001CLL;
          unint64_t v117 = 0x80000000002A32A0;
        }
        uint64_t v118 = v110;
        unint64_t v119 = v109;
        uint64_t v120 = v128;
        uint64_t v121 = &v129;
        uint64_t v122 = 0;
        id v112 = v111;
LABEL_32:
        sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v30, v31, v32, v33, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
        break;
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    if (a2 == 0x7974696E69666661 && a3 == 0xEC00000065707954 || (sub_2995D0() & 1) != 0)
    {
      BOOL v37 = v123 == (unsigned char *)&dword_0 + 2;
      BOOL v38 = v124 == (unsigned char *)&dword_0 + 1;
      sub_71D4(&qword_313930);
      uint64_t v39 = swift_initStackObject();
      strcpy((char *)(v39 + 32), "isLikeAffinity");
      *(unsigned char *)(v39 + 47) = -18;
      *(unsigned char *)(v39 + 48) = v38;
      *(void *)(v39 + 72) = &type metadata for Bool;
      *(void *)(v39 + 80) = 0xD000000000000011;
      *(_OWORD *)(v39 + 16) = xmmword_29BFD0;
      *(void *)(v39 + 88) = 0x80000000002A6540;
      *(void *)(v39 + 120) = &type metadata for Bool;
      *(unsigned char *)(v39 + 96) = v37;
      unint64_t v40 = sub_9A184(v39);
      uint64_t v41 = *(void *)(v19 + 120);
      *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
      char v131 = &off_2FCF88;
      *(void *)&long long v129 = v125;
      uint64_t v42 = *(void *)(v41 + 40);
      uint64_t v43 = *(void *)(v41 + 48);
      __chkstk_darwin(*((void *)&v130 + 1));
      uint64_t v114 = v42;
      uint64_t v115 = v43;
      unint64_t v116 = 0xD000000000000017;
      unint64_t v117 = 0x80000000002A6580;
      uint64_t v118 = v44;
      unint64_t v119 = v40;
      uint64_t v120 = v128;
      uint64_t v121 = &v129;
      uint64_t v122 = 0;
      id v46 = v45;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v42, v43, 0xD000000000000017, 0x80000000002A6580, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
    }
    else
    {
      uint64_t v90 = *(void *)(v19 + 120);
      unint64_t v91 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
      *((void *)&v130 + 1) = sub_1983C(0, &qword_30DC98);
      char v131 = &off_2FCF88;
      *(void *)&long long v129 = v125;
      uint64_t v92 = *(void *)(v90 + 40);
      uint64_t v93 = *(void *)(v90 + 48);
      __chkstk_darwin(*((void *)&v130 + 1));
      uint64_t v114 = v92;
      uint64_t v115 = v93;
      unint64_t v116 = 0xD000000000000019;
      unint64_t v117 = 0x80000000002A3200;
      uint64_t v118 = v94;
      unint64_t v119 = v91;
      uint64_t v120 = v128;
      uint64_t v121 = &v129;
      uint64_t v122 = 0;
      id v96 = v95;
      sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v127, v126, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v92, v93, 0xD000000000000019, 0x80000000002A3200, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v113);
    }
  }
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)&v129, &qword_30D018);
}

uint64_t sub_13BF80(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  unint64_t v10 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  uint64_t v11 = *(void **)(v5 + 120);
  v27[3] = sub_1983C(0, &qword_30DC98);
  v27[4] = &off_2FCF88;
  v27[0] = a2;
  uint64_t v12 = v11[4];
  uint64_t v13 = v11[5];
  uint64_t v14 = v11[6];
  uint64_t v18 = v13;
  uint64_t v19 = v14;
  unint64_t v20 = 0xD000000000000018;
  unint64_t v21 = 0x80000000002A3510;
  uint64_t v22 = v12;
  unint64_t v23 = v10;
  uint64_t v24 = a1;
  uint64_t v25 = v27;
  uint64_t v26 = 0;
  id v15 = a2;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a4, a5, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v13, v14, 0xD000000000000018, 0x80000000002A3510, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v17);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v27, &qword_30D018);
}

uint64_t sub_13C0B0(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v22 = a6;
  uint64_t v21 = a5;
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29C7B0;
  strcpy((char *)(inited + 32), "isLikeAffinity");
  *(unsigned char *)(inited + 47) = -18;
  *(unsigned char *)(inited + 48) = [a4 affinityType] == (char *)&dword_0 + 1;
  *(void *)(inited + 72) = &type metadata for Bool;
  *(void *)(inited + 80) = 0xD000000000000011;
  *(void *)(inited + 88) = 0x80000000002A6540;
  *(unsigned char *)(inited + 96) = [a4 affinityType] == (char *)&dword_0 + 2;
  *(void *)(inited + 120) = &type metadata for Bool;
  *(void *)(inited + 128) = 0xD000000000000015;
  *(void *)(inited + 136) = 0x80000000002A6560;
  if (a2 == 0x657449616964656DLL && a3 == 0xEA0000000000736DLL) {
    char v12 = 1;
  }
  else {
    char v12 = sub_2995D0();
  }
  *(void *)(inited + 168) = &type metadata for Bool;
  *(unsigned char *)(inited + 144) = v12 & 1;
  unint64_t v13 = sub_9A184(inited);
  uint64_t v14 = *(void *)(v6 + 120);
  uint64_t v25 = &off_2FCF88;
  uint64_t v24 = sub_1983C(0, &qword_30DC98);
  v23[0] = a4;
  uint64_t v15 = *(void *)(v14 + 40);
  uint64_t v16 = *(void *)(v14 + 48);
  __chkstk_darwin(v24);
  _OWORD v20[2] = v15;
  v20[3] = v16;
  _DWORD v20[4] = 0xD00000000000001ALL;
  v20[5] = 0x80000000002A34D0;
  v20[6] = v17;
  v20[7] = v13;
  v20[8] = a1;
  v20[9] = v23;
  v20[10] = 0;
  id v18 = a4;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v21, v22, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v15, v16, 0xD00000000000001ALL, 0x80000000002A34D0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v20);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v23, &qword_30D018);
}

uint64_t sub_13C350(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6)
{
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29C7B0;
  strcpy((char *)(inited + 32), "isLikeAffinity");
  *(unsigned char *)(inited + 47) = -18;
  *(unsigned char *)(inited + 48) = [a4 affinityType] == (char *)&dword_0 + 1;
  *(void *)(inited + 72) = &type metadata for Bool;
  *(void *)(inited + 80) = 0xD000000000000011;
  *(void *)(inited + 88) = 0x80000000002A6540;
  *(unsigned char *)(inited + 96) = [a4 affinityType] == (char *)&dword_0 + 2;
  *(void *)(inited + 120) = &type metadata for Bool;
  *(void *)(inited + 128) = 0x6574656D61726170;
  *(void *)(inited + 168) = &type metadata for String;
  *(void *)(inited + 136) = 0xE900000000000072;
  *(void *)(inited + 144) = a2;
  *(void *)(inited + 152) = a3;
  swift_bridgeObjectRetain();
  unint64_t v13 = sub_9A184(inited);
  uint64_t v14 = *(void **)(v6 + 120);
  v31[3] = sub_1983C(0, &qword_30DC98);
  v31[4] = &off_2FCF88;
  v31[0] = a4;
  uint64_t v15 = v14[4];
  uint64_t v16 = v14[5];
  uint64_t v17 = v14[6];
  uint64_t v22 = v16;
  uint64_t v23 = v17;
  unint64_t v24 = 0xD000000000000012;
  unint64_t v25 = 0x80000000002A34F0;
  uint64_t v26 = v15;
  unint64_t v27 = v13;
  uint64_t v28 = a1;
  unint64_t v29 = v31;
  uint64_t v30 = 0;
  id v18 = a4;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, a5, a6, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v16, v17, 0xD000000000000012, 0x80000000002A34F0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v21);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v31, &qword_30D018);
}

uint64_t sub_13C55C(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7)
{
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  *(void *)(inited + 32) = 7368801;
  *(void *)(inited + 40) = 0xE300000000000000;
  *(void *)(inited + 72) = sub_297700();
  *(void *)(inited + 48) = a1;
  swift_retain();
  unint64_t v56 = sub_9A184(inited);
  if ((a2 != 0x7974696E69666661 || a3 != 0xEC00000065707954) && (sub_2995D0() & 1) == 0)
  {
    swift_bridgeObjectRelease();
    return sub_13A640(a1, a2, a3, a4, a5, a6, a7);
  }
  id v15 = [a4 itemToConfirm];
  sub_299320();
  swift_unknownObjectRelease();
  type metadata accessor for INMediaAffinityType(0);
  int v16 = swift_dynamicCast();
  sub_266F38();
  uint64_t v18 = v17;
  uint64_t v20 = v19;
  sub_266F44();
  uint64_t v49 = a7;
  uint64_t v48 = a6;
  if (v20)
  {
    if (v22)
    {
      if (v18 == v21 && v20 == v22)
      {
        swift_bridgeObjectRelease();
        goto LABEL_13;
      }
      char v24 = sub_2995D0();
      swift_bridgeObjectRelease();
      if (v24)
      {
LABEL_13:
        uint64_t v25 = 0;
        uint64_t v26 = 0;
        if (!v16) {
          goto LABEL_19;
        }
        goto LABEL_16;
      }
    }
  }
  else
  {
    if (!v22) {
      goto LABEL_13;
    }
    swift_bridgeObjectRelease();
  }
  sub_266F44();
  uint64_t v25 = v27;
  uint64_t v26 = v28;
  if (!v16)
  {
LABEL_19:
    unint64_t v47 = 0xE700000000000000;
    uint64_t v29 = 0x4E574F4E4B4E55;
    goto LABEL_20;
  }
LABEL_16:
  if (*(void *)&v55[0] != 1)
  {
    if (*(void *)&v55[0] == 2)
    {
      unint64_t v47 = 0xE700000000000000;
      uint64_t v29 = 0x454B494C534944;
      goto LABEL_20;
    }
    goto LABEL_19;
  }
  unint64_t v47 = 0xE400000000000000;
  uint64_t v29 = 1162561868;
LABEL_20:
  if (!v20)
  {
    sub_23846C(0x656C746974, 0xE500000000000000, &v51);
    sub_23A44((uint64_t)&v51, &qword_30D040);
    if (v26) {
      goto LABEL_22;
    }
LABEL_24:
    sub_23846C(0x747369747261, 0xE600000000000000, &v51);
    sub_23A44((uint64_t)&v51, &qword_30D040);
    goto LABEL_25;
  }
  uint64_t v52 = &type metadata for String;
  *(void *)&long long v51 = v18;
  *((void *)&v51 + 1) = v20;
  sub_26608(&v51, v55);
  unint64_t v30 = v56;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v54 = v30;
  sub_482F0(v55, 0x656C746974, 0xE500000000000000, isUniquelyReferenced_nonNull_native);
  unint64_t v56 = v54;
  swift_bridgeObjectRelease();
  if (!v26) {
    goto LABEL_24;
  }
LABEL_22:
  uint64_t v52 = &type metadata for String;
  *(void *)&long long v51 = v25;
  *((void *)&v51 + 1) = v26;
  sub_26608(&v51, v55);
  unint64_t v32 = v56;
  char v33 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v54 = v32;
  sub_482F0(v55, 0x747369747261, 0xE600000000000000, v33);
  unint64_t v56 = v54;
  swift_bridgeObjectRelease();
LABEL_25:
  id v34 = objc_msgSend(a5, "mediaItems", v47);
  if (v34)
  {
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v35 = sub_298B50();

    if (v35 >> 62)
    {
      swift_bridgeObjectRetain();
      id v34 = (id)sub_2994C0();
      swift_bridgeObjectRelease();
    }
    else
    {
      id v34 = *(id *)((char *)&dword_10 + (v35 & 0xFFFFFFFFFFFFFF8));
    }
    swift_bridgeObjectRelease();
  }
  uint64_t v52 = &type metadata for Int;
  *(void *)&long long v51 = v34;
  sub_26608(&v51, v55);
  unint64_t v36 = v56;
  char v37 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v54 = v36;
  sub_482F0(v55, 0x657449616964656DLL, 0xEE00746E756F436DLL, v37);
  unint64_t v38 = v54;
  swift_bridgeObjectRelease();
  uint64_t v52 = &type metadata for String;
  *(void *)&long long v51 = v29;
  *((void *)&v51 + 1) = v47;
  sub_26608(&v51, v55);
  char v39 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v54 = v38;
  sub_482F0(v55, 0x7974696E69666661, 0xEC00000065707954, v39);
  unint64_t v40 = v54;
  swift_bridgeObjectRelease();
  uint64_t v41 = *(void *)(v50 + 120);
  uint64_t v52 = (void *)sub_1983C(0, &qword_30DC98);
  unint64_t v53 = &off_2FCF88;
  *(void *)&long long v51 = a5;
  uint64_t v42 = *(void *)(v41 + 40);
  uint64_t v43 = *(void *)(v41 + 48);
  __chkstk_darwin(v52);
  long long v46[2] = v42;
  v46[3] = v43;
  v46[4] = 0xD000000000000013;
  v46[5] = 0x80000000002A64D0;
  void v46[6] = v44;
  v46[7] = v40;
  v46[8] = a1;
  v46[9] = &v51;
  v46[10] = 0;
  id v45 = a5;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v48, v49, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v42, v43, 0xD000000000000013, 0x80000000002A64D0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v46);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)&v51, &qword_30D018);
}

uint64_t type metadata accessor for UpdateMediaAffinityDialogProvider()
{
  uint64_t result = qword_312600;
  if (!qword_312600) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_13CBE0()
{
  return swift_initClassMetadata2();
}

uint64_t sub_13CC30(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v34 = a3;
  uint64_t v35 = a4;
  uint64_t v33 = a1;
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A400;
  strcpy((char *)(inited + 32), "isLikeAffinity");
  *(unsigned char *)(inited + 47) = -18;
  *(unsigned char *)(inited + 48) = [a2 affinityType] == (char *)&dword_0 + 1;
  *(void *)(inited + 72) = &type metadata for Bool;
  *(void *)(inited + 80) = 0xD000000000000011;
  *(void *)(inited + 88) = 0x80000000002A6540;
  *(unsigned char *)(inited + 96) = [a2 affinityType] == (char *)&dword_0 + 2;
  *(void *)(inited + 120) = &type metadata for Bool;
  *(void *)(inited + 128) = 0xD000000000000012;
  *(void *)(inited + 136) = 0x80000000002A65A0;
  id v7 = [a2 mediaSearch];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = (char *)[v7 reference];

    BOOL v10 = v9 == (unsigned char *)&dword_0 + 1;
  }
  else
  {
    BOOL v10 = 0;
  }
  *(unsigned char *)(inited + 144) = v10;
  *(void *)(inited + 168) = &type metadata for Bool;
  *(void *)(inited + 176) = 0x657449616964656DLL;
  *(void *)(inited + 184) = 0xEF746E756F43736DLL;
  id v11 = [a2 mediaItems];
  if (v11)
  {
    sub_1983C(0, (unint64_t *)&qword_30D4E8);
    unint64_t v12 = sub_298B50();

    if (v12 >> 62)
    {
      swift_bridgeObjectRetain();
      id v11 = (id)sub_2994C0();
      swift_bridgeObjectRelease();
    }
    else
    {
      id v11 = *(id *)((char *)&dword_10 + (v12 & 0xFFFFFFFFFFFFFF8));
    }
    swift_bridgeObjectRelease();
  }
  *(void *)(inited + 192) = v11;
  *(void *)(inited + 216) = &type metadata for Int;
  *(void *)(inited + 224) = 0x7473697472417369;
  *(void *)(inited + 232) = 0xE800000000000000;
  id v13 = [a2 mediaSearch];
  if (v13)
  {
    uint64_t v14 = v13;
    id v15 = (char *)[v13 mediaType];

    BOOL v16 = v15 == (unsigned char *)&dword_0 + 3;
  }
  else
  {
    BOOL v16 = 0;
  }
  *(unsigned char *)(inited + 240) = v16;
  *(void *)(inited + 264) = &type metadata for Bool;
  *(void *)(inited + 272) = 0x6D75626C417369;
  *(void *)(inited + 280) = 0xE700000000000000;
  id v17 = [a2 mediaSearch];
  if (v17)
  {
    uint64_t v18 = v17;
    uint64_t v19 = (char *)[v17 mediaType];

    BOOL v20 = v19 == (unsigned char *)&dword_0 + 2;
  }
  else
  {
    BOOL v20 = 0;
  }
  *(unsigned char *)(inited + 288) = v20;
  *(void *)(inited + 312) = &type metadata for Bool;
  *(void *)(inited + 320) = 0x676E6F537369;
  *(void *)(inited + 328) = 0xE600000000000000;
  id v21 = [a2 mediaSearch];
  if (v21)
  {
    uint64_t v22 = v21;
    uint64_t v23 = (char *)[v21 mediaType];

    BOOL v24 = v23 == (unsigned char *)&dword_0 + 1;
  }
  else
  {
    BOOL v24 = 0;
  }
  *(void *)(inited + 360) = &type metadata for Bool;
  *(unsigned char *)(inited + 336) = v24;
  unint64_t v25 = sub_9A184(inited);
  uint64_t v26 = *(void *)(v4 + 120);
  uint64_t v37 = sub_1983C(0, &qword_30DC98);
  unint64_t v38 = &off_2FCF88;
  v36[0] = a2;
  uint64_t v27 = *(void *)(v26 + 40);
  uint64_t v28 = *(void *)(v26 + 48);
  __chkstk_darwin(v37);
  _OWORD v32[2] = v27;
  v32[3] = v28;
  v32[4] = 0xD000000000000015;
  v32[5] = 0x80000000002A3530;
  v32[6] = v29;
  v32[7] = v25;
  v32[8] = v33;
  v32[9] = v36;
  v32[10] = 0;
  id v30 = a2;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, v34, v35, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v27, v28, 0xD000000000000015, 0x80000000002A3530, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v32);
  swift_bridgeObjectRelease();
  return sub_23A44((uint64_t)v36, &qword_30D018);
}

uint64_t sub_13D068@<X0>(uint64_t a1@<X8>)
{
  uint64_t v95 = a1;
  uint64_t v78 = sub_297C40();
  uint64_t v77 = *(void *)(v78 - 8);
  __chkstk_darwin(v78);
  uint64_t v76 = &v70[-((v1 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v93 = sub_297C00();
  uint64_t v92 = *(void *)(v93 - 8);
  __chkstk_darwin(v93);
  uint64_t v79 = &v70[-((v2 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v90 = sub_71D4(&qword_30DD98);
  uint64_t v3 = __chkstk_darwin(v90);
  id v83 = &v70[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v3);
  unint64_t v91 = &v70[-v5];
  uint64_t v6 = sub_71D4(&qword_30DDA0);
  uint64_t v7 = __chkstk_darwin(v6 - 8);
  unint64_t v75 = &v70[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v81 = &v70[-v10];
  uint64_t v11 = __chkstk_darwin(v9);
  id v82 = &v70[-v12];
  uint64_t v13 = __chkstk_darwin(v11);
  unint64_t v80 = &v70[-v14];
  uint64_t v15 = __chkstk_darwin(v13);
  id v17 = &v70[-v16];
  uint64_t v18 = __chkstk_darwin(v15);
  unint64_t v89 = &v70[-v19];
  __chkstk_darwin(v18);
  id v21 = &v70[-v20];
  uint64_t v22 = sub_295120();
  uint64_t v23 = *(void *)(v22 - 8);
  __chkstk_darwin(v22);
  unint64_t v25 = &v70[-((v24 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v26 = sub_298800();
  uint64_t v27 = *(void *)(v26 - 8);
  uint64_t v28 = __chkstk_darwin(v26);
  id v88 = &v70[-((v29 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v28);
  uint64_t v31 = &v70[-v30];
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v32 = sub_6E60(v26, (uint64_t)qword_31FC08);
  uint64_t v96 = v27;
  uint64_t v33 = *(void (**)(void))(v27 + 16);
  uint64_t v86 = v32;
  uint64_t v87 = v27 + 16;
  unint64_t v85 = (void (*)(unsigned char *, uint64_t, uint64_t))v33;
  v33(v31);
  uint64_t v34 = sub_2987E0();
  os_log_type_t v35 = sub_298DC0();
  if (os_log_type_enabled(v34, v35))
  {
    unint64_t v36 = (uint8_t *)swift_slowAlloc();
    uint64_t v94 = v23;
    *(_WORD *)unint64_t v36 = 0;
    _os_log_impl(&dword_0, v34, v35, "PlayMediaFlowStrategy#actionForInput", v36, 2u);
    uint64_t v23 = v94;
    swift_slowDealloc();
  }

  uint64_t v38 = v96 + 8;
  uint64_t v37 = *(void (**)(unsigned char *, uint64_t))(v96 + 8);
  uint64_t v94 = v26;
  uint64_t v84 = v37;
  v37(v31, v26);
  sub_295040();
  sub_E3DA0((uint64_t)v25, (uint64_t)&v99);
  (*(void (**)(unsigned char *, uint64_t))(v23 + 8))(v25, v22);
  if (!v100)
  {
    sub_23A44((uint64_t)&v99, &qword_30D8A8);
    goto LABEL_12;
  }
  uint64_t v96 = v38;
  sub_654B4(&v99, &v101);
  sub_74A4(&v101, v102);
  sub_297F70();
  uint64_t v39 = v92;
  unint64_t v40 = *(uint64_t (**)(unsigned char *, uint64_t, uint64_t))(v92 + 48);
  uint64_t v41 = v93;
  int v42 = v40(v21, 1, v93);
  sub_23A44((uint64_t)v21, &qword_30DDA0);
  sub_B0538((uint64_t)&v101, (uint64_t)&v99);
  if (v42 == 1)
  {
LABEL_7:
    sub_7184((uint64_t)&v99);
    sub_B0538((uint64_t)&v101, (uint64_t)v98);
LABEL_8:
    sub_7184((uint64_t)v98);
    sub_B0538((uint64_t)&v101, (uint64_t)v97);
LABEL_9:
    sub_7184((uint64_t)v97);
LABEL_10:
    sub_294590();
    return sub_7184((uint64_t)&v101);
  }
  sub_74A4(&v99, v100);
  uint64_t v48 = (uint64_t)v17;
  uint64_t v49 = v89;
  sub_297F70();
  id v73 = *(void (**)(uint64_t, void, uint64_t))(v39 + 104);
  v73(v48, enum case for CommonAudio.Verb.play(_:), v41);
  uint64_t v74 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v39 + 56);
  v74(v48, 0, 1, v41);
  uint64_t v50 = v91;
  uint64_t v51 = (uint64_t)&v91[*(int *)(v90 + 48)];
  sub_10CBA8((uint64_t)v49, (uint64_t)v91);
  sub_10CBA8(v48, v51);
  if (v40(v50, 1, v41) == 1)
  {
    sub_23A44(v48, &qword_30DDA0);
    uint64_t v50 = v91;
    sub_23A44((uint64_t)v49, &qword_30DDA0);
    if (v40((unsigned char *)v51, 1, v41) == 1)
    {
      sub_23A44((uint64_t)v50, &qword_30DDA0);
      goto LABEL_7;
    }
    goto LABEL_20;
  }
  uint64_t v72 = v48;
  uint64_t v52 = v80;
  sub_10CBA8((uint64_t)v50, (uint64_t)v80);
  if (v40((unsigned char *)v51, 1, v41) == 1)
  {
    sub_23A44(v72, &qword_30DDA0);
    sub_23A44((uint64_t)v89, &qword_30DDA0);
    (*(void (**)(unsigned char *, uint64_t))(v39 + 8))(v52, v41);
LABEL_20:
    sub_23A44((uint64_t)v50, &qword_30DD98);
    sub_7184((uint64_t)&v99);
    sub_B0538((uint64_t)&v101, (uint64_t)v98);
    goto LABEL_21;
  }
  uint64_t v63 = v79;
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v39 + 32))(v79, v51, v41);
  sub_10CC10((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
  int v71 = sub_2989A0();
  uint64_t v64 = *(void (**)(unsigned char *, uint64_t))(v39 + 8);
  v64(v63, v93);
  sub_23A44(v72, &qword_30DDA0);
  sub_23A44((uint64_t)v89, &qword_30DDA0);
  v64(v52, v93);
  uint64_t v41 = v93;
  sub_23A44((uint64_t)v91, &qword_30DDA0);
  sub_7184((uint64_t)&v99);
  sub_B0538((uint64_t)&v101, (uint64_t)v98);
  if (v71) {
    goto LABEL_8;
  }
LABEL_21:
  sub_74A4(v98, v98[3]);
  uint64_t v53 = (uint64_t)v82;
  sub_297F70();
  unint64_t v54 = v81;
  v73((uint64_t)v81, enum case for CommonAudio.Verb.start(_:), v41);
  uint64_t v55 = (uint64_t)v54;
  v74((uint64_t)v54, 0, 1, v41);
  unint64_t v56 = v83;
  uint64_t v57 = (uint64_t)&v83[*(int *)(v90 + 48)];
  sub_10CBA8(v53, (uint64_t)v83);
  sub_10CBA8(v55, v57);
  if (v40(v56, 1, v41) == 1)
  {
    sub_23A44(v55, &qword_30DDA0);
    sub_23A44(v53, &qword_30DDA0);
    if (v40((unsigned char *)v57, 1, v41) == 1)
    {
      sub_23A44((uint64_t)v56, &qword_30DDA0);
      goto LABEL_8;
    }
  }
  else
  {
    BOOL v58 = v75;
    sub_10CBA8((uint64_t)v56, (uint64_t)v75);
    if (v40((unsigned char *)v57, 1, v41) != 1)
    {
      uint64_t v65 = v55;
      uint64_t v66 = v92;
      uint64_t v67 = v79;
      (*(void (**)(unsigned char *, uint64_t, uint64_t))(v92 + 32))(v79, v57, v41);
      sub_10CC10((unint64_t *)&qword_30DDF8, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Verb);
      char v68 = sub_2989A0();
      uint64_t v69 = *(void (**)(unsigned char *, uint64_t))(v66 + 8);
      v69(v67, v41);
      sub_23A44(v65, &qword_30DDA0);
      sub_23A44(v53, &qword_30DDA0);
      v69(v58, v41);
      sub_23A44((uint64_t)v56, &qword_30DDA0);
      sub_7184((uint64_t)v98);
      sub_B0538((uint64_t)&v101, (uint64_t)v97);
      if (v68) {
        goto LABEL_9;
      }
      goto LABEL_27;
    }
    sub_23A44(v55, &qword_30DDA0);
    sub_23A44(v53, &qword_30DDA0);
    (*(void (**)(unsigned char *, uint64_t))(v92 + 8))(v58, v41);
  }
  sub_23A44((uint64_t)v56, &qword_30DD98);
  sub_7184((uint64_t)v98);
  sub_B0538((uint64_t)&v101, (uint64_t)v97);
LABEL_27:
  sub_74A4(v97, v97[3]);
  uint64_t v59 = v77;
  unint64_t v60 = v76;
  uint64_t v61 = v78;
  (*(void (**)(unsigned char *, void, uint64_t))(v77 + 104))(v76, enum case for CommonAudio.Attribute.playNext(_:), v78);
  char v62 = sub_298040();
  (*(void (**)(unsigned char *, uint64_t))(v59 + 8))(v60, v61);
  sub_7184((uint64_t)v97);
  if (v62) {
    goto LABEL_10;
  }
  sub_7184((uint64_t)&v101);
LABEL_12:
  uint64_t v44 = v88;
  v85(v88, v86, v94);
  id v45 = sub_2987E0();
  os_log_type_t v46 = sub_298DB0();
  if (os_log_type_enabled(v45, v46))
  {
    unint64_t v47 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v47 = 0;
    _os_log_impl(&dword_0, v45, v46, "PlayMediaFlowStrategy#actionForInput received unsupported pommesResponse", v47, 2u);
    swift_slowDealloc();
  }

  v84(v44, v94);
  return sub_2945A0();
}

uint64_t type metadata accessor for PlayMediaFlowStrategy()
{
  uint64_t result = qword_312870;
  if (!qword_312870) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_13DE80(void *a1, void (*a2)(id, void), uint64_t a3)
{
  uint64_t v55 = a3;
  unint64_t v56 = a2;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)v50 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  unint64_t v54 = (char *)v50 - v10;
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v50 - v11;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v4, (uint64_t)qword_31FC08);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  v14(v12, v13, v4);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    id v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v53 = v13;
    *(_WORD *)id v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "PlayMediaFlowStrategy#makeIntentFrom", v17, 2u);
    uint64_t v13 = v53;
    swift_slowDealloc();
  }

  uint64_t v20 = *(void (**)(char *, uint64_t))(v5 + 8);
  uint64_t v18 = v5 + 8;
  uint64_t v19 = v20;
  v20(v12, v4);
  uint64_t v21 = sub_124EC();
  if (v21)
  {
    uint64_t v22 = (void *)v21;
    uint64_t v53 = v18;
    id v23 = [objc_allocWithZone((Class)INPlayMediaIntent) init];
    uint64_t v24 = sub_298240();
    id v25 = sub_1C579C(v22, v24);

    swift_bridgeObjectRelease();
    uint64_t v26 = v54;
    v14(v54, v13, v4);
    id v27 = v25;
    uint64_t v28 = sub_2987E0();
    os_log_type_t v29 = sub_298DA0();
    if (os_log_type_enabled(v28, v29))
    {
      uint64_t v30 = (uint8_t *)swift_slowAlloc();
      uint64_t v51 = swift_slowAlloc();
      BOOL v58 = (char *)v51;
      *(_DWORD *)uint64_t v30 = 136315138;
      v50[1] = v30 + 4;
      id v31 = v27;
      id v32 = [v31 description];
      uint64_t v52 = v19;
      id v33 = v32;
      uint64_t v34 = sub_2989C0();
      unint64_t v36 = v35;

      uint64_t v57 = sub_6E98(v34, v36, (uint64_t *)&v58);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v28, v29, "PlayMediaFlowStrategy#makeIntentFromParse converted pommesResponse to intent: %s", v30, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v52(v54, v4);
    }
    else
    {

      v19(v26, v4);
    }
    uint64_t v44 = v56;
    id v45 = v27;
    v44(v27, 0);
  }
  else
  {
    v14(v8, v13, v4);
    id v37 = a1;
    uint64_t v38 = sub_2987E0();
    os_log_type_t v39 = sub_298DB0();
    if (os_log_type_enabled(v38, v39))
    {
      unint64_t v40 = (uint8_t *)swift_slowAlloc();
      unint64_t v54 = (char *)swift_slowAlloc();
      BOOL v58 = v54;
      uint64_t v53 = v18;
      *(_DWORD *)unint64_t v40 = 136315138;
      uint64_t v51 = (uint64_t)(v40 + 4);
      sub_298230();
      sub_2981B0();
      uint64_t v41 = sub_298B60();
      uint64_t v52 = v19;
      unint64_t v43 = v42;
      swift_bridgeObjectRelease();
      uint64_t v57 = sub_6E98(v41, v43, (uint64_t *)&v58);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v38, v39, "PlayMediaFlowStrategy#makeIntentFromParse pommesResponse doesn't contain audioExperience %s", v40, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v52(v8, v4);
    }
    else
    {

      v19(v8, v4);
    }
    os_log_type_t v46 = (void (*)(uint64_t, uint64_t))v56;
    uint64_t v47 = sub_296000();
    sub_10CC10((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v48 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v47 - 8) + 104))(v49, enum case for PlaybackCode.ceGE75(_:), v47);
    v46(v48, 1);
    swift_errorRelease();
  }
}

uint64_t sub_13E518(uint64_t a1)
{
  uint64_t v3 = sub_71D4(&qword_30D620);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = v13 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0) + 16;
  uint64_t v6 = v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DirectInvocationIntent_confirmationState;
  uint64_t v7 = sub_297BD0();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v8 + 56);
  v9(v6, 1, 1, v7);
  sub_6094C(a1, (uint64_t)v13);
  if (v13[56] == 2)
  {
    switch(v13[0])
    {
      case 1:
        uint64_t v10 = (unsigned int *)&enum case for CommonAudio.Confirmation.no(_:);
        break;
      case 2:
        uint64_t v10 = (unsigned int *)&enum case for CommonAudio.Confirmation.moreInfo(_:);
        break;
      case 3:
        uint64_t v10 = (unsigned int *)&enum case for CommonAudio.Confirmation.cancel(_:);
        break;
      default:
        uint64_t v10 = (unsigned int *)&enum case for CommonAudio.Confirmation.yes(_:);
        break;
    }
    (*(void (**)(unsigned char *, void, uint64_t))(v8 + 104))(v5, *v10, v7);
    v9((uint64_t)v5, 0, 1, v7);
    swift_beginAccess();
    sub_13EAD4((uint64_t)v5, v6);
    swift_endAccess();
  }
  else
  {
    sub_13EA98(a1);
    swift_release();
    return 0;
  }
  return v1;
}

uint64_t sub_13E6FC()
{
  sub_13EA38(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DirectInvocationIntent_confirmationState);

  return swift_deallocClassInstance();
}

uint64_t sub_13E760()
{
  return type metadata accessor for DirectInvocationIntent();
}

uint64_t type metadata accessor for DirectInvocationIntent()
{
  uint64_t result = qword_3129E0;
  if (!qword_3129E0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_13E7B4()
{
  sub_13E844();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

void sub_13E844()
{
  if (!qword_30FE88)
  {
    sub_297BD0();
    unint64_t v0 = sub_2992A0();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_30FE88);
    }
  }
}

uint64_t sub_13E89C@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = *v1 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22DirectInvocationIntent_confirmationState;
  swift_beginAccess();
  return sub_13E9D0(v3, a1);
}

uint64_t sub_13E8F4()
{
  return 0;
}

uint64_t sub_13E900@<X0>(uint64_t a1@<X8>)
{
  return sub_13E960((uint64_t (*)(void))&type metadata accessor for DeviceQuantifier, a1);
}

uint64_t sub_13E918@<X0>(uint64_t a1@<X8>)
{
  return sub_13E960((uint64_t (*)(void))&type metadata accessor for DeviceType, a1);
}

uint64_t sub_13E930@<X0>(uint64_t a1@<X8>)
{
  return sub_13E960((uint64_t (*)(void))&type metadata accessor for PlaceHint, a1);
}

uint64_t sub_13E948@<X0>(uint64_t a1@<X8>)
{
  return sub_13E960((uint64_t (*)(void))&type metadata accessor for Reference, a1);
}

uint64_t sub_13E960@<X0>(uint64_t (*a1)(void)@<X2>, uint64_t a2@<X8>)
{
  uint64_t v3 = a1(0);
  uint64_t v4 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v3 - 8) + 56);

  return v4(a2, 1, 1, v3);
}

uint64_t sub_13E9D0(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30D620);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_13EA38(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30D620);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_13EA98(uint64_t a1)
{
  return a1;
}

uint64_t sub_13EAD4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_71D4(&qword_30D620);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_13EB3C()
{
  uint64_t v0 = sub_296A10();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v12 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v12 - v5;
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  sub_2942A0();
  int v7 = CATDefaultMode;
  sub_296390();
  uint64_t v8 = sub_296380();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v9 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v13);
  (*(void (**)(char *, char *, uint64_t))(v1 + 16))(v4, v6, v0);
  swift_retain();
  uint64_t v10 = sub_141EA0(v13, v7, v8, (uint64_t)v14, (uint64_t)v4, v9);
  swift_release();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v6, v0);
  swift_release();
  return v10;
}

uint64_t sub_13ED0C()
{
  type metadata accessor for AcousticIDFlow.State(0);

  return swift_storeEnumTagMultiPayload();
}

uint64_t sub_13ED50@<X0>(void *a1@<X8>)
{
  uint64_t v2 = sub_296790();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v11 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v11 - v7;
  sub_296780();
  (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v6, v8, v2);
  id v9 = sub_1405D0((uint64_t)v6);
  (*(void (**)(char *, uint64_t))(v3 + 8))(v8, v2);
  uint64_t result = type metadata accessor for ShazamKitRecognizer();
  a1[3] = result;
  a1[4] = &off_2F6DE8;
  *a1 = v9;
  return result;
}

uint64_t sub_13EE80@<X0>(uint64_t *a1@<X8>)
{
  return sub_13EEF4((uint64_t (*)(void))&type metadata accessor for ShazamSessionManager, (uint64_t (*)(void))&static ShazamSessionManager.shared.getter, (uint64_t)&protocol witness table for ShazamSessionManager, a1);
}

uint64_t sub_13EEC0@<X0>(uint64_t *a1@<X8>)
{
  return sub_13EEF4((uint64_t (*)(void))&type metadata accessor for SiriKitTaskLoggingProvider, (uint64_t (*)(void))&static SiriKitTaskLoggingProvider.shared.getter, (uint64_t)&protocol witness table for SiriKitTaskLoggingProvider, a1);
}

uint64_t sub_13EEF4@<X0>(uint64_t (*a1)(void)@<X0>, uint64_t (*a2)(void)@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X8>)
{
  uint64_t v7 = a1(0);
  uint64_t result = a2();
  a4[3] = v7;
  a4[4] = a3;
  *a4 = result;
  return result;
}

uint64_t sub_13EF48@<X0>(uint64_t *a1@<X8>)
{
  return sub_13EFB0((uint64_t (*)(void))&type metadata accessor for SubscriptionProvider, (uint64_t)&protocol witness table for SubscriptionProvider, (uint64_t (*)(void))&static SubscriptionProvider.shared.getter, a1);
}

uint64_t sub_13EF7C@<X0>(uint64_t *a1@<X8>)
{
  return sub_13EFB0((uint64_t (*)(void))&type metadata accessor for FeatureFlagProvider, (uint64_t)&protocol witness table for FeatureFlagProvider, (uint64_t (*)(void))&static FeatureFlagProvider.shared.getter, a1);
}

uint64_t sub_13EFB0@<X0>(uint64_t (*a1)(void)@<X0>, uint64_t a2@<X1>, uint64_t (*a3)(void)@<X2>, uint64_t *a4@<X8>)
{
  a4[3] = a1(0);
  a4[4] = a2;
  sub_12B48(a4);
  return a3();
}

uint64_t sub_13F008@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v6 = sub_296A10();
  uint64_t v7 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v5);
  sub_296A00();
  uint64_t v2 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v3 = swift_allocObject();
  uint64_t result = sub_11EBC(&v5, v3 + 16);
  a1[3] = v2;
  a1[4] = (uint64_t)&off_2FA760;
  *a1 = v3;
  return result;
}

uint64_t sub_13F094()
{
  uint64_t v0 = sub_296A10();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v12 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v12 - v5;
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  int v7 = CATDefaultMode;
  sub_296390();
  uint64_t v8 = sub_296380();
  sub_2942A0();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v9 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v13);
  (*(void (**)(char *, char *, uint64_t))(v1 + 16))(v4, v6, v0);
  swift_retain();
  uint64_t v10 = sub_141EA0(v13, v7, v8, (uint64_t)v14, (uint64_t)v4, v9);
  swift_release();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v6, v0);
  swift_release();
  return v10;
}

uint64_t sub_13F264(_OWORD *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  v31[3] = &type metadata for StringsBackedAppNameResolver;
  v31[4] = sub_18D08();
  uint64_t v14 = (_OWORD *)swift_allocObject();
  v31[0] = v14;
  long long v15 = a1[3];
  void v14[3] = a1[2];
  v14[4] = v15;
  uint64_t v14[5] = a1[4];
  long long v16 = a1[1];
  v14[1] = *a1;
  v14[2] = v16;
  v30[3] = sub_296390();
  v30[4] = &protocol witness table for MorphunProvider;
  v30[0] = a2;
  void v29[3] = sub_297180();
  v29[4] = &protocol witness table for MultiUserConnectionProvider;
  v29[0] = a4;
  uint64_t v17 = sub_2961A0();
  v28[3] = v17;
  v28[4] = (uint64_t)&protocol witness table for DeviceProvider;
  uint64_t v18 = sub_12B48(v28);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v17 - 8) + 32))(v18, a6, v17);
  sub_18D5C((uint64_t)v31, a7 + 16);
  sub_18D5C((uint64_t)v30, a7 + 216);
  sub_18D5C(a3, a7 + 56);
  sub_18D5C((uint64_t)v29, a7 + 96);
  sub_18D5C((uint64_t)v28, a7 + 176);
  sub_11E58(a5, (uint64_t)&v23, &qword_312C08);
  sub_18D5C(a3, (uint64_t)v22);
  if (v24)
  {
    sub_7184((uint64_t)v28);
    sub_23A44(a5, &qword_312C08);
    sub_7184((uint64_t)v29);
    sub_7184(a3);
    sub_7184((uint64_t)v30);
    sub_7184((uint64_t)v31);
    sub_7184((uint64_t)v22);
    sub_11EBC(&v23, (uint64_t)&v25);
  }
  else
  {
    sub_18D5C((uint64_t)v22, (uint64_t)&v25);
    uint64_t v19 = sub_294710();
    swift_allocObject();
    uint64_t v20 = sub_294700();
    uint64_t v26 = v19;
    id v27 = &protocol witness table for ContactsManager;
    *(void *)&long long v25 = v20;
    sub_7184((uint64_t)v28);
    sub_23A44(a5, &qword_312C08);
    sub_7184((uint64_t)v29);
    sub_7184(a3);
    sub_7184((uint64_t)v30);
    sub_7184((uint64_t)v31);
    sub_7184((uint64_t)v22);
    sub_23A44((uint64_t)&v23, &qword_312C08);
  }
  sub_11EBC(&v25, a7 + 136);
  return a7;
}

uint64_t sub_13F4D4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v87 = a1;
  uint64_t v82 = sub_2987D0();
  uint64_t v81 = *(void *)(v82 - 8);
  __chkstk_darwin(v82);
  unint64_t v80 = (char *)v68 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v79 = sub_296AA0();
  uint64_t v78 = *(void *)(v79 - 8);
  uint64_t v8 = __chkstk_darwin(v79);
  uint64_t v77 = (char *)v68 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v76 = (char *)v68 - v10;
  uint64_t v11 = sub_71D4(&qword_30DEB8);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)v68 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v86 = sub_296A10();
  uint64_t v14 = *(void *)(v86 - 8);
  uint64_t v15 = __chkstk_darwin(v86);
  uint64_t v17 = (char *)v68 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v84 = (char *)v68 - v18;
  uint64_t v19 = sub_298800();
  uint64_t v20 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  uint64_t v22 = (char *)v68 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v92 = sub_295C80();
  uint64_t v93 = &protocol witness table for SiriKitTaskLoggingProvider;
  uint64_t v75 = v92;
  uint64_t v91 = a3;
  sub_293680();
  uint64_t v23 = a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_result;
  uint64_t v24 = sub_71D4(&qword_312C38);
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v23, 1, 1, v24);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_6E60(v19, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v20 + 16))(v22, v25, v19);
  uint64_t v26 = sub_2987E0();
  os_log_type_t v27 = sub_298DA0();
  BOOL v28 = os_log_type_enabled(v26, v27);
  unint64_t v85 = v13;
  if (v28)
  {
    os_log_type_t v29 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v29 = 0;
    _os_log_impl(&dword_0, v26, v27, "PlayMediaRCHFlowWrapper#init", v29, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v20 + 8))(v22, v19);
  sub_11E58(v87, a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_input, &qword_30EBB8);
  if (a2)
  {
    uint64_t v30 = a2;
    uint64_t v31 = v14;
    id v32 = v84;
    uint64_t v33 = (uint64_t)v17;
  }
  else
  {
    sub_71D4(&qword_3118D8);
    uint64_t v31 = v14;
    if (qword_30C938 != -1) {
      swift_once();
    }
    *(void *)&v89[0] = static PlayMedia.flowStrategy;
    uint64_t v34 = qword_30C940;
    swift_retain();
    id v32 = v84;
    uint64_t v33 = (uint64_t)v17;
    if (v34 != -1) {
      swift_once();
    }
    swift_retain();
    uint64_t v30 = sub_295160();
  }
  *(void *)(a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_playMediaFlow) = v30;
  sub_18D5C((uint64_t)&v91, a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_siriKitTaskLoggingProvider);
  uint64_t v35 = qword_30C8B0;
  swift_retain();
  if (v35 != -1) {
    swift_once();
  }
  uint64_t v83 = a2;
  int v36 = CATDefaultMode;
  sub_296390();
  uint64_t v37 = sub_296380();
  sub_2942A0();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v38 = swift_allocObject();
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v89);
  os_log_type_t v39 = v32;
  uint64_t v40 = v86;
  uint64_t v72 = *(void (**)(uint64_t, char *, uint64_t))(v31 + 16);
  v72(v33, v39, v86);
  swift_retain();
  int v41 = v36;
  uint64_t v42 = v40;
  unint64_t v43 = v84;
  uint64_t v44 = sub_141EA0(v89, v41, v37, (uint64_t)v90, v33, v38);
  swift_release();
  id v45 = *(void (**)(char *, uint64_t))(v31 + 8);
  v68[2] = (void *)(v31 + 8);
  id v73 = v45;
  v45(v43, v42);
  swift_release();
  type metadata accessor for PlayMediaCatDialogService();
  os_log_type_t v46 = (void *)swift_allocObject();
  uint64_t v71 = v33;
  uint64_t v47 = (uint64_t)v46;
  void v46[6] = 0xEF746E65746E4961;
  long long v46[2] = 0xD000000000000011;
  v46[3] = 0x80000000002A3570;
  v46[4] = v44;
  v46[5] = 0x6964654D79616C50;
  *(void *)(a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_playDialogService) = v46;
  uint64_t v48 = sub_294F60();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v48 - 8) + 56))(v85, 1, 1, v48);
  unint64_t v69 = sub_A6604(_swiftEmptyArrayStorage);
  uint64_t v74 = v44;
  swift_retain_n();
  swift_retain();
  sub_2942A0();
  sub_296A00();
  uint64_t v49 = v76;
  sub_296A90();
  uint64_t v70 = sub_295C70();
  uint64_t v75 = a4;
  uint64_t v50 = v49;
  if (qword_30C950 != -1) {
    swift_once();
  }
  uint64_t v51 = qword_31FE88;
  swift_retain();
  sub_2963E0();
  uint64_t v52 = type metadata accessor for DialogHistoryProvider();
  v88[4] = &off_2FCE00;
  v88[3] = v52;
  v88[0] = v51;
  type metadata accessor for PlayMediaDialogProvider();
  v68[0] = (void *)swift_allocObject();
  uint64_t v53 = sub_12AF8((uint64_t)v88, v52);
  v68[1] = v68;
  __chkstk_darwin(v53);
  uint64_t v55 = (uint64_t *)((char *)v68 - ((v54 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v56 + 16))(v55);
  uint64_t v57 = *v55;
  uint64_t v58 = v71;
  v72(v71, v43, v42);
  uint64_t v59 = v78;
  uint64_t v60 = (uint64_t)v77;
  uint64_t v61 = v79;
  (*(void (**)(char *, char *, uint64_t))(v78 + 16))(v77, v50, v79);
  swift_retain();
  uint64_t v62 = v70;
  swift_retain();
  uint64_t v63 = sub_11BB34(v47, v74, v69, (uint64_t)v89, (uint64_t)v85, v58, v60, v62, v57, (uint64_t)v90, v68[0]);
  swift_release();
  (*(void (**)(char *, uint64_t))(v59 + 8))(v50, v61);
  v73(v43, v86);
  swift_release();
  sub_7184((uint64_t)v88);
  swift_release();
  uint64_t v64 = v75;
  *(void *)(v75 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_playMediaDialogProvider) = v63;
  sub_2944B0();
  swift_allocObject();
  *(void *)(v64 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_viewFactory) = sub_294490();
  sub_2967C0();
  swift_allocObject();
  *(void *)(v64 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_pseSignalsStitcher) = sub_2967B0();
  sub_296620();
  sub_296610();
  sub_2965F0();
  swift_release();
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v65 = (id)qword_31FCE0;
  uint64_t v66 = v80;
  sub_2987B0();
  (*(void (**)(uint64_t, char *, uint64_t))(v81 + 32))(v64 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin23PlayMediaRCHFlowWrapper_signpost, v66, v82);
  sub_299100();
  sub_298790();
  swift_release();
  swift_release();
  sub_7184((uint64_t)&v91);
  sub_23A44(v87, &qword_30EBB8);
  return v64;
}

void *sub_1400CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, _OWORD *a6, uint64_t a7, uint64_t a8, uint64_t a9, long long *a10, uint64_t a11, uint64_t a12, void *a13)
{
  uint64_t v44 = a8;
  uint64_t v45 = a3;
  uint64_t v52 = a5;
  uint64_t v47 = a1;
  uint64_t v51 = a12;
  uint64_t v50 = a11;
  uint64_t v49 = a10;
  uint64_t v43 = a9;
  uint64_t v17 = sub_296A10();
  uint64_t v18 = *(void *)(v17 - 8);
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v48 = (char *)&v42 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v19);
  uint64_t v22 = (char *)&v42 - v21;
  uint64_t v23 = sub_298390();
  v69[3] = v23;
  v69[4] = (uint64_t)&protocol witness table for ControlsFlowProvider;
  uint64_t v24 = sub_12B48(v69);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v23 - 8) + 32))(v24, a2, v23);
  v68[3] = sub_296E20();
  v68[4] = &protocol witness table for NetworkStatusProvider;
  v68[0] = a4;
  v67[3] = &type metadata for StringsBackedAppNameResolver;
  v67[4] = sub_18D08();
  uint64_t v25 = (_OWORD *)swift_allocObject();
  v67[0] = v25;
  os_log_type_t v46 = v25 + 1;
  long long v26 = a6[3];
  v25[3] = a6[2];
  v25[4] = v26;
  v25[5] = a6[4];
  long long v27 = a6[1];
  v25[1] = *a6;
  long long v25[2] = v27;
  uint64_t v65 = sub_296450();
  uint64_t v66 = &protocol witness table for SEDeviceProvider;
  *(void *)&long long v64 = a7;
  uint64_t v62 = v17;
  uint64_t v63 = &protocol witness table for FeatureFlagProvider;
  BOOL v28 = sub_12B48((uint64_t *)&v61);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v18 + 32))(v28, v44, v17);
  uint64_t v59 = sub_295C80();
  uint64_t v60 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v58 = v43;
  uint64_t v56 = type metadata accessor for AudioFlowProvider();
  uint64_t v57 = &off_2F82F0;
  *(void *)&long long v55 = v45;
  uint64_t v29 = (uint64_t)a13 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17AmbiguousPlayFlow_input;
  uint64_t v30 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v30 - 8) + 56))(v29, 1, 1, v30);
  *((unsigned char *)a13 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17AmbiguousPlayFlow_state) = 0;
  *(void *)((char *)a13 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17AmbiguousPlayFlow_shimAudioExperience) = 0;
  uint64_t v31 = (void *)((char *)a13 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17AmbiguousPlayFlow_shimError);
  *uint64_t v31 = 0;
  v31[1] = 0;
  swift_beginAccess();
  uint64_t v32 = v47;
  sub_14418(v47, v29);
  swift_endAccess();
  sub_18D5C((uint64_t)v69, (uint64_t)(a13 + 2));
  sub_18D5C((uint64_t)v68, (uint64_t)(a13 + 7));
  uint64_t v33 = v52;
  sub_18D5C(v52, (uint64_t)(a13 + 14));
  sub_18D5C((uint64_t)v67, (uint64_t)(a13 + 19));
  sub_18D5C(v33, (uint64_t)v54);
  LODWORD(v23) = CATDefaultMode;
  sub_296390();
  uint64_t v34 = sub_296380();
  sub_296A00();
  type metadata accessor for CatService();
  uint64_t v35 = swift_allocObject();
  sub_18C00((uint64_t)v46, (uint64_t)v53);
  uint64_t v36 = (uint64_t)v48;
  (*(void (**)(char *, char *, uint64_t))(v18 + 16))(v48, v22, v17);
  swift_retain();
  uint64_t v37 = sub_141EA0(v53, v23, v34, (uint64_t)v54, v36, v35);
  swift_release();
  (*(void (**)(char *, uint64_t))(v18 + 8))(v22, v17);
  swift_release();
  type metadata accessor for PlayMediaCatDialogService();
  uint64_t v38 = (void *)swift_allocObject();
  v38[6] = 0xEF746E65746E4961;
  dispatch_group_t v38[2] = 0xD000000000000011;
  void v38[3] = 0x80000000002A3570;
  v38[4] = v37;
  v38[5] = 0x6964654D79616C50;
  a13[12] = v38;
  sub_2944B0();
  swift_allocObject();
  uint64_t v39 = sub_294490();
  sub_7184((uint64_t)v67);
  sub_7184(v52);
  sub_7184((uint64_t)v68);
  sub_7184((uint64_t)v69);
  sub_23A44(v32, &qword_30EBB8);
  a13[13] = v39;
  sub_11EBC(&v64, (uint64_t)(a13 + 24));
  sub_11EBC(&v61, (uint64_t)(a13 + 29));
  sub_11EBC(&v55, (uint64_t)(a13 + 34));
  sub_11EBC(&v58, (uint64_t)(a13 + 39));
  sub_11EBC(v49, (uint64_t)(a13 + 44));
  uint64_t v40 = v51;
  a13[49] = v50;
  a13[50] = v40;
  return a13;
}

id sub_1405D0(uint64_t a1)
{
  uint64_t v2 = sub_296790();
  v12[3] = v2;
  v12[4] = (uint64_t)&protocol witness table for NowPlayingProvider;
  uint64_t v3 = sub_12B48(v12);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v2 - 8) + 32))(v3, a1, v2);
  uint64_t v4 = (objc_class *)type metadata accessor for ShazamKitRecognizer();
  uint64_t v5 = (char *)objc_allocWithZone(v4);
  *(void *)&v5[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_result] = 0;
  sub_71D4(&qword_310760);
  swift_storeEnumTagMultiPayload();
  sub_18D5C((uint64_t)v12, (uint64_t)&v5[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_nowPlayingProvider]);
  id v6 = objc_allocWithZone((Class)SHManagedSession);
  uint64_t v7 = v5;
  id v8 = [v6 init];
  *(void *)&v7[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_managedSession] = v8;
  *(void *)&v7[OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShazamKitRecognizer_dispatchGroup] = dispatch_group_create();

  v11.receiver = v7;
  v11.super_class = v4;
  id v9 = objc_msgSendSuper2(&v11, "init");
  sub_7184((uint64_t)v12);
  return v9;
}

uint64_t sub_140718(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, long long *a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t v62 = a6;
  uint64_t v63 = a7;
  uint64_t v60 = a2;
  uint64_t v61 = a5;
  uint64_t v59 = a1;
  uint64_t v65 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v66 = &off_2FA760;
  v64[0] = a11;
  type metadata accessor for AcousticIDFlow(0);
  uint64_t v58 = swift_allocObject();
  uint64_t v14 = sub_12AF8((uint64_t)v64, v65);
  __chkstk_darwin(v14);
  uint64_t v16 = (uint64_t *)((char *)&v46 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v17 + 16))(v16);
  uint64_t v56 = *v16;
  uint64_t v57 = a3;
  uint64_t v18 = *(void *)(a3 + 24);
  uint64_t v54 = *(void *)(a3 + 32);
  uint64_t v19 = sub_12AF8(a3, v18);
  __chkstk_darwin(v19);
  uint64_t v53 = (uint64_t)&v46 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(void))(v21 + 16))();
  uint64_t v55 = a4;
  uint64_t v22 = *(void *)(a4 + 24);
  uint64_t v52 = *(void *)(a4 + 32);
  uint64_t v23 = sub_12AF8(a4, v22);
  __chkstk_darwin(v23);
  uint64_t v25 = (char *)&v46 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v26 + 16))(v25);
  uint64_t v27 = a8;
  uint64_t v51 = a8;
  uint64_t v28 = *(void *)(a8 + 24);
  uint64_t v50 = *(void *)(v27 + 32);
  uint64_t v29 = sub_12AF8(v27, v28);
  __chkstk_darwin(v29);
  uint64_t v31 = (char *)&v46 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v32 + 16))(v31);
  uint64_t v33 = *(void *)(a9 + 24);
  uint64_t v48 = *(void *)(a9 + 32);
  uint64_t v49 = a9;
  uint64_t v34 = sub_12AF8(a9, v33);
  __chkstk_darwin(v34);
  uint64_t v36 = (char *)&v46 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v37 + 16))(v36);
  uint64_t v47 = a10;
  uint64_t v38 = *(void *)(a10 + 24);
  uint64_t v39 = *(void *)(a10 + 32);
  uint64_t v40 = sub_12AF8(a10, v38);
  __chkstk_darwin(v40);
  uint64_t v42 = (char *)&v46 - ((v41 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *))(v43 + 16))(v42);
  uint64_t v44 = sub_171A90(v59, v60, v53, (uint64_t)v25, v61, v62, v63, (uint64_t)v31, (uint64_t)v36, (uint64_t)v42, v56, v58, v28, v18, v38, v33, v22, v50, v54,
          v39,
          v48,
          v52);
  sub_7184(v47);
  sub_7184(v49);
  sub_7184(v51);
  sub_7184(v55);
  sub_7184(v57);
  sub_7184((uint64_t)v64);
  return v44;
}

uint64_t sub_140C0C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, long long *a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  v42[3] = type metadata accessor for ShazamKitRecognizer();
  v42[4] = &off_2F6DE8;
  v42[0] = a3;
  v41[3] = sub_296D50();
  v41[4] = &protocol witness table for ShazamSessionManager;
  v41[0] = a4;
  uint64_t v39 = sub_295C80();
  uint64_t v40 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v38 = a8;
  uint64_t v18 = sub_296D90();
  uint64_t v36 = v18;
  uint64_t v37 = &protocol witness table for SubscriptionProvider;
  uint64_t v19 = sub_12B48((uint64_t *)&v35);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 32))(v19, a9, v18);
  uint64_t v20 = sub_296A10();
  uint64_t v33 = v20;
  uint64_t v34 = &protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48((uint64_t *)&v32);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a10, v20);
  uint64_t v30 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v31 = &off_2FA760;
  *(void *)&long long v29 = a11;
  uint64_t v22 = a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_input;
  uint64_t v23 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v22, 1, 1, v23);
  *(unsigned char *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) = 0;
  *(unsigned char *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_isInAmbient) = 0;
  swift_beginAccess();
  sub_14418(a1, v22);
  swift_endAccess();
  sub_18D5C((uint64_t)v42, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer);
  sub_18D5C((uint64_t)v41, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager);
  type metadata accessor for AcousticIdCatDialogService();
  uint64_t v24 = (void *)swift_allocObject();
  uint64_t v24[5] = 0xD000000000000010;
  v24[6] = 0x80000000002A66A0;
  void v24[2] = 0xD000000000000011;
  void v24[3] = 0x80000000002A3570;
  void v24[4] = a6;
  *(void *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService) = v24;
  sub_18D5C(a5, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_aceServiceInvokerAsync);
  sub_2944B0();
  swift_allocObject();
  uint64_t v25 = sub_294490();
  sub_7184(a5);
  sub_7184((uint64_t)v41);
  sub_7184((uint64_t)v42);
  sub_23A44(a1, &qword_30EBB8);
  *(void *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_viewFactory) = v25;
  sub_1451E4(a2, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state);
  sub_11EBC(a7, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher);
  sub_11EBC(&v38, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider);
  sub_11EBC(&v35, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider);
  sub_11EBC(&v32, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider);
  sub_11EBC(&v29, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_outputProvider);
  return a12;
}

void *sub_140F68(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  uint64_t v17 = sub_296790();
  void v36[3] = v17;
  v36[4] = (uint64_t)&protocol witness table for NowPlayingProvider;
  uint64_t v18 = sub_12B48(v36);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v17 - 8) + 32))(v18, a3, v17);
  uint64_t v35[3] = sub_295C80();
  _OWORD v35[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v35[0] = a6;
  uint64_t v33 = sub_2963C0();
  uint64_t v34 = &protocol witness table for AppIntentInvoker;
  *(void *)&long long v32 = a8;
  uint64_t v19 = sub_296A10();
  uint64_t v30 = v19;
  uint64_t v31 = &protocol witness table for FeatureFlagProvider;
  uint64_t v20 = sub_12B48((uint64_t *)&v29);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v19 - 8) + 32))(v20, a9, v19);
  v28[3] = type metadata accessor for AudioFlowProvider();
  v28[4] = &off_2F82F0;
  v28[0] = a2;
  uint64_t v21 = (uint64_t)a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin22AmbiguousDetermineFlow_input;
  uint64_t v22 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v22 - 8) + 56))(v21, 1, 1, v22);
  swift_beginAccess();
  sub_14418(a1, v21);
  swift_endAccess();
  sub_18D5C((uint64_t)v28, (uint64_t)(a10 + 2));
  sub_18D5C((uint64_t)v36, (uint64_t)(a10 + 7));
  a10[12] = a5;
  sub_18D5C((uint64_t)v35, (uint64_t)(a10 + 13));
  type metadata accessor for DetermineCatDialogService();
  uint64_t v23 = (void *)swift_allocObject();
  v23[6] = 0xEF746E65746E4965;
  void v23[2] = 0xD000000000000011;
  void v23[3] = 0x80000000002A3570;
  v23[4] = a4;
  _OWORD v23[5] = 0x6E696D7265746544;
  a10[18] = v23;
  type metadata accessor for CommonMediaIntentCatDialogService();
  uint64_t v24 = (void *)swift_allocObject();
  void v24[2] = 0xD000000000000011;
  void v24[3] = 0x80000000002A3570;
  void v24[4] = a4;
  a10[19] = v24;
  sub_18D5C(a7, (uint64_t)(a10 + 20));
  sub_2944B0();
  swift_allocObject();
  swift_retain();
  uint64_t v25 = sub_294490();
  sub_7184(a7);
  sub_7184((uint64_t)v35);
  sub_7184((uint64_t)v36);
  sub_7184((uint64_t)v28);
  sub_23A44(a1, &qword_30EBB8);
  a10[25] = v25;
  sub_11EBC(&v32, (uint64_t)(a10 + 26));
  sub_11EBC(&v29, (uint64_t)(a10 + 31));
  return a10;
}

uint64_t sub_141264(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v41 = a5;
  uint64_t v42 = a4;
  uint64_t v10 = sub_296A10();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  long long v38 = (char *)&v38 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v39 = (char *)&v38 - v14;
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v38 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_298390();
  v47[3] = v19;
  v47[4] = (uint64_t)&protocol witness table for ControlsFlowProvider;
  uint64_t v20 = sub_12B48(v47);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v19 - 8) + 32))(v20, a1, v19);
  v46[3] = v10;
  v46[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48(v46);
  uint64_t v40 = v11;
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v11 + 32))(v21, a3, v10);
  v45[3] = type metadata accessor for AudioFlowProvider();
  v45[4] = &off_2F82F0;
  v45[0] = a2;
  uint64_t v22 = a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_input;
  uint64_t v23 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v22, 1, 1, v23);
  *(void *)(a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_pommesResponse) = 0;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v24 = sub_6E60(v15, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v24, v15);
  uint64_t v25 = sub_2987E0();
  os_log_type_t v26 = sub_298DA0();
  if (os_log_type_enabled(v25, v26))
  {
    uint64_t v27 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v27 = 0;
    _os_log_impl(&dword_0, v25, v26, "PommesResponseFlow#init", v27, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
  sub_18D5C((uint64_t)v47, a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_controlsFlowProvider);
  sub_18D5C((uint64_t)v45, a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_audioFlowProvider);
  sub_18D5C((uint64_t)v46, a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_featureFlagProvider);
  uint64_t v28 = v42;
  sub_18D5C(v42, a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_aceServiceInvoker);
  uint64_t v29 = v41;
  if (!v41)
  {
    if (qword_30C8B0 != -1) {
      swift_once();
    }
    int v30 = CATDefaultMode;
    sub_296390();
    uint64_t v31 = sub_296380();
    sub_2942A0();
    long long v32 = v39;
    sub_296A00();
    type metadata accessor for CatService();
    uint64_t v33 = swift_allocObject();
    sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v43);
    uint64_t v34 = v40;
    uint64_t v35 = (uint64_t)v38;
    (*(void (**)(char *, char *, uint64_t))(v40 + 16))(v38, v32, v10);
    swift_retain();
    uint64_t v29 = sub_141EA0(v43, v30, v31, (uint64_t)v44, v35, v33);
    swift_release();
    (*(void (**)(char *, uint64_t))(v34 + 8))(v32, v10);
    swift_release();
  }
  type metadata accessor for CommonMediaIntentCatDialogService();
  uint64_t v36 = (void *)swift_allocObject();
  v36[2] = 0xD000000000000011;
  void v36[3] = 0x80000000002A3570;
  v36[4] = v29;
  sub_7184(v28);
  sub_7184((uint64_t)v46);
  sub_7184((uint64_t)v45);
  sub_7184((uint64_t)v47);
  *(void *)(a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin18PommesResponseFlow_commonMediaIntentCatDialogService) = v36;
  return a6;
}

uint64_t sub_1417A0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, long long *a6, uint64_t a7, uint64_t a8, char a9, uint64_t a10)
{
  uint64_t v35[3] = sub_297050();
  _OWORD v35[4] = &protocol witness table for AppleMediaServicesProvider;
  v35[0] = a4;
  uint64_t v33 = sub_295C80();
  uint64_t v34 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v32 = a7;
  uint64_t v18 = sub_296A10();
  uint64_t v30 = v18;
  uint64_t v31 = &protocol witness table for FeatureFlagProvider;
  uint64_t v19 = sub_12B48((uint64_t *)&v29);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 32))(v19, a8, v18);
  v28[3] = type metadata accessor for AudioFlowProvider();
  v28[4] = &off_2F82F0;
  v28[0] = a3;
  uint64_t v20 = a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_input;
  uint64_t v21 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v20, 1, 1, v21);
  uint64_t v22 = a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_parse;
  uint64_t v23 = sub_295120();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v22, 1, 1, v23);
  uint64_t v24 = (void *)(a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_newsPodcastTopicId);
  *uint64_t v24 = 0;
  v24[1] = 0;
  uint64_t v25 = (void *)(a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_newsPodcastIdentifier);
  *uint64_t v25 = 0;
  v25[1] = 0;
  swift_beginAccess();
  sub_14418(a1, v20);
  swift_endAccess();
  *(void *)(a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_networkAvailabilityProvider) = a2;
  sub_18D5C((uint64_t)v28, a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_audioFlowProvider);
  sub_18D5C((uint64_t)v35, a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_appleMediaServicesProvider);
  type metadata accessor for PlayMediaCatDialogService();
  os_log_type_t v26 = (void *)swift_allocObject();
  v26[6] = 0xEF746E65746E4961;
  void v26[2] = 0xD000000000000011;
  void v26[3] = 0x80000000002A3570;
  v26[4] = a5;
  void v26[5] = 0x6964654D79616C50;
  sub_7184((uint64_t)v35);
  sub_7184((uint64_t)v28);
  sub_23A44(a1, &qword_30EBB8);
  *(void *)(a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_playMediaCatDialogService) = v26;
  sub_11EBC(a6, a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_publisher);
  sub_11EBC(&v32, a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_siriKitTaskLoggingProvider);
  sub_11EBC(&v29, a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_featureFlagProvider);
  *(unsigned char *)(a10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin30SwitchNewsSourcePreferenceFlow_httpCallAttemptState) = a9 & 1;
  return a10;
}

uint64_t sub_141AA0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, _OWORD *a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t v17 = sub_2985E0();
  v43[3] = v17;
  v43[4] = (uint64_t)&protocol witness table for DeviceResolutionProvider;
  uint64_t v18 = sub_12B48(v43);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v17 - 8) + 32))(v18, a3, v17);
  uint64_t v19 = sub_298550();
  v42[3] = v19;
  v42[4] = (uint64_t)&protocol witness table for EncryptionProvider;
  uint64_t v20 = sub_12B48(v42);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v19 - 8) + 32))(v20, a4, v19);
  v41[3] = sub_296E40();
  v41[4] = &protocol witness table for SharedContextProvider;
  v41[0] = a5;
  v40[3] = &type metadata for StringsBackedAppNameResolver;
  uint64_t v40[4] = sub_18D08();
  uint64_t v21 = (_OWORD *)swift_allocObject();
  v40[0] = v21;
  long long v22 = a7[3];
  _OWORD v21[3] = a7[2];
  v21[4] = v22;
  void v21[5] = a7[4];
  long long v23 = a7[1];
  v21[1] = *a7;
  void v21[2] = v23;
  uint64_t v38 = sub_295C80();
  uint64_t v39 = &protocol witness table for SiriKitTaskLoggingProvider;
  *(void *)&long long v37 = a9;
  uint64_t v24 = sub_296790();
  uint64_t v35 = v24;
  uint64_t v36 = &protocol witness table for NowPlayingProvider;
  uint64_t v25 = sub_12B48((uint64_t *)&v34);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v24 - 8) + 32))(v25, a10, v24);
  v33[3] = type metadata accessor for AudioFlowProvider();
  void v33[4] = &off_2F82F0;
  v33[0] = a2;
  uint64_t v26 = a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_input;
  uint64_t v27 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v27 - 8) + 56))(v26, 1, 1, v27);
  swift_beginAccess();
  sub_14418(a1, v26);
  swift_endAccess();
  sub_18D5C((uint64_t)v33, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_audioFlowProvider);
  sub_18D5C((uint64_t)v43, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_deviceResolutionProvider);
  sub_18D5C((uint64_t)v42, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_encryptionProvider);
  sub_18D5C((uint64_t)v41, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_sharedContextProvider);
  sub_18D5C(a6, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_aceServiceInvoker);
  sub_18D5C((uint64_t)v40, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_appNameResolver);
  type metadata accessor for PlayMediaCatDialogService();
  uint64_t v28 = (void *)swift_allocObject();
  v28[6] = 0xEF746E65746E4961;
  void v28[2] = 0xD000000000000011;
  v28[3] = 0x80000000002A3570;
  void v28[5] = 0x6964654D79616C50;
  v28[4] = a8;
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_playMediaCatDialogService) = v28;
  sub_2944B0();
  swift_allocObject();
  uint64_t v29 = sub_294490();
  sub_7184((uint64_t)v40);
  sub_7184(a6);
  sub_7184((uint64_t)v41);
  sub_7184((uint64_t)v42);
  sub_7184((uint64_t)v43);
  sub_7184((uint64_t)v33);
  sub_23A44(a1, &qword_30EBB8);
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_viewFactory) = v29;
  sub_11EBC(&v37, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_siriKitTaskLoggingProvider);
  sub_11EBC(&v34, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin19ShuffleOnDeviceFlow_nowPlayingProvider);
  return a11;
}

uint64_t sub_141EA0(_OWORD *a1, int a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v27 = a4;
  uint64_t v11 = sub_2961A0();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v26 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v26 - v16;
  long long v18 = a1[3];
  _OWORD v33[2] = a1[2];
  v33[3] = v18;
  void v33[4] = a1[4];
  long long v19 = a1[1];
  v33[0] = *a1;
  v33[1] = v19;
  uint64_t v20 = sub_296A10();
  v32[3] = v20;
  v32[4] = (uint64_t)&protocol witness table for FeatureFlagProvider;
  uint64_t v21 = sub_12B48(v32);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a5, v20);
  *(_DWORD *)(a6 + 296) = a2;
  sub_18D5C((uint64_t)v32, a6 + 256);
  uint64_t v22 = v27;
  sub_18D5C(v27, (uint64_t)v31);
  sub_297180();
  memset(v29, 0, sizeof(v29));
  uint64_t v30 = 0;
  uint64_t v23 = sub_297170();
  sub_296180();
  (*(void (**)(char *, char *, uint64_t))(v12 + 16))(v15, v17, v11);
  sub_18C00((uint64_t)v33, (uint64_t)v28);
  swift_retain();
  swift_retain();
  uint64_t v24 = sub_13F264(v28, a3, (uint64_t)v31, v23, (uint64_t)v29, (uint64_t)v15, a6);
  (*(void (**)(char *, uint64_t))(v12 + 8))(v17, v11);
  swift_release();
  sub_7184((uint64_t)v32);
  sub_7184(v22);
  sub_18E18((uint64_t)v33);
  return v24;
}

uint64_t sub_1420E4(uint64_t a1)
{
  uint64_t v57 = sub_296A10();
  uint64_t v56 = *(void *)(v57 - 8);
  uint64_t v2 = __chkstk_darwin(v57);
  uint64_t v53 = (char *)v45 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v52 = (char *)v45 - v4;
  uint64_t v55 = sub_298390();
  uint64_t v54 = *(void *)(v55 - 8);
  uint64_t v5 = __chkstk_darwin(v55);
  uint64_t v51 = (char *)v45 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  id v8 = (char *)v45 - v7;
  uint64_t v9 = sub_71D4(&qword_30EBB8);
  uint64_t v10 = __chkstk_darwin(v9);
  uint64_t v12 = (char *)v45 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)v45 - v13;
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  long long v18 = (char *)v45 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_6E60(v15, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v19, v15);
  sub_11E58(a1, (uint64_t)v14, &qword_30EBB8);
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298DC0();
  BOOL v22 = os_log_type_enabled(v20, v21);
  uint64_t v58 = v8;
  uint64_t v59 = v12;
  if (v22)
  {
    uint64_t v23 = swift_slowAlloc();
    uint64_t v50 = a1;
    uint64_t v24 = (uint8_t *)v23;
    v60[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v24 = 136315138;
    uint64_t v49 = (uint64_t *)(v24 + 4);
    sub_11E58((uint64_t)v14, (uint64_t)v59, &qword_30EBB8);
    uint64_t v25 = sub_2989E0();
    *(void *)&long long v63 = sub_6E98(v25, v26, v60);
    id v8 = v58;
    sub_2992C0();
    swift_bridgeObjectRelease();
    sub_23A44((uint64_t)v14, &qword_30EBB8);
    _os_log_impl(&dword_0, v20, v21, "Returning ambiguousPlayFlow with %s", v24, 0xCu);
    swift_arrayDestroy();
    uint64_t v12 = v59;
    swift_slowDealloc();
    a1 = v50;
    swift_slowDealloc();
  }
  else
  {
    sub_23A44((uint64_t)v14, &qword_30EBB8);
  }

  (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
  sub_11E58(a1, (uint64_t)v12, &qword_30EBB8);
  sub_294CD0();
  sub_298380();
  uint64_t v27 = type metadata accessor for AudioFlowProvider();
  uint64_t v28 = swift_allocObject();
  sub_296E20();
  swift_allocObject();
  uint64_t v50 = sub_296E10();
  sub_2942A0();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  sub_296450();
  uint64_t v48 = sub_296440();
  uint64_t v29 = v52;
  sub_296A00();
  sub_295C80();
  uint64_t v47 = sub_295C70();
  v61[3] = v27;
  v61[4] = &off_2F82F0;
  v61[0] = v28;
  type metadata accessor for AmbiguousPlayFlow();
  v45[1] = v28;
  uint64_t v46 = (void *)swift_allocObject();
  uint64_t v30 = sub_12AF8((uint64_t)v61, v27);
  uint64_t v49 = v45;
  __chkstk_darwin(v30);
  long long v32 = (uint64_t *)((char *)v45 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v33 + 16))(v32);
  v45[0] = *v32;
  uint64_t v34 = v54;
  uint64_t v35 = (uint64_t)v51;
  uint64_t v36 = v55;
  (*(void (**)(char *, char *, uint64_t))(v54 + 16))(v51, v8, v55);
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v60);
  uint64_t v37 = v56;
  uint64_t v38 = (uint64_t)v53;
  uint64_t v39 = v57;
  (*(void (**)(char *, char *, uint64_t))(v56 + 16))(v53, v29, v57);
  swift_retain();
  uint64_t v40 = v50;
  swift_retain();
  uint64_t v41 = v48;
  swift_retain();
  uint64_t v42 = sub_1400CC((uint64_t)v59, v35, v45[0], v40, (uint64_t)v62, v60, v41, v38, v47, &v63, (uint64_t)sub_2123E4, 0, v46);
  (*(void (**)(char *, uint64_t))(v37 + 8))(v29, v39);
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v34 + 8))(v58, v36);
  sub_7184((uint64_t)v61);
  swift_release();
  v60[0] = (uint64_t)v42;
  sub_1458A8(&qword_312C00, (void (*)(uint64_t))type metadata accessor for AmbiguousPlayFlow);
  uint64_t v43 = sub_294000();
  swift_release();
  return v43;
}

uint64_t sub_142900()
{
  sub_7184(v0 + 16);
  sub_7184(v0 + 56);

  return _swift_deallocObject(v0, 96, 7);
}

uint64_t sub_142940(void *a1, uint64_t a2)
{
  uint64_t v4 = sub_295060();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v20 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v20 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    uint64_t v20 = v5;
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "Initializing Determine Strategy", v15, 2u);
    uint64_t v5 = v20;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  if (qword_30C868 != -1) {
    swift_once();
  }
  uint64_t v16 = qword_31FCA8;
  if (qword_30C870 != -1) {
    swift_once();
  }
  sub_71D4(&qword_312C40);
  uint64_t v21 = v16;
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, a2, v4);
  swift_retain();
  swift_retain();
  id v17 = a1;
  uint64_t v21 = sub_295150();
  sub_145194(&qword_312C48, &qword_312C40);
  uint64_t v18 = sub_294000();
  swift_release();
  return v18;
}

uint64_t sub_142C90(uint64_t a1)
{
  uint64_t v2 = sub_296A10();
  uint64_t v66 = *(void *)(v2 - 8);
  uint64_t v67 = v2;
  uint64_t v3 = __chkstk_darwin(v2);
  long long v64 = (char *)&v52 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v71 = (char *)&v52 - v5;
  uint64_t v65 = sub_296D90();
  uint64_t v63 = *(void *)(v65 - 8);
  uint64_t v6 = __chkstk_darwin(v65);
  uint64_t v62 = (char *)&v52 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v70 = (char *)&v52 - v8;
  uint64_t v9 = sub_296790();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v52 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v52 - v14;
  uint64_t v61 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v61);
  uint64_t v69 = (uint64_t)&v52 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v17 - 8);
  uint64_t v68 = (uint64_t)&v52 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_298800();
  uint64_t v20 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  BOOL v22 = (char *)&v52 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_6E60(v19, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v20 + 16))(v22, v23, v19);
  uint64_t v24 = sub_2987E0();
  os_log_type_t v25 = sub_298DC0();
  if (os_log_type_enabled(v24, v25))
  {
    unint64_t v26 = (uint8_t *)swift_slowAlloc();
    uint64_t v60 = v15;
    *(_WORD *)unint64_t v26 = 0;
    _os_log_impl(&dword_0, v24, v25, "Initializing AcousticIDFlow", v26, 2u);
    uint64_t v15 = v60;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v20 + 8))(v22, v19);
  sub_11E58(a1, v68, &qword_30EBB8);
  swift_storeEnumTagMultiPayload();
  sub_296780();
  (*(void (**)(char *, char *, uint64_t))(v10 + 16))(v13, v15, v9);
  uint64_t v60 = (char *)sub_1405D0((uint64_t)v13);
  (*(void (**)(char *, uint64_t))(v10 + 8))(v15, v9);
  sub_296D50();
  uint64_t v59 = sub_296D40();
  sub_294290();
  uint64_t v61 = sub_13F094();
  sub_294CD0();
  sub_295C80();
  uint64_t v57 = sub_295C70();
  uint64_t v27 = v70;
  sub_296D70();
  sub_296A00();
  uint64_t v28 = v67;
  uint64_t v73 = v67;
  uint64_t v74 = (_UNKNOWN **)&protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v72);
  sub_296A00();
  uint64_t v29 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v30 = swift_allocObject();
  sub_11EBC(&v72, v30 + 16);
  uint64_t v73 = v29;
  uint64_t v74 = &off_2FA760;
  *(void *)&long long v72 = v30;
  uint64_t v54 = v30;
  uint64_t v58 = type metadata accessor for AcousticIDFlow(0);
  uint64_t v55 = swift_allocObject();
  uint64_t v31 = sub_12AF8((uint64_t)&v72, v29);
  uint64_t v56 = &v52;
  __chkstk_darwin(v31);
  uint64_t v33 = (uint64_t *)((char *)&v52 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v34 + 16))(v33);
  uint64_t v53 = *v33;
  uint64_t v35 = v63;
  uint64_t v36 = (uint64_t)v62;
  uint64_t v37 = v27;
  uint64_t v38 = v65;
  (*(void (**)(char *, char *, uint64_t))(v63 + 16))(v62, v37, v65);
  uint64_t v39 = v66;
  uint64_t v40 = (uint64_t)v64;
  uint64_t v41 = v71;
  uint64_t v42 = v28;
  (*(void (**)(char *, char *, uint64_t))(v66 + 16))(v64, v71, v28);
  swift_retain();
  uint64_t v43 = v60;
  uint64_t v44 = v59;
  swift_retain();
  uint64_t v45 = v57;
  swift_retain();
  uint64_t v46 = sub_140C0C(v68, v69, (uint64_t)v43, v44, (uint64_t)v76, v61, &v75, v45, v36, v40, v53, v55);
  (*(void (**)(char *, uint64_t))(v39 + 8))(v41, v42);
  (*(void (**)(char *, uint64_t))(v35 + 8))(v70, v38);

  swift_release();
  swift_release();
  sub_7184((uint64_t)&v72);
  swift_release();
  v76[0] = v46;
  sub_1458A8(&qword_312C50, (void (*)(uint64_t))type metadata accessor for AcousticIDFlow);
  uint64_t v47 = sub_294000();
  swift_release();
  sub_71D4(&qword_312C28);
  sub_293E70();
  uint64_t v48 = swift_allocObject();
  *(_OWORD *)(v48 + 16) = xmmword_29A440;
  sub_293E50();
  type metadata accessor for GuardedFlow();
  uint64_t v49 = swift_allocObject();
  *(void *)(v49 + 16) = v47;
  *(unsigned char *)(v49 + 24) = 0;
  *(void *)(v49 + 32) = v48;
  v76[0] = v49;
  sub_1458A8((unint64_t *)&qword_312C30, (void (*)(uint64_t))type metadata accessor for GuardedFlow);
  swift_retain();
  swift_bridgeObjectRetain();
  uint64_t v50 = sub_294000();
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();
  return v50;
}

uint64_t sub_1435CC(uint64_t a1, void *a2)
{
  uint64_t v4 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v19 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_295060();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v19 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_3118D8);
  if (qword_30C938 != -1) {
    swift_once();
  }
  uint64_t v20 = static PlayMedia.flowStrategy;
  uint64_t v11 = qword_30C940;
  swift_retain();
  if (v11 != -1) {
    swift_once();
  }
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  v12(v10, a1, v7);
  swift_retain();
  id v13 = a2;
  uint64_t v14 = sub_295150();
  v12(v6, a1, v7);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v6, 0, 1, v7);
  sub_295C80();
  swift_retain();
  uint64_t v15 = sub_295C70();
  type metadata accessor for PlayMediaRCHFlowWrapper(0);
  uint64_t v16 = swift_allocObject();
  uint64_t v20 = sub_13F4D4((uint64_t)v6, v14, v15, v16);
  sub_1458A8(&qword_3118E0, (void (*)(uint64_t))type metadata accessor for PlayMediaRCHFlowWrapper);
  uint64_t v17 = sub_294000();
  swift_release();
  swift_release();
  return v17;
}

uint64_t sub_143894(uint64_t a1, void *a2)
{
  uint64_t v4 = sub_295060();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v15 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_312C18);
  if (qword_30C808 != -1) {
    swift_once();
  }
  uint64_t v16 = qword_31FA70;
  uint64_t v8 = qword_30C810;
  swift_retain();
  if (v8 != -1) {
    swift_once();
  }
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, a1, v4);
  swift_retain();
  id v9 = a2;
  uint64_t v16 = sub_295150();
  sub_145194(&qword_312C20, &qword_312C18);
  uint64_t v10 = sub_294000();
  sub_71D4(&qword_312C28);
  sub_293E70();
  uint64_t v11 = swift_allocObject();
  *(_OWORD *)(v11 + 16) = xmmword_29A440;
  sub_293E60();
  type metadata accessor for GuardedFlow();
  uint64_t v12 = swift_allocObject();
  *(void *)(v12 + 16) = v10;
  *(unsigned char *)(v12 + 24) = 0;
  *(void *)(v12 + 32) = v11;
  uint64_t v16 = v12;
  sub_1458A8((unint64_t *)&qword_312C30, (void (*)(uint64_t))type metadata accessor for GuardedFlow);
  swift_retain();
  swift_bridgeObjectRetain();
  uint64_t v13 = sub_294000();
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_release();
  return v13;
}

uint64_t sub_143B80(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, _OWORD *a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  uint64_t v37 = a3;
  uint64_t v38 = a8;
  uint64_t v44 = a5;
  uint64_t v45 = a1;
  uint64_t v41 = a4;
  uint64_t v42 = a9;
  uint64_t v14 = sub_296A10();
  uint64_t v39 = v14;
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v43 = (char *)&v37 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v37 - v18;
  uint64_t v20 = sub_298390();
  v52[3] = v20;
  v52[4] = (uint64_t)&protocol witness table for ControlsFlowProvider;
  uint64_t v21 = sub_12B48(v52);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v20 - 8) + 32))(v21, a2, v20);
  v51[3] = sub_295C80();
  v51[4] = &protocol witness table for SiriKitTaskLoggingProvider;
  v51[0] = a6;
  v50[3] = &type metadata for StringsBackedAppNameResolver;
  v50[4] = sub_18D08();
  BOOL v22 = (_OWORD *)swift_allocObject();
  uint64_t v40 = v22 + 1;
  v50[0] = v22;
  long long v23 = a7[3];
  _OWORD v22[3] = a7[2];
  void v22[4] = v23;
  v22[5] = a7[4];
  long long v24 = a7[1];
  v22[1] = *a7;
  long long v22[2] = v24;
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 32))(v19, a10, v14);
  v49[3] = type metadata accessor for AudioFlowProvider();
  v49[4] = &off_2F82F0;
  v49[0] = v37;
  v48[3] = type metadata accessor for SiriAudioOutputProvider();
  v48[4] = &off_2FA760;
  v48[0] = v38;
  uint64_t v25 = a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_input;
  uint64_t v26 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v26 - 8) + 56))(v25, 1, 1, v26);
  swift_beginAccess();
  sub_14418(v45, v25);
  swift_endAccess();
  sub_18D5C((uint64_t)v52, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_controlsFlowProvider);
  sub_18D5C((uint64_t)v49, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_audioFlowProvider);
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_fallbackFlow) = v41;
  sub_18D5C(v44, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_publisher);
  sub_18D5C((uint64_t)v51, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_siriKitTaskLoggingProvider);
  sub_18D5C((uint64_t)v50, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_appNameResolver);
  sub_18D5C((uint64_t)v48, a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_outputProvider);
  uint64_t v27 = v42;
  sub_18D5C(v42, (uint64_t)v47);
  LODWORD(a2) = CATDefaultMode;
  sub_296390();
  swift_retain();
  uint64_t v28 = sub_296380();
  type metadata accessor for CatService();
  uint64_t v29 = swift_allocObject();
  sub_18C00((uint64_t)v40, (uint64_t)v46);
  uint64_t v30 = (uint64_t)v43;
  uint64_t v31 = v19;
  uint64_t v32 = v19;
  uint64_t v33 = v39;
  (*(void (**)(char *, char *, uint64_t))(v15 + 16))(v43, v32, v39);
  uint64_t v34 = sub_141EA0(v46, a2, v28, (uint64_t)v47, v30, v29);
  swift_release();
  type metadata accessor for PlayMediaCatDialogService();
  uint64_t v35 = (void *)swift_allocObject();
  void v35[5] = 0x6964654D79616C50;
  void v35[6] = 0xEF746E65746E4961;
  _OWORD v35[2] = 0xD000000000000011;
  uint64_t v35[3] = 0x80000000002A3570;
  _OWORD v35[4] = v34;
  (*(void (**)(char *, uint64_t))(v15 + 8))(v31, v33);
  sub_7184(v27);
  sub_7184((uint64_t)v48);
  sub_7184((uint64_t)v50);
  sub_7184((uint64_t)v51);
  sub_7184(v44);
  sub_7184((uint64_t)v49);
  sub_7184((uint64_t)v52);
  sub_23A44(v45, &qword_30EBB8);
  *(void *)(a11 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin20AmbiguousShuffleFlow_playMediaCatDialogService) = v35;
  return a11;
}

uint64_t sub_144010(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, _OWORD *a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  uint64_t v53 = a6;
  uint64_t v57 = a5;
  uint64_t v56 = a4;
  uint64_t v55 = a1;
  uint64_t v54 = a9;
  uint64_t v51 = a10;
  uint64_t v52 = sub_296A10();
  uint64_t v14 = *(void *)(v52 - 8);
  __chkstk_darwin(v52);
  uint64_t v16 = (char *)&v48 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_298390();
  uint64_t v18 = *(void *)(v17 - 8);
  uint64_t v19 = __chkstk_darwin(v17);
  uint64_t v21 = (char *)&v48 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v19);
  long long v23 = (char *)&v48 - v22;
  long long v24 = *(void (**)(char *, uint64_t, uint64_t))(v18 + 32);
  uint64_t v49 = (char *)&v48 - v22;
  v24((char *)&v48 - v22, a2, v17);
  long long v25 = a7[3];
  v63[2] = a7[2];
  v63[3] = v25;
  v63[4] = a7[4];
  long long v26 = a7[1];
  v63[0] = *a7;
  v63[1] = v26;
  uint64_t v27 = type metadata accessor for AudioFlowProvider();
  v62[3] = v27;
  v62[4] = &off_2F82F0;
  v62[0] = a3;
  uint64_t v60 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v61 = &off_2FA760;
  v59[0] = a8;
  type metadata accessor for AmbiguousShuffleFlow();
  uint64_t v50 = swift_allocObject();
  uint64_t v28 = sub_12AF8((uint64_t)v62, v27);
  __chkstk_darwin(v28);
  uint64_t v30 = (uint64_t *)((char *)&v48 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v31 + 16))(v30);
  uint64_t v32 = sub_12AF8((uint64_t)v59, v60);
  __chkstk_darwin(v32);
  uint64_t v34 = (uint64_t *)((char *)&v48 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v35 + 16))(v34);
  uint64_t v36 = *v30;
  uint64_t v37 = *v34;
  uint64_t v38 = (uint64_t)v21;
  uint64_t v39 = v23;
  uint64_t v40 = v17;
  (*(void (**)(char *, char *, uint64_t))(v18 + 16))(v21, v39, v17);
  sub_18C00((uint64_t)v63, (uint64_t)v58);
  uint64_t v41 = (uint64_t)v16;
  uint64_t v42 = v16;
  uint64_t v43 = v51;
  uint64_t v44 = v52;
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v42, v51, v52);
  uint64_t v45 = v53;
  swift_retain();
  uint64_t v46 = sub_143B80(v55, v38, v36, v56, v57, v45, v58, v37, v54, v41, v50);
  (*(void (**)(uint64_t, uint64_t))(v14 + 8))(v43, v44);
  sub_18E18((uint64_t)v63);
  (*(void (**)(char *, uint64_t))(v18 + 8))(v49, v40);
  sub_7184((uint64_t)v59);
  sub_7184((uint64_t)v62);
  return v46;
}

uint64_t sub_14448C(uint64_t a1)
{
  uint64_t v2 = sub_296A10();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v27 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v27 - v7;
  uint64_t v9 = sub_298390();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v27 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v27 - v14;
  uint64_t v16 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v27 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_295060();
  uint64_t v20 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56);
  uint64_t v28 = v18;
  v20(v18, 1, 1, v19);
  uint64_t v29 = a1;
  swift_retain();
  sub_298380();
  type metadata accessor for AudioFlowProvider();
  uint64_t v27 = swift_allocObject();
  sub_294CD0();
  sub_295C80();
  uint64_t v21 = sub_295C70();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  uint64_t v31 = v2;
  uint64_t v32 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v30);
  sub_296A00();
  type metadata accessor for SiriAudioOutputProvider();
  uint64_t v22 = v2;
  uint64_t v23 = swift_allocObject();
  sub_11EBC(&v30, v23 + 16);
  sub_2942A0();
  sub_296A00();
  (*(void (**)(char *, char *, uint64_t))(v10 + 16))(v13, v15, v9);
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)&v30);
  (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v6, v8, v22);
  swift_retain();
  uint64_t v24 = sub_144010((uint64_t)v28, (uint64_t)v13, v27, v29, (uint64_t)v34, v21, &v30, v23, (uint64_t)v33, (uint64_t)v6);
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v8, v22);
  swift_release();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v15, v9);
  *(void *)&long long v30 = v24;
  type metadata accessor for AmbiguousShuffleFlow();
  sub_1458A8(&qword_312C68, (void (*)(uint64_t))type metadata accessor for AmbiguousShuffleFlow);
  uint64_t v25 = sub_294000();
  swift_release();
  return v25;
}

uint64_t sub_1448B0()
{
  uint64_t v0 = sub_296A10();
  uint64_t v45 = *(void *)(v0 - 8);
  uint64_t v46 = v0;
  uint64_t v1 = __chkstk_darwin(v0);
  uint64_t v44 = (char *)&v34 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v34 - v3;
  uint64_t v5 = sub_296790();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = __chkstk_darwin(v5);
  uint64_t v9 = (char *)&v34 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v34 - v10;
  uint64_t v12 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v34 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v43 = v14;
  uint64_t v15 = sub_295060();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v15 - 8) + 56))(v14, 1, 1, v15);
  uint64_t v16 = type metadata accessor for AudioFlowProvider();
  uint64_t v17 = swift_allocObject();
  uint64_t v37 = v11;
  sub_296780();
  uint64_t v42 = sub_13F094();
  uint64_t v51 = sub_2985E0();
  uint64_t v52 = &protocol witness table for DeviceResolutionProvider;
  sub_12B48((uint64_t *)&v50);
  sub_2985D0();
  uint64_t v18 = sub_296E40();
  uint64_t v19 = sub_296E30();
  uint64_t v48 = v18;
  uint64_t v49 = (_UNKNOWN **)&protocol witness table for SharedContextProvider;
  *(void *)&long long v47 = v19;
  type metadata accessor for DetermineFlowStrategy();
  uint64_t v20 = swift_allocObject();
  uint64_t v41 = v20;
  sub_11EBC(&v50, v20 + 16);
  sub_11EBC(&v47, v20 + 56);
  sub_295C80();
  uint64_t v40 = sub_295C70();
  sub_294290();
  sub_2963C0();
  swift_allocObject();
  uint64_t v39 = sub_2963B0();
  sub_296A00();
  uint64_t v48 = v16;
  uint64_t v49 = &off_2F82F0;
  *(void *)&long long v47 = v17;
  uint64_t v36 = v17;
  type metadata accessor for AmbiguousDetermineFlow();
  uint64_t v38 = (void *)swift_allocObject();
  uint64_t v21 = sub_12AF8((uint64_t)&v47, v16);
  __chkstk_darwin(v21);
  uint64_t v23 = (uint64_t *)((char *)&v34 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v24 + 16))(v23);
  uint64_t v35 = *v23;
  uint64_t v25 = v5;
  (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v9, v11, v5);
  uint64_t v26 = (uint64_t)v44;
  uint64_t v27 = v45;
  uint64_t v28 = v46;
  (*(void (**)(char *, char *, uint64_t))(v45 + 16))(v44, v4, v46);
  swift_retain();
  uint64_t v29 = v40;
  swift_retain();
  uint64_t v30 = v39;
  swift_retain();
  uint64_t v31 = sub_140F68((uint64_t)v43, v35, (uint64_t)v9, v42, v41, v29, (uint64_t)&v50, v30, v26, v38);
  (*(void (**)(char *, uint64_t))(v27 + 8))(v4, v28);
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v37, v25);
  sub_7184((uint64_t)&v47);
  swift_release();
  *(void *)&long long v50 = v31;
  sub_1458A8(&qword_312C60, (void (*)(uint64_t))type metadata accessor for AmbiguousDetermineFlow);
  uint64_t v32 = sub_294000();
  swift_release();
  return v32;
}

uint64_t sub_144DB4(uint64_t a1)
{
  uint64_t v2 = sub_296A10();
  uint64_t v30 = *(void *)(v2 - 8);
  uint64_t v3 = __chkstk_darwin(v2);
  uint64_t v5 = (char *)v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v7 = (char *)v26 - v6;
  uint64_t v8 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v8 - 8);
  uint64_t v29 = (uint64_t)v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_11E58(a1, v29, &qword_30EBB8);
  if (!sub_295C60())
  {
    sub_295A10();
    sub_295A00();
  }
  uint64_t v28 = sub_2959F0();
  swift_release();
  uint64_t v10 = type metadata accessor for AudioFlowProvider();
  uint64_t v11 = swift_allocObject();
  uint64_t v35 = v2;
  uint64_t v36 = &protocol witness table for FeatureFlagProvider;
  sub_12B48((uint64_t *)&v34);
  sub_296A00();
  uint64_t v12 = sub_295C80();
  uint64_t v13 = sub_295C70();
  uint64_t v32 = v12;
  uint64_t v33 = (_UNKNOWN **)&protocol witness table for SiriKitTaskLoggingProvider;
  v31[0] = v13;
  sub_297050();
  swift_allocObject();
  uint64_t v14 = sub_297040();
  uint64_t v27 = sub_13F094();
  sub_294CD0();
  uint64_t v15 = sub_295C70();
  sub_296A00();
  uint64_t v32 = v10;
  uint64_t v33 = &off_2F82F0;
  v31[0] = v11;
  type metadata accessor for SwitchNewsSourcePreferenceFlow();
  uint64_t v16 = swift_allocObject();
  uint64_t v17 = sub_12AF8((uint64_t)v31, v10);
  v26[1] = v26;
  __chkstk_darwin(v17);
  uint64_t v19 = (void *)((char *)v26 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v20 + 16))(v19);
  uint64_t v21 = *v19;
  uint64_t v22 = v30;
  (*(void (**)(char *, char *, uint64_t))(v30 + 16))(v5, v7, v2);
  swift_retain();
  swift_retain();
  swift_retain();
  uint64_t v23 = sub_1417A0(v29, v28, v21, v14, v27, &v34, v15, (uint64_t)v5, 0, v16);
  (*(void (**)(char *, uint64_t))(v22 + 8))(v7, v2);
  swift_release();
  swift_release();
  sub_7184((uint64_t)v31);
  swift_release();
  *(void *)&long long v34 = v23;
  sub_1458A8(&qword_312C10, (void (*)(uint64_t))type metadata accessor for SwitchNewsSourcePreferenceFlow);
  uint64_t v24 = sub_294000();
  swift_release();
  return v24;
}

uint64_t sub_145194(unint64_t *a1, uint64_t *a2)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_60904(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_1451E4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AcousticIDFlow.State(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_145248()
{
  uint64_t v60 = sub_296790();
  uint64_t v58 = *(void *)(v60 - 8);
  uint64_t v0 = __chkstk_darwin(v60);
  uint64_t v59 = (char *)&v43 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v43 - v2;
  uint64_t v61 = sub_298550();
  uint64_t v47 = *(void *)(v61 - 8);
  uint64_t v4 = __chkstk_darwin(v61);
  uint64_t v57 = (char *)&v43 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v43 - v6;
  uint64_t v8 = sub_2985E0();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v43 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v43 - v13;
  uint64_t v15 = sub_71D4(&qword_30EBB8);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v43 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_295060();
  uint64_t v19 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56);
  uint64_t v56 = v17;
  v19(v17, 1, 1, v18);
  uint64_t v20 = type metadata accessor for AudioFlowProvider();
  uint64_t v21 = swift_allocObject();
  uint64_t v22 = v14;
  sub_2985D0();
  uint64_t v23 = v7;
  sub_298540();
  sub_296E40();
  uint64_t v55 = sub_296E30();
  sub_2942A0();
  if (qword_30C8B0 != -1) {
    swift_once();
  }
  uint64_t v53 = sub_13EB3C();
  sub_295C80();
  uint64_t v51 = sub_295C70();
  sub_296780();
  v63[3] = v20;
  v63[4] = &off_2F82F0;
  v63[0] = v21;
  uint64_t v54 = type metadata accessor for ShuffleOnDeviceFlow();
  uint64_t v48 = swift_allocObject();
  uint64_t v24 = sub_12AF8((uint64_t)v63, v20);
  uint64_t v52 = &v43;
  __chkstk_darwin(v24);
  uint64_t v45 = v21;
  uint64_t v26 = (uint64_t *)((char *)&v43 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0));
  (*(void (**)(uint64_t *))(v27 + 16))(v26);
  uint64_t v44 = *v26;
  uint64_t v28 = v9;
  uint64_t v29 = *(void (**)(char *, char *, uint64_t))(v9 + 16);
  uint64_t v30 = (uint64_t)v12;
  long long v50 = v22;
  uint64_t v49 = v8;
  v29(v12, v22, v8);
  uint64_t v31 = v47;
  uint64_t v32 = *(void (**)(char *, char *, uint64_t))(v47 + 16);
  uint64_t v33 = (uint64_t)v57;
  uint64_t v46 = v23;
  v32(v57, v23, v61);
  sub_18C00((uint64_t)&static StringsBackedAppNameResolver.shared, (uint64_t)v62);
  uint64_t v34 = v58;
  uint64_t v35 = (uint64_t)v59;
  uint64_t v36 = v3;
  uint64_t v37 = v60;
  (*(void (**)(char *, char *, uint64_t))(v58 + 16))(v59, v3, v60);
  swift_retain();
  uint64_t v38 = v55;
  swift_retain();
  uint64_t v39 = v51;
  swift_retain();
  uint64_t v40 = sub_141AA0((uint64_t)v56, v44, v30, v33, v38, (uint64_t)v64, v62, v53, v39, v35, v48);
  (*(void (**)(char *, uint64_t))(v34 + 8))(v36, v37);
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v31 + 8))(v46, v61);
  (*(void (**)(char *, uint64_t))(v28 + 8))(v50, v49);
  sub_7184((uint64_t)v63);
  swift_release();
  *(void *)&v62[0] = v40;
  sub_1458A8(&qword_312C58, (void (*)(uint64_t))type metadata accessor for ShuffleOnDeviceFlow);
  uint64_t v41 = sub_294000();
  swift_release();
  return v41;
}

uint64_t sub_1458A8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void Determine.HandleIntentStrategy.makeIntentHandledResponse(app:intent:intentResponse:_:)(uint64_t a1, void *a2, void *a3, uint64_t a4, void *a5)
{
  uint64_t v6 = v5;
  uint64_t v27 = a2;
  uint64_t v28 = a3;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v22 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_295C50();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  swift_retain_n();
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = swift_slowAlloc();
    uint64_t v25 = a5;
    uint64_t v18 = (uint8_t *)v17;
    uint64_t v19 = swift_slowAlloc();
    uint64_t v26 = v5;
    uint64_t v24 = v19;
    uint64_t v23 = a1;
    *(_DWORD *)uint64_t v18 = 136315138;
    v22[1] = v18 + 4;
    uint64_t v29 = a1;
    uint64_t v30 = v19;
    sub_297700();
    sub_14CC54((unint64_t *)&qword_30CAD0, 255, (void (*)(uint64_t))&type metadata accessor for App);
    uint64_t v20 = sub_2995A0();
    uint64_t v29 = sub_6E98(v20, v21, &v30);
    sub_2992C0();
    a1 = v23;
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v15, v16, "Determine+HandleIntentStrategy#makeIntentHandledResponse for app: %s", v18, 0xCu);
    swift_arrayDestroy();
    uint64_t v6 = v26;
    swift_slowDealloc();
    a5 = v25;
    swift_slowDealloc();
  }
  else
  {

    swift_release_n();
  }
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  sub_74A4((void *)(v6 + 120), *(void *)(v6 + 144));
  if (sub_296C00()) {
    Determine.HandleIntentStrategy.makeIntentHandledResponseWithRF(app:intent:intentResponse:_:)(a1, v27, v28, a4, (uint64_t)a5);
  }
  else {
    Determine.HandleIntentStrategy.makeIntentHandledResponseLegacy(app:intent:intentResponse:_:)(a1, v27, v28, a4, a5);
  }
}

void Determine.HandleIntentStrategy.makeIntentHandledResponseLegacy(app:intent:intentResponse:_:)(uint64_t a1, void *a2, void *a3, uint64_t a4, void *a5)
{
  uint64_t v29 = a4;
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v24 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v9, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v13, v9);
  swift_retain_n();
  uint64_t v14 = sub_2987E0();
  os_log_type_t v15 = sub_298DA0();
  int v16 = v15;
  if (os_log_type_enabled(v14, v15))
  {
    int v27 = v16;
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v26 = swift_slowAlloc();
    uint64_t v31 = a1;
    uint64_t v32 = v26;
    uint64_t v28 = a5;
    *(_DWORD *)uint64_t v17 = 136315138;
    v24[1] = v17 + 4;
    uint64_t v25 = v17;
    sub_297700();
    sub_14CC54((unint64_t *)&qword_30CAD0, 255, (void (*)(uint64_t))&type metadata accessor for App);
    uint64_t v18 = sub_2995A0();
    uint64_t v31 = sub_6E98(v18, v19, &v32);
    a5 = v28;
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v14, (os_log_type_t)v27, "Determine+HandleIntentStrategy#makeIntentHandledResponse for app: %s", v25, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {

    swift_release_n();
  }
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  uint64_t v20 = v30;
  uint64_t v21 = *(void *)(v30 + 64);
  swift_retain();
  swift_retain();
  swift_retain();
  id v22 = a2;
  id v23 = a3;
  sub_EE4B0(a1, v22, v21, v20, v29, a5, a1, v22, v23);
  swift_release();
  swift_release();
  swift_release();
}

uint64_t sub_145F90(uint64_t a1, char a2, void *a3, void (*a4)(void *), uint64_t a5, uint64_t a6, void *a7, void *a8)
{
  uint64_t v56 = a7;
  uint64_t v57 = a8;
  uint64_t v58 = a6;
  uint64_t v65 = a4;
  uint64_t v12 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v12 - 8);
  uint64_t v63 = (char *)v54 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v14 - 8);
  uint64_t v62 = (char *)v54 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v16 - 8);
  uint64_t v61 = (char *)v54 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v64 = sub_296130();
  uint64_t v60 = *(void *)(v64 - 8);
  __chkstk_darwin(v64);
  uint64_t v59 = (char *)v54 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_297280();
  uint64_t v20 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  id v22 = (char *)v54 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = sub_297210();
  uint64_t v24 = *(void *)(v23 - 8);
  __chkstk_darwin(v23);
  uint64_t v26 = (char *)v54 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a2)
  {
    (*(void (**)(char *, void, uint64_t))(v24 + 104))(v26, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v23);
    (*(void (**)(char *, void, uint64_t))(v20 + 104))(v22, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v19);
    swift_getErrorValue();
    uint64_t v58 = a5;
    uint64_t v55 = a1;
    swift_errorRetain();
    sub_299620();
    uint64_t v37 = sub_297230();
    uint64_t v56 = v38;
    uint64_t v57 = (void *)v37;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v20 + 8))(v22, v19);
    (*(void (**)(char *, uint64_t))(v24 + 8))(v26, v23);
    uint64_t v39 = a3[6];
    v54[1] = a3[7];
    sub_74A4(a3 + 3, v39);
    uint64_t v40 = v59;
    uint64_t v41 = v60;
    (*(void (**)(char *, void, uint64_t))(v60 + 104))(v59, enum case for TypeOfIntent.determine(_:), v64);
    uint64_t v42 = enum case for ActivityType.failed(_:);
    uint64_t v43 = sub_2944C0();
    uint64_t v44 = *(void *)(v43 - 8);
    uint64_t v45 = (uint64_t)v61;
    (*(void (**)(char *, uint64_t, uint64_t))(v44 + 104))(v61, v42, v43);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v44 + 56))(v45, 0, 1, v43);
    uint64_t v46 = sub_2949F0();
    uint64_t v47 = (uint64_t)v62;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v46 - 8) + 56))(v62, 1, 1, v46);
    uint64_t v48 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v49 = sub_294170();
    uint64_t v50 = *(void *)(v49 - 8);
    uint64_t v51 = (uint64_t)v63;
    (*(void (**)(char *, uint64_t, uint64_t))(v50 + 104))(v63, v48, v49);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v50 + 56))(v51, 0, 1, v49);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v51, &qword_30D5B8);
    sub_23A44(v47, (uint64_t *)&unk_30FA50);
    sub_23A44(v45, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v41 + 8))(v40, v64);
    uint64_t v52 = v55;
    v66[0] = v55;
    char v67 = 1;
    swift_errorRetain();
    v65(v66);
    sub_2B44C(v52, 1);
    return sub_23A44((uint64_t)v66, (uint64_t *)&unk_30FA80);
  }
  else
  {
    int v27 = (void *)swift_allocObject();
    uint64_t v28 = (void (*)(void))v65;
    void v27[2] = a3;
    v27[3] = v28;
    uint64_t v30 = v56;
    uint64_t v29 = v57;
    v27[4] = a5;
    void v27[5] = v30;
    v27[6] = v29;
    v27[7] = a1;
    sub_2AF30(a1, 0);
    swift_retain();
    swift_retain();
    id v31 = v30;
    id v32 = v29;
    id v33 = [v31 targetDeviceIds];
    if (v33
      && (v34 = v33, uint64_t v35 = sub_298B50(),
                     v34,
                     uint64_t v36 = *(void *)(v35 + 16),
                     swift_bridgeObjectRelease(),
                     v36))
    {
      sub_6AF14(v58, v31, (uint64_t)sub_EF59C, (uint64_t)v27);
    }
    else
    {
      sub_673B8(v58, v31, (uint64_t)sub_EF59C, (uint64_t)v27);
    }
    return swift_release();
  }
}

uint64_t sub_14669C(uint64_t a1, void *a2, void (*a3)(long long *), uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v85 = a7;
  uint64_t v84 = a6;
  uint64_t v83 = a5;
  uint64_t v102 = a3;
  uint64_t v103 = a4;
  uint64_t v94 = a2;
  uint64_t v92 = (char *)a1;
  uint64_t v88 = sub_297270();
  uint64_t v87 = *(void *)(v88 - 8);
  __chkstk_darwin(v88);
  uint64_t v86 = (char *)&v79 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v91 = sub_2951C0();
  uint64_t v90 = *(void *)(v91 - 8);
  __chkstk_darwin(v91);
  unint64_t v97 = (char *)&v79 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v9 - 8);
  uint64_t v96 = (uint64_t)&v79 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v93 = sub_71D4(&qword_30D030);
  uint64_t v11 = __chkstk_darwin(v93);
  unint64_t v89 = (char *)&v79 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v95 = (char *)&v79 - v13;
  uint64_t v14 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v14 - 8);
  long long v101 = (char *)&v79 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v79 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v19 - 8);
  long long v99 = (char *)&v79 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v104 = sub_296130();
  uint64_t v100 = *(void *)(v104 - 8);
  __chkstk_darwin(v104);
  uint64_t v98 = (char *)&v79 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_297280();
  uint64_t v23 = *(void *)(v22 - 8);
  __chkstk_darwin(v22);
  uint64_t v25 = (char *)&v79 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v26 = sub_297210();
  uint64_t v27 = *(void *)(v26 - 8);
  __chkstk_darwin(v26);
  uint64_t v29 = (char *)&v79 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v30);
  id v32 = (char **)((char *)&v79 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_11E58((uint64_t)v92, (uint64_t)v32, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    unint64_t v97 = *v32;
    (*(void (**)(char *, void, uint64_t))(v27 + 104))(v29, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v26);
    (*(void (**)(char *, void, uint64_t))(v23 + 104))(v25, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v22);
    swift_getErrorValue();
    sub_299620();
    uint64_t v33 = sub_297230();
    uint64_t v95 = v34;
    uint64_t v96 = v33;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v23 + 8))(v25, v22);
    (*(void (**)(char *, uint64_t))(v27 + 8))(v29, v26);
    uint64_t v35 = v94 + 3;
    uint64_t v36 = v94[6];
    uint64_t v94 = (void *)v94[7];
    sub_74A4(v35, v36);
    uint64_t v37 = v100;
    uint64_t v38 = v98;
    (*(void (**)(char *, void, uint64_t))(v100 + 104))(v98, enum case for TypeOfIntent.determine(_:), v104);
    uint64_t v39 = enum case for ActivityType.failed(_:);
    uint64_t v40 = sub_2944C0();
    uint64_t v41 = *(void *)(v40 - 8);
    uint64_t v42 = (uint64_t)v99;
    (*(void (**)(char *, uint64_t, uint64_t))(v41 + 104))(v99, v39, v40);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v41 + 56))(v42, 0, 1, v40);
    uint64_t v43 = sub_2949F0();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v43 - 8) + 56))(v18, 1, 1, v43);
    uint64_t v44 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v45 = sub_294170();
    uint64_t v46 = *(void *)(v45 - 8);
    uint64_t v47 = (uint64_t)v18;
    uint64_t v48 = (uint64_t)v101;
    (*(void (**)(char *, uint64_t, uint64_t))(v46 + 104))(v101, v44, v45);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v46 + 56))(v48, 0, 1, v45);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v48, &qword_30D5B8);
    sub_23A44(v47, (uint64_t *)&unk_30FA50);
    sub_23A44(v42, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v37 + 8))(v38, v104);
    *(void *)&long long v105 = v97;
    char v108 = 1;
    swift_errorRetain();
    v102(&v105);
    swift_errorRelease();
  }
  else
  {
    uint64_t v49 = *(int *)(v93 + 48);
    uint64_t v50 = sub_2949F0();
    uint64_t v51 = *(void *)(v50 - 8);
    uint64_t v92 = v18;
    uint64_t v80 = v51;
    uint64_t v81 = *(void (**)(char *, char **, uint64_t))(v51 + 32);
    uint64_t v82 = v51 + 32;
    uint64_t v52 = v95;
    v81(v95, v32, v50);
    uint64_t v79 = v49;
    *(void *)&v52[v49] = *(char **)((char *)v32 + v49);
    sub_26AF24(v96);
    sub_295D60();
    id v107 = 0;
    long long v105 = 0u;
    long long v106 = 0u;
    sub_294670();
    sub_23A44((uint64_t)&v105, &qword_30D5D8);
    (*(void (**)(char *, void, uint64_t))(v27 + 104))(v29, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v26);
    (*(void (**)(char *, void, uint64_t))(v23 + 104))(v25, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v22);
    uint64_t v53 = v87;
    uint64_t v54 = v86;
    uint64_t v55 = v88;
    (*(void (**)(char *, void, uint64_t))(v87 + 104))(v86, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v88);
    uint64_t v85 = sub_297220();
    uint64_t v84 = v56;
    (*(void (**)(char *, uint64_t))(v53 + 8))(v54, v55);
    (*(void (**)(char *, uint64_t))(v23 + 8))(v25, v22);
    (*(void (**)(char *, uint64_t))(v27 + 8))(v29, v26);
    uint64_t v57 = v94 + 3;
    uint64_t v58 = v94[6];
    uint64_t v94 = (void *)v94[7];
    uint64_t v88 = (uint64_t)sub_74A4(v57, v58);
    uint64_t v59 = v100;
    uint64_t v60 = v98;
    (*(void (**)(char *, void, uint64_t))(v100 + 104))(v98, enum case for TypeOfIntent.determine(_:), v104);
    uint64_t v61 = enum case for ActivityType.completed(_:);
    uint64_t v62 = sub_2944C0();
    uint64_t v63 = *(void *)(v62 - 8);
    uint64_t v64 = (uint64_t)v99;
    (*(void (**)(char *, uint64_t, uint64_t))(v63 + 104))(v99, v61, v62);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v63 + 56))(v64, 0, 1, v62);
    uint64_t v65 = *(int *)(v93 + 48);
    uint64_t v66 = v80;
    char v67 = v89;
    uint64_t v68 = (uint64_t)v95;
    (*(void (**)(char *, char *, uint64_t))(v80 + 16))(v89, v95, v50);
    *(void *)&v67[v65] = *(void *)(v68 + v79);
    uint64_t v69 = (uint64_t)v92;
    v81(v92, (char **)v67, v50);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v66 + 56))(v69, 0, 1, v50);
    uint64_t v70 = enum case for SiriKitReliabilityCodes.success(_:);
    uint64_t v71 = sub_294170();
    uint64_t v72 = *(void *)(v71 - 8);
    uint64_t v73 = (uint64_t)v101;
    (*(void (**)(char *, uint64_t, uint64_t))(v72 + 104))(v101, v70, v71);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v72 + 56))(v73, 0, 1, v71);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v73, &qword_30D5B8);
    sub_23A44(v69, (uint64_t *)&unk_30FA50);
    sub_23A44(v64, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v59 + 8))(v60, v104);
    uint64_t v74 = v91;
    *((void *)&v106 + 1) = v91;
    id v107 = &protocol witness table for AceOutput;
    long long v75 = sub_12B48((uint64_t *)&v105);
    uint64_t v76 = v90;
    uint64_t v77 = v97;
    (*(void (**)(uint64_t *, char *, uint64_t))(v90 + 16))(v75, v97, v74);
    char v108 = 0;
    v102(&v105);
    (*(void (**)(char *, uint64_t))(v76 + 8))(v77, v74);
    sub_23A44(v96, (uint64_t *)&unk_30FA70);
    sub_23A44(v68, &qword_30D030);
  }
  return sub_23A44((uint64_t)&v105, (uint64_t *)&unk_30FA80);
}

uint64_t Determine.HandleIntentStrategy.makeIntentHandledResponseWithRF(app:intent:intentResponse:_:)(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  id v30 = a3;
  uint64_t v31 = a4;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v26 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  swift_retain_n();
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DA0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = swift_slowAlloc();
    uint64_t v28 = v5;
    uint64_t v18 = v17;
    uint64_t v26 = swift_slowAlloc();
    uint64_t v32 = a1;
    uint64_t v33 = v26;
    *(_DWORD *)uint64_t v18 = 136315394;
    uint64_t v27 = a2;
    sub_297700();
    uint64_t v29 = a5;
    sub_14CC54((unint64_t *)&qword_30CAD0, 255, (void (*)(uint64_t))&type metadata accessor for App);
    uint64_t v19 = sub_2995A0();
    uint64_t v32 = sub_6E98(v19, v20, &v33);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v18 + 12) = 2082;
    uint64_t v21 = sub_2973F0();
    uint64_t v32 = sub_6E98(v21, v22, &v33);
    a5 = v29;
    a2 = v27;
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v15, v16, "Determine+HandleIntentStrategy#makeIntentHandledResponseWithRF for app: %s %{public}s", (uint8_t *)v18, 0x16u);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v6 = v28;
    swift_slowDealloc();
  }
  else
  {

    swift_release_n();
  }
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  swift_retain();
  swift_retain();
  id v23 = a2;
  id v24 = v30;
  swift_retain();
  sub_156720(v23, v6, a1, v23, v24, v31, a5);
  swift_release();
  swift_release();

  return swift_release();
}

uint64_t sub_147794(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v26 = a3;
  uint64_t v13 = sub_71D4(&qword_30D188);
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = *(void *)(v14 + 64);
  __chkstk_darwin(v13 - 8);
  uint64_t v25 = *(void *)(a2 + 72);
  sub_11E58(a1, (uint64_t)&v25 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0), &qword_30D188);
  unint64_t v16 = (*(unsigned __int8 *)(v14 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v14 + 80);
  uint64_t v17 = (void *)swift_allocObject();
  v17[2] = a2;
  v17[3] = a6;
  v17[4] = a7;
  v17[5] = a4;
  v17[6] = a5;
  sub_60BBC((uint64_t)&v25 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t)v17 + v16, &qword_30D188);
  swift_retain();
  swift_retain();
  id v18 = a4;
  id v19 = a5;
  id v20 = [v18 targetDeviceIds];
  if (v20
    && (uint64_t v21 = v20, v22 = sub_298B50(), v21, v23 = *(void *)(v22 + 16), swift_bridgeObjectRelease(), v23))
  {
    sub_6AF14(v26, v18, (uint64_t)sub_14C0EC, (uint64_t)v17);
  }
  else
  {
    sub_673B8(v26, v18, (uint64_t)sub_14C0EC, (uint64_t)v17);
  }
  return swift_release();
}

uint64_t sub_147978(void (**a1)(void *, void), void *a2, void (*a3)(uint64_t *), void (*a4)(uint64_t *), char *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v127 = a7;
  uint64_t v117 = a6;
  uint64_t v132 = a5;
  unint64_t v138 = a4;
  uint64_t v137 = a3;
  os_log_type_t v143 = a2;
  char v131 = a1;
  uint64_t v7 = sub_71D4(&qword_30D188);
  uint64_t v126 = *(void *)(v7 - 8);
  __chkstk_darwin(v7 - 8);
  uint64_t v128 = v8;
  uint64_t v129 = (uint64_t)v112 - ((unint64_t)(v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v119 = sub_297270();
  uint64_t v118 = *(void **)(v119 - 8);
  __chkstk_darwin(v119);
  unint64_t v116 = (char *)v112 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4((uint64_t *)&unk_30FA70);
  uint64_t v123 = *(void *)(v10 - 8);
  uint64_t v11 = __chkstk_darwin(v10 - 8);
  uint64_t v125 = (uint64_t)v112 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = v12;
  __chkstk_darwin(v11);
  uint64_t v141 = (uint64_t)v112 - v13;
  uint64_t v139 = sub_71D4(&qword_30D030);
  uint64_t v120 = *(void *)(v139 - 8);
  uint64_t v14 = __chkstk_darwin(v139);
  uint64_t v122 = (char *)v112 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v121 = v15;
  __chkstk_darwin(v14);
  unint64_t v140 = (void *)((char *)v112 - v16);
  uint64_t v17 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v17 - 8);
  uint64_t v136 = (char *)v112 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v19 - 8);
  uint64_t v135 = (char *)v112 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v21 - 8);
  uint64_t v133 = (char *)v112 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v144 = sub_296130();
  uint64_t v134 = *(void *)(v144 - 8);
  __chkstk_darwin(v144);
  unint64_t v142 = (char *)v112 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v130 = sub_297280();
  uint64_t v24 = *(void *)(v130 - 8);
  __chkstk_darwin(v130);
  uint64_t v26 = (char *)v112 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = sub_297210();
  uint64_t v28 = *(void (***)(void *, void))(v27 - 8);
  __chkstk_darwin(v27);
  id v30 = (char *)v112 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v115 = sub_298800();
  uint64_t v31 = *(void *)(v115 - 8);
  __chkstk_darwin(v115);
  uint64_t v33 = (char *)v112 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v34);
  uint64_t v36 = (void *)((char *)v112 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_11E58((uint64_t)v131, (uint64_t)v36, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v132 = v30;
    uint64_t v139 = (uint64_t)v26;
    char v131 = v28;
    unint64_t v140 = (uint64_t *)v27;
    uint64_t v141 = v24;
    uint64_t v37 = *v36;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v38 = v115;
    uint64_t v39 = sub_6E60(v115, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v31 + 16))(v33, v39, v38);
    swift_errorRetain();
    swift_errorRetain();
    uint64_t v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    if (os_log_type_enabled(v40, v41))
    {
      uint64_t v42 = swift_slowAlloc();
      uint64_t v146 = swift_slowAlloc();
      *(_DWORD *)uint64_t v42 = 136315394;
      swift_getErrorValue();
      uint64_t v43 = sub_299620();
      uint64_t v145 = sub_6E98(v43, v44, &v146);
      uint64_t v128 = v33;
      sub_2992C0();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      swift_errorRelease();
      *(_WORD *)(v42 + 12) = 2082;
      uint64_t v45 = sub_2973F0();
      uint64_t v145 = sub_6E98(v45, v46, &v146);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v40, v41, "Determine+HandleIntentStrategy#makeIntentHandledResponseWithRF failed building dialog with error: %s %{public}s", (uint8_t *)v42, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v31 + 8))(v128, v38);
    }
    else
    {
      swift_errorRelease();
      swift_errorRelease();

      (*(void (**)(char *, uint64_t))(v31 + 8))(v33, v38);
    }
    uint64_t v86 = v37;
    uint64_t v87 = v143;
    uint64_t v88 = v144;
    uint64_t v89 = v134;
    uint64_t v91 = v140;
    uint64_t v90 = v141;
    uint64_t v92 = v131;
    uint64_t v93 = v139;
    uint64_t v94 = v132;
    ((void (*)(char *, void, uint64_t *))v131[13])(v132, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v140);
    uint64_t v95 = v130;
    (*(void (**)(uint64_t, void, uint64_t))(v90 + 104))(v93, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v130);
    uint64_t v129 = v86;
    swift_getErrorValue();
    sub_299620();
    uint64_t v96 = sub_297230();
    unint64_t v140 = v97;
    uint64_t v141 = v96;
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v90 + 8))(v93, v95);
    ((void (**)(void *, uint64_t *))v92)[1](v94, v91);
    uint64_t v98 = v87[6];
    os_log_type_t v143 = (void *)v87[7];
    sub_74A4(v87 + 3, v98);
    long long v99 = v142;
    (*(void (**)(char *, void, uint64_t))(v89 + 104))(v142, enum case for TypeOfIntent.determine(_:), v88);
    uint64_t v100 = enum case for ActivityType.failed(_:);
    uint64_t v101 = sub_2944C0();
    uint64_t v102 = v89;
    uint64_t v103 = *(void *)(v101 - 8);
    uint64_t v104 = (uint64_t)v133;
    (*(void (**)(char *, uint64_t, uint64_t))(v103 + 104))(v133, v100, v101);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v103 + 56))(v104, 0, 1, v101);
    uint64_t v105 = sub_2949F0();
    uint64_t v106 = (uint64_t)v135;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v105 - 8) + 56))(v135, 1, 1, v105);
    uint64_t v107 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v108 = sub_294170();
    uint64_t v109 = *(void *)(v108 - 8);
    uint64_t v110 = (uint64_t)v136;
    (*(void (**)(char *, uint64_t, uint64_t))(v109 + 104))(v136, v107, v108);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v109 + 56))(v110, 0, 1, v108);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v110, &qword_30D5B8);
    sub_23A44(v106, (uint64_t *)&unk_30FA50);
    sub_23A44(v104, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v102 + 8))(v99, v144);
    uint64_t v146 = v129;
    char v147 = 1;
    swift_errorRetain();
    v137(&v146);
    swift_errorRelease();
    uint64_t v85 = (uint64_t *)&unk_30FA80;
    uint64_t v84 = &v146;
  }
  else
  {
    uint64_t v47 = *(int *)(v139 + 48);
    uint64_t v115 = sub_2949F0();
    uint64_t v48 = *(void *)(v115 - 8);
    uint64_t v49 = v48;
    uint64_t v113 = *(void (**)(uint64_t *, uint64_t *, uint64_t))(v48 + 32);
    uint64_t v114 = v48 + 32;
    uint64_t v50 = v140;
    v113(v140, v36, v115);
    uint64_t v51 = *(void **)((char *)v36 + v47);
    *(uint64_t *)((char *)v50 + v47) = (uint64_t)v51;
    char v131 = v51;
    sub_26AF24(v141);
    ((void (*)(char *, void, uint64_t))v28[13])(v30, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v27);
    uint64_t v52 = v130;
    (*(void (**)(char *, void, uint64_t))(v24 + 104))(v26, enum case for AdditionalMetricsDescription.SourceFunction.handled(_:), v130);
    uint64_t v53 = v118;
    uint64_t v54 = v116;
    uint64_t v55 = v119;
    ((void (*)(char *, void, uint64_t))v118[13])(v116, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v119);
    uint64_t v117 = sub_297220();
    v112[1] = v56;
    ((void (*)(char *, uint64_t))v53[1])(v54, v55);
    (*(void (**)(char *, uint64_t))(v24 + 8))(v26, v52);
    v28[1](v30, v27);
    uint64_t v57 = v143[7];
    uint64_t v119 = v143[6];
    uint64_t v130 = v57;
    uint64_t v118 = sub_74A4(v143 + 3, v119);
    uint64_t v58 = v134;
    (*(void (**)(char *, void, uint64_t))(v134 + 104))(v142, enum case for TypeOfIntent.determine(_:), v144);
    uint64_t v59 = enum case for ActivityType.completed(_:);
    uint64_t v60 = sub_2944C0();
    uint64_t v61 = *(void *)(v60 - 8);
    uint64_t v62 = (uint64_t)v133;
    (*(void (**)(char *, uint64_t, uint64_t))(v61 + 104))(v133, v59, v60);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v61 + 56))(v62, 0, 1, v60);
    uint64_t v63 = *(int *)(v139 + 48);
    unint64_t v116 = *(char **)(v49 + 16);
    uint64_t v64 = (uint64_t)v122;
    uint64_t v65 = v140;
    uint64_t v66 = v115;
    ((void (*)(char *, uint64_t *, uint64_t))v116)(v122, v140, v115);
    *(void *)(v64 + v63) = v131;
    uint64_t v67 = (uint64_t)v135;
    v113((uint64_t *)v135, (uint64_t *)v64, v66);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v49 + 56))(v67, 0, 1, v66);
    uint64_t v68 = enum case for SiriKitReliabilityCodes.success(_:);
    uint64_t v69 = sub_294170();
    uint64_t v70 = *(void *)(v69 - 8);
    uint64_t v71 = (uint64_t)v136;
    (*(void (**)(char *, uint64_t, uint64_t))(v70 + 104))(v136, v68, v69);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v70 + 56))(v71, 0, 1, v69);
    uint64_t v72 = v142;
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v71, &qword_30D5B8);
    sub_23A44(v67, (uint64_t *)&unk_30FA50);
    sub_23A44(v62, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v58 + 8))(v72, v144);
    uint64_t v73 = v143;
    uint64_t v144 = (uint64_t)sub_74A4(v143 + 25, v143[28]);
    uint64_t v74 = *(int *)(v139 + 48);
    ((void (*)(uint64_t, uint64_t *, uint64_t))v116)(v64, v65, v115);
    *(void *)(v64 + v74) = v131;
    uint64_t v75 = v125;
    sub_11E58(v141, v125, (uint64_t *)&unk_30FA70);
    uint64_t v76 = v129;
    sub_11E58(v127, v129, &qword_30D188);
    unint64_t v77 = (*(unsigned __int8 *)(v120 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v120 + 80);
    unint64_t v78 = (v121 + *(unsigned __int8 *)(v123 + 80) + v77) & ~(unint64_t)*(unsigned __int8 *)(v123 + 80);
    unint64_t v79 = (v124 + *(unsigned __int8 *)(v126 + 80) + v78) & ~(unint64_t)*(unsigned __int8 *)(v126 + 80);
    unint64_t v80 = (unint64_t)&v128[v79 + 7] & 0xFFFFFFFFFFFFFFF8;
    uint64_t v81 = swift_allocObject();
    *(void *)(v81 + 16) = v73;
    sub_60BBC(v64, v81 + v77, &qword_30D030);
    sub_60BBC(v75, v81 + v78, (uint64_t *)&unk_30FA70);
    sub_60BBC(v76, v81 + v79, &qword_30D188);
    uint64_t v82 = (void (**)(uint64_t *))(v81 + v80);
    uint64_t v83 = v138;
    *uint64_t v82 = v137;
    v82[1] = v83;
    swift_retain();
    swift_retain();
    sub_20B094(v132, (uint64_t)sub_14C454, v81);
    swift_release();
    sub_23A44(v141, (uint64_t *)&unk_30FA70);
    uint64_t v84 = v140;
    uint64_t v85 = &qword_30D030;
  }
  return sub_23A44((uint64_t)v84, v85);
}

uint64_t sub_148B98(char *a1, char *a2, uint64_t a3, uint64_t a4, char *a5, void (*a6)(char *, uint64_t, uint64_t), uint64_t a7, uint64_t a8)
{
  uint64_t v25 = a8;
  uint64_t v14 = sub_71D4(&qword_30D030);
  uint64_t v15 = __chkstk_darwin(v14 - 8);
  uint64_t v17 = (char *)&v24 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = *(int *)(v15 + 56);
  uint64_t v19 = sub_2949F0();
  uint64_t v20 = *(void *)(v19 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v20 + 16))(v17, a4, v19);
  uint64_t v21 = *(void **)(a4 + v18);
  *(void *)&v17[v18] = v21;
  id v22 = v21;
  sub_14AF14((uint64_t)v17, v22, a5, a1, a2, a6, a7, v25);

  return (*(uint64_t (**)(char *, uint64_t))(v20 + 8))(v17, v19);
}

uint64_t sub_148CEC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v21[1] = a5;
  uint64_t v8 = sub_71D4(&qword_30D030);
  uint64_t v9 = v8 - 8;
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v21 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_295AF0();
  __chkstk_darwin(v12 - 8);
  uint64_t v13 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v13 - 8);
  sub_11E58(a2, (uint64_t)v21 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t *)&unk_30FA70);
  sub_294E50();
  swift_bridgeObjectRetain();
  sub_294EA0();
  sub_2959C0();
  sub_297B00();
  swift_release();
  sub_294E10();
  sub_294EC0();
  uint64_t v15 = *(int *)(v9 + 56);
  uint64_t v16 = sub_2949F0();
  uint64_t v17 = *(void *)(v16 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v11, a6, v16);
  uint64_t v18 = *(void **)(a6 + v15);
  *(void *)&v11[v15] = v18;
  id v19 = [v18 catId];
  sub_2989C0();

  sub_294E30();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v11, v16);
  return sub_294EB0();
}

uint64_t sub_148F40(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v4[10] = a3;
  v4[11] = a4;
  v4[8] = a1;
  v4[9] = a2;
  v4[12] = sub_71D4(&qword_30D030);
  v4[13] = swift_task_alloc();
  uint64_t v5 = sub_298800();
  v4[14] = v5;
  v4[15] = *(void *)(v5 - 8);
  v4[16] = swift_task_alloc();
  return _swift_task_switch(sub_149038, 0, 0);
}

uint64_t sub_149038()
{
  uint64_t v34 = v0;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v2 = v0[15];
  uint64_t v1 = v0[16];
  uint64_t v3 = v0[14];
  uint64_t v4 = sub_6E60(v3, (uint64_t)qword_31FC08);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 16))(v1, v4, v3);
  uint64_t v5 = sub_2987E0();
  os_log_type_t v6 = sub_298DA0();
  BOOL v7 = os_log_type_enabled(v5, v6);
  uint64_t v9 = v0[15];
  uint64_t v8 = v0[16];
  uint64_t v10 = v0[14];
  if (v7)
  {
    uint64_t v11 = (uint8_t *)swift_slowAlloc();
    uint64_t v33 = swift_slowAlloc();
    *(_DWORD *)uint64_t v11 = 136446210;
    uint64_t v12 = sub_2973F0();
    v0[7] = sub_6E98(v12, v13, &v33);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v5, v6, "Determine+HandleIntentStrategy#intentHandledResponse returning output with snippet %{public}s", v11, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v8, v10);
  }
  else
  {

    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v8, v10);
  }
  uint64_t v15 = v0[12];
  uint64_t v14 = v0[13];
  uint64_t v17 = v0[9];
  uint64_t v16 = v0[10];
  sub_294940();
  swift_allocObject();
  v0[17] = sub_294930();
  uint64_t v18 = sub_297970();
  v0[5] = v18;
  v0[6] = sub_14CC54((unint64_t *)&qword_30FAC0, 255, (void (*)(uint64_t))&type metadata accessor for SiriAudioSnippets);
  id v19 = sub_12B48(v0 + 2);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 16))(v19, v17, v18);
  sub_71D4(&qword_3107B0);
  uint64_t v20 = swift_allocObject();
  *(_OWORD *)(v20 + 16) = xmmword_29A8D0;
  uint64_t v21 = *(int *)(v15 + 48);
  uint64_t v22 = sub_2949F0();
  uint64_t v23 = *(void *)(v22 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v23 + 16))(v14, v16, v22);
  uint64_t v24 = *(void **)(v16 + v21);
  *(void *)(v14 + v21) = v24;
  *(void *)(v20 + 32) = v24;
  uint64_t v33 = v20;
  sub_298B70();
  uint64_t v25 = v33;
  v0[18] = v33;
  uint64_t v26 = *(void (**)(uint64_t, uint64_t))(v23 + 8);
  id v27 = v24;
  v26(v14, v22);
  uint64_t v32 = (uint64_t (*)(uint64_t, uint64_t *, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(resultModel:dialog:outputGenerationManifest:)
                                                                     + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(resultModel:dialog:outputGenerationManifest:));
  uint64_t v28 = (void *)swift_task_alloc();
  v0[19] = (uint64_t)v28;
  *uint64_t v28 = v0;
  v28[1] = sub_739F0;
  uint64_t v29 = v0[11];
  uint64_t v30 = v0[8];
  return v32(v30, v0 + 2, v25, v29);
}

uint64_t sub_14940C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3[4] = a2;
  v3[5] = a3;
  v3[3] = a1;
  v3[6] = sub_71D4(&qword_30D030);
  v3[7] = swift_task_alloc();
  uint64_t v4 = sub_298800();
  v3[8] = v4;
  v3[9] = *(void *)(v4 - 8);
  v3[10] = swift_task_alloc();
  return _swift_task_switch(sub_149504, 0, 0);
}

uint64_t sub_149504()
{
  uint64_t v31 = v0;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v2 = v0[9];
  uint64_t v1 = v0[10];
  uint64_t v3 = v0[8];
  uint64_t v4 = sub_6E60(v3, (uint64_t)qword_31FC08);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 16))(v1, v4, v3);
  uint64_t v5 = sub_2987E0();
  os_log_type_t v6 = sub_298DA0();
  BOOL v7 = os_log_type_enabled(v5, v6);
  uint64_t v9 = v0[9];
  uint64_t v8 = v0[10];
  uint64_t v10 = v0[8];
  if (v7)
  {
    uint64_t v11 = (uint8_t *)swift_slowAlloc();
    uint64_t v30 = swift_slowAlloc();
    *(_DWORD *)uint64_t v11 = 136446210;
    uint64_t v12 = sub_2973F0();
    v0[2] = sub_6E98(v12, v13, &v30);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v5, v6, "Determine+HandleIntentStrategy#intentHandledResponse returning output with dialog only %{public}s", v11, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v8, v10);
  }
  else
  {

    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v8, v10);
  }
  uint64_t v15 = v0[6];
  uint64_t v14 = v0[7];
  uint64_t v16 = v0[4];
  sub_294940();
  swift_allocObject();
  v0[11] = sub_294930();
  sub_71D4(&qword_3107B0);
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = xmmword_29A8D0;
  uint64_t v18 = *(int *)(v15 + 48);
  uint64_t v19 = sub_2949F0();
  uint64_t v20 = *(void *)(v19 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v20 + 16))(v14, v16, v19);
  uint64_t v21 = *(void **)(v16 + v18);
  *(void *)(v14 + v18) = v21;
  *(void *)(v17 + 32) = v21;
  uint64_t v30 = v17;
  sub_298B70();
  uint64_t v22 = v30;
  v0[12] = v30;
  uint64_t v23 = *(void (**)(uint64_t, uint64_t))(v20 + 8);
  id v24 = v21;
  v23(v14, v19);
  uint64_t v29 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:)
                                                          + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:));
  uint64_t v25 = (void *)swift_task_alloc();
  v0[13] = v25;
  *uint64_t v25 = v0;
  v25[1] = sub_14984C;
  uint64_t v26 = v0[5];
  uint64_t v27 = v0[3];
  return v29(v27, v22, v26);
}

uint64_t sub_14984C()
{
  uint64_t v3 = *v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v3 + 8);
  return v1();
}

uint64_t Determine.HandleIntentStrategy.makeSiriKitIntentHandler(app:intent:)@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v6 = sub_298800();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v27 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_6E60(v6, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v10, v6);
  swift_retain_n();
  id v11 = a2;
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DC0();
  int v14 = v13;
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v15 = swift_slowAlloc();
    uint64_t v32 = a3;
    uint64_t v16 = v15;
    uint64_t v29 = (void *)swift_slowAlloc();
    uint64_t v17 = swift_slowAlloc();
    uint64_t v31 = v17;
    *(_DWORD *)uint64_t v16 = 136315394;
    uint64_t v33 = a1;
    v34[0] = v17;
    sub_297700();
    int v28 = v14;
    sub_14CC54((unint64_t *)&qword_30CAD0, 255, (void (*)(uint64_t))&type metadata accessor for App);
    uint64_t v30 = v6;
    uint64_t v18 = sub_2995A0();
    uint64_t v33 = sub_6E98(v18, v19, v34);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v16 + 12) = 2112;
    uint64_t v33 = (uint64_t)v11;
    id v20 = v11;
    sub_2992C0();
    *uint64_t v29 = v11;

    _os_log_impl(&dword_0, v12, (os_log_type_t)v28, "Determine+HandleIntentStrategy#makeSiriKitIntentHandler called with app: %s and intent: %@", (uint8_t *)v16, 0x16u);
    sub_71D4((uint64_t *)&unk_30FA40);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_arrayDestroy();
    swift_slowDealloc();
    a3 = v32;
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v30);
  }
  else
  {

    swift_release_n();
    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  }
  uint64_t v21 = qword_30C878;
  swift_retain();
  if (v21 != -1) {
    swift_once();
  }
  swift_beginAccess();
  uint64_t v22 = (void *)static Determine.intentHandler;
  type metadata accessor for DetermineIntent();
  id v23 = v11;
  id v24 = v22;
  sub_2940F0();
  uint64_t v25 = sub_294100();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v25 - 8) + 56))(a3, 0, 1, v25);
}

uint64_t Determine.HandleIntentStrategy.makeFailureHandlingIntentResponse(app:intent:intentResponse:_:)(uint64_t a1, uint64_t a2, char *a3, uint64_t a4, uint64_t a5)
{
  return sub_14BBA8(a1, a3, a4, a5);
}

uint64_t sub_149DF8(uint64_t a1, void *a2, void (*a3)(uint64_t *), uint64_t a4, uint64_t a5)
{
  uint64_t v81 = a5;
  uint64_t v90 = a3;
  uint64_t v91 = a4;
  uint64_t v92 = a2;
  uint64_t v84 = a1;
  uint64_t v5 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v5 - 8);
  uint64_t v83 = (char *)&v72 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v93 = sub_71D4(&qword_30D030);
  uint64_t v7 = __chkstk_darwin(v93);
  uint64_t v82 = (char *)&v72 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v94 = (char *)&v72 - v9;
  uint64_t v10 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v10 - 8);
  uint64_t v89 = (char *)&v72 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v12 - 8);
  uint64_t v88 = (char *)&v72 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v14 - 8);
  uint64_t v86 = (char *)&v72 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v95 = sub_296130();
  uint64_t v87 = *(void *)(v95 - 8);
  __chkstk_darwin(v95);
  uint64_t v85 = (char *)&v72 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_297280();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  id v20 = (char *)&v72 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_297210();
  uint64_t v22 = *(void *)(v21 - 8);
  __chkstk_darwin(v21);
  id v24 = (char *)&v72 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v25);
  uint64_t v27 = (char **)((char *)&v72 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_11E58(v84, (uint64_t)v27, (uint64_t *)&unk_30FA30);
  if (swift_getEnumCaseMultiPayload() == 1)
  {
    uint64_t v94 = *v27;
    (*(void (**)(char *, void, uint64_t))(v22 + 104))(v24, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v21);
    (*(void (**)(char *, void, uint64_t))(v18 + 104))(v20, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v17);
    swift_getErrorValue();
    sub_299620();
    uint64_t v93 = sub_297230();
    uint64_t v84 = v28;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v17);
    (*(void (**)(char *, uint64_t))(v22 + 8))(v24, v21);
    uint64_t v29 = v92 + 3;
    uint64_t v30 = v92[6];
    uint64_t v92 = (void *)v92[7];
    sub_74A4(v29, v30);
    uint64_t v31 = v87;
    uint64_t v32 = v85;
    (*(void (**)(char *, void, uint64_t))(v87 + 104))(v85, enum case for TypeOfIntent.determine(_:), v95);
    uint64_t v33 = enum case for ActivityType.failed(_:);
    uint64_t v34 = sub_2944C0();
    uint64_t v35 = *(void *)(v34 - 8);
    uint64_t v36 = (uint64_t)v86;
    (*(void (**)(char *, uint64_t, uint64_t))(v35 + 104))(v86, v33, v34);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v35 + 56))(v36, 0, 1, v34);
    uint64_t v37 = sub_2949F0();
    uint64_t v38 = (uint64_t)v88;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v37 - 8) + 56))(v88, 1, 1, v37);
    uint64_t v39 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v40 = sub_294170();
    uint64_t v41 = *(void *)(v40 - 8);
    uint64_t v42 = (uint64_t)v89;
    (*(void (**)(char *, uint64_t, uint64_t))(v41 + 104))(v89, v39, v40);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v41 + 56))(v42, 0, 1, v40);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v42, &qword_30D5B8);
    sub_23A44(v38, (uint64_t *)&unk_30FA50);
    sub_23A44(v36, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v31 + 8))(v32, v95);
    v96[0] = v94;
    char v97 = 1;
    swift_errorRetain();
    v90(v96);
    swift_errorRelease();
    return sub_23A44((uint64_t)v96, (uint64_t *)&unk_30FA80);
  }
  else
  {
    uint64_t v44 = *(int *)(v93 + 48);
    uint64_t v80 = sub_2949F0();
    uint64_t v84 = *(void *)(v80 - 8);
    unint64_t v78 = *(void (**)(char *, char **, uint64_t))(v84 + 32);
    uint64_t v79 = v84 + 32;
    uint64_t v45 = v94;
    v78(v94, v27, v80);
    unint64_t v46 = *(char **)((char *)v27 + v44);
    *(void *)&v45[v44] = v46;
    (*(void (**)(char *, void, uint64_t))(v22 + 104))(v24, enum case for AdditionalMetricsDescription.ModuleName.dhis(_:), v21);
    (*(void (**)(char *, void, uint64_t))(v18 + 104))(v20, enum case for AdditionalMetricsDescription.SourceFunction.failHandleResp(_:), v17);
    uint64_t v47 = (uint64_t *)(v81 + OBJC_IVAR___DetermineIntentResponse_code);
    swift_beginAccess();
    uint64_t v98 = *v47;
    id v48 = v46;
    id v72 = v48;
    sub_2995A0();
    uint64_t v81 = sub_297230();
    uint64_t v77 = v49;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v17);
    (*(void (**)(char *, uint64_t))(v22 + 8))(v24, v21);
    uint64_t v50 = v92[7];
    uint64_t v75 = v92[6];
    uint64_t v76 = v50;
    uint64_t v74 = sub_74A4(v92 + 3, v75);
    uint64_t v51 = v87;
    uint64_t v52 = v85;
    (*(void (**)(char *, void, uint64_t))(v87 + 104))(v85, enum case for TypeOfIntent.determine(_:), v95);
    uint64_t v53 = enum case for ActivityType.failed(_:);
    uint64_t v54 = sub_2944C0();
    uint64_t v55 = *(void *)(v54 - 8);
    uint64_t v56 = (uint64_t)v86;
    (*(void (**)(char *, uint64_t, uint64_t))(v55 + 104))(v86, v53, v54);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v55 + 56))(v56, 0, 1, v54);
    uint64_t v57 = *(int *)(v93 + 48);
    uint64_t v58 = v84;
    uint64_t v73 = *(void (**)(char *, char *, uint64_t))(v84 + 16);
    uint64_t v59 = (uint64_t)v82;
    uint64_t v60 = v80;
    v73(v82, v94, v80);
    *(void *)(v59 + v57) = v48;
    uint64_t v61 = (uint64_t)v88;
    v78(v88, (char **)v59, v60);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v58 + 56))(v61, 0, 1, v60);
    uint64_t v62 = enum case for SiriKitReliabilityCodes.handleIntentFailure(_:);
    uint64_t v63 = sub_294170();
    uint64_t v64 = *(void *)(v63 - 8);
    uint64_t v65 = (uint64_t)v89;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 104))(v89, v62, v63);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v64 + 56))(v65, 0, 1, v63);
    sub_295CA0();
    swift_bridgeObjectRelease();
    sub_23A44(v65, &qword_30D5B8);
    sub_23A44(v61, (uint64_t *)&unk_30FA50);
    sub_23A44(v56, &qword_30D5C0);
    (*(void (**)(char *, uint64_t))(v51 + 8))(v52, v95);
    sub_74A4(v92 + 10, v92[13]);
    uint64_t v66 = (uint64_t)v94;
    uint64_t v67 = *(int *)(v93 + 48);
    uint64_t v68 = v80;
    v73((char *)v59, v94, v80);
    uint64_t v69 = v72;
    *(void *)(v59 + v67) = v72;
    uint64_t v70 = sub_2948C0();
    uint64_t v71 = (uint64_t)v83;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v70 - 8) + 56))(v83, 1, 1, v70);
    sub_1CBD04(v59, v69, v71, (uint64_t)_swiftEmptyArrayStorage, v90, v91);

    sub_23A44(v71, (uint64_t *)&unk_30FA70);
    sub_23A44(v66, &qword_30D030);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v84 + 8))(v59, v68);
  }
}

uint64_t Determine.HandleIntentStrategy.deinit()
{
  swift_release();
  sub_7184(v0 + 24);
  swift_release();
  swift_release();
  sub_7184(v0 + 80);
  sub_7184(v0 + 120);
  sub_7184(v0 + 160);
  sub_7184(v0 + 200);
  return v0;
}

uint64_t Determine.HandleIntentStrategy.__deallocating_deinit()
{
  swift_release();
  sub_7184(v0 + 24);
  swift_release();
  swift_release();
  sub_7184(v0 + 80);
  sub_7184(v0 + 120);
  sub_7184(v0 + 160);
  sub_7184(v0 + 200);

  return swift_deallocClassInstance();
}

uint64_t sub_14AB30(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for Determine.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makePromptForDeviceUnlock(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_14ABAC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for Determine.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeHandoffForAuthenticationResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_14AC28(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for Determine.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makePreHandleIntentOutput(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

void sub_14ACA4(uint64_t a1, void *a2, void *a3, uint64_t a4, void *a5)
{
}

uint64_t sub_14ACC8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for Determine.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeContinueInAppResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_14AD44(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for Determine.HandleIntentStrategy();

  return HandleIntentFlowStrategy.makeInProgressResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_14ADC0(uint64_t a1, uint64_t a2, char *a3, uint64_t a4, uint64_t a5)
{
  return sub_14BBA8(a1, a3, a4, a5);
}

uint64_t sub_14ADF0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = type metadata accessor for Determine.HandleIntentStrategy();

  return IntentExtensionCommunicating.shouldIntentBeExecutedOnRemoteCompanion(intent:)(a1, v5, a3);
}

uint64_t sub_14AE3C@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  return Determine.HandleIntentStrategy.makeSiriKitIntentHandler(app:intent:)(a1, a2, a3);
}

uint64_t sub_14AE54(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = type metadata accessor for Determine.HandleIntentStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:)(a1, a2, v7, a4);
}

uint64_t sub_14AEA8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for Determine.HandleIntentStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:completion:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_14AF14(uint64_t a1, void *a2, char *a3, char *a4, char *a5, void (*a6)(char *, uint64_t, uint64_t), uint64_t a7, uint64_t a8)
{
  uint64_t v132 = a7;
  uint64_t v133 = a8;
  uint64_t v124 = a5;
  uint64_t v125 = a6;
  uint64_t v122 = a3;
  uint64_t v123 = a4;
  uint64_t v10 = sub_71D4(&qword_30D188);
  __chkstk_darwin(v10 - 8);
  uint64_t v126 = (char *)&v104 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v136 = sub_297970();
  uint64_t v129 = *(void *)(v136 - 8);
  uint64_t v12 = __chkstk_darwin(v136);
  uint64_t v108 = (char *)&v104 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v107 = v13;
  __chkstk_darwin(v12);
  uint64_t v128 = (char *)&v104 - v14;
  uint64_t v15 = sub_294420();
  __chkstk_darwin(v15 - 8);
  uint64_t v118 = (char *)&v104 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_294ED0();
  uint64_t v130 = *(void *)(v17 - 8);
  uint64_t v131 = v17;
  uint64_t v18 = __chkstk_darwin(v17);
  uint64_t v135 = (char *)&v104 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v127 = v19;
  __chkstk_darwin(v18);
  unint64_t v138 = (char *)&v104 - v20;
  uint64_t v106 = sub_295AF0();
  uint64_t v105 = *(void *)(v106 - 8);
  __chkstk_darwin(v106);
  uint64_t v104 = (char *)&v104 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_298800();
  uint64_t v23 = *(void *)(v22 - 8);
  uint64_t v24 = __chkstk_darwin(v22);
  uint64_t v134 = (char *)&v104 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v24);
  uint64_t v27 = (char *)&v104 - v26;
  uint64_t v28 = sub_71D4(&qword_30D030);
  uint64_t v119 = *(void *)(v28 - 8);
  uint64_t v29 = __chkstk_darwin(v28);
  uint64_t v121 = (char *)&v104 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v31 = __chkstk_darwin(v29);
  uint64_t v113 = (char *)&v104 - v32;
  uint64_t v120 = v33;
  __chkstk_darwin(v31);
  uint64_t v35 = (char *)&v104 - v34;
  uint64_t v36 = sub_2949F0();
  uint64_t v37 = *(void *)(v36 - 8);
  uint64_t v38 = *(void (**)(char *, uint64_t, uint64_t))(v37 + 16);
  uint64_t v114 = v37 + 16;
  v38(v35, a1, v36);
  uint64_t v39 = *(int *)(v28 + 48);
  uint64_t v137 = v35;
  *(void *)&v35[v39] = a2;
  uint64_t v40 = qword_30C848;
  id v111 = a2;
  if (v40 != -1) {
    swift_once();
  }
  uint64_t v41 = sub_6E60(v22, (uint64_t)qword_31FC08);
  uint64_t v42 = *(void (**)(void))(v23 + 16);
  uint64_t v110 = (void (*)(char *, uint64_t))v41;
  uint64_t v109 = (void (*)(char *, void (*)(void, void), uint64_t))v42;
  v42(v27);
  uint64_t v43 = sub_2987E0();
  os_log_type_t v44 = sub_298DA0();
  BOOL v45 = os_log_type_enabled(v43, v44);
  uint64_t v117 = v28;
  uint64_t v116 = v36;
  uint64_t v115 = v38;
  uint64_t v112 = v23;
  if (v45)
  {
    unint64_t v46 = (uint8_t *)swift_slowAlloc();
    uint64_t v140 = swift_slowAlloc();
    *(_DWORD *)unint64_t v46 = 136446210;
    uint64_t v47 = sub_2973F0();
    uint64_t v139 = sub_6E98(v47, v48, &v140);
    sub_2992C0();
    uint64_t v49 = v112;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v43, v44, "Determine+HandleIntentStrategy#intentHandledResponse... %{public}s", v46, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }
  else
  {
    uint64_t v49 = v23;
  }

  uint64_t v50 = *(void (**)(char *, uint64_t))(v49 + 8);
  v50(v27, v22);
  uint64_t v51 = v134;
  uint64_t v52 = sub_295C60();
  if (!v52)
  {
    sub_295A10();
    uint64_t v52 = sub_295A00();
  }
  uint64_t v53 = v52;
  v109(v51, (void (*)(void, void))v110, v22);
  swift_retain_n();
  uint64_t v54 = sub_2987E0();
  os_log_type_t v55 = sub_298D90();
  if (os_log_type_enabled(v54, v55))
  {
    uint64_t v56 = (uint8_t *)swift_slowAlloc();
    uint64_t v140 = swift_slowAlloc();
    *(_DWORD *)uint64_t v56 = 136315138;
    uint64_t v110 = v50;
    sub_2959C0();
    uint64_t v57 = v104;
    sub_297B00();
    swift_release();
    uint64_t v58 = sub_295A90();
    uint64_t v59 = (char *)v53;
    unint64_t v61 = v60;
    uint64_t v62 = v57;
    uint64_t v63 = v59;
    (*(void (**)(char *, uint64_t))(v105 + 8))(v62, v106);
    uint64_t v139 = sub_6E98(v58, v61, &v140);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v54, v55, "Determine+HandleIntentStrategy#intentHandledResponse with responseMode = %s", v56, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v110(v134, v22);
    uint64_t v64 = (uint64_t)v126;
    uint64_t v65 = v117;
  }
  else
  {

    swift_release_n();
    v50(v51, v22);
    uint64_t v64 = (uint64_t)v126;
    uint64_t v65 = v117;
    uint64_t v63 = (char *)v53;
  }
  uint64_t v66 = v116;
  uint64_t v67 = (uint64_t (*)(char *, char *, uint64_t))v115;
  sub_2943C0();
  uint64_t v68 = *(int *)(v65 + 48);
  uint64_t v69 = (uint64_t)v113;
  uint64_t v70 = v67(v113, v137, v66);
  *(void *)(v69 + v68) = v111;
  __chkstk_darwin(v70);
  uint64_t v71 = v123;
  *(&v104 - 6) = v122;
  *(&v104 - 5) = v71;
  *(&v104 - 4) = v124;
  *(&v104 - 3) = v63;
  uint64_t v126 = v63;
  *(&v104 - 2) = (char *)v69;
  uint64_t v134 = (char *)v72;
  sub_294E00();
  sub_23A44(v69, &qword_30D030);
  sub_11E58((uint64_t)v125, v64, &qword_30D188);
  uint64_t v73 = (void (*)(char *, char *, uint64_t))v67;
  uint64_t v74 = v129;
  uint64_t v75 = v136;
  int v76 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v129 + 48))(v64, 1, v136);
  uint64_t v77 = v130;
  if (v76 == 1)
  {
    sub_23A44(v64, &qword_30D188);
    uint64_t v78 = *(int *)(v65 + 48);
    uint64_t v79 = (uint64_t)v121;
    uint64_t v80 = (uint64_t)v137;
    v73(v121, v137, v66);
    id v82 = v134;
    uint64_t v81 = v135;
    *(void *)(v79 + v78) = v134;
    uint64_t v83 = v138;
    uint64_t v84 = v131;
    (*(void (**)(char *, char *, uint64_t))(v77 + 16))(v81, v138, v131);
    unint64_t v85 = (*(unsigned __int8 *)(v119 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v119 + 80);
    unint64_t v86 = (v120 + *(unsigned __int8 *)(v77 + 80) + v85) & ~(unint64_t)*(unsigned __int8 *)(v77 + 80);
    uint64_t v87 = swift_allocObject();
    sub_60BBC(v79, v87 + v85, &qword_30D030);
    (*(void (**)(unint64_t, char *, uint64_t))(v77 + 32))(v87 + v86, v81, v84);
    id v88 = v82;
    sub_71D4((uint64_t *)&unk_313830);
    sub_298C30();
    swift_release();
    swift_release();
    uint64_t v89 = v80;
  }
  else
  {
    uint64_t v125 = *(void (**)(char *, uint64_t, uint64_t))(v74 + 32);
    uint64_t v90 = v128;
    v125(v128, v64, v75);
    uint64_t v91 = v108;
    (*(void (**)(char *, char *, uint64_t))(v74 + 16))(v108, v90, v75);
    uint64_t v92 = *(int *)(v65 + 48);
    uint64_t v93 = (uint64_t)v121;
    v73(v121, v137, v66);
    uint64_t v94 = v135;
    *(void *)(v93 + v92) = v134;
    uint64_t v84 = v131;
    (*(void (**)(char *, char *, uint64_t))(v77 + 16))(v94, v138, v131);
    unint64_t v95 = (*(unsigned __int8 *)(v74 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v74 + 80);
    unint64_t v96 = (v107 + *(unsigned __int8 *)(v119 + 80) + v95) & ~(unint64_t)*(unsigned __int8 *)(v119 + 80);
    unint64_t v97 = (v120 + *(unsigned __int8 *)(v77 + 80) + v96) & ~(unint64_t)*(unsigned __int8 *)(v77 + 80);
    uint64_t v98 = swift_allocObject();
    unint64_t v99 = v98 + v95;
    uint64_t v100 = v136;
    v125((char *)v99, (uint64_t)v91, v136);
    sub_60BBC(v93, v98 + v96, &qword_30D030);
    uint64_t v89 = (uint64_t)v137;
    (*(void (**)(unint64_t, char *, uint64_t))(v77 + 32))(v98 + v97, v135, v84);
    uint64_t v101 = v134;
    sub_71D4((uint64_t *)&unk_313830);
    sub_298C30();
    swift_release();
    swift_release();
    uint64_t v102 = v100;
    uint64_t v83 = v138;
    (*(void (**)(char *, uint64_t))(v74 + 8))(v128, v102);
  }
  (*(void (**)(char *, uint64_t))(v77 + 8))(v83, v84);
  return sub_23A44(v89, &qword_30D030);
}

uint64_t sub_14BBA8(uint64_t a1, char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = v4;
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v26 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_295C50();
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v10, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v14, v10);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v27 = v5;
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "Determine+HandleIntentStrategy#makeFailureHandlingIntentResponse", v17, 2u);
    uint64_t v5 = v27;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  sub_71D4(&qword_313930);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_29A440;
  strcpy((char *)(inited + 32), "MetricsError");
  *(unsigned char *)(inited + 45) = 0;
  *(_WORD *)(inited + 46) = -5120;
  uint64_t v29 = 0;
  unint64_t v30 = 0xE000000000000000;
  sub_2993B0(37);
  swift_bridgeObjectRelease();
  unint64_t v31 = 0xD000000000000023;
  unint64_t v32 = 0x80000000002A6700;
  uint64_t v19 = &a2[OBJC_IVAR___DetermineIntentResponse_code];
  swift_beginAccess();
  uint64_t v28 = *(void *)v19;
  v33._countAndFlagsBits = sub_2995A0();
  sub_298A80(v33);
  swift_bridgeObjectRelease();
  unint64_t v20 = v31;
  unint64_t v21 = v32;
  *(void *)(inited + 72) = &type metadata for String;
  *(void *)(inited + 48) = v20;
  *(void *)(inited + 56) = v21;
  unint64_t v22 = sub_9A184(inited);
  uint64_t v23 = (void *)swift_allocObject();
  void v23[2] = v5;
  void v23[3] = a3;
  v23[4] = a4;
  _OWORD v23[5] = a2;
  swift_retain();
  swift_retain();
  uint64_t v24 = a2;
  sub_F5340(v22, a1, (uint64_t)sub_14BFA0, (uint64_t)v23);
  swift_bridgeObjectRelease();
  return swift_release();
}

uint64_t sub_14BEEC(uint64_t a1, uint64_t a2)
{
  return sub_14CC54(&qword_312C78, a2, (void (*)(uint64_t))type metadata accessor for Determine.HandleIntentStrategy);
}

uint64_t type metadata accessor for Determine.HandleIntentStrategy()
{
  return self;
}

uint64_t sub_14BF58()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_14BFA0(uint64_t a1)
{
  return sub_149DF8(a1, *(void **)(v1 + 16), *(void (**)(uint64_t *))(v1 + 24), *(void *)(v1 + 32), *(void *)(v1 + 40));
}

uint64_t sub_14BFAC()
{
  uint64_t v1 = *(void *)(sub_71D4(&qword_30D188) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 56) & ~v2;
  uint64_t v4 = *(void *)(v1 + 64);
  swift_release();
  swift_release();

  uint64_t v5 = sub_297970();
  uint64_t v6 = *(void *)(v5 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v6 + 48))(v0 + v3, 1, v5)) {
    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v0 + v3, v5);
  }

  return _swift_deallocObject(v0, v3 + v4, v2 | 7);
}

uint64_t sub_14C0EC(void (**a1)(void *, void))
{
  uint64_t v3 = *(void *)(sub_71D4(&qword_30D188) - 8);
  uint64_t v4 = (void *)v1[2];
  uint64_t v5 = (void (*)(uint64_t *))v1[3];
  uint64_t v6 = (void (*)(uint64_t *))v1[4];
  uint64_t v7 = (char *)v1[5];
  uint64_t v8 = v1[6];
  uint64_t v9 = (uint64_t)v1 + ((*(unsigned __int8 *)(v3 + 80) + 56) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_147978(a1, v4, v5, v6, v7, v8, v9);
}

uint64_t sub_14C16C()
{
  uint64_t v1 = (int *)(sub_71D4(&qword_30D030) - 8);
  uint64_t v2 = *(unsigned __int8 *)(*(void *)v1 + 80);
  uint64_t v3 = (v2 + 24) & ~v2;
  uint64_t v4 = *(void *)(*(void *)v1 + 64);
  uint64_t v5 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  uint64_t v6 = *(unsigned __int8 *)(v5 + 80);
  uint64_t v7 = (v3 + v4 + v6) & ~v6;
  uint64_t v8 = *(void *)(v5 + 64);
  uint64_t v9 = *(void *)(sub_71D4(&qword_30D188) - 8);
  uint64_t v10 = *(unsigned __int8 *)(v9 + 80);
  uint64_t v11 = (v7 + v8 + v10) & ~v10;
  uint64_t v12 = *(void *)(v9 + 64);
  swift_release();
  uint64_t v13 = v0 + v3;
  uint64_t v14 = sub_2949F0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v14 - 8) + 8))(v13, v14);

  uint64_t v15 = v0 + v7;
  uint64_t v16 = sub_2948C0();
  uint64_t v17 = *(void *)(v16 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v17 + 48))(v15, 1, v16)) {
    (*(void (**)(uint64_t, uint64_t))(v17 + 8))(v15, v16);
  }
  uint64_t v18 = sub_297970();
  uint64_t v19 = *(void *)(v18 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v19 + 48))(v0 + v11, 1, v18)) {
    (*(void (**)(uint64_t, uint64_t))(v19 + 8))(v0 + v11, v18);
  }
  swift_release();

  return _swift_deallocObject(v0, ((v12 + v11 + 7) & 0xFFFFFFFFFFFFFFF8) + 16, v2 | v6 | v10 | 7);
}

uint64_t sub_14C454(char *a1, char *a2)
{
  uint64_t v5 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  uint64_t v7 = *(void *)(v5 + 64);
  uint64_t v8 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  unint64_t v9 = (v6 + v7 + *(unsigned __int8 *)(v8 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  uint64_t v10 = *(void *)(v8 + 64);
  uint64_t v11 = *(void *)(sub_71D4(&qword_30D188) - 8);
  unint64_t v12 = (v9 + v10 + *(unsigned __int8 *)(v11 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
  uint64_t v13 = *(void *)(v2 + 16);
  uint64_t v14 = (void (*)(char *, uint64_t, uint64_t))(v2 + v12);
  uint64_t v15 = (uint64_t *)(v2 + ((*(void *)(v11 + 64) + v12 + 7) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v16 = *v15;
  uint64_t v17 = v15[1];

  return sub_148B98(a1, a2, v13, v2 + v6, (char *)(v2 + v9), v14, v16, v17);
}

uint64_t sub_14C5D4(uint64_t a1)
{
  return sub_148CEC(a1, v1[2], v1[3], v1[4], v1[5], v1[6]);
}

uint64_t sub_14C5E4()
{
  uint64_t v1 = (int *)(sub_71D4(&qword_30D030) - 8);
  uint64_t v2 = *(unsigned __int8 *)(*(void *)v1 + 80);
  uint64_t v3 = (v2 + 16) & ~v2;
  uint64_t v4 = *(void *)(*(void *)v1 + 64);
  uint64_t v5 = sub_294ED0();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(unsigned __int8 *)(v6 + 80);
  uint64_t v8 = (v3 + v4 + v7) & ~v7;
  uint64_t v9 = v8 + *(void *)(v6 + 64);
  uint64_t v10 = v2 | v7 | 7;
  uint64_t v11 = v0 + v3;
  uint64_t v12 = sub_2949F0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v12 - 8) + 8))(v11, v12);

  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v0 + v8, v5);

  return _swift_deallocObject(v0, v9, v10);
}

uint64_t sub_14C75C(uint64_t a1)
{
  uint64_t v4 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v5 = (*(unsigned __int8 *)(v4 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80);
  uint64_t v6 = *(void *)(v4 + 64);
  uint64_t v7 = *(unsigned __int8 *)(*(void *)(sub_294ED0() - 8) + 80);
  unint64_t v8 = v5 + v6 + v7;
  uint64_t v9 = v1 + v5;
  uint64_t v10 = v1 + (v8 & ~v7);
  uint64_t v11 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v11;
  *uint64_t v11 = v2;
  v11[1] = sub_5174C;
  return sub_14940C(a1, v9, v10);
}

uint64_t sub_14C8A0()
{
  uint64_t v1 = sub_297970();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = (int *)(sub_71D4(&qword_30D030) - 8);
  uint64_t v7 = *(unsigned __int8 *)(*(void *)v6 + 80);
  uint64_t v8 = (v5 + v7) & ~v7;
  uint64_t v9 = *(void *)(*(void *)v6 + 64);
  uint64_t v17 = sub_294ED0();
  uint64_t v10 = *(void *)(v17 - 8);
  uint64_t v11 = *(unsigned __int8 *)(v10 + 80);
  uint64_t v12 = (v8 + v9 + v11) & ~v11;
  uint64_t v16 = v12 + *(void *)(v10 + 64);
  uint64_t v13 = v3 | v11 | v7 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  uint64_t v14 = sub_2949F0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v14 - 8) + 8))(v0 + v8, v14);

  (*(void (**)(uint64_t, uint64_t))(v10 + 8))(v0 + v12, v17);

  return _swift_deallocObject(v0, v16, v13);
}

uint64_t sub_14CAA8(uint64_t a1)
{
  uint64_t v4 = *(void *)(sub_297970() - 8);
  unint64_t v5 = (*(unsigned __int8 *)(v4 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80);
  unint64_t v6 = v5 + *(void *)(v4 + 64);
  uint64_t v7 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v8 = (v6 + *(unsigned __int8 *)(v7 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = *(void *)(v7 + 64);
  uint64_t v10 = *(unsigned __int8 *)(*(void *)(sub_294ED0() - 8) + 80);
  unint64_t v11 = v8 + v9 + v10;
  uint64_t v12 = v1 + v5;
  uint64_t v13 = v1 + v8;
  uint64_t v14 = v1 + (v11 & ~v10);
  uint64_t v15 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v15;
  *uint64_t v15 = v2;
  v15[1] = sub_14480;
  return sub_148F40(a1, v12, v13, v14);
}

uint64_t sub_14CC54(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_14CC9C()
{
  swift_release();
  swift_release();

  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_14CCF4(char *a1)
{
  uint64_t v2 = sub_71D4(&qword_30EBB8);
  uint64_t v3 = __chkstk_darwin(v2 - 8);
  uint64_t v95 = (uint64_t)&v93 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  unint64_t v96 = (char *)&v93 - v5;
  uint64_t v6 = sub_297C00();
  uint64_t v102 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v93 = (char *)&v93 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v100 = sub_71D4(&qword_30DD98);
  __chkstk_darwin(v100);
  uint64_t v9 = (char *)&v93 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30DDA0);
  uint64_t v11 = __chkstk_darwin(v10 - 8);
  uint64_t v97 = (uint64_t)&v93 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v103 = (uint64_t)&v93 - v14;
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v93 - v15;
  uint64_t v17 = sub_71D4((uint64_t *)&unk_313880);
  __chkstk_darwin(v17 - 8);
  uint64_t v104 = (char *)&v93 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_295120();
  uint64_t v111 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  uint64_t v110 = (void **)((char *)&v93 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v21 = sub_298800();
  uint64_t v22 = *(void *)(v21 - 8);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v94 = (char *)&v93 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v105 = (char *)&v93 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  unint64_t v99 = (char *)&v93 - v28;
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v101 = (char *)&v93 - v30;
  __chkstk_darwin(v29);
  unint64_t v32 = (char *)&v93 - v31;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v33 = sub_6E60(v21, (uint64_t)qword_31FC08);
  uint64_t v34 = *(void (**)(char *, uint64_t, uint64_t))(v22 + 16);
  uint64_t v107 = v33;
  uint64_t v108 = v34;
  uint64_t v109 = v22 + 16;
  ((void (*)(char *))v34)(v32);
  uint64_t v35 = sub_2987E0();
  os_log_type_t v36 = sub_298DC0();
  if (os_log_type_enabled(v35, v36))
  {
    uint64_t v37 = (uint8_t *)swift_slowAlloc();
    uint64_t v106 = v16;
    *(_WORD *)uint64_t v37 = 0;
    _os_log_impl(&dword_0, v35, v36, "OpenMediaItemFlow#on validating input...", v37, 2u);
    uint64_t v16 = v106;
    swift_slowDealloc();
  }

  uint64_t v40 = *(char **)(v22 + 8);
  uint64_t v39 = v22 + 8;
  uint64_t v38 = v40;
  ((void (*)(char *, uint64_t))v40)(v32, v21);
  uint64_t v41 = v110;
  sub_295040();
  uint64_t v42 = v111;
  if ((*(unsigned int (**)(void **, uint64_t))(v111 + 88))(v41, v19) != enum case for Parse.pommesResponse(_:))
  {
    os_log_type_t v55 = v105;
    v108(v105, v107, v21);
    uint64_t v56 = sub_2987E0();
    os_log_type_t v57 = sub_298DB0();
    if (os_log_type_enabled(v56, v57))
    {
      uint64_t v58 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v58 = 0;
      _os_log_impl(&dword_0, v56, v57, "OpenMediaItemFlow#on unexpected parse type, rejecting", v58, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v38)(v55, v21);
    (*(void (**)(void **, uint64_t))(v111 + 8))(v110, v19);
    return 0;
  }
  (*(void (**)(void **, uint64_t))(v42 + 96))(v41, v19);
  uint64_t v43 = (char *)*v41;
  uint64_t v44 = sub_124EC();
  if (!v44)
  {
    uint64_t v111 = v39;
    uint64_t v59 = v99;
    v108(v99, v107, v21);
    unint64_t v60 = v43;
    unint64_t v61 = sub_2987E0();
    os_log_type_t v62 = sub_298DB0();
    if (os_log_type_enabled(v61, v62))
    {
      uint64_t v63 = (uint8_t *)swift_slowAlloc();
      uint64_t v109 = swift_slowAlloc();
      v112[0] = v109;
      *(_DWORD *)uint64_t v63 = 136315138;
      uint64_t v108 = (void (*)(char *, uint64_t, uint64_t))(v63 + 4);
      sub_298230();
      sub_2981B0();
      uint64_t v64 = sub_298B60();
      uint64_t v110 = (void **)v21;
      uint64_t v65 = v64;
      unint64_t v67 = v66;
      swift_bridgeObjectRelease();
      v112[3] = sub_6E98(v65, v67, v112);
      sub_2992C0();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v61, v62, "OpenMediaItemFlow#on pommesResponse doesn't contain audioExperience %s", v63, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v68 = v59;
      uint64_t v69 = v110;
    }
    else
    {

      uint64_t v68 = v59;
      uint64_t v69 = (void **)v21;
    }
    ((void (*)(char *, void **))v38)(v68, v69);
    return 0;
  }
  BOOL v45 = v44;
  uint64_t v110 = (void **)v43;
  uint64_t v106 = v16;
  unint64_t v99 = a1;
  sub_297E30();
  unint64_t v46 = v104;
  sub_2981A0();
  uint64_t v47 = sub_2952B0();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v47 - 8) + 56))(v46, 0, 1, v47);
  if (!sub_297D30())
  {
LABEL_19:
    uint64_t v71 = v101;
    v108(v101, v107, v21);
    id v72 = sub_2987E0();
    os_log_type_t v73 = sub_298DB0();
    if (os_log_type_enabled(v72, v73))
    {
      uint64_t v74 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v74 = 0;
      _os_log_impl(&dword_0, v72, v73, "OpenMediaItemFlow#on invalid AudioIntent for open use case", v74, 2u);
      swift_slowDealloc();
      uint64_t v75 = v110;
    }
    else
    {
      uint64_t v75 = v72;
      id v72 = v45;
      BOOL v45 = v110;
    }

    ((void (*)(char *, uint64_t))v38)(v71, v21);
    return 0;
  }
  uint64_t v105 = v38;
  uint64_t v111 = v39;
  uint64_t v48 = (uint64_t)v106;
  sub_297DF0();
  uint64_t v50 = v102;
  uint64_t v49 = v103;
  (*(void (**)(uint64_t, void, uint64_t))(v102 + 104))(v103, enum case for CommonAudio.Verb.open(_:), v6);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v50 + 56))(v49, 0, 1, v6);
  uint64_t v51 = (uint64_t)&v9[*(int *)(v100 + 48)];
  sub_11E58(v48, (uint64_t)v9, &qword_30DDA0);
  sub_11E58(v49, v51, &qword_30DDA0);
  uint64_t v52 = v6;
  uint64_t v53 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v50 + 48);
  if (v53((uint64_t)v9, 1, v6) != 1)
  {
    uint64_t v70 = v97;
    sub_11E58((uint64_t)v9, v97, &qword_30DDA0);
    if (v53(v51, 1, v6) != 1)
    {
      uint64_t v78 = v102;
      uint64_t v79 = v70;
      uint64_t v80 = v93;
      (*(void (**)(char *, uint64_t, uint64_t))(v102 + 32))(v93, v51, v6);
      sub_155AB0();
      char v81 = sub_2989A0();
      swift_release();
      id v82 = *(void (**)(char *, uint64_t))(v78 + 8);
      v82(v80, v52);
      sub_23A44(v103, &qword_30DDA0);
      sub_23A44((uint64_t)v106, &qword_30DDA0);
      v82((char *)v79, v52);
      sub_23A44((uint64_t)v9, &qword_30DDA0);
      uint64_t v38 = v105;
      if (v81) {
        goto LABEL_28;
      }
      goto LABEL_19;
    }
    swift_release();
    sub_23A44(v103, &qword_30DDA0);
    sub_23A44((uint64_t)v106, &qword_30DDA0);
    (*(void (**)(uint64_t, uint64_t))(v102 + 8))(v70, v6);
    uint64_t v38 = v105;
    goto LABEL_18;
  }
  swift_release();
  sub_23A44(v49, &qword_30DDA0);
  sub_23A44(v48, &qword_30DDA0);
  unsigned int v54 = v53(v51, 1, v6);
  uint64_t v38 = v105;
  if (v54 != 1)
  {
LABEL_18:
    sub_23A44((uint64_t)v9, &qword_30DD98);
    goto LABEL_19;
  }
  sub_23A44((uint64_t)v9, &qword_30DDA0);
LABEL_28:

  uint64_t v83 = *(void **)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_pommesResponse);
  *(void *)(v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_pommesResponse) = v110;

  uint64_t v84 = v94;
  v108(v94, v107, v21);
  unint64_t v85 = sub_2987E0();
  os_log_type_t v86 = sub_298DC0();
  if (os_log_type_enabled(v85, v86))
  {
    uint64_t v87 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v87 = 0;
    _os_log_impl(&dword_0, v85, v86, "OpenMediaItemFlow#on accepting input", v87, 2u);
    swift_slowDealloc();
  }

  ((void (*)(char *, uint64_t))v38)(v84, v21);
  uint64_t v88 = sub_295060();
  uint64_t v89 = *(void *)(v88 - 8);
  uint64_t v90 = (uint64_t)v96;
  (*(void (**)(char *, char *, uint64_t))(v89 + 16))(v96, v99, v88);
  uint64_t v76 = 1;
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v89 + 56))(v90, 0, 1, v88);
  uint64_t v91 = v95;
  sub_B23C4(v90, v95);
  uint64_t v92 = v98 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_input;
  swift_beginAccess();
  sub_1F9CC(v91, v92);
  swift_endAccess();
  return v76;
}

uint64_t sub_14DA30(uint64_t a1)
{
  v2[20] = a1;
  v2[21] = v1;
  sub_71D4(&qword_30DDB8);
  v2[22] = swift_task_alloc();
  sub_71D4((uint64_t *)&unk_313880);
  v2[23] = swift_task_alloc();
  sub_71D4(&qword_30D5B8);
  v2[24] = swift_task_alloc();
  sub_71D4(&qword_30D5C0);
  v2[25] = swift_task_alloc();
  uint64_t v3 = sub_296130();
  v2[26] = v3;
  v2[27] = *(void *)(v3 - 8);
  v2[28] = swift_task_alloc();
  uint64_t v4 = sub_297270();
  v2[29] = v4;
  v2[30] = *(void *)(v4 - 8);
  v2[31] = swift_task_alloc();
  uint64_t v5 = sub_297280();
  v2[32] = v5;
  v2[33] = *(void *)(v5 - 8);
  v2[34] = swift_task_alloc();
  uint64_t v6 = sub_297210();
  v2[35] = v6;
  v2[36] = *(void *)(v6 - 8);
  v2[37] = swift_task_alloc();
  uint64_t v7 = sub_296070();
  v2[38] = v7;
  v2[39] = *(void *)(v7 - 8);
  v2[40] = swift_task_alloc();
  uint64_t v8 = sub_297C70();
  v2[41] = v8;
  v2[42] = *(void *)(v8 - 8);
  v2[43] = swift_task_alloc();
  v2[44] = swift_task_alloc();
  v2[45] = swift_task_alloc();
  uint64_t v9 = sub_293940();
  v2[46] = v9;
  v2[47] = *(void *)(v9 - 8);
  v2[48] = swift_task_alloc();
  uint64_t v10 = sub_297CE0();
  v2[49] = v10;
  v2[50] = *(void *)(v10 - 8);
  v2[51] = swift_task_alloc();
  v2[52] = swift_task_alloc();
  v2[53] = swift_task_alloc();
  uint64_t v11 = sub_295060();
  v2[54] = v11;
  v2[55] = *(void *)(v11 - 8);
  v2[56] = swift_task_alloc();
  sub_71D4(&qword_30EBB8);
  v2[57] = swift_task_alloc();
  uint64_t v12 = sub_295120();
  v2[58] = v12;
  v2[59] = *(void *)(v12 - 8);
  v2[60] = swift_task_alloc();
  uint64_t v13 = sub_298800();
  v2[61] = v13;
  v2[62] = *(void *)(v13 - 8);
  v2[63] = swift_task_alloc();
  v2[64] = swift_task_alloc();
  v2[65] = swift_task_alloc();
  v2[66] = swift_task_alloc();
  v2[67] = swift_task_alloc();
  v2[68] = swift_task_alloc();
  v2[69] = swift_task_alloc();
  v2[70] = swift_task_alloc();
  v2[71] = swift_task_alloc();
  v2[72] = swift_task_alloc();
  v2[73] = swift_task_alloc();
  v2[74] = swift_task_alloc();
  v2[75] = swift_task_alloc();
  return _swift_task_switch(sub_14E044, 0, 0);
}

uint64_t sub_14E044()
{
  unint64_t v196 = v0;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v1 = v0[75];
  uint64_t v2 = v0[62];
  uint64_t v3 = sub_6E60(v0[61], (uint64_t)qword_31FC08);
  v0[76] = v3;
  uint64_t v4 = *(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 16);
  v0[77] = v4;
  v0[78] = (v2 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
  uint64_t v188 = v3;
  uint64_t v190 = v4;
  ((void (*)(uint64_t))v4)(v1);
  uint64_t v5 = sub_2987E0();
  os_log_type_t v6 = sub_298DC0();
  if (os_log_type_enabled(v5, v6))
  {
    uint64_t v7 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v7 = 0;
    _os_log_impl(&dword_0, v5, v6, "OpenMediaItemFlow#execute", v7, 2u);
    swift_slowDealloc();
  }
  uint64_t v8 = v0[75];
  uint64_t v9 = v0[61];
  uint64_t v10 = v0[62];
  uint64_t v11 = v0[57];
  uint64_t v12 = v0[54];
  uint64_t v13 = v0[55];
  uint64_t v14 = v0[21];

  uint64_t v15 = *(void (**)(uint64_t, uint64_t))(v10 + 8);
  v0[79] = v15;
  v0[80] = (v10 + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
  id v187 = v15;
  v15(v8, v9);
  uint64_t v16 = v14 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_input;
  swift_beginAccess();
  sub_11E58(v16, v11, &qword_30EBB8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v13 + 48))(v11, 1, v12))
  {
    sub_23A44(v0[57], &qword_30EBB8);
  }
  else
  {
    uint64_t v17 = v0[59];
    uint64_t v18 = v0[60];
    uint64_t v19 = v0[57];
    uint64_t v20 = v0[58];
    uint64_t v22 = v0[55];
    uint64_t v21 = v0[56];
    uint64_t v23 = v0[54];
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v22 + 16))(v21, v19, v23);
    sub_23A44(v19, &qword_30EBB8);
    sub_295040();
    (*(void (**)(uint64_t, uint64_t))(v22 + 8))(v21, v23);
    int v24 = (*(uint64_t (**)(uint64_t, uint64_t))(v17 + 88))(v18, v20);
    uint64_t v25 = v0[59];
    uint64_t v26 = (void *)v0[60];
    uint64_t v27 = v0[58];
    if (v24 == enum case for Parse.pommesResponse(_:))
    {
      uint64_t v28 = v0[21];
      (*(void (**)(void, uint64_t))(v25 + 96))(v0[60], v27);
      uint64_t v29 = *(void **)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_pommesResponse);
      *(void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_pommesResponse) = *v26;
    }
    else
    {
      (*(void (**)(void, uint64_t))(v25 + 8))(v0[60], v27);
    }
  }
  uint64_t v30 = *(void **)(v0[21] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_pommesResponse);
  v0[81] = v30;
  if (!v30) {
    goto LABEL_26;
  }
  id v31 = v30;
  uint64_t v32 = sub_124EC();
  v0[82] = v32;
  if (!v32)
  {

LABEL_26:
    v190(v0[65], v188, v0[61]);
    uint64_t v76 = sub_2987E0();
    os_log_type_t v77 = sub_298DB0();
    if (os_log_type_enabled(v76, v77))
    {
      uint64_t v78 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v78 = 0;
      _os_log_impl(&dword_0, v76, v77, "OpenMediaItemFlow#execute missing pommesResponse or audioExperience", v78, 2u);
      swift_slowDealloc();
    }
    uint64_t v79 = v0[65];
    uint64_t v80 = v0[61];
    uint64_t v82 = v0[30];
    uint64_t v81 = v0[31];
    uint64_t v83 = v0[29];

    v187(v79, v80);
    (*(void (**)(uint64_t, void, uint64_t))(v82 + 104))(v81, enum case for AdditionalMetricsDescription.StatusReason.missingPommesResponse(_:), v83);
    uint64_t v84 = (void *)swift_task_alloc();
    v0[104] = v84;
    *uint64_t v84 = v0;
    unint64_t v85 = sub_1516E4;
    goto LABEL_29;
  }
  uint64_t v33 = (void *)v32;
  sub_298320();
  sub_298310();
  sub_298240();
  v0[83] = sub_298300();
  swift_bridgeObjectRelease();
  swift_release();
  unint64_t v34 = sub_298330();
  unint64_t v38 = v34;
  if (!(v34 >> 62))
  {
    uint64_t v39 = *(void *)((char *)&dword_10 + (v34 & 0xFFFFFFFFFFFFFF8));
    if (v39) {
      goto LABEL_14;
    }
LABEL_68:
    uint64_t v164 = v0[66];
    uint64_t v165 = v0[61];
    swift_bridgeObjectRelease();
    v190(v164, v188, v165);
    uint64_t v166 = sub_2987E0();
    os_log_type_t v167 = sub_298DB0();
    if (os_log_type_enabled(v166, v167))
    {
      uint64_t v168 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v168 = 0;
      _os_log_impl(&dword_0, v166, v167, "OpenMediaItemFlow#execute failed to get audioItem from ranked results", v168, 2u);
      swift_slowDealloc();
    }
    uint64_t v169 = v0[66];
    uint64_t v170 = v0[61];
    uint64_t v171 = v0[23];

    v187(v169, v170);
    sub_297E30();
    id v172 = v33;
    sub_2981A0();

    uint64_t v173 = sub_2952B0();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v173 - 8) + 56))(v171, 0, 1, v173);
    uint64_t v174 = sub_297D30();
    v0[101] = v174;
    uint64_t v175 = v0[41];
    uint64_t v176 = v0[42];
    uint64_t v177 = v0[22];
    if (v174)
    {
      sub_297E20();
      if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v176 + 48))(v177, 1, v175) != 1)
      {
        (*(void (**)(void, void, void))(v0[42] + 32))(v0[43], v0[22], v0[41]);
LABEL_75:
        uint64_t v180 = v0[42];
        uint64_t v179 = v0[43];
        uint64_t v181 = v0[41];
        BOOL v182 = sub_297C50();
        (*(void (**)(uint64_t, uint64_t))(v180 + 8))(v179, v181);
        if (v182) {
          sub_2965A0();
        }
        else {
          sub_296580();
        }
        sub_297700();
        uint64_t v183 = sub_2976D0();
        v0[102] = v183;
        uint64_t v184 = (void *)swift_task_alloc();
        v0[103] = v184;
        *uint64_t v184 = v0;
        v184[1] = sub_15137C;
        return sub_154070(v183);
      }
    }
    else
    {
      (*(void (**)(void, uint64_t, uint64_t, void))(v176 + 56))(v0[22], 1, 1, v0[41]);
    }
    uint64_t v178 = v0[22];
    (*(void (**)(void, void, void))(v0[42] + 104))(v0[43], enum case for CommonAudio.MediaType.unknown(_:), v0[41]);
    sub_23A44(v178, &qword_30DDB8);
    goto LABEL_75;
  }
  uint64_t v39 = sub_2994C0();
  if (!v39) {
    goto LABEL_68;
  }
LABEL_14:
  if ((v38 & 0xC000000000000001) != 0)
  {
    sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v38 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return dispatch thunk of AppIntentInvoking.invokeOpenPodcastShowAppIntent(showIdentifier:)(v39, v35, v36, v37);
    }
    swift_retain();
  }
  uint64_t v41 = v0[52];
  uint64_t v40 = v0[53];
  uint64_t v43 = v0[49];
  uint64_t v42 = v0[50];
  uint64_t v45 = v0[47];
  uint64_t v44 = v0[48];
  uint64_t v46 = v0[46];
  swift_bridgeObjectRelease();
  sub_2981E0();
  swift_release();
  sub_27C614(v41);
  (*(void (**)(uint64_t, uint64_t))(v45 + 8))(v44, v46);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v42 + 32))(v40, v41, v43);
  sub_297CC0();
  if (!v47 || (sub_2960D0(), swift_allocObject(), uint64_t v48 = sub_2960E0(), (v0[84] = v48) == 0))
  {
    uint64_t v88 = v0[53];
    uint64_t v89 = v0[50];
    uint64_t v90 = v0[51];
    uint64_t v91 = v0[49];
    v190(v0[67], v188, v0[61]);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v89 + 16))(v90, v88, v91);
    uint64_t v92 = sub_2987E0();
    os_log_type_t v93 = sub_298DB0();
    BOOL v94 = os_log_type_enabled(v92, v93);
    uint64_t v95 = v0[67];
    uint64_t v96 = v0[61];
    uint64_t v98 = v0[50];
    uint64_t v97 = v0[51];
    if (v94)
    {
      uint64_t v189 = v0[49];
      uint64_t v194 = v0[67];
      unint64_t v99 = (uint8_t *)swift_slowAlloc();
      uint64_t v195 = swift_slowAlloc();
      *(_DWORD *)unint64_t v99 = 136315138;
      uint64_t v100 = sub_297CC0();
      if (v101)
      {
        unint64_t v102 = v101;
      }
      else
      {
        uint64_t v100 = 0x3E6C696E3CLL;
        unint64_t v102 = 0xE500000000000000;
      }
      v0[15] = sub_6E98(v100, v102, &v195);
      sub_2992C0();
      swift_bridgeObjectRelease();
      uint64_t v105 = *(void (**)(void, void))(v98 + 8);
      uint64_t v104 = v98 + 8;
      uint64_t v103 = v105;
      v105(v97, v189);
      _os_log_impl(&dword_0, v92, v93, "OpenMediaItemFlow#execute failed to convert identifier: %s", v99, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      uint64_t v107 = v96;
      uint64_t v106 = v194;
    }
    else
    {
      uint64_t v108 = *(void (**)(void, void))(v98 + 8);
      uint64_t v104 = v98 + 8;
      uint64_t v103 = v108;
      v108(v0[51], v0[49]);

      uint64_t v106 = v95;
      uint64_t v107 = v96;
    }
    v187(v106, v107);
    v0[99] = v103;
    v0[98] = v104;
    (*(void (**)(void, void, void))(v0[30] + 104))(v0[31], enum case for AdditionalMetricsDescription.StatusReason.failedToConvertPlaybackIdentifier(_:), v0[29]);
    uint64_t v84 = (void *)swift_task_alloc();
    v0[100] = v84;
    *uint64_t v84 = v0;
    unint64_t v85 = sub_150FBC;
LABEL_29:
    v84[1] = v85;
    uint64_t v86 = v0[31];
    return sub_152C58(v86);
  }
  uint64_t v49 = v0[45];
  uint64_t v51 = v0[41];
  uint64_t v50 = v0[42];
  sub_297CD0();
  BOOL v52 = sub_297C50();
  uint64_t v53 = *(void (**)(uint64_t, uint64_t))(v50 + 8);
  v0[85] = v53;
  v0[86] = (v50 + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
  v53(v49, v51);
  uint64_t v54 = v0[61];
  if (!v52)
  {
    v190(v0[70], v188, v54);
    uint64_t v109 = sub_2987E0();
    os_log_type_t v110 = sub_298DA0();
    if (os_log_type_enabled(v109, v110))
    {
      uint64_t v111 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v111 = 0;
      _os_log_impl(&dword_0, v109, v110, "OpenMediaItemFlow#execute using Music open intent", v111, 2u);
      swift_slowDealloc();
    }
    uint64_t v112 = v0[70];
    uint64_t v113 = v0[61];
    uint64_t v114 = v0[39];
    uint64_t v115 = v0[40];
    uint64_t v116 = v0[38];

    v187(v112, v113);
    sub_296080();
    uint64_t v117 = sub_296020();
    unint64_t v119 = v118;
    v0[94] = v118;
    (*(void (**)(uint64_t, uint64_t))(v114 + 8))(v115, v116);
    uint64_t v120 = v0[61];
    if (v119)
    {
      v190(v0[69], v188, v120);
      swift_bridgeObjectRetain_n();
      uint64_t v121 = sub_2987E0();
      os_log_type_t v122 = sub_298DA0();
      BOOL v123 = os_log_type_enabled(v121, v122);
      uint64_t v124 = v0[69];
      uint64_t v125 = v0[61];
      if (v123)
      {
        uint64_t v191 = v0[61];
        uint64_t v126 = (uint8_t *)swift_slowAlloc();
        uint64_t v195 = swift_slowAlloc();
        *(_DWORD *)uint64_t v126 = 136315138;
        swift_bridgeObjectRetain();
        v0[13] = sub_6E98(v117, v119, &v195);
        sub_2992C0();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_0, v121, v122, "OpenMediaItemFlow#execute invoking OpenMusicItemIntent with identifier: %s", v126, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v128 = v191;
        uint64_t v127 = v124;
      }
      else
      {
        swift_bridgeObjectRelease_n();

        uint64_t v127 = v124;
        uint64_t v128 = v125;
      }
      v187(v127, v128);
      uint64_t v144 = (void *)(v0[21] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_appIntentInvoker);
      uint64_t v146 = v144[3];
      uint64_t v145 = v144[4];
      sub_74A4(v144, v146);
      char v147 = (void *)swift_task_alloc();
      v0[95] = v147;
      *char v147 = v0;
      v147[1] = sub_150560;
      return AppIntentInvoking.invokeOpenMusicItemIntent(musicItemIdentifier:)(v117, v119, v146, v145);
    }
    v190(v0[68], v188, v120);
    uint64_t v136 = sub_2987E0();
    os_log_type_t v137 = sub_298DB0();
    if (os_log_type_enabled(v136, v137))
    {
      unint64_t v138 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v138 = 0;
      _os_log_impl(&dword_0, v136, v137, "OpenMediaItemFlow#execute failed to convert PlaybackItem.identifier to MusicSiriRepresentation", v138, 2u);
      swift_slowDealloc();
    }
    uint64_t v139 = v0[68];
    uint64_t v140 = v0[61];
    uint64_t v142 = v0[30];
    uint64_t v141 = v0[31];
    uint64_t v143 = v0[29];

    v187(v139, v140);
    (*(void (**)(uint64_t, void, uint64_t))(v142 + 104))(v141, enum case for AdditionalMetricsDescription.StatusReason.failedToConvertMusicSiriRepresentation(_:), v143);
    uint64_t v84 = (void *)swift_task_alloc();
    v0[97] = v84;
    *uint64_t v84 = v0;
    unint64_t v85 = sub_150BF4;
    goto LABEL_29;
  }
  v190(v0[74], v188, v54);
  os_log_type_t v55 = sub_2987E0();
  os_log_type_t v56 = sub_298DA0();
  if (os_log_type_enabled(v55, v56))
  {
    os_log_type_t v57 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v57 = 0;
    _os_log_impl(&dword_0, v55, v56, "OpenMediaItemFlow#execute mediaItem is Podcasts type, using Podcasts open intent", v57, 2u);
    swift_slowDealloc();
  }
  uint64_t v58 = v0[74];
  uint64_t v59 = v0[61];
  uint64_t v60 = v0[44];
  uint64_t v61 = v0[42];
  uint64_t v186 = v0[41];
  uint64_t v63 = v0[39];
  uint64_t v62 = v0[40];
  uint64_t v64 = v0[38];

  v187(v58, v59);
  sub_296080();
  uint64_t v185 = sub_296030();
  unint64_t v66 = v65;
  v0[87] = v65;
  (*(void (**)(uint64_t, uint64_t))(v63 + 8))(v62, v64);
  sub_297CD0();
  int v67 = (*(uint64_t (**)(uint64_t, uint64_t))(v61 + 88))(v60, v186);
  uint64_t v68 = v0[61];
  if (v67 == enum case for CommonAudio.MediaType.podcast(_:))
  {
    v190(v0[73], v188, v68);
    swift_bridgeObjectRetain_n();
    uint64_t v69 = sub_2987E0();
    os_log_type_t v70 = sub_298DA0();
    BOOL v71 = os_log_type_enabled(v69, v70);
    uint64_t v72 = v0[73];
    uint64_t v73 = v0[61];
    if (v71)
    {
      uint64_t v193 = v0[73];
      uint64_t v74 = (uint8_t *)swift_slowAlloc();
      uint64_t v195 = swift_slowAlloc();
      *(_DWORD *)uint64_t v74 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v75 = v185;
      v0[19] = sub_6E98(v185, v66, &v195);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v69, v70, "OpenMediaItemFlow#execute invoking OpenPodcastShowAppIntent with identifier: %s", v74, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v187(v193, v73);
    }
    else
    {
      swift_bridgeObjectRelease_n();

      v187(v72, v73);
      uint64_t v75 = v185;
    }
    uint64_t v148 = (void *)(v0[21] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_appIntentInvoker);
    uint64_t v149 = v148[3];
    uint64_t v150 = v148[4];
    sub_74A4(v148, v149);
    id v151 = (void *)swift_task_alloc();
    v0[88] = v151;
    *id v151 = v0;
    id v152 = sub_14F6C4;
LABEL_64:
    v151[1] = v152;
    uint64_t v39 = v75;
    unint64_t v35 = v66;
    uint64_t v36 = v149;
    uint64_t v37 = v150;
    return dispatch thunk of AppIntentInvoking.invokeOpenPodcastShowAppIntent(showIdentifier:)(v39, v35, v36, v37);
  }
  if (v67 != enum case for CommonAudio.MediaType.episode(_:))
  {
    v190(v0[71], v188, v68);
    swift_bridgeObjectRetain_n();
    id v153 = sub_2987E0();
    os_log_type_t v154 = sub_298DA0();
    BOOL v155 = os_log_type_enabled(v153, v154);
    uint64_t v156 = v0[71];
    uint64_t v157 = v0[61];
    if (v155)
    {
      uint64_t v192 = v0[61];
      id v158 = (uint8_t *)swift_slowAlloc();
      uint64_t v195 = swift_slowAlloc();
      *(_DWORD *)id v158 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v75 = v185;
      v0[17] = sub_6E98(v185, v66, &v195);
      sub_2992C0();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_0, v153, v154, "OpenMediaItemFlow#execute mediaType is not podcastShow or podcastEpisode, defaulting to invoke OpenPodcastShowAppIntent with identifier: %s", v158, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v187(v156, v192);
    }
    else
    {
      swift_bridgeObjectRelease_n();

      v187(v156, v157);
      uint64_t v75 = v185;
    }
    uint64_t v163 = (void *)(v0[21] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_appIntentInvoker);
    uint64_t v149 = v163[3];
    uint64_t v150 = v163[4];
    sub_74A4(v163, v149);
    id v151 = (void *)swift_task_alloc();
    v0[92] = v151;
    *id v151 = v0;
    id v152 = sub_14FEA0;
    goto LABEL_64;
  }
  v190(v0[72], v188, v68);
  swift_bridgeObjectRetain_n();
  uint64_t v129 = sub_2987E0();
  os_log_type_t v130 = sub_298DA0();
  BOOL v131 = os_log_type_enabled(v129, v130);
  uint64_t v132 = v0[72];
  uint64_t v133 = v0[61];
  if (v131)
  {
    uint64_t v134 = (uint8_t *)swift_slowAlloc();
    uint64_t v195 = swift_slowAlloc();
    *(_DWORD *)uint64_t v134 = 136315138;
    swift_bridgeObjectRetain();
    uint64_t v135 = v185;
    v0[18] = sub_6E98(v185, v66, &v195);
    sub_2992C0();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_0, v129, v130, "OpenMediaItemFlow#execute invoking OpenPodcastEpisodeAppIntent with identifier: %s", v134, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v187(v132, v133);
  }
  else
  {
    swift_bridgeObjectRelease_n();

    v187(v132, v133);
    uint64_t v135 = v185;
  }
  uint64_t v159 = (void *)(v0[21] + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_appIntentInvoker);
  uint64_t v160 = v159[3];
  uint64_t v161 = v159[4];
  sub_74A4(v159, v160);
  os_log_type_t v162 = (void *)swift_task_alloc();
  v0[90] = v162;
  *os_log_type_t v162 = v0;
  v162[1] = sub_14FD70;
  return dispatch thunk of AppIntentInvoking.invokeOpenPodcastEpisodeAppIntent(episodeIdentifier:)(v135, v66, v160, v161);
}

uint64_t sub_14F6C4()
{
  *(void *)(*(void *)v1 + 712) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (v0) {
    uint64_t v2 = sub_151E38;
  }
  else {
    uint64_t v2 = sub_14F7F4;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_14F7F4()
{
  uint64_t v26 = (void *)v0[82];
  int v24 = (void *)v0[81];
  uint64_t v25 = v0[50];
  uint64_t v27 = v0[49];
  uint64_t v28 = v0[53];
  uint64_t v2 = v0[36];
  uint64_t v1 = v0[37];
  uint64_t v4 = v0[34];
  uint64_t v3 = v0[35];
  uint64_t v5 = v0[32];
  uint64_t v6 = v0[33];
  uint64_t v7 = v0[30];
  uint64_t v8 = v0[31];
  uint64_t v9 = v0[29];
  uint64_t v20 = v0[28];
  uint64_t v21 = v0[26];
  uint64_t v22 = v0[25];
  uint64_t v18 = v0[27];
  uint64_t v19 = v0[21];
  uint64_t v23 = v0[24];
  (*(void (**)(uint64_t, void, uint64_t))(v2 + 104))(v1, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v3);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v4, enum case for AdditionalMetricsDescription.SourceFunction.exec(_:), v5);
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v8, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v9);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v8, v9);
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v4, v5);
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  sub_74A4((void *)(v19 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v19 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v18 + 104))(v20, enum case for TypeOfIntent.openMediaItem(_:), v21);
  uint64_t v10 = enum case for ActivityType.completed(_:);
  uint64_t v11 = sub_2944C0();
  uint64_t v12 = *(void *)(v11 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 104))(v22, v10, v11);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v12 + 56))(v22, 0, 1, v11);
  uint64_t v13 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v14 = sub_294170();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 104))(v23, v13, v14);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v15 + 56))(v23, 0, 1, v14);
  sub_295C90();
  swift_bridgeObjectRelease();
  sub_23A44(v23, &qword_30D5B8);
  sub_23A44(v22, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v18 + 8))(v20, v21);
  sub_294760();

  swift_release();
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v25 + 8))(v28, v27);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v16 = (uint64_t (*)(void))v0[1];
  return v16();
}

uint64_t sub_14FD70()
{
  *(void *)(*(void *)v1 + 728) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (v0) {
    uint64_t v2 = sub_1520C0;
  }
  else {
    uint64_t v2 = sub_155B08;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_14FEA0()
{
  *(void *)(*(void *)v1 + 744) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (v0) {
    uint64_t v2 = sub_152348;
  }
  else {
    uint64_t v2 = sub_14FFD0;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_14FFD0()
{
  (*(void (**)(void, void))(v0 + 680))(*(void *)(v0 + 352), *(void *)(v0 + 328));
  uint64_t v26 = *(void **)(v0 + 656);
  int v24 = *(void **)(v0 + 648);
  uint64_t v25 = *(void *)(v0 + 400);
  uint64_t v27 = *(void *)(v0 + 392);
  uint64_t v28 = *(void *)(v0 + 424);
  uint64_t v2 = *(void *)(v0 + 288);
  uint64_t v1 = *(void *)(v0 + 296);
  uint64_t v4 = *(void *)(v0 + 272);
  uint64_t v3 = *(void *)(v0 + 280);
  uint64_t v5 = *(void *)(v0 + 256);
  uint64_t v6 = *(void *)(v0 + 264);
  uint64_t v7 = *(void *)(v0 + 240);
  uint64_t v8 = *(void *)(v0 + 248);
  uint64_t v9 = *(void *)(v0 + 232);
  uint64_t v20 = *(void *)(v0 + 224);
  uint64_t v21 = *(void *)(v0 + 208);
  uint64_t v22 = *(void *)(v0 + 200);
  uint64_t v18 = *(void *)(v0 + 216);
  uint64_t v19 = *(void *)(v0 + 168);
  uint64_t v23 = *(void *)(v0 + 192);
  (*(void (**)(uint64_t, void, uint64_t))(v2 + 104))(v1, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v3);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v4, enum case for AdditionalMetricsDescription.SourceFunction.exec(_:), v5);
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v8, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v9);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v8, v9);
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v4, v5);
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  sub_74A4((void *)(v19 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v19 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v18 + 104))(v20, enum case for TypeOfIntent.openMediaItem(_:), v21);
  uint64_t v10 = enum case for ActivityType.completed(_:);
  uint64_t v11 = sub_2944C0();
  uint64_t v12 = *(void *)(v11 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 104))(v22, v10, v11);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v12 + 56))(v22, 0, 1, v11);
  uint64_t v13 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v14 = sub_294170();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 104))(v23, v13, v14);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v15 + 56))(v23, 0, 1, v14);
  sub_295C90();
  swift_bridgeObjectRelease();
  sub_23A44(v23, &qword_30D5B8);
  sub_23A44(v22, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v18 + 8))(v20, v21);
  sub_294760();

  swift_release();
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v25 + 8))(v28, v27);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v16 = *(uint64_t (**)(void))(v0 + 8);
  return v16();
}

uint64_t sub_150560()
{
  *(void *)(*(void *)v1 + 768) = v0;
  swift_task_dealloc();
  if (v0) {
    uint64_t v2 = sub_1525E4;
  }
  else {
    uint64_t v2 = sub_150674;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_150674()
{
  uint64_t v26 = (void *)v0[82];
  int v24 = (void *)v0[81];
  uint64_t v25 = v0[50];
  uint64_t v27 = v0[49];
  uint64_t v28 = v0[53];
  uint64_t v1 = v0[36];
  uint64_t v2 = v0[37];
  uint64_t v3 = v0[34];
  uint64_t v4 = v0[35];
  uint64_t v5 = v0[32];
  uint64_t v6 = v0[33];
  uint64_t v7 = v0[30];
  uint64_t v8 = v0[31];
  uint64_t v9 = v0[29];
  uint64_t v19 = v0[27];
  uint64_t v20 = v0[28];
  uint64_t v21 = v0[26];
  uint64_t v22 = v0[25];
  uint64_t v18 = v0[21];
  uint64_t v23 = v0[24];
  swift_bridgeObjectRelease();
  (*(void (**)(uint64_t, void, uint64_t))(v1 + 104))(v2, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v4);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v3, enum case for AdditionalMetricsDescription.SourceFunction.exec(_:), v5);
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v8, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v9);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v8, v9);
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v3, v5);
  (*(void (**)(uint64_t, uint64_t))(v1 + 8))(v2, v4);
  sub_74A4((void *)(v18 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v18 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v19 + 104))(v20, enum case for TypeOfIntent.openMediaItem(_:), v21);
  uint64_t v10 = enum case for ActivityType.completed(_:);
  uint64_t v11 = sub_2944C0();
  uint64_t v12 = *(void *)(v11 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 104))(v22, v10, v11);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v12 + 56))(v22, 0, 1, v11);
  uint64_t v13 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v14 = sub_294170();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 104))(v23, v13, v14);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v15 + 56))(v23, 0, 1, v14);
  sub_295C90();
  swift_bridgeObjectRelease();
  sub_23A44(v23, &qword_30D5B8);
  sub_23A44(v22, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v19 + 8))(v20, v21);
  sub_294760();

  swift_release();
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v25 + 8))(v28, v27);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v16 = (uint64_t (*)(void))v0[1];
  return v16();
}

uint64_t sub_150BF4()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 248);
  uint64_t v2 = *(void *)(*(void *)v0 + 240);
  uint64_t v3 = *(void *)(*(void *)v0 + 232);
  swift_task_dealloc();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  return _swift_task_switch(sub_150D4C, 0, 0);
}

uint64_t sub_150D4C()
{
  uint64_t v1 = (void *)v0[82];
  uint64_t v2 = (void *)v0[81];
  uint64_t v3 = v0[53];
  uint64_t v4 = v0[49];
  uint64_t v5 = v0[50];
  sub_294760();

  swift_release();
  swift_release();

  (*(void (**)(uint64_t, uint64_t))(v5 + 8))(v3, v4);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_150FBC()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 248);
  uint64_t v2 = *(void *)(*(void *)v0 + 240);
  uint64_t v3 = *(void *)(*(void *)v0 + 232);
  swift_task_dealloc();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  return _swift_task_switch(sub_151114, 0, 0);
}

uint64_t sub_151114()
{
  uint64_t v1 = (void (*)(uint64_t, uint64_t))v0[99];
  uint64_t v2 = (void *)v0[82];
  uint64_t v3 = (void *)v0[81];
  uint64_t v4 = v0[53];
  uint64_t v5 = v0[49];
  sub_294760();

  swift_release();
  v1(v4, v5);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_15137C()
{
  swift_task_dealloc();
  swift_release();
  return _swift_task_switch(sub_151494, 0, 0);
}

uint64_t sub_151494()
{
  uint64_t v1 = (void *)v0[82];
  uint64_t v2 = (void *)v0[81];
  sub_294760();

  swift_release();
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v3 = (uint64_t (*)(void))v0[1];
  return v3();
}

uint64_t sub_1516E4()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 248);
  uint64_t v2 = *(void *)(*(void *)v0 + 240);
  uint64_t v3 = *(void *)(*(void *)v0 + 232);
  swift_task_dealloc();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  return _swift_task_switch(sub_15183C, 0, 0);
}

uint64_t sub_15183C()
{
  sub_294760();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_151A64()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 248);
  uint64_t v2 = *(void *)(*(void *)v0 + 240);
  uint64_t v3 = *(void *)(*(void *)v0 + 232);
  swift_task_dealloc();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  return _swift_task_switch(sub_151BBC, 0, 0);
}

uint64_t sub_151BBC()
{
  uint64_t v1 = (void *)v0[82];
  uint64_t v2 = (void *)v0[81];
  uint64_t v3 = v0[53];
  uint64_t v4 = v0[49];
  uint64_t v5 = v0[50];
  sub_294760();

  swift_release();
  swift_release();
  swift_errorRelease();

  (*(void (**)(uint64_t, uint64_t))(v5 + 8))(v3, v4);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_151E38()
{
  uint64_t v16 = v0;
  *(void *)(v0 + 840) = *(void *)(v0 + 712);
  (*(void (**)(void, void, void))(v0 + 616))(*(void *)(v0 + 512), *(void *)(v0 + 608), *(void *)(v0 + 488));
  swift_errorRetain();
  swift_errorRetain();
  uint64_t v1 = sub_2987E0();
  os_log_type_t v2 = sub_298DB0();
  if (os_log_type_enabled(v1, v2))
  {
    uint64_t v14 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v12 = *(void *)(v0 + 488);
    uint64_t v13 = *(void *)(v0 + 512);
    uint64_t v3 = (uint8_t *)swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    *(_DWORD *)uint64_t v3 = 136315138;
    swift_getErrorValue();
    uint64_t v4 = sub_299620();
    *(void *)(v0 + 128) = sub_6E98(v4, v5, &v15);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    _os_log_impl(&dword_0, v1, v2, "OpenMediaItemFlow#execute threw an error when trying to invoke open intent: %s", v3, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v14(v13, v12);
  }
  else
  {
    uint64_t v6 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v7 = *(void *)(v0 + 512);
    uint64_t v8 = *(void *)(v0 + 488);
    swift_errorRelease();
    swift_errorRelease();

    v6(v7, v8);
  }
  (*(void (**)(void, void, void))(*(void *)(v0 + 240) + 104))(*(void *)(v0 + 248), enum case for AdditionalMetricsDescription.StatusReason.appIntentInvokerFailurePodcasts(_:), *(void *)(v0 + 232));
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 848) = v9;
  *uint64_t v9 = v0;
  v9[1] = sub_151A64;
  uint64_t v10 = *(void *)(v0 + 248);
  return sub_152C58(v10);
}

uint64_t sub_1520C0()
{
  uint64_t v16 = v0;
  *(void *)(v0 + 840) = *(void *)(v0 + 728);
  (*(void (**)(void, void, void))(v0 + 616))(*(void *)(v0 + 512), *(void *)(v0 + 608), *(void *)(v0 + 488));
  swift_errorRetain();
  swift_errorRetain();
  uint64_t v1 = sub_2987E0();
  os_log_type_t v2 = sub_298DB0();
  if (os_log_type_enabled(v1, v2))
  {
    uint64_t v14 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v12 = *(void *)(v0 + 488);
    uint64_t v13 = *(void *)(v0 + 512);
    uint64_t v3 = (uint8_t *)swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    *(_DWORD *)uint64_t v3 = 136315138;
    swift_getErrorValue();
    uint64_t v4 = sub_299620();
    *(void *)(v0 + 128) = sub_6E98(v4, v5, &v15);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    _os_log_impl(&dword_0, v1, v2, "OpenMediaItemFlow#execute threw an error when trying to invoke open intent: %s", v3, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v14(v13, v12);
  }
  else
  {
    uint64_t v6 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v7 = *(void *)(v0 + 512);
    uint64_t v8 = *(void *)(v0 + 488);
    swift_errorRelease();
    swift_errorRelease();

    v6(v7, v8);
  }
  (*(void (**)(void, void, void))(*(void *)(v0 + 240) + 104))(*(void *)(v0 + 248), enum case for AdditionalMetricsDescription.StatusReason.appIntentInvokerFailurePodcasts(_:), *(void *)(v0 + 232));
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 848) = v9;
  *uint64_t v9 = v0;
  v9[1] = sub_151A64;
  uint64_t v10 = *(void *)(v0 + 248);
  return sub_152C58(v10);
}

uint64_t sub_152348()
{
  uint64_t v16 = v0;
  (*(void (**)(void, void))(v0 + 680))(*(void *)(v0 + 352), *(void *)(v0 + 328));
  *(void *)(v0 + 840) = *(void *)(v0 + 744);
  (*(void (**)(void, void, void))(v0 + 616))(*(void *)(v0 + 512), *(void *)(v0 + 608), *(void *)(v0 + 488));
  swift_errorRetain();
  swift_errorRetain();
  uint64_t v1 = sub_2987E0();
  os_log_type_t v2 = sub_298DB0();
  if (os_log_type_enabled(v1, v2))
  {
    uint64_t v14 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v12 = *(void *)(v0 + 488);
    uint64_t v13 = *(void *)(v0 + 512);
    uint64_t v3 = (uint8_t *)swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    *(_DWORD *)uint64_t v3 = 136315138;
    swift_getErrorValue();
    uint64_t v4 = sub_299620();
    *(void *)(v0 + 128) = sub_6E98(v4, v5, &v15);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    _os_log_impl(&dword_0, v1, v2, "OpenMediaItemFlow#execute threw an error when trying to invoke open intent: %s", v3, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v14(v13, v12);
  }
  else
  {
    uint64_t v6 = *(void (**)(uint64_t, uint64_t))(v0 + 632);
    uint64_t v7 = *(void *)(v0 + 512);
    uint64_t v8 = *(void *)(v0 + 488);
    swift_errorRelease();
    swift_errorRelease();

    v6(v7, v8);
  }
  (*(void (**)(void, void, void))(*(void *)(v0 + 240) + 104))(*(void *)(v0 + 248), enum case for AdditionalMetricsDescription.StatusReason.appIntentInvokerFailurePodcasts(_:), *(void *)(v0 + 232));
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 848) = v9;
  *uint64_t v9 = v0;
  v9[1] = sub_151A64;
  uint64_t v10 = *(void *)(v0 + 248);
  return sub_152C58(v10);
}

uint64_t sub_1525E4()
{
  uint64_t v20 = v0;
  uint64_t v1 = (void (*)(uint64_t, uint64_t, uint64_t))v0[77];
  uint64_t v2 = v0[76];
  uint64_t v3 = v0[63];
  uint64_t v4 = v0[61];
  swift_bridgeObjectRelease();
  v1(v3, v2, v4);
  swift_errorRetain();
  swift_errorRetain();
  unint64_t v5 = sub_2987E0();
  os_log_type_t v6 = sub_298DB0();
  if (os_log_type_enabled(v5, v6))
  {
    uint64_t v18 = (void (*)(uint64_t, uint64_t))v0[79];
    uint64_t v16 = v0[61];
    uint64_t v17 = v0[63];
    uint64_t v7 = (uint8_t *)swift_slowAlloc();
    uint64_t v19 = swift_slowAlloc();
    *(_DWORD *)uint64_t v7 = 136315138;
    swift_getErrorValue();
    uint64_t v8 = sub_299620();
    v0[12] = sub_6E98(v8, v9, &v19);
    sub_2992C0();
    swift_bridgeObjectRelease();
    swift_errorRelease();
    swift_errorRelease();
    _os_log_impl(&dword_0, v5, v6, "OpenMediaItemFlow#execute threw an error when trying to invoke OpenMusicItemIntent: %s", v7, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v18(v17, v16);
  }
  else
  {
    uint64_t v10 = (void (*)(uint64_t, uint64_t))v0[79];
    uint64_t v11 = v0[63];
    uint64_t v12 = v0[61];
    swift_errorRelease();
    swift_errorRelease();

    v10(v11, v12);
  }
  (*(void (**)(void, void, void))(v0[30] + 104))(v0[31], enum case for AdditionalMetricsDescription.StatusReason.appIntentInvokerFailureMusic(_:), v0[29]);
  uint64_t v13 = (void *)swift_task_alloc();
  v0[107] = v13;
  *uint64_t v13 = v0;
  v13[1] = sub_152884;
  uint64_t v14 = v0[31];
  return sub_152C58(v14);
}

uint64_t sub_152884()
{
  uint64_t v1 = *(void *)(*(void *)v0 + 248);
  uint64_t v2 = *(void *)(*(void *)v0 + 240);
  uint64_t v3 = *(void *)(*(void *)v0 + 232);
  swift_task_dealloc();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  return _swift_task_switch(sub_1529DC, 0, 0);
}

uint64_t sub_1529DC()
{
  uint64_t v1 = (void *)v0[82];
  uint64_t v2 = (void *)v0[81];
  uint64_t v3 = v0[53];
  uint64_t v4 = v0[49];
  uint64_t v5 = v0[50];
  sub_294760();

  swift_release();
  swift_release();
  swift_errorRelease();

  (*(void (**)(uint64_t, uint64_t))(v5 + 8))(v3, v4);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  os_log_type_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_152C58(uint64_t a1)
{
  v2[12] = a1;
  v2[13] = v1;
  sub_71D4(&qword_30D5B8);
  v2[14] = swift_task_alloc();
  sub_71D4(&qword_30D5C0);
  v2[15] = swift_task_alloc();
  uint64_t v3 = sub_296130();
  v2[16] = v3;
  v2[17] = *(void *)(v3 - 8);
  v2[18] = swift_task_alloc();
  uint64_t v4 = sub_297280();
  v2[19] = v4;
  v2[20] = *(void *)(v4 - 8);
  v2[21] = swift_task_alloc();
  uint64_t v5 = sub_297210();
  v2[22] = v5;
  v2[23] = *(void *)(v5 - 8);
  v2[24] = swift_task_alloc();
  sub_294420();
  v2[25] = swift_task_alloc();
  uint64_t v6 = sub_294ED0();
  v2[26] = v6;
  v2[27] = *(void *)(v6 - 8);
  v2[28] = swift_task_alloc();
  return _swift_task_switch(sub_152EB8, 0, 0);
}

uint64_t sub_152EB8()
{
  uint64_t v1 = sub_295C60();
  if (!v1)
  {
    sub_295A10();
    uint64_t v1 = sub_295A00();
  }
  *(void *)(v0 + 232) = v1;
  uint64_t v2 = *(void *)(*(void *)(v0 + 104)
                 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_openMediaItemCatDialogService);
  uint64_t v3 = *(void *)(v2 + 40);
  uint64_t v4 = *(void *)(v2 + 48);
  *(_OWORD *)(v0 + 32) = 0u;
  *(void *)(v0 + 48) = 0;
  *(_OWORD *)(v0 + 16) = 0u;
  unint64_t v5 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  *(void *)(v0 + 240) = v5;
  uint64_t v6 = (void *)swift_task_alloc();
  *(void *)(v0 + 248) = v6;
  void *v6 = v0;
  v6[1] = sub_152FE4;
  return CatService.executeDialogResult(_:_:for:parameters:bundle:intentDialogContext:)(v3, v4, 0x45636972656E6547, 0xEC000000726F7272, 0, v5, 0, v0 + 16);
}

uint64_t sub_152FE4(uint64_t a1, char a2)
{
  uint64_t v3 = *v2;
  uint64_t v4 = *v2 + 16;
  *(void *)(v3 + 256) = a1;
  *(unsigned char *)(v3 + 304) = a2;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  sub_23A44(v4, &qword_30D018);
  return _swift_task_switch(sub_15311C, 0, 0);
}

uint64_t sub_15311C()
{
  if (*(unsigned char *)(v0 + 304))
  {
    uint64_t v29 = *(void **)(v0 + 256);
    uint64_t v10 = *(void *)(v0 + 184);
    uint64_t v9 = *(void *)(v0 + 192);
    uint64_t v12 = *(void *)(v0 + 168);
    uint64_t v11 = *(void *)(v0 + 176);
    uint64_t v14 = *(void *)(v0 + 152);
    uint64_t v13 = *(void *)(v0 + 160);
    uint64_t v15 = *(void *)(v0 + 136);
    uint64_t v24 = *(void *)(v0 + 144);
    uint64_t v25 = *(void *)(v0 + 128);
    uint64_t v16 = *(void *)(v0 + 112);
    uint64_t v26 = *(void *)(v0 + 104);
    uint64_t v27 = *(void *)(v0 + 120);
    (*(void (**)(uint64_t, void, uint64_t))(v10 + 104))(v9, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v11);
    (*(void (**)(uint64_t, void, uint64_t))(v13 + 104))(v12, enum case for AdditionalMetricsDescription.SourceFunction.errDlg(_:), v14);
    sub_297220();
    (*(void (**)(uint64_t, uint64_t))(v13 + 8))(v12, v14);
    (*(void (**)(uint64_t, uint64_t))(v10 + 8))(v9, v11);
    sub_74A4((void *)(v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
    (*(void (**)(uint64_t, void, uint64_t))(v15 + 104))(v24, enum case for TypeOfIntent.openMediaItem(_:), v25);
    uint64_t v17 = enum case for ActivityType.dialogFailed(_:);
    uint64_t v18 = sub_2944C0();
    uint64_t v19 = *(void *)(v18 - 8);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v19 + 104))(v27, v17, v18);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v19 + 56))(v27, 0, 1, v18);
    uint64_t v20 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v21 = sub_294170();
    uint64_t v22 = *(void *)(v21 - 8);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v22 + 104))(v16, v20, v21);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v22 + 56))(v16, 0, 1, v21);
    sub_295C90();
    swift_release();
    swift_bridgeObjectRelease();
    sub_36DD0(v29, 1);
    sub_23A44(v16, &qword_30D5B8);
    sub_23A44(v27, &qword_30D5C0);
    (*(void (**)(uint64_t, uint64_t))(v15 + 8))(v24, v25);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v23 = *(uint64_t (**)(void))(v0 + 8);
    return v23();
  }
  else
  {
    uint64_t v1 = *(void *)(v0 + 232);
    id v2 = *(id *)(v0 + 256);
    sub_2943F0();
    uint64_t v3 = swift_task_alloc();
    *(void *)(v3 + 16) = v1;
    *(void *)(v3 + 24) = v2;
    sub_294E00();
    swift_task_dealloc();
    sub_294940();
    swift_allocObject();
    *(void *)(v0 + 264) = sub_294930();
    sub_71D4(&qword_3107B0);
    uint64_t v4 = swift_allocObject();
    *(_OWORD *)(v4 + 16) = xmmword_29A8D0;
    *(void *)(v4 + 32) = v2;
    uint64_t v30 = v4;
    sub_298B70();
    *(void *)(v0 + 272) = v30;
    uint64_t v28 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:)
                                                            + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:));
    id v5 = v2;
    uint64_t v6 = (void *)swift_task_alloc();
    *(void *)(v0 + 280) = v6;
    void *v6 = v0;
    v6[1] = sub_1535E8;
    uint64_t v7 = *(void *)(v0 + 224);
    return v28(v0 + 56, v30, v7);
  }
}

uint64_t sub_1535E8()
{
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_release();
  return _swift_task_switch(sub_15371C, 0, 0);
}

uint64_t sub_15371C()
{
  uint64_t v1 = (void *)(*(void *)(v0 + 104) + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_outputPublisher);
  uint64_t v2 = v1[3];
  uint64_t v3 = v1[4];
  sub_74A4(v1, v2);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v0 + 288) = v4;
  void *v4 = v0;
  v4[1] = sub_1537E8;
  return dispatch thunk of OutputPublisherAsync.publish(output:)(v0 + 56, v2, v3);
}

uint64_t sub_1537E8()
{
  *(void *)(*(void *)v1 + 296) = v0;
  swift_task_dealloc();
  if (v0) {
    uint64_t v2 = sub_153CAC;
  }
  else {
    uint64_t v2 = sub_1538FC;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_1538FC()
{
  uint64_t v2 = v0[23];
  uint64_t v1 = v0[24];
  uint64_t v4 = v0[21];
  uint64_t v3 = v0[22];
  uint64_t v5 = v0[19];
  uint64_t v6 = v0[20];
  uint64_t v7 = v0[17];
  uint64_t v25 = v0[18];
  uint64_t v26 = v0[16];
  uint64_t v27 = v0[15];
  uint64_t v8 = v0[13];
  uint64_t v28 = v0[14];
  uint64_t v29 = (void *)v0[32];
  (*(void (**)(uint64_t, void, uint64_t))(v2 + 104))(v1, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v3);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v4, enum case for AdditionalMetricsDescription.SourceFunction.exec(_:), v5);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v4, v5);
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  sub_74A4((void *)(v8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v8 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v25, enum case for TypeOfIntent.openMediaItem(_:), v26);
  uint64_t v9 = enum case for ActivityType.failed(_:);
  uint64_t v10 = sub_2944C0();
  uint64_t v11 = *(void *)(v10 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v11 + 104))(v27, v9, v10);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v11 + 56))(v27, 0, 1, v10);
  uint64_t v12 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v13 = sub_294170();
  uint64_t v14 = *(void *)(v13 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v14 + 104))(v28, v12, v13);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v14 + 56))(v28, 0, 1, v13);
  id v15 = v29;
  sub_295C90();
  swift_release();
  swift_bridgeObjectRelease();
  sub_36DD0(v29, 0);
  sub_36DD0(v29, 0);

  uint64_t v17 = v0[27];
  uint64_t v16 = v0[28];
  uint64_t v18 = v0[26];
  uint64_t v20 = v0[17];
  uint64_t v19 = v0[18];
  uint64_t v22 = v0[15];
  uint64_t v21 = v0[16];
  sub_23A44(v0[14], &qword_30D5B8);
  sub_23A44(v22, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v20 + 8))(v19, v21);
  sub_7184((uint64_t)(v0 + 7));
  (*(void (**)(uint64_t, uint64_t))(v17 + 8))(v16, v18);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v23 = (uint64_t (*)(void))v0[1];
  return v23();
}

uint64_t sub_153CAC()
{
  uint64_t v1 = (void *)v0[32];
  uint64_t v3 = v0[23];
  uint64_t v2 = v0[24];
  uint64_t v5 = v0[21];
  uint64_t v4 = v0[22];
  uint64_t v6 = v0[19];
  uint64_t v7 = v0[20];
  uint64_t v8 = v0[17];
  uint64_t v25 = v0[18];
  uint64_t v26 = v0[16];
  uint64_t v29 = v0[14];
  uint64_t v27 = v0[15];
  uint64_t v28 = v0[13];
  (*(void (**)(uint64_t, void, uint64_t))(v3 + 104))(v2, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v4);
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v5, enum case for AdditionalMetricsDescription.SourceFunction.errDlg(_:), v6);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v5, v6);
  (*(void (**)(uint64_t, uint64_t))(v3 + 8))(v2, v4);
  sub_74A4((void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v8 + 104))(v25, enum case for TypeOfIntent.openMediaItem(_:), v26);
  uint64_t v9 = enum case for ActivityType.failed(_:);
  uint64_t v10 = sub_2944C0();
  uint64_t v11 = *(void *)(v10 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v11 + 104))(v27, v9, v10);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v11 + 56))(v27, 0, 1, v10);
  uint64_t v12 = enum case for SiriKitReliabilityCodes.renderingError(_:);
  uint64_t v13 = sub_294170();
  uint64_t v14 = *(void *)(v13 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v14 + 104))(v29, v12, v13);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v14 + 56))(v29, 0, 1, v13);
  id v15 = v1;
  sub_295C90();
  swift_release();
  swift_bridgeObjectRelease();
  sub_36DD0(v1, 0);
  swift_errorRelease();
  sub_36DD0(v1, 0);
  sub_36DD0(v1, 0);
  uint64_t v17 = v0[27];
  uint64_t v16 = v0[28];
  uint64_t v18 = v0[26];
  uint64_t v20 = v0[17];
  uint64_t v19 = v0[18];
  uint64_t v22 = v0[15];
  uint64_t v21 = v0[16];
  sub_23A44(v0[14], &qword_30D5B8);
  sub_23A44(v22, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v20 + 8))(v19, v21);
  sub_7184((uint64_t)(v0 + 7));
  (*(void (**)(uint64_t, uint64_t))(v17 + 8))(v16, v18);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v23 = (uint64_t (*)(void))v0[1];
  return v23();
}

uint64_t sub_154070(uint64_t a1)
{
  v2[12] = a1;
  v2[13] = v1;
  sub_71D4(&qword_30D5B8);
  v2[14] = swift_task_alloc();
  sub_71D4(&qword_30D5C0);
  v2[15] = swift_task_alloc();
  uint64_t v3 = sub_296130();
  v2[16] = v3;
  v2[17] = *(void *)(v3 - 8);
  v2[18] = swift_task_alloc();
  uint64_t v4 = sub_297270();
  v2[19] = v4;
  v2[20] = *(void *)(v4 - 8);
  v2[21] = swift_task_alloc();
  uint64_t v5 = sub_297280();
  v2[22] = v5;
  v2[23] = *(void *)(v5 - 8);
  v2[24] = swift_task_alloc();
  uint64_t v6 = sub_297210();
  v2[25] = v6;
  v2[26] = *(void *)(v6 - 8);
  v2[27] = swift_task_alloc();
  sub_294420();
  v2[28] = swift_task_alloc();
  uint64_t v7 = sub_294ED0();
  v2[29] = v7;
  v2[30] = *(void *)(v7 - 8);
  v2[31] = swift_task_alloc();
  return _swift_task_switch(sub_15432C, 0, 0);
}

uint64_t sub_15432C()
{
  uint64_t v1 = sub_295C60();
  if (!v1)
  {
    sub_295A10();
    uint64_t v1 = sub_295A00();
  }
  *(void *)(v0 + 256) = v1;
  uint64_t v2 = *(void *)(v0 + 96);
  uint64_t v3 = *(void *)(*(void *)(v0 + 104)
                 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_openMediaItemCatDialogService);
  uint64_t v4 = *(void *)(v3 + 40);
  uint64_t v5 = *(void *)(v3 + 48);
  *(_OWORD *)(v0 + 32) = 0u;
  *(void *)(v0 + 48) = 0;
  *(_OWORD *)(v0 + 16) = 0u;
  unint64_t v6 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  *(void *)(v0 + 264) = v6;
  uint64_t v7 = (void *)swift_task_alloc();
  *(void *)(v0 + 272) = v7;
  *uint64_t v7 = v0;
  v7[1] = sub_154454;
  return CatService.executeDialogResult(_:_:for:parameters:bundle:intentDialogContext:)(v4, v5, 0x746C757365526F4ELL, 0xE900000000000073, v2, v6, 0, v0 + 16);
}

uint64_t sub_154454(uint64_t a1, char a2)
{
  uint64_t v3 = *v2;
  uint64_t v4 = *v2 + 16;
  *(void *)(v3 + 280) = a1;
  *(unsigned char *)(v3 + 328) = a2;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  sub_23A44(v4, &qword_30D018);
  return _swift_task_switch(sub_15458C, 0, 0);
}

uint64_t sub_15458C()
{
  if (*(unsigned char *)(v0 + 328))
  {
    uint64_t v32 = *(void **)(v0 + 280);
    uint64_t v10 = *(void *)(v0 + 208);
    uint64_t v9 = *(void *)(v0 + 216);
    uint64_t v12 = *(void *)(v0 + 192);
    uint64_t v11 = *(void *)(v0 + 200);
    uint64_t v13 = *(void *)(v0 + 176);
    uint64_t v14 = *(void *)(v0 + 184);
    uint64_t v16 = *(void *)(v0 + 160);
    uint64_t v15 = *(void *)(v0 + 168);
    uint64_t v17 = *(void *)(v0 + 152);
    uint64_t v25 = *(void *)(v0 + 136);
    uint64_t v26 = *(void *)(v0 + 144);
    uint64_t v29 = *(void *)(v0 + 120);
    uint64_t v30 = *(void *)(v0 + 112);
    uint64_t v27 = *(void *)(v0 + 128);
    uint64_t v28 = *(void *)(v0 + 104);
    (*(void (**)(uint64_t, void, uint64_t))(v10 + 104))(v9, enum case for AdditionalMetricsDescription.ModuleName.omif (_:), v11);
    (*(void (**)(uint64_t, void, uint64_t))(v14 + 104))(v12, enum case for AdditionalMetricsDescription.SourceFunction.noResultsDlg(_:), v13);
    (*(void (**)(uint64_t, void, uint64_t))(v16 + 104))(v15, enum case for AdditionalMetricsDescription.StatusReason.noSearchResults(_:), v17);
    sub_297220();
    (*(void (**)(uint64_t, uint64_t))(v16 + 8))(v15, v17);
    (*(void (**)(uint64_t, uint64_t))(v14 + 8))(v12, v13);
    (*(void (**)(uint64_t, uint64_t))(v10 + 8))(v9, v11);
    sub_74A4((void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v28 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
    (*(void (**)(uint64_t, void, uint64_t))(v25 + 104))(v26, enum case for TypeOfIntent.openMediaItem(_:), v27);
    uint64_t v18 = enum case for ActivityType.dialogFailed(_:);
    uint64_t v19 = sub_2944C0();
    uint64_t v20 = *(void *)(v19 - 8);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v20 + 104))(v29, v18, v19);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v20 + 56))(v29, 0, 1, v19);
    uint64_t v21 = enum case for SiriKitReliabilityCodes.renderingError(_:);
    uint64_t v22 = sub_294170();
    uint64_t v23 = *(void *)(v22 - 8);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v23 + 104))(v30, v21, v22);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v23 + 56))(v30, 0, 1, v22);
    sub_295C90();
    swift_release();
    swift_bridgeObjectRelease();
    sub_36DD0(v32, 1);
    sub_23A44(v30, &qword_30D5B8);
    sub_23A44(v29, &qword_30D5C0);
    (*(void (**)(uint64_t, uint64_t))(v25 + 8))(v26, v27);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v24 = *(uint64_t (**)(void))(v0 + 8);
    return v24();
  }
  else
  {
    uint64_t v1 = *(void *)(v0 + 256);
    id v2 = *(id *)(v0 + 280);
    sub_2943C0();
    uint64_t v3 = swift_task_alloc();
    *(void *)(v3 + 16) = v1;
    *(void *)(v3 + 24) = v2;
    sub_294E00();
    swift_task_dealloc();
    sub_294940();
    swift_allocObject();
    *(void *)(v0 + 288) = sub_294930();
    sub_71D4(&qword_3107B0);
    uint64_t v4 = swift_allocObject();
    *(_OWORD *)(v4 + 16) = xmmword_29A8D0;
    *(void *)(v4 + 32) = v2;
    uint64_t v33 = v4;
    sub_298B70();
    *(void *)(v0 + 296) = v33;
    uint64_t v31 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:)
                                                            + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:));
    id v5 = v2;
    uint64_t v6 = (void *)swift_task_alloc();
    *(void *)(v0 + 304) = v6;
    void *v6 = v0;
    v6[1] = sub_154AC8;
    uint64_t v7 = *(void *)(v0 + 248);
    return v31(v0 + 56, v33, v7);
  }
}

uint64_t sub_154AC8()
{
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_release();
  return _swift_task_switch(sub_154BFC, 0, 0);
}

uint64_t sub_154BFC()
{
  uint64_t v1 = (void *)(*(void *)(v0 + 104) + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_outputPublisher);
  uint64_t v2 = v1[3];
  uint64_t v3 = v1[4];
  sub_74A4(v1, v2);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v0 + 312) = v4;
  void *v4 = v0;
  v4[1] = sub_154CC8;
  return dispatch thunk of OutputPublisherAsync.publish(output:)(v0 + 56, v2, v3);
}

uint64_t sub_154CC8()
{
  *(void *)(*(void *)v1 + 320) = v0;
  swift_task_dealloc();
  if (v0) {
    uint64_t v2 = sub_1551E0;
  }
  else {
    uint64_t v2 = sub_154DDC;
  }
  return _swift_task_switch(v2, 0, 0);
}

uint64_t sub_154DDC()
{
  uint64_t v32 = (void *)v0[35];
  uint64_t v2 = v0[26];
  uint64_t v1 = v0[27];
  uint64_t v3 = v0[24];
  uint64_t v5 = v0[22];
  uint64_t v4 = v0[23];
  uint64_t v6 = v0[20];
  uint64_t v7 = v0[21];
  uint64_t v8 = v0[19];
  uint64_t v9 = v0[17];
  uint64_t v28 = v0[18];
  uint64_t v29 = v0[16];
  uint64_t v30 = v0[15];
  uint64_t v31 = v0[14];
  uint64_t v26 = v0[25];
  uint64_t v27 = v0[13];
  (*(void (**)(uint64_t, void))(v2 + 104))(v1, enum case for AdditionalMetricsDescription.ModuleName.omif (_:));
  (*(void (**)(uint64_t, void, uint64_t))(v4 + 104))(v3, enum case for AdditionalMetricsDescription.SourceFunction.exec(_:), v5);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v7, enum case for AdditionalMetricsDescription.StatusReason.noSearchResults(_:), v8);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v7, v8);
  (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v3, v5);
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v26);
  sub_74A4((void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v9 + 104))(v28, enum case for TypeOfIntent.openMediaItem(_:), v29);
  uint64_t v10 = enum case for ActivityType.failed(_:);
  uint64_t v11 = sub_2944C0();
  uint64_t v12 = *(void *)(v11 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 104))(v30, v10, v11);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v12 + 56))(v30, 0, 1, v11);
  uint64_t v13 = enum case for SiriKitReliabilityCodes.success(_:);
  uint64_t v14 = sub_294170();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 104))(v31, v13, v14);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v15 + 56))(v31, 0, 1, v14);
  id v16 = v32;
  sub_295C90();
  swift_release();
  swift_bridgeObjectRelease();
  sub_36DD0(v32, 0);
  sub_36DD0(v32, 0);

  uint64_t v18 = v0[30];
  uint64_t v17 = v0[31];
  uint64_t v19 = v0[29];
  uint64_t v21 = v0[17];
  uint64_t v20 = v0[18];
  uint64_t v23 = v0[15];
  uint64_t v22 = v0[16];
  sub_23A44(v0[14], &qword_30D5B8);
  sub_23A44(v23, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v21 + 8))(v20, v22);
  sub_7184((uint64_t)(v0 + 7));
  (*(void (**)(uint64_t, uint64_t))(v18 + 8))(v17, v19);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v24 = (uint64_t (*)(void))v0[1];
  return v24();
}

uint64_t sub_1551E0()
{
  uint64_t v32 = (void *)v0[35];
  uint64_t v2 = v0[26];
  uint64_t v1 = v0[27];
  uint64_t v3 = v0[24];
  uint64_t v5 = v0[22];
  uint64_t v4 = v0[23];
  uint64_t v6 = v0[20];
  uint64_t v7 = v0[21];
  uint64_t v8 = v0[19];
  uint64_t v9 = v0[17];
  uint64_t v28 = v0[18];
  uint64_t v29 = v0[16];
  uint64_t v30 = v0[15];
  uint64_t v31 = v0[14];
  uint64_t v26 = v0[25];
  uint64_t v27 = v0[13];
  (*(void (**)(uint64_t, void))(v2 + 104))(v1, enum case for AdditionalMetricsDescription.ModuleName.omif (_:));
  (*(void (**)(uint64_t, void, uint64_t))(v4 + 104))(v3, enum case for AdditionalMetricsDescription.SourceFunction.noResultsDlg(_:), v5);
  (*(void (**)(uint64_t, void, uint64_t))(v6 + 104))(v7, enum case for AdditionalMetricsDescription.StatusReason.noSearchResults(_:), v8);
  sub_297220();
  (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v7, v8);
  (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v3, v5);
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v26);
  sub_74A4((void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider), *(void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider + 24));
  (*(void (**)(uint64_t, void, uint64_t))(v9 + 104))(v28, enum case for TypeOfIntent.openMediaItem(_:), v29);
  uint64_t v10 = enum case for ActivityType.failed(_:);
  uint64_t v11 = sub_2944C0();
  uint64_t v12 = *(void *)(v11 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 104))(v30, v10, v11);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v12 + 56))(v30, 0, 1, v11);
  uint64_t v13 = enum case for SiriKitReliabilityCodes.renderingError(_:);
  uint64_t v14 = sub_294170();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 104))(v31, v13, v14);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v15 + 56))(v31, 0, 1, v14);
  id v16 = v32;
  sub_295C90();
  swift_release();
  swift_bridgeObjectRelease();
  sub_36DD0(v32, 0);
  swift_errorRelease();
  sub_36DD0(v32, 0);
  sub_36DD0(v32, 0);
  uint64_t v18 = v0[30];
  uint64_t v17 = v0[31];
  uint64_t v19 = v0[29];
  uint64_t v21 = v0[17];
  uint64_t v20 = v0[18];
  uint64_t v23 = v0[15];
  uint64_t v22 = v0[16];
  sub_23A44(v0[14], &qword_30D5B8);
  sub_23A44(v23, &qword_30D5C0);
  (*(void (**)(uint64_t, uint64_t))(v21 + 8))(v20, v22);
  sub_7184((uint64_t)(v0 + 7));
  (*(void (**)(uint64_t, uint64_t))(v18 + 8))(v17, v19);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v24 = (uint64_t (*)(void))v0[1];
  return v24();
}

uint64_t sub_1555F8(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v4 = sub_295AF0();
  __chkstk_darwin(v4 - 8);
  uint64_t v5 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v11 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_2948C0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 56))(v7, 1, 1, v8);
  sub_294E50();
  sub_2959C0();
  sub_297B00();
  swift_release();
  sub_294E10();
  id v9 = [a3 catId];
  sub_2989C0();

  return sub_294E30();
}

uint64_t sub_155770()
{
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_input, &qword_30EBB8);

  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_appIntentInvoker);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_outputPublisher);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin17OpenMediaItemFlow_siriKitTaskLoggingProvider);

  return swift_deallocClassInstance();
}

uint64_t sub_15582C()
{
  return type metadata accessor for OpenMediaItemFlow();
}

uint64_t type metadata accessor for OpenMediaItemFlow()
{
  uint64_t result = qword_312DF0;
  if (!qword_312DF0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_155880()
{
  sub_BE1DC();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_155934(char *a1)
{
  return sub_14CCF4(a1) & 1;
}

uint64_t sub_15595C()
{
  return sub_294010();
}

uint64_t sub_1559BC(uint64_t a1)
{
  uint64_t v3 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v3;
  void *v3 = v1;
  v3[1] = sub_14480;
  return sub_14DA30(a1);
}

uint64_t sub_155A58(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for OpenMediaItemFlow();

  return Flow<>.exitValue.getter(v3, a2);
}

uint64_t sub_155A94(uint64_t a1)
{
  return sub_1555F8(a1, *(void *)(v1 + 16), *(void **)(v1 + 24));
}

unint64_t sub_155AB0()
{
  unint64_t result = qword_30DDF8;
  if (!qword_30DDF8)
  {
    sub_297C00();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_30DDF8);
  }
  return result;
}

BOOL sub_155B10()
{
  uint64_t v0 = sub_295BE0();
  uint64_t v50 = *(void *)(v0 - 8);
  uint64_t v1 = __chkstk_darwin(v0);
  uint64_t v3 = (void (**)(char *, uint64_t))((char *)&v46 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v1);
  uint64_t v5 = (char *)&v46 - v4;
  uint64_t v6 = sub_295AF0();
  uint64_t v53 = *(void (***)(char *, uint64_t))(v6 - 8);
  uint64_t v7 = __chkstk_darwin(v6);
  BOOL v52 = (char *)&v46 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v46 - v9;
  uint64_t v11 = sub_298800();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v46 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v46 - v16;
  if (sub_295C60())
  {
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v18 = sub_6E60(v11, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v17, v18, v11);
    swift_retain_n();
    uint64_t v19 = v12;
    uint64_t v20 = sub_2987E0();
    os_log_type_t v21 = sub_298DA0();
    int v22 = v21;
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v49 = v11;
      uint64_t v23 = swift_slowAlloc();
      LODWORD(v50) = v22;
      uint64_t v24 = (uint8_t *)v23;
      uint64_t v51 = swift_slowAlloc();
      v55[0] = v51;
      *(_DWORD *)uint64_t v24 = 136315138;
      uint64_t v47 = v24 + 4;
      uint64_t v48 = v24;
      sub_2959C0();
      sub_297B00();
      swift_release();
      sub_1563F4(&qword_313038, (void (*)(uint64_t))&type metadata accessor for ResponseMode);
      uint64_t v25 = sub_2995A0();
      unint64_t v27 = v26;
      uint64_t v28 = v53;
      v53[1](v10, v6);
      uint64_t v54 = (uint8_t *)sub_6E98(v25, v27, v55);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v20, (os_log_type_t)v50, "AceServiceExecutorProviderWrapper#willSiriSpeak using SiriEnvironment, responseMode is %s", v48, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v19 + 8))(v17, v49);
    }
    else
    {

      swift_release_n();
      (*(void (**)(char *, uint64_t))(v19 + 8))(v17, v11);
      uint64_t v28 = v53;
    }
    sub_2959C0();
    sub_297B00();
    swift_release();
    uint64_t v40 = v52;
    sub_295AA0();
    sub_1563F4((unint64_t *)&qword_313030, (void (*)(uint64_t))&type metadata accessor for ResponseMode);
    char v41 = sub_2989A0();
    swift_release();
    uint64_t v42 = v28[1];
    v42(v40, v6);
    v42(v10, v6);
  }
  else
  {
    BOOL v52 = (char *)v0;
    uint64_t v53 = v3;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v29 = sub_6E60(v11, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v15, v29, v11);
    swift_retain_n();
    uint64_t v30 = v12;
    uint64_t v31 = sub_2987E0();
    os_log_type_t v32 = sub_298DA0();
    uint64_t v33 = v5;
    if (os_log_type_enabled(v31, v32))
    {
      uint64_t v34 = (uint8_t *)swift_slowAlloc();
      uint64_t v48 = (uint8_t *)swift_slowAlloc();
      uint64_t v54 = v48;
      uint64_t v49 = v11;
      *(_DWORD *)uint64_t v34 = 136315138;
      uint64_t v46 = v34 + 4;
      uint64_t v47 = v34;
      sub_281B0((uint64_t)v55);
      sub_74A4(v55, v56);
      sub_2942F0();
      unint64_t v35 = v52;
      uint64_t v36 = sub_2989E0();
      unint64_t v38 = v37;
      sub_7184((uint64_t)v55);
      v55[0] = sub_6E98(v36, v38, (uint64_t *)&v54);
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v31, v32, "AceServiceExecutorProviderWrapper#willSiriSpeak using deviceState, interactionType is %s", v47, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v30 + 8))(v15, v49);
    }
    else
    {

      swift_release_n();
      (*(void (**)(char *, uint64_t))(v12 + 8))(v15, v11);
      unint64_t v35 = v52;
    }
    uint64_t v39 = v53;
    sub_281B0((uint64_t)v55);
    sub_74A4(v55, v56);
    sub_2942F0();
    uint64_t v43 = v50;
    (*(void (**)(void (**)(char *, uint64_t), void, char *))(v50 + 104))(v39, enum case for InteractionType.displayDriven(_:), v35);
    sub_1563F4(&qword_313028, (void (*)(uint64_t))&type metadata accessor for InteractionType);
    char v41 = sub_2989A0();
    uint64_t v44 = *(void (**)(char *, char *))(v43 + 8);
    v44((char *)v39, v35);
    v44(v33, v35);
    sub_7184((uint64_t)v55);
  }
  return (v41 & 1) == 0;
}

uint64_t sub_156348()
{
  swift_release();
  sub_23A44(v0 + 32, &qword_313040);
  swift_release();
  sub_23A44(v0 + 88, &qword_30D020);

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for AceServiceExecutorProviderWrapper()
{
  return self;
}

BOOL sub_1563CC()
{
  return sub_155B10();
}

uint64_t sub_1563F4(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t type metadata accessor for DetermineSnippetProvider()
{
  return self;
}

uint64_t sub_156460()
{
  uint64_t v0 = sub_298800();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  int v13 = sub_295C40();
  if (sub_295C60())
  {
    sub_2959C0();
    swift_release();
    int v4 = sub_297AF0();
    swift_release();
  }
  else
  {
    int v4 = 0;
  }
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v5 = sub_6E60(v0, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v5, v0);
  uint64_t v6 = sub_2987E0();
  os_log_type_t v7 = sub_298DA0();
  if (os_log_type_enabled(v6, v7))
  {
    uint64_t v8 = swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    *(_DWORD *)uint64_t v8 = 67109634;
    LODWORD(v14) = v13 & 1;
    sub_2992C0();
    *(_WORD *)(v8 + 8) = 1024;
    LODWORD(v14) = v4 & 1;
    sub_2992C0();
    *(_WORD *)(v8 + 14) = 2082;
    uint64_t v9 = sub_2973F0();
    uint64_t v14 = sub_6E98(v9, v10, &v15);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v6, v7, "DetermineSnippetProvider#shouldShowMediaPlayerSnippet isSystemApertureEnabled = %{BOOL}d, isInAmbient = %{BOOL}d %{public}s", (uint8_t *)v8, 0x18u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return (v13 | v4) & 1;
}

void sub_156720(void *a1, uint64_t a2, uint64_t a3, void *a4, void *a5, uint64_t a6, uint64_t a7)
{
  uint64_t v142 = a7;
  uint64_t v150 = a6;
  uint64_t v148 = a3;
  uint64_t v143 = sub_297970();
  uint64_t v147 = *(void *)(v143 - 8);
  __chkstk_darwin(v143);
  uint64_t v135 = (char *)&v121 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_313100);
  __chkstk_darwin(v12 - 8);
  uint64_t v125 = (char *)&v121 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_313108);
  __chkstk_darwin(v14 - 8);
  uint64_t v124 = (char *)&v121 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_2979D0();
  uint64_t v133 = *(void *)(v16 - 8);
  uint64_t v134 = v16;
  __chkstk_darwin(v16);
  BOOL v131 = (char *)&v121 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v132 = sub_297A90();
  uint64_t v130 = *(void *)(v132 - 8);
  __chkstk_darwin(v132);
  uint64_t v129 = (char *)&v121 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4(&qword_30D188);
  __chkstk_darwin(v19 - 8);
  uint64_t v141 = (char *)&v121 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_298800();
  uint64_t v22 = *(void *)(v21 - 8);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v25 = (char *)&v121 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v26 = __chkstk_darwin(v23);
  uint64_t v126 = (char *)&v121 - v27;
  uint64_t v28 = __chkstk_darwin(v26);
  uint64_t v128 = (char *)&v121 - v29;
  uint64_t v30 = __chkstk_darwin(v28);
  unint64_t v138 = (char *)&v121 - v31;
  uint64_t v32 = __chkstk_darwin(v30);
  uint64_t v140 = (char *)&v121 - v33;
  __chkstk_darwin(v32);
  unint64_t v35 = (char *)&v121 - v34;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v36 = sub_6E60(v21, (uint64_t)qword_31FC08);
  unint64_t v37 = *(void (**)(char *, uint64_t, uint64_t))(v22 + 16);
  uint64_t v144 = v36;
  uint64_t v145 = v37;
  uint64_t v146 = v22 + 16;
  ((void (*)(char *))v37)(v35);
  id v38 = a1;
  uint64_t v39 = sub_2987E0();
  os_log_type_t v40 = sub_298DA0();
  BOOL v41 = os_log_type_enabled(v39, v40);
  uint64_t v149 = v22;
  uint64_t v127 = v25;
  if (v41)
  {
    uint64_t v42 = swift_slowAlloc();
    uint64_t v137 = a2;
    uint64_t v43 = v42;
    uint64_t v44 = swift_slowAlloc();
    BOOL v123 = a4;
    v151[0] = v44;
    *(_DWORD *)uint64_t v43 = 136315394;
    uint64_t v136 = a5;
    uint64_t ObjectType = swift_getObjectType();
    sub_71D4(&qword_310908);
    uint64_t v45 = sub_2989E0();
    uint64_t v139 = v21;
    uint64_t ObjectType = sub_6E98(v45, v46, v151);
    sub_2992C0();

    swift_bridgeObjectRelease();
    *(_WORD *)(v43 + 12) = 2082;
    uint64_t v47 = sub_2973F0();
    uint64_t ObjectType = sub_6E98(v47, v48, v151);
    uint64_t v49 = v149;
    a5 = v136;
    sub_2992C0();
    uint64_t v50 = v148;
    uint64_t v21 = v139;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v39, v40, "DetermineSnippetProvider#handleIntent called for Intent: %s %{public}s", (uint8_t *)v43, 0x16u);
    swift_arrayDestroy();
    a4 = v123;
    swift_slowDealloc();
    a2 = v137;
    swift_slowDealloc();

    uint64_t v51 = *(void (**)(char *, uint64_t))(v49 + 8);
    v51(v35, v21);
    if ((sub_295DF0() & 1) == 0) {
      goto LABEL_5;
    }
LABEL_16:
    unint64_t v65 = v140;
    v145(v140, v144, v21);
    unint64_t v66 = sub_2987E0();
    os_log_type_t v67 = sub_298D90();
    if (os_log_type_enabled(v66, v67))
    {
      uint64_t v137 = a2;
      uint64_t v68 = (uint8_t *)swift_slowAlloc();
      v151[0] = swift_slowAlloc();
      uint64_t v139 = v21;
      *(_DWORD *)uint64_t v68 = 136446210;
      uint64_t v69 = sub_2973F0();
      os_log_type_t v122 = v51;
      uint64_t ObjectType = sub_6E98(v69, v70, v151);
      a2 = v137;
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v66, v67, "DetermineSnippetProvider#handleIntent won't return an AceView for CarPlay %{public}s", v68, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v122(v140, v139);
    }
    else
    {

      v51(v65, v21);
    }
    uint64_t v71 = v150;
    uint64_t v72 = v141;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v147 + 56))(v141, 1, 1, v143);
    uint64_t v73 = (uint64_t)v72;
    uint64_t v74 = a2;
    uint64_t v75 = v50;
    uint64_t v76 = a4;
    os_log_type_t v77 = a5;
    uint64_t v78 = v71;
LABEL_37:
    sub_147794(v73, v74, v75, v76, v77, v78, v142);
    uint64_t v64 = (uint64_t)v72;
LABEL_38:
    sub_157888(v64);
    return;
  }

  uint64_t v51 = *(void (**)(char *, uint64_t))(v22 + 8);
  v51(v35, v21);
  uint64_t v50 = v148;
  if (sub_295DF0()) {
    goto LABEL_16;
  }
LABEL_5:
  id v52 = [v38 nowPlayingIntentInfo];
  uint64_t v53 = v150;
  if (!v52)
  {
LABEL_34:
    v145(v138, v144, v21);
    unint64_t v118 = sub_2987E0();
    os_log_type_t v119 = sub_298DA0();
    if (os_log_type_enabled(v118, v119))
    {
      uint64_t v120 = (uint8_t *)swift_slowAlloc();
      uint64_t v136 = a5;
      *(_WORD *)uint64_t v120 = 0;
      _os_log_impl(&dword_0, v118, v119, "DetermineViewProvider#makeViewsForHandleIntent no view as no nowPlayingIntentInfo could be found", v120, 2u);
      a5 = v136;
      swift_slowDealloc();
    }

    v51(v138, v21);
    uint64_t v72 = v141;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v147 + 56))(v141, 1, 1, v143);
    uint64_t v73 = (uint64_t)v72;
    uint64_t v74 = a2;
    uint64_t v75 = v50;
    uint64_t v76 = a4;
    os_log_type_t v77 = a5;
    uint64_t v78 = v53;
    goto LABEL_37;
  }
  uint64_t v54 = v52;
  type metadata accessor for NowPlayingIntentInfo();
  unint64_t v55 = sub_298B50();

  if (!(v55 >> 62))
  {
    if (*(void *)((char *)&dword_10 + (v55 & 0xFFFFFFFFFFFFFF8))) {
      goto LABEL_8;
    }
    goto LABEL_33;
  }
  swift_bridgeObjectRetain();
  uint64_t v117 = sub_2994C0();
  swift_bridgeObjectRelease();
  if (!v117)
  {
LABEL_33:
    swift_bridgeObjectRelease();
    goto LABEL_34;
  }
LABEL_8:
  if ((v55 & 0xC000000000000001) != 0)
  {
    id v56 = (id)sub_2993E0();
  }
  else
  {
    if (!*(void *)((char *)&dword_10 + (v55 & 0xFFFFFFFFFFFFFF8)))
    {
      __break(1u);
      return;
    }
    id v56 = *(id *)(v55 + 32);
  }
  os_log_type_t v57 = v56;
  swift_bridgeObjectRelease();
  char v58 = sub_156460();
  os_log_type_t v122 = v51;
  if (v58)
  {
    uint64_t v59 = v21;
    v145(v128, v144, v21);
    uint64_t v60 = sub_2987E0();
    os_log_type_t v61 = sub_298DA0();
    if (os_log_type_enabled(v60, v61))
    {
      uint64_t v62 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v62 = 0;
      _os_log_impl(&dword_0, v60, v61, "DetermineViewProvider#makeViewsForHandleIntent isSystemApertureEnabled and isInAmbient are fall returning nil for snippet", v62, 2u);
      swift_slowDealloc();
    }

    v122(v128, v59);
    uint64_t v63 = (uint64_t)v141;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v147 + 56))(v141, 1, 1, v143);
    sub_147794(v63, a2, v50, a4, a5, v150, v142);

    uint64_t v64 = v63;
    goto LABEL_38;
  }
  uint64_t v136 = a5;
  uint64_t v79 = v126;
  v145(v126, v144, v21);
  uint64_t v80 = v57;
  uint64_t v81 = sub_2987E0();
  os_log_type_t v82 = sub_298DA0();
  BOOL v83 = os_log_type_enabled(v81, v82);
  uint64_t v139 = v21;
  uint64_t v140 = v80;
  if (v83)
  {
    uint64_t v137 = a2;
    BOOL v123 = a4;
    uint64_t v84 = swift_slowAlloc();
    uint64_t ObjectType = swift_slowAlloc();
    *(_DWORD *)uint64_t v84 = 136315394;
    id v85 = [v80 appBundleId];
    if (v85)
    {
      uint64_t v86 = v85;
      uint64_t v87 = sub_2989C0();
      uint64_t v89 = v88;
    }
    else
    {
      uint64_t v87 = 0;
      uint64_t v89 = 0;
    }
    v151[0] = v87;
    v151[1] = v89;
    sub_71D4((uint64_t *)&unk_313920);
    uint64_t v90 = sub_2989E0();
    v151[0] = sub_6E98(v90, v91, &ObjectType);
    sub_2992C0();
    uint64_t v80 = v140;

    swift_bridgeObjectRelease();
    *(_WORD *)(v84 + 12) = 2082;
    uint64_t v92 = sub_2973F0();
    v151[0] = sub_6E98(v92, v93, &ObjectType);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v81, v82, "DetermineSnippetProvider#handleIntent bundleId: %s %{public}s", (uint8_t *)v84, 0x16u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    v122(v126, v139);
    a4 = v123;
    a2 = v137;
  }
  else
  {

    v122(v79, v21);
  }
  id v94 = [v80 appBundleId];
  if (v94)
  {
    uint64_t v95 = v94;
    sub_2989C0();
  }
  uint64_t v96 = v129;
  sub_297A80();
  uint64_t v97 = v130;
  uint64_t v98 = v124;
  uint64_t v99 = v132;
  (*(void (**)(char *, char *, uint64_t))(v130 + 16))(v124, v96, v132);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v97 + 56))(v98, 0, 1, v99);
  uint64_t v100 = sub_2979B0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v100 - 8) + 56))(v125, 1, 1, v100);
  unint64_t v101 = v131;
  sub_2979C0();
  unint64_t v102 = v135;
  (*(void (**)(char *, char *, uint64_t))(v133 + 16))(v135, v101, v134);
  uint64_t v103 = v143;
  (*(void (**)(char *, void, uint64_t))(v147 + 104))(v102, enum case for SiriAudioSnippets.mediaPlayer(_:), v143);
  uint64_t v104 = v127;
  uint64_t v105 = v139;
  v145(v127, v144, v139);
  uint64_t v106 = sub_2987E0();
  os_log_type_t v107 = sub_298D90();
  if (os_log_type_enabled(v106, v107))
  {
    uint64_t v108 = swift_slowAlloc();
    v151[0] = swift_slowAlloc();
    *(_DWORD *)uint64_t v108 = 136315394;
    uint64_t ObjectType = v103;
    sub_71D4(&qword_313110);
    uint64_t v109 = sub_2989E0();
    uint64_t ObjectType = sub_6E98(v109, v110, v151);
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v108 + 12) = 2082;
    uint64_t v111 = sub_2973F0();
    uint64_t ObjectType = sub_6E98(v111, v112, v151);
    uint64_t v103 = v143;
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v106, v107, "DetermineSnippetProvider#handleIntent Returning snippet for iOS: %s %{public}s", (uint8_t *)v108, 0x16u);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v113 = v127;
  }
  else
  {

    uint64_t v113 = v104;
  }
  v122(v113, v105);
  uint64_t v114 = v147;
  uint64_t v115 = (uint64_t)v141;
  uint64_t v116 = v135;
  (*(void (**)(char *, char *, uint64_t))(v147 + 16))(v141, v135, v103);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v114 + 56))(v115, 0, 1, v103);
  sub_147794(v115, a2, v148, a4, v136, v150, v142);

  sub_157888(v115);
  (*(void (**)(char *, uint64_t))(v114 + 8))(v116, v103);
  (*(void (**)(char *, uint64_t))(v133 + 8))(v131, v134);
  (*(void (**)(char *, uint64_t))(v130 + 8))(v129, v132);
}

uint64_t sub_157888(uint64_t a1)
{
  uint64_t v2 = sub_71D4(&qword_30D188);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_1578E8(uint64_t a1, void **a2, void **a3)
{
  uint64_t v63 = a3;
  unint64_t v66 = a2;
  uint64_t v3 = sub_71D4(&qword_313118);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = (char *)&v61 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_298590();
  uint64_t v65 = *(void *)(v6 - 8);
  uint64_t v7 = __chkstk_darwin(v6);
  uint64_t v9 = (uint64_t *)((char *)&v61 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v7);
  uint64_t v64 = (char *)&v61 - v10;
  uint64_t v11 = sub_71D4(&qword_313120);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v61 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_2985A0();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v61 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_298720();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v15 + 48))(v13, 1, v14) == 1) {
    return sub_23A44((uint64_t)v13, &qword_313120);
  }
  uint64_t v62 = v15;
  (*(void (**)(char *, char *, uint64_t))(v15 + 32))(v17, v13, v14);
  uint64_t v19 = sub_298560();
  if (v20)
  {
    uint64_t v21 = v19;
    uint64_t v22 = v20;
    uint64_t v23 = v66;
    uint64_t v24 = *v66;
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *uint64_t v23 = v24;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      uint64_t v24 = sub_240EC(0, v24[2] + 1, 1, v24);
      *unint64_t v66 = v24;
    }
    unint64_t v27 = v24[2];
    unint64_t v26 = v24[3];
    if (v27 >= v26 >> 1)
    {
      uint64_t v24 = sub_240EC((void *)(v26 > 1), v27 + 1, 1, v24);
      *unint64_t v66 = v24;
    }
    void v24[2] = v27 + 1;
    uint64_t v28 = &v24[2 * v27];
    v28[4] = v21;
    _OWORD v28[5] = v22;
    return (*(uint64_t (**)(char *, uint64_t))(v62 + 8))(v17, v14);
  }
  uint64_t v29 = v17;
  sub_298580();
  uint64_t v30 = v65;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v65 + 48))(v5, 1, v6) == 1)
  {
    sub_23A44((uint64_t)v5, &qword_313118);
    uint64_t v32 = sub_298570();
    uint64_t v33 = v29;
    if (!v31)
    {
      uint64_t v47 = v62;
      return (*(uint64_t (**)(char *, uint64_t))(v47 + 8))(v33, v14);
    }
    uint64_t v34 = v31;
    os_log_type_t v61 = v29;
    swift_bridgeObjectRetain();
    uint64_t v35 = sub_298710();
    if (v36)
    {
      if (v32 == v35 && v34 == v36)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
LABEL_25:
        uint64_t v49 = v63;
        uint64_t v50 = *v63;
        char v51 = swift_isUniquelyReferenced_nonNull_native();
        *uint64_t v49 = v50;
        if ((v51 & 1) == 0)
        {
          uint64_t v50 = sub_240EC(0, v50[2] + 1, 1, v50);
          *uint64_t v63 = v50;
        }
        unint64_t v53 = v50[2];
        unint64_t v52 = v50[3];
        unint64_t v54 = v53 + 1;
        if (v53 < v52 >> 1) {
          goto LABEL_32;
        }
        unint64_t v55 = sub_240EC((void *)(v52 > 1), v53 + 1, 1, v50);
        uint64_t v50 = v55;
        id v56 = v63;
LABEL_35:
        void *v56 = v55;
LABEL_32:
        void v50[2] = v54;
        uint64_t v60 = &v50[2 * v53];
        v60[4] = v32;
        void v60[5] = v34;
        uint64_t v33 = v61;
        uint64_t v47 = v62;
        return (*(uint64_t (**)(char *, uint64_t))(v47 + 8))(v33, v14);
      }
      char v48 = sub_2995D0();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v48) {
        goto LABEL_25;
      }
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    os_log_type_t v57 = v66;
    uint64_t v50 = *v66;
    char v58 = swift_isUniquelyReferenced_nonNull_native();
    *os_log_type_t v57 = v50;
    if ((v58 & 1) == 0)
    {
      uint64_t v50 = sub_240EC(0, v50[2] + 1, 1, v50);
      *unint64_t v66 = v50;
    }
    unint64_t v53 = v50[2];
    unint64_t v59 = v50[3];
    unint64_t v54 = v53 + 1;
    if (v53 < v59 >> 1) {
      goto LABEL_32;
    }
    unint64_t v55 = sub_240EC((void *)(v59 > 1), v53 + 1, 1, v50);
    uint64_t v50 = v55;
    id v56 = v66;
    goto LABEL_35;
  }
  unint64_t v37 = v64;
  (*(void (**)(char *, char *, uint64_t))(v30 + 32))(v64, v5, v6);
  (*(void (**)(uint64_t *, char *, uint64_t))(v30 + 16))(v9, v37, v6);
  if ((*(unsigned int (**)(uint64_t *, uint64_t))(v30 + 88))(v9, v6) == enum case for FilteringPredicate.Location.named(_:))
  {
    os_log_type_t v61 = v29;
    (*(void (**)(uint64_t *, uint64_t))(v30 + 96))(v9, v6);
    uint64_t v39 = *v9;
    uint64_t v38 = v9[1];
    os_log_type_t v40 = v63;
    BOOL v41 = *v63;
    char v42 = swift_isUniquelyReferenced_nonNull_native();
    *os_log_type_t v40 = v41;
    if ((v42 & 1) == 0)
    {
      BOOL v41 = sub_240EC(0, v41[2] + 1, 1, v41);
      *uint64_t v63 = v41;
    }
    unint64_t v44 = v41[2];
    unint64_t v43 = v41[3];
    if (v44 >= v43 >> 1)
    {
      BOOL v41 = sub_240EC((void *)(v43 > 1), v44 + 1, 1, v41);
      *uint64_t v63 = v41;
    }
    void v41[2] = v44 + 1;
    uint64_t v45 = &v41[2 * v44];
    v45[4] = v39;
    void v45[5] = v38;
    (*(void (**)(char *, uint64_t))(v30 + 8))(v37, v6);
    return (*(uint64_t (**)(char *, uint64_t))(v62 + 8))(v61, v14);
  }
  else
  {
    unint64_t v46 = *(void (**)(char *, uint64_t))(v30 + 8);
    v46(v37, v6);
    (*(void (**)(char *, uint64_t))(v62 + 8))(v29, v14);
    return ((uint64_t (*)(uint64_t *, uint64_t))v46)(v9, v6);
  }
}

uint64_t destroy for WholeHouseAudioDestination()
{
  return swift_bridgeObjectRelease();
}

uint64_t _s23AudioFlowDelegatePlugin26WholeHouseAudioDestinationVwCP_0(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = v3;
  *(unsigned char *)(a1 + 16) = *(unsigned char *)(a2 + 16);
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t assignWithCopy for WholeHouseAudioDestination(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(unsigned char *)(a1 + 16) = *(unsigned char *)(a2 + 16);
  return a1;
}

__n128 initializeWithTake for WholeHouseAudioDestination(__n128 *a1, __n128 *a2)
{
  __n128 result = *a2;
  a1[1].n128_u8[0] = a2[1].n128_u8[0];
  *a1 = result;
  return result;
}

uint64_t assignWithTake for WholeHouseAudioDestination(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = v4;
  swift_bridgeObjectRelease();
  *(unsigned char *)(a1 + 16) = *(unsigned char *)(a2 + 16);
  return a1;
}

uint64_t getEnumTagSinglePayload for WholeHouseAudioDestination(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 17)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for WholeHouseAudioDestination(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(unsigned char *)(result + 16) = 0;
    *(void *)__n128 result = a2 ^ 0x80000000;
    *(void *)(result + 8) = 0;
    if (a3 < 0) {
      *(unsigned char *)(result + 17) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 17) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for WholeHouseAudioDestination()
{
  return &type metadata for WholeHouseAudioDestination;
}

unsigned char *storeEnumTagSinglePayload for WholeHouseAudioDestination.WholeHouseAudioDestinationType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *__n128 result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x1581E4);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *__n128 result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for WholeHouseAudioDestination.WholeHouseAudioDestinationType()
{
  return &type metadata for WholeHouseAudioDestination.WholeHouseAudioDestinationType;
}

unint64_t sub_158220()
{
  unint64_t result = qword_313128;
  if (!qword_313128)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_313128);
  }
  return result;
}

BOOL sub_158274(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return ((*a1 ^ *a2) & 1) == 0;
}

uint64_t sub_15828C@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v38 = a1;
  uint64_t v3 = sub_2981F0();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  char v42 = (char *)&v33 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_71D4(&qword_30EF58);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4(&qword_30F080);
  __chkstk_darwin(v9 - 8);
  uint64_t v36 = (uint64_t)&v33 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_298850();
  uint64_t v37 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v35 = (char *)&v33 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_2948C0();
  uint64_t v40 = *(void *)(v13 - 8);
  uint64_t v41 = v13;
  __chkstk_darwin(v13);
  uint64_t v39 = (char *)&v33 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v33 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_6E60(v15, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v19, v15);
  uint64_t v20 = sub_2987E0();
  os_log_type_t v21 = sub_298DA0();
  if (os_log_type_enabled(v20, v21))
  {
    uint64_t v22 = (uint8_t *)swift_slowAlloc();
    uint64_t v34 = v11;
    *(_WORD *)uint64_t v22 = 0;
    _os_log_impl(&dword_0, v20, v21, "AudioNLContextUpdateProvider#makeContextForSuccessfulShazamMatch clearing conversation state", v22, 2u);
    uint64_t v11 = v34;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
  uint64_t v23 = v39;
  sub_2948B0();
  uint64_t v24 = v36;
  ShazamKitMatch.toRREntity()(v36);
  uint64_t v25 = v37;
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v37 + 48))(v24, 1, v11) == 1)
  {
    sub_23A44(v24, &qword_30F080);
  }
  else
  {
    unint64_t v26 = v35;
    (*(void (**)(char *, uint64_t, uint64_t))(v25 + 32))(v35, v24, v11);
    sub_71D4(&qword_310BD8);
    unint64_t v27 = (*(unsigned __int8 *)(v25 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v25 + 80);
    uint64_t v28 = swift_allocObject();
    *(_OWORD *)(v28 + 16) = xmmword_29A440;
    (*(void (**)(unint64_t, char *, uint64_t))(v25 + 16))(v28 + v27, v26, v11);
    sub_2947C0();
    (*(void (**)(char *, uint64_t))(v25 + 8))(v26, v11);
  }
  (*(void (**)(char *, void, uint64_t))(v4 + 104))(v42, enum case for PommesContext.Source.pluginDefined(_:), v3);
  sub_298200();
  uint64_t v29 = sub_298210();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v29 - 8) + 56))(v8, 0, 1, v29);
  sub_2947E0();
  uint64_t v31 = v40;
  uint64_t v30 = v41;
  (*(void (**)(uint64_t, char *, uint64_t))(v40 + 32))(a2, v23, v41);
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(v31 + 56))(a2, 0, 1, v30);
}

uint64_t sub_158838(void (*a1)(void), uint64_t *a2)
{
  uint64_t v36 = a1;
  uint64_t v37 = a2;
  uint64_t v3 = sub_294780();
  uint64_t v33 = *(void *)(v3 - 8);
  uint64_t v34 = v3;
  __chkstk_darwin(v3);
  uint64_t v5 = (char *)&v33 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_71D4(&qword_313428);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = __chkstk_darwin(v9);
  uint64_t v13 = (char *)&v33 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v33 - v14;
  uint64_t v16 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v16);
  uint64_t v18 = (void **)((char *)&v33 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v35 = v2;
  uint64_t v19 = v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
  swift_beginAccess();
  sub_17598C(v19, (uint64_t)v18);
  switch(swift_getEnumCaseMultiPayload())
  {
    case 1u:
      sub_15BCC8(*v18, (uint64_t)v36, v37);
      uint64_t result = swift_release();
      break;
    case 2u:
      sub_74A4((void *)(v35 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager), *(void *)(v35 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager + 24));
      if ((sub_296E60() & 1) == 0)
      {
        os_log_type_t v21 = v36;
        uint64_t v22 = v37;
        goto LABEL_18;
      }
      uint64_t result = sub_158D98((uint64_t)v36, (void (*)(void, void, void, void))v37);
      break;
    case 3u:
      os_log_type_t v21 = v36;
      uint64_t v22 = v37;
LABEL_18:
      uint64_t result = sub_15B278((uint64_t)v21, (uint64_t)v22);
      break;
    case 4u:
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v23 = sub_6E60(v9, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v15, v23, v9);
      uint64_t v24 = sub_2987E0();
      os_log_type_t v25 = sub_298DC0();
      if (os_log_type_enabled(v24, v25))
      {
        unint64_t v26 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)unint64_t v26 = 0;
        _os_log_impl(&dword_0, v24, v25, "AcousticIDFlow#executeStartMatch Reached Logic", v26, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v10 + 8))(v15, v9);
      uint64_t result = sub_15C0D0((uint64_t)v36, (uint64_t)v37);
      break;
    case 5u:
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v27 = sub_6E60(v9, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v13, v27, v9);
      uint64_t v28 = sub_2987E0();
      os_log_type_t v29 = sub_298DC0();
      if (os_log_type_enabled(v28, v29))
      {
        uint64_t v30 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v30 = 0;
        _os_log_impl(&dword_0, v28, v29, "AcousticIDFlow#executeCompleted Reached Logic", v30, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v10 + 8))(v13, v9);
      uint64_t v31 = *(void *)(v35 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v32 = *(void *)(v35 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v35 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v31);
      (*(void (**)(uint64_t, uint64_t))(v32 + 24))(v31, v32);
      sub_294760();
      v36(v5);
      uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v33 + 8))(v5, v34);
      break;
    default:
      sub_60BBC((uint64_t)v18, (uint64_t)v8, &qword_313428);
      sub_15B994((uint64_t)v8, (uint64_t)v36, (uint64_t)v37);
      uint64_t result = sub_23A44((uint64_t)v8, &qword_313428);
      break;
  }
  return result;
}

uint64_t sub_158D98(uint64_t a1, void (*a2)(void, void, void, void))
{
  uint64_t v36 = a2;
  uint64_t v35 = a1;
  uint64_t v2 = sub_2987D0();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = *(void *)(v3 + 64);
  uint64_t v5 = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v33 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v38 = (char *)&v33 - v7;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v33 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "AcousticIDFlow#triggerSmartStackMatch Reached Logic", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v16 = (id)qword_31FCE0;
  uint64_t v17 = v38;
  sub_2987B0();
  uint64_t v18 = *(void (**)(char *, char *, uint64_t))(v3 + 16);
  uint64_t v33 = v2;
  v18(v6, v17, v2);
  uint64_t v19 = *(unsigned __int8 *)(v3 + 80);
  uint64_t v34 = v3;
  uint64_t v20 = (v19 + 33) & ~v19;
  unint64_t v21 = (v4 + v20 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v22 = swift_allocObject();
  *(void *)(v22 + 16) = "shazamKitPerformMatch";
  *(void *)(v22 + 24) = 21;
  *(unsigned char *)(v22 + 32) = 2;
  (*(void (**)(uint64_t, char *, uint64_t))(v3 + 32))(v22 + v20, v6, v2);
  uint64_t v23 = (void *)(v22 + v21);
  uint64_t v24 = v36;
  *uint64_t v23 = v35;
  v23[1] = v24;
  swift_retain();
  sub_299100();
  sub_298790();
  uint64_t v25 = swift_allocObject();
  *(void *)(v25 + 16) = sub_48824;
  *(void *)(v25 + 24) = v22;
  uint64_t v26 = v37;
  sub_74A4((void *)(v37 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), *(void *)(v37 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24));
  swift_retain();
  uint64_t v27 = sub_295CD0();
  uint64_t v28 = *(void *)(v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
  uint64_t v29 = *(void *)(v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
  sub_74A4((void *)(v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v28);
  uint64_t v30 = (void *)swift_allocObject();
  v30[2] = v26;
  v30[3] = sub_50DE4;
  v30[4] = v25;
  void v30[5] = v27;
  uint64_t v31 = v34;
  uint64_t v36 = *(void (**)(void, void, void, void))(v29 + 40);
  swift_retain();
  swift_retain();
  swift_retain();
  v36(sub_175918, v30, v28, v29);
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v31 + 8))(v38, v33);
}

uint64_t sub_159258(char a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v25 = a5;
  uint64_t v9 = sub_298800();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v25 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v9, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v13, v9);
  os_log_type_t v14 = sub_2987E0();
  os_log_type_t v15 = sub_298DC0();
  if (os_log_type_enabled(v14, v15))
  {
    id v16 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)id v16 = 67109120;
    int v26 = a1 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v14, v15, "AcousticIDFlow#triggerSmartStackMatch enableLiveActivity: %{BOOL}d", v16, 8u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  *(unsigned char *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) = a1 & 1;
  uint64_t v17 = *(void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
  uint64_t v18 = *(void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
  sub_74A4((void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v17);
  uint64_t v19 = swift_allocObject();
  swift_weakInit();
  uint64_t v20 = (void *)swift_allocObject();
  _OWORD v20[2] = v19;
  v20[3] = a3;
  _DWORD v20[4] = a4;
  uint64_t v21 = swift_allocObject();
  swift_weakInit();
  uint64_t v22 = (void *)swift_allocObject();
  void v22[2] = v21;
  _OWORD v22[3] = v25;
  void v22[4] = a3;
  v22[5] = a4;
  uint64_t v23 = *(void (**)(uint64_t (*)(), void *, uint64_t (*)(uint64_t), void *, uint64_t, uint64_t))(v18 + 8);
  swift_retain();
  swift_retain_n();
  swift_retain();
  swift_retain();
  v23(sub_175928, v20, sub_175980, v22, v17, v18);
  swift_release();
  swift_release();
  swift_release();
  return swift_release();
}

uint64_t sub_159580(uint64_t a1, void (*a2)(char *), uint64_t a3)
{
  uint64_t v5 = sub_298800();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v18 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v10 = Strong;
    uint64_t v11 = (void *)swift_allocObject();
    v11[2] = v10;
    v11[3] = a2;
    _DWORD v11[4] = a3;
    if (*(unsigned char *)(v10 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity))
    {
      uint64_t v12 = swift_allocObject();
      *(void *)(v12 + 16) = sub_1759F4;
      *(void *)(v12 + 24) = v11;
      swift_allocObject();
      swift_weakInit();
      swift_retain_n();
      swift_retain_n();
      swift_retain();
      sub_71D4((uint64_t *)&unk_313920);
      sub_298C30();
      swift_release();
      swift_release_n();
      swift_release();
      swift_release();
    }
    else
    {
      swift_retain_n();
      swift_retain_n();
      sub_1598AC(0, 0, 0, v10, a2, a3);
      swift_release();
      swift_release_n();
    }
    return swift_release();
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v13 = sub_6E60(v5, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v6 + 16))(v8, v13, v5);
    os_log_type_t v14 = sub_2987E0();
    os_log_type_t v15 = sub_298DB0();
    if (os_log_type_enabled(v14, v15))
    {
      id v16 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v16 = 0;
      _os_log_impl(&dword_0, v14, v15, "AcousticIDFlow#triggerSmartStackMatch self deallocated prematurely during performMatch start call", v16, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  }
}

uint64_t sub_1598AC(uint64_t a1, uint64_t a2, char a3, uint64_t a4, void (*a5)(char *), uint64_t a6)
{
  *(void *)&long long v110 = a6;
  uint64_t v109 = a5;
  uint64_t v117 = a4;
  uint64_t v111 = a2;
  uint64_t v105 = sub_294780();
  uint64_t v104 = *(void *)(v105 - 8);
  __chkstk_darwin(v105);
  uint64_t v103 = (char *)&v102 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v102 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_2951C0();
  uint64_t v114 = *(void *)(v12 - 8);
  uint64_t v115 = (void (*)(void, void, void))v12;
  __chkstk_darwin(v12);
  uint64_t v113 = (char *)&v102 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_313428);
  __chkstk_darwin(v14 - 8);
  os_log_type_t v107 = (char *)&v102 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v116 = (id)type metadata accessor for AcousticIDFlow.State(0);
  uint64_t v16 = __chkstk_darwin(v116);
  uint64_t v18 = (char *)&v102 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = __chkstk_darwin(v16);
  uint64_t v21 = (char *)&v102 - v20;
  __chkstk_darwin(v19);
  uint64_t v112 = (uint64_t)&v102 - v22;
  uint64_t v23 = sub_298800();
  uint64_t v118 = *(void *)(v23 - 8);
  uint64_t v24 = __chkstk_darwin(v23);
  int v26 = (char *)&v102 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = __chkstk_darwin(v24);
  uint64_t v108 = (char *)&v102 - v28;
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v31 = (char *)&v102 - v30;
  uint64_t v32 = __chkstk_darwin(v29);
  uint64_t v106 = (char *)&v102 - v33;
  __chkstk_darwin(v32);
  uint64_t v35 = (char *)&v102 - v34;
  sub_71D4(&qword_313550);
  if (a3)
  {
    uint64_t v123 = a1;
    swift_errorRetain();
    sub_71D4((uint64_t *)&unk_3121A0);
    sub_1983C(0, &qword_3107A0);
    if (swift_dynamicCast())
    {
      char v58 = (void *)v119[1];
      uint64_t v59 = v118;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v60 = sub_6E60(v23, (uint64_t)qword_31FC20);
      uint64_t v114 = *(void *)(v59 + 16);
      uint64_t v115 = (void (*)(void, void, void))v60;
      ((void (*)(char *))v114)(v35);
      os_log_type_t v61 = v58;
      uint64_t v62 = sub_2987E0();
      os_log_type_t v63 = sub_298DB0();
      if (os_log_type_enabled(v62, v63))
      {
        uint64_t v64 = (uint8_t *)swift_slowAlloc();
        uint64_t v111 = swift_slowAlloc();
        v119[0] = v111;
        uint64_t v113 = (char *)(v59 + 16);
        *(_DWORD *)uint64_t v64 = 136315138;
        uint64_t v108 = (char *)(v64 + 4);
        id v65 = [v61 localizedDescription];
        uint64_t v66 = v23;
        uint64_t v67 = sub_2989C0();
        uint64_t v69 = v68;

        *(void *)&long long v120 = v67;
        *((void *)&v120 + 1) = v69;
        uint64_t v23 = v66;
        uint64_t v70 = sub_298B00();
        *(void *)&long long v120 = sub_6E98(v70, v71, v119);
        uint64_t v59 = v118;
        sub_2992C0();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v62, v63, "AcousticIDFlow#triggerSmartStackMatch Error grabbing session ID %s, issuing error dialog", v64, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
      }
      else
      {
      }
      uint64_t v72 = *(void (**)(char *, uint64_t))(v59 + 8);
      v72(v35, v23);
      uint64_t v73 = v117 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      uint64_t v74 = v112;
      sub_17598C(v73, v112);
      if (swift_getEnumCaseMultiPayload() == 5)
      {
        uint64_t v75 = v106;
        ((void (*)(char *, void, uint64_t))v114)(v106, v115, v23);
        uint64_t v76 = sub_2987E0();
        os_log_type_t v77 = sub_298DB0();
        if (os_log_type_enabled(v76, v77))
        {
          uint64_t v78 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v78 = 0;
          _os_log_impl(&dword_0, v76, v77, "AcousticIDFlow#triggerSmartStackMatch grabSessionID failed, but performMatch has already completed. Doing nothing.", v78, 2u);
          swift_slowDealloc();
          uint64_t v79 = v61;
        }
        else
        {
          uint64_t v79 = v76;
          uint64_t v76 = v61;
        }

        v72(v75, v23);
      }
      else
      {
        uint64_t v80 = sub_2970A0();
        uint64_t v81 = (uint64_t)v107;
        (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v80 - 8) + 56))(v107, 1, 1, v80);
        id v82 = [v61 localizedDescription];
        BOOL v83 = (uint64_t *)sub_2989C0();
        uint64_t v85 = v84;

        sub_169634(v81, v83, v85, (uint64_t)v109, v110);
        swift_bridgeObjectRelease();
        sub_23A44(v81, &qword_313428);
        sub_171E8C(v74, type metadata accessor for AcousticIDFlow.State);
      }
      return swift_errorRelease();
    }
    else
    {
      uint64_t result = sub_2995C0();
      __break(1u);
    }
  }
  else
  {
    uint64_t v112 = a1;
    unint64_t v36 = v111;
    if (v111)
    {
      uint64_t v37 = v23;
      id v38 = objc_allocWithZone((Class)SAUIAddViews);
      swift_bridgeObjectRetain();
      id v39 = [v38 init];
      id v40 = [objc_allocWithZone((Class)SAUIUserUtteranceView) init];
      NSString v41 = sub_2989B0();
      [v40 setCorrespondingSessionID:v41];

      sub_71D4(&qword_3107B0);
      uint64_t v42 = swift_allocObject();
      long long v110 = xmmword_29A8D0;
      *(_OWORD *)(v42 + 16) = xmmword_29A8D0;
      *(void *)(v42 + 32) = v40;
      *(void *)&long long v120 = v42;
      sub_298B70();
      sub_1983C(0, (unint64_t *)&qword_313910);
      id v116 = v40;
      Class isa = sub_298B40().super.isa;
      swift_bridgeObjectRelease();
      [v39 setViews:isa];

      uint64_t v44 = swift_allocObject();
      *(_OWORD *)(v44 + 16) = v110;
      *(void *)(v44 + 32) = v39;
      *(void *)&long long v120 = v44;
      sub_298B70();
      uint64_t v45 = sub_2948C0();
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v45 - 8) + 56))(v11, 1, 1, v45);
      os_log_type_t v122 = 0;
      long long v120 = 0u;
      long long v121 = 0u;
      *(void *)&long long v110 = v39;
      unint64_t v46 = v113;
      sub_2946D0();
      swift_bridgeObjectRelease();
      sub_23A44((uint64_t)&v120, &qword_30D5D8);
      sub_23A44((uint64_t)v11, (uint64_t *)&unk_30FA70);
      sub_74A4((void *)(v117 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(v117 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
      uint64_t v47 = v115;
      *((void *)&v121 + 1) = v115;
      os_log_type_t v122 = &protocol witness table for AceOutput;
      char v48 = sub_12B48((uint64_t *)&v120);
      (*(void (**)(uint64_t *, char *, void))(v114 + 16))(v48, v46, v47);
      swift_allocObject();
      swift_weakInit();
      swift_retain();
      sub_2948D0();
      swift_release_n();
      sub_7184((uint64_t)&v120);
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v49 = sub_6E60(v37, (uint64_t)qword_31FC20);
      uint64_t v50 = v118;
      char v51 = v108;
      (*(void (**)(char *, uint64_t, uint64_t))(v118 + 16))(v108, v49, v37);
      swift_bridgeObjectRetain();
      unint64_t v52 = sub_2987E0();
      os_log_type_t v53 = sub_298DC0();
      if (os_log_type_enabled(v52, v53))
      {
        unint64_t v54 = (uint8_t *)swift_slowAlloc();
        uint64_t v55 = swift_slowAlloc();
        uint64_t v117 = v37;
        *(void *)&long long v120 = v55;
        *(_DWORD *)unint64_t v54 = 136315138;
        swift_bridgeObjectRetain();
        id v56 = v51;
        uint64_t v57 = v112;
        uint64_t v123 = sub_6E98(v112, v36, (uint64_t *)&v120);
        sub_2992C0();
        sub_175808(v57, v36, 0);
        sub_175808(v57, v36, 0);
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v52, v53, "AcousticIDFlow#triggerSmartStackMatch Got sessionID: %s", v54, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v50 + 8))(v56, v117);
      }
      else
      {

        uint64_t v97 = v112;
        sub_175808(v112, v36, 0);
        sub_175808(v97, v36, 0);

        (*(void (**)(char *, uint64_t))(v50 + 8))(v51, v37);
      }
      return (*(uint64_t (**)(char *, void (*)(void, void, void)))(v114 + 8))(v113, v115);
    }
    else
    {
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v86 = sub_6E60(v23, (uint64_t)qword_31FC20);
      uint64_t v115 = *(void (**)(void, void, void))(v118 + 16);
      v115(v31, v86, v23);
      uint64_t v87 = sub_2987E0();
      os_log_type_t v88 = sub_298DC0();
      if (os_log_type_enabled(v87, v88))
      {
        uint64_t v89 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v89 = 0;
        _os_log_impl(&dword_0, v87, v88, "AcousticIDFlow#triggerSmartStackMatch Nil sessionID was sent, retriggering logic and setting state to .sessionIDWasCheckedAndIsNilForSmartStack", v89, 2u);
        swift_slowDealloc();
      }

      uint64_t v90 = *(void (**)(char *, uint64_t))(v118 + 8);
      v118 += 8;
      v90(v31, v23);
      uint64_t v91 = v117;
      uint64_t v92 = v117 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      sub_17598C(v92, (uint64_t)v21);
      if (swift_getEnumCaseMultiPayload() == 5)
      {
        v115(v26, v86, v23);
        unint64_t v93 = sub_2987E0();
        os_log_type_t v94 = sub_298DB0();
        if (os_log_type_enabled(v93, v94))
        {
          uint64_t v95 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)uint64_t v95 = 0;
          _os_log_impl(&dword_0, v93, v94, "AcousticIDFlow#triggerSmartStackMatch grabSessionID sessionID is nil, but performMatch has already completed. Doing nothing.", v95, 2u);
          swift_slowDealloc();
        }

        return ((uint64_t (*)(char *, uint64_t))v90)(v26, v23);
      }
      else
      {
        swift_storeEnumTagMultiPayload();
        swift_beginAccess();
        sub_1743F0((uint64_t)v18, v92);
        swift_endAccess();
        uint64_t v98 = (void *)(v91 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer);
        uint64_t v99 = *(void *)(v91 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
        uint64_t v100 = v98[4];
        sub_74A4(v98, v99);
        (*(void (**)(uint64_t, uint64_t))(v100 + 32))(v99, v100);
        unint64_t v101 = v103;
        sub_294720();
        v109(v101);
        (*(void (**)(char *, uint64_t))(v104 + 8))(v101, v105);
        return sub_171E8C((uint64_t)v21, type metadata accessor for AcousticIDFlow.State);
      }
    }
  }
  return result;
}

uint64_t sub_15A838()
{
  uint64_t v0 = sub_298800();
  uint64_t v1 = *(void *)(v0 - 8);
  uint64_t v2 = __chkstk_darwin(v0);
  uint64_t v4 = (char *)&v16 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v16 - v5;
  swift_beginAccess();
  if (swift_weakLoadStrong())
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v7 = sub_6E60(v0, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v4, v7, v0);
    uint64_t v8 = sub_2987E0();
    os_log_type_t v9 = sub_298DC0();
    if (os_log_type_enabled(v8, v9))
    {
      uint64_t v10 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v10 = 0;
      _os_log_impl(&dword_0, v8, v9, "AcousticIDFlow#triggerSmartStackMatch Empty view successfully published", v10, 2u);
      swift_slowDealloc();
    }

    swift_release();
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v11 = sub_6E60(v0, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v6, v11, v0);
    uint64_t v12 = sub_2987E0();
    os_log_type_t v13 = sub_298DB0();
    if (os_log_type_enabled(v12, v13))
    {
      uint64_t v14 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v14 = 0;
      _os_log_impl(&dword_0, v12, v13, "AcousticIDFlow#triggerSmartStackMatch self deallocated prematurely during publishing", v14, 2u);
      swift_slowDealloc();
    }

    uint64_t v4 = v6;
  }
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v4, v0);
}

uint64_t sub_15AAF4(uint64_t a1, uint64_t a2, uint64_t a3, void (*a4)(char *), uint64_t a5)
{
  uint64_t v55 = a5;
  id v56 = a4;
  uint64_t v58 = a3;
  uint64_t v57 = sub_294780();
  uint64_t v54 = *(void *)(v57 - 8);
  __chkstk_darwin(v57);
  os_log_type_t v53 = (char *)&v52 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v59 = type metadata accessor for AcousticIDFlow.State(0);
  uint64_t v7 = __chkstk_darwin(v59);
  unint64_t v52 = (char *)&v52 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v52 - v9;
  uint64_t v11 = sub_71D4(&qword_310760);
  __chkstk_darwin(v11);
  os_log_type_t v13 = (char *)&v52 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v16 = __chkstk_darwin(v14);
  uint64_t v60 = (char *)&v52 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v20 = (char *)&v52 - v19;
  uint64_t v21 = __chkstk_darwin(v18);
  uint64_t v23 = (char *)&v52 - v22;
  __chkstk_darwin(v21);
  uint64_t v25 = (char *)&v52 - v24;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v27 = Strong;
    sub_11E58(a1, (uint64_t)v13, &qword_310760);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      sub_23A44((uint64_t)v13, &qword_310760);
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v28 = sub_6E60(v14, (uint64_t)qword_31FC20);
      uint64_t v29 = v15;
      uint64_t v30 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
      v30(v20, v28, v14);
      uint64_t v31 = sub_2987E0();
      os_log_type_t v32 = sub_298DC0();
      if (os_log_type_enabled(v31, v32))
      {
        uint64_t v33 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v33 = 0;
        _os_log_impl(&dword_0, v31, v32, "AcousticIDFlow#triggerSmartStackMatch experienced an error during match", v33, 2u);
        uint64_t v29 = v15;
        swift_slowDealloc();
      }

      uint64_t v34 = *(void (**)(char *, uint64_t))(v29 + 8);
      v34(v20, v14);
    }
    else
    {
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v40 = sub_6E60(v14, (uint64_t)qword_31FC20);
      uint64_t v41 = v15;
      uint64_t v30 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
      v30(v23, v40, v14);
      uint64_t v42 = sub_2987E0();
      os_log_type_t v43 = sub_298DC0();
      if (os_log_type_enabled(v42, v43))
      {
        uint64_t v44 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v44 = 0;
        _os_log_impl(&dword_0, v42, v43, "AcousticIDFlow#triggerSmartStackMatch successfully completed match execution (may have found match)", v44, 2u);
        uint64_t v41 = v15;
        swift_slowDealloc();
      }

      swift_release();
      uint64_t v34 = *(void (**)(char *, uint64_t))(v41 + 8);
      v34(v23, v14);
    }
    if (v58) {
      sub_295E20();
    }
    uint64_t v45 = v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
    swift_beginAccess();
    sub_17598C(v45, (uint64_t)v10);
    if (swift_getEnumCaseMultiPayload() == 2)
    {
      uint64_t v46 = (uint64_t)v52;
      swift_storeEnumTagMultiPayload();
      swift_beginAccess();
      sub_1743F0(v46, v45);
      swift_endAccess();
      uint64_t v47 = v53;
      sub_294720();
      v56(v47);
      swift_release();
      return (*(uint64_t (**)(char *, uint64_t))(v54 + 8))(v47, v57);
    }
    else
    {
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v48 = sub_6E60(v14, (uint64_t)qword_31FC20);
      v30(v60, v48, v14);
      uint64_t v49 = sub_2987E0();
      os_log_type_t v50 = sub_298DB0();
      if (os_log_type_enabled(v49, v50))
      {
        char v51 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)char v51 = 0;
        _os_log_impl(&dword_0, v49, v50, "AcousticIDFlow#triggerSmartStackMatch performMatch completed, but triggerSmartStackMatch has already returned comletion in grabSessionID. Doing nothing.", v51, 2u);
        swift_slowDealloc();
        swift_release();
      }
      else
      {

        swift_release();
      }
      v34(v60, v14);
      return sub_171E8C((uint64_t)v10, type metadata accessor for AcousticIDFlow.State);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v35 = sub_6E60(v14, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v25, v35, v14);
    unint64_t v36 = sub_2987E0();
    os_log_type_t v37 = sub_298DB0();
    if (os_log_type_enabled(v36, v37))
    {
      id v38 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v38 = 0;
      _os_log_impl(&dword_0, v36, v37, "AcousticIDFlow#triggerSmartStackMatch self deallocated prematurely during performMatch call", v38, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v15 + 8))(v25, v14);
  }
}

uint64_t sub_15B278(uint64_t a1, uint64_t a2)
{
  uint64_t v38 = a1;
  uint64_t v39 = a2;
  uint64_t v2 = sub_298800();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  os_log_type_t v37 = (char *)&v35 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v35 - v7;
  __chkstk_darwin(v6);
  uint64_t v10 = (char *)&v35 - v9;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v2, (uint64_t)qword_31FC20);
  uint64_t v40 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
  v40(v10, v11, v2);
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DC0();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_0, v12, v13, "AcousticIDFlow#executeAtBeginning Reached Logic", v14, 2u);
    swift_slowDealloc();
  }

  uint64_t v15 = *(void (**)(char *, uint64_t))(v3 + 8);
  v15(v10, v2);
  uint64_t v16 = sub_295C60();
  if (v16)
  {
    swift_retain();
    sub_2959C0();
    swift_release();
    int v17 = sub_297AF0();
    swift_release();
  }
  else
  {
    int v17 = 0;
  }
  int v36 = v17;
  *(unsigned char *)(v41 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_isInAmbient) = v17 & 1;
  v40(v8, v11, v2);
  swift_retain_n();
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DC0();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v35 = v15;
    uint64_t v20 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v20 = 67109120;
    if (v16)
    {
      sub_2959C0();
      swift_release();
      swift_release();
      int v21 = 1;
    }
    else
    {
      int v21 = 0;
    }
    int v42 = v21;
    sub_2992C0();
    swift_release();
    _os_log_impl(&dword_0, v18, v19, "AcousticIDFlow#executeAtBeginning is currentRequest present: %{BOOL}d", v20, 8u);
    swift_slowDealloc();

    uint64_t v15 = v35;
  }
  else
  {

    swift_release_n();
  }
  v15(v8, v2);
  uint64_t v22 = v37;
  v40(v37, v11, v2);
  uint64_t v23 = sub_2987E0();
  os_log_type_t v24 = sub_298DC0();
  if (os_log_type_enabled(v23, v24))
  {
    uint64_t v25 = v15;
    int v26 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)int v26 = 67109120;
    int v43 = v36 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v23, v24, "AcousticIDFlow#executeAtBeginning isInAmbient: %{BOOL}d", v26, 8u);
    uint64_t v15 = v25;
    swift_slowDealloc();
  }

  v15(v22, v2);
  uint64_t v27 = v41;
  uint64_t v28 = *(void *)(v41 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
  uint64_t v29 = *(void *)(v41 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
  sub_74A4((void *)(v41 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v28);
  uint64_t v30 = (void *)swift_allocObject();
  uint64_t v31 = v38;
  uint64_t v32 = v39;
  v30[2] = v27;
  v30[3] = v31;
  v30[4] = v32;
  uint64_t v33 = *(void (**)(uint64_t (*)(char), void *, uint64_t, uint64_t))(v29 + 40);
  swift_retain();
  swift_retain();
  v33(sub_1758C0, v30, v28, v29);
  swift_release();
  return swift_release();
}

uint64_t sub_15B758(char a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  os_log_type_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v15 = 67109120;
    v17[3] = a1 & 1;
    sub_2992C0();
    _os_log_impl(&dword_0, v13, v14, "AcousticIDFlow#executeAtBeginning enableLiveActivity: %{BOOL}d", v15, 8u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  *(unsigned char *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) = a1 & 1;
  sub_74A4((void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider), *(void *)(a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider + 24));
  if (sub_296C00()) {
    return sub_15EF40(a3, a4);
  }
  else {
    return sub_15CEFC(a3, a4);
  }
}

uint64_t sub_15B994(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v30 = sub_71D4(&qword_313428);
  uint64_t v8 = __chkstk_darwin(v30);
  uint64_t v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v26 - v11;
  uint64_t v13 = sub_298800();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v26 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_6E60(v13, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v16, v17, v13);
  uint64_t v31 = a1;
  sub_11E58(a1, (uint64_t)v12, &qword_313428);
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DC0();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v20 = swift_slowAlloc();
    uint64_t v27 = a2;
    int v21 = (uint8_t *)v20;
    uint64_t v22 = swift_slowAlloc();
    uint64_t v28 = a3;
    uint64_t v33 = v22;
    uint64_t v29 = v4;
    *(_DWORD *)int v21 = 136315138;
    int v26 = v21 + 4;
    sub_11E58((uint64_t)v12, (uint64_t)v10, &qword_313428);
    uint64_t v23 = sub_2989E0();
    uint64_t v32 = sub_6E98(v23, v24, &v33);
    sub_2992C0();
    swift_bridgeObjectRelease();
    sub_23A44((uint64_t)v12, &qword_313428);
    _os_log_impl(&dword_0, v18, v19, "AcousticIDFlow#executeIdentifyError With code: %s", v21, 0xCu);
    swift_arrayDestroy();
    a3 = v28;
    swift_slowDealloc();
    a2 = v27;
    swift_slowDealloc();
  }
  else
  {
    sub_23A44((uint64_t)v12, &qword_313428);
  }

  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
  return sub_169634(v31, 0, 0, a2, a3);
}

uint64_t sub_15BCC8(void *a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v31 = a3;
  uint64_t v30 = a2;
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v27 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  uint64_t v29 = (char *)&v27 - v10;
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v27 - v11;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_6E60(v4, (uint64_t)qword_31FC20);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  v14(v12, v13, v4);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    uint64_t v28 = v5;
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AcousticIDFlow#executeIdentifyComplete Reached Logic", v17, 2u);
    uint64_t v5 = v28;
    swift_slowDealloc();
  }

  uint64_t v18 = *(void (**)(char *, uint64_t))(v5 + 8);
  v18(v12, v4);
  if (a1)
  {
    os_log_type_t v19 = v29;
    v14(v29, v13, v4);
    swift_retain();
    uint64_t v20 = sub_2987E0();
    os_log_type_t v21 = sub_298DC0();
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v22 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v22 = 0;
      _os_log_impl(&dword_0, v20, v21, "AcousticIDFlow#executeIdentifyComplete Found matched song from ShazamKit", v22, 2u);
      swift_slowDealloc();
    }

    v18(v19, v4);
    sub_74A4((void *)(v32 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider), *(void *)(v32 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider + 24));
    if (sub_296C00()) {
      sub_167778(a1, v30, v31);
    }
    else {
      sub_1656DC(a1, v30, (uint64_t)v31);
    }
    return swift_release();
  }
  else
  {
    v14(v8, v13, v4);
    uint64_t v23 = sub_2987E0();
    os_log_type_t v24 = sub_298DC0();
    if (os_log_type_enabled(v23, v24))
    {
      uint64_t v25 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v25 = 0;
      _os_log_impl(&dword_0, v23, v24, "AcousticIDFlow#executeIdentifyComplete No matched song from ShazamKit", v25, 2u);
      swift_slowDealloc();
    }

    v18(v8, v4);
    sub_74A4((void *)(v32 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider), *(void *)(v32 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider + 24));
    if (sub_296C00()) {
      return sub_164234(v30, (uint64_t)v31);
    }
    else {
      return sub_1620DC(v30, (uint64_t)v31);
    }
  }
}

uint64_t sub_15C0D0(uint64_t a1, uint64_t a2)
{
  uint64_t v25 = a2;
  uint64_t v24 = a1;
  uint64_t v27 = sub_2987D0();
  uint64_t v2 = *(void *)(v27 - 8);
  uint64_t v3 = *(void *)(v2 + 64);
  uint64_t v4 = __chkstk_darwin(v27);
  uint64_t v5 = (char *)&v24 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v24 - v6;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v24 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "AcousticIDFlow#triggerMatch Reached Logic", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  if (qword_30C890 != -1) {
    swift_once();
  }
  id v16 = (id)qword_31FCE0;
  sub_2987B0();
  uint64_t v17 = v27;
  (*(void (**)(char *, char *, uint64_t))(v2 + 16))(v5, v7, v27);
  unint64_t v18 = (*(unsigned __int8 *)(v2 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v2 + 80);
  uint64_t v19 = swift_allocObject();
  *(void *)(v19 + 16) = "shazamKitPerformMatch";
  *(void *)(v19 + 24) = 21;
  *(unsigned char *)(v19 + 32) = 2;
  (*(void (**)(unint64_t, char *, uint64_t))(v2 + 32))(v19 + v18, v5, v17);
  uint64_t v20 = (void *)(v19 + ((v3 + v18 + 7) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v21 = v25;
  *uint64_t v20 = v24;
  v20[1] = v21;
  swift_retain();
  sub_299100();
  sub_298790();
  uint64_t v22 = swift_allocObject();
  *(void *)(v22 + 16) = sub_48824;
  *(void *)(v22 + 24) = v19;
  swift_retain();
  sub_15C4B8((uint64_t)sub_48814, v22, v26);
  swift_release();
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v2 + 8))(v7, v17);
}

uint64_t sub_15C4B8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  sub_74A4((void *)(a3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), *(void *)(a3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24));
  uint64_t v6 = sub_295CD0();
  uint64_t v7 = *(void *)(a3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
  uint64_t v8 = *(void *)(a3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
  sub_74A4((void *)(a3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v7);
  swift_weakInit();
  uint64_t v9 = swift_allocObject();
  swift_weakInit();
  uint64_t v10 = (void *)swift_allocObject();
  v10[2] = v9;
  v10[3] = v6;
  v10[4] = a1;
  v10[5] = a2;
  uint64_t v11 = *(void (**)(uint64_t (*)(), void, uint64_t (*)(uint64_t), void *, uint64_t, uint64_t))(v8 + 8);
  swift_retain();
  swift_retain();
  swift_retain();
  v11(sub_15C628, 0, sub_1758B0, v10, v7, v8);
  swift_release();
  swift_release();
  swift_weakDestroy();
  return swift_release();
}

uint64_t sub_15C628()
{
  uint64_t v0 = sub_298800();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_6E60(v0, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v4, v0);
  uint64_t v5 = sub_2987E0();
  os_log_type_t v6 = sub_298DC0();
  if (os_log_type_enabled(v5, v6))
  {
    uint64_t v7 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v7 = 0;
    _os_log_impl(&dword_0, v5, v6, "AcousticIDFlow#triggerMatch match was started", v7, 2u);
    swift_slowDealloc();
  }

  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_15C7B4(uint64_t a1, uint64_t a2, uint64_t a3, void (*a4)(char *), uint64_t a5)
{
  uint64_t v58 = a5;
  uint64_t v59 = a4;
  uint64_t v56 = a3;
  uint64_t v50 = a1;
  uint64_t v60 = sub_294780();
  uint64_t v57 = *(void *)(v60 - 8);
  __chkstk_darwin(v60);
  uint64_t v55 = (char *)&v49 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_2970A0();
  uint64_t v52 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  char v51 = (char *)&v49 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v53 = type metadata accessor for AcousticIDFlow.State(0);
  uint64_t v8 = __chkstk_darwin(v53);
  uint64_t v54 = (uint64_t)&v49 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v49 - v10;
  uint64_t v12 = sub_71D4(&qword_310760);
  __chkstk_darwin(v12);
  os_log_type_t v14 = (char *)&v49 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v49 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v17);
  uint64_t v22 = (char *)&v49 - v21;
  __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v49 - v23;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v26 = Strong;
    sub_11E58(v50, (uint64_t)v14, &qword_310760);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      uint64_t v50 = v26;
      uint64_t v27 = v14;
      uint64_t v28 = *(void (**)(char *, char *, uint64_t))(v52 + 32);
      v28(v51, v27, v6);
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v29 = sub_6E60(v15, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v19, v29, v15);
      uint64_t v30 = sub_2987E0();
      os_log_type_t v31 = sub_298DC0();
      if (os_log_type_enabled(v30, v31))
      {
        uint64_t v32 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v32 = 0;
        _os_log_impl(&dword_0, v30, v31, "AcousticIDFlow#triggerMatch switching to .identifyError", v32, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v16 + 8))(v19, v15);
      uint64_t v33 = v50;
      uint64_t v34 = *(void *)(v50 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v35 = *(void *)(v50 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v50 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v34);
      (*(void (**)(uint64_t, uint64_t))(v35 + 24))(v34, v35);
      v28(v11, v51, v6);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v52 + 56))(v11, 0, 1, v6);
      swift_storeEnumTagMultiPayload();
      uint64_t v36 = v54;
      sub_1451E4((uint64_t)v11, v54);
      uint64_t v37 = v33 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
    }
    else
    {
      uint64_t v43 = *(void *)v14;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v44 = sub_6E60(v15, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v22, v44, v15);
      uint64_t v45 = sub_2987E0();
      os_log_type_t v46 = sub_298DC0();
      if (os_log_type_enabled(v45, v46))
      {
        uint64_t v47 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v47 = 0;
        _os_log_impl(&dword_0, v45, v46, "AcousticIDFlow#triggerMatch switching to .identifyComplete", v47, 2u);
        swift_slowDealloc();
      }

      (*(void (**)(char *, uint64_t))(v16 + 8))(v22, v15);
      *(void *)uint64_t v11 = v43;
      swift_storeEnumTagMultiPayload();
      uint64_t v36 = v54;
      sub_1451E4((uint64_t)v11, v54);
      uint64_t v37 = v26 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
    }
    swift_beginAccess();
    sub_1743F0(v36, v37);
    swift_endAccess();
    if (v56) {
      sub_295E20();
    }
    uint64_t v48 = v55;
    sub_294720();
    v59(v48);
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v57 + 8))(v48, v60);
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v38 = sub_6E60(v15, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v24, v38, v15);
    uint64_t v39 = sub_2987E0();
    os_log_type_t v40 = sub_298DB0();
    if (os_log_type_enabled(v39, v40))
    {
      uint64_t v41 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v41 = 0;
      _os_log_impl(&dword_0, v39, v40, "AcousticIDFlow#triggerMatch self deallocated prematurely during performMatch call", v41, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v24, v15);
  }
}

uint64_t sub_15CEFC(uint64_t a1, uint64_t a2)
{
  unint64_t v5 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  *((void *)&v26 + 1) = &type metadata for Bool;
  LOBYTE(v25) = 0;
  sub_26608(&v25, v29);
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v28 = v5;
  sub_482F0(v29, 0x636E7973417369, 0xE700000000000000, isUniquelyReferenced_nonNull_native);
  unint64_t v7 = v28;
  swift_bridgeObjectRelease();
  uint64_t v8 = *(void **)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v9 = swift_allocObject();
  swift_weakInit();
  uint64_t v10 = (void *)swift_allocObject();
  v10[2] = v9;
  v10[3] = a1;
  v10[4] = a2;
  uint64_t v11 = v8[4];
  uint64_t v12 = v8[5];
  uint64_t v13 = v8[6];
  uint64_t v27 = 0;
  long long v25 = 0u;
  long long v26 = 0u;
  uint64_t v16 = v12;
  uint64_t v17 = v13;
  uint64_t v18 = 0x6E696E657473694CLL;
  unint64_t v19 = 0xE900000000000067;
  uint64_t v20 = v11;
  unint64_t v21 = v7;
  uint64_t v22 = 0;
  uint64_t v23 = &v25;
  uint64_t v24 = 0;
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_175774, (uint64_t)v10, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v12, v13, 0x6E696E657473694CLL, 0xE900000000000067, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v15);
  sub_23A44((uint64_t)&v25, &qword_30D018);
  swift_bridgeObjectRelease();
  swift_release();
  return swift_release();
}

uint64_t sub_15D0DC(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v160 = a4;
  id v158 = a1;
  uint64_t v5 = sub_71D4(&qword_313428);
  __chkstk_darwin(v5 - 8);
  uint64_t v156 = (char *)v136 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v7 - 8);
  BOOL v155 = (char *)v136 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v9 - 8);
  os_log_type_t v154 = (char *)v136 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v11 - 8);
  id v153 = (char *)v136 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v159 = (void (*)(char *, char *))sub_296130();
  uint64_t v151 = *((void *)v159 - 1);
  __chkstk_darwin(v159);
  uint64_t v150 = (char *)v136 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v148 = sub_297270();
  uint64_t v147 = *(void *)(v148 - 8);
  __chkstk_darwin(v148);
  uint64_t v145 = (char *)v136 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v146 = sub_297280();
  uint64_t v144 = *(void *)(v146 - 8);
  __chkstk_darwin(v146);
  uint64_t v142 = (char *)v136 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v143 = sub_297210();
  uint64_t v141 = *(void *)(v143 - 8);
  __chkstk_darwin(v143);
  uint64_t v140 = (char *)v136 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v162 = sub_71D4(&qword_30D030);
  uint64_t v17 = __chkstk_darwin(v162);
  unint64_t v19 = (char *)v136 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = __chkstk_darwin(v17);
  id v152 = (char *)v136 - v21;
  uint64_t v22 = __chkstk_darwin(v20);
  uint64_t v149 = (char *)v136 - v23;
  __chkstk_darwin(v22);
  uint64_t v163 = (char *)v136 - v24;
  uint64_t v25 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v25);
  uint64_t v27 = (void *)((char *)v136 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v28 = sub_298800();
  uint64_t v29 = *(void *)(v28 - 8);
  uint64_t v30 = __chkstk_darwin(v28);
  uint64_t v157 = (void (**)(char *, uint64_t, uint64_t, char *))((char *)v136 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v32 = __chkstk_darwin(v30);
  uint64_t v34 = (char *)v136 - v33;
  __chkstk_darwin(v32);
  uint64_t v36 = (char *)v136 - v35;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    unint64_t v138 = v19;
    uint64_t v139 = a3;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v37 = sub_6E60(v28, (uint64_t)qword_31FC20);
    uint64_t v38 = *(void (**)(char *, uint64_t, uint64_t))(v29 + 16);
    v38(v34, v37, v28);
    uint64_t v39 = sub_2987E0();
    os_log_type_t v40 = sub_298DC0();
    if (os_log_type_enabled(v39, v40))
    {
      uint64_t v41 = (uint8_t *)swift_slowAlloc();
      uint64_t v137 = v28;
      *(_WORD *)uint64_t v41 = 0;
      _os_log_impl(&dword_0, v39, v40, "AcousticIDFlow#listeningDialogAndViewNonRF", v41, 2u);
      uint64_t v28 = v137;
      swift_slowDealloc();
    }

    int v42 = *(void (**)(char *, uint64_t))(v29 + 8);
    v42(v34, v28);
    sub_11E58((uint64_t)v158, (uint64_t)v27, (uint64_t *)&unk_30FA30);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      v166[2] = *v27;
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        uint64_t v43 = (void *)v166[1];
        uint64_t v44 = v157;
        v38((char *)v157, v37, v28);
        id v45 = v43;
        os_log_type_t v46 = sub_2987E0();
        os_log_type_t v47 = sub_298DB0();
        p_attr = &stru_309FF8.attr;
        if (os_log_type_enabled(v46, v47))
        {
          uint64_t v49 = (uint8_t *)swift_slowAlloc();
          uint64_t v162 = swift_slowAlloc();
          v166[0] = v162;
          *(_DWORD *)uint64_t v49 = 136315138;
          uint64_t v159 = (void (*)(char *, char *))(v49 + 4);
          id v50 = [v45 localizedDescription];
          uint64_t v51 = sub_2989C0();
          uint64_t v163 = (char *)v42;
          uint64_t v53 = v52;

          p_attr = (char **)(&stru_309FF8 + 8);
          uint64_t v164 = v51;
          uint64_t v165 = v53;
          uint64_t v54 = sub_298B00();
          uint64_t v164 = sub_6E98(v54, v55, v166);
          sub_2992C0();

          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v46, v47, "AcousticIDFlow#listeningDialogAndViewNonRF Error creating dialog %s, issuing error dialog", v49, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          ((void (*)(void (**)(char *, uint64_t, uint64_t, char *), uint64_t))v163)(v157, v28);
        }
        else
        {

          v42((char *)v44, v28);
        }
        uint64_t v104 = v160;
        uint64_t v105 = (uint64_t)v156;
        uint64_t v106 = sub_2970A0();
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v106 - 8) + 56))(v105, 1, 1, v106);
        id v107 = objc_msgSend(v45, p_attr[448]);
        uint64_t v108 = (uint64_t *)sub_2989C0();
        uint64_t v110 = v109;

        sub_169634(v105, v108, v110, v139, v104);
        swift_release();
        swift_bridgeObjectRelease();
        sub_23A44(v105, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      uint64_t v61 = *(int *)(v162 + 48);
      uint64_t v62 = sub_2949F0();
      os_log_type_t v63 = *(void (***)(char *, uint64_t, uint64_t, char *))(v62 - 8);
      uint64_t v156 = (char *)v62;
      uint64_t v157 = v63;
      uint64_t v64 = v163;
      ((void (*)(char *, uint64_t *, uint64_t))v63[4])(v163, v27, v62);
      id v65 = *(void **)((char *)v27 + v61);
      *(void *)&v64[v61] = v65;
      uint64_t v66 = v141;
      uint64_t v67 = v140;
      uint64_t v68 = v143;
      (*(void (**)(char *, void, uint64_t))(v141 + 104))(v140, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v143);
      uint64_t v69 = v144;
      uint64_t v70 = v142;
      uint64_t v71 = v146;
      (*(void (**)(char *, void, uint64_t))(v144 + 104))(v142, enum case for AdditionalMetricsDescription.SourceFunction.lstnDlgView(_:), v146);
      uint64_t v72 = v147;
      uint64_t v73 = v145;
      uint64_t v74 = v148;
      (*(void (**)(char *, void, uint64_t))(v147 + 104))(v145, enum case for AdditionalMetricsDescription.StatusReason.listening(_:), v148);
      id v158 = v65;
      uint64_t v137 = sub_297220();
      v136[1] = v75;
      (*(void (**)(char *, uint64_t))(v72 + 8))(v73, v74);
      (*(void (**)(char *, uint64_t))(v69 + 8))(v70, v71);
      (*(void (**)(char *, uint64_t))(v66 + 8))(v67, v68);
      uint64_t v147 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 24);
      uint64_t v148 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 32);
      uint64_t v146 = (uint64_t)sub_74A4((void *)(Strong+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v147);
      uint64_t v76 = v151;
      os_log_type_t v77 = v150;
      (*(void (**)(char *, void, void (*)(char *, char *)))(v151 + 104))(v150, enum case for TypeOfIntent.acousticID(_:), v159);
      uint64_t v78 = enum case for ActivityType.showInterstitial(_:);
      uint64_t v79 = sub_2944C0();
      uint64_t v80 = *(void *)(v79 - 8);
      uint64_t v81 = v153;
      (*(void (**)(char *, uint64_t, uint64_t))(v80 + 104))(v153, v78, v79);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v80 + 56))(v81, 0, 1, v79);
      id v82 = v156;
      BOOL v83 = v157;
      uint64_t v84 = v154;
      v157[7](v154, 1, 1, v156);
      uint64_t v85 = enum case for SiriKitReliabilityCodes.inProgress(_:);
      uint64_t v86 = sub_294170();
      uint64_t v87 = *(void *)(v86 - 8);
      uint64_t v88 = (uint64_t)v155;
      uint64_t v89 = v85;
      id v90 = v158;
      (*(void (**)(char *, uint64_t, uint64_t))(v87 + 104))(v155, v89, v86);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v87 + 56))(v88, 0, 1, v86);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v88, &qword_30D5B8);
      uint64_t v91 = (uint64_t)v84;
      uint64_t v92 = v83;
      sub_23A44(v91, (uint64_t *)&unk_30FA50);
      uint64_t v93 = (uint64_t)v81;
      os_log_type_t v94 = v82;
      sub_23A44(v93, &qword_30D5C0);
      (*(void (**)(char *, void *))(v76 + 8))(v77, v159);
      uint64_t v95 = *(int *)(v162 + 48);
      uint64_t v96 = v83[2];
      uint64_t v97 = v149;
      ((void (*)(char *, char *, char *))v96)(v149, v163, v94);
      *(void *)&v97[v95] = v90;
      uint64_t v98 = sub_2949C0();
      uint64_t v99 = v92[1];
      ((void (*)(char *, char *))v99)(v97, v94);
      uint64_t v100 = *(void *)(v98 + 16);
      if (v100)
      {
        unint64_t v101 = (uint64_t *)(v98 + 40);
        while (1)
        {
          uint64_t v102 = *v101;
          uint64_t v103 = HIBYTE(*v101) & 0xF;
          if ((*v101 & 0x2000000000000000) == 0) {
            uint64_t v103 = *(v101 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v103) {
            break;
          }
          v101 += 2;
          if (!--v100) {
            goto LABEL_21;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_21:
        uint64_t v102 = 0;
      }
      swift_bridgeObjectRelease();
      uint64_t v111 = *(int *)(v162 + 48);
      uint64_t v112 = v152;
      ((void (*)(char *, char *, char *))v96)(v152, v163, v94);
      *(void *)&v112[v111] = v90;
      uint64_t v113 = sub_2949D0();
      uint64_t v159 = (void (*)(char *, char *))v99;
      ((void (*)(char *, char *))v99)(v112, v94);
      uint64_t v114 = *(void *)(v113 + 16);
      if (v114)
      {
        uint64_t v115 = (uint64_t *)(v113 + 40);
        while (1)
        {
          uint64_t v116 = *v115;
          uint64_t v117 = HIBYTE(*v115) & 0xF;
          if ((*v115 & 0x2000000000000000) == 0) {
            uint64_t v117 = *(v115 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v117) {
            break;
          }
          v115 += 2;
          if (!--v114) {
            goto LABEL_31;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_31:
        uint64_t v116 = 0;
      }
      swift_bridgeObjectRelease();
      id v118 = [objc_allocWithZone((Class)SADialogText) init];
      if (v102)
      {
        NSString v119 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v119 = 0;
      }
      [v118 setText:v119];

      if (v116)
      {
        NSString v120 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v120 = 0;
      }
      [v118 setSpeakableTextOverride:v120];

      id v121 = [objc_allocWithZone((Class)SADialog) init];
      [v121 setCanUseServerTTS:1];
      [v121 setPrintedOnly:0];
      [v121 setSpokenOnly:1];
      id v122 = v118;
      [v121 setCaption:v122];
      [v121 setContent:v122];

      uint64_t v123 = *(int *)(v162 + 48);
      uint64_t v124 = v138;
      ((void (*)(char *, char *, char *))v96)(v138, v163, v94);
      id v125 = v158;

      *(void *)&v124[v123] = v125;
      sub_294990();
      NSString v126 = sub_2989B0();
      swift_bridgeObjectRelease();
      v159(v124, v94);
      [v121 setDialogIdentifier:v126];

      uint64_t v127 = swift_allocObject();
      *(void *)(v127 + 16) = _swiftEmptyArrayStorage;
      uint64_t v128 = (void *)swift_allocObject();
      uint64_t v129 = v160;
      uint64_t v130 = Strong;
      v128[2] = Strong;
      v128[3] = v121;
      uint64_t v131 = v139;
      void v128[4] = v127;
      v128[5] = v131;
      v128[6] = v129;
      if (*(unsigned char *)(v130 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) == 1)
      {
        uint64_t v132 = swift_allocObject();
        *(void *)(v132 + 16) = sub_1757D4;
        *(void *)(v132 + 24) = v128;
        swift_allocObject();
        swift_weakInit();
        swift_retain_n();
        id v133 = v121;
        swift_retain_n();
        swift_retain_n();
        id v134 = v133;
        swift_retain();
        sub_71D4((uint64_t *)&unk_313920);
        sub_298C30();
        swift_release();
        swift_release();
      }
      else
      {
        swift_retain_n();
        id v135 = v121;
        swift_retain_n();
        swift_retain_n();
        sub_15E430(0, 0, 0, v130, (uint64_t)v135, v127, v131, v129);
      }
      swift_release();
      swift_release();

      swift_release();
      swift_release();
      swift_release();

      sub_23A44((uint64_t)v163, &qword_30D030);
      return swift_release();
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v56 = sub_6E60(v28, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v36, v56, v28);
    uint64_t v57 = sub_2987E0();
    os_log_type_t v58 = sub_298DB0();
    if (os_log_type_enabled(v57, v58))
    {
      uint64_t v59 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v59 = 0;
      _os_log_impl(&dword_0, v57, v58, "AcousticIDFlow#listeningDialogAndViewNonRF self deallocated prematurely", v59, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v29 + 8))(v36, v28);
  }
  return result;
}

uint64_t sub_15E430(uint64_t a1, uint64_t a2, char a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v84 = a4;
  uint64_t v85 = a7;
  uint64_t v14 = sub_71D4(&qword_313428);
  __chkstk_darwin(v14 - 8);
  uint64_t v79 = (char *)&v76 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v16 - 8);
  uint64_t v80 = (char *)&v76 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v83 = sub_2951C0();
  uint64_t v81 = *(uint8_t **)(v83 - 8);
  __chkstk_darwin(v83);
  id v82 = (char *)&v76 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_298800();
  uint64_t v86 = *(void *)(v19 - 8);
  uint64_t v20 = __chkstk_darwin(v19);
  uint64_t v22 = (char *)&v76 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v76 - v23;
  sub_71D4(&qword_313550);
  if (a3)
  {
    uint64_t v91 = a1;
    swift_errorRetain();
    sub_71D4((uint64_t *)&unk_3121A0);
    sub_1983C(0, &qword_3107A0);
    if (swift_dynamicCast())
    {
      uint64_t v30 = v87;
      uint64_t v31 = v19;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v32 = sub_6E60(v19, (uint64_t)qword_31FC20);
      uint64_t v33 = v86;
      (*(void (**)(char *, uint64_t, uint64_t))(v86 + 16))(v22, v32, v19);
      id v34 = v30;
      uint64_t v35 = sub_2987E0();
      os_log_type_t v36 = sub_298DB0();
      p_attr = &stru_309FF8.attr;
      if (os_log_type_enabled(v35, v36))
      {
        uint64_t v38 = (uint8_t *)swift_slowAlloc();
        id v82 = (char *)swift_slowAlloc();
        uint64_t v92 = v82;
        *(_DWORD *)uint64_t v38 = 136315138;
        uint64_t v81 = v38 + 4;
        id v39 = [v34 localizedDescription];
        uint64_t v40 = sub_2989C0();
        uint64_t v83 = v31;
        uint64_t v41 = a8;
        uint64_t v43 = v42;

        p_attr = (char **)(&stru_309FF8 + 8);
        *(void *)&long long v88 = v40;
        *((void *)&v88 + 1) = v43;
        uint64_t v44 = sub_298B00();
        *(void *)&long long v88 = sub_6E98(v44, v45, (uint64_t *)&v92);
        a8 = v41;
        sub_2992C0();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v35, v36, "AcousticIDFlow#listeningDialogAndViewNonRF Error grabbing session ID %s, issuing error dialog", v38, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v86 + 8))(v22, v83);
      }
      else
      {

        (*(void (**)(char *, uint64_t))(v33 + 8))(v22, v19);
      }
      uint64_t v46 = sub_2970A0();
      uint64_t v47 = (uint64_t)v79;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v46 - 8) + 56))(v79, 1, 1, v46);
      id v48 = objc_msgSend(v34, p_attr[448]);
      uint64_t v49 = (uint64_t *)sub_2989C0();
      uint64_t v51 = v50;

      sub_169634(v47, v49, v51, v85, a8);
      swift_bridgeObjectRelease();
      sub_23A44(v47, &qword_313428);
      return swift_errorRelease();
    }
    else
    {
      uint64_t result = sub_2995C0();
      __break(1u);
    }
  }
  else
  {
    uint64_t v79 = (char *)a8;
    uint64_t v25 = (void *)(a6 + 16);
    swift_bridgeObjectRetain();
    id v26 = sub_1720C0();
    if (v26)
    {
      uint64_t v27 = v26;
      [v26 setDialog:a5];
      if (a2)
      {
        sub_1748A4(a1, a2, 0);
        id v28 = v27;
        NSString v29 = sub_2989B0();
        sub_175808(a1, a2, 0);
      }
      else
      {
        id v53 = v27;
        NSString v29 = 0;
      }
      uint64_t v54 = v19;
      uint64_t v55 = v86;
      [v27 setCorrespondingSessionID:v29];

      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v56 = sub_6E60(v19, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v55 + 16))(v24, v56, v19);
      swift_bridgeObjectRetain();
      uint64_t v57 = sub_2987E0();
      os_log_type_t v58 = sub_298DA0();
      if (os_log_type_enabled(v57, v58))
      {
        uint64_t v59 = (uint8_t *)swift_slowAlloc();
        os_log_type_t v77 = (void *)swift_slowAlloc();
        uint64_t v78 = v59;
        *(_DWORD *)uint64_t v59 = 138412290;
        if (a2)
        {
          sub_7218();
          swift_allocError();
          *uint64_t v60 = a1;
          v60[1] = a2;
          swift_bridgeObjectRetain();
          uint64_t v61 = _swift_stdlib_bridgeErrorToNSError();
          *(void *)&long long v88 = v61;
          sub_2992C0();
        }
        else
        {
          *(void *)&long long v88 = 0;
          sub_2992C0();
          uint64_t v61 = 0;
        }
        *os_log_type_t v77 = v61;
        sub_175808(a1, a2, 0);
        sub_175808(a1, a2, 0);
        _os_log_impl(&dword_0, v57, v58, "AcousticIDFlow#listeningDialogAndViewNonRF sessionID: %@", v78, 0xCu);
        sub_71D4((uint64_t *)&unk_30FA40);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();
        uint64_t v54 = v19;
        uint64_t v55 = v86;
      }
      else
      {
        sub_175808(a1, a2, 0);
        sub_175808(a1, a2, 0);
      }

      (*(void (**)(char *, uint64_t))(v55 + 8))(v24, v54);
      id v62 = v27;
      NSString v63 = sub_2989B0();
      [v62 setViewId:v63];

      swift_beginAccess();
      id v64 = v62;
      sub_298B30();
      if (*(void *)((char *)&dword_10 + (*v25 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                      + (*v25 & 0xFFFFFFFFFFFFFF8)) >> 1)
        sub_298B80();
      sub_298BB0();
      sub_298B70();
      swift_endAccess();
    }
    else
    {
      sub_175808(a1, a2, 0);
    }
    id v65 = [objc_allocWithZone((Class)SAUIAddViews) init];
    swift_beginAccess();
    sub_1983C(0, (unint64_t *)&qword_313910);
    swift_bridgeObjectRetain();
    Class isa = sub_298B40().super.isa;
    swift_bridgeObjectRelease();
    [v65 setViews:isa];

    uint64_t v67 = sub_2948C0();
    uint64_t v68 = (uint64_t)v80;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v67 - 8) + 56))(v80, 1, 1, v67);
    id v90 = 0;
    long long v88 = 0u;
    long long v89 = 0u;
    uint64_t v69 = v82;
    sub_2946E0();
    sub_23A44((uint64_t)&v88, &qword_30D5D8);
    sub_23A44(v68, (uint64_t *)&unk_30FA70);
    sub_74A4((void *)(v84 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(v84 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
    uint64_t v70 = v83;
    *((void *)&v89 + 1) = v83;
    id v90 = &protocol witness table for AceOutput;
    uint64_t v71 = sub_12B48((uint64_t *)&v88);
    uint64_t v72 = v81;
    (*((void (**)(uint64_t *, char *, uint64_t))v81 + 2))(v71, v69, v70);
    uint64_t v73 = swift_allocObject();
    swift_weakInit();
    uint64_t v74 = (void *)swift_allocObject();
    uint64_t v75 = v85;
    v74[2] = v73;
    v74[3] = v75;
    v74[4] = v79;
    swift_retain();
    swift_retain();
    sub_2948D0();

    swift_release();
    (*((void (**)(char *, uint64_t))v72 + 1))(v69, v70);
    swift_release();
    return sub_7184((uint64_t)&v88);
  }
  return result;
}

uint64_t sub_15EF40(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v27 = a2;
  uint64_t v5 = sub_298800();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v24 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v9 = sub_6E60(v5, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v6 + 16))(v8, v9, v5);
  uint64_t v10 = sub_2987E0();
  os_log_type_t v11 = sub_298DC0();
  if (os_log_type_enabled(v10, v11))
  {
    uint64_t v12 = swift_slowAlloc();
    uint64_t v25 = v3;
    uint64_t v13 = (uint8_t *)v12;
    *(void *)&long long v28 = swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 136446210;
    uint64_t v26 = a1;
    uint64_t v14 = sub_2973F0();
    *(void *)&v32[0] = sub_6E98(v14, v15, (uint64_t *)&v28);
    a1 = v26;
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v10, v11, "AcousticIDFlow#listeningDialogAndViewWithRF Reached Logic %{public}s", v13, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v3 = v25;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  unint64_t v16 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  *((void *)&v29 + 1) = &type metadata for Bool;
  LOBYTE(v28) = 0;
  sub_26608(&v28, v32);
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v31 = v16;
  sub_482F0(v32, 0x636E7973417369, 0xE700000000000000, isUniquelyReferenced_nonNull_native);
  swift_bridgeObjectRelease();
  uint64_t v18 = *(void *)(v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v19 = swift_allocObject();
  swift_weakInit();
  uint64_t v20 = (void *)swift_allocObject();
  _OWORD v20[2] = v19;
  v20[3] = a1;
  _DWORD v20[4] = v27;
  uint64_t v21 = *(void *)(v18 + 40);
  uint64_t v22 = *(void *)(v18 + 48);
  uint64_t v30 = 0;
  long long v28 = 0u;
  long long v29 = 0u;
  __chkstk_darwin(v20);
  *(&v24 - 10) = v21;
  *(&v24 - 9) = v22;
  *(&v24 - 8) = 0x6E696E657473694CLL;
  *(&v24 - 7) = 0xE900000000000067;
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_17570C, (uint64_t)v20, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v21, v22, 0x6E696E657473694CLL, 0xE900000000000067, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v24 - 12));
  sub_23A44((uint64_t)&v28, &qword_30D018);
  swift_bridgeObjectRelease();
  swift_release();
  return swift_release();
}

uint64_t sub_15F340(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v53 = a5;
  uint64_t v52 = a4;
  uint64_t v54 = a1;
  uint64_t v7 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)&v42 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v42 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30D030);
  uint64_t v15 = __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v42 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v42 - v18;
  uint64_t v20 = sub_2949F0();
  uint64_t v50 = *(void *)(v20 - 8);
  uint64_t v51 = v20;
  uint64_t v46 = *(void (**)(char *, uint64_t))(v50 + 16);
  v46(v19, a2);
  uint64_t v47 = v14;
  uint64_t v21 = *(int *)(v14 + 48);
  uint64_t v49 = v19;
  *(void *)&v19[v21] = a3;
  uint64_t v22 = qword_30C850;
  id v48 = a3;
  if (v22 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_6E60(v10, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v23, v10);
  uint64_t v24 = v13;
  uint64_t v25 = sub_2987E0();
  os_log_type_t v26 = sub_298DC0();
  if (os_log_type_enabled(v25, v26))
  {
    uint64_t v45 = v11;
    uint64_t v27 = (uint8_t *)swift_slowAlloc();
    uint64_t v28 = swift_slowAlloc();
    uint64_t v44 = v24;
    uint64_t v56 = v28;
    uint64_t v43 = v10;
    *(_DWORD *)uint64_t v27 = 136446210;
    uint64_t v29 = sub_2973F0();
    uint64_t v55 = sub_6E98(v29, v30, &v56);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v25, v26, "AcousticIDFlow#publishShazam Reached Logic %{public}s", v27, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v45 + 8))(v44, v43);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  }
  uint64_t v31 = *(int *)(v47 + 48);
  uint64_t v32 = (uint64_t)v49;
  uint64_t v33 = v51;
  ((void (*)(char *, char *, uint64_t))v46)(v17, v49, v51);
  id v34 = v48;
  *(void *)&v17[v31] = v48;
  uint64_t v35 = sub_2948C0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v35 - 8) + 56))(v9, 1, 1, v35);
  uint64_t v36 = swift_allocObject();
  swift_weakInit();
  uint64_t v37 = (void *)swift_allocObject();
  uint64_t v38 = v52;
  uint64_t v39 = v53;
  v37[2] = v36;
  v37[3] = v38;
  v37[4] = v39;
  id v40 = v34;
  swift_retain();
  swift_retain();
  sub_16044C((uint64_t)v17, v40, v54, (uint64_t)v9, (uint64_t)sub_1756E8, (uint64_t)v37);

  swift_release();
  sub_23A44((uint64_t)v9, (uint64_t *)&unk_30FA70);
  sub_23A44(v32, &qword_30D030);
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v50 + 8))(v17, v33);
}

uint64_t sub_15F834(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = sub_71D4(&qword_313428);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = &v51[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v10 = sub_298800();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = __chkstk_darwin(v10);
  uint64_t v14 = &v51[-((v13 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v12);
  uint64_t v16 = &v51[-v15];
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v18 = Strong;
    sub_11E58(a1, (uint64_t)v59, (uint64_t *)&unk_30FA80);
    sub_71D4((uint64_t *)&unk_30FA80);
    if (v60)
    {
      v58[2] = *(void *)&v59[0];
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        uint64_t v56 = a3;
        uint64_t v19 = (void *)v58[1];
        if (qword_30C850 != -1) {
          swift_once();
        }
        uint64_t v20 = sub_6E60(v10, (uint64_t)qword_31FC20);
        (*(void (**)(unsigned char *, uint64_t, uint64_t))(v11 + 16))(v14, v20, v10);
        id v21 = v19;
        uint64_t v22 = sub_2987E0();
        os_log_type_t v23 = sub_298DB0();
        int v24 = v23;
        p_attr = &stru_309FF8.attr;
        if (os_log_type_enabled(v22, v23))
        {
          uint64_t v26 = swift_slowAlloc();
          uint64_t v55 = a4;
          uint64_t v27 = v26;
          uint64_t v54 = swift_slowAlloc();
          v58[0] = v54;
          *(_DWORD *)uint64_t v27 = 136315394;
          id v28 = objc_msgSend(v21, "localizedDescription", v27 + 4);
          uint64_t v29 = sub_2989C0();
          int v52 = v24;
          uint64_t v30 = v29;
          uint64_t v53 = v11;
          uint64_t v32 = v31;

          v57[0] = v30;
          v57[1] = v32;
          uint64_t v33 = sub_298B00();
          v57[0] = sub_6E98(v33, v34, v58);
          sub_2992C0();

          swift_bridgeObjectRelease();
          *(_WORD *)(v27 + 12) = 2082;
          uint64_t v35 = sub_2973F0();
          v57[0] = sub_6E98(v35, v36, v58);
          p_attr = (char **)(&stru_309FF8 + 8);
          sub_2992C0();
          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v22, (os_log_type_t)v52, "AcousticIDFlow#publishShazam Error creating output %s %{public}s", (uint8_t *)v27, 0x16u);
          swift_arrayDestroy();
          swift_slowDealloc();
          a4 = v55;
          swift_slowDealloc();

          (*(void (**)(unsigned char *, uint64_t))(v53 + 8))(v14, v10);
        }
        else
        {

          (*(void (**)(unsigned char *, uint64_t))(v11 + 8))(v14, v10);
        }
        uint64_t v46 = sub_2970A0();
        (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v46 - 8) + 56))(v9, 1, 1, v46);
        id v47 = objc_msgSend(v21, p_attr[448]);
        id v48 = (uint64_t *)sub_2989C0();
        uint64_t v50 = v49;

        sub_169634((uint64_t)v9, v48, v50, v56, a4);
        swift_bridgeObjectRelease();
        swift_release();
        sub_23A44((uint64_t)v9, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      sub_11EBC(v59, (uint64_t)v57);
      sub_74A4((void *)(v18 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(v18 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
      uint64_t v44 = swift_allocObject();
      swift_weakInit();
      uint64_t v45 = (void *)swift_allocObject();
      uint64_t v45[2] = v44;
      v45[3] = a3;
      v45[4] = a4;
      swift_retain();
      swift_retain();
      sub_2948D0();
      swift_release();
      swift_release();
      swift_release();
      return sub_7184((uint64_t)v57);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v37 = sub_6E60(v10, (uint64_t)qword_31FC20);
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v11 + 16))(v16, v37, v10);
    uint64_t v38 = sub_2987E0();
    os_log_type_t v39 = sub_298DB0();
    if (os_log_type_enabled(v38, v39))
    {
      id v40 = (uint8_t *)swift_slowAlloc();
      *(void *)&v59[0] = swift_slowAlloc();
      *(_DWORD *)id v40 = 136446210;
      uint64_t v41 = sub_2973F0();
      v57[0] = sub_6E98(v41, v42, (uint64_t *)v59);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v38, v39, "AcousticIDFlow#publishShazam self deallocated prematurely %{public}s", v40, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(unsigned char *, uint64_t))(v11 + 8))(v16, v10);
  }
  return result;
}

uint64_t sub_15FF60(uint64_t a1, uint64_t a2, uint64_t a3, void (*a4)(void), uint64_t a5)
{
  uint64_t v7 = sub_294780();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v36 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_298800();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v15 = (char *)&v36 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v36 - v16;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v19 = Strong;
    uint64_t v42 = v8;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v20 = sub_6E60(v11, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v15, v20, v11);
    id v21 = sub_2987E0();
    os_log_type_t v22 = sub_298DC0();
    if (os_log_type_enabled(v21, v22))
    {
      uint64_t v37 = v11;
      uint64_t v23 = swift_slowAlloc();
      id v40 = a4;
      int v24 = (uint8_t *)v23;
      uint64_t v25 = swift_slowAlloc();
      uint64_t v41 = v7;
      uint64_t v44 = v25;
      uint64_t v39 = a5;
      *(_DWORD *)int v24 = 136446210;
      uint64_t v26 = sub_2973F0();
      uint64_t v38 = v19;
      uint64_t v43 = sub_6E98(v26, v27, &v44);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v21, v22, "AcousticIDFlow#publish dialog successfully generated %{public}s", v24, 0xCu);
      swift_arrayDestroy();
      uint64_t v7 = v41;
      swift_slowDealloc();
      a4 = v40;
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v12 + 8))(v15, v37);
    }
    else
    {

      (*(void (**)(char *, uint64_t))(v12 + 8))(v15, v11);
    }
    sub_294720();
    a4(v10);
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v42 + 8))(v10, v7);
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v28 = sub_6E60(v11, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v17, v28, v11);
    uint64_t v29 = sub_2987E0();
    os_log_type_t v30 = sub_298DB0();
    if (os_log_type_enabled(v29, v30))
    {
      uint64_t v31 = v11;
      uint64_t v32 = (uint8_t *)swift_slowAlloc();
      uint64_t v44 = swift_slowAlloc();
      *(_DWORD *)uint64_t v32 = 136446210;
      uint64_t v33 = sub_2973F0();
      uint64_t v43 = sub_6E98(v33, v34, &v44);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v29, v30, "AcousticIDFlow#publish self deallocated prematurely during publishing %{public}s", v32, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      return (*(uint64_t (**)(char *, uint64_t))(v12 + 8))(v17, v31);
    }
    else
    {

      return (*(uint64_t (**)(char *, uint64_t))(v12 + 8))(v17, v11);
    }
  }
}

uint64_t sub_16044C(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v82 = a5;
  uint64_t v73 = a4;
  uint64_t v89 = a1;
  uint64_t v90 = sub_297A70();
  uint64_t v88 = *(void *)(v90 - 8);
  uint64_t v9 = __chkstk_darwin(v90);
  uint64_t v11 = (char *)&v67 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = v10;
  __chkstk_darwin(v9);
  uint64_t v81 = (char *)&v67 - v12;
  uint64_t v13 = sub_71D4((uint64_t *)&unk_30FA70);
  uint64_t v77 = *(void *)(v13 - 8);
  uint64_t v14 = __chkstk_darwin(v13 - 8);
  uint64_t v87 = (uint64_t)&v67 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v78 = v15;
  __chkstk_darwin(v14);
  uint64_t v79 = (uint64_t)&v67 - v16;
  uint64_t v17 = sub_298800();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v67 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_71D4(&qword_30D030);
  uint64_t v75 = *(void *)(v21 - 8);
  uint64_t v22 = *(void *)(v75 + 64);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v85 = (uint64_t)&v67 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = __chkstk_darwin(v23);
  uint64_t v76 = (char *)&v67 - v25;
  __chkstk_darwin(v24);
  unint64_t v27 = (char *)&v67 - v26;
  uint64_t v28 = sub_2949F0();
  uint64_t v29 = *(void *)(v28 - 8);
  os_log_type_t v30 = *(void (**)(char *, char *, uint64_t))(v29 + 16);
  uint64_t v72 = v28;
  uint64_t v71 = v30;
  uint64_t v70 = v29 + 16;
  ((void (*)(char *, uint64_t))v30)(v27, v89);
  uint64_t v74 = v21;
  uint64_t v31 = *(int *)(v21 + 48);
  uint64_t v86 = v27;
  *(void *)&v27[v31] = a2;
  uint64_t v32 = qword_30C848;
  id v33 = a2;
  if (v32 != -1) {
    swift_once();
  }
  uint64_t v89 = a6;
  uint64_t v34 = sub_6E60(v17, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v18 + 16))(v20, v34, v17);
  uint64_t v35 = sub_2987E0();
  uint64_t v36 = v17;
  os_log_type_t v37 = sub_298DC0();
  BOOL v38 = os_log_type_enabled(v35, v37);
  uint64_t v83 = v11;
  id v84 = v33;
  if (v38)
  {
    uint64_t v69 = a3;
    uint64_t v39 = swift_slowAlloc();
    uint64_t v67 = v18;
    uint64_t v68 = v36;
    id v40 = (uint8_t *)v39;
    uint64_t v93 = swift_slowAlloc();
    *(_DWORD *)id v40 = 136446210;
    uint64_t v41 = sub_2973F0();
    uint64_t v92 = sub_6E98(v41, v42, &v93);
    sub_2992C0();
    uint64_t v11 = v83;
    a3 = v69;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v35, v37, "SiriAudioOutputProvider#buildShazamOutput...  %{public}s", v40, 0xCu);
    swift_arrayDestroy();
    id v33 = v84;
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v67 + 8))(v20, v68);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v36);
  }
  uint64_t v43 = v79;
  sub_11E58(v73, v79, (uint64_t *)&unk_30FA70);
  uint64_t v44 = *(int *)(v74 + 48);
  uint64_t v45 = (uint64_t)v76;
  v71(v76, v86, v72);
  *(void *)(v45 + v44) = v33;
  uint64_t v46 = v88;
  id v47 = *(void (**)(char *, uint64_t, uint64_t))(v88 + 16);
  id v48 = v81;
  uint64_t v49 = a3;
  uint64_t v50 = v90;
  v47(v81, v49, v90);
  sub_11E58(v43, v87, (uint64_t *)&unk_30FA70);
  sub_11E58(v45, v85, &qword_30D030);
  v47(v11, (uint64_t)v48, v50);
  unint64_t v51 = (*(unsigned __int8 *)(v77 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v77 + 80);
  unint64_t v52 = (v78 + *(unsigned __int8 *)(v75 + 80) + v51) & ~(unint64_t)*(unsigned __int8 *)(v75 + 80);
  unint64_t v53 = (v22 + v52 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v54 = (*(unsigned __int8 *)(v46 + 80) + v53 + 8) & ~(unint64_t)*(unsigned __int8 *)(v46 + 80);
  uint64_t v55 = swift_allocObject();
  uint64_t v56 = v89;
  *(void *)(v55 + 16) = v82;
  *(void *)(v55 + 24) = v56;
  sub_60BBC(v43, v55 + v51, (uint64_t *)&unk_30FA70);
  sub_60BBC(v45, v55 + v52, &qword_30D030);
  uint64_t v57 = v91;
  *(void *)(v55 + v53) = v91;
  (*(void (**)(unint64_t, char *, uint64_t))(v46 + 32))(v55 + v54, v48, v50);
  if (*(unsigned char *)(v57 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) == 1)
  {
    uint64_t v58 = swift_allocObject();
    *(void *)(v58 + 16) = sub_174D48;
    *(void *)(v58 + 24) = v55;
    swift_allocObject();
    swift_weakInit();
    swift_retain_n();
    swift_retain_n();
    id v59 = v84;
    swift_retain();
    sub_71D4((uint64_t *)&unk_313920);
    sub_298C30();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    uint64_t v60 = (uint64_t)v83;
    uint64_t v61 = v87;
    uint64_t v62 = v85;
  }
  else
  {
    uint64_t v63 = v89;
    swift_retain_n();
    swift_retain_n();
    id v64 = v84;
    uint64_t v60 = (uint64_t)v83;
    uint64_t v65 = v87;
    uint64_t v62 = v85;
    sub_172F54(0, 0, 0, v82, v63, v87, v85, (uint64_t)v83);
    swift_release();
    swift_release();
    uint64_t v61 = v65;
  }
  sub_23A44(v61, (uint64_t *)&unk_30FA70);
  sub_23A44(v62, &qword_30D030);
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v88 + 8))(v60, v90);
  return sub_23A44((uint64_t)v86, &qword_30D030);
}

uint64_t sub_160C94(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v6[7] = a5;
  v6[8] = a6;
  v6[5] = a3;
  v6[6] = a4;
  v6[3] = a1;
  v6[4] = a2;
  uint64_t v7 = sub_298800();
  v6[9] = v7;
  v6[10] = *(void *)(v7 - 8);
  v6[11] = swift_task_alloc();
  v6[12] = sub_71D4(&qword_30D030);
  v6[13] = swift_task_alloc();
  sub_294420();
  v6[14] = swift_task_alloc();
  uint64_t v8 = sub_294ED0();
  v6[15] = v8;
  v6[16] = *(void *)(v8 - 8);
  v6[17] = swift_task_alloc();
  return _swift_task_switch(sub_160E18, 0, 0);
}

uint64_t sub_160E18()
{
  uint64_t v44 = v0;
  uint64_t v1 = *(void *)(v0 + 104);
  uint64_t v2 = *(void *)(v0 + 96);
  uint64_t v3 = *(void *)(v0 + 56);
  uint64_t v4 = *(void *)(v0 + 64);
  uint64_t v5 = *(void *)(v0 + 48);
  long long v37 = *(_OWORD *)(v0 + 32);
  sub_2943C0();
  uint64_t v6 = *(int *)(v2 + 48);
  uint64_t v7 = sub_2949F0();
  uint64_t v40 = *(void *)(v7 - 8);
  uint64_t v41 = v7;
  BOOL v38 = *(void (**)(uint64_t, uint64_t))(v40 + 16);
  v38(v1, v4);
  uint64_t v39 = v4;
  uint64_t v8 = *(void **)(v4 + v6);
  *(void *)(v1 + v6) = v8;
  uint64_t v9 = swift_task_alloc();
  *(_OWORD *)(v9 + 16) = v37;
  *(void *)(v9 + 32) = v5;
  *(void *)(v9 + 40) = v3;
  *(void *)(v9 + 48) = v1;
  id v10 = v8;
  sub_294E00();
  swift_task_dealloc();
  sub_23A44(v1, &qword_30D030);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v12 = *(void *)(v0 + 80);
  uint64_t v11 = *(void *)(v0 + 88);
  uint64_t v13 = *(void *)(v0 + 72);
  uint64_t v14 = sub_6E60(v13, (uint64_t)qword_31FC08);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v12 + 16))(v11, v14, v13);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  BOOL v17 = os_log_type_enabled(v15, v16);
  uint64_t v19 = *(void *)(v0 + 80);
  uint64_t v18 = *(void *)(v0 + 88);
  uint64_t v20 = *(void *)(v0 + 72);
  if (v17)
  {
    uint64_t v36 = *(void *)(v0 + 88);
    uint64_t v21 = (uint8_t *)swift_slowAlloc();
    uint64_t v43 = swift_slowAlloc();
    *(_DWORD *)uint64_t v21 = 136446210;
    uint64_t v22 = sub_2973F0();
    *(void *)(v0 + 16) = sub_6E98(v22, v23, &v43);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v15, v16, "SiriAudioOutputProvider#buildShazamOutput returning dialog only output. %{public}s", v21, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(uint64_t, uint64_t))(v19 + 8))(v36, v20);
  }
  else
  {

    (*(void (**)(uint64_t, uint64_t))(v19 + 8))(v18, v20);
  }
  uint64_t v24 = *(void *)(v0 + 104);
  uint64_t v25 = *(void *)(v0 + 64);
  sub_294940();
  swift_allocObject();
  *(void *)(v0 + 144) = sub_294930();
  sub_71D4(&qword_3107B0);
  uint64_t v26 = swift_allocObject();
  *(_OWORD *)(v26 + 16) = xmmword_29A8D0;
  uint64_t v27 = *(int *)(v2 + 48);
  ((void (*)(uint64_t, uint64_t, uint64_t))v38)(v24, v25, v41);
  uint64_t v28 = *(void **)(v39 + v6);
  *(void *)(v24 + v27) = v28;
  *(void *)(v26 + 32) = v28;
  uint64_t v43 = v26;
  sub_298B70();
  uint64_t v29 = v43;
  *(void *)(v0 + 152) = v43;
  os_log_type_t v30 = *(void (**)(uint64_t, uint64_t))(v40 + 8);
  id v31 = v28;
  v30(v24, v41);
  unint64_t v42 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:)
                                                          + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(dialog:outputGenerationManifest:));
  uint64_t v32 = (void *)swift_task_alloc();
  *(void *)(v0 + 160) = v32;
  *uint64_t v32 = v0;
  v32[1] = sub_161230;
  uint64_t v33 = *(void *)(v0 + 136);
  uint64_t v34 = *(void *)(v0 + 24);
  return v42(v34, v29, v33);
}

uint64_t sub_161230()
{
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_release();
  return _swift_task_switch(sub_161364, 0, 0);
}

uint64_t sub_161364()
{
  (*(void (**)(void, void))(v0[16] + 8))(v0[17], v0[15]);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v1 = (uint64_t (*)(void))v0[1];
  return v1();
}

uint64_t sub_16140C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  v21[1] = a5;
  uint64_t v8 = sub_71D4(&qword_30D030);
  uint64_t v9 = v8 - 8;
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v21 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_295AF0();
  __chkstk_darwin(v12 - 8);
  uint64_t v13 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v13 - 8);
  sub_11E58(a2, (uint64_t)v21 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t *)&unk_30FA70);
  sub_294E50();
  swift_bridgeObjectRetain();
  sub_294EA0();
  sub_2959C0();
  sub_297B00();
  swift_release();
  sub_294E10();
  uint64_t v15 = *(int *)(v9 + 56);
  uint64_t v16 = sub_2949F0();
  uint64_t v17 = *(void *)(v16 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v11, a6, v16);
  uint64_t v18 = *(void **)(a6 + v15);
  *(void *)&v11[v15] = v18;
  id v19 = [v18 catId];
  sub_2989C0();

  sub_294E30();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v11, v16);
  return sub_294EB0();
}

uint64_t sub_161658(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v5[11] = a4;
  v5[12] = a5;
  v5[9] = a2;
  v5[10] = a3;
  v5[8] = a1;
  uint64_t v6 = sub_298800();
  v5[13] = v6;
  v5[14] = *(void *)(v6 - 8);
  v5[15] = swift_task_alloc();
  v5[16] = sub_71D4(&qword_30D030);
  v5[17] = swift_task_alloc();
  sub_294420();
  v5[18] = swift_task_alloc();
  uint64_t v7 = sub_294ED0();
  v5[19] = v7;
  v5[20] = *(void *)(v7 - 8);
  v5[21] = swift_task_alloc();
  return _swift_task_switch(sub_1617DC, 0, 0);
}

uint64_t sub_1617DC()
{
  uint64_t v46 = v0;
  uint64_t v1 = *(void *)(v0 + 136);
  uint64_t v2 = *(void *)(v0 + 128);
  uint64_t v3 = *(void *)(v0 + 88);
  long long v39 = *(_OWORD *)(v0 + 72);
  sub_2943C0();
  uint64_t v42 = v2;
  uint64_t v4 = *(int *)(v2 + 48);
  uint64_t v5 = sub_2949F0();
  uint64_t v43 = *(void *)(v5 - 8);
  uint64_t v40 = *(void (**)(uint64_t, uint64_t, uint64_t))(v43 + 16);
  v40(v1, v3, v5);
  uint64_t v6 = *(void **)(v3 + v4);
  uint64_t v41 = v4;
  *(void *)(v1 + v4) = v6;
  uint64_t v7 = swift_task_alloc();
  *(_OWORD *)(v7 + 16) = v39;
  *(void *)(v7 + 32) = v1;
  id v8 = v6;
  sub_294E00();
  swift_task_dealloc();
  sub_23A44(v1, &qword_30D030);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v9 = *(void *)(v0 + 112);
  uint64_t v10 = *(void *)(v0 + 120);
  uint64_t v11 = *(void *)(v0 + 104);
  uint64_t v12 = sub_6E60(v11, (uint64_t)qword_31FC08);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v9 + 16))(v10, v12, v11);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  BOOL v15 = os_log_type_enabled(v13, v14);
  uint64_t v17 = *(void *)(v0 + 112);
  uint64_t v16 = *(void *)(v0 + 120);
  uint64_t v18 = *(void *)(v0 + 104);
  if (v15)
  {
    uint64_t v38 = v3;
    id v19 = (uint8_t *)swift_slowAlloc();
    uint64_t v45 = swift_slowAlloc();
    *(_DWORD *)id v19 = 136446210;
    uint64_t v20 = sub_2973F0();
    *(void *)(v0 + 56) = sub_6E98(v20, v21, &v45);
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v13, v14, "SiriAudioOutputProvider#buildTraditionalRFShazamOutput returning old snippet. %{public}s", v19, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v3 = v38;
    swift_slowDealloc();

    (*(void (**)(uint64_t, uint64_t))(v17 + 8))(v16, v18);
  }
  else
  {

    (*(void (**)(uint64_t, uint64_t))(v17 + 8))(v16, v18);
  }
  uint64_t v22 = *(void *)(v0 + 136);
  uint64_t v23 = *(void *)(v0 + 88);
  uint64_t v24 = *(void *)(v0 + 96);
  sub_294940();
  swift_allocObject();
  *(void *)(v0 + 176) = sub_294930();
  uint64_t v25 = sub_297970();
  *(void *)(v0 + 40) = v25;
  *(void *)(v0 + 48) = sub_17569C((unint64_t *)&qword_30FAC0, (void (*)(uint64_t))&type metadata accessor for SiriAudioSnippets);
  uint64_t v26 = sub_12B48((uint64_t *)(v0 + 16));
  uint64_t v27 = sub_297A70();
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v27 - 8) + 16))(v26, v24, v27);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v25 - 8) + 104))(v26, enum case for SiriAudioSnippets.shazam(_:), v25);
  sub_71D4(&qword_3107B0);
  uint64_t v28 = swift_allocObject();
  *(_OWORD *)(v28 + 16) = xmmword_29A8D0;
  uint64_t v29 = *(int *)(v42 + 48);
  v40(v22, v23, v5);
  os_log_type_t v30 = *(void **)(v3 + v41);
  *(void *)(v22 + v29) = v30;
  *(void *)(v28 + 32) = v30;
  uint64_t v45 = v28;
  sub_298B70();
  uint64_t v31 = v45;
  *(void *)(v0 + 184) = v45;
  uint64_t v32 = *(void (**)(uint64_t, uint64_t))(v43 + 8);
  id v33 = v30;
  v32(v22, v5);
  uint64_t v44 = (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t))((char *)&async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(resultModel:dialog:outputGenerationManifest:)
                                                                   + async function pointer to dispatch thunk of ResponseFactory.makeResponseOutput(resultModel:dialog:outputGenerationManifest:));
  uint64_t v34 = (void *)swift_task_alloc();
  *(void *)(v0 + 192) = v34;
  void *v34 = v0;
  v34[1] = sub_161CC0;
  uint64_t v35 = *(void *)(v0 + 168);
  uint64_t v36 = *(void *)(v0 + 64);
  return v44(v36, v0 + 16, v31, v35);
}

uint64_t sub_161CC0()
{
  uint64_t v1 = *v0 + 16;
  swift_task_dealloc();
  swift_release();
  swift_bridgeObjectRelease();
  sub_7184(v1);
  return _swift_task_switch(sub_161E08, 0, 0);
}

uint64_t sub_161E08()
{
  (*(void (**)(void, void))(v0[20] + 8))(v0[21], v0[19]);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v1 = (uint64_t (*)(void))v0[1];
  return v1();
}

uint64_t sub_161EB0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = sub_71D4(&qword_30D030);
  uint64_t v7 = v6 - 8;
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v19 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_295AF0();
  __chkstk_darwin(v10 - 8);
  uint64_t v11 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v11 - 8);
  sub_11E58(a2, (uint64_t)&v19 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0), (uint64_t *)&unk_30FA70);
  sub_294E50();
  sub_2959C0();
  sub_297B00();
  swift_release();
  sub_294E10();
  uint64_t v13 = *(int *)(v7 + 56);
  uint64_t v14 = sub_2949F0();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v9, a4, v14);
  uint64_t v16 = *(void **)(a4 + v13);
  *(void *)&v9[v13] = v16;
  id v17 = [v16 catId];
  sub_2989C0();

  sub_294E30();
  (*(void (**)(char *, uint64_t))(v15 + 8))(v9, v14);
  return sub_294EB0();
}

uint64_t sub_1620DC(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void **)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v6 = swift_allocObject();
  swift_weakInit();
  uint64_t v7 = (void *)swift_allocObject();
  v7[2] = v6;
  v7[3] = a1;
  v7[4] = a2;
  uint64_t v8 = v5[4];
  uint64_t v9 = v5[5];
  uint64_t v10 = v5[6];
  uint64_t v22 = 0;
  memset(v21, 0, sizeof(v21));
  swift_retain();
  swift_retain();
  uint64_t v13 = v9;
  uint64_t v14 = v10;
  strcpy((char *)v15, "NoMatchFound");
  HIBYTE(v15[6]) = 0;
  v15[7] = -5120;
  uint64_t v16 = v8;
  unint64_t v17 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  uint64_t v18 = 0;
  uint64_t v19 = v21;
  uint64_t v20 = 0;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_174920, (uint64_t)v7, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v9, v10, 0x46686374614D6F4ELL, 0xEC000000646E756FLL, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v12);
  swift_bridgeObjectRelease();
  sub_23A44((uint64_t)v21, &qword_30D018);
  swift_release();
  return swift_release();
}

uint64_t sub_16225C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v160 = a1;
  uint64_t v6 = sub_71D4(&qword_313428);
  __chkstk_darwin(v6 - 8);
  uint64_t v157 = (char *)&v138 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v8 - 8);
  uint64_t v156 = (char *)&v138 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v10 - 8);
  BOOL v155 = (char *)&v138 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v12 - 8);
  os_log_type_t v154 = (char *)&v138 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v161 = (void (*)(char *, char *))sub_296130();
  uint64_t v152 = *((void *)v161 - 1);
  __chkstk_darwin(v161);
  uint64_t v151 = (char *)&v138 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v149 = sub_297270();
  uint64_t v148 = *(void *)(v149 - 8);
  __chkstk_darwin(v149);
  uint64_t v146 = (char *)&v138 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v147 = sub_297280();
  uint64_t v145 = *(void *)(v147 - 8);
  __chkstk_darwin(v147);
  uint64_t v143 = (char *)&v138 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v144 = sub_297210();
  uint64_t v142 = *(void *)(v144 - 8);
  __chkstk_darwin(v144);
  uint64_t v18 = (char *)&v138 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v163 = sub_71D4(&qword_30D030);
  uint64_t v19 = __chkstk_darwin(v163);
  id v158 = (char *)&v138 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = __chkstk_darwin(v19);
  id v153 = (char *)&v138 - v22;
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v150 = (char *)&v138 - v24;
  __chkstk_darwin(v23);
  uint64_t v164 = (char *)&v138 - v25;
  uint64_t v26 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v26);
  uint64_t v28 = (uint64_t *)((char *)&v138 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v29 = sub_298800();
  uint64_t v30 = *(void *)(v29 - 8);
  uint64_t v31 = __chkstk_darwin(v29);
  uint64_t v159 = (char *)&v138 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = __chkstk_darwin(v31);
  uint64_t v35 = (char *)&v138 - v34;
  __chkstk_darwin(v33);
  long long v37 = (char *)&v138 - v36;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v140 = a3;
    uint64_t v141 = a4;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v38 = sub_6E60(v29, (uint64_t)qword_31FC20);
    uint64_t v39 = v30;
    uint64_t v40 = *(void (**)(char *, uint64_t, uint64_t))(v30 + 16);
    uint64_t v139 = v38;
    unint64_t v138 = v40;
    ((void (*)(char *))v40)(v35);
    uint64_t v41 = sub_2987E0();
    os_log_type_t v42 = sub_298DC0();
    if (os_log_type_enabled(v41, v42))
    {
      uint64_t v43 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v43 = 0;
      _os_log_impl(&dword_0, v41, v42, "AcousticIDFlow#noMatchFoundDialogAndViewNonRF", v43, 2u);
      uint64_t v39 = v30;
      swift_slowDealloc();
    }

    uint64_t v46 = *(char **)(v39 + 8);
    uint64_t v45 = v39 + 8;
    uint64_t v44 = v46;
    ((void (*)(char *, uint64_t))v46)(v35, v29);
    sub_11E58((uint64_t)v160, (uint64_t)v28, (uint64_t *)&unk_30FA30);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      uint64_t v164 = v44;
      uint64_t v168 = *v28;
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        id v47 = v167;
        id v48 = [v167 localizedDescription];
        uint64_t v49 = sub_2989C0();
        uint64_t v51 = v50;

        v166[0] = v49;
        v166[1] = v51;
        uint64_t v52 = sub_298B00();
        unint64_t v54 = v53;
        uint64_t v55 = v159;
        v138(v159, v139, v29);
        swift_bridgeObjectRetain();
        uint64_t v56 = sub_2987E0();
        os_log_type_t v57 = sub_298DB0();
        if (os_log_type_enabled(v56, v57))
        {
          uint64_t v58 = (uint8_t *)swift_slowAlloc();
          uint64_t v59 = swift_slowAlloc();
          uint64_t v163 = v45;
          v166[0] = v59;
          *(_DWORD *)uint64_t v58 = 136315138;
          swift_bridgeObjectRetain();
          uint64_t v165 = sub_6E98(v52, v54, v166);
          sub_2992C0();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_0, v56, v57, "AcousticIDFlow#noMatchFoundDialogAndViewNonRF Error creating dialog %s, issuing error dialog", v58, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          ((void (*)(char *, uint64_t))v164)(v159, v29);
        }
        else
        {

          swift_bridgeObjectRelease_n();
          ((void (*)(char *, uint64_t))v164)(v55, v29);
        }
        uint64_t v105 = v141;
        uint64_t v106 = v140;
        uint64_t v107 = (uint64_t)v157;
        uint64_t v108 = sub_2970A0();
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v108 - 8) + 56))(v107, 1, 1, v108);
        id v109 = [v47 localizedDescription];
        uint64_t v110 = (uint64_t *)sub_2989C0();
        uint64_t v112 = v111;

        sub_169634(v107, v110, v112, v106, v105);
        swift_release();

        swift_bridgeObjectRelease();
        sub_23A44(v107, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      uint64_t v65 = *(int *)(v163 + 48);
      uint64_t v157 = (char *)sub_2949F0();
      uint64_t v159 = (char *)*((void *)v157 - 1);
      uint64_t v66 = v164;
      (*((void (**)(char *, uint64_t *, char *))v159 + 4))(v164, v28, v157);
      uint64_t v67 = *(void **)((char *)v28 + v65);
      *(void *)&v66[v65] = v67;
      uint64_t v68 = v142;
      uint64_t v69 = v144;
      (*(void (**)(char *, void, uint64_t))(v142 + 104))(v18, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v144);
      uint64_t v70 = v145;
      uint64_t v71 = v143;
      uint64_t v72 = v147;
      (*(void (**)(char *, void, uint64_t))(v145 + 104))(v143, enum case for AdditionalMetricsDescription.SourceFunction.noMatch(_:), v147);
      uint64_t v73 = v148;
      uint64_t v74 = v146;
      uint64_t v75 = v149;
      (*(void (**)(char *, void, uint64_t))(v148 + 104))(v146, enum case for AdditionalMetricsDescription.StatusReason.noMatchFound(_:), v149);
      id v160 = v67;
      uint64_t v139 = sub_297220();
      unint64_t v138 = v76;
      (*(void (**)(char *, uint64_t))(v73 + 8))(v74, v75);
      (*(void (**)(char *, uint64_t))(v70 + 8))(v71, v72);
      (*(void (**)(char *, uint64_t))(v68 + 8))(v18, v69);
      uint64_t v148 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 24);
      uint64_t v149 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 32);
      uint64_t v147 = (uint64_t)sub_74A4((void *)(Strong+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v148);
      uint64_t v77 = v152;
      uint64_t v78 = v151;
      (*(void (**)(char *, void, void (*)(char *, char *)))(v152 + 104))(v151, enum case for TypeOfIntent.acousticID(_:), v161);
      uint64_t v79 = enum case for ActivityType.failed(_:);
      uint64_t v80 = sub_2944C0();
      uint64_t v81 = *(void *)(v80 - 8);
      uint64_t v82 = v154;
      (*(void (**)(char *, uint64_t, uint64_t))(v81 + 104))(v154, v79, v80);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v81 + 56))(v82, 0, 1, v80);
      uint64_t v83 = v159;
      id v84 = v155;
      uint64_t v85 = v157;
      (*((void (**)(char *, uint64_t, uint64_t, char *))v159 + 7))(v155, 1, 1, v157);
      uint64_t v86 = enum case for SiriKitReliabilityCodes.noReadableItems(_:);
      uint64_t v87 = sub_294170();
      uint64_t v88 = *(void *)(v87 - 8);
      uint64_t v89 = (uint64_t)v156;
      uint64_t v90 = v86;
      id v91 = v160;
      (*(void (**)(char *, uint64_t, uint64_t))(v88 + 104))(v156, v90, v87);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v88 + 56))(v89, 0, 1, v87);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v89, &qword_30D5B8);
      uint64_t v92 = (uint64_t)v84;
      uint64_t v93 = v83;
      sub_23A44(v92, (uint64_t *)&unk_30FA50);
      uint64_t v94 = (uint64_t)v82;
      uint64_t v95 = v85;
      sub_23A44(v94, &qword_30D5C0);
      (*(void (**)(char *, void *))(v77 + 8))(v78, v161);
      uint64_t v96 = *(int *)(v163 + 48);
      uint64_t v97 = (void (*)(char *, char *, char *))*((void *)v83 + 2);
      uint64_t v98 = v150;
      v97(v150, v164, v85);
      *(void *)&v98[v96] = v91;
      uint64_t v99 = sub_2949C0();
      uint64_t v100 = (void (*)(char *, char *))*((void *)v93 + 1);
      v100(v98, v95);
      uint64_t v101 = *(void *)(v99 + 16);
      if (v101)
      {
        uint64_t v102 = (uint64_t *)(v99 + 40);
        while (1)
        {
          uint64_t v103 = *v102;
          uint64_t v104 = HIBYTE(*v102) & 0xF;
          if ((*v102 & 0x2000000000000000) == 0) {
            uint64_t v104 = *(v102 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v104) {
            break;
          }
          v102 += 2;
          if (!--v101) {
            goto LABEL_21;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_21:
        uint64_t v103 = 0;
      }
      swift_bridgeObjectRelease();
      uint64_t v113 = *(int *)(v163 + 48);
      uint64_t v114 = v153;
      v97(v153, v164, v95);
      *(void *)&v114[v113] = v91;
      uint64_t v115 = sub_2949D0();
      uint64_t v161 = v100;
      v100(v114, v95);
      uint64_t v116 = *(void *)(v115 + 16);
      if (v116)
      {
        uint64_t v117 = (uint64_t *)(v115 + 40);
        while (1)
        {
          uint64_t v118 = *v117;
          uint64_t v119 = HIBYTE(*v117) & 0xF;
          if ((*v117 & 0x2000000000000000) == 0) {
            uint64_t v119 = *(v117 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v119) {
            break;
          }
          v117 += 2;
          if (!--v116) {
            goto LABEL_31;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_31:
        uint64_t v118 = 0;
      }
      swift_bridgeObjectRelease();
      id v120 = [objc_allocWithZone((Class)SADialogText) init];
      if (v103)
      {
        NSString v121 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v121 = 0;
      }
      [v120 setText:v121];

      if (v118)
      {
        NSString v122 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v122 = 0;
      }
      [v120 setSpeakableTextOverride:v122];

      id v123 = [objc_allocWithZone((Class)SADialog) init];
      [v123 setCanUseServerTTS:1];
      [v123 setPrintedOnly:0];
      [v123 setSpokenOnly:1];
      id v124 = v120;
      [v123 setCaption:v124];
      [v123 setContent:v124];

      uint64_t v125 = *(int *)(v163 + 48);
      NSString v126 = v158;
      v97(v158, v164, v95);
      id v127 = v160;

      *(void *)&v126[v125] = v127;
      sub_294990();
      NSString v128 = sub_2989B0();
      swift_bridgeObjectRelease();
      v161(v126, v95);
      [v123 setDialogIdentifier:v128];

      uint64_t v129 = swift_allocObject();
      *(void *)(v129 + 16) = _swiftEmptyArrayStorage;
      uint64_t v130 = (void *)swift_allocObject();
      uint64_t v131 = Strong;
      v130[2] = Strong;
      v130[3] = v123;
      uint64_t v132 = v140;
      v130[4] = v129;
      v130[5] = v132;
      uint64_t v133 = v141;
      v130[6] = v141;
      if (*(unsigned char *)(v131 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) == 1)
      {
        uint64_t v134 = swift_allocObject();
        *(void *)(v134 + 16) = sub_174930;
        *(void *)(v134 + 24) = v130;
        swift_allocObject();
        swift_weakInit();
        swift_retain_n();
        id v135 = v123;
        swift_retain_n();
        swift_retain_n();
        id v136 = v135;
        swift_retain();
        sub_71D4((uint64_t *)&unk_313920);
        sub_298C30();
        swift_release();
        swift_release();
      }
      else
      {
        swift_retain_n();
        id v137 = v123;
        swift_retain_n();
        swift_retain_n();
        sub_1635C4(0, 0, 0, v131, (uint64_t)v137, v129, v132, v133);
      }
      swift_release();
      swift_release();

      swift_release();
      swift_release();
      swift_release();

      sub_23A44((uint64_t)v164, &qword_30D030);
      return swift_release();
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v60 = sub_6E60(v29, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v30 + 16))(v37, v60, v29);
    uint64_t v61 = sub_2987E0();
    os_log_type_t v62 = sub_298DB0();
    if (os_log_type_enabled(v61, v62))
    {
      uint64_t v63 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v63 = 0;
      _os_log_impl(&dword_0, v61, v62, "AcousticIDFlow#noMatchFoundDialogAndViewNonRF self deallocated prematurely", v63, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v30 + 8))(v37, v29);
  }
  return result;
}

uint64_t sub_1635C4(uint64_t a1, uint64_t a2, char a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v70 = a7;
  uint64_t v71 = a8;
  uint64_t v69 = a4;
  uint64_t v13 = sub_71D4(&qword_313428);
  __chkstk_darwin(v13 - 8);
  uint64_t v68 = (char *)&v64 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v64 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v19 - 8);
  uint64_t v21 = (char *)&v64 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_2951C0();
  uint64_t v66 = *(void *)(v22 - 8);
  uint64_t v67 = v22;
  __chkstk_darwin(v22);
  uint64_t v65 = (char *)&v64 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_313550);
  if (a3)
  {
    uint64_t v75 = a1;
    swift_errorRetain();
    sub_71D4((uint64_t *)&unk_3121A0);
    sub_1983C(0, &qword_3107A0);
    if (swift_dynamicCast())
    {
      uint64_t v29 = (void *)v76[1];
      uint64_t v30 = v16;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v31 = sub_6E60(v15, (uint64_t)qword_31FC20);
      (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v18, v31, v15);
      id v32 = v29;
      uint64_t v33 = sub_2987E0();
      os_log_type_t v34 = sub_298DB0();
      p_attr = &stru_309FF8.attr;
      if (os_log_type_enabled(v33, v34))
      {
        uint64_t v67 = v30;
        uint64_t v36 = (uint8_t *)swift_slowAlloc();
        uint64_t v66 = swift_slowAlloc();
        v76[0] = v66;
        *(_DWORD *)uint64_t v36 = 136315138;
        uint64_t v65 = (char *)(v36 + 4);
        id v37 = [v32 localizedDescription];
        uint64_t v38 = sub_2989C0();
        uint64_t v40 = v39;

        *(void *)&long long v72 = v38;
        *((void *)&v72 + 1) = v40;
        uint64_t v41 = sub_298B00();
        *(void *)&long long v72 = sub_6E98(v41, v42, v76);
        p_attr = (char **)(&stru_309FF8 + 8);
        sub_2992C0();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v33, v34, "AcousticIDFlow#noMatchFoundDialogAndViewNonRF Error grabbing session ID %s, issuing error dialog", v36, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v67 + 8))(v18, v15);
      }
      else
      {

        (*(void (**)(char *, uint64_t))(v30 + 8))(v18, v15);
      }
      uint64_t v43 = sub_2970A0();
      uint64_t v44 = (uint64_t)v68;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v43 - 8) + 56))(v68, 1, 1, v43);
      id v45 = objc_msgSend(v32, p_attr[448]);
      uint64_t v46 = (uint64_t *)sub_2989C0();
      uint64_t v48 = v47;

      sub_169634(v44, v46, v48, v70, v71);
      swift_bridgeObjectRelease();
      sub_23A44(v44, &qword_313428);
      return swift_errorRelease();
    }
    else
    {
      uint64_t result = sub_2995C0();
      __break(1u);
    }
  }
  else
  {
    uint64_t v24 = (void *)(a6 + 16);
    id v25 = sub_1738FC();
    if (v25)
    {
      uint64_t v26 = v25;
      [v25 setDialog:a5];
      id v27 = v26;
      if (a2) {
        NSString v28 = sub_2989B0();
      }
      else {
        NSString v28 = 0;
      }
      [v26 setCorrespondingSessionID:v28];

      id v50 = v26;
      NSString v51 = sub_2989B0();
      [v50 setViewId:v51];

      swift_beginAccess();
      id v52 = v50;
      sub_298B30();
      if (*(void *)((char *)&dword_10 + (*v24 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                      + (*v24 & 0xFFFFFFFFFFFFFF8)) >> 1)
        sub_298B80();
      sub_298BB0();
      sub_298B70();
      swift_endAccess();
    }
    id v53 = [objc_allocWithZone((Class)SAUIAddViews) init];
    swift_beginAccess();
    sub_1983C(0, (unint64_t *)&qword_313910);
    swift_bridgeObjectRetain();
    Class isa = sub_298B40().super.isa;
    swift_bridgeObjectRelease();
    [v53 setViews:isa];

    uint64_t v55 = sub_2948C0();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v55 - 8) + 56))(v21, 1, 1, v55);
    uint64_t v74 = 0;
    long long v72 = 0u;
    long long v73 = 0u;
    uint64_t v56 = v65;
    sub_2946E0();
    sub_23A44((uint64_t)&v72, &qword_30D5D8);
    sub_23A44((uint64_t)v21, (uint64_t *)&unk_30FA70);
    sub_74A4((void *)(v69 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(v69 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
    uint64_t v57 = v67;
    *((void *)&v73 + 1) = v67;
    uint64_t v74 = &protocol witness table for AceOutput;
    uint64_t v58 = sub_12B48((uint64_t *)&v72);
    uint64_t v59 = v66;
    (*(void (**)(uint64_t *, char *, uint64_t))(v66 + 16))(v58, v56, v57);
    uint64_t v60 = swift_allocObject();
    swift_weakInit();
    uint64_t v61 = (void *)swift_allocObject();
    uint64_t v62 = v70;
    uint64_t v63 = v71;
    void v61[2] = v60;
    v61[3] = v62;
    v61[4] = v63;
    swift_retain();
    swift_retain();
    sub_2948D0();

    swift_release();
    (*(void (**)(char *, uint64_t))(v59 + 8))(v56, v57);
    swift_release();
    return sub_7184((uint64_t)&v72);
  }
  return result;
}

uint64_t sub_163DFC(uint64_t a1, uint64_t a2, uint64_t a3, void (*a4)(char *), uint64_t a5, const char *a6, int a7, const char *a8)
{
  int v38 = a7;
  uint64_t v36 = a6;
  uint64_t v40 = a4;
  uint64_t v10 = sub_294780();
  uint64_t v39 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v35 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v37 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v37);
  uint64_t v14 = (char *)&v35 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v35 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  uint64_t v21 = (char *)&v35 - v20;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v23 = Strong;
    uint64_t v35 = a5;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v24 = sub_6E60(v15, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v19, v24, v15);
    id v25 = sub_2987E0();
    os_log_type_t v26 = sub_298DC0();
    if (os_log_type_enabled(v25, v26))
    {
      id v27 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v27 = 0;
      _os_log_impl(&dword_0, v25, v26, v36, v27, 2u);
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v16 + 8))(v19, v15);
    swift_storeEnumTagMultiPayload();
    uint64_t v28 = v23 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
    swift_beginAccess();
    sub_1743F0((uint64_t)v14, v28);
    swift_endAccess();
    sub_294720();
    v40(v12);
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v39 + 8))(v12, v10);
  }
  else
  {
    uint64_t v30 = a8;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v31 = sub_6E60(v15, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v16 + 16))(v21, v31, v15);
    id v32 = sub_2987E0();
    os_log_type_t v33 = sub_298DB0();
    if (os_log_type_enabled(v32, v33))
    {
      os_log_type_t v34 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)os_log_type_t v34 = 0;
      _os_log_impl(&dword_0, v32, v33, v30, v34, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v21, v15);
  }
}

uint64_t sub_164234(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_298800();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v25 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_6E60(v6, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v10, v6);
  uint64_t v11 = sub_2987E0();
  os_log_type_t v12 = sub_298DC0();
  if (os_log_type_enabled(v11, v12))
  {
    uint64_t v13 = swift_slowAlloc();
    uint64_t v27 = a2;
    uint64_t v14 = (uint8_t *)v13;
    uint64_t v15 = swift_slowAlloc();
    uint64_t v25 = v3;
    *(void *)&v29[0] = v15;
    *(_DWORD *)uint64_t v14 = 136446210;
    uint64_t v26 = a1;
    uint64_t v16 = sub_2973F0();
    uint64_t v28 = sub_6E98(v16, v17, (uint64_t *)v29);
    a1 = v26;
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v11, v12, "AcousticIDFlow#noMatchFoundDialogAndViewWithRF... %{public}s", v14, 0xCu);
    swift_arrayDestroy();
    uint64_t v3 = v25;
    swift_slowDealloc();
    a2 = v27;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  uint64_t v18 = *(void *)(v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v19 = swift_allocObject();
  swift_weakInit();
  uint64_t v20 = (void *)swift_allocObject();
  _OWORD v20[2] = v19;
  v20[3] = a1;
  _DWORD v20[4] = a2;
  uint64_t v21 = *(void *)(v18 + 40);
  uint64_t v22 = *(void *)(v18 + 48);
  uint64_t v30 = 0;
  memset(v29, 0, sizeof(v29));
  swift_retain();
  swift_retain();
  unint64_t v23 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  __chkstk_darwin(v23);
  *(&v25 - 10) = v21;
  *(&v25 - 9) = v22;
  strcpy((char *)&v25 - 64, "NoMatchFound");
  *((unsigned char *)&v25 - 51) = 0;
  *((_WORD *)&v25 - 25) = -5120;
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_1748B8, (uint64_t)v20, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v21, v22, 0x46686374614D6F4ELL, 0xEC000000646E756FLL, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v25 - 12));
  swift_bridgeObjectRelease();
  sub_23A44((uint64_t)v29, &qword_30D018);
  swift_release();
  return swift_release();
}

uint64_t sub_1645E4(uint64_t a1, uint64_t a2, uint64_t a3, const char *a4, unsigned int *a5, int a6, unsigned int *a7, unsigned int *a8, unsigned int *a9, unsigned int *a10, const char *a11)
{
  uint64_t v133 = a8;
  uint64_t v132 = a7;
  LODWORD(v128) = a6;
  id v127 = a5;
  uint64_t v145 = a3;
  uint64_t v146 = a4;
  uint64_t v140 = a1;
  uint64_t v11 = sub_71D4(&qword_313428);
  __chkstk_darwin(v11 - 8);
  uint64_t v139 = (char *)&v111 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v13 - 8);
  unint64_t v138 = (char *)&v111 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v15 - 8);
  id v137 = (char *)&v111 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v17 - 8);
  id v136 = (char *)&v111 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v144 = sub_296130();
  uint64_t v135 = *(void *)(v144 - 8);
  __chkstk_darwin(v144);
  uint64_t v134 = (char *)&v111 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v126 = sub_297270();
  uint64_t v125 = *(void *)(v126 - 8);
  __chkstk_darwin(v126);
  id v123 = (char *)&v111 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = sub_297280();
  uint64_t v122 = *(void *)(v124 - 8);
  __chkstk_darwin(v124);
  id v120 = (char *)&v111 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v121 = sub_297210();
  uint64_t v119 = *(void *)(v121 - 8);
  __chkstk_darwin(v121);
  uint64_t v118 = (char *)&v111 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v117 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v117);
  uint64_t v24 = (char *)&v111 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_297920();
  uint64_t v116 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  uint64_t v27 = (char *)&v111 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v131 = sub_297A70();
  uint64_t v130 = *(void *)(v131 - 8);
  __chkstk_darwin(v131);
  uint64_t v143 = (uint64_t)&v111 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v141 = sub_71D4(&qword_30D030);
  uint64_t v29 = __chkstk_darwin(v141);
  uint64_t v129 = (char *)&v111 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v29);
  uint64_t v142 = (char *)&v111 - v31;
  uint64_t v32 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v32);
  os_log_type_t v34 = (uint64_t *)((char *)&v111 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v35 = sub_298800();
  uint64_t v36 = *(void *)(v35 - 8);
  uint64_t v37 = __chkstk_darwin(v35);
  uint64_t v39 = (char *)&v111 - ((v38 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v37);
  uint64_t v41 = (char *)&v111 - v40;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v43 = Strong;
    sub_11E58(v140, (uint64_t)v34, (uint64_t *)&unk_30FA30);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      uint64_t v149 = *v34;
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        uint64_t v44 = (void *)v148[1];
        if (qword_30C850 != -1) {
          swift_once();
        }
        uint64_t v45 = sub_6E60(v35, (uint64_t)qword_31FC20);
        (*(void (**)(char *, uint64_t, uint64_t))(v36 + 16))(v39, v45, v35);
        id v46 = v44;
        uint64_t v47 = sub_2987E0();
        os_log_type_t v48 = sub_298DB0();
        p_attr = &stru_309FF8.attr;
        if (os_log_type_enabled(v47, v48))
        {
          uint64_t v50 = swift_slowAlloc();
          uint64_t v51 = swift_slowAlloc();
          uint64_t v144 = v36;
          v148[0] = v51;
          *(_DWORD *)uint64_t v50 = 136315394;
          id v52 = [v46 localizedDescription];
          uint64_t v115 = v43;
          id v53 = v52;
          uint64_t v54 = sub_2989C0();
          uint64_t v143 = v35;
          uint64_t v56 = v55;

          v147[0] = v54;
          v147[1] = v56;
          uint64_t v57 = sub_298B00();
          v147[0] = sub_6E98(v57, v58, v148);
          sub_2992C0();

          swift_bridgeObjectRelease();
          *(_WORD *)(v50 + 12) = 2082;
          uint64_t v59 = sub_2973F0();
          v147[0] = sub_6E98(v59, v60, v148);
          p_attr = (char **)(&stru_309FF8 + 8);
          sub_2992C0();
          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v47, v48, "AcousticIDFlow#listeningDialogAndViewWithRF Error creating dialog %s %{public}s", (uint8_t *)v50, 0x16u);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*(void (**)(char *, uint64_t))(v144 + 8))(v39, v143);
        }
        else
        {

          (*(void (**)(char *, uint64_t))(v36 + 8))(v39, v35);
        }
        uint64_t v104 = v145;
        uint64_t v103 = v146;
        uint64_t v105 = (uint64_t)v139;
        uint64_t v106 = sub_2970A0();
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v106 - 8) + 56))(v105, 1, 1, v106);
        id v107 = objc_msgSend(v46, p_attr[448]);
        uint64_t v108 = (uint64_t *)sub_2989C0();
        uint64_t v110 = v109;

        sub_169634(v105, v108, v110, v104, (uint64_t)v103);
        swift_release();
        swift_bridgeObjectRelease();
        sub_23A44(v105, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      uint64_t v114 = a10;
      uint64_t v113 = a9;
      uint64_t v68 = *(int *)(v141 + 48);
      uint64_t v140 = sub_2949F0();
      uint64_t v112 = *(void *)(v140 - 8);
      uint64_t v69 = v142;
      (*(void (**)(char *, uint64_t *, uint64_t))(v112 + 32))(v142, v34, v140);
      uint64_t v70 = *(void **)((char *)v34 + v68);
      *(void *)&v69[v68] = v70;
      (*(void (**)(char *, void, uint64_t))(v116 + 104))(v27, *v127, v25);
      uint64_t v139 = v70;
      sub_297A60();
      swift_storeEnumTagMultiPayload();
      uint64_t v71 = v43 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      uint64_t v115 = v43;
      swift_beginAccess();
      sub_1743F0((uint64_t)v24, v71);
      swift_endAccess();
      uint64_t v72 = v119;
      long long v73 = v118;
      uint64_t v74 = v121;
      (*(void (**)(char *, void, uint64_t))(v119 + 104))(v118, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v121);
      uint64_t v75 = v122;
      uint64_t v76 = v120;
      uint64_t v77 = v124;
      (*(void (**)(char *, void, uint64_t))(v122 + 104))(v120, *v132, v124);
      uint64_t v78 = v125;
      uint64_t v79 = v123;
      uint64_t v80 = v126;
      (*(void (**)(char *, void, uint64_t))(v125 + 104))(v123, *v133, v126);
      uint64_t v133 = (unsigned int *)sub_297220();
      uint64_t v132 = v81;
      (*(void (**)(char *, uint64_t))(v78 + 8))(v79, v80);
      (*(void (**)(char *, uint64_t))(v75 + 8))(v76, v77);
      (*(void (**)(char *, uint64_t))(v72 + 8))(v73, v74);
      id v127 = *(unsigned int **)(v43
                              + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                              + 24);
      uint64_t v128 = *(void *)(v43 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v43 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), (uint64_t)v127);
      uint64_t v82 = v135;
      uint64_t v83 = v134;
      (*(void (**)(char *, void, uint64_t))(v135 + 104))(v134, enum case for TypeOfIntent.acousticID(_:), v144);
      uint64_t v84 = *v113;
      uint64_t v85 = sub_2944C0();
      uint64_t v86 = *(void *)(v85 - 8);
      uint64_t v87 = (uint64_t)v136;
      (*(void (**)(char *, uint64_t, uint64_t))(v86 + 104))(v136, v84, v85);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v86 + 56))(v87, 0, 1, v85);
      uint64_t v88 = v112;
      uint64_t v89 = (uint64_t)v137;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v112 + 56))(v137, 1, 1, v140);
      uint64_t v90 = *v114;
      uint64_t v91 = sub_294170();
      uint64_t v92 = *(void *)(v91 - 8);
      uint64_t v93 = (uint64_t)v138;
      (*(void (**)(char *, uint64_t, uint64_t))(v92 + 104))(v138, v90, v91);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v92 + 56))(v93, 0, 1, v91);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v93, &qword_30D5B8);
      sub_23A44(v89, (uint64_t *)&unk_30FA50);
      sub_23A44(v87, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v82 + 8))(v83, v144);
      uint64_t v94 = (uint64_t)v142;
      uint64_t v95 = *(int *)(v141 + 48);
      uint64_t v96 = v88;
      uint64_t v97 = *(void (**)(char *, char *, uint64_t))(v88 + 16);
      uint64_t v98 = (uint64_t)v129;
      uint64_t v99 = v140;
      v97(v129, v142, v140);
      uint64_t v100 = v139;
      *(void *)(v98 + v95) = v139;
      uint64_t v101 = v143;
      uint64_t v102 = v100;
      sub_15F340(v143, v98, v100, v145, (uint64_t)v146);
      swift_release();

      (*(void (**)(uint64_t, uint64_t))(v130 + 8))(v101, v131);
      sub_23A44(v94, &qword_30D030);
      return (*(uint64_t (**)(uint64_t, uint64_t))(v96 + 8))(v98, v99);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v61 = sub_6E60(v35, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v36 + 16))(v41, v61, v35);
    uint64_t v62 = sub_2987E0();
    os_log_type_t v63 = sub_298DB0();
    if (os_log_type_enabled(v62, v63))
    {
      uint64_t v146 = a11;
      uint64_t v64 = (uint8_t *)swift_slowAlloc();
      v147[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v64 = 136446210;
      uint64_t v65 = sub_2973F0();
      uint64_t v149 = sub_6E98(v65, v66, v147);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v62, v63, v146, v64, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v36 + 8))(v41, v35);
  }
  return result;
}

uint64_t sub_1656DC(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  unint64_t v8 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  unint64_t v32 = v8;
  uint64_t v9 = a1[5];
  if (!v9)
  {
    sub_23846C(0x656C746974, 0xE500000000000000, &v29);
    sub_23A44((uint64_t)&v29, &qword_30D040);
    uint64_t v13 = a1[9];
    if (v13) {
      goto LABEL_3;
    }
LABEL_5:
    sub_23846C(0x747369747261, 0xE600000000000000, &v29);
    sub_23A44((uint64_t)&v29, &qword_30D040);
    unint64_t v17 = v32;
    goto LABEL_6;
  }
  unint64_t v10 = v8;
  uint64_t v11 = a1[4];
  *((void *)&v30 + 1) = &type metadata for String;
  *(void *)&long long v29 = v11;
  *((void *)&v29 + 1) = v9;
  sub_26608(&v29, v28);
  swift_bridgeObjectRetain();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v27 = v10;
  sub_482F0(v28, 0x656C746974, 0xE500000000000000, isUniquelyReferenced_nonNull_native);
  unint64_t v32 = v10;
  swift_bridgeObjectRelease();
  uint64_t v13 = a1[9];
  if (!v13) {
    goto LABEL_5;
  }
LABEL_3:
  uint64_t v14 = a1[8];
  *((void *)&v30 + 1) = &type metadata for String;
  *(void *)&long long v29 = v14;
  *((void *)&v29 + 1) = v13;
  sub_26608(&v29, v28);
  swift_bridgeObjectRetain();
  unint64_t v15 = v32;
  char v16 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v27 = v15;
  sub_482F0(v28, 0x747369747261, 0xE600000000000000, v16);
  unint64_t v17 = v15;
  swift_bridgeObjectRelease();
LABEL_6:
  uint64_t v18 = *(void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v19 = swift_allocObject();
  swift_weakInit();
  uint64_t v20 = (void *)swift_allocObject();
  uint64_t v26 = (uint64_t)&v26;
  _OWORD v20[2] = v19;
  v20[3] = a1;
  _DWORD v20[4] = a2;
  v20[5] = a3;
  uint64_t v21 = *(void *)(v18 + 40);
  uint64_t v22 = *(void *)(v18 + 48);
  uint64_t v31 = 0;
  long long v29 = 0u;
  long long v30 = 0u;
  __chkstk_darwin(v20);
  long long v25[2] = v21;
  v25[3] = v22;
  v25[4] = 0x6673736563637553;
  v25[5] = 0xEF686374614D6C75;
  v25[6] = v23;
  v25[7] = v17;
  v25[8] = 0;
  v25[9] = &v29;
  v25[10] = 0;
  swift_retain();
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_174670, (uint64_t)v20, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v21, v22, 0x6673736563637553, 0xEF686374614D6C75, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)v25);
  sub_23A44((uint64_t)&v29, &qword_30D018);
  swift_bridgeObjectRelease();
  swift_release();
  return swift_release();
}

uint64_t sub_1659E8(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  id v168 = a1;
  uint64_t v8 = sub_71D4(&qword_313428);
  __chkstk_darwin(v8 - 8);
  uint64_t v164 = (char *)v143 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v10 - 8);
  uint64_t v163 = (char *)v143 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v12 - 8);
  uint64_t v162 = (char *)v143 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v14 - 8);
  uint64_t v161 = (char *)v143 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v169 = (void (*)(char *, char *))sub_296130();
  uint64_t v160 = *((void *)v169 - 1);
  __chkstk_darwin(v169);
  uint64_t v159 = (char *)v143 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v156 = sub_297270();
  uint64_t v155 = *(void *)(v156 - 8);
  __chkstk_darwin(v156);
  id v153 = (char *)v143 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v154 = sub_297280();
  uint64_t v152 = *(void *)(v154 - 8);
  __chkstk_darwin(v154);
  uint64_t v150 = (char *)v143 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v151 = sub_297210();
  uint64_t v149 = *(void *)(v151 - 8);
  __chkstk_darwin(v151);
  uint64_t v148 = (char *)v143 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v20 - 8);
  uint64_t v22 = (char *)v143 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v171 = sub_71D4(&qword_30D030);
  uint64_t v23 = __chkstk_darwin(v171);
  uint64_t v165 = (char *)v143 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = __chkstk_darwin(v23);
  id v158 = (char *)v143 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v157 = (char *)v143 - v28;
  __chkstk_darwin(v27);
  id v172 = (void *)((char *)v143 - v29);
  uint64_t v167 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v167);
  uint64_t v31 = (void *)((char *)v143 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v32 = sub_298800();
  uint64_t v33 = *(void *)(v32 - 8);
  uint64_t v34 = __chkstk_darwin(v32);
  uint64_t v166 = (void (**)(uint64_t, uint64_t *, char *))((char *)v143 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v36 = __chkstk_darwin(v34);
  uint64_t v38 = (char *)v143 - v37;
  __chkstk_darwin(v36);
  uint64_t v40 = (char *)v143 - v39;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v145 = v22;
    uint64_t v146 = a4;
    uint64_t v147 = a5;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v41 = sub_6E60(v32, (uint64_t)qword_31FC20);
    uint64_t v42 = v33;
    uint64_t v144 = *(void (**)(char *, uint64_t, uint64_t))(v33 + 16);
    v144(v38, v41, v32);
    uint64_t v43 = sub_2987E0();
    os_log_type_t v44 = sub_298DC0();
    if (os_log_type_enabled(v43, v44))
    {
      uint64_t v45 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v45 = 0;
      _os_log_impl(&dword_0, v43, v44, "AcousticIDFlow#successfulMatchDialogAndViewNonRF", v45, 2u);
      uint64_t v42 = v33;
      swift_slowDealloc();
    }

    os_log_type_t v48 = *(void (**)(void (**)(uint64_t, uint64_t *, char *), uint64_t))(v42 + 8);
    uint64_t v46 = v42 + 8;
    uint64_t v47 = v48;
    v48((void (**)(uint64_t, uint64_t *, char *))v38, v32);
    sub_11E58((uint64_t)v168, (uint64_t)v31, (uint64_t *)&unk_30FA30);
    if (swift_getEnumCaseMultiPayload() == 1)
    {
      v175[2] = *v31;
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        uint64_t v49 = (void *)v175[1];
        uint64_t v50 = v166;
        v144((char *)v166, v41, v32);
        id v51 = v49;
        id v52 = sub_2987E0();
        os_log_type_t v53 = sub_298DB0();
        if (os_log_type_enabled(v52, v53))
        {
          uint64_t v54 = (uint8_t *)swift_slowAlloc();
          uint64_t v169 = (void (*)(char *, char *))swift_slowAlloc();
          v175[0] = (uint64_t)v169;
          id v172 = (uint64_t *)v46;
          *(_DWORD *)uint64_t v54 = 136315138;
          id v168 = v54 + 4;
          id v55 = [v51 localizedDescription];
          uint64_t v56 = sub_2989C0();
          uint64_t v171 = (uint64_t)v47;
          uint64_t v57 = v56;
          uint64_t v59 = v58;

          uint64_t v173 = v57;
          uint64_t v174 = v59;
          uint64_t v60 = sub_298B00();
          uint64_t v173 = sub_6E98(v60, v61, v175);
          sub_2992C0();

          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v52, v53, "AcousticIDFlow#successfulMatchDialogAndViewNonRF Error creating dialog %s, issuing error dialog", v54, 0xCu);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          ((void (*)(void (**)(uint64_t, uint64_t *, char *), uint64_t))v171)(v166, v32);
        }
        else
        {

          v47(v50, v32);
        }
        uint64_t v107 = v147;
        uint64_t v108 = v146;
        uint64_t v109 = (uint64_t)v164;
        uint64_t v110 = sub_2970A0();
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v110 - 8) + 56))(v109, 1, 1, v110);
        id v111 = [v51 localizedDescription];
        uint64_t v112 = (uint64_t *)sub_2989C0();
        uint64_t v114 = v113;

        sub_169634(v109, v112, v114, v108, v107);
        swift_release();
        swift_bridgeObjectRelease();
        sub_23A44(v109, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      uint64_t v68 = *(int *)(v171 + 48);
      uint64_t v164 = (char *)sub_2949F0();
      uint64_t v166 = (void (**)(uint64_t, uint64_t *, char *))*((void *)v164 - 1);
      uint64_t v69 = (uint64_t)v172;
      v166[4]((uint64_t)v172, v31, v164);
      uint64_t v70 = *(void **)((char *)v31 + v68);
      *(void *)(v69 + v68) = v70;
      id v168 = v70;
      uint64_t v167 = a3;
      sub_15828C(a3, (uint64_t)v145);
      uint64_t v71 = v149;
      uint64_t v72 = v148;
      uint64_t v73 = v151;
      (*(void (**)(char *, void, uint64_t))(v149 + 104))(v148, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v151);
      uint64_t v74 = v152;
      uint64_t v75 = v150;
      uint64_t v76 = v154;
      (*(void (**)(char *, void, uint64_t))(v152 + 104))(v150, enum case for AdditionalMetricsDescription.SourceFunction.successfulMatch(_:), v154);
      uint64_t v77 = v155;
      uint64_t v78 = v153;
      uint64_t v79 = v156;
      (*(void (**)(char *, void, uint64_t))(v155 + 104))(v153, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v156);
      uint64_t v144 = (void (*)(char *, uint64_t, uint64_t))sub_297220();
      v143[1] = v80;
      (*(void (**)(char *, uint64_t))(v77 + 8))(v78, v79);
      (*(void (**)(char *, uint64_t))(v74 + 8))(v75, v76);
      (*(void (**)(char *, uint64_t))(v71 + 8))(v72, v73);
      uint64_t v155 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 24);
      uint64_t v156 = *(void *)(Strong
                       + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                       + 32);
      uint64_t v154 = (uint64_t)sub_74A4((void *)(Strong+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v155);
      uint64_t v81 = v160;
      uint64_t v82 = v159;
      (*(void (**)(char *, void, void (*)(char *, char *)))(v160 + 104))(v159, enum case for TypeOfIntent.acousticID(_:), v169);
      uint64_t v83 = enum case for ActivityType.completed(_:);
      uint64_t v84 = sub_2944C0();
      uint64_t v85 = *(void *)(v84 - 8);
      uint64_t v86 = v161;
      (*(void (**)(char *, uint64_t, uint64_t))(v85 + 104))(v161, v83, v84);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v85 + 56))(v86, 0, 1, v84);
      uint64_t v87 = v166;
      uint64_t v88 = (uint64_t)v162;
      uint64_t v89 = v164;
      ((void (*)(char *, uint64_t, uint64_t, char *))v166[7])(v162, 1, 1, v164);
      uint64_t v90 = enum case for SiriKitReliabilityCodes.success(_:);
      uint64_t v91 = sub_294170();
      uint64_t v92 = *(void *)(v91 - 8);
      uint64_t v93 = (uint64_t)v163;
      uint64_t v94 = v90;
      id v95 = v168;
      (*(void (**)(char *, uint64_t, uint64_t))(v92 + 104))(v163, v94, v91);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v92 + 56))(v93, 0, 1, v91);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v93, &qword_30D5B8);
      sub_23A44(v88, (uint64_t *)&unk_30FA50);
      uint64_t v96 = (uint64_t)v86;
      uint64_t v97 = v89;
      sub_23A44(v96, &qword_30D5C0);
      (*(void (**)(char *, void *))(v81 + 8))(v82, v169);
      uint64_t v98 = *(int *)(v171 + 48);
      uint64_t v99 = v87[2];
      uint64_t v100 = v157;
      v99((uint64_t)v157, v172, v97);
      *(void *)&v100[v98] = v95;
      uint64_t v101 = sub_2949C0();
      uint64_t v102 = v87[1];
      ((void (*)(char *, char *))v102)(v100, v97);
      uint64_t v103 = *(void *)(v101 + 16);
      if (v103)
      {
        uint64_t v104 = (uint64_t *)(v101 + 40);
        while (1)
        {
          uint64_t v105 = *v104;
          uint64_t v106 = HIBYTE(*v104) & 0xF;
          if ((*v104 & 0x2000000000000000) == 0) {
            uint64_t v106 = *(v104 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v106) {
            break;
          }
          v104 += 2;
          if (!--v103) {
            goto LABEL_21;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_21:
        uint64_t v105 = 0;
      }
      swift_bridgeObjectRelease();
      uint64_t v115 = *(int *)(v171 + 48);
      uint64_t v116 = v158;
      v99((uint64_t)v158, v172, v97);
      *(void *)&v116[v115] = v95;
      uint64_t v117 = sub_2949D0();
      uint64_t v169 = (void (*)(char *, char *))v102;
      ((void (*)(char *, char *))v102)(v116, v97);
      uint64_t v118 = *(void *)(v117 + 16);
      if (v118)
      {
        uint64_t v119 = (uint64_t *)(v117 + 40);
        while (1)
        {
          uint64_t v120 = *v119;
          uint64_t v121 = HIBYTE(*v119) & 0xF;
          if ((*v119 & 0x2000000000000000) == 0) {
            uint64_t v121 = *(v119 - 1) & 0xFFFFFFFFFFFFLL;
          }
          if (v121) {
            break;
          }
          v119 += 2;
          if (!--v118) {
            goto LABEL_31;
          }
        }
        swift_bridgeObjectRetain();
      }
      else
      {
LABEL_31:
        uint64_t v120 = 0;
      }
      swift_bridgeObjectRelease();
      id v122 = [objc_allocWithZone((Class)SADialogText) init];
      if (v105)
      {
        NSString v123 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v123 = 0;
      }
      [v122 setText:v123];

      if (v120)
      {
        NSString v124 = sub_2989B0();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v124 = 0;
      }
      [v122 setSpeakableTextOverride:v124];

      id v125 = [objc_allocWithZone((Class)SADialog) init];
      [v125 setCanUseServerTTS:1];
      [v125 setPrintedOnly:0];
      [v125 setSpokenOnly:1];
      id v126 = v122;
      [v125 setCaption:v126];
      [v125 setContent:v126];

      uint64_t v127 = *(int *)(v171 + 48);
      uint64_t v128 = v165;
      v99((uint64_t)v165, v172, v97);
      id v129 = v168;

      *(void *)&v128[v127] = v129;
      sub_294990();
      NSString v130 = sub_2989B0();
      swift_bridgeObjectRelease();
      v169(v128, v97);
      [v125 setDialogIdentifier:v130];

      uint64_t v131 = swift_allocObject();
      *(void *)(v131 + 16) = _swiftEmptyArrayStorage;
      uint64_t v132 = (void *)swift_allocObject();
      uint64_t v133 = Strong;
      uint64_t v134 = v167;
      uint64_t v132[2] = Strong;
      v132[3] = v134;
      void v132[4] = v125;
      v132[5] = v131;
      uint64_t v135 = v146;
      uint64_t v136 = v147;
      v132[6] = v146;
      v132[7] = v136;
      if (*(unsigned char *)(v133 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) == 1)
      {
        uint64_t v137 = swift_allocObject();
        *(void *)(v137 + 16) = sub_17470C;
        *(void *)(v137 + 24) = v132;
        swift_allocObject();
        swift_weakInit();
        swift_retain_n();
        swift_retain_n();
        id v138 = v125;
        swift_retain_n();
        swift_retain_n();
        id v139 = v138;
        swift_retain();
        sub_71D4((uint64_t *)&unk_313920);
        sub_298C30();
        swift_release();
      }
      else
      {
        uint64_t v140 = (void *)swift_allocObject();
        v140[2] = v125;
        v140[3] = 0;
        v140[4] = 0;
        v140[5] = v131;
        v140[6] = v133;
        v140[7] = v135;
        v140[8] = v136;
        swift_retain_n();
        id v141 = v125;
        swift_retain_n();
        swift_retain_n();
        swift_retain_n();
        id v142 = v141;
        sub_16E3B8(v134, (uint64_t)sub_174744, (uint64_t)v140);
      }
      swift_release();
      swift_release();
      swift_release();

      swift_release();
      swift_release();
      swift_release();

      swift_release();
      sub_23A44((uint64_t)v145, (uint64_t *)&unk_30FA70);
      sub_23A44((uint64_t)v172, &qword_30D030);
      return swift_release();
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v62 = sub_6E60(v32, (uint64_t)qword_31FC20);
    uint64_t v63 = v33;
    (*(void (**)(char *, uint64_t, uint64_t))(v33 + 16))(v40, v62, v32);
    uint64_t v64 = sub_2987E0();
    os_log_type_t v65 = sub_298DB0();
    if (os_log_type_enabled(v64, v65))
    {
      unint64_t v66 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v66 = 0;
      _os_log_impl(&dword_0, v64, v65, "AcousticIDFlow#successfulMatchDialogAndViewNonRF self deallocated prematurely", v66, 2u);
      uint64_t v63 = v33;
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v63 + 8))(v40, v32);
  }
  return result;
}

uint64_t sub_166E30(uint64_t a1, uint64_t a2, char a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v52 = a5;
  uint64_t v55 = a4;
  uint64_t v15 = sub_71D4(&qword_313428);
  __chkstk_darwin(v15 - 8);
  uint64_t v54 = (char *)v48 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_298800();
  uint64_t v53 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v19 = (char *)v48 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_313550);
  if (a3)
  {
    uint64_t v51 = a8;
    uint64_t v52 = a9;
    v58[2] = a1;
    swift_errorRetain();
    sub_71D4((uint64_t *)&unk_3121A0);
    sub_1983C(0, &qword_3107A0);
    if (swift_dynamicCast())
    {
      uint64_t v23 = (void *)v58[1];
      uint64_t v24 = v17;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v25 = sub_6E60(v17, (uint64_t)qword_31FC20);
      uint64_t v26 = v53;
      (*(void (**)(char *, uint64_t, uint64_t))(v53 + 16))(v19, v25, v17);
      id v27 = v23;
      uint64_t v28 = sub_2987E0();
      os_log_type_t v29 = sub_298DB0();
      p_attr = &stru_309FF8.attr;
      if (os_log_type_enabled(v28, v29))
      {
        uint64_t v31 = (uint8_t *)swift_slowAlloc();
        uint64_t v50 = swift_slowAlloc();
        v58[0] = v50;
        uint64_t v49 = v31;
        *(_DWORD *)uint64_t v31 = 136315138;
        v48[1] = v31 + 4;
        id v32 = [v27 localizedDescription];
        uint64_t v33 = v19;
        uint64_t v34 = sub_2989C0();
        uint64_t v36 = v35;

        uint64_t v56 = v34;
        uint64_t v57 = v36;
        uint64_t v37 = sub_298B00();
        uint64_t v56 = sub_6E98(v37, v38, v58);
        sub_2992C0();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v28, v29, "AcousticIDFlow#successfulMatchDialogAndViewNonRF Error grabbing session ID %s, issuing error dialog", v49, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v39 = v33;
        p_attr = (char **)(&stru_309FF8 + 8);
        (*(void (**)(char *, uint64_t))(v26 + 8))(v39, v24);
      }
      else
      {

        (*(void (**)(char *, uint64_t))(v26 + 8))(v19, v24);
      }
      uint64_t v41 = v51;
      uint64_t v40 = v52;
      uint64_t v42 = sub_2970A0();
      uint64_t v43 = (uint64_t)v54;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v42 - 8) + 56))(v54, 1, 1, v42);
      id v44 = objc_msgSend(v27, p_attr[448]);
      uint64_t v45 = (uint64_t *)sub_2989C0();
      uint64_t v47 = v46;

      sub_169634(v43, v45, v47, v41, v40);
      swift_bridgeObjectRelease();
      sub_23A44(v43, &qword_313428);
      return swift_errorRelease();
    }
    else
    {
      uint64_t result = sub_2995C0();
      __break(1u);
    }
  }
  else
  {
    uint64_t v20 = (void *)swift_allocObject();
    _OWORD v20[2] = a6;
    v20[3] = a1;
    _DWORD v20[4] = a2;
    v20[5] = a7;
    v20[6] = v55;
    v20[7] = a8;
    v20[8] = a9;
    sub_1748A4(a1, a2, 0);
    id v21 = a6;
    swift_retain();
    swift_retain();
    swift_retain();
    sub_16E3B8(v52, (uint64_t)sub_174744, (uint64_t)v20);
    return swift_release();
  }
  return result;
}

uint64_t sub_16733C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v35 = a7;
  uint64_t v36 = a8;
  uint64_t v13 = sub_71D4((uint64_t *)&unk_30FA70);
  __chkstk_darwin(v13 - 8);
  uint64_t v15 = (char *)&v35 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_2951C0();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v35 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = (void *)(a5 + 16);
  if (a1)
  {
    [a1 setDialog:a2];
    id v21 = a1;
    if (a4) {
      NSString v22 = sub_2989B0();
    }
    else {
      NSString v22 = 0;
    }
    objc_msgSend(a1, "setCorrespondingSessionID:", v22, v35, v36);

    id v23 = a1;
    NSString v24 = sub_2989B0();
    [v23 setViewId:v24];

    swift_beginAccess();
    id v25 = v23;
    sub_298B30();
    if (*(void *)((char *)&dword_10 + (*v20 & 0xFFFFFFFFFFFFFF8)) >= *(void *)((char *)&dword_18
                                                                                    + (*v20 & 0xFFFFFFFFFFFFFF8)) >> 1)
      sub_298B80();
    sub_298BB0();
    sub_298B70();
    swift_endAccess();
  }
  id v26 = [objc_allocWithZone((Class)SAUIAddViews) init];
  swift_beginAccess();
  sub_1983C(0, (unint64_t *)&qword_313910);
  swift_bridgeObjectRetain();
  Class isa = sub_298B40().super.isa;
  swift_bridgeObjectRelease();
  [v26 setViews:isa];

  uint64_t v28 = sub_2948C0();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v28 - 8) + 56))(v15, 1, 1, v28);
  uint64_t v39 = 0;
  long long v37 = 0u;
  long long v38 = 0u;
  sub_2946E0();
  sub_23A44((uint64_t)&v37, &qword_30D5D8);
  sub_23A44((uint64_t)v15, (uint64_t *)&unk_30FA70);
  sub_74A4((void *)(a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(a6 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
  *((void *)&v38 + 1) = v16;
  uint64_t v39 = &protocol witness table for AceOutput;
  os_log_type_t v29 = sub_12B48((uint64_t *)&v37);
  (*(void (**)(uint64_t *, char *, uint64_t))(v17 + 16))(v29, v19, v16);
  uint64_t v30 = swift_allocObject();
  swift_weakInit();
  uint64_t v31 = (void *)swift_allocObject();
  uint64_t v32 = v35;
  uint64_t v33 = v36;
  _OWORD v31[2] = v30;
  void v31[3] = v32;
  v31[4] = v33;
  swift_retain();
  swift_retain();
  sub_2948D0();

  swift_release();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
  swift_release();
  return sub_7184((uint64_t)&v37);
}

uint64_t sub_167778(void *a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v35 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = swift_slowAlloc();
    long long v38 = a1;
    uint64_t v16 = (uint8_t *)v15;
    uint64_t v17 = swift_slowAlloc();
    uint64_t v39 = a3;
    uint64_t v37 = a2;
    *(void *)&long long v42 = v17;
    *(_DWORD *)uint64_t v16 = 136446210;
    uint64_t v18 = sub_2973F0();
    uint64_t v36 = v4;
    *(void *)&v41[0] = sub_6E98(v18, v19, (uint64_t *)&v42);
    sub_2992C0();
    uint64_t v4 = v36;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v13, v14, "AcousticIDFlow#successfulMatchDialogAndViewWithRF... %{public}s", v16, 0xCu);
    swift_arrayDestroy();
    a2 = v37;
    a3 = v39;
    swift_slowDealloc();
    a1 = v38;
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  unint64_t v20 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  unint64_t v45 = v20;
  uint64_t v21 = a1[5];
  if (!v21)
  {
    sub_23846C(0x656C746974, 0xE500000000000000, &v42);
    sub_23A44((uint64_t)&v42, &qword_30D040);
    uint64_t v25 = a1[9];
    if (v25) {
      goto LABEL_7;
    }
LABEL_9:
    sub_23846C(0x747369747261, 0xE600000000000000, &v42);
    sub_23A44((uint64_t)&v42, &qword_30D040);
    goto LABEL_10;
  }
  unint64_t v22 = v20;
  uint64_t v23 = a1[4];
  *((void *)&v43 + 1) = &type metadata for String;
  *(void *)&long long v42 = v23;
  *((void *)&v42 + 1) = v21;
  sub_26608(&v42, v41);
  swift_bridgeObjectRetain();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v40 = v22;
  sub_482F0(v41, 0x656C746974, 0xE500000000000000, isUniquelyReferenced_nonNull_native);
  unint64_t v45 = v40;
  swift_bridgeObjectRelease();
  uint64_t v25 = a1[9];
  if (!v25) {
    goto LABEL_9;
  }
LABEL_7:
  uint64_t v26 = a1[8];
  *((void *)&v43 + 1) = &type metadata for String;
  *(void *)&long long v42 = v26;
  *((void *)&v42 + 1) = v25;
  sub_26608(&v42, v41);
  swift_bridgeObjectRetain();
  unint64_t v27 = v45;
  char v28 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v40 = v27;
  sub_482F0(v41, 0x747369747261, 0xE600000000000000, v28);
  swift_bridgeObjectRelease();
LABEL_10:
  uint64_t v29 = *(void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  uint64_t v30 = swift_allocObject();
  swift_weakInit();
  uint64_t v31 = (void *)swift_allocObject();
  uint64_t v39 = &v35;
  _OWORD v31[2] = v30;
  void v31[3] = a1;
  v31[4] = a2;
  void v31[5] = a3;
  uint64_t v32 = *(void *)(v29 + 40);
  uint64_t v33 = *(void *)(v29 + 48);
  uint64_t v44 = 0;
  long long v42 = 0u;
  long long v43 = 0u;
  __chkstk_darwin(v31);
  *(&v35 - 10) = v32;
  *(&v35 - 9) = v33;
  *(&v35 - 8) = 0x6673736563637553;
  *(&v35 - 7) = 0xEF686374614D6C75;
  swift_retain();
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_174660, (uint64_t)v31, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v32, v33, 0x6673736563637553, 0xEF686374614D6C75, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v35 - 12));
  sub_23A44((uint64_t)&v42, &qword_30D018);
  swift_bridgeObjectRelease();
  swift_release();
  return swift_release();
}

uint64_t sub_167C88(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v116 = a4;
  uint64_t v117 = a5;
  uint64_t v108 = a3;
  uint64_t v112 = a1;
  uint64_t v5 = sub_71D4(&qword_313428);
  __chkstk_darwin(v5 - 8);
  uint64_t v109 = (char *)v96 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v7 - 8);
  uint64_t v107 = (char *)v96 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v9 - 8);
  uint64_t v106 = (char *)v96 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v11 - 8);
  uint64_t v105 = (char *)v96 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v115 = sub_296130();
  uint64_t v104 = *(void *)(v115 - 8);
  __chkstk_darwin(v115);
  uint64_t v103 = (char *)v96 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v101 = sub_297270();
  uint64_t v100 = *(void *)(v101 - 8);
  __chkstk_darwin(v101);
  uint64_t v15 = (char *)v96 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v99 = sub_297280();
  uint64_t v98 = *(void *)(v99 - 8);
  __chkstk_darwin(v99);
  uint64_t v17 = (char *)v96 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_297210();
  uint64_t v97 = *(void *)(v18 - 8);
  __chkstk_darwin(v18);
  unint64_t v20 = (char *)v96 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v113 = sub_71D4(&qword_30D030);
  uint64_t v21 = __chkstk_darwin(v113);
  uint64_t v102 = (char *)v96 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v21);
  uint64_t v114 = (char *)v96 - v23;
  uint64_t v24 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v24);
  uint64_t v26 = (void *)((char *)v96 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v27 = sub_298800();
  uint64_t v28 = *(void *)(v27 - 8);
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v110 = (char *)v96 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v29);
  uint64_t v32 = (char *)v96 - v31;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v34 = Strong;
    sub_11E58(v112, (uint64_t)v26, (uint64_t *)&unk_30FA30);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    uint64_t v111 = v34;
    if (EnumCaseMultiPayload == 1)
    {
      uint64_t v120 = *v26;
      sub_71D4((uint64_t *)&unk_3121A0);
      sub_1983C(0, &qword_3107A0);
      if (swift_dynamicCast())
      {
        uint64_t v36 = (void *)v119[1];
        if (qword_30C850 != -1) {
          swift_once();
        }
        uint64_t v37 = sub_6E60(v27, (uint64_t)qword_31FC20);
        long long v38 = v110;
        (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v110, v37, v27);
        id v39 = v36;
        unint64_t v40 = sub_2987E0();
        os_log_type_t v41 = sub_298DB0();
        p_attr = &stru_309FF8.attr;
        if (os_log_type_enabled(v40, v41))
        {
          uint64_t v43 = swift_slowAlloc();
          v119[0] = swift_slowAlloc();
          *(_DWORD *)uint64_t v43 = 136315394;
          id v44 = [v39 localizedDescription];
          uint64_t v45 = sub_2989C0();
          uint64_t v115 = v27;
          uint64_t v47 = v46;

          v118[0] = v45;
          v118[1] = v47;
          uint64_t v48 = sub_298B00();
          v118[0] = sub_6E98(v48, v49, v119);
          sub_2992C0();

          swift_bridgeObjectRelease();
          *(_WORD *)(v43 + 12) = 2082;
          uint64_t v50 = sub_2973F0();
          v118[0] = sub_6E98(v50, v51, v119);
          p_attr = (char **)(&stru_309FF8 + 8);
          sub_2992C0();
          swift_bridgeObjectRelease();
          _os_log_impl(&dword_0, v40, v41, "AcousticIDFlow#successfulMatchDialogAndViewWithRF Error creating dialog %s %{public}s", (uint8_t *)v43, 0x16u);
          swift_arrayDestroy();
          swift_slowDealloc();
          swift_slowDealloc();

          (*(void (**)(char *, uint64_t))(v28 + 8))(v110, v115);
        }
        else
        {

          (*(void (**)(char *, uint64_t))(v28 + 8))(v38, v27);
        }
        uint64_t v89 = v116;
        uint64_t v88 = v117;
        uint64_t v90 = (uint64_t)v109;
        uint64_t v91 = sub_2970A0();
        (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v91 - 8) + 56))(v90, 1, 1, v91);
        id v92 = objc_msgSend(v39, p_attr[448]);
        uint64_t v93 = (uint64_t *)sub_2989C0();
        uint64_t v95 = v94;

        sub_169634(v90, v93, v95, v89, v88);
        swift_release();
        swift_bridgeObjectRelease();
        sub_23A44(v90, &qword_313428);
        return swift_errorRelease();
      }
      else
      {
        uint64_t result = sub_2995C0();
        __break(1u);
      }
    }
    else
    {
      uint64_t v59 = *(int *)(v113 + 48);
      uint64_t v110 = (char *)sub_2949F0();
      uint64_t v112 = *((void *)v110 - 1);
      uint64_t v60 = v114;
      (*(void (**)(char *, uint64_t *, char *))(v112 + 32))(v114, v26, v110);
      unint64_t v61 = *(void **)((char *)v26 + v59);
      *(void *)&v60[v59] = v61;
      uint64_t v62 = v97;
      (*(void (**)(char *, void, uint64_t))(v97 + 104))(v20, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v18);
      uint64_t v63 = v98;
      uint64_t v64 = v99;
      (*(void (**)(char *, void, uint64_t))(v98 + 104))(v17, enum case for AdditionalMetricsDescription.SourceFunction.successfulMatch(_:), v99);
      uint64_t v65 = v100;
      uint64_t v66 = v101;
      (*(void (**)(char *, void, uint64_t))(v100 + 104))(v15, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v101);
      uint64_t v109 = v61;
      v96[1] = sub_297220();
      v96[0] = v67;
      (*(void (**)(char *, uint64_t))(v65 + 8))(v15, v66);
      (*(void (**)(char *, uint64_t))(v63 + 8))(v17, v64);
      (*(void (**)(char *, uint64_t))(v62 + 8))(v20, v18);
      uint64_t v68 = *(void *)(v111 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24);
      uint64_t v101 = *(void *)(v111 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v111 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v68);
      uint64_t v69 = v104;
      uint64_t v70 = v103;
      (*(void (**)(char *, void, uint64_t))(v104 + 104))(v103, enum case for TypeOfIntent.acousticID(_:), v115);
      uint64_t v71 = enum case for ActivityType.completed(_:);
      uint64_t v72 = sub_2944C0();
      uint64_t v73 = *(void *)(v72 - 8);
      uint64_t v74 = (uint64_t)v105;
      (*(void (**)(char *, uint64_t, uint64_t))(v73 + 104))(v105, v71, v72);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v73 + 56))(v74, 0, 1, v72);
      uint64_t v75 = (uint64_t)v106;
      (*(void (**)(char *, uint64_t, uint64_t, char *))(v112 + 56))(v106, 1, 1, v110);
      uint64_t v76 = enum case for SiriKitReliabilityCodes.success(_:);
      uint64_t v77 = sub_294170();
      uint64_t v78 = *(void *)(v77 - 8);
      uint64_t v79 = (uint64_t)v107;
      (*(void (**)(char *, uint64_t, uint64_t))(v78 + 104))(v107, v76, v77);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v78 + 56))(v79, 0, 1, v77);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v79, &qword_30D5B8);
      sub_23A44(v75, (uint64_t *)&unk_30FA50);
      sub_23A44(v74, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v69 + 8))(v70, v115);
      uint64_t v80 = v112;
      uint64_t v81 = *(int *)(v113 + 48);
      uint64_t v82 = (uint64_t)v102;
      uint64_t v83 = (uint64_t)v114;
      uint64_t v84 = v110;
      (*(void (**)(char *, char *, char *))(v112 + 16))(v102, v114, v110);
      uint64_t v85 = v108;
      uint64_t v86 = v109;
      *(void *)(v82 + v81) = v109;
      uint64_t v87 = v86;
      sub_168ABC(v85, v82, v86, v116, v117);
      swift_release();

      sub_23A44(v83, &qword_30D030);
      return (*(uint64_t (**)(uint64_t, char *))(v80 + 8))(v82, v84);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v52 = sub_6E60(v27, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v32, v52, v27);
    uint64_t v53 = sub_2987E0();
    os_log_type_t v54 = sub_298DB0();
    if (os_log_type_enabled(v53, v54))
    {
      uint64_t v55 = (uint8_t *)swift_slowAlloc();
      v118[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v55 = 136446210;
      uint64_t v56 = sub_2973F0();
      uint64_t v120 = sub_6E98(v56, v57, v118);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v53, v54, "AcousticIDFlow#successfulMatchDialogAndViewWithRF self deallocated prematurely  %{public}s", v55, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v28 + 8))(v32, v27);
  }
  return result;
}

uint64_t sub_168ABC(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, uint64_t a5)
{
  uint64_t v30 = a4;
  uint64_t v31 = a5;
  id v29 = a3;
  uint64_t v32 = a1;
  uint64_t v7 = sub_71D4(&qword_30D030);
  uint64_t v8 = v7 - 8;
  uint64_t v28 = *(void *)(v7 - 8);
  uint64_t v9 = *(void *)(v28 + 64);
  uint64_t v10 = __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v27 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v27 - v12;
  uint64_t v14 = sub_2949F0();
  uint64_t v15 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v14 - 8) + 16);
  v15(v13, a2, v14);
  *(void *)&v13[*(int *)(v8 + 56)] = a3;
  uint64_t v16 = swift_allocObject();
  swift_weakInit();
  uint64_t v17 = *(int *)(v8 + 56);
  v15(v11, (uint64_t)v13, v14);
  *(void *)&v11[v17] = a3;
  unint64_t v18 = (*(unsigned __int8 *)(v28 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v28 + 80);
  unint64_t v19 = (v9 + v18 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v20 = swift_allocObject();
  *(void *)(v20 + 16) = v16;
  sub_60BBC((uint64_t)v11, v20 + v18, &qword_30D030);
  uint64_t v21 = (void *)(v20 + v19);
  uint64_t v22 = v31;
  *uint64_t v21 = v30;
  v21[1] = v22;
  uint64_t v23 = (void *)swift_allocObject();
  void v23[2] = sub_174568;
  void v23[3] = v20;
  v23[4] = v32;
  sub_74A4((void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider), *(void *)(v27 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider + 24));
  uint64_t v24 = swift_allocObject();
  *(void *)(v24 + 16) = sub_174650;
  *(void *)(v24 + 24) = v23;
  id v25 = v29;
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  sub_296E80();
  swift_release();
  swift_release();
  swift_release();
  sub_23A44((uint64_t)v13, &qword_30D030);
  return swift_release();
}

uint64_t sub_168DA4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v47 = a4;
  uint64_t v48 = a5;
  uint64_t v46 = a3;
  uint64_t v41 = a1;
  uint64_t v45 = sub_71D4(&qword_30D030);
  __chkstk_darwin(v45);
  uint64_t v43 = (char *)&v40 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v40 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_297920();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v40 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v44 = sub_297A70();
  uint64_t v42 = *(void *)(v44 - 8);
  __chkstk_darwin(v44);
  uint64_t v14 = (char *)&v40 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  unint64_t v18 = (char *)&v40 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v20 = Strong;
    uint64_t v21 = sub_297AB0();
    (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v21 - 8) + 16))(v12, v41, v21);
    (*(void (**)(char *, void, uint64_t))(v10 + 104))(v12, enum case for ShazamSnippetRole.success(_:), v9);
    sub_297A60();
    swift_storeEnumTagMultiPayload();
    uint64_t v22 = v20 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
    swift_beginAccess();
    sub_1743F0((uint64_t)v8, v22);
    swift_endAccess();
    uint64_t v23 = *(int *)(v45 + 48);
    uint64_t v24 = sub_2949F0();
    uint64_t v25 = *(void *)(v24 - 8);
    uint64_t v26 = (uint64_t)v43;
    uint64_t v27 = v46;
    (*(void (**)(char *, uint64_t, uint64_t))(v25 + 16))(v43, v46, v24);
    uint64_t v28 = *(void **)(v27 + v23);
    *(void *)(v26 + v23) = v28;
    id v29 = v28;
    sub_15F340((uint64_t)v14, v26, v29, v47, v48);
    swift_release();

    (*(void (**)(char *, uint64_t))(v42 + 8))(v14, v44);
    return (*(uint64_t (**)(uint64_t, uint64_t))(v25 + 8))(v26, v24);
  }
  else
  {
    uint64_t v31 = v16;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v32 = v15;
    uint64_t v33 = sub_6E60(v15, (uint64_t)qword_31FC20);
    uint64_t v34 = v18;
    (*(void (**)(char *, uint64_t, uint64_t))(v31 + 16))(v18, v33, v32);
    uint64_t v35 = sub_2987E0();
    os_log_type_t v36 = sub_298DB0();
    if (os_log_type_enabled(v35, v36))
    {
      uint64_t v37 = (uint8_t *)swift_slowAlloc();
      v49[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v37 = 136446210;
      uint64_t v38 = sub_2973F0();
      v49[3] = sub_6E98(v38, v39, v49);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v35, v36, "AcousticIDFlow#publishSuccessfulResponse self deallocated prematurely  %{public}s", v37, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v31 + 8))(v34, v32);
  }
}

uint64_t sub_169320(int a1, void (*a2)(char *), uint64_t a3, void *a4)
{
  uint64_t v28 = a3;
  id v29 = a2;
  int v27 = a1;
  uint64_t v5 = sub_71D4((uint64_t *)&unk_312120);
  uint64_t v6 = __chkstk_darwin(v5 - 8);
  uint64_t v8 = (char *)v24 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = __chkstk_darwin(v6);
  uint64_t v11 = (char *)v24 - v10;
  v24[0] = (char *)v24 - v10;
  uint64_t v12 = __chkstk_darwin(v9);
  uint64_t v14 = (char *)v24 - v13;
  void v24[2] = (char *)v24 - v13;
  __chkstk_darwin(v12);
  uint64_t v16 = (char *)v24 - v15;
  void v24[4] = (char *)v24 - v15;
  uint64_t v17 = sub_297AB0();
  uint64_t v25 = *(void *)(v17 - 8);
  uint64_t v26 = v17;
  __chkstk_darwin(v17);
  unint64_t v19 = (char *)v24 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = a4[2];
  v24[9] = a4[4];
  v24[10] = v20;
  uint64_t v21 = a4[6];
  v24[1] = a4[7];
  v24[7] = a4[8];
  v24[8] = v21;
  uint64_t v22 = a4[14];
  uint64_t v24[5] = a4[10];
  v24[6] = v22;
  void v24[3] = a4[11];
  sub_11E58((uint64_t)a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_appleMusicURL, (uint64_t)v16, (uint64_t *)&unk_312120);
  sub_11E58((uint64_t)a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_webURL, (uint64_t)v14, (uint64_t *)&unk_312120);
  sub_11E58((uint64_t)a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_artworkURL, (uint64_t)v11, (uint64_t *)&unk_312120);
  sub_11E58((uint64_t)a4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_videoURL, (uint64_t)v8, (uint64_t *)&unk_312120);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  sub_297AA0();
  v29(v19);
  return (*(uint64_t (**)(char *, uint64_t))(v25 + 8))(v19, v26);
}

uint64_t sub_169634(uint64_t a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v71 = a2;
  uint64_t v73 = a3;
  uint64_t v74 = a5;
  uint64_t v72 = a4;
  uint64_t v6 = sub_296000();
  uint64_t v65 = *(void *)(v6 - 8);
  uint64_t v7 = __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v59 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v11 = (char *)&v59 - v10;
  uint64_t v12 = sub_71D4(&qword_313428);
  uint64_t v67 = *(void *)(v12 - 8);
  uint64_t v13 = __chkstk_darwin(v12 - 8);
  uint64_t v68 = (uint64_t)&v59 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v66 = v14;
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v59 - v15;
  uint64_t v17 = sub_2970A0();
  uint64_t v18 = *(void *)(v17 - 8);
  uint64_t v19 = *(void *)(v18 + 64);
  uint64_t v20 = __chkstk_darwin(v17);
  uint64_t v21 = (char *)&v59 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v23 = (char *)&v59 - v22;
  unint64_t v69 = a1;
  uint64_t v25 = v24;
  sub_11E58(a1, (uint64_t)v16, &qword_313428);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v18 + 48))(v16, 1, v25) == 1)
  {
    sub_23A44((uint64_t)v16, &qword_313428);
LABEL_8:
    uint64_t v46 = *(void *)(v70 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
    uint64_t v47 = swift_allocObject();
    swift_weakInit();
    uint64_t v48 = v68;
    sub_11E58(v69, v68, &qword_313428);
    unint64_t v49 = (*(unsigned __int8 *)(v67 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v67 + 80);
    unint64_t v50 = (v66 + v49 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v51 = (void *)swift_allocObject();
    uint64_t v52 = v71;
    void v51[2] = v47;
    v51[3] = v52;
    v51[4] = v73;
    sub_60BBC(v48, (uint64_t)v51 + v49, &qword_313428);
    uint64_t v53 = (void *)((char *)v51 + v50);
    uint64_t v54 = v74;
    *uint64_t v53 = v72;
    v53[1] = v54;
    uint64_t v55 = *(void *)(v46 + 40);
    uint64_t v56 = *(void *)(v46 + 48);
    uint64_t v78 = 0;
    long long v76 = 0u;
    long long v77 = 0u;
    swift_bridgeObjectRetain();
    swift_retain();
    swift_retain();
    unint64_t v57 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
    __chkstk_darwin(v57);
    *(&v59 - 10) = v55;
    *(&v59 - 9) = v56;
    strcpy((char *)&v59 - 64, "GenericError");
    *((unsigned char *)&v59 - 51) = 0;
    *((_WORD *)&v59 - 25) = -5120;
    sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_1741A8, (uint64_t)v51, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v55, v56, 0x45636972656E6547, 0xEC000000726F7272, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v59 - 12));
    swift_bridgeObjectRelease();
    sub_23A44((uint64_t)&v76, &qword_30D018);
    swift_release();
    return swift_release();
  }
  uint64_t v60 = v19;
  uint64_t v27 = v18 + 32;
  uint64_t v26 = *(uint64_t (**)(char *, char *, uint64_t))(v18 + 32);
  uint64_t v64 = v25;
  unint64_t v61 = v26;
  uint64_t v62 = v18;
  v26(v23, v16, v25);
  uint64_t v63 = v23;
  sub_297090();
  uint64_t v28 = v65;
  (*(void (**)(char *, void, uint64_t))(v65 + 104))(v9, enum case for PlaybackCode.acousticIDPrivDiscAckNeeded(_:), v6);
  sub_17569C(&qword_313538, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
  sub_298B20();
  sub_298B20();
  uint64_t v29 = v6;
  if (v76 == v75)
  {
    swift_bridgeObjectRelease_n();
    uint64_t v30 = *(void (**)(char *, uint64_t))(v28 + 8);
    v30(v9, v6);
    v30(v11, v6);
  }
  else
  {
    char v31 = sub_2995D0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v32 = *(void (**)(char *, uint64_t))(v28 + 8);
    v32(v9, v29);
    v32(v11, v29);
    if ((v31 & 1) == 0)
    {
      (*(void (**)(char *, uint64_t))(v62 + 8))(v63, v64);
      goto LABEL_8;
    }
  }
  uint64_t v67 = v27;
  uint64_t v33 = *(void *)(v70 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService);
  unint64_t v69 = sub_9A184((uint64_t)_swiftEmptyArrayStorage);
  sub_297700();
  uint64_t v68 = sub_2976D0();
  uint64_t v78 = 0;
  long long v76 = 0u;
  long long v77 = 0u;
  uint64_t v34 = swift_allocObject();
  uint64_t v66 = v34;
  swift_weakInit();
  uint64_t v35 = v62;
  uint64_t v36 = v64;
  (*(void (**)(char *, char *, uint64_t))(v62 + 16))(v21, v63, v64);
  unint64_t v37 = (*(unsigned __int8 *)(v35 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v35 + 80);
  unint64_t v38 = (v60 + v37 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v39 = (char *)swift_allocObject();
  uint64_t v40 = v71;
  *((void *)v39 + 2) = v34;
  *((void *)v39 + 3) = v40;
  *((void *)v39 + 4) = v73;
  uint64_t v41 = v61(&v39[v37], v21, v36);
  uint64_t v71 = &v59;
  uint64_t v42 = &v39[v38];
  uint64_t v43 = v74;
  *(void *)uint64_t v42 = v72;
  *((void *)v42 + 1) = v43;
  uint64_t v44 = *(void *)(v33 + 16);
  uint64_t v45 = *(void *)(v33 + 24);
  __chkstk_darwin(v41);
  *(&v59 - 10) = v44;
  *(&v59 - 9) = v45;
  *(&v59 - 8) = 0xD000000000000025;
  *(&v59 - 7) = 0x80000000002A69B0;
  swift_bridgeObjectRetain();
  swift_retain();
  swift_retain();
  sub_1A193C((uint64_t)"catServiceExecute", 17, 2, (uint64_t)sub_174348, (uint64_t)v39, (uint64_t)"CatService#execute family=%{signpost.telemetry:string1,public}@ id=%{signpost.telemetry:string2,public}@ enableTelemetry=YES ", 125, 2, v44, v45, 0xD000000000000025, 0x80000000002A69B0, (void (*)(uint64_t (*)(), uint64_t))sub_54D50, (uint64_t)(&v59 - 12));
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  sub_23A44((uint64_t)&v76, &qword_30D018);
  (*(void (**)(char *, uint64_t))(v35 + 8))(v63, v64);
  return swift_release();
}

uint64_t sub_169E68(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void (*a6)(char *), uint64_t a7)
{
  uint64_t v165 = a7;
  uint64_t v166 = a6;
  uint64_t v139 = a5;
  uint64_t v147 = a4;
  uint64_t v140 = a3;
  uint64_t v160 = a1;
  uint64_t v7 = sub_294780();
  uint64_t v167 = *(void *)(v7 - 8);
  uint64_t v168 = v7;
  __chkstk_darwin(v7);
  uint64_t v164 = (char *)&v134 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v162 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v162);
  uint64_t v163 = (char *)&v134 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v10 - 8);
  uint64_t v159 = (char *)&v134 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v12 - 8);
  id v158 = (char *)&v134 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v134 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_296130();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v157 = (char *)&v134 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v138 = sub_2970A0();
  uint64_t v137 = *(void *)(v138 - 8);
  __chkstk_darwin(v138);
  uint64_t v136 = (char *)&v134 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v156 = sub_297280();
  uint64_t v154 = *(void **)(v156 - 8);
  __chkstk_darwin(v156);
  uint64_t v152 = (char *)&v134 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v155 = sub_297210();
  uint64_t v153 = *(void *)(v155 - 8);
  __chkstk_darwin(v155);
  uint64_t v151 = (char *)&v134 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v161 = sub_71D4(&qword_30D030);
  uint64_t v23 = __chkstk_darwin(v161);
  uint64_t v148 = (char *)&v134 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  uint64_t v169 = (uint64_t)&v134 - v25;
  uint64_t v26 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v26);
  uint64_t v28 = (uint64_t *)((char *)&v134 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v171 = sub_298800();
  uint64_t v29 = *(void *)(v171 - 8);
  uint64_t v30 = __chkstk_darwin(v171);
  uint64_t v32 = (char *)&v134 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = __chkstk_darwin(v30);
  uint64_t v149 = (char *)&v134 - v34;
  uint64_t v35 = __chkstk_darwin(v33);
  unint64_t v37 = (char *)&v134 - v36;
  __chkstk_darwin(v35);
  unint64_t v39 = (char *)&v134 - v38;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v40 = sub_6E60(v171, (uint64_t)qword_31FC20);
    uint64_t v41 = *(void (**)(char *, uint64_t, uint64_t))(v29 + 16);
    uint64_t v143 = v40;
    uint64_t v145 = v29 + 16;
    uint64_t v144 = v41;
    ((void (*)(char *))v41)(v37);
    uint64_t v42 = sub_2987E0();
    os_log_type_t v43 = sub_298DC0();
    BOOL v44 = os_log_type_enabled(v42, v43);
    id v142 = v16;
    if (v44)
    {
      uint64_t v45 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v45 = 0;
      _os_log_impl(&dword_0, v42, v43, "AcousticIDFlow#errorDialog (privacy disclosure acknowledgement needed)", v45, 2u);
      swift_slowDealloc();
    }

    uint64_t v47 = *(void (**)(char *, uint64_t))(v29 + 8);
    uint64_t v46 = v29 + 8;
    uint64_t v48 = v171;
    uint64_t v146 = v47;
    v47(v37, v171);
    sub_11E58(v160, (uint64_t)v28, (uint64_t *)&unk_30FA30);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    uint64_t v150 = v17;
    uint64_t v141 = v18;
    if (EnumCaseMultiPayload == 1)
    {
      uint64_t v50 = *v28;
      v144(v32, v143, v48);
      swift_errorRetain();
      uint64_t v169 = v50;
      swift_errorRetain();
      unint64_t v51 = sub_2987E0();
      os_log_type_t v52 = sub_298DB0();
      if (os_log_type_enabled(v51, v52))
      {
        uint64_t v53 = (uint8_t *)swift_slowAlloc();
        uint64_t v172 = swift_slowAlloc();
        *(_DWORD *)uint64_t v53 = 136315138;
        swift_getErrorValue();
        uint64_t v173 = sub_299620();
        uint64_t v174 = v54;
        uint64_t v55 = sub_298B00();
        uint64_t v173 = sub_6E98(v55, v56, &v172);
        uint64_t v17 = v150;
        sub_2992C0();
        swift_bridgeObjectRelease();
        swift_errorRelease();
        swift_errorRelease();
        _os_log_impl(&dword_0, v51, v52, "AcousticIDFlow#errorDialog Could not properly create dialog %s, silently failing (privacy disclosure acknowledgement needed)", v53, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        v146(v32, v171);
      }
      else
      {
        swift_errorRelease();
        swift_errorRelease();

        v146(v32, v48);
      }
      uint64_t v86 = (uint64_t)v163;
      swift_storeEnumTagMultiPayload();
      uint64_t v87 = Strong;
      uint64_t v88 = Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      sub_1743F0(v86, v88);
      swift_endAccess();
      uint64_t v89 = *(void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v90 = *(void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v89);
      (*(void (**)(uint64_t, uint64_t))(v90 + 24))(v89, v90);
      uint64_t v91 = v153;
      id v92 = v151;
      uint64_t v93 = v155;
      (*(void (**)(char *, void, uint64_t))(v153 + 104))(v151, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v155);
      uint64_t v94 = v154;
      uint64_t v95 = v152;
      uint64_t v96 = v156;
      ((void (*)(char *, void, uint64_t))v154[13])(v152, enum case for AdditionalMetricsDescription.SourceFunction.pdanDlg(_:), v156);
      swift_getErrorValue();
      sub_299620();
      uint64_t v171 = sub_297230();
      uint64_t v163 = v97;
      swift_bridgeObjectRelease();
      ((void (*)(char *, uint64_t))v94[1])(v95, v96);
      (*(void (**)(char *, uint64_t))(v91 + 8))(v92, v93);
      uint64_t v98 = *(void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24);
      uint64_t v162 = *(void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v87 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v98);
      uint64_t v99 = v141;
      uint64_t v100 = v157;
      (*(void (**)(char *, void, uint64_t))(v141 + 104))(v157, enum case for TypeOfIntent.acousticID(_:), v17);
      uint64_t v101 = enum case for ActivityType.failed(_:);
      uint64_t v102 = sub_2944C0();
      uint64_t v103 = *(void *)(v102 - 8);
      uint64_t v104 = (uint64_t)v142;
      (*(void (**)(char *, uint64_t, uint64_t))(v103 + 104))(v142, v101, v102);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v103 + 56))(v104, 0, 1, v102);
      uint64_t v105 = sub_2949F0();
      uint64_t v106 = (uint64_t)v158;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v105 - 8) + 56))(v158, 1, 1, v105);
      uint64_t v107 = enum case for SiriKitReliabilityCodes.renderingError(_:);
      uint64_t v108 = sub_294170();
      uint64_t v109 = *(void *)(v108 - 8);
      uint64_t v110 = (uint64_t)v159;
      (*(void (**)(char *, uint64_t, uint64_t))(v109 + 104))(v159, v107, v108);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v109 + 56))(v110, 0, 1, v108);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v110, &qword_30D5B8);
      sub_23A44(v106, (uint64_t *)&unk_30FA50);
      sub_23A44(v104, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v99 + 8))(v100, v150);
      uint64_t v111 = v164;
      sub_294720();
      v166(v111);
      swift_release();
      swift_errorRelease();
      return (*(uint64_t (**)(char *, uint64_t))(v167 + 8))(v111, v168);
    }
    else
    {
      uint64_t v134 = v46;
      uint64_t v63 = *(int *)(v161 + 48);
      uint64_t v64 = sub_2949F0();
      uint64_t v135 = *(void *)(v64 - 8);
      uint64_t v65 = *(void (**)(uint64_t, uint64_t *))(v135 + 32);
      uint64_t v66 = v169;
      uint64_t v160 = v64;
      v65(v169, v28);
      uint64_t v67 = *(void **)((char *)v28 + v63);
      *(void *)(v66 + v63) = v67;
      if (v147)
      {
        uint64_t v68 = v153;
        unint64_t v69 = v151;
        uint64_t v70 = v155;
        (*(void (**)(char *, void, uint64_t))(v153 + 104))(v151, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v155);
        uint64_t v71 = v154;
        uint64_t v72 = v152;
        uint64_t v73 = v156;
        ((void (*)(char *, void, uint64_t))v154[13])(v152, enum case for AdditionalMetricsDescription.SourceFunction.pdanDlg(_:), v156);
        id v74 = v67;
        uint64_t v147 = sub_297230();
        ((void (*)(char *, uint64_t))v71[1])(v72, v73);
        (*(void (**)(char *, uint64_t))(v68 + 8))(v69, v70);
        uint64_t v75 = *(void *)(Strong
                        + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                        + 24);
        uint64_t v156 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 32);
        uint64_t v155 = (uint64_t)sub_74A4((void *)(Strong+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v75);
      }
      else
      {
        uint64_t v112 = v153;
        uint64_t v113 = v151;
        uint64_t v114 = v155;
        (*(void (**)(char *, void, uint64_t))(v153 + 104))(v151, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v155);
        uint64_t v115 = v154;
        uint64_t v116 = v152;
        uint64_t v117 = v156;
        ((void (*)(char *, void, uint64_t))v154[13])(v152, enum case for AdditionalMetricsDescription.SourceFunction.pdanDlg(_:), v156);
        (*(void (**)(char *, uint64_t, uint64_t))(v137 + 16))(v136, v139, v138);
        id v118 = v67;
        sub_2989E0();
        uint64_t v147 = sub_297230();
        swift_bridgeObjectRelease();
        ((void (*)(char *, uint64_t))v115[1])(v116, v117);
        (*(void (**)(char *, uint64_t))(v112 + 8))(v113, v114);
        uint64_t v155 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 24);
        uint64_t v156 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 32);
        uint64_t v154 = sub_74A4((void *)(Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v155);
      }
      uint64_t v76 = v141;
      long long v77 = v157;
      (*(void (**)(char *, void, uint64_t))(v141 + 104))(v157, enum case for TypeOfIntent.acousticID(_:), v17);
      uint64_t v78 = enum case for ActivityType.failed(_:);
      uint64_t v79 = sub_2944C0();
      uint64_t v80 = *(void *)(v79 - 8);
      uint64_t v81 = (uint64_t)v142;
      (*(void (**)(char *, uint64_t, uint64_t))(v80 + 104))(v142, v78, v79);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v80 + 56))(v81, 0, 1, v79);
      uint64_t v82 = (uint64_t)v158;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v135 + 56))(v158, 1, 1, v160);
      uint64_t v83 = sub_294170();
      uint64_t v84 = *(void *)(v83 - 8);
      uint64_t v85 = (uint64_t)v159;
      (*(void (**)(void))(v84 + 104))();
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v84 + 56))(v85, 0, 1, v83);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v85, &qword_30D5B8);
      sub_23A44(v82, (uint64_t *)&unk_30FA50);
      sub_23A44(v81, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v76 + 8))(v77, v150);
      uint64_t v119 = *(int *)(v161 + 48);
      uint64_t v120 = v135;
      uint64_t v121 = (uint64_t)v148;
      uint64_t v122 = v160;
      (*(void (**)(char *, uint64_t, uint64_t))(v135 + 16))(v148, v169, v160);
      *(void *)(v121 + v119) = v67;
      uint64_t v123 = Strong;
      sub_16CFD8(v121, v67);

      (*(void (**)(uint64_t, uint64_t))(v120 + 8))(v121, v122);
      NSString v124 = v149;
      uint64_t v125 = v171;
      v144(v149, v143, v171);
      id v126 = sub_2987E0();
      os_log_type_t v127 = sub_298DC0();
      if (os_log_type_enabled(v126, v127))
      {
        uint64_t v128 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v128 = 0;
        _os_log_impl(&dword_0, v126, v127, "AcousticIDFlow#errorDialog Dialog successfully generated, responding and exiting (privacy disclosure acknowledgement needed)", v128, 2u);
        swift_slowDealloc();
      }

      v146(v124, v125);
      uint64_t v129 = (uint64_t)v163;
      swift_storeEnumTagMultiPayload();
      uint64_t v130 = v123 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      sub_1743F0(v129, v130);
      swift_endAccess();
      uint64_t v131 = *(void *)(v123 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v132 = *(void *)(v123 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v123 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v131);
      (*(void (**)(uint64_t, uint64_t))(v132 + 24))(v131, v132);
      uint64_t v133 = v164;
      sub_294720();
      v166(v133);
      swift_release();
      (*(void (**)(char *, uint64_t))(v167 + 8))(v133, v168);
      return sub_23A44(v169, &qword_30D030);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v57 = v171;
    uint64_t v58 = sub_6E60(v171, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v29 + 16))(v39, v58, v57);
    uint64_t v59 = sub_2987E0();
    os_log_type_t v60 = sub_298DB0();
    if (os_log_type_enabled(v59, v60))
    {
      unint64_t v61 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v61 = 0;
      _os_log_impl(&dword_0, v59, v60, "AcousticIDFlow#errorDialog self deallocated prematurely (privacy disclosure acknowledgement needed)", v61, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v29 + 8))(v39, v57);
  }
}

uint64_t sub_16B5D4(void (*a1)(char *, uint64_t), uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void (*a6)(char *), uint64_t a7)
{
  uint64_t v161 = a7;
  uint64_t v162 = a6;
  uint64_t v135 = a5;
  uint64_t v141 = a4;
  uint64_t v136 = a3;
  uint64_t v156 = a1;
  uint64_t v7 = sub_294780();
  uint64_t v163 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v160 = (char *)&v130 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v158 = type metadata accessor for AcousticIDFlow.State(0);
  __chkstk_darwin(v158);
  uint64_t v159 = (char *)&v130 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v10 - 8);
  uint64_t v155 = (char *)&v130 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v12 - 8);
  uint64_t v154 = (char *)&v130 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v14 - 8);
  uint64_t v152 = (char *)&v130 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_296130();
  uint64_t v153 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v151 = (char *)&v130 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v134 = sub_71D4(&qword_313428);
  __chkstk_darwin(v134);
  uint64_t v133 = (uint64_t)&v130 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v150 = sub_297280();
  uint64_t v148 = *(void **)(v150 - 8);
  __chkstk_darwin(v150);
  uint64_t v146 = (char *)&v130 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v149 = sub_297210();
  uint64_t v147 = *(void *)(v149 - 8);
  __chkstk_darwin(v149);
  uint64_t v145 = (char *)&v130 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v157 = sub_71D4(&qword_30D030);
  uint64_t v21 = __chkstk_darwin(v157);
  id v142 = (char *)&v130 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v21);
  uint64_t v164 = (uint64_t)&v130 - v23;
  uint64_t v24 = sub_71D4((uint64_t *)&unk_30FA30);
  __chkstk_darwin(v24);
  uint64_t v26 = (uint64_t *)((char *)&v130 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v27 = sub_298800();
  uint64_t v28 = *(void *)(v27 - 8);
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v31 = (char *)&v130 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = __chkstk_darwin(v29);
  uint64_t v143 = (char *)&v130 - v33;
  uint64_t v34 = __chkstk_darwin(v32);
  uint64_t v36 = (char *)&v130 - v35;
  __chkstk_darwin(v34);
  uint64_t v38 = (char *)&v130 - v37;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v140 = v7;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v39 = sub_6E60(v27, (uint64_t)qword_31FC20);
    uint64_t v40 = *(void (**)(char *, uint64_t, uint64_t))(v28 + 16);
    uint64_t v137 = v39;
    uint64_t v139 = v28 + 16;
    uint64_t v138 = v40;
    ((void (*)(char *))v40)(v36);
    uint64_t v41 = sub_2987E0();
    os_log_type_t v42 = sub_298DC0();
    if (os_log_type_enabled(v41, v42))
    {
      os_log_type_t v43 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)os_log_type_t v43 = 0;
      _os_log_impl(&dword_0, v41, v42, "AcousticIDFlow#errorDialog", v43, 2u);
      swift_slowDealloc();
    }

    BOOL v44 = *(void (**)(char *, uint64_t))(v28 + 8);
    v44(v36, v27);
    sub_11E58((uint64_t)v156, (uint64_t)v26, (uint64_t *)&unk_30FA30);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    uint64_t v144 = v16;
    if (EnumCaseMultiPayload == 1)
    {
      uint64_t v46 = *v26;
      v138(v31, v137, v27);
      swift_errorRetain();
      uint64_t v164 = v46;
      swift_errorRetain();
      uint64_t v47 = sub_2987E0();
      os_log_type_t v48 = sub_298DB0();
      if (os_log_type_enabled(v47, v48))
      {
        unint64_t v49 = (uint8_t *)swift_slowAlloc();
        uint64_t v166 = swift_slowAlloc();
        *(_DWORD *)unint64_t v49 = 136315138;
        uint64_t v156 = v44;
        uint64_t v157 = (uint64_t)(v49 + 4);
        swift_getErrorValue();
        uint64_t v167 = sub_299620();
        uint64_t v168 = v50;
        uint64_t v51 = sub_298B00();
        uint64_t v167 = sub_6E98(v51, v52, &v166);
        uint64_t v16 = v144;
        sub_2992C0();
        swift_bridgeObjectRelease();
        swift_errorRelease();
        swift_errorRelease();
        _os_log_impl(&dword_0, v47, v48, "AcousticIDFlow#errorDialog Could not properly create dialog %s, silently failing", v49, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        v156(v31, v27);
      }
      else
      {
        swift_errorRelease();
        swift_errorRelease();

        v44(v31, v27);
      }
      uint64_t v82 = (uint64_t)v159;
      swift_storeEnumTagMultiPayload();
      uint64_t v83 = Strong;
      uint64_t v84 = Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      sub_1743F0(v82, v84);
      swift_endAccess();
      uint64_t v85 = *(void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v86 = *(void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v85);
      (*(void (**)(uint64_t, uint64_t))(v86 + 24))(v85, v86);
      uint64_t v87 = v147;
      uint64_t v88 = v145;
      uint64_t v89 = v149;
      (*(void (**)(char *, void, uint64_t))(v147 + 104))(v145, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v149);
      uint64_t v90 = v148;
      uint64_t v91 = v146;
      uint64_t v92 = v150;
      ((void (*)(char *, void, uint64_t))v148[13])(v146, enum case for AdditionalMetricsDescription.SourceFunction.errDlg(_:), v150);
      swift_getErrorValue();
      sub_299620();
      uint64_t v159 = (char *)sub_297230();
      uint64_t v158 = v93;
      swift_bridgeObjectRelease();
      ((void (*)(char *, uint64_t))v90[1])(v91, v92);
      (*(void (**)(char *, uint64_t))(v87 + 8))(v88, v89);
      uint64_t v94 = *(void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24);
      uint64_t v157 = *(void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v83 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v94);
      uint64_t v95 = v153;
      uint64_t v96 = v151;
      (*(void (**)(char *, void, uint64_t))(v153 + 104))(v151, enum case for TypeOfIntent.acousticID(_:), v16);
      uint64_t v97 = enum case for ActivityType.failed(_:);
      uint64_t v98 = sub_2944C0();
      uint64_t v99 = *(void *)(v98 - 8);
      uint64_t v100 = (uint64_t)v152;
      (*(void (**)(char *, uint64_t, uint64_t))(v99 + 104))(v152, v97, v98);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v99 + 56))(v100, 0, 1, v98);
      uint64_t v101 = sub_2949F0();
      uint64_t v102 = (uint64_t)v154;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v101 - 8) + 56))(v154, 1, 1, v101);
      uint64_t v103 = enum case for SiriKitReliabilityCodes.renderingError(_:);
      uint64_t v104 = sub_294170();
      uint64_t v105 = *(void *)(v104 - 8);
      uint64_t v106 = (uint64_t)v155;
      (*(void (**)(char *, uint64_t, uint64_t))(v105 + 104))(v155, v103, v104);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v105 + 56))(v106, 0, 1, v104);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v106, &qword_30D5B8);
      sub_23A44(v102, (uint64_t *)&unk_30FA50);
      sub_23A44(v100, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v95 + 8))(v96, v144);
      uint64_t v107 = v160;
      sub_294720();
      v162(v107);
      swift_release();
      swift_errorRelease();
      return (*(uint64_t (**)(char *, uint64_t))(v163 + 8))(v107, v140);
    }
    else
    {
      uint64_t v156 = v44;
      uint64_t v130 = v28 + 8;
      uint64_t v58 = *(int *)(v157 + 48);
      uint64_t v59 = sub_2949F0();
      uint64_t v131 = *(void *)(v59 - 8);
      os_log_type_t v60 = *(void (**)(uint64_t, uint64_t *))(v131 + 32);
      uint64_t v61 = v164;
      uint64_t v132 = v59;
      v60(v164, v26);
      uint64_t v62 = *(void **)((char *)v26 + v58);
      *(void *)(v61 + v58) = v62;
      if (v141)
      {
        uint64_t v63 = v147;
        uint64_t v64 = v145;
        uint64_t v65 = v149;
        (*(void (**)(char *, void, uint64_t))(v147 + 104))(v145, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v149);
        uint64_t v66 = v148;
        uint64_t v67 = v146;
        uint64_t v68 = v150;
        ((void (*)(char *, void, uint64_t))v148[13])(v146, enum case for AdditionalMetricsDescription.SourceFunction.errDlg(_:), v150);
        id v69 = v62;
        uint64_t v136 = sub_297230();
        uint64_t v141 = v70;
        ((void (*)(char *, uint64_t))v66[1])(v67, v68);
        (*(void (**)(char *, uint64_t))(v63 + 8))(v64, v65);
        uint64_t v71 = *(void *)(Strong
                        + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                        + 24);
        uint64_t v150 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 32);
        uint64_t v149 = (uint64_t)sub_74A4((void *)(Strong+ OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v71);
      }
      else
      {
        uint64_t v108 = v147;
        uint64_t v109 = v145;
        uint64_t v110 = v149;
        (*(void (**)(char *, void, uint64_t))(v147 + 104))(v145, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v149);
        uint64_t v111 = v148;
        uint64_t v112 = v146;
        uint64_t v113 = v150;
        ((void (*)(char *, void, uint64_t))v148[13])(v146, enum case for AdditionalMetricsDescription.SourceFunction.errDlg(_:), v150);
        sub_11E58(v135, v133, &qword_313428);
        id v114 = v62;
        sub_2989E0();
        uint64_t v136 = sub_297230();
        uint64_t v141 = v115;
        swift_bridgeObjectRelease();
        ((void (*)(char *, uint64_t))v111[1])(v112, v113);
        (*(void (**)(char *, uint64_t))(v108 + 8))(v109, v110);
        uint64_t v149 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 24);
        uint64_t v150 = *(void *)(Strong
                         + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider
                         + 32);
        uint64_t v148 = sub_74A4((void *)(Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v149);
      }
      uint64_t v72 = v153;
      uint64_t v73 = v151;
      (*(void (**)(char *, void, uint64_t))(v153 + 104))(v151, enum case for TypeOfIntent.acousticID(_:), v16);
      uint64_t v74 = enum case for ActivityType.failed(_:);
      uint64_t v75 = sub_2944C0();
      uint64_t v76 = *(void *)(v75 - 8);
      uint64_t v77 = (uint64_t)v152;
      (*(void (**)(char *, uint64_t, uint64_t))(v76 + 104))(v152, v74, v75);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v76 + 56))(v77, 0, 1, v75);
      uint64_t v78 = (uint64_t)v154;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v131 + 56))(v154, 1, 1, v132);
      uint64_t v79 = sub_294170();
      uint64_t v80 = *(void *)(v79 - 8);
      uint64_t v81 = (uint64_t)v155;
      (*(void (**)(void))(v80 + 104))();
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v80 + 56))(v81, 0, 1, v79);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v81, &qword_30D5B8);
      sub_23A44(v78, (uint64_t *)&unk_30FA50);
      sub_23A44(v77, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v72 + 8))(v73, v144);
      uint64_t v116 = *(int *)(v157 + 48);
      uint64_t v117 = v131;
      uint64_t v118 = (uint64_t)v142;
      uint64_t v119 = v132;
      (*(void (**)(char *, uint64_t, uint64_t))(v131 + 16))(v142, v164, v132);
      *(void *)(v118 + v116) = v62;
      uint64_t v120 = Strong;
      sub_16CFD8(v118, v62);

      (*(void (**)(uint64_t, uint64_t))(v117 + 8))(v118, v119);
      uint64_t v121 = v143;
      v138(v143, v137, v27);
      uint64_t v122 = sub_2987E0();
      os_log_type_t v123 = sub_298DC0();
      if (os_log_type_enabled(v122, v123))
      {
        NSString v124 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)NSString v124 = 0;
        _os_log_impl(&dword_0, v122, v123, "AcousticIDFlow#errorDialog Dialog successfully generated, responding and exiting", v124, 2u);
        swift_slowDealloc();
      }

      v156(v121, v27);
      uint64_t v125 = (uint64_t)v159;
      swift_storeEnumTagMultiPayload();
      uint64_t v126 = v120 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state;
      swift_beginAccess();
      sub_1743F0(v125, v126);
      swift_endAccess();
      uint64_t v127 = *(void *)(v120 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 24);
      uint64_t v128 = *(void *)(v120 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer + 32);
      sub_74A4((void *)(v120 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer), v127);
      (*(void (**)(uint64_t, uint64_t))(v128 + 24))(v127, v128);
      uint64_t v129 = v160;
      sub_294720();
      v162(v129);
      swift_release();
      (*(void (**)(char *, uint64_t))(v163 + 8))(v129, v140);
      return sub_23A44(v164, &qword_30D030);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v53 = sub_6E60(v27, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v38, v53, v27);
    uint64_t v54 = sub_2987E0();
    os_log_type_t v55 = sub_298DB0();
    if (os_log_type_enabled(v54, v55))
    {
      unint64_t v56 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v56 = 0;
      _os_log_impl(&dword_0, v54, v55, "AcousticIDFlow#errorDialog self deallocated prematurely", v56, 2u);
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v28 + 8))(v38, v27);
  }
}

uint64_t sub_16CD0C(uint64_t a1, uint64_t a2)
{
  *(void *)(v2 + 80) = a1;
  *(void *)(v2 + 88) = a2;
  return _swift_task_switch(sub_16CD2C, 0, 0);
}

uint64_t sub_16CD2C()
{
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    sub_18D5C(Strong + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager, (uint64_t)(v0 + 2));
    swift_release();
    uint64_t v2 = v0[5];
    uint64_t v3 = v0[6];
    sub_74A4(v0 + 2, v2);
    uint64_t v4 = (void *)swift_task_alloc();
    v0[12] = v4;
    void *v4 = v0;
    v4[1] = sub_16CE68;
    return dispatch thunk of ShazamSessionManaging.sessionIDString()(v2, v3);
  }
  else
  {
    uint64_t v5 = (void *)v0[10];
    *uint64_t v5 = 0;
    v5[1] = 0;
    uint64_t v6 = (uint64_t (*)(void))v0[1];
    return v6();
  }
}

uint64_t sub_16CE68(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *v2;
  *(void *)(v3 + 104) = a1;
  *(void *)(v3 + 112) = a2;
  swift_task_dealloc();
  return _swift_task_switch(sub_16CF68, 0, 0);
}

uint64_t sub_16CF68()
{
  sub_7184(v0 + 16);
  *(_OWORD *)*(void *)(v0 + 80) = *(_OWORD *)(v0 + 104);
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_16CFD8(uint64_t a1, void *a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_298800();
  uint64_t v40 = *(void *)(v6 - 8);
  uint64_t v41 = v6;
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_71D4(&qword_30D030);
  uint64_t v10 = __chkstk_darwin(v9);
  uint64_t v39 = (char *)v33 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v33 - v12;
  uint64_t v14 = sub_2949F0();
  uint64_t v15 = *(void *)(v14 - 8);
  uint64_t v37 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
  uint64_t v38 = v15;
  v37(v13, a1, v14);
  *(void *)&v13[*(int *)(v9 + 48)] = a2;
  sub_74A4((void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider), *(void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider + 24));
  id v16 = a2;
  if (sub_296C00())
  {
    id v36 = v16;
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v17 = v41;
    uint64_t v18 = sub_6E60(v41, (uint64_t)qword_31FC20);
    uint64_t v19 = v40;
    (*(void (**)(char *, uint64_t, uint64_t))(v40 + 16))(v8, v18, v17);
    uint64_t v20 = sub_2987E0();
    os_log_type_t v21 = sub_298DC0();
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v35 = v3;
      uint64_t v22 = (uint8_t *)swift_slowAlloc();
      uint64_t v34 = swift_slowAlloc();
      uint64_t v43 = v34;
      *(_DWORD *)uint64_t v22 = 136446210;
      v33[1] = v22 + 4;
      uint64_t v23 = sub_2973F0();
      uint64_t v42 = sub_6E98(v23, v24, &v43);
      sub_2992C0();
      uint64_t v3 = v35;
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v20, v21, "AcousticIDFlow#publishCancelOutputWithRF... %{public}s", v22, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v40 + 8))(v8, v41);
    }
    else
    {

      (*(void (**)(char *, uint64_t))(v19 + 8))(v8, v17);
    }
    uint64_t v27 = sub_74A4((void *)(v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_outputProvider), *(void *)(v3 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_outputProvider + 24));
    uint64_t v28 = *(int *)(v9 + 48);
    uint64_t v29 = (uint64_t)v39;
    v37(v39, (uint64_t)v13, v14);
    uint64_t v30 = v36;
    *(void *)(v29 + v28) = v36;
    swift_allocObject();
    swift_weakInit();
    uint64_t v31 = *v27;
    id v32 = v30;
    sub_1D2098(v29, v32, v31);

    sub_23A44((uint64_t)v13, &qword_30D030);
    swift_release();
    return (*(uint64_t (**)(uint64_t, uint64_t))(v38 + 8))(v29, v14);
  }
  else
  {
    uint64_t v25 = (void *)sub_294480();
    sub_74A4((void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_aceServiceInvokerAsync), *(void *)(v2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_aceServiceInvokerAsync + 24));
    sub_294C80();

    return sub_23A44((uint64_t)v13, &qword_30D030);
  }
}

uint64_t sub_16D478(uint64_t a1)
{
  uint64_t v96 = a1;
  uint64_t v1 = sub_71D4(&qword_30D5B8);
  __chkstk_darwin(v1 - 8);
  uint64_t v95 = (char *)&v82 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_71D4((uint64_t *)&unk_30FA50);
  __chkstk_darwin(v3 - 8);
  uint64_t v94 = (char *)&v82 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_71D4(&qword_30D5C0);
  __chkstk_darwin(v5 - 8);
  uint64_t v92 = (char *)&v82 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v97 = sub_296130();
  uint64_t v93 = *(void *)(v97 - 8);
  __chkstk_darwin(v97);
  uint64_t v91 = (char *)&v82 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_297270();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v82 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v90 = sub_297280();
  uint64_t v89 = *(void *)(v90 - 8);
  __chkstk_darwin(v90);
  uint64_t v13 = (char *)&v82 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v88 = sub_297210();
  uint64_t v87 = *(void *)(v88 - 8);
  __chkstk_darwin(v88);
  uint64_t v15 = (char *)&v82 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_298800();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = __chkstk_darwin(v16);
  uint64_t v20 = (char *)&v82 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v82 - v21;
  swift_beginAccess();
  uint64_t Strong = swift_weakLoadStrong();
  if (Strong)
  {
    uint64_t v24 = Strong;
    sub_11E58(v96, (uint64_t)&v100, (uint64_t *)&unk_30FA80);
    uint64_t v86 = v24;
    if (v101)
    {
      uint64_t v25 = v100;
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v26 = sub_6E60(v16, (uint64_t)qword_31FC20);
      uint64_t v27 = v17;
      (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v20, v26, v16);
      swift_errorRetain();
      swift_errorRetain();
      uint64_t v28 = sub_2987E0();
      os_log_type_t v29 = sub_298DB0();
      int v30 = v29;
      if (os_log_type_enabled(v28, v29))
      {
        uint64_t v31 = swift_slowAlloc();
        uint64_t v96 = swift_slowAlloc();
        uint64_t v99 = v96;
        *(_DWORD *)uint64_t v31 = 136315394;
        uint64_t v82 = v31 + 4;
        swift_getErrorValue();
        os_log_t v85 = v28;
        v98[0] = sub_299620();
        v98[1] = v32;
        uint64_t v33 = v25;
        uint64_t v34 = sub_298B00();
        v98[0] = sub_6E98(v34, v35, &v99);
        int v83 = v30;
        sub_2992C0();
        swift_bridgeObjectRelease();
        swift_errorRelease();
        swift_errorRelease();
        *(_WORD *)(v31 + 12) = 2082;
        uint64_t v36 = sub_2973F0();
        v98[0] = sub_6E98(v36, v37, &v99);
        sub_2992C0();
        swift_bridgeObjectRelease();
        os_log_t v38 = v85;
        _os_log_impl(&dword_0, v85, (os_log_type_t)v83, "AcousticIDFlow#publishCancelOutput failed to create output %s  %{public}s", (uint8_t *)v31, 0x16u);
        swift_arrayDestroy();
        swift_slowDealloc();
        uint64_t v24 = v86;
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v27 + 8))(v20, v16);
      }
      else
      {
        swift_errorRelease();
        swift_errorRelease();

        (*(void (**)(char *, uint64_t))(v17 + 8))(v20, v16);
        uint64_t v33 = v25;
      }
      uint64_t v84 = v33;
      uint64_t v64 = v87;
      uint64_t v65 = v88;
      (*(void (**)(char *, void, uint64_t))(v87 + 104))(v15, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v88);
      uint64_t v66 = v89;
      uint64_t v67 = v90;
      (*(void (**)(char *, void, uint64_t))(v89 + 104))(v13, enum case for AdditionalMetricsDescription.SourceFunction.pubCnclOutput(_:), v90);
      swift_getErrorValue();
      sub_299620();
      uint64_t v96 = sub_297230();
      os_log_t v85 = v68;
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v66 + 8))(v13, v67);
      (*(void (**)(char *, uint64_t))(v64 + 8))(v15, v65);
      uint64_t v69 = *(void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24);
      uint64_t v90 = *(void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v69);
      uint64_t v70 = v93;
      uint64_t v71 = v91;
      (*(void (**)(char *, void, uint64_t))(v93 + 104))(v91, enum case for TypeOfIntent.acousticID(_:), v97);
      uint64_t v72 = enum case for ActivityType.failed(_:);
      uint64_t v73 = sub_2944C0();
      uint64_t v74 = *(void *)(v73 - 8);
      uint64_t v75 = (uint64_t)v92;
      (*(void (**)(char *, uint64_t, uint64_t))(v74 + 104))(v92, v72, v73);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v74 + 56))(v75, 0, 1, v73);
      uint64_t v76 = sub_2949F0();
      uint64_t v77 = (uint64_t)v94;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v76 - 8) + 56))(v94, 1, 1, v76);
      uint64_t v78 = enum case for SiriKitReliabilityCodes.renderingError(_:);
      uint64_t v79 = sub_294170();
      uint64_t v80 = *(void *)(v79 - 8);
      uint64_t v81 = (uint64_t)v95;
      (*(void (**)(char *, uint64_t, uint64_t))(v80 + 104))(v95, v78, v79);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v80 + 56))(v81, 0, 1, v79);
      sub_295CA0();
      swift_release();
      swift_bridgeObjectRelease();
      swift_errorRelease();
      sub_23A44(v81, &qword_30D5B8);
      sub_23A44(v77, (uint64_t *)&unk_30FA50);
      sub_23A44(v75, &qword_30D5C0);
      return (*(uint64_t (**)(char *, uint64_t))(v70 + 8))(v71, v97);
    }
    else
    {
      sub_11EBC(&v100, (uint64_t)v98);
      uint64_t v46 = v87;
      uint64_t v47 = v88;
      (*(void (**)(char *, void, uint64_t))(v87 + 104))(v15, enum case for AdditionalMetricsDescription.ModuleName.aidf(_:), v88);
      uint64_t v48 = v89;
      uint64_t v49 = v90;
      (*(void (**)(char *, void, uint64_t))(v89 + 104))(v13, enum case for AdditionalMetricsDescription.SourceFunction.pubCnclOutput(_:), v90);
      (*(void (**)(char *, void, uint64_t))(v9 + 104))(v11, enum case for AdditionalMetricsDescription.StatusReason.success(_:), v8);
      uint64_t v96 = sub_297220();
      os_log_t v85 = v50;
      (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
      (*(void (**)(char *, uint64_t))(v48 + 8))(v13, v49);
      (*(void (**)(char *, uint64_t))(v46 + 8))(v15, v47);
      uint64_t v51 = *(void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 24);
      uint64_t v90 = *(void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider + 32);
      sub_74A4((void *)(v24 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider), v51);
      uint64_t v52 = v93;
      uint64_t v53 = v91;
      (*(void (**)(char *, void, uint64_t))(v93 + 104))(v91, enum case for TypeOfIntent.acousticID(_:), v97);
      uint64_t v54 = enum case for ActivityType.completed(_:);
      uint64_t v55 = sub_2944C0();
      uint64_t v56 = *(void *)(v55 - 8);
      uint64_t v57 = (uint64_t)v92;
      (*(void (**)(char *, uint64_t, uint64_t))(v56 + 104))(v92, v54, v55);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v56 + 56))(v57, 0, 1, v55);
      uint64_t v58 = sub_2949F0();
      uint64_t v59 = (uint64_t)v94;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v58 - 8) + 56))(v94, 1, 1, v58);
      uint64_t v60 = enum case for SiriKitReliabilityCodes.success(_:);
      uint64_t v61 = sub_294170();
      uint64_t v62 = *(void *)(v61 - 8);
      uint64_t v63 = (uint64_t)v95;
      (*(void (**)(char *, uint64_t, uint64_t))(v62 + 104))(v95, v60, v61);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v62 + 56))(v63, 0, 1, v61);
      sub_295CA0();
      swift_bridgeObjectRelease();
      sub_23A44(v63, &qword_30D5B8);
      sub_23A44(v59, (uint64_t *)&unk_30FA50);
      sub_23A44(v57, &qword_30D5C0);
      (*(void (**)(char *, uint64_t))(v52 + 8))(v53, v97);
      sub_74A4((void *)(v86 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher), *(void *)(v86 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher + 24));
      sub_2948D0();
      swift_release();
      return sub_7184((uint64_t)v98);
    }
  }
  else
  {
    if (qword_30C850 != -1) {
      swift_once();
    }
    uint64_t v39 = sub_6E60(v16, (uint64_t)qword_31FC20);
    (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v22, v39, v16);
    uint64_t v40 = sub_2987E0();
    os_log_type_t v41 = sub_298DB0();
    if (os_log_type_enabled(v40, v41))
    {
      uint64_t v42 = (uint8_t *)swift_slowAlloc();
      *(void *)&long long v100 = swift_slowAlloc();
      *(_DWORD *)uint64_t v42 = 136446210;
      uint64_t v43 = sub_2973F0();
      v98[0] = sub_6E98(v43, v44, (uint64_t *)&v100);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v40, v41, "AcousticIDFlow#errorDialog self deallocated prematurely  %{public}s", v42, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    return (*(uint64_t (**)(char *, uint64_t))(v17 + 8))(v22, v16);
  }
}

uint64_t sub_16E3B8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_298800();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v19 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v12 = sub_6E60(v8, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v12, v8);
  uint64_t v13 = sub_2987E0();
  os_log_type_t v14 = sub_298DC0();
  if (os_log_type_enabled(v13, v14))
  {
    uint64_t v15 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v15 = 0;
    _os_log_impl(&dword_0, v13, v14, "AcousticIDFlow#successfulMatchSnippet executing", v15, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  uint64_t v16 = (void *)swift_allocObject();
  v16[2] = a1;
  v16[3] = a2;
  v16[4] = a3;
  sub_74A4((void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider), *(void *)(v4 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider + 24));
  uint64_t v17 = swift_allocObject();
  *(void *)(v17 + 16) = sub_171E78;
  *(void *)(v17 + 24) = v16;
  swift_retain();
  swift_retain();
  swift_retain();
  sub_296E80();
  swift_release();
  return swift_release();
}

uint64_t sub_16E61C(int a1, void *a2, void (*a3)(id), uint64_t a4)
{
  uint64_t v136 = a4;
  uint64_t v137 = a3;
  LODWORD(v135) = a1;
  uint64_t v128 = sub_2936E0();
  uint64_t v127 = *(void *)(v128 - 8);
  __chkstk_darwin(v128);
  uint64_t v126 = (char *)&v104 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_71D4(&qword_3134F8);
  __chkstk_darwin(v6 - 8);
  uint64_t v125 = (char *)&v104 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = sub_293BB0();
  uint64_t v130 = *(void *)(v124 - 8);
  __chkstk_darwin(v124);
  uint64_t v129 = (char *)&v104 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v122 = sub_71D4((uint64_t *)&unk_312120);
  __chkstk_darwin(v122);
  uint64_t v121 = (uint64_t)&v104 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_298800();
  uint64_t v143 = *(void *)(v10 - 8);
  uint64_t v144 = v10;
  uint64_t v11 = __chkstk_darwin(v10);
  uint64_t v132 = (char *)&v104 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = __chkstk_darwin(v11);
  uint64_t v131 = (char *)&v104 - v14;
  __chkstk_darwin(v13);
  unint64_t v133 = (unint64_t)&v104 - v15;
  matched = (int *)type metadata accessor for ShazamSuccessfulMatchModel();
  __chkstk_darwin(matched);
  uint64_t v18 = (uint64_t *)((char *)&v104 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v20 = a2[2];
  uint64_t v19 = a2[3];
  uint64_t v21 = a2[4];
  uint64_t v134 = a2[5];
  uint64_t v22 = a2[7];
  uint64_t v23 = a2[8];
  uint64_t v24 = a2[9];
  uint64_t v25 = a2[14];
  uint64_t v138 = a2[6];
  uint64_t v139 = v25;
  uint64_t v26 = a2[10];
  uint64_t v140 = a2[15];
  uint64_t v141 = v26;
  *(void *)&long long v142 = a2[11];
  uint64_t v27 = (uint64_t)v18 + matched[10];
  uint64_t v115 = (uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_appleMusicURL;
  sub_11E58((uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_appleMusicURL, v27, (uint64_t *)&unk_312120);
  uint64_t v28 = (uint64_t)v18 + matched[11];
  uint64_t v116 = (uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_webURL;
  sub_11E58((uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_webURL, v28, (uint64_t *)&unk_312120);
  uint64_t v29 = (uint64_t)v18 + matched[12];
  uint64_t v117 = (uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_artworkURL;
  sub_11E58((uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_artworkURL, v29, (uint64_t *)&unk_312120);
  uint64_t v30 = (uint64_t)v18 + matched[13];
  uint64_t v118 = (uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_videoURL;
  sub_11E58((uint64_t)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_videoURL, v30, (uint64_t *)&unk_312120);
  int v31 = *((unsigned __int8 *)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_explicitContent);
  uint64_t v32 = *(void *)((char *)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_isrc);
  uint64_t v33 = *(void *)((char *)a2 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14ShazamKitMatch_isrc + 8);
  uint64_t v123 = v20;
  uint64_t *v18 = v20;
  v18[1] = v19;
  uint64_t v34 = v19;
  uint64_t v112 = v21;
  uint64_t v35 = v134;
  v18[2] = v21;
  v18[3] = v35;
  v18[4] = v138;
  v18[5] = v22;
  uint64_t v113 = v23;
  v18[6] = v23;
  v18[7] = v24;
  uint64_t v36 = v140;
  v18[8] = v139;
  v18[9] = v36;
  uint64_t v37 = v142;
  v18[10] = v141;
  v18[11] = v37;
  uint64_t v38 = matched[14];
  int v119 = v31;
  *((unsigned char *)v18 + v38) = v31;
  uint64_t v39 = (uint64_t *)((char *)v18 + matched[15]);
  uint64_t v120 = v32;
  *uint64_t v39 = v32;
  v39[1] = v33;
  *((unsigned char *)v18 + matched[16]) = v135;
  sub_293400();
  uint64_t v135 = swift_allocObject();
  uint64_t v114 = v33;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  sub_2933F0();
  sub_17569C(&qword_313500, (void (*)(uint64_t))type metadata accessor for ShazamSuccessfulMatchModel);
  uint64_t v40 = sub_2933E0();
  uint64_t v108 = v34;
  uint64_t v41 = v35;
  uint64_t v107 = v24;
  uint64_t v42 = v131;
  unint64_t v133 = v43;
  uint64_t v135 = v40;
  swift_release();
  sub_171E8C((uint64_t)v18, (uint64_t (*)(void))type metadata accessor for ShazamSuccessfulMatchModel);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v44 = v144;
  uint64_t v45 = sub_6E60(v144, (uint64_t)qword_31FC20);
  uint64_t v46 = v143;
  uint64_t v47 = *(void (**)(char *, uint64_t, uint64_t))(v143 + 16);
  uint64_t v48 = v42;
  uint64_t v111 = v45;
  uint64_t v110 = v143 + 16;
  uint64_t v109 = v47;
  ((void (*)(char *))v47)(v42);
  swift_retain_n();
  uint64_t v49 = sub_2987E0();
  os_log_type_t v50 = sub_298DC0();
  int v51 = v50;
  BOOL v52 = os_log_type_enabled(v49, v50);
  uint64_t v53 = v41;
  uint64_t v54 = v108;
  uint64_t v55 = v123;
  if (v52)
  {
    uint64_t v56 = swift_slowAlloc();
    os_log_t v105 = v49;
    uint64_t v57 = v56;
    uint64_t v106 = swift_slowAlloc();
    uint64_t v146 = v54;
    uint64_t v147 = v106;
    *(_DWORD *)uint64_t v57 = 136317954;
    uint64_t v145 = v55;
    swift_bridgeObjectRetain();
    sub_71D4((uint64_t *)&unk_313920);
    uint64_t v58 = sub_2989E0();
    uint64_t v145 = sub_6E98(v58, v59, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 12) = 2080;
    uint64_t v145 = v112;
    uint64_t v146 = v53;
    swift_bridgeObjectRetain();
    uint64_t v60 = sub_2989E0();
    uint64_t v145 = sub_6E98(v60, v61, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 22) = 2080;
    uint64_t v145 = v138;
    uint64_t v146 = v22;
    swift_bridgeObjectRetain();
    uint64_t v62 = sub_2989E0();
    LODWORD(v138) = v51;
    uint64_t v145 = sub_6E98(v62, v63, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 32) = 2080;
    uint64_t v145 = v113;
    uint64_t v146 = v107;
    swift_bridgeObjectRetain();
    uint64_t v64 = sub_2989E0();
    uint64_t v145 = sub_6E98(v64, v65, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 42) = 2080;
    uint64_t v145 = v139;
    uint64_t v146 = v140;
    swift_bridgeObjectRetain();
    uint64_t v66 = sub_2989E0();
    uint64_t v145 = sub_6E98(v66, v67, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 52) = 2080;
    uint64_t v145 = v141;
    uint64_t v146 = v142;
    swift_bridgeObjectRetain();
    uint64_t v68 = sub_2989E0();
    uint64_t v145 = sub_6E98(v68, v69, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 62) = 2080;
    uint64_t v70 = v121;
    sub_11E58(v115, v121, (uint64_t *)&unk_312120);
    uint64_t v71 = sub_2989E0();
    uint64_t v145 = sub_6E98(v71, v72, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 72) = 2080;
    sub_11E58(v116, v70, (uint64_t *)&unk_312120);
    uint64_t v73 = sub_2989E0();
    uint64_t v145 = sub_6E98(v73, v74, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 82) = 2080;
    sub_11E58(v117, v70, (uint64_t *)&unk_312120);
    uint64_t v75 = sub_2989E0();
    uint64_t v145 = sub_6E98(v75, v76, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 92) = 2080;
    sub_11E58(v118, v70, (uint64_t *)&unk_312120);
    uint64_t v77 = sub_2989E0();
    uint64_t v145 = sub_6E98(v77, v78, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 102) = 2080;
    LOBYTE(v145) = v119;
    sub_71D4(&qword_313518);
    uint64_t v79 = sub_2989E0();
    uint64_t v145 = sub_6E98(v79, v80, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v57 + 112) = 2080;
    uint64_t v145 = v120;
    uint64_t v146 = v114;
    swift_bridgeObjectRetain();
    uint64_t v81 = sub_2989E0();
    uint64_t v145 = sub_6E98(v81, v82, &v147);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    os_log_t v83 = v105;
    _os_log_impl(&dword_0, v105, (os_log_type_t)v138, "AcousticIDFlow#successfulMatchSnippet Logs skID: %s title: %s subtitle: %s artist: %s genre: %s appleMusicID: %s appleMusicURL: %s webURL: %s artworkURL: %s videoURL: %s explicitContent: %s isrc: %s...", (uint8_t *)v57, 0x7Au);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    uint64_t v44 = v144;
    uint64_t v84 = *(void (**)(char *, uint64_t))(v143 + 8);
    v84(v131, v144);
  }
  else
  {

    swift_release_n();
    uint64_t v84 = *(void (**)(char *, uint64_t))(v46 + 8);
    v84(v48, v44);
  }
  uint64_t v85 = v124;
  sub_71D4(&qword_313508);
  uint64_t v86 = swift_allocObject();
  long long v142 = xmmword_29A440;
  *(_OWORD *)(v86 + 16) = xmmword_29A440;
  sub_71D4(&qword_313510);
  uint64_t v87 = swift_allocObject();
  *(_OWORD *)(v87 + 16) = v142;
  *(void *)(v87 + 56) = sub_293B60();
  *(void *)(v87 + 64) = &protocol witness table for CustomCanvas;
  sub_12B48((uint64_t *)(v87 + 32));
  sub_BDFA4(v135, v133);
  sub_293B50();
  uint64_t v88 = sub_293B40();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v88 - 8) + 56))(v125, 1, 1, v88);
  uint64_t v89 = sub_293B70();
  sub_171EEC(v89);
  swift_bridgeObjectRelease();
  *(void *)(v86 + 56) = sub_293B90();
  *(void *)(v86 + 64) = &protocol witness table for Section;
  sub_12B48((uint64_t *)(v86 + 32));
  sub_293BA0();
  uint64_t v90 = v129;
  sub_293BC0();
  id v91 = [objc_allocWithZone((Class)SAUIVisualResponseSnippet) init];
  uint64_t v92 = v126;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v127 + 8))(v92, v128);
  NSString v93 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v91 setAceId:v93];

  id v94 = v91;
  NSString v95 = sub_2989B0();
  [v94 setViewId:v95];

  uint64_t v96 = v132;
  v109(v132, v111, v44);
  uint64_t v97 = sub_2987E0();
  os_log_type_t v98 = sub_298DC0();
  BOOL v99 = os_log_type_enabled(v97, v98);
  uint64_t v100 = v130;
  if (v99)
  {
    char v101 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)char v101 = 0;
    _os_log_impl(&dword_0, v97, v98, "AcousticIDFlow#successfulMatchSnippet Successfully generate iOS view", v101, 2u);
    uint64_t v96 = v132;
    swift_slowDealloc();
  }

  v84(v96, v44);
  id v102 = v94;
  v137(v94);

  sub_BDFFC(v135, v133);
  return (*(uint64_t (**)(char *, uint64_t))(v100 + 8))(v90, v85);
}

uint64_t sub_16F6E4(uint64_t a1, uint64_t (*a2)(BOOL), uint64_t a3)
{
  uint64_t v42 = a2;
  uint64_t v5 = sub_296FB0();
  uint64_t v41 = *(void *)(v5 - 8);
  uint64_t v6 = __chkstk_darwin(v5);
  uint64_t v40 = (char *)&v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v33 - v8;
  uint64_t v10 = sub_296AC0();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v33 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v33 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_6E60(v14, (uint64_t)qword_31FC20);
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v17, v18, v14);
  uint64_t v19 = *(void (**)(char *, uint64_t, uint64_t))(v11 + 16);
  uint64_t v39 = a1;
  v19(v13, a1, v10);
  uint64_t v20 = v14;
  uint64_t v21 = sub_2987E0();
  os_log_type_t v22 = sub_298DC0();
  uint64_t v38 = v10;
  os_log_type_t v23 = v22;
  if (os_log_type_enabled(v21, v22))
  {
    uint64_t v36 = v20;
    uint64_t v24 = swift_slowAlloc();
    uint64_t v37 = a3;
    uint64_t v25 = (uint8_t *)v24;
    uint64_t v35 = swift_slowAlloc();
    uint64_t v44 = v35;
    uint64_t v34 = v25;
    *(_DWORD *)uint64_t v25 = 136315138;
    uint64_t v33 = v25 + 4;
    sub_296AB0();
    uint64_t v26 = sub_2989E0();
    uint64_t v43 = sub_6E98(v26, v27, &v44);
    sub_2992C0();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v38);
    _os_log_impl(&dword_0, v21, v23, "AcousticIDFlow#checkSubscriptionStatus subscription status: %s", v34, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v15 + 8))(v17, v36);
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v38);

    (*(void (**)(char *, uint64_t))(v15 + 8))(v17, v20);
  }
  sub_296AB0();
  uint64_t v29 = v40;
  uint64_t v28 = v41;
  (*(void (**)(char *, void, uint64_t))(v41 + 104))(v40, enum case for MusicSubscriptionStatus.subscribed(_:), v5);
  sub_17569C(&qword_3134F0, (void (*)(uint64_t))&type metadata accessor for MusicSubscriptionStatus);
  sub_298B20();
  sub_298B20();
  BOOL v30 = v44 == v43;
  int v31 = *(void (**)(char *, uint64_t))(v28 + 8);
  v31(v29, v5);
  v31(v9, v5);
  return v42(v30);
}

uint64_t sub_16FBB4()
{
  sub_23A44(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_input, &qword_30EBB8);
  sub_171E8C(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state, type metadata accessor for AcousticIDFlow.State);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_aceServiceInvokerAsync);
  swift_release();
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider);
  sub_7184(v0 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_outputProvider);
  return v0;
}

uint64_t sub_16FCA8()
{
  sub_16FBB4();

  return swift_deallocClassInstance();
}

uint64_t sub_16FD00()
{
  return type metadata accessor for AcousticIDFlow(0);
}

uint64_t type metadata accessor for AcousticIDFlow(uint64_t a1)
{
  return sub_22444(a1, qword_3131C8);
}

void sub_16FD28()
{
  sub_17082C(319, (unint64_t *)&qword_30ECF0, (void (*)(uint64_t))&type metadata accessor for Input);
  if (v0 <= 0x3F)
  {
    type metadata accessor for AcousticIDFlow.State(319);
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

uint64_t *sub_16FE40(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  int v5 = *(_DWORD *)(*(void *)(a3 - 8) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v11 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v11 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    uint64_t v6 = *(void *)(a3 - 8);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    if (EnumCaseMultiPayload == 1)
    {
      *a1 = *a2;
      swift_retain();
LABEL_10:
      swift_storeEnumTagMultiPayload();
      return a1;
    }
    if (!EnumCaseMultiPayload)
    {
      uint64_t v8 = sub_2970A0();
      uint64_t v9 = *(void *)(v8 - 8);
      if ((*(unsigned int (**)(uint64_t *, uint64_t, uint64_t))(v9 + 48))(a2, 1, v8))
      {
        uint64_t v10 = sub_71D4(&qword_313428);
        memcpy(a1, a2, *(void *)(*(void *)(v10 - 8) + 64));
      }
      else
      {
        (*(void (**)(uint64_t *, uint64_t *, uint64_t))(v9 + 16))(a1, a2, v8);
        (*(void (**)(uint64_t *, void, uint64_t, uint64_t))(v9 + 56))(a1, 0, 1, v8);
      }
      goto LABEL_10;
    }
    memcpy(a1, a2, *(void *)(v6 + 64));
  }
  return a1;
}

uint64_t sub_170008(uint64_t a1)
{
  uint64_t result = swift_getEnumCaseMultiPayload();
  if (result == 1)
  {
    return swift_release();
  }
  else if (!result)
  {
    uint64_t v3 = sub_2970A0();
    uint64_t v5 = *(void *)(v3 - 8);
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v5 + 48))(a1, 1, v3);
    if (!result)
    {
      uint64_t v4 = *(uint64_t (**)(uint64_t, uint64_t))(v5 + 8);
      return v4(a1, v3);
    }
  }
  return result;
}

void *sub_17010C(void *a1, void *a2, uint64_t a3)
{
  int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
  if (EnumCaseMultiPayload == 1)
  {
    *a1 = *a2;
    swift_retain();
LABEL_8:
    swift_storeEnumTagMultiPayload();
    return a1;
  }
  if (!EnumCaseMultiPayload)
  {
    uint64_t v7 = sub_2970A0();
    uint64_t v8 = *(void *)(v7 - 8);
    if ((*(unsigned int (**)(void *, uint64_t, uint64_t))(v8 + 48))(a2, 1, v7))
    {
      uint64_t v9 = sub_71D4(&qword_313428);
      memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
    }
    else
    {
      (*(void (**)(void *, void *, uint64_t))(v8 + 16))(a1, a2, v7);
      (*(void (**)(void *, void, uint64_t, uint64_t))(v8 + 56))(a1, 0, 1, v7);
    }
    goto LABEL_8;
  }
  memcpy(a1, a2, *(void *)(*(void *)(a3 - 8) + 64));
  return a1;
}

void *sub_170290(void *a1, void *a2, uint64_t a3)
{
  if (a1 != a2)
  {
    sub_171E8C((uint64_t)a1, type metadata accessor for AcousticIDFlow.State);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    if (EnumCaseMultiPayload == 1)
    {
      *a1 = *a2;
      swift_retain();
LABEL_9:
      swift_storeEnumTagMultiPayload();
      return a1;
    }
    if (!EnumCaseMultiPayload)
    {
      uint64_t v7 = sub_2970A0();
      uint64_t v8 = *(void *)(v7 - 8);
      if ((*(unsigned int (**)(void *, uint64_t, uint64_t))(v8 + 48))(a2, 1, v7))
      {
        uint64_t v9 = sub_71D4(&qword_313428);
        memcpy(a1, a2, *(void *)(*(void *)(v9 - 8) + 64));
      }
      else
      {
        (*(void (**)(void *, void *, uint64_t))(v8 + 16))(a1, a2, v7);
        (*(void (**)(void *, void, uint64_t, uint64_t))(v8 + 56))(a1, 0, 1, v7);
      }
      goto LABEL_9;
    }
    memcpy(a1, a2, *(void *)(*(void *)(a3 - 8) + 64));
  }
  return a1;
}

void *sub_170438(void *a1, const void *a2, uint64_t a3)
{
  if (swift_getEnumCaseMultiPayload())
  {
    memcpy(a1, a2, *(void *)(*(void *)(a3 - 8) + 64));
  }
  else
  {
    uint64_t v6 = sub_2970A0();
    uint64_t v7 = *(void *)(v6 - 8);
    if ((*(unsigned int (**)(const void *, uint64_t, uint64_t))(v7 + 48))(a2, 1, v6))
    {
      uint64_t v8 = sub_71D4(&qword_313428);
      memcpy(a1, a2, *(void *)(*(void *)(v8 - 8) + 64));
    }
    else
    {
      (*(void (**)(void *, const void *, uint64_t))(v7 + 32))(a1, a2, v6);
      (*(void (**)(void *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
    }
    swift_storeEnumTagMultiPayload();
  }
  return a1;
}

void *sub_170598(void *a1, const void *a2, uint64_t a3)
{
  if (a1 != a2)
  {
    sub_171E8C((uint64_t)a1, type metadata accessor for AcousticIDFlow.State);
    if (swift_getEnumCaseMultiPayload())
    {
      memcpy(a1, a2, *(void *)(*(void *)(a3 - 8) + 64));
    }
    else
    {
      uint64_t v6 = sub_2970A0();
      uint64_t v7 = *(void *)(v6 - 8);
      if ((*(unsigned int (**)(const void *, uint64_t, uint64_t))(v7 + 48))(a2, 1, v6))
      {
        uint64_t v8 = sub_71D4(&qword_313428);
        memcpy(a1, a2, *(void *)(*(void *)(v8 - 8) + 64));
      }
      else
      {
        (*(void (**)(void *, const void *, uint64_t))(v7 + 32))(a1, a2, v6);
        (*(void (**)(void *, void, uint64_t, uint64_t))(v7 + 56))(a1, 0, 1, v6);
      }
      swift_storeEnumTagMultiPayload();
    }
  }
  return a1;
}

uint64_t getEnumTagSinglePayload for BundleResolutionResult(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(*(void *)(a3 - 8) + 48))();
}

uint64_t storeEnumTagSinglePayload for BundleResolutionResult(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return (*(uint64_t (**)(void))(*(void *)(a4 - 8) + 56))();
}

uint64_t sub_170770()
{
  return swift_storeEnumTagMultiPayload();
}

void sub_170780()
{
  sub_17082C(319, (unint64_t *)&unk_3134B0, (void (*)(uint64_t))&type metadata accessor for PlaybackCodeAndDescription);
  if (v0 <= 0x3F) {
    swift_initEnumMetadataMultiPayload();
  }
}

void sub_17082C(uint64_t a1, unint64_t *a2, void (*a3)(uint64_t))
{
  if (!*a2)
  {
    a3(255);
    unint64_t v4 = sub_2992A0();
    if (!v5) {
      atomic_store(v4, a2);
    }
  }
}

uint64_t sub_170880(uint64_t a1)
{
  uint64_t v3 = sub_71D4(&qword_30EBB8);
  uint64_t v4 = __chkstk_darwin(v3 - 8);
  uint64_t v6 = (char *)&v14 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v14 - v7;
  uint64_t v9 = *v1;
  uint64_t v10 = sub_295060();
  uint64_t v11 = *(void *)(v10 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v8, a1, v10);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v11 + 56))(v8, 0, 1, v10);
  sub_60BBC((uint64_t)v8, (uint64_t)v6, &qword_30EBB8);
  uint64_t v12 = v9 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_input;
  swift_beginAccess();
  sub_1F9CC((uint64_t)v6, v12);
  swift_endAccess();
  return 1;
}

uint64_t sub_1709F0(void (*a1)(void), uint64_t *a2)
{
  return sub_158838(a1, a2);
}

uint64_t sub_170A14(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for AcousticIDFlow(0);

  return Flow<>.exitValue.getter(v3, a2);
}

uint64_t sub_170A50(uint64_t a1, char *a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_293B80();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v26 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = *v2;
  sub_17569C(&qword_313520, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
  swift_bridgeObjectRetain();
  uint64_t v33 = a2;
  uint64_t v11 = sub_298980();
  uint64_t v12 = -1 << *(unsigned char *)(v10 + 32);
  unint64_t v13 = v11 & ~v12;
  uint64_t v32 = v10 + 56;
  if ((*(void *)(v10 + 56 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13))
  {
    uint64_t v28 = v2;
    uint64_t v29 = a1;
    uint64_t v30 = ~v12;
    uint64_t v27 = v7;
    uint64_t v16 = *(void (**)(void, void, void))(v7 + 16);
    uint64_t v15 = v7 + 16;
    uint64_t v14 = v16;
    uint64_t v31 = *(void *)(v15 + 56);
    uint64_t v17 = (void (**)(char *, uint64_t))(v15 - 8);
    v26[1] = v15 & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
    while (1)
    {
      uint64_t v18 = v10;
      unint64_t v19 = v31 * v13;
      uint64_t v20 = v14;
      v14(v9, *(void *)(v10 + 48) + v31 * v13, v6);
      sub_17569C(&qword_313528, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
      char v21 = sub_2989A0();
      os_log_type_t v22 = *v17;
      (*v17)(v9, v6);
      if (v21) {
        break;
      }
      unint64_t v13 = (v13 + 1) & v30;
      uint64_t v10 = v18;
      uint64_t v14 = v20;
      if (((*(void *)(v32 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13) & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v28;
        a1 = v29;
        uint64_t v7 = v27;
        goto LABEL_7;
      }
    }
    swift_bridgeObjectRelease();
    v22(v33, v6);
    v20(v29, *(void *)(*v28 + 48) + v19, v6);
    return 0;
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v14 = *(void (**)(void, void, void))(v7 + 16);
LABEL_7:
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v24 = v33;
    v14(v9, v33, v6);
    uint64_t v34 = *v3;
    uint64_t *v3 = 0x8000000000000000;
    sub_170D74((uint64_t)v9, v13, isUniquelyReferenced_nonNull_native);
    uint64_t *v3 = v34;
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, char *, uint64_t))(v7 + 32))(a1, v24, v6);
    return 1;
  }
}

uint64_t sub_170D74(uint64_t a1, unint64_t a2, char a3)
{
  uint64_t v31 = a1;
  uint64_t v6 = sub_293B80();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v28 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v10 = *(void *)(*v3 + 16);
  unint64_t v11 = *(void *)(*v3 + 24);
  uint64_t v28 = v3;
  uint64_t v29 = v7;
  if (v11 <= v10)
  {
    if (a3) {
      sub_171688();
    }
    else {
      sub_1712C0();
    }
    uint64_t v12 = *v3;
    sub_17569C(&qword_313520, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
    uint64_t v13 = sub_298980();
    uint64_t v14 = -1 << *(unsigned char *)(v12 + 32);
    a2 = v13 & ~v14;
    uint64_t v30 = v12;
    uint64_t v15 = v12 + 56;
    if ((*(void *)(v12 + 56 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2))
    {
      uint64_t v16 = ~v14;
      unint64_t v19 = *(void (**)(char *, unint64_t, uint64_t))(v7 + 16);
      uint64_t v18 = v7 + 16;
      uint64_t v17 = v19;
      uint64_t v20 = *(void *)(v18 + 56);
      do
      {
        v17(v9, *(void *)(v30 + 48) + v20 * a2, v6);
        sub_17569C(&qword_313528, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
        char v21 = sub_2989A0();
        (*(void (**)(char *, uint64_t))(v18 - 8))(v9, v6);
        if (v21) {
          goto LABEL_14;
        }
        a2 = (a2 + 1) & v16;
      }
      while (((*(void *)(v15 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2) & 1) != 0);
    }
  }
  else if ((a3 & 1) == 0)
  {
    sub_17100C();
  }
  uint64_t v22 = v29;
  uint64_t v23 = *v28;
  *(void *)(v23 + 8 * (a2 >> 6) + 56) |= 1 << a2;
  uint64_t result = (*(uint64_t (**)(unint64_t, uint64_t, uint64_t))(v22 + 32))(*(void *)(v23 + 48) + *(void *)(v22 + 72) * a2, v31, v6);
  uint64_t v25 = *(void *)(v23 + 16);
  BOOL v26 = __OFADD__(v25, 1);
  uint64_t v27 = v25 + 1;
  if (!v26)
  {
    *(void *)(v23 + 16) = v27;
    return result;
  }
  __break(1u);
LABEL_14:
  uint64_t result = sub_299600();
  __break(1u);
  return result;
}

void *sub_17100C()
{
  unint64_t v1 = v0;
  uint64_t v2 = sub_293B80();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v21 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_71D4(&qword_313530);
  uint64_t v6 = *v0;
  uint64_t v7 = sub_299380();
  uint64_t v8 = v7;
  if (!*(void *)(v6 + 16))
  {
    uint64_t result = (void *)swift_release();
LABEL_28:
    uint64_t *v1 = v8;
    return result;
  }
  uint64_t v22 = v1;
  uint64_t result = (void *)(v7 + 56);
  unint64_t v10 = (unint64_t)((1 << *(unsigned char *)(v8 + 32)) + 63) >> 6;
  if (v8 != v6 || (unint64_t)result >= v6 + 56 + 8 * v10) {
    uint64_t result = memmove(result, (const void *)(v6 + 56), 8 * v10);
  }
  int64_t v11 = 0;
  *(void *)(v8 + 16) = *(void *)(v6 + 16);
  uint64_t v12 = 1 << *(unsigned char *)(v6 + 32);
  uint64_t v13 = -1;
  if (v12 < 64) {
    uint64_t v13 = ~(-1 << v12);
  }
  unint64_t v14 = v13 & *(void *)(v6 + 56);
  uint64_t v23 = v6 + 56;
  int64_t v24 = (unint64_t)(v12 + 63) >> 6;
  while (1)
  {
    if (v14)
    {
      unint64_t v15 = __clz(__rbit64(v14));
      v14 &= v14 - 1;
      unint64_t v16 = v15 | (v11 << 6);
      goto LABEL_9;
    }
    int64_t v18 = v11 + 1;
    if (__OFADD__(v11, 1))
    {
      __break(1u);
      goto LABEL_30;
    }
    if (v18 >= v24) {
      goto LABEL_26;
    }
    unint64_t v19 = *(void *)(v23 + 8 * v18);
    ++v11;
    if (!v19)
    {
      int64_t v11 = v18 + 1;
      if (v18 + 1 >= v24) {
        goto LABEL_26;
      }
      unint64_t v19 = *(void *)(v23 + 8 * v11);
      if (!v19)
      {
        int64_t v11 = v18 + 2;
        if (v18 + 2 >= v24) {
          goto LABEL_26;
        }
        unint64_t v19 = *(void *)(v23 + 8 * v11);
        if (!v19)
        {
          int64_t v11 = v18 + 3;
          if (v18 + 3 >= v24) {
            goto LABEL_26;
          }
          unint64_t v19 = *(void *)(v23 + 8 * v11);
          if (!v19)
          {
            int64_t v11 = v18 + 4;
            if (v18 + 4 >= v24)
            {
LABEL_26:
              uint64_t result = (void *)swift_release();
              unint64_t v1 = v22;
              goto LABEL_28;
            }
            unint64_t v19 = *(void *)(v23 + 8 * v11);
            int64_t v20 = v18 + 4;
            if (!v19) {
              break;
            }
          }
        }
      }
    }
LABEL_25:
    unint64_t v14 = (v19 - 1) & v19;
    unint64_t v16 = __clz(__rbit64(v19)) + (v11 << 6);
LABEL_9:
    unint64_t v17 = *(void *)(v3 + 72) * v16;
    (*(void (**)(char *, unint64_t, uint64_t))(v3 + 16))(v5, *(void *)(v6 + 48) + v17, v2);
    uint64_t result = (void *)(*(uint64_t (**)(unint64_t, char *, uint64_t))(v3 + 32))(*(void *)(v8 + 48) + v17, v5, v2);
  }
  while (1)
  {
    int64_t v11 = v20 + 1;
    if (__OFADD__(v20, 1)) {
      break;
    }
    if (v11 >= v24) {
      goto LABEL_26;
    }
    unint64_t v19 = *(void *)(v23 + 8 * v11);
    ++v20;
    if (v19) {
      goto LABEL_25;
    }
  }
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_1712C0()
{
  unint64_t v1 = v0;
  uint64_t v2 = sub_293B80();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v33 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = *v0;
  sub_71D4(&qword_313530);
  uint64_t v7 = sub_299390();
  uint64_t v8 = v7;
  if (!*(void *)(v6 + 16))
  {
    uint64_t result = swift_release();
LABEL_36:
    uint64_t *v1 = v8;
    return result;
  }
  uint64_t v9 = 1 << *(unsigned char *)(v6 + 32);
  uint64_t v10 = *(void *)(v6 + 56);
  uint64_t v34 = v0;
  uint64_t v35 = v6 + 56;
  if (v9 < 64) {
    uint64_t v11 = ~(-1 << v9);
  }
  else {
    uint64_t v11 = -1;
  }
  unint64_t v12 = v11 & v10;
  int64_t v36 = (unint64_t)(v9 + 63) >> 6;
  uint64_t v37 = v3 + 16;
  uint64_t v13 = v7 + 56;
  uint64_t v38 = v3;
  unint64_t v14 = (uint64_t (**)(unint64_t, char *, uint64_t))(v3 + 32);
  uint64_t result = swift_retain();
  int64_t v16 = 0;
  while (1)
  {
    if (v12)
    {
      unint64_t v18 = __clz(__rbit64(v12));
      v12 &= v12 - 1;
      unint64_t v19 = v18 | (v16 << 6);
      goto LABEL_25;
    }
    int64_t v20 = v16 + 1;
    if (__OFADD__(v16, 1))
    {
LABEL_37:
      __break(1u);
      goto LABEL_38;
    }
    if (v20 >= v36) {
      goto LABEL_34;
    }
    unint64_t v21 = *(void *)(v35 + 8 * v20);
    ++v16;
    if (!v21)
    {
      int64_t v16 = v20 + 1;
      if (v20 + 1 >= v36) {
        goto LABEL_34;
      }
      unint64_t v21 = *(void *)(v35 + 8 * v16);
      if (!v21)
      {
        int64_t v16 = v20 + 2;
        if (v20 + 2 >= v36) {
          goto LABEL_34;
        }
        unint64_t v21 = *(void *)(v35 + 8 * v16);
        if (!v21)
        {
          int64_t v16 = v20 + 3;
          if (v20 + 3 >= v36) {
            goto LABEL_34;
          }
          unint64_t v21 = *(void *)(v35 + 8 * v16);
          if (!v21)
          {
            int64_t v16 = v20 + 4;
            if (v20 + 4 >= v36)
            {
LABEL_34:
              uint64_t result = swift_release_n();
              unint64_t v1 = v34;
              goto LABEL_36;
            }
            unint64_t v21 = *(void *)(v35 + 8 * v16);
            int64_t v22 = v20 + 4;
            if (!v21) {
              break;
            }
          }
        }
      }
    }
LABEL_24:
    unint64_t v12 = (v21 - 1) & v21;
    unint64_t v19 = __clz(__rbit64(v21)) + (v16 << 6);
LABEL_25:
    uint64_t v23 = v6;
    uint64_t v24 = *(void *)(v6 + 48);
    uint64_t v25 = *(void *)(v38 + 72);
    (*(void (**)(char *, unint64_t, uint64_t))(v38 + 16))(v5, v24 + v25 * v19, v2);
    sub_17569C(&qword_313520, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
    uint64_t result = sub_298980();
    uint64_t v26 = -1 << *(unsigned char *)(v8 + 32);
    unint64_t v27 = result & ~v26;
    unint64_t v28 = v27 >> 6;
    if (((-1 << v27) & ~*(void *)(v13 + 8 * (v27 >> 6))) != 0)
    {
      unint64_t v17 = __clz(__rbit64((-1 << v27) & ~*(void *)(v13 + 8 * (v27 >> 6)))) | v27 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v29 = 0;
      unint64_t v30 = (unint64_t)(63 - v26) >> 6;
      do
      {
        if (++v28 == v30 && (v29 & 1) != 0)
        {
          __break(1u);
          goto LABEL_37;
        }
        BOOL v31 = v28 == v30;
        if (v28 == v30) {
          unint64_t v28 = 0;
        }
        v29 |= v31;
        uint64_t v32 = *(void *)(v13 + 8 * v28);
      }
      while (v32 == -1);
      unint64_t v17 = __clz(__rbit64(~v32)) + (v28 << 6);
    }
    *(void *)(v13 + ((v17 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v17;
    uint64_t result = (*v14)(*(void *)(v8 + 48) + v17 * v25, v5, v2);
    ++*(void *)(v8 + 16);
    uint64_t v6 = v23;
  }
  while (1)
  {
    int64_t v16 = v22 + 1;
    if (__OFADD__(v22, 1)) {
      break;
    }
    if (v16 >= v36) {
      goto LABEL_34;
    }
    unint64_t v21 = *(void *)(v35 + 8 * v16);
    ++v22;
    if (v21) {
      goto LABEL_24;
    }
  }
LABEL_38:
  __break(1u);
  return result;
}

uint64_t sub_171688()
{
  unint64_t v1 = v0;
  uint64_t v42 = sub_293B80();
  uint64_t v2 = *(void *)(v42 - 8);
  __chkstk_darwin(v42);
  uint64_t v41 = (char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = *v0;
  sub_71D4(&qword_313530);
  uint64_t v5 = sub_299390();
  uint64_t v6 = v5;
  if (*(void *)(v4 + 16))
  {
    uint64_t v7 = 1 << *(unsigned char *)(v4 + 32);
    uint64_t v8 = *(void *)(v4 + 56);
    uint64_t v38 = (void *)(v4 + 56);
    uint64_t v39 = v2;
    if (v7 < 64) {
      uint64_t v9 = ~(-1 << v7);
    }
    else {
      uint64_t v9 = -1;
    }
    unint64_t v10 = v9 & v8;
    int64_t v36 = v0;
    int64_t v37 = (unint64_t)(v7 + 63) >> 6;
    uint64_t v11 = v5 + 56;
    uint64_t result = swift_retain();
    int64_t v13 = 0;
    unint64_t v14 = v41;
    uint64_t v15 = v42;
    while (1)
    {
      if (v10)
      {
        unint64_t v17 = __clz(__rbit64(v10));
        v10 &= v10 - 1;
        int64_t v40 = v13;
        unint64_t v18 = v17 | (v13 << 6);
      }
      else
      {
        int64_t v19 = v13 + 1;
        if (__OFADD__(v13, 1))
        {
LABEL_39:
          __break(1u);
LABEL_40:
          __break(1u);
          return result;
        }
        if (v19 >= v37) {
          goto LABEL_34;
        }
        unint64_t v20 = v38[v19];
        int64_t v21 = v13 + 1;
        if (!v20)
        {
          int64_t v21 = v13 + 2;
          if (v13 + 2 >= v37) {
            goto LABEL_34;
          }
          unint64_t v20 = v38[v21];
          if (!v20)
          {
            int64_t v21 = v13 + 3;
            if (v13 + 3 >= v37) {
              goto LABEL_34;
            }
            unint64_t v20 = v38[v21];
            if (!v20)
            {
              int64_t v21 = v13 + 4;
              if (v13 + 4 >= v37) {
                goto LABEL_34;
              }
              unint64_t v20 = v38[v21];
              if (!v20)
              {
                int64_t v21 = v13 + 5;
                if (v13 + 5 >= v37)
                {
LABEL_34:
                  swift_release();
                  unint64_t v1 = v36;
                  uint64_t v34 = 1 << *(unsigned char *)(v4 + 32);
                  if (v34 >= 64) {
                    bzero(v38, ((unint64_t)(v34 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
                  }
                  else {
                    *uint64_t v38 = -1 << v34;
                  }
                  *(void *)(v4 + 16) = 0;
                  break;
                }
                unint64_t v20 = v38[v21];
                for (uint64_t i = v13 + 5; !v20; ++i)
                {
                  int64_t v21 = i + 1;
                  if (__OFADD__(i, 1)) {
                    goto LABEL_40;
                  }
                  if (v21 >= v37) {
                    goto LABEL_34;
                  }
                  unint64_t v20 = v38[v21];
                }
              }
            }
          }
        }
        unint64_t v10 = (v20 - 1) & v20;
        int64_t v40 = v21;
        unint64_t v18 = __clz(__rbit64(v20)) + (v21 << 6);
      }
      uint64_t v23 = v4;
      uint64_t v24 = *(void *)(v4 + 48);
      uint64_t v25 = *(void *)(v39 + 72);
      uint64_t v26 = *(void (**)(char *, unint64_t, uint64_t))(v39 + 32);
      v26(v14, v24 + v25 * v18, v15);
      sub_17569C(&qword_313520, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
      uint64_t result = sub_298980();
      uint64_t v27 = -1 << *(unsigned char *)(v6 + 32);
      unint64_t v28 = result & ~v27;
      unint64_t v29 = v28 >> 6;
      if (((-1 << v28) & ~*(void *)(v11 + 8 * (v28 >> 6))) != 0)
      {
        unint64_t v16 = __clz(__rbit64((-1 << v28) & ~*(void *)(v11 + 8 * (v28 >> 6)))) | v28 & 0x7FFFFFFFFFFFFFC0;
      }
      else
      {
        char v30 = 0;
        unint64_t v31 = (unint64_t)(63 - v27) >> 6;
        do
        {
          if (++v29 == v31 && (v30 & 1) != 0)
          {
            __break(1u);
            goto LABEL_39;
          }
          BOOL v32 = v29 == v31;
          if (v29 == v31) {
            unint64_t v29 = 0;
          }
          v30 |= v32;
          uint64_t v33 = *(void *)(v11 + 8 * v29);
        }
        while (v33 == -1);
        unint64_t v16 = __clz(__rbit64(~v33)) + (v29 << 6);
      }
      *(void *)(v11 + ((v16 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v16;
      uint64_t result = ((uint64_t (*)(unint64_t, char *, uint64_t))v26)(*(void *)(v6 + 48) + v16 * v25, v41, v42);
      ++*(void *)(v6 + 16);
      uint64_t v4 = v23;
      int64_t v13 = v40;
    }
  }
  uint64_t result = swift_release();
  uint64_t *v1 = v6;
  return result;
}

uint64_t sub_171A90(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, long long *a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  v53[3] = a14;
  v53[4] = a19;
  uint64_t v24 = sub_12B48(v53);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a14 - 8) + 32))(v24, a3, a14);
  v52[3] = a17;
  v52[4] = a22;
  uint64_t v25 = sub_12B48(v52);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a17 - 8) + 32))(v25, a4, a17);
  uint64_t v50 = a13;
  uint64_t v51 = a18;
  uint64_t v26 = sub_12B48((uint64_t *)&v49);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a13 - 8) + 32))(v26, a8, a13);
  uint64_t v47 = a16;
  uint64_t v48 = a21;
  uint64_t v27 = sub_12B48((uint64_t *)&v46);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a16 - 8) + 32))(v27, a9, a16);
  uint64_t v44 = a15;
  uint64_t v45 = a20;
  unint64_t v28 = sub_12B48((uint64_t *)&v43);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a15 - 8) + 32))(v28, a10, a15);
  uint64_t v41 = type metadata accessor for SiriAudioOutputProvider();
  uint64_t v42 = &off_2FA760;
  *(void *)&long long v40 = a11;
  uint64_t v29 = a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_input;
  uint64_t v30 = sub_295060();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v30 - 8) + 56))(v29, 1, 1, v30);
  *(unsigned char *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_enableLiveActivity) = 0;
  *(unsigned char *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_isInAmbient) = 0;
  swift_beginAccess();
  sub_14418(a1, v29);
  swift_endAccess();
  sub_18D5C((uint64_t)v53, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamKitRecognizer);
  sub_18D5C((uint64_t)v52, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_shazamSessionManager);
  type metadata accessor for AcousticIdCatDialogService();
  unint64_t v31 = (void *)swift_allocObject();
  void v31[5] = 0xD000000000000010;
  v31[6] = 0x80000000002A66A0;
  _OWORD v31[2] = 0xD000000000000011;
  void v31[3] = 0x80000000002A3570;
  v31[4] = a6;
  *(void *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_acousticIdCatDialogService) = v31;
  sub_18D5C(a5, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_aceServiceInvokerAsync);
  sub_2944B0();
  swift_allocObject();
  uint64_t v32 = sub_294490();
  sub_7184(a5);
  sub_7184((uint64_t)v52);
  sub_7184((uint64_t)v53);
  sub_23A44(a1, &qword_30EBB8);
  *(void *)(a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_viewFactory) = v32;
  sub_1451E4(a2, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_state);
  sub_11EBC(a7, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_publisher);
  sub_11EBC(&v49, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_siriKitTaskLoggingProvider);
  sub_11EBC(&v46, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_subscriptionProvider);
  sub_11EBC(&v43, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_featureFlagProvider);
  sub_11EBC(&v40, a12 + OBJC_IVAR____TtC23AudioFlowDelegatePlugin14AcousticIDFlow_outputProvider);
  return a12;
}

uint64_t sub_171E78(int a1)
{
  return sub_16E61C(a1, *(void **)(v1 + 16), *(void (**)(id))(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_171E84(uint64_t a1)
{
  return sub_16F6E4(a1, *(uint64_t (**)(BOOL))(v1 + 16), *(void *)(v1 + 24));
}

uint64_t sub_171E8C(uint64_t a1, uint64_t (*a2)(void))
{
  uint64_t v3 = a2(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v3 - 8) + 8))(a1, v3);
  return a1;
}

uint64_t sub_171EEC(uint64_t a1)
{
  uint64_t v2 = sub_293B80();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v16 - v7;
  uint64_t v9 = *(void *)(a1 + 16);
  sub_17569C(&qword_313520, (void (*)(uint64_t))&type metadata accessor for _ProtoResponse.LevelOfDetail);
  uint64_t result = sub_298C80();
  uint64_t v17 = result;
  if (v9)
  {
    int64_t v13 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
    uint64_t v11 = v3 + 16;
    unint64_t v12 = v13;
    uint64_t v14 = a1 + ((*(unsigned __int8 *)(v11 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v11 + 64));
    uint64_t v15 = *(void *)(v11 + 56);
    do
    {
      v12(v6, v14, v2);
      sub_170A50((uint64_t)v8, v6);
      (*(void (**)(char *, uint64_t))(v11 - 8))(v8, v2);
      v14 += v15;
      --v9;
    }
    while (v9);
    return v17;
  }
  return result;
}

uint64_t sub_172088()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

id sub_1720C0()
{
  uint64_t v0 = sub_2936E0();
  uint64_t v42 = *(void *)(v0 - 8);
  uint64_t v43 = v0;
  __chkstk_darwin(v0);
  uint64_t v41 = (char *)&v38 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_71D4(&qword_3134F8);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v38 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_293BB0();
  uint64_t v45 = *(void *)(v5 - 8);
  uint64_t v46 = v5;
  __chkstk_darwin(v5);
  uint64_t v44 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v47 = (char *)&v38 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = __chkstk_darwin(v9);
  __chkstk_darwin(v11);
  int64_t v13 = (char *)&v38 - v12;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v7, (uint64_t)qword_31FC20);
  uint64_t v48 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  v48(v13, v14, v7);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AcousticIDFlow#listeningSnippet executing", v17, 2u);
    swift_slowDealloc();
  }

  unint64_t v18 = *(void (**)(char *, uint64_t))(v8 + 8);
  v18(v13, v7);
  sub_293400();
  swift_allocObject();
  sub_2933F0();
  sub_175854();
  uint64_t v19 = sub_2933E0();
  uint64_t v39 = v18;
  unint64_t v21 = v20;
  swift_release();
  sub_71D4(&qword_313508);
  uint64_t v22 = swift_allocObject();
  long long v40 = xmmword_29A440;
  *(_OWORD *)(v22 + 16) = xmmword_29A440;
  uint64_t v38 = (uint64_t *)(v22 + 32);
  sub_71D4(&qword_313510);
  uint64_t v23 = swift_allocObject();
  *(_OWORD *)(v23 + 16) = v40;
  *(void *)(v23 + 56) = sub_293B60();
  *(void *)(v23 + 64) = &protocol witness table for CustomCanvas;
  sub_12B48((uint64_t *)(v23 + 32));
  sub_BDFA4(v19, v21);
  *(void *)&long long v40 = v21;
  sub_293B50();
  uint64_t v24 = sub_293B40();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v4, 1, 1, v24);
  uint64_t v25 = sub_293B70();
  sub_171EEC(v25);
  uint64_t v26 = v19;
  swift_bridgeObjectRelease();
  *(void *)(v22 + 56) = sub_293B90();
  *(void *)(v22 + 64) = &protocol witness table for Section;
  sub_12B48(v38);
  sub_293BA0();
  uint64_t v27 = v44;
  sub_293BC0();
  id v28 = [objc_allocWithZone((Class)SAUIVisualResponseSnippet) init];
  uint64_t v29 = v41;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v42 + 8))(v29, v43);
  NSString v30 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v28 setAceId:v30];

  id v31 = v28;
  NSString v32 = sub_2989B0();
  [v31 setViewId:v32];

  uint64_t v33 = v47;
  v48(v47, v14, v7);
  uint64_t v34 = sub_2987E0();
  os_log_type_t v35 = sub_298DC0();
  if (os_log_type_enabled(v34, v35))
  {
    int64_t v36 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)int64_t v36 = 0;
    _os_log_impl(&dword_0, v34, v35, "AcousticIDFlow#listeningSnippet Successfully generate iOS view", v36, 2u);
    uint64_t v33 = v47;
    swift_slowDealloc();
  }

  sub_BDFFC(v26, v40);
  v39(v33, v7);
  (*(void (**)(char *, uint64_t))(v45 + 8))(v27, v46);
  return v31;
}

uint64_t sub_172820(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v77 = a6;
  uint64_t v75 = a5;
  uint64_t v76 = sub_297A70();
  uint64_t v74 = *(void *)(v76 - 8);
  __chkstk_darwin(v76);
  unint64_t v72 = (char *)&v53 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v73 = v10;
  uint64_t v11 = sub_71D4((uint64_t *)&unk_30FA70);
  uint64_t v69 = *(void *)(v11 - 8);
  __chkstk_darwin(v11 - 8);
  uint64_t v70 = v12;
  uint64_t v71 = (uint64_t)&v53 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v60 = sub_295AF0();
  uint64_t v59 = *(void *)(v60 - 8);
  __chkstk_darwin(v60);
  uint64_t v58 = (char *)&v53 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_298800();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v53 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_71D4(&qword_30D030);
  uint64_t v67 = *(void *)(v18 - 8);
  uint64_t v19 = __chkstk_darwin(v18);
  uint64_t v66 = (char *)&v53 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v68 = v20;
  __chkstk_darwin(v19);
  uint64_t v22 = (char *)&v53 - v21;
  uint64_t v23 = sub_2949F0();
  uint64_t v24 = *(void *)(v23 - 8);
  unint64_t v63 = *(void (**)(char *, uint64_t))(v24 + 16);
  uint64_t v64 = v23;
  uint64_t v62 = v24 + 16;
  v63(v22, a1);
  uint64_t v65 = v18;
  uint64_t v25 = *(int *)(v18 + 48);
  uint64_t v79 = v22;
  *(void *)&v22[v25] = a2;
  id v78 = a2;
  uint64_t v26 = sub_295C60();
  if (!v26)
  {
    sub_295A10();
    uint64_t v26 = sub_295A00();
  }
  uint64_t v27 = v26;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v28 = sub_6E60(v14, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v17, v28, v14);
  swift_retain_n();
  uint64_t v29 = sub_2987E0();
  os_log_type_t v30 = sub_298D90();
  BOOL v31 = os_log_type_enabled(v29, v30);
  uint64_t v61 = v27;
  if (v31)
  {
    uint64_t v32 = swift_slowAlloc();
    uint64_t v57 = a3;
    uint64_t v33 = (uint8_t *)v32;
    uint64_t v34 = swift_slowAlloc();
    uint64_t v56 = a4;
    uint64_t v81 = v34;
    uint64_t v55 = v14;
    *(_DWORD *)uint64_t v33 = 136315138;
    uint64_t v53 = v33 + 4;
    sub_2959C0();
    os_log_type_t v35 = v58;
    sub_297B00();
    swift_release();
    uint64_t v36 = sub_295A90();
    uint64_t v54 = v17;
    unint64_t v38 = v37;
    (*(void (**)(char *, uint64_t))(v59 + 8))(v35, v60);
    uint64_t v80 = sub_6E98(v36, v38, &v81);
    sub_2992C0();
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v29, v30, "AcousticIDFlow#buildTraditionalRFShazamOutput with responseMode = %s", v33, 0xCu);
    swift_arrayDestroy();
    a4 = v56;
    swift_slowDealloc();
    a3 = v57;
    swift_slowDealloc();

    (*(void (**)(char *, uint64_t))(v15 + 8))(v54, v55);
  }
  else
  {

    swift_release_n();
    (*(void (**)(char *, uint64_t))(v15 + 8))(v17, v14);
  }
  uint64_t v39 = a4;
  uint64_t v40 = v71;
  sub_11E58(v39, v71, (uint64_t *)&unk_30FA70);
  uint64_t v41 = (uint64_t)v66;
  uint64_t v42 = *(int *)(v65 + 48);
  ((void (*)(char *, char *, uint64_t))v63)(v66, v79, v64);
  *(void *)(v41 + v42) = v78;
  uint64_t v43 = v74;
  uint64_t v44 = v72;
  uint64_t v45 = v76;
  (*(void (**)(char *, uint64_t, uint64_t))(v74 + 16))(v72, a3, v76);
  unint64_t v46 = (*(unsigned __int8 *)(v69 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v69 + 80);
  unint64_t v47 = (v70 + v46 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v48 = (*(unsigned __int8 *)(v67 + 80) + v47 + 8) & ~(unint64_t)*(unsigned __int8 *)(v67 + 80);
  unint64_t v49 = (v68 + *(unsigned __int8 *)(v43 + 80) + v48) & ~(unint64_t)*(unsigned __int8 *)(v43 + 80);
  uint64_t v50 = swift_allocObject();
  sub_60BBC(v40, v50 + v46, (uint64_t *)&unk_30FA70);
  *(void *)(v50 + v47) = v61;
  sub_60BBC(v41, v50 + v48, &qword_30D030);
  (*(void (**)(unint64_t, char *, uint64_t))(v43 + 32))(v50 + v49, v44, v45);
  id v51 = v78;
  swift_retain();
  sub_71D4((uint64_t *)&unk_313830);
  sub_298C30();
  swift_release();
  swift_release();
  return sub_23A44((uint64_t)v79, &qword_30D030);
}

uint64_t sub_172F54(uint64_t a1, uint64_t a2, char a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v84 = a8;
  uint64_t v86 = a7;
  uint64_t v81 = a6;
  uint64_t v89 = a4;
  uint64_t v90 = a5;
  uint64_t v85 = sub_71D4(&qword_30D030);
  unint64_t v82 = *(uint8_t **)(v85 - 8);
  __chkstk_darwin(v85);
  uint64_t v83 = v11;
  uint64_t v88 = (char *)&v73 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_71D4((uint64_t *)&unk_30FA70);
  uint64_t v79 = *(void *)(v12 - 8);
  __chkstk_darwin(v12 - 8);
  uint64_t v80 = v13;
  uint64_t v14 = (char *)&v73 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_295AF0();
  uint64_t v77 = *(void *)(v15 - 8);
  uint64_t v78 = v15;
  __chkstk_darwin(v15);
  uint64_t v17 = (char *)&v73 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_298800();
  uint64_t v19 = *(void *)(v18 - 8);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v73 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v24 = (char *)&v73 - v23;
  sub_71D4(&qword_313550);
  uint64_t v87 = v14;
  if (a3)
  {
    uint64_t v93 = a1;
    swift_errorRetain();
    sub_71D4((uint64_t *)&unk_3121A0);
    sub_1983C(0, &qword_3107A0);
    if (swift_dynamicCast())
    {
      uint64_t v36 = (void *)v92[1];
      if (qword_30C850 != -1) {
        swift_once();
      }
      uint64_t v37 = sub_6E60(v18, (uint64_t)qword_31FC20);
      uint64_t v38 = v19;
      (*(void (**)(char *, uint64_t, uint64_t))(v19 + 16))(v22, v37, v18);
      id v39 = v36;
      uint64_t v40 = sub_2987E0();
      os_log_type_t v41 = sub_298DB0();
      if (os_log_type_enabled(v40, v41))
      {
        uint64_t v75 = v18;
        uint64_t v42 = (uint8_t *)swift_slowAlloc();
        uint64_t v83 = swift_slowAlloc();
        v92[0] = v83;
        *(_DWORD *)uint64_t v42 = 136315138;
        unint64_t v82 = v42 + 4;
        id v43 = [v39 localizedDescription];
        uint64_t v44 = sub_2989C0();
        uint64_t v46 = v45;

        v91[0] = v44;
        v91[1] = v46;
        uint64_t v47 = sub_298B00();
        v91[0] = sub_6E98(v47, v48, v92);
        uint64_t v49 = v86;
        sub_2992C0();

        uint64_t v50 = v89;
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_0, v40, v41, "AcousticIDFlow#buildShazamOutput Error creating dialog %s", v42, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        (*(void (**)(char *, uint64_t))(v38 + 8))(v22, v75);
      }
      else
      {

        (*(void (**)(char *, uint64_t))(v19 + 8))(v22, v18);
        uint64_t v49 = v86;
        uint64_t v50 = v89;
      }
      uint64_t v65 = *(int *)(v85 + 48);
      uint64_t v66 = sub_2949F0();
      uint64_t v67 = *(void *)(v66 - 8);
      uint64_t v68 = (uint64_t)v88;
      (*(void (**)(char *, uint64_t, uint64_t))(v67 + 16))(v88, v49, v66);
      uint64_t v69 = *(void **)(v49 + v65);
      *(void *)(v68 + v65) = v69;
      uint64_t v70 = sub_2948C0();
      uint64_t v71 = (uint64_t)v87;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v70 - 8) + 56))(v87, 1, 1, v70);
      id v72 = v69;
      sub_172820(v68, v72, v84, v71, v50, v90);

      sub_23A44(v71, (uint64_t *)&unk_30FA70);
      (*(void (**)(uint64_t, uint64_t))(v67 + 8))(v68, v66);
      return swift_errorRelease();
    }
    else
    {
      uint64_t result = sub_2995C0();
      __break(1u);
    }
  }
  else
  {
    uint64_t v84 = a1;
    swift_bridgeObjectRetain();
    uint64_t v25 = sub_295C60();
    if (!v25)
    {
      sub_295A10();
      uint64_t v25 = sub_295A00();
    }
    uint64_t v26 = v25;
    uint64_t v76 = a2;
    if (qword_30C848 != -1) {
      swift_once();
    }
    uint64_t v27 = sub_6E60(v18, (uint64_t)qword_31FC08);
    (*(void (**)(char *, uint64_t, uint64_t))(v19 + 16))(v24, v27, v18);
    swift_retain_n();
    uint64_t v28 = sub_2987E0();
    os_log_type_t v29 = sub_298D90();
    if (os_log_type_enabled(v28, v29))
    {
      uint64_t v30 = swift_slowAlloc();
      uint64_t v75 = v18;
      BOOL v31 = (uint8_t *)v30;
      v91[0] = swift_slowAlloc();
      *(_DWORD *)BOOL v31 = 136315138;
      uint64_t v73 = v31 + 4;
      sub_2959C0();
      sub_297B00();
      swift_release();
      uint64_t v32 = sub_295A90();
      uint64_t v74 = v19;
      unint64_t v34 = v33;
      (*(void (**)(char *, uint64_t))(v77 + 8))(v17, v78);
      uint64_t v93 = sub_6E98(v32, v34, v91);
      uint64_t v35 = (uint64_t)v88;
      sub_2992C0();
      swift_release_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v28, v29, "AcousticIDFlow#buildShazamOutput with responseMode = %s", v31, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      (*(void (**)(char *, uint64_t))(v74 + 8))(v24, v75);
    }
    else
    {

      swift_release_n();
      (*(void (**)(char *, uint64_t))(v19 + 8))(v24, v18);
      uint64_t v35 = (uint64_t)v88;
    }
    uint64_t v51 = (uint64_t)v87;
    sub_11E58(v81, (uint64_t)v87, (uint64_t *)&unk_30FA70);
    uint64_t v52 = *(int *)(v85 + 48);
    uint64_t v53 = sub_2949F0();
    uint64_t v54 = v86;
    (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v53 - 8) + 16))(v35, v86, v53);
    uint64_t v55 = *(void **)(v54 + v52);
    *(void *)(v35 + v52) = v55;
    unint64_t v56 = (*(unsigned __int8 *)(v79 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v79 + 80);
    unint64_t v57 = (v80 + v56 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v58 = (v57 + 23) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v59 = (v82[80] + v58 + 8) & ~(unint64_t)v82[80];
    uint64_t v60 = swift_allocObject();
    sub_60BBC(v51, v60 + v56, (uint64_t *)&unk_30FA70);
    uint64_t v61 = (void *)(v60 + v57);
    uint64_t v62 = v76;
    *uint64_t v61 = v84;
    v61[1] = v62;
    *(void *)(v60 + v58) = v26;
    sub_60BBC(v35, v60 + v59, &qword_30D030);
    swift_retain();
    id v63 = v55;
    sub_71D4((uint64_t *)&unk_313830);
    sub_298C30();
    swift_release();
    return swift_release();
  }
  return result;
}

id sub_1738FC()
{
  uint64_t v0 = sub_2936E0();
  uint64_t v42 = *(void *)(v0 - 8);
  uint64_t v43 = v0;
  __chkstk_darwin(v0);
  os_log_type_t v41 = (char *)&v38 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_71D4(&qword_3134F8);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v38 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_293BB0();
  uint64_t v45 = *(void *)(v5 - 8);
  uint64_t v46 = v5;
  __chkstk_darwin(v5);
  uint64_t v44 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_298800();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v47 = (char *)&v38 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = __chkstk_darwin(v9);
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v38 - v12;
  if (qword_30C850 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_6E60(v7, (uint64_t)qword_31FC20);
  unint64_t v48 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  v48(v13, v14, v7);
  uint64_t v15 = sub_2987E0();
  os_log_type_t v16 = sub_298DC0();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v17 = 0;
    _os_log_impl(&dword_0, v15, v16, "AcousticIDFlow#noMatchSnippet executing", v17, 2u);
    swift_slowDealloc();
  }

  uint64_t v18 = *(void (**)(char *, uint64_t))(v8 + 8);
  v18(v13, v7);
  sub_293400();
  swift_allocObject();
  sub_2933F0();
  sub_174A68();
  uint64_t v19 = sub_2933E0();
  id v39 = v18;
  unint64_t v21 = v20;
  swift_release();
  sub_71D4(&qword_313508);
  uint64_t v22 = swift_allocObject();
  long long v40 = xmmword_29A440;
  *(_OWORD *)(v22 + 16) = xmmword_29A440;
  uint64_t v38 = (uint64_t *)(v22 + 32);
  sub_71D4(&qword_313510);
  uint64_t v23 = swift_allocObject();
  *(_OWORD *)(v23 + 16) = v40;
  *(void *)(v23 + 56) = sub_293B60();
  *(void *)(v23 + 64) = &protocol witness table for CustomCanvas;
  sub_12B48((uint64_t *)(v23 + 32));
  sub_BDFA4(v19, v21);
  *(void *)&long long v40 = v21;
  sub_293B50();
  uint64_t v24 = sub_293B40();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v4, 1, 1, v24);
  uint64_t v25 = sub_293B70();
  sub_171EEC(v25);
  uint64_t v26 = v19;
  swift_bridgeObjectRelease();
  *(void *)(v22 + 56) = sub_293B90();
  *(void *)(v22 + 64) = &protocol witness table for Section;
  sub_12B48(v38);
  sub_293BA0();
  uint64_t v27 = v44;
  sub_293BC0();
  id v28 = [objc_allocWithZone((Class)SAUIVisualResponseSnippet) init];
  os_log_type_t v29 = v41;
  sub_2936D0();
  sub_2936B0();
  (*(void (**)(char *, uint64_t))(v42 + 8))(v29, v43);
  NSString v30 = sub_2989B0();
  swift_bridgeObjectRelease();
  [v28 setAceId:v30];

  id v31 = v28;
  NSString v32 = sub_2989B0();
  [v31 setViewId:v32];

  unint64_t v33 = v47;
  v48(v47, v14, v7);
  unint64_t v34 = sub_2987E0();
  os_log_type_t v35 = sub_298DC0();
  if (os_log_type_enabled(v34, v35))
  {
    uint64_t v36 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v36 = 0;
    _os_log_impl(&dword_0, v34, v35, "AcousticIDFlow#noMatchSnippet Successfully generate iOS view", v36, 2u);
    unint64_t v33 = v47;
    swift_slowDealloc();
  }

  sub_BDFFC(v26, v40);
  v39(v33, v7);
  (*(void (**)(char *, uint64_t))(v45 + 8))(v27, v46);
  return v31;
}

uint64_t sub_174058()
{
  uint64_t v1 = *(void *)(sub_71D4(&qword_313428) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 40) & ~v2;
  uint64_t v4 = *(void *)(v1 + 64);
  swift_release();
  swift_bridgeObjectRelease();
  uint64_t v5 = sub_2970A0();
  uint64_t v6 = *(void *)(v5 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v6 + 48))(v0 + v3, 1, v5)) {
    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v0 + v3, v5);
  }
  swift_release();

  return _swift_deallocObject(v0, ((v4 + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + 16, v2 | 7);
}

uint64_t sub_1741A8(void (*a1)(char *, uint64_t))
{
  uint64_t v3 = *(void *)(sub_71D4(&qword_313428) - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v5 = v1[2];
  uint64_t v6 = v1[3];
  uint64_t v7 = v1[4];
  uint64_t v8 = (uint64_t)v1 + v4;
  uint64_t v9 = (char *)v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8);
  uint64_t v10 = *(void (**)(char *))v9;
  uint64_t v11 = *((void *)v9 + 1);

  return sub_16B5D4(a1, v5, v6, v7, v8, v10, v11);
}

uint64_t sub_174254()
{
  uint64_t v1 = sub_2970A0();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 40) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  swift_release();
  swift_bridgeObjectRelease();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_174348(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_2970A0() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v5 = v1[2];
  uint64_t v6 = v1[3];
  uint64_t v7 = v1[4];
  uint64_t v8 = (uint64_t)v1 + v4;
  uint64_t v9 = (char *)v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8);
  uint64_t v10 = *(void (**)(char *))v9;
  uint64_t v11 = *((void *)v9 + 1);

  return sub_169E68(a1, v5, v6, v7, v8, v10, v11);
}

uint64_t sub_1743F0(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AcousticIDFlow.State(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_174454()
{
  uint64_t v1 = (int *)(sub_71D4(&qword_30D030) - 8);
  uint64_t v2 = *(unsigned __int8 *)(*(void *)v1 + 80);
  uint64_t v3 = (v2 + 24) & ~v2;
  uint64_t v4 = v2 | 7;
  unint64_t v5 = ((*(void *)(*(void *)v1 + 64) + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + 16;
  swift_release();
  uint64_t v6 = v0 + v3;
  uint64_t v7 = sub_2949F0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v7 - 8) + 8))(v6, v7);

  swift_release();

  return _swift_deallocObject(v0, v5, v4);
}

uint64_t sub_174568(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v5 = *(void *)(v1 + 16);
  uint64_t v6 = v1 + v4;
  uint64_t v7 = (uint64_t *)(v1 + ((*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v8 = *v7;
  uint64_t v9 = v7[1];

  return sub_168DA4(a1, v5, v6, v8, v9);
}

uint64_t sub_174610()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_174650(int a1)
{
  return sub_169320(a1, *(void (**)(char *))(v1 + 16), *(void *)(v1 + 24), *(void **)(v1 + 32));
}

uint64_t sub_174660(uint64_t a1)
{
  return sub_167C88(a1, v1[2], v1[3], v1[4], v1[5]);
}

uint64_t sub_174670(void *a1)
{
  return sub_1659E8(a1, v1[2], v1[3], v1[4], v1[5]);
}

uint64_t sub_17467C()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1746B4()
{
  swift_release();
  swift_release();

  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 64, 7);
}

uint64_t sub_17470C(uint64_t a1, uint64_t a2, char a3)
{
  return sub_166E30(a1, a2, a3 & 1, *(void *)(v3 + 16), *(void *)(v3 + 24), *(void **)(v3 + 32), *(void *)(v3 + 40), *(void *)(v3 + 48), *(void *)(v3 + 56));
}

uint64_t sub_17474C(uint64_t a1)
{
  unint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v4;
  void *v4 = v2;
  v4[1] = sub_5174C;
  v4[10] = a1;
  v4[11] = v1;
  return _swift_task_switch(sub_16CD2C, 0, 0);
}

uint64_t sub_1747FC(uint64_t a1, char a2)
{
  return sub_163DFC(a1, a2 & 1, *(void *)(v2 + 16), *(void (**)(char *))(v2 + 24), *(void *)(v2 + 32), "AcousticIDFlow#successfulMatchDialogAndViewNonRF Dialog successfully generated, responding and exiting", 5, "AcousticIDFlow#successfulMatchDialogAndViewNonRF self deallocated prematurely during publishing");
}

uint64_t sub_174838()
{
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 72, 7);
}

uint64_t sub_174890(void *a1)
{
  return sub_16733C(a1, v1[2], v1[3], v1[4], v1[5], v1[6], v1[7], v1[8]);
}

uint64_t sub_1748A4(uint64_t a1, uint64_t a2, char a3)
{
  if (a3) {
    return swift_errorRetain();
  }
  else {
    return swift_bridgeObjectRetain();
  }
}

uint64_t sub_1748B8(uint64_t a1)
{
  return sub_1645E4(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(const char **)(v1 + 32), &enum case for ShazamSnippetRole.noMatch(_:), 5, (unsigned int *)&enum case for AdditionalMetricsDescription.SourceFunction.noMatch(_:), (unsigned int *)&enum case for AdditionalMetricsDescription.StatusReason.noMatchFound(_:), (unsigned int *)&enum case for ActivityType.failed(_:), (unsigned int *)&enum case for SiriKitReliabilityCodes.noReadableItems(_:), "AcousticIDFlow#listeningDialogAndViewWithRF self deallocated prematurely  %{public}s");
}

uint64_t sub_174920(void *a1)
{
  return sub_16225C(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_174930(uint64_t a1, uint64_t a2, char a3)
{
  return sub_1757EC(a1, a2, a3, (uint64_t (*)(uint64_t, uint64_t, void, void, void, void, void, void))sub_1635C4);
}

uint64_t sub_174948()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_174980(uint64_t a1)
{
  unint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v4;
  void *v4 = v2;
  v4[1] = sub_14480;
  v4[10] = a1;
  v4[11] = v1;
  return _swift_task_switch(sub_16CD2C, 0, 0);
}

uint64_t sub_174A30(uint64_t a1, char a2)
{
  return sub_163DFC(a1, a2 & 1, *(void *)(v2 + 16), *(void (**)(char *))(v2 + 24), *(void *)(v2 + 32), "AcousticIDFlow#noMatchFoundDialogAndViewNonRF Dialog successfully generated, responding and exiting", 5, "AcousticIDFlow#noMatchFoundDialogAndViewNonRF self deallocated prematurely during publishing");
}

unint64_t sub_174A68()
{
  unint64_t result = qword_313560;
  if (!qword_313560)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_313560);
  }
  return result;
}

uint64_t sub_174ABC()
{
  uint64_t v1 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 32) & ~v2;
  uint64_t v17 = *(void *)(v1 + 64);
  uint64_t v19 = sub_71D4(&qword_30D030);
  uint64_t v4 = *(unsigned __int8 *)(*(void *)(v19 - 8) + 80);
  uint64_t v16 = *(void *)(*(void *)(v19 - 8) + 64);
  uint64_t v18 = sub_297A70();
  uint64_t v5 = *(void *)(v18 - 8);
  uint64_t v6 = *(unsigned __int8 *)(v5 + 80);
  uint64_t v7 = *(void *)(v5 + 64);
  swift_release();
  uint64_t v8 = sub_2948C0();
  uint64_t v9 = *(void *)(v8 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v9 + 48))(v0 + v3, 1, v8)) {
    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v0 + v3, v8);
  }
  uint64_t v10 = v2 | v4 | v6 | 7;
  uint64_t v11 = (v3 + v17 + v4) & ~v4;
  unint64_t v12 = (((v16 + v11 + 7) & 0xFFFFFFFFFFFFFFF8) + v6 + 8) & ~v6;
  uint64_t v13 = v0 + v11;
  uint64_t v14 = sub_2949F0();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v14 - 8) + 8))(v13, v14);

  swift_release();
  (*(void (**)(unint64_t, uint64_t))(v5 + 8))(v0 + v12, v18);

  return _swift_deallocObject(v0, v12 + v7, v10);
}

uint64_t sub_174D48(uint64_t a1, uint64_t a2, char a3)
{
  char v6 = a3 & 1;
  uint64_t v7 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  unint64_t v8 = (*(unsigned __int8 *)(v7 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = *(void *)(v7 + 64);
  uint64_t v10 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v11 = (v8 + v9 + *(unsigned __int8 *)(v10 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v10 + 80);
  unint64_t v12 = (*(void *)(v10 + 64) + v11 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v13 = *(void *)(sub_297A70() - 8);
  uint64_t v14 = *(void *)(v3 + 16);
  uint64_t v15 = *(void *)(v3 + 24);
  uint64_t v16 = v3 + ((v12 + *(unsigned __int8 *)(v13 + 80) + 8) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80));

  return sub_172F54(a1, a2, v6, v14, v15, v3 + v8, v3 + v11, v16);
}

uint64_t sub_174EB0()
{
  uint64_t v1 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 16) & ~v2;
  uint64_t v4 = *(void *)(v1 + 64);
  uint64_t v5 = sub_71D4(&qword_30D030);
  uint64_t v6 = *(unsigned __int8 *)(*(void *)(v5 - 8) + 80);
  uint64_t v7 = *(void *)(*(void *)(v5 - 8) + 64);
  uint64_t v8 = sub_2948C0();
  uint64_t v9 = *(void *)(v8 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v9 + 48))(v0 + v3, 1, v8)) {
    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v0 + v3, v8);
  }
  unint64_t v10 = (((((v4 + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + v6 + 8) & ~v6;
  swift_bridgeObjectRelease();
  swift_release();
  uint64_t v11 = sub_2949F0();
  (*(void (**)(unint64_t, uint64_t))(*(void *)(v11 - 8) + 8))(v0 + v10, v11);

  return _swift_deallocObject(v0, v10 + v7, v2 | v6 | 7);
}

uint64_t sub_1750B4(uint64_t a1)
{
  uint64_t v3 = v2;
  uint64_t v5 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  unint64_t v7 = (*(void *)(v5 + 64) + v6 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v8 = (v7 + 23) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v9 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v10 = (v8 + *(unsigned __int8 *)(v9 + 80) + 8) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80);
  uint64_t v11 = v1 + v6;
  uint64_t v12 = v1 + v7;
  uint64_t v13 = *(void *)(v1 + v7);
  uint64_t v14 = *(void *)(v12 + 8);
  uint64_t v15 = *(void *)(v1 + v8);
  uint64_t v16 = v1 + v10;
  uint64_t v17 = (void *)swift_task_alloc();
  *(void *)(v3 + 16) = v17;
  *uint64_t v17 = v3;
  v17[1] = sub_5174C;
  return sub_160C94(a1, v11, v13, v14, v15, v16);
}

uint64_t sub_175234(uint64_t a1)
{
  return sub_16140C(a1, v1[2], v1[3], v1[4], v1[5], v1[6]);
}

uint64_t sub_175244()
{
  uint64_t v1 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  uint64_t v2 = *(unsigned __int8 *)(v1 + 80);
  uint64_t v3 = (v2 + 16) & ~v2;
  uint64_t v15 = *(void *)(v1 + 64);
  uint64_t v17 = sub_71D4(&qword_30D030);
  uint64_t v4 = *(unsigned __int8 *)(*(void *)(v17 - 8) + 80);
  uint64_t v14 = *(void *)(*(void *)(v17 - 8) + 64);
  uint64_t v16 = sub_297A70();
  uint64_t v5 = *(void *)(v16 - 8);
  uint64_t v6 = *(unsigned __int8 *)(v5 + 80);
  uint64_t v7 = *(void *)(v5 + 64);
  uint64_t v8 = sub_2948C0();
  uint64_t v9 = *(void *)(v8 - 8);
  if (!(*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v9 + 48))(v0 + v3, 1, v8)) {
    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v0 + v3, v8);
  }
  unint64_t v10 = (((v15 + v3 + 7) & 0xFFFFFFFFFFFFFFF8) + v4 + 8) & ~v4;
  unint64_t v11 = (v10 + v14 + v6) & ~v6;
  swift_release();
  uint64_t v12 = sub_2949F0();
  (*(void (**)(unint64_t, uint64_t))(*(void *)(v12 - 8) + 8))(v0 + v10, v12);

  (*(void (**)(unint64_t, uint64_t))(v5 + 8))(v0 + v11, v16);

  return _swift_deallocObject(v0, v11 + v7, v2 | v4 | v6 | 7);
}

uint64_t sub_1754CC(uint64_t a1)
{
  uint64_t v4 = *(void *)(sub_71D4((uint64_t *)&unk_30FA70) - 8);
  unint64_t v5 = (*(unsigned __int8 *)(v4 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80);
  unint64_t v6 = (*(void *)(v4 + 64) + v5 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v7 = *(void *)(sub_71D4(&qword_30D030) - 8);
  unint64_t v8 = (v6 + *(unsigned __int8 *)(v7 + 80) + 8) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80);
  uint64_t v9 = *(void *)(v7 + 64);
  uint64_t v10 = *(unsigned __int8 *)(*(void *)(sub_297A70() - 8) + 80);
  unint64_t v11 = v8 + v9 + v10;
  uint64_t v12 = v1 + v5;
  uint64_t v13 = *(void *)(v1 + v6);
  uint64_t v14 = v1 + v8;
  uint64_t v15 = v1 + (v11 & ~v10);
  uint64_t v16 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v16;
  *uint64_t v16 = v2;
  v16[1] = sub_5174C;
  return sub_161658(a1, v12, v13, v14, v15);
}

uint64_t sub_175690(uint64_t a1)
{
  return sub_161EB0(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_17569C(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_1756E8(uint64_t a1)
{
  return sub_15F834(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_1756F8(uint64_t a1, char a2)
{
  return sub_15FF60(a1, a2 & 1, *(void *)(v2 + 16), *(void (**)(void))(v2 + 24), *(void *)(v2 + 32));
}

uint64_t sub_17570C(uint64_t a1)
{
  return sub_1645E4(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(const char **)(v1 + 32), &enum case for ShazamSnippetRole.listening(_:), 4, (unsigned int *)&enum case for AdditionalMetricsDescription.SourceFunction.lstnDlgView(_:), (unsigned int *)&enum case for AdditionalMetricsDescription.StatusReason.listening(_:), (unsigned int *)&enum case for ActivityType.showInterstitial(_:), (unsigned int *)&enum case for SiriKitReliabilityCodes.inProgress(_:), "AcousticIDFlow#listeningDialogAndViewWithRF self deallocated prematurely %{public}s");
}

uint64_t sub_175774(void *a1)
{
  return sub_15D0DC(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_175784()
{
  swift_release();

  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_1757D4(uint64_t a1, uint64_t a2, char a3)
{
  return sub_1757EC(a1, a2, a3, (uint64_t (*)(uint64_t, uint64_t, void, void, void, void, void, void))sub_15E430);
}

uint64_t sub_1757EC(uint64_t a1, uint64_t a2, char a3, uint64_t (*a4)(uint64_t, uint64_t, void, void, void, void, void, void))
{
  return a4(a1, a2, a3 & 1, v4[2], v4[3], v4[4], v4[5], v4[6]);
}

uint64_t sub_175808(uint64_t a1, uint64_t a2, char a3)
{
  if (a3) {
    return swift_errorRelease();
  }
  else {
    return swift_bridgeObjectRelease();
  }
}

uint64_t sub_17581C(uint64_t a1, char a2)
{
  return sub_163DFC(a1, a2 & 1, *(void *)(v2 + 16), *(void (**)(char *))(v2 + 24), *(void *)(v2 + 32), "AcousticIDFlow#listeningDialogAndViewNonRF Dialog successfully generated, responding", 4, "AcousticIDFlow#listeningDialogAndViewNonRF self deallocated prematurely during publishing");
}

unint64_t sub_175854()
{
  unint64_t result = qword_313598;
  if (!qword_313598)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_313598);
  }
  return result;
}

uint64_t sub_1758B0(uint64_t a1)
{
  return sub_15C7B4(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(void (**)(char *))(v1 + 32), *(void *)(v1 + 40));
}

uint64_t sub_1758C0(char a1)
{
  return sub_15B758(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_1758D0()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_175918(char a1)
{
  return sub_159258(a1, v1[2], v1[3], v1[4], v1[5]);
}

uint64_t sub_175928()
{
  return sub_159580(*(void *)(v0 + 16), *(void (**)(char *))(v0 + 24), *(void *)(v0 + 32));
}

uint64_t sub_175938()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_175980(uint64_t a1)
{
  return sub_15AAF4(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(void (**)(char *))(v1 + 32), *(void *)(v1 + 40));
}

uint64_t sub_17598C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AcousticIDFlow.State(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_1759F4(uint64_t a1, uint64_t a2, char a3)
{
  return sub_1598AC(a1, a2, a3 & 1, *(void *)(v3 + 16), *(void (**)(char *))(v3 + 24), *(void *)(v3 + 32));
}

uint64_t sub_175A04(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(v1 + 16))(*(void *)a1, *(void *)(a1 + 8), *(unsigned __int8 *)(a1 + 16));
}

uint64_t sub_175A38()
{
  return sub_15A838();
}

uint64_t DetermineFlowStrategy.actionForInput(input:)@<X0>(char *a1@<X0>, uint64_t a2@<X8>)
{
  unint64_t v82 = a1;
  uint64_t v80 = a2;
  uint64_t v2 = sub_71D4(&qword_30D620);
  __chkstk_darwin(v2 - 8);
  uint64_t v73 = (char *)&v67 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_297BD0();
  uint64_t v74 = *(void *)(v4 - 8);
  uint64_t v75 = v4;
  uint64_t v5 = __chkstk_darwin(v4);
  uint64_t v68 = (char *)&v67 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = __chkstk_darwin(v5);
  uint64_t v69 = (char *)&v67 - v8;
  uint64_t v9 = __chkstk_darwin(v7);
  uint64_t v71 = (char *)&v67 - v10;
  __chkstk_darwin(v9);
  id v72 = (char *)&v67 - v11;
  uint64_t v83 = (void *)sub_295120();
  uint64_t v12 = *(v83 - 1);
  uint64_t v13 = __chkstk_darwin(v83);
  uint64_t v15 = (char *)&v67 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v17 = (char *)&v67 - v16;
  uint64_t v18 = sub_298800();
  uint64_t v19 = *(void *)(v18 - 8);
  uint64_t v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)&v67 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = __chkstk_darwin(v20);
  uint64_t v67 = (char *)&v67 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v27 = (char *)&v67 - v26;
  uint64_t v28 = __chkstk_darwin(v25);
  uint64_t v70 = (char *)&v67 - v29;
  __chkstk_darwin(v28);
  id v31 = (char *)&v67 - v30;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v32 = sub_6E60(v18, (uint64_t)qword_31FC08);
  unint64_t v33 = *(void (**)(char *, uint64_t, uint64_t))(v19 + 16);
  uint64_t v76 = v32;
  uint64_t v77 = v33;
  uint64_t v81 = v18;
  uint64_t v78 = v19 + 16;
  ((void (*)(char *))v33)(v31);
  unint64_t v34 = sub_2987E0();
  os_log_type_t v35 = sub_298DA0();
  if (os_log_type_enabled(v34, v35))
  {
    uint64_t v36 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v36 = 0;
    _os_log_impl(&dword_0, v34, v35, "DetermineFlowStrategy#actionForInput called", v36, 2u);
    swift_slowDealloc();
  }

  uint64_t v37 = v19 + 8;
  uint64_t v38 = *(void (**)(char *, uint64_t))(v19 + 8);
  uint64_t v39 = v81;
  uint64_t v79 = v37;
  v38(v31, v81);
  sub_295040();
  long long v40 = v83;
  int v41 = (*(uint64_t (**)(char *, void *))(v12 + 88))(v17, v83);
  if (v41 != enum case for Parse.NLv3IntentOnly(_:) && v41 != enum case for Parse.uso(_:))
  {
    v77(v27, v76, v39);
    uint64_t v42 = sub_2987E0();
    os_log_type_t v43 = sub_298DB0();
    if (os_log_type_enabled(v42, v43))
    {
      uint64_t v44 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v44 = 0;
      _os_log_impl(&dword_0, v42, v43, "DetermineFlowStrategy#actionForInput received non NLv3IntentOnly or Uso parse", v44, 2u);
      long long v40 = v83;
      swift_slowDealloc();
    }

    v38(v27, v39);
    sub_2945A0();
    return (*(uint64_t (**)(char *, void *))(v12 + 8))(v17, v40);
  }
  uint64_t v46 = *(void (**)(char *, void *))(v12 + 8);
  v46(v17, v40);
  sub_295040();
  sub_E3DA0((uint64_t)v15, (uint64_t)&v86);
  v46(v15, v40);
  uint64_t v47 = v88;
  sub_23A44((uint64_t)&v86, &qword_30D8A8);
  if (v47)
  {
    sub_295040();
    sub_E3DA0((uint64_t)v15, (uint64_t)&v86);
    v46(v15, v40);
    if (v88)
    {
      sub_74A4(&v86, v88);
      uint64_t v48 = (uint64_t)v73;
      sub_297BC0();
      sub_7184((uint64_t)&v86);
      uint64_t v50 = v74;
      uint64_t v49 = v75;
      if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v74 + 48))(v48, 1, v75) != 1)
      {
        unint64_t v82 = v22;
        (*(void (**)(char *, uint64_t, uint64_t))(v50 + 32))(v72, v48, v49);
        uint64_t v51 = *(void **)(v50 + 104);
        ((void (*)(char *, void, uint64_t))v51)(v71, enum case for CommonAudio.Confirmation.cancel(_:), v49);
        sub_177A8C(qword_30FAF0, 255, (void (*)(uint64_t))&type metadata accessor for CommonAudio.Confirmation);
        sub_298B20();
        sub_298B20();
        uint64_t v83 = v51;
        if (v86 == v84 && v87 == v85) {
          char v52 = 1;
        }
        else {
          char v52 = sub_2995D0();
        }
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        uint64_t v60 = *(void (**)(char *, uint64_t))(v50 + 8);
        v60(v71, v49);
        uint64_t v61 = v69;
        (*(void (**)(char *, char *, uint64_t))(v50 + 16))(v69, v72, v49);
        if (v52) {
          goto LABEL_29;
        }
        ((void (*)(char *, void, uint64_t))v83)(v68, enum case for CommonAudio.Confirmation.no(_:), v49);
        sub_298B20();
        sub_298B20();
        if (v86 == v84 && v87 == v85)
        {
          swift_bridgeObjectRelease_n();
          v60(v68, v49);
          uint64_t v61 = v69;
LABEL_29:
          v60(v61, v49);
LABEL_30:
          uint64_t v62 = v67;
          v77(v67, v76, v39);
          id v63 = sub_2987E0();
          os_log_type_t v64 = sub_298DC0();
          if (os_log_type_enabled(v63, v64))
          {
            uint64_t v65 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v65 = 0;
            _os_log_impl(&dword_0, v63, v64, "DetermineFlowStrategy#actionForInput found cancellation node - treating state as cancelled", v65, 2u);
            uint64_t v49 = v75;
            swift_slowDealloc();
          }

          v38(v62, v39);
          sub_294580();
          return ((uint64_t (*)(char *, uint64_t))v60)(v72, v49);
        }
        char v66 = sub_2995D0();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        v60(v68, v49);
        v60(v69, v49);
        if (v66) {
          goto LABEL_30;
        }
        v60(v72, v49);
        uint64_t v22 = v82;
        goto LABEL_21;
      }
    }
    else
    {
      sub_23A44((uint64_t)&v86, &qword_30D8A8);
      uint64_t v48 = (uint64_t)v73;
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v74 + 56))(v73, 1, 1, v75);
    }
    sub_23A44(v48, &qword_30D620);
LABEL_21:
    v77(v22, v76, v39);
    unint64_t v57 = sub_2987E0();
    os_log_type_t v58 = sub_298DA0();
    if (os_log_type_enabled(v57, v58))
    {
      unint64_t v59 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)unint64_t v59 = 0;
      _os_log_impl(&dword_0, v57, v58, "DetermineFlowStrategy#actionForInput handling", v59, 2u);
      swift_slowDealloc();
    }

    v38(v22, v39);
    return sub_294590();
  }
  uint64_t v53 = v70;
  v77(v70, v76, v39);
  uint64_t v54 = sub_2987E0();
  os_log_type_t v55 = sub_298DB0();
  if (os_log_type_enabled(v54, v55))
  {
    unint64_t v56 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v56 = 0;
    _os_log_impl(&dword_0, v54, v55, "DetermineFlowStrategy#actionForInput received unsupported parse", v56, 2u);
    swift_slowDealloc();
  }

  v38(v53, v39);
  return sub_2945A0();
}

uint64_t DetermineFlowStrategy.makeIntentFromParse(parse:currentIntent:completion:)(uint64_t a1, void *a2, void (*a3)(void, void), uint64_t a4)
{
  uint64_t v95 = a4;
  id v97 = a2;
  uint64_t v6 = sub_295120();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = __chkstk_darwin(v6);
  os_log_type_t v98 = (char *)&v78 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v78 - v11;
  __chkstk_darwin(v10);
  uint64_t v14 = (char *)&v78 - v13;
  uint64_t v15 = sub_298800();
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = __chkstk_darwin(v15);
  uint64_t v86 = (char *)&v78 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = __chkstk_darwin(v17);
  unint64_t v82 = (char *)&v78 - v20;
  __chkstk_darwin(v19);
  uint64_t v22 = (char *)&v78 - v21;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_6E60(v15, (uint64_t)qword_31FC08);
  uint64_t v24 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 16);
  uint64_t v88 = v23;
  uint64_t v90 = v16 + 16;
  uint64_t v89 = v24;
  ((void (*)(char *))v24)(v22);
  uint64_t v25 = *(void (**)(char *, char *, uint64_t))(v7 + 16);
  uint64_t v94 = a1;
  uint64_t v96 = v25;
  v25(v14, (char *)a1, v6);
  id v26 = v97;
  uint64_t v27 = sub_2987E0();
  uint64_t v92 = v15;
  uint64_t v28 = v27;
  os_log_type_t v29 = sub_298DA0();
  int v85 = v29;
  BOOL v30 = os_log_type_enabled(v28, v29);
  id v91 = a3;
  id v83 = v26;
  if (v30)
  {
    uint64_t v31 = swift_slowAlloc();
    uint64_t v87 = v7;
    uint64_t v32 = v31;
    uint64_t v81 = swift_slowAlloc();
    *(void *)&long long v102 = v81;
    *(_DWORD *)uint64_t v32 = 136446722;
    uint64_t v33 = sub_297410();
    os_log_t v79 = v28;
    *(void *)&long long v99 = sub_6E98(v33, v34, (uint64_t *)&v102);
    uint64_t v80 = v16;
    sub_2992C0();
    swift_bridgeObjectRelease();
    *(_WORD *)(v32 + 12) = 2080;
    v96(v12, v14, v6);
    uint64_t v35 = sub_2989E0();
    *(void *)&long long v99 = sub_6E98(v35, v36, (uint64_t *)&v102);
    sub_2992C0();
    swift_bridgeObjectRelease();
    uint64_t v93 = *(void (**)(char *, uint64_t))(v87 + 8);
    v93(v14, v6);
    *(_WORD *)(v32 + 22) = 2080;
    id v37 = v97;
    *(void *)&long long v99 = v97;
    id v38 = v26;
    sub_71D4(&qword_3135A8);
    uint64_t v39 = sub_2989E0();
    *(void *)&long long v99 = sub_6E98(v39, v40, (uint64_t *)&v102);
    sub_2992C0();

    uint64_t v41 = v95;
    swift_bridgeObjectRelease();
    os_log_t v42 = v79;
    _os_log_impl(&dword_0, v79, (os_log_type_t)v85, "DetermineFlowStrategy#makeIntentFromParse %{public}s for parse:%s and previousIntent:%s", (uint8_t *)v32, 0x20u);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v7 = v87;
    swift_slowDealloc();

    os_log_type_t v43 = *(void (**)(char *, uint64_t))(v80 + 8);
    uint64_t v44 = v92;
    v43(v22, v92);
    id v45 = v37;
  }
  else
  {
    uint64_t v41 = v95;
    uint64_t v93 = *(void (**)(char *, uint64_t))(v7 + 8);
    v93(v14, v6);

    os_log_type_t v43 = *(void (**)(char *, uint64_t))(v16 + 8);
    uint64_t v44 = v92;
    v43(v22, v92);
    id v45 = v97;
  }
  uint64_t v46 = v98;
  uint64_t v47 = v94;
  v96(v98, (char *)v94, v6);
  int v48 = (*(uint64_t (**)(char *, uint64_t))(v7 + 88))(v46, v6);
  if (v48 == enum case for Parse.NLv3IntentOnly(_:) || v48 == enum case for Parse.uso(_:))
  {
    v93(v98, v6);
    sub_E3DA0(v47, (uint64_t)&v99);
    if (v100)
    {
      unint64_t v57 = v91;
      id v58 = v45;
      uint64_t v59 = v41;
      sub_654B4(&v99, &v102);
      uint64_t v60 = v83;
      id v61 = v83;
      if (!v58) {
        id v61 = [objc_allocWithZone((Class)type metadata accessor for DetermineIntent()) init];
      }
      uint64_t v62 = v103;
      id v63 = v104;
      os_log_type_t v64 = sub_74A4(&v102, v103);
      uint64_t v100 = v62;
      char v101 = v63;
      uint64_t v65 = sub_12B48((uint64_t *)&v99);
      (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v62 - 8) + 16))(v65, v64, v62);
      char v66 = (void *)(v84 + 16);
      uint64_t v67 = v84 + 56;
      uint64_t v68 = (void *)swift_allocObject();
      v68[2] = v61;
      v68[3] = v57;
      v68[4] = v59;
      id v69 = v60;
      id v70 = v61;
      swift_retain();
      sub_220C00((uint64_t)v65, v66, v67, (void (*)(void))sub_17793C, (uint64_t)v68, v70, v62, v63);
      swift_release();

      sub_7184((uint64_t)&v99);
      return sub_7184((uint64_t)&v102);
    }
    else
    {
      sub_23A44((uint64_t)&v99, &qword_30D8A8);
      uint64_t v71 = v82;
      v89(v82, v88, v44);
      id v72 = sub_2987E0();
      os_log_type_t v73 = sub_298DB0();
      if (os_log_type_enabled(v72, v73))
      {
        uint64_t v74 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v74 = 0;
        _os_log_impl(&dword_0, v72, v73, "DetermineFlowStrategy#makeIntentFromParse received unsupported NLv3IntentOnly parse", v74, 2u);
        swift_slowDealloc();
      }

      v43(v71, v44);
      uint64_t v75 = sub_296000();
      sub_177A8C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v76 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v75 - 8) + 104))(v77, enum case for PlaybackCode.ceGE63(_:), v75);
      v91(v76, 1);
      return swift_errorRelease();
    }
  }
  else
  {
    uint64_t v49 = v86;
    v89(v86, v88, v44);
    uint64_t v50 = sub_2987E0();
    os_log_type_t v51 = sub_298DB0();
    if (os_log_type_enabled(v50, v51))
    {
      char v52 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)char v52 = 0;
      _os_log_impl(&dword_0, v50, v51, "DetermineFlowStrategy#makeIntentFromParse received non NLv3IntentOnly or Uso parse", v52, 2u);
      swift_slowDealloc();
    }

    v43(v49, v44);
    uint64_t v53 = sub_296000();
    sub_177A8C((unint64_t *)&qword_313840, 255, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v54 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v53 - 8) + 104))(v55, enum case for PlaybackCode.ceGE64(_:), v53);
    v91(v54, 1);
    swift_errorRelease();
    return ((uint64_t (*)(char *, uint64_t))v93)(v98, v6);
  }
}

uint64_t sub_176FB0(void *a1, uint64_t (*a2)(void, void))
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v17 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v4, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v8, v4);
  id v9 = a1;
  uint64_t v10 = sub_2987E0();
  os_log_type_t v11 = sub_298DA0();
  if (os_log_type_enabled(v10, v11))
  {
    uint64_t v21 = a2;
    uint64_t v12 = swift_slowAlloc();
    uint64_t v19 = v5;
    uint64_t v13 = (uint8_t *)v12;
    uint64_t v18 = (void *)swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 138412290;
    id v22 = v9;
    id v14 = v9;
    uint64_t v20 = v4;
    id v15 = v14;
    a2 = v21;
    sub_2992C0();
    void *v18 = v9;

    uint64_t v4 = v20;
    _os_log_impl(&dword_0, v10, v11, "DetermineFlowStrategy#makeIntentFromParse returning intent: %@", v13, 0xCu);
    sub_71D4((uint64_t *)&unk_30FA40);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v5 = v19;
    swift_slowDealloc();
  }
  else
  {
  }
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  return a2(v9, 0);
}

uint64_t DetermineFlowStrategy.makeSiriKitIntentHandler(app:intent:)@<X0>(void *a1@<X1>, uint64_t a2@<X8>)
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v18 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_6E60(v4, (uint64_t)qword_31FC08);
  (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v8, v4);
  id v9 = sub_2987E0();
  os_log_type_t v10 = sub_298DA0();
  if (os_log_type_enabled(v9, v10))
  {
    os_log_type_t v11 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)os_log_type_t v11 = 0;
    _os_log_impl(&dword_0, v9, v10, "DetermineFlowStrategy#makeSiriKitIntentHandler reached here", v11, 2u);
    swift_slowDealloc();
  }

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  uint64_t v12 = qword_30C878;
  swift_retain();
  if (v12 != -1) {
    swift_once();
  }
  swift_beginAccess();
  uint64_t v13 = (void *)static Determine.intentHandler;
  type metadata accessor for DetermineIntent();
  id v14 = v13;
  id v15 = a1;
  sub_2940F0();
  uint64_t v16 = sub_294100();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(a2, 0, 1, v16);
}

uint64_t sub_1774A8@<X0>(char *a1@<X0>, uint64_t a2@<X8>)
{
  return DetermineFlowStrategy.actionForInput(input:)(a1, a2);
}

uint64_t sub_1774C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for DetermineFlowStrategy();

  return RCHFlowStrategy.makeAnnotatedIntentFromParse(parse:currentIntent:completion:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_17752C(uint64_t a1, void *a2, void (*a3)(void, void), uint64_t a4)
{
  return DetermineFlowStrategy.makeIntentFromParse(parse:currentIntent:completion:)(a1, a2, a3, a4);
}

uint64_t sub_177550(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = type metadata accessor for DetermineFlowStrategy();

  return RCHFlowStrategy.makeParameterMetadata(intent:)(a1, v5, a3);
}

uint64_t sub_17759C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for DetermineFlowStrategy();

  return ResolveConfirmFlowStrategy.makeAppDoesNotSupportIntentResponse(app:intent:_:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_177608(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for DetermineFlowStrategy();

  return ResolveConfirmFlowStrategy.makeAppNotFoundOnDeviceResponse(app:intent:_:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_177674(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for DetermineFlowStrategy();

  return ResolveConfirmFlowStrategy.makeDeviceIncompatibleResponse(app:intent:_:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_1776E0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for DetermineFlowStrategy();

  return RouteConfirmIntentResponseFlowStrategy.makeFailureConfirmingIntentResponse(app:intent:intentResponse:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_17775C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = type metadata accessor for DetermineFlowStrategy();

  return IntentExtensionCommunicating.shouldIntentBeExecutedOnRemoteCompanion(intent:)(a1, v5, a3);
}

uint64_t sub_1777A8@<X0>(void *a1@<X1>, uint64_t a2@<X8>)
{
  return DetermineFlowStrategy.makeSiriKitIntentHandler(app:intent:)(a1, a2);
}

uint64_t sub_1777C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = type metadata accessor for DetermineFlowStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:)(a1, a2, v7, a4);
}

uint64_t sub_177814(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = type metadata accessor for DetermineFlowStrategy();

  return IntentExtensionCommunicating.makeIntentExecutionBehavior(app:intent:completion:)(a1, a2, a3, a4, v11, a6);
}

uint64_t sub_177880(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  uint64_t v13 = type metadata accessor for DetermineFlowStrategy();

  return IntentErrorHandling.makeErrorResponse(app:intent:error:_:)(a1, a2, a3, a4, a5, v13, a7);
}

uint64_t sub_1778FC()
{
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_17793C()
{
  return sub_176FB0(*(void **)(v0 + 16), *(uint64_t (**)(void, void))(v0 + 24));
}

uint64_t sub_177948(uint64_t a1, uint64_t a2)
{
  return sub_177A8C(&qword_3135B0, a2, (void (*)(uint64_t))type metadata accessor for DetermineFlowStrategy);
}

uint64_t type metadata accessor for DetermineFlowStrategy()
{
  return self;
}

uint64_t sub_1779B4(uint64_t a1, uint64_t a2)
{
  return sub_177A8C(&qword_3135B8, a2, (void (*)(uint64_t))type metadata accessor for DetermineFlowStrategy);
}

uint64_t sub_1779FC(uint64_t a1, uint64_t a2)
{
  return sub_177A8C(&qword_3135C0, a2, (void (*)(uint64_t))type metadata accessor for DetermineFlowStrategy);
}

uint64_t sub_177A44(uint64_t a1, uint64_t a2)
{
  return sub_177A8C(&qword_3135C8, a2, (void (*)(uint64_t))type metadata accessor for DetermineFlowStrategy);
}

uint64_t sub_177A8C(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t type metadata accessor for PlayMediaAdditionalCommandsProvider()
{
  return self;
}

uint64_t sub_177AF8(uint64_t a1, void (*a2)(char *, uint64_t), void *a3)
{
  return sub_1782D0(a2, a3);
}

char *sub_177B04(void (*a1)(char *, uint64_t), void *a2)
{
  id v63 = a1;
  uint64_t v3 = sub_298800();
  uint64_t v4 = *(void *)(v3 - 8);
  uint64_t v5 = __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v56 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v5);
  os_log_type_t v10 = (char *)&v56 - v9;
  uint64_t v11 = __chkstk_darwin(v8);
  uint64_t v13 = (char *)&v56 - v12;
  __chkstk_darwin(v11);
  id v15 = (char *)&v56 - v14;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_6E60(v3, (uint64_t)qword_31FC08);
  uint64_t v17 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 16);
  uint64_t v61 = v16;
  uint64_t v62 = v17;
  ((void (*)(char *))v17)(v15);
  uint64_t v18 = sub_2987E0();
  os_log_type_t v19 = sub_298DA0();
  if (os_log_type_enabled(v18, v19))
  {
    unint64_t v57 = v7;
    uint64_t v20 = swift_slowAlloc();
    id v58 = a2;
    uint64_t v21 = (uint8_t *)v20;
    uint64_t v22 = swift_slowAlloc();
    uint64_t v60 = v10;
    uint64_t v65 = v22;
    uint64_t v59 = v13;
    *(_DWORD *)uint64_t v21 = 136446210;
    uint64_t v23 = sub_2973F0();
    uint64_t v56 = v4 + 16;
    id v64 = (id)sub_6E98(v23, v24, &v65);
    uint64_t v7 = v57;
    uint64_t v13 = v59;
    sub_2992C0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v18, v19, "PlayMediaAdditionalCommandsProvider#shouldCreateAdditionalCommands... %{public}s", v21, 0xCu);
    swift_arrayDestroy();
    os_log_type_t v10 = v60;
    swift_slowDealloc();
    a2 = v58;
    swift_slowDealloc();
  }

  uint64_t v25 = *(void (**)(char *, uint64_t))(v4 + 8);
  v25(v15, v3);
  id v26 = v63;
  if (!sub_298F30())
  {
    v62(v7, v61, v3);
    uint64_t v32 = sub_2987E0();
    os_log_type_t v33 = sub_298DA0();
    if (os_log_type_enabled(v32, v33))
    {
      unint64_t v34 = (uint8_t *)swift_slowAlloc();
      uint64_t v35 = swift_slowAlloc();
      id v63 = v25;
      uint64_t v65 = v35;
      *(_DWORD *)unint64_t v34 = 136446210;
      uint64_t v36 = sub_2973F0();
      id v64 = (id)sub_6E98(v36, v37, &v65);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v32, v33, "PlayMediaAdditionalCommandsProvider#shouldCreateAdditionalCommands won't return an AceView because no view actions on next/later destinations (or create radio). %{public}s", v34, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      v63(v7, v3);
      return 0;
    }

    os_log_type_t v43 = v7;
    goto LABEL_18;
  }
  id v27 = [v26 mediaItems];
  if (!v27) {
    goto LABEL_14;
  }
  uint64_t v28 = v27;
  sub_8ABD8();
  unint64_t v29 = sub_298B50();

  if (v29 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v30 = sub_2994C0();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v30 = *(void *)((char *)&dword_10 + (v29 & 0xFFFFFFFFFFFFFF8));
  }
  swift_bridgeObjectRelease();
  if (!v30)
  {
LABEL_14:
    v62(v10, v61, v3);
    id v38 = sub_2987E0();
    os_log_type_t v39 = sub_298DB0();
    if (os_log_type_enabled(v38, v39))
    {
      unint64_t v40 = (uint8_t *)swift_slowAlloc();
      uint64_t v65 = swift_slowAlloc();
      uint64_t v60 = v10;
      *(_DWORD *)unint64_t v40 = 136446210;
      uint64_t v41 = sub_2973F0();
      id v64 = (id)sub_6E98(v41, v42, &v65);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v38, v39, "PlayMediaAdditionalCommandsProvider#shouldCreateAdditionalCommands won't return an AceView because nil or empty mediaItems. %{public}s", v40, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      os_log_type_t v43 = v60;
    }
    else
    {

      os_log_type_t v43 = v10;
    }
LABEL_18:
    uint64_t v44 = v3;
LABEL_19:
    v25(v43, v44);
    return 0;
  }
  if ([a2 code] == &dword_4) {
    return (unsigned char *)(&dword_0 + 1);
  }
  uint64_t result = (char *)[a2 code];
  if (result != (unsigned char *)&dword_0 + 1)
  {
    v62(v13, v61, v3);
    uint64_t v45 = v3;
    id v46 = a2;
    uint64_t v47 = sub_2987E0();
    os_log_type_t v48 = sub_298D90();
    if (os_log_type_enabled(v47, v48))
    {
      uint64_t v49 = swift_slowAlloc();
      uint64_t v59 = v13;
      uint64_t v50 = v49;
      uint64_t v51 = swift_slowAlloc();
      id v63 = (void (*)(char *, uint64_t))v4;
      uint64_t v65 = v51;
      *(_DWORD *)uint64_t v50 = 136446466;
      id v64 = [v46 code];
      uint64_t v52 = sub_2995A0();
      id v64 = (id)sub_6E98(v52, v53, &v65);
      sub_2992C0();

      swift_bridgeObjectRelease();
      *(_WORD *)(v50 + 12) = 2082;
      uint64_t v54 = sub_2973F0();
      id v64 = (id)sub_6E98(v54, v55, &v65);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v47, v48, "PlayMediaAdditionalCommandsProvider#shouldCreateAdditionalCommands won't return an AceView because non-success code: %{public}s. %{public}s", (uint8_t *)v50, 0x16u);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();

      os_log_type_t v43 = v59;
    }
    else
    {

      os_log_type_t v43 = v13;
    }
    uint64_t v44 = v45;
    goto LABEL_19;
  }
  return result;
}

uint64_t sub_1782D0(void (*a1)(char *, uint64_t), void *a2)
{
  uint64_t v4 = sub_298800();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v27 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  os_log_type_t v10 = (char *)&v27 - v9;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_6E60(v4, (uint64_t)qword_31FC08);
  uint64_t v30 = *(void (**)(char *))(v5 + 16);
  uint64_t v31 = v11;
  v30(v10);
  uint64_t v12 = sub_2987E0();
  os_log_type_t v13 = sub_298DA0();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v32 = v5;
    uint64_t v14 = swift_slowAlloc();
    id v27 = a1;
    id v15 = (uint8_t *)v14;
    uint64_t v16 = swift_slowAlloc();
    uint64_t v28 = a2;
    uint64_t v34 = v16;
    *(_DWORD *)id v15 = 136446210;
    uint64_t v17 = sub_2973F0();
    uint64_t v29 = v4;
    uint64_t v33 = sub_6E98(v17, v18, &v34);
    uint64_t v5 = v32;
    sub_2992C0();
    uint64_t v4 = v29;
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_0, v12, v13, "PlayMediaAdditionalCommandsProvider#additionalCommands... %{public}s", v15, 0xCu);
    swift_arrayDestroy();
    a2 = v28;
    swift_slowDealloc();
    a1 = v27;
    swift_slowDealloc();
  }

  os_log_type_t v19 = *(void (**)(char *, uint64_t))(v5 + 8);
  v19(v10, v4);
  if ((sub_177B04(a1, a2) & 1) == 0)
  {
    ((void (*)(char *, uint64_t, uint64_t))v30)(v8, v31, v4);
    uint64_t v20 = sub_2987E0();
    os_log_type_t v21 = sub_298DA0();
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v22 = (uint8_t *)swift_slowAlloc();
      uint64_t v23 = swift_slowAlloc();
      uint64_t v32 = v5;
      uint64_t v34 = v23;
      *(_DWORD *)uint64_t v22 = 136446210;
      uint64_t v24 = sub_2973F0();
      uint64_t v33 = sub_6E98(v24, v25, &v34);
      sub_2992C0();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_0, v20, v21, "PlayMediaAdditionalCommandsProvider#additionalCommands will not return additional commands. %{public}s", v22, 0xCu);
      swift_arrayDestroy();
      swift_slowDealloc();
      swift_slowDealloc();
    }

    v19(v8, v4);
  }
  return 0;
}

uint64_t sub_1786A0()
{
  sub_178708();
  uint64_t result = sub_299270();
  qword_31FCE0 = result;
  return result;
}

unint64_t sub_178708()
{
  unint64_t result = qword_313738;
  if (!qword_313738)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_313738);
  }
  return result;
}

void *sub_178748(void (*a1)(uint64_t *__return_ptr, uint64_t *), uint64_t a2, unint64_t a3)
{
  unint64_t v4 = a3;
  if (a3 >> 62)
  {
LABEL_20:
    swift_bridgeObjectRetain();
    uint64_t v5 = sub_2994C0();
    if (v5) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v5 = *(void *)((char *)&dword_10 + (a3 & 0xFFFFFFFFFFFFFF8));
    swift_bridgeObjectRetain();
    if (v5)
    {
LABEL_3:
      unint64_t v21 = v4 & 0xC000000000000001;
      uint64_t v6 = _swiftEmptyArrayStorage;
      uint64_t v7 = 4;
      uint64_t v19 = v5;
      unint64_t v20 = v4;
      while (1)
      {
        uint64_t v9 = v7 - 4;
        if (v21)
        {
          uint64_t v10 = sub_2993E0();
          BOOL v11 = __OFADD__(v9, 1);
          uint64_t v12 = v7 - 3;
          if (v11) {
            goto LABEL_19;
          }
        }
        else
        {
          uint64_t v10 = *(void *)(v4 + 8 * v7);
          swift_retain();
          BOOL v11 = __OFADD__(v9, 1);
          uint64_t v12 = v7 - 3;
          if (v11)
          {
LABEL_19:
            __break(1u);
            goto LABEL_20;
          }
        }
        uint64_t v34 = v10;
        a1(&v27, &v34);
        if (v3)
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_release();
          return v6;
        }
        swift_release();
        uint64_t v13 = v28;
        if (v28)
        {
          uint64_t v14 = v29;
          uint64_t v15 = v30;
          long long v25 = v32;
          long long v26 = v31;
          uint64_t v23 = v27;
          uint64_t v24 = v33;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
            uint64_t v6 = sub_23FC0(0, v6[2] + 1, 1, v6);
          }
          unint64_t v17 = v6[2];
          unint64_t v16 = v6[3];
          if (v17 >= v16 >> 1) {
            uint64_t v6 = sub_23FC0((void *)(v16 > 1), v17 + 1, 1, v6);
          }
          v6[2] = v17 + 1;
          uint64_t v8 = &v6[9 * v17];
          v8[4] = v23;
          v8[5] = v13;
          v8[6] = v14;
          v8[7] = v15;
          *((_OWORD *)v8 + 4) = v26;
          *((_OWORD *)v8 + 5) = v25;
          v8[12] = v24;
          uint64_t v5 = v19;
          unint64_t v4 = v20;
        }
        ++v7;
        if (v12 == v5)
        {
          swift_bridgeObjectRelease();
          return v6;
        }
      }
    }
  }
  swift_bridgeObjectRelease();
  return _swiftEmptyArrayStorage;
}

void sub_17895C(char *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X8>)
{
  uint64_t v155 = a3;
  uint64_t v154 = a2;
  uint64_t v168 = a4;
  uint64_t v5 = sub_2950C0();
  uint64_t v158 = *(void *)(v5 - 8);
  uint64_t v159 = v5;
  uint64_t v6 = __chkstk_darwin(v5);
  uint64_t v153 = (char *)&v145 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = __chkstk_darwin(v6);
  uint64_t v157 = (char *)&v145 - v9;
  __chkstk_darwin(v8);
  uint64_t v166 = (char *)&v145 - v10;
  uint64_t v11 = sub_295120();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = __chkstk_darwin(v11);
  os_log_t v171 = (os_log_t)((char *)&v145 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v15 = __chkstk_darwin(v13);
  uint64_t v167 = (char *)&v145 - v16;
  __chkstk_darwin(v15);
  unint64_t v18 = (char *)&v145 - v17;
  uint64_t v19 = sub_298800();
  uint64_t v20 = *(void *)(v19 - 8);
  uint64_t v21 = __chkstk_darwin(v19);
  uint64_t v156 = (char *)&v145 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = __chkstk_darwin(v21);
  uint64_t v165 = (char *)&v145 - v24;
  uint64_t v25 = __chkstk_darwin(v23);
  uint64_t v148 = (char *)&v145 - v26;
  uint64_t v27 = __chkstk_darwin(v25);
  uint64_t v147 = (char *)&v145 - v28;
  uint64_t v29 = __chkstk_darwin(v27);
  uint64_t v152 = (char *)&v145 - v30;
  uint64_t v31 = __chkstk_darwin(v29);
  uint64_t v150 = (char *)&v145 - v32;
  uint64_t v33 = __chkstk_darwin(v31);
  uint64_t v151 = (char *)&v145 - v34;
  uint64_t v35 = __chkstk_darwin(v33);
  uint64_t v149 = (char *)&v145 - v36;
  __chkstk_darwin(v35);
  id v38 = (char *)&v145 - v37;
  if (qword_30C848 != -1) {
    swift_once();
  }
  uint64_t v39 = sub_6E60(v19, (uint64_t)qword_31FC08);
  unint64_t v40 = *(void (**)(char *, uint64_t, uint64_t))(v20 + 16);
  uint64_t v161 = v39;
  uint64_t v162 = v40;
  uint64_t v163 = v20 + 16;
  ((void (*)(char *))v40)(v38);
  uint64_t v41 = *(void (**)(char *, char *, uint64_t))(v12 + 16);
  uint64_t v170 = a1;
  uint64_t v172 = v41;
  v41(v18, a1, v11);
  unint64_t v42 = sub_2987E0();
  os_log_type_t v43 = sub_298DC0();
  uint64_t v169 = v42;
  if (os_log_type_enabled(v42, v43))
  {
    uint64_t v44 = swift_slowAlloc();
    uint64_t v160 = v19;
    uint64_t v45 = (uint8_t *)v44;
    uint64_t v146 = (void *)swift_slowAlloc();
    id v178 = v146;
    uint64_t v164 = v20;
    *(_DWORD *)uint64_t v45 = 136315138;
    uint64_t v145 = v45 + 4;
    v172(v167, v18, v11);
    uint64_t v46 = sub_2989E0();
    v177[0] = sub_6E98(v46, v47, (uint64_t *)&v178);
    sub_2992C0();
    swift_bridgeObjectRelease();
    os_log_type_t v48 = v18;
    uint64_t v49 = *(void (**)(char *, uint64_t))(v12 + 8);
    v49(v48, v11);
    uint64_t v50 = v169;
    _os_log_impl(&dword_0, v169, v43, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse %s", v45, 0xCu);
    swift_arrayDestroy();
    swift_slowDealloc();
    uint64_t v51 = v160;
    swift_slowDealloc();

    uint64_t v52 = v51;
    uint64_t v20 = v164;
    uint64_t v169 = *(NSObject **)(v164 + 8);
    ((void (*)(char *, uint64_t))v169)(v38, v51);
  }
  else
  {
    unint64_t v53 = v18;
    uint64_t v49 = *(void (**)(char *, uint64_t))(v12 + 8);
    v49(v53, v11);

    uint64_t v169 = *(NSObject **)(v20 + 8);
    ((void (*)(char *, uint64_t))v169)(v38, v19);
    uint64_t v52 = v19;
  }
  os_log_t v54 = v171;
  v172((char *)v171, v170, v11);
  int v55 = (*(uint64_t (**)(os_log_t, uint64_t))(v12 + 88))(v54, v11);
  if (v55 == enum case for Parse.NLv3IntentOnly(_:))
  {
    uint64_t v56 = v168;
    v168[3] = (uint64_t)&type metadata for NilAppResolutionProvider;
    v56[4] = sub_187F6C();
    *((unsigned char *)v56 + 40) = 0;
    os_log_t v57 = v54;
    goto LABEL_8;
  }
  if (v55 == enum case for Parse.NLv3IntentPlusServerConversion(_:))
  {
    (*(void (**)(os_log_t, uint64_t))(v12 + 96))(v54, v11);
    sub_71D4(&qword_30D610);
    uint64_t v59 = v168;
    v168[3] = (uint64_t)&type metadata for CustomAppResolutionProvider;
    v59[4] = sub_188014();
    uint64_t v60 = swift_allocObject();
    *uint64_t v59 = v60;
    sub_295100();
    uint64_t v61 = sub_2950E0();
    swift_release();
    *(void *)(v60 + 56) = v61;
    *((unsigned char *)v59 + 40) = 0;
    uint64_t v62 = sub_295870();
    (*(void (**)(os_log_t, uint64_t))(*(void *)(v62 - 8) + 8))(v54, v62);
    return;
  }
  if (v55 != enum case for Parse.directInvocation(_:))
  {
    if (v55 != enum case for Parse.pommesResponse(_:))
    {
      if (v55 == enum case for Parse.uso(_:))
      {
        uint64_t v172 = (void (*)(char *, char *, uint64_t))v11;
        if (sub_295070())
        {
          uint64_t v164 = v20;
          if (sub_42A14())
          {
            uint64_t v76 = v149;
            v162(v149, v161, v52);
            uint64_t v77 = sub_2987E0();
            os_log_type_t v78 = sub_298DC0();
            if (os_log_type_enabled(v77, v78))
            {
              os_log_t v79 = (uint8_t *)swift_slowAlloc();
              *(_WORD *)os_log_t v79 = 0;
              _os_log_impl(&dword_0, v77, v78, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse returning NilAppResolutionProvider for uso Affinity task", v79, 2u);
              os_log_t v54 = v171;
              swift_slowDealloc();
            }

            ((void (*)(char *, uint64_t))v169)(v76, v52);
            uint64_t v80 = v168;
            v168[3] = (uint64_t)&type metadata for NilAppResolutionProvider;
            v80[4] = sub_187F6C();
            swift_release();
            *((unsigned char *)v80 + 40) = 0;
          }
          else
          {
            uint64_t v170 = (char *)v12;
            sub_297E30();
            swift_allocObject();
            swift_retain();
            uint64_t v127 = sub_297DE0();
            v162(v151, v161, v52);
            uint64_t v128 = sub_2987E0();
            os_log_type_t v129 = sub_298DC0();
            if (os_log_type_enabled(v128, v129))
            {
              uint64_t v130 = (uint8_t *)swift_slowAlloc();
              *(_WORD *)uint64_t v130 = 0;
              _os_log_impl(&dword_0, v128, v129, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse returning UsoAppResolutionProvider for uso parse", v130, 2u);
              os_log_t v54 = v171;
              swift_slowDealloc();
            }

            ((void (*)(char *, uint64_t))v169)(v151, v52);
            uint64_t v131 = v168;
            v168[3] = (uint64_t)&type metadata for UsoAppResolutionProvider;
            v131[4] = sub_187FC0();
            swift_release();
            *uint64_t v131 = v127;
            *((unsigned char *)v131 + 40) = 0;
          }
          os_log_t v57 = v54;
          id v58 = (void (*)(void, void, void))v172;
        }
        else
        {
          int v119 = v150;
          v162(v150, v161, v52);
          uint64_t v120 = sub_2987E0();
          os_log_type_t v121 = sub_298DB0();
          if (os_log_type_enabled(v120, v121))
          {
            uint64_t v122 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)uint64_t v122 = 0;
            _os_log_impl(&dword_0, v120, v121, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse Failed to get task from parse", v122, 2u);
            swift_slowDealloc();
          }

          ((void (*)(char *, uint64_t))v169)(v119, v52);
          uint64_t v123 = sub_296000();
          sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
          uint64_t v124 = swift_allocError();
          (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v123 - 8) + 104))(v125, enum case for PlaybackCode.ceGE16(_:), v123);
          uint64_t v126 = v168;
          *uint64_t v168 = v124;
          *((unsigned char *)v126 + 40) = 1;
          os_log_t v57 = v171;
          id v58 = (void (*)(void, void, void))v172;
        }
        goto LABEL_9;
      }
      uint64_t v160 = v52;
      v162(v156, v161, v52);
      uint64_t v81 = sub_2987E0();
      os_log_type_t v82 = sub_298DB0();
      if (os_log_type_enabled(v81, v82))
      {
        id v83 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)id v83 = 0;
        _os_log_impl(&dword_0, v81, v82, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse unsupported parse", v83, 2u);
        swift_slowDealloc();
      }

      ((void (*)(char *, uint64_t))v169)(v156, v160);
      uint64_t v84 = sub_296000();
      sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v85 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v84 - 8) + 104))(v86, enum case for PlaybackCode.ceGE22(_:), v84);
      uint64_t v87 = v168;
      *uint64_t v168 = v85;
      *((unsigned char *)v87 + 40) = 1;
      os_log_t v57 = v171;
LABEL_8:
      id v58 = (void (*)(void, void, void))v11;
LABEL_9:
      v49((char *)v57, (uint64_t)v58);
      return;
    }
    (*(void (**)(os_log_t, uint64_t))(v12 + 96))(v54, v11);
    Class isa = v54->isa;
    uint64_t v74 = sub_124EC();
    if (v74)
    {
      uint64_t v75 = (void *)v74;
      sub_179E74(v74, (uint64_t)v168);

      return;
    }
    uint64_t v88 = v152;
    v162(v152, v161, v52);
    uint64_t v89 = sub_2987E0();
    os_log_type_t v90 = sub_298DB0();
    if (os_log_type_enabled(v89, v90))
    {
      id v91 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v91 = 0;
      _os_log_impl(&dword_0, v89, v90, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse pommesResponse contains no AudioExperience", v91, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v169)(v88, v52);
    uint64_t v92 = sub_296000();
    sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v93 = swift_allocError();
    (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v92 - 8) + 104))(v94, enum case for PlaybackCode.ceGE17(_:), v92);

    uint64_t v95 = v168;
    *uint64_t v168 = v93;
    goto LABEL_43;
  }
  (*(void (**)(os_log_t, uint64_t))(v12 + 96))(v54, v11);
  uint64_t v64 = v158;
  uint64_t v63 = v159;
  uint64_t v65 = (uint64_t)v166;
  (*(void (**)(char *, os_log_t, uint64_t))(v158 + 32))(v166, v54, v159);
  sub_23BAD8(v65, (uint64_t)v175);
  sub_60BBC((uint64_t)v175, (uint64_t)v176, &qword_30D5F0);
  char v66 = v157;
  uint64_t v67 = v165;
  if (v176[56] == 255) {
    goto LABEL_38;
  }
  sub_6094C((uint64_t)v176, (uint64_t)v177);
  sub_6094C((uint64_t)v177, (uint64_t)&v178);
  if (v180)
  {
    if (v180 != 4)
    {
      if (v180 == 3)
      {
        id v68 = v178;
        uint64_t v69 = v179;
        uint64_t v70 = type metadata accessor for AppIdentifierAppResolutionProvider();
        uint64_t v71 = swift_allocObject();
        *(void *)(v71 + 16) = v68;
        *(void *)(v71 + 24) = v69;
        id v72 = v168;
        v168[3] = v70;
        v72[4] = sub_189C74(&qword_313850, (void (*)(uint64_t))type metadata accessor for AppIdentifierAppResolutionProvider);
        *id v72 = v71;
        (*(void (**)(char *, uint64_t))(v64 + 8))(v166, v63);
        *((unsigned char *)v72 + 40) = 0;
        return;
      }
      sub_609A8((uint64_t)v175);
LABEL_38:
      uint64_t v164 = v20;
      v162(v67, v161, v52);
      uint64_t v102 = v63;
      uint64_t v103 = *(void (**)(char *, char *, uint64_t))(v64 + 16);
      v103(v66, v166, v102);
      uint64_t v104 = sub_2987E0();
      os_log_type_t v105 = sub_298DB0();
      if (os_log_type_enabled(v104, v105))
      {
        uint64_t v106 = (uint8_t *)swift_slowAlloc();
        uint64_t v107 = swift_slowAlloc();
        uint64_t v160 = v52;
        uint64_t v172 = (void (*)(char *, char *, uint64_t))v107;
        uint64_t v174 = v107;
        uint64_t v108 = v106;
        *(_DWORD *)uint64_t v106 = 136315138;
        uint64_t v170 = (char *)(v106 + 4);
        os_log_t v171 = v104;
        v103(v153, v66, v102);
        uint64_t v109 = sub_2989E0();
        uint64_t v173 = sub_6E98(v109, v110, &v174);
        sub_2992C0();
        swift_bridgeObjectRelease();
        uint64_t v111 = *(void (**)(char *, uint64_t))(v64 + 8);
        v111(v66, v102);
        os_log_t v112 = v171;
        _os_log_impl(&dword_0, v171, v105, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse received unsupported directInvocation: %s", v108, 0xCu);
        swift_arrayDestroy();
        swift_slowDealloc();
        swift_slowDealloc();

        uint64_t v113 = v165;
        uint64_t v114 = v160;
      }
      else
      {
        uint64_t v111 = *(void (**)(char *, uint64_t))(v64 + 8);
        v111(v66, v102);

        uint64_t v113 = v165;
        uint64_t v114 = v52;
      }
      ((void (*)(char *, uint64_t))v169)(v113, v114);
      uint64_t v115 = v102;
      uint64_t v116 = sub_296000();
      sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
      uint64_t v117 = swift_allocError();
      (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v116 - 8) + 104))(v118, enum case for PlaybackCode.ceGE21(_:), v116);
      v111(v166, v115);
      goto LABEL_42;
    }
    if (v178)
    {
      id v101 = v178;
      sub_179E74((uint64_t)v101, (uint64_t)v168);
      sub_609A8((uint64_t)v175);

      (*(void (**)(char *, uint64_t))(v64 + 8))(v166, v63);
      return;
    }
    uint64_t v140 = v148;
    v162(v148, v161, v52);
    uint64_t v141 = sub_2987E0();
    os_log_type_t v142 = sub_298DB0();
    if (os_log_type_enabled(v141, v142))
    {
      uint64_t v143 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v143 = 0;
      _os_log_impl(&dword_0, v141, v142, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse Could not unwrap audioExperience from .playMediaShim direct invocation", v143, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v169)(v140, v52);
    uint64_t v136 = sub_296000();
    sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v117 = swift_allocError();
    uint64_t v138 = v144;
    uint64_t v139 = (unsigned int *)&enum case for PlaybackCode.ceGE95(_:);
  }
  else
  {
    uint64_t v96 = v179;
    if (v179)
    {
      id v97 = v178;
      uint64_t v98 = type metadata accessor for AppIdentifierAppResolutionProvider();
      uint64_t v99 = swift_allocObject();
      *(void *)(v99 + 16) = v97;
      *(void *)(v99 + 24) = v96;
      uint64_t v100 = v168;
      v168[3] = v98;
      uint64_t v100[4] = sub_189C74(&qword_313850, (void (*)(uint64_t))type metadata accessor for AppIdentifierAppResolutionProvider);
      swift_bridgeObjectRetain();
      sub_609A8((uint64_t)v175);
      *uint64_t v100 = v99;
      (*(void (**)(char *, uint64_t))(v64 + 8))(v166, v63);
      *((unsigned char *)v100 + 40) = 0;
      return;
    }
    uint64_t v132 = v147;
    v162(v147, v161, v52);
    unint64_t v133 = sub_2987E0();
    os_log_type_t v134 = sub_298DB0();
    if (os_log_type_enabled(v133, v134))
    {
      uint64_t v135 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v135 = 0;
      _os_log_impl(&dword_0, v133, v134, "AppResolutionCommonStrategy#makeAppResolutionStateFromParse Could not get app bundle id from .replayRequest direct invocation", v135, 2u);
      swift_slowDealloc();
    }

    ((void (*)(char *, uint64_t))v169)(v132, v52);
    uint64_t v136 = sub_296000();
    sub_189C74((unint64_t *)&qword_313840, (void (*)(uint64_t))&type metadata accessor for PlaybackCode);
    uint64_t v117 = swift_allocError();
    uint64_t v138 = v137;
    uint64_t v139 = (unsigned int *)&enum case for PlaybackCode.ceGE20(_:);
  }
  (*(void (**)(uint64_t, void, uint64_t))(*(void *)(v136 - 8) + 104))(v138, *v139, v136);
  sub_609A8((uint64_t)v175);
  (*(void (**)(char *, uint64_t))(v64 + 8))(v166, v63);
LABEL_42:
  uint64_t v95 = v168;
  *uint64_t v168 = v117;
LABEL_43:
  *((unsigned char *)v95 + 40) = 1;
}