BOOL sub_246B54330(void *a1, const char *a2, uint64_t a3, uint64_t a4)
{
  return objc_msgSend_complicationType(a1, a2, a3, a4) != 0;
}

BOOL sub_246B54910(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  return objc_msgSend_content(a2, (const char *)a2, a3, a4) == 1;
}

void sub_246B54A9C(uint64_t a1, void *a2, uint64_t a3)
{
  id v13 = a2;
  v8 = objc_msgSend_rows(*(void **)(a1 + 32), v5, v6, v7);
  v11 = objc_msgSend_objectAtIndexedSubscript_(v8, v9, a3, v10);

  objc_opt_class();
  if (objc_opt_isKindOfClass()) {
    objc_msgSend__setContentForCell_withEditOption_(*(void **)(a1 + 32), v12, (uint64_t)v11, (uint64_t)v13);
  }
}

void sub_246B55824(uint64_t a1, void *a2)
{
  v3 = *(void **)(a1 + 32);
  id v4 = a2;
  v8 = objc_msgSend_delegate(v3, v5, v6, v7);
  objc_msgSend_hideLoadingIndicator(v8, v9, v10, v11);

  objc_msgSend_face(*(void **)(a1 + 32), v12, v13, v14);
  id v17 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_setResourceDirectory_(v17, v15, (uint64_t)v4, v16);
}

void sub_246B558A8(uint64_t a1, void *a2)
{
  v2 = *(void **)(a1 + 32);
  id v3 = a2;
  objc_msgSend_face(v2, v4, v5, v6);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_setResourceDirectory_(v9, v7, (uint64_t)v3, v8);
}

void sub_246B55908(uint64_t a1, void *a2)
{
  uint64_t v23 = *MEMORY[0x263EF8340];
  id v3 = a2;
  uint64_t v10 = objc_msgSend_photosCount(*(void **)(*(void *)(a1 + 32) + 168), v4, v5, v6);
  uint64_t v11 = *(void **)(a1 + 32);
  if (v10)
  {
    id v12 = v3;
  }
  else
  {
    uint64_t v13 = (void *)v11[19];
    id v12 = v3;
    if (v13)
    {
      id v12 = v13;

      id v17 = objc_msgSend_logObject(NTKParmesanFaceBundle, v14, v15, v16);
      if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
      {
        int v21 = 138412290;
        id v22 = v12;
        _os_log_impl(&dword_246B51000, v17, OS_LOG_TYPE_DEFAULT, "setSelectedOptions: empty editor; resetting the resource directory back to the saved gallery version (%@)",
          (uint8_t *)&v21,
          0xCu);
      }

      uint64_t v11 = *(void **)(a1 + 32);
    }
  }
  v18 = objc_msgSend_face(v11, v7, v8, v9);
  objc_msgSend_setResourceDirectory_(v18, v19, (uint64_t)v12, v20);
}

void sub_246B55A34(uint64_t a1, void *a2)
{
  v2 = *(void **)(a1 + 32);
  id v3 = a2;
  objc_msgSend_face(v2, v4, v5, v6);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_setResourceDirectory_(v9, v7, (uint64_t)v3, v8);
}

void sub_246B55A94(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4, double a5)
{
  objc_msgSend_delegate(*(void **)(a1 + 32), a2, a3, a4);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_showLoadingIndicatorWithProgress_(v9, v6, v7, v8, a5);
}

void sub_246B55AE8(uint64_t a1, void *a2)
{
  id v3 = *(void **)(a1 + 32);
  id v4 = a2;
  uint64_t v8 = objc_msgSend_delegate(v3, v5, v6, v7);
  objc_msgSend_hideLoadingIndicator(v8, v9, v10, v11);

  objc_msgSend_face(*(void **)(a1 + 32), v12, v13, v14);
  id v17 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_setResourceDirectory_(v17, v15, (uint64_t)v4, v16);
}

uint64_t sub_246B560C4(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  *(unsigned char *)(*(void *)(a1 + 32) + 136) = 1;
  uint64_t v8 = objc_msgSend_actionRow(*(void **)(a1 + 32), a2, a3, a4);
  if (v8)
  {
    id v9 = objc_msgSend_rows(*(void **)(a1 + 32), v5, v6, v7);
    uint64_t v13 = objc_msgSend_actionRow(*(void **)(a1 + 32), v10, v11, v12);
    uint64_t v16 = objc_msgSend_indexOfObject_(v9, v14, (uint64_t)v13, v15);
  }
  else
  {
    uint64_t v16 = 0x7FFFFFFFFFFFFFFFLL;
  }

  uint64_t v20 = objc_msgSend_collection(*(void **)(a1 + 32), v17, v18, v19);
  v24 = objc_msgSend_options(v20, v21, v22, v23);
  uint64_t v27 = objc_msgSend_indexOfObject_(v24, v25, *(void *)(a1 + 40), v26);

  if (v16 == 0x7FFFFFFFFFFFFFFFLL || v27 < v16) {
    uint64_t v30 = v27;
  }
  else {
    uint64_t v30 = v27 + 1;
  }
  uint64_t v31 = *(void *)(a1 + 32);

  return MEMORY[0x270F9A6D0](v31, sel_didSelectRow_, v30, v28);
}

uint64_t sub_246B561B4(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  return 0;
}

void sub_246B56430(uint64_t a1, void *a2)
{
  uint64_t v42 = *MEMORY[0x263EF8340];
  id v3 = a2;
  char HasPhotos = objc_msgSend__manualEditorHasPhotos(*(void **)(a1 + 32), v4, v5, v6);
  uint64_t v11 = *(void **)(a1 + 32);
  if (HasPhotos)
  {
    id v12 = v3;
  }
  else
  {
    uint64_t v13 = (void *)v11[19];
    id v12 = v3;
    if (v13)
    {
      id v12 = v13;

      id v17 = objc_msgSend_logObject(NTKParmesanFaceBundle, v14, v15, v16);
      if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
      {
        int v40 = 138412290;
        id v41 = v12;
        _os_log_impl(&dword_246B51000, v17, OS_LOG_TYPE_DEFAULT, "_setPhotos: empty editor; resetting the resource directory back to the saved gallery version (%@)",
          (uint8_t *)&v40,
          0xCu);
      }

      uint64_t v11 = *(void **)(a1 + 32);
    }
  }
  uint64_t v18 = objc_msgSend_face(v11, v7, v8, v9);
  objc_msgSend_setResourceDirectory_(v18, v19, (uint64_t)v12, v20);

  v24 = objc_msgSend_logObject(NTKParmesanFaceBundle, v21, v22, v23);
  if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v28 = objc_msgSend_face(*(void **)(a1 + 32), v25, v26, v27);
    v32 = objc_msgSend_resourceDirectory(v28, v29, v30, v31);
    int v40 = 138412290;
    id v41 = v32;
    _os_log_impl(&dword_246B51000, v24, OS_LOG_TYPE_DEFAULT, "updated preview directory for custom face to %@", (uint8_t *)&v40, 0xCu);
  }
  v36 = objc_msgSend_delegate(*(void **)(a1 + 32), v33, v34, v35);
  objc_msgSend_hideLoadingIndicator(v36, v37, v38, v39);
}

void sub_246B568D8(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4, double a5)
{
  objc_msgSend_delegate(*(void **)(a1 + 32), a2, a3, a4);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_showLoadingIndicatorWithProgress_(v9, v6, v7, v8, a5);
}

void sub_246B5692C(uint64_t a1, void *a2)
{
  uint64_t v35 = *MEMORY[0x263EF8340];
  id v3 = a2;
  uint64_t v7 = objc_msgSend_delegate(*(void **)(a1 + 32), v4, v5, v6);
  objc_msgSend_hideLoadingIndicator(v7, v8, v9, v10);

  if (v3)
  {
    objc_msgSend__updateSection(*(void **)(a1 + 32), v11, v12, v13);
    id v17 = objc_msgSend_face(*(void **)(a1 + 32), v14, v15, v16);
    objc_msgSend_setResourceDirectory_(v17, v18, (uint64_t)v3, v19);

    uint64_t v23 = objc_msgSend_logObject(NTKParmesanFaceBundle, v20, v21, v22);
    if (os_log_type_enabled(v23, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v27 = objc_msgSend_face(*(void **)(a1 + 32), v24, v25, v26);
      uint64_t v31 = objc_msgSend_resourceDirectory(v27, v28, v29, v30);
      int v33 = 138412290;
      uint64_t v34 = v31;
      _os_log_impl(&dword_246B51000, v23, OS_LOG_TYPE_DEFAULT, "finalizeWithProgress:completion: new face resource directory is %@", (uint8_t *)&v33, 0xCu);
    }
  }
  uint64_t v32 = *(void *)(a1 + 40);
  if (v32) {
    (*(void (**)(void))(v32 + 16))();
  }
}

uint64_t sub_246B56FB4(uint64_t a1, void *a2)
{
  id v3 = *(void **)(a1 + 32);
  id v4 = a2;
  uint64_t v8 = objc_msgSend_delegate(v3, v5, v6, v7);
  objc_msgSend_hideLoadingIndicator(v8, v9, v10, v11);

  uint64_t v15 = objc_msgSend_face(*(void **)(a1 + 32), v12, v13, v14);
  objc_msgSend_setResourceDirectory_(v15, v16, (uint64_t)v4, v17);

  uint64_t v21 = *(void **)(a1 + 32);

  return objc_msgSend__updateSection(v21, v18, v19, v20);
}

void sub_246B57034(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4, double a5)
{
  objc_msgSend_delegate(*(void **)(a1 + 32), a2, a3, a4);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_showLoadingIndicatorWithProgress_(v9, v6, v7, v8, a5);
}

uint64_t sub_246B57088(uint64_t a1, void *a2)
{
  id v3 = *(void **)(a1 + 32);
  id v4 = a2;
  uint64_t v8 = objc_msgSend_delegate(v3, v5, v6, v7);
  objc_msgSend_hideLoadingIndicator(v8, v9, v10, v11);

  uint64_t v15 = objc_msgSend_face(*(void **)(a1 + 32), v12, v13, v14);
  objc_msgSend_setResourceDirectory_(v15, v16, (uint64_t)v4, v17);

  uint64_t v21 = *(void **)(a1 + 32);

  return objc_msgSend__updateSection(v21, v18, v19, v20);
}

void sub_246B58920(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_246B5893C(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 32));
  uint64_t v10 = WeakRetained;
  if (v5)
  {
    objc_msgSend_setInitialPreviewState_(WeakRetained, v8, 3, v9);
    objc_msgSend__setPreview_animated_(v10, v11, (uint64_t)v5, 0);
  }
  else
  {
    objc_msgSend_setInitialPreviewState_(WeakRetained, v8, 2, v9);
    uint64_t v12 = _NTKLoggingObjectForDomain();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR)) {
      sub_246C29B68((uint64_t)v6, v12);
    }
  }
}

uint64_t sub_246B59C74(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  double v4 = 0.2;
  if (!*(unsigned char *)(a1 + 48)) {
    double v4 = 0.0;
  }
  v6[0] = MEMORY[0x263EF8330];
  v6[1] = 3221225472;
  v6[2] = sub_246B59D10;
  v6[3] = &unk_2651FB980;
  v6[4] = *(void *)(a1 + 32);
  v6[5] = *(void *)(a1 + 40);
  return objc_msgSend_animateWithDuration_animations_(MEMORY[0x263F82E00], a2, (uint64_t)v6, a4, v4);
}

uint64_t sub_246B59D10(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  return objc_msgSend_setAlpha_(*(void **)(*(void *)(a1 + 32) + 1112), a2, a3, a4, *(double *)(a1 + 40));
}

uint64_t sub_246B59F48(uint64_t a1, const char *a2)
{
  if (a2) {
    return objc_msgSend__setCropValidationState_animated_(*(void **)(a1 + 32), a2, 2, *(unsigned __int8 *)(a1 + 40));
  }
  else {
    return objc_msgSend__setCropValidationState_animated_(*(void **)(a1 + 32), a2, 1, *(unsigned __int8 *)(a1 + 40));
  }
}

void sub_246B5A1E0(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_delegate(*(void **)(a1 + 32), a2, a3, a4);
  id v7 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_ParmesanPreviewViewControllerWantsToCancel_(v7, v5, *(void *)(a1 + 32), v6);
}

void sub_246B5A43C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_246B5A45C(uint64_t a1, void *a2)
{
  id v3 = a2;
  double v4 = (id *)(a1 + 32);
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 32));
  uint64_t v9 = WeakRetained;
  if (WeakRetained)
  {
    uint64_t v10 = objc_msgSend_view(WeakRetained, v6, v7, v8);
    objc_msgSend_setUserInteractionEnabled_(v10, v11, 0, v12);

    uint64_t v13 = (void *)v9[147];
    v16[0] = MEMORY[0x263EF8330];
    v16[1] = 3221225472;
    v16[2] = sub_246B5A55C;
    v16[3] = &unk_2651FB958;
    objc_copyWeak(&v17, v4);
    objc_msgSend_Parmesan_resetCropWithCompletion_(v13, v14, (uint64_t)v16, v15);
    objc_destroyWeak(&v17);
  }
}

void sub_246B5A548(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_246B5A55C(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 32));
  uint64_t v11 = objc_msgSend_view(WeakRetained, v8, v9, v10);
  objc_msgSend_setUserInteractionEnabled_(v11, v12, 1, v13);

  if (v5)
  {
    objc_msgSend__setPreview_animated_(WeakRetained, v14, (uint64_t)v5, 0);
  }
  else
  {
    uint64_t v15 = _NTKLoggingObjectForDomain();
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR)) {
      sub_246C29BE0((uint64_t)v6, v15);
    }
  }
}

uint64_t sub_246B5A710(uint64_t a1, const char *a2, void *a3, uint64_t a4)
{
  uint64_t v25 = *MEMORY[0x263EF8340];
  id v5 = objc_msgSend_firstObject(a3, a2, (uint64_t)a3, a4);
  uint64_t v9 = objc_msgSend_objectEnumerator(v5, v6, v7, v8);
  uint64_t v13 = objc_msgSend_nextObject(v9, v10, v11, v12);

  uint64_t v14 = _NTKLoggingObjectForDomain();
  BOOL v15 = os_log_type_enabled(v14, OS_LOG_TYPE_INFO);
  if (v13)
  {
    if (v15)
    {
      uint64_t v19 = objc_msgSend_localIdentifier(v13, v16, v17, v18);
      int v23 = 138412290;
      v24 = v19;
      _os_log_impl(&dword_246B51000, v14, OS_LOG_TYPE_INFO, "Chnage Photo: selected photo = %@", (uint8_t *)&v23, 0xCu);
    }
    objc_msgSend__didSelectPhotoForChangePhoto_(*(void **)(a1 + 32), v20, (uint64_t)v13, v21);
  }
  else
  {
    if (v15)
    {
      LOWORD(v23) = 0;
      _os_log_impl(&dword_246B51000, v14, OS_LOG_TYPE_INFO, "Chnage Photo: No photo selected", (uint8_t *)&v23, 2u);
    }
  }
  return 0;
}

void sub_246B5A904(uint64_t a1, void *a2, void *a3)
{
  uint64_t v17 = *MEMORY[0x263EF8340];
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = _NTKLoggingObjectForDomain();
  uint64_t v8 = v7;
  if (v6)
  {
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR)) {
      sub_246C29C58(a1, v6, v8, v9);
    }
  }
  else
  {
    if (os_log_type_enabled(v7, OS_LOG_TYPE_INFO))
    {
      uint64_t v13 = objc_msgSend_localIdentifier(*(void **)(a1 + 32), v10, v11, v12);
      int v15 = 138412290;
      uint64_t v16 = v13;
      _os_log_impl(&dword_246B51000, v8, OS_LOG_TYPE_INFO, "Received new preview for id = %@, updating…", (uint8_t *)&v15, 0xCu);
    }
    objc_msgSend__setPreview_animated_(*(void **)(a1 + 40), v14, (uint64_t)v5, 1);
  }
}

void sub_246B5BA74(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_246B5BA8C(uint64_t a1, void *a2, uint64_t a3)
{
  id v5 = a2;
  uint64_t v8 = objc_msgSend__itemForIdentifier_(*(void **)(a1 + 32), v6, (uint64_t)v5, v7);
  uint64_t v11 = objc_msgSend_objectAtIndexedSubscript_(*(void **)(*(void *)(a1 + 32) + 48), v9, a3, v10);
  int v15 = objc_msgSend_identifier(v11, v12, v13, v14);
  char isEqualToString = objc_msgSend_isEqualToString_(v15, v16, (uint64_t)v5, v17);

  if ((isEqualToString & 1) == 0) {
    *(unsigned char *)(*(void *)(*(void *)(a1 + 48) + 8) + 24) = 1;
  }
  if (v8)
  {
    objc_msgSend_addObject_(*(void **)(a1 + 40), v19, (uint64_t)v8, v21);
  }
  else
  {
    uint64_t v22 = objc_msgSend_logObject(NTKParmesanFaceBundle, v19, v20, v21);
    if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR)) {
      sub_246C29DBC((uint64_t)v5, v22);
    }
  }
}

void sub_246B5C6F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t sub_246B5C71C(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void sub_246B5C72C(uint64_t a1)
{
}

void sub_246B5C734(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  char v4 = (char)a2;
  if (a2)
  {
    uint64_t v6 = *(void *)(a1 + 56);
  }
  else
  {
    uint64_t v6 = *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40);
    if (v6)
    {
      uint64_t v7 = objc_msgSend_defaultManager(MEMORY[0x263F08850], a2, a3, a4);
      objc_msgSend_removeItemAtPath_error_(v7, v8, *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40), 0);

      uint64_t v9 = *(void *)(*(void *)(a1 + 48) + 8);
      uint64_t v10 = *(void **)(v9 + 40);
      *(void *)(v9 + 40) = 0;

      uint64_t v6 = 0;
    }
  }
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B5C84C;
  block[3] = &unk_2651FBA98;
  uint64_t v11 = *(void *)(a1 + 32);
  char v17 = v4;
  block[4] = v11;
  uint64_t v16 = v6;
  long long v13 = *(_OWORD *)(a1 + 40);
  id v12 = (id)v13;
  long long v15 = v13;
  dispatch_async(MEMORY[0x263EF83A0], block);
}

void sub_246B5C84C(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  *(unsigned char *)(*(void *)(a1 + 32) + 56) = *(unsigned char *)(a1 + 64);
  objc_msgSend_setState_(*(void **)(a1 + 32), a2, *(void *)(a1 + 56), a4);
  objc_msgSend_setGalleryPreviewResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40), v6);
  uint64_t v7 = *(void *)(a1 + 40);
  objc_msgSend_galleryPreviewResourceDirectory(*(void **)(a1 + 32), v8, v9, v10);
  id v11 = (id)objc_claimAutoreleasedReturnValue();
  (*(void (**)(uint64_t, id))(v7 + 16))(v7, v11);
}

void sub_246B5C8E0(void *a1)
{
  v15[1] = *MEMORY[0x263EF8340];
  uint64_t v2 = NTKPhotosCreateResourceDirectory();
  uint64_t v3 = *(void *)(a1[6] + 8);
  char v4 = *(void **)(v3 + 40);
  *(void *)(v3 + 40) = v2;

  if (*(void *)(*(void *)(a1[6] + 8) + 40))
  {
    uint64_t v8 = objc_msgSend_firstObject(*(void **)(a1[4] + 48), v5, v6, v7);
    uint64_t v10 = (void *)v8;
    if (v8)
    {
      id v11 = (void *)a1[4];
      v15[0] = v8;
      id v12 = objc_msgSend_arrayWithObjects_count_(MEMORY[0x263EFF8C0], v9, (uint64_t)v15, 1);
      objc_msgSend__writeItems_toResourceDirectory_(v11, v13, (uint64_t)v12, *(void *)(*(void *)(a1[6] + 8) + 40));
    }
    (*(void (**)(void))(a1[5] + 16))();
  }
  else
  {
    uint64_t v14 = *(void (**)(void))(a1[5] + 16);
    v14();
  }
}

uint64_t sub_246B5CC5C(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void sub_246B5CC70(uint64_t a1)
{
  uint64_t v2 = NTKPhotosCreateResourceDirectory();
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 3221225472;
  aBlock[2] = sub_246B5CD90;
  aBlock[3] = &unk_2651FBB60;
  id v3 = v2;
  uint64_t v4 = *(void *)(a1 + 32);
  id v12 = v3;
  uint64_t v13 = v4;
  id v14 = *(id *)(a1 + 48);
  uint64_t v6 = (void (**)(void *, uint64_t))_Block_copy(aBlock);
  if (v3)
  {
    uint64_t v7 = objc_msgSend__writeItems_toResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(a1 + 40), (uint64_t)v3);
    uint64_t v8 = objc_opt_new();
    uint64_t v9 = *(void *)(a1 + 32);
    uint64_t v10 = *(void **)(v9 + 48);
    *(void *)(v9 + 48) = v8;

    *(unsigned char *)(*(void *)(a1 + 32) + 56) = 0;
  }
  else
  {
    uint64_t v7 = 0;
  }
  v6[2](v6, v7);
}

void sub_246B5CD90(uint64_t a1, char a2)
{
  id v4 = *(id *)(a1 + 32);
  uint64_t v8 = v4;
  if (a2)
  {
    uint64_t v9 = 1;
  }
  else
  {
    if (v4)
    {
      uint64_t v10 = objc_msgSend_defaultManager(MEMORY[0x263F08850], v5, v6, v7);
      objc_msgSend_removeItemAtPath_error_(v10, v11, (uint64_t)v8, 0);

      uint64_t v8 = 0;
    }
    uint64_t v9 = 0;
  }
  v14[0] = MEMORY[0x263EF8330];
  v14[1] = 3221225472;
  v14[2] = sub_246B5CE94;
  v14[3] = &unk_2651FBB38;
  uint64_t v17 = v9;
  id v12 = *(void **)(a1 + 48);
  v14[4] = *(void *)(a1 + 40);
  id v15 = v8;
  id v16 = v12;
  id v13 = v8;
  dispatch_async(MEMORY[0x263EF83A0], v14);
}

uint64_t sub_246B5CE94(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_setState_(*(void **)(a1 + 32), a2, *(void *)(a1 + 56), a4);
  objc_msgSend_setResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(a1 + 40), v6);
  uint64_t v7 = *(uint64_t (**)(void))(*(void *)(a1 + 48) + 16);

  return v7();
}

uint64_t NTKMaxParmesanPhotos()
{
  if (NTKPeerDeviceHandlesWideLoads()) {
    return 24;
  }
  else {
    return 6;
  }
}

NTKParmesanImageAnalysis *NTKParmesanAnalyzeImage(void *a1, double a2, double a3, CGFloat a4, CGFloat a5, CGFloat a6, CGFloat a7)
{
  uint64_t v198 = *MEMORY[0x263EF8340];
  id v13 = a1;
  id v14 = objc_alloc_init(NTKParmesanImageAnalysis);
  if (!v13) {
    goto LABEL_18;
  }
  id v15 = v13;
  uint64_t v19 = (CGImage *)objc_msgSend_CGImage(v15, v16, v17, v18);
  size_t Width = CGImageGetWidth(v19);
  size_t Height = CGImageGetHeight(v19);
  if (!v19) {
    goto LABEL_18;
  }
  if (Width < 2) {
    goto LABEL_18;
  }
  if (Height < 2) {
    goto LABEL_18;
  }
  unsigned int v22 = a2;
  if (a2 < 2) {
    goto LABEL_18;
  }
  unsigned int v23 = a3;
  if (a3 < 2) {
    goto LABEL_18;
  }
  v200.size.width = a2 + -1.0;
  v200.size.height = a3 + -1.0;
  v200.origin.double x = 1.0;
  v200.origin.double y = 1.0;
  v203.origin.double x = a4;
  v203.origin.double y = a5;
  v203.size.width = a6;
  v203.size.height = a7;
  CGRect v201 = CGRectIntersection(v200, v203);
  unsigned int v24 = v201.size.width;
  unsigned int v25 = v201.size.height;
  BOOL v26 = v201.size.width < 2 || v24 > v22;
  _CF = !v26 && v25 >= 2;
  if (!_CF || v25 > v23) {
    goto LABEL_18;
  }
  double x = v201.origin.x;
  double y = v201.origin.y;
  uint64_t v32 = (char *)malloc_type_malloc(4 * v22 * v23, 0xF444F4D5uLL);
  if (!v32) {
    goto LABEL_18;
  }
  int v33 = v32;
  bzero(v32, 4 * v22 * v23);
  uint64_t v34 = CGColorSpaceCreateWithName((CFStringRef)*MEMORY[0x263F002D8]);
  uint64_t v35 = CGBitmapContextCreate(v33, a2, a3, 8uLL, 4 * v22, v34, 1u);
  CGColorSpaceRelease(v34);
  v202.size.width = (double)v22;
  v202.size.height = (double)v23;
  v202.origin.double x = 0.0;
  v202.origin.double y = 0.0;
  CGContextDrawImage(v35, v202, v19);
  CGContextRelease(v35);
  float32x4_t v196 = 0u;
  float32x4_t v197 = 0u;
  float32x4_t v194 = 0u;
  float32x4_t v195 = 0u;
  float32x4_t v192 = 0u;
  float32x4_t v193 = 0u;
  float32x4_t v190 = 0u;
  float32x4_t v191 = 0u;
  float32x4_t v188 = 0u;
  float32x4_t v189 = 0u;
  float32x4_t v186 = 0u;
  float32x4_t v187 = 0u;
  float32x4_t v184 = 0u;
  float32x4_t v185 = 0u;
  float32x4_t v182 = 0u;
  float32x4_t v183 = 0u;
  float32x4_t v180 = 0u;
  float32x4_t v181 = 0u;
  float32x4_t v178 = 0u;
  float32x4_t v179 = 0u;
  float32x4_t v176 = 0u;
  float32x4_t v177 = 0u;
  float32x4_t v174 = 0u;
  float32x4_t v175 = 0u;
  float32x4_t v172 = 0u;
  float32x4_t v173 = 0u;
  float32x4_t v170 = 0u;
  float32x4_t v171 = 0u;
  float32x4_t v168 = 0u;
  float32x4_t v169 = 0u;
  uint64_t v36 = v24 - 1 + x;
  float32x4_t v166 = 0u;
  float32x4_t v167 = 0u;
  BOOL v37 = __CFADD__(v24 - 1, x);
  unsigned int v38 = y;
  unsigned int v163 = v25 - 1 + y;
  if (__CFADD__(v25 - 1, y) || v37)
  {
    free(v33);
    int v39 = 0;
    float v42 = 0.0;
    float v43 = 0.0;
    float v44 = 0.0;
LABEL_49:
    float v95 = 1.0 / (float)v39;
    float v96 = v44 * v95;
    float v97 = v43 * v95;
    float v98 = v42 * v95;
    uint64_t v99 = v98 > 0.19 || v97 > 0.7;
    if (v98 <= 0.07) {
      int v100 = 1;
    }
    else {
      int v100 = v99;
    }
    _ZF = v96 > 0.4 || v100 == 0;
    if (_ZF)
    {
      uint64_t v102 = 1;
    }
    else
    {
      float32x4_t v103 = (float32x4_t)vdupq_n_s32(0x3C23D70Au);
      __asm { FMOV            V28.4S, #1.0 }
      float32x4_t v107 = (float32x4_t)vandq_s8((int8x16_t)_Q28, (int8x16_t)vcgtq_f32(v167, v103));
      float32x4_t v108 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v169, v103), (int8x16_t)vaddq_f32(v107, _Q28), (int8x16_t)v107);
      float32x4_t v109 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v171, v103), (int8x16_t)vaddq_f32(v108, _Q28), (int8x16_t)v108);
      float32x4_t v110 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v173, v103), (int8x16_t)vaddq_f32(v109, _Q28), (int8x16_t)v109);
      float32x4_t v111 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v175, v103), (int8x16_t)vaddq_f32(v110, _Q28), (int8x16_t)v110);
      float32x4_t v112 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v177, v103), (int8x16_t)vaddq_f32(v111, _Q28), (int8x16_t)v111);
      float32x4_t v113 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v179, v103), (int8x16_t)vaddq_f32(v112, _Q28), (int8x16_t)v112);
      float32x4_t v114 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v181, v103), (int8x16_t)vaddq_f32(v113, _Q28), (int8x16_t)v113);
      float32x4_t v115 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v183, v103), (int8x16_t)vaddq_f32(v114, _Q28), (int8x16_t)v114);
      float32x4_t v116 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v185, v103), (int8x16_t)vaddq_f32(v115, _Q28), (int8x16_t)v115);
      float32x4_t v117 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v187, v103), (int8x16_t)vaddq_f32(v116, _Q28), (int8x16_t)v116);
      float32x4_t v118 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v189, v103), (int8x16_t)vaddq_f32(v117, _Q28), (int8x16_t)v117);
      float32x4_t v119 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v191, v103), (int8x16_t)vaddq_f32(v118, _Q28), (int8x16_t)v118);
      float32x4_t v120 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v193, v103), (int8x16_t)vaddq_f32(v119, _Q28), (int8x16_t)v119);
      float32x4_t v121 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v195, v103), (int8x16_t)vaddq_f32(v120, _Q28), (int8x16_t)v120);
      float32x4_t v122 = (float32x4_t)vbslq_s8((int8x16_t)vcgtq_f32(v197, v103), (int8x16_t)vaddq_f32(v121, _Q28), (int8x16_t)v121);
      int8x16_t v123 = (int8x16_t)vcgtq_f32(v196, v103);
      int8x16_t v124 = (int8x16_t)vcgtq_f32(v194, v103);
      int8x16_t v125 = (int8x16_t)vcgtq_f32(v192, v103);
      int8x16_t v126 = (int8x16_t)vcgtq_f32(v190, v103);
      int8x16_t v127 = (int8x16_t)vcgtq_f32(v188, v103);
      int8x16_t v128 = (int8x16_t)vcgtq_f32(v186, v103);
      int8x16_t v129 = (int8x16_t)vcgtq_f32(v184, v103);
      int8x16_t v130 = (int8x16_t)vcgtq_f32(v182, v103);
      int8x16_t v131 = (int8x16_t)vcgtq_f32(v180, v103);
      int8x16_t v132 = (int8x16_t)vcgtq_f32(v178, v103);
      int8x16_t v133 = (int8x16_t)vcgtq_f32(v176, v103);
      int8x16_t v134 = (int8x16_t)vcgtq_f32(v174, v103);
      int8x16_t v135 = (int8x16_t)vcgtq_f32(v172, v103);
      int8x16_t v136 = (int8x16_t)vcgtq_f32(v170, v103);
      int8x16_t v137 = (int8x16_t)vcgtq_f32(v168, v103);
      float32x4_t v138 = (float32x4_t)vandq_s8((int8x16_t)_Q28, (int8x16_t)vcgtq_f32(v166, v103));
      float32x4_t v139 = (float32x4_t)vbslq_s8(v137, (int8x16_t)vaddq_f32(v138, _Q28), (int8x16_t)v138);
      float32x4_t v140 = (float32x4_t)vbslq_s8(v136, (int8x16_t)vaddq_f32(v139, _Q28), (int8x16_t)v139);
      float32x4_t v141 = (float32x4_t)vbslq_s8(v135, (int8x16_t)vaddq_f32(v140, _Q28), (int8x16_t)v140);
      float32x4_t v142 = (float32x4_t)vbslq_s8(v134, (int8x16_t)vaddq_f32(v141, _Q28), (int8x16_t)v141);
      float32x4_t v143 = (float32x4_t)vbslq_s8(v133, (int8x16_t)vaddq_f32(v142, _Q28), (int8x16_t)v142);
      float32x4_t v144 = (float32x4_t)vbslq_s8(v132, (int8x16_t)vaddq_f32(v143, _Q28), (int8x16_t)v143);
      float32x4_t v145 = (float32x4_t)vbslq_s8(v131, (int8x16_t)vaddq_f32(v144, _Q28), (int8x16_t)v144);
      float32x4_t v146 = (float32x4_t)vbslq_s8(v130, (int8x16_t)vaddq_f32(v145, _Q28), (int8x16_t)v145);
      float32x4_t v147 = (float32x4_t)vbslq_s8(v129, (int8x16_t)vaddq_f32(v146, _Q28), (int8x16_t)v146);
      float32x4_t v148 = (float32x4_t)vbslq_s8(v128, (int8x16_t)vaddq_f32(v147, _Q28), (int8x16_t)v147);
      float32x4_t v149 = (float32x4_t)vbslq_s8(v127, (int8x16_t)vaddq_f32(v148, _Q28), (int8x16_t)v148);
      float32x4_t v150 = (float32x4_t)vbslq_s8(v126, (int8x16_t)vaddq_f32(v149, _Q28), (int8x16_t)v149);
      float32x4_t v151 = (float32x4_t)vbslq_s8(v125, (int8x16_t)vaddq_f32(v150, _Q28), (int8x16_t)v150);
      float32x4_t v152 = (float32x4_t)vbslq_s8(v124, (int8x16_t)vaddq_f32(v151, _Q28), (int8x16_t)v151);
      float32x4_t v153 = vaddq_f32(v122, (float32x4_t)vbslq_s8(v123, (int8x16_t)vaddq_f32(v152, _Q28), (int8x16_t)v152));
      if ((float)(vaddv_f32((float32x2_t)*(_OWORD *)&vpaddq_f32(v153, v153)) / (float)v39) > 0.11) {
        uint64_t v102 = v99;
      }
      else {
        uint64_t v102 = 0;
      }
    }
    objc_msgSend_setBright_(v14, v93, v99, v94);
    objc_msgSend_setComplexBackground_(v14, v154, v102, v155);
    goto LABEL_18;
  }
  v156 = v14;
  id v157 = v13;
  int v39 = 0;
  uint64_t v40 = 4 * (int)v22;
  unsigned int v41 = v38 * v22;
  uint64_t v161 = v40 + 4;
  unsigned int v162 = a2;
  uint64_t v160 = 4 * (int)(1 - v22) + 4;
  uint64_t v159 = 4 - v40;
  uint64_t v158 = 4 * (int)~v22 + 4;
  float v42 = 0.0;
  float v43 = 0.0;
  float v44 = 0.0;
  do
  {
    unsigned int v165 = v38;
    unsigned int v164 = v41;
    uint64_t v45 = 4 * v41;
    uint64_t v46 = v161 + v45;
    uint64_t v47 = v160 + v45;
    uint64_t v48 = v159 + v45;
    uint64_t v49 = v158 + v45;
    unsigned int v50 = x;
    do
    {
      int v51 = v39;
      v52 = (unsigned int *)&v33[v45];
      uint64_t v53 = v36;
      CLKUIConvertToRGBfFromSRGBf_fast();
      uint64_t v36 = v53;
      float v57 = fmaxf(fmaxf(v54, v55), v56);
      float v58 = fminf(fminf(v54, v55), v56);
      float v59 = v57 + v58;
      float v60 = (float)(v57 + v58) * 0.5;
      float v61 = v57 - v58;
      if (v60 <= 0.5) {
        float v62 = v57 + v58;
      }
      else {
        float v62 = 2.0 - (float)(v57 + v58);
      }
      float v63 = (float)(v55 - v56) / v61;
      float v64 = v61 / v62;
      int32x2_t v66 = (int32x2_t)vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(*(_DWORD *)&v33[v49]), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      float v65 = (float)((float)(v54 - v55) / (float)(v57 - v58)) + 4.0;
      *(float *)v66.i32 = -(float)((float)(*(float *)v66.i32
                                         + (float)((float)*(_DWORD *)&v33[v49] * 0.00083373))
                                 + *(float *)&v66.i32[1]);
      float32x2_t v67 = vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(*(_DWORD *)&v33[v48]), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      if (v55 == v57) {
        float v65 = (float)((float)(v56 - v54) / (float)(v57 - v58)) + 2.0;
      }
      float32x2_t v68 = (float32x2_t)vdup_lane_s32(v66, 0);
      float32x2_t v69 = vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(*(_DWORD *)&v33[v47]), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      float v70 = 0.0;
      if (v55 < v56) {
        float v70 = 6.0;
      }
      float v71 = (float)(v69.f32[0] + (float)((float)*(_DWORD *)&v33[v47] * 0.00083373)) + v69.f32[1];
      _ZF = v54 == v57;
      float v72 = v63 + v70;
      float32x2_t v73 = vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(*v52), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      float v74 = (float)(v73.f32[0] + (float)((float)*v52 * 0.00083373)) + v73.f32[1];
      float32x2_t v75 = vmla_n_f32(v68, (float32x2_t)0xC000000000000000, (float)(v67.f32[0] + (float)((float)*(_DWORD *)&v33[v48] * 0.00083373)) + v67.f32[1]);
      uint32x2_t v76 = (uint32x2_t)vdup_n_s32(v52[2]);
      if (!_ZF) {
        float v72 = v65;
      }
      float32x2_t v77 = vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32(v76, (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      BOOL v78 = v57 <= v58;
      v79 = (unsigned int *)&v33[v46];
      float32x2_t v80 = vmla_n_f32(v75, (float32x2_t)0xBF8000003F800000, v71);
      float v81 = v72 * 0.16667;
      float32x2_t v82 = vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(*(_DWORD *)&v33[v46 - 4]), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      if (v57 <= v58) {
        float v64 = 0.0;
      }
      unsigned int v84 = *v79;
      unsigned int v83 = v79[1];
      float32x2_t v85 = vmla_n_f32(v80, (float32x2_t)3221225472, v74);
      int32x2_t v86 = (int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(v84), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL);
      if (v78) {
        float v81 = 0.0;
      }
      float32x2_t v87 = vmul_f32(vcvt_f32_s32(v86), (float32x2_t)0x3994720A3B37CF28);
      int32x2_t v88 = (int32x2_t)vmul_f32(vcvt_f32_s32((int32x2_t)vand_s8((int8x8_t)vshl_u32((uint32x2_t)vdup_n_s32(v83), (uint32x2_t)0xFFFFFFF0FFFFFFF8), (int8x8_t)0xFF000000FFLL)), (float32x2_t)0x3994720A3B37CF28);
      *(float *)v88.i32 = (float)(*(float *)v88.i32 + (float)((float)v83 * 0.00083373))
                        + *(float *)&v88.i32[1];
      float32x2_t v89 = vadd_f32((float32x2_t)vdup_lane_s32(v88, 0), vmla_n_f32(vmla_n_f32(vmla_n_f32(v85, (float32x2_t)0x40000000, (float)(v77.f32[0] + (float)((float)v52[2] * 0.00083373)) + v77.f32[1]), (float32x2_t)0x3F800000BF800000, (float)(v82.f32[0] + (float)((float)*(_DWORD *)&v33[v46 - 4] * 0.00083373))+ v82.f32[1]), (float32x2_t)0x4000000000000000, (float)(v87.f32[0] + (float)((float)v84 * 0.00083373)) + v87.f32[1]));
      float v43 = v60 + v43;
      uint64_t v90 = (int)(float)((float)(v81 * 128.0) + 0.5) & 0x7F;
      BOOL v26 = v60 <= 0.85;
      float v91 = (float)(v59 * 3.3333) + -5.6667;
      float v92 = sqrtf(v91);
      float v44 = sqrtf(vaddv_f32(vmul_f32(v89, v89))) + v44;
      ++v50;
      v45 += 4;
      v46 += 4;
      v166.f32[v90] = v166.f32[v90] + v64;
      v47 += 4;
      if (!v26) {
        float v42 = v42 + (float)(v92 * v91);
      }
      v48 += 4;
      v49 += 4;
      int v39 = v51 + 1;
    }
    while (v50 <= v53);
    unsigned int v38 = v165 + 1;
    unsigned int v41 = v164 + v162;
  }
  while (v165 + 1 <= v163);
  free(v33);
  id v14 = v156;
  id v13 = v157;
  if (v51 >= -1) {
    goto LABEL_49;
  }
LABEL_18:

  return v14;
}

id NTKParmesanGenerateGradient(double a1, double a2, CGFloat a3, CGFloat a4, CGFloat a5, CGFloat a6)
{
  uint64_t v17 = *MEMORY[0x263EF8340];
  if (a1 == *MEMORY[0x263F001B0] && a2 == *(double *)(MEMORY[0x263F001B0] + 8))
  {
    a1 = 1.0;
    a2 = 1.0;
  }
  UIGraphicsBeginImageContextWithOptions(*(CGSize *)&a1, 0, 0.0);
  CurrentContext = UIGraphicsGetCurrentContext();
  DeviceRGB = CGColorSpaceCreateDeviceRGB();
  v15[0] = xmmword_246C32B30;
  v15[1] = unk_246C32B40;
  void v15[2] = xmmword_246C32B50;
  v15[3] = unk_246C32B60;
  *(_OWORD *)locations = xmmword_246C32B20;
  id v12 = CGGradientCreateWithColorComponents(DeviceRGB, (const CGFloat *)v15, locations, 2uLL);
  v19.double x = a3;
  v19.double y = a4;
  v20.double x = a5;
  v20.double y = a6;
  CGContextDrawLinearGradient(CurrentContext, v12, v19, v20, 3u);
  id v13 = UIGraphicsGetImageFromCurrentImageContext();
  CGGradientRelease(v12);
  CGColorSpaceRelease(DeviceRGB);
  UIGraphicsEndImageContext();

  return v13;
}

void sub_246B5E520(void *a1@<X0>, uint64_t a2@<X8>)
{
  id obj = a1;
  os_unfair_lock_lock((os_unfair_lock_t)&unk_2691D8DA8);
  id WeakRetained = objc_loadWeakRetained(&qword_2691D8DB0);
  if (WeakRetained)
  {
    id v4 = WeakRetained;
    id v5 = objc_loadWeakRetained(&qword_2691D8DB0);
    if (v5 == obj)
    {
      uint64_t v8 = objc_msgSend_version(obj, (const char *)obj, v6, v7);
      uint64_t v9 = qword_2691D8DB8;

      if (v8 == v9) {
        goto LABEL_6;
      }
    }
    else
    {
    }
  }
  id v10 = objc_storeWeak(&qword_2691D8DB0, obj);
  qword_2691D8DB8 = objc_msgSend_version(obj, v11, v12, v13);

  sub_246B5ED0C(v14, (const char *)obj);
LABEL_6:
  os_unfair_lock_unlock((os_unfair_lock_t)&unk_2691D8DA8);
  long long v15 = unk_2691D8D80;
  *(_OWORD *)(a2 + 96) = xmmword_2691D8D70;
  *(_OWORD *)(a2 + 112) = v15;
  *(_OWORD *)(a2 + 128) = xmmword_2691D8D90;
  *(void *)(a2 + 144) = qword_2691D8DA0;
  long long v16 = unk_2691D8D40;
  *(_OWORD *)(a2 + 32) = xmmword_2691D8D30;
  *(_OWORD *)(a2 + 48) = v16;
  long long v17 = unk_2691D8D60;
  *(_OWORD *)(a2 + 64) = xmmword_2691D8D50;
  *(_OWORD *)(a2 + 80) = v17;
  long long v18 = *(_OWORD *)&qword_2691D8D20;
  *(_OWORD *)a2 = xmmword_2691D8D10;
  *(_OWORD *)(a2 + 16) = v18;
}

void sub_246B5ED0C(uint64_t a1, const char *a2)
{
  v23[6] = *MEMORY[0x263EF8340];
  uint64_t v2 = objc_msgSend_metricsWithDevice_identitySizeClass_(MEMORY[0x263EFD188], a2, (uint64_t)a2, 2);
  v22[0] = &unk_26FB35058;
  v22[1] = &unk_26FB35070;
  v23[0] = &unk_26FB356D0;
  v23[1] = &unk_26FB356E0;
  v22[2] = &unk_26FB35088;
  v22[3] = &unk_26FB350A0;
  v23[2] = &unk_26FB356D0;
  v23[3] = &unk_26FB356F0;
  v22[4] = &unk_26FB350B8;
  v22[5] = &unk_26FB350D0;
  v23[4] = &unk_26FB35700;
  v23[5] = &unk_26FB35710;
  id v4 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v3, (uint64_t)v23, (uint64_t)v22, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v5, (uint64_t)v4, v6, 23.5);
  *(void *)&xmmword_2691D8D10 = v7;

  v21[0] = &unk_26FB35720;
  v21[1] = &unk_26FB35730;
  v20[0] = &unk_26FB35058;
  v20[1] = &unk_26FB35070;
  v20[2] = &unk_26FB35088;
  v20[3] = &unk_26FB350A0;
  v21[2] = &unk_26FB35740;
  v21[3] = &unk_26FB35740;
  v20[4] = &unk_26FB350B8;
  v20[5] = &unk_26FB350D0;
  v21[4] = &unk_26FB35720;
  v21[5] = &unk_26FB35750;
  uint64_t v9 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v8, (uint64_t)v21, (uint64_t)v20, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v10, (uint64_t)v9, v11, 70.5);
  *((void *)&xmmword_2691D8D10 + 1) = v12;

  v18[0] = &unk_26FB35058;
  v18[1] = &unk_26FB35070;
  v19[0] = &unk_26FB35760;
  v19[1] = &unk_26FB35770;
  v18[2] = &unk_26FB35088;
  v18[3] = &unk_26FB350A0;
  v19[2] = &unk_26FB35780;
  v19[3] = &unk_26FB35780;
  v18[4] = &unk_26FB350B8;
  v18[5] = &unk_26FB350D0;
  v19[4] = &unk_26FB35760;
  v19[5] = &unk_26FB35790;
  uint64_t v14 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v13, (uint64_t)v19, (uint64_t)v18, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v15, (uint64_t)v14, v16, 47.0);
  qword_2691D8D20 = v17;

  *(_OWORD *)algn_2691D8D28 = xmmword_246C32B90;
  *(long long *)((char *)&xmmword_2691D8D30 + 8) = xmmword_246C32BA0;
  unk_2691D8D48 = vdupq_n_s64(0x407F400000000000uLL);
  *(long long *)((char *)&xmmword_2691D8D50 + 8) = xmmword_246C32BB0;
  unk_2691D8D68 = xmmword_246C32BC0;
  *(long long *)((char *)&xmmword_2691D8D70 + 8) = (__int128)vdupq_n_s64(0x404B800000000000uLL);
  unk_2691D8D88 = xmmword_246C32BD0;
  *(long long *)((char *)&xmmword_2691D8D90 + 8) = xmmword_246C32BE0;
}

void sub_246B5F280(uint64_t a1, const char *a2)
{
  v16[6] = *MEMORY[0x263EF8340];
  uint64_t v2 = objc_msgSend_metricsWithDevice_identitySizeClass_(MEMORY[0x263EFD188], a2, (uint64_t)a2, 2);
  v15[0] = &unk_26FB350E8;
  v15[1] = &unk_26FB35100;
  v16[0] = &unk_26FB357A0;
  v16[1] = &unk_26FB357B0;
  void v15[2] = &unk_26FB35118;
  v15[3] = &unk_26FB35130;
  v16[2] = &unk_26FB357C0;
  v16[3] = &unk_26FB357C0;
  _OWORD v15[4] = &unk_26FB35148;
  v15[5] = &unk_26FB35160;
  void v16[4] = &unk_26FB357A0;
  v16[5] = &unk_26FB357D0;
  id v4 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v3, (uint64_t)v16, (uint64_t)v15, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v5, (uint64_t)v4, v6, 38.0);
  qword_2691D8DC0 = v7;

  v13[0] = &unk_26FB350E8;
  v13[1] = &unk_26FB35100;
  v14[0] = &unk_26FB357E0;
  v14[1] = &unk_26FB357F0;
  v13[2] = &unk_26FB35118;
  v13[3] = &unk_26FB35130;
  v14[2] = &unk_26FB35800;
  v14[3] = &unk_26FB35810;
  v13[4] = &unk_26FB35148;
  v13[5] = &unk_26FB35160;
  v14[4] = &unk_26FB35820;
  void v14[5] = &unk_26FB35830;
  uint64_t v9 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v8, (uint64_t)v14, (uint64_t)v13, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v10, (uint64_t)v9, v11, 13.5);
  qword_2691D8DC8 = v12;
}

uint64_t sub_246B600B4(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, CGFloat a5, CGFloat a6)
{
  objc_msgSend_bounds(a2, (const char *)a2, a3, a4);
  v13.double x = a5;
  v13.double y = a6;
  uint64_t result = CGRectContainsPoint(v14, v13);
  if (result) {
    return objc_msgSend_containsPoint_(*(void **)(a1 + 32), v10, v11, v12, a5, a6) ^ 1;
  }
  return result;
}

void sub_246B60E50(uint64_t a1, void *a2)
{
  id v2 = a2;
  v6[0] = MEMORY[0x263EF8330];
  v6[1] = 3221225472;
  v6[2] = sub_246B60EDC;
  v6[3] = &unk_2651FBC08;
  id v7 = v2;
  id v3 = v2;
  objc_msgSend_enumerateComplicationSlotsWithBlock_(v3, v4, (uint64_t)v6, v5);
}

uint64_t sub_246B60EDC(uint64_t a1, const char *a2)
{
  return objc_msgSend_setComplication_forSlot_(*(void **)(a1 + 32), a2, 0, (uint64_t)a2);
}

void sub_246B614EC(uint64_t a1, void *a2)
{
  uint64_t v17 = *MEMORY[0x263EF8340];
  id v3 = a2;
  id v7 = objc_msgSend_logObject(NTKParmesanFaceBundle, v4, v5, v6);
  if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v8 = *(void *)(a1 + 32);
    int v15 = 138412290;
    uint64_t v16 = v8;
    _os_log_impl(&dword_246B51000, v7, OS_LOG_TYPE_DEFAULT, "transcodeAssetsWithIdentifiers: transcoding to %@ DONE", (uint8_t *)&v15, 0xCu);
  }

  if (v3)
  {
    objc_msgSend_count(*(void **)(a1 + 40), v9, v10, v11);
    objc_msgSend_count(v3, v12, v13, v14);
  }
  (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
}

double NTKParmesanFaceViewEdgeGapNormal(void *a1)
{
  sub_246B61630(a1, &v2);
  return *((double *)&v2 + 1);
}

void sub_246B61630(void *a1@<X0>, _OWORD *a2@<X8>)
{
  id obj = a1;
  os_unfair_lock_lock((os_unfair_lock_t)&unk_2691D8E38);
  id WeakRetained = objc_loadWeakRetained(&qword_2691D8E40);
  if (WeakRetained)
  {
    id v4 = WeakRetained;
    id v5 = objc_loadWeakRetained(&qword_2691D8E40);
    if (v5 == obj)
    {
      uint64_t v8 = objc_msgSend_version(obj, (const char *)obj, v6, v7);
      uint64_t v9 = qword_2691D8E48;

      if (v8 == v9) {
        goto LABEL_6;
      }
    }
    else
    {
    }
  }
  id v10 = objc_storeWeak(&qword_2691D8E40, obj);
  qword_2691D8E48 = objc_msgSend_version(obj, v11, v12, v13);

  sub_246B623B8(v14, (const char *)obj);
LABEL_6:
  os_unfair_lock_unlock((os_unfair_lock_t)&unk_2691D8E38);
  long long v15 = unk_2691D8E18;
  a2[2] = xmmword_2691D8E08;
  a2[3] = v15;
  a2[4] = xmmword_2691D8E28;
  long long v16 = unk_2691D8DF8;
  *a2 = xmmword_2691D8DE8;
  a2[1] = v16;
}

void sub_246B61A28(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = objc_msgSend_faceView(*(void **)(a1 + 32), a2, a3, a4);
  uint64_t v7 = *MEMORY[0x263F57850];
  objc_msgSend_complicationLayoutforSlot_(v6, v8, *MEMORY[0x263F57850], v9);
  id v34 = (id)objc_claimAutoreleasedReturnValue();

  id v10 = *(void **)(a1 + 32);
  uint64_t v13 = objc_msgSend__parmesanSlotForSlot_(v10, v11, v7, v12);
  objc_msgSend_bounds(*(void **)(a1 + 40), v14, v15, v16);
  objc_msgSend_configureComplicationLayout_forParmesanSlot_withBounds_forState_(v10, v17, (uint64_t)v34, v13, a2);
  uint64_t v21 = objc_msgSend_faceView(*(void **)(a1 + 32), v18, v19, v20);
  uint64_t v22 = *MEMORY[0x263F57820];
  unsigned int v25 = objc_msgSend_complicationLayoutforSlot_(v21, v23, *MEMORY[0x263F57820], v24);

  BOOL v26 = *(void **)(a1 + 32);
  uint64_t v29 = objc_msgSend__parmesanSlotForSlot_(v26, v27, v22, v28);
  objc_msgSend_bounds(*(void **)(a1 + 40), v30, v31, v32);
  objc_msgSend_configureComplicationLayout_forParmesanSlot_withBounds_forState_(v26, v33, (uint64_t)v25, v29, a2);
}

void sub_246B623B8(uint64_t a1, const char *a2)
{
  v101[3] = *MEMORY[0x263EF8340];
  long long v2 = objc_msgSend_metricsWithDevice_identitySizeClass_(MEMORY[0x263EFD188], a2, (uint64_t)a2, 2);
  *(void *)&xmmword_2691D8DE8 = 0x3FF8000000000000;
  v100[0] = &unk_26FB35178;
  v100[1] = &unk_26FB35190;
  v101[0] = &unk_26FB35840;
  v101[1] = &unk_26FB35850;
  v100[2] = &unk_26FB351A8;
  v101[2] = &unk_26FB35860;
  id v4 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v3, (uint64_t)v101, (uint64_t)v100, 3);
  objc_msgSend_scaledValue_withOverrides_(v2, v5, (uint64_t)v4, v6, 73.0);
  qword_2691D8E20 = v7;

  v98[0] = &unk_26FB351A8;
  v98[1] = &unk_26FB351C0;
  v99[0] = &unk_26FB35870;
  v99[1] = &unk_26FB35880;
  v99[2] = &unk_26FB35870;
  v99[3] = &unk_26FB35880;
  v98[2] = &unk_26FB351D8;
  v98[3] = &unk_26FB351F0;
  v98[4] = &unk_26FB35208;
  v98[5] = &unk_26FB35220;
  v99[4] = &unk_26FB35870;
  v99[5] = &unk_26FB35870;
  uint64_t v9 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v8, (uint64_t)v99, (uint64_t)v98, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v10, (uint64_t)v9, v11, 10.5);
  *(void *)&xmmword_2691D8E28 = v12;

  v96[0] = &unk_26FB351A8;
  v96[1] = &unk_26FB351C0;
  v97[0] = &unk_26FB35890;
  v97[1] = &unk_26FB35890;
  v96[2] = &unk_26FB351D8;
  v96[3] = &unk_26FB351F0;
  v97[2] = &unk_26FB35890;
  v97[3] = &unk_26FB35890;
  v96[4] = &unk_26FB35208;
  v96[5] = &unk_26FB35220;
  v97[4] = &unk_26FB35890;
  v97[5] = &unk_26FB35890;
  uint64_t v14 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v13, (uint64_t)v97, (uint64_t)v96, 6);
  objc_msgSend_scaledValue_withOverrides_(v2, v15, (uint64_t)v14, v16, 0.0);
  *((void *)&xmmword_2691D8E28 + 1) = v17;

  v94[0] = &unk_26FB351A8;
  long long v89 = xmmword_246C32C10;
  uint64_t v19 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v18, (uint64_t)&v89, (uint64_t)"{CGSize=dd}");
  v95[0] = v19;
  v94[1] = &unk_26FB351C0;
  long long v88 = xmmword_246C32C20;
  uint64_t v21 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v20, (uint64_t)&v88, (uint64_t)"{CGSize=dd}");
  v95[1] = v21;
  v94[2] = &unk_26FB351D8;
  long long v87 = xmmword_246C32C30;
  unsigned int v23 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v22, (uint64_t)&v87, (uint64_t)"{CGSize=dd}");
  v95[2] = v23;
  v94[3] = &unk_26FB351F0;
  long long v86 = xmmword_246C32C40;
  unsigned int v25 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v24, (uint64_t)&v86, (uint64_t)"{CGSize=dd}");
  v95[3] = v25;
  v94[4] = &unk_26FB35208;
  long long v85 = xmmword_246C32C50;
  uint64_t v27 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v26, (uint64_t)&v85, (uint64_t)"{CGSize=dd}");
  v95[4] = v27;
  v94[5] = &unk_26FB35220;
  long long v84 = xmmword_246C32C50;
  uint64_t v29 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v28, (uint64_t)&v84, (uint64_t)"{CGSize=dd}");
  v95[5] = v29;
  uint64_t v31 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v30, (uint64_t)v95, (uint64_t)v94, 6);
  objc_msgSend_scaledSize_withOverrides_(v2, v32, (uint64_t)v31, v33, 13.5, 19.5);
  *((void *)&xmmword_2691D8DE8 + 1) = v34;
  unk_2691D8DF8 = v35;

  v92[0] = &unk_26FB351A8;
  long long v83 = xmmword_246C32C10;
  BOOL v37 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v36, (uint64_t)&v83, (uint64_t)"{CGSize=dd}");
  v93[0] = v37;
  v92[1] = &unk_26FB351C0;
  long long v82 = xmmword_246C32C20;
  int v39 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v38, (uint64_t)&v82, (uint64_t)"{CGSize=dd}");
  v93[1] = v39;
  v92[2] = &unk_26FB351D8;
  long long v81 = xmmword_246C32C30;
  unsigned int v41 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v40, (uint64_t)&v81, (uint64_t)"{CGSize=dd}");
  v93[2] = v41;
  v92[3] = &unk_26FB351F0;
  long long v80 = xmmword_246C32C40;
  float v43 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v42, (uint64_t)&v80, (uint64_t)"{CGSize=dd}");
  v93[3] = v43;
  v92[4] = &unk_26FB35208;
  long long v79 = xmmword_246C32C50;
  uint64_t v45 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v44, (uint64_t)&v79, (uint64_t)"{CGSize=dd}");
  v93[4] = v45;
  v92[5] = &unk_26FB35220;
  long long v78 = xmmword_246C32C50;
  uint64_t v47 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v46, (uint64_t)&v78, (uint64_t)"{CGSize=dd}");
  v93[5] = v47;
  uint64_t v49 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v48, (uint64_t)v93, (uint64_t)v92, 6);
  objc_msgSend_scaledSize_withOverrides_(v2, v50, (uint64_t)v49, v51, 7.0, 14.5);
  qword_2691D8E00 = v52;
  *(void *)&xmmword_2691D8E08 = v53;

  v90[0] = &unk_26FB351A8;
  long long v77 = xmmword_246C32C10;
  float v55 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v54, (uint64_t)&v77, (uint64_t)"{CGSize=dd}");
  v91[0] = v55;
  v90[1] = &unk_26FB351C0;
  long long v76 = xmmword_246C32C20;
  float v57 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v56, (uint64_t)&v76, (uint64_t)"{CGSize=dd}");
  v91[1] = v57;
  v90[2] = &unk_26FB351D8;
  long long v75 = xmmword_246C32C30;
  float v59 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v58, (uint64_t)&v75, (uint64_t)"{CGSize=dd}");
  v91[2] = v59;
  v90[3] = &unk_26FB351F0;
  long long v74 = xmmword_246C32C40;
  float v61 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v60, (uint64_t)&v74, (uint64_t)"{CGSize=dd}");
  v91[3] = v61;
  v90[4] = &unk_26FB35208;
  long long v73 = xmmword_246C32C50;
  float v63 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v62, (uint64_t)&v73, (uint64_t)"{CGSize=dd}");
  v91[4] = v63;
  v90[5] = &unk_26FB35220;
  long long v72 = xmmword_246C32C50;
  float v65 = objc_msgSend_valueWithBytes_objCType_(MEMORY[0x263F08D40], v64, (uint64_t)&v72, (uint64_t)"{CGSize=dd}");
  v91[5] = v65;
  float32x2_t v67 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v66, (uint64_t)v91, (uint64_t)v90, 6);
  objc_msgSend_scaledSize_withOverrides_(v2, v68, (uint64_t)v67, v69, 7.0, 14.5);
  *((void *)&xmmword_2691D8E08 + 1) = v70;
  unk_2691D8E18 = v71;
}

void sub_246B63ECC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,char a47)
{
  for (uint64_t i = 448; i != -56; i -= 56)
    sub_246B63F50((uint64_t)(&a47 + i));
  _Unwind_Resume(a1);
}

void sub_246B63F50(uint64_t a1)
{
  long long v2 = *(void **)(a1 + 48);
}

uint64_t sub_246B63F94(uint64_t a1, const char *a2, uint64_t a3)
{
  return objc_msgSend_setComplication_forSlot_(*(void **)(a1 + 32), a2, a3, (uint64_t)a2);
}

void sub_246B642A8(uint64_t a1, void *a2)
{
  uint64_t v2 = *MEMORY[0x263F57850];
  id v5 = a2;
  objc_msgSend_setComplication_forSlot_(v5, v3, 0, v2);
  objc_msgSend_setComplication_forSlot_(v5, v4, 0, *MEMORY[0x263F57820]);
}

void sub_246B64830(uint64_t a1, void *a2)
{
  uint64_t v3 = *MEMORY[0x263F57850];
  id v4 = a2;
  objc_msgSend_setComplication_forSlot_(v4, v5, 0, v3);
  objc_msgSend_setComplication_forSlot_(v4, v6, 0, *MEMORY[0x263F57820]);
  uint64_t v7 = *(void *)(a1 + 32);
  uint64_t v11 = objc_msgSend_placeholderCustomDataKey(NTKParmesanGalleryPlaceholderDataSource, v8, v9, v10);
  objc_msgSend_setCustomData_forKey_(v4, v12, v7, (uint64_t)v11);

  objc_msgSend_optionWithContent_device_(NTKParmesanContentEditOption, v13, 2, *(void *)(a1 + 40));
  id v16 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_selectOption_forCustomEditMode_slot_(v4, v14, (uint64_t)v16, 12, 0);
  objc_msgSend_applyToFace_forDevice_(*(void **)(a1 + 48), v15, (uint64_t)v4, *(void *)(a1 + 40));
}

void sub_246B64A64(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

intptr_t sub_246B64A7C(uint64_t a1)
{
  return dispatch_semaphore_signal(*(dispatch_semaphore_t *)(a1 + 32));
}

id sub_246B64C38(void *a1, const char *a2, uint64_t a3, uint64_t a4)
{
  id v5 = objc_msgSend_modificationDate(a1, a2, a3, a4);
  if (!v5)
  {
    id v5 = objc_msgSend_creationDate(a1, v6, v7, v8);
    if (!v5)
    {
      id v5 = objc_msgSend_distantPast(MEMORY[0x263EFF910], v9, v10, v11);
    }
  }

  return v5;
}

id sub_246B64C94(uint64_t a1)
{
  id v2 = objc_alloc_init(MEMORY[0x263F14E40]);
  objc_msgSend_setVersion_(v2, v3, 0, v4);
  objc_msgSend_setDeliveryMode_(v2, v5, 1, v6);
  objc_msgSend_setNetworkAccessAllowed_(v2, v7, 1, v8);
  objc_msgSend_setSynchronous_(v2, v9, 1, v10);
  uint64_t v19 = 0;
  uint64_t v20 = &v19;
  uint64_t v21 = 0x3032000000;
  uint64_t v22 = sub_246B64E00;
  unsigned int v23 = sub_246B64E10;
  id v24 = 0;
  uint64_t v14 = objc_msgSend_defaultManager(MEMORY[0x263F14E38], v11, v12, v13);
  v18[0] = MEMORY[0x263EF8330];
  v18[1] = 3221225472;
  v18[2] = sub_246B64E18;
  v18[3] = &unk_2651FBD28;
  v18[4] = a1;
  v18[5] = &v19;
  objc_msgSend_requestImageDataAndOrientationForAsset_options_resultHandler_(v14, v15, a1, (uint64_t)v2, v18);

  id v16 = (id)v20[5];
  _Block_object_dispose(&v19, 8);

  return v16;
}

void sub_246B64DE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t sub_246B64E00(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void sub_246B64E10(uint64_t a1)
{
}

void sub_246B64E18(uint64_t a1, void *a2, uint64_t a3, const char *a4, void *a5)
{
  uint64_t v8 = a2;
  uint64_t v11 = objc_msgSend_objectForKeyedSubscript_(a5, v9, *MEMORY[0x263F150B0], v10);
  uint64_t v15 = objc_msgSend_logObject(NTKParmesanFaceBundle, v12, v13, v14);
  id v16 = v15;
  if (v11)
  {
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR)) {
      sub_246C2A34C();
    }
  }
  else
  {
    if (os_log_type_enabled(v15, OS_LOG_TYPE_DEBUG)) {
      sub_246C2A260(a1, v8, (uint64_t)v16, v17);
    }

    uint64_t v21 = objc_msgSend_logObject(NTKParmesanFaceBundle, v18, v19, v20);
    if (os_log_type_enabled(v21, OS_LOG_TYPE_DEBUG)) {
      sub_246C2A19C(a1, a4, (uint64_t)v21, v22);
    }

    uint64_t v23 = *(void *)(*(void *)(a1 + 40) + 8);
    id v24 = v8;
    id v16 = *(NSObject **)(v23 + 40);
    *(void *)(v23 + 40) = v24;
  }
}

uint64_t sub_246B65014(void *a1)
{
  if (!a1) {
    return 1;
  }
  id v1 = a1;
  uint64_t v5 = objc_msgSend_pixelWidth(v1, v2, v3, v4);
  uint64_t v9 = objc_msgSend_pixelHeight(v1, v6, v7, v8);

  if ((unint64_t)(v9 * v5) <= 0xE4E1C0) {
    return 1;
  }
  else {
    return 2;
  }
}

void sub_246B654BC(uint64_t a1, void *a2)
{
  objc_storeStrong((id *)(*(void *)(a1 + 32) + 48), a2);
  id v4 = a2;
  dispatch_semaphore_signal(*(dispatch_semaphore_t *)(a1 + 40));
}

intptr_t sub_246B65518(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = objc_msgSend_firstObject(a2, (const char *)a2, a3, a4);
  uint64_t v6 = *(void *)(a1 + 32);
  uint64_t v7 = *(void **)(v6 + 56);
  *(void *)(v6 + 56) = v5;

  uint64_t v8 = *(NSObject **)(a1 + 40);

  return dispatch_semaphore_signal(v8);
}

void sub_246B663C8(void *a1, char a2, void *a3)
{
  id v5 = a3;
  uint64_t v9 = v5;
  if (a2)
  {
    uint64_t v10 = a1[6];
  }
  else
  {
    if (v5)
    {
      uint64_t v11 = objc_msgSend_defaultManager(MEMORY[0x263F08850], v6, v7, v8);
      objc_msgSend_removeItemAtPath_error_(v11, v12, (uint64_t)v9, 0);

      uint64_t v9 = 0;
    }
    uint64_t v10 = 0;
  }
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B664CC;
  block[3] = &unk_2651FBDA0;
  char v19 = a2;
  uint64_t v18 = v10;
  uint64_t v13 = (void *)a1[5];
  block[4] = a1[4];
  id v16 = v9;
  id v17 = v13;
  id v14 = v9;
  dispatch_async(MEMORY[0x263EF83A0], block);
}

void sub_246B664CC(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  *(unsigned char *)(*(void *)(a1 + 32) + 80) = *(unsigned char *)(a1 + 64);
  objc_msgSend_setState_(*(void **)(a1 + 32), a2, *(void *)(a1 + 56), a4);
  objc_msgSend_setGalleryPreviewResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(a1 + 40), v6);
  uint64_t v7 = *(void *)(a1 + 48);
  objc_msgSend_galleryPreviewResourceDirectory(*(void **)(a1 + 32), v8, v9, v10);
  id v11 = (id)objc_claimAutoreleasedReturnValue();
  (*(void (**)(uint64_t, id))(v7 + 16))(v7, v11);
}

void sub_246B66558(uint64_t a1)
{
  v26[1] = *MEMORY[0x263EF8340];
  id v5 = NTKPhotosCreateResourceDirectory();
  if (v5
    && (objc_msgSend_orderList(*(void **)(a1 + 32), v2, v3, v4),
        uint64_t v6 = objc_claimAutoreleasedReturnValue(),
        objc_msgSend_firstObject(v6, v7, v8, v9),
        uint64_t v10 = objc_claimAutoreleasedReturnValue(),
        v10,
        v6,
        v10))
  {
    id v14 = *(void **)(a1 + 32);
    uint64_t v15 = objc_msgSend_orderList(v14, v11, v12, v13);
    char v19 = objc_msgSend_firstObject(v15, v16, v17, v18);
    v26[0] = v19;
    uint64_t v21 = objc_msgSend_arrayWithObjects_count_(MEMORY[0x263EFF8C0], v20, (uint64_t)v26, 1);
    v23[0] = MEMORY[0x263EF8330];
    v23[1] = 3221225472;
    v23[2] = sub_246B666EC;
    v23[3] = &unk_2651FBE10;
    id v25 = *(id *)(a1 + 40);
    id v24 = v5;
    objc_msgSend__copyOrTranscodeAssetWithIds_to_shouldPurgeOriginalData_progress_completion_(v14, v22, (uint64_t)v21, (uint64_t)v24, 0, &unk_26FB1C1C0, v23);
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
}

void sub_246B666EC(uint64_t a1, void *a2)
{
  id v3 = a2;
  if (v3) {
    NTKPhotosWriteImageListWithVersion();
  }
  (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
}

uint64_t sub_246B66A18(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void sub_246B66A2C(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v4 = *(void *)(a1 + 40);
  objc_msgSend_resourceDirectory(*(void **)(a1 + 32), a2, a3, a4);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  (*(void (**)(uint64_t, id))(v4 + 16))(v4, v5);
}

void sub_246B66A88(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  uint64_t v9 = v5;
  if (a2)
  {
    uint64_t v10 = 1;
  }
  else
  {
    if (v5)
    {
      id v11 = objc_msgSend_defaultManager(MEMORY[0x263F08850], v6, v7, v8);
      objc_msgSend_removeItemAtPath_error_(v11, v12, (uint64_t)v9, 0);

      uint64_t v9 = 0;
    }
    uint64_t v10 = 0;
  }
  v15[0] = MEMORY[0x263EF8330];
  v15[1] = 3221225472;
  void v15[2] = sub_246B66B88;
  v15[3] = &unk_2651FBB38;
  uint64_t v18 = v10;
  uint64_t v13 = *(void **)(a1 + 40);
  _OWORD v15[4] = *(void *)(a1 + 32);
  id v16 = v9;
  id v17 = v13;
  id v14 = v9;
  dispatch_async(MEMORY[0x263EF83A0], v15);
}

uint64_t sub_246B66B88(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_setState_(*(void **)(a1 + 32), a2, *(void *)(a1 + 56), a4);
  objc_msgSend_setResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(a1 + 40), v6);
  uint64_t v7 = *(uint64_t (**)(void))(*(void *)(a1 + 48) + 16);

  return v7();
}

void sub_246B66BD8(uint64_t a1)
{
  id v5 = NTKPhotosCreateResourceDirectory();
  if (v5)
  {
    uint64_t v6 = *(void **)(a1 + 32);
    uint64_t v7 = objc_msgSend_orderList(v6, v2, v3, v4);
    v15[0] = MEMORY[0x263EF8330];
    v15[1] = 3221225472;
    void v15[2] = sub_246B66D30;
    v15[3] = &unk_2651FBEB0;
    id v16 = *(id *)(a1 + 48);
    v11[0] = MEMORY[0x263EF8330];
    v11[1] = 3221225472;
    v11[2] = sub_246B66DDC;
    v11[3] = &unk_2651FBED8;
    id v14 = *(id *)(a1 + 40);
    id v8 = v5;
    uint64_t v9 = *(void *)(a1 + 32);
    id v12 = v8;
    uint64_t v13 = v9;
    objc_msgSend__copyOrTranscodeAssetWithIds_to_shouldPurgeOriginalData_progress_completion_(v6, v10, (uint64_t)v7, (uint64_t)v8, 1, v15, v11);
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
}

void sub_246B66D30(uint64_t a1, double a2)
{
  v3[0] = MEMORY[0x263EF8330];
  v3[1] = 3221225472;
  v3[2] = sub_246B66DC4;
  v3[3] = &unk_2651FBE88;
  id v4 = *(id *)(a1 + 32);
  double v5 = a2;
  dispatch_async(MEMORY[0x263EF83A0], v3);
}

uint64_t sub_246B66DC4(uint64_t a1)
{
  return (*(uint64_t (**)(void, double))(*(void *)(a1 + 32) + 16))(*(void *)(a1 + 32), *(double *)(a1 + 40));
}

void sub_246B66DDC(uint64_t a1, void *a2)
{
  id v5 = a2;
  if (v5 && (NTKPhotosWriteImageListWithVersion() & 1) != 0)
  {
    objc_msgSend__reinitializeWithImageList_andResourceDirectory_(*(void **)(a1 + 40), v3, (uint64_t)v5, *(void *)(a1 + 32));
    id v4 = *(void (**)(void))(*(void *)(a1 + 48) + 16);
  }
  else
  {
    id v4 = *(void (**)(void))(*(void *)(a1 + 48) + 16);
  }
  v4();
}

void sub_246B67F70(uint64_t a1, void *a2, void *a3, double a4, double a5, double a6, double a7)
{
  id v13 = a2;
  id v14 = a3;
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B68070;
  block[3] = &unk_2651FBF28;
  id v15 = *(id *)(a1 + 32);
  id v20 = v14;
  id v21 = v15;
  id v19 = v13;
  double v22 = a4;
  double v23 = a5;
  double v24 = a6;
  double v25 = a7;
  id v16 = v14;
  id v17 = v13;
  dispatch_async(MEMORY[0x263EF83A0], block);
}

uint64_t sub_246B68070(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void, double, double, double, double))(*(void *)(a1 + 48) + 16))(*(void *)(a1 + 48), *(void *)(a1 + 32), *(void *)(a1 + 40), *(double *)(a1 + 56), *(double *)(a1 + 64), *(double *)(a1 + 72), *(double *)(a1 + 80));
}

void sub_246B68090(int a1, id a2)
{
  if (a2)
  {
    id v2 = a2;
    uint64_t v6 = (CGImage *)objc_msgSend_CGImage(v2, v3, v4, v5);
    CGImageGetWidth(v6);
    id v7 = v2;
    id v11 = (CGImage *)objc_msgSend_CGImage(v7, v8, v9, v10);

    CGImageGetHeight(v11);
  }
}

void sub_246B6811C(uint64_t a1, void *a2)
{
  id v14 = a2;
  if (v14)
  {
    id v3 = objc_alloc(MEMORY[0x263F827E8]);
    uint64_t v6 = objc_msgSend_initWithData_(v3, v4, (uint64_t)v14, v5);
    uint64_t v10 = objc_msgSend_timeLayout(*(void **)(a1 + 32), v7, v8, v9);
    objc_msgSend_crop(*(void **)(a1 + 32), v11, v12, v13);
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
  else
  {
    (*(void (**)(double, double, double, double))(*(void *)(a1 + 40) + 16))(*MEMORY[0x263F001A8], *(double *)(MEMORY[0x263F001A8] + 8), *(double *)(MEMORY[0x263F001A8] + 16), *(double *)(MEMORY[0x263F001A8] + 24));
  }
}

void sub_246B681E8(uint64_t a1, void *a2)
{
  id v15 = a2;
  if (v15)
  {
    uint64_t v6 = *(void **)(*(void *)(a1 + 32) + 56);
    id v7 = objc_msgSend_asset(*(void **)(a1 + 40), v3, v4, v5);
    id v11 = objc_msgSend_localIdentifier(v7, v8, v9, v10);
    objc_msgSend_setObject_forKey_(v6, v12, (uint64_t)v15, (uint64_t)v11);
  }
  uint64_t v14 = *(void *)(a1 + 48);
  uint64_t v13 = *(void *)(a1 + 56);
  (*(void (**)(void))(*(void *)(a1 + 64) + 16))();
  (*(void (**)(uint64_t, id, uint64_t))(v13 + 16))(v13, v15, v14);
}

void sub_246B68408(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v47 = *MEMORY[0x263EF8340];
  uint64_t v5 = objc_msgSend_logObject(NTKParmesanFaceBundle, a2, a3, a4);
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v6 = *(void *)(a1 + 48);
    *(_DWORD *)buf = 134217984;
    uint64_t v46 = v6;
    _os_log_impl(&dword_246B51000, v5, OS_LOG_TYPE_DEFAULT, "previewOfLibraryPhotoAtIndex:%ld", buf, 0xCu);
  }

  unint64_t v10 = *(void *)(a1 + 48);
  if ((v10 & 0x8000000000000000) != 0
    || v10 >= objc_msgSend_count(*(void **)(*(void *)(a1 + 32) + 88), v7, v8, v9))
  {
    block[0] = MEMORY[0x263EF8330];
    block[1] = 3221225472;
    block[2] = sub_246B68704;
    block[3] = &unk_2651FBB10;
    id v44 = *(id *)(a1 + 40);
    dispatch_async(MEMORY[0x263EF83A0], block);
    id v15 = v44;
  }
  else if (objc_msgSend__ensureUserOverrideSessionIsLoadedForPhotoAtIndex_(*(void **)(a1 + 32), v11, *(void *)(a1 + 48), v12))
  {
    id v15 = objc_msgSend_objectAtIndexedSubscript_(*(void **)(*(void *)(a1 + 32) + 88), v13, *(void *)(a1 + 48), v14);
    id v16 = *(void **)(a1 + 32);
    id v17 = (void *)v16[8];
    id v21 = objc_msgSend_device(v16, v18, v19, v20);
    double v24 = objc_msgSend_objectForKeyedSubscript_(*(void **)(*(void *)(a1 + 32) + 48), v22, (uint64_t)v15, v23);
    uint64_t v28 = objc_msgSend_subsampleFactor(v24, v25, v26, v27);
    uint64_t v31 = objc_msgSend_previewModelForDevice_subsampleFactor_(v17, v29, (uint64_t)v21, v30, (double)(unint64_t)v28);

    uint64_t v35 = objc_msgSend_logObject(NTKParmesanFaceBundle, v32, v33, v34);
    if (os_log_type_enabled(v35, OS_LOG_TYPE_DEBUG)) {
      sub_246C2A7D0((void *)(a1 + 48), (uint64_t)v31, v35);
    }

    v38[0] = MEMORY[0x263EF8330];
    v38[1] = 3221225472;
    v38[2] = sub_246B68734;
    v38[3] = &unk_2651FBE38;
    id v36 = *(id *)(a1 + 40);
    id v39 = v31;
    id v40 = v36;
    id v37 = v31;
    dispatch_async(MEMORY[0x263EF83A0], v38);
  }
  else
  {
    v41[0] = MEMORY[0x263EF8330];
    v41[1] = 3221225472;
    v41[2] = sub_246B6871C;
    v41[3] = &unk_2651FBB10;
    id v42 = *(id *)(a1 + 40);
    dispatch_async(MEMORY[0x263EF83A0], v41);
    id v15 = v42;
  }
}

uint64_t sub_246B68704(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t sub_246B6871C(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t sub_246B68734(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(void *)(a1 + 32), 0);
}

void sub_246B6880C(uint64_t a1)
{
  uint64_t v132 = *MEMORY[0x263EF8340];
  id v2 = _NTKLoggingObjectForDomain();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v3 = *(void *)(a1 + 48);
    *(_DWORD *)buf = 134217984;
    uint64_t v131 = v3;
    _os_log_impl(&dword_246B51000, v2, OS_LOG_TYPE_DEFAULT, "resetCropOfPhotoAtIndex:%ld", buf, 0xCu);
  }

  unint64_t v7 = *(void *)(a1 + 48);
  if ((v7 & 0x8000000000000000) != 0 || v7 >= objc_msgSend_count(*(void **)(*(void *)(a1 + 32) + 88), v4, v5, v6))
  {
    block[0] = MEMORY[0x263EF8330];
    block[1] = 3221225472;
    block[2] = sub_246B68CF8;
    block[3] = &unk_2651FBB10;
    id v128 = *(id *)(a1 + 40);
    dispatch_async(MEMORY[0x263EF83A0], block);
    uint64_t v12 = v128;
  }
  else if (objc_msgSend__ensureUserOverrideSessionIsLoadedForPhotoAtIndex_(*(void **)(a1 + 32), v8, *(void *)(a1 + 48), v9))
  {
    uint64_t v12 = objc_msgSend_objectAtIndexedSubscript_(*(void **)(*(void *)(a1 + 32) + 88), v10, *(void *)(a1 + 48), v11);
    id v15 = objc_msgSend_objectForKeyedSubscript_(*(void **)(*(void *)(a1 + 32) + 48), v13, (uint64_t)v12, v14);
    uint64_t v19 = objc_msgSend_dictionary(MEMORY[0x263EFF9A0], v16, v17, v18);
    objc_msgSend_setUserOverrides_(v15, v20, (uint64_t)v19, v21);

    long long v123 = 0u;
    long long v124 = 0u;
    long long v121 = 0u;
    long long v122 = 0u;
    double v25 = objc_msgSend_asset(v15, v22, v23, v24);
    uint64_t v29 = objc_msgSend_layouts(v25, v26, v27, v28);

    uint64_t v31 = objc_msgSend_countByEnumeratingWithState_objects_count_(v29, v30, (uint64_t)&v121, (uint64_t)v129, 16);
    if (v31)
    {
      uint64_t v35 = v31;
      uint64_t v36 = *(void *)v122;
      while (2)
      {
        uint64_t v37 = 0;
        do
        {
          if (*(void *)v122 != v36) {
            objc_enumerationMutation(v29);
          }
          uint64_t v38 = *(void *)(*((void *)&v121 + 1) + 8 * v37);
          uint64_t v39 = objc_msgSend_asset(v15, v32, v33, v34);
          float v43 = objc_msgSend_layouts((void *)v39, v40, v41, v42);
          uint64_t v46 = objc_msgSend_objectForKeyedSubscript_(v43, v44, v38, v45);

          LOBYTE(v39) = objc_msgSend_userEdited(v46, v47, v48, v49);
          if (v39)
          {

            objc_msgSend_setAsset_(v15, v52, 0, v53);
            goto LABEL_19;
          }
          ++v37;
        }
        while (v35 != v37);
        uint64_t v35 = objc_msgSend_countByEnumeratingWithState_objects_count_(v29, v32, (uint64_t)&v121, (uint64_t)v129, 16);
        if (v35) {
          continue;
        }
        break;
      }
    }

LABEL_19:
    objc_msgSend_setCanRevert_(*(void **)(*(void *)(a1 + 32) + 64), v50, 0, v51);
    float v54 = objc_alloc_init(NTKParmesanLayoutUserOverride);
    float v58 = objc_msgSend_originalAsset(v15, v55, v56, v57);
    float v62 = objc_msgSend_preferredLayout(v58, v59, v60, v61);
    int32x2_t v66 = objc_msgSend_originalCrop(v62, v63, v64, v65);
    objc_msgSend_cgRect(v66, v67, v68, v69);
    objc_msgSend_setCrop_(v54, v70, v71, v72);

    long long v76 = objc_msgSend_originalAsset(v15, v73, v74, v75);
    long long v80 = objc_msgSend_preferredLayout(v76, v77, v78, v79);
    long long v84 = objc_msgSend_timeLayout(v80, v81, v82, v83);
    objc_msgSend_setTimeLayout_(v54, v85, (uint64_t)v84, v86);

    uint64_t v90 = objc_msgSend_originalAsset(v15, v87, v88, v89);
    uint64_t v94 = objc_msgSend_preferredLayout(v90, v91, v92, v93);
    float v98 = objc_msgSend_mask(v94, v95, v96, v97);
    objc_msgSend_setUseDepthEffect_(v54, v99, v98 != 0, v100);

    objc_msgSend_setCurrentOverride_(*(void **)(*(void *)(a1 + 32) + 64), v101, (uint64_t)v54, v102);
    float32x4_t v103 = *(void **)(a1 + 32);
    v104 = (void *)v103[8];
    float32x4_t v108 = objc_msgSend_device(v103, v105, v106, v107);
    uint64_t v112 = objc_msgSend_subsampleFactor(v15, v109, v110, v111);
    float32x4_t v115 = objc_msgSend_previewModelForDevice_subsampleFactor_(v104, v113, (uint64_t)v108, v114, (double)(unint64_t)v112);

    v118[0] = MEMORY[0x263EF8330];
    v118[1] = 3221225472;
    v118[2] = sub_246B68D28;
    v118[3] = &unk_2651FBE38;
    id v116 = *(id *)(a1 + 40);
    id v119 = v115;
    id v120 = v116;
    id v117 = v115;
    dispatch_async(MEMORY[0x263EF83A0], v118);
  }
  else
  {
    v125[0] = MEMORY[0x263EF8330];
    v125[1] = 3221225472;
    v125[2] = sub_246B68D10;
    v125[3] = &unk_2651FBB10;
    id v126 = *(id *)(a1 + 40);
    dispatch_async(MEMORY[0x263EF83A0], v125);
    uint64_t v12 = v126;
  }
}

uint64_t sub_246B68CF8(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t sub_246B68D10(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t sub_246B68D28(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(void *)(a1 + 32), 0);
}

void sub_246B69A80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_246B69A9C(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v208 = *MEMORY[0x263EF8340];
  id v191 = a2;
  uint64_t v6 = objc_msgSend_objectForKeyedSubscript_(*(void **)(*(void *)(a1 + 32) + 48), v4, (uint64_t)v191, v5);
  objc_msgSend__generateOverrideLayersForEditedAsset_dstDir_(*(void **)(a1 + 32), v7, (uint64_t)v6, *(void *)(a1 + 40));
  uint64_t v11 = objc_msgSend_count(*(void **)(a1 + 48), v8, v9, v10);
  (*(void (**)(double))(*(void *)(a1 + 56) + 16))((double)(unint64_t)(a3 + 1) / (double)(unint64_t)v11);
  id v15 = objc_msgSend_asset(v6, v12, v13, v14);

  if (v15 || (objc_msgSend_addOriginalAssetAndMaskData(v6, v16, v17, v18) & 1) != 0)
  {
    float32x4_t v193 = objc_msgSend_dictionary(MEMORY[0x263EFF9A0], v16, v17, v18);
    long long v199 = 0u;
    long long v200 = 0u;
    long long v197 = 0u;
    long long v198 = 0u;
    objc_msgSend_allTimeScales(NTKParmesanTimeLayout, v19, v20, v21);
    id obj = (id)objc_claimAutoreleasedReturnValue();
    uint64_t v26 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v22, (uint64_t)&v197, (uint64_t)v207, 16);
    if (v26)
    {
      float32x4_t v192 = 0;
      uint64_t v195 = *(void *)v198;
LABEL_5:
      uint64_t v27 = 0;
      while (1)
      {
        if (*(void *)v198 != v195) {
          objc_enumerationMutation(obj);
        }
        int v28 = objc_msgSend_intValue(*(void **)(*((void *)&v197 + 1) + 8 * v27), v23, v24, v25);
        uint64_t v32 = objc_msgSend_userOverrides(v6, v29, v30, v31);
        uint64_t v33 = v28;
        uint64_t v36 = objc_msgSend_numberWithInteger_(NSNumber, v34, v28, v35);
        uint64_t v39 = objc_msgSend_objectForKeyedSubscript_(v32, v37, (uint64_t)v36, v38);

        if (v39) {
          break;
        }
        float v54 = objc_msgSend_asset(v6, v40, v41, v42);
        BOOL v55 = v54 == 0;

        if (v55)
        {
          uint64_t v75 = objc_msgSend_originalAsset(v6, v56, v57, v58);
          BOOL v76 = v75 == 0;

          if (v76)
          {
            float v43 = objc_msgSend_logObject(NTKParmesanFaceBundle, v77, v78, v79);
            if (os_log_type_enabled(v43, OS_LOG_TYPE_ERROR)) {
              sub_246C2AAE4(v6, (const char *)v33, v43, v130);
            }
            goto LABEL_54;
          }
          long long v80 = objc_msgSend_originalAsset(v6, v77, v78, v79);
          uint64_t v83 = objc_msgSend_layoutForScale_(v80, v81, v33, v82);
          float v43 = objc_msgSend_copy(v83, v84, v85, v86);

          uint64_t v90 = objc_msgSend_originalAsset(v6, v87, v88, v89);
          uint64_t v94 = objc_msgSend_resourceDirectory(v90, v91, v92, v93);

          float v95 = NSString;
          uint64_t v51 = v94;
          uint64_t v99 = objc_msgSend_fileSystemRepresentation(v51, v96, v97, v98);
          uint64_t v102 = objc_msgSend_stringWithFormat_(v95, v100, @"%s", v101, v99);
          char v104 = objc_msgSend_linkFromSrcDirectory_toDstDirectory_(v43, v103, (uint64_t)v102, *(void *)(a1 + 40));
          float32x4_t v108 = objc_msgSend_logObject(NTKParmesanFaceBundle, v105, v106, v107);
          float32x4_t v109 = v108;
          if ((v104 & 1) == 0)
          {
            if (os_log_type_enabled(v108, OS_LOG_TYPE_ERROR))
            {
              float32x4_t v186 = objc_msgSend_asset(v6, v131, v132, v133);
              objc_msgSend_localIdentifier(v186, v187, v188, v189);
              float32x4_t v190 = (char *)objc_claimAutoreleasedReturnValue();
              *(_DWORD *)buf = 138412802;
              CGRect v202 = v190;
              __int16 v203 = 2048;
              uint64_t v204 = v33;
              __int16 v205 = 2112;
              v206 = v43;
              _os_log_error_impl(&dword_246B51000, v109, OS_LOG_TYPE_ERROR, "Failed to save asset: %@ scale: %ld layout: %@", buf, 0x20u);
            }
            goto LABEL_54;
          }
          if (os_log_type_enabled(v108, OS_LOG_TYPE_DEBUG))
          {
            *(_DWORD *)buf = 134218242;
            CGRect v202 = (const char *)v33;
            __int16 v203 = 2112;
            uint64_t v204 = (uint64_t)v43;
            _os_log_debug_impl(&dword_246B51000, v109, OS_LOG_TYPE_DEBUG, "  layout for %ld (new): %@", buf, 0x16u);
          }

          goto LABEL_23;
        }
        uint64_t v59 = objc_msgSend_asset(v6, v56, v57, v58);
        float v62 = objc_msgSend_layoutForScale_((void *)v59, v60, v33, v61);
        float v43 = objc_msgSend_copy(v62, v63, v64, v65);

        uint64_t v69 = objc_msgSend_resourceDirectory(*(void **)(a1 + 32), v66, v67, v68);
        LOBYTE(v59) = objc_msgSend_linkFromSrcDirectory_toDstDirectory_(v43, v70, (uint64_t)v69, *(void *)(a1 + 40));

        uint64_t v74 = objc_msgSend_logObject(NTKParmesanFaceBundle, v71, v72, v73);
        uint64_t v51 = v74;
        if ((v59 & 1) == 0)
        {
          if (os_log_type_enabled(v74, OS_LOG_TYPE_ERROR))
          {
            float32x4_t v181 = objc_msgSend_asset(v6, v123, v124, v125);
            objc_msgSend_localIdentifier(v181, v182, v183, v184);
            float32x4_t v185 = (char *)objc_claimAutoreleasedReturnValue();
            *(_DWORD *)buf = 138412802;
            CGRect v202 = v185;
            __int16 v203 = 2048;
            uint64_t v204 = v33;
            __int16 v205 = 2112;
            v206 = v43;
            _os_log_error_impl(&dword_246B51000, v51, OS_LOG_TYPE_ERROR, "Failed to save asset: %@ scale: %ld layout: %@", buf, 0x20u);
          }
          goto LABEL_54;
        }
        if (os_log_type_enabled(v74, OS_LOG_TYPE_DEBUG))
        {
          *(_DWORD *)buf = 134218242;
          CGRect v202 = (const char *)v33;
          __int16 v203 = 2112;
          uint64_t v204 = (uint64_t)v43;
          uint64_t v52 = v51;
          uint64_t v53 = "  layout for %ld (current): %@";
LABEL_17:
          _os_log_debug_impl(&dword_246B51000, v52, OS_LOG_TYPE_DEBUG, v53, buf, 0x16u);
        }
LABEL_23:

        if (v43)
        {
          float32x4_t v113 = objc_msgSend_timeLayout(v43, v110, v111, v112);
          objc_msgSend_setObject_forKeyedSubscript_(v193, v114, (uint64_t)v43, (uint64_t)v113);
        }
        else
        {
          float32x4_t v113 = objc_msgSend_logObject(NTKParmesanFaceBundle, v110, v111, v112);
          if (os_log_type_enabled(v113, OS_LOG_TYPE_ERROR))
          {
            *(_DWORD *)buf = 136315394;
            CGRect v202 = "-[NTKCParmesanPhotosEditor _copyOrTranscodeAssetWithIds:to:shouldPurgeOriginalData:progress:completio"
                   "n:]_block_invoke";
            __int16 v203 = 2048;
            uint64_t v204 = v33;
            _os_log_error_impl(&dword_246B51000, v113, OS_LOG_TYPE_ERROR, "%s: No layout found for time scale: %ld", buf, 0x16u);
          }
        }

        if (v26 == ++v27)
        {
          uint64_t v26 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v23, (uint64_t)&v197, (uint64_t)v207, 16);
          if (v26) {
            goto LABEL_5;
          }
          goto LABEL_31;
        }
      }
      float v43 = objc_msgSend__makeLayoutForEditedAsset_userOverride_(*(void **)(a1 + 32), v40, (uint64_t)v6, (uint64_t)v39);
      if (objc_msgSend_lastEditedUserOverride(v6, v44, v45, v46) == v33)
      {
        uint64_t v50 = objc_msgSend_timeLayout(v43, v47, v48, v49);

        float32x4_t v192 = (void *)v50;
      }
      uint64_t v51 = objc_msgSend_logObject(NTKParmesanFaceBundle, v47, v48, v49);
      if (!os_log_type_enabled(v51, OS_LOG_TYPE_DEBUG)) {
        goto LABEL_23;
      }
      *(_DWORD *)buf = 134218242;
      CGRect v202 = (const char *)v33;
      __int16 v203 = 2112;
      uint64_t v204 = (uint64_t)v43;
      uint64_t v52 = v51;
      uint64_t v53 = "  layout for %ld (override): %@";
      goto LABEL_17;
    }
    float32x4_t v192 = 0;
LABEL_31:

    float32x4_t v118 = objc_msgSend_asset(v6, v115, v116, v117);
    long long v122 = v118;
    if (v118)
    {
      id obj = v118;
    }
    else
    {
      objc_msgSend_originalAsset(v6, v119, v120, v121);
      id obj = (id)objc_claimAutoreleasedReturnValue();
    }

    float v43 = objc_msgSend_fileURLWithPath_(NSURL, v134, *(void *)(a1 + 40), v135);
    if (v192)
    {
      id v139 = v192;
    }
    else
    {
      objc_msgSend_preferredTimeLayout(obj, v136, v137, v138);
      id v139 = (id)objc_claimAutoreleasedReturnValue();
    }
    float32x4_t v142 = v139;
    float32x4_t v143 = objc_msgSend_objectForKeyedSubscript_(v193, v140, (uint64_t)v139, v141);
    BOOL v144 = v143 == 0;

    if (v144)
    {
      float32x4_t v148 = objc_msgSend_logObject(NTKParmesanFaceBundle, v145, v146, v147);
      if (os_log_type_enabled(v148, OS_LOG_TYPE_ERROR)) {
        sub_246C2AA70();
      }
    }
    float32x4_t v149 = [NTKParmesanAsset alloc];
    float32x4_t v153 = objc_msgSend_localIdentifier(obj, v150, v151, v152);
    id v157 = objc_msgSend_modificationDate(obj, v154, v155, v156);
    objc_msgSend_presentationSize(obj, v158, v159, v160);
    double v162 = v161;
    double v164 = v163;
    float32x4_t v168 = objc_msgSend_videoInfo(obj, v165, v166, v167);
    float32x4_t v172 = objc_msgSend_accessibilityDescription(obj, v169, v170, v171);
    float32x4_t v174 = objc_msgSend_initWithLocalIdentifier_modificationDate_presentationSize_videoInfo_resourceDirectory_preferredTimeLayout_layouts_accessibilityDescription_(v149, v173, (uint64_t)v153, (uint64_t)v157, v168, v43, v142, v193, v162, v164, v172);

    if (*(unsigned char *)(a1 + 72)) {
      objc_msgSend_purgeOriginalAssetAndMaskData(v6, v175, v176, v177);
    }
    float32x4_t v178 = objc_msgSend_asDictionary(v174, v175, v176, v177);
    objc_msgSend_addObject_(*(void **)(*(void *)(*(void *)(a1 + 64) + 8) + 40), v179, (uint64_t)v178, v180);

LABEL_54:
    int8x16_t v127 = (char *)v193;
  }
  else
  {
    objc_msgSend_logObject(NTKParmesanFaceBundle, v16, v17, v18);
    id v126 = (char *)objc_claimAutoreleasedReturnValue();
    int8x16_t v127 = v126;
    if (os_log_type_enabled((os_log_t)v126, OS_LOG_TYPE_ERROR))
    {
      sub_246C2ABBC(v6, v126, v128, v129);
      int8x16_t v127 = v126;
    }
  }
}

void sub_246B6ADCC(void *a1, uint64_t a2, uint64_t a3, const char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint8_t a9)
{
  _os_log_error_impl(a1, v9, OS_LOG_TYPE_ERROR, a4, &a9, 0x16u);
}

void sub_246B6ADEC(void *a1, uint64_t a2, os_log_t log, const char *a4, ...)
{
  va_start(va, a4);
  _os_log_error_impl(a1, log, OS_LOG_TYPE_ERROR, a4, (uint8_t *)va, 0x20u);
}

void sub_246B6AE28(void *a1, NSObject *a2, uint64_t a3, const char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint8_t a9)
{
  _os_log_debug_impl(a1, a2, OS_LOG_TYPE_DEBUG, a4, &a9, 0x16u);
}

void sub_246B6AE58(void *a1, uint64_t a2, uint64_t a3, const char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint8_t a9)
{
  _os_log_debug_impl(a1, v9, OS_LOG_TYPE_DEBUG, a4, &a9, 0x2Au);
}

void sub_246B6AE78(void *a1, uint64_t a2, os_log_t log, const char *a4, ...)
{
  va_start(va, a4);
  _os_log_debug_impl(a1, log, OS_LOG_TYPE_DEBUG, a4, (uint8_t *)va, 0x20u);
}

void sub_246B6CA78(uint64_t a1)
{
  id v1 = objc_alloc(*(Class *)(a1 + 32));
  uint64_t v5 = objc_msgSend__init(v1, v2, v3, v4);
  uint64_t v6 = (void *)qword_2691D8E50;
  qword_2691D8E50 = v5;
}

void sub_246B6CC60(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_246B6CC7C(uint64_t a1)
{
  uint64_t v16 = *MEMORY[0x263EF8340];
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 40));
  if (WeakRetained)
  {
    uint64_t v5 = objc_msgSend_logObject(NTKParmesanFaceBundle, v1, v2, v3);
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v6 = objc_opt_class();
      uint64_t v7 = *MEMORY[0x263F5DEA8];
      int v12 = 138412546;
      uint64_t v13 = v6;
      __int16 v14 = 2080;
      uint64_t v15 = v7;
      id v8 = v6;
      _os_log_impl(&dword_246B51000, v5, OS_LOG_TYPE_DEFAULT, "%@: got notification %s", (uint8_t *)&v12, 0x16u);
    }
    WeakRetained[8] = 0;
    objc_msgSend__queue_notifyObserversShuffleUpdated(WeakRetained, v9, v10, v11);
  }
}

void sub_246B6CEE4(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(void *)(a1 + 32);
  id v8 = *(NSObject **)(v7 + 32);
  v11[0] = MEMORY[0x263EF8330];
  v11[1] = 3221225472;
  v11[2] = sub_246B6CFC4;
  v11[3] = &unk_2651FC118;
  id v12 = v6;
  id v13 = v5;
  uint64_t v14 = v7;
  id v15 = *(id *)(a1 + 40);
  id v9 = v5;
  id v10 = v6;
  dispatch_async(v8, v11);
}

void sub_246B6CFC4(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v36 = *MEMORY[0x263EF8340];
  uint64_t v5 = a1 + 32;
  if (*(void *)(a1 + 32) || (uint64_t v14 = *(void **)(a1 + 40)) == 0)
  {
    id v6 = objc_msgSend_logObject(NTKParmesanFaceBundle, a2, a3, a4);
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR)) {
      sub_246C2AE90(v5, v6, v7, v8, v9, v10, v11, v12);
    }

    uint64_t v13 = *(void *)(a1 + 56);
    if (v13) {
      (*(void (**)(void))(v13 + 16))();
    }
  }
  else
  {
    v34[0] = 0;
    v34[1] = v34;
    v34[2] = 0x2020000000;
    v34[3] = 0;
    if (objc_msgSend_count(v14, a2, a3, a4))
    {
      long long v32 = 0u;
      long long v33 = 0u;
      long long v30 = 0u;
      long long v31 = 0u;
      id obj = *(id *)(a1 + 40);
      uint64_t v16 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v15, (uint64_t)&v30, (uint64_t)v35, 16);
      if (v16)
      {
        uint64_t v17 = *(void *)v31;
        do
        {
          uint64_t v18 = 0;
          do
          {
            if (*(void *)v31 != v17) {
              objc_enumerationMutation(obj);
            }
            uint64_t v19 = *(void *)(*((void *)&v30 + 1) + 8 * v18);
            uint64_t v20 = *(void **)(a1 + 40);
            uint64_t v21 = *(void **)(a1 + 48);
            v26[0] = MEMORY[0x263EF8330];
            v26[1] = 3221225472;
            void v26[2] = sub_246B6D240;
            v26[3] = &unk_2651FC0F0;
            v26[4] = v21;
            v26[5] = v19;
            uint64_t v29 = v34;
            id v27 = v20;
            id v28 = *(id *)(a1 + 56);
            objc_msgSend__queue_createResourceDirectoryForShuffle_completion_(v21, v22, v19, (uint64_t)v26);

            ++v18;
          }
          while (v16 != v18);
          uint64_t v16 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v23, (uint64_t)&v30, (uint64_t)v35, 16);
        }
        while (v16);
      }
    }
    else
    {
      objc_storeStrong((id *)(*(void *)(a1 + 48) + 16), *(id *)(a1 + 40));
      *(unsigned char *)(*(void *)(a1 + 48) + 8) = 1;
      uint64_t v24 = *(void *)(a1 + 56);
      if (v24) {
        (*(void (**)(void))(v24 + 16))();
      }
    }
    _Block_object_dispose(v34, 8);
  }
}

void sub_246B6D214(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_246B6D240(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(NSObject **)(*(void *)(a1 + 32) + 32);
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B6D340;
  block[3] = &unk_2651FC0C8;
  id v11 = v5;
  id v12 = v6;
  long long v13 = *(_OWORD *)(a1 + 32);
  uint64_t v16 = *(void *)(a1 + 64);
  id v14 = *(id *)(a1 + 48);
  id v15 = *(id *)(a1 + 56);
  id v8 = v6;
  id v9 = v5;
  dispatch_async(v7, block);
}

uint64_t sub_246B6D340(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = *(void *)(a1 + 32);
  if (v5 && !*(void *)(a1 + 40))
  {
    uint64_t v10 = *(void **)(*(void *)(a1 + 48) + 24);
    id v11 = objc_msgSend_uuidString(*(void **)(a1 + 56), a2, a3, a4);
    objc_msgSend_setObject_forKeyedSubscript_(v10, v12, v5, (uint64_t)v11);
  }
  else
  {
    id v6 = objc_msgSend_logObject(NTKParmesanFaceBundle, a2, a3, a4);
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR)) {
      sub_246C2AF00();
    }
  }
  uint64_t v13 = ++*(void *)(*(void *)(*(void *)(a1 + 80) + 8) + 24);
  uint64_t result = objc_msgSend_count(*(void **)(a1 + 64), v7, v8, v9);
  if (v13 == result)
  {
    objc_storeStrong((id *)(*(void *)(a1 + 48) + 16), *(id *)(a1 + 64));
    *(unsigned char *)(*(void *)(a1 + 48) + 8) = 1;
    uint64_t result = *(void *)(a1 + 72);
    if (result) {
      return (*(uint64_t (**)(void))(result + 16))();
    }
  }
  return result;
}

uint64_t sub_246B6D554(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  return objc_msgSend_addObject_(*(void **)(*(void *)(a1 + 32) + 40), a2, *(void *)(a1 + 40), a4);
}

uint64_t sub_246B6D5F8(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  return objc_msgSend_removeObject_(*(void **)(*(void *)(a1 + 32) + 40), a2, *(void *)(a1 + 40), a4);
}

void sub_246B6D730(uint64_t a1)
{
  id WeakRetained = (void **)objc_loadWeakRetained((id *)(a1 + 32));
  if (WeakRetained)
  {
    uint64_t v4 = WeakRetained;
    objc_msgSend_enumerateObjectsUsingBlock_(WeakRetained[5], v2, (uint64_t)&unk_26FB1C200, v3);
    id WeakRetained = v4;
  }
}

uint64_t sub_246B6D780(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return MEMORY[0x270F9A6D0](a2, sel_shuffleDidUpdate, a3, a4);
}

void sub_246B6D9CC(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(NSObject **)(*(void *)(a1 + 32) + 32);
  v12[0] = MEMORY[0x263EF8330];
  v12[1] = 3221225472;
  v12[2] = sub_246B6DAF0;
  v12[3] = &unk_2651FC1D8;
  id v13 = *(id *)(a1 + 40);
  id v14 = v5;
  id v15 = v6;
  id v19 = *(id *)(a1 + 64);
  id v8 = *(id *)(a1 + 48);
  uint64_t v9 = *(void *)(a1 + 32);
  id v16 = v8;
  uint64_t v17 = v9;
  char v20 = *(unsigned char *)(a1 + 72);
  id v18 = *(id *)(a1 + 56);
  id v10 = v6;
  id v11 = v5;
  dispatch_async(v7, v12);
}

void sub_246B6DAF0(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v85 = *MEMORY[0x263EF8340];
  id v5 = objc_msgSend_logObject(NTKParmesanFaceBundle, a2, a3, a4);
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = *(void **)(a1 + 32);
    *(_DWORD *)buf = 138412290;
    uint64_t v82 = v6;
    _os_log_impl(&dword_246B51000, v5, OS_LOG_TYPE_DEFAULT, "_queue_createResourceDirectoryForShuffle: creating directory for shuffle at path %@", buf, 0xCu);
  }

  uint64_t v9 = *(void **)(a1 + 40);
  if (!v9 || *(void *)(a1 + 48))
  {
    (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
    return;
  }
  if (!objc_msgSend_count(v9, v7, 0, v8))
  {
    uint64_t v57 = objc_msgSend_logObject(NTKParmesanFaceBundle, v10, v11, v12);
    if (os_log_type_enabled(v57, OS_LOG_TYPE_ERROR)) {
      sub_246C2AF80(a1, v57, v58, v59, v60, v61, v62, v63);
    }

    id v13 = objc_msgSend_errorWithDomain_code_userInfo_(MEMORY[0x263F087E8], v64, @"com.apple.parmesan.galleryShuffle", 1, 0);
    (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
    goto LABEL_37;
  }
  id v13 = objc_msgSend__pickAssetFromShuffle_(*(void **)(a1 + 64), v10, *(void *)(a1 + 40), v12);
  uint64_t v17 = objc_msgSend_logObject(NTKParmesanFaceBundle, v14, v15, v16);
  if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
  {
    id v18 = *(void **)(a1 + 56);
    *(_DWORD *)buf = 138412546;
    uint64_t v82 = v13;
    __int16 v83 = 2112;
    long long v84 = v18;
    _os_log_impl(&dword_246B51000, v17, OS_LOG_TYPE_DEFAULT, "_queue_createResourceDirectoryForShuffle: selected asset %@ for shuffle %@", buf, 0x16u);
  }

  if (!*(unsigned char *)(a1 + 88)) {
    goto LABEL_28;
  }
  uint64_t v21 = (void **)(a1 + 32);
  double v22 = objc_msgSend_readerForResourceDirectory_(NTKParmesanAssetReader, v19, *(void *)(a1 + 32), v20);
  if (!objc_msgSend_count(v22, v23, v24, v25))
  {
LABEL_21:
    uint64_t v65 = objc_msgSend_logObject(NTKParmesanFaceBundle, v26, v27, v28);
    if (os_log_type_enabled(v65, OS_LOG_TYPE_DEFAULT))
    {
      int32x2_t v66 = *v21;
      *(_DWORD *)buf = 138412290;
      uint64_t v82 = v66;
      _os_log_impl(&dword_246B51000, v65, OS_LOG_TYPE_DEFAULT, "_queue_createResourceDirectoryForShuffle: clearing resource directory at path %@", buf, 0xCu);
    }

    uint64_t v67 = *(void **)(a1 + 72);
    uint64_t v68 = *(void *)(a1 + 32);
    id v80 = 0;
    char v70 = objc_msgSend_removeItemAtPath_error_(v67, v69, v68, (uint64_t)&v80);
    id v29 = v80;
    uint64_t v74 = objc_msgSend_logObject(NTKParmesanFaceBundle, v71, v72, v73);
    uint64_t v75 = v74;
    if (v29 || (v70 & 1) == 0)
    {
      if (os_log_type_enabled(v74, OS_LOG_TYPE_ERROR)) {
        sub_246C2AFF0();
      }

      uint64_t v79 = objc_msgSend_errorWithDomain_code_userInfo_(MEMORY[0x263F087E8], v78, @"com.apple.parmesan.galleryShuffle", 3, 0);
      (*(void (**)(void))(*(void *)(a1 + 80) + 16))();

      goto LABEL_35;
    }
    if (os_log_type_enabled(v74, OS_LOG_TYPE_DEFAULT))
    {
      BOOL v76 = *v21;
      *(_DWORD *)buf = 138412290;
      uint64_t v82 = v76;
      _os_log_impl(&dword_246B51000, v75, OS_LOG_TYPE_DEFAULT, "_queue_createResourceDirectoryForShuffle: cleared resource directory at path %@", buf, 0xCu);
    }

LABEL_28:
    if (objc_msgSend__createResourceDirectoryForShuffle_asset_at_(*(void **)(a1 + 64), v19, *(void *)(a1 + 56), (uint64_t)v13, *(void *)(a1 + 32)))
    {
      double v22 = objc_msgSend_errorWithDomain_code_userInfo_(MEMORY[0x263F087E8], v77, @"com.apple.parmesan.galleryShuffle", 2, 0);
    }
    else
    {
      double v22 = 0;
    }
    (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
    goto LABEL_36;
  }
  objc_msgSend_firstObject(v22, v26, v27, v28);
  id v29 = (id)objc_claimAutoreleasedReturnValue();
  long long v33 = objc_msgSend_localIdentifier(v13, v30, v31, v32);
  uint64_t v37 = objc_msgSend_localIdentifier(v29, v34, v35, v36);
  if ((objc_msgSend_isEqualToString_(v33, v38, (uint64_t)v37, v39) & 1) == 0)
  {

    goto LABEL_20;
  }
  float v43 = objc_msgSend_modificationDate(v13, v40, v41, v42);
  uint64_t v47 = objc_msgSend_modificationDate(v29, v44, v45, v46);
  objc_msgSend_timeIntervalSinceDate_(v43, v48, (uint64_t)v47, v49);
  double v51 = v50;

  if (v51 >= 2.0)
  {
LABEL_20:

    goto LABEL_21;
  }
  BOOL v55 = objc_msgSend_logObject(NTKParmesanFaceBundle, v52, v53, v54);
  if (os_log_type_enabled(v55, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v56 = *v21;
    *(_DWORD *)buf = 138412546;
    uint64_t v82 = v56;
    __int16 v83 = 2112;
    long long v84 = v13;
    _os_log_impl(&dword_246B51000, v55, OS_LOG_TYPE_DEFAULT, "_queue_createResourceDirectoryForShuffle: early return; path %@ already contains asset %@",
      buf,
      0x16u);
  }

  (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
LABEL_35:

LABEL_36:
LABEL_37:
}

void sub_246B6E028()
{
  NTKCacheDirectory();
  id v4 = (id)objc_claimAutoreleasedReturnValue();
  uint64_t v2 = objc_msgSend_stringByAppendingPathComponent_(v4, v0, @"PhotosFaceSuggestedShuffles", v1);
  uint64_t v3 = (void *)qword_2691D8E60;
  qword_2691D8E60 = v2;
}

uint64_t sub_246B6E2B0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return MEMORY[0x270F9A6D0](a2, sel_compare_, a3, a4);
}

void sub_246B6EAC4(void *a1, NSObject *a2, uint64_t a3, const char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint8_t a9)
{
  _os_log_error_impl(a1, a2, OS_LOG_TYPE_ERROR, a4, &a9, 0xCu);
}

uint64_t sub_246B6EBA4()
{
  memset(&v2, 0, sizeof(v2));
  NTKImagePresentationTransform();
  CGAffineTransformInvert(&v2, &v1);
  return NTKImagePresentationSize();
}

uint64_t sub_246B6EC18()
{
  NTKCGImagePropertyOrientationToUIImageOrientation();

  return sub_246B6EBA4();
}

void sub_246B6EC58(CGImage *a1, uint64_t a2, uint64_t a3, void *a4, int *a5, int *a6, int *a7)
{
  CGImageGetWidth(a1);
  CGImageGetHeight(a1);
  sub_246B6EBA4();
  sub_246B6EBA4();
  CGFloat v9 = v8;
  CGFloat v11 = v10;
  int v12 = (int)v8;
  int v30 = (int)v8;
  int v13 = (int)v10;
  ColorSpace = CGImageGetColorSpace(a1);
  int NumberOfComponents = CGColorSpaceGetNumberOfComponents(ColorSpace);
  int v16 = 8 * NumberOfComponents + 14;
  if ((NumberOfComponents & 0x10000000) == 0) {
    int v16 = (8 * NumberOfComponents) | 7;
  }
  int v17 = (v16 >> 3) * v12;
  memset(&v41, 0, sizeof(v41));
  NTKImagePresentationTransform();
  long long v39 = 0u;
  long long v40 = 0u;
  long long v38 = 0u;
  NTKImagePresentationTransform();
  memset(&v37, 0, sizeof(v37));
  memset(&t1, 0, sizeof(t1));
  CGAffineTransformInvert(&t2, &t1);
  CGAffineTransform t1 = v41;
  CGAffineTransformConcat(&v37, &t1, &t2);
  objc_msgSend_dataWithLength_(MEMORY[0x263EFF990], v18, v17 * v13, v19);
  id v20 = objc_claimAutoreleasedReturnValue();
  uint64_t v24 = objc_msgSend_mutableBytes(v20, v21, v22, v23);
  size_t BitsPerComponent = CGImageGetBitsPerComponent(a1);
  uint64_t v26 = CGImageGetColorSpace(a1);
  uint32_t AlphaInfo = CGImageGetAlphaInfo(a1);
  uint64_t v28 = CGBitmapContextCreate(v24, v12, v13, BitsPerComponent, v17, v26, AlphaInfo);
  CGAffineTransform t1 = v37;
  sub_246B6EE8C(v28, a1, &t1, 0, MEMORY[0x263F000D0], v9, v11);
  CGContextRelease(v28);
  id v29 = v20;
  *a4 = v29;
  *a5 = v30;
  *a6 = v13;
  *a7 = v17;
}

void sub_246B6EE8C(CGContext *a1, CGImage *a2, _OWORD *a3, CGImage *a4, _OWORD *a5, CGFloat a6, CGFloat a7)
{
  CGContextSaveGState(a1);
  if (a4)
  {
    long long v14 = a5[1];
    *(_OWORD *)&v17.a = *a5;
    *(_OWORD *)&v17.c = v14;
    *(_OWORD *)&v17.tdouble x = a5[2];
    memset(&v18, 0, sizeof(v18));
    sub_246B6F05C(a4, &v17, (uint64_t)&v18);
    CGAffineTransform v16 = v18;
    memset(&v17, 0, sizeof(v17));
    CGAffineTransformInvert(&v17, &v16);
    CGAffineTransform v16 = v18;
    CGContextConcatCTM(a1, &v16);
    CGAffineTransform v16 = v17;
    v19.origin.double x = 0.0;
    v19.origin.double y = 0.0;
    v19.size.width = a6;
    v19.size.height = a7;
    CGRect v20 = CGRectApplyAffineTransform(v19, &v16);
    CGContextClipToMask(a1, v20, a4);
    CGAffineTransform v16 = v17;
    CGContextConcatCTM(a1, &v16);
  }
  long long v15 = a3[1];
  *(_OWORD *)&v17.a = *a3;
  *(_OWORD *)&v17.c = v15;
  *(_OWORD *)&v17.tdouble x = a3[2];
  memset(&v18, 0, sizeof(v18));
  sub_246B6F05C(a2, &v17, (uint64_t)&v18);
  CGAffineTransform v16 = v18;
  memset(&v17, 0, sizeof(v17));
  CGAffineTransformInvert(&v17, &v16);
  CGAffineTransform v16 = v18;
  CGContextConcatCTM(a1, &v16);
  CGAffineTransform v16 = v17;
  v21.origin.double x = 0.0;
  v21.origin.double y = 0.0;
  v21.size.width = a6;
  v21.size.height = a7;
  CGRect v22 = CGRectApplyAffineTransform(v21, &v16);
  CGContextDrawImage(a1, v22, a2);
  CGContextRestoreGState(a1);
}

CGFloat sub_246B6F05C@<D0>(CGImage *a1@<X0>, _OWORD *a2@<X1>, uint64_t a3@<X8>)
{
  CGFloat Height = (double)CGImageGetHeight(a1);
  uint64_t v6 = MEMORY[0x263F000D0];
  long long v7 = *MEMORY[0x263F000D0];
  long long v8 = *(_OWORD *)(MEMORY[0x263F000D0] + 16);
  *(_OWORD *)a3 = *MEMORY[0x263F000D0];
  *(_OWORD *)(a3 + 16) = v8;
  long long v9 = *(_OWORD *)(v6 + 32);
  *(_OWORD *)(a3 + 32) = v9;
  *(_OWORD *)&t1.a = v7;
  *(_OWORD *)&t1.c = v8;
  *(_OWORD *)&t1.tdouble x = v9;
  t2.b = 0.0;
  t2.c = 0.0;
  t2.a = 1.0;
  *(_OWORD *)&t2.d = xmmword_246C32CD0;
  t2.tdouble y = Height;
  CGAffineTransformConcat((CGAffineTransform *)a3, &t1, &t2);
  long long v10 = *(_OWORD *)(a3 + 16);
  *(_OWORD *)&t2.a = *(_OWORD *)a3;
  *(_OWORD *)&t2.c = v10;
  *(_OWORD *)&t2.tdouble x = *(_OWORD *)(a3 + 32);
  long long v11 = a2[1];
  *(_OWORD *)&v16.a = *a2;
  *(_OWORD *)&v16.c = v11;
  *(_OWORD *)&v16.tdouble x = a2[2];
  CGAffineTransformConcat(&t1, &t2, &v16);
  long long v12 = *(_OWORD *)&t1.c;
  *(_OWORD *)a3 = *(_OWORD *)&t1.a;
  *(_OWORD *)(a3 + 16) = v12;
  *(_OWORD *)(a3 + 32) = *(_OWORD *)&t1.tx;
  long long v13 = *(_OWORD *)(a3 + 16);
  *(_OWORD *)&t2.a = *(_OWORD *)a3;
  *(_OWORD *)&t2.c = v13;
  *(_OWORD *)&t2.tdouble x = *(_OWORD *)(a3 + 32);
  v16.b = 0.0;
  v16.c = 0.0;
  v16.a = 1.0;
  *(_OWORD *)&v16.d = xmmword_246C32CD0;
  v16.tdouble y = Height;
  CGAffineTransformConcat(&t1, &t2, &v16);
  long long v14 = *(_OWORD *)&t1.c;
  *(_OWORD *)a3 = *(_OWORD *)&t1.a;
  *(_OWORD *)(a3 + 16) = v14;
  CGFloat result = t1.tx;
  *(_OWORD *)(a3 + 32) = *(_OWORD *)&t1.tx;
  return result;
}

CGImageRef sub_246B6F174(CGImage *a1, uint64_t a2, CGImage *a3)
{
  CGImageGetWidth(a1);
  CGImageGetHeight(a1);
  NTKCGImagePropertyOrientationToUIImageOrientation();
  NTKImagePresentationTransform();
  NTKImagePresentationSize();
  double v6 = rint(v5);
  double v8 = rint(v7);
  ColorSpace = CGImageGetColorSpace(a1);
  size_t v10 = CGColorSpaceGetNumberOfComponents(ColorSpace) & 0x1FFFFFFFFFFFFFFFLL;
  long long v14 = objc_msgSend_mutableBytes(0, v11, v12, v13);
  long long v15 = CGBitmapContextCreate(v14, (unint64_t)v6, (unint64_t)v8, 8uLL, (unint64_t)v6 + (unint64_t)v6 * v10, ColorSpace, 1u);
  CGImageGetWidth(a3);
  CGImageGetHeight(a3);
  NTKCGImagePropertyOrientationToUIImageOrientation();
  NTKImagePresentationTransform();
  memset(v19, 0, sizeof(v19));
  memset(v18, 0, sizeof(v18));
  sub_246B6EE8C(v15, a1, v19, a3, v18, (double)(unint64_t)v6, (double)(unint64_t)v8);
  CGImageRef Image = CGBitmapContextCreateImage(v15);
  CGContextRelease(v15);
  return Image;
}

id sub_246B6F318(CGImage *a1, uint64_t a2, CGImage *a3)
{
  uint64_t v3 = sub_246B6F174(a1, a2, a3);
  id v4 = (void *)MEMORY[0x263F827E8];
  uint64_t v5 = NTKCGImagePropertyOrientationToUIImageOrientation();
  double v7 = objc_msgSend_imageWithCGImage_scale_orientation_(v4, v6, (uint64_t)v3, v5, 1.0);
  CGImageRelease(v3);

  return v7;
}

uint64_t sub_246B6F390(const __CFData *a1)
{
  CGAffineTransform v1 = CGImageSourceCreateWithData(a1, 0);
  if (!v1) {
    return 1;
  }
  CGAffineTransform v2 = v1;
  CFDictionaryRef v3 = CGImageSourceCopyPropertiesAtIndex(v1, 0, 0);
  uint64_t v4 = 1;
  if (v3)
  {
    CFDictionaryRef v5 = v3;
    CFNumberRef Value = (const __CFNumber *)CFDictionaryGetValue(v3, (const void *)*MEMORY[0x263F0F4C8]);
    unsigned int valuePtr = 1;
    if (Value)
    {
      if (CFNumberGetValue(Value, kCFNumberIntType, &valuePtr)) {
        uint64_t v4 = valuePtr;
      }
      else {
        uint64_t v4 = 1;
      }
    }
    CFRelease(v5);
  }
  CFRelease(v2);
  size_t v10 = objc_msgSend_logObject(NTKParmesanFaceBundle, v7, v8, v9);
  if (os_log_type_enabled(v10, OS_LOG_TYPE_DEBUG)) {
    sub_246C2B148(v4, v10);
  }

  return v4;
}

CGImageRef sub_246B6F464(const __CFData *a1)
{
  v8[1] = *MEMORY[0x263EF8340];
  CGImageSourceRef v1 = CGImageSourceCreateWithData(a1, 0);
  if (!v1) {
    return 0;
  }
  CFDictionaryRef v3 = v1;
  uint64_t v7 = *MEMORY[0x263F0F600];
  v8[0] = MEMORY[0x263EFFA80];
  objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v2, (uint64_t)v8, (uint64_t)&v7, 1);
  CFDictionaryRef v4 = (const __CFDictionary *)objc_claimAutoreleasedReturnValue();
  ImageAtIndedouble x = CGImageSourceCreateImageAtIndex(v3, 0, v4);
  CFRelease(v3);

  return ImageAtIndex;
}

CGImageDestination *sub_246B6F534(void *a1, double a2)
{
  v39[3] = *MEMORY[0x263EF8340];
  id v3 = a1;
  objc_msgSend_data(MEMORY[0x263EFF990], v4, v5, v6);
  uint64_t v7 = (__CFData *)objc_claimAutoreleasedReturnValue();
  objc_msgSend_identifier((void *)*MEMORY[0x263F1DAE8], v8, v9, v10);
  long long v11 = (__CFString *)objc_claimAutoreleasedReturnValue();
  uint64_t v12 = CGImageDestinationCreateWithData(v7, v11, 1uLL, 0);

  if (v12)
  {
    objc_msgSend_imageOrientation(v3, v13, v14, v15);
    uint64_t v16 = NTKUIImageOrientationToCGImagePropertyOrientation();
    uint64_t v17 = *MEMORY[0x263F0F020];
    v39[0] = MEMORY[0x263EFFA88];
    uint64_t v18 = *MEMORY[0x263F0F4C8];
    v38[0] = v17;
    v38[1] = v18;
    CGRect v21 = objc_msgSend_numberWithUnsignedInt_(NSNumber, v19, v16, v20);
    v39[1] = v21;
    v38[2] = *MEMORY[0x263F0EFE8];
    uint64_t v25 = objc_msgSend_numberWithDouble_(NSNumber, v22, v23, v24, a2);
    v39[2] = v25;
    objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v26, (uint64_t)v39, (uint64_t)v38, 3);
    CFDictionaryRef v27 = (const __CFDictionary *)objc_claimAutoreleasedReturnValue();

    id v28 = v3;
    uint64_t v32 = (CGImage *)objc_msgSend_CGImage(v28, v29, v30, v31);
    CGImageDestinationAddImage(v12, v32, v27);
    CGImageDestinationFinalize(v12);
    CFRelease(v12);
    if (objc_msgSend_length(v7, v33, v34, v35)) {
      uint64_t v36 = v7;
    }
    else {
      uint64_t v36 = 0;
    }
    uint64_t v12 = v36;
  }

  return v12;
}

id kParmesanColorSlots(uint64_t a1, const char *a2)
{
  v4[2] = *MEMORY[0x263EF8340];
  v4[0] = @"style-color";
  v4[1] = @"time-color";
  CGAffineTransform v2 = objc_msgSend_arrayWithObjects_count_(MEMORY[0x263EFF8C0], a2, (uint64_t)v4, 2);

  return v2;
}

uint64_t duotone(uint64_t a1, const char *a2)
{
  return objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], a2, a1, (uint64_t)a2);
}

void sub_246B704B8(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = objc_msgSend_dictionary(MEMORY[0x263EFF9A0], a2, a3, a4);
  uint64_t v6 = (void *)qword_2691D8E78;
  qword_2691D8E78 = v5;

  uint64_t v7 = NSNumber;
  uint64_t v8 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v9 = *(void *)(v8 + 24);
  *(void *)(v8 + 24) = v9 + 1;
  uint64_t v12 = objc_msgSend_numberWithInteger_(v7, v10, v9, v11);
  uint64_t v13 = (void *)qword_2691D8E78;
  uint64_t v2026 = *MEMORY[0x263F57BC0];
  uint64_t v2035 = *MEMORY[0x263F57B30];
  uint64_t v15 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v14, *MEMORY[0x263F57BC0], *MEMORY[0x263F57B30]);
  objc_msgSend_setObject_forKeyedSubscript_(v13, v16, (uint64_t)v12, (uint64_t)v15);

  uint64_t v17 = NSNumber;
  uint64_t v18 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v19 = *(void *)(v18 + 24);
  *(void *)(v18 + 24) = v19 + 1;
  CGRect v22 = objc_msgSend_numberWithInteger_(v17, v20, v19, v21);
  uint64_t v23 = (void *)qword_2691D8E78;
  uint64_t v24 = *MEMORY[0x263F57BC8];
  uint64_t v25 = *MEMORY[0x263F57F60];
  uint64_t v2023 = *MEMORY[0x263F57BC8];
  uint64_t v2070 = *MEMORY[0x263F57F60];
  CFDictionaryRef v27 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v26, *MEMORY[0x263F57BC8], *MEMORY[0x263F57F60]);
  objc_msgSend_setObject_forKeyedSubscript_(v23, v28, (uint64_t)v22, (uint64_t)v27);

  id v29 = NSNumber;
  uint64_t v30 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v31 = *(void *)(v30 + 24);
  *(void *)(v30 + 24) = v31 + 1;
  uint64_t v34 = objc_msgSend_numberWithInteger_(v29, v32, v31, v33);
  uint64_t v35 = (void *)qword_2691D8E78;
  uint64_t v2046 = *MEMORY[0x263F57F68];
  CGAffineTransform v37 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v36, v25, *MEMORY[0x263F57F68]);
  objc_msgSend_setObject_forKeyedSubscript_(v35, v38, (uint64_t)v34, (uint64_t)v37);

  long long v39 = NSNumber;
  uint64_t v40 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v41 = *(void *)(v40 + 24);
  *(void *)(v40 + 24) = v41 + 1;
  id v44 = objc_msgSend_numberWithInteger_(v39, v42, v41, v43);
  uint64_t v45 = (void *)qword_2691D8E78;
  uint64_t v2068 = *MEMORY[0x263F57BB0];
  uint64_t v47 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v46, v24, *MEMORY[0x263F57BB0]);
  objc_msgSend_setObject_forKeyedSubscript_(v45, v48, (uint64_t)v44, (uint64_t)v47);

  uint64_t v49 = NSNumber;
  uint64_t v50 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v51 = *(void *)(v50 + 24);
  *(void *)(v50 + 24) = v51 + 1;
  uint64_t v54 = objc_msgSend_numberWithInteger_(v49, v52, v51, v53);
  BOOL v55 = (void *)qword_2691D8E78;
  uint64_t v2012 = *MEMORY[0x263F57DB8];
  uint64_t v2020 = *MEMORY[0x263F57B28];
  uint64_t v57 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v56, *MEMORY[0x263F57DB8], *MEMORY[0x263F57B28]);
  objc_msgSend_setObject_forKeyedSubscript_(v55, v58, (uint64_t)v54, (uint64_t)v57);

  uint64_t v59 = NSNumber;
  uint64_t v60 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v61 = *(void *)(v60 + 24);
  *(void *)(v60 + 24) = v61 + 1;
  uint64_t v64 = objc_msgSend_numberWithInteger_(v59, v62, v61, v63);
  uint64_t v65 = (void *)qword_2691D8E78;
  uint64_t v2014 = *MEMORY[0x263F57B68];
  uint64_t v2065 = *MEMORY[0x263F57B70];
  uint64_t v67 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v66, *MEMORY[0x263F57B68], *MEMORY[0x263F57B70]);
  objc_msgSend_setObject_forKeyedSubscript_(v65, v68, (uint64_t)v64, (uint64_t)v67);

  uint64_t v69 = NSNumber;
  uint64_t v70 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v71 = *(void *)(v70 + 24);
  *(void *)(v70 + 24) = v71 + 1;
  uint64_t v74 = objc_msgSend_numberWithInteger_(v69, v72, v71, v73);
  uint64_t v75 = (void *)qword_2691D8E78;
  uint64_t v76 = *MEMORY[0x263F57B10];
  uint64_t v2049 = *MEMORY[0x263F57BA8];
  uint64_t v2006 = *MEMORY[0x263F57B10];
  uint64_t v78 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v77, *MEMORY[0x263F57B10], *MEMORY[0x263F57BA8]);
  objc_msgSend_setObject_forKeyedSubscript_(v75, v79, (uint64_t)v74, (uint64_t)v78);

  id v80 = NSNumber;
  uint64_t v81 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v82 = *(void *)(v81 + 24);
  *(void *)(v81 + 24) = v82 + 1;
  uint64_t v85 = objc_msgSend_numberWithInteger_(v80, v83, v82, v84);
  uint64_t v86 = (void *)qword_2691D8E78;
  uint64_t v2062 = *MEMORY[0x263F57B58];
  uint64_t v2054 = *MEMORY[0x263F57D80];
  uint64_t v88 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v87, *MEMORY[0x263F57B58], *MEMORY[0x263F57D80]);
  objc_msgSend_setObject_forKeyedSubscript_(v86, v89, (uint64_t)v85, (uint64_t)v88);

  uint64_t v90 = NSNumber;
  uint64_t v91 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v92 = *(void *)(v91 + 24);
  *(void *)(v91 + 24) = v92 + 1;
  float v95 = objc_msgSend_numberWithInteger_(v90, v93, v92, v94);
  uint64_t v96 = (void *)qword_2691D8E78;
  uint64_t v2029 = *MEMORY[0x263F57E28];
  uint64_t v97 = *MEMORY[0x263F57F10];
  uint64_t v2039 = *MEMORY[0x263F57F10];
  uint64_t v99 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v98, *MEMORY[0x263F57E28], *MEMORY[0x263F57F10]);
  objc_msgSend_setObject_forKeyedSubscript_(v96, v100, (uint64_t)v95, (uint64_t)v99);

  uint64_t v101 = NSNumber;
  uint64_t v102 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v103 = *(void *)(v102 + 24);
  *(void *)(v102 + 24) = v103 + 1;
  uint64_t v106 = objc_msgSend_numberWithInteger_(v101, v104, v103, v105);
  uint64_t v107 = (void *)qword_2691D8E78;
  uint64_t v2010 = *MEMORY[0x263F57D70];
  uint64_t v2059 = *MEMORY[0x263F57F18];
  float32x4_t v109 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v108, *MEMORY[0x263F57D70], *MEMORY[0x263F57F18]);
  objc_msgSend_setObject_forKeyedSubscript_(v107, v110, (uint64_t)v106, (uint64_t)v109);

  uint64_t v111 = NSNumber;
  uint64_t v112 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v113 = *(void *)(v112 + 24);
  *(void *)(v112 + 24) = v113 + 1;
  uint64_t v116 = objc_msgSend_numberWithInteger_(v111, v114, v113, v115);
  uint64_t v117 = (void *)qword_2691D8E78;
  id v119 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v118, v76, v97);
  objc_msgSend_setObject_forKeyedSubscript_(v117, v120, (uint64_t)v116, (uint64_t)v119);

  uint64_t v121 = NSNumber;
  uint64_t v122 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v123 = *(void *)(v122 + 24);
  *(void *)(v122 + 24) = v123 + 1;
  id v126 = objc_msgSend_numberWithInteger_(v121, v124, v123, v125);
  int8x16_t v127 = (void *)qword_2691D8E78;
  uint64_t v2008 = *MEMORY[0x263F57D78];
  uint64_t v2018 = *MEMORY[0x263F57E18];
  uint64_t v129 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v128, *MEMORY[0x263F57D78], *MEMORY[0x263F57E18]);
  objc_msgSend_setObject_forKeyedSubscript_(v127, v130, (uint64_t)v126, (uint64_t)v129);

  uint64_t v131 = NSNumber;
  uint64_t v132 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v133 = *(void *)(v132 + 24);
  *(void *)(v132 + 24) = v133 + 1;
  int8x16_t v136 = objc_msgSend_numberWithInteger_(v131, v134, v133, v135);
  uint64_t v137 = (void *)qword_2691D8E78;
  uint64_t v138 = *MEMORY[0x263F57BF0];
  uint64_t v2000 = *MEMORY[0x263F57BF8];
  uint64_t v2052 = *MEMORY[0x263F57BF0];
  float32x4_t v140 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v139, *MEMORY[0x263F57BF0], *MEMORY[0x263F57BF8]);
  objc_msgSend_setObject_forKeyedSubscript_(v137, v141, (uint64_t)v136, (uint64_t)v140);

  float32x4_t v142 = NSNumber;
  uint64_t v143 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v144 = *(void *)(v143 + 24);
  *(void *)(v143 + 24) = v144 + 1;
  uint64_t v147 = objc_msgSend_numberWithInteger_(v142, v145, v144, v146);
  float32x4_t v148 = (void *)qword_2691D8E78;
  uint64_t v1998 = *MEMORY[0x263F57BE0];
  uint64_t v2057 = *MEMORY[0x263F57BE8];
  float32x4_t v150 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v149, *MEMORY[0x263F57BE0], *MEMORY[0x263F57BE8]);
  objc_msgSend_setObject_forKeyedSubscript_(v148, v151, (uint64_t)v147, (uint64_t)v150);

  uint64_t v152 = NSNumber;
  uint64_t v153 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v154 = *(void *)(v153 + 24);
  *(void *)(v153 + 24) = v154 + 1;
  id v157 = objc_msgSend_numberWithInteger_(v152, v155, v154, v156);
  uint64_t v158 = (void *)qword_2691D8E78;
  uint64_t v159 = *MEMORY[0x263F57C00];
  double v161 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v160, *MEMORY[0x263F57C00], v138);
  objc_msgSend_setObject_forKeyedSubscript_(v158, v162, (uint64_t)v157, (uint64_t)v161);

  double v163 = NSNumber;
  uint64_t v164 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v165 = *(void *)(v164 + 24);
  *(void *)(v164 + 24) = v165 + 1;
  float32x4_t v168 = objc_msgSend_numberWithInteger_(v163, v166, v165, v167);
  float32x4_t v169 = (void *)qword_2691D8E78;
  uint64_t v170 = *MEMORY[0x263F57F38];
  float32x4_t v172 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v171, v2054, *MEMORY[0x263F57F38]);
  objc_msgSend_setObject_forKeyedSubscript_(v169, v173, (uint64_t)v168, (uint64_t)v172);

  float32x4_t v174 = NSNumber;
  uint64_t v175 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v176 = *(void *)(v175 + 24);
  *(void *)(v175 + 24) = v176 + 1;
  float32x4_t v179 = objc_msgSend_numberWithInteger_(v174, v177, v176, v178);
  uint64_t v180 = (void *)qword_2691D8E78;
  uint64_t v2004 = *MEMORY[0x263F57E58];
  uint64_t v2042 = *MEMORY[0x263F57E38];
  float32x4_t v182 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v181, *MEMORY[0x263F57E58], *MEMORY[0x263F57E38]);
  objc_msgSend_setObject_forKeyedSubscript_(v180, v183, (uint64_t)v179, (uint64_t)v182);

  uint64_t v184 = NSNumber;
  uint64_t v185 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v186 = *(void *)(v185 + 24);
  *(void *)(v185 + 24) = v186 + 1;
  uint64_t v189 = objc_msgSend_numberWithInteger_(v184, v187, v186, v188);
  float32x4_t v190 = (void *)qword_2691D8E78;
  uint64_t v2002 = *MEMORY[0x263F57E50];
  uint64_t v191 = v170;
  uint64_t v2032 = v170;
  float32x4_t v193 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v192, v170, *MEMORY[0x263F57E50]);
  objc_msgSend_setObject_forKeyedSubscript_(v190, v194, (uint64_t)v189, (uint64_t)v193);

  uint64_t v195 = NSNumber;
  uint64_t v196 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v197 = *(void *)(v196 + 24);
  *(void *)(v196 + 24) = v197 + 1;
  long long v200 = objc_msgSend_numberWithInteger_(v195, v198, v197, v199);
  CGRect v201 = (void *)qword_2691D8E78;
  uint64_t v2016 = *MEMORY[0x263F57B90];
  uint64_t v1997 = *MEMORY[0x263F57F30];
  __int16 v203 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v202, *MEMORY[0x263F57B90], *MEMORY[0x263F57F30]);
  objc_msgSend_setObject_forKeyedSubscript_(v201, v204, (uint64_t)v200, (uint64_t)v203);

  __int16 v205 = NSNumber;
  uint64_t v206 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v207 = *(void *)(v206 + 24);
  *(void *)(v206 + 24) = v207 + 1;
  v210 = objc_msgSend_numberWithInteger_(v205, v208, v207, v209);
  v211 = (void *)qword_2691D8E78;
  uint64_t v212 = *MEMORY[0x263F57E20];
  v214 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v213, v191, *MEMORY[0x263F57E20]);
  objc_msgSend_setObject_forKeyedSubscript_(v211, v215, (uint64_t)v210, (uint64_t)v214);

  v216 = NSNumber;
  uint64_t v217 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v218 = *(void *)(v217 + 24);
  *(void *)(v217 + 24) = v218 + 1;
  v221 = objc_msgSend_numberWithInteger_(v216, v219, v218, v220);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v222, (uint64_t)v221, *MEMORY[0x263F57D58]);

  v223 = NSNumber;
  uint64_t v224 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v225 = *(void *)(v224 + 24);
  *(void *)(v224 + 24) = v225 + 1;
  v228 = objc_msgSend_numberWithInteger_(v223, v226, v225, v227);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v229, (uint64_t)v228, *MEMORY[0x263F57D60]);

  v230 = NSNumber;
  uint64_t v231 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v232 = *(void *)(v231 + 24);
  *(void *)(v231 + 24) = v232 + 1;
  v235 = objc_msgSend_numberWithInteger_(v230, v233, v232, v234);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v236, (uint64_t)v235, *MEMORY[0x263F57D68]);

  ++*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  v237 = NSNumber;
  uint64_t v238 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v239 = *(void *)(v238 + 24);
  *(void *)(v238 + 24) = v239 + 1;
  v242 = objc_msgSend_numberWithInteger_(v237, v240, v239, v241);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v243, (uint64_t)v242, v159);

  v244 = NSNumber;
  uint64_t v245 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v246 = *(void *)(v245 + 24);
  *(void *)(v245 + 24) = v246 + 1;
  v249 = objc_msgSend_numberWithInteger_(v244, v247, v246, v248);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v250, (uint64_t)v249, v2057);

  v251 = NSNumber;
  uint64_t v252 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v253 = *(void *)(v252 + 24);
  *(void *)(v252 + 24) = v253 + 1;
  v256 = objc_msgSend_numberWithInteger_(v251, v254, v253, v255);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v257, (uint64_t)v256, v1998);

  v258 = NSNumber;
  uint64_t v259 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v260 = *(void *)(v259 + 24);
  *(void *)(v259 + 24) = v260 + 1;
  v263 = objc_msgSend_numberWithInteger_(v258, v261, v260, v262);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v264, (uint64_t)v263, v2052);

  v265 = NSNumber;
  uint64_t v266 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v267 = *(void *)(v266 + 24);
  *(void *)(v266 + 24) = v267 + 1;
  v270 = objc_msgSend_numberWithInteger_(v265, v268, v267, v269);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v271, (uint64_t)v270, v2000);

  v272 = NSNumber;
  uint64_t v273 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v274 = *(void *)(v273 + 24);
  *(void *)(v273 + 24) = v274 + 1;
  v277 = objc_msgSend_numberWithInteger_(v272, v275, v274, v276);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v278, (uint64_t)v277, *MEMORY[0x263F57C08]);

  ++*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  v279 = NSNumber;
  uint64_t v280 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v281 = *(void *)(v280 + 24);
  *(void *)(v280 + 24) = v281 + 1;
  v284 = objc_msgSend_numberWithInteger_(v279, v282, v281, v283);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v285, (uint64_t)v284, *MEMORY[0x263F57BD8]);

  v286 = NSNumber;
  uint64_t v287 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v288 = *(void *)(v287 + 24);
  *(void *)(v287 + 24) = v288 + 1;
  v291 = objc_msgSend_numberWithInteger_(v286, v289, v288, v290);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v292, (uint64_t)v291, *MEMORY[0x263F57E40]);

  v293 = NSNumber;
  uint64_t v294 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v295 = *(void *)(v294 + 24);
  *(void *)(v294 + 24) = v295 + 1;
  v298 = objc_msgSend_numberWithInteger_(v293, v296, v295, v297);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v299, (uint64_t)v298, v1997);

  v300 = NSNumber;
  uint64_t v301 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v302 = *(void *)(v301 + 24);
  *(void *)(v301 + 24) = v302 + 1;
  v305 = objc_msgSend_numberWithInteger_(v300, v303, v302, v304);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v306, (uint64_t)v305, *MEMORY[0x263F57F28]);

  v307 = NSNumber;
  uint64_t v308 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v309 = *(void *)(v308 + 24);
  *(void *)(v308 + 24) = v309 + 1;
  v312 = objc_msgSend_numberWithInteger_(v307, v310, v309, v311);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v313, (uint64_t)v312, *MEMORY[0x263F57E48]);

  v314 = NSNumber;
  uint64_t v315 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v316 = *(void *)(v315 + 24);
  *(void *)(v315 + 24) = v316 + 1;
  v319 = objc_msgSend_numberWithInteger_(v314, v317, v316, v318);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v320, (uint64_t)v319, v2004);

  v321 = NSNumber;
  uint64_t v322 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v323 = *(void *)(v322 + 24);
  *(void *)(v322 + 24) = v323 + 1;
  v326 = objc_msgSend_numberWithInteger_(v321, v324, v323, v325);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v327, (uint64_t)v326, v2002);

  v328 = NSNumber;
  uint64_t v329 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v330 = *(void *)(v329 + 24);
  *(void *)(v329 + 24) = v330 + 1;
  v333 = objc_msgSend_numberWithInteger_(v328, v331, v330, v332);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v334, (uint64_t)v333, v2042);

  v335 = NSNumber;
  uint64_t v336 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v337 = *(void *)(v336 + 24);
  *(void *)(v336 + 24) = v337 + 1;
  v340 = objc_msgSend_numberWithInteger_(v335, v338, v337, v339);
  uint64_t v2043 = *MEMORY[0x263F57D90];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v341, (uint64_t)v340, *MEMORY[0x263F57D90]);

  v342 = NSNumber;
  uint64_t v343 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v344 = *(void *)(v343 + 24);
  *(void *)(v343 + 24) = v344 + 1;
  v347 = objc_msgSend_numberWithInteger_(v342, v345, v344, v346);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v348, (uint64_t)v347, *MEMORY[0x263F57B18]);

  v349 = NSNumber;
  uint64_t v350 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v351 = *(void *)(v350 + 24);
  *(void *)(v350 + 24) = v351 + 1;
  v354 = objc_msgSend_numberWithInteger_(v349, v352, v351, v353);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v355, (uint64_t)v354, v2006);

  v356 = NSNumber;
  uint64_t v357 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v358 = *(void *)(v357 + 24);
  *(void *)(v357 + 24) = v358 + 1;
  v361 = objc_msgSend_numberWithInteger_(v356, v359, v358, v360);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v362, (uint64_t)v361, v2026);

  v363 = NSNumber;
  uint64_t v364 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v365 = *(void *)(v364 + 24);
  *(void *)(v364 + 24) = v365 + 1;
  v368 = objc_msgSend_numberWithInteger_(v363, v366, v365, v367);
  uint64_t v2027 = *MEMORY[0x263F57D98];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v369, (uint64_t)v368, *MEMORY[0x263F57D98]);

  v370 = NSNumber;
  uint64_t v371 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v372 = *(void *)(v371 + 24);
  *(void *)(v371 + 24) = v372 + 1;
  v375 = objc_msgSend_numberWithInteger_(v370, v373, v372, v374);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v376, (uint64_t)v375, *MEMORY[0x263F57DE8]);

  v377 = NSNumber;
  uint64_t v378 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v379 = *(void *)(v378 + 24);
  *(void *)(v378 + 24) = v379 + 1;
  v382 = objc_msgSend_numberWithInteger_(v377, v380, v379, v381);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v383, (uint64_t)v382, *MEMORY[0x263F57E08]);

  v384 = NSNumber;
  uint64_t v385 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v386 = *(void *)(v385 + 24);
  *(void *)(v385 + 24) = v386 + 1;
  v389 = objc_msgSend_numberWithInteger_(v384, v387, v386, v388);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v390, (uint64_t)v389, v2008);

  v391 = NSNumber;
  uint64_t v392 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v393 = *(void *)(v392 + 24);
  *(void *)(v392 + 24) = v393 + 1;
  v396 = objc_msgSend_numberWithInteger_(v391, v394, v393, v395);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v397, (uint64_t)v396, *MEMORY[0x263F57F50]);

  v398 = NSNumber;
  uint64_t v399 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v400 = *(void *)(v399 + 24);
  *(void *)(v399 + 24) = v400 + 1;
  v403 = objc_msgSend_numberWithInteger_(v398, v401, v400, v402);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v404, (uint64_t)v403, v2023);

  v405 = NSNumber;
  uint64_t v406 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v407 = *(void *)(v406 + 24);
  *(void *)(v406 + 24) = v407 + 1;
  v410 = objc_msgSend_numberWithInteger_(v405, v408, v407, v409);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v411, (uint64_t)v410, v2012);

  v412 = NSNumber;
  uint64_t v413 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v414 = *(void *)(v413 + 24);
  *(void *)(v413 + 24) = v414 + 1;
  v417 = objc_msgSend_numberWithInteger_(v412, v415, v414, v416);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v418, (uint64_t)v417, *MEMORY[0x263F57EF8]);

  v419 = NSNumber;
  uint64_t v420 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v421 = *(void *)(v420 + 24);
  *(void *)(v420 + 24) = v421 + 1;
  v424 = objc_msgSend_numberWithInteger_(v419, v422, v421, v423);
  uint64_t v2024 = *MEMORY[0x263F57F00];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v425, (uint64_t)v424, *MEMORY[0x263F57F00]);

  v426 = NSNumber;
  uint64_t v427 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v428 = *(void *)(v427 + 24);
  *(void *)(v427 + 24) = v428 + 1;
  v431 = objc_msgSend_numberWithInteger_(v426, v429, v428, v430);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v432, (uint64_t)v431, *MEMORY[0x263F57DE0]);

  v433 = NSNumber;
  uint64_t v434 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v435 = *(void *)(v434 + 24);
  *(void *)(v434 + 24) = v435 + 1;
  v438 = objc_msgSend_numberWithInteger_(v433, v436, v435, v437);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v439, (uint64_t)v438, v2014);

  v440 = NSNumber;
  uint64_t v441 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v442 = *(void *)(v441 + 24);
  *(void *)(v441 + 24) = v442 + 1;
  v445 = objc_msgSend_numberWithInteger_(v440, v443, v442, v444);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v446, (uint64_t)v445, v2010);

  v447 = NSNumber;
  uint64_t v448 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v449 = *(void *)(v448 + 24);
  *(void *)(v448 + 24) = v449 + 1;
  v452 = objc_msgSend_numberWithInteger_(v447, v450, v449, v451);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v453, (uint64_t)v452, *MEMORY[0x263F57E10]);

  v454 = NSNumber;
  uint64_t v455 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v456 = *(void *)(v455 + 24);
  *(void *)(v455 + 24) = v456 + 1;
  v459 = objc_msgSend_numberWithInteger_(v454, v457, v456, v458);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v460, (uint64_t)v459, *MEMORY[0x263F57DA8]);

  v461 = NSNumber;
  uint64_t v462 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v463 = *(void *)(v462 + 24);
  *(void *)(v462 + 24) = v463 + 1;
  v466 = objc_msgSend_numberWithInteger_(v461, v464, v463, v465);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v467, (uint64_t)v466, v2070);

  v468 = NSNumber;
  uint64_t v469 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v470 = *(void *)(v469 + 24);
  *(void *)(v469 + 24) = v470 + 1;
  v473 = objc_msgSend_numberWithInteger_(v468, v471, v470, v472);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v474, (uint64_t)v473, *MEMORY[0x263F57F20]);

  v475 = NSNumber;
  uint64_t v476 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v477 = *(void *)(v476 + 24);
  *(void *)(v476 + 24) = v477 + 1;
  v480 = objc_msgSend_numberWithInteger_(v475, v478, v477, v479);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v481, (uint64_t)v480, v2020);

  v482 = NSNumber;
  uint64_t v483 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v484 = *(void *)(v483 + 24);
  *(void *)(v483 + 24) = v484 + 1;
  v487 = objc_msgSend_numberWithInteger_(v482, v485, v484, v486);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v488, (uint64_t)v487, *MEMORY[0x263F57B00]);

  v489 = NSNumber;
  uint64_t v490 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v491 = *(void *)(v490 + 24);
  *(void *)(v490 + 24) = v491 + 1;
  v494 = objc_msgSend_numberWithInteger_(v489, v492, v491, v493);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v495, (uint64_t)v494, *MEMORY[0x263F57E30]);

  v496 = NSNumber;
  uint64_t v497 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v498 = *(void *)(v497 + 24);
  *(void *)(v497 + 24) = v498 + 1;
  v501 = objc_msgSend_numberWithInteger_(v496, v499, v498, v500);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v502, (uint64_t)v501, *MEMORY[0x263F57D50]);

  v503 = NSNumber;
  uint64_t v504 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v505 = *(void *)(v504 + 24);
  *(void *)(v504 + 24) = v505 + 1;
  v508 = objc_msgSend_numberWithInteger_(v503, v506, v505, v507);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v509, (uint64_t)v508, *MEMORY[0x263F57DB0]);

  v510 = NSNumber;
  uint64_t v511 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v512 = *(void *)(v511 + 24);
  *(void *)(v511 + 24) = v512 + 1;
  v515 = objc_msgSend_numberWithInteger_(v510, v513, v512, v514);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v516, (uint64_t)v515, *MEMORY[0x263F57DF0]);

  v517 = NSNumber;
  uint64_t v518 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v519 = *(void *)(v518 + 24);
  *(void *)(v518 + 24) = v519 + 1;
  v522 = objc_msgSend_numberWithInteger_(v517, v520, v519, v521);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v523, (uint64_t)v522, *MEMORY[0x263F57E00]);

  v524 = NSNumber;
  uint64_t v525 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v526 = *(void *)(v525 + 24);
  *(void *)(v525 + 24) = v526 + 1;
  v529 = objc_msgSend_numberWithInteger_(v524, v527, v526, v528);
  uint64_t v2021 = *MEMORY[0x263F57EF0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v530, (uint64_t)v529, *MEMORY[0x263F57EF0]);

  v531 = NSNumber;
  uint64_t v532 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v533 = *(void *)(v532 + 24);
  *(void *)(v532 + 24) = v533 + 1;
  v536 = objc_msgSend_numberWithInteger_(v531, v534, v533, v535);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v537, (uint64_t)v536, *MEMORY[0x263F57DC0]);

  v538 = NSNumber;
  uint64_t v539 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v540 = *(void *)(v539 + 24);
  *(void *)(v539 + 24) = v540 + 1;
  v543 = objc_msgSend_numberWithInteger_(v538, v541, v540, v542);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v544, (uint64_t)v543, v2049);

  v545 = NSNumber;
  uint64_t v546 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v547 = *(void *)(v546 + 24);
  *(void *)(v546 + 24) = v547 + 1;
  v550 = objc_msgSend_numberWithInteger_(v545, v548, v547, v549);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v551, (uint64_t)v550, v2018);

  v552 = NSNumber;
  uint64_t v553 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v554 = *(void *)(v553 + 24);
  *(void *)(v553 + 24) = v554 + 1;
  v557 = objc_msgSend_numberWithInteger_(v552, v555, v554, v556);
  uint64_t v2050 = *MEMORY[0x263F57F58];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v558, (uint64_t)v557, *MEMORY[0x263F57F58]);

  v559 = NSNumber;
  uint64_t v560 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v561 = *(void *)(v560 + 24);
  *(void *)(v560 + 24) = v561 + 1;
  v564 = objc_msgSend_numberWithInteger_(v559, v562, v561, v563);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v565, (uint64_t)v564, *MEMORY[0x263F57B50]);

  v566 = NSNumber;
  uint64_t v567 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v568 = *(void *)(v567 + 24);
  *(void *)(v567 + 24) = v568 + 1;
  v571 = objc_msgSend_numberWithInteger_(v566, v569, v568, v570);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v572, (uint64_t)v571, v2068);

  v573 = NSNumber;
  uint64_t v574 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v575 = *(void *)(v574 + 24);
  *(void *)(v574 + 24) = v575 + 1;
  v578 = objc_msgSend_numberWithInteger_(v573, v576, v575, v577);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v579, (uint64_t)v578, *MEMORY[0x263F57F40]);

  v580 = NSNumber;
  uint64_t v581 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v582 = *(void *)(v581 + 24);
  *(void *)(v581 + 24) = v582 + 1;
  v585 = objc_msgSend_numberWithInteger_(v580, v583, v582, v584);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v586, (uint64_t)v585, v2016);

  v587 = NSNumber;
  uint64_t v588 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v589 = *(void *)(v588 + 24);
  *(void *)(v588 + 24) = v589 + 1;
  v592 = objc_msgSend_numberWithInteger_(v587, v590, v589, v591);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v593, (uint64_t)v592, v2059);

  v594 = NSNumber;
  uint64_t v595 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v596 = *(void *)(v595 + 24);
  *(void *)(v595 + 24) = v596 + 1;
  v599 = objc_msgSend_numberWithInteger_(v594, v597, v596, v598);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v600, (uint64_t)v599, *MEMORY[0x263F57DD8]);

  v601 = NSNumber;
  uint64_t v602 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v603 = *(void *)(v602 + 24);
  *(void *)(v602 + 24) = v603 + 1;
  v606 = objc_msgSend_numberWithInteger_(v601, v604, v603, v605);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v607, (uint64_t)v606, *MEMORY[0x263F57B08]);

  v608 = NSNumber;
  uint64_t v609 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v610 = *(void *)(v609 + 24);
  *(void *)(v609 + 24) = v610 + 1;
  v613 = objc_msgSend_numberWithInteger_(v608, v611, v610, v612);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v614, (uint64_t)v613, *MEMORY[0x263F57B48]);

  v615 = NSNumber;
  uint64_t v616 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v617 = *(void *)(v616 + 24);
  *(void *)(v616 + 24) = v617 + 1;
  v620 = objc_msgSend_numberWithInteger_(v615, v618, v617, v619);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v621, (uint64_t)v620, *MEMORY[0x263F57DF8]);

  v622 = NSNumber;
  uint64_t v623 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v624 = *(void *)(v623 + 24);
  *(void *)(v623 + 24) = v624 + 1;
  v627 = objc_msgSend_numberWithInteger_(v622, v625, v624, v626);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v628, (uint64_t)v627, *MEMORY[0x263F57B98]);

  v629 = NSNumber;
  uint64_t v630 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v631 = *(void *)(v630 + 24);
  *(void *)(v630 + 24) = v631 + 1;
  v634 = objc_msgSend_numberWithInteger_(v629, v632, v631, v633);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v635, (uint64_t)v634, *MEMORY[0x263F57D88]);

  v636 = NSNumber;
  uint64_t v637 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v638 = *(void *)(v637 + 24);
  *(void *)(v637 + 24) = v638 + 1;
  v641 = objc_msgSend_numberWithInteger_(v636, v639, v638, v640);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v642, (uint64_t)v641, *MEMORY[0x263F57B88]);

  v643 = NSNumber;
  uint64_t v644 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v645 = *(void *)(v644 + 24);
  *(void *)(v644 + 24) = v645 + 1;
  v648 = objc_msgSend_numberWithInteger_(v643, v646, v645, v647);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v649, (uint64_t)v648, *MEMORY[0x263F57BA0]);

  v650 = NSNumber;
  uint64_t v651 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v652 = *(void *)(v651 + 24);
  *(void *)(v651 + 24) = v652 + 1;
  v655 = objc_msgSend_numberWithInteger_(v650, v653, v652, v654);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v656, (uint64_t)v655, *MEMORY[0x263F57AF8]);

  v657 = NSNumber;
  uint64_t v658 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v659 = *(void *)(v658 + 24);
  *(void *)(v658 + 24) = v659 + 1;
  v662 = objc_msgSend_numberWithInteger_(v657, v660, v659, v661);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v663, (uint64_t)v662, v2065);

  v664 = NSNumber;
  uint64_t v665 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v666 = *(void *)(v665 + 24);
  *(void *)(v665 + 24) = v666 + 1;
  v669 = objc_msgSend_numberWithInteger_(v664, v667, v666, v668);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v670, (uint64_t)v669, *MEMORY[0x263F57DA0]);

  v671 = NSNumber;
  uint64_t v672 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v673 = *(void *)(v672 + 24);
  *(void *)(v672 + 24) = v673 + 1;
  v676 = objc_msgSend_numberWithInteger_(v671, v674, v673, v675);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v677, (uint64_t)v676, v2035);

  v678 = NSNumber;
  uint64_t v679 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v680 = *(void *)(v679 + 24);
  *(void *)(v679 + 24) = v680 + 1;
  v683 = objc_msgSend_numberWithInteger_(v678, v681, v680, v682);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v684, (uint64_t)v683, v212);

  v685 = NSNumber;
  uint64_t v686 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v687 = *(void *)(v686 + 24);
  *(void *)(v686 + 24) = v687 + 1;
  v690 = objc_msgSend_numberWithInteger_(v685, v688, v687, v689);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v691, (uint64_t)v690, v2054);

  v692 = NSNumber;
  uint64_t v693 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v694 = *(void *)(v693 + 24);
  *(void *)(v693 + 24) = v694 + 1;
  v697 = objc_msgSend_numberWithInteger_(v692, v695, v694, v696);
  uint64_t v698 = *MEMORY[0x263F57B60];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v699, (uint64_t)v697, *MEMORY[0x263F57B60]);

  v700 = NSNumber;
  uint64_t v701 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v702 = *(void *)(v701 + 24);
  *(void *)(v701 + 24) = v702 + 1;
  v705 = objc_msgSend_numberWithInteger_(v700, v703, v702, v704);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v706, (uint64_t)v705, v2029);

  v707 = NSNumber;
  uint64_t v708 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v709 = *(void *)(v708 + 24);
  *(void *)(v708 + 24) = v709 + 1;
  v712 = objc_msgSend_numberWithInteger_(v707, v710, v709, v711);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v713, (uint64_t)v712, *MEMORY[0x263F57F08]);

  v714 = NSNumber;
  uint64_t v715 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v716 = *(void *)(v715 + 24);
  *(void *)(v715 + 24) = v716 + 1;
  v719 = objc_msgSend_numberWithInteger_(v714, v717, v716, v718);
  uint64_t v2036 = *MEMORY[0x263F57F48];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v720, (uint64_t)v719, *MEMORY[0x263F57F48]);

  v721 = NSNumber;
  uint64_t v722 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v723 = *(void *)(v722 + 24);
  *(void *)(v722 + 24) = v723 + 1;
  v726 = objc_msgSend_numberWithInteger_(v721, v724, v723, v725);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v727, (uint64_t)v726, *MEMORY[0x263F57F70]);

  v728 = NSNumber;
  uint64_t v729 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v730 = *(void *)(v729 + 24);
  *(void *)(v729 + 24) = v730 + 1;
  v733 = objc_msgSend_numberWithInteger_(v728, v731, v730, v732);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v734, (uint64_t)v733, *MEMORY[0x263F57B78]);

  v735 = NSNumber;
  uint64_t v736 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v737 = *(void *)(v736 + 24);
  *(void *)(v736 + 24) = v737 + 1;
  v740 = objc_msgSend_numberWithInteger_(v735, v738, v737, v739);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v741, (uint64_t)v740, *MEMORY[0x263F57DC8]);

  v742 = NSNumber;
  uint64_t v743 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v744 = *(void *)(v743 + 24);
  *(void *)(v743 + 24) = v744 + 1;
  v747 = objc_msgSend_numberWithInteger_(v742, v745, v744, v746);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v748, (uint64_t)v747, *MEMORY[0x263F57EE8]);

  v749 = NSNumber;
  uint64_t v750 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v751 = *(void *)(v750 + 24);
  *(void *)(v750 + 24) = v751 + 1;
  v754 = objc_msgSend_numberWithInteger_(v749, v752, v751, v753);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v755, (uint64_t)v754, *MEMORY[0x263F57BB8]);

  v756 = NSNumber;
  uint64_t v757 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v758 = *(void *)(v757 + 24);
  *(void *)(v757 + 24) = v758 + 1;
  v761 = objc_msgSend_numberWithInteger_(v756, v759, v758, v760);
  uint64_t v762 = *MEMORY[0x263F57B38];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v763, (uint64_t)v761, *MEMORY[0x263F57B38]);

  v764 = NSNumber;
  uint64_t v765 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v766 = *(void *)(v765 + 24);
  *(void *)(v765 + 24) = v766 + 1;
  v769 = objc_msgSend_numberWithInteger_(v764, v767, v766, v768);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v770, (uint64_t)v769, *MEMORY[0x263F57B20]);

  v771 = NSNumber;
  uint64_t v772 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v773 = *(void *)(v772 + 24);
  *(void *)(v772 + 24) = v773 + 1;
  v776 = objc_msgSend_numberWithInteger_(v771, v774, v773, v775);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v777, (uint64_t)v776, *MEMORY[0x263F57AF0]);

  v778 = NSNumber;
  uint64_t v779 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v780 = *(void *)(v779 + 24);
  *(void *)(v779 + 24) = v780 + 1;
  v783 = objc_msgSend_numberWithInteger_(v778, v781, v780, v782);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v784, (uint64_t)v783, *MEMORY[0x263F57B80]);

  v785 = NSNumber;
  uint64_t v786 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v787 = *(void *)(v786 + 24);
  *(void *)(v786 + 24) = v787 + 1;
  v790 = objc_msgSend_numberWithInteger_(v785, v788, v787, v789);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v791, (uint64_t)v790, *MEMORY[0x263F57DD0]);

  v792 = NSNumber;
  uint64_t v793 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v794 = *(void *)(v793 + 24);
  *(void *)(v793 + 24) = v794 + 1;
  v797 = objc_msgSend_numberWithInteger_(v792, v795, v794, v796);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v798, (uint64_t)v797, *MEMORY[0x263F57B40]);

  v799 = NSNumber;
  uint64_t v800 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v801 = *(void *)(v800 + 24);
  *(void *)(v800 + 24) = v801 + 1;
  v804 = objc_msgSend_numberWithInteger_(v799, v802, v801, v803);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v805, (uint64_t)v804, v2039);

  v806 = NSNumber;
  uint64_t v807 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v808 = *(void *)(v807 + 24);
  *(void *)(v807 + 24) = v808 + 1;
  v811 = objc_msgSend_numberWithInteger_(v806, v809, v808, v810);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v812, (uint64_t)v811, v2062);

  v813 = NSNumber;
  uint64_t v814 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v815 = *(void *)(v814 + 24);
  *(void *)(v814 + 24) = v815 + 1;
  v818 = objc_msgSend_numberWithInteger_(v813, v816, v815, v817);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v819, (uint64_t)v818, v2046);

  v820 = NSNumber;
  uint64_t v821 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v822 = *(void *)(v821 + 24);
  *(void *)(v821 + 24) = v822 + 1;
  v825 = objc_msgSend_numberWithInteger_(v820, v823, v822, v824);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v826, (uint64_t)v825, *MEMORY[0x263F57BD0]);

  v827 = NSNumber;
  uint64_t v828 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v829 = *(void *)(v828 + 24);
  *(void *)(v828 + 24) = v829 + 1;
  v832 = objc_msgSend_numberWithInteger_(v827, v830, v829, v831);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v833, (uint64_t)v832, v2032);

  v834 = NSNumber;
  uint64_t v835 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v836 = *(void *)(v835 + 24);
  *(void *)(v835 + 24) = v836 + 1;
  v839 = objc_msgSend_numberWithInteger_(v834, v837, v836, v838);
  v840 = (void *)qword_2691D8E78;
  v842 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v841, v2008, *MEMORY[0x263F57C50]);
  objc_msgSend_setObject_forKeyedSubscript_(v840, v843, (uint64_t)v839, (uint64_t)v842);

  v844 = NSNumber;
  uint64_t v845 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v846 = *(void *)(v845 + 24);
  *(void *)(v845 + 24) = v846 + 1;
  v849 = objc_msgSend_numberWithInteger_(v844, v847, v846, v848);
  v850 = (void *)qword_2691D8E78;
  v852 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v851, v698, v762);
  objc_msgSend_setObject_forKeyedSubscript_(v850, v853, (uint64_t)v849, (uint64_t)v852);

  v854 = NSNumber;
  uint64_t v855 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v856 = *(void *)(v855 + 24);
  *(void *)(v855 + 24) = v856 + 1;
  v859 = objc_msgSend_numberWithInteger_(v854, v857, v856, v858);
  v860 = (void *)qword_2691D8E78;
  v862 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v861, v2052, *MEMORY[0x263F57C28]);
  objc_msgSend_setObject_forKeyedSubscript_(v860, v863, (uint64_t)v859, (uint64_t)v862);

  v864 = NSNumber;
  uint64_t v865 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v866 = *(void *)(v865 + 24);
  *(void *)(v865 + 24) = v866 + 1;
  v869 = objc_msgSend_numberWithInteger_(v864, v867, v866, v868);
  v870 = (void *)qword_2691D8E78;
  uint64_t v871 = *MEMORY[0x263F57C10];
  v873 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v872, *MEMORY[0x263F57C10], *MEMORY[0x263F57C18]);
  objc_msgSend_setObject_forKeyedSubscript_(v870, v874, (uint64_t)v869, (uint64_t)v873);

  v875 = NSNumber;
  uint64_t v876 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v877 = *(void *)(v876 + 24);
  *(void *)(v876 + 24) = v877 + 1;
  v880 = objc_msgSend_numberWithInteger_(v875, v878, v877, v879);
  v881 = (void *)qword_2691D8E78;
  uint64_t v882 = *MEMORY[0x263F57C40];
  uint64_t v883 = *MEMORY[0x263F57C30];
  v885 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v884, *MEMORY[0x263F57C40], *MEMORY[0x263F57C30]);
  objc_msgSend_setObject_forKeyedSubscript_(v881, v886, (uint64_t)v880, (uint64_t)v885);

  v887 = NSNumber;
  uint64_t v888 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v889 = *(void *)(v888 + 24);
  *(void *)(v888 + 24) = v889 + 1;
  v892 = objc_msgSend_numberWithInteger_(v887, v890, v889, v891);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v893, (uint64_t)v892, *MEMORY[0x263F57C38]);

  v894 = NSNumber;
  uint64_t v895 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v896 = *(void *)(v895 + 24);
  *(void *)(v895 + 24) = v896 + 1;
  v899 = objc_msgSend_numberWithInteger_(v894, v897, v896, v898);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v900, (uint64_t)v899, *MEMORY[0x263F57C20]);

  v901 = NSNumber;
  uint64_t v902 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v903 = *(void *)(v902 + 24);
  *(void *)(v902 + 24) = v903 + 1;
  v906 = objc_msgSend_numberWithInteger_(v901, v904, v903, v905);
  uint64_t v2055 = *MEMORY[0x263F57C48];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v907, (uint64_t)v906, *MEMORY[0x263F57C48]);

  v908 = NSNumber;
  uint64_t v909 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v910 = *(void *)(v909 + 24);
  *(void *)(v909 + 24) = v910 + 1;
  v913 = objc_msgSend_numberWithInteger_(v908, v911, v910, v912);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v914, (uint64_t)v913, v882);

  v915 = NSNumber;
  uint64_t v916 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v917 = *(void *)(v916 + 24);
  *(void *)(v916 + 24) = v917 + 1;
  v920 = objc_msgSend_numberWithInteger_(v915, v918, v917, v919);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v921, (uint64_t)v920, v871);

  v922 = NSNumber;
  uint64_t v923 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v924 = *(void *)(v923 + 24);
  *(void *)(v923 + 24) = v924 + 1;
  v927 = objc_msgSend_numberWithInteger_(v922, v925, v924, v926);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v928, (uint64_t)v927, v883);

  v929 = NSNumber;
  uint64_t v930 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v931 = *(void *)(v930 + 24);
  *(void *)(v930 + 24) = v931 + 1;
  v934 = objc_msgSend_numberWithInteger_(v929, v932, v931, v933);
  uint64_t v2047 = *MEMORY[0x263F57E60];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v935, (uint64_t)v934, *MEMORY[0x263F57E60]);

  v936 = NSNumber;
  uint64_t v937 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v938 = *(void *)(v937 + 24);
  *(void *)(v937 + 24) = v938 + 1;
  v941 = objc_msgSend_numberWithInteger_(v936, v939, v938, v940);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v942, (uint64_t)v941, *MEMORY[0x263F57E68]);

  v943 = NSNumber;
  uint64_t v944 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v945 = *(void *)(v944 + 24);
  *(void *)(v944 + 24) = v945 + 1;
  v948 = objc_msgSend_numberWithInteger_(v943, v946, v945, v947);
  uint64_t v949 = *MEMORY[0x263F57E70];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v950, (uint64_t)v948, *MEMORY[0x263F57E70]);

  v951 = NSNumber;
  uint64_t v952 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v953 = *(void *)(v952 + 24);
  *(void *)(v952 + 24) = v953 + 1;
  v956 = objc_msgSend_numberWithInteger_(v951, v954, v953, v955);
  uint64_t v957 = *MEMORY[0x263F57E90];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v958, (uint64_t)v956, *MEMORY[0x263F57E90]);

  v959 = NSNumber;
  uint64_t v960 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v961 = *(void *)(v960 + 24);
  *(void *)(v960 + 24) = v961 + 1;
  v964 = objc_msgSend_numberWithInteger_(v959, v962, v961, v963);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v965, (uint64_t)v964, *MEMORY[0x263F57E98]);

  v966 = NSNumber;
  uint64_t v967 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v968 = *(void *)(v967 + 24);
  *(void *)(v967 + 24) = v968 + 1;
  v971 = objc_msgSend_numberWithInteger_(v966, v969, v968, v970);
  v972 = (void *)qword_2691D8E78;
  v974 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v973, v2057, v2027);
  objc_msgSend_setObject_forKeyedSubscript_(v972, v975, (uint64_t)v971, (uint64_t)v974);

  v976 = NSNumber;
  uint64_t v977 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v978 = *(void *)(v977 + 24);
  *(void *)(v977 + 24) = v978 + 1;
  v981 = objc_msgSend_numberWithInteger_(v976, v979, v978, v980);
  v982 = (void *)qword_2691D8E78;
  v984 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v983, *MEMORY[0x263F57E78], *MEMORY[0x263F57E80]);
  objc_msgSend_setObject_forKeyedSubscript_(v982, v985, (uint64_t)v981, (uint64_t)v984);

  v986 = NSNumber;
  uint64_t v987 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v988 = *(void *)(v987 + 24);
  *(void *)(v987 + 24) = v988 + 1;
  v991 = objc_msgSend_numberWithInteger_(v986, v989, v988, v990);
  v992 = (void *)qword_2691D8E78;
  v994 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v993, *MEMORY[0x263F57E88], v2024);
  objc_msgSend_setObject_forKeyedSubscript_(v992, v995, (uint64_t)v991, (uint64_t)v994);

  v996 = NSNumber;
  uint64_t v997 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v998 = *(void *)(v997 + 24);
  *(void *)(v997 + 24) = v998 + 1;
  v1001 = objc_msgSend_numberWithInteger_(v996, v999, v998, v1000);
  v1002 = (void *)qword_2691D8E78;
  v1004 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1003, v2059, v949);
  objc_msgSend_setObject_forKeyedSubscript_(v1002, v1005, (uint64_t)v1001, (uint64_t)v1004);

  v1006 = NSNumber;
  uint64_t v1007 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1008 = *(void *)(v1007 + 24);
  *(void *)(v1007 + 24) = v1008 + 1;
  v1011 = objc_msgSend_numberWithInteger_(v1006, v1009, v1008, v1010);
  v1012 = (void *)qword_2691D8E78;
  v1014 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1013, v957, v2036);
  objc_msgSend_setObject_forKeyedSubscript_(v1012, v1015, (uint64_t)v1011, (uint64_t)v1014);

  v1016 = NSNumber;
  uint64_t v1017 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1018 = *(void *)(v1017 + 24);
  *(void *)(v1017 + 24) = v1018 + 1;
  v1021 = objc_msgSend_numberWithInteger_(v1016, v1019, v1018, v1020);
  uint64_t v1022 = *MEMORY[0x263F57C60];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1023, (uint64_t)v1021, *MEMORY[0x263F57C60]);

  v1024 = NSNumber;
  uint64_t v1025 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1026 = *(void *)(v1025 + 24);
  *(void *)(v1025 + 24) = v1026 + 1;
  v1029 = objc_msgSend_numberWithInteger_(v1024, v1027, v1026, v1028);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1030, (uint64_t)v1029, *MEMORY[0x263F57C78]);

  v1031 = NSNumber;
  uint64_t v1032 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1033 = *(void *)(v1032 + 24);
  *(void *)(v1032 + 24) = v1033 + 1;
  v1036 = objc_msgSend_numberWithInteger_(v1031, v1034, v1033, v1035);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1037, (uint64_t)v1036, *MEMORY[0x263F57C58]);

  v1038 = NSNumber;
  uint64_t v1039 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1040 = *(void *)(v1039 + 24);
  *(void *)(v1039 + 24) = v1040 + 1;
  v1043 = objc_msgSend_numberWithInteger_(v1038, v1041, v1040, v1042);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1044, (uint64_t)v1043, *MEMORY[0x263F57C68]);

  v1045 = NSNumber;
  uint64_t v1046 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1047 = *(void *)(v1046 + 24);
  *(void *)(v1046 + 24) = v1047 + 1;
  v1050 = objc_msgSend_numberWithInteger_(v1045, v1048, v1047, v1049);
  uint64_t v1051 = *MEMORY[0x263F57C70];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1052, (uint64_t)v1050, *MEMORY[0x263F57C70]);

  v1053 = NSNumber;
  uint64_t v1054 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1055 = *(void *)(v1054 + 24);
  *(void *)(v1054 + 24) = v1055 + 1;
  v1058 = objc_msgSend_numberWithInteger_(v1053, v1056, v1055, v1057);
  uint64_t v1059 = *MEMORY[0x263F57C80];
  uint64_t v2060 = *MEMORY[0x263F57C80];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1060, (uint64_t)v1058, *MEMORY[0x263F57C80]);

  v1061 = NSNumber;
  uint64_t v1062 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1063 = *(void *)(v1062 + 24);
  *(void *)(v1062 + 24) = v1063 + 1;
  v1066 = objc_msgSend_numberWithInteger_(v1061, v1064, v1063, v1065);
  v1067 = (void *)qword_2691D8E78;
  v1069 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1068, v1022, v2052);
  objc_msgSend_setObject_forKeyedSubscript_(v1067, v1070, (uint64_t)v1066, (uint64_t)v1069);

  v1071 = NSNumber;
  uint64_t v1072 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1073 = *(void *)(v1072 + 24);
  *(void *)(v1072 + 24) = v1073 + 1;
  v1076 = objc_msgSend_numberWithInteger_(v1071, v1074, v1073, v1075);
  v1077 = (void *)qword_2691D8E78;
  v1079 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1078, v2065, v957);
  objc_msgSend_setObject_forKeyedSubscript_(v1077, v1080, (uint64_t)v1076, (uint64_t)v1079);

  v1081 = NSNumber;
  uint64_t v1082 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1083 = *(void *)(v1082 + 24);
  *(void *)(v1082 + 24) = v1083 + 1;
  v1086 = objc_msgSend_numberWithInteger_(v1081, v1084, v1083, v1085);
  v1087 = (void *)qword_2691D8E78;
  v1089 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1088, v2055, v1059);
  objc_msgSend_setObject_forKeyedSubscript_(v1087, v1090, (uint64_t)v1086, (uint64_t)v1089);

  v1091 = NSNumber;
  uint64_t v1092 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1093 = *(void *)(v1092 + 24);
  *(void *)(v1092 + 24) = v1093 + 1;
  v1096 = objc_msgSend_numberWithInteger_(v1091, v1094, v1093, v1095);
  v1097 = (void *)qword_2691D8E78;
  v1099 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1098, v2055, v2021);
  objc_msgSend_setObject_forKeyedSubscript_(v1097, v1100, (uint64_t)v1096, (uint64_t)v1099);

  v1101 = NSNumber;
  uint64_t v1102 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1103 = *(void *)(v1102 + 24);
  *(void *)(v1102 + 24) = v1103 + 1;
  v1106 = objc_msgSend_numberWithInteger_(v1101, v1104, v1103, v1105);
  v1107 = (void *)qword_2691D8E78;
  v1109 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1108, v2055, v2062);
  objc_msgSend_setObject_forKeyedSubscript_(v1107, v1110, (uint64_t)v1106, (uint64_t)v1109);

  v1111 = NSNumber;
  uint64_t v1112 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1113 = *(void *)(v1112 + 24);
  *(void *)(v1112 + 24) = v1113 + 1;
  v1116 = objc_msgSend_numberWithInteger_(v1111, v1114, v1113, v1115);
  v1117 = (void *)qword_2691D8E78;
  v1119 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1118, v1051, v2043);
  objc_msgSend_setObject_forKeyedSubscript_(v1117, v1120, (uint64_t)v1116, (uint64_t)v1119);

  v1121 = NSNumber;
  uint64_t v1122 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1123 = *(void *)(v1122 + 24);
  *(void *)(v1122 + 24) = v1123 + 1;
  v1126 = objc_msgSend_numberWithInteger_(v1121, v1124, v1123, v1125);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1127, (uint64_t)v1126, *MEMORY[0x263F57EA8]);

  v1128 = NSNumber;
  uint64_t v1129 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1130 = *(void *)(v1129 + 24);
  *(void *)(v1129 + 24) = v1130 + 1;
  v1133 = objc_msgSend_numberWithInteger_(v1128, v1131, v1130, v1132);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1134, (uint64_t)v1133, *MEMORY[0x263F57EA0]);

  v1135 = NSNumber;
  uint64_t v1136 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1137 = *(void *)(v1136 + 24);
  *(void *)(v1136 + 24) = v1137 + 1;
  v1140 = objc_msgSend_numberWithInteger_(v1135, v1138, v1137, v1139);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1141, (uint64_t)v1140, *MEMORY[0x263F57EB0]);

  v1142 = NSNumber;
  uint64_t v1143 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1144 = *(void *)(v1143 + 24);
  *(void *)(v1143 + 24) = v1144 + 1;
  v1147 = objc_msgSend_numberWithInteger_(v1142, v1145, v1144, v1146);
  uint64_t v2066 = *MEMORY[0x263F57CA0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1148, (uint64_t)v1147, *MEMORY[0x263F57CA0]);

  v1149 = NSNumber;
  uint64_t v1150 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1151 = *(void *)(v1150 + 24);
  *(void *)(v1150 + 24) = v1151 + 1;
  v1154 = objc_msgSend_numberWithInteger_(v1149, v1152, v1151, v1153);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1155, (uint64_t)v1154, *MEMORY[0x263F57CB8]);

  v1156 = NSNumber;
  uint64_t v1157 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1158 = *(void *)(v1157 + 24);
  *(void *)(v1157 + 24) = v1158 + 1;
  v1161 = objc_msgSend_numberWithInteger_(v1156, v1159, v1158, v1160);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1162, (uint64_t)v1161, *MEMORY[0x263F57C88]);

  v1163 = NSNumber;
  uint64_t v1164 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1165 = *(void *)(v1164 + 24);
  *(void *)(v1164 + 24) = v1165 + 1;
  v1168 = objc_msgSend_numberWithInteger_(v1163, v1166, v1165, v1167);
  uint64_t v1169 = *MEMORY[0x263F57CA8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1170, (uint64_t)v1168, *MEMORY[0x263F57CA8]);

  v1171 = NSNumber;
  uint64_t v1172 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1173 = *(void *)(v1172 + 24);
  *(void *)(v1172 + 24) = v1173 + 1;
  v1176 = objc_msgSend_numberWithInteger_(v1171, v1174, v1173, v1175);
  uint64_t v1177 = *MEMORY[0x263F57CC8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1178, (uint64_t)v1176, *MEMORY[0x263F57CC8]);

  v1179 = NSNumber;
  uint64_t v1180 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1181 = *(void *)(v1180 + 24);
  *(void *)(v1180 + 24) = v1181 + 1;
  v1184 = objc_msgSend_numberWithInteger_(v1179, v1182, v1181, v1183);
  uint64_t v2063 = *MEMORY[0x263F57CB0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1185, (uint64_t)v1184, *MEMORY[0x263F57CB0]);

  v1186 = NSNumber;
  uint64_t v1187 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1188 = *(void *)(v1187 + 24);
  *(void *)(v1187 + 24) = v1188 + 1;
  v1191 = objc_msgSend_numberWithInteger_(v1186, v1189, v1188, v1190);
  uint64_t v1192 = *MEMORY[0x263F57C90];
  uint64_t v2037 = *MEMORY[0x263F57C90];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1193, (uint64_t)v1191, *MEMORY[0x263F57C90]);

  v1194 = NSNumber;
  uint64_t v1195 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1196 = *(void *)(v1195 + 24);
  *(void *)(v1195 + 24) = v1196 + 1;
  v1199 = objc_msgSend_numberWithInteger_(v1194, v1197, v1196, v1198);
  uint64_t v1200 = *MEMORY[0x263F57C98];
  uint64_t v2040 = *MEMORY[0x263F57C98];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1201, (uint64_t)v1199, *MEMORY[0x263F57C98]);

  v1202 = NSNumber;
  uint64_t v1203 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1204 = *(void *)(v1203 + 24);
  *(void *)(v1203 + 24) = v1204 + 1;
  v1207 = objc_msgSend_numberWithInteger_(v1202, v1205, v1204, v1206);
  uint64_t v2044 = *MEMORY[0x263F57CC0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1208, (uint64_t)v1207, *MEMORY[0x263F57CC0]);

  v1209 = NSNumber;
  uint64_t v1210 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1211 = *(void *)(v1210 + 24);
  *(void *)(v1210 + 24) = v1211 + 1;
  v1214 = objc_msgSend_numberWithInteger_(v1209, v1212, v1211, v1213);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1215, (uint64_t)v1214, v2068);

  v1216 = NSNumber;
  uint64_t v1217 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1218 = *(void *)(v1217 + 24);
  *(void *)(v1217 + 24) = v1218 + 1;
  v1221 = objc_msgSend_numberWithInteger_(v1216, v1219, v1218, v1220);
  v1222 = (void *)qword_2691D8E78;
  v1224 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1223, v2066, v1200);
  objc_msgSend_setObject_forKeyedSubscript_(v1222, v1225, (uint64_t)v1221, (uint64_t)v1224);

  v1226 = NSNumber;
  uint64_t v1227 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1228 = *(void *)(v1227 + 24);
  *(void *)(v1227 + 24) = v1228 + 1;
  v1231 = objc_msgSend_numberWithInteger_(v1226, v1229, v1228, v1230);
  v1232 = (void *)qword_2691D8E78;
  v1234 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1233, v1192, *MEMORY[0x263F57AE8]);
  objc_msgSend_setObject_forKeyedSubscript_(v1232, v1235, (uint64_t)v1231, (uint64_t)v1234);

  v1236 = NSNumber;
  uint64_t v1237 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1238 = *(void *)(v1237 + 24);
  *(void *)(v1237 + 24) = v1238 + 1;
  v1241 = objc_msgSend_numberWithInteger_(v1236, v1239, v1238, v1240);
  v1242 = (void *)qword_2691D8E78;
  v1244 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1243, v1177, v1169);
  objc_msgSend_setObject_forKeyedSubscript_(v1242, v1245, (uint64_t)v1241, (uint64_t)v1244);

  v1246 = NSNumber;
  uint64_t v1247 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1248 = *(void *)(v1247 + 24);
  *(void *)(v1247 + 24) = v1248 + 1;
  v1251 = objc_msgSend_numberWithInteger_(v1246, v1249, v1248, v1250);
  v1252 = (void *)qword_2691D8E78;
  v1254 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1253, v2055, v2063);
  objc_msgSend_setObject_forKeyedSubscript_(v1252, v1255, (uint64_t)v1251, (uint64_t)v1254);

  v1256 = NSNumber;
  uint64_t v1257 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1258 = *(void *)(v1257 + 24);
  *(void *)(v1257 + 24) = v1258 + 1;
  v1261 = objc_msgSend_numberWithInteger_(v1256, v1259, v1258, v1260);
  v1262 = (void *)qword_2691D8E78;
  v1264 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1263, v2055, v1177);
  objc_msgSend_setObject_forKeyedSubscript_(v1262, v1265, (uint64_t)v1261, (uint64_t)v1264);

  v1266 = NSNumber;
  uint64_t v1267 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1268 = *(void *)(v1267 + 24);
  *(void *)(v1267 + 24) = v1268 + 1;
  v1271 = objc_msgSend_numberWithInteger_(v1266, v1269, v1268, v1270);
  v1272 = (void *)qword_2691D8E78;
  v1274 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1273, v2063, v1177);
  objc_msgSend_setObject_forKeyedSubscript_(v1272, v1275, (uint64_t)v1271, (uint64_t)v1274);

  v1276 = NSNumber;
  uint64_t v1277 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1278 = *(void *)(v1277 + 24);
  *(void *)(v1277 + 24) = v1278 + 1;
  v1281 = objc_msgSend_numberWithInteger_(v1276, v1279, v1278, v1280);
  uint64_t v2053 = *MEMORY[0x263F57EB8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1282, (uint64_t)v1281, *MEMORY[0x263F57EB8]);

  v1283 = NSNumber;
  uint64_t v1284 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1285 = *(void *)(v1284 + 24);
  *(void *)(v1284 + 24) = v1285 + 1;
  v1288 = objc_msgSend_numberWithInteger_(v1283, v1286, v1285, v1287);
  uint64_t v2056 = *MEMORY[0x263F57EE0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1289, (uint64_t)v1288, *MEMORY[0x263F57EE0]);

  v1290 = NSNumber;
  uint64_t v1291 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1292 = *(void *)(v1291 + 24);
  *(void *)(v1291 + 24) = v1292 + 1;
  v1295 = objc_msgSend_numberWithInteger_(v1290, v1293, v1292, v1294);
  uint64_t v2058 = *MEMORY[0x263F57ED8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1296, (uint64_t)v1295, *MEMORY[0x263F57ED8]);

  v1297 = NSNumber;
  uint64_t v1298 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1299 = *(void *)(v1298 + 24);
  *(void *)(v1298 + 24) = v1299 + 1;
  v1302 = objc_msgSend_numberWithInteger_(v1297, v1300, v1299, v1301);
  uint64_t v2064 = *MEMORY[0x263F57EC0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1303, (uint64_t)v1302, *MEMORY[0x263F57EC0]);

  v1304 = NSNumber;
  uint64_t v1305 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1306 = *(void *)(v1305 + 24);
  *(void *)(v1305 + 24) = v1306 + 1;
  v1309 = objc_msgSend_numberWithInteger_(v1304, v1307, v1306, v1308);
  uint64_t v2067 = *MEMORY[0x263F57EC8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1310, (uint64_t)v1309, *MEMORY[0x263F57EC8]);

  v1311 = NSNumber;
  uint64_t v1312 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1313 = *(void *)(v1312 + 24);
  *(void *)(v1312 + 24) = v1313 + 1;
  v1316 = objc_msgSend_numberWithInteger_(v1311, v1314, v1313, v1315);
  uint64_t v2069 = *MEMORY[0x263F57ED0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1317, (uint64_t)v1316, *MEMORY[0x263F57ED0]);

  v1318 = NSNumber;
  uint64_t v1319 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1320 = *(void *)(v1319 + 24);
  *(void *)(v1319 + 24) = v1320 + 1;
  v1323 = objc_msgSend_numberWithInteger_(v1318, v1321, v1320, v1322);
  uint64_t v1324 = *MEMORY[0x263F57FF8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1325, (uint64_t)v1323, *MEMORY[0x263F57FF8]);

  v1326 = NSNumber;
  uint64_t v1327 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1328 = *(void *)(v1327 + 24);
  *(void *)(v1327 + 24) = v1328 + 1;
  v1331 = objc_msgSend_numberWithInteger_(v1326, v1329, v1328, v1330);
  uint64_t v1332 = *MEMORY[0x263F57FD8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1333, (uint64_t)v1331, *MEMORY[0x263F57FD8]);

  v1334 = NSNumber;
  uint64_t v1335 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1336 = *(void *)(v1335 + 24);
  *(void *)(v1335 + 24) = v1336 + 1;
  v1339 = objc_msgSend_numberWithInteger_(v1334, v1337, v1336, v1338);
  uint64_t v1340 = *MEMORY[0x263F57FB0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1341, (uint64_t)v1339, *MEMORY[0x263F57FB0]);

  v1342 = NSNumber;
  uint64_t v1343 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1344 = *(void *)(v1343 + 24);
  *(void *)(v1343 + 24) = v1344 + 1;
  v1347 = objc_msgSend_numberWithInteger_(v1342, v1345, v1344, v1346);
  uint64_t v1999 = *MEMORY[0x263F58010];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1348, (uint64_t)v1347, *MEMORY[0x263F58010]);

  v1349 = NSNumber;
  uint64_t v1350 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1351 = *(void *)(v1350 + 24);
  *(void *)(v1350 + 24) = v1351 + 1;
  v1354 = objc_msgSend_numberWithInteger_(v1349, v1352, v1351, v1353);
  uint64_t v2001 = *MEMORY[0x263F57FC8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1355, (uint64_t)v1354, *MEMORY[0x263F57FC8]);

  v1356 = NSNumber;
  uint64_t v1357 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1358 = *(void *)(v1357 + 24);
  *(void *)(v1357 + 24) = v1358 + 1;
  v1361 = objc_msgSend_numberWithInteger_(v1356, v1359, v1358, v1360);
  uint64_t v2003 = *MEMORY[0x263F57FA8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1362, (uint64_t)v1361, *MEMORY[0x263F57FA8]);

  v1363 = NSNumber;
  uint64_t v1364 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1365 = *(void *)(v1364 + 24);
  *(void *)(v1364 + 24) = v1365 + 1;
  v1368 = objc_msgSend_numberWithInteger_(v1363, v1366, v1365, v1367);
  uint64_t v2005 = *MEMORY[0x263F57F98];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1369, (uint64_t)v1368, *MEMORY[0x263F57F98]);

  v1370 = NSNumber;
  uint64_t v1371 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1372 = *(void *)(v1371 + 24);
  *(void *)(v1371 + 24) = v1372 + 1;
  v1375 = objc_msgSend_numberWithInteger_(v1370, v1373, v1372, v1374);
  uint64_t v2007 = *MEMORY[0x263F57FA0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1376, (uint64_t)v1375, *MEMORY[0x263F57FA0]);

  v1377 = NSNumber;
  uint64_t v1378 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1379 = *(void *)(v1378 + 24);
  *(void *)(v1378 + 24) = v1379 + 1;
  v1382 = objc_msgSend_numberWithInteger_(v1377, v1380, v1379, v1381);
  uint64_t v2009 = *MEMORY[0x263F57F80];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1383, (uint64_t)v1382, *MEMORY[0x263F57F80]);

  v1384 = NSNumber;
  uint64_t v1385 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1386 = *(void *)(v1385 + 24);
  *(void *)(v1385 + 24) = v1386 + 1;
  v1389 = objc_msgSend_numberWithInteger_(v1384, v1387, v1386, v1388);
  uint64_t v2011 = *MEMORY[0x263F57FD0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1390, (uint64_t)v1389, *MEMORY[0x263F57FD0]);

  v1391 = NSNumber;
  uint64_t v1392 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1393 = *(void *)(v1392 + 24);
  *(void *)(v1392 + 24) = v1393 + 1;
  v1396 = objc_msgSend_numberWithInteger_(v1391, v1394, v1393, v1395);
  uint64_t v2013 = *MEMORY[0x263F57FF0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1397, (uint64_t)v1396, *MEMORY[0x263F57FF0]);

  v1398 = NSNumber;
  uint64_t v1399 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1400 = *(void *)(v1399 + 24);
  *(void *)(v1399 + 24) = v1400 + 1;
  v1403 = objc_msgSend_numberWithInteger_(v1398, v1401, v1400, v1402);
  uint64_t v2015 = *MEMORY[0x263F57FC0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1404, (uint64_t)v1403, *MEMORY[0x263F57FC0]);

  v1405 = NSNumber;
  uint64_t v1406 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1407 = *(void *)(v1406 + 24);
  *(void *)(v1406 + 24) = v1407 + 1;
  v1410 = objc_msgSend_numberWithInteger_(v1405, v1408, v1407, v1409);
  uint64_t v2017 = *MEMORY[0x263F57FB8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1411, (uint64_t)v1410, *MEMORY[0x263F57FB8]);

  v1412 = NSNumber;
  uint64_t v1413 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1414 = *(void *)(v1413 + 24);
  *(void *)(v1413 + 24) = v1414 + 1;
  v1417 = objc_msgSend_numberWithInteger_(v1412, v1415, v1414, v1416);
  uint64_t v2019 = *MEMORY[0x263F57FE0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1418, (uint64_t)v1417, *MEMORY[0x263F57FE0]);

  v1419 = NSNumber;
  uint64_t v1420 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1421 = *(void *)(v1420 + 24);
  *(void *)(v1420 + 24) = v1421 + 1;
  v1424 = objc_msgSend_numberWithInteger_(v1419, v1422, v1421, v1423);
  uint64_t v2022 = *MEMORY[0x263F57FE8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1425, (uint64_t)v1424, *MEMORY[0x263F57FE8]);

  v1426 = NSNumber;
  uint64_t v1427 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1428 = *(void *)(v1427 + 24);
  *(void *)(v1427 + 24) = v1428 + 1;
  v1431 = objc_msgSend_numberWithInteger_(v1426, v1429, v1428, v1430);
  uint64_t v2025 = *MEMORY[0x263F58000];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1432, (uint64_t)v1431, *MEMORY[0x263F58000]);

  v1433 = NSNumber;
  uint64_t v1434 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1435 = *(void *)(v1434 + 24);
  *(void *)(v1434 + 24) = v1435 + 1;
  v1438 = objc_msgSend_numberWithInteger_(v1433, v1436, v1435, v1437);
  uint64_t v2028 = *MEMORY[0x263F58008];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1439, (uint64_t)v1438, *MEMORY[0x263F58008]);

  v1440 = NSNumber;
  uint64_t v1441 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1442 = *(void *)(v1441 + 24);
  *(void *)(v1441 + 24) = v1442 + 1;
  v1445 = objc_msgSend_numberWithInteger_(v1440, v1443, v1442, v1444);
  uint64_t v2030 = *MEMORY[0x263F57F88];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1446, (uint64_t)v1445, *MEMORY[0x263F57F88]);

  v1447 = NSNumber;
  uint64_t v1448 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1449 = *(void *)(v1448 + 24);
  *(void *)(v1448 + 24) = v1449 + 1;
  v1452 = objc_msgSend_numberWithInteger_(v1447, v1450, v1449, v1451);
  uint64_t v2033 = *MEMORY[0x263F57F90];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1453, (uint64_t)v1452, *MEMORY[0x263F57F90]);

  v1454 = NSNumber;
  uint64_t v1455 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1456 = *(void *)(v1455 + 24);
  *(void *)(v1455 + 24) = v1456 + 1;
  v1459 = objc_msgSend_numberWithInteger_(v1454, v1457, v1456, v1458);
  v1460 = (void *)qword_2691D8E78;
  v1462 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1461, v1324, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1460, v1463, (uint64_t)v1459, (uint64_t)v1462);

  v1464 = NSNumber;
  uint64_t v1465 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1466 = *(void *)(v1465 + 24);
  *(void *)(v1465 + 24) = v1466 + 1;
  v1469 = objc_msgSend_numberWithInteger_(v1464, v1467, v1466, v1468);
  v1470 = (void *)qword_2691D8E78;
  v1472 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1471, v1332, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1470, v1473, (uint64_t)v1469, (uint64_t)v1472);

  v1474 = NSNumber;
  uint64_t v1475 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1476 = *(void *)(v1475 + 24);
  *(void *)(v1475 + 24) = v1476 + 1;
  v1479 = objc_msgSend_numberWithInteger_(v1474, v1477, v1476, v1478);
  v1480 = (void *)qword_2691D8E78;
  v1482 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1481, v1340, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1480, v1483, (uint64_t)v1479, (uint64_t)v1482);

  v1484 = NSNumber;
  uint64_t v1485 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1486 = *(void *)(v1485 + 24);
  *(void *)(v1485 + 24) = v1486 + 1;
  v1489 = objc_msgSend_numberWithInteger_(v1484, v1487, v1486, v1488);
  v1490 = (void *)qword_2691D8E78;
  v1492 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1491, v1999, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1490, v1493, (uint64_t)v1489, (uint64_t)v1492);

  v1494 = NSNumber;
  uint64_t v1495 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1496 = *(void *)(v1495 + 24);
  *(void *)(v1495 + 24) = v1496 + 1;
  v1499 = objc_msgSend_numberWithInteger_(v1494, v1497, v1496, v1498);
  v1500 = (void *)qword_2691D8E78;
  v1502 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1501, v2001, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1500, v1503, (uint64_t)v1499, (uint64_t)v1502);

  v1504 = NSNumber;
  uint64_t v1505 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1506 = *(void *)(v1505 + 24);
  *(void *)(v1505 + 24) = v1506 + 1;
  v1509 = objc_msgSend_numberWithInteger_(v1504, v1507, v1506, v1508);
  v1510 = (void *)qword_2691D8E78;
  v1512 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1511, v2003, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1510, v1513, (uint64_t)v1509, (uint64_t)v1512);

  v1514 = NSNumber;
  uint64_t v1515 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1516 = *(void *)(v1515 + 24);
  *(void *)(v1515 + 24) = v1516 + 1;
  v1519 = objc_msgSend_numberWithInteger_(v1514, v1517, v1516, v1518);
  v1520 = (void *)qword_2691D8E78;
  v1522 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1521, v2005, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1520, v1523, (uint64_t)v1519, (uint64_t)v1522);

  v1524 = NSNumber;
  uint64_t v1525 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1526 = *(void *)(v1525 + 24);
  *(void *)(v1525 + 24) = v1526 + 1;
  v1529 = objc_msgSend_numberWithInteger_(v1524, v1527, v1526, v1528);
  v1530 = (void *)qword_2691D8E78;
  v1532 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1531, v2007, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1530, v1533, (uint64_t)v1529, (uint64_t)v1532);

  v1534 = NSNumber;
  uint64_t v1535 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1536 = *(void *)(v1535 + 24);
  *(void *)(v1535 + 24) = v1536 + 1;
  v1539 = objc_msgSend_numberWithInteger_(v1534, v1537, v1536, v1538);
  v1540 = (void *)qword_2691D8E78;
  v1542 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1541, v2009, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1540, v1543, (uint64_t)v1539, (uint64_t)v1542);

  v1544 = NSNumber;
  uint64_t v1545 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1546 = *(void *)(v1545 + 24);
  *(void *)(v1545 + 24) = v1546 + 1;
  v1549 = objc_msgSend_numberWithInteger_(v1544, v1547, v1546, v1548);
  v1550 = (void *)qword_2691D8E78;
  v1552 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1551, v2011, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1550, v1553, (uint64_t)v1549, (uint64_t)v1552);

  v1554 = NSNumber;
  uint64_t v1555 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1556 = *(void *)(v1555 + 24);
  *(void *)(v1555 + 24) = v1556 + 1;
  v1559 = objc_msgSend_numberWithInteger_(v1554, v1557, v1556, v1558);
  v1560 = (void *)qword_2691D8E78;
  v1562 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1561, v2013, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1560, v1563, (uint64_t)v1559, (uint64_t)v1562);

  v1564 = NSNumber;
  uint64_t v1565 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1566 = *(void *)(v1565 + 24);
  *(void *)(v1565 + 24) = v1566 + 1;
  v1569 = objc_msgSend_numberWithInteger_(v1564, v1567, v1566, v1568);
  v1570 = (void *)qword_2691D8E78;
  v1572 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1571, v2015, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1570, v1573, (uint64_t)v1569, (uint64_t)v1572);

  v1574 = NSNumber;
  uint64_t v1575 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1576 = *(void *)(v1575 + 24);
  *(void *)(v1575 + 24) = v1576 + 1;
  v1579 = objc_msgSend_numberWithInteger_(v1574, v1577, v1576, v1578);
  v1580 = (void *)qword_2691D8E78;
  v1582 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1581, v2017, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1580, v1583, (uint64_t)v1579, (uint64_t)v1582);

  v1584 = NSNumber;
  uint64_t v1585 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1586 = *(void *)(v1585 + 24);
  *(void *)(v1585 + 24) = v1586 + 1;
  v1589 = objc_msgSend_numberWithInteger_(v1584, v1587, v1586, v1588);
  v1590 = (void *)qword_2691D8E78;
  v1592 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1591, v2019, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1590, v1593, (uint64_t)v1589, (uint64_t)v1592);

  v1594 = NSNumber;
  uint64_t v1595 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1596 = *(void *)(v1595 + 24);
  *(void *)(v1595 + 24) = v1596 + 1;
  v1599 = objc_msgSend_numberWithInteger_(v1594, v1597, v1596, v1598);
  v1600 = (void *)qword_2691D8E78;
  v1602 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1601, v2022, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1600, v1603, (uint64_t)v1599, (uint64_t)v1602);

  v1604 = NSNumber;
  uint64_t v1605 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1606 = *(void *)(v1605 + 24);
  *(void *)(v1605 + 24) = v1606 + 1;
  v1609 = objc_msgSend_numberWithInteger_(v1604, v1607, v1606, v1608);
  v1610 = (void *)qword_2691D8E78;
  v1612 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1611, v2025, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1610, v1613, (uint64_t)v1609, (uint64_t)v1612);

  v1614 = NSNumber;
  uint64_t v1615 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1616 = *(void *)(v1615 + 24);
  *(void *)(v1615 + 24) = v1616 + 1;
  v1619 = objc_msgSend_numberWithInteger_(v1614, v1617, v1616, v1618);
  v1620 = (void *)qword_2691D8E78;
  v1622 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1621, v2028, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1620, v1623, (uint64_t)v1619, (uint64_t)v1622);

  v1624 = NSNumber;
  uint64_t v1625 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1626 = *(void *)(v1625 + 24);
  *(void *)(v1625 + 24) = v1626 + 1;
  v1629 = objc_msgSend_numberWithInteger_(v1624, v1627, v1626, v1628);
  v1630 = (void *)qword_2691D8E78;
  v1632 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1631, v2030, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1630, v1633, (uint64_t)v1629, (uint64_t)v1632);

  v1634 = NSNumber;
  uint64_t v1635 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1636 = *(void *)(v1635 + 24);
  *(void *)(v1635 + 24) = v1636 + 1;
  v1639 = objc_msgSend_numberWithInteger_(v1634, v1637, v1636, v1638);
  v1640 = (void *)qword_2691D8E78;
  v1642 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1641, v2033, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1640, v1643, (uint64_t)v1639, (uint64_t)v1642);

  v1644 = NSNumber;
  uint64_t v1645 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1646 = *(void *)(v1645 + 24);
  *(void *)(v1645 + 24) = v1646 + 1;
  v1649 = objc_msgSend_numberWithInteger_(v1644, v1647, v1646, v1648);
  v1650 = (void *)qword_2691D8E78;
  v1652 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1651, v2047, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1650, v1653, (uint64_t)v1649, (uint64_t)v1652);

  v1654 = NSNumber;
  uint64_t v1655 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1656 = *(void *)(v1655 + 24);
  *(void *)(v1655 + 24) = v1656 + 1;
  v1659 = objc_msgSend_numberWithInteger_(v1654, v1657, v1656, v1658);
  v1660 = (void *)qword_2691D8E78;
  v1662 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1661, v2037, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1660, v1663, (uint64_t)v1659, (uint64_t)v1662);

  v1664 = NSNumber;
  uint64_t v1665 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1666 = *(void *)(v1665 + 24);
  *(void *)(v1665 + 24) = v1666 + 1;
  v1669 = objc_msgSend_numberWithInteger_(v1664, v1667, v1666, v1668);
  v1670 = (void *)qword_2691D8E78;
  v1672 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1671, v2040, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1670, v1673, (uint64_t)v1669, (uint64_t)v1672);

  v1674 = NSNumber;
  uint64_t v1675 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1676 = *(void *)(v1675 + 24);
  *(void *)(v1675 + 24) = v1676 + 1;
  v1679 = objc_msgSend_numberWithInteger_(v1674, v1677, v1676, v1678);
  v1680 = (void *)qword_2691D8E78;
  v1682 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1681, v2044, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1680, v1683, (uint64_t)v1679, (uint64_t)v1682);

  v1684 = NSNumber;
  uint64_t v1685 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1686 = *(void *)(v1685 + 24);
  *(void *)(v1685 + 24) = v1686 + 1;
  v1689 = objc_msgSend_numberWithInteger_(v1684, v1687, v1686, v1688);
  v1690 = (void *)qword_2691D8E78;
  v1692 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1691, v2060, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1690, v1693, (uint64_t)v1689, (uint64_t)v1692);

  v1694 = NSNumber;
  uint64_t v1695 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1696 = *(void *)(v1695 + 24);
  *(void *)(v1695 + 24) = v1696 + 1;
  v1699 = objc_msgSend_numberWithInteger_(v1694, v1697, v1696, v1698);
  v1700 = (void *)qword_2691D8E78;
  v1702 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1701, v2070, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1700, v1703, (uint64_t)v1699, (uint64_t)v1702);

  v1704 = NSNumber;
  uint64_t v1705 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1706 = *(void *)(v1705 + 24);
  *(void *)(v1705 + 24) = v1706 + 1;
  v1709 = objc_msgSend_numberWithInteger_(v1704, v1707, v1706, v1708);
  v1710 = (void *)qword_2691D8E78;
  v1712 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1711, v2050, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1710, v1713, (uint64_t)v1709, (uint64_t)v1712);

  v1714 = NSNumber;
  uint64_t v1715 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1716 = *(void *)(v1715 + 24);
  *(void *)(v1715 + 24) = v1716 + 1;
  v1719 = objc_msgSend_numberWithInteger_(v1714, v1717, v1716, v1718);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1720, (uint64_t)v1719, *MEMORY[0x263F57D30]);

  v1721 = NSNumber;
  uint64_t v1722 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1723 = *(void *)(v1722 + 24);
  *(void *)(v1722 + 24) = v1723 + 1;
  v1726 = objc_msgSend_numberWithInteger_(v1721, v1724, v1723, v1725);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1727, (uint64_t)v1726, *MEMORY[0x263F57D28]);

  v1728 = NSNumber;
  uint64_t v1729 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1730 = *(void *)(v1729 + 24);
  *(void *)(v1729 + 24) = v1730 + 1;
  v1733 = objc_msgSend_numberWithInteger_(v1728, v1731, v1730, v1732);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1734, (uint64_t)v1733, *MEMORY[0x263F57D18]);

  v1735 = NSNumber;
  uint64_t v1736 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1737 = *(void *)(v1736 + 24);
  *(void *)(v1736 + 24) = v1737 + 1;
  v1740 = objc_msgSend_numberWithInteger_(v1735, v1738, v1737, v1739);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1741, (uint64_t)v1740, *MEMORY[0x263F57CF0]);

  v1742 = NSNumber;
  uint64_t v1743 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1744 = *(void *)(v1743 + 24);
  *(void *)(v1743 + 24) = v1744 + 1;
  v1747 = objc_msgSend_numberWithInteger_(v1742, v1745, v1744, v1746);
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1748, (uint64_t)v1747, *MEMORY[0x263F57D38]);

  v1749 = NSNumber;
  uint64_t v1750 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1751 = *(void *)(v1750 + 24);
  *(void *)(v1750 + 24) = v1751 + 1;
  v1754 = objc_msgSend_numberWithInteger_(v1749, v1752, v1751, v1753);
  uint64_t v2045 = *MEMORY[0x263F57D00];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1755, (uint64_t)v1754, *MEMORY[0x263F57D00]);

  v1756 = NSNumber;
  uint64_t v1757 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1758 = *(void *)(v1757 + 24);
  *(void *)(v1757 + 24) = v1758 + 1;
  v1761 = objc_msgSend_numberWithInteger_(v1756, v1759, v1758, v1760);
  uint64_t v2071 = *MEMORY[0x263F57D20];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1762, (uint64_t)v1761, *MEMORY[0x263F57D20]);

  v1763 = NSNumber;
  uint64_t v1764 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1765 = *(void *)(v1764 + 24);
  *(void *)(v1764 + 24) = v1765 + 1;
  v1768 = objc_msgSend_numberWithInteger_(v1763, v1766, v1765, v1767);
  uint64_t v2061 = *MEMORY[0x263F57CE8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1769, (uint64_t)v1768, *MEMORY[0x263F57CE8]);

  v1770 = NSNumber;
  uint64_t v1771 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1772 = *(void *)(v1771 + 24);
  *(void *)(v1771 + 24) = v1772 + 1;
  v1775 = objc_msgSend_numberWithInteger_(v1770, v1773, v1772, v1774);
  uint64_t v2034 = *MEMORY[0x263F57D08];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1776, (uint64_t)v1775, *MEMORY[0x263F57D08]);

  v1777 = NSNumber;
  uint64_t v1778 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1779 = *(void *)(v1778 + 24);
  *(void *)(v1778 + 24) = v1779 + 1;
  v1782 = objc_msgSend_numberWithInteger_(v1777, v1780, v1779, v1781);
  uint64_t v2038 = *MEMORY[0x263F57D40];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1783, (uint64_t)v1782, *MEMORY[0x263F57D40]);

  v1784 = NSNumber;
  uint64_t v1785 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1786 = *(void *)(v1785 + 24);
  *(void *)(v1785 + 24) = v1786 + 1;
  v1789 = objc_msgSend_numberWithInteger_(v1784, v1787, v1786, v1788);
  uint64_t v2048 = *MEMORY[0x263F57D48];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1790, (uint64_t)v1789, *MEMORY[0x263F57D48]);

  v1791 = NSNumber;
  uint64_t v1792 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1793 = *(void *)(v1792 + 24);
  *(void *)(v1792 + 24) = v1793 + 1;
  v1796 = objc_msgSend_numberWithInteger_(v1791, v1794, v1793, v1795);
  uint64_t v2031 = *MEMORY[0x263F57CD8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1797, (uint64_t)v1796, *MEMORY[0x263F57CD8]);

  v1798 = NSNumber;
  uint64_t v1799 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1800 = *(void *)(v1799 + 24);
  *(void *)(v1799 + 24) = v1800 + 1;
  v1803 = objc_msgSend_numberWithInteger_(v1798, v1801, v1800, v1802);
  uint64_t v2051 = *MEMORY[0x263F57D10];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1804, (uint64_t)v1803, *MEMORY[0x263F57D10]);

  v1805 = NSNumber;
  uint64_t v1806 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1807 = *(void *)(v1806 + 24);
  *(void *)(v1806 + 24) = v1807 + 1;
  v1810 = objc_msgSend_numberWithInteger_(v1805, v1808, v1807, v1809);
  uint64_t v2041 = *MEMORY[0x263F57CF8];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1811, (uint64_t)v1810, *MEMORY[0x263F57CF8]);

  v1812 = NSNumber;
  uint64_t v1813 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1814 = *(void *)(v1813 + 24);
  *(void *)(v1813 + 24) = v1814 + 1;
  v1817 = objc_msgSend_numberWithInteger_(v1812, v1815, v1814, v1816);
  uint64_t v1818 = *MEMORY[0x263F57CD0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1819, (uint64_t)v1817, *MEMORY[0x263F57CD0]);

  v1820 = NSNumber;
  uint64_t v1821 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1822 = *(void *)(v1821 + 24);
  *(void *)(v1821 + 24) = v1822 + 1;
  v1825 = objc_msgSend_numberWithInteger_(v1820, v1823, v1822, v1824);
  uint64_t v1826 = *MEMORY[0x263F57CE0];
  objc_msgSend_setObject_forKeyedSubscript_((void *)qword_2691D8E78, v1827, (uint64_t)v1825, *MEMORY[0x263F57CE0]);

  v1828 = NSNumber;
  uint64_t v1829 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1830 = *(void *)(v1829 + 24);
  *(void *)(v1829 + 24) = v1830 + 1;
  v1833 = objc_msgSend_numberWithInteger_(v1828, v1831, v1830, v1832);
  v1834 = (void *)qword_2691D8E78;
  v1836 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1835, v2053, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1834, v1837, (uint64_t)v1833, (uint64_t)v1836);

  v1838 = NSNumber;
  uint64_t v1839 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1840 = *(void *)(v1839 + 24);
  *(void *)(v1839 + 24) = v1840 + 1;
  v1843 = objc_msgSend_numberWithInteger_(v1838, v1841, v1840, v1842);
  v1844 = (void *)qword_2691D8E78;
  v1846 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1845, v2056, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1844, v1847, (uint64_t)v1843, (uint64_t)v1846);

  v1848 = NSNumber;
  uint64_t v1849 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1850 = *(void *)(v1849 + 24);
  *(void *)(v1849 + 24) = v1850 + 1;
  v1853 = objc_msgSend_numberWithInteger_(v1848, v1851, v1850, v1852);
  v1854 = (void *)qword_2691D8E78;
  v1856 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1855, v2058, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1854, v1857, (uint64_t)v1853, (uint64_t)v1856);

  v1858 = NSNumber;
  uint64_t v1859 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1860 = *(void *)(v1859 + 24);
  *(void *)(v1859 + 24) = v1860 + 1;
  v1863 = objc_msgSend_numberWithInteger_(v1858, v1861, v1860, v1862);
  v1864 = (void *)qword_2691D8E78;
  v1866 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1865, v2064, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1864, v1867, (uint64_t)v1863, (uint64_t)v1866);

  v1868 = NSNumber;
  uint64_t v1869 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1870 = *(void *)(v1869 + 24);
  *(void *)(v1869 + 24) = v1870 + 1;
  v1873 = objc_msgSend_numberWithInteger_(v1868, v1871, v1870, v1872);
  v1874 = (void *)qword_2691D8E78;
  v1876 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1875, v2067, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1874, v1877, (uint64_t)v1873, (uint64_t)v1876);

  v1878 = NSNumber;
  uint64_t v1879 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1880 = *(void *)(v1879 + 24);
  *(void *)(v1879 + 24) = v1880 + 1;
  v1883 = objc_msgSend_numberWithInteger_(v1878, v1881, v1880, v1882);
  v1884 = (void *)qword_2691D8E78;
  v1886 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1885, v2069, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1884, v1887, (uint64_t)v1883, (uint64_t)v1886);

  v1888 = NSNumber;
  uint64_t v1889 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1890 = *(void *)(v1889 + 24);
  *(void *)(v1889 + 24) = v1890 + 1;
  v1893 = objc_msgSend_numberWithInteger_(v1888, v1891, v1890, v1892);
  v1894 = (void *)qword_2691D8E78;
  v1896 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1895, v1826, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1894, v1897, (uint64_t)v1893, (uint64_t)v1896);

  v1898 = NSNumber;
  uint64_t v1899 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1900 = *(void *)(v1899 + 24);
  *(void *)(v1899 + 24) = v1900 + 1;
  v1903 = objc_msgSend_numberWithInteger_(v1898, v1901, v1900, v1902);
  v1904 = (void *)qword_2691D8E78;
  v1906 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1905, v2034, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1904, v1907, (uint64_t)v1903, (uint64_t)v1906);

  v1908 = NSNumber;
  uint64_t v1909 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1910 = *(void *)(v1909 + 24);
  *(void *)(v1909 + 24) = v1910 + 1;
  v1913 = objc_msgSend_numberWithInteger_(v1908, v1911, v1910, v1912);
  v1914 = (void *)qword_2691D8E78;
  v1916 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1915, v2038, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1914, v1917, (uint64_t)v1913, (uint64_t)v1916);

  v1918 = NSNumber;
  uint64_t v1919 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1920 = *(void *)(v1919 + 24);
  *(void *)(v1919 + 24) = v1920 + 1;
  v1923 = objc_msgSend_numberWithInteger_(v1918, v1921, v1920, v1922);
  v1924 = (void *)qword_2691D8E78;
  v1926 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1925, v2031, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1924, v1927, (uint64_t)v1923, (uint64_t)v1926);

  v1928 = NSNumber;
  uint64_t v1929 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1930 = *(void *)(v1929 + 24);
  *(void *)(v1929 + 24) = v1930 + 1;
  v1933 = objc_msgSend_numberWithInteger_(v1928, v1931, v1930, v1932);
  v1934 = (void *)qword_2691D8E78;
  v1936 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1935, v2045, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1934, v1937, (uint64_t)v1933, (uint64_t)v1936);

  v1938 = NSNumber;
  uint64_t v1939 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1940 = *(void *)(v1939 + 24);
  *(void *)(v1939 + 24) = v1940 + 1;
  v1943 = objc_msgSend_numberWithInteger_(v1938, v1941, v1940, v1942);
  v1944 = (void *)qword_2691D8E78;
  v1946 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1945, v1818, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1944, v1947, (uint64_t)v1943, (uint64_t)v1946);

  v1948 = NSNumber;
  uint64_t v1949 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1950 = *(void *)(v1949 + 24);
  *(void *)(v1949 + 24) = v1950 + 1;
  v1953 = objc_msgSend_numberWithInteger_(v1948, v1951, v1950, v1952);
  v1954 = (void *)qword_2691D8E78;
  v1956 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1955, v2041, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1954, v1957, (uint64_t)v1953, (uint64_t)v1956);

  v1958 = NSNumber;
  uint64_t v1959 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1960 = *(void *)(v1959 + 24);
  *(void *)(v1959 + 24) = v1960 + 1;
  v1963 = objc_msgSend_numberWithInteger_(v1958, v1961, v1960, v1962);
  v1964 = (void *)qword_2691D8E78;
  v1966 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1965, v2061, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1964, v1967, (uint64_t)v1963, (uint64_t)v1966);

  v1968 = NSNumber;
  uint64_t v1969 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1970 = *(void *)(v1969 + 24);
  *(void *)(v1969 + 24) = v1970 + 1;
  v1973 = objc_msgSend_numberWithInteger_(v1968, v1971, v1970, v1972);
  v1974 = (void *)qword_2691D8E78;
  v1976 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1975, v2048, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1974, v1977, (uint64_t)v1973, (uint64_t)v1976);

  v1978 = NSNumber;
  uint64_t v1979 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1980 = *(void *)(v1979 + 24);
  *(void *)(v1979 + 24) = v1980 + 1;
  v1983 = objc_msgSend_numberWithInteger_(v1978, v1981, v1980, v1982);
  v1984 = (void *)qword_2691D8E78;
  v1986 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1985, v2071, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1984, v1987, (uint64_t)v1983, (uint64_t)v1986);

  v1988 = NSNumber;
  uint64_t v1989 = *(void *)(*(void *)(a1 + 32) + 8);
  uint64_t v1990 = *(void *)(v1989 + 24);
  *(void *)(v1989 + 24) = v1990 + 1;
  v2072 = objc_msgSend_numberWithInteger_(v1988, v1991, v1990, v1992);
  v1993 = (void *)qword_2691D8E78;
  v1995 = objc_msgSend_duotoneNameWithName_otherName_(MEMORY[0x263F57A50], v1994, v2051, @"duotone");
  objc_msgSend_setObject_forKeyedSubscript_(v1993, v1996, (uint64_t)v2072, (uint64_t)v1995);
}

uint64_t sub_246B74CD0(void *a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_transitionFraction(a1, a2, a3, a4);
  if (v8 >= 0.5) {
    objc_msgSend_toPalette(a1, v5, v6, v7);
  }
  else {
  uint64_t v9 = objc_msgSend_fromPalette(a1, v5, v6, v7);
  }
  uint64_t isVibrantOption = objc_msgSend_isVibrantOption(v9, v10, v11, v12);

  return isVibrantOption;
}

uint64_t sub_246B74D2C(void *a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_transitionFraction(a1, a2, a3, a4);
  if (v8 >= 0.5) {
    objc_msgSend_toPalette(a1, v5, v6, v7);
  }
  else {
  uint64_t v9 = objc_msgSend_fromPalette(a1, v5, v6, v7);
  }
  uint64_t isPlainOption = objc_msgSend_isPlainOption(v9, v10, v11, v12);

  return isPlainOption;
}

uint64_t sub_246B74D88(void *a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_transitionFraction(a1, a2, a3, a4);
  if (v8 >= 0.5) {
    objc_msgSend_toPalette(a1, v5, v6, v7);
  }
  else {
  uint64_t v9 = objc_msgSend_fromPalette(a1, v5, v6, v7);
  }
  uint64_t isTritoneOption = objc_msgSend_isTritoneOption(v9, v10, v11, v12);

  return isTritoneOption;
}

id sub_246B7506C(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = objc_msgSend_sharedPhotoLibrary(MEMORY[0x263F14E98], a2, a3, a4);
  id v6 = objc_alloc(MEMORY[0x263F15210]);
  uint64_t v9 = objc_msgSend_initWithPhotoLibrary_(v6, v7, (uint64_t)v5, v8);
  objc_msgSend_setSelection_(v9, v10, 0, v11);
  uint64_t v15 = objc_msgSend_imagesFilter(MEMORY[0x263F15218], v12, v13, v14);
  objc_msgSend_setFilter_(v9, v16, (uint64_t)v15, v17);

  objc_msgSend_setSelectionLimit_(v9, v18, a3, v19);
  uint64_t v23 = objc_msgSend_watchWallpaperSuggestionGroup(MEMORY[0x263F15228], v20, v21, v22);
  objc_msgSend_set_suggestionGroup_(v9, v24, (uint64_t)v23, v25);

  objc_msgSend_setDisabledCapabilities_(v9, v26, 18, v27);
  objc_msgSend__setDisabledPrivateCapabilities_(v9, v28, 3, v29);

  return v9;
}

void sub_246B75CB8(uint64_t a1, const char *a2)
{
  uint64_t v2 = objc_msgSend_fontDescriptorForSectName_uniqueCacheIdentifier_fromMachO_(MEMORY[0x263F57A00], a2, @"__Soft", @"Parmesan", &dword_246B51000);
  id v3 = (void *)qword_2691D8E80;
  qword_2691D8E80 = v2;
}

void sub_246B75DD8(uint64_t a1, const char *a2)
{
  uint64_t v2 = objc_msgSend_fontDescriptorForSectName_uniqueCacheIdentifier_fromMachO_(MEMORY[0x263F57A00], a2, @"__NewYork", @"Parmesan", &dword_246B51000);
  id v3 = (void *)qword_2691D8E90;
  qword_2691D8E90 = v2;
}

void sub_246B75EF8(uint64_t a1, const char *a2)
{
  uint64_t v2 = objc_msgSend_fontDescriptorForSectName_uniqueCacheIdentifier_fromMachO_(MEMORY[0x263F57A00], a2, @"__Tokyo", @"Parmesan", &dword_246B51000);
  id v3 = (void *)qword_2691D8EA0;
  qword_2691D8EA0 = v2;
}

void sub_246B76058(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t sub_246B76070(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void sub_246B76080(uint64_t a1)
{
}

void sub_246B76088(uint64_t a1, id a2, void *a3)
{
  CFDictionaryRef v4 = *(void **)(*(void *)(*(void *)(a1 + 32) + 8) + 40);
  uint64_t v5 = NSNumber;
  id v6 = a2;
  id v7 = a3;
  objc_msgSend_UTF8String(v6, v8, v9, v10);
  uint64_t v11 = TextToFourCharCode();
  objc_msgSend_numberWithUnsignedInt_(v5, v12, v11, v13);
  id v15 = (id)objc_claimAutoreleasedReturnValue();
  objc_msgSend_setObject_forKey_(v4, v14, (uint64_t)v7, (uint64_t)v15);
}

void sub_246B76928(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t sub_246B7694C(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void sub_246B7695C(uint64_t a1)
{
}

void sub_246B76964(uint64_t a1)
{
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B76A04;
  block[3] = &unk_2651FC388;
  uint64_t v1 = *(void *)(a1 + 56);
  void block[4] = *(void *)(a1 + 32);
  uint64_t v6 = v1;
  long long v3 = *(_OWORD *)(a1 + 40);
  id v2 = (id)v3;
  long long v5 = v3;
  dispatch_async(MEMORY[0x263EF83A0], block);
}

void sub_246B76A04(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  objc_msgSend_setState_(*(void **)(a1 + 32), a2, *(void *)(a1 + 56), a4);
  objc_msgSend_setGalleryPreviewResourceDirectory_(*(void **)(a1 + 32), v5, *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40), v6);
  uint64_t v7 = *(void *)(a1 + 40);
  objc_msgSend_galleryPreviewResourceDirectory(*(void **)(a1 + 32), v8, v9, v10);
  id v11 = (id)objc_claimAutoreleasedReturnValue();
  (*(void (**)(uint64_t, id))(v7 + 16))(v7, v11);
}

void sub_246B76A84(uint64_t a1)
{
  uint64_t v1 = *(void **)(a1 + 32);
  v5[0] = MEMORY[0x263EF8330];
  v5[1] = 3221225472;
  v5[2] = sub_246B76B24;
  v5[3] = &unk_2651FC3D8;
  v5[4] = v1;
  long long v4 = *(_OWORD *)(a1 + 40);
  id v2 = (id)v4;
  long long v6 = v4;
  objc_msgSend__createResourceDirectoryForSinglePHAssetWithPreviewOnly_completion_(v1, v3, 1, (uint64_t)v5);
}

void sub_246B76B24(uint64_t a1, void *a2)
{
  id v6 = a2;
  if (!v6)
  {
    uint64_t v7 = objc_msgSend_logObject(NTKParmesanFaceBundle, v3, v4, v5);
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR)) {
      sub_246C2B354(a1, v7);
    }
  }
  uint64_t v8 = *(void *)(*(void *)(a1 + 48) + 8);
  uint64_t v9 = *(void **)(v8 + 40);
  *(void *)(v8 + 40) = v6;
  id v10 = v6;

  (*(void (**)(void, BOOL))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), v10 != 0);
}

uint64_t sub_246B770E8(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void sub_246B770FC(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v4 = *(void *)(a1 + 40);
  objc_msgSend_resourceDirectory(*(void **)(a1 + 32), a2, a3, a4);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  (*(void (**)(uint64_t, id))(v4 + 16))(v4, v5);
}

void sub_246B77158(uint64_t a1)
{
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B77258;
  block[3] = &unk_2651FBB10;
  id v7 = *(id *)(a1 + 40);
  dispatch_async(MEMORY[0x263EF83A0], block);
  id v2 = *(void **)(a1 + 32);
  v4[0] = MEMORY[0x263EF8330];
  v4[1] = 3221225472;
  v4[2] = sub_246B7726C;
  void v4[3] = &unk_2651FB930;
  v4[4] = v2;
  id v5 = *(id *)(a1 + 48);
  objc_msgSend__createResourceDirectoryForSinglePHAssetWithPreviewOnly_completion_(v2, v3, 0, (uint64_t)v4);
}

uint64_t sub_246B77258(uint64_t a1)
{
  return (*(uint64_t (**)(double))(*(void *)(a1 + 32) + 16))(1.0);
}

void sub_246B7726C(uint64_t a1, void *a2)
{
  id v3 = a2;
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B7731C;
  block[3] = &unk_2651FC428;
  uint64_t v4 = *(void *)(a1 + 32);
  id v5 = *(void **)(a1 + 40);
  id v8 = v3;
  uint64_t v9 = v4;
  id v10 = v5;
  id v6 = v3;
  dispatch_async(MEMORY[0x263EF83A0], block);
}

void sub_246B7731C(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v29 = *MEMORY[0x263EF8340];
  uint64_t v5 = *(void *)(a1 + 32);
  id v6 = objc_msgSend_logObject(NTKParmesanFaceBundle, a2, a3, a4);
  id v7 = v6;
  if (v5)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_INFO))
    {
      uint64_t v8 = *(void *)(a1 + 32);
      int v25 = 136315394;
      uint64_t v26 = "-[NTKCParmesanAlbumEditor finalizeWithProgress:completion:]_block_invoke";
      __int16 v27 = 2112;
      uint64_t v28 = v8;
      _os_log_impl(&dword_246B51000, v7, OS_LOG_TYPE_INFO, "%s: Editor finished finalizing with resource directory: %@", (uint8_t *)&v25, 0x16u);
    }
  }
  else if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
  {
    sub_246C2B468(v7, v9, v10, v11, v12, v13, v14, v15);
  }

  objc_msgSend_setResourceDirectory_(*(void **)(a1 + 40), v16, *(void *)(a1 + 32), v17);
  objc_msgSend_setState_(*(void **)(a1 + 40), v18, 1, v19);
  uint64_t v20 = *(void *)(a1 + 48);
  uint64_t v24 = objc_msgSend_resourceDirectory(*(void **)(a1 + 40), v21, v22, v23);
  (*(void (**)(uint64_t, void *))(v20 + 16))(v20, v24);
}

void sub_246B77788(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_246B777AC(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v43 = *MEMORY[0x263EF8340];
  uint64_t v5 = objc_msgSend_firstObject(a2, (const char *)a2, a3, a4);
  uint64_t v9 = objc_opt_new();
  if (v5)
  {
    uint64_t v10 = objc_msgSend_asDictionary(v5, v6, v7, v8);
    objc_msgSend_addObject_(v9, v11, (uint64_t)v10, v12);
  }
  uint64_t v13 = objc_msgSend_uuidString(*(void **)(a1 + 32), v6, v7, v8);

  if (!v13)
  {
    uint64_t v17 = objc_msgSend_UUID(MEMORY[0x263F08C38], v14, v15, v16);
    uint64_t v21 = objc_msgSend_UUIDString(v17, v18, v19, v20);

    int v25 = objc_msgSend_logObject(NTKParmesanFaceBundle, v22, v23, v24);
    if (os_log_type_enabled(v25, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v29 = objc_msgSend_shuffleSelection(*(void **)(a1 + 32), v26, v27, v28);
      int v39 = 138412546;
      uint64_t v40 = v29;
      __int16 v41 = 2112;
      uint64_t v42 = v21;
      _os_log_impl(&dword_246B51000, v25, OS_LOG_TYPE_DEFAULT, "_createResourceDirectoryForSinglePHAssetWithPreviewOnly: creating new uuid for %@ ==> %@", (uint8_t *)&v39, 0x16u);
    }
    objc_msgSend_setUuidString_(*(void **)(a1 + 32), v30, (uint64_t)v21, v31);
  }
  if ((objc_msgSend__writeImageList_version_toDirectory_(*(void **)(a1 + 32), v14, (uint64_t)v9, 2, *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40)) & 1) == 0)
  {
    uint64_t v35 = objc_msgSend_defaultManager(MEMORY[0x263F08850], v32, v33, v34);
    objc_msgSend_removeItemAtPath_error_(v35, v36, *(void *)(*(void *)(*(void *)(a1 + 48) + 8) + 40), 0);

    uint64_t v37 = *(void *)(*(void *)(a1 + 48) + 8);
    long long v38 = *(void **)(v37 + 40);
    *(void *)(v37 + 40) = 0;
  }
  (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
}

void sub_246B789BC(void *a1, uint64_t a2, uint64_t a3, const char *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint8_t a9)
{
  _os_log_error_impl(a1, v9, OS_LOG_TYPE_ERROR, a4, &a9, 0xCu);
}

void sub_246B7963C(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  v177[1] = *MEMORY[0x263EF8340];
  uint64_t v4 = objc_msgSend___valueToFaceBundleStringDict(MEMORY[0x263F579F0], a2, a3, a4);
  uint64_t v8 = objc_msgSend_mutableCopy(v4, v5, v6, v7);

  uint64_t v176 = &unk_26FB353B8;
  v177[0] = @"plain";
  uint64_t v10 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v9, (uint64_t)v177, (uint64_t)&v176, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v11, (uint64_t)v10, v12);

  float32x4_t v174 = &unk_26FB353D0;
  uint64_t v175 = @"vibrant";
  uint64_t v14 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v13, (uint64_t)&v175, (uint64_t)&v174, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v15, (uint64_t)v14, v16);

  float32x4_t v172 = &unk_26FB353E8;
  uint64_t v173 = *MEMORY[0x263F57870];
  uint64_t v18 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v17, (uint64_t)&v173, (uint64_t)&v172, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v19, (uint64_t)v18, v20);

  uint64_t v170 = &unk_26FB35400;
  uint64_t v171 = *MEMORY[0x263F57878];
  uint64_t v22 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v21, (uint64_t)&v171, (uint64_t)&v170, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v23, (uint64_t)v22, v24);

  float32x4_t v168 = &unk_26FB35418;
  uint64_t v169 = *MEMORY[0x263F57880];
  uint64_t v26 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v25, (uint64_t)&v169, (uint64_t)&v168, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v27, (uint64_t)v26, v28);

  uint64_t v166 = &unk_26FB35430;
  uint64_t v167 = *MEMORY[0x263F57888];
  uint64_t v30 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v29, (uint64_t)&v167, (uint64_t)&v166, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v31, (uint64_t)v30, v32);

  uint64_t v164 = &unk_26FB35448;
  uint64_t v165 = *MEMORY[0x263F57890];
  uint64_t v34 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v33, (uint64_t)&v165, (uint64_t)&v164, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v35, (uint64_t)v34, v36);

  double v162 = &unk_26FB35460;
  uint64_t v163 = *MEMORY[0x263F57898];
  long long v38 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v37, (uint64_t)&v163, (uint64_t)&v162, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v39, (uint64_t)v38, v40);

  uint64_t v160 = &unk_26FB35478;
  uint64_t v161 = *MEMORY[0x263F578A0];
  uint64_t v42 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v41, (uint64_t)&v161, (uint64_t)&v160, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v43, (uint64_t)v42, v44);

  uint64_t v158 = &unk_26FB35490;
  uint64_t v159 = *MEMORY[0x263F578A8];
  uint64_t v46 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v45, (uint64_t)&v159, (uint64_t)&v158, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v47, (uint64_t)v46, v48);

  uint64_t v156 = &unk_26FB354A8;
  uint64_t v157 = *MEMORY[0x263F578B0];
  uint64_t v50 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v49, (uint64_t)&v157, (uint64_t)&v156, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v51, (uint64_t)v50, v52);

  uint64_t v154 = &unk_26FB354C0;
  uint64_t v155 = *MEMORY[0x263F578B8];
  uint64_t v54 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v53, (uint64_t)&v155, (uint64_t)&v154, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v55, (uint64_t)v54, v56);

  uint64_t v152 = &unk_26FB354D8;
  uint64_t v153 = *MEMORY[0x263F578C0];
  uint64_t v58 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v57, (uint64_t)&v153, (uint64_t)&v152, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v59, (uint64_t)v58, v60);

  float32x4_t v150 = &unk_26FB354F0;
  uint64_t v151 = *MEMORY[0x263F578C8];
  uint64_t v62 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v61, (uint64_t)&v151, (uint64_t)&v150, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v63, (uint64_t)v62, v64);

  float32x4_t v148 = &unk_26FB35508;
  uint64_t v149 = *MEMORY[0x263F578D0];
  int32x2_t v66 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v65, (uint64_t)&v149, (uint64_t)&v148, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v67, (uint64_t)v66, v68);

  uint64_t v146 = &unk_26FB35520;
  uint64_t v147 = *MEMORY[0x263F578D8];
  uint64_t v70 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v69, (uint64_t)&v147, (uint64_t)&v146, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v71, (uint64_t)v70, v72);

  uint64_t v144 = &unk_26FB35538;
  uint64_t v145 = *MEMORY[0x263F578E0];
  uint64_t v74 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v73, (uint64_t)&v145, (uint64_t)&v144, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v75, (uint64_t)v74, v76);

  float32x4_t v142 = &unk_26FB35550;
  uint64_t v143 = @"dual tone 16";
  uint64_t v78 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v77, (uint64_t)&v143, (uint64_t)&v142, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v79, (uint64_t)v78, v80);

  float32x4_t v140 = &unk_26FB35568;
  uint64_t v141 = @"dual tone 17";
  uint64_t v82 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v81, (uint64_t)&v141, (uint64_t)&v140, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v83, (uint64_t)v82, v84);

  uint64_t v138 = &unk_26FB35580;
  id v139 = @"dual tone 18";
  uint64_t v86 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v85, (uint64_t)&v139, (uint64_t)&v138, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v87, (uint64_t)v86, v88);

  int8x16_t v136 = &unk_26FB35598;
  uint64_t v137 = @"dual tone 19";
  uint64_t v90 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v89, (uint64_t)&v137, (uint64_t)&v136, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v91, (uint64_t)v90, v92);

  int8x16_t v134 = &unk_26FB355B0;
  uint64_t v135 = @"dual tone 20";
  uint64_t v94 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v93, (uint64_t)&v135, (uint64_t)&v134, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v95, (uint64_t)v94, v96);

  uint64_t v132 = &unk_26FB355C8;
  uint64_t v133 = @"tritone-01";
  uint64_t v98 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v97, (uint64_t)&v133, (uint64_t)&v132, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v99, (uint64_t)v98, v100);

  uint64_t v130 = &unk_26FB355E0;
  uint64_t v131 = @"tritone-02";
  uint64_t v102 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v101, (uint64_t)&v131, (uint64_t)&v130, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v103, (uint64_t)v102, v104);

  uint64_t v128 = &unk_26FB355F8;
  uint64_t v129 = @"tritone-03";
  uint64_t v106 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v105, (uint64_t)&v129, (uint64_t)&v128, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v107, (uint64_t)v106, v108);

  id v126 = &unk_26FB35610;
  int8x16_t v127 = @"tritone-04";
  uint64_t v110 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v109, (uint64_t)&v127, (uint64_t)&v126, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v111, (uint64_t)v110, v112);

  uint64_t v124 = &unk_26FB35628;
  uint64_t v125 = @"tritone-05";
  uint64_t v114 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v113, (uint64_t)&v125, (uint64_t)&v124, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v115, (uint64_t)v114, v116);

  uint64_t v122 = &unk_26FB35640;
  uint64_t v123 = @"tritone-06";
  float32x4_t v118 = objc_msgSend_dictionaryWithObjects_forKeys_count_(NSDictionary, v117, (uint64_t)&v123, (uint64_t)&v122, 1);
  objc_msgSend_addEntriesFromDictionary_(v8, v119, (uint64_t)v118, v120);

  uint64_t v121 = (void *)qword_2691D8EB0;
  qword_2691D8EB0 = (uint64_t)v8;
}

void sub_246B7A1D8(uint64_t a1, void *a2)
{
  id v2 = a2;
  id v59 = (id)objc_opt_new();
  uint64_t v5 = objc_msgSend___orderedValuesForDevice_(MEMORY[0x263F579F0], v3, (uint64_t)v2, v4);

  objc_msgSend_addObjectsFromArray_(v59, v6, (uint64_t)v5, v7);
  uint64_t v11 = objc_msgSend__thirdPartyValues(MEMORY[0x263F579F0], v8, v9, v10);
  objc_msgSend_removeObjectsInArray_(v59, v12, (uint64_t)v11, v13);

  objc_msgSend_addObject_(v59, v14, (uint64_t)&unk_26FB355B0, v15);
  objc_msgSend_addObject_(v59, v16, (uint64_t)&unk_26FB35598, v17);
  objc_msgSend_addObject_(v59, v18, (uint64_t)&unk_26FB35580, v19);
  objc_msgSend_addObject_(v59, v20, (uint64_t)&unk_26FB35568, v21);
  objc_msgSend_addObject_(v59, v22, (uint64_t)&unk_26FB35550, v23);
  objc_msgSend_addObject_(v59, v24, (uint64_t)&unk_26FB35538, v25);
  objc_msgSend_addObject_(v59, v26, (uint64_t)&unk_26FB35520, v27);
  objc_msgSend_addObject_(v59, v28, (uint64_t)&unk_26FB35508, v29);
  objc_msgSend_addObject_(v59, v30, (uint64_t)&unk_26FB354F0, v31);
  objc_msgSend_addObject_(v59, v32, (uint64_t)&unk_26FB354D8, v33);
  objc_msgSend_addObject_(v59, v34, (uint64_t)&unk_26FB354C0, v35);
  objc_msgSend_addObject_(v59, v36, (uint64_t)&unk_26FB354A8, v37);
  objc_msgSend_addObject_(v59, v38, (uint64_t)&unk_26FB35490, v39);
  objc_msgSend_addObject_(v59, v40, (uint64_t)&unk_26FB35478, v41);
  objc_msgSend_addObject_(v59, v42, (uint64_t)&unk_26FB35460, v43);
  objc_msgSend_addObject_(v59, v44, (uint64_t)&unk_26FB35448, v45);
  objc_msgSend_addObject_(v59, v46, (uint64_t)&unk_26FB35430, v47);
  objc_msgSend_addObject_(v59, v48, (uint64_t)&unk_26FB35418, v49);
  objc_msgSend_addObject_(v59, v50, (uint64_t)&unk_26FB35400, v51);
  objc_msgSend_addObject_(v59, v52, (uint64_t)&unk_26FB353E8, v53);
  uint64_t v57 = objc_msgSend_copy(v59, v54, v55, v56);
  uint64_t v58 = (void *)qword_2691D8EE0;
  qword_2691D8EE0 = v57;
}

void sub_246B7A4C4(uint64_t a1, void *a2)
{
  id v2 = a2;
  id v19 = (id)objc_opt_new();
  uint64_t v5 = objc_msgSend___orderedValuesForDevice_(MEMORY[0x263F579F0], v3, (uint64_t)v2, v4);

  objc_msgSend_addObjectsFromArray_(v19, v6, (uint64_t)v5, v7);
  uint64_t v11 = objc_msgSend__thirdPartyValues(MEMORY[0x263F579F0], v8, v9, v10);
  objc_msgSend_removeObjectsInArray_(v19, v12, (uint64_t)v11, v13);

  uint64_t v17 = objc_msgSend_copy(v19, v14, v15, v16);
  uint64_t v18 = (void *)qword_2691D8F00;
  qword_2691D8F00 = v17;
}

void sub_246B7A768(uint64_t a1, void *a2)
{
  id v2 = a2;
  id v20 = (id)objc_opt_new();
  uint64_t v5 = objc_msgSend___orderedValuesForDevice_(MEMORY[0x263F579F0], v3, (uint64_t)v2, v4);

  objc_msgSend_addObjectsFromArray_(v20, v6, (uint64_t)v5, v7);
  uint64_t v11 = objc_msgSend__thirdPartyValues(MEMORY[0x263F579F0], v8, v9, v10);
  objc_msgSend_removeObjectsInArray_(v20, v12, (uint64_t)v11, v13);

  objc_msgSend_insertObject_atIndex_(v20, v14, (uint64_t)&unk_26FB353D0, 0);
  uint64_t v18 = objc_msgSend_copy(v20, v15, v16, v17);
  id v19 = (void *)qword_2691D8F40;
  qword_2691D8F40 = v18;
}

uint64_t sub_246B7B1A0(uint64_t a1, const char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = (void *)MEMORY[0x263F57A98];
  uint64_t v6 = *(void *)(a1 + 32);
  uint64_t v7 = objc_msgSend_device(*(void **)(a1 + 40), a2, a3, a4);
  id v9 = (id)objc_msgSend_renderSwatchForView_size_device_key_using_(v5, v8, v6, (uint64_t)v7, *(void *)(a1 + 48), *(void *)(a1 + 80), *(double *)(a1 + 64), *(double *)(a1 + 72));

  uint64_t v10 = *(uint64_t (**)(void))(*(void *)(a1 + 56) + 16);

  return v10();
}

void sub_246B7D604(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id *location, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,id a42,char a43)
{
  objc_destroyWeak(v43);
  objc_destroyWeak(location);
  objc_destroyWeak(&a42);
  _Block_object_dispose(&a43, 8);
  _Block_object_dispose((const void *)(v44 - 240), 8);
  _Block_object_dispose((const void *)(v44 - 208), 8);
  _Block_object_dispose((const void *)(v44 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t sub_246B7D680(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void sub_246B7D690(uint64_t a1)
{
}

BOOL sub_246B7D698(uint64_t a1, void *a2, void *a3)
{
  uint64_t v26 = *MEMORY[0x263EF8340];
  id v4 = a2;
  id v5 = a3;
  id v9 = objc_msgSend_defaultManager(MEMORY[0x263F08850], v6, v7, v8);
  id v17 = 0;
  objc_msgSend_copyItemAtPath_toPath_error_(v9, v10, (uint64_t)v4, (uint64_t)v5, &v17);
  id v11 = v17;

  if (v11)
  {
    uint64_t v15 = objc_msgSend_logObject(NTKParmesanFaceBundle, v12, v13, v14);
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)buf = 136315906;
      id v19 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
      __int16 v20 = 2112;
      id v21 = v4;
      __int16 v22 = 2112;
      id v23 = v5;
      __int16 v24 = 2112;
      id v25 = v11;
      _os_log_error_impl(&dword_246B51000, v15, OS_LOG_TYPE_ERROR, "%s: cannot copy %@ to %@, error == %@", buf, 0x2Au);
    }
  }
  return v11 == 0;
}

void sub_246B7D7D8(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(NSObject **)(a1 + 32);
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B7D8FC;
  block[3] = &unk_2651FC618;
  objc_copyWeak(&v20, (id *)(a1 + 88));
  long long v17 = *(_OWORD *)(a1 + 56);
  uint64_t v18 = *(void *)(a1 + 72);
  id v13 = v6;
  id v14 = v5;
  id v15 = *(id *)(a1 + 40);
  id v8 = *(id *)(a1 + 48);
  uint64_t v9 = *(void *)(a1 + 80);
  id v16 = v8;
  uint64_t v19 = v9;
  id v10 = v5;
  id v11 = v6;
  dispatch_async(v7, block);

  objc_destroyWeak(&v20);
}

void sub_246B7D8FC(uint64_t a1)
{
  uint64_t v140 = *MEMORY[0x263EF8340];
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 96));
  id v6 = WeakRetained;
  if (WeakRetained)
  {
    if (*(unsigned char *)(*(void *)(*(void *)(a1 + 64) + 8) + 24))
    {
      uint64_t v7 = objc_msgSend_logObject(NTKParmesanFaceBundle, v3, v4, v5);
      if (!os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
      {
LABEL_6:

        goto LABEL_43;
      }
      *(_DWORD *)buf = 136315138;
      uint64_t v133 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke_2";
      id v8 = "%s: Canceled: No more update processing";
LABEL_5:
      _os_log_impl(&dword_246B51000, v7, OS_LOG_TYPE_DEFAULT, v8, buf, 0xCu);
      goto LABEL_6;
    }
    if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24))
    {
      uint64_t v7 = objc_msgSend_logObject(NTKParmesanFaceBundle, v3, v4, v5);
      if (!os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT)) {
        goto LABEL_6;
      }
      *(_DWORD *)buf = 136315138;
      uint64_t v133 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
      id v8 = "%s: Previous failure: No more update processing";
      goto LABEL_5;
    }
    id v113 = WeakRetained;
    ++*(_DWORD *)(*(void *)(*(void *)(a1 + 80) + 8) + 24);
    uint64_t v9 = *(void *)(a1 + 32);
    id v10 = objc_msgSend_logObject(NTKParmesanFaceBundle, v3, v4, v5);
    BOOL v11 = os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT);
    if (v9)
    {
      if (v11)
      {
        uint64_t v15 = objc_msgSend_count(*(void **)(a1 + 40), v12, v13, v14);
        int v16 = *(_DWORD *)(*(void *)(*(void *)(a1 + 80) + 8) + 24);
        uint64_t v17 = *(void *)(a1 + 32);
        *(_DWORD *)buf = 136315906;
        uint64_t v133 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
        __int16 v134 = 2048;
        uint64_t v135 = v15;
        __int16 v136 = 1024;
        int v137 = v16;
        __int16 v138 = 2112;
        uint64_t v139 = v17;
        _os_log_impl(&dword_246B51000, v10, OS_LOG_TYPE_DEFAULT, "%s: Error: received %lu assets, %d so far, error == %@", buf, 0x26u);
      }

      *(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24) = 0;
    }
    else
    {
      if (v11)
      {
        uint64_t v18 = objc_msgSend_count(*(void **)(a1 + 40), v12, v13, v14);
        int v19 = *(_DWORD *)(*(void *)(*(void *)(a1 + 80) + 8) + 24);
        *(_DWORD *)buf = 136315650;
        uint64_t v133 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
        __int16 v134 = 2048;
        uint64_t v135 = v18;
        __int16 v136 = 1024;
        int v137 = v19;
        _os_log_impl(&dword_246B51000, v10, OS_LOG_TYPE_DEFAULT, "%s: Received %lu assets, %d so far", buf, 0x1Cu);
      }

      long long v128 = 0u;
      long long v129 = 0u;
      long long v126 = 0u;
      long long v127 = 0u;
      id obj = *(id *)(a1 + 40);
      uint64_t v116 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v20, (uint64_t)&v126, (uint64_t)v131, 16);
      if (v116)
      {
        uint64_t v115 = *(void *)v127;
        do
        {
          for (uint64_t i = 0; i != v116; ++i)
          {
            if (*(void *)v127 != v115) {
              objc_enumerationMutation(obj);
            }
            id v25 = *(void **)(*((void *)&v126 + 1) + 8 * i);
            uint64_t v26 = NSString;
            objc_msgSend_resourceDirectory(v25, v21, v22, v23);
            id v27 = objc_claimAutoreleasedReturnValue();
            uint64_t v31 = objc_msgSend_fileSystemRepresentation(v27, v28, v29, v30);
            uint64_t v33 = objc_msgSend_stringWithCString_encoding_(v26, v32, v31, 4);

            long long v124 = 0u;
            long long v125 = 0u;
            long long v122 = 0u;
            long long v123 = 0u;
            uint64_t v121 = v25;
            uint64_t v34 = v25;
            uint64_t v35 = (void *)v33;
            uint64_t v39 = objc_msgSend_layouts(v34, v36, v37, v38);
            uint64_t v43 = objc_msgSend_allKeys(v39, v40, v41, v42);

            id v118 = v43;
            uint64_t v120 = objc_msgSend_countByEnumeratingWithState_objects_count_(v43, v44, (uint64_t)&v122, (uint64_t)v130, 16);
            if (!v120) {
              goto LABEL_36;
            }
            uint64_t v119 = *(void *)v123;
            uint64_t v117 = i;
            while (2)
            {
              for (uint64_t j = 0; j != v120; ++j)
              {
                if (*(void *)v123 != v119) {
                  objc_enumerationMutation(v118);
                }
                uint64_t v49 = *(void *)(*((void *)&v122 + 1) + 8 * j);
                uint64_t v50 = objc_msgSend_layouts(v121, v45, v46, v47);
                uint64_t v53 = objc_msgSend_objectForKeyedSubscript_(v50, v51, v49, v52);

                uint64_t v57 = objc_msgSend_baseImageName(v53, v54, v55, v56);
                uint64_t v60 = objc_msgSend_stringByAppendingPathComponent_(v35, v58, (uint64_t)v57, v59);

                uint64_t v61 = *(void **)(a1 + 48);
                uint64_t v65 = objc_msgSend_baseImageName(v53, v62, v63, v64);
                uint64_t v68 = objc_msgSend_stringByAppendingPathComponent_(v61, v66, (uint64_t)v65, v67);

                if (((*(uint64_t (**)(void))(*(void *)(a1 + 56) + 16))() & 1) == 0)
                {
                  *(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24) = 0;
LABEL_35:

                  uint64_t i = v117;
                  goto LABEL_36;
                }
                uint64_t v72 = objc_msgSend_mask(v53, v69, v70, v71);
                uint64_t v76 = objc_msgSend_imageName(v72, v73, v74, v75);

                if (v76)
                {
                  uint64_t v80 = objc_msgSend_mask(v53, v77, v78, v79);
                  uint64_t v84 = objc_msgSend_imageName(v80, v81, v82, v83);
                  uint64_t v85 = v35;
                  uint64_t v88 = objc_msgSend_stringByAppendingPathComponent_(v35, v86, (uint64_t)v84, v87);

                  uint64_t v89 = *(void **)(a1 + 48);
                  uint64_t v93 = objc_msgSend_mask(v53, v90, v91, v92);
                  uint64_t v97 = objc_msgSend_imageName(v93, v94, v95, v96);
                  uint64_t v100 = objc_msgSend_stringByAppendingPathComponent_(v89, v98, (uint64_t)v97, v99);

                  if (!(*(unsigned int (**)(void))(*(void *)(a1 + 56) + 16))())
                  {
                    *(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24) = 0;

                    uint64_t v35 = v85;
                    goto LABEL_35;
                  }

                  uint64_t v35 = v85;
                }
              }
              uint64_t i = v117;
              uint64_t v120 = objc_msgSend_countByEnumeratingWithState_objects_count_(v118, v45, (uint64_t)&v122, (uint64_t)v130, 16);
              if (v120) {
                continue;
              }
              break;
            }
LABEL_36:

            if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24))
            {

              goto LABEL_41;
            }
            uint64_t v103 = objc_msgSend_fileURLWithPath_(NSURL, v101, *(void *)(a1 + 48), v102);
            objc_msgSend_setResourceDirectory_(v121, v104, (uint64_t)v103, v105);

            uint64_t v106 = *(void **)(*(void *)(*(void *)(a1 + 88) + 8) + 40);
            uint64_t v110 = objc_msgSend_asDictionary(v121, v107, v108, v109);
            objc_msgSend_addObject_(v106, v111, (uint64_t)v110, v112);
          }
          uint64_t v116 = objc_msgSend_countByEnumeratingWithState_objects_count_(obj, v21, (uint64_t)&v126, (uint64_t)v131, 16);
        }
        while (v116);
      }
LABEL_41:
    }
    id v6 = v113;
  }
LABEL_43:
}

void sub_246B7DF48(uint64_t a1)
{
  id v2 = *(NSObject **)(a1 + 32);
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B7E024;
  block[3] = &unk_2651FC668;
  objc_copyWeak(&v11, (id *)(a1 + 88));
  long long v8 = *(_OWORD *)(a1 + 56);
  uint64_t v9 = *(void *)(a1 + 72);
  id v6 = *(id *)(a1 + 40);
  id v3 = *(id *)(a1 + 48);
  uint64_t v4 = *(void *)(a1 + 80);
  id v7 = v3;
  uint64_t v10 = v4;
  dispatch_async(v2, block);

  objc_destroyWeak(&v11);
}

void sub_246B7E024(uint64_t a1)
{
  uint64_t v30 = *MEMORY[0x263EF8340];
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 80));
  if (WeakRetained)
  {
    if (*(unsigned char *)(*(void *)(*(void *)(a1 + 48) + 8) + 24))
    {
      id v6 = objc_msgSend_logObject(NTKParmesanFaceBundle, v2, v3, v4);
      if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
      {
        int v26 = 136315138;
        id v27 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke_2";
        id v7 = "%s: Canceled: Skip completion processing";
LABEL_5:
        _os_log_impl(&dword_246B51000, v6, OS_LOG_TYPE_DEFAULT, v7, (uint8_t *)&v26, 0xCu);
      }
    }
    else
    {
      if (*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24))
      {
        id v6 = objc_opt_new();
        uint64_t v10 = objc_msgSend_numberWithUnsignedInteger_(NSNumber, v8, 2, v9);
        objc_msgSend_setObject_forKeyedSubscript_(v6, v11, (uint64_t)v10, (uint64_t)kParmesanReaderVersionKey);

        objc_msgSend_setObject_forKeyedSubscript_(v6, v12, *(void *)(*(void *)(*(void *)(a1 + 64) + 8) + 40), (uint64_t)kParmesanReaderImageListKey);
        uint64_t v15 = objc_msgSend_stringByAppendingPathComponent_(*(void **)(a1 + 32), v13, (uint64_t)kParmesanReaderImagelistFileName, v14);
        if ((objc_msgSend_writeToFile_atomically_(v6, v16, (uint64_t)v15, 0) & 1) == 0)
        {
          id v20 = objc_msgSend_logObject(NTKParmesanFaceBundle, v17, v18, v19);
          if (os_log_type_enabled(v20, OS_LOG_TYPE_ERROR)) {
            sub_246C2B8EC((uint64_t)v15, v20);
          }

          *(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24) = 0;
        }
        dispatch_semaphore_signal(*(dispatch_semaphore_t *)(a1 + 40));
        __int16 v24 = objc_msgSend_logObject(NTKParmesanFaceBundle, v21, v22, v23);
        if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
        {
          int v25 = *(_DWORD *)(*(void *)(*(void *)(a1 + 72) + 8) + 24);
          int v26 = 136315394;
          id v27 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
          __int16 v28 = 1024;
          int v29 = v25;
          _os_log_impl(&dword_246B51000, v24, OS_LOG_TYPE_DEFAULT, "%s: Received everything! %d", (uint8_t *)&v26, 0x12u);
        }

        goto LABEL_16;
      }
      id v6 = objc_msgSend_logObject(NTKParmesanFaceBundle, v2, v3, v4);
      if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
      {
        int v26 = 136315138;
        id v27 = "-[NTKParmesanFace _createDynamicContentDirectoryFromReader:]_block_invoke";
        id v7 = "%s: Previous failure: Skip completion processing";
        goto LABEL_5;
      }
    }
LABEL_16:
  }
}

void sub_246B7E2D0(uint64_t a1)
{
  block[0] = MEMORY[0x263EF8330];
  block[1] = 3221225472;
  block[2] = sub_246B7E344;
  block[3] = &unk_2651FC2E0;
  uint64_t v1 = *(NSObject **)(a1 + 32);
  void block[4] = *(void *)(a1 + 40);
  dispatch_async(v1, block);
}

uint64_t sub_246B7E344(uint64_t result)
{
  *(unsigned char *)(*(void *)(*(void *)(result + 32) + 8) + 24) = 1;
  return result;
}

void *sub_246B7E6FC()
{
  if (objc_msgSend(*(id *)(v0 + 16), sel_hasPeople))
  {
    uint64_t v1 = sub_246BA5C20(0, 1, 1, MEMORY[0x263F8EE78]);
    unint64_t v3 = v1[2];
    unint64_t v2 = v1[3];
    if (v3 >= v2 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v2 > 1), v3 + 1, 1, v1);
    }
    v1[2] = v3 + 1;
    v1[v3 + 4] = 1;
  }
  else
  {
    uint64_t v1 = (void *)MEMORY[0x263F8EE78];
  }
  if (objc_msgSend(*(id *)(v0 + 16), sel_hasPets))
  {
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
    }
    unint64_t v5 = v1[2];
    unint64_t v4 = v1[3];
    if (v5 >= v4 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v4 > 1), v5 + 1, 1, v1);
    }
    v1[2] = v5 + 1;
    v1[v5 + 4] = 2;
  }
  if (objc_msgSend(*(id *)(v0 + 16), sel_hasNature))
  {
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
    }
    unint64_t v7 = v1[2];
    unint64_t v6 = v1[3];
    if (v7 >= v6 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v6 > 1), v7 + 1, 1, v1);
    }
    v1[2] = v7 + 1;
    v1[v7 + 4] = 3;
  }
  if (objc_msgSend(*(id *)(v0 + 16), sel_hasCityscape))
  {
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
    }
    unint64_t v9 = v1[2];
    unint64_t v8 = v1[3];
    if (v9 >= v8 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v8 > 1), v9 + 1, 1, v1);
    }
    v1[2] = v9 + 1;
    v1[v9 + 4] = 4;
  }
  return v1;
}

uint64_t sub_246B7E920(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5, char a6, char a7, uint64_t a8)
{
  *(void *)(v8 + 48) = v10;
  *(void *)(v8 + 56) = v11;
  *(unsigned char *)(v8 + 130) = a7;
  *(unsigned char *)(v8 + 129) = a6;
  *(unsigned char *)(v8 + 128) = a5;
  *(void *)(v8 + 32) = a4;
  *(void *)(v8 + 40) = a8;
  return MEMORY[0x270FA2498](sub_246B7E958, 0, 0);
}

uint64_t sub_246B7E958()
{
  sub_246C2BDB8();
  swift_allocObject();
  *(void *)(v0 + 64) = sub_246C2BDA8();
  uint64_t v1 = swift_bridgeObjectRetain();
  uint64_t v2 = sub_246BEF82C(v1);
  *(void *)(v0 + 72) = v2;
  swift_bridgeObjectRelease();
  unint64_t v3 = (void *)swift_task_alloc();
  *(void *)(v0 + 80) = v3;
  void *v3 = v0;
  v3[1] = sub_246B7EA44;
  uint64_t v4 = *(unsigned __int8 *)(v0 + 130);
  uint64_t v5 = *(unsigned __int8 *)(v0 + 129);
  uint64_t v6 = *(unsigned __int8 *)(v0 + 128);
  return MEMORY[0x270F53940](v2, v6, v5, v4);
}

uint64_t sub_246B7EA44(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 88) = v1;
  swift_task_dealloc();
  if (v1)
  {
    uint64_t v5 = sub_246B7EE48;
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_release();
    *(void *)(v4 + 96) = a1;
    uint64_t v5 = sub_246B7EB7C;
  }
  return MEMORY[0x270FA2498](v5, 0, 0);
}

uint64_t sub_246B7EB7C()
{
  v0[2] = MEMORY[0x263F8EE78];
  uint64_t v1 = v0[12];
  uint64_t v2 = self;
  sub_246B7EEB4(v1);
  swift_bridgeObjectRelease();
  unint64_t v3 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v4 = objc_msgSend(v2, sel_fetchAssetsWithUUIDs_options_, v3, 0);
  v0[13] = v4;

  if (!v4) {
    goto LABEL_15;
  }
  uint64_t v8 = v0[5];
  uint64_t v5 = (uint64_t (*)())objc_msgSend(v4, sel_count);
  if ((uint64_t)v5 >= v8) {
    unint64_t v9 = v8;
  }
  else {
    unint64_t v9 = (unint64_t)v5;
  }
  if ((v9 & 0x8000000000000000) != 0)
  {
    __break(1u);
LABEL_15:
    __break(1u);
    return MEMORY[0x270FA2498](v5, v6, v7);
  }
  if (v9)
  {
    for (uint64_t i = 0; i != (uint64_t (*)())v9; uint64_t i = (uint64_t (*)())((char *)i + 1))
    {
      id v11 = objc_msgSend(v4, sel_objectAtIndex_, i);
      MEMORY[0x24C543DC0]();
      if (*(void *)((v0[2] & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v0[2] & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_246C2CD68();
      }
      sub_246C2CD88();
      sub_246C2CD58();
    }
  }
  v0[14] = v0[2];
  sub_246C2CE08();
  v0[15] = sub_246C2CDF8();
  uint64_t v12 = sub_246C2CDA8();
  uint64_t v14 = v13;
  uint64_t v5 = sub_246B7ED5C;
  uint64_t v6 = v12;
  uint64_t v7 = v14;
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_246B7ED5C()
{
  uint64_t v1 = *(void *)(v0 + 112);
  uint64_t v2 = *(void (**)(uint64_t))(v0 + 48);
  swift_release();
  v2(v1);
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA2498](sub_246B7EDE4, 0, 0);
}

uint64_t sub_246B7EDE4()
{
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_246B7EE48()
{
  swift_bridgeObjectRelease();
  swift_release();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_246B7EEB4(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v14 = MEMORY[0x263F8EE78];
    sub_246C00A74(0, v1, 0);
    uint64_t v2 = v14;
    uint64_t v4 = *(void *)(sub_246C2BC68() - 8);
    uint64_t v5 = a1 + ((*(unsigned __int8 *)(v4 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80));
    uint64_t v6 = *(void *)(v4 + 72);
    do
    {
      uint64_t v7 = sub_246C2BC38();
      uint64_t v9 = v8;
      unint64_t v11 = *(void *)(v14 + 16);
      unint64_t v10 = *(void *)(v14 + 24);
      if (v11 >= v10 >> 1) {
        sub_246C00A74(v10 > 1, v11 + 1, 1);
      }
      *(void *)(v14 + 16) = v11 + 1;
      uint64_t v12 = v14 + 16 * v11;
      *(void *)(v12 + 32) = v7;
      *(void *)(v12 + 40) = v9;
      v5 += v6;
      --v1;
    }
    while (v1);
  }
  return v2;
}

uint64_t sub_246B7EFEC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v8[7] = a7;
  v8[8] = a8;
  v8[5] = a5;
  v8[6] = a6;
  v8[4] = a4;
  return MEMORY[0x270FA2498](sub_246B7F014, 0, 0);
}

uint64_t sub_246B7F014()
{
  sub_246C2BDB8();
  swift_allocObject();
  v0[9] = sub_246C2BDA8();
  int64_t v1 = (void *)swift_task_alloc();
  v0[10] = v1;
  void *v1 = v0;
  v1[1] = sub_246B7F0D0;
  uint64_t v3 = v0[4];
  uint64_t v2 = v0[5];
  return MEMORY[0x270F53938](v3, v2);
}

uint64_t sub_246B7F0D0(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 88) = v1;
  swift_task_dealloc();
  if (v1)
  {
    uint64_t v5 = sub_246B7F468;
  }
  else
  {
    swift_release();
    *(void *)(v4 + 96) = a1;
    uint64_t v5 = sub_246B7F200;
  }
  return MEMORY[0x270FA2498](v5, 0, 0);
}

uint64_t sub_246B7F200()
{
  v0[2] = MEMORY[0x263F8EE78];
  uint64_t v1 = v0[12];
  uint64_t v2 = self;
  sub_246B7EEB4(v1);
  swift_bridgeObjectRelease();
  uint64_t v3 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v4 = objc_msgSend(v2, sel_fetchAssetsWithUUIDs_options_, v3, 0);
  v0[13] = v4;

  if (!v4) {
    goto LABEL_15;
  }
  uint64_t v8 = v0[6];
  uint64_t v5 = (uint64_t (*)())objc_msgSend(v4, sel_count);
  if ((uint64_t)v5 >= v8) {
    unint64_t v9 = v8;
  }
  else {
    unint64_t v9 = (unint64_t)v5;
  }
  if ((v9 & 0x8000000000000000) != 0)
  {
    __break(1u);
LABEL_15:
    __break(1u);
    return MEMORY[0x270FA2498](v5, v6, v7);
  }
  if (v9)
  {
    for (uint64_t i = 0; i != (uint64_t (*)())v9; uint64_t i = (uint64_t (*)())((char *)i + 1))
    {
      id v11 = objc_msgSend(v4, sel_objectAtIndex_, i);
      MEMORY[0x24C543DC0]();
      if (*(void *)((v0[2] & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v0[2] & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_246C2CD68();
      }
      sub_246C2CD88();
      sub_246C2CD58();
    }
  }
  v0[14] = v0[2];
  sub_246C2CE08();
  v0[15] = sub_246C2CDF8();
  uint64_t v12 = sub_246C2CDA8();
  uint64_t v14 = v13;
  uint64_t v5 = sub_246B7F3E0;
  uint64_t v6 = v12;
  uint64_t v7 = v14;
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_246B7F3E0()
{
  uint64_t v1 = *(void *)(v0 + 112);
  uint64_t v2 = *(void (**)(uint64_t))(v0 + 56);
  swift_release();
  v2(v1);
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA2498](sub_246B7EDE4, 0, 0);
}

uint64_t sub_246B7F468()
{
  swift_release();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_246B7F4CC()
{
  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanShuffleSuggestionsDataSource()
{
  return self;
}

void type metadata accessor for Key(uint64_t a1)
{
}

void type metadata accessor for CLKLocaleNumberSystem(uint64_t a1)
{
}

void type metadata accessor for CLKDeviceSizeClass(uint64_t a1)
{
}

void type metadata accessor for NTKFaceDataMode(uint64_t a1)
{
}

uint64_t initializeBufferWithCopyOfBuffer for ParmesanFacePreviewConfiguration(uint64_t *a1, uint64_t *a2)
{
  uint64_t v2 = *a2;
  *a1 = *a2;
  uint64_t v3 = v2 + 16;
  swift_retain();
  return v3;
}

__n128 initializeWithTake for ParmesanNoShufflesView.FallbackButton(_OWORD *a1, uint64_t a2)
{
  __n128 result = *(__n128 *)a2;
  long long v3 = *(_OWORD *)(a2 + 16);
  *a1 = *(_OWORD *)a2;
  a1[1] = v3;
  return result;
}

uint64_t sub_246B7F5BC(uint64_t a1, int a2)
{
  if (a2 && *(unsigned char *)(a1 + 32)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t sub_246B7F5DC(uint64_t result, int a2, int a3)
{
  if (a2)
  {
    *(void *)(result + 16) = 0;
    *(void *)(result + 24) = 0;
    *(void *)__n128 result = (a2 - 1);
    *(void *)(result + 8) = 0;
    if (!a3) {
      return result;
    }
    char v3 = 1;
  }
  else
  {
    if (!a3) {
      return result;
    }
    char v3 = 0;
  }
  *(unsigned char *)(result + 32) = v3;
  return result;
}

void type metadata accessor for CGRect(uint64_t a1)
{
}

void type metadata accessor for PFLCClassification(uint64_t a1)
{
}

__n128 initializeWithTake for ParmesanAssetCompositionCache.Persist(__n128 *a1, __n128 *a2)
{
  __n128 result = *a2;
  *a1 = *a2;
  return result;
}

uint64_t sub_246B7F63C(uint64_t a1, int a2)
{
  if (a2 && *(unsigned char *)(a1 + 16)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t sub_246B7F65C(uint64_t result, int a2, int a3)
{
  if (a2)
  {
    *(void *)__n128 result = (a2 - 1);
    *(void *)(result + 8) = 0;
    if (!a3) {
      return result;
    }
    char v3 = 1;
  }
  else
  {
    if (!a3) {
      return result;
    }
    char v3 = 0;
  }
  *(unsigned char *)(result + 16) = v3;
  return result;
}

void type metadata accessor for CGSize(uint64_t a1)
{
}

void type metadata accessor for NTKNumeralOption(uint64_t a1)
{
}

void sub_246B7F6AC(void *a1@<X8>)
{
  *a1 = 0;
}

void *sub_246B7F6B4@<X0>(void *result@<X0>, void *a2@<X8>)
{
  *a2 = *v2 & *result;
  return result;
}

void *sub_246B7F6C8(void *result)
{
  *v1 |= *result;
  return result;
}

void *sub_246B7F6DC(void *result)
{
  *v1 &= *result;
  return result;
}

BOOL sub_246B7F6F0(void *a1)
{
  return (*v1 & ~*a1) == 0;
}

BOOL sub_246B7F704(void *a1)
{
  return (*a1 & ~*v1) == 0;
}

BOOL sub_246B7F718(void *a1, uint64_t *a2)
{
  uint64_t v3 = *a2;
  uint64_t v4 = *v2 & *a2;
  if (v4 != *a2) {
    *v2 |= v3;
  }
  *a1 = v3;
  return v4 != v3;
}

BOOL sub_246B7F748(void *a1, void *a2)
{
  return *a1 == *a2;
}

uint64_t sub_246B7F75C(uint64_t a1, uint64_t a2)
{
  return sub_246B7F968(a1, a2, MEMORY[0x263F07B58]);
}

void *sub_246B7F788@<X0>(void *result@<X0>, uint64_t a2@<X8>)
{
  *(void *)a2 = *result;
  *(unsigned char *)(a2 + 8) = 0;
  return result;
}

uint64_t sub_246B7F79C()
{
  return sub_246C2D678();
}

uint64_t sub_246B7F7CC()
{
  return sub_246B7FABC(&qword_2691D6520, type metadata accessor for PFLCClassification);
}

uint64_t sub_246B7F814(uint64_t a1, id *a2)
{
  uint64_t result = sub_246C2CC28();
  *a2 = 0;
  return result;
}

uint64_t sub_246B7F88C(uint64_t a1, id *a2)
{
  char v3 = sub_246C2CC38();
  *a2 = 0;
  return v3 & 1;
}

uint64_t sub_246B7F90C@<X0>(uint64_t *a1@<X8>)
{
  sub_246C2CC48();
  uint64_t v2 = sub_246C2CC08();
  uint64_t result = swift_bridgeObjectRelease();
  *a1 = v2;
  return result;
}

uint64_t sub_246B7F950(uint64_t a1, uint64_t a2)
{
  return sub_246B7F968(a1, a2, MEMORY[0x263F8D308]);
}

uint64_t sub_246B7F968(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t))
{
  uint64_t v4 = sub_246C2CC48();
  uint64_t v5 = a3(v4);
  swift_bridgeObjectRelease();
  return v5;
}

uint64_t sub_246B7F9AC()
{
  sub_246C2CC48();
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246B7FA00()
{
  sub_246C2CC48();
  sub_246C2D668();
  sub_246C2CCC8();
  uint64_t v0 = sub_246C2D6B8();
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t sub_246B7FA74()
{
  return sub_246B7FABC(&qword_2691D6528, type metadata accessor for CLKDeviceSizeClass);
}

uint64_t sub_246B7FABC(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void *sub_246B7FB04@<X0>(void *result@<X0>, void *a2@<X8>)
{
  *a2 = *result;
  return result;
}

void sub_246B7FB10(void *a1@<X8>)
{
  *a1 = *v1;
}

uint64_t sub_246B7FB1C()
{
  return sub_246C2D6B8();
}

uint64_t sub_246B7FB64()
{
  return sub_246C2D6B8();
}

uint64_t sub_246B7FBAC()
{
  return sub_246B7FABC(&qword_2691D6530, type metadata accessor for CLKLocaleNumberSystem);
}

uint64_t sub_246B7FBF4()
{
  uint64_t v0 = sub_246C2CC48();
  uint64_t v2 = v1;
  if (v0 == sub_246C2CC48() && v2 == v3) {
    char v5 = 1;
  }
  else {
    char v5 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v5 & 1;
}

uint64_t sub_246B7FC84(uint64_t a1)
{
  uint64_t v2 = sub_246B7FABC(&qword_2691D6638, type metadata accessor for InfoKey);
  uint64_t v3 = sub_246B7FABC(&qword_2691D6640, type metadata accessor for InfoKey);
  uint64_t v4 = MEMORY[0x263F8D320];

  return MEMORY[0x270F9F1A8](a1, v2, v3, v4);
}

uint64_t sub_246B7FD40(uint64_t a1)
{
  uint64_t v2 = sub_246B7FABC((unint64_t *)&qword_2691D6648, type metadata accessor for OpenExternalURLOptionsKey);
  uint64_t v3 = sub_246B7FABC((unint64_t *)&unk_2691D6650, type metadata accessor for OpenExternalURLOptionsKey);
  uint64_t v4 = MEMORY[0x263F8D320];

  return MEMORY[0x270F9F1A8](a1, v2, v3, v4);
}

uint64_t sub_246B7FDFC@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v2 = sub_246C2CC08();
  uint64_t result = swift_bridgeObjectRelease();
  *a1 = v2;
  return result;
}

uint64_t sub_246B7FE44@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = sub_246C2CC48();
  *a1 = result;
  a1[1] = v3;
  return result;
}

uint64_t sub_246B7FE70(uint64_t a1)
{
  uint64_t v2 = sub_246B7FABC((unint64_t *)&qword_2691D6550, type metadata accessor for Key);
  uint64_t v3 = sub_246B7FABC(&qword_2691D6558, type metadata accessor for Key);
  uint64_t v4 = MEMORY[0x263F8D320];

  return MEMORY[0x270F9F1A8](a1, v2, v3, v4);
}

uint64_t sub_246B7FF2C()
{
  return sub_246B7FABC(&qword_2691D6538, type metadata accessor for Key);
}

uint64_t sub_246B7FF74()
{
  return sub_246B7FABC(&qword_2691D6540, type metadata accessor for Key);
}

uint64_t sub_246B7FFBC()
{
  return sub_246B7FABC(&qword_2691D6548, type metadata accessor for Key);
}

uint64_t sub_246B80004(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v10 - 8);
  uint64_t v12 = (char *)v20 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_246C2CE28();
  uint64_t v14 = *(void *)(v13 - 8);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v14 + 56))(v12, 1, 1, v13);
  uint64_t v15 = (void *)swift_allocObject();
  void v15[2] = 0;
  v15[3] = 0;
  void v15[4] = a1;
  void v15[5] = a2;
  void v15[6] = a3;
  v15[7] = a4;
  v15[8] = a5;
  LODWORD(a4) = (*(uint64_t (**)(char *, uint64_t, uint64_t))(v14 + 48))(v12, 1, v13);
  swift_bridgeObjectRetain();
  swift_retain();
  if (a4 == 1)
  {
    sub_246B8049C((uint64_t)v12);
  }
  else
  {
    sub_246C2CE18();
    (*(void (**)(char *, uint64_t))(v14 + 8))(v12, v13);
    if (v15[2])
    {
      swift_getObjectType();
      swift_unknownObjectRetain();
      uint64_t v16 = sub_246C2CDA8();
      uint64_t v18 = v17;
      swift_unknownObjectRelease();
      if (v18 | v16)
      {
        v20[0] = 0;
        v20[1] = 0;
        v20[2] = v16;
        v20[3] = v18;
      }
    }
  }
  swift_task_create();
  return swift_release();
}

uint64_t sub_246B80250(uint64_t *a1)
{
  uint64_t result = *a1;
  if (result < 0)
  {
    uint64_t result = swift_getTypeByMangledNameInContext2();
    *a1 = result;
  }
  return result;
}

uint64_t sub_246B80294()
{
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();
  swift_release();

  return MEMORY[0x270FA0238](v0, 72, 7);
}

uint64_t sub_246B802DC()
{
  long long v6 = *(_OWORD *)(v0 + 32);
  uint64_t v2 = *(void *)(v0 + 48);
  uint64_t v3 = swift_task_alloc();
  long long v4 = *(_OWORD *)(v0 + 56);
  *(void *)(v1 + 16) = v3;
  *(void *)uint64_t v3 = v1;
  *(void *)(v3 + 8) = sub_246B803A8;
  *(_OWORD *)(v3 + 56) = v4;
  *(void *)(v3 + 48) = v2;
  *(_OWORD *)(v3 + 32) = v6;
  return MEMORY[0x270FA2498](sub_246B7F014, 0, 0);
}

uint64_t sub_246B803A8()
{
  uint64_t v3 = *v0;
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v3 + 8);
  return v1();
}

uint64_t sub_246B8049C(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D6FB0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

void type metadata accessor for InfoKey(uint64_t a1)
{
}

void type metadata accessor for CGColor(uint64_t a1)
{
}

void type metadata accessor for OpenExternalURLOptionsKey(uint64_t a1)
{
}

void type metadata accessor for PFCTimePosition(uint64_t a1)
{
}

void type metadata accessor for CGPoint(uint64_t a1)
{
}

void sub_246B80560(uint64_t a1, unint64_t *a2)
{
  if (!*a2)
  {
    unint64_t ForeignTypeMetadata = swift_getForeignTypeMetadata();
    if (!v4) {
      atomic_store(ForeignTypeMetadata, a2);
    }
  }
}

uint64_t sub_246B805A8()
{
  return sub_246B7FABC(&qword_2691D6608, type metadata accessor for OpenExternalURLOptionsKey);
}

uint64_t sub_246B805F0()
{
  return sub_246B7FABC(&qword_2691D6610, type metadata accessor for OpenExternalURLOptionsKey);
}

uint64_t sub_246B80638()
{
  return sub_246B7FABC(&qword_2691D6618, type metadata accessor for InfoKey);
}

uint64_t sub_246B80680()
{
  return sub_246B7FABC(&qword_2691D6620, type metadata accessor for InfoKey);
}

uint64_t sub_246B806C8()
{
  return sub_246B7FABC(&qword_2691D6628, type metadata accessor for InfoKey);
}

uint64_t sub_246B80710()
{
  return sub_246B7FABC(&qword_2691D6630, type metadata accessor for OpenExternalURLOptionsKey);
}

uint64_t sub_246B80790(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = sub_246C2CE28();
  uint64_t v6 = *(void *)(v5 - 8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v6 + 48))(a1, 1, v5) != 1)
  {
    sub_246C2CE18();
    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(a1, v5);
    if (!*(void *)(a3 + 16)) {
      return swift_task_create();
    }
    goto LABEL_3;
  }
  sub_246B8EA34(a1, &qword_2691D6FB0);
  if (*(void *)(a3 + 16))
  {
LABEL_3:
    swift_getObjectType();
    swift_unknownObjectRetain();
    sub_246C2CDA8();
    swift_unknownObjectRelease();
  }
  return swift_task_create();
}

char *sub_246B80918(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23WatchFacePreviewsHeader_label;
  id v10 = objc_allocWithZone(MEMORY[0x263F828E0]);
  uint64_t v11 = v4;
  id v12 = objc_msgSend(v10, sel_init);
  id v13 = objc_msgSend(self, sel_preferredFontForTextStyle_, *MEMORY[0x263F835A0]);
  objc_msgSend(v12, sel_setFont_, v13);

  id v14 = objc_msgSend(self, sel_whiteColor);
  objc_msgSend(v12, sel_setTextColor_, v14);

  objc_msgSend(v12, sel_setAccessibilityTraits_, *MEMORY[0x263F83268]);
  *(void *)&v4[v9] = v12;

  v20.receiver = v11;
  v20.super_class = (Class)type metadata accessor for WatchFacePreviewsHeader();
  uint64_t v15 = (char *)objc_msgSendSuper2(&v20, sel_initWithFrame_, a1, a2, a3, a4);
  uint64_t v16 = *(void **)&v15[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23WatchFacePreviewsHeader_label];
  uint64_t v17 = v15;
  objc_msgSend(v17, sel_addSubview_, v16);
  objc_msgSend(v16, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], *(double *)(MEMORY[0x263F82250] + 8), *(double *)(MEMORY[0x263F82250] + 16), *(double *)(MEMORY[0x263F82250] + 24));
  id v18 = v16;
  objc_msgSend(v18, sel_setTextAlignment_, 1);

  return v17;
}

id sub_246B80B28()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for WatchFacePreviewsHeader();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for WatchFacePreviewsHeader()
{
  return self;
}

BOOL sub_246B80B90(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return *a1 == *a2;
}

uint64_t sub_246B80BA4()
{
  return sub_246C2D6B8();
}

uint64_t sub_246B80BEC()
{
  return sub_246C2D678();
}

uint64_t sub_246B80C18()
{
  return sub_246C2D6B8();
}

uint64_t sub_246B80C5C()
{
  int v1 = *(unsigned __int8 *)(v0 + 8);
  sub_246C2D668();
  if (v1 != 1) {
    sub_246C2D678();
  }
  sub_246C2D678();
  return sub_246C2D6B8();
}

uint64_t sub_246B80CCC()
{
  if (*(unsigned char *)(v0 + 8) != 1) {
    sub_246C2D678();
  }
  return sub_246C2D678();
}

uint64_t sub_246B80D20()
{
  int v1 = *(unsigned __int8 *)(v0 + 8);
  sub_246C2D668();
  if (v1 != 1) {
    sub_246C2D678();
  }
  sub_246C2D678();
  return sub_246C2D6B8();
}

uint64_t sub_246B80D8C(uint64_t a1, uint64_t a2)
{
  unsigned int v2 = *(unsigned __int8 *)(a2 + 8);
  unsigned int v3 = (*(void *)a1 == *(void *)a2) & ~v2;
  if (*(void *)a2) {
    unsigned int v4 = *(unsigned __int8 *)(a2 + 8);
  }
  else {
    unsigned int v4 = 0;
  }
  if (*(void *)a2) {
    unsigned int v2 = 0;
  }
  if (*(void *)a1) {
    unsigned int v5 = v4;
  }
  else {
    unsigned int v5 = v2;
  }
  if (*(unsigned char *)(a1 + 8) == 1) {
    return v5;
  }
  else {
    return v3;
  }
}

uint64_t sub_246B80E08()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___previewStackViewModel;
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___previewStackViewModel))
  {
    uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___previewStackViewModel);
  }
  else
  {
    uint64_t v2 = sub_246B80E70(v0);
    *(void *)(v0 + v1) = v2;
    swift_retain();
    swift_release();
  }
  swift_retain();
  return v2;
}

uint64_t sub_246B80E70(uint64_t a1)
{
  uint64_t v1 = *MEMORY[0x263F5DEA0];
  double v2 = *(double *)(MEMORY[0x263F5DEA0] + 8);
  uint64_t v3 = *(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize);
  uint64_t v4 = *(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize + 8);
  unsigned int v5 = self;
  id v6 = objc_msgSend(v5, sel_currentDevice);
  uint64_t v7 = v6;
  if (v6)
  {
    objc_msgSend(v6, sel_screenBounds);
    double Height = CGRectGetHeight(v13);
    objc_msgSend(v7, sel_screenCornerRadius);
  }
  else
  {
    objc_msgSend(v5, sel_screenBoundsForSizeClass_, 5);
    double Height = CGRectGetHeight(v14);
    objc_msgSend(v5, sel_screenCornerRadiusForSizeClass_, 5);
  }
  double v10 = v9 * (v2 / Height);
  type metadata accessor for ParmesanStackViewModel();
  uint64_t v11 = swift_allocObject();
  *(unsigned char *)(v11 + 56) = 1;
  *(void *)(v11 + 64) = MEMORY[0x263F8EE78];
  sub_246C2BFE8();

  *(void *)(v11 + 16) = v3;
  *(void *)(v11 + 24) = v4;
  *(void *)(v11 + 32) = v1;
  *(double *)(v11 + 40) = v2;
  *(double *)(v11 + 48) = v10;
  return v11;
}

id sub_246B80FA0()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___peopleDataSource;
  double v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___peopleDataSource);
  if (v2)
  {
    id v3 = *(id *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___peopleDataSource);
  }
  else
  {
    id v4 = objc_msgSend(self, sel_sharedPhotoLibrary);
    id v5 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5E1F0]), sel_initWithPhotoLibrary_, v4);

    objc_msgSend(v5, sel_addChangeObserver_, v0);
    id v6 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v5;
    id v3 = v5;

    double v2 = 0;
  }
  id v7 = v2;
  return v3;
}

void sub_246B81060(uint64_t *a1@<X8>)
{
  id v3 = (uint64_t *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration);
  uint64_t v4 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration);
  uint64_t v5 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 8);
  uint64_t v6 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 16);
  uint64_t v7 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 24);
  uint64_t v8 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 32);
  uint64_t v9 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 40);
  uint64_t v10 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 48);
  uint64_t v11 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 56);
  if (v5)
  {
    uint64_t v12 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration);
    uint64_t v13 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 8);
    uint64_t v14 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 16);
    uint64_t v15 = v7;
    uint64_t v16 = v8;
    uint64_t v17 = v9;
    uint64_t v18 = v10;
    uint64_t v19 = v11;
  }
  else
  {
    uint64_t v32 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 16);
    uint64_t v33 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration);
    uint64_t v30 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 32);
    uint64_t v31 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 24);
    uint64_t v28 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 48);
    uint64_t v29 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 40);
    sub_246B811C0(v34);
    uint64_t v20 = v34[0];
    uint64_t v13 = v34[1];
    uint64_t v14 = v34[2];
    uint64_t v15 = v34[3];
    uint64_t v16 = v34[4];
    uint64_t v17 = v34[5];
    uint64_t v18 = v34[6];
    uint64_t v19 = v34[7];
    uint64_t v26 = v3[1];
    uint64_t v27 = *v3;
    uint64_t v24 = v3[3];
    uint64_t v25 = v3[2];
    uint64_t v22 = v3[5];
    uint64_t v23 = v3[4];
    uint64_t v21 = v3[6];
    uint64_t *v3 = v34[0];
    v3[1] = v13;
    v3[2] = v14;
    v3[3] = v15;
    void v3[4] = v16;
    v3[5] = v17;
    v3[6] = v18;
    v3[7] = v19;
    uint64_t v12 = v20;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    sub_246B8EE04(v16);
    sub_246B8EE04(v18);
    sub_246B8BD80(v27, v26, v25, v24, v23, v22, v21);
    uint64_t v10 = v28;
    uint64_t v9 = v29;
    uint64_t v8 = v30;
    uint64_t v7 = v31;
    uint64_t v6 = v32;
    uint64_t v4 = v33;
  }
  sub_246B8EE48(v4, v5, v6, v7, v8, v9, v10);
  *a1 = v12;
  a1[1] = v13;
  a1[2] = v14;
  a1[3] = v15;
  a1[4] = v16;
  a1[5] = v17;
  a1[6] = v18;
  a1[7] = v19;
}

uint64_t sub_246B811C0@<X0>(uint64_t *a1@<X8>)
{
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  id v3 = (void *)sub_246C2CC08();
  uint64_t v4 = (void *)sub_246C2CC08();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v3, v4);

  uint64_t v6 = sub_246C2CC48();
  uint64_t v8 = v7;

  uint64_t v9 = (void *)sub_246C2CC08();
  uint64_t v10 = (void *)sub_246C2CC08();
  id v11 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v9, v10);

  uint64_t v12 = sub_246C2CC48();
  uint64_t v14 = v13;

  uint64_t v15 = swift_allocObject();
  swift_unknownObjectWeakInit();
  uint64_t v16 = swift_allocObject();
  uint64_t result = swift_unknownObjectWeakInit();
  *a1 = v6;
  a1[1] = v8;
  a1[2] = v12;
  a1[3] = v14;
  a1[4] = (uint64_t)sub_246B8EEC4;
  a1[5] = v15;
  a1[6] = (uint64_t)sub_246B8EECC;
  a1[7] = v16;
  return result;
}

void sub_246B81394(uint64_t a1)
{
  uint64_t v1 = a1 + 16;
  swift_beginAccess();
  uint64_t v2 = MEMORY[0x24C545A70](v1);
  if (v2)
  {
    id v3 = (void *)v2;
    sub_246B83A10();
  }
}

void sub_246B813E8(uint64_t a1)
{
  uint64_t v1 = a1 + 16;
  swift_beginAccess();
  uint64_t v2 = MEMORY[0x24C545A70](v1);
  if (v2)
  {
    id v3 = (void *)v2;
    sub_246BAC7C8();
  }
}

char *sub_246B8143C(void *a1, void *a2, char a3)
{
  *(void *)&v3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sectionTopBottomContentInsets] = 0x4018000000000000;
  uint64_t v7 = MEMORY[0x263F8EE78];
  *(void *)&v3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sections] = MEMORY[0x263F8EE78];
  uint64_t v8 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_suggestionsDataSource;
  type metadata accessor for ParmesanShuffleSuggestionsDataSource();
  uint64_t v9 = swift_allocObject();
  uint64_t v10 = self;
  id v11 = v3;
  id v12 = objc_msgSend(v10, sel_sharedPhotoLibrary);
  id v13 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5DE80]), sel_initWithPhotoLibrary_, v12);

  *(void *)&v3[v8] = v9;
  *(void *)(v9 + 16) = v13;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedTypeface] = 2;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedNumeralsOption] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___previewStackViewModel] = 0;
  double v14 = *MEMORY[0x263F5DEA0];
  double v15 = *(double *)(MEMORY[0x263F5DEA0] + 8);
  id v16 = objc_msgSend(self, sel_mainScreen);
  objc_msgSend(v16, sel_bounds);
  CGFloat v18 = v17;
  CGFloat v20 = v19;
  CGFloat v22 = v21;
  CGFloat v24 = v23;

  v51.origin.double x = v18;
  v51.origin.double y = v20;
  v51.size.width = v22;
  v51.size.height = v24;
  double v25 = CGRectGetHeight(v51) * 0.2;
  double v26 = v14 / v15 * v25;
  if (v15 < v25)
  {
    double v26 = v14;
    double v25 = v15;
  }
  uint64_t v27 = (double *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize];
  *uint64_t v27 = v26;
  v27[1] = v25;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes] = v7;
  v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadedInitialSelection] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes] = v7;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers] = 0;
  uint64_t v28 = &v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection];
  *(void *)uint64_t v28 = 0;
  *((void *)v28 + 1) = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers] = 0;
  uint64_t v29 = &v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier];
  *(void *)uint64_t v29 = 0;
  *((void *)v29 + 1) = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___peopleDataSource] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer] = 0;
  uint64_t v30 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray;
  *(void *)&v11[v30] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanButtonTray()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v31 = &v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration];
  *((_OWORD *)v31 + 2) = 0u;
  *((_OWORD *)v31 + 3) = 0u;
  *(_OWORD *)uint64_t v31 = 0u;
  *((_OWORD *)v31 + 1) = 0u;
  uint64_t result = (char *)(id)NTKNewUniqueTeporaryResourceDirectory();
  if (result)
  {
    uint64_t v33 = result;
    uint64_t v34 = sub_246C2CC48();
    uint64_t v36 = v35;

    uint64_t v37 = (uint64_t *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_resourceDirectory];
    uint64_t *v37 = v34;
    v37[1] = v36;

    swift_unknownObjectWeakInit();
    *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor] = a1;
    *(void *)&v11[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_face] = a2;
    v11[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_inGallery] = a3 & 1;
    v50.receiver = v11;
    v50.super_class = (Class)type metadata accessor for ParmesanShuffleSelectionBaseViewController();
    id v38 = a1;
    id v39 = a2;
    uint64_t v40 = (char *)objc_msgSendSuper2(&v50, sel_initWithNibName_bundle_, 0, 0);
    id v41 = objc_msgSend(v39, sel_selectedOptionForCustomEditMode_slot_, 19, 0, v50.receiver, v50.super_class);
    if (v41)
    {
      uint64_t v42 = v41;
      type metadata accessor for ParmesanNumeralsEditOption();
      uint64_t v43 = (void *)swift_dynamicCastClass();
      if (v43)
      {
        id v44 = objc_msgSend(v43, sel_numeralOption);

        *(void *)&v40[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedNumeralsOption] = v44;
      }
      else
      {
      }
    }
    id v45 = objc_msgSend(v39, sel_selectedOptionForCustomEditMode_slot_, 13, 0);
    if (v45)
    {
      uint64_t v46 = v45;
      type metadata accessor for ParmesanTypefaceEditOption();
      uint64_t v47 = (void *)swift_dynamicCastClass();
      if (v47)
      {
        id v48 = objc_msgSend(v47, sel__value);

        uint64_t v49 = v48 == (id)1;
        if (v48 == (id)2) {
          uint64_t v49 = 2;
        }
        *(void *)&v40[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedTypeface] = v49;
        return v40;
      }
    }
    return v40;
  }
  __break(1u);
  return result;
}

void sub_246B81930()
{
  swift_bridgeObjectRelease();
  swift_release();
  swift_bridgeObjectRelease();

  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  swift_unknownObjectRelease();
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration);
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 8);
  uint64_t v3 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 16);
  uint64_t v4 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 24);
  uint64_t v5 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 32);
  uint64_t v6 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 40);
  uint64_t v7 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration + 48);

  sub_246B8BD80(v1, v2, v3, v4, v5, v6, v7);
}

id sub_246B81A9C()
{
  v9[1] = *(id *)MEMORY[0x263EF8340];
  id v1 = objc_msgSend(self, sel_defaultManager);
  swift_bridgeObjectRetain();
  uint64_t v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  v9[0] = 0;
  unsigned int v3 = objc_msgSend(v1, sel_removeItemAtPath_error_, v2, v9);

  if (v3)
  {
    id v4 = v9[0];
  }
  else
  {
    id v5 = v9[0];
    uint64_t v6 = (void *)sub_246C2BA48();

    swift_willThrow();
  }
  v8.receiver = v0;
  v8.super_class = (Class)type metadata accessor for ParmesanShuffleSelectionViewController();
  return objc_msgSendSuper2(&v8, sel_dealloc);
}

void sub_246B81D60()
{
  id v1 = v0;
  v99.receiver = v0;
  v99.super_class = (Class)type metadata accessor for ParmesanShuffleSelectionViewController();
  objc_msgSendSuper2(&v99, sel_loadView);
  id v2 = sub_246B829F8(0);
  id v3 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82528]), sel_initWithFrame_collectionViewLayout_, v2, 0.0, 0.0, 0.0, 0.0);

  uint64_t v4 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView;
  id v5 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView] = v3;

  id v6 = objc_msgSend(v1, sel_view);
  if (!v6)
  {
    __break(1u);
    goto LABEL_21;
  }
  if (!*(void *)&v1[v4])
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v7 = v6;
  objc_msgSend(v6, sel_addSubview_);

  objc_super v8 = *(void **)&v1[v4];
  if (!v8)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  double v9 = *MEMORY[0x263F82250];
  double v10 = *(double *)(MEMORY[0x263F82250] + 8);
  double v11 = *(double *)(MEMORY[0x263F82250] + 16);
  double v12 = *(double *)(MEMORY[0x263F82250] + 24);
  objc_msgSend(v8, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], v10, v11, v12);
  id v13 = *(void **)&v1[v4];
  if (!v13)
  {
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  swift_allocObject();
  swift_unknownObjectWeakInit();
  objc_allocWithZone((Class)sub_246B80250((uint64_t *)&unk_2691D6AA0));
  id v14 = v13;
  uint64_t v15 = sub_246C2C318();
  uint64_t v16 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
  double v17 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource];
  *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource] = v15;

  CGFloat v18 = *(void **)&v1[v16];
  if (!v18)
  {
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  swift_allocObject();
  swift_unknownObjectWeakInit();
  swift_retain();
  id v19 = v18;
  sub_246C2C328();
  swift_release();

  CGFloat v20 = *(void **)&v1[v4];
  if (!v20)
  {
LABEL_25:
    __break(1u);
    goto LABEL_26;
  }
  objc_msgSend(v20, sel_setDataSource_, *(void *)&v1[v16]);
  double v21 = *(void **)&v1[v4];
  if (!v21)
  {
LABEL_26:
    __break(1u);
    goto LABEL_27;
  }
  objc_msgSend(v21, sel_setDelegate_, v1);
  CGFloat v22 = *(void **)&v1[v4];
  if (!v22)
  {
LABEL_27:
    __break(1u);
    goto LABEL_28;
  }
  objc_msgSend(v22, sel_setAllowsMultipleSelection_, 1);
  double v23 = *(void **)&v1[v4];
  if (!v23)
  {
LABEL_28:
    __break(1u);
    goto LABEL_29;
  }
  sub_246B8F1E0(0, &qword_2691D6A50);
  ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
  id v25 = v23;
  double v26 = NSStringFromClass(ObjCClassFromMetadata);
  sub_246C2CC48();

  uint64_t v27 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  objc_msgSend(v25, sel_registerClass_forCellWithReuseIdentifier_, ObjCClassFromMetadata, v27);

  uint64_t v28 = *(void **)&v1[v4];
  if (!v28)
  {
LABEL_29:
    __break(1u);
    goto LABEL_30;
  }
  type metadata accessor for ParmesanListCell();
  uint64_t v29 = (objc_class *)swift_getObjCClassFromMetadata();
  id v30 = v28;
  uint64_t v31 = NSStringFromClass(v29);
  sub_246C2CC48();

  uint64_t v32 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  objc_msgSend(v30, sel_registerClass_forCellWithReuseIdentifier_, v29, v32);

  uint64_t v33 = *(void **)&v1[v4];
  if (!v33)
  {
LABEL_30:
    __break(1u);
    goto LABEL_31;
  }
  type metadata accessor for WatchFacePreviewsHeader();
  uint64_t v34 = swift_getObjCClassFromMetadata();
  id v35 = v33;
  uint64_t v36 = (void *)sub_246C2CC08();
  uint64_t v37 = (void *)sub_246C2CC08();
  objc_msgSend(v35, sel_registerClass_forSupplementaryViewOfKind_withReuseIdentifier_, v34, v36, v37);

  id v38 = *(void **)&v1[v4];
  if (!v38)
  {
LABEL_31:
    __break(1u);
    goto LABEL_32;
  }
  type metadata accessor for ParmesanButtonTrayReusableView();
  uint64_t v39 = swift_getObjCClassFromMetadata();
  id v40 = v38;
  id v41 = (void *)sub_246C2CC08();
  uint64_t v42 = (void *)sub_246C2CC08();
  objc_msgSend(v40, sel_registerClass_forSupplementaryViewOfKind_withReuseIdentifier_, v39, v41, v42);

  id v43 = objc_msgSend(v1, sel_view);
  if (!v43)
  {
LABEL_32:
    __break(1u);
LABEL_33:
    __break(1u);
    goto LABEL_34;
  }
  id v44 = v43;
  uint64_t v45 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray;
  objc_msgSend(v43, sel_addSubview_, *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray]);

  objc_msgSend(*(id *)&v1[v45], sel_setHidden_, 0);
  uint64_t v98 = v45;
  uint64_t v46 = (char *)*(id *)&v1[v45];
  sub_246B81060((uint64_t *)&v100);
  uint64_t v47 = *((void *)&v100 + 1);
  uint64_t v97 = v46;
  id v48 = *(char **)&v46[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container];
  uint64_t v49 = (uint64_t *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration];
  uint64_t v50 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration];
  uint64_t v51 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 8];
  uint64_t v52 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 16];
  uint64_t v93 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 32];
  uint64_t v94 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 24];
  uint64_t v91 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 48];
  uint64_t v92 = *(void *)&v48[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration
                      + 40];
  long long v53 = v101;
  long long v54 = v102;
  long long v55 = v103;
  *uint64_t v49 = v100;
  v49[1] = v47;
  *((_OWORD *)v49 + 1) = v53;
  *((_OWORD *)v49 + 2) = v54;
  *((_OWORD *)v49 + 3) = v55;
  long long v105 = v100;
  sub_246B8ED74((uint64_t)&v101, (uint64_t)v104, &qword_2691D8830);
  uint64_t v56 = v102;
  uint64_t v57 = v103;
  uint64_t v58 = v48;
  sub_246B8EDD8((uint64_t)&v105);
  sub_246B8EDD8((uint64_t)v104);
  uint64_t v95 = v56;
  sub_246B8EE04(v56);
  uint64_t v96 = v57;
  sub_246B8EE04(v57);
  sub_246B8BD80(v50, v51, v52, v94, v93, v92, v91);
  uint64_t v59 = v49[1];
  if (v59)
  {
    uint64_t v61 = v49[6];
    uint64_t v60 = v49[7];
    uint64_t v63 = v49[4];
    uint64_t v62 = v49[5];
    uint64_t v65 = v49[2];
    uint64_t v64 = v49[3];
    uint64_t v66 = *v49;
    v106[0] = v66;
    v106[1] = v59;
    v106[2] = v65;
    v106[3] = v64;
    v106[4] = v63;
    v106[5] = v62;
    v106[6] = v61;
    v106[7] = v60;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    sub_246B8EE04(v63);
    sub_246B8EE04(v61);
    sub_246BD0150(v106);
    sub_246B8BD80(v66, v59, v65, v64, v63, v62, v61);
  }
  sub_246B8EE14((uint64_t)&v105);
  sub_246B8EE14((uint64_t)v104);
  sub_246B8BDFC(v95);
  sub_246B8BDFC(v96);

  objc_msgSend(*(id *)&v1[v98], sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 14, 0, v9, v10, v11, v12);
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v67 = swift_allocObject();
  uint64_t v68 = *(void *)&v1[v98];
  *(_OWORD *)(v67 + 16) = xmmword_246C33600;
  id v69 = objc_msgSend(*(id *)(v68 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide), sel_leadingAnchor);
  id v70 = objc_msgSend(v1, sel_view);
  if (!v70) {
    goto LABEL_33;
  }
  uint64_t v71 = v70;
  id v72 = objc_msgSend(v70, sel_layoutMarginsGuide);

  id v73 = objc_msgSend(v72, sel_leadingAnchor);
  id v74 = objc_msgSend(v69, sel_constraintEqualToAnchor_, v73);

  uint64_t v75 = *(void *)&v1[v98];
  *(void *)(v67 + 32) = v74;
  id v76 = objc_msgSend(*(id *)(v75 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide), sel_trailingAnchor);
  id v77 = objc_msgSend(v1, sel_view);
  if (!v77)
  {
LABEL_34:
    __break(1u);
    goto LABEL_35;
  }
  uint64_t v78 = v77;
  id v79 = objc_msgSend(v77, sel_layoutMarginsGuide);

  id v80 = objc_msgSend(v79, sel_trailingAnchor);
  id v81 = objc_msgSend(v76, sel_constraintEqualToAnchor_, v80);

  uint64_t v82 = *(void *)&v1[v98];
  *(void *)(v67 + 40) = v81;
  id v83 = objc_msgSend(*(id *)(v82 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide), sel_bottomAnchor);
  id v84 = objc_msgSend(v1, sel_view);
  if (v84)
  {
    uint64_t v85 = v84;
    uint64_t v86 = self;
    id v87 = objc_msgSend(v85, sel_safeAreaLayoutGuide);

    id v88 = objc_msgSend(v87, sel_bottomAnchor);
    id v89 = objc_msgSend(v83, sel_constraintEqualToAnchor_, v88);

    *(void *)(v67 + 48) = v89;
    sub_246C2CD58();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
    uint64_t v90 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    objc_msgSend(v86, sel_activateConstraints_, v90);

    return;
  }
LABEL_35:
  __break(1u);
}

uint64_t sub_246B826B0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = *(void *)a3;
  int v6 = *(unsigned __int8 *)(a3 + 8);
  uint64_t v7 = a4 + 16;
  swift_beginAccess();
  uint64_t v8 = MEMORY[0x24C545A70](v7);
  if (!v8) {
    return 0;
  }
  double v9 = (void *)v8;
  if (v6)
  {
    if (v5) {
      sub_246B84D7C();
    }
    else {
      sub_246B84690();
    }
  }
  else
  {
    sub_246B84898(v5, a2);
  }
  uint64_t v11 = v10;

  return v11;
}

uint64_t sub_246B8274C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v7 = a5 + 16;
  swift_beginAccess();
  uint64_t v8 = MEMORY[0x24C545A70](v7);
  if (!v8) {
    return 0;
  }
  double v9 = (void *)v8;
  uint64_t v10 = sub_246B83340(a2, a3);

  return v10;
}

id sub_246B8281C(char a1)
{
  id v2 = v1;
  v8.receiver = v2;
  v8.super_class = (Class)type metadata accessor for ParmesanShuffleSelectionViewController();
  objc_msgSendSuper2(&v8, sel_viewWillAppear_, a1 & 1);
  sub_246B85F70();
  if (objc_msgSend(*(id *)(*(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_suggestionsDataSource]+ 16), sel_hasSuggestions))sub_246B85558(); {
  if (*(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers]
  }
    && *(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers])
  {
    swift_bridgeObjectRetain();
    uint64_t v4 = swift_bridgeObjectRetain();
    sub_246BF82C4(v4);
    swift_bridgeObjectRelease();
  }
  else
  {
    id v5 = sub_246B80FA0();
    sub_246B8B17C(v5);
  }
  id v6 = sub_246B80FA0();
  objc_msgSend(v6, sel_startBackgroundFetch);

  return objc_msgSend(*(id *)(*(void *)(*(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray]+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton), sel_setEnabled_, 0);
}

id sub_246B829F8(char a1)
{
  id v2 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82548]), sel_init);
  id v3 = self;
  id v4 = objc_msgSend(v3, sel_fractionalWidthDimension_, 1.0);
  id v5 = objc_msgSend(v3, sel_estimatedDimension_, 48.0);
  id v6 = self;
  id v7 = objc_msgSend(v6, sel_sizeWithWidthDimension_heightDimension_, v4, v5);

  objc_super v8 = (void *)sub_246C2CC08();
  double v9 = self;
  id v10 = objc_msgSend(v9, sel_boundarySupplementaryItemWithLayoutSize_elementKind_alignment_, v7, v8, 1);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v11 = swift_allocObject();
  *(_OWORD *)(v11 + 16) = xmmword_246C33610;
  *(void *)(v11 + 32) = v10;
  aBlock[0] = v11;
  sub_246C2CD58();
  uint64_t v27 = aBlock[0];
  id v12 = v10;
  if (a1)
  {
    id v13 = objc_msgSend(v3, sel_fractionalWidthDimension_, 1.0);
    id v14 = objc_msgSend(v3, sel_estimatedDimension_, 84.0);
    id v15 = objc_msgSend(v6, sel_sizeWithWidthDimension_heightDimension_, v13, v14);

    id v16 = v15;
    double v17 = (void *)sub_246C2CC08();
    id v18 = objc_msgSend(v9, sel_boundarySupplementaryItemWithLayoutSize_elementKind_alignment_absoluteOffset_, v16, v17, 5, 0.0, 12.0);

    objc_msgSend(v18, sel_setExtendsBoundary_, 1);
    id v19 = v18;
    MEMORY[0x24C543DC0]();
    if (*(void *)((v27 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v27 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
  sub_246B8F1E0(0, &qword_2691D6E30);
  CGFloat v20 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v2, sel_setBoundarySupplementaryItems_, v20);

  objc_msgSend(v2, sel_setScrollDirection_, 0);
  objc_msgSend(v2, sel_setInterSectionSpacing_, 0.0);
  uint64_t v21 = swift_allocObject();
  swift_unknownObjectWeakInit();
  id v22 = objc_allocWithZone(MEMORY[0x263F82540]);
  void aBlock[4] = sub_246B8EE40;
  aBlock[5] = v21;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B8BD04;
  aBlock[3] = &unk_26FB203B0;
  double v23 = _Block_copy(aBlock);
  swift_retain();
  id v24 = objc_msgSend(v22, sel_initWithSectionProvider_configuration_, v23, v2);

  _Block_release(v23);
  swift_release();

  swift_release();
  return v24;
}

uint64_t sub_246B82E1C(unint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = sub_246C2C418();
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388]();
  objc_super v8 = (char *)&v35 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_246C2C438();
  uint64_t v10 = *(void *)(v9 - 8);
  MEMORY[0x270FA5388]();
  id v12 = (char *)&v35 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, void, uint64_t))(v6 + 104))(v8, *MEMORY[0x263F81FC8], v5);
  sub_246C2C428();
  swift_beginAccess();
  uint64_t result = MEMORY[0x24C545A70](a3 + 16);
  if (!result)
  {
    sub_246B8F1E0(0, &qword_2691D6A90);
    id v16 = (id)sub_246C2D068();
LABEL_8:
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
    return (uint64_t)v16;
  }
  if ((a1 & 0x8000000000000000) != 0)
  {
    __break(1u);
  }
  else
  {
    id v14 = (char *)result;
    uint64_t v15 = *(void *)(result + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sections);
    if (*(void *)(v15 + 16) > a1)
    {
      if (*(unsigned char *)(v15 + a1 + 32))
      {
        sub_246B8F1E0(0, &qword_2691D6A90);
        id v16 = (id)sub_246C2D068();
        objc_msgSend(v16, sel_contentInsets);
        objc_msgSend(v16, sel_setContentInsets_, 6.0);
      }
      else
      {
        double v17 = self;
        id v18 = objc_msgSend(v17, sel_fractionalWidthDimension_, 1.0);
        id v19 = (double *)&v14[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize];
        id v20 = objc_msgSend(v17, sel_absoluteDimension_, *(double *)&v14[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize + 8]);
        id v21 = objc_msgSend(self, sel_sizeWithWidthDimension_heightDimension_, v18, v20);

        id v22 = objc_msgSend(self, sel_itemWithLayoutSize_, v21);
        double v23 = self;
        sub_246B80250((uint64_t *)&unk_2691D6A80);
        uint64_t v24 = swift_allocObject();
        *(_OWORD *)(v24 + 16) = xmmword_246C33610;
        *(void *)(v24 + 32) = v22;
        uint64_t v37 = v24;
        sub_246C2CD58();
        uint64_t v36 = v9;
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6A98);
        id v35 = v22;
        id v25 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
        id v26 = objc_msgSend(v23, sel_verticalGroupWithLayoutSize_subitems_, v21, v25);

        uint64_t v27 = self;
        id v28 = v26;
        id v29 = objc_msgSend(v27, sel_fixedSpacing_, 0.0);
        double v30 = v19[1] * 0.28 * 0.33;
        id v31 = objc_msgSend(v27, sel_fixedSpacing_, v30 + v30);
        id v32 = objc_msgSend(v27, sel_fixedSpacing_, 0.0);
        id v33 = objc_msgSend(v27, sel_fixedSpacing_, v30);
        id v34 = objc_msgSend(self, sel_spacingForLeading_top_trailing_bottom_, v29, v31, v32, v33);

        uint64_t v9 = v36;
        objc_msgSend(v28, sel_setEdgeSpacing_, v34);

        id v16 = objc_msgSend(self, sel_sectionWithGroup_, v28);
      }
      goto LABEL_8;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_246B83340(uint64_t result, uint64_t a2)
{
  if (result == 0xD00000000000001ALL && a2 == 0x8000000246C3B040 || (uint64_t result = sub_246C2D578(), (result & 1) != 0))
  {
    id v3 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
    if (v3)
    {
      id v4 = v3;
      uint64_t v5 = (void *)sub_246C2CC08();
      uint64_t v6 = (void *)sub_246C2CC08();
      uint64_t v7 = (void *)sub_246C2BC78();
      id v8 = objc_msgSend(v4, sel_dequeueReusableSupplementaryViewOfKind_withReuseIdentifier_forIndexPath_, v5, v6, v7);

      type metadata accessor for WatchFacePreviewsHeader();
      uint64_t v9 = swift_dynamicCastClassUnconditional();
      uint64_t v10 = *(void **)(v9 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23WatchFacePreviewsHeader_label);
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      id v12 = v10;
      id v13 = (void *)sub_246C2CC08();
      id v14 = (void *)sub_246C2CC08();
      id v15 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v13, v14);

      if (!v15)
      {
        sub_246C2CC48();
        id v15 = (id)sub_246C2CC08();
        swift_bridgeObjectRelease();
      }
      objc_msgSend(v12, sel_setText_, v15);

      return v9;
    }
    __break(1u);
  }
  else
  {
    id v16 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
    if (v16)
    {
      id v17 = v16;
      id v18 = (void *)sub_246C2CC08();
      id v19 = (void *)sub_246C2CC08();
      id v20 = (void *)sub_246C2BC78();
      id v21 = objc_msgSend(v17, sel_dequeueReusableSupplementaryViewOfKind_withReuseIdentifier_forIndexPath_, v18, v19, v20);

      type metadata accessor for ParmesanButtonTrayReusableView();
      uint64_t v9 = swift_dynamicCastClassUnconditional();
      sub_246B81060((uint64_t *)&v45);
      uint64_t v22 = *((void *)&v45 + 1);
      double v23 = (uint64_t *)(*(void *)(v9
                                  + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanButtonTrayReusableView_tray)
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration);
      uint64_t v24 = *v23;
      uint64_t v25 = v23[1];
      uint64_t v26 = v23[2];
      uint64_t v42 = v23[4];
      uint64_t v43 = v23[3];
      uint64_t v40 = v23[6];
      uint64_t v41 = v23[5];
      long long v27 = v46;
      long long v28 = v47;
      long long v29 = v48;
      *double v23 = v45;
      v23[1] = v22;
      *((_OWORD *)v23 + 1) = v27;
      *((_OWORD *)v23 + 2) = v28;
      *((_OWORD *)v23 + 3) = v29;
      long long v50 = v45;
      sub_246B8ED74((uint64_t)&v46, (uint64_t)v49, &qword_2691D8830);
      uint64_t v30 = v47;
      uint64_t v31 = v48;
      sub_246B8EDD8((uint64_t)&v50);
      sub_246B8EDD8((uint64_t)v49);
      uint64_t v44 = v30;
      sub_246B8EE04(v30);
      sub_246B8EE04(v31);
      sub_246B8BD80(v24, v25, v26, v43, v42, v41, v40);
      uint64_t v32 = v23[1];
      if (v32)
      {
        uint64_t v34 = v23[6];
        uint64_t v33 = v23[7];
        uint64_t v36 = v23[4];
        uint64_t v35 = v23[5];
        uint64_t v38 = v23[2];
        uint64_t v37 = v23[3];
        uint64_t v39 = *v23;
        v51[0] = v39;
        v51[1] = v32;
        v51[2] = v38;
        v51[3] = v37;
        v51[4] = v36;
        v51[5] = v35;
        v51[6] = v34;
        v51[7] = v33;
        swift_bridgeObjectRetain();
        swift_bridgeObjectRetain();
        sub_246B8EE04(v36);
        sub_246B8EE04(v34);
        sub_246BD0150(v51);
        sub_246B8BD80(v39, v32, v38, v37, v36, v35, v34);
      }
      sub_246B8EE14((uint64_t)&v50);
      sub_246B8EE14((uint64_t)v49);
      sub_246B8BDFC(v44);
      sub_246B8BDFC(v31);
      return v9;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_246B837C8(void *a1, uint64_t a2, void *a3, uint64_t a4, uint64_t (*a5)(char *))
{
  uint64_t v8 = sub_246C2BCD8();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v15 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  id v12 = a3;
  id v13 = a1;
  LOBYTE(a5) = a5(v11);

  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  return a5 & 1;
}

uint64_t sub_246B83908(void *a1, uint64_t a2, void *a3, uint64_t a4, void (*a5)(char *))
{
  uint64_t v8 = sub_246C2BCD8();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v15 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  id v12 = a3;
  id v13 = a1;
  a5(v11);

  return (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v11, v8);
}

void sub_246B83A10()
{
  id v1 = v0;
  uint64_t v2 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection];
  uint64_t v3 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8];
  if (!v3)
  {
    id v14 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers];
    if (v14)
    {
      if (*(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers]
        && (uint64_t v15 = *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers]) != 0)
      {
        uint64_t v58 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers];
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain();
        swift_bridgeObjectRetain();
        sub_246BF82C4(v15);
        char v16 = sub_246C09ED0(v14, v58);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (v16) {
          goto LABEL_11;
        }
      }
      else
      {
        swift_bridgeObjectRetain();
      }
      id v17 = (uint64_t *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes];
      swift_beginAccess();
      if ((sub_246B9A5B4(1, *v17) & 1) == 0)
      {
LABEL_11:
        swift_bridgeObjectRelease();
        id v14 = 0;
      }
    }
    id v18 = &v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes];
    swift_beginAccess();
    uint64_t v19 = *(void *)v18;
    id v20 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
    id v21 = (char *)objc_allocWithZone(v20);
    *(void *)&v21[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = v19;
    *(void *)&v21[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = v14;
    uint64_t v22 = &v21[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
    *(void *)uint64_t v22 = 0;
    *((void *)v22 + 1) = 0;
    *(void *)&v21[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = 0;
    v57.receiver = v21;
    v57.super_class = v20;
    swift_bridgeObjectRetain();
    id v8 = objc_msgSendSuper2(&v57, sel_init);
    goto LABEL_13;
  }
  uint64_t v4 = *(void *)v2;
  uint64_t v5 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
  uint64_t v6 = (char *)objc_allocWithZone(v5);
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = 0;
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = 0;
  uint64_t v7 = &v6[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
  *(void *)uint64_t v7 = v4;
  *((void *)v7 + 1) = v3;
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = 0;
  v55.receiver = v6;
  v55.super_class = v5;
  swift_bridgeObjectRetain_n();
  id v8 = objc_msgSendSuper2(&v55, sel_init);
  uint64_t v9 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor];
  uint64_t v10 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v11 = objc_msgSend(v9, sel_titleForCollectionWithIdentifier_, v10);

  if (v11)
  {
    sub_246C2CC48();
    uint64_t v13 = v12;

    goto LABEL_14;
  }
LABEL_13:
  uint64_t v13 = 0;
LABEL_14:
  uint64_t v23 = sub_246B80E08();
  swift_getKeyPath();
  uint64_t v56 = v23;
  sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  swift_release();
  uint64_t v24 = *(void *)(v23 + 64);
  swift_bridgeObjectRetain();
  swift_release();
  unint64_t v25 = *(void *)(v24 + 16);
  swift_bridgeObjectRelease();
  if (v25)
  {
    uint64_t v26 = sub_246B80E08();
    swift_getKeyPath();
    uint64_t v56 = v26;
    sub_246C2BFD8();
    swift_release();
    uint64_t v27 = *(void *)(v26 + 64);
    swift_bridgeObjectRetain();
    swift_release();
    if (v25 >> 1 < *(void *)(v27 + 16))
    {
      uint64_t v28 = v27 + 80 * (v25 >> 1);
      long long v29 = *(void **)(v28 + 88);
      id v30 = *(id *)(v28 + 48);
      id v31 = v29;
      swift_bridgeObjectRetain();

      swift_bridgeObjectRelease();
      uint64_t v32 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor];
      uint64_t v33 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      if (v13)
      {
        uint64_t v34 = (void *)sub_246C2CC08();
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v34 = 0;
      }
      objc_msgSend(v32, sel_setShuffleSelection_withKeyAssetIdentifier_albumName_, v8, v33, v34);

      long long v54 = (void *)MEMORY[0x24C545A70](&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_delegate]);
      if (v54)
      {
        objc_msgSend(v54, sel_shuffleSelectionViewController_didFinishWithSelection_, v1, v8);
        swift_unknownObjectRelease();
      }
      goto LABEL_25;
    }
    __break(1u);
    goto LABEL_27;
  }
  swift_bridgeObjectRelease();
  if (qword_2691D6300 != -1) {
LABEL_27:
  }
    swift_once();
  uint64_t v35 = sub_246C2C088();
  sub_246B8BE0C(v35, (uint64_t)qword_2691E0150);
  uint64_t v36 = sub_246C2C068();
  os_log_type_t v37 = sub_246C2CEE8();
  if (os_log_type_enabled(v36, v37))
  {
    uint64_t v38 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v38 = 0;
    _os_log_impl(&dword_246B51000, v36, v37, "Failed to get keyAsset, cannot create shuffle", v38, 2u);
    MEMORY[0x24C545990](v38, -1, -1);
  }

  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v40 = (void *)sub_246C2CC08();
  uint64_t v41 = (void *)sub_246C2CC08();
  id v42 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v40, v41);

  sub_246C2CC48();
  uint64_t v43 = (void *)sub_246C2CC08();
  uint64_t v44 = (void *)sub_246C2CC08();
  id v45 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v43, v44);

  sub_246C2CC48();
  long long v46 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  long long v47 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v48 = objc_msgSend(self, sel_alertControllerWithTitle_message_preferredStyle_, v46, v47, 1);

  uint64_t v49 = (void *)sub_246C2CC08();
  long long v50 = (void *)sub_246C2CC08();
  id v51 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v49, v50);

  sub_246C2CC48();
  uint64_t v52 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v53 = objc_msgSend(self, sel_actionWithTitle_style_handler_, v52, 0, 0);

  objc_msgSend(v48, sel_addAction_, v53);
  objc_msgSend(v1, sel_presentViewController_animated_completion_, v48, 1, 0);

LABEL_25:
}

uint64_t sub_246B841EC()
{
  id v1 = v0;
  sub_246B80250(&qword_2691D6A18);
  ((void (*)(void))MEMORY[0x270FA5388])();
  uint64_t v3 = (char *)&v26 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v28 = sub_246C2CB88();
  uint64_t v4 = *(void *)(v28 - 8);
  ((void (*)(void))MEMORY[0x270FA5388])();
  uint64_t v6 = (char *)&v26 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246C2CB38();
  uint64_t v26 = *(void *)(v7 - 8);
  uint64_t v27 = v7;
  uint64_t v8 = ((uint64_t (*)(void))MEMORY[0x270FA5388])();
  uint64_t v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)&v26 - v11;
  id v13 = objc_msgSend(self, sel_sharedPhotoLibrary);
  sub_246C2CB28();
  sub_246C2CAD8();
  sub_246C2CAF8();
  if (*(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers]
    && *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers])
  {
    uint64_t v29 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers];
    swift_bridgeObjectRetain();
    uint64_t v14 = swift_bridgeObjectRetain();
    sub_246BF82C4(v14);
  }
  sub_246C2CB48();
  uint64_t v15 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers;
  swift_bridgeObjectRetain();
  sub_246C2CB68();
  swift_bridgeObjectRetain();
  sub_246C2CB58();
  uint64_t v16 = v28;
  (*(void (**)(char *, char *, uint64_t))(v4 + 16))(v3, v6, v28);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v4 + 56))(v3, 0, 1, v16);
  sub_246C2CAB8();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6A28);
  (*(void (**)(char *, char *, uint64_t))(v26 + 16))(v10, v12, v27);
  id v17 = (void *)sub_246C2D018();
  sub_246B8ED2C((unint64_t *)&unk_2691D6A70, v18, (void (*)(uint64_t))type metadata accessor for ParmesanShuffleSelectionViewController);
  swift_unknownObjectRetain();
  sub_246C2D028();
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_246C2C088();
  sub_246B8BE0C(v19, (uint64_t)qword_2691E0168);
  id v20 = v1;
  id v21 = sub_246C2C068();
  os_log_type_t v22 = sub_246C2CF08();
  if (os_log_type_enabled(v21, v22))
  {
    uint64_t v23 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v23 = 134217984;
    uint64_t v24 = *(void *)&v1[v15];
    if (v24) {
      uint64_t v24 = *(void *)(v24 + 16);
    }
    uint64_t v29 = v24;
    sub_246C2D1C8();

    _os_log_impl(&dword_246B51000, v21, v22, "Presenting people picker, %ld people selected", v23, 0xCu);
    MEMORY[0x24C545990](v23, -1, -1);
  }
  else
  {
  }
  objc_msgSend(v20, sel_presentViewController_animated_completion_, v17, 1, 0);

  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v28);
  return (*(uint64_t (**)(char *, uint64_t))(v26 + 8))(v12, v27);
}

void sub_246B84690()
{
  id v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
  if (v1)
  {
    sub_246B8F1E0(0, &qword_2691D6A50);
    ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    id v3 = v1;
    uint64_t v4 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    uint64_t v5 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v6 = (void *)sub_246C2BC78();
    objc_msgSend(v3, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v5, v6);

    sub_246B80E08();
    v7[3] = sub_246B80250(&qword_2691D6A58);
    v7[4] = sub_246B8EC94(&qword_2691D6A60, &qword_2691D6A58);
    sub_246B8EBE4(v7);
    sub_246B8ECD8();
    sub_246C2C718();
    MEMORY[0x24C5440A0](v7);
    swift_release();
  }
  else
  {
    __break(1u);
  }
}

uint64_t sub_246B84818@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  swift_retain();
  uint64_t result = sub_246C2C968();
  *(void *)a2 = 0;
  *(unsigned char *)(a2 + 8) = v5;
  *(void *)(a2 + 16) = v6;
  *(void *)(a2 + 24) = a1;
  *(void *)(a2 + 32) = &unk_26FB1C420;
  *(void *)(a2 + 40) = &unk_26FB1C458;
  *(void *)(a2 + 48) = 0x3FC999999999999ALL;
  return result;
}

void sub_246B84898(uint64_t a1, uint64_t a2)
{
  if (a1 == 1)
  {
    sub_246B84A90(a2);
    return;
  }
  uint64_t v4 = sub_246B8CBAC(a1);
  if (v5)
  {
    uint64_t v6 = v4;
    uint64_t v7 = v5;
    uint64_t v8 = sub_246B8CC34(a1);
    if (v9)
    {
      uint64_t v10 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
      if (v10)
      {
        uint64_t v11 = v8;
        uint64_t v12 = v9;
        id v13 = v10;
        sub_246B8C5A4(v6, v7, v11, v12, 0, 0, 0, v13);

        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        return;
      }
      goto LABEL_15;
    }
    swift_bridgeObjectRelease();
  }
  uint64_t v14 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
  if (!v14)
  {
    __break(1u);
LABEL_15:
    __break(1u);
    return;
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6A48);
  ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
  id v16 = v14;
  id v17 = NSStringFromClass(ObjCClassFromMetadata);
  sub_246C2CC48();

  uint64_t v18 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  uint64_t v19 = (void *)sub_246C2BC78();
  id v20 = objc_msgSend(v16, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v18, v19);

  self;

  swift_dynamicCastObjCClassUnconditional();
}

void sub_246B84A90(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = self;
  id v5 = objc_msgSend(v4, sel_localizedTitleForSingleSmartAlbumType_, 1);
  uint64_t v6 = sub_246C2CC48();
  uint64_t v8 = v7;

  id v9 = objc_msgSend(v4, sel_systemImageNameForSingleSmartAlbumType_, 1);
  uint64_t v10 = sub_246C2CC48();
  uint64_t v12 = v11;

  uint64_t v13 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView;
  uint64_t v14 = *(void **)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  if (!v14) {
    goto LABEL_12;
  }
  uint64_t v30 = v10;
  id v15 = objc_msgSend(v14, sel_indexPathsForSelectedItems);
  if (v15)
  {
    sub_246C2BCD8();
    uint64_t v16 = sub_246C2CD38();

    MEMORY[0x270FA5388](v17);
    uint64_t v29 = a1;
    BOOL v18 = sub_246C0075C((uint64_t (*)(char *))sub_246B8EC48, (uint64_t)v28, v16);
    swift_bridgeObjectRelease();
    id v15 = 0;
    uint64_t v19 = 0;
    uint64_t v20 = 0;
    if (v18)
    {
      if (*(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers])
      {
        swift_bridgeObjectRetain();
        id v21 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
      }
      else
      {
        id v21 = 0;
      }
      id v24 = objc_msgSend((id)type metadata accessor for ParmesanShuffleSelection(), sel_peopleDetailTitleFor_, v21);

      uint64_t v19 = sub_246C2CC48();
      uint64_t v20 = v25;

      sub_246B8F1E0(0, &qword_2691D6A10);
      uint64_t v26 = swift_allocObject();
      *(void *)(v26 + 16) = v2;
      uint64_t v27 = v2;
      v28[1] = sub_246B8EC68;
      uint64_t v29 = v26;
      v28[0] = 0;
      id v15 = (id)sub_246C2D128();
      os_log_type_t v22 = *(void **)&v2[v13];
      if (!v22) {
        goto LABEL_11;
      }
LABEL_8:
      id v23 = v22;
      uint64_t v29 = a1;
      sub_246B8C5A4(v6, v8, v30, v12, v19, v20, (uint64_t)v15, v23);

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();

      swift_bridgeObjectRelease();
      return;
    }
  }
  else
  {
    uint64_t v19 = 0;
    uint64_t v20 = 0;
  }
  os_log_type_t v22 = *(void **)&v2[v13];
  if (v22) {
    goto LABEL_8;
  }
LABEL_11:
  swift_bridgeObjectRelease();

  __break(1u);
LABEL_12:
  __break(1u);
}

void sub_246B84D7C()
{
  id v1 = v0;
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  id v3 = (void *)sub_246C2CC08();
  uint64_t v4 = (void *)sub_246C2CC08();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v3, v4);

  uint64_t v6 = sub_246C2CC48();
  uint64_t v8 = v7;

  uint64_t v9 = *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8];
  if (v9)
  {
    uint64_t v10 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor];
    swift_bridgeObjectRetain();
    uint64_t v11 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v12 = objc_msgSend(v10, sel_titleForCollectionWithIdentifier_, v11);

    if (!v12)
    {
      uint64_t v13 = (void *)sub_246C2CC08();
      uint64_t v14 = (void *)sub_246C2CC08();
      id v12 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v13, v14);
    }
    uint64_t v15 = sub_246C2CC48();
    uint64_t v9 = v16;

    sub_246B8F1E0(0, &qword_2691D6A10);
    *(void *)(swift_allocObject() + 16) = v1;
    uint64_t v17 = v1;
    BOOL v18 = (void *)sub_246C2D128();
  }
  else
  {
    BOOL v18 = 0;
    uint64_t v15 = 0;
  }
  uint64_t v19 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  if (v19)
  {
    id v20 = v19;
    sub_246B8C5A4(v6, v8, 0xD000000000000014, 0x8000000246C3AE30, v15, v9, (uint64_t)v18, v20);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();

    __break(1u);
  }
}

void sub_246B85058(uint64_t a1, void *a2)
{
  uint64_t v3 = sub_246B80250(&qword_2691D6A18);
  MEMORY[0x270FA5388](v3 - 8);
  id v5 = &v22[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  uint64_t v6 = sub_246C2CB38();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = MEMORY[0x270FA5388](v6);
  uint64_t v10 = &v22[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  MEMORY[0x270FA5388](v8);
  id v12 = &v22[-v11 - 8];
  id v23 = &type metadata for LemonadeFeatureFlags;
  unint64_t v24 = sub_246B8EB40();
  v22[0] = 1;
  char v13 = sub_246C2C028();
  sub_246B8EB94((uint64_t)v22);
  if (v13)
  {
    id v14 = objc_msgSend(self, sel_sharedPhotoLibrary);
    sub_246C2CAE8();
    sub_246C2CAD8();
    sub_246C2CB78();
    uint64_t v15 = sub_246C2CB88();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v15 - 8) + 56))(v5, 0, 1, v15);
    sub_246C2CAA8();
    sub_246C2CB08();
    sub_246C2CB18();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6A28);
    (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v10, v12, v6);
    uint64_t v16 = (void *)sub_246C2D018();
    sub_246B8ED2C((unint64_t *)&qword_2691D6A30, 255, (void (*)(uint64_t))type metadata accessor for ParmesanShuffleSelectionBaseViewController);
    swift_unknownObjectRetain();
    sub_246C2D028();
    if (qword_2691D6308 != -1) {
      swift_once();
    }
    uint64_t v17 = sub_246C2C088();
    sub_246B8BE0C(v17, (uint64_t)qword_2691E0168);
    BOOL v18 = sub_246C2C068();
    os_log_type_t v19 = sub_246C2CF08();
    if (os_log_type_enabled(v18, v19))
    {
      id v20 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v20 = 0;
      _os_log_impl(&dword_246B51000, v18, v19, "Presenting collections picker", v20, 2u);
      MEMORY[0x24C545990](v20, -1, -1);
    }

    objc_msgSend(a2, sel_presentViewController_animated_completion_, v16, 1, 0);
    (*(void (**)(char *, uint64_t))(v7 + 8))(v12, v6);
  }
  else
  {
    sub_246BAC658();
  }
}

uint64_t sub_246B853D0()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D6928);
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t result = MEMORY[0x270FA5388](v2);
  uint64_t v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes);
  uint64_t v8 = *(void *)(v7 + 16);
  if (v8)
  {
    if (*(void *)(v7 + 32) == 1)
    {
LABEL_3:
      uint64_t v9 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
      uint64_t v10 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
      if (v10)
      {
        id v11 = v10;
        sub_246C2C3B8();

        uint64_t result = sub_246C2C2C8();
        id v12 = *(void **)(v1 + v9);
        if (v12)
        {
          id v13 = v12;
          sub_246C2C398();

          return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v6, v2);
        }
        goto LABEL_14;
      }
LABEL_13:
      __break(1u);
LABEL_14:
      __break(1u);
      return result;
    }
    if (v8 != 1)
    {
      for (uint64_t i = 5; ; ++i)
      {
        uint64_t v15 = i - 3;
        if (__OFADD__(i - 4, 1)) {
          break;
        }
        if (*(void *)(v7 + 8 * i) == 1) {
          goto LABEL_3;
        }
        if (v15 == v8) {
          return result;
        }
      }
      __break(1u);
      goto LABEL_13;
    }
  }
  return result;
}

void sub_246B85558()
{
  uint64_t v1 = v0;
  swift_retain();
  uint64_t v2 = sub_246B7E6FC();
  swift_release();
  uint64_t v3 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadedInitialSelection;
  if ((v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadedInitialSelection] & 1) != 0
    || (uint64_t v4 = (void **)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes],
        swift_beginAccess(),
        uint64_t v5 = (void *)MEMORY[0x263F8EE78],
        !sub_246C09F98(*v4, MEMORY[0x263F8EE78]))
    || (uint64_t v6 = &v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection],
        *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8]))
  {
    int v7 = 0;
  }
  else
  {
    uint64_t v35 = v2;
    uint64_t v36 = *(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor];
    os_log_type_t v37 = (char *)objc_msgSend(v36, sel_shuffleSelection);
    if (v37
      && (uint64_t v38 = v37,
          uint64_t v39 = *(void *)&v37[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier + 8],
          swift_bridgeObjectRetain(),
          v38,
          v39))
    {
      swift_bridgeObjectRelease();
      *uint64_t v4 = v5;
      swift_bridgeObjectRelease();
      *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers] = *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers];
      swift_bridgeObjectRetain();
      swift_bridgeObjectRelease();
      uint64_t v40 = (char *)objc_msgSend(v36, sel_shuffleSelection);
      if (v40)
      {
        uint64_t v41 = v40;
        uint64_t v43 = *(void *)&v40[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
        uint64_t v42 = *(void *)&v40[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier + 8];
        swift_bridgeObjectRetain();
      }
      else
      {
        uint64_t v43 = 0;
        uint64_t v42 = 0;
      }
      *uint64_t v6 = v43;
      v6[1] = v42;
      uint64_t v2 = v35;
    }
    else
    {
      uint64_t v44 = (char *)objc_msgSend(v36, sel_shuffleSelection);
      uint64_t v2 = v35;
      if (!v44
        || (id v45 = v44,
            long long v46 = *(void **)&v44[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes],
            swift_bridgeObjectRetain(),
            v45,
            !v46))
      {
        swift_bridgeObjectRetain();
        swift_bridgeObjectRelease();
        long long v46 = v35;
      }
      *uint64_t v4 = v46;
      swift_bridgeObjectRelease();
      long long v47 = (char *)objc_msgSend(v36, sel_shuffleSelection);
      if (v47)
      {
        id v48 = v47;
        uint64_t v49 = *(void *)&v47[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers];
        swift_bridgeObjectRetain();
      }
      else
      {
        uint64_t v49 = 0;
      }
      *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers] = v49;
      swift_bridgeObjectRelease();
      *uint64_t v6 = 0;
      v6[1] = 0;
    }
    swift_bridgeObjectRelease();
    int v7 = 1;
    v1[v3] = 1;
  }
  uint64_t v8 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes;
  if (sub_246C09F98(*(void **)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes], v2))
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    if (qword_2691D6300 != -1) {
      swift_once();
    }
    uint64_t v9 = sub_246C2C088();
    sub_246B8BE0C(v9, (uint64_t)qword_2691E0150);
    swift_bridgeObjectRetain_n();
    uint64_t v10 = v1;
    id v11 = sub_246C2C068();
    os_log_type_t v12 = sub_246C2CF08();
    if (os_log_type_enabled(v11, v12))
    {
      int v53 = v7;
      uint64_t v13 = swift_slowAlloc();
      uint64_t v52 = swift_slowAlloc();
      v54[0] = v52;
      *(_DWORD *)uint64_t v13 = 136315394;
      type metadata accessor for PFLCClassification(0);
      uint64_t v15 = v14;
      uint64_t v16 = swift_bridgeObjectRetain();
      log = v11;
      uint64_t v17 = v2;
      uint64_t v18 = MEMORY[0x24C543DF0](v16, v15);
      os_log_type_t type = v12;
      unint64_t v20 = v19;
      swift_bridgeObjectRelease();
      sub_246BA686C(v18, v20, v54);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();

      *(_WORD *)(v13 + 12) = 2080;
      uint64_t v21 = swift_bridgeObjectRetain();
      uint64_t v22 = MEMORY[0x24C543DF0](v21, v15);
      unint64_t v24 = v23;
      swift_bridgeObjectRelease();
      sub_246BA686C(v22, v24, v54);
      uint64_t v2 = v17;
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_246B51000, log, type, "Available suggestion types changed, will reload, old = %s, new = %s", (uint8_t *)v13, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v52, -1, -1);
      uint64_t v25 = v13;
      int v7 = v53;
      MEMORY[0x24C545990](v25, -1, -1);
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    *(void *)&v1[v8] = v2;
    swift_bridgeObjectRelease();
    sub_246B87230(0);
  }
  uint64_t v26 = sub_246BA60D4(0, 1, 1, MEMORY[0x263F8EE78]);
  unint64_t v28 = *((void *)v26 + 2);
  unint64_t v27 = *((void *)v26 + 3);
  unint64_t v29 = v28 + 1;
  if (v28 >= v27 >> 1) {
    uint64_t v26 = sub_246BA60D4((char *)(v27 > 1), v28 + 1, 1, v26);
  }
  *((void *)v26 + 2) = v29;
  v26[v28 + 32] = 0;
  if (*(void *)(*(void *)&v1[v8] + 16))
  {
    unint64_t v30 = *((void *)v26 + 3);
    int64_t v31 = v28 + 2;
    if (v31 > (uint64_t)(v30 >> 1)) {
      uint64_t v26 = sub_246BA60D4((char *)(v30 > 1), v31, 1, v26);
    }
    *((void *)v26 + 2) = v31;
    v26[v29 + 32] = 1;
  }
  else
  {
    int64_t v31 = v28 + 1;
  }
  unint64_t v32 = *((void *)v26 + 3);
  if (v31 >= v32 >> 1) {
    uint64_t v26 = sub_246BA60D4((char *)(v32 > 1), v31 + 1, 1, v26);
  }
  *((void *)v26 + 2) = v31 + 1;
  v26[v31 + 32] = 2;
  *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sections] = v26;
  swift_bridgeObjectRelease();
  sub_246B85BA8(0);
  if (v7)
  {
    if (*(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8])
    {
      sub_246B86BC8();
    }
    else
    {
      uint64_t v33 = &v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes];
      swift_beginAccess();
      if (*(void *)(*(void *)v33 + 16))
      {
        uint64_t v34 = (void *)swift_bridgeObjectRetain();
        sub_246B861F8(v34);
        swift_bridgeObjectRelease();
      }
    }
  }
}

uint64_t sub_246B85BA8(int a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246B80250(&qword_2691D6928);
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  int v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8EA90();
  sub_246B8EAE4();
  sub_246C2C2D8();
  uint64_t v8 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sections;
  swift_bridgeObjectRetain();
  sub_246C2C2B8();
  swift_bridgeObjectRelease();
  char v30 = 0;
  sub_246C2C278();
  if (sub_246B9A5B8(1, *(void *)(v1 + v8)))
  {
    uint64_t v9 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes);
    int64_t v10 = *(void *)(v9 + 16);
    if (v10)
    {
      uint64_t v23 = v1;
      int v24 = a1;
      uint64_t v25 = v5;
      uint64_t v26 = v4;
      uint64_t v28 = MEMORY[0x263F8EE78];
      swift_bridgeObjectRetain();
      sub_246C00A94(0, v10, 0);
      uint64_t v11 = 0;
      uint64_t v12 = v28;
      uint64_t v13 = *(void *)(v28 + 16);
      uint64_t v14 = 16 * v13;
      do
      {
        uint64_t v15 = *(void *)(v9 + 8 * v11 + 32);
        uint64_t v28 = v12;
        unint64_t v16 = *(void *)(v12 + 24);
        uint64_t v17 = v13 + v11 + 1;
        if (v13 + v11 >= v16 >> 1)
        {
          sub_246C00A94(v16 > 1, v13 + v11 + 1, 1);
          uint64_t v12 = v28;
        }
        ++v11;
        *(void *)(v12 + 16) = v17;
        uint64_t v18 = v12 + v14;
        *(void *)(v18 + 32) = v15;
        *(unsigned char *)(v18 + 40) = 0;
        v14 += 16;
      }
      while (v10 != v11);
      swift_bridgeObjectRelease();
      uint64_t v5 = v25;
      uint64_t v4 = v26;
      uint64_t v2 = v23;
    }
    char v27 = 1;
    sub_246C2C278();
    swift_bridgeObjectRelease();
  }
  char v29 = 2;
  uint64_t result = sub_246C2C278();
  unint64_t v20 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
  if (v20)
  {
    id v21 = v20;
    sub_246C2C398();

    return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  }
  else
  {
    __break(1u);
  }
  return result;
}

id sub_246B85E4C()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView;
  id result = *(id *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  if (!result)
  {
    __break(1u);
    goto LABEL_7;
  }
  objc_msgSend(result, sel_layoutIfNeeded);
  uint64_t v3 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray;
  objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray], sel_layoutIfNeeded);
  id result = *(id *)&v0[v1];
  if (!result)
  {
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  objc_msgSend(result, sel_contentSize);
  double v5 = v4;
  objc_msgSend(*(id *)&v0[v3], sel_systemLayoutSizeFittingSize_, *MEMORY[0x263F83810], *(double *)(MEMORY[0x263F83810] + 8));
  double v7 = v6;
  id result = objc_msgSend(v0, sel_view);
  if (!result)
  {
LABEL_8:
    __break(1u);
    goto LABEL_9;
  }
  uint64_t v8 = result;
  objc_msgSend(result, sel_safeAreaInsets);
  double v10 = v9;

  id result = objc_msgSend(v0, sel_view);
  if (result)
  {
    uint64_t v11 = result;
    double v12 = v5 + v10;
    objc_msgSend(result, sel_bounds);
    double v14 = v13;

    return (id)(v14 - v12 - v7 >= 0.0);
  }
LABEL_9:
  __break(1u);
  return result;
}

void sub_246B85F70()
{
  uint64_t v1 = v0;
  unsigned __int8 v2 = sub_246B85E4C();
  uint64_t v3 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray;
  unsigned int v4 = objc_msgSend(*(id *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray), sel_isHidden);
  if ((v2 & 1) == 0)
  {
    if (v4) {
      return;
    }
    if (qword_2691D6308 != -1) {
      swift_once();
    }
    uint64_t v11 = sub_246C2C088();
    sub_246B8BE0C(v11, (uint64_t)qword_2691E0168);
    double v12 = sub_246C2C068();
    os_log_type_t v13 = sub_246C2CED8();
    if (os_log_type_enabled(v12, v13))
    {
      double v14 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)double v14 = 0;
      _os_log_impl(&dword_246B51000, v12, v13, "Switching to inline button tray", v14, 2u);
      MEMORY[0x24C545990](v14, -1, -1);
    }

    objc_msgSend(*(id *)(v1 + v3), sel_setHidden_, 1);
    uint64_t v15 = *(void **)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
    if (v15)
    {
      id v17 = v15;
      char v10 = 1;
      goto LABEL_17;
    }
LABEL_21:
    __break(1u);
    return;
  }
  if (!v4) {
    return;
  }
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v5 = sub_246C2C088();
  sub_246B8BE0C(v5, (uint64_t)qword_2691E0168);
  double v6 = sub_246C2C068();
  os_log_type_t v7 = sub_246C2CED8();
  if (os_log_type_enabled(v6, v7))
  {
    uint64_t v8 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v8 = 0;
    _os_log_impl(&dword_246B51000, v6, v7, "Switching to floating button tray", v8, 2u);
    MEMORY[0x24C545990](v8, -1, -1);
  }

  objc_msgSend(*(id *)(v1 + v3), sel_setHidden_, 0);
  double v9 = *(void **)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView);
  if (!v9)
  {
    __break(1u);
    goto LABEL_21;
  }
  id v17 = v9;
  char v10 = 0;
LABEL_17:
  id v16 = sub_246B829F8(v10);
  objc_msgSend(v17, sel_setCollectionViewLayout_, v16);
}

void sub_246B861F8(void *a1)
{
  unsigned __int8 v2 = v1;
  long long v100 = a1;
  uint64_t v3 = sub_246B80250(&qword_2691D69E0);
  uint64_t v4 = MEMORY[0x270FA5388](v3 - 8);
  double v6 = (char *)&v93 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v4);
  objc_super v99 = (char *)&v93 - v7;
  uint64_t v8 = sub_246B80250(&qword_2691D6928);
  double v9 = *(void (***)(char *, uint64_t))(v8 - 8);
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v93 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_246C2BCD8();
  uint64_t v13 = *(void *)(v12 - 8);
  uint64_t v14 = MEMORY[0x270FA5388](v12);
  uint64_t v94 = (char *)&v93 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = MEMORY[0x270FA5388](v14);
  uint64_t v111 = (unsigned int (**)(char *, uint64_t, uint64_t))((char *)&v93 - v17);
  uint64_t v18 = MEMORY[0x270FA5388](v16);
  long long v101 = (char *)&v93 - v19;
  MEMORY[0x270FA5388](v18);
  id v21 = (char *)&v93 - v20;
  uint64_t v106 = sub_246B80250(&qword_2691D69E8);
  uint64_t v98 = *(void *)(v106 - 8);
  MEMORY[0x270FA5388](v106);
  uint64_t v23 = (char *)&v93 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v108 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView;
  int v24 = *(void **)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  if (!v24) {
    goto LABEL_67;
  }
  long long v103 = v9;
  uint64_t v96 = v11;
  uint64_t v97 = v8;
  id v25 = objc_msgSend(v24, sel_indexPathsForSelectedItems);
  unint64_t v26 = MEMORY[0x263F8EE78];
  if (v25)
  {
    char v27 = v25;
    uint64_t v28 = sub_246C2CD38();

    unint64_t v29 = v26;
    char v30 = v2;
    uint64_t v31 = sub_246B8CCBC(v28, (uint64_t)v30);
    uint64_t v93 = 0;
    uint64_t v32 = v31;

    unint64_t v26 = v29;
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v93 = 0;
    uint64_t v32 = MEMORY[0x263F8EE78];
  }
  uint64_t v33 = *(void (***)(char *, char *, uint64_t))(v32 + 16);
  uint64_t v110 = v13;
  uint64_t v112 = v6;
  uint64_t v107 = v33;
  if (!v33)
  {
    swift_bridgeObjectRelease();
LABEL_32:
    int64_t v58 = v100[2];
    uint64_t v109 = v2;
    if (v58)
    {
      unint64_t v113 = v26;
      uint64_t v59 = v100;
      sub_246C00A94(0, v58, 0);
      unint64_t v26 = v113;
      uint64_t v60 = v59 + 4;
      unint64_t v61 = *(void *)(v113 + 16);
      uint64_t v62 = 16 * v61;
      do
      {
        uint64_t v64 = *v60++;
        uint64_t v63 = v64;
        unint64_t v113 = v26;
        unint64_t v65 = *(void *)(v26 + 24);
        if (v61++ >= v65 >> 1)
        {
          sub_246C00A94(v65 > 1, v61, 1);
          unint64_t v26 = v113;
        }
        *(void *)(v26 + 16) = v61;
        unint64_t v67 = v26 + v62;
        *(void *)(v67 + 32) = v63;
        *(unsigned char *)(v67 + 40) = 0;
        v62 += 16;
        --v58;
      }
      while (v58);
      double v6 = v112;
    }
    else
    {
      unint64_t v61 = *(void *)(v26 + 16);
      unint64_t v68 = v26;
      if (!v61)
      {
LABEL_50:
        swift_bridgeObjectRelease();
        uint64_t v81 = *(void *)(v68 + 16);
        if (v81)
        {
          uint64_t v82 = *(char **)(v110 + 16);
          unint64_t v83 = v68 + ((*(unsigned __int8 *)(v110 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v110 + 80));
          uint64_t v84 = *(void *)(v110 + 72);
          uint64_t v85 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v110 + 56);
          uint64_t v111 = (unsigned int (**)(char *, uint64_t, uint64_t))(v110 + 48);
          uint64_t v112 = v82;
          uint64_t v106 = v84;
          uint64_t v107 = (void (**)(char *, char *, uint64_t))(v110 + 32);
          v110 += 16;
          uint64_t v86 = (void (**)(char *, uint64_t))(v110 - 8);
          swift_bridgeObjectRetain();
          unint64_t v105 = (unint64_t)v85 & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
          id v87 = v99;
          id v88 = v94;
          while (1)
          {
            ((void (*)(char *, unint64_t, uint64_t))v112)(v87, v83, v12);
            id v89 = *v85;
            (*v85)(v87, 0, 1, v12);
            if ((*v111)(v87, 1, v12) == 1) {
              break;
            }
            (*v107)(v88, v87, v12);
            uint64_t v90 = *(void **)&v109[v108];
            if (!v90) {
              goto LABEL_63;
            }
            id v91 = v90;
            uint64_t v92 = (void *)sub_246C2BC78();
            objc_msgSend(v91, sel_selectItemAtIndexPath_animated_scrollPosition_, v92, 0, 1);

            (*v86)(v88, v12);
            v83 += v106;
            --v81;
            id v87 = v99;
            if (!v81) {
              goto LABEL_57;
            }
          }
        }
        else
        {
          id v89 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v110 + 56);
          swift_bridgeObjectRetain();
          id v87 = v99;
LABEL_57:
          v89(v87, 1, 1, v12);
        }
        swift_bridgeObjectRelease_n();
        return;
      }
    }
    uint64_t v69 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
    id v70 = (unsigned int (**)(char *, uint64_t, uint64_t))(v110 + 48);
    uint64_t v71 = (void (**)(char *, char *, uint64_t))(v110 + 32);
    uint64_t v106 = v2;
    swift_bridgeObjectRetain();
    uint64_t v107 = (void (**)(char *, char *, uint64_t))v26;
    id v72 = (unsigned char *)(v26 + 40);
    unint64_t v68 = MEMORY[0x263F8EE78];
    while (1)
    {
      id v73 = *(void **)&v2[v69];
      if (!v73) {
        goto LABEL_61;
      }
      char v74 = *v72;
      unint64_t v113 = *((void *)v72 - 1);
      char v114 = v74;
      id v75 = v73;
      sub_246C2C3C8();

      if ((*v70)(v6, 1, v12) == 1)
      {
        sub_246B8EA34((uint64_t)v6, &qword_2691D69E0);
      }
      else
      {
        id v76 = v6;
        id v77 = *v71;
        uint64_t v78 = v101;
        (*v71)(v101, v76, v12);
        v77((char *)v111, v78, v12);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v68 = sub_246BA60B0(0, *(void *)(v68 + 16) + 1, 1, v68);
        }
        unint64_t v80 = *(void *)(v68 + 16);
        unint64_t v79 = *(void *)(v68 + 24);
        if (v80 >= v79 >> 1) {
          unint64_t v68 = sub_246BA60B0(v79 > 1, v80 + 1, 1, v68);
        }
        *(void *)(v68 + 16) = v80 + 1;
        v77((char *)(v68+ ((*(unsigned __int8 *)(v110 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v110 + 80))+ *(void *)(v110 + 72) * v80), (char *)v111, v12);
        unsigned __int8 v2 = v109;
        double v6 = v112;
      }
      v72 += 16;
      if (!--v61)
      {
        swift_bridgeObjectRelease();

        goto LABEL_50;
      }
    }
  }
  uint64_t v109 = v21;
  unint64_t v34 = 0;
  uint64_t v106 = (uint64_t)&v23[*(int *)(v106 + 48)];
  uint64_t v35 = v98;
  uint64_t v36 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
  unint64_t v105 = v32 + ((*(unsigned __int8 *)(v35 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v35 + 80));
  uint64_t v95 = v103 + 1;
  long long v103 = (void (**)(char *, uint64_t))(v13 + 8);
  uint64_t v104 = (void (**)(char *, uint64_t, uint64_t))(v13 + 32);
  uint64_t v102 = v32;
  while (1)
  {
    if (v34 >= *(void *)(v32 + 16))
    {
      __break(1u);
      goto LABEL_60;
    }
    uint64_t v37 = v36;
    sub_246B8E9CC(v105 + *(void *)(v35 + 72) * v34, (uint64_t)v23);
    uint64_t v38 = *(void *)v23;
    char v39 = v23[8];
    uint64_t v40 = v109;
    (*v104)(v109, v106, v12);
    if (v39)
    {
      uint64_t v41 = *(void **)&v2[v108];
      if (!v41) {
        goto LABEL_62;
      }
      id v42 = v41;
      uint64_t v43 = (void *)sub_246C2BC78();
      objc_msgSend(v42, sel_deselectItemAtIndexPath_animated_, v43, 0);

      if (v38)
      {
        uint64_t v44 = *(void **)&v2[v37];
        if (!v44) {
          goto LABEL_64;
        }
        id v45 = v2;
        id v46 = v44;
        long long v47 = v96;
        sub_246C2C3B8();

        uint64_t v48 = v97;
        sub_246C2C2C8();
        uint64_t v49 = v45;
        long long v50 = *(void **)&v45[v37];
        double v6 = v112;
        if (!v50) {
          goto LABEL_65;
        }
        id v51 = v50;
        sub_246C2C398();

        (*v95)(v47, v48);
        unsigned __int8 v2 = v49;
        uint64_t v35 = v98;
        uint64_t v32 = v102;
        uint64_t v40 = v109;
        goto LABEL_8;
      }
      double v6 = v112;
      goto LABEL_22;
    }
    uint64_t v52 = v100[2];
    if (!v52) {
      goto LABEL_19;
    }
    if (v100[4] != v38)
    {
      if (v52 == 1) {
        goto LABEL_19;
      }
      if (v100[5] != v38) {
        break;
      }
    }
LABEL_7:
    double v6 = v112;
LABEL_8:
    ++v34;
    (*v103)(v40, v12);
    uint64_t v36 = v37;
    if ((void (**)(char *, char *, uint64_t))v34 == v107)
    {
      swift_bridgeObjectRelease();
      unint64_t v26 = MEMORY[0x263F8EE78];
      goto LABEL_32;
    }
  }
  if (v52 == 2)
  {
LABEL_19:
    int v53 = *(void **)&v2[v108];
    double v6 = v112;
    if (!v53) {
      goto LABEL_66;
    }
    id v54 = v53;
    objc_super v55 = (void *)sub_246C2BC78();
    objc_msgSend(v54, sel_deselectItemAtIndexPath_animated_, v55, 0);

LABEL_22:
    uint64_t v32 = v102;
    goto LABEL_8;
  }
  uint64_t v56 = 6;
  while (1)
  {
    uint64_t v57 = v56 - 3;
    if (__OFADD__(v56 - 4, 1)) {
      break;
    }
    if (v100[v56] == v38) {
      goto LABEL_7;
    }
    ++v56;
    if (v57 == v52) {
      goto LABEL_19;
    }
  }
LABEL_60:
  __break(1u);
LABEL_61:
  __break(1u);
LABEL_62:
  __break(1u);
LABEL_63:
  __break(1u);
LABEL_64:
  __break(1u);
LABEL_65:
  __break(1u);
LABEL_66:
  __break(1u);
LABEL_67:
  __break(1u);
}

void sub_246B86BC8()
{
  uint64_t v1 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v1 - 8);
  uint64_t v3 = (char *)&v59 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246B80250(&qword_2691D6928);
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v59 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v76 = sub_246C2BCD8();
  uint64_t v8 = *(void *)(v76 - 8);
  uint64_t v9 = MEMORY[0x270FA5388](v76);
  uint64_t v11 = (char *)&v59 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v9);
  uint64_t v13 = (char *)&v59 - v12;
  uint64_t v14 = sub_246B80250(&qword_2691D69E8);
  uint64_t v74 = *(void *)(v14 - 8);
  MEMORY[0x270FA5388](v14);
  uint64_t v17 = (char *)&v59 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v75 = v0;
  uint64_t v72 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView;
  uint64_t v18 = *(void **)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView];
  if (!v18)
  {
LABEL_50:
    __break(1u);
    goto LABEL_51;
  }
  uint64_t v71 = v15;
  uint64_t v66 = v7;
  id v19 = objc_msgSend(v18, sel_indexPathsForSelectedItems);
  uint64_t v67 = v5;
  if (v19)
  {
    uint64_t v20 = v19;
    uint64_t v21 = sub_246C2CD38();

    uint64_t v22 = v4;
    uint64_t v23 = v75;
    uint64_t v24 = sub_246B8CCBC(v21, (uint64_t)v23);
    uint64_t v59 = 0;

    uint64_t v4 = v22;
    swift_bridgeObjectRelease();
    uint64_t v25 = v24;
  }
  else
  {
    uint64_t v59 = 0;
    uint64_t v25 = MEMORY[0x263F8EE78];
  }
  p_name = &OBJC_PROTOCOL___NSFastEnumeration.name;
  uint64_t v28 = v75;
  uint64_t v27 = v76;
  uint64_t v73 = *(void *)(v25 + 16);
  if (!v73)
  {
    swift_bridgeObjectRelease();
LABEL_39:
    uint64_t v52 = *(void **)&p_name[250][(void)v28];
    if (v52)
    {
      uint64_t v77 = 1;
      char v78 = 1;
      id v53 = v52;
      sub_246C2C3C8();

      uint64_t v54 = v76;
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v3, 1, v76) == 1)
      {
        sub_246B8EA34((uint64_t)v3, &qword_2691D69E0);
        return;
      }
      (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v11, v3, v54);
      objc_super v55 = *(void **)&v28[v72];
      if (v55)
      {
        uint64_t v56 = v54;
        id v57 = v55;
        int64_t v58 = (void *)sub_246C2BC78();
        objc_msgSend(v57, sel_selectItemAtIndexPath_animated_scrollPosition_, v58, 0, 1);

        (*(void (**)(char *, uint64_t))(v8 + 8))(v11, v56);
        return;
      }
LABEL_52:
      __break(1u);
      return;
    }
LABEL_51:
    __break(1u);
    goto LABEL_52;
  }
  uint64_t v65 = v4;
  uint64_t v60 = v11;
  unint64_t v61 = v3;
  int v63 = 0;
  unint64_t v29 = 0;
  uint64_t v71 = &v17[*((int *)v71 + 12)];
  uint64_t v30 = *(unsigned __int8 *)(v74 + 80);
  uint64_t v68 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
  uint64_t v69 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes;
  uint64_t v31 = v25 + ((v30 + 32) & ~v30);
  id v70 = (void (**)(char *, char *, uint64_t))(v8 + 32);
  uint64_t v64 = (void (**)(char *, uint64_t))(v67 + 8);
  uint64_t v62 = v8;
  uint64_t v32 = (void (**)(char *, uint64_t))(v8 + 8);
  uint64_t v67 = v31;
  do
  {
    while (1)
    {
      if (v29 >= *(void *)(v25 + 16))
      {
        __break(1u);
LABEL_46:
        __break(1u);
LABEL_47:
        __break(1u);
LABEL_48:
        __break(1u);
LABEL_49:
        __break(1u);
        goto LABEL_50;
      }
      uint64_t v33 = v25;
      sub_246B8E9CC(v31 + *(void *)(v74 + 72) * v29++, (uint64_t)v17);
      uint64_t v34 = *(void *)v17;
      int v35 = v17[8];
      (*v70)(v13, v71, v27);
      if (v35 != 1 || v34 == 0) {
        break;
      }
      (*v32)(v13, v27);
      int v63 = 1;
      uint64_t v25 = v33;
      if (v29 == v73)
      {
        swift_bridgeObjectRelease();
        return;
      }
    }
    uint64_t v37 = *(void **)&v28[v72];
    if (!v37) {
      goto LABEL_47;
    }
    id v38 = v37;
    char v39 = (void *)sub_246C2BC78();
    objc_msgSend(v38, sel_deselectItemAtIndexPath_animated_, v39, 0);

    if (v34 == 1) {
      char v40 = v35;
    }
    else {
      char v40 = 1;
    }
    if (v40)
    {
      uint64_t v28 = v75;
      uint64_t v27 = v76;
      goto LABEL_8;
    }
    uint64_t v28 = v75;
    uint64_t v27 = v76;
    uint64_t v41 = *(void **)&v75[v69];
    uint64_t v42 = v41[2];
    if (v42)
    {
      if (v41[4] == 1)
      {
LABEL_22:
        uint64_t v43 = v68;
LABEL_23:
        uint64_t v44 = *(void **)&v75[v43];
        if (!v44) {
          goto LABEL_48;
        }
        id v45 = v44;
        id v46 = v66;
        sub_246C2C3B8();

        uint64_t v47 = v65;
        sub_246C2C2C8();
        uint64_t v48 = *(void **)&v28[v43];
        if (!v48) {
          goto LABEL_49;
        }
        id v49 = v48;
        sub_246C2C398();

        (*v64)(v46, v47);
        uint64_t v27 = v76;
        uint64_t v31 = v67;
        goto LABEL_8;
      }
      if (v42 == 1) {
        goto LABEL_8;
      }
      uint64_t v43 = v68;
      if (v41[5] == 1) {
        goto LABEL_23;
      }
      uint64_t v31 = v67;
      if (v42 != 2)
      {
        uint64_t v50 = 6;
        do
        {
          uint64_t v51 = v50 - 3;
          if (__OFADD__(v50 - 4, 1)) {
            goto LABEL_46;
          }
          if (v41[v50] == 1) {
            goto LABEL_22;
          }
          ++v50;
        }
        while (v51 != v42);
      }
    }
LABEL_8:
    (*v32)(v13, v27);
    uint64_t v25 = v33;
  }
  while (v29 != v73);
  swift_bridgeObjectRelease();
  uint64_t v3 = v61;
  uint64_t v8 = v62;
  uint64_t v11 = v60;
  p_name = (char **)(&OBJC_PROTOCOL___NSFastEnumeration + 8);
  if ((v63 & 1) == 0) {
    goto LABEL_39;
  }
}

uint64_t sub_246B87230(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2CA28();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v51 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2CA48();
  uint64_t v64 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  int v63 = (char *)&v51 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v62 = sub_246C2CA18();
  uint64_t v59 = *(void *)(v62 - 8);
  uint64_t v10 = MEMORY[0x270FA5388](v62);
  unint64_t v61 = (uint64_t *)((char *)&v51 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0));
  MEMORY[0x270FA5388](v10);
  int64_t v58 = (uint64_t *)((char *)&v51 - v12);
  uint64_t v65 = sub_246C2CA78();
  uint64_t v60 = *(void *)(v65 - 8);
  uint64_t v13 = MEMORY[0x270FA5388](v65);
  uint64_t v15 = (char *)&v51 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  uint64_t v17 = (char *)&v51 - v16;
  uint64_t v18 = sub_246C2CFA8();
  MEMORY[0x270FA5388](v18);
  uint64_t v21 = (char *)&v51 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1)
  {
    if (qword_2691D6300 != -1) {
      swift_once();
    }
    uint64_t v22 = sub_246C2C088();
    sub_246B8BE0C(v22, (uint64_t)qword_2691E0150);
    uint64_t v23 = sub_246C2C068();
    os_log_type_t v24 = sub_246C2CED8();
    if (os_log_type_enabled(v23, v24))
    {
      uint64_t v25 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v25 = 0;
      _os_log_impl(&dword_246B51000, v23, v24, "Immediate reload, canceling debounce timer and executing", v25, 2u);
      MEMORY[0x24C545990](v25, -1, -1);
    }

    uint64_t v26 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer;
    if (*(void *)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer))
    {
      swift_getObjectType();
      swift_unknownObjectRetain();
      sub_246C2CFD8();
      swift_unknownObjectRelease();
    }
    *(void *)(v2 + v26) = 0;
    swift_unknownObjectRelease();
    if (*(void *)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8))
    {
      return sub_246B88FD4();
    }
    else
    {
      return sub_246B87D34();
    }
  }
  else
  {
    uint64_t v55 = v4;
    uint64_t ObjectType = v19;
    uint64_t v51 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer;
    uint64_t v52 = v7;
    uint64_t v27 = *(void *)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer);
    uint64_t v53 = v8;
    uint64_t v54 = v5;
    if (v27)
    {
      uint64_t v28 = qword_2691D6300;
      swift_unknownObjectRetain();
      if (v28 != -1) {
        swift_once();
      }
      uint64_t v29 = sub_246C2C088();
      sub_246B8BE0C(v29, (uint64_t)qword_2691E0150);
      uint64_t v30 = sub_246C2C068();
      os_log_type_t v31 = sub_246C2CED8();
      if (os_log_type_enabled(v30, v31))
      {
        uint64_t v32 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v32 = 0;
        _os_log_impl(&dword_246B51000, v30, v31, "Debouncing request, waiting an additional 1s", v32, 2u);
        MEMORY[0x24C545990](v32, -1, -1);
      }

      swift_getObjectType();
      sub_246C2CFD8();
      swift_unknownObjectRelease();
    }
    else
    {
      if (qword_2691D6300 != -1) {
        swift_once();
      }
      uint64_t v34 = sub_246C2C088();
      sub_246B8BE0C(v34, (uint64_t)qword_2691E0150);
      int v35 = sub_246C2C068();
      os_log_type_t v36 = sub_246C2CED8();
      if (os_log_type_enabled(v35, v36))
      {
        uint64_t v37 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)uint64_t v37 = 0;
        _os_log_impl(&dword_246B51000, v35, v36, "Waiting 1s before beginning fetch", v37, 2u);
        MEMORY[0x24C545990](v37, -1, -1);
      }
    }
    sub_246B8F1E0(0, &qword_2691D69C0);
    aBlock[0] = MEMORY[0x263F8EE78];
    sub_246B8ED2C(&qword_2691D69C8, 255, MEMORY[0x263F8F148]);
    sub_246B80250(&qword_2691D69D0);
    sub_246B8EC94(&qword_2691D69D8, &qword_2691D69D0);
    sub_246C2D208();
    uint64_t v38 = sub_246C2CFB8();
    (*(void (**)(char *, uint64_t))(ObjectType + 8))(v21, v18);
    *(void *)(v2 + v51) = v38;
    uint64_t v57 = v38;
    swift_unknownObjectRetain();
    swift_unknownObjectRelease();
    uint64_t ObjectType = swift_getObjectType();
    char v39 = v15;
    sub_246C2CA58();
    char v40 = v58;
    uint64_t v41 = v59;
    *int64_t v58 = 800;
    uint64_t v42 = *(void (**)(void *, void, uint64_t))(v41 + 104);
    uint64_t v43 = v62;
    v42(v40, *MEMORY[0x263F8F000], v62);
    uint64_t v44 = v17;
    sub_246C2CA68();
    id v45 = *(void (**)(void *, uint64_t))(v41 + 8);
    v45(v40, v43);
    uint64_t v59 = v2;
    uint64_t v60 = *(void *)(v60 + 8);
    ((void (*)(char *, uint64_t))v60)(v39, v65);
    v42(v40, *MEMORY[0x263F8F010], v43);
    id v46 = v61;
    *unint64_t v61 = 0;
    v42(v46, *MEMORY[0x263F8EFE0], v43);
    MEMORY[0x24C5440E0](v44, v40, v46, ObjectType);
    v45(v46, v43);
    v45(v40, v43);
    ((void (*)(char *, uint64_t))v60)(v44, v65);
    uint64_t v47 = swift_allocObject();
    swift_unknownObjectWeakInit();
    void aBlock[4] = sub_246B8E9C4;
    aBlock[5] = v47;
    aBlock[0] = MEMORY[0x263EF8330];
    aBlock[1] = 1107296256;
    aBlock[2] = sub_246B9B974;
    aBlock[3] = &unk_26FB20338;
    uint64_t v48 = _Block_copy(aBlock);
    swift_retain();
    id v49 = v63;
    sub_246C2CA38();
    uint64_t v50 = v52;
    sub_246B87C54();
    sub_246C2CFC8();
    _Block_release(v48);
    (*(void (**)(char *, uint64_t))(v54 + 8))(v50, v55);
    (*(void (**)(char *, uint64_t))(v64 + 8))(v49, v53);
    swift_release();
    swift_release();
    sub_246C2CFE8();
    return swift_unknownObjectRelease();
  }
}

void sub_246B87BA8(uint64_t a1)
{
  uint64_t v1 = a1 + 16;
  swift_beginAccess();
  uint64_t v2 = (char *)MEMORY[0x24C545A70](v1);
  if (v2)
  {
    *(void *)&v2[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer] = 0;

    swift_unknownObjectRelease();
  }
  swift_beginAccess();
  uint64_t v3 = MEMORY[0x24C545A70](v1);
  if (v3)
  {
    uint64_t v4 = (void *)v3;
    if (*(void *)(v3 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8)) {
      sub_246B88FD4();
    }
    else {
      sub_246B87D34();
    }
  }
}

uint64_t sub_246B87C54()
{
  return sub_246C2D208();
}

uint64_t sub_246B87D34()
{
  uint64_t v1 = sub_246C2CA28();
  uint64_t v56 = *(void *)(v1 - 8);
  uint64_t v57 = v1;
  MEMORY[0x270FA5388](v1);
  uint64_t v54 = (char *)&v48 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v55 = sub_246C2CA48();
  uint64_t v53 = *(void *)(v55 - 8);
  MEMORY[0x270FA5388](v55);
  uint64_t v4 = (char *)&v48 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v5 = sub_246C2C088();
  sub_246B8BE0C(v5, (uint64_t)qword_2691E0150);
  id v6 = v0;
  uint64_t v7 = sub_246C2C068();
  int v8 = sub_246C2CF08();
  BOOL v9 = os_log_type_enabled(v7, (os_log_type_t)v8);
  uint64_t v10 = MEMORY[0x263F8EE78];
  p_name = &OBJC_PROTOCOL___NSFastEnumeration.name;
  if (v9)
  {
    uint64_t v12 = swift_slowAlloc();
    uint64_t v51 = swift_slowAlloc();
    aBlock[0] = v51;
    *(_DWORD *)uint64_t v12 = 134218498;
    uint64_t v59 = 7;
    sub_246C2D1C8();
    *(_WORD *)(v12 + 12) = 2080;
    uint64_t v13 = (char *)v6 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes;
    swift_beginAccess();
    uint64_t v14 = *(void *)v13;
    int64_t v15 = *(void *)(*(void *)v13 + 16);
    LODWORD(v52) = v8;
    if (v15)
    {
      id v49 = v7;
      uint64_t v50 = v4;
      uint64_t v59 = MEMORY[0x263F8EE78];
      swift_bridgeObjectRetain();
      sub_246C00A74(0, v15, 0);
      uint64_t v16 = v59;
      uint64_t v17 = (uint64_t *)(v14 + 32);
      do
      {
        uint64_t v18 = *v17++;
        unint64_t v19 = 0xE400000000000000;
        uint64_t v20 = 1701736270;
        switch(v18)
        {
          case 0:
            break;
          case 1:
            unint64_t v19 = 0xE600000000000000;
            uint64_t v20 = 0x6E6F73726550;
            break;
          case 2:
            unint64_t v19 = 0xE300000000000000;
            uint64_t v20 = 7628112;
            break;
          case 3:
            unint64_t v19 = 0xE600000000000000;
            uint64_t v20 = 0x65727574614ELL;
            break;
          case 4:
            unint64_t v19 = 0xE900000000000065;
            uint64_t v20 = 0x7061637379746943;
            break;
          case 5:
            unint64_t v19 = 0xE500000000000000;
            uint64_t v20 = 0x726568744FLL;
            break;
          default:
            unint64_t v19 = 0xE700000000000000;
            uint64_t v20 = 0x6E776F6E6B6E55;
            break;
        }
        uint64_t v59 = v16;
        unint64_t v22 = *(void *)(v16 + 16);
        unint64_t v21 = *(void *)(v16 + 24);
        if (v22 >= v21 >> 1)
        {
          sub_246C00A74(v21 > 1, v22 + 1, 1);
          uint64_t v16 = v59;
        }
        *(void *)(v16 + 16) = v22 + 1;
        unint64_t v23 = v16 + 16 * v22;
        *(void *)(v23 + 32) = v20;
        *(void *)(v23 + 40) = v19;
        --v15;
      }
      while (v15);
      uint64_t v4 = v50;
      p_name = (char **)(&OBJC_PROTOCOL___NSFastEnumeration + 8);
      uint64_t v7 = v49;
    }
    else
    {
      swift_bridgeObjectRetain();
      uint64_t v16 = MEMORY[0x263F8EE78];
    }
    uint64_t v24 = MEMORY[0x24C543DF0](v16, MEMORY[0x263F8D310]);
    unint64_t v26 = v25;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v59 = sub_246BA686C(v24, v26, aBlock);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();

    *(_WORD *)(v12 + 22) = 2048;
    uint64_t v27 = *(void *)&p_name[242][(void)v6];
    if (v27) {
      uint64_t v28 = *(void *)(v27 + 16);
    }
    else {
      uint64_t v28 = 0;
    }
    os_log_type_t v29 = v52;
    uint64_t v30 = v51;

    uint64_t v59 = v28;
    sub_246C2D1C8();

    _os_log_impl(&dword_246B51000, v7, v29, "Beginning fetch of face previews, count = %ld, types = %s, personIdentifiers.count = %ld", (uint8_t *)v12, 0x20u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v30, -1, -1);
    MEMORY[0x24C545990](v12, -1, -1);

    uint64_t v10 = MEMORY[0x263F8EE78];
  }
  else
  {
  }
  os_log_type_t v31 = (uint64_t *)((char *)v6 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes);
  swift_beginAccess();
  uint64_t v32 = *v31;
  uint64_t v33 = p_name[242];
  uint64_t v51 = *(void *)&v33[(void)v6];
  uint64_t v52 = v32;
  *(void *)((char *)v6 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection) = v32;
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)((char *)v6 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers) = *(void *)&v33[(void)v6];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v34 = (char *)v6 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier;
  *uint64_t v34 = 0;
  v34[1] = 0;
  swift_bridgeObjectRelease();
  uint64_t v35 = sub_246B80E08();
  uint64_t KeyPath = swift_getKeyPath();
  MEMORY[0x270FA5388](KeyPath);
  *(&v48 - 2) = v35;
  *((unsigned char *)&v48 - 8) = 1;
  aBlock[0] = v35;
  sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFC8();
  swift_release();
  swift_release();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  uint64_t v37 = (void *)sub_246C2CF68();
  uint64_t v38 = swift_allocObject();
  *(void *)(v38 + 16) = v6;
  void aBlock[4] = (uint64_t)sub_246B8C09C;
  aBlock[5] = v38;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = (uint64_t)sub_246B9B974;
  aBlock[3] = (uint64_t)&unk_26FB20298;
  char v39 = _Block_copy(aBlock);
  id v40 = v6;
  swift_release();
  sub_246C2CA38();
  aBlock[0] = v10;
  sub_246B8ED2C((unint64_t *)&qword_2691D6938, 255, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246B8EC94((unint64_t *)&qword_2691D6948, &qword_2691D6940);
  uint64_t v41 = v4;
  uint64_t v42 = v54;
  uint64_t v43 = v57;
  sub_246C2D208();
  MEMORY[0x24C544020](0, v41, v42, v39);
  _Block_release(v39);

  (*(void (**)(char *, uint64_t))(v56 + 8))(v42, v43);
  (*(void (**)(char *, uint64_t))(v53 + 8))(v41, v55);
  uint64_t v44 = *v31;
  id v45 = (void *)swift_allocObject();
  v45[2] = v52;
  v45[3] = v40;
  v45[4] = v51;
  id v46 = v40;
  swift_bridgeObjectRetain();
  sub_246B8AA4C(7, v44, (uint64_t)sub_246B8E874, (uint64_t)v45);
  swift_release();
  return swift_bridgeObjectRelease();
}

void sub_246B885C4(unint64_t a1, void *a2, char *a3, void *a4)
{
  uint64_t v8 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v8 - 8);
  uint64_t v10 = (char *)&v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_246C2C088();
  sub_246B8BE0C(v11, (uint64_t)qword_2691E0150);
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain_n();
  uint64_t v12 = sub_246C2C068();
  os_log_type_t v13 = sub_246C2CF08();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v34 = a3;
    uint64_t v35 = v10;
    uint64_t v14 = swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    uint64_t v37 = v15;
    *(_DWORD *)uint64_t v14 = 134218242;
    uint64_t v33 = a4;
    if (a1 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v16 = sub_246C2D3B8();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v16 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    uint64_t v36 = v16;
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    *(_WORD *)(v14 + 12) = 2080;
    uint64_t v17 = sub_246BECA34((uint64_t)a2);
    uint64_t v36 = sub_246BA686C(v17, v18, &v37);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_246B51000, v12, v13, "Finished fetching face previews, count = %ld, types = %s", (uint8_t *)v14, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v15, -1, -1);
    MEMORY[0x24C545990](v14, -1, -1);

    a3 = v34;
    uint64_t v10 = v35;
    a4 = v33;
  }
  else
  {
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }
  objc_msgSend(*(id *)(*(void *)(*(void *)&a3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray]+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton), sel_setEnabled_, 1, v33);
  uint64_t v19 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection;
  uint64_t v20 = *(void **)&a3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection];
  if (!v20 || !sub_246C09F98(a2, v20)) {
    goto LABEL_16;
  }
  uint64_t v21 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers;
  unint64_t v22 = *(void **)&a3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers];
  if (a4)
  {
    if (!v22 || (sub_246C09ED0(a4, v22) & 1) == 0) {
      goto LABEL_16;
    }
  }
  else if (v22)
  {
    goto LABEL_16;
  }
  if (!*(void *)&a3[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier + 8])
  {
    uint64_t v26 = sub_246B80E08();
    uint64_t KeyPath = swift_getKeyPath();
    MEMORY[0x270FA5388](KeyPath);
    *(&v33 - 2) = (void *)v26;
    *((unsigned char *)&v33 - 8) = 0;
    uint64_t v37 = v26;
    sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
    sub_246C2BFC8();
    swift_release();
    swift_release();
    *(void *)&a3[v19] = 0;
    swift_bridgeObjectRelease();
    *(void *)&a3[v21] = 0;
    swift_bridgeObjectRelease();
    uint64_t v28 = sub_246C2CE28();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v28 - 8) + 56))(v10, 1, 1, v28);
    sub_246C2CE08();
    swift_bridgeObjectRetain();
    os_log_type_t v29 = a3;
    uint64_t v30 = sub_246C2CDF8();
    os_log_type_t v31 = (void *)swift_allocObject();
    uint64_t v32 = MEMORY[0x263F8F500];
    v31[2] = v30;
    v31[3] = v32;
    v31[4] = v29;
    v31[5] = a1;
    sub_246B80790((uint64_t)v10, (uint64_t)&unk_2691D69B8, (uint64_t)v31);
    swift_release();
    return;
  }
LABEL_16:
  unint64_t v23 = sub_246C2C068();
  os_log_type_t v24 = sub_246C2CEC8();
  if (os_log_type_enabled(v23, v24))
  {
    unint64_t v25 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v25 = 0;
    _os_log_impl(&dword_246B51000, v23, v24, "Returned preview asset request for face preview fan is for older than current request, ignoring…", v25, 2u);
    MEMORY[0x24C545990](v25, -1, -1);
  }
}

uint64_t sub_246B88B00(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v5[4] = a4;
  void v5[5] = a5;
  v5[6] = sub_246C2CE08();
  v5[7] = sub_246C2CDF8();
  v5[8] = sub_246C2CDF8();
  uint64_t v7 = sub_246C2CDA8();
  v5[9] = v7;
  v5[10] = v6;
  return MEMORY[0x270FA2498](sub_246B88BA8, v7, v6);
}

uint64_t sub_246B88BA8()
{
  uint64_t v6 = (uint64_t (*)(uint64_t, uint64_t))((char *)&dword_2691D6980 + dword_2691D6980);
  id v1 = *(id *)(v0 + 32);
  uint64_t v2 = (void *)swift_task_alloc();
  *(void *)(v0 + 88) = v2;
  void *v2 = v0;
  v2[1] = sub_246B88C5C;
  uint64_t v3 = *(void *)(v0 + 32);
  uint64_t v4 = *(void *)(v0 + 40);
  return v6(v4, v3);
}

uint64_t sub_246B88C5C(uint64_t a1)
{
  uint64_t v4 = *(void **)v2;
  uint64_t v5 = *(void **)(*(void *)v2 + 32);
  *(void *)(*(void *)v2 + 96) = v1;
  swift_task_dealloc();

  if (v1)
  {
    uint64_t v6 = v4[9];
    uint64_t v7 = v4[10];
    uint64_t v8 = sub_246B88F50;
  }
  else
  {
    v4[13] = a1;
    uint64_t v6 = v4[9];
    uint64_t v7 = v4[10];
    uint64_t v8 = sub_246B88DA4;
  }
  return MEMORY[0x270FA2498](v8, v6, v7);
}

uint64_t sub_246B88DA4()
{
  uint64_t v1 = v0[13];
  swift_release();
  v0[2] = v1;
  sub_246B8A0D4(0, *(void *)(v1 + 16) >> 1);
  uint64_t v2 = sub_246B80E08();
  uint64_t v3 = v0[2];
  swift_getKeyPath();
  uint64_t v4 = swift_task_alloc();
  *(void *)(v4 + 16) = v2;
  *(void *)(v4 + 24) = v3;
  v0[3] = v2;
  sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFC8();
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  sub_246B85558();
  uint64_t v6 = sub_246C2CDA8();
  return MEMORY[0x270FA2498](sub_246B8F21C, v6, v5);
}

uint64_t sub_246B88F50()
{
  swift_release();
  uint64_t v1 = sub_246C2CDA8();
  return MEMORY[0x270FA2498](sub_246B8F2A4, v1, v0);
}

uint64_t sub_246B88FD4()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2CA28();
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  uint64_t v5 = (char *)&v30 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_246C2CA48();
  uint64_t result = MEMORY[0x270FA5388](v6);
  uint64_t v10 = (char *)&v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v11 = *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8];
  if (v11)
  {
    uint64_t v31 = v8;
    uint64_t v33 = result;
    uint64_t v35 = v2;
    uint64_t v12 = *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection];
    uint64_t v13 = qword_2691D6300;
    swift_bridgeObjectRetain();
    if (v13 != -1) {
      swift_once();
    }
    uint64_t v32 = v5;
    uint64_t v34 = v3;
    uint64_t v14 = sub_246C2C088();
    sub_246B8BE0C(v14, (uint64_t)qword_2691E0150);
    swift_bridgeObjectRetain_n();
    uint64_t v15 = sub_246C2C068();
    os_log_type_t v16 = sub_246C2CF08();
    if (os_log_type_enabled(v15, v16))
    {
      uint64_t v17 = (uint8_t *)swift_slowAlloc();
      uint64_t v18 = swift_slowAlloc();
      aBlock[0] = v18;
      *(_DWORD *)uint64_t v17 = 136315138;
      swift_bridgeObjectRetain();
      uint64_t v36 = sub_246BA686C(v12, v11, aBlock);
      sub_246C2D1C8();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_246B51000, v15, v16, "Beginning fetch for collection: %s", v17, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v18, -1, -1);
      MEMORY[0x24C545990](v17, -1, -1);
    }
    else
    {
      swift_bridgeObjectRelease_n();
    }

    uint64_t v19 = (uint64_t *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier];
    uint64_t *v19 = v12;
    v19[1] = v11;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
    *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection] = 0;
    swift_bridgeObjectRelease();
    *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers] = 0;
    swift_bridgeObjectRelease();
    uint64_t v20 = sub_246B80E08();
    uint64_t KeyPath = swift_getKeyPath();
    MEMORY[0x270FA5388](KeyPath);
    *(&v30 - 2) = v20;
    *((unsigned char *)&v30 - 8) = 1;
    aBlock[0] = v20;
    sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
    sub_246C2BFC8();
    swift_release();
    swift_release();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    unint64_t v22 = (void *)sub_246C2CF68();
    uint64_t v23 = swift_allocObject();
    *(void *)(v23 + 16) = v1;
    void aBlock[4] = (uint64_t)sub_246B8C09C;
    aBlock[5] = v23;
    aBlock[0] = MEMORY[0x263EF8330];
    aBlock[1] = 1107296256;
    aBlock[2] = (uint64_t)sub_246B9B974;
    aBlock[3] = (uint64_t)&unk_26FB201A8;
    os_log_type_t v24 = _Block_copy(aBlock);
    unint64_t v25 = v1;
    swift_release();
    sub_246C2CA38();
    aBlock[0] = MEMORY[0x263F8EE78];
    sub_246B8ED2C((unint64_t *)&qword_2691D6938, 255, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246B8EC94((unint64_t *)&qword_2691D6948, &qword_2691D6940);
    uint64_t v26 = v32;
    uint64_t v27 = v35;
    sub_246C2D208();
    MEMORY[0x24C544020](0, v10, v26, v24);
    _Block_release(v24);

    (*(void (**)(char *, uint64_t))(v34 + 8))(v26, v27);
    (*(void (**)(char *, uint64_t))(v31 + 8))(v10, v33);
    uint64_t v28 = (void *)swift_allocObject();
    void v28[2] = v12;
    v28[3] = v11;
    v28[4] = v25;
    swift_bridgeObjectRetain();
    os_log_type_t v29 = v25;
    swift_retain();
    sub_246B80004(v12, v11, 7, (uint64_t)sub_246B8C0E0, (uint64_t)v28);
    swift_release();
    swift_release();
    return swift_bridgeObjectRelease();
  }
  return result;
}

void sub_246B89608(unint64_t a1, uint64_t a2, unint64_t a3, char *a4)
{
  uint64_t v8 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v8 - 8);
  uint64_t v10 = (char *)&v29 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_246C2C088();
  sub_246B8BE0C(v11, (uint64_t)qword_2691E0150);
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain_n();
  uint64_t v12 = sub_246C2C068();
  os_log_type_t v13 = sub_246C2CF08();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v30 = a2;
    uint64_t v31 = v10;
    uint64_t v14 = swift_slowAlloc();
    uint64_t v15 = swift_slowAlloc();
    uint64_t v33 = v15;
    *(_DWORD *)uint64_t v14 = 134218242;
    os_log_type_t v29 = a4;
    if (a1 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v16 = sub_246C2D3B8();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v16 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    uint64_t v32 = v16;
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    *(_WORD *)(v14 + 12) = 2080;
    swift_bridgeObjectRetain();
    a2 = v30;
    uint64_t v32 = sub_246BA686C(v30, a3, &v33);
    sub_246C2D1C8();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_246B51000, v12, v13, "Finished fetching face previews, count = %ld, collection = %s", (uint8_t *)v14, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v15, -1, -1);
    MEMORY[0x24C545990](v14, -1, -1);

    uint64_t v10 = v31;
    a4 = v29;
  }
  else
  {
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }
  objc_msgSend(*(id *)(*(void *)(*(void *)&a4[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray]+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton), sel_setEnabled_, 1, v29);
  uint64_t v17 = &a4[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier];
  uint64_t v18 = *(void *)&a4[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier + 8];
  if (v18
    && (*(void *)v17 == a2 && v18 == a3 || (sub_246C2D578() & 1) != 0)
    && !*(void *)&a4[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection]
    && !*(void *)&a4[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers])
  {
    uint64_t v22 = sub_246B80E08();
    uint64_t KeyPath = swift_getKeyPath();
    MEMORY[0x270FA5388](KeyPath);
    *(&v29 - 2) = (char *)v22;
    *((unsigned char *)&v29 - 8) = 0;
    uint64_t v33 = v22;
    sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
    sub_246C2BFC8();
    swift_release();
    swift_release();
    *(void *)uint64_t v17 = 0;
    *((void *)v17 + 1) = 0;
    swift_bridgeObjectRelease();
    uint64_t v24 = sub_246C2CE28();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v10, 1, 1, v24);
    sub_246C2CE08();
    swift_bridgeObjectRetain();
    unint64_t v25 = a4;
    uint64_t v26 = sub_246C2CDF8();
    uint64_t v27 = (void *)swift_allocObject();
    uint64_t v28 = MEMORY[0x263F8F500];
    v27[2] = v26;
    v27[3] = v28;
    v27[4] = v25;
    v27[5] = a1;
    sub_246B80790((uint64_t)v10, (uint64_t)&unk_2691D6978, (uint64_t)v27);
    swift_release();
  }
  else
  {
    uint64_t v19 = sub_246C2C068();
    os_log_type_t v20 = sub_246C2CEC8();
    if (os_log_type_enabled(v19, v20))
    {
      uint64_t v21 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v21 = 0;
      _os_log_impl(&dword_246B51000, v19, v20, "Returned preview asset request for face preview fan is for older than current request, ignoring…", v21, 2u);
      MEMORY[0x24C545990](v21, -1, -1);
    }
  }
}

uint64_t sub_246B89B38(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v5[4] = a4;
  void v5[5] = a5;
  v5[6] = sub_246C2CE08();
  v5[7] = sub_246C2CDF8();
  v5[8] = sub_246C2CDF8();
  uint64_t v7 = sub_246C2CDA8();
  v5[9] = v7;
  v5[10] = v6;
  return MEMORY[0x270FA2498](sub_246B89BE0, v7, v6);
}

uint64_t sub_246B89BE0()
{
  uint64_t v6 = (uint64_t (*)(uint64_t, uint64_t))((char *)&dword_2691D6980 + dword_2691D6980);
  id v1 = *(id *)(v0 + 32);
  uint64_t v2 = (void *)swift_task_alloc();
  *(void *)(v0 + 88) = v2;
  void *v2 = v0;
  v2[1] = sub_246B89C94;
  uint64_t v3 = *(void *)(v0 + 32);
  uint64_t v4 = *(void *)(v0 + 40);
  return v6(v4, v3);
}

uint64_t sub_246B89C94(uint64_t a1)
{
  uint64_t v4 = *(void **)v2;
  uint64_t v5 = *(void **)(*(void *)v2 + 32);
  *(void *)(*(void *)v2 + 96) = v1;
  swift_task_dealloc();

  if (v1)
  {
    uint64_t v6 = v4[9];
    uint64_t v7 = v4[10];
    uint64_t v8 = sub_246B89FEC;
  }
  else
  {
    v4[13] = a1;
    uint64_t v6 = v4[9];
    uint64_t v7 = v4[10];
    uint64_t v8 = sub_246B89DDC;
  }
  return MEMORY[0x270FA2498](v8, v6, v7);
}

uint64_t sub_246B89DDC()
{
  uint64_t v1 = v0[13];
  swift_release();
  v0[2] = v1;
  sub_246B8A0D4(0, *(void *)(v1 + 16) >> 1);
  uint64_t v2 = sub_246B80E08();
  uint64_t v3 = v0[2];
  swift_getKeyPath();
  uint64_t v4 = swift_task_alloc();
  *(void *)(v4 + 16) = v2;
  *(void *)(v4 + 24) = v3;
  v0[3] = v2;
  sub_246B8ED2C(&qword_2691D6968, 255, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFC8();
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  sub_246B85558();
  uint64_t v6 = sub_246C2CDA8();
  return MEMORY[0x270FA2498](sub_246B89F88, v6, v5);
}

uint64_t sub_246B89F88()
{
  swift_release();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_246B89FEC()
{
  swift_release();
  uint64_t v1 = sub_246C2CDA8();
  return MEMORY[0x270FA2498](sub_246B8A070, v1, v0);
}

uint64_t sub_246B8A070()
{
  swift_release();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

void sub_246B8A0D4(unint64_t a1, unint64_t a2)
{
  if (a1 != a2)
  {
    if ((a1 & 0x8000000000000000) != 0)
    {
      __break(1u);
    }
    else
    {
      uint64_t v2 = (void *)*v3;
      unint64_t v14 = *(void *)(*v3 + 16);
      if (v14 > a1)
      {
        unint64_t v4 = a2;
        if (v14 > a2)
        {
          uint64_t v36 = v3;
          uint64_t v15 = (uint64_t)&v2[10 * a1 + 4];
          uint64_t v16 = *(void *)(v15 + 8);
          uint64_t v33 = *(void *)v15;
          uint64_t v17 = *(void **)(v15 + 16);
          long long v34 = *(_OWORD *)(v15 + 40);
          long long v35 = *(_OWORD *)(v15 + 24);
          uint64_t v18 = *(void **)(v15 + 56);
          long long v30 = *(_OWORD *)(v15 + 64);
          uint64_t v19 = &v2[10 * a2 + 4];
          uint64_t v6 = v19[1];
          uint64_t v5 = (void *)v19[2];
          uint64_t v9 = v19[3];
          uint64_t v10 = v19[4];
          uint64_t v11 = v19[5];
          uint64_t v12 = v19[6];
          os_log_type_t v20 = (void *)v19[7];
          uint64_t v8 = v19[8];
          uint64_t v37 = v19[9];
          uint64_t v38 = *v19;
          id v21 = v5;
          id v7 = v20;
          uint64_t v32 = v16;
          swift_bridgeObjectRetain();
          uint64_t v31 = v17;
          id v22 = v17;
          uint64_t v3 = v18;
          swift_bridgeObjectRetain();
          if (swift_isUniquelyReferenced_nonNull_native()) {
            goto LABEL_6;
          }
          goto LABEL_12;
        }
LABEL_11:
        __break(1u);
LABEL_12:
        uint64_t v2 = sub_246BBD008(v2);
LABEL_6:
        uint64_t v23 = &v2[10 * a1 + 4];
        uint64_t v24 = (void *)v23[2];
        unint64_t v25 = (void *)v23[7];
        *uint64_t v23 = v38;
        v23[1] = v6;
        v23[2] = v5;
        v23[3] = v9;
        void v23[4] = v10;
        v23[5] = v11;
        v23[6] = v12;
        v23[7] = v7;
        void v23[8] = v8;
        v23[9] = v37;

        swift_bridgeObjectRelease();
        if (v2[2] <= v4)
        {
          __break(1u);
        }
        else
        {
          uint64_t v26 = (uint64_t)&v2[10 * v4 + 4];
          uint64_t v27 = v3;
          uint64_t v28 = *(void **)(v26 + 16);
          os_log_type_t v29 = *(void **)(v26 + 56);
          *(void *)uint64_t v26 = v33;
          *(void *)(v26 + 8) = v32;
          *(void *)(v26 + 16) = v31;
          *(_OWORD *)(v26 + 24) = v35;
          *(_OWORD *)(v26 + 40) = v34;
          *(void *)(v26 + 56) = v27;
          *(_OWORD *)(v26 + 64) = v30;

          swift_bridgeObjectRelease();
          void *v36 = v2;
        }
        return;
      }
    }
    __break(1u);
    goto LABEL_11;
  }
}

void sub_246B8A2B8(uint64_t a1, void *a2, uint64_t a3, double a4, double a5)
{
  uint64_t v10 = sub_246B80250(&qword_2691D6998);
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v12 = *(void *)(v11 + 64);
  MEMORY[0x270FA5388](v10);
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_246C2C088();
  sub_246B8BE0C(v13, (uint64_t)qword_2691E0150);
  unint64_t v14 = sub_246C2C068();
  os_log_type_t v15 = sub_246C2CEE8();
  if (os_log_type_enabled(v14, v15))
  {
    uint64_t v16 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v16 = 0;
    _os_log_impl(&dword_246B51000, v14, v15, "requesting image......we hope", v16, 2u);
    MEMORY[0x24C545990](v16, -1, -1);
  }

  id v17 = objc_msgSend(self, sel_defaultManager);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))((char *)aBlock - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0), a1, v10);
  unint64_t v18 = (*(unsigned __int8 *)(v11 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v11 + 80);
  uint64_t v19 = swift_allocObject();
  *(void *)(v19 + 16) = a2;
  (*(void (**)(unint64_t, char *, uint64_t))(v11 + 32))(v19 + v18, (char *)aBlock - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0), v10);
  void aBlock[4] = sub_246B8E6B4;
  aBlock[5] = v19;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B8A9A0;
  aBlock[3] = &unk_26FB20248;
  os_log_type_t v20 = _Block_copy(aBlock);
  id v21 = a2;
  swift_release();
  objc_msgSend(v17, sel_requestImageForAsset_targetSize_contentMode_options_resultHandler_, v21, 1, a3, v20, a4, a5);
  _Block_release(v20);
}

void sub_246B8A57C(void *a1, uint64_t a2, void *a3)
{
  if (!a2)
  {
    long long v30 = 0u;
    long long v31 = 0u;
LABEL_13:
    sub_246B8EA34((uint64_t)&v30, &qword_2691D69A0);
    goto LABEL_14;
  }
  sub_246C2CC48();
  sub_246C2D248();
  if (*(void *)(a2 + 16) && (unint64_t v6 = sub_246C16178((uint64_t)v29), (v7 & 1) != 0))
  {
    sub_246B8E790(*(void *)(a2 + 56) + 32 * v6, (uint64_t)&v30);
  }
  else
  {
    long long v30 = 0u;
    long long v31 = 0u;
  }
  sub_246B8E73C((uint64_t)v29);
  if (!*((void *)&v31 + 1)) {
    goto LABEL_13;
  }
  sub_246B80250(&qword_2691D69A8);
  if (swift_dynamicCast())
  {
    uint64_t v8 = (void *)v29[0];
    if (qword_2691D6300 != -1) {
      swift_once();
    }
    uint64_t v9 = sub_246C2C088();
    sub_246B8BE0C(v9, (uint64_t)qword_2691E0150);
    id v10 = a3;
    id v11 = v8;
    id v12 = v10;
    id v13 = v8;
    unint64_t v14 = sub_246C2C068();
    os_log_type_t v15 = sub_246C2CEE8();
    if (os_log_type_enabled(v14, v15))
    {
      uint64_t v16 = swift_slowAlloc();
      uint64_t v28 = swift_slowAlloc();
      v29[0] = v28;
      *(_DWORD *)uint64_t v16 = 136315394;
      id v17 = objc_msgSend(v12, sel_localIdentifier);
      uint64_t v18 = sub_246C2CC48();
      unint64_t v20 = v19;

      *(void *)&long long v30 = sub_246BA686C(v18, v20, v29);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      *(_WORD *)(v16 + 12) = 2080;
      swift_getErrorValue();
      uint64_t v21 = sub_246C2D5F8();
      *(void *)&long long v30 = sub_246BA686C(v21, v22, v29);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();

      _os_log_impl(&dword_246B51000, v14, v15, "Failed to fetch image for asset: %s, %s", (uint8_t *)v16, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v28, -1, -1);
      MEMORY[0x24C545990](v16, -1, -1);
    }
    else
    {
    }
    v29[0] = 0;
    sub_246B80250(&qword_2691D6998);
    sub_246C2CDB8();

    return;
  }
LABEL_14:
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_246C2C088();
  sub_246B8BE0C(v23, (uint64_t)qword_2691E0150);
  uint64_t v24 = sub_246C2C068();
  os_log_type_t v25 = sub_246C2CEE8();
  if (os_log_type_enabled(v24, v25))
  {
    uint64_t v26 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v26 = 0;
    _os_log_impl(&dword_246B51000, v24, v25, "requesting image", v26, 2u);
    MEMORY[0x24C545990](v26, -1, -1);
  }

  v29[0] = (uint64_t)a1;
  id v27 = a1;
  sub_246B80250(&qword_2691D6998);
  sub_246C2CDB8();
}

uint64_t sub_246B8A9A0(uint64_t a1, void *a2, uint64_t a3)
{
  unint64_t v4 = *(void (**)(void *, uint64_t))(a1 + 32);
  if (a3) {
    uint64_t v5 = sub_246C2CBB8();
  }
  else {
    uint64_t v5 = 0;
  }
  swift_retain();
  id v6 = a2;
  v4(a2, v5);
  swift_release();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246B8AA4C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v9 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v9 - 8);
  id v11 = (char *)&v19 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  if ((sub_246B9A5B4(1, a2) & 1) != 0
    && (uint64_t v12 = *(void *)(v4 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers)) != 0)
  {
    swift_bridgeObjectRetain();
  }
  else
  {
    uint64_t v12 = MEMORY[0x263F8EE78];
  }
  char v13 = sub_246B9A5B4(2, a2);
  char v14 = sub_246B9A5B4(3, a2);
  char v15 = sub_246B9A5B4(4, a2);
  uint64_t v16 = sub_246C2CE28();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v11, 1, 1, v16);
  uint64_t v17 = swift_allocObject();
  *(void *)(v17 + 16) = 0;
  *(void *)(v17 + 24) = 0;
  *(void *)(v17 + 32) = v12;
  *(unsigned char *)(v17 + 40) = v13 & 1;
  *(unsigned char *)(v17 + 41) = v14 & 1;
  *(unsigned char *)(v17 + 42) = v15 & 1;
  *(void *)(v17 + 48) = a1;
  *(void *)(v17 + 56) = a3;
  *(void *)(v17 + 64) = a4;
  swift_retain();
  swift_bridgeObjectRetain();
  swift_retain();
  sub_246B80790((uint64_t)v11, (uint64_t)&unk_2691D6960, v17);
  swift_bridgeObjectRelease();
  swift_release();
  return swift_release();
}

void sub_246B8AD18(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_246B80250(&qword_2691D6928);
  uint64_t v7 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  uint64_t v9 = (char *)&v16 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = (void *)(v3 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection);
  *uint64_t v10 = a1;
  v10[1] = a2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  sub_246B86BC8();
  uint64_t v11 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
  uint64_t v12 = *(void **)(v3 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
  if (v12)
  {
    id v13 = v12;
    sub_246C2C3B8();

    sub_246C2C2C8();
    char v14 = *(void **)(v3 + v11);
    if (v14)
    {
      id v15 = v14;
      sub_246C2C398();

      (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
      sub_246B87230(1);
      return;
    }
  }
  else
  {
    __break(1u);
  }
  __break(1u);
}

uint64_t sub_246B8AE90(uint64_t a1)
{
  if (*(void *)(a1 + 16))
  {
    uint64_t v2 = a1;
  }
  else if (*(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers))
  {
    uint64_t v2 = *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers);
  }
  else
  {
    uint64_t v2 = MEMORY[0x263F8EE78];
  }
  swift_bridgeObjectRetain();
  *(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers) = v2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v3 = sub_246C2C088();
  sub_246B8BE0C(v3, (uint64_t)qword_2691E0168);
  swift_bridgeObjectRetain();
  uint64_t v4 = sub_246C2C068();
  os_log_type_t v5 = sub_246C2CEC8();
  if (os_log_type_enabled(v4, v5))
  {
    uint64_t v6 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v6 = 134217984;
    swift_bridgeObjectRelease();
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_246B51000, v4, v5, "Selected [%ld] people", v6, 0xCu);
    MEMORY[0x24C545990](v6, -1, -1);
  }
  else
  {
    swift_bridgeObjectRelease_n();
  }

  sub_246B853D0();
  return sub_246B87230(1);
}

uint64_t type metadata accessor for ParmesanShuffleSelectionViewController()
{
  return self;
}

uint64_t sub_246B8B17C(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2CA28();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v29 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2CA48();
  uint64_t v31 = *(void *)(v8 - 8);
  uint64_t v32 = v8;
  MEMORY[0x270FA5388](v8);
  uint64_t v10 = (char *)&v29 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v11 = objc_msgSend(a1, sel_vipPersons);
  if (v11)
  {
    uint64_t v12 = v11;
    sub_246B8F1E0(0, (unint64_t *)&unk_2691D6950);
    unint64_t v13 = sub_246C2CD38();
  }
  else
  {
    unint64_t v13 = MEMORY[0x263F8EE78];
  }
  id v14 = objc_msgSend(a1, sel_nonVIPPersons);
  uint64_t v15 = MEMORY[0x263F8EE78];
  if (v14)
  {
    uint64_t v16 = v14;
    sub_246B8F1E0(0, (unint64_t *)&unk_2691D6950);
    unint64_t v17 = sub_246C2CD38();
  }
  else
  {
    unint64_t v17 = MEMORY[0x263F8EE78];
  }
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_246C2C088();
  sub_246B8BE0C(v18, (uint64_t)qword_2691E0168);
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain_n();
  uint64_t v19 = sub_246C2C068();
  os_log_type_t v20 = sub_246C2CEC8();
  if (os_log_type_enabled(v19, v20))
  {
    uint64_t v30 = v5;
    uint64_t v21 = swift_slowAlloc();
    *(_DWORD *)uint64_t v21 = 134218240;
    if (v13 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v22 = sub_246C2D3B8();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v22 = *(void *)((v13 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    aBlock[0] = v22;
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    *(_WORD *)(v21 + 12) = 2048;
    if (v17 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v23 = sub_246C2D3B8();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v23 = *(void *)((v17 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    aBlock[0] = v23;
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_246B51000, v19, v20, "Updated people available [%ld VIPs, %ld non-VIPs]", (uint8_t *)v21, 0x16u);
    MEMORY[0x24C545990](v21, -1, -1);

    uint64_t v5 = v30;
    uint64_t v15 = MEMORY[0x263F8EE78];
  }
  else
  {
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  uint64_t v24 = (void *)sub_246C2CF68();
  os_log_type_t v25 = (void *)swift_allocObject();
  v25[2] = v2;
  v25[3] = v13;
  v25[4] = v17;
  void aBlock[4] = sub_246B8BE8C;
  aBlock[5] = v25;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B9B974;
  aBlock[3] = &unk_26FB20130;
  uint64_t v26 = _Block_copy(aBlock);
  id v27 = v2;
  swift_release();
  sub_246C2CA38();
  aBlock[0] = v15;
  sub_246B8ED2C((unint64_t *)&qword_2691D6938, 255, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246B8EC94((unint64_t *)&qword_2691D6948, &qword_2691D6940);
  sub_246C2D208();
  MEMORY[0x24C544020](0, v10, v7, v26);
  _Block_release(v26);

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  return (*(uint64_t (**)(char *, uint64_t))(v31 + 8))(v10, v32);
}

void sub_246B8B6EC(uint64_t a1, unint64_t a2, unint64_t a3)
{
  if (a2 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v6 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v6 = *(void *)((a2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  uint64_t v7 = MEMORY[0x263F8EE78];
  uint64_t v35 = a1;
  if (v6)
  {
    uint64_t v36 = MEMORY[0x263F8EE78];
    sub_246C00A74(0, v6 & ~(v6 >> 63), 0);
    if (v6 < 0)
    {
      __break(1u);
      goto LABEL_33;
    }
    unint64_t v33 = a3;
    uint64_t v8 = 0;
    uint64_t v7 = v36;
    do
    {
      if ((a2 & 0xC000000000000001) != 0) {
        id v9 = (id)MEMORY[0x24C544350](v8, a2);
      }
      else {
        id v9 = *(id *)(a2 + 8 * v8 + 32);
      }
      uint64_t v10 = v9;
      id v11 = objc_msgSend(v9, sel_localIdentifier);
      uint64_t v12 = sub_246C2CC48();
      uint64_t v14 = v13;

      unint64_t v16 = *(void *)(v36 + 16);
      unint64_t v15 = *(void *)(v36 + 24);
      if (v16 >= v15 >> 1) {
        sub_246C00A74(v15 > 1, v16 + 1, 1);
      }
      ++v8;
      *(void *)(v36 + 16) = v16 + 1;
      uint64_t v17 = v36 + 16 * v16;
      *(void *)(v17 + 32) = v12;
      *(void *)(v17 + 40) = v14;
    }
    while (v6 != v8);
    a3 = v33;
    a1 = v35;
  }
  uint64_t v32 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers;
  *(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers) = v7;
  swift_bridgeObjectRelease();
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v18 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v18 = *(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  uint64_t v19 = MEMORY[0x263F8EE78];
  if (v18)
  {
    uint64_t v37 = MEMORY[0x263F8EE78];
    sub_246C00A74(0, v18 & ~(v18 >> 63), 0);
    if ((v18 & 0x8000000000000000) == 0)
    {
      uint64_t v34 = v6;
      uint64_t v20 = 0;
      uint64_t v19 = v37;
      unint64_t v21 = a3;
      unint64_t v22 = a3 & 0xC000000000000001;
      do
      {
        if (v22) {
          id v23 = (id)MEMORY[0x24C544350](v20, v21);
        }
        else {
          id v23 = *(id *)(v21 + 8 * v20 + 32);
        }
        uint64_t v24 = v23;
        id v25 = objc_msgSend(v23, sel_localIdentifier, v32);
        uint64_t v26 = sub_246C2CC48();
        uint64_t v28 = v27;

        unint64_t v30 = *(void *)(v37 + 16);
        unint64_t v29 = *(void *)(v37 + 24);
        if (v30 >= v29 >> 1) {
          sub_246C00A74(v29 > 1, v30 + 1, 1);
        }
        ++v20;
        *(void *)(v37 + 16) = v30 + 1;
        uint64_t v31 = v37 + 16 * v30;
        *(void *)(v31 + 32) = v26;
        *(void *)(v31 + 40) = v28;
      }
      while (v18 != v20);
      uint64_t v6 = v34;
      a1 = v35;
      goto LABEL_25;
    }
LABEL_33:
    __break(1u);
    goto LABEL_34;
  }
LABEL_25:
  *(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers) = v19;
  swift_bridgeObjectRelease();
  if (*(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers))
  {
LABEL_29:
    sub_246B853D0();
    sub_246B85558();
    return;
  }
  if (!__OFADD__(v6, v18))
  {
    if (v6 + v18 >= 1)
    {
      *(void *)(a1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers) = *(void *)(a1 + v32);
      swift_bridgeObjectRetain();
      swift_bridgeObjectRelease();
    }
    goto LABEL_29;
  }
LABEL_34:
  __break(1u);
}

uint64_t initializeBufferWithCopyOfBuffer for ParmesanShuffleSelectionViewController.RowType(uint64_t result, uint64_t *a2)
{
  uint64_t v2 = *a2;
  *(unsigned char *)(result + 8) = *((unsigned char *)a2 + 8);
  *(void *)uint64_t result = v2;
  return result;
}

uint64_t getEnumTagSinglePayload for ParmesanShuffleSelectionViewController.RowType(uint64_t a1, int a2)
{
  if (a2 && *(unsigned char *)(a1 + 9)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for ParmesanShuffleSelectionViewController.RowType(uint64_t result, int a2, int a3)
{
  if (a2)
  {
    *(void *)uint64_t result = 0;
    *(unsigned char *)(result + 8) = 0;
    *(_DWORD *)uint64_t result = a2 - 1;
    if (!a3) {
      return result;
    }
    char v3 = 1;
  }
  else
  {
    if (!a3) {
      return result;
    }
    char v3 = 0;
  }
  *(unsigned char *)(result + 9) = v3;
  return result;
}

uint64_t sub_246B8BA54(uint64_t a1)
{
  if (*(unsigned char *)(a1 + 8)) {
    return (*(_DWORD *)a1 + 1);
  }
  else {
    return 0;
  }
}

uint64_t sub_246B8BA74(uint64_t result, int a2)
{
  if (a2)
  {
    *(void *)uint64_t result = (a2 - 1);
    *(unsigned char *)(result + 8) = 1;
  }
  else
  {
    *(unsigned char *)(result + 8) = 0;
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanShuffleSelectionViewController.RowType()
{
  return &type metadata for ParmesanShuffleSelectionViewController.RowType;
}

unsigned char *initializeBufferWithCopyOfBuffer for ParmesanShuffleSelectionViewController.SectionType(unsigned char *result, unsigned char *a2)
{
  *uint64_t result = *a2;
  return result;
}

uint64_t getEnumTagSinglePayload for ParmesanShuffleSelectionViewController.SectionType(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFE) {
    goto LABEL_17;
  }
  if (a2 + 2 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 2) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 2;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 2;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 2;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 3;
  int v8 = v6 - 3;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for ParmesanShuffleSelectionViewController.SectionType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246B8BC0CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

uint64_t sub_246B8BC34(unsigned __int8 *a1)
{
  return *a1;
}

unsigned char *sub_246B8BC3C(unsigned char *result, char a2)
{
  *uint64_t result = a2;
  return result;
}

ValueMetadata *type metadata accessor for ParmesanShuffleSelectionViewController.SectionType()
{
  return &type metadata for ParmesanShuffleSelectionViewController.SectionType;
}

unint64_t sub_246B8BC58()
{
  unint64_t result = qword_2691D6918;
  if (!qword_2691D6918)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6918);
  }
  return result;
}

unint64_t sub_246B8BCB0()
{
  unint64_t result = qword_2691D6920;
  if (!qword_2691D6920)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6920);
  }
  return result;
}

id sub_246B8BD04(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(uint64_t (**)(uint64_t, uint64_t))(a1 + 32);
  swift_retain();
  swift_unknownObjectRetain();
  unsigned int v6 = (void *)v5(a2, a3);
  swift_release();
  swift_unknownObjectRelease();

  return v6;
}

void sub_246B8BD80(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  if (a2)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_246B8BDFC(a5);
    sub_246B8BDFC(a7);
  }
}

uint64_t sub_246B8BDFC(uint64_t result)
{
  if (result) {
    return swift_release();
  }
  return result;
}

uint64_t sub_246B8BE0C(uint64_t a1, uint64_t a2)
{
  if ((*(unsigned char *)(*(void *)(a1 - 8) + 82) & 2) != 0) {
    return *(void *)a2;
  }
  return a2;
}

uint64_t sub_246B8BE44()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 40, 7);
}

void sub_246B8BE8C()
{
  sub_246B8B6EC(*(void *)(v0 + 16), *(void *)(v0 + 24), *(void *)(v0 + 32));
}

uint64_t sub_246B8BE98(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246B8BEA8()
{
  return swift_release();
}

uint64_t sub_246B8BEB0(uint64_t *a1)
{
  uint64_t result = *a1;
  if (result < 0)
  {
    uint64_t result = swift_getTypeByMangledNameInContextInMetadataState2();
    *a1 = result;
  }
  return result;
}

uint64_t sub_246B8BEF8()
{
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();
  swift_release();

  return MEMORY[0x270FA0238](v0, 72, 7);
}

uint64_t sub_246B8BF40(uint64_t a1)
{
  uint64_t v4 = *(void *)(v1 + 24);
  uint64_t v12 = *(void *)(v1 + 16);
  uint64_t v5 = *(void *)(v1 + 32);
  char v6 = *(unsigned char *)(v1 + 40);
  char v7 = *(unsigned char *)(v1 + 41);
  char v8 = *(unsigned char *)(v1 + 42);
  uint64_t v9 = *(void *)(v1 + 48);
  uint64_t v10 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v10;
  *uint64_t v10 = v2;
  v10[1] = sub_246B803A8;
  return sub_246B7E920(a1, v12, v4, v5, v6, v7, v8, v9);
}

uint64_t sub_246B8C044()
{
  return sub_246BC994C(*(void *)(v0 + 16), *(unsigned char *)(v0 + 24));
}

uint64_t sub_246B8C064()
{
  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_246B8C0A0()
{
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 40, 7);
}

void sub_246B8C0E0(unint64_t a1)
{
  sub_246B89608(a1, *(void *)(v1 + 16), *(void *)(v1 + 24), *(char **)(v1 + 32));
}

uint64_t sub_246B8C0F0(uint64_t a1)
{
  uint64_t v4 = v1[2];
  uint64_t v5 = v1[3];
  uint64_t v7 = v1[4];
  uint64_t v6 = v1[5];
  char v8 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v8;
  void *v8 = v2;
  v8[1] = sub_246B8F220;
  return sub_246B89B38(a1, v4, v5, v7, v6);
}

void sub_246B8C1B0()
{
  uint64_t v1 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23WatchFacePreviewsHeader_label;
  id v2 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_init);
  id v3 = objc_msgSend(self, sel_preferredFontForTextStyle_, *MEMORY[0x263F835A0]);
  objc_msgSend(v2, sel_setFont_, v3);

  id v4 = objc_msgSend(self, sel_whiteColor);
  objc_msgSend(v2, sel_setTextColor_, v4);

  objc_msgSend(v2, sel_setAccessibilityTraits_, *MEMORY[0x263F83268]);
  *(void *)&v0[v1] = v2;

  sub_246C2D3A8();
  __break(1u);
}

void sub_246B8C2E0()
{
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sectionTopBottomContentInsets] = 0x4018000000000000;
  uint64_t v1 = MEMORY[0x263F8EE78];
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_sections] = MEMORY[0x263F8EE78];
  uint64_t v2 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_suggestionsDataSource;
  type metadata accessor for ParmesanShuffleSuggestionsDataSource();
  uint64_t v3 = swift_allocObject();
  id v4 = objc_msgSend(self, sel_sharedPhotoLibrary);
  id v5 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5DE80]), sel_initWithPhotoLibrary_, v4);

  *(void *)&v0[v2] = v3;
  *(void *)(v3 + 16) = v5;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_collectionView] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedTypeface] = 2;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedNumeralsOption] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___previewStackViewModel] = 0;
  double v6 = *MEMORY[0x263F5DEA0];
  double v7 = *(double *)(MEMORY[0x263F5DEA0] + 8);
  id v8 = objc_msgSend(self, sel_mainScreen);
  objc_msgSend(v8, sel_bounds);
  CGFloat v10 = v9;
  CGFloat v12 = v11;
  CGFloat v14 = v13;
  CGFloat v16 = v15;

  v24.origin.double x = v10;
  v24.origin.double y = v12;
  v24.size.width = v14;
  v24.size.height = v16;
  double v17 = CGRectGetHeight(v24) * 0.2;
  double v18 = v6 / v7 * v17;
  if (v7 < v17)
  {
    double v18 = v6;
    double v17 = v7;
  }
  uint64_t v19 = (double *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_facePreviewSize];
  double *v19 = v18;
  v19[1] = v17;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_availableSuggestionTypes] = v1;
  v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadedInitialSelection] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes] = v1;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedPersonIdentifiers] = 0;
  uint64_t v20 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection];
  *uint64_t v20 = 0;
  v20[1] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingAssetSelection] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingPersonIdentifiers] = 0;
  unint64_t v21 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_loadingCollectionIdentifier];
  *unint64_t v21 = 0;
  v21[1] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___peopleDataSource] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_vipPeopleIdentifiers] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_nonVipPeopleIdentifiers] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectionDebouncetimer] = 0;
  uint64_t v22 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray;
  *(void *)&v0[v22] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanButtonTray()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  id v23 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController____lazy_storage___trayConfiguration];
  v23[2] = 0u;
  v23[3] = 0u;
  *id v23 = 0u;
  v23[1] = 0u;

  sub_246C2D3A8();
  __break(1u);
}

char *sub_246B8C5A4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
  uint64_t v50 = a6;
  uint64_t v51 = a7;
  uint64_t v48 = a3;
  uint64_t v49 = a5;
  uint64_t v46 = a1;
  sub_246B80250(&qword_2691D6A38);
  MEMORY[0x270FA5388]();
  uint64_t v56 = (char *)&v43 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246C2C0E8();
  uint64_t v57 = *(void *)(v11 - 8);
  uint64_t v58 = v11;
  MEMORY[0x270FA5388]();
  uint64_t v55 = (char *)&v43 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v54 = sub_246C2C0B8();
  uint64_t v52 = *(void *)(v54 - 8);
  MEMORY[0x270FA5388]();
  uint64_t v53 = (char *)&v43 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_246C2C268();
  uint64_t v47 = *(void *)(v14 - 8);
  MEMORY[0x270FA5388]();
  CGFloat v16 = (char *)&v43 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ParmesanListCell();
  ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
  double v18 = NSStringFromClass(ObjCClassFromMetadata);
  sub_246C2CC48();

  uint64_t v19 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  uint64_t v20 = (void *)sub_246C2BC78();
  id v21 = objc_msgSend(a8, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v19, v20);

  uint64_t v22 = (char *)swift_dynamicCastClassUnconditional();
  MEMORY[0x24C544100]();
  id v23 = objc_msgSend(self, sel_whiteColor);
  CGRect v24 = (void (*)(uint64_t *, void))sub_246C2C1F8();
  sub_246C2C1E8();
  v24(v59, 0);
  sub_246C2C208();
  id v25 = &v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_title];
  *(void *)id v25 = v46;
  *((void *)v25 + 1) = a2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRetain();
  uint64_t v26 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v27 = objc_msgSend(self, sel_systemImageNamed_, v26);

  uint64_t v28 = *(void **)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_image];
  *(void *)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_image] = v27;

  unint64_t v29 = &v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_album];
  uint64_t v30 = v50;
  *(void *)unint64_t v29 = v49;
  *((void *)v29 + 1) = v30;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  if (v51) {
    objc_msgSend(*(id *)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton], sel_addAction_forControlEvents_, v51, 4095);
  }
  objc_msgSend(v22, sel_setAutomaticallyUpdatesBackgroundConfiguration_, 0);
  uint64_t v31 = v14;
  v59[3] = v14;
  v59[4] = MEMORY[0x263F81F20];
  uint64_t v45 = v14;
  uint64_t v32 = sub_246B8EBE4(v59);
  uint64_t v33 = v47;
  uint64_t v34 = *(void (**)(uint64_t *, char *, uint64_t))(v47 + 16);
  uint64_t v44 = v16;
  v34(v32, v16, v31);
  id v35 = v21;
  MEMORY[0x24C5440A0](v59);

  sub_246B80250(&qword_2691D6A40);
  sub_246C2C128();
  *(_OWORD *)(swift_allocObject() + 16) = xmmword_246C33620;
  uint64_t v37 = v52;
  uint64_t v36 = v53;
  uint64_t v38 = v54;
  (*(void (**)(char *, void, uint64_t))(v52 + 104))(v53, *MEMORY[0x263F81DE8], v54);
  uint64_t v39 = sub_246C2C0C8();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v39 - 8) + 56))(v56, 1, 1, v39);
  id v40 = v35;
  uint64_t v41 = v55;
  sub_246C2C0D8();
  sub_246C2C0A8();
  (*(void (**)(char *, uint64_t))(v57 + 8))(v41, v58);
  (*(void (**)(char *, uint64_t))(v37 + 8))(v36, v38);
  sub_246C2D048();

  objc_msgSend(v22, sel_setNeedsUpdateConfiguration);
  (*(void (**)(char *, uint64_t))(v33 + 8))(v44, v45);
  return v22;
}

uint64_t sub_246B8CBAC(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 3) {
    return 0;
  }
  id v1 = objc_msgSend(self, sel_localizedTitleForSingleSmartAlbumType_, qword_246C337E0[a1 - 1]);
  uint64_t v2 = sub_246C2CC48();

  return v2;
}

uint64_t sub_246B8CC34(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 3) {
    return 0;
  }
  id v1 = objc_msgSend(self, sel_systemImageNameForSingleSmartAlbumType_, qword_246C337E0[a1 - 1]);
  uint64_t v2 = sub_246C2CC48();

  return v2;
}

uint64_t sub_246B8CCBC(uint64_t a1, uint64_t a2)
{
  uint64_t v47 = a2;
  uint64_t v4 = sub_246B80250(&qword_2691D69F0);
  MEMORY[0x270FA5388](v4 - 8);
  double v6 = (char *)v35 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v38 = sub_246B80250(&qword_2691D69E8);
  uint64_t v7 = *(void *)(v38 - 8);
  uint64_t v8 = MEMORY[0x270FA5388](v38);
  uint64_t v46 = (uint64_t)v35 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v37 = (uint64_t)v35 - v10;
  uint64_t v11 = sub_246C2BCD8();
  uint64_t v12 = *(void *)(v11 - 8);
  MEMORY[0x270FA5388](v11);
  uint64_t v14 = (char *)v35 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v15 - 8);
  double v17 = (char *)v35 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = *(void *)(a1 + 16);
  if (v18)
  {
    v35[2] = v2;
    uint64_t v19 = *(void (**)(char *, uint64_t, uint64_t))(v12 + 16);
    uint64_t v20 = v12 + 16;
    uint64_t v21 = a1 + ((*(unsigned __int8 *)(v12 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v12 + 80));
    uint64_t v48 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v20 + 40);
    uint64_t v49 = v19;
    uint64_t v44 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
    uint64_t v45 = (unsigned int (**)(char *, uint64_t, uint64_t))(v20 + 32);
    uint64_t v42 = *(void *)(v20 + 56);
    uint64_t v43 = (uint64_t (**)(char *, char *, uint64_t))(v20 + 16);
    uint64_t v50 = v20;
    id v40 = (void (**)(char *, uint64_t))(v20 - 8);
    uint64_t v41 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56);
    uint64_t v36 = v7;
    uint64_t v39 = (unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
    v35[1] = a1;
    swift_bridgeObjectRetain();
    unint64_t v54 = MEMORY[0x263F8EE78];
    uint64_t v22 = v38;
    while (1)
    {
      v49(v17, v21, v11);
      id v23 = *v48;
      (*v48)(v17, 0, 1, v11);
      if ((*v45)(v17, 1, v11) == 1) {
        break;
      }
      uint64_t result = (*v43)(v14, v17, v11);
      id v25 = *(void **)(v47 + v44);
      if (!v25)
      {
        __break(1u);
        return result;
      }
      id v26 = v25;
      sub_246C2C348();

      if (v53)
      {
        uint64_t v27 = 1;
      }
      else
      {
        char v28 = v52;
        unint64_t v29 = &v6[*(int *)(v22 + 48)];
        *(void *)double v6 = v51;
        v6[8] = v28 & 1;
        v49(v29, (uint64_t)v14, v11);
        uint64_t v27 = 0;
      }
      (*v41)(v6, v27, 1, v22);
      (*v40)(v14, v11);
      if ((*v39)(v6, 1, v22) == 1)
      {
        sub_246B8EA34((uint64_t)v6, &qword_2691D69F0);
      }
      else
      {
        uint64_t v30 = v37;
        sub_246B8ED74((uint64_t)v6, v37, &qword_2691D69E8);
        sub_246B8ED74(v30, v46, &qword_2691D69E8);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          unint64_t v54 = sub_246BA5E40(0, *(void *)(v54 + 16) + 1, 1, v54);
        }
        unint64_t v32 = *(void *)(v54 + 16);
        unint64_t v31 = *(void *)(v54 + 24);
        if (v32 >= v31 >> 1) {
          unint64_t v54 = sub_246BA5E40(v31 > 1, v32 + 1, 1, v54);
        }
        unint64_t v33 = v54;
        *(void *)(v54 + 16) = v32 + 1;
        sub_246B8ED74(v46, v33+ ((*(unsigned __int8 *)(v36 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v36 + 80))+ *(void *)(v36 + 72) * v32, &qword_2691D69E8);
        uint64_t v22 = v38;
      }
      v21 += v42;
      if (!--v18)
      {
        v23(v17, 1, 1, v11);
        break;
      }
    }
  }
  else
  {
    uint64_t v34 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56);
    swift_bridgeObjectRetain();
    unint64_t v54 = MEMORY[0x263F8EE78];
    v34(v17, 1, 1, v11);
  }
  swift_bridgeObjectRelease();
  return v54;
}

BOOL sub_246B8D1DC()
{
  id v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
  if (v1)
  {
    id v2 = v1;
    sub_246C2BCC8();
    sub_246C2C358();

    return v4 != 0;
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246B8D24C()
{
  id v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
  if (v1)
  {
    id v2 = v1;
    sub_246C2C348();

    if ((v5 & 1) == 0 && ((v4 & 1) == 0 || v3)) {
      swift_beginAccess();
    }
  }
  else
  {
    __break(1u);
  }
}

void sub_246B8D34C()
{
  id v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D6A18);
  MEMORY[0x270FA5388](v2 - 8);
  char v4 = (char *)&v31 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2CB38();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  uint64_t v9 = (char *)&v31 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)&v31 - v10;
  uint64_t v12 = *(void **)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource];
  if (!v12)
  {
    __break(1u);
    return;
  }
  id v13 = v12;
  sub_246C2C348();

  if ((v33 & 1) == 0)
  {
    uint64_t v14 = v31;
    if (v32)
    {
      if (!v31) {
        return;
      }
      uint64_t v22 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes];
      swift_beginAccess();
      *(void *)uint64_t v22 = MEMORY[0x263F8EE78];
      swift_bridgeObjectRelease();
      sub_246B86BC8();
      uint64_t v34 = &type metadata for LemonadeFeatureFlags;
      unint64_t v35 = sub_246B8EB40();
      LOBYTE(v31) = 1;
      LOBYTE(v22) = sub_246C2C028();
      sub_246B8EB94((uint64_t)&v31);
      if (v22)
      {
        id v23 = objc_msgSend(self, sel_sharedPhotoLibrary);
        sub_246C2CAE8();
        sub_246C2CAD8();
        sub_246C2CB78();
        uint64_t v24 = sub_246C2CB88();
        (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v24 - 8) + 56))(v4, 0, 1, v24);
        sub_246C2CAA8();
        sub_246C2CB08();
        sub_246C2CB18();
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6A28);
        (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v9, v11, v5);
        id v25 = (void *)sub_246C2D018();
        sub_246B8ED2C((unint64_t *)&qword_2691D6A30, 255, (void (*)(uint64_t))type metadata accessor for ParmesanShuffleSelectionBaseViewController);
        swift_unknownObjectRetain();
        sub_246C2D028();
        if (qword_2691D6308 != -1) {
          swift_once();
        }
        uint64_t v26 = sub_246C2C088();
        sub_246B8BE0C(v26, (uint64_t)qword_2691E0168);
        uint64_t v27 = sub_246C2C068();
        os_log_type_t v28 = sub_246C2CF08();
        if (os_log_type_enabled(v27, v28))
        {
          unint64_t v29 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)unint64_t v29 = 0;
          _os_log_impl(&dword_246B51000, v27, v28, "Presenting collections picker", v29, 2u);
          MEMORY[0x24C545990](v29, -1, -1);
        }

        objc_msgSend(v1, sel_presentViewController_animated_completion_, v25, 1, 0);
        (*(void (**)(char *, uint64_t))(v6 + 8))(v11, v5);
      }
      else
      {
        sub_246BAC658();
      }
    }
    else
    {
      uint64_t v15 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection];
      *(void *)uint64_t v15 = 0;
      *((void *)v15 + 1) = 0;
      swift_bridgeObjectRelease();
      uint64_t v16 = &v0[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes];
      swift_beginAccess();
      double v17 = *(void **)v16;
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      *(void *)uint64_t v16 = v17;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        double v17 = sub_246BA5C20(0, v17[2] + 1, 1, v17);
        *(void *)uint64_t v16 = v17;
      }
      unint64_t v20 = v17[2];
      unint64_t v19 = v17[3];
      if (v20 >= v19 >> 1)
      {
        double v17 = sub_246BA5C20((void *)(v19 > 1), v20 + 1, 1, v17);
        *(void *)uint64_t v16 = v17;
      }
      v17[2] = v20 + 1;
      v17[v20 + 4] = v14;
      swift_endAccess();
      uint64_t v21 = (void *)swift_bridgeObjectRetain();
      sub_246B861F8(v21);
      swift_bridgeObjectRelease();
      if (v14 == 1) {
        sub_246B853D0();
      }
    }
    if (*(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8]
      || (uint64_t v30 = &v1[OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes],
          swift_beginAccess(),
          *(void *)(*(void *)v30 + 16)))
    {
      sub_246B87230(0);
    }
  }
}

void sub_246B8D884()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D6928);
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  uint64_t v5 = &v22[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v6 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource;
  uint64_t v7 = *(void **)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_diffableDataSource);
  if (!v7)
  {
    __break(1u);
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  id v8 = v7;
  sub_246C2C348();

  if (v25) {
    return;
  }
  uint64_t v9 = v23;
  if ((v24 & 1) == 0)
  {
    uint64_t v10 = (uint64_t *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes);
    swift_beginAccess();
    uint64_t v11 = *v10;
    uint64_t v12 = *(void *)(*v10 + 16);
    if (v12)
    {
      if (*(void *)(v11 + 32) == v9)
      {
        unint64_t v13 = 0;
LABEL_14:
        swift_beginAccess();
        sub_246BBB95C(v13);
        swift_endAccess();
      }
      else
      {
        unint64_t v13 = 0;
        uint64_t v18 = v11 + 40;
        uint64_t v19 = v12 - 1;
        while (v19 != v13)
        {
          uint64_t v20 = *(void *)(v18 + 8 * v13++);
          if (v20 == v9) {
            goto LABEL_14;
          }
        }
      }
    }
    if (v9 == 1) {
      sub_246B853D0();
    }
    goto LABEL_17;
  }
  if (!v23) {
    return;
  }
  uint64_t v14 = *(void **)(v0 + v6);
  if (!v14) {
    goto LABEL_22;
  }
  id v15 = v14;
  sub_246C2C3B8();

  sub_246C2C2C8();
  uint64_t v16 = *(void **)(v1 + v6);
  if (!v16)
  {
LABEL_23:
    __break(1u);
    return;
  }
  id v17 = v16;
  sub_246C2C398();

  (*(void (**)(unsigned char *, uint64_t))(v3 + 8))(v5, v2);
LABEL_17:
  if (*(void *)(v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedCollection + 8)
    || (uint64_t v21 = v1 + OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedSuggestionsTypes,
        swift_beginAccess(),
        *(void *)(*(void *)v21 + 16)))
  {
    sub_246B87230(0);
  }
}

uint64_t sub_246B8DAEC(uint64_t a1, uint64_t a2)
{
  *(void *)(v2 + 40) = a1;
  *(void *)(v2 + 48) = a2;
  return MEMORY[0x270FA2498](sub_246B8DB0C, 0, 0);
}

uint64_t sub_246B8DB0C()
{
  unint64_t v1 = *(void *)(v0 + 40);
  if (v1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v2 = sub_246C2D3B8();
  }
  else
  {
    uint64_t v2 = *(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
  }
  *(void *)(v0 + 56) = v2;
  uint64_t v3 = *(void *)(v0 + 40);
  if (!v2)
  {
    swift_bridgeObjectRelease();
    uint64_t v6 = *(void *)(v0 + 8);
    __asm { BRAA            X2, X16 }
  }
  uint64_t v4 = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedNumeralsOption;
  *(void *)(v0 + 64) = OBJC_IVAR___NTKParmesanShuffleSelectionViewController_selectedTypeface;
  *(void *)(v0 + 72) = v4;
  *(_OWORD *)(v0 + 80) = *MEMORY[0x263F5DEA0];
  *(void *)(v0 + 96) = MEMORY[0x263F8EE78];
  if ((v3 & 0xC000000000000001) != 0) {
    id v5 = (id)MEMORY[0x24C544350](0);
  }
  else {
    id v5 = *(id *)(v3 + 32);
  }
  uint64_t v7 = v5;
  *(void *)(v0 + 104) = v5;
  *(void *)(v0 + 112) = 1;
  if (sub_246C2CE38())
  {
    swift_bridgeObjectRelease();
    sub_246C2CDC8();
    sub_246B8ED2C(&qword_2691D6990, 255, MEMORY[0x263F8F488]);
    swift_allocError();
    sub_246C2CB98();
    swift_willThrow();

    swift_bridgeObjectRelease();
    uint64_t v8 = *(void *)(v0 + 8);
    __asm { BRAA            X1, X16 }
  }
  *(void *)(v0 + 120) = sub_246C2CE08();
  *(void *)(v0 + 128) = sub_246C2CDF8();
  uint64_t v10 = sub_246C2CDA8();
  *(void *)(v0 + 136) = v10;
  *(void *)(v0 + 144) = v9;
  return MEMORY[0x270FA2498](sub_246B8DD64, v10, v9);
}

uint64_t sub_246B8DD64()
{
  unint64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
  uint64_t v2 = (char *)objc_allocWithZone(v1);
  *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
  v0[1].receiver = v2;
  v0[1].super_class = v1;
  v0[9].super_class = (Class)objc_msgSendSuper2(v0 + 1, sel_init);
  v0[10].receiver = (id)sub_246C2CDF8();
  uint64_t v4 = sub_246C2CDA8();
  v0[10].super_class = (Class)v4;
  v0[11].receiver = v3;
  return MEMORY[0x270FA2498](sub_246B8DE40, v4, v3);
}

uint64_t sub_246B8DE40()
{
  uint64_t v1 = v0[13];
  uint64_t v3 = v0[10];
  uint64_t v2 = v0[11];
  id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14E40]), sel_init);
  v0[23] = v4;
  objc_msgSend(v4, sel_setVersion_, 0);
  objc_msgSend(v4, sel_setDeliveryMode_, 1);
  objc_msgSend(v4, sel_setNetworkAccessAllowed_, 1);
  objc_msgSend(v4, sel_setSynchronous_, 1);
  uint64_t v5 = sub_246C2CDF8();
  v0[24] = v5;
  uint64_t v6 = (void *)swift_task_alloc();
  v0[25] = v6;
  v6[2] = v1;
  v6[3] = v3;
  void v6[4] = v2;
  v6[5] = v4;
  uint64_t v7 = (void *)swift_task_alloc();
  v0[26] = v7;
  uint64_t v8 = sub_246B80250(&qword_2691D6988);
  *uint64_t v7 = v0;
  v7[1] = sub_246B8DFE4;
  uint64_t v9 = MEMORY[0x263F8F500];
  return MEMORY[0x270FA2318](v0 + 4, v5, v9, 0xD00000000000001FLL, 0x8000000246C3AD90, sub_246B8E5D4, v6, v8);
}

uint64_t sub_246B8DFE4()
{
  uint64_t v1 = *v0;
  swift_task_dealloc();
  swift_release();
  swift_task_dealloc();
  uint64_t v2 = *(void *)(v1 + 176);
  uint64_t v3 = *(void *)(v1 + 168);
  return MEMORY[0x270FA2498](sub_246B8E144, v3, v2);
}

uint64_t sub_246B8E144()
{
  swift_release();
  *(void *)(v0 + 216) = *(void *)(v0 + 32);
  uint64_t v1 = *(void *)(v0 + 136);
  uint64_t v2 = *(void *)(v0 + 144);
  return MEMORY[0x270FA2498](sub_246B8E1BC, v1, v2);
}

uint64_t sub_246B8E1BC()
{
  uint64_t v1 = *(void *)(v0 + 216);
  swift_release();
  if (v1)
  {
    uint64_t v2 = *(void **)(v0 + 216);
    uint64_t v3 = self;
    id v4 = v2;
    uint64_t v5 = (uint64_t (*)())objc_msgSend(v3, sel_currentDevice);
    if (!v5)
    {
      __break(1u);
      return MEMORY[0x270FA2498](v5, v6, v7);
    }
    uint64_t v8 = v5;
    NTKPhotosDefaultCropForImage();
    uint64_t v10 = v9;
    uint64_t v12 = v11;
    uint64_t v14 = v13;
    uint64_t v16 = v15;
  }
  else
  {
    uint64_t v14 = 0;
    uint64_t v16 = 0;
    uint64_t v10 = 0;
    uint64_t v12 = 0;
  }
  *(void *)(v0 + 240) = v10;
  *(void *)(v0 + 248) = v12;
  *(void *)(v0 + 224) = v14;
  *(void *)(v0 + 232) = v16;
  uint64_t v18 = *(void *)(v0 + 64);
  uint64_t v17 = *(void *)(v0 + 72);
  uint64_t v19 = *(void *)(v0 + 48);
  id v20 = objc_msgSend(*(id *)(v0 + 104), sel_localIdentifier);
  uint64_t v21 = sub_246C2CC48();
  uint64_t v23 = v22;

  *(void *)(v0 + 256) = v21;
  *(void *)(v0 + 264) = v23;
  *(void *)(v0 + 272) = *(void *)(v19 + v18);
  *(void *)(v0 + 280) = *(void *)(v19 + v17);
  uint64_t v5 = sub_246B8E314;
  uint64_t v6 = 0;
  uint64_t v7 = 0;
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_246B8E314()
{
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v2 = *(void **)(v0 + 96);
  if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
    uint64_t v2 = sub_246BA60E0(0, v2[2] + 1, 1, *(void **)(v0 + 96));
  }
  unint64_t v4 = v2[2];
  unint64_t v3 = v2[3];
  if (v4 >= v3 >> 1) {
    uint64_t v2 = sub_246BA60E0((void *)(v3 > 1), v4 + 1, 1, v2);
  }
  uint64_t v5 = *(void *)(v0 + 216);
  uint64_t v6 = *(void *)(v0 + 152);
  uint64_t v7 = *(void **)(v0 + 104);
  uint64_t v8 = *(void *)(v0 + 112);
  uint64_t v9 = *(void *)(v0 + 56);
  uint64_t v10 = &v2[10 * v4];
  long long v12 = *(_OWORD *)(v0 + 224);
  long long v11 = *(_OWORD *)(v0 + 240);
  long long v13 = *(_OWORD *)(v0 + 256);
  long long v14 = *(_OWORD *)(v0 + 272);
  v2[2] = v4 + 1;
  *((_OWORD *)v10 + 2) = v13;
  v10[6] = v5;
  *(_OWORD *)(v10 + 7) = v11;
  *(_OWORD *)(v10 + 9) = v12;
  v10[11] = v6;
  *((_OWORD *)v10 + 6) = v14;

  if (v8 == v9)
  {
    swift_bridgeObjectRelease();
    uint64_t v15 = *(void *)(v0 + 8);
    __asm { BRAA            X2, X16 }
  }
  uint64_t v16 = *(void *)(v0 + 112);
  *(void *)(v0 + 96) = v2;
  uint64_t v17 = *(void *)(v0 + 40);
  if ((v17 & 0xC000000000000001) != 0) {
    uint64_t v18 = (uint64_t (*)())MEMORY[0x24C544350](v16);
  }
  else {
    uint64_t v18 = (uint64_t (*)())*(id *)(v17 + 8 * v16 + 32);
  }
  uint64_t v21 = v18;
  *(void *)(v0 + 104) = v18;
  *(void *)(v0 + 112) = v16 + 1;
  if (__OFADD__(v16, 1))
  {
    __break(1u);
  }
  else
  {
    if (sub_246C2CE38())
    {
      swift_bridgeObjectRelease();
      sub_246C2CDC8();
      sub_246B8ED2C(&qword_2691D6990, 255, MEMORY[0x263F8F488]);
      swift_allocError();
      sub_246C2CB98();
      swift_willThrow();

      swift_bridgeObjectRelease();
      uint64_t v22 = *(void *)(v0 + 8);
      __asm { BRAA            X1, X16 }
    }
    *(void *)(v0 + 120) = sub_246C2CE08();
    *(void *)(v0 + 128) = sub_246C2CDF8();
    uint64_t v23 = sub_246C2CDA8();
    uint64_t v20 = v24;
    *(void *)(v0 + 136) = v23;
    *(void *)(v0 + 144) = v24;
    uint64_t v18 = sub_246B8DD64;
    uint64_t v19 = v23;
  }
  return MEMORY[0x270FA2498](v18, v19, v20);
}

uint64_t sub_246B8E5B8()
{
  return sub_246BC9B84(*(void *)(v0 + 16), *(void *)(v0 + 24));
}

void sub_246B8E5D4(uint64_t a1)
{
  sub_246B8A2B8(a1, *(void **)(v1 + 16), *(void *)(v1 + 40), *(double *)(v1 + 24), *(double *)(v1 + 32));
}

uint64_t sub_246B8E5E4()
{
  uint64_t v1 = sub_246B80250(&qword_2691D6998);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return MEMORY[0x270FA0238](v0, v5, v6);
}

void sub_246B8E6B4(void *a1, uint64_t a2)
{
  sub_246B80250(&qword_2691D6998);
  uint64_t v5 = *(void **)(v2 + 16);

  sub_246B8A57C(a1, a2, v5);
}

uint64_t sub_246B8E73C(uint64_t a1)
{
  return a1;
}

uint64_t sub_246B8E790(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 24);
  *(void *)(a2 + 24) = v3;
  (**(void (***)(uint64_t, uint64_t))(v3 - 8))(a2, a1);
  return a2;
}

id sub_246B8E7EC()
{
  return objc_msgSend(*(id *)(*(void *)(*(void *)(*(void *)(v0 + 16)+ OBJC_IVAR___NTKParmesanShuffleSelectionViewController_floatingButtonTray)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton), sel_setEnabled_, 0);
}

uint64_t sub_246B8E82C()
{
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 40, 7);
}

void sub_246B8E874(unint64_t a1)
{
  sub_246B885C4(a1, *(void **)(v1 + 16), *(char **)(v1 + 24), *(void **)(v1 + 32));
}

uint64_t sub_246B8E884()
{
  swift_unknownObjectRelease();

  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_246B8E8CC(uint64_t a1)
{
  uint64_t v4 = v1[2];
  uint64_t v5 = v1[3];
  uint64_t v7 = v1[4];
  uint64_t v6 = v1[5];
  uint64_t v8 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v8;
  void *v8 = v2;
  v8[1] = sub_246B8F220;
  return sub_246B88B00(a1, v4, v5, v7, v6);
}

uint64_t sub_246B8E98C()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246B8E9C4()
{
  sub_246B87BA8(v0);
}

uint64_t sub_246B8E9CC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D69E8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_246B8EA34(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_246B80250(a2);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v3 - 8) + 8))(a1, v3);
  return a1;
}

unint64_t sub_246B8EA90()
{
  unint64_t result = qword_2691D69F8;
  if (!qword_2691D69F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D69F8);
  }
  return result;
}

unint64_t sub_246B8EAE4()
{
  unint64_t result = qword_2691D6A00;
  if (!qword_2691D6A00)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6A00);
  }
  return result;
}

void sub_246B8EB38(uint64_t a1)
{
  sub_246B85058(a1, *(void **)(v1 + 16));
}

unint64_t sub_246B8EB40()
{
  unint64_t result = qword_2691D6A20;
  if (!qword_2691D6A20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6A20);
  }
  return result;
}

uint64_t sub_246B8EB94(uint64_t a1)
{
  uint64_t v1 = *(void *)(*(void *)(a1 + 24) - 8);
  if ((*(unsigned char *)(v1 + 82) & 2) != 0) {
    return swift_release();
  }
  else {
    return (*(uint64_t (**)(void))(v1 + 8))();
  }
}

uint64_t *sub_246B8EBE4(uint64_t *a1)
{
  uint64_t v1 = a1;
  if ((*(unsigned char *)(*(void *)(a1[3] - 8) + 82) & 2) != 0)
  {
    *a1 = swift_allocBox();
    return (uint64_t *)v2;
  }
  return v1;
}

uint64_t sub_246B8EC48()
{
  return sub_246C006CC() & 1;
}

uint64_t sub_246B8EC68()
{
  return sub_246B841EC();
}

uint64_t sub_246B8EC8C@<X0>(uint64_t a1@<X8>)
{
  return sub_246B84818(v1, a1);
}

uint64_t sub_246B8EC94(unint64_t *a1, uint64_t *a2)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_246B8BEB0(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_246B8ECD8()
{
  unint64_t result = qword_2691D6A68;
  if (!qword_2691D6A68)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6A68);
  }
  return result;
}

uint64_t sub_246B8ED2C(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246B8ED74(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v5 = sub_246B80250(a3);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 32))(a2, a1, v5);
  return a2;
}

uint64_t sub_246B8EDD8(uint64_t a1)
{
  return a1;
}

uint64_t sub_246B8EE04(uint64_t result)
{
  if (result) {
    return swift_retain();
  }
  return result;
}

uint64_t sub_246B8EE14(uint64_t a1)
{
  return a1;
}

uint64_t sub_246B8EE40(unint64_t a1, uint64_t a2)
{
  return sub_246B82E1C(a1, a2, v2);
}

void sub_246B8EE48(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  if (a2)
  {
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    sub_246B8EE04(a5);
    sub_246B8EE04(a7);
  }
}

void sub_246B8EEC4()
{
  sub_246B81394(v0);
}

void sub_246B8EECC()
{
  sub_246B813E8(v0);
}

uint64_t sub_246B8EED4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_246C2CA28();
  uint64_t v18 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  uint64_t v8 = (char *)&v17 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_246C2CA48();
  uint64_t v9 = *(void *)(v17 - 8);
  MEMORY[0x270FA5388](v17);
  long long v11 = (char *)&v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  long long v12 = (void *)sub_246C2CF68();
  uint64_t v13 = swift_allocObject();
  *(void *)(v13 + 16) = v3;
  void aBlock[4] = a2;
  aBlock[5] = v13;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B9B974;
  aBlock[3] = a3;
  long long v14 = _Block_copy(aBlock);
  id v15 = v3;
  swift_release();
  sub_246C2CA38();
  aBlock[0] = MEMORY[0x263F8EE78];
  sub_246B8ED2C((unint64_t *)&qword_2691D6938, 255, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246B8EC94((unint64_t *)&qword_2691D6948, &qword_2691D6940);
  sub_246C2D208();
  MEMORY[0x24C544020](0, v11, v8, v14);
  _Block_release(v14);

  (*(void (**)(char *, uint64_t))(v18 + 8))(v8, v6);
  return (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v11, v17);
}

void sub_246B8F1AC()
{
}

uint64_t sub_246B8F1D0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_246B826B0(a1, a2, a3, v3);
}

uint64_t sub_246B8F1D8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_246B8274C(a1, a2, a3, a4, v4);
}

uint64_t sub_246B8F1E0(uint64_t a1, unint64_t *a2)
{
  uint64_t result = *a2;
  if (!*a2)
  {
    self;
    uint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, a2);
  }
  return result;
}

uint64_t sub_246B8F274()
{
  return sub_246B8C044();
}

uint64_t sub_246B8F28C()
{
  return sub_246B8E5B8();
}

uint64_t sub_246B8F2A8(void *a1)
{
  uint64_t v4 = sub_246C2BB98();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v10[-1] - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246C2D6D8();
  if (v2)
  {
    type metadata accessor for URLEncodeLastPathComponentOnly();
    swift_deallocPartialClassInstance();
  }
  else
  {
    sub_246B8F7E8(v10, v10[3]);
    sub_246B8F82C();
    sub_246C2D588();
    (*(void (**)(uint64_t, char *, uint64_t))(v5 + 32))(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30URLEncodeLastPathComponentOnly_wrappedValue, v7, v4);
    sub_246B8EB94((uint64_t)v10);
  }
  sub_246B8EB94((uint64_t)a1);
  return v1;
}

uint64_t sub_246B8F468(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2BB98();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = &v10[-((v6 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  sub_246B8F7E8(a1, a1[3]);
  sub_246C2D6F8();
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v5 + 16))(v7, v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30URLEncodeLastPathComponentOnly_wrappedValue, v4);
  sub_246C2BAB8();
  (*(void (**)(unsigned char *, uint64_t))(v5 + 8))(v7, v4);
  sub_246B8F884((uint64_t)v10, v11);
  sub_246C2D598();
  swift_bridgeObjectRelease();
  return sub_246B8EB94((uint64_t)v10);
}

uint64_t sub_246B8F5E4()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30URLEncodeLastPathComponentOnly_wrappedValue;
  uint64_t v2 = sub_246C2BB98();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);

  return swift_deallocClassInstance();
}

uint64_t sub_246B8F684()
{
  return type metadata accessor for URLEncodeLastPathComponentOnly();
}

uint64_t type metadata accessor for URLEncodeLastPathComponentOnly()
{
  uint64_t result = qword_2691D6B10;
  if (!qword_2691D6B10) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246B8F6D8()
{
  uint64_t result = sub_246C2BB98();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_246B8F768@<X0>(void *a1@<X0>, uint64_t *a2@<X8>)
{
  type metadata accessor for URLEncodeLastPathComponentOnly();
  uint64_t v5 = swift_allocObject();
  uint64_t result = sub_246B8F2A8(a1);
  if (!v2) {
    *a2 = v5;
  }
  return result;
}

uint64_t sub_246B8F7C4(void *a1)
{
  return sub_246B8F468(a1);
}

void *sub_246B8F7E8(void *result, uint64_t a2)
{
  if ((*(_DWORD *)(*(void *)(a2 - 8) + 80) & 0x20000) != 0) {
    return (void *)(*result
  }
                    + ((*(_DWORD *)(*(void *)(a2 - 8) + 80) + 16) & ~(unint64_t)*(_DWORD *)(*(void *)(a2 - 8) + 80)));
  return result;
}

unint64_t sub_246B8F82C()
{
  unint64_t result = qword_2691D6B20;
  if (!qword_2691D6B20)
  {
    sub_246C2BB98();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6B20);
  }
  return result;
}

uint64_t sub_246B8F884(uint64_t a1, uint64_t a2)
{
  if ((*(_DWORD *)(*(void *)(a2 - 8) + 80) & 0x20000) != 0)
  {
    swift_makeBoxUnique();
    return v2;
  }
  return result;
}

void **initializeBufferWithCopyOfBuffer for ParmesanTimeEffectStyle(void **a1, void **a2)
{
  uint64_t v3 = *a2;
  *a1 = *a2;
  id v4 = v3;
  return a1;
}

void destroy for ParmesanTimeEffectStyle(id *a1)
{
}

void **assignWithCopy for ParmesanTimeEffectStyle(void **a1, void **a2)
{
  uint64_t v3 = *a2;
  id v4 = *a1;
  *a1 = *a2;
  id v5 = v3;

  return a1;
}

void *initializeWithTake for ParmesanTimeEffectStyle(void *result, void *a2)
{
  *uint64_t result = *a2;
  return result;
}

void **assignWithTake for ParmesanTimeEffectStyle(void **a1, void **a2)
{
  uint64_t v3 = *a1;
  *a1 = *a2;

  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanTimeEffectStyle(uint64_t *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0x7FFFFFFF && *((unsigned char *)a1 + 8)) {
    return (*(_DWORD *)a1 + 0x7FFFFFFF);
  }
  uint64_t v3 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v3) = -1;
  }
  if ((v3 + 1) >= 2) {
    return v3;
  }
  else {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for ParmesanTimeEffectStyle(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0x7FFFFFFE)
  {
    *(void *)uint64_t result = 0;
    *(_DWORD *)uint64_t result = a2 - 0x7FFFFFFF;
    if (a3 >= 0x7FFFFFFF) {
      *(unsigned char *)(result + 8) = 1;
    }
  }
  else
  {
    if (a3 >= 0x7FFFFFFF) {
      *(unsigned char *)(result + 8) = 0;
    }
    if (a2) {
      *(void *)uint64_t result = a2;
    }
  }
  return result;
}

uint64_t sub_246B8FA28(uint64_t *a1)
{
  uint64_t v1 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v1) = -1;
  }
  return (v1 + 1);
}

void *sub_246B8FA40(void *result, int a2)
{
  if (a2 < 0)
  {
    unsigned int v2 = a2 ^ 0x80000000;
  }
  else
  {
    if (!a2) {
      return result;
    }
    unsigned int v2 = a2 - 1;
  }
  *uint64_t result = v2;
  return result;
}

ValueMetadata *type metadata accessor for ParmesanTimeEffectStyle()
{
  return &type metadata for ParmesanTimeEffectStyle;
}

unint64_t sub_246B8FA74()
{
  unint64_t result = qword_2691D6B28;
  if (!qword_2691D6B28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6B28);
  }
  return result;
}

BOOL sub_246B8FAC8(void **a1, void **a2)
{
  unsigned int v2 = *a1;
  uint64_t v3 = *a2;
  BOOL result = ((unint64_t)*a1 | (unint64_t)*a2) == 0;
  if (v2) {
    BOOL v5 = v3 == 0;
  }
  else {
    BOOL v5 = 1;
  }
  if (!v5)
  {
    sub_246B8FC54();
    id v6 = v2;
    id v7 = v3;
    char v8 = sub_246C2D108();

    return v8 & 1;
  }
  return result;
}

uint64_t sub_246B8FB44()
{
  uint64_t v1 = *v0;
  sub_246C2D668();
  if (v1)
  {
    id v2 = v1;
    sub_246C2D118();
  }
  return sub_246C2D6B8();
}

void sub_246B8FB98()
{
  if (*v0)
  {
    id v1 = *v0;
    sub_246C2D118();
  }
}

uint64_t sub_246B8FC04()
{
  id v1 = *v0;
  sub_246C2D668();
  if (v1)
  {
    id v2 = v1;
    sub_246C2D118();
  }
  return sub_246C2D6B8();
}

unint64_t sub_246B8FC54()
{
  unint64_t result = qword_2691D6B30;
  if (!qword_2691D6B30)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6B30);
  }
  return result;
}

uint64_t sub_246B8FC9C()
{
  return swift_initClassMetadata2();
}

void sub_246B8FD40()
{
}

void sub_246B8FD50(uint64_t a1)
{
  id v2 = *(void **)(v1 + qword_2691D6B68);
  *(void *)(v1 + qword_2691D6B68) = a1;
}

void sub_246B8FD64(uint64_t a1)
{
  id v2 = *(void **)(v1 + qword_2691D6B70);
  *(void *)(v1 + qword_2691D6B70) = a1;
}

uint64_t sub_246B8FD78(uint64_t a1)
{
  *(void *)(v1 + qword_2691D6B78) = a1;
  return swift_bridgeObjectRelease();
}

uint64_t sub_246B8FD90()
{
  return *(unsigned __int8 *)(v0 + qword_2691D6B80);
}

uint64_t sub_246B8FDA0(uint64_t result)
{
  *(unsigned char *)(v1 + qword_2691D6B80) = result;
  return result;
}

uint64_t sub_246B8FDB0()
{
  return *(unsigned __int8 *)(v0 + qword_2691D6B88);
}

uint64_t sub_246B8FDC0(uint64_t result)
{
  *(unsigned char *)(v1 + qword_2691D6B88) = result;
  return result;
}

id sub_246B8FDD0()
{
  id v1 = objc_msgSend(*(id *)(v0 + qword_2691D6B40), sel_selectedOptionForCustomEditMode_slot_, 19, 0);
  if (v1)
  {
    id v2 = v1;
    type metadata accessor for ParmesanNumeralsEditOption();
    uint64_t v3 = (void *)swift_dynamicCastClass();
    if (v3)
    {
      id v4 = objc_msgSend(v3, sel_numeralOption);
LABEL_7:
      id v7 = v4;

      return v7;
    }
  }
  id result = objc_msgSend(self, sel_currentDevice);
  if (result)
  {
    id v6 = result;
    type metadata accessor for ParmesanNumeralsEditOption();
    id v2 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_defaultOptionForDevice_, v6);

    id v4 = objc_msgSend(v2, sel_numeralOption);
    goto LABEL_7;
  }
  __break(1u);
  return result;
}

uint64_t sub_246B8FEB8()
{
  id v1 = objc_msgSend(*(id *)(v0 + qword_2691D6B40), sel_selectedOptionForCustomEditMode_slot_, 13, 0);
  if (!v1) {
    return 2;
  }
  id v2 = v1;
  type metadata accessor for ParmesanTypefaceEditOption();
  uint64_t v3 = (void *)swift_dynamicCastClass();
  if (!v3)
  {

    return 2;
  }
  id v4 = objc_msgSend(v3, sel__value);

  if (v4 == (id)2) {
    return 2;
  }
  else {
    return v4 == (id)1;
  }
}

void sub_246B8FF4C(uint64_t a1, uint64_t a2, void *a3)
{
  id v3 = a3;
  sub_246B98094();
}

id sub_246B8FF74()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ParmesanFacePreviewViewController();
  objc_msgSendSuper2(&v2, sel_viewDidLoad);
  sub_246B9053C();
  return sub_246B90730();
}

void sub_246B8FFD8(void *a1)
{
  id v1 = a1;
  sub_246B8FF74();
}

void sub_246B90020(char a1)
{
  v4.receiver = v1;
  v4.super_class = (Class)type metadata accessor for ParmesanFacePreviewViewController();
  objc_msgSendSuper2(&v4, sel_viewWillAppear_, a1 & 1);
  id v3 = objc_msgSend(v1, sel_presentedViewController);

  if (v3) {
    sub_246B90E18();
  }
  sub_246B921CC();
  sub_246B9245C();
}

void sub_246B900CC(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_246B90020(a3);
}

id sub_246B90120(char a1, char a2)
{
  uint64_t v5 = *MEMORY[0x263F8EED0] & *v2;
  uint64_t v6 = sub_246C2BCD8();
  uint64_t v7 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  uint64_t v9 = (char *)v30 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v10 - 8);
  long long v12 = (char *)v30 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = (objc_class *)type metadata accessor for ParmesanFacePreviewViewController();
  v38.receiver = v2;
  v38.super_class = v13;
  uint64_t v14 = a1 & 1;
  objc_msgSendSuper2(&v38, sel_setEditing_animated_, v14, a2 & 1);
  id v15 = *(void **)((char *)v2 + qword_2691D6B68);
  if (!v15)
  {
    __break(1u);
    goto LABEL_14;
  }
  objc_msgSend(v15, sel_setEditing_, v14);
  sub_246B921CC();
  sub_246B9245C();
  uint64_t v16 = *(void **)((char *)v2 + qword_2691D6B68);
  if (!v16)
  {
LABEL_14:
    __break(1u);
    (*v32)(v5, v6);
    id result = (id)swift_bridgeObjectRelease();
    __break(1u);
    return result;
  }
  id result = objc_msgSend(v16, sel_indexPathsForSelectedItems);
  if (result)
  {
    uint64_t v18 = result;
    uint64_t v19 = sub_246C2CD38();

    uint64_t v20 = *(void *)(v19 + 16);
    v30[1] = v19;
    if (v20)
    {
      uint64_t v34 = v9;
      unint64_t v35 = v2;
      uint64_t v21 = *(void (**)(char *, unint64_t, uint64_t))(v7 + 16);
      uint64_t v22 = v7 + 16;
      unint64_t v23 = v19 + ((*(unsigned __int8 *)(v7 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80));
      uint64_t v24 = *(void *)(v22 + 56);
      unint64_t v25 = v22 + 40;
      uint64_t v26 = (unsigned int (**)(char *, uint64_t, uint64_t))(v22 + 32);
      uint64_t v27 = (void (**)(uint64_t, char *, uint64_t))(v22 + 16);
      uint64_t v36 = v21;
      uint64_t v37 = v22;
      char v32 = (void (**)(uint64_t, uint64_t))(v22 - 8);
      uint64_t v33 = v24;
      swift_bridgeObjectRetain();
      v30[0] = v25 & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
      int v31 = a2 & 1;
      uint64_t v28 = (uint64_t)v34;
      while (1)
      {
        v36(v12, v23, v6);
        unint64_t v29 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))v25;
        (*(void (**)(char *, void, uint64_t, uint64_t))v25)(v12, 0, 1, v6);
        if ((*v26)(v12, 1, v6) == 1) {
          break;
        }
        (*v27)(v28, v12, v6);
        sub_246B90468(v28, (uint64_t)v35, v31);
        (*v32)(v28, v6);
        v23 += v33;
        if (!--v20) {
          goto LABEL_10;
        }
      }
    }
    else
    {
      unint64_t v29 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56);
      swift_bridgeObjectRetain();
LABEL_10:
      v29(v12, 1, 1, v6);
    }
    return (id)swift_bridgeObjectRelease_n();
  }
  return result;
}

void sub_246B90468(uint64_t a1, uint64_t a2, char a3)
{
  id v3 = *(void **)(a2 + qword_2691D6B68);
  if (v3)
  {
    id v5 = v3;
    uint64_t v6 = (void *)sub_246C2BC78();
    objc_msgSend(v5, sel_deselectItemAtIndexPath_animated_, v6, a3 & 1);
  }
  else
  {
    __break(1u);
  }
}

void sub_246B904E0(void *a1, uint64_t a2, char a3, char a4)
{
  id v6 = a1;
  sub_246B90120(a3, a4);
}

void sub_246B9053C()
{
  objc_msgSend(v0, sel_setModalInPresentation_, 1);
  id v1 = objc_msgSend(v0, sel_view);
  if (v1)
  {
    objc_super v2 = v1;
    id v3 = objc_msgSend(self, sel_systemBackgroundColor);
    objc_msgSend(v2, sel_setBackgroundColor_, v3);

    id v4 = objc_msgSend(v0, sel_navigationItem);
    objc_msgSend(v4, sel_setLargeTitleDisplayMode_, 2);

    id v5 = objc_msgSend(v0, sel_navigationItem);
    id v6 = sub_246B94CA4();
    objc_msgSend(v5, sel_setLeftBarButtonItem_, v6);

    id v7 = objc_msgSend(v0, sel_navigationItem);
    id v8 = sub_246B94F10();
    objc_msgSend(v7, sel_setRightBarButtonItem_, v8);

    sub_246B94A04();
    sub_246B8F1E0(0, &qword_2691D6DD8);
    uint64_t v9 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    objc_msgSend(v0, sel_setToolbarItems_, v9);

    id v10 = objc_msgSend(v0, sel_navigationController);
    if (v10)
    {
      id v11 = v10;
      objc_msgSend(v10, sel_setToolbarHidden_, 0);
    }
  }
  else
  {
    __break(1u);
  }
}

id sub_246B90730()
{
  id result = objc_msgSend(v0, sel_view);
  if (!result)
  {
    __break(1u);
    goto LABEL_19;
  }
  objc_super v2 = result;
  objc_msgSend(result, sel_bounds);
  double v4 = v3;
  double v6 = v5;
  double v8 = v7;
  double v10 = v9;

  id v11 = sub_246B909E8();
  id v12 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82528]), sel_initWithFrame_collectionViewLayout_, v11, v4, v6, v8, v10);

  uint64_t v13 = *(void **)&v0[qword_2691D6B68];
  *(void *)&v0[qword_2691D6B68] = v12;

  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  id result = objc_msgSend(result, sel_setAutoresizingMask_, 18);
  uint64_t v14 = *(void **)&v0[qword_2691D6B68];
  if (!v14)
  {
LABEL_20:
    __break(1u);
    goto LABEL_21;
  }
  id v15 = v14;
  id result = objc_msgSend(v0, sel_view);
  if (!result)
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v16 = result;
  id v17 = objc_msgSend(result, sel_backgroundColor);

  objc_msgSend(v15, sel_setBackgroundColor_, v17);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  objc_msgSend(result, sel_setDragInteractionEnabled_, 1);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  objc_msgSend(result, sel_setDelegate_, v0);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  objc_msgSend(result, sel_setDropDelegate_, v0);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_25:
    __break(1u);
    goto LABEL_26;
  }
  objc_msgSend(result, sel_setDragDelegate_, v0);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_26:
    __break(1u);
    goto LABEL_27;
  }
  objc_msgSend(result, sel_setAllowsSelection_, 1);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_27:
    __break(1u);
    goto LABEL_28;
  }
  objc_msgSend(result, sel_setAllowsSelectionDuringEditing_, 1);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_28:
    __break(1u);
    goto LABEL_29;
  }
  objc_msgSend(result, sel_setAllowsMultipleSelection_, 1);
  id result = *(id *)&v0[qword_2691D6B68];
  if (!result)
  {
LABEL_29:
    __break(1u);
    goto LABEL_30;
  }
  objc_msgSend(result, sel_setAllowsMultipleSelectionDuringEditing_, 1);
  id result = objc_msgSend(v0, sel_view);
  if (!result)
  {
LABEL_30:
    __break(1u);
    goto LABEL_31;
  }
  if (!*(void *)&v0[qword_2691D6B68])
  {
LABEL_31:
    __break(1u);
    return result;
  }
  uint64_t v18 = result;
  objc_msgSend(result, sel_addSubview_);

  sub_246B91210();

  return (id)sub_246B90E18();
}

id sub_246B909E8()
{
  uint64_t v1 = qword_2691D6B90;
  objc_super v2 = *(void **)(v0 + qword_2691D6B90);
  if (v2)
  {
    id v3 = *(id *)(v0 + qword_2691D6B90);
  }
  else
  {
    id v4 = sub_246B90A48();
    double v5 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v4;
    id v3 = v4;

    objc_super v2 = 0;
  }
  id v6 = v2;
  return v3;
}

id sub_246B90A48()
{
  uint64_t v0 = self;
  id v1 = objc_msgSend(v0, sel_fractionalWidthDimension_, 1.0);
  id v2 = objc_msgSend(v0, sel_fractionalHeightDimension_, 1.0);
  id v3 = self;
  id v4 = objc_msgSend(v3, sel_sizeWithWidthDimension_heightDimension_, v1, v2);

  id v5 = objc_msgSend(self, sel_itemWithLayoutSize_, v4);
  id v6 = objc_msgSend(v0, sel_fractionalWidthDimension_, 1.0);
  id v7 = objc_msgSend(v0, sel_estimatedDimension_, 140.0);
  id v8 = objc_msgSend(v3, sel_sizeWithWidthDimension_heightDimension_, v6, v7);

  id v9 = objc_msgSend(self, sel_horizontalGroupWithLayoutSize_subitem_count_, v8, v5, 3);
  id v10 = objc_msgSend(self, sel_fixedSpacing_, 10.0);
  objc_msgSend(v9, sel_setInterItemSpacing_, v10);

  id v11 = objc_msgSend(self, sel_sectionWithGroup_, v9);
  objc_msgSend(v11, sel_setInterGroupSpacing_, 10.0);
  objc_msgSend(v11, sel_setContentInsets_, 0.0, 10.0, 0.0, 10.0);
  id v12 = objc_msgSend(v0, sel_fractionalWidthDimension_, 1.0);
  id v13 = objc_msgSend(v0, sel_estimatedDimension_, 200.0);
  id v14 = objc_msgSend(v3, sel_sizeWithWidthDimension_heightDimension_, v12, v13);

  id v15 = (void *)sub_246C2CC08();
  id v16 = objc_msgSend(self, sel_boundarySupplementaryItemWithLayoutSize_elementKind_alignment_, v14, v15, 1);

  objc_msgSend(v16, sel_setZIndex_, 2);
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = xmmword_246C33610;
  *(void *)(v17 + 32) = v16;
  sub_246C2CD58();
  sub_246B8F1E0(0, &qword_2691D6E30);
  id v18 = v16;
  uint64_t v19 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v11, sel_setBoundarySupplementaryItems_, v19);

  objc_msgSend(v11, sel_setSupplementaryContentInsetsReference_, 1);
  id v20 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82540]), sel_initWithSection_, v11);

  return v20;
}

uint64_t sub_246B90E18()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D6DF8);
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  id v5 = (char *)v11 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2C408();
  id v6 = objc_msgSend(*(id *)(v0 + qword_2691D6B50), sel_imageIdentifiers);
  uint64_t v7 = sub_246C2CD38();

  *(void *)(v1 + qword_2691D6B78) = v7;
  swift_bridgeObjectRelease();
  v11[0] = 0;
  v11[1] = 0;
  swift_bridgeObjectRetain();
  sub_246C2C3F8();
  uint64_t result = swift_bridgeObjectRelease();
  id v9 = *(void **)(v1 + qword_2691D6B70);
  if (v9)
  {
    id v10 = v9;
    sub_246C2C3A8();

    sub_246B921CC();
    sub_246B9245C();
    return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  }
  else
  {
    __break(1u);
  }
  return result;
}

uint64_t sub_246B90FC0(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246B80250((uint64_t *)&unk_2691D6E20);
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2BCD8();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t result = MEMORY[0x270FA5388](v8);
  id v12 = (char *)&v22 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v13 = *(void **)(v2 + qword_2691D6B70);
  if (!v13)
  {
    __break(1u);
LABEL_8:
    __break(1u);
    goto LABEL_9;
  }
  id v14 = v13;
  MEMORY[0x24C542D50](a1, 0);
  sub_246C2C348();

  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v12, v8);
  uint64_t v15 = v23;
  if (!v23) {
    return result;
  }
  id v16 = *(void **)(v2 + qword_2691D6B70);
  if (!v16) {
    goto LABEL_8;
  }
  uint64_t v17 = v22;
  id v18 = v16;
  sub_246C2C3B8();

  sub_246B80250(&qword_2691D7010);
  uint64_t v19 = swift_allocObject();
  *(_OWORD *)(v19 + 16) = xmmword_246C33620;
  *(void *)(v19 + 32) = v17;
  *(void *)(v19 + 40) = v15;
  sub_246C2C2C8();
  uint64_t result = swift_bridgeObjectRelease();
  id v20 = *(void **)(v2 + qword_2691D6B70);
  if (!v20)
  {
LABEL_9:
    __break(1u);
    return result;
  }
  id v21 = v20;
  sub_246C2C398();

  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
}

void sub_246B91210()
{
  uint64_t v1 = v0;
  uint64_t v2 = *MEMORY[0x263F8EED0] & *(void *)v0;
  uint64_t v3 = sub_246B80250(&qword_2691D6DE0);
  uint64_t v51 = *(void *)(v3 - 8);
  uint64_t v52 = v3;
  uint64_t v4 = *(void *)(v51 + 64);
  uint64_t v5 = MEMORY[0x270FA5388](v3);
  uint64_t v50 = (char *)&v48 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v5);
  char v53 = (char *)&v48 - v6;
  uint64_t v7 = sub_246B80250(&qword_2691D6DE8);
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = *(void *)(v8 + 64);
  uint64_t v10 = MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)&v48 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v10);
  id v13 = (char *)&v48 - v12;
  uint64_t v14 = swift_allocObject();
  swift_unknownObjectWeakInit();
  uint64_t v15 = swift_allocObject();
  uint64_t v16 = *(void *)(v2 + 80);
  *(void *)(v15 + 16) = v16;
  *(void *)(v15 + 24) = v14;
  uint64_t v17 = v13;
  type metadata accessor for ParmesanFacePreviewCell();
  sub_246C2CF28();
  id v18 = *(void **)&v1[qword_2691D6B68];
  if (!v18)
  {
    __break(1u);
    goto LABEL_7;
  }
  uint64_t v19 = *(void (**)(char *, char *, uint64_t))(v8 + 16);
  uint64_t v48 = v17;
  v19(v11, v17, v7);
  unint64_t v20 = (*(unsigned __int8 *)(v8 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  uint64_t v21 = swift_allocObject();
  uint64_t v22 = *(void (**)(unint64_t, char *, uint64_t))(v8 + 32);
  uint64_t v49 = v7;
  v22(v21 + v20, v11, v7);
  id v23 = objc_allocWithZone((Class)type metadata accessor for ParmesanFacePreviewDataSource());
  uint64_t v24 = swift_allocObject();
  *(void *)(v24 + 16) = sub_246B983E0;
  *(void *)(v24 + 24) = v21;
  id v25 = v18;
  uint64_t v26 = sub_246C2C318();
  uint64_t v27 = *(void **)&v1[qword_2691D6B70];
  *(void *)&v1[qword_2691D6B70] = v26;

  uint64_t v28 = swift_allocObject();
  swift_unknownObjectWeakInit();
  uint64_t v29 = swift_allocObject();
  *(void *)(v29 + 16) = v16;
  *(void *)(v29 + 24) = v28;
  type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
  uint64_t v30 = v53;
  sub_246C2CF38();
  int v31 = *(void **)&v1[qword_2691D6B70];
  if (!v31)
  {
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  uint64_t v33 = v50;
  uint64_t v32 = v51;
  uint64_t v34 = v52;
  (*(void (**)(char *, char *, uint64_t))(v51 + 16))(v50, v30, v52);
  unint64_t v35 = (*(unsigned __int8 *)(v32 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v32 + 80);
  uint64_t v36 = swift_allocObject();
  *(void *)(v36 + 16) = v16;
  *(void *)(v36 + 24) = v1;
  (*(void (**)(unint64_t, char *, uint64_t))(v32 + 32))(v36 + v35, v33, v34);
  id v37 = v31;
  objc_super v38 = v1;
  sub_246C2C328();

  uint64_t v39 = *(void **)&v38[qword_2691D6B70];
  if (!v39)
  {
LABEL_8:
    __break(1u);
    goto LABEL_9;
  }
  id v40 = v39;
  uint64_t v41 = (void (*)(unsigned char *, void))sub_246C2C388();
  sub_246B80250(&qword_2691D6DF0);
  sub_246C2C378();
  v41(v54, 0);

  uint64_t v42 = *(void **)&v38[qword_2691D6B70];
  uint64_t v43 = v49;
  if (v42)
  {
    uint64_t v44 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v45 = swift_allocObject();
    *(void *)(v45 + 16) = v16;
    *(void *)(v45 + 24) = v44;
    id v46 = v42;
    uint64_t v47 = (void (*)(unsigned char *, void))sub_246C2C388();
    sub_246C2C368();
    v47(v54, 0);

    (*(void (**)(char *, uint64_t))(v51 + 8))(v53, v52);
    (*(void (**)(char *, uint64_t))(v8 + 8))(v48, v43);
    return;
  }
LABEL_9:
  __break(1u);
}

void sub_246B917AC(char *a1, uint64_t a2, uint64_t *a3, uint64_t a4)
{
  uint64_t v6 = *a3;
  uint64_t v5 = a3[1];
  uint64_t v7 = a4 + 16;
  swift_beginAccess();
  uint64_t v8 = MEMORY[0x24C545A70](v7);
  if (v8)
  {
    uint64_t v9 = (char *)v8;
    uint64_t v10 = &a1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_itemIdentifier];
    *(void *)uint64_t v10 = v6;
    *((void *)v10 + 1) = v5;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
    uint64_t v11 = sub_246C2BCB8();
    uint64_t v12 = *(void **)&v9[qword_2691D6B50];
    id v13 = (void *)swift_allocObject();
    v13[2] = a1;
    v13[3] = v6;
    v13[4] = v5;
    v13[5] = v9;
    void aBlock[4] = sub_246B98674;
    aBlock[5] = v13;
    aBlock[0] = MEMORY[0x263EF8330];
    aBlock[1] = 1107296256;
    aBlock[2] = sub_246B91B58;
    aBlock[3] = &unk_26FB20868;
    uint64_t v14 = _Block_copy(aBlock);
    swift_bridgeObjectRetain();
    id v15 = v12;
    uint64_t v16 = a1;
    uint64_t v17 = v9;
    swift_release();
    objc_msgSend(v15, sel_thumbnailInfoForPhotoAtIndex_completion_, v11, v14);
    _Block_release(v14);
  }
}

uint64_t sub_246B91928(uint64_t result, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, double a6, double a7, double a8, double a9)
{
  uint64_t v10 = *(void *)(a3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_itemIdentifier + 8);
  if (v10)
  {
    id v18 = (void *)result;
    BOOL v19 = *(void *)(a3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_itemIdentifier) == a4
       && v10 == a5;
    if (v19 || (uint64_t result = sub_246C2D578(), (result & 1) != 0))
    {
      if (a2)
      {
        id v20 = a2;
      }
      else
      {
        if (qword_2691D62B8 != -1) {
          swift_once();
        }
        id v20 = (id)qword_2691E0068;
      }
      id v21 = a2;
      uint64_t v22 = sub_246B8FEB8();
      id v23 = sub_246B8FDD0();
      uint64_t v24 = (uint64_t *)(*(void *)(a3
                                  + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_previewContentView)
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration);
      id v25 = (void *)v24[2];
      uint64_t v36 = v24[1];
      uint64_t v37 = *v24;
      uint64_t v34 = v24[4];
      uint64_t v35 = v24[3];
      uint64_t v32 = v24[6];
      uint64_t v33 = v24[5];
      int v31 = (void *)v24[7];
      uint64_t *v24 = a4;
      v24[1] = a5;
      v24[2] = (uint64_t)v18;
      *((double *)v24 + 3) = a6;
      *((double *)v24 + 4) = a7;
      *((double *)v24 + 5) = a8;
      *((double *)v24 + 6) = a9;
      v24[7] = (uint64_t)v20;
      v24[8] = v22;
      v24[9] = (uint64_t)v23;
      id v26 = v18;
      id v27 = v20;
      swift_bridgeObjectRetain_n();
      id v28 = v26;
      id v29 = v27;
      id v30 = v28;
      sub_246B98680(v37, v36, v25, v35, v34, v33, v32, v31);
      sub_246B986D4((uint64_t)v24, (uint64_t)v38);
      sub_246B98784(v38, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B9873C);
      sub_246BAF51C(v38);
      sub_246B98784(v38, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B98680);

      return swift_bridgeObjectRelease_n();
    }
  }
  return result;
}

void sub_246B91B58(uint64_t a1, void *a2, void *a3, double a4, double a5, double a6, double a7)
{
  id v13 = *(void (**)(void *, void *, double, double, double, double))(a1 + 32);
  swift_retain();
  id v15 = a2;
  id v14 = a3;
  v13(a2, a3, a4, a5, a6, a7);
  swift_release();
}

uint64_t sub_246B91C14()
{
  type metadata accessor for ParmesanFacePreviewCell();
  swift_bridgeObjectRetain();
  uint64_t v0 = sub_246C2CF48();
  swift_bridgeObjectRelease();
  return v0;
}

char *sub_246B91CA0(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = a5 + 16;
  swift_beginAccess();
  uint64_t result = (char *)MEMORY[0x24C545A70](v6);
  if (result)
  {
    uint64_t v8 = result;
    uint64_t result = *(char **)&result[qword_2691D6B68];
    if (result)
    {
      id v9 = objc_msgSend(result, sel_backgroundColor);
      objc_msgSend(a1, sel_setBackgroundColor_, v9);

      uint64_t v10 = sub_246B92A34();
      sub_246C0CEB0((uint64_t)v10, v11, v12, v13);

      swift_bridgeObjectRelease();
      return (char *)swift_bridgeObjectRelease();
    }
    else
    {
      __break(1u);
    }
  }
  return result;
}

void sub_246B91D70(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v5 = *(void **)(a5 + qword_2691D6B68);
  if (v5)
  {
    type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
    id v6 = v5;
    sub_246C2CF58();
  }
  else
  {
    __break(1u);
  }
}

uint64_t sub_246B91DE4()
{
  return 1;
}

char *sub_246B91DEC(uint64_t a1, uint64_t a2)
{
  uint64_t v36 = sub_246B80250(&qword_2691D6DF8);
  uint64_t v3 = *(void *)(v36 - 8);
  MEMORY[0x270FA5388](v36);
  uint64_t v35 = (char *)v25 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D6E00);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v34 = (char *)v25 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246B80250(&qword_2691D6E08);
  MEMORY[0x270FA5388](v8 - 8);
  uint64_t v10 = (char *)v25 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t result = (char *)MEMORY[0x24C545A70](a2 + 16);
  uint64_t v37 = result;
  if (result)
  {
    sub_246B80250(&qword_2691D6E10);
    uint64_t v12 = sub_246C2C2F8();
    uint64_t v13 = *(void *)(v12 + 16);
    v25[2] = v12;
    if (v13)
    {
      id v15 = *(void (**)(char *, unint64_t, uint64_t))(v6 + 16);
      uint64_t v14 = v6 + 16;
      unint64_t v16 = v12 + ((*(unsigned __int8 *)(v14 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v14 + 64));
      uint64_t v29 = *(void *)(v14 + 56);
      uint64_t v30 = qword_2691D6B50;
      int v31 = (unsigned int (**)(char *, uint64_t, uint64_t))(v14 + 32);
      id v27 = (void (**)(char *, uint64_t))(v3 + 8);
      id v28 = (void (**)(char *, char *, uint64_t))(v14 + 16);
      id v26 = (void (**)(char *, uint64_t))(v14 - 8);
      uint64_t v32 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v14 + 40);
      uint64_t v33 = v15;
      v25[1] = (v14 + 40) & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
      uint64_t v17 = v34;
      while (1)
      {
        v33(v10, v16, v5);
        id v18 = *v32;
        (*v32)(v10, 0, 1, v5);
        if ((*v31)(v10, 1, v5) == 1) {
          break;
        }
        (*v28)(v17, v10, v5);
        BOOL v19 = v35;
        sub_246C2C448();
        uint64_t v20 = v36;
        uint64_t v21 = sub_246C2C3E8();
        (*v27)(v19, v20);
        uint64_t v22 = v37;
        *(void *)&v37[qword_2691D6B78] = v21;
        swift_bridgeObjectRetain();
        swift_bridgeObjectRelease();
        id v23 = *(void **)&v22[v30];
        uint64_t v24 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
        objc_msgSend(v23, sel_setImageOrder_, v24);

        (*v26)(v17, v5);
        v16 += v29;
        if (!--v13) {
          goto LABEL_8;
        }
      }
    }
    else
    {
      id v18 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v6 + 56);
LABEL_8:
      v18(v10, 1, 1, v5);
    }

    return (char *)swift_bridgeObjectRelease();
  }
  return result;
}

void sub_246B921A4()
{
  sub_246B921CC();

  sub_246B9245C();
}

void sub_246B921CC()
{
  id v1 = sub_246B94F10();
  objc_msgSend(v0, sel_isEditing);
  uint64_t v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  objc_msgSend(v1, sel_setTitle_, v2);

  id v3 = sub_246B94CA4();
  objc_msgSend(v3, sel_setEnabled_, (v0[qword_2691D6B88] & 1) == 0);

  id v4 = objc_msgSend(v0, sel_navigationItem);
  id v5 = sub_246B94F10();
  objc_msgSend(v4, sel_setRightBarButtonItem_, v5);

  sub_246B948E8(*(void **)&v0[qword_2691D6B50], (char)objc_msgSend(v0, sel_isEditing));
  sub_246B8F1E0(0, &qword_2691D6DD8);
  uint64_t v6 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v0, sel_setToolbarItems_, v6);

  id v7 = sub_246B94F88();
  objc_msgSend(v7, sel_setEnabled_, *(void *)(*(void *)&v0[qword_2691D6B78] + 16) < (unint64_t)NTKMaxParmesanPhotos());

  id v8 = sub_246B951CC();
  objc_msgSend(v8, sel_setEnabled_, *(void *)(*(void *)&v0[qword_2691D6B78] + 16) != 0);

  if (objc_msgSend(v0, sel_isEditing))
  {
    uint64_t v9 = *(void **)&v0[qword_2691D6B68];
    if (v9)
    {
      unint64_t v10 = (unint64_t)objc_msgSend(v9, sel_indexPathsForSelectedItems);
      if (v10)
      {
        sub_246C2BCD8();
        uint64_t v11 = sub_246C2CD38();

        unint64_t v10 = *(void *)(v11 + 16);
        swift_bridgeObjectRelease();
        if (v10) {
          unint64_t v10 = v10 != *(void *)(*(void *)&v0[qword_2691D6B78] + 16);
        }
      }
      id v12 = sub_246B958A8();
      objc_msgSend(v12, sel_setEnabled_, v10);
    }
    else
    {
      __break(1u);
    }
  }
}

void sub_246B9245C()
{
  id v1 = *(void **)(v0 + qword_2691D6B68);
  if (!v1) {
    goto LABEL_20;
  }
  id v2 = v1;
  id v3 = (void *)sub_246C2CC08();
  id v4 = objc_msgSend(v2, sel_visibleSupplementaryViewsOfKind_, v3);

  sub_246B8F1E0(0, &qword_2691D6DD0);
  unint64_t v5 = sub_246C2CD38();

  unint64_t v6 = sub_246B926D8(v5);
  swift_bridgeObjectRelease();
  if (!v6) {
    return;
  }
  if (v6 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (v7) {
      goto LABEL_5;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (v7)
    {
LABEL_5:
      if (v7 >= 1)
      {
        uint64_t v8 = 0;
        unint64_t v18 = v6 & 0xC000000000000001;
        unint64_t v9 = v6;
        do
        {
          if (v18) {
            uint64_t v11 = (char *)MEMORY[0x24C544350](v8, v6);
          }
          else {
            uint64_t v11 = (char *)*(id *)(v6 + 8 * v8 + 32);
          }
          id v12 = v11;
          sub_246B92A34();
          uint64_t v14 = v13;
          id v15 = *(void **)&v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_titleLabel];
          unint64_t v16 = (void *)sub_246C2CC08();
          objc_msgSend(v15, sel_setText_, v16);

          uint64_t v17 = *(void **)&v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_subtitleLabel];
          if (v14) {
            unint64_t v10 = (void *)sub_246C2CC08();
          }
          else {
            unint64_t v10 = 0;
          }
          ++v8;
          objc_msgSend(v17, sel_setText_, v10);

          objc_msgSend(v17, sel_setHidden_, v14 == 0);
          objc_msgSend(v12, sel_invalidateIntrinsicContentSize);

          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          unint64_t v6 = v9;
        }
        while (v7 != v8);
        goto LABEL_16;
      }
      __break(1u);
LABEL_20:
      __break(1u);
      return;
    }
  }
LABEL_16:

  swift_bridgeObjectRelease();
}

uint64_t sub_246B926D8(unint64_t a1)
{
  uint64_t v1 = a1;
  uint64_t v12 = MEMORY[0x263F8EE78];
  if (a1 >> 62) {
    goto LABEL_18;
  }
  sub_246C2D2F8();
  uint64_t v2 = *(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (v2)
  {
    if ((v1 & 0xC000000000000001) != 0)
    {
      for (uint64_t i = 0; ; ++i)
      {
        MEMORY[0x24C544350](i, v1);
        uint64_t v4 = i + 1;
        if (__OFADD__(i, 1)) {
          break;
        }
        type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
        if (!swift_dynamicCastClass())
        {
          swift_unknownObjectRelease();
          goto LABEL_15;
        }
        sub_246C2D2D8();
        sub_246C2D308();
        sub_246C2D318();
        sub_246C2D2E8();
        if (v4 == v2) {
          return v12;
        }
      }
      __break(1u);
    }
    else
    {
      uint64_t v5 = 0;
      uint64_t v6 = v1 + 32;
      while (1)
      {
        uint64_t v7 = v5 + 1;
        if (__OFADD__(v5, 1)) {
          break;
        }
        uint64_t v8 = *(void **)(v6 + 8 * v5);
        type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
        uint64_t v9 = swift_dynamicCastClass();
        if (!v9)
        {
LABEL_15:
          swift_release();
          return 0;
        }
        uint64_t v1 = v9;
        id v10 = v8;
        sub_246C2D2D8();
        sub_246C2D308();
        sub_246C2D318();
        sub_246C2D2E8();
        ++v5;
        if (v7 == v2) {
          return v12;
        }
      }
    }
    __break(1u);
LABEL_18:
    swift_bridgeObjectRetain();
    sub_246C2D3B8();
    swift_bridgeObjectRelease();
    sub_246C2D2F8();
    swift_bridgeObjectRetain();
    uint64_t v2 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  return v12;
}

uint64_t sub_246B928B8(uint64_t a1)
{
  return sub_246B928D8(a1, (void (*)(BOOL, uint64_t, uint64_t))sub_246C00B5C, &qword_2691D6E48);
}

uint64_t sub_246B928D8(uint64_t a1, void (*a2)(BOOL, uint64_t, uint64_t), uint64_t *a3)
{
  uint64_t v6 = *(void *)(a1 + 16);
  uint64_t v14 = MEMORY[0x263F8EE78];
  a2(0, v6, 0);
  uint64_t v7 = v14;
  if (v6)
  {
    for (uint64_t i = a1 + 32; ; i += 32)
    {
      sub_246B8E790(i, (uint64_t)v13);
      sub_246B80250(a3);
      if (!swift_dynamicCast()) {
        break;
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        a2(0, *(void *)(v7 + 16) + 1, 1);
        uint64_t v7 = v14;
      }
      unint64_t v10 = *(void *)(v7 + 16);
      unint64_t v9 = *(void *)(v7 + 24);
      if (v10 >= v9 >> 1)
      {
        a2(v9 > 1, v10 + 1, 1);
        uint64_t v7 = v14;
      }
      *(void *)(v7 + 16) = v10 + 1;
      *(void *)(v7 + 8 * v10 + 32) = v12;
      if (!--v6) {
        return v7;
      }
    }
    swift_release();
    swift_bridgeObjectRelease();
    return 0;
  }
  return v7;
}

void *sub_246B92A34()
{
  if (!objc_msgSend(v0, sel_isEditing))
  {
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
    ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
    id v15 = (void *)sub_246C2CC08();
    unint64_t v16 = (void *)sub_246C2CC08();
    uint64_t v17 = (void *)sub_246C2CC08();
    id v18 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_table_comment_, v15, v16, v17);

    sub_246C2CC48();
    sub_246B80250(&qword_2691D6DC8);
    uint64_t v19 = swift_allocObject();
    *(_OWORD *)(v19 + 16) = xmmword_246C33620;
    uint64_t v20 = *(void *)(*(void *)&v0[qword_2691D6B78] + 16);
    uint64_t v21 = MEMORY[0x263F8D750];
    *(void *)(v19 + 56) = MEMORY[0x263F8D6C8];
    *(void *)(v19 + 64) = v21;
    *(void *)(v19 + 32) = v20;
    uint64_t v13 = sub_246C2CC18();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v22 = (void *)sub_246C2CC08();
    id v23 = (void *)sub_246C2CC08();
    id v24 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v22, v23);

    sub_246C2CC48();
    return (void *)v13;
  }
  uint64_t result = *(void **)&v0[qword_2691D6B68];
  if (result)
  {
    id v2 = objc_msgSend(result, sel_indexPathsForSelectedItems);
    if (v2)
    {
      id v3 = v2;
      sub_246C2BCD8();
      uint64_t v4 = sub_246C2CD38();

      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t v5 = (void *)swift_getObjCClassFromMetadata();
      uint64_t v6 = (void *)sub_246C2CC08();
      uint64_t v7 = (void *)sub_246C2CC08();
      uint64_t v8 = (void *)sub_246C2CC08();
      id v9 = objc_msgSend(v5, sel_localizedStringForKey_table_comment_, v6, v7, v8);

      sub_246C2CC48();
      sub_246B80250(&qword_2691D6DC8);
      uint64_t v10 = swift_allocObject();
      *(_OWORD *)(v10 + 16) = xmmword_246C33620;
      uint64_t v11 = *(void *)(v4 + 16);
      swift_bridgeObjectRelease();
      uint64_t v12 = MEMORY[0x263F8D750];
      *(void *)(v10 + 56) = MEMORY[0x263F8D6C8];
      *(void *)(v10 + 64) = v12;
      *(void *)(v10 + 32) = v11;
      uint64_t v13 = sub_246C2CC18();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      id v25 = (void *)swift_getObjCClassFromMetadata();
      id v26 = (void *)sub_246C2CC08();
      id v27 = (void *)sub_246C2CC08();
      id v28 = objc_msgSend(v25, sel_localizedStringForKey_comment_, v26, v27);

      uint64_t v13 = sub_246C2CC48();
    }
    return (void *)v13;
  }
  __break(1u);
  return result;
}

id sub_246B92E88()
{
  if (objc_msgSend(v0, sel_isEditing))
  {
    uint64_t v1 = sel_setEditing_animated_;
    id v2 = v0;
    uint64_t v3 = 0;
    uint64_t v4 = 1;
  }
  else
  {
    uint64_t v1 = sel_dismissViewControllerAnimated_completion_;
    id v2 = v0;
    uint64_t v3 = 1;
    uint64_t v4 = 0;
  }
  return objc_msgSend(v2, v1, v3, v4);
}

void sub_246B92F00(void *a1)
{
  id v1 = a1;
  sub_246B92E88();
}

void sub_246B92F48()
{
  uint64_t v1 = *MEMORY[0x263F8EED0] & *v0;
  if (objc_msgSend(v0, sel_isEditing))
  {
    objc_msgSend(v0, sel_setEditing_animated_, 0, 1);
    return;
  }
  uint64_t v2 = swift_allocObject();
  swift_unknownObjectWeakInit();
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = *(void *)(v1 + 80);
  *(void *)(v3 + 24) = v2;
  if (*((unsigned char *)v0 + qword_2691D6B58) == 1)
  {
    id v4 = objc_msgSend(v0, sel_navigationItem);
    id v5 = sub_246B94D84();
    objc_msgSend(v4, sel_setRightBarButtonItem_, v5);

    uint64_t v6 = *(void **)((char *)v0 + qword_2691D6B50);
    uint64_t v20 = sub_246B982FC;
    uint64_t v21 = v3;
    uint64_t v16 = MEMORY[0x263EF8330];
    uint64_t v17 = 1107296256;
    id v18 = sub_246B9345C;
    uint64_t v19 = &unk_26FB20728;
    uint64_t v7 = _Block_copy(&v16);
    swift_retain();
    swift_release();
    objc_msgSend(v6, sel_generateGalleryPreviewResourceDirectoryWithCompletion_, v7);
    swift_release();
    uint64_t v8 = v7;
LABEL_9:
    _Block_release(v8);
    return;
  }
  id v9 = *(void **)((char *)v0 + qword_2691D6B50);
  if (objc_msgSend(v9, sel_state) == (id)2)
  {
    id v10 = objc_msgSend(v0, sel_navigationItem);
    id v11 = sub_246B94D84();
    objc_msgSend(v10, sel_setRightBarButtonItem_, v11);

    uint64_t v12 = swift_allocObject();
    *(void *)(v12 + 16) = v0;
    uint64_t v20 = sub_246B9833C;
    uint64_t v21 = v12;
    uint64_t v16 = MEMORY[0x263EF8330];
    uint64_t v17 = 1107296256;
    id v18 = sub_246B93564;
    uint64_t v19 = &unk_26FB206D8;
    uint64_t v13 = _Block_copy(&v16);
    uint64_t v14 = v0;
    swift_release();
    uint64_t v20 = sub_246B982FC;
    uint64_t v21 = v3;
    uint64_t v16 = MEMORY[0x263EF8330];
    uint64_t v17 = 1107296256;
    id v18 = sub_246B9345C;
    uint64_t v19 = &unk_26FB20700;
    id v15 = _Block_copy(&v16);
    swift_retain();
    swift_release();
    objc_msgSend(v9, sel_finalizeWithProgress_completion_, v13, v15);
    swift_release();
    _Block_release(v15);
    uint64_t v8 = v13;
    goto LABEL_9;
  }
  objc_msgSend(v0, sel_dismissViewControllerAnimated_completion_, 1, 0);

  swift_release();
}

void sub_246B93330(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v4 = a3 + 16;
  swift_beginAccess();
  uint64_t v5 = MEMORY[0x24C545A70](v4);
  if (v5)
  {
    uint64_t v6 = (char *)v5;
    uint64_t v7 = *(void **)(v5 + qword_2691D6B40);
    id v8 = v7;
    if (a2) {
      a2 = (void *)sub_246C2CC08();
    }
    objc_msgSend(v7, sel_setResourceDirectory_, a2);

    id v9 = objc_msgSend(v6, sel_navigationItem);
    id v10 = sub_246B94F10();
    objc_msgSend(v9, sel_setRightBarButtonItem_, v10);

    id v11 = (void *)MEMORY[0x24C545A70](&v6[qword_2691D6B60]);
    if (v11)
    {
      objc_msgSend(v11, sel_parmesanFacePreviewControllerDidFinish);
      swift_unknownObjectRelease();
    }
    objc_msgSend(v6, sel_dismissViewControllerAnimated_completion_, 1, 0);
  }
}

uint64_t sub_246B9345C(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void (**)(uint64_t, uint64_t))(a1 + 32);
  if (a2)
  {
    uint64_t v3 = sub_246C2CC48();
    uint64_t v5 = v4;
  }
  else
  {
    uint64_t v3 = 0;
    uint64_t v5 = 0;
  }
  swift_retain();
  v2(v3, v5);
  swift_release();

  return swift_bridgeObjectRelease();
}

void sub_246B934D8(uint64_t a1, double a2)
{
  uint64_t v2 = *(void **)(a1 + qword_2691D6BC8);
  if (v2)
  {
    id v5 = v2;
    objc_msgSend(v5, sel_currentProgress);
    if (v4 < a2) {
      objc_msgSend(v5, sel_setCurrentProgress_, a2);
    }
  }
}

uint64_t sub_246B93564(uint64_t a1, double a2)
{
  uint64_t v3 = *(void (**)(uint64_t, double))(a1 + 32);
  uint64_t v4 = swift_retain();
  v3(v4, a2);

  return swift_release();
}

void sub_246B935B8(void *a1)
{
  id v1 = a1;
  sub_246B92F48();
}

id sub_246B93600()
{
  return objc_msgSend(v0, sel_dismissViewControllerAnimated_completion_, 1, 0);
}

void sub_246B93618()
{
  uint64_t v1 = *MEMORY[0x263F8EED0] & *v0;
  uint64_t v2 = NTKMaxParmesanPhotos();
  if (v2 < 0)
  {
    __break(1u);
    goto LABEL_7;
  }
  uint64_t v3 = v2;
  id v4 = objc_msgSend(*(id *)((char *)v0 + qword_2691D6B50), sel_photosCount);
  uint64_t v5 = v3 - (void)v4;
  if (__OFSUB__(v3, v4))
  {
LABEL_7:
    __break(1u);
    return;
  }
  if (v5 >= 1)
  {
    uint64_t v6 = self;
    id v7 = objc_msgSend(v6, sel_parmesanConfigurationWithLimit_, v5);
    uint64_t v8 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v9 = swift_allocObject();
    *(void *)(v9 + 16) = *(void *)(v1 + 80);
    *(void *)(v9 + 24) = v8;
    void v12[4] = sub_246B982BC;
    v12[5] = v9;
    v12[0] = MEMORY[0x263EF8330];
    v12[1] = 1107296256;
    v12[2] = sub_246B938FC;
    v12[3] = &unk_26FB20660;
    id v10 = _Block_copy(v12);
    id v11 = v7;
    swift_release();
    objc_msgSend(v6, sel_presentPhotosAddControllerFromViewController_configuration_withCompletion_, v0, v11, v10);
    _Block_release(v10);
  }
}

uint64_t sub_246B937D0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = a3 + 16;
  swift_beginAccess();
  uint64_t v5 = MEMORY[0x24C545A70](v4);
  if (v5)
  {
    uint64_t v6 = (char *)v5;
    if (a2 && sub_246B928D8(a2, (void (*)(BOOL, uint64_t, uint64_t))sub_246C00AB4, &qword_2691D6DB8))
    {
      id v7 = *(void **)&v6[qword_2691D6B50];
      self;
      uint64_t v8 = swift_dynamicCastObjCClass();
      if (v8)
      {
        uint64_t v9 = (void *)v8;
        id v10 = v7;
        sub_246B80250(&qword_2691D6DB8);
        id v11 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
        objc_msgSend(v9, sel_addAssetsFromUIImagePicker_, v11);

        sub_246B90E18();
      }
      else
      {

        swift_bridgeObjectRelease();
      }
    }
    else
    {
    }
  }
  return 0;
}

uint64_t sub_246B938FC(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v4 = *(uint64_t (**)(void *, uint64_t))(a1 + 32);
  if (a3) {
    uint64_t v5 = sub_246C2CD38();
  }
  else {
    uint64_t v5 = 0;
  }
  swift_retain();
  id v6 = a2;
  char v7 = v4(a2, v5);
  swift_release();

  swift_bridgeObjectRelease();
  return v7 & 1;
}

void sub_246B93990(void *a1)
{
  id v1 = a1;
  sub_246B93618();
}

id sub_246B939D8()
{
  return objc_msgSend(v0, sel_setEditing_animated_, 1, 1);
}

void sub_246B939F0(void *a1)
{
  id v1 = a1;
  sub_246B939D8();
}

void sub_246B93A38()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v2 - 8);
  uint64_t v4 = (char *)&v19 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2BCD8();
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v19 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = *(void *)(*(void *)(v0 + qword_2691D6B78) + 16);
  if (v9)
  {
    id v10 = (unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48);
    uint64_t v20 = (void (**)(char *, char *, uint64_t))(v6 + 32);
    id v11 = (void (**)(char *, uint64_t))(v6 + 8);
    uint64_t v19 = swift_bridgeObjectRetain();
    uint64_t v12 = (uint64_t *)(v19 + 40);
    while (1)
    {
      uint64_t v13 = *(void **)(v1 + qword_2691D6B70);
      if (!v13) {
        break;
      }
      uint64_t v14 = *v12;
      uint64_t v21 = *(v12 - 1);
      uint64_t v22 = v14;
      id v15 = v13;
      swift_bridgeObjectRetain();
      sub_246C2C3C8();
      swift_bridgeObjectRelease();

      if ((*v10)(v4, 1, v5) == 1)
      {
        sub_246B9825C((uint64_t)v4);
      }
      else
      {
        (*v20)(v8, v4, v5);
        uint64_t v16 = *(void **)(v1 + qword_2691D6B68);
        if (!v16) {
          goto LABEL_12;
        }
        id v17 = v16;
        id v18 = (void *)sub_246C2BC78();
        objc_msgSend(v17, sel_selectItemAtIndexPath_animated_scrollPosition_, v18, 0, 1, v19);

        (*v11)(v8, v5);
      }
      v12 += 2;
      if (!--v9)
      {
        swift_bridgeObjectRelease();
        goto LABEL_10;
      }
    }
    __break(1u);
LABEL_12:
    __break(1u);
  }
  else
  {
LABEL_10:
    sub_246B921CC();
    sub_246B9245C();
  }
}

void sub_246B93C8C(void *a1)
{
  id v1 = a1;
  sub_246B93A38();
}

void sub_246B93CD4()
{
  uint64_t v1 = sub_246C2BCD8();
  uint64_t v2 = *(void *)(v1 - 8);
  MEMORY[0x270FA5388](v1);
  uint64_t v4 = (char *)&v23 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)&v23 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = v0;
  uint64_t v8 = *(void **)(v0 + qword_2691D6B68);
  if (v8)
  {
    id v9 = objc_msgSend(v8, sel_indexPathsForSelectedItems);
    if (v9)
    {
      id v10 = v9;
      uint64_t v11 = sub_246C2CD38();

      uint64_t v12 = *(void *)(v11 + 16);
      uint64_t v24 = v11;
      if (v12)
      {
        uint64_t v14 = *(void (**)(char *, unint64_t, uint64_t))(v2 + 16);
        uint64_t v13 = v2 + 16;
        unint64_t v15 = v11 + ((*(unsigned __int8 *)(v13 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 64));
        uint64_t v16 = *(void *)(v13 + 56);
        id v17 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v13 + 40);
        id v28 = (unsigned int (**)(char *, uint64_t, uint64_t))(v13 + 32);
        uint64_t v29 = v14;
        uint64_t v26 = v16;
        id v27 = (void (**)(char *, char *, uint64_t))(v13 + 16);
        id v25 = (void (**)(char *, uint64_t))(v13 - 8);
        unint64_t v23 = (v13 + 40) & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
        while (1)
        {
          v29(v7, v15, v1);
          id v18 = *v17;
          (*v17)(v7, 0, 1, v1);
          if ((*v28)(v7, 1, v1) == 1) {
            break;
          }
          (*v27)(v4, v7, v1);
          uint64_t v19 = *(void **)(v30 + qword_2691D6B68);
          if (!v19)
          {
            __break(1u);
            goto LABEL_14;
          }
          id v20 = v19;
          uint64_t v21 = v4;
          uint64_t v22 = (void *)sub_246C2BC78();
          objc_msgSend(v20, sel_deselectItemAtIndexPath_animated_, v22, 0, v23, v24);

          uint64_t v4 = v21;
          (*v25)(v21, v1);
          v15 += v26;
          if (!--v12) {
            goto LABEL_10;
          }
        }
      }
      else
      {
        id v18 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v2 + 56);
LABEL_10:
        v18(v7, 1, 1, v1);
      }
      swift_bridgeObjectRelease();
      sub_246B921CC();
      sub_246B9245C();
    }
  }
  else
  {
LABEL_14:
    __break(1u);
  }
}

void sub_246B93FA0(void *a1)
{
  id v1 = a1;
  sub_246B93CD4();
}

void sub_246B93FE8()
{
  if (*(unsigned char *)(v0 + qword_2691D6B80) == 1) {
    sub_246B94588();
  }
  else {
    sub_246B9404C();
  }
}

void sub_246B94004(void *a1)
{
  id v1 = a1;
  sub_246B93FE8();
}

void sub_246B9404C()
{
  id v1 = *(void **)((char *)v0 + qword_2691D6B68);
  if (v1)
  {
    uint64_t v2 = v0;
    uint64_t v3 = *MEMORY[0x263F8EED0] & *v0;
    id v4 = objc_msgSend(v1, sel_indexPathsForSelectedItems);
    if (v4)
    {
      uint64_t v5 = v4;
      sub_246C2BCD8();
      sub_246C2CD38();

      swift_bridgeObjectRelease();
    }
    sub_246C2D278();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v6 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v7 = (void *)sub_246C2CC08();
    id v8 = (id)NTKCCustomizationLocalizedString();

    sub_246C2CC48();
    sub_246C2D278();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    id v9 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v10 = (void *)sub_246C2CC08();
    id v11 = (id)NTKCCustomizationLocalizedString();

    sub_246C2CC48();
    uint64_t v12 = (void *)sub_246C2CC08();
    uint64_t v13 = (void *)sub_246C2CC08();
    id v14 = (id)NTKCCustomizationLocalizedString();

    sub_246C2CC48();
    unint64_t v15 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v16 = objc_msgSend(self, sel_alertControllerWithTitle_message_preferredStyle_, 0, v15, 0, 0xD000000000000014, 0x8000000246C3B6F0);

    uint64_t v17 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v18 = swift_allocObject();
    *(void *)(v18 + 16) = *(void *)(v3 + 80);
    *(void *)(v18 + 24) = v17;
    swift_retain();
    uint64_t v19 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    v25[4] = sub_246B9823C;
    v25[5] = v18;
    v25[0] = MEMORY[0x263EF8330];
    v25[1] = 1107296256;
    v25[2] = sub_246C1E8DC;
    void v25[3] = &unk_26FB20610;
    id v20 = _Block_copy(v25);
    swift_release();
    uint64_t v21 = self;
    id v22 = objc_msgSend(v21, sel_actionWithTitle_style_handler_, v19, 2, v20);
    _Block_release(v20);
    swift_release();

    objc_msgSend(v16, sel_addAction_, v22);
    unint64_t v23 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v24 = objc_msgSend(v21, sel_actionWithTitle_style_handler_, v23, 1, 0);

    objc_msgSend(v16, sel_addAction_, v24);
    objc_msgSend(v2, sel_presentViewController_animated_completion_, v16, 1, 0);
  }
  else
  {
    __break(1u);
  }
}

void sub_246B94524(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = a2 + 16;
  swift_beginAccess();
  uint64_t v3 = MEMORY[0x24C545A70](v2);
  if (v3)
  {
    id v4 = (void *)v3;
    *(unsigned char *)(v3 + qword_2691D6B80) = 1;
    sub_246B94588();
  }
}

void sub_246B94588()
{
  id v1 = v0;
  uint64_t v2 = sub_246C2BCD8();
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  uint64_t v34 = (char *)v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (v0[qword_2691D6B80] == 1)
  {
    id v8 = *(void **)&v0[qword_2691D6B68];
    if (v8)
    {
      id v9 = objc_msgSend(v8, sel_indexPathsForSelectedItems);
      if (v9)
      {
        id v10 = v9;
        id v11 = (void *)sub_246C2CD38();

        uint64_t v35 = v11;
        swift_bridgeObjectRetain();
        sub_246B96920(&v35);
        swift_bridgeObjectRelease();
        uint64_t v12 = v35[2];
        id v27 = v35;
        if (v12)
        {
          id v14 = *(void (**)(char *, char *, uint64_t))(v3 + 16);
          uint64_t v13 = v3 + 16;
          unint64_t v15 = (char *)v35
              + ((*(unsigned __int8 *)(v13 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 64));
          uint64_t v30 = *(void *)(v13 + 56);
          uint64_t v31 = qword_2691D6B50;
          id v16 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v13 + 40);
          uint64_t v32 = (unsigned int (**)(char *, uint64_t, uint64_t))(v13 + 32);
          uint64_t v33 = v14;
          id v28 = (void (**)(char *, uint64_t))(v13 - 8);
          uint64_t v29 = (void (**)(char *, char *, uint64_t))(v13 + 16);
          swift_retain();
          v26[1] = (v13 + 40) & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
          uint64_t v17 = v34;
          while (1)
          {
            v33(v7, v15, v2);
            uint64_t v18 = *v16;
            (*v16)(v7, 0, 1, v2);
            if ((*v32)(v7, 1, v2) == 1) {
              break;
            }
            (*v29)(v17, v7, v2);
            uint64_t v19 = v1;
            uint64_t v20 = v13;
            uint64_t v21 = *(void **)&v19[v31];
            uint64_t v22 = sub_246C2BCB8();
            unint64_t v23 = v21;
            uint64_t v13 = v20;
            id v1 = v19;
            objc_msgSend(v23, sel_deletePhotoAtIndex_, v22);
            (*v28)(v17, v2);
            v15 += v30;
            if (!--v12) {
              goto LABEL_10;
            }
          }
        }
        else
        {
          uint64_t v18 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v3 + 56);
          swift_retain();
LABEL_10:
          v18(v7, 1, 1, v2);
        }
        id v24 = v27;
        swift_release();
        uint64_t v25 = v24[2];
        swift_release();
        v1[qword_2691D6B88] = v25 != 0;
        sub_246B90E18();
      }
      v1[qword_2691D6B80] = 0;
      objc_msgSend(v1, sel_setEditing_animated_, 0, 1);
      sub_246B921CC();
      sub_246B9245C();
    }
    else
    {
      __break(1u);
      swift_release();
      __break(1u);
    }
  }
}

void *sub_246B948E8(void *a1, char a2)
{
  if (a2)
  {
    uint64_t result = *(void **)(v2 + qword_2691D6B68);
    if (result)
    {
      id v4 = objc_msgSend(result, sel_indexPathsForSelectedItems);
      if (v4
        && ((uint64_t v5 = v4,
             sub_246C2BCD8(),
             uint64_t v6 = sub_246C2CD38(),
             v5,
             uint64_t v7 = *(void *)(v6 + 16),
             swift_bridgeObjectRelease(),
             v7)
          ? (BOOL v8 = v7 == *(void *)(*(void *)(v2 + qword_2691D6B78) + 16))
          : (BOOL v8 = 0),
            v8))
      {
        return (void *)sub_246B94BC4();
      }
      else
      {
        return (void *)sub_246B94B2C();
      }
    }
    else
    {
      __break(1u);
    }
  }
  else if (objc_msgSend(a1, sel_allowAddingPhotoAssets))
  {
    return (void *)sub_246B94A04();
  }
  else
  {
    return (void *)sub_246B94A38();
  }
  return result;
}

uint64_t sub_246B94A04()
{
  return sub_246B94B60(&qword_2691D6B98, (uint64_t (*)(void))sub_246B94F88, (uint64_t (*)(void))sub_246B951CC);
}

uint64_t sub_246B94A38()
{
  uint64_t v1 = qword_2691D6BA0;
  if (*(void *)(v0 + qword_2691D6BA0))
  {
    uint64_t v2 = *(void *)(v0 + qword_2691D6BA0);
  }
  else
  {
    uint64_t v2 = sub_246B94AA0();
    *(void *)(v0 + v1) = v2;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  return v2;
}

uint64_t sub_246B94AA0()
{
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v0 = swift_allocObject();
  *(_OWORD *)(v0 + 16) = xmmword_246C33940;
  *(void *)(v0 + 32) = objc_msgSend(self, sel_flexibleSpaceItem);
  *(void *)(v0 + 40) = sub_246B951CC();
  sub_246C2CD58();
  return v0;
}

uint64_t sub_246B94B2C()
{
  return sub_246B94B60(&qword_2691D6BA8, (uint64_t (*)(void))sub_246B958A8, (uint64_t (*)(void))sub_246B9541C);
}

uint64_t sub_246B94B60(uint64_t *a1, uint64_t (*a2)(void), uint64_t (*a3)(void))
{
  uint64_t v4 = *a1;
  uint64_t v5 = *(void *)(v3 + *a1);
  if (v5)
  {
    uint64_t v6 = v5;
  }
  else
  {
    uint64_t v6 = sub_246B94BF8(v3, a2, a3);
    *(void *)(v3 + v4) = v6;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  return v6;
}

uint64_t sub_246B94BC4()
{
  return sub_246B94B60(&qword_2691D6BB0, (uint64_t (*)(void))sub_246B958A8, (uint64_t (*)(void))sub_246B95660);
}

uint64_t sub_246B94BF8(uint64_t a1, uint64_t (*a2)(void), uint64_t (*a3)(void))
{
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_246C33600;
  *(void *)(v5 + 32) = a2();
  *(void *)(v5 + 40) = objc_msgSend(self, sel_flexibleSpaceItem);
  *(void *)(v5 + 48) = a3();
  sub_246C2CD58();
  return v5;
}

id sub_246B94CA4()
{
  return sub_246B94F28(&qword_2691D6BB8, (uint64_t *)&selRef_cancelTapped, 1);
}

id sub_246B94CBC()
{
  uint64_t v1 = qword_2691D6BC0;
  uint64_t v2 = *(void **)(v0 + qword_2691D6BC0);
  if (v2)
  {
    id v3 = *(id *)(v0 + qword_2691D6BC0);
  }
  else
  {
    id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F823E8]), sel_initWithActivityIndicatorStyle_, 101);
    objc_msgSend(v4, sel_startAnimating);
    id v5 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F824A8]), sel_initWithCustomView_, v4);

    uint64_t v6 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v5;
    id v3 = v5;

    uint64_t v2 = 0;
  }
  id v7 = v2;
  return v3;
}

void sub_246B94D70(uint64_t a1)
{
  uint64_t v2 = *(void **)(v1 + qword_2691D6BC8);
  *(void *)(v1 + qword_2691D6BC8) = a1;
}

id sub_246B94D84()
{
  return sub_246B94DA4(&qword_2691D6BD0, (uint64_t (*)(uint64_t))sub_246B94E08);
}

id sub_246B94DA4(uint64_t *a1, uint64_t (*a2)(uint64_t))
{
  uint64_t v3 = *a1;
  id v4 = *(void **)(v2 + *a1);
  if (v4)
  {
    id v5 = *(id *)(v2 + *a1);
  }
  else
  {
    uint64_t v6 = (void *)a2(v2);
    id v7 = *(void **)(v2 + v3);
    *(void *)(v2 + v3) = v6;
    id v5 = v6;

    id v4 = 0;
  }
  id v8 = v4;
  return v5;
}

id sub_246B94E08(uint64_t a1)
{
  id v2 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5E438]), sel_initWithStyle_, 1);
  uint64_t v3 = *(void **)(a1 + qword_2691D6BC8);
  *(void *)(a1 + qword_2691D6BC8) = v2;

  id v4 = *(void **)(a1 + qword_2691D6BC8);
  if (!v4) {
    return sub_246B94CBC();
  }
  id v5 = v4;
  objc_msgSend(v5, sel_setDeterminate_, 1);
  objc_msgSend(v5, sel_setShowsBackground_, 0);
  objc_msgSend(v5, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  objc_msgSend(v5, sel_sizeToFit);
  objc_msgSend(v5, sel_setHidden_, 0);
  objc_msgSend(v5, sel_beginShowingProgressImmediately_animated_, 1, 1);
  id v6 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F824A8]), sel_initWithCustomView_, v5);

  return v6;
}

id sub_246B94F10()
{
  return sub_246B94F28(&qword_2691D6BD8, (uint64_t *)&selRef_doneTapped, 0);
}

id sub_246B94F28(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v4 = *a1;
  id v5 = *(void **)(v3 + *a1);
  if (v5)
  {
    id v6 = *(id *)(v3 + *a1);
  }
  else
  {
    id v7 = sub_246B958C0(v3, a2, a3);
    id v8 = *(void **)(v3 + v4);
    *(void *)(v3 + v4) = v7;
    id v6 = v7;

    id v5 = 0;
  }
  id v9 = v5;
  return v6;
}

id sub_246B94F88()
{
  return sub_246B94DA4(&qword_2691D6BE0, (uint64_t (*)(uint64_t))sub_246B94FA8);
}

id sub_246B94FA8(void *a1)
{
  id v2 = (void *)sub_246C2CC08();
  uint64_t v3 = (void *)sub_246C2CC08();
  id v4 = (id)NTKCCustomizationLocalizedString();

  sub_246C2CC48();
  uint64_t v5 = type metadata accessor for ParmesanFacePreviewViewController();
  v16[3] = v5;
  v16[0] = a1;
  id v6 = a1;
  id v7 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  if (v5)
  {
    id v8 = sub_246B8F7E8(v16, v5);
    uint64_t v9 = *(void *)(v5 - 8);
    MEMORY[0x270FA5388](v8);
    id v11 = (char *)v16 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v5);
    sub_246B8EB94((uint64_t)v16);
  }
  else
  {
    uint64_t v12 = 0;
  }
  id v13 = objc_allocWithZone(MEMORY[0x263F824A8]);
  id v14 = objc_msgSend(v13, sel_initWithTitle_style_target_action_, v7, 0, v12, sel_addTapped, v16[0]);

  swift_unknownObjectRelease();
  return v14;
}

id sub_246B951CC()
{
  return sub_246B94DA4(&qword_2691D6BE8, (uint64_t (*)(uint64_t))sub_246B951EC);
}

id sub_246B951EC(void *a1)
{
  id v2 = (void *)sub_246C2CC08();
  uint64_t v3 = (void *)sub_246C2CC08();
  id v4 = (id)NTKCCustomizationLocalizedString();

  sub_246C2CC48();
  uint64_t v5 = type metadata accessor for ParmesanFacePreviewViewController();
  v16[3] = v5;
  v16[0] = a1;
  id v6 = a1;
  id v7 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  if (v5)
  {
    id v8 = sub_246B8F7E8(v16, v5);
    uint64_t v9 = *(void *)(v5 - 8);
    MEMORY[0x270FA5388](v8);
    id v11 = (char *)v16 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v5);
    sub_246B8EB94((uint64_t)v16);
  }
  else
  {
    uint64_t v12 = 0;
  }
  id v13 = objc_allocWithZone(MEMORY[0x263F824A8]);
  id v14 = objc_msgSend(v13, sel_initWithTitle_style_target_action_, v7, 0, v12, sel_selectTapped, v16[0]);

  swift_unknownObjectRelease();
  return v14;
}

id sub_246B9541C()
{
  return sub_246B94DA4(&qword_2691D6BF0, (uint64_t (*)(uint64_t))sub_246B9543C);
}

id sub_246B9543C(void *a1)
{
  id v2 = (void *)sub_246C2CC08();
  uint64_t v3 = (void *)sub_246C2CC08();
  id v4 = (id)NTKCCustomizationLocalizedString();

  sub_246C2CC48();
  uint64_t v5 = type metadata accessor for ParmesanFacePreviewViewController();
  v16[3] = v5;
  v16[0] = a1;
  id v6 = a1;
  id v7 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  if (v5)
  {
    id v8 = sub_246B8F7E8(v16, v5);
    uint64_t v9 = *(void *)(v5 - 8);
    MEMORY[0x270FA5388](v8);
    id v11 = (char *)v16 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v5);
    sub_246B8EB94((uint64_t)v16);
  }
  else
  {
    uint64_t v12 = 0;
  }
  id v13 = objc_allocWithZone(MEMORY[0x263F824A8]);
  id v14 = objc_msgSend(v13, sel_initWithTitle_style_target_action_, v7, 0, v12, sel_selectAllTapped, v16[0]);

  swift_unknownObjectRelease();
  return v14;
}

id sub_246B95660()
{
  return sub_246B94DA4(&qword_2691D6BF8, (uint64_t (*)(uint64_t))sub_246B95680);
}

id sub_246B95680(void *a1)
{
  id v2 = (void *)sub_246C2CC08();
  uint64_t v3 = (void *)sub_246C2CC08();
  id v4 = (id)NTKCCustomizationLocalizedString();

  sub_246C2CC48();
  uint64_t v5 = type metadata accessor for ParmesanFacePreviewViewController();
  v16[3] = v5;
  v16[0] = a1;
  id v6 = a1;
  id v7 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  if (v5)
  {
    id v8 = sub_246B8F7E8(v16, v5);
    uint64_t v9 = *(void *)(v5 - 8);
    MEMORY[0x270FA5388](v8);
    id v11 = (char *)v16 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v5);
    sub_246B8EB94((uint64_t)v16);
  }
  else
  {
    uint64_t v12 = 0;
  }
  id v13 = objc_allocWithZone(MEMORY[0x263F824A8]);
  id v14 = objc_msgSend(v13, sel_initWithTitle_style_target_action_, v7, 0, v12, sel_deselectAllTapped, v16[0]);

  swift_unknownObjectRelease();
  return v14;
}

id sub_246B958A8()
{
  return sub_246B94F28(&qword_2691D6C00, (uint64_t *)&selRef_deleteTapped, 16);
}

id sub_246B958C0(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v4 = *a2;
  id v5 = objc_allocWithZone(MEMORY[0x263F824A8]);
  type metadata accessor for ParmesanFacePreviewViewController();
  id v6 = objc_msgSend(v5, sel_initWithBarButtonSystemItem_target_action_, a3, sub_246C2D558(), v4);
  swift_unknownObjectRelease();
  return v6;
}

uint64_t sub_246B95980(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = sub_246C2BCD8();
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  id v8 = (char *)&v12 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  id v9 = a3;
  id v10 = a1;
  LOBYTE(a1) = sub_246B987D8();

  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  return a1 & 1;
}

uint64_t sub_246B95A80(void *a1, uint64_t a2, void *a3, uint64_t a4)
{
  return sub_246B95AB0(a1, a2, a3, a4, (void (*)(char *))sub_246B9883C);
}

uint64_t sub_246B95A98(void *a1, uint64_t a2, void *a3, uint64_t a4)
{
  return sub_246B95AB0(a1, a2, a3, a4, (void (*)(char *))sub_246B921A4);
}

uint64_t sub_246B95AB0(void *a1, uint64_t a2, void *a3, uint64_t a4, void (*a5)(char *))
{
  uint64_t v8 = sub_246C2BCD8();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  id v11 = (char *)&v15 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  id v12 = a3;
  id v13 = a1;
  a5(v11);

  return (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v11, v8);
}

id sub_246B95BB8(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = sub_246C2BCD8();
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v13 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  id v9 = a3;
  swift_unknownObjectRetain();
  id v10 = a1;
  sub_246B989E0();

  swift_unknownObjectRelease();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  sub_246B8F1E0(0, &qword_2691D6E38);
  id v11 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();

  return v11;
}

id sub_246B95D14(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v6 - 8);
  uint64_t v8 = (char *)&v13 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a5)
  {
    sub_246C2BC88();
    uint64_t v9 = sub_246C2BCD8();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v9 - 8) + 56))(v8, 0, 1, v9);
  }
  else
  {
    uint64_t v10 = sub_246C2BCD8();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 56))(v8, 1, 1, v10);
  }
  id v11 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82568]), sel_initWithDropOperation_intent_, 3, 1);
  sub_246B9825C((uint64_t)v8);

  return v11;
}

void sub_246B95E48(void *a1, uint64_t a2, void *a3)
{
}

void sub_246B95E60(void *a1, uint64_t a2, void *a3)
{
}

void sub_246B95E78(void *a1, uint64_t a2, void *a3, void (*a4)(id, uint64_t))
{
  uint64_t v6 = *(void *)((*MEMORY[0x263F8EED0] & *a1) + 0x50);
  id v7 = a3;
  uint64_t v8 = a1;
  a4(v7, v6);
}

void sub_246B95F08(void *a1)
{
  id v28 = objc_msgSend(a1, sel_currentPreview);
  if (!v28)
  {
LABEL_19:
    objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0);
    return;
  }
  objc_msgSend(a1, sel_previewProvider);
  self;
  id v2 = (void *)swift_dynamicCastObjCClass();
  if (v2)
  {
    uint64_t v3 = v2;
    id v4 = objc_msgSend(v2, sel_editor);
    id v5 = objc_msgSend(v3, sel_selectedImageIndex);
    if ((objc_msgSend(v4, sel_savePreview_forPhotoAtIndex_, v28, v5) & 1) == 0)
    {
      if (qword_2691D6308 != -1) {
        swift_once();
      }
      uint64_t v6 = sub_246C2C088();
      sub_246B8BE0C(v6, (uint64_t)qword_2691E0168);
      id v7 = sub_246C2C068();
      os_log_type_t v8 = sub_246C2CEE8();
      if (os_log_type_enabled(v7, v8))
      {
        id v9 = v4;
        uint64_t v10 = (uint8_t *)swift_slowAlloc();
        *(_DWORD *)uint64_t v10 = 134217984;
        sub_246C2D1C8();
        _os_log_impl(&dword_246B51000, v7, v8, "Couldn't save preview at index %ld", v10, 0xCu);
        id v11 = v10;
        id v4 = v9;
        MEMORY[0x24C545990](v11, -1, -1);
      }
    }
    objc_msgSend(v4, sel_purgeResourcesForPreviewAtIndex_, v5);
    if (qword_2691D6308 != -1) {
      swift_once();
    }
    uint64_t v12 = sub_246C2C088();
    sub_246B8BE0C(v12, (uint64_t)qword_2691E0168);
    uint64_t v13 = v28;
    id v14 = sub_246C2C068();
    os_log_type_t v15 = sub_246C2CF08();
    if (os_log_type_enabled(v14, v15))
    {
      uint64_t v16 = swift_slowAlloc();
      uint64_t v17 = (void *)swift_slowAlloc();
      uint64_t v26 = swift_slowAlloc();
      uint64_t v29 = v26;
      *(_DWORD *)uint64_t v16 = 136315650;

      type metadata accessor for CGRect(0);
      uint64_t v18 = sub_246C2CCA8();
      id v19 = v5;
      sub_246BA686C(v18, v20, &v29);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      *(_WORD *)(v16 + 12) = 2112;
      id v21 = [v13 timeLayout];
      sub_246C2D1C8();
      *uint64_t v17 = v21;
      id v5 = v19;

      *(_WORD *)(v16 + 22) = 1024;
      [v13 useDepthEffect];

      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v14, v15, "Layout preview controller did save preview, crop = %s, timeLayout = %@, useDepthEffect = %{BOOL}d", (uint8_t *)v16, 0x1Cu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v17, -1, -1);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v26, -1, -1);
      MEMORY[0x24C545990](v16, -1, -1);
    }
    else
    {
    }
    sub_246B90FC0((uint64_t)v5);

    swift_unknownObjectRelease();
    goto LABEL_19;
  }
  swift_unknownObjectRelease();
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v22 = sub_246C2C088();
  sub_246B8BE0C(v22, (uint64_t)qword_2691E0168);
  oslog = sub_246C2C068();
  os_log_type_t v23 = sub_246C2CEE8();
  if (os_log_type_enabled(oslog, v23))
  {
    id v24 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v24 = 0;
    _os_log_impl(&dword_246B51000, oslog, v23, "Something's horribly wrong! Invalid type of previewProvider", v24, 2u);
    MEMORY[0x24C545990](v24, -1, -1);

    uint64_t v25 = oslog;
  }
  else
  {

    uint64_t v25 = v28;
  }
}

void sub_246B9653C(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_246B95F08(v4);
}

void sub_246B965A4(void *a1, uint64_t a2, void *a3)
{
  uint64_t v4 = qword_2691D6308;
  id v5 = a3;
  id v10 = a1;
  if (v4 != -1) {
    swift_once();
  }
  uint64_t v6 = sub_246C2C088();
  sub_246B8BE0C(v6, (uint64_t)qword_2691E0168);
  id v7 = sub_246C2C068();
  os_log_type_t v8 = sub_246C2CF08();
  if (os_log_type_enabled(v7, v8))
  {
    id v9 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v9 = 0;
    _os_log_impl(&dword_246B51000, v7, v8, "Layout preview controller did dismiss", v9, 2u);
    MEMORY[0x24C545990](v9, -1, -1);
  }

  objc_msgSend(v5, sel_dismissViewControllerAnimated_completion_, 1, 0);
}

void sub_246B966C8(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v4 = a4;

  sub_246B98F48();
}

id sub_246B96720()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ParmesanFacePreviewViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

void sub_246B9677C(uint64_t a1)
{
  sub_246B98F78(a1 + qword_2691D6B60);
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  objc_super v2 = *(void **)(a1 + qword_2691D6C00);
}

uint64_t type metadata accessor for ParmesanFacePreviewViewController()
{
  return sub_246B98FA0();
}

uint64_t sub_246B96920(void **a1)
{
  uint64_t v2 = *(void *)(sub_246C2BCD8() - 8);
  uint64_t v3 = *a1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v3 = (void *)sub_246B98080(v3);
  }
  uint64_t v4 = v3[2];
  v6[0] = (uint64_t)v3 + ((*(unsigned __int8 *)(v2 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v2 + 80));
  v6[1] = v4;
  uint64_t result = sub_246B969C8(v6);
  *a1 = v3;
  return result;
}

uint64_t sub_246B969C8(uint64_t *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2BCD8();
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v6 = MEMORY[0x270FA5388](v4);
  uint64_t v139 = (char *)&v133 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = MEMORY[0x270FA5388](v6);
  uint64_t v152 = (char *)&v133 - v9;
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  uint64_t v147 = (char *)&v133 - v11;
  MEMORY[0x270FA5388](v10);
  float32x4_t v148 = (char *)&v133 - v12;
  uint64_t v13 = a1[1];
  uint64_t result = sub_246C2D518();
  if (result >= v13)
  {
    if (v13 < 0) {
      goto LABEL_142;
    }
    if (v13) {
      return sub_246B9756C(0, v13, 1, a1);
    }
    return result;
  }
  if (v13 >= 0) {
    uint64_t v15 = v13;
  }
  else {
    uint64_t v15 = v13 + 1;
  }
  if (v13 < -1) {
    goto LABEL_150;
  }
  uint64_t v135 = result;
  uint64_t v142 = v5;
  if (v13 < 2)
  {
    uint64_t v20 = MEMORY[0x263F8EE78];
    unint64_t v141 = MEMORY[0x263F8EE78]
         + ((*(unsigned __int8 *)(v5 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80));
    if (v13 != 1)
    {
      unint64_t v23 = *(void *)(MEMORY[0x263F8EE78] + 16);
      uint64_t v22 = (char *)MEMORY[0x263F8EE78];
LABEL_106:
      uint64_t v134 = v20;
      if (v23 >= 2)
      {
        uint64_t v126 = *a1;
        do
        {
          unint64_t v127 = v23 - 2;
          if (v23 < 2) {
            goto LABEL_137;
          }
          if (!v126) {
            goto LABEL_149;
          }
          long long v128 = v22;
          uint64_t v129 = *(void *)&v22[16 * v127 + 32];
          uint64_t v130 = *(void *)&v22[16 * v23 + 24];
          sub_246B97868(v126 + *(void *)(v142 + 72) * v129, v126 + *(void *)(v142 + 72) * *(void *)&v22[16 * v23 + 16], v126 + *(void *)(v142 + 72) * v130, v141);
          if (v2) {
            break;
          }
          if (v130 < v129) {
            goto LABEL_138;
          }
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
            long long v128 = sub_246B9806C((uint64_t)v22);
          }
          if (v127 >= *((void *)v128 + 2)) {
            goto LABEL_139;
          }
          uint64_t v131 = &v128[16 * v127 + 32];
          *(void *)uint64_t v131 = v129;
          *((void *)v131 + 1) = v130;
          unint64_t v132 = *((void *)v128 + 2);
          if (v23 > v132) {
            goto LABEL_140;
          }
          uint64_t v22 = v128;
          memmove(&v128[16 * v23 + 16], &v128[16 * v23 + 32], 16 * (v132 - v23));
          *((void *)v128 + 2) = v132 - 1;
          unint64_t v23 = v132 - 1;
        }
        while (v132 > 2);
      }
LABEL_117:
      swift_bridgeObjectRelease();
      *(void *)(v134 + 16) = 0;
      return swift_bridgeObjectRelease();
    }
    uint64_t v16 = 1;
    uint64_t v134 = MEMORY[0x263F8EE78];
  }
  else
  {
    uint64_t v16 = v13;
    uint64_t v17 = v15 >> 1;
    uint64_t v18 = sub_246C2CD78();
    *(void *)(v18 + 16) = v17;
    uint64_t v5 = v142;
    unint64_t v19 = (*(unsigned __int8 *)(v5 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
    uint64_t v134 = v18;
    unint64_t v141 = v18 + v19;
  }
  uint64_t v21 = 0;
  uint64_t v145 = (void (**)(char *, uint64_t))(v5 + 8);
  uint64_t v146 = v5 + 16;
  uint64_t v156 = (void (**)(char *, char *, uint64_t))(v5 + 32);
  uint64_t v22 = (char *)MEMORY[0x263F8EE78];
  uint64_t v149 = a1;
  uint64_t v151 = v4;
  while (1)
  {
    id v24 = (char *)v21;
    uint64_t v25 = v21 + 1;
    int v137 = v22;
    uint64_t v26 = v16;
    if (v21 + 1 >= v16)
    {
      uint64_t v39 = v21 + 1;
      uint64_t v48 = v142;
    }
    else
    {
      uint64_t v143 = (char *)*a1;
      id v27 = v143;
      uint64_t v28 = v142;
      uint64_t v29 = *(void *)(v142 + 72);
      uint64_t v140 = v21;
      uint64_t v30 = v29;
      uint64_t v31 = *(void (**)(char *, char *, uint64_t))(v142 + 16);
      uint64_t v157 = v26;
      v31(v148, &v143[v29 * v25], v4);
      uint64_t v32 = &v27[v30 * v140];
      uint64_t v33 = v147;
      uint64_t v153 = v31;
      v31(v147, v32, v4);
      uint64_t v34 = v148;
      uint64_t v155 = sub_246C2BCB8();
      uint64_t v154 = sub_246C2BCB8();
      uint64_t v35 = v4;
      uint64_t v36 = *(void (**)(char *, uint64_t))(v28 + 8);
      v36(v33, v35);
      uint64_t v37 = v35;
      uint64_t v26 = v157;
      v36(v34, v37);
      uint64_t v38 = v30;
      id v24 = (char *)v140;
      uint64_t v39 = v140 + 2;
      uint64_t v158 = v38;
      if (v140 + 2 >= v26)
      {
        uint64_t v48 = v142;
      }
      else
      {
        uint64_t v138 = v2;
        uint64_t v150 = v38 * v25;
        id v40 = v143;
        uint64_t v41 = (char *)(v140 + 2);
        uint64_t v144 = v38 * (v140 + 2);
        while (1)
        {
          int v42 = v154 < v155;
          uint64_t v43 = v148;
          uint64_t v44 = v151;
          uint64_t v45 = v153;
          v153(v148, &v40[v144], v151);
          id v46 = v147;
          v45(v147, &v40[v150], v44);
          uint64_t v47 = sub_246C2BCB8();
          LODWORD(v47) = sub_246C2BCB8() >= v47;
          v36(v46, v44);
          v36(v43, v44);
          if (v42 == v47) {
            break;
          }
          uint64_t v38 = v158;
          v40 += v158;
          ++v41;
          uint64_t v26 = v157;
          if ((char *)v157 == v41)
          {
            uint64_t v39 = v157;
            uint64_t v2 = v138;
            uint64_t v48 = v142;
            a1 = v149;
            id v24 = (char *)v140;
            goto LABEL_25;
          }
        }
        uint64_t v2 = v138;
        uint64_t v48 = v142;
        a1 = v149;
        uint64_t v39 = (uint64_t)v41;
        id v24 = (char *)v140;
        uint64_t v26 = v157;
        uint64_t v38 = v158;
      }
LABEL_25:
      uint64_t v4 = v151;
      if (v154 < v155)
      {
        if (v39 < (uint64_t)v24) {
          goto LABEL_143;
        }
        if ((uint64_t)v24 < v39)
        {
          uint64_t v49 = 0;
          uint64_t v50 = (uint64_t)v24;
          uint64_t v51 = v38 * (v39 - 1);
          uint64_t v52 = v39 * v38;
          uint64_t v53 = v50;
          uint64_t v54 = v39;
          uint64_t v55 = v50 * v38;
          uint64_t v150 = v54;
          do
          {
            if (v53 != v54 + v49 - 1)
            {
              if (!v143) {
                goto LABEL_148;
              }
              uint64_t v138 = v2;
              uint64_t v57 = &v143[v55];
              uint64_t v58 = &v143[v51];
              uint64_t v59 = v143;
              uint64_t v60 = *v156;
              (*v156)(v139, &v143[v55], v151);
              if (v55 < v51 || v57 >= &v59[v52])
              {
                uint64_t v56 = v151;
                swift_arrayInitWithTakeFrontToBack();
              }
              else
              {
                uint64_t v56 = v151;
                if (v55 != v51) {
                  swift_arrayInitWithTakeBackToFront();
                }
              }
              v60(v58, v139, v56);
              uint64_t v48 = v142;
              uint64_t v2 = v138;
              uint64_t v38 = v158;
            }
            ++v53;
            --v49;
            uint64_t v54 = v150;
            v51 -= v38;
            v52 -= v38;
            v55 += v38;
          }
          while (v53 < v150 + v49);
          a1 = v149;
          uint64_t v4 = v151;
          uint64_t v39 = v150;
          id v24 = (char *)v140;
          uint64_t v26 = v157;
        }
      }
    }
    if (v39 >= v26) {
      goto LABEL_57;
    }
    if (__OFSUB__(v39, v24)) {
      goto LABEL_141;
    }
    if (v39 - (uint64_t)v24 >= v135) {
      goto LABEL_57;
    }
    if (__OFADD__(v24, v135)) {
      goto LABEL_144;
    }
    uint64_t v61 = (uint64_t)&v24[v135] >= v26 ? v26 : (uint64_t)&v24[v135];
    if (v61 < (uint64_t)v24) {
      break;
    }
    if (v39 != v61)
    {
      uint64_t v140 = (uint64_t)v24;
      uint64_t v138 = v2;
      uint64_t v62 = *(void *)(v48 + 72);
      uint64_t v143 = *(char **)(v48 + 16);
      uint64_t v144 = v62;
      uint64_t v158 = v62 * (v39 - 1);
      uint64_t v157 = v39 * v62;
      uint64_t v136 = v61;
      do
      {
        uint64_t v64 = 0;
        uint64_t v65 = (void (*)(char *, char *, uint64_t))v140;
        uint64_t v150 = v39;
        while (1)
        {
          uint64_t v153 = v65;
          uint64_t v67 = v148;
          uint64_t v66 = v149;
          uint64_t v68 = *v149;
          uint64_t v69 = (void (*)(char *, uint64_t, uint64_t))v143;
          ((void (*)(char *, uint64_t, uint64_t))v143)(v148, v157 + v64 + *v149, v4);
          uint64_t v70 = v158 + v64 + v68;
          uint64_t v71 = v147;
          v69(v147, v70, v4);
          uint64_t v155 = sub_246C2BCB8();
          uint64_t v154 = sub_246C2BCB8();
          uint64_t v72 = *v145;
          (*v145)(v71, v4);
          v72(v67, v4);
          if (v154 >= v155) {
            break;
          }
          uint64_t v73 = *v66;
          if (!*v66) {
            goto LABEL_146;
          }
          uint64_t v74 = (char *)(v73 + v158 + v64);
          id v75 = *v156;
          uint64_t v4 = v151;
          (*v156)(v152, (char *)(v73 + v157 + v64), v151);
          int v63 = (char *)v150;
          swift_arrayInitWithTakeFrontToBack();
          v75(v74, v152, v4);
          v64 -= v144;
          uint64_t v65 = (void (*)(char *, char *, uint64_t))((char *)v153 + 1);
          if (v63 == (char *)v153 + 1) {
            goto LABEL_50;
          }
        }
        int v63 = (char *)v150;
        uint64_t v4 = v151;
LABEL_50:
        uint64_t v39 = (uint64_t)(v63 + 1);
        v158 += v144;
        v157 += v144;
      }
      while (v39 != v136);
      uint64_t v39 = v136;
      uint64_t v2 = v138;
      a1 = v149;
      id v24 = (char *)v140;
    }
LABEL_57:
    if (v39 < (uint64_t)v24) {
      goto LABEL_136;
    }
    if (swift_isUniquelyReferenced_nonNull_native()) {
      uint64_t v22 = v137;
    }
    else {
      uint64_t v22 = sub_246B97E30(0, *((void *)v137 + 2) + 1, 1, v137);
    }
    unint64_t v77 = *((void *)v22 + 2);
    unint64_t v76 = *((void *)v22 + 3);
    unint64_t v23 = v77 + 1;
    if (v77 >= v76 >> 1) {
      uint64_t v22 = sub_246B97E30((char *)(v76 > 1), v77 + 1, 1, v22);
    }
    *((void *)v22 + 2) = v23;
    char v78 = v22 + 32;
    unint64_t v79 = &v22[16 * v77 + 32];
    *(void *)unint64_t v79 = v24;
    *((void *)v79 + 1) = v39;
    uint64_t v150 = v39;
    if (v77)
    {
      while (1)
      {
        unint64_t v80 = v23 - 1;
        if (v23 >= 4)
        {
          uint64_t v85 = &v78[16 * v23];
          uint64_t v86 = *((void *)v85 - 8);
          uint64_t v87 = *((void *)v85 - 7);
          BOOL v91 = __OFSUB__(v87, v86);
          uint64_t v88 = v87 - v86;
          if (v91) {
            goto LABEL_125;
          }
          uint64_t v90 = *((void *)v85 - 6);
          uint64_t v89 = *((void *)v85 - 5);
          BOOL v91 = __OFSUB__(v89, v90);
          uint64_t v83 = v89 - v90;
          char v84 = v91;
          if (v91) {
            goto LABEL_126;
          }
          unint64_t v92 = v23 - 2;
          uint64_t v93 = &v78[16 * v23 - 32];
          uint64_t v95 = *(void *)v93;
          uint64_t v94 = *((void *)v93 + 1);
          BOOL v91 = __OFSUB__(v94, v95);
          uint64_t v96 = v94 - v95;
          if (v91) {
            goto LABEL_128;
          }
          BOOL v91 = __OFADD__(v83, v96);
          uint64_t v97 = v83 + v96;
          if (v91) {
            goto LABEL_131;
          }
          if (v97 >= v88)
          {
            uint64_t v115 = &v78[16 * v80];
            uint64_t v117 = *(void *)v115;
            uint64_t v116 = *((void *)v115 + 1);
            BOOL v91 = __OFSUB__(v116, v117);
            uint64_t v118 = v116 - v117;
            if (v91) {
              goto LABEL_135;
            }
            BOOL v108 = v83 < v118;
            goto LABEL_94;
          }
        }
        else
        {
          if (v23 != 3)
          {
            uint64_t v109 = *((void *)v22 + 4);
            uint64_t v110 = *((void *)v22 + 5);
            BOOL v91 = __OFSUB__(v110, v109);
            uint64_t v102 = v110 - v109;
            char v103 = v91;
            goto LABEL_88;
          }
          uint64_t v82 = *((void *)v22 + 4);
          uint64_t v81 = *((void *)v22 + 5);
          BOOL v91 = __OFSUB__(v81, v82);
          uint64_t v83 = v81 - v82;
          char v84 = v91;
        }
        if (v84) {
          goto LABEL_127;
        }
        unint64_t v92 = v23 - 2;
        uint64_t v98 = &v78[16 * v23 - 32];
        uint64_t v100 = *(void *)v98;
        uint64_t v99 = *((void *)v98 + 1);
        BOOL v101 = __OFSUB__(v99, v100);
        uint64_t v102 = v99 - v100;
        char v103 = v101;
        if (v101) {
          goto LABEL_130;
        }
        uint64_t v104 = &v78[16 * v80];
        uint64_t v106 = *(void *)v104;
        uint64_t v105 = *((void *)v104 + 1);
        BOOL v91 = __OFSUB__(v105, v106);
        uint64_t v107 = v105 - v106;
        if (v91) {
          goto LABEL_133;
        }
        if (__OFADD__(v102, v107)) {
          goto LABEL_134;
        }
        if (v102 + v107 >= v83)
        {
          BOOL v108 = v83 < v107;
LABEL_94:
          if (v108) {
            unint64_t v80 = v92;
          }
          goto LABEL_96;
        }
LABEL_88:
        if (v103) {
          goto LABEL_129;
        }
        uint64_t v111 = &v78[16 * v80];
        uint64_t v113 = *(void *)v111;
        uint64_t v112 = *((void *)v111 + 1);
        BOOL v91 = __OFSUB__(v112, v113);
        uint64_t v114 = v112 - v113;
        if (v91) {
          goto LABEL_132;
        }
        if (v114 < v102) {
          goto LABEL_15;
        }
LABEL_96:
        unint64_t v119 = v80 - 1;
        if (v80 - 1 >= v23)
        {
          __break(1u);
LABEL_122:
          __break(1u);
LABEL_123:
          __break(1u);
LABEL_124:
          __break(1u);
LABEL_125:
          __break(1u);
LABEL_126:
          __break(1u);
LABEL_127:
          __break(1u);
LABEL_128:
          __break(1u);
LABEL_129:
          __break(1u);
LABEL_130:
          __break(1u);
LABEL_131:
          __break(1u);
LABEL_132:
          __break(1u);
LABEL_133:
          __break(1u);
LABEL_134:
          __break(1u);
LABEL_135:
          __break(1u);
LABEL_136:
          __break(1u);
LABEL_137:
          __break(1u);
LABEL_138:
          __break(1u);
LABEL_139:
          __break(1u);
LABEL_140:
          __break(1u);
LABEL_141:
          __break(1u);
LABEL_142:
          __break(1u);
LABEL_143:
          __break(1u);
LABEL_144:
          __break(1u);
          goto LABEL_145;
        }
        uint64_t v120 = *a1;
        if (!*a1) {
          goto LABEL_147;
        }
        uint64_t v121 = &v78[16 * v119];
        uint64_t v122 = *(void *)v121;
        long long v123 = &v78[16 * v80];
        uint64_t v124 = *((void *)v123 + 1);
        sub_246B97868(v120 + *(void *)(v142 + 72) * *(void *)v121, v120 + *(void *)(v142 + 72) * *(void *)v123, v120 + *(void *)(v142 + 72) * v124, v141);
        if (v2) {
          goto LABEL_117;
        }
        if (v124 < v122) {
          goto LABEL_122;
        }
        if (v80 > *((void *)v22 + 2)) {
          goto LABEL_123;
        }
        *(void *)uint64_t v121 = v122;
        *(void *)&v78[16 * v119 + 8] = v124;
        unint64_t v125 = *((void *)v22 + 2);
        if (v80 >= v125) {
          goto LABEL_124;
        }
        unint64_t v23 = v125 - 1;
        memmove(&v78[16 * v80], v123 + 16, 16 * (v125 - 1 - v80));
        *((void *)v22 + 2) = v125 - 1;
        a1 = v149;
        uint64_t v4 = v151;
        if (v125 <= 2) {
          goto LABEL_15;
        }
      }
    }
    unint64_t v23 = 1;
LABEL_15:
    uint64_t v16 = a1[1];
    uint64_t v21 = v150;
    if (v150 >= v16)
    {
      uint64_t v20 = v134;
      goto LABEL_106;
    }
  }
LABEL_145:
  __break(1u);
LABEL_146:
  __break(1u);
LABEL_147:
  __break(1u);
LABEL_148:
  __break(1u);
LABEL_149:
  __break(1u);
LABEL_150:
  uint64_t result = sub_246C2D398();
  __break(1u);
  return result;
}

uint64_t sub_246B9756C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  uint64_t v35 = a1;
  uint64_t v7 = sub_246C2BCD8();
  uint64_t v8 = MEMORY[0x270FA5388](v7);
  uint64_t v45 = (char *)&v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  id v40 = (char *)&v33 - v11;
  uint64_t result = MEMORY[0x270FA5388](v10);
  uint64_t v39 = (char *)&v33 - v14;
  uint64_t v43 = a3;
  uint64_t v34 = a2;
  if (a3 != a2)
  {
    uint64_t v16 = *(void (**)(void, void, void))(v13 + 16);
    uint64_t v15 = v13 + 16;
    uint64_t v17 = *(void *)(v15 + 56);
    uint64_t v36 = (uint64_t (**)(char *, uint64_t))(v15 - 8);
    uint64_t v37 = (void (*)(char *, uint64_t, uint64_t))v16;
    uint64_t v38 = v15;
    uint64_t v44 = (uint64_t (**)(char *, uint64_t, uint64_t))(v15 + 16);
    uint64_t v49 = v17 * (v43 - 1);
    uint64_t v41 = v17;
    uint64_t v18 = v17 * v43;
    uint64_t v48 = a4;
LABEL_5:
    uint64_t v19 = 0;
    uint64_t v46 = v35;
    uint64_t v42 = v18;
    while (1)
    {
      uint64_t v20 = *v48;
      uint64_t v21 = v18 + v19 + *v48;
      uint64_t v22 = v39;
      unint64_t v23 = v37;
      v37(v39, v21, v7);
      uint64_t v24 = v7;
      uint64_t v25 = v40;
      v23(v40, v49 + v19 + v20, v24);
      uint64_t v47 = sub_246C2BCB8();
      uint64_t v26 = sub_246C2BCB8();
      id v27 = *v36;
      uint64_t v28 = v25;
      uint64_t v7 = v24;
      (*v36)(v28, v24);
      uint64_t v29 = v22;
      uint64_t v18 = v42;
      uint64_t result = v27(v29, v24);
      if (v26 >= v47)
      {
LABEL_4:
        v49 += v41;
        v18 += v41;
        if (++v43 == v34) {
          return result;
        }
        goto LABEL_5;
      }
      uint64_t v30 = *v48;
      if (!*v48) {
        break;
      }
      uint64_t v31 = (char *)(v30 + v49 + v19);
      uint64_t v32 = *v44;
      (*v44)(v45, v30 + v18 + v19, v24);
      swift_arrayInitWithTakeFrontToBack();
      uint64_t result = v32(v31, (uint64_t)v45, v24);
      v19 -= v41;
      if (v43 == ++v46) {
        goto LABEL_4;
      }
    }
    __break(1u);
  }
  return result;
}

uint64_t sub_246B97868(unint64_t a1, unint64_t a2, unint64_t a3, unint64_t a4)
{
  uint64_t v65 = sub_246C2BCD8();
  uint64_t v8 = *(void *)(v65 - 8);
  uint64_t v9 = MEMORY[0x270FA5388](v65);
  int v63 = (char *)&v54 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v9);
  uint64_t v62 = (char *)&v54 - v11;
  uint64_t v13 = *(void *)(v12 + 72);
  if (!v13)
  {
    __break(1u);
LABEL_72:
    __break(1u);
LABEL_73:
    __break(1u);
    goto LABEL_74;
  }
  if (a2 - a1 == 0x8000000000000000 && v13 == -1) {
    goto LABEL_72;
  }
  int64_t v14 = a3 - a2;
  if (a3 - a2 == 0x8000000000000000 && v13 == -1) {
    goto LABEL_73;
  }
  uint64_t v15 = (uint64_t)(a2 - a1) / v13;
  unint64_t v68 = a1;
  unint64_t v67 = a4;
  uint64_t v16 = v14 / v13;
  if (v15 >= v14 / v13)
  {
    if ((v16 & 0x8000000000000000) == 0)
    {
      uint64_t v18 = v16 * v13;
      if (a4 < a2 || a2 + v18 <= a4)
      {
        swift_arrayInitWithTakeFrontToBack();
      }
      else if (a4 != a2)
      {
        swift_arrayInitWithTakeBackToFront();
      }
      unint64_t v37 = a4 + v18;
      unint64_t v66 = a4 + v18;
      unint64_t v68 = a2;
      if (v18 >= 1 && a1 < a2)
      {
        uint64_t v39 = -v13;
        id v40 = *(void (**)(char *, unint64_t, uint64_t))(v8 + 16);
        uint64_t v61 = v8 + 16;
        uint64_t v57 = (void (**)(char *, uint64_t))(v8 + 8);
        uint64_t v58 = v40;
        unint64_t v59 = a4;
        unint64_t v55 = a1;
        uint64_t v56 = -v13;
        do
        {
          unint64_t v64 = a3;
          unint64_t v60 = a3 + v39;
          uint64_t v41 = v62;
          uint64_t v42 = v65;
          uint64_t v43 = v58;
          v58(v62, v37 + v39, v65);
          unint64_t v44 = a2 + v39;
          uint64_t v45 = v63;
          v43(v63, v44, v42);
          uint64_t v46 = sub_246C2BCB8();
          uint64_t v47 = sub_246C2BCB8();
          uint64_t v48 = *v57;
          (*v57)(v45, v42);
          v48(v41, v42);
          if (v47 >= v46)
          {
            unint64_t v51 = v66;
            v66 += v56;
            a3 = v60;
            BOOL v52 = v64 < v51 || v60 >= v51;
            uint64_t v39 = v56;
            if (v52)
            {
              swift_arrayInitWithTakeFrontToBack();
              unint64_t v44 = a2;
              unint64_t v49 = v59;
            }
            else
            {
              unint64_t v49 = v59;
              if (v64 != v51) {
                swift_arrayInitWithTakeBackToFront();
              }
              unint64_t v44 = a2;
            }
            unint64_t v50 = v55;
          }
          else
          {
            uint64_t v39 = v56;
            a3 = v60;
            if (v64 < a2 || v60 >= a2)
            {
              swift_arrayInitWithTakeFrontToBack();
              unint64_t v49 = v59;
              unint64_t v50 = v55;
            }
            else
            {
              unint64_t v49 = v59;
              unint64_t v50 = v55;
              if (v64 != a2) {
                swift_arrayInitWithTakeBackToFront();
              }
            }
            v68 += v39;
          }
          unint64_t v37 = v66;
          if (v66 <= v49) {
            break;
          }
          a2 = v44;
        }
        while (v44 > v50);
      }
      goto LABEL_70;
    }
  }
  else if ((v15 & 0x8000000000000000) == 0)
  {
    uint64_t v17 = v15 * v13;
    if (a4 < a1 || a1 + v17 <= a4)
    {
      swift_arrayInitWithTakeFrontToBack();
    }
    else if (a4 != a1)
    {
      swift_arrayInitWithTakeBackToFront();
    }
    unint64_t v60 = a4 + v17;
    unint64_t v66 = a4 + v17;
    if (v17 >= 1 && a2 < a3)
    {
      uint64_t v20 = *(void (**)(char *, unint64_t, uint64_t))(v8 + 16);
      uint64_t v61 = v8 + 16;
      uint64_t v57 = (void (**)(char *, uint64_t))(v8 + 8);
      uint64_t v58 = v20;
      unint64_t v64 = a3;
      uint64_t v21 = v62;
      uint64_t v22 = (void (**)(char *, uint64_t))(v8 + 8);
      do
      {
        uint64_t v23 = v13;
        uint64_t v24 = v65;
        uint64_t v25 = v58;
        v58(v21, a2, v65);
        unint64_t v26 = a4;
        id v27 = v63;
        v25(v63, v26, v24);
        uint64_t v28 = sub_246C2BCB8();
        uint64_t v29 = sub_246C2BCB8();
        uint64_t v30 = *v22;
        (*v22)(v27, v24);
        v30(v21, v24);
        unint64_t v31 = v68;
        if (v29 >= v28)
        {
          uint64_t v13 = v23;
          unint64_t v35 = v67 + v23;
          if (v68 < v67 || v68 >= v35)
          {
            swift_arrayInitWithTakeFrontToBack();
            unint64_t v34 = v64;
          }
          else
          {
            unint64_t v34 = v64;
            if (v68 != v67) {
              swift_arrayInitWithTakeBackToFront();
            }
          }
          unint64_t v67 = v35;
          unint64_t v32 = a2;
        }
        else
        {
          uint64_t v13 = v23;
          unint64_t v32 = a2 + v23;
          if (v68 < a2 || v68 >= v32)
          {
            swift_arrayInitWithTakeFrontToBack();
            unint64_t v34 = v64;
          }
          else
          {
            unint64_t v34 = v64;
            if (v68 == a2) {
              unint64_t v31 = a2;
            }
            else {
              swift_arrayInitWithTakeBackToFront();
            }
          }
        }
        unint64_t v68 = v31 + v13;
        a4 = v67;
        if (v67 >= v60) {
          break;
        }
        a2 = v32;
      }
      while (v32 < v34);
    }
LABEL_70:
    sub_246B97F2C(&v68, &v67, (uint64_t *)&v66);
    return 1;
  }
LABEL_74:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

char *sub_246B97E30(char *result, int64_t a2, char a3, char *a4)
{
  char v5 = (char)result;
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        return result;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D6DB0);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 17;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 4);
  }
  else
  {
    uint64_t v10 = (char *)MEMORY[0x263F8EE78];
  }
  uint64_t v13 = v10 + 32;
  int64_t v14 = a4 + 32;
  if (v5)
  {
    if (v10 != a4 || v13 >= &v14[16 * v8]) {
      memmove(v13, v14, 16 * v8);
    }
    *((void *)a4 + 2) = 0;
  }
  else
  {
    memcpy(v13, v14, 16 * v8);
  }
  swift_bridgeObjectRelease();
  return v10;
}

uint64_t sub_246B97F2C(unint64_t *a1, unint64_t *a2, uint64_t *a3)
{
  unint64_t v3 = *a1;
  unint64_t v4 = *a2;
  uint64_t v5 = *a3;
  uint64_t result = sub_246C2BCD8();
  uint64_t v7 = *(void *)(*(void *)(result - 8) + 72);
  if (!v7)
  {
    __break(1u);
LABEL_18:
    __break(1u);
    goto LABEL_19;
  }
  uint64_t v8 = v5 - v4;
  if (v5 - v4 == 0x8000000000000000 && v7 == -1) {
    goto LABEL_18;
  }
  if (v8 / v7 < 0)
  {
LABEL_19:
    uint64_t result = sub_246C2D408();
    __break(1u);
    return result;
  }
  if (v3 < v4 || v3 >= v4 + v8 / v7 * v7)
  {
    return swift_arrayInitWithTakeFrontToBack();
  }
  else if (v3 != v4)
  {
    return swift_arrayInitWithTakeBackToFront();
  }
  return result;
}

char *sub_246B9806C(uint64_t a1)
{
  return sub_246B97E30(0, *(void *)(a1 + 16), 0, (char *)a1);
}

uint64_t sub_246B98080(void *a1)
{
  return sub_246C00E94(0, a1[2], 0, a1);
}

void sub_246B98094()
{
  swift_unknownObjectWeakInit();
  *(void *)&v0[qword_2691D6B68] = 0;
  *(void *)&v0[qword_2691D6B70] = 0;
  *(void *)&v0[qword_2691D6B78] = MEMORY[0x263F8EE78];
  v0[qword_2691D6B80] = 0;
  v0[qword_2691D6B88] = 0;
  *(void *)&v0[qword_2691D6B90] = 0;
  *(void *)&v0[qword_2691D6B98] = 0;
  *(void *)&v0[qword_2691D6BA0] = 0;
  *(void *)&v0[qword_2691D6BA8] = 0;
  *(void *)&v0[qword_2691D6BB0] = 0;
  *(void *)&v0[qword_2691D6BB8] = 0;
  *(void *)&v0[qword_2691D6BC0] = 0;
  *(void *)&v0[qword_2691D6BC8] = 0;
  *(void *)&v0[qword_2691D6BD0] = 0;
  *(void *)&v0[qword_2691D6BD8] = 0;
  *(void *)&v0[qword_2691D6BE0] = 0;
  *(void *)&v0[qword_2691D6BE8] = 0;
  *(void *)&v0[qword_2691D6BF0] = 0;
  *(void *)&v0[qword_2691D6BF8] = 0;
  *(void *)&v0[qword_2691D6C00] = 0;

  sub_246C2D3A8();
  __break(1u);
}

uint64_t sub_246B98204()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246B9823C(uint64_t a1)
{
  sub_246B94524(a1, *(void *)(v1 + 24));
}

uint64_t sub_246B98244(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246B98254()
{
  return swift_release();
}

uint64_t sub_246B9825C(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D69E0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_246B982BC(uint64_t a1, uint64_t a2)
{
  return sub_246B937D0(a1, a2, *(void *)(v2 + 24));
}

uint64_t sub_246B982C4()
{
  swift_release();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

void sub_246B982FC(uint64_t a1, void *a2)
{
  sub_246B93330(a1, a2, *(void *)(v2 + 24));
}

uint64_t sub_246B98304()
{
  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246B9833C(double a1)
{
  sub_246B934D8(*(void *)(v1 + 16), a1);
}

void sub_246B98344(char *a1, uint64_t a2, uint64_t *a3)
{
  sub_246B917AC(a1, a2, a3, *(void *)(v3 + 24));
}

uint64_t sub_246B9834C()
{
  uint64_t v1 = sub_246B80250(&qword_2691D6DE8);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return MEMORY[0x270FA0238](v0, v5, v6);
}

uint64_t sub_246B983E0()
{
  sub_246B80250(&qword_2691D6DE8);

  return sub_246B91C14();
}

uint64_t sub_246B9847C(uint64_t a1, uint64_t a2, void *a3)
{
  return (*(uint64_t (**)(uint64_t, uint64_t, void, void))(v3 + 16))(a1, a2, *a3, a3[1]);
}

char *sub_246B984AC(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_246B91CA0(a1, a2, a3, a4, *(void *)(v4 + 24));
}

uint64_t sub_246B984B4()
{
  uint64_t v1 = sub_246B80250(&qword_2691D6DE0);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 32) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;

  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return MEMORY[0x270FA0238](v0, v5, v6);
}

void sub_246B98584(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  sub_246B80250(&qword_2691D6DE0);
  uint64_t v9 = *(void *)(v4 + 24);

  sub_246B91D70(a1, a2, a3, a4, v9);
}

char *sub_246B98624(uint64_t a1)
{
  return sub_246B91DEC(a1, *(void *)(v1 + 24));
}

uint64_t sub_246B9862C()
{
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_246B98674(uint64_t a1, void *a2, double a3, double a4, double a5, double a6)
{
  return sub_246B91928(a1, a2, v6[2], v6[3], v6[4], a3, a4, a5, a6);
}

void sub_246B98680(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
  if (a2)
  {
    swift_bridgeObjectRelease();
  }
}

uint64_t sub_246B986D4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D6E18);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_246B9873C(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
  if (a2)
  {
    id v9 = a3;
    id v10 = a8;
    return swift_bridgeObjectRetain();
  }
  return result;
}

void *sub_246B98784(void *a1, void (*a2)(void, void, void, void, void, void, void, void, void, void))
{
  return a1;
}

uint64_t sub_246B987D8()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2BCB8();
  if (objc_msgSend(v1, sel_isEditing)) {
    return 1;
  }
  else {
    return (uint64_t)objc_msgSend(*(id *)&v1[qword_2691D6B50], sel_canChangeOriginalCropOfPhotoAtIndex_, v2);
  }
}

void sub_246B9883C()
{
  uint64_t v1 = v0;
  sub_246B921CC();
  if (objc_msgSend(v0, sel_isEditing))
  {
    sub_246B9245C();
  }
  else if (sub_246C2BCB8() < *(void *)(*(void *)&v0[qword_2691D6B78] + 16))
  {
    sub_246B8F1E0(0, &qword_2691D6E40);
    id v2 = *(id *)&v0[qword_2691D6B50];
    uint64_t v3 = sub_246C2BCB8();
    id v4 = objc_msgSend(objc_allocWithZone((Class)swift_getObjCClassFromMetadata()), sel_initWithEditor_selectedImageIndex_, v2, v3);

    id v5 = objc_msgSend(objc_allocWithZone((Class)NTKCParmesanPreviewViewController), sel_initWithPreviewProvider_, v4);
    id v6 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F829B8]), sel_initWithRootViewController_, v5);
    objc_msgSend(v5, sel_setDelegate_, v1);
    objc_msgSend(v1, sel_presentViewController_animated_completion_, v6, 1, 0);
  }
}

void sub_246B989E0()
{
  uint64_t v1 = *(void **)(v0 + qword_2691D6B70);
  if (v1)
  {
    id v2 = v1;
    sub_246C2C348();

    if (v8)
    {
      uint64_t v3 = (void *)sub_246C2CC08();
      id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F088E0]), sel_initWithObject_, v3);

      id v5 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F826C8]), sel_initWithItemProvider_, v4);
      id v6 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      objc_msgSend(v5, sel_setLocalObject_, v6);

      sub_246B80250((uint64_t *)&unk_2691D6A80);
      uint64_t v7 = swift_allocObject();
      *(_OWORD *)(v7 + 16) = xmmword_246C33610;
      *(void *)(v7 + 32) = v5;
      sub_246C2CD58();
    }
  }
  else
  {
    __break(1u);
  }
}

void sub_246B98B18(void *a1)
{
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E0168);
  uint64_t v3 = sub_246C2C068();
  os_log_type_t v4 = sub_246C2CF08();
  if (os_log_type_enabled(v3, v4))
  {
    id v5 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_246B51000, v3, v4, "Layout preview controller cancelled", v5, 2u);
    MEMORY[0x24C545990](v5, -1, -1);
  }

  id v6 = objc_msgSend(a1, sel_previewProvider);
  self;
  uint64_t v7 = (void *)swift_dynamicCastObjCClass();
  if (v7)
  {
    uint64_t v8 = v7;
    int64_t v11 = objc_msgSend(v7, sel_editor);
    -[NSObject purgeResourcesForPreviewAtIndex:](v11, sel_purgeResourcesForPreviewAtIndex_, objc_msgSend(v8, sel_selectedImageIndex));
    objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0);
    swift_unknownObjectRelease();
  }
  else
  {
    swift_unknownObjectRelease();
    int64_t v11 = sub_246C2C068();
    os_log_type_t v9 = sub_246C2CEE8();
    if (os_log_type_enabled(v11, v9))
    {
      id v10 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v10 = 0;
      _os_log_impl(&dword_246B51000, v11, v9, "Something's horribly wrong! Invalid type of previewProvider", v10, 2u);
      MEMORY[0x24C545990](v10, -1, -1);
    }
  }
}

void sub_246B98D24(void *a1)
{
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E0168);
  uint64_t v3 = sub_246C2C068();
  os_log_type_t v4 = sub_246C2CF08();
  if (os_log_type_enabled(v3, v4))
  {
    id v5 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_246B51000, v3, v4, "Layout preview controller did delete preview", v5, 2u);
    MEMORY[0x24C545990](v5, -1, -1);
  }

  id v6 = objc_msgSend(a1, sel_previewProvider);
  self;
  uint64_t v7 = (void *)swift_dynamicCastObjCClass();
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v12 = objc_msgSend(v7, sel_editor);
    id v9 = objc_msgSend(v8, sel_selectedImageIndex);
    [v12 purgeResourcesForPreviewAtIndex:v9];
    [v12 deletePhotoAtIndex:v9];
    objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0);
    swift_unknownObjectRelease();
  }
  else
  {
    swift_unknownObjectRelease();
    uint64_t v12 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CEE8();
    if (os_log_type_enabled(v12, v10))
    {
      int64_t v11 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)int64_t v11 = 0;
      _os_log_impl(&dword_246B51000, v12, v10, "Something's horribly wrong! Invalid type of previewProvider", v11, 2u);
      MEMORY[0x24C545990](v11, -1, -1);
    }
  }
}

void sub_246B98F48()
{
}

uint64_t sub_246B98F78(uint64_t a1)
{
  return a1;
}

uint64_t sub_246B98FA0()
{
  return swift_getGenericMetadata();
}

id sub_246B990E4(void *a1, void *a2, void *a3, char a4)
{
  id v9 = objc_allocWithZone((Class)sub_246B80250(&qword_2691D6EB8));
  os_log_type_t v10 = v4;
  id v11 = a1;
  id v12 = a2;
  id v13 = a3;
  id v14 = sub_246B99334((uint64_t)v11, (uint64_t)v12, (uint64_t)v13, a4, v9);
  uint64_t v15 = OBJC_IVAR___NTKCParmesanFacePreviewNavigationController_previewViewController;
  *(void *)&v10[OBJC_IVAR___NTKCParmesanFacePreviewNavigationController_previewViewController] = v14;

  uint64_t v16 = *(void *)&v10[v15];
  v19.receiver = v10;
  v19.super_class = (Class)type metadata accessor for ParmesanFacePreviewNavigationController();
  id v17 = objc_msgSendSuper2(&v19, sel_initWithRootViewController_, v16);
  objc_msgSend(v17, sel_setModalInPresentation_, 1);

  return v17;
}

id sub_246B992CC()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ParmesanFacePreviewNavigationController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanFacePreviewNavigationController()
{
  return self;
}

id sub_246B99334(uint64_t a1, uint64_t a2, uint64_t a3, char a4, unsigned char *a5)
{
  swift_unknownObjectWeakInit();
  *(void *)&a5[qword_2691D6B68] = 0;
  *(void *)&a5[qword_2691D6B70] = 0;
  *(void *)&a5[qword_2691D6B78] = MEMORY[0x263F8EE78];
  a5[qword_2691D6B80] = 0;
  a5[qword_2691D6B88] = 0;
  *(void *)&a5[qword_2691D6B90] = 0;
  *(void *)&a5[qword_2691D6B98] = 0;
  *(void *)&a5[qword_2691D6BA0] = 0;
  *(void *)&a5[qword_2691D6BA8] = 0;
  *(void *)&a5[qword_2691D6BB0] = 0;
  *(void *)&a5[qword_2691D6BB8] = 0;
  *(void *)&a5[qword_2691D6BC0] = 0;
  *(void *)&a5[qword_2691D6BC8] = 0;
  *(void *)&a5[qword_2691D6BD0] = 0;
  *(void *)&a5[qword_2691D6BD8] = 0;
  *(void *)&a5[qword_2691D6BE0] = 0;
  *(void *)&a5[qword_2691D6BE8] = 0;
  *(void *)&a5[qword_2691D6BF0] = 0;
  *(void *)&a5[qword_2691D6BF8] = 0;
  *(void *)&a5[qword_2691D6C00] = 0;
  *(void *)&a5[qword_2691D6B40] = a1;
  *(void *)&a5[qword_2691D6B48] = a2;
  *(void *)&a5[qword_2691D6B50] = a3;
  a5[qword_2691D6B58] = a4;
  v11.receiver = a5;
  v11.super_class = (Class)sub_246B80250(&qword_2691D6EB8);
  return objc_msgSendSuper2(&v11, sel_initWithNibName_bundle_, 0, 0);
}

uint64_t sub_246B99510(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246B99524(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 16))();
}

uint64_t sub_246B99538(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 24))();
}

uint64_t sub_246B9954C(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 32))();
}

uint64_t sub_246B99560(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 40))();
}

uint64_t sub_246B99574()
{
  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanGalleryTransitionNone()
{
  return self;
}

uint64_t sub_246B995A8()
{
  return 1701736302;
}

void sub_246B995B8(void *a1@<X8>)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 1;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
}

void sub_246B995CC(double a1)
{
  BOOL v1 = a1 == 0.0;
  double v2 = 0.0;
  if (v1) {
    double v2 = 1.0;
  }
  sub_246BC021C(v2, 1.0 - v2);
}

id sub_246B997EC(uint64_t a1, uint64_t a2, unint64_t a3)
{
  uint64_t v6 = sub_246C2CC48();
  if (!a2)
  {
    swift_bridgeObjectRelease();
LABEL_10:
    switch(a3)
    {
      case 0uLL:
      case 1uLL:
        uint64_t v15 = sub_246C2CC48();
        if (a2)
        {
          if (v15 != a1 || v16 != a2) {
            sub_246C2D578();
          }
        }
        goto LABEL_42;
      case 2uLL:
      case 5uLL:
      case 6uLL:
        uint64_t v10 = sub_246C2CC48();
        if (!a2) {
          goto LABEL_42;
        }
        if (v10 == a1 && v11 == a2)
        {
          swift_bridgeObjectRelease();
        }
        else
        {
          char v13 = sub_246C2D578();
          swift_bridgeObjectRelease();
          if ((v13 & 1) == 0) {
            goto LABEL_43;
          }
        }
        return sub_246B9A250();
      case 3uLL:
        uint64_t v18 = sub_246C2CC48();
        if (!a2) {
          goto LABEL_42;
        }
        if (v18 == a1 && v19 == a2)
        {
          swift_bridgeObjectRelease();
        }
        else
        {
          char v21 = sub_246C2D578();
          swift_bridgeObjectRelease();
          if ((v21 & 1) == 0) {
            goto LABEL_43;
          }
        }
        return sub_246B9A2F0();
      case 4uLL:
        uint64_t v22 = sub_246C2CC48();
        if (!a2)
        {
LABEL_42:
          swift_bridgeObjectRelease();
          goto LABEL_43;
        }
        if (v22 == a1 && v23 == a2)
        {
          swift_bridgeObjectRelease();
        }
        else
        {
          char v25 = sub_246C2D578();
          swift_bridgeObjectRelease();
          if ((v25 & 1) == 0) {
            goto LABEL_43;
          }
        }
        id result = sub_246B9A390();
        break;
      default:
        goto LABEL_43;
    }
    return result;
  }
  if (v6 == a1 && v7 == a2)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    char v9 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if ((v9 & 1) == 0)
    {
      if (a3 > 6)
      {
LABEL_43:
        return sub_246B9A150();
      }
      goto LABEL_10;
    }
  }

  return sub_246B9A0B0();
}

id sub_246B99DDC(char *a1, uint64_t a2, uint64_t a3, SEL *a4)
{
  if (a3)
  {
    uint64_t v6 = sub_246C2CC48();
    uint64_t v8 = v7;
  }
  else
  {
    uint64_t v6 = 0;
    uint64_t v8 = 0;
  }
  unint64_t v9 = *(void *)&a1[OBJC_IVAR___NTKParmesanPigmentProviderCoordinator_selectedStyle];
  uint64_t v10 = a1;
  id v11 = sub_246B997EC(v6, v8, v9);
  if (v8) {
    id v12 = (void *)sub_246C2CC08();
  }
  else {
    id v12 = 0;
  }
  id v13 = objc_msgSend(v11, *a4, v12);

  swift_bridgeObjectRelease();

  return v13;
}

id sub_246B9A0B0()
{
  return sub_246B9A164(&OBJC_IVAR___NTKParmesanPigmentProviderCoordinator____lazy_storage___timePigmentProvider);
}

id sub_246B9A150()
{
  return sub_246B9A164(&OBJC_IVAR___NTKParmesanPigmentProviderCoordinator____lazy_storage___plainPigmentProvider);
}

id sub_246B9A164(uint64_t *a1)
{
  uint64_t v2 = *a1;
  uint64_t v3 = *(void **)(v1 + *a1);
  if (v3)
  {
    id v4 = *(id *)(v1 + *a1);
  }
  else
  {
    id v5 = sub_246B9A3EC();
    uint64_t v6 = *(void **)(v1 + v2);
    *(void *)(v1 + v2) = v5;
    id v4 = v5;

    uint64_t v3 = 0;
  }
  id v7 = v3;
  return v4;
}

id sub_246B9A250()
{
  return sub_246B9A164(&OBJC_IVAR___NTKParmesanPigmentProviderCoordinator____lazy_storage___regularPigmentProvider);
}

id sub_246B9A2F0()
{
  return sub_246B9A164(&OBJC_IVAR___NTKParmesanPigmentProviderCoordinator____lazy_storage___duotonePigmentProvider);
}

id sub_246B9A390()
{
  return sub_246B9A164(&OBJC_IVAR___NTKParmesanPigmentProviderCoordinator____lazy_storage___tritonePigmentProvider);
}

id sub_246B9A3EC()
{
  swift_getObjectType();
  sub_246C2CC48();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v1 = objc_msgSend(self, sel_bundleForClass_, ObjCClassFromMetadata);
  id v2 = objc_allocWithZone(MEMORY[0x263F57A58]);
  uint64_t v3 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v4 = objc_msgSend(v2, sel_initWithDomain_bundle_, v3, v1);

  return v4;
}

id sub_246B9A4E0()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ParmesanPigmentProviderCoordinator();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanPigmentProviderCoordinator()
{
  return self;
}

BOOL sub_246B9A5B8(BOOL result, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 16);
  if (!v2) {
    return 0;
  }
  int v3 = result;
  if (*(unsigned char *)(a2 + 32) == result) {
    return 1;
  }
  if (v2 == 1) {
    return 0;
  }
  for (uint64_t i = 33; ; ++i)
  {
    uint64_t v5 = i - 31;
    if (__OFADD__(i - 32, 1)) {
      break;
    }
    int v6 = *(unsigned __int8 *)(a2 + i);
    id result = v6 == v3;
    if (v6 == v3 || v5 == v2) {
      return result;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_246B9A618(uint64_t result, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 16);
  if (!v2) {
    return 0;
  }
  if (*(void *)(a2 + 32) == result) {
    return 1;
  }
  if (v2 == 1) {
    return 0;
  }
  for (uint64_t i = 5; ; ++i)
  {
    uint64_t v4 = i - 3;
    if (__OFADD__(i - 4, 1)) {
      break;
    }
    BOOL v6 = *(void *)(a2 + 8 * i) == result;
    BOOL v5 = v6;
    BOOL v6 = v6 || v4 == v2;
    if (v6) {
      return v5;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_246B9A67C(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v3 = a3[2];
  if (!v3) {
    return 0;
  }
  if (a3[4] == a1 && a3[5] == a2) {
    return 1;
  }
  uint64_t result = sub_246C2D578();
  if (result) {
    return 1;
  }
  if (v3 == 1) {
    return 0;
  }
  unint64_t v9 = a3 + 7;
  for (uint64_t i = 1; ; ++i)
  {
    uint64_t v11 = i + 1;
    if (__OFADD__(i, 1)) {
      break;
    }
    BOOL v12 = *(v9 - 1) == a1 && *v9 == a2;
    if (v12 || (sub_246C2D578() & 1) != 0) {
      return 1;
    }
    uint64_t result = 0;
    v9 += 2;
    if (v11 == v3) {
      return result;
    }
  }
  __break(1u);
  return result;
}

void sub_246B9A754()
{
  qword_2691E0058 = (uint64_t)&unk_26FB1F008;
}

void sub_246B9A768()
{
  qword_2691E0060 = (uint64_t)&unk_26FB1F030;
}

uint64_t sub_246B9A7F4()
{
  sub_246B8F1E0(0, &qword_2691D6FE8);
  unsigned __int8 v1 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_isRestrictedForDevice_, *(void *)(v0 + OBJC_IVAR___NTKParmesanUpgradeManager_device));
  if (qword_2691D62A0 != -1) {
    swift_once();
  }
  uint64_t v2 = qword_2691E0058;
  uint64_t v3 = *(void **)(v0 + OBJC_IVAR___NTKParmesanUpgradeManager_sourceFace);
  swift_bridgeObjectRetain();
  char v4 = sub_246B9A618((uint64_t)objc_msgSend(v3, sel_faceStyle), v2);
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(v3, sel_bundleIdentifier);
  if (!v5)
  {
    char v10 = 0;
    char v11 = 0;
    if (v1) {
      return v11 & 1;
    }
LABEL_9:
    char v11 = v4 | v10;
    return v11 & 1;
  }
  BOOL v6 = v5;
  uint64_t v7 = sub_246C2CC48();
  uint64_t v9 = v8;

  if (qword_2691D62A8 != -1) {
    swift_once();
  }
  char v10 = sub_246B9A67C(v7, v9, (void *)qword_2691E0060);
  swift_bridgeObjectRelease();
  if ((v1 & 1) == 0) {
    goto LABEL_9;
  }
  char v11 = 0;
  return v11 & 1;
}

uint64_t sub_246B9A99C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v8[20] = a8;
  v8[21] = v16;
  v8[18] = a6;
  v8[19] = a7;
  v8[16] = a4;
  v8[17] = a5;
  uint64_t v11 = sub_246C2CA28();
  v8[22] = v11;
  v8[23] = *(void *)(v11 - 8);
  v8[24] = swift_task_alloc();
  uint64_t v12 = sub_246C2CA48();
  v8[25] = v12;
  v8[26] = *(void *)(v12 - 8);
  v8[27] = swift_task_alloc();
  id v13 = (void *)swift_task_alloc();
  v8[28] = v13;
  *id v13 = v8;
  v13[1] = sub_246B9AB18;
  v13[15] = a5;
  v13[16] = a4;
  return MEMORY[0x270FA2498](sub_246BA1344, 0, 0);
}

uint64_t sub_246B9AB18(char a1)
{
  *(unsigned char *)(*(void *)v1 + 296) = a1;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9AC18, 0, 0);
}

uint64_t sub_246B9AC18()
{
  if (*((unsigned char *)v0 + 296) == 1)
  {
    if (objc_msgSend((id)v0[17], sel_contentType) == (id)3)
    {
      uint64_t v1 = (void *)swift_task_alloc();
      v0[29] = v1;
      void *v1 = v0;
      v1[1] = sub_246B9B198;
      return sub_246BA2294();
    }
    id v12 = objc_msgSend((id)v0[17], sel_itemAtIndex_, 0);
    v0[33] = v12;
    if (v12)
    {
      uint64_t v13 = (uint64_t)v12;
      id v14 = (void *)swift_task_alloc();
      v0[34] = v14;
      *id v14 = v0;
      v14[1] = sub_246B9B558;
      uint64_t v15 = v0[20];
      uint64_t v16 = v0[21];
      return sub_246BA8FF8(v13, v15, v16);
    }
    sub_246BAAA7C();
    id v17 = (void *)swift_allocError();
    unsigned char *v18 = 3;
    uint64_t v19 = v0[16];
    uint64_t v20 = *(void **)(v19 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset);
    *(void *)(v19 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset) = 0;

    if (v17)
    {
      id v21 = v17;
      sub_246BA3D40();
    }
    uint64_t v22 = v0[27];
    uint64_t v23 = v0[24];
    uint64_t v33 = v0[26];
    uint64_t v35 = v0[25];
    uint64_t v24 = v0[22];
    uint64_t v25 = v0[23];
    uint64_t v26 = v0[18];
    uint64_t v27 = v0[19];
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    unint64_t v31 = (void *)sub_246C2CF68();
    uint64_t v28 = (void *)swift_allocObject();
    void v28[2] = v26;
    v28[3] = v27;
    v28[4] = 0;
    v28[5] = v17;
    v0[13] = v28;
    v0[12] = sub_246BAAF68;
    v0[8] = MEMORY[0x263EF8330];
    v0[9] = 1107296256;
    v0[10] = sub_246B9B974;
    v0[11] = &unk_26FB20B60;
    uint64_t v29 = _Block_copy(v0 + 8);
    id v30 = v17;
    swift_retain();
    sub_246C2CA38();
    v0[15] = MEMORY[0x263F8EE78];
    sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    sub_246C2D208();
    MEMORY[0x24C544020](0, v22, v23, v29);
    _Block_release(v29);

    (*(void (**)(uint64_t, uint64_t))(v25 + 8))(v23, v24);
    (*(void (**)(uint64_t, uint64_t))(v33 + 8))(v22, v35);
  }
  else
  {
    uint64_t v3 = v0[27];
    uint64_t v4 = v0[24];
    uint64_t v34 = v0[26];
    uint64_t v36 = v0[25];
    uint64_t v5 = v0[22];
    uint64_t v6 = v0[23];
    uint64_t v7 = v0[18];
    uint64_t v8 = v0[19];
    sub_246BA3D40();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    unint64_t v32 = (void *)sub_246C2CF68();
    uint64_t v9 = swift_allocObject();
    *(void *)(v9 + 16) = v7;
    *(void *)(v9 + 24) = v8;
    v0[6] = sub_246BAAF98;
    v0[7] = v9;
    v0[2] = MEMORY[0x263EF8330];
    v0[3] = 1107296256;
    v0[4] = sub_246B9B974;
    v0[5] = &unk_26FB20B10;
    char v10 = _Block_copy(v0 + 2);
    swift_retain();
    sub_246C2CA38();
    v0[14] = MEMORY[0x263F8EE78];
    sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    sub_246C2D208();
    MEMORY[0x24C544020](0, v3, v4, v10);
    _Block_release(v10);

    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v4, v5);
    (*(void (**)(uint64_t, uint64_t))(v34 + 8))(v3, v36);
  }
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v11 = (uint64_t (*)(void))v0[1];
  return v11();
}

uint64_t sub_246B9B198(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = (void *)*v3;
  v4[30] = a1;
  v4[31] = a2;
  v4[32] = a3;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9B29C, 0, 0);
}

uint64_t sub_246B9B29C()
{
  uint64_t v1 = v0[16];
  uint64_t v2 = *(void **)(v1 + OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle);
  *(void *)(v1 + OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle) = v0[31];

  uint64_t v3 = (void *)v0[32];
  uint64_t v4 = (void *)v0[30];
  uint64_t v5 = v0[16];
  uint64_t v6 = *(void **)(v5 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset);
  *(void *)(v5 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset) = v4;
  id v19 = v4;

  if (v3)
  {
    id v7 = v3;
    sub_246BA3D40();
  }
  uint64_t v18 = v0[27];
  uint64_t v8 = v0[24];
  uint64_t v22 = v0[26];
  uint64_t v23 = v0[25];
  uint64_t v9 = v0[22];
  uint64_t v10 = v0[23];
  uint64_t v11 = v0[18];
  uint64_t v12 = v0[19];
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  id v21 = (void *)sub_246C2CF68();
  uint64_t v13 = (void *)swift_allocObject();
  v13[2] = v11;
  v13[3] = v12;
  v13[4] = v4;
  v13[5] = v3;
  v0[12] = sub_246BAAF68;
  v0[13] = v13;
  v0[8] = MEMORY[0x263EF8330];
  v0[9] = 1107296256;
  v0[10] = sub_246B9B974;
  v0[11] = &unk_26FB20B60;
  id v14 = _Block_copy(v0 + 8);
  id v20 = v19;
  id v15 = v3;
  swift_retain();
  sub_246C2CA38();
  v0[15] = MEMORY[0x263F8EE78];
  sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246BAAD0C();
  sub_246C2D208();
  MEMORY[0x24C544020](0, v18, v8, v14);
  _Block_release(v14);

  (*(void (**)(uint64_t, uint64_t))(v10 + 8))(v8, v9);
  (*(void (**)(uint64_t, uint64_t))(v22 + 8))(v18, v23);
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v16 = (uint64_t (*)(void))v0[1];
  return v16();
}

uint64_t sub_246B9B558(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *v2;
  *(void *)(v3 + 280) = a1;
  *(void *)(v3 + 288) = a2;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9B658, 0, 0);
}

uint64_t sub_246B9B658()
{
  swift_unknownObjectRelease();
  uint64_t v2 = (void *)v0[35];
  uint64_t v1 = (void *)v0[36];
  uint64_t v3 = v0[16];
  uint64_t v4 = *(void **)(v3 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset);
  *(void *)(v3 + OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset) = v2;
  id v17 = v2;

  if (v1)
  {
    id v5 = v1;
    sub_246BA3D40();
  }
  uint64_t v16 = v0[27];
  uint64_t v6 = v0[24];
  uint64_t v20 = v0[26];
  uint64_t v21 = v0[25];
  uint64_t v7 = v0[22];
  uint64_t v8 = v0[23];
  uint64_t v9 = v0[18];
  uint64_t v10 = v0[19];
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  id v19 = (void *)sub_246C2CF68();
  uint64_t v11 = (void *)swift_allocObject();
  void v11[2] = v9;
  v11[3] = v10;
  void v11[4] = v2;
  v11[5] = v1;
  v0[12] = sub_246BAAF68;
  v0[13] = v11;
  v0[8] = MEMORY[0x263EF8330];
  v0[9] = 1107296256;
  v0[10] = sub_246B9B974;
  v0[11] = &unk_26FB20B60;
  uint64_t v12 = _Block_copy(v0 + 8);
  id v18 = v17;
  id v13 = v1;
  swift_retain();
  sub_246C2CA38();
  v0[15] = MEMORY[0x263F8EE78];
  sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246BAAD0C();
  sub_246C2D208();
  MEMORY[0x24C544020](0, v16, v6, v12);
  _Block_release(v12);

  (*(void (**)(uint64_t, uint64_t))(v8 + 8))(v6, v7);
  (*(void (**)(uint64_t, uint64_t))(v20 + 8))(v16, v21);
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  id v14 = (uint64_t (*)(void))v0[1];
  return v14();
}

void sub_246B9B8FC(void (*a1)(void, void *))
{
  sub_246BAAA7C();
  uint64_t v2 = (void *)swift_allocError();
  unsigned char *v3 = 3;
  a1(0, v2);
}

uint64_t sub_246B9B974(uint64_t a1)
{
  uint64_t v1 = *(void (**)(uint64_t))(a1 + 32);
  uint64_t v2 = swift_retain();
  v1(v2);

  return swift_release();
}

uint64_t sub_246B9B9B8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_246C2CE28();
  uint64_t v7 = *(void *)(v6 - 8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v7 + 48))(a1, 1, v6) != 1)
  {
    sub_246C2CE18();
    (*(void (**)(uint64_t, uint64_t))(v7 + 8))(a1, v6);
    if (!*(void *)(a3 + 16)) {
      goto LABEL_5;
    }
    goto LABEL_3;
  }
  sub_246B8EA34(a1, &qword_2691D6FB0);
  if (*(void *)(a3 + 16))
  {
LABEL_3:
    swift_getObjectType();
    swift_unknownObjectRetain();
    sub_246C2CDA8();
    swift_unknownObjectRelease();
  }
LABEL_5:
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = a2;
  *(void *)(v8 + 24) = a3;
  return swift_task_create();
}

uint64_t sub_246B9BB64(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  v8[51] = v13;
  v8[52] = v14;
  v8[49] = a7;
  v8[50] = a8;
  v8[47] = a5;
  v8[48] = a6;
  v8[46] = a4;
  uint64_t v9 = sub_246C2CA28();
  v8[53] = v9;
  v8[54] = *(void *)(v9 - 8);
  v8[55] = swift_task_alloc();
  uint64_t v10 = sub_246C2CA48();
  v8[56] = v10;
  v8[57] = *(void *)(v10 - 8);
  v8[58] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246B9BC94, 0, 0);
}

uint64_t sub_246B9BC94()
{
  uint64_t v114 = v0;
  uint64_t v1 = *(void *)(v0 + 368);
  uint64_t v2 = OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset;
  *(void *)(v0 + 472) = OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset;
  if (*(void *)(v1 + v2))
  {
    uint64_t v3 = (uint64_t *)(v0 + 256);
    uint64_t v4 = *(void **)(v0 + 392);
    *(void *)(v0 + 256) = MEMORY[0x263F8EE78];
    if (objc_msgSend(v4, sel_contentType) == (id)3)
    {
      uint64_t v5 = *(void *)(v0 + 368);
      uint64_t v6 = OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle;
      *(void *)(v0 + 488) = OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle;
      if (!*(void *)(v5 + v6))
      {
        unint64_t v76 = (void *)swift_task_alloc();
        *(void *)(v0 + 496) = v76;
        *unint64_t v76 = v0;
        v76[1] = sub_246B9E524;
        return sub_246BA2294();
      }
      uint64_t v7 = *(void **)(v5 + *(void *)(v0 + 472));
      if (v7)
      {
        id v8 = v7;
        MEMORY[0x24C543DC0]();
        if (*(void *)((*v3 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v3 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();
      }
LABEL_16:
      uint64_t v14 = *v3;
      uint64_t aBlock = v0;
      if (!((unint64_t)*v3 >> 62))
      {
        uint64_t v15 = *(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10);
        swift_bridgeObjectRetain();
        goto LABEL_18;
      }
LABEL_77:
      swift_bridgeObjectRetain();
      uint64_t v15 = sub_246C2D3B8();
LABEL_18:
      uint64_t v16 = (void *)MEMORY[0x263F8EE78];
      if (v15)
      {
        if (v15 < 1)
        {
          __break(1u);
          goto LABEL_79;
        }
        for (uint64_t i = 0; i != v15; ++i)
        {
          if ((v14 & 0xC000000000000001) != 0) {
            id v18 = (id)MEMORY[0x24C544350](i, v14);
          }
          else {
            id v18 = *(id *)(v14 + 8 * i + 32);
          }
          id v19 = v18;
          id v20 = objc_msgSend(v18, sel_asDictionary);
          if (v20)
          {
            uint64_t v21 = v20;
            uint64_t v22 = sub_246C2CBB8();

            if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
              uint64_t v16 = sub_246BA64A8(0, v16[2] + 1, 1, v16);
            }
            unint64_t v24 = v16[2];
            unint64_t v23 = v16[3];
            if (v24 >= v23 >> 1) {
              uint64_t v16 = sub_246BA64A8((void *)(v23 > 1), v24 + 1, 1, v16);
            }
            v16[2] = v24 + 1;
            v16[v24 + 4] = v22;
          }
        }
      }
      uint64_t v0 = aBlock;
      swift_bridgeObjectRelease();
      uint64_t v15 = sub_246BA4610((uint64_t)v16);
      swift_bridgeObjectRelease();
      if (!v15)
      {
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
        id v45 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_identifier);
        if (!v45)
        {
          sub_246C2CC48();
          id v45 = (id)sub_246C2CC08();
          swift_bridgeObjectRelease();
        }
        uint64_t v46 = *(void *)(aBlock + 392);
        uint64_t v47 = *(char **)(aBlock + 368);
        sub_246B8F1E0(0, &qword_2691D6FE8);
        uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
        uint64_t v49 = *(void *)&v47[OBJC_IVAR___NTKParmesanUpgradeManager_device];
        uint64_t v50 = swift_allocObject();
        *(void *)(v50 + 16) = v46;
        *(void *)(v50 + 24) = v47;
        *(void *)(aBlock + 240) = sub_246BAADA8;
        *(void *)(aBlock + 248) = v50;
        *(void *)(aBlock + 208) = MEMORY[0x263EF8330];
        *(void *)(aBlock + 216) = 1107296256;
        *(void *)(aBlock + 224) = sub_246BA10EC;
        *(void *)(aBlock + 232) = &unk_26FB20980;
        unint64_t v51 = _Block_copy((const void *)(aBlock + 208));
        swift_unknownObjectRetain();
        BOOL v52 = v47;
        swift_release();
        id v53 = objc_msgSend(ObjCClassFromMetadata, sel_bundledFaceWithIdentifier_forDevice_initCustomization_, v45, v49, v51);
        _Block_release(v51);

        if (v53)
        {
          uint64_t v54 = qword_2691D6318;
          id v55 = v53;
          if (v54 != -1) {
            swift_once();
          }
          uint64_t v56 = sub_246C2C088();
          sub_246B8BE0C(v56, (uint64_t)qword_2691E0198);
          unint64_t v57 = *(void *)(aBlock + 256);
          swift_bridgeObjectRetain_n();
          swift_bridgeObjectRetain();
          uint64_t v58 = sub_246C2C068();
          os_log_type_t v59 = sub_246C2CED8();
          if (os_log_type_enabled(v58, v59))
          {
            uint64_t v60 = swift_slowAlloc();
            id v110 = (id)swift_slowAlloc();
            uint64_t v113 = (uint64_t)v110;
            *(_DWORD *)uint64_t v60 = 136315650;
            *(void *)(aBlock + 280) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v113);
            sub_246C2D1C8();
            *(_WORD *)(v60 + 12) = 2048;
            uint64_t v112 = (uint64_t)v55;
            if (v57 >> 62)
            {
              swift_bridgeObjectRetain();
              uint64_t v61 = sub_246C2D3B8();
              swift_bridgeObjectRelease();
            }
            else
            {
              uint64_t v61 = *(void *)((v57 & 0xFFFFFFFFFFFFFF8) + 0x10);
            }
            uint64_t v62 = *(void *)(aBlock + 400);
            unint64_t v63 = *(void *)(aBlock + 408);
            swift_bridgeObjectRelease();
            *(void *)(aBlock + 288) = v61;
            sub_246C2D1C8();
            swift_bridgeObjectRelease();
            *(_WORD *)(v60 + 22) = 2080;
            swift_bridgeObjectRetain();
            *(void *)(aBlock + 296) = sub_246BA686C(v62, v63, &v113);
            sub_246C2D1C8();
            swift_bridgeObjectRelease_n();
            _os_log_impl(&dword_246B51000, v58, v59, "%s: Created upgraded face with %ld assets, directory: %s", (uint8_t *)v60, 0x20u);
            swift_arrayDestroy();
            MEMORY[0x24C545990](v110, -1, -1);
            MEMORY[0x24C545990](v60, -1, -1);

            id v55 = (id)v112;
          }
          else
          {

            swift_bridgeObjectRelease_n();
            swift_bridgeObjectRelease_n();
          }
          uint64_t v98 = *(void *)(aBlock + 376);
          uint64_t v99 = *(void *)(aBlock + 384);
          uint64_t v100 = *(void *)(aBlock + 368);
          BOOL v101 = (void *)sub_246C2CC08();
          objc_msgSend(v55, sel_setResourceDirectory_, v101);

          id v102 = v55;
          sub_246BA0B0C(v53, 0, v100, v98, v99);
        }
        else
        {
          swift_bridgeObjectRelease();
          if (qword_2691D6318 != -1) {
            swift_once();
          }
          uint64_t v81 = sub_246C2C088();
          sub_246B8BE0C(v81, (uint64_t)qword_2691E0198);
          uint64_t v82 = sub_246C2C068();
          os_log_type_t v83 = sub_246C2CEE8();
          if (os_log_type_enabled(v82, v83))
          {
            char v84 = (uint8_t *)swift_slowAlloc();
            uint64_t v85 = swift_slowAlloc();
            uint64_t v113 = v85;
            *(_DWORD *)char v84 = 136315138;
            uint64_t v0 = aBlock;
            *(void *)(aBlock + 272) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v113);
            sub_246C2D1C8();
            _os_log_impl(&dword_246B51000, v82, v83, "%s: cannot create an empty face", v84, 0xCu);
            swift_arrayDestroy();
            MEMORY[0x24C545990](v85, -1, -1);
            MEMORY[0x24C545990](v84, -1, -1);
          }

          uint64_t v86 = *(void *)(v0 + 464);
          uint64_t v109 = *(void *)(v0 + 456);
          uint64_t v87 = *(void *)(v0 + 440);
          uint64_t v112 = *(void *)(v0 + 448);
          uint64_t v89 = *(void *)(v0 + 424);
          uint64_t v88 = *(void *)(v0 + 432);
          uint64_t v90 = *(void *)(v0 + 384);
          uint64_t v91 = *(void *)(aBlock + 376);
          sub_246BAAA7C();
          unint64_t v92 = (void *)swift_allocError();
          unsigned char *v93 = 4;
          sub_246BA3D40();
          sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
          uint64_t v94 = (void *)sub_246C2CF68();
          uint64_t v95 = (void *)swift_allocObject();
          v95[2] = v91;
          v95[3] = v90;
          uint64_t v0 = aBlock;
          v95[4] = 0;
          v95[5] = v92;
          *(void *)(aBlock + 192) = sub_246BAACF0;
          *(void *)(aBlock + 200) = v95;
          *(void *)(aBlock + 160) = MEMORY[0x263EF8330];
          *(void *)(aBlock + 168) = 1107296256;
          *(void *)(aBlock + 176) = sub_246B9B974;
          *(void *)(aBlock + 184) = &unk_26FB209D0;
          uint64_t v96 = _Block_copy((const void *)(aBlock + 160));
          swift_retain();
          id v97 = v92;
          sub_246C2CA38();
          *(void *)(aBlock + 264) = MEMORY[0x263F8EE78];
          sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
          sub_246B80250(&qword_2691D6940);
          sub_246BAAD0C();
          sub_246C2D208();
          MEMORY[0x24C544020](0, v86, v87, v96);
          _Block_release(v96);

          (*(void (**)(uint64_t, uint64_t))(v88 + 8))(v87, v89);
          (*(void (**)(uint64_t, uint64_t))(v109 + 8))(v86, v112);
          swift_release();
        }
LABEL_73:
        swift_task_dealloc();
        swift_task_dealloc();
        uint64_t v103 = *(void *)(v0 + 8);
        __asm { BRAA            X1, X16 }
      }
      BOOL v108 = (const void *)(aBlock + 112);
      swift_bridgeObjectRelease();
      if (qword_2691D6318 == -1)
      {
LABEL_33:
        uint64_t v25 = sub_246C2C088();
        sub_246B8BE0C(v25, (uint64_t)qword_2691E0198);
        swift_bridgeObjectRetain();
        id v26 = (id)v15;
        swift_bridgeObjectRetain();
        id v27 = (id)v15;
        uint64_t v28 = sub_246C2C068();
        os_log_type_t v29 = sub_246C2CEE8();
        BOOL v30 = os_log_type_enabled(v28, v29);
        unint64_t v31 = *(void *)(v0 + 408);
        uint64_t v107 = (void *)v15;
        if (v30)
        {
          uint64_t v105 = *(void *)(v0 + 400);
          uint64_t v32 = swift_slowAlloc();
          uint64_t v33 = (void *)swift_slowAlloc();
          uint64_t v112 = swift_slowAlloc();
          uint64_t v113 = v112;
          *(_DWORD *)uint64_t v32 = 136315650;
          *(void *)(v0 + 320) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v113);
          sub_246C2D1C8();
          *(_WORD *)(v32 + 12) = 2080;
          swift_bridgeObjectRetain();
          *(void *)(v0 + 328) = sub_246BA686C(v105, v31, &v113);
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          *(_WORD *)(v32 + 22) = 2112;
          id v34 = (id)v15;
          uint64_t v35 = _swift_stdlib_bridgeErrorToNSError();
          *(void *)(v0 + 336) = v35;
          sub_246C2D1C8();
          void *v33 = v35;

          _os_log_impl(&dword_246B51000, v28, v29, "%s: cannot write plist to %s, error: %@", (uint8_t *)v32, 0x20u);
          sub_246B80250(&qword_2691D6FF0);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v33, -1, -1);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v112, -1, -1);
          MEMORY[0x24C545990](v32, -1, -1);
        }
        else
        {
          swift_bridgeObjectRelease_n();
        }
        uint64_t v64 = *(void *)(v0 + 464);
        uint64_t v106 = *(void *)(v0 + 456);
        uint64_t v65 = *(void *)(v0 + 440);
        uint64_t v112 = *(void *)(v0 + 448);
        uint64_t v67 = *(void *)(v0 + 424);
        uint64_t v66 = *(void *)(v0 + 432);
        uint64_t v68 = *(void *)(v0 + 384);
        uint64_t v69 = *(void *)(aBlock + 376);
        sub_246BAAA7C();
        uint64_t v70 = (void *)swift_allocError();
        *uint64_t v71 = 2;
        sub_246BA3D40();
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
        uint64_t v72 = (void *)sub_246C2CF68();
        uint64_t v73 = (void *)swift_allocObject();
        v73[2] = v69;
        v73[3] = v68;
        uint64_t v0 = aBlock;
        v73[4] = 0;
        v73[5] = v70;
        *(void *)(aBlock + 144) = sub_246BAACF0;
        *(void *)(aBlock + 152) = v73;
        *(void *)(aBlock + 112) = MEMORY[0x263EF8330];
        *(void *)(aBlock + 120) = 1107296256;
        *(void *)(aBlock + 128) = sub_246B9B974;
        *(void *)(aBlock + 136) = &unk_26FB20A20;
        uint64_t v74 = _Block_copy(v108);
        swift_retain();
        id v75 = v70;
        sub_246C2CA38();
        *(void *)(aBlock + 312) = MEMORY[0x263F8EE78];
        sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
        sub_246B80250(&qword_2691D6940);
        sub_246BAAD0C();
        sub_246C2D208();
        MEMORY[0x24C544020](0, v64, v65, v74);
        _Block_release(v74);

        (*(void (**)(uint64_t, uint64_t))(v66 + 8))(v65, v67);
        (*(void (**)(uint64_t, uint64_t))(v106 + 8))(v64, v112);
        swift_release();

        goto LABEL_73;
      }
LABEL_79:
      swift_once();
      goto LABEL_33;
    }
    if (objc_msgSend(*(id *)(v0 + 392), sel_contentType) == (id)1)
    {
      id v11 = objc_msgSend(*(id *)(v0 + 392), sel_numberOfItems);
      unint64_t v12 = NTKMaxParmesanPhotos();
      if (v12 >= (unint64_t)v11) {
        uint64_t v13 = (uint64_t)v11;
      }
      else {
        uint64_t v13 = v12;
      }
      if (!v13) {
        goto LABEL_16;
      }
    }
    else
    {
      uint64_t v13 = 1;
    }
    *(void *)(v0 + 528) = v13;
    if (qword_2691D6318 != -1)
    {
      swift_once();
      uint64_t v13 = *(void *)(v0 + 528);
    }
    uint64_t v14 = 0;
    uint64_t aBlock = 136315394;
    while (1)
    {
      *(void *)(v0 + 536) = v14;
      if (v14 == v13) {
        break;
      }
      uint64_t v37 = sub_246C2C088();
      *(void *)(v0 + 544) = sub_246B8BE0C(v37, (uint64_t)qword_2691E0198);
      uint64_t v38 = sub_246C2C068();
      os_log_type_t v39 = sub_246C2CED8();
      if (os_log_type_enabled(v38, v39))
      {
        uint64_t v40 = swift_slowAlloc();
        uint64_t v41 = swift_slowAlloc();
        uint64_t v113 = v41;
        *(_DWORD *)uint64_t v40 = 136315394;
        *(void *)(v40 + 4) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v113);
        *(_WORD *)(v40 + 12) = 2048;
        *(void *)(v40 + 14) = v14;
        _os_log_impl(&dword_246B51000, v38, v39, "%s: adding item %lu to the resource directory", (uint8_t *)v40, 0x16u);
        swift_arrayDestroy();
        uint64_t v42 = v41;
        uint64_t v3 = (uint64_t *)(v0 + 256);
        MEMORY[0x24C545990](v42, -1, -1);
        MEMORY[0x24C545990](v40, -1, -1);
      }

      if (v14 || (uint64_t v43 = *(void **)(*(void *)(v0 + 368) + *(void *)(v0 + 472))) == 0)
      {
        id v36 = objc_msgSend(*(id *)(v0 + 392), sel_itemAtIndex_, v14);
        *(void *)(v0 + 552) = v36;
        if (v36)
        {
          uint64_t v77 = (uint64_t)v36;
          char v78 = (void *)swift_task_alloc();
          *(void *)(v0 + 560) = v78;
          *char v78 = v0;
          v78[1] = sub_246B9F68C;
          uint64_t v79 = *(void *)(v0 + 400);
          uint64_t v80 = *(void *)(v0 + 408);
          return sub_246BA8FF8(v77, v79, v80);
        }
      }
      else
      {
        id v44 = v43;
        MEMORY[0x24C543DC0]();
        if (*(void *)((*v3 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v3 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();
      }
      uint64_t v13 = *(void *)(v0 + 528);
      uint64_t v14 = *(void *)(v0 + 536) + 1;
      if (v14 == v13) {
        goto LABEL_16;
      }
    }
    __break(1u);
    goto LABEL_77;
  }
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 480) = v9;
  void *v9 = v0;
  v9[1] = sub_246B9CF1C;
  uint64_t v10 = *(void *)(v0 + 368);
  v9[15] = *(void *)(v0 + 392);
  v9[16] = v10;
  return MEMORY[0x270FA2498](sub_246BA1344, 0, 0);
}

uint64_t sub_246B9CF1C(char a1)
{
  *(unsigned char *)(*(void *)v1 + 584) = a1;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9D01C, 0, 0);
}

uint64_t sub_246B9D01C()
{
  uint64_t v135 = v0;
  uint64_t v1 = v0 + 38;
  if (*((unsigned char *)v0 + 584) != 1)
  {
    uint64_t v7 = v0 + 2;
    if (qword_2691D6318 != -1) {
LABEL_80:
    }
      swift_once();
    uint64_t v8 = sub_246C2C088();
    sub_246B8BE0C(v8, (uint64_t)qword_2691E0198);
    uint64_t v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CEE8();
    if (os_log_type_enabled(v9, v10))
    {
      id v11 = (uint8_t *)swift_slowAlloc();
      uint64_t v12 = swift_slowAlloc();
      uint64_t v134 = v12;
      *(_DWORD *)id v11 = 136315138;
      uint64_t v0 = v133;
      uint64_t *v1 = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v134);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v9, v10, "%s: Face doesn't have content, cannot upgrade", v11, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v12, -1, -1);
      MEMORY[0x24C545990](v11, -1, -1);
    }

    uint64_t v13 = v0[58];
    uint64_t v14 = v0[55];
    uint64_t v123 = v0[57];
    uint64_t v126 = v0[56];
    uint64_t v16 = v0[53];
    uint64_t v15 = v0[54];
    uint64_t v17 = v0[48];
    uint64_t v18 = v133[47];
    sub_246BAAA7C();
    id v19 = (void *)swift_allocError();
    *id v20 = 3;
    sub_246BA3D40();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    uint64_t v21 = (void *)sub_246C2CF68();
    uint64_t v22 = (void *)swift_allocObject();
    v22[2] = v18;
    v22[3] = v17;
    uint64_t v0 = v133;
    v22[4] = 0;
    v22[5] = v19;
    v133[6] = sub_246BAACF0;
    v133[7] = v22;
    v133[2] = MEMORY[0x263EF8330];
    v133[3] = 1107296256;
    v133[4] = sub_246B9B974;
    v133[5] = &unk_26FB20930;
    unint64_t v23 = _Block_copy(v7);
    swift_retain();
    id v24 = v19;
    sub_246C2CA38();
    v133[44] = MEMORY[0x263F8EE78];
    sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    sub_246C2D208();
    MEMORY[0x24C544020](0, v13, v14, v23);
    _Block_release(v23);

    (*(void (**)(uint64_t, uint64_t))(v15 + 8))(v14, v16);
    (*(void (**)(uint64_t, uint64_t))(v123 + 8))(v13, v126);
    goto LABEL_12;
  }
  unint64_t v125 = v0 + 32;
  uint64_t v2 = (void *)v0[49];
  v0[32] = MEMORY[0x263F8EE78];
  if (objc_msgSend(v2, sel_contentType) == (id)3)
  {
    uint64_t v3 = v0[46];
    uint64_t v4 = OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle;
    v0[61] = OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle;
    if (!*(void *)(v3 + v4))
    {
      uint64_t v94 = (void *)swift_task_alloc();
      v0[62] = v94;
      *uint64_t v94 = v0;
      v94[1] = sub_246B9E524;
      return sub_246BA2294();
    }
    uint64_t v5 = *(void **)(v3 + v0[59]);
    if (v5)
    {
      id v6 = v5;
      MEMORY[0x24C543DC0]();
      if (*(void *)((*v125 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v125 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_246C2CD68();
      }
      sub_246C2CD88();
      sub_246C2CD58();
    }
    goto LABEL_18;
  }
  if (objc_msgSend((id)v0[49], sel_contentType) == (id)1)
  {
    id v26 = objc_msgSend((id)v0[49], sel_numberOfItems);
    unint64_t v27 = NTKMaxParmesanPhotos();
    if (v27 >= (unint64_t)v26) {
      uint64_t v28 = (uint64_t)v26;
    }
    else {
      uint64_t v28 = v27;
    }
    if (!v28)
    {
LABEL_18:
      uint64_t v29 = *v125;
      if ((unint64_t)*v125 >> 62)
      {
        swift_bridgeObjectRetain();
        uint64_t v30 = sub_246C2D3B8();
      }
      else
      {
        uint64_t v30 = *(void *)((v29 & 0xFFFFFFFFFFFFFF8) + 0x10);
        swift_bridgeObjectRetain();
      }
      unint64_t v31 = (void *)MEMORY[0x263F8EE78];
      if (v30)
      {
        if (v30 < 1)
        {
          __break(1u);
          goto LABEL_83;
        }
        for (uint64_t i = 0; i != v30; ++i)
        {
          if ((v29 & 0xC000000000000001) != 0) {
            id v33 = (id)MEMORY[0x24C544350](i, v29);
          }
          else {
            id v33 = *(id *)(v29 + 8 * i + 32);
          }
          id v34 = v33;
          id v35 = objc_msgSend(v33, sel_asDictionary);
          if (v35)
          {
            id v36 = v35;
            uint64_t v37 = sub_246C2CBB8();

            if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
              unint64_t v31 = sub_246BA64A8(0, v31[2] + 1, 1, v31);
            }
            unint64_t v39 = v31[2];
            unint64_t v38 = v31[3];
            if (v39 >= v38 >> 1) {
              unint64_t v31 = sub_246BA64A8((void *)(v38 > 1), v39 + 1, 1, v31);
            }
            v31[2] = v39 + 1;
            v31[v39 + 4] = v37;
          }
        }
      }
      uint64_t v0 = v133;
      swift_bridgeObjectRelease();
      uint64_t v30 = sub_246BA4610((uint64_t)v31);
      swift_bridgeObjectRelease();
      if (v30)
      {
        uint64_t aBlock = (uint64_t)(v133 + 14);
        swift_bridgeObjectRelease();
        if (qword_2691D6318 == -1)
        {
LABEL_35:
          uint64_t v40 = sub_246C2C088();
          sub_246B8BE0C(v40, (uint64_t)qword_2691E0198);
          swift_bridgeObjectRetain();
          id v41 = (id)v30;
          swift_bridgeObjectRetain();
          id v42 = (id)v30;
          uint64_t v43 = sub_246C2C068();
          os_log_type_t v44 = sub_246C2CEE8();
          BOOL v45 = os_log_type_enabled(v43, v44);
          unint64_t v46 = v0[51];
          id v120 = (id)v30;
          if (v45)
          {
            uint64_t v121 = v0[50];
            uint64_t v47 = swift_slowAlloc();
            uint64_t v48 = (void *)swift_slowAlloc();
            uint64_t v127 = swift_slowAlloc();
            uint64_t v134 = v127;
            *(_DWORD *)uint64_t v47 = 136315650;
            v0[40] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v134);
            sub_246C2D1C8();
            *(_WORD *)(v47 + 12) = 2080;
            swift_bridgeObjectRetain();
            v0[41] = sub_246BA686C(v121, v46, &v134);
            sub_246C2D1C8();
            swift_bridgeObjectRelease_n();
            *(_WORD *)(v47 + 22) = 2112;
            id v49 = (id)v30;
            uint64_t v50 = _swift_stdlib_bridgeErrorToNSError();
            v0[42] = v50;
            sub_246C2D1C8();
            *uint64_t v48 = v50;

            _os_log_impl(&dword_246B51000, v43, v44, "%s: cannot write plist to %s, error: %@", (uint8_t *)v47, 0x20u);
            sub_246B80250(&qword_2691D6FF0);
            swift_arrayDestroy();
            MEMORY[0x24C545990](v48, -1, -1);
            swift_arrayDestroy();
            MEMORY[0x24C545990](v127, -1, -1);
            MEMORY[0x24C545990](v47, -1, -1);
          }
          else
          {
            swift_bridgeObjectRelease_n();
          }
          uint64_t v80 = v0[58];
          uint64_t v122 = v0[57];
          uint64_t v81 = v0[55];
          uint64_t v129 = v0[56];
          uint64_t v83 = v0[53];
          uint64_t v82 = v0[54];
          uint64_t v84 = v0[48];
          uint64_t v85 = v133[47];
          sub_246BAAA7C();
          uint64_t v86 = (void *)swift_allocError();
          *uint64_t v87 = 2;
          sub_246BA3D40();
          sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
          uint64_t v88 = (void *)sub_246C2CF68();
          uint64_t v89 = (void *)swift_allocObject();
          v89[2] = v85;
          v89[3] = v84;
          uint64_t v0 = v133;
          v89[4] = 0;
          v89[5] = v86;
          v133[18] = sub_246BAACF0;
          v133[19] = v89;
          v133[14] = MEMORY[0x263EF8330];
          v133[15] = 1107296256;
          v133[16] = sub_246B9B974;
          v133[17] = &unk_26FB20A20;
          uint64_t v90 = _Block_copy((const void *)aBlock);
          swift_retain();
          id v91 = v86;
          sub_246C2CA38();
          v133[39] = MEMORY[0x263F8EE78];
          sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
          sub_246B80250(&qword_2691D6940);
          sub_246BAAD0C();
          sub_246C2D208();
          MEMORY[0x24C544020](0, v80, v81, v90);
          _Block_release(v90);

          (*(void (**)(uint64_t, uint64_t))(v82 + 8))(v81, v83);
          (*(void (**)(uint64_t, uint64_t))(v122 + 8))(v80, v129);
          swift_release();

          uint64_t v25 = v120;
          goto LABEL_62;
        }
LABEL_83:
        swift_once();
        goto LABEL_35;
      }
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      id v60 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_identifier);
      if (!v60)
      {
        sub_246C2CC48();
        id v60 = (id)sub_246C2CC08();
        swift_bridgeObjectRelease();
      }
      uint64_t v61 = v133[49];
      uint64_t v62 = (char *)v133[46];
      sub_246B8F1E0(0, &qword_2691D6FE8);
      uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      uint64_t v64 = *(void *)&v62[OBJC_IVAR___NTKParmesanUpgradeManager_device];
      uint64_t v65 = swift_allocObject();
      *(void *)(v65 + 16) = v61;
      *(void *)(v65 + 24) = v62;
      v133[30] = sub_246BAADA8;
      v133[31] = v65;
      v133[26] = MEMORY[0x263EF8330];
      v133[27] = 1107296256;
      v133[28] = sub_246BA10EC;
      v133[29] = &unk_26FB20980;
      uint64_t v66 = _Block_copy(v133 + 26);
      swift_unknownObjectRetain();
      uint64_t v67 = v62;
      swift_release();
      id v68 = objc_msgSend(ObjCClassFromMetadata, sel_bundledFaceWithIdentifier_forDevice_initCustomization_, v60, v64, v66);
      _Block_release(v66);

      if (v68)
      {
        uint64_t v69 = qword_2691D6318;
        id v70 = v68;
        if (v69 != -1) {
          swift_once();
        }
        uint64_t v71 = sub_246C2C088();
        sub_246B8BE0C(v71, (uint64_t)qword_2691E0198);
        unint64_t v72 = v133[32];
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain();
        uint64_t v73 = sub_246C2C068();
        os_log_type_t v74 = sub_246C2CED8();
        if (os_log_type_enabled(v73, v74))
        {
          id aBlocka = v70;
          uint64_t v75 = swift_slowAlloc();
          uint64_t v76 = swift_slowAlloc();
          uint64_t v134 = v76;
          *(_DWORD *)uint64_t v75 = 136315650;
          v133[35] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v134);
          sub_246C2D1C8();
          *(_WORD *)(v75 + 12) = 2048;
          uint64_t v128 = v76;
          if (v72 >> 62)
          {
            swift_bridgeObjectRetain();
            uint64_t v77 = sub_246C2D3B8();
            swift_bridgeObjectRelease();
          }
          else
          {
            uint64_t v77 = *(void *)((v72 & 0xFFFFFFFFFFFFFF8) + 0x10);
          }
          uint64_t v79 = v133[50];
          unint64_t v78 = v133[51];
          swift_bridgeObjectRelease();
          v133[36] = v77;
          sub_246C2D1C8();
          swift_bridgeObjectRelease();
          *(_WORD *)(v75 + 22) = 2080;
          swift_bridgeObjectRetain();
          v133[37] = sub_246BA686C(v79, v78, &v134);
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_246B51000, v73, v74, "%s: Created upgraded face with %ld assets, directory: %s", (uint8_t *)v75, 0x20u);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v128, -1, -1);
          MEMORY[0x24C545990](v75, -1, -1);

          id v70 = aBlocka;
        }
        else
        {

          swift_bridgeObjectRelease_n();
          swift_bridgeObjectRelease_n();
        }
        uint64_t v115 = v133[47];
        uint64_t v116 = v133[48];
        uint64_t v117 = v133[46];
        uint64_t v118 = (void *)sub_246C2CC08();
        objc_msgSend(v70, sel_setResourceDirectory_, v118);

        id v119 = v70;
        sub_246BA0B0C(v68, 0, v117, v115, v116);

        goto LABEL_63;
      }
      swift_bridgeObjectRelease();
      if (qword_2691D6318 != -1) {
        swift_once();
      }
      uint64_t v99 = sub_246C2C088();
      sub_246B8BE0C(v99, (uint64_t)qword_2691E0198);
      uint64_t v100 = sub_246C2C068();
      os_log_type_t v101 = sub_246C2CEE8();
      if (os_log_type_enabled(v100, v101))
      {
        id v102 = (uint8_t *)swift_slowAlloc();
        uint64_t v103 = swift_slowAlloc();
        uint64_t v134 = v103;
        *(_DWORD *)id v102 = 136315138;
        uint64_t v0 = v133;
        v133[34] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v134);
        sub_246C2D1C8();
        _os_log_impl(&dword_246B51000, v100, v101, "%s: cannot create an empty face", v102, 0xCu);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v103, -1, -1);
        MEMORY[0x24C545990](v102, -1, -1);
      }

      uint64_t v104 = v0[58];
      uint64_t v105 = v0[55];
      uint64_t v124 = v0[57];
      uint64_t v130 = v0[56];
      uint64_t v107 = v0[53];
      uint64_t v106 = v0[54];
      uint64_t v108 = v0[48];
      uint64_t v109 = v133[47];
      sub_246BAAA7C();
      id v19 = (void *)swift_allocError();
      *id v110 = 4;
      sub_246BA3D40();
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
      uint64_t v111 = (void *)sub_246C2CF68();
      uint64_t v112 = (void *)swift_allocObject();
      v112[2] = v109;
      v112[3] = v108;
      uint64_t v0 = v133;
      v112[4] = 0;
      v112[5] = v19;
      v133[24] = sub_246BAACF0;
      v133[25] = v112;
      v133[20] = MEMORY[0x263EF8330];
      v133[21] = 1107296256;
      v133[22] = sub_246B9B974;
      v133[23] = &unk_26FB209D0;
      uint64_t v113 = _Block_copy(v133 + 20);
      swift_retain();
      id v114 = v19;
      sub_246C2CA38();
      v133[33] = MEMORY[0x263F8EE78];
      sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
      sub_246B80250(&qword_2691D6940);
      sub_246BAAD0C();
      sub_246C2D208();
      MEMORY[0x24C544020](0, v104, v105, v113);
      _Block_release(v113);

      (*(void (**)(uint64_t, uint64_t))(v106 + 8))(v105, v107);
      (*(void (**)(uint64_t, uint64_t))(v124 + 8))(v104, v130);
LABEL_12:
      swift_release();
      uint64_t v25 = v19;
LABEL_62:

LABEL_63:
      swift_task_dealloc();
      swift_task_dealloc();
      unint64_t v92 = (uint64_t (*)(void))v0[1];
      return v92();
    }
  }
  else
  {
    uint64_t v28 = 1;
  }
  v0[66] = v28;
  if (qword_2691D6318 != -1)
  {
    swift_once();
    uint64_t v28 = v0[66];
  }
  uint64_t v51 = 0;
  uint64_t v7 = qword_2691E0198;
  uint64_t aBlock = 136315394;
  uint64_t v1 = (uint64_t *)(MEMORY[0x263F8EE58] + 8);
  while (1)
  {
    v0[67] = v51;
    if (v51 == v28)
    {
      __break(1u);
      goto LABEL_80;
    }
    uint64_t v53 = sub_246C2C088();
    v0[68] = sub_246B8BE0C(v53, (uint64_t)qword_2691E0198);
    uint64_t v54 = sub_246C2C068();
    os_log_type_t v55 = sub_246C2CED8();
    if (os_log_type_enabled(v54, v55))
    {
      uint64_t v56 = swift_slowAlloc();
      uint64_t v57 = swift_slowAlloc();
      uint64_t v134 = v57;
      *(_DWORD *)uint64_t v56 = 136315394;
      *(void *)(v56 + 4) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v134);
      *(_WORD *)(v56 + 12) = 2048;
      *(void *)(v56 + 14) = v51;
      _os_log_impl(&dword_246B51000, v54, v55, "%s: adding item %lu to the resource directory", (uint8_t *)v56, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v57, -1, -1);
      MEMORY[0x24C545990](v56, -1, -1);
    }

    if (!v51)
    {
      uint64_t v58 = *(void **)(v0[46] + v0[59]);
      if (v58)
      {
        id v59 = v58;
        MEMORY[0x24C543DC0]();
        if (*(void *)((*v125 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v125 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();

        goto LABEL_43;
      }
    }
    id v52 = objc_msgSend((id)v0[49], sel_itemAtIndex_, v51);
    v0[69] = v52;
    if (v52) {
      break;
    }
LABEL_43:
    uint64_t v28 = v0[66];
    uint64_t v51 = v0[67] + 1;
    if (v51 == v28) {
      goto LABEL_18;
    }
  }
  uint64_t v95 = (uint64_t)v52;
  uint64_t v96 = (void *)swift_task_alloc();
  v0[70] = v96;
  *uint64_t v96 = v0;
  v96[1] = sub_246B9F68C;
  uint64_t v97 = v0[50];
  uint64_t v98 = v0[51];
  return sub_246BA8FF8(v95, v97, v98);
}

uint64_t sub_246B9E524(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = (void *)*v3;
  v4[63] = a1;
  v4[64] = a2;
  v4[65] = a3;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9E628, 0, 0);
}

uint64_t sub_246B9E628()
{
  uint64_t v118 = v0;
  uint64_t v1 = (void *)v0[65];
  if (v1)
  {
    id v110 = (void *)v0[64];
    uint64_t v112 = (void *)v0[63];
    uint64_t v102 = v0[58];
    uint64_t v2 = v0[55];
    uint64_t v105 = (void (**)(void, void *))v0[57];
    id aBlocka = (void *)v0[56];
    uint64_t v3 = v0[53];
    uint64_t v4 = v0[54];
    uint64_t v5 = v0[47];
    uint64_t v6 = v0[48];
    id v7 = v1;
    swift_bridgeObjectRelease();
    id v8 = v1;
    sub_246BA3D40();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    uint64_t v9 = (void *)sub_246C2CF68();
    os_log_type_t v10 = (void *)swift_allocObject();
    v10[2] = v5;
    v10[3] = v6;
    void v10[4] = 0;
    v10[5] = v1;
    v0[12] = sub_246BAACF0;
    v0[13] = v10;
    v0[8] = MEMORY[0x263EF8330];
    v0[9] = 1107296256;
    v0[10] = sub_246B9B974;
    v0[11] = &unk_26FB20A70;
    id v11 = _Block_copy(v0 + 8);
    id v12 = v1;
    swift_retain();
    sub_246C2CA38();
    v0[45] = MEMORY[0x263F8EE78];
    sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    sub_246C2D208();
    MEMORY[0x24C544020](0, v102, v2, v11);
    _Block_release(v11);

    (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v2, v3);
    v105[1](v102, aBlocka);
    swift_release();

    goto LABEL_44;
  }
  uint64_t v13 = v0 + 32;
  uint64_t v15 = v0[63];
  uint64_t v14 = (void *)v0[64];
  uint64_t v16 = v0[61];
  uint64_t v17 = v0[59];
  uint64_t v18 = v0[46];
  id v19 = *(void **)(v18 + v16);
  *(void *)(v18 + v16) = v14;
  id v20 = v14;

  uint64_t v21 = *(void **)(v18 + v17);
  *(void *)(v18 + v17) = v15;

  uint64_t v22 = *(void **)(v0[46] + v0[59]);
  if (v22)
  {
    id v23 = v22;
    MEMORY[0x24C543DC0]();
    if (*(void *)((*v13 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v13 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
  uint64_t v24 = *v13;
  if ((unint64_t)*v13 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v25 = sub_246C2D3B8();
  }
  else
  {
    uint64_t v25 = *(void *)((v24 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
  }
  id v26 = (void *)MEMORY[0x263F8EE78];
  os_log_type_t v101 = v0;
  if (v25)
  {
    if (v25 < 1)
    {
      __break(1u);
      goto LABEL_49;
    }
    for (uint64_t i = 0; i != v25; ++i)
    {
      if ((v24 & 0xC000000000000001) != 0) {
        id v28 = (id)MEMORY[0x24C544350](i, v24);
      }
      else {
        id v28 = *(id *)(v24 + 8 * i + 32);
      }
      uint64_t v29 = v28;
      id v30 = objc_msgSend(v28, sel_asDictionary, v101);
      if (v30)
      {
        unint64_t v31 = v30;
        uint64_t v32 = sub_246C2CBB8();

        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          id v26 = sub_246BA64A8(0, v26[2] + 1, 1, v26);
        }
        unint64_t v34 = v26[2];
        unint64_t v33 = v26[3];
        if (v34 >= v33 >> 1) {
          id v26 = sub_246BA64A8((void *)(v33 > 1), v34 + 1, 1, v26);
        }
        void v26[2] = v34 + 1;
        v26[v34 + 4] = v32;
      }
    }
  }
  uint64_t v0 = v101;
  swift_bridgeObjectRelease();
  uint64_t v25 = sub_246BA4610((uint64_t)v26);
  swift_bridgeObjectRelease();
  if (v25)
  {
    uint64_t aBlock = v101 + 14;
    swift_bridgeObjectRelease();
    if (qword_2691D6318 == -1)
    {
LABEL_24:
      uint64_t v35 = sub_246C2C088();
      sub_246B8BE0C(v35, (uint64_t)qword_2691E0198);
      swift_bridgeObjectRetain();
      id v36 = (id)v25;
      swift_bridgeObjectRetain();
      id v37 = (id)v25;
      unint64_t v38 = sub_246C2C068();
      os_log_type_t v39 = sub_246C2CEE8();
      BOOL v40 = os_log_type_enabled(v38, v39);
      unint64_t v41 = v0[51];
      id v106 = (id)v25;
      if (v40)
      {
        uint64_t v103 = v0[50];
        uint64_t v42 = swift_slowAlloc();
        uint64_t v43 = (void *)swift_slowAlloc();
        uint64_t v113 = swift_slowAlloc();
        uint64_t v117 = v113;
        *(_DWORD *)uint64_t v42 = 136315650;
        v0[40] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v117);
        sub_246C2D1C8();
        *(_WORD *)(v42 + 12) = 2080;
        swift_bridgeObjectRetain();
        v0[41] = sub_246BA686C(v103, v41, &v117);
        sub_246C2D1C8();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v42 + 22) = 2112;
        id v44 = (id)v25;
        uint64_t v45 = _swift_stdlib_bridgeErrorToNSError();
        v0[42] = v45;
        sub_246C2D1C8();
        *uint64_t v43 = v45;

        _os_log_impl(&dword_246B51000, v38, v39, "%s: cannot write plist to %s, error: %@", (uint8_t *)v42, 0x20u);
        sub_246B80250(&qword_2691D6FF0);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v43, -1, -1);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v113, -1, -1);
        MEMORY[0x24C545990](v42, -1, -1);
      }
      else
      {
        swift_bridgeObjectRelease_n();
      }
      uint64_t v65 = v0[58];
      uint64_t v104 = v0[57];
      uint64_t v66 = v0[55];
      uint64_t v115 = v0[56];
      uint64_t v68 = v0[53];
      uint64_t v67 = v0[54];
      uint64_t v70 = v0[47];
      uint64_t v69 = v0[48];
      sub_246BAAA7C();
      uint64_t v71 = (void *)swift_allocError();
      *unint64_t v72 = 2;
      sub_246BA3D40();
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
      uint64_t v73 = (void *)sub_246C2CF68();
      os_log_type_t v74 = (void *)swift_allocObject();
      v74[2] = v70;
      v74[3] = v69;
      v74[4] = 0;
      v74[5] = v71;
      v0[18] = sub_246BAACF0;
      v0[19] = v74;
      v0[14] = MEMORY[0x263EF8330];
      v0[15] = 1107296256;
      v0[16] = sub_246B9B974;
      v0[17] = &unk_26FB20A20;
      uint64_t v75 = _Block_copy(aBlock);
      swift_retain();
      id v76 = v71;
      sub_246C2CA38();
      v0[39] = MEMORY[0x263F8EE78];
      sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
      sub_246B80250(&qword_2691D6940);
      sub_246BAAD0C();
      sub_246C2D208();
      MEMORY[0x24C544020](0, v65, v66, v75);
      _Block_release(v75);

      (*(void (**)(uint64_t, uint64_t))(v67 + 8))(v66, v68);
      (*(void (**)(uint64_t, uint64_t))(v104 + 8))(v65, v115);
      swift_release();

      goto LABEL_44;
    }
LABEL_49:
    swift_once();
    goto LABEL_24;
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  id v46 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_identifier);
  if (!v46)
  {
    sub_246C2CC48();
    id v46 = (id)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  uint64_t v47 = v101[49];
  uint64_t v48 = (char *)v101[46];
  sub_246B8F1E0(0, &qword_2691D6FE8);
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v50 = *(void *)&v48[OBJC_IVAR___NTKParmesanUpgradeManager_device];
  uint64_t v51 = swift_allocObject();
  *(void *)(v51 + 16) = v47;
  *(void *)(v51 + 24) = v48;
  v101[30] = sub_246BAADA8;
  v101[31] = v51;
  v101[26] = MEMORY[0x263EF8330];
  v101[27] = 1107296256;
  v101[28] = sub_246BA10EC;
  v101[29] = &unk_26FB20980;
  id v52 = _Block_copy(v101 + 26);
  swift_unknownObjectRetain();
  uint64_t v53 = v48;
  swift_release();
  id v54 = objc_msgSend(ObjCClassFromMetadata, sel_bundledFaceWithIdentifier_forDevice_initCustomization_, v46, v50, v52);
  _Block_release(v52);

  if (v54)
  {
    uint64_t v55 = qword_2691D6318;
    id v56 = v54;
    if (v55 != -1) {
      swift_once();
    }
    uint64_t v57 = sub_246C2C088();
    sub_246B8BE0C(v57, (uint64_t)qword_2691E0198);
    unint64_t v58 = v101[32];
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain();
    id v59 = sub_246C2C068();
    os_log_type_t v60 = sub_246C2CED8();
    if (os_log_type_enabled(v59, v60))
    {
      uint64_t v61 = swift_slowAlloc();
      uint64_t v111 = swift_slowAlloc();
      uint64_t v117 = v111;
      *(_DWORD *)uint64_t v61 = 136315650;
      v101[35] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v117);
      sub_246C2D1C8();
      *(_WORD *)(v61 + 12) = 2048;
      id v114 = v56;
      if (v58 >> 62)
      {
        swift_bridgeObjectRetain();
        uint64_t v62 = sub_246C2D3B8();
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v62 = *(void *)((v58 & 0xFFFFFFFFFFFFFF8) + 0x10);
      }
      uint64_t v63 = v101[50];
      unint64_t v64 = v101[51];
      swift_bridgeObjectRelease();
      v101[36] = v62;
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      *(_WORD *)(v61 + 22) = 2080;
      swift_bridgeObjectRetain();
      v101[37] = sub_246BA686C(v63, v64, &v117);
      sub_246C2D1C8();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_246B51000, v59, v60, "%s: Created upgraded face with %ld assets, directory: %s", (uint8_t *)v61, 0x20u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v111, -1, -1);
      MEMORY[0x24C545990](v61, -1, -1);

      id v56 = v114;
    }
    else
    {

      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
    }
    uint64_t v94 = v101[47];
    uint64_t v95 = v101[48];
    uint64_t v96 = v101[46];
    uint64_t v97 = (void *)sub_246C2CC08();
    objc_msgSend(v56, sel_setResourceDirectory_, v97);

    id v98 = v56;
    sub_246BA0B0C(v54, 0, v96, v94, v95);
  }
  else
  {
    swift_bridgeObjectRelease();
    if (qword_2691D6318 != -1) {
      swift_once();
    }
    uint64_t v77 = sub_246C2C088();
    sub_246B8BE0C(v77, (uint64_t)qword_2691E0198);
    unint64_t v78 = sub_246C2C068();
    os_log_type_t v79 = sub_246C2CEE8();
    if (os_log_type_enabled(v78, v79))
    {
      uint64_t v80 = (uint8_t *)swift_slowAlloc();
      uint64_t v81 = swift_slowAlloc();
      uint64_t v117 = v81;
      *(_DWORD *)uint64_t v80 = 136315138;
      v101[34] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v117);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v78, v79, "%s: cannot create an empty face", v80, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v81, -1, -1);
      MEMORY[0x24C545990](v80, -1, -1);
    }

    uint64_t v82 = v101[58];
    uint64_t v107 = (void (**)(uint64_t, uint64_t))v101[57];
    uint64_t v83 = v101[55];
    uint64_t v116 = v101[56];
    uint64_t v85 = v101[53];
    uint64_t v84 = v101[54];
    uint64_t v87 = v101[47];
    uint64_t v86 = v101[48];
    sub_246BAAA7C();
    uint64_t v88 = (void *)swift_allocError();
    *uint64_t v89 = 4;
    sub_246BA3D40();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
    uint64_t v90 = (void *)sub_246C2CF68();
    id v91 = (void *)swift_allocObject();
    v91[2] = v87;
    v91[3] = v86;
    v91[4] = 0;
    v91[5] = v88;
    v101[24] = sub_246BAACF0;
    v101[25] = v91;
    v101[20] = MEMORY[0x263EF8330];
    v101[21] = 1107296256;
    v101[22] = sub_246B9B974;
    v101[23] = &unk_26FB209D0;
    unint64_t v92 = _Block_copy(v101 + 20);
    swift_retain();
    id v93 = v88;
    sub_246C2CA38();
    v101[33] = MEMORY[0x263F8EE78];
    sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    sub_246C2D208();
    MEMORY[0x24C544020](0, v82, v83, v92);
    _Block_release(v92);

    (*(void (**)(uint64_t, uint64_t))(v84 + 8))(v83, v85);
    v107[1](v82, v116);
    swift_release();
  }
LABEL_44:
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v99 = (uint64_t (*)(void))v0[1];
  return v99();
}

uint64_t sub_246B9F68C(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *v2;
  *(void *)(v3 + 568) = a1;
  *(void *)(v3 + 576) = a2;
  swift_task_dealloc();
  return MEMORY[0x270FA2498](sub_246B9F790, 0, 0);
}

uint64_t sub_246B9F790()
{
  uint64_t v127 = v1;
  uint64_t v2 = v1 + 32;
  uint64_t v3 = (void *)v1[72];
  if (!v3)
  {
    id v20 = (void *)v1[71];
    if (v20)
    {
      id v21 = v20;
      MEMORY[0x24C543DC0]();
      uint64_t v0 = *(const void **)((*v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if ((unint64_t)v0 >= *(void *)((*v2 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_246C2CD68();
      }
      sub_246C2CD88();
      sub_246C2CD58();
      swift_unknownObjectRelease();

      goto LABEL_10;
    }
    goto LABEL_9;
  }
  swift_unknownObjectRetain();
  id v4 = v3;
  swift_unknownObjectRetain();
  id v5 = v3;
  uint64_t v6 = sub_246C2C068();
  os_log_type_t v7 = sub_246C2CEE8();
  BOOL v8 = os_log_type_enabled(v6, v7);
  uint64_t v9 = (void *)v1[71];
  uint64_t v0 = (const void *)v1[69];
  if (!v8)
  {

    swift_unknownObjectRelease_n();
LABEL_9:
    swift_unknownObjectRelease();
    goto LABEL_10;
  }
  uint64_t v10 = v1[67];
  uint64_t v11 = v1[49];
  uint64_t v12 = swift_slowAlloc();
  uint64_t v13 = (void *)swift_slowAlloc();
  uint64_t v14 = swift_slowAlloc();
  uint64_t v126 = v14;
  *(_DWORD *)uint64_t v12 = 136315906;
  *(void *)(v12 + 4) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v126);
  *(_WORD *)(v12 + 12) = 2048;
  *(void *)(v12 + 14) = v10;
  *(_WORD *)(v12 + 22) = 2080;
  v125[43] = v11;
  swift_unknownObjectRetain();
  sub_246B80250((uint64_t *)&unk_2691D7000);
  uint64_t v15 = sub_246C2CCA8();
  uint64_t v0 = (const void *)v16;
  *(void *)(v12 + 24) = sub_246BA686C(v15, v16, &v126);
  swift_unknownObjectRelease_n();
  swift_bridgeObjectRelease();
  *(_WORD *)(v12 + 32) = 2112;
  id v17 = v3;
  uint64_t v18 = _swift_stdlib_bridgeErrorToNSError();
  *(void *)(v12 + 34) = v18;
  *uint64_t v13 = v18;

  _os_log_impl(&dword_246B51000, v6, v7, "%s: cannot convert item %lu in context %s, error: %@", (uint8_t *)v12, 0x2Au);
  sub_246B80250(&qword_2691D6FF0);
  swift_arrayDestroy();
  id v19 = v13;
  uint64_t v2 = v120;
  uint64_t v1 = v125;
  MEMORY[0x24C545990](v19, -1, -1);
  swift_arrayDestroy();
  MEMORY[0x24C545990](v14, -1, -1);
  MEMORY[0x24C545990](v12, -1, -1);

  swift_unknownObjectRelease();
LABEL_10:
  uint64_t v22 = v1[67] + 1;
  if (v22 == v1[66])
  {
LABEL_11:
    unint64_t v23 = *v2;
    if (v23 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v24 = sub_246C2D3B8();
    }
    else
    {
      uint64_t v24 = *(void *)((v23 & 0xFFFFFFFFFFFFFF8) + 0x10);
      swift_bridgeObjectRetain();
    }
    uint64_t v25 = (void *)MEMORY[0x263F8EE78];
    if (v24)
    {
      if (v24 < 1)
      {
        __break(1u);
        goto LABEL_66;
      }
      for (uint64_t i = 0; i != v24; ++i)
      {
        if ((v23 & 0xC000000000000001) != 0) {
          id v27 = (id)MEMORY[0x24C544350](i, v23);
        }
        else {
          id v27 = *(id *)(v23 + 8 * i + 32);
        }
        id v28 = v27;
        id v29 = objc_msgSend(v27, sel_asDictionary);
        if (v29)
        {
          id v30 = v29;
          uint64_t v31 = sub_246C2CBB8();

          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
            uint64_t v25 = sub_246BA64A8(0, v25[2] + 1, 1, v25);
          }
          unint64_t v33 = v25[2];
          unint64_t v32 = v25[3];
          if (v33 >= v32 >> 1) {
            uint64_t v25 = sub_246BA64A8((void *)(v32 > 1), v33 + 1, 1, v25);
          }
          v25[2] = v33 + 1;
          v25[v33 + 4] = v31;
        }
      }
    }
    uint64_t v1 = v125;
    swift_bridgeObjectRelease();
    uint64_t v24 = sub_246BA4610((uint64_t)v25);
    swift_bridgeObjectRelease();
    if (!v24)
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      id v57 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_identifier);
      if (!v57)
      {
        sub_246C2CC48();
        id v57 = (id)sub_246C2CC08();
        swift_bridgeObjectRelease();
      }
      uint64_t v58 = v125[49];
      id v59 = (char *)v125[46];
      sub_246B8F1E0(0, &qword_2691D6FE8);
      uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      uint64_t v61 = *(void *)&v59[OBJC_IVAR___NTKParmesanUpgradeManager_device];
      uint64_t v62 = swift_allocObject();
      *(void *)(v62 + 16) = v58;
      *(void *)(v62 + 24) = v59;
      v125[30] = sub_246BAADA8;
      v125[31] = v62;
      v125[26] = MEMORY[0x263EF8330];
      v125[27] = 1107296256;
      v125[28] = sub_246BA10EC;
      v125[29] = &unk_26FB20980;
      uint64_t v63 = _Block_copy(v125 + 26);
      swift_unknownObjectRetain();
      unint64_t v64 = v59;
      swift_release();
      id v65 = objc_msgSend(ObjCClassFromMetadata, sel_bundledFaceWithIdentifier_forDevice_initCustomization_, v57, v61, v63);
      _Block_release(v63);

      if (v65)
      {
        uint64_t v66 = qword_2691D6318;
        id v67 = v65;
        if (v66 != -1) {
          swift_once();
        }
        uint64_t v68 = sub_246C2C088();
        sub_246B8BE0C(v68, (uint64_t)qword_2691E0198);
        unint64_t v69 = v125[32];
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain();
        uint64_t v70 = sub_246C2C068();
        os_log_type_t v71 = sub_246C2CED8();
        if (os_log_type_enabled(v70, v71))
        {
          uint64_t v72 = swift_slowAlloc();
          uint64_t v119 = swift_slowAlloc();
          uint64_t v126 = v119;
          *(_DWORD *)uint64_t v72 = 136315650;
          v125[35] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v126);
          sub_246C2D1C8();
          *(_WORD *)(v72 + 12) = 2048;
          id v122 = v67;
          if (v69 >> 62)
          {
            swift_bridgeObjectRetain();
            uint64_t v73 = sub_246C2D3B8();
            swift_bridgeObjectRelease();
          }
          else
          {
            uint64_t v73 = *(void *)((v69 & 0xFFFFFFFFFFFFFF8) + 0x10);
          }
          unint64_t v74 = v125[51];
          uint64_t v75 = v125[50];
          swift_bridgeObjectRelease();
          v125[36] = v73;
          sub_246C2D1C8();
          swift_bridgeObjectRelease();
          *(_WORD *)(v72 + 22) = 2080;
          swift_bridgeObjectRetain();
          uint64_t v1 = v125;
          v125[37] = sub_246BA686C(v75, v74, &v126);
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_246B51000, v70, v71, "%s: Created upgraded face with %ld assets, directory: %s", (uint8_t *)v72, 0x20u);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v119, -1, -1);
          MEMORY[0x24C545990](v72, -1, -1);

          id v67 = v122;
        }
        else
        {

          swift_bridgeObjectRelease_n();
          swift_bridgeObjectRelease_n();
        }
        uint64_t v110 = v1[47];
        uint64_t v111 = v1[48];
        uint64_t v112 = v1[46];
        uint64_t v113 = (void *)sub_246C2CC08();
        objc_msgSend(v67, sel_setResourceDirectory_, v113);

        id v114 = v67;
        sub_246BA0B0C(v65, 0, v112, v110, v111);
      }
      else
      {
        swift_bridgeObjectRelease();
        if (qword_2691D6318 != -1) {
          swift_once();
        }
        uint64_t v93 = sub_246C2C088();
        sub_246B8BE0C(v93, (uint64_t)qword_2691E0198);
        uint64_t v94 = sub_246C2C068();
        os_log_type_t v95 = sub_246C2CEE8();
        if (os_log_type_enabled(v94, v95))
        {
          uint64_t v96 = (uint8_t *)swift_slowAlloc();
          uint64_t v97 = swift_slowAlloc();
          uint64_t v126 = v97;
          *(_DWORD *)uint64_t v96 = 136315138;
          v125[34] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v126);
          uint64_t v1 = v125;
          sub_246C2D1C8();
          _os_log_impl(&dword_246B51000, v94, v95, "%s: cannot create an empty face", v96, 0xCu);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v97, -1, -1);
          MEMORY[0x24C545990](v96, -1, -1);
        }

        uint64_t v98 = v1[58];
        uint64_t v117 = (void (**)(uint64_t, uint64_t))v1[57];
        uint64_t v99 = v1[55];
        uint64_t v124 = v1[56];
        uint64_t v101 = v1[53];
        uint64_t v100 = v1[54];
        uint64_t v103 = v1[47];
        uint64_t v102 = v1[48];
        sub_246BAAA7C();
        uint64_t v104 = (void *)swift_allocError();
        unsigned char *v105 = 4;
        sub_246BA3D40();
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
        id v106 = (void *)sub_246C2CF68();
        uint64_t v107 = (void *)swift_allocObject();
        v107[2] = v103;
        v107[3] = v102;
        v107[4] = 0;
        v107[5] = v104;
        v125[24] = sub_246BAACF0;
        v125[25] = v107;
        v125[20] = MEMORY[0x263EF8330];
        v125[21] = 1107296256;
        v125[22] = sub_246B9B974;
        v125[23] = &unk_26FB209D0;
        uint64_t v108 = _Block_copy(v125 + 20);
        swift_retain();
        id v109 = v104;
        sub_246C2CA38();
        v125[33] = MEMORY[0x263F8EE78];
        sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
        sub_246B80250(&qword_2691D6940);
        sub_246BAAD0C();
        sub_246C2D208();
        MEMORY[0x24C544020](0, v98, v99, v108);
        _Block_release(v108);

        (*(void (**)(uint64_t, uint64_t))(v100 + 8))(v99, v101);
        v117[1](v98, v124);
        swift_release();
        uint64_t v1 = v125;
      }
      goto LABEL_61;
    }
    uint64_t v0 = v125 + 14;
    swift_bridgeObjectRelease();
    if (qword_2691D6318 == -1)
    {
LABEL_28:
      uint64_t v34 = sub_246C2C088();
      sub_246B8BE0C(v34, (uint64_t)qword_2691E0198);
      swift_bridgeObjectRetain();
      id v35 = (id)v24;
      swift_bridgeObjectRetain();
      id v36 = (id)v24;
      id v37 = sub_246C2C068();
      os_log_type_t v38 = sub_246C2CEE8();
      BOOL v39 = os_log_type_enabled(v37, v38);
      unint64_t v40 = v1[51];
      id v116 = (id)v24;
      if (v39)
      {
        uint64_t v41 = v1[50];
        uint64_t v121 = v0;
        uint64_t v42 = swift_slowAlloc();
        uint64_t v43 = (void *)swift_slowAlloc();
        uint64_t v44 = swift_slowAlloc();
        uint64_t v126 = v44;
        *(_DWORD *)uint64_t v42 = 136315650;
        v125[40] = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v126);
        sub_246C2D1C8();
        *(_WORD *)(v42 + 12) = 2080;
        swift_bridgeObjectRetain();
        v125[41] = sub_246BA686C(v41, v40, &v126);
        sub_246C2D1C8();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v42 + 22) = 2112;
        id v45 = (id)v24;
        uint64_t v46 = _swift_stdlib_bridgeErrorToNSError();
        v125[42] = v46;
        sub_246C2D1C8();
        *uint64_t v43 = v46;

        _os_log_impl(&dword_246B51000, v37, v38, "%s: cannot write plist to %s, error: %@", (uint8_t *)v42, 0x20u);
        sub_246B80250(&qword_2691D6FF0);
        swift_arrayDestroy();
        uint64_t v1 = v125;
        MEMORY[0x24C545990](v43, -1, -1);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v44, -1, -1);
        uint64_t v47 = v42;
        uint64_t v0 = v121;
        MEMORY[0x24C545990](v47, -1, -1);
      }
      else
      {
        swift_bridgeObjectRelease_n();
      }
      uint64_t v76 = v1[58];
      uint64_t aBlock = (void (**)(uint64_t, uint64_t))v1[57];
      uint64_t v77 = v1[55];
      uint64_t v123 = v1[56];
      uint64_t v78 = v1[54];
      uint64_t v79 = v125[53];
      uint64_t v80 = v125[48];
      uint64_t v81 = v125[47];
      sub_246BAAA7C();
      uint64_t v82 = (void *)swift_allocError();
      *uint64_t v83 = 2;
      sub_246BA3D40();
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
      uint64_t v84 = (void *)sub_246C2CF68();
      uint64_t v85 = (void *)swift_allocObject();
      v85[2] = v81;
      v85[3] = v80;
      v85[4] = 0;
      v85[5] = v82;
      v125[18] = sub_246BAACF0;
      v125[19] = v85;
      v125[14] = MEMORY[0x263EF8330];
      v125[15] = 1107296256;
      v125[16] = sub_246B9B974;
      v125[17] = &unk_26FB20A20;
      uint64_t v86 = _Block_copy(v0);
      swift_retain();
      id v87 = v82;
      sub_246C2CA38();
      v125[39] = MEMORY[0x263F8EE78];
      sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
      sub_246B80250(&qword_2691D6940);
      sub_246BAAD0C();
      sub_246C2D208();
      MEMORY[0x24C544020](0, v76, v77, v86);
      _Block_release(v86);

      uint64_t v1 = v125;
      (*(void (**)(uint64_t, uint64_t))(v78 + 8))(v77, v79);
      aBlock[1](v76, v123);
      swift_release();

LABEL_61:
      swift_task_dealloc();
      swift_task_dealloc();
      uint64_t v115 = (uint64_t (*)(void))v1[1];
      return v115();
    }
LABEL_66:
    swift_once();
    goto LABEL_28;
  }
  uint64_t v48 = sub_246C2C088();
  while (1)
  {
    v1[67] = v22;
    v1[68] = sub_246B8BE0C(v48, (uint64_t)qword_2691E0198);
    uint64_t v50 = sub_246C2C068();
    os_log_type_t v51 = sub_246C2CED8();
    uint64_t v0 = (const void *)v51;
    if (os_log_type_enabled(v50, v51))
    {
      uint64_t v52 = swift_slowAlloc();
      uint64_t v53 = swift_slowAlloc();
      uint64_t v126 = v53;
      *(_DWORD *)uint64_t v52 = 136315394;
      *(void *)(v52 + 4) = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v126);
      *(_WORD *)(v52 + 12) = 2048;
      *(void *)(v52 + 14) = v22;
      _os_log_impl(&dword_246B51000, v50, (os_log_type_t)v0, "%s: adding item %lu to the resource directory", (uint8_t *)v52, 0x16u);
      swift_arrayDestroy();
      uint64_t v54 = v53;
      uint64_t v2 = v120;
      uint64_t v1 = v125;
      MEMORY[0x24C545990](v54, -1, -1);
      MEMORY[0x24C545990](v52, -1, -1);
    }

    if (!v22)
    {
      uint64_t v55 = *(void **)(v1[46] + v1[59]);
      if (v55)
      {
        id v56 = v55;
        MEMORY[0x24C543DC0]();
        uint64_t v0 = *(const void **)((*v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
        if ((unint64_t)v0 >= *(void *)((*v2 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();

        goto LABEL_33;
      }
    }
    id v49 = objc_msgSend((id)v1[49], sel_itemAtIndex_, v22);
    v1[69] = v49;
    if (v49) {
      break;
    }
LABEL_33:
    uint64_t v22 = v1[67] + 1;
    if (v22 == v1[66]) {
      goto LABEL_11;
    }
  }
  uint64_t v88 = (uint64_t)v49;
  uint64_t v89 = (void *)swift_task_alloc();
  v1[70] = v89;
  *uint64_t v89 = v1;
  v89[1] = sub_246B9F68C;
  uint64_t v90 = v1[50];
  uint64_t v91 = v1[51];
  return sub_246BA8FF8(v88, v90, v91);
}

uint64_t sub_246BA0B0C(void *a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v9 = sub_246C2CA28();
  uint64_t v24 = *(void *)(v9 - 8);
  MEMORY[0x270FA5388](v9);
  uint64_t v11 = (char *)&v22 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = sub_246C2CA48();
  uint64_t v12 = *(void *)(v23 - 8);
  MEMORY[0x270FA5388](v23);
  uint64_t v14 = (char *)&v22 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a2)
  {
    id v15 = a2;
    sub_246BA3D40();
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  unint64_t v16 = (void *)sub_246C2CF68();
  id v17 = (void *)swift_allocObject();
  v17[2] = a4;
  v17[3] = a5;
  v17[4] = a1;
  v17[5] = a2;
  void aBlock[4] = sub_246BAACF0;
  aBlock[5] = v17;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B9B974;
  aBlock[3] = &unk_26FB20AC0;
  uint64_t v18 = _Block_copy(aBlock);
  id v19 = a2;
  id v20 = a1;
  swift_retain();
  sub_246C2CA38();
  uint64_t v25 = MEMORY[0x263F8EE78];
  sub_246BAAE10((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
  sub_246B80250(&qword_2691D6940);
  sub_246BAAD0C();
  sub_246C2D208();
  MEMORY[0x24C544020](0, v14, v11, v18);
  _Block_release(v18);

  (*(void (**)(char *, uint64_t))(v24 + 8))(v11, v9);
  (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v23);
  return swift_release();
}

void sub_246BA0E04(void *a1, void *a2, uint64_t a3)
{
  if (a1)
  {
    id v5 = a1;
    if (objc_msgSend(a2, sel_contentType) == (id)1)
    {
      type metadata accessor for ParmesanContentEditOption();
      id v6 = sub_246BB9A6C(1, *(void *)(a3 + OBJC_IVAR___NTKParmesanUpgradeManager_device));
      objc_msgSend(v5, sel_selectOption_forCustomEditMode_slot_, v6, 12, 0);
    }
    id v7 = objc_msgSend(a2, sel_topComplication);
    objc_msgSend(v5, sel_setComplication_forSlot_, v7, *MEMORY[0x263F57850]);

    id v8 = objc_msgSend(a2, sel_bottomComplication);
    objc_msgSend(v5, sel_setComplication_forSlot_, v8, *MEMORY[0x263F57820]);

    switch((unint64_t)objc_msgSend(a2, sel_typeface))
    {
      case 1uLL:
        type metadata accessor for ParmesanTypefaceEditOption();
        uint64_t v9 = *(void *)(a3 + OBJC_IVAR___NTKParmesanUpgradeManager_device);
        uint64_t v10 = 1;
        break;
      case 3uLL:
        type metadata accessor for ParmesanTypefaceEditOption();
        uint64_t v9 = *(void *)(a3 + OBJC_IVAR___NTKParmesanUpgradeManager_device);
        uint64_t v10 = 2;
        break;
      default:
        type metadata accessor for ParmesanTypefaceEditOption();
        uint64_t v9 = *(void *)(a3 + OBJC_IVAR___NTKParmesanUpgradeManager_device);
        uint64_t v10 = 0;
        break;
    }
    id v11 = sub_246BB9A6C(v10, v9);
    id v19 = v11;
    if (v11) {
      objc_msgSend(v5, sel_selectOption_forCustomEditMode_slot_, v11, 13, 0);
    }
    unint64_t v12 = (unint64_t)objc_msgSend(a2, sel_colorEffect, v11) - 1;
    if (v12 <= 2
      && (uint64_t v13 = qword_246C33C78[v12],
          type metadata accessor for ParmesanStyleEditOption(),
          (id v14 = sub_246BB9A6C(v13, v9)) != 0))
    {
      id v15 = v14;
      objc_msgSend(v5, sel_selectOption_forCustomEditMode_slot_, v15, 15, 0);
      id v16 = objc_msgSend(a2, sel_colorOption);
      if (v16)
      {
        id v17 = v16;
        uint64_t v18 = @"style-color";
        objc_msgSend(v5, sel_selectOption_forCustomEditMode_slot_, v17, 10, v18);

        id v5 = v17;
      }
    }
    else
    {
      id v15 = v5;
    }
  }
}

void sub_246BA10EC(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void (**)(void *))(a1 + 32);
  swift_retain();
  id v4 = a2;
  v3(a2);
  swift_release();
}

void sub_246BA11C4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2) {
    uint64_t v5 = sub_246C2BA38();
  }
  else {
    uint64_t v5 = 0;
  }
  id v6 = (id)v5;
  (*(void (**)(uint64_t, uint64_t))(a3 + 16))(a3, a1);
}

uint64_t sub_246BA1324(uint64_t a1)
{
  *(void *)(v2 + 120) = a1;
  *(void *)(v2 + 128) = v1;
  return MEMORY[0x270FA2498](sub_246BA1344, 0, 0);
}

uint64_t sub_246BA1344()
{
  uint64_t v14 = v0;
  uint64_t v1 = (id *)(v0 + 120);
  if (objc_msgSend(*(id *)(v0 + 120), sel_numberOfItems))
  {
    objc_msgSend(*v1, sel_contentType);
  }
  else
  {
    if (qword_2691D6318 != -1) {
      swift_once();
    }
    uint64_t v2 = sub_246C2C088();
    sub_246B8BE0C(v2, (uint64_t)qword_2691E0198);
    swift_unknownObjectRetain_n();
    uint64_t v3 = sub_246C2C068();
    os_log_type_t v4 = sub_246C2CF08();
    BOOL v5 = os_log_type_enabled(v3, v4);
    id v6 = *v1;
    if (v5)
    {
      uint64_t v7 = swift_slowAlloc();
      uint64_t v8 = swift_slowAlloc();
      uint64_t v13 = v8;
      *(_DWORD *)uint64_t v7 = 136315394;
      *(void *)(v0 + 96) = sub_246BA686C(0xD000000000000012, 0x8000000246C3C3B0, &v13);
      sub_246C2D1C8();
      *(_WORD *)(v7 + 12) = 2080;
      *(void *)(v0 + 104) = v6;
      swift_unknownObjectRetain();
      sub_246B80250((uint64_t *)&unk_2691D7000);
      uint64_t v9 = sub_246C2CCA8();
      *(void *)(v0 + 112) = sub_246BA686C(v9, v10, &v13);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      swift_unknownObjectRelease_n();
      _os_log_impl(&dword_246B51000, v3, v4, "%s: no photos in %s", (uint8_t *)v7, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v8, -1, -1);
      MEMORY[0x24C545990](v7, -1, -1);
    }
    else
    {
      swift_unknownObjectRelease_n();
    }
  }
  id v11 = *(uint64_t (**)(void))(v0 + 8);
  return v11(0);
}

uint64_t sub_246BA1C84(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 144) = v1;
  swift_task_dealloc();
  if (v1)
  {
    BOOL v5 = sub_246BA2010;
  }
  else
  {
    *(void *)(v4 + 152) = a1;
    BOOL v5 = sub_246BA1DAC;
  }
  return MEMORY[0x270FA2498](v5, 0, 0);
}

uint64_t sub_246BA1DAC()
{
  uint64_t v15 = v0;
  uint64_t v1 = v0[16];
  uint64_t v2 = OBJC_IVAR___NTKParmesanUpgradeManager_galleryShuffles;
  *(void *)(v1 + OBJC_IVAR___NTKParmesanUpgradeManager_galleryShuffles) = v0[19];
  swift_bridgeObjectRelease();
  unint64_t v3 = *(void *)(v1 + v2);
  if (v3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v13 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (v13) {
      goto LABEL_8;
    }
  }
  else if (*(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    goto LABEL_8;
  }
  if (qword_2691D6318 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_246C2C088();
  sub_246B8BE0C(v4, (uint64_t)qword_2691E0198);
  BOOL v5 = sub_246C2C068();
  os_log_type_t v6 = sub_246C2CF08();
  if (os_log_type_enabled(v5, v6))
  {
    uint64_t v7 = (uint8_t *)swift_slowAlloc();
    uint64_t v8 = swift_slowAlloc();
    uint64_t v14 = v8;
    *(_DWORD *)uint64_t v7 = 136315138;
    v0[6] = sub_246BA686C(0xD000000000000012, 0x8000000246C3C3B0, &v14);
    sub_246C2D1C8();
    _os_log_impl(&dword_246B51000, v5, v6, "%s: there are no suggested shuffles to replace the memory with", v7, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v8, -1, -1);
    MEMORY[0x24C545990](v7, -1, -1);
  }

LABEL_8:
  unint64_t v9 = *(void *)(v1 + v2);
  if (v9 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v10 = *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  id v11 = (uint64_t (*)(BOOL))v0[1];
  return v11(v10 > 0);
}

uint64_t sub_246BA2010()
{
  id v17 = v0;
  if (qword_2691D6318 != -1) {
    swift_once();
  }
  uint64_t v1 = (void *)v0[18];
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E0198);
  id v3 = v1;
  id v4 = v1;
  BOOL v5 = sub_246C2C068();
  os_log_type_t v6 = sub_246C2CF08();
  BOOL v7 = os_log_type_enabled(v5, v6);
  uint64_t v8 = (void *)v0[18];
  if (v7)
  {
    uint64_t v9 = swift_slowAlloc();
    uint64_t v10 = (void *)swift_slowAlloc();
    uint64_t v11 = swift_slowAlloc();
    uint64_t v16 = v11;
    *(_DWORD *)uint64_t v9 = 136315394;
    v0[4] = sub_246BA686C(0xD000000000000012, 0x8000000246C3C3B0, &v16);
    sub_246C2D1C8();
    *(_WORD *)(v9 + 12) = 2112;
    id v12 = v8;
    uint64_t v13 = _swift_stdlib_bridgeErrorToNSError();
    v0[5] = v13;
    sub_246C2D1C8();
    *uint64_t v10 = v13;

    _os_log_impl(&dword_246B51000, v5, v6, "%s: error trying to fetch suggested shuffles: %@", (uint8_t *)v9, 0x16u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v10, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v11, -1, -1);
    MEMORY[0x24C545990](v9, -1, -1);
  }
  else
  {
  }
  uint64_t v14 = (uint64_t (*)(void))v0[1];
  return v14(0);
}

uint64_t sub_246BA2294()
{
  v1[11] = v0;
  uint64_t v2 = sub_246C2BB98();
  v1[12] = v2;
  v1[13] = *(void *)(v2 - 8);
  v1[14] = swift_task_alloc();
  uint64_t v3 = sub_246C2BC68();
  v1[15] = v3;
  v1[16] = *(void *)(v3 - 8);
  v1[17] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246BA23B0, 0, 0);
}

uint64_t sub_246BA23B0()
{
  id v37 = v0;
  p_uint64_t super_class = &v0[5].super_class;
  uint64_t super_class = (uint64_t)v0[5].super_class;
  unint64_t v3 = OBJC_IVAR___NTKParmesanUpgradeManager_galleryShuffles;
  id v4 = *(id **)(super_class + OBJC_IVAR___NTKParmesanUpgradeManager_galleryShuffles);
  if ((unint64_t)v4 >> 62) {
    goto LABEL_31;
  }
  uint64_t v5 = *(void *)(((unint64_t)v4 & 0xFFFFFFFFFFFFFF8) + 0x10);
  swift_bridgeObjectRetain();
  if (!v5)
  {
LABEL_32:
    swift_bridgeObjectRelease();
    if (qword_2691D6318 != -1) {
      swift_once();
    }
    uint64_t v13 = sub_246C2C088();
    sub_246B8BE0C(v13, (uint64_t)qword_2691E0198);
    uint64_t v14 = sub_246C2C068();
    os_log_type_t v15 = sub_246C2CEE8();
    if (os_log_type_enabled(v14, v15))
    {
      uint64_t v16 = (uint8_t *)swift_slowAlloc();
      uint64_t v17 = swift_slowAlloc();
      uint64_t v36 = v17;
      *(_DWORD *)uint64_t v16 = 136315138;
      *(p_super_class - 1) = (Class)sub_246BA686C(0xD000000000000018, 0x8000000246C3C390, &v36);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v14, v15, "%s: no shuffle content", v16, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v17, -1, -1);
      MEMORY[0x24C545990](v16, -1, -1);
    }

    sub_246BAAA7C();
    uint64_t v18 = swift_allocError();
    unsigned char *v19 = 3;
    swift_task_dealloc();
    swift_task_dealloc();
    id v20 = (uint64_t (*)(void, void, void))v0->super_class;
    return v20(0, 0, v18);
  }
LABEL_3:
  if (((unint64_t)v4 & 0xC000000000000001) != 0)
  {
    id v6 = (id)MEMORY[0x24C544350](0, v4);
  }
  else
  {
    if (!*(void *)(((unint64_t)v4 & 0xFFFFFFFFFFFFFF8) + 0x10))
    {
      __break(1u);
      goto LABEL_41;
    }
    id v6 = v4[4];
  }
  uint64_t v33 = (uint64_t)v6;
  v0[9].receiver = v6;
  swift_bridgeObjectRelease();
  v0[2].receiver = (id)MEMORY[0x263F8EE88];
  unint64_t v3 = *(void *)(super_class + v3);
  if (!(v3 >> 62))
  {
    uint64_t super_class = *(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    uint64_t v34 = v0;
    if (!super_class) {
      goto LABEL_42;
    }
    goto LABEL_8;
  }
LABEL_41:
  swift_bridgeObjectRetain();
  uint64_t super_class = sub_246C2D3B8();
  uint64_t v34 = v0;
  if (super_class)
  {
LABEL_8:
    unint64_t v7 = 0;
    char v8 = 0;
    char v9 = 0;
    char v10 = 0;
    id v4 = (id *)(p_super_class - 7);
    if ((v3 & 0xC000000000000001) != 0)
    {
LABEL_9:
      uint64_t v11 = (Class *)MEMORY[0x24C544350](v7, v3);
      goto LABEL_12;
    }
    while (1)
    {
      if (v7 >= *(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10))
      {
LABEL_30:
        __break(1u);
LABEL_31:
        swift_bridgeObjectRetain();
        if (!sub_246C2D3B8()) {
          goto LABEL_32;
        }
        goto LABEL_3;
      }
      uint64_t v11 = (Class *)*(id *)(v3 + 8 * v7 + 32);
LABEL_12:
      p_uint64_t super_class = v11;
      uint64_t v0 = (objc_super *)(v7 + 1);
      if (__OFADD__(v7, 1))
      {
        __break(1u);
        goto LABEL_30;
      }
      uint64_t v12 = swift_bridgeObjectRetain();
      sub_246BA33F0(v12);
      if (v10)
      {
        if ((v9 & 1) == 0)
        {
          char v10 = 1;
LABEL_21:
          char v9 = *((unsigned char *)p_super_class + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_nature);
          if ((v8 & 1) == 0) {
            goto LABEL_25;
          }

          char v8 = 1;
          goto LABEL_26;
        }
        if ((v8 & 1) == 0)
        {
          char v9 = 1;
          char v10 = 1;
LABEL_25:
          char v8 = *((unsigned char *)p_super_class + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_cityscape);

          goto LABEL_26;
        }

        char v8 = 1;
        char v9 = 1;
        char v10 = 1;
      }
      else
      {
        char v10 = *((unsigned char *)p_super_class + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_pets);
        if ((v9 & 1) == 0) {
          goto LABEL_21;
        }
        if ((v8 & 1) == 0)
        {
          char v9 = 1;
          goto LABEL_25;
        }

        char v8 = 1;
        char v9 = 1;
      }
LABEL_26:
      if (v0 == (objc_super *)super_class) {
        goto LABEL_43;
      }
      ++v7;
      if ((v3 & 0xC000000000000001) != 0) {
        goto LABEL_9;
      }
    }
  }
LABEL_42:
  char v8 = 0;
  char v9 = 0;
  char v10 = 0;
LABEL_43:
  receiver = (void (**)(Class, Class))v34[8].receiver;
  Class v22 = v34[8].super_class;
  Class v24 = v34[7].super_class;
  swift_bridgeObjectRelease();
  id v25 = v34[2].receiver;
  sub_246C2BC58();
  uint64_t v26 = sub_246C2BC38();
  uint64_t v28 = v27;
  receiver[1](v22, v24);
  id v29 = (objc_class *)type metadata accessor for NTKShuffleID();
  id v30 = objc_allocWithZone(v29);
  *(void *)&v30[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_people] = v25;
  v30[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_pets] = v10;
  v30[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_nature] = v9;
  v30[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_cityscape] = v8;
  uint64_t v31 = (uint64_t *)&v30[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_uuidString];
  *uint64_t v31 = v26;
  v31[1] = v28;
  v34[1].receiver = v30;
  v34[1].uint64_t super_class = v29;
  v34[9].uint64_t super_class = (Class)objc_msgSendSuper2(v34 + 1, sel_init);
  id v35 = (uint64_t (*)(uint64_t))((char *)&dword_2691D84B8 + dword_2691D84B8);
  unint64_t v32 = (void *)swift_task_alloc();
  v34[10].receiver = v32;
  void *v32 = v34;
  v32[1] = sub_246BA2924;
  return v35(v33);
}

uint64_t sub_246BA2924(uint64_t a1)
{
  uint64_t v3 = *v2;
  *(void *)(v3 + 168) = a1;
  *(void *)(v3 + 176) = v1;
  swift_task_dealloc();
  if (v1) {
    id v4 = sub_246BA30C0;
  }
  else {
    id v4 = sub_246BA2A38;
  }
  return MEMORY[0x270FA2498](v4, 0, 0);
}

uint64_t sub_246BA2A38()
{
  uint64_t v50 = v0;
  unint64_t v1 = v0[21];
  if (!(v1 >> 62))
  {
    if (*(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10)) {
      goto LABEL_3;
    }
LABEL_15:
    swift_bridgeObjectRelease();
    if (qword_2691D6318 == -1)
    {
LABEL_16:
      uint64_t v31 = (void *)v0[18];
      uint64_t v32 = sub_246C2C088();
      sub_246B8BE0C(v32, (uint64_t)qword_2691E0198);
      id v33 = v31;
      uint64_t v34 = sub_246C2C068();
      os_log_type_t v35 = sub_246C2CEE8();
      BOOL v36 = os_log_type_enabled(v34, v35);
      id v37 = (void *)v0[18];
      if (v36)
      {
        uint64_t v38 = swift_slowAlloc();
        uint64_t v47 = (void *)swift_slowAlloc();
        uint64_t v48 = swift_slowAlloc();
        v49[0] = v48;
        *(_DWORD *)uint64_t v38 = 136315394;
        v0[8] = sub_246BA686C(0xD000000000000018, 0x8000000246C3C390, v49);
        sub_246C2D1C8();
        *(_WORD *)(v38 + 12) = 2112;
        v0[9] = v37;
        id v39 = v37;
        sub_246C2D1C8();
        *uint64_t v47 = v37;

        _os_log_impl(&dword_246B51000, v34, v35, "%s: no assets in shuffle %@", (uint8_t *)v38, 0x16u);
        sub_246B80250(&qword_2691D6FF0);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v47, -1, -1);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v48, -1, -1);
        MEMORY[0x24C545990](v38, -1, -1);
      }
      else
      {
      }
      unint64_t v40 = (void *)v0[18];
      uint64_t v28 = (void *)v0[19];
      sub_246BAAA7C();
      uint64_t v9 = swift_allocError();
      *uint64_t v41 = 3;

      goto LABEL_20;
    }
LABEL_26:
    swift_once();
    goto LABEL_16;
  }
  swift_bridgeObjectRetain();
  uint64_t v30 = sub_246C2D3B8();
  swift_bridgeObjectRelease();
  if (!v30) {
    goto LABEL_15;
  }
LABEL_3:
  if ((v1 & 0xC000000000000001) != 0)
  {
    id v2 = (id)MEMORY[0x24C544350](0, v0[21]);
    goto LABEL_6;
  }
  if (!*(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    __break(1u);
    goto LABEL_26;
  }
  id v2 = *(id *)(v0[21] + 32);
LABEL_6:
  uint64_t v3 = v0[11];
  swift_bridgeObjectRelease();
  if (*(void *)(v3 + OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory + 8))
  {
    uint64_t v5 = (void *)v0[18];
    uint64_t v4 = v0[19];
    uint64_t v7 = v0[13];
    uint64_t v6 = v0[14];
    uint64_t v8 = v0[12];
    swift_bridgeObjectRetain();
    sub_246C2BAA8();
    swift_bridgeObjectRelease();
    sub_246BA3570(v6);

    (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v6, v8);
    uint64_t v9 = 0;
    goto LABEL_21;
  }
  sub_246BAAA7C();
  char v10 = (void *)swift_allocError();
  unsigned char *v11 = 1;
  swift_willThrow();

  if (qword_2691D6318 != -1) {
    swift_once();
  }
  uint64_t v12 = (void *)v0[18];
  uint64_t v13 = sub_246C2C088();
  sub_246B8BE0C(v13, (uint64_t)qword_2691E0198);
  id v14 = v12;
  id v15 = v10;
  id v16 = v14;
  id v17 = v10;
  uint64_t v18 = sub_246C2C068();
  os_log_type_t v19 = sub_246C2CEE8();
  BOOL v20 = os_log_type_enabled(v18, v19);
  id v21 = (void *)v0[18];
  if (v20)
  {
    uint64_t v22 = swift_slowAlloc();
    uint64_t v23 = (void *)swift_slowAlloc();
    uint64_t v46 = swift_slowAlloc();
    v49[0] = v46;
    *(_DWORD *)uint64_t v22 = 136315650;
    os_log_type_t type = v19;
    v0[5] = sub_246BA686C(0xD000000000000018, 0x8000000246C3C390, v49);
    sub_246C2D1C8();
    *(_WORD *)(v22 + 12) = 2112;
    v0[6] = v21;
    log = v18;
    id v24 = v21;
    sub_246C2D1C8();
    *uint64_t v23 = v21;

    *(_WORD *)(v22 + 22) = 2112;
    id v25 = v10;
    uint64_t v26 = _swift_stdlib_bridgeErrorToNSError();
    v0[7] = v26;
    sub_246C2D1C8();
    v23[1] = v26;

    _os_log_impl(&dword_246B51000, log, type, "%s: cannot retrieve assets for shuffle %@, error: %@", (uint8_t *)v22, 0x20u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v23, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v46, -1, -1);
    MEMORY[0x24C545990](v22, -1, -1);
  }
  else
  {
  }
  uint64_t v27 = (void *)v0[18];
  uint64_t v28 = (void *)v0[19];
  uint64_t v9 = swift_allocError();
  unsigned char *v29 = 3;

LABEL_20:
  id v2 = 0;
  uint64_t v4 = 0;
LABEL_21:
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v42 = (uint64_t (*)(id, uint64_t, uint64_t))v0[1];
  return v42(v2, v4, v9);
}

uint64_t sub_246BA30C0()
{
  uint64_t v26 = v0;
  unint64_t v1 = (void *)v0[22];
  if (qword_2691D6318 != -1) {
    swift_once();
  }
  id v2 = (void *)v0[18];
  uint64_t v3 = sub_246C2C088();
  sub_246B8BE0C(v3, (uint64_t)qword_2691E0198);
  id v4 = v2;
  id v5 = v1;
  id v6 = v4;
  id v7 = v1;
  uint64_t v8 = sub_246C2C068();
  os_log_type_t v9 = sub_246C2CEE8();
  BOOL v10 = os_log_type_enabled(v8, v9);
  uint64_t v11 = (void *)v0[18];
  if (v10)
  {
    log = v8;
    uint64_t v12 = swift_slowAlloc();
    uint64_t v13 = (void *)swift_slowAlloc();
    uint64_t v24 = swift_slowAlloc();
    uint64_t v25 = v24;
    *(_DWORD *)uint64_t v12 = 136315650;
    v0[5] = sub_246BA686C(0xD000000000000018, 0x8000000246C3C390, &v25);
    sub_246C2D1C8();
    *(_WORD *)(v12 + 12) = 2112;
    v0[6] = v11;
    id v14 = v11;
    sub_246C2D1C8();
    *uint64_t v13 = v11;

    *(_WORD *)(v12 + 22) = 2112;
    id v15 = v1;
    uint64_t v16 = _swift_stdlib_bridgeErrorToNSError();
    v0[7] = v16;
    sub_246C2D1C8();
    v13[1] = v16;

    _os_log_impl(&dword_246B51000, log, v9, "%s: cannot retrieve assets for shuffle %@, error: %@", (uint8_t *)v12, 0x20u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v13, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v24, -1, -1);
    MEMORY[0x24C545990](v12, -1, -1);
  }
  else
  {
  }
  uint64_t v18 = (void *)v0[18];
  id v17 = (void *)v0[19];
  sub_246BAAA7C();
  uint64_t v19 = swift_allocError();
  *BOOL v20 = 3;

  swift_task_dealloc();
  swift_task_dealloc();
  id v21 = (uint64_t (*)(void, void, uint64_t))v0[1];
  return v21(0, 0, v19);
}

uint64_t sub_246BA33F0(uint64_t result)
{
  uint64_t v1 = result;
  int64_t v2 = 0;
  uint64_t v3 = result + 56;
  uint64_t v4 = 1 << *(unsigned char *)(result + 32);
  uint64_t v5 = -1;
  if (v4 < 64) {
    uint64_t v5 = ~(-1 << v4);
  }
  unint64_t v6 = v5 & *(void *)(result + 56);
  int64_t v7 = (unint64_t)(v4 + 63) >> 6;
  while (1)
  {
    if (v6)
    {
      unint64_t v8 = __clz(__rbit64(v6));
      v6 &= v6 - 1;
      unint64_t v9 = v8 | (v2 << 6);
      goto LABEL_5;
    }
    int64_t v13 = v2 + 1;
    if (__OFADD__(v2, 1))
    {
      __break(1u);
LABEL_27:
      __break(1u);
      return result;
    }
    if (v13 >= v7) {
      goto LABEL_23;
    }
    unint64_t v14 = *(void *)(v3 + 8 * v13);
    ++v2;
    if (!v14)
    {
      int64_t v2 = v13 + 1;
      if (v13 + 1 >= v7) {
        goto LABEL_23;
      }
      unint64_t v14 = *(void *)(v3 + 8 * v2);
      if (!v14)
      {
        int64_t v2 = v13 + 2;
        if (v13 + 2 >= v7) {
          goto LABEL_23;
        }
        unint64_t v14 = *(void *)(v3 + 8 * v2);
        if (!v14)
        {
          int64_t v2 = v13 + 3;
          if (v13 + 3 >= v7) {
            goto LABEL_23;
          }
          unint64_t v14 = *(void *)(v3 + 8 * v2);
          if (!v14) {
            break;
          }
        }
      }
    }
LABEL_22:
    unint64_t v6 = (v14 - 1) & v14;
    unint64_t v9 = __clz(__rbit64(v14)) + (v2 << 6);
LABEL_5:
    BOOL v10 = (uint64_t *)(*(void *)(v1 + 48) + 16 * v9);
    uint64_t v11 = *v10;
    uint64_t v12 = v10[1];
    swift_bridgeObjectRetain();
    sub_246BEE08C(&v16, v11, v12);
    uint64_t result = swift_bridgeObjectRelease();
  }
  int64_t v15 = v13 + 4;
  if (v15 < v7)
  {
    unint64_t v14 = *(void *)(v3 + 8 * v15);
    if (!v14)
    {
      while (1)
      {
        int64_t v2 = v15 + 1;
        if (__OFADD__(v15, 1)) {
          goto LABEL_27;
        }
        if (v2 >= v7) {
          goto LABEL_23;
        }
        unint64_t v14 = *(void *)(v3 + 8 * v2);
        ++v15;
        if (v14) {
          goto LABEL_22;
        }
      }
    }
    int64_t v2 = v15;
    goto LABEL_22;
  }
LABEL_23:

  return swift_release();
}

void sub_246BA3570(uint64_t a1)
{
  uint64_t v3 = sub_246C2BA78();
  uint64_t v80 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  uint64_t v70 = (char *)v59 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D7038);
  uint64_t v6 = MEMORY[0x270FA5388](v5 - 8);
  unint64_t v8 = (char *)v59 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  BOOL v10 = (char *)v59 - v9;
  uint64_t v11 = sub_246C2BB98();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = MEMORY[0x270FA5388](v11);
  int64_t v15 = (char *)v59 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  id v17 = (char *)v59 - v16;
  uint64_t v18 = v1 + OBJC_IVAR___NTKParmesanAsset_resourceDirectory;
  swift_beginAccess();
  sub_246BAB004(v18, (uint64_t)v10);
  uint64_t v19 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v12 + 48);
  uint64_t v78 = v11;
  if (v19(v10, 1, v11) == 1)
  {
    sub_246B8EA34((uint64_t)v10, &qword_2691D7038);
    return;
  }
  uint64_t v68 = v3;
  uint64_t v60 = v18;
  uint64_t v61 = v8;
  uint64_t v62 = v12;
  BOOL v20 = *(void (**)(char *, char *, uint64_t))(v12 + 32);
  unint64_t v69 = v17;
  v20(v17, v10, v78);
  id v21 = (unint64_t *)(v1 + OBJC_IVAR___NTKParmesanAsset_layouts);
  swift_beginAccess();
  unint64_t v22 = *v21;
  uint64_t v77 = a1;
  if ((v22 & 0xC000000000000001) != 0)
  {
    uint64_t v23 = sub_246C2D338();
    unint64_t v66 = 0;
    uint64_t v24 = 0;
    unint64_t v25 = 0;
    unint64_t v26 = v23 | 0x8000000000000000;
  }
  else
  {
    uint64_t v27 = -1 << *(unsigned char *)(v22 + 32);
    uint64_t v24 = ~v27;
    uint64_t v28 = *(void *)(v22 + 64);
    unint64_t v66 = v22 + 64;
    uint64_t v29 = -v27;
    if (v29 < 64) {
      uint64_t v30 = ~(-1 << v29);
    }
    else {
      uint64_t v30 = -1;
    }
    unint64_t v25 = v30 & v28;
    unint64_t v26 = v22;
  }
  swift_bridgeObjectRetain();
  uint64_t v31 = 0;
  uint64_t v64 = v26 & 0x7FFFFFFFFFFFFFFFLL;
  v59[1] = v24;
  int64_t v65 = (unint64_t)(v24 + 64) >> 6;
  unsigned int v75 = *MEMORY[0x263F06E50];
  unint64_t v74 = (void (**)(char *, void, uint64_t))(v80 + 104);
  uint64_t v32 = (void (**)(char *, uint64_t))(v80 + 8);
  uint64_t v76 = (void (**)(char *, uint64_t))(v62 + 8);
  uint64_t v63 = MEMORY[0x263F8EE50] + 8;
  unint64_t v67 = v26;
  while ((v26 & 0x8000000000000000) != 0)
  {
    uint64_t v37 = sub_246C2D378();
    id v33 = v70;
    if (!v37) {
      goto LABEL_37;
    }
    uint64_t v39 = v38;
    swift_unknownObjectRelease();
    uint64_t v81 = v39;
    type metadata accessor for ParmesanAssetLayout();
    swift_unknownObjectRetain();
    swift_dynamicCast();
    unint64_t v40 = v82;
    swift_unknownObjectRelease();
    uint64_t v36 = v31;
    uint64_t v34 = v25;
LABEL_34:
    if (!v40) {
      goto LABEL_37;
    }
    unint64_t v79 = v34;
    uint64_t v80 = v36;
    uint64_t v44 = &v40[OBJC_IVAR___NTKParmesanAssetLayout_baseImageName];
    id v45 = *(void **)&v40[OBJC_IVAR___NTKParmesanAssetLayout_baseImageName + 8];
    uint64_t v82 = *(char **)&v40[OBJC_IVAR___NTKParmesanAssetLayout_baseImageName];
    uint64_t v83 = v45;
    uint64_t v46 = v68;
    uint64_t v72 = *v74;
    v72(v33, v75, v68);
    unint64_t v47 = sub_246BAADBC();
    swift_bridgeObjectRetain();
    unint64_t v73 = v47;
    sub_246C2BB88();
    os_log_type_t v71 = *v32;
    v71(v33, v46);
    swift_bridgeObjectRelease();
    uint64_t v48 = *(void **)v44;
    id v49 = (void *)*((void *)v44 + 1);
    swift_bridgeObjectRetain();
    sub_246BA4EFC(v15, v77, v48, v49);
    swift_bridgeObjectRelease();
    uint64_t v50 = *v76;
    (*v76)(v15, v78);
    uint64_t v51 = *(void *)&v40[OBJC_IVAR___NTKParmesanAssetLayout_mask];
    if (v51)
    {
      uint64_t v52 = (void **)(v51 + OBJC_IVAR___NTKParmesanAssetMask_imageName);
      uint64_t v53 = v52[1];
      uint64_t v82 = (char *)*v52;
      uint64_t v54 = v82;
      uint64_t v83 = v53;
      v72(v33, v75, v46);
      swift_bridgeObjectRetain();
      sub_246C2BB88();
      v71(v33, v46);
      sub_246BA4EFC(v15, v77, v54, v53);

      swift_bridgeObjectRelease();
      v50(v15, v78);
    }
    else
    {
    }
    unint64_t v25 = v79;
    uint64_t v31 = v80;
    unint64_t v26 = v67;
  }
  id v33 = v70;
  if (v25)
  {
    uint64_t v34 = (v25 - 1) & v25;
    unint64_t v35 = __clz(__rbit64(v25)) | (v31 << 6);
    uint64_t v36 = v31;
LABEL_33:
    unint64_t v40 = (char *)*(id *)(*(void *)(v26 + 56) + 8 * v35);
    goto LABEL_34;
  }
  int64_t v41 = v31 + 1;
  if (!__OFADD__(v31, 1))
  {
    if (v41 >= v65) {
      goto LABEL_37;
    }
    unint64_t v42 = *(void *)(v66 + 8 * v41);
    uint64_t v36 = v31 + 1;
    if (!v42)
    {
      uint64_t v36 = v31 + 2;
      if (v31 + 2 >= v65) {
        goto LABEL_37;
      }
      unint64_t v42 = *(void *)(v66 + 8 * v36);
      if (!v42)
      {
        uint64_t v36 = v31 + 3;
        if (v31 + 3 >= v65) {
          goto LABEL_37;
        }
        unint64_t v42 = *(void *)(v66 + 8 * v36);
        if (!v42)
        {
          uint64_t v36 = v31 + 4;
          if (v31 + 4 >= v65) {
            goto LABEL_37;
          }
          unint64_t v42 = *(void *)(v66 + 8 * v36);
          if (!v42)
          {
            uint64_t v36 = v31 + 5;
            if (v31 + 5 >= v65) {
              goto LABEL_37;
            }
            unint64_t v42 = *(void *)(v66 + 8 * v36);
            if (!v42)
            {
              uint64_t v43 = v31 + 6;
              while (v65 != v43)
              {
                unint64_t v42 = *(void *)(v66 + 8 * v43++);
                if (v42)
                {
                  uint64_t v36 = v43 - 1;
                  goto LABEL_32;
                }
              }
LABEL_37:
              sub_246BAAFFC();
              uint64_t v55 = v62;
              uint64_t v56 = (uint64_t)v61;
              uint64_t v57 = v78;
              (*(void (**)(char *, uint64_t, uint64_t))(v62 + 16))(v61, v77, v78);
              (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v55 + 56))(v56, 0, 1, v57);
              uint64_t v58 = v60;
              swift_beginAccess();
              sub_246BAB06C(v56, v58);
              swift_endAccess();
              (*(void (**)(char *, uint64_t))(v55 + 8))(v69, v57);
              return;
            }
          }
        }
      }
    }
LABEL_32:
    uint64_t v34 = (v42 - 1) & v42;
    unint64_t v35 = __clz(__rbit64(v42)) + (v36 << 6);
    goto LABEL_33;
  }
  __break(1u);
}

uint64_t sub_246BA3D40()
{
  v10[1] = *(id *)MEMORY[0x263EF8340];
  uint64_t v1 = (void *)(v0 + OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory);
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory + 8))
  {
    int64_t v2 = self;
    swift_bridgeObjectRetain();
    id v3 = objc_msgSend(v2, sel_defaultManager);
    uint64_t v4 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    v10[0] = 0;
    unsigned int v5 = objc_msgSend(v3, sel_removeItemAtPath_error_, v4, v10);

    if (v5)
    {
      id v6 = v10[0];
    }
    else
    {
      id v7 = v10[0];
      unint64_t v8 = (void *)sub_246C2BA48();

      swift_willThrow();
    }
  }
  void *v1 = 0;
  v1[1] = 0;
  return swift_bridgeObjectRelease();
}

unint64_t sub_246BA3E70(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2BC68();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  id v7 = (char *)&v100 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v8 = sub_246C10D80(MEMORY[0x263F8EE78]);
  uint64_t v9 = sub_246C2CC48();
  uint64_t v11 = v10;
  uint64_t v104 = MEMORY[0x263F8D9D0];
  *(void *)&long long v103 = 2;
  sub_246BAAFEC(&v103, v102);
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v101 = v8;
  sub_246C1ACBC(v102, v9, v11, isUniquelyReferenced_nonNull_native);
  unint64_t v13 = v101;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v14 = sub_246C2CC48();
  uint64_t v16 = v15;
  uint64_t v104 = sub_246B80250(&qword_2691D70A0);
  *(void *)&long long v103 = a1;
  sub_246BAAFEC(&v103, v102);
  swift_bridgeObjectRetain();
  char v17 = swift_isUniquelyReferenced_nonNull_native();
  unint64_t v101 = v13;
  sub_246C1ACBC(v102, v14, v16, v17);
  unint64_t v18 = v101;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v19 = *(char **)(v2 + OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle);
  if (v19)
  {
    uint64_t v20 = *(void *)(*(void *)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_people] + 16);
    if (v20)
    {
      uint64_t v21 = sub_246C2CC48();
      uint64_t v23 = v22;
      uint64_t v24 = v19;
      uint64_t v25 = swift_bridgeObjectRetain();
      unint64_t v26 = sub_246BEF44C(v25);
      swift_bridgeObjectRelease();
      uint64_t v104 = sub_246B80250(&qword_2691D70A8);
      *(void *)&long long v103 = v26;
      sub_246BAAFEC(&v103, v102);
      char v27 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v18;
      sub_246C1ACBC(v102, v21, v23, v27);
      unint64_t v18 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v68 = v19;
    }
    uint64_t v69 = sub_246C2CC48();
    uint64_t v71 = v70;
    uint64_t v72 = MEMORY[0x263F8D4F8];
    uint64_t v104 = MEMORY[0x263F8D4F8];
    LOBYTE(v103) = v20 != 0;
    sub_246BAAFEC(&v103, v102);
    char v73 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v101 = v18;
    sub_246C1ACBC(v102, v69, v71, v73);
    unint64_t v74 = v101;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v75 = sub_246C2CC48();
    uint64_t v77 = v76;
    char v78 = v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_pets];
    uint64_t v104 = v72;
    LOBYTE(v103) = v78;
    sub_246BAAFEC(&v103, v102);
    char v79 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v101 = v74;
    sub_246C1ACBC(v102, v75, v77, v79);
    unint64_t v80 = v101;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v81 = sub_246C2CC48();
    uint64_t v83 = v82;
    char v84 = v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_nature];
    uint64_t v104 = v72;
    LOBYTE(v103) = v84;
    sub_246BAAFEC(&v103, v102);
    char v85 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v101 = v80;
    sub_246C1ACBC(v102, v81, v83, v85);
    unint64_t v86 = v101;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v87 = sub_246C2CC48();
    uint64_t v89 = v88;
    char v90 = v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_cityscape];
    uint64_t v104 = v72;
    LOBYTE(v103) = v90;
    sub_246BAAFEC(&v103, v102);
    char v91 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v101 = v86;
    sub_246C1ACBC(v102, v87, v89, v91);
    unint64_t v92 = v101;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v93 = sub_246C2CC48();
    uint64_t v95 = v94;
    uint64_t v96 = *(void *)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_uuidString];
    uint64_t v97 = *(void *)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_uuidString + 8];
    uint64_t v104 = MEMORY[0x263F8D310];
    *(void *)&long long v103 = v96;
    *((void *)&v103 + 1) = v97;
    sub_246BAAFEC(&v103, v102);
    swift_bridgeObjectRetain();
    char v98 = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v101 = v92;
    sub_246C1ACBC(v102, v93, v95, v98);
    unint64_t v18 = v101;

    goto LABEL_9;
  }
  uint64_t v28 = *(void **)(v2 + OBJC_IVAR___NTKParmesanUpgradeManager_upgradeContext);
  if (v28)
  {
    id v29 = objc_msgSend(v28, sel_albumIdentifier);
    if (v29)
    {
      uint64_t v30 = v29;
      uint64_t v31 = sub_246C2CC48();
      uint64_t v33 = v32;

      uint64_t v34 = sub_246C2CC48();
      uint64_t v36 = v35;
      uint64_t v37 = MEMORY[0x263F8D310];
      uint64_t v104 = MEMORY[0x263F8D310];
      *(void *)&long long v103 = v31;
      *((void *)&v103 + 1) = v33;
      sub_246BAAFEC(&v103, v102);
      char v38 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v18;
      sub_246C1ACBC(v102, v34, v36, v38);
      unint64_t v39 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v40 = sub_246C2CC48();
      uint64_t v42 = v41;
      uint64_t v43 = MEMORY[0x263F8D4F8];
      uint64_t v104 = MEMORY[0x263F8D4F8];
      LOBYTE(v103) = 0;
      sub_246BAAFEC(&v103, v102);
      char v44 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v39;
      sub_246C1ACBC(v102, v40, v42, v44);
      unint64_t v45 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v46 = sub_246C2CC48();
      uint64_t v48 = v47;
      uint64_t v104 = v43;
      LOBYTE(v103) = 0;
      sub_246BAAFEC(&v103, v102);
      char v49 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v45;
      sub_246C1ACBC(v102, v46, v48, v49);
      unint64_t v50 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v51 = sub_246C2CC48();
      uint64_t v53 = v52;
      uint64_t v104 = v43;
      LOBYTE(v103) = 0;
      sub_246BAAFEC(&v103, v102);
      char v54 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v50;
      sub_246C1ACBC(v102, v51, v53, v54);
      unint64_t v55 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v56 = sub_246C2CC48();
      uint64_t v58 = v57;
      uint64_t v104 = v43;
      LOBYTE(v103) = 0;
      sub_246BAAFEC(&v103, v102);
      char v59 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v55;
      sub_246C1ACBC(v102, v56, v58, v59);
      unint64_t v60 = v101;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v61 = sub_246C2CC48();
      uint64_t v63 = v62;
      sub_246C2BC58();
      uint64_t v64 = sub_246C2BC38();
      uint64_t v66 = v65;
      (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
      uint64_t v104 = v37;
      *(void *)&long long v103 = v64;
      *((void *)&v103 + 1) = v66;
      sub_246BAAFEC(&v103, v102);
      char v67 = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v101 = v60;
      sub_246C1ACBC(v102, v61, v63, v67);
      unint64_t v18 = v101;
LABEL_9:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
  }
  return v18;
}

uint64_t sub_246BA4610(uint64_t a1)
{
  v16[1] = *(id *)MEMORY[0x263EF8340];
  uint64_t v2 = sub_246C2BB98();
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  uint64_t v5 = (char *)v16 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v6 = sub_246BA3E70(a1);
  sub_246C2CC48();
  sub_246C2BAF8();
  swift_bridgeObjectRelease();
  sub_246BA4820(v6);
  swift_bridgeObjectRelease();
  id v7 = objc_allocWithZone(NSDictionary);
  unint64_t v8 = (void *)sub_246C2CBA8();
  swift_bridgeObjectRelease();
  id v9 = objc_msgSend(v7, sel_initWithDictionary_, v8);

  uint64_t v10 = (void *)sub_246C2BAC8();
  v16[0] = 0;
  LODWORD(v8) = objc_msgSend(v9, sel_writeToURL_error_, v10, v16);

  if (v8)
  {
    id v11 = v16[0];
    uint64_t v12 = 0;
  }
  else
  {
    id v13 = v16[0];
    uint64_t v12 = sub_246C2BA48();

    swift_willThrow();
  }
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  return v12;
}

uint64_t sub_246BA4820(uint64_t a1)
{
  if (*(void *)(a1 + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v2 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v2 = MEMORY[0x263F8EE80];
  }
  uint64_t v28 = a1 + 64;
  uint64_t v3 = -1 << *(unsigned char *)(a1 + 32);
  if (-v3 < 64) {
    uint64_t v4 = ~(-1 << -(char)v3);
  }
  else {
    uint64_t v4 = -1;
  }
  unint64_t v5 = v4 & *(void *)(a1 + 64);
  int64_t v27 = (unint64_t)(63 - v3) >> 6;
  uint64_t v6 = v2 + 64;
  swift_bridgeObjectRetain();
  uint64_t result = swift_retain();
  int64_t v8 = 0;
  while (1)
  {
    if (v5)
    {
      unint64_t v11 = __clz(__rbit64(v5));
      v5 &= v5 - 1;
      unint64_t v12 = v11 | (v8 << 6);
      goto LABEL_28;
    }
    int64_t v13 = v8 + 1;
    if (__OFADD__(v8, 1))
    {
LABEL_38:
      __break(1u);
      goto LABEL_39;
    }
    if (v13 >= v27) {
      goto LABEL_37;
    }
    unint64_t v14 = *(void *)(v28 + 8 * v13);
    int64_t v15 = v8 + 1;
    if (!v14)
    {
      int64_t v15 = v8 + 2;
      if (v8 + 2 >= v27) {
        goto LABEL_37;
      }
      unint64_t v14 = *(void *)(v28 + 8 * v15);
      if (!v14)
      {
        int64_t v15 = v8 + 3;
        if (v8 + 3 >= v27) {
          goto LABEL_37;
        }
        unint64_t v14 = *(void *)(v28 + 8 * v15);
        if (!v14)
        {
          int64_t v15 = v8 + 4;
          if (v8 + 4 >= v27) {
            goto LABEL_37;
          }
          unint64_t v14 = *(void *)(v28 + 8 * v15);
          if (!v14) {
            break;
          }
        }
      }
    }
LABEL_27:
    unint64_t v5 = (v14 - 1) & v14;
    unint64_t v12 = __clz(__rbit64(v14)) + (v15 << 6);
    int64_t v8 = v15;
LABEL_28:
    char v17 = (uint64_t *)(*(void *)(a1 + 48) + 16 * v12);
    uint64_t v19 = *v17;
    uint64_t v18 = v17[1];
    sub_246B8E790(*(void *)(a1 + 56) + 32 * v12, (uint64_t)v40);
    *(void *)&long long v39 = v19;
    *((void *)&v39 + 1) = v18;
    v37[2] = v39;
    v38[0] = v40[0];
    v38[1] = v40[1];
    *(void *)&v37[0] = v19;
    *((void *)&v37[0] + 1) = v18;
    swift_bridgeObjectRetain();
    swift_dynamicCast();
    sub_246BAAFEC(v38, v32);
    long long v33 = v29;
    long long v34 = v30;
    uint64_t v35 = v31;
    sub_246BAAFEC(v32, v36);
    long long v29 = v33;
    long long v30 = v34;
    uint64_t v31 = v35;
    sub_246BAAFEC(v36, v37);
    sub_246BAAFEC(v37, &v33);
    uint64_t result = sub_246C2D228();
    uint64_t v20 = -1 << *(unsigned char *)(v2 + 32);
    unint64_t v21 = result & ~v20;
    unint64_t v22 = v21 >> 6;
    if (((-1 << v21) & ~*(void *)(v6 + 8 * (v21 >> 6))) != 0)
    {
      unint64_t v9 = __clz(__rbit64((-1 << v21) & ~*(void *)(v6 + 8 * (v21 >> 6)))) | v21 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v23 = 0;
      unint64_t v24 = (unint64_t)(63 - v20) >> 6;
      do
      {
        if (++v22 == v24 && (v23 & 1) != 0)
        {
          __break(1u);
          goto LABEL_38;
        }
        BOOL v25 = v22 == v24;
        if (v22 == v24) {
          unint64_t v22 = 0;
        }
        v23 |= v25;
        uint64_t v26 = *(void *)(v6 + 8 * v22);
      }
      while (v26 == -1);
      unint64_t v9 = __clz(__rbit64(~v26)) + (v22 << 6);
    }
    *(void *)(v6 + ((v9 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v9;
    uint64_t v10 = *(void *)(v2 + 48) + 40 * v9;
    *(_OWORD *)uint64_t v10 = v29;
    *(_OWORD *)(v10 + 16) = v30;
    *(void *)(v10 + 32) = v31;
    uint64_t result = (uint64_t)sub_246BAAFEC(&v33, (_OWORD *)(*(void *)(v2 + 56) + 32 * v9));
    ++*(void *)(v2 + 16);
  }
  int64_t v16 = v8 + 5;
  if (v8 + 5 >= v27)
  {
LABEL_37:
    swift_release();
    sub_246BAAFFC();
    return v2;
  }
  unint64_t v14 = *(void *)(v28 + 8 * v16);
  if (v14)
  {
    int64_t v15 = v8 + 5;
    goto LABEL_27;
  }
  while (1)
  {
    int64_t v15 = v16 + 1;
    if (__OFADD__(v16, 1)) {
      break;
    }
    if (v15 >= v27) {
      goto LABEL_37;
    }
    unint64_t v14 = *(void *)(v28 + 8 * v15);
    ++v16;
    if (v14) {
      goto LABEL_27;
    }
  }
LABEL_39:
  __break(1u);
  return result;
}

id sub_246BA4C18()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanUpgradeManager();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanUpgradeManager()
{
  return self;
}

uint64_t sub_246BA4D10(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = sub_246C2BC68();
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  uint64_t v6 = (char *)&v15 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246B80250(&qword_2691D7060);
  MEMORY[0x270FA5388](v7 - 8);
  unint64_t v9 = (char *)&v15 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (!a2) {
    goto LABEL_5;
  }
  uint64_t v10 = self;
  unint64_t v11 = (void *)sub_246C2CC08();
  id v12 = objc_msgSend(v10, sel_uuidFromLocalIdentifier_, v11);

  if (!v12) {
    goto LABEL_5;
  }
  sub_246C2CC48();

  sub_246C2BC28();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v4 + 48))(v9, 1, v3) == 1)
  {
    sub_246B8EA34((uint64_t)v9, &qword_2691D7060);
LABEL_5:
    sub_246C2BC58();
    unint64_t v9 = v6;
  }
  uint64_t v13 = sub_246C2BC38();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v9, v3);
  return v13;
}

unint64_t sub_246BA4EFC(void *a1, uint64_t a2, void *a3, void *a4)
{
  uint64_t v87 = a1;
  v91[2] = *(id *)MEMORY[0x263EF8340];
  uint64_t v6 = sub_246C2BA78();
  uint64_t v7 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  unint64_t v9 = (char *)v77 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_246C2BB98();
  unint64_t v11 = *(NSObject **)(v10 - 8);
  uint64_t v12 = MEMORY[0x270FA5388](v10);
  unint64_t v14 = (char *)v77 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = MEMORY[0x270FA5388](v12);
  unint64_t v86 = (char *)v77 - v16;
  uint64_t v17 = MEMORY[0x270FA5388](v15);
  uint64_t v88 = (char *)v77 - v18;
  uint64_t v19 = MEMORY[0x270FA5388](v17);
  unint64_t v21 = (char *)v77 - v20;
  MEMORY[0x270FA5388](v19);
  v91[0] = a3;
  v91[1] = a4;
  char v23 = (char *)v77 - v22;
  (*(void (**)(char *, void, uint64_t))(v7 + 104))(v9, *MEMORY[0x263F06E50], v6);
  sub_246BAADBC();
  sub_246C2BB78();
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  if (qword_2691D6318 != -1) {
    swift_once();
  }
  char v84 = v14;
  uint64_t v24 = sub_246C2C088();
  uint64_t v25 = sub_246B8BE0C(v24, (uint64_t)qword_2691E0198);
  isa = (void (*)(char *, void *, uint64_t))v11[2].isa;
  isa(v21, v87, v10);
  uint64_t v81 = isa;
  os_log_t v82 = v11 + 2;
  isa(v88, v23, v10);
  uint64_t v83 = (void *)v25;
  int64_t v27 = sub_246C2C068();
  os_log_type_t v28 = sub_246C2CEC8();
  int v29 = v28;
  long long v30 = v11;
  if (os_log_type_enabled(v27, v28))
  {
    uint64_t v31 = swift_slowAlloc();
    unint64_t v80 = (void *)swift_slowAlloc();
    v91[0] = v80;
    *(_DWORD *)uint64_t v31 = 136315650;
    uint64_t v89 = sub_246BA686C(0xD000000000000038, 0x8000000246C3C0F0, (uint64_t *)v91);
    v77[1] = &v90;
    sub_246C2D1C8();
    *(_WORD *)(v31 + 12) = 2080;
    os_log_t v79 = v27;
    sub_246BAAE10(&qword_2691D7050, MEMORY[0x263F06EA8]);
    char v85 = v23;
    uint64_t v32 = sub_246C2D528();
    uint64_t v89 = sub_246BA686C(v32, v33, (uint64_t *)v91);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    int v78 = v29;
    long long v34 = v11;
    uint64_t v35 = (char *)v11[1].isa;
    ((void (*)(char *, uint64_t))v35)(v21, v10);
    *(_WORD *)(v31 + 22) = 2080;
    uint64_t v36 = v88;
    char v23 = v85;
    uint64_t v37 = sub_246C2D528();
    uint64_t v89 = sub_246BA686C(v37, v38, (uint64_t *)v91);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    uint64_t v88 = v35;
    ((void (*)(char *, uint64_t))v35)(v36, v10);
    long long v30 = v34;
    os_log_t v39 = v79;
    _os_log_impl(&dword_246B51000, v79, (os_log_type_t)v78, "%s: copying %s to %s", (uint8_t *)v31, 0x20u);
    uint64_t v40 = v80;
    swift_arrayDestroy();
    MEMORY[0x24C545990](v40, -1, -1);
    MEMORY[0x24C545990](v31, -1, -1);
  }
  else
  {
    uint64_t v41 = (char *)v11[1].isa;
    ((void (*)(char *, uint64_t))v41)(v21, v10);
    uint64_t v42 = v88;
    uint64_t v88 = v41;
    ((void (*)(char *, uint64_t))v41)(v42, v10);
  }
  uint64_t v43 = v86;
  id v44 = objc_msgSend(self, sel_defaultManager);
  unint64_t v45 = v87;
  uint64_t v46 = (void *)sub_246C2BAC8();
  uint64_t v47 = (void *)sub_246C2BAC8();
  v91[0] = 0;
  unint64_t v48 = (unint64_t)objc_msgSend(v44, sel_copyItemAtURL_toURL_error_, v46, v47, v91);

  if (v48)
  {
    id v49 = v91[0];
    ((void (*)(char *, uint64_t))v88)(v23, v10);
  }
  else
  {
    id v50 = v91[0];
    uint64_t v51 = (void *)sub_246C2BA48();

    swift_willThrow();
    uint64_t v52 = (void (*)(char *, char *, uint64_t))v81;
    v81(v43, v45, v10);
    uint64_t v53 = v84;
    v52(v84, v23, v10);
    id v54 = v51;
    id v55 = v51;
    uint64_t v56 = sub_246C2C068();
    os_log_type_t v57 = sub_246C2CEE8();
    int v58 = v57;
    if (os_log_type_enabled(v56, v57))
    {
      uint64_t v59 = swift_slowAlloc();
      char v85 = v23;
      uint64_t v60 = v10;
      uint64_t v61 = v59;
      uint64_t v83 = (void *)swift_slowAlloc();
      uint64_t v87 = (void *)swift_slowAlloc();
      v91[0] = v87;
      *(_DWORD *)uint64_t v61 = 136315906;
      LODWORD(v86) = v58;
      uint64_t v89 = sub_246BA686C(0xD000000000000038, 0x8000000246C3C0F0, (uint64_t *)v91);
      os_log_t v82 = v56;
      unint64_t v80 = v30;
      sub_246C2D1C8();
      *(_WORD *)(v61 + 12) = 2080;
      LODWORD(v81) = 0;
      uint64_t v62 = v53;
      sub_246BAAE10(&qword_2691D7050, MEMORY[0x263F06EA8]);
      uint64_t v63 = sub_246C2D528();
      uint64_t v89 = sub_246BA686C(v63, v64, (uint64_t *)v91);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      uint64_t v65 = (void (*)(char *, uint64_t))v88;
      ((void (*)(char *, uint64_t))v88)(v43, v60);
      *(_WORD *)(v61 + 22) = 2080;
      uint64_t v66 = sub_246C2D528();
      uint64_t v89 = sub_246BA686C(v66, v67, (uint64_t *)v91);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      uint64_t v68 = v62;
      unint64_t v48 = v81;
      v65(v68, v60);
      uint64_t v69 = v65;
      *(_WORD *)(v61 + 32) = 2112;
      id v70 = v51;
      uint64_t v71 = _swift_stdlib_bridgeErrorToNSError();
      uint64_t v89 = v71;
      sub_246C2D1C8();
      uint64_t v72 = v83;
      *uint64_t v83 = v71;

      os_log_t v73 = v82;
      _os_log_impl(&dword_246B51000, v82, (os_log_type_t)v86, "%s: failed to copy %s to %s, error: %@", (uint8_t *)v61, 0x2Au);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v72, -1, -1);
      unint64_t v74 = v87;
      swift_arrayDestroy();
      MEMORY[0x24C545990](v74, -1, -1);
      MEMORY[0x24C545990](v61, -1, -1);

      v69(v85, v60);
    }
    else
    {

      uint64_t v75 = (void (*)(char *, uint64_t))v88;
      ((void (*)(char *, uint64_t))v88)(v53, v10);
      v75(v43, v10);

      v75(v23, v10);
    }
  }
  return v48;
}

uint64_t sub_246BA5880()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  sub_246B80250(&qword_2691D7058);
  if (v1 == 1)
  {
    uint64_t result = 25203;
    switch(v2)
    {
      case 0:
        return 6452088;
      case 1:
        return result;
      case 2:
        return 25197;
      case 3:
        return 25196;
      default:
        goto LABEL_12;
    }
  }
  if (!v1)
  {
    uint64_t result = 29811;
    switch(v2)
    {
      case 0:
        return 7631736;
      case 1:
        return result;
      case 2:
        return 29805;
      case 3:
        return 29804;
      default:
        break;
    }
  }
LABEL_12:
  sub_246C2D568();
  __break(1u);
  JUMPOUT(0x246BA5990);
}

uint64_t sub_246BA59B0(uint64_t (**a1)(uint64_t, uint64_t, uint64_t), uint64_t a2, uint64_t a3, uint64_t a4)
{
  return (*a1)(a2, a3, a4);
}

uint64_t sub_246BA59EC(uint64_t a1, int *a2)
{
  uint64_t v6 = (uint64_t (*)(uint64_t))((char *)a2 + *a2);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v4;
  *uint64_t v4 = v2;
  v4[1] = sub_246BA5AC8;
  return v6(a1);
}

uint64_t sub_246BA5AC8()
{
  uint64_t v3 = *v0;
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v3 + 8);
  return v1();
}

uint64_t sub_246BA5BC0(void (*a1)(void))
{
  a1();

  return _swift_stdlib_bridgeErrorToNSError();
}

uint64_t sub_246BA5BF8(uint64_t (*a1)(void))
{
  return a1();
}

void *sub_246BA5C20(void *result, int64_t a2, char a3, void *a4)
{
  char v5 = (char)result;
  if ((a3 & 1) == 0)
  {
    uint64_t v7 = a2;
    goto LABEL_8;
  }
  unint64_t v6 = a4[3];
  uint64_t v7 = v6 >> 1;
  if ((uint64_t)(v6 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v7 + 0x4000000000000000 >= 0)
  {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      uint64_t v7 = a2;
    }
LABEL_8:
    uint64_t v8 = a4[2];
    if (v7 <= v8) {
      uint64_t v9 = a4[2];
    }
    else {
      uint64_t v9 = v7;
    }
    if (v9)
    {
      sub_246B80250(&qword_2691D7090);
      uint64_t v10 = (void *)swift_allocObject();
      int64_t v11 = j__malloc_size(v10);
      uint64_t v12 = v11 - 32;
      if (v11 < 32) {
        uint64_t v12 = v11 - 25;
      }
      id v10[2] = v8;
      v10[3] = 2 * (v12 >> 3);
      uint64_t v13 = v10 + 4;
      if (v5) {
        goto LABEL_15;
      }
    }
    else
    {
      uint64_t v10 = (void *)MEMORY[0x263F8EE78];
      uint64_t v13 = (void *)(MEMORY[0x263F8EE78] + 32);
      if (result)
      {
LABEL_15:
        if (v10 != a4 || v13 >= &a4[v8 + 4]) {
          memmove(v13, a4 + 4, 8 * v8);
        }
        a4[2] = 0;
        goto LABEL_24;
      }
    }
    sub_246BA7060(0, v8, (char *)v13, (uint64_t)a4);
LABEL_24:
    swift_bridgeObjectRelease();
    return v10;
  }
  __break(1u);
  return result;
}

void *sub_246BA5D30(void *result, int64_t a2, char a3, void *a4)
{
  char v5 = (char)result;
  if ((a3 & 1) == 0)
  {
    uint64_t v7 = a2;
    goto LABEL_8;
  }
  unint64_t v6 = a4[3];
  uint64_t v7 = v6 >> 1;
  if ((uint64_t)(v6 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v7 + 0x4000000000000000 >= 0)
  {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      uint64_t v7 = a2;
    }
LABEL_8:
    uint64_t v8 = a4[2];
    if (v7 <= v8) {
      uint64_t v9 = a4[2];
    }
    else {
      uint64_t v9 = v7;
    }
    if (v9)
    {
      sub_246B80250(&qword_2691D7010);
      uint64_t v10 = (void *)swift_allocObject();
      int64_t v11 = j__malloc_size(v10);
      uint64_t v12 = v11 - 32;
      if (v11 < 32) {
        uint64_t v12 = v11 - 17;
      }
      id v10[2] = v8;
      v10[3] = 2 * (v12 >> 4);
      uint64_t v13 = v10 + 4;
      if (v5) {
        goto LABEL_15;
      }
    }
    else
    {
      uint64_t v10 = (void *)MEMORY[0x263F8EE78];
      uint64_t v13 = (void *)(MEMORY[0x263F8EE78] + 32);
      if (result)
      {
LABEL_15:
        if (v10 != a4 || v13 >= &a4[2 * v8 + 4]) {
          memmove(v13, a4 + 4, 16 * v8);
        }
        a4[2] = 0;
        goto LABEL_24;
      }
    }
    sub_246BA714C(0, v8, (unint64_t)v13, (uint64_t)a4);
LABEL_24:
    swift_bridgeObjectRelease();
    return v10;
  }
  __break(1u);
  return result;
}

uint64_t sub_246BA5E40(char a1, int64_t a2, char a3, unint64_t a4)
{
  if (a3)
  {
    unint64_t v6 = *(void *)(a4 + 24);
    uint64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_29;
      }
      uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        uint64_t v7 = a2;
      }
    }
  }
  else
  {
    uint64_t v7 = a2;
  }
  uint64_t v8 = *(void *)(a4 + 16);
  if (v7 <= v8) {
    uint64_t v9 = *(void *)(a4 + 16);
  }
  else {
    uint64_t v9 = v7;
  }
  if (!v9)
  {
    uint64_t v13 = (void *)MEMORY[0x263F8EE78];
    goto LABEL_19;
  }
  sub_246B80250((uint64_t *)&unk_2691D70C0);
  uint64_t v10 = *(void *)(sub_246B80250(&qword_2691D69E8) - 8);
  uint64_t v11 = *(void *)(v10 + 72);
  unint64_t v12 = (*(unsigned __int8 *)(v10 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v10 + 80);
  uint64_t v13 = (void *)swift_allocObject();
  size_t v14 = j__malloc_size(v13);
  if (!v11 || (v14 - v12 == 0x8000000000000000 ? (BOOL v15 = v11 == -1) : (BOOL v15 = 0), v15))
  {
LABEL_29:
    uint64_t result = sub_246C2D398();
    __break(1u);
    return result;
  }
  v13[2] = v8;
  v13[3] = 2 * ((uint64_t)(v14 - v12) / v11);
LABEL_19:
  uint64_t v16 = *(void *)(sub_246B80250(&qword_2691D69E8) - 8);
  unint64_t v17 = (*(unsigned __int8 *)(v16 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v16 + 80);
  unint64_t v18 = (unint64_t)v13 + v17;
  if (a1)
  {
    if ((unint64_t)v13 < a4 || v18 >= a4 + v17 + *(void *)(v16 + 72) * v8)
    {
      swift_arrayInitWithTakeFrontToBack();
    }
    else if (v13 != (void *)a4)
    {
      swift_arrayInitWithTakeBackToFront();
    }
    *(void *)(a4 + 16) = 0;
  }
  else
  {
    sub_246BA7240(0, v8, v18, a4);
  }
  swift_bridgeObjectRelease();
  return (uint64_t)v13;
}

uint64_t sub_246BA60B0(char a1, int64_t a2, char a3, unint64_t a4)
{
  return sub_246BA6228(a1, a2, a3, a4, &qword_2691D70D0, MEMORY[0x263F07A30], MEMORY[0x263F07A30]);
}

char *sub_246BA60D4(char *a1, int64_t a2, char a3, char *a4)
{
  return sub_246BA65C4(a1, a2, a3, a4, &qword_2691D70D8);
}

void *sub_246BA60E0(void *result, int64_t a2, char a3, void *a4)
{
  char v5 = (char)result;
  if ((a3 & 1) == 0)
  {
    uint64_t v7 = a2;
    goto LABEL_8;
  }
  unint64_t v6 = a4[3];
  uint64_t v7 = v6 >> 1;
  if ((uint64_t)(v6 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v7 + 0x4000000000000000 >= 0)
  {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      uint64_t v7 = a2;
    }
LABEL_8:
    uint64_t v8 = a4[2];
    if (v7 <= v8) {
      uint64_t v9 = a4[2];
    }
    else {
      uint64_t v9 = v7;
    }
    if (v9)
    {
      sub_246B80250(&qword_2691D70B8);
      uint64_t v10 = (void *)swift_allocObject();
      size_t v11 = j__malloc_size(v10);
      id v10[2] = v8;
      v10[3] = 2 * ((uint64_t)(v11 - 32) / 80);
      unint64_t v12 = v10 + 4;
      if (v5)
      {
LABEL_13:
        if (v10 != a4 || v12 >= &a4[10 * v8 + 4]) {
          memmove(v12, a4 + 4, 80 * v8);
        }
        a4[2] = 0;
        goto LABEL_22;
      }
    }
    else
    {
      uint64_t v10 = (void *)MEMORY[0x263F8EE78];
      unint64_t v12 = (void *)(MEMORY[0x263F8EE78] + 32);
      if (result) {
        goto LABEL_13;
      }
    }
    sub_246BA7590(0, v8, (unint64_t)v12, (uint64_t)a4);
LABEL_22:
    swift_bridgeObjectRelease();
    return v10;
  }
  __break(1u);
  return result;
}

uint64_t sub_246BA6204(char a1, int64_t a2, char a3, unint64_t a4)
{
  return sub_246BA6228(a1, a2, a3, a4, &qword_2691D7018, MEMORY[0x263F5DE50], MEMORY[0x263F5DE50]);
}

uint64_t sub_246BA6228(char a1, int64_t a2, char a3, unint64_t a4, uint64_t *a5, uint64_t (*a6)(void), uint64_t (*a7)(void))
{
  if (a3)
  {
    unint64_t v11 = *(void *)(a4 + 24);
    uint64_t v12 = v11 >> 1;
    if ((uint64_t)(v11 >> 1) < a2)
    {
      if (v12 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_29;
      }
      uint64_t v12 = v11 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v11 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        uint64_t v12 = a2;
      }
    }
  }
  else
  {
    uint64_t v12 = a2;
  }
  uint64_t v13 = *(void *)(a4 + 16);
  if (v12 <= v13) {
    uint64_t v14 = *(void *)(a4 + 16);
  }
  else {
    uint64_t v14 = v12;
  }
  if (!v14)
  {
    unint64_t v18 = (void *)MEMORY[0x263F8EE78];
    goto LABEL_19;
  }
  sub_246B80250(a5);
  uint64_t v15 = *(void *)(a6(0) - 8);
  uint64_t v16 = *(void *)(v15 + 72);
  unint64_t v17 = (*(unsigned __int8 *)(v15 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v15 + 80);
  unint64_t v18 = (void *)swift_allocObject();
  size_t v19 = j__malloc_size(v18);
  if (!v16 || (v19 - v17 == 0x8000000000000000 ? (BOOL v20 = v16 == -1) : (BOOL v20 = 0), v20))
  {
LABEL_29:
    uint64_t result = sub_246C2D398();
    __break(1u);
    return result;
  }
  v18[2] = v13;
  _OWORD v18[3] = 2 * ((uint64_t)(v19 - v17) / v16);
LABEL_19:
  uint64_t v21 = *(void *)(a6(0) - 8);
  unint64_t v22 = (*(unsigned __int8 *)(v21 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v21 + 80);
  unint64_t v23 = (unint64_t)v18 + v22;
  if (a1)
  {
    if ((unint64_t)v18 < a4 || v23 >= a4 + v22 + *(void *)(v21 + 72) * v13)
    {
      swift_arrayInitWithTakeFrontToBack();
    }
    else if (v18 != (void *)a4)
    {
      swift_arrayInitWithTakeBackToFront();
    }
    *(void *)(a4 + 16) = 0;
  }
  else
  {
    sub_246BA77D0(0, v13, v23, a4, a7);
  }
  swift_bridgeObjectRelease();
  return (uint64_t)v18;
}

void *sub_246BA64A8(void *result, int64_t a2, char a3, void *a4)
{
  char v5 = (char)result;
  if ((a3 & 1) == 0)
  {
    uint64_t v7 = a2;
    goto LABEL_8;
  }
  unint64_t v6 = a4[3];
  uint64_t v7 = v6 >> 1;
  if ((uint64_t)(v6 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v7 + 0x4000000000000000 >= 0)
  {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      uint64_t v7 = a2;
    }
LABEL_8:
    uint64_t v8 = a4[2];
    if (v7 <= v8) {
      uint64_t v9 = a4[2];
    }
    else {
      uint64_t v9 = v7;
    }
    if (v9)
    {
      sub_246B80250(&qword_2691D7068);
      uint64_t v10 = (void *)swift_allocObject();
      int64_t v11 = j__malloc_size(v10);
      uint64_t v12 = v11 - 32;
      if (v11 < 32) {
        uint64_t v12 = v11 - 25;
      }
      id v10[2] = v8;
      v10[3] = 2 * (v12 >> 3);
      uint64_t v13 = v10 + 4;
      if (v5) {
        goto LABEL_15;
      }
    }
    else
    {
      uint64_t v10 = (void *)MEMORY[0x263F8EE78];
      uint64_t v13 = (void *)(MEMORY[0x263F8EE78] + 32);
      if (result)
      {
LABEL_15:
        if (v10 != a4 || v13 >= &a4[v8 + 4]) {
          memmove(v13, a4 + 4, 8 * v8);
        }
        a4[2] = 0;
        goto LABEL_24;
      }
    }
    sub_246BAAE58(0, v8, (unint64_t)v13, (uint64_t)a4);
LABEL_24:
    swift_bridgeObjectRelease();
    return v10;
  }
  __break(1u);
  return result;
}

char *sub_246BA65B8(char *a1, int64_t a2, char a3, char *a4)
{
  return sub_246BA65C4(a1, a2, a3, a4, &qword_2691D7088);
}

char *sub_246BA65C4(char *result, int64_t a2, char a3, char *a4, uint64_t *a5)
{
  char v6 = (char)result;
  if ((a3 & 1) == 0)
  {
    int64_t v8 = a2;
    goto LABEL_8;
  }
  unint64_t v7 = *((void *)a4 + 3);
  int64_t v8 = v7 >> 1;
  if ((uint64_t)(v7 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v8 + 0x4000000000000000 >= 0)
  {
    int64_t v8 = v7 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v7 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      int64_t v8 = a2;
    }
LABEL_8:
    int64_t v9 = *((void *)a4 + 2);
    if (v8 <= v9) {
      int64_t v10 = *((void *)a4 + 2);
    }
    else {
      int64_t v10 = v8;
    }
    if (v10)
    {
      sub_246B80250(a5);
      int64_t v11 = (char *)swift_allocObject();
      size_t v12 = j__malloc_size(v11);
      *((void *)v11 + 2) = v9;
      *((void *)v11 + 3) = 2 * v12 - 64;
      uint64_t v13 = v11 + 32;
      if (v6)
      {
LABEL_13:
        if (v11 != a4 || v13 >= &a4[v9 + 32]) {
          memmove(v13, a4 + 32, v9);
        }
        *((void *)a4 + 2) = 0;
        goto LABEL_22;
      }
    }
    else
    {
      int64_t v11 = (char *)MEMORY[0x263F8EE78];
      uint64_t v13 = (char *)(MEMORY[0x263F8EE78] + 32);
      if (result) {
        goto LABEL_13;
      }
    }
    sub_246BA739C(0, v9, v13, (uint64_t)a4);
LABEL_22:
    swift_bridgeObjectRelease();
    return v11;
  }
  __break(1u);
  return result;
}

void *sub_246BA66BC(void *result, int64_t a2, char a3, void *a4)
{
  char v5 = (char)result;
  if ((a3 & 1) == 0)
  {
    uint64_t v7 = a2;
    goto LABEL_8;
  }
  unint64_t v6 = a4[3];
  uint64_t v7 = v6 >> 1;
  if ((uint64_t)(v6 >> 1) >= a2) {
    goto LABEL_8;
  }
  if (v7 + 0x4000000000000000 >= 0)
  {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
    if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
      uint64_t v7 = a2;
    }
LABEL_8:
    uint64_t v8 = a4[2];
    if (v7 <= v8) {
      uint64_t v9 = a4[2];
    }
    else {
      uint64_t v9 = v7;
    }
    if (v9)
    {
      sub_246B80250(&qword_2691D7020);
      int64_t v10 = (void *)swift_allocObject();
      int64_t v11 = j__malloc_size(v10);
      uint64_t v12 = v11 - 32;
      if (v11 < 32) {
        uint64_t v12 = v11 - 17;
      }
      id v10[2] = v8;
      v10[3] = 2 * (v12 >> 4);
      uint64_t v13 = v10 + 4;
      if (v5) {
        goto LABEL_15;
      }
    }
    else
    {
      int64_t v10 = (void *)MEMORY[0x263F8EE78];
      uint64_t v13 = (void *)(MEMORY[0x263F8EE78] + 32);
      if (result)
      {
LABEL_15:
        if (v10 != a4 || v13 >= &a4[2 * v8 + 4]) {
          memmove(v13, a4 + 4, 16 * v8);
        }
        a4[2] = 0;
        goto LABEL_24;
      }
    }
    sub_246BA7484(0, v8, (unint64_t)v13, (uint64_t)a4);
LABEL_24:
    swift_bridgeObjectRelease();
    return v10;
  }
  __break(1u);
  return result;
}

uint64_t sub_246BA67CC(uint64_t (*a1)(void))
{
  return a1();
}

uint64_t sub_246BA67F4(uint64_t *a1, uint64_t a2, uint64_t *a3, uint64_t (*a4)(void))
{
  uint64_t v6 = a4();
  sub_246BA686C(v6, v7, a3);
  uint64_t v8 = *a1 + 8;
  sub_246C2D1C8();
  uint64_t result = swift_bridgeObjectRelease();
  *a1 = v8;
  return result;
}

uint64_t sub_246BA686C(uint64_t a1, unint64_t a2, uint64_t *a3)
{
  uint64_t v6 = sub_246BA6940(v12, 0, 0, 1, a1, a2);
  uint64_t v7 = v12[0];
  if (v6)
  {
    uint64_t v8 = v6;
    uint64_t ObjectType = swift_getObjectType();
    v12[0] = v8;
    uint64_t v9 = *a3;
    if (*a3)
    {
      sub_246B8E790((uint64_t)v12, *a3);
      *a3 = v9 + 32;
    }
  }
  else
  {
    uint64_t ObjectType = MEMORY[0x263F8DBE0];
    v12[0] = a1;
    v12[1] = a2;
    uint64_t v10 = *a3;
    if (*a3)
    {
      sub_246B8E790((uint64_t)v12, *a3);
      *a3 = v10 + 32;
    }
    swift_bridgeObjectRetain();
  }
  sub_246B8EB94((uint64_t)v12);
  return v7;
}

uint64_t sub_246BA6940(uint64_t *a1, char *__dst, uint64_t a3, char a4, uint64_t a5, unint64_t a6)
{
  if ((a6 & 0x2000000000000000) != 0)
  {
    if ((a4 & 1) == 0)
    {
      if (__dst)
      {
        uint64_t v11 = HIBYTE(a6) & 0xF;
        if (a3 - (uint64_t)__dst > v11)
        {
          __src[0] = a5;
          __src[1] = a6 & 0xFFFFFFFFFFFFFFLL;
          if (__src >= (void *)&__dst[v11] || (char *)__src + v11 <= __dst)
          {
            memcpy(__dst, __src, HIBYTE(a6) & 0xF);
            sub_246C2D1D8();
            uint64_t result = 0;
            *a1 = (uint64_t)__dst;
            return result;
          }
          goto LABEL_17;
        }
      }
    }
LABEL_13:
    uint64_t result = sub_246BA6AFC(a5, a6);
    *a1 = v12;
    return result;
  }
  if ((a6 & 0x1000000000000000) != 0) {
    goto LABEL_13;
  }
  if ((a5 & 0x1000000000000000) != 0)
  {
    uint64_t v8 = (a6 & 0xFFFFFFFFFFFFFFFLL) + 32;
    goto LABEL_5;
  }
  uint64_t v8 = sub_246C2D2C8();
  if (!v8)
  {
    sub_246C2D398();
    __break(1u);
LABEL_17:
    uint64_t result = sub_246C2D408();
    __break(1u);
    return result;
  }
LABEL_5:
  *a1 = v8;
  if ((a6 & 0x8000000000000000) != 0) {
    return 0;
  }
  else {
    return swift_unknownObjectRetain();
  }
}

uint64_t sub_246BA6AFC(uint64_t a1, unint64_t a2)
{
  uint64_t v2 = sub_246BA6B94(a1, a2);
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v2 = sub_246BA6D74(0, *(void *)(v2 + 16) + 1, 1, (char *)v2);
  }
  unint64_t v4 = *(void *)(v2 + 16);
  unint64_t v3 = *(void *)(v2 + 24);
  if (v4 >= v3 >> 1) {
    uint64_t v2 = sub_246BA6D74(v3 > 1, v4 + 1, 1, (char *)v2);
  }
  *(void *)(v2 + 16) = v4 + 1;
  *(unsigned char *)(v2 + 32 + v4) = 0;
  return v2;
}

uint64_t sub_246BA6B94(uint64_t a1, unint64_t a2)
{
  if ((a2 & 0x1000000000000000) != 0) {
    goto LABEL_10;
  }
  if ((a2 & 0x2000000000000000) != 0) {
    uint64_t v2 = HIBYTE(a2) & 0xF;
  }
  else {
    uint64_t v2 = a1 & 0xFFFFFFFFFFFFLL;
  }
  if (v2)
  {
    while (1)
    {
      unint64_t v3 = sub_246BA6D0C(v2, 0);
      if (v2 < 0) {
        break;
      }
      unint64_t v4 = v3;
      uint64_t v5 = sub_246C2D288();
      if (v6) {
        goto LABEL_14;
      }
      if (v5 == v2) {
        return (uint64_t)v4;
      }
      sub_246C2D398();
      __break(1u);
LABEL_10:
      uint64_t v2 = sub_246C2CCE8();
      if (!v2) {
        return MEMORY[0x263F8EE78];
      }
    }
    sub_246C2D408();
    __break(1u);
LABEL_14:
    uint64_t result = sub_246C2D398();
    __break(1u);
  }
  else
  {
    return MEMORY[0x263F8EE78];
  }
  return result;
}

void *sub_246BA6D0C(uint64_t a1, uint64_t a2)
{
  if (a2 <= a1) {
    uint64_t v2 = a1;
  }
  else {
    uint64_t v2 = a2;
  }
  if (!v2) {
    return (void *)MEMORY[0x263F8EE78];
  }
  sub_246B80250(&qword_2691D7078);
  unint64_t v4 = (void *)swift_allocObject();
  size_t v5 = j__malloc_size(v4);
  v4[2] = a1;
  void v4[3] = 2 * v5 - 64;
  return v4;
}

uint64_t sub_246BA6D74(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_30;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  int64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    int64_t v9 = *((void *)a4 + 2);
  }
  else {
    int64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D7078);
    uint64_t v10 = (char *)swift_allocObject();
    size_t v11 = j__malloc_size(v10);
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * v11 - 64;
  }
  else
  {
    uint64_t v10 = (char *)MEMORY[0x263F8EE78];
  }
  uint64_t v12 = v10 + 32;
  uint64_t v13 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v12 >= &v13[v8]) {
      memmove(v12, v13, v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_28;
  }
  if (v13 >= &v12[v8] || v12 >= &v13[v8])
  {
    memcpy(v12, v13, v8);
LABEL_28:
    swift_bridgeObjectRelease();
    return (uint64_t)v10;
  }
LABEL_30:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

unsigned char **sub_246BA6EC4(unsigned char **result, uint64_t a2, uint64_t a3, char a4)
{
  unint64_t v4 = *result;
  *unint64_t v4 = a4;
  *uint64_t result = v4 + 1;
  return result;
}

void *sub_246BA6ED4(void *__src, uint64_t a2, void *__dst, uint64_t a4)
{
  if (__src) {
    uint64_t v5 = a2 - (void)__src;
  }
  else {
    uint64_t v5 = 0;
  }
  if (!__dst)
  {
    if (v5 <= 0) {
      return __src;
    }
LABEL_12:
    __src = (void *)sub_246C2D408();
    __break(1u);
    return __src;
  }
  if (a4 - (uint64_t)__dst < v5) {
    goto LABEL_12;
  }
  if (__src)
  {
    return memmove(__dst, __src, a2 - (void)__src);
  }
  return __src;
}

uint64_t sub_246BA6F78@<X0>(uint64_t (*a1)(void)@<X0>, uint64_t *a2@<X8>)
{
  uint64_t result = a1();
  *a2 = result;
  return result;
}

void sub_246BA6FA8(uint64_t *a1, void **a2, uint64_t a3, uint64_t (*a4)(void))
{
  unint64_t v6 = (void *)a4();
  uint64_t v7 = *a1 + 8;
  sub_246C2D1C8();
  *a1 = v7;
  int64_t v8 = *a2;
  if (*a2)
  {
    void *v8 = v6;
    *a2 = v8 + 1;
  }
  else
  {
  }
}

char *sub_246BA7060(uint64_t a1, uint64_t a2, char *__dst, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    uint64_t v5 = (char *)(a4 + 8 * a1 + 32);
    size_t v6 = 8 * v4;
    uint64_t v7 = &__dst[v6];
    if (v5 >= &__dst[v6] || &v5[v6] <= __dst)
    {
      memcpy(__dst, v5, v6);
      return v7;
    }
  }
  uint64_t result = (char *)sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BA714C(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 16 * a1 + 32;
    unint64_t v6 = a3 + 16 * v4;
    if (v5 >= v6 || v5 + 16 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BA7240(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    uint64_t v8 = *(void *)(sub_246B80250(&qword_2691D69E8) - 8);
    uint64_t v9 = a4 + ((*(unsigned __int8 *)(v8 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80));
    uint64_t v10 = *(void *)(v8 + 72);
    unint64_t v11 = v9 + v10 * a1;
    unint64_t v12 = a3 + v10 * v4;
    if (v11 >= v12 || v11 + v10 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v12;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

char *sub_246BA739C(uint64_t a1, uint64_t a2, char *__dst, uint64_t a4)
{
  size_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = (char *)(a4 + a1 + 32);
    unint64_t v6 = &__dst[v4];
    if (v5 >= &__dst[v4] || &v5[v4] <= __dst)
    {
      memcpy(__dst, v5, v4);
      return v6;
    }
  }
  uint64_t result = (char *)sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BA7484(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 16 * a1 + 32;
    unint64_t v6 = a3 + 16 * v4;
    if (v5 >= v6 || v5 + 16 * v4 <= a3)
    {
      sub_246B80250(&qword_2691D7028);
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BA7590(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 80 * a1 + 32;
    unint64_t v6 = a3 + 80 * v4;
    if (v5 >= v6 || v5 + 80 * v4 <= a3)
    {
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

id sub_246BA7688(void *a1, void *a2)
{
  v2[OBJC_IVAR___NTKParmesanUpgradeManager_faceUpgradeValidated] = 0;
  unint64_t v5 = (uint64_t *)&v2[OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory];
  uint64_t *v5 = 0;
  v5[1] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanUpgradeManager_previewAsset] = 0;
  uint64_t v6 = OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle;
  *(void *)&v2[OBJC_IVAR___NTKParmesanUpgradeManager_memoryShuffle] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanUpgradeManager_sourceFace] = a1;
  uint64_t v7 = v2;
  id v8 = objc_msgSend(a1, sel_upgradeContext);
  *(void *)&v7[OBJC_IVAR___NTKParmesanUpgradeManager_upgradeContext] = v8;
  *(void *)&v7[OBJC_IVAR___NTKParmesanUpgradeManager_device] = a2;
  id v9 = a2;
  *(void *)&v7[OBJC_IVAR___NTKParmesanUpgradeManager_upgradingFaceIndex] = sub_246C2B978();
  id v10 = (id)NTKPhotosCreateResourceDirectory();
  if (v10)
  {
    unint64_t v11 = v10;
    uint64_t v12 = sub_246C2CC48();
    uint64_t v14 = v13;
  }
  else
  {
    uint64_t v12 = 0;
    uint64_t v14 = 0;
  }
  uint64_t *v5 = v12;
  v5[1] = v14;
  swift_bridgeObjectRelease();
  *(void *)&v7[OBJC_IVAR___NTKParmesanUpgradeManager_galleryShuffles] = MEMORY[0x263F8EE78];
  uint64_t v15 = *(void **)&v2[v6];
  *(void *)&v2[v6] = 0;

  v17.receiver = v7;
  v17.uint64_t super_class = (Class)type metadata accessor for ParmesanUpgradeManager();
  return objc_msgSendSuper2(&v17, sel_init);
}

uint64_t sub_246BA77D0(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4, uint64_t (*a5)(void))
{
  uint64_t v5 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v5 & 0x8000000000000000) == 0)
  {
    uint64_t v9 = *(void *)(a5(0) - 8);
    uint64_t v10 = a4 + ((*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80));
    uint64_t v11 = *(void *)(v9 + 72);
    unint64_t v12 = v10 + v11 * a1;
    unint64_t v13 = a3 + v11 * v5;
    if (v12 >= v13 || v12 + v11 * v5 <= a3)
    {
      swift_arrayInitWithCopy();
      return v13;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

id sub_246BA792C(void *a1, uint64_t a2)
{
  uint64_t v203 = a2;
  uint64_t v3 = sub_246B80250(&qword_2691D7030);
  MEMORY[0x270FA5388](v3 - 8);
  uint64_t v5 = (char *)&v185 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_246B80250(&qword_2691D7038);
  uint64_t v7 = MEMORY[0x270FA5388](v6 - 8);
  uint64_t v9 = (char *)&v185 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v7);
  Class v190 = (Class)((char *)&v185 - v10);
  uint64_t v206 = (void *)sub_246C2BB98();
  uint64_t v11 = (void *)*(v206 - 1);
  uint64_t v12 = MEMORY[0x270FA5388](v206);
  uint64_t v14 = (objc_class *)((char *)&v185 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  MEMORY[0x270FA5388](v12);
  uint64_t v204 = (char *)&v185 - v15;
  unint64_t v16 = sub_246C10C74(MEMORY[0x263F8EE78]);
  objc_super v17 = (SEL *)&selRef__colorStyleKeylineViewWithEditOption_slot_;
  id v18 = objc_msgSend(a1, sel_localIdentifier);
  if (v18)
  {
    size_t v19 = v18;
    uint64_t v20 = sub_246C2CC48();
    uint64_t v22 = v21;
  }
  else
  {
    uint64_t v20 = 0;
    uint64_t v22 = 0;
  }
  uint64_t v202 = sub_246BA4D10(v20, v22);
  uint64_t v205 = v23;
  swift_bridgeObjectRelease();
  id v24 = objc_msgSend(a1, sel_timeAlignment);
  float32x4_t v187 = v5;
  uint64_t v186 = v9;
  uint64_t v195 = v11;
  uint64_t v200 = v16;
  Class v189 = v14;
  switch((unint64_t)v24)
  {
    case 1uLL:
      uint64_t v25 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v26 = (char *)objc_allocWithZone(v25);
      uint64_t v27 = 0;
      *(void *)&v26[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v26[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
      uint64_t v207 = v26;
      os_log_type_t v28 = (objc_super *)&v207;
      break;
    case 2uLL:
      uint64_t v25 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      os_log_t v39 = (char *)objc_allocWithZone(v25);
      uint64_t v27 = 0;
      *(void *)&v39[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v39[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
      uint64_t v208 = v39;
      os_log_type_t v28 = (objc_super *)&v208;
      break;
    case 3uLL:
      uint64_t v25 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v40 = (char *)objc_allocWithZone(v25);
      uint64_t v27 = 1;
      *(void *)&v40[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v40[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
      uint64_t v209 = v40;
      os_log_type_t v28 = (objc_super *)&v209;
      break;
    case 4uLL:
      uint64_t v25 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v41 = (char *)objc_allocWithZone(v25);
      uint64_t v27 = 1;
      *(void *)&v41[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v41[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
      v210 = v41;
      os_log_type_t v28 = (objc_super *)&v210;
      break;
    default:
      if (qword_2691D6318 != -1) {
        goto LABEL_64;
      }
      goto LABEL_7;
  }
  while (1)
  {
    v28->uint64_t super_class = v25;
    uint64_t v199 = [(objc_super *)v28 init];
    id v45 = objc_msgSend(a1, sel_imageURL);
    uint64_t v46 = v204;
    sub_246C2BB28();

    uint64_t v47 = a1;
    uint64_t v48 = sub_246C2BA88();
    uint64_t v50 = v49;
    uint64_t v53 = (void (*)(uint64_t, void *))v11[1];
    uint64_t v52 = v11 + 1;
    uint64_t v51 = v53;
    v53((uint64_t)v46, v206);
    type metadata accessor for ParmesanTimeLayout();
    id v54 = (char *)objc_allocWithZone(v25);
    uint64_t v196 = v27;
    *(void *)&v54[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = v27;
    *(void *)&v54[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
    v218.receiver = v54;
    v218.uint64_t super_class = v25;
    Class v198 = v25;
    id v55 = objc_msgSendSuper2(&v218, sel_init);
    uint64_t v56 = sub_246BA5880();
    uint64_t v216 = 0x5F65736162;
    unint64_t v217 = 0xE500000000000000;
    uint64_t v188 = v56;
    sub_246C2CCD8();
    sub_246C2CCD8();
    sub_246C2CCD8();
    sub_246C2CCD8();
    uint64_t v197 = v48;
    uint64_t v201 = v50;
    sub_246C2CCD8();
    int v58 = (void *)v216;
    os_log_type_t v57 = (void *)v217;
    id v59 = objc_msgSend(v47, sel_imageURL);
    sub_246C2BB28();

    uint64_t v60 = v203;
    id v192 = v58;
    LOBYTE(v59) = sub_246BA4EFC(v46, v203, v58, v57);
    uint64_t v61 = (uint64_t)v46;
    uint64_t v62 = v206;
    v53(v61, v206);
    if ((v59 & 1) == 0)
    {

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_unknownObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();

      v51(v60, v62);
      goto LABEL_58;
    }
    uint64_t v63 = v55;
    a1 = v57;
    float32x4_t v194 = v52;
    id v64 = objc_msgSend(v47, sel_timeAlignment);
    id v191 = v47;
    float32x4_t v193 = v51;
    if (v64 == (id)1 || objc_msgSend(v47, sel_timeAlignment) == (id)3)
    {
      uint64_t v11 = v63;
      id v65 = objc_msgSend(v47, sel_maskURL);
      uint64_t v66 = (uint64_t)v57;
      if (!v65)
      {
        Class v71 = v190;
        ((void (*)(Class, uint64_t, uint64_t, void *))v195[7])(v190, 1, 1, v206);
LABEL_26:
        swift_bridgeObjectRelease();
        sub_246B8EA34((uint64_t)v71, &qword_2691D7038);
        id v79 = 0;
        goto LABEL_28;
      }
      unint64_t v67 = v65;
      uint64_t v68 = v204;
      sub_246C2BB28();

      uint64_t v69 = v195;
      id v70 = (void (*)(Class, char *, void *))v195[4];
      Class v71 = v190;
      uint64_t v72 = v206;
      v70(v190, v68, v206);
      ((void (*)(Class, void, uint64_t, void *))v69[7])(v71, 0, 1, v72);
      if (((unsigned int (*)(Class, uint64_t, void *))v69[6])(v71, 1, v72) == 1) {
        goto LABEL_26;
      }
      Class v73 = v189;
      v70(v189, (char *)v71, v206);
      uint64_t v216 = 0x5F6B73616DLL;
      unint64_t v217 = 0xE500000000000000;
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      sub_246C2CCD8();
      sub_246C2CCD8();
      sub_246C2BA88();
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      unint64_t v74 = (void *)v216;
      uint64_t v75 = (void *)v217;
      uint64_t v76 = (objc_class *)type metadata accessor for ParmesanAssetMask();
      uint64_t v77 = (char *)objc_allocWithZone(v76);
      int v78 = &v77[OBJC_IVAR___NTKParmesanAssetMask_imageName];
      *(void *)int v78 = v74;
      *((void *)v78 + 1) = v75;
      *(void *)&v77[OBJC_IVAR___NTKParmesanAssetMask_style] = 0;
      v212.receiver = v77;
      v212.uint64_t super_class = v76;
      swift_bridgeObjectRetain();
      id v79 = objc_msgSendSuper2(&v212, sel_init);
      LOBYTE(v74) = sub_246BA4EFC(v73, v203, v74, v75);
      swift_bridgeObjectRelease();
      Class v80 = v73;
      uint64_t v66 = (uint64_t)a1;
      uint64_t v81 = v193;
      v193((uint64_t)v80, v206);
      if ((v74 & 1) == 0)
      {

        swift_bridgeObjectRelease();
        swift_unknownObjectRelease();

        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();

        v81(v203, v206);
LABEL_58:
        swift_bridgeObjectRelease();
        return 0;
      }
    }
    else
    {
      uint64_t v11 = v63;
      swift_bridgeObjectRelease();
      id v79 = 0;
      uint64_t v66 = (uint64_t)v57;
    }
LABEL_28:
    double v82 = *MEMORY[0x263F001A8];
    double v83 = *(double *)(MEMORY[0x263F001A8] + 8);
    double v84 = *(double *)(MEMORY[0x263F001A8] + 16);
    double v85 = *(double *)(MEMORY[0x263F001A8] + 24);
    Class v190 = (Class)type metadata accessor for ParmesanCrop();
    id v86 = objc_allocWithZone(v190);
    uint64_t v87 = (void *)sub_246BCE7E8(v82, v83, v84, v85);
    Class v189 = (Class)type metadata accessor for ParmesanAssetLayout();
    id v88 = objc_allocWithZone(v189);
    uint64_t v89 = (SEL *)v79;
    uint64_t v90 = v11;
    char v91 = v79;
    objc_super v17 = v89;
    id v92 = sub_246BEB9F0(v87, (uint64_t)v192, v66, v91, v90, 0, 0, 0.0);

    uint64_t v93 = v200;
    if ((v200 & 0xC000000000000001) == 0) {
      break;
    }
    if (v200 < 0) {
      uint64_t v94 = v200;
    }
    else {
      uint64_t v94 = v200 & 0xFFFFFFFFFFFFFF8;
    }
    id v95 = v92;
    uint64_t v96 = sub_246C2D348();
    if (!__OFADD__(v96, 1))
    {
      uint64_t v93 = sub_246C16FF8(v94, v96 + 1);
      goto LABEL_35;
    }
    __break(1u);
LABEL_64:
    swift_once();
LABEL_7:
    uint64_t v29 = sub_246C2C088();
    sub_246B8BE0C(v29, (uint64_t)qword_2691E0198);
    swift_unknownObjectRetain_n();
    long long v30 = sub_246C2C068();
    os_log_type_t v31 = sub_246C2CEE8();
    if (os_log_type_enabled(v30, v31))
    {
      uint64_t v32 = swift_slowAlloc();
      uint64_t v33 = swift_slowAlloc();
      uint64_t v211 = v33;
      *(_DWORD *)uint64_t v32 = 136315394;
      uint64_t v216 = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3C0D0, &v211);
      sub_246C2D1C8();
      *(_WORD *)(v32 + 12) = 2080;
      id v34 = [a1 v17[434]];
      if (v34)
      {
        uint64_t v35 = v34;
        uint64_t v36 = sub_246C2CC48();
        unint64_t v38 = v37;
      }
      else
      {
        uint64_t v36 = 0;
        unint64_t v38 = 0;
      }
      uint64_t v216 = v36;
      unint64_t v217 = v38;
      sub_246B80250(&qword_2691D8830);
      uint64_t v42 = sub_246C2CCA8();
      uint64_t v216 = sub_246BA686C(v42, v43, &v211);
      sub_246C2D1C8();
      swift_unknownObjectRelease_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v30, v31, "%s: bad time alignement in item %s", (uint8_t *)v32, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v33, -1, -1);
      MEMORY[0x24C545990](v32, -1, -1);

      uint64_t v11 = v195;
    }
    else
    {

      swift_unknownObjectRelease_n();
    }
    uint64_t v25 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
    id v44 = (char *)objc_allocWithZone(v25);
    uint64_t v27 = 0;
    *(void *)&v44[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
    *(void *)&v44[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
    v219.receiver = v44;
    os_log_type_t v28 = &v219;
  }
  id v97 = v92;
LABEL_35:
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v216 = v93;
  sub_246C1AB58((uint64_t)v92, v90, isUniquelyReferenced_nonNull_native);
  uint64_t v200 = v216;

  swift_bridgeObjectRelease();
  uint64_t v99 = v198;
  uint64_t v100 = (char *)objc_allocWithZone(v198);
  *(void *)&v100[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = v196;
  *(void *)&v100[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 2;
  v215.receiver = v100;
  v215.uint64_t super_class = v99;
  id v101 = objc_msgSendSuper2(&v215, sel_init);

  id v102 = v101;
  sub_246BA5880();
  uint64_t v216 = 0x5F65736162;
  unint64_t v217 = 0xE500000000000000;
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  id v192 = v92;
  uint64_t v104 = (void *)v216;
  long long v103 = (void *)v217;
  id v105 = objc_msgSend(v191, sel_imageURL);
  id v106 = v204;
  sub_246C2BB28();

  uint64_t v107 = v203;
  LOBYTE(v105) = sub_246BA4EFC(v106, v203, v104, v103);

  uint64_t v108 = (uint64_t)v106;
  id v109 = v206;
  uint64_t v110 = v193;
  v193(v108, v206);
  if ((v105 & 1) == 0)
  {

    swift_bridgeObjectRelease();
    swift_unknownObjectRelease();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    v110(v107, v109);
    goto LABEL_58;
  }
  id v111 = objc_allocWithZone(v190);
  uint64_t v112 = (void *)sub_246BCE7E8(v82, v83, v84, v85);
  id v113 = objc_allocWithZone(v189);
  id v114 = v102;
  id v115 = sub_246BEB9F0(v112, (uint64_t)v104, (uint64_t)v103, 0, v114, 0, 0, 0.0);

  uint64_t v116 = v200;
  if ((v200 & 0xC000000000000001) != 0)
  {
    if (v200 >= 0) {
      uint64_t v116 = v200 & 0xFFFFFFFFFFFFFF8;
    }
    id v117 = v115;
    uint64_t v118 = sub_246C2D348();
    if (!__OFADD__(v118, 1))
    {
      uint64_t v116 = sub_246C16FF8(v116, v118 + 1);
      uint64_t v119 = v203;
      goto LABEL_43;
    }
    __break(1u);
LABEL_66:
    __break(1u);
LABEL_67:
    __break(1u);
    goto LABEL_68;
  }
  id v120 = v115;
  uint64_t v119 = v203;
LABEL_43:
  char v121 = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v216 = v116;
  sub_246C1AB58((uint64_t)v115, v114, v121);
  uint64_t v200 = v216;

  swift_bridgeObjectRelease();
  id v122 = v198;
  uint64_t v123 = (char *)objc_allocWithZone(v198);
  *(void *)&v123[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v123[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
  v214.receiver = v123;
  v214.uint64_t super_class = v122;
  id v124 = objc_msgSendSuper2(&v214, sel_init);

  id v125 = v124;
  sub_246BA5880();
  uint64_t v216 = 0x5F65736162;
  unint64_t v217 = 0xE500000000000000;
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  uint64_t v127 = (void *)v216;
  uint64_t v126 = (void *)v217;
  id v128 = objc_msgSend(v191, sel_imageURL);
  uint64_t v129 = v204;
  sub_246C2BB28();

  LOBYTE(v128) = sub_246BA4EFC(v129, v119, v127, v126);
  uint64_t v130 = (uint64_t)v129;
  uint64_t v131 = v206;
  id v192 = v115;
  unint64_t v132 = v193;
  v193(v130, v206);
  if ((v128 & 1) == 0)
  {

    swift_bridgeObjectRelease();
    swift_unknownObjectRelease();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    v132(v119, v131);
    goto LABEL_58;
  }
  id v133 = objc_allocWithZone(v190);
  uint64_t v134 = (void *)sub_246BCE7E8(v82, v83, v84, v85);
  id v135 = objc_allocWithZone(v189);
  id v136 = v125;
  id v137 = sub_246BEB9F0(v134, (uint64_t)v127, (uint64_t)v126, 0, v136, 0, 0, 0.0);

  uint64_t v138 = v200;
  if ((v200 & 0xC000000000000001) != 0)
  {
    if (v200 >= 0) {
      uint64_t v138 = v200 & 0xFFFFFFFFFFFFFF8;
    }
    id v139 = v137;
    uint64_t v140 = sub_246C2D348();
    unint64_t v141 = v206;
    uint64_t v142 = v196;
    if (__OFADD__(v140, 1)) {
      goto LABEL_66;
    }
    uint64_t v138 = sub_246C16FF8(v138, v140 + 1);
  }
  else
  {
    id v143 = v137;
    unint64_t v141 = v206;
    uint64_t v142 = v196;
  }
  char v144 = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v216 = v138;
  sub_246C1AB58((uint64_t)v137, v136, v144);
  uint64_t v206 = v137;
  uint64_t v200 = v216;

  swift_bridgeObjectRelease();
  uint64_t v145 = v198;
  uint64_t v146 = (char *)objc_allocWithZone(v198);
  *(void *)&v146[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = v142;
  *(void *)&v146[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
  v213.receiver = v146;
  v213.uint64_t super_class = v145;
  id v147 = objc_msgSendSuper2(&v213, sel_init);

  id v148 = v147;
  sub_246BA5880();
  uint64_t v216 = 0x5F65736162;
  unint64_t v217 = 0xE500000000000000;
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  uint64_t v150 = (void *)v216;
  uint64_t v149 = (void *)v217;
  id v151 = objc_msgSend(v191, sel_imageURL);
  uint64_t v152 = v204;
  sub_246C2BB28();

  uint64_t v153 = v203;
  LOBYTE(v151) = sub_246BA4EFC(v152, v203, v150, v149);
  uint64_t v154 = (uint64_t)v152;
  uint64_t v155 = v141;
  uint64_t v156 = v193;
  v193(v154, v141);
  if ((v151 & 1) == 0)
  {

    swift_bridgeObjectRelease();
    swift_unknownObjectRelease();

    swift_bridgeObjectRelease();
    v156(v153, v141);
    goto LABEL_58;
  }
  id v157 = objc_allocWithZone(v190);
  uint64_t v158 = (void *)sub_246BCE7E8(v82, v83, v84, v85);
  id v159 = objc_allocWithZone(v189);
  id v160 = v148;
  id v161 = sub_246BEB9F0(v158, (uint64_t)v150, (uint64_t)v149, 0, v160, 0, 0, 0.0);

  uint64_t v162 = v200;
  if ((v200 & 0xC000000000000001) != 0)
  {
    if (v200 >= 0) {
      uint64_t v162 = v200 & 0xFFFFFFFFFFFFFF8;
    }
    id v163 = v161;
    uint64_t v164 = sub_246C2D348();
    if (__OFADD__(v164, 1)) {
      goto LABEL_67;
    }
    uint64_t v165 = v155;
    uint64_t v162 = sub_246C16FF8(v162, v164 + 1);
  }
  else
  {
    id v168 = v161;
    uint64_t v165 = v155;
  }
  char v169 = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v216 = v162;
  sub_246C1AB58((uint64_t)v161, v160, v169);
  unint64_t v170 = v216;

  swift_bridgeObjectRelease();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D7040);
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  float32x4_t v172 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v173 = objc_msgSend(ObjCClassFromMetadata, sel_localIdentifierWithUUID_, v172);

  if (!v173)
  {
LABEL_68:
    __break(1u);
    JUMPOUT(0x246BA8FE8);
  }
  uint64_t v174 = sub_246C2CC48();
  uint64_t v176 = v175;

  uint64_t v177 = sub_246C2BC18();
  uint64_t v178 = (uint64_t)v187;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v177 - 8) + 56))(v187, 1, 1, v177);
  float32x4_t v179 = v195;
  uint64_t v180 = (uint64_t)v186;
  uint64_t v181 = v203;
  ((void (*)(char *, uint64_t, void *))v195[2])(v186, v203, v165);
  ((void (*)(uint64_t, void, uint64_t, void *))v179[7])(v180, 0, 1, v165);
  id v182 = objc_allocWithZone((Class)type metadata accessor for ParmesanAsset());
  uint64_t v183 = v176;
  uint64_t v184 = v199;
  id v166 = sub_246C17998(v174, v183, v178, 0, v180, v199, v170, 0, 0.0, 0.0, 0);
  swift_unknownObjectRelease();

  v193(v181, v165);
  return v166;
}

uint64_t sub_246BA8FF8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3[11] = a2;
  v3[12] = a3;
  v3[10] = a1;
  sub_246C2BB98();
  v3[13] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246BA908C, 0, 0);
}

uint64_t sub_246BA908C()
{
  uint64_t v43 = v0;
  id v1 = objc_msgSend(*(id *)(v0 + 80), sel_localIdentifier);
  if (v1)
  {
    uint64_t v2 = v1;
    uint64_t v3 = sub_246C2CC48();
    uint64_t v5 = v4;

    *(void *)(v0 + 112) = v3;
    *(void *)(v0 + 120) = v5;
    sub_246B80250(&qword_2691D7010);
    uint64_t v6 = swift_allocObject();
    *(void *)(v0 + 128) = v6;
    *(_OWORD *)(v6 + 16) = xmmword_246C33620;
    *(void *)(v6 + 32) = v3;
    *(void *)(v6 + 40) = v5;
    uint64_t v40 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&dword_2691D83F8 + dword_2691D83F8);
    swift_bridgeObjectRetain();
    uint64_t v7 = (void *)swift_task_alloc();
    *(void *)(v0 + 136) = v7;
    *uint64_t v7 = v0;
    v7[1] = sub_246BA963C;
    uint64_t v8 = *(void *)(v0 + 88);
    uint64_t v9 = *(void *)(v0 + 96);
    return v40(v6, v8, v9);
  }
  else
  {
    uint64_t v11 = *(void *)(v0 + 104);
    uint64_t v12 = *(void **)(v0 + 80);
    swift_unknownObjectRetain();
    sub_246C2BAA8();
    id v13 = sub_246BA792C(v12, v11);
    if (v13)
    {
      if (qword_2691D6318 != -1) {
        swift_once();
      }
      uint64_t v14 = sub_246C2C088();
      sub_246B8BE0C(v14, (uint64_t)qword_2691E0198);
      uint64_t v15 = (char *)v13;
      unint64_t v16 = sub_246C2C068();
      os_log_type_t v17 = sub_246C2CF08();
      if (os_log_type_enabled(v16, v17))
      {
        uint64_t v18 = swift_slowAlloc();
        id v41 = v13;
        uint64_t v42 = swift_slowAlloc();
        uint64_t v19 = v42;
        *(_DWORD *)uint64_t v18 = 136315394;
        *(void *)(v0 + 48) = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3BFD0, &v42);
        sub_246C2D1C8();
        *(_WORD *)(v18 + 12) = 2080;
        uint64_t v21 = *(void *)&v15[OBJC_IVAR___NTKParmesanAsset_localIdentifier];
        unint64_t v20 = *(void *)&v15[OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8];
        swift_bridgeObjectRetain();
        *(void *)(v0 + 56) = sub_246BA686C(v21, v20, &v42);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();

        _os_log_impl(&dword_246B51000, v16, v17, "%s: Created a photo from legacy images for id %s", (uint8_t *)v18, 0x16u);
        swift_arrayDestroy();
        uint64_t v22 = v19;
        id v13 = v41;
        MEMORY[0x24C545990](v22, -1, -1);
        MEMORY[0x24C545990](v18, -1, -1);
      }
      else
      {
      }
      uint64_t v35 = 0;
    }
    else
    {
      if (qword_2691D6318 != -1) {
        swift_once();
      }
      uint64_t v23 = sub_246C2C088();
      sub_246B8BE0C(v23, (uint64_t)qword_2691E0198);
      swift_unknownObjectRetain_n();
      id v24 = sub_246C2C068();
      os_log_type_t v25 = sub_246C2CEE8();
      BOOL v26 = os_log_type_enabled(v24, v25);
      uint64_t v27 = *(void **)(v0 + 80);
      if (v26)
      {
        uint64_t v28 = swift_slowAlloc();
        uint64_t v29 = swift_slowAlloc();
        uint64_t v42 = v29;
        *(_DWORD *)uint64_t v28 = 136315394;
        *(void *)(v0 + 32) = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3BFD0, &v42);
        sub_246C2D1C8();
        *(_WORD *)(v28 + 12) = 2080;
        id v30 = objc_msgSend(v27, sel_localIdentifier);
        if (v30)
        {
          os_log_type_t v31 = v30;
          uint64_t v32 = sub_246C2CC48();
          uint64_t v34 = v33;
        }
        else
        {
          uint64_t v32 = 0;
          uint64_t v34 = 0;
        }
        *(void *)(v0 + 16) = v32;
        *(void *)(v0 + 24) = v34;
        sub_246B80250(&qword_2691D8830);
        uint64_t v36 = sub_246C2CCA8();
        *(void *)(v0 + 40) = sub_246BA686C(v36, v37, &v42);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        swift_unknownObjectRelease_n();
        _os_log_impl(&dword_246B51000, v24, v25, "%s: Cannot create a photo for %s", (uint8_t *)v28, 0x16u);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v29, -1, -1);
        MEMORY[0x24C545990](v28, -1, -1);

        id v13 = 0;
      }
      else
      {
        swift_unknownObjectRelease_n();
      }
      sub_246BAAA7C();
      uint64_t v35 = swift_allocError();
      *unint64_t v38 = 3;
    }
    swift_task_dealloc();
    os_log_t v39 = *(uint64_t (**)(id, uint64_t))(v0 + 8);
    return v39(v13, v35);
  }
}

uint64_t sub_246BA963C(uint64_t a1)
{
  *(void *)(*(void *)v1 + 144) = a1;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA2498](sub_246BA975C, 0, 0);
}

uint64_t sub_246BA975C()
{
  uint64_t v43 = v0;
  unint64_t v1 = v0[18];
  if (v1)
  {
    if (v1 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v2 = (void *)sub_246C2D3B8();
      swift_bridgeObjectRelease();
      if (v2)
      {
LABEL_4:
        uint64_t v3 = v0[18];
        if ((v3 & 0xC000000000000001) != 0)
        {
          id v4 = (id)MEMORY[0x24C544350](0, v1);
        }
        else
        {
          if (!*(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10))
          {
            __break(1u);
            goto LABEL_36;
          }
          id v4 = *(id *)(v1 + 32);
        }
        uint64_t v2 = v4;
        swift_bridgeObjectRelease();
        if (qword_2691D6318 == -1)
        {
LABEL_8:
          uint64_t v5 = sub_246C2C088();
          sub_246B8BE0C(v5, (uint64_t)qword_2691E0198);
          swift_bridgeObjectRetain();
          uint64_t v6 = sub_246C2C068();
          os_log_type_t v7 = sub_246C2CF08();
          BOOL v8 = os_log_type_enabled(v6, v7);
          unint64_t v9 = v0[15];
          if (!v8)
          {
            swift_bridgeObjectRelease_n();
LABEL_26:

            uint64_t v33 = 0;
            goto LABEL_31;
          }
          uint64_t v39 = v0[14];
          uint64_t v10 = swift_slowAlloc();
          uint64_t v11 = swift_slowAlloc();
          uint64_t v42 = v11;
          *(_DWORD *)uint64_t v10 = 136315394;
          v0[8] = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3BFD0, &v42);
          sub_246C2D1C8();
          *(_WORD *)(v10 + 12) = 2080;
          swift_bridgeObjectRetain();
          v0[9] = sub_246BA686C(v39, v9, &v42);
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_246B51000, v6, v7, "%s: Created a newly processed photo for id %s", (uint8_t *)v10, 0x16u);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v11, -1, -1);
          uint64_t v12 = v10;
LABEL_19:
          MEMORY[0x24C545990](v12, -1, -1);
          goto LABEL_26;
        }
LABEL_36:
        swift_once();
        goto LABEL_8;
      }
    }
    else
    {
      uint64_t v2 = *(void **)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v2) {
        goto LABEL_4;
      }
    }
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  uint64_t v13 = v0[13];
  uint64_t v14 = (void *)v0[10];
  swift_unknownObjectRetain();
  sub_246C2BAA8();
  id v15 = sub_246BA792C(v14, v13);
  if (v15)
  {
    uint64_t v2 = v15;
    if (qword_2691D6318 != -1) {
      swift_once();
    }
    uint64_t v16 = sub_246C2C088();
    sub_246B8BE0C(v16, (uint64_t)qword_2691E0198);
    os_log_type_t v17 = v2;
    uint64_t v6 = sub_246C2C068();
    os_log_type_t v18 = sub_246C2CF08();
    if (!os_log_type_enabled(v6, v18))
    {

      goto LABEL_26;
    }
    uint64_t v19 = swift_slowAlloc();
    uint64_t v40 = swift_slowAlloc();
    uint64_t v42 = v40;
    *(_DWORD *)uint64_t v19 = 136315394;
    v0[6] = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3BFD0, &v42);
    sub_246C2D1C8();
    *(_WORD *)(v19 + 12) = 2080;
    uint64_t v20 = *(void *)&v17[OBJC_IVAR___NTKParmesanAsset_localIdentifier];
    unint64_t v21 = *(void *)&v17[OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8];
    swift_bridgeObjectRetain();
    v0[7] = sub_246BA686C(v20, v21, &v42);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();

    _os_log_impl(&dword_246B51000, v6, v18, "%s: Created a photo from legacy images for id %s", (uint8_t *)v19, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v40, -1, -1);
    uint64_t v12 = v19;
    goto LABEL_19;
  }
  if (qword_2691D6318 != -1) {
    swift_once();
  }
  uint64_t v22 = sub_246C2C088();
  sub_246B8BE0C(v22, (uint64_t)qword_2691E0198);
  swift_unknownObjectRetain_n();
  uint64_t v23 = sub_246C2C068();
  os_log_type_t v24 = sub_246C2CEE8();
  BOOL v25 = os_log_type_enabled(v23, v24);
  BOOL v26 = (void *)v0[10];
  if (v25)
  {
    uint64_t v27 = swift_slowAlloc();
    uint64_t v41 = swift_slowAlloc();
    uint64_t v42 = v41;
    *(_DWORD *)uint64_t v27 = 136315394;
    v0[4] = sub_246BA686C(0xD00000000000001DLL, 0x8000000246C3BFD0, &v42);
    sub_246C2D1C8();
    *(_WORD *)(v27 + 12) = 2080;
    id v28 = objc_msgSend(v26, sel_localIdentifier);
    if (v28)
    {
      uint64_t v29 = v28;
      uint64_t v30 = sub_246C2CC48();
      uint64_t v32 = v31;
    }
    else
    {
      uint64_t v30 = 0;
      uint64_t v32 = 0;
    }
    v0[2] = v30;
    v0[3] = v32;
    sub_246B80250(&qword_2691D8830);
    uint64_t v34 = sub_246C2CCA8();
    v0[5] = sub_246BA686C(v34, v35, &v42);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    swift_unknownObjectRelease_n();
    _os_log_impl(&dword_246B51000, v23, v24, "%s: Cannot create a photo for %s", (uint8_t *)v27, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v41, -1, -1);
    MEMORY[0x24C545990](v27, -1, -1);
  }
  else
  {
    swift_unknownObjectRelease_n();
  }

  sub_246BAAA7C();
  uint64_t v33 = swift_allocError();
  uint64_t v2 = 0;
  unsigned char *v36 = 3;
LABEL_31:
  swift_task_dealloc();
  unint64_t v37 = (uint64_t (*)(void *, uint64_t))v0[1];
  return v37(v2, v33);
}

uint64_t sub_246BA9E5C(char *a1, void (**a2)(void, void, void))
{
  uint64_t v4 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v4 - 8);
  uint64_t v6 = (char *)&v42 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246C2BB98();
  uint64_t v8 = *(void *)(v7 - 8);
  uint64_t v9 = *(void *)(v8 + 64);
  uint64_t v10 = MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)&v42 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v10);
  uint64_t v13 = (char *)&v42 - v12;
  uint64_t v14 = swift_allocObject();
  *(void *)(v14 + 16) = a2;
  uint64_t v15 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_upgradeContext];
  if (v15)
  {
    uint64_t v45 = v14;
    uint64_t v16 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory + 8];
    if (v16)
    {
      uint64_t v44 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory];
      _Block_copy(a2);
      swift_unknownObjectRetain();
      swift_bridgeObjectRetain();
      sub_246C2BAA8();
      uint64_t v17 = sub_246C2CE28();
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v17 - 8) + 56))(v6, 1, 1, v17);
      (*(void (**)(char *, char *, uint64_t))(v8 + 16))(v11, v13, v7);
      uint64_t v18 = *(unsigned __int8 *)(v8 + 80);
      uint64_t v43 = v6;
      uint64_t v19 = v15;
      uint64_t v20 = (v18 + 80) & ~v18;
      unint64_t v21 = (char *)swift_allocObject();
      *((void *)v21 + 2) = 0;
      *((void *)v21 + 3) = 0;
      *((void *)v21 + 4) = a1;
      *((void *)v21 + 5) = sub_246BAB10C;
      uint64_t v22 = v44;
      *((void *)v21 + 6) = v45;
      *((void *)v21 + 7) = v19;
      *((void *)v21 + 8) = v22;
      *((void *)v21 + 9) = v16;
      (*(void (**)(char *, char *, uint64_t))(v8 + 32))(&v21[v20], v11, v7);
      swift_unknownObjectRetain();
      uint64_t v23 = a1;
      swift_retain();
      sub_246B9B9B8((uint64_t)v43, (uint64_t)&unk_2691D70B0, (uint64_t)v21);
      swift_release();
      swift_unknownObjectRelease();
      (*(void (**)(char *, uint64_t))(v8 + 8))(v13, v7);
    }
    else
    {
      _Block_copy(a2);
      uint64_t v32 = qword_2691D6318;
      swift_unknownObjectRetain();
      if (v32 != -1) {
        swift_once();
      }
      uint64_t v33 = sub_246C2C088();
      sub_246B8BE0C(v33, (uint64_t)qword_2691E0198);
      uint64_t v34 = sub_246C2C068();
      os_log_type_t v35 = sub_246C2CEE8();
      if (os_log_type_enabled(v34, v35))
      {
        uint64_t v36 = (uint8_t *)swift_slowAlloc();
        uint64_t v37 = swift_slowAlloc();
        uint64_t v47 = v37;
        *(_DWORD *)uint64_t v36 = 136315138;
        uint64_t v46 = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v47);
        sub_246C2D1C8();
        _os_log_impl(&dword_246B51000, v34, v35, "%s: no resource directory", v36, 0xCu);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v37, -1, -1);
        MEMORY[0x24C545990](v36, -1, -1);
      }

      sub_246BAAA7C();
      unint64_t v38 = (void *)swift_allocError();
      *uint64_t v39 = 1;
      uint64_t v40 = (void *)sub_246C2BA38();
      ((void (**)(void, void, void *))a2)[2](a2, 0, v40);

      swift_unknownObjectRelease();
    }
  }
  else
  {
    _Block_copy(a2);
    if (qword_2691D6318 != -1) {
      swift_once();
    }
    uint64_t v24 = sub_246C2C088();
    sub_246B8BE0C(v24, (uint64_t)qword_2691E0198);
    BOOL v25 = sub_246C2C068();
    os_log_type_t v26 = sub_246C2CEE8();
    if (os_log_type_enabled(v25, v26))
    {
      uint64_t v27 = (uint8_t *)swift_slowAlloc();
      uint64_t v28 = swift_slowAlloc();
      uint64_t v47 = v28;
      *(_DWORD *)uint64_t v27 = 136315138;
      uint64_t v46 = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v47);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v25, v26, "%s: no upgrade context", v27, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v28, -1, -1);
      MEMORY[0x24C545990](v27, -1, -1);
    }

    sub_246BAAA7C();
    uint64_t v29 = (void *)swift_allocError();
    *uint64_t v30 = 0;
    uint64_t v31 = (void *)sub_246C2BA38();
    ((void (**)(void, void, void *))a2)[2](a2, 0, v31);
  }
  return swift_release();
}

uint64_t sub_246BAA484(char *a1, uint64_t a2)
{
  uint64_t v41 = a2;
  uint64_t v3 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v3 - 8);
  uint64_t v5 = (char *)&v38 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_246C2BB98();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v8 = *(void *)(v7 + 64);
  uint64_t v9 = MEMORY[0x270FA5388](v6);
  uint64_t v10 = (char *)&v38 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v9);
  uint64_t v12 = (char *)&v38 - v11;
  uint64_t v13 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_upgradeContext];
  if (!v13)
  {
    uint64_t v21 = qword_2691D6318;
    swift_retain();
    if (v21 != -1) {
      swift_once();
    }
    uint64_t v22 = sub_246C2C088();
    sub_246B8BE0C(v22, (uint64_t)qword_2691E0198);
    uint64_t v23 = sub_246C2C068();
    os_log_type_t v24 = sub_246C2CEE8();
    if (os_log_type_enabled(v23, v24))
    {
      BOOL v25 = (uint8_t *)swift_slowAlloc();
      uint64_t v26 = swift_slowAlloc();
      uint64_t v43 = v26;
      *(_DWORD *)BOOL v25 = 136315138;
      uint64_t v42 = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v43);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v23, v24, "%s: no upgrade context", v25, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v26, -1, -1);
      MEMORY[0x24C545990](v25, -1, -1);
    }

    sub_246BAAA7C();
    uint64_t v27 = (void *)swift_allocError();
    *uint64_t v28 = 0;
    sub_246C20730(0, v27, v41);

    return swift_release();
  }
  uint64_t v14 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory + 8];
  if (v14)
  {
    uint64_t v40 = *(void *)&a1[OBJC_IVAR___NTKParmesanUpgradeManager_resourceDirectory];
    swift_retain();
    swift_unknownObjectRetain();
    swift_bridgeObjectRetain();
    sub_246C2BAA8();
    uint64_t v15 = sub_246C2CE28();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v15 - 8) + 56))(v5, 1, 1, v15);
    (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v10, v12, v6);
    uint64_t v16 = *(unsigned __int8 *)(v7 + 80);
    uint64_t v39 = v5;
    uint64_t v17 = v41;
    uint64_t v18 = (v16 + 80) & ~v16;
    uint64_t v19 = (char *)swift_allocObject();
    *((void *)v19 + 2) = 0;
    *((void *)v19 + 3) = 0;
    *((void *)v19 + 4) = a1;
    *((void *)v19 + 5) = sub_246BAAA74;
    *((void *)v19 + 6) = v17;
    *((void *)v19 + 7) = v13;
    *((void *)v19 + 8) = v40;
    *((void *)v19 + 9) = v14;
    (*(void (**)(char *, char *, uint64_t))(v7 + 32))(&v19[v18], v10, v6);
    swift_unknownObjectRetain();
    uint64_t v20 = a1;
    swift_retain();
    sub_246B9B9B8((uint64_t)v39, (uint64_t)&unk_2691D6FC8, (uint64_t)v19);
    swift_unknownObjectRelease();
    swift_release();
    (*(void (**)(char *, uint64_t))(v7 + 8))(v12, v6);
    return swift_release();
  }
  uint64_t v30 = qword_2691D6318;
  swift_retain();
  swift_unknownObjectRetain();
  if (v30 != -1) {
    swift_once();
  }
  uint64_t v31 = sub_246C2C088();
  sub_246B8BE0C(v31, (uint64_t)qword_2691E0198);
  uint64_t v32 = sub_246C2C068();
  os_log_type_t v33 = sub_246C2CEE8();
  if (os_log_type_enabled(v32, v33))
  {
    uint64_t v34 = (uint8_t *)swift_slowAlloc();
    uint64_t v35 = swift_slowAlloc();
    uint64_t v43 = v35;
    *(_DWORD *)uint64_t v34 = 136315138;
    uint64_t v42 = sub_246BA686C(0xD000000000000018, 0x8000000246C3BF90, &v43);
    sub_246C2D1C8();
    _os_log_impl(&dword_246B51000, v32, v33, "%s: no resource directory", v34, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v35, -1, -1);
    MEMORY[0x24C545990](v34, -1, -1);
  }

  sub_246BAAA7C();
  uint64_t v36 = (void *)swift_allocError();
  unsigned char *v37 = 1;
  sub_246C20730(0, v36, v41);

  swift_release();
  return swift_unknownObjectRelease();
}

void sub_246BAAA74(uint64_t a1, void *a2)
{
  sub_246C20730(a1, a2, v2);
}

unint64_t sub_246BAAA7C()
{
  unint64_t result = qword_2691D6FB8;
  if (!qword_2691D6FB8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, &qword_2691D6FB8);
  }
  return result;
}

uint64_t sub_246BAAAD4(uint64_t a1)
{
  sub_246C2BB98();
  uint64_t v3 = v1[2];
  uint64_t v4 = v1[3];
  uint64_t v5 = v1[4];
  uint64_t v6 = v1[5];
  uint64_t v7 = v1[6];
  uint64_t v8 = v1[7];
  uint64_t v9 = v1[8];
  uint64_t v10 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v10;
  *uint64_t v10 = v2;
  v10[1] = sub_246B8F220;
  return sub_246B9BB64(a1, v3, v4, v5, v6, v7, v8, v9);
}

uint64_t sub_246BAABFC()
{
  swift_release();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246BAAC34(uint64_t a1)
{
  uint64_t v4 = *(int **)(v1 + 16);
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v5;
  void *v5 = v2;
  v5[1] = sub_246B803A8;
  uint64_t v6 = (uint64_t (*)(uint64_t, int *))((char *)&dword_2691D6FD0 + dword_2691D6FD0);
  return v6(a1, v4);
}

uint64_t sub_246BAACF4(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BAAD04()
{
  return swift_release();
}

unint64_t sub_246BAAD0C()
{
  unint64_t result = qword_2691D6948;
  if (!qword_2691D6948)
  {
    sub_246B8BEB0(&qword_2691D6940);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6948);
  }
  return result;
}

uint64_t sub_246BAAD68()
{
  swift_unknownObjectRelease();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

void sub_246BAADA8(void *a1)
{
  sub_246BA0E04(a1, *(void **)(v1 + 16), *(void *)(v1 + 24));
}

unint64_t sub_246BAADBC()
{
  unint64_t result = qword_2691D7048;
  if (!qword_2691D7048)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7048);
  }
  return result;
}

uint64_t sub_246BAAE10(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246BAAE58(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  uint64_t v4 = a2 - a1;
  if (__OFSUB__(a2, a1))
  {
    __break(1u);
  }
  else if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = a4 + 8 * a1 + 32;
    unint64_t v6 = a3 + 8 * v4;
    if (v5 >= v6 || v5 + 8 * v4 <= a3)
    {
      sub_246B80250(&qword_2691D7070);
      swift_arrayInitWithCopy();
      return v6;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BAAF68()
{
  return (*(uint64_t (**)(void, void))(v0 + 16))(*(void *)(v0 + 32), *(void *)(v0 + 40));
}

void sub_246BAAF98()
{
  sub_246B9B8FC(*(void (**)(void, void *))(v0 + 16));
}

uint64_t sub_246BAAFA4()
{
  swift_release();

  return MEMORY[0x270FA0238](v0, 48, 7);
}

_OWORD *sub_246BAAFEC(_OWORD *a1, _OWORD *a2)
{
  long long v2 = a1[1];
  *a2 = *a1;
  a2[1] = v2;
  return a2;
}

uint64_t sub_246BAAFFC()
{
  return swift_release();
}

uint64_t sub_246BAB004(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7038);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BAB06C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7038);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BAB0D4()
{
  _Block_release(*(const void **)(v0 + 16));

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246BAB10C(uint64_t a1, uint64_t a2)
{
  sub_246BA11C4(a1, a2, *(void *)(v2 + 16));
}

uint64_t sub_246BAB118()
{
  uint64_t v1 = sub_246C2BB98();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 80) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_unknownObjectRelease();

  swift_release();
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return MEMORY[0x270FA0238](v0, v5, v6);
}

uint64_t sub_246BAB204(uint64_t a1)
{
  sub_246C2BB98();
  uint64_t v3 = v1[2];
  uint64_t v4 = v1[3];
  uint64_t v5 = v1[4];
  uint64_t v6 = v1[5];
  uint64_t v7 = v1[6];
  uint64_t v8 = v1[7];
  uint64_t v9 = v1[8];
  uint64_t v10 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v10;
  *uint64_t v10 = v2;
  v10[1] = sub_246B803A8;
  return sub_246B9BB64(a1, v3, v4, v5, v6, v7, v8, v9);
}

uint64_t getEnumTagSinglePayload for ParmesanUpgradeError(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFB) {
    goto LABEL_17;
  }
  if (a2 + 5 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 5) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 5;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 5;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 5;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 6;
  int v8 = v6 - 6;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for ParmesanUpgradeError(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 5 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 5) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFB) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFA)
  {
    unsigned int v6 = ((a2 - 251) >> 8) + 1;
    *uint64_t result = a2 + 5;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BAB488);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 5;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanUpgradeError()
{
  return &type metadata for ParmesanUpgradeError;
}

unint64_t sub_246BAB4C4()
{
  unint64_t result = qword_2691D70E0;
  if (!qword_2691D70E0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D70E0);
  }
  return result;
}

double sub_246BAB554(double a1)
{
  sub_246BAB68C(v1, &v16);
  int v3 = v17;
  if (v17 == (void *)2) {
    return 1.0 - a1;
  }
  if (v17 == (void *)1)
  {
    if (a1 == 0.0) {
      return 1.0;
    }
    else {
      return 0.0;
    }
  }
  else
  {
    id v5 = v18;
    id v6 = v18;
    id v7 = v3;
    CLKCompressFraction();
    double v4 = 1.0 - v8;
    if (v3)
    {
      *(float *)&double v8 = v4;
      objc_msgSend(v7, sel__solveForInput_, v8);
      double v4 = v9;
    }
    CLKCompressFraction();
    double v11 = v10;
    if (v5)
    {
      id v13 = v6;
      float v12 = v11;
      *(float *)&double v14 = v12;
      objc_msgSend(v13, sel__solveForInput_, v14);
    }
  }
  return v4;
}

_OWORD *sub_246BAB68C(long long *a1, _OWORD *a2)
{
  long long v2 = *a1;
  long long v3 = a1[2];
  a2[1] = a1[1];
  a2[2] = v3;
  *a2 = v2;
  return a2;
}

void destroy for ParmesanTransitionTimingFunction(uint64_t a1)
{
  uint64_t v1 = *(void **)(a1 + 16);
  LODWORD(v2) = -1;
  if ((unint64_t)v1 < 0xFFFFFFFF) {
    uint64_t v2 = *(void *)(a1 + 16);
  }
  if ((int)v2 - 1 < 0)
  {

    double v4 = *(void **)(a1 + 40);
  }
}

uint64_t initializeWithCopy for ParmesanTransitionTimingFunction(uint64_t a1, uint64_t a2)
{
  long long v3 = *(void **)(a2 + 16);
  LODWORD(v4) = -1;
  if ((unint64_t)v3 < 0xFFFFFFFF) {
    uint64_t v4 = *(void *)(a2 + 16);
  }
  if ((int)v4 - 1 < 0)
  {
    *(_OWORD *)a1 = *(_OWORD *)a2;
    *(void *)(a1 + 16) = v3;
    *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
    id v6 = *(void **)(a2 + 40);
    *(void *)(a1 + 40) = v6;
    id v7 = v3;
    id v8 = v6;
  }
  else
  {
    long long v5 = *(_OWORD *)(a2 + 16);
    *(_OWORD *)a1 = *(_OWORD *)a2;
    *(_OWORD *)(a1 + 16) = v5;
    *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  }
  return a1;
}

uint64_t assignWithCopy for ParmesanTransitionTimingFunction(uint64_t a1, void *a2)
{
  uint64_t v4 = *(void **)(a1 + 16);
  LODWORD(v5) = -1;
  if ((unint64_t)v4 >= 0xFFFFFFFF) {
    LODWORD(v6) = -1;
  }
  else {
    uint64_t v6 = *(void *)(a1 + 16);
  }
  int v7 = v6 - 1;
  if (a2[2] < 0xFFFFFFFFuLL) {
    uint64_t v5 = a2[2];
  }
  int v8 = v5 - 1;
  if (v7 < 0)
  {
    if (v8 < 0)
    {
      *(void *)a1 = *a2;
      *(void *)(a1 + 8) = a2[1];
      long long v16 = (void *)a2[2];
      *(void *)(a1 + 16) = v16;
      id v17 = v16;

      *(void *)(a1 + 24) = a2[3];
      *(void *)(a1 + 32) = a2[4];
      id v18 = *(void **)(a1 + 40);
      uint64_t v19 = (void *)a2[5];
      *(void *)(a1 + 40) = v19;
      id v20 = v19;

      return a1;
    }

    goto LABEL_11;
  }
  if ((v8 & 0x80000000) == 0)
  {
LABEL_11:
    long long v13 = *(_OWORD *)a2;
    long long v14 = *((_OWORD *)a2 + 2);
    *(_OWORD *)(a1 + 16) = *((_OWORD *)a2 + 1);
    *(_OWORD *)(a1 + 32) = v14;
    *(_OWORD *)a1 = v13;
    return a1;
  }
  *(_OWORD *)a1 = *(_OWORD *)a2;
  float v9 = (void *)a2[2];
  *(void *)(a1 + 16) = v9;
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 3);
  double v10 = (void *)a2[5];
  *(void *)(a1 + 40) = v10;
  id v11 = v9;
  id v12 = v10;
  return a1;
}

__n128 initializeWithTake for ParmesanTransitionTimingFunction(uint64_t a1, uint64_t a2)
{
  __n128 result = *(__n128 *)a2;
  long long v3 = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 16) = *(_OWORD *)(a2 + 16);
  *(_OWORD *)(a1 + 32) = v3;
  *(__n128 *)a1 = result;
  return result;
}

uint64_t assignWithTake for ParmesanTransitionTimingFunction(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void **)(a1 + 16);
  LODWORD(v5) = -1;
  if ((unint64_t)v4 < 0xFFFFFFFF) {
    uint64_t v5 = *(void *)(a1 + 16);
  }
  if ((int)v5 - 1 < 0)
  {
    unint64_t v6 = *(void *)(a2 + 16);
    LODWORD(v7) = -1;
    if (v6 < 0xFFFFFFFF) {
      uint64_t v7 = *(void *)(a2 + 16);
    }
    if ((int)v7 - 1 < 0)
    {
      *(_OWORD *)a1 = *(_OWORD *)a2;
      *(void *)(a1 + 16) = v6;

      *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
      double v10 = *(void **)(a1 + 40);
      *(void *)(a1 + 40) = *(void *)(a2 + 40);

      return a1;
    }
  }
  long long v8 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v8;
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanTransitionTimingFunction(uint64_t a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0x7FFFFFFD && *(unsigned char *)(a1 + 48)) {
    return (*(_DWORD *)a1 + 2147483645);
  }
  unint64_t v3 = *(void *)(a1 + 16);
  if (v3 >= 0xFFFFFFFF) {
    LODWORD(v3) = -1;
  }
  int v4 = v3 - 1;
  if (v4 < 0) {
    int v4 = -1;
  }
  unsigned int v5 = v4 + 1;
  unsigned int v6 = v4 - 1;
  if (v5 >= 3) {
    return v6;
  }
  else {
    return 0;
  }
}

uint64_t storeEnumTagSinglePayload for ParmesanTransitionTimingFunction(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 >= 0x7FFFFFFD)
  {
    *(_OWORD *)(result + 16) = 0u;
    *(_OWORD *)(result + 32) = 0u;
    *(_OWORD *)__n128 result = 0u;
    *(_DWORD *)__n128 result = a2 - 2147483645;
    if (a3 >= 0x7FFFFFFD) {
      *(unsigned char *)(result + 48) = 1;
    }
  }
  else
  {
    if (a3 >= 0x7FFFFFFD) {
      *(unsigned char *)(result + 48) = 0;
    }
    if (a2) {
      *(void *)(result + 16) = a2 + 2;
    }
  }
  return result;
}

uint64_t sub_246BAB9D8(uint64_t a1)
{
  unint64_t v1 = *(void *)(a1 + 16);
  if (v1 >= 0xFFFFFFFF) {
    LODWORD(v1) = -1;
  }
  int v2 = v1 - 1;
  if (v2 < 0) {
    int v2 = -1;
  }
  return (v2 + 1);
}

double sub_246BAB9FC(uint64_t a1, unsigned int a2)
{
  if (a2 > 0x7FFFFFFE)
  {
    *(void *)(a1 + 40) = 0;
    double result = 0.0;
    *(_OWORD *)(a1 + 24) = 0u;
    *(_OWORD *)(a1 + 8) = 0u;
    *(void *)a1 = a2 - 0x7FFFFFFF;
  }
  else if (a2)
  {
    *(void *)(a1 + 16) = a2;
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanTransitionTimingFunction()
{
  return &type metadata for ParmesanTransitionTimingFunction;
}

uint64_t sub_246BABA48(long long *a1, long long *a2)
{
  sub_246BAB68C(a1, v4);
  sub_246BAB68C(a2, v5);
  return sub_246BABA94(v4, v5) & 1;
}

uint64_t sub_246BABA94(long long *a1, long long *a2)
{
  sub_246BAB68C(a1, &v29);
  unint64_t v3 = v30;
  if (v30 == (void *)2)
  {
    sub_246BAB68C(a2, &v24);
    return v25 == (char *)2;
  }
  if (v30 != (void *)1)
  {
    long long v5 = v29;
    double v7 = v31;
    double v6 = v32;
    long long v8 = v33;
    sub_246BAB68C(a2, &v24);
    float v9 = v25;
    if ((unint64_t)(v25 - 1) < 2) {
      return 0;
    }
    if (*(double *)&v5 != *(double *)&v24 || *((double *)&v5 + 1) != *((double *)&v24 + 1)) {
      return 0;
    }
    double v12 = v26;
    double v11 = v27;
    id v13 = v28;
    if (v3)
    {
      if (!v25) {
        return 0;
      }
      sub_246BABC94();
      id v14 = v13;
      uint64_t v15 = v9;
      id v16 = v3;
      id v17 = v8;
      char v18 = sub_246C2D108();

      if ((v18 & 1) == 0)
      {

        return 0;
      }
    }
    else
    {
      if (v25) {
        return 0;
      }
      id v19 = v28;
      id v20 = v8;
    }
    if (v7 != v12 || v6 != v11)
    {

      return 0;
    }
    if (v8)
    {
      if (v13)
      {
        sub_246BABC94();
        id v21 = v8;
        id v22 = v13;
        char v23 = sub_246C2D108();

        return (v23 & 1) != 0;
      }

      id v13 = v3;
    }
    else
    {

      if (!v13) {
        return 1;
      }
    }

    return 0;
  }
  sub_246BAB68C(a2, &v24);
  return v25 == (char *)1;
}

unint64_t sub_246BABC94()
{
  unint64_t result = qword_2691D70F0;
  if (!qword_2691D70F0)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D70F0);
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanTypeface()
{
  return &type metadata for ParmesanTypeface;
}

unint64_t sub_246BABCE8()
{
  unint64_t result = qword_2691D70F8;
  if (!qword_2691D70F8)
  {
    sub_246B8BEB0(&qword_2691D7100);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D70F8);
  }
  return result;
}

uint64_t sub_246BABD44(uint64_t a1)
{
  sub_246C2D278();
  swift_bridgeObjectRelease();
  if (a1 == 2 || a1 == 1 || !a1)
  {
    sub_246C2CCB8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    return 0xD00000000000001ELL;
  }
  else
  {
    uint64_t result = sub_246C2D5A8();
    __break(1u);
  }
  return result;
}

uint64_t *sub_246BABE58@<X0>(uint64_t *result@<X0>, uint64_t a2@<X8>)
{
  uint64_t v2 = *result;
  BOOL v3 = (unint64_t)*result > 2;
  if ((unint64_t)*result > 2) {
    uint64_t v2 = 0;
  }
  *(void *)a2 = v2;
  *(unsigned char *)(a2 + 8) = v3;
  return result;
}

void sub_246BABE74(void *a1@<X8>)
{
  *a1 = &unk_26FB1F060;
}

unint64_t sub_246BABE84(uint64_t a1)
{
  *(void *)(a1 + 8) = sub_246BABEB4();
  unint64_t result = sub_246BABF08();
  *(void *)(a1 + 16) = result;
  return result;
}

unint64_t sub_246BABEB4()
{
  unint64_t result = qword_2691D7108;
  if (!qword_2691D7108)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7108);
  }
  return result;
}

unint64_t sub_246BABF08()
{
  unint64_t result = qword_2691D7110;
  if (!qword_2691D7110)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7110);
  }
  return result;
}

unint64_t sub_246BABF60()
{
  unint64_t result = qword_2691D7118;
  if (!qword_2691D7118)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7118);
  }
  return result;
}

id sub_246BABFB4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  sub_246C1D794(a1);
  double v7 = v6;
  if (objc_msgSend(self, sel_isPartiallySupported_, *(void *)(a1+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals)))
  {
    id v8 = objc_msgSend(self, sel_numericSoftFontOfSize_weight_, v7, *MEMORY[0x263F81828]);
    return v8;
  }
  else
  {
    double v10 = *(void **)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device);
    id v11 = objc_allocWithZone((Class)type metadata accessor for ParmesanTypefaceMetrics());
    id v12 = v10;
    id v13 = sub_246C1D260(v12);

    id v14 = sub_246C189BC(a1, a2);
    unint64_t v15 = sub_246BB080C();
    id v16 = (void *)sub_246BAC4D4(v15, a3);

    swift_bridgeObjectRelease();
    id v17 = objc_msgSend(self, sel_fontWithDescriptor_size_, v16, v7);

    return v17;
  }
}

id sub_246BAC128(uint64_t a1, uint64_t a2, uint64_t a3)
{
  double v6 = *(void **)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device);
  double v7 = (objc_class *)type metadata accessor for ParmesanTypefaceMetrics();
  id v8 = objc_allocWithZone(v7);
  id v9 = v6;
  id v10 = sub_246C1D260(v9);

  sub_246C18730(a1, a2);
  double v12 = v11;
  if (objc_msgSend(self, sel_isPartiallySupported_, *(void *)(a1+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals)))
  {
    id v13 = objc_msgSend(self, sel_numericSoftFontOfSize_weight_, v12, *MEMORY[0x263F81828]);
  }
  else
  {
    id v14 = objc_allocWithZone(v7);
    id v15 = v9;
    id v16 = sub_246C1D260(v15);

    id v17 = sub_246C189BC(a1, a2);
    unint64_t v18 = sub_246BB080C();
    uint64_t v19 = sub_246BAC4D4(v18, a3);

    swift_bridgeObjectRelease();
    id v13 = objc_msgSend(self, sel_fontWithDescriptor_size_, v19, v12);

    id v10 = (id)v19;
  }

  return v13;
}

id sub_246BAC2C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v8 = *(void **)(a3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device);
  id v9 = (objc_class *)type metadata accessor for ParmesanTypefaceMetrics();
  id v10 = objc_allocWithZone(v9);
  id v11 = v8;
  id v12 = sub_246C1D260(v11);

  sub_246C18730(a3, a1);
  sub_246C18730(a3, a2);
  sub_246C2C018();
  double v14 = v13;
  if (objc_msgSend(self, sel_isPartiallySupported_, *(void *)(a3+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals)))
  {
    id v15 = objc_msgSend(self, sel_numericSoftFontOfSize_weight_, v14, *MEMORY[0x263F81828]);
  }
  else
  {
    id v16 = objc_allocWithZone(v9);
    id v17 = v11;
    id v18 = sub_246C1D260(v17);

    id v19 = sub_246C189BC(a3, a1);
    id v20 = objc_allocWithZone(v9);
    id v21 = v17;
    id v22 = sub_246C1D260(v21);

    id v23 = sub_246C189BC(a3, a2);
    id v24 = sub_246BB0C04((uint64_t)v19, (uint64_t)v23);
    unint64_t v25 = sub_246BB080C();
    uint64_t v26 = sub_246BAC4D4(v25, a4);
    swift_bridgeObjectRelease();
    id v15 = objc_msgSend(self, sel_fontWithDescriptor_size_, v26, v14);

    id v12 = (id)v26;
  }

  return v15;
}

uint64_t sub_246BAC4D4(uint64_t a1, uint64_t a2)
{
  switch(a2)
  {
    case 0:
      long long v5 = self;
      sub_246BAC618();
      BOOL v3 = (void *)sub_246C2CBA8();
      id v4 = objc_msgSend(v5, sel_softFontDescriptorWithAttributes_, v3);
      goto LABEL_7;
    case 2:
      uint64_t v2 = self;
      sub_246BAC618();
      BOOL v3 = (void *)sub_246C2CBA8();
      id v4 = objc_msgSend(v2, sel_tokyoFontDescriptorWithAttributes_, v3);
LABEL_7:
      id v7 = v4;

      return (uint64_t)v7;
    case 1:
      double v6 = self;
      sub_246BAC618();
      BOOL v3 = (void *)sub_246C2CBA8();
      id v4 = objc_msgSend(v6, sel_newyorkFontDescriptorWithAttributes_, v3);
      goto LABEL_7;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

unint64_t sub_246BAC618()
{
  unint64_t result = qword_2691D7120;
  if (!qword_2691D7120)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D7120);
  }
  return result;
}

void sub_246BAC658()
{
  unint64_t v1 = v0;
  id v6 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F57958]), sel_initWithPhotosEditor_forFace_inGallery_, *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor], *(void *)&v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_face], v1[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_inGallery]);
  objc_msgSend(v6, sel_setDelegate_, v0);
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E0168);
  BOOL v3 = sub_246C2C068();
  os_log_type_t v4 = sub_246C2CF08();
  if (os_log_type_enabled(v3, v4))
  {
    long long v5 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)long long v5 = 0;
    _os_log_impl(&dword_246B51000, v3, v4, "Presenting album picker", v5, 2u);
    MEMORY[0x24C545990](v5, -1, -1);
  }

  objc_msgSend(v1, sel_presentViewController_animated_completion_, v6, 1, 0);
}

void sub_246BAC7C8()
{
  unint64_t v1 = self;
  id v2 = objc_msgSend(v1, sel_parmesanConfigurationWithLimit_, NTKMaxParmesanPhotos());
  uint64_t v3 = swift_allocObject();
  swift_unknownObjectWeakInit();
  void v6[4] = sub_246BAD90C;
  v6[5] = v3;
  v6[0] = MEMORY[0x263EF8330];
  v6[1] = 1107296256;
  uint64_t v6[2] = sub_246B938FC;
  v6[3] = &unk_26FB20D70;
  os_log_type_t v4 = _Block_copy(v6);
  id v5 = v2;
  swift_release();
  objc_msgSend(v1, sel_presentPhotosAddControllerFromViewController_configuration_withCompletion_, v0, v5, v4);
  _Block_release(v4);
}

id sub_246BAC8F8(void *a1)
{
  id v2 = v1;
  id v4 = objc_msgSend(a1, sel_editor);
  id v5 = objc_msgSend(v4, sel_albumIdentifier);

  if (v5)
  {
    uint64_t v6 = sub_246C2CC48();
    unint64_t v8 = v7;
  }
  else
  {
    uint64_t v6 = 0;
    unint64_t v8 = 0;
  }
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v9 = sub_246C2C088();
  sub_246B8BE0C(v9, (uint64_t)qword_2691E0168);
  swift_bridgeObjectRetain_n();
  id v10 = sub_246C2C068();
  os_log_type_t v11 = sub_246C2CEC8();
  uint64_t v18 = v6;
  if (!os_log_type_enabled(v10, v11))
  {

    swift_bridgeObjectRelease_n();
    if (!v8) {
      return objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0, v17);
    }
LABEL_16:
    (*(void (**)(uint64_t, unint64_t))((*MEMORY[0x263F8EED0] & *v2) + 0xD8))(v18, v8);
    swift_bridgeObjectRelease();
    return objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0, v17);
  }
  id v17 = v2;
  id v12 = (uint8_t *)swift_slowAlloc();
  uint64_t v13 = swift_slowAlloc();
  uint64_t v19 = v13;
  *(_DWORD *)id v12 = 136315138;
  if (v8) {
    uint64_t v14 = v6;
  }
  else {
    uint64_t v14 = 7104878;
  }
  if (v8) {
    unint64_t v15 = v8;
  }
  else {
    unint64_t v15 = 0xE300000000000000;
  }
  swift_bridgeObjectRetain();
  sub_246BA686C(v14, v15, &v19);
  sub_246C2D1C8();
  swift_bridgeObjectRelease_n();
  swift_bridgeObjectRelease();
  _os_log_impl(&dword_246B51000, v10, v11, "Selected collection with identifier: %s", v12, 0xCu);
  swift_arrayDestroy();
  MEMORY[0x24C545990](v13, -1, -1);
  MEMORY[0x24C545990](v12, -1, -1);

  if (v8) {
    goto LABEL_16;
  }
  return objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0, v17);
}

id sub_246BACB9C(void *a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_246C2CA98();
  uint64_t v52 = *(void *)(v6 - 8);
  uint64_t v53 = v6;
  MEMORY[0x270FA5388](v6);
  unint64_t v8 = (char *)v47 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_246C2CB38();
  uint64_t v10 = *(void *)(v9 - 8);
  MEMORY[0x270FA5388](v9);
  id v12 = (char *)v47 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2D008();
  uint64_t v13 = sub_246C2CAC8();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  if (qword_2691D6308 != -1) {
    swift_once();
  }
  uint64_t v14 = sub_246C2C088();
  uint64_t v15 = sub_246B8BE0C(v14, (uint64_t)qword_2691E0168);
  swift_bridgeObjectRetain();
  id v16 = sub_246C2C068();
  os_log_type_t v17 = sub_246C2CF08();
  if (os_log_type_enabled(v16, v17))
  {
    uint64_t v18 = swift_slowAlloc();
    *(_DWORD *)uint64_t v18 = 134218240;
    uint64_t v55 = v13;
    sub_246C2D1C8();
    *(_WORD *)(v18 + 12) = 2048;
    uint64_t v55 = *(void *)(a2 + 16);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_246B51000, v16, v17, "Did finish picking content, sourceType = %ld, resultsCount = %ld", (uint8_t *)v18, 0x16u);
    MEMORY[0x24C545990](v18, -1, -1);

    if (v13 != 1) {
      goto LABEL_5;
    }
LABEL_11:
    uint64_t v50 = v15;
    uint64_t v27 = *(void *)(a2 + 16);
    if (v27)
    {
      uint64_t v48 = v3;
      uint64_t v49 = a1;
      uint64_t v28 = v52 + 16;
      uint64_t v29 = *(void *)(v52 + 16);
      uint64_t v30 = a2 + ((*(unsigned __int8 *)(v52 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v52 + 80));
      uint64_t v51 = *(void *)(v52 + 72);
      uint64_t v52 = v29;
      double v31 = (void (**)(char *, uint64_t))(v28 - 8);
      v47[1] = a2;
      swift_bridgeObjectRetain();
      double v32 = (void *)MEMORY[0x263F8EE78];
      do
      {
        uint64_t v34 = v53;
        ((void (*)(char *, uint64_t, uint64_t))v52)(v8, v30, v53);
        uint64_t v35 = sub_246C2CA88();
        uint64_t v37 = v36;
        (*v31)(v8, v34);
        if (v37)
        {
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
            double v32 = sub_246BA5D30(0, v32[2] + 1, 1, v32);
          }
          unint64_t v39 = v32[2];
          unint64_t v38 = v32[3];
          if (v39 >= v38 >> 1) {
            double v32 = sub_246BA5D30((void *)(v38 > 1), v39 + 1, 1, v32);
          }
          _OWORD v32[2] = v39 + 1;
          os_log_type_t v33 = &v32[2 * v39];
          v33[4] = v35;
          v33[5] = v37;
        }
        v30 += v51;
        --v27;
      }
      while (v27);
      swift_bridgeObjectRelease();
      uint64_t v3 = v48;
      a1 = v49;
    }
    else
    {
      double v32 = (void *)MEMORY[0x263F8EE78];
    }
    swift_bridgeObjectRetain();
    uint64_t v43 = sub_246C2C068();
    os_log_type_t v44 = sub_246C2CEC8();
    if (os_log_type_enabled(v43, v44))
    {
      uint64_t v45 = (uint8_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v45 = 134217984;
      uint64_t v55 = v32[2];
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v43, v44, "Selected [%ld] people", v45, 0xCu);
      MEMORY[0x24C545990](v45, -1, -1);
    }
    else
    {

      swift_bridgeObjectRelease();
    }
    (*(void (**)(void *))((*MEMORY[0x263F8EED0] & *v3) + 0xE0))(v32);
    goto LABEL_31;
  }

  swift_bridgeObjectRelease();
  if (v13 == 1) {
    goto LABEL_11;
  }
LABEL_5:
  if (v13 == 5)
  {
    if (*(void *)(a2 + 16))
    {
      uint64_t v19 = sub_246C2CA88();
      if (v20)
      {
        uint64_t v21 = v19;
        unint64_t v22 = v20;
        swift_bridgeObjectRetain_n();
        id v23 = sub_246C2C068();
        os_log_type_t v24 = sub_246C2CEC8();
        if (os_log_type_enabled(v23, v24))
        {
          unint64_t v25 = (uint8_t *)swift_slowAlloc();
          uint64_t v26 = swift_slowAlloc();
          uint64_t v55 = v26;
          *(_DWORD *)unint64_t v25 = 136315138;
          swift_bridgeObjectRetain();
          uint64_t v54 = sub_246BA686C(v21, v22, &v55);
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_246B51000, v23, v24, "Selected collection with identifier: %s", v25, 0xCu);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v26, -1, -1);
          MEMORY[0x24C545990](v25, -1, -1);
        }
        else
        {

          swift_bridgeObjectRelease_n();
        }
        (*(void (**)(uint64_t, unint64_t))((*MEMORY[0x263F8EED0] & *v3) + 0xD8))(v21, v22);
LABEL_31:
        swift_bridgeObjectRelease();
      }
    }
  }
  else
  {
    uint64_t v40 = sub_246C2C068();
    os_log_type_t v41 = sub_246C2CEE8();
    if (os_log_type_enabled(v40, v41))
    {
      uint64_t v42 = (uint8_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v42 = 134217984;
      uint64_t v55 = v13;
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v40, v41, "Picker configured with unsupported _sourceType: %ld", v42, 0xCu);
      MEMORY[0x24C545990](v42, -1, -1);
    }
  }
  return objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0);
}

BOOL sub_246BAD2B8(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return ((*a1 ^ *a2) & 1) == 0;
}

const char *sub_246BAD2D0()
{
  return "Photos";
}

const char *sub_246BAD2E4()
{
  if (*v0) {
    return "LemonadePicker";
  }
  else {
    return "Lemonade";
  }
}

uint64_t sub_246BAD4C0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2)
  {
    uint64_t v4 = a3 + 16;
    swift_beginAccess();
    uint64_t v5 = MEMORY[0x24C545A70](v4);
    if (v5)
    {
      uint64_t v6 = (char *)v5;
      uint64_t v7 = sub_246B928B8(a2);
      if (v7)
      {
        uint64_t v29 = v6;
        uint64_t v8 = *(void *)(v7 + 16);
        if (v8)
        {
          uint64_t v9 = v7 + 32;
          uint64_t v10 = (void *)MEMORY[0x263F8EE78];
          uint64_t v11 = (void *)*MEMORY[0x263F836A8];
          while (1)
          {
            uint64_t v12 = *(void *)v9;
            if (*(void *)(*(void *)v9 + 16))
            {
              swift_bridgeObjectRetain();
              id v13 = v11;
              uint64_t v14 = sub_246C16378();
              if (v15)
              {
                sub_246B8E790(*(void *)(v12 + 56) + 32 * v14, (uint64_t)&v32);
              }
              else
              {
                long long v32 = 0u;
                long long v33 = 0u;
              }

              swift_bridgeObjectRelease();
              if (*((void *)&v33 + 1))
              {
                sub_246BAD98C();
                if (swift_dynamicCast())
                {
                  id v16 = objc_msgSend(v30, sel_localIdentifier);
                  uint64_t v17 = sub_246C2CC48();
                  uint64_t v19 = v18;

                  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
                    uint64_t v10 = sub_246BA5D30(0, v10[2] + 1, 1, v10);
                  }
                  unint64_t v21 = v10[2];
                  unint64_t v20 = v10[3];
                  if (v21 >= v20 >> 1) {
                    uint64_t v10 = sub_246BA5D30((void *)(v20 > 1), v21 + 1, 1, v10);
                  }
                  id v10[2] = v21 + 1;
                  unint64_t v22 = &v10[2 * v21];
                  v22[4] = v17;
                  v22[5] = v19;
                }
                goto LABEL_8;
              }
            }
            else
            {
              long long v32 = 0u;
              long long v33 = 0u;
            }
            sub_246BAD92C((uint64_t)&v32);
LABEL_8:
            v9 += 8;
            if (!--v8) {
              goto LABEL_22;
            }
          }
        }
        uint64_t v10 = (void *)MEMORY[0x263F8EE78];
LABEL_22:
        swift_bridgeObjectRelease();
        id v23 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
        os_log_type_t v24 = (char *)objc_allocWithZone(v23);
        *(void *)&v24[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = 0;
        *(void *)&v24[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = 0;
        unint64_t v25 = &v24[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
        *(void *)unint64_t v25 = 0;
        *((void *)v25 + 1) = 0;
        *(void *)&v24[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = v10;
        v31.receiver = v24;
        v31.uint64_t super_class = v23;
        id v26 = objc_msgSendSuper2(&v31, sel_init);
        uint64_t v27 = (void *)MEMORY[0x24C545A70](&v29[OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_delegate]);
        if (v27)
        {
          objc_msgSend(v27, sel_shuffleSelectionViewController_didFinishWithSelection_, v29, v26);

          swift_unknownObjectRelease();
        }
        else
        {
        }
      }
      else
      {
      }
    }
  }
  return 0;
}

id sub_246BAD81C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanShuffleSelectionBaseViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanShuffleSelectionBaseViewController()
{
  return self;
}

uint64_t sub_246BAD8D4()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_246BAD90C(uint64_t a1, uint64_t a2)
{
  return sub_246BAD4C0(a1, a2, v2);
}

uint64_t sub_246BAD914(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BAD924()
{
  return swift_release();
}

uint64_t sub_246BAD92C(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D69A0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

unint64_t sub_246BAD98C()
{
  unint64_t result = qword_2691D7040;
  if (!qword_2691D7040)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D7040);
  }
  return result;
}

uint64_t getEnumTagSinglePayload for LemonadeFeatureFlags(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFF) {
    goto LABEL_17;
  }
  if (a2 + 1 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 1) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 1;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 1;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 1;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 2;
  int v8 = v6 - 2;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for LemonadeFeatureFlags(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BADB28);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

unsigned char *sub_246BADB50(unsigned char *result, char a2)
{
  *unint64_t result = a2 & 1;
  return result;
}

ValueMetadata *type metadata accessor for LemonadeFeatureFlags()
{
  return &type metadata for LemonadeFeatureFlags;
}

unint64_t sub_246BADB70()
{
  unint64_t result = qword_2691D71B8;
  if (!qword_2691D71B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D71B8);
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanComplicationVisibility()
{
  return &type metadata for ParmesanComplicationVisibility;
}

unint64_t sub_246BADBD4@<X0>(unint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  unint64_t result = sub_246BADC60(*a1);
  *(void *)a2 = result;
  *(unsigned char *)(a2 + 8) = v4 & 1;
  return result;
}

unint64_t sub_246BADC0C()
{
  unint64_t result = qword_2691D71C0;
  if (!qword_2691D71C0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D71C0);
  }
  return result;
}

unint64_t sub_246BADC60(unint64_t result)
{
  if (result > 3) {
    return 0;
  }
  return result;
}

void sub_246BADC70()
{
  qword_2691D71C8 = 0x4024000000000000;
}

void sub_246BADD4C(uint64_t a1)
{
  int v2 = *(void **)(a1 + 16);
  if (v2)
  {
    id v3 = v2;
    uint64_t v4 = sub_246BAE5B4(v3);
  }
  else
  {
    id v3 = *(id *)(a1 + 24);
    if (v3)
    {
      unsigned int v5 = objc_msgSend(v3, sel_isBright);
      if (v5) {
        float v6 = 0.7;
      }
      else {
        float v6 = 1.1;
      }
      if (v5) {
        float v7 = -0.1;
      }
      else {
        float v7 = -0.13;
      }
      float v8 = 1.15;
      if (v5) {
        float v8 = 0.75;
      }
      float v9 = 0.8;
      if (v5) {
        float v9 = 0.4;
      }
    }
    else
    {
      float v9 = 0.8;
      float v8 = 1.15;
      float v7 = -0.13;
      float v6 = 1.1;
    }
    *(float *)&long long v16 = v6;
    *(void *)((char *)&v16 + 4) = 0xBD4CCCCDBECCCCCDLL;
    HIDWORD(v16) = 0;
    float v17 = v9;
    float v18 = v7;
    float v19 = v9;
    uint64_t v20 = 3175926989;
    float v21 = v9;
    float v22 = v7;
    int v23 = -1093874483;
    float v24 = v8;
    int v25 = 0;
    float v26 = v9;
    long long v27 = xmmword_246C34060;
    int v28 = 0;
    if (qword_2691D62B0 != -1) {
      swift_once();
    }
    uint64_t v4 = sub_246BAE6F4(&v16);
  }
  uint64_t v10 = v4;

  *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_backdropFilters] = v10;
  swift_bridgeObjectRelease();
  v15.receiver = v1;
  v15.uint64_t super_class = (Class)type metadata accessor for ParmesanBackdropView();
  id v11 = objc_msgSendSuper2(&v15, sel_layer);
  self;
  uint64_t v12 = (void *)swift_dynamicCastObjCClassUnconditional();
  unint64_t v13 = swift_bridgeObjectRetain();
  sub_246C1DAFC(v13);
  swift_bridgeObjectRelease();
  uint64_t v14 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v12, sel_setFilters_, v14);
}

void sub_246BADFAC(uint64_t a1, uint64_t a2)
{
  unsigned int v5 = *(void **)(a1 + 16);
  if (!v5 && qword_2691D62B0 != -1) {
    swift_once();
  }
  float v6 = *(void **)(a2 + 16);
  if (!v6 && qword_2691D62B0 != -1) {
    swift_once();
  }
  CLKInterpolateBetweenFloatsUnclipped();
  CLKInterpolateBetweenFloatsUnclipped();
  if (v5)
  {
    id v7 = v5;
    sub_246BAE4FC(v7, (uint64_t)&v44);
    float v39 = v45;
    long long v41 = v44;
    float v8 = v47;
    long long v35 = v48;
    long long v37 = v46;
    long long v33 = v49;
    uint64_t v9 = v50;

    long long v10 = v33;
    long long v11 = v35;
    long long v12 = v37;
    float v13 = v39;
    long long v14 = v41;
  }
  else
  {
    objc_super v15 = *(void **)(a1 + 24);
    uint64_t v9 = 1065353216;
    if (v15)
    {
      unsigned int v16 = objc_msgSend(v15, sel_isBright);
      if (v16) {
        *(float *)&long long v14 = 0.7;
      }
      else {
        *(float *)&long long v14 = 1.1;
      }
      if (v16) {
        float v13 = 0.4;
      }
      else {
        float v13 = 0.8;
      }
      if (v16) {
        *(float *)&long long v11 = -0.1;
      }
      else {
        *(float *)&long long v11 = -0.13;
      }
      float v17 = 1.15;
      DWORD1(v14) = -1093874483;
      *((void *)&v14 + 1) = 3175926989;
      if (v16) {
        float v17 = 0.75;
      }
      *(void *)&long long v12 = __PAIR64__(LODWORD(v13), v11);
      *((void *)&v12 + 1) = 3175926989;
      DWORD1(v11) = -1093874483;
      *((void *)&v11 + 1) = LODWORD(v17);
      long long v10 = LODWORD(v13);
    }
    else
    {
      long long v10 = xmmword_246C34070;
      long long v11 = xmmword_246C34080;
      long long v12 = xmmword_246C34090;
      long long v14 = xmmword_246C340A0;
      float v13 = 0.8;
    }
    float v8 = v13;
  }
  v58[5] = v14;
  long long v60 = v12;
  float v59 = v13;
  float v61 = v8;
  long long v62 = v11;
  long long v63 = v10;
  uint64_t v64 = v9;
  if (v6)
  {
    id v18 = v6;
    sub_246BAE4FC(v18, (uint64_t)&v51);
    float v40 = v52;
    long long v42 = v51;
    float v19 = v54;
    long long v36 = v55;
    long long v38 = v53;
    long long v34 = v56;
    uint64_t v20 = v57;

    long long v21 = v34;
    long long v22 = v36;
    long long v23 = v38;
    float v24 = v40;
    long long v25 = v42;
  }
  else
  {
    float v26 = *(void **)(a2 + 24);
    uint64_t v20 = 1065353216;
    if (v26)
    {
      unsigned int v27 = objc_msgSend(v26, sel_isBright);
      if (v27) {
        *(float *)&long long v25 = 0.7;
      }
      else {
        *(float *)&long long v25 = 1.1;
      }
      if (v27) {
        float v24 = 0.4;
      }
      else {
        float v24 = 0.8;
      }
      if (v27) {
        *(float *)&long long v22 = -0.1;
      }
      else {
        *(float *)&long long v22 = -0.13;
      }
      float v28 = 1.15;
      DWORD1(v25) = -1093874483;
      *((void *)&v25 + 1) = 3175926989;
      if (v27) {
        float v28 = 0.75;
      }
      *(void *)&long long v23 = __PAIR64__(LODWORD(v24), v22);
      *((void *)&v23 + 1) = 3175926989;
      DWORD1(v22) = -1093874483;
      *((void *)&v22 + 1) = LODWORD(v28);
      long long v21 = LODWORD(v24);
    }
    else
    {
      long long v21 = xmmword_246C34070;
      long long v22 = xmmword_246C34080;
      long long v23 = xmmword_246C34090;
      long long v25 = xmmword_246C340A0;
      float v24 = 0.8;
    }
    float v19 = v24;
  }
  long long v65 = v25;
  long long v67 = v23;
  float v66 = v24;
  float v68 = v19;
  long long v69 = v22;
  long long v70 = v21;
  uint64_t v71 = v20;
  sub_246C0C468((uint64_t)v58);
  *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_backdropFilters] = sub_246BAE6F4(v58);
  swift_bridgeObjectRelease();
  v43.receiver = v2;
  v43.uint64_t super_class = (Class)type metadata accessor for ParmesanBackdropView();
  id v29 = objc_msgSendSuper2(&v43, sel_layer);
  self;
  id v30 = (void *)swift_dynamicCastObjCClassUnconditional();
  unint64_t v31 = swift_bridgeObjectRetain();
  sub_246C1DAFC(v31);
  swift_bridgeObjectRelease();
  long long v32 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v30, sel_setFilters_, v32);
}

id sub_246BAE4A4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanVibrantEffectView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanVibrantEffectView()
{
  return self;
}

double sub_246BAE4FC@<D0>(void *a1@<X0>, uint64_t a2@<X8>)
{
  v10[1] = *(double *)MEMORY[0x263EF8340];
  double v9 = 0.0;
  v10[0] = 0.0;
  uint64_t v7 = 0;
  double v8 = 0.0;
  objc_msgSend(a1, sel_getRed_green_blue_alpha_, v10, &v9, &v8, &v7);
  float v3 = v10[0];
  float v4 = v9;
  float v5 = v8;
  *(void *)a2 = 0;
  *(void *)(a2 + 8) = 0;
  *(float *)(a2 + 16) = v3;
  *(void *)(a2 + 28) = 0;
  *(void *)(a2 + 20) = 0;
  *(float *)(a2 + 36) = v4;
  *(void *)(a2 + 40) = 0;
  *(void *)(a2 + 48) = 0;
  *(float *)(a2 + 56) = v5;
  double result = 0.0;
  *(_OWORD *)(a2 + 60) = xmmword_246C34060;
  *(_DWORD *)(a2 + 76) = 0;
  return result;
}

uint64_t sub_246BAE5B4(void *a1)
{
  sub_246BAE4FC(a1, (uint64_t)&v15);
  sub_246C2CC48();
  id v1 = objc_allocWithZone(MEMORY[0x263F157C8]);
  objc_super v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v3 = objc_msgSend(v1, sel_initWithType_, v2);

  float v4 = self;
  long long v8 = v15;
  uint64_t v9 = v16;
  long long v10 = v17;
  uint64_t v11 = v18;
  long long v12 = v19;
  uint64_t v13 = v20;
  uint64_t v14 = v21;
  id v5 = objc_msgSend(v4, sel_valueWithCAColorMatrix_, &v8);
  objc_msgSend(v3, sel_setValue_forKey_, v5, *MEMORY[0x263F15C30]);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v6 = swift_allocObject();
  *(_OWORD *)(v6 + 16) = xmmword_246C33610;
  *(void *)(v6 + 32) = v3;
  *(void *)&long long v8 = v6;
  sub_246C2CD58();
  return v8;
}

uint64_t sub_246BAE6F4(long long *a1)
{
  sub_246C2CC48();
  id v2 = objc_allocWithZone(MEMORY[0x263F157C8]);
  long long v23 = a1[1];
  long long v24 = *a1;
  long long v21 = a1[3];
  long long v22 = a1[2];
  uint64_t v3 = *((void *)a1 + 8);
  uint64_t v4 = *((void *)a1 + 9);
  id v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v6 = objc_msgSend(v2, sel_initWithType_, v5);

  uint64_t v7 = (void *)sub_246C2C008();
  objc_msgSend(v6, sel_setValue_forKey_, v7, *MEMORY[0x263F15C80]);

  long long v8 = (void *)sub_246C2CD98();
  uint64_t v9 = (void *)sub_246C2CC08();
  objc_msgSend(v6, sel_setValue_forKey_, v8, v9);

  long long v10 = (void *)sub_246C2CD98();
  objc_msgSend(v6, sel_setValue_forKey_, v10, *MEMORY[0x263F15C38]);

  sub_246C2CC48();
  id v11 = objc_allocWithZone(MEMORY[0x263F157C8]);
  long long v12 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v13 = objc_msgSend(v11, sel_initWithType_, v12);

  uint64_t v14 = (void *)sub_246C2C008();
  objc_msgSend(v13, sel_setValue_forKey_, v14, *MEMORY[0x263F15BF8]);

  sub_246C2CC48();
  id v15 = objc_allocWithZone(MEMORY[0x263F157C8]);
  uint64_t v16 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v17 = objc_msgSend(v15, sel_initWithType_, v16);

  v25[0] = v24;
  v25[1] = v23;
  v25[2] = v22;
  void v25[3] = v21;
  uint64_t v26 = v3;
  uint64_t v27 = v4;
  id v18 = objc_msgSend(self, sel_valueWithCAColorMatrix_, v25);
  objc_msgSend(v17, sel_setValue_forKey_, v18, *MEMORY[0x263F15C30]);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v19 = swift_allocObject();
  *(_OWORD *)(v19 + 16) = xmmword_246C33600;
  *(void *)(v19 + 32) = v6;
  *(void *)(v19 + 40) = v13;
  *(void *)(v19 + 48) = v17;
  *(void *)&v25[0] = v19;
  sub_246C2CD58();
  return *(void *)&v25[0];
}

uint64_t sub_246BAE9E0@<X0>(void *a1@<X8>)
{
  uint64_t v2 = v1[1];
  *a1 = *v1;
  a1[1] = v2;
  return swift_bridgeObjectRetain();
}

BOOL sub_246BAE9EC(_OWORD *a1, long long *a2)
{
  long long v2 = a1[3];
  void v8[2] = a1[2];
  v8[3] = v2;
  long long v3 = a1[4];
  long long v4 = a1[1];
  v8[0] = *a1;
  v8[1] = v4;
  long long v5 = a2[3];
  id v9[2] = a2[2];
  v9[3] = v5;
  v9[4] = a2[4];
  long long v6 = *a2;
  v9[1] = a2[1];
  v8[4] = v3;
  v9[0] = v6;
  return sub_246BB0320((uint64_t)v8, (uint64_t)v9);
}

id sub_246BAEA48()
{
  id v1 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_image];
  if (!v1) {
    goto LABEL_8;
  }
  id v2 = v1;
  id v3 = objc_msgSend(v2, sel_CGImage);
  if (!v3)
  {
    id v4 = v2;
    goto LABEL_7;
  }
  id v4 = v3;
  objc_msgSend(v2, sel_size);
  if (v6 == 0.0 && v5 == 0.0)
  {

LABEL_7:
LABEL_8:
    id v7 = objc_msgSend(v0, sel_layer);
    v32.a = 1.0;
    v32.b = 0.0;
    v32.c = 0.0;
    v32.d = 1.0;
    v32.tdouble x = 0.0;
    v32.tdouble y = 0.0;
    objc_msgSend(v7, sel_setAffineTransform_, &v32);

    id v8 = objc_msgSend(v0, sel_layer);
    objc_msgSend(v8, sel_setContents_, 0);

    id v4 = objc_msgSend(v0, sel_layer);
    objc_msgSend(v4, sel_setContentsRect_, 0.0, 0.0, 0.0, 0.0);
    goto LABEL_9;
  }
  id v11 = (double *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_crop];
  if ((v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_crop
         + 32] & 1) != 0)
  {
    double v12 = 0.0;
    double v13 = 1.0;
    double v14 = 1.0;
    double v15 = 0.0;
  }
  else
  {
    double width = v11[2];
    double height = v11[3];
    double x = *v11;
    double y = v11[1];
    uint64_t v20 = (CGImage *)objc_msgSend(v2, sel_CGImage);
    if (v20)
    {
      long long v21 = v20;
      CGImageGetWidth(v20);
      CGImageGetHeight(v21);
      objc_msgSend(v2, sel_imageOrientation);
      NTKImagePresentationTransform();
      CGAffineTransformInvert(&v31, &v32);
      CGAffineTransform v32 = v31;
      v33.origin.double x = x;
      v33.origin.double y = y;
      v33.size.double width = width;
      v33.size.double height = height;
      CGRect v34 = CGRectApplyAffineTransform(v33, &v32);
      double x = v34.origin.x;
      double y = v34.origin.y;
      double width = v34.size.width;
      double height = v34.size.height;
    }
    int64_t v22 = CGImageGetWidth((CGImageRef)v4);
    int64_t v23 = CGImageGetHeight((CGImageRef)v4);
    double v12 = x / (double)v22;
    double v15 = y / (double)v23;
    double v13 = width / (double)v22;
    double v14 = height / (double)v23;
  }
  id v24 = objc_msgSend(v0, sel_layer);
  objc_msgSend(v24, sel_setContents_, v4);

  id v25 = objc_msgSend(v0, sel_layer);
  objc_msgSend(v25, sel_setContentsRect_, v12, v15, v13, v14);

  objc_msgSend(v2, sel_imageOrientation);
  CGImageGetWidth((CGImageRef)v4);
  CGImageGetHeight((CGImageRef)v4);
  NTKImagePresentationTransform();
  long long v29 = *(_OWORD *)&v32.c;
  long long v30 = *(_OWORD *)&v32.a;
  tdouble x = v32.tx;
  tdouble y = v32.ty;
  id v28 = objc_msgSend(v0, sel_layer);
  *(_OWORD *)&v32.a = v30;
  *(_OWORD *)&v32.c = v29;
  v32.tdouble x = tx;
  v32.tdouble y = ty;
  objc_msgSend(v28, sel_setAffineTransform_, &v32);

LABEL_9:
  id v9 = objc_msgSend(v0, sel_layer);
  objc_msgSend(v9, sel_setContentsGravity_, *MEMORY[0x263F15E20]);

  return objc_msgSend(v0, sel_setNeedsDisplay);
}

id sub_246BAEEE4()
{
  return sub_246BAFFCC(0, type metadata accessor for ParmesanCroppedImageView);
}

uint64_t type metadata accessor for ParmesanCroppedImageView()
{
  return self;
}

char *sub_246BAEF34(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = sub_246B80250(&qword_2691D7030);
  MEMORY[0x270FA5388](v9 - 8);
  id v11 = (char *)&v43 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v12 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration];
  *(_OWORD *)double v12 = 0u;
  *((_OWORD *)v12 + 1) = 0u;
  *((_OWORD *)v12 + 2) = 0u;
  *((_OWORD *)v12 + 3) = 0u;
  *((_OWORD *)v12 + 4) = 0u;
  id v13 = objc_allocWithZone(MEMORY[0x263EFD180]);
  double v14 = v4;
  double result = (char *)objc_msgSend(v13, sel_initWithSizeClass_, 6);
  if (!result)
  {
    __break(1u);
LABEL_10:
    __break(1u);
    return result;
  }
  uint64_t v16 = result;
  if (qword_2691D62B8 != -1) {
    swift_once();
  }
  id v17 = (void *)qword_2691E0068;
  id v18 = (objc_class *)type metadata accessor for ParmesanTimeView();
  objc_allocWithZone(v18);
  uint64_t v19 = self;
  id v20 = v17;
  double result = (char *)objc_msgSend(v19, sel_currentDevice);
  if (!result) {
    goto LABEL_10;
  }
  long long v21 = result;
  int64_t v22 = (objc_class *)type metadata accessor for ParmesanTimeAppearance();
  int64_t v23 = (char *)objc_allocWithZone(v22);
  *(void *)&v23[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout] = v20;
  *(void *)&v23[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device] = v21;
  *(void *)&v23[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface] = 0;
  *(void *)&v23[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals] = 0;
  v44.receiver = v23;
  v44.uint64_t super_class = v22;
  id v24 = v20;
  id v25 = objc_msgSendSuper2(&v44, sel_init);
  id v26 = objc_allocWithZone(v18);
  uint64_t v27 = sub_246BC52C4(v25, 0.0, 0.0, 0.0, 0.0);

  swift_getObjectType();
  swift_deallocPartialClassInstance();
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_timeView] = v27;
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_cropView] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanCroppedImageView()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);

  id v28 = (objc_class *)type metadata accessor for ParmesanPreviewContentView();
  v43.receiver = v14;
  v43.uint64_t super_class = v28;
  long long v29 = (char *)objc_msgSendSuper2(&v43, sel_initWithFrame_, a1, a2, a3, a4);
  id v30 = objc_msgSend(v29, sel_layer);
  objc_msgSend(v30, sel_setMasksToBounds_, 1);

  id v31 = objc_msgSend(v29, sel_layer);
  objc_msgSend(v16, sel_screenCornerRadius);
  double v33 = v32;
  objc_msgSend(v16, sel_screenScale);
  objc_msgSend(v31, sel_setCornerRadius_, v33 / v34);

  uint64_t v35 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_timeView;
  id v36 = (id)NTKIdealizedDate();
  if (v36)
  {
    long long v37 = v36;
    sub_246C2BC08();

    uint64_t v38 = sub_246C2BC18();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v38 - 8) + 56))(v11, 0, 1, v38);
  }
  else
  {
    uint64_t v39 = sub_246C2BC18();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v39 - 8) + 56))(v11, 1, 1, v39);
  }
  sub_246BC6BD4((uint64_t)v11);
  sub_246BB04B4((uint64_t)v11);
  id v40 = *(id *)&v29[v35];
  objc_msgSend(v29, sel_bounds);
  objc_msgSend(v40, sel_setFrame_);

  uint64_t v41 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_cropView;
  id v42 = *(id *)&v29[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_cropView];
  objc_msgSend(v29, sel_bounds);
  objc_msgSend(v42, sel_setFrame_);

  objc_msgSend(v29, sel_addSubview_, *(void *)&v29[v41]);
  objc_msgSend(v29, sel_setIsAccessibilityElement_, 1);

  return v29;
}

void *sub_246BAF51C(void *a1)
{
  id v2 = v1;
  double result = (void *)sub_246B8ED74((uint64_t)a1, (uint64_t)v16, &qword_2691D6E18);
  if (*((void *)&v16[0] + 1))
  {
    *(_OWORD *)&v20[32] = v17;
    long long v21 = v18;
    *(_OWORD *)id v20 = v16[1];
    *(_OWORD *)&v20[16] = v16[2];
    long long v19 = v16[0];
    double v5 = (void *)*((void *)&v17 + 1);
    long long v6 = v18;
    id v7 = *((id *)&v17 + 1);
    sub_246B98784(a1, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B9873C);
    sub_246BC5724(v5, v6, 0, *((uint64_t *)&v6 + 1), 0);

    uint64_t v8 = *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_cropView];
    sub_246B8ED74((uint64_t)v20, (uint64_t)&v22, &qword_2691D6988);
    uint64_t v9 = *(void **)(v8
                  + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_image);
    sub_246B8ED74((uint64_t)&v22, v8+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_image, &qword_2691D6988);
    sub_246BB045C(&v22);
    sub_246BB045C(&v22);

    sub_246BAEA48();
    sub_246BB0488(&v22);
    uint64_t v10 = v8
        + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanionP33_CCA0DA31BB871EB560D99E844C31548824ParmesanCroppedImageView_crop;
    long long v11 = *(_OWORD *)&v20[24];
    *(_OWORD *)uint64_t v10 = *(_OWORD *)&v20[8];
    *(_OWORD *)(v10 + 16) = v11;
    *(unsigned char *)(v10 + 32) = 0;
    sub_246BAEA48();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
    uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
    id v13 = (void *)sub_246C2CC08();
    double v14 = (void *)sub_246C2CC08();
    id v15 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v13, v14);

    if (!v15)
    {
      sub_246C2CC48();
      id v15 = (id)sub_246C2CC08();
      swift_bridgeObjectRelease();
    }
    objc_msgSend(v2, sel_setAccessibilityLabel_, v15);

    return sub_246B98784(a1, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B98680);
  }
  return result;
}

id sub_246BAF758(uint64_t a1)
{
  return sub_246BAFFCC(a1, type metadata accessor for ParmesanPreviewContentView);
}

uint64_t type metadata accessor for ParmesanPreviewContentView()
{
  return self;
}

char *sub_246BAF804(double a1, double a2, double a3, double a4)
{
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessoryPadding] = 0x4018000000000000;
  uint64_t v9 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory;
  id v10 = objc_allocWithZone(MEMORY[0x263F82828]);
  long long v11 = v4;
  *(void *)&v4[v9] = objc_msgSend(v10, sel_initWithImage_, 0);
  double v12 = &v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_itemIdentifier];
  id v13 = (objc_class *)type metadata accessor for ParmesanPreviewContentView();
  *(void *)double v12 = 0;
  *((void *)v12 + 1) = 0;
  id v14 = objc_msgSend(objc_allocWithZone(v13), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_previewContentView] = v14;

  v21.receiver = v11;
  v21.uint64_t super_class = (Class)type metadata accessor for ParmesanFacePreviewCell();
  id v15 = (char *)objc_msgSendSuper2(&v21, sel_initWithFrame_, a1, a2, a3, a4);
  id v16 = objc_msgSend(v15, sel_contentView);
  objc_msgSend(v16, sel_addSubview_, *(void *)&v15[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_previewContentView]);

  id v17 = objc_msgSend(v15, sel_contentView);
  uint64_t v18 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory;
  objc_msgSend(v17, sel_addSubview_, *(void *)&v15[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory]);

  id v19 = *(id *)&v15[v18];
  objc_msgSend(v19, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 12, 0, 0.0, 0.0, 6.0, 6.0);

  return v15;
}

void sub_246BAFB60()
{
  uint64_t v1 = v0;
  id v2 = *(void **)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_previewContentView);
  objc_msgSend(v2, sel_setAccessibilityTraits_, *MEMORY[0x263F83260]);
  if (sub_246C2C158())
  {
    sub_246C2C138();
    id v3 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v4 = objc_msgSend(self, sel__systemImageNamed_, v3);

    uint64_t v5 = *MEMORY[0x263F83570];
    long long v6 = self;
    id v7 = objc_msgSend(v6, sel_configurationWithTextStyle_scale_, v5, 3);
    sub_246B80250((uint64_t *)&unk_2691D6A80);
    uint64_t v8 = swift_allocObject();
    *(_OWORD *)(v8 + 16) = xmmword_246C33940;
    uint64_t v9 = self;
    *(void *)(v8 + 32) = objc_msgSend(v9, sel_whiteColor);
    *(void *)(v8 + 40) = objc_msgSend(v9, sel_tintColor);
    uint64_t v20 = v8;
    sub_246C2CD58();
    sub_246B8F1E0(0, &qword_2691D7220);
    id v10 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    id v18 = objc_msgSend(v6, sel_configurationWithPaletteColors_, v10);

    id v11 = objc_msgSend(v7, sel_configurationByApplyingConfiguration_, v18);
    uint64_t v12 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory;
    id v13 = objc_retain(*(id *)(v1
                            + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory));
    if (v4) {
      id v14 = objc_msgSend(v4, sel_imageWithConfiguration_, v11);
    }
    else {
      id v14 = 0;
    }
    objc_msgSend(v13, sel_setImage_, v14, v18, v20);

    id v16 = *(id *)(v1 + v12);
    id v17 = objc_msgSend(v6, sel_configurationPreferringMulticolor);
    objc_msgSend(v16, sel_setPreferredSymbolConfiguration_, v17);

    if (sub_246C2C138()) {
      objc_msgSend(v2, sel_setAccessibilityTraits_, (unint64_t)objc_msgSend(v2, sel_accessibilityTraits) | *MEMORY[0x263F832A8]);
    }
  }
  else
  {
    id v15 = *(void **)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion23ParmesanFacePreviewCell_selectionAccessory);
    objc_msgSend(v15, sel_setImage_, 0);
  }
}

id sub_246BAFFB4(uint64_t a1)
{
  return sub_246BAFFCC(a1, type metadata accessor for ParmesanFacePreviewCell);
}

id sub_246BAFFCC(uint64_t a1, uint64_t (*a2)(void))
{
  v4.receiver = v2;
  v4.uint64_t super_class = (Class)a2();
  return objc_msgSendSuper2(&v4, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanFacePreviewCell()
{
  return self;
}

void destroy for ParmesanFacePreviewConfiguration(uint64_t a1)
{
  swift_bridgeObjectRelease();

  id v2 = *(void **)(a1 + 56);
}

uint64_t initializeWithCopy for ParmesanFacePreviewConfiguration(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = v3;
  objc_super v4 = *(void **)(a2 + 16);
  *(void *)(a1 + 16) = v4;
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  uint64_t v5 = *(void **)(a2 + 56);
  *(void *)(a1 + 56) = v5;
  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);
  swift_bridgeObjectRetain();
  id v6 = v4;
  id v7 = v5;
  return a1;
}

void *assignWithCopy for ParmesanFacePreviewConfiguration(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  objc_super v4 = (void *)a1[2];
  uint64_t v5 = (void *)a2[2];
  a1[2] = v5;
  id v6 = v5;

  a1[3] = a2[3];
  a1[4] = a2[4];
  a1[5] = a2[5];
  a1[6] = a2[6];
  id v7 = (void *)a2[7];
  uint64_t v8 = (void *)a1[7];
  a1[7] = v7;
  id v9 = v7;

  a1[8] = a2[8];
  a1[9] = a2[9];
  return a1;
}

__n128 initializeWithTake for ParmesanFacePreviewConfiguration(uint64_t a1, uint64_t a2)
{
  *(_OWORD *)a1 = *(_OWORD *)a2;
  __n128 result = *(__n128 *)(a2 + 16);
  long long v3 = *(_OWORD *)(a2 + 32);
  long long v4 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 48) = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 64) = v4;
  *(__n128 *)(a1 + 16) = result;
  *(_OWORD *)(a1 + 32) = v3;
  return result;
}

uint64_t assignWithTake for ParmesanFacePreviewConfiguration(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  long long v4 = *(void **)(a1 + 16);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);

  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  uint64_t v5 = *(void **)(a1 + 56);
  *(void *)(a1 + 56) = *(void *)(a2 + 56);

  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanFacePreviewConfiguration(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 80)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanFacePreviewConfiguration(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 72) = 0;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 80) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 80) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanFacePreviewConfiguration()
{
  return &type metadata for ParmesanFacePreviewConfiguration;
}

uint64_t sub_246BB0314()
{
  return MEMORY[0x263F8D320];
}

BOOL sub_246BB0320(uint64_t a1, uint64_t a2)
{
  BOOL v4 = *(void *)a1 == *(void *)a2 && *(void *)(a1 + 8) == *(void *)(a2 + 8);
  if (v4 || (char v5 = sub_246C2D578(), result = 0, (v5 & 1) != 0))
  {
    id v7 = *(void **)(a1 + 16);
    uint64_t v8 = *(void **)(a2 + 16);
    if (v7)
    {
      if (!v8) {
        return 0;
      }
      sub_246B8F1E0(0, &qword_2691D7218);
      id v9 = v8;
      id v10 = v7;
      char v11 = sub_246C2D108();

      if ((v11 & 1) == 0) {
        return 0;
      }
    }
    else if (v8)
    {
      return 0;
    }
    BOOL result = CGRectEqualToRect(*(CGRect *)(a1 + 24), *(CGRect *)(a2 + 24));
    if (!result) {
      return result;
    }
    uint64_t v12 = *(void *)(a1 + 56);
    uint64_t v13 = *(void *)(a2 + 56);
    if (*(void *)(v12 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) == *(void *)(v13
                                                                                     + OBJC_IVAR___NTKParmesanTimeLayout_alignment)
      && *(void *)(v12 + OBJC_IVAR___NTKParmesanTimeLayout_scale) == *(void *)(v13
                                                                                 + OBJC_IVAR___NTKParmesanTimeLayout_scale)
      && *(void *)(a1 + 64) == *(void *)(a2 + 64))
    {
      return *(void *)(a1 + 72) == *(void *)(a2 + 72);
    }
    return 0;
  }
  return result;
}

id *sub_246BB045C(id *a1)
{
  id v2 = *a1;
  return a1;
}

id *sub_246BB0488(id *a1)
{
  return a1;
}

uint64_t sub_246BB04B4(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D7030);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t type metadata accessor for ParmesanGalleryTransitionTritiumOn()
{
  return self;
}

uint64_t sub_246BB0538()
{
  return 0x4F6D756974697274;
}

id sub_246BB0554@<X0>(uint64_t a1@<X8>)
{
  if (qword_2691D6338 != -1) {
    swift_once();
  }
  uint64_t v2 = qword_2691D6340;
  id v3 = (id)qword_2691E01E0;
  if (v2 != -1) {
    swift_once();
  }
  BOOL v4 = (void *)qword_2691E01E8;
  *(_OWORD *)a1 = xmmword_246C34200;
  *(void *)(a1 + 16) = v3;
  *(_OWORD *)(a1 + 24) = xmmword_246C32B20;
  *(void *)(a1 + 40) = v4;

  return v4;
}

void sub_246BB0624()
{
  double v0 = sub_246BB065C();
  sub_246BC021C(v0, v1);
}

double sub_246BB065C()
{
  if (qword_2691D6338 != -1) {
    swift_once();
  }
  uint64_t v0 = qword_2691D6340;
  id v1 = (id)qword_2691E01E0;
  if (v0 != -1) {
    swift_once();
  }
  id v2 = (id)qword_2691E01E8;
  id v3 = v1;
  id v4 = v2;
  CLKCompressFraction();
  double v6 = 1.0 - v5;
  *(float *)&double v6 = v6;
  objc_msgSend(v3, sel__solveForInput_, v6);
  double v8 = v7;
  CLKCompressFraction();
  float v10 = v9;
  id v11 = v4;
  *(float *)&double v12 = v10;
  objc_msgSend(v11, sel__solveForInput_, v12);

  return v8;
}

uint64_t sub_246BB0794(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246BB07A8(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 16))();
}

uint64_t sub_246BB07BC(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 24))();
}

uint64_t sub_246BB07D0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 32))();
}

uint64_t sub_246BB07E4(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 16))();
}

uint64_t sub_246BB07F8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return (*(uint64_t (**)(void))(a4 + 8))();
}

unint64_t sub_246BB080C()
{
  uint64_t v1 = v0;
  sub_246C2C018();
  sub_246B80250(&qword_2691D7258);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C34330;
  *(void *)(inited + 32) = 1752458359;
  *(void *)(inited + 40) = 0xE400000000000000;
  *(void *)(inited + 48) = sub_246C2C008();
  *(void *)(inited + 56) = 1952999287;
  *(void *)(inited + 64) = 0xE400000000000000;
  *(void *)(inited + 72) = sub_246C2C008();
  unint64_t v3 = sub_246C10C40(inited);
  if ((*(unsigned char *)(v1 + OBJC_IVAR___NTKParmesanFontAttributes_soft + 8) & 1) == 0)
  {
    uint64_t v4 = sub_246C2C008();
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    sub_246C1A8A4(v4, 1952870259, 0xE400000000000000, isUniquelyReferenced_nonNull_native);
    swift_bridgeObjectRelease();
  }
  if ((*(unsigned char *)(v1 + OBJC_IVAR___NTKParmesanFontAttributes_grad + 8) & 1) == 0)
  {
    uint64_t v6 = sub_246C2C008();
    char v7 = swift_isUniquelyReferenced_nonNull_native();
    sub_246C1A8A4(v6, 1684107879, 0xE400000000000000, v7);
    swift_bridgeObjectRelease();
  }
  if ((*(unsigned char *)(v1 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize + 8) & 1) == 0)
  {
    uint64_t v8 = sub_246C2C008();
    char v9 = swift_isUniquelyReferenced_nonNull_native();
    sub_246C1A8A4(v8, 2054385775, 0xE400000000000000, v9);
    swift_bridgeObjectRelease();
  }
  return v3;
}

id sub_246BB0A0C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanFontAttributes();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanFontAttributes()
{
  return self;
}

id sub_246BB0A64(double a1, double a2, double a3, double a4)
{
  uint64_t v8 = (objc_class *)type metadata accessor for ParmesanFontAttributes();
  char v9 = (char *)objc_allocWithZone(v8);
  float v10 = &v9[OBJC_IVAR___NTKParmesanFontAttributes_soft];
  *(void *)float v10 = 0;
  v10[8] = 1;
  id v11 = &v9[OBJC_IVAR___NTKParmesanFontAttributes_grad];
  *(void *)id v11 = 0;
  v11[8] = 1;
  double v12 = &v9[OBJC_IVAR___NTKParmesanFontAttributes_opticalSize];
  *(void *)double v12 = 0;
  v12[8] = 1;
  *(double *)&v9[OBJC_IVAR___NTKParmesanFontAttributes_activeWeight] = a1;
  *(double *)&v9[OBJC_IVAR___NTKParmesanFontAttributes_tritiumWeight] = a1;
  *(double *)&v9[OBJC_IVAR___NTKParmesanFontAttributes_width] = a2;
  *(double *)float v10 = a3;
  v10[8] = 0;
  *(double *)id v11 = a4;
  v11[8] = 0;
  *(void *)double v12 = 0;
  v12[8] = 1;
  v15.receiver = v9;
  v15.uint64_t super_class = v8;
  id v13 = objc_msgSendSuper2(&v15, sel_init);
  swift_getObjectType();
  swift_deallocPartialClassInstance();
  return v13;
}

id sub_246BB0C04(uint64_t a1, uint64_t a2)
{
  sub_246C2C018();
  uint64_t v5 = v4;
  sub_246C2C018();
  uint64_t v7 = v6;
  sub_246C2C018();
  uint64_t v9 = v8;
  if (*(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_soft + 8)) {
    uint64_t v10 = *(void *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_soft);
  }
  else {
    uint64_t v10 = *(void *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_soft);
  }
  char v11 = *(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_soft + 8) & *(unsigned char *)(a2
                                                                                   + OBJC_IVAR___NTKParmesanFontAttributes_soft
                                                                                   + 8);
  if ((*(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_soft + 8) & 1) == 0
    && (*(unsigned char *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_soft + 8) & 1) == 0)
  {
    sub_246C2C018();
    char v11 = 0;
    uint64_t v10 = v12;
  }
  if (*(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_grad + 8)) {
    uint64_t v13 = *(void *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_grad);
  }
  else {
    uint64_t v13 = *(void *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_grad);
  }
  char v14 = *(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_grad + 8) & *(unsigned char *)(a2
                                                                                   + OBJC_IVAR___NTKParmesanFontAttributes_grad
                                                                                   + 8);
  if ((*(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_grad + 8) & 1) == 0
    && (*(unsigned char *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_grad + 8) & 1) == 0)
  {
    sub_246C2C018();
    char v14 = 0;
    uint64_t v13 = v15;
  }
  char v16 = *(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize + 8);
  if (v16) {
    uint64_t v17 = *(void *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize);
  }
  else {
    uint64_t v17 = *(void *)(a1 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize);
  }
  char v18 = v16 & *(unsigned char *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize + 8);
  if ((v16 & 1) == 0 && (*(unsigned char *)(a2 + OBJC_IVAR___NTKParmesanFontAttributes_opticalSize + 8) & 1) == 0)
  {
    sub_246C2C018();
    char v18 = 0;
    uint64_t v17 = v19;
  }
  uint64_t v20 = (objc_class *)type metadata accessor for ParmesanFontAttributes();
  objc_super v21 = (char *)objc_allocWithZone(v20);
  id v22 = &v21[OBJC_IVAR___NTKParmesanFontAttributes_soft];
  *(void *)id v22 = 0;
  v22[8] = 1;
  int64_t v23 = &v21[OBJC_IVAR___NTKParmesanFontAttributes_grad];
  *(void *)int64_t v23 = 0;
  void v23[8] = 1;
  id v24 = &v21[OBJC_IVAR___NTKParmesanFontAttributes_opticalSize];
  *(void *)id v24 = 0;
  v24[8] = 1;
  *(void *)&v21[OBJC_IVAR___NTKParmesanFontAttributes_activeWeight] = v5;
  *(void *)&v21[OBJC_IVAR___NTKParmesanFontAttributes_tritiumWeight] = v7;
  *(void *)&v21[OBJC_IVAR___NTKParmesanFontAttributes_width] = v9;
  *(void *)id v22 = v10;
  v22[8] = v11;
  *(void *)int64_t v23 = v13;
  void v23[8] = v14;
  *(void *)id v24 = v17;
  v24[8] = v18;
  v26.receiver = v21;
  v26.uint64_t super_class = v20;
  return objc_msgSendSuper2(&v26, sel_init);
}

id sub_246BB0E34()
{
  uint64_t v0 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
  uint64_t v1 = (char *)objc_allocWithZone(v0);
  *(void *)&v1[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v1[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
  v3.receiver = v1;
  v3.uint64_t super_class = v0;
  id result = objc_msgSendSuper2(&v3, sel_init);
  qword_2691E0068 = (uint64_t)result;
  return result;
}

void *sub_246BB1024@<X0>(void *result@<X0>, uint64_t a2@<X8>)
{
  BOOL v2 = *result != 1 && *result != 0;
  *(void *)a2 = *result == 1;
  *(unsigned char *)(a2 + 8) = v2;
  return result;
}

uint64_t sub_246BB1054()
{
  return sub_246C2CD08();
}

uint64_t sub_246BB10B4()
{
  return sub_246C2CCF8();
}

uint64_t sub_246BB1104(uint64_t a1)
{
  switch(a1)
  {
    case 0:
    case 1:
    case 2:
    case 3:
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      BOOL v2 = (void *)sub_246C2CC08();
      objc_super v3 = (void *)sub_246C2CC08();
      id v4 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v3);

      uint64_t v5 = sub_246C2CC48();
      return v5;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BB1328);
  }
}

uint64_t sub_246BB1338()
{
  return sub_246C2CD08();
}

uint64_t sub_246BB1398()
{
  return sub_246C2CCF8();
}

uint64_t sub_246BB13E8(char *a1, char *a2)
{
  return sub_246BBAFE8(*a1, *a2);
}

uint64_t sub_246BB13F4()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BB1478()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BB14E8()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BB1568@<X0>(char *a1@<X8>)
{
  uint64_t v2 = sub_246C2D428();
  uint64_t result = swift_bridgeObjectRelease();
  if (v2 == 1) {
    char v4 = 1;
  }
  else {
    char v4 = 2;
  }
  if (!v2) {
    char v4 = 0;
  }
  *a1 = v4;
  return result;
}

void sub_246BB15C8(uint64_t *a1@<X8>)
{
  uint64_t v2 = 0x6E656D6E67696C61;
  if (*v1) {
    uint64_t v2 = 0x656C616373;
  }
  unint64_t v3 = 0xE900000000000074;
  if (*v1) {
    unint64_t v3 = 0xE500000000000000;
  }
  *a1 = v2;
  a1[1] = v3;
}

uint64_t sub_246BB1608()
{
  if (*v0) {
    return 0x656C616373;
  }
  else {
    return 0x6E656D6E67696C61;
  }
}

uint64_t sub_246BB1644@<X0>(char *a1@<X8>)
{
  uint64_t v2 = sub_246C2D428();
  uint64_t result = swift_bridgeObjectRelease();
  if (v2 == 1) {
    char v4 = 1;
  }
  else {
    char v4 = 2;
  }
  if (!v2) {
    char v4 = 0;
  }
  *a1 = v4;
  return result;
}

uint64_t sub_246BB16A8()
{
  return 0;
}

void sub_246BB16B4(unsigned char *a1@<X8>)
{
  *a1 = 2;
}

uint64_t sub_246BB16C0(uint64_t a1)
{
  unint64_t v2 = sub_246BB297C();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BB16FC(uint64_t a1)
{
  unint64_t v2 = sub_246BB297C();

  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t sub_246BB1804()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  sub_246B80250(&qword_2691D72D0);
  if ((unint64_t)(v1 - 1) < 2) {
    return 1;
  }
  if (!v1) {
    return 2;
  }
  if (v1 == 3)
  {
    uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
    if (!v2) {
      return v2;
    }
    if (v2 == 1) {
      return 2;
    }
  }
  uint64_t result = sub_246C2D568();
  __break(1u);
  return result;
}

void sub_246BB1884()
{
  sub_246BB2CD4(*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment), *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale));
  id v1 = objc_msgSend(self, sel_currentDevice);
  if (v1)
  {
    uint64_t v2 = v1;
    objc_msgSend(v1, sel_screenBounds);
  }
  else
  {
    __break(1u);
  }
}

uint64_t sub_246BB19B0()
{
  switch(*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale))
  {
    case 0:
    case 1:
    case 2:
    case 3:
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      if (*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) > 1uLL) {
        goto LABEL_4;
      }
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      return 40;
    default:
LABEL_4:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BB1B28);
  }
}

uint64_t sub_246BB1B50()
{
  switch(*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale))
  {
    case 0:
    case 1:
    case 2:
    case 3:
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      if (*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) > 1uLL) {
        goto LABEL_4;
      }
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      return 0;
    default:
LABEL_4:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BB1CB4);
  }
}

id sub_246BB1D30(void *a1, uint64_t a2, void (*a3)(void))
{
  id v4 = a1;
  a3();

  uint64_t v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();

  return v5;
}

uint64_t sub_246BB1DA0()
{
  unint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  if (v1 >= 3)
  {
    if (v1 == 3 && *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) <= 1uLL) {
      goto LABEL_6;
    }
  }
  else if (*(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) <= 1uLL)
  {
LABEL_6:
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
    uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
    unint64_t v3 = (void *)sub_246C2CC08();
    id v4 = (void *)sub_246C2CC08();
    id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v3, v4);

    uint64_t v6 = sub_246C2CC48();
    return v6;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

id sub_246BB1FC8()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeLayout();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanTimeLayout()
{
  return self;
}

uint64_t sub_246BB2020(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D72D8);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v10 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BB297C();
  sub_246C2D708();
  uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
  HIBYTE(v10) = 0;
  sub_246BB36E4();
  sub_246C2D508();
  if (!v2)
  {
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
    HIBYTE(v10) = 1;
    sub_246BB3738();
    sub_246C2D508();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

id sub_246BB21C0(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D72A0);
  uint64_t v15 = *(void *)(v4 - 8);
  uint64_t v16 = v4;
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v14 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246B8F7E8(a1, a1[3]);
  sub_246BB297C();
  uint64_t v8 = v1;
  id v9 = v7;
  sub_246C2D6E8();
  if (v2)
  {

    sub_246B8EB94((uint64_t)a1);
    type metadata accessor for ParmesanTimeLayout();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v10 = v15;
    char v18 = 0;
    sub_246BB29D0();
    uint64_t v11 = v16;
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = v19;
    char v18 = 1;
    sub_246BB2A24();
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v19;

    uint64_t v13 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
    v17.receiver = v8;
    v17.uint64_t super_class = v13;
    id v9 = objc_msgSendSuper2(&v17, sel_init);
    (*(void (**)(char *, uint64_t))(v10 + 8))(v6, v11);
    sub_246B8EB94((uint64_t)a1);
  }
  return v9;
}

id sub_246BB2404@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanTimeLayout());
  id result = sub_246BB21C0(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BB2458(void *a1)
{
  return sub_246BB2020(a1);
}

BOOL sub_246BB247C(uint64_t a1)
{
  sub_246BB367C(a1, (uint64_t)v6);
  if (v7)
  {
    type metadata accessor for ParmesanTimeLayout();
    if (swift_dynamicCast())
    {
      if (*(void *)(v1 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) == *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_alignment])
      {
        uint64_t v2 = *(void *)(v1 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
        uint64_t v3 = *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_scale];

        return v2 == v3;
      }
    }
  }
  else
  {
    sub_246BAD92C((uint64_t)v6);
  }
  return 0;
}

void sub_246BB269C(void *a1@<X8>)
{
  *a1 = &unk_26FB1F128;
}

uint64_t sub_246BB26AC()
{
  if (!*v0) {
    return 0x676E696461656CLL;
  }
  if (*v0 == 1) {
    return 0x676E696C69617274;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

void sub_246BB2720(void *a1@<X8>)
{
  *a1 = &unk_26FB1F158;
}

uint64_t sub_246BB2730()
{
  uint64_t result = 0x6C6C616D7378;
  switch(*v0)
  {
    case 0:
      return result;
    case 1:
      uint64_t result = 0x6C6C616D73;
      break;
    case 2:
      uint64_t result = 0x6D756964656DLL;
      break;
    case 3:
      uint64_t result = 0x656772616CLL;
      break;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BB27D8);
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanTimeLayout.Scale()
{
  return &type metadata for ParmesanTimeLayout.Scale;
}

ValueMetadata *type metadata accessor for ParmesanTimeLayout.Alignment()
{
  return &type metadata for ParmesanTimeLayout.Alignment;
}

unint64_t sub_246BB2830()
{
  unint64_t result = qword_2691D7270;
  if (!qword_2691D7270)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7270);
  }
  return result;
}

unint64_t sub_246BB2888()
{
  unint64_t result = qword_2691D7278;
  if (!qword_2691D7278)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7278);
  }
  return result;
}

uint64_t sub_246BB28DC()
{
  return sub_246BB292C(&qword_2691D7280, &qword_2691D7288);
}

uint64_t sub_246BB2904()
{
  return sub_246BB292C(&qword_2691D7290, &qword_2691D7298);
}

uint64_t sub_246BB292C(unint64_t *a1, uint64_t *a2)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_246B8BEB0(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_246BB297C()
{
  unint64_t result = qword_2691D72A8;
  if (!qword_2691D72A8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72A8);
  }
  return result;
}

unint64_t sub_246BB29D0()
{
  unint64_t result = qword_2691D72B0;
  if (!qword_2691D72B0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72B0);
  }
  return result;
}

unint64_t sub_246BB2A24()
{
  unint64_t result = qword_2691D72B8;
  if (!qword_2691D72B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72B8);
  }
  return result;
}

uint64_t sub_246BB2A78()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
  unint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  if (v1 == 1)
  {
    if (v2 <= 3) {
      return qword_246C34828[v2];
    }
  }
  else if (!v1 && v2 < 4)
  {
    return qword_246C34808[v2];
  }
  return 0;
}

uint64_t sub_246BB2AD4(uint64_t a1, unint64_t a2)
{
  if (a1 == 1)
  {
    if (a2 <= 3) {
      return qword_246C34828[a2];
    }
  }
  else if (!a1 && a2 < 4)
  {
    return qword_246C34808[a2];
  }
  return 0;
}

double sub_246BB2B18()
{
  id v0 = objc_msgSend(self, sel_currentDevice);
  if (!v0)
  {
    __break(1u);
    JUMPOUT(0x246BB2CC4);
  }
  uint64_t v1 = v0;
  objc_msgSend(v0, sel_sizeClass);

  return 0.0;
}

double sub_246BB2CD4(unint64_t a1, unint64_t a2)
{
  uint64_t v4 = self;
  id v5 = objc_msgSend(v4, sel_currentDevice);
  if (!v5)
  {
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v6 = v5;
  objc_msgSend(v5, sel_screenScale);
  double v8 = v7;

  id v9 = objc_msgSend(v4, sel_currentDevice);
  if (!v9)
  {
LABEL_20:
    __break(1u);
    goto LABEL_21;
  }
  uint64_t v10 = v9;
  objc_msgSend(v9, sel_screenBounds);
  double v12 = v11;

  sub_246BB2AD4(a1, a2);
  PFCRectForTimePosition();
  double v14 = v13;
  id v15 = objc_msgSend(v4, sel_currentDevice);
  if (!v15)
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v16 = v15;
  double v17 = NTKParmesanFaceViewEdgeGapNormal(v15);

  sub_246B80250(&qword_2691D72D0);
  double v18 = round(v8 * (v12 * v14 + 0.0)) / v8;
  switch(a2)
  {
    case 0uLL:
      if (a1 == 1 || !a1) {
        goto LABEL_14;
      }
      goto LABEL_22;
    case 1uLL:
      if (!a1 || a1 == 1) {
        return v17 + sub_246BB2B18();
      }
      goto LABEL_22;
    case 2uLL:
      if (a1 >= 2) {
        goto LABEL_22;
      }
      return v17 + sub_246BB2B18();
    case 3uLL:
      if (a1 != 1)
      {
        if (!a1) {
          return v17 + sub_246BB2B18();
        }
LABEL_22:
        sub_246C2D568();
        __break(1u);
        JUMPOUT(0x246BB2F3CLL);
      }
LABEL_14:
      double v17 = v18;
      return v17 + sub_246BB2B18();
    default:
      goto LABEL_22;
  }
}

uint64_t sub_246BB2F4C()
{
  uint64_t v1 = MEMORY[0x263F8EE78];
  sub_246C2D2F8();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithInteger_, 0);
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithInteger_, 1);
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithInteger_, 2);
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithInteger_, 3);
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  return v1;
}

uint64_t sub_246BB30D4()
{
  uint64_t v22 = MEMORY[0x263F8EE78];
  uint64_t v0 = qword_26FB1F0B8;
  uint64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
  unint64_t v2 = (char *)objc_allocWithZone(v1);
  *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v0;
  v21.receiver = v2;
  v21.uint64_t super_class = v1;
  objc_msgSendSuper2(&v21, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  uint64_t v3 = (char *)objc_allocWithZone(v1);
  *(void *)&v3[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v3[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v0;
  v20.receiver = v3;
  v20.uint64_t super_class = v1;
  objc_msgSendSuper2(&v20, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  uint64_t v4 = qword_26FB1F0C0;
  id v5 = (char *)objc_allocWithZone(v1);
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v4;
  v19.receiver = v5;
  v19.uint64_t super_class = v1;
  objc_msgSendSuper2(&v19, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  uint64_t v6 = (char *)objc_allocWithZone(v1);
  *(void *)&v6[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v6[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v4;
  v18.receiver = v6;
  v18.uint64_t super_class = v1;
  objc_msgSendSuper2(&v18, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  uint64_t v7 = qword_26FB1F0C8;
  double v8 = (char *)objc_allocWithZone(v1);
  *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v7;
  v17.receiver = v8;
  v17.uint64_t super_class = v1;
  objc_msgSendSuper2(&v17, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  id v9 = (char *)objc_allocWithZone(v1);
  *(void *)&v9[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v9[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v7;
  v16.receiver = v9;
  v16.uint64_t super_class = v1;
  objc_msgSendSuper2(&v16, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  uint64_t v10 = qword_26FB1F0D0;
  double v11 = (char *)objc_allocWithZone(v1);
  *(void *)&v11[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
  *(void *)&v11[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v10;
  v15.receiver = v11;
  v15.uint64_t super_class = v1;
  objc_msgSendSuper2(&v15, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  double v12 = (char *)objc_allocWithZone(v1);
  *(void *)&v12[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v12[OBJC_IVAR___NTKParmesanTimeLayout_scale] = v10;
  v14.receiver = v12;
  v14.uint64_t super_class = v1;
  objc_msgSendSuper2(&v14, sel_init);
  MEMORY[0x24C543DC0]();
  if (*(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v22 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  return v22;
}

unint64_t sub_246BB34C4()
{
  unint64_t result = qword_2691D72C0;
  if (!qword_2691D72C0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72C0);
  }
  return result;
}

unint64_t sub_246BB3518()
{
  unint64_t result = qword_2691D72C8;
  if (!qword_2691D72C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72C8);
  }
  return result;
}

void sub_246BB356C(unint64_t a1, unint64_t a2)
{
  double v2 = sub_246BB2CD4(a1, a2);
  uint64_t v4 = v3;
  uint64_t v6 = v5;
  uint64_t v8 = v7;
  id v9 = self;
  id v10 = objc_msgSend(v9, sel_currentDevice);
  if (!v10)
  {
    __break(1u);
    goto LABEL_7;
  }
  double v11 = v10;
  objc_msgSend(v10, sel_screenScale);
  double v13 = v12;

  id v14 = objc_msgSend(v9, sel_currentDevice);
  if (!v14)
  {
LABEL_7:
    __break(1u);
    return;
  }
  objc_super v15 = v14;
  objc_msgSend(v14, sel_screenBounds);
  double v17 = v16;

  double v18 = round(v13 * v17 / 324.0 * -3.0) / v13;
  double v19 = v2;
  uint64_t v20 = v4;
  uint64_t v21 = v6;
  uint64_t v22 = v8;

  CGRectInset(*(CGRect *)&v19, v18, v18);
}

uint64_t sub_246BB367C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D69A0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

unint64_t sub_246BB36E4()
{
  unint64_t result = qword_2691D72E0;
  if (!qword_2691D72E0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72E0);
  }
  return result;
}

unint64_t sub_246BB3738()
{
  unint64_t result = qword_2691D72E8;
  if (!qword_2691D72E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72E8);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanTimeLayout.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BB3858);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanTimeLayout.CodingKeys()
{
  return &type metadata for ParmesanTimeLayout.CodingKeys;
}

unint64_t sub_246BB3894()
{
  unint64_t result = qword_2691D72F0;
  if (!qword_2691D72F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72F0);
  }
  return result;
}

unint64_t sub_246BB38EC()
{
  unint64_t result = qword_2691D72F8;
  if (!qword_2691D72F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D72F8);
  }
  return result;
}

unint64_t sub_246BB3944()
{
  unint64_t result = qword_2691D7300;
  if (!qword_2691D7300)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7300);
  }
  return result;
}

uint64_t sub_246BB3998()
{
  if (*v0) {
    return 6710863;
  }
  else {
    return 7229216;
  }
}

uint64_t sub_246BB3A24()
{
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  uint64_t result = (uint64_t)(id)NTKFaceDataModeDescription();
  if (result)
  {
    uint64_t v1 = (void *)result;
    sub_246C2CC48();

    sub_246BAADBC();
    sub_246C2D1E8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    return 40;
  }
  else
  {
    __break(1u);
  }
  return result;
}

BOOL sub_246BB3B34(uint64_t a1)
{
  sub_246BB367C(a1, (uint64_t)v5);
  if (v6)
  {
    type metadata accessor for NTKFaceState();
    if (swift_dynamicCast())
    {
      if (*(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_dataMode] == *(void *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_dataMode))
      {
        uint64_t v2 = *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_screenState];

        return v2 == *(void *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_screenState);
      }
    }
  }
  else
  {
    sub_246BAD92C((uint64_t)v5);
  }
  return 0;
}

id sub_246BB3C94()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for NTKFaceState();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for NTKFaceState()
{
  return self;
}

id sub_246BB3CEC(void *a1)
{
  id v1 = a1;
  id v2 = objc_msgSend(v1, sel_dataMode);
  uint64_t v3 = NTKIsScreenOn() ^ 1;
  unsigned int v4 = (objc_class *)type metadata accessor for NTKFaceState();
  uint64_t v5 = (char *)objc_allocWithZone(v4);
  *(void *)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_dataMode] = v2;
  *(void *)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_screenState] = v3;
  v8.receiver = v5;
  v8.uint64_t super_class = v4;
  id v6 = objc_msgSendSuper2(&v8, sel_init);

  return v6;
}

ValueMetadata *type metadata accessor for NTKFaceState.NTKScreenState()
{
  return &type metadata for NTKFaceState.NTKScreenState;
}

unint64_t sub_246BB3DA0()
{
  unint64_t result = qword_2691D7318;
  if (!qword_2691D7318)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7318);
  }
  return result;
}

uint64_t sub_246BB3DF4()
{
  swift_release();
  swift_release();
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanNoShufflesViewModel()
{
  return self;
}

ValueMetadata *type metadata accessor for ParmesanNoShufflesView()
{
  return &type metadata for ParmesanNoShufflesView;
}

uint64_t sub_246BB3E70()
{
  return swift_getOpaqueTypeConformance2();
}

uint64_t sub_246BB3E8C@<X0>(uint64_t a1@<X1>, uint64_t a2@<X8>)
{
  uint64_t v28 = a2;
  uint64_t v3 = sub_246C2C708();
  uint64_t v26 = *(void *)(v3 - 8);
  uint64_t v27 = v3;
  MEMORY[0x270FA5388](v3);
  uint64_t v5 = (char *)&v25 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_246B80250(&qword_2691D7330);
  uint64_t v6 = *(void *)(v25 - 8);
  MEMORY[0x270FA5388](v25);
  objc_super v8 = (char *)&v25 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_246B80250(&qword_2691D7338);
  uint64_t v10 = *(void *)(v9 - 8);
  uint64_t v11 = MEMORY[0x270FA5388](v9);
  double v13 = (char *)&v25 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = MEMORY[0x270FA5388](v11);
  double v16 = (char *)&v25 - v15;
  MEMORY[0x270FA5388](v14);
  double v18 = (char *)&v25 - v17;
  sub_246C2C4C8();
  uint64_t v29 = a1;
  uint64_t v30 = v19;
  uint64_t v31 = v20;
  sub_246C2C788();
  sub_246B80250(&qword_2691D7340);
  sub_246BB67D0();
  sub_246C2C468();
  sub_246C2C6F8();
  unsigned __int8 v21 = sub_246C2C788();
  sub_246C2C778();
  sub_246C2C778();
  if (sub_246C2C778() != v21) {
    sub_246C2C778();
  }
  sub_246B8EC94(&qword_2691D7370, &qword_2691D7330);
  uint64_t v22 = v25;
  sub_246C2C8C8();
  (*(void (**)(char *, uint64_t))(v26 + 8))(v5, v27);
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v22);
  int64_t v23 = *(void (**)(char *, char *, uint64_t))(v10 + 32);
  v23(v16, v13, v9);
  v23(v18, v16, v9);
  return ((uint64_t (*)(uint64_t, char *, uint64_t))v23)(v28, v18, v9);
}

uint64_t sub_246BB41E4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>, double a3@<D0>, double a4@<D1>)
{
  uint64_t v8 = sub_246B80250(&qword_2691D7368);
  MEMORY[0x270FA5388](v8 - 8);
  uint64_t v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246B80250(&qword_2691D7358);
  uint64_t v12 = v11 - 8;
  MEMORY[0x270FA5388](v11);
  uint64_t v14 = (char *)&v26 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)uint64_t v10 = sub_246C2C628();
  *((void *)v10 + 1) = 0;
  v10[16] = 0;
  uint64_t v15 = sub_246B80250(&qword_2691D7378);
  sub_246BB43C8(a1, &v10[*(int *)(v15 + 44)], 15.0);
  LOBYTE(a1) = sub_246C2C798();
  sub_246C2C458();
  uint64_t v17 = v16;
  uint64_t v19 = v18;
  uint64_t v21 = v20;
  uint64_t v23 = v22;
  sub_246BB75D0((uint64_t)v10, (uint64_t)v14, &qword_2691D7368);
  id v24 = &v14[*(int *)(v12 + 44)];
  char *v24 = a1;
  *((void *)v24 + 1) = v17;
  *((void *)v24 + 2) = v19;
  *((void *)v24 + 3) = v21;
  *((void *)v24 + 4) = v23;
  v24[40] = 0;
  sub_246B8EA34((uint64_t)v10, &qword_2691D7368);
  sub_246C2C9C8();
  sub_246BB5288(a3, 0, 0.0, 1, INFINITY, 0, a4, 0, a2, 0.0, 1, INFINITY, 0);
  return sub_246B8EA34((uint64_t)v14, &qword_2691D7358);
}

uint64_t sub_246BB43C8@<X0>(uint64_t a1@<X0>, void *a2@<X8>, double a3@<D0>)
{
  char v91 = a2;
  uint64_t v92 = sub_246B80250(&qword_2691D7380);
  uint64_t v88 = *(void *)(v92 - 8);
  MEMORY[0x270FA5388](v92);
  uint64_t v87 = (char *)&v76 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v89 = sub_246B80250(&qword_2691D7388) - 8;
  MEMORY[0x270FA5388](v89);
  uint64_t v7 = (char *)&v76 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v90 = sub_246B80250(&qword_2691D7390) - 8;
  uint64_t v8 = MEMORY[0x270FA5388](v90);
  uint64_t v77 = (uint64_t)&v76 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v96 = (uint64_t)&v76 - v10;
  uint64_t v11 = sub_246B80250(&qword_2691D7398);
  MEMORY[0x270FA5388](v11 - 8);
  uint64_t v13 = (double *)((char *)&v76 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v14 = sub_246B80250(&qword_2691D73A0);
  uint64_t v15 = v14 - 8;
  uint64_t v16 = MEMORY[0x270FA5388](v14);
  uint64_t v18 = (char *)&v76 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v16);
  uint64_t v20 = (char *)&v76 - v19;
  *(void *)uint64_t v13 = sub_246C2C628();
  v13[1] = a3;
  *((unsigned char *)v13 + 16) = 0;
  uint64_t v21 = sub_246B80250(&qword_2691D73A8);
  sub_246BB4A3C((uint64_t)v13 + *(int *)(v21 + 44));
  char v22 = sub_246C2C798();
  sub_246C2C458();
  uint64_t v24 = v23;
  uint64_t v26 = v25;
  uint64_t v28 = v27;
  uint64_t v30 = v29;
  sub_246BB75D0((uint64_t)v13, (uint64_t)v18, &qword_2691D7398);
  uint64_t v31 = &v18[*(int *)(v15 + 44)];
  *uint64_t v31 = v22;
  *((void *)v31 + 1) = v24;
  *((void *)v31 + 2) = v26;
  *((void *)v31 + 3) = v28;
  *((void *)v31 + 4) = v30;
  v31[40] = 0;
  sub_246B8EA34((uint64_t)v13, &qword_2691D7398);
  uint64_t v32 = (uint64_t)v20;
  uint64_t v76 = v20;
  sub_246B8ED74((uint64_t)v18, (uint64_t)v20, &qword_2691D73A0);
  uint64_t v86 = sub_246C2C628();
  sub_246BB4FB4(a1, &v108);
  double v84 = v109;
  uint64_t v85 = v108;
  uint64_t v82 = v111;
  uint64_t v83 = v110;
  uint64_t v80 = v113;
  double v81 = v112;
  double v94 = v115;
  uint64_t v95 = v114;
  int v93 = sub_246C2C7B8();
  sub_246C2C458();
  uint64_t v79 = v33;
  uint64_t v35 = v34;
  uint64_t v37 = v36;
  uint64_t v39 = v38;
  unsigned __int8 v98 = 0;
  unsigned __int8 v97 = 0;
  swift_retain();
  id v40 = v87;
  sub_246C2C998();
  uint64_t v41 = sub_246C2C8F8();
  uint64_t KeyPath = swift_getKeyPath();
  uint64_t v43 = v88;
  uint64_t v44 = v92;
  (*(void (**)(char *, char *, uint64_t))(v88 + 16))(v7, v40, v92);
  float v45 = (uint64_t *)&v7[*(int *)(v89 + 44)];
  *float v45 = KeyPath;
  v45[1] = v41;
  (*(void (**)(char *, uint64_t))(v43 + 8))(v40, v44);
  LOBYTE(v41) = sub_246C2C7B8();
  sub_246C2C458();
  uint64_t v47 = v46;
  uint64_t v49 = v48;
  uint64_t v51 = v50;
  uint64_t v53 = v52;
  uint64_t v54 = v77;
  sub_246BB75D0((uint64_t)v7, v77, &qword_2691D7388);
  uint64_t v55 = v54 + *(int *)(v90 + 44);
  *(unsigned char *)uint64_t v55 = v41;
  *(void *)(v55 + 8) = v47;
  *(void *)(v55 + 16) = v49;
  *(void *)(v55 + 24) = v51;
  *(void *)(v55 + 32) = v53;
  *(unsigned char *)(v55 + 40) = 0;
  sub_246B8EA34((uint64_t)v7, &qword_2691D7388);
  uint64_t v56 = v96;
  sub_246B8ED74(v54, v96, &qword_2691D7390);
  int v78 = v18;
  sub_246BB75D0(v32, (uint64_t)v18, &qword_2691D73A0);
  LOBYTE(KeyPath) = v98;
  LODWORD(v90) = v98;
  LODWORD(v92) = v97;
  sub_246BB75D0(v56, v54, &qword_2691D7390);
  uint64_t v57 = v91;
  *char v91 = 0;
  *((unsigned char *)v57 + 8) = 1;
  int v58 = (int *)sub_246B80250(&qword_2691D73B0);
  sub_246BB75D0((uint64_t)v18, (uint64_t)v57 + v58[12], &qword_2691D73A0);
  float v59 = (double *)((char *)v57 + v58[16]);
  *float v59 = a3;
  *((unsigned char *)v59 + 8) = 0;
  long long v60 = (char *)v57 + v58[20];
  float v61 = v57;
  uint64_t v63 = v85;
  uint64_t v62 = v86;
  *(void *)&long long v99 = v86;
  *((double *)&v99 + 1) = a3;
  LOBYTE(v100) = KeyPath;
  uint64_t v64 = v83;
  double v65 = v84;
  *((void *)&v100 + 1) = v85;
  *(double *)&long long v101 = v84;
  double v66 = v81;
  uint64_t v67 = v82;
  *((void *)&v101 + 1) = v83;
  *(void *)&long long v102 = v82;
  uint64_t v68 = v80;
  *((double *)&v102 + 1) = v81;
  *(void *)&long long v103 = v80;
  *((void *)&v103 + 1) = v95;
  *(double *)&long long v104 = v94;
  BYTE8(v104) = v93;
  uint64_t v69 = v79;
  *(void *)&long long v105 = v79;
  *((void *)&v105 + 1) = v35;
  *(void *)&long long v106 = v37;
  *((void *)&v106 + 1) = v39;
  char v107 = v92;
  v60[128] = v92;
  long long v70 = v99;
  long long v71 = v100;
  long long v72 = v102;
  *((_OWORD *)v60 + 2) = v101;
  *((_OWORD *)v60 + 3) = v72;
  *(_OWORD *)long long v60 = v70;
  *((_OWORD *)v60 + 1) = v71;
  long long v73 = v104;
  *((_OWORD *)v60 + 4) = v103;
  *((_OWORD *)v60 + 5) = v73;
  long long v74 = v106;
  *((_OWORD *)v60 + 6) = v105;
  *((_OWORD *)v60 + 7) = v74;
  sub_246BB75D0(v54, (uint64_t)v61 + v58[24], &qword_2691D7390);
  sub_246BB6988((uint64_t)&v99);
  sub_246B8EA34(v96, &qword_2691D7390);
  sub_246B8EA34((uint64_t)v76, &qword_2691D73A0);
  sub_246B8EA34(v54, &qword_2691D7390);
  uint64_t v108 = v62;
  double v109 = a3;
  LOBYTE(v110) = v90;
  uint64_t v111 = v63;
  double v112 = v65;
  uint64_t v113 = v64;
  uint64_t v114 = v67;
  double v115 = v66;
  uint64_t v116 = v68;
  uint64_t v117 = v95;
  double v118 = v94;
  char v119 = v93;
  uint64_t v120 = v69;
  uint64_t v121 = v35;
  uint64_t v122 = v37;
  uint64_t v123 = v39;
  char v124 = v92;
  sub_246BB69E0((uint64_t)&v108);
  return sub_246B8EA34((uint64_t)v78, &qword_2691D73A0);
}

uint64_t sub_246BB4A3C@<X0>(uint64_t a1@<X8>)
{
  uint64_t v81 = a1;
  uint64_t v1 = sub_246B80250(&qword_2691D73B8);
  MEMORY[0x270FA5388](v1 - 8);
  uint64_t v3 = (char *)&KeyPath - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246B80250(&qword_2691D73C0);
  uint64_t v5 = v4 - 8;
  uint64_t v6 = MEMORY[0x270FA5388](v4);
  uint64_t v8 = (char *)&KeyPath - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  uint64_t v10 = (char *)&KeyPath - v9;
  uint64_t v80 = (uint64_t)&KeyPath - v9;
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v12 = (void *)sub_246C2CC08();
  uint64_t v13 = (void *)sub_246C2CC08();
  id v14 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v12, v13);

  uint64_t v15 = sub_246C2CC48();
  uint64_t v17 = v16;

  uint64_t v18 = (void *)sub_246C2CC08();
  uint64_t v19 = sub_246C2CC08();
  id v20 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v18, v19);

  uint64_t v21 = sub_246C2CC48();
  uint64_t v78 = v22;
  uint64_t v79 = v21;

  *(void *)uint64_t v3 = sub_246C2C608();
  *((void *)v3 + 1) = 0x402E000000000000;
  v3[16] = 0;
  sub_246B80250(&qword_2691D73C8);
  sub_246BB563C();
  LOBYTE(v20) = sub_246C2C7B8();
  sub_246C2C458();
  uint64_t v24 = v23;
  uint64_t v26 = v25;
  uint64_t v28 = v27;
  uint64_t v30 = v29;
  sub_246BB75D0((uint64_t)v3, (uint64_t)v8, &qword_2691D73B8);
  uint64_t v31 = &v8[*(int *)(v5 + 44)];
  uint64_t v82 = v8;
  *uint64_t v31 = (char)v20;
  *((void *)v31 + 1) = v24;
  *((void *)v31 + 2) = v26;
  *((void *)v31 + 3) = v28;
  *((void *)v31 + 4) = v30;
  v31[40] = 0;
  sub_246B8EA34((uint64_t)v3, &qword_2691D73B8);
  sub_246B8ED74((uint64_t)v8, (uint64_t)v10, &qword_2691D73C0);
  uint64_t v83 = v15;
  uint64_t v84 = v17;
  sub_246BAADBC();
  uint64_t v32 = sub_246C2C848();
  uint64_t v34 = v33;
  LOBYTE(v3) = v35 & 1;
  sub_246C2C7E8();
  uint64_t v36 = sub_246C2C838();
  uint64_t v38 = v37;
  char v40 = v39;
  swift_release();
  sub_246BB6A78(v32, v34, (char)v3);
  swift_bridgeObjectRelease();
  sub_246C2C7F8();
  uint64_t v41 = sub_246C2C818();
  uint64_t v76 = v42;
  uint64_t v77 = v41;
  uint64_t v75 = v43;
  LOBYTE(v32) = v44 & 1;
  sub_246BB6A78(v36, v38, v40 & 1);
  swift_bridgeObjectRelease();
  uint64_t KeyPath = swift_getKeyPath();
  uint64_t v83 = v79;
  uint64_t v84 = v78;
  uint64_t v45 = sub_246C2C848();
  uint64_t v47 = v46;
  LOBYTE(v38) = v48 & 1;
  sub_246C2C7D8();
  uint64_t v49 = sub_246C2C838();
  uint64_t v51 = v50;
  LOBYTE(v5) = v52;
  swift_release();
  sub_246BB6A78(v45, v47, v38);
  swift_bridgeObjectRelease();
  sub_246C2C938();
  uint64_t v53 = sub_246C2C828();
  uint64_t v55 = v54;
  LOBYTE(v19) = v56;
  uint64_t v58 = v57;
  swift_release();
  LOBYTE(v19) = v19 & 1;
  sub_246BB6A78(v49, v51, v5 & 1);
  swift_bridgeObjectRelease();
  uint64_t v59 = swift_getKeyPath();
  uint64_t v60 = v80;
  uint64_t v61 = (uint64_t)v82;
  sub_246BB75D0(v80, (uint64_t)v82, &qword_2691D73C0);
  LOBYTE(v83) = v32;
  uint64_t v62 = v61;
  uint64_t v63 = v81;
  sub_246BB75D0(v62, v81, &qword_2691D73C0);
  uint64_t v64 = sub_246B80250(&qword_2691D73D0);
  uint64_t v65 = v63 + *(int *)(v64 + 48);
  uint64_t v67 = v76;
  uint64_t v66 = v77;
  uint64_t v68 = v75;
  *(void *)uint64_t v65 = v77;
  *(void *)(v65 + 8) = v68;
  char v69 = v32;
  *(unsigned char *)(v65 + 16) = v32;
  uint64_t v70 = KeyPath;
  *(void *)(v65 + 24) = v67;
  *(void *)(v65 + 32) = v70;
  *(unsigned char *)(v65 + 40) = 1;
  uint64_t v71 = v63 + *(int *)(v64 + 64);
  *(void *)uint64_t v71 = v53;
  *(void *)(v71 + 8) = v55;
  *(unsigned char *)(v71 + 16) = v19;
  *(void *)(v71 + 24) = v58;
  *(void *)(v71 + 32) = v59;
  *(_WORD *)(v71 + 40) = 1;
  *(unsigned char *)(v71 + 42) = 1;
  uint64_t v72 = v66;
  sub_246BB6B64(v66, v68, v69);
  swift_bridgeObjectRetain();
  swift_retain();
  sub_246BB6B64(v53, v55, v19);
  swift_bridgeObjectRetain();
  swift_retain();
  sub_246B8EA34(v60, &qword_2691D73C0);
  sub_246BB6A78(v53, v55, v19);
  swift_release();
  swift_bridgeObjectRelease();
  sub_246BB6A78(v72, v68, v83);
  swift_release();
  swift_bridgeObjectRelease();
  return sub_246B8EA34((uint64_t)v82, &qword_2691D73C0);
}

uint64_t sub_246BB4FB4@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v5 = (void *)sub_246C2CC08();
  uint64_t v6 = (void *)sub_246C2CC08();
  id v7 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v5, v6);

  uint64_t v8 = sub_246C2CC48();
  uint64_t v10 = v9;

  swift_retain();
  uint64_t v11 = (void *)sub_246C2CC08();
  uint64_t v12 = (void *)sub_246C2CC08();
  id v13 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v11, v12);

  uint64_t v14 = sub_246C2CC48();
  uint64_t v16 = v15;

  *a2 = v8;
  a2[1] = v10;
  a2[2] = (uint64_t)sub_246BB6A88;
  a2[3] = a1;
  a2[4] = v14;
  a2[5] = v16;
  a2[6] = (uint64_t)sub_246BB6ACC;
  a2[7] = a1;
  swift_retain();
  swift_bridgeObjectRetain();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BB5138@<X0>(uint64_t a1@<X8>)
{
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v3 = (void *)sub_246C2CC08();
  uint64_t v4 = (void *)sub_246C2CC08();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v3, v4);

  sub_246C2CC48();
  sub_246BAADBC();
  uint64_t v6 = sub_246C2C848();
  uint64_t v8 = v7;
  char v10 = v9 & 1;
  sub_246C2C808();
  uint64_t v11 = sub_246C2C838();
  uint64_t v13 = v12;
  char v15 = v14;
  uint64_t v17 = v16;
  swift_release();
  sub_246BB6A78(v6, v8, v10);
  uint64_t result = swift_bridgeObjectRelease();
  *(void *)a1 = v11;
  *(void *)(a1 + 8) = v13;
  *(unsigned char *)(a1 + 16) = v15 & 1;
  *(void *)(a1 + 24) = v17;
  return result;
}

__n128 sub_246BB5288@<Q0>(double a1@<X0>, char a2@<W1>, double a3@<X2>, char a4@<W3>, double a5@<X4>, char a6@<W5>, double a7@<X6>, char a8@<W7>, uint64_t a9@<X8>, double a10, char a11, double a12, char a13)
{
  if (a2) {
    a1 = -INFINITY;
  }
  if (a4) {
    a3 = a1;
  }
  if (a6) {
    a5 = a3;
  }
  if (a1 > a3 || a3 > a5) {
    goto LABEL_22;
  }
  if (a8) {
    a7 = -INFINITY;
  }
  if (a11) {
    a10 = a7;
  }
  if (a13) {
    a12 = a10;
  }
  if (a7 > a10 || a10 > a12)
  {
LABEL_22:
    sub_246C2CEF8();
    uint64_t v23 = (void *)sub_246C2C768();
    sub_246C2C058();
  }
  sub_246C2C508();
  sub_246BB75D0(v13, a9, &qword_2691D7358);
  uint64_t v24 = (_OWORD *)(a9 + *(int *)(sub_246B80250(&qword_2691D7340) + 36));
  v24[4] = v30;
  v24[5] = v31;
  v24[6] = v32;
  _OWORD *v24 = v26;
  v24[1] = v27;
  __n128 result = v29;
  v24[2] = v28;
  v24[3] = v29;
  return result;
}

uint64_t sub_246BB5448@<X0>(double a1@<X0>, char a2@<W1>, double a3@<X2>, char a4@<W3>, double a5@<X4>, char a6@<W5>, double a7@<X6>, char a8@<W7>, uint64_t a9@<X8>, double a10, char a11, double a12, char a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18, uint64_t a19)
{
  uint64_t v20 = a19;
  char v21 = a18;
  uint64_t v22 = a17;
  if (a2) {
    a1 = -INFINITY;
  }
  if (a4) {
    a3 = a1;
  }
  if (a6) {
    a5 = a3;
  }
  if (a1 > a3 || a3 > a5) {
    goto LABEL_22;
  }
  if (a8) {
    a7 = -INFINITY;
  }
  if (a11) {
    a10 = a7;
  }
  if (a13) {
    a12 = a10;
  }
  if (a7 > a10 || a10 > a12)
  {
LABEL_22:
    sub_246C2CEF8();
    long long v31 = (void *)sub_246C2C768();
    sub_246C2C058();

    char v21 = a18;
    uint64_t v20 = a19;
    uint64_t v22 = a17;
  }
  sub_246C2C508();
  *(void *)a9 = a16;
  *(void *)(a9 + 8) = v22;
  *(unsigned char *)(a9 + 16) = v21 & 1;
  *(void *)(a9 + 24) = v20;
  *(_OWORD *)(a9 + 96) = v37;
  *(_OWORD *)(a9 + 112) = v38;
  *(_OWORD *)(a9 + 128) = v39;
  *(_OWORD *)(a9 + 32) = v33;
  *(_OWORD *)(a9 + 48) = v34;
  *(_OWORD *)(a9 + 64) = v35;
  *(_OWORD *)(a9 + 80) = v36;
  sub_246BB6B64(a16, v22, v21 & 1);

  return swift_bridgeObjectRetain();
}

uint64_t sub_246BB563C()
{
  return sub_246C2C9B8();
}

uint64_t sub_246BB5720@<X0>(uint64_t a1@<X8>)
{
  uint64_t v59 = a1;
  uint64_t v1 = sub_246C2C958();
  uint64_t v68 = *(void *)(v1 - 8);
  uint64_t v69 = v1;
  MEMORY[0x270FA5388](v1);
  uint64_t v67 = (char *)&v54 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_246B80250(&qword_2691D7468);
  uint64_t v4 = MEMORY[0x270FA5388](v3);
  char v56 = (char *)&v54 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v54 - v6;
  uint64_t v8 = sub_246C2C4E8();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)&v54 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v10);
  char v14 = (char *)&v54 - v13;
  uint64_t v60 = sub_246B80250(&qword_2691D7418);
  uint64_t v15 = MEMORY[0x270FA5388](v60);
  uint64_t v57 = (char *)&v54 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v15);
  uint64_t v58 = (uint64_t)&v54 - v17;
  uint64_t v18 = sub_246B80250(&qword_2691D7470);
  uint64_t v62 = *(void *)(v18 - 8);
  uint64_t v63 = v18;
  MEMORY[0x270FA5388](v18);
  uint64_t v61 = (char *)&v54 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_246B80250(&qword_2691D7408);
  MEMORY[0x270FA5388](v20);
  uint64_t v65 = (char *)&v54 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v66 = sub_246B80250(&qword_2691D73F8);
  MEMORY[0x270FA5388](v66);
  uint64_t v64 = (uint64_t)&v54 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_bridgeObjectRetain();
  uint64_t v23 = sub_246C2C948();
  uint64_t v24 = sub_246C2C7C8();
  uint64_t KeyPath = swift_getKeyPath();
  uint64_t v70 = v23;
  uint64_t v71 = KeyPath;
  uint64_t v72 = v24;
  uint64_t v26 = v9;
  long long v27 = *(void (**)(char *, void, uint64_t))(v9 + 104);
  v27(v14, *MEMORY[0x263F18D28], v8);
  v27(v12, *MEMORY[0x263F18D10], v8);
  sub_246BB7454(&qword_2691D7478, MEMORY[0x263F18D80]);
  uint64_t v28 = v8;
  uint64_t result = sub_246C2CBE8();
  if (result)
  {
    uint64_t v54 = v3;
    uint64_t v55 = v20;
    long long v30 = &v7[*(int *)(v3 + 48)];
    long long v31 = *(void (**)(char *, char *, uint64_t))(v9 + 32);
    v31(v7, v14, v28);
    v31(v30, v12, v28);
    long long v32 = v56;
    long long v33 = &v56[*(int *)(v3 + 48)];
    long long v34 = *(void (**)(char *, char *, uint64_t))(v26 + 16);
    v34(v56, v7, v28);
    v34(v33, v30, v28);
    uint64_t v35 = (uint64_t)v57;
    v31(v57, v32, v28);
    long long v36 = *(void (**)(char *, uint64_t))(v26 + 8);
    v36(v33, v28);
    long long v37 = &v32[*(int *)(v54 + 48)];
    v31(v32, v7, v28);
    v31(v37, v30, v28);
    v31((char *)(v35 + *(int *)(v60 + 36)), v37, v28);
    v36(v32, v28);
    uint64_t v38 = v58;
    sub_246B8ED74(v35, v58, &qword_2691D7418);
    sub_246B80250(&qword_2691D7410);
    sub_246BB6DE4();
    sub_246B8EC94(&qword_2691D7438, &qword_2691D7418);
    long long v39 = v61;
    sub_246C2C8A8();
    sub_246B8EA34(v38, &qword_2691D7418);
    swift_release();
    swift_release();
    swift_release();
    uint64_t v41 = v67;
    uint64_t v40 = v68;
    uint64_t v42 = v69;
    (*(void (**)(char *, void, uint64_t))(v68 + 104))(v67, *MEMORY[0x263F1B530], v69);
    uint64_t v43 = swift_getKeyPath();
    uint64_t v44 = (uint64_t)v65;
    uint64_t v45 = (uint64_t *)&v65[*(int *)(v55 + 36)];
    uint64_t v46 = sub_246B80250(&qword_2691D7448);
    (*(void (**)(char *, char *, uint64_t))(v40 + 16))((char *)v45 + *(int *)(v46 + 28), v41, v42);
    *uint64_t v45 = v43;
    uint64_t v48 = v62;
    uint64_t v47 = v63;
    (*(void (**)(uint64_t, char *, uint64_t))(v62 + 16))(v44, v39, v63);
    (*(void (**)(char *, uint64_t))(v40 + 8))(v41, v42);
    (*(void (**)(char *, uint64_t))(v48 + 8))(v39, v47);
    id v49 = objc_msgSend(self, sel_systemGray2Color);
    uint64_t v50 = MEMORY[0x24C543990](v49);
    uint64_t v51 = swift_getKeyPath();
    uint64_t v52 = v64;
    sub_246BB75D0(v44, v64, &qword_2691D7408);
    uint64_t v53 = (uint64_t *)(v52 + *(int *)(v66 + 36));
    *uint64_t v53 = v51;
    v53[1] = v50;
    sub_246B8EA34(v44, &qword_2691D7408);
    sub_246BB6C20();
    sub_246C2C8B8();
    return sub_246B8EA34(v52, &qword_2691D73F8);
  }
  else
  {
    __break(1u);
  }
  return result;
}

uint64_t sub_246BB5EA4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  uint64_t v69 = a5;
  uint64_t v9 = sub_246C2C488();
  uint64_t v67 = *(void *)(v9 - 8);
  uint64_t v68 = v9;
  MEMORY[0x270FA5388](v9);
  uint64_t v66 = (char *)&v54 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246C2C758();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v64 = v11;
  uint64_t v65 = v12;
  MEMORY[0x270FA5388](v11);
  uint64_t v60 = (char *)&v54 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v58 = sub_246C2C528();
  uint64_t v14 = *(void *)(v58 - 8);
  MEMORY[0x270FA5388](v58);
  uint64_t v16 = (char *)&v54 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v56 = sub_246B80250(&qword_2691D7480);
  uint64_t v17 = *(void *)(v56 - 8);
  MEMORY[0x270FA5388](v56);
  uint64_t v19 = (char *)&v54 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v54 = sub_246B80250(&qword_2691D7488);
  MEMORY[0x270FA5388](v54);
  uint64_t v21 = (char *)&v54 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_246B80250(&qword_2691D7490);
  uint64_t v62 = *(void *)(v22 - 8);
  uint64_t v63 = v22;
  MEMORY[0x270FA5388](v22);
  uint64_t v55 = (char *)&v54 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = sub_246B80250(&qword_2691D7498);
  uint64_t v25 = v24 - 8;
  MEMORY[0x270FA5388](v24);
  uint64_t v57 = (char *)&v54 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v61 = sub_246B80250(&qword_2691D74A0) - 8;
  MEMORY[0x270FA5388](v61);
  uint64_t v59 = (uint64_t)&v54 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v70 = a1;
  uint64_t v71 = a2;
  uint64_t v72 = a3;
  uint64_t v73 = a4;
  swift_retain();
  sub_246B80250(&qword_2691D74A8);
  sub_246BB7218();
  sub_246C2C998();
  sub_246C2C518();
  uint64_t KeyPath = swift_getKeyPath();
  __n128 v29 = (uint64_t *)&v21[*(int *)(v54 + 36)];
  uint64_t v30 = sub_246B80250(&qword_2691D74C8);
  uint64_t v31 = v58;
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))((char *)v29 + *(int *)(v30 + 28), v16, v58);
  uint64_t *v29 = KeyPath;
  uint64_t v32 = v56;
  (*(void (**)(char *, char *, uint64_t))(v17 + 16))(v21, v19, v56);
  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v31);
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v32);
  long long v33 = v60;
  sub_246C2C748();
  sub_246BB7390();
  sub_246BB7454(&qword_2691D74E8, MEMORY[0x263F1A3B8]);
  long long v34 = v55;
  uint64_t v35 = v64;
  sub_246C2C878();
  (*(void (**)(char *, uint64_t))(v65 + 8))(v33, v35);
  sub_246B8EA34((uint64_t)v21, &qword_2691D7488);
  long long v37 = v66;
  uint64_t v36 = v67;
  uint64_t v38 = v68;
  (*(void (**)(char *, void, uint64_t))(v67 + 104))(v66, *MEMORY[0x263F18558], v68);
  uint64_t v39 = swift_getKeyPath();
  uint64_t v40 = (uint64_t)v57;
  uint64_t v41 = (uint64_t *)&v57[*(int *)(v25 + 44)];
  uint64_t v42 = sub_246B80250(&qword_2691D74F0);
  (*(void (**)(char *, char *, uint64_t))(v36 + 16))((char *)v41 + *(int *)(v42 + 28), v37, v38);
  *uint64_t v41 = v39;
  uint64_t v44 = v62;
  uint64_t v43 = v63;
  (*(void (**)(uint64_t, char *, uint64_t))(v62 + 16))(v40, v34, v63);
  (*(void (**)(char *, uint64_t))(v36 + 8))(v37, v38);
  (*(void (**)(char *, uint64_t))(v44 + 8))(v34, v43);
  uint64_t v45 = sub_246C2C918();
  uint64_t v46 = swift_getKeyPath();
  uint64_t v47 = v59;
  sub_246BB75D0(v40, v59, &qword_2691D7498);
  uint64_t v48 = (uint64_t *)(v47 + *(int *)(v61 + 44));
  *uint64_t v48 = v46;
  v48[1] = v45;
  sub_246B8EA34(v40, &qword_2691D7498);
  uint64_t v49 = sub_246C2C8F8();
  uint64_t v50 = swift_getKeyPath();
  uint64_t v51 = v69;
  sub_246BB75D0(v47, v69, &qword_2691D74A0);
  uint64_t v52 = (uint64_t *)(v51 + *(int *)(sub_246B80250(&qword_2691D74F8) + 36));
  uint64_t *v52 = v50;
  v52[1] = v49;
  return sub_246B8EA34(v47, &qword_2691D74A0);
}

__n128 sub_246BB6584@<Q0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  *(void *)&long long v20 = a1;
  *((void *)&v20 + 1) = a2;
  sub_246BAADBC();
  swift_bridgeObjectRetain();
  uint64_t v4 = sub_246C2C848();
  uint64_t v6 = v5;
  uint64_t v8 = v7;
  char v10 = v9 & 1;
  uint64_t v11 = sub_246C2C9C8();
  sub_246BB5448(0.0, 1, 0.0, 1, INFINITY, 0, 0.0, 1, (uint64_t)v19, 0.0, 1, 0.0, 1, v11, v12, v4, v6, v10, v8);
  sub_246BB6A78(v4, v6, v10);
  swift_bridgeObjectRelease();
  long long v26 = v19[6];
  long long v27 = v19[7];
  long long v28 = v19[8];
  long long v22 = v19[2];
  long long v23 = v19[3];
  long long v24 = v19[4];
  long long v25 = v19[5];
  long long v20 = v19[0];
  __n128 v21 = (__n128)v19[1];
  uint64_t v13 = sub_246C2C808();
  uint64_t KeyPath = swift_getKeyPath();
  long long v15 = v27;
  *(_OWORD *)(a3 + 96) = v26;
  *(_OWORD *)(a3 + 112) = v15;
  *(_OWORD *)(a3 + 128) = v28;
  long long v16 = v23;
  *(_OWORD *)(a3 + 32) = v22;
  *(_OWORD *)(a3 + 48) = v16;
  long long v17 = v25;
  *(_OWORD *)(a3 + 64) = v24;
  *(_OWORD *)(a3 + 80) = v17;
  __n128 result = v21;
  *(_OWORD *)a3 = v20;
  *(__n128 *)(a3 + 16) = result;
  *(void *)(a3 + 144) = KeyPath;
  *(void *)(a3 + 152) = v13;
  return result;
}

uint64_t sub_246BB66DC()
{
  return sub_246C2C898();
}

uint64_t sub_246BB66F8@<X0>(uint64_t a1@<X8>)
{
  return sub_246BB5EA4(*v1, v1[1], v1[2], v1[3], a1);
}

uint64_t sub_246BB6704()
{
  return swift_release();
}

uint64_t sub_246BB67BC@<X0>(uint64_t a1@<X8>)
{
  return sub_246BB3E8C(v1, a1);
}

uint64_t sub_246BB67C4@<X0>(uint64_t a1@<X8>)
{
  return sub_246BB41E4(*(void *)(v1 + 16), a1, *(double *)(v1 + 24), *(double *)(v1 + 32));
}

unint64_t sub_246BB67D0()
{
  unint64_t result = qword_2691D7348;
  if (!qword_2691D7348)
  {
    sub_246B8BEB0(&qword_2691D7340);
    sub_246BB684C();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7348);
  }
  return result;
}

unint64_t sub_246BB684C()
{
  unint64_t result = qword_2691D7350;
  if (!qword_2691D7350)
  {
    sub_246B8BEB0(&qword_2691D7358);
    sub_246B8EC94(&qword_2691D7360, &qword_2691D7368);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7350);
  }
  return result;
}

uint64_t sub_246BB68EC()
{
  uint64_t v1 = *(void (**)(uint64_t))(v0 + 48);
  uint64_t v2 = swift_retain();
  v1(v2);

  return swift_release();
}

uint64_t sub_246BB6930@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = sub_246C2C5C8();
  *a1 = result;
  return result;
}

uint64_t sub_246BB695C()
{
  return sub_246C2C5D8();
}

uint64_t sub_246BB6988(uint64_t a1)
{
  return a1;
}

uint64_t sub_246BB69E0(uint64_t a1)
{
  return a1;
}

unint64_t sub_246BB6A38()
{
  unint64_t result = qword_2691D6DC0;
  if (!qword_2691D6DC0)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6DC0);
  }
  return result;
}

uint64_t sub_246BB6A78(uint64_t a1, uint64_t a2, char a3)
{
  if (a3) {
    return swift_release();
  }
  else {
    return swift_bridgeObjectRelease();
  }
}

uint64_t sub_246BB6A88()
{
  uint64_t v1 = *(void (**)(uint64_t))(v0 + 16);
  uint64_t v2 = swift_retain();
  v1(v2);

  return swift_release();
}

uint64_t sub_246BB6ACC()
{
  uint64_t v1 = *(void (**)(uint64_t))(v0 + 32);
  uint64_t v2 = swift_retain();
  v1(v2);

  return swift_release();
}

uint64_t sub_246BB6B10@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246C2C588();
  *a1 = result;
  return result;
}

uint64_t sub_246BB6B3C()
{
  return sub_246C2C598();
}

uint64_t sub_246BB6B64(uint64_t a1, uint64_t a2, char a3)
{
  if (a3) {
    return swift_retain();
  }
  else {
    return swift_bridgeObjectRetain();
  }
}

unint64_t sub_246BB6B74()
{
  unint64_t result = qword_2691D73E8;
  if (!qword_2691D73E8)
  {
    sub_246B8BEB0(&qword_2691D73D8);
    sub_246BB6C20();
    sub_246BB7454(&qword_2691D7460, MEMORY[0x263F1A470]);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D73E8);
  }
  return result;
}

unint64_t sub_246BB6C20()
{
  unint64_t result = qword_2691D73F0;
  if (!qword_2691D73F0)
  {
    sub_246B8BEB0(&qword_2691D73F8);
    sub_246BB6CC0();
    sub_246B8EC94(&qword_2691D7450, &qword_2691D7458);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D73F0);
  }
  return result;
}

unint64_t sub_246BB6CC0()
{
  unint64_t result = qword_2691D7400;
  if (!qword_2691D7400)
  {
    sub_246B8BEB0(&qword_2691D7408);
    sub_246B8BEB0(&qword_2691D7410);
    sub_246B8BEB0(&qword_2691D7418);
    sub_246BB6DE4();
    sub_246B8EC94(&qword_2691D7438, &qword_2691D7418);
    swift_getOpaqueTypeConformance2();
    sub_246B8EC94(&qword_2691D7440, &qword_2691D7448);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7400);
  }
  return result;
}

unint64_t sub_246BB6DE4()
{
  unint64_t result = qword_2691D7420;
  if (!qword_2691D7420)
  {
    sub_246B8BEB0(&qword_2691D7410);
    sub_246B8EC94(&qword_2691D7428, &qword_2691D7430);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7420);
  }
  return result;
}

uint64_t sub_246BB6E84@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = sub_246C2C5A8();
  *a1 = result;
  return result;
}

uint64_t sub_246BB6EB0()
{
  return sub_246C2C5B8();
}

uint64_t sub_246BB6EDC()
{
  return sub_246C2C538();
}

uint64_t sub_246BB6F00(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_246BB74C0(a1, a2, a3, a4, MEMORY[0x263F1B548], MEMORY[0x263F191D8]);
}

uint64_t sub_246BB6F40@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = sub_246C2C558();
  *a1 = result;
  return result;
}

uint64_t sub_246BB6F6C()
{
  return sub_246C2C568();
}

uint64_t destroy for ParmesanNoShufflesView.FallbackButton()
{
  swift_bridgeObjectRelease();

  return swift_release();
}

uint64_t initializeWithCopy for ParmesanNoShufflesView.FallbackButton(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  uint64_t v3 = *(void *)(a2 + 24);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(void *)(a1 + 24) = v3;
  swift_bridgeObjectRetain();
  swift_retain();
  return a1;
}

void *assignWithCopy for ParmesanNoShufflesView.FallbackButton(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v4 = a2[3];
  a1[2] = a2[2];
  a1[3] = v4;
  swift_retain();
  swift_release();
  return a1;
}

uint64_t assignWithTake for ParmesanNoShufflesView.FallbackButton(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  uint64_t v4 = *(void *)(a2 + 24);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(void *)(a1 + 24) = v4;
  swift_release();
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanNoShufflesView.FallbackButton(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 32)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanNoShufflesView.FallbackButton(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 16) = 0;
    *(void *)(result + 24) = 0;
    *(void *)uint64_t result = a2 ^ 0x80000000;
    *(void *)(result + 8) = 0;
    if (a3 < 0) {
      *(unsigned char *)(result + 32) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 32) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanNoShufflesView.FallbackButton()
{
  return &type metadata for ParmesanNoShufflesView.FallbackButton;
}

uint64_t sub_246BB7170()
{
  return swift_getOpaqueTypeConformance2();
}

uint64_t sub_246BB71F0()
{
  return swift_getOpaqueTypeConformance2();
}

double sub_246BB720C@<D0>(uint64_t a1@<X8>)
{
  *(void *)&double result = sub_246BB6584(*(void *)(v1 + 16), *(void *)(v1 + 24), a1).n128_u64[0];
  return result;
}

unint64_t sub_246BB7218()
{
  unint64_t result = qword_2691D74B0;
  if (!qword_2691D74B0)
  {
    sub_246B8BEB0(&qword_2691D74A8);
    sub_246BB72B8();
    sub_246B8EC94(&qword_2691D7428, &qword_2691D7430);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D74B0);
  }
  return result;
}

unint64_t sub_246BB72B8()
{
  unint64_t result = qword_2691D74B8;
  if (!qword_2691D74B8)
  {
    sub_246B8BEB0(&qword_2691D74C0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D74B8);
  }
  return result;
}

uint64_t sub_246BB732C()
{
  return sub_246C2C578();
}

uint64_t sub_246BB7350(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_246BB74C0(a1, a2, a3, a4, MEMORY[0x263F19168], MEMORY[0x263F193E0]);
}

unint64_t sub_246BB7390()
{
  unint64_t result = qword_2691D74D0;
  if (!qword_2691D74D0)
  {
    sub_246B8BEB0(&qword_2691D7488);
    sub_246B8EC94(&qword_2691D74D8, &qword_2691D7480);
    sub_246B8EC94(&qword_2691D74E0, &qword_2691D74C8);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D74D0);
  }
  return result;
}

uint64_t sub_246BB7454(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246BB749C()
{
  return sub_246C2C548();
}

uint64_t sub_246BB74C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void (*a5)(void), uint64_t (*a6)(char *))
{
  a5(0);
  MEMORY[0x270FA5388]();
  char v9 = (char *)&v12 - v8;
  (*(void (**)(char *, uint64_t))(v10 + 16))((char *)&v12 - v8, a1);
  return a6(v9);
}

uint64_t sub_246BB7590(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_246BB74C0(a1, a2, a3, a4, MEMORY[0x263F18570], MEMORY[0x263F19248]);
}

uint64_t sub_246BB75D0(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v5 = sub_246B80250(a3);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(a2, a1, v5);
  return a2;
}

unint64_t sub_246BB7638()
{
  unint64_t result = qword_2691D7500;
  if (!qword_2691D7500)
  {
    sub_246B8BEB0(&qword_2691D74F8);
    sub_246BB76D8();
    sub_246B8EC94(&qword_2691D7450, &qword_2691D7458);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7500);
  }
  return result;
}

unint64_t sub_246BB76D8()
{
  unint64_t result = qword_2691D7508;
  if (!qword_2691D7508)
  {
    sub_246B8BEB0(&qword_2691D74A0);
    sub_246BB7778();
    sub_246B8EC94(&qword_2691D7450, &qword_2691D7458);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7508);
  }
  return result;
}

unint64_t sub_246BB7778()
{
  unint64_t result = qword_2691D7510;
  if (!qword_2691D7510)
  {
    sub_246B8BEB0(&qword_2691D7498);
    sub_246B8BEB0(&qword_2691D7488);
    sub_246C2C758();
    sub_246BB7390();
    sub_246BB7454(&qword_2691D74E8, MEMORY[0x263F1A3B8]);
    swift_getOpaqueTypeConformance2();
    sub_246B8EC94(&qword_2691D7518, &qword_2691D74F0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7510);
  }
  return result;
}

uint64_t sub_246BB78A0(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246BB78B4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 16))();
}

uint64_t sub_246BB78C8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 24))();
}

uint64_t sub_246BB78DC(void *a1, double a2, double a3, double a4, double a5)
{
  id v7 = objc_msgSend(objc_allocWithZone(v5), sel_initWithFrame_, a2, a3, a4, a5);
  uint64_t v8 = (void *)MEMORY[0x263F8EED0];
  char v9 = *(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *a1) + 0xA8);
  uint64_t v10 = (char *)v7;
  uint64_t v11 = v9();
  if (!v11)
  {

    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v25 = sub_246C2C088();
    sub_246B8BE0C(v25, (uint64_t)qword_2691E00F0);
    long long v26 = a1;
    long long v27 = sub_246C2C068();
    os_log_type_t v28 = sub_246C2CEE8();
    if (os_log_type_enabled(v27, v28))
    {
      __n128 v29 = (uint8_t *)swift_slowAlloc();
      uint64_t v30 = (void *)swift_slowAlloc();
      *(_DWORD *)__n128 v29 = 138412290;
      long long v26 = v26;
      sub_246C2D1C8();
      *uint64_t v30 = a1;

      _os_log_impl(&dword_246B51000, v27, v28, "Found nil layoutMask when setting up foreground view for composition: %@", v29, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v30, -1, -1);
      MEMORY[0x24C545990](v29, -1, -1);
    }
    else
    {
    }
    return (uint64_t)v10;
  }
  uint64_t v12 = (char *)v11;
  uint64_t v13 = sub_246BCD660();
  if (!v13)
  {

    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v31 = sub_246C2C088();
    sub_246B8BE0C(v31, (uint64_t)qword_2691E00F0);
    uint64_t v32 = a1;
    long long v33 = sub_246C2C068();
    os_log_type_t v34 = sub_246C2CEE8();
    if (os_log_type_enabled(v33, v34))
    {
      uint64_t v35 = (uint8_t *)swift_slowAlloc();
      uint64_t v41 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v35 = 138412290;
      uint64_t v32 = v32;
      sub_246C2D1C8();
      *uint64_t v41 = a1;

      _os_log_impl(&dword_246B51000, v33, v34, "found nil layoutCompositeImage when setting up foreground view for composition: %@", v35, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v41, -1, -1);
      MEMORY[0x24C545990](v35, -1, -1);
    }
    else
    {
    }
    return (uint64_t)v10;
  }
  uint64_t v14 = (void *)v13;
  uint64_t v15 = *(void *)&v12[OBJC_IVAR___NTKParmesanAssetMask_style];
  if (!v15)
  {
    uint64_t v16 = (*(uint64_t (**)(void))((*v8 & *a1) + 0x140))();
    long long v17 = *(void **)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_monochromeColorMatrix];
    *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_monochromeColorMatrix] = v16;

    id v18 = objc_msgSend(v10, sel_layer);
    id v19 = objc_msgSend(v14, sel_CGImage);
    objc_msgSend(v18, sel_setContents_, v19);

    objc_msgSend(v10, sel_setContentMode_, 2);
    id v20 = sub_246BCD8A0();
    if (v20)
    {
      __n128 v21 = v20;
      id v22 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F157E8]), sel_init);
      objc_msgSend(v10, sel_bounds);
      objc_msgSend(v22, sel_setFrame_);
      id v23 = objc_msgSend(v21, sel_CGImage);
      objc_msgSend(v22, sel_setContents_, v23);

      long long v24 = *(void **)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_maskingLayer];
      *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_maskingLayer] = v22;

      return (uint64_t)v10;
    }

LABEL_21:
    return (uint64_t)v10;
  }
  if (v15 == 1)
  {
    uint64_t v36 = (*(uint64_t (**)(void))((*v8 & *a1) + 0x140))();
    long long v37 = *(void **)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_monochromeColorMatrix];
    *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_monochromeColorMatrix] = v36;

    id v38 = objc_msgSend(v10, sel_layer);
    id v39 = objc_msgSend(v14, sel_CGImage);
    objc_msgSend(v38, sel_setContents_, v39);

    goto LABEL_21;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

id sub_246BB8028(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_monochromeColorMatrix;
  uint64_t v4 = v1;
  *(void *)&v1[v3] = (id)NTKDefaultMonochromeColorMatrix();
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_maskingLayer] = 0;
  v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_useMaskingLayer] = 0;

  v7.receiver = v4;
  v7.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryMaskableContentView();
  id v5 = objc_msgSendSuper2(&v7, sel_initWithCoder_, a1);

  return v5;
}

id sub_246BB80E4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryMaskableContentView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryMaskableContentView()
{
  return self;
}

char *sub_246BB8188(void *a1, void *a2, double a3, double a4, double a5, double a6)
{
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_composition] = 0;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView] = 0;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_device] = a2;
  v22.receiver = v6;
  v22.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryLivePhotoContentView();
  id v13 = a2;
  uint64_t v14 = (char *)objc_msgSendSuper2(&v22, sel_initWithFrame_, a3, a4, a5, a6);
  objc_msgSend(v14, sel_setClipsToBounds_, 1, v22.receiver, v22.super_class);
  objc_msgSend(v14, sel_bounds);
  id v19 = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFD1E0]), sel_initWithFrame_forDevice_, *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_device], v15, v16, v17, v18);
  objc_msgSend(v19, sel_setDelegate_, v14);
  objc_msgSend(v14, sel_addSubview_, v19);
  id v20 = *(void **)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView];
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView] = v19;

  sub_246BB83F4(a1);
  return v14;
}

void sub_246BB83F4(void *a1)
{
  uint64_t v3 = sub_246C2BB98();
  uint64_t v149 = *(void *)(v3 - 8);
  uint64_t v4 = MEMORY[0x270FA5388](v3);
  uint64_t v145 = &v136[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  MEMORY[0x270FA5388](v4);
  id v147 = &v136[-v6];
  uint64_t v7 = sub_246B80250(&qword_2691D75C0);
  MEMORY[0x270FA5388](v7);
  char v9 = &v136[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v10 = sub_246B80250(&qword_2691D7038);
  uint64_t v11 = MEMORY[0x270FA5388](v10 - 8);
  id v148 = &v136[-((v12 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v13 = MEMORY[0x270FA5388](v11);
  uint64_t v150 = &v136[-v14];
  uint64_t v15 = MEMORY[0x270FA5388](v13);
  double v17 = &v136[-v16];
  MEMORY[0x270FA5388](v15);
  id v19 = &v136[-v18];
  uint64_t v20 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_composition;
  id v151 = v1;
  __n128 v21 = *(void **)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_composition];
  if (v21)
  {
    type metadata accessor for ParmesanAssetComposition();
    id v22 = a1;
    id v23 = v21;
    char v24 = sub_246C2D108();

    if (v24)
    {
      if (qword_2691D62E0 != -1) {
        swift_once();
      }
      uint64_t v25 = sub_246C2C088();
      sub_246B8BE0C(v25, (uint64_t)qword_2691E00F0);
      id v151 = (char *)v22;
      long long v26 = sub_246C2C068();
      os_log_type_t v27 = sub_246C2CF08();
      if (os_log_type_enabled(v26, v27))
      {
        os_log_type_t v28 = (uint8_t *)swift_slowAlloc();
        __n128 v29 = (void *)swift_slowAlloc();
        *(_DWORD *)os_log_type_t v28 = 138412290;
        uint64_t v153 = v151;
        uint64_t v30 = v151;
        sub_246C2D1C8();
        void *v29 = v151;

        uint64_t v31 = "Requested to load same asset composition; skipping (%@";
LABEL_21:
        _os_log_impl(&dword_246B51000, v26, v27, v31, v28, 0xCu);
        sub_246B80250(&qword_2691D6FF0);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v29, -1, -1);
        MEMORY[0x24C545990](v28, -1, -1);

        return;
      }
LABEL_22:

      id v53 = v151;

      return;
    }
  }
  id v32 = sub_246BD5DCC();
  if (!v32)
  {
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v51 = sub_246C2C088();
    sub_246B8BE0C(v51, (uint64_t)qword_2691E00F0);
    id v151 = a1;
    long long v26 = sub_246C2C068();
    os_log_type_t v27 = sub_246C2CF08();
    if (os_log_type_enabled(v26, v27))
    {
      os_log_type_t v28 = (uint8_t *)swift_slowAlloc();
      __n128 v29 = (void *)swift_slowAlloc();
      *(_DWORD *)os_log_type_t v28 = 138412290;
      uint64_t v153 = v151;
      uint64_t v52 = v151;
      sub_246C2D1C8();
      void *v29 = v151;

      uint64_t v31 = "No image found on composition (%@";
      goto LABEL_21;
    }
    goto LABEL_22;
  }
  id v144 = v32;
  long long v33 = v151;
  os_log_type_t v34 = *(void **)&v151[v20];
  *(void *)&v151[v20] = a1;
  uint64_t v35 = a1;

  uint64_t v143 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView;
  uint64_t v36 = *(void **)&v33[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView];
  unint64_t v141 = a1;
  uint64_t v146 = v35;
  if (!v36) {
    goto LABEL_14;
  }
  id v37 = objc_msgSend(v36, sel_mediaAsset);
  id v38 = objc_msgSend(v37, sel_image);

  if (v38)
  {
    sub_246B8F1E0(0, &qword_2691D7218);
    id v39 = v144;
    id v40 = v38;
    char v41 = sub_246C2D108();

    if (v41) {
      goto LABEL_37;
    }
  }
  uint64_t v42 = *(void **)&v151[v143];
  uint64_t v35 = v146;
  if (v42
    && (id v43 = objc_msgSend(v42, sel_mediaAsset),
        id v44 = objc_msgSend(v43, sel_video),
        v43,
        v44))
  {
    id v45 = objc_msgSend(v44, sel_url);

    sub_246C2BB28();
    uint64_t v46 = v149;
    uint64_t v47 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v149 + 56);
    v47((uint64_t)v19, 0, 1, v3);
  }
  else
  {
LABEL_14:
    uint64_t v46 = v149;
    uint64_t v47 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v149 + 56);
    v47((uint64_t)v19, 1, 1, v3);
  }
  uint64_t v48 = (uint64_t)v150;
  uint64_t v142 = *(void *)&v35[OBJC_IVAR___NTKParmesanAssetComposition_asset];
  uint64_t v140 = OBJC_IVAR___NTKParmesanAsset_videoInfo;
  uint64_t v49 = *(void *)(v142 + OBJC_IVAR___NTKParmesanAsset_videoInfo);
  if (v49)
  {
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v46 + 16))(v17, v49 + OBJC_IVAR___NTKParmesanAssetVideoInfo_videoURL, v3);
    uint64_t v50 = 0;
  }
  else
  {
    uint64_t v50 = 1;
  }
  id v139 = v47;
  v47((uint64_t)v17, v50, 1, v3);
  uint64_t v54 = (uint64_t)&v9[*(int *)(v7 + 48)];
  sub_246BAB004((uint64_t)v19, (uint64_t)v9);
  sub_246BAB004((uint64_t)v17, v54);
  uint64_t v55 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v46 + 48);
  if (v55((uint64_t)v9, 1, v3) == 1)
  {
    sub_246B8EA34((uint64_t)v17, &qword_2691D7038);
    sub_246B8EA34((uint64_t)v19, &qword_2691D7038);
    if (v55(v54, 1, v3) == 1)
    {
      sub_246B8EA34((uint64_t)v9, &qword_2691D7038);
      goto LABEL_37;
    }
    goto LABEL_31;
  }
  sub_246BAB004((uint64_t)v9, v48);
  if (v55(v54, 1, v3) == 1)
  {
    sub_246B8EA34((uint64_t)v17, &qword_2691D7038);
    sub_246B8EA34((uint64_t)v19, &qword_2691D7038);
    (*(void (**)(uint64_t, uint64_t))(v46 + 8))(v48, v3);
LABEL_31:
    uint64_t v138 = v46 + 56;
    sub_246B8EA34((uint64_t)v9, &qword_2691D75C0);
    goto LABEL_32;
  }
  uint64_t v138 = v46 + 56;
  uint64_t v78 = v147;
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v46 + 32))(v147, v54, v3);
  sub_246BB96A0();
  int v137 = sub_246C2CBF8();
  uint64_t v79 = *(void (**)(unsigned char *, uint64_t))(v46 + 8);
  v79(v78, v3);
  sub_246B8EA34((uint64_t)v17, &qword_2691D7038);
  sub_246B8EA34((uint64_t)v19, &qword_2691D7038);
  v79(v150, v3);
  sub_246B8EA34((uint64_t)v9, &qword_2691D7038);
  if (v137)
  {
LABEL_37:
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v80 = sub_246C2C088();
    sub_246B8BE0C(v80, (uint64_t)qword_2691E00F0);
    uint64_t v81 = v146;
    uint64_t v82 = sub_246C2C068();
    os_log_type_t v83 = sub_246C2CF08();
    if (os_log_type_enabled(v82, v83))
    {
      uint64_t v84 = (uint8_t *)swift_slowAlloc();
      uint64_t v85 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v84 = 138412290;
      uint64_t v153 = v81;
      uint64_t v86 = v81;
      sub_246C2D1C8();
      *uint64_t v85 = v141;

      uint64_t v87 = "currently displayed image and videoURL are the same as new composition (%@";
LABEL_45:
      _os_log_impl(&dword_246B51000, v82, v83, v87, v84, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v85, -1, -1);
      MEMORY[0x24C545990](v84, -1, -1);

      return;
    }
    goto LABEL_46;
  }
LABEL_32:
  id v56 = v146;
  uint64_t v57 = *(void **)&v146[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
  uint64_t v58 = v142;
  uint64_t v59 = (uint64_t *)(v142 + OBJC_IVAR___NTKParmesanAsset_layouts);
  swift_beginAccess();
  uint64_t v60 = *v59;
  id v61 = v57;
  swift_bridgeObjectRetain();
  uint64_t v62 = (char *)sub_246C10B78(v61, v60);

  swift_bridgeObjectRelease();
  if (!v62)
  {
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v88 = sub_246C2C088();
    sub_246B8BE0C(v88, (uint64_t)qword_2691E00F0);
    uint64_t v81 = (char *)v56;
    uint64_t v82 = sub_246C2C068();
    os_log_type_t v83 = sub_246C2CF08();
    if (os_log_type_enabled(v82, v83))
    {
      uint64_t v84 = (uint8_t *)swift_slowAlloc();
      uint64_t v85 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v84 = 138412290;
      uint64_t v152 = v81;
      uint64_t v89 = v81;
      sub_246C2D1C8();
      *uint64_t v85 = v141;

      uint64_t v87 = "Composition's layout is nil; composition: (%@";
      goto LABEL_45;
    }
LABEL_46:

    return;
  }
  uint64_t v63 = v140;
  uint64_t v64 = *(void *)(v58 + v140);
  uint64_t v65 = &unk_2691D7000;
  if (v64)
  {
    uint64_t v66 = (uint64_t)v148;
    uint64_t v67 = v149;
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v149 + 16))(v148, v64 + OBJC_IVAR___NTKParmesanAssetVideoInfo_videoURL, v3);
    v139(v66, 0, 1, v3);
    if (v55(v66, 1, v3) != 1)
    {
      uint64_t v68 = v145;
      (*(void (**)(unsigned char *, uint64_t, uint64_t))(v67 + 32))(v145, v66, v3);
      uint64_t v69 = v151;
      uint64_t v70 = v67;
      uint64_t v71 = *(void **)&v151[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_device];
      id v72 = objc_allocWithZone(MEMORY[0x263EFD230]);
      swift_bridgeObjectRetain();
      id v73 = v71;
      long long v74 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      uint64_t v75 = (void *)sub_246C2BAC8();
      id v76 = objc_msgSend(v72, sel_initWithName_forDevice_url_, v74, v73, v75);

      uint64_t v58 = v142;
      uint64_t v63 = v140;

      uint64_t v77 = v68;
      uint64_t v65 = (void *)&unk_2691D7000;
      (*(void (**)(unsigned char *, uint64_t))(v70 + 8))(v77, v3);
      goto LABEL_49;
    }
  }
  else
  {
    uint64_t v66 = (uint64_t)v148;
    v139((uint64_t)v148, 1, 1, v3);
  }
  sub_246B8EA34(v66, &qword_2691D7038);
  id v76 = 0;
  uint64_t v69 = v151;
LABEL_49:
  sub_246B8F1E0(0, &qword_2691D75C8);
  uint64_t v90 = *(void **)(v58 + v63);
  char v91 = *(void **)&v69[v65[168]];
  id v92 = v90;
  id v93 = v144;
  id v94 = v91;
  id v95 = v76;
  id v96 = sub_246BB94C4(v93, v76, (char *)v90, v94);
  unsigned __int8 v97 = *(void **)&v69[v143];
  if (v97)
  {
    id v98 = v97;
    objc_msgSend(v98, sel_changeMediaAsset_, v96);
    objc_msgSend(v94, sel_screenScale);
    double v100 = v99;
    objc_msgSend(v69, sel_bounds);
    double v102 = v101;
    double v104 = v103;
    id v105 = objc_msgSend(v98, sel_mediaAsset);
    id v106 = objc_msgSend(v105, sel_image);

    objc_msgSend(v106, sel_scale);
    double v108 = v107;

    if (v100 >= 1.0) {
      double v109 = v100;
    }
    else {
      double v109 = 1.0;
    }
    id v110 = objc_msgSend(v98, sel_mediaAsset);
    id v111 = objc_msgSend(v110, sel_image);

    objc_msgSend(v111, sel_size);
    double v113 = v112;

    double v114 = nullsub_2(v108 * v113 / v109);
    double v115 = *(char **)&v62[OBJC_IVAR___NTKParmesanAssetLayout_originalCrop];
    double v116 = v102
         / nullsub_2(*(double *)(*(void *)&v115[OBJC_IVAR___NTKParmesanCrop_size] + OBJC_IVAR___NTKParmesanSize_width) / v109);
    double v118 = v104 / v117;
    if (v116 > v118) {
      double v118 = v116;
    }
    nullsub_2(v114 * v118);
    double v119 = sub_246BB968C();
    double v121 = v120;
    double v123 = v122;
    double v125 = v124;
    uint64_t v126 = v115;
    id v127 = v98;
    objc_msgSend(v127, sel_setBounds_, v119, v121, v123, v125);

    double v128 = nullsub_2(v102 * 0.5);
    double v130 = v129;
    id v131 = v127;
    objc_msgSend(v131, sel_setCenter_, v128, v130);

    objc_msgSend(v69, sel_setNeedsLayout);
  }
  else
  {
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v132 = sub_246C2C088();
    sub_246B8BE0C(v132, (uint64_t)qword_2691E00F0);
    id v133 = sub_246C2C068();
    os_log_type_t v134 = sub_246C2CF08();
    if (os_log_type_enabled(v133, v134))
    {
      id v135 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v135 = 0;
      _os_log_impl(&dword_246B51000, v133, v134, "mediaAssetView nil; expecting non-nil mediaAssetView", v135, 2u);
      MEMORY[0x24C545990](v135, -1, -1);
    }
    else
    {
    }
  }
}

id sub_246BB94C4(void *a1, void *a2, char *a3, void *a4)
{
  uint64_t v4 = a4;
  if (a2 && a3)
  {
    id v8 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
    double v9 = *(double *)&a3[OBJC_IVAR___NTKParmesanAssetVideoInfo_duration];
    double v10 = *(double *)&a3[OBJC_IVAR___NTKParmesanAssetVideoInfo_stillDisplayTime];
    id v11 = a2;
    uint64_t v12 = a3;
    id v13 = objc_msgSend(v8, sel_initWithVideo_image_videoDuration_stillDisplayTime_forDevice_, v11, a1, v4, v9, v10);
  }
  else
  {
    id v13 = objc_msgSend(objc_allocWithZone((Class)swift_getObjCClassFromMetadata()), sel_initWithImage_forDevice_, a1, a4);

    uint64_t v4 = a2;
  }

  return v13;
}

id sub_246BB95D0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryLivePhotoContentView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryLivePhotoContentView()
{
  return self;
}

double sub_246BB968C()
{
  return 0.0;
}

unint64_t sub_246BB96A0()
{
  unint64_t result = qword_2691D75D0;
  if (!qword_2691D75D0)
  {
    sub_246C2BB98();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D75D0);
  }
  return result;
}

uint64_t sub_246BB96F8(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (!v1) {
    return v2;
  }
  uint64_t v18 = MEMORY[0x263F8EE78];
  sub_246C00BAC(0, v1, 0);
  uint64_t v2 = v18;
  uint64_t v4 = (uint64_t *)(a1 + 32);
  uint64_t v5 = MEMORY[0x263F8D310];
  while (1)
  {
    uint64_t v7 = *v4++;
    uint64_t v6 = v7;
    if (!v7)
    {
      unint64_t v8 = 0xE700000000000000;
      uint64_t v9 = 0x63696D616E7964;
      goto LABEL_9;
    }
    if (v6 != 2) {
      break;
    }
    unint64_t v8 = 0xEB00000000726564;
    uint64_t v9 = 0x6C6F686563616C70;
LABEL_9:
    sub_246C2D248();
    *((void *)&v16 + 1) = v9;
    *(void *)&long long v17 = v8;
    unint64_t v11 = *(void *)(v18 + 16);
    unint64_t v10 = *(void *)(v18 + 24);
    if (v11 >= v10 >> 1) {
      sub_246C00BAC(v10 > 1, v11 + 1, 1);
    }
    *(void *)(v18 + 16) = v11 + 1;
    uint64_t v12 = v18 + 72 * v11;
    *(_OWORD *)(v12 + 32) = v14;
    *(void *)(v12 + 96) = v5;
    *(_OWORD *)(v12 + 64) = v16;
    *(_OWORD *)(v12 + 80) = v17;
    *(_OWORD *)(v12 + 48) = v15;
    if (!--v1) {
      return v2;
    }
  }
  if (v6 == 1)
  {
    unint64_t v8 = 0xE600000000000000;
    uint64_t v9 = 0x6C61756E616DLL;
    goto LABEL_9;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

uint64_t sub_246BB98A8(uint64_t a1)
{
  sub_246C2D278();
  swift_bridgeObjectRelease();
  if (!a1 || a1 == 2 || a1 == 1)
  {
    sub_246C2CCB8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    return 0xD00000000000001DLL;
  }
  else
  {
    uint64_t result = sub_246C2D5A8();
    __break(1u);
  }
  return result;
}

uint64_t sub_246BB99C4()
{
  uint64_t v1 = *v0;
  if (!*v0) {
    return 0x63696D616E7964;
  }
  if (v1 == 2) {
    return 0x6C6F686563616C70;
  }
  if (v1 == 1) {
    return 0x6C61756E616DLL;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

void sub_246BB9A5C(void *a1@<X8>)
{
  *a1 = &unk_26FB1F1F8;
}

id sub_246BB9A6C(uint64_t a1, uint64_t a2)
{
  id v2 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel__optionWithValue_forDevice_, a1, a2);

  return v2;
}

uint64_t sub_246BB9B78()
{
  uint64_t v1 = (uint64_t)objc_msgSend(v0, sel__value);
  if (v1 != 2) {
    uint64_t v1 = v1 == 1;
  }
  sub_246BB98A8(v1);
  id v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  sub_246C2D278();
  swift_bridgeObjectRelease();
  objc_msgSend(v0, sel__value, 0xD00000000000002DLL, 0x8000000246C3D450);
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  uint64_t v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v4);

  uint64_t v6 = sub_246C2CC48();
  return v6;
}

id sub_246BB9D24(void *a1, uint64_t a2, void (*a3)(void))
{
  id v4 = a1;
  a3();
  uint64_t v6 = v5;

  if (v6)
  {
    uint64_t v7 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v7 = 0;
  }

  return v7;
}

uint64_t sub_246BB9DA4()
{
  uint64_t v1 = (uint64_t)objc_msgSend(v0, sel__value);
  if (v1 != 2) {
    uint64_t v1 = v1 == 1;
  }
  sub_246BB98A8(v1);
  sub_246C2CCD8();
  id v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  sub_246C2D278();
  sub_246C2CCD8();
  objc_msgSend(v0, sel__value, 0, 0xE000000000000000);
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  id v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v4);

  uint64_t v6 = sub_246C2CC48();
  return v6;
}

uint64_t sub_246BB9FFC()
{
  if (*(void *)(sub_246BB96F8((uint64_t)&unk_26FB1F230) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v0 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v0 = MEMORY[0x263F8EE80];
  }
  uint64_t v3 = v0;
  uint64_t v1 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v1, 1, &v3);
  swift_bridgeObjectRelease();
  return v3;
}

id sub_246BBA2B8(uint64_t a1, void *a2)
{
  uint64_t v5 = OBJC_IVAR___NTKParmesanContentEditOption_positionsToFaceBundleStrings;
  uint64_t v6 = v2;
  *(void *)&v2[v5] = sub_246BB9FFC();

  sub_246BB367C(a1, (uint64_t)v18);
  uint64_t v7 = v19;
  if (v19)
  {
    unint64_t v8 = sub_246B8F7E8(v18, v19);
    uint64_t v9 = *(void *)(v7 - 8);
    MEMORY[0x270FA5388](v8);
    unint64_t v11 = (char *)&v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v7);
    sub_246B8EB94((uint64_t)v18);
  }
  else
  {
    uint64_t v12 = 0;
  }
  id v13 = (objc_class *)type metadata accessor for ParmesanContentEditOption();
  v17.receiver = v6;
  v17.uint64_t super_class = v13;
  id v14 = objc_msgSendSuper2(&v17, sel_initWithJSONObjectRepresentation_forDevice_, v12, a2);

  swift_unknownObjectRelease();
  id v15 = v14;
  sub_246BAD92C(a1);
  if (v15) {

  }
  return v15;
}

id sub_246BBA5A4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanContentEditOption();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanContentEditOption()
{
  return self;
}

ValueMetadata *type metadata accessor for ParmesanContentOption()
{
  return &type metadata for ParmesanContentOption;
}

unint64_t sub_246BBA620()
{
  unint64_t result = qword_2691D75E0;
  if (!qword_2691D75E0)
  {
    sub_246B8BEB0(&qword_2691D75E8);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D75E0);
  }
  return result;
}

unint64_t sub_246BBA67C(uint64_t a1)
{
  *(void *)(a1 + 8) = sub_246BBA6AC();
  unint64_t result = sub_246BBA700();
  *(void *)(a1 + 16) = result;
  return result;
}

unint64_t sub_246BBA6AC()
{
  unint64_t result = qword_2691D75F0;
  if (!qword_2691D75F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D75F0);
  }
  return result;
}

unint64_t sub_246BBA700()
{
  unint64_t result = qword_2691D75F8;
  if (!qword_2691D75F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D75F8);
  }
  return result;
}

unint64_t sub_246BBA758()
{
  unint64_t result = qword_2691D7600;
  if (!qword_2691D7600)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7600);
  }
  return result;
}

void sub_246BBA7AC(void *a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  id v5 = objc_msgSend(a1, sel_timeTextForNumberSystem_, a2);
  if (v5)
  {
    uint64_t v6 = v5;
    uint64_t v7 = sub_246C2CC48();
    uint64_t v9 = v8;
    uint64_t v10 = (char *)objc_msgSend(a1, sel_separatorNSRangeInTimeText_, v6);
    uint64_t v12 = v11;
    if (v10 == (char *)sub_246C2B978())
    {

      uint64_t v13 = 0;
      uint64_t v14 = 0;
      uint64_t v15 = 0;
      uint64_t v16 = 0;
LABEL_6:
      *a3 = v7;
      a3[1] = v9;
      a3[2] = v15;
      a3[3] = v16;
      a3[4] = v13;
      a3[5] = v14;
      return;
    }
    id v17 = objc_msgSend(v6, sel_substringToIndex_, v10);
    uint64_t v15 = sub_246C2CC48();
    uint64_t v16 = v18;

    if (!__OFADD__(v10, v12))
    {
      id v19 = objc_msgSend(v6, sel_substringFromIndex_, &v10[v12]);

      uint64_t v13 = sub_246C2CC48();
      uint64_t v14 = v20;

      goto LABEL_6;
    }
    __break(1u);
  }
  __break(1u);
}

unsigned char *storeEnumTagSinglePayload for ParmesanGalleryPlaceholderStyle(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 5 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 5) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFB) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFA)
  {
    unsigned int v6 = ((a2 - 251) >> 8) + 1;
    *unint64_t result = a2 + 5;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BBA9B0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 5;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanGalleryPlaceholderStyle()
{
  return &type metadata for ParmesanGalleryPlaceholderStyle;
}

unint64_t sub_246BBA9EC()
{
  unint64_t result = qword_2691D7610;
  if (!qword_2691D7610)
  {
    sub_246B8BEB0(&qword_2691D7618);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7610);
  }
  return result;
}

uint64_t sub_246BBAA48(char a1, char a2)
{
  unint64_t v2 = 0x8000000246C3A4B0;
  switch(a1)
  {
    case 1:
      int v3 = "gallery-placeholder-1B";
      goto LABEL_7;
    case 2:
      int v3 = "gallery-placeholder-1C";
      goto LABEL_7;
    case 3:
      int v3 = "gallery-placeholder-2A";
      goto LABEL_7;
    case 4:
      int v3 = "gallery-placeholder-2B";
      goto LABEL_7;
    case 5:
      int v3 = "gallery-placeholder-2C";
LABEL_7:
      unint64_t v2 = (unint64_t)(v3 - 32) | 0x8000000000000000;
      break;
    default:
      break;
  }
  unint64_t v4 = 0x8000000246C3A4B0;
  switch(a2)
  {
    case 1:
      uint64_t v5 = "gallery-placeholder-1B";
      goto LABEL_14;
    case 2:
      uint64_t v5 = "gallery-placeholder-1C";
      goto LABEL_14;
    case 3:
      uint64_t v5 = "gallery-placeholder-2A";
      goto LABEL_14;
    case 4:
      uint64_t v5 = "gallery-placeholder-2B";
      goto LABEL_14;
    case 5:
      uint64_t v5 = "gallery-placeholder-2C";
LABEL_14:
      unint64_t v4 = (unint64_t)(v5 - 32) | 0x8000000000000000;
      break;
    default:
      break;
  }
  if (v2 == v4) {
    char v6 = 1;
  }
  else {
    char v6 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v6 & 1;
}

uint64_t sub_246BBABC4(unsigned __int8 a1, char a2)
{
  unint64_t v2 = 0x4C52556F65646976;
  unint64_t v3 = 0xE800000000000000;
  uint64_t v4 = a1;
  unint64_t v5 = 0x4C52556F65646976;
  switch(v4)
  {
    case 1:
      unint64_t v5 = 0x6E6F697461727564;
      break;
    case 2:
      unint64_t v3 = 0x8000000246C3A580;
      unint64_t v5 = 0xD000000000000010;
      break;
    case 3:
      unint64_t v5 = 0x6570416E61656C63;
      unint64_t v3 = 0xED00006572757472;
      break;
    default:
      break;
  }
  unint64_t v6 = 0xE800000000000000;
  switch(a2)
  {
    case 1:
      if (v5 == 0x6E6F697461727564) {
        goto LABEL_12;
      }
      goto LABEL_14;
    case 2:
      unint64_t v6 = 0x8000000246C3A580;
      unint64_t v2 = 0xD000000000000010;
      goto LABEL_9;
    case 3:
      unint64_t v6 = 0xED00006572757472;
      if (v5 == 0x6570416E61656C63) {
        goto LABEL_12;
      }
      goto LABEL_14;
    default:
LABEL_9:
      if (v5 != v2) {
        goto LABEL_14;
      }
LABEL_12:
      if (v3 == v6) {
        char v7 = 1;
      }
      else {
LABEL_14:
      }
        char v7 = sub_246C2D578();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v7 & 1;
  }
}

uint64_t sub_246BBAD6C(unsigned __int8 a1, char a2)
{
  unint64_t v2 = 0xEC000000706F7243;
  unint64_t v3 = 0x6C616E696769726FLL;
  uint64_t v4 = a1;
  unint64_t v5 = 0x6C616E696769726FLL;
  unint64_t v6 = 0xEC000000706F7243;
  switch(v4)
  {
    case 1:
      unint64_t v5 = 0x67616D4965736162;
      unint64_t v6 = 0xED0000656D614E65;
      break;
    case 2:
      unint64_t v6 = 0xE400000000000000;
      unint64_t v5 = 1802723693;
      break;
    case 3:
      unint64_t v5 = 0x6F79614C656D6974;
      uint64_t v7 = 29813;
      goto LABEL_8;
    case 4:
      unint64_t v5 = 0x616E41726F6C6F63;
      unint64_t v6 = 0xED0000736973796CLL;
      break;
    case 5:
      unint64_t v6 = 0x8000000246C3A660;
      unint64_t v5 = 0xD000000000000012;
      break;
    case 6:
      unint64_t v5 = 0x7469644572657375;
      uint64_t v7 = 25701;
LABEL_8:
      unint64_t v6 = v7 & 0xFFFFFFFFFFFFLL | 0xEA00000000000000;
      break;
    default:
      break;
  }
  switch(a2)
  {
    case 1:
      uint64_t v8 = 0x67616D4965736162;
      uint64_t v9 = 0x656D614E65;
      goto LABEL_15;
    case 2:
      unint64_t v2 = 0xE400000000000000;
      if (v5 != 1802723693) {
        goto LABEL_24;
      }
      goto LABEL_22;
    case 3:
      uint64_t v10 = 0x6F79614C656D6974;
      uint64_t v11 = 29813;
      goto LABEL_21;
    case 4:
      uint64_t v8 = 0x616E41726F6C6F63;
      uint64_t v9 = 0x736973796CLL;
LABEL_15:
      unint64_t v2 = v9 & 0xFFFFFFFFFFFFLL | 0xED00000000000000;
      if (v5 != v8) {
        goto LABEL_24;
      }
      goto LABEL_22;
    case 5:
      unint64_t v2 = 0x8000000246C3A660;
      unint64_t v3 = 0xD000000000000012;
      goto LABEL_18;
    case 6:
      uint64_t v10 = 0x7469644572657375;
      uint64_t v11 = 25701;
LABEL_21:
      unint64_t v2 = v11 & 0xFFFFFFFFFFFFLL | 0xEA00000000000000;
      if (v5 == v10) {
        goto LABEL_22;
      }
      goto LABEL_24;
    default:
LABEL_18:
      if (v5 != v3) {
        goto LABEL_24;
      }
LABEL_22:
      if (v6 == v2) {
        char v12 = 1;
      }
      else {
LABEL_24:
      }
        char v12 = sub_246C2D578();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v12 & 1;
  }
}

uint64_t sub_246BBAFE8(char a1, char a2)
{
  BOOL v2 = (a1 & 1) == 0;
  if (a1) {
    uint64_t v3 = 0x656C616373;
  }
  else {
    uint64_t v3 = 0x6E656D6E67696C61;
  }
  if (v2) {
    unint64_t v4 = 0xE900000000000074;
  }
  else {
    unint64_t v4 = 0xE500000000000000;
  }
  if (a2) {
    uint64_t v5 = 0x656C616373;
  }
  else {
    uint64_t v5 = 0x6E656D6E67696C61;
  }
  if (a2) {
    unint64_t v6 = 0xE500000000000000;
  }
  else {
    unint64_t v6 = 0xE900000000000074;
  }
  if (v3 == v5 && v4 == v6) {
    char v7 = 1;
  }
  else {
    char v7 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v7 & 1;
}

uint64_t sub_246BBB090(char a1, char a2)
{
  BOOL v2 = (a1 & 1) == 0;
  if (a1) {
    uint64_t v3 = 0x656C797473;
  }
  else {
    uint64_t v3 = 0x6D614E6567616D69;
  }
  if (v2) {
    unint64_t v4 = 0xE900000000000065;
  }
  else {
    unint64_t v4 = 0xE500000000000000;
  }
  if (a2) {
    uint64_t v5 = 0x656C797473;
  }
  else {
    uint64_t v5 = 0x6D614E6567616D69;
  }
  if (a2) {
    unint64_t v6 = 0xE500000000000000;
  }
  else {
    unint64_t v6 = 0xE900000000000065;
  }
  if (v3 == v5 && v4 == v6) {
    char v7 = 1;
  }
  else {
    char v7 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v7 & 1;
}

uint64_t sub_246BBB138(char a1, unsigned __int8 a2)
{
  unint64_t v2 = 0xE900000000000072;
  uint64_t v3 = 0x61646152656C6966;
  if (a1)
  {
    if (a1 == 1) {
      uint64_t v4 = 0x6563614673696874;
    }
    else {
      uint64_t v4 = 0x73656361466C6C61;
    }
    unint64_t v5 = 0xE800000000000000;
    int v6 = a2;
    if (!a2) {
      goto LABEL_10;
    }
    goto LABEL_6;
  }
  uint64_t v4 = 0x61646152656C6966;
  unint64_t v5 = 0xE900000000000072;
  int v6 = a2;
  if (a2)
  {
LABEL_6:
    if (v6 == 1) {
      uint64_t v3 = 0x6563614673696874;
    }
    else {
      uint64_t v3 = 0x73656361466C6C61;
    }
    unint64_t v2 = 0xE800000000000000;
  }
LABEL_10:
  if (v4 == v3 && v5 == v2) {
    char v7 = 1;
  }
  else {
    char v7 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v7 & 1;
}

uint64_t sub_246BBB254(char a1, unsigned __int8 a2)
{
  if (a1)
  {
    if (a1 == 1) {
      uint64_t v2 = 26466;
    }
    else {
      uint64_t v2 = 26470;
    }
    unint64_t v3 = 0xE200000000000000;
    int v4 = a2;
    if (a2)
    {
LABEL_6:
      if (v4 == 1) {
        uint64_t v5 = 26466;
      }
      else {
        uint64_t v5 = 26470;
      }
      unint64_t v6 = 0xE200000000000000;
      if (v2 != v5) {
        goto LABEL_15;
      }
      goto LABEL_13;
    }
  }
  else
  {
    unint64_t v3 = 0xE400000000000000;
    uint64_t v2 = 1952541798;
    int v4 = a2;
    if (a2) {
      goto LABEL_6;
    }
  }
  unint64_t v6 = 0xE400000000000000;
  if (v2 != 1952541798)
  {
LABEL_15:
    char v7 = sub_246C2D578();
    goto LABEL_16;
  }
LABEL_13:
  if (v3 != v6) {
    goto LABEL_15;
  }
  char v7 = 1;
LABEL_16:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v7 & 1;
}

uint64_t sub_246BBB330(unsigned __int8 a1, unsigned __int8 a2)
{
  int v2 = a1;
  if (a1)
  {
    if (a1 == 1) {
      uint64_t v3 = 0x6C61727475656ELL;
    }
    else {
      uint64_t v3 = 1802658148;
    }
    if (v2 == 1) {
      unint64_t v4 = 0xE700000000000000;
    }
    else {
      unint64_t v4 = 0xE400000000000000;
    }
    int v5 = a2;
    if (a2)
    {
LABEL_9:
      if (v5 == 1) {
        uint64_t v6 = 0x6C61727475656ELL;
      }
      else {
        uint64_t v6 = 1802658148;
      }
      if (v5 == 1) {
        unint64_t v7 = 0xE700000000000000;
      }
      else {
        unint64_t v7 = 0xE400000000000000;
      }
      if (v3 != v6) {
        goto LABEL_21;
      }
      goto LABEL_19;
    }
  }
  else
  {
    unint64_t v4 = 0xE500000000000000;
    uint64_t v3 = 0x746867696CLL;
    int v5 = a2;
    if (a2) {
      goto LABEL_9;
    }
  }
  unint64_t v7 = 0xE500000000000000;
  if (v3 != 0x746867696CLL)
  {
LABEL_21:
    char v8 = sub_246C2D578();
    goto LABEL_22;
  }
LABEL_19:
  if (v4 != v7) {
    goto LABEL_21;
  }
  char v8 = 1;
LABEL_22:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v8 & 1;
}

uint64_t sub_246BBB434(unsigned __int8 a1, char a2)
{
  unint64_t v2 = 0xEF7265696669746ELL;
  unint64_t v3 = 0x6564496C61636F6CLL;
  uint64_t v4 = a1;
  unint64_t v5 = 0x6564496C61636F6CLL;
  unint64_t v6 = 0xEF7265696669746ELL;
  switch(v4)
  {
    case 1:
      unint64_t v7 = "modificationDate";
      goto LABEL_4;
    case 2:
      unint64_t v7 = "presentationSize";
LABEL_4:
      unint64_t v6 = (unint64_t)(v7 - 32) | 0x8000000000000000;
      unint64_t v5 = 0xD000000000000010;
      break;
    case 3:
      unint64_t v5 = 0x666E496F65646976;
      unint64_t v6 = 0xE90000000000006FLL;
      break;
    case 4:
      unint64_t v5 = 0xD000000000000013;
      char v8 = "preferredTimeLayout";
      goto LABEL_9;
    case 5:
      unint64_t v6 = 0xE700000000000000;
      unint64_t v5 = 0x7374756F79616CLL;
      break;
    case 6:
      unint64_t v5 = 0xD000000000000018;
      char v8 = "accessibilityDescription";
LABEL_9:
      unint64_t v6 = (unint64_t)(v8 - 32) | 0x8000000000000000;
      break;
    default:
      break;
  }
  switch(a2)
  {
    case 1:
      uint64_t v9 = "modificationDate";
      goto LABEL_13;
    case 2:
      uint64_t v9 = "presentationSize";
LABEL_13:
      unint64_t v2 = (unint64_t)(v9 - 32) | 0x8000000000000000;
      unint64_t v3 = 0xD000000000000010;
      break;
    case 3:
      unint64_t v3 = 0x666E496F65646976;
      unint64_t v2 = 0xE90000000000006FLL;
      break;
    case 4:
      unint64_t v3 = 0xD000000000000013;
      uint64_t v10 = "preferredTimeLayout";
      goto LABEL_18;
    case 5:
      unint64_t v2 = 0xE700000000000000;
      unint64_t v3 = 0x7374756F79616CLL;
      break;
    case 6:
      unint64_t v3 = 0xD000000000000018;
      uint64_t v10 = "accessibilityDescription";
LABEL_18:
      unint64_t v2 = (unint64_t)(v10 - 32) | 0x8000000000000000;
      break;
    default:
      break;
  }
  if (v5 == v3 && v6 == v2) {
    char v11 = 1;
  }
  else {
    char v11 = sub_246C2D578();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v11 & 1;
}

uint64_t sub_246BBB664(unsigned __int8 a1, char a2)
{
  unint64_t v2 = 0xE900000000000072;
  uint64_t v3 = 0x61646152656C6966;
  uint64_t v4 = a1;
  uint64_t v5 = 0x61646152656C6966;
  unint64_t v6 = 0xE900000000000072;
  switch(v4)
  {
    case 1:
      uint64_t v5 = 0x696669746E656469;
      unint64_t v6 = 0xEA00000000007265;
      break;
    case 2:
      uint64_t v5 = 0x726F746365726964;
      unint64_t v6 = 0xEF736F746F685079;
      break;
    case 3:
      uint64_t v5 = 0x6573616261746164;
      unint64_t v6 = 0xEE00736F746F6850;
      break;
    case 4:
      uint64_t v5 = 0x66667568536C6C61;
      unint64_t v6 = 0xEB0000000073656CLL;
      break;
    case 5:
      uint64_t v5 = 0x656C6C6F436C6C61;
      unint64_t v6 = 0xEE00736E6F697463;
      break;
    case 6:
      uint64_t v5 = 0x656C6C61476C6C61;
      unint64_t v6 = 0xEC00000073656972;
      break;
    case 7:
      unint64_t v6 = 0xE700000000000000;
      uint64_t v5 = 0x73657461647075;
      break;
    default:
      break;
  }
  switch(a2)
  {
    case 1:
      unint64_t v2 = 0xEA00000000007265;
      if (v5 == 0x696669746E656469) {
        goto LABEL_22;
      }
      goto LABEL_25;
    case 2:
      unint64_t v2 = 0xEF736F746F685079;
      if (v5 != 0x726F746365726964) {
        goto LABEL_25;
      }
      goto LABEL_22;
    case 3:
      uint64_t v7 = 0x6573616261746164;
      uint64_t v8 = 0x736F746F6850;
      goto LABEL_18;
    case 4:
      unint64_t v2 = 0xEB0000000073656CLL;
      if (v5 != 0x66667568536C6C61) {
        goto LABEL_25;
      }
      goto LABEL_22;
    case 5:
      uint64_t v7 = 0x656C6C6F436C6C61;
      uint64_t v8 = 0x736E6F697463;
LABEL_18:
      unint64_t v2 = v8 & 0xFFFFFFFFFFFFLL | 0xEE00000000000000;
      if (v5 != v7) {
        goto LABEL_25;
      }
      goto LABEL_22;
    case 6:
      uint64_t v3 = 0x656C6C61476C6C61;
      unint64_t v2 = 0xEC00000073656972;
      goto LABEL_21;
    case 7:
      unint64_t v2 = 0xE700000000000000;
      if (v5 != 0x73657461647075) {
        goto LABEL_25;
      }
      goto LABEL_22;
    default:
LABEL_21:
      if (v5 != v3) {
        goto LABEL_25;
      }
LABEL_22:
      if (v6 == v2) {
        char v9 = 1;
      }
      else {
LABEL_25:
      }
        char v9 = sub_246C2D578();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v9 & 1;
  }
}

uint64_t sub_246BBB95C(unint64_t a1)
{
  uint64_t v3 = *v1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v3 = sub_246BBCFF4(v3);
  }
  unint64_t v4 = v3[2];
  if (v4 <= a1)
  {
    __break(1u);
  }
  else
  {
    unint64_t v5 = v4 - 1;
    uint64_t v6 = v4 - 1 - a1;
    if (v6 >= 0)
    {
      uint64_t v7 = &v3[a1];
      uint64_t v8 = v7[4];
      memmove(v7 + 4, v7 + 5, 8 * v6);
      v3[2] = v5;
      char *v1 = v3;
      return v8;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BBBA30(unint64_t a1)
{
  uint64_t v3 = *v1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v3 = sub_246BBD01C((uint64_t)v3);
  }
  unint64_t v4 = *((void *)v3 + 2);
  if (v4 <= a1)
  {
    __break(1u);
  }
  else
  {
    unint64_t v5 = v4 - 1;
    int64_t v6 = v4 - 1 - a1;
    if (v6 >= 0)
    {
      uint64_t v7 = &v3[a1 + 32];
      uint64_t v8 = *v7;
      memmove(v7, v7 + 1, v6);
      *((void *)v3 + 2) = v5;
      char *v1 = v3;
      return v8;
    }
  }
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BBBB00()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBBBE4()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBBCCC()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BBBD98()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BBBED8()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BBC004()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BBC178()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBC2FC()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBC438()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBC588()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BBC66C()
{
  return sub_246C2D6B8();
}

unint64_t sub_246BBC74C()
{
  return 0xD000000000000016;
}

void *sub_246BBC7E4()
{
  uint64_t result = sub_246BBC804();
  off_2691D7608 = result;
  return result;
}

void *sub_246BBC804()
{
  unint64_t v0 = byte_26FB1F2E0;
  switch(byte_26FB1F2E0)
  {
    case 1:
      uint64_t v1 = "gallery-placeholder-1B";
      goto LABEL_7;
    case 2:
      uint64_t v1 = "gallery-placeholder-1C";
      goto LABEL_7;
    case 3:
      uint64_t v1 = "gallery-placeholder-2A";
      goto LABEL_7;
    case 4:
      uint64_t v1 = "gallery-placeholder-2B";
      goto LABEL_7;
    case 5:
      uint64_t v1 = "gallery-placeholder-2C";
LABEL_7:
      if (((unint64_t)(v1 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 0;
LABEL_9:
        swift_bridgeObjectRelease();
LABEL_12:
        sub_246BBBA30(v0);
        return &unk_26FB1F2C0;
      }
      char v2 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v2)
      {
        unint64_t v0 = 0;
        goto LABEL_12;
      }
      unint64_t v0 = 1;
      switch(byte_26FB1F2E1)
      {
        case 1:
          unint64_t v4 = "gallery-placeholder-1B";
          break;
        case 2:
          unint64_t v4 = "gallery-placeholder-1C";
          break;
        case 3:
          unint64_t v4 = "gallery-placeholder-2A";
          break;
        case 4:
          unint64_t v4 = "gallery-placeholder-2B";
          break;
        case 5:
          unint64_t v4 = "gallery-placeholder-2C";
          break;
        default:
          goto LABEL_9;
      }
      if (((unint64_t)(v4 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 1;
        goto LABEL_9;
      }
      char v5 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v5)
      {
        unint64_t v0 = 1;
        goto LABEL_12;
      }
      unint64_t v0 = 2;
      switch(byte_26FB1F2E2)
      {
        case 1:
          int64_t v6 = "gallery-placeholder-1B";
          break;
        case 2:
          int64_t v6 = "gallery-placeholder-1C";
          break;
        case 3:
          int64_t v6 = "gallery-placeholder-2A";
          break;
        case 4:
          int64_t v6 = "gallery-placeholder-2B";
          break;
        case 5:
          int64_t v6 = "gallery-placeholder-2C";
          break;
        default:
          goto LABEL_9;
      }
      if (((unint64_t)(v6 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 2;
        goto LABEL_9;
      }
      char v7 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v7)
      {
        unint64_t v0 = 2;
        goto LABEL_12;
      }
      unint64_t v0 = 3;
      switch(byte_26FB1F2E3)
      {
        case 1:
          uint64_t v8 = "gallery-placeholder-1B";
          break;
        case 2:
          uint64_t v8 = "gallery-placeholder-1C";
          break;
        case 3:
          uint64_t v8 = "gallery-placeholder-2A";
          break;
        case 4:
          uint64_t v8 = "gallery-placeholder-2B";
          break;
        case 5:
          uint64_t v8 = "gallery-placeholder-2C";
          break;
        default:
          goto LABEL_9;
      }
      if (((unint64_t)(v8 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 3;
        goto LABEL_9;
      }
      char v9 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v9)
      {
        unint64_t v0 = 3;
        goto LABEL_12;
      }
      unint64_t v0 = 4;
      switch(byte_26FB1F2E4)
      {
        case 1:
          uint64_t v10 = "gallery-placeholder-1B";
          break;
        case 2:
          uint64_t v10 = "gallery-placeholder-1C";
          break;
        case 3:
          uint64_t v10 = "gallery-placeholder-2A";
          break;
        case 4:
          uint64_t v10 = "gallery-placeholder-2B";
          break;
        case 5:
          uint64_t v10 = "gallery-placeholder-2C";
          break;
        default:
          goto LABEL_9;
      }
      if (((unint64_t)(v10 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 4;
        goto LABEL_9;
      }
      char v11 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v11)
      {
        unint64_t v0 = 4;
        goto LABEL_12;
      }
      unint64_t v0 = 5;
      switch(byte_26FB1F2E5)
      {
        case 1:
          char v12 = "gallery-placeholder-1B";
          break;
        case 2:
          char v12 = "gallery-placeholder-1C";
          break;
        case 3:
          char v12 = "gallery-placeholder-2A";
          break;
        case 4:
          char v12 = "gallery-placeholder-2B";
          break;
        case 5:
          char v12 = "gallery-placeholder-2C";
          break;
        default:
          goto LABEL_9;
      }
      if (((unint64_t)(v12 - 32) | 0x8000000000000000) == 0x8000000246C3A4B0)
      {
        unint64_t v0 = 5;
        goto LABEL_9;
      }
      char v13 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v13)
      {
        unint64_t v0 = 5;
        goto LABEL_12;
      }
      return &unk_26FB1F2C0;
    default:
      goto LABEL_9;
  }
}

id sub_246BBCD70(char a1)
{
  if (a1 == 5 || a1 == 0)
  {
    uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
    char v2 = (char *)objc_allocWithZone(v3);
    *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
    *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
    char v7 = v2;
    char v5 = (objc_super *)&v7;
  }
  else
  {
    uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
    unint64_t v4 = (char *)objc_allocWithZone(v3);
    *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
    *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 2;
    v8.receiver = v4;
    char v5 = &v8;
  }
  v5->uint64_t super_class = v3;
  return [(objc_super *)v5 init];
}

uint64_t sub_246BBCE30(unsigned __int8 a1)
{
  int v1 = a1;
  uint64_t result = 0x6269762E656D6974;
  switch(v1)
  {
    case 1:
    case 2:
    case 3:
    case 5:
      uint64_t result = sub_246C2CC48();
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_246BBCF04(char *a1, char *a2)
{
  return sub_246BBAA48(*a1, *a2);
}

uint64_t sub_246BBCF10()
{
  return sub_246BBBB00();
}

uint64_t sub_246BBCF18()
{
  return sub_246BBBCCC();
}

uint64_t sub_246BBCF20()
{
  return sub_246BBC66C();
}

uint64_t sub_246BBCF28@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BBD030();
  *a1 = result;
  return result;
}

unint64_t sub_246BBCF58@<X0>(void *a1@<X8>)
{
  unint64_t result = sub_246BBC74C();
  *a1 = 0xD000000000000016;
  a1[1] = v3;
  return result;
}

void sub_246BBCF8C(void *a1@<X8>)
{
  *a1 = &unk_26FB1F2E8;
}

unint64_t sub_246BBCFA0()
{
  unint64_t result = qword_2691D7620;
  if (!qword_2691D7620)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7620);
  }
  return result;
}

void *sub_246BBCFF4(void *a1)
{
  return sub_246BA5C20(0, a1[2], 0, a1);
}

void *sub_246BBD008(void *a1)
{
  return sub_246BA60E0(0, a1[2], 0, a1);
}

char *sub_246BBD01C(uint64_t a1)
{
  return sub_246BA65B8(0, *(void *)(a1 + 16), 0, (char *)a1);
}

uint64_t sub_246BBD030()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 6) {
    return 6;
  }
  else {
    return v0;
  }
}

void sub_246BBD07C()
{
  v13.receiver = v0;
  v13.uint64_t super_class = (Class)type metadata accessor for ParmesanNoShufflesViewController();
  objc_msgSendSuper2(&v13, sel_loadView);
  type metadata accessor for ParmesanNoShufflesViewModel();
  int v1 = (void *)swift_allocObject();
  uint64_t v2 = swift_allocObject();
  swift_unknownObjectWeakInit();
  v1[2] = sub_246B8EECC;
  v1[3] = v2;
  uint64_t v3 = swift_allocObject();
  swift_unknownObjectWeakInit();
  v1[4] = sub_246BBD9E4;
  v1[5] = v3;
  uint64_t v4 = swift_allocObject();
  swift_unknownObjectWeakInit();
  v1[6] = sub_246BBD9EC;
  v1[7] = v4;
  sub_246BBD9F4();
  swift_retain();
  sub_246C2C9A8();
  char v5 = (void *)sub_246C2C728();
  swift_release();
  self;
  int64_t v6 = (void *)swift_dynamicCastObjCClassUnconditional();
  objc_msgSend(v0, sel_addChildViewController_, v6);
  id v7 = objc_msgSend(v0, sel_view);
  if (!v7)
  {
    __break(1u);
    goto LABEL_6;
  }
  objc_super v8 = v7;
  id v9 = objc_msgSend(v6, sel_view);
  if (!v9)
  {
LABEL_6:
    __break(1u);
    goto LABEL_7;
  }
  uint64_t v10 = v9;
  objc_msgSend(v8, sel_addSubview_, v9);

  id v11 = objc_msgSend(v6, sel_view);
  if (v11)
  {
    char v12 = v11;
    objc_msgSend(v11, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], *(double *)(MEMORY[0x263F82250] + 8), *(double *)(MEMORY[0x263F82250] + 16), *(double *)(MEMORY[0x263F82250] + 24));

    objc_msgSend(v6, sel_didMoveToParentViewController_, v0);
    swift_release();

    return;
  }
LABEL_7:
  __break(1u);
}

void sub_246BBD2CC(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D6A18);
  MEMORY[0x270FA5388](v2 - 8);
  uint64_t v4 = &v22[-((v3 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v5 = sub_246C2CB38();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  id v9 = &v22[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  MEMORY[0x270FA5388](v7);
  id v11 = &v22[-v10];
  swift_beginAccess();
  uint64_t v12 = MEMORY[0x24C545A70](a1 + 16);
  if (v12)
  {
    objc_super v13 = (void *)v12;
    id v23 = &type metadata for LemonadeFeatureFlags;
    unint64_t v24 = sub_246B8EB40();
    v22[0] = 1;
    char v14 = sub_246C2C028();
    sub_246B8EB94((uint64_t)v22);
    if (v14)
    {
      id v15 = objc_msgSend(self, sel_sharedPhotoLibrary);
      sub_246C2CAE8();
      sub_246C2CAD8();
      sub_246C2CB78();
      uint64_t v16 = sub_246C2CB88();
      (*(void (**)(unsigned char *, void, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v4, 0, 1, v16);
      sub_246C2CAA8();
      sub_246C2CB08();
      sub_246C2CB18();
      sub_246BBDA48();
      (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v6 + 16))(v9, v11, v5);
      id v17 = (void *)sub_246C2D018();
      sub_246BBDA88();
      swift_unknownObjectRetain();
      sub_246C2D028();
      if (qword_2691D6308 != -1) {
        swift_once();
      }
      uint64_t v18 = sub_246C2C088();
      sub_246B8BE0C(v18, (uint64_t)qword_2691E0168);
      id v19 = sub_246C2C068();
      os_log_type_t v20 = sub_246C2CF08();
      if (os_log_type_enabled(v19, v20))
      {
        __n128 v21 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)__n128 v21 = 0;
        _os_log_impl(&dword_246B51000, v19, v20, "Presenting collections picker", v21, 2u);
        MEMORY[0x24C545990](v21, -1, -1);
      }

      objc_msgSend(v13, sel_presentViewController_animated_completion_, v17, 1, 0);
      (*(void (**)(unsigned char *, uint64_t))(v6 + 8))(v11, v5);
    }
    else
    {
      sub_246BAC658();
    }
  }
}

void sub_246BBD62C(uint64_t a1)
{
  uint64_t v1 = a1 + 16;
  swift_beginAccess();
  uint64_t v2 = (void *)MEMORY[0x24C545A70](v1);
  if (v2)
  {
    uint64_t v3 = v2;
    id v4 = objc_msgSend(v2, sel_parentViewController);
    if (v4)
    {
      id v5 = v4;
      objc_msgSend(v4, sel_dismissViewControllerAnimated_completion_, 1, 0);

      uint64_t v3 = v5;
    }
  }
}

void sub_246BBD6FC(uint64_t a1, uint64_t a2)
{
  id v5 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
  uint64_t v6 = (char *)objc_allocWithZone(v5);
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = 0;
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = 0;
  uint64_t v7 = &v6[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
  *(void *)uint64_t v7 = a1;
  *((void *)v7 + 1) = a2;
  *(void *)&v6[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = 0;
  v13.receiver = v6;
  v13.uint64_t super_class = v5;
  swift_bridgeObjectRetain();
  id v8 = objc_msgSendSuper2(&v13, sel_init);
  id v9 = *(void **)(v2 + OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_editor);
  uint64_t v10 = (void *)sub_246C2CC08();
  id v11 = objc_msgSend(v9, sel_titleForCollectionWithIdentifier_, v10, v13.receiver, v13.super_class);

  objc_msgSend(v9, sel_setShuffleSelection_withKeyAssetIdentifier_albumName_, v8, 0, v11);
  uint64_t v12 = (void *)MEMORY[0x24C545A70](v2 + OBJC_IVAR___NTKParmesanShuffleSelectionBaseViewController_delegate);
  if (v12)
  {
    objc_msgSend(v12, sel_shuffleSelectionViewController_didFinishWithSelection_, v2, v8);

    swift_unknownObjectRelease();
  }
  else
  {
  }
}

id sub_246BBD954()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanNoShufflesViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanNoShufflesViewController()
{
  return self;
}

uint64_t sub_246BBD9AC()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246BBD9E4()
{
  sub_246BBD2CC(v0);
}

void sub_246BBD9EC()
{
  sub_246BBD62C(v0);
}

unint64_t sub_246BBD9F4()
{
  unint64_t result = qword_2691D7628;
  if (!qword_2691D7628)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7628);
  }
  return result;
}

unint64_t sub_246BBDA48()
{
  unint64_t result = qword_2691D6A28;
  if (!qword_2691D6A28)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6A28);
  }
  return result;
}

unint64_t sub_246BBDA88()
{
  unint64_t result = qword_2691D6A30;
  if (!qword_2691D6A30)
  {
    type metadata accessor for ParmesanShuffleSelectionBaseViewController();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6A30);
  }
  return result;
}

id sub_246BBDBF8()
{
  uint64_t v1 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition];
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition] = 0;

  objc_super v2 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views];
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views] = 0;

  v4.receiver = v0;
  v4.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryItem();
  return objc_msgSendSuper2(&v4, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryItem()
{
  return self;
}

uint64_t sub_246BBDD60(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = a1;
  if (a1)
  {
    uint64_t v4 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style);
    uint64_t v5 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style + 8);
    uint64_t v6 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style + 16);
    uint64_t v7 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style + 24);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    uint64_t v8 = swift_bridgeObjectRetain();
    sub_246BBDE7C(v8, v5, v6, v7);
    sub_246BBE818(v4, v5);
    uint64_t v9 = v3 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style;
    uint64_t v3 = *(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryContentEffect_style);
    uint64_t v10 = *(void *)(v9 + 8);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRetain();
    uint64_t v11 = swift_bridgeObjectRetain();
  }
  else
  {
    sub_246BBDE7C(0, 0, 0, 0);
    uint64_t v11 = sub_246BBE818(0, 0);
    uint64_t v10 = 0;
  }
  sub_246BBE394(v11, v10, v12, v13, a2);

  return sub_246BBE818(v3, v10);
}

void sub_246BBDE7C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = *(void **)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
  if (v5)
  {
    uint64_t v6 = *(void **)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v6)
    {
      uint64_t v7 = *(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v5) + 0xA0);
      uint64_t v8 = v5;
      uint64_t v57 = v6;
      uint64_t v50 = v8;
      uint64_t v9 = (void *)v7();
      if (v9)
      {
        uint64_t v10 = v9;
        unsigned int v11 = objc_msgSend(v9, sel_isBright);

        if (v11) {
          uint64_t v12 = 0;
        }
        else {
          uint64_t v12 = 2;
        }
      }
      else
      {
        uint64_t v12 = 1;
      }
      uint64_t v13 = (void *)(*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v50) + 0xA8))();
      if (v13)
      {

        char v14 = (char *)&unk_26FB1F3C0;
      }
      else
      {
        char v14 = (char *)&unk_26FB1F3E8;
      }
      uint64_t v56 = *((void *)v14 + 2);
      if (v56)
      {
        unint64_t v15 = 0;
        uint64_t v55 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView;
        uint64_t v54 = v14 + 32;
        uint64_t v53 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView;
        uint64_t v47 = v14;
        while (1)
        {
          if (v15 >= *((void *)v14 + 2))
          {
            __break(1u);
            return;
          }
          uint64_t v17 = v54[v15];
          uint64_t v18 = v55;
          if (v17 < 2) {
            uint64_t v18 = v53;
          }
          id v19 = *(char **)&v57[v18];
          if (v19) {
            break;
          }
LABEL_15:
          if (++v15 == v56) {
            goto LABEL_46;
          }
        }
        uint64_t v20 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryContentContainerView_contentView;
        __n128 v21 = *(unsigned char **)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryContentContainerView_contentView];
        swift_getObjectType();
        if (swift_conformsToProtocol2()) {
          id v22 = v21;
        }
        else {
          id v22 = 0;
        }
        uint64_t v52 = v20;
        if (!v22)
        {
          id v23 = v19;
LABEL_34:
          uint64_t v35 = (void *)(*(uint64_t (**)(char *))((*MEMORY[0x263F8EED0] & *v50) + 0x138))(v23);
          if (a2)
          {
            unint64_t v61 = MEMORY[0x263F8EE78];
            if (a4 && *(void *)(a4 + 16))
            {
              unint64_t v36 = sub_246C1637C(v17);
              uint64_t v37 = a3;
              if (v38) {
                uint64_t v37 = *(void *)(*(void *)(a4 + 56) + 8 * v36);
              }
            }
            else
            {
              uint64_t v37 = a3;
            }
            uint64_t v39 = *(void *)(v37 + 16);
            uint64_t v51 = v19;
            if (v39)
            {
              uint64_t v40 = v37 + 32;
              swift_bridgeObjectRetain();
              do
              {
                sub_246BBE940(v40, (uint64_t)v58);
                uint64_t v41 = v59;
                uint64_t v42 = v60;
                sub_246B8F7E8(v58, v59);
                unint64_t v43 = (*(uint64_t (**)(uint64_t, uint64_t, void *, uint64_t))(*(void *)(v42 + 8) + 8))(v17, v12, v35, v41);
                sub_246BF8418(v43);
                sub_246B8EB94((uint64_t)v58);
                v40 += 40;
                --v39;
              }
              while (v39);
              swift_bridgeObjectRelease();
              unint64_t v44 = v61;
            }
            else
            {
              unint64_t v44 = MEMORY[0x263F8EE78];
            }
            id v16 = objc_msgSend(*(id *)&v51[v52], sel_layer);
            sub_246C1DAFC(v44);
            uint64_t v45 = sub_246C2CD28();
            swift_bridgeObjectRelease();
            objc_msgSend(v16, sel_setFilters_, v45);
            swift_bridgeObjectRelease();

            uint64_t v35 = (void *)v45;
          }
          else
          {
            id v16 = v19;
          }

          char v14 = v47;
          goto LABEL_15;
        }
        if (v17 > 1)
        {
          uint64_t v25 = v19;
          __n128 v29 = v19;
          uint64_t v30 = v21;
          swift_bridgeObjectRelease();
          v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_useMaskingLayer] = 1;
        }
        else
        {
          char v24 = sub_246C2D578();
          uint64_t v25 = v19;
          long long v26 = v19;
          os_log_type_t v27 = v21;
          swift_bridgeObjectRelease();
          v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_useMaskingLayer] = v24 & 1;
          if ((v24 & 1) == 0)
          {
            id v28 = objc_msgSend(v22, sel_layer);
            objc_msgSend(v28, sel_setMask_, 0);

LABEL_33:
            id v19 = v25;
            goto LABEL_34;
          }
        }
        uint64_t v31 = *(void **)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion34ParmesanGalleryMaskableContentView_maskingLayer];
        if (v31)
        {
          id v32 = v31;
          id v33 = objc_msgSend(v22, sel_layer);
          objc_msgSend(v33, sel_setMask_, v32);

          id v34 = objc_msgSend(v22, sel_layer);
          objc_msgSend(v34, sel_setInvertsMask_, 1);
        }
        else
        {
        }
        goto LABEL_33;
      }
LABEL_46:

      swift_bridgeObjectRelease();
    }
  }
}

void sub_246BBE394(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v49 = *(void **)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
  if (!v49) {
    return;
  }
  uint64_t v6 = *(void **)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
  if (!v6) {
    return;
  }
  uint64_t v8 = *(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v49) + 0xA8);
  uint64_t v50 = v49;
  uint64_t v9 = v6;
  uint64_t v10 = (void *)v8();
  if (v10)
  {

    unsigned int v11 = &unk_26FB1F410;
  }
  else
  {
    unsigned int v11 = &unk_26FB1F438;
  }
  uint64_t v40 = v11;
  uint64_t v12 = v11[2];
  if (!v12)
  {
LABEL_43:

    swift_bridgeObjectRelease();

    return;
  }
  uint64_t v13 = 0;
  uint64_t v14 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView;
  uint64_t v15 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView;
  id v16 = (char *)(v11 + 4);
  uint64_t v41 = a5;
  uint64_t v42 = OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout;
  uint64_t v47 = v11[2];
  uint64_t v48 = v9;
  uint64_t v45 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView;
  uint64_t v46 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView;
  unint64_t v44 = (char *)(v11 + 4);
  while (1)
  {
    unsigned int v17 = v16[v13];
    if (v17 >= 2) {
      uint64_t v18 = v14;
    }
    else {
      uint64_t v18 = v15;
    }
    id v19 = *(char **)&v9[v18];
    if (v19) {
      BOOL v20 = v17 == 2;
    }
    else {
      BOOL v20 = 1;
    }
    if (v20) {
      goto LABEL_12;
    }
    uint64_t v21 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryContentContainerView_legibilityCurtainView;
    id v22 = *(void **)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryContentContainerView_legibilityCurtainView];
    uint64_t v51 = v19;
    id v23 = objc_msgSend(v22, sel_layer);
    id v24 = objc_msgSend(v23, sel_sublayers);

    if (v24) {
      break;
    }
LABEL_31:
    uint64_t v30 = (void *)(*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v50) + 0xA0))();
    if (v30)
    {
      uint64_t v31 = v30;
      if (a2)
      {
        id v32 = *(id *)((char *)v50 + v42);
        unint64_t v33 = sub_246BF9238(v31, (uint64_t)v32, a5);

        if (v33 >> 62)
        {
          swift_bridgeObjectRetain();
          uint64_t v34 = sub_246C2D3B8();
          if (v34)
          {
LABEL_35:
            if (v34 < 1) {
              goto LABEL_47;
            }
            uint64_t v35 = 0;
            unint64_t v36 = *(void **)&v19[v21];
            do
            {
              if ((v33 & 0xC000000000000001) != 0) {
                id v37 = (id)MEMORY[0x24C544350](v35, v33);
              }
              else {
                id v37 = *(id *)(v33 + 8 * v35 + 32);
              }
              char v38 = v37;
              ++v35;
              id v39 = objc_msgSend(v36, sel_layer, v40);
              objc_msgSend(v39, sel_addSublayer_, v38);
            }
            while (v34 != v35);
          }
        }
        else
        {
          uint64_t v34 = *(void *)((v33 & 0xFFFFFFFFFFFFFF8) + 0x10);
          swift_bridgeObjectRetain();
          if (v34) {
            goto LABEL_35;
          }
        }

        swift_bridgeObjectRelease_n();
        a5 = v41;
        goto LABEL_11;
      }
    }
LABEL_11:
    uint64_t v12 = v47;
    uint64_t v9 = v48;
    uint64_t v15 = v45;
    uint64_t v14 = v46;
    id v16 = v44;
LABEL_12:
    if (++v13 == v12) {
      goto LABEL_43;
    }
  }
  sub_246BBE900();
  unint64_t v25 = sub_246C2CD38();

  if (!(v25 >> 62))
  {
    uint64_t v26 = *(void *)((v25 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (v26) {
      goto LABEL_23;
    }
LABEL_30:
    swift_bridgeObjectRelease();
    goto LABEL_31;
  }
  swift_bridgeObjectRetain();
  uint64_t v26 = sub_246C2D3B8();
  swift_bridgeObjectRelease();
  if (!v26) {
    goto LABEL_30;
  }
LABEL_23:
  if (v26 >= 1)
  {
    for (uint64_t i = 0; i != v26; ++i)
    {
      if ((v25 & 0xC000000000000001) != 0) {
        id v28 = (id)MEMORY[0x24C544350](i, v25);
      }
      else {
        id v28 = *(id *)(v25 + 8 * i + 32);
      }
      __n128 v29 = v28;
      objc_msgSend(v28, sel_removeFromSuperlayer, v40);
    }
    goto LABEL_30;
  }
  __break(1u);
LABEL_47:
  __break(1u);
}

uint64_t sub_246BBE818(uint64_t a1, uint64_t a2)
{
  if (a2)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
  return result;
}

id sub_246BBE868(void *a1, void *a2)
{
  uint64_t v5 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition;
  *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition] = 0;
  uint64_t v6 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views;
  *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views] = 0;
  uint64_t v7 = *(void **)&v2[v5];
  *(void *)&v2[v5] = a1;
  uint64_t v8 = v2;
  id v9 = a1;

  uint64_t v10 = *(void **)&v2[v6];
  *(void *)&v2[v6] = a2;
  id v11 = a2;

  v13.receiver = v8;
  v13.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryItem();
  return objc_msgSendSuper2(&v13, sel_init);
}

unint64_t sub_246BBE900()
{
  unint64_t result = qword_2691D7640[0];
  if (!qword_2691D7640[0])
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, qword_2691D7640);
  }
  return result;
}

uint64_t sub_246BBE940(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 24);
  *(void *)(a2 + 24) = v3;
  *(void *)(a2 + 32) = *(void *)(a1 + 32);
  (**(void (***)(uint64_t, uint64_t))(v3 - 8))(a2, a1);
  return a2;
}

uint64_t ParmesanTransitioningContextFromOptional.from.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = sub_246C2D1A8();
  uint64_t v4 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v3 - 8) + 16);

  return v4(a1, v1, v3);
}

uint64_t ParmesanTransitioningContextFromOptional.init(from:to:)@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  uint64_t v8 = sub_246C2D1A8();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 32))(a4, a1, v8);
  uint64_t v9 = a4 + *(int *)(type metadata accessor for ParmesanTransitioningContextFromOptional() + 28);
  uint64_t v10 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(a3 - 8) + 32);

  return v10(v9, a2, a3);
}

uint64_t type metadata accessor for ParmesanTransitioningContextFromOptional()
{
  return sub_246B98FA0();
}

uint64_t ParmesanTransitioningContextNeitherOptional.from.getter@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return (*(uint64_t (**)(uint64_t, uint64_t))(*(void *)(*(void *)(a1 + 16) - 8) + 16))(a2, v2);
}

uint64_t _s30NTKParmesanFaceBundleCompanion40ParmesanTransitioningContextFromOptionalV2toxvg_0@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return (*(uint64_t (**)(uint64_t, uint64_t))(*(void *)(*(void *)(a1 + 16) - 8) + 16))(a2, v2 + *(int *)(a1 + 28));
}

uint64_t ParmesanTransitioningContextNeitherOptional.init(from:to:)@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  uint64_t v9 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(a3 - 8) + 32);
  v9(a3 - 8, a4, a1);
  uint64_t v7 = a4 + *(int *)(type metadata accessor for ParmesanTransitioningContextNeitherOptional() + 28);

  return v9(v7, a2, a3);
}

uint64_t type metadata accessor for ParmesanTransitioningContextNeitherOptional()
{
  return sub_246B98FA0();
}

uint64_t sub_246BBEC20(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return MEMORY[0x270FA01A8](a1, a2, a3, 16);
}

uint64_t sub_246BBEC28()
{
  uint64_t result = sub_246C2D1A8();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_checkMetadataState();
    if (v2 <= 0x3F)
    {
      swift_initStructMetadata();
      return 0;
    }
  }
  return result;
}

uint64_t *sub_246BBECFC(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void *)(v6 + 64);
  if (*(_DWORD *)(v6 + 84)) {
    size_t v8 = *(void *)(v6 + 64);
  }
  else {
    size_t v8 = v7 + 1;
  }
  uint64_t v9 = *(_DWORD *)(v6 + 80);
  uint64_t v10 = ~v9;
  size_t v11 = v8 + v9;
  unint64_t v12 = ((v8 + v9) & v10) + v7;
  if (v9 > 7 || (*(_DWORD *)(v6 + 80) & 0x100000) != 0 || v12 > 0x18)
  {
    uint64_t v15 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v15 + ((v9 + 16) & v10));
    swift_retain();
  }
  else if ((*(unsigned int (**)(uint64_t *, uint64_t, uint64_t))(v6 + 48))(a2, 1, v5))
  {
    memcpy(a1, a2, v8);
    (*(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 16))(((unint64_t)a1 + v11) & v10, ((unint64_t)a2 + v11) & v10, v5);
  }
  else
  {
    id v16 = *(void (**)(uint64_t *, uint64_t *, uint64_t))(v6 + 16);
    v16(a1, a2, v5);
    (*(void (**)(uint64_t *, void, uint64_t, uint64_t))(v6 + 56))(a1, 0, 1, v5);
    v16((uint64_t *)(((unint64_t)a1 + v11) & v10), (uint64_t *)(((unint64_t)a2 + v11) & v10), v5);
  }
  return a1;
}

uint64_t sub_246BBEE78(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a2 + 16);
  uint64_t v4 = *(void *)(v3 - 8);
  int v5 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v4 + 48))(a1, 1, v3);
  uint64_t v6 = *(void (**)(uint64_t, uint64_t))(v4 + 8);
  if (!v5)
  {
    uint64_t v10 = *(void (**)(uint64_t, uint64_t))(v4 + 8);
    v6(a1, v3);
    uint64_t v6 = v10;
  }
  uint64_t v7 = *(unsigned __int8 *)(v4 + 80);
  uint64_t v8 = *(void *)(v4 + 64) + a1;
  if (!*(_DWORD *)(v4 + 84)) {
    ++v8;
  }

  return ((uint64_t (*)(uint64_t, uint64_t))v6)((v8 + v7) & ~v7, v3);
}

void *sub_246BBEF6C(void *a1, const void *a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  if ((*(unsigned int (**)(const void *, uint64_t, uint64_t))(v6 + 48))(a2, 1, v5))
  {
    int v7 = *(_DWORD *)(v6 + 84);
    uint64_t v8 = *(void *)(v6 + 64);
    if (v7) {
      size_t v9 = *(void *)(v6 + 64);
    }
    else {
      size_t v9 = v8 + 1;
    }
    memcpy(a1, a2, v9);
    uint64_t v10 = *(void (**)(void *, const void *, uint64_t))(v6 + 16);
  }
  else
  {
    uint64_t v10 = *(void (**)(void *, const void *, uint64_t))(v6 + 16);
    v10(a1, a2, v5);
    (*(void (**)(void *, void, uint64_t, uint64_t))(v6 + 56))(a1, 0, 1, v5);
    int v7 = *(_DWORD *)(v6 + 84);
    uint64_t v8 = *(void *)(v6 + 64);
  }
  if (v7) {
    uint64_t v11 = v8;
  }
  else {
    uint64_t v11 = v8 + 1;
  }
  v10((void *)(((unint64_t)a1 + v11 + *(unsigned __int8 *)(v6 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80)), (const void *)(((unint64_t)a2 + v11 + *(unsigned __int8 *)(v6 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80)), v5);
  return a1;
}

void *sub_246BBF0BC(void *a1, void *a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  int v7 = *(uint64_t (**)(void *, uint64_t, uint64_t))(v6 + 48);
  int v8 = v7(a1, 1, v5);
  int v9 = v7(a2, 1, v5);
  if (v8)
  {
    if (!v9)
    {
      (*(void (**)(void *, void *, uint64_t))(v6 + 16))(a1, a2, v5);
      (*(void (**)(void *, void, uint64_t, uint64_t))(v6 + 56))(a1, 0, 1, v5);
      goto LABEL_12;
    }
    int v10 = *(_DWORD *)(v6 + 84);
    size_t v11 = *(void *)(v6 + 64);
  }
  else
  {
    if (!v9)
    {
      (*(void (**)(void *, void *, uint64_t))(v6 + 24))(a1, a2, v5);
      goto LABEL_12;
    }
    (*(void (**)(void *, uint64_t))(v6 + 8))(a1, v5);
    int v10 = *(_DWORD *)(v6 + 84);
    size_t v11 = *(void *)(v6 + 64);
  }
  if (v10) {
    size_t v12 = v11;
  }
  else {
    size_t v12 = v11 + 1;
  }
  memcpy(a1, a2, v12);
LABEL_12:
  uint64_t v15 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 24);
  uint64_t v14 = v6 + 24;
  objc_super v13 = v15;
  if (*(_DWORD *)(v14 + 60)) {
    uint64_t v16 = *(void *)(v14 + 40);
  }
  else {
    uint64_t v16 = *(void *)(v14 + 40) + 1;
  }
  v13(((unint64_t)a1 + v16 + *(unsigned __int8 *)(v14 + 56)) & ~(unint64_t)*(unsigned __int8 *)(v14 + 56), ((unint64_t)a2 + v16 + *(unsigned __int8 *)(v14 + 56)) & ~(unint64_t)*(unsigned __int8 *)(v14 + 56), v5);
  return a1;
}

void *sub_246BBF270(void *a1, const void *a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  if ((*(unsigned int (**)(const void *, uint64_t, uint64_t))(v6 + 48))(a2, 1, v5))
  {
    int v7 = *(_DWORD *)(v6 + 84);
    uint64_t v8 = *(void *)(v6 + 64);
    if (v7) {
      size_t v9 = *(void *)(v6 + 64);
    }
    else {
      size_t v9 = v8 + 1;
    }
    memcpy(a1, a2, v9);
    int v10 = *(void (**)(void *, const void *, uint64_t))(v6 + 32);
  }
  else
  {
    int v10 = *(void (**)(void *, const void *, uint64_t))(v6 + 32);
    v10(a1, a2, v5);
    (*(void (**)(void *, void, uint64_t, uint64_t))(v6 + 56))(a1, 0, 1, v5);
    int v7 = *(_DWORD *)(v6 + 84);
    uint64_t v8 = *(void *)(v6 + 64);
  }
  if (v7) {
    uint64_t v11 = v8;
  }
  else {
    uint64_t v11 = v8 + 1;
  }
  v10((void *)(((unint64_t)a1 + v11 + *(unsigned __int8 *)(v6 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80)), (const void *)(((unint64_t)a2 + v11 + *(unsigned __int8 *)(v6 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80)), v5);
  return a1;
}

void *sub_246BBF3C0(void *a1, void *a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  int v7 = *(uint64_t (**)(void *, uint64_t, uint64_t))(v6 + 48);
  int v8 = v7(a1, 1, v5);
  int v9 = v7(a2, 1, v5);
  if (v8)
  {
    if (!v9)
    {
      (*(void (**)(void *, void *, uint64_t))(v6 + 32))(a1, a2, v5);
      (*(void (**)(void *, void, uint64_t, uint64_t))(v6 + 56))(a1, 0, 1, v5);
      goto LABEL_12;
    }
    int v10 = *(_DWORD *)(v6 + 84);
    size_t v11 = *(void *)(v6 + 64);
  }
  else
  {
    if (!v9)
    {
      (*(void (**)(void *, void *, uint64_t))(v6 + 40))(a1, a2, v5);
      goto LABEL_12;
    }
    (*(void (**)(void *, uint64_t))(v6 + 8))(a1, v5);
    int v10 = *(_DWORD *)(v6 + 84);
    size_t v11 = *(void *)(v6 + 64);
  }
  if (v10) {
    size_t v12 = v11;
  }
  else {
    size_t v12 = v11 + 1;
  }
  memcpy(a1, a2, v12);
LABEL_12:
  uint64_t v15 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 40);
  uint64_t v14 = v6 + 40;
  objc_super v13 = v15;
  if (*(_DWORD *)(v14 + 44)) {
    uint64_t v16 = *(void *)(v14 + 24);
  }
  else {
    uint64_t v16 = *(void *)(v14 + 24) + 1;
  }
  v13(((unint64_t)a1 + v16 + *(unsigned __int8 *)(v14 + 40)) & ~(unint64_t)*(unsigned __int8 *)(v14 + 40), ((unint64_t)a2 + v16 + *(unsigned __int8 *)(v14 + 40)) & ~(unint64_t)*(unsigned __int8 *)(v14 + 40), v5);
  return a1;
}

uint64_t sub_246BBF574(unsigned __int16 *a1, unsigned int a2, uint64_t a3)
{
  uint64_t v4 = *(void *)(*(void *)(a3 + 16) - 8);
  unsigned int v5 = *(_DWORD *)(v4 + 84);
  unsigned int v6 = v5 - 1;
  if (!v5) {
    unsigned int v6 = 0;
  }
  uint64_t v7 = *(void *)(*(void *)(*(void *)(a3 + 16) - 8) + 64);
  uint64_t v8 = *(unsigned __int8 *)(v4 + 80);
  uint64_t v9 = v7 + v8;
  if (v5) {
    uint64_t v10 = v7 + v8;
  }
  else {
    uint64_t v10 = v9 + 1;
  }
  if (!a2) {
    return 0;
  }
  unsigned int v11 = a2 - v5;
  if (a2 <= v5) {
    goto LABEL_24;
  }
  uint64_t v12 = (v10 & ~v8) + v7;
  char v13 = 8 * v12;
  if (v12 <= 3)
  {
    unsigned int v15 = ((v11 + ~(-1 << v13)) >> v13) + 1;
    if (HIWORD(v15))
    {
      int v14 = *(_DWORD *)((char *)a1 + v12);
      if (!v14) {
        goto LABEL_24;
      }
      goto LABEL_16;
    }
    if (v15 > 0xFF)
    {
      int v14 = *(unsigned __int16 *)((char *)a1 + v12);
      if (!*(unsigned __int16 *)((char *)a1 + v12)) {
        goto LABEL_24;
      }
      goto LABEL_16;
    }
    if (v15 < 2)
    {
LABEL_24:
      if (v5)
      {
        if (v6 == v5)
        {
          unsigned int v17 = (*(uint64_t (**)(void))(v4 + 48))();
          if (v17 >= 2) {
            return v17 - 1;
          }
          else {
            return 0;
          }
        }
        else
        {
          unint64_t v19 = ((unint64_t)a1 + v9) & ~v8;
          BOOL v20 = *(uint64_t (**)(unint64_t))(v4 + 48);
          return v20(v19);
        }
      }
      return 0;
    }
  }
  int v14 = *((unsigned __int8 *)a1 + v12);
  if (!*((unsigned char *)a1 + v12)) {
    goto LABEL_24;
  }
LABEL_16:
  int v16 = (v14 - 1) << v13;
  if (v12 > 3) {
    int v16 = 0;
  }
  if (v12)
  {
    if (v12 > 3) {
      LODWORD(v12) = 4;
    }
    switch((int)v12)
    {
      case 2:
        LODWORD(v12) = *a1;
        break;
      case 3:
        LODWORD(v12) = *a1 | (*((unsigned __int8 *)a1 + 2) << 16);
        break;
      case 4:
        LODWORD(v12) = *(_DWORD *)a1;
        break;
      default:
        LODWORD(v12) = *(unsigned __int8 *)a1;
        break;
    }
  }
  return v5 + (v12 | v16) + 1;
}

void sub_246BBF750(char *a1, uint64_t a2, unsigned int a3, uint64_t a4)
{
  unsigned int v5 = a1;
  int v6 = 0;
  uint64_t v7 = *(void *)(*(void *)(a4 + 16) - 8);
  unsigned int v8 = *(_DWORD *)(v7 + 84);
  unsigned int v9 = v8 - 1;
  if (!v8) {
    unsigned int v9 = 0;
  }
  uint64_t v10 = *(void *)(v7 + 64);
  if (v8) {
    uint64_t v11 = *(void *)(v7 + 64);
  }
  else {
    uint64_t v11 = v10 + 1;
  }
  uint64_t v12 = *(unsigned __int8 *)(v7 + 80);
  uint64_t v13 = v11 + v12;
  size_t v14 = (v13 & ~v12) + v10;
  BOOL v15 = a3 >= v8;
  unsigned int v16 = a3 - v8;
  if (v16 == 0 || !v15)
  {
LABEL_15:
    if (v8 < a2) {
      goto LABEL_16;
    }
    goto LABEL_23;
  }
  if (v14 > 3)
  {
    int v6 = 1;
    if (v8 < a2) {
      goto LABEL_16;
    }
    goto LABEL_23;
  }
  unsigned int v17 = ((v16 + ~(-1 << (8 * v14))) >> (8 * v14)) + 1;
  if (!HIWORD(v17))
  {
    if (v17 >= 0x100) {
      int v6 = 2;
    }
    else {
      int v6 = v17 > 1;
    }
    goto LABEL_15;
  }
  int v6 = 4;
  if (v8 < a2)
  {
LABEL_16:
    unsigned int v18 = ~v8 + a2;
    if (v14 < 4)
    {
      int v19 = (v18 >> (8 * v14)) + 1;
      if (v14)
      {
        int v20 = v18 & ~(-1 << (8 * v14));
        bzero(a1, v14);
        if (v14 == 3)
        {
          *(_WORD *)unsigned int v5 = v20;
          v5[2] = BYTE2(v20);
        }
        else if (v14 == 2)
        {
          *(_WORD *)unsigned int v5 = v20;
        }
        else
        {
          char *v5 = v20;
        }
      }
    }
    else
    {
      bzero(a1, v14);
      *(_DWORD *)unsigned int v5 = v18;
      int v19 = 1;
    }
    switch(v6)
    {
      case 1:
        v5[v14] = v19;
        return;
      case 2:
        *(_WORD *)&v5[v14] = v19;
        return;
      case 3:
        goto LABEL_43;
      case 4:
        *(_DWORD *)&v5[v14] = v19;
        return;
      default:
        return;
    }
  }
LABEL_23:
  switch(v6)
  {
    case 1:
      a1[v14] = 0;
      if (!a2) {
        return;
      }
      goto LABEL_28;
    case 2:
      *(_WORD *)&a1[v14] = 0;
      if (!a2) {
        return;
      }
      goto LABEL_28;
    case 3:
LABEL_43:
      __break(1u);
      JUMPOUT(0x246BBF9B0);
    case 4:
      *(_DWORD *)&a1[v14] = 0;
      goto LABEL_27;
    default:
LABEL_27:
      if (a2)
      {
LABEL_28:
        if (v9 == v8) {
          a2 = (a2 + 1);
        }
        else {
          a1 = (char *)((unint64_t)&a1[v13] & ~v12);
        }
        uint64_t v21 = *(void (**)(char *, uint64_t))(v7 + 56);
        v21(a1, a2);
      }
      return;
  }
}

uint64_t sub_246BBF9D8()
{
  uint64_t result = swift_checkMetadataState();
  if (v1 <= 0x3F)
  {
    swift_initStructMetadata();
    return 0;
  }
  return result;
}

uint64_t *sub_246BBFA68(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v4 = a1;
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void *)(v6 + 64);
  uint64_t v8 = *(_DWORD *)(v6 + 80);
  uint64_t v9 = ~v8;
  uint64_t v10 = v7 + v8;
  unint64_t v11 = ((v7 + v8) & ~v8) + v7;
  if (v8 > 7 || (*(_DWORD *)(v6 + 80) & 0x100000) != 0 || v11 > 0x18)
  {
    uint64_t v14 = *a2;
    *uint64_t v4 = *a2;
    uint64_t v4 = (uint64_t *)(v14 + ((v8 + 16) & v9));
    swift_retain();
  }
  else
  {
    BOOL v15 = *(void (**)(uint64_t *, uint64_t *, uint64_t))(v6 + 16);
    v15(a1, a2, v5);
    v15((uint64_t *)(((unint64_t)v4 + v10) & v9), (uint64_t *)(((unint64_t)a2 + v10) & v9), v5);
  }
  return v4;
}

uint64_t sub_246BBFB74(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a2 + 16);
  uint64_t v6 = *(void *)(v3 - 8) + 8;
  uint64_t v7 = *(uint64_t (**)(unint64_t, uint64_t))v6;
  (*(void (**)(uint64_t, uint64_t))v6)(a1, v3);
  unint64_t v4 = (*(void *)(v6 + 56) + a1 + *(unsigned __int8 *)(v6 + 72)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 72);

  return v7(v4, v3);
}

unint64_t sub_246BBFC10(unint64_t a1, unint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 16);
  uint64_t v8 = v6 + 16;
  v7(a1, a2, v5);
  v7((*(void *)(v8 + 48) + *(unsigned __int8 *)(v8 + 64) + a1) & ~(unint64_t)*(unsigned __int8 *)(v8 + 64), (*(void *)(v8 + 48) + *(unsigned __int8 *)(v8 + 64) + a2) & ~(unint64_t)*(unsigned __int8 *)(v8 + 64), v5);
  return a1;
}

unint64_t sub_246BBFCA4(unint64_t a1, unint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 24);
  uint64_t v8 = v6 + 24;
  v7(a1, a2, v5);
  v7((*(void *)(v8 + 40) + *(unsigned __int8 *)(v8 + 56) + a1) & ~(unint64_t)*(unsigned __int8 *)(v8 + 56), (*(void *)(v8 + 40) + *(unsigned __int8 *)(v8 + 56) + a2) & ~(unint64_t)*(unsigned __int8 *)(v8 + 56), v5);
  return a1;
}

unint64_t sub_246BBFD38(unint64_t a1, unint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 32);
  uint64_t v8 = v6 + 32;
  v7(a1, a2, v5);
  v7((*(void *)(v8 + 32) + *(unsigned __int8 *)(v8 + 48) + a1) & ~(unint64_t)*(unsigned __int8 *)(v8 + 48), (*(void *)(v8 + 32) + *(unsigned __int8 *)(v8 + 48) + a2) & ~(unint64_t)*(unsigned __int8 *)(v8 + 48), v5);
  return a1;
}

unint64_t sub_246BBFDCC(unint64_t a1, unint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a3 + 16);
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void (**)(unint64_t, unint64_t, uint64_t))(v6 + 40);
  uint64_t v8 = v6 + 40;
  v7(a1, a2, v5);
  v7((*(void *)(v8 + 24) + *(unsigned __int8 *)(v8 + 40) + a1) & ~(unint64_t)*(unsigned __int8 *)(v8 + 40), (*(void *)(v8 + 24) + *(unsigned __int8 *)(v8 + 40) + a2) & ~(unint64_t)*(unsigned __int8 *)(v8 + 40), v5);
  return a1;
}

uint64_t sub_246BBFE60(unsigned __int16 *a1, unsigned int a2, uint64_t a3)
{
  uint64_t v4 = *(void *)(*(void *)(a3 + 16) - 8);
  unsigned int v5 = *(_DWORD *)(v4 + 84);
  if (!a2) {
    return 0;
  }
  unsigned int v7 = a2 - v5;
  if (a2 <= v5) {
    goto LABEL_19;
  }
  uint64_t v6 = *(void *)(*(void *)(*(void *)(a3 + 16) - 8) + 64);
  uint64_t v8 = ((v6 + *(unsigned __int8 *)(v4 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80)) + v6;
  char v9 = 8 * v8;
  if (v8 <= 3)
  {
    unsigned int v11 = ((v7 + ~(-1 << v9)) >> v9) + 1;
    if (HIWORD(v11))
    {
      int v10 = *(_DWORD *)((char *)a1 + v8);
      if (!v10) {
        goto LABEL_19;
      }
      goto LABEL_11;
    }
    if (v11 > 0xFF)
    {
      int v10 = *(unsigned __int16 *)((char *)a1 + v8);
      if (!*(unsigned __int16 *)((char *)a1 + v8)) {
        goto LABEL_19;
      }
      goto LABEL_11;
    }
    if (v11 < 2)
    {
LABEL_19:
      if (v5) {
        return (*(uint64_t (**)(void))(v4 + 48))();
      }
      return 0;
    }
  }
  int v10 = *((unsigned __int8 *)a1 + v8);
  if (!*((unsigned char *)a1 + v8)) {
    goto LABEL_19;
  }
LABEL_11:
  int v12 = (v10 - 1) << v9;
  if (v8 > 3) {
    int v12 = 0;
  }
  if (v8)
  {
    if (v8 > 3) {
      LODWORD(v8) = 4;
    }
    switch((int)v8)
    {
      case 2:
        LODWORD(v8) = *a1;
        break;
      case 3:
        LODWORD(v8) = *a1 | (*((unsigned __int8 *)a1 + 2) << 16);
        break;
      case 4:
        LODWORD(v8) = *(_DWORD *)a1;
        break;
      default:
        LODWORD(v8) = *(unsigned __int8 *)a1;
        break;
    }
  }
  return v5 + (v8 | v12) + 1;
}

void sub_246BBFFCC(char *a1, unsigned int a2, unsigned int a3, uint64_t a4)
{
  uint64_t v6 = *(void *)(*(void *)(a4 + 16) - 8);
  unsigned int v7 = *(_DWORD *)(v6 + 84);
  size_t v8 = ((*(void *)(v6 + 64) + *(unsigned __int8 *)(v6 + 80)) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80))
     + *(void *)(v6 + 64);
  BOOL v9 = a3 >= v7;
  unsigned int v10 = a3 - v7;
  if (v10 != 0 && v9)
  {
    if (v8 <= 3)
    {
      unsigned int v14 = ((v10 + ~(-1 << (8 * v8))) >> (8 * v8)) + 1;
      if (HIWORD(v14))
      {
        int v11 = 4;
      }
      else if (v14 >= 0x100)
      {
        int v11 = 2;
      }
      else
      {
        int v11 = v14 > 1;
      }
    }
    else
    {
      int v11 = 1;
    }
  }
  else
  {
    int v11 = 0;
  }
  if (v7 < a2)
  {
    unsigned int v12 = ~v7 + a2;
    if (v8 < 4)
    {
      int v13 = (v12 >> (8 * v8)) + 1;
      if (v8)
      {
        int v15 = v12 & ~(-1 << (8 * v8));
        bzero(a1, v8);
        if (v8 == 3)
        {
          *(_WORD *)a1 = v15;
          a1[2] = BYTE2(v15);
        }
        else if (v8 == 2)
        {
          *(_WORD *)a1 = v15;
        }
        else
        {
          *a1 = v15;
        }
      }
    }
    else
    {
      bzero(a1, v8);
      *(_DWORD *)a1 = v12;
      int v13 = 1;
    }
    switch(v11)
    {
      case 1:
        a1[v8] = v13;
        return;
      case 2:
        *(_WORD *)&a1[v8] = v13;
        return;
      case 3:
        goto LABEL_34;
      case 4:
        *(_DWORD *)&a1[v8] = v13;
        return;
      default:
        return;
    }
  }
  switch(v11)
  {
    case 1:
      a1[v8] = 0;
      if (!a2) {
        return;
      }
      goto LABEL_21;
    case 2:
      *(_WORD *)&a1[v8] = 0;
      if (!a2) {
        return;
      }
      goto LABEL_21;
    case 3:
LABEL_34:
      __break(1u);
      JUMPOUT(0x246BC01F4);
    case 4:
      *(_DWORD *)&a1[v8] = 0;
      goto LABEL_20;
    default:
LABEL_20:
      if (a2)
      {
LABEL_21:
        unsigned int v16 = *(void (**)(void))(v6 + 56);
        v16();
      }
      return;
  }
}

void sub_246BC021C(double a1, double a2)
{
  uint64_t v4 = v2[1];
  if (*v2)
  {
    unsigned int v5 = *(char **)(*v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v5)
    {
      unsigned int v7 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
      size_t v8 = v5;
      if (v7)
      {
        id v9 = v7;
        sub_246C108AC();
        objc_msgSend(v9, sel_setAlpha_, a1);
      }
      unsigned int v10 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
      if (v10)
      {
        int v11 = v10;
        sub_246C108AC();
        objc_msgSend(v11, sel_setAlpha_, a1);

        unsigned int v5 = v11;
      }
    }
  }
  uint64_t v12 = *(void *)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
  if (v12)
  {
    int v13 = *(void **)(v12 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
    int v19 = *(char **)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    unsigned int v14 = v19;
    if (v13)
    {
      id v15 = v13;
      sub_246C108AC();
      objc_msgSend(v15, sel_setAlpha_, a2);
    }
    unsigned int v16 = v19;
    unsigned int v17 = *(void **)&v19[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
    if (v17)
    {
      id v18 = v17;
      sub_246C108AC();
      objc_msgSend(v18, sel_setAlpha_, a2);

      unsigned int v16 = v18;
    }
  }
}

void sub_246BC03C4()
{
  uint64_t v1 = v0[1];
  if (*v0)
  {
    unint64_t v2 = *(void **)(*v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v2)
    {
      uint64_t v3 = v2;
      sub_246C2C018();
      CGAffineTransformMakeScale(&v24, v4, v4);
      CGFloat a = v24.a;
      CGFloat b = v24.b;
      CGFloat c = v24.c;
      CGFloat d = v24.d;
      tdouble x = v24.tx;
      tdouble y = v24.ty;
      int v11 = *(void **)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
      if (v11) {
        objc_msgSend(v11, sel_setTransform_, &v24);
      }
      uint64_t v12 = *(void **)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
      if (v12)
      {
        v24.CGFloat a = a;
        v24.CGFloat b = b;
        v24.CGFloat c = c;
        v24.CGFloat d = d;
        v24.tdouble x = tx;
        v24.tdouble y = ty;
        objc_msgSend(v12, sel_setTransform_, &v24);
      }
    }
  }
  int v13 = *(void **)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
  if (v13)
  {
    unsigned int v14 = v13;
    sub_246C2C018();
    CGAffineTransformMakeScale(&v24, v15, v15);
    CGFloat v16 = v24.a;
    CGFloat v17 = v24.b;
    CGFloat v18 = v24.c;
    CGFloat v19 = v24.d;
    CGFloat v20 = v24.tx;
    CGFloat v21 = v24.ty;
    id v22 = *(void **)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
    if (v22) {
      objc_msgSend(v22, sel_setTransform_, &v24);
    }
    id v23 = *(void **)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
    if (v23)
    {
      v24.CGFloat a = v16;
      v24.CGFloat b = v17;
      v24.CGFloat c = v18;
      v24.CGFloat d = v19;
      v24.tdouble x = v20;
      v24.tdouble y = v21;
      objc_msgSend(v23, sel_setTransform_, &v24);
    }
  }
}

uint64_t sub_246BC0568(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

void sub_246BC057C(double a1, double a2, double a3, double a4)
{
  unsigned int v5 = v4;
  uint64_t v6 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_config;
  uint64_t v7 = *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_config];
  if (!*(unsigned char *)(v7 + 24))
  {
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v30 = sub_246C2C088();
    sub_246B8BE0C(v30, (uint64_t)qword_2691E00F0);
    uint64_t v31 = v4;
    id v32 = sub_246C2C068();
    os_log_type_t v33 = sub_246C2CED8();
    if (os_log_type_enabled(v32, v33))
    {
      uint64_t v34 = (uint8_t *)swift_slowAlloc();
      id v76 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v34 = 138412290;
      id v78 = *(id *)(*(void *)&v5[v6] + 16);
      id v35 = v78;
      sub_246C2D1C8();
      *id v76 = v78;

      _os_log_impl(&dword_246B51000, v32, v33, "Background style is none, skipping view setup for composition: %@", v34, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v76, -1, -1);
      MEMORY[0x24C545990](v34, -1, -1);
    }
    else
    {
    }
LABEL_14:
    type metadata accessor for ParmesanAssetComposition();
    uint64_t v46 = swift_dynamicCastClass();
    if (!v46) {
      goto LABEL_33;
    }
    uint64_t v47 = (uint64_t *)(*(void *)(v46 + OBJC_IVAR___NTKParmesanAssetComposition_asset)
                    + OBJC_IVAR___NTKParmesanAsset_accessibilityDescription);
    unint64_t v48 = v47[1];
    if (!v48) {
      goto LABEL_33;
    }
    uint64_t v49 = *v47;
    uint64_t v50 = HIBYTE(v48) & 0xF;
    if ((v48 & 0x2000000000000000) == 0) {
      uint64_t v50 = v49 & 0xFFFFFFFFFFFFLL;
    }
    if (!v50) {
      goto LABEL_33;
    }
    uint64_t v51 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView;
    uint64_t v52 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
    if (v52)
    {
      swift_bridgeObjectRetain();
      objc_msgSend(v52, sel_setIsAccessibilityElement_, 1);
      uint64_t v53 = *(void **)&v5[v51];
      if (v53)
      {
        objc_msgSend(v53, sel_setAccessibilityTraits_, *MEMORY[0x263F83270]);
        uint64_t v54 = *(void **)&v5[v51];
        if (v54)
        {
          id v55 = v54;
          uint64_t v56 = (void *)sub_246C2CC08();
          swift_bridgeObjectRelease();
          objc_msgSend(v55, sel_setAccessibilityLabel_, v56);

          goto LABEL_33;
        }
      }
    }
    else
    {
      swift_bridgeObjectRetain();
    }
    swift_bridgeObjectRelease();
LABEL_33:
    uint64_t v70 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView;
    uint64_t v71 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
    if (v71)
    {
      id v72 = objc_msgSend(v71, sel_layer);
      if (qword_2691D62C8 != -1) {
        swift_once();
      }
      sub_246B80250(&qword_2691D7768);
      id v73 = (void *)sub_246C2CBA8();
      objc_msgSend(v72, sel_setActions_, v73);

      long long v74 = *(void **)&v5[v70];
      if (v74) {
        objc_msgSend(v74, sel_setOpaque_, 1);
      }
    }
    return;
  }
  if (*(unsigned char *)(v7 + 24) == 1)
  {
    uint64_t v12 = *(void **)(v7 + 16);
    int v13 = (void *)MEMORY[0x263F8EED0];
    unsigned int v14 = *(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v12) + 0x98);
    uint64_t v75 = v12;
    CGFloat v15 = (void *)v14();
    if (v15)
    {
      CGFloat v16 = *(uint64_t (**)(void))((*v13 & *(void *)v75) + 0x138);
      id v17 = v15;
      CGFloat v18 = (void *)v16();
      double v19 = (*(double (**)(void))((*v13 & *(void *)v75) + 0x148))();
      CGFloat v20 = (objc_class *)type metadata accessor for ParmesanGalleryImageContentView();
      CGFloat v21 = (char *)objc_allocWithZone(v20);
      uint64_t v22 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryImageContentView_dimming;
      *(void *)&v21[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryImageContentView_dimming] = 0x3FF0000000000000;
      *(void *)&v21[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryImageContentView_monochromeColorMatrix] = v18;
      *(double *)&v21[v22] = v19;
      v77.receiver = v21;
      v77.uint64_t super_class = v20;
      id v23 = v18;
      id v24 = objc_msgSendSuper2(&v77, sel_initWithFrame_, 0.0, 0.0, a3, a4);
      id v25 = v17;
      id v26 = v24;
      objc_msgSend(v26, sel_setImage_, v25);

      objc_msgSend(v26, sel_setContentMode_, 2);
      objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryContentContainerView());
      os_log_type_t v27 = (char *)v26;
      id v28 = sub_246C106EC(v27, 0, a1, a2, a3, a4);
      __n128 v29 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
      *(void *)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView] = v28;

LABEL_12:
      goto LABEL_14;
    }
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v57 = sub_246C2C088();
    sub_246B8BE0C(v57, (uint64_t)qword_2691E00F0);
    uint64_t v58 = v4;
    uint64_t v59 = sub_246C2C068();
    os_log_type_t v60 = sub_246C2CEE8();
    if (os_log_type_enabled(v59, v60))
    {
      unint64_t v61 = (uint8_t *)swift_slowAlloc();
      uint64_t v62 = (void *)swift_slowAlloc();
      *(_DWORD *)unint64_t v61 = 138412290;
      id v78 = *(id *)(*(void *)&v5[v6] + 16);
      id v63 = v78;
      sub_246C2D1C8();
      *uint64_t v62 = v78;

      _os_log_impl(&dword_246B51000, v59, v60, "Found nil layout image when setting up background view for composition: %@", v61, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v62, -1, -1);
      MEMORY[0x24C545990](v61, -1, -1);

      return;
    }
  }
  else
  {
    unint64_t v36 = *(void **)(v7 + 16);
    type metadata accessor for ParmesanAssetComposition();
    uint64_t v37 = swift_dynamicCastClass();
    if (v37)
    {
      char v38 = (void *)v37;
      id v39 = self;
      id v40 = v36;
      id v41 = objc_msgSend(v39, sel_currentDevice);
      if (!v41)
      {
        __break(1u);
        return;
      }
      uint64_t v42 = v41;
      id v43 = objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryLivePhotoContentView());
      id v25 = v40;
      unint64_t v44 = sub_246BB8188(v38, v42, 0.0, 0.0, a3, a4);
      objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryContentContainerView());
      os_log_type_t v27 = v44;
      uint64_t v45 = sub_246C106EC(v27, 0, a1, a2, a3, a4);
      __n128 v29 = *(void **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
      *(void *)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView] = v45;
      goto LABEL_12;
    }
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v64 = sub_246C2C088();
    sub_246B8BE0C(v64, (uint64_t)qword_2691E00F0);
    uint64_t v75 = v4;
    uint64_t v65 = sub_246C2C068();
    os_log_type_t v66 = sub_246C2CEE8();
    if (os_log_type_enabled(v65, v66))
    {
      uint64_t v67 = (uint8_t *)swift_slowAlloc();
      uint64_t v68 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v67 = 138412290;
      id v78 = *(id *)(*(void *)&v5[v6] + 16);
      id v69 = v78;
      sub_246C2D1C8();
      *uint64_t v68 = v78;

      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v68, -1, -1);
      MEMORY[0x24C545990](v67, -1, -1);

      return;
    }
  }
}

void sub_246BC0F08(double a1, double a2, double a3, double a4)
{
  unsigned int v5 = v4;
  uint64_t v6 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_config;
  uint64_t v7 = *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_config];
  if (*(unsigned char *)(v7 + 25))
  {
    if (*(unsigned char *)(v7 + 25) != 2)
    {
      type metadata accessor for ParmesanGalleryMaskableContentView();
      CGFloat v21 = (void *)sub_246BB78DC(*(id *)(v7 + 16), 0.0, 0.0, a3, a4);
      id v22 = objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryContentContainerView());
      id v23 = v21;
      id v24 = sub_246C106EC(v23, 1, a1, a2, a3, a4);
      id v25 = objc_msgSend(v24, sel_layer);
      if (qword_2691D62C8 != -1) {
        swift_once();
      }
      sub_246B80250(&qword_2691D7768);
      id v26 = (void *)sub_246C2CBA8();
      objc_msgSend(v25, sel_setActions_, v26);

      objc_msgSend(v24, sel_setOpaque_, 0);
      os_log_type_t v27 = *(char **)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
      *(void *)&v5[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView] = v24;

      goto LABEL_16;
    }
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v8 = sub_246C2C088();
    sub_246B8BE0C(v8, (uint64_t)qword_2691E00F0);
    os_log_type_t v27 = v4;
    id v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CEE8();
    if (os_log_type_enabled(v9, v10))
    {
      int v11 = (uint8_t *)swift_slowAlloc();
      uint64_t v12 = (void *)swift_slowAlloc();
      *(_DWORD *)int v11 = 138412290;
      id v28 = *(void **)(*(void *)&v5[v6] + 16);
      id v13 = v28;
      sub_246C2D1C8();
      void *v12 = v28;

LABEL_11:
      _os_log_impl(&dword_246B51000, v9, v10, v14, v11, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v12, -1, -1);
      MEMORY[0x24C545990](v11, -1, -1);

      return;
    }
  }
  else
  {
    if (qword_2691D62E0 != -1) {
      swift_once();
    }
    uint64_t v15 = sub_246C2C088();
    sub_246B8BE0C(v15, (uint64_t)qword_2691E00F0);
    os_log_type_t v27 = v4;
    id v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CED8();
    if (os_log_type_enabled(v9, v10))
    {
      int v11 = (uint8_t *)swift_slowAlloc();
      uint64_t v12 = (void *)swift_slowAlloc();
      *(_DWORD *)int v11 = 138412290;
      __n128 v29 = *(void **)(*(void *)&v5[v6] + 16);
      id v16 = v29;
      sub_246C2D1C8();
      void *v12 = v29;

      goto LABEL_11;
    }
  }

LABEL_16:
}

id sub_246BC1374()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryContentViews();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryContentViews()
{
  return self;
}

unint64_t sub_246BC1428()
{
  sub_246B80250(&qword_2691D7770);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35110;
  *(void *)(inited + 32) = 0x73646E756F62;
  *(void *)(inited + 40) = 0xE600000000000000;
  *(void *)(inited + 48) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 56) = 0x73746E65746E6F63;
  *(void *)(inited + 64) = 0xE800000000000000;
  *(void *)(inited + 72) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 80) = 0xD000000000000015;
  *(void *)(inited + 88) = 0x8000000246C3D670;
  *(void *)(inited + 96) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 104) = 0x656D617266;
  *(void *)(inited + 112) = 0xE500000000000000;
  *(void *)(inited + 120) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 128) = 0x7974696361706FLL;
  *(void *)(inited + 136) = 0xE700000000000000;
  *(void *)(inited + 144) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 152) = 0x6E6F697469736F70;
  *(void *)(inited + 160) = 0xE800000000000000;
  *(void *)(inited + 168) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  *(void *)(inited + 176) = 0x726F66736E617274;
  *(void *)(inited + 184) = 0xE90000000000006DLL;
  *(void *)(inited + 192) = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFF9D0]), sel_init);
  unint64_t result = sub_246C10EB8(inited);
  qword_2691D7748 = result;
  return result;
}

uint64_t sub_246BC15C8(unsigned __int8 *a1, char *a2)
{
  return sub_246BBABC4(*a1, *a2);
}

uint64_t sub_246BC15D4()
{
  return sub_246BBBBE4();
}

uint64_t sub_246BC15DC()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BC16AC()
{
  return sub_246BBC588();
}

uint64_t sub_246BC16B4@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BC2654();
  *a1 = result;
  return result;
}

void sub_246BC16E4(uint64_t a1@<X8>)
{
  uint64_t v2 = 0x4C52556F65646976;
  switch(*v1)
  {
    case 1:
      uint64_t v2 = 0x6E6F697461727564;
      goto LABEL_3;
    case 2:
      *(void *)a1 = 0xD000000000000010;
      *(void *)(a1 + 8) = 0x8000000246C3A580;
      break;
    case 3:
      strcpy((char *)a1, "cleanAperture");
      *(_WORD *)(a1 + 14) = -4864;
      break;
    default:
LABEL_3:
      *(void *)a1 = v2;
      *(void *)(a1 + 8) = 0xE800000000000000;
      break;
  }
}

unint64_t sub_246BC178C()
{
  unint64_t result = 0x4C52556F65646976;
  switch(*v0)
  {
    case 1:
      unint64_t result = 0x6E6F697461727564;
      break;
    case 2:
      unint64_t result = 0xD000000000000010;
      break;
    case 3:
      unint64_t result = 0x6570416E61656C63;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_246BC1828@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BC2654();
  *a1 = result;
  return result;
}

void sub_246BC1850(unsigned char *a1@<X8>)
{
  *a1 = 4;
}

uint64_t sub_246BC185C(uint64_t a1)
{
  unint64_t v2 = sub_246BC2274();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BC1898(uint64_t a1)
{
  unint64_t v2 = sub_246BC2274();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BC1904()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanAssetVideoInfo();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246BC19A8()
{
  return type metadata accessor for ParmesanAssetVideoInfo();
}

uint64_t type metadata accessor for ParmesanAssetVideoInfo()
{
  uint64_t result = qword_2691D7778;
  if (!qword_2691D7778) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246BC19FC()
{
  uint64_t result = sub_246C2BB98();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_246BC1AA4(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D77A8);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)v11 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BC2274();
  sub_246C2D708();
  LOBYTE(v11[0]) = 0;
  sub_246C2BB98();
  sub_246BC2370(&qword_2691D77B0, MEMORY[0x263F06EA8]);
  sub_246C2D508();
  if (!v2)
  {
    *(void *)&v11[0] = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetVideoInfo_duration);
    char v12 = 1;
    sub_246BC231C();
    sub_246C2D508();
    *(void *)&v11[0] = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetVideoInfo_stillDisplayTime);
    char v12 = 2;
    sub_246C2D508();
    long long v9 = *(_OWORD *)(v3 + OBJC_IVAR___NTKParmesanAssetVideoInfo_cleanAperture + 16);
    v11[0] = *(_OWORD *)(v3 + OBJC_IVAR___NTKParmesanAssetVideoInfo_cleanAperture);
    v11[1] = v9;
    char v12 = 3;
    type metadata accessor for CGRect(0);
    sub_246BC2370(&qword_2691D77C0, type metadata accessor for CGRect);
    sub_246C2D508();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

void *sub_246BC1D44(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246C2BB98();
  uint64_t v21 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v7 = (char *)&v19 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_246B80250(&qword_2691D7788);
  uint64_t v20 = *(void *)(v22 - 8);
  MEMORY[0x270FA5388](v22);
  long long v9 = (char *)&v19 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = a1[3];
  id v24 = a1;
  int v11 = sub_246B8F7E8(a1, v10);
  sub_246BC2274();
  char v12 = v3;
  id v23 = v9;
  sub_246C2D6E8();
  if (v2)
  {
    sub_246B8EB94((uint64_t)v24);

    type metadata accessor for ParmesanAssetVideoInfo();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v14 = v20;
    uint64_t v13 = v21;
    LOBYTE(v26) = 0;
    sub_246BC2370((unint64_t *)&qword_2691D6B20, MEMORY[0x263F06EA8]);
    uint64_t v15 = v22;
    sub_246C2D498();
    (*(void (**)(char *, char *, uint64_t))(v13 + 32))(&v12[OBJC_IVAR___NTKParmesanAssetVideoInfo_videoURL], v7, v5);
    char v28 = 1;
    sub_246BC22C8();
    sub_246C2D498();
    *(void *)&v12[OBJC_IVAR___NTKParmesanAssetVideoInfo_duration] = v26;
    char v28 = 2;
    sub_246C2D498();
    *(void *)&v12[OBJC_IVAR___NTKParmesanAssetVideoInfo_stillDisplayTime] = v26;
    type metadata accessor for CGRect(0);
    char v28 = 3;
    sub_246BC2370(&qword_2691D77A0, type metadata accessor for CGRect);
    sub_246C2D498();
    id v17 = &v12[OBJC_IVAR___NTKParmesanAssetVideoInfo_cleanAperture];
    *(_OWORD *)id v17 = v26;
    *((_OWORD *)v17 + 1) = v27;

    CGFloat v18 = (objc_class *)type metadata accessor for ParmesanAssetVideoInfo();
    v25.receiver = v12;
    v25.uint64_t super_class = v18;
    int v11 = objc_msgSendSuper2(&v25, sel_init);
    (*(void (**)(char *, uint64_t))(v14 + 8))(v23, v15);
    sub_246B8EB94((uint64_t)v24);
  }
  return v11;
}

uint64_t sub_246BC21A8@<X0>(uint64_t *a1@<X8>)
{
  type metadata accessor for ParmesanAssetVideoInfo();
  uint64_t result = sub_246C2D298();
  *a1 = result;
  return result;
}

void *sub_246BC21EC@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanAssetVideoInfo());
  uint64_t result = sub_246BC1D44(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BC2244(void *a1)
{
  return sub_246BC1AA4(a1);
}

uint64_t sub_246BC2268()
{
  return MEMORY[0x263F8D1F8];
}

unint64_t sub_246BC2274()
{
  unint64_t result = qword_2691D7790;
  if (!qword_2691D7790)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7790);
  }
  return result;
}

unint64_t sub_246BC22C8()
{
  unint64_t result = qword_2691D7798;
  if (!qword_2691D7798)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7798);
  }
  return result;
}

unint64_t sub_246BC231C()
{
  unint64_t result = qword_2691D77B8;
  if (!qword_2691D77B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D77B8);
  }
  return result;
}

uint64_t sub_246BC2370(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t getEnumTagSinglePayload for ParmesanAssetVideoInfo.CodingKeys(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFD) {
    goto LABEL_17;
  }
  if (a2 + 3 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 3) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 3;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 3;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 3;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 4;
  int v8 = v6 - 4;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for ParmesanAssetVideoInfo.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 3 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 3) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFD) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFC)
  {
    unsigned int v6 = ((a2 - 253) >> 8) + 1;
    *uint64_t result = a2 + 3;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BC2514);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 3;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetVideoInfo.CodingKeys()
{
  return &type metadata for ParmesanAssetVideoInfo.CodingKeys;
}

unint64_t sub_246BC2550()
{
  unint64_t result = qword_2691D77C8;
  if (!qword_2691D77C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D77C8);
  }
  return result;
}

unint64_t sub_246BC25A8()
{
  unint64_t result = qword_2691D77D0;
  if (!qword_2691D77D0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D77D0);
  }
  return result;
}

unint64_t sub_246BC2600()
{
  unint64_t result = qword_2691D77D8;
  if (!qword_2691D77D8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D77D8);
  }
  return result;
}

uint64_t sub_246BC2654()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 4) {
    return 4;
  }
  else {
    return v0;
  }
}

uint64_t sub_246BC26A0(uint64_t a1, uint64_t a2, uint64_t (*a3)(void), void (*a4)(void))
{
  uint64_t v20 = a4;
  uint64_t v19 = sub_246C2BC68();
  uint64_t v7 = *(void *)(v19 - 8);
  MEMORY[0x270FA5388](v19);
  long long v9 = (char *)&v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v10 = *(void *)(a1 + 16);
  uint64_t v11 = MEMORY[0x263F8EE78];
  if (v10)
  {
    uint64_t v17 = v4;
    uint64_t v21 = MEMORY[0x263F8EE78];
    sub_246C00B20(0, v10, 0);
    uint64_t v11 = v21;
    uint64_t v12 = *(void *)(a3(0) - 8);
    uint64_t v13 = a1 + ((*(unsigned __int8 *)(v12 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v12 + 80));
    uint64_t v18 = *(void *)(v12 + 72);
    do
    {
      v20();
      uint64_t v21 = v11;
      unint64_t v15 = *(void *)(v11 + 16);
      unint64_t v14 = *(void *)(v11 + 24);
      if (v15 >= v14 >> 1)
      {
        sub_246C00B20(v14 > 1, v15 + 1, 1);
        uint64_t v11 = v21;
      }
      *(void *)(v11 + 16) = v15 + 1;
      (*(void (**)(unint64_t, char *, uint64_t))(v7 + 32))(v11+ ((*(unsigned __int8 *)(v7 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80))+ *(void *)(v7 + 72) * v15, v9, v19);
      v13 += v18;
      --v10;
    }
    while (v10);
  }
  return v11;
}

void sub_246BC289C()
{
}

void sub_246BC28F8()
{
  v7.receiver = v0;
  v7.uint64_t super_class = (Class)type metadata accessor for ParmesanDebugFaceListViewController();
  objc_msgSendSuper2(&v7, sel_loadView);
  id v1 = objc_msgSend(v0, sel_view);
  if (v1)
  {
    int v2 = v1;
    self;
    int v3 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v5 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    unsigned int v6 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v3, sel_registerClass_forCellWithReuseIdentifier_, ObjCClassFromMetadata, v6);
  }
  else
  {
    __break(1u);
  }
}

void sub_246BC29FC(void *a1)
{
  id v1 = a1;
  sub_246BC28F8();
}

void sub_246BC2A44(char a1)
{
  v4.receiver = v1;
  v4.uint64_t super_class = (Class)type metadata accessor for ParmesanDebugFaceListViewController();
  objc_msgSendSuper2(&v4, sel_viewWillAppear_, a1 & 1);
  int v3 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  objc_msgSend(v1, sel_setTitle_, v3);
}

void sub_246BC2B2C(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_246BC2A44(a3);
}

uint64_t sub_246BC2B80()
{
  sub_246C2BC68();
  sub_246BC3EC4();
  sub_246C2C2D8();
  sub_246B80250(&qword_2691D7818);
  sub_246C2C2B8();
  uint64_t v1 = *(void *)(v0 + qword_2691D77E0);
  char v2 = *(unsigned char *)(v0 + qword_2691D77E0 + 8);
  swift_bridgeObjectRetain();
  if (v2)
  {
    int v3 = (uint64_t (*)(void))MEMORY[0x263F5DE68];
    id v4 = (void (*)(void))MEMORY[0x263F5DE60];
    uint64_t v5 = &v10;
  }
  else
  {
    int v3 = (uint64_t (*)(void))MEMORY[0x263F5DE78];
    id v4 = (void (*)(void))MEMORY[0x263F5DE70];
    uint64_t v5 = &v7;
  }
  sub_246BC26A0(v1, (uint64_t)v5, v3, v4);
  swift_bridgeObjectRelease();
  uint64_t v8 = 0;
  char v9 = 1;
  sub_246C2C278();
  return swift_bridgeObjectRelease();
}

id sub_246BC2CBC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v50 = a2;
  uint64_t v53 = a1;
  uint64_t v4 = sub_246B80250(&qword_2691D7800);
  MEMORY[0x270FA5388](v4 - 8);
  unsigned int v6 = (char *)&v44 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v49 = sub_246C2BF48();
  uint64_t v7 = *(void *)(v49 - 8);
  uint64_t v8 = MEMORY[0x270FA5388](v49);
  char v10 = (char *)&v44 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)&v44 - v11;
  uint64_t v52 = sub_246C2BC68();
  uint64_t v47 = *(void *)(v52 - 8);
  MEMORY[0x270FA5388](v52);
  unint64_t v14 = (char *)&v44 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_246B80250(&qword_2691D7808);
  MEMORY[0x270FA5388](v15 - 8);
  uint64_t v46 = (char *)&v44 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_246C2BFB8();
  uint64_t v48 = *(void *)(v17 - 8);
  uint64_t v18 = MEMORY[0x270FA5388](v17);
  uint64_t v20 = (char *)&v44 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v18);
  uint64_t v22 = *(void *)(v3 + qword_2691D77E0);
  uint64_t v23 = *(void *)(v22 + 16);
  if ((*(unsigned char *)(v3 + qword_2691D77E0 + 8) & 1) == 0)
  {
    unint64_t v44 = (char *)&v44 - v21;
    if (v23)
    {
      uint64_t v45 = v3;
      uint64_t v51 = *(void (**)(char *, uint64_t, uint64_t))(v48 + 16);
      uint64_t v31 = v22 + ((*(unsigned __int8 *)(v48 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v48 + 80));
      id v32 = (void (**)(char *, uint64_t))(v47 + 8);
      os_log_type_t v33 = (void (**)(char *, uint64_t))(v48 + 8);
      uint64_t v34 = *(void *)(v48 + 72);
      uint64_t v47 = v22;
      swift_bridgeObjectRetain();
      uint64_t v35 = v17;
      while (1)
      {
        v51(v20, v31, v35);
        sub_246C2BF58();
        char v36 = sub_246C2BC48();
        (*v32)(v14, v52);
        if (v36) {
          break;
        }
        (*v33)(v20, v35);
        v31 += v34;
        if (!--v23)
        {
          uint64_t v37 = 1;
          goto LABEL_14;
        }
      }
      uint64_t v38 = v48;
      unsigned int v6 = v46;
      (*(void (**)(char *, char *, uint64_t))(v48 + 32))(v46, v20, v35);
      uint64_t v37 = 0;
    }
    else
    {
      swift_bridgeObjectRetain();
      uint64_t v37 = 1;
      uint64_t v35 = v17;
LABEL_14:
      uint64_t v38 = v48;
      unsigned int v6 = v46;
    }
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v38 + 56))(v6, v37, 1, v35);
    swift_bridgeObjectRelease();
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v38 + 48))(v6, 1, v35) != 1)
    {
      uint64_t v42 = (uint64_t)v44;
      (*(void (**)(char *, char *, uint64_t))(v38 + 32))(v44, v6, v35);
      id v41 = sub_246BC38FC(v42);
      (*(void (**)(uint64_t, uint64_t))(v38 + 8))(v42, v35);
      return v41;
    }
    id v40 = &qword_2691D7808;
    goto LABEL_23;
  }
  if (v23)
  {
    unint64_t v44 = v12;
    uint64_t v45 = v3;
    uint64_t v46 = v6;
    uint64_t v48 = v7;
    uint64_t v24 = v7 + 16;
    uint64_t v51 = *(void (**)(char *, uint64_t, uint64_t))(v7 + 16);
    uint64_t v25 = v22 + ((*(unsigned __int8 *)(v7 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80));
    long long v26 = (void (**)(char *, uint64_t))(v47 + 8);
    uint64_t v27 = *(void *)(v24 + 56);
    uint64_t v47 = v22;
    swift_bridgeObjectRetain();
    uint64_t v28 = v49;
    while (1)
    {
      v51(v10, v25, v28);
      sub_246C2BF18();
      char v29 = sub_246C2BC48();
      (*v26)(v14, v52);
      if (v29) {
        break;
      }
      (*(void (**)(char *, uint64_t))(v24 - 8))(v10, v28);
      v25 += v27;
      if (!--v23)
      {
        uint64_t v30 = 1;
        unsigned int v6 = v46;
        uint64_t v7 = v48;
        goto LABEL_16;
      }
    }
    uint64_t v7 = v48;
    unsigned int v6 = v46;
    (*(void (**)(char *, char *, uint64_t))(v48 + 32))(v46, v10, v28);
    uint64_t v30 = 0;
LABEL_16:
    uint64_t v12 = v44;
  }
  else
  {
    swift_bridgeObjectRetain();
    uint64_t v30 = 1;
  }
  uint64_t v39 = v49;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56))(v6, v30, 1, v49);
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48))(v6, 1, v39) == 1)
  {
    id v40 = &qword_2691D7800;
LABEL_23:
    sub_246B8EA34((uint64_t)v6, v40);
    return 0;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v12, v6, v39);
  id v41 = sub_246BC3318();
  (*(void (**)(char *, uint64_t))(v7 + 8))(v12, v39);
  return v41;
}

id sub_246BC3318()
{
  uint64_t v1 = sub_246B80250(&qword_2691D6A38);
  MEMORY[0x270FA5388](v1 - 8);
  uint64_t v45 = (char *)&v36 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_246C2C118();
  uint64_t v46 = *(void *)(v3 - 8);
  uint64_t v47 = v3;
  MEMORY[0x270FA5388](v3);
  id v43 = (char *)&v36 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v44 = sub_246C2C0B8();
  uint64_t v41 = *(void *)(v44 - 8);
  MEMORY[0x270FA5388](v44);
  uint64_t v42 = (char *)&v36 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_246C2C268();
  uint64_t v40 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  uint64_t v8 = (char *)&v36 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  id result = objc_msgSend(v0, sel_view);
  if (result)
  {
    char v10 = result;
    self;
    uint64_t v11 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v13 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    unint64_t v14 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v15 = (void *)sub_246C2BC78();
    id v16 = objc_msgSend(v11, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v14, v15);

    self;
    uint64_t v17 = swift_dynamicCastObjCClassUnconditional();
    sub_246C2C178();
    uint64_t v18 = self;
    sub_246B80250(&qword_2691D7010);
    uint64_t v19 = swift_allocObject();
    long long v38 = xmmword_246C33620;
    *(_OWORD *)(v19 + 16) = xmmword_246C33620;
    *(void *)(v19 + 32) = sub_246C2BF38();
    *(void *)(v19 + 40) = v20;
    uint64_t v21 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    id v22 = objc_msgSend(v18, sel_fetchAssetCollectionsWithLocalIdentifiers_options_, v21, 0);

    id v23 = objc_msgSend(v22, sel_firstObject);
    id v39 = v23;
    if (!v23 || (v24 = v23, sub_246C2CEB8(), uint64_t v26 = v25, v24, !v26)) {
      swift_bridgeObjectRelease();
    }
    sub_246C2C228();
    sub_246C2BF38();
    sub_246C2C188();
    v48[3] = v6;
    v48[4] = MEMORY[0x263F81F20];
    uint64_t v27 = sub_246B8EBE4(v48);
    uint64_t v37 = v8;
    uint64_t v28 = v40;
    (*(void (**)(uint64_t *, char *, uint64_t))(v40 + 16))(v27, v8, v6);
    id v29 = v16;
    uint64_t v30 = v17;
    MEMORY[0x24C5440A0](v48);

    sub_246B80250(&qword_2691D6A40);
    sub_246C2C128();
    *(_OWORD *)(swift_allocObject() + 16) = v38;
    uint64_t v31 = v41;
    id v32 = v42;
    uint64_t v33 = v44;
    (*(void (**)(char *, void, uint64_t))(v41 + 104))(v42, *MEMORY[0x263F81DE8], v44);
    uint64_t v34 = sub_246C2C0C8();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(v45, 1, 1, v34);
    uint64_t v35 = v43;
    sub_246C2C108();
    sub_246C2C0F8();
    (*(void (**)(char *, uint64_t))(v46 + 8))(v35, v47);
    (*(void (**)(char *, uint64_t))(v31 + 8))(v32, v33);
    sub_246C2D048();

    (*(void (**)(char *, uint64_t))(v28 + 8))(v37, v6);
    return (id)v30;
  }
  else
  {
    __break(1u);
  }
  return result;
}

id sub_246BC38FC(uint64_t a1)
{
  uint64_t v22 = a1;
  uint64_t v2 = sub_246C2BC68();
  uint64_t v23 = *(void *)(v2 - 8);
  uint64_t v24 = v2;
  MEMORY[0x270FA5388](v2);
  uint64_t v4 = (char *)&v22 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2C268();
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v22 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  id result = objc_msgSend(v1, sel_view);
  if (result)
  {
    char v10 = result;
    self;
    uint64_t v11 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v13 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    unint64_t v14 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v15 = (void *)sub_246C2BC78();
    id v16 = objc_msgSend(v11, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v14, v15);

    self;
    uint64_t v17 = swift_dynamicCastObjCClassUnconditional();
    sub_246C2C178();
    id v18 = sub_246BC3F5C();
    id v19 = objc_msgSend(v18, sel_shuffleName);

    sub_246C2CC48();
    sub_246C2C228();
    sub_246C2BF58();
    sub_246C2BC38();
    (*(void (**)(char *, uint64_t))(v23 + 8))(v4, v24);
    sub_246C2C188();
    void v25[3] = v5;
    _OWORD v25[4] = MEMORY[0x263F81F20];
    uint64_t v20 = sub_246B8EBE4(v25);
    (*(void (**)(uint64_t *, char *, uint64_t))(v6 + 16))(v20, v8, v5);
    id v21 = v16;
    MEMORY[0x24C5440A0](v25);

    (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
    return (id)v17;
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246BC3C28(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v4 = a4;
  _swift_stdlib_reportUnimplementedInitializer();
  __break(1u);
}

uint64_t sub_246BC3C5C()
{
  return swift_bridgeObjectRelease();
}

id sub_246BC3C6C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanDebugFaceListViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246BC3CA4()
{
  return swift_bridgeObjectRelease();
}

uint64_t type metadata accessor for ParmesanDebugFaceListViewController()
{
  uint64_t result = qword_2691D77F0;
  if (!qword_2691D77F0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246BC3D00()
{
  return swift_initClassMetadata2();
}

uint64_t sub_246BC3D4C()
{
  return type metadata accessor for ParmesanDebugFaceListViewController();
}

uint64_t initializeBufferWithCopyOfBuffer for ParmesanDebugFaceListViewController.Content(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = v3;
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t destroy for ParmesanDebugFaceListViewController.Content()
{
  return swift_bridgeObjectRelease();
}

uint64_t assignWithCopy for ParmesanDebugFaceListViewController.Content(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = v3;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t assignWithTake for ParmesanDebugFaceListViewController.Content(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = v3;
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanDebugFaceListViewController.Content(uint64_t a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0xFF && *(unsigned char *)(a1 + 9)) {
    return (*(_DWORD *)a1 + 255);
  }
  unsigned int v3 = *(unsigned __int8 *)(a1 + 8);
  if (v3 <= 1) {
    int v4 = -1;
  }
  else {
    int v4 = v3 ^ 0xFF;
  }
  return (v4 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanDebugFaceListViewController.Content(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFE)
  {
    *(unsigned char *)(result + 8) = 0;
    *(void *)uint64_t result = a2 - 255;
    if (a3 >= 0xFF) {
      *(unsigned char *)(result + 9) = 1;
    }
  }
  else
  {
    if (a3 >= 0xFF) {
      *(unsigned char *)(result + 9) = 0;
    }
    if (a2) {
      *(unsigned char *)(result + 8) = -(char)a2;
    }
  }
  return result;
}

uint64_t sub_246BC3EA0(uint64_t a1)
{
  return *(unsigned __int8 *)(a1 + 8);
}

uint64_t sub_246BC3EA8(uint64_t result, char a2)
{
  *(unsigned char *)(result + 8) = a2 & 1;
  return result;
}

ValueMetadata *type metadata accessor for ParmesanDebugFaceListViewController.Content()
{
  return &type metadata for ParmesanDebugFaceListViewController.Content;
}

unint64_t sub_246BC3EC4()
{
  unint64_t result = qword_2691D7810;
  if (!qword_2691D7810)
  {
    sub_246C2BC68();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7810);
  }
  return result;
}

unint64_t sub_246BC3F1C()
{
  unint64_t result = qword_2691D6A48;
  if (!qword_2691D6A48)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6A48);
  }
  return result;
}

id sub_246BC3F5C()
{
  uint64_t v0 = *(void *)(sub_246C2BF98() + 16);
  swift_bridgeObjectRelease();
  if (v0)
  {
    uint64_t v1 = sub_246BA5C20(0, 1, 1, MEMORY[0x263F8EE78]);
    unint64_t v3 = v1[2];
    unint64_t v2 = v1[3];
    if (v3 >= v2 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v2 > 1), v3 + 1, 1, v1);
    }
    v1[2] = v3 + 1;
    v1[v3 + 4] = 1;
    if ((sub_246C2BF78() & 1) == 0)
    {
LABEL_5:
      if ((sub_246C2BF88() & 1) == 0) {
        goto LABEL_6;
      }
      goto LABEL_14;
    }
  }
  else
  {
    uint64_t v1 = (void *)MEMORY[0x263F8EE78];
    if ((sub_246C2BF78() & 1) == 0) {
      goto LABEL_5;
    }
  }
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
  }
  unint64_t v5 = v1[2];
  unint64_t v4 = v1[3];
  if (v5 >= v4 >> 1) {
    uint64_t v1 = sub_246BA5C20((void *)(v4 > 1), v5 + 1, 1, v1);
  }
  v1[2] = v5 + 1;
  v1[v5 + 4] = 2;
  if ((sub_246C2BF88() & 1) == 0)
  {
LABEL_6:
    if ((sub_246C2BFA8() & 1) == 0) {
      goto LABEL_24;
    }
    goto LABEL_19;
  }
LABEL_14:
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
  }
  unint64_t v7 = v1[2];
  unint64_t v6 = v1[3];
  if (v7 >= v6 >> 1) {
    uint64_t v1 = sub_246BA5C20((void *)(v6 > 1), v7 + 1, 1, v1);
  }
  v1[2] = v7 + 1;
  v1[v7 + 4] = 3;
  if (sub_246C2BFA8())
  {
LABEL_19:
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v1 = sub_246BA5C20(0, v1[2] + 1, 1, v1);
    }
    unint64_t v9 = v1[2];
    unint64_t v8 = v1[3];
    if (v9 >= v8 >> 1) {
      uint64_t v1 = sub_246BA5C20((void *)(v8 > 1), v9 + 1, 1, v1);
    }
    v1[2] = v9 + 1;
    v1[v9 + 4] = 4;
  }
LABEL_24:
  uint64_t v10 = sub_246C2BF98();
  uint64_t v11 = sub_246BEF44C(v10);
  swift_bridgeObjectRelease();
  uint64_t v12 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
  uint64_t v13 = (char *)objc_allocWithZone(v12);
  *(void *)&v13[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = v1;
  *(void *)&v13[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = v11;
  unint64_t v14 = &v13[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
  *(void *)unint64_t v14 = 0;
  *((void *)v14 + 1) = 0;
  *(void *)&v13[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = 0;
  v16.receiver = v13;
  v16.uint64_t super_class = v12;
  return objc_msgSendSuper2(&v16, sel_init);
}

uint64_t sub_246BC41FC(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (!v1) {
    return v2;
  }
  uint64_t v18 = MEMORY[0x263F8EE78];
  sub_246C00BAC(0, v1, 0);
  uint64_t v2 = v18;
  unint64_t v4 = (uint64_t *)(a1 + 32);
  uint64_t v5 = MEMORY[0x263F8D310];
  while (1)
  {
    uint64_t v7 = *v4++;
    uint64_t v6 = v7;
    if (v7 == 2)
    {
      unint64_t v8 = 0xE700000000000000;
      uint64_t v9 = 0x6465646E756F72;
      goto LABEL_9;
    }
    if (v6 != 1) {
      break;
    }
    unint64_t v8 = 0xE700000000000000;
    uint64_t v9 = 0x63697373616C63;
LABEL_9:
    sub_246C2D248();
    *((void *)&v16 + 1) = v9;
    *(void *)&long long v17 = v8;
    unint64_t v11 = *(void *)(v18 + 16);
    unint64_t v10 = *(void *)(v18 + 24);
    if (v11 >= v10 >> 1) {
      sub_246C00BAC(v10 > 1, v11 + 1, 1);
    }
    *(void *)(v18 + 16) = v11 + 1;
    uint64_t v12 = v18 + 72 * v11;
    *(_OWORD *)(v12 + 32) = v14;
    *(void *)(v12 + 96) = v5;
    *(_OWORD *)(v12 + 64) = v16;
    *(_OWORD *)(v12 + 80) = v17;
    *(_OWORD *)(v12 + 48) = v15;
    if (!--v1) {
      return v2;
    }
  }
  if (!v6)
  {
    unint64_t v8 = 0xE600000000000000;
    uint64_t v9 = 0x6E7265646F6DLL;
    goto LABEL_9;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

uint64_t sub_246BC44B4()
{
  uint64_t v1 = (uint64_t)objc_msgSend(v0, sel__value);
  if (v1 != 2) {
    uint64_t v1 = v1 == 1;
  }
  sub_246BABD44(v1);
  uint64_t v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  sub_246C2D278();
  swift_bridgeObjectRelease();
  objc_msgSend(v0, sel__value, 0xD00000000000002DLL, 0x8000000246C3D8A0);
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  unint64_t v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v4);

  uint64_t v6 = sub_246C2CC48();
  return v6;
}

uint64_t sub_246BC46D4()
{
  if (*(void *)(sub_246BC41FC((uint64_t)&unk_26FB1F5D0) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v0 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v0 = MEMORY[0x263F8EE80];
  }
  uint64_t v3 = v0;
  uint64_t v1 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v1, 1, &v3);
  swift_bridgeObjectRelease();
  return v3;
}

id sub_246BC49E4(uint64_t a1, void *a2)
{
  uint64_t v5 = OBJC_IVAR___NTKParmesanTypefaceEditOption_positionsToFaceBundleStrings;
  uint64_t v6 = v2;
  *(void *)&v2[v5] = sub_246BC46D4();

  sub_246BB367C(a1, (uint64_t)v18);
  uint64_t v7 = v19;
  if (v19)
  {
    unint64_t v8 = sub_246B8F7E8(v18, v19);
    uint64_t v9 = *(void *)(v7 - 8);
    MEMORY[0x270FA5388](v8);
    unint64_t v11 = (char *)&v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v7);
    sub_246B8EB94((uint64_t)v18);
  }
  else
  {
    uint64_t v12 = 0;
  }
  uint64_t v13 = (objc_class *)type metadata accessor for ParmesanTypefaceEditOption();
  v17.receiver = v6;
  v17.uint64_t super_class = v13;
  id v14 = objc_msgSendSuper2(&v17, sel_initWithJSONObjectRepresentation_forDevice_, v12, a2);

  swift_unknownObjectRelease();
  id v15 = v14;
  sub_246BAD92C(a1);
  if (v15) {

  }
  return v15;
}

id sub_246BC4CD0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanTypefaceEditOption();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanTypefaceEditOption()
{
  return self;
}

void sub_246BC4DA4(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = OBJC_IVAR___NTKParmesanTimeView_appearance;
  uint64_t v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_appearance);
  type metadata accessor for ParmesanTimeAppearance();
  id v6 = v5;
  char v7 = sub_246C2D108();

  if ((v7 & 1) == 0 || !*(void *)(v2 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel))
  {
    unint64_t v8 = *(void **)(v2 + v4);
    *(void *)(v2 + v4) = a1;
    id v9 = a1;

    uint64_t v10 = CLKLocaleNumberSystemFromNumeralOption();
    id v11 = objc_msgSend(self, sel_currentDevice);
    int v12 = NTKShowIndicScriptNumerals();

    if (v12) {
      uint64_t v10 = CLKLocaleNumberSystemFromNumeralOption();
    }
    objc_msgSend(*(id *)(v2 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter), sel_setForcedNumberSystem_, v10);
    sub_246BC5900();
  }
}

void sub_246BC4F00()
{
}

double sub_246BC4F30(void *a1, uint64_t a2, double (*a3)(void))
{
  id v4 = a1;
  double v5 = a3();

  return v5;
}

void sub_246BC4F94()
{
}

void sub_246BC4FAC(void (*a1)(uint64_t, uint64_t, uint64_t))
{
  uint64_t v3 = *(char **)(*(void *)(v1 + OBJC_IVAR___NTKParmesanTimeView_appearance)
                + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  uint64_t v4 = *(void *)(v1 + OBJC_IVAR___NTKParmesanTimeView_complicationVisibility);
  uint64_t v5 = *(void *)&v3[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
  uint64_t v6 = *(void *)&v3[OBJC_IVAR___NTKParmesanTimeLayout_scale];
  char v7 = v3;
  a1(v5, v6, v4);
  id v8 = objc_msgSend(self, sel_currentDevice);
  if (v8)
  {
    id v9 = v8;
    objc_msgSend(v8, sel_screenBounds);
  }
  else
  {
    __break(1u);
  }
}

char *sub_246BC50F0(void *a1, double a2, double a3, double a4, double a5)
{
  uint64_t result = (char *)objc_msgSend(self, sel_currentDevice);
  if (result)
  {
    id v11 = result;
    int v12 = (objc_class *)type metadata accessor for ParmesanTimeAppearance();
    uint64_t v13 = (char *)objc_allocWithZone(v12);
    *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout] = a1;
    *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device] = v11;
    *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface] = 0;
    *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals] = 0;
    v18.receiver = v13;
    v18.uint64_t super_class = v12;
    id v14 = a1;
    id v15 = objc_msgSendSuper2(&v18, sel_init);
    id v16 = objc_allocWithZone((Class)type metadata accessor for ParmesanTimeView());
    objc_super v17 = sub_246BC52C4(v15, a2, a3, a4, a5);

    swift_getObjectType();
    swift_deallocPartialClassInstance();
    return v17;
  }
  else
  {
    __break(1u);
  }
  return result;
}

char *sub_246BC52C4(void *a1, double a2, double a3, double a4, double a5)
{
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeView_complicationVisibility] = 0;
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeView_tritiumProgress] = 0;
  id v11 = &v5[OBJC_IVAR___NTKParmesanTimeView_overrideDate];
  uint64_t v12 = sub_246C2BC18();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v12 - 8) + 56))(v11, 1, 1, v12);
  uint64_t v13 = OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer;
  id v14 = objc_allocWithZone(MEMORY[0x263F82E00]);
  id v15 = v5;
  *(void *)&v5[v13] = objc_msgSend(v14, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  id v16 = &v15[OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel];
  *(void *)id v16 = 0;
  *((void *)v16 + 1) = 0;
  objc_super v17 = &v15[OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel];
  *(void *)objc_super v17 = 0;
  *((void *)v17 + 1) = 0;
  *(void *)&v15[OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance] = 0;
  v15[OBJC_IVAR___NTKParmesanTimeView_isFrozen] = 0;
  *(void *)&v15[OBJC_IVAR___NTKParmesanTimeView_appearance] = a1;
  id v18 = objc_allocWithZone(MEMORY[0x263EFD220]);
  id v19 = a1;
  id v20 = objc_msgSend(v18, sel_init);
  *(void *)&v15[OBJC_IVAR___NTKParmesanTimeView_timeFormatter] = v20;
  objc_msgSend(v20, sel_setShowSeconds_, 0);
  objc_msgSend(v20, sel_setIncludeSeparatorInTimeSubstringFromSeparatorText_, 0);
  id v21 = v20;
  objc_msgSend(v21, sel_setForcedNumberSystem_, CLKLocaleNumberSystemFromNumeralOption());

  v32.receiver = v15;
  v32.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeView();
  uint64_t v22 = (char *)objc_msgSendSuper2(&v32, sel_initWithFrame_, a2, a3, a4, a5);
  uint64_t v23 = OBJC_IVAR___NTKParmesanTimeView_timeFormatter;
  uint64_t v24 = *(void **)&v22[OBJC_IVAR___NTKParmesanTimeView_timeFormatter];
  uint64_t v25 = v22;
  objc_msgSend(v24, sel_addObserver_, v25);
  uint64_t v26 = CLKLocaleNumberSystemFromNumeralOption();
  id v27 = objc_msgSend(self, sel_currentDevice);
  LODWORD(v13) = NTKShowIndicScriptNumerals();

  if (v13) {
    uint64_t v26 = CLKLocaleNumberSystemFromNumeralOption();
  }
  objc_msgSend(*(id *)&v22[v23], sel_setForcedNumberSystem_, v26);
  sub_246BC5900();
  uint64_t v28 = *(void **)&v25[OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer];
  id v29 = v25;
  id v30 = v28;
  objc_msgSend(v29, sel_addSubview_, v30);

  return v29;
}

void sub_246BC55F4()
{
  v6.receiver = v0;
  v6.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeView();
  objc_msgSendSuper2(&v6, sel_layoutSubviews);
  id v1 = *(id *)&v0[OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer];
  objc_msgSend(v0, sel_bounds);
  objc_msgSend(v1, sel_setFrame_);

  uint64_t v2 = *(void **)&v0[OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel];
  if (v2)
  {
    id v3 = v2;
    objc_msgSend(v0, sel_bounds);
    objc_msgSend(v3, sel_setFrame_);
  }
  uint64_t v4 = *(void **)&v0[OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel];
  if (v4)
  {
    id v5 = v4;
    objc_msgSend(v0, sel_bounds);
    objc_msgSend(v5, sel_setFrame_);
  }
}

void sub_246BC5724(void *a1, uint64_t a2, char a3, uint64_t a4, char a5)
{
  if (!a1)
  {
    if (a3)
    {
      if (a5) {
        return;
      }
      goto LABEL_9;
    }
    goto LABEL_6;
  }
  uint64_t v10 = *(void *)(v5 + OBJC_IVAR___NTKParmesanTimeView_appearance);
  id v11 = *(void **)(v10 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  *(void *)(v10 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout) = a1;
  id v12 = a1;

  if ((a3 & 1) == 0)
  {
LABEL_6:
    *(void *)(*(void *)(v5 + OBJC_IVAR___NTKParmesanTimeView_appearance)
              + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface) = a2;
    if (a5) {
      goto LABEL_12;
    }
LABEL_9:
    *(void *)(*(void *)(v5 + OBJC_IVAR___NTKParmesanTimeView_appearance)
              + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals) = a4;
    uint64_t v13 = CLKLocaleNumberSystemFromNumeralOption();
    id v14 = objc_msgSend(self, sel_currentDevice);
    int v15 = NTKShowIndicScriptNumerals();

    if (v15) {
      uint64_t v13 = CLKLocaleNumberSystemFromNumeralOption();
    }
    objc_msgSend(*(id *)(v5 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter), sel_setForcedNumberSystem_, v13);
    goto LABEL_12;
  }
  if ((a5 & 1) == 0) {
    goto LABEL_9;
  }
LABEL_12:

  sub_246BC5900();
}

void sub_246BC5900()
{
  uint64_t v1 = v0 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel;
  uint64_t v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel);
  if (v2)
  {
    objc_msgSend(v2, sel_removeFromSuperview);
    id v3 = *(void **)v1;
  }
  else
  {
    id v3 = 0;
  }
  *(void *)uint64_t v1 = 0;
  *(void *)(v1 + 8) = 0;

  uint64_t v4 = *(void **)(v0 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance);
  *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance) = 0;

  uint64_t v5 = v0 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel;
  objc_super v6 = *(void **)(v0 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v6)
  {
    objc_msgSend(v6, sel_removeFromSuperview);
    char v7 = *(void **)v5;
    *(void *)uint64_t v5 = 0;
    *(void *)(v5 + 8) = 0;
  }
  id v8 = (char *)*(id *)(v0 + OBJC_IVAR___NTKParmesanTimeView_appearance);
  id v9 = (void *)sub_246BC5A0C(v8);
  uint64_t v11 = v10;

  id v12 = *(void **)v5;
  *(void *)uint64_t v5 = v9;
  *(void *)(v5 + 8) = v11;
  id v13 = v9;

  objc_msgSend(*(id *)(v0 + OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer), sel_addSubview_, v13);
}

uint64_t sub_246BC5A0C(char *a1)
{
  uint64_t v2 = v1;
  unint64_t v4 = *(void *)(*(void *)&a1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout]
                 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  uint64_t v49 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout;
  if (v4 >= 3)
  {
    if (v4 != 3) {
      goto LABEL_8;
    }
    objc_msgSend(v1, sel_bounds);
    double v6 = v15;
    double v8 = v16;
    double v10 = v17;
    double v12 = v18;
    id v13 = (objc_class *)type metadata accessor for ParmesanStackedTimeLabel();
    id v14 = &off_26FB22ED8;
  }
  else
  {
    objc_msgSend(v1, sel_bounds);
    double v6 = v5;
    double v8 = v7;
    double v10 = v9;
    double v12 = v11;
    id v13 = (objc_class *)type metadata accessor for ParmesanSingleTimeLabel();
    id v14 = &off_26FB22F18;
  }
  id v19 = objc_msgSend(objc_allocWithZone(v13), sel_initWithFrame_, v6, v8, v10, v12);
  id v47 = self;
  objc_msgSend(v47, sel_setDisableActions_, 1);
  swift_getObjectType();
  uint64_t v20 = *(void *)&v2[OBJC_IVAR___NTKParmesanTimeView_complicationVisibility];
  id v21 = (void (*)(uint64_t, uint64_t))v14[4];
  id v22 = v19;
  uint64_t v48 = a1;
  uint64_t v23 = a1;
  v21((uint64_t)v23, v20);

  id v24 = v22;
  uint64_t v25 = v23;
  sub_246BC6744((uint64_t)v25, v50);
  long long v51 = v50[0];
  long long v52 = v50[1];
  long long v53 = v50[2];
  objc_msgSend(v24, sel_setTransform_, &v51);

  uint64_t v26 = CLKLocaleNumberSystemFromNumeralOption();
  sub_246BBA7AC(*(id *)&v2[OBJC_IVAR___NTKParmesanTimeView_timeFormatter], v26, (uint64_t *)&v51);
  ((void (__cdecl *)())v14[5])();
  long long v56 = v51;
  sub_246B8EE14((uint64_t)&v56);
  sub_246BC6E3C((uint64_t)&v52, (uint64_t)v55);
  sub_246B8EE14((uint64_t)v55);
  sub_246BC6E3C((uint64_t)&v53, (uint64_t)v54);
  sub_246B8EE14((uint64_t)v54);

  id v27 = *(char **)&v48[v49];
  unint64_t v28 = *(void *)&v27[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
  unint64_t v29 = *(void *)&v27[OBJC_IVAR___NTKParmesanTimeLayout_scale];
  id v30 = v27;
  double v31 = sub_246BB2CD4(v28, v29);
  double v33 = v32;
  double v35 = v34;
  double v37 = v36;
  id v38 = objc_msgSend(self, sel_currentDevice);
  if (v38)
  {
    id v39 = v38;
    objc_msgSend(v38, sel_screenBounds);
    double v41 = v40;
    double v43 = v42;

    uint64_t v44 = (void (*)(double, double, double, double))v14[2];
    id v45 = v24;
    v44(v31 / v41, v33 / v43, v35 / v41, v37 / v43);

    objc_msgSend(v47, sel_setDisableActions_, 0);
    return (uint64_t)v45;
  }
  __break(1u);
LABEL_8:
  *(void *)&long long v51 = v4;
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

void sub_246BC5DBC(uint64_t a1, uint64_t a2, double a3)
{
  unint64_t v4 = *(void **)(v3 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v4)
  {
    uint64_t v5 = v3;
    uint64_t v9 = *(void *)(v3 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel + 8);
    double v10 = self;
    id v11 = v4;
    id v42 = v10;
    objc_msgSend(v10, sel_setDisableActions_, 1);
    id v45 = v11;
    uint64_t v46 = v9;
    id v41 = v11;
    sub_246B80250(&qword_2691D7930);
    sub_246B80250(&qword_2691D7938);
    if (swift_dynamicCast())
    {
      sub_246BC6EA4(v43, (uint64_t)v47);
      uint64_t v12 = v48;
      uint64_t v13 = v49;
      sub_246B8F7E8(v47, v48);
      double v14 = *(double *)(v5 + OBJC_IVAR___NTKParmesanTimeView_tritiumProgress);
      double v15 = *(void (**)(uint64_t, uint64_t, id, uint64_t, uint64_t, double, double))(v13 + 8);
      id v16 = *(id *)(v5 + OBJC_IVAR___NTKParmesanTimeView_appearance);
      v15(a1, a2, v16, v12, v13, a3, v14);

      sub_246B8EB94((uint64_t)v47);
    }
    else
    {
      uint64_t v44 = 0;
      memset(v43, 0, sizeof(v43));
      sub_246B8EA34((uint64_t)v43, (uint64_t *)&unk_2691D7940);
    }
    uint64_t v17 = OBJC_IVAR___NTKParmesanTimeView_appearance;
    double v18 = *(char **)(*(void *)(v5 + OBJC_IVAR___NTKParmesanTimeView_appearance)
                   + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
    unint64_t v19 = *(void *)&v18[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
    unint64_t v20 = *(void *)&v18[OBJC_IVAR___NTKParmesanTimeLayout_scale];
    id v21 = v18;
    sub_246BB2CD4(v19, v20);
    id v22 = self;
    id v23 = objc_msgSend(v22, sel_currentDevice);
    if (v23)
    {
      id v24 = v23;
      double v40 = a3;
      objc_msgSend(v23, sel_screenBounds);

      uint64_t v25 = *(char **)(*(void *)(v5 + v17)
                     + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
      unint64_t v26 = *(void *)&v25[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
      unint64_t v27 = *(void *)&v25[OBJC_IVAR___NTKParmesanTimeLayout_scale];
      unint64_t v28 = v25;
      sub_246BB2CD4(v26, v27);
      id v29 = objc_msgSend(v22, sel_currentDevice);
      if (v29)
      {
        id v30 = v29;
        objc_msgSend(v29, sel_screenBounds);

        CLKInterpolateBetweenRects();
        double v32 = v31;
        double v34 = v33;
        double v36 = v35;
        double v38 = v37;
        uint64_t ObjectType = swift_getObjectType();
        (*(void (**)(uint64_t, double, double, double, double))(v9 + 16))(ObjectType, v32, v34, v36, v38);
        objc_msgSend(v42, sel_setDisableActions_, 0, *(void *)&v40);

        return;
      }
    }
    else
    {
      __break(1u);
    }
    __break(1u);
  }
}

void sub_246BC619C(void *a1)
{
  sub_246BC626C(a1);
  uint64_t v3 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_appearance);
  *(void *)(v1 + OBJC_IVAR___NTKParmesanTimeView_appearance) = a1;
  id v4 = a1;

  uint64_t v5 = OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel;
  double v6 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v6)
  {
    objc_msgSend(v6, sel_removeFromSuperview);
    double v7 = *(void **)(v1 + v5);
  }
  else
  {
    double v7 = 0;
  }
  uint64_t v8 = v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel;
  long long v9 = *(_OWORD *)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel);
  *(_OWORD *)(v1 + v5) = v9;
  id v10 = (id)v9;

  id v11 = *(void **)(v1 + v5);
  if (v11) {
    objc_msgSend(v11, sel_setAlpha_, 1.0);
  }
  uint64_t v12 = *(void **)v8;
  *(void *)uint64_t v8 = 0;
  *(void *)(v8 + 8) = 0;

  uint64_t v13 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance);
  *(void *)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance) = 0;
}

void sub_246BC626C(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance;
  uint64_t v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance);
  if (v5)
  {
    type metadata accessor for ParmesanTimeAppearance();
    id v6 = a1;
    id v7 = v5;
    char v8 = sub_246C2D108();

    uint64_t v9 = OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel;
    if ((v8 & 1) != 0 && *(void *)(v2 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel)) {
      return;
    }
  }
  else
  {
    uint64_t v9 = OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel;
  }
  uint64_t v10 = v2 + v9;
  id v11 = *(void **)(v2 + v9);
  if (v11)
  {
    objc_msgSend(v11, sel_removeFromSuperview);
    uint64_t v12 = *(void **)v10;
  }
  else
  {
    uint64_t v12 = 0;
  }
  *(void *)uint64_t v10 = 0;
  *(void *)(v10 + 8) = 0;

  uint64_t v13 = *(void **)(v2 + v4);
  *(void *)(v2 + v4) = 0;

  double v14 = (void *)sub_246BC5A0C((char *)a1);
  uint64_t v16 = v15;
  objc_msgSend(v14, sel_setAlpha_, 0.0);
  uint64_t v17 = OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer;
  objc_msgSend(*(id *)(v2 + OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer), sel_addSubview_, v14);
  double v18 = *(void **)v10;
  *(void *)uint64_t v10 = v14;
  *(void *)(v10 + 8) = v16;
  id v25 = v14;

  unint64_t v19 = *(void **)(v2 + v4);
  *(void *)(v2 + v4) = a1;
  id v20 = a1;

  id v21 = *(void **)(v2 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v21)
  {
    id v22 = *(void **)(v2 + v17);
    id v23 = v21;
    id v24 = v22;
    objc_msgSend(v24, sel_bringSubviewToFront_, v23);
  }
}

void sub_246BC656C()
{
  uint64_t v1 = v0;
  uint64_t v2 = v0 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel;
  uint64_t v3 = *(void **)(v0 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v3)
  {
    uint64_t v4 = *(void *)(v2 + 8);
    uint64_t ObjectType = swift_getObjectType();
    id v6 = v3;
    uint64_t v7 = CLKLocaleNumberSystemFromNumeralOption();
    sub_246BBA7AC(*(id *)(v1 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter), v7, (uint64_t *)&v13);
    (*(void (**)(long long *, uint64_t, uint64_t))(v4 + 40))(&v13, ObjectType, v4);

    long long v24 = v13;
    sub_246B8EE14((uint64_t)&v24);
    sub_246BC6E3C((uint64_t)&v14, (uint64_t)v23);
    sub_246B8EE14((uint64_t)v23);
    sub_246BC6E3C((uint64_t)&v15, (uint64_t)v22);
    sub_246B8EE14((uint64_t)v22);
  }
  char v8 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel);
  if (v8)
  {
    uint64_t v9 = *(void *)(v1 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel + 8);
    uint64_t v10 = swift_getObjectType();
    id v11 = v8;
    uint64_t v12 = CLKLocaleNumberSystemFromNumeralOption();
    sub_246BBA7AC(*(id *)(v1 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter), v12, (uint64_t *)&v16);
    (*(void (**)(long long *, uint64_t, uint64_t))(v9 + 40))(&v16, v10, v9);

    long long v21 = v16;
    sub_246B8EE14((uint64_t)&v21);
    sub_246BC6E3C((uint64_t)&v17, (uint64_t)v20);
    sub_246B8EE14((uint64_t)v20);
    sub_246BC6E3C((uint64_t)&v18, (uint64_t)v19);
    sub_246B8EE14((uint64_t)v19);
  }
}

uint64_t sub_246BC6744@<X0>(uint64_t a1@<X0>, _OWORD *a2@<X8>)
{
  sub_246C2C018();
  double v6 = v5;
  uint64_t v7 = *(char **)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  if (*(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_alignment] > 1uLL)
  {
    t1.CGFloat a = *(CGFloat *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
    long long v21 = v7;
  }
  else
  {
    uint64_t v8 = *(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_scale];
    if ((unint64_t)(v8 - 1) < 2 || v8 == 3 || !v8)
    {
      sub_246C2D0B8();
      double v10 = v9;
      double v12 = v11;
      uint64_t v13 = OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer;
      objc_msgSend(*(id *)(v2 + OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer), sel_bounds);
      CGFloat v14 = v10 * ((1.0 - v6) * CGRectGetWidth(v28));
      objc_msgSend(*(id *)(v2 + v13), sel_bounds);
      CGFloat Height = CGRectGetHeight(v29);
      CGAffineTransformMakeTranslation(&t1, v14, v12 * ((1.0 - v6) * Height));
      long long v23 = *(_OWORD *)&t1.c;
      long long v24 = *(_OWORD *)&t1.a;
      tdouble x = t1.tx;
      tdouble y = t1.ty;
      CGAffineTransformMakeScale(&t1, v6, v6);
      *(_OWORD *)&t2.CGFloat a = v24;
      *(_OWORD *)&t2.CGFloat c = v23;
      t2.tdouble x = tx;
      t2.tdouble y = ty;
      uint64_t result = (uint64_t)CGAffineTransformConcat(&v25, &t1, &t2);
      long long v19 = *(_OWORD *)&v25.c;
      long long v20 = *(_OWORD *)&v25.tx;
      *a2 = *(_OWORD *)&v25.a;
      a2[1] = v19;
      a2[2] = v20;
      return result;
    }
    t1.CGFloat a = *(CGFloat *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_scale];
    id v22 = v7;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

id sub_246BC6918()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246BC69F4()
{
  return type metadata accessor for ParmesanTimeView();
}

uint64_t type metadata accessor for ParmesanTimeView()
{
  uint64_t result = qword_2691D78B8;
  if (!qword_2691D78B8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_246BC6A48()
{
  sub_246BC6B1C();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

void sub_246BC6B1C()
{
  if (!qword_2691D78C8)
  {
    sub_246C2BC18();
    unint64_t v0 = sub_246C2D1A8();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_2691D78C8);
    }
  }
}

void sub_246BC6BD4(uint64_t a1)
{
  uint64_t v3 = sub_246B80250(&qword_2691D7030);
  uint64_t v4 = MEMORY[0x270FA5388](v3 - 8);
  double v6 = (char *)&v14 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v4);
  uint64_t v8 = (char *)&v14 - v7;
  sub_246BC6D6C(a1, (uint64_t)&v14 - v7);
  uint64_t v9 = v1 + OBJC_IVAR___NTKParmesanTimeView_overrideDate;
  swift_beginAccess();
  sub_246BC6DD4((uint64_t)v8, v9);
  swift_endAccess();
  double v10 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter);
  sub_246BC6D6C(a1, (uint64_t)v6);
  uint64_t v11 = sub_246C2BC18();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v12 + 48))(v6, 1, v11) != 1)
  {
    uint64_t v13 = (void *)sub_246C2BBE8();
    (*(void (**)(char *, uint64_t))(v12 + 8))(v6, v11);
  }
  objc_msgSend(v10, sel_setOverrideDate_, v13);
}

uint64_t sub_246BC6D6C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7030);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BC6DD4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7030);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BC6E3C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D8830);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BC6EA4(long long *a1, uint64_t a2)
{
  long long v2 = *a1;
  long long v3 = a1[1];
  *(void *)(a2 + 32) = *((void *)a1 + 4);
  *(_OWORD *)a2 = v2;
  *(_OWORD *)(a2 + 16) = v3;
  return a2;
}

void sub_246BC6EBC()
{
  *(void *)&v0[OBJC_IVAR___NTKParmesanTimeView_complicationVisibility] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanTimeView_tritiumProgress] = 0;
  uint64_t v1 = &v0[OBJC_IVAR___NTKParmesanTimeView_overrideDate];
  uint64_t v2 = sub_246C2BC18();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v2 - 8) + 56))(v1, 1, 1, v2);
  uint64_t v3 = OBJC_IVAR___NTKParmesanTimeView_timeLabelContainer;
  *(void *)&v0[v3] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82E00]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v4 = &v0[OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel];
  *uint64_t v4 = 0;
  v4[1] = 0;
  uint64_t v5 = &v0[OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel];
  void *v5 = 0;
  v5[1] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance] = 0;
  v0[OBJC_IVAR___NTKParmesanTimeView_isFrozen] = 0;

  sub_246C2D3A8();
  __break(1u);
}

uint64_t sub_246BC6FF0(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E00C0);
}

uint64_t sub_246BC7014(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E00D8);
}

uint64_t sub_246BC7038(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E00F0);
}

uint64_t sub_246BC705C(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0108);
}

uint64_t sub_246BC7088(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0120);
}

uint64_t sub_246BC70AC(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0138);
}

uint64_t sub_246BC70D8(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0150);
}

uint64_t sub_246BC70FC(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0168);
}

uint64_t sub_246BC7120(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0180);
}

uint64_t *sub_246BC7144(uint64_t a1, uint64_t *a2)
{
  if ((*(_DWORD *)(*(void *)(a1 - 8) + 80) & 0x20000) != 0)
  {
    uint64_t v3 = swift_slowAlloc();
    *a2 = v3;
    return (uint64_t *)v3;
  }
  return a2;
}

uint64_t sub_246BC71A8(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E0198);
}

uint64_t sub_246BC71CC(uint64_t a1)
{
  return sub_246BC71F0(a1, qword_2691E01B0);
}

uint64_t sub_246BC71F0(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_246C2C088();
  sub_246BC7144(v3, a2);
  sub_246B8BE0C(v3, (uint64_t)a2);
  return sub_246C2C078();
}

id sub_246BC7268(double a1, double a2, double a3, double a4)
{
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_image] = 0;
  uint64_t v9 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_title];
  *(void *)uint64_t v9 = 0;
  *((void *)v9 + 1) = 0;
  double v10 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_album];
  *(void *)double v10 = 0;
  *((void *)v10 + 1) = 0;
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell____lazy_storage___listContentView] = 0;
  uint64_t v11 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton;
  id v12 = objc_allocWithZone(MEMORY[0x263F824E8]);
  uint64_t v13 = v4;
  *(void *)&v4[v11] = objc_msgSend(v12, sel_init);
  uint64_t v14 = &v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButtonViewConstraints];
  *(void *)uint64_t v14 = 0;
  *((void *)v14 + 1) = 0;

  v17.receiver = v13;
  v17.uint64_t super_class = (Class)type metadata accessor for ParmesanListCell();
  id v15 = objc_msgSendSuper2(&v17, sel_initWithFrame_, a1, a2, a3, a4);
  objc_msgSend(v15, sel_setUserInteractionEnabled_, 1);
  return v15;
}

id sub_246BC7398(void *a1)
{
  *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_image] = 0;
  uint64_t v3 = &v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_title];
  *(void *)uint64_t v3 = 0;
  *((void *)v3 + 1) = 0;
  uint64_t v4 = &v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_album];
  *(void *)uint64_t v4 = 0;
  *((void *)v4 + 1) = 0;
  *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell____lazy_storage___listContentView] = 0;
  uint64_t v5 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton;
  id v6 = objc_allocWithZone(MEMORY[0x263F824E8]);
  uint64_t v7 = v1;
  *(void *)&v1[v5] = objc_msgSend(v6, sel_init);
  uint64_t v8 = &v7[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButtonViewConstraints];
  *(void *)uint64_t v8 = 0;
  *((void *)v8 + 1) = 0;

  v13.receiver = v7;
  v13.uint64_t super_class = (Class)type metadata accessor for ParmesanListCell();
  id v9 = objc_msgSendSuper2(&v13, sel_initWithCoder_, a1);
  id v10 = v9;
  if (v9)
  {
    id v11 = v9;
    objc_msgSend(v11, sel_setUserInteractionEnabled_, 1);
  }
  return v10;
}

id sub_246BC74C8()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2C268();
  MEMORY[0x270FA5388](v2 - 8);
  uint64_t v3 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell____lazy_storage___listContentView;
  uint64_t v4 = *(void **)(v0
                + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell____lazy_storage___listContentView);
  if (v4)
  {
    id v5 = *(id *)(v0
               + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell____lazy_storage___listContentView);
  }
  else
  {
    sub_246B8F1E0(0, &qword_2691D7980);
    sub_246C2C178();
    id v6 = (void *)sub_246C2CF98();
    uint64_t v7 = *(void **)(v0 + v3);
    *(void *)(v1 + v3) = v6;
    id v5 = v6;

    uint64_t v4 = 0;
  }
  id v8 = v4;
  return v5;
}

void sub_246BC75A0()
{
  if (!*(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButtonViewConstraints])
  {
    uint64_t v44 = &v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButtonViewConstraints];
    id v1 = objc_msgSend(v0, sel_contentView);
    id v2 = sub_246BC74C8();
    objc_msgSend(v1, sel_addSubview_, v2);

    id v3 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    uint64_t v4 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton;
    objc_msgSend(v3, sel_addSubview_, *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton]);

    id v5 = sub_246BC74C8();
    objc_msgSend(v5, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);

    id v6 = sub_246BC74C8();
    LODWORD(v7) = 1144750080;
    objc_msgSend(v6, sel_setContentCompressionResistancePriority_forAxis_, 0, v7);

    objc_msgSend(*(id *)&v0[v4], sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
    LODWORD(v8) = 1132068864;
    objc_msgSend(*(id *)&v0[v4], sel_setContentCompressionResistancePriority_forAxis_, 0, v8);
    id v9 = objc_msgSend(*(id *)&v0[v4], sel_leadingAnchor);
    id v10 = sub_246BC74C8();
    id v11 = objc_msgSend(v10, sel_trailingAnchor);

    id v42 = objc_msgSend(v9, sel_constraintGreaterThanOrEqualToAnchor_, v11);
    id v12 = objc_msgSend(*(id *)&v0[v4], sel_trailingAnchor);
    id v13 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    id v14 = objc_msgSend(v13, sel_layoutMarginsGuide);

    id v15 = objc_msgSend(v14, sel_trailingAnchor);
    id v16 = objc_msgSend(v12, sel_constraintEqualToAnchor_, v15);

    id v43 = self;
    sub_246B80250((uint64_t *)&unk_2691D6A80);
    uint64_t v17 = swift_allocObject();
    *(_OWORD *)(v17 + 16) = xmmword_246C35520;
    id v18 = sub_246BC74C8();
    id v19 = objc_msgSend(v18, sel_topAnchor);

    id v20 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    id v21 = objc_msgSend(v20, sel_topAnchor);

    id v22 = objc_msgSend(v19, sel_constraintEqualToAnchor_, v21);
    *(void *)(v17 + 32) = v22;
    id v23 = sub_246BC74C8();
    id v24 = objc_msgSend(v23, sel_bottomAnchor);

    id v25 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    id v26 = objc_msgSend(v25, sel_bottomAnchor);

    id v27 = objc_msgSend(v24, sel_constraintEqualToAnchor_, v26);
    *(void *)(v17 + 40) = v27;
    id v28 = sub_246BC74C8();
    id v29 = objc_msgSend(v28, sel_leadingAnchor);

    id v30 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    id v31 = objc_msgSend(v30, sel_leadingAnchor);

    id v32 = objc_msgSend(v29, sel_constraintEqualToAnchor_, v31);
    *(void *)(v17 + 48) = v32;
    id v33 = objc_msgSend(*(id *)&v0[v4], sel_centerYAnchor);
    id v34 = objc_msgSend(v0, (SEL)&selRef__setupCenteredViewWithPhoto_maskedPhoto_);
    id v35 = objc_msgSend(v34, sel_centerYAnchor);

    id v36 = objc_msgSend(v33, sel_constraintEqualToAnchor_, v35);
    *(void *)(v17 + 56) = v36;
    *(void *)(v17 + 64) = v42;
    *(void *)(v17 + 72) = v16;
    sub_246C2CD58();
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
    id v37 = v42;
    id v38 = v16;
    id v39 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    objc_msgSend(v43, sel_activateConstraints_, v39);

    double v40 = *(void **)v44;
    id v41 = (void *)*((void *)v44 + 1);
    *(void *)uint64_t v44 = v37;
    *((void *)v44 + 1) = v38;
    sub_246BC80B0(v40, v41);
  }
}

uint64_t sub_246BC7AAC(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246C2C1A8();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  double v7 = (char *)&v36[-1] - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2C268();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  id v12 = (char *)&v36[-1] - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v10);
  id v14 = (char *)&v36[-1] - v13;
  sub_246BC75A0();
  sub_246C2C178();
  uint64_t v15 = sub_246C2C168();
  uint64_t v37 = v15;
  uint64_t v38 = MEMORY[0x263F81ED0];
  id v16 = sub_246B8EBE4(v36);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v15 - 8) + 16))(v16, a1, v15);
  sub_246C2C248();
  id v35 = *(void (**)(char *, uint64_t))(v9 + 8);
  v35(v12, v8);
  sub_246B8EB94((uint64_t)v36);
  sub_246C2C1B8();
  uint64_t v17 = (void *)sub_246C2C198();
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  id v18 = objc_msgSend(self, sel_configurationWithFont_scale_, v17, 3);

  id v19 = (void (*)(uint64_t *, void))sub_246C2C1F8();
  sub_246C2C1C8();
  v19(v36, 0);
  id v20 = *(id *)(v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_image);
  sub_246C2C238();
  swift_bridgeObjectRetain();
  sub_246C2C228();
  sub_246C2C218();
  id v21 = sub_246BC74C8();
  uint64_t v37 = v8;
  uint64_t v38 = MEMORY[0x263F81F20];
  id v22 = sub_246B8EBE4(v36);
  (*(void (**)(uint64_t *, char *, uint64_t))(v9 + 16))(v22, v14, v8);
  sub_246C2CF88();

  uint64_t v23 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton;
  id v24 = *(void **)(v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_albumButton);
  if (*(void *)(v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion16ParmesanListCell_album + 8))
  {
    id v25 = v24;
    swift_bridgeObjectRetain();
    id v26 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  else
  {
    id v27 = v24;
    id v26 = 0;
  }
  objc_msgSend(v24, sel_setTitle_forState_, v26, 0);

  id v28 = *(void **)(v2 + v23);
  id v29 = self;
  id v30 = v28;
  id v31 = objc_msgSend(v29, sel_systemOrangeColor);
  objc_msgSend(v30, sel_setTitleColor_forState_, v31, 0);

  id v32 = objc_msgSend(*(id *)(v2 + v23), sel_titleLabel);
  if (v32)
  {
    id v33 = v32;
    objc_msgSend(v32, sel_setLineBreakMode_, 4);
  }
  return ((uint64_t (*)(char *, uint64_t))v35)(v14, v8);
}

id sub_246BC7FC0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanListCell();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanListCell()
{
  return self;
}

void sub_246BC80B0(void *a1, void *a2)
{
  if (a1)
  {
  }
}

uint64_t sub_246BC8180()
{
  if (*v0) {
    return 0x746867696568;
  }
  else {
    return 0x6874646977;
  }
}

uint64_t sub_246BC81B4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_246BC88FC(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_246BC81DC(uint64_t a1)
{
  unint64_t v2 = sub_246BC869C();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BC8218(uint64_t a1)
{
  unint64_t v2 = sub_246BC869C();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BC8254()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanSize();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanSize()
{
  return self;
}

uint64_t sub_246BC82AC(void *a1)
{
  uint64_t v3 = sub_246B80250(&qword_2691D79A8);
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  uint64_t v6 = &v8[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246B8F7E8(a1, a1[3]);
  sub_246BC869C();
  sub_246C2D708();
  v8[15] = 0;
  sub_246C2D4E8();
  if (!v1)
  {
    v8[14] = 1;
    sub_246C2D4E8();
  }
  return (*(uint64_t (**)(unsigned char *, uint64_t))(v4 + 8))(v6, v3);
}

id sub_246BC841C(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7998);
  uint64_t v16 = *(void *)(v4 - 8);
  uint64_t v17 = v4;
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v7 = sub_246B8F7E8(a1, a1[3]);
  sub_246BC869C();
  uint64_t v8 = v1;
  id v9 = v7;
  sub_246C2D6E8();
  if (v2)
  {

    sub_246B8EB94((uint64_t)a1);
    type metadata accessor for ParmesanSize();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v11 = v16;
    uint64_t v10 = v17;
    char v19 = 0;
    sub_246C2D478();
    *(void *)&v8[OBJC_IVAR___NTKParmesanSize_width] = v12;
    char v19 = 1;
    sub_246C2D478();
    *(void *)&v8[OBJC_IVAR___NTKParmesanSize_height] = v14;

    uint64_t v15 = (objc_class *)type metadata accessor for ParmesanSize();
    v18.receiver = v8;
    v18.uint64_t super_class = v15;
    id v9 = objc_msgSendSuper2(&v18, sel_init);
    (*(void (**)(char *, uint64_t))(v11 + 8))(v6, v10);
    sub_246B8EB94((uint64_t)a1);
  }
  return v9;
}

id sub_246BC8624@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanSize());
  id result = sub_246BC841C(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BC8678(void *a1)
{
  return sub_246BC82AC(a1);
}

unint64_t sub_246BC869C()
{
  unint64_t result = qword_2691D79A0;
  if (!qword_2691D79A0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D79A0);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanSize.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BC87BCLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanSize.CodingKeys()
{
  return &type metadata for ParmesanSize.CodingKeys;
}

unint64_t sub_246BC87F8()
{
  unint64_t result = qword_2691D79B0;
  if (!qword_2691D79B0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D79B0);
  }
  return result;
}

unint64_t sub_246BC8850()
{
  unint64_t result = qword_2691D79B8;
  if (!qword_2691D79B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D79B8);
  }
  return result;
}

unint64_t sub_246BC88A8()
{
  unint64_t result = qword_2691D79C0;
  if (!qword_2691D79C0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D79C0);
  }
  return result;
}

uint64_t sub_246BC88FC(uint64_t a1, uint64_t a2)
{
  BOOL v2 = a1 == 0x6874646977 && a2 == 0xE500000000000000;
  if (v2 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 0x746867696568 && a2 == 0xE600000000000000)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    char v6 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if (v6) {
      return 1;
    }
    else {
      return 2;
    }
  }
}

unint64_t sub_246BC89E0()
{
  return sub_246BC8A30(&OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___fontSizeOverrides, (uint64_t)&unk_26FB1F608, 40.0, 42.0);
}

unint64_t sub_246BC8A04()
{
  return sub_246BC8A30(&OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___placeholderImageSizeOverrides, (uint64_t)&unk_26FB1F678, 83.0, 91.0);
}

unint64_t sub_246BC8A30(uint64_t *a1, uint64_t a2, double a3, double a4)
{
  uint64_t v5 = *a1;
  unint64_t v6 = *(void *)(v4 + *a1);
  if (v6)
  {
    unint64_t v7 = v6;
  }
  else
  {
    unint64_t v7 = sub_246BC8A94(a2, a3, a4);
    *(void *)(v4 + v5) = v7;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  return v7;
}

unint64_t sub_246BC8A94(uint64_t a1, double a2, double a3)
{
  unint64_t v5 = sub_246C17CF0(a1);
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  sub_246C1AF80(7, isUniquelyReferenced_nonNull_native, a2);
  swift_bridgeObjectRelease();
  char v7 = swift_isUniquelyReferenced_nonNull_native();
  sub_246C1AF80(8, v7, a3);
  swift_bridgeObjectRelease();
  return v5;
}

id sub_246BC8B28(void *a1, double a2, double a3, double a4, double a5)
{
  uint64_t v11 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_icon;
  id v12 = objc_allocWithZone(MEMORY[0x263F82828]);
  uint64_t v13 = v5;
  *(void *)&v5[v11] = objc_msgSend(v12, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v14 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_label;
  *(void *)&v13[v14] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___fontSizeOverrides] = 0;
  *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___placeholderImageSizeOverrides] = 0;

  v17.receiver = v13;
  v17.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryNoPhotosView();
  id v15 = objc_msgSendSuper2(&v17, sel_initWithFrame_, a2, a3, a4, a5);
  sub_246BC8C78((uint64_t)a1);

  return v15;
}

void sub_246BC8C78(uint64_t a1)
{
  BOOL v2 = v1;
  uint64_t v4 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_icon;
  objc_msgSend(v1, sel_addSubview_, *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_icon]);
  uint64_t v5 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_label;
  objc_msgSend(v2, sel_addSubview_, *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_label]);
  id v6 = objc_msgSend(objc_allocWithZone(MEMORY[0x263EFD188]), sel_initWithDevice_identitySizeClass_, a1, 2);
  sub_246BC89E0();
  uint64_t v54 = v6;
  sub_246C2CF18();
  double v8 = v7;
  swift_bridgeObjectRelease();
  sub_246BC8A04();
  sub_246C2CF18();
  double v10 = v9;
  swift_bridgeObjectRelease();
  double v11 = v10 * 0.5;
  id v12 = *(void **)&v1[v5];
  uint64_t v13 = self;
  double v14 = *MEMORY[0x263F81838];
  id v15 = v12;
  id v16 = objc_msgSend(v13, sel_systemFontOfSize_weight_, v8 * 0.5, v14);
  objc_msgSend(v15, sel_setFont_, v16);

  objc_super v17 = *(void **)&v2[v5];
  objc_super v18 = self;
  id v19 = v17;
  id v20 = objc_msgSend(v18, sel_systemGrayColor);
  objc_msgSend(v19, sel_setTextColor_, v20);

  objc_msgSend(*(id *)&v2[v5], sel_setNumberOfLines_, 2);
  id v21 = *(id *)&v2[v4];
  id v22 = (void *)sub_246C2CC08();
  id v23 = (id)NTKImageNamed();

  objc_msgSend(v21, sel_setImage_, v23);
  objc_msgSend(*(id *)&v2[v4], sel_setContentMode_, 1);
  id v24 = objc_msgSend(*(id *)&v2[v4], sel_layer);
  objc_msgSend(v24, sel_setCornerRadius_, v11 * 0.5);

  id v25 = objc_msgSend(*(id *)&v2[v4], sel_layer);
  objc_msgSend(v25, sel_setMasksToBounds_, 1);

  sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
  id v26 = *(void **)&v2[v4];
  uint64_t v59 = sub_246B8F1E0(0, &qword_2691D79E8);
  v58[0] = v26;
  uint64_t v27 = type metadata accessor for ParmesanGalleryNoPhotosView();
  uint64_t v57 = v27;
  v56[0] = v2;
  id v28 = v26;
  id v29 = v2;
  id v30 = sub_246BC9298(v58, 3, 0, v56, 4, 0.47, 0.0);
  uint64_t v52 = v5;
  id v31 = *(void **)&v2[v5];
  uint64_t v59 = sub_246B8F1E0(0, &qword_2691D79F0);
  uint64_t v57 = v27;
  v58[0] = v31;
  v56[0] = v29;
  id v32 = v29;
  id v33 = v31;
  id v34 = sub_246BC9298(v58, 12, 0, v56, 4, 0.59, v11);
  objc_msgSend(*(id *)&v2[v4], sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  objc_msgSend(*(id *)&v2[v5], sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  id v53 = self;
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v35 = swift_allocObject();
  *(_OWORD *)(v35 + 16) = xmmword_246C35710;
  id v36 = objc_msgSend(*(id *)&v2[v4], sel_widthAnchor);
  id v37 = objc_msgSend(v36, sel_constraintEqualToConstant_, v11);

  *(void *)(v35 + 32) = v37;
  id v38 = objc_msgSend(*(id *)&v2[v4], sel_heightAnchor);
  id v39 = objc_msgSend(v38, sel_constraintEqualToConstant_, v11);

  *(void *)(v35 + 40) = v39;
  id v40 = objc_msgSend(*(id *)&v2[v4], sel_centerXAnchor);
  id v41 = objc_msgSend(v32, sel_centerXAnchor);
  id v42 = objc_msgSend(v40, sel_constraintEqualToAnchor_, v41);

  *(void *)(v35 + 48) = v42;
  *(void *)(v35 + 56) = v30;
  *(void *)(v35 + 64) = v34;
  id v43 = *(void **)&v2[v52];
  id v51 = v30;
  id v44 = v34;
  id v45 = objc_msgSend(v43, sel_centerXAnchor);
  id v46 = objc_msgSend(v32, sel_centerXAnchor);
  id v47 = objc_msgSend(v45, sel_constraintEqualToAnchor_, v46);

  *(void *)(v35 + 72) = v47;
  id v48 = objc_msgSend(*(id *)&v2[v52], sel_widthAnchor);
  id v49 = objc_msgSend(v32, sel_widthAnchor);
  id v50 = objc_msgSend(v48, sel_constraintLessThanOrEqualToAnchor_, v49);

  *(void *)(v35 + 80) = v50;
  v58[0] = v35;
  sub_246C2CD58();
  id v55 = (id)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v53, sel_activateConstraints_, v55);
}

id sub_246BC9298(void *a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, double a6, double a7)
{
  sub_246B8F7E8(a1, a1[3]);
  uint64_t v14 = sub_246C2D558();
  uint64_t v15 = a4[3];
  if (v15)
  {
    id v16 = sub_246B8F7E8(a4, a4[3]);
    uint64_t v24 = a5;
    uint64_t v25 = a2;
    uint64_t v17 = a3;
    uint64_t v18 = *(void *)(v15 - 8);
    MEMORY[0x270FA5388](v16);
    id v20 = (char *)&v24 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v18 + 16))(v20);
    uint64_t v21 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v15);
    a3 = v17;
    a5 = v24;
    a2 = v25;
    sub_246B8EB94((uint64_t)a4);
  }
  else
  {
    uint64_t v21 = 0;
  }
  id v22 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant_, v14, a2, a3, v21, a5, a6, a7);
  swift_unknownObjectRelease();
  swift_unknownObjectRelease();
  sub_246B8EB94((uint64_t)a1);
  return v22;
}

id sub_246BC949C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryNoPhotosView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryNoPhotosView()
{
  return self;
}

void sub_246BC9560()
{
  uint64_t v1 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_icon;
  *(void *)&v0[v1] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82828]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v2 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_label;
  *(void *)&v0[v2] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___fontSizeOverrides] = 0;
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView____lazy_storage___placeholderImageSizeOverrides] = 0;

  sub_246C2D3A8();
  __break(1u);
}

uint64_t type metadata accessor for ParmesanGalleryTransitionTap()
{
  return self;
}

uint64_t sub_246BC9668()
{
  return 7364980;
}

double sub_246BC9678@<D0>(_OWORD *a1@<X8>)
{
  *a1 = xmmword_246C35760;
  a1[1] = xmmword_246C35760;
  double result = 1.0;
  a1[2] = xmmword_246C35770;
  return result;
}

void sub_246BC9694()
{
  CLKCompressFraction();
  double v1 = 1.0 - v0;
  CLKCompressFraction();
  sub_246BC021C(v1, v2);
  sub_246BC03C4();
}

uint64_t sub_246BC9734()
{
  swift_getKeyPath();
  sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  swift_release();
  return *(unsigned __int8 *)(v0 + 56);
}

uint64_t sub_246BC97D4@<X0>(uint64_t *a1@<X0>, unsigned char *a2@<X8>)
{
  uint64_t v3 = *a1;
  swift_getKeyPath();
  sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  uint64_t result = swift_release();
  *a2 = *(unsigned char *)(v3 + 56);
  return result;
}

uint64_t sub_246BC987C()
{
  return swift_release();
}

uint64_t sub_246BC994C(uint64_t result, char a2)
{
  *(unsigned char *)(result + 56) = a2;
  return result;
}

uint64_t sub_246BC9954()
{
  return swift_bridgeObjectRetain();
}

uint64_t sub_246BC99F8@<X0>(uint64_t *a1@<X0>, void *a2@<X8>)
{
  uint64_t v3 = *a1;
  swift_getKeyPath();
  sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  swift_release();
  *a2 = *(void *)(v3 + 64);
  return swift_bridgeObjectRetain();
}

uint64_t sub_246BC9AA4()
{
  return swift_bridgeObjectRelease();
}

uint64_t sub_246BC9B84(uint64_t a1, uint64_t a2)
{
  *(void *)(a1 + 64) = a2;
  swift_bridgeObjectRetain();
  return swift_bridgeObjectRelease();
}

uint64_t sub_246BC9BC0()
{
  swift_bridgeObjectRelease();
  uint64_t v1 = v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanStackViewModel___observationRegistrar;
  uint64_t v2 = sub_246C2BFF8();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);

  return swift_deallocClassInstance();
}

uint64_t sub_246BC9C68()
{
  return type metadata accessor for ParmesanStackViewModel();
}

uint64_t type metadata accessor for ParmesanStackViewModel()
{
  uint64_t result = qword_2691D7A00;
  if (!qword_2691D7A00) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246BC9CBC()
{
  uint64_t result = sub_246C2BFF8();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_246BC9D88()
{
  *(void *)(*(void *)(v0 + 16) + 64) = *(void *)(v0 + 24);
  swift_bridgeObjectRetain();
  return swift_bridgeObjectRelease();
}

void sub_246BC9DCC()
{
  *(unsigned char *)(*(void *)(v0 + 16) + 56) = *(unsigned char *)(v0 + 24);
}

uint64_t destroy for ParmesanPreviewStackView()
{
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();

  return swift_bridgeObjectRelease();
}

uint64_t initializeWithCopy for ParmesanPreviewStackView(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = *(unsigned char *)(a2 + 8);
  uint64_t v3 = *(void *)(a2 + 24);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  *(void *)(a1 + 24) = v3;
  uint64_t v4 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v4;
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  swift_retain();
  swift_retain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t assignWithCopy for ParmesanPreviewStackView(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = *(unsigned char *)(a2 + 8);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  swift_retain();
  swift_release();
  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  swift_retain();
  swift_release();
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  return a1;
}

__n128 initializeWithTake for ParmesanPreviewStackView(uint64_t a1, uint64_t a2)
{
  __n128 result = *(__n128 *)a2;
  long long v3 = *(_OWORD *)(a2 + 16);
  long long v4 = *(_OWORD *)(a2 + 32);
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(_OWORD *)(a1 + 16) = v3;
  *(_OWORD *)(a1 + 32) = v4;
  *(__n128 *)a1 = result;
  return result;
}

uint64_t assignWithTake for ParmesanPreviewStackView(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  *(unsigned char *)(a1 + 8) = *(unsigned char *)(a2 + 8);
  swift_release();
  *(_OWORD *)(a1 + 16) = *(_OWORD *)(a2 + 16);
  swift_release();
  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  swift_bridgeObjectRelease();
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanPreviewStackView(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 56)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 24);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanPreviewStackView(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 56) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 24) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 56) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanPreviewStackView()
{
  return &type metadata for ParmesanPreviewStackView;
}

uint64_t sub_246BCA070()
{
  return swift_getOpaqueTypeConformance2();
}

char *sub_246BCA08C()
{
  uint64_t v1 = v0;
  unint64_t v2 = (char *)objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanPreviewContentView()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v3 = *(void *)(v1 + 48);
  uint64_t v4 = *(void *)(v1 + 88);
  uint64_t v5 = *(void *)(v1 + 96);
  uint64_t v6 = (uint64_t)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration];
  double v7 = *(void **)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 16];
  uint64_t v17 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 8];
  uint64_t v18 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration];
  uint64_t v8 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 24];
  uint64_t v9 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 32];
  uint64_t v10 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 40];
  uint64_t v11 = *(void *)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 48];
  id v16 = *(void **)&v2[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanPreviewContentView_configuration + 56];
  long long v12 = *(_OWORD *)(v1 + 56);
  long long v13 = *(_OWORD *)(v1 + 72);
  long long v14 = *(_OWORD *)(v1 + 104);
  *(void *)uint64_t v6 = *(void *)(v1 + 40);
  *(void *)(v6 + 8) = v3;
  *(_OWORD *)(v6 + 16) = v12;
  *(_OWORD *)(v6 + 32) = v13;
  *(void *)(v6 + 48) = v4;
  *(void *)(v6 + 56) = v5;
  *(_OWORD *)(v6 + 64) = v14;
  sub_246BCCC08(v1);
  sub_246BCCC08(v1);
  sub_246B98680(v18, v17, v7, v8, v9, v10, v11, v16);
  sub_246B8ED74(v6, (uint64_t)v19, &qword_2691D6E18);
  sub_246B98784(v19, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B9873C);
  sub_246BAF51C(v19);
  sub_246B98784(v19, (void (*)(void, void, void, void, void, void, void, void, void, void))sub_246B98680);
  sub_246BCCC4C(v1);
  return v2;
}

char *sub_246BCA1E8()
{
  return sub_246BCA08C();
}

uint64_t sub_246BCA24C()
{
  return sub_246C2C658();
}

uint64_t sub_246BCA290(uint64_t a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = sub_246BCCBB4();

  return MEMORY[0x270F01780](a1, a2, a3, v6);
}

uint64_t sub_246BCA2F4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  unint64_t v6 = sub_246BCCBB4();

  return MEMORY[0x270F01718](a1, a2, a3, v6);
}

void sub_246BCA358()
{
}

uint64_t sub_246BCA380@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = v1;
  uint64_t v91 = a1;
  uint64_t v3 = sub_246B80250(&qword_2691D7A10);
  MEMORY[0x270FA5388](v3 - 8);
  uint64_t v88 = (char *)v67 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v81 = sub_246C2C5F8();
  uint64_t v82 = *(void *)(v81 - 8);
  MEMORY[0x270FA5388](v81);
  uint64_t v70 = (char *)v67 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = sub_246B80250(&qword_2691D7A18);
  uint64_t v78 = *(void *)(v80 - 8);
  uint64_t v6 = MEMORY[0x270FA5388](v80);
  long long v74 = (char *)v67 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  uint64_t v71 = (char *)v67 - v8;
  uint64_t v79 = sub_246B80250(&qword_2691D7A20);
  uint64_t v77 = *(void *)(v79 - 8);
  MEMORY[0x270FA5388](v79);
  uint64_t v10 = (char *)v67 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v73 = sub_246B80250(&qword_2691D7A28) - 8;
  MEMORY[0x270FA5388](v73);
  id v72 = (char *)v67 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_246B80250(&qword_2691D7A30);
  MEMORY[0x270FA5388](v12 - 8);
  long long v14 = (void *)((char *)v67 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v76 = sub_246B80250(&qword_2691D7A38) - 8;
  MEMORY[0x270FA5388](v76);
  uint64_t v93 = (uint64_t)v67 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v83 = sub_246B80250(&qword_2691D7A40);
  MEMORY[0x270FA5388](v83);
  uint64_t v84 = (char *)v67 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v89 = sub_246B80250(&qword_2691D7A48);
  uint64_t v87 = *(void *)(v89 - 8);
  MEMORY[0x270FA5388](v89);
  uint64_t v86 = (char *)v67 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v85 = sub_246B80250(&qword_2691D7A50);
  MEMORY[0x270FA5388](v85);
  uint64_t v90 = (char *)v67 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = *(void *)(v1 + 24);
  swift_getKeyPath();
  v67[1] = v19 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanStackViewModel___observationRegistrar;
  *(void *)&long long v96 = v19;
  uint64_t v92 = sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  swift_release();
  uint64_t v20 = *(void *)(v19 + 64);
  swift_bridgeObjectRetain();
  *long long v14 = sub_246C2C9C8();
  v14[1] = v21;
  id v69 = v14;
  uint64_t v68 = (uint64_t)v14 + *(int *)(sub_246B80250(&qword_2691D7A58) + 44);
  uint64_t v22 = *(void *)(v19 + 16);
  id v23 = *(char **)(v20 + 16);
  size_t v24 = swift_bridgeObjectRetain();
  size_t v25 = sub_246BCB94C(v24, 0, v23);
  swift_bridgeObjectRelease();
  *(void *)&long long v96 = v25;
  swift_getKeyPath();
  uint64_t v26 = swift_allocObject();
  *(void *)(v26 + 16) = (unint64_t)v23 >> 1;
  long long v27 = *(_OWORD *)(v2 + 16);
  *(_OWORD *)(v26 + 24) = *(_OWORD *)v2;
  *(_OWORD *)(v26 + 40) = v27;
  *(_OWORD *)(v26 + 56) = *(_OWORD *)(v2 + 32);
  *(void *)(v26 + 72) = *(void *)(v2 + 48);
  *(void *)(v26 + 80) = v22;
  *(void *)(v26 + 88) = v23;
  uint64_t v28 = swift_allocObject();
  *(void *)(v28 + 16) = sub_246BCBD98;
  *(void *)(v28 + 24) = v26;
  uint64_t v75 = (_OWORD *)v2;
  sub_246BCBE34(v2);
  sub_246B80250(&qword_2691D7A60);
  sub_246B80250(&qword_2691D7A68);
  sub_246B8EC94(&qword_2691D7A70, &qword_2691D7A60);
  sub_246BCBE88();
  sub_246C2C9B8();
  id v29 = v70;
  sub_246C2C5E8();
  sub_246C2C9D8();
  uint64_t v30 = sub_246BCC290(&qword_2691D7B38, MEMORY[0x263F196B8]);
  id v31 = v71;
  uint64_t v32 = v81;
  sub_246C2C478();
  swift_release();
  uint64_t v33 = v32;
  (*(void (**)(char *, uint64_t))(v82 + 8))(v29, v32);
  uint64_t v34 = v78;
  uint64_t v35 = v80;
  (*(void (**)(char *, char *, uint64_t))(v78 + 16))(v74, v31, v80);
  *(void *)&long long v96 = v33;
  *((void *)&v96 + 1) = v30;
  swift_getOpaqueTypeConformance2();
  uint64_t v36 = sub_246C2C4B8();
  uint64_t v37 = v77;
  uint64_t v38 = (uint64_t)v72;
  uint64_t v39 = v79;
  (*(void (**)(char *, char *, uint64_t))(v77 + 16))(v72, v10, v79);
  *(void *)(v38 + *(int *)(v73 + 44)) = v36;
  (*(void (**)(char *, uint64_t))(v34 + 8))(v31, v35);
  (*(void (**)(char *, uint64_t))(v37 + 8))(v10, v39);
  sub_246B8ED74(v38, v68, &qword_2691D7A28);
  swift_bridgeObjectRelease();
  sub_246C2C9C8();
  sub_246C2C4A8();
  uint64_t v40 = (uint64_t)v69;
  uint64_t v41 = v93;
  sub_246BB75D0((uint64_t)v69, v93, &qword_2691D7A30);
  id v42 = (_OWORD *)(v41 + *(int *)(v76 + 44));
  long long v43 = v97;
  *id v42 = v96;
  v42[1] = v43;
  v42[2] = v98;
  sub_246B8EA34(v40, &qword_2691D7A30);
  uint64_t v44 = sub_246C2C9C8();
  uint64_t v46 = v45;
  swift_getKeyPath();
  *(void *)&long long v94 = v19;
  sub_246C2BFD8();
  swift_release();
  if (*(unsigned char *)(v19 + 56) == 1)
  {
    uint64_t v47 = (uint64_t)v88;
    sub_246C2C498();
    uint64_t v48 = sub_246B80250(&qword_2691D7B40);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v48 - 8) + 56))(v47, 0, 1, v48);
  }
  else
  {
    uint64_t v49 = sub_246B80250(&qword_2691D7B40);
    uint64_t v47 = (uint64_t)v88;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v49 - 8) + 56))(v88, 1, 1, v49);
  }
  uint64_t v50 = (uint64_t)v84;
  uint64_t v51 = (uint64_t)&v84[*(int *)(v83 + 36)];
  sub_246B8ED74(v47, v51, &qword_2691D7A10);
  uint64_t v52 = (uint64_t *)(v51 + *(int *)(sub_246B80250(&qword_2691D7B48) + 36));
  uint64_t *v52 = v44;
  v52[1] = v46;
  sub_246B8ED74(v93, v50, &qword_2691D7A38);
  swift_getKeyPath();
  *(void *)&long long v94 = v19;
  sub_246C2BFD8();
  swift_release();
  *(void *)&long long v94 = *(void *)(v19 + 64);
  uint64_t v53 = swift_allocObject();
  uint64_t v54 = (uint64_t)v75;
  long long v55 = v75[1];
  *(_OWORD *)(v53 + 16) = *v75;
  *(_OWORD *)(v53 + 32) = v55;
  *(_OWORD *)(v53 + 48) = *(_OWORD *)(v54 + 32);
  *(void *)(v53 + 64) = *(void *)(v54 + 48);
  sub_246BCBE34(v54);
  swift_bridgeObjectRetain();
  sub_246B80250(&qword_2691D7B50);
  sub_246BCC330();
  sub_246BCC470();
  long long v56 = v86;
  sub_246C2C8D8();
  swift_release();
  swift_bridgeObjectRelease();
  sub_246B8EA34(v50, &qword_2691D7A40);
  uint64_t v57 = sub_246C2C9D8();
  long long v94 = *(_OWORD *)(v54 + 8);
  sub_246B80250(&qword_2691D7B88);
  sub_246C2C978();
  LOBYTE(v51) = v95;
  uint64_t v58 = v87;
  uint64_t v59 = v89;
  uint64_t v60 = (uint64_t)v90;
  (*(void (**)(char *, char *, uint64_t))(v87 + 16))(v90, v56, v89);
  uint64_t v61 = v60 + *(int *)(v85 + 36);
  *(void *)uint64_t v61 = v57;
  *(unsigned char *)(v61 + 8) = v51;
  (*(void (**)(char *, uint64_t))(v58 + 8))(v56, v59);
  uint64_t v62 = sub_246C2C9D8();
  swift_getKeyPath();
  *(void *)&long long v94 = v19;
  sub_246C2BFD8();
  swift_release();
  uint64_t v63 = *(void *)(v19 + 64);
  uint64_t v64 = v91;
  sub_246BB75D0(v60, v91, &qword_2691D7A50);
  uint64_t v65 = (uint64_t *)(v64 + *(int *)(sub_246B80250(&qword_2691D7B90) + 36));
  *uint64_t v65 = v62;
  v65[1] = v63;
  swift_bridgeObjectRetain();
  return sub_246B8EA34(v60, &qword_2691D7A50);
}

uint64_t sub_246BCAFAC@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, void *a4@<X3>, double a5@<X4>, uint64_t a6@<X8>, double a7@<D0>)
{
  double v96 = a5;
  uint64_t v119 = a6;
  uint64_t v12 = *a1;
  uint64_t v112 = a1[1];
  uint64_t v113 = v12;
  uint64_t v13 = a1[2];
  uint64_t v15 = a1[3];
  uint64_t v14 = a1[4];
  uint64_t v16 = a1[5];
  uint64_t v17 = a1[6];
  uint64_t v110 = a1[7];
  uint64_t v111 = v13;
  uint64_t v18 = a1[8];
  uint64_t v108 = a1[9];
  uint64_t v109 = v18;
  uint64_t v114 = sub_246B80250(&qword_2691D7B10);
  MEMORY[0x270FA5388](v114);
  uint64_t v117 = (uint64_t)&v93 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v106 = sub_246C2C4F8();
  MEMORY[0x270FA5388](v106);
  double v115 = (char *)&v93 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v107 = sub_246B80250(&qword_2691D7AB8);
  MEMORY[0x270FA5388](v107);
  uint64_t v22 = (long long *)((char *)&v93 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v116 = sub_246B80250(&qword_2691D7AA8);
  MEMORY[0x270FA5388](v116);
  size_t v24 = (char *)&v93 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v118 = sub_246B80250(&qword_2691D7A98);
  MEMORY[0x270FA5388](v118);
  uint64_t v26 = (char *)&v93 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = sub_246B80250(&qword_2691D7A88);
  MEMORY[0x270FA5388](v27);
  id v29 = (char *)&v93 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = sub_246B80250(&qword_2691D7A68);
  uint64_t result = MEMORY[0x270FA5388](v30);
  uint64_t v33 = (char *)&v93 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = a2 - a3;
  if (__OFSUB__(a2, a3))
  {
    __break(1u);
LABEL_22:
    __break(1u);
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  if (v34 < 0)
  {
    _VF = __OFSUB__(0, v34);
    uint64_t v34 = a3 - a2;
    if (_VF) {
      goto LABEL_28;
    }
  }
  uint64_t v105 = v27;
  unint64_t v36 = v34 - 1;
  if (__OFSUB__(v34, 1)) {
    goto LABEL_22;
  }
  double v37 = 1.0;
  double v38 = 0.0;
  if (a2 == a3) {
    goto LABEL_10;
  }
  if ((v36 & 0x8000000000000000) != 0) {
    goto LABEL_23;
  }
  uint64_t v39 = a4[4];
  if (v36 >= *(void *)(v39 + 16))
  {
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  uint64_t v40 = a4[5];
  if (v36 >= *(void *)(v40 + 16))
  {
LABEL_25:
    __break(1u);
    goto LABEL_26;
  }
  double v37 = *(double *)(v39 + 8 * v36 + 32);
  double v38 = *(double *)(v40 + 8 * v36 + 32) * a7;
LABEL_10:
  double v100 = v33;
  uint64_t v101 = result;
  double v102 = v29;
  double v103 = v24;
  double v104 = v26;
  uint64_t v41 = a4[3];
  swift_getKeyPath();
  *(void *)&long long v124 = v41;
  sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  uint64_t result = swift_release();
  double v99 = v37;
  long long v98 = a4;
  uint64_t v97 = v17;
  if (a2 != a3)
  {
    unint64_t v45 = v36 + 1;
    if (!__OFADD__(v36, 1))
    {
      if (a2 < a3) {
        double v38 = -v38;
      }
      _VF = __OFSUB__(*(void *)&v96, v45);
      uint64_t v44 = *(void *)&v96 - v45;
      if (!_VF)
      {
        double v96 = v38;
        uint64_t v42 = v16;
        uint64_t v43 = v14;
        goto LABEL_17;
      }
      goto LABEL_27;
    }
LABEL_26:
    __break(1u);
LABEL_27:
    __break(1u);
LABEL_28:
    __break(1u);
    return result;
  }
  double v96 = v38;
  uint64_t v42 = v16;
  uint64_t v43 = v14;
  uint64_t v44 = 9;
LABEL_17:
  long long v94 = a1;
  uint64_t v95 = v44;
  uint64_t v46 = *(void *)(v41 + 16);
  uint64_t v47 = *(void *)(v41 + 24);
  long long v93 = *(_OWORD *)(v41 + 32);
  uint64_t v48 = *(void *)(v41 + 48);
  sub_246BCC594((uint64_t)a1);
  sub_246C2C9C8();
  sub_246C2C4A8();
  uint64_t v49 = v135;
  char v50 = v136;
  uint64_t v51 = v137;
  char v52 = v138;
  uint64_t v53 = v139;
  uint64_t v54 = v140;
  char v123 = v136;
  char v122 = v138;
  sub_246C2C908();
  uint64_t v55 = sub_246C2C928();
  swift_release();
  char v56 = sub_246C2C7A8();
  *(void *)&long long v124 = v46;
  *((void *)&v124 + 1) = v47;
  long long v125 = v93;
  *(void *)&long long v126 = v48;
  *((void *)&v126 + 1) = v113;
  *(void *)&long long v127 = v112;
  *((void *)&v127 + 1) = v111;
  *(void *)&long long v128 = v15;
  *((void *)&v128 + 1) = v43;
  *(void *)&long long v129 = v42;
  *((void *)&v129 + 1) = v97;
  *(void *)&long long v130 = v110;
  *((void *)&v130 + 1) = v109;
  *(void *)&long long v131 = v108;
  *((void *)&v131 + 1) = v49;
  LOBYTE(v132) = v50;
  *((void *)&v132 + 1) = v51;
  LOBYTE(v133) = v52;
  *((void *)&v133 + 1) = v53;
  *(void *)&v134[0] = v54;
  WORD4(v134[0]) = 257;
  *(void *)&v134[1] = v55;
  BYTE8(v134[1]) = v56;
  uint64_t v57 = v115;
  uint64_t v58 = &v115[*(int *)(v106 + 20)];
  uint64_t v59 = *MEMORY[0x263F19860];
  uint64_t v60 = sub_246C2C618();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v60 - 8) + 104))(v58, v59, v60);
  __asm { FMOV            V0.2D, #16.0 }
  *uint64_t v57 = _Q0;
  uint64_t v65 = v117;
  sub_246BCC5D8((uint64_t)v57, v117);
  *(_WORD *)(v65 + *(int *)(v114 + 36)) = 256;
  sub_246BB75D0(v65, (uint64_t)v22 + *(int *)(v107 + 36), &qword_2691D7B10);
  long long v66 = v133;
  v22[8] = v132;
  v22[9] = v66;
  v22[10] = v134[0];
  *(_OWORD *)((char *)v22 + 169) = *(_OWORD *)((char *)v134 + 9);
  long long v67 = v129;
  v22[4] = v128;
  v22[5] = v67;
  long long v68 = v131;
  void v22[6] = v130;
  v22[7] = v68;
  long long v69 = v125;
  *uint64_t v22 = v124;
  v22[1] = v69;
  long long v70 = v127;
  v22[2] = v126;
  v22[3] = v70;
  sub_246BCC63C((uint64_t)&v124);
  sub_246B8EA34(v65, &qword_2691D7B10);
  sub_246BCC68C((uint64_t)v57);
  sub_246BCC6E8((uint64_t)&v124);
  uint64_t v72 = *v94;
  uint64_t v71 = v94[1];
  uint64_t v73 = v98;
  swift_bridgeObjectRetain();
  uint64_t v74 = sub_246C2C9F8();
  LODWORD(v57) = sub_246C2C738();
  sub_246C2CA08();
  uint64_t v76 = v75;
  uint64_t v78 = v77;
  uint64_t v79 = (uint64_t)v103;
  sub_246BB75D0((uint64_t)v22, (uint64_t)v103, &qword_2691D7AB8);
  uint64_t v80 = v79 + *(int *)(v116 + 36);
  *(void *)uint64_t v80 = v72;
  *(void *)(v80 + 8) = v71;
  *(void *)(v80 + 16) = v74;
  *(_DWORD *)(v80 + 24) = v57;
  *(void *)(v80 + 32) = v76;
  *(void *)(v80 + 40) = v78;
  *(unsigned char *)(v80 + 48) = 1;
  sub_246B8EA34((uint64_t)v22, &qword_2691D7AB8);
  long long v120 = *(_OWORD *)(v73 + 1);
  sub_246B80250(&qword_2691D7B88);
  sub_246C2C978();
  if (v121) {
    double v81 = v96;
  }
  else {
    double v81 = 0.0;
  }
  uint64_t v82 = (uint64_t)v104;
  sub_246BB75D0(v79, (uint64_t)v104, &qword_2691D7AA8);
  uint64_t v83 = v82 + *(int *)(v118 + 36);
  *(double *)uint64_t v83 = v81;
  *(void *)(v83 + 8) = 0;
  sub_246B8EA34(v79, &qword_2691D7AA8);
  sub_246C2CA08();
  uint64_t v85 = v84;
  uint64_t v87 = v86;
  uint64_t v88 = (uint64_t)v102;
  sub_246BB75D0(v82, (uint64_t)v102, &qword_2691D7A98);
  uint64_t v89 = (double *)(v88 + *(int *)(v105 + 36));
  double v90 = v99;
  *uint64_t v89 = v99;
  v89[1] = v90;
  *((void *)v89 + 2) = v85;
  *((void *)v89 + 3) = v87;
  sub_246B8EA34(v82, &qword_2691D7A98);
  double v91 = (double)v95;
  uint64_t v92 = (uint64_t)v100;
  sub_246BB75D0(v88, (uint64_t)v100, &qword_2691D7A88);
  *(double *)(v92 + *(int *)(v101 + 36)) = v91;
  sub_246B8EA34(v88, &qword_2691D7A88);
  return sub_246B8ED74(v92, v119, &qword_2691D7A68);
}

uint64_t sub_246BCB7CC(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 24);
  swift_getKeyPath();
  sub_246BCC290(&qword_2691D6968, (void (*)(uint64_t))type metadata accessor for ParmesanStackViewModel);
  sub_246C2BFD8();
  uint64_t result = swift_release();
  if (*(void *)(*(void *)(v1 + 64) + 16))
  {
    sub_246B80250(&qword_2691D7B88);
    uint64_t result = sub_246C2C978();
    if ((v3 & 1) == 0)
    {
      MEMORY[0x270FA5388](result);
      sub_246C2C9E8();
      sub_246C2C4D8();
      return swift_release();
    }
  }
  return result;
}

uint64_t sub_246BCB908@<X0>(uint64_t a1@<X8>)
{
  return sub_246BCA380(a1);
}

size_t sub_246BCB94C(size_t result, char *a2, char *a3)
{
  uint64_t v5 = (char *)(a3 - a2);
  if (__OFSUB__(a3, a2))
  {
LABEL_57:
    __break(1u);
    goto LABEL_58;
  }
  uint64_t v6 = a3;
  uint64_t v7 = a2;
  size_t v8 = result;
  int64_t v9 = *(void *)(result + 16);
  if ((uint64_t)v5 >= v9) {
    uint64_t v10 = *(void *)(result + 16);
  }
  else {
    uint64_t v10 = a3 - a2;
  }
  size_t v55 = result;
  if (v10 > 0)
  {
    sub_246B80250(&qword_2691D7B98);
    uint64_t v11 = (void *)swift_allocObject();
    uint64_t result = j__malloc_size(v11);
    uint64_t v12 = (uint64_t)(result - 32) / 88;
    uint64_t v13 = (void *)(2 * v12);
    _OWORD v11[2] = v10;
    v11[3] = 2 * v12;
    if ((uint64_t)v6 < (uint64_t)v7)
    {
LABEL_59:
      __break(1u);
      goto LABEL_60;
    }
    int64_t v60 = (int64_t)v5;
    if (v7 == v6)
    {
LABEL_11:
      __break(1u);
    }
    else
    {
      uint64_t v4 = (v12 & 0x7FFFFFFFFFFFFFFFLL) - v10;
      size_t v14 = v55 + 48;
      uint64_t v15 = v10 - 1;
      uint64_t v3 = (uint64_t)(v11 + 15);
      uint64_t v16 = a2;
      while (1)
      {
        uint64_t v17 = *(void *)(v14 - 8);
        uint64_t v13 = *(void **)v14;
        uint64_t v6 = *(char **)(v14 + 40);
        uint64_t v7 = v16 + 1;
        *(void *)(v3 - 88) = *(void *)(v14 - 16);
        *(void *)(v3 - 80) = v17;
        *(void *)(v3 - 72) = v13;
        long long v18 = *(_OWORD *)(v14 + 24);
        *(_OWORD *)(v3 - 64) = *(_OWORD *)(v14 + 8);
        *(_OWORD *)(v3 - 48) = v18;
        *(void *)(v3 - 32) = v6;
        *(_OWORD *)(v3 - 24) = *(_OWORD *)(v14 + 48);
        *(void *)(v3 - 8) = v16;
        if (!v15) {
          break;
        }
        id v19 = v13;
        uint64_t v20 = v6;
        swift_bridgeObjectRetain();
        v14 += 80;
        --v15;
        v3 += 88;
        uint64_t v16 = v7;
        uint64_t v13 = a3;
        if (a3 == v7) {
          goto LABEL_11;
        }
      }
    }
    id v21 = v13;
    uint64_t v22 = v6;
    uint64_t result = swift_bridgeObjectRetain();
    size_t v8 = v55;
    if (v9 <= v60) {
      goto LABEL_48;
    }
    goto LABEL_17;
  }
  if (v10 < 0)
  {
LABEL_58:
    __break(1u);
    goto LABEL_59;
  }
  uint64_t v11 = (void *)MEMORY[0x263F8EE78];
  uint64_t v4 = *(void *)(MEMORY[0x263F8EE78] + 24) >> 1;
  if (v9)
  {
    uint64_t v3 = MEMORY[0x263F8EE78] + 32;
LABEL_17:
    uint64_t result = swift_bridgeObjectRetain();
    int64_t v23 = v9 - v10;
    if (v9 <= (unint64_t)v10)
    {
LABEL_60:
      __break(1u);
      goto LABEL_61;
    }
    size_t v24 = a3;
    if ((uint64_t)v7 > (uint64_t)a3) {
      size_t v24 = v7;
    }
    uint64_t v53 = v24;
    uint64_t v25 = 80 * v10;
    uint64_t v26 = v7;
    while (1)
    {
      if (a3 == v26)
      {
        uint64_t v34 = v11;
LABEL_47:
        uint64_t result = swift_bridgeObjectRelease();
        uint64_t v11 = v34;
        goto LABEL_48;
      }
      if ((uint64_t)a3 < (uint64_t)a2) {
        break;
      }
      if ((uint64_t)v7 < (uint64_t)a2) {
        goto LABEL_53;
      }
      if (v53 == v26) {
        goto LABEL_54;
      }
      size_t v27 = v8 + v25;
      uint64_t v28 = *(void *)(v8 + v25 + 32);
      uint64_t v29 = *(void *)(v8 + v25 + 40);
      uint64_t v30 = *(void **)(v27 + 48);
      id v31 = *(void **)(v27 + 88);
      long long v57 = *(_OWORD *)(v27 + 96);
      long long v58 = *(_OWORD *)(v27 + 72);
      long long v59 = *(_OWORD *)(v27 + 56);
      uint64_t v56 = v28;
      uint64_t v61 = v31;
      if (v4)
      {
        id v32 = v30;
        id v33 = v31;
        uint64_t result = swift_bridgeObjectRetain();
        uint64_t v34 = v11;
        BOOL v35 = __OFSUB__(v4--, 1);
        if (v35) {
          goto LABEL_55;
        }
      }
      else
      {
        unint64_t v36 = v11[3];
        if ((uint64_t)((v36 >> 1) + 0x4000000000000000) < 0) {
          goto LABEL_56;
        }
        int64_t v37 = v36 & 0xFFFFFFFFFFFFFFFELL;
        if (v37 <= 1) {
          uint64_t v38 = 1;
        }
        else {
          uint64_t v38 = v37;
        }
        sub_246B80250(&qword_2691D7B98);
        uint64_t v34 = (void *)swift_allocObject();
        uint64_t v39 = (uint64_t)(j__malloc_size(v34) - 32) / 88;
        v34[2] = v38;
        v34[3] = 2 * v39;
        uint64_t v40 = v34 + 4;
        uint64_t v41 = v11[3] >> 1;
        uint64_t v3 = (uint64_t)&v34[11 * v41 + 4];
        uint64_t v42 = (v39 & 0x7FFFFFFFFFFFFFFFLL) - v41;
        if (v11[2])
        {
          BOOL v43 = v34 < v11 || v40 >= &v11[11 * v41 + 4];
          if (!v43 && v34 == v11)
          {
            id v48 = v30;
            id v49 = v61;
            swift_bridgeObjectRetain();
          }
          else
          {
            memmove(v40, v11 + 4, 88 * v41);
            swift_bridgeObjectRetain();
            id v44 = v30;
            id v45 = v61;
          }
          _OWORD v11[2] = 0;
        }
        else
        {
          id v46 = v30;
          id v47 = v61;
          swift_bridgeObjectRetain();
        }
        uint64_t result = swift_release();
        BOOL v35 = __OFSUB__(v42, 1);
        uint64_t v4 = v42 - 1;
        if (v35) {
          goto LABEL_55;
        }
      }
      *(void *)uint64_t v3 = v56;
      *(void *)(v3 + 8) = v29;
      *(void *)(v3 + 16) = v30;
      *(_OWORD *)(v3 + 24) = v59;
      *(_OWORD *)(v3 + 40) = v58;
      *(void *)(v3 + 56) = v61;
      *(_OWORD *)(v3 + 64) = v57;
      *(void *)(v3 + 80) = v26;
      v3 += 88;
      v25 += 80;
      ++v26;
      uint64_t v11 = v34;
      --v23;
      size_t v8 = v55;
      if (!v23) {
        goto LABEL_47;
      }
    }
    __break(1u);
LABEL_53:
    __break(1u);
LABEL_54:
    __break(1u);
LABEL_55:
    __break(1u);
LABEL_56:
    __break(1u);
    goto LABEL_57;
  }
LABEL_48:
  unint64_t v50 = v11[3];
  if (v50 < 2) {
    return (size_t)v11;
  }
  unint64_t v51 = v50 >> 1;
  BOOL v35 = __OFSUB__(v51, v4);
  unint64_t v52 = v51 - v4;
  if (!v35)
  {
    _OWORD v11[2] = v52;
    return (size_t)v11;
  }
LABEL_61:
  __break(1u);
  return result;
}

uint64_t sub_246BCBD48()
{
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 96, 7);
}

uint64_t sub_246BCBD98@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  return sub_246BCAFAC(a1, a2, *(void *)(v3 + 16), (void *)(v3 + 24), *(double *)(v3 + 88), a3, *(double *)(v3 + 80));
}

uint64_t sub_246BCBDAC()
{
  swift_release();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246BCBDE4(uint64_t a1)
{
  uint64_t v2 = *(uint64_t (**)(_OWORD *, void))(v1 + 16);
  long long v3 = *(_OWORD *)(a1 + 48);
  uint64_t v6[2] = *(_OWORD *)(a1 + 32);
  v6[3] = v3;
  void v6[4] = *(_OWORD *)(a1 + 64);
  long long v4 = *(_OWORD *)(a1 + 16);
  v6[0] = *(_OWORD *)a1;
  v6[1] = v4;
  return v2(v6, *(void *)(a1 + 80));
}

uint64_t sub_246BCBE34(uint64_t a1)
{
  return a1;
}

unint64_t sub_246BCBE88()
{
  unint64_t result = qword_2691D7A78;
  if (!qword_2691D7A78)
  {
    sub_246B8BEB0(&qword_2691D7A68);
    sub_246BCBF84(&qword_2691D7A80, &qword_2691D7A88, (void (*)(void))sub_246BCBF54);
    sub_246B8EC94(&qword_2691D7B28, &qword_2691D7B30);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7A78);
  }
  return result;
}

uint64_t sub_246BCBF54()
{
  return sub_246BCBF84(&qword_2691D7A90, &qword_2691D7A98, (void (*)(void))sub_246BCC000);
}

uint64_t sub_246BCBF84(unint64_t *a1, uint64_t *a2, void (*a3)(void))
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_246B8BEB0(a2);
    a3();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_246BCC000()
{
  unint64_t result = qword_2691D7AA0;
  if (!qword_2691D7AA0)
  {
    sub_246B8BEB0(&qword_2691D7AA8);
    sub_246BCC0A0();
    sub_246B8EC94(&qword_2691D7B18, &qword_2691D7B20);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7AA0);
  }
  return result;
}

unint64_t sub_246BCC0A0()
{
  unint64_t result = qword_2691D7AB0;
  if (!qword_2691D7AB0)
  {
    sub_246B8BEB0(&qword_2691D7AB8);
    sub_246BCC140();
    sub_246B8EC94(&qword_2691D7B08, &qword_2691D7B10);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7AB0);
  }
  return result;
}

unint64_t sub_246BCC140()
{
  unint64_t result = qword_2691D7AC0;
  if (!qword_2691D7AC0)
  {
    sub_246B8BEB0(&qword_2691D7AC8);
    sub_246BCBF84(&qword_2691D7AD0, &qword_2691D7AD8, (void (*)(void))sub_246BCC20C);
    sub_246B8EC94(&qword_2691D7AF8, &qword_2691D7B00);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7AC0);
  }
  return result;
}

uint64_t sub_246BCC20C()
{
  return sub_246BCBF84(&qword_2691D7AE0, &qword_2691D7AE8, (void (*)(void))sub_246BCC23C);
}

unint64_t sub_246BCC23C()
{
  unint64_t result = qword_2691D7AF0;
  if (!qword_2691D7AF0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7AF0);
  }
  return result;
}

uint64_t sub_246BCC290(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246BCC2D8()
{
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 72, 7);
}

uint64_t sub_246BCC328()
{
  return sub_246BCB7CC(v0 + 16);
}

unint64_t sub_246BCC330()
{
  unint64_t result = qword_2691D7B58;
  if (!qword_2691D7B58)
  {
    sub_246B8BEB0(&qword_2691D7A40);
    sub_246BCC3D0();
    sub_246B8EC94(&qword_2691D7B70, &qword_2691D7B48);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7B58);
  }
  return result;
}

unint64_t sub_246BCC3D0()
{
  unint64_t result = qword_2691D7B60;
  if (!qword_2691D7B60)
  {
    sub_246B8BEB0(&qword_2691D7A38);
    sub_246B8EC94(&qword_2691D7B68, &qword_2691D7A30);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7B60);
  }
  return result;
}

unint64_t sub_246BCC470()
{
  unint64_t result = qword_2691D7B78;
  if (!qword_2691D7B78)
  {
    sub_246B8BEB0(&qword_2691D7B50);
    sub_246BCC4E4();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7B78);
  }
  return result;
}

unint64_t sub_246BCC4E4()
{
  unint64_t result = qword_2691D7B80;
  if (!qword_2691D7B80)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7B80);
  }
  return result;
}

uint64_t sub_246BCC538()
{
  return sub_246C2C988();
}

uint64_t sub_246BCC594(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 56);
  id v3 = *(id *)(a1 + 16);
  id v4 = v2;
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t sub_246BCC5D8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246C2C4F8();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BCC63C(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 96);
  id v3 = *(id *)(a1 + 56);
  id v4 = v2;
  swift_retain();
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t sub_246BCC68C(uint64_t a1)
{
  uint64_t v2 = sub_246C2C4F8();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_246BCC6E8(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 56);
  id v3 = *(void **)(a1 + 96);
  swift_release();

  swift_bridgeObjectRelease();
  return a1;
}

void destroy for ParmesanPreviewView(uint64_t a1)
{
  swift_bridgeObjectRelease();

  uint64_t v2 = *(void **)(a1 + 96);
}

uint64_t initializeWithCopy for ParmesanPreviewView(uint64_t a1, uint64_t a2)
{
  long long v3 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v3;
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  id v4 = *(void **)(a2 + 56);
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(void *)(a1 + 56) = v4;
  long long v5 = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 80) = v5;
  uint64_t v6 = *(void **)(a2 + 96);
  *(void *)(a1 + 96) = v6;
  *(_OWORD *)(a1 + 104) = *(_OWORD *)(a2 + 104);
  swift_bridgeObjectRetain();
  id v7 = v4;
  id v8 = v6;
  return a1;
}

void *assignWithCopy for ParmesanPreviewView(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  a1[4] = a2[4];
  a1[5] = a2[5];
  a1[6] = a2[6];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  id v4 = (void *)a1[7];
  long long v5 = (void *)a2[7];
  a1[7] = v5;
  id v6 = v5;

  a1[8] = a2[8];
  a1[9] = a2[9];
  a1[10] = a2[10];
  a1[11] = a2[11];
  id v7 = (void *)a2[12];
  id v8 = (void *)a1[12];
  a1[12] = v7;
  id v9 = v7;

  a1[13] = a2[13];
  a1[14] = a2[14];
  return a1;
}

__n128 initializeWithTake for ParmesanPreviewView(uint64_t a1, long long *a2)
{
  long long v2 = *a2;
  long long v3 = a2[1];
  long long v4 = a2[3];
  *(_OWORD *)(a1 + 32) = a2[2];
  *(_OWORD *)(a1 + 48) = v4;
  *(_OWORD *)a1 = v2;
  *(_OWORD *)(a1 + 16) = v3;
  __n128 result = (__n128)a2[4];
  long long v6 = a2[5];
  long long v7 = a2[6];
  *(void *)(a1 + 112) = *((void *)a2 + 14);
  *(_OWORD *)(a1 + 80) = v6;
  *(_OWORD *)(a1 + 96) = v7;
  *(__n128 *)(a1 + 64) = result;
  return result;
}

uint64_t assignWithTake for ParmesanPreviewView(uint64_t a1, uint64_t a2)
{
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  swift_bridgeObjectRelease();
  long long v5 = *(void **)(a1 + 56);
  *(_OWORD *)(a1 + 48) = *(_OWORD *)(a2 + 48);

  long long v6 = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 80) = v6;
  long long v7 = *(void **)(a1 + 96);
  *(void *)(a1 + 96) = *(void *)(a2 + 96);

  *(_OWORD *)(a1 + 104) = *(_OWORD *)(a2 + 104);
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanPreviewView(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 120)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 48);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanPreviewView(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 120) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 48) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 120) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanPreviewView()
{
  return &type metadata for ParmesanPreviewView;
}

unint64_t sub_246BCCA0C()
{
  unint64_t result = qword_2691D7BA0;
  if (!qword_2691D7BA0)
  {
    sub_246B8BEB0(&qword_2691D7B90);
    sub_246BCCAAC();
    sub_246B8EC94(&qword_2691D7BC0, &qword_2691D7BC8);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7BA0);
  }
  return result;
}

unint64_t sub_246BCCAAC()
{
  unint64_t result = qword_2691D7BA8;
  if (!qword_2691D7BA8)
  {
    sub_246B8BEB0(&qword_2691D7A50);
    sub_246B8BEB0(&qword_2691D7A40);
    sub_246B8BEB0(&qword_2691D7B50);
    sub_246BCC330();
    sub_246BCC470();
    swift_getOpaqueTypeConformance2();
    sub_246B8EC94(&qword_2691D7BB0, &qword_2691D7BB8);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7BA8);
  }
  return result;
}

uint64_t sub_246BCCBA8()
{
  return MEMORY[0x263F1BB58];
}

unint64_t sub_246BCCBB4()
{
  unint64_t result = qword_2691D7BD0;
  if (!qword_2691D7BD0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7BD0);
  }
  return result;
}

uint64_t sub_246BCCC08(uint64_t a1)
{
  unint64_t v2 = *(void **)(a1 + 96);
  id v3 = *(id *)(a1 + 56);
  id v4 = v2;
  swift_bridgeObjectRetain();
  return a1;
}

uint64_t sub_246BCCC4C(uint64_t a1)
{
  unint64_t v2 = *(void **)(a1 + 56);

  swift_bridgeObjectRelease();
  return a1;
}

id sub_246BCCC94()
{
  id result = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanAnalyticsReporter()), sel_init);
  qword_2691E01C8 = (uint64_t)result;
  return result;
}

id sub_246BCCD6C(uint64_t a1, void (*a2)(void))
{
  id v4 = objc_msgSend(v2, sel_selectedOptionForCustomEditMode_slot_, a1, 0);
  if (!v4) {
    return 0;
  }
  long long v5 = v4;
  a2(0);
  long long v6 = (void *)swift_dynamicCastClass();
  if (!v6)
  {

    return 0;
  }
  id v7 = objc_msgSend(v6, sel__value);

  if (v7 != (id)2 && v7 != (id)1) {
    return 0;
  }
  return v7;
}

id sub_246BCCEC0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanAnalyticsReporter();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanAnalyticsReporter()
{
  return self;
}

void sub_246BCCF1C(void *a1)
{
  id v2 = objc_msgSend(self, sel_sharedApplication);
  unsigned __int8 v3 = objc_msgSend(v2, sel_isRunningTest);

  if ((v3 & 1) == 0)
  {
    sub_246BCCD6C(12, (void (*)(void))type metadata accessor for ParmesanContentEditOption);
    if ((v4 & 1) == 0)
    {
      id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 15, 0);
      if (v10)
      {
        type metadata accessor for ParmesanStyleEditOption();
        if (swift_dynamicCastClass())
        {
          sub_246BF63A0();

          sub_246BCCD6C(13, (void (*)(void))type metadata accessor for ParmesanTypefaceEditOption);
          if (v5) {
            return;
          }
          id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 19, 0);
          if (!v10) {
            return;
          }
          type metadata accessor for ParmesanNumeralsEditOption();
          long long v6 = (void *)swift_dynamicCastClass();
          if (v6)
          {
            objc_msgSend(v6, sel_numeralOption);

            id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 14, 0);
            if (!v10) {
              return;
            }
            type metadata accessor for ParmesanTimeEditOption();
            if (swift_dynamicCastClass())
            {
              sub_246BE8B50();

              id v7 = (void *)sub_246C2CC08();
              sub_246B80250(&qword_2691D7BE0);
              uint64_t inited = swift_initStackObject();
              *(_OWORD *)(inited + 16) = xmmword_246C35AA0;
              *(void *)(inited + 32) = 0x7079546F746F6850;
              *(void *)(inited + 40) = 0xE900000000000065;
              *(void *)(inited + 48) = sub_246C2D1B8();
              *(void *)(inited + 56) = 0x656C797453;
              *(void *)(inited + 64) = 0xE500000000000000;
              *(void *)(inited + 72) = sub_246C2D1B8();
              *(void *)(inited + 80) = 0x746E6F46656D6954;
              *(void *)(inited + 88) = 0xE800000000000000;
              *(void *)(inited + 96) = sub_246C2D1B8();
              *(void *)(inited + 104) = 0x69726353656D6954;
              *(void *)(inited + 112) = 0xEA00000000007470;
              *(void *)(inited + 120) = sub_246C2D1B8();
              *(void *)(inited + 128) = 0x657A6953656D6954;
              *(void *)(inited + 136) = 0xE800000000000000;
              *(void *)(inited + 144) = sub_246C2D1B8();
              sub_246C1112C(inited);
              sub_246B8F1E0(0, (unint64_t *)&qword_2691D6B30);
              id v9 = (void *)sub_246C2CBA8();
              swift_bridgeObjectRelease();
              AnalyticsSendEvent();

              return;
            }
          }
        }
      }
    }
  }
}

void sub_246BCD268(void *a1)
{
  id v2 = objc_msgSend(self, sel_sharedApplication);
  unsigned __int8 v3 = objc_msgSend(v2, sel_isRunningTest);

  if ((v3 & 1) == 0)
  {
    sub_246BCCD6C(12, (void (*)(void))type metadata accessor for ParmesanContentEditOption);
    if ((v4 & 1) == 0)
    {
      id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 15, 0);
      if (v10)
      {
        type metadata accessor for ParmesanStyleEditOption();
        if (swift_dynamicCastClass())
        {
          sub_246BF63A0();

          sub_246BCCD6C(13, (void (*)(void))type metadata accessor for ParmesanTypefaceEditOption);
          if (v5) {
            return;
          }
          id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 19, 0);
          if (!v10) {
            return;
          }
          type metadata accessor for ParmesanNumeralsEditOption();
          long long v6 = (void *)swift_dynamicCastClass();
          if (v6)
          {
            objc_msgSend(v6, sel_numeralOption);

            id v10 = objc_msgSend(a1, sel_selectedOptionForCustomEditMode_slot_, 14, 0);
            if (!v10) {
              return;
            }
            type metadata accessor for ParmesanTimeEditOption();
            if (swift_dynamicCastClass())
            {
              sub_246BE8B50();

              id v7 = (void *)sub_246C2CC08();
              sub_246B80250(&qword_2691D7BE0);
              uint64_t inited = swift_initStackObject();
              *(_OWORD *)(inited + 16) = xmmword_246C35AB0;
              *(void *)(inited + 32) = 0xD000000000000011;
              *(void *)(inited + 40) = 0x8000000246C3E0F0;
              sub_246B8F1E0(0, (unint64_t *)&qword_2691D7120);
              *(void *)(inited + 48) = sub_246C2D0D8();
              *(void *)(inited + 56) = 0x7079546F746F6870;
              *(void *)(inited + 64) = 0xE900000000000065;
              *(void *)(inited + 72) = sub_246C2D1B8();
              *(void *)(inited + 80) = 0x656C797453;
              *(void *)(inited + 88) = 0xE500000000000000;
              *(void *)(inited + 96) = sub_246C2D1B8();
              *(void *)(inited + 104) = 0x746E6F46656D6954;
              *(void *)(inited + 112) = 0xE800000000000000;
              *(void *)(inited + 120) = sub_246C2D1B8();
              *(void *)(inited + 128) = 0x69726353656D6954;
              *(void *)(inited + 136) = 0xEA00000000007470;
              *(void *)(inited + 144) = sub_246C2D1B8();
              *(void *)(inited + 152) = 0x657A6953656D6954;
              *(void *)(inited + 160) = 0xE800000000000000;
              *(void *)(inited + 168) = sub_246C2D1B8();
              sub_246C1112C(inited);
              sub_246B8F1E0(0, (unint64_t *)&qword_2691D6B30);
              id v9 = (void *)sub_246C2CBA8();
              swift_bridgeObjectRelease();
              AnalyticsSendEvent();

              return;
            }
          }
        }
      }
    }
  }
}

uint64_t sub_246BCD658()
{
  return 0;
}

uint64_t sub_246BCD660()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutCompositeImage;
  id v2 = *(void **)((char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutCompositeImage);
  id v3 = v2;
  if (v2) {
    goto LABEL_20;
  }
  if ((*((unsigned char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutComposite) & 1) != 0
    || (*((unsigned char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutComposite) = 1,
        char v4 = (void *)MEMORY[0x263F8EED0],
        (uint64_t v5 = (*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v0) + 0x98))()) == 0))
  {
    id v3 = 0;
LABEL_20:
    id v20 = v2;
    return (uint64_t)v3;
  }
  long long v6 = (void *)v5;
  uint64_t v7 = (*(uint64_t (**)(void))((*v4 & *v0) + 0xA8))();
  if (!v7)
  {
    id v3 = 0;
    uint64_t v17 = v6;
LABEL_19:

    goto LABEL_20;
  }
  id v8 = (char *)v7;
  id v9 = (void *)(*(uint64_t (**)(void))((*v4 & *v0) + 0xB0))();
  if (!v9)
  {
    id v3 = 0;
    id v10 = v6;
    uint64_t v17 = v8;
LABEL_18:

    goto LABEL_19;
  }
  id v10 = v9;
  uint64_t v11 = *(void *)&v8[OBJC_IVAR___NTKParmesanAssetMask_style];
  if (!v11)
  {
    uint64_t v12 = (CGImage *)objc_msgSend(v6, sel_CGImage);
    if (v12)
    {
      uint64_t v13 = v12;
      size_t v14 = (CGImage *)objc_msgSend(v10, sel_CGImage);
      if (v14)
      {
        uint64_t v15 = v14;
        objc_msgSend(v6, sel_imageOrientation);
        uint64_t v16 = NTKUIImageOrientationToCGImagePropertyOrientation();
        objc_msgSend(v10, sel_imageOrientation);
        NTKUIImageOrientationToCGImagePropertyOrientation();
        id v3 = sub_246B6F318(v13, v16, v15);

LABEL_17:
        uint64_t v17 = *(void **)((char *)v0 + v1);
        *(void *)((char *)v0 + v1) = v3;
        id v19 = v3;

        goto LABEL_18;
      }
    }
    id v3 = 0;
    goto LABEL_17;
  }
  if (v11 == 1)
  {
    id v18 = v9;
    id v3 = v10;
    goto LABEL_17;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

id sub_246BCD8A0()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutAlphaImage;
  id v2 = *(void **)((char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutAlphaImage);
  id v3 = v2;
  if (!v2)
  {
    if ((*((unsigned char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutAlpha) & 1) == 0)
    {
      *((unsigned char *)v0 + OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutAlpha) = 1;
      char v4 = (void *)MEMORY[0x263F8EED0];
      uint64_t v5 = (*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v0) + 0xA8))();
      if (v5)
      {
        long long v6 = (char *)v5;
        uint64_t v7 = (void *)(*(uint64_t (**)(void))((*v4 & *v0) + 0xB0))();
        if (!v7)
        {
          id v3 = 0;
          id v9 = v6;
          goto LABEL_10;
        }
        id v8 = v7;
        if (!*(void *)&v6[OBJC_IVAR___NTKParmesanAssetMask_style])
        {
          id v13 = v7;
          size_t v14 = (CGImage *)objc_msgSend(v13, sel_CGImage);
          if (v14)
          {
            uint64_t v15 = v14;
            uint64_t v16 = CGImageGetDataProvider(v14);
            if (v16)
            {
              uint64_t v17 = v16;
              size_t Width = CGImageGetWidth(v15);
              size_t Height = CGImageGetHeight(v15);
              size_t BitsPerComponent = CGImageGetBitsPerComponent(v15);
              size_t BitsPerPixel = CGImageGetBitsPerPixel(v15);
              size_t BytesPerRow = CGImageGetBytesPerRow(v15);
              CGImageRef v21 = CGImageMaskCreate(Width, Height, BitsPerComponent, BitsPerPixel, BytesPerRow, v17, 0, 0);

              if (v21)
              {
                objc_msgSend(v13, sel_scale);
                double v23 = v22;
                id v24 = objc_msgSend(v13, sel_imageOrientation);
                id v3 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F827E8]), sel_initWithCGImage_scale_orientation_, v21, v24, v23);

                goto LABEL_7;
              }
            }
            else
            {
            }
          }
          else
          {
          }
        }
        id v3 = 0;
LABEL_7:
        id v9 = *(void **)((char *)v0 + v1);
        *(void *)((char *)v0 + v1) = v3;
        id v10 = v3;

LABEL_10:
        goto LABEL_11;
      }
    }
    id v3 = 0;
  }
LABEL_11:
  id v11 = v2;
  return v3;
}

uint64_t sub_246BCDAE4()
{
  type metadata accessor for ParmesanGalleryContentConfiguration();
  uint64_t v1 = swift_allocObject();
  *(void *)(v1 + 16) = v0;
  *(_WORD *)(v1 + 24) = 257;
  id v2 = v0;
  return v1;
}

id sub_246BCDB2C()
{
  uint64_t v0 = (void *)NTKDefaultMonochromeColorMatrix();

  return v0;
}

double sub_246BCDB58()
{
  return 1.0;
}

BOOL sub_246BCDCEC(uint64_t a1)
{
  sub_246BB367C(a1, (uint64_t)v9);
  if (v10)
  {
    type metadata accessor for ParmesanGalleryComposition();
    if (swift_dynamicCast())
    {
      BOOL v2 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier) == *(void *)&v8[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier]
        && *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8) == *(void *)&v8[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8];
      if (v2 || (sub_246C2D578() & 1) != 0)
      {
        uint64_t v3 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
        uint64_t v4 = *(void *)&v8[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
        if (*(void *)(v3 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) == *(void *)(v4
                                                                                        + OBJC_IVAR___NTKParmesanTimeLayout_alignment))
        {
          uint64_t v5 = *(void *)(v3 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
          uint64_t v6 = *(void *)(v4 + OBJC_IVAR___NTKParmesanTimeLayout_scale);

          return v5 == v6;
        }
      }
    }
  }
  else
  {
    sub_246BAD92C((uint64_t)v9);
  }
  return 0;
}

id sub_246BCDE90()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryComposition();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryComposition()
{
  return self;
}

uint64_t type metadata accessor for ParmesanFacePreviewDataSource()
{
  uint64_t result = qword_2691D7C18;
  if (!qword_2691D7C18) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246BCDFA8()
{
  return swift_initClassMetadata2();
}

uint64_t sub_246BCDFE8()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BCE02C()
{
  return sub_246C2D678();
}

uint64_t sub_246BCE054()
{
  return sub_246C2D6B8();
}

void *sub_246BCE094@<X0>(void *result@<X0>, BOOL *a2@<X8>)
{
  *a2 = *result != 0;
  return result;
}

uint64_t sub_246BCE0A8()
{
  uint64_t v0 = sub_246C2BCD8();
  uint64_t v1 = *(void *)(v0 - 8);
  MEMORY[0x270FA5388](v0);
  uint64_t v3 = (char *)&v5 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2BC88();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return 1;
}

uint64_t sub_246BCE174()
{
  return sub_246BCE4E4();
}

uint64_t sub_246BCE180(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = sub_246C2BCD8();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  id v9 = (char *)&v16 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v7);
  id v11 = (char *)&v16 - v10;
  sub_246C2BC88();
  sub_246C2BC88();
  id v12 = a3;
  id v13 = a1;
  sub_246BCE4E4();

  size_t v14 = *(void (**)(char *, uint64_t))(v6 + 8);
  v14(v9, v5);
  return ((uint64_t (*)(char *, uint64_t))v14)(v11, v5);
}

id sub_246BCE2C8()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanFacePreviewDataSource();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246BCE300()
{
  id v0 = objc_allocWithZone((Class)type metadata accessor for ParmesanFacePreviewDataSource());
  return sub_246C2C318();
}

uint64_t sub_246BCE354()
{
  return type metadata accessor for ParmesanFacePreviewDataSource();
}

uint64_t getEnumTagSinglePayload for ParmesanFacePreviewSection(unsigned int *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if ((a2 + 1) >= 0x10000) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 1) < 0x100) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4) {
    return *a1;
  }
  if (v3 == 2) {
    return *(unsigned __int16 *)a1;
  }
  return *(unsigned __int8 *)a1;
}

unsigned char *storeEnumTagSinglePayload for ParmesanFacePreviewSection(unsigned char *result, int a2, int a3)
{
  if ((a3 + 1) >= 0x10000) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) < 0x100) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2)
  {
    switch(v5)
    {
      case 1:
        *uint64_t result = a2;
        return result;
      case 2:
        *(_WORD *)uint64_t result = a2;
        return result;
      case 3:
        goto LABEL_19;
      case 4:
        *(_DWORD *)uint64_t result = a2;
        return result;
      default:
        return result;
    }
  }
  switch(v5)
  {
    case 1:
      *uint64_t result = 0;
      break;
    case 2:
      *(_WORD *)uint64_t result = 0;
      break;
    case 3:
LABEL_19:
      __break(1u);
      JUMPOUT(0x246BCE44CLL);
    case 4:
      *(_DWORD *)uint64_t result = 0;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_246BCE474()
{
  return 0;
}

ValueMetadata *type metadata accessor for ParmesanFacePreviewSection()
{
  return &type metadata for ParmesanFacePreviewSection;
}

unint64_t sub_246BCE490()
{
  unint64_t result = qword_2691D7C28;
  if (!qword_2691D7C28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C28);
  }
  return result;
}

uint64_t sub_246BCE4E4()
{
  uint64_t v0 = sub_246B80250((uint64_t *)&unk_2691D6E20);
  uint64_t v1 = *(void *)(v0 - 8);
  MEMORY[0x270FA5388](v0);
  int v3 = (char *)&v14 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t result = sub_246C2C348();
  uint64_t v5 = v19;
  if (v19)
  {
    uint64_t v6 = v18;
    sub_246C2BCD8();
    sub_246BCE790();
    if (sub_246C2CBF8())
    {
      return swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v17 = v1;
      sub_246C2C3B8();
      sub_246B80250(&qword_2691D7010);
      uint64_t v7 = swift_allocObject();
      long long v16 = xmmword_246C33620;
      *(_OWORD *)(v7 + 16) = xmmword_246C33620;
      *(void *)(v7 + 32) = v6;
      *(void *)(v7 + 40) = v5;
      swift_bridgeObjectRetain();
      sub_246C2C288();
      swift_bridgeObjectRelease();
      sub_246C2C348();
      uint64_t v8 = v19;
      if (v19)
      {
        uint64_t v15 = v18;
        uint64_t v9 = sub_246C2BC98();
        uint64_t v10 = sub_246C2BC98();
        uint64_t v11 = swift_allocObject();
        *(_OWORD *)(v11 + 16) = v16;
        *(void *)(v11 + 32) = v6;
        *(void *)(v11 + 40) = v5;
        uint64_t v18 = v15;
        uint64_t v19 = v8;
        if (v10 >= v9) {
          sub_246C2C298();
        }
        else {
          sub_246C2C2A8();
        }
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v12 = swift_allocObject();
        *(_OWORD *)(v12 + 16) = v16;
        *(void *)(v12 + 32) = v6;
        *(void *)(v12 + 40) = v5;
        LOBYTE(v18) = sub_246C2BCC8() != 0;
        sub_246C2C278();
      }
      swift_bridgeObjectRelease();
      uint64_t v13 = v17;
      sub_246C2C398();
      return (*(uint64_t (**)(char *, uint64_t))(v13 + 8))(v3, v0);
    }
  }
  return result;
}

unint64_t sub_246BCE790()
{
  unint64_t result = qword_2691D7C30;
  if (!qword_2691D7C30)
  {
    sub_246C2BCD8();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C30);
  }
  return result;
}

id sub_246BCE810(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = (objc_class *)type metadata accessor for ParmesanPoint();
  uint64_t v10 = (char *)objc_allocWithZone(v9);
  *(double *)&v10[OBJC_IVAR___NTKParmesanPoint_x] = a1;
  *(double *)&v10[OBJC_IVAR___NTKParmesanPoint_y] = a2;
  v17.receiver = v10;
  v17.uint64_t super_class = v9;
  uint64_t v11 = v4;
  *(void *)&v11[OBJC_IVAR___NTKParmesanCrop_origin] = objc_msgSendSuper2(&v17, sel_init);
  uint64_t v12 = (objc_class *)type metadata accessor for ParmesanSize();
  uint64_t v13 = (char *)objc_allocWithZone(v12);
  *(double *)&v13[OBJC_IVAR___NTKParmesanSize_width] = a3;
  *(double *)&v13[OBJC_IVAR___NTKParmesanSize_height] = a4;
  v16.receiver = v13;
  v16.uint64_t super_class = v12;
  *(void *)&v11[OBJC_IVAR___NTKParmesanCrop_size] = objc_msgSendSuper2(&v16, sel_init);

  v15.receiver = v11;
  v15.uint64_t super_class = (Class)type metadata accessor for ParmesanCrop();
  return objc_msgSendSuper2(&v15, sel_init);
}

uint64_t sub_246BCEA48()
{
  if (*v0) {
    return 1702521203;
  }
  else {
    return 0x6E696769726FLL;
  }
}

uint64_t sub_246BCEA78@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_246BCF3C8(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_246BCEAA0(uint64_t a1)
{
  unint64_t v2 = sub_246BCF120();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BCEADC(uint64_t a1)
{
  unint64_t v2 = sub_246BCF120();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BCEB18()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanCrop();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanCrop()
{
  return self;
}

uint64_t sub_246BCEBBC(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D7C68);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v10 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BCF120();
  sub_246C2D708();
  uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanCrop_origin);
  HIBYTE(v10) = 0;
  type metadata accessor for ParmesanPoint();
  sub_246BCF174(&qword_2691D7C70, (void (*)(uint64_t))type metadata accessor for ParmesanPoint);
  sub_246C2D508();
  if (!v2)
  {
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanCrop_size);
    HIBYTE(v10) = 1;
    type metadata accessor for ParmesanSize();
    sub_246BCF174(&qword_2691D7C78, (void (*)(uint64_t))type metadata accessor for ParmesanSize);
    sub_246C2D508();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

id sub_246BCEDCC(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7C48);
  uint64_t v15 = *(void *)(v4 - 8);
  uint64_t v16 = v4;
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v14 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246B8F7E8(a1, a1[3]);
  sub_246BCF120();
  uint64_t v8 = v1;
  id v9 = v7;
  sub_246C2D6E8();
  if (v2)
  {
    sub_246B8EB94((uint64_t)a1);

    type metadata accessor for ParmesanCrop();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v10 = v15;
    type metadata accessor for ParmesanPoint();
    char v18 = 0;
    sub_246BCF174(&qword_2691D7C58, (void (*)(uint64_t))type metadata accessor for ParmesanPoint);
    uint64_t v11 = v16;
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanCrop_origin] = v19;
    type metadata accessor for ParmesanSize();
    char v18 = 1;
    sub_246BCF174(&qword_2691D7C60, (void (*)(uint64_t))type metadata accessor for ParmesanSize);
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanCrop_size] = v19;

    uint64_t v13 = (objc_class *)type metadata accessor for ParmesanCrop();
    v17.receiver = v8;
    v17.uint64_t super_class = v13;
    id v9 = objc_msgSendSuper2(&v17, sel_init);
    (*(void (**)(char *, uint64_t))(v10 + 8))(v6, v11);
    sub_246B8EB94((uint64_t)a1);
  }
  return v9;
}

id sub_246BCF0A8@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanCrop());
  id result = sub_246BCEDCC(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BCF0FC(void *a1)
{
  return sub_246BCEBBC(a1);
}

unint64_t sub_246BCF120()
{
  unint64_t result = qword_2691D7C50;
  if (!qword_2691D7C50)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C50);
  }
  return result;
}

uint64_t sub_246BCF174(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanCrop.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *uint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BCF288);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanCrop.CodingKeys()
{
  return &type metadata for ParmesanCrop.CodingKeys;
}

unint64_t sub_246BCF2C4()
{
  unint64_t result = qword_2691D7C80;
  if (!qword_2691D7C80)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C80);
  }
  return result;
}

unint64_t sub_246BCF31C()
{
  unint64_t result = qword_2691D7C88;
  if (!qword_2691D7C88)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C88);
  }
  return result;
}

unint64_t sub_246BCF374()
{
  unint64_t result = qword_2691D7C90;
  if (!qword_2691D7C90)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7C90);
  }
  return result;
}

uint64_t sub_246BCF3C8(uint64_t a1, uint64_t a2)
{
  BOOL v2 = a1 == 0x6E696769726FLL && a2 == 0xE600000000000000;
  if (v2 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 1702521203 && a2 == 0xE400000000000000)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    char v6 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if (v6) {
      return 1;
    }
    else {
      return 2;
    }
  }
}

id sub_246BCF4A4(void *a1, uint64_t a2, char a3, uint64_t a4, char a5)
{
  if (a1) {
    id v11 = a1;
  }
  else {
    id v11 = *(id *)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  }
  if (a3) {
    a2 = *(void *)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface);
  }
  uint64_t v12 = *(void **)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device);
  if (a5) {
    a4 = *(void *)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals);
  }
  uint64_t v13 = (objc_class *)type metadata accessor for ParmesanTimeAppearance();
  uint64_t v14 = (char *)objc_allocWithZone(v13);
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout] = v11;
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device] = v12;
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface] = a2;
  *(void *)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals] = a4;
  v18.receiver = v14;
  v18.uint64_t super_class = v13;
  id v15 = a1;
  id v16 = v12;
  return objc_msgSendSuper2(&v18, sel_init);
}

uint64_t sub_246BCF6B0()
{
  sub_246C2D6C8();
  objc_msgSend(*(id *)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout), sel_hash);
  sub_246C2D678();
  sub_246C2D678();
  sub_246C2D678();
  return sub_246C2D6A8();
}

id sub_246BCF780()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeAppearance();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanTimeAppearance()
{
  return self;
}

BOOL sub_246BCF824(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  uint64_t v3 = *(void *)(a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  return *(void *)(v2 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) == *(void *)(v3
                                                                                    + OBJC_IVAR___NTKParmesanTimeLayout_alignment)
      && *(void *)(v2 + OBJC_IVAR___NTKParmesanTimeLayout_scale) == *(void *)(v3
                                                                                + OBJC_IVAR___NTKParmesanTimeLayout_scale)
      && *(void *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface) == *(void *)(a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface)
      && *(void *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals) == *(void *)(a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals);
}

uint64_t type metadata accessor for ParmesanTimeSelectionCollectionViewLayout()
{
  return self;
}

id sub_246BCF8CC(double a1, double a2)
{
  id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82548]), sel_init);
  objc_msgSend(v4, sel_setScrollDirection_, 1);
  uint64_t v5 = self;
  id v6 = objc_msgSend(v5, sel_fractionalWidthDimension_, 1.0);
  id v7 = objc_msgSend(v5, sel_fractionalHeightDimension_, 1.0);
  uint64_t v8 = self;
  id v9 = objc_msgSend(v8, sel_sizeWithWidthDimension_heightDimension_, v6, v7);

  id v10 = objc_msgSend(self, sel_itemWithLayoutSize_, v9);
  id v11 = objc_msgSend(v5, sel_absoluteDimension_, a1);
  id v12 = objc_msgSend(v5, sel_absoluteDimension_, a2);
  id v13 = objc_msgSend(v8, sel_sizeWithWidthDimension_heightDimension_, v11, v12);

  uint64_t v14 = self;
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v15 = swift_allocObject();
  *(_OWORD *)(v15 + 16) = xmmword_246C33610;
  *(void *)(v15 + 32) = v10;
  sub_246C2CD58();
  sub_246BCFB68();
  id v16 = v10;
  objc_super v17 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v18 = objc_msgSend(v14, sel_horizontalGroupWithLayoutSize_subitems_, v13, v17);

  id v19 = objc_msgSend(self, sel_sectionWithGroup_, v18);
  objc_msgSend(v19, sel_setInterGroupSpacing_, 22.0);
  id v20 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82540]), sel_initWithSection_configuration_, v19, v4);

  return v20;
}

unint64_t sub_246BCFB68()
{
  unint64_t result = qword_2691D6A98;
  if (!qword_2691D6A98)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6A98);
  }
  return result;
}

char *sub_246BCFBA8(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = sub_246C2D178();
  uint64_t v10 = *(void *)(v9 - 8);
  MEMORY[0x270FA5388](v9);
  uint64_t v11 = sub_246C2D148();
  uint64_t v12 = *(void *)(v11 - 8);
  MEMORY[0x270FA5388](v11);
  uint64_t v14 = (char *)v44 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_246B80250(&qword_2691D7D00);
  MEMORY[0x270FA5388](v15 - 8);
  objc_super v17 = (char *)v44 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v18 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryAction];
  *(void *)id v18 = 0;
  *((void *)v18 + 1) = 0;
  id v19 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryAction];
  *(void *)id v19 = 0;
  *((void *)v19 + 1) = 0;
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_buttonSpacing] = 0x4020000000000000;
  id v20 = &v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_configuration];
  *(_OWORD *)id v20 = 0u;
  *((_OWORD *)v20 + 1) = 0u;
  *((_OWORD *)v20 + 2) = 0u;
  *((_OWORD *)v20 + 3) = 0u;
  CGImageRef v21 = self;
  double v22 = v4;
  id v23 = objc_msgSend(v21, sel_boldButton);
  *(void *)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton] = v23;
  id v24 = v23;
  sub_246C2D168();
  (*(void (**)(char *, void, uint64_t))(v12 + 104))(v14, *MEMORY[0x263F821F0], v11);
  sub_246C2D138();
  (*(void (**)(char *, void, uint64_t, uint64_t))(v10 + 56))(v17, 0, 1, v9);
  sub_246C2D198();

  sub_246B8F1E0(0, &qword_2691D7D08);
  sub_246C2D158();
  *(void *)&v22[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryButton] = sub_246C2D188();

  uint64_t v25 = (objc_class *)type metadata accessor for ParmesanButtonTrayContentView();
  v45.receiver = v22;
  v45.uint64_t super_class = v25;
  uint64_t v26 = (char *)objc_msgSendSuper2(&v45, sel_initWithFrame_, a1, a2, a3, a4);
  uint64_t v27 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton;
  uint64_t v28 = *(void **)&v26[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton];
  uint64_t v29 = v26;
  objc_msgSend(v28, sel_addTarget_action_forControlEvents_, v29, sel_handlePrimaryButtonTapped_, 64);
  uint64_t v30 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryButton;
  objc_msgSend(*(id *)&v29[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryButton], sel_addTarget_action_forControlEvents_, v29, sel_handleSecondaryButtonTapped_, 64);
  id v31 = objc_msgSend(*(id *)&v26[v27], sel_titleLabel);
  if (v31)
  {
    id v32 = v31;
    objc_msgSend(v31, sel_setTextAlignment_, 1);
  }
  id v33 = objc_msgSend(*(id *)&v29[v30], sel_titleLabel);
  if (v33)
  {
    uint64_t v34 = v33;
    objc_msgSend(v33, sel_setTextAlignment_, 1);
  }
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v35 = swift_allocObject();
  *(_OWORD *)(v35 + 16) = xmmword_246C33940;
  unint64_t v36 = *(void **)&v26[v27];
  *(void *)(v35 + 32) = v36;
  int64_t v37 = *(void **)&v29[v30];
  *(void *)(v35 + 40) = v37;
  v44[1] = v35;
  sub_246C2CD58();
  id v38 = objc_allocWithZone(MEMORY[0x263F82BF8]);
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D7D10);
  id v39 = v36;
  id v40 = v37;
  uint64_t v41 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v42 = objc_msgSend(v38, sel_initWithArrangedSubviews_, v41);

  objc_msgSend(v42, sel_setAxis_, 1);
  objc_msgSend(v42, sel_setSpacing_, 8.0);
  objc_msgSend(v29, sel_addSubview_, v42);
  objc_msgSend(v42, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], *(double *)(MEMORY[0x263F82250] + 8), *(double *)(MEMORY[0x263F82250] + 16), *(double *)(MEMORY[0x263F82250] + 24));

  return v29;
}

uint64_t sub_246BD0150(void *a1)
{
  id v3 = objc_retain(*(id *)(v1
                         + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryButton));
  id v4 = (void *)sub_246C2CC08();
  objc_msgSend(v3, sel_setTitle_forState_, v4, 0);

  uint64_t v5 = a1[4];
  uint64_t v6 = a1[5];
  id v7 = (uint64_t *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryAction);
  uint64_t v8 = *(void *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_primaryAction);
  *id v7 = v5;
  v7[1] = v6;
  sub_246B8EE04(v5);
  sub_246B8BDFC(v8);
  uint64_t v9 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryButton;
  uint64_t v10 = a1[3];
  objc_msgSend(*(id *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryButton), sel_setHidden_, v10 == 0);
  uint64_t v11 = *(void **)(v1 + v9);
  id v12 = v11;
  if (v10) {
    uint64_t v13 = (void *)sub_246C2CC08();
  }
  else {
    uint64_t v13 = 0;
  }
  objc_msgSend(v11, sel_setTitle_forState_, v13, 0);

  uint64_t v14 = a1[6];
  uint64_t v15 = a1[7];
  uint64_t v16 = (uint64_t *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryAction);
  uint64_t v17 = *(void *)(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanButtonTrayContentView_secondaryAction);
  *uint64_t v16 = v14;
  v16[1] = v15;
  sub_246B8EE04(v14);

  return sub_246B8BDFC(v17);
}

uint64_t sub_246BD02A4(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  swift_unknownObjectRetain();
  uint64_t v6 = a1;
  sub_246C2D1F8();
  swift_unknownObjectRelease();
  id v7 = *(void (**)(uint64_t))&v6[*a4];
  if (v7)
  {
    uint64_t v8 = swift_retain();
    v7(v8);
    sub_246B8BDFC((uint64_t)v7);
  }

  return sub_246B8EB94((uint64_t)&v10);
}

id sub_246BD033C()
{
  return sub_246BD0974(type metadata accessor for ParmesanButtonTrayContentView);
}

uint64_t type metadata accessor for ParmesanButtonTrayContentView()
{
  return self;
}

char *sub_246BD040C(double a1, double a2, double a3, double a4)
{
  id v9 = objc_allocWithZone((Class)type metadata accessor for ParmesanButtonTrayContentView());
  uint64_t v10 = v4;
  id v11 = objc_msgSend(v9, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container] = v11;
  id v12 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82908]), sel_init);
  *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide] = v12;

  v28.receiver = v10;
  v28.uint64_t super_class = (Class)type metadata accessor for ParmesanButtonTray();
  uint64_t v13 = (char *)objc_msgSendSuper2(&v28, sel_initWithFrame_, a1, a2, a3, a4);
  uint64_t v14 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide;
  uint64_t v15 = *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_buttonLayoutGuide];
  uint64_t v16 = v13;
  objc_msgSend(v16, sel_addLayoutGuide_, v15);
  uint64_t v17 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container;
  objc_msgSend(v16, sel_addSubview_, *(void *)&v16[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion18ParmesanButtonTray_container]);
  objc_msgSend(*(id *)&v16[v17], sel_constrainToLayoutGuide_edges_insets_, *(void *)&v13[v14], 15, *MEMORY[0x263F82250], *(double *)(MEMORY[0x263F82250] + 8), *(double *)(MEMORY[0x263F82250] + 16), *(double *)(MEMORY[0x263F82250] + 24));
  id v18 = self;
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v19 = swift_allocObject();
  *(_OWORD *)(v19 + 16) = xmmword_246C33940;
  id v20 = objc_msgSend(*(id *)&v16[v17], sel_topAnchor);
  id v21 = objc_msgSend(v16, sel_topAnchor);
  id v22 = objc_msgSend(v20, sel_constraintEqualToAnchor_constant_, v21, 12.0);

  *(void *)(v19 + 32) = v22;
  id v23 = objc_msgSend(*(id *)&v16[v17], sel_bottomAnchor);
  id v24 = objc_msgSend(v16, sel_bottomAnchor);
  id v25 = objc_msgSend(v23, sel_constraintLessThanOrEqualToAnchor_, v24);

  *(void *)(v19 + 40) = v25;
  sub_246C2CD58();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
  uint64_t v26 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v18, sel_activateConstraints_, v26);

  return v16;
}

id sub_246BD0734()
{
  return sub_246BD0974(type metadata accessor for ParmesanButtonTray);
}

uint64_t type metadata accessor for ParmesanButtonTray()
{
  return self;
}

char *sub_246BD07BC(double a1, double a2, double a3, double a4)
{
  id v9 = objc_allocWithZone((Class)type metadata accessor for ParmesanButtonTrayContentView());
  uint64_t v10 = v4;
  id v11 = objc_msgSend(v9, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v10[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanButtonTrayReusableView_tray] = v11;

  v21.receiver = v10;
  v21.uint64_t super_class = (Class)type metadata accessor for ParmesanButtonTrayReusableView();
  id v12 = (char *)objc_msgSendSuper2(&v21, sel_initWithFrame_, a1, a2, a3, a4);
  uint64_t v13 = *(void **)&v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanButtonTrayReusableView_tray];
  uint64_t v14 = v12;
  objc_msgSend(v14, sel_addSubview_, v13);
  double v15 = *MEMORY[0x263F82250];
  double v16 = *(double *)(MEMORY[0x263F82250] + 8);
  double v17 = *(double *)(MEMORY[0x263F82250] + 16);
  double v18 = *(double *)(MEMORY[0x263F82250] + 24);
  id v19 = v13;
  objc_msgSend(v19, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, v15, v16, v17, v18);

  return v14;
}

id sub_246BD095C()
{
  return sub_246BD0974(type metadata accessor for ParmesanButtonTrayReusableView);
}

id sub_246BD0974(uint64_t (*a1)(void))
{
  v3.receiver = v1;
  v3.uint64_t super_class = (Class)a1();
  return objc_msgSendSuper2(&v3, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanButtonTrayReusableView()
{
  return self;
}

uint64_t destroy for ParmesanButtonTrayConfiguration(uint64_t a1)
{
  swift_bridgeObjectRelease();
  uint64_t result = swift_bridgeObjectRelease();
  if (*(void *)(a1 + 32)) {
    uint64_t result = swift_release();
  }
  if (*(void *)(a1 + 48))
  {
    return swift_release();
  }
  return result;
}

void *initializeWithCopy for ParmesanButtonTrayConfiguration(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  a1[1] = v4;
  uint64_t v5 = a2[3];
  a1[2] = a2[2];
  a1[3] = v5;
  id v7 = a2 + 4;
  uint64_t v6 = a2[4];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  if (v6)
  {
    uint64_t v8 = a2[5];
    a1[4] = v6;
    a1[5] = v8;
    swift_retain();
  }
  else
  {
    *((_OWORD *)a1 + 2) = *v7;
  }
  uint64_t v9 = a2[6];
  if (v9)
  {
    uint64_t v10 = a2[7];
    a1[6] = v9;
    a1[7] = v10;
    swift_retain();
  }
  else
  {
    *((_OWORD *)a1 + 3) = *((_OWORD *)a2 + 3);
  }
  return a1;
}

void *assignWithCopy for ParmesanButtonTrayConfiguration(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  a1[2] = a2[2];
  a1[3] = a2[3];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v4 = a2[4];
  if (a1[4])
  {
    if (v4)
    {
      uint64_t v5 = a2[5];
      a1[4] = v4;
      a1[5] = v5;
      swift_retain();
      swift_release();
      goto LABEL_8;
    }
    swift_release();
  }
  else if (v4)
  {
    uint64_t v6 = a2[5];
    a1[4] = v4;
    a1[5] = v6;
    swift_retain();
    goto LABEL_8;
  }
  *((_OWORD *)a1 + 2) = *((_OWORD *)a2 + 2);
LABEL_8:
  uint64_t v7 = a2[6];
  if (!a1[6])
  {
    if (v7)
    {
      uint64_t v9 = a2[7];
      a1[6] = v7;
      a1[7] = v9;
      swift_retain();
      return a1;
    }
LABEL_14:
    *((_OWORD *)a1 + 3) = *((_OWORD *)a2 + 3);
    return a1;
  }
  if (!v7)
  {
    swift_release();
    goto LABEL_14;
  }
  uint64_t v8 = a2[7];
  a1[6] = v7;
  a1[7] = v8;
  swift_retain();
  swift_release();
  return a1;
}

__n128 initializeWithTake for ParmesanButtonTrayConfiguration(uint64_t a1, uint64_t a2)
{
  __n128 result = *(__n128 *)a2;
  long long v3 = *(_OWORD *)(a2 + 16);
  long long v4 = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 48) = v4;
  *(__n128 *)a1 = result;
  *(_OWORD *)(a1 + 16) = v3;
  return result;
}

void *assignWithTake for ParmesanButtonTrayConfiguration(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  a1[1] = v4;
  swift_bridgeObjectRelease();
  uint64_t v5 = a2[3];
  a1[2] = a2[2];
  a1[3] = v5;
  swift_bridgeObjectRelease();
  uint64_t v6 = a2[4];
  if (a1[4])
  {
    if (v6)
    {
      uint64_t v7 = a2[5];
      a1[4] = v6;
      a1[5] = v7;
      swift_release();
      goto LABEL_8;
    }
    swift_release();
  }
  else if (v6)
  {
    uint64_t v8 = a2[5];
    a1[4] = v6;
    a1[5] = v8;
    goto LABEL_8;
  }
  *((_OWORD *)a1 + 2) = *((_OWORD *)a2 + 2);
LABEL_8:
  uint64_t v9 = a2[6];
  if (!a1[6])
  {
    if (v9)
    {
      uint64_t v11 = a2[7];
      a1[6] = v9;
      a1[7] = v11;
      return a1;
    }
LABEL_14:
    *((_OWORD *)a1 + 3) = *((_OWORD *)a2 + 3);
    return a1;
  }
  if (!v9)
  {
    swift_release();
    goto LABEL_14;
  }
  uint64_t v10 = a2[7];
  a1[6] = v9;
  a1[7] = v10;
  swift_release();
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanButtonTrayConfiguration(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 64)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanButtonTrayConfiguration(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 56) = 0;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 64) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 64) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanButtonTrayConfiguration()
{
  return &type metadata for ParmesanButtonTrayConfiguration;
}

Swift::Void __swiftcall NTKParmesanFaceView.screenWillTurnOn(animated:)(Swift::Bool animated)
{
}

Swift::Void __swiftcall NTKParmesanFaceView.screenDidTurnOff(animated:)(Swift::Bool animated)
{
}

void sub_246BD0DEC(char a1, SEL *a2, SEL *a3)
{
  v6.uint64_t super_class = (Class)NTKParmesanFaceView;
  objc_msgSendSuper2(&v6, *a2, a1 & 1);
  id v5 = objc_msgSend(v3, sel_controller);
  [v5 *a3];
}

void sub_246BD0E6C(void *a1, uint64_t a2, uint64_t a3, const char **a4, SEL *a5)
{
  v10.receiver = a1;
  v10.uint64_t super_class = (Class)NTKParmesanFaceView;
  uint64_t v7 = *a4;
  id v8 = a1;
  objc_msgSendSuper2(&v10, v7, a3);
  id v9 = objc_msgSend(v8, sel_controller, v10.receiver, v10.super_class);
  [v9 *a5];
}

uint64_t sub_246BD0EF4(uint64_t a1, unsigned __int8 a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  char v6 = sub_246BD107C(a1, a2, a5);
  swift_bridgeObjectRetain();
  sub_246C2CCD8();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  if (v6 != 1)
  {
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
  }
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  return a3;
}

id sub_246BD1018()
{
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v1 = objc_msgSend(self, sel_bundleForClass_, ObjCClassFromMetadata);

  return v1;
}

uint64_t sub_246BD1070(unsigned __int8 a1, uint64_t a2)
{
  return sub_246BD14A4(a1, a2, *v2, v2[1], v2[2]);
}

uint64_t sub_246BD107C(uint64_t a1, unsigned __int8 a2, uint64_t a3)
{
  if (a3)
  {
    if (*(void *)(a3 + 16))
    {
      unint64_t v5 = sub_246C1637C(a2);
      if (v6)
      {
        uint64_t v7 = *(void *)(*(void *)(a3 + 56) + 8 * v5);
        if (*(void *)(v7 + 16))
        {
          swift_bridgeObjectRetain();
          unint64_t v8 = sub_246C16424(a1);
          if (v9) {
            a1 = *(unsigned __int8 *)(*(void *)(v7 + 56) + v8);
          }
          swift_bridgeObjectRelease();
        }
      }
    }
  }
  return a1;
}

id sub_246BD10F0()
{
  sub_246BB6A38();
  id v0 = sub_246BD1018();
  id v1 = (void *)sub_246C2CC08();
  unint64_t v2 = (void *)sub_246C2CC08();
  id v3 = objc_msgSend(v0, sel_pathForResource_ofType_, v1, v2);

  if (!v3)
  {
    sub_246B80250(&qword_2691D7D20);
    uint64_t v7 = swift_allocObject();
    *(_OWORD *)(v7 + 16) = xmmword_246C33620;
    sub_246C2D278();
    swift_bridgeObjectRelease();
    v11[0] = 0xD000000000000014;
    v11[1] = 0x8000000246C3E5F0;
    sub_246C2CCD8();
LABEL_6:
    sub_246C2CCD8();
    uint64_t v8 = v11[0];
    uint64_t v9 = v11[1];
    *(void *)(v7 + 56) = MEMORY[0x263F8D310];
    *(void *)(v7 + 32) = v8;
    *(void *)(v7 + 40) = v9;
    sub_246C2D658();
    swift_bridgeObjectRelease();
    return 0;
  }
  sub_246C2CC48();

  id v4 = objc_allocWithZone(MEMORY[0x263F827E8]);
  swift_bridgeObjectRetain();
  unint64_t v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v6 = objc_msgSend(v4, sel_initWithContentsOfFile_, v5);

  if (!v6)
  {
    sub_246B80250(&qword_2691D7D20);
    uint64_t v7 = swift_allocObject();
    *(_OWORD *)(v7 + 16) = xmmword_246C33620;
    sub_246C2D278();
    swift_bridgeObjectRelease();
    strcpy((char *)v11, "no image at [");
    HIWORD(v11[1]) = -4864;
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    goto LABEL_6;
  }
  swift_bridgeObjectRelease();
  return v6;
}

id sub_246BD135C()
{
  id v0 = sub_246BD10F0();
  if (!v0) {
    return 0;
  }
  id v1 = v0;
  id v2 = objc_msgSend(v0, sel_CGImage);
  if (!v2)
  {
    sub_246B80250(&qword_2691D7D20);
    uint64_t v4 = swift_allocObject();
    *(_OWORD *)(v4 + 16) = xmmword_246C33620;
    sub_246C2D278();
    swift_bridgeObjectRelease();
    id v5 = objc_msgSend(v1, sel_description);
    sub_246C2CC48();

    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    *(void *)(v4 + 56) = MEMORY[0x263F8D310];
    *(void *)(v4 + 32) = 0xD00000000000001CLL;
    *(void *)(v4 + 40) = 0x8000000246C3E5D0;
    sub_246C2D658();

    swift_bridgeObjectRelease();
    return 0;
  }
  id v3 = v2;

  return v3;
}

uint64_t sub_246BD14A4(unsigned __int8 a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  sub_246BD0EF4(a2, a1, a3, a4, a5);
  id v5 = sub_246BD135C();
  if (v5)
  {
    id v6 = v5;
    sub_246C2CC48();
    id v7 = objc_allocWithZone(MEMORY[0x263F157C8]);
    uint64_t v8 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v9 = objc_msgSend(v7, sel_initWithType_, v8);

    objc_msgSend(v9, sel_setValue_forKeyPath_, v6, *MEMORY[0x263F15C28]);
    objc_super v10 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v9, sel_setName_, v10);

    sub_246B80250((uint64_t *)&unk_2691D6A80);
    uint64_t v11 = swift_allocObject();
    *(_OWORD *)(v11 + 16) = xmmword_246C33610;
    *(void *)(v11 + 32) = v9;
    uint64_t v14 = v11;
    sub_246C2CD58();
    uint64_t v12 = v14;
  }
  else
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  return v12;
}

unint64_t sub_246BD15FC()
{
  sub_246B80250(&qword_2691D7D18);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 2;
  *(void *)(inited + 40) = sub_246C11250((uint64_t)&unk_26FB1F6E8);
  *(unsigned char *)(inited + 48) = 1;
  *(void *)(inited + 56) = sub_246C11250((uint64_t)&unk_26FB1F710);
  *(unsigned char *)(inited + 64) = 0;
  *(void *)(inited + 72) = sub_246C11250((uint64_t)&unk_26FB1F738);
  return sub_246C1134C(inited);
}

uint64_t destroy for ParmesanLut()
{
  swift_bridgeObjectRelease();

  return swift_bridgeObjectRelease();
}

void *_s30NTKParmesanFaceBundleCompanion11ParmesanLutVwCP_0(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  a1[2] = a2[2];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  return a1;
}

void *assignWithCopy for ParmesanLut(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  a1[2] = a2[2];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  return a1;
}

__n128 initializeWithTake for ParmesanLut(__n128 *a1, __n128 *a2)
{
  __n128 result = *a2;
  a1[1].n128_u64[0] = a2[1].n128_u64[0];
  *a1 = result;
  return result;
}

uint64_t assignWithTake for ParmesanLut(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanLut(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 24)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 8);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanLut(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 8) = 0;
    *(void *)(result + 16) = 0;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 24) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 8) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 24) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanLut()
{
  return &type metadata for ParmesanLut;
}

void sub_246BD186C(unint64_t a1, uint64_t a2)
{
  if ((a1 & 0xC000000000000001) != 0)
  {
    unint64_t v18 = 0;
    uint64_t v3 = 0;
    unint64_t v4 = 0;
    unint64_t v5 = sub_246C2D338() | 0x8000000000000000;
  }
  else
  {
    uint64_t v6 = -1 << *(unsigned char *)(a1 + 32);
    uint64_t v3 = ~v6;
    unint64_t v18 = a1 + 64;
    uint64_t v7 = -v6;
    if (v7 < 64) {
      uint64_t v8 = ~(-1 << v7);
    }
    else {
      uint64_t v8 = -1;
    }
    unint64_t v4 = v8 & *(void *)(a1 + 64);
    unint64_t v5 = a1;
  }
  swift_bridgeObjectRetain();
  uint64_t v9 = 0;
  int64_t v17 = (unint64_t)(v3 + 64) >> 6;
  if ((v5 & 0x8000000000000000) != 0) {
    goto LABEL_10;
  }
LABEL_8:
  if (v4)
  {
    uint64_t v10 = (v4 - 1) & v4;
    unint64_t v11 = __clz(__rbit64(v4)) | (v9 << 6);
    uint64_t v12 = v9;
    goto LABEL_29;
  }
  int64_t v14 = v9 + 1;
  if (!__OFADD__(v9, 1))
  {
    if (v14 < v17)
    {
      unint64_t v15 = *(void *)(v18 + 8 * v14);
      uint64_t v12 = v9 + 1;
      if (v15) {
        goto LABEL_28;
      }
      uint64_t v12 = v9 + 2;
      if (v9 + 2 >= v17) {
        goto LABEL_33;
      }
      unint64_t v15 = *(void *)(v18 + 8 * v12);
      if (v15) {
        goto LABEL_28;
      }
      uint64_t v12 = v9 + 3;
      if (v9 + 3 >= v17) {
        goto LABEL_33;
      }
      unint64_t v15 = *(void *)(v18 + 8 * v12);
      if (v15) {
        goto LABEL_28;
      }
      uint64_t v12 = v9 + 4;
      if (v9 + 4 >= v17) {
        goto LABEL_33;
      }
      unint64_t v15 = *(void *)(v18 + 8 * v12);
      if (v15)
      {
LABEL_28:
        uint64_t v10 = (v15 - 1) & v15;
        unint64_t v11 = __clz(__rbit64(v15)) + (v12 << 6);
LABEL_29:
        uint64_t v13 = (char *)*(id *)(*(void *)(v5 + 48) + 8 * v11);
        if (v13)
        {
          do
          {
            if (*(void *)&v13[OBJC_IVAR___NTKParmesanTimeLayout_scale] == a2) {
              break;
            }

            uint64_t v9 = v12;
            unint64_t v4 = v10;
            if ((v5 & 0x8000000000000000) == 0) {
              goto LABEL_8;
            }
LABEL_10:
            if (!sub_246C2D388()) {
              break;
            }
            type metadata accessor for ParmesanTimeLayout();
            swift_unknownObjectRetain();
            swift_dynamicCast();
            uint64_t v13 = v19;
            swift_unknownObjectRelease();
            uint64_t v12 = v9;
            uint64_t v10 = v4;
          }
          while (v19);
        }
        goto LABEL_33;
      }
      uint64_t v12 = v9 + 5;
      if (v9 + 5 < v17)
      {
        unint64_t v15 = *(void *)(v18 + 8 * v12);
        if (!v15)
        {
          uint64_t v16 = v9 + 6;
          while (v17 != v16)
          {
            unint64_t v15 = *(void *)(v18 + 8 * v16++);
            if (v15)
            {
              uint64_t v12 = v16 - 1;
              goto LABEL_28;
            }
          }
          goto LABEL_33;
        }
        goto LABEL_28;
      }
    }
LABEL_33:
    sub_246BAAFFC();
    return;
  }
  __break(1u);
}

unint64_t sub_246BD1B00(char a1)
{
  unint64_t result = 7955819;
  switch(a1)
  {
    case 1:
      unint64_t result = 0x676E696D6D6964;
      break;
    case 2:
      unint64_t result = 0xD000000000000015;
      break;
    case 3:
      unint64_t result = 0xD000000000000019;
      break;
    case 4:
      unint64_t result = 0xD000000000000021;
      break;
    case 5:
      unint64_t result = 0xD000000000000016;
      break;
    case 6:
      unint64_t result = 7697004;
      break;
    default:
      return result;
  }
  return result;
}

unint64_t sub_246BD1BE0()
{
  return sub_246BD1B00(*v0);
}

uint64_t sub_246BD1BE8@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_246BD7240(a1, a2);
  *a3 = result;
  return result;
}

void sub_246BD1C10(unsigned char *a1@<X8>)
{
  *a1 = 7;
}

uint64_t sub_246BD1C1C(uint64_t a1)
{
  unint64_t v2 = sub_246BD71EC();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BD1C58(uint64_t a1)
{
  unint64_t v2 = sub_246BD71EC();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BD1C94(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D7D60);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v20 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)(v3 + 48) = 0;
  uint64_t v9 = a1[3];
  id v31 = a1;
  sub_246B8F7E8(a1, v9);
  sub_246BD71EC();
  sub_246C2D6E8();
  if (v2)
  {

    type metadata accessor for ParmesanAssetCompositionDerived();
    swift_deallocPartialClassInstance();
LABEL_4:
    sub_246B8EB94((uint64_t)v31);
    return (id)v3;
  }
  uint64_t v10 = v6;
  LOBYTE(v22) = 0;
  *(void *)(v3 + 16) = sub_246C2D458();
  *(void *)(v3 + 24) = v11;
  LOBYTE(v22) = 1;
  sub_246C2D478();
  *(void *)(v3 + 32) = v12;
  sub_246B80250(&qword_2691D7D70);
  char v27 = 2;
  sub_246BD8074(&qword_2691D7D78);
  sub_246C2D498();
  sub_246C0C77C(v28, (uint64_t)v29);
  swift_bridgeObjectRelease();
  int64_t v14 = self;
  long long v22 = v29[0];
  long long v23 = v29[1];
  long long v24 = v29[2];
  long long v25 = v29[3];
  long long v26 = v29[4];
  id result = objc_msgSend(v14, sel_valueWithCAColorMatrix_, &v22);
  if (result)
  {
    *(void *)(v3 + 40) = result;
    sub_246B80250(&qword_2691D7D80);
    LOBYTE(v22) = 3;
    sub_246BD74E4();
    sub_246C2D498();
    if (v21)
    {
      sub_246C0C77C(v21, (uint64_t)v30);
      swift_bridgeObjectRelease();
      long long v22 = v30[0];
      long long v23 = v30[1];
      long long v24 = v30[2];
      long long v25 = v30[3];
      long long v26 = v30[4];
      id v15 = objc_msgSend(v14, sel_valueWithCAColorMatrix_, &v22);
      uint64_t v16 = *(void **)(v3 + 48);
      *(void *)(v3 + 48) = v15;
    }
    else
    {
      uint64_t v16 = *(void **)(v3 + 48);
      *(void *)(v3 + 48) = 0;
    }

    id v17 = objc_msgSend(objc_allocWithZone((Class)NTKParmesanImageAnalysis), sel_init);
    LOBYTE(v22) = 4;
    objc_msgSend(v17, sel_setComplexBackground_, sub_246C2D468() & 1);
    LOBYTE(v22) = 5;
    objc_msgSend(v17, sel_setBright_, sub_246C2D468() & 1);
    *(void *)(v3 + 56) = v17;
    LOBYTE(v22) = 6;
    id v18 = v17;
    uint64_t v19 = sub_246C2D488();
    (*(void (**)(char *, uint64_t))(v10 + 8))(v8, v5);

    *(void *)(v3 + 64) = v19;
    goto LABEL_4;
  }
  __break(1u);
  return result;
}

uint64_t sub_246BD2158(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D7DE8);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v14 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BD71EC();
  sub_246C2D708();
  LOBYTE(v16) = 0;
  swift_bridgeObjectRetain();
  sub_246C2D4C8();
  if (v2)
  {
    (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
    return swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    LOBYTE(v16) = 1;
    sub_246C2D4E8();
    char v21 = 6;
    sub_246C2D4F8();
    objc_msgSend(*(id *)(v3 + 40), sel_CAColorMatrixValue);
    long long v27 = v16;
    long long v28 = v17;
    long long v29 = v18;
    long long v30 = v19;
    long long v31 = v20;
    sub_246C0C41C();
    *(void *)&long long v16 = v10;
    char v15 = 2;
    sub_246B80250(&qword_2691D7D70);
    sub_246BD8074(&qword_2691D7DF0);
    sub_246C2D508();
    swift_bridgeObjectRelease();
    uint64_t v11 = *(void **)(v3 + 48);
    if (v11)
    {
      objc_msgSend(v11, sel_CAColorMatrixValue);
      long long v22 = v16;
      long long v23 = v17;
      long long v24 = v18;
      long long v25 = v19;
      long long v26 = v20;
      sub_246C0C41C();
      uint64_t v13 = v12;
    }
    else
    {
      uint64_t v13 = 0;
    }
    *(void *)&long long v16 = v13;
    char v15 = 3;
    sub_246B80250(&qword_2691D7D80);
    sub_246BD80D8();
    sub_246C2D508();
    swift_bridgeObjectRelease();
    objc_msgSend(*(id *)(v3 + 56), sel_isComplexBackground);
    LOBYTE(v16) = 4;
    sub_246C2D4D8();
    objc_msgSend(*(id *)(v3 + 56), sel_isBright);
    LOBYTE(v16) = 5;
    sub_246C2D4D8();
    return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  }
}

uint64_t sub_246BD24E0()
{
  swift_bridgeObjectRelease();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanAssetCompositionDerived()
{
  return self;
}

id sub_246BD2554@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  type metadata accessor for ParmesanAssetCompositionDerived();
  swift_allocObject();
  id result = sub_246BD1C94(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BD25B4(void *a1)
{
  return sub_246BD2158(a1);
}

uint64_t sub_246BD25D8()
{
  type metadata accessor for ParmesanAssetCompositionCache();
  uint64_t v0 = swift_allocObject();
  *(void *)(v0 + 16) = MEMORY[0x263F8EE80];
  *(void *)(v0 + 24) = 0;
  *(unsigned char *)(v0 + 32) = 0;
  if (qword_2691D62F8 != -1) {
    swift_once();
  }
  uint64_t v1 = sub_246C2C088();
  sub_246B8BE0C(v1, (uint64_t)qword_2691E0138);
  uint64_t v2 = sub_246C2C068();
  os_log_type_t v3 = sub_246C2CED8();
  if (os_log_type_enabled(v2, v3))
  {
    unint64_t v4 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v4 = 0;
    _os_log_impl(&dword_246B51000, v2, v3, "initialized", v4, 2u);
    MEMORY[0x24C545990](v4, -1, -1);
  }

  uint64_t result = sub_246BD4B18();
  off_2691D7D28 = (_UNKNOWN *)v0;
  return result;
}

uint64_t sub_246BD26E8(void *a1, uint64_t a2)
{
  uint64_t v5 = sub_246B80250(&qword_2691D7DB8);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = &v10[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246B8F7E8(a1, a1[3]);
  sub_246BD782C();
  sub_246C2D708();
  uint64_t v11 = a2;
  v10[15] = 0;
  sub_246B80250(&qword_2691D7DA0);
  sub_246BD792C();
  sub_246C2D508();
  if (!v2)
  {
    v10[14] = 1;
    sub_246C2D4F8();
  }
  return (*(uint64_t (**)(unsigned char *, uint64_t))(v6 + 8))(v8, v5);
}

uint64_t sub_246BD2874()
{
  if (*v0) {
    return 7697004;
  }
  else {
    return 0x6568636163;
  }
}

uint64_t sub_246BD28A4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_246BD757C(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_246BD28CC(uint64_t a1)
{
  unint64_t v2 = sub_246BD782C();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BD2908(uint64_t a1)
{
  unint64_t v2 = sub_246BD782C();

  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t sub_246BD2944@<X0>(void *a1@<X0>, uint64_t *a2@<X8>)
{
  uint64_t result = sub_246BD7658(a1);
  if (!v2)
  {
    *a2 = result;
    a2[1] = v5;
  }
  return result;
}

uint64_t sub_246BD2970(void *a1)
{
  return sub_246BD26E8(a1, *v1);
}

uint64_t sub_246BD298C(uint64_t a1, char *a2, char *a3, void *a4, void *a5)
{
  os_log_type_t v134 = a4;
  uint64_t v137 = a2;
  uint64_t v132 = sub_246C2CA28();
  uint64_t v8 = *(void *)(v132 - 8);
  MEMORY[0x270FA5388](v132);
  uint64_t v10 = (char *)&v122 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246C2CA48();
  uint64_t v12 = *(void *)(v11 - 8);
  MEMORY[0x270FA5388](v11);
  uint64_t v14 = (char *)&v122 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v136 = sub_246C2C088();
  long long v125 = *(char **)(v136 - 8);
  MEMORY[0x270FA5388](v136);
  long long v126 = (char *)&v122 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v133 = self;
  id v16 = objc_msgSend(v133, sel_currentDevice);
  uint64_t v131 = v8;
  uint64_t v130 = v11;
  long long v129 = v10;
  uint64_t v128 = v12;
  long long v127 = v14;
  if (v16)
  {
    long long v17 = v16;
    objc_msgSend(v16, sel_screenBounds);
    double v19 = v18;
    double v21 = v20;
    objc_msgSend(v17, sel_screenScale);
    double v23 = v22;

    double v24 = v19 * v23;
    double v25 = v21 * v23;
  }
  else
  {
    double v25 = 0.0;
    double v24 = 0.0;
  }
  uint64_t v135 = a3;
  if (a3 && a5)
  {
    long long v26 = a3;
    long long v27 = a5;
    aBlock.CGFloat a = 0.0;
    aBlock.CGFloat b = -2.68156159e154;
    long long v28 = v26;
    sub_246C2D278();
    CGFloat v30 = *(double *)(a1 + OBJC_IVAR___NTKParmesanAsset_localIdentifier);
    CGFloat v29 = *(double *)(a1 + OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8);
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
    aBlock.CGFloat a = v30;
    aBlock.CGFloat b = v29;
    sub_246C2CCD8();
    uint64_t v145 = *(void *)(a1 + OBJC_IVAR___NTKParmesanAsset_photoVersion);
    sub_246C2D528();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v31 = objc_msgSend(v137, sel_description);
    sub_246C2CC48();

    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v32 = *(void *)&v28[OBJC_IVAR___NTKParmesanAssetMask_style];
    if (v32 && v32 != 1)
    {
      uint64_t v145 = *(void *)&v28[OBJC_IVAR___NTKParmesanAssetMask_style];
      goto LABEL_72;
    }
    a5 = v27;
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    sub_246C2CE68();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    sub_246C2CE68();
    sub_246C2CCD8();
  }
  else
  {
    CGFloat v33 = *(double *)(a1 + OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8);
    aBlock.CGFloat a = *(CGFloat *)(a1 + OBJC_IVAR___NTKParmesanAsset_localIdentifier);
    aBlock.CGFloat b = v33;
    swift_bridgeObjectRetain();
    sub_246C2CCD8();
    uint64_t v145 = *(void *)(a1 + OBJC_IVAR___NTKParmesanAsset_photoVersion);
    sub_246C2D528();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v34 = objc_msgSend(v137, sel_description);
    sub_246C2CC48();

    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    sub_246C2CE68();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    sub_246C2CE68();
    sub_246C2CCD8();
  }
  swift_bridgeObjectRelease();
  uint64_t v35 = *(void *)&aBlock.a;
  uint64_t v36 = *(void *)&aBlock.b;
  double v37 = v139;
  CGFloat a = aBlock.a;
  CGFloat b = aBlock.b;
  uint64_t v138 = *(void *)&v139 + 16;
  swift_beginAccess();
  uint64_t v38 = *(void *)(*(void *)&v37 + 24);
  BOOL v39 = __CFADD__(v38, 1);
  uint64_t v40 = v38 + 1;
  uint64_t v41 = v136;
  if (!v39)
  {
    *(void *)(*(void *)&v37 + 24) = v40;
    uint64_t v42 = *(void *)(*(void *)&v37 + 16);
    if (*(void *)(v42 + 16))
    {
      swift_bridgeObjectRetain();
      swift_bridgeObjectRetain();
      unint64_t v43 = sub_246C16228(v35, v36);
      if (v44)
      {
        objc_super v45 = *(void **)(*(void *)(v42 + 56) + 8 * v43);
        swift_retain();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (qword_2691D62F8 != -1) {
          swift_once();
        }
        sub_246B8BE0C(v41, (uint64_t)qword_2691E0138);
        uint64_t v47 = *(void *)&a;
        unint64_t v46 = *(void *)&b;
        swift_bridgeObjectRetain();
        id v48 = sub_246C2C068();
        os_log_type_t v49 = sub_246C2CED8();
        if (os_log_type_enabled(v48, v49))
        {
          unint64_t v50 = (uint8_t *)swift_slowAlloc();
          uint64_t v51 = swift_slowAlloc();
          *(void *)&aBlock.CGFloat a = v51;
          *(_DWORD *)unint64_t v50 = 136315138;
          swift_bridgeObjectRetain();
          uint64_t v144 = sub_246BA686C(v47, v46, (uint64_t *)&aBlock);
          double v37 = v139;
          sub_246C2D1C8();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_246B51000, v48, v49, "hit %s", v50, 0xCu);
          swift_arrayDestroy();
          MEMORY[0x24C545990](v51, -1, -1);
          MEMORY[0x24C545990](v50, -1, -1);
        }
        else
        {

          swift_bridgeObjectRelease_n();
        }
        v45[8] = *(void *)(*(void *)&v37 + 24);
        return (uint64_t)v45;
      }
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    if (qword_2691D62F8 == -1) {
      goto LABEL_20;
    }
    goto LABEL_66;
  }
LABEL_65:
  __break(1u);
LABEL_66:
  swift_once();
LABEL_20:
  uint64_t v52 = sub_246B8BE0C(v41, (uint64_t)qword_2691E0138);
  uint64_t v54 = *(void *)&a;
  unint64_t v53 = *(void *)&b;
  swift_bridgeObjectRetain_n();
  size_t v55 = sub_246C2C068();
  os_log_type_t v56 = sub_246C2CED8();
  BOOL v57 = os_log_type_enabled(v55, v56);
  uint64_t v124 = v52;
  if (v57)
  {
    long long v58 = (uint8_t *)swift_slowAlloc();
    long long v59 = a5;
    uint64_t v60 = swift_slowAlloc();
    *(void *)&aBlock.CGFloat a = v60;
    *(_DWORD *)long long v58 = 136315138;
    swift_bridgeObjectRetain();
    uint64_t v144 = sub_246BA686C(v54, v53, (uint64_t *)&aBlock);
    sub_246C2D1C8();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_246B51000, v55, v56, "miss %s", v58, 0xCu);
    swift_arrayDestroy();
    uint64_t v61 = v60;
    a5 = v59;
    MEMORY[0x24C545990](v61, -1, -1);
    MEMORY[0x24C545990](v58, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  uint64_t v62 = (void (**)(char *, uint64_t))v135;
  uint64_t v63 = *(void *)v138;
  if (*(void *)(*(void *)v138 + 16) < 0x32uLL)
  {
LABEL_53:
    double v90 = v134;
    id v91 = (id)NTKGenerateMonochromeColorMatrixFromImage();
    double v92 = sub_246BB2CD4(*(void *)&v137[OBJC_IVAR___NTKParmesanTimeLayout_alignment], *(void *)&v137[OBJC_IVAR___NTKParmesanTimeLayout_scale]);
    double v94 = v93;
    double v96 = v95;
    double v98 = v97;
    id v99 = objc_msgSend(v133, sel_currentDevice);
    if (!v99)
    {
      __break(1u);
      goto LABEL_68;
    }
    double v100 = v99;
    objc_msgSend(v99, sel_screenBounds);
    double v102 = v101;
    double v104 = v103;

    CGAffineTransformMakeScale(&aBlock, v24, v25);
    v150.origin.double x = v92 / v102;
    v150.origin.double y = v94 / v104;
    v150.size.double width = v96 / v102;
    v150.size.double height = v98 / v104;
    CGRect v151 = CGRectApplyAffineTransform(v150, &aBlock);
    uint64_t v105 = NTKParmesanAnalyzeImage(v90, v24, v25, v151.origin.x, v151.origin.y, v151.size.width, v151.size.height);
    if (v62 && a5)
    {
      uint64_t v86 = *(uint64_t **)((char *)v62 + OBJC_IVAR___NTKParmesanAssetMask_style);
      if ((unint64_t)v86 >= 2) {
        goto LABEL_70;
      }
      id v106 = (id)NTKGenerateMonochromeColorMatrixFromImage();
    }
    else
    {
      id v106 = 0;
    }
    swift_beginAccess();
    uint64_t v108 = *(void *)&a;
    uint64_t v107 = *(void *)&b;
    CGFloat v109 = v139;
    uint64_t v110 = *(void *)(*(void *)&v139 + 24);
    type metadata accessor for ParmesanAssetCompositionDerived();
    objc_super v45 = (void *)swift_allocObject();
    v45[2] = v108;
    v45[3] = v107;
    v45[4] = 0x3FF0000000000000;
    v45[5] = v91;
    v45[6] = v106;
    v45[7] = v105;
    v45[8] = v110;
    swift_bridgeObjectRetain();
    uint64_t v137 = (char *)v91;
    id v111 = v106;
    uint64_t v112 = v105;
    swift_beginAccess();
    swift_retain();
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v140 = *(void *)(*(void *)&v109 + 16);
    *(void *)(*(void *)&v109 + 16) = 0x8000000000000000;
    sub_246C1AE10((uint64_t)v45, v108, v107, isUniquelyReferenced_nonNull_native);
    *(void *)(*(void *)&v109 + 16) = v140;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_endAccess();
    *(unsigned char *)(*(void *)&v109 + 32) = 1;
    sub_246BD7FD0();
    uint64_t v114 = (void *)sub_246C2CF68();
    *(void *)&aBlock.tdouble x = sub_246BD8010;
    aBlock.tdouble y = v109;
    *(void *)&aBlock.CGFloat a = MEMORY[0x263EF8330];
    *(void *)&aBlock.CGFloat b = 1107296256;
    *(void *)&aBlock.CGFloat c = sub_246B9B974;
    *(void *)&aBlock.CGFloat d = &unk_26FB21918;
    double v115 = _Block_copy(&aBlock);
    swift_retain();
    swift_release();
    uint64_t v116 = v127;
    sub_246C2CA38();
    *(void *)&aBlock.CGFloat a = MEMORY[0x263F8EE78];
    sub_246BD802C((unint64_t *)&qword_2691D6938, MEMORY[0x263F8F030]);
    sub_246B80250(&qword_2691D6940);
    sub_246BAAD0C();
    uint64_t v117 = v129;
    uint64_t v118 = v132;
    sub_246C2D208();
    MEMORY[0x24C544020](0, v116, v117, v115);
    _Block_release(v115);

    (*(void (**)(char *, uint64_t))(v131 + 8))(v117, v118);
    (*(void (**)(char *, uint64_t))(v128 + 8))(v116, v130);
    return (uint64_t)v45;
  }
  char v123 = a5;
  uint64_t v65 = v63 + 64;
  uint64_t v64 = *(void *)(v63 + 64);
  uint64_t v142 = 0;
  uint64_t v141 = 0;
  uint64_t v66 = 1 << *(unsigned char *)(v63 + 32);
  unint64_t v67 = -1;
  if (v66 < 64) {
    uint64_t v68 = ~(-1 << v66);
  }
  else {
    uint64_t v68 = -1;
  }
  unint64_t v69 = v68 & v64;
  a5 = (void *)((unint64_t)(v66 + 63) >> 6);
  swift_bridgeObjectRetain();
  uint64_t v41 = 0;
  uint64_t v70 = 0;
  unint64_t v71 = 0;
  if (v69)
  {
LABEL_28:
    unint64_t v72 = __clz(__rbit64(v69));
    v69 &= v69 - 1;
    unint64_t v73 = v72 | (v41 << 6);
    goto LABEL_29;
  }
  while (1)
  {
    uint64_t v75 = v41 + 1;
    if (__OFADD__(v41, 1))
    {
      __break(1u);
LABEL_64:
      __break(1u);
      goto LABEL_65;
    }
    if (v75 >= (uint64_t)a5) {
      goto LABEL_47;
    }
    unint64_t v76 = *(void *)(v65 + 8 * v75);
    ++v41;
    if (!v76)
    {
      uint64_t v41 = v75 + 1;
      if (v75 + 1 >= (uint64_t)a5) {
        goto LABEL_47;
      }
      unint64_t v76 = *(void *)(v65 + 8 * v41);
      if (!v76)
      {
        uint64_t v41 = v75 + 2;
        if (v75 + 2 >= (uint64_t)a5) {
          goto LABEL_47;
        }
        unint64_t v76 = *(void *)(v65 + 8 * v41);
        if (!v76) {
          break;
        }
      }
    }
LABEL_44:
    unint64_t v69 = (v76 - 1) & v76;
    unint64_t v73 = __clz(__rbit64(v76)) + (v41 << 6);
LABEL_29:
    uint64_t v74 = *(void *)(*(void *)(v63 + 56) + 8 * v73);
    if (*(void *)(v74 + 64) < v67)
    {
      uint64_t v78 = (uint64_t *)(*(void *)(v63 + 48) + 16 * v73);
      uint64_t v70 = *v78;
      unint64_t v79 = v78[1];
      swift_bridgeObjectRetain();
      swift_retain();
      swift_bridgeObjectRelease();
      unint64_t v67 = *(void *)(v74 + 64);
      swift_release();
      uint64_t v141 = v70;
      uint64_t v142 = v79;
      unint64_t v71 = v79;
      if (v69) {
        goto LABEL_28;
      }
    }
    else if (v69)
    {
      goto LABEL_28;
    }
  }
  uint64_t v77 = v75 + 3;
  if (v77 < (uint64_t)a5)
  {
    unint64_t v76 = *(void *)(v65 + 8 * v77);
    if (!v76)
    {
      while (1)
      {
        uint64_t v41 = v77 + 1;
        if (__OFADD__(v77, 1)) {
          goto LABEL_64;
        }
        if (v41 >= (uint64_t)a5) {
          goto LABEL_47;
        }
        unint64_t v76 = *(void *)(v65 + 8 * v41);
        ++v77;
        if (v76) {
          goto LABEL_44;
        }
      }
    }
    uint64_t v41 = v77;
    goto LABEL_44;
  }
LABEL_47:
  uint64_t v122 = v70;
  swift_release();
  uint64_t v62 = (void (**)(char *, uint64_t))v125;
  uint64_t v80 = v126;
  uint64_t v81 = v136;
  (*((void (**)(char *, uint64_t, uint64_t))v125 + 2))(v126, v124, v136);
  swift_bridgeObjectRetain_n();
  uint64_t v82 = sub_246C2C068();
  os_log_type_t v83 = sub_246C2CED8();
  if (os_log_type_enabled(v82, v83))
  {
    uint64_t v84 = (uint8_t *)swift_slowAlloc();
    uint64_t v85 = swift_slowAlloc();
    *(void *)&aBlock.CGFloat a = v85;
    *(_DWORD *)uint64_t v84 = 136315138;
    uint64_t v86 = (uint64_t *)&v146;
    a5 = v123;
    if (!v71) {
      goto LABEL_69;
    }
    uint64_t v87 = v85;
    swift_bridgeObjectRetain();
    uint64_t v144 = sub_246BA686C(v122, v71, (uint64_t *)&aBlock);
    sub_246C2D1C8();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_246B51000, v82, v83, "evict %s", v84, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v87, -1, -1);
    MEMORY[0x24C545990](v84, -1, -1);

    v62[1](v126, v81);
  }
  else
  {

    swift_bridgeObjectRelease_n();
    v62[1](v80, v81);
    a5 = v123;
  }
  swift_beginAccess();
  uint64_t v88 = v142;
  uint64_t v86 = &v149;
  uint64_t v62 = (void (**)(char *, uint64_t))v135;
  if (v142)
  {
    uint64_t v89 = v141;
    swift_beginAccess();
    sub_246C16E74(v89, v88);
    swift_endAccess();
    swift_bridgeObjectRelease();
    swift_release();
    goto LABEL_53;
  }
LABEL_68:
  __break(1u);
LABEL_69:
  __break(1u);
LABEL_70:
  *(void *)&aBlock.CGFloat a = v86;
  long long v120 = v62;
  id v121 = a5;
LABEL_72:
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

uint64_t sub_246BD3ABC@<X0>(void *a1@<X8>)
{
  v46[1] = *(id *)MEMORY[0x263EF8340];
  uint64_t v3 = sub_246C2BB98();
  uint64_t v4 = *(void *)(v3 - 8);
  uint64_t v5 = MEMORY[0x270FA5388](v3);
  unint64_t v43 = (char *)v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  uint64_t v9 = (char *)v38 - v8;
  MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)v38 - v10;
  id v12 = objc_msgSend(self, sel_defaultManager);
  id v13 = objc_msgSend(v12, sel_URLsForDirectory_inDomains_, 13, 1);
  uint64_t v14 = sub_246C2CD38();

  if (!*(void *)(v14 + 16))
  {
    __break(1u);
LABEL_11:
    swift_once();
    goto LABEL_6;
  }
  char v44 = a1;
  uint64_t v1 = *(void (**)(char *, unint64_t, uint64_t))(v4 + 16);
  v1(v11, v14 + ((*(unsigned __int8 *)(v4 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80)), v3);
  swift_bridgeObjectRelease();
  sub_246C2BAE8();
  sub_246C2BB48();
  uint64_t v15 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  unsigned __int8 v16 = objc_msgSend(v12, sel_fileExistsAtPath_, v15);

  if (v16) {
    goto LABEL_9;
  }
  long long v17 = (void *)sub_246C2BAC8();
  v46[0] = 0;
  unsigned int v18 = objc_msgSend(v12, sel_createDirectoryAtURL_withIntermediateDirectories_attributes_error_, v17, 1, 0, v46);

  if (v18)
  {
    id v19 = v46[0];
    goto LABEL_9;
  }
  id v20 = v46[0];
  a1 = (void *)sub_246C2BA48();

  swift_willThrow();
  if (qword_2691D62F8 != -1) {
    goto LABEL_11;
  }
LABEL_6:
  uint64_t v21 = sub_246C2C088();
  sub_246B8BE0C(v21, (uint64_t)qword_2691E0138);
  double v22 = v43;
  v1(v43, (unint64_t)v9, v3);
  id v23 = a1;
  id v24 = a1;
  double v25 = sub_246C2C068();
  os_log_type_t v26 = sub_246C2CEE8();
  int v27 = v26;
  if (os_log_type_enabled(v25, v26))
  {
    uint64_t v28 = swift_slowAlloc();
    uint64_t v41 = (void *)swift_slowAlloc();
    uint64_t v42 = (void *)swift_slowAlloc();
    v46[0] = v42;
    *(_DWORD *)uint64_t v28 = 136315394;
    v38[1] = v28 + 4;
    sub_246BD802C(&qword_2691D7050, MEMORY[0x263F06EA8]);
    os_log_t v40 = v25;
    uint64_t v29 = sub_246C2D528();
    uint64_t v45 = sub_246BA686C(v29, v30, (uint64_t *)v46);
    int v39 = v27;
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v4 + 8))(v22, v3);
    *(_WORD *)(v28 + 12) = 2112;
    id v31 = a1;
    uint64_t v32 = _swift_stdlib_bridgeErrorToNSError();
    uint64_t v45 = v32;
    sub_246C2D1C8();
    CGFloat v33 = v41;
    *uint64_t v41 = v32;

    os_log_t v34 = v40;
    _os_log_impl(&dword_246B51000, v40, (os_log_type_t)v39, "failed to create directory %s: %@", (uint8_t *)v28, 0x16u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v33, -1, -1);
    uint64_t v35 = v42;
    swift_arrayDestroy();
    MEMORY[0x24C545990](v35, -1, -1);
    MEMORY[0x24C545990](v28, -1, -1);
  }
  else
  {

    (*(void (**)(char *, uint64_t))(v4 + 8))(v22, v3);
  }
LABEL_9:
  sub_246C2BAF8();

  uint64_t v36 = *(void (**)(char *, uint64_t))(v4 + 8);
  v36(v9, v3);
  return ((uint64_t (*)(char *, uint64_t))v36)(v11, v3);
}

uint64_t sub_246BD404C()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2BB98();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = MEMORY[0x270FA5388](v2);
  uint64_t v5 = MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v51 - v6;
  MEMORY[0x270FA5388](v5);
  uint64_t v9 = (char *)&v51 - v8;
  uint64_t v10 = sub_246C2CC98();
  uint64_t result = MEMORY[0x270FA5388](v10 - 8);
  if (*(unsigned char *)(v1 + 32) == 1)
  {
    uint64_t v58 = v2;
    uint64_t v59 = v3;
    *(unsigned char *)(v1 + 32) = 0;
    sub_246C2B9D8();
    swift_allocObject();
    sub_246C2B9C8();
    swift_beginAccess();
    uint64_t v12 = *(void *)(v1 + 24);
    v61[0] = *(void *)(v1 + 16);
    v61[1] = v12;
    sub_246BD7F7C();
    swift_bridgeObjectRetain();
    uint64_t v13 = sub_246C2B9B8();
    unint64_t v15 = v14;
    swift_release();
    swift_bridgeObjectRelease();
    uint64_t v16 = sub_246BD7E78(v13, v15);
    int v17 = MEMORY[0x24C544DB0](v16);
    unint64_t v57 = v15;
    if (v17)
    {
      unint64_t v18 = v15;
      sub_246C2CC88();
      uint64_t v56 = sub_246C2CC68();
      unint64_t v20 = v19;
      uint64_t v21 = v13;
      if (qword_2691D62F8 != -1) {
        swift_once();
      }
      uint64_t v22 = sub_246C2C088();
      sub_246B8BE0C(v22, (uint64_t)qword_2691E0138);
      swift_bridgeObjectRetain();
      id v23 = sub_246C2C068();
      os_log_type_t v24 = sub_246C2CED8();
      int v25 = v24;
      if (os_log_type_enabled(v23, v24))
      {
        uint64_t v26 = swift_slowAlloc();
        LODWORD(v54) = v25;
        int v27 = (uint8_t *)v26;
        uint64_t v55 = swift_slowAlloc();
        v61[0] = v55;
        uint64_t v28 = v27;
        uint64_t v52 = v27;
        os_log_t v53 = v23;
        *(_DWORD *)int v27 = 136315138;
        uint64_t v29 = v21;
        if (v20) {
          unint64_t v30 = v56;
        }
        else {
          unint64_t v30 = 0xD00000000000001BLL;
        }
        if (v20) {
          unint64_t v31 = v20;
        }
        else {
          unint64_t v31 = 0x8000000246C3E830;
        }
        uint64_t v56 = (uint64_t)(v28 + 4);
        swift_bridgeObjectRetain();
        uint64_t v32 = v30;
        uint64_t v21 = v29;
        uint64_t v60 = sub_246BA686C(v32, v31, v61);
        unint64_t v18 = v57;
        sub_246C2D1C8();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease();
        os_log_t v34 = v52;
        os_log_t v33 = v53;
        _os_log_impl(&dword_246B51000, v53, (os_log_type_t)v54, "jsonString = %s", v52, 0xCu);
        uint64_t v35 = v55;
        swift_arrayDestroy();
        MEMORY[0x24C545990](v35, -1, -1);
        MEMORY[0x24C545990](v34, -1, -1);
      }
      else
      {

        swift_bridgeObjectRelease_n();
      }
    }
    else
    {
      if (qword_2691D62F8 != -1) {
        swift_once();
      }
      uint64_t v36 = sub_246C2C088();
      sub_246B8BE0C(v36, (uint64_t)qword_2691E0138);
      double v37 = sub_246C2C068();
      os_log_type_t v38 = sub_246C2CF08();
      if (os_log_type_enabled(v37, v38))
      {
        int v39 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)int v39 = 0;
        _os_log_impl(&dword_246B51000, v37, v38, "json encoding succeeded", v39, 2u);
        MEMORY[0x24C545990](v39, -1, -1);
      }

      unint64_t v18 = v57;
      uint64_t v21 = v13;
    }
    uint64_t v40 = v58;
    sub_246BD3ABC(v9);
    sub_246C2BBD8();
    uint64_t v58 = v21;
    sub_246BD7F24(v21, v18);
    if (qword_2691D62F8 != -1) {
      swift_once();
    }
    uint64_t v41 = sub_246C2C088();
    sub_246B8BE0C(v41, (uint64_t)qword_2691E0138);
    uint64_t v42 = v59;
    (*(void (**)(char *, char *, uint64_t))(v59 + 16))(v7, v9, v40);
    unint64_t v43 = sub_246C2C068();
    os_log_type_t v44 = sub_246C2CF08();
    if (os_log_type_enabled(v43, v44))
    {
      uint64_t v45 = (uint8_t *)swift_slowAlloc();
      uint64_t v46 = swift_slowAlloc();
      v61[0] = v46;
      *(_DWORD *)uint64_t v45 = 136315138;
      uint64_t v56 = (uint64_t)(v45 + 4);
      uint64_t v47 = sub_246C2BB48();
      uint64_t v60 = sub_246BA686C(v47, v48, v61);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      os_log_type_t v49 = *(void (**)(char *, uint64_t))(v42 + 8);
      v49(v7, v40);
      _os_log_impl(&dword_246B51000, v43, v44, "saved to %s", v45, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v46, -1, -1);
      MEMORY[0x24C545990](v45, -1, -1);
      sub_246BD7F24(v58, v57);

      return ((uint64_t (*)(char *, uint64_t))v49)(v9, v40);
    }
    else
    {
      sub_246BD7F24(v58, v18);

      unint64_t v50 = *(void (**)(char *, uint64_t))(v42 + 8);
      v50(v7, v40);
      return ((uint64_t (*)(char *, uint64_t))v50)(v9, v40);
    }
  }
  return result;
}

uint64_t sub_246BD4B18()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2BB98();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = MEMORY[0x270FA5388](v2);
  uint64_t v5 = MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)v53 - v6;
  uint64_t v8 = MEMORY[0x270FA5388](v5);
  uint64_t v10 = (char *)v53 - v9;
  MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)v53 - v11;
  sub_246BD3ABC((char *)v53 - v11);
  id v13 = objc_msgSend(self, sel_defaultManager);
  sub_246C2BB48();
  unint64_t v14 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  unsigned __int8 v15 = objc_msgSend(v13, sel_fileExistsAtPath_, v14);

  if (v15)
  {
    uint64_t v16 = sub_246C2BBA8();
    unint64_t v28 = v27;
    uint64_t v60 = (char *)v16;
    sub_246BD7E78(v16, v27);
    if (qword_2691D62F8 != -1) {
      swift_once();
    }
    uint64_t v29 = sub_246C2C088();
    uint64_t v30 = sub_246B8BE0C(v29, (uint64_t)qword_2691E0138);
    (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v7, v12, v2);
    uint64_t v58 = v30;
    unint64_t v31 = sub_246C2C068();
    os_log_type_t v32 = sub_246C2CF08();
    BOOL v33 = os_log_type_enabled(v31, v32);
    uint64_t v59 = v3;
    uint64_t v57 = v2;
    if (v33)
    {
      os_log_t v55 = v31;
      uint64_t v34 = swift_slowAlloc();
      unint64_t v56 = v28;
      uint64_t v35 = (uint8_t *)v34;
      uint64_t v54 = swift_slowAlloc();
      v61[0] = v54;
      *(_DWORD *)uint64_t v35 = 136315138;
      v53[1] = v35 + 4;
      uint64_t v36 = sub_246C2BB48();
      uint64_t v62 = sub_246BA686C(v36, v37, v61);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      os_log_type_t v38 = *(void (**)(char *, uint64_t))(v3 + 8);
      v38(v7, v2);
      os_log_t v39 = v55;
      _os_log_impl(&dword_246B51000, v55, v32, "loaded from %s", v35, 0xCu);
      uint64_t v40 = v54;
      swift_arrayDestroy();
      MEMORY[0x24C545990](v40, -1, -1);
      uint64_t v41 = v35;
      unint64_t v28 = v56;
      MEMORY[0x24C545990](v41, -1, -1);
    }
    else
    {
      os_log_type_t v38 = *(void (**)(char *, uint64_t))(v3 + 8);
      v38(v7, v2);
    }
    sub_246C2B9A8();
    swift_allocObject();
    sub_246C2B998();
    sub_246BD7ED0();
    uint64_t v42 = (uint64_t)v60;
    sub_246C2B988();
    unint64_t v43 = v38;
    unint64_t v44 = v28;
    sub_246BD7F24(v42, v28);
    swift_release();
    uint64_t v45 = v61[0];
    uint64_t v46 = v61[1];
    uint64_t v47 = sub_246C2C068();
    uint64_t v48 = sub_246C2CF08();
    BOOL v49 = os_log_type_enabled(v47, (os_log_type_t)v48);
    uint64_t v50 = v57;
    if (v49)
    {
      uint64_t v51 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v51 = 0;
      _os_log_impl(&dword_246B51000, v47, (os_log_type_t)v48, "json decoding succeeded", v51, 2u);
      uint64_t v52 = v51;
      uint64_t v42 = (uint64_t)v60;
      MEMORY[0x24C545990](v52, -1, -1);
    }
    sub_246BD7F24(v42, v44);

    v43(v12, v50);
    swift_beginAccess();
    *(void *)(v1 + 16) = v45;
    *(void *)(v1 + 24) = v46;
    return swift_bridgeObjectRelease();
  }
  else
  {
    if (qword_2691D62F8 != -1) {
      swift_once();
    }
    uint64_t v17 = sub_246C2C088();
    sub_246B8BE0C(v17, (uint64_t)qword_2691E0138);
    (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v10, v12, v2);
    unint64_t v18 = sub_246C2C068();
    os_log_type_t v19 = sub_246C2CED8();
    if (os_log_type_enabled(v18, v19))
    {
      unint64_t v20 = (uint8_t *)swift_slowAlloc();
      uint64_t v21 = swift_slowAlloc();
      *(_DWORD *)unint64_t v20 = 136315138;
      uint64_t v60 = v12;
      v61[0] = v21;
      uint64_t v22 = sub_246C2BB48();
      uint64_t v62 = sub_246BA686C(v22, v23, v61);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      os_log_type_t v24 = *(void (**)(char *, uint64_t))(v3 + 8);
      v24(v10, v2);
      _os_log_impl(&dword_246B51000, v18, v19, "no cache at %s", v20, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v21, -1, -1);
      MEMORY[0x24C545990](v20, -1, -1);

      return ((uint64_t (*)(char *, uint64_t))v24)(v60, v2);
    }
    else
    {

      uint64_t v26 = *(void (**)(char *, uint64_t))(v3 + 8);
      v26(v10, v2);
      return ((uint64_t (*)(char *, uint64_t))v26)(v12, v2);
    }
  }
}

uint64_t sub_246BD5574()
{
  swift_bridgeObjectRelease();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanAssetCompositionCache()
{
  return self;
}

char *sub_246BD55D0(char *a1, uint64_t a2)
{
  *(void *)&v2[OBJC_IVAR___NTKParmesanAssetComposition__cachedAssetCompositionDerived] = 0;
  v2[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutImage] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutImage] = 0;
  v2[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutMask] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutMaskImage] = 0;
  *(void *)&v2[OBJC_IVAR___NTKParmesanAssetComposition_asset] = a1;
  uint64_t v5 = *(void *)&a1[OBJC_IVAR___NTKParmesanAsset_localIdentifier];
  uint64_t v4 = *(void *)&a1[OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8];
  uint64_t v6 = OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout;
  uint64_t v7 = qword_2691D62B8;
  uint64_t v8 = a1;
  swift_bridgeObjectRetain();
  uint64_t v9 = v2;
  if (v7 != -1) {
    swift_once();
  }
  uint64_t v10 = (void *)qword_2691E0068;
  *(void *)&v9[v6] = qword_2691E0068;
  v9[OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutComposite] = 0;
  *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutCompositeImage] = 0;
  v9[OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutAlpha] = 0;
  *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutAlphaImage] = 0;
  uint64_t v11 = &v9[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier];
  void *v11 = v5;
  v11[1] = v4;
  id v12 = v10;

  v17.receiver = v9;
  v17.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryComposition();
  id v13 = (char *)objc_msgSendSuper2(&v17, sel_init);
  id v14 = sub_246BD79D8((uint64_t)v8, a2);
  unsigned __int8 v15 = *(void **)&v13[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
  *(void *)&v13[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout] = v14;

  return v13;
}

void *sub_246BD5774()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
  uint64_t v2 = (uint64_t *)(*(void *)(v0 + OBJC_IVAR___NTKParmesanAssetComposition_asset) + OBJC_IVAR___NTKParmesanAsset_layouts);
  swift_beginAccess();
  uint64_t v3 = *v2;
  id v4 = v1;
  swift_bridgeObjectRetain();
  uint64_t v5 = (char *)sub_246C10B78(v4, v3);

  swift_bridgeObjectRelease();
  if (!v5) {
    return 0;
  }
  uint64_t v6 = *(void **)&v5[OBJC_IVAR___NTKParmesanAssetLayout_mask];
  id v7 = v6;

  return v6;
}

void *sub_246BD5838()
{
  uint64_t v2 = v0;
  uint64_t v3 = OBJC_IVAR___NTKParmesanAssetComposition__cachedAssetCompositionDerived;
  id v4 = *(void **)((char *)v0 + OBJC_IVAR___NTKParmesanAssetComposition__cachedAssetCompositionDerived);
  if (!v4)
  {
    id v9 = sub_246BD5DCC();
    if (!v9)
    {
      id v20 = (id)NTKDefaultMonochromeColorMatrix();
      uint64_t v21 = NTKParmesanAnalyzeImage(0, *MEMORY[0x263F001B0], *(double *)(MEMORY[0x263F001B0] + 8), *MEMORY[0x263F001A8], *(CGFloat *)(MEMORY[0x263F001A8] + 8), *(CGFloat *)(MEMORY[0x263F001A8] + 16), *(CGFloat *)(MEMORY[0x263F001A8] + 24));
      type metadata accessor for ParmesanAssetCompositionDerived();
      id v4 = (void *)swift_allocObject();
      v4[2] = 0;
      long long v4[3] = 0xE000000000000000;
      v4[4] = 0x3FF0000000000000;
      void v4[5] = v20;
      v4[6] = 0;
      v4[7] = v21;
      v4[8] = 0;
LABEL_18:
      *(void *)((char *)v2 + v3) = v4;
      swift_retain();
      swift_release();
      return v4;
    }
    uint64_t v1 = v9;
    if (qword_2691D62E8 == -1)
    {
LABEL_8:
      uint64_t v10 = sub_246C2C088();
      sub_246B8BE0C(v10, (uint64_t)qword_2691E0108);
      uint64_t v11 = v2;
      id v12 = sub_246C2C068();
      os_log_type_t v13 = sub_246C2CEC8();
      if (os_log_type_enabled(v12, v13))
      {
        uint64_t v14 = swift_slowAlloc();
        os_log_type_t v32 = (void *)swift_slowAlloc();
        uint64_t v33 = swift_slowAlloc();
        v35[0] = v33;
        *(_DWORD *)uint64_t v14 = 136315394;
        unsigned __int8 v15 = (uint64_t *)(*(void *)&v11[OBJC_IVAR___NTKParmesanAssetComposition_asset]
                        + OBJC_IVAR___NTKParmesanAsset_localIdentifier);
        uint64_t v16 = v11;
        uint64_t v18 = *v15;
        unint64_t v17 = v15[1];
        swift_bridgeObjectRetain();
        sub_246BA686C(v18, v17, v35);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        *(_WORD *)(v14 + 12) = 2112;
        uint64_t v34 = *(void **)&v16[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
        id v19 = v34;
        uint64_t v11 = v16;
        sub_246C2D1C8();
        void *v32 = v34;

        _os_log_impl(&dword_246B51000, v12, v13, "Loading UUID %s for %@", (uint8_t *)v14, 0x16u);
        sub_246B80250(&qword_2691D6FF0);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v32, -1, -1);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v33, -1, -1);
        MEMORY[0x24C545990](v14, -1, -1);
      }
      else
      {
      }
      if (qword_2691D6330 != -1) {
        swift_once();
      }
      uint64_t v22 = *(void *)&v11[OBJC_IVAR___NTKParmesanAssetComposition_asset];
      unint64_t v23 = *(void **)&v11[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
      os_log_type_t v24 = (uint64_t *)(v22 + OBJC_IVAR___NTKParmesanAsset_layouts);
      swift_beginAccess();
      uint64_t v25 = *v24;
      id v26 = v23;
      swift_bridgeObjectRetain();
      unint64_t v27 = (char *)sub_246C10B78(v26, v25);
      swift_bridgeObjectRelease();
      if (v27)
      {
        unint64_t v28 = *(void **)&v27[OBJC_IVAR___NTKParmesanAssetLayout_mask];
        id v29 = v28;
      }
      else
      {
        unint64_t v28 = 0;
      }
      uint64_t v30 = (void *)sub_246BCD660();
      id v4 = (void *)sub_246BD298C(v22, (char *)v26, (char *)v28, v1, v30);

      goto LABEL_18;
    }
LABEL_21:
    swift_once();
    goto LABEL_8;
  }
  uint64_t v5 = qword_2691D6330;
  swift_retain();
  if (v5 != -1) {
    swift_once();
  }
  uint64_t v2 = off_2691D7D28;
  swift_beginAccess();
  uint64_t v6 = v2[3];
  BOOL v7 = __CFADD__(v6, 1);
  uint64_t v8 = v6 + 1;
  if (v7)
  {
    __break(1u);
    goto LABEL_21;
  }
  v2[3] = v8;
  v4[8] = v8;
  return v4;
}

id sub_246BD5CB8()
{
  id v0 = (id)sub_246BD5838()[5];
  swift_release();
  return v0;
}

id sub_246BD5CF4()
{
  id v0 = (void *)sub_246BD5838()[6];
  id v1 = v0;
  swift_release();
  if (v0) {
    return v1;
  }
  uint64_t v3 = (void *)NTKDefaultMonochromeColorMatrix();

  return v3;
}

double sub_246BD5D64()
{
  double v0 = *((double *)sub_246BD5838() + 4);
  swift_release();
  return v0;
}

id sub_246BD5D90()
{
  id v0 = (id)sub_246BD5838()[7];
  swift_release();
  return v0;
}

id sub_246BD5DCC()
{
  id v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v2 - 8);
  id v4 = (char *)v48 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2BB98();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  id v9 = (char *)v48 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = MEMORY[0x270FA5388](v7);
  id v12 = (char *)v48 - v11;
  MEMORY[0x270FA5388](v10);
  uint64_t v14 = (char *)v48 - v13;
  uint64_t v15 = OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutImage;
  uint64_t v16 = *(void **)&v1[OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutImage];
  id v17 = v16;
  if (!v16)
  {
    if (v1[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutImage]) {
      goto LABEL_18;
    }
    v1[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutImage] = 1;
    uint64_t v18 = *(void **)&v1[OBJC_IVAR___NTKParmesanAssetComposition_asset];
    uint64_t v50 = OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout;
    id v19 = objc_msgSend(v18, sel_imageURLForTimeLayout_, *(void *)&v1[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout]);
    if (v19)
    {
      id v20 = v19;
      sub_246C2BB28();

      uint64_t v21 = v12;
      uint64_t v22 = *(void (**)(char *, char *, uint64_t))(v6 + 32);
      v22(v4, v21, v5);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v6 + 56))(v4, 0, 1, v5);
      uint64_t v49 = v6;
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) != 1)
      {
        v22(v14, v4, v5);
        sub_246C2BB48();
        id v23 = objc_allocWithZone(MEMORY[0x263F827E8]);
        os_log_type_t v24 = (void *)sub_246C2CC08();
        swift_bridgeObjectRelease();
        id v17 = objc_msgSend(v23, sel_initWithContentsOfFile_, v24);

        if (v17)
        {
          uint64_t v25 = *(void **)&v1[v15];
          *(void *)&v1[v15] = v17;
          id v26 = v17;

          (*(void (**)(char *, uint64_t))(v49 + 8))(v14, v5);
          goto LABEL_19;
        }
        uint64_t v36 = v49;
        if (qword_2691D62E8 != -1) {
          swift_once();
        }
        uint64_t v37 = sub_246C2C088();
        sub_246B8BE0C(v37, (uint64_t)qword_2691E0108);
        (*(void (**)(char *, char *, uint64_t))(v36 + 16))(v9, v14, v5);
        os_log_type_t v38 = sub_246C2C068();
        os_log_type_t v39 = sub_246C2CED8();
        if (os_log_type_enabled(v38, v39))
        {
          uint64_t v40 = (uint8_t *)swift_slowAlloc();
          uint64_t v50 = swift_slowAlloc();
          uint64_t v52 = v50;
          *(_DWORD *)uint64_t v40 = 136315138;
          v48[1] = v40 + 4;
          sub_246BD802C(&qword_2691D7050, MEMORY[0x263F06EA8]);
          uint64_t v41 = sub_246C2D528();
          uint64_t v51 = sub_246BA686C(v41, v42, &v52);
          sub_246C2D1C8();
          swift_bridgeObjectRelease();
          unint64_t v43 = *(void (**)(char *, uint64_t))(v36 + 8);
          v43(v9, v5);
          _os_log_impl(&dword_246B51000, v38, v39, "Unable to load image for url: [%s]", v40, 0xCu);
          uint64_t v44 = v50;
          swift_arrayDestroy();
          MEMORY[0x24C545990](v44, -1, -1);
          MEMORY[0x24C545990](v40, -1, -1);

          v43(v14, v5);
        }
        else
        {

          uint64_t v45 = *(void (**)(char *, uint64_t))(v36 + 8);
          v45(v9, v5);
          v45(v14, v5);
        }
LABEL_18:
        id v17 = 0;
        goto LABEL_19;
      }
    }
    else
    {
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v6 + 56))(v4, 1, 1, v5);
    }
    sub_246B8EA34((uint64_t)v4, &qword_2691D7038);
    if (qword_2691D62E8 != -1) {
      swift_once();
    }
    uint64_t v27 = sub_246C2C088();
    sub_246B8BE0C(v27, (uint64_t)qword_2691E0108);
    unint64_t v28 = v1;
    id v29 = sub_246C2C068();
    os_log_type_t v30 = sub_246C2CED8();
    if (os_log_type_enabled(v29, v30))
    {
      uint64_t v31 = swift_slowAlloc();
      os_log_type_t v32 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v31 = 138412546;
      uint64_t v33 = *(void **)&v1[v50];
      uint64_t v52 = (uint64_t)v33;
      id v34 = v33;
      sub_246C2D1C8();
      void *v32 = v33;

      *(_WORD *)(v31 + 12) = 2112;
      uint64_t v52 = (uint64_t)v28;
      uint64_t v35 = v28;
      sub_246C2D1C8();
      v32[1] = v28;

      _os_log_impl(&dword_246B51000, v29, v30, "No imageURL found for timeLayout %@ on asset (%@)", (uint8_t *)v31, 0x16u);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v32, -1, -1);
      MEMORY[0x24C545990](v31, -1, -1);
    }
    else
    {
    }
    goto LABEL_18;
  }
LABEL_19:
  id v46 = v16;
  return v17;
}

id sub_246BD6468()
{
  id v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v2 - 8);
  id v4 = (char *)v48 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2BB98();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  id v9 = (char *)v48 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = MEMORY[0x270FA5388](v7);
  id v12 = (char *)v48 - v11;
  MEMORY[0x270FA5388](v10);
  uint64_t v14 = (char *)v48 - v13;
  uint64_t v15 = OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutMaskImage;
  uint64_t v16 = *(void **)&v1[OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutMaskImage];
  id v17 = v16;
  if (!v16)
  {
    if (v1[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutMask]) {
      goto LABEL_18;
    }
    v1[OBJC_IVAR___NTKParmesanAssetComposition__alreadyLoadedLayoutMask] = 1;
    uint64_t v18 = *(void **)&v1[OBJC_IVAR___NTKParmesanAssetComposition_asset];
    uint64_t v50 = OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout;
    id v19 = objc_msgSend(v18, sel_maskImageURLForTimeLayout_, *(void *)&v1[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout]);
    if (v19)
    {
      id v20 = v19;
      sub_246C2BB28();

      uint64_t v21 = v12;
      uint64_t v22 = *(void (**)(char *, char *, uint64_t))(v6 + 32);
      v22(v4, v21, v5);
      (*(void (**)(char *, void, uint64_t, uint64_t))(v6 + 56))(v4, 0, 1, v5);
      uint64_t v49 = v6;
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) != 1)
      {
        v22(v14, v4, v5);
        sub_246C2BB48();
        id v23 = objc_allocWithZone(MEMORY[0x263F827E8]);
        os_log_type_t v24 = (void *)sub_246C2CC08();
        swift_bridgeObjectRelease();
        id v17 = objc_msgSend(v23, sel_initWithContentsOfFile_, v24);

        if (v17)
        {
          uint64_t v25 = *(void **)&v1[v15];
          *(void *)&v1[v15] = v17;
          id v26 = v17;

          (*(void (**)(char *, uint64_t))(v49 + 8))(v14, v5);
          goto LABEL_19;
        }
        uint64_t v36 = v49;
        if (qword_2691D62E8 != -1) {
          swift_once();
        }
        uint64_t v37 = sub_246C2C088();
        sub_246B8BE0C(v37, (uint64_t)qword_2691E0108);
        (*(void (**)(char *, char *, uint64_t))(v36 + 16))(v9, v14, v5);
        os_log_type_t v38 = sub_246C2C068();
        os_log_type_t v39 = sub_246C2CED8();
        if (os_log_type_enabled(v38, v39))
        {
          uint64_t v40 = (uint8_t *)swift_slowAlloc();
          uint64_t v50 = swift_slowAlloc();
          uint64_t v52 = v50;
          *(_DWORD *)uint64_t v40 = 136315138;
          v48[1] = v40 + 4;
          sub_246BD802C(&qword_2691D7050, MEMORY[0x263F06EA8]);
          uint64_t v41 = sub_246C2D528();
          uint64_t v51 = sub_246BA686C(v41, v42, &v52);
          sub_246C2D1C8();
          swift_bridgeObjectRelease();
          unint64_t v43 = *(void (**)(char *, uint64_t))(v36 + 8);
          v43(v9, v5);
          _os_log_impl(&dword_246B51000, v38, v39, "Unable to load mask image for at url: [%s]", v40, 0xCu);
          uint64_t v44 = v50;
          swift_arrayDestroy();
          MEMORY[0x24C545990](v44, -1, -1);
          MEMORY[0x24C545990](v40, -1, -1);

          v43(v14, v5);
        }
        else
        {

          uint64_t v45 = *(void (**)(char *, uint64_t))(v36 + 8);
          v45(v9, v5);
          v45(v14, v5);
        }
LABEL_18:
        id v17 = 0;
        goto LABEL_19;
      }
    }
    else
    {
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v6 + 56))(v4, 1, 1, v5);
    }
    sub_246B8EA34((uint64_t)v4, &qword_2691D7038);
    if (qword_2691D62E8 != -1) {
      swift_once();
    }
    uint64_t v27 = sub_246C2C088();
    sub_246B8BE0C(v27, (uint64_t)qword_2691E0108);
    unint64_t v28 = v1;
    id v29 = sub_246C2C068();
    os_log_type_t v30 = sub_246C2CED8();
    if (os_log_type_enabled(v29, v30))
    {
      uint64_t v31 = swift_slowAlloc();
      os_log_type_t v32 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v31 = 138412546;
      uint64_t v33 = *(void **)&v1[v50];
      uint64_t v52 = (uint64_t)v33;
      id v34 = v33;
      sub_246C2D1C8();
      void *v32 = v33;

      *(_WORD *)(v31 + 12) = 2112;
      uint64_t v52 = (uint64_t)v28;
      uint64_t v35 = v28;
      sub_246C2D1C8();
      v32[1] = v28;

      _os_log_impl(&dword_246B51000, v29, v30, "No maskImageURL found for timeLayout %@ on asset (%@)", (uint8_t *)v31, 0x16u);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v32, -1, -1);
      MEMORY[0x24C545990](v31, -1, -1);
    }
    else
    {
    }
    goto LABEL_18;
  }
LABEL_19:
  id v46 = v16;
  return v17;
}

uint64_t sub_246BD6B6C()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanAssetComposition_asset);
  uint64_t v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
  uint64_t v3 = (uint64_t *)(v1 + OBJC_IVAR___NTKParmesanAsset_layouts);
  swift_beginAccess();
  uint64_t v4 = *v3;
  id v5 = v2;
  swift_bridgeObjectRetain();
  sub_246C10B78(v5, v4);

  swift_bridgeObjectRelease();
  sub_246B80250(&qword_2691D7DD0);
  return sub_246C2CCA8();
}

uint64_t sub_246BD6C58()
{
  uint64_t v1 = v0;
  sub_246C2D6C8();
  swift_bridgeObjectRetain();
  sub_246C2CCC8();
  swift_bridgeObjectRelease();
  id v2 = *(id *)(v0 + OBJC_IVAR___NTKParmesanAssetComposition_asset);
  sub_246C2D118();

  id v3 = *(id *)(v1 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
  sub_246C2D118();

  return sub_246C2D6A8();
}

BOOL sub_246BD6E1C()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanAssetComposition_asset);
  id v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
  id v3 = (uint64_t *)(v1 + OBJC_IVAR___NTKParmesanAsset_layouts);
  swift_beginAccess();
  uint64_t v4 = *v3;
  id v5 = v2;
  swift_bridgeObjectRetain();
  uint64_t v6 = (char *)sub_246C10B78(v5, v4);

  swift_bridgeObjectRelease();
  if (v6 && (uint64_t v7 = *(void *)&v6[OBJC_IVAR___NTKParmesanAssetLayout_mask], v6, v7)) {
    return *(void *)(v1 + OBJC_IVAR___NTKParmesanAsset_videoInfo) == 0;
  }
  else {
    return 0;
  }
}

uint64_t sub_246BD6EF4()
{
  if (*(void *)(*(void *)&v0[OBJC_IVAR___NTKParmesanAssetComposition_asset] + OBJC_IVAR___NTKParmesanAsset_videoInfo)) {
    char v1 = 2;
  }
  else {
    char v1 = 1;
  }
  BOOL v2 = sub_246BD6E1C();
  type metadata accessor for ParmesanGalleryContentConfiguration();
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = v0;
  *(unsigned char *)(v3 + 24) = v1;
  *(unsigned char *)(v3 + 25) = v2;
  uint64_t v4 = v0;
  return v3;
}

void sub_246BD6F74()
{
  swift_release();
  char v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanAssetComposition__cachedLayoutMaskImage);
}

id sub_246BD6FD4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanAssetComposition();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanAssetComposition()
{
  return self;
}

void *initializeBufferWithCopyOfBuffer for ParmesanAssetCompositionCache.Persist(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  swift_bridgeObjectRetain();
  return a1;
}

void *assignWithCopy for ParmesanAssetCompositionCache.Persist(void *a1, void *a2)
{
  *a1 = *a2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  a1[1] = a2[1];
  return a1;
}

void *assignWithTake for ParmesanAssetCompositionCache.Persist(void *a1, void *a2)
{
  *a1 = *a2;
  swift_bridgeObjectRelease();
  a1[1] = a2[1];
  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanAssetCompositionCache.Persist(uint64_t *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *((unsigned char *)a1 + 16)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  uint64_t v2 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanAssetCompositionCache.Persist(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)uint64_t result = a2 ^ 0x80000000;
    *(void *)(result + 8) = 0;
    if (a3 < 0) {
      *(unsigned char *)(result + 16) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)uint64_t result = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 16) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetCompositionCache.Persist()
{
  return &type metadata for ParmesanAssetCompositionCache.Persist;
}

unint64_t sub_246BD71EC()
{
  unint64_t result = qword_2691D7D68;
  if (!qword_2691D7D68)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7D68);
  }
  return result;
}

uint64_t sub_246BD7240(uint64_t a1, uint64_t a2)
{
  BOOL v2 = a1 == 7955819 && a2 == 0xE300000000000000;
  if (v2 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 0x676E696D6D6964 && a2 == 0xE700000000000000 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else if (a1 == 0xD000000000000015 && a2 == 0x8000000246C3D210 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 2;
  }
  else if (a1 == 0xD000000000000019 && a2 == 0x8000000246C3E690 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 3;
  }
  else if (a1 == 0xD000000000000021 && a2 == 0x8000000246C3E870 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 4;
  }
  else if (a1 == 0xD000000000000016 && a2 == 0x8000000246C3E8A0 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 5;
  }
  else if (a1 == 7697004 && a2 == 0xE300000000000000)
  {
    swift_bridgeObjectRelease();
    return 6;
  }
  else
  {
    char v6 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if (v6) {
      return 6;
    }
    else {
      return 7;
    }
  }
}

unint64_t sub_246BD74E4()
{
  unint64_t result = qword_2691D7D88;
  if (!qword_2691D7D88)
  {
    sub_246B8BEB0(&qword_2691D7D80);
    sub_246BD8074(&qword_2691D7D78);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7D88);
  }
  return result;
}

uint64_t sub_246BD757C(uint64_t a1, uint64_t a2)
{
  BOOL v2 = a1 == 0x6568636163 && a2 == 0xE500000000000000;
  if (v2 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 7697004 && a2 == 0xE300000000000000)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    char v6 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if (v6) {
      return 1;
    }
    else {
      return 2;
    }
  }
}

uint64_t sub_246BD7658(void *a1)
{
  uint64_t v3 = sub_246B80250(&qword_2691D7D90);
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  char v6 = &v9[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246B8F7E8(a1, a1[3]);
  sub_246BD782C();
  sub_246C2D6E8();
  if (v1)
  {
    uint64_t v8 = MEMORY[0x263F8EE80];
    sub_246B8EB94((uint64_t)a1);
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_246B80250(&qword_2691D7DA0);
    v9[7] = 0;
    sub_246BD7880();
    sub_246C2D498();
    uint64_t v8 = v10;
    v9[6] = 1;
    sub_246C2D488();
    (*(void (**)(unsigned char *, uint64_t))(v4 + 8))(v6, v3);
    sub_246B8EB94((uint64_t)a1);
  }
  return v8;
}

unint64_t sub_246BD782C()
{
  unint64_t result = qword_2691D7D98;
  if (!qword_2691D7D98)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7D98);
  }
  return result;
}

unint64_t sub_246BD7880()
{
  unint64_t result = qword_2691D7DA8;
  if (!qword_2691D7DA8)
  {
    sub_246B8BEB0(&qword_2691D7DA0);
    sub_246BD802C(&qword_2691D7DB0, (void (*)(uint64_t))type metadata accessor for ParmesanAssetCompositionDerived);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7DA8);
  }
  return result;
}

unint64_t sub_246BD792C()
{
  unint64_t result = qword_2691D7DC0;
  if (!qword_2691D7DC0)
  {
    sub_246B8BEB0(&qword_2691D7DA0);
    sub_246BD802C(&qword_2691D7DC8, (void (*)(uint64_t))type metadata accessor for ParmesanAssetCompositionDerived);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7DC0);
  }
  return result;
}

id sub_246BD79D8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246C2C088();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a2)
  {
    uint64_t v8 = (char *)sub_246BE86A4(a2);
    uint64_t v9 = *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_scale];

    swift_beginAccess();
    unint64_t v10 = swift_bridgeObjectRetain();
    sub_246BD186C(v10, v9);
    uint64_t v12 = v11;
    swift_bridgeObjectRelease();
    if (v12) {
      return (id)v12;
    }
    if (qword_2691D62E8 != -1) {
      swift_once();
    }
    uint64_t v14 = sub_246B8BE0C(v4, (uint64_t)qword_2691E0108);
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 16))(v7, v14, v4);
    uint64_t v15 = sub_246C2C068();
    os_log_type_t v16 = sub_246C2CEE8();
    if (os_log_type_enabled(v15, v16))
    {
      uint64_t v17 = swift_slowAlloc();
      uint64_t v25 = swift_slowAlloc();
      v27[0] = v25;
      *(_DWORD *)uint64_t v17 = 136315394;
      uint64_t v26 = sub_246BA686C(0xD00000000000001CLL, 0x8000000246C3E810, v27);
      sub_246C2D1C8();
      *(_WORD *)(v17 + 12) = 2080;
      uint64_t v18 = (char *)sub_246BE86A4(a2);
      uint64_t v19 = *(void *)&v18[OBJC_IVAR___NTKParmesanTimeLayout_scale];

      unint64_t v20 = 0xE600000000000000;
      uint64_t v21 = 0x6C6C616D7378;
      switch(v19)
      {
        case 0:
          break;
        case 1:
          unint64_t v20 = 0xE500000000000000;
          uint64_t v21 = 0x6C6C616D73;
          break;
        case 2:
          uint64_t v21 = 0x6D756964656DLL;
          break;
        case 3:
          unint64_t v20 = 0xE500000000000000;
          uint64_t v21 = 0x656772616CLL;
          break;
        default:
          uint64_t v26 = v19;
          sub_246C2D5A8();
          __break(1u);
          JUMPOUT(0x246BD7D9CLL);
      }
      uint64_t v26 = sub_246BA686C(v21, v20, v27);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v15, v16, "%s failed to find a layout for scale [%s] on asset; fallback to preferredTimeLayout",
        (uint8_t *)v17,
        0x16u);
      uint64_t v22 = v25;
      swift_arrayDestroy();
      MEMORY[0x24C545990](v22, -1, -1);
      MEMORY[0x24C545990](v17, -1, -1);
    }

    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  }
  id v23 = *(void **)(a1 + OBJC_IVAR___NTKParmesanAsset_preferredTimeLayout);

  return v23;
}

BOOL sub_246BD7DAC(uint64_t a1, uint64_t a2)
{
  BOOL v4 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier) == *(void *)(a2
                                                                                                + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier)
    && *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8) == *(void *)(a2 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8);
  if (v4 || (char v5 = sub_246C2D578(), result = 0, (v5 & 1) != 0))
  {
    if ((sub_246C17DD4(*(void *)(a1 + OBJC_IVAR___NTKParmesanAssetComposition_asset), *(void *)(a2 + OBJC_IVAR___NTKParmesanAssetComposition_asset)) & 1) != 0&& (uint64_t v7 = *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout), v8 = *(void *)(a2 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout), *(void *)(v7 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) == *(void *)(v8+ OBJC_IVAR___NTKParmesanTimeLayout_alignment)))
    {
      return *(void *)(v7 + OBJC_IVAR___NTKParmesanTimeLayout_scale) == *(void *)(v8
                                                                                    + OBJC_IVAR___NTKParmesanTimeLayout_scale);
    }
    else
    {
      return 0;
    }
  }
  return result;
}

uint64_t sub_246BD7E78(uint64_t a1, unint64_t a2)
{
  if (a2 >> 62 != 1)
  {
    if (a2 >> 62 != 2) {
      return result;
    }
    swift_retain();
  }

  return swift_retain();
}

unint64_t sub_246BD7ED0()
{
  unint64_t result = qword_2691D7DD8;
  if (!qword_2691D7DD8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7DD8);
  }
  return result;
}

uint64_t sub_246BD7F24(uint64_t a1, unint64_t a2)
{
  if (a2 >> 62 != 1)
  {
    if (a2 >> 62 != 2) {
      return result;
    }
    swift_release();
  }

  return swift_release();
}

unint64_t sub_246BD7F7C()
{
  unint64_t result = qword_2691D7DE0;
  if (!qword_2691D7DE0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7DE0);
  }
  return result;
}

unint64_t sub_246BD7FD0()
{
  unint64_t result = qword_2691D6930;
  if (!qword_2691D6930)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D6930);
  }
  return result;
}

uint64_t sub_246BD8014(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BD8024()
{
  return swift_release();
}

uint64_t sub_246BD802C(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246BD8074(unint64_t *a1)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_246B8BEB0(&qword_2691D7D70);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_246BD80D8()
{
  unint64_t result = qword_2691D7DF8;
  if (!qword_2691D7DF8)
  {
    sub_246B8BEB0(&qword_2691D7D80);
    sub_246BD8074(&qword_2691D7DF0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7DF8);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanAssetCompositionCache.Persist.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BD823CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetCompositionCache.Persist.CodingKeys()
{
  return &type metadata for ParmesanAssetCompositionCache.Persist.CodingKeys;
}

uint64_t getEnumTagSinglePayload for ParmesanAssetCompositionDerived.CodingKeys(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFA) {
    goto LABEL_17;
  }
  if (a2 + 6 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 6) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 6;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 6;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 6;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 7;
  int v8 = v6 - 7;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for ParmesanAssetCompositionDerived.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 6 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 6) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFA) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF9)
  {
    unsigned int v6 = ((a2 - 250) >> 8) + 1;
    *unint64_t result = a2 + 6;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BD83D0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 6;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetCompositionDerived.CodingKeys()
{
  return &type metadata for ParmesanAssetCompositionDerived.CodingKeys;
}

unint64_t sub_246BD840C()
{
  unint64_t result = qword_2691D7E00;
  if (!qword_2691D7E00)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E00);
  }
  return result;
}

unint64_t sub_246BD8464()
{
  unint64_t result = qword_2691D7E08;
  if (!qword_2691D7E08)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E08);
  }
  return result;
}

unint64_t sub_246BD84BC()
{
  unint64_t result = qword_2691D7E10;
  if (!qword_2691D7E10)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E10);
  }
  return result;
}

unint64_t sub_246BD8514()
{
  unint64_t result = qword_2691D7E18;
  if (!qword_2691D7E18)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E18);
  }
  return result;
}

unint64_t sub_246BD856C()
{
  unint64_t result = qword_2691D7E20;
  if (!qword_2691D7E20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E20);
  }
  return result;
}

unint64_t sub_246BD85C4()
{
  unint64_t result = qword_2691D7E28;
  if (!qword_2691D7E28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E28);
  }
  return result;
}

void *sub_246BD861C()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask);
  id v2 = v1;
  return v1;
}

id sub_246BD864C()
{
  uint64_t v1 = v0;
  uint64_t v2 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutImage;
  int v3 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutImage];
  id v4 = v3;
  if (!v3)
  {
    sub_246C2BB48();
    id v5 = objc_allocWithZone(MEMORY[0x263F827E8]);
    unsigned int v6 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v4 = objc_msgSend(v5, sel_initWithContentsOfFile_, v6);

    if (v4)
    {
      BOOL v7 = *(void **)&v1[v2];
      *(void *)&v1[v2] = v4;
      id v8 = v4;
    }
    else
    {
      if (qword_2691D62E8 != -1) {
        swift_once();
      }
      uint64_t v9 = sub_246C2C088();
      sub_246B8BE0C(v9, (uint64_t)qword_2691E0108);
      unint64_t v10 = v1;
      uint64_t v11 = sub_246C2C068();
      os_log_type_t v12 = sub_246C2CED8();
      if (os_log_type_enabled(v11, v12))
      {
        uint64_t v13 = swift_slowAlloc();
        uint64_t v20 = swift_slowAlloc();
        uint64_t v21 = v20;
        *(_DWORD *)uint64_t v13 = 136315394;
        uint64_t v14 = *(void *)&v10[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier];
        unint64_t v15 = *(void *)&v10[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8];
        swift_bridgeObjectRetain();
        sub_246BA686C(v14, v15, &v21);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        *(_WORD *)(v13 + 12) = 2080;
        sub_246C2BB98();
        sub_246BD9DF0(&qword_2691D7050);
        uint64_t v16 = sub_246C2D528();
        sub_246BA686C(v16, v17, &v21);
        sub_246C2D1C8();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_246B51000, v11, v12, "Unable to load image for for placeholder asset [%s] at url [%s]", (uint8_t *)v13, 0x16u);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v20, -1, -1);
        MEMORY[0x24C545990](v13, -1, -1);
      }
      else
      {
      }
      id v4 = 0;
    }
  }
  id v18 = v3;
  return v4;
}

NTKParmesanImageAnalysis *sub_246BD8918()
{
  uint64_t v1 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__cachedImageAnalysis;
  uint64_t v2 = *(NTKParmesanImageAnalysis **)(v0
                                    + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__cachedImageAnalysis);
  int v3 = v2;
  if (v2) {
    goto LABEL_7;
  }
  id v4 = self;
  id v5 = objc_msgSend(v4, sel_currentDevice);
  if (v5)
  {
    unsigned int v6 = v5;
    objc_msgSend(v5, sel_screenBounds);
    double v8 = v7;
    double v10 = v9;
    objc_msgSend(v6, sel_screenScale);
    double v12 = v11;

    double v13 = v8 * v12;
    double v14 = v10 * v12;
  }
  else
  {
    double v14 = 0.0;
    double v13 = 0.0;
  }
  unint64_t v15 = *(char **)(v0 + OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout);
  unint64_t v16 = *(void *)&v15[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
  unint64_t v17 = *(void *)&v15[OBJC_IVAR___NTKParmesanTimeLayout_scale];
  id v18 = v15;
  double v19 = sub_246BB2CD4(v16, v17);
  double v21 = v20;
  double v23 = v22;
  double v25 = v24;
  unint64_t result = (NTKParmesanImageAnalysis *)objc_msgSend(v4, sel_currentDevice);
  if (result)
  {
    uint64_t v27 = result;
    [(NTKParmesanImageAnalysis *)result screenBounds];
    double v29 = v28;
    double v31 = v30;

    CGAffineTransformMakeScale(&v40, v13, v14);
    v41.origin.CGFloat x = v19 / v29;
    v41.origin.CGFloat y = v21 / v31;
    v41.size.CGFloat width = v23 / v29;
    v41.size.CGFloat height = v25 / v31;
    CGRect v42 = CGRectApplyAffineTransform(v41, &v40);
    CGFloat x = v42.origin.x;
    CGFloat y = v42.origin.y;
    CGFloat width = v42.size.width;
    CGFloat height = v42.size.height;
    id v36 = sub_246BD864C();
    int v3 = NTKParmesanAnalyzeImage(v36, v13, v14, x, y, width, height);

    uint64_t v37 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v3;
    os_log_type_t v38 = v3;

LABEL_7:
    os_log_type_t v39 = v2;
    return v3;
  }
  __break(1u);
  return result;
}

id sub_246BD8B30()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v2 - 8);
  id v4 = (char *)&v44 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2BB98();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = MEMORY[0x270FA5388](v5);
  double v9 = (char *)&v44 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v7);
  double v11 = (char *)&v44 - v10;
  uint64_t v12 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMaskImage;
  double v13 = *(void **)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMaskImage];
  id v14 = v13;
  if (!v13)
  {
    sub_246BB75D0((uint64_t)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL], (uint64_t)v4, &qword_2691D7038);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) == 1)
    {
      sub_246B8EA34((uint64_t)v4, &qword_2691D7038);
      if (qword_2691D62E8 != -1) {
        swift_once();
      }
      uint64_t v15 = sub_246C2C088();
      sub_246B8BE0C(v15, (uint64_t)qword_2691E0108);
      unint64_t v16 = v1;
      unint64_t v17 = sub_246C2C068();
      os_log_type_t v18 = sub_246C2CED8();
      if (os_log_type_enabled(v17, v18))
      {
        double v19 = (uint8_t *)swift_slowAlloc();
        uint64_t v20 = swift_slowAlloc();
        uint64_t v49 = v20;
        *(_DWORD *)double v19 = 136315138;
        uint64_t v21 = *(void *)&v16[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier];
        unint64_t v22 = *(void *)&v16[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8];
        swift_bridgeObjectRetain();
        uint64_t v48 = sub_246BA686C(v21, v22, &v49);
        sub_246C2D1C8();

        swift_bridgeObjectRelease();
        _os_log_impl(&dword_246B51000, v17, v18, "No layoutMaskImageURL found for placeholder asset [%s]", v19, 0xCu);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v20, -1, -1);
        MEMORY[0x24C545990](v19, -1, -1);
      }
      else
      {
      }
LABEL_15:
      id v14 = 0;
      goto LABEL_16;
    }
    (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v11, v4, v5);
    sub_246C2BB48();
    id v23 = objc_allocWithZone(MEMORY[0x263F827E8]);
    double v24 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    id v14 = objc_msgSend(v23, sel_initWithContentsOfFile_, v24);

    if (!v14)
    {
      if (qword_2691D62E8 != -1) {
        swift_once();
      }
      uint64_t v27 = sub_246C2C088();
      sub_246B8BE0C(v27, (uint64_t)qword_2691E0108);
      (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v9, v11, v5);
      double v28 = v1;
      double v29 = sub_246C2C068();
      os_log_type_t v30 = sub_246C2CED8();
      int v31 = v30;
      if (os_log_type_enabled(v29, v30))
      {
        uint64_t v32 = swift_slowAlloc();
        int v46 = v31;
        uint64_t v33 = v32;
        uint64_t v47 = swift_slowAlloc();
        uint64_t v49 = v47;
        *(_DWORD *)uint64_t v33 = 136315394;
        os_log_t v45 = v29;
        uint64_t v34 = *(void *)&v28[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier];
        unint64_t v35 = *(void *)&v28[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8];
        swift_bridgeObjectRetain();
        uint64_t v48 = sub_246BA686C(v34, v35, &v49);
        sub_246C2D1C8();

        swift_bridgeObjectRelease();
        *(_WORD *)(v33 + 12) = 2080;
        sub_246BD9DF0(&qword_2691D7050);
        uint64_t v36 = sub_246C2D528();
        uint64_t v48 = sub_246BA686C(v36, v37, &v49);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        os_log_type_t v38 = *(void (**)(char *, uint64_t))(v6 + 8);
        v38(v9, v5);
        os_log_t v39 = v45;
        _os_log_impl(&dword_246B51000, v45, (os_log_type_t)v46, "Unable to load mask image for placeholder asset [%s] at url [%s]", (uint8_t *)v33, 0x16u);
        uint64_t v40 = v47;
        swift_arrayDestroy();
        MEMORY[0x24C545990](v40, -1, -1);
        MEMORY[0x24C545990](v33, -1, -1);

        v38(v11, v5);
      }
      else
      {

        CGRect v41 = *(void (**)(char *, uint64_t))(v6 + 8);
        v41(v9, v5);

        v41(v11, v5);
      }
      goto LABEL_15;
    }
    double v25 = *(void **)&v1[v12];
    *(void *)&v1[v12] = v14;
    id v26 = v14;

    (*(void (**)(char *, uint64_t))(v6 + 8))(v11, v5);
  }
LABEL_16:
  id v42 = v13;
  return v14;
}

uint64_t sub_246BD9164()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246C2BB98();
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  uint64_t v5 = &v12[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v6 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v6 - 8);
  uint64_t v8 = &v12[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246C2D6C8();
  swift_bridgeObjectRetain();
  sub_246C2CCC8();
  swift_bridgeObjectRelease();
  sub_246BD9DF0(&qword_2691D7E78);
  sub_246C2CBC8();
  double v9 = *(void **)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask);
  sub_246C2D688();
  if (v9)
  {
    id v10 = v9;
    sub_246C2D118();
  }
  sub_246BB75D0(v1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL, (uint64_t)v8, &qword_2691D7038);
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v3 + 48))(v8, 1, v2) == 1)
  {
    sub_246C2D688();
  }
  else
  {
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v3 + 32))(v5, v8, v2);
    sub_246C2D688();
    sub_246C2CBC8();
    (*(void (**)(unsigned char *, uint64_t))(v3 + 8))(v5, v2);
  }
  long long v19 = v14;
  long long v20 = v15;
  uint64_t v21 = v16;
  long long v17 = *(_OWORD *)&v12[8];
  long long v18 = v13;
  return sub_246C2D6A8();
}

void sub_246BD94EC()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutImageURL;
  uint64_t v2 = sub_246C2BB98();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);
  sub_246B8EA34(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL, &qword_2691D7038);

  objc_release(*(id *)(v0
                     + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__cachedImageAnalysis));
  uint64_t v3 = *(void **)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMaskImage);
}

id sub_246BD95B0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanPlaceholderComposition();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246BD96B0()
{
  return type metadata accessor for ParmesanPlaceholderComposition();
}

uint64_t type metadata accessor for ParmesanPlaceholderComposition()
{
  uint64_t result = qword_2691D7E60;
  if (!qword_2691D7E60) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_246BD9704()
{
  sub_246C2BB98();
  if (v0 <= 0x3F)
  {
    sub_246BD97E0();
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

void sub_246BD97E0()
{
  if (!qword_2691D7E70)
  {
    sub_246C2BB98();
    unint64_t v0 = sub_246C2D1A8();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_2691D7E70);
    }
  }
}

char *sub_246BD9838(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask] = 0;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutImage] = 0;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__cachedImageAnalysis] = 0;
  *(void *)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMaskImage] = 0;
  uint64_t v12 = &v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutImageURL];
  uint64_t v13 = sub_246C2BB98();
  uint64_t v14 = *(void *)(v13 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v12, a3, v13);
  long long v15 = *(void **)&v6[v11];
  *(void *)&v6[v11] = a4;
  uint64_t v16 = v6;
  id v17 = a4;

  sub_246BB75D0(a5, (uint64_t)&v16[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL], &qword_2691D7038);
  uint64_t v18 = OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout;
  uint64_t v19 = qword_2691D62B8;
  long long v20 = v16;
  if (v19 != -1) {
    swift_once();
  }
  uint64_t v21 = (void *)qword_2691E0068;
  *(void *)&v20[v18] = qword_2691E0068;
  v20[OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutComposite] = 0;
  *(void *)&v20[OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutCompositeImage] = 0;
  v20[OBJC_IVAR___NTKParmesanGalleryComposition__alreadyLoadedLayoutAlpha] = 0;
  *(void *)&v20[OBJC_IVAR___NTKParmesanGalleryComposition__cachedLayoutAlphaImage] = 0;
  unint64_t v22 = &v20[OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier];
  *(void *)unint64_t v22 = a1;
  *((void *)v22 + 1) = a2;
  id v23 = v21;

  v29.receiver = v20;
  v29.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryComposition();
  double v24 = (char *)objc_msgSendSuper2(&v29, sel_init);
  double v25 = *(void **)&v24[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout];
  *(void *)&v24[OBJC_IVAR___NTKParmesanGalleryComposition_timeLayout] = a6;

  sub_246B8EA34(a5, &qword_2691D7038);
  (*(void (**)(uint64_t, uint64_t))(v14 + 8))(a3, v13);
  return v24;
}

uint64_t sub_246BD9A5C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246C2BB98();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v8 - 8);
  id v10 = (char *)&v26 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246B80250(&qword_2691D75C0);
  MEMORY[0x270FA5388](v11);
  uint64_t v13 = (char *)&v26 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier) != *(void *)(a2
                                                                                                + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier)
    || *(void *)(a1 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8) != *(void *)(a2 + OBJC_IVAR___NTKParmesanGalleryComposition_localIdentifier + 8))
  {
    char v15 = 0;
    if ((sub_246C2D578() & 1) == 0) {
      return v15 & 1;
    }
  }
  if ((MEMORY[0x24C542BC0](a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutImageURL, a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutImageURL) & 1) == 0)goto LABEL_13; {
  uint64_t v16 = a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL;
  }
  uint64_t v17 = (uint64_t)&v13[*(int *)(v11 + 48)];
  sub_246BB75D0(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition_layoutMaskImageURL, (uint64_t)v13, &qword_2691D7038);
  sub_246BB75D0(v16, v17, &qword_2691D7038);
  uint64_t v18 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48);
  if (v18((uint64_t)v13, 1, v4) != 1)
  {
    sub_246BB75D0((uint64_t)v13, (uint64_t)v10, &qword_2691D7038);
    if (v18(v17, 1, v4) == 1)
    {
      (*(void (**)(char *, uint64_t))(v5 + 8))(v10, v4);
      goto LABEL_12;
    }
    (*(void (**)(char *, uint64_t, uint64_t))(v5 + 32))(v7, v17, v4);
    sub_246BD9DF0((unint64_t *)&qword_2691D75D0);
    char v20 = sub_246C2CBF8();
    uint64_t v21 = *(void (**)(char *, uint64_t))(v5 + 8);
    v21(v7, v4);
    v21(v10, v4);
    sub_246B8EA34((uint64_t)v13, &qword_2691D7038);
    if (v20) {
      goto LABEL_16;
    }
LABEL_13:
    char v15 = 0;
    return v15 & 1;
  }
  if (v18(v17, 1, v4) != 1)
  {
LABEL_12:
    sub_246B8EA34((uint64_t)v13, &qword_2691D75C0);
    goto LABEL_13;
  }
  sub_246B8EA34((uint64_t)v13, &qword_2691D7038);
LABEL_16:
  unint64_t v22 = *(void *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask);
  unint64_t v23 = *(void *)(a2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion30ParmesanPlaceholderComposition__layoutMask);
  char v15 = (v22 | v23) == 0;
  if (v22 && v23)
  {
    type metadata accessor for ParmesanAssetMask();
    id v24 = (id)v23;
    id v25 = (id)v22;
    char v15 = sub_246C2D108();
  }
  return v15 & 1;
}

uint64_t sub_246BD9DF0(unint64_t *a1)
{
  uint64_t result = *a1;
  if (!result)
  {
    sub_246C2BB98();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_246BD9F40()
{
  objc_release(*(id *)(v0
                     + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView));
  uint64_t v1 = *(void **)(v0
                + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView);
}

id sub_246BD9F80()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryTransitionContainerView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryTransitionContainerView()
{
  return self;
}

void sub_246BDA024()
{
  uint64_t v1 = v0;
  objc_super v2 = *(void **)(v0 + 16);
  if (v2)
  {
    id v3 = v2;
    sub_246C2D118();
  }
  uint64_t v4 = *(void **)(v1 + 24);
  if (v4)
  {
    sub_246C2D688();
    id v5 = v4;
    sub_246C2D118();
  }
  else
  {
    sub_246C2D688();
  }
}

uint64_t sub_246BDA0D4()
{
  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ParmesanTimeEffect()
{
  return self;
}

uint64_t sub_246BDA138()
{
  uint64_t v1 = v0;
  sub_246C2D668();
  objc_super v2 = *(void **)(v0 + 16);
  if (v2)
  {
    id v3 = v2;
    sub_246C2D118();
  }
  uint64_t v4 = *(void **)(v1 + 24);
  sub_246C2D688();
  if (v4)
  {
    id v5 = v4;
    sub_246C2D118();
  }
  return sub_246C2D6B8();
}

unint64_t sub_246BDA1CC()
{
  unint64_t result = qword_2691D7E90;
  if (!qword_2691D7E90)
  {
    type metadata accessor for ParmesanTimeEffect();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7E90);
  }
  return result;
}

BOOL sub_246BDA220(uint64_t *a1, uint64_t *a2)
{
  return sub_246BDA2B4(*a1, *a2);
}

uint64_t sub_246BDA22C()
{
  return sub_246BDA138();
}

void sub_246BDA250()
{
}

uint64_t sub_246BDA274()
{
  return sub_246C2D6B8();
}

BOOL sub_246BDA2B4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void **)(a1 + 16);
  id v5 = *(void **)(a2 + 16);
  if (!v4)
  {
    if (!v5) {
      goto LABEL_4;
    }
    return 0;
  }
  if (!v5) {
    return 0;
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6B30);
  id v6 = v4;
  id v7 = v5;
  char v8 = sub_246C2D108();

  if ((v8 & 1) == 0) {
    return 0;
  }
LABEL_4:
  unint64_t v9 = *(void *)(a1 + 24);
  unint64_t v10 = *(void *)(a2 + 24);
  BOOL result = (v9 | v10) == 0;
  if (v9) {
    BOOL v12 = v10 == 0;
  }
  else {
    BOOL v12 = 1;
  }
  if (!v12)
  {
    sub_246B8F1E0(0, &qword_2691D7E98);
    id v13 = (id)v10;
    id v14 = (id)v9;
    char v15 = sub_246C2D108();

    return v15 & 1;
  }
  return result;
}

uint64_t sub_246BDA3F0()
{
  return 0;
}

uint64_t sub_246BDA3FC@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = swift_bridgeObjectRelease();
  *a1 = 1;
  return result;
}

void sub_246BDA42C(unsigned char *a1@<X8>)
{
  *a1 = 1;
}

uint64_t sub_246BDA438(uint64_t a1)
{
  unint64_t v2 = sub_246BDA684();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BDA474(uint64_t a1)
{
  unint64_t v2 = sub_246BDA684();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BDA4B0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanColorAnalysis();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanColorAnalysis()
{
  return self;
}

uint64_t sub_246BDA508@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  uint64_t v4 = (objc_class *)type metadata accessor for ParmesanColorAnalysis();
  v7.receiver = objc_allocWithZone(v4);
  v7.uint64_t super_class = v4;
  id v5 = objc_msgSendSuper2(&v7, sel_init);
  uint64_t result = sub_246B8EB94(a1);
  *a2 = v5;
  return result;
}

uint64_t sub_246BDA574(void *a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D7EA0);
  uint64_t v3 = *(void *)(v2 - 8);
  MEMORY[0x270FA5388](v2);
  id v5 = (char *)&v7 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BDA684();
  sub_246C2D708();
  return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v5, v2);
}

unint64_t sub_246BDA684()
{
  unint64_t result = qword_2691D7EA8;
  if (!qword_2691D7EA8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7EA8);
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanColorAnalysis.CodingKeys()
{
  return &type metadata for ParmesanColorAnalysis.CodingKeys;
}

unint64_t sub_246BDA6EC()
{
  unint64_t result = qword_2691D7EB0;
  if (!qword_2691D7EB0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7EB0);
  }
  return result;
}

unint64_t sub_246BDA744()
{
  unint64_t result = qword_2691D7EB8;
  if (!qword_2691D7EB8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7EB8);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for PausedState(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BDA864);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for PausedState()
{
  return &type metadata for PausedState;
}

uint64_t sub_246BDA89C()
{
  if (*v0) {
    return 0x646573756170;
  }
  else {
    return 0x676E6979616C70;
  }
}

unint64_t sub_246BDA8D8()
{
  unint64_t result = qword_2691D7EC0;
  if (!qword_2691D7EC0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7EC0);
  }
  return result;
}

id sub_246BDA92C()
{
  id v0 = objc_allocWithZone(MEMORY[0x263F15808]);
  LODWORD(v1) = 1058810102;
  LODWORD(v2) = 1063339950;
  LODWORD(v3) = 1.0;
  LODWORD(v4) = 1.0;
  id result = objc_msgSend(v0, sel_initWithControlPoints__::, v1, v3, v2, v4);
  qword_2691E01E0 = (uint64_t)result;
  return result;
}

id sub_246BDA980()
{
  id v0 = objc_allocWithZone(MEMORY[0x263F15808]);
  LODWORD(v1) = 1038174126;
  LODWORD(v2) = 0.5;
  id result = objc_msgSend(v0, sel_initWithControlPoints__::, v1, 0.0, v2, 0.0);
  qword_2691E01E8 = (uint64_t)result;
  return result;
}

id sub_246BDAA94(uint64_t a1)
{
  return sub_246BDEE74(a1, type metadata accessor for ParmesanDebugFlowController);
}

uint64_t type metadata accessor for ParmesanDebugFlowController()
{
  return self;
}

uint64_t sub_246BDAAD0(char *a1, unsigned __int8 *a2)
{
  return sub_246BBB138(*a1, *a2);
}

uint64_t sub_246BDAADC()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BDAB84()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BDAC18()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BDACBC@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BDF348();
  *a1 = result;
  return result;
}

void sub_246BDACEC(uint64_t *a1@<X8>)
{
  int v2 = *v1;
  unint64_t v3 = 0xE900000000000072;
  uint64_t v4 = 0x6563614673696874;
  if (v2 != 1) {
    uint64_t v4 = 0x73656361466C6C61;
  }
  BOOL v5 = v2 == 0;
  if (*v1) {
    uint64_t v6 = v4;
  }
  else {
    uint64_t v6 = 0x61646152656C6966;
  }
  if (!v5) {
    unint64_t v3 = 0xE800000000000000;
  }
  *a1 = v6;
  a1[1] = v3;
}

uint64_t sub_246BDAD50(unsigned __int8 *a1, char *a2)
{
  return sub_246BBB664(*a1, *a2);
}

uint64_t sub_246BDAD5C()
{
  return sub_246BBC178();
}

uint64_t sub_246BDAD68()
{
  return sub_246BBC004();
}

uint64_t sub_246BDAD70()
{
  return sub_246BBC178();
}

uint64_t sub_246BDAD78@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BDF394();
  *a1 = result;
  return result;
}

void sub_246BDADA8(uint64_t a1@<X8>)
{
  unint64_t v2 = 0xE900000000000072;
  uint64_t v3 = 0x61646152656C6966;
  switch(*v1)
  {
    case 1:
      unint64_t v2 = 0xEA00000000007265;
      uint64_t v3 = 0x696669746E656469;
      goto LABEL_3;
    case 2:
      *(void *)a1 = 0x726F746365726964;
      *(void *)(a1 + 8) = 0xEF736F746F685079;
      return;
    case 3:
      strcpy((char *)a1, "databasePhotos");
      *(unsigned char *)(a1 + 15) = -18;
      return;
    case 4:
      *(void *)a1 = 0x66667568536C6C61;
      *(void *)(a1 + 8) = 0xEB0000000073656CLL;
      return;
    case 5:
      unint64_t v4 = 0xEE00736E6F697463;
      uint64_t v5 = 0x6C6F436C6C61;
      goto LABEL_9;
    case 6:
      unint64_t v4 = 0xEC00000073656972;
      uint64_t v5 = 0x6C61476C6C61;
LABEL_9:
      *(void *)a1 = v5 & 0xFFFFFFFFFFFFLL | 0x656C000000000000;
      *(void *)(a1 + 8) = v4;
      break;
    case 7:
      *(void *)a1 = 0x73657461647075;
      *(void *)(a1 + 8) = 0xE700000000000000;
      break;
    default:
LABEL_3:
      *(void *)a1 = v3;
      *(void *)(a1 + 8) = v2;
      break;
  }
}

id sub_246BDAEF8()
{
  uint64_t v1 = qword_2691D7EF0;
  unint64_t v2 = *(void **)(v0 + qword_2691D7EF0);
  id v3 = v2;
  if (v2 == (void *)1)
  {
    id v4 = objc_msgSend(*(id *)(v0 + qword_2691D7EC8), sel_resourceDirectory);
    if (v4)
    {
      sub_246C2CC48();

      id v4 = (id)sub_246C2CC08();
      swift_bridgeObjectRelease();
    }
    id v3 = objc_msgSend(self, sel_readerForResourceDirectory_, v4);

    uint64_t v5 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v3;
    id v6 = v3;
    sub_246BDF3E0(v5);
  }
  sub_246BE0640(v2);
  return v3;
}

id sub_246BDAFDC()
{
  uint64_t v1 = MEMORY[0x263F8EE78];
  *(void *)&v0[qword_2691D7ED0] = MEMORY[0x263F8EE78];
  *(void *)&v0[qword_2691D7ED8] = v1;
  *(void *)&v0[qword_2691D7EE0] = v1;
  *(void *)&v0[qword_2691D7EE8] = v1;
  *(void *)&v0[qword_2691D7EF0] = 1;
  self;
  uint64_t v2 = swift_dynamicCastObjCClass();
  if (v2)
  {
    *(void *)&v0[qword_2691D7EC8] = v2;
    v4.receiver = v0;
    v4.uint64_t super_class = (Class)type metadata accessor for ParmesanDebugViewController();
    return objc_msgSendSuper2(&v4, sel_initWithNibName_bundle_, 0, 0);
  }
  else
  {
    id result = (id)sub_246C2D3A8();
    __break(1u);
  }
  return result;
}

id sub_246BDB0E4(uint64_t a1, uint64_t a2, void *a3)
{
  id v3 = a3;
  return sub_246BDAFDC();
}

void sub_246BDB10C(uint64_t a1, uint64_t a2, void *a3)
{
  id v3 = a3;
  sub_246BDF504();
}

void sub_246BDB134()
{
  v7.receiver = v0;
  v7.uint64_t super_class = (Class)type metadata accessor for ParmesanDebugViewController();
  objc_msgSendSuper2(&v7, sel_loadView);
  id v1 = objc_msgSend(v0, sel_view);
  if (v1)
  {
    uint64_t v2 = v1;
    self;
    id v3 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v5 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    id v6 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v3, sel_registerClass_forCellWithReuseIdentifier_, ObjCClassFromMetadata, v6);
  }
  else
  {
    __break(1u);
  }
}

void sub_246BDB238(void *a1)
{
  id v1 = a1;
  sub_246BDB134();
}

uint64_t sub_246BDB280(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246B80250(&qword_2691D6A38);
  MEMORY[0x270FA5388](v4 - 8);
  uint64_t v44 = (char *)&v44 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_246C2C118();
  uint64_t v46 = *(void *)(v6 - 8);
  uint64_t v47 = v6;
  MEMORY[0x270FA5388](v6);
  char v8 = (char *)&v44 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_246C2C0B8();
  uint64_t v48 = *(void *)(v9 - 8);
  uint64_t v49 = v9;
  MEMORY[0x270FA5388](v9);
  os_log_t v45 = (char *)&v44 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_246C2C268();
  uint64_t v50 = *(void *)(v11 - 8);
  uint64_t v51 = v11;
  MEMORY[0x270FA5388](v11);
  id v13 = (char *)&v44 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v14 = objc_msgSend(v1, sel_view);
  if (!v14)
  {
    __break(1u);
    JUMPOUT(0x246BDBA80);
  }
  char v15 = v14;
  self;
  uint64_t v16 = (void *)swift_dynamicCastObjCClassUnconditional();
  sub_246BC3F1C();
  uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
  uint64_t v18 = NSStringFromClass(ObjCClassFromMetadata);
  sub_246C2CC48();

  uint64_t v19 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  char v20 = (void *)sub_246C2BC78();
  id v21 = objc_msgSend(v16, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v19, v20);

  self;
  uint64_t v22 = swift_dynamicCastObjCClassUnconditional();
  sub_246C2C258();
  switch(a1)
  {
    case 1:
      sub_246C2C228();
      id v30 = sub_246BDAEF8();
      if (v30
        && (int v31 = v30,
            id v32 = objc_msgSend(v30, sel_uuidString),
            v31,
            v32)
        || (id v33 = sub_246BDAEF8()) != 0
        && (uint64_t v34 = v33,
            id v32 = objc_msgSend(v33, sel_assetCollectionIdentifier),
            v34,
            v32))
      {
        sub_246C2CC48();
      }
      goto LABEL_17;
    case 2:
      sub_246C2C228();
      v53[0] = 0;
      v53[1] = 0xE000000000000000;
      id v27 = sub_246BDAEF8();
      if (v27)
      {
        double v28 = v27;
        id v29 = objc_msgSend(v27, sel_count);
      }
      else
      {
        id v29 = 0;
      }
      uint64_t v40 = v50;
      uint64_t v39 = v51;
      id v52 = v29;
      sub_246C2D528();
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      sub_246C2C188();
      sub_246C2D048();
      goto LABEL_19;
    case 3:
      sub_246C2C228();
      v53[0] = *(void *)(*(void *)&v2[qword_2691D7ED0] + 16);
      sub_246C2D528();
      sub_246C2C188();
      goto LABEL_13;
    case 4:
    case 5:
    case 6:
      sub_246C2C228();
LABEL_13:
      sub_246B80250(&qword_2691D6A40);
      sub_246C2C128();
      *(_OWORD *)(swift_allocObject() + 16) = xmmword_246C33620;
      uint64_t v36 = v48;
      uint64_t v35 = v49;
      unint64_t v37 = v45;
      (*(void (**)(char *, void, uint64_t))(v48 + 104))(v45, *MEMORY[0x263F81DE8], v49);
      uint64_t v38 = sub_246C2C0C8();
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v38 - 8) + 56))(v44, 1, 1, v38);
      sub_246C2C108();
      sub_246C2C0F8();
      (*(void (**)(char *, uint64_t))(v46 + 8))(v8, v47);
      (*(void (**)(char *, uint64_t))(v36 + 8))(v37, v35);
      break;
    case 7:
      sub_246C2C228();
LABEL_17:
      sub_246C2C188();
      break;
    default:
      sub_246C2C228();
      unint64_t v23 = (void *)sub_246C2CC08();
      id v24 = objc_msgSend(self, sel_systemImageNamed_, v23);

      sub_246C2C238();
      id v25 = objc_msgSend(self, sel_systemPurpleColor);
      uint64_t v26 = (void (*)(uint64_t *, void))sub_246C2C1F8();
      sub_246C2C1E8();
      v26(v53, 0);
      break;
  }
  sub_246C2D048();
  uint64_t v40 = v50;
  uint64_t v39 = v51;
LABEL_19:
  v53[3] = v39;
  v53[4] = MEMORY[0x263F81F20];
  CGRect v41 = sub_246B8EBE4(v53);
  (*(void (**)(uint64_t *, char *, uint64_t))(v40 + 16))(v41, v13, v39);
  id v42 = v21;
  MEMORY[0x24C5440A0](v53);

  (*(void (**)(char *, uint64_t))(v40 + 8))(v13, v39);
  return v22;
}

void sub_246BDBAA0(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v4 - 8);
  uint64_t v6 = (char *)&v19 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = (objc_class *)type metadata accessor for ParmesanDebugViewController();
  v19.receiver = v2;
  v19.uint64_t super_class = v7;
  objc_msgSendSuper2(&v19, sel_viewWillAppear_, a1 & 1);
  id v8 = sub_246BDAEF8();
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = sub_246C2CE28();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 56))(v6, 1, 1, v10);
    sub_246C2CE08();
    id v11 = v9;
    id v12 = v2;
    uint64_t v13 = sub_246C2CDF8();
    id v14 = (void *)swift_allocObject();
    uint64_t v15 = MEMORY[0x263F8F500];
    v14[2] = v13;
    v14[3] = v15;
    v14[4] = v11;
    void v14[5] = v12;
    sub_246B9B9B8((uint64_t)v6, (uint64_t)&unk_2691D7F88, (uint64_t)v14);
    swift_release();
  }
  uint64_t v16 = (void *)sub_246C2CC08();
  objc_msgSend(v2, sel_setTitle_, v16);

  id v17 = objc_msgSend(v2, sel_navigationItem);
  id v18 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F824A8]), sel_initWithBarButtonSystemItem_target_action_, 24, v2, sel_didTapCancel);
  objc_msgSend(v17, sel_setLeftBarButtonItem_, v18);
}

void sub_246BDBCA0(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_246BDBAA0(a3);
}

id sub_246BDBCF4(void *a1)
{
  return objc_msgSend(a1, sel_dismissViewControllerAnimated_completion_, 1, 0);
}

uint64_t sub_246BDBD08()
{
  return sub_246C2C278();
}

uint64_t sub_246BDBDCC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v5[6] = a4;
  v5[7] = a5;
  uint64_t v6 = sub_246B80250(&qword_2691D7F38);
  v5[8] = v6;
  v5[9] = *(void *)(v6 - 8);
  v5[10] = swift_task_alloc();
  v5[11] = sub_246C2CE08();
  v5[12] = sub_246C2CDF8();
  uint64_t v8 = sub_246C2CDA8();
  v5[13] = v8;
  v5[14] = v7;
  return MEMORY[0x270FA2498](sub_246BDBEC8, v8, v7);
}

uint64_t sub_246BDBEC8()
{
  if (objc_msgSend(*(id *)(v0 + 48), sel_isShuffle))
  {
    id v1 = (void *)swift_task_alloc();
    *(void *)(v0 + 120) = v1;
    void *v1 = v0;
    v1[1] = sub_246BDBFD4;
    return sub_246BDCBD4();
  }
  else
  {
    id v3 = (void *)swift_task_alloc();
    *(void *)(v0 + 128) = v3;
    void *v3 = v0;
    v3[1] = sub_246BDC1D8;
    return sub_246BDD0A0();
  }
}

uint64_t sub_246BDBFD4(uint64_t a1)
{
  uint64_t v2 = *v1;
  uint64_t v3 = *v1;
  *(void *)(v3 + 16) = v1;
  *(void *)(v3 + 24) = a1;
  swift_task_dealloc();
  uint64_t v4 = *(void *)(v2 + 112);
  uint64_t v5 = *(void *)(v2 + 104);
  return MEMORY[0x270FA2498](sub_246BDC0F8, v5, v4);
}

uint64_t sub_246BDC0F8()
{
  v0[17] = v0[3];
  sub_246C2BDB8();
  swift_allocObject();
  uint64_t v1 = sub_246C2BDA8();
  v0[18] = v1;
  uint64_t v4 = (uint64_t (*)(uint64_t))((char *)&dword_2691D7F90 + dword_2691D7F90);
  swift_retain();
  uint64_t v2 = (void *)swift_task_alloc();
  v0[19] = v2;
  void *v2 = v0;
  v2[1] = sub_246BDC3DC;
  return v4(v1);
}

uint64_t sub_246BDC1D8(uint64_t a1)
{
  uint64_t v2 = *v1;
  uint64_t v3 = *v1;
  *(void *)(v3 + 32) = v1;
  *(void *)(v3 + 40) = a1;
  swift_task_dealloc();
  uint64_t v4 = *(void *)(v2 + 112);
  uint64_t v5 = *(void *)(v2 + 104);
  return MEMORY[0x270FA2498](sub_246BDC2FC, v5, v4);
}

uint64_t sub_246BDC2FC()
{
  v0[17] = v0[5];
  sub_246C2BDB8();
  swift_allocObject();
  uint64_t v1 = sub_246C2BDA8();
  v0[18] = v1;
  uint64_t v4 = (uint64_t (*)(uint64_t))((char *)&dword_2691D7F90 + dword_2691D7F90);
  swift_retain();
  uint64_t v2 = (void *)swift_task_alloc();
  v0[19] = v2;
  void *v2 = v0;
  v2[1] = sub_246BDC3DC;
  return v4(v1);
}

uint64_t sub_246BDC3DC(uint64_t a1)
{
  uint64_t v2 = *v1;
  *(void *)(*v1 + 160) = a1;
  swift_task_dealloc();
  swift_release();
  uint64_t v3 = *(void *)(v2 + 112);
  uint64_t v4 = *(void *)(v2 + 104);
  return MEMORY[0x270FA2498](sub_246BDC528, v4, v3);
}

uint64_t sub_246BDC528()
{
  uint64_t v3 = (uint64_t (__cdecl *)())((char *)&dword_2691D7F98 + dword_2691D7F98);
  swift_retain();
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 168) = v1;
  void *v1 = v0;
  v1[1] = sub_246BDC5DC;
  return v3();
}

uint64_t sub_246BDC5DC(uint64_t a1)
{
  uint64_t v2 = *v1;
  *(void *)(*v1 + 176) = a1;
  swift_task_dealloc();
  swift_release();
  uint64_t v3 = *(void *)(v2 + 112);
  uint64_t v4 = *(void *)(v2 + 104);
  return MEMORY[0x270FA2498](sub_246BDC728, v4, v3);
}

uint64_t sub_246BDC728()
{
  uint64_t v3 = (uint64_t (__cdecl *)())((char *)&dword_2691D7FA0 + dword_2691D7FA0);
  swift_retain();
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 184) = v1;
  void *v1 = v0;
  v1[1] = sub_246BDC7DC;
  return v3();
}

uint64_t sub_246BDC7DC(uint64_t a1)
{
  *(void *)(*(void *)v1 + 192) = a1;
  swift_task_dealloc();
  swift_release();
  return MEMORY[0x270FA2498](sub_246BDC8FC, 0, 0);
}

uint64_t sub_246BDC8FC()
{
  *(void *)(v0 + 200) = sub_246C2CDF8();
  uint64_t v2 = sub_246C2CDA8();
  return MEMORY[0x270FA2498](sub_246BDC988, v2, v1);
}

uint64_t sub_246BDC988()
{
  uint64_t v1 = v0[24];
  uint64_t v2 = v0[22];
  uint64_t v3 = v0[20];
  uint64_t v4 = v0[17];
  uint64_t v5 = v0[7];
  swift_release();
  if (!v1) {
    uint64_t v1 = MEMORY[0x263F8EE78];
  }
  if (!v2) {
    uint64_t v2 = MEMORY[0x263F8EE78];
  }
  if (!v3) {
    uint64_t v3 = MEMORY[0x263F8EE78];
  }
  *(void *)(v5 + qword_2691D7ED0) = v4;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)(v5 + qword_2691D7ED8) = v3;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)(v5 + qword_2691D7EE0) = v2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  *(void *)(v5 + qword_2691D7EE8) = v1;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  uint64_t v6 = sub_246BDBD08();
  uint64_t v9 = *(void **)(v5 + qword_2691D8B90);
  if (v9)
  {
    uint64_t v11 = v0[9];
    uint64_t v10 = v0[10];
    uint64_t v12 = v0[8];
    id v13 = v9;
    sub_246C2C338();

    (*(void (**)(uint64_t, uint64_t))(v11 + 8))(v10, v12);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v7 = v0[13];
    uint64_t v8 = v0[14];
    uint64_t v6 = (uint64_t)sub_246BDCB5C;
  }
  else
  {
    __break(1u);
  }
  return MEMORY[0x270FA2498](v6, v7, v8);
}

uint64_t sub_246BDCB5C()
{
  swift_release();
  swift_release();
  swift_task_dealloc();
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t sub_246BDCBD4()
{
  v1[2] = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D7F68);
  v1[3] = v2;
  v1[4] = *(void *)(v2 - 8);
  v1[5] = swift_task_alloc();
  sub_246B80250(&qword_2691D7060);
  v1[6] = swift_task_alloc();
  uint64_t v3 = sub_246C2BC68();
  v1[7] = v3;
  v1[8] = *(void *)(v3 - 8);
  v1[9] = swift_task_alloc();
  sub_246C2CE08();
  v1[10] = sub_246C2CDF8();
  uint64_t v5 = sub_246C2CDA8();
  v1[11] = v5;
  v1[12] = v4;
  return MEMORY[0x270FA2498](sub_246BDCD58, v5, v4);
}

uint64_t sub_246BDCD58()
{
  id v1 = sub_246BDAEF8();
  if (!v1
    || (v2 = v1, id v3 = objc_msgSend(v1, sel_uuidString), v2, !v3))
  {
    swift_release();
    goto LABEL_6;
  }
  uint64_t v4 = v0[7];
  uint64_t v5 = v0[8];
  uint64_t v6 = v0[6];
  sub_246C2CC48();

  sub_246C2BC28();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48))(v6, 1, v4) == 1)
  {
    uint64_t v7 = v0[6];
    swift_release();
    sub_246B8EA34(v7, &qword_2691D7060);
LABEL_6:
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v8 = (uint64_t (*)(uint64_t))v0[1];
    uint64_t v9 = MEMORY[0x263F8EE78];
    return v8(v9);
  }
  (*(void (**)(void, void, void))(v0[8] + 32))(v0[9], v0[6], v0[7]);
  sub_246C2BDB8();
  swift_allocObject();
  sub_246C2BDA8();
  sub_246C2BD68();
  swift_release();
  id v13 = (uint64_t (*)(uint64_t))((char *)&dword_2691D7F70 + dword_2691D7F70);
  uint64_t v11 = (void *)swift_task_alloc();
  v0[13] = v11;
  void *v11 = v0;
  v11[1] = sub_246BDCF78;
  uint64_t v12 = v0[5];
  return v13(v12);
}

uint64_t sub_246BDCF78(uint64_t a1)
{
  uint64_t v2 = *v1;
  *(void *)(*v1 + 112) = a1;
  swift_task_dealloc();
  uint64_t v3 = *(void *)(v2 + 96);
  uint64_t v4 = *(void *)(v2 + 88);
  return MEMORY[0x270FA2498](sub_246BE0EE8, v4, v3);
}

uint64_t sub_246BDD0A0()
{
  v1[2] = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D7F48);
  v1[3] = v2;
  v1[4] = *(void *)(v2 - 8);
  v1[5] = swift_task_alloc();
  sub_246B80250(&qword_2691D7060);
  v1[6] = swift_task_alloc();
  uint64_t v3 = sub_246C2BC68();
  v1[7] = v3;
  v1[8] = *(void *)(v3 - 8);
  v1[9] = swift_task_alloc();
  sub_246C2CE08();
  v1[10] = sub_246C2CDF8();
  uint64_t v5 = sub_246C2CDA8();
  v1[11] = v5;
  v1[12] = v4;
  return MEMORY[0x270FA2498](sub_246BDD224, v5, v4);
}

uint64_t sub_246BDD224()
{
  id v1 = sub_246BDAEF8();
  if (!v1
    || (uint64_t v2 = v1,
        id v3 = objc_msgSend(v1, sel_assetCollectionIdentifier),
        v2,
        !v3))
  {
    swift_release();
    goto LABEL_6;
  }
  uint64_t v4 = v0[7];
  uint64_t v5 = v0[8];
  uint64_t v6 = v0[6];
  sub_246C2CC48();

  sub_246C2BC28();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48))(v6, 1, v4) == 1)
  {
    uint64_t v7 = v0[6];
    swift_release();
    sub_246B8EA34(v7, &qword_2691D7060);
LABEL_6:
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v8 = (uint64_t (*)(uint64_t))v0[1];
    uint64_t v9 = MEMORY[0x263F8EE78];
    return v8(v9);
  }
  (*(void (**)(void, void, void))(v0[8] + 32))(v0[9], v0[6], v0[7]);
  sub_246C2BDB8();
  swift_allocObject();
  sub_246C2BDA8();
  sub_246C2BD48();
  swift_release();
  id v13 = (uint64_t (*)(uint64_t))((char *)&dword_2691D7F50 + dword_2691D7F50);
  uint64_t v11 = (void *)swift_task_alloc();
  v0[13] = v11;
  void *v11 = v0;
  v11[1] = sub_246BDD444;
  uint64_t v12 = v0[5];
  return v13(v12);
}

uint64_t sub_246BDD444(uint64_t a1)
{
  uint64_t v2 = *v1;
  *(void *)(*v1 + 112) = a1;
  swift_task_dealloc();
  uint64_t v3 = *(void *)(v2 + 96);
  uint64_t v4 = *(void *)(v2 + 88);
  return MEMORY[0x270FA2498](sub_246BDD56C, v4, v3);
}

uint64_t sub_246BDD56C()
{
  uint64_t v1 = v0[9];
  uint64_t v2 = v0[7];
  uint64_t v3 = v0[8];
  uint64_t v5 = v0[4];
  uint64_t v4 = v0[5];
  uint64_t v6 = v0[3];
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v5 + 8))(v4, v6);
  (*(void (**)(uint64_t, uint64_t))(v3 + 8))(v1, v2);
  uint64_t v7 = v0[14];
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v8 = (uint64_t (*)(uint64_t))v0[1];
  return v8(v7);
}

void sub_246BDD63C(char a1)
{
  switch(a1)
  {
    case 0:
      sub_246BDD960();
      return;
    case 3:
      uint64_t v2 = *(void *)&v1[qword_2691D7ED0];
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanDebugStoredPhotoListViewController();
      uint64_t v4 = (char *)objc_allocWithZone(v3);
      *(void *)&v4[qword_2691D8578] = v2;
      v23.receiver = v4;
      v23.uint64_t super_class = v3;
      swift_bridgeObjectRetain_n();
      id v5 = objc_msgSendSuper2(&v23, sel_initWithNibName_bundle_, 0, 0);
      id v6 = objc_msgSend(v1, sel_navigationController, v23.receiver, v23.super_class);
      if (v6)
      {
        uint64_t v7 = v6;
        objc_msgSend(v6, sel_pushViewController_animated_, v5, 1);
        swift_bridgeObjectRelease();
      }
      else
      {
        swift_bridgeObjectRelease();
      }

      return;
    case 4:
      uint64_t v8 = *(void *)&v1[qword_2691D7EE0];
      uint64_t v9 = (objc_class *)type metadata accessor for ParmesanDebugFaceListViewController();
      uint64_t v10 = objc_allocWithZone(v9);
      uint64_t v11 = &v10[qword_2691D77E0];
      *(void *)uint64_t v11 = v8;
      v11[8] = 0;
      v10[qword_2691D77E8] = 0;
      v24.receiver = v10;
      v24.uint64_t super_class = v9;
      swift_bridgeObjectRetain();
      id v12 = objc_msgSendSuper2(&v24, sel_initWithNibName_bundle_, 0, 0);
      id v13 = objc_msgSend(v1, sel_navigationController);
      if (v13) {
        goto LABEL_13;
      }
      goto LABEL_14;
    case 5:
      uint64_t v14 = *(void *)&v1[qword_2691D7ED8];
      uint64_t v15 = (objc_class *)type metadata accessor for ParmesanDebugFaceListViewController();
      uint64_t v16 = objc_allocWithZone(v15);
      id v17 = &v16[qword_2691D77E0];
      *(void *)id v17 = v14;
      v17[8] = 1;
      v16[qword_2691D77E8] = 0;
      v25.receiver = v16;
      v25.uint64_t super_class = v15;
      swift_bridgeObjectRetain();
      id v12 = objc_msgSendSuper2(&v25, sel_initWithNibName_bundle_, 0, 0);
      id v13 = objc_msgSend(v1, sel_navigationController);
      if (!v13) {
        goto LABEL_14;
      }
      goto LABEL_13;
    case 6:
      uint64_t v18 = *(void *)&v1[qword_2691D7EE8];
      objc_super v19 = (objc_class *)type metadata accessor for ParmesanDebugFaceListViewController();
      char v20 = objc_allocWithZone(v19);
      id v21 = &v20[qword_2691D77E0];
      *(void *)id v21 = v18;
      v21[8] = 0;
      v20[qword_2691D77E8] = 1;
      v26.receiver = v20;
      v26.uint64_t super_class = v19;
      swift_bridgeObjectRetain();
      id v12 = objc_msgSendSuper2(&v26, sel_initWithNibName_bundle_, 0, 0);
      id v13 = objc_msgSend(v1, sel_navigationController);
      if (v13)
      {
LABEL_13:
        uint64_t v22 = v13;
        objc_msgSend(v13, sel_pushViewController_animated_, v12, 1);
      }
LABEL_14:

      break;
    default:
      return;
  }
}

uint64_t sub_246BDD960()
{
  uint64_t v0 = sub_246C2BB98();
  uint64_t v1 = *(void *)(v0 - 8);
  MEMORY[0x270FA5388](v0);
  uint64_t v3 = (char *)&v26 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246B80250(&qword_2691D7038);
  uint64_t v5 = MEMORY[0x270FA5388](v4 - 8);
  uint64_t v7 = (char *)&v26 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = MEMORY[0x270FA5388](v5);
  uint64_t v10 = (char *)&v26 - v9;
  uint64_t v11 = MEMORY[0x270FA5388](v8);
  id v13 = (char *)&v26 - v12;
  MEMORY[0x270FA5388](v11);
  uint64_t v15 = (char *)&v26 - v14;
  sub_246C2BB68();
  sub_246BDDF60((uint64_t)v13);
  uint64_t v16 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v1 + 48);
  if (!v16(v15, 1, v0))
  {
    id v27 = v3;
    uint64_t v29 = v1;
    sub_246B80250(&qword_2691D7F40);
    sub_246C2B9F8();
    uint64_t v17 = swift_allocObject();
    *(_OWORD *)(v17 + 16) = xmmword_246C35AA0;
    uint64_t v26 = v17;
    double v28 = v13;
    sub_246BAB004((uint64_t)v13, (uint64_t)v10);
    if (v16(v10, 1, v0) == 1)
    {
      sub_246B8EA34((uint64_t)v10, &qword_2691D7038);
    }
    else
    {
      sub_246C2BB38();
      (*(void (**)(char *, uint64_t))(v29 + 8))(v10, v0);
    }
    sub_246C2B9E8();
    swift_bridgeObjectRelease();
    sub_246C2B9E8();
    sub_246C2B9E8();
    sub_246C2B9E8();
    sub_246C2B9E8();
    sub_246C2BB58();
    swift_bridgeObjectRelease();
    id v13 = v28;
    uint64_t v1 = v29;
    uint64_t v3 = v27;
  }
  sub_246BAB004((uint64_t)v15, (uint64_t)v7);
  if (v16(v7, 1, v0) == 1)
  {
    sub_246B8EA34((uint64_t)v7, &qword_2691D7038);
    if (qword_2691D6320 != -1) {
      swift_once();
    }
    uint64_t v18 = sub_246C2C088();
    sub_246B8BE0C(v18, (uint64_t)qword_2691E01B0);
    objc_super v19 = sub_246C2C068();
    os_log_type_t v20 = sub_246C2CEE8();
    if (os_log_type_enabled(v19, v20))
    {
      id v21 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v21 = 0;
      _os_log_impl(&dword_246B51000, v19, v20, "Failed to open TTR, invalid URL", v21, 2u);
      MEMORY[0x24C545990](v21, -1, -1);
    }
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v1 + 32))(v3, v7, v0);
    id v22 = objc_msgSend(self, sel_sharedApplication);
    objc_super v23 = (void *)sub_246C2BAC8();
    sub_246C10FD4(MEMORY[0x263F8EE78]);
    type metadata accessor for OpenExternalURLOptionsKey(0);
    sub_246BDF4AC();
    objc_super v24 = (void *)sub_246C2CBA8();
    swift_bridgeObjectRelease();
    objc_msgSend(v22, sel_openURL_options_completionHandler_, v23, v24, 0);

    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  }
  sub_246B8EA34((uint64_t)v13, &qword_2691D7038);
  return sub_246B8EA34((uint64_t)v15, &qword_2691D7038);
}

id sub_246BDDF60@<X0>(uint64_t a1@<X8>)
{
  uint64_t v101 = a1;
  uint64_t v107 = sub_246C2BE38();
  uint64_t v105 = *(void *)(v107 - 8);
  MEMORY[0x270FA5388](v107);
  id v106 = (char *)&v92 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_246C2CC98();
  uint64_t v99 = *(void *)(v3 - 8);
  uint64_t v100 = v3;
  MEMORY[0x270FA5388](v3);
  double v98 = (char *)&v92 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2BA78();
  uint64_t v96 = *(void *)(v5 - 8);
  uint64_t v97 = v5;
  MEMORY[0x270FA5388](v5);
  double v95 = (char *)&v92 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246C2BB98();
  uint64_t v103 = *(void *)(v7 - 8);
  uint64_t v8 = MEMORY[0x270FA5388](v7);
  double v94 = (char *)&v92 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  double v102 = (char *)&v92 - v10;
  uint64_t v11 = sub_246C2BC68();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v108 = v11;
  uint64_t v109 = v12;
  uint64_t v13 = MEMORY[0x270FA5388](v11);
  uint64_t v15 = (char *)&v92 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  double v93 = (char *)&v92 - v16;
  uint64_t v17 = v1;
  id v18 = sub_246BDAEF8();
  id v111 = v15;
  uint64_t v104 = v7;
  if (v18)
  {
    objc_super v19 = v18;
    os_log_type_t v20 = (char *)objc_msgSend(v18, sel_count);
    if (v20)
    {
      id v21 = v20;
      id v22 = 0;
      uint64_t v110 = (void *)MEMORY[0x263F8EE78];
      do
      {
        objc_super v24 = (char *)objc_msgSend(v19, sel_objectAtIndex_, v22);
        if (v24)
        {
          objc_super v25 = v24;
          uint64_t v27 = *(void *)&v24[OBJC_IVAR___NTKParmesanAsset_localIdentifier];
          uint64_t v26 = *(void *)&v24[OBJC_IVAR___NTKParmesanAsset_localIdentifier + 8];
          swift_bridgeObjectRetain();
          if (swift_isUniquelyReferenced_nonNull_native()) {
            double v28 = v110;
          }
          else {
            double v28 = sub_246BA5D30(0, v110[2] + 1, 1, v110);
          }
          unint64_t v30 = v28[2];
          unint64_t v29 = v28[3];
          if (v30 >= v29 >> 1) {
            double v28 = sub_246BA5D30((void *)(v29 > 1), v30 + 1, 1, v28);
          }
          void v28[2] = v30 + 1;
          uint64_t v110 = v28;
          objc_super v23 = &v28[2 * v30];
          void v23[4] = v27;
          v23[5] = v26;
        }
        ++v22;
      }
      while (v21 != v22);
    }
    else
    {
      uint64_t v110 = (void *)MEMORY[0x263F8EE78];
    }
  }
  else
  {
    uint64_t v110 = (void *)MEMORY[0x263F8EE78];
  }
  unint64_t v113 = 0;
  unint64_t v114 = 0xE000000000000000;
  sub_246C2D278();
  sub_246C2CCD8();
  id result = objc_msgSend(*(id *)(v17 + qword_2691D7EC8), sel_selectedOptionForCustomEditMode_slot_, 12, 0);
  if (result)
  {
    id v32 = result;
    id v33 = objc_msgSend(result, sel_localizedName);

    if (v33)
    {
      sub_246C2CC48();
    }
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v34 = sub_246BDAEF8();
    if (v34)
    {
      uint64_t v35 = v34;
      id v36 = objc_msgSend(v34, sel_uuidString);

      if (v36)
      {
        sub_246C2CC48();
      }
    }
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v37 = sub_246BDAEF8();
    if (v37)
    {
      uint64_t v38 = v37;
      id v39 = objc_msgSend(v37, sel_peopleIdentifiers);

      if (v39)
      {
        uint64_t v40 = sub_246C2CD38();

        id v39 = *(id *)(v40 + 16);
        swift_bridgeObjectRelease();
      }
    }
    else
    {
      id v39 = 0;
    }
    uint64_t v112 = (unint64_t *)v39;
    sub_246C2D528();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v41 = sub_246BDAEF8();
    id v42 = (unint64_t *)MEMORY[0x263F8EE78];
    if (v41)
    {
      unint64_t v43 = v41;
      id v44 = objc_msgSend(v41, sel_peopleIdentifiers);

      if (v44)
      {
        uint64_t v45 = sub_246C2CD38();
      }
      else
      {
        uint64_t v45 = MEMORY[0x263F8EE78];
      }
    }
    else
    {
      uint64_t v45 = MEMORY[0x263F8EE78];
    }
    MEMORY[0x24C543DF0](v45, MEMORY[0x263F8D310]);
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v46 = sub_246BDAEF8();
    if (v46)
    {
      uint64_t v47 = v46;
      objc_msgSend(v46, sel_hasPets);
    }
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v48 = sub_246BDAEF8();
    if (v48)
    {
      uint64_t v49 = v48;
      objc_msgSend(v48, sel_hasNature);
    }
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v50 = sub_246BDAEF8();
    if (v50)
    {
      uint64_t v51 = v50;
      objc_msgSend(v50, sel_hasCityscapes);
    }
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v112 = (unint64_t *)v110[2];
    sub_246C2D528();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v52 = swift_bridgeObjectRetain();
    MEMORY[0x24C543DF0](v52, MEMORY[0x263F8D310]);
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v53 = qword_2691D7ED0;
    uint64_t v112 = *(unint64_t **)(*(void *)(v17 + qword_2691D7ED0) + 16);
    sub_246C2D528();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v54 = *(void *)(v17 + v53);
    int64_t v55 = *(void *)(v54 + 16);
    if (v55)
    {
      uint64_t v112 = v42;
      swift_bridgeObjectRetain();
      sub_246C00B20(0, v55, 0);
      uint64_t v56 = v105 + 16;
      uint64_t v105 = *(void *)(v105 + 16);
      unint64_t v57 = (*(unsigned __int8 *)(v56 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v56 + 64);
      uint64_t v92 = v54;
      uint64_t v58 = v54 + v57;
      uint64_t v59 = *(void *)(v56 + 56);
      uint64_t v60 = (void (**)(char *, uint64_t))(v56 - 8);
      do
      {
        uint64_t v62 = v106;
        uint64_t v61 = v107;
        ((void (*)(char *, uint64_t, uint64_t))v105)(v106, v58, v107);
        sub_246C2BDD8();
        (*v60)(v62, v61);
        uint64_t v63 = v112;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_246C00B20(0, v63[2] + 1, 1);
          uint64_t v63 = v112;
        }
        unint64_t v65 = v63[2];
        unint64_t v64 = v63[3];
        if (v65 >= v64 >> 1)
        {
          sub_246C00B20(v64 > 1, v65 + 1, 1);
          uint64_t v63 = v112;
        }
        v63[2] = v65 + 1;
        (*(void (**)(unint64_t, char *, uint64_t))(v109 + 32))((unint64_t)v63+ ((*(unsigned __int8 *)(v109 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v109 + 80))+ *(void *)(v109 + 72) * v65, v111, v108);
        uint64_t v112 = v63;
        v58 += v59;
        --v55;
      }
      while (v55);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_bridgeObjectRelease();
      uint64_t v63 = (unint64_t *)MEMORY[0x263F8EE78];
    }
    uint64_t v66 = v108;
    MEMORY[0x24C543DF0](v63, v108);
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    id v67 = objc_msgSend(self, sel_defaultManager);
    unint64_t v113 = 0;
    unint64_t v114 = 0xE000000000000000;
    sub_246C2D278();
    swift_bridgeObjectRelease();
    unint64_t v113 = 0xD00000000000001ALL;
    unint64_t v114 = 0x8000000246C3EC40;
    uint64_t v68 = v93;
    sub_246C2BC58();
    sub_246C2BC38();
    (*(void (**)(char *, uint64_t))(v109 + 8))(v68, v66);
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    unint64_t v70 = v113;
    unint64_t v69 = v114;
    id v71 = objc_msgSend(v67, sel_temporaryDirectory);
    unint64_t v72 = v94;
    sub_246C2BB28();

    unint64_t v113 = v70;
    unint64_t v114 = v69;
    uint64_t v74 = v95;
    uint64_t v73 = v96;
    uint64_t v75 = v97;
    (*(void (**)(char *, void, uint64_t))(v96 + 104))(v95, *MEMORY[0x263F06E50], v97);
    sub_246BAADBC();
    sub_246C2BB78();
    (*(void (**)(char *, uint64_t))(v73 + 8))(v74, v75);
    unint64_t v76 = *(void (**)(char *, uint64_t))(v103 + 8);
    v76(v72, v104);
    swift_bridgeObjectRelease();
    sub_246C2BB38();
    uint64_t v77 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v78 = v98;
    sub_246C2CC88();
    uint64_t v79 = sub_246C2CC58();
    unint64_t v81 = v80;
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v99 + 8))(v78, v100);
    uint64_t v82 = 0;
    if (v81 >> 60 != 15)
    {
      uint64_t v82 = (void *)sub_246C2BBB8();
      sub_246BDF498(v79, v81);
    }
    unsigned int v83 = objc_msgSend(v67, sel_createFileAtPath_contents_attributes_, v77, v82, 0, v92);

    uint64_t v84 = v101;
    if (v83)
    {

      uint64_t v85 = v103;
      uint64_t v86 = v104;
      (*(void (**)(uint64_t, char *, uint64_t))(v103 + 32))(v84, v102, v104);
      uint64_t v87 = 0;
    }
    else
    {
      if (qword_2691D6320 != -1) {
        swift_once();
      }
      uint64_t v88 = sub_246C2C088();
      sub_246B8BE0C(v88, (uint64_t)qword_2691E01B0);
      uint64_t v89 = sub_246C2C068();
      os_log_type_t v90 = sub_246C2CEE8();
      if (os_log_type_enabled(v89, v90))
      {
        id v91 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)id v91 = 0;
        _os_log_impl(&dword_246B51000, v89, v90, "Failed to write debug information file", v91, 2u);
        MEMORY[0x24C545990](v91, -1, -1);
      }

      uint64_t v86 = v104;
      v76(v102, v104);
      uint64_t v87 = 1;
      uint64_t v85 = v103;
    }
    return (id)(*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v85 + 56))(v84, v87, 1, v86);
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246BDEDA4(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v4 = a4;
  _swift_stdlib_reportUnimplementedInitializer();
  __break(1u);
}

void sub_246BDEDD8()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v1 = *(void **)(v0 + qword_2691D7EF0);

  sub_246BDF3E0(v1);
}

id sub_246BDEE58()
{
  return sub_246BDEE74(0, type metadata accessor for ParmesanDebugViewController);
}

id sub_246BDEE74(uint64_t a1, uint64_t (*a2)(void))
{
  v4.receiver = v2;
  v4.uint64_t super_class = (Class)a2();
  return objc_msgSendSuper2(&v4, sel_dealloc);
}

void sub_246BDEEAC(uint64_t a1)
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v2 = *(void **)(a1 + qword_2691D7EF0);

  sub_246BDF3E0(v2);
}

uint64_t type metadata accessor for ParmesanDebugViewController()
{
  uint64_t result = qword_2691D7EF8;
  if (!qword_2691D7EF8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246BDEF84()
{
  return swift_initClassMetadata2();
}

uint64_t sub_246BDEFE8(char *a1)
{
  return sub_246BDB280(*a1);
}

void sub_246BDEFF0(char *a1)
{
}

uint64_t sub_246BDEFF8()
{
  return type metadata accessor for ParmesanDebugViewController();
}

uint64_t getEnumTagSinglePayload for DebugMainItem(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xF9) {
    goto LABEL_17;
  }
  if (a2 + 7 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 7) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 7;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 7;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 7;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 8;
  int v8 = v6 - 8;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for DebugMainItem(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 7 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 7) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xF9) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF8)
  {
    unsigned int v6 = ((a2 - 249) >> 8) + 1;
    *uint64_t result = a2 + 7;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BDF15CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 7;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for DebugMainItem()
{
  return &type metadata for DebugMainItem;
}

unsigned char *storeEnumTagSinglePayload for DebugMainSection(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BDF260);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for DebugMainSection()
{
  return &type metadata for DebugMainSection;
}

unint64_t sub_246BDF29C()
{
  unint64_t result = qword_2691D7F18;
  if (!qword_2691D7F18)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7F18);
  }
  return result;
}

unint64_t sub_246BDF2F4()
{
  unint64_t result = qword_2691D7F20;
  if (!qword_2691D7F20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7F20);
  }
  return result;
}

uint64_t sub_246BDF348()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 3) {
    return 3;
  }
  else {
    return v0;
  }
}

uint64_t sub_246BDF394()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 8) {
    return 8;
  }
  else {
    return v0;
  }
}

void sub_246BDF3E0(id a1)
{
  if (a1 != (id)1) {
}
  }

unint64_t sub_246BDF3F0()
{
  unint64_t result = qword_2691D7F28;
  if (!qword_2691D7F28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7F28);
  }
  return result;
}

unint64_t sub_246BDF444()
{
  unint64_t result = qword_2691D7F30;
  if (!qword_2691D7F30)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D7F30);
  }
  return result;
}

uint64_t sub_246BDF498(uint64_t a1, unint64_t a2)
{
  if (a2 >> 60 != 15) {
    return sub_246BD7F24(a1, a2);
  }
  return a1;
}

unint64_t sub_246BDF4AC()
{
  unint64_t result = qword_2691D6648;
  if (!qword_2691D6648)
  {
    type metadata accessor for OpenExternalURLOptionsKey(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6648);
  }
  return result;
}

void sub_246BDF504()
{
  uint64_t v1 = MEMORY[0x263F8EE78];
  *(void *)&v0[qword_2691D7ED0] = MEMORY[0x263F8EE78];
  *(void *)&v0[qword_2691D7ED8] = v1;
  *(void *)&v0[qword_2691D7EE0] = v1;
  *(void *)&v0[qword_2691D7EE8] = v1;
  *(void *)&v0[qword_2691D7EF0] = 1;

  sub_246C2D3A8();
  __break(1u);
}

uint64_t sub_246BDF5AC(uint64_t a1)
{
  v1[5] = a1;
  uint64_t v2 = sub_246C2BE38();
  v1[6] = v2;
  v1[7] = *(void *)(v2 - 8);
  v1[8] = swift_task_alloc();
  sub_246B80250(&qword_2691D7F58);
  v1[9] = swift_task_alloc();
  uint64_t v3 = sub_246B80250(&qword_2691D7F68);
  v1[10] = v3;
  v1[11] = *(void *)(v3 - 8);
  v1[12] = swift_task_alloc();
  uint64_t v4 = sub_246B80250(&qword_2691D7F78);
  v1[13] = v4;
  v1[14] = *(void *)(v4 - 8);
  v1[15] = swift_task_alloc();
  v1[16] = sub_246C2CE08();
  v1[17] = sub_246C2CDF8();
  uint64_t v6 = sub_246C2CDA8();
  v1[18] = v6;
  v1[19] = v5;
  return MEMORY[0x270FA2498](sub_246BDF794, v6, v5);
}

uint64_t sub_246BDF794()
{
  (*(void (**)(void, void, void))(v0[11] + 16))(v0[12], v0[5], v0[10]);
  v0[20] = swift_getOpaqueTypeConformance2();
  sub_246C2CE48();
  v0[21] = MEMORY[0x263F8EE78];
  uint64_t v1 = sub_246C2CDF8();
  v0[22] = v1;
  uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
  uint64_t v3 = (void *)swift_task_alloc();
  v0[23] = v3;
  void *v3 = v0;
  v3[1] = sub_246BDF904;
  uint64_t v4 = v0[13];
  uint64_t v5 = v0[9];
  uint64_t v6 = MEMORY[0x263F8F500];
  return MEMORY[0x270FA1E88](v5, v1, v6, v0 + 2, v4, AssociatedConformanceWitness);
}

uint64_t sub_246BDF904()
{
  uint64_t v2 = *v1;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_release();
    uint64_t v3 = *(void *)(v2 + 144);
    uint64_t v4 = *(void *)(v2 + 152);
    uint64_t v5 = sub_246BE0EEC;
  }
  else
  {
    swift_release();
    uint64_t v3 = *(void *)(v2 + 144);
    uint64_t v4 = *(void *)(v2 + 152);
    uint64_t v5 = sub_246BDFA2C;
  }
  return MEMORY[0x270FA2498](v5, v3, v4);
}

uint64_t sub_246BDFA2C()
{
  uint64_t v1 = v0[9];
  uint64_t v2 = v0[6];
  uint64_t v3 = v0[7];
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v3 + 48))(v1, 1, v2) == 1)
  {
    (*(void (**)(void, void))(v0[14] + 8))(v0[15], v0[13]);
    swift_release();
    uint64_t v4 = v0[21];
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v5 = (uint64_t (*)(uint64_t))v0[1];
    return v5(v4);
  }
  else
  {
    uint64_t v7 = *(void (**)(unint64_t, uint64_t, uint64_t))(v3 + 32);
    v7(v0[8], v1, v2);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v9 = v0[21];
    if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
      unint64_t v9 = sub_246BA6204(0, *(void *)(v9 + 16) + 1, 1, v0[21]);
    }
    unint64_t v11 = *(void *)(v9 + 16);
    unint64_t v10 = *(void *)(v9 + 24);
    if (v11 >= v10 >> 1) {
      unint64_t v9 = sub_246BA6204(v10 > 1, v11 + 1, 1, v9);
    }
    uint64_t v13 = v0[7];
    uint64_t v12 = v0[8];
    uint64_t v14 = v0[6];
    *(void *)(v9 + 16) = v11 + 1;
    v7(v9+ ((*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80))+ *(void *)(v13 + 72) * v11, v12, v14);
    v0[21] = v9;
    uint64_t v15 = sub_246C2CDF8();
    v0[22] = v15;
    uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
    uint64_t v17 = (void *)swift_task_alloc();
    v0[23] = v17;
    *uint64_t v17 = v0;
    v17[1] = sub_246BDF904;
    uint64_t v18 = v0[13];
    uint64_t v19 = v0[9];
    uint64_t v20 = MEMORY[0x263F8F500];
    return MEMORY[0x270FA1E88](v19, v15, v20, v0 + 2, v18, AssociatedConformanceWitness);
  }
}

uint64_t sub_246BDFCA4(uint64_t a1)
{
  v1[5] = a1;
  uint64_t v2 = sub_246C2BE38();
  v1[6] = v2;
  v1[7] = *(void *)(v2 - 8);
  v1[8] = swift_task_alloc();
  sub_246B80250(&qword_2691D7F58);
  v1[9] = swift_task_alloc();
  uint64_t v3 = sub_246B80250(&qword_2691D7F48);
  v1[10] = v3;
  v1[11] = *(void *)(v3 - 8);
  v1[12] = swift_task_alloc();
  uint64_t v4 = sub_246B80250(&qword_2691D7F60);
  v1[13] = v4;
  v1[14] = *(void *)(v4 - 8);
  v1[15] = swift_task_alloc();
  v1[16] = sub_246C2CE08();
  v1[17] = sub_246C2CDF8();
  uint64_t v6 = sub_246C2CDA8();
  v1[18] = v6;
  v1[19] = v5;
  return MEMORY[0x270FA2498](sub_246BDFE8C, v6, v5);
}

uint64_t sub_246BDFE8C()
{
  (*(void (**)(void, void, void))(v0[11] + 16))(v0[12], v0[5], v0[10]);
  v0[20] = swift_getOpaqueTypeConformance2();
  sub_246C2CE48();
  v0[21] = MEMORY[0x263F8EE78];
  uint64_t v1 = sub_246C2CDF8();
  v0[22] = v1;
  uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
  uint64_t v3 = (void *)swift_task_alloc();
  v0[23] = v3;
  void *v3 = v0;
  v3[1] = sub_246BDFFFC;
  uint64_t v4 = v0[13];
  uint64_t v5 = v0[9];
  uint64_t v6 = MEMORY[0x263F8F500];
  return MEMORY[0x270FA1E88](v5, v1, v6, v0 + 2, v4, AssociatedConformanceWitness);
}

uint64_t sub_246BDFFFC()
{
  uint64_t v2 = *v1;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_release();
    uint64_t v3 = *(void *)(v2 + 144);
    uint64_t v4 = *(void *)(v2 + 152);
    uint64_t v5 = sub_246BE039C;
  }
  else
  {
    swift_release();
    uint64_t v3 = *(void *)(v2 + 144);
    uint64_t v4 = *(void *)(v2 + 152);
    uint64_t v5 = sub_246BE0124;
  }
  return MEMORY[0x270FA2498](v5, v3, v4);
}

uint64_t sub_246BE0124()
{
  uint64_t v1 = v0[9];
  uint64_t v2 = v0[6];
  uint64_t v3 = v0[7];
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v3 + 48))(v1, 1, v2) == 1)
  {
    (*(void (**)(void, void))(v0[14] + 8))(v0[15], v0[13]);
    swift_release();
    uint64_t v4 = v0[21];
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v5 = (uint64_t (*)(uint64_t))v0[1];
    return v5(v4);
  }
  else
  {
    uint64_t v7 = *(void (**)(unint64_t, uint64_t, uint64_t))(v3 + 32);
    v7(v0[8], v1, v2);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v9 = v0[21];
    if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
      unint64_t v9 = sub_246BA6204(0, *(void *)(v9 + 16) + 1, 1, v0[21]);
    }
    unint64_t v11 = *(void *)(v9 + 16);
    unint64_t v10 = *(void *)(v9 + 24);
    if (v11 >= v10 >> 1) {
      unint64_t v9 = sub_246BA6204(v10 > 1, v11 + 1, 1, v9);
    }
    uint64_t v13 = v0[7];
    uint64_t v12 = v0[8];
    uint64_t v14 = v0[6];
    *(void *)(v9 + 16) = v11 + 1;
    v7(v9+ ((*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80))+ *(void *)(v13 + 72) * v11, v12, v14);
    v0[21] = v9;
    uint64_t v15 = sub_246C2CDF8();
    v0[22] = v15;
    uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
    uint64_t v17 = (void *)swift_task_alloc();
    v0[23] = v17;
    *uint64_t v17 = v0;
    v17[1] = sub_246BDFFFC;
    uint64_t v18 = v0[13];
    uint64_t v19 = v0[9];
    uint64_t v20 = MEMORY[0x263F8F500];
    return MEMORY[0x270FA1E88](v19, v15, v20, v0 + 2, v18, AssociatedConformanceWitness);
  }
}

uint64_t sub_246BE039C()
{
  uint64_t v2 = v0[14];
  uint64_t v1 = v0[15];
  uint64_t v3 = v0[13];
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v1, v3);
  uint64_t v4 = (void *)v0[2];
  if (qword_2691D6320 != -1) {
    swift_once();
  }
  uint64_t v5 = sub_246C2C088();
  sub_246B8BE0C(v5, (uint64_t)qword_2691E01B0);
  id v6 = v4;
  id v7 = v4;
  uint64_t v8 = sub_246C2C068();
  os_log_type_t v9 = sub_246C2CEE8();
  if (os_log_type_enabled(v8, v9))
  {
    unint64_t v10 = (uint8_t *)swift_slowAlloc();
    unint64_t v11 = (void *)swift_slowAlloc();
    *(_DWORD *)unint64_t v10 = 138412290;
    v0[3] = v4;
    id v12 = v4;
    sub_246B80250(&qword_2691D69A8);
    if (sub_246C2D548())
    {
    }
    else
    {
      swift_allocError();
      *uint64_t v13 = v0[3];
    }
    uint64_t v14 = _swift_stdlib_bridgeErrorToNSError();
    v0[4] = v14;
    sub_246C2D1C8();
    void *v11 = v14;

    _os_log_impl(&dword_246B51000, v8, v9, "Failed to get elements from sequence: %@", v10, 0xCu);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v11, -1, -1);
    MEMORY[0x24C545990](v10, -1, -1);
  }
  else
  {
  }
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v15 = (uint64_t (*)(uint64_t))v0[1];
  uint64_t v16 = MEMORY[0x263F8EE78];
  return v15(v16);
}

id sub_246BE0640(id result)
{
  if (result != (id)1) {
    return result;
  }
  return result;
}

uint64_t sub_246BE0650()
{
  swift_unknownObjectRelease();

  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_246BE0698(uint64_t a1)
{
  uint64_t v4 = v1[2];
  uint64_t v5 = v1[3];
  uint64_t v7 = v1[4];
  uint64_t v6 = v1[5];
  uint64_t v8 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v8;
  void *v8 = v2;
  v8[1] = sub_246B803A8;
  return sub_246BDBDCC(a1, v4, v5, v7, v6);
}

uint64_t sub_246BE0758()
{
  v0[3] = sub_246C2CE08();
  v0[4] = sub_246C2CDF8();
  uint64_t v1 = (void *)swift_task_alloc();
  v0[5] = v1;
  void *v1 = v0;
  v1[1] = sub_246BE0808;
  return MEMORY[0x270F53918]();
}

uint64_t sub_246BE0808(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 48) = v1;
  swift_task_dealloc();
  if (v1)
  {
    uint64_t v5 = sub_246C2CDA8();
    uint64_t v7 = v6;
    uint64_t v8 = sub_246BE09F0;
  }
  else
  {
    *(void *)(v4 + 56) = a1;
    uint64_t v5 = sub_246C2CDA8();
    uint64_t v7 = v9;
    uint64_t v8 = sub_246BE0988;
  }
  return MEMORY[0x270FA2498](v8, v5, v7);
}

uint64_t sub_246BE0988()
{
  uint64_t v1 = *(void *)(v0 + 56);
  swift_release();
  uint64_t v2 = *(uint64_t (**)(uint64_t))(v0 + 8);
  return v2(v1);
}

uint64_t sub_246BE09F0()
{
  swift_release();
  if (qword_2691D6320 != -1) {
    swift_once();
  }
  uint64_t v1 = (void *)v0[6];
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E01B0);
  id v3 = v1;
  id v4 = v1;
  uint64_t v5 = sub_246C2C068();
  os_log_type_t v6 = sub_246C2CEE8();
  BOOL v7 = os_log_type_enabled(v5, v6);
  uint64_t v8 = (void *)v0[6];
  if (v7)
  {
    uint64_t v9 = (uint8_t *)swift_slowAlloc();
    uint64_t v10 = (void *)swift_slowAlloc();
    *(_DWORD *)uint64_t v9 = 138412290;
    id v11 = v8;
    uint64_t v12 = _swift_stdlib_bridgeErrorToNSError();
    v0[2] = v12;
    sub_246C2D1C8();
    *uint64_t v10 = v12;

    _os_log_impl(&dword_246B51000, v5, v6, "Failed to fetch daemon data: %@", v9, 0xCu);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v10, -1, -1);
    MEMORY[0x24C545990](v9, -1, -1);
  }
  else
  {
  }
  uint64_t v13 = (uint64_t (*)(void))v0[1];
  return v13(0);
}

uint64_t sub_246BE0C00()
{
  v0[3] = sub_246C2CE08();
  v0[4] = sub_246C2CDF8();
  uint64_t v1 = (void *)swift_task_alloc();
  v0[5] = v1;
  void *v1 = v0;
  v1[1] = sub_246BE0CB0;
  return MEMORY[0x270F53920]();
}

uint64_t sub_246BE0CB0(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 48) = v1;
  swift_task_dealloc();
  if (v1)
  {
    uint64_t v5 = sub_246C2CDA8();
    uint64_t v7 = v6;
    uint64_t v8 = sub_246BE0EE4;
  }
  else
  {
    *(void *)(v4 + 56) = a1;
    uint64_t v5 = sub_246C2CDA8();
    uint64_t v7 = v9;
    uint64_t v8 = sub_246BE0EF0;
  }
  return MEMORY[0x270FA2498](v8, v5, v7);
}

uint64_t sub_246BE0E30()
{
  v0[3] = sub_246C2CE08();
  v0[4] = sub_246C2CDF8();
  uint64_t v1 = (void *)swift_task_alloc();
  v0[5] = v1;
  void *v1 = v0;
  v1[1] = sub_246BE0CB0;
  return MEMORY[0x270F53930]();
}

uint64_t sub_246BE0EF8(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246BE0F0C(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 16))();
}

uint64_t sub_246BE0F20(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 24))();
}

uint64_t sub_246BE1000()
{
  uint64_t v1 = v0;
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_timeView);
  *(void *)(v2 + OBJC_IVAR___NTKParmesanTimeView_complicationVisibility) = *(void *)(v1
                                                                                       + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility);
  sub_246BC5900();
  uint64_t result = MEMORY[0x24C545A70](v1 + OBJC_IVAR___NTKParmesanGalleryView_transitionDelegate);
  if (result)
  {
    uint64_t v4 = (void *)result;
    id v5 = objc_retain(*(id *)(*(void *)(v2 + OBJC_IVAR___NTKParmesanTimeView_appearance)
                           + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout));
    objc_msgSend(v4, sel_didFinishTransitionToLayout_, v5);

    return swift_unknownObjectRelease();
  }
  return result;
}

void sub_246BE1158()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v1)
  {
    uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility);
    id v9 = *(id *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_contentEffect);
    objc_msgSend(v1, sel_applyContentEffect_with_, v9, v2);
    uint64_t v3 = (void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects);
    uint64_t v4 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects);
    id v5 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects + 8);
    void *v3 = 0;
    v3[1] = 0;
    sub_246BC80B0(v4, v5);
  }
  else
  {
    uint64_t v6 = (void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects);
    uint64_t v7 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects);
    uint64_t v8 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects + 8);
    *uint64_t v6 = 0;
    v6[1] = 0;
    sub_246BC80B0(v7, v8);
  }
}

char *sub_246BE1364(void *a1, uint64_t a2, uint64_t a3, void *a4, void *a5, void *a6, double a7, double a8, double a9, double a10)
{
  *(void *)&v10[OBJC_IVAR___NTKParmesanGalleryView_currentItem] = 0;
  *(void *)&v10[OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility] = 0;
  uint64_t v19 = OBJC_IVAR___NTKParmesanGalleryView_complicationVibrantEffectView;
  uint64_t v20 = (objc_class *)type metadata accessor for ParmesanVibrantEffectView();
  id v21 = objc_allocWithZone(v20);
  id v22 = v10;
  *(void *)&v10[v19] = objc_msgSend(v21, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v23 = OBJC_IVAR___NTKParmesanGalleryView_timeVibrantEffectView;
  *(void *)&v22[v23] = objc_msgSend(objc_allocWithZone(v20), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v24 = OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView;
  objc_super v25 = (objc_class *)type metadata accessor for ParmesanGalleryTransitionContainerView();
  *(void *)&v22[v24] = objc_msgSend(objc_allocWithZone(v25), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v26 = OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView;
  *(void *)&v22[v26] = objc_msgSend(objc_allocWithZone(v25), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v27 = OBJC_IVAR___NTKParmesanGalleryView_contentEffect;
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_contentEffect] = 0;
  v22[OBJC_IVAR___NTKParmesanGalleryView_isGeneratingSwatch] = 0;
  v22[OBJC_IVAR___NTKParmesanGalleryView_pausedState] = 1;
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_tritiumProgress] = 0;
  swift_unknownObjectWeakInit();
  uint64_t v28 = OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator;
  *(void *)&v22[v28] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryTransitionCoordinator()), sel_init);
  unint64_t v29 = &v22[OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects];
  *(void *)unint64_t v29 = 0;
  *((void *)v29 + 1) = 0;
  unint64_t v30 = (uint64_t *)&v22[OBJC_IVAR___NTKParmesanGalleryView_tritiumTransition];
  type metadata accessor for ParmesanGalleryTransitionTritiumOn();
  *unint64_t v30 = swift_allocObject();
  v30[1] = (uint64_t)&off_26FB20F00;
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle] = a5;
  int v31 = *(void **)&v22[v27];
  *(void *)&v22[v27] = a6;
  id v74 = a5;
  id v73 = a6;

  id v32 = (objc_class *)type metadata accessor for ParmesanTimeAppearance();
  id v33 = (char *)objc_allocWithZone(v32);
  *(void *)&v33[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout] = a4;
  *(void *)&v33[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device] = a1;
  *(void *)&v33[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface] = a2;
  *(void *)&v33[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals] = a3;
  v80.receiver = v33;
  v80.uint64_t super_class = v32;
  id v72 = a4;
  id v34 = a1;
  id v35 = objc_msgSendSuper2(&v80, sel_init);
  id v36 = objc_allocWithZone((Class)type metadata accessor for ParmesanTimeView());
  id v70 = v35;
  id v37 = sub_246BC52C4(v70, 0.0, 0.0, a9, a10);
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_timeView] = v37;
  objc_msgSend(v37, sel_setUserInteractionEnabled_, 0);
  id v38 = objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryNoPhotosView());
  id v39 = v34;
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_noPhotosView] = sub_246BC8B28(v39, 0.0, 0.0, a9, a10);
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryView_device] = v39;
  id v68 = v39;

  v79.receiver = v22;
  v79.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryView();
  id v40 = objc_msgSendSuper2(&v79, sel_initWithFrame_, a7, a8, a9, a10);
  objc_msgSend(v40, sel_setClipsToBounds_, 1);
  id v41 = self;
  id v42 = (char *)v40;
  id v43 = objc_msgSend(v41, sel_blackColor);
  objc_msgSend(v42, sel_setBackgroundColor_, v43);

  id v44 = objc_msgSend(v42, sel_layer);
  objc_msgSend(v44, sel_setAllowsGroupOpacity_, 1);

  uint64_t v45 = *(void **)&v42[OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView];
  objc_msgSend(v45, sel_setFrame_, 0.0, 0.0, a9, a10);
  objc_msgSend(v42, sel_addSubview_, v45);
  sub_246C2CCA8();
  uint64_t v77 = 0x6E6173656D726170;
  unint64_t v78 = 0xEF2D73656269762DLL;
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  uint64_t v46 = OBJC_IVAR___NTKParmesanGalleryView_timeVibrantEffectView;
  uint64_t v47 = *(char **)&v42[OBJC_IVAR___NTKParmesanGalleryView_timeVibrantEffectView];
  objc_msgSend(v47, sel_setFrame_, 0.0, 0.0, a9, a10);
  id v48 = &v47[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_backdropGroupName];
  *(void *)id v48 = 0x6E6173656D726170;
  *((void *)v48 + 1) = 0xEF2D73656269762DLL;
  uint64_t v49 = v47;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  id v50 = (objc_class *)type metadata accessor for ParmesanBackdropView();
  v76.receiver = v49;
  v76.uint64_t super_class = v50;
  id v51 = objc_msgSendSuper2(&v76, sel_layer);
  self;
  uint64_t v52 = (void *)swift_dynamicCastObjCClassUnconditional();
  if (*((void *)v48 + 1))
  {
    swift_bridgeObjectRetain();
    uint64_t v53 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v53 = 0;
  }
  objc_msgSend(v52, sel_setGroupName_, v53);

  uint64_t v54 = *(void **)&v42[OBJC_IVAR___NTKParmesanGalleryView_timeView];
  int64_t v55 = (char *)*(id *)&v42[v46];
  id v56 = v54;
  objc_msgSend(v56, sel_removeFromSuperview);
  objc_msgSend(*(id *)&v55[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_maskingView], sel_addSubview_, v56);

  objc_msgSend(v42, sel_addSubview_, *(void *)&v42[v46]);
  unint64_t v57 = *(void **)&v42[OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView];
  objc_msgSend(v57, sel_setFrame_, 0.0, 0.0, a9, a10);
  objc_msgSend(v42, sel_addSubview_, v57);
  uint64_t v58 = *(char **)&v42[OBJC_IVAR___NTKParmesanGalleryView_complicationVibrantEffectView];
  objc_msgSend(v58, sel_setFrame_, 0.0, 0.0, a9, a10);
  uint64_t v59 = &v58[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_backdropGroupName];
  *(void *)uint64_t v59 = 0x6E6173656D726170;
  *((void *)v59 + 1) = 0xEF2D73656269762DLL;
  uint64_t v60 = v58;
  swift_bridgeObjectRelease();
  v75.receiver = v60;
  v75.uint64_t super_class = v50;
  id v61 = objc_msgSendSuper2(&v75, sel_layer);
  self;
  uint64_t v62 = (void *)swift_dynamicCastObjCClassUnconditional();
  if (*((void *)v59 + 1))
  {
    swift_bridgeObjectRetain();
    uint64_t v63 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v63 = 0;
  }
  objc_msgSend(v62, sel_setGroupName_, v63);

  unint64_t v64 = *(void **)&v42[OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle];
  id v65 = v64;
  uint64_t v66 = sub_246BE1CBC(v64);

  sub_246BADD4C(v66);
  sub_246BADD4C(v66);

  swift_release();
  return v42;
}

void sub_246BE1B98(uint64_t a1)
{
  uint64_t v2 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_timeView);
  *(void *)(*(void *)(v2 + OBJC_IVAR___NTKParmesanTimeView_appearance)
            + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals) = a1;
  uint64_t v3 = CLKLocaleNumberSystemFromNumeralOption();
  id v4 = objc_msgSend(self, sel_currentDevice);
  int v5 = NTKShowIndicScriptNumerals();

  if (v5) {
    uint64_t v3 = CLKLocaleNumberSystemFromNumeralOption();
  }
  objc_msgSend(*(id *)(v2 + OBJC_IVAR___NTKParmesanTimeView_timeFormatter), sel_setForcedNumberSystem_, v3);
  sub_246BC5900();
}

uint64_t sub_246BE1CBC(void *a1)
{
  uint64_t v3 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v3)
  {
    id v4 = *(void **)(v3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
    int v5 = v4;
  }
  else
  {
    id v4 = 0;
  }
  type metadata accessor for ParmesanTimeEffect();
  uint64_t v6 = swift_allocObject();
  *(void *)(v6 + 16) = a1;
  *(void *)(v6 + 24) = 0;
  id v7 = a1;
  if (a1)
  {
LABEL_8:

    return v6;
  }
  if (v4)
  {
    uint64_t v8 = (*(uint64_t (**)(id))((*MEMORY[0x263F8EED0] & *v4) + 0xA0))(v7);
    if (v8) {
      *(void *)(v6 + 24) = v8;
    }
    goto LABEL_8;
  }
  return v6;
}

void sub_246BE1D7C(void *a1, void *a2, double a3)
{
  uint64_t v4 = *(void *)&v3[OBJC_IVAR___NTKParmesanGalleryView_currentItem];
  if (!v4) {
    return;
  }
  int v5 = *(void **)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
  if (!v5) {
    return;
  }
  uint64_t v6 = v3;
  uint64_t v10 = *(void *)(*(void *)&v3[OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator]
                  + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context);
  uint64_t v11 = &v6[OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects];
  id v32 = *(id *)&v6[OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects];
  if (!v32)
  {
    id v18 = v5;
    char v19 = 1;
    uint64_t v16 = 0;
    if (v10) {
      goto LABEL_17;
    }
    goto LABEL_15;
  }
  uint64_t v31 = v10;
  uint64_t v12 = (void *)*((void *)v11 + 1);
  id v13 = v5;
  sub_246BE45E4(v32, v12);
  id v14 = v32;
  sub_246BC80B0(v32, v12);
  id v15 = *(id *)v11;
  if (*(void *)v11)
  {
    uint64_t v16 = (void *)*((void *)v11 + 1);
    sub_246BE45E4(*(id *)v11, v16);
    id v17 = v16;
    sub_246BC80B0(v15, v16);
  }
  else
  {
    uint64_t v16 = 0;
  }
  type metadata accessor for ParmesanGalleryContentEffect();
  id v20 = a1;
  id v21 = v14;
  char v22 = sub_246C2D108();

  char v19 = v22 ^ 1;
  if (!v16)
  {
    LOBYTE(v10) = v31;
    uint64_t v16 = 0;
    if (v31) {
      goto LABEL_17;
    }
    goto LABEL_15;
  }
  id v23 = a2;
  id v24 = v16;
  LOBYTE(v10) = sub_246C2D108();

  if (!v31)
  {
LABEL_15:
    type metadata accessor for ParmesanGalleryTransitionFade();
    uint64_t v25 = swift_allocObject();
    uint64_t v26 = v5;
    sub_246C20CD0((char *)v5, v26, v25, v6);

    swift_release();
    if ((v19 & 1) == 0) {
      goto LABEL_16;
    }
LABEL_17:
    v33[0] = a1;
    v33[1] = a2;
    id v27 = a1;
    id v28 = a2;
    sub_246BE3448(v33);
    id v29 = *(id *)v11;
    unint64_t v30 = (void *)*((void *)v11 + 1);
    *(void *)uint64_t v11 = v27;
    *((void *)v11 + 1) = v28;
    sub_246BC80B0(v29, v30);
    goto LABEL_18;
  }
  if (v19) {
    goto LABEL_17;
  }
LABEL_16:
  if ((v10 & 1) == 0) {
    goto LABEL_17;
  }
LABEL_18:
  sub_246BE2A50(a3);
}

void sub_246BE1FDC(void *a1, void *a2, long long *a3, double a4)
{
  type metadata accessor for ParmesanTimeAppearance();
  id v9 = a1;
  id v8 = a2;
  if (sub_246C2D108())
  {
    sub_246BC4DA4(v8);
  }
  else
  {
    sub_246BC4DA4(v9);
    sub_246BC626C(v8);
  }
  v10[0] = (uint64_t)v9;
  v10[1] = (uint64_t)v8;
  sub_246BE2E98(v10, a3, a4);
}

void sub_246BE20C0(unint64_t a1, void *a2, double a3)
{
  if (!a2) {
    return;
  }
  uint64_t v4 = v3;
  if (!a1)
  {
    uint64_t v11 = a2;
LABEL_7:
    uint64_t v12 = OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator;
    id v42 = v4;
    uint64_t v13 = *(void *)&v4[OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator]
        + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context;
    id v14 = *(void **)v13;
    id v41 = *(void **)v13;
    if (*(void *)v13)
    {
      uint64_t v16 = *(void *)(v13 + 8);
      id v15 = *(void **)(v13 + 16);
      id v18 = *(void **)(v13 + 24);
      id v17 = *(void **)(v13 + 32);
      char v19 = *(void **)(v13 + 40);
      if (v18)
      {
        sub_246BE4540(v14, *(void *)(v13 + 8), *(void **)(v13 + 16), *(void **)(v13 + 24), *(void **)(v13 + 32), *(void **)(v13 + 40));
        id v20 = v15;
        sub_246BE4624((uint64_t)v14, v16, v15, v18, v17, v19);
        if (v15)
        {
          id v44 = *(id *)&v20[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition];
          id v21 = v44;

          unint64_t v22 = (unint64_t)v44;
        }
        else
        {
          unint64_t v22 = 0;
        }
        id v23 = v42;
LABEL_15:
        uint64_t v24 = *(void *)&v23[v12]
            + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context;
        uint64_t v25 = *(void **)v24;
        id v45 = (id)v22;
        if (*(void *)v24)
        {
          uint64_t v26 = *(void *)(v24 + 8);
          id v27 = *(void **)(v24 + 16);
          id v29 = *(void **)(v24 + 24);
          id v28 = *(void **)(v24 + 32);
          unint64_t v30 = *(void **)(v24 + 40);
          if (v29)
          {
            sub_246BE4540(v25, *(void *)(v24 + 8), *(void **)(v24 + 16), *(void **)(v24 + 24), *(void **)(v24 + 32), *(void **)(v24 + 40));
            uint64_t v31 = v29;
            sub_246BE4624((uint64_t)v25, v26, v27, v29, v28, v30);
            id v32 = *(void **)&v31[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition];
            id v33 = v32;

            unint64_t v22 = (unint64_t)v45;
            goto LABEL_20;
          }
          swift_unknownObjectRetain();
          sub_246BE45A4(v27, 0);
          sub_246BE45E4(v28, v30);
          sub_246BE4624((uint64_t)v25, v26, v27, 0, v28, v30);
          unint64_t v22 = (unint64_t)v45;
        }
        id v32 = 0;
LABEL_20:
        int v34 = (v22 | a1) == 0;
        if (a1 && v22)
        {
          type metadata accessor for ParmesanGalleryComposition();
          id v35 = (id)a1;
          id v36 = v45;
          int v34 = sub_246C2D108();
        }
        if (!v32
          || (type metadata accessor for ParmesanGalleryComposition(),
              id v37 = a2,
              id v38 = v32,
              char v39 = sub_246C2D108(),
              v38,
              v37,
              !v41)
          || ((v34 ^ 1) & 1) != 0
          || (v39 & 1) == 0)
        {
          type metadata accessor for ParmesanGalleryTransitionFade();
          uint64_t v40 = swift_allocObject();
          sub_246C20CD0((char *)a1, a2, v40, v23);
          swift_release();
        }
        sub_246BE2A50(a3);

        uint64_t v10 = v45;
        goto LABEL_29;
      }
      swift_unknownObjectRetain();
      sub_246BE45A4(v15, 0);
      sub_246BE45E4(v17, v19);
      sub_246BE4624((uint64_t)v14, v16, v15, 0, v17, v19);
    }
    unint64_t v22 = 0;
    id v23 = v42;
    goto LABEL_15;
  }
  type metadata accessor for ParmesanGalleryComposition();
  id v43 = a2;
  id v8 = (id)a1;
  char v9 = sub_246C2D108();

  uint64_t v10 = v43;
  if ((v9 & 1) == 0) {
    goto LABEL_7;
  }
LABEL_29:
}

void sub_246BE2430(void *a1)
{
  uint64_t v2 = v1;
  if (a1)
  {
    uint64_t v3 = *(void **)&v1[OBJC_IVAR___NTKParmesanGalleryView_noPhotosView];
    id v4 = a1;
    objc_msgSend(v3, sel_removeFromSuperview);
    type metadata accessor for ParmesanGalleryTransitionNone();
    uint64_t v5 = swift_allocObject();
    uint64_t v6 = *(void *)&v2[OBJC_IVAR___NTKParmesanGalleryView_currentItem];
    if (v6)
    {
      id v18 = *(id *)(v6 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
      id v7 = v18;
    }
    else
    {
      id v18 = 0;
    }
    sub_246C22BE4(v18, v4, v5, v2);

    swift_release();
  }
  else
  {
    if (qword_2691D62D0 != -1) {
      swift_once();
    }
    uint64_t v8 = sub_246C2C088();
    sub_246B8BE0C(v8, (uint64_t)qword_2691E00C0);
    char v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CF08();
    if (os_log_type_enabled(v9, v10))
    {
      uint64_t v11 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v11 = 0;
      _os_log_impl(&dword_246B51000, v9, v10, "composition is nil; showing no content", v11, 2u);
      MEMORY[0x24C545990](v11, -1, -1);
    }

    if (v2[OBJC_IVAR___NTKParmesanGalleryView_isGeneratingSwatch] == 1)
    {
      uint64_t v12 = *(void *)&v2[OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView];
      uint64_t v13 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
      objc_msgSend(*(id *)(v12+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
      id v14 = *(void **)(v12 + v13);
      *(void *)(v12 + v13) = 0;

      uint64_t v15 = *(void *)&v2[OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView];
      uint64_t v16 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
      objc_msgSend(*(id *)(v15+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
      id v17 = *(void **)(v15 + v16);
      *(void *)(v15 + v16) = 0;

      sub_246BE3F0C();
    }
    else
    {
      sub_246BE26F0(1);
    }
  }
}

void sub_246BE26F0(char a1)
{
  uint64_t v2 = v1;
  if (a1)
  {
    uint64_t v3 = *(char **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
    uint64_t v4 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    objc_msgSend(*(id *)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView], sel_removeFromSuperview);
    uint64_t v5 = *(void **)&v3[v4];
    *(void *)&v3[v4] = 0;

    uint64_t v6 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
    uint64_t v7 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    objc_msgSend(*(id *)(v6+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), (SEL)&selRef_setDisabledCapabilities_);
    uint64_t v8 = *(void **)(v6 + v7);
    *(void *)(v6 + v7) = 0;

    sub_246BE3F0C();
    char v9 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
    os_log_type_t v10 = (char *)objc_allocWithZone(v9);
    *(void *)&v10[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
    *(void *)&v10[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
    v33.receiver = v10;
    v33.uint64_t super_class = v9;
    id v11 = objc_msgSendSuper2(&v33, sel_init);
    uint64_t v12 = *(void **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_device);
    uint64_t v13 = *(void *)(*(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_timeView)
                    + OBJC_IVAR___NTKParmesanTimeView_appearance);
    uint64_t v14 = *(void *)(v13 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface);
    uint64_t v15 = *(void *)(v13 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals);
    uint64_t v16 = (objc_class *)type metadata accessor for ParmesanTimeAppearance();
    id v17 = (char *)objc_allocWithZone(v16);
    *(void *)&v17[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout] = v11;
    *(void *)&v17[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_device] = v12;
    *(void *)&v17[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface] = v14;
    *(void *)&v17[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_numerals] = v15;
    v32.receiver = v17;
    v32.uint64_t super_class = v16;
    id v18 = v12;
    id v19 = objc_msgSendSuper2(&v32, sel_init);
    sub_246BC4DA4(v19);
    id v20 = *(void **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_noPhotosView);
    uint64_t v21 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView;
    objc_msgSend(*(id *)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView], sel_removeFromSuperview, v32.receiver, v32.super_class);
    unint64_t v22 = *(void **)&v3[v21];
    *(void *)&v3[v21] = 0;

    objc_msgSend(*(id *)&v3[v21], sel_removeFromSuperview);
    id v23 = v20;
    objc_msgSend(v3, sel_addSubview_, v23);
    uint64_t v24 = *(void **)&v3[v21];
    *(void *)&v3[v21] = v20;

    objc_msgSend(v23, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], *(double *)(MEMORY[0x263F82250] + 8), *(double *)(MEMORY[0x263F82250] + 16), *(double *)(MEMORY[0x263F82250] + 24));
    sub_246BB6A38();
    uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
    uint64_t v26 = (void *)sub_246C2CC08();
    id v27 = (void *)sub_246C2CC08();
    id v28 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v26, v27);

    sub_246C2CC48();
    id v29 = *(id *)&v23[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryNoPhotosView_label];
    unint64_t v30 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v29, sel_setText_, v30);
  }
  else
  {
    uint64_t v31 = *(void **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_noPhotosView);
    objc_msgSend(v31, sel_removeFromSuperview);
  }
}

void sub_246BE2A50(double a1)
{
  void (*v35)(long long *__return_ptr, uint64_t, uint64_t);
  id v36;
  id v37;
  uint64_t v38;
  uint64_t v39;
  uint64_t v40;
  void *v41;
  void *v42;
  char *v43;
  uint64_t v44;
  id v45;
  void *v46;
  uint64_t v47[2];
  long long v48[3];
  uint64_t vars8;

  uint64_t v2 = v1;
  uint64_t v3 = (uint64_t *)(*(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator)
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context);
  uint64_t v4 = *v3;
  if (*v3)
  {
    uint64_t v6 = v3[1];
    uint64_t v7 = (void *)v3[2];
    uint64_t v8 = (void *)v3[3];
    char v9 = (void *)v3[4];
    os_log_type_t v10 = (void *)v3[5];
    id v11 = self;
    swift_unknownObjectRetain();
    sub_246BE45A4(v7, v8);
    sub_246BE45E4(v9, v10);
    objc_msgSend(v11, sel_begin);
    id v45 = v11;
    objc_msgSend(v11, sel_setDisableActions_, 1);
    if (!v8)
    {
LABEL_18:
      if (v9)
      {
        v47[0] = (uint64_t)v9;
        v47[1] = (uint64_t)v10;
        uint64_t ObjectType = swift_getObjectType();
        id v35 = *(void (**)(long long *__return_ptr, uint64_t, uint64_t))(v6 + 24);
        id v36 = v9;
        id v37 = v10;
        v35(v48, ObjectType, v6);
        sub_246BE2E98(v47, v48, a1);
        sub_246BE46C8((uint64_t)v48);
        sub_246BC80B0(v9, v10);
      }
      objc_msgSend(v45, sel_commit, v42);
      sub_246BE4624(v4, v6, v7, v8, v9, v10);
      return;
    }
    id v42 = v10;
    uint64_t v12 = swift_getObjectType();
    *(void *)&v48[0] = v7;
    *((void *)&v48[0] + 1) = v8;
    uint64_t v46 = v7;
    uint64_t v13 = *(void (**)(long long *, uint64_t, uint64_t, double))(v6 + 32);
    uint64_t v14 = v46;
    id v43 = v8;
    id v44 = v6;
    v13(v48, v12, v6, a1);
    uint64_t v15 = OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle;
    uint64_t v16 = *(void **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle);
    if (v46)
    {
      id v17 = *(void **)&v14[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition];
      id v18 = v17;
    }
    else
    {
      id v17 = 0;
    }
    type metadata accessor for ParmesanTimeEffect();
    uint64_t inited = swift_initStackObject();
    *(void *)(inited + 16) = v16;
    *(void *)(inited + 24) = 0;
    id v26 = v16;
    if (v16)
    {
      id v27 = v43;
    }
    else
    {
      id v27 = v43;
      if (!v17) {
        goto LABEL_13;
      }
      id v38 = (*(uint64_t (**)(id))((*MEMORY[0x263F8EED0] & *v17) + 0xA0))(v26);
      if (!v38)
      {
LABEL_12:

LABEL_13:
        id v28 = *(void **)(v2 + v15);
        id v29 = *(void **)&v27[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition];
        uint64_t v30 = swift_initStackObject();
        *(void *)(v30 + 16) = v28;
        *(void *)(v30 + 24) = 0;
        id v31 = v28;
        objc_super v32 = v29;
        objc_super v33 = v32;
        if (v28)
        {

          id v29 = 0;
        }
        else if (v29)
        {
          uint64_t v40 = (*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v32) + 0xA0))();
          id v29 = (void *)v40;
          if (v40)
          {
            id v41 = *(void **)(v30 + 24);
            *(void *)(v30 + 24) = v40;
          }
          else
          {
          }
        }
        os_log_type_t v10 = v42;
        if (!sub_246BDA2B4(inited, v30))
        {
          sub_246BADFAC(inited, v30);
          sub_246BADFAC(inited, v30);
        }

        swift_setDeallocating();
        uint64_t v7 = v46;
        sub_246BE4688(v46, v8);
        uint64_t v6 = v44;
        goto LABEL_18;
      }
      char v39 = v38;
      id v26 = v17;
      id v17 = *(void **)(inited + 24);
      *(void *)(inited + 24) = v39;
    }

    goto LABEL_12;
  }
  uint64_t v19 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
  uint64_t v20 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)(v19 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
  uint64_t v21 = *(void **)(v19 + v20);
  *(void *)(v19 + v20) = 0;

  uint64_t v22 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
  uint64_t v23 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)(v22 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
  uint64_t v24 = *(void **)(v22 + v23);
  *(void *)(v22 + v23) = 0;
}

id sub_246BE2E98(uint64_t *a1, long long *a2, double a3)
{
  uint64_t v4 = v3;
  uint64_t v7 = *a1;
  uint64_t v8 = a1[1];
  double v9 = sub_246BAB554(a3);
  double v11 = v10;
  uint64_t v12 = *(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryView_timeView);
  uint64_t v13 = *(void **)(v12 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeAppearance);
  if (v13)
  {
    id v14 = v13;
    sub_246BC626C(v14);
  }
  uint64_t v15 = *(void **)(v12 + OBJC_IVAR___NTKParmesanTimeView_currentTimeLabel);
  if (v15) {
    objc_msgSend(v15, sel_setAlpha_, v9);
  }
  uint64_t v16 = *(void **)(v12 + OBJC_IVAR___NTKParmesanTimeView_transitioningTimeLabel);
  if (v16) {
    objc_msgSend(v16, sel_setAlpha_, v11);
  }
  uint64_t v17 = MEMORY[0x24C545A70](v4 + OBJC_IVAR___NTKParmesanGalleryView_transitionDelegate);
  if (v17)
  {
    id v18 = (void *)v17;
    uint64_t v19 = *(void **)(v7 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
    uint64_t v20 = *(void **)(v8 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
    id v21 = v19;
    id v22 = v20;
    objc_msgSend(v18, sel_transitioningFromLayout_toLayout_progress_, v21, v22, a3);

    swift_unknownObjectRelease();
  }
  sub_246BAB68C(a2, &v24);
  if (v25 != 1 && v25 != 2)
  {
    if ((*((double *)&v24 + 1) + v26) * 0.5 > a3) {
      return objc_msgSend(*(id *)(*(void *)(v4 + OBJC_IVAR___NTKParmesanGalleryView_complicationVibrantEffectView)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_maskingView), sel_setAlpha_, v9);
    }
    goto LABEL_12;
  }
  if (a3 >= 0.5) {
LABEL_12:
  }
    double v9 = v11;
  return objc_msgSend(*(id *)(*(void *)(v4 + OBJC_IVAR___NTKParmesanGalleryView_complicationVibrantEffectView)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion26ParmesanMaskedBackdropView_maskingView), sel_setAlpha_, v9);
}

void sub_246BE3058()
{
  uint64_t v1 = v0;
  sub_246BE2A50(1.0);
  if (qword_2691D62D8 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E00D8);
  uint64_t v3 = sub_246C2C068();
  os_log_type_t v4 = sub_246C2CED8();
  if (os_log_type_enabled(v3, v4))
  {
    uint64_t v5 = (uint8_t *)swift_slowAlloc();
    uint64_t v6 = swift_slowAlloc();
    uint64_t v43 = v6;
    *(_DWORD *)uint64_t v5 = 136315138;
    sub_246BA686C(0xD000000000000012, 0x8000000246C3F0F0, &v43);
    sub_246C2D1C8();
    _os_log_impl(&dword_246B51000, v3, v4, "%s", v5, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v6, -1, -1);
    MEMORY[0x24C545990](v5, -1, -1);
  }

  uint64_t v7 = (uint64_t *)(*(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator)
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context);
  if (*v7)
  {
    uint64_t v40 = OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator;
    uint64_t v8 = (void *)v7[2];
    uint64_t v42 = v7[1];
    double v10 = (void *)v7[3];
    double v9 = (void *)v7[4];
    uint64_t v11 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
    uint64_t v12 = (void *)v7[5];
    uint64_t v13 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    id v14 = *(void **)(v11
                   + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView);
    uint64_t v41 = *v7;
    swift_unknownObjectRetain();
    sub_246BE45A4(v8, v10);
    sub_246BE45E4(v9, v12);
    objc_msgSend(v14, sel_removeFromSuperview);
    uint64_t v15 = *(void **)(v11 + v13);
    *(void *)(v11 + v13) = 0;

    uint64_t v16 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
    uint64_t v17 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    objc_msgSend(*(id *)(v16+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
    id v18 = *(void **)(v16 + v17);
    *(void *)(v16 + v17) = 0;

    if (v10)
    {
      id v19 = v10;
      sub_246BE3B20((char *)v10);
    }
    if (v9)
    {
      uint64_t v20 = v12;
      sub_246BC619C(v20);
      uint64_t v21 = MEMORY[0x24C545A70](v1 + OBJC_IVAR___NTKParmesanGalleryView_transitionDelegate);
      if (v21)
      {
        id v22 = (void *)v21;
        id v23 = *(id *)&v20[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout];
        objc_msgSend(v22, sel_didFinishTransitionToLayout_, v23);

        swift_unknownObjectRelease();
      }
      else
      {
      }
    }
    uint64_t v30 = *(void **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle);
    id v31 = v30;
    uint64_t v32 = sub_246BE1CBC(v30);

    sub_246BADD4C(v32);
    sub_246BADD4C(v32);
    swift_release();
    objc_super v33 = (uint64_t *)(*(void *)(v1 + v40)
                    + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context);
    uint64_t v34 = *v33;
    uint64_t v35 = v33[1];
    id v36 = (void *)v33[2];
    id v37 = (void *)v33[3];
    id v38 = (void *)v33[4];
    char v39 = (void *)v33[5];
    *(_OWORD *)objc_super v33 = 0u;
    *((_OWORD *)v33 + 1) = 0u;
    *((_OWORD *)v33 + 2) = 0u;
    sub_246BE4624(v34, v35, v36, v37, v38, v39);
    sub_246BE4624(v41, v42, v8, v10, v9, v12);
  }
  else
  {
    uint64_t v24 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
    uint64_t v25 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    objc_msgSend(*(id *)(v24+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
    double v26 = *(void **)(v24 + v25);
    *(void *)(v24 + v25) = 0;

    uint64_t v27 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
    uint64_t v28 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
    objc_msgSend(*(id *)(v27+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
    id v29 = *(void **)(v27 + v28);
    *(void *)(v27 + v28) = 0;
  }
}

void sub_246BE3448(id *a1)
{
  uint64_t v2 = OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator;
  id v3 = a1[1];
  uint64_t v4 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator)
     + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context;
  uint64_t v5 = *(void **)v4;
  if (*(void *)v4)
  {
    id v6 = a1[1];
    uint64_t v8 = *(void *)(v4 + 8);
    uint64_t v7 = *(void **)(v4 + 16);
    double v10 = *(void **)(v4 + 24);
    double v9 = *(void **)(v4 + 32);
    uint64_t v11 = *(void **)(v4 + 40);
    if (v10)
    {
      id v20 = *a1;
      sub_246BE4540(v5, v8, v7, v10, v9, v11);
      id v12 = v7;
      sub_246BE4624((uint64_t)v5, v8, v7, v10, v9, v11);
      id v3 = v6;
      if (v7)
      {
        objc_msgSend(v12, sel_applyContentEffect_with_, v20, *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility));
      }
    }
    else
    {
      swift_unknownObjectRetain();
      sub_246BE45A4(v7, 0);
      sub_246BE45E4(v9, v11);
      sub_246BE4624((uint64_t)v5, v8, v7, 0, v9, v11);
      id v3 = v6;
    }
  }
  uint64_t v13 = *(void *)(v1 + v2)
      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context;
  id v14 = *(id *)v13;
  if (*(void *)v13)
  {
    uint64_t v15 = *(void *)(v13 + 8);
    uint64_t v16 = *(void **)(v13 + 16);
    id v18 = *(void **)(v13 + 24);
    uint64_t v17 = *(void **)(v13 + 32);
    id v19 = *(void **)(v13 + 40);
    if (v18)
    {
      sub_246BE4540(*(id *)v13, *(void *)(v13 + 8), *(void **)(v13 + 16), *(void **)(v13 + 24), *(void **)(v13 + 32), *(void **)(v13 + 40));
      id v21 = v18;
      sub_246BE4624((uint64_t)v14, v15, v16, v18, v17, v19);
      objc_msgSend(v21, sel_applyContentEffect_with_, v3, *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility));
    }
    else
    {
      swift_unknownObjectRetain();
      sub_246BE45A4(v16, 0);
      sub_246BE45E4(v17, v19);
      sub_246BE4624((uint64_t)v14, v15, v16, 0, v17, v19);
    }
  }
}

void sub_246BE36AC(uint64_t a1)
{
  uint64_t v2 = v1;
  id v3 = *(void **)a1;
  uint64_t v4 = *(void **)(a1 + 8);
  if (!*(void *)a1) {
    goto LABEL_5;
  }
  uint64_t v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (!v5)
  {
    id v14 = v3;
    goto LABEL_15;
  }
  type metadata accessor for ParmesanGalleryItem();
  id v6 = v3;
  id v7 = v5;
  char v8 = sub_246C2D108();

  if ((v8 & 1) == 0)
  {
LABEL_15:
    id v15 = v3;
    sub_246BE3B20((char *)v3);

    goto LABEL_16;
  }

LABEL_5:
  uint64_t v9 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v9)
  {
    uint64_t v10 = *(void *)(v9 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v10)
    {
      uint64_t v11 = *(void *)(v10
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v11)
      {
        swift_getObjectType();
        uint64_t v12 = swift_conformsToProtocol2() ? v11 : 0;
        if (v12)
        {
          uint64_t v13 = *(void **)(v12
                         + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          if (v13) {
            objc_msgSend(v13, sel_pauseWithOperation_, 0);
          }
        }
      }
    }
  }
LABEL_16:
  uint64_t v16 = self;
  objc_msgSend(v16, sel_begin);
  objc_msgSend(v16, sel_setDisableActions_, 1);
  uint64_t v17 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
  uint64_t v18 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)(v17 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
  id v19 = *(void **)(v17 + v18);
  *(void *)(v17 + v18) = 0;

  uint64_t v20 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
  uint64_t v21 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)(v20 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView), sel_removeFromSuperview);
  id v22 = *(void **)(v20 + v21);
  *(void *)(v20 + v21) = 0;

  uint64_t v23 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_contentEffect);
  uint64_t v24 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility);
  uint64_t v34 = v4;
  objc_msgSend(v34, sel_applyContentEffect_with_, v23, v24);
  uint64_t v25 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views;
  double v26 = *(char **)&v34[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views];
  if (v26)
  {
    uint64_t v27 = *(void **)&v26[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
    uint64_t v28 = v26;
    if (v27)
    {
      id v29 = v27;
      sub_246C108AC();
      objc_msgSend(v29, sel_setAlpha_, 0.0);
    }
    uint64_t v30 = *(void **)&v26[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
    if (v30)
    {
      id v31 = v30;
      sub_246C108AC();
      objc_msgSend(v31, sel_setAlpha_, 0.0);

      double v26 = v31;
    }
  }
  uint64_t v32 = *(void **)&v34[v25];
  id v33 = v32;
  sub_246BE397C((uint64_t)v32);

  objc_msgSend(v16, sel_commit);
}

void sub_246BE397C(uint64_t a1)
{
  id v3 = *(char **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
  if (a1)
  {
    uint64_t v4 = *(void **)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
    if (v4) {
      id v5 = v4;
    }
  }
  else
  {
    uint64_t v4 = 0;
  }
  uint64_t v6 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView], sel_removeFromSuperview);
  id v7 = *(void **)&v3[v6];
  *(void *)&v3[v6] = 0;

  if (v4)
  {
    objc_msgSend(v3, sel_addSubview_, v4);
    char v8 = *(void **)&v3[v6];
    *(void *)&v3[v6] = v4;
  }
  if (*(void *)&v3[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView]) {
    objc_msgSend(v3, sel_bringSubviewToFront_);
  }

  uint64_t v9 = *(char **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
  if (a1
    && (uint64_t v10 = *(void **)(a1
                       + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView)) != 0)
  {
    id v16 = *(id *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView);
    id v11 = v10;
  }
  else
  {
    id v16 = 0;
  }
  uint64_t v12 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView;
  objc_msgSend(*(id *)&v9[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_transitionView], sel_removeFromSuperview);
  uint64_t v13 = *(void **)&v9[v12];
  *(void *)&v9[v12] = 0;

  id v14 = v16;
  if (v16)
  {
    objc_msgSend(v9, sel_addSubview_, v16);
    id v15 = *(void **)&v9[v12];
    *(void *)&v9[v12] = v16;

    id v14 = v16;
  }
  if (*(void *)&v9[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView])
  {
    id v17 = v14;
    objc_msgSend(v9, sel_bringSubviewToFront_);
    id v14 = v17;
  }
}

void sub_246BE3B20(char *a1)
{
  if (!a1) {
    return;
  }
  uint64_t v2 = v1;
  uint64_t v3 = OBJC_IVAR___NTKParmesanGalleryView_currentItem;
  uint64_t v4 = *(void **)(v1 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (!v4)
  {
    char v8 = a1;
    goto LABEL_7;
  }
  type metadata accessor for ParmesanGalleryItem();
  id v5 = a1;
  id v6 = v4;
  char v7 = sub_246C2D108();

  if ((v7 & 1) == 0)
  {
LABEL_7:
    uint64_t v9 = self;
    objc_msgSend(v9, sel_begin);
    objc_msgSend(v9, sel_setDisableActions_, 1);
    sub_246BE3F0C();
    uint64_t v10 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views;
    uint64_t v11 = *(void *)&a1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views];
    if (v11)
    {
      uint64_t v12 = *(void *)(v11
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v12)
      {
        int v13 = *(unsigned __int8 *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_pausedState);
        swift_getObjectType();
        uint64_t v14 = swift_conformsToProtocol2() ? v12 : 0;
        if (v14)
        {
          id v15 = *(void **)(v14
                         + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          if (v15)
          {
            if (v13) {
              uint64_t v16 = 0;
            }
            else {
              uint64_t v16 = 2;
            }
            id v17 = &selRef_pauseWithOperation_;
            if (!v13) {
              id v17 = &selRef_playWithOperation_;
            }
            objc_msgSend(v15, *v17, v16);
          }
        }
      }
    }
    objc_msgSend(a1, sel_applyContentEffect_with_, *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_contentEffect), *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility));
    uint64_t v18 = *(char **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
    uint64_t v19 = *(void *)&a1[v10];
    if (v19)
    {
      uint64_t v20 = *(void **)(v19 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v20) {
        id v21 = v20;
      }
    }
    else
    {
      uint64_t v20 = 0;
    }
    uint64_t v22 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView;
    objc_msgSend(*(id *)&v18[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView], sel_removeFromSuperview, v9);
    uint64_t v23 = *(void **)&v18[v22];
    *(void *)&v18[v22] = 0;

    objc_msgSend(*(id *)&v18[v22], sel_removeFromSuperview);
    if (v20)
    {
      id v24 = v20;
      objc_msgSend(v18, sel_addSubview_, v24);
      uint64_t v25 = *(void **)&v18[v22];
      *(void *)&v18[v22] = v20;
    }
    double v26 = *(char **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
    uint64_t v27 = *(void *)&a1[v10];
    if (v27)
    {
      uint64_t v28 = *(void **)(v27 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView);
      if (v28) {
        id v29 = v28;
      }
    }
    else
    {
      uint64_t v28 = 0;
    }
    uint64_t v30 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView;
    objc_msgSend(*(id *)&v26[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView], sel_removeFromSuperview);
    id v31 = *(void **)&v26[v30];
    *(void *)&v26[v30] = 0;

    objc_msgSend(*(id *)&v26[v30], sel_removeFromSuperview);
    if (v28)
    {
      id v32 = v28;
      objc_msgSend(v26, sel_addSubview_, v32);
      id v33 = *(void **)&v26[v30];
      *(void *)&v26[v30] = v28;
    }
    uint64_t v34 = a1;
    uint64_t v35 = *(void *)&a1[v10];
    if (v35)
    {
      uint64_t v36 = *(void *)(v35
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v36)
      {
        swift_getObjectType();
        uint64_t v37 = swift_conformsToProtocol2();
        uint64_t v34 = a1;
        uint64_t v38 = v37 ? v36 : 0;
        if (v38)
        {
          char v39 = *(void **)(v38
                         + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          if (v39)
          {
            objc_msgSend(v39, sel_prepareToPlayWithOperation_, 2);
            uint64_t v34 = a1;
          }
        }
      }
    }
    uint64_t v40 = *(void **)(v2 + v3);
    *(void *)(v2 + v3) = v34;
    id v41 = v34;

    uint64_t v42 = *(void **)(v2 + OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle);
    id v43 = v42;
    uint64_t v44 = sub_246BE1CBC(v42);

    sub_246BADD4C(v44);
    sub_246BADD4C(v44);
    swift_release();
    objc_msgSend(v45, sel_commit);
  }
}

void sub_246BE3F0C()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanGalleryView_currentItem;
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v2)
  {
    uint64_t v3 = *(void *)(v2 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v3)
    {
      uint64_t v4 = *(void *)(v3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v4)
      {
        swift_getObjectType();
        uint64_t v5 = swift_conformsToProtocol2() ? v4 : 0;
        if (v5)
        {
          id v6 = *(void **)(v5
                        + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          if (v6) {
            objc_msgSend(v6, sel_pauseWithOperation_, 0);
          }
        }
      }
    }
  }
  uint64_t v7 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView);
  uint64_t v8 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView;
  objc_msgSend(*(id *)(v7 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView), sel_removeFromSuperview);
  uint64_t v9 = *(void **)(v7 + v8);
  *(void *)(v7 + v8) = 0;

  uint64_t v10 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView);
  uint64_t v11 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView;
  objc_msgSend(*(id *)(v10 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion38ParmesanGalleryTransitionContainerView_currentView), sel_removeFromSuperview);
  uint64_t v12 = *(void **)(v10 + v11);
  *(void *)(v10 + v11) = 0;

  int v13 = *(char **)(v0 + v1);
  if (v13)
  {
    uint64_t v14 = *(void *)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views];
    if (v14)
    {
      uint64_t v15 = *(void *)(v14
                      + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v15)
      {
        uint64_t v18 = *(char **)(v0 + v1);
        swift_getObjectType();
        if (swift_conformsToProtocol2()) {
          uint64_t v16 = v15;
        }
        else {
          uint64_t v16 = 0;
        }
        if (v16)
        {
          id v17 = *(void **)(v16
                         + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          int v13 = v18;
          if (v17)
          {
            objc_msgSend(v17, sel_pauseWithOperation_, 0);
            int v13 = *(char **)(v0 + v1);
          }
        }
        else
        {
          int v13 = v18;
        }
      }
    }
  }
  *(void *)(v0 + v1) = 0;
}

uint64_t sub_246BE40C4(uint64_t result)
{
  int v2 = result & 1;
  *(unsigned char *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_pausedState) = result & 1;
  uint64_t v3 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v3)
  {
    uint64_t v4 = *(void *)(v3 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v4)
    {
      uint64_t v5 = *(void *)(v4 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView);
      if (v5)
      {
        swift_getObjectType();
        uint64_t result = swift_conformsToProtocol2();
        uint64_t v6 = result ? v5 : 0;
        if (v6)
        {
          uint64_t result = *(void *)(v6
                             + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion35ParmesanGalleryLivePhotoContentView_mediaAssetView);
          if (result)
          {
            uint64_t v7 = &selRef_playWithOperation_;
            if (v2) {
              uint64_t v7 = &selRef_pauseWithOperation_;
            }
            uint64_t v8 = *v7;
            return (uint64_t)objc_msgSend((id)result, v8, (2 * v2) ^ 2u);
          }
        }
      }
    }
  }
  return result;
}

void sub_246BE41B0()
{
  uint64_t v1 = v0;
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator)
     + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion36ParmesanGalleryTransitionCoordinator_context;
  id v3 = *(id *)v2;
  if (*(void *)v2)
  {
    uint64_t v5 = *(void *)(v2 + 8);
    uint64_t v4 = *(void **)(v2 + 16);
    uint64_t v7 = *(void **)(v2 + 24);
    uint64_t v6 = *(void **)(v2 + 32);
    uint64_t v8 = *(void **)(v2 + 40);
    if (v7)
    {
      sub_246BE4540(*(id *)v2, *(void *)(v2 + 8), *(void **)(v2 + 16), *(void **)(v2 + 24), *(void **)(v2 + 32), *(void **)(v2 + 40));
      sub_246BE45A4(v4, v7);
      sub_246BE4624((uint64_t)v3, v5, v4, v7, v6, v8);
      *(void *)&v21.CGFloat a = v4;
      *(void *)&v21.CGFloat b = v7;
      sub_246BC03C4();
      sub_246BE4688(v4, v7);
    }
    else
    {
      swift_unknownObjectRetain();
      sub_246BE45A4(v4, 0);
      sub_246BE45E4(v6, v8);
      sub_246BE4624((uint64_t)v3, v5, v4, 0, v6, v8);
    }
  }
  uint64_t v9 = *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (v9)
  {
    uint64_t v10 = *(void **)(v9 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_views);
    if (v10)
    {
      uint64_t v11 = v10;
      sub_246C2C018();
      CGAffineTransformMakeScale(&v21, v12, v12);
      CGFloat a = v21.a;
      CGFloat b = v21.b;
      CGFloat c = v21.c;
      CGFloat d = v21.d;
      tCGFloat x = v21.tx;
      tCGFloat y = v21.ty;
      uint64_t v19 = *(void **)&v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_backgroundView];
      if (v19) {
        objc_msgSend(v19, sel_setTransform_, &v21);
      }
      uint64_t v20 = *(void **)&v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion27ParmesanGalleryContentViews_foregroundView];
      if (v20)
      {
        v21.CGFloat a = a;
        v21.CGFloat b = b;
        v21.CGFloat c = c;
        v21.CGFloat d = d;
        v21.tCGFloat x = tx;
        v21.tCGFloat y = ty;
        objc_msgSend(v20, sel_setTransform_, &v21);
      }
    }
  }
}

id sub_246BE43D8()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryView()
{
  return self;
}

id sub_246BE4540(id result, uint64_t a2, void *a3, void *a4, void *a5, void *a6)
{
  if (result)
  {
    swift_unknownObjectRetain();
    sub_246BE45A4(a3, a4);
    return sub_246BE45E4(a5, a6);
  }
  return result;
}

id sub_246BE45A4(id result, void *a2)
{
  if (a2)
  {
    id v2 = result;
    return a2;
  }
  return result;
}

id sub_246BE45E4(id result, void *a2)
{
  if (result)
  {
    id v2 = result;
    return a2;
  }
  return result;
}

void sub_246BE4624(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5, void *a6)
{
  if (a1)
  {
    swift_unknownObjectRelease();
    sub_246BE4688(a3, a4);
    sub_246BC80B0(a5, a6);
  }
}

void sub_246BE4688(void *a1, void *a2)
{
  if (a2)
  {
  }
}

uint64_t sub_246BE46C8(uint64_t a1)
{
  return a1;
}

void sub_246BE4700(uint64_t a1, uint64_t a2, char *a3, uint64_t a4, uint64_t a5, void *a6)
{
  if ((unint64_t)(a3 - 1) >= 2)
  {
  }
}

void sub_246BE4748()
{
  *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryView_currentItem] = 0;
  *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryView_complicationVisibility] = 0;
  uint64_t v1 = OBJC_IVAR___NTKParmesanGalleryView_complicationVibrantEffectView;
  id v2 = (objc_class *)type metadata accessor for ParmesanVibrantEffectView();
  *(void *)&v0[v1] = objc_msgSend(objc_allocWithZone(v2), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v3 = OBJC_IVAR___NTKParmesanGalleryView_timeVibrantEffectView;
  *(void *)&v0[v3] = objc_msgSend(objc_allocWithZone(v2), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v4 = OBJC_IVAR___NTKParmesanGalleryView_backgroundContainerView;
  uint64_t v5 = (objc_class *)type metadata accessor for ParmesanGalleryTransitionContainerView();
  *(void *)&v0[v4] = objc_msgSend(objc_allocWithZone(v5), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v6 = OBJC_IVAR___NTKParmesanGalleryView_foregroundContainerView;
  *(void *)&v0[v6] = objc_msgSend(objc_allocWithZone(v5), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryView_contentEffect] = 0;
  v0[OBJC_IVAR___NTKParmesanGalleryView_isGeneratingSwatch] = 0;
  v0[OBJC_IVAR___NTKParmesanGalleryView_pausedState] = 1;
  *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryView_tritiumProgress] = 0;
  swift_unknownObjectWeakInit();
  uint64_t v7 = OBJC_IVAR___NTKParmesanGalleryView_transitionCoordinator;
  *(void *)&v0[v7] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryTransitionCoordinator()), sel_init);
  uint64_t v8 = &v0[OBJC_IVAR___NTKParmesanGalleryView_transitioningContentEffects];
  void *v8 = 0;
  v8[1] = 0;
  uint64_t v9 = (uint64_t *)&v0[OBJC_IVAR___NTKParmesanGalleryView_tritiumTransition];
  type metadata accessor for ParmesanGalleryTransitionTritiumOn();
  uint64_t *v9 = swift_allocObject();
  v9[1] = (uint64_t)&off_26FB20F00;

  sub_246C2D3A8();
  __break(1u);
}

id sub_246BE4A18()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanBackdropView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanBackdropView()
{
  return self;
}

unint64_t sub_246BE4A70()
{
  unint64_t result = qword_2691D8038;
  if (!qword_2691D8038)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D8038);
  }
  return result;
}

id sub_246BE4B60()
{
  id v0 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  objc_msgSend(v0, sel_setTextAlignment_, 1);
  id v1 = objc_msgSend(self, sel_preferredFontForTextStyle_, *MEMORY[0x263F83610]);
  objc_msgSend(v0, sel_setFont_, v1);

  id v2 = objc_msgSend(self, sel_labelColor);
  objc_msgSend(v0, sel_setTextColor_, v2);

  objc_msgSend(v0, sel_setNumberOfLines_, 1);
  return v0;
}

id sub_246BE4D04(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR___NTKParmesanEditorNavigationBar_leadingButton;
  uint64_t v10 = self;
  uint64_t v11 = v4;
  *(void *)&v4[v9] = objc_msgSend(v10, sel_buttonWithType_, 1);
  uint64_t v12 = OBJC_IVAR___NTKParmesanEditorNavigationBar_trailingButton;
  *(void *)&v11[v12] = objc_msgSend(v10, sel_buttonWithType_, 1);
  uint64_t v13 = OBJC_IVAR___NTKParmesanEditorNavigationBar_titleLabel;
  *(void *)&v11[v13] = sub_246BE4B60();
  uint64_t v14 = OBJC_IVAR___NTKParmesanEditorNavigationBar_descriptionLabel;
  *(void *)&v11[v14] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanExpandableDescription()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);

  v17.receiver = v11;
  v17.uint64_t super_class = (Class)type metadata accessor for ParmesanEditorNavigationBar();
  id v15 = objc_msgSendSuper2(&v17, sel_initWithFrame_, a1, a2, a3, a4);
  sub_246BE4E84();

  return v15;
}

void sub_246BE4E84()
{
  id v1 = v0;
  id v2 = objc_msgSend(self, sel_systemBackgroundColor);
  objc_msgSend(v1, sel_setBackgroundColor_, v2);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_246C33600;
  uint64_t v4 = *(void **)&v1[OBJC_IVAR___NTKParmesanEditorNavigationBar_leadingButton];
  *(void *)(v3 + 32) = v4;
  id v5 = objc_allocWithZone(MEMORY[0x263F82E00]);
  id v6 = v4;
  id v7 = objc_msgSend(v5, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v8 = *(void **)&v1[OBJC_IVAR___NTKParmesanEditorNavigationBar_trailingButton];
  *(void *)(v3 + 40) = v7;
  *(void *)(v3 + 48) = v8;
  sub_246C2CD58();
  id v9 = objc_allocWithZone(MEMORY[0x263F82BF8]);
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D7D10);
  id v10 = v8;
  uint64_t v11 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v12 = objc_msgSend(v9, sel_initWithArrangedSubviews_, v11);

  objc_msgSend(v12, sel_setAxis_, 0);
  objc_msgSend(v12, sel_setAlignment_, 2);
  objc_msgSend(v1, sel_addSubview_, v12);
  uint64_t v13 = OBJC_IVAR___NTKParmesanEditorNavigationBar_titleLabel;
  objc_msgSend(v1, sel_addSubview_, *(void *)&v1[OBJC_IVAR___NTKParmesanEditorNavigationBar_titleLabel]);
  uint64_t v14 = OBJC_IVAR___NTKParmesanEditorNavigationBar_descriptionLabel;
  objc_msgSend(v1, sel_addSubview_, *(void *)&v1[OBJC_IVAR___NTKParmesanEditorNavigationBar_descriptionLabel]);
  double v15 = *MEMORY[0x263F82250];
  double v16 = *(double *)(MEMORY[0x263F82250] + 8);
  double v17 = *(double *)(MEMORY[0x263F82250] + 16);
  double v18 = *(double *)(MEMORY[0x263F82250] + 24);
  objc_msgSend(v12, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 11, 1, *MEMORY[0x263F82250], v16, v17, v18);
  objc_msgSend(*(id *)&v1[v13], sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 10, 1, v15, v16, v17, v18);
  objc_msgSend(*(id *)&v1[v14], sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 10, 1, v15, v16, v17, v18);
  id v29 = self;
  uint64_t v19 = swift_allocObject();
  *(_OWORD *)(v19 + 16) = xmmword_246C33600;
  id v20 = objc_msgSend(*(id *)&v1[v13], sel_topAnchor);
  id v21 = objc_msgSend(v12, sel_bottomAnchor);
  id v22 = objc_msgSend(v20, sel_constraintEqualToAnchor_constant_, v21, 6.0);

  *(void *)(v19 + 32) = v22;
  id v23 = objc_msgSend(*(id *)&v1[v14], sel_topAnchor);
  id v24 = objc_msgSend(*(id *)&v1[v13], sel_bottomAnchor);
  id v25 = objc_msgSend(v23, sel_constraintEqualToAnchor_constant_, v24, 0.0);

  *(void *)(v19 + 40) = v25;
  id v26 = objc_msgSend(v1, sel_bottomAnchor);
  id v27 = objc_msgSend(*(id *)&v1[v14], sel_bottomAnchor);
  id v28 = objc_msgSend(v26, sel_constraintEqualToAnchor_constant_, v27, 8.0);

  *(void *)(v19 + 48) = v28;
  sub_246C2CD58();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
  uint64_t v30 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v29, sel_activateConstraints_, v30);
}

id sub_246BE52B8()
{
  return sub_246BE60F4(type metadata accessor for ParmesanEditorNavigationBar);
}

uint64_t type metadata accessor for ParmesanEditorNavigationBar()
{
  return self;
}

char *sub_246BE54C4(double a1, double a2, double a3, double a4)
{
  *(void *)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_numberOfNonExpandedLines] = 3;
  v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_expanded] = 0;
  uint64_t v9 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_stackView;
  id v10 = objc_allocWithZone(MEMORY[0x263F82BF8]);
  uint64_t v11 = v4;
  *(void *)&v4[v9] = objc_msgSend(v10, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v12 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_descriptionLabel;
  *(void *)&v11[v12] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_moreLessButton] = 0;

  v24.receiver = v11;
  v24.uint64_t super_class = (Class)type metadata accessor for ParmesanExpandableDescription();
  uint64_t v13 = (char *)objc_msgSendSuper2(&v24, sel_initWithFrame_, a1, a2, a3, a4);
  objc_msgSend(v13, sel_setClipsToBounds_, 1);
  uint64_t v14 = *(void **)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_stackView];
  objc_msgSend(v14, sel_setAlignment_, 3);
  objc_msgSend(v14, sel_setAxis_, 1);
  objc_msgSend(v14, sel_setDistribution_, 4);
  objc_msgSend(v14, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  objc_msgSend(v14, sel_setSpacing_, 0.0);
  objc_msgSend(v13, sel_addSubview_, v14);
  double v15 = *MEMORY[0x263F82250];
  double v16 = *(double *)(MEMORY[0x263F82250] + 8);
  double v17 = *(double *)(MEMORY[0x263F82250] + 16);
  double v18 = *(double *)(MEMORY[0x263F82250] + 24);
  objc_msgSend(v14, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 15, 0, *MEMORY[0x263F82250], v16, v17, v18);
  uint64_t v19 = *(void **)&v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_descriptionLabel];
  id v20 = objc_msgSend(self, sel_preferredFontForTextStyle_, *MEMORY[0x263F83570]);
  objc_msgSend(v19, sel_setFont_, v20);

  id v21 = (id)BPSDetailTextColor();
  objc_msgSend(v19, sel_setTextColor_, v21);

  objc_msgSend(v19, sel_setTextAlignment_, 1);
  if (v13[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_expanded]) {
    uint64_t v22 = 0;
  }
  else {
    uint64_t v22 = 3;
  }
  objc_msgSend(v19, sel_setNumberOfLines_, v22);
  objc_msgSend(v19, sel_setAdjustsFontForContentSizeCategory_, 1);
  objc_msgSend(v19, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  objc_msgSend(v14, sel_addArrangedSubview_, v19);
  objc_msgSend(v19, sel_constrainToSuperviewWithEdges_insets_useLayoutMargins_, 10, 1, v15, v16, v17, v18);
  objc_msgSend(v14, sel_layoutIfNeeded);

  return v13;
}

uint64_t sub_246BE5820()
{
  id v1 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_descriptionLabel];
  objc_msgSend(v1, sel_setNumberOfLines_, 3);
  id v2 = self;
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = v0;
  uint64_t v4 = swift_allocObject();
  *(void *)(v4 + 16) = sub_246BE61E4;
  *(void *)(v4 + 24) = v3;
  uint64_t v37 = sub_246BE6210;
  uint64_t v38 = v4;
  uint64_t aBlock = MEMORY[0x263EF8330];
  uint64_t v34 = 1107296256;
  uint64_t v35 = sub_246BE5CE0;
  uint64_t v36 = &unk_26FB21CA8;
  id v5 = _Block_copy(&aBlock);
  id v6 = v0;
  swift_retain();
  swift_release();
  objc_msgSend(v2, sel_performWithoutAnimation_, v5);
  _Block_release(v5);
  LOBYTE(v5) = swift_isEscapingClosureAtFileLocation();
  uint64_t result = swift_release();
  if (v5)
  {
    __break(1u);
    return result;
  }
  id v8 = objc_msgSend(v1, sel_text);
  if (v8)
  {
    uint64_t v9 = v8;
    id v10 = objc_msgSend(v1, sel_font);
    if (v10)
    {
      uint64_t v11 = v10;
      objc_msgSend(v1, sel_layoutIfNeeded);
      objc_msgSend(v1, sel_bounds);
      double v13 = v12;
      sub_246B80250(&qword_2691D8088);
      uint64_t inited = swift_initStackObject();
      *(_OWORD *)(inited + 16) = xmmword_246C33620;
      double v15 = (void *)*MEMORY[0x263F814F0];
      *(void *)(inited + 32) = *MEMORY[0x263F814F0];
      *(void *)(inited + 64) = sub_246B8F1E0(0, &qword_2691D8090);
      *(void *)(inited + 40) = v11;
      id v16 = v15;
      id v17 = v11;
      sub_246C10C4C(inited);
      type metadata accessor for Key(0);
      sub_246BE62A8();
      double v18 = (void *)sub_246C2CBA8();
      swift_bridgeObjectRelease();
      objc_msgSend(v9, sel_boundingRectWithSize_options_attributes_context_, 1, v18, 0, v13, 1.79769313e308);
      double v20 = v19;

      objc_msgSend(v1, sel_bounds);
      double v22 = v21;

      if (v22 < v20)
      {
        objc_msgSend(v1, sel_setHidden_, (v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_expanded] & 1) == 0);
        sub_246BE5D84();
      }
    }
    else
    {
    }
  }
  id v23 = *(void **)&v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_moreLessButton];
  if (!v23) {
    goto LABEL_10;
  }
  uint64_t v24 = swift_allocObject();
  *(void *)(v24 + 16) = v23;
  *(void *)(v24 + 24) = v6;
  uint64_t v25 = swift_allocObject();
  id v26 = sub_246BE6290;
  *(void *)(v25 + 16) = sub_246BE6290;
  *(void *)(v25 + 24) = v24;
  uint64_t v37 = sub_246BE64F4;
  uint64_t v38 = v25;
  uint64_t aBlock = MEMORY[0x263EF8330];
  uint64_t v34 = 1107296256;
  uint64_t v35 = sub_246BE5CE0;
  uint64_t v36 = &unk_26FB21D20;
  id v27 = _Block_copy(&aBlock);
  id v28 = v23;
  id v29 = v6;
  id v30 = v28;
  swift_retain();
  swift_release();
  objc_msgSend(v2, sel_performWithoutAnimation_, v27);

  _Block_release(v27);
  char isEscapingClosureAtFileLocation = swift_isEscapingClosureAtFileLocation();
  swift_release();
  if (isEscapingClosureAtFileLocation)
  {
    __break(1u);
LABEL_10:
    id v26 = 0;
  }
  if (v6[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_expanded]) {
    uint64_t v32 = 0;
  }
  else {
    uint64_t v32 = 3;
  }
  objc_msgSend(v1, sel_setNumberOfLines_, v32);
  objc_msgSend(v6, sel_updateConstraintsIfNeeded);
  objc_msgSend(v6, sel_layoutIfNeeded);
  swift_release();
  return sub_246B8BDFC((uint64_t)v26);
}

uint64_t sub_246BE5CE0(uint64_t a1)
{
  return (*(uint64_t (**)(void))(a1 + 32))();
}

id sub_246BE5D08(void *a1)
{
  sub_246BE5F64();
  id v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  objc_msgSend(a1, sel_setTitle_forState_, v2, 0);

  return objc_msgSend(a1, sel_layoutIfNeeded);
}

void sub_246BE5D84()
{
  uint64_t v1 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_moreLessButton;
  if (!*(void *)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_moreLessButton))
  {
    id v2 = objc_msgSend(self, sel_buttonWithType_, 1);
    id v3 = (id)BPSBridgeTintColor();
    objc_msgSend(v2, sel_setTintColor_, v3);

    id v4 = objc_msgSend(v2, sel_titleLabel);
    if (v4)
    {
      id v5 = v4;
      objc_msgSend(v4, sel_setAdjustsFontForContentSizeCategory_, 1);
    }
    id v6 = objc_msgSend(v2, sel_titleLabel);
    if (v6)
    {
      id v7 = v6;
      id v8 = objc_msgSend(self, sel_preferredFontForTextStyle_, *MEMORY[0x263F835B8]);
      id v9 = objc_msgSend(v8, sel__fontAdjustedForCurrentContentSizeCategory);

      objc_msgSend(v7, sel_setFont_, v9);
    }
    sub_246BE5F64();
    id v10 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v2, sel_setTitle_forState_, v10, 0);

    objc_msgSend(v2, sel_addTarget_action_forControlEvents_, v0, sel_moreLessButtonTapped_, 64);
    objc_msgSend(*(id *)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_stackView), sel_addArrangedSubview_, v2);
    uint64_t v11 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v2;
  }
}

uint64_t sub_246BE5F64()
{
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v1 = (void *)sub_246C2CC08();
  id v2 = (void *)sub_246C2CC08();
  id v3 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v1, v2);

  uint64_t v4 = sub_246C2CC48();
  return v4;
}

id sub_246BE60DC()
{
  return sub_246BE60F4(type metadata accessor for ParmesanExpandableDescription);
}

id sub_246BE60F4(uint64_t (*a1)(void))
{
  v3.receiver = v1;
  v3.uint64_t super_class = (Class)a1();
  return objc_msgSendSuper2(&v3, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanExpandableDescription()
{
  return self;
}

uint64_t sub_246BE61AC()
{
  return MEMORY[0x270FA0238](v0, 24, 7);
}

id sub_246BE61E4()
{
  return objc_msgSend(*(id *)(*(void *)(v0 + 16)+ OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_descriptionLabel), sel_layoutIfNeeded);
}

uint64_t sub_246BE6200()
{
  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246BE6210()
{
  return (*(uint64_t (**)(void))(v0 + 16))();
}

uint64_t sub_246BE6238(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BE6248()
{
  return swift_release();
}

uint64_t sub_246BE6250()
{
  return MEMORY[0x270FA0238](v0, 32, 7);
}

id sub_246BE6290()
{
  return sub_246BE5D08(*(void **)(v0 + 16));
}

uint64_t sub_246BE6298()
{
  return MEMORY[0x270FA0238](v0, 32, 7);
}

unint64_t sub_246BE62A8()
{
  unint64_t result = qword_2691D6550;
  if (!qword_2691D6550)
  {
    type metadata accessor for Key(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6550);
  }
  return result;
}

void sub_246BE6300()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanEditorNavigationBar_leadingButton;
  uint64_t v2 = self;
  *(void *)&v0[v1] = objc_msgSend(v2, sel_buttonWithType_, 1);
  uint64_t v3 = OBJC_IVAR___NTKParmesanEditorNavigationBar_trailingButton;
  *(void *)&v0[v3] = objc_msgSend(v2, sel_buttonWithType_, 1);
  uint64_t v4 = OBJC_IVAR___NTKParmesanEditorNavigationBar_titleLabel;
  *(void *)&v0[v4] = sub_246BE4B60();
  uint64_t v5 = OBJC_IVAR___NTKParmesanEditorNavigationBar_descriptionLabel;
  *(void *)&v0[v5] = objc_msgSend(objc_allocWithZone((Class)type metadata accessor for ParmesanExpandableDescription()), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);

  sub_246C2D3A8();
  __break(1u);
}

void sub_246BE6400()
{
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_numberOfNonExpandedLines] = 3;
  v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_expanded] = 0;
  uint64_t v1 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_stackView;
  *(void *)&v0[v1] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F82BF8]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v2 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_descriptionLabel;
  *(void *)&v0[v2] = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion29ParmesanExpandableDescription_moreLessButton] = 0;

  sub_246C2D3A8();
  __break(1u);
}

CGPoint __swiftcall CGPoint.clip(within:)(__C::CGRect within)
{
  double v3 = v2;
  double v4 = v1;
  CGFloat height = within.size.height;
  CGFloat width = within.size.width;
  CGFloat y = within.origin.y;
  CGFloat x = within.origin.x;
  double MinX = CGRectGetMinX((CGRect)within);
  v17.origin.CGFloat x = x;
  v17.origin.CGFloat y = y;
  v17.size.CGFloat width = width;
  v17.size.CGFloat height = height;
  double MaxX = CGRectGetMaxX(v17);
  if (MaxX >= v4) {
    double MaxX = v4;
  }
  if (MinX > MaxX) {
    double v11 = MinX;
  }
  else {
    double v11 = MaxX;
  }
  v18.origin.CGFloat x = x;
  v18.origin.CGFloat y = y;
  v18.size.CGFloat width = width;
  v18.size.CGFloat height = height;
  double MinY = CGRectGetMinY(v18);
  v19.origin.CGFloat x = x;
  v19.origin.CGFloat y = y;
  v19.size.CGFloat width = width;
  v19.size.CGFloat height = height;
  double MaxY = CGRectGetMaxY(v19);
  if (MaxY >= v3) {
    double MaxY = v3;
  }
  if (MinY > MaxY) {
    double v14 = MinY;
  }
  else {
    double v14 = MaxY;
  }
  double v15 = v11;
  result.CGFloat y = v14;
  result.CGFloat x = v15;
  return result;
}

uint64_t clamp<A>(value:lower:upper:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = *(void *)(a4 - 8);
  MEMORY[0x270FA5388](a1);
  id v7 = (char *)&v9 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246C2D5C8();
  sub_246C2D5B8();
  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, a4);
}

id sub_246BE679C(uint64_t a1, void *a2)
{
  sub_246BB367C(a1, (uint64_t)v16);
  uint64_t v5 = v17;
  if (v17)
  {
    uint64_t v6 = sub_246B8F7E8(v16, v17);
    uint64_t v7 = *(void *)(v5 - 8);
    MEMORY[0x270FA5388](v6);
    uint64_t v9 = (char *)&v15 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v7 + 16))(v9);
    uint64_t v10 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v5);
    sub_246B8EB94((uint64_t)v16);
  }
  else
  {
    uint64_t v10 = 0;
  }
  double v11 = (objc_class *)type metadata accessor for ParmesanNumeralsEditOption();
  v15.receiver = v2;
  v15.uint64_t super_class = v11;
  id v12 = objc_msgSendSuper2(&v15, sel_initWithJSONObjectRepresentation_forDevice_, v10, a2);

  swift_unknownObjectRelease();
  id v13 = v12;
  sub_246BAD92C(a1);
  if (v13) {

  }
  return v13;
}

id sub_246BE69D4(void *a1, uint64_t a2, uint64_t a3, SEL *a4)
{
  v7.receiver = a1;
  v7.uint64_t super_class = (Class)type metadata accessor for ParmesanNumeralsEditOption();
  return objc_msgSendSuper2(&v7, *a4, a3);
}

id sub_246BE6A24()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanNumeralsEditOption();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanNumeralsEditOption()
{
  return self;
}

void destroy for ParmesanGalleryTransitionContext(void *a1)
{
  swift_unknownObjectRelease();
  objc_super v2 = (void *)a1[3];
  if (v2)
  {
    double v3 = (void *)a1[2];
  }
  double v4 = (void *)a1[4];
  if (v4)
  {

    uint64_t v5 = (void *)a1[5];
  }
}

uint64_t initializeWithCopy for ParmesanGalleryTransitionContext(uint64_t a1, uint64_t a2)
{
  *(_OWORD *)a1 = *(_OWORD *)a2;
  double v4 = (_OWORD *)(a1 + 16);
  uint64_t v5 = (void **)(a2 + 16);
  uint64_t v6 = *(void **)(a2 + 24);
  swift_unknownObjectRetain();
  if (v6)
  {
    objc_super v7 = *v5;
    *(void *)(a1 + 16) = *v5;
    *(void *)(a1 + 24) = v6;
    id v8 = v7;
    id v9 = v6;
  }
  else
  {
    *double v4 = *(_OWORD *)v5;
  }
  uint64_t v10 = *(void **)(a2 + 32);
  if (v10)
  {
    double v11 = *(void **)(a2 + 40);
    *(void *)(a1 + 32) = v10;
    *(void *)(a1 + 40) = v11;
    id v12 = v10;
    id v13 = v11;
  }
  else
  {
    *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  }
  return a1;
}

void *assignWithCopy for ParmesanGalleryTransitionContext(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  swift_unknownObjectRetain();
  swift_unknownObjectRelease();
  a1[1] = v4;
  uint64_t v5 = a2[3];
  if (a1[3])
  {
    if (v5)
    {
      uint64_t v6 = (void *)a1[2];
      objc_super v7 = (void *)a2[2];
      a1[2] = v7;
      id v8 = v7;

      id v9 = (void *)a2[3];
      uint64_t v10 = (void *)a1[3];
      a1[3] = v9;
      id v11 = v9;

      goto LABEL_8;
    }
    sub_246B8EA34((uint64_t)(a1 + 2), &qword_2691D8098);
  }
  else if (v5)
  {
    id v12 = (void *)a2[2];
    a1[2] = v12;
    id v13 = (void *)a2[3];
    a1[3] = v13;
    id v14 = v12;
    id v15 = v13;
    goto LABEL_8;
  }
  *((_OWORD *)a1 + 1) = *((_OWORD *)a2 + 1);
LABEL_8:
  id v16 = (void *)a1[4];
  uint64_t v17 = (void *)a2[4];
  if (!v16)
  {
    if (v17)
    {
      a1[4] = v17;
      double v22 = (void *)a2[5];
      a1[5] = v22;
      id v23 = v17;
      id v24 = v22;
      return a1;
    }
LABEL_14:
    *((_OWORD *)a1 + 2) = *((_OWORD *)a2 + 2);
    return a1;
  }
  if (!v17)
  {
    sub_246B8EA34((uint64_t)(a1 + 4), &qword_2691D80A0);
    goto LABEL_14;
  }
  a1[4] = v17;
  id v18 = v17;

  CGRect v19 = (void *)a2[5];
  double v20 = (void *)a1[5];
  a1[5] = v19;
  id v21 = v19;

  return a1;
}

void *assignWithTake for ParmesanGalleryTransitionContext(void *a1, void *a2)
{
  uint64_t v4 = a2[1];
  *a1 = *a2;
  swift_unknownObjectRelease();
  a1[1] = v4;
  uint64_t v5 = a2 + 2;
  if (a1[3])
  {
    uint64_t v6 = a2[3];
    if (v6)
    {
      objc_super v7 = (void *)a1[2];
      a1[2] = *v5;

      id v8 = (void *)a1[3];
      a1[3] = v6;

      goto LABEL_6;
    }
    sub_246B8EA34((uint64_t)(a1 + 2), &qword_2691D8098);
  }
  *((_OWORD *)a1 + 1) = *(_OWORD *)v5;
LABEL_6:
  id v9 = (void *)a1[4];
  uint64_t v10 = a2[4];
  if (!v9)
  {
LABEL_10:
    *((_OWORD *)a1 + 2) = *((_OWORD *)a2 + 2);
    return a1;
  }
  if (!v10)
  {
    sub_246B8EA34((uint64_t)(a1 + 4), &qword_2691D80A0);
    goto LABEL_10;
  }
  a1[4] = v10;

  id v11 = (void *)a1[5];
  a1[5] = a2[5];

  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanGalleryTransitionContext(uint64_t *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *((unsigned char *)a1 + 48)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  uint64_t v2 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanGalleryTransitionContext(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 40) = 0;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)CGPoint result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 48) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)CGPoint result = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 48) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanGalleryTransitionContext()
{
  return &type metadata for ParmesanGalleryTransitionContext;
}

BOOL sub_246BE6E54(void *a1, void *a2)
{
  uint64_t v2 = a1[1];
  uint64_t v4 = (void *)a1[2];
  double v3 = (void *)a1[3];
  uint64_t v5 = (void *)a1[4];
  uint64_t v6 = a2[1];
  objc_super v7 = (void *)a2[2];
  id v8 = (void *)a2[3];
  uint64_t v36 = (void *)a1[5];
  uint64_t v37 = (void *)a2[4];
  uint64_t v35 = (void *)a2[5];
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v10 = (*(uint64_t (**)(uint64_t, uint64_t))(v2 + 8))(ObjectType, v2);
  uint64_t v12 = v11;
  uint64_t v13 = swift_getObjectType();
  if (v10 == (*(uint64_t (**)(uint64_t, uint64_t))(v6 + 8))(v13, v6) && v12 == v14)
  {
    swift_bridgeObjectRelease_n();
    if (v3)
    {
LABEL_7:
      id v18 = v4;
      if (!v8)
      {
        if (!v4) {
          return 0;
        }
        goto LABEL_17;
      }
      id v19 = v7;
      if (v4)
      {
        if (v7)
        {
          double v20 = v19;
          type metadata accessor for ParmesanGalleryItem();
          id v21 = v18;
          char v22 = sub_246C2D108();

          if ((v22 & 1) == 0) {
            return 0;
          }
LABEL_20:
          id v24 = v3;
          type metadata accessor for ParmesanGalleryItem();
          id v25 = v24;
          id v26 = v8;
          char v27 = sub_246C2D108();

          if ((v27 & 1) == 0) {
            return 0;
          }
          goto LABEL_21;
        }
LABEL_17:

        return 0;
      }
      if (!v7) {
        goto LABEL_20;
      }
LABEL_19:

      return 0;
    }
  }
  else
  {
    char v16 = sub_246C2D578();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    BOOL result = 0;
    if ((v16 & 1) == 0) {
      return result;
    }
    if (v3) {
      goto LABEL_7;
    }
  }
  if (v8)
  {
    id v23 = v7;
    if (!v7) {
      return 0;
    }
    goto LABEL_19;
  }
LABEL_21:
  if (!v5) {
    return v37 == 0;
  }
  id v28 = v5;
  if (!v37)
  {
LABEL_29:

    return 0;
  }
  type metadata accessor for ParmesanTimeAppearance();
  id v29 = v28;
  id v30 = v37;
  char v31 = sub_246C2D108();

  if (v31)
  {
    id v32 = v36;
    id v28 = v35;
    if (v36)
    {
      if (v35)
      {
        id v33 = v32;
        char v34 = sub_246C2D108();

        return v34 & 1;
      }

      return 0;
    }
    if (!v35) {
      return 1;
    }
    goto LABEL_29;
  }
  return 0;
}

id sub_246BE70E4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  objc_super v7 = (char *)objc_allocWithZone(v3);
  id v8 = &v7[OBJC_IVAR___NTKParmesanAssetMask_imageName];
  *(void *)id v8 = a1;
  *((void *)v8 + 1) = a2;
  *(void *)&v7[OBJC_IVAR___NTKParmesanAssetMask_style] = a3;
  v10.receiver = v7;
  v10.uint64_t super_class = v3;
  return objc_msgSendSuper2(&v10, sel_init);
}

uint64_t sub_246BE7154(char *a1, char *a2)
{
  return sub_246BBB090(*a1, *a2);
}

uint64_t sub_246BE7160()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BE71E4()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BE7254()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BE72D4@<X0>(char *a1@<X8>)
{
  uint64_t v2 = sub_246C2D428();
  uint64_t result = swift_bridgeObjectRelease();
  if (v2 == 1) {
    char v4 = 1;
  }
  else {
    char v4 = 2;
  }
  if (!v2) {
    char v4 = 0;
  }
  *a1 = v4;
  return result;
}

void sub_246BE7334(uint64_t *a1@<X8>)
{
  uint64_t v2 = 0x6D614E6567616D69;
  if (*v1) {
    uint64_t v2 = 0x656C797473;
  }
  unint64_t v3 = 0xE900000000000065;
  if (*v1) {
    unint64_t v3 = 0xE500000000000000;
  }
  *a1 = v2;
  a1[1] = v3;
}

uint64_t sub_246BE7374()
{
  if (*v0) {
    return 0x656C797473;
  }
  else {
    return 0x6D614E6567616D69;
  }
}

uint64_t sub_246BE73B0@<X0>(char *a1@<X8>)
{
  uint64_t v2 = sub_246C2D428();
  uint64_t result = swift_bridgeObjectRelease();
  if (v2 == 1) {
    char v4 = 1;
  }
  else {
    char v4 = 2;
  }
  if (!v2) {
    char v4 = 0;
  }
  *a1 = v4;
  return result;
}

uint64_t sub_246BE7414(uint64_t a1)
{
  unint64_t v2 = sub_246BE8154();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BE7450(uint64_t a1)
{
  unint64_t v2 = sub_246BE8154();

  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t sub_246BE748C()
{
  if (!*v0) {
    return 0x6C61637379617267;
  }
  if (*v0 == 1) {
    return 0x6F6C6F436C6C7566;
  }
  uint64_t result = sub_246C2D5A8();
  __break(1u);
  return result;
}

uint64_t sub_246BE7504()
{
  return sub_246C2CD08();
}

uint64_t sub_246BE7564()
{
  return sub_246C2CCF8();
}

uint64_t sub_246BE77AC()
{
  sub_246C2D278();
  swift_bridgeObjectRelease();
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanAssetMask_style) > 1uLL)
  {
    uint64_t result = sub_246C2D5A8();
    __break(1u);
  }
  else
  {
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    swift_bridgeObjectRetain();
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    return 0xD00000000000001BLL;
  }
  return result;
}

id sub_246BE7920()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanAssetMask();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanAssetMask()
{
  return self;
}

uint64_t sub_246BE798C(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D80E0);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  id v8 = &v10[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246B8F7E8(a1, a1[3]);
  sub_246BE8154();
  sub_246C2D708();
  char v12 = 0;
  swift_bridgeObjectRetain();
  sub_246C2D4C8();
  if (v2)
  {
    (*(void (**)(unsigned char *, uint64_t))(v6 + 8))(v8, v5);
    return swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetMask_style);
    v10[15] = 1;
    sub_246BE8250();
    sub_246C2D508();
    return (*(uint64_t (**)(unsigned char *, uint64_t))(v6 + 8))(v8, v5);
  }
}

id sub_246BE7B54(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D80C0);
  uint64_t v18 = *(void *)(v4 - 8);
  uint64_t v19 = v4;
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246B8F7E8(a1, a1[3]);
  sub_246BE8154();
  id v8 = v1;
  id v9 = v7;
  sub_246C2D6E8();
  if (v2)
  {
    sub_246B8EB94((uint64_t)a1);

    type metadata accessor for ParmesanAssetMask();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v11 = v18;
    uint64_t v10 = v19;
    LOBYTE(v22) = 0;
    uint64_t v12 = sub_246C2D458();
    uint64_t v14 = (uint64_t *)&v8[OBJC_IVAR___NTKParmesanAssetMask_imageName];
    *uint64_t v14 = v12;
    v14[1] = v15;
    char v21 = 1;
    sub_246BE81A8();
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanAssetMask_style] = v22;

    char v16 = (objc_class *)type metadata accessor for ParmesanAssetMask();
    v20.receiver = v8;
    v20.uint64_t super_class = v16;
    id v9 = objc_msgSendSuper2(&v20, sel_init);
    (*(void (**)(char *, uint64_t))(v11 + 8))(v6, v10);
    sub_246B8EB94((uint64_t)a1);
  }
  return v9;
}

uint64_t sub_246BE7DA8@<X0>(uint64_t *a1@<X8>)
{
  type metadata accessor for ParmesanAssetMask();
  uint64_t result = sub_246C2D298();
  *a1 = result;
  return result;
}

id sub_246BE7DE8@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanAssetMask());
  id result = sub_246BE7B54(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BE7E3C(void *a1)
{
  return sub_246BE798C(a1);
}

BOOL sub_246BE7FA8(uint64_t a1)
{
  sub_246BB367C(a1, (uint64_t)v7);
  if (v8)
  {
    type metadata accessor for ParmesanAssetMask();
    if (swift_dynamicCast())
    {
      BOOL v2 = *(void *)(v1 + OBJC_IVAR___NTKParmesanAssetMask_imageName) == *(void *)&v6[OBJC_IVAR___NTKParmesanAssetMask_imageName]
        && *(void *)(v1 + OBJC_IVAR___NTKParmesanAssetMask_imageName + 8) == *(void *)&v6[OBJC_IVAR___NTKParmesanAssetMask_imageName
                                                                                            + 8];
      if (v2 || (sub_246C2D578() & 1) != 0)
      {
        uint64_t v3 = *(void *)(v1 + OBJC_IVAR___NTKParmesanAssetMask_style);
        uint64_t v4 = *(void *)&v6[OBJC_IVAR___NTKParmesanAssetMask_style];

        return v3 == v4;
      }
    }
  }
  else
  {
    sub_246BAD92C((uint64_t)v7);
  }
  return 0;
}

ValueMetadata *type metadata accessor for ParmesanAssetMask.Style()
{
  return &type metadata for ParmesanAssetMask.Style;
}

unint64_t sub_246BE8100()
{
  unint64_t result = qword_2691D80B8;
  if (!qword_2691D80B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80B8);
  }
  return result;
}

unint64_t sub_246BE8154()
{
  unint64_t result = qword_2691D80C8;
  if (!qword_2691D80C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80C8);
  }
  return result;
}

unint64_t sub_246BE81A8()
{
  unint64_t result = qword_2691D80D0;
  if (!qword_2691D80D0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80D0);
  }
  return result;
}

unint64_t sub_246BE81FC()
{
  unint64_t result = qword_2691D80D8;
  if (!qword_2691D80D8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80D8);
  }
  return result;
}

unint64_t sub_246BE8250()
{
  unint64_t result = qword_2691D80E8;
  if (!qword_2691D80E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80E8);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanAssetMask.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BE8370);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetMask.CodingKeys()
{
  return &type metadata for ParmesanAssetMask.CodingKeys;
}

unint64_t sub_246BE83AC()
{
  unint64_t result = qword_2691D80F0;
  if (!qword_2691D80F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80F0);
  }
  return result;
}

unint64_t sub_246BE8404()
{
  unint64_t result = qword_2691D80F8;
  if (!qword_2691D80F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D80F8);
  }
  return result;
}

unint64_t sub_246BE845C()
{
  unint64_t result = qword_2691D8100;
  if (!qword_2691D8100)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8100);
  }
  return result;
}

uint64_t sub_246BE84B0(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v17 = MEMORY[0x263F8EE78];
    sub_246C00BAC(0, v1, 0);
    uint64_t v2 = v17;
    unsigned int v4 = (uint64_t *)(a1 + 32);
    uint64_t v5 = MEMORY[0x263F8D310];
    do
    {
      uint64_t v6 = *v4++;
      unint64_t v7 = 0xE700000000000000;
      uint64_t v8 = 0x63696D616E7964;
      switch(v6)
      {
        case 0:
          break;
        case 1:
          unint64_t v7 = 0xE500000000000000;
          uint64_t v8 = 0x656772616CLL;
          break;
        case 2:
          unint64_t v7 = 0xE600000000000000;
          uint64_t v8 = 0x6D756964656DLL;
          break;
        case 3:
          unint64_t v7 = 0xE500000000000000;
          uint64_t v8 = 0x6C6C616D73;
          break;
        case 4:
          unint64_t v7 = 0xE600000000000000;
          uint64_t v8 = 0x6C6C616D7378;
          break;
        default:
          sub_246C2D5A8();
          __break(1u);
          JUMPOUT(0x246BE8690);
      }
      sub_246C2D248();
      *((void *)&v15 + 1) = v8;
      *(void *)&long long v16 = v7;
      unint64_t v10 = *(void *)(v17 + 16);
      unint64_t v9 = *(void *)(v17 + 24);
      if (v10 >= v9 >> 1) {
        sub_246C00BAC(v9 > 1, v10 + 1, 1);
      }
      *(void *)(v17 + 16) = v10 + 1;
      uint64_t v11 = v17 + 72 * v10;
      *(_OWORD *)(v11 + 32) = v13;
      *(void *)(v11 + 96) = v5;
      *(_OWORD *)(v11 + 64) = v15;
      *(_OWORD *)(v11 + 80) = v16;
      *(_OWORD *)(v11 + 48) = v14;
      --v1;
    }
    while (v1);
  }
  return v2;
}

id sub_246BE86A4(uint64_t a1)
{
  switch(a1)
  {
    case 0:
    case 1:
      int64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v2 = (char *)objc_allocWithZone(v1);
      *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
      uint64_t v8 = v2;
      int v3 = (objc_super *)&v8;
      break;
    case 2:
      int64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v5 = (char *)objc_allocWithZone(v1);
      *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 2;
      unint64_t v9 = v5;
      int v3 = (objc_super *)&v9;
      break;
    case 3:
      int64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v6 = (char *)objc_allocWithZone(v1);
      *(void *)&v6[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v6[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
      v10.receiver = v6;
      int v3 = &v10;
      break;
    case 4:
      int64_t v1 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      unsigned int v4 = (char *)objc_allocWithZone(v1);
      *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
      v11[0] = v4;
      int v3 = (objc_super *)v11;
      break;
    default:
      void v11[2] = a1;
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BE8824);
  }
  v3->uint64_t super_class = v1;
  return [(objc_super *)v3 init];
}

unint64_t sub_246BE8838(uint64_t a1)
{
  switch(a1)
  {
    case 0:
    case 1:
    case 2:
    case 3:
    case 4:
      sub_246C2CCB8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      return 0xD00000000000001ALL;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BE8984);
  }
}

unint64_t sub_246BE8998@<X0>(unint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  unint64_t result = sub_246BE9670(*a1);
  *(void *)a2 = result;
  *(unsigned char *)(a2 + 8) = v4 & 1;
  return result;
}

uint64_t sub_246BE89CC()
{
  uint64_t result = 0x63696D616E7964;
  switch(*v0)
  {
    case 0:
      return result;
    case 1:
      uint64_t result = 0x656772616CLL;
      break;
    case 2:
      uint64_t result = 0x6D756964656DLL;
      break;
    case 3:
      uint64_t result = 0x6C6C616D73;
      break;
    case 4:
      uint64_t result = 0x6C6C616D7378;
      break;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BE8A90);
  }
  return result;
}

void sub_246BE8AA4(void *a1@<X8>)
{
  *a1 = &unk_26FB1F8F8;
}

char *sub_246BE8B50()
{
  uint64_t result = (char *)objc_msgSend(v0, sel__value);
  if ((unint64_t)(result - 1) >= 4) {
    return 0;
  }
  return result;
}

uint64_t sub_246BE8C40()
{
  int64_t v1 = (char *)objc_msgSend(v0, sel__value);
  if ((unint64_t)(v1 - 1) >= 4) {
    int64_t v1 = 0;
  }
  sub_246BE8838((uint64_t)v1);
  uint64_t v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  sub_246C2D278();
  swift_bridgeObjectRelease();
  objc_msgSend(v0, sel__value, 0xD000000000000029, 0x8000000246C3F650);
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  char v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v4);

  uint64_t v6 = sub_246C2CC48();
  return v6;
}

uint64_t sub_246BE8E68()
{
  if (*(void *)(sub_246BE84B0((uint64_t)&unk_26FB1F940) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v0 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v0 = MEMORY[0x263F8EE80];
  }
  uint64_t v3 = v0;
  uint64_t v1 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v1, 1, &v3);
  swift_bridgeObjectRelease();
  return v3;
}

id sub_246BE9174(uint64_t a1, void *a2)
{
  uint64_t v5 = OBJC_IVAR___NTKParmesanTimeEditOption_positionsToFaceBundleStrings;
  uint64_t v6 = v2;
  *(void *)&v2[v5] = sub_246BE8E68();

  sub_246BB367C(a1, (uint64_t)v18);
  uint64_t v7 = v19;
  if (v19)
  {
    uint64_t v8 = sub_246B8F7E8(v18, v19);
    uint64_t v9 = *(void *)(v7 - 8);
    MEMORY[0x270FA5388](v8);
    uint64_t v11 = (char *)&v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v9 + 16))(v11);
    uint64_t v12 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v7);
    sub_246B8EB94((uint64_t)v18);
  }
  else
  {
    uint64_t v12 = 0;
  }
  long long v13 = (objc_class *)type metadata accessor for ParmesanTimeEditOption();
  v17.receiver = v6;
  v17.uint64_t super_class = v13;
  id v14 = objc_msgSendSuper2(&v17, sel_initWithJSONObjectRepresentation_forDevice_, v12, a2);

  swift_unknownObjectRelease();
  id v15 = v14;
  sub_246BAD92C(a1);
  if (v15) {

  }
  return v15;
}

id sub_246BE9460()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanTimeEditOption();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanTimeEditOption()
{
  return self;
}

ValueMetadata *type metadata accessor for ParmesanTimeOption()
{
  return &type metadata for ParmesanTimeOption;
}

unint64_t sub_246BE94E4()
{
  unint64_t result = qword_2691D8110;
  if (!qword_2691D8110)
  {
    sub_246B8BEB0(&qword_2691D8118);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8110);
  }
  return result;
}

unint64_t sub_246BE9540(uint64_t a1)
{
  *(void *)(a1 + 8) = sub_246BE9570();
  unint64_t result = sub_246BE95C4();
  *(void *)(a1 + 16) = result;
  return result;
}

unint64_t sub_246BE9570()
{
  unint64_t result = qword_2691D8120;
  if (!qword_2691D8120)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8120);
  }
  return result;
}

unint64_t sub_246BE95C4()
{
  unint64_t result = qword_2691D8128;
  if (!qword_2691D8128)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8128);
  }
  return result;
}

unint64_t sub_246BE961C()
{
  unint64_t result = qword_2691D8130;
  if (!qword_2691D8130)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8130);
  }
  return result;
}

unint64_t sub_246BE9670(unint64_t result)
{
  if (result > 4) {
    return 0;
  }
  return result;
}

uint64_t sub_246BE9680(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 3) {
    return 0x63696D616E7964;
  }
  else {
    return *(void *)&aLarge[8 * a1 - 8];
  }
}

uint64_t sub_246BE96C4(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246BE96D8(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t sub_246BE96EC(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 16))();
}

uint64_t sub_246BE9700(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return (*(uint64_t (**)(void))(a4 + 24))();
}

uint64_t sub_246BE9714(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 32))();
}

uint64_t sub_246BE9728(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 40))();
}

uint64_t sub_246BE975C(uint64_t a1, char a2, uint64_t a3, uint64_t a4)
{
  return (*(uint64_t (**)(uint64_t, void))(a4 + 48))(a1, a2 & 1);
}

uint64_t sub_246BE9774(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 56))();
}

uint64_t sub_246BE9788(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 64))();
}

uint64_t sub_246BE979C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 72))();
}

uint64_t sub_246BE97B0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 80))();
}

uint64_t sub_246BE9AFC()
{
  uint64_t v1 = v0;
  sub_246C2D278();
  sub_246C2CCD8();
  id v2 = *(id *)(v0 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  id v3 = objc_msgSend(v2, sel_description);
  sub_246C2CC48();

  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  char v4 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
  if (v4)
  {
    id v5 = objc_msgSend(v4, sel_description);
    sub_246C2CC48();
  }
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  id v6 = *(id *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
  id v7 = objc_msgSend(v6, sel_description);
  sub_246C2CC48();

  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  uint64_t v8 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
  if (v8)
  {
    id v9 = objc_msgSend(v8, sel_description);
    sub_246C2CC48();
  }
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  sub_246C2CE78();
  sub_246C2CCD8();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  swift_bridgeObjectRetain();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  return 0;
}

id sub_246BE9E7C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanAssetLayout();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanAssetLayout()
{
  return self;
}

uint64_t sub_246BE9F54(void *a1)
{
  uint64_t v3 = v1;
  uint64_t v5 = sub_246B80250(&qword_2691D81A0);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v10 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F7E8(a1, a1[3]);
  sub_246BEB99C();
  sub_246C2D708();
  uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  HIBYTE(v10) = 0;
  type metadata accessor for ParmesanCrop();
  sub_246BEBD94(&qword_2691D81A8, (void (*)(uint64_t))type metadata accessor for ParmesanCrop);
  sub_246C2D508();
  if (!v2)
  {
    LOBYTE(v11) = 1;
    swift_bridgeObjectRetain();
    sub_246C2D4C8();
    swift_bridgeObjectRelease();
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
    HIBYTE(v10) = 2;
    type metadata accessor for ParmesanAssetMask();
    sub_246BEBD94(&qword_2691D81B0, (void (*)(uint64_t))type metadata accessor for ParmesanAssetMask);
    sub_246C2D4B8();
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
    HIBYTE(v10) = 3;
    type metadata accessor for ParmesanTimeLayout();
    sub_246BEBD94(&qword_2691D81B8, (void (*)(uint64_t))type metadata accessor for ParmesanTimeLayout);
    sub_246C2D508();
    uint64_t v11 = *(void *)(v3 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
    HIBYTE(v10) = 4;
    type metadata accessor for ParmesanColorAnalysis();
    sub_246BEBD94(&qword_2691D81C0, (void (*)(uint64_t))type metadata accessor for ParmesanColorAnalysis);
    sub_246C2D4B8();
    LOBYTE(v11) = 5;
    sub_246C2D4E8();
    LOBYTE(v11) = 6;
    sub_246C2D4D8();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

id sub_246BEA338(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D8170);
  uint64_t v27 = *(void *)(v4 - 8);
  uint64_t v28 = v4;
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v25 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v30 = a1;
  uint64_t v31 = OBJC_IVAR___NTKParmesanAssetLayout_mask;
  *(void *)&v1[OBJC_IVAR___NTKParmesanAssetLayout_mask] = 0;
  uint64_t v33 = OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis;
  *(void *)&v1[OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis] = 0;
  uint64_t v7 = OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness;
  *(void *)&v1[OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness] = 0;
  sub_246B8F7E8(a1, a1[3]);
  sub_246BEB99C();
  id v32 = v1;
  uint64_t v8 = v1;
  id v29 = v6;
  sub_246C2D6E8();
  if (v2)
  {
    uint64_t v11 = v32;
    uint64_t v12 = v33;
    uint64_t v13 = v31;
    sub_246B8EB94((uint64_t)v30);

    id v24 = *(id *)&v11[v12];
    type metadata accessor for ParmesanAssetLayout();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v26 = v7;
    uint64_t v9 = v27;
    type metadata accessor for ParmesanCrop();
    char v35 = 0;
    sub_246BEBD94(&qword_2691D8180, (void (*)(uint64_t))type metadata accessor for ParmesanCrop);
    uint64_t v10 = v28;
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_originalCrop] = v36;
    LOBYTE(v36) = 1;
    uint64_t v14 = sub_246C2D458();
    id v15 = v32;
    uint64_t v16 = v33;
    objc_super v17 = (uint64_t *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_baseImageName];
    *objc_super v17 = v14;
    v17[1] = v18;
    type metadata accessor for ParmesanAssetMask();
    char v35 = 2;
    sub_246BEBD94(&qword_2691D8188, (void (*)(uint64_t))type metadata accessor for ParmesanAssetMask);
    sub_246C2D448();
    objc_super v20 = *(void **)&v15[v31];
    *(void *)&v15[v31] = v36;

    type metadata accessor for ParmesanTimeLayout();
    char v35 = 3;
    sub_246BEBD94(&qword_2691D8190, (void (*)(uint64_t))type metadata accessor for ParmesanTimeLayout);
    sub_246C2D498();
    *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_timeLayout] = v36;
    type metadata accessor for ParmesanColorAnalysis();
    char v35 = 4;
    sub_246BEBD94(&qword_2691D8198, (void (*)(uint64_t))type metadata accessor for ParmesanColorAnalysis);
    sub_246C2D448();
    char v21 = *(void **)&v15[v16];
    *(void *)&v15[v16] = v36;

    LOBYTE(v36) = 5;
    sub_246C2D478();
    *(void *)&v15[v26] = v22;
    LOBYTE(v36) = 6;
    v8[OBJC_IVAR___NTKParmesanAssetLayout_userEdited] = sub_246C2D468() & 1;

    id v23 = (objc_class *)type metadata accessor for ParmesanAssetLayout();
    v34.receiver = v8;
    v34.uint64_t super_class = v23;
    id v24 = objc_msgSendSuper2(&v34, sel_init);
    (*(void (**)(char *, uint64_t))(v9 + 8))(v29, v10);
    sub_246B8EB94((uint64_t)v30);
  }
  return v24;
}

unint64_t sub_246BEA8B0(char a1)
{
  unint64_t result = 0x6C616E696769726FLL;
  switch(a1)
  {
    case 1:
      unint64_t result = 0x67616D4965736162;
      break;
    case 2:
      unint64_t result = 1802723693;
      break;
    case 3:
      unint64_t result = 0x6F79614C656D6974;
      break;
    case 4:
      unint64_t result = 0x616E41726F6C6F63;
      break;
    case 5:
      unint64_t result = 0xD000000000000012;
      break;
    case 6:
      unint64_t result = 0x7469644572657375;
      break;
    default:
      return result;
  }
  return result;
}

unint64_t sub_246BEA9BC(char a1)
{
  unint64_t result = 0x6C616E696769726FLL;
  switch(a1)
  {
    case 1:
      unint64_t result = 0x67616D4965736162;
      break;
    case 2:
      unint64_t result = 1802723693;
      break;
    case 3:
      unint64_t result = 0x6F79614C656D6974;
      break;
    case 4:
      unint64_t result = 0x616E41726F6C6F63;
      break;
    case 5:
      unint64_t result = 0xD000000000000012;
      break;
    case 6:
      unint64_t result = 0x7469644572657375;
      break;
    default:
      return result;
  }
  return result;
}

id sub_246BEAAC8@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanAssetLayout());
  id result = sub_246BEA338(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BEAB1C(void *a1)
{
  return sub_246BE9F54(a1);
}

uint64_t sub_246BEAB40(unsigned __int8 *a1, char *a2)
{
  return sub_246BBAD6C(*a1, *a2);
}

uint64_t sub_246BEAB4C()
{
  return sub_246BBC438();
}

uint64_t sub_246BEAB58()
{
  return sub_246BBBD98();
}

uint64_t sub_246BEAB60()
{
  return sub_246BBC438();
}

uint64_t sub_246BEAB68@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BEBB64();
  *a1 = result;
  return result;
}

unint64_t sub_246BEAB98@<X0>(unint64_t *a1@<X8>)
{
  unint64_t result = sub_246BEA8B0(*v1);
  *a1 = result;
  a1[1] = v4;
  return result;
}

unint64_t sub_246BEABC4()
{
  return sub_246BEA9BC(*v0);
}

uint64_t sub_246BEABCC@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BEBB64();
  *a1 = result;
  return result;
}

uint64_t sub_246BEABF4(uint64_t a1)
{
  unint64_t v2 = sub_246BEB99C();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BEAC30(uint64_t a1)
{
  unint64_t v2 = sub_246BEB99C();

  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t sub_246BEAD8C()
{
  uint64_t v1 = v0;
  sub_246C2D6C8();
  id v2 = *(id *)(v0 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  sub_246C2D118();

  swift_bridgeObjectRetain();
  sub_246C2CCC8();
  swift_bridgeObjectRelease();
  uint64_t v3 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
  sub_246C2D688();
  if (v3)
  {
    id v4 = v3;
    sub_246C2D118();
  }
  id v5 = *(id *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
  sub_246C2D118();

  uint64_t v6 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
  sub_246C2D688();
  if (v6)
  {
    id v7 = v6;
    sub_246C2D118();
  }
  sub_246C2D698();
  sub_246C2D688();
  return sub_246C2D6A8();
}

void sub_246BEAF0C(void *a1@<X8>)
{
  id v2 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  uint64_t v3 = *(void *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName + 8);
  uint64_t v16 = *(void *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName);
  id v4 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
  id v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
  uint64_t v6 = *(void **)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
  double v7 = *(double *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness);
  char v8 = *(unsigned char *)(v1 + OBJC_IVAR___NTKParmesanAssetLayout_userEdited);
  uint64_t v9 = (objc_class *)type metadata accessor for ParmesanAssetLayout();
  id v10 = objc_allocWithZone(v9);
  id v15 = v6;
  id v11 = v2;
  swift_bridgeObjectRetain();
  id v12 = v4;
  id v13 = v5;
  id v14 = sub_246BEB9F0(v11, v16, v3, v4, v13, v6, v8, v7);

  a1[3] = v9;
  *a1 = v14;
}

id sub_246BEB0B4(void *a1, uint64_t a2, void (*a3)(void))
{
  id v4 = a1;
  a3();

  id v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();

  return v5;
}

uint64_t sub_246BEB124()
{
  uint64_t v18 = *(void *)(v0 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
  id v1 = objc_msgSend(*(id *)(v0 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout), sel_description);
  sub_246C2CC48();

  uint64_t v2 = OBJC_IVAR___NTKParmesanAssetLayout_originalCrop;
  uint64_t v3 = *(void *)(v0 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  uint64_t v4 = *(void *)(v3 + OBJC_IVAR___NTKParmesanCrop_origin);
  v20.origin.CGFloat x = *(CGFloat *)(v4 + OBJC_IVAR___NTKParmesanPoint_x);
  v20.origin.CGFloat y = *(CGFloat *)(v4 + OBJC_IVAR___NTKParmesanPoint_y);
  uint64_t v5 = *(void *)(v3 + OBJC_IVAR___NTKParmesanCrop_size);
  v20.size.CGFloat width = *(CGFloat *)(v5 + OBJC_IVAR___NTKParmesanSize_width);
  v20.size.CGFloat height = *(CGFloat *)(v5 + OBJC_IVAR___NTKParmesanSize_height);
  if (!CGRectIsEmpty(v20))
  {
    sub_246B80250(&qword_2691D6DC8);
    uint64_t v6 = swift_allocObject();
    *(_OWORD *)(v6 + 16) = xmmword_246C36F70;
    uint64_t v7 = *(void *)(v0 + v2);
    uint64_t v8 = *(void *)(v7 + OBJC_IVAR___NTKParmesanCrop_origin);
    uint64_t v9 = *(void *)(v8 + OBJC_IVAR___NTKParmesanPoint_x);
    uint64_t v10 = MEMORY[0x263F8D538];
    uint64_t v11 = MEMORY[0x263F8D5B8];
    *(void *)(v6 + 56) = MEMORY[0x263F8D538];
    *(void *)(v6 + 64) = v11;
    *(void *)(v6 + 32) = v9;
    uint64_t v12 = *(void *)(v8 + OBJC_IVAR___NTKParmesanPoint_y);
    *(void *)(v6 + 96) = v10;
    *(void *)(v6 + 104) = v11;
    *(void *)(v6 + 72) = v12;
    uint64_t v13 = *(void *)(v7 + OBJC_IVAR___NTKParmesanCrop_size);
    uint64_t v14 = *(void *)(v13 + OBJC_IVAR___NTKParmesanSize_width);
    *(void *)(v6 + 136) = v10;
    *(void *)(v6 + 144) = v11;
    *(void *)(v6 + 112) = v14;
    uint64_t v15 = *(void *)(v13 + OBJC_IVAR___NTKParmesanSize_height);
    *(void *)(v6 + 176) = v10;
    *(void *)(v6 + 184) = v11;
    *(void *)(v6 + 152) = v15;
    sub_246C2CC78();
  }
  uint64_t v16 = 0x6B73614D736168;
  if (!v18) {
    uint64_t v16 = 0x6B73614D6F6ELL;
  }
  uint64_t v19 = v16;
  sub_246C2CCD8();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  return v19;
}

uint64_t sub_246BEB358(uint64_t a1, char *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v58 = a3;
  uint64_t v59 = a4;
  id v56 = a2;
  uint64_t v5 = sub_246B80250(&qword_2691D7038);
  uint64_t v6 = MEMORY[0x270FA5388](v5 - 8);
  id v50 = (char *)&v50 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = MEMORY[0x270FA5388](v6);
  uint64_t v55 = (uint64_t)&v50 - v9;
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)&v50 - v11;
  MEMORY[0x270FA5388](v10);
  uint64_t v57 = (uint64_t)&v50 - v13;
  uint64_t v14 = sub_246C2C048();
  uint64_t v15 = *(void *)(v14 - 8);
  MEMORY[0x270FA5388](v14);
  objc_super v17 = (char *)&v50 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_246C2BB98();
  uint64_t v19 = *(void **)(v18 - 8);
  uint64_t v20 = MEMORY[0x270FA5388](v18);
  uint64_t v54 = (char *)&v50 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = MEMORY[0x270FA5388](v20);
  id v24 = (char *)&v50 - v23;
  MEMORY[0x270FA5388](v22);
  uint64_t v26 = (char *)&v50 - v25;
  sub_246C2BA98();
  id v56 = v4;
  swift_bridgeObjectRetain();
  sub_246C2C038();
  sub_246C2BAD8();
  swift_bridgeObjectRelease();
  uint64_t v27 = *(void (**)(char *, uint64_t))(v15 + 8);
  uint64_t v52 = v15 + 8;
  uint64_t v53 = v14;
  id v51 = v27;
  v27(v17, v14);
  uint64_t v28 = (void *)sub_246C2BAC8();
  id v29 = (void *)sub_246C2CC08();
  id v30 = (id)NTKPhotosLinkURL();

  if (v30)
  {
    sub_246C2BB28();

    uint64_t v31 = (char *)v19[7];
    ((void (*)(char *, void, uint64_t, uint64_t))v31)(v12, 0, 1, v18);
  }
  else
  {
    uint64_t v31 = (char *)v19[7];
    ((void (*)(char *, uint64_t, uint64_t, uint64_t))v31)(v12, 1, 1, v18);
  }
  uint64_t v32 = v57;
  sub_246BEBAFC((uint64_t)v12, v57);
  uint64_t v33 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))v19[6];
  if (v33(v32, 1, v18) != 1)
  {
    if (*(void *)&v56[OBJC_IVAR___NTKParmesanAssetLayout_mask])
    {
      id v56 = v31;
      swift_bridgeObjectRetain();
      sub_246C2C038();
      char v35 = v54;
      sub_246C2BAD8();
      swift_bridgeObjectRelease();
      uint64_t v36 = v17;
      uint64_t v37 = v35;
      v51(v36, v53);
      uint64_t v38 = (void *)sub_246C2BAC8();
      char v39 = (void *)sub_246C2CC08();
      id v40 = (id)NTKPhotosLinkURL();

      if (v40)
      {
        uint64_t v41 = (uint64_t)v50;
        sub_246C2BB28();

        uint64_t v42 = (void (*)(char *, uint64_t))v19[1];
        v42(v37, v18);
        v42(v24, v18);
        v42(v26, v18);
        uint64_t v43 = 0;
      }
      else
      {
        id v45 = (void (*)(char *, uint64_t))v19[1];
        v45(v37, v18);
        v45(v24, v18);
        v45(v26, v18);
        uint64_t v43 = 1;
        uint64_t v41 = (uint64_t)v50;
      }
      ((void (*)(uint64_t, uint64_t, uint64_t, uint64_t))v56)(v41, v43, 1, v18);
      uint64_t v46 = v55;
      sub_246BEBAFC(v41, v55);
      int v47 = v33(v46, 1, v18);
      sub_246B8EA34(v46, &qword_2691D7038);
      uint64_t v32 = v57;
      if (v47 == 1) {
        goto LABEL_12;
      }
    }
    else
    {
      uint64_t v44 = (void (*)(char *, uint64_t))v19[1];
      v44(v24, v18);
      v44(v26, v18);
    }
    uint64_t v48 = 1;
    goto LABEL_14;
  }
  objc_super v34 = (void (*)(char *, uint64_t))v19[1];
  v34(v24, v18);
  v34(v26, v18);
LABEL_12:
  uint64_t v48 = 0;
LABEL_14:
  sub_246B8EA34(v32, &qword_2691D7038);
  return v48;
}

unint64_t sub_246BEB99C()
{
  unint64_t result = qword_2691D8178;
  if (!qword_2691D8178)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8178);
  }
  return result;
}

id sub_246BEB9F0(void *a1, uint64_t a2, uint64_t a3, void *a4, void *a5, void *a6, char a7, double a8)
{
  uint64_t v15 = OBJC_IVAR___NTKParmesanAssetLayout_mask;
  *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_mask] = 0;
  uint64_t v16 = OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis;
  *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis] = 0;
  uint64_t v17 = OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness;
  *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness] = 0;
  *(void *)&v8[OBJC_IVAR___NTKParmesanAssetLayout_originalCrop] = a1;
  uint64_t v18 = &v8[OBJC_IVAR___NTKParmesanAssetLayout_baseImageName];
  *(void *)uint64_t v18 = a2;
  *((void *)v18 + 1) = a3;
  uint64_t v19 = *(void **)&v8[v15];
  *(void *)&v8[v15] = a4;
  uint64_t v20 = v8;
  id v21 = a1;
  id v22 = a4;

  *(void *)&v20[OBJC_IVAR___NTKParmesanAssetLayout_timeLayout] = a5;
  uint64_t v23 = *(void **)&v8[v16];
  *(void *)&v8[v16] = a6;
  id v24 = a5;
  id v25 = a6;

  *(double *)&v8[v17] = a8;
  v20[OBJC_IVAR___NTKParmesanAssetLayout_userEdited] = a7;

  v27.receiver = v20;
  v27.uint64_t super_class = (Class)type metadata accessor for ParmesanAssetLayout();
  return objc_msgSendSuper2(&v27, sel_init);
}

uint64_t sub_246BEBAFC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D7038);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_246BEBB64()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 7) {
    return 7;
  }
  else {
    return v0;
  }
}

uint64_t sub_246BEBBB0(uint64_t a1, uint64_t a2)
{
  sub_246B8FC54();
  uint64_t v4 = *(void **)(a2 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  id v5 = *(id *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_originalCrop);
  id v6 = v4;
  char v7 = sub_246C2D108();

  if ((v7 & 1) == 0) {
    goto LABEL_21;
  }
  BOOL v8 = *(void *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName) == *(void *)(a2
                                                                                       + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName)
    && *(void *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName + 8) == *(void *)(a2
                                                                                           + OBJC_IVAR___NTKParmesanAssetLayout_baseImageName
                                                                                           + 8);
  if (v8 || (v9 = sub_246C2D578(), char v10 = 0, (v9 & 1) != 0))
  {
    uint64_t v11 = *(void **)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
    uint64_t v12 = *(void **)(a2 + OBJC_IVAR___NTKParmesanAssetLayout_mask);
    if (v11)
    {
      if (!v12) {
        goto LABEL_21;
      }
      type metadata accessor for ParmesanAssetMask();
      id v13 = v12;
      id v14 = v11;
      char v15 = sub_246C2D108();

      if ((v15 & 1) == 0) {
        goto LABEL_21;
      }
    }
    else if (v12)
    {
      goto LABEL_21;
    }
    uint64_t v16 = *(void *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
    uint64_t v17 = *(void *)(a2 + OBJC_IVAR___NTKParmesanAssetLayout_timeLayout);
    if (*(void *)(v16 + OBJC_IVAR___NTKParmesanTimeLayout_alignment) != *(void *)(v17
                                                                                     + OBJC_IVAR___NTKParmesanTimeLayout_alignment)
      || *(void *)(v16 + OBJC_IVAR___NTKParmesanTimeLayout_scale) != *(void *)(v17
                                                                                 + OBJC_IVAR___NTKParmesanTimeLayout_scale))
    {
      goto LABEL_21;
    }
    uint64_t v18 = *(void **)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
    uint64_t v19 = *(void **)(a2 + OBJC_IVAR___NTKParmesanAssetLayout_colorAnalysis);
    if (v18)
    {
      if (!v19) {
        goto LABEL_21;
      }
      type metadata accessor for ParmesanColorAnalysis();
      id v20 = v19;
      id v21 = v18;
      char v22 = sub_246C2D108();

      if ((v22 & 1) == 0) {
        goto LABEL_21;
      }
    }
    else if (v19)
    {
      goto LABEL_21;
    }
    if (*(double *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness) == *(double *)(a2
                                                                                              + OBJC_IVAR___NTKParmesanAssetLayout_imageAOTBrightness))
    {
      char v10 = *(unsigned char *)(a1 + OBJC_IVAR___NTKParmesanAssetLayout_userEdited) ^ *(unsigned char *)(a2
                                                                                      + OBJC_IVAR___NTKParmesanAssetLayout_userEdited) ^ 1;
      return v10 & 1;
    }
LABEL_21:
    char v10 = 0;
  }
  return v10 & 1;
}

uint64_t sub_246BEBD94(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanAssetLayout.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 6 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 6) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFA) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF9)
  {
    unsigned int v6 = ((a2 - 250) >> 8) + 1;
    *uint64_t result = a2 + 6;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BEBEA8);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 6;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanAssetLayout.CodingKeys()
{
  return &type metadata for ParmesanAssetLayout.CodingKeys;
}

unint64_t sub_246BEBEE4()
{
  unint64_t result = qword_2691D81C8;
  if (!qword_2691D81C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D81C8);
  }
  return result;
}

unint64_t sub_246BEBF3C()
{
  unint64_t result = qword_2691D81D0;
  if (!qword_2691D81D0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D81D0);
  }
  return result;
}

unint64_t sub_246BEBF94()
{
  unint64_t result = qword_2691D81D8;
  if (!qword_2691D81D8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D81D8);
  }
  return result;
}

uint64_t sub_246BEBFE8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return (*(uint64_t (**)(void))(a5 + 8))();
}

uint64_t sub_246BEC08C()
{
  if (*v0) {
    return 121;
  }
  else {
    return 120;
  }
}

uint64_t sub_246BEC0A4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_246BEC7EC(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_246BEC0CC(uint64_t a1)
{
  unint64_t v2 = sub_246BEC58C();

  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_246BEC108(uint64_t a1)
{
  unint64_t v2 = sub_246BEC58C();

  return MEMORY[0x270FA00B8](a1, v2);
}

id sub_246BEC144()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanPoint();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanPoint()
{
  return self;
}

uint64_t sub_246BEC19C(void *a1)
{
  uint64_t v3 = sub_246B80250(&qword_2691D8200);
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  unsigned int v6 = &v8[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  sub_246B8F7E8(a1, a1[3]);
  sub_246BEC58C();
  sub_246C2D708();
  v8[15] = 0;
  sub_246C2D4E8();
  if (!v1)
  {
    v8[14] = 1;
    sub_246C2D4E8();
  }
  return (*(uint64_t (**)(unsigned char *, uint64_t))(v4 + 8))(v6, v3);
}

id sub_246BEC30C(void *a1)
{
  uint64_t v4 = sub_246B80250(&qword_2691D81F0);
  uint64_t v16 = *(void *)(v4 - 8);
  uint64_t v17 = v4;
  MEMORY[0x270FA5388](v4);
  unsigned int v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  char v7 = sub_246B8F7E8(a1, a1[3]);
  sub_246BEC58C();
  BOOL v8 = v1;
  id v9 = v7;
  sub_246C2D6E8();
  if (v2)
  {

    sub_246B8EB94((uint64_t)a1);
    type metadata accessor for ParmesanPoint();
    swift_deallocPartialClassInstance();
  }
  else
  {
    uint64_t v11 = v16;
    uint64_t v10 = v17;
    char v19 = 0;
    sub_246C2D478();
    *(void *)&v8[OBJC_IVAR___NTKParmesanPoint_x] = v12;
    char v19 = 1;
    sub_246C2D478();
    *(void *)&v8[OBJC_IVAR___NTKParmesanPoint_y] = v14;

    char v15 = (objc_class *)type metadata accessor for ParmesanPoint();
    v18.receiver = v8;
    v18.uint64_t super_class = v15;
    id v9 = objc_msgSendSuper2(&v18, sel_init);
    (*(void (**)(char *, uint64_t))(v11 + 8))(v6, v10);
    sub_246B8EB94((uint64_t)a1);
  }
  return v9;
}

id sub_246BEC514@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  id v5 = objc_allocWithZone((Class)type metadata accessor for ParmesanPoint());
  id result = sub_246BEC30C(a1);
  if (!v2) {
    *a2 = result;
  }
  return result;
}

uint64_t sub_246BEC568(void *a1)
{
  return sub_246BEC19C(a1);
}

unint64_t sub_246BEC58C()
{
  unint64_t result = qword_2691D81F8;
  if (!qword_2691D81F8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D81F8);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanPoint.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BEC6ACLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanPoint.CodingKeys()
{
  return &type metadata for ParmesanPoint.CodingKeys;
}

unint64_t sub_246BEC6E8()
{
  unint64_t result = qword_2691D8208;
  if (!qword_2691D8208)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8208);
  }
  return result;
}

unint64_t sub_246BEC740()
{
  unint64_t result = qword_2691D8210;
  if (!qword_2691D8210)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8210);
  }
  return result;
}

unint64_t sub_246BEC798()
{
  unint64_t result = qword_2691D8218;
  if (!qword_2691D8218)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8218);
  }
  return result;
}

uint64_t sub_246BEC7EC(uint64_t a1, uint64_t a2)
{
  if (a1 == 120 && a2 == 0xE100000000000000 || (sub_246C2D578() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 121 && a2 == 0xE100000000000000)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    char v5 = sub_246C2D578();
    swift_bridgeObjectRelease();
    if (v5) {
      return 1;
    }
    else {
      return 2;
    }
  }
}

id sub_246BEC9CC()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryImageContentView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryImageContentView()
{
  return self;
}

uint64_t sub_246BECA34(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v13 = MEMORY[0x263F8EE78];
    sub_246C00A74(0, v1, 0);
    uint64_t v2 = v13;
    unsigned int v4 = (uint64_t *)(a1 + 32);
    do
    {
      uint64_t v5 = *v4++;
      unint64_t v6 = 0xE400000000000000;
      uint64_t v7 = 1701736270;
      switch(v5)
      {
        case 0:
          break;
        case 1:
          unint64_t v6 = 0xE600000000000000;
          uint64_t v7 = 0x6E6F73726550;
          break;
        case 2:
          unint64_t v6 = 0xE300000000000000;
          uint64_t v7 = 7628112;
          break;
        case 3:
          unint64_t v6 = 0xE600000000000000;
          uint64_t v7 = 0x65727574614ELL;
          break;
        case 4:
          unint64_t v6 = 0xE900000000000065;
          uint64_t v7 = 0x7061637379746943;
          break;
        case 5:
          unint64_t v6 = 0xE500000000000000;
          uint64_t v7 = 0x726568744FLL;
          break;
        default:
          unint64_t v6 = 0xE700000000000000;
          uint64_t v7 = 0x6E776F6E6B6E55;
          break;
      }
      unint64_t v9 = *(void *)(v13 + 16);
      unint64_t v8 = *(void *)(v13 + 24);
      if (v9 >= v8 >> 1) {
        sub_246C00A74(v8 > 1, v9 + 1, 1);
      }
      *(void *)(v13 + 16) = v9 + 1;
      uint64_t v10 = v13 + 16 * v9;
      *(void *)(v10 + 32) = v7;
      *(void *)(v10 + 40) = v6;
      --v1;
    }
    while (v1);
  }
  uint64_t v11 = MEMORY[0x24C543DF0](v2, MEMORY[0x263F8D310]);
  swift_bridgeObjectRelease();
  return v11;
}

id sub_246BECC6C(uint64_t a1, uint64_t a2, void *a3)
{
  if (*(void *)(a1 + *a3))
  {
    swift_bridgeObjectRetain();
    int v3 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
  }
  else
  {
    int v3 = 0;
  }

  return v3;
}

uint64_t sub_246BECCE8()
{
  sub_246B80250(&qword_2691D6DC8);
  uint64_t v1 = swift_allocObject();
  *(_OWORD *)(v1 + 16) = xmmword_246C35AA0;
  *(void *)(v1 + 56) = type metadata accessor for ParmesanShuffleSelection();
  *(void *)(v1 + 64) = sub_246BEFF58(&qword_2691D8268, v2, (void (*)(uint64_t))type metadata accessor for ParmesanShuffleSelection);
  *(void *)(v1 + 32) = v0;
  uint64_t v3 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes];
  unsigned int v4 = v0;
  if (v3)
  {
    uint64_t v5 = sub_246BECA34(v3);
    unint64_t v7 = v6;
  }
  else
  {
    unint64_t v7 = 0xE300000000000000;
    uint64_t v5 = 7104878;
  }
  uint64_t v8 = MEMORY[0x263F8D310];
  *(void *)(v1 + 96) = MEMORY[0x263F8D310];
  unint64_t v9 = sub_246BEFFA0();
  *(void *)(v1 + 104) = v9;
  *(void *)(v1 + 72) = v5;
  *(void *)(v1 + 80) = v7;
  uint64_t v10 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers];
  if (v10)
  {
    uint64_t v11 = MEMORY[0x24C543DF0](v10, v8);
    uint64_t v13 = (uint64_t *)(v1 + 112);
    *(void *)(v1 + 136) = v8;
    *(void *)(v1 + 144) = v9;
    if (v12)
    {
      *uint64_t v13 = v11;
      goto LABEL_9;
    }
  }
  else
  {
    uint64_t v13 = (uint64_t *)(v1 + 112);
    *(void *)(v1 + 136) = v8;
    *(void *)(v1 + 144) = v9;
  }
  *uint64_t v13 = 7104878;
  unint64_t v12 = 0xE300000000000000;
LABEL_9:
  *(void *)(v1 + 120) = v12;
  uint64_t v15 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
  unint64_t v14 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier + 8];
  *(void *)(v1 + 176) = v8;
  *(void *)(v1 + 184) = v9;
  if (v14) {
    uint64_t v16 = v15;
  }
  else {
    uint64_t v16 = 7104878;
  }
  unint64_t v17 = 0xE300000000000000;
  if (v14) {
    unint64_t v17 = v14;
  }
  *(void *)(v1 + 152) = v16;
  *(void *)(v1 + 160) = v17;
  uint64_t v18 = *(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection];
  if (v18)
  {
    swift_bridgeObjectRetain();
    uint64_t v19 = MEMORY[0x24C543DF0](v18, v8);
    id v21 = (uint64_t *)(v1 + 192);
    *(void *)(v1 + 216) = v8;
    *(void *)(v1 + 224) = v9;
    if (v20)
    {
      *id v21 = v19;
      goto LABEL_19;
    }
  }
  else
  {
    id v21 = (uint64_t *)(v1 + 192);
    *(void *)(v1 + 216) = v8;
    *(void *)(v1 + 224) = v9;
    swift_bridgeObjectRetain();
  }
  *id v21 = 7104878;
  unint64_t v20 = 0xE300000000000000;
LABEL_19:
  *(void *)(v1 + 200) = v20;

  return sub_246C2CC78();
}

id sub_246BECFF4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanShuffleSelection();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanShuffleSelection()
{
  return self;
}

uint64_t sub_246BED0BC(unint64_t a1, uint64_t a2)
{
  if (!(a1 >> 62))
  {
    uint64_t v4 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    id v5 = (id)v2;
    swift_bridgeObjectRetain();
    if (v4) {
      goto LABEL_3;
    }
LABEL_17:
    unint64_t v6 = (void *)MEMORY[0x263F8EE78];
LABEL_18:
    swift_bridgeObjectRelease_n();

    uint64_t v15 = (objc_class *)type metadata accessor for ParmesanShuffleSelection();
    uint64_t v16 = (char *)objc_allocWithZone(v15);
    *(void *)&v16[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes] = v6;
    *(void *)&v16[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers] = a2;
    unint64_t v17 = &v16[OBJC_IVAR___NTKParmesanShuffleSelection_collectionIdentifier];
    *(void *)unint64_t v17 = 0;
    *((void *)v17 + 1) = 0;
    *(void *)&v16[OBJC_IVAR___NTKParmesanShuffleSelection_manualSelection] = 0;
    v22.receiver = v16;
    v22.uint64_t super_class = v15;
    id v18 = objc_msgSendSuper2(&v22, sel_init);
    swift_getObjectType();
    swift_deallocPartialClassInstance();
    return (uint64_t)v18;
  }
LABEL_16:
  id v14 = (id)v2;
  swift_bridgeObjectRetain();
  uint64_t v4 = sub_246C2D3B8();
  if (!v4) {
    goto LABEL_17;
  }
LABEL_3:
  unint64_t v6 = (void *)MEMORY[0x263F8EE78];
  uint64_t v7 = 4;
  while (1)
  {
    if ((a1 & 0xC000000000000001) != 0) {
      id v8 = (id)MEMORY[0x24C544350](v7 - 4, a1);
    }
    else {
      id v8 = *(id *)(a1 + 8 * v7);
    }
    unint64_t v9 = v8;
    uint64_t v10 = v7 - 3;
    if (__OFADD__(v7 - 4, 1))
    {
      __break(1u);
      goto LABEL_16;
    }
    unint64_t v11 = (unint64_t)objc_msgSend(v8, sel_integerValue);
    if ((v11 & 0x8000000000000000) != 0) {
      break;
    }
    unint64_t v12 = v11;

    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      unint64_t v6 = sub_246BA5C20(0, v6[2] + 1, 1, v6);
    }
    unint64_t v2 = v6[2];
    unint64_t v13 = v6[3];
    if (v2 >= v13 >> 1) {
      unint64_t v6 = sub_246BA5C20((void *)(v13 > 1), v2 + 1, 1, v6);
    }
    uint64_t v6[2] = v2 + 1;
    v6[v2 + 4] = v12;
    ++v7;
    if (v10 == v4) {
      goto LABEL_18;
    }
  }
  uint64_t result = sub_246C2D398();
  __break(1u);
  return result;
}

void *sub_246BED384()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes);
  unint64_t v2 = MEMORY[0x263F8EE78];
  if (!v1) {
    return (void *)v2;
  }
  unint64_t v7 = MEMORY[0x263F8EE78];
  uint64_t v3 = *(void *)(v1 + 16);
  if (v3)
  {
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D7120);
    swift_bridgeObjectRetain();
    uint64_t v4 = 0;
    while ((*(void *)(v1 + 8 * v4 + 32) & 0x8000000000000000) == 0)
    {
      sub_246C2D0E8();
      MEMORY[0x24C543DC0]();
      if (*(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_246C2CD68();
      }
      ++v4;
      sub_246C2CD88();
      unint64_t v2 = (unint64_t)&v7;
      sub_246C2CD58();
      if (v3 == v4)
      {
        swift_bridgeObjectRelease();
        unint64_t v2 = v7;
        goto LABEL_9;
      }
    }
    __break(1u);
    goto LABEL_14;
  }
LABEL_9:
  if ((v2 & 0x8000000000000000) == 0 && (v2 & 0x4000000000000000) == 0)
  {
    v2 &= 0xFFFFFFFFFFFFFF8uLL;
    return (void *)v2;
  }
LABEL_14:
  unint64_t v6 = sub_246BEF534(v2);
  swift_bridgeObjectRelease();
  return v6;
}

id sub_246BED54C(void *a1, uint64_t a2, void (*a3)(void))
{
  id v4 = a1;
  a3();

  id v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();

  return v5;
}

uint64_t sub_246BED5BC()
{
  if (*(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_shuffleTypes])
  {
    uint64_t v1 = swift_bridgeObjectRetain();
    uint64_t v2 = sub_246BEF8C4(v1);
    swift_bridgeObjectRelease();
    BOOL v3 = sub_246BEDD4C(1, v2);
    if (v3)
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      id v5 = (void *)sub_246C2CC08();
      unint64_t v6 = (void *)sub_246C2CC08();
      id v7 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v5, v6);

      uint64_t v8 = sub_246C2CC48();
      uint64_t v10 = v9;

      unint64_t v11 = sub_246BA5D30(0, 1, 1, MEMORY[0x263F8EE78]);
      unint64_t v13 = v11[2];
      unint64_t v12 = v11[3];
      if (v13 >= v12 >> 1) {
        unint64_t v11 = sub_246BA5D30((void *)(v12 > 1), v13 + 1, 1, v11);
      }
      void v11[2] = v13 + 1;
      id v14 = &v11[2 * v13];
      v14[4] = v8;
      void v14[5] = v10;
    }
    else
    {
      unint64_t v11 = (void *)MEMORY[0x263F8EE78];
    }
    if (sub_246BEDD4C(2, v2))
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      objc_super v22 = (void *)swift_getObjCClassFromMetadata();
      uint64_t v23 = (void *)sub_246C2CC08();
      id v24 = (void *)sub_246C2CC08();
      id v25 = objc_msgSend(v22, sel_localizedStringForKey_comment_, v23, v24);

      uint64_t v26 = sub_246C2CC48();
      uint64_t v28 = v27;

      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        unint64_t v11 = sub_246BA5D30(0, v11[2] + 1, 1, v11);
      }
      unint64_t v30 = v11[2];
      unint64_t v29 = v11[3];
      if (v30 >= v29 >> 1) {
        unint64_t v11 = sub_246BA5D30((void *)(v29 > 1), v30 + 1, 1, v11);
      }
      BOOL v3 = 0;
      void v11[2] = v30 + 1;
      uint64_t v31 = &v11[2 * v30];
      v31[4] = v26;
      v31[5] = v28;
    }
    if (sub_246BEDD4C(3, v2))
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t v32 = (void *)swift_getObjCClassFromMetadata();
      uint64_t v33 = (void *)sub_246C2CC08();
      objc_super v34 = (void *)sub_246C2CC08();
      id v35 = objc_msgSend(v32, sel_localizedStringForKey_comment_, v33, v34);

      uint64_t v36 = sub_246C2CC48();
      uint64_t v38 = v37;

      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        unint64_t v11 = sub_246BA5D30(0, v11[2] + 1, 1, v11);
      }
      unint64_t v40 = v11[2];
      unint64_t v39 = v11[3];
      if (v40 >= v39 >> 1) {
        unint64_t v11 = sub_246BA5D30((void *)(v39 > 1), v40 + 1, 1, v11);
      }
      BOOL v3 = 0;
      void v11[2] = v40 + 1;
      uint64_t v41 = &v11[2 * v40];
      void v41[4] = v36;
      v41[5] = v38;
    }
    BOOL v42 = sub_246BEDD4C(4, v2);
    swift_bridgeObjectRelease();
    if (v42)
    {
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t v43 = (void *)swift_getObjCClassFromMetadata();
      uint64_t v44 = (void *)sub_246C2CC08();
      id v45 = (void *)sub_246C2CC08();
      id v46 = objc_msgSend(v43, sel_localizedStringForKey_comment_, v44, v45);

      uint64_t v47 = sub_246C2CC48();
      uint64_t v49 = v48;

      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        unint64_t v11 = sub_246BA5D30(0, v11[2] + 1, 1, v11);
      }
      unint64_t v51 = v11[2];
      unint64_t v50 = v11[3];
      if (v51 >= v50 >> 1) {
        unint64_t v11 = sub_246BA5D30((void *)(v50 > 1), v51 + 1, 1, v11);
      }
      void v11[2] = v51 + 1;
      uint64_t v52 = &v11[2 * v51];
      v52[4] = v47;
      v52[5] = v49;
      goto LABEL_32;
    }
    if (!v3)
    {
LABEL_32:
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t v54 = (void *)swift_getObjCClassFromMetadata();
      uint64_t v55 = (void *)sub_246C2CC08();
      id v56 = (void *)sub_246C2CC08();
      id v57 = objc_msgSend(v54, sel_localizedStringForKey_comment_, v55, v56);

      sub_246C2CC48();
      sub_246B80250(&qword_2691D70A8);
      sub_246BEFEFC();
      uint64_t v58 = sub_246C2CBD8();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v58;
    }
    swift_bridgeObjectRelease();
    if (*(void *)&v0[OBJC_IVAR___NTKParmesanShuffleSelection_personIdentifiers]) {
      uint64_t v53 = (void *)sub_246C2CD28();
    }
    else {
      uint64_t v53 = 0;
    }
    id v59 = objc_msgSend((id)type metadata accessor for ParmesanShuffleSelection(), sel_peopleDetailTitleFor_, v53);

    uint64_t v58 = sub_246C2CC48();
  }
  else
  {
    if (qword_2691D62D0 != -1) {
      swift_once();
    }
    uint64_t v15 = sub_246C2C088();
    sub_246B8BE0C(v15, (uint64_t)qword_2691E00C0);
    uint64_t v16 = v0;
    unint64_t v17 = sub_246C2C068();
    os_log_type_t v18 = sub_246C2CEE8();
    if (os_log_type_enabled(v17, v18))
    {
      uint64_t v19 = (uint8_t *)swift_slowAlloc();
      unint64_t v20 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v19 = 138412290;
      id v21 = v16;
      sub_246C2D1C8();
      *unint64_t v20 = v16;

      _os_log_impl(&dword_246B51000, v17, v18, "No shuffle types for selection: %@", v19, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v20, -1, -1);
      MEMORY[0x24C545990](v19, -1, -1);
    }
    else
    {
    }
    return 0;
  }
  return v58;
}

BOOL sub_246BEDD4C(uint64_t a1, uint64_t a2)
{
  if (!*(void *)(a2 + 16)) {
    return 0;
  }
  sub_246C2D668();
  sub_246C2D678();
  uint64_t v4 = sub_246C2D6B8();
  uint64_t v5 = -1 << *(unsigned char *)(a2 + 32);
  unint64_t v6 = v4 & ~v5;
  uint64_t v7 = a2 + 56;
  if (((*(void *)(a2 + 56 + ((v6 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v6) & 1) == 0) {
    return 0;
  }
  uint64_t v8 = *(void *)(a2 + 48);
  if (*(void *)(v8 + 8 * v6) == a1) {
    return 1;
  }
  uint64_t v10 = ~v5;
  unint64_t v11 = (v6 + 1) & v10;
  if (((*(void *)(v7 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11) & 1) == 0) {
    return 0;
  }
  do
  {
    uint64_t v12 = *(void *)(v8 + 8 * v11);
    BOOL result = v12 == a1;
    if (v12 == a1) {
      break;
    }
    unint64_t v11 = (v11 + 1) & v10;
  }
  while (((*(void *)(v7 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11) & 1) != 0);
  return result;
}

uint64_t sub_246BEDE3C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  unint64_t v6 = (void **)(a5 + 16);
  id v7 = objc_msgSend(a1, sel_px_localizedName);
  uint64_t v8 = sub_246C2CC48();
  uint64_t v10 = v9;

  if (v8) {
    BOOL v11 = 0;
  }
  else {
    BOOL v11 = v10 == 0xE000000000000000;
  }
  if (v11 || (sub_246C2D578() & 1) != 0)
  {
    swift_beginAccess();
    *(unsigned char *)(a4 + 16) = 1;
  }
  swift_beginAccess();
  uint64_t v12 = *v6;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *unint64_t v6 = v12;
  if ((isUniquelyReferenced_nonNull_native & 1) == 0)
  {
    uint64_t v12 = sub_246BA5D30(0, v12[2] + 1, 1, v12);
    *unint64_t v6 = v12;
  }
  unint64_t v15 = v12[2];
  unint64_t v14 = v12[3];
  if (v15 >= v14 >> 1)
  {
    uint64_t v12 = sub_246BA5D30((void *)(v14 > 1), v15 + 1, 1, v12);
    *unint64_t v6 = v12;
  }
  v12[2] = v15 + 1;
  uint64_t v16 = &v12[2 * v15];
  void v16[4] = v8;
  v16[5] = v10;
  return swift_endAccess();
}

void sub_246BEDF80(uint64_t a1, void *a2)
{
  BOOL v3 = *(void (**)(void))(a1 + 32);
  swift_retain();
  id v4 = a2;
  v3();
  swift_release();
}

uint64_t sub_246BEE08C(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v7 = *v3;
  sub_246C2D668();
  swift_bridgeObjectRetain();
  sub_246C2CCC8();
  uint64_t v8 = sub_246C2D6B8();
  uint64_t v9 = -1 << *(unsigned char *)(v7 + 32);
  unint64_t v10 = v8 & ~v9;
  if ((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10))
  {
    uint64_t v11 = *(void *)(v7 + 48);
    uint64_t v12 = (void *)(v11 + 16 * v10);
    BOOL v13 = *v12 == a2 && v12[1] == a3;
    if (v13 || (sub_246C2D578() & 1) != 0)
    {
LABEL_7:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v14 = (uint64_t *)(*(void *)(*v3 + 48) + 16 * v10);
      uint64_t v15 = v14[1];
      *a1 = *v14;
      a1[1] = v15;
      swift_bridgeObjectRetain();
      return 0;
    }
    uint64_t v17 = ~v9;
    while (1)
    {
      unint64_t v10 = (v10 + 1) & v17;
      if (((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10) & 1) == 0) {
        break;
      }
      os_log_type_t v18 = (void *)(v11 + 16 * v10);
      BOOL v19 = *v18 == a2 && v18[1] == a3;
      if (v19 || (sub_246C2D578() & 1) != 0) {
        goto LABEL_7;
      }
    }
  }
  swift_bridgeObjectRelease();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v21 = *v3;
  uint64_t *v3 = 0x8000000000000000;
  swift_bridgeObjectRetain();
  sub_246BEE8E8(a2, a3, v10, isUniquelyReferenced_nonNull_native);
  uint64_t *v3 = v21;
  swift_bridgeObjectRelease();
  *a1 = a2;
  a1[1] = a3;
  return 1;
}

uint64_t sub_246BEE23C(uint64_t *a1, uint64_t a2)
{
  uint64_t v5 = *v2;
  sub_246C2D668();
  sub_246C2D678();
  uint64_t v6 = sub_246C2D6B8();
  uint64_t v7 = -1 << *(unsigned char *)(v5 + 32);
  unint64_t v8 = v6 & ~v7;
  if (((*(void *)(v5 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8) & 1) == 0)
  {
LABEL_7:
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v13 = *v2;
    uint64_t *v2 = 0x8000000000000000;
    sub_246BEEA84(a2, v8, isUniquelyReferenced_nonNull_native);
    uint64_t *v2 = v13;
    swift_bridgeObjectRelease();
    uint64_t result = 1;
    goto LABEL_8;
  }
  uint64_t v9 = *(void *)(v5 + 48);
  if (*(void *)(v9 + 8 * v8) != a2)
  {
    uint64_t v10 = ~v7;
    do
    {
      unint64_t v8 = (v8 + 1) & v10;
      if (((*(void *)(v5 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8) & 1) == 0) {
        goto LABEL_7;
      }
    }
    while (*(void *)(v9 + 8 * v8) != a2);
  }
  uint64_t result = 0;
  a2 = *(void *)(*(void *)(*v2 + 48) + 8 * v8);
LABEL_8:
  *a1 = a2;
  return result;
}

uint64_t sub_246BEE35C()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_246B80250(&qword_2691D8278);
  uint64_t v3 = sub_246C2D268();
  uint64_t v4 = v3;
  if (*(void *)(v2 + 16))
  {
    uint64_t v5 = 1 << *(unsigned char *)(v2 + 32);
    unint64_t v30 = (void *)(v2 + 56);
    if (v5 < 64) {
      uint64_t v6 = ~(-1 << v5);
    }
    else {
      uint64_t v6 = -1;
    }
    unint64_t v7 = v6 & *(void *)(v2 + 56);
    int64_t v8 = (unint64_t)(v5 + 63) >> 6;
    uint64_t v9 = v3 + 56;
    uint64_t result = swift_retain();
    int64_t v11 = 0;
    while (1)
    {
      if (v7)
      {
        unint64_t v14 = __clz(__rbit64(v7));
        v7 &= v7 - 1;
        unint64_t v15 = v14 | (v11 << 6);
      }
      else
      {
        int64_t v16 = v11 + 1;
        if (__OFADD__(v11, 1))
        {
LABEL_38:
          __break(1u);
LABEL_39:
          __break(1u);
          return result;
        }
        if (v16 >= v8) {
          goto LABEL_33;
        }
        unint64_t v17 = v30[v16];
        ++v11;
        if (!v17)
        {
          int64_t v11 = v16 + 1;
          if (v16 + 1 >= v8) {
            goto LABEL_33;
          }
          unint64_t v17 = v30[v11];
          if (!v17)
          {
            int64_t v11 = v16 + 2;
            if (v16 + 2 >= v8) {
              goto LABEL_33;
            }
            unint64_t v17 = v30[v11];
            if (!v17)
            {
              int64_t v18 = v16 + 3;
              if (v18 >= v8)
              {
LABEL_33:
                swift_release();
                uint64_t v1 = v0;
                uint64_t v29 = 1 << *(unsigned char *)(v2 + 32);
                if (v29 > 63) {
                  bzero(v30, ((unint64_t)(v29 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
                }
                else {
                  *unint64_t v30 = -1 << v29;
                }
                *(void *)(v2 + 16) = 0;
                break;
              }
              unint64_t v17 = v30[v18];
              if (!v17)
              {
                while (1)
                {
                  int64_t v11 = v18 + 1;
                  if (__OFADD__(v18, 1)) {
                    goto LABEL_39;
                  }
                  if (v11 >= v8) {
                    goto LABEL_33;
                  }
                  unint64_t v17 = v30[v11];
                  ++v18;
                  if (v17) {
                    goto LABEL_23;
                  }
                }
              }
              int64_t v11 = v18;
            }
          }
        }
LABEL_23:
        unint64_t v7 = (v17 - 1) & v17;
        unint64_t v15 = __clz(__rbit64(v17)) + (v11 << 6);
      }
      BOOL v19 = (uint64_t *)(*(void *)(v2 + 48) + 16 * v15);
      uint64_t v20 = *v19;
      uint64_t v21 = v19[1];
      sub_246C2D668();
      sub_246C2CCC8();
      uint64_t result = sub_246C2D6B8();
      uint64_t v22 = -1 << *(unsigned char *)(v4 + 32);
      unint64_t v23 = result & ~v22;
      unint64_t v24 = v23 >> 6;
      if (((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6))) != 0)
      {
        unint64_t v12 = __clz(__rbit64((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6)))) | v23 & 0x7FFFFFFFFFFFFFC0;
      }
      else
      {
        char v25 = 0;
        unint64_t v26 = (unint64_t)(63 - v22) >> 6;
        do
        {
          if (++v24 == v26 && (v25 & 1) != 0)
          {
            __break(1u);
            goto LABEL_38;
          }
          BOOL v27 = v24 == v26;
          if (v24 == v26) {
            unint64_t v24 = 0;
          }
          v25 |= v27;
          uint64_t v28 = *(void *)(v9 + 8 * v24);
        }
        while (v28 == -1);
        unint64_t v12 = __clz(__rbit64(~v28)) + (v24 << 6);
      }
      *(void *)(v9 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
      uint64_t v13 = (void *)(*(void *)(v4 + 48) + 16 * v12);
      *uint64_t v13 = v20;
      v13[1] = v21;
      ++*(void *)(v4 + 16);
    }
  }
  uint64_t result = swift_release();
  uint64_t *v1 = v4;
  return result;
}

uint64_t sub_246BEE63C()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_246B80250(&qword_2691D8260);
  uint64_t result = sub_246C2D268();
  uint64_t v4 = result;
  if (*(void *)(v2 + 16))
  {
    int64_t v5 = 0;
    uint64_t v6 = (void *)(v2 + 56);
    uint64_t v7 = 1 << *(unsigned char *)(v2 + 32);
    if (v7 < 64) {
      uint64_t v8 = ~(-1 << v7);
    }
    else {
      uint64_t v8 = -1;
    }
    unint64_t v9 = v8 & *(void *)(v2 + 56);
    int64_t v10 = (unint64_t)(v7 + 63) >> 6;
    uint64_t v11 = result + 56;
    while (1)
    {
      if (v9)
      {
        unint64_t v13 = __clz(__rbit64(v9));
        v9 &= v9 - 1;
        unint64_t v14 = v13 | (v5 << 6);
      }
      else
      {
        int64_t v15 = v5 + 1;
        if (__OFADD__(v5, 1))
        {
LABEL_38:
          __break(1u);
LABEL_39:
          __break(1u);
          return result;
        }
        if (v15 >= v10) {
          goto LABEL_33;
        }
        unint64_t v16 = v6[v15];
        ++v5;
        if (!v16)
        {
          int64_t v5 = v15 + 1;
          if (v15 + 1 >= v10) {
            goto LABEL_33;
          }
          unint64_t v16 = v6[v5];
          if (!v16)
          {
            int64_t v5 = v15 + 2;
            if (v15 + 2 >= v10) {
              goto LABEL_33;
            }
            unint64_t v16 = v6[v5];
            if (!v16)
            {
              int64_t v17 = v15 + 3;
              if (v17 >= v10)
              {
LABEL_33:
                uint64_t v26 = 1 << *(unsigned char *)(v2 + 32);
                if (v26 > 63) {
                  bzero((void *)(v2 + 56), ((unint64_t)(v26 + 63) >> 3) & 0x1FFFFFFFFFFFFFF8);
                }
                else {
                  *uint64_t v6 = -1 << v26;
                }
                uint64_t v1 = v0;
                *(void *)(v2 + 16) = 0;
                break;
              }
              unint64_t v16 = v6[v17];
              if (!v16)
              {
                while (1)
                {
                  int64_t v5 = v17 + 1;
                  if (__OFADD__(v17, 1)) {
                    goto LABEL_39;
                  }
                  if (v5 >= v10) {
                    goto LABEL_33;
                  }
                  unint64_t v16 = v6[v5];
                  ++v17;
                  if (v16) {
                    goto LABEL_23;
                  }
                }
              }
              int64_t v5 = v17;
            }
          }
        }
LABEL_23:
        unint64_t v9 = (v16 - 1) & v16;
        unint64_t v14 = __clz(__rbit64(v16)) + (v5 << 6);
      }
      uint64_t v18 = *(void *)(*(void *)(v2 + 48) + 8 * v14);
      sub_246C2D668();
      sub_246C2D678();
      uint64_t result = sub_246C2D6B8();
      uint64_t v19 = -1 << *(unsigned char *)(v4 + 32);
      unint64_t v20 = result & ~v19;
      unint64_t v21 = v20 >> 6;
      if (((-1 << v20) & ~*(void *)(v11 + 8 * (v20 >> 6))) != 0)
      {
        unint64_t v12 = __clz(__rbit64((-1 << v20) & ~*(void *)(v11 + 8 * (v20 >> 6)))) | v20 & 0x7FFFFFFFFFFFFFC0;
      }
      else
      {
        char v22 = 0;
        unint64_t v23 = (unint64_t)(63 - v19) >> 6;
        do
        {
          if (++v21 == v23 && (v22 & 1) != 0)
          {
            __break(1u);
            goto LABEL_38;
          }
          BOOL v24 = v21 == v23;
          if (v21 == v23) {
            unint64_t v21 = 0;
          }
          v22 |= v24;
          uint64_t v25 = *(void *)(v11 + 8 * v21);
        }
        while (v25 == -1);
        unint64_t v12 = __clz(__rbit64(~v25)) + (v21 << 6);
      }
      *(void *)(v11 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
      *(void *)(*(void *)(v4 + 48) + 8 * v12) = v18;
      ++*(void *)(v4 + 16);
    }
  }
  uint64_t result = swift_release();
  uint64_t *v1 = v4;
  return result;
}

uint64_t sub_246BEE8E8(uint64_t result, uint64_t a2, unint64_t a3, char a4)
{
  int64_t v5 = v4;
  uint64_t v8 = result;
  unint64_t v9 = *(void *)(*v4 + 16);
  unint64_t v10 = *(void *)(*v4 + 24);
  if (v10 > v9 && (a4 & 1) != 0) {
    goto LABEL_22;
  }
  if (a4)
  {
    sub_246BEE35C();
  }
  else
  {
    if (v10 > v9)
    {
      uint64_t result = (uint64_t)sub_246BEEBD4();
      goto LABEL_22;
    }
    sub_246BEEF20();
  }
  uint64_t v11 = *v4;
  sub_246C2D668();
  sub_246C2CCC8();
  uint64_t result = sub_246C2D6B8();
  uint64_t v12 = -1 << *(unsigned char *)(v11 + 32);
  a3 = result & ~v12;
  uint64_t v13 = v11 + 56;
  if ((*(void *)(v11 + 56 + ((a3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a3))
  {
    uint64_t v14 = *(void *)(v11 + 48);
    int64_t v15 = (void *)(v14 + 16 * a3);
    BOOL v16 = *v15 == v8 && v15[1] == a2;
    if (v16 || (uint64_t result = sub_246C2D578(), (result & 1) != 0))
    {
LABEL_21:
      uint64_t result = sub_246C2D5D8();
      __break(1u);
    }
    else
    {
      uint64_t v17 = ~v12;
      while (1)
      {
        a3 = (a3 + 1) & v17;
        if (((*(void *)(v13 + ((a3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a3) & 1) == 0) {
          break;
        }
        uint64_t v18 = (void *)(v14 + 16 * a3);
        if (*v18 != v8 || v18[1] != a2)
        {
          uint64_t result = sub_246C2D578();
          if ((result & 1) == 0) {
            continue;
          }
        }
        goto LABEL_21;
      }
    }
  }
LABEL_22:
  uint64_t v20 = *v5;
  *(void *)(*v5 + 8 * (a3 >> 6) + 56) |= 1 << a3;
  unint64_t v21 = (uint64_t *)(*(void *)(v20 + 48) + 16 * a3);
  *unint64_t v21 = v8;
  v21[1] = a2;
  uint64_t v22 = *(void *)(v20 + 16);
  BOOL v23 = __OFADD__(v22, 1);
  uint64_t v24 = v22 + 1;
  if (v23) {
    __break(1u);
  }
  else {
    *(void *)(v20 + 16) = v24;
  }
  return result;
}

uint64_t sub_246BEEA84(uint64_t result, unint64_t a2, char a3)
{
  uint64_t v5 = result;
  unint64_t v6 = *(void *)(*v3 + 16);
  unint64_t v7 = *(void *)(*v3 + 24);
  if (v7 > v6 && (a3 & 1) != 0) {
    goto LABEL_14;
  }
  if (a3)
  {
    sub_246BEE63C();
  }
  else
  {
    if (v7 > v6)
    {
      uint64_t result = (uint64_t)sub_246BEED88();
      goto LABEL_14;
    }
    sub_246BEF1D0();
  }
  uint64_t v8 = *v3;
  sub_246C2D668();
  sub_246C2D678();
  uint64_t result = sub_246C2D6B8();
  uint64_t v9 = -1 << *(unsigned char *)(v8 + 32);
  a2 = result & ~v9;
  if ((*(void *)(v8 + 56 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2))
  {
    uint64_t v10 = *(void *)(v8 + 48);
    if (*(void *)(v10 + 8 * a2) == v5)
    {
LABEL_13:
      type metadata accessor for PFLCClassification(0);
      uint64_t result = sub_246C2D5D8();
      __break(1u);
    }
    else
    {
      uint64_t v11 = ~v9;
      while (1)
      {
        a2 = (a2 + 1) & v11;
        if (((*(void *)(v8 + 56 + ((a2 >> 3) & 0xFFFFFFFFFFFFFF8)) >> a2) & 1) == 0) {
          break;
        }
        if (*(void *)(v10 + 8 * a2) == v5) {
          goto LABEL_13;
        }
      }
    }
  }
LABEL_14:
  uint64_t v12 = *v3;
  *(void *)(*v3 + 8 * (a2 >> 6) + 56) |= 1 << a2;
  *(void *)(*(void *)(v12 + 48) + 8 * a2) = v5;
  uint64_t v13 = *(void *)(v12 + 16);
  BOOL v14 = __OFADD__(v13, 1);
  uint64_t v15 = v13 + 1;
  if (v14) {
    __break(1u);
  }
  else {
    *(void *)(v12 + 16) = v15;
  }
  return result;
}

void *sub_246BEEBD4()
{
  uint64_t v1 = v0;
  sub_246B80250(&qword_2691D8278);
  uint64_t v2 = *v0;
  uint64_t v3 = sub_246C2D258();
  uint64_t v4 = v3;
  if (!*(void *)(v2 + 16))
  {
LABEL_28:
    uint64_t result = (void *)swift_release();
    uint64_t *v1 = v4;
    return result;
  }
  uint64_t result = (void *)(v3 + 56);
  uint64_t v6 = v2 + 56;
  unint64_t v7 = (unint64_t)((1 << *(unsigned char *)(v4 + 32)) + 63) >> 6;
  if (v4 != v2 || (unint64_t)result >= v2 + 56 + 8 * v7) {
    uint64_t result = memmove(result, (const void *)(v2 + 56), 8 * v7);
  }
  int64_t v9 = 0;
  *(void *)(v4 + 16) = *(void *)(v2 + 16);
  uint64_t v10 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v11 = -1;
  if (v10 < 64) {
    uint64_t v11 = ~(-1 << v10);
  }
  unint64_t v12 = v11 & *(void *)(v2 + 56);
  int64_t v13 = (unint64_t)(v10 + 63) >> 6;
  while (1)
  {
    if (v12)
    {
      unint64_t v14 = __clz(__rbit64(v12));
      v12 &= v12 - 1;
      unint64_t v15 = v14 | (v9 << 6);
      goto LABEL_12;
    }
    int64_t v20 = v9 + 1;
    if (__OFADD__(v9, 1))
    {
      __break(1u);
      goto LABEL_30;
    }
    if (v20 >= v13) {
      goto LABEL_28;
    }
    unint64_t v21 = *(void *)(v6 + 8 * v20);
    ++v9;
    if (!v21)
    {
      int64_t v9 = v20 + 1;
      if (v20 + 1 >= v13) {
        goto LABEL_28;
      }
      unint64_t v21 = *(void *)(v6 + 8 * v9);
      if (!v21)
      {
        int64_t v9 = v20 + 2;
        if (v20 + 2 >= v13) {
          goto LABEL_28;
        }
        unint64_t v21 = *(void *)(v6 + 8 * v9);
        if (!v21) {
          break;
        }
      }
    }
LABEL_27:
    unint64_t v12 = (v21 - 1) & v21;
    unint64_t v15 = __clz(__rbit64(v21)) + (v9 << 6);
LABEL_12:
    uint64_t v16 = 16 * v15;
    uint64_t v17 = (void *)(*(void *)(v2 + 48) + v16);
    uint64_t v18 = v17[1];
    uint64_t v19 = (void *)(*(void *)(v4 + 48) + v16);
    void *v19 = *v17;
    v19[1] = v18;
    uint64_t result = (void *)swift_bridgeObjectRetain();
  }
  int64_t v22 = v20 + 3;
  if (v22 >= v13) {
    goto LABEL_28;
  }
  unint64_t v21 = *(void *)(v6 + 8 * v22);
  if (v21)
  {
    int64_t v9 = v22;
    goto LABEL_27;
  }
  while (1)
  {
    int64_t v9 = v22 + 1;
    if (__OFADD__(v22, 1)) {
      break;
    }
    if (v9 >= v13) {
      goto LABEL_28;
    }
    unint64_t v21 = *(void *)(v6 + 8 * v9);
    ++v22;
    if (v21) {
      goto LABEL_27;
    }
  }
LABEL_30:
  __break(1u);
  return result;
}

void *sub_246BEED88()
{
  uint64_t v1 = v0;
  sub_246B80250(&qword_2691D8260);
  uint64_t v2 = *v0;
  uint64_t v3 = sub_246C2D258();
  uint64_t v4 = v3;
  if (!*(void *)(v2 + 16))
  {
LABEL_28:
    uint64_t result = (void *)swift_release();
    uint64_t *v1 = v4;
    return result;
  }
  uint64_t result = (void *)(v3 + 56);
  uint64_t v6 = v2 + 56;
  unint64_t v7 = (unint64_t)((1 << *(unsigned char *)(v4 + 32)) + 63) >> 6;
  if (v4 != v2 || (unint64_t)result >= v2 + 56 + 8 * v7) {
    uint64_t result = memmove(result, (const void *)(v2 + 56), 8 * v7);
  }
  int64_t v9 = 0;
  *(void *)(v4 + 16) = *(void *)(v2 + 16);
  uint64_t v10 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v11 = -1;
  if (v10 < 64) {
    uint64_t v11 = ~(-1 << v10);
  }
  unint64_t v12 = v11 & *(void *)(v2 + 56);
  int64_t v13 = (unint64_t)(v10 + 63) >> 6;
  while (1)
  {
    if (v12)
    {
      unint64_t v14 = __clz(__rbit64(v12));
      v12 &= v12 - 1;
      unint64_t v15 = v14 | (v9 << 6);
      goto LABEL_12;
    }
    int64_t v16 = v9 + 1;
    if (__OFADD__(v9, 1))
    {
      __break(1u);
      goto LABEL_30;
    }
    if (v16 >= v13) {
      goto LABEL_28;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v16);
    ++v9;
    if (!v17)
    {
      int64_t v9 = v16 + 1;
      if (v16 + 1 >= v13) {
        goto LABEL_28;
      }
      unint64_t v17 = *(void *)(v6 + 8 * v9);
      if (!v17)
      {
        int64_t v9 = v16 + 2;
        if (v16 + 2 >= v13) {
          goto LABEL_28;
        }
        unint64_t v17 = *(void *)(v6 + 8 * v9);
        if (!v17) {
          break;
        }
      }
    }
LABEL_27:
    unint64_t v12 = (v17 - 1) & v17;
    unint64_t v15 = __clz(__rbit64(v17)) + (v9 << 6);
LABEL_12:
    *(void *)(*(void *)(v4 + 48) + 8 * v15) = *(void *)(*(void *)(v2 + 48) + 8 * v15);
  }
  int64_t v18 = v16 + 3;
  if (v18 >= v13) {
    goto LABEL_28;
  }
  unint64_t v17 = *(void *)(v6 + 8 * v18);
  if (v17)
  {
    int64_t v9 = v18;
    goto LABEL_27;
  }
  while (1)
  {
    int64_t v9 = v18 + 1;
    if (__OFADD__(v18, 1)) {
      break;
    }
    if (v9 >= v13) {
      goto LABEL_28;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v9);
    ++v18;
    if (v17) {
      goto LABEL_27;
    }
  }
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_246BEEF20()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_246B80250(&qword_2691D8278);
  uint64_t v3 = sub_246C2D268();
  uint64_t v4 = v3;
  if (!*(void *)(v2 + 16))
  {
    uint64_t result = swift_release();
LABEL_35:
    uint64_t *v1 = v4;
    return result;
  }
  uint64_t v5 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v6 = v2 + 56;
  if (v5 < 64) {
    uint64_t v7 = ~(-1 << v5);
  }
  else {
    uint64_t v7 = -1;
  }
  unint64_t v8 = v7 & *(void *)(v2 + 56);
  int64_t v29 = (unint64_t)(v5 + 63) >> 6;
  uint64_t v9 = v3 + 56;
  uint64_t result = swift_retain();
  int64_t v11 = 0;
  while (1)
  {
    if (v8)
    {
      unint64_t v14 = __clz(__rbit64(v8));
      v8 &= v8 - 1;
      unint64_t v15 = v14 | (v11 << 6);
      goto LABEL_24;
    }
    int64_t v16 = v11 + 1;
    if (__OFADD__(v11, 1))
    {
LABEL_36:
      __break(1u);
      goto LABEL_37;
    }
    if (v16 >= v29) {
      goto LABEL_33;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v16);
    ++v11;
    if (!v17)
    {
      int64_t v11 = v16 + 1;
      if (v16 + 1 >= v29) {
        goto LABEL_33;
      }
      unint64_t v17 = *(void *)(v6 + 8 * v11);
      if (!v17)
      {
        int64_t v11 = v16 + 2;
        if (v16 + 2 >= v29) {
          goto LABEL_33;
        }
        unint64_t v17 = *(void *)(v6 + 8 * v11);
        if (!v17) {
          break;
        }
      }
    }
LABEL_23:
    unint64_t v8 = (v17 - 1) & v17;
    unint64_t v15 = __clz(__rbit64(v17)) + (v11 << 6);
LABEL_24:
    uint64_t v19 = (uint64_t *)(*(void *)(v2 + 48) + 16 * v15);
    uint64_t v20 = *v19;
    uint64_t v21 = v19[1];
    sub_246C2D668();
    swift_bridgeObjectRetain();
    sub_246C2CCC8();
    uint64_t result = sub_246C2D6B8();
    uint64_t v22 = -1 << *(unsigned char *)(v4 + 32);
    unint64_t v23 = result & ~v22;
    unint64_t v24 = v23 >> 6;
    if (((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6))) != 0)
    {
      unint64_t v12 = __clz(__rbit64((-1 << v23) & ~*(void *)(v9 + 8 * (v23 >> 6)))) | v23 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v25 = 0;
      unint64_t v26 = (unint64_t)(63 - v22) >> 6;
      do
      {
        if (++v24 == v26 && (v25 & 1) != 0)
        {
          __break(1u);
          goto LABEL_36;
        }
        BOOL v27 = v24 == v26;
        if (v24 == v26) {
          unint64_t v24 = 0;
        }
        v25 |= v27;
        uint64_t v28 = *(void *)(v9 + 8 * v24);
      }
      while (v28 == -1);
      unint64_t v12 = __clz(__rbit64(~v28)) + (v24 << 6);
    }
    *(void *)(v9 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
    int64_t v13 = (void *)(*(void *)(v4 + 48) + 16 * v12);
    *int64_t v13 = v20;
    v13[1] = v21;
    ++*(void *)(v4 + 16);
  }
  int64_t v18 = v16 + 3;
  if (v18 >= v29)
  {
LABEL_33:
    uint64_t result = swift_release_n();
    uint64_t v1 = v0;
    goto LABEL_35;
  }
  unint64_t v17 = *(void *)(v6 + 8 * v18);
  if (v17)
  {
    int64_t v11 = v18;
    goto LABEL_23;
  }
  while (1)
  {
    int64_t v11 = v18 + 1;
    if (__OFADD__(v18, 1)) {
      break;
    }
    if (v11 >= v29) {
      goto LABEL_33;
    }
    unint64_t v17 = *(void *)(v6 + 8 * v11);
    ++v18;
    if (v17) {
      goto LABEL_23;
    }
  }
LABEL_37:
  __break(1u);
  return result;
}

uint64_t sub_246BEF1D0()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  sub_246B80250(&qword_2691D8260);
  uint64_t result = sub_246C2D268();
  uint64_t v4 = result;
  if (!*(void *)(v2 + 16))
  {
    uint64_t result = swift_release();
LABEL_35:
    uint64_t *v1 = v4;
    return result;
  }
  int64_t v5 = 0;
  uint64_t v6 = v2 + 56;
  uint64_t v7 = 1 << *(unsigned char *)(v2 + 32);
  if (v7 < 64) {
    uint64_t v8 = ~(-1 << v7);
  }
  else {
    uint64_t v8 = -1;
  }
  unint64_t v9 = v8 & *(void *)(v2 + 56);
  int64_t v10 = (unint64_t)(v7 + 63) >> 6;
  uint64_t v11 = result + 56;
  while (1)
  {
    if (v9)
    {
      unint64_t v13 = __clz(__rbit64(v9));
      v9 &= v9 - 1;
      unint64_t v14 = v13 | (v5 << 6);
      goto LABEL_24;
    }
    int64_t v15 = v5 + 1;
    if (__OFADD__(v5, 1))
    {
LABEL_36:
      __break(1u);
      goto LABEL_37;
    }
    if (v15 >= v10) {
      goto LABEL_33;
    }
    unint64_t v16 = *(void *)(v6 + 8 * v15);
    ++v5;
    if (!v16)
    {
      int64_t v5 = v15 + 1;
      if (v15 + 1 >= v10) {
        goto LABEL_33;
      }
      unint64_t v16 = *(void *)(v6 + 8 * v5);
      if (!v16)
      {
        int64_t v5 = v15 + 2;
        if (v15 + 2 >= v10) {
          goto LABEL_33;
        }
        unint64_t v16 = *(void *)(v6 + 8 * v5);
        if (!v16) {
          break;
        }
      }
    }
LABEL_23:
    unint64_t v9 = (v16 - 1) & v16;
    unint64_t v14 = __clz(__rbit64(v16)) + (v5 << 6);
LABEL_24:
    uint64_t v18 = *(void *)(*(void *)(v2 + 48) + 8 * v14);
    sub_246C2D668();
    sub_246C2D678();
    uint64_t result = sub_246C2D6B8();
    uint64_t v19 = -1 << *(unsigned char *)(v4 + 32);
    unint64_t v20 = result & ~v19;
    unint64_t v21 = v20 >> 6;
    if (((-1 << v20) & ~*(void *)(v11 + 8 * (v20 >> 6))) != 0)
    {
      unint64_t v12 = __clz(__rbit64((-1 << v20) & ~*(void *)(v11 + 8 * (v20 >> 6)))) | v20 & 0x7FFFFFFFFFFFFFC0;
    }
    else
    {
      char v22 = 0;
      unint64_t v23 = (unint64_t)(63 - v19) >> 6;
      do
      {
        if (++v21 == v23 && (v22 & 1) != 0)
        {
          __break(1u);
          goto LABEL_36;
        }
        BOOL v24 = v21 == v23;
        if (v21 == v23) {
          unint64_t v21 = 0;
        }
        v22 |= v24;
        uint64_t v25 = *(void *)(v11 + 8 * v21);
      }
      while (v25 == -1);
      unint64_t v12 = __clz(__rbit64(~v25)) + (v21 << 6);
    }
    *(void *)(v11 + ((v12 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v12;
    *(void *)(*(void *)(v4 + 48) + 8 * v12) = v18;
    ++*(void *)(v4 + 16);
  }
  int64_t v17 = v15 + 3;
  if (v17 >= v10)
  {
LABEL_33:
    uint64_t result = swift_release();
    uint64_t v1 = v0;
    goto LABEL_35;
  }
  unint64_t v16 = *(void *)(v6 + 8 * v17);
  if (v16)
  {
    int64_t v5 = v17;
    goto LABEL_23;
  }
  while (1)
  {
    int64_t v5 = v17 + 1;
    if (__OFADD__(v17, 1)) {
      break;
    }
    if (v5 >= v10) {
      goto LABEL_33;
    }
    unint64_t v16 = *(void *)(v6 + 8 * v5);
    ++v17;
    if (v16) {
      goto LABEL_23;
    }
  }
LABEL_37:
  __break(1u);
  return result;
}

void *sub_246BEF44C(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (!v1) {
    return (void *)MEMORY[0x263F8EE78];
  }
  sub_246B80250(&qword_2691D7010);
  uint64_t v3 = (void *)swift_allocObject();
  int64_t v4 = j__malloc_size(v3);
  uint64_t v5 = v4 - 32;
  if (v4 < 32) {
    uint64_t v5 = v4 - 17;
  }
  v3[2] = v1;
  v3[3] = 2 * (v5 >> 4);
  uint64_t v6 = sub_246BEF62C((uint64_t)&v8, v3 + 4, v1, a1);
  swift_bridgeObjectRetain();
  sub_246BAAFFC();
  if (v6 != v1)
  {
    __break(1u);
    return (void *)MEMORY[0x263F8EE78];
  }
  return v3;
}

void *sub_246BEF534(unint64_t a1)
{
  unint64_t v1 = a1;
  if (a1 >> 62) {
    goto LABEL_10;
  }
  uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (!v2) {
    return (void *)MEMORY[0x263F8EE78];
  }
  while (1)
  {
    if (v2 <= 0)
    {
      uint64_t v3 = (void *)MEMORY[0x263F8EE78];
    }
    else
    {
      sub_246B80250((uint64_t *)&unk_2691D6A80);
      uint64_t v3 = (void *)swift_allocObject();
      int64_t v4 = j__malloc_size(v3);
      uint64_t v5 = v4 - 32;
      if (v4 < 32) {
        uint64_t v5 = v4 - 25;
      }
      v3[2] = v2;
      v3[3] = (2 * (v5 >> 3)) | 1;
    }
    swift_bridgeObjectRetain();
    sub_246BF8CE8((unint64_t)(v3 + 4), v2, v1);
    unint64_t v1 = v6;
    swift_bridgeObjectRelease();
    if (v1 == v2) {
      break;
    }
    __break(1u);
LABEL_10:
    swift_bridgeObjectRetain();
    uint64_t v2 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (!v2) {
      return (void *)MEMORY[0x263F8EE78];
    }
  }
  return v3;
}

uint64_t sub_246BEF62C(uint64_t result, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = (void *)result;
  uint64_t v6 = a4 + 56;
  uint64_t v7 = -1 << *(unsigned char *)(a4 + 32);
  if (-v7 < 64) {
    uint64_t v8 = ~(-1 << -(char)v7);
  }
  else {
    uint64_t v8 = -1;
  }
  unint64_t v9 = v8 & *(void *)(a4 + 56);
  if (!a2)
  {
    int64_t v12 = 0;
    uint64_t v10 = 0;
LABEL_38:
    void *v5 = a4;
    v5[1] = v6;
    v5[2] = ~v7;
    long long v5[3] = v12;
    v5[4] = v9;
    return v10;
  }
  uint64_t v10 = a3;
  if (!a3)
  {
    int64_t v12 = 0;
    goto LABEL_38;
  }
  if (a3 < 0)
  {
LABEL_40:
    __break(1u);
    goto LABEL_41;
  }
  uint64_t v11 = a2;
  int64_t v12 = 0;
  uint64_t v13 = 0;
  int64_t v14 = (unint64_t)(63 - v7) >> 6;
  if (!v9) {
    goto LABEL_9;
  }
LABEL_8:
  unint64_t v15 = __clz(__rbit64(v9));
  v9 &= v9 - 1;
  unint64_t v16 = v15 | (v12 << 6);
  while (1)
  {
    ++v13;
    unint64_t v20 = (void *)(*(void *)(a4 + 48) + 16 * v16);
    uint64_t v21 = v20[1];
    void *v11 = *v20;
    v11[1] = v21;
    if (v13 == v10)
    {
      swift_bridgeObjectRetain();
      goto LABEL_38;
    }
    v11 += 2;
    uint64_t result = swift_bridgeObjectRetain();
    if (v9) {
      goto LABEL_8;
    }
LABEL_9:
    int64_t v17 = v12 + 1;
    if (__OFADD__(v12, 1))
    {
      __break(1u);
      goto LABEL_40;
    }
    if (v17 >= v14) {
      goto LABEL_33;
    }
    unint64_t v18 = *(void *)(v6 + 8 * v17);
    if (!v18) {
      break;
    }
LABEL_18:
    unint64_t v9 = (v18 - 1) & v18;
    unint64_t v16 = __clz(__rbit64(v18)) + (v17 << 6);
    int64_t v12 = v17;
  }
  v12 += 2;
  if (v17 + 1 >= v14)
  {
    unint64_t v9 = 0;
    int64_t v12 = v17;
    goto LABEL_37;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v12);
  if (v18) {
    goto LABEL_14;
  }
  int64_t v19 = v17 + 2;
  if (v17 + 2 >= v14) {
    goto LABEL_33;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v19);
  if (v18) {
    goto LABEL_17;
  }
  int64_t v12 = v17 + 3;
  if (v17 + 3 >= v14)
  {
    unint64_t v9 = 0;
    int64_t v12 = v17 + 2;
    goto LABEL_37;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v12);
  if (v18)
  {
LABEL_14:
    int64_t v17 = v12;
    goto LABEL_18;
  }
  int64_t v19 = v17 + 4;
  if (v17 + 4 >= v14)
  {
LABEL_33:
    unint64_t v9 = 0;
LABEL_37:
    uint64_t v10 = v13;
    goto LABEL_38;
  }
  unint64_t v18 = *(void *)(v6 + 8 * v19);
  if (v18)
  {
LABEL_17:
    int64_t v17 = v19;
    goto LABEL_18;
  }
  while (1)
  {
    int64_t v17 = v19 + 1;
    if (__OFADD__(v19, 1)) {
      break;
    }
    if (v17 >= v14)
    {
      unint64_t v9 = 0;
      int64_t v12 = v14 - 1;
      goto LABEL_37;
    }
    unint64_t v18 = *(void *)(v6 + 8 * v17);
    ++v19;
    if (v18) {
      goto LABEL_18;
    }
  }
LABEL_41:
  __break(1u);
  return result;
}

uint64_t sub_246BEF82C(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  uint64_t result = sub_246C2CEA8();
  uint64_t v8 = result;
  if (v2)
  {
    int64_t v4 = (uint64_t *)(a1 + 40);
    do
    {
      uint64_t v5 = *(v4 - 1);
      uint64_t v6 = *v4;
      swift_bridgeObjectRetain();
      sub_246BEE08C(&v7, v5, v6);
      swift_bridgeObjectRelease();
      v4 += 2;
      --v2;
    }
    while (v2);
    return v8;
  }
  return result;
}

uint64_t sub_246BEF8C4(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  type metadata accessor for PFLCClassification(0);
  sub_246BEFF58(&qword_2691D8258, 255, type metadata accessor for PFLCClassification);
  uint64_t result = sub_246C2CEA8();
  uint64_t v7 = result;
  if (v2)
  {
    int64_t v4 = (uint64_t *)(a1 + 32);
    do
    {
      uint64_t v5 = *v4++;
      sub_246BEE23C(&v6, v5);
      --v2;
    }
    while (v2);
    return v7;
  }
  return result;
}

uint64_t sub_246BEF974(uint64_t a1)
{
  if (a1 && (unint64_t v1 = *(void *)(a1 + 16)) != 0)
  {
    uint64_t v2 = swift_allocObject();
    *(unsigned char *)(v2 + 16) = 0;
    uint64_t v3 = (unsigned char *)(v2 + 16);
    if (v1 < 4)
    {
      uint64_t v9 = swift_allocObject();
      *(void *)(v9 + 16) = MEMORY[0x263F8EE78];
      uint64_t v10 = self;
      uint64_t v11 = (void *)sub_246C2CD28();
      id v12 = objc_msgSend(v10, sel_fetchPersonsWithLocalIdentifiers_options_, v11, 0);

      uint64_t v13 = swift_allocObject();
      *(void *)(v13 + 16) = v2;
      *(void *)(v13 + 24) = v9;
      void aBlock[4] = sub_246BEFEDC;
      aBlock[5] = v13;
      aBlock[0] = MEMORY[0x263EF8330];
      aBlock[1] = 1107296256;
      aBlock[2] = sub_246BEDF80;
      aBlock[3] = &unk_26FB22088;
      int64_t v14 = _Block_copy(aBlock);
      swift_retain();
      swift_retain();
      swift_release();
      objc_msgSend(v12, sel_enumerateObjectsUsingBlock_, v14);
      _Block_release(v14);

      swift_beginAccess();
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
      swift_bridgeObjectRetain();
      unint64_t v16 = (void *)sub_246C2CC08();
      int64_t v17 = (void *)sub_246C2CC08();
      id v18 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v16, v17);

      sub_246C2CC48();
      sub_246B80250(&qword_2691D70A8);
      sub_246BEFEFC();
      uint64_t v4 = sub_246C2CBD8();
      swift_release();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v4 = 0;
      unsigned char *v3 = 1;
    }
    swift_beginAccess();
    if (*v3 == 1)
    {
      swift_bridgeObjectRelease();
      sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
      int64_t v19 = (void *)swift_getObjCClassFromMetadata();
      unint64_t v20 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      uint64_t v21 = (void *)sub_246C2CC08();
      id v22 = objc_msgSend(v19, (SEL)&selRef_configureComplicationLayout_forParmesanSlot_withBounds_forState_ + 3, v20, v21);

      sub_246C2CC48();
      sub_246B80250(&qword_2691D6DC8);
      uint64_t v23 = swift_allocObject();
      uint64_t v24 = MEMORY[0x263F8D6C8];
      *(_OWORD *)(v23 + 16) = xmmword_246C33620;
      uint64_t v25 = MEMORY[0x263F8D750];
      *(void *)(v23 + 56) = v24;
      *(void *)(v23 + 64) = v25;
      *(void *)(v23 + 32) = v1;
      uint64_t v4 = sub_246C2CC78();
      swift_release();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_release();
    }
  }
  else
  {
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
    uint64_t v5 = (void *)swift_getObjCClassFromMetadata();
    uint64_t v6 = (void *)sub_246C2CC08();
    uint64_t v7 = (void *)sub_246C2CC08();
    id v8 = objc_msgSend(v5, sel_localizedStringForKey_comment_, v6, v7);

    uint64_t v4 = sub_246C2CC48();
  }
  return v4;
}

uint64_t sub_246BEFE54()
{
  return MEMORY[0x270FA0238](v0, 17, 7);
}

uint64_t sub_246BEFE64()
{
  swift_bridgeObjectRelease();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_246BEFE9C()
{
  swift_release();
  swift_release();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246BEFEDC(void *a1, uint64_t a2, uint64_t a3)
{
  return sub_246BEDE3C(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24));
}

uint64_t sub_246BEFEE4(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BEFEF4()
{
  return swift_release();
}

unint64_t sub_246BEFEFC()
{
  unint64_t result = qword_2691D8250;
  if (!qword_2691D8250)
  {
    sub_246B8BEB0(&qword_2691D70A8);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8250);
  }
  return result;
}

uint64_t sub_246BEFF58(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_246BEFFA0()
{
  unint64_t result = qword_2691D8270;
  if (!qword_2691D8270)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8270);
  }
  return result;
}

id sub_246BF004C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryTransitionCoordinator();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryTransitionCoordinator()
{
  return self;
}

id sub_246BF01B8()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryContentEffect();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryContentEffect()
{
  return self;
}

uint64_t sub_246BF0274(uint64_t a1, id a2)
{
  uint64_t v2 = 0x6C61727574614ELL;
  switch(a1)
  {
    case 0:
      return v2;
    case 1:
      sub_246B80250(&qword_2691D82A0);
      uint64_t v3 = swift_allocObject();
      *(_OWORD *)(v3 + 16) = xmmword_246C33620;
      *(void *)(v3 + 56) = &type metadata for ParmesanLut;
      *(void *)(v3 + 64) = &off_26FB21888;
      *(void *)(v3 + 32) = 0x622D31302D74756CLL;
      *(void *)(v3 + 40) = 0xE900000000000077;
      *(void *)(v3 + 48) = 0;
      return 0x6968576B63616C42;
    case 2:
      return sub_246BF76A0(a2);
    case 3:
      return sub_246BF7818(a2);
    case 4:
      return sub_246BF7A50(a2);
    case 5:
      id v5 = objc_msgSend(a2, sel_primaryColor);
      unint64_t v6 = sub_246BF7DA8(v5);
      goto LABEL_9;
    case 6:
      id v5 = objc_msgSend(a2, sel_primaryColor);
      unint64_t v6 = sub_246BF7F7C(v5);
LABEL_9:
      uint64_t v2 = v6;

      return v2;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BF0438);
  }
}

void sub_246BF0454(void *a1, uint64_t a2)
{
  uint64_t v5 = *(char *)(v2 + OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle);
  unsigned __int8 v6 = *(unsigned char *)(v2 + OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle);
  uint64_t v7 = qword_246C374C0[v5];
  type metadata accessor for ParmesanTypefaceEditOption();
  id v8 = sub_246BB9A6C(v7, a2);
  objc_msgSend(a1, sel_selectOption_forCustomEditMode_slot_, v8, 13, 0);

  if (v5 == 4 || v5 == 1) {
    uint64_t v10 = 2;
  }
  else {
    uint64_t v10 = 0;
  }
  type metadata accessor for ParmesanNumeralsEditOption();
  id v11 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_optionWithNumeral_forDevice_, v10, a2);
  objc_msgSend(a1, sel_selectOption_forCustomEditMode_slot_, v11, 19, 0);

  if (v5 == 1) {
    uint64_t v12 = 1;
  }
  else {
    uint64_t v12 = 4 * (v5 == 4);
  }
  type metadata accessor for ParmesanStyleEditOption();
  id v13 = sub_246BB9A6C(v12, a2);
  objc_msgSend(a1, sel_selectOption_forCustomEditMode_slot_, v13, 15, 0);

  id v14 = objc_allocWithZone(MEMORY[0x263F57A50]);
  swift_bridgeObjectRetain();
  unint64_t v15 = (void *)sub_246C2CC08();
  sub_246BF0B64();
  id v16 = objc_msgSend(v14, sel_initWithFullname_, v15);

  sub_246BF0B64();
  if (v16)
  {
    objc_msgSend(a1, sel_selectOption_forCustomEditMode_slot_, v16, 10, @"style-color");
  }
  sub_246BBCE30(v6);
  double v18 = v17;
  if (v19)
  {
    id v22 = objc_allocWithZone(MEMORY[0x263F57A50]);
    uint64_t v21 = (void *)sub_246C2CC08();
    id v23 = objc_msgSend(v22, sel_initWithFullname_fraction_, v21, v18);
  }
  else
  {
    id v20 = objc_allocWithZone(MEMORY[0x263F57A50]);
    uint64_t v21 = (void *)sub_246C2CC08();
    id v23 = objc_msgSend(v20, sel_initWithFullname_, v21);
  }

  sub_246BF0B64();
  if (v23)
  {
    objc_msgSend(a1, sel_selectOption_forCustomEditMode_slot_);
  }
}

uint64_t sub_246BF0884()
{
  char v1 = *(unsigned char *)(v0 + OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle);
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  sub_246C2CCD8();
  uint64_t v2 = (char *)sub_246BBCD70(v1);
  unint64_t v3 = *(void *)&v2[OBJC_IVAR___NTKParmesanTimeLayout_alignment];

  if (v3 <= 1)
  {
    sub_246C2CCD8();
    swift_bridgeObjectRelease();
    sub_246C2CCD8();
    uint64_t v4 = (char *)sub_246BBCD70(v1);
    uint64_t v5 = *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_scale];

    switch(v5)
    {
      case 0:
      case 1:
      case 2:
      case 3:
        sub_246C2CCD8();
        swift_bridgeObjectRelease();
        return 0;
      default:
        break;
    }
  }
  sub_246C2D5A8();
  __break(1u);
  JUMPOUT(0x246BF0AB4);
}

id sub_246BF0B0C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryPlaceholderConfiguration();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryPlaceholderConfiguration()
{
  return self;
}

uint64_t sub_246BF0B64()
{
  return swift_bridgeObjectRelease();
}

void sub_246BF0CB4(uint64_t a1)
{
  *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryController_typeface) = a1;
  objc_super v2 = *(char **)(v1 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
  *(void *)(*(void *)(*(void *)&v2[OBJC_IVAR___NTKParmesanGalleryView_timeView]
                        + OBJC_IVAR___NTKParmesanTimeView_appearance)
            + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface) = a1;
  unint64_t v3 = v2;
  sub_246BC5900();
}

void sub_246BF0E2C(uint64_t a1)
{
  *(void *)(v1 + OBJC_IVAR___NTKParmesanGalleryController_timeOption) = a1;
  objc_super v2 = (void *)sub_246BF2074();
  if (v2)
  {
    unint64_t v3 = *(char **)(v1 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
    uint64_t v4 = *(void **)&v3[OBJC_IVAR___NTKParmesanGalleryView_noPhotosView];
    id v5 = v2;
    unsigned __int8 v6 = v3;
    objc_msgSend(v4, sel_removeFromSuperview);
    type metadata accessor for ParmesanGalleryTransitionNone();
    uint64_t v7 = swift_allocObject();
    uint64_t v8 = *(void *)&v6[OBJC_IVAR___NTKParmesanGalleryView_currentItem];
    if (v8)
    {
      id v10 = *(id *)(v8 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
      id v9 = v10;
    }
    else
    {
      id v10 = 0;
    }
    sub_246C22BE4(v10, v5, v7, v6);

    swift_release();
  }
}

uint64_t sub_246BF0F48()
{
  uint64_t v1 = *(char **)(v0 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
  objc_super v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryController_timeEffectStyle);
  uint64_t v3 = OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle;
  uint64_t v4 = *(void **)&v1[OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle];
  *(void *)&v1[OBJC_IVAR___NTKParmesanGalleryView_timeEffectStyle] = v2;
  id v5 = v2;
  unsigned __int8 v6 = v1;

  uint64_t v7 = *(void **)&v1[v3];
  id v8 = v7;
  uint64_t v9 = sub_246BE1CBC(v7);

  sub_246BADD4C(v9);
  sub_246BADD4C(v9);

  return swift_release();
}

void sub_246BF1088(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = v2 + OBJC_IVAR___NTKParmesanGalleryController_currentContent;
  if ((*(unsigned char *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_currentContent + 8) & 1) != 0 || *(void *)v4 != a1)
  {
    *(void *)uint64_t v4 = a1;
    *(unsigned char *)(v4 + 8) = 0;
    if (*(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource))
    {
      uint64_t v5 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8);
      uint64_t ObjectType = swift_getObjectType();
      uint64_t v7 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v5 + 48);
      swift_unknownObjectRetain();
      v7(a1, 0, ObjectType, v5);
      swift_unknownObjectRelease();
    }
  }

  sub_246BF1470();
}

void sub_246BF129C()
{
  if (*(unsigned char *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_currentContent + 8))
  {
LABEL_2:
    sub_246BF1390();
    sub_246BF284C();
    return;
  }
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_dataSource))
  {
    unint64_t v1 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_currentContent);
    uint64_t ObjectType = swift_getObjectType();
    if (v1 >= 2)
    {
      if (v1 != 2)
      {
        swift_unknownObjectRetain();
        sub_246C2D5A8();
        __break(1u);
        return;
      }
      if (ObjectType == type metadata accessor for ParmesanGalleryPlaceholderDataSource()) {
        goto LABEL_2;
      }
    }
    else if (ObjectType == type metadata accessor for ParmesanGalleryReaderDataSource())
    {
      goto LABEL_2;
    }
  }

  sub_246BF1470();
}

void sub_246BF1390()
{
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_dataSource))
  {
    type metadata accessor for ParmesanGalleryPlaceholderDataSource();
    uint64_t v1 = swift_dynamicCastClass();
    if (v1)
    {
      uint64_t v2 = v1;
      uint64_t v3 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_placeholderName);
      uint64_t v4 = *(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryController_placeholderName + 8);
      uint64_t v5 = (void *)(v1 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource_forcedPlaceholderName);
      void *v5 = v3;
      v5[1] = v4;
      swift_unknownObjectRetain();
      swift_bridgeObjectRetain();
      swift_bridgeObjectRelease();
      if (MEMORY[0x24C545A70](v2 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource_delegate))
      {
        sub_246BF35C0();
        swift_unknownObjectRelease();
      }
      swift_unknownObjectRelease();
    }
  }
}

void sub_246BF1470()
{
  if ((v0[OBJC_IVAR___NTKParmesanGalleryController_currentContent + 8] & 1) == 0)
  {
    uint64_t v1 = v0;
    unint64_t v2 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_currentContent];
    uint64_t v3 = &v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource];
    if (*(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource])
    {
      uint64_t ObjectType = swift_getObjectType();
      if (v2 >= 2)
      {
        if (v2 != 2)
        {
          v22[0] = v2;
          swift_unknownObjectRetain();
          goto LABEL_24;
        }
        if (ObjectType == type metadata accessor for ParmesanGalleryPlaceholderDataSource()) {
          return;
        }
      }
      else if (ObjectType == type metadata accessor for ParmesanGalleryReaderDataSource())
      {
        return;
      }
    }
    if (v2 < 2)
    {
      type metadata accessor for ParmesanGalleryReaderDataSource();
      uint64_t v5 = &off_26FB22B78;
LABEL_14:
      *(void *)uint64_t v3 = ((id (__cdecl *)())v5[1])();
      *((void *)v3 + 1) = v5;
      swift_unknownObjectRelease();
      if (!*(void *)v3) {
        goto LABEL_20;
      }
      uint64_t v6 = *((void *)v3 + 1);
      uint64_t v7 = swift_getObjectType();
      id v8 = *(void (**)(void *, _UNKNOWN **, uint64_t, uint64_t))(v6 + 24);
      swift_unknownObjectRetain();
      uint64_t v9 = v1;
      v8(v1, &off_26FB220C0, v7, v6);
      swift_unknownObjectRelease();
      if (!*(void *)v3) {
        goto LABEL_20;
      }
      uint64_t v10 = *((void *)v3 + 1);
      uint64_t v11 = swift_getObjectType();
      uint64_t v12 = *(void (**)(unint64_t, void, uint64_t, uint64_t))(v10 + 48);
      swift_unknownObjectRetain();
      v12(v2, 0, v11, v10);
      swift_unknownObjectRelease();
      if (!*(void *)v3) {
        goto LABEL_20;
      }
      swift_unknownObjectRetain();
      sub_246B80250(&qword_2691D8318);
      sub_246B80250(&qword_2691D8320);
      if (swift_dynamicCast())
      {
        if (*((void *)&v20 + 1))
        {
          sub_246BC6EA4(&v19, (uint64_t)v22);
          uint64_t v13 = v23;
          uint64_t v14 = v24;
          sub_246B8F7E8(v22, v23);
          unint64_t v15 = &v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory];
          uint64_t v16 = *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory];
          uint64_t v17 = *((void *)v15 + 1);
          double v18 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v14 + 8);
          swift_bridgeObjectRetain();
          v18(v16, v17, v13, v14);
          swift_bridgeObjectRelease();
          sub_246B8EB94((uint64_t)v22);
LABEL_22:
          sub_246BF1390();
          sub_246BF1B14(0, 0);
          return;
        }
      }
      else
      {
LABEL_20:
        uint64_t v21 = 0;
        long long v19 = 0u;
        long long v20 = 0u;
      }
      sub_246BF3C34((uint64_t)&v19);
      goto LABEL_22;
    }
    if (v2 == 2)
    {
      type metadata accessor for ParmesanGalleryPlaceholderDataSource();
      uint64_t v5 = &off_26FB22150;
      goto LABEL_14;
    }
    v22[0] = v2;
LABEL_24:
    sub_246C2D5A8();
    __break(1u);
  }
}

id sub_246BF1740(void *a1, void *a2, void *a3, double a4, double a5, double a6, double a7)
{
  unint64_t v15 = &v7[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory];
  *(void *)unint64_t v15 = 0;
  *((void *)v15 + 1) = 0;
  uint64_t v16 = &v7[OBJC_IVAR___NTKParmesanGalleryController_dataSource];
  *(void *)uint64_t v16 = 0;
  *((void *)v16 + 1) = 0;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_complicationVisibility] = 0;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_typeface] = 0;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_numerals] = 0;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_timeOption] = 0;
  uint64_t v17 = OBJC_IVAR___NTKParmesanGalleryController_timeEffectStyle;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_timeEffectStyle] = 0;
  double v18 = &v7[OBJC_IVAR___NTKParmesanGalleryController_currentContent];
  *(void *)double v18 = 0;
  v18[8] = 1;
  long long v19 = &v7[OBJC_IVAR___NTKParmesanGalleryController_placeholderName];
  *(void *)long long v19 = 0;
  *((void *)v19 + 1) = 0;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_faceState] = a2;
  *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryController_contentEffect] = a3;
  long long v20 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
  uint64_t v21 = (char *)objc_allocWithZone(v20);
  *(void *)&v21[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
  *(void *)&v21[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
  v33.receiver = v21;
  v33.uint64_t super_class = v20;
  id v22 = v7;
  id v23 = a2;
  id v24 = a3;
  id v25 = a1;
  id v26 = objc_msgSendSuper2(&v33, sel_init);
  BOOL v27 = *(void **)&v7[v17];
  objc_allocWithZone((Class)type metadata accessor for ParmesanGalleryView());
  id v28 = v27;
  id v29 = v24;
  *(void *)&v22[OBJC_IVAR___NTKParmesanGalleryController_galleryView] = sub_246BE1364(v25, 0, 0, v26, v27, v24, a4, a5, a6, a7);

  v32.receiver = v22;
  v32.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryController();
  id v30 = objc_msgSendSuper2(&v32, sel_init);
  sub_246BF1B14(0, 0);

  return v30;
}

void sub_246BF19E0(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = OBJC_IVAR___NTKParmesanGalleryController_faceState;
  uint64_t v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanGalleryController_faceState);
  type metadata accessor for NTKFaceState();
  id v6 = v5;
  char v7 = sub_246C2D108();

  if ((v7 & 1) == 0)
  {
    id v8 = *(void **)(v2 + v4);
    *(void *)(v2 + v4) = a1;
    id v10 = v8;
    id v9 = a1;
    sub_246BF1B14(v8, a1);
  }
}

void sub_246BF1B14(void *a1, void *a2)
{
  uint64_t v3 = v2;
  if (a1)
  {
    id v6 = a1;
    if (a2)
    {
LABEL_3:
      id v7 = a2;
      goto LABEL_6;
    }
  }
  else
  {
    id v6 = *(id *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_faceState);
    if (a2) {
      goto LABEL_3;
    }
  }
  id v7 = *(id *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_faceState);
LABEL_6:
  uint64_t v8 = qword_2691D62D8;
  id v9 = a1;
  id v10 = a2;
  if (v8 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_246C2C088();
  sub_246B8BE0C(v11, (uint64_t)qword_2691E00D8);
  id v12 = v6;
  id v13 = v7;
  id v14 = v12;
  unint64_t v15 = (char *)v13;
  uint64_t v16 = sub_246C2C068();
  os_log_type_t v17 = sub_246C2CED8();
  if (os_log_type_enabled(v16, v17))
  {
    uint64_t v18 = swift_slowAlloc();
    uint64_t v40 = v3;
    long long v19 = (void *)swift_slowAlloc();
    uint64_t v39 = swift_slowAlloc();
    v41[0] = v39;
    *(_DWORD *)uint64_t v18 = 136315650;
    id v20 = v14;
    sub_246BA686C(0xD000000000000021, 0x8000000246C40300, v41);
    sub_246C2D1C8();
    *(_WORD *)(v18 + 12) = 2112;
    uint64_t v21 = v15;
    id v22 = v14;
    sub_246C2D1C8();
    void *v19 = v14;

    *(_WORD *)(v18 + 22) = 2112;
    id v23 = v21;
    unint64_t v15 = v21;
    sub_246C2D1C8();
    v19[1] = v21;

    id v14 = v20;
    _os_log_impl(&dword_246B51000, v16, v17, "%s: %@ → %@", (uint8_t *)v18, 0x20u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    id v24 = v19;
    uint64_t v3 = v40;
    MEMORY[0x24C545990](v24, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v39, -1, -1);
    MEMORY[0x24C545990](v18, -1, -1);
  }
  else
  {
  }
  BOOL v25 = *(void *)&v15[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_dataMode] != 1;
  if (*(void *)&v15[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKFaceState_screenState] == 1) {
    BOOL v25 = 1;
  }
  BOOL v42 = v25;
  id v26 = sub_246C2C068();
  os_log_type_t v27 = sub_246C2CED8();
  if (os_log_type_enabled(v26, v27))
  {
    uint64_t v28 = swift_slowAlloc();
    uint64_t v29 = swift_slowAlloc();
    v41[0] = v29;
    *(_DWORD *)uint64_t v28 = 136315394;
    sub_246BA686C(0xD000000000000021, 0x8000000246C40300, v41);
    sub_246C2D1C8();
    *(_WORD *)(v28 + 12) = 2080;
    swift_beginAccess();
    if (v42) {
      uint64_t v30 = 0x646573756170;
    }
    else {
      uint64_t v30 = 0x676E6979616C70;
    }
    if (v42) {
      unint64_t v31 = 0xE600000000000000;
    }
    else {
      unint64_t v31 = 0xE700000000000000;
    }
    sub_246BA686C(v30, v31, v41);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_246B51000, v26, v27, "%s - [resolved] pausedState: %s;", (uint8_t *)v28, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v29, -1, -1);
    MEMORY[0x24C545990](v28, -1, -1);
  }

  uint64_t v32 = OBJC_IVAR___NTKParmesanGalleryController_galleryView;
  objc_super v33 = *(void **)(v3 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
  swift_beginAccess();
  uint64_t v34 = v42;
  id v35 = v33;
  sub_246BE40C4(v34);

  if (*(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_dataSource))
  {
    if (*(void *)(*(void *)(v3 + v32) + OBJC_IVAR___NTKParmesanGalleryView_currentItem))
    {
    }
    else
    {
      uint64_t v36 = *(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8);
      uint64_t ObjectType = swift_getObjectType();
      uint64_t v38 = *(uint64_t (**)(uint64_t, uint64_t))(v36 + 64);
      swift_unknownObjectRetain();
      if (v38(ObjectType, v36)) {
        sub_246BF284C();
      }

      swift_unknownObjectRelease();
    }
  }
  else
  {
  }
}

uint64_t sub_246BF2074()
{
  if (!*(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource]) {
    goto LABEL_6;
  }
  uint64_t v1 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8];
  uint64_t v2 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_timeOption];
  uint64_t v3 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_numerals];
  uint64_t v4 = self;
  swift_unknownObjectRetain();
  uint64_t v5 = objc_msgSend(v4, sel_isPartiallySupported_, v3) ? 3 : v2;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v7 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v1 + 72))(v5, ObjectType, v1);
  swift_unknownObjectRelease();
  if (!v7)
  {
LABEL_6:
    if (qword_2691D62D8 != -1) {
      swift_once();
    }
    uint64_t v8 = sub_246C2C088();
    sub_246B8BE0C(v8, (uint64_t)qword_2691E00D8);
    id v9 = v0;
    id v10 = sub_246C2C068();
    os_log_type_t v11 = sub_246C2CEC8();
    if (os_log_type_enabled(v10, v11))
    {
      uint64_t v12 = swift_slowAlloc();
      uint64_t v13 = swift_slowAlloc();
      uint64_t v19 = v13;
      *(_DWORD *)uint64_t v12 = 136315650;
      sub_246BA686C(0xD000000000000014, 0x8000000246C402E0, &v19);
      sub_246C2D1C8();
      *(_WORD *)(v12 + 12) = 2080;
      if (*(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory + 8])
      {
        uint64_t v14 = *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory];
        unint64_t v15 = *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory + 8];
      }
      else
      {
        unint64_t v15 = 0xE300000000000000;
        uint64_t v14 = 7104878;
      }
      swift_bridgeObjectRetain();
      sub_246BA686C(v14, v15, &v19);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      *(_WORD *)(v12 + 22) = 2080;
      swift_unknownObjectRetain();
      sub_246B80250(&qword_2691D8328);
      uint64_t v16 = sub_246C2CCA8();
      sub_246BA686C(v16, v17, &v19);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v10, v11, "%s — currentComposition is nil for %s, dataSource = %s", (uint8_t *)v12, 0x20u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v13, -1, -1);
      MEMORY[0x24C545990](v12, -1, -1);
    }
    else
    {
    }
    return 0;
  }
  return v7;
}

uint64_t sub_246BF23F0()
{
  if (!*(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource]) {
    goto LABEL_6;
  }
  uint64_t v1 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8];
  uint64_t v2 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_timeOption];
  uint64_t v3 = *(void *)&v0[OBJC_IVAR___NTKParmesanGalleryController_numerals];
  uint64_t v4 = self;
  swift_unknownObjectRetain();
  uint64_t v5 = objc_msgSend(v4, sel_isPartiallySupported_, v3) ? 3 : v2;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v7 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v1 + 80))(v5, ObjectType, v1);
  swift_unknownObjectRelease();
  if (!v7)
  {
LABEL_6:
    if (qword_2691D62D8 != -1) {
      swift_once();
    }
    uint64_t v8 = sub_246C2C088();
    sub_246B8BE0C(v8, (uint64_t)qword_2691E00D8);
    id v9 = v0;
    id v10 = sub_246C2C068();
    os_log_type_t v11 = sub_246C2CEC8();
    if (os_log_type_enabled(v10, v11))
    {
      uint64_t v12 = swift_slowAlloc();
      uint64_t v13 = swift_slowAlloc();
      uint64_t v19 = v13;
      *(_DWORD *)uint64_t v12 = 136315650;
      sub_246BA686C(0xD000000000000011, 0x8000000246C402C0, &v19);
      sub_246C2D1C8();
      *(_WORD *)(v12 + 12) = 2080;
      if (*(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory + 8])
      {
        uint64_t v14 = *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory];
        unint64_t v15 = *(void *)&v9[OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory + 8];
      }
      else
      {
        unint64_t v15 = 0xE300000000000000;
        uint64_t v14 = 7104878;
      }
      swift_bridgeObjectRetain();
      sub_246BA686C(v14, v15, &v19);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      *(_WORD *)(v12 + 22) = 2080;
      swift_unknownObjectRetain();
      sub_246B80250(&qword_2691D8328);
      uint64_t v16 = sub_246C2CCA8();
      sub_246BA686C(v16, v17, &v19);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v10, v11, "%s — nextComposition is nil for %s, dataSource = %s", (uint8_t *)v12, 0x20u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v13, -1, -1);
      MEMORY[0x24C545990](v12, -1, -1);
    }
    else
    {
    }
    return 0;
  }
  return v7;
}

uint64_t sub_246BF2728(uint64_t a1, uint64_t a2)
{
  if (!*(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource)) {
    return 0;
  }
  uint64_t v5 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8);
  id v6 = self;
  swift_unknownObjectRetain();
  if (objc_msgSend(v6, sel_isPartiallySupported_, a2)) {
    a1 = 3;
  }
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v8 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v5 + 72))(a1, ObjectType, v5);
  swift_unknownObjectRelease();
  return v8;
}

void sub_246BF284C()
{
  uint64_t v1 = (void *)sub_246BF2074();
  if (v1)
  {
    uint64_t v2 = *(char **)(v0 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
    uint64_t v3 = *(void **)&v2[OBJC_IVAR___NTKParmesanGalleryView_noPhotosView];
    id v4 = v1;
    uint64_t v5 = v2;
    objc_msgSend(v3, sel_removeFromSuperview);
    type metadata accessor for ParmesanGalleryTransitionNone();
    uint64_t v6 = swift_allocObject();
    uint64_t v7 = *(void *)&v5[OBJC_IVAR___NTKParmesanGalleryView_currentItem];
    if (v7)
    {
      id v9 = *(id *)(v7 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
      id v8 = v9;
    }
    else
    {
      id v9 = 0;
    }
    sub_246C22BE4(v9, v4, v6, v5);

    swift_release();
  }
}

id sub_246BF2964()
{
  if (objc_msgSend(v0, sel_isVibrantOption)) {
    return 0;
  }
  else {
    return objc_msgSend(v0, sel_primaryColor);
  }
}

void sub_246BF2A40(void *a1, void *a2)
{
  id v5 = *(id *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
  if (objc_msgSend(a1, sel_isVibrantOption))
  {
    if (objc_msgSend(a2, sel_isVibrantOption)) {
      goto LABEL_15;
    }
    id v6 = 0;
    goto LABEL_7;
  }
  id v6 = objc_msgSend(a1, sel_primaryColor);
  if ((objc_msgSend(a2, sel_isVibrantOption) & 1) == 0)
  {
LABEL_7:
    id v7 = objc_msgSend(a2, sel_primaryColor);
    if (v6)
    {
      if (v7)
      {
        id v13 = v7;
        sub_246B8F1E0(0, (unint64_t *)&qword_2691D6B30);
        id v8 = v6;
        char v9 = sub_246C2D108();

        if (v9)
        {

          id v10 = v13;
          goto LABEL_16;
        }
        goto LABEL_14;
      }
      goto LABEL_11;
    }
    if (v7)
    {
      id v6 = 0;
      id v13 = v7;
      goto LABEL_14;
    }
    goto LABEL_15;
  }
  if (v6)
  {
LABEL_11:
    id v13 = 0;
LABEL_14:
    uint64_t v11 = sub_246BE1CBC(v6);
    uint64_t v12 = sub_246BE1CBC(v13);
    sub_246BADFAC(v11, v12);
    sub_246BADFAC(v11, v12);

    swift_release();
    swift_release();

    id v10 = v6;
    goto LABEL_16;
  }
LABEL_15:
  id v10 = v5;
LABEL_16:
}

void sub_246BF2CAC(void *a1, void *a2, double a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = OBJC_IVAR___NTKParmesanGalleryController_galleryView;
  char v9 = *(void **)(*(void *)(v4 + OBJC_IVAR___NTKParmesanGalleryController_galleryView)
                + OBJC_IVAR___NTKParmesanGalleryView_contentEffect);
  if (v9)
  {
    type metadata accessor for ParmesanGalleryContentEffect();
    id v10 = a2;
    id v11 = v9;
    char v12 = sub_246C2D108();

    if (v12)
    {
      a3 = 1.0 - a3;
      a2 = a1;
      goto LABEL_6;
    }
    a2 = v10;
  }
  id v10 = a1;
LABEL_6:
  id v13 = *(id *)(v4 + v8);
  sub_246BE1D7C(v10, a2, a3);
}

void sub_246BF2E34(uint64_t a1, uint64_t a2, double a3)
{
  if (a1 != a2)
  {
    id v7 = *(char **)(v3 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
    uint64_t v8 = *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryView_timeView];
    uint64_t v9 = OBJC_IVAR___NTKParmesanTimeView_appearance;
    id v10 = *(void **)(v8 + OBJC_IVAR___NTKParmesanTimeView_appearance);
    id v11 = v7;
    id v12 = v10;
    id v13 = sub_246BCF4A4(0, 0, 1, a1, 0);

    id v14 = *(id *)(v8 + v9);
    id v15 = sub_246BCF4A4(0, 0, 1, a2, 0);

    v16[0] = xmmword_246C35760;
    v16[1] = xmmword_246C35760;
    id v16[2] = xmmword_246C35770;
    sub_246BE1FDC(v13, v15, v16, a3);
  }
}

void sub_246BF2FE0(uint64_t a1, uint64_t a2, double a3)
{
  if (a1 != a2)
  {
    id v7 = *(char **)(v3 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
    uint64_t v8 = *(void *)&v7[OBJC_IVAR___NTKParmesanGalleryView_timeView];
    uint64_t v9 = OBJC_IVAR___NTKParmesanTimeView_appearance;
    id v10 = *(void **)(v8 + OBJC_IVAR___NTKParmesanTimeView_appearance);
    id v11 = v7;
    id v12 = v10;
    id v13 = sub_246BCF4A4(0, a1, 0, 0, 1);

    id v14 = *(id *)(v8 + v9);
    id v15 = sub_246BCF4A4(0, a2, 0, 0, 1);

    v16[0] = xmmword_246C35760;
    v16[1] = xmmword_246C35760;
    id v16[2] = xmmword_246C35770;
    sub_246BE1FDC(v13, v15, v16, a3);
  }
}

void sub_246BF318C(uint64_t a1, uint64_t a2, double a3)
{
  uint64_t v4 = v3;
  id v6 = (void *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_dataSource);
  id v7 = &OBJC_IVAR___NTKParmesanGalleryView_pausedState;
  if (!*(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_dataSource))
  {
    id v20 = 0;
    goto LABEL_10;
  }
  uint64_t v10 = OBJC_IVAR___NTKParmesanGalleryController_numerals;
  uint64_t v11 = v6[1];
  uint64_t v12 = *(void *)(v3 + OBJC_IVAR___NTKParmesanGalleryController_numerals);
  id v13 = self;
  swift_unknownObjectRetain();
  if (objc_msgSend(v13, sel_isPartiallySupported_, v12)) {
    a1 = 3;
  }
  uint64_t ObjectType = swift_getObjectType();
  id v15 = (void *)(*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v11 + 72))(a1, ObjectType, v11);
  swift_unknownObjectRelease();
  if (!*v6)
  {
    id v20 = 0;
    id v7 = &OBJC_IVAR___NTKParmesanGalleryView_pausedState;
    if (v15) {
      goto LABEL_16;
    }
LABEL_10:
    id v15 = 0;
    id v32 = 0;
    id v21 = v20;
    id v22 = v20;
LABEL_11:
    id v23 = v21;
    goto LABEL_12;
  }
  uint64_t v16 = v6[1];
  uint64_t v17 = *(void *)(v3 + v10);
  uint64_t v18 = self;
  swift_unknownObjectRetain();
  if (objc_msgSend(v18, sel_isPartiallySupported_, v17)) {
    a2 = 3;
  }
  uint64_t v19 = swift_getObjectType();
  id v20 = (void *)(*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v16 + 72))(a2, v19, v16);
  swift_unknownObjectRelease();
  id v7 = &OBJC_IVAR___NTKParmesanGalleryView_pausedState;
  if (!v15) {
    goto LABEL_10;
  }
LABEL_16:
  uint64_t v25 = *(void *)(*(void *)(v3 + v7[86]) + OBJC_IVAR___NTKParmesanGalleryView_currentItem);
  if (!v25
    || (id v26 = *(void **)(v25 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition)) == 0)
  {
    if (v20)
    {
      id v30 = v20;
      id v21 = v15;
      id v22 = v20;
      id v32 = v15;
      goto LABEL_11;
    }
    id v31 = v15;
    id v21 = 0;
LABEL_24:
    a3 = 1.0 - a3;
    id v22 = v15;
    id v32 = v20;
    goto LABEL_11;
  }
  if (!v20)
  {
    id v22 = 0;
    id v21 = v15;
    id v32 = v15;
    goto LABEL_11;
  }
  type metadata accessor for ParmesanGalleryComposition();
  id v21 = v20;
  id v27 = v15;
  id v28 = v26;
  char v29 = sub_246C2D108();

  if (v29)
  {

    goto LABEL_24;
  }
  id v22 = v20;
  id v32 = v15;
LABEL_12:
  id v24 = *(id *)(v4 + v7[86]);
  sub_246BE20C0((unint64_t)v32, v22, a3);
}

id sub_246BF34C4()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryController()
{
  return self;
}

uint64_t sub_246BF35C0()
{
  uint64_t v0 = sub_246C2CA28();
  uint64_t v1 = *(void *)(v0 - 8);
  MEMORY[0x270FA5388](v0);
  uint64_t v3 = (char *)aBlock - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246C2CA48();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  id v7 = (char *)aBlock - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6930);
  uint64_t v8 = (void *)sub_246C2CF68();
  uint64_t v9 = swift_allocObject();
  swift_unknownObjectWeakInit();
  void aBlock[4] = sub_246BF3BBC;
  aBlock[5] = v9;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_246B9B974;
  aBlock[3] = &unk_26FB220F8;
  uint64_t v10 = _Block_copy(aBlock);
  swift_release();
  sub_246C2CA38();
  aBlock[0] = MEMORY[0x263F8EE78];
  sub_246BF3BDC();
  sub_246B80250(&qword_2691D6940);
  sub_246BAAD0C();
  sub_246C2D208();
  MEMORY[0x24C544020](0, v7, v3, v10);
  _Block_release(v10);

  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
}

void sub_246BF3850(uint64_t a1)
{
  uint64_t v1 = a1 + 16;
  swift_beginAccess();
  uint64_t v2 = (void *)MEMORY[0x24C545A70](v1);
  if (v2)
  {
    uint64_t v3 = v2;
    objc_msgSend(v2, sel_loadCurrentComposition);
  }
}

uint64_t sub_246BF3988(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = (void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_resourceDirectory);
  void *v5 = a1;
  v5[1] = a2;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  if (*(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource)
    && (uint64_t v6 = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource + 8),
        v13[0] = *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_dataSource),
        v13[1] = v6,
        swift_unknownObjectRetain(),
        sub_246B80250(&qword_2691D8318),
        sub_246B80250(&qword_2691D8320),
        (swift_dynamicCast() & 1) != 0))
  {
    if (*((void *)&v11 + 1))
    {
      sub_246BC6EA4(&v10, (uint64_t)v13);
      uint64_t v7 = v14;
      uint64_t v8 = v15;
      sub_246B8F7E8(v13, v14);
      (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v8 + 8))(a1, a2, v7, v8);
      return sub_246B8EB94((uint64_t)v13);
    }
  }
  else
  {
    uint64_t v12 = 0;
    long long v10 = 0u;
    long long v11 = 0u;
  }
  return sub_246BF3C34((uint64_t)&v10);
}

void sub_246BF3B20(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *v2;
  if (a2) {
    uint64_t v4 = sub_246C2CC08();
  }
  else {
    uint64_t v4 = 0;
  }
  id v5 = (id)v4;
  objc_msgSend(v3, sel_setResourceDirectory_);
}

uint64_t sub_246BF3B84()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246BF3BBC()
{
  sub_246BF3850(v0);
}

uint64_t sub_246BF3BC4(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246BF3BD4()
{
  return swift_release();
}

unint64_t sub_246BF3BDC()
{
  unint64_t result = qword_2691D6938;
  if (!qword_2691D6938)
  {
    sub_246C2CA28();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D6938);
  }
  return result;
}

uint64_t sub_246BF3C34(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D8310);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

void sub_246BF3C94(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246BF23F0();
  if (v4)
  {
    id v5 = (void *)v4;
    uint64_t v6 = *(char **)(a2 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
    uint64_t v7 = *(void *)&v6[OBJC_IVAR___NTKParmesanGalleryView_currentItem];
    if (v7)
    {
      os_log_t oslog = *(os_log_t *)(v7 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion19ParmesanGalleryItem_composition);
      uint64_t v8 = oslog;
    }
    else
    {
      os_log_t oslog = 0;
    }
    id v13 = v6;
    sub_246C22BFC(oslog, v5, a1, v13);
  }
  else
  {
    if (qword_2691D62D8 != -1) {
      swift_once();
    }
    uint64_t v9 = sub_246C2C088();
    sub_246B8BE0C(v9, (uint64_t)qword_2691E00D8);
    os_log_t oslog = (os_log_t)sub_246C2C068();
    os_log_type_t v10 = sub_246C2CED8();
    if (os_log_type_enabled(oslog, v10))
    {
      long long v11 = (uint8_t *)swift_slowAlloc();
      uint64_t v12 = swift_slowAlloc();
      uint64_t v15 = v12;
      *(_DWORD *)long long v11 = 136315138;
      sub_246BA686C(0xD00000000000002CLL, 0x8000000246C40290, &v15);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, oslog, v10, "%s — nextComposition is nil", v11, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v12, -1, -1);
      MEMORY[0x24C545990](v11, -1, -1);

      return;
    }
  }
}

void sub_246BF3EB0(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v3 = OBJC_IVAR___NTKParmesanGalleryController_contentEffect;
  uint64_t v4 = *(void **)(v2 + OBJC_IVAR___NTKParmesanGalleryController_contentEffect);
  *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryController_contentEffect) = a1;
  id v5 = a1;

  uint64_t v6 = *(char **)(v2 + OBJC_IVAR___NTKParmesanGalleryController_galleryView);
  uint64_t v7 = *(void **)(v2 + v3);
  uint64_t v8 = *(void **)&v6[OBJC_IVAR___NTKParmesanGalleryView_contentEffect];
  *(void *)&v6[OBJC_IVAR___NTKParmesanGalleryView_contentEffect] = v7;
  id v9 = v7;
  os_log_type_t v10 = v6;

  sub_246BE1158();

  sub_246BF284C();
}

char *sub_246BF3F50(double a1, double a2, double a3, double a4)
{
  *(void *)&v4[OBJC_IVAR___NTKParmesanSwatchTimeLabel_alignment] = 0;
  id v9 = &v4[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect];
  *(void *)id v9 = 0;
  *((void *)v9 + 1) = 0;
  __asm { FMOV            V0.2D, #1.0 }
  *((_OWORD *)v9 + 1) = _Q0;
  id v15 = objc_allocWithZone(MEMORY[0x263F828E0]);
  uint64_t v16 = v4;
  id v17 = objc_msgSend(v15, sel_initWithFrame_, 0.0, 0.0, 0.0, 0.0);
  uint64_t v18 = OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel;
  *(void *)&v16[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel] = v17;
  objc_msgSend(v17, sel_setTextAlignment_, 1);
  uint64_t v19 = self;
  id v20 = v17;
  id v21 = objc_msgSend(v19, sel_whiteColor);
  objc_msgSend(v20, sel_setTextColor_, v21);

  id v22 = *(id *)&v16[v18];
  objc_msgSend(v22, sel_setLineBreakMode_, 2);

  v25.receiver = v16;
  v25.uint64_t super_class = (Class)type metadata accessor for ParmesanSwatchTimeLabel();
  id v23 = (char *)objc_msgSendSuper2(&v25, sel_initWithFrame_, a1, a2, a3, a4);
  objc_msgSend(v23, sel_addSubview_, *(void *)&v23[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel]);
  return v23;
}

id sub_246BF4188()
{
  v11.receiver = v0;
  v11.uint64_t super_class = (Class)type metadata accessor for ParmesanSwatchTimeLabel();
  objc_msgSendSuper2(&v11, sel_layoutSubviews);
  double v1 = *(double *)&v0[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect];
  double v2 = *(double *)&v0[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect + 8];
  double v3 = *(double *)&v0[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect + 16];
  double v4 = *(double *)&v0[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect + 24];
  objc_msgSend(v0, sel_bounds);
  v12.origin.CGFloat x = v6 + v1 * v5;
  v12.origin.CGFloat y = v8 + v2 * v7;
  v12.size.CGFloat width = v3 * v5;
  id v9 = *(void **)&v0[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel];
  v12.size.CGFloat height = v4 * v7;
  CGRectGetMinY(v12);
  objc_msgSend(v0, sel_bounds);
  return objc_msgSend(v9, sel_setFrame_, sub_246BF4690());
}

void sub_246BF42A4(uint64_t a1, uint64_t a2)
{
  id v4 = sub_246BABFB4(a1, a2, *(void *)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_typeface));
  double v5 = *(void **)&v2[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel];
  id v11 = v4;
  objc_msgSend(v5, sel_setFont_);
  uint64_t v6 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout;
  double v7 = *(char **)(a1 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion22ParmesanTimeAppearance_layout);
  uint64_t v8 = *(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_scale];
  sub_246B80250(&qword_2691D72D0);
  if ((unint64_t)(v8 - 1) >= 2)
  {
    if (!v8) {
      goto LABEL_7;
    }
    if (v8 == 3)
    {
      uint64_t v9 = *(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_alignment];
      if (!v9) {
        goto LABEL_8;
      }
      if (v9 == 1)
      {
LABEL_7:
        uint64_t v9 = 2;
        goto LABEL_8;
      }
    }
    os_log_type_t v10 = v7;
    sub_246C2D568();
    __break(1u);
    return;
  }
  uint64_t v9 = 1;
LABEL_8:
  objc_msgSend(v5, sel_setTextAlignment_, v9);
  *(void *)&v2[OBJC_IVAR___NTKParmesanSwatchTimeLabel_alignment] = *(void *)(*(void *)(a1 + v6)
                                                                               + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
  objc_msgSend(v2, sel_setNeedsLayout);
}

id sub_246BF4598()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanSwatchTimeLabel();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanSwatchTimeLabel()
{
  return self;
}

id sub_246BF4600(double a1, double a2, double a3, double a4)
{
  double v5 = (double *)&v4[OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeRect];
  double *v5 = a1;
  v5[1] = a2;
  v5[2] = a3;
  long long v5[3] = a4;
  return objc_msgSend(v4, sel_setNeedsLayout);
}

void sub_246BF4628()
{
  double v1 = *(void **)(v0 + OBJC_IVAR___NTKParmesanSwatchTimeLabel_timeLabel);
  id v2 = (id)sub_246C2CC08();
  objc_msgSend(v1, sel_setText_, v2);
}

double sub_246BF4690()
{
  return 0.0;
}

char *sub_246BF4730()
{
  double v1 = sub_246BF4A84();
  if (!v1)
  {
    if (qword_2691D62E8 != -1) {
      swift_once();
    }
    uint64_t v2 = sub_246C2C088();
    sub_246B8BE0C(v2, (uint64_t)qword_2691E0108);
    id v3 = v0;
    id v4 = sub_246C2C068();
    os_log_type_t v5 = sub_246C2CEE8();
    if (os_log_type_enabled(v4, v5))
    {
      uint64_t v6 = swift_slowAlloc();
      uint64_t v7 = swift_slowAlloc();
      uint64_t v11 = v7;
      *(_DWORD *)uint64_t v6 = 136315394;
      sub_246BA686C(0xD000000000000012, 0x8000000246C40500, &v11);
      sub_246C2D1C8();
      *(_WORD *)(v6 + 12) = 2080;
      sub_246BF4944();
      sub_246B80250(&qword_2691D8368);
      uint64_t v8 = sub_246C2CCA8();
      sub_246BA686C(v8, v9, &v11);
      sub_246C2D1C8();

      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v4, v5, "%s nil composition for placeholderStyle: [%s]", (uint8_t *)v6, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v7, -1, -1);
      MEMORY[0x24C545990](v6, -1, -1);
    }
    else
    {
    }
  }
  return v1;
}

void sub_246BF4944()
{
  if (*(void *)(v0 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource_forcedPlaceholderName + 8))
  {
    swift_bridgeObjectRetain();
    char v1 = sub_246BBD030();
    if (v1 != 6)
    {
      char v9 = v1;
      uint64_t v6 = (objc_class *)type metadata accessor for ParmesanGalleryPlaceholderConfiguration();
      os_log_type_t v10 = objc_allocWithZone(v6);
      v10[OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle] = v9;
      uint64_t v11 = v10;
      uint64_t v8 = (objc_super *)&v11;
      goto LABEL_10;
    }
  }
  if (qword_2691D62C0 != -1) {
    swift_once();
  }
  uint64_t v2 = off_2691D7608;
  unint64_t v3 = *((void *)off_2691D7608 + 2);
  if (v3)
  {
    swift_bridgeObjectRetain();
    unint64_t v4 = sub_246BF5864(v3);
    if ((v4 & 0x8000000000000000) != 0)
    {
      __break(1u);
    }
    else if (v4 < *((void *)v2 + 2))
    {
      char v5 = v2[v4 + 32];
      swift_bridgeObjectRelease();
      uint64_t v6 = (objc_class *)type metadata accessor for ParmesanGalleryPlaceholderConfiguration();
      uint64_t v7 = objc_allocWithZone(v6);
      v7[OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle] = v5;
      CGRect v12 = v7;
      uint64_t v8 = (objc_super *)&v12;
LABEL_10:
      v8->uint64_t super_class = v6;
      [(objc_super *)v8 init];
      return;
    }
    __break(1u);
  }
  __break(1u);
}

char *sub_246BF4A84()
{
  uint64_t v0 = sub_246B80250(&qword_2691D7038);
  uint64_t v1 = MEMORY[0x270FA5388](v0 - 8);
  unint64_t v3 = (char *)&v67 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = MEMORY[0x270FA5388](v1);
  id v74 = (char *)&v67 - v5;
  uint64_t v6 = MEMORY[0x270FA5388](v4);
  objc_super v75 = (char *)&v67 - v7;
  uint64_t v8 = MEMORY[0x270FA5388](v6);
  os_log_type_t v10 = (char *)&v67 - v9;
  MEMORY[0x270FA5388](v8);
  CGRect v12 = (char *)&v67 - v11;
  uint64_t v13 = sub_246C2BB98();
  uint64_t v14 = *(void *)(v13 - 8);
  uint64_t v15 = MEMORY[0x270FA5388](v13);
  id v17 = (char *)&v67 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = MEMORY[0x270FA5388](v15);
  id v20 = (char *)&v67 - v19;
  MEMORY[0x270FA5388](v18);
  id v22 = (char *)&v67 - v21;
  sub_246BF4944();
  if (!v23) {
    return 0;
  }
  objc_super v76 = v22;
  uint64_t v69 = OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle;
  id v70 = v3;
  uint64_t v24 = v23[OBJC_IVAR___NTKParmesanGalleryPlaceholderConfiguration_placeholderStyle];
  unint64_t v25 = 0x8000000246C3A4B0;
  id v71 = v17;
  id v72 = v20;
  uint64_t v77 = v14;
  id v73 = v23;
  switch(v24)
  {
    case 1:
      id v26 = "gallery-placeholder-1B";
      goto LABEL_8;
    case 2:
      id v26 = "gallery-placeholder-1C";
      goto LABEL_8;
    case 3:
      id v26 = "gallery-placeholder-2A";
      goto LABEL_8;
    case 4:
      id v26 = "gallery-placeholder-2B";
      goto LABEL_8;
    case 5:
      id v26 = "gallery-placeholder-2C";
LABEL_8:
      unint64_t v25 = (unint64_t)(v26 - 32) | 0x8000000000000000;
      break;
    default:
      break;
  }
  uint64_t v80 = 0xD000000000000016;
  unint64_t v81 = v25;
  swift_bridgeObjectRetain();
  sub_246C2CCD8();
  id v27 = sub_246BF5480();
  swift_bridgeObjectRetain();
  id v28 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  char v29 = (void *)sub_246C2CC08();
  id v30 = objc_msgSend(v27, sel_URLForResource_withExtension_, v28, v29);

  if (v30)
  {
    sub_246C2BB28();

    uint64_t v31 = v77;
    id v32 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v77 + 56);
    v32(v10, 0, 1, v13);
  }
  else
  {
    uint64_t v31 = v77;
    id v32 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v77 + 56);
    v32(v10, 1, 1, v13);
  }
  sub_246BEBAFC((uint64_t)v10, (uint64_t)v12);
  swift_bridgeObjectRelease();
  objc_super v33 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v31 + 48);
  if (v33(v12, 1, v13) == 1)
  {
    sub_246BF5B40((uint64_t)v12);
    if (qword_2691D62D0 != -1) {
      swift_once();
    }
    uint64_t v34 = sub_246C2C088();
    sub_246B8BE0C(v34, (uint64_t)qword_2691E00C0);
    swift_bridgeObjectRetain();
    id v35 = sub_246C2C068();
    os_log_type_t v36 = sub_246C2CEE8();
    if (os_log_type_enabled(v35, v36))
    {
      uint64_t v37 = swift_slowAlloc();
      uint64_t v38 = swift_slowAlloc();
      uint64_t v80 = v38;
      *(_DWORD *)uint64_t v37 = 136315394;
      swift_bridgeObjectRetain();
      uint64_t v79 = sub_246BA686C(0xD000000000000016, v25, &v80);
      sub_246C2D1C8();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v37 + 12) = 2080;
      uint64_t v79 = sub_246BA686C(1667851624, 0xE400000000000000, &v80);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v35, v36, "no baseImageURL found named: %s-base.%s", (uint8_t *)v37, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v38, -1, -1);
      MEMORY[0x24C545990](v37, -1, -1);
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    return 0;
  }
  id v67 = *(void (**)(char *, char *, uint64_t))(v31 + 32);
  id v68 = v32;
  v67(v76, v12, v13);
  uint64_t v80 = 0xD000000000000016;
  unint64_t v81 = v25;
  swift_bridgeObjectRetain();
  sub_246C2CCD8();
  id v39 = sub_246BF5480();
  swift_bridgeObjectRetain();
  uint64_t v40 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  uint64_t v41 = (void *)sub_246C2CC08();
  id v42 = objc_msgSend(v39, sel_URLForResource_withExtension_, v40, v41);

  if (v42)
  {
    uint64_t v43 = (uint64_t)v74;
    sub_246C2BB28();

    uint64_t v44 = 0;
  }
  else
  {
    uint64_t v44 = 1;
    uint64_t v43 = (uint64_t)v74;
  }
  uint64_t v45 = (uint64_t)v75;
  uint64_t v46 = v77;
  uint64_t v47 = v68;
  objc_super v75 = (char *)(v77 + 56);
  v68((char *)v43, v44, 1, v13);
  sub_246BEBAFC(v43, v45);
  swift_bridgeObjectRelease();
  if (v33((char *)v45, 1, v13) == 1)
  {
    sub_246BF5B40(v45);
    if (qword_2691D62D0 != -1) {
      swift_once();
    }
    uint64_t v48 = sub_246C2C088();
    sub_246B8BE0C(v48, (uint64_t)qword_2691E00C0);
    swift_bridgeObjectRetain();
    uint64_t v49 = sub_246C2C068();
    os_log_type_t v50 = sub_246C2CEE8();
    if (os_log_type_enabled(v49, v50))
    {
      uint64_t v51 = swift_slowAlloc();
      uint64_t v52 = swift_slowAlloc();
      uint64_t v80 = v52;
      *(_DWORD *)uint64_t v51 = 136315394;
      swift_bridgeObjectRetain();
      uint64_t v79 = sub_246BA686C(0xD000000000000016, v25, &v80);
      sub_246C2D1C8();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v51 + 12) = 2080;
      uint64_t v79 = sub_246BA686C(6778480, 0xE300000000000000, &v80);
      sub_246C2D1C8();
      _os_log_impl(&dword_246B51000, v49, v50, "no maskURL found named: %s-mask.%s", (uint8_t *)v51, 0x16u);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v52, -1, -1);
      MEMORY[0x24C545990](v51, -1, -1);
    }
    else
    {
      swift_bridgeObjectRelease_n();
    }

    (*(void (**)(char *, uint64_t))(v46 + 8))(v76, v13);
    return 0;
  }
  v67(v72, (char *)v45, v13);
  uint64_t v53 = v46;
  uint64_t v54 = *(void (**)(char *, char *, uint64_t))(v46 + 16);
  v54(v71, v76, v13);
  uint64_t v55 = (objc_class *)type metadata accessor for ParmesanAssetMask();
  id v56 = (char *)objc_allocWithZone(v55);
  id v57 = &v56[OBJC_IVAR___NTKParmesanAssetMask_imageName];
  *(void *)id v57 = 0xD000000000000016;
  *((void *)v57 + 1) = v25;
  *(void *)&v56[OBJC_IVAR___NTKParmesanAssetMask_style] = 0;
  v78.receiver = v56;
  v78.uint64_t super_class = v55;
  swift_bridgeObjectRetain();
  id v58 = objc_msgSendSuper2(&v78, sel_init);
  uint64_t v59 = (uint64_t)v70;
  uint64_t v60 = v72;
  v54(v70, v72, v13);
  v47((char *)v59, 0, 1, v13);
  id v61 = v73;
  id v62 = sub_246BBCD70(*((unsigned char *)v73 + v69));
  id v63 = objc_allocWithZone((Class)type metadata accessor for ParmesanPlaceholderComposition());
  unint64_t v64 = sub_246BD9838(0xD000000000000016, v25, (uint64_t)v71, v58, v59, (uint64_t)v62);

  id v65 = *(void (**)(char *, uint64_t))(v53 + 8);
  v65(v60, v13);
  v65(v76, v13);
  return v64;
}

id sub_246BF5480()
{
  uint64_t v1 = OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource____lazy_storage___faceBundle;
  uint64_t v2 = *(void **)(v0 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource____lazy_storage___faceBundle);
  if (v2)
  {
    id v3 = *(id *)(v0 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource____lazy_storage___faceBundle);
  }
  else
  {
    swift_getObjectType();
    id v4 = sub_246BF54E8();
    uint64_t v5 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v4;
    id v3 = v4;

    uint64_t v2 = 0;
  }
  id v6 = v2;
  return v3;
}

id sub_246BF54E8()
{
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v1 = objc_msgSend(self, sel_bundleForClass_, ObjCClassFromMetadata);

  return v1;
}

id sub_246BF553C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanGalleryPlaceholderDataSource();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanGalleryPlaceholderDataSource()
{
  return self;
}

id sub_246BF55F4()
{
  id v1 = objc_allocWithZone(v0);

  return objc_msgSend(v1, sel_init);
}

uint64_t sub_246BF5628(uint64_t a1, uint64_t a2)
{
  *(void *)(v2 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource_delegate + 8) = a2;
  swift_unknownObjectWeakAssign();

  return swift_unknownObjectRelease();
}

uint64_t sub_246BF5674(uint64_t result, char a2)
{
  uint64_t v3 = v2 + OBJC_IVAR___NTKParmesanGalleryPlaceholderDataSource_contentOption;
  *(void *)uint64_t v3 = result;
  *(unsigned char *)(v3 + 8) = a2 & 1;
  return result;
}

unint64_t sub_246BF5864(unint64_t result)
{
  if (result)
  {
    unint64_t v1 = result;
    unint64_t v3 = 0;
    MEMORY[0x24C5459A0](&v3, 8);
    unint64_t result = (v3 * (unsigned __int128)v1) >> 64;
    if (v3 * v1 < v1)
    {
      unint64_t v2 = -(uint64_t)v1 % v1;
      if (v2 > v3 * v1)
      {
        do
        {
          unint64_t v3 = 0;
          MEMORY[0x24C5459A0](&v3, 8);
        }
        while (v2 > v3 * v1);
        return (v3 * (unsigned __int128)v1) >> 64;
      }
    }
  }
  else
  {
    __break(1u);
  }
  return result;
}

unint64_t sub_246BF58F0()
{
  unint64_t v0 = sub_246BF5864(6uLL);
  if (v0 > 5)
  {
    __break(1u);
    JUMPOUT(0x246BF59A0);
  }
  return 0xD000000000000016;
}

uint64_t sub_246BF59B8()
{
  uint64_t v12 = MEMORY[0x263F8EE78];
  sub_246C00A74(0, 6, 0);
  uint64_t v0 = 0;
  uint64_t result = v12;
  unint64_t v2 = (unint64_t)"gallery-placeholder-1A";
  unint64_t v3 = (unint64_t)"gallery-placeholder-1B";
  unint64_t v4 = (unint64_t)"gallery-placeholder-1C";
  do
  {
    unint64_t v5 = 0x8000000246C3A4B0;
    switch(byte_26FB1FAF0[v0 + 32])
    {
      case 1:
        unint64_t v5 = v2 | 0x8000000000000000;
        break;
      case 2:
        unint64_t v5 = v3 | 0x8000000000000000;
        break;
      case 3:
        unint64_t v5 = v4 | 0x8000000000000000;
        break;
      case 4:
        unint64_t v5 = 0x8000000246C3A530;
        break;
      case 5:
        unint64_t v5 = 0x8000000246C3A550;
        break;
      default:
        break;
    }
    uint64_t v13 = result;
    unint64_t v7 = *(void *)(result + 16);
    unint64_t v6 = *(void *)(result + 24);
    if (v7 >= v6 >> 1)
    {
      os_log_type_t v10 = (const char *)v3;
      uint64_t v11 = (const char *)v2;
      uint64_t v9 = (const char *)v4;
      sub_246C00A74(v6 > 1, v7 + 1, 1);
      unint64_t v4 = (unint64_t)v9;
      unint64_t v3 = (unint64_t)v10;
      unint64_t v2 = (unint64_t)v11;
      uint64_t result = v13;
    }
    ++v0;
    *(void *)(result + 16) = v7 + 1;
    uint64_t v8 = result + 16 * v7;
    *(void *)(v8 + 32) = 0xD000000000000016;
    *(void *)(v8 + 40) = v5;
  }
  while (v0 != 6);
  return result;
}

uint64_t sub_246BF5B40(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D7038);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_246BF5BA4(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v18 = MEMORY[0x263F8EE78];
    sub_246C00BAC(0, v1, 0);
    uint64_t v2 = v18;
    unint64_t v4 = (uint64_t *)(a1 + 32);
    uint64_t v5 = MEMORY[0x263F8D310];
    do
    {
      uint64_t v6 = *v4++;
      unint64_t v7 = 0xE700000000000000;
      uint64_t v8 = 0x6C61727574616ELL;
      switch(v6)
      {
        case 0:
          break;
        case 1:
          unint64_t v7 = 0xE200000000000000;
          uint64_t v8 = 30562;
          break;
        case 2:
          unint64_t v7 = 0xE800000000000000;
          uint64_t v8 = 0x656E6F746F6E6F6DLL;
          break;
        case 3:
          unsigned int v9 = 1953461604;
          goto LABEL_8;
        case 4:
          unsigned int v9 = 1953067636;
LABEL_8:
          uint64_t v8 = v9 | 0x656E6F00000000;
          break;
        case 5:
          unint64_t v7 = 0xED0000706F72646BLL;
          uint64_t v8 = 0x636142726F6C6F63;
          break;
        case 6:
          unint64_t v7 = 0x8000000246C40580;
          uint64_t v8 = 0xD000000000000011;
          break;
        default:
          sub_246C2D5A8();
          __break(1u);
          JUMPOUT(0x246BF5DC0);
      }
      sub_246C2D248();
      *((void *)&v16 + 1) = v8;
      *(void *)&long long v17 = v7;
      unint64_t v11 = *(void *)(v18 + 16);
      unint64_t v10 = *(void *)(v18 + 24);
      if (v11 >= v10 >> 1) {
        sub_246C00BAC(v10 > 1, v11 + 1, 1);
      }
      *(void *)(v18 + 16) = v11 + 1;
      uint64_t v12 = v18 + 72 * v11;
      *(_OWORD *)(v12 + 32) = v14;
      *(void *)(v12 + 96) = v5;
      *(_OWORD *)(v12 + 64) = v16;
      *(_OWORD *)(v12 + 80) = v17;
      *(_OWORD *)(v12 + 48) = v15;
      --v1;
    }
    while (v1);
  }
  return v2;
}

uint64_t sub_246BF5DE0()
{
  uint64_t v1 = MEMORY[0x263F8EE78];
  sub_246C2D2F8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  return v1;
}

uint64_t sub_246BF5EE8()
{
  uint64_t v1 = MEMORY[0x263F8EE78];
  sub_246C2D2F8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  sub_246C2D1B8();
  sub_246C2D2D8();
  sub_246C2D308();
  sub_246C2D318();
  sub_246C2D2E8();
  return v1;
}

uint64_t sub_246BF6070()
{
  uint64_t v0 = qword_26FB1F278;
  uint64_t result = MEMORY[0x263F8EE78];
  if (qword_26FB1F278)
  {
    uint64_t v3 = MEMORY[0x263F8EE78];
    sub_246C2D2F8();
    uint64_t v2 = &qword_26FB1F288;
    do
    {
      ++v2;
      sub_246C2D1B8();
      sub_246C2D2D8();
      sub_246C2D308();
      sub_246C2D318();
      sub_246C2D2E8();
      --v0;
    }
    while (v0);
    return v3;
  }
  return result;
}

unint64_t sub_246BF611C(uint64_t a1)
{
  switch(a1)
  {
    case 0:
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
      sub_246C2CCB8();
      swift_bridgeObjectRelease();
      sub_246C2CCD8();
      swift_bridgeObjectRelease();
      return 0xD00000000000001BLL;
    default:
      sub_246C2D5A8();
      __break(1u);
      JUMPOUT(0x246BF62A4);
  }
}

unint64_t sub_246BF62C0@<X0>(unint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  unint64_t result = sub_246BF73B4(*a1);
  *(void *)a2 = result;
  *(unsigned char *)(a2 + 8) = v4 & 1;
  return result;
}

void sub_246BF62F4(void *a1@<X8>)
{
  *a1 = &unk_26FB1F268;
}

char *sub_246BF63A0()
{
  unint64_t result = (char *)objc_msgSend(v0, sel__value);
  if ((unint64_t)(result - 1) >= 6) {
    return 0;
  }
  return result;
}

uint64_t sub_246BF6448()
{
  uint64_t v1 = (char *)objc_msgSend(v0, sel__value);
  if ((unint64_t)(v1 - 1) >= 6) {
    uint64_t v1 = 0;
  }
  sub_246BF611C((uint64_t)v1);
  uint64_t v2 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  sub_246C2D278();
  swift_bridgeObjectRelease();
  objc_msgSend(v0, sel__value, 0xD00000000000002ALL, 0x8000000246C405A0);
  sub_246BB6A38();
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  char v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v2, v4);

  uint64_t v6 = sub_246C2CC48();
  return v6;
}

id sub_246BF67A8(void *a1)
{
  uint64_t v3 = v1;
  if (*(void *)(sub_246BF5BA4((uint64_t)&unk_26FB1F268) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v4 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v4 = MEMORY[0x263F8EE80];
  }
  uint64_t v9 = v4;
  uint64_t v5 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v5, 1, &v9);
  swift_bridgeObjectRelease();
  *(void *)&v3[OBJC_IVAR___NTKParmesanStyleEditOption_positionsToFaceBundleStrings] = v9;

  v8.receiver = v3;
  v8.uint64_t super_class = (Class)type metadata accessor for ParmesanStyleEditOption();
  id v6 = objc_msgSendSuper2(&v8, sel_initWithDevice_, a1);

  return v6;
}

id sub_246BF68E0(uint64_t a1, void *a2)
{
  uint64_t v5 = v2;
  if (*(void *)(sub_246BF5BA4((uint64_t)&unk_26FB1F268) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v6 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v6 = MEMORY[0x263F8EE80];
  }
  v19[0] = v6;
  uint64_t v7 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v7, 1, v19);
  swift_bridgeObjectRelease();
  *(void *)&v5[OBJC_IVAR___NTKParmesanStyleEditOption_positionsToFaceBundleStrings] = v19[0];

  sub_246BB75D0(a1, (uint64_t)v19, &qword_2691D69A0);
  uint64_t v8 = v20;
  if (v20)
  {
    uint64_t v9 = sub_246B8F7E8(v19, v20);
    uint64_t v10 = *(void *)(v8 - 8);
    MEMORY[0x270FA5388](v9);
    uint64_t v12 = (char *)&v18 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v10 + 16))(v12);
    uint64_t v13 = sub_246C2D558();
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v8);
    sub_246B8EB94((uint64_t)v19);
  }
  else
  {
    uint64_t v13 = 0;
  }
  long long v14 = (objc_class *)type metadata accessor for ParmesanStyleEditOption();
  v18.receiver = v5;
  v18.uint64_t super_class = v14;
  id v15 = objc_msgSendSuper2(&v18, sel_initWithJSONObjectRepresentation_forDevice_, v13, a2);

  swift_unknownObjectRelease();
  id v16 = v15;
  sub_246BAD92C(a1);
  if (v16) {

  }
  return v16;
}

id sub_246BF6B80()
{
  uint64_t v1 = v0;
  if (*(void *)(sub_246BF5BA4((uint64_t)&unk_26FB1F268) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v2 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v2 = MEMORY[0x263F8EE80];
  }
  uint64_t v6 = v2;
  uint64_t v3 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v3, 1, &v6);
  swift_bridgeObjectRelease();
  *(void *)&v1[OBJC_IVAR___NTKParmesanStyleEditOption_positionsToFaceBundleStrings] = v6;

  v5.receiver = v1;
  v5.uint64_t super_class = (Class)type metadata accessor for ParmesanStyleEditOption();
  return objc_msgSendSuper2(&v5, sel_init);
}

id sub_246BF6C90(void *a1)
{
  uint64_t v3 = v1;
  if (*(void *)(sub_246BF5BA4((uint64_t)&unk_26FB1F268) + 16))
  {
    sub_246B80250(&qword_2691D7098);
    uint64_t v4 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v4 = MEMORY[0x263F8EE80];
  }
  uint64_t v9 = v4;
  uint64_t v5 = swift_bridgeObjectRetain();
  sub_246BF6FD0(v5, 1, &v9);
  swift_bridgeObjectRelease();
  *(void *)&v3[OBJC_IVAR___NTKParmesanStyleEditOption_positionsToFaceBundleStrings] = v9;

  v8.receiver = v3;
  v8.uint64_t super_class = (Class)type metadata accessor for ParmesanStyleEditOption();
  id v6 = objc_msgSendSuper2(&v8, sel_initWithCoder_, a1);

  return v6;
}

id sub_246BF6DC0()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanStyleEditOption();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanStyleEditOption()
{
  return self;
}

ValueMetadata *type metadata accessor for ParmesanStyleOption()
{
  return &type metadata for ParmesanStyleOption;
}

unint64_t sub_246BF6E44()
{
  unint64_t result = qword_2691D8378;
  if (!qword_2691D8378)
  {
    sub_246B8BEB0(&qword_2691D8380);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8378);
  }
  return result;
}

unint64_t sub_246BF6EA0(uint64_t a1)
{
  *(void *)(a1 + 8) = sub_246BF6ED0();
  unint64_t result = sub_246BF6F24();
  *(void *)(a1 + 16) = result;
  return result;
}

unint64_t sub_246BF6ED0()
{
  unint64_t result = qword_2691D8388;
  if (!qword_2691D8388)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8388);
  }
  return result;
}

unint64_t sub_246BF6F24()
{
  unint64_t result = qword_2691D8390;
  if (!qword_2691D8390)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8390);
  }
  return result;
}

unint64_t sub_246BF6F7C()
{
  unint64_t result = qword_2691D8398;
  if (!qword_2691D8398)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8398);
  }
  return result;
}

void sub_246BF6FD0(uint64_t a1, char a2, void *a3)
{
  uint64_t v4 = *(void *)(a1 + 16);
  if (!v4)
  {
    swift_bridgeObjectRelease();
    return;
  }
  swift_bridgeObjectRetain();
  sub_246BB75D0(a1 + 32, (uint64_t)&v45, &qword_2691D83A0);
  long long v42 = v45;
  long long v43 = v46;
  uint64_t v44 = v47;
  sub_246BAAFEC(v48, v41);
  uint64_t v7 = (void *)*a3;
  unint64_t v9 = sub_246C16178((uint64_t)&v42);
  uint64_t v10 = v7[2];
  BOOL v11 = (v8 & 1) == 0;
  uint64_t v12 = v10 + v11;
  if (__OFADD__(v10, v11)) {
    goto LABEL_23;
  }
  char v13 = v8;
  if (v7[3] >= v12)
  {
    if (a2)
    {
      if (v8) {
        goto LABEL_10;
      }
    }
    else
    {
      sub_246C1BC44();
      if (v13) {
        goto LABEL_10;
      }
    }
LABEL_13:
    objc_super v18 = (void *)*a3;
    *(void *)(*a3 + 8 * (v9 >> 6) + 64) |= 1 << v9;
    uint64_t v19 = v18[6] + 40 * v9;
    long long v20 = v42;
    long long v21 = v43;
    *(void *)(v19 + 32) = v44;
    *(_OWORD *)uint64_t v19 = v20;
    *(_OWORD *)(v19 + 16) = v21;
    sub_246BAAFEC(v41, (_OWORD *)(v18[7] + 32 * v9));
    uint64_t v22 = v18[2];
    BOOL v23 = __OFADD__(v22, 1);
    uint64_t v24 = v22 + 1;
    if (v23)
    {
LABEL_24:
      __break(1u);
      goto LABEL_25;
    }
    v18[2] = v24;
    uint64_t v25 = v4 - 1;
    if (!v25)
    {
LABEL_22:
      swift_bridgeObjectRelease_n();
      return;
    }
    uint64_t v26 = a1 + 104;
    while (1)
    {
      sub_246BB75D0(v26, (uint64_t)&v45, &qword_2691D83A0);
      long long v42 = v45;
      long long v43 = v46;
      uint64_t v44 = v47;
      sub_246BAAFEC(v48, v41);
      id v27 = (void *)*a3;
      unint64_t v28 = sub_246C16178((uint64_t)&v42);
      uint64_t v30 = v27[2];
      BOOL v31 = (v29 & 1) == 0;
      BOOL v23 = __OFADD__(v30, v31);
      uint64_t v32 = v30 + v31;
      if (v23) {
        break;
      }
      char v33 = v29;
      if (v27[3] < v32)
      {
        sub_246C1A168(v32, 1);
        unint64_t v28 = sub_246C16178((uint64_t)&v42);
        if ((v33 & 1) != (v34 & 1)) {
          goto LABEL_25;
        }
      }
      if (v33) {
        goto LABEL_10;
      }
      id v35 = (void *)*a3;
      *(void *)(*a3 + 8 * (v28 >> 6) + 64) |= 1 << v28;
      uint64_t v36 = v35[6] + 40 * v28;
      long long v37 = v42;
      long long v38 = v43;
      *(void *)(v36 + 32) = v44;
      *(_OWORD *)uint64_t v36 = v37;
      *(_OWORD *)(v36 + 16) = v38;
      sub_246BAAFEC(v41, (_OWORD *)(v35[7] + 32 * v28));
      uint64_t v39 = v35[2];
      BOOL v23 = __OFADD__(v39, 1);
      uint64_t v40 = v39 + 1;
      if (v23) {
        goto LABEL_24;
      }
      v35[2] = v40;
      v26 += 72;
      if (!--v25) {
        goto LABEL_22;
      }
    }
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  sub_246C1A168(v12, a2 & 1);
  unint64_t v14 = sub_246C16178((uint64_t)&v42);
  if ((v13 & 1) == (v15 & 1))
  {
    unint64_t v9 = v14;
    if ((v13 & 1) == 0) {
      goto LABEL_13;
    }
LABEL_10:
    id v16 = (void *)swift_allocError();
    swift_willThrow();
    id v49 = v16;
    id v17 = v16;
    sub_246B80250(&qword_2691D69A8);
    if ((swift_dynamicCast() & 1) == 0)
    {
      swift_bridgeObjectRelease();
      sub_246B8EB94((uint64_t)v41);
      sub_246B8E73C((uint64_t)&v42);
      swift_bridgeObjectRelease();

      return;
    }
    goto LABEL_26;
  }
LABEL_25:
  sub_246C2D5E8();
  __break(1u);
LABEL_26:
  sub_246C2D278();
  sub_246C2CCD8();
  sub_246C2D328();
  sub_246C2CCD8();
  sub_246C2D3A8();
  __break(1u);
}

unint64_t sub_246BF73B4(unint64_t result)
{
  if (result > 6) {
    return 0;
  }
  return result;
}

uint64_t sub_246BF73C4(uint64_t a1)
{
  switch(a1)
  {
    case 1:
      uint64_t result = 30562;
      break;
    case 2:
      uint64_t result = 0x656E6F746F6E6F6DLL;
      break;
    case 3:
      unsigned int v2 = 1953461604;
      goto LABEL_7;
    case 4:
      unsigned int v2 = 1953067636;
LABEL_7:
      uint64_t result = v2 | 0x656E6F00000000;
      break;
    case 5:
      uint64_t result = 0x636142726F6C6F63;
      break;
    case 6:
      uint64_t result = 0xD000000000000011;
      break;
    default:
      uint64_t result = 0x6C61727574616ELL;
      break;
  }
  return result;
}

uint64_t sub_246BF74AC(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

void **assignWithCopy for ParmesanColorRamp(void **a1, void **a2)
{
  uint64_t v3 = *a1;
  uint64_t v4 = *a2;
  *a1 = *a2;
  id v5 = v4;

  return a1;
}

void **assignWithTake for ParmesanColorRamp(void **a1, void **a2)
{
  uint64_t v3 = *a1;
  *a1 = *a2;

  return a1;
}

uint64_t getEnumTagSinglePayload for ParmesanColorRamp(uint64_t *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 >= 0x7FFFFFFF && *((unsigned char *)a1 + 8)) {
    return (*(_DWORD *)a1 + 0x7FFFFFFF);
  }
  uint64_t v3 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v3) = -1;
  }
  int v4 = v3 - 1;
  if (v4 < 0) {
    int v4 = -1;
  }
  return (v4 + 1);
}

uint64_t storeEnumTagSinglePayload for ParmesanColorRamp(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0x7FFFFFFE)
  {
    *(void *)uint64_t result = a2 - 0x7FFFFFFF;
    if (a3 >= 0x7FFFFFFF) {
      *(unsigned char *)(result + 8) = 1;
    }
  }
  else
  {
    if (a3 >= 0x7FFFFFFF) {
      *(unsigned char *)(result + 8) = 0;
    }
    if (a2) {
      *(void *)uint64_t result = a2;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanColorRamp()
{
  return &type metadata for ParmesanColorRamp;
}

uint64_t sub_246BF75E8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  id v4 = objc_msgSend(self, sel_colorRampFiltersForMonochromeColorMatrix_fromPalette_toPalette_transitionFraction_, a3, 0, *v3, 1.0);
  sub_246BF7660();
  uint64_t v5 = sub_246C2CD38();

  return v5;
}

unint64_t sub_246BF7660()
{
  unint64_t result = qword_2691D83A8;
  if (!qword_2691D83A8)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D83A8);
  }
  return result;
}

uint64_t sub_246BF76A0(void *a1)
{
  sub_246B80250(&qword_2691D83B0);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 0;
  sub_246B80250(&qword_2691D82A0);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_246C33620;
  id v4 = a1;
  objc_msgSend(v4, sel_setDuotone_, 0);
  *(void *)(v3 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v3 + 64) = &off_26FB22288;
  *(void *)(v3 + 32) = a1;
  *(void *)(inited + 40) = v3;
  *(unsigned char *)(inited + 48) = 2;
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_246C33620;
  id v6 = v4;
  objc_msgSend(v6, sel_setDuotone_, 0);
  *(void *)(v5 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v5 + 64) = &off_26FB22288;
  *(void *)(v5 + 32) = a1;
  *(void *)(inited + 56) = v5;
  *(unsigned char *)(inited + 64) = 1;
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_246C33620;
  objc_msgSend(v6, sel_setDuotone_, 0);
  *(void *)(v7 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v7 + 64) = &off_26FB22288;
  *(void *)(v7 + 32) = a1;
  *(void *)(inited + 72) = v7;
  sub_246C11358(inited);
  return 0x656E6F746F6E6F6DLL;
}

uint64_t sub_246BF7818(void *a1)
{
  sub_246B80250(&qword_2691D83B0);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 0;
  sub_246B80250(&qword_2691D82A0);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_246C33620;
  id v4 = a1;
  objc_msgSend(v4, sel_setDuotone_, 1);
  *(void *)(v3 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v3 + 64) = &off_26FB22288;
  *(void *)(v3 + 32) = a1;
  *(void *)(inited + 40) = v3;
  *(unsigned char *)(inited + 48) = 2;
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_246C33620;
  id v6 = v4;
  objc_msgSend(v6, sel_setDuotone_, 1);
  *(void *)(v5 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v5 + 64) = &off_26FB22288;
  *(void *)(v5 + 32) = a1;
  *(void *)(inited + 56) = v5;
  *(unsigned char *)(inited + 64) = 1;
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_246C33620;
  objc_msgSend(v6, sel_setDuotone_, 1);
  *(void *)(v7 + 56) = &type metadata for ParmesanColorRamp;
  *(void *)(v7 + 64) = &off_26FB22288;
  *(void *)(v7 + 32) = a1;
  *(void *)(inited + 72) = v7;
  sub_246C11358(inited);
  return 0x656E6F746F7564;
}

uint64_t sub_246BF7998(uint64_t a1)
{
  sub_246B80250(&qword_2691D7D18);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 2;
  swift_bridgeObjectRetain();
  *(void *)(inited + 40) = sub_246C11250((uint64_t)&unk_26FB1FA50);
  *(unsigned char *)(inited + 48) = 1;
  *(void *)(inited + 56) = sub_246C11250((uint64_t)&unk_26FB1FA78);
  *(unsigned char *)(inited + 64) = 0;
  *(void *)(inited + 72) = sub_246C11250((uint64_t)&unk_26FB1FAA0);
  sub_246C1134C(inited);
  return a1;
}

uint64_t sub_246BF7A50(void *a1)
{
  id v1 = objc_msgSend(a1, sel_configuration);
  id v2 = objc_msgSend(v1, sel_colorOption);

  uint64_t v3 = sub_246C2CC48();
  uint64_t v5 = v4;

  BOOL v6 = v3 == 0x2D656E6F74697274 && v5 == 0xEA00000000003130;
  if (v6
    || (sub_246C2D578() & 1) != 0
    || (v3 == 0x2D656E6F74697274 ? (BOOL v12 = v5 == 0xEA00000000003230) : (BOOL v12 = 0),
        v12
     || (sub_246C2D578() & 1) != 0
     || (v3 == 0x2D656E6F74697274 ? (BOOL v13 = v5 == 0xEA00000000003330) : (BOOL v13 = 0),
         v13
      || (sub_246C2D578() & 1) != 0
      || v3 == 0x2D656E6F74697274 && v5 == 0xEA00000000003430
      || (sub_246C2D578() & 1) != 0
      || v3 == 0x2D656E6F74697274 && v5 == 0xEA00000000003530
      || (sub_246C2D578() & 1) != 0
      || v3 == 0x2D656E6F74697274 && v5 == 0xEA00000000003630)))
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_246C2D578();
    swift_bridgeObjectRelease();
  }
  sub_246B80250(&qword_2691D82A0);
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_246C33620;
  uint64_t v8 = sub_246BF7998(0x742D34302D74756CLL);
  *(void *)(v7 + 56) = &type metadata for ParmesanLut;
  *(void *)(v7 + 64) = &off_26FB21888;
  *(void *)(v7 + 32) = v8;
  *(void *)(v7 + 40) = v9;
  *(void *)(v7 + 48) = v10;
  return 0x2D656E6F74697274;
}

uint64_t sub_246BF7DA8(void *a1)
{
  sub_246B80250(&qword_2691D83B0);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 0;
  sub_246B80250(&qword_2691D82A0);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_246C34330;
  unint64_t v4 = sub_246BD15FC();
  *(void *)(v3 + 32) = 0x622D35302D74756CLL;
  *(void *)(v3 + 40) = 0xE90000000000006DLL;
  *(void *)(v3 + 48) = v4;
  *(void *)(v3 + 56) = &type metadata for ParmesanLut;
  *(void *)(v3 + 96) = &type metadata for ParmesanColorMultiply;
  *(void *)(v3 + 104) = &off_26FB22580;
  *(void *)(v3 + 64) = &off_26FB21888;
  *(void *)(v3 + 72) = 0xD000000000000011;
  *(void *)(v3 + 80) = 0x8000000246C405F0;
  *(void *)(v3 + 88) = a1;
  *(void *)(inited + 40) = v3;
  *(unsigned char *)(inited + 48) = 2;
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_246C33620;
  id v6 = a1;
  unint64_t v7 = sub_246BD15FC();
  *(void *)(v5 + 56) = &type metadata for ParmesanLut;
  *(void *)(v5 + 64) = &off_26FB21888;
  *(void *)(v5 + 32) = 0x622D35302D74756CLL;
  *(void *)(v5 + 40) = 0xE90000000000006DLL;
  *(void *)(v5 + 48) = v7;
  *(void *)(inited + 56) = v5;
  *(unsigned char *)(inited + 64) = 1;
  uint64_t v8 = swift_allocObject();
  *(_OWORD *)(v8 + 16) = xmmword_246C33620;
  *(void *)(v8 + 56) = &type metadata for ParmesanSolidColor;
  *(void *)(v8 + 64) = &off_26FB224E0;
  *(void *)(v8 + 32) = 0x726F6C6F632D6263;
  *(void *)(v8 + 40) = 0xE800000000000000;
  *(void *)(v8 + 48) = v6;
  *(void *)(inited + 72) = v8;
  id v9 = v6;
  sub_246C11358(inited);
  return 0x636142726F6C6F43;
}

unint64_t sub_246BF7F7C(void *a1)
{
  sub_246B80250(&qword_2691D83B0);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_246C35F20;
  *(unsigned char *)(inited + 32) = 0;
  sub_246B80250(&qword_2691D82A0);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_246C34330;
  *(void *)(v3 + 48) = sub_246BD15FC();
  *(void *)(v3 + 56) = &type metadata for ParmesanLut;
  *(void *)(v3 + 32) = 0x632D36302D74756CLL;
  *(void *)(v3 + 40) = 0xEA00000000006D62;
  *(void *)(v3 + 96) = &type metadata for ParmesanColorMultiply;
  *(void *)(v3 + 104) = &off_26FB22580;
  *(void *)(v3 + 64) = &off_26FB21888;
  *(void *)(v3 + 72) = 0x6F6C6F632D6D6263;
  *(void *)(v3 + 80) = 0xE900000000000072;
  *(void *)(v3 + 88) = a1;
  *(void *)(inited + 40) = v3;
  *(unsigned char *)(inited + 48) = 2;
  uint64_t v4 = swift_allocObject();
  *(_OWORD *)(v4 + 16) = xmmword_246C33620;
  id v5 = a1;
  unint64_t v6 = sub_246BD15FC();
  *(void *)(v4 + 56) = &type metadata for ParmesanLut;
  *(void *)(v4 + 64) = &off_26FB21888;
  *(void *)(v4 + 32) = 0x632D36302D74756CLL;
  *(void *)(v4 + 40) = 0xEA00000000006D62;
  *(void *)(v4 + 48) = v6;
  *(void *)(inited + 56) = v4;
  *(unsigned char *)(inited + 64) = 1;
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_246C33620;
  *(void *)(v7 + 56) = &type metadata for ParmesanSolidColor;
  *(void *)(v7 + 64) = &off_26FB224E0;
  *(void *)(v7 + 32) = 0x726F6C6F632D6263;
  *(void *)(v7 + 40) = 0xE800000000000000;
  *(void *)(v7 + 48) = v5;
  *(void *)(inited + 72) = v7;
  id v8 = v5;
  sub_246C11358(inited);
  return 0xD000000000000011;
}

uint64_t destroy for ParmesanStyle()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return swift_bridgeObjectRelease();
}

void *initializeWithCopy for ParmesanStyle(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  uint64_t v4 = a2[3];
  a1[2] = a2[2];
  a1[3] = v4;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  swift_bridgeObjectRetain();
  return a1;
}

void *assignWithCopy for ParmesanStyle(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  a1[2] = a2[2];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  a1[3] = a2[3];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t assignWithTake for ParmesanStyle(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  swift_bridgeObjectRelease();
  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  swift_bridgeObjectRelease();
  return a1;
}

ValueMetadata *type metadata accessor for ParmesanStyle()
{
  return &type metadata for ParmesanStyle;
}

uint64_t sub_246BF82C4(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  uint64_t v3 = *(void **)v1;
  int64_t v4 = *(void *)(*(void *)v1 + 16);
  int64_t v5 = v4 + v2;
  if (__OFADD__(v4, v2))
  {
    __break(1u);
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  char isUniquelyReferenced_nonNull_native = (void *)swift_isUniquelyReferenced_nonNull_native();
  if (isUniquelyReferenced_nonNull_native && v5 <= v3[3] >> 1)
  {
    if (*(void *)(a1 + 16)) {
      goto LABEL_5;
    }
    goto LABEL_18;
  }
  if (v4 <= v5) {
    int64_t v14 = v4 + v2;
  }
  else {
    int64_t v14 = v4;
  }
  uint64_t v3 = sub_246BA5D30(isUniquelyReferenced_nonNull_native, v14, 1, v3);
  if (!*(void *)(a1 + 16))
  {
LABEL_18:
    if (!v2) {
      goto LABEL_19;
    }
    goto LABEL_21;
  }
LABEL_5:
  uint64_t v8 = v3[2];
  if ((v3[3] >> 1) - v8 < v2)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  unint64_t v9 = (unint64_t)&v3[2 * v8 + 4];
  if (a1 + 32 < v9 + 16 * v2 && v9 < a1 + 32 + 16 * v2) {
    goto LABEL_24;
  }
  swift_arrayInitWithCopy();
  if (!v2)
  {
LABEL_19:
    uint64_t result = swift_bridgeObjectRelease();
    *(void *)uint64_t v1 = v3;
    return result;
  }
  uint64_t v11 = v3[2];
  BOOL v12 = __OFADD__(v11, v2);
  uint64_t v13 = v11 + v2;
  if (!v12)
  {
    v3[2] = v13;
    goto LABEL_19;
  }
LABEL_23:
  __break(1u);
LABEL_24:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BF8418(unint64_t a1)
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v3 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v3 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  unint64_t v4 = *v1;
  if (*v1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v5 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    uint64_t v6 = v5 + v3;
    if (!__OFADD__(v5, v3)) {
      goto LABEL_5;
    }
LABEL_25:
    __break(1u);
    goto LABEL_26;
  }
  uint64_t v5 = *(void *)((v4 & 0xFFFFFFFFFFFFFF8) + 0x10);
  uint64_t v6 = v5 + v3;
  if (__OFADD__(v5, v3)) {
    goto LABEL_25;
  }
LABEL_5:
  unint64_t v4 = *v1;
  int isUniquelyReferenced_nonNull_bridgeObject = swift_isUniquelyReferenced_nonNull_bridgeObject();
  unint64_t *v1 = v4;
  uint64_t v5 = 0;
  if (isUniquelyReferenced_nonNull_bridgeObject && (v4 & 0x8000000000000000) == 0 && (v4 & 0x4000000000000000) == 0)
  {
    uint64_t v8 = v4 & 0xFFFFFFFFFFFFFF8;
    if (v6 <= *(void *)((v4 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      goto LABEL_15;
    }
    uint64_t v5 = 1;
  }
  if (v4 >> 62) {
    goto LABEL_27;
  }
  uint64_t v9 = *(void *)((v4 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (1)
  {
    if (v9 <= v6) {
      uint64_t v9 = v6;
    }
    swift_bridgeObjectRetain();
    unint64_t v4 = MEMORY[0x24C544360](v5, v9, 1, v4);
    swift_bridgeObjectRelease();
    unint64_t *v1 = v4;
    uint64_t v8 = v4 & 0xFFFFFFFFFFFFFF8;
LABEL_15:
    uint64_t result = sub_246BF8AC8(v8 + 8 * *(void *)(v8 + 16) + 32, (*(void *)(v8 + 24) >> 1) - *(void *)(v8 + 16), a1);
    if (v11 >= v3) {
      break;
    }
LABEL_26:
    __break(1u);
LABEL_27:
    swift_bridgeObjectRetain();
    uint64_t v9 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
  }
  if (v11 >= 1)
  {
    uint64_t v12 = *(void *)((*v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    BOOL v13 = __OFADD__(v12, v11);
    uint64_t v14 = v12 + v11;
    if (v13)
    {
      __break(1u);
      return result;
    }
    *(void *)((*v1 & 0xFFFFFFFFFFFFFF8) + 0x10) = v14;
  }
  swift_bridgeObjectRelease();

  return sub_246C2CD58();
}

uint64_t sub_246BF85E4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_246BF9124(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24));
}

uint64_t sub_246BF85EC(char *a1, unsigned __int8 *a2)
{
  return sub_246BBB254(*a1, *a2);
}

uint64_t sub_246BF85F8@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BF9D64();
  *a1 = result;
  return result;
}

void sub_246BF8630(uint64_t *a1@<X8>)
{
  int v2 = *v1;
  unint64_t v3 = 0xE400000000000000;
  uint64_t v4 = 26466;
  if (v2 != 1) {
    uint64_t v4 = 26470;
  }
  BOOL v5 = v2 == 0;
  if (*v1) {
    uint64_t v6 = v4;
  }
  else {
    uint64_t v6 = 1952541798;
  }
  if (!v5) {
    unint64_t v3 = 0xE200000000000000;
  }
  *a1 = v6;
  a1[1] = v3;
}

uint64_t sub_246BF8670()
{
  uint64_t v1 = 26466;
  if (*v0 != 1) {
    uint64_t v1 = 26470;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 1952541798;
  }
}

uint64_t sub_246BF86AC()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BF8730()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BF87A0()
{
  return sub_246C2D6B8();
}

void sub_246BF8820(void *a1@<X8>)
{
  *a1 = &unk_26FB1FB80;
}

uint64_t sub_246BF8830(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return sub_246BBB330(*a1, *a2);
}

uint64_t sub_246BF883C@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_246BF9D64();
  *a1 = result;
  return result;
}

void sub_246BF8874(uint64_t *a1@<X8>)
{
  int v2 = *v1;
  unint64_t v3 = 0xE500000000000000;
  unint64_t v4 = 0xE700000000000000;
  uint64_t v5 = 0x6C61727475656ELL;
  if (v2 != 1)
  {
    uint64_t v5 = 1802658148;
    unint64_t v4 = 0xE400000000000000;
  }
  BOOL v6 = v2 == 0;
  if (*v1) {
    uint64_t v7 = v5;
  }
  else {
    uint64_t v7 = 0x746867696CLL;
  }
  if (!v6) {
    unint64_t v3 = v4;
  }
  *a1 = v7;
  a1[1] = v3;
}

uint64_t sub_246BF88C8()
{
  uint64_t v1 = 0x6C61727475656ELL;
  if (*v0 != 1) {
    uint64_t v1 = 1802658148;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 0x746867696CLL;
  }
}

uint64_t sub_246BF8918()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BF89B0()
{
  sub_246C2CCC8();

  return swift_bridgeObjectRelease();
}

uint64_t sub_246BF8A34()
{
  return sub_246C2D6B8();
}

uint64_t sub_246BF8AC8(unint64_t a1, uint64_t a2, unint64_t a3)
{
  unint64_t v6 = a3 >> 62;
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (!v7) {
      return a3;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (!v7) {
      return a3;
    }
  }
  if (!a1) {
    goto LABEL_19;
  }
  uint64_t v8 = a3 & 0xFFFFFFFFFFFFFF8;
  if (v6)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (v10 <= a2)
    {
      if (v7 >= 1)
      {
        sub_246BB292C(&qword_2691D83C0, &qword_2691D83B8);
        swift_bridgeObjectRetain();
        for (unint64_t i = 0; i != v7; ++i)
        {
          sub_246B80250(&qword_2691D83B8);
          uint64_t v12 = sub_246BF8F08(v16, i, a3);
          id v14 = *v13;
          ((void (*)(void (**)(id *), void))v12)(v16, 0);
          *(void *)(a1 + 8 * i) = v14;
        }
        swift_bridgeObjectRelease();
        return a3;
      }
      goto LABEL_18;
    }
LABEL_17:
    __break(1u);
LABEL_18:
    __break(1u);
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v9 = *(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (v9 > a2)
  {
    __break(1u);
    goto LABEL_17;
  }
  if (v8 + 32 >= a1 + 8 * v9 || v8 + 32 + 8 * v9 <= a1)
  {
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D83A8);
    swift_arrayInitWithCopy();
    return a3;
  }
LABEL_20:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246BF8CE8(unint64_t a1, uint64_t a2, unint64_t a3)
{
  unint64_t v6 = a3 >> 62;
  if (a3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (!v7) {
      return a3;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (!v7) {
      return a3;
    }
  }
  if (!a1) {
    goto LABEL_19;
  }
  uint64_t v8 = a3 & 0xFFFFFFFFFFFFFF8;
  if (v6)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = sub_246C2D3B8();
    swift_bridgeObjectRelease();
    if (v10 <= a2)
    {
      if (v7 >= 1)
      {
        sub_246BB292C(&qword_2691D83D0, &qword_2691D83C8);
        swift_bridgeObjectRetain();
        for (unint64_t i = 0; i != v7; ++i)
        {
          sub_246B80250(&qword_2691D83C8);
          uint64_t v12 = sub_246BF8F74(v16, i, a3);
          id v14 = *v13;
          ((void (*)(void (**)(id *), void))v12)(v16, 0);
          *(void *)(a1 + 8 * i) = v14;
        }
        swift_bridgeObjectRelease();
        return a3;
      }
      goto LABEL_18;
    }
LABEL_17:
    __break(1u);
LABEL_18:
    __break(1u);
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v9 = *(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (v9 > a2)
  {
    __break(1u);
    goto LABEL_17;
  }
  if (v8 + 32 >= a1 + 8 * v9 || v8 + 32 + 8 * v9 <= a1)
  {
    sub_246B8F1E0(0, (unint64_t *)&qword_2691D7120);
    swift_arrayInitWithCopy();
    return a3;
  }
LABEL_20:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t (*sub_246BF8F08(void (**a1)(id *a1), unint64_t a2, uint64_t a3))()
{
  unint64_t v6 = (void (*)(id *))malloc(0x28uLL);
  *a1 = v6;
  *((void *)v6 + 4) = sub_246BF9024(v6, a2, a3);
  return sub_246BF8F70;
}

uint64_t (*sub_246BF8F74(void (**a1)(id *), unint64_t a2, uint64_t a3))()
{
  unint64_t v6 = (void (*)(id *))malloc(0x28uLL);
  *a1 = v6;
  *((void *)v6 + 4) = sub_246BF90A4(v6, a2, a3);
  return sub_246BF8F70;
}

void sub_246BF8FDC(void *a1)
{
  uint64_t v1 = (void *)*a1;
  (*(void (**)(void))(*a1 + 32))(*a1);

  free(v1);
}

void (*sub_246BF9024(void (*result)(id *a1), unint64_t a2, uint64_t a3))(id *a1)
{
  unint64_t v3 = result;
  if ((a3 & 0xC000000000000001) != 0)
  {
    id v4 = (id)MEMORY[0x24C544350](a2, a3);
    goto LABEL_5;
  }
  if ((a2 & 0x8000000000000000) != 0)
  {
    __break(1u);
  }
  else if (*(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10) > a2)
  {
    id v4 = *(id *)(a3 + 8 * a2 + 32);
LABEL_5:
    *(void *)unint64_t v3 = v4;
    return destroy for ParmesanTimeEffectStyle;
  }
  __break(1u);
  return result;
}

void (*sub_246BF90A4(void (*result)(id *), unint64_t a2, uint64_t a3))(id *)
{
  unint64_t v3 = result;
  if ((a3 & 0xC000000000000001) != 0)
  {
    id v4 = (id)MEMORY[0x24C544350](a2, a3);
    goto LABEL_5;
  }
  if ((a2 & 0x8000000000000000) != 0)
  {
    __break(1u);
  }
  else if (*(void *)((a3 & 0xFFFFFFFFFFFFFF8) + 0x10) > a2)
  {
    id v4 = *(id *)(a3 + 8 * a2 + 32);
LABEL_5:
    *(void *)unint64_t v3 = v4;
    return j__s30NTKParmesanFaceBundleCompanion23ParmesanTimeEffectStyleOwxx;
  }
  __break(1u);
  return result;
}

uint64_t sub_246BF9124(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v21 = MEMORY[0x263F8EE78];
  if (a5)
  {
    if (*(void *)(a5 + 16))
    {
      unint64_t v10 = sub_246C1637C(a1);
      if (v11) {
        a4 = *(void *)(*(void *)(a5 + 56) + 8 * v10);
      }
    }
  }
  uint64_t v12 = *(void *)(a4 + 16);
  if (!v12) {
    return MEMORY[0x263F8EE78];
  }
  uint64_t v13 = a4 + 32;
  swift_bridgeObjectRetain();
  do
  {
    sub_246BBE940(v13, (uint64_t)v18);
    uint64_t v14 = v19;
    uint64_t v15 = v20;
    sub_246B8F7E8(v18, v19);
    unint64_t v16 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v15 + 8) + 8))(a1, a2, a3, v14);
    sub_246BF8418(v16);
    sub_246B8EB94((uint64_t)v18);
    v13 += 40;
    --v12;
  }
  while (v12);
  swift_bridgeObjectRelease();
  return v21;
}

uint64_t sub_246BF9238(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v116 = MEMORY[0x263F8EE78];
  unint64_t v6 = self;
  id v7 = objc_msgSend(v6, sel_currentDevice);
  if (!v7)
  {
    __break(1u);
    goto LABEL_48;
  }
  uint64_t v8 = v7;
  objc_msgSend(v7, sel_screenBounds);

  unint64_t v9 = *(void *)(a2 + OBJC_IVAR___NTKParmesanTimeLayout_alignment);
  unint64_t v10 = *(void *)(a2 + OBJC_IVAR___NTKParmesanTimeLayout_scale);
  double v11 = sub_246BB2CD4(v9, v10);
  double v13 = v12;
  double v15 = v14;
  double v17 = v16;
  id v18 = objc_msgSend(v6, sel_currentDevice);
  if (!v18)
  {
LABEL_48:
    __break(1u);
    goto LABEL_49;
  }
  uint64_t v19 = v18;
  objc_msgSend(v18, sel_screenBounds);
  double v21 = v20;
  double v23 = v22;

  double v24 = v11 / v21;
  double v25 = v13 / v23;
  double v26 = v15 / v21;
  double v27 = v17 / v23;
  double v28 = 0.0;
  double v29 = nullsub_2(0.0);
  double v30 = v29;
  uint64_t v99 = a3;
  if (v9 == 1)
  {
    BOOL v31 = a1;
    double v32 = v25 + v27;
    if (v10 == 3) {
      double v32 = v29;
    }
    double v103 = v32;
    if (v10 == 3) {
      double v33 = v24 + v26 * 0.5;
    }
    else {
      double v33 = 0.0;
    }
    if (v10 == 3) {
      double v34 = v29;
    }
    else {
      double v34 = v25 + -0.15;
    }
    if (v10 == 3) {
      double v28 = v24 + -0.15;
    }
    goto LABEL_27;
  }
  if (v9)
  {
LABEL_49:
    sub_246B80250(&qword_2691D72D0);
    uint64_t result = sub_246C2D568();
    __break(1u);
    return result;
  }
  BOOL v31 = a1;
  double v35 = v24 + v26 + 0.15;
  if (v10 == 3) {
    double v36 = v29;
  }
  else {
    double v36 = v25;
  }
  double v103 = v36;
  if (v10 == 3) {
    double v33 = v24 + v26 * 0.5;
  }
  else {
    double v33 = 0.0;
  }
  if (v10 == 3) {
    double v34 = v29;
  }
  else {
    double v34 = v25 + v27 + 0.15;
  }
  if (v10 == 3) {
    double v28 = v35;
  }
  else {
    double v28 = 0.0;
  }
LABEL_27:
  double v37 = sub_246BF4690();
  double v39 = v38;
  double v41 = v40;
  double v43 = v42;
  id v44 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F157D0]), sel_init);
  double v98 = v34;
  objc_msgSend(v44, sel_setStartPoint_, v28, v34);
  objc_msgSend(v44, sel_setEndPoint_, v33, v103);
  sub_246B80250(&qword_2691D7D20);
  uint64_t v45 = swift_allocObject();
  *(_OWORD *)(v45 + 16) = xmmword_246C34330;
  long long v46 = self;
  id v47 = objc_msgSend(v46, sel_clearColor);
  id v48 = objc_msgSend(v47, sel_CGColor);

  type metadata accessor for CGColor(0);
  uint64_t v50 = v49;
  *(void *)(v45 + 56) = v49;
  *(void *)(v45 + 32) = v48;
  id v97 = v46;
  id v51 = objc_msgSend(v46, sel_blackColor);
  id v52 = objc_msgSend(v51, sel_CGColor);

  *(void *)(v45 + 88) = v50;
  *(void *)(v45 + 64) = v52;
  uint64_t v53 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v44, sel_setColors_, v53);

  objc_msgSend(v44, sel_setFrame_, v37, v39, v41, v43);
  sub_246C2CC48();
  id v54 = objc_allocWithZone(MEMORY[0x263F157C8]);
  uint64_t v55 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v56 = objc_msgSend(v54, sel_initWithType_, v55);

  if (objc_msgSend(v31, sel_isBright))
  {
    uint64_t v100 = 0x3F89FBE7BE5C28F6;
    uint64_t v102 = 0x3F628F5CBD83126FLL;
    int v57 = 1045220557;
    float v58 = -0.022;
    int v59 = 1065655206;
  }
  else
  {
    unsigned int v60 = objc_msgSend(v31, sel_isComplexBackground);
    if (v60) {
      float v58 = -0.012;
    }
    else {
      float v58 = -0.004;
    }
    v61.i32[0] = -1137428136;
    if (v60) {
      *(float *)v61.i32 = -0.033;
    }
    v62.i32[0] = 1063910375;
    int32x2_t v63 = vdup_lane_s32(v62, 0);
    v63.i32[0] = v61.i32[0];
    uint64_t v102 = (uint64_t)v63;
    v61.i32[0] = 1064447246;
    int32x2_t v64 = vdup_lane_s32(v61, 0);
    if (v60) {
      float v65 = -0.108;
    }
    else {
      float v65 = -0.036;
    }
    *(float *)v64.i32 = v65;
    uint64_t v100 = (uint64_t)v64;
    int v57 = 0;
    int v59 = 1064329806;
  }
  v105[0] = v59;
  v105[1] = v100;
  *(float *)&v105[2] = v58;
  v105[3] = 0;
  v105[4] = v57;
  uint64_t v106 = v102;
  float v107 = v58;
  int v108 = 0;
  int v109 = v57;
  int v110 = v102;
  uint64_t v111 = v100;
  int v112 = 0;
  int v113 = v57;
  long long v114 = xmmword_246C377E0;
  int v115 = 0;
  id v66 = objc_msgSend(self, sel_valueWithCAColorMatrix_, v105);
  objc_msgSend(v56, sel_setValue_forKey_, v66, *MEMORY[0x263F15C30]);

  uint64_t v67 = swift_allocObject();
  *(_OWORD *)(v67 + 16) = xmmword_246C33620;
  uint64_t v68 = sub_246B8F1E0(0, (unint64_t *)&qword_2691D83A8);
  *(void *)(v67 + 56) = v68;
  *(void *)(v67 + 32) = v56;
  id v69 = v44;
  id v70 = v56;
  id v71 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v69, sel_setFilters_, v71);

  id v72 = v69;
  MEMORY[0x24C543DC0]();
  if (*(void *)((v116 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v116 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  if (v10 != 3 && !v9 && (v99 | 2) == 3)
  {
    double v101 = v30;
    double v73 = sub_246BF4690();
    double v75 = v74;
    double v77 = v76;
    double v79 = v78;
    double v80 = sub_246BF4690();
    double v82 = v81;
    double v104 = v83;
    double v85 = v84;
    objc_msgSend(v72, sel_setStartPoint_, 0.0, nullsub_2(v98 * 1.33333333));
    objc_msgSend(v72, sel_setEndPoint_, 0.0, nullsub_2(v103 * 1.33333333));
    objc_msgSend(v72, sel_setFrame_, v73, v75, v77, v79);
    id v86 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F157D0]), sel_init);
    objc_msgSend(v86, sel_setStartPoint_, 0.0, v101);
    objc_msgSend(v86, sel_setEndPoint_, 0.0, nullsub_2(0.75));
    uint64_t v87 = swift_allocObject();
    *(_OWORD *)(v87 + 16) = xmmword_246C34330;
    id v88 = objc_msgSend(v97, sel_clearColor);
    id v89 = objc_msgSend(v88, sel_CGColor);

    *(void *)(v87 + 56) = v50;
    *(void *)(v87 + 32) = v89;
    id v90 = objc_msgSend(v97, sel_blackColor);
    id v91 = objc_msgSend(v90, sel_CGColor);

    *(void *)(v87 + 88) = v50;
    *(void *)(v87 + 64) = v91;
    uint64_t v92 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    objc_msgSend(v86, sel_setColors_, v92);

    objc_msgSend(v86, sel_setFrame_, v80, v82, v104, v85);
    uint64_t v93 = swift_allocObject();
    *(_OWORD *)(v93 + 16) = xmmword_246C33620;
    *(void *)(v93 + 56) = v68;
    *(void *)(v93 + 32) = v70;
    id v94 = v70;
    id v70 = v86;
    double v95 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
    objc_msgSend(v70, sel_setFilters_, v95);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v116 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v116 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
  return v116;
}

ValueMetadata *type metadata accessor for ParmesanStyle.Appearance()
{
  return &type metadata for ParmesanStyle.Appearance;
}

unsigned char *_s30NTKParmesanFaceBundleCompanion13ParmesanStyleV5PlaneOwst_0(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246BF9C54);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanStyle.Plane()
{
  return &type metadata for ParmesanStyle.Plane;
}

uint64_t sub_246BF9C8C()
{
  return sub_246BB292C(&qword_2691D83D8, &qword_2691D83E0);
}

unint64_t sub_246BF9CB8()
{
  unint64_t result = qword_2691D83E8;
  if (!qword_2691D83E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D83E8);
  }
  return result;
}

unint64_t sub_246BF9D10()
{
  unint64_t result = qword_2691D83F0;
  if (!qword_2691D83F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D83F0);
  }
  return result;
}

uint64_t sub_246BF9D64()
{
  unint64_t v0 = sub_246C2D428();
  swift_bridgeObjectRelease();
  if (v0 >= 3) {
    return 3;
  }
  else {
    return v0;
  }
}

void destroy for ParmesanSolidColor(uint64_t a1)
{
  swift_bridgeObjectRelease();
  int v2 = *(void **)(a1 + 16);
}

void *_s30NTKParmesanFaceBundleCompanion18ParmesanSolidColorVwCP_0(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  unsigned int v4 = (void *)a2[2];
  a1[2] = v4;
  swift_bridgeObjectRetain();
  id v5 = v4;
  return a1;
}

void *assignWithCopy for ParmesanSolidColor(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  unsigned int v4 = (void *)a2[2];
  id v5 = (void *)a1[2];
  a1[2] = v4;
  id v6 = v4;

  return a1;
}

uint64_t assignWithTake for ParmesanSolidColor(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  unsigned int v4 = *(void **)(a1 + 16);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);

  return a1;
}

ValueMetadata *type metadata accessor for ParmesanSolidColor()
{
  return &type metadata for ParmesanSolidColor;
}

uint64_t sub_246BF9EE8()
{
  return sub_246BF9EF4(*(void *)v0, *(void *)(v0 + 8), *(void **)(v0 + 16));
}

uint64_t sub_246BF9EF4(uint64_t a1, uint64_t a2, void *a3)
{
  sub_246BAE4FC(a3, (uint64_t)&v18);
  sub_246C2CC48();
  id v3 = objc_allocWithZone(MEMORY[0x263F157C8]);
  unsigned int v4 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(v3, sel_initWithType_, v4);

  id v6 = self;
  long long v11 = v18;
  uint64_t v12 = v19;
  long long v13 = v20;
  uint64_t v14 = v21;
  long long v15 = v22;
  uint64_t v16 = v23;
  uint64_t v17 = v24;
  id v7 = objc_msgSend(v6, sel_valueWithCAColorMatrix_, &v11);
  objc_msgSend(v5, sel_setValue_forKey_, v7, *MEMORY[0x263F15C30]);

  uint64_t v8 = (void *)sub_246C2CC08();
  objc_msgSend(v5, sel_setName_, v8);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_246C33610;
  *(void *)(v9 + 32) = v5;
  *(void *)&long long v11 = v9;
  sub_246C2CD58();
  return v11;
}

void sub_246BFA070(id a1, char a2, char a3, double a4, double a5, double a6, double a7)
{
  uint64_t v8 = v7;
  uint64_t v34 = MEMORY[0x263F8EE78];
  if (a2)
  {
    if (a3)
    {
      id v16 = objc_msgSend(a1, sel_layoutMarginsGuide);
      id v17 = objc_msgSend(v16, sel_topAnchor);
    }
    else
    {
      id v17 = objc_msgSend(a1, sel_topAnchor);
    }
    id v18 = objc_msgSend(v8, sel_topAnchor);
    id v19 = objc_msgSend(v18, sel_constraintEqualToAnchor_constant_, v17, a4);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();

    if ((a2 & 4) == 0)
    {
LABEL_3:
      if ((a2 & 2) == 0) {
        goto LABEL_4;
      }
      goto LABEL_18;
    }
  }
  else if ((a2 & 4) == 0)
  {
    goto LABEL_3;
  }
  if (a3)
  {
    id v20 = objc_msgSend(a1, sel_layoutMarginsGuide);
    id v21 = objc_msgSend(v20, sel_bottomAnchor);
  }
  else
  {
    id v21 = objc_msgSend(a1, sel_bottomAnchor);
  }
  id v22 = objc_msgSend(v8, sel_bottomAnchor);
  id v23 = objc_msgSend(v22, sel_constraintEqualToAnchor_constant_, v21, -a6);

  MEMORY[0x24C543DC0]();
  if (*(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();

  if ((a2 & 2) == 0)
  {
LABEL_4:
    if ((a2 & 8) == 0) {
      goto LABEL_30;
    }
    goto LABEL_24;
  }
LABEL_18:
  if (a3)
  {
    id v24 = objc_msgSend(a1, sel_layoutMarginsGuide);
    id v25 = objc_msgSend(v24, sel_leadingAnchor);
  }
  else
  {
    id v25 = objc_msgSend(a1, sel_leadingAnchor);
  }
  id v26 = objc_msgSend(v8, sel_leadingAnchor);
  id v27 = objc_msgSend(v26, sel_constraintEqualToAnchor_constant_, v25, a5);

  MEMORY[0x24C543DC0]();
  if (*(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();

  if ((a2 & 8) != 0)
  {
LABEL_24:
    if (a3)
    {
      id v28 = objc_msgSend(a1, sel_layoutMarginsGuide);
      id v29 = objc_msgSend(v28, sel_trailingAnchor);
    }
    else
    {
      id v29 = objc_msgSend(a1, sel_trailingAnchor);
    }
    id v30 = objc_msgSend(v8, sel_trailingAnchor);
    id v31 = objc_msgSend(v30, sel_constraintEqualToAnchor_constant_, v29, -a7);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v34 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
LABEL_30:
  objc_msgSend(v8, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  double v32 = self;
  sub_246BFADF4();
  id v33 = (id)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v32, sel_activateConstraints_, v33);
}

void sub_246BFA514(void *a1, double a2, double a3, double a4, double a5, uint64_t a6, void *a7, char a8, char a9)
{
  id v16 = a7;
  id v17 = a1;
  sub_246BFA070(v16, a8, a9, a2, a3, a4, a5);
}

void sub_246BFA5BC(void *a1, double a2, double a3, double a4, double a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  id v17 = a1;
  id v14 = objc_msgSend(v17, sel_superview);
  if (v14)
  {
    id v15 = v14;
    objc_msgSend(v17, sel_constrainToView_edges_insets_useLayoutMargins_, v14, a7, a8, a2, a3, a4, a5);

    id v16 = v15;
  }
  else
  {
    id v16 = v17;
  }
}

void sub_246BFA684(void *a1, char a2)
{
  id v3 = v2;
  uint64_t v14 = MEMORY[0x263F8EE78];
  if (a2)
  {
    id v6 = objc_msgSend(v2, sel_centerXAnchor);
    id v7 = objc_msgSend(a1, sel_centerXAnchor);
    id v8 = objc_msgSend(v6, sel_constraintEqualToAnchor_, v7);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
  if ((a2 & 2) != 0)
  {
    id v9 = objc_msgSend(v3, sel_centerYAnchor);
    id v10 = objc_msgSend(a1, sel_centerYAnchor);
    id v11 = objc_msgSend(v9, sel_constraintEqualToAnchor_, v10);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
  objc_msgSend(v3, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  uint64_t v12 = self;
  sub_246BFADF4();
  id v13 = (id)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v12, sel_activateConstraints_, v13);
}

void sub_246BFA8A4(void *a1, uint64_t a2, void *a3, char a4)
{
  id v6 = a3;
  id v7 = a1;
  sub_246BFA684(v6, a4);
}

void sub_246BFA914(void *a1, uint64_t a2, uint64_t a3)
{
  id v7 = a1;
  id v4 = objc_msgSend(v7, sel_superview);
  if (v4)
  {
    id v5 = v4;
    objc_msgSend(v7, sel_constrainToCenterOf_axis_, v4, a3);

    id v6 = v5;
  }
  else
  {
    id v6 = v7;
  }
}

void sub_246BFA99C(void *a1, char a2, double a3, double a4, double a5, double a6)
{
  id v7 = v6;
  uint64_t v28 = MEMORY[0x263F8EE78];
  if (a2)
  {
    id v14 = objc_msgSend(v6, sel_topAnchor);
    id v15 = objc_msgSend(a1, sel_topAnchor);
    id v16 = objc_msgSend(v14, sel_constraintEqualToAnchor_constant_, v15, a3);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
    if ((a2 & 4) == 0)
    {
LABEL_3:
      if ((a2 & 2) == 0) {
        goto LABEL_4;
      }
      goto LABEL_12;
    }
  }
  else if ((a2 & 4) == 0)
  {
    goto LABEL_3;
  }
  id v17 = objc_msgSend(v7, sel_bottomAnchor);
  id v18 = objc_msgSend(a1, sel_bottomAnchor);
  id v19 = objc_msgSend(v17, sel_constraintEqualToAnchor_constant_, v18, -a5);

  MEMORY[0x24C543DC0]();
  if (*(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  if ((a2 & 2) == 0)
  {
LABEL_4:
    if ((a2 & 8) == 0) {
      goto LABEL_18;
    }
    goto LABEL_15;
  }
LABEL_12:
  id v20 = objc_msgSend(v7, sel_leadingAnchor);
  id v21 = objc_msgSend(a1, sel_leadingAnchor);
  id v22 = objc_msgSend(v20, sel_constraintEqualToAnchor_constant_, v21, a4);

  MEMORY[0x24C543DC0]();
  if (*(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_246C2CD68();
  }
  sub_246C2CD88();
  sub_246C2CD58();
  if ((a2 & 8) != 0)
  {
LABEL_15:
    id v23 = objc_msgSend(v7, sel_trailingAnchor);
    id v24 = objc_msgSend(a1, sel_trailingAnchor);
    id v25 = objc_msgSend(v23, sel_constraintEqualToAnchor_constant_, v24, -a6);

    MEMORY[0x24C543DC0]();
    if (*(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_246C2CD68();
    }
    sub_246C2CD88();
    sub_246C2CD58();
  }
LABEL_18:
  objc_msgSend(v7, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  id v26 = self;
  sub_246BFADF4();
  id v27 = (id)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v26, sel_activateConstraints_, v27);
}

void sub_246BFAD54(void *a1, double a2, double a3, double a4, double a5, uint64_t a6, void *a7, char a8)
{
  id v14 = a7;
  id v15 = a1;
  sub_246BFA99C(v14, a8, a2, a3, a4, a5);
}

unint64_t sub_246BFADF4()
{
  unint64_t result = qword_2691D8B30;
  if (!qword_2691D8B30)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_2691D8B30);
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanColorMultiply()
{
  return &type metadata for ParmesanColorMultiply;
}

uint64_t sub_246BFAE44()
{
  return sub_246BFAE50(*(void *)v0, *(void *)(v0 + 8), *(void **)(v0 + 16));
}

uint64_t sub_246BFAE50(uint64_t a1, uint64_t a2, void *a3)
{
  sub_246C2CC48();
  id v4 = objc_allocWithZone(MEMORY[0x263F157C8]);
  id v5 = (void *)sub_246C2CC08();
  swift_bridgeObjectRelease();
  id v6 = objc_msgSend(v4, sel_initWithType_, v5);

  id v7 = objc_msgSend(a3, sel_CGColor);
  objc_msgSend(v6, sel_setValue_forKey_, v7, *MEMORY[0x263F15C20]);

  id v8 = (void *)sub_246C2CC08();
  objc_msgSend(v6, sel_setName_, v8);

  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_246C33610;
  *(void *)(v9 + 32) = v6;
  uint64_t v11 = v9;
  sub_246C2CD58();
  return v11;
}

uint64_t type metadata accessor for ParmesanGalleryTransitionFade()
{
  return self;
}

uint64_t sub_246BFAFB8()
{
  return 1701077350;
}

void sub_246BFAFC8(void *a1@<X8>)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 2;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
}

void sub_246BFAFDC(double a1)
{
}

uint64_t sub_246BFB038(void (*a1)(uint64_t, uint64_t *), uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  id v20 = a1;
  uint64_t v21 = a2;
  uint64_t v19 = sub_246C2BE38();
  uint64_t v6 = *(void *)(v19 - 8);
  MEMORY[0x270FA5388](v19);
  id v8 = (char *)&v17 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v9 = *(void *)(a3 + 16);
  uint64_t v10 = MEMORY[0x263F8EE78];
  if (v9)
  {
    uint64_t v23 = MEMORY[0x263F8EE78];
    sub_246C00AE4(0, v9, 0);
    uint64_t v10 = v23;
    unint64_t v18 = (*(unsigned __int8 *)(v6 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80);
    uint64_t v11 = a3 + v18;
    uint64_t v17 = *(void *)(v6 + 72);
    uint64_t v12 = (void (**)(unint64_t, char *, uint64_t))(v6 + 32);
    while (1)
    {
      v20(v11, &v22);
      if (v4) {
        break;
      }
      uint64_t v4 = 0;
      uint64_t v23 = v10;
      unint64_t v14 = *(void *)(v10 + 16);
      unint64_t v13 = *(void *)(v10 + 24);
      if (v14 >= v13 >> 1)
      {
        sub_246C00AE4(v13 > 1, v14 + 1, 1);
        uint64_t v10 = v23;
      }
      *(void *)(v10 + 16) = v14 + 1;
      uint64_t v15 = v17;
      (*v12)(v10 + v18 + v14 * v17, v8, v19);
      v11 += v15;
      if (!--v9) {
        return v10;
      }
    }
    swift_release();
  }
  return v10;
}

uint64_t sub_246BFB1F0(uint64_t a1, uint64_t a2, uint64_t (*a3)(void), void (*a4)(void))
{
  id v20 = a4;
  uint64_t v19 = sub_246C2BC68();
  uint64_t v7 = *(void *)(v19 - 8);
  MEMORY[0x270FA5388](v19);
  int64_t v9 = (char *)&v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v10 = *(void *)(a1 + 16);
  uint64_t v11 = MEMORY[0x263F8EE78];
  if (v10)
  {
    uint64_t v17 = v4;
    uint64_t v21 = MEMORY[0x263F8EE78];
    sub_246C00B20(0, v10, 0);
    uint64_t v11 = v21;
    uint64_t v12 = *(void *)(a3(0) - 8);
    uint64_t v13 = a1 + ((*(unsigned __int8 *)(v12 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v12 + 80));
    uint64_t v18 = *(void *)(v12 + 72);
    do
    {
      v20();
      uint64_t v21 = v11;
      unint64_t v15 = *(void *)(v11 + 16);
      unint64_t v14 = *(void *)(v11 + 24);
      if (v15 >= v14 >> 1)
      {
        sub_246C00B20(v14 > 1, v15 + 1, 1);
        uint64_t v11 = v21;
      }
      *(void *)(v11 + 16) = v15 + 1;
      (*(void (**)(unint64_t, char *, uint64_t))(v7 + 32))(v11+ ((*(unsigned __int8 *)(v7 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v7 + 80))+ *(void *)(v7 + 72) * v15, v9, v19);
      v13 += v18;
      --v10;
    }
    while (v10);
  }
  return v11;
}

uint64_t sub_246BFB3EC(void *(*a1)(uint64_t *__return_ptr, uint64_t), uint64_t a2, uint64_t a3)
{
  uint64_t result = MEMORY[0x263F8EE78];
  uint64_t v13 = MEMORY[0x263F8EE78];
  uint64_t v6 = *(void *)(a3 + 16);
  if (v6)
  {
    uint64_t v8 = *(void *)(sub_246C2BE38() - 8);
    uint64_t v9 = a3 + ((*(unsigned __int8 *)(v8 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80));
    uint64_t v10 = *(void *)(v8 + 72);
    swift_bridgeObjectRetain();
    do
    {
      uint64_t v11 = a1(&v12, v9);
      if (v3)
      {
        swift_bridgeObjectRelease();
        return swift_bridgeObjectRelease();
      }
      if (v12)
      {
        MEMORY[0x24C543DC0](v11);
        if (*(void *)((v13 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v13 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();
      }
      v9 += v10;
      --v6;
    }
    while (v6);
    swift_bridgeObjectRelease();
    return v13;
  }
  return result;
}

unint64_t sub_246BFB564(char a1)
{
  unint64_t result = 0xD00000000000002CLL;
  switch(a1)
  {
    case 1:
      unint64_t result = 0xD00000000000001ALL;
      break;
    case 2:
      unint64_t result = 0xD00000000000001CLL;
      break;
    case 3:
      unint64_t result = 0xD00000000000002ELL;
      break;
    case 4:
      unint64_t result = 0xD000000000000025;
      break;
    case 5:
      unint64_t result = 0xD000000000000021;
      break;
    default:
      return result;
  }
  return result;
}

unint64_t sub_246BFB624@<X0>(unint64_t *a1@<X0>, unsigned char *a2@<X8>)
{
  unint64_t result = sub_246C064D4(*a1);
  *a2 = result;
  return result;
}

void sub_246BFB650(void *a1@<X8>)
{
  *a1 = *v1;
}

unint64_t sub_246BFB65C()
{
  return sub_246BFB564(*v0);
}

uint64_t sub_246BFB670(uint64_t a1, uint64_t a2)
{
  unint64_t v4 = sub_246C06F40();
  unint64_t v5 = sub_246C06F94();

  return MEMORY[0x270F9FB50](a1, a2, v4, v5);
}

uint64_t sub_246BFB6C8()
{
  sub_246C2BDB8();
  swift_allocObject();
  uint64_t result = sub_246C2BDA8();
  qword_2691E01F0 = result;
  return result;
}

uint64_t sub_246BFB708@<X0>(uint64_t a1@<X0>, void *a2@<X2>, uint64_t a3@<X8>)
{
  uint64_t v7 = sub_246C2BE38();
  uint64_t v8 = *(void *)(v7 - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v8 + 16))(a3, a1, v7);
  uint64_t result = sub_246C2BDC8();
  if (v3)
  {
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t))(v8 + 8))(a3, v7);
    *a2 = v3;
  }
  return result;
}

uint64_t sub_246BFB7F4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  uint64_t v6 = sub_246C2BB98();
  uint64_t v7 = *(void *)(v6 - 8);
  MEMORY[0x270FA5388](v6);
  uint64_t v9 = (char *)&v15 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_246C2BE38();
  MEMORY[0x270FA5388](v10);
  uint64_t v12 = (char *)&v15 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t))(v13 + 16))(v12, a1);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, a2, v6);
  uint64_t result = sub_246C02224(v12, (uint64_t)v9);
  *a3 = result;
  return result;
}

uint64_t sub_246BFBAF4(int a1, int a2, void *aBlock)
{
  v3[2] = _Block_copy(aBlock);
  uint64_t v4 = sub_246C2CD38();
  v3[3] = v4;
  uint64_t v5 = sub_246C2CC48();
  uint64_t v7 = v6;
  void v3[4] = v6;
  uint64_t v10 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)&dword_2691D83F8 + dword_2691D83F8);
  uint64_t v8 = (void *)swift_task_alloc();
  v3[5] = v8;
  void *v8 = v3;
  v8[1] = sub_246BFBBE8;
  return v10(v4, v5, v7);
}

uint64_t sub_246BFBBE8(uint64_t a1)
{
  uint64_t v3 = *v1;
  uint64_t v4 = *v1;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (a1)
  {
    type metadata accessor for ParmesanAsset();
    uint64_t v5 = (void *)sub_246C2CD28();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v5 = 0;
  }
  uint64_t v6 = *(void (***)(void, void))(v3 + 16);
  ((void (**)(void, void *))v6)[2](v6, v5);

  _Block_release(v6);
  uint64_t v7 = *(uint64_t (**)(void))(v4 + 8);
  return v7();
}

uint64_t sub_246BFBEE8(int a1, void *aBlock)
{
  v2[2] = _Block_copy(aBlock);
  uint64_t v3 = sub_246C2CC48();
  uint64_t v5 = v4;
  v2[3] = v4;
  uint64_t v8 = (uint64_t (*)(uint64_t, uint64_t))((char *)&dword_2691D8518 + dword_2691D8518);
  uint64_t v6 = (void *)swift_task_alloc();
  v2[4] = v6;
  *uint64_t v6 = v2;
  v6[1] = sub_246BFBFB8;
  return v8(v3, v5);
}

uint64_t sub_246BFBFB8(uint64_t a1, unint64_t a2)
{
  uint64_t v5 = *v2;
  uint64_t v6 = *v2;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (a2 >> 60 == 15)
  {
    uint64_t v7 = 0;
  }
  else
  {
    uint64_t v7 = (void *)sub_246C2BBB8();
    sub_246BDF498(a1, a2);
  }
  uint64_t v8 = *(void (***)(void, void))(v5 + 16);
  ((void (**)(void, void *))v8)[2](v8, v7);

  _Block_release(v8);
  uint64_t v9 = *(uint64_t (**)(void))(v6 + 8);
  return v9();
}

void sub_246BFC1E0(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = a1;
  if (a1)
  {
    type metadata accessor for ParmesanAsset();
    uint64_t v5 = (void *)sub_246C2CD28();
  }
  if (a2) {
    uint64_t v6 = sub_246C2BA38();
  }
  else {
    uint64_t v6 = 0;
  }
  id v7 = (id)v6;
  (*(void (**)(uint64_t, void *))(a3 + 16))(a3, v5);
}

uint64_t sub_246BFC27C(void *a1, void (*a2)(void, void *), uint64_t a3, void (*a4)(void), void (*a5)(void))
{
  return sub_246BFD824(a1, a2, a3, a4, a5, (uint64_t)&OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion10NTKAlbumID_uuidString, (uint64_t)&unk_26FB225F0, (uint64_t)&unk_2691D8468, "streamAssetsInAlbum: bad uuid! %@");
}

uint64_t sub_246BFC2CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  *(void *)(v8 + 224) = v16;
  *(_OWORD *)(v8 + 208) = v15;
  *(void *)(v8 + 192) = a6;
  *(void *)(v8 + 200) = a8;
  *(void *)(v8 + 176) = a4;
  *(void *)(v8 + 184) = a5;
  uint64_t v9 = sub_246C2BE38();
  *(void *)(v8 + 232) = v9;
  *(void *)(v8 + 240) = *(void *)(v9 - 8);
  *(void *)(v8 + 248) = swift_task_alloc();
  *(void *)(v8 + 256) = swift_task_alloc();
  sub_246B80250(&qword_2691D7F58);
  *(void *)(v8 + 264) = swift_task_alloc();
  uint64_t v10 = sub_246C2BC68();
  *(void *)(v8 + 272) = v10;
  *(void *)(v8 + 280) = *(void *)(v10 - 8);
  *(void *)(v8 + 288) = swift_task_alloc();
  uint64_t v11 = sub_246C2BF48();
  *(void *)(v8 + 296) = v11;
  *(void *)(v8 + 304) = *(void *)(v11 - 8);
  *(void *)(v8 + 312) = swift_task_alloc();
  uint64_t v12 = (void *)swift_task_alloc();
  *(void *)(v8 + 320) = v12;
  void *v12 = v8;
  v12[1] = sub_246BFC4D0;
  return MEMORY[0x270F53918]();
}

uint64_t sub_246BFC4D0(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 328) = v1;
  swift_task_dealloc();
  if (v1)
  {
    uint64_t v5 = sub_246BFD450;
  }
  else
  {
    *(void *)(v4 + 336) = a1;
    uint64_t v5 = sub_246BFC5F8;
  }
  return MEMORY[0x270FA2498](v5, 0, 0);
}

uint64_t sub_246BFC5F8()
{
  uint64_t v1 = v0 + 2;
  uint64_t v2 = v0[23];
  uint64_t v3 = sub_246BFB1F0(v0[42], (uint64_t)(v0 + 17), MEMORY[0x263F5DE68], MEMORY[0x263F5DE60]);
  swift_bridgeObjectRelease();
  uint64_t v4 = swift_task_alloc();
  *(void *)(v4 + 16) = v2;
  BOOL v5 = sub_246C00794((uint64_t (*)(char *))sub_246C05C00, v4, v3, MEMORY[0x263F07508], &qword_2691D7060);
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  if (v5)
  {
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v6 = (void *)v0[24];
    uint64_t v7 = sub_246C2C088();
    sub_246B8BE0C(v7, (uint64_t)qword_2691E0180);
    id v8 = v6;
    uint64_t v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CED8();
    BOOL v11 = os_log_type_enabled(v9, v10);
    uint64_t v12 = (void *)v0[24];
    if (v11)
    {
      uint64_t v13 = (uint8_t *)swift_slowAlloc();
      uint64_t v14 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v13 = 138412290;
      v0[21] = (uint64_t)v12;
      id v15 = v12;
      uint64_t v1 = v0 + 2;
      sub_246C2D1C8();
      *uint64_t v14 = v12;

      _os_log_impl(&dword_246B51000, v9, v10, "streamAssets(album: already tracking %@; streaming the assets",
        v13,
        0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v14, -1, -1);
      MEMORY[0x24C545990](v13, -1, -1);
    }
    else
    {

      uint64_t v9 = v0[24];
    }

    v0[5] = sub_246B80250(&qword_2691D7F48);
    v0[6] = swift_getOpaqueTypeConformance2();
    sub_246B8EBE4(v1);
    sub_246C2BD48();
  }
  else
  {
    double v42 = v0 + 12;
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v16 = (void *)v0[24];
    uint64_t v17 = sub_246C2C088();
    sub_246B8BE0C(v17, (uint64_t)qword_2691E0180);
    id v18 = v16;
    uint64_t v19 = sub_246C2C068();
    os_log_type_t v20 = sub_246C2CED8();
    BOOL v21 = os_log_type_enabled(v19, v20);
    uint64_t v22 = (void *)v0[24];
    if (v21)
    {
      uint64_t v23 = (uint8_t *)swift_slowAlloc();
      id v24 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v23 = 138412290;
      v0[20] = (uint64_t)v22;
      id v25 = v22;
      sub_246C2D1C8();
      void *v24 = v22;

      _os_log_impl(&dword_246B51000, v19, v20, "streamAssets(album: start tracking %@; new album", v23, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v24, -1, -1);
      MEMORY[0x24C545990](v23, -1, -1);
    }
    else
    {

      uint64_t v19 = v0[24];
    }
    uint64_t v27 = v0[38];
    uint64_t v26 = v0[39];
    uint64_t v28 = v0[36];
    uint64_t v41 = v0[37];
    uint64_t v30 = v0[34];
    uint64_t v29 = v0[35];
    uint64_t v31 = v0[23];

    (*(void (**)(uint64_t, uint64_t, uint64_t))(v29 + 16))(v28, v31, v30);
    swift_bridgeObjectRetain();
    sub_246C2BF28();
    v0[15] = sub_246B80250(&qword_2691D8470);
    v0[16] = swift_getOpaqueTypeConformance2();
    sub_246B8EBE4(v42);
    sub_246C2BD78();
    (*(void (**)(uint64_t, uint64_t))(v27 + 8))(v26, v41);
    uint64_t v1 = v0 + 2;
    sub_246BC6EA4((long long *)v42, (uint64_t)(v0 + 2));
  }
  uint64_t v32 = v0[5];
  id v33 = sub_246B8F7E8(v1, v32);
  uint64_t v34 = *(void *)(v32 - 8);
  uint64_t v35 = swift_task_alloc();
  (*(void (**)(uint64_t, void *, uint64_t))(v34 + 16))(v35, v33, v32);
  v0[10] = swift_getAssociatedTypeWitness();
  v0[11] = swift_getAssociatedConformanceWitness();
  sub_246B8EBE4(v0 + 7);
  sub_246C2CE48();
  swift_task_dealloc();
  uint64_t v36 = v0[10];
  uint64_t v37 = v0[11];
  sub_246B8F884((uint64_t)(v0 + 7), v36);
  double v38 = (void *)swift_task_alloc();
  v0[43] = (uint64_t)v38;
  *double v38 = v0;
  v38[1] = sub_246BFCC60;
  uint64_t v39 = v0[33];
  return MEMORY[0x270FA1E88](v39, 0, 0, v0 + 18, v36, v37);
}

uint64_t sub_246BFCC60()
{
  *(void *)(*(void *)v1 + 352) = v0;
  swift_task_dealloc();
  if (v0) {
    uint64_t v2 = sub_246BFD554;
  }
  else {
    uint64_t v2 = sub_246BFCD74;
  }
  return MEMORY[0x270FA2498](v2, 0, 0);
}

uint64_t sub_246BFCD74()
{
  uint64_t v61 = v0;
  uint64_t v1 = v0 + 16;
  uint64_t v2 = v0 + 56;
  uint64_t v3 = *(void *)(v0 + 264);
  uint64_t v4 = *(void *)(v0 + 232);
  uint64_t v5 = *(void *)(v0 + 240);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48))(v3, 1, v4) == 1)
  {
    sub_246B8EB94(v0 + 56);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v6 = *(void **)(v0 + 192);
    uint64_t v7 = sub_246C2C088();
    sub_246B8BE0C(v7, (uint64_t)qword_2691E0180);
    id v8 = v6;
    uint64_t v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CEC8();
    BOOL v11 = os_log_type_enabled(v9, v10);
    uint64_t v12 = *(void **)(v0 + 192);
    if (v11)
    {
      uint64_t v13 = (uint8_t *)swift_slowAlloc();
      uint64_t v14 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v13 = 138412290;
      *(void *)(v0 + 152) = v12;
      id v15 = v12;
      uint64_t v1 = v0 + 16;
      sub_246C2D1C8();
      *uint64_t v14 = v12;

      _os_log_impl(&dword_246B51000, v9, v10, "streamAssetsInAlbum: finished streaming assets for album: %@", v13, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v14, -1, -1);
      MEMORY[0x24C545990](v13, -1, -1);
    }
    else
    {

      uint64_t v9 = *(NSObject **)(v0 + 192);
    }
    uint64_t v34 = *(void (**)(void))(v0 + 216);

    v34();
    sub_246B8EB94(v1);
    goto LABEL_15;
  }
  (*(void (**)(void, uint64_t, uint64_t))(v5 + 32))(*(void *)(v0 + 256), v3, v4);
  if (qword_2691D6310 != -1) {
    swift_once();
  }
  uint64_t v16 = *(void *)(v0 + 248);
  uint64_t v17 = *(void *)(v0 + 256);
  uint64_t v18 = *(void *)(v0 + 232);
  uint64_t v19 = *(void *)(v0 + 240);
  os_log_type_t v20 = *(void **)(v0 + 192);
  uint64_t v21 = sub_246C2C088();
  sub_246B8BE0C(v21, (uint64_t)qword_2691E0180);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v19 + 16))(v16, v17, v18);
  id v22 = v20;
  uint64_t v23 = sub_246C2C068();
  os_log_type_t v24 = sub_246C2CEC8();
  if (os_log_type_enabled(v23, v24))
  {
    uint64_t v26 = *(void *)(v0 + 280);
    uint64_t v25 = *(void *)(v0 + 288);
    uint64_t v55 = *(void *)(v0 + 248);
    uint64_t v56 = *(void *)(v0 + 272);
    uint64_t v27 = *(void *)(v0 + 240);
    uint64_t v58 = *(void *)(v0 + 232);
    uint64_t v28 = *(void *)(v0 + 192);
    uint64_t v29 = swift_slowAlloc();
    int v57 = (void *)swift_slowAlloc();
    uint64_t v59 = swift_slowAlloc();
    uint64_t v60 = v59;
    *(_DWORD *)uint64_t v29 = 138412546;
    *(void *)(v29 + 4) = v28;
    *int v57 = v28;
    *(_WORD *)(v29 + 12) = 2080;
    sub_246C2BDD8();
    sub_246C06D98(&qword_2691D8448, MEMORY[0x263F07508]);
    uint64_t v30 = sub_246C2D528();
    unint64_t v32 = v31;
    (*(void (**)(uint64_t, uint64_t))(v26 + 8))(v25, v56);
    *(void *)(v29 + 14) = sub_246BA686C(v30, v32, &v60);
    swift_bridgeObjectRelease();
    id v33 = *(void (**)(uint64_t, uint64_t))(v27 + 8);
    v33(v55, v58);
    uint64_t v1 = v0 + 16;
    _os_log_impl(&dword_246B51000, v23, v24, "streamAssets(album: received asset from daemon for album: %@, identifier: %s", (uint8_t *)v29, 0x16u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    uint64_t v2 = v0 + 56;
    MEMORY[0x24C545990](v57, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v59, -1, -1);
    MEMORY[0x24C545990](v29, -1, -1);
  }
  else
  {
    uint64_t v36 = *(void *)(v0 + 240);
    uint64_t v35 = *(void *)(v0 + 248);
    uint64_t v37 = *(void *)(v0 + 232);

    id v33 = *(void (**)(uint64_t, uint64_t))(v36 + 8);
    v33(v35, v37);
  }

  double v38 = *(void **)(v0 + 352);
  uint64_t v39 = sub_246C0292C(*(void *)(v0 + 256));
  if (v38)
  {
    v33(*(void *)(v0 + 256), *(void *)(v0 + 232));
    sub_246B8EB94(v1);
    sub_246B8EB94(v2);
    double v40 = *(void (**)(void, void *))(v0 + 200);
    id v41 = v38;
    v40(0, v38);

LABEL_15:
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    double v42 = *(uint64_t (**)(void))(v0 + 8);
    return v42();
  }
  id v44 = v39;
  uint64_t v45 = *(void (**)(uint64_t, void *))(v0 + 200);
  if (v39)
  {
    sub_246B80250((uint64_t *)&unk_2691D6A80);
    uint64_t v46 = swift_allocObject();
    *(_OWORD *)(v46 + 16) = xmmword_246C33610;
    *(void *)(v46 + 32) = v44;
    uint64_t v60 = v46;
    sub_246C2CD58();
    uint64_t v47 = v60;
    id v48 = v44;
    v45(v47, 0);
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_246C05A24();
    uint64_t v49 = (void *)swift_allocError();
    *uint64_t v50 = 3;
    v45(0, v49);
  }
  v33(*(void *)(v0 + 256), *(void *)(v0 + 232));
  uint64_t v51 = *(void *)(v0 + 80);
  uint64_t v52 = *(void *)(v0 + 88);
  sub_246B8F884(v2, v51);
  uint64_t v53 = (void *)swift_task_alloc();
  *(void *)(v0 + 344) = v53;
  *uint64_t v53 = v0;
  v53[1] = sub_246BFCC60;
  uint64_t v54 = *(void *)(v0 + 264);
  return MEMORY[0x270FA1E88](v54, 0, 0, v0 + 144, v51, v52);
}

uint64_t sub_246BFD450()
{
  uint64_t v1 = (void *)v0[41];
  sub_246C05A24();
  uint64_t v2 = (void *)swift_allocError();
  unsigned char *v3 = 2;
  swift_willThrow();

  uint64_t v4 = (void (*)(void, void *))v0[25];
  id v5 = v2;
  v4(0, v2);

  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_246BFD554()
{
  uint64_t v1 = (void *)v0[18];
  sub_246B8EB94((uint64_t)(v0 + 2));
  sub_246B8EB94((uint64_t)(v0 + 7));
  uint64_t v2 = (void (*)(void, void *))v0[25];
  id v3 = v1;
  v2(0, v1);

  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v4 = (uint64_t (*)(void))v0[1];
  return v4();
}

uint64_t sub_246BFD7D4(void *a1, void (*a2)(void, void *), uint64_t a3, void (*a4)(void), void (*a5)(void))
{
  return sub_246BFD824(a1, a2, a3, a4, a5, (uint64_t)&OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_uuidString, (uint64_t)&unk_26FB225C8, (uint64_t)&unk_2691D8438, "streamAssetsInShuffle: bad uuid! %@");
}

uint64_t sub_246BFD824(void *a1, void (*a2)(void, void *), uint64_t a3, void (*a4)(void), void (*a5)(void), uint64_t a6, uint64_t a7, uint64_t a8, const char *a9)
{
  uint64_t v55 = a8;
  uint64_t v53 = a7;
  uint64_t v61 = a4;
  uint64_t v62 = a5;
  uint64_t v58 = a3;
  uint64_t v11 = sub_246B80250(&qword_2691D6FB0);
  MEMORY[0x270FA5388](v11 - 8);
  uint64_t v56 = (uint64_t)&v50 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_246B80250(&qword_2691D7060);
  MEMORY[0x270FA5388](v13 - 8);
  id v15 = (char *)&v50 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_246C2BC68();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = *(void *)(v17 + 64);
  uint64_t v19 = MEMORY[0x270FA5388](v16);
  os_log_type_t v20 = (char *)&v50 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v19);
  id v22 = (char *)&v50 - v21;
  sub_246C2BDB8();
  swift_allocObject();
  uint64_t v59 = sub_246C2BDA8();
  int v57 = a1;
  swift_bridgeObjectRetain();
  sub_246C2BC28();
  swift_bridgeObjectRelease();
  int v23 = (*(uint64_t (**)(char *, uint64_t, uint64_t))(v17 + 48))(v15, 1, v16);
  uint64_t v60 = a2;
  if (v23 == 1)
  {
    os_log_type_t v24 = v57;
    sub_246B8EA34((uint64_t)v15, &qword_2691D7060);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v25 = sub_246C2C088();
    sub_246B8BE0C(v25, (uint64_t)qword_2691E0180);
    uint64_t v26 = v24;
    uint64_t v27 = sub_246C2C068();
    os_log_type_t v28 = sub_246C2CEE8();
    if (os_log_type_enabled(v27, v28))
    {
      uint64_t v29 = (uint8_t *)swift_slowAlloc();
      uint64_t v30 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v29 = 138412290;
      int32x2_t v63 = v26;
      unint64_t v31 = v26;
      sub_246C2D1C8();
      *uint64_t v30 = v26;

      _os_log_impl(&dword_246B51000, v27, v28, a9, v29, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v30, -1, -1);
      MEMORY[0x24C545990](v29, -1, -1);
    }
    else
    {

      uint64_t v27 = v26;
    }

    sub_246C05A24();
    id v48 = (void *)swift_allocError();
    *uint64_t v49 = 0;
    v60(0, v48);

    v61();
    return swift_release();
  }
  else
  {
    uint64_t v51 = *(void (**)(char *, char *, uint64_t))(v17 + 32);
    uint64_t v52 = v22;
    uint64_t v50 = v16;
    v51(v22, v15, v16);
    uint64_t v32 = sub_246C2CE28();
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v32 - 8) + 56))(v56, 1, 1, v32);
    (*(void (**)(char *, char *, uint64_t))(v17 + 16))(v20, v22, v16);
    unint64_t v33 = (*(unsigned __int8 *)(v17 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v17 + 80);
    unint64_t v34 = (v18 + v33 + 7) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v35 = (v34 + 15) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v36 = (v35 + 15) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v37 = (v36 + 23) & 0xFFFFFFFFFFFFFFF8;
    double v38 = (char *)swift_allocObject();
    *((void *)v38 + 2) = 0;
    *((void *)v38 + 3) = 0;
    *((void *)v38 + 4) = v59;
    uint64_t v39 = v20;
    uint64_t v40 = v50;
    v51(&v38[v33], v39, v50);
    id v41 = v57;
    *(void *)&v38[v34] = v57;
    *(void *)&v38[v35] = v54;
    double v42 = &v38[v36];
    uint64_t v43 = v58;
    *(void *)double v42 = v60;
    *((void *)v42 + 1) = v43;
    id v44 = (void (**)(void))&v38[v37];
    uint64_t v45 = v62;
    *id v44 = v61;
    v44[1] = v45;
    swift_retain();
    id v46 = v41;
    swift_retain();
    swift_retain();
    sub_246B9B9B8(v56, v55, (uint64_t)v38);
    swift_release();
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v17 + 8))(v52, v40);
  }
}

uint64_t sub_246BFDD74(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  *(void *)(v8 + 224) = v16;
  *(_OWORD *)(v8 + 208) = v15;
  *(void *)(v8 + 192) = a6;
  *(void *)(v8 + 200) = a8;
  *(void *)(v8 + 176) = a4;
  *(void *)(v8 + 184) = a5;
  uint64_t v9 = sub_246C2BE38();
  *(void *)(v8 + 232) = v9;
  *(void *)(v8 + 240) = *(void *)(v9 - 8);
  *(void *)(v8 + 248) = swift_task_alloc();
  *(void *)(v8 + 256) = swift_task_alloc();
  sub_246B80250(&qword_2691D7F58);
  *(void *)(v8 + 264) = swift_task_alloc();
  uint64_t v10 = sub_246C2BC68();
  *(void *)(v8 + 272) = v10;
  *(void *)(v8 + 280) = *(void *)(v10 - 8);
  *(void *)(v8 + 288) = swift_task_alloc();
  *(void *)(v8 + 296) = swift_task_alloc();
  uint64_t v11 = sub_246C2BFB8();
  *(void *)(v8 + 304) = v11;
  *(void *)(v8 + 312) = *(void *)(v11 - 8);
  *(void *)(v8 + 320) = swift_task_alloc();
  uint64_t v12 = (void *)swift_task_alloc();
  *(void *)(v8 + 328) = v12;
  void *v12 = v8;
  v12[1] = sub_246BFDF88;
  return MEMORY[0x270F53920]();
}

uint64_t sub_246BFDF88(uint64_t a1)
{
  uint64_t v4 = *v2;
  *(void *)(*v2 + 336) = v1;
  swift_task_dealloc();
  if (v1)
  {
    id v5 = sub_246BFEF94;
  }
  else
  {
    *(void *)(v4 + 344) = a1;
    id v5 = sub_246BFE0B0;
  }
  return MEMORY[0x270FA2498](v5, 0, 0);
}

uint64_t sub_246BFE0B0()
{
  uint64_t v1 = v0 + 2;
  uint64_t v2 = v0[23];
  uint64_t v3 = sub_246BFB1F0(v0[43], (uint64_t)(v0 + 17), MEMORY[0x263F5DE78], MEMORY[0x263F5DE70]);
  swift_bridgeObjectRelease();
  uint64_t v4 = swift_task_alloc();
  *(void *)(v4 + 16) = v2;
  BOOL v5 = sub_246C00794((uint64_t (*)(char *))sub_246C05C00, v4, v3, MEMORY[0x263F07508], &qword_2691D7060);
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  if (v5)
  {
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v6 = (void *)v0[24];
    uint64_t v7 = sub_246C2C088();
    sub_246B8BE0C(v7, (uint64_t)qword_2691E0180);
    id v8 = v6;
    uint64_t v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CED8();
    BOOL v11 = os_log_type_enabled(v9, v10);
    uint64_t v12 = (void *)v0[24];
    if (v11)
    {
      uint64_t v13 = (uint8_t *)swift_slowAlloc();
      uint64_t v14 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v13 = 138412290;
      v0[21] = (uint64_t)v12;
      id v15 = v12;
      uint64_t v1 = v0 + 2;
      sub_246C2D1C8();
      *uint64_t v14 = v12;

      _os_log_impl(&dword_246B51000, v9, v10, "streamAssetsInShuffle: already tracking %@; streaming the assets",
        v13,
        0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v14, -1, -1);
      MEMORY[0x24C545990](v13, -1, -1);
    }
    else
    {

      uint64_t v9 = v0[24];
    }

    v0[5] = sub_246B80250(&qword_2691D7F68);
    v0[6] = swift_getOpaqueTypeConformance2();
    sub_246B8EBE4(v1);
    sub_246C2BD68();
  }
  else
  {
    buf = v0 + 12;
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v16 = (void *)v0[24];
    uint64_t v17 = sub_246C2C088();
    sub_246B8BE0C(v17, (uint64_t)qword_2691E0180);
    id v18 = v16;
    uint64_t v19 = sub_246C2C068();
    os_log_type_t v20 = sub_246C2CED8();
    BOOL v21 = os_log_type_enabled(v19, v20);
    id v22 = (void *)v0[24];
    if (v21)
    {
      int v23 = (uint8_t *)swift_slowAlloc();
      os_log_type_t v24 = (void *)swift_slowAlloc();
      *(_DWORD *)int v23 = 138412290;
      v0[20] = (uint64_t)v22;
      id v25 = v22;
      sub_246C2D1C8();
      void *v24 = v22;

      _os_log_impl(&dword_246B51000, v19, v20, "streamAssetsInShuffle: start tracking %@; new shuffle", v23, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v24, -1, -1);
      MEMORY[0x24C545990](v23, -1, -1);
    }
    else
    {

      uint64_t v19 = v0[24];
    }
    uint64_t v26 = v0[40];
    uint64_t v27 = v0[37];
    uint64_t v42 = v0[39];
    uint64_t v43 = v0[38];
    uint64_t v28 = v0[35];
    uint64_t v29 = v0[36];
    uint64_t v30 = v0[34];
    uint64_t v31 = v0[23];

    uint64_t v32 = *(void (**)(uint64_t, uint64_t, uint64_t))(v28 + 16);
    v32(v27, v31, v30);
    v32(v29, v27, v30);
    swift_bridgeObjectRetain();
    sub_246C2BF68();
    (*(void (**)(uint64_t, uint64_t))(v28 + 8))(v27, v30);
    v0[15] = sub_246B80250(&qword_2691D8440);
    v0[16] = swift_getOpaqueTypeConformance2();
    sub_246B8EBE4(buf);
    sub_246C2BD88();
    (*(void (**)(uint64_t, uint64_t))(v42 + 8))(v26, v43);
    uint64_t v1 = v0 + 2;
    sub_246BC6EA4((long long *)buf, (uint64_t)(v0 + 2));
  }
  uint64_t v33 = v0[5];
  unint64_t v34 = sub_246B8F7E8(v1, v33);
  uint64_t v35 = *(void *)(v33 - 8);
  uint64_t v36 = swift_task_alloc();
  (*(void (**)(uint64_t, void *, uint64_t))(v35 + 16))(v36, v34, v33);
  v0[10] = swift_getAssociatedTypeWitness();
  v0[11] = swift_getAssociatedConformanceWitness();
  sub_246B8EBE4(v0 + 7);
  sub_246C2CE48();
  swift_task_dealloc();
  uint64_t v37 = v0[10];
  uint64_t v38 = v0[11];
  sub_246B8F884((uint64_t)(v0 + 7), v37);
  uint64_t v39 = (void *)swift_task_alloc();
  v0[44] = (uint64_t)v39;
  *uint64_t v39 = v0;
  v39[1] = sub_246BFE79C;
  uint64_t v40 = v0[33];
  return MEMORY[0x270FA1E88](v40, 0, 0, v0 + 18, v37, v38);
}

uint64_t sub_246BFE79C()
{
  *(void *)(*(void *)v1 + 360) = v0;
  swift_task_dealloc();
  if (v0) {
    uint64_t v2 = sub_246BFF0A0;
  }
  else {
    uint64_t v2 = sub_246BFE8B0;
  }
  return MEMORY[0x270FA2498](v2, 0, 0);
}

uint64_t sub_246BFE8B0()
{
  uint64_t v61 = v0;
  uint64_t v1 = v0 + 16;
  uint64_t v2 = v0 + 56;
  uint64_t v3 = *(void *)(v0 + 264);
  uint64_t v4 = *(void *)(v0 + 232);
  uint64_t v5 = *(void *)(v0 + 240);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v5 + 48))(v3, 1, v4) == 1)
  {
    sub_246B8EB94(v0 + 56);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v6 = *(void **)(v0 + 192);
    uint64_t v7 = sub_246C2C088();
    sub_246B8BE0C(v7, (uint64_t)qword_2691E0180);
    id v8 = v6;
    uint64_t v9 = sub_246C2C068();
    os_log_type_t v10 = sub_246C2CEC8();
    BOOL v11 = os_log_type_enabled(v9, v10);
    uint64_t v12 = *(void **)(v0 + 192);
    if (v11)
    {
      uint64_t v13 = (uint8_t *)swift_slowAlloc();
      uint64_t v14 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v13 = 138412290;
      *(void *)(v0 + 152) = v12;
      id v15 = v12;
      uint64_t v1 = v0 + 16;
      sub_246C2D1C8();
      *uint64_t v14 = v12;

      _os_log_impl(&dword_246B51000, v9, v10, "streamAssetsInShuffle: finished streaming assets for shuffle: %@", v13, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v14, -1, -1);
      MEMORY[0x24C545990](v13, -1, -1);
    }
    else
    {

      uint64_t v9 = *(NSObject **)(v0 + 192);
    }
    unint64_t v34 = *(void (**)(void))(v0 + 216);

    v34();
    sub_246B8EB94(v1);
    goto LABEL_15;
  }
  (*(void (**)(void, uint64_t, uint64_t))(v5 + 32))(*(void *)(v0 + 256), v3, v4);
  if (qword_2691D6310 != -1) {
    swift_once();
  }
  uint64_t v16 = *(void *)(v0 + 248);
  uint64_t v17 = *(void *)(v0 + 256);
  uint64_t v18 = *(void *)(v0 + 232);
  uint64_t v19 = *(void *)(v0 + 240);
  os_log_type_t v20 = *(void **)(v0 + 192);
  uint64_t v21 = sub_246C2C088();
  sub_246B8BE0C(v21, (uint64_t)qword_2691E0180);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v19 + 16))(v16, v17, v18);
  id v22 = v20;
  int v23 = sub_246C2C068();
  os_log_type_t v24 = sub_246C2CEC8();
  if (os_log_type_enabled(v23, v24))
  {
    uint64_t v25 = *(void *)(v0 + 296);
    uint64_t v26 = *(void *)(v0 + 280);
    uint64_t v55 = *(void *)(v0 + 248);
    uint64_t v56 = *(void *)(v0 + 272);
    uint64_t v27 = *(void *)(v0 + 240);
    uint64_t v58 = *(void *)(v0 + 232);
    uint64_t v28 = *(void *)(v0 + 192);
    uint64_t v29 = swift_slowAlloc();
    int v57 = (void *)swift_slowAlloc();
    uint64_t v59 = swift_slowAlloc();
    uint64_t v60 = v59;
    *(_DWORD *)uint64_t v29 = 138412546;
    *(void *)(v29 + 4) = v28;
    *int v57 = v28;
    *(_WORD *)(v29 + 12) = 2080;
    sub_246C2BDD8();
    sub_246C06D98(&qword_2691D8448, MEMORY[0x263F07508]);
    uint64_t v30 = sub_246C2D528();
    unint64_t v32 = v31;
    (*(void (**)(uint64_t, uint64_t))(v26 + 8))(v25, v56);
    *(void *)(v29 + 14) = sub_246BA686C(v30, v32, &v60);
    swift_bridgeObjectRelease();
    uint64_t v33 = *(void (**)(uint64_t, uint64_t))(v27 + 8);
    v33(v55, v58);
    uint64_t v1 = v0 + 16;
    _os_log_impl(&dword_246B51000, v23, v24, "streamAssetsInShuffle: received asset from daemon for shuffle: %@, identifier: %s", (uint8_t *)v29, 0x16u);
    sub_246B80250(&qword_2691D6FF0);
    swift_arrayDestroy();
    uint64_t v2 = v0 + 56;
    MEMORY[0x24C545990](v57, -1, -1);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v59, -1, -1);
    MEMORY[0x24C545990](v29, -1, -1);
  }
  else
  {
    uint64_t v36 = *(void *)(v0 + 240);
    uint64_t v35 = *(void *)(v0 + 248);
    uint64_t v37 = *(void *)(v0 + 232);

    uint64_t v33 = *(void (**)(uint64_t, uint64_t))(v36 + 8);
    v33(v35, v37);
  }

  uint64_t v38 = *(void **)(v0 + 360);
  uint64_t v39 = sub_246C0292C(*(void *)(v0 + 256));
  if (v38)
  {
    v33(*(void *)(v0 + 256), *(void *)(v0 + 232));
    sub_246B8EB94(v1);
    sub_246B8EB94(v2);
    uint64_t v40 = *(void (**)(void, void *))(v0 + 200);
    id v41 = v38;
    v40(0, v38);

LABEL_15:
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v42 = *(uint64_t (**)(void))(v0 + 8);
    return v42();
  }
  id v44 = v39;
  uint64_t v45 = *(void (**)(uint64_t, void *))(v0 + 200);
  if (v39)
  {
    sub_246B80250((uint64_t *)&unk_2691D6A80);
    uint64_t v46 = swift_allocObject();
    *(_OWORD *)(v46 + 16) = xmmword_246C33610;
    *(void *)(v46 + 32) = v44;
    uint64_t v60 = v46;
    sub_246C2CD58();
    uint64_t v47 = v60;
    id v48 = v44;
    v45(v47, 0);
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_246C05A24();
    uint64_t v49 = (void *)swift_allocError();
    *uint64_t v50 = 3;
    v45(0, v49);
  }
  v33(*(void *)(v0 + 256), *(void *)(v0 + 232));
  uint64_t v51 = *(void *)(v0 + 80);
  uint64_t v52 = *(void *)(v0 + 88);
  sub_246B8F884(v2, v51);
  uint64_t v53 = (void *)swift_task_alloc();
  *(void *)(v0 + 352) = v53;
  *uint64_t v53 = v0;
  v53[1] = sub_246BFE79C;
  uint64_t v54 = *(void *)(v0 + 264);
  return MEMORY[0x270FA1E88](v54, 0, 0, v0 + 144, v51, v52);
}

uint64_t sub_246BFEF94()
{
  uint64_t v1 = (void *)v0[42];
  sub_246C05A24();
  uint64_t v2 = (void *)swift_allocError();
  unsigned char *v3 = 2;
  swift_willThrow();

  uint64_t v4 = (void (*)(void, void *))v0[25];
  id v5 = v2;
  v4(0, v2);

  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_246BFF0A0()
{
  uint64_t v1 = (void *)v0[18];
  sub_246B8EB94((uint64_t)(v0 + 2));
  sub_246B8EB94((uint64_t)(v0 + 7));
  uint64_t v2 = (void (*)(void, void *))v0[25];
  id v3 = v1;
  v2(0, v1);

  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v4 = (uint64_t (*)(void))v0[1];
  return v4();
}

uint64_t sub_246BFF3DC(const void *a1)
{
  *(void *)(v1 + 16) = _Block_copy(a1);
  uint64_t v4 = (uint64_t (__cdecl *)())((char *)&dword_2691D84F0 + dword_2691D84F0);
  uint64_t v2 = (void *)swift_task_alloc();
  *(void *)(v1 + 24) = v2;
  void *v2 = v1;
  v2[1] = sub_246BFF484;
  return v4();
}

uint64_t sub_246BFF484()
{
  uint64_t v2 = v0;
  uint64_t v3 = *v1;
  uint64_t v4 = *v1;
  swift_task_dealloc();
  if (v2)
  {
    uint64_t v5 = sub_246C2BA38();

    uint64_t v6 = 0;
    uint64_t v7 = (void *)v5;
  }
  else
  {
    type metadata accessor for NTKShuffleID();
    uint64_t v6 = sub_246C2CD28();
    swift_bridgeObjectRelease();
    uint64_t v5 = 0;
    uint64_t v7 = (void *)v6;
  }
  uint64_t v8 = *(void (***)(void, void, void))(v3 + 16);
  v8[2](v8, v6, v5);

  _Block_release(v8);
  uint64_t v9 = *(uint64_t (**)(void))(v4 + 8);
  return v9();
}

uint64_t sub_246BFF774(void *a1, void *aBlock)
{
  v2[2] = a1;
  v2[3] = _Block_copy(aBlock);
  uint64_t v7 = (uint64_t (*)(id))((char *)&dword_2691D84B8 + dword_2691D84B8);
  id v4 = a1;
  uint64_t v5 = (void *)swift_task_alloc();
  v2[4] = v5;
  void *v5 = v2;
  v5[1] = sub_246BFF83C;
  return v7(v4);
}

uint64_t sub_246BFF83C()
{
  uint64_t v2 = v0;
  uint64_t v3 = *v1;
  id v4 = *(void **)(*v1 + 16);
  uint64_t v5 = *v1;
  swift_task_dealloc();

  if (v2)
  {
    uint64_t v6 = sub_246C2BA38();

    uint64_t v7 = 0;
    uint64_t v8 = (void *)v6;
  }
  else
  {
    type metadata accessor for ParmesanAsset();
    uint64_t v7 = sub_246C2CD28();
    swift_bridgeObjectRelease();
    uint64_t v6 = 0;
    uint64_t v8 = (void *)v7;
  }
  uint64_t v9 = *(void (***)(void, void, void))(v3 + 24);
  v9[2](v9, v7, v6);

  _Block_release(v9);
  os_log_type_t v10 = *(uint64_t (**)(void))(v5 + 8);
  return v10();
}

id sub_246BFFA0C()
{
  v2.receiver = v0;
  v2.uint64_t super_class = (Class)type metadata accessor for ParmesanPhotoProcessor();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanPhotoProcessor()
{
  return self;
}

objc_super *sub_246BFFA68(uint64_t a1, uint64_t a2, char *a3)
{
  double v75 = a3;
  uint64_t v73 = sub_246C2BEE8();
  uint64_t v70 = *(void *)(v73 - 8);
  uint64_t v4 = MEMORY[0x270FA5388](v73);
  id v72 = (char *)v67 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = MEMORY[0x270FA5388](v4);
  id v71 = (char *)v67 - v7;
  uint64_t v8 = MEMORY[0x270FA5388](v6);
  id v69 = (char *)v67 - v9;
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)v67 - v10;
  uint64_t v12 = sub_246C2BC68();
  uint64_t v13 = *(void *)(v12 - 8);
  MEMORY[0x270FA5388](v12);
  id v15 = (char *)v67 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_246C2BF08();
  uint64_t v17 = *(void *)(v16 - 8);
  uint64_t v18 = MEMORY[0x270FA5388](v16);
  os_log_type_t v20 = (char *)v67 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v18);
  id v22 = (char *)v67 - v21;
  uint64_t v23 = sub_246C2BE88();
  double v74 = sub_246C000FC(v23);
  if (v74)
  {
    sub_246C2BDD8();
    uint64_t v24 = sub_246C2BE68();
    id v26 = v25;
    uint64_t v27 = *(void (**)(char *, uint64_t))(v13 + 8);
    v67[1] = v13 + 8;
    uint64_t v68 = v12;
    v27(v15, v12);
    if (v26)
    {
      uint64_t v28 = (objc_class *)type metadata accessor for ParmesanAssetMask();
      uint64_t v29 = (char *)objc_allocWithZone(v28);
      uint64_t v30 = (uint64_t *)&v29[OBJC_IVAR___NTKParmesanAssetMask_imageName];
      *uint64_t v30 = v24;
      v30[1] = (uint64_t)v26;
      *(void *)&v29[OBJC_IVAR___NTKParmesanAssetMask_style] = 0;
      v76.receiver = v29;
      v76.uint64_t super_class = v28;
      id v26 = objc_msgSendSuper2(&v76, sel_init);
    }
    sub_246C2BE78();
    sub_246C2BEA8();
    double v32 = v31;
    uint64_t v33 = *(void (**)(char *, uint64_t))(v70 + 8);
    uint64_t v34 = v73;
    v33(v11, v73);
    uint64_t v35 = v69;
    sub_246C2BE78();
    sub_246C2BEB8();
    double v37 = v36;
    v33(v35, v34);
    uint64_t v38 = v71;
    sub_246C2BE78();
    sub_246C2BEC8();
    double v40 = v39;
    v33(v38, v34);
    id v41 = v72;
    sub_246C2BE78();
    sub_246C2BED8();
    double v43 = v42;
    v33(v41, v34);
    id v44 = objc_allocWithZone((Class)type metadata accessor for ParmesanCrop());
    uint64_t v45 = (void *)sub_246BCE7E8(v32, v37, v40, v43);
    sub_246C2BDD8();
    uint64_t v46 = sub_246C2BE58();
    uint64_t v48 = v47;
    v27(v15, v68);
    uint64_t v49 = v74;
    uint64_t v50 = v74;
    sub_246C2BE98();
    double v52 = v51;
    char v53 = sub_246C2BE48();
    id v54 = objc_allocWithZone((Class)type metadata accessor for ParmesanAssetLayout());
    sub_246BEB9F0(v45, v46, v48, v26, v50, 0, v53 & 1, v52);
  }
  else
  {
    double v75 = v20;
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v55 = sub_246C2C088();
    sub_246B8BE0C(v55, (uint64_t)qword_2691E0180);
    uint64_t v56 = v17;
    int v57 = *(void (**)(char *, uint64_t, uint64_t))(v17 + 16);
    v57(v22, a2, v16);
    uint64_t v58 = sub_246C2C068();
    os_log_type_t v59 = sub_246C2CEE8();
    int v60 = v59;
    if (os_log_type_enabled(v58, v59))
    {
      uint64_t v61 = swift_slowAlloc();
      LODWORD(v72) = v60;
      uint64_t v62 = v61;
      uint64_t v73 = swift_slowAlloc();
      uint64_t v78 = v73;
      *(_DWORD *)uint64_t v62 = 136315394;
      uint64_t v77 = sub_246BA686C(0xD000000000000024, 0x8000000246C40880, &v78);
      sub_246C2D1C8();
      *(_WORD *)(v62 + 12) = 2080;
      v57(v75, (uint64_t)v22, v16);
      uint64_t v63 = sub_246C2CCA8();
      uint64_t v77 = sub_246BA686C(v63, v64, &v78);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v56 + 8))(v22, v16);
      _os_log_impl(&dword_246B51000, v58, (os_log_type_t)v72, "%s: no timeLayout found on storedLayout: [%s]", (uint8_t *)v62, 0x16u);
      uint64_t v65 = v73;
      swift_arrayDestroy();
      MEMORY[0x24C545990](v65, -1, -1);
      MEMORY[0x24C545990](v62, -1, -1);
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v56 + 8))(v22, v16);
    }

    return v74;
  }
  return v49;
}

objc_super *sub_246C000FC(uint64_t a1)
{
  uint64_t v22 = v1;
  uint64_t v23 = v2;
  switch(a1)
  {
    case 1:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v4 = (char *)objc_allocWithZone(v3);
      *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v4[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
      uint64_t v14 = v4;
      uint64_t v5 = (objc_super *)&v14;
      goto LABEL_11;
    case 2:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v7 = (char *)objc_allocWithZone(v3);
      *(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v7[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 1;
      id v15 = v7;
      uint64_t v5 = (objc_super *)&v15;
      goto LABEL_11;
    case 3:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v8 = (char *)objc_allocWithZone(v3);
      *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v8[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 2;
      uint64_t v16 = v8;
      uint64_t v5 = (objc_super *)&v16;
      goto LABEL_11;
    case 4:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v9 = (char *)objc_allocWithZone(v3);
      *(void *)&v9[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v9[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 2;
      uint64_t v17 = v9;
      uint64_t v5 = (objc_super *)&v17;
      goto LABEL_11;
    case 5:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v10 = (char *)objc_allocWithZone(v3);
      *(void *)&v10[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v10[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
      uint64_t v18 = v10;
      uint64_t v5 = (objc_super *)&v18;
      goto LABEL_11;
    case 6:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v11 = (char *)objc_allocWithZone(v3);
      *(void *)&v11[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v11[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 3;
      uint64_t v19 = v11;
      uint64_t v5 = (objc_super *)&v19;
      goto LABEL_11;
    case 7:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v12 = (char *)objc_allocWithZone(v3);
      *(void *)&v12[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 0;
      *(void *)&v12[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
      os_log_type_t v20 = v12;
      uint64_t v5 = (objc_super *)&v20;
      goto LABEL_11;
    case 8:
      uint64_t v3 = (objc_class *)type metadata accessor for ParmesanTimeLayout();
      uint64_t v13 = (char *)objc_allocWithZone(v3);
      *(void *)&v13[OBJC_IVAR___NTKParmesanTimeLayout_alignment] = 1;
      *(void *)&v13[OBJC_IVAR___NTKParmesanTimeLayout_scale] = 0;
      uint64_t v21 = v13;
      uint64_t v5 = (objc_super *)&v21;
LABEL_11:
      v5->uint64_t super_class = v3;
      uint64_t result = [(objc_super *)v5 init];
      break;
    default:
      uint64_t result = 0;
      break;
  }
  return result;
}

uint64_t sub_246C00388(uint64_t a1, uint64_t a2, int *a3)
{
  uint64_t v6 = (uint64_t (*)(void))((char *)a3 + *a3);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v3 + 16) = v4;
  *uint64_t v4 = v3;
  v4[1] = sub_246B8F220;
  return v6();
}

uint64_t sub_246C00454(uint64_t a1, uint64_t a2, uint64_t a3, int *a4)
{
  uint64_t v7 = (uint64_t (*)(void))((char *)a4 + *a4);
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v4 + 16) = v5;
  void *v5 = v4;
  v5[1] = sub_246B8F220;
  return v7();
}

uint64_t sub_246C00520(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_246C2CE28();
  uint64_t v7 = *(void *)(v6 - 8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v7 + 48))(a1, 1, v6) != 1)
  {
    sub_246C2CE18();
    (*(void (**)(uint64_t, uint64_t))(v7 + 8))(a1, v6);
    if (!*(void *)(a3 + 16)) {
      goto LABEL_5;
    }
    goto LABEL_3;
  }
  sub_246B8EA34(a1, &qword_2691D6FB0);
  if (*(void *)(a3 + 16))
  {
LABEL_3:
    swift_getObjectType();
    swift_unknownObjectRetain();
    sub_246C2CDA8();
    swift_unknownObjectRelease();
  }
LABEL_5:
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = a2;
  *(void *)(v8 + 24) = a3;
  return swift_task_create();
}

uint64_t sub_246C006CC()
{
  return sub_246C2CBF8() & 1;
}

BOOL sub_246C0075C(uint64_t (*a1)(char *), uint64_t a2, uint64_t a3)
{
  return sub_246C00794(a1, a2, a3, MEMORY[0x263F07A30], &qword_2691D69E0);
}

BOOL sub_246C00794(uint64_t (*a1)(char *), uint64_t a2, uint64_t a3, uint64_t (*a4)(void), uint64_t *a5)
{
  uint64_t v7 = v5;
  id v41 = a1;
  uint64_t v42 = a4(0);
  uint64_t v9 = *(void *)(v42 - 8);
  MEMORY[0x270FA5388](v42);
  uint64_t v11 = (char *)v32 - v10;
  uint64_t v12 = sub_246B80250(a5);
  MEMORY[0x270FA5388](v12 - 8);
  uint64_t v14 = (char *)v32 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = *(void *)(a3 + 16);
  if (v15)
  {
    uint64_t v17 = *(void (**)(char *, uint64_t, uint64_t))(v9 + 16);
    uint64_t v16 = v9 + 16;
    double v40 = v17;
    uint64_t v18 = a3 + ((*(unsigned __int8 *)(v16 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v16 + 64));
    uint64_t v19 = *(void *)(v16 + 56);
    double v37 = v11;
    uint64_t v38 = (uint64_t (**)(char *, uint64_t, uint64_t))(v16 + 32);
    uint64_t v34 = v19;
    uint64_t v35 = (void (**)(char *))(v16 + 16);
    double v36 = (void (**)(char *, uint64_t))(v16 - 8);
    _OWORD v32[2] = a3;
    swift_bridgeObjectRetain();
    double v39 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v16 + 40);
    v32[1] = (v16 + 40) & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
    while (1)
    {
      uint64_t v20 = v42;
      uint64_t v21 = v16;
      v40(v14, v18, v42);
      uint64_t v22 = *v39;
      (*v39)(v14, 0, 1, v20);
      int v23 = (*v38)(v14, 1, v20);
      BOOL v24 = v23 != 1;
      if (v23 == 1) {
        break;
      }
      uint64_t v33 = v22;
      uint64_t v25 = v14;
      id v26 = v37;
      uint64_t v27 = v25;
      (*v35)(v37);
      char v28 = v41(v26);
      if (v7)
      {
        (*v36)(v26, v20);
        swift_bridgeObjectRelease();
        return v24;
      }
      char v29 = v28;
      (*v36)(v26, v20);
      if (v29) {
        break;
      }
      v18 += v34;
      --v15;
      uint64_t v7 = 0;
      uint64_t v16 = v21;
      uint64_t v14 = v27;
      if (!v15)
      {
        v33(v27, 1, 1, v42);
        goto LABEL_9;
      }
    }
  }
  else
  {
    uint64_t v30 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v9 + 56);
    swift_bridgeObjectRetain();
    v30(v14, 1, 1, v42);
LABEL_9:
    BOOL v24 = 0;
  }
  swift_bridgeObjectRelease();
  return v24;
}

uint64_t sub_246C00A74(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C00BCC(a1, a2, a3, *v3);
  objc_class *v3 = (char *)result;
  return result;
}

uint64_t sub_246C00A94(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C00D38(a1, a2, a3, *v3);
  objc_class *v3 = (char *)result;
  return result;
}

uint64_t sub_246C00AB4(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C010FC(a1, a2, a3, (void *)*v3, &qword_2691D8548, &qword_2691D6DB8);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_246C00AE4(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C00EB4(a1, a2, a3, (void *)*v3, &qword_2691D7018, MEMORY[0x263F5DE50]);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_246C00B20(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C00EB4(a1, a2, a3, (void *)*v3, &qword_2691D8420, MEMORY[0x263F07508]);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_246C00B5C(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C010FC(a1, a2, a3, (void *)*v3, &qword_2691D8550, &qword_2691D6E48);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_246C00B8C(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C0128C(a1, a2, a3, *v3);
  uint64_t *v3 = (char *)result;
  return result;
}

uint64_t sub_246C00BAC(char a1, int64_t a2, char a3)
{
  uint64_t result = sub_246C013FC(a1, a2, a3, (void *)*v3);
  uint64_t *v3 = result;
  return result;
}

uint64_t sub_246C00BCC(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D7010);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 17;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 4);
  }
  else
  {
    uint64_t v10 = (char *)MEMORY[0x263F8EE78];
  }
  uint64_t v13 = v10 + 32;
  uint64_t v14 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v13 >= &v14[16 * v8]) {
      memmove(v13, v14, 16 * v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_30;
  }
  if (v14 >= &v13[16 * v8] || v13 >= &v14[16 * v8])
  {
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246C00D38(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D8558);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 17;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 4);
  }
  else
  {
    uint64_t v10 = (char *)MEMORY[0x263F8EE78];
  }
  uint64_t v13 = v10 + 32;
  uint64_t v14 = a4 + 32;
  size_t v15 = 16 * v8;
  if (a1)
  {
    if (v10 != a4 || v13 >= &v14[v15]) {
      memmove(v13, v14, v15);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_30;
  }
  if (v14 >= &v13[v15] || v13 >= &v14[v15])
  {
    memcpy(v13, v14, v15);
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246C00E94(char a1, int64_t a2, char a3, void *a4)
{
  return sub_246C00EB4(a1, a2, a3, a4, &qword_2691D70D0, MEMORY[0x263F07A30]);
}

uint64_t sub_246C00EB4(char a1, int64_t a2, char a3, void *a4, uint64_t *a5, uint64_t (*a6)(void))
{
  if (a3)
  {
    unint64_t v9 = a4[3];
    int64_t v10 = v9 >> 1;
    if ((uint64_t)(v9 >> 1) < a2)
    {
      if (v10 + 0x4000000000000000 < 0)
      {
LABEL_35:
        __break(1u);
        goto LABEL_36;
      }
      int64_t v10 = v9 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v9 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v10 = a2;
      }
    }
  }
  else
  {
    int64_t v10 = a2;
  }
  uint64_t v11 = a4[2];
  if (v10 <= v11) {
    uint64_t v12 = a4[2];
  }
  else {
    uint64_t v12 = v10;
  }
  if (!v12)
  {
    uint64_t v16 = (void *)MEMORY[0x263F8EE78];
    goto LABEL_19;
  }
  sub_246B80250(a5);
  uint64_t v13 = *(void *)(a6(0) - 8);
  uint64_t v14 = *(void *)(v13 + 72);
  unint64_t v15 = (*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
  uint64_t v16 = (void *)swift_allocObject();
  size_t v17 = j__malloc_size(v16);
  if (!v14)
  {
    __break(1u);
LABEL_34:
    __break(1u);
    goto LABEL_35;
  }
  if (v17 - v15 == 0x8000000000000000 && v14 == -1) {
    goto LABEL_34;
  }
  id v16[2] = v11;
  long long v16[3] = 2 * ((uint64_t)(v17 - v15) / v14);
LABEL_19:
  uint64_t v19 = *(void *)(a6(0) - 8);
  unint64_t v20 = (*(unsigned __int8 *)(v19 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v19 + 80);
  uint64_t v21 = (char *)v16 + v20;
  uint64_t v22 = (char *)a4 + v20;
  if (a1)
  {
    if (v16 < a4 || v21 >= &v22[*(void *)(v19 + 72) * v11])
    {
      swift_arrayInitWithTakeFrontToBack();
    }
    else if (v16 != a4)
    {
      swift_arrayInitWithTakeBackToFront();
    }
    a4[2] = 0;
    goto LABEL_32;
  }
  uint64_t v23 = *(void *)(v19 + 72) * v11;
  BOOL v24 = &v21[v23];
  unint64_t v25 = (unint64_t)&v22[v23];
  if (v22 >= v24 || (unint64_t)v21 >= v25)
  {
    swift_arrayInitWithCopy();
LABEL_32:
    swift_release();
    return (uint64_t)v16;
  }
LABEL_36:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246C010FC(char a1, int64_t a2, char a3, void *a4, uint64_t *a5, uint64_t *a6)
{
  if (a3)
  {
    unint64_t v9 = a4[3];
    int64_t v10 = v9 >> 1;
    if ((uint64_t)(v9 >> 1) < a2)
    {
      if (v10 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v10 = v9 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v9 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v10 = a2;
      }
    }
  }
  else
  {
    int64_t v10 = a2;
  }
  uint64_t v11 = a4[2];
  if (v10 <= v11) {
    uint64_t v12 = a4[2];
  }
  else {
    uint64_t v12 = v10;
  }
  if (v12)
  {
    sub_246B80250(a5);
    uint64_t v13 = (void *)swift_allocObject();
    int64_t v14 = j__malloc_size(v13);
    uint64_t v15 = v14 - 32;
    if (v14 < 32) {
      uint64_t v15 = v14 - 25;
    }
    v13[2] = v11;
    void v13[3] = 2 * (v15 >> 3);
  }
  else
  {
    uint64_t v13 = (void *)MEMORY[0x263F8EE78];
  }
  unint64_t v16 = (unint64_t)(v13 + 4);
  unint64_t v17 = (unint64_t)(a4 + 4);
  if (a1)
  {
    if (v13 != a4 || v16 >= v17 + 8 * v11) {
      memmove(v13 + 4, a4 + 4, 8 * v11);
    }
    a4[2] = 0;
    goto LABEL_30;
  }
  if (v17 >= v16 + 8 * v11 || v16 >= v17 + 8 * v11)
  {
    sub_246B80250(a6);
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v13;
  }
LABEL_32:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246C0128C(char a1, int64_t a2, char a3, char *a4)
{
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_32;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D7D20);
    int64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 1;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 5);
  }
  else
  {
    int64_t v10 = (char *)MEMORY[0x263F8EE78];
  }
  uint64_t v13 = v10 + 32;
  int64_t v14 = a4 + 32;
  if (a1)
  {
    if (v10 != a4 || v13 >= &v14[32 * v8]) {
      memmove(v13, v14, 32 * v8);
    }
    *((void *)a4 + 2) = 0;
    goto LABEL_30;
  }
  if (v14 >= &v13[32 * v8] || v13 >= &v14[32 * v8])
  {
    swift_arrayInitWithCopy();
LABEL_30:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_32:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

uint64_t sub_246C013FC(char a1, int64_t a2, char a3, void *a4)
{
  if (a3)
  {
    unint64_t v6 = a4[3];
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        goto LABEL_30;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = a4[2];
  if (v7 <= v8) {
    uint64_t v9 = a4[2];
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_246B80250(&qword_2691D8540);
    int64_t v10 = (void *)swift_allocObject();
    size_t v11 = j__malloc_size(v10);
    uint64_t v10[2] = v8;
    v10[3] = 2 * ((uint64_t)(v11 - 32) / 72);
  }
  else
  {
    int64_t v10 = (void *)MEMORY[0x263F8EE78];
  }
  unint64_t v12 = (unint64_t)(v10 + 4);
  unint64_t v13 = (unint64_t)(a4 + 4);
  if (a1)
  {
    if (v10 != a4 || v12 >= v13 + 72 * v8) {
      memmove(v10 + 4, a4 + 4, 72 * v8);
    }
    a4[2] = 0;
    goto LABEL_28;
  }
  if (v13 >= v12 + 72 * v8 || v12 >= v13 + 72 * v8)
  {
    sub_246B80250(&qword_2691D83A0);
    swift_arrayInitWithCopy();
LABEL_28:
    swift_release();
    return (uint64_t)v10;
  }
LABEL_30:
  uint64_t result = sub_246C2D408();
  __break(1u);
  return result;
}

void sub_246C015A8(void *a1, char a2, void *a3)
{
  uint64_t v4 = a1[2];
  if (!v4)
  {
    swift_bridgeObjectRelease();
    return;
  }
  int64_t v7 = (void *)a1[4];
  uint64_t v8 = (void *)a1[5];
  swift_bridgeObjectRetain();
  uint64_t v9 = (void *)*a3;
  id v10 = v7;
  id v11 = v8;
  unint64_t v13 = sub_246C16334((uint64_t)v10);
  uint64_t v14 = v9[2];
  BOOL v15 = (v12 & 1) == 0;
  uint64_t v16 = v14 + v15;
  if (__OFADD__(v14, v15)) {
    goto LABEL_23;
  }
  char v17 = v12;
  if (v9[3] >= v16)
  {
    if (a2)
    {
      if (v12) {
        goto LABEL_10;
      }
    }
    else
    {
      sub_246C1B6FC();
      if (v17) {
        goto LABEL_10;
      }
    }
LABEL_13:
    uint64_t v22 = (void *)*a3;
    *(void *)(*a3 + 8 * (v13 >> 6) + 64) |= 1 << v13;
    uint64_t v23 = 8 * v13;
    *(void *)(v22[6] + v23) = v10;
    *(void *)(v22[7] + v23) = v11;
    uint64_t v24 = v22[2];
    BOOL v25 = __OFADD__(v24, 1);
    uint64_t v26 = v24 + 1;
    if (v25)
    {
LABEL_24:
      __break(1u);
      goto LABEL_25;
    }
    v22[2] = v26;
    uint64_t v27 = v4 - 1;
    if (v4 == 1)
    {
LABEL_22:
      swift_bridgeObjectRelease_n();
      return;
    }
    char v28 = (void **)(a1 + 7);
    while (1)
    {
      char v29 = *v28;
      uint64_t v30 = (void *)*a3;
      id v10 = *(v28 - 1);
      id v11 = v29;
      unint64_t v31 = sub_246C16334((uint64_t)v10);
      uint64_t v33 = v30[2];
      BOOL v34 = (v32 & 1) == 0;
      BOOL v25 = __OFADD__(v33, v34);
      uint64_t v35 = v33 + v34;
      if (v25) {
        break;
      }
      char v36 = v32;
      if (v30[3] < v35)
      {
        sub_246C1987C(v35, 1);
        unint64_t v31 = sub_246C16334((uint64_t)v10);
        if ((v36 & 1) != (v37 & 1)) {
          goto LABEL_25;
        }
      }
      if (v36) {
        goto LABEL_10;
      }
      uint64_t v38 = (void *)*a3;
      *(void *)(*a3 + 8 * (v31 >> 6) + 64) |= 1 << v31;
      uint64_t v39 = 8 * v31;
      *(void *)(v38[6] + v39) = v10;
      *(void *)(v38[7] + v39) = v11;
      uint64_t v40 = v38[2];
      BOOL v25 = __OFADD__(v40, 1);
      uint64_t v41 = v40 + 1;
      if (v25) {
        goto LABEL_24;
      }
      void v38[2] = v41;
      v28 += 2;
      if (!--v27) {
        goto LABEL_22;
      }
    }
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  sub_246C1987C(v16, a2 & 1);
  unint64_t v18 = sub_246C16334((uint64_t)v10);
  if ((v17 & 1) == (v19 & 1))
  {
    unint64_t v13 = v18;
    if ((v17 & 1) == 0) {
      goto LABEL_13;
    }
LABEL_10:
    unint64_t v20 = (void *)swift_allocError();
    swift_willThrow();
    id v21 = v20;
    sub_246B80250(&qword_2691D69A8);
    if ((swift_dynamicCast() & 1) == 0)
    {

      swift_bridgeObjectRelease_n();
      return;
    }
    goto LABEL_26;
  }
LABEL_25:
  type metadata accessor for ParmesanTimeLayout();
  sub_246C2D5E8();
  __break(1u);
LABEL_26:
  sub_246C2D278();
  sub_246C2CCD8();
  type metadata accessor for ParmesanTimeLayout();
  sub_246C2D328();
  sub_246C2CCD8();
  sub_246C2D3A8();
  __break(1u);
}

uint64_t sub_246C01920(uint64_t a1, uint64_t (*a2)(uint64_t, char *))
{
  char v36 = a2;
  uint64_t v3 = sub_246B80250(&qword_2691D8418);
  MEMORY[0x270FA5388](v3);
  uint64_t v5 = (uint64_t *)((char *)&v31 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v6 = *(void *)(a1 + 64);
  uint64_t v34 = a1 + 64;
  uint64_t v7 = 1 << *(unsigned char *)(a1 + 32);
  uint64_t v8 = -1;
  if (v7 < 64) {
    uint64_t v8 = ~(-1 << v7);
  }
  unint64_t v9 = v8 & v6;
  int64_t v35 = (unint64_t)(v7 + 63) >> 6;
  uint64_t result = swift_bridgeObjectRetain();
  int64_t v11 = 0;
  uint64_t v33 = (void *)MEMORY[0x263F8EE78];
  if (!v9) {
    goto LABEL_7;
  }
LABEL_4:
  unint64_t v12 = __clz(__rbit64(v9));
  v9 &= v9 - 1;
  for (unint64_t i = v12 | (v11 << 6); ; unint64_t i = __clz(__rbit64(v24)) + (v11 << 6))
  {
    uint64_t v14 = *(void *)(a1 + 56);
    uint64_t v15 = *(void *)(*(void *)(a1 + 48) + 8 * i);
    uint64_t v16 = sub_246C2BF08();
    uint64_t v17 = *(void *)(v16 - 8);
    uint64_t v18 = v14 + *(void *)(v17 + 72) * i;
    char v19 = (char *)v5 + *(int *)(v3 + 48);
    (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v19, v18, v16);
    void *v5 = v15;
    uint64_t v20 = v36(v15, v19);
    uint64_t v22 = v21;
    uint64_t result = sub_246B8EA34((uint64_t)v5, &qword_2691D8418);
    if (v20)
    {
      uint64_t result = swift_isUniquelyReferenced_nonNull_native();
      if ((result & 1) == 0)
      {
        uint64_t result = (uint64_t)sub_246BA66BC(0, v33[2] + 1, 1, v33);
        uint64_t v33 = (void *)result;
      }
      unint64_t v27 = v33[2];
      unint64_t v26 = v33[3];
      unint64_t v28 = v27 + 1;
      if (v27 >= v26 >> 1)
      {
        unint64_t v32 = v27 + 1;
        uint64_t result = (uint64_t)sub_246BA66BC((void *)(v26 > 1), v27 + 1, 1, v33);
        unint64_t v28 = v32;
        uint64_t v33 = (void *)result;
      }
      char v29 = v33;
      id v33[2] = v28;
      uint64_t v30 = &v29[2 * v27];
      v30[4] = v20;
      v30[5] = v22;
      if (v9) {
        goto LABEL_4;
      }
    }
    else if (v9)
    {
      goto LABEL_4;
    }
LABEL_7:
    int64_t v23 = v11 + 1;
    if (__OFADD__(v11, 1))
    {
      __break(1u);
      goto LABEL_31;
    }
    if (v23 >= v35) {
      goto LABEL_29;
    }
    unint64_t v24 = *(void *)(v34 + 8 * v23);
    ++v11;
    if (!v24)
    {
      int64_t v11 = v23 + 1;
      if (v23 + 1 >= v35) {
        goto LABEL_29;
      }
      unint64_t v24 = *(void *)(v34 + 8 * v11);
      if (!v24)
      {
        int64_t v11 = v23 + 2;
        if (v23 + 2 >= v35) {
          goto LABEL_29;
        }
        unint64_t v24 = *(void *)(v34 + 8 * v11);
        if (!v24)
        {
          int64_t v11 = v23 + 3;
          if (v23 + 3 >= v35) {
            goto LABEL_29;
          }
          unint64_t v24 = *(void *)(v34 + 8 * v11);
          if (!v24) {
            break;
          }
        }
      }
    }
LABEL_22:
    unint64_t v9 = (v24 - 1) & v24;
  }
  int64_t v25 = v23 + 4;
  if (v25 >= v35)
  {
LABEL_29:
    swift_release();
    return (uint64_t)v33;
  }
  unint64_t v24 = *(void *)(v34 + 8 * v25);
  if (v24)
  {
    int64_t v11 = v25;
    goto LABEL_22;
  }
  while (1)
  {
    int64_t v11 = v25 + 1;
    if (__OFADD__(v25, 1)) {
      break;
    }
    if (v11 >= v35) {
      goto LABEL_29;
    }
    unint64_t v24 = *(void *)(v34 + 8 * v11);
    ++v25;
    if (v24) {
      goto LABEL_22;
    }
  }
LABEL_31:
  __break(1u);
  return result;
}

uint64_t sub_246C01C20()
{
  uint64_t v1 = sub_246C2BC68();
  v0[4] = v1;
  v0[5] = *(void *)(v1 - 8);
  v0[6] = swift_task_alloc();
  uint64_t v2 = sub_246C2BFB8();
  v0[7] = v2;
  v0[8] = *(void *)(v2 - 8);
  v0[9] = swift_task_alloc();
  v0[10] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246C01D48, 0, 0);
}

uint64_t sub_246C01D48()
{
  if (qword_2691D6348 != -1) {
    swift_once();
  }
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 88) = v1;
  void *v1 = v0;
  v1[1] = sub_246C01E10;
  return MEMORY[0x270F53930]();
}

uint64_t sub_246C01E10(uint64_t a1)
{
  uint64_t v3 = *v2;
  *(void *)(v3 + 96) = a1;
  swift_task_dealloc();
  if (v1)
  {
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v4 = *(void *)(v3 + 8);
    __asm { BRAA            X1, X16 }
  }
  return MEMORY[0x270FA2498](sub_246C01F6C, 0, 0);
}

uint64_t sub_246C01F6C()
{
  receiver = v0[6].receiver;
  uint64_t v2 = receiver[2];
  if (v2)
  {
    uint64_t v3 = v0[4].receiver;
    Class super_class = v0[2].super_class;
    uint64_t v27 = MEMORY[0x263F8EE78];
    sub_246C2D2F8();
    uint64_t v5 = (void (*)(objc_class *, char *, Class))v3[2];
    v3 += 2;
    uint64_t v6 = (char *)receiver + ((*((unsigned __int8 *)v3 + 64) + 32) & ~(unint64_t)*((unsigned __int8 *)v3 + 64));
    uint64_t v23 = v3[7];
    unint64_t v24 = v5;
    uint64_t v21 = (void (**)(Class, Class))(v3 - 1);
    uint64_t v22 = (void (**)(id, id))((char *)super_class + 8);
    do
    {
      uint64_t v26 = v2;
      Class v8 = v0[4].super_class;
      uint64_t v7 = (objc_class *)v0[5].receiver;
      id v10 = v0[3].receiver;
      Class v9 = v0[3].super_class;
      id v25 = v0[2].receiver;
      v24(v7, v6, v9);
      v24(v8, (char *)v7, v9);
      int64_t v11 = (objc_class *)type metadata accessor for NTKShuffleID();
      unint64_t v12 = objc_allocWithZone(v11);
      *(void *)&v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_people] = sub_246C2BF98();
      v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_pets] = sub_246C2BF78() & 1;
      v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_nature] = sub_246C2BF88() & 1;
      v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_cityscape] = sub_246C2BFA8() & 1;
      sub_246C2BF58();
      uint64_t v13 = sub_246C2BC38();
      uint64_t v15 = v14;
      (*v22)(v10, v25);
      uint64_t v16 = (uint64_t *)&v12[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion12NTKShuffleID_uuidString];
      *uint64_t v16 = v13;
      v16[1] = v15;

      v0[1].receiver = v12;
      v0[1].Class super_class = v11;
      objc_msgSendSuper2(v0 + 1, sel_init);
      uint64_t v17 = *v21;
      (*v21)(v8, v9);
      v17(v7, v9);
      sub_246C2D2D8();
      sub_246C2D308();
      sub_246C2D318();
      sub_246C2D2E8();
      v6 += v23;
      uint64_t v2 = v26 - 1;
    }
    while (v26 != 1);
    uint64_t v18 = v27;
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v18 = MEMORY[0x263F8EE78];
  }
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  char v19 = (uint64_t (*)(uint64_t))v0->super_class;
  return v19(v18);
}

uint64_t sub_246C02224(char *a1, uint64_t a2)
{
  uint64_t v66 = a2;
  uint64_t v3 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v3 - 8);
  uint64_t v62 = (char *)&v57 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D7030);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)&v57 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2BC68();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  int64_t v11 = (char *)&v57 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_246C2BE38();
  uint64_t v63 = *(void *)(v12 - 8);
  uint64_t v64 = v12;
  uint64_t v13 = MEMORY[0x270FA5388](v12);
  uint64_t v15 = (char *)&v57 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  uint64_t v17 = (char *)&v57 - v16;
  uint64_t v18 = sub_246C2BE28();
  uint64_t v67 = a1;
  uint64_t v19 = sub_246C01920(v18, (uint64_t (*)(uint64_t, char *))sub_246C05A1C);
  uint64_t v61 = 0;
  swift_bridgeObjectRelease();
  uint64_t v20 = sub_246C2BDF8();
  uint64_t v21 = sub_246C000FC(v20);
  uint64_t v65 = a1;
  if (!v21)
  {
    uint64_t v62 = v15;
    uint64_t v31 = v17;
    swift_bridgeObjectRelease();
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v32 = sub_246C2C088();
    sub_246B8BE0C(v32, (uint64_t)qword_2691E0180);
    uint64_t v34 = v63;
    uint64_t v33 = v64;
    int64_t v35 = *(void (**)(char *, uint64_t, uint64_t))(v63 + 16);
    v35(v31, (uint64_t)v65, v64);
    char v36 = sub_246C2C068();
    os_log_type_t v37 = sub_246C2CEE8();
    int v38 = v37;
    if (os_log_type_enabled(v36, v37))
    {
      uint64_t v39 = swift_slowAlloc();
      uint64_t v61 = swift_slowAlloc();
      v69[0] = v61;
      *(_DWORD *)uint64_t v39 = 136315394;
      LODWORD(v60) = v38;
      uint64_t v68 = sub_246BA686C(0xD000000000000024, 0x8000000246C40880, v69);
      sub_246C2D1C8();
      *(_WORD *)(v39 + 12) = 2080;
      v35(v62, (uint64_t)v31, v33);
      uint64_t v40 = sub_246C2CCA8();
      uint64_t v68 = sub_246BA686C(v40, v41, v69);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      uint64_t v42 = *(void (**)(char *, uint64_t))(v34 + 8);
      v42(v31, v33);
      _os_log_impl(&dword_246B51000, v36, (os_log_type_t)v60, "%s: No preferredLayout found on storedPhoto [%s]", (uint8_t *)v39, 0x16u);
      uint64_t v43 = v61;
      swift_arrayDestroy();
      MEMORY[0x24C545990](v43, -1, -1);
      MEMORY[0x24C545990](v39, -1, -1);
    }
    else
    {

      uint64_t v42 = *(void (**)(char *, uint64_t))(v34 + 8);
      v42(v31, v33);
    }
    uint64_t v44 = sub_246C2BB98();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v44 - 8) + 8))(v66, v44);
    id v55 = 0;
    v42(v65, v33);
    return (uint64_t)v55;
  }
  uint64_t v22 = v21;
  sub_246C2BDD8();
  uint64_t v23 = sub_246C2BDE8();
  uint64_t v58 = v24;
  uint64_t v59 = v23;
  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  uint64_t v25 = sub_246C2BC18();
  uint64_t v26 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v25 - 8) + 56);
  int v60 = v7;
  v26(v7, 1, 1, v25);
  uint64_t v27 = sub_246C2BB98();
  uint64_t v28 = *(void *)(v27 - 8);
  uint64_t v29 = (uint64_t)v62;
  (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v62, v66, v27);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v28 + 56))(v29, 0, 1, v27);
  if (*(void *)(v19 + 16))
  {
    sub_246B80250(&qword_2691D8410);
    uint64_t v30 = sub_246C2D3F8();
  }
  else
  {
    uint64_t v30 = MEMORY[0x263F8EE80];
  }
  v69[0] = v30;
  uint64_t v45 = v22;
  uint64_t v46 = (void *)swift_bridgeObjectRetain();
  uint64_t v47 = v61;
  sub_246C015A8(v46, 1, v69);
  if (!v47)
  {
    swift_bridgeObjectRelease();
    unint64_t v48 = v69[0];
    uint64_t v49 = v65;
    uint64_t v50 = sub_246C2BE08();
    uint64_t v52 = v51;
    id v53 = objc_allocWithZone((Class)type metadata accessor for ParmesanAsset());
    id v54 = sub_246C17998(v59, v58, (uint64_t)v60, 0, v29, v45, v48, v50, 0.0, 0.0, v52);

    id v55 = v54;
    sub_246C11464();

    (*(void (**)(uint64_t, uint64_t))(v28 + 8))(v66, v27);
    (*(void (**)(char *, uint64_t))(v63 + 8))(v49, v64);
    return (uint64_t)v55;
  }
  uint64_t result = swift_unexpectedError();
  __break(1u);
  return result;
}

NSObject *sub_246C0292C(uint64_t a1)
{
  uint64_t v66 = sub_246C2BE38();
  uint64_t v64 = *(void *)(v66 - 8);
  MEMORY[0x270FA5388](v66);
  uint64_t v65 = (char *)&v53 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_246C2BC68();
  uint64_t v59 = *(void *)(v3 - 8);
  uint64_t v60 = v3;
  MEMORY[0x270FA5388](v3);
  uint64_t v58 = (char *)&v53 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246B80250(&qword_2691D8450);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)&v53 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2BB98();
  uint64_t v9 = *(void *)(v8 - 8);
  uint64_t v10 = MEMORY[0x270FA5388](v8);
  uint64_t v61 = (char *)&v53 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = MEMORY[0x270FA5388](v10);
  uint64_t v62 = (char *)&v53 - v13;
  MEMORY[0x270FA5388](v12);
  uint64_t v15 = (char *)&v53 - v14;
  uint64_t v57 = sub_246B80250(&qword_2691D7038);
  uint64_t v16 = MEMORY[0x270FA5388](v57);
  uint64_t v56 = (uint64_t)&v53 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = MEMORY[0x270FA5388](v16);
  uint64_t v63 = (uint64_t)&v53 - v19;
  uint64_t v20 = MEMORY[0x270FA5388](v18);
  uint64_t v22 = (char *)&v53 - v21;
  MEMORY[0x270FA5388](v20);
  uint64_t v24 = (char *)&v53 - v23;
  uint64_t v25 = sub_246C2BDF8();
  uint64_t v68 = a1;
  uint64_t v26 = sub_246C2BE28();
  uint64_t v27 = *(void *)(v26 + 16);
  uint64_t v67 = v8;
  if (v27 && (uint64_t v28 = sub_246C161BC(v25), (v29 & 1) != 0))
  {
    uint64_t v30 = v28;
    uint64_t v54 = *(void *)(v26 + 56);
    uint64_t v31 = sub_246C2BF08();
    uint64_t v32 = *(void *)(v31 - 8);
    id v55 = v24;
    uint64_t v33 = v32;
    (*(void (**)(char *, uint64_t, uint64_t))(v32 + 16))(v7, v54 + *(void *)(v32 + 72) * v30, v31);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v33 + 56))(v7, 0, 1, v31);
    uint64_t v24 = v55;
  }
  else
  {
    uint64_t v31 = sub_246C2BF08();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v31 - 8) + 56))(v7, 1, 1, v31);
  }
  swift_bridgeObjectRelease();
  sub_246C2BF08();
  uint64_t v34 = *(void *)(v31 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v34 + 48))(v7, 1, v31) == 1)
  {
    sub_246B8EA34((uint64_t)v7, &qword_2691D8450);
    uint64_t v35 = 1;
    uint64_t v36 = v67;
  }
  else
  {
    os_log_type_t v37 = v58;
    sub_246C2BDD8();
    sub_246C2BEF8();
    (*(void (**)(char *, uint64_t))(v59 + 8))(v37, v60);
    (*(void (**)(char *, uint64_t))(v34 + 8))(v7, v31);
    sub_246C2BB08();
    uint64_t v36 = v67;
    (*(void (**)(char *, uint64_t))(v9 + 8))(v15, v67);
    uint64_t v35 = 0;
  }
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v9 + 56))(v24, v35, 1, v36);
  sub_246BAB004((uint64_t)v24, (uint64_t)v22);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v9 + 48))(v22, 1, v36) == 1)
  {
    sub_246B8EA34((uint64_t)v22, &qword_2691D7038);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v38 = sub_246C2C088();
    sub_246B8BE0C(v38, (uint64_t)qword_2691E0180);
    uint64_t v39 = v63;
    sub_246BAB004((uint64_t)v24, v63);
    uint64_t v40 = sub_246C2C068();
    os_log_type_t v41 = sub_246C2CEE8();
    if (os_log_type_enabled(v40, v41))
    {
      uint64_t v42 = v24;
      uint64_t v43 = (uint8_t *)swift_slowAlloc();
      uint64_t v44 = swift_slowAlloc();
      uint64_t v70 = v44;
      *(_DWORD *)uint64_t v43 = 136315138;
      sub_246BAB004(v39, v56);
      uint64_t v45 = sub_246C2CCA8();
      uint64_t v69 = sub_246BA686C(v45, v46, &v70);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      sub_246B8EA34(v39, &qword_2691D7038);
      _os_log_impl(&dword_246B51000, v40, v41, "processStoredPhoto: daemon provided StoredPhoto is not on disk: [%s]", v43, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v44, -1, -1);
      uint64_t v47 = v43;
      uint64_t v24 = v42;
      MEMORY[0x24C545990](v47, -1, -1);
    }
    else
    {
      sub_246B8EA34(v39, &qword_2691D7038);
    }

    sub_246C05A24();
    swift_allocError();
    *uint64_t v51 = 4;
    swift_willThrow();
    sub_246B8EA34((uint64_t)v24, &qword_2691D7038);
  }
  else
  {
    unint64_t v48 = v62;
    (*(void (**)(char *, char *, uint64_t))(v9 + 32))(v62, v22, v36);
    uint64_t v49 = v65;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 16))(v65, v68, v66);
    uint64_t v50 = (uint64_t)v61;
    (*(void (**)(char *, char *, uint64_t))(v9 + 16))(v61, v48, v36);
    uint64_t v40 = sub_246C02224(v49, v50);
    (*(void (**)(char *, uint64_t))(v9 + 8))(v48, v36);
    sub_246B8EA34((uint64_t)v24, &qword_2691D7038);
  }
  return v40;
}

uint64_t sub_246C03148(uint64_t a1)
{
  v1[5] = a1;
  sub_246B80250(&qword_2691D7F58);
  v1[6] = swift_task_alloc();
  uint64_t v2 = sub_246C2BE38();
  v1[7] = v2;
  v1[8] = *(void *)(v2 - 8);
  v1[9] = swift_task_alloc();
  v1[10] = swift_task_alloc();
  v1[11] = swift_task_alloc();
  uint64_t v3 = sub_246B80250(&qword_2691D84C0);
  v1[12] = v3;
  v1[13] = *(void *)(v3 - 8);
  v1[14] = swift_task_alloc();
  uint64_t v4 = sub_246B80250(&qword_2691D84C8);
  v1[15] = v4;
  v1[16] = *(void *)(v4 - 8);
  v1[17] = swift_task_alloc();
  v1[18] = swift_task_alloc();
  sub_246B80250(&qword_2691D7060);
  v1[19] = swift_task_alloc();
  uint64_t v5 = sub_246C2BC68();
  v1[20] = v5;
  v1[21] = *(void *)(v5 - 8);
  v1[22] = swift_task_alloc();
  v1[23] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246C033C0, 0, 0);
}

uint64_t sub_246C033C0()
{
  uint64_t v43 = v0;
  uint64_t v1 = (void **)(v0 + 5);
  uint64_t v2 = v0[20];
  uint64_t v3 = v0[21];
  uint64_t v4 = v0[19];
  swift_bridgeObjectRetain();
  sub_246C2BC28();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v3 + 48))(v4, 1, v2) == 1)
  {
    sub_246B8EA34(v0[19], &qword_2691D7060);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v5 = *v1;
    uint64_t v6 = sub_246C2C088();
    sub_246B8BE0C(v6, (uint64_t)qword_2691E0180);
    id v7 = v5;
    uint64_t v8 = sub_246C2C068();
    os_log_type_t v9 = sub_246C2CEE8();
    BOOL v10 = os_log_type_enabled(v8, v9);
    uint64_t v11 = *v1;
    if (v10)
    {
      uint64_t v12 = (uint8_t *)swift_slowAlloc();
      uint64_t v13 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v12 = 138412290;
      v0[2] = v11;
      id v14 = v11;
      sub_246C2D1C8();
      *uint64_t v13 = v11;

      _os_log_impl(&dword_246B51000, v8, v9, "fetchAssetsInGalleryShuffle: bad uuid! %@", v12, 0xCu);
      sub_246B80250(&qword_2691D6FF0);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v13, -1, -1);
      MEMORY[0x24C545990](v12, -1, -1);
    }
    else
    {
    }
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v30 = (uint64_t (*)(uint64_t))v0[1];
    uint64_t v31 = MEMORY[0x263F8EE78];
    return v30(v31);
  }
  else
  {
    (*(void (**)(void, void, void))(v0[21] + 32))(v0[23], v0[19], v0[20]);
    if (qword_2691D6310 != -1) {
      swift_once();
    }
    uint64_t v16 = v0[22];
    uint64_t v15 = v0[23];
    uint64_t v17 = v0[20];
    uint64_t v18 = v0[21];
    uint64_t v19 = sub_246C2C088();
    v0[24] = sub_246B8BE0C(v19, (uint64_t)qword_2691E0180);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v18 + 16))(v16, v15, v17);
    uint64_t v20 = sub_246C2C068();
    os_log_type_t v21 = sub_246C2CED8();
    BOOL v22 = os_log_type_enabled(v20, v21);
    uint64_t v24 = v0[21];
    uint64_t v23 = v0[22];
    uint64_t v25 = v0[20];
    if (v22)
    {
      uint64_t v26 = (uint8_t *)swift_slowAlloc();
      uint64_t v41 = swift_slowAlloc();
      uint64_t v42 = v41;
      *(_DWORD *)uint64_t v26 = 136315138;
      sub_246C06D98(&qword_2691D8448, MEMORY[0x263F07508]);
      uint64_t v27 = sub_246C2D528();
      v0[4] = sub_246BA686C(v27, v28, &v42);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      char v29 = *(void (**)(uint64_t, uint64_t))(v24 + 8);
      v29(v23, v25);
      _os_log_impl(&dword_246B51000, v20, v21, "fetchAssetsInGalleryShuffle: fetching assets for %s", v26, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x24C545990](v41, -1, -1);
      MEMORY[0x24C545990](v26, -1, -1);
    }
    else
    {
      char v29 = *(void (**)(uint64_t, uint64_t))(v24 + 8);
      v29(v0[22], v0[20]);
    }

    v0[25] = v29;
    if (qword_2691D6348 != -1) {
      swift_once();
    }
    uint64_t v34 = v0[17];
    uint64_t v33 = v0[18];
    uint64_t v35 = v0[15];
    uint64_t v36 = v0[16];
    sub_246C2BD58();
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v36 + 16))(v34, v33, v35);
    v0[26] = swift_getOpaqueTypeConformance2();
    sub_246C2CE48();
    v0[27] = MEMORY[0x263F8EE78];
    uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
    uint64_t v38 = (void *)swift_task_alloc();
    v0[28] = v38;
    *uint64_t v38 = v0;
    v38[1] = sub_246C039DC;
    uint64_t v39 = v0[12];
    uint64_t v40 = v0[6];
    return MEMORY[0x270FA1E80](v40, v39, AssociatedConformanceWitness);
  }
}

uint64_t sub_246C039DC()
{
  uint64_t v2 = *(void **)v1;
  *(void *)(*(void *)v1 + 232) = v0;
  swift_task_dealloc();
  if (v0)
  {
    uint64_t v4 = v2[13];
    uint64_t v3 = v2[14];
    uint64_t v5 = v2[12];
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v3, v5);
    uint64_t v6 = sub_246C041D4;
  }
  else
  {
    uint64_t v6 = sub_246C03B20;
  }
  return MEMORY[0x270FA2498](v6, 0, 0);
}

uint64_t sub_246C03B20()
{
  uint64_t v2 = v0[7];
  uint64_t v1 = v0[8];
  uint64_t v3 = v0[6];
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v1 + 48))(v3, 1, v2) == 1)
  {
    uint64_t v4 = v0[18];
    uint64_t v5 = v0[15];
    uint64_t v6 = v0[16];
    (*(void (**)(void, void))(v0[13] + 8))(v0[14], v0[12]);
    sub_246B8EA34(v3, &qword_2691D7F58);
    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v4, v5);
    swift_bridgeObjectRetain();
    id v7 = sub_246C2C068();
    os_log_type_t v8 = sub_246C2CED8();
    BOOL v9 = os_log_type_enabled(v7, v8);
    uint64_t v10 = v0[27];
    if (v9)
    {
      uint64_t v11 = (uint8_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v11 = 134217984;
      v0[3] = *(void *)(v10 + 16);
      sub_246C2D1C8();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_246B51000, v7, v8, "fetchAssetsInGalleryShuffle: daemon returned %ld assets", v11, 0xCu);
      MEMORY[0x24C545990](v11, -1, -1);
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    uint64_t v27 = v0[27];
    uint64_t v28 = MEMORY[0x263F8EE78];
    uint64_t v52 = MEMORY[0x263F8EE78];
    uint64_t v29 = *(void *)(v27 + 16);
    if (v29)
    {
      uint64_t v30 = v0[7];
      uint64_t v31 = v0[8];
      uint64_t v33 = *(void (**)(uint64_t, uint64_t, void))(v31 + 16);
      v31 += 16;
      uint64_t v32 = v33;
      unint64_t v34 = (*(unsigned __int8 *)(v31 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v31 + 64);
      uint64_t v51 = *(void *)(v31 + 56);
      uint64_t v35 = v0[29];
      uint64_t v36 = v0[9];
      swift_bridgeObjectRetain();
      v33(v36, v27 + v34, v30);
      os_log_type_t v37 = sub_246C0292C(v36);
      if (v35)
      {
        uint64_t v38 = (void (*)(uint64_t, uint64_t))v0[25];
        uint64_t v39 = v0[23];
        uint64_t v40 = v0[20];
        (*(void (**)(void, void))(v0[8] + 8))(v0[9], v0[7]);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        v38(v39, v40);
        swift_bridgeObjectRelease();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        uint64_t v41 = (uint64_t (*)(void))v0[1];
        return v41();
      }
      uint64_t v42 = v37;
      uint64_t v43 = (*(uint64_t (**)(void, void))(v0[8] + 8))(v0[9], v0[7]);
      if (v42)
      {
        MEMORY[0x24C543DC0](v43);
        if (*(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_246C2CD68();
        }
        sub_246C2CD88();
        sub_246C2CD58();
      }
      uint64_t v44 = v29 - 1;
      if (v29 != 1)
      {
        uint64_t v46 = v27 + v51 + v34;
        do
        {
          uint64_t v47 = v0[9];
          v32(v47, v46, v0[7]);
          unint64_t v48 = sub_246C0292C(v47);
          uint64_t v49 = (*(uint64_t (**)(void, void))(v0[8] + 8))(v0[9], v0[7]);
          if (v48)
          {
            MEMORY[0x24C543DC0](v49);
            if (*(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
              sub_246C2CD68();
            }
            sub_246C2CD88();
            sub_246C2CD58();
          }
          v46 += v51;
          --v44;
        }
        while (v44);
      }
      swift_bridgeObjectRelease();
      uint64_t v28 = v52;
    }
    ((void (*)(void, void))v0[25])(v0[23], v0[20]);
    swift_bridgeObjectRelease();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    uint64_t v45 = (uint64_t (*)(uint64_t))v0[1];
    return v45(v28);
  }
  else
  {
    uint64_t v13 = v0[10];
    uint64_t v12 = v0[11];
    id v14 = *(void (**)(uint64_t, uint64_t, uint64_t))(v1 + 32);
    v14(v12, v3, v2);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v1 + 16))(v13, v12, v2);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v16 = v0[27];
    if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
      unint64_t v16 = sub_246BA6204(0, *(void *)(v16 + 16) + 1, 1, v0[27]);
    }
    unint64_t v18 = *(void *)(v16 + 16);
    unint64_t v17 = *(void *)(v16 + 24);
    if (v18 >= v17 >> 1) {
      unint64_t v16 = sub_246BA6204(v17 > 1, v18 + 1, 1, v16);
    }
    uint64_t v19 = v0[10];
    uint64_t v20 = v0[11];
    uint64_t v21 = v0[7];
    uint64_t v22 = v0[8];
    *(void *)(v16 + 16) = v18 + 1;
    v14(v16+ ((*(unsigned __int8 *)(v22 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v22 + 80))+ *(void *)(v22 + 72) * v18, v19, v21);
    (*(void (**)(uint64_t, uint64_t))(v22 + 8))(v20, v21);
    v0[27] = v16;
    uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
    uint64_t v24 = (void *)swift_task_alloc();
    v0[28] = v24;
    void *v24 = v0;
    v24[1] = sub_246C039DC;
    uint64_t v25 = v0[12];
    uint64_t v26 = v0[6];
    return MEMORY[0x270FA1E80](v26, v25, AssociatedConformanceWitness);
  }
}

uint64_t sub_246C041D4()
{
  uint64_t v1 = (void (*)(uint64_t, uint64_t))v0[25];
  uint64_t v2 = v0[23];
  uint64_t v3 = v0[20];
  (*(void (**)(void, void))(v0[16] + 8))(v0[18], v0[15]);
  v1(v2, v3);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v4 = (uint64_t (*)(void))v0[1];
  return v4();
}

uint64_t sub_246C042FC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v3[11] = a2;
  v3[12] = a3;
  v3[10] = a1;
  sub_246B80250(&qword_2691D7F58);
  v3[13] = swift_task_alloc();
  uint64_t v4 = sub_246C2BE38();
  v3[14] = v4;
  v3[15] = *(void *)(v4 - 8);
  v3[16] = swift_task_alloc();
  v3[17] = swift_task_alloc();
  uint64_t v5 = sub_246B80250(&qword_2691D8400);
  v3[18] = v5;
  v3[19] = *(void *)(v5 - 8);
  v3[20] = swift_task_alloc();
  uint64_t v6 = sub_246C2BC68();
  v3[21] = v6;
  v3[22] = *(void *)(v6 - 8);
  v3[23] = swift_task_alloc();
  uint64_t v7 = sub_246B80250(&qword_2691D8408);
  v3[24] = v7;
  v3[25] = *(void *)(v7 - 8);
  v3[26] = swift_task_alloc();
  v3[27] = swift_task_alloc();
  uint64_t v8 = sub_246C2BB98();
  v3[28] = v8;
  v3[29] = *(void *)(v8 - 8);
  v3[30] = swift_task_alloc();
  v3[31] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246C045C4, 0, 0);
}

uint64_t sub_246C045C4()
{
  sub_246C2BAA8();
  id v1 = objc_msgSend(self, sel_defaultManager);
  uint64_t v2 = (void *)sub_246C2BAC8();
  v0[5] = 0;
  unsigned int v3 = objc_msgSend(v1, sel_createDirectoryAtURL_withIntermediateDirectories_attributes_error_, v2, 1, 0, v0 + 5);

  uint64_t v4 = (void *)v0[5];
  if (v3)
  {
    id v5 = v4;
  }
  else
  {
    id v6 = v4;
    uint64_t v7 = (void *)sub_246C2BA48();

    swift_willThrow();
  }
  if (qword_2691D6348 != -1) {
    swift_once();
  }
  uint64_t v8 = v0[10];
  int64_t v9 = *(void *)(v8 + 16);
  if (v9)
  {
    uint64_t v10 = v0[22];
    uint64_t v26 = MEMORY[0x263F8EE78];
    sub_246C00B20(0, v9, 0);
    uint64_t v11 = v8 + 40;
    do
    {
      swift_bridgeObjectRetain();
      sub_246C2BE18();
      swift_bridgeObjectRelease();
      unint64_t v13 = *(void *)(v26 + 16);
      unint64_t v12 = *(void *)(v26 + 24);
      if (v13 >= v12 >> 1) {
        sub_246C00B20(v12 > 1, v13 + 1, 1);
      }
      uint64_t v14 = v0[23];
      uint64_t v15 = v0[21];
      *(void *)(v26 + 16) = v13 + 1;
      (*(void (**)(unint64_t, uint64_t, uint64_t))(v10 + 32))(v26+ ((*(unsigned __int8 *)(v10 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v10 + 80))+ *(void *)(v10 + 72) * v13, v14, v15);
      v11 += 16;
      --v9;
    }
    while (v9);
    uint64_t v16 = MEMORY[0x263F8EE78];
  }
  else
  {
    uint64_t v16 = MEMORY[0x263F8EE78];
  }
  uint64_t v18 = v0[26];
  uint64_t v17 = v0[27];
  uint64_t v19 = v0[24];
  uint64_t v20 = v0[25];
  sub_246C2BD98();
  swift_bridgeObjectRelease();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v20 + 16))(v18, v17, v19);
  v0[32] = swift_getOpaqueTypeConformance2();
  sub_246C2CE48();
  v0[33] = v16;
  uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
  uint64_t v22 = (void *)swift_task_alloc();
  v0[34] = v22;
  *uint64_t v22 = v0;
  v22[1] = sub_246C04D08;
  uint64_t v23 = v0[18];
  uint64_t v24 = v0[13];
  return MEMORY[0x270FA1E80](v24, v23, AssociatedConformanceWitness);
}

uint64_t sub_246C04D08()
{
  uint64_t v2 = *(void **)v1;
  *(void *)(*(void *)v1 + 280) = v0;
  swift_task_dealloc();
  if (v0)
  {
    uint64_t v4 = v2[19];
    uint64_t v3 = v2[20];
    uint64_t v5 = v2[18];
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v3, v5);
    id v6 = sub_246C05598;
  }
  else
  {
    id v6 = sub_246C04E78;
  }
  return MEMORY[0x270FA2498](v6, 0, 0);
}

uint64_t sub_246C04E78()
{
  uint64_t v62 = v0;
  v61[1] = *MEMORY[0x263EF8340];
  uint64_t v1 = v0[14];
  uint64_t v2 = v0[15];
  uint64_t v3 = v0[13];
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v2 + 48))(v3, 1, v1) == 1)
  {
    uint64_t v4 = (void *)v0[35];
    uint64_t v5 = v0[33];
    uint64_t v6 = v0[31];
    uint64_t v7 = v0[27];
    uint64_t v8 = v0[24];
    uint64_t v9 = v0[25];
    (*(void (**)(void, void))(v0[19] + 8))(v0[20], v0[18]);
    sub_246B8EA34(v3, &qword_2691D7F58);
    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v7, v8);
    uint64_t v10 = swift_task_alloc();
    *(void *)(v10 + 16) = v6;
    uint64_t v11 = sub_246BFB038((void (*)(uint64_t, uint64_t *))sub_246C059E0, v10, v5);
    if (v4)
    {
      swift_bridgeObjectRelease();
      swift_task_dealloc();
      if (qword_2691D6300 != -1) {
        swift_once();
      }
      uint64_t v13 = v0[30];
      uint64_t v12 = v0[31];
      uint64_t v14 = v0[28];
      uint64_t v15 = v0[29];
      uint64_t v16 = sub_246C2C088();
      sub_246B8BE0C(v16, (uint64_t)qword_2691E0150);
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 16))(v13, v12, v14);
      swift_bridgeObjectRetain();
      id v17 = v4;
      swift_bridgeObjectRetain();
      id v18 = v4;
      uint64_t v19 = sub_246C2C068();
      os_log_type_t v20 = sub_246C2CEE8();
      BOOL v21 = os_log_type_enabled(v19, v20);
      uint64_t v22 = v0[29];
      uint64_t v23 = v0[30];
      uint64_t v24 = v0[28];
      if (v21)
      {
        os_log_type_t type = v20;
        uint64_t v25 = swift_slowAlloc();
        uint64_t v59 = swift_slowAlloc();
        v61[0] = v59;
        *(_DWORD *)uint64_t v25 = 136315650;
        uint64_t v26 = swift_bridgeObjectRetain();
        uint64_t v27 = MEMORY[0x24C543DF0](v26, MEMORY[0x263F8D310]);
        uint64_t v57 = v24;
        unint64_t v29 = v28;
        swift_bridgeObjectRelease();
        v0[6] = sub_246BA686C(v27, v29, v61);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        *(_WORD *)(v25 + 12) = 2080;
        uint64_t v30 = sub_246C2BB38();
        v0[7] = sub_246BA686C(v30, v31, v61);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();
        uint64_t v32 = *(void (**)(uint64_t, uint64_t))(v22 + 8);
        v32(v23, v57);
        *(_WORD *)(v25 + 22) = 2080;
        swift_getErrorValue();
        uint64_t v33 = sub_246C2D5F8();
        v0[9] = sub_246BA686C(v33, v34, v61);
        sub_246C2D1C8();
        swift_bridgeObjectRelease();

        _os_log_impl(&dword_246B51000, v19, type, "Failed to process images with identifiers = %s to destination = %s: %s", (uint8_t *)v25, 0x20u);
        swift_arrayDestroy();
        MEMORY[0x24C545990](v59, -1, -1);
        MEMORY[0x24C545990](v25, -1, -1);

        uint64_t v35 = v32;
      }
      else
      {

        swift_bridgeObjectRelease_n();
        uint64_t v54 = *(void (**)(uint64_t, uint64_t))(v22 + 8);
        v54(v23, v24);

        uint64_t v35 = v54;
      }
      uint64_t v60 = 0;
    }
    else
    {
      uint64_t v51 = v0[31];
      uint64_t v52 = v0[29];
      swift_bridgeObjectRelease();
      swift_task_dealloc();
      uint64_t v53 = swift_task_alloc();
      *(void *)(v53 + 16) = v51;
      uint64_t v60 = sub_246BFB3EC((void *(*)(uint64_t *__return_ptr, uint64_t))sub_246C05A00, v53, v11);
      swift_bridgeObjectRelease();
      swift_task_dealloc();
      uint64_t v35 = *(void (**)(uint64_t, uint64_t))(v52 + 8);
    }
    v35(v0[31], v0[28]);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    id v55 = (uint64_t (*)(uint64_t))v0[1];
    return v55(v60);
  }
  else
  {
    uint64_t v37 = v0[16];
    uint64_t v36 = v0[17];
    uint64_t v38 = *(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 32);
    v38(v36, v3, v1);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 16))(v37, v36, v1);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v40 = v0[33];
    if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
      unint64_t v40 = sub_246BA6204(0, *(void *)(v40 + 16) + 1, 1, v0[33]);
    }
    unint64_t v42 = *(void *)(v40 + 16);
    unint64_t v41 = *(void *)(v40 + 24);
    if (v42 >= v41 >> 1) {
      unint64_t v40 = sub_246BA6204(v41 > 1, v42 + 1, 1, v40);
    }
    uint64_t v43 = v0[16];
    uint64_t v44 = v0[17];
    uint64_t v45 = v0[14];
    uint64_t v46 = v0[15];
    *(void *)(v40 + 16) = v42 + 1;
    v38(v40+ ((*(unsigned __int8 *)(v46 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v46 + 80))+ *(void *)(v46 + 72) * v42, v43, v45);
    (*(void (**)(uint64_t, uint64_t))(v46 + 8))(v44, v45);
    v0[33] = v40;
    uint64_t AssociatedConformanceWitness = swift_getAssociatedConformanceWitness();
    unint64_t v48 = (void *)swift_task_alloc();
    v0[34] = v48;
    *unint64_t v48 = v0;
    v48[1] = sub_246C04D08;
    uint64_t v49 = v0[18];
    uint64_t v50 = v0[13];
    return MEMORY[0x270FA1E80](v50, v49, AssociatedConformanceWitness);
  }
}

uint64_t sub_246C05598()
{
  uint64_t v32 = v0;
  v31[1] = *MEMORY[0x263EF8340];
  (*(void (**)(void, void))(v0[25] + 8))(v0[27], v0[24]);
  uint64_t v1 = (void *)v0[35];
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v3 = v0[30];
  uint64_t v2 = v0[31];
  uint64_t v4 = v0[28];
  uint64_t v5 = v0[29];
  uint64_t v6 = sub_246C2C088();
  sub_246B8BE0C(v6, (uint64_t)qword_2691E0150);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v5 + 16))(v3, v2, v4);
  swift_bridgeObjectRetain();
  id v7 = v1;
  swift_bridgeObjectRetain();
  id v8 = v1;
  uint64_t v9 = sub_246C2C068();
  os_log_type_t v10 = sub_246C2CEE8();
  BOOL v11 = os_log_type_enabled(v9, v10);
  uint64_t v13 = v0[29];
  uint64_t v12 = v0[30];
  uint64_t v14 = v0[28];
  if (v11)
  {
    os_log_type_t type = v10;
    uint64_t v15 = swift_slowAlloc();
    uint64_t v28 = swift_slowAlloc();
    v31[0] = v28;
    *(_DWORD *)uint64_t v15 = 136315650;
    uint64_t v16 = swift_bridgeObjectRetain();
    uint64_t v17 = MEMORY[0x24C543DF0](v16, MEMORY[0x263F8D310]);
    uint64_t v29 = v14;
    unint64_t v19 = v18;
    swift_bridgeObjectRelease();
    v0[6] = sub_246BA686C(v17, v19, v31);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v15 + 12) = 2080;
    uint64_t v20 = sub_246C2BB38();
    v0[7] = sub_246BA686C(v20, v21, v31);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();
    uint64_t v22 = v29;
    uint64_t v30 = *(void (**)(uint64_t, uint64_t))(v13 + 8);
    v30(v12, v22);
    *(_WORD *)(v15 + 22) = 2080;
    swift_getErrorValue();
    uint64_t v23 = sub_246C2D5F8();
    v0[9] = sub_246BA686C(v23, v24, v31);
    sub_246C2D1C8();
    swift_bridgeObjectRelease();

    _os_log_impl(&dword_246B51000, v9, type, "Failed to process images with identifiers = %s to destination = %s: %s", (uint8_t *)v15, 0x20u);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v28, -1, -1);
    MEMORY[0x24C545990](v15, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease_n();
    uint64_t v30 = *(void (**)(uint64_t, uint64_t))(v13 + 8);
    v30(v12, v14);
  }
  v30(v0[31], v0[28]);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v25 = (uint64_t (*)(void))v0[1];
  return v25(0);
}

uint64_t sub_246C059E0@<X0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  return sub_246BFB708(a1, a2, a3);
}

uint64_t sub_246C05A00@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_246BFB7F4(a1, *(void *)(v2 + 16), a2);
}

objc_super *sub_246C05A1C(uint64_t a1, uint64_t a2)
{
  return sub_246BFFA68(a1, a2, *(char **)(v2 + 16));
}

unint64_t sub_246C05A24()
{
  unint64_t result = qword_2691D8428;
  if (!qword_2691D8428)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, &qword_2691D8428);
  }
  return result;
}

uint64_t sub_246C05A7C(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_246C2BC68() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  unint64_t v5 = (*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v6 = (v5 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v7 = v1[3];
  uint64_t v15 = v1[2];
  uint64_t v8 = v1[4];
  uint64_t v9 = (uint64_t)v1 + v4;
  uint64_t v10 = *(void *)((char *)v1 + v5);
  uint64_t v11 = *(void *)((char *)v1 + v6);
  uint64_t v12 = *(void *)((char *)v1 + ((v6 + 15) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v13 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v13;
  *uint64_t v13 = v2;
  v13[1] = sub_246B8F220;
  return sub_246BFDD74(a1, v15, v7, v8, v9, v10, v11, v12);
}

uint64_t sub_246C05C00()
{
  return sub_246C05ECC() & 1;
}

uint64_t sub_246C05C20()
{
  uint64_t v1 = sub_246C2BC68();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 40) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = (*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  swift_unknownObjectRelease();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  swift_release();
  swift_release();

  return MEMORY[0x270FA0238](v0, ((((((v6 + 15) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 16, v5);
}

uint64_t sub_246C05D48(uint64_t a1)
{
  uint64_t v3 = *(void *)(sub_246C2BC68() - 8);
  unint64_t v4 = (*(unsigned __int8 *)(v3 + 80) + 40) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  unint64_t v5 = (*(void *)(v3 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8;
  unint64_t v6 = (v5 + 15) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v7 = v1[3];
  uint64_t v15 = v1[2];
  uint64_t v8 = v1[4];
  uint64_t v9 = (uint64_t)v1 + v4;
  uint64_t v10 = *(void *)((char *)v1 + v5);
  uint64_t v11 = *(void *)((char *)v1 + v6);
  uint64_t v12 = *(void *)((char *)v1 + ((v6 + 15) & 0xFFFFFFFFFFFFFFF8));
  uint64_t v13 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v13;
  *uint64_t v13 = v2;
  v13[1] = sub_246B803A8;
  return sub_246BFC2CC(a1, v15, v7, v8, v9, v10, v11, v12);
}

uint64_t sub_246C05ECC()
{
  return sub_246C2CBF8() & 1;
}

uint64_t sub_246C05F60()
{
  uint64_t v2 = *(void **)(v0 + 16);
  uint64_t v3 = *(void **)(v0 + 24);
  unint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v4;
  *unint64_t v4 = v1;
  v4[1] = sub_246B8F220;
  unint64_t v5 = (uint64_t (*)(void *, void *))((char *)&dword_2691D8478 + dword_2691D8478);
  return v5(v2, v3);
}

uint64_t sub_246C06018()
{
  uint64_t v2 = v0[2];
  uint64_t v3 = v0[3];
  unint64_t v4 = (int *)v0[4];
  unint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v5;
  void *v5 = v1;
  v5[1] = sub_246B8F220;
  unint64_t v6 = (uint64_t (*)(uint64_t, uint64_t, int *))((char *)&dword_2691D8488 + dword_2691D8488);
  return v6(v2, v3, v4);
}

uint64_t sub_246C060DC(uint64_t a1)
{
  uint64_t v4 = v1[2];
  uint64_t v5 = v1[3];
  unint64_t v6 = (int *)v1[4];
  uint64_t v7 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v7;
  *uint64_t v7 = v2;
  v7[1] = sub_246B8F220;
  uint64_t v8 = (uint64_t (*)(uint64_t, uint64_t, uint64_t, int *))((char *)&dword_2691D8498 + dword_2691D8498);
  return v8(a1, v4, v5, v6);
}

uint64_t sub_246C061A8()
{
  swift_release();

  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246C061E0(uint64_t a1)
{
  uint64_t v4 = *(int **)(v1 + 16);
  uint64_t v5 = (void *)swift_task_alloc();
  *(void *)(v2 + 16) = v5;
  void *v5 = v2;
  v5[1] = sub_246B803A8;
  unint64_t v6 = (uint64_t (*)(uint64_t, int *))((char *)&dword_2691D84A8 + dword_2691D84A8);
  return v6(a1, v4);
}

uint64_t sub_246C06298()
{
  _Block_release(*(const void **)(v0 + 16));

  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_246C062D0()
{
  uint64_t v2 = *(const void **)(v0 + 16);
  uint64_t v3 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v3;
  void *v3 = v1;
  v3[1] = sub_246B8F220;
  uint64_t v4 = (uint64_t (*)(const void *))((char *)&dword_2691D84D0 + dword_2691D84D0);
  return v4(v2);
}

uint64_t sub_246C06384()
{
  _Block_release(*(const void **)(v0 + 16));

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246C063BC(void *a1, uint64_t a2)
{
  sub_246BFC1E0(a1, a2, *(void *)(v2 + 16));
}

uint64_t sub_246C063C4()
{
  return (*(uint64_t (**)(void))(*(void *)(v0 + 16) + 16))();
}

uint64_t sub_246C063D8()
{
  _Block_release(*(const void **)(v0 + 24));

  return MEMORY[0x270FA0238](v0, 40, 7);
}

uint64_t sub_246C06418()
{
  uint64_t v2 = *(void *)(v0 + 16);
  uint64_t v3 = *(void **)(v0 + 24);
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v4;
  *uint64_t v4 = v1;
  v4[1] = sub_246B8F220;
  uint64_t v5 = (uint64_t (*)(int, void *))((char *)&dword_2691D84F8 + dword_2691D84F8);
  return v5(v2, v3);
}

unint64_t sub_246C064D4(unint64_t result)
{
  if (result >= 6) {
    return 6;
  }
  return result;
}

uint64_t sub_246C064E4(uint64_t a1, uint64_t a2)
{
  v2[3] = a1;
  v2[4] = a2;
  uint64_t v3 = sub_246C2BC68();
  v2[5] = v3;
  v2[6] = *(void *)(v3 - 8);
  v2[7] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_246C065A4, 0, 0);
}

uint64_t sub_246C065A4()
{
  if (qword_2691D6348 != -1) {
    swift_once();
  }
  sub_246C2BE18();
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 64) = v1;
  void *v1 = v0;
  v1[1] = sub_246C06880;
  uint64_t v2 = *(void *)(v0 + 56);
  return MEMORY[0x270F53928](v2);
}

uint64_t sub_246C06880()
{
  uint64_t v2 = (void *)*v1;
  uint64_t v3 = (void *)*v1;
  v2[9] = v0;
  swift_task_dealloc();
  (*(void (**)(void, void))(v2[6] + 8))(v2[7], v2[5]);
  if (!v0)
  {
    swift_task_dealloc();
    uint64_t v4 = v3[1];
    __asm { BRAA            X3, X16 }
  }
  return MEMORY[0x270FA2498](sub_246C06A34, 0, 0);
}

uint64_t sub_246C06A34()
{
  uint64_t v15 = v0;
  uint64_t v1 = (void *)v0[9];
  if (qword_2691D6300 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_246C2C088();
  sub_246B8BE0C(v2, (uint64_t)qword_2691E0150);
  swift_bridgeObjectRetain_n();
  uint64_t v3 = sub_246C2C068();
  os_log_type_t v4 = sub_246C2CEE8();
  BOOL v5 = os_log_type_enabled(v3, v4);
  unint64_t v6 = v0[4];
  if (v5)
  {
    uint64_t v7 = v0[3];
    uint64_t v13 = v1;
    uint64_t v8 = (uint8_t *)swift_slowAlloc();
    uint64_t v9 = swift_slowAlloc();
    uint64_t v14 = v9;
    *(_DWORD *)uint64_t v8 = 136315138;
    swift_bridgeObjectRetain();
    v0[2] = sub_246BA686C(v7, v6, &v14);
    sub_246C2D1C8();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_246B51000, v3, v4, "Failed to retrieve mask for identifier %s", v8, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x24C545990](v9, -1, -1);
    MEMORY[0x24C545990](v8, -1, -1);
    uint64_t v10 = v13;
  }
  else
  {
    swift_bridgeObjectRelease_n();
    uint64_t v10 = v1;
  }

  swift_task_dealloc();
  uint64_t v11 = (uint64_t (*)(void, unint64_t))v0[1];
  return v11(0, 0xF000000000000000);
}

uint64_t sub_246C06C48()
{
  _Block_release(*(const void **)(v0 + 32));

  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_246C06C90()
{
  uint64_t v2 = v0[2];
  uint64_t v3 = v0[3];
  os_log_type_t v4 = (void *)v0[4];
  BOOL v5 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v5;
  void *v5 = v1;
  v5[1] = sub_246B8F220;
  unint64_t v6 = (uint64_t (*)(int, int, void *))((char *)&dword_2691D8520 + dword_2691D8520);
  return v6(v2, v3, v4);
}

uint64_t sub_246C06D58()
{
  swift_unknownObjectRelease();
  swift_release();

  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_246C06D98(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for ParmesanProcessingError(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 5 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 5) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFB) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFA)
  {
    unsigned int v6 = ((a2 - 251) >> 8) + 1;
    *uint64_t result = a2 + 5;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x246C06EACLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 5;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ParmesanProcessingError()
{
  return &type metadata for ParmesanProcessingError;
}

unint64_t sub_246C06EEC()
{
  unint64_t result = qword_2691D8560;
  if (!qword_2691D8560)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8560);
  }
  return result;
}

unint64_t sub_246C06F40()
{
  unint64_t result = qword_2691D8568;
  if (!qword_2691D8568)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8568);
  }
  return result;
}

unint64_t sub_246C06F94()
{
  unint64_t result = qword_2691D8570;
  if (!qword_2691D8570)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8570);
  }
  return result;
}

void sub_246C07004()
{
}

void sub_246C07060()
{
  v7.receiver = v0;
  v7.Class super_class = (Class)type metadata accessor for ParmesanDebugStoredPhotoListViewController();
  objc_msgSendSuper2(&v7, sel_loadView);
  id v1 = objc_msgSend(v0, sel_view);
  if (v1)
  {
    uint64_t v2 = v1;
    self;
    int v3 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v5 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    unsigned int v6 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    objc_msgSend(v3, sel_registerClass_forCellWithReuseIdentifier_, ObjCClassFromMetadata, v6);
  }
  else
  {
    __break(1u);
  }
}

void sub_246C07164(void *a1)
{
  id v1 = a1;
  sub_246C07060();
}

uint64_t sub_246C071AC()
{
  return sub_246C2C278();
}

id sub_246C07284(uint64_t a1)
{
  uint64_t v21 = a1;
  uint64_t v2 = sub_246C2BC68();
  uint64_t v22 = *(void *)(v2 - 8);
  uint64_t v23 = v2;
  MEMORY[0x270FA5388](v2);
  unsigned int v4 = (char *)&v21 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_246C2C268();
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v21 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  id result = objc_msgSend(v1, sel_view);
  if (result)
  {
    uint64_t v10 = result;
    self;
    uint64_t v11 = (void *)swift_dynamicCastObjCClassUnconditional();
    sub_246BC3F1C();
    uint64_t ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
    uint64_t v13 = NSStringFromClass(ObjCClassFromMetadata);
    sub_246C2CC48();

    uint64_t v14 = (void *)sub_246C2CC08();
    swift_bridgeObjectRelease();
    uint64_t v15 = (void *)sub_246C2BC78();
    id v16 = objc_msgSend(v11, sel_dequeueReusableCellWithReuseIdentifier_forIndexPath_, v14, v15);

    self;
    uint64_t v17 = swift_dynamicCastObjCClassUnconditional();
    MEMORY[0x24C544100]();
    sub_246C07A30();
    sub_246C2C238();
    unint64_t v18 = (void (*)(uint64_t *, void))sub_246C2C1F8();
    sub_246C2C1D8();
    v18(v24, 0);
    sub_246C2BDD8();
    sub_246C2BC38();
    (*(void (**)(char *, uint64_t))(v22 + 8))(v4, v23);
    sub_246C2C228();
    v24[3] = v5;
    v24[4] = MEMORY[0x263F81F20];
    unint64_t v19 = sub_246B8EBE4(v24);
    (*(void (**)(uint64_t *, char *, uint64_t))(v6 + 16))(v19, v8, v5);
    id v20 = v16;
    MEMORY[0x24C5440A0](v24);

    (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
    return (id)v17;
  }
  else
  {
    __break(1u);
  }
  return result;
}

id sub_246C075B0()
{
  uint64_t v0 = sub_246C2BC68();
  uint64_t v1 = *(void *)(v0 - 8);
  MEMORY[0x270FA5388](v0);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246B80250(&qword_2691D7038);
  MEMORY[0x270FA5388](v4 - 8);
  uint64_t v6 = (char *)&v15 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246C2BB98();
  uint64_t v8 = *(void *)(v7 - 8);
  MEMORY[0x270FA5388](v7);
  uint64_t v10 = (char *)&v15 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v15 = 0;
  unint64_t v16 = 0xE000000000000000;
  sub_246C2D278();
  swift_bridgeObjectRelease();
  unint64_t v15 = 0xD000000000000014;
  unint64_t v16 = 0x8000000246C40A10;
  sub_246C2BDD8();
  sub_246C08294(&qword_2691D8448, MEMORY[0x263F07508]);
  sub_246C2D528();
  sub_246C2CCD8();
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  sub_246C2BB68();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1) {
    return (id)sub_246B8EA34((uint64_t)v6, &qword_2691D7038);
  }
  (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v10, v6, v7);
  id result = objc_msgSend(self, sel_defaultWorkspace);
  if (result)
  {
    uint64_t v12 = result;
    uint64_t v13 = (void *)sub_246C2BAC8();
    sub_246C10D80(MEMORY[0x263F8EE78]);
    uint64_t v14 = (void *)sub_246C2CBA8();
    swift_bridgeObjectRelease();
    objc_msgSend(v12, sel_openSensitiveURL_withOptions_, v13, v14);

    return (id)(*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v10, v7);
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246C07908(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v4 = a4;
  _swift_stdlib_reportUnimplementedInitializer();
  __break(1u);
}

uint64_t sub_246C0793C()
{
  return swift_bridgeObjectRelease();
}

id sub_246C0794C()
{
  v2.receiver = v0;
  v2.Class super_class = (Class)type metadata accessor for ParmesanDebugStoredPhotoListViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_246C07984()
{
  return swift_bridgeObjectRelease();
}

uint64_t type metadata accessor for ParmesanDebugStoredPhotoListViewController()
{
  uint64_t result = qword_2691D8580;
  if (!qword_2691D8580) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_246C079E0()
{
  return swift_initClassMetadata2();
}

uint64_t sub_246C07A28()
{
  return type metadata accessor for ParmesanDebugStoredPhotoListViewController();
}

id sub_246C07A30()
{
  uint64_t v0 = sub_246C2BE38();
  MEMORY[0x270FA5388](v0);
  v29[8] = (char *)v29 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = sub_246C2BC68();
  uint64_t v33 = *(void *)(v30 - 8);
  MEMORY[0x270FA5388](v30);
  uint64_t v3 = (char *)v29 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_246C2BB98();
  uint64_t v31 = *(void *)(v4 - 8);
  uint64_t v32 = v4;
  uint64_t v5 = MEMORY[0x270FA5388](v4);
  v29[9] = (char *)v29 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)v29 - v7;
  uint64_t v9 = sub_246B80250(&qword_2691D8450);
  MEMORY[0x270FA5388](v9 - 8);
  uint64_t v11 = (char *)v29 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_246C2BF08();
  uint64_t v13 = *(void *)(v12 - 8);
  MEMORY[0x270FA5388](v12);
  unint64_t v34 = (char *)v29 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_246C2BDF8();
  uint64_t v16 = sub_246C2BE28();
  if (*(void *)(v16 + 16) && (uint64_t v17 = sub_246C161BC(v15), (v18 & 1) != 0))
  {
    (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v11, *(void *)(v16 + 56) + *(void *)(v13 + 72) * v17, v12);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v13 + 56))(v11, 0, 1, v12);
  }
  else
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v13 + 56))(v11, 1, 1, v12);
  }
  unint64_t v19 = v34;
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v13 + 48))(v11, 1, v12) == 1)
  {
    sub_246B8EA34((uint64_t)v11, &qword_2691D8450);
    return 0;
  }
  else
  {
    v29[7] = v0;
    (*(void (**)(char *, char *, uint64_t))(v13 + 32))(v19, v11, v12);
    sub_246C2BDD8();
    sub_246C2BEF8();
    id v20 = *(void (**)(char *, uint64_t))(v33 + 8);
    v33 += 8;
    v29[6] = v20;
    v20(v3, v30);
    uint64_t v21 = sub_246C2BBA8();
    uint64_t v22 = v19;
    unint64_t v24 = v23;
    id v25 = objc_allocWithZone(MEMORY[0x263F827E8]);
    uint64_t v26 = (void *)sub_246C2BBB8();
    id v27 = objc_msgSend(v25, sel_initWithData_, v26);
    sub_246BD7F24(v21, v24);

    (*(void (**)(char *, uint64_t))(v31 + 8))(v8, v32);
    (*(void (**)(char *, uint64_t))(v13 + 8))(v22, v12);
  }
  return v27;
}

uint64_t sub_246C08294(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246C082DC()
{
  id v1 = objc_msgSend(v0, sel_bundleIdentifier);
  if (v1)
  {
    uint64_t v2 = v1;
    uint64_t v3 = sub_246C2CC48();
    uint64_t v5 = v4;
  }
  else
  {
    uint64_t v3 = 0;
    uint64_t v5 = 0;
  }
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  id v6 = objc_msgSend((id)swift_getObjCClassFromMetadata(), sel_identifier);
  uint64_t v7 = sub_246C2CC48();
  uint64_t v9 = v8;

  if (v5)
  {
    if (v3 == v7 && v5 == v9) {
      char v11 = 1;
    }
    else {
      char v11 = sub_246C2D578();
    }
    swift_bridgeObjectRelease();
  }
  else
  {
    char v11 = 0;
  }
  swift_bridgeObjectRelease();
  return v11 & 1;
}

id sub_246C0848C(void *a1, uint64_t a2)
{
  *(void *)&v2[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection] = 0;
  id v5 = objc_allocWithZone(MEMORY[0x263F5E438]);
  id v6 = v2;
  id result = objc_msgSend(v5, sel_initWithStyle_, 1);
  if (result)
  {
    *(void *)&v6[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator] = result;

    objc_msgSend(a1, sel_copy);
    sub_246C2D1F8();
    swift_unknownObjectRelease();
    sub_246B8F1E0(0, (unint64_t *)&unk_2691D8630);
    if (swift_dynamicCast())
    {
      uint64_t v8 = v18;
      id v9 = objc_msgSend(v18, sel_selectedOptionForCustomEditMode_slot_, 12, 0);
      if (v9)
      {
        uint64_t v10 = v9;
        type metadata accessor for ParmesanContentEditOption();
        char v11 = (void *)swift_dynamicCastClass();
        if (v11 && objc_msgSend(v11, sel__value) == (id)2)
        {
          id v12 = objc_msgSend(v18, sel__defaultOptionForCustomEditMode_slot_, 12, 0);
          objc_msgSend(v18, sel_selectOption_forCustomEditMode_slot_, v12, 12, 0);

          uint64_t v10 = v12;
        }
      }
      id v13 = objc_msgSend((id)type metadata accessor for ParmesanGalleryPlaceholderDataSource(), sel_placeholderCustomDataKey);
      objc_msgSend(v18, sel_setCustomData_forKey_, 0, v13);

      if (a2)
      {
        uint64_t v14 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v14 = 0;
      }
      v16.receiver = v6;
      v16.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
      id v15 = objc_msgSendSuper2(&v16, sel_initWithCandidateFace_externalAssets_, v18, v14);
    }
    else
    {
      if (a2)
      {
        uint64_t v8 = (void *)sub_246C2CD28();
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v8 = 0;
      }
      v17.receiver = v6;
      v17.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
      id v15 = objc_msgSendSuper2(&v17, sel_initWithCandidateFace_externalAssets_, a1, v8);
    }

    return v15;
  }
  else
  {
    __break(1u);
  }
  return result;
}

id sub_246C08760()
{
  v45.receiver = v0;
  v45.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
  objc_msgSendSuper2(&v45, sel_viewDidLayoutSubviews);
  if (objc_msgSend(v0, sel_inGallery))
  {
    id v1 = objc_msgSend(v0, sel_faceName);
    objc_msgSend(v1, sel_frame);
    double v3 = v2;

    uint64_t v4 = OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator;
    objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_bounds);
    double v5 = v3 + CGRectGetWidth(v46) * 0.5;
    id v6 = objc_msgSend(v0, sel_faceName);
    objc_msgSend(v6, sel_center);
    double v8 = v7;

    id v9 = objc_msgSend(v0, sel_faceName);
    objc_msgSend(v9, sel_bounds);
    CGFloat v11 = v10;
    CGFloat v13 = v12;
    CGFloat v15 = v14;
    CGFloat v17 = v16;

    v47.origin.CGFloat x = v11;
    v47.origin.CGFloat y = v13;
    v47.size.CGFloat width = v15;
    v47.size.CGFloat height = v17;
    double v18 = v8 + CGRectGetHeight(v47) * 0.5;
    objc_msgSend(*(id *)&v0[v4], sel_bounds);
    double v19 = v18 + CGRectGetHeight(v48) * 0.5 + 20.0;
  }
  else
  {
    id v20 = objc_msgSend(v0, sel_headerView);
    objc_msgSend(v20, sel_bounds);
    CGFloat v22 = v21;
    CGFloat v24 = v23;
    CGFloat v26 = v25;
    CGFloat v28 = v27;

    v49.origin.CGFloat x = v22;
    v49.origin.CGFloat y = v24;
    v49.size.CGFloat width = v26;
    v49.size.CGFloat height = v28;
    double v5 = CGRectGetWidth(v49) * 0.5;
    id v29 = objc_msgSend(v0, sel_headerView);
    objc_msgSend(v29, sel_bounds);
    CGFloat v31 = v30;
    CGFloat v33 = v32;
    CGFloat v35 = v34;
    CGFloat v37 = v36;

    v50.origin.CGFloat x = v31;
    v50.origin.CGFloat y = v33;
    v50.size.CGFloat width = v35;
    v50.size.CGFloat height = v37;
    double v19 = CGRectGetHeight(v50) * 0.5;
  }
  id result = objc_msgSend(v0, sel_view);
  if (result)
  {
    uint64_t v39 = result;
    id v40 = objc_msgSend(v0, sel_headerView);
    objc_msgSend(v39, sel_convertPoint_fromCoordinateSpace_, v40, v5, v19);
    double v42 = v41;
    double v44 = v43;

    return objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_setCenter_, v42, v44);
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246C08A50(void *a1)
{
  double v2 = v1;
  id v4 = objc_msgSend(v1, sel_face);
  if (!v4)
  {
    __break(1u);
LABEL_22:
    __break(1u);
    return;
  }
  double v5 = v4;
  char v6 = sub_246C082DC();

  if ((v6 & 1) == 0)
  {
    v32.receiver = v2;
    v32.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
    id v18 = objc_msgSendSuper2(&v32, sel__sectionForEditOptionCollection_, a1);
LABEL_12:
    v18;
    return;
  }
  id v7 = objc_msgSend(v2, sel_face);
  if (!v7)
  {
LABEL_11:
    v31.receiver = v2;
    v31.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
    id v18 = objc_msgSendSuper2(&v31, sel__sectionForEditOptionCollection_, a1);
    goto LABEL_12;
  }
  double v8 = v7;
  self;
  uint64_t v9 = swift_dynamicCastObjCClass();
  if (!v9)
  {

    goto LABEL_11;
  }
  uint64_t v10 = v9;
  if (objc_msgSend(a1, sel_mode) != (id)12)
  {
    v30.receiver = v2;
    v30.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
    objc_msgSendSuper2(&v30, sel__sectionForEditOptionCollection_, a1);

    return;
  }
  id v11 = objc_msgSend(v2, sel_inGallery);
  id v12 = objc_msgSend(v2, sel_faceVC);
  id v13 = objc_msgSend(v12, sel_faceView);

  if (!v13) {
    goto LABEL_22;
  }
  id v14 = objc_msgSend(v2, sel_externalAssets);
  if (v14)
  {
    sub_246C2CD38();

    id v15 = a1;
    double v16 = v2;
    id v17 = v8;
    id v14 = (id)sub_246C2CD28();
    swift_bridgeObjectRelease();
  }
  else
  {
    id v19 = a1;
    id v20 = v2;
    id v21 = v8;
  }
  id v22 = objc_msgSend(objc_allocWithZone((Class)NTKCParmesanFaceDetailContentSectionController), sel_initWithTableViewController_face_inGallery_editOptionCollection_faceView_externalAssets_, v2, v10, v11, a1, v13, v14);

  uint64_t v23 = OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection;
  CGFloat v24 = *(void **)&v2[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection];
  *(void *)&v2[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection] = v22;

  double v25 = *(void **)&v2[v23];
  if (v25)
  {
    objc_msgSend(v25, sel_setParentViewController_, v2);
    CGFloat v26 = *(void **)&v2[v23];
    if (v26)
    {
      id v27 = v26;
      objc_msgSend(v27, sel_setDelegate_, v2);
    }
  }

  CGFloat v28 = *(void **)&v2[v23];
  if (v28) {
    id v29 = v28;
  }
}

id sub_246C08D7C()
{
  id v1 = *(void **)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection];
  if (!v1) {
    return 0;
  }
  id v2 = v1;
  if (!objc_msgSend(v2, sel_canAddFace)) {
    goto LABEL_10;
  }
  id result = objc_msgSend(v0, sel_face);
  if (!result)
  {
    __break(1u);
    goto LABEL_17;
  }
  id v4 = result;
  id v5 = objc_msgSend(result, sel_resourceDirectory);

  if (v5)
  {
    sub_246C2CC48();

    id v5 = (id)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  id v6 = objc_msgSend(self, sel_readerForResourceDirectory_, v5);

  if (!v6)
  {
LABEL_10:
    id v8 = 0;
    id v6 = v2;
LABEL_14:

    return v8;
  }
  if (!objc_msgSend(v6, sel_count))
  {
    id v8 = 0;
    goto LABEL_13;
  }
  id result = objc_msgSend(v0, sel_face);
  if (result)
  {
    id v7 = result;
    id v8 = objc_msgSend(result, sel_isValidConfigurationToAddToLibrary);

LABEL_13:
    goto LABEL_14;
  }
LABEL_17:
  __break(1u);
  return result;
}

void sub_246C08F14()
{
  id v1 = *(void **)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection];
  if (v1)
  {
    id v2 = v1;
    if (objc_msgSend(v2, sel_hasChanges))
    {
      sub_246C0924C();
      uint64_t v3 = swift_allocObject();
      *(void *)(v3 + 16) = v0;
      void v6[4] = sub_246C09EAC;
      _OWORD v6[5] = v3;
      v6[0] = MEMORY[0x263EF8330];
      v6[1] = 1107296256;
      uint64_t v6[2] = sub_246B9B974;
      v6[3] = &unk_26FB22A30;
      id v4 = _Block_copy(v6);
      id v5 = v0;
      swift_release();
      objc_msgSend(v2, sel_saveChangesWithCompletion_, v4);
      _Block_release(v4);

      return;
    }
  }
  sub_246C093F8();
  v7.receiver = v0;
  v7.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
  objc_msgSendSuper2(&v7, sel__addFace);
}

uint64_t sub_246C090FC()
{
  id v1 = *(void **)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_contentSection];
  if (v1)
  {
    id v2 = v1;
    if (objc_msgSend(v2, sel_canAddFace))
    {
      v10.receiver = v0;
      v10.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
      id v3 = objc_msgSendSuper2(&v10, sel_reasonFaceCanNotBeAddedToLibrary);
      if (v3)
      {
        id v4 = v3;
LABEL_8:
        uint64_t v6 = sub_246C2CC48();

        goto LABEL_9;
      }
    }
    else
    {
      objc_super v7 = (void *)sub_246C2CC08();
      id v8 = (void *)sub_246C2CC08();
      id v4 = (id)NTKClockFaceLocalizedString();

      if (v4) {
        goto LABEL_8;
      }
    }

    return 0;
  }
  v11.receiver = v0;
  v11.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
  id v5 = objc_msgSendSuper2(&v11, sel_reasonFaceCanNotBeAddedToLibrary);
  if (!v5) {
    return 0;
  }
  id v2 = v5;
  uint64_t v6 = sub_246C2CC48();
LABEL_9:

  return v6;
}

void sub_246C0924C()
{
  sub_246C09750();
  uint64_t v1 = OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator;
  objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_setHidden_, 0);
  objc_msgSend(*(id *)&v0[v1], sel_beginShowingProgressImmediately_animated_, 1, 1);
  id v2 = objc_msgSend(v0, sel_addButton);
  objc_msgSend(v2, sel_setHidden_, 1);

  if ((objc_msgSend(v0, sel_inGallery) & 1) == 0)
  {
    id v3 = objc_msgSend(v0, sel_faceVC);
    id v4 = objc_msgSend(v3, sel_view);

    if (!v4)
    {
      __break(1u);
      return;
    }
    objc_msgSend(v4, sel_setAlpha_, 0.3);
  }
  id v5 = objc_msgSend(v0, sel_view);
  objc_msgSend(v5, sel_setNeedsLayout);

  id v6 = objc_msgSend(v0, sel_view);
  objc_msgSend(v6, sel_layoutIfNeeded);
}

void sub_246C093F8()
{
  if (!objc_msgSend(v0, sel_inGallery)
    || (id v1 = objc_msgSend(v0, sel_addButton),
        unsigned int v2 = objc_msgSend(v1, sel_isHidden),
        v1,
        v2))
  {
    uint64_t v3 = OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator;
    unsigned int v4 = objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_isShowingProgress);
    id v5 = *(void **)&v0[v3];
    if (v4)
    {
      uint64_t v6 = swift_allocObject();
      *(void *)(v6 + 16) = v0;
      void aBlock[4] = sub_246C09EA4;
      aBlock[5] = v6;
      aBlock[0] = MEMORY[0x263EF8330];
      aBlock[1] = 1107296256;
      aBlock[2] = sub_246B9B974;
      aBlock[3] = &unk_26FB229E0;
      objc_super v7 = _Block_copy(aBlock);
      id v8 = v5;
      uint64_t v9 = v0;
      swift_release();
      objc_msgSend(v8, sel_endShowingProgressImmediately_animated_withCompletionHandler_, 1, 1, v7);
      _Block_release(v7);
    }
    else
    {
      objc_msgSend(v5, sel_setHidden_, 1);
      if (objc_msgSend(v0, sel_inGallery))
      {
        id v11 = objc_msgSend(v0, sel_addButton);
        objc_msgSend(v11, sel_setHidden_, 0);
      }
      else
      {
        id v10 = objc_msgSend(v0, sel_faceVC);
        id v11 = objc_msgSend(v10, sel_view);

        if (!v11)
        {
          __break(1u);
          return;
        }
        objc_msgSend(v11, sel_setAlpha_, 1.0);
      }
    }
  }
}

void sub_246C09618(char *a1)
{
  objc_msgSend(*(id *)&a1[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_setHidden_, 1);
  if (objc_msgSend(a1, sel_inGallery))
  {
    id v3 = objc_msgSend(a1, sel_addButton);
    objc_msgSend(v3, sel_setHidden_, 0);
  }
  else
  {
    id v2 = objc_msgSend(a1, sel_faceVC);
    id v3 = objc_msgSend(v2, sel_view);

    if (!v3)
    {
      __break(1u);
      return;
    }
    objc_msgSend(v3, sel_setAlpha_, 1.0);
  }
}

id sub_246C09750()
{
  uint64_t v1 = OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator;
  if (objc_msgSend(*(id *)&v0[OBJC_IVAR___NTKCParmesanFaceDetailViewController_progressIndicator], sel_isShowingProgress))
  {
    id v2 = *(void **)&v0[v1];
    v9[4] = nullsub_2;
    _OWORD v9[5] = 0;
    v9[0] = MEMORY[0x263EF8330];
    v9[1] = 1107296256;
    id v9[2] = sub_246B9B974;
    v9[3] = &unk_26FB22990;
    id v3 = _Block_copy(v9);
    id v4 = v2;
    objc_msgSend(v4, sel_endShowingProgressImmediately_animated_withCompletionHandler_, 1, 1, v3);
    _Block_release(v3);
  }
  objc_msgSend(*(id *)&v0[v1], sel_removeFromSuperview);
  id result = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5E438]), sel_initWithStyle_, 1);
  if (result)
  {
    uint64_t v6 = *(void **)&v0[v1];
    *(void *)&v0[v1] = result;

    id v7 = objc_msgSend(v0, sel_view);
    if (v7)
    {
      id v8 = v7;
      objc_msgSend(v7, sel_addSubview_, *(void *)&v0[v1]);
    }
    objc_msgSend(*(id *)&v0[v1], sel_setDeterminate_, 1);
    objc_msgSend(*(id *)&v0[v1], sel_setShowsBackground_, 0);
    objc_msgSend(*(id *)&v0[v1], sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
    objc_msgSend(*(id *)&v0[v1], sel_sizeToFit);
    return objc_msgSend(*(id *)&v0[v1], sel_setHidden_, 1);
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246C09900(id a1)
{
  uint64_t v3 = sub_246C2BA68();
  uint64_t v18 = *(void *)(v3 - 8);
  uint64_t v19 = v3;
  uint64_t v4 = MEMORY[0x270FA5388](v3);
  id v20 = (char *)&v18 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v4);
  id v7 = (char *)&v18 - v6;
  id v8 = objc_msgSend(v1, sel_editOptionSections);
  sub_246C2D0C8();

  sub_246C2BA58();
  if (!v24)
  {
LABEL_8:
    (*(void (**)(char *, uint64_t))(v18 + 8))(v7, v19);
    return;
  }
  while (1)
  {
    sub_246BAAFEC(&v23, v22);
    sub_246B8F1E0(0, &qword_2691D8618);
    if (swift_dynamicCast()) {
      break;
    }
LABEL_3:
    sub_246C2BA58();
    if (!v24) {
      goto LABEL_8;
    }
  }
  id v9 = v21;
  id v10 = objc_msgSend(v21, sel_collection);
  if (!v10)
  {
    __break(1u);
    goto LABEL_18;
  }
  id v11 = v10;
  id v12 = objc_msgSend(v10, sel_mode);

  if (v12 != a1)
  {

    goto LABEL_3;
  }
  uint64_t v13 = v19;
  id v14 = *(void (**)(char *, uint64_t))(v18 + 8);
  v14(v7, v19);
  a1 = v9;
  id v15 = objc_msgSend(a1, sel_rows);
  if (!v15)
  {
LABEL_18:

    __break(1u);
    return;
  }
  double v16 = v15;
  sub_246C2D0C8();

  sub_246C2BA58();
  while (v24)
  {
    sub_246BAAFEC(&v23, v22);
    sub_246B8F1E0(0, (unint64_t *)&unk_2691D8620);
    if (swift_dynamicCast())
    {
      id v17 = v21;
      objc_msgSend(v21, sel_reloadVisibleCells);
    }
    sub_246C2BA58();
  }
  v14(v20, v13);
}

id sub_246C09DB0()
{
  v2.receiver = v0;
  v2.Class super_class = (Class)type metadata accessor for ParmesanFaceDetailViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanFaceDetailViewController()
{
  return self;
}

uint64_t sub_246C09E54(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_246C09E64()
{
  return swift_release();
}

uint64_t sub_246C09E6C()
{
  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246C09EA4()
{
  sub_246C09618(*(char **)(v0 + 16));
}

id sub_246C09EAC()
{
  return objc_msgSend(*(id *)(v0 + 16), sel__addFace);
}

uint64_t sub_246C09ED0(void *a1, void *a2)
{
  uint64_t v2 = a1[2];
  if (v2 != a2[2]) {
    return 0;
  }
  if (!v2 || a1 == a2) {
    return 1;
  }
  BOOL v5 = a1[4] == a2[4] && a1[5] == a2[5];
  if (v5 || (char v6 = sub_246C2D578(), result = 0, (v6 & 1) != 0))
  {
    uint64_t v8 = v2 - 1;
    if (!v8) {
      return 1;
    }
    id v9 = a1 + 7;
    for (unint64_t i = a2 + 7; ; i += 2)
    {
      BOOL v11 = *(v9 - 1) == *(i - 1) && *v9 == *i;
      if (!v11 && (sub_246C2D578() & 1) == 0) {
        break;
      }
      v9 += 2;
      if (!--v8) {
        return 1;
      }
    }
    return 0;
  }
  return result;
}

BOOL sub_246C09F98(void *a1, void *a2)
{
  uint64_t v2 = a1[2];
  if (v2 != a2[2]) {
    return 0;
  }
  if (!v2 || a1 == a2) {
    return 1;
  }
  if (a1[4] != a2[4]) {
    return 0;
  }
  if (v2 == 1) {
    return 1;
  }
  uint64_t v4 = v2 - 2;
  BOOL v5 = a1 + 5;
  char v6 = a2 + 5;
  do
  {
    uint64_t v8 = *v5++;
    uint64_t v7 = v8;
    uint64_t v10 = *v6++;
    uint64_t v9 = v10;
    BOOL v12 = v4-- != 0;
    BOOL result = v7 == v9;
  }
  while (v7 == v9 && v12);
  return result;
}

uint64_t sub_246C0A00C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246C2BCD8();
  uint64_t v5 = MEMORY[0x270FA5388](v4);
  MEMORY[0x270FA5388](v5);
  uint64_t v9 = (char *)&v28 - v8;
  uint64_t v10 = *(void *)(a1 + 16);
  if (v10 == *(void *)(a2 + 16))
  {
    if (!v10 || a1 == a2)
    {
      char v23 = 1;
    }
    else
    {
      uint64_t v11 = *(unsigned __int8 *)(v6 + 80);
      uint64_t v13 = *(void (**)(char *, uint64_t, uint64_t))(v6 + 16);
      uint64_t v12 = v6 + 16;
      objc_super v31 = v7;
      objc_super v32 = v13;
      uint64_t v14 = (v11 + 32) & ~v11;
      uint64_t v15 = *(void *)(v12 + 56);
      uint64_t v33 = v12;
      uint64_t v29 = v15;
      objc_super v30 = (void (**)(char *, uint64_t))(v12 - 8);
      uint64_t v16 = v10 - 1;
      id v17 = v7;
      do
      {
        uint64_t v18 = a1;
        uint64_t v19 = v9;
        id v20 = v9;
        id v21 = v32;
        v32(v19, a1 + v14, v4);
        uint64_t v22 = a2;
        v21(v17, a2 + v14, v4);
        uint64_t v9 = v20;
        sub_246C0C1C8((unint64_t *)&qword_2691D7C30, MEMORY[0x263F07A30]);
        char v23 = sub_246C2CBF8();
        uint64_t v24 = *v30;
        (*v30)(v17, v4);
        v24(v20, v4);
        BOOL v26 = v16-- != 0;
        if ((v23 & 1) == 0) {
          break;
        }
        v14 += v29;
        a2 = v22;
        a1 = v18;
      }
      while (v26);
    }
  }
  else
  {
    char v23 = 0;
  }
  return v23 & 1;
}

id sub_246C0A404(uint64_t a1, double a2, double a3, double a4, double a5)
{
  uint64_t v11 = &v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_mainSectionIdentifier];
  *(void *)uint64_t v11 = 0x746365536E69614DLL;
  *((void *)v11 + 1) = 0xEB000000006E6F69;
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource] = 0;
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout] = 0;
  swift_unknownObjectWeakInit();
  *(void *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_options] = a1;
  *(double *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_itemHeight] = a2;
  uint64_t v12 = (double *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize];
  double *v12 = a3;
  v12[1] = a4;
  *(double *)&v5[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceScreenRadius] = a5;
  v14.receiver = v5;
  v14.Class super_class = (Class)type metadata accessor for ParmesanTimeLayoutSelectionViewController();
  return objc_msgSendSuper2(&v14, sel_initWithNibName_bundle_, 0, 0);
}

id sub_246C0A62C()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250((uint64_t *)&unk_2691D86F8);
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = *(void *)(v3 + 64);
  uint64_t v5 = MEMORY[0x270FA5388](v2);
  uint64_t v6 = (char *)&v43 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v43 - v7;
  double v9 = *(double *)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_itemHeight];
  double v10 = v9 + 12.0;
  if (qword_2691D6350 != -1) {
    swift_once();
  }
  objc_msgSend((id)qword_2691E0238, sel_lineHeight);
  id v12 = sub_246BCF8CC(*(double *)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize]* (v9/ *(double *)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize + 8]), v10 + v11 + v11 + 12.0);
  id v13 = objc_allocWithZone(MEMORY[0x263F82528]);
  id v44 = v12;
  id v14 = objc_msgSend(v13, sel_initWithFrame_collectionViewLayout_, v12, 0.0, 0.0, 0.0, 0.0);
  objc_msgSend(v1, sel_setView_, v14);

  swift_allocObject();
  swift_unknownObjectWeakInit();
  sub_246B8F1E0(0, &qword_2691D6A50);
  type metadata accessor for ParmesanTimeLayout();
  sub_246C2CF28();
  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
    __break(1u);
    goto LABEL_19;
  }
  self;
  swift_dynamicCastObjCClassUnconditional();
  (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v6, v8, v2);
  unint64_t v16 = (*(unsigned __int8 *)(v3 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
  uint64_t v17 = swift_allocObject();
  (*(void (**)(unint64_t, char *, uint64_t))(v3 + 32))(v17 + v16, v6, v2);
  id v18 = objc_allocWithZone((Class)sub_246B80250((uint64_t *)&unk_2691D8708));
  uint64_t v19 = sub_246C2C318();
  uint64_t v20 = OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource;
  id v21 = *(void **)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource];
  *(void *)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource] = v19;

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_19:
    __break(1u);
    goto LABEL_20;
  }
  uint64_t v22 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setDataSource_, *(void *)&v1[v20]);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_20:
    __break(1u);
    goto LABEL_21;
  }
  char v23 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setDelegate_, v1);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_21:
    __break(1u);
    goto LABEL_22;
  }
  uint64_t v24 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setAllowsSelection_, 1);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_22:
    __break(1u);
    goto LABEL_23;
  }
  double v25 = result;
  self;
  BOOL v26 = (void *)swift_dynamicCastObjCClassUnconditional();
  id v27 = objc_msgSend(self, sel_clearColor);
  objc_msgSend(v26, sel_setBackgroundColor_, v27);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_23:
    __break(1u);
    goto LABEL_24;
  }
  uint64_t v28 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setShowsHorizontalScrollIndicator_, 0);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  uint64_t v29 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setShowsVerticalScrollIndicator_, 0);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_25:
    __break(1u);
    goto LABEL_26;
  }
  objc_super v30 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setBouncesVertically_, 0);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_26:
    __break(1u);
    goto LABEL_27;
  }
  objc_super v31 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setContentInsetAdjustmentBehavior_, 2);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_27:
    __break(1u);
    goto LABEL_28;
  }
  objc_super v32 = result;
  self;
  id v33 = objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_heightAnchor);

  objc_msgSend((id)qword_2691E0238, sel_lineHeight);
  id v35 = objc_msgSend(v33, sel_constraintEqualToConstant_, v10 + v34 + v34 + 12.0);

  objc_msgSend(v35, sel_setActive_, 1);
  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_28:
    __break(1u);
    goto LABEL_29;
  }
  double v36 = result;
  self;
  objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setAccessibilityContainerType_, 4);

  id result = objc_msgSend(v1, sel_view);
  if (!result)
  {
LABEL_29:
    __break(1u);
    return result;
  }
  CGFloat v37 = result;
  self;
  uint64_t v38 = (void *)swift_dynamicCastObjCClassUnconditional();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D6DC0);
  uint64_t ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  id v40 = (void *)sub_246C2CC08();
  double v41 = (void *)sub_246C2CC08();
  id v42 = objc_msgSend(ObjCClassFromMetadata, sel_localizedStringForKey_comment_, v40, v41);

  if (!v42)
  {
    sub_246C2CC48();
    id v42 = (id)sub_246C2CC08();
    swift_bridgeObjectRelease();
  }
  objc_msgSend(v38, sel_setAccessibilityLabel_, v42);

  return (id)(*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v8, v2);
}

void sub_246C0AE60(uint64_t a1, uint64_t a2, void **a3, uint64_t a4)
{
  uint64_t v4 = *a3;
  uint64_t v5 = a4 + 16;
  swift_beginAccess();
  uint64_t v6 = MEMORY[0x24C545A70](v5);
  if (v6)
  {
    uint64_t v7 = (void *)v6;
    double v8 = *(double *)(v6 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_itemHeight);
    double v10 = *(double *)(v6 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize);
    double v9 = *(double *)(v6 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize + 8);
    double v11 = v8 / v9 * *(double *)(v6 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceScreenRadius);
    id v12 = self;
    id v13 = v4;
    id v14 = objc_msgSend(v12, sel_whiteColor);
    id v15 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F825C8]), sel_initWithWhite_alpha_, 0.6, 1.0);
    v17[3] = &type metadata for TimeLayoutOptionCellConfiguration;
    v17[4] = sub_246C0C370();
    uint64_t v16 = swift_allocObject();
    v17[0] = v16;
    *(void *)(v16 + 16) = v13;
    *(double *)(v16 + 24) = v8 / v9 * v10;
    *(double *)(v16 + 32) = v8;
    *(double *)(v16 + 40) = v10;
    *(double *)(v16 + 48) = v9;
    *(double *)(v16 + 56) = v11;
    *(void *)(v16 + 64) = v14;
    *(void *)(v16 + 72) = v15;
    *(void *)(v16 + 80) = 0;
    *(void *)(v16 + 88) = 0;
    MEMORY[0x24C5440A0](v17);
  }
}

uint64_t sub_246C0AFBC(uint64_t a1, uint64_t a2, void **a3)
{
  uint64_t v3 = *a3;
  sub_246B8F1E0(0, &qword_2691D6A50);
  type metadata accessor for ParmesanTimeLayout();
  id v4 = v3;
  uint64_t v5 = sub_246C2CF48();

  return v5;
}

void sub_246C0B114()
{
  v10.receiver = v0;
  v10.Class super_class = (Class)type metadata accessor for ParmesanTimeLayoutSelectionViewController();
  objc_msgSendSuper2(&v10, sel_viewWillLayoutSubviews);
  id v1 = objc_msgSend(v0, sel_view);
  if (v1)
  {
    uint64_t v2 = v1;
    objc_msgSend(v1, sel_frame);
    double v4 = v3;

    double v5 = *(double *)&v0[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_itemHeight];
    double v7 = *(double *)&v0[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize];
    double v6 = *(double *)&v0[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_deviceSize + 8];
    id v8 = objc_msgSend(v0, sel_view);
    if (v8)
    {
      double v9 = v8;
      self;
      objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_setContentInset_, 0.0, (v4 - v7 * (v5 / v6)) * 0.5, 0.0, (v4 - v7 * (v5 / v6)) * 0.5);

      return;
    }
  }
  else
  {
    __break(1u);
  }
  __break(1u);
}

uint64_t sub_246C0B27C()
{
  uint64_t v1 = sub_246B80250(&qword_2691D86E0);
  uint64_t v2 = *(void *)(v1 - 8);
  MEMORY[0x270FA5388](v1);
  double v4 = (char *)v10 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ParmesanTimeLayout();
  sub_246C0C1C8((unint64_t *)&unk_2691D86E8, (void (*)(uint64_t))type metadata accessor for ParmesanTimeLayout);
  sub_246C2C2D8();
  sub_246B80250(&qword_2691D7010);
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_246C33620;
  uint64_t v6 = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_mainSectionIdentifier + 8);
  *(void *)(v5 + 32) = *(void *)(v0 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_mainSectionIdentifier);
  *(void *)(v5 + 40) = v6;
  swift_bridgeObjectRetain();
  sub_246C2C2B8();
  swift_bridgeObjectRelease();
  v10[0] = 0;
  v10[1] = 0;
  swift_bridgeObjectRetain();
  sub_246C2C278();
  uint64_t result = swift_bridgeObjectRelease();
  id v8 = *(void **)(v0 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource);
  if (v8)
  {
    id v9 = v8;
    sub_246C2C398();

    return (*(uint64_t (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_246C0B460(void *a1)
{
  uint64_t v2 = v1;
  double v4 = (void *)sub_246C2BC78();
  objc_msgSend(a1, sel_scrollToItemAtIndexPath_atScrollPosition_animated_, v4, 16, 1);

  uint64_t v5 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource);
  if (v5)
  {
    id v6 = v5;
    sub_246C2C348();

    if (v10)
    {
      double v7 = *(void **)(v1 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout);
      *(void *)(v2 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout) = v10;
      id v8 = v10;

      sub_246C0B658();
      id v9 = (void *)MEMORY[0x24C545A70](v2 + OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_delegate);
      if (v9)
      {
        objc_msgSend(v9, sel_timeLayoutSelectionController_didChangeSelection_, v2, v8);
        swift_unknownObjectRelease();
      }
    }
  }
  else
  {
    __break(1u);
  }
}

void sub_246C0B658()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_246B80250(&qword_2691D69E0);
  uint64_t v3 = MEMORY[0x270FA5388](v2 - 8);
  uint64_t v5 = (char *)&v64 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = MEMORY[0x270FA5388](v3);
  id v8 = (char *)&v64 - v7;
  MEMORY[0x270FA5388](v6);
  objc_super v10 = (char *)&v64 - v9;
  uint64_t v11 = sub_246C2BCD8();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v13 = MEMORY[0x270FA5388](v11);
  id v15 = (char *)&v64 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = MEMORY[0x270FA5388](v13);
  uint64_t v78 = (char *)&v64 - v17;
  MEMORY[0x270FA5388](v16);
  uint64_t v19 = (char *)&v64 - v18;
  uint64_t v20 = *(void **)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout];
  if (v20)
  {
    id v21 = *(void **)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource];
    if (v21)
    {
      uint64_t v79 = *(void *)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout];
      id v22 = v20;
      id v23 = v21;
      sub_246C2C3C8();

      double v75 = *(unsigned int (***)(char *, uint64_t, uint64_t))(v12 + 48);
      objc_super v76 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 48);
      if (((unsigned int (*)(char *, uint64_t, uint64_t))v75)(v10, 1, v11) == 1)
      {

        sub_246B9825C((uint64_t)v10);
        return;
      }
      uint64_t v67 = v11;
      id v68 = v22;
      uint64_t v73 = *(void (**)(char *, char *, uint64_t))(v12 + 32);
      double v74 = (void (**)(char *, char *, uint64_t))(v12 + 32);
      v73(v19, v10, v11);
      id v40 = objc_msgSend(v1, sel_view);
      if (v40)
      {
        double v41 = v40;
        self;
        id v42 = objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_indexPathsForSelectedItems);

        id v43 = v68;
        if (!v42)
        {

          (*(void (**)(char *, uint64_t))(v12 + 8))(v19, v67);
          return;
        }
        id v72 = (void (**)(char *, uint64_t))v1;
        uint64_t v44 = v67;
        uint64_t v45 = sub_246C2CD38();

        sub_246B80250(&qword_2691D70D0);
        unint64_t v46 = (*(unsigned __int8 *)(v12 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v12 + 80);
        uint64_t v69 = *(void *)(v12 + 72);
        uint64_t v47 = swift_allocObject();
        *(_OWORD *)(v47 + 16) = xmmword_246C33620;
        uint64_t v70 = *(void (**)(unint64_t, char *, uint64_t))(v12 + 16);
        uint64_t v71 = v12 + 16;
        v70(v47 + v46, v19, v44);
        char v48 = sub_246C0A00C(v45, v47);
        swift_setDeallocating();
        swift_arrayDestroy();
        swift_deallocClassInstance();
        if (v48)
        {
          (*(void (**)(char *, uint64_t))(v12 + 8))(v19, v44);
          swift_bridgeObjectRelease();

          return;
        }
        uint64_t v65 = v19;
        uint64_t v66 = v45;
        uint64_t v49 = *(void *)(v45 + 16);
        uint64_t v77 = v12;
        if (v49)
        {
          unint64_t v50 = v45 + v46;
          uint64_t v51 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56);
          uint64_t v52 = (void (**)(char *, uint64_t))(v12 + 8);
          swift_bridgeObjectRetain();
          unint64_t v64 = (unint64_t)v51 & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000;
          uint64_t v53 = v78;
          while (1)
          {
            v70((unint64_t)v8, (char *)v50, v44);
            uint64_t v54 = *v51;
            (*v51)(v8, 0, 1, v44);
            if (((unsigned int (*)(char *, uint64_t, uint64_t))v75)(v8, 1, v44) == 1) {
              break;
            }
            v73(v53, v8, v44);
            id v55 = objc_msgSend(v72, sel_view, v64);
            if (!v55) {
              goto LABEL_33;
            }
            uint64_t v56 = v55;
            self;
            uint64_t v57 = (void *)swift_dynamicCastObjCClassUnconditional();
            uint64_t v58 = (void *)sub_246C2BC78();
            objc_msgSend(v57, sel_deselectItemAtIndexPath_animated_, v58, 0);

            uint64_t v53 = v78;
            (*v52)(v78, v44);
            v50 += v69;
            if (!--v49) {
              goto LABEL_28;
            }
          }
        }
        else
        {
          uint64_t v54 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56);
          swift_bridgeObjectRetain();
LABEL_28:
          v54(v8, 1, 1, v44);
        }
        swift_bridgeObjectRelease_n();
        id v59 = objc_msgSend(v72, sel_view);
        if (v59)
        {
          uint64_t v60 = v59;
          self;
          uint64_t v61 = (void *)swift_dynamicCastObjCClassUnconditional();
          uint64_t v62 = v65;
          uint64_t v63 = (void *)sub_246C2BC78();
          objc_msgSend(v61, sel_selectItemAtIndexPath_animated_scrollPosition_, v63, 0, 16);

          (*(void (**)(char *, uint64_t))(v77 + 8))(v62, v67);
          return;
        }
LABEL_37:
        __break(1u);
        return;
      }
LABEL_36:
      __break(1u);
      goto LABEL_37;
    }
LABEL_34:
    __break(1u);
LABEL_35:
    __break(1u);
    goto LABEL_36;
  }
  id v24 = objc_msgSend(v1, sel_view);
  if (!v24) {
    goto LABEL_35;
  }
  double v25 = v24;
  self;
  id v26 = objc_msgSend((id)swift_dynamicCastObjCClassUnconditional(), sel_indexPathsForSelectedItems);

  if (v26)
  {
    uint64_t v27 = sub_246C2CD38();

    uint64_t v28 = *(void *)(v27 + 16);
    if (v28)
    {
      objc_super v30 = *(char **)(v12 + 16);
      uint64_t v29 = v12 + 16;
      unint64_t v31 = v27 + ((*(unsigned __int8 *)(v29 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 64));
      objc_super v32 = *(void (**)(char *, char *, uint64_t))(v29 + 56);
      double v75 = (unsigned int (**)(char *, uint64_t, uint64_t))(v29 + 32);
      uint64_t v73 = v32;
      double v74 = (void (**)(char *, char *, uint64_t))(v29 + 16);
      uint64_t v77 = v29;
      uint64_t v78 = v30;
      uint64_t v71 = v27;
      id v72 = (void (**)(char *, uint64_t))(v29 - 8);
      swift_bridgeObjectRetain();
      objc_super v76 = (void (**)(char *, uint64_t, uint64_t, uint64_t))(v29 + 40);
      uint64_t v70 = (void (*)(unint64_t, char *, uint64_t))((v29 + 40) & 0xFFFFFFFFFFFFLL | 0xA0D1000000000000);
      while (1)
      {
        ((void (*)(char *, unint64_t, uint64_t))v78)(v5, v31, v11);
        id v33 = *v76;
        (*v76)(v5, 0, 1, v11);
        if ((*v75)(v5, 1, v11) == 1) {
          break;
        }
        (*v74)(v15, v5, v11);
        double v34 = v1;
        id v35 = objc_msgSend(v1, sel_view);
        if (!v35)
        {
          __break(1u);
LABEL_33:
          __break(1u);
          goto LABEL_34;
        }
        double v36 = v35;
        uint64_t v37 = v11;
        self;
        uint64_t v38 = (void *)swift_dynamicCastObjCClassUnconditional();
        uint64_t v39 = (void *)sub_246C2BC78();
        objc_msgSend(v38, sel_deselectItemAtIndexPath_animated_, v39, 0);

        (*v72)(v15, v37);
        v31 += (unint64_t)v73;
        --v28;
        uint64_t v11 = v37;
        uint64_t v1 = v34;
        if (!v28) {
          goto LABEL_25;
        }
      }
    }
    else
    {
      id v33 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56);
      swift_bridgeObjectRetain();
LABEL_25:
      v33(v5, 1, 1, v11);
    }
    swift_bridgeObjectRelease_n();
  }
}

id sub_246C0BE80(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_246B80250(&qword_2691D69E0);
  MEMORY[0x270FA5388](v4 - 8);
  uint64_t v6 = (char *)v19 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_246C2BCD8();
  uint64_t v8 = *(void *)(v7 - 8);
  id result = (id)MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)v19 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = *(void **)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_selectedLayout];
  if (v12)
  {
    uint64_t v13 = *(void **)&v1[OBJC_IVAR___NTKParmesanTimeLayoutSelectionViewController_dataSource];
    if (v13)
    {
      v19[1] = v12;
      id v14 = v12;
      id v15 = v13;
      sub_246C2C3C8();

      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1)
      {

        return (id)sub_246B9825C((uint64_t)v6);
      }
      (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v11, v6, v7);
      id result = objc_msgSend(v2, sel_view);
      if (result)
      {
        uint64_t v16 = result;
        self;
        uint64_t v17 = (void *)swift_dynamicCastObjCClassUnconditional();
        uint64_t v18 = (void *)sub_246C2BC78();
        objc_msgSend(v17, sel_scrollToItemAtIndexPath_atScrollPosition_animated_, v18, 16, a1 & 1);

        return (id)(*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v11, v7);
      }
    }
    else
    {
      __break(1u);
    }
    __break(1u);
  }
  return result;
}

id sub_246C0C0F0()
{
  v2.receiver = v0;
  v2.Class super_class = (Class)type metadata accessor for ParmesanTimeLayoutSelectionViewController();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanTimeLayoutSelectionViewController()
{
  return self;
}

uint64_t sub_246C0C1C8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_246C0C210()
{
  swift_unknownObjectWeakDestroy();

  return MEMORY[0x270FA0238](v0, 24, 7);
}

void sub_246C0C248(uint64_t a1, uint64_t a2, void **a3)
{
  sub_246C0AE60(a1, a2, a3, v3);
}

uint64_t sub_246C0C250()
{
  uint64_t v1 = sub_246B80250((uint64_t *)&unk_2691D86F8);
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return MEMORY[0x270FA0238](v0, v5, v6);
}

uint64_t sub_246C0C2E4(uint64_t a1, uint64_t a2, void **a3)
{
  sub_246B80250((uint64_t *)&unk_2691D86F8);

  return sub_246C0AFBC(a1, a2, a3);
}

unint64_t sub_246C0C370()
{
  unint64_t result = qword_2691D8718;
  if (!qword_2691D8718)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8718);
  }
  return result;
}

uint64_t sub_246C0C3C4()
{
  return MEMORY[0x270FA0238](v0, 96, 7);
}

__n128 sub_246C0C41C()
{
  sub_246B80250(&qword_2691D8720);
  uint64_t v1 = swift_allocObject();
  long long v2 = *v0;
  long long v3 = v0[1];
  *(_OWORD *)(v1 + 16) = xmmword_246C37DB0;
  *(_OWORD *)(v1 + 32) = v2;
  long long v4 = v0[2];
  long long v5 = v0[3];
  *(_OWORD *)(v1 + 48) = v3;
  *(_OWORD *)(v1 + 64) = v4;
  __n128 result = (__n128)v0[4];
  *(_OWORD *)(v1 + 80) = v5;
  *(__n128 *)(v1 + 96) = result;
  return result;
}

float sub_246C0C468@<S0>(uint64_t a1@<X8>)
{
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v2 = v2;
  int v41 = LODWORD(v2);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v3 = v3;
  int v40 = LODWORD(v3);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v4 = v4;
  int v39 = LODWORD(v4);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v5 = v5;
  int v38 = LODWORD(v5);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v6 = v6;
  int v37 = LODWORD(v6);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v7 = v7;
  int v36 = LODWORD(v7);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v8 = v8;
  int v35 = LODWORD(v8);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v9 = v9;
  int v34 = LODWORD(v9);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v10 = v10;
  int v33 = LODWORD(v10);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v11 = v11;
  int v32 = LODWORD(v11);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v12 = v12;
  int v31 = LODWORD(v12);
  CLKInterpolateBetweenFloatsUnclipped();
  *(float *)&double v13 = v13;
  int v30 = LODWORD(v13);
  CLKInterpolateBetweenFloatsUnclipped();
  float v15 = v14;
  CLKInterpolateBetweenFloatsUnclipped();
  float v17 = v16;
  CLKInterpolateBetweenFloatsUnclipped();
  float v19 = v18;
  CLKInterpolateBetweenFloatsUnclipped();
  float v21 = v20;
  CLKInterpolateBetweenFloatsUnclipped();
  float v23 = v22;
  CLKInterpolateBetweenFloatsUnclipped();
  float v25 = v24;
  CLKInterpolateBetweenFloatsUnclipped();
  float v27 = v26;
  CLKInterpolateBetweenFloatsUnclipped();
  float result = v28;
  *(_DWORD *)a1 = v41;
  *(_DWORD *)(a1 + 4) = v40;
  *(_DWORD *)(a1 + 8) = v39;
  *(_DWORD *)(a1 + 12) = v38;
  *(_DWORD *)(a1 + 16) = v37;
  *(_DWORD *)(a1 + 20) = v36;
  *(_DWORD *)(a1 + 24) = v35;
  *(_DWORD *)(a1 + 28) = v34;
  *(_DWORD *)(a1 + 32) = v33;
  *(_DWORD *)(a1 + 36) = v32;
  *(_DWORD *)(a1 + 40) = v31;
  *(_DWORD *)(a1 + 44) = v30;
  *(float *)(a1 + 48) = v15;
  *(float *)(a1 + 52) = v17;
  *(float *)(a1 + 56) = v19;
  *(float *)(a1 + 60) = v21;
  *(float *)(a1 + 64) = v23;
  *(float *)(a1 + 68) = v25;
  *(float *)(a1 + 72) = v27;
  *(float *)(a1 + 76) = result;
  return result;
}

int *sub_246C0C77C@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  if (*(void *)(a1 + 16) == 20)
  {
    double v2 = (_DWORD *)(a1 + 32);
    double v3 = (int *)(a1 + 36);
    double v4 = (int *)(a1 + 40);
    double v5 = (int *)(a1 + 44);
    double v6 = (int *)(a1 + 48);
    double v7 = (int *)(a1 + 52);
    double v8 = (int *)(a1 + 56);
    double v9 = (int *)(a1 + 60);
    double v10 = (int *)(a1 + 64);
    double v11 = (int *)(a1 + 68);
    double v12 = (int *)(a1 + 72);
    double v13 = (const float *)(a1 + 80);
    double v14 = (int *)(a1 + 84);
    float v15 = (int *)(a1 + 88);
    double v16 = (int *)(a1 + 92);
    float v17 = (int *)(a1 + 96);
    double v18 = (int *)(a1 + 100);
    float v19 = (int *)(a1 + 104);
    float32x2_t v20 = vld1_dup_f32(v13);
    float result = (int *)(a1 + 108);
  }
  else
  {
    double v2 = (_DWORD *)MEMORY[0x263F15720];
    float result = (int *)(MEMORY[0x263F15720] + 76);
    float v19 = (int *)(MEMORY[0x263F15720] + 72);
    double v18 = (int *)(MEMORY[0x263F15720] + 68);
    float v17 = (int *)(MEMORY[0x263F15720] + 64);
    double v16 = (int *)(MEMORY[0x263F15720] + 60);
    float v15 = (int *)(MEMORY[0x263F15720] + 56);
    double v14 = (int *)(MEMORY[0x263F15720] + 52);
    double v12 = (int *)(MEMORY[0x263F15720] + 40);
    double v11 = (int *)(MEMORY[0x263F15720] + 36);
    double v10 = (int *)(MEMORY[0x263F15720] + 32);
    double v9 = (int *)(MEMORY[0x263F15720] + 28);
    double v8 = (int *)(MEMORY[0x263F15720] + 24);
    double v7 = (int *)(MEMORY[0x263F15720] + 20);
    double v6 = (int *)(MEMORY[0x263F15720] + 16);
    double v5 = (int *)(MEMORY[0x263F15720] + 12);
    double v4 = (int *)(MEMORY[0x263F15720] + 8);
    double v3 = (int *)(MEMORY[0x263F15720] + 4);
    float32x2_t v20 = *(float32x2_t *)(MEMORY[0x263F15720] + 44);
  }
  int v22 = *v18;
  int v23 = *v17;
  int v24 = *v16;
  int v25 = *v15;
  int v26 = *v14;
  int v27 = *v12;
  int v28 = *v11;
  int v29 = *v10;
  int v30 = *v9;
  int v31 = *v8;
  int v32 = *v7;
  int v33 = *v6;
  int v34 = *v5;
  int v35 = *v4;
  int v36 = *v3;
  int v37 = *v19;
  int v38 = *result;
  *(_DWORD *)a2 = *v2;
  *(_DWORD *)(a2 + 4) = v36;
  *(_DWORD *)(a2 + 8) = v35;
  *(_DWORD *)(a2 + 12) = v34;
  *(_DWORD *)(a2 + 16) = v33;
  *(_DWORD *)(a2 + 20) = v32;
  *(_DWORD *)(a2 + 24) = v31;
  *(_DWORD *)(a2 + 28) = v30;
  *(_DWORD *)(a2 + 32) = v29;
  *(_DWORD *)(a2 + 36) = v28;
  *(_DWORD *)(a2 + 40) = v27;
  *(float32x2_t *)(a2 + 44) = v20;
  *(_DWORD *)(a2 + 52) = v26;
  *(_DWORD *)(a2 + 56) = v25;
  *(_DWORD *)(a2 + 60) = v24;
  *(_DWORD *)(a2 + 64) = v23;
  *(_DWORD *)(a2 + 68) = v22;
  *(_DWORD *)(a2 + 72) = v37;
  *(_DWORD *)(a2 + 76) = v38;
  return result;
}

uint64_t sub_246C0CBB0()
{
  return 0;
}

id sub_246C0CE08()
{
  v2.receiver = v0;
  v2.Class super_class = (Class)type metadata accessor for NTKShuffleID();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for NTKShuffleID()
{
  return self;
}

id sub_246C0CEB0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  double v6 = *(void **)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_titleLabel];
  double v7 = (void *)sub_246C2CC08();
  objc_msgSend(v6, sel_setText_, v7);

  double v8 = *(void **)&v4[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_subtitleLabel];
  if (a4) {
    double v9 = (void *)sub_246C2CC08();
  }
  else {
    double v9 = 0;
  }
  objc_msgSend(v8, sel_setText_, v9);

  objc_msgSend(v8, sel_setHidden_, a4 == 0);

  return objc_msgSend(v4, sel_invalidateIntrinsicContentSize);
}

char *sub_246C0CF84(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_titleLabel;
  id v10 = objc_allocWithZone(MEMORY[0x263F828E0]);
  double v11 = v4;
  id v12 = objc_msgSend(v10, sel_init);
  *(void *)&v4[v9] = v12;
  uint64_t v13 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_subtitleLabel;
  id v14 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F828E0]), sel_init);
  *(void *)&v11[v13] = v14;
  sub_246B80250((uint64_t *)&unk_2691D6A80);
  uint64_t v15 = swift_allocObject();
  *(_OWORD *)(v15 + 16) = xmmword_246C33940;
  *(void *)(v15 + 32) = v12;
  *(void *)(v15 + 40) = v14;
  uint64_t v58 = v15;
  sub_246C2CD58();
  id v16 = objc_allocWithZone(MEMORY[0x263F82BF8]);
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D7D10);
  id v17 = v12;
  id v18 = v14;
  float v19 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  id v20 = objc_msgSend(v16, sel_initWithArrangedSubviews_, v19);

  *(void *)&v11[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_stackView] = v20;
  v57.receiver = v11;
  v57.Class super_class = (Class)type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
  float v21 = (char *)objc_msgSendSuper2(&v57, sel_initWithFrame_, a1, a2, a3, a4);
  objc_msgSend(v21, sel_setClipsToBounds_, 1);
  uint64_t v56 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_stackView;
  int v22 = *(void **)&v21[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_stackView];
  objc_msgSend(v22, sel_setAxis_, 1);
  objc_msgSend(v22, sel_setTranslatesAutoresizingMaskIntoConstraints_, 0);
  objc_msgSend(v22, sel_setSpacing_, 8.0);
  uint64_t v23 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_titleLabel;
  int v24 = *(void **)&v21[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_titleLabel];
  int v25 = self;
  uint64_t v26 = *MEMORY[0x263F835A0];
  id v27 = v24;
  id v28 = objc_msgSend(v25, sel_preferredFontForTextStyle_, v26);
  objc_msgSend(v27, sel_setFont_, v28);

  int v29 = *(void **)&v21[v23];
  objc_msgSend(v29, sel_setAdjustsFontForContentSizeCategory_, 1);
  objc_msgSend(v29, sel_setTextAlignment_, 1);
  objc_msgSend(v29, sel_setNumberOfLines_, 0);
  uint64_t v30 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_subtitleLabel;
  uint64_t v31 = *MEMORY[0x263F83570];
  id v32 = *(id *)&v21[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion41ParmesanFacePreviewTitleSupplementaryView_subtitleLabel];
  id v33 = objc_msgSend(v25, sel_preferredFontForTextStyle_, v31);
  objc_msgSend(v32, sel_setFont_, v33);

  int v34 = *(void **)&v21[v30];
  objc_msgSend(v34, sel_setAdjustsFontForContentSizeCategory_, 1);
  objc_msgSend(v34, sel_setNumberOfLines_, 0);
  objc_msgSend(v34, sel_setTextAlignment_, 1);
  int v35 = *(void **)&v21[v56];
  objc_msgSend(v21, sel_addSubview_, v35);
  id v36 = objc_msgSend(v21, sel_bottomAnchor);
  id v37 = objc_msgSend(v35, sel_bottomAnchor);
  id v38 = objc_msgSend(v36, sel_constraintEqualToAnchor_constant_, v37, 12.0);

  LODWORD(v39) = 1132068864;
  objc_msgSend(v38, sel_setPriority_, v39);
  int v40 = self;
  uint64_t v41 = swift_allocObject();
  *(_OWORD *)(v41 + 16) = xmmword_246C37DF0;
  id v42 = objc_msgSend(*(id *)&v21[v56], sel_leadingAnchor);
  id v43 = objc_msgSend(v21, sel_layoutMarginsGuide);
  id v44 = objc_msgSend(v43, sel_leadingAnchor);

  id v45 = objc_msgSend(v42, sel_constraintEqualToAnchor_, v44);
  *(void *)(v41 + 32) = v45;
  id v46 = objc_msgSend(*(id *)&v21[v56], sel_trailingAnchor);
  id v47 = objc_msgSend(v21, sel_layoutMarginsGuide);
  id v48 = objc_msgSend(v47, sel_trailingAnchor);

  id v49 = objc_msgSend(v46, sel_constraintEqualToAnchor_, v48);
  *(void *)(v41 + 40) = v49;
  id v50 = objc_msgSend(*(id *)&v21[v56], sel_topAnchor);
  id v51 = objc_msgSend(v21, sel_topAnchor);
  id v52 = objc_msgSend(v50, sel_constraintEqualToAnchor_, v51);

  *(void *)(v41 + 48) = v52;
  *(void *)(v41 + 56) = v38;
  uint64_t v58 = v41;
  sub_246C2CD58();
  sub_246B8F1E0(0, (unint64_t *)&qword_2691D8B30);
  id v53 = v38;
  uint64_t v54 = (void *)sub_246C2CD28();
  swift_bridgeObjectRelease();
  objc_msgSend(v40, sel_activateConstraints_, v54);

  return v21;
}

id sub_246C0D600()
{
  v2.receiver = v0;
  v2.Class super_class = (Class)type metadata accessor for ParmesanFacePreviewTitleSupplementaryView();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t type metadata accessor for ParmesanFacePreviewTitleSupplementaryView()
{
  return self;
}

void destroy for TimeLayoutOptionCellConfiguration(uint64_t a1)
{
  objc_super v2 = *(void **)(a1 + 72);
}

uint64_t initializeWithCopy for TimeLayoutOptionCellConfiguration(uint64_t a1, uint64_t a2)
{
  double v3 = *(void **)a2;
  *(void *)a1 = *(void *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  double v4 = *(void **)(a2 + 48);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  *(void *)(a1 + 48) = v4;
  double v5 = *(void **)(a2 + 56);
  double v6 = *(void **)(a2 + 64);
  *(void *)(a1 + 56) = v5;
  *(void *)(a1 + 64) = v6;
  double v7 = *(void **)(a2 + 72);
  *(void *)(a1 + 72) = v7;
  id v8 = v3;
  id v9 = v4;
  id v10 = v5;
  id v11 = v6;
  id v12 = v7;
  return a1;
}

uint64_t assignWithCopy for TimeLayoutOptionCellConfiguration(uint64_t a1, uint64_t a2)
{
  double v4 = *(void **)a2;
  double v5 = *(void **)a1;
  *(void *)a1 = *(void *)a2;
  id v6 = v4;

  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  double v7 = *(void **)(a1 + 48);
  id v8 = *(void **)(a2 + 48);
  *(void *)(a1 + 48) = v8;
  id v9 = v8;

  id v10 = *(void **)(a1 + 56);
  id v11 = *(void **)(a2 + 56);
  *(void *)(a1 + 56) = v11;
  id v12 = v11;

  uint64_t v13 = *(void **)(a1 + 64);
  id v14 = *(void **)(a2 + 64);
  *(void *)(a1 + 64) = v14;
  id v15 = v14;

  id v16 = *(void **)(a1 + 72);
  id v17 = *(void **)(a2 + 72);
  *(void *)(a1 + 72) = v17;
  id v18 = v17;

  return a1;
}

uint64_t assignWithTake for TimeLayoutOptionCellConfiguration(uint64_t a1, uint64_t a2)
{
  double v4 = *(void **)a1;
  *(void *)a1 = *(void *)a2;

  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);

  double v5 = *(void **)(a1 + 56);
  *(_OWORD *)(a1 + 48) = *(_OWORD *)(a2 + 48);

  id v6 = *(void **)(a1 + 72);
  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);

  return a1;
}

uint64_t getEnumTagSinglePayload for TimeLayoutOptionCellConfiguration(uint64_t *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *((unsigned char *)a1 + 80)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  uint64_t v2 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for TimeLayoutOptionCellConfiguration(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 72) = 0;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)float result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 80) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)float result = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 80) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for TimeLayoutOptionCellConfiguration()
{
  return &type metadata for TimeLayoutOptionCellConfiguration;
}

void sub_246C0D968(uint64_t a1@<X0>, void *a2@<X8>)
{
  uint64_t v5 = sub_246B80250(&qword_2691D8768);
  MEMORY[0x270FA5388](v5 - 8);
  double v7 = (char *)&v40[-1] - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_246C2C168();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  id v11 = (char *)&v40[-1] - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_246BBE940(a1, (uint64_t)v40);
  sub_246B80250(&qword_2691D8770);
  int v12 = swift_dynamicCast();
  uint64_t v13 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v9 + 56);
  if (!v12)
  {
    v13(v7, 1, 1, v8);
    goto LABEL_6;
  }
  v13(v7, 0, 1, v8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v9 + 48))(v7, 1, v8) == 1)
  {
LABEL_6:
    sub_246C0DE28((uint64_t)v7);
    id v27 = v2[8];
    id v28 = v2[9];
    id v29 = v2[6];
    id v30 = v2[7];
    id v18 = v2[4];
    id v19 = v2[5];
    id v16 = v2[2];
    id v17 = v2[3];
    id v15 = v2[1];
    id v31 = *v2;
    sub_246C0DE88((uint64_t)v2);
    goto LABEL_9;
  }
  (*(void (**)(char *, char *, uint64_t))(v9 + 32))(v11, v7, v8);
  id v14 = *v2;
  id v15 = v2[1];
  id v16 = v2[2];
  id v17 = v2[3];
  id v18 = v2[4];
  id v19 = v2[5];
  sub_246C0DEDC((uint64_t)(v2 + 6), (uint64_t)v48);
  sub_246C0DEDC((uint64_t)(v2 + 9), (uint64_t)&v47);
  sub_246C0DEDC((uint64_t)(v2 + 8), (uint64_t)&v46);
  v40[0] = v14;
  v40[1] = v15;
  _OWORD v40[2] = v16;
  v40[3] = v17;
  v40[4] = v18;
  v40[5] = v19;
  sub_246C0DEDC((uint64_t)(v2 + 7), (uint64_t)v45);
  sub_246C0DEDC((uint64_t)v45, (uint64_t)&v42);
  sub_246C0DE88((uint64_t)v2);
  if (sub_246C2C138())
  {
    id v20 = self;
    id v21 = objc_msgSend(v20, sel_systemGreenColor);
    id v22 = v21;
    sub_246BB0488(&v46);
    id v43 = v21;
    id v23 = objc_msgSend(v20, sel_systemGreenColor);
    id v24 = v23;
    sub_246BB0488(&v47);
    id v44 = v23;
    int v25 = &selRef_blackColor;
    double v26 = 0.4;
  }
  else
  {
    sub_246BB0488(&v46);
    sub_246BB0488(&v47);
    id v43 = 0;
    id v44 = 0;
    id v20 = self;
    id v23 = 0;
    id v21 = 0;
    int v25 = &selRef_whiteColor;
    double v26 = 0.6;
  }
  id v39 = v23;
  id v29 = objc_msgSend(v20, *v25, v23);
  sub_246BB0488(v48);
  id v41 = v29;
  id v30 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F825C8]), sel_initWithWhite_alpha_, v26, 1.0);
  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  id v32 = v42;
  id v33 = v30;

  id v31 = v14;
  int v34 = (void *)v40[0];
  int v35 = v41;
  id v36 = v21;
  id v38 = v43;
  id v37 = v44;

  id v27 = v36;
  id v28 = v39;
LABEL_9:
  *a2 = v31;
  a2[1] = v15;
  a2[2] = v16;
  a2[3] = v17;
  a2[4] = v18;
  a2[5] = v19;
  a2[6] = v29;
  a2[7] = v30;
  a2[8] = v27;
  a2[9] = v28;
}

id sub_246C0DD58()
{
  long long v1 = v0[3];
  uint64_t v6[2] = v0[2];
  v6[3] = v1;
  void v6[4] = v0[4];
  long long v2 = v0[1];
  v6[0] = *v0;
  v6[1] = v2;
  id v3 = objc_allocWithZone((Class)type metadata accessor for TimeLayoutOptionContentView());
  sub_246C0DE88((uint64_t)v6);
  id v4 = sub_246C286A0(v6);
  sub_246C0DF44();
  return v4;
}

__n128 sub_246C0DDC4@<Q0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  long long v4 = v2[3];
  v8[7] = v2[2];
  v8[8] = v4;
  v8[9] = v2[4];
  long long v5 = v2[1];
  _OWORD v8[5] = *v2;
  v8[6] = v5;
  sub_246C0D968(a1, v8);
  long long v6 = v8[3];
  *(_OWORD *)(a2 + 32) = v8[2];
  *(_OWORD *)(a2 + 48) = v6;
  *(_OWORD *)(a2 + 64) = v8[4];
  __n128 result = (__n128)v8[1];
  *(_OWORD *)a2 = v8[0];
  *(__n128 *)(a2 + 16) = result;
  return result;
}

uint64_t sub_246C0DE28(uint64_t a1)
{
  uint64_t v2 = sub_246B80250(&qword_2691D8768);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_246C0DE88(uint64_t a1)
{
  uint64_t v2 = *(void **)a1;
  id v3 = *(void **)(a1 + 48);
  long long v4 = *(void **)(a1 + 56);
  long long v5 = *(void **)(a1 + 64);
  id v6 = *(id *)(a1 + 72);
  id v7 = v2;
  id v8 = v3;
  id v9 = v4;
  id v10 = v5;
  return a1;
}

uint64_t sub_246C0DEDC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_246B80250(&qword_2691D8778);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

unint64_t sub_246C0DF44()
{
  unint64_t result = qword_2691D8780;
  if (!qword_2691D8780)
  {
    type metadata accessor for TimeLayoutOptionContentView();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_2691D8780);
  }
  return result;
}

id sub_246C0DF9C()
{
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_delegate + 8] = 0;
  swift_unknownObjectWeakInit();
  long long v1 = &v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_resourceDirectory];
  *(void *)long long v1 = 0;
  *((void *)v1 + 1) = 0;
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader] = 0;
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_currentIndex] = 0;
  uint64_t v2 = &v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_contentOption];
  *(void *)uint64_t v2 = 0;
  v2[8] = 1;
  *(void *)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_previousAsset] = 0;
  v4.receiver = v0;
  v4.Class super_class = (Class)type metadata accessor for ParmesanGalleryReaderDataSource();
  return objc_msgSendSuper2(&v4, sel_init);
}

void sub_246C0E058(uint64_t a1, uint64_t a2)
{
  long long v5 = (void *)(v2
                + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_resourceDirectory);
  uint64_t v6 = *(void *)(v2
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_resourceDirectory
                 + 8);
  if (!v6)
  {
    if (!a2) {
      return;
    }
    goto LABEL_10;
  }
  if (!a2 || (*v5 == a1 ? (BOOL v7 = v6 == a2) : (BOOL v7 = 0), !v7 && (sub_246C2D578() & 1) == 0))
  {
LABEL_10:
    void *v5 = a1;
    v5[1] = a2;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
    sub_246C0E114();
  }
}

void sub_246C0E114()
{
  long long v1 = (uint64_t *)(v0 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_contentOption);
  if ((*(unsigned char *)(v0
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_contentOption
                 + 8) & 1) != 0)
  {
    if (qword_2691D62F0 != -1) {
      swift_once();
    }
    uint64_t v2 = sub_246C2C088();
    sub_246B8BE0C(v2, (uint64_t)qword_2691E0120);
    os_log_t oslog = sub_246C2C068();
    os_log_type_t v3 = sub_246C2CEC8();
    if (os_log_type_enabled(oslog, v3))
    {
      objc_super v4 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)objc_super v4 = 0;
      _os_log_impl(&dword_246B51000, oslog, v3, "No contentOption to load reader from", v4, 2u);
      MEMORY[0x24C545990](v4, -1, -1);
    }
LABEL_47:

    return;
  }
  uint64_t v5 = v0;
  uint64_t v6 = (uint64_t *)(v0
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_resourceDirectory);
  uint64_t v7 = *(void *)(v0
                 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_resourceDirectory
                 + 8);
  if (!v7)
  {
    if (qword_2691D62F0 != -1) {
      swift_once();
    }
    uint64_t v19 = sub_246C2C088();
    sub_246B8BE0C(v19, (uint64_t)qword_2691E0120);
    id v20 = sub_246C2C068();
    os_log_type_t v21 = sub_246C2CEC8();
    if (os_log_type_enabled(v20, v21))
    {
      id v22 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v22 = 0;
      _os_log_impl(&dword_246B51000, v20, v21, "No resource directory to point load reader from", v22, 2u);
      MEMORY[0x24C545990](v22, -1, -1);
    }

    id v23 = *(void **)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader);
    *(void *)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader) = 0;

    goto LABEL_38;
  }
  uint64_t v8 = *v1;
  uint64_t v9 = *v6;
  uint64_t v10 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader;
  id v11 = *(void **)(v5 + OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader);
  if (v11)
  {
    swift_bridgeObjectRetain();
    os_log_t oslog = v11;
    id v12 = [oslog resourceDirectory];
    if (v12)
    {
      uint64_t v13 = v12;
      uint64_t v14 = sub_246C2CC48();
      uint64_t v16 = v15;

      if (v14 == v9 && v7 == v16)
      {
        swift_bridgeObjectRelease();
LABEL_42:
        swift_bridgeObjectRelease();
        if (qword_2691D62F0 != -1) {
          swift_once();
        }
        uint64_t v37 = sub_246C2C088();
        sub_246B8BE0C(v37, (uint64_t)qword_2691E0120);
        id v38 = sub_246C2C068();
        os_log_type_t v39 = sub_246C2CEC8();
        if (os_log_type_enabled(v38, v39))
        {
          int v40 = (uint8_t *)swift_slowAlloc();
          *(_WORD *)int v40 = 0;
          _os_log_impl(&dword_246B51000, v38, v39, "Reader is not nil and pointing to the same resource directory; nothing to load",
            v40,
            2u);
          MEMORY[0x24C545990](v40, -1, -1);
        }

        goto LABEL_47;
      }
      char v18 = sub_246C2D578();
      swift_bridgeObjectRelease();
      if (v18) {
        goto LABEL_42;
      }
    }

    if (v8 == 2) {
      goto LABEL_24;
    }
LABEL_21:
    if (v8 == 1)
    {
      swift_bridgeObjectRetain();
      id v24 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      id v25 = objc_msgSend(self, sel_readerForResourceDirectory_, v24);
    }
    else
    {
      if (v8)
      {
        sub_246C2D5A8();
        __break(1u);
        return;
      }
      swift_bridgeObjectRetain();
      id v24 = (void *)sub_246C2CC08();
      swift_bridgeObjectRelease();
      id v25 = objc_msgSend(self, sel_readerForAlbumWithResourceDirectory_, v24);
    }
    id v26 = v25;
    swift_bridgeObjectRelease();

    if (v26)
    {
      if (qword_2691D62F0 != -1) {
        swift_once();
      }
      uint64_t v27 = sub_246C2C088();
      sub_246B8BE0C(v27, (uint64_t)qword_2691E0120);
      id v28 = sub_246C2C068();
      os_log_type_t v29 = sub_246C2CEC8();
      if (os_log_type_enabled(v28, v29))
      {
        id v30 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)id v30 = 0;
        _os_log_impl(&dword_246B51000, v28, v29, "Loaded new reader", v30, 2u);
        MEMORY[0x24C545990](v30, -1, -1);
      }

      objc_msgSend(v26, sel_setDelegate_, v5);
      id v31 = *(void **)(v5 + v10);
      *(void *)(v5 + v10) = v26;
      os_log_t oslog = v26;

      sub_246C0E73C();
      goto LABEL_47;
    }
    goto LABEL_33;
  }
  swift_bridgeObjectRetain();
  if (v8 != 2) {
    goto LABEL_21;
  }
LABEL_24:
  swift_bridgeObjectRelease();
LABEL_33:
  if (qword_2691D62F0 != -1) {
    swift_once();
  }
  uint64_t v32 = sub_246C2C088();
  sub_246B8BE0C(v32, (uint64_t)qword_2691E0120);
  id v33 = sub_246C2C068();
  os_log_type_t v34 = sub_246C2CEC8();
  if (os_log_type_enabled(v33, v34))
  {
    int v35 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)int v35 = 0;
    _os_log_impl(&dword_246B51000, v33, v34, "Content option doesn't require an asset reader", v35, 2u);
    MEMORY[0x24C545990](v35, -1, -1);
  }

  id v36 = *(void **)(v5 + v10);
  *(void *)(v5 + v10) = 0;

LABEL_38:

  sub_246C0E73C();
}

uint64_t sub_246C0E73C()
{
  long long v1 = v0;
  uint64_t v2 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader;
  os_log_type_t v3 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_reader];
  if (!v3)
  {
    if (qword_2691D62F0 == -1)
    {
LABEL_17:
      uint64_t v18 = sub_246C2C088();
      sub_246B8BE0C(v18, (uint64_t)qword_2691E0120);
      uint64_t v19 = sub_246C2C068();
      os_log_type_t v20 = sub_246C2CEC8();
      if (os_log_type_enabled(v19, v20))
      {
        os_log_type_t v21 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)os_log_type_t v21 = 0;
        id v22 = "Asset reader is nil; clearing previous asset and resetting position";
        goto LABEL_22;
      }
LABEL_23:

      id v24 = *(void **)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_previousAsset];
      *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_previousAsset] = 0;

      goto LABEL_24;
    }
LABEL_61:
    swift_once();
    goto LABEL_17;
  }
  unint64_t v4 = (unint64_t)objc_msgSend(v3, sel_count);
  if ((v4 & 0x8000000000000000) != 0)
  {
    __break(1u);
LABEL_60:
    __break(1u);
    goto LABEL_61;
  }
  if (!v4)
  {
    if (qword_2691D62F0 != -1) {
      goto LABEL_65;
    }
    goto LABEL_20;
  }
  uint64_t v5 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_previousAsset;
  uint64_t v6 = *(void **)&v0[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_previousAsset];
  if (!v6)
  {
    if (qword_2691D62F0 != -1) {
      swift_once();
    }
    uint64_t v30 = sub_246C2C088();
    sub_246B8BE0C(v30, (uint64_t)qword_2691E0120);
    id v31 = sub_246C2C068();
    os_log_type_t v32 = sub_246C2CEC8();
    if (os_log_type_enabled(v31, v32))
    {
      id v33 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v33 = 0;
      _os_log_impl(&dword_246B51000, v31, v32, "no previous asset, starting at index 0", v33, 2u);
      MEMORY[0x24C545990](v33, -1, -1);
    }

LABEL_24:
    sub_246C0EFB0();
    goto LABEL_25;
  }
  uint64_t v7 = *(void **)&v0[v2];
  if (!v7)
  {
LABEL_67:
    uint64_t result = v6;
    goto LABEL_68;
  }
  uint64_t v8 = OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_currentIndex;
  uint64_t v9 = *(void *)&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_currentIndex];
  id v10 = v6;
  uint64_t result = (uint64_t)objc_msgSend(v7, sel_count);
  if (result < 0) {
    goto LABEL_60;
  }
  if (!result)
  {
LABEL_68:
    __break(1u);
    return result;
  }
  uint64_t v12 = v9 % result;
  *(void *)&v1[v8] = v9 % result;
  uint64_t v13 = *(void *)&v1[v2];
  if (v13)
  {
    uint64_t v13 = (uint64_t)objc_msgSend((id)v13, sel_count);
    if (v13 < 0) {
      goto LABEL_64;
    }
  }
  if ((v12 & 0x8000000000000000) == 0 && v12 < v13)
  {
    uint64_t v14 = *(void **)&v1[v2];
    if (v14)
    {
      id v15 = objc_msgSend(v14, sel_objectAtIndexedSubscript_, v12);
      if (v15)
      {
        uint64_t v16 = v15;
        type metadata accessor for ParmesanAsset();
        id v17 = v16;
        if (sub_246C2D108())
        {

          goto LABEL_25;
        }
        uint64_t v48 = v8;
        id v49 = v17;
        os_log_type_t v34 = *(void **)&v1[v2];
        if (!v34)
        {
LABEL_58:
          id v47 = *(void **)&v1[v5];
          *(void *)&v1[v5] = 0;

          sub_246C0EFB0();
LABEL_25:
          uint64_t result = MEMORY[0x24C545A70](&v1[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_delegate]);
          if (result)
          {
            sub_246BF35C0();
            return swift_unknownObjectRelease();
          }
          return result;
        }
        unint64_t v35 = (unint64_t)objc_msgSend(v34, sel_count);
        if ((v35 & 0x8000000000000000) == 0)
        {
          unint64_t v36 = v35;
          if (v35)
          {
            unint64_t v37 = 0;
            id v50 = v10;
            while (1)
            {
              if (v36 == v37)
              {
                __break(1u);
LABEL_63:
                __break(1u);
LABEL_64:
                __break(1u);
LABEL_65:
                swift_once();
LABEL_20:
                uint64_t v23 = sub_246C2C088();
                sub_246B8BE0C(v23, (uint64_t)qword_2691E0120);
                uint64_t v19 = sub_246C2C068();
                os_log_type_t v20 = sub_246C2CEC8();
                if (os_log_type_enabled(v19, v20))
                {
                  os_log_type_t v21 = (uint8_t *)swift_slowAlloc();
                  *(_WORD *)os_log_type_t v21 = 0;
                  id v22 = "Asset reader is empty; clearing previous asset and resetting position";
LABEL_22:
                  _os_log_impl(&dword_246B51000, v19, v20, v22, v21, 2u);
                  MEMORY[0x24C545990](v21, -1, -1);
                }
                goto LABEL_23;
              }
              id v38 = *(void **)&v1[v2];
              if (!v38) {
                break;
              }
              id v39 = v10;
              unint64_t v40 = (unint64_t)objc_msgSend(v38, sel_count);
              if ((v40 & 0x8000000000000000) != 0) {
                goto LABEL_63;
              }
              if (v37 >= v40) {
                goto LABEL_46;
              }
              id v42 = *(void **)&v1[v2];
              if (!v42) {
                goto LABEL_46;
              }
              id v43 = objc_msgSend(v42, sel_objectAtIndexedSubscript_, v37);
              if (!v43) {
                goto LABEL_46;
              }
              id v44 = v43;
              id v45 = v10;
              char v46 = sub_246C2D108();

              if (v46)
              {

                *(void *)&v1[v48] = v37;
                goto LABEL_25;
              }
LABEL_47:
              ++v37;
              id v10 = v50;
              if (v36 == v37) {
                goto LABEL_58;
              }
            }
            id v41 = v10;
LABEL_46:

            goto LABEL_47;
          }
          goto LABEL_58;
        }
        __break(1u);
        goto LABEL_67;
      }
    }
  }
  if (qword_2691D62F0 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_246C2C088();
  sub_246B8BE0C(v25, (uint64_t)qword_2691E0120);
  id v26 = v1;
  uint64_t v27 = sub_246C2C068();
  os_log_type_t v28 = sub_246C2CEE8();
  if (os_log_type_enabled(v27, v28))
  {
    os_log_type_t v29 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)os_log_type_t v29 = 134217984;
    sub_246C2D1C8();

    _os_log_impl(&dword_246B51000, v27, v28, "Asset in reader does not exist at index: %ld", v29, 0xCu);
    MEMORY[0x24C545990](v29, -1, -1);
  }
  else
  {
  }
  uint64_t result = MEMORY[0x24C545A70](&v26[OBJC_IVAR____TtC30NTKParmesanFaceBundleCompanion31ParmesanGalleryReaderDataSource_delegate]);
  if (result)
  {
    sub_246BF35C0();
    return swift_unknownObjectRelease();
  }
  return result;
}