uint64_t sub_25965D0F4()
{
  uint64_t *v0;
  uint64_t v1;
  void *v2;
  uint64_t v3;
  uint64_t v4;
  uint64_t v5;
  uint64_t v7;

  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  v1 = *v0;
  OUTLINED_FUNCTION_3();
  *v2 = v1;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v3, v4, v5);
}

uint64_t sub_25965D1BC()
{
  uint64_t v1 = v0 + 16;
  v2 = *(uint64_t **)(v0 + 16);
  int v3 = *(unsigned __int8 *)(v0 + 40);
  if (v3 == 255)
  {
    uint64_t v15 = *(void *)(v0 + 176);
    uint64_t v16 = *(void *)(v0 + 184);
    uint64_t v17 = *(void *)(v0 + 168);
    (*(void (**)(void, void))(*(void *)(v0 + 152) + 8))(*(void *)(v0 + 160), *(void *)(v0 + 144));
    sub_25953BECC(*(void *)(v0 + 64), v18, v19, v20, v21, v22, v23, v24, v64, v65, v66, v67, v69, v71, v73, v74, v75, v76, v77,
      v78,
      v79,
      v80,
      v81,
      v82,
      v83,
      v0);
    uint64_t v26 = v25;
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v15 + 8))(v16, v17);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_74_11(*(double **)(v0 + 120), *(void *)(v0 + 88));
    __swift_project_boxed_opaque_existential_1(v27, v27[3]);
    OUTLINED_FUNCTION_241();
    sub_2598435D0();
    OUTLINED_FUNCTION_33_26((char *)(v0 + 272));
    *(void *)(v49 + 32) = v48;
    *(void *)(v49 + 40) = v26;
    *(unsigned char *)(v49 + 48) = 1;
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_20_0();
    OUTLINED_FUNCTION_2_26();
    __asm { BRAA            X1, X16 }
  }
  v5 = *(void **)(v0 + 24);
  uint64_t v4 = *(void *)(v0 + 32);
  uint64_t v72 = v4;
  if (v3)
  {
    v28 = v2;
    id v29 = v5;
    v30 = v28;
    id v31 = v5;
    v32 = v30;
    id v33 = v5;
    v34 = sub_259843A50();
    os_log_type_t v35 = sub_259844B50();
    if (!os_log_type_enabled(v34, v35))
    {

      v44 = (void *)OUTLINED_FUNCTION_71_13();
      sub_25962267C(v44, v45, v46, v47);

      goto LABEL_22;
    }
    uint64_t v36 = swift_slowAlloc();
    v37 = (void *)swift_slowAlloc();
    *(_DWORD *)uint64_t v36 = 138740227;
    *(void *)(v36 + 4) = v32;
    void *v37 = v2;

    *(_WORD *)(v36 + 12) = 2112;
    id v38 = v5;
    uint64_t v39 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v36 + 14) = v39;
    v37[1] = v39;

    _os_log_impl(&dword_25934C000, v34, v35, "Part Of Day retrieval for query %{sensitive}@ failed with error: %@.", (uint8_t *)v36, 0x16u);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    v40 = (void *)OUTLINED_FUNCTION_71_13();
  }
  else
  {
    uint64_t v6 = v2[2];
    unsigned __int8 v68 = *(unsigned char *)(v0 + 40);
    v70 = *(void **)(v0 + 16);
    if (v6)
    {
      uint64_t v65 = *(void *)(v0 + 24);
      v7 = (void *)(v0 + 72);
      sub_2596225E8(v2, v5, v4, v3);
      *(void *)(v0 + 72) = MEMORY[0x263F8EE78];
      sub_259843F00();
      sub_2594F08BC();
      v8 = *(void **)(v0 + 72);
      v9 = v2 + 5;
      do
      {
        uint64_t v10 = *(v9 - 1);
        uint64_t v11 = *v9;
        void *v7 = v8;
        unint64_t v13 = v8[2];
        unint64_t v12 = v8[3];
        sub_259843F00();
        if (v13 >= v12 >> 1)
        {
          sub_2594F08BC();
          v8 = (void *)*v7;
        }
        v8[2] = v13 + 1;
        v14 = &v8[2 * v13];
        v14[4] = v10;
        v14[5] = v11;
        v9 += 4;
        --v6;
      }
      while (v6);
      swift_bridgeObjectRelease();
      v5 = (void *)v65;
      uint64_t v1 = v0 + 16;
    }
    else
    {
      sub_259622600(v2, v5, v4, 0);
      v8 = (void *)MEMORY[0x263F8EE78];
    }
    uint64_t v52 = v8[2];
    if (v52)
    {
      v53 = v8 + 5;
      do
      {
        uint64_t v54 = *(v53 - 1);
        uint64_t v55 = *v53;
        sub_259843F00();
        sub_2596D4E7C(v1 + 32, v54, v55, v56, v57, v58, v59, v60, v64, v65);
        swift_bridgeObjectRelease();
        v53 += 2;
        --v52;
      }
      while (v52);
    }
    swift_bridgeObjectRelease();
    sub_25962267C(v70, v5, v72, v68);
    v40 = v70;
    v41 = v5;
    uint64_t v42 = v72;
    unsigned __int8 v43 = v68;
  }
  sub_25962267C(v40, v41, v42, v43);
LABEL_22:
  v61 = (void *)swift_task_alloc();
  *(void *)(v0 + 264) = v61;
  void *v61 = v0;
  v61[1] = sub_25965D0F4;
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_2_26();
  return MEMORY[0x270FA1F68]();
}

uint64_t sub_25965D67C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, double a9)
{
  *(double *)(v9 + 104) = a9;
  *(void *)(v9 + 88) = a7;
  *(void *)(v9 + 96) = a8;
  *(void *)(v9 + 72) = a5;
  *(void *)(v9 + 80) = a6;
  *(void *)(v9 + 56) = a3;
  *(void *)(v9 + 64) = a4;
  *(void *)(v9 + 40) = a1;
  *(void *)(v9 + 48) = a2;
  return MEMORY[0x270FA2498](sub_25965D6AC, 0, 0);
}

uint64_t sub_25965D6AC()
{
  OUTLINED_FUNCTION_74();
  uint64_t v2 = *(void *)(v1 + 40);
  sub_25965E2B0();
  int v3 = (int *)type metadata accessor for PartOfWeekExtendedToken(0);
  uint64_t v4 = v3[8];
  *(unsigned char *)(v2 + v4) = 1;
  uint64_t v5 = v3[7];
  *(_DWORD *)(v1 + 136) = v5;
  uint64_t v6 = *(void *)(v2 + v5);
  if (!v6 || !*(void *)(v6 + 16))
  {
    uint64_t v7 = *(void *)(v1 + 40) + v3[6];
    uint64_t v8 = sub_259843530();
    id v10 = static StoryGenerationUtilities.partOfWeekAttributedQueryString(with:localizedText:)(v7, v8, v9);
    *(void *)(v1 + 112) = v10;
    swift_bridgeObjectRelease();
    if (v10)
    {
      uint64_t v11 = *(void **)(v1 + 64);
      uint64_t v12 = v11[7];
      uint64_t v13 = v11[8];
      __swift_project_boxed_opaque_existential_1(v11 + 4, v12);
      OUTLINED_FUNCTION_34_26();
      uint64_t v24 = (uint64_t (*)(uint64_t, id, uint64_t, uint64_t, uint64_t, uint64_t))((char *)v14 + *v14);
      swift_task_alloc();
      OUTLINED_FUNCTION_53_0();
      *(void *)(v1 + 120) = v15;
      *uint64_t v15 = v16;
      v15[1] = sub_25965D934;
      uint64_t v17 = *(void *)(v1 + 72);
      uint64_t v18 = *(void *)(v1 + 80);
      return v24(v1 + 16, v10, v17, v18, v12, v13);
    }
    uint64_t v20 = sub_259843A50();
    os_log_type_t v21 = sub_259844B50();
    uint64_t v0 = v21;
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v22 = (uint8_t *)OUTLINED_FUNCTION_41();
      *(_WORD *)uint64_t v22 = 0;
      _os_log_impl(&dword_25934C000, v20, (os_log_type_t)v0, "Part Of Week retrieval not supported by Spotlight in this build.", v22, 2u);
      OUTLINED_FUNCTION_61_0();
    }

    *(unsigned char *)(v2 + v4) = 2;
  }
  OUTLINED_FUNCTION_12_38(*(void **)(v1 + 96), *(double **)(v1 + 88), *(void *)(v1 + 48));
  if (v0)
  {
    sub_25965E304(*(void *)(v1 + 40), (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    OUTLINED_FUNCTION_15_1();
  }
  else
  {
    OUTLINED_FUNCTION_20_0();
  }
  return v23();
}

uint64_t sub_25965D934()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *int v3 = v2;
  uint64_t v4 = *v1;
  OUTLINED_FUNCTION_3();
  void *v5 = v4;
  *(void *)(v6 + 128) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_25965DA10(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16)
{
  OUTLINED_FUNCTION_32_24();
  OUTLINED_FUNCTION_55_0();
  uint64_t v19 = *(void **)(v16 + 112);
  uint64_t v20 = *(int *)(v16 + 136);
  uint64_t v21 = OUTLINED_FUNCTION_58_17();

  swift_bridgeObjectRelease();
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v18 + v20) = v21;
  uint64_t v22 = *(void *)(v16 + 128);
  OUTLINED_FUNCTION_29_22();
  if (v22)
  {
    sub_25965E304(*(void *)(v16 + 40), (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    OUTLINED_FUNCTION_15_1();
  }
  else
  {
    OUTLINED_FUNCTION_20_0();
  }
  OUTLINED_FUNCTION_31_25();
  return v24(v23, v24, v25, v26, v27, v28, v29, v30, a9, a10, a11, a12, a13, a14, a15, a16);
}

uint64_t sub_25965DACC()
{
  OUTLINED_FUNCTION_14();

  sub_25965E304(*(void *)(v0 + 40), (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
  OUTLINED_FUNCTION_67();
  return v1();
}

uint64_t sub_25965DB44(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, double a6)
{
  *(double *)(v6 + 48) = a6;
  *(void *)(v6 + 32) = a4;
  *(void *)(v6 + 40) = a5;
  *(void *)(v6 + 16) = a1;
  *(void *)(v6 + 24) = a2;
  *(_OWORD *)(v6 + 56) = *(_OWORD *)a3;
  *(void *)(v6 + 72) = *(void *)(a3 + 16);
  *(unsigned char *)(v6 + 104) = *(unsigned char *)(a3 + 24);
  *(_OWORD *)(v6 + 80) = *(_OWORD *)(a3 + 32);
  *(void *)(v6 + 96) = *(void *)(a3 + 56);
  return MEMORY[0x270FA2498](sub_25965DB94, 0, 0);
}

uint64_t sub_25965DB94()
{
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_36_22();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_2598435D0();
  uint64_t v2 = *(void *)(v0 + 88);
  uint64_t v1 = *(void *)(v0 + 96);
  char v3 = *(unsigned char *)(v0 + 104);
  uint64_t v5 = *(void *)(v0 + 72);
  uint64_t v4 = *(void *)(v0 + 80);
  uint64_t v6 = *(void *)(v0 + 16);
  if (v1) {
    char v7 = 1;
  }
  else {
    char v7 = 2;
  }
  *(_OWORD *)uint64_t v6 = *(_OWORD *)(v0 + 56);
  *(void *)(v6 + 16) = v5;
  *(unsigned char *)(v6 + 24) = v3;
  *(void *)(v6 + 32) = v4;
  *(void *)(v6 + 40) = v2;
  *(unsigned char *)(v6 + 48) = v7;
  *(void *)(v6 + 56) = v1;
  OUTLINED_FUNCTION_20_0();
  return v8();
}

uint64_t FinalTokenGenerator.deinit()
{
  __swift_destroy_boxed_opaque_existential_1(v0 + 32);
  sub_259843A80();
  OUTLINED_FUNCTION_4();
  uint64_t v1 = OUTLINED_FUNCTION_11_1();
  v2(v1);
  sub_2593980F8(*(void *)(v0
                          + OBJC_IVAR____TtC18PhotosIntelligence19FinalTokenGenerator____lazy_storage___interestingTokenFilteringClosure));
  sub_2593980F8(*(void *)(v0
                          + OBJC_IVAR____TtC18PhotosIntelligence19FinalTokenGenerator____lazy_storage___assetScopingTokenElectionClosure));
  return v0;
}

uint64_t FinalTokenGenerator.__deallocating_deinit()
{
  FinalTokenGenerator.deinit();
  uint64_t v1 = *(unsigned int *)(*(void *)v0 + 48);
  uint64_t v2 = *(unsigned __int16 *)(*(void *)v0 + 52);
  return MEMORY[0x270FA0228](v0, v1, v2);
}

uint64_t sub_25965DD8C()
{
  swift_unownedRelease();
  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_25965DDC4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t *a3@<X8>)
{
  return sub_259657C10(a1, a2, a3);
}

uint64_t sub_25965DDCC@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  return sub_259657F44(a1, a2, a3);
}

uint64_t sub_25965DDD4@<X0>(void *a1@<X8>)
{
  return sub_259657E30((uint64_t (*)(void))FinalTokenGenerator.interestingTokenFilteringClosure.getter, (uint64_t)sub_25965E0C4, a1);
}

uint64_t sub_25965DE1C(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_259657E94(a1, a2, a3, a4, (uint64_t)&unk_2707503D0, (uint64_t)sub_25965E06C, FinalTokenGenerator.interestingTokenFilteringClosure.setter);
}

uint64_t sub_25965DE64@<X0>(void *a1@<X8>)
{
  return sub_259657E30((uint64_t (*)(void))FinalTokenGenerator.assetScopingTokenElectionClosure.getter, (uint64_t)sub_25965E098, a1);
}

uint64_t sub_25965DEAC(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_259657E94(a1, a2, a3, a4, (uint64_t)&unk_270750380, (uint64_t)sub_25965E06C, FinalTokenGenerator.assetScopingTokenElectionClosure.setter);
}

uint64_t sub_25965DEF4()
{
  return type metadata accessor for FinalTokenGenerator();
}

uint64_t type metadata accessor for FinalTokenGenerator()
{
  uint64_t result = qword_26A38F848;
  if (!qword_26A38F848) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_25965DF44()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t method lookup function for FinalTokenGenerator(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for FinalTokenGenerator);
}

uint64_t dispatch thunk of FinalTokenGenerator.__allocating_init(photoLibrary:storyAssetsFetcher:)()
{
  return (*(uint64_t (**)(void))(v0 + 128))();
}

uint64_t sub_25965E034()
{
  swift_release();
  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_25965E06C()
{
  OUTLINED_FUNCTION_68_13();
  return v0();
}

uint64_t sub_25965E098(uint64_t a1, void *a2)
{
  return (*(uint64_t (**)(uint64_t, void))(v2 + 16))(a1, *a2);
}

uint64_t sub_25965E0C4(uint64_t a1, void *a2)
{
  return (*(uint64_t (**)(uint64_t, void))(v2 + 16))(a1, *a2);
}

void sub_25965E0F0(uint64_t a1@<X1>, uint64_t a2@<X8>)
{
  unint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    unint64_t v5 = sub_25965E178(*(void *)(a1 + 16));
    if (v5 >= v3)
    {
      __break(1u);
    }
    else
    {
      uint64_t v6 = a1 + 40 * v5 + 32;
      sub_259353FF0(v6, a2);
    }
  }
  else
  {
    *(void *)(a2 + 32) = 0;
    *(_OWORD *)a2 = 0u;
    *(_OWORD *)(a2 + 16) = 0u;
  }
}

unint64_t sub_25965E178(unint64_t result)
{
  if (result)
  {
    unint64_t v1 = result;
    unint64_t v3 = 0;
    MEMORY[0x25A2E13C0](&v3, 8);
    uint64_t result = (v3 * (unsigned __int128)v1) >> 64;
    if (v3 * v1 < v1)
    {
      unint64_t v2 = -(uint64_t)v1 % v1;
      if (v2 > v3 * v1)
      {
        do
        {
          unint64_t v3 = 0;
          MEMORY[0x25A2E13C0](&v3, 8);
        }
        while (v2 > v3 * v1);
        return (v3 * (unsigned __int128)v1) >> 64;
      }
    }
  }
  else
  {
    __break(1u);
  }
  return result;
}

uint64_t sub_25965E204(uint64_t result, double a2, double a3)
{
  if (a2 == a3)
  {
    __break(1u);
    goto LABEL_7;
  }
  double v5 = a3 - a2;
  if ((~COERCE__INT64(a3 - a2) & 0x7FF0000000000000) == 0)
  {
LABEL_7:
    __break(1u);
    return result;
  }
  uint64_t v6 = result;
  uint64_t v7 = 0;
  uint64_t result = MEMORY[0x25A2E13C0](&v7, 8);
  if (v5 * ((double)(v7 & 0x1FFFFFFFFFFFFFLL) * 1.11022302e-16) + a2 == a3) {
    return sub_25965E204(v6, a2, a3);
  }
  return result;
}

uint64_t sub_25965E2B0()
{
  uint64_t v2 = OUTLINED_FUNCTION_75_10();
  v3(v2);
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t, uint64_t))(v4 + 16))(v0, v1);
  return v0;
}

uint64_t sub_25965E304(uint64_t a1, void (*a2)(void))
{
  a2(0);
  OUTLINED_FUNCTION_4();
  uint64_t v3 = OUTLINED_FUNCTION_11_1();
  v4(v3);
  return a1;
}

uint64_t sub_25965E354()
{
  uint64_t v2 = OUTLINED_FUNCTION_75_10();
  v3(v2);
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t, uint64_t))(v4 + 32))(v0, v1);
  return v0;
}

uint64_t sub_25965E3A8()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965AE50(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E438()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965B44C(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E4C8()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965B9C4(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E558()
{
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_59_19();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  double v8 = OUTLINED_FUNCTION_46_23();
  return sub_25965BE00(v3, v4, v5, v6, v7, v8);
}

uint64_t sub_25965E5F8()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965BF38(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E688()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965C224(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E718()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965CA28(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E7A8()
{
  OUTLINED_FUNCTION_17_35();
  OUTLINED_FUNCTION_74();
  OUTLINED_FUNCTION_3_62();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C2EE4;
  OUTLINED_FUNCTION_2_63();
  OUTLINED_FUNCTION_16_37();
  return sub_25965D67C(v3, v4, v5, v6, v7, v8, v9, v10, v11);
}

uint64_t sub_25965E838()
{
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_59_19();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_24(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A0;
  double v8 = OUTLINED_FUNCTION_46_23();
  return sub_25965DB44(v3, v4, v5, v6, v7, v8);
}

void *OUTLINED_FUNCTION_20_38(void *result)
{
  result[2] = v3;
  result[3] = v1;
  result[4] = v5;
  result[5] = v2;
  result[6] = v4;
  result[7] = v6;
  return result;
}

uint64_t OUTLINED_FUNCTION_29_22()
{
  uint64_t v1 = *(void **)(v0 + 96);
  **(double **)(v0 + 88) = **(double **)(v0 + 88) + (double)*(uint64_t *)(v0 + 48);
  __swift_project_boxed_opaque_existential_1(v1, v1[3]);
  return sub_2598435D0();
}

uint64_t OUTLINED_FUNCTION_34_26()
{
  return v0 + 16;
}

double OUTLINED_FUNCTION_46_23()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_51_16()
{
  return swift_bridgeObjectRetain_n();
}

uint64_t OUTLINED_FUNCTION_53_16()
{
  uint64_t v1 = v0[8];
  __swift_project_boxed_opaque_existential_1(v0 + 4, v0[7]);
  return v1 + 16;
}

uint64_t OUTLINED_FUNCTION_54_18()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_62_14(uint64_t result)
{
  *(void *)(v1 + 160) = result;
  return result;
}

uint64_t OUTLINED_FUNCTION_63_14@<X0>(uint64_t a1@<X8>)
{
  return a1;
}

uint64_t OUTLINED_FUNCTION_64_17()
{
  *(void *)(v3 - 112) = v0;
  *(void *)(v3 - 104) = v1;
  *(void *)(v3 - 96) = v2;
  return v3 - 160;
}

uint64_t OUTLINED_FUNCTION_66_15()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_71_13()
{
  return v0;
}

double OUTLINED_FUNCTION_74_11@<D0>(double *a1@<X8>, uint64_t a2@<D0>)
{
  double result = (double)a2;
  *a1 = *a1 + result;
  return result;
}

uint64_t OUTLINED_FUNCTION_75_10()
{
  return 0;
}

uint64_t sub_25965EAF4@<X0>(uint64_t a1@<X0>, uint64_t (*a2)(uint64_t, uint64_t, void *)@<X1>, void *a3@<X8>)
{
  sub_2597EFE50(v24, a1);
  uint64_t v4 = v24[0];
  int64_t v5 = v24[3];
  unint64_t v6 = v24[4];
  uint64_t v21 = v24[1];
  int64_t v22 = (unint64_t)(v24[2] + 64) >> 6;
  uint64_t result = sub_259843F00();
  if (!v6) {
    goto LABEL_3;
  }
LABEL_2:
  unint64_t v8 = __clz(__rbit64(v6));
  v6 &= v6 - 1;
  unint64_t v9 = v8 | (v5 << 6);
  while (1)
  {
    v14 = (uint64_t *)(*(void *)(v4 + 48) + 16 * v9);
    uint64_t v16 = *v14;
    uint64_t v15 = v14[1];
    uint64_t v17 = (uint64_t *)(*(void *)(v4 + 56) + 16 * v9);
    uint64_t v18 = *v17;
    uint64_t v19 = v17[1];
    v23[0] = *v17;
    v23[1] = v19;
    sub_259843F00();
    sub_259843F00();
    if (a2(v16, v15, v23))
    {
      uint64_t result = swift_release();
      *a3 = v16;
      a3[1] = v15;
      a3[2] = v18;
      a3[3] = v19;
      return result;
    }
    swift_bridgeObjectRelease();
    uint64_t result = swift_bridgeObjectRelease();
    if (v6) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v10 = v5 + 1;
    if (__OFADD__(v5, 1)) {
      break;
    }
    if (v10 >= v22) {
      goto LABEL_23;
    }
    unint64_t v11 = *(void *)(v21 + 8 * v10);
    int64_t v12 = v5 + 1;
    if (!v11)
    {
      int64_t v12 = v5 + 2;
      if (v5 + 2 >= v22) {
        goto LABEL_23;
      }
      unint64_t v11 = *(void *)(v21 + 8 * v12);
      if (!v11)
      {
        int64_t v12 = v5 + 3;
        if (v5 + 3 >= v22) {
          goto LABEL_23;
        }
        unint64_t v11 = *(void *)(v21 + 8 * v12);
        if (!v11)
        {
          int64_t v12 = v5 + 4;
          if (v5 + 4 >= v22) {
            goto LABEL_23;
          }
          unint64_t v11 = *(void *)(v21 + 8 * v12);
          if (!v11)
          {
            int64_t v12 = v5 + 5;
            if (v5 + 5 >= v22) {
              goto LABEL_23;
            }
            unint64_t v11 = *(void *)(v21 + 8 * v12);
            if (!v11)
            {
              int64_t v13 = v5 + 6;
              while (v13 < v22)
              {
                unint64_t v11 = *(void *)(v21 + 8 * v13++);
                if (v11)
                {
                  int64_t v12 = v13 - 1;
                  goto LABEL_18;
                }
              }
LABEL_23:
              uint64_t result = swift_release();
              *(_OWORD *)a3 = 0u;
              *((_OWORD *)a3 + 1) = 0u;
              return result;
            }
          }
        }
      }
    }
LABEL_18:
    unint64_t v6 = (v11 - 1) & v11;
    unint64_t v9 = __clz(__rbit64(v11)) + (v12 << 6);
    int64_t v5 = v12;
  }
  __break(1u);
  return result;
}

id sub_25965ED08(void *a1, uint64_t a2, uint64_t a3)
{
  if ((uint64_t)objc_msgSend(a1, sel_count) < 1) {
    return a1;
  }
  uint64_t v63 = v3;
  uint64_t v64 = a2;
  *((void *)&v60 + 1) = a3;
  sub_25946D748();
  uint64_t v7 = (void *)sub_259843EE0();
  unint64_t v8 = (unint64_t)objc_msgSend(a1, sel_count);
  if ((v8 & 0x8000000000000000) != 0) {
    goto LABEL_40;
  }
  if (v8)
  {
    uint64_t v16 = 0;
    uint64_t v65 = v8;
    while ((char *)v8 != v16)
    {
      id v17 = objc_msgSend(a1, sel_objectAtIndexedSubscript_, v16);
      uint64_t v18 = sub_2593A2A4C(v17);
      if (!v19) {
        goto LABEL_41;
      }
      uint64_t v20 = v18;
      uint64_t v21 = v19;
      *(void *)&long long v66 = v17;
      swift_isUniquelyReferenced_nonNull_native();
      uint64_t v69 = (uint64_t)v7;
      unint64_t v22 = sub_25939CE90();
      if (__OFADD__(v7[2], (v23 & 1) == 0)) {
        goto LABEL_38;
      }
      unint64_t v24 = v22;
      char v25 = v23;
      __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A389A18);
      if (sub_259845350())
      {
        unint64_t v26 = sub_25939CE90();
        if ((v25 & 1) != (v27 & 1)) {
          goto LABEL_42;
        }
        unint64_t v24 = v26;
      }
      uint64_t v7 = (void *)v69;
      if (v25)
      {
        uint64_t v28 = *(void *)(v69 + 56);
        uint64_t v29 = *(void **)(v28 + 8 * v24);
        uint64_t v30 = (void *)v66;
        *(void *)(v28 + 8 * v24) = v66;
      }
      else
      {
        *(void *)(v69 + 8 * (v24 >> 6) + 64) |= 1 << v24;
        id v31 = (uint64_t *)(v7[6] + 16 * v24);
        *id v31 = v20;
        v31[1] = v21;
        uint64_t v30 = (void *)v66;
        *(void *)(v7[7] + 8 * v24) = v66;
        uint64_t v32 = v7[2];
        BOOL v33 = __OFADD__(v32, 1);
        uint64_t v34 = v32 + 1;
        if (v33) {
          goto LABEL_39;
        }
        v7[2] = v34;
        sub_259843F00();
      }
      ++v16;

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v8 = v65;
      if ((char *)v65 == v16) {
        goto LABEL_16;
      }
    }
    __break(1u);
LABEL_38:
    __break(1u);
LABEL_39:
    __break(1u);
LABEL_40:
    __break(1u);
LABEL_41:
    __break(1u);
LABEL_42:
    id result = (id)sub_2598457D0();
    __break(1u);
    return result;
  }
LABEL_16:
  *(void *)&long long v60 = a1;
  uint64_t v35 = MEMORY[0x263F8EE78];
  uint64_t v69 = MEMORY[0x263F8EE78];
  uint64_t v36 = *(void *)(v64 + 16);
  if (!v36) {
    goto LABEL_31;
  }
  v37 = (unint64_t *)(sub_259843F00() + 40);
  unint64_t v38 = 0x26A388000uLL;
  *(void *)&long long v39 = 136315138;
  long long v66 = v39;
  uint64_t v65 = MEMORY[0x263F8EE58] + 8;
  do
  {
    uint64_t v41 = *(v37 - 1);
    unint64_t v40 = *v37;
    uint64_t v42 = v7[2];
    sub_259843F00();
    if (v42)
    {
      sub_259843F00();
      unint64_t v43 = sub_25939CE90();
      if (v44)
      {
        id v45 = *(id *)(v7[7] + 8 * v43);
        swift_bridgeObjectRelease_n();
        id v46 = v45;
        MEMORY[0x25A2DED30]();
        if (*(void *)((v69 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v69 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_259844560();
        }
        sub_2598445B0();
        sub_259844530();

        goto LABEL_29;
      }
      swift_bridgeObjectRelease();
    }
    if (*(void *)(v38 + 2728) != -1) {
      swift_once();
    }
    uint64_t v47 = sub_259843A80();
    __swift_project_value_buffer(v47, (uint64_t)qword_26A38F8F0);
    sub_259843F00();
    uint64_t v48 = sub_259843A50();
    os_log_type_t v49 = sub_259844B50();
    if (os_log_type_enabled(v48, v49))
    {
      uint64_t v50 = swift_slowAlloc();
      v68[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v50 = v66;
      sub_259843F00();
      *(void *)(v50 + 4) = sub_259356D5C(v41, v40, v68);
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v48, v49, "Asset %s not found in the fetch result and is part of the orderedUUIDs", (uint8_t *)v50, 0xCu);
      swift_arrayDestroy();
      unint64_t v38 = 0x26A388000;
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
LABEL_29:
    v37 += 2;
    --v36;
  }
  while (v36);
  swift_bridgeObjectRelease();
  uint64_t v35 = v69;
LABEL_31:
  sub_25952C348(v35, v9, v10, v11, v12, v13, v14, v15, v59, v60, v63, v64, v65, v66, *((uint64_t *)&v66 + 1), v67, v68[0], v68[1], v69,
    v70,
    v71,
    v72,
    v73,
    v74,
    v75);
  swift_bridgeObjectRelease();
  id v51 = objc_msgSend(v61, sel_fetchType);
  if (v51)
  {
    uint64_t v52 = v51;
    sub_2598440A0();
  }
  id v54 = objc_msgSend(v61, sel_fetchPropertySets);
  if (v54)
  {
    uint64_t v55 = v54;
    sub_259844920();
  }
  objc_allocWithZone(MEMORY[0x263F14E58]);
  id v56 = v62;
  sub_25953B8C8();
  uint64_t v58 = v57;
  swift_bridgeObjectRelease();
  return (id)v58;
}

void sub_25965F270()
{
  OUTLINED_FUNCTION_224();
  uint64_t v2 = v1;
  uint64_t v3 = sub_259842590();
  OUTLINED_FUNCTION_87();
  uint64_t v5 = v4;
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_233();
  uint64_t v9 = v8 - v7;
  sub_259842680();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v10);
  OUTLINED_FUNCTION_114();
  static FreeformStoryDiagnosticsUtils.temporaryDiagnosticsDirectory(_:)();
  if (v0)
  {
LABEL_24:
    OUTLINED_FUNCTION_235();
    return;
  }
  uint64_t v30 = v3;
  uint64_t v26 = v2 + 64;
  uint64_t v11 = 1 << *(unsigned char *)(v2 + 32);
  uint64_t v12 = -1;
  if (v11 < 64) {
    uint64_t v12 = ~(-1 << v11);
  }
  unint64_t v13 = v12 & *(void *)(v2 + 64);
  int64_t v27 = (unint64_t)(v11 + 63) >> 6;
  unsigned int v29 = *MEMORY[0x263F06E50];
  uint64_t v28 = (void (**)(uint64_t, void, uint64_t))(v5 + 104);
  sub_259843F00();
  int64_t v14 = 0;
  if (!v13) {
    goto LABEL_6;
  }
LABEL_5:
  unint64_t v15 = __clz(__rbit64(v13));
  v13 &= v13 - 1;
  int64_t v31 = v14;
  for (unint64_t i = v15 | (v14 << 6); ; unint64_t i = __clz(__rbit64(v19)) + (v18 << 6))
  {
    uint64_t v21 = (uint64_t *)(*(void *)(v2 + 56) + 16 * i);
    uint64_t v22 = *v21;
    unint64_t v23 = v21[1];
    (*v28)(v9, v29, v30);
    sub_259843F00();
    sub_2594AAF0C(v22, v23);
    sub_259399328();
    sub_259842670();
    OUTLINED_FUNCTION_11();
    v24();
    swift_bridgeObjectRelease();
    sub_2598426E0();
    OUTLINED_FUNCTION_11();
    v25();
    sub_259399374(v22, v23);
    int64_t v14 = v31;
    if (v13) {
      goto LABEL_5;
    }
LABEL_6:
    BOOL v17 = __OFADD__(v14, 1);
    int64_t v18 = v14 + 1;
    if (v17)
    {
      __break(1u);
      goto LABEL_26;
    }
    if (v18 >= v27) {
      goto LABEL_23;
    }
    unint64_t v19 = *(void *)(v26 + 8 * v18);
    if (!v19) {
      break;
    }
LABEL_16:
    unint64_t v13 = (v19 - 1) & v19;
    int64_t v31 = v18;
  }
  int64_t v20 = v18 + 1;
  if (v18 + 1 >= v27) {
    goto LABEL_23;
  }
  unint64_t v19 = *(void *)(v26 + 8 * v20);
  if (v19) {
    goto LABEL_15;
  }
  int64_t v20 = v18 + 2;
  if (v18 + 2 >= v27) {
    goto LABEL_23;
  }
  unint64_t v19 = *(void *)(v26 + 8 * v20);
  if (v19) {
    goto LABEL_15;
  }
  int64_t v20 = v18 + 3;
  if (v18 + 3 >= v27)
  {
LABEL_23:
    swift_release();
    goto LABEL_24;
  }
  unint64_t v19 = *(void *)(v26 + 8 * v20);
  if (v19)
  {
LABEL_15:
    int64_t v18 = v20;
    goto LABEL_16;
  }
  while (1)
  {
    int64_t v18 = v20 + 1;
    if (__OFADD__(v20, 1)) {
      break;
    }
    if (v18 >= v27) {
      goto LABEL_23;
    }
    unint64_t v19 = *(void *)(v26 + 8 * v18);
    ++v20;
    if (v19) {
      goto LABEL_16;
    }
  }
LABEL_26:
  __break(1u);
}

uint64_t sub_25965F604()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A38F8F0);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A38F8F0);
  return sub_259843A60();
}

void static FreeformStoryDiagnosticsUtils.diagnosticFiles(for:)()
{
  OUTLINED_FUNCTION_224();
  uint64_t v4 = v3;
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  uint64_t v6 = OUTLINED_FUNCTION_129(v5);
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_44_0();
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_28_24();
  uint64_t v8 = sub_259842680();
  OUTLINED_FUNCTION_87();
  uint64_t v10 = v9;
  MEMORY[0x270FA5388](v11);
  OUTLINED_FUNCTION_268();
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v12);
  uint64_t v13 = sub_25944C4E4(v4);
  if (v14)
  {
    uint64_t v15 = v13;
    uint64_t v16 = v14;
    sub_25965F930();
    if (v0)
    {
      swift_bridgeObjectRelease();
    }
    else
    {
      OUTLINED_FUNCTION_58(v2, 1, v8);
      if (v18)
      {
        swift_bridgeObjectRelease();
        sub_259450910(v2, &qword_26B2FFA60);
      }
      else
      {
        unint64_t v19 = *(void (**)(void))(v10 + 32);
        OUTLINED_FUNCTION_24_37();
        v20();
        sub_25965FEE8(v15, v16, v1);
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_58(v1, 1, v8);
        if (v18)
        {
          sub_259450910(v1, &qword_26B2FFA60);
        }
        else
        {
          OUTLINED_FUNCTION_24_37();
          v19();
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A389840);
          *(_OWORD *)(swift_allocObject() + 16) = xmmword_259876920;
          OUTLINED_FUNCTION_24_37();
          v19();
        }
        uint64_t v21 = OUTLINED_FUNCTION_23_38();
        v22(v21);
      }
    }
  }
  else
  {
    sub_259662AE0();
    OUTLINED_FUNCTION_37();
    *(_OWORD *)uint64_t v17 = 0u;
    *(_OWORD *)(v17 + 16) = 0u;
    *(unsigned char *)(v17 + 32) = 2;
    swift_willThrow();
  }
  OUTLINED_FUNCTION_235();
}

void sub_25965F930()
{
  OUTLINED_FUNCTION_224();
  long long v66 = v0;
  uint64_t v4 = v3;
  uint64_t v6 = v5;
  uint64_t v7 = sub_259842590();
  OUTLINED_FUNCTION_87();
  uint64_t v68 = v8;
  MEMORY[0x270FA5388](v9);
  OUTLINED_FUNCTION_114();
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  uint64_t v11 = OUTLINED_FUNCTION_129(v10);
  MEMORY[0x270FA5388](v11);
  OUTLINED_FUNCTION_233();
  uint64_t v14 = v13 - v12;
  uint64_t v15 = sub_259842680();
  OUTLINED_FUNCTION_87();
  uint64_t v71 = v16;
  MEMORY[0x270FA5388](v17);
  OUTLINED_FUNCTION_44_0();
  MEMORY[0x270FA5388](v18);
  OUTLINED_FUNCTION_94_11();
  MEMORY[0x270FA5388](v19);
  uint64_t v67 = (char *)&v55 - v20;
  id v21 = objc_msgSend(v4, sel_photoLibrary);
  if (!v21) {
    goto LABEL_10;
  }
  uint64_t v22 = v21;
  uint64_t v65 = v7;
  id v23 = objc_msgSend(v21, sel_urlForApplicationDataFolderIdentifier_, 11);
  if (!v23)
  {
    OUTLINED_FUNCTION_20_39(v14, 1);
    goto LABEL_9;
  }
  unint64_t v24 = v23;
  uint64_t v63 = v6;
  sub_259842630();

  char v25 = *(void (**)(void))(v71 + 32);
  OUTLINED_FUNCTION_24_37();
  v25();
  OUTLINED_FUNCTION_20_39(v14, 0);
  OUTLINED_FUNCTION_58(v14, 1, v15);
  if (v26)
  {
LABEL_9:

    sub_259450910(v14, &qword_26B2FFA60);
LABEL_10:
    sub_259662AE0();
    uint64_t v40 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_6_55(v40, v41);
    goto LABEL_11;
  }
  uint64_t v64 = v1;
  OUTLINED_FUNCTION_24_37();
  v25();
  id v27 = objc_msgSend(v4, sel_localIdentifier);
  uint64_t v61 = sub_2598440A0();
  uint64_t v62 = v28;

  if (qword_26B2F85D0 != -1) {
    swift_once();
  }
  uint64_t v69 = qword_26B2F85B8;
  uint64_t v70 = unk_26B2F85C0;
  uint64_t v29 = v68;
  uint64_t v30 = *(void (**)(void))(v68 + 104);
  unsigned int v60 = *MEMORY[0x263F06E50];
  uint64_t v31 = v65;
  uint64_t v58 = (void (*)(uint64_t, void, uint64_t))v30;
  v30(v2);
  unint64_t v32 = sub_259399328();
  sub_259843F00();
  unint64_t v59 = v32;
  sub_259842670();
  uint64_t v35 = *(void (**)(void, void))(v29 + 8);
  uint64_t v34 = v29 + 8;
  BOOL v33 = v35;
  v35(v2, v31);
  swift_bridgeObjectRelease();
  uint64_t v36 = v66;
  uint64_t v37 = sub_259842690();
  if (v36)
  {
    swift_bridgeObjectRelease();

    long long v39 = *(void (**)(void))(v71 + 8);
    OUTLINED_FUNCTION_1_75();
    v39();
    OUTLINED_FUNCTION_1_75();
    v39();
  }
  else
  {
    long long v66 = v33;
    uint64_t v68 = v34;
    uint64_t v42 = v37;
    unint64_t v43 = v38;
    sub_259842270();
    OUTLINED_FUNCTION_102();
    uint64_t v44 = sub_259842260();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BEB0);
    sub_259662B8C(&qword_26A38BEC8, (void (*)(void))sub_25948C498);
    OUTLINED_FUNCTION_90_5();
    uint64_t v45 = sub_259842250();
    uint64_t v55 = v44;
    uint64_t v56 = v42;
    unint64_t v57 = v43;
    uint64_t v46 = v69;
    MEMORY[0x270FA5388](v45);
    uint64_t v47 = v62;
    *(&v55 - 2) = v61;
    *(&v55 - 1) = v47;
    sub_25965EAF4(v46, (uint64_t (*)(uint64_t, uint64_t, void *))sub_259662F38, &v69);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v48 = v70;
    if (v70)
    {
      uint64_t v49 = v69;
      swift_bridgeObjectRelease();
      uint64_t v69 = v49;
      uint64_t v70 = v48;
      uint64_t v50 = v65;
      v58(v2, v60, v65);
      uint64_t v51 = v63;
      sub_259842670();
      swift_release();

      sub_259399374(v56, v57);
      v66(v2, v50);
      uint64_t v52 = *(void (**)(void))(v71 + 8);
      OUTLINED_FUNCTION_21_32();
      v52();
      OUTLINED_FUNCTION_21_32();
      v52();
      swift_bridgeObjectRelease();
      uint64_t v53 = 0;
    }
    else
    {
      swift_release();

      sub_259399374(v56, v57);
      id v54 = *(void (**)(void))(v71 + 8);
      OUTLINED_FUNCTION_1_75();
      v54();
      OUTLINED_FUNCTION_1_75();
      v54();
      uint64_t v53 = 1;
      uint64_t v51 = v63;
    }
    OUTLINED_FUNCTION_20_39(v51, v53);
  }
LABEL_11:
  OUTLINED_FUNCTION_235();
}

void sub_25965FEE8(uint64_t a1@<X1>, uint64_t a2@<X2>, uint64_t a3@<X8>)
{
  uint64_t v73 = a1;
  uint64_t v74 = a2;
  uint64_t v58 = (char *)a3;
  v77[2] = *(id *)MEMORY[0x263EF8340];
  uint64_t v68 = sub_259842590();
  unsigned int v60 = *(void (***)(char *, uint64_t))(v68 - 8);
  MEMORY[0x270FA5388](v68);
  uint64_t v67 = (char *)v54 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v69 = (uint64_t)v54 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_259842680();
  uint64_t v72 = *(void *)(v7 - 8);
  MEMORY[0x270FA5388](v7);
  long long v66 = (char *)v54 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v9);
  unint64_t v57 = (char *)v54 - v10;
  MEMORY[0x270FA5388](v11);
  uint64_t v70 = (char *)v54 - v12;
  uint64_t v13 = sub_259842800();
  uint64_t v14 = *(void *)(v13 - 8);
  MEMORY[0x270FA5388](v13);
  uint64_t v16 = (char *)v54 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v17 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08850]), sel_init);
  uint64_t v18 = (void *)sub_2598425F0();
  v77[0] = 0;
  id v19 = objc_msgSend(v17, sel_contentsOfDirectoryAtURL_includingPropertiesForKeys_options_error_, v18, 0, 0, v77);

  id v20 = v77[0];
  if (v19)
  {
    id v71 = v17;
    uint64_t v21 = sub_259844500();
    id v22 = v20;

    uint64_t v65 = *(void *)(v21 + 16);
    if (v65)
    {
      uint64_t v56 = v21;
      uint64_t v23 = v7;
      strcpy((char *)v77, "StoryDiagnose");
      HIWORD(v77[1]) = -4864;
      if (v74)
      {
        uint64_t v75 = 95;
        unint64_t v76 = 0xE100000000000000;
        sub_259844240();
        sub_259844240();
        swift_bridgeObjectRelease();
      }
      id v24 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08790]), sel_init);
      sub_259545930(0xD000000000000011, 0x800000025985CD70, v24);
      uint64_t v75 = 95;
      unint64_t v76 = 0xE100000000000000;
      sub_2598427F0();
      char v25 = (void *)sub_259842790();
      (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
      id v26 = objc_msgSend(v24, sel_stringFromDate_, v25);

      sub_2598440A0();
      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      swift_bridgeObjectRelease();
      id v27 = NSTemporaryDirectory();
      sub_2598440A0();

      sub_25949FD60();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v28 = (void *)sub_259844070();
      uint64_t v75 = 0;
      id v29 = v71;
      unsigned int v30 = objc_msgSend(v71, sel_createDirectoryAtPath_withIntermediateDirectories_attributes_error_, v28, 1, 0, &v75);

      if (v30)
      {
        id v55 = v24;
        v54[1] = v3;
        id v31 = (id)v75;
        sub_2598425C0();
        swift_bridgeObjectRelease();
        uint64_t v32 = 0;
        uint64_t v63 = *(void (**)(uint64_t, unint64_t, uint64_t))(v72 + 16);
        unint64_t v33 = v56 + ((*(unsigned __int8 *)(v72 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v72 + 80));
        uint64_t v59 = *(void *)(v72 + 72);
        uint64_t v64 = (void (**)(char *, uint64_t, uint64_t))(v72 + 32);
        unsigned int v62 = *MEMORY[0x263F06E50];
        uint64_t v34 = v60++;
        uint64_t v61 = (void (**)(char *, void, uint64_t))(v34 + 13);
        v72 += 16;
        uint64_t v35 = (void (**)(char *, uint64_t))(v72 - 8);
        uint64_t v36 = v57;
        uint64_t v37 = v23;
        while (1)
        {
          uint64_t v38 = v69;
          v63(v69, v33, v37);
          if (__OFADD__(v32, 1)) {
            __break(1u);
          }
          __swift_storeEnumTagSinglePayload(v38, 0, 1, v37);
          if (__swift_getEnumTagSinglePayload(v38, 1, v37) == 1) {
            goto LABEL_12;
          }
          uint64_t v73 = v32 + 1;
          (*v64)(v36, v38, v37);
          uint64_t v74 = sub_2598425F0();
          uint64_t v75 = sub_2598425E0();
          unint64_t v76 = v39;
          uint64_t v40 = v67;
          uint64_t v41 = v37;
          uint64_t v42 = v68;
          (*v61)(v67, v62, v68);
          sub_259399328();
          unint64_t v43 = v35;
          uint64_t v44 = v66;
          sub_259842670();
          (*v60)(v40, v42);
          swift_bridgeObjectRelease();
          uint64_t v45 = (void *)sub_2598425F0();
          uint64_t v46 = *v43;
          uint64_t v47 = v44;
          uint64_t v35 = v43;
          (*v43)(v47, v41);
          uint64_t v75 = 0;
          uint64_t v48 = (void *)v74;
          LODWORD(v42) = objc_msgSend(v71, sel_copyItemAtURL_toURL_error_, v74, v45, &v75);

          id v49 = (id)v75;
          if (!v42) {
            break;
          }
          v46(v36, v41);
          ++v32;
          v33 += v59;
          uint64_t v37 = v41;
          if (v73 == v65)
          {
            __swift_storeEnumTagSinglePayload(v69, 1, 1, v41);
LABEL_12:

            swift_bridgeObjectRelease();
            uint64_t v50 = (uint64_t)v58;
            (*v64)(v58, (uint64_t)v70, v37);
            __swift_storeEnumTagSinglePayload(v50, 0, 1, v37);
            return;
          }
        }
        uint64_t v53 = v49;
        swift_bridgeObjectRelease();
        sub_259842560();

        swift_willThrow();
        v46(v36, v41);
        v46(v70, v41);
      }
      else
      {
        id v52 = (id)v75;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_259842560();

        swift_willThrow();
      }
    }
    else
    {
      __swift_storeEnumTagSinglePayload((uint64_t)v58, 1, 1, v7);

      swift_bridgeObjectRelease();
    }
  }
  else
  {
    id v51 = v77[0];
    sub_259842560();

    swift_willThrow();
  }
}

void static FreeformStoryDiagnosticsUtils.diagnosticFiles(for:)(uint64_t a1@<X8>)
{
}

void sub_259660878()
{
  OUTLINED_FUNCTION_224();
  id v22 = v1;
  uint64_t v23 = v2;
  v29[2] = *(id *)MEMORY[0x263EF8340];
  sub_259842590();
  OUTLINED_FUNCTION_87();
  uint64_t v25 = v4;
  uint64_t v26 = v3;
  MEMORY[0x270FA5388](v3);
  OUTLINED_FUNCTION_233();
  uint64_t v7 = v6 - v5;
  sub_259842680();
  OUTLINED_FUNCTION_87();
  uint64_t v27 = v9;
  uint64_t v28 = v8;
  MEMORY[0x270FA5388](v8);
  OUTLINED_FUNCTION_9_0();
  uint64_t v24 = v10;
  sub_259842800();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v11);
  id v12 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08850]), sel_init);
  uint64_t v13 = NSTemporaryDirectory();
  sub_2598440A0();

  sub_2598427F0();
  sub_259662EF0((unint64_t *)&qword_26A38B0E0, MEMORY[0x263F07490]);
  sub_259845720();
  uint64_t v14 = OUTLINED_FUNCTION_90_5();
  v15(v14);
  sub_25949FD60();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v16 = (void *)sub_259844070();
  v29[0] = 0;
  unsigned int v17 = objc_msgSend(v12, sel_createDirectoryAtPath_withIntermediateDirectories_attributes_error_, v16, 1, 0, v29);

  if (!v17)
  {
    id v21 = v29[0];
    swift_bridgeObjectRelease();
    sub_259842560();

    swift_willThrow();
LABEL_6:

    goto LABEL_7;
  }
  id v18 = v29[0];
  sub_2598425C0();
  swift_bridgeObjectRelease();
  v29[0] = v22;
  v29[1] = v23;
  (*(void (**)(uint64_t, void, uint64_t))(v25 + 104))(v7, *MEMORY[0x263F06E50], v26);
  sub_259399328();
  sub_259842670();
  OUTLINED_FUNCTION_21_32();
  v19();
  sub_2598426E0();
  if (!v0)
  {
    (*(void (**)(uint64_t, uint64_t))(v27 + 8))(v24, v28);
    goto LABEL_6;
  }

  id v20 = *(void (**)(void))(v27 + 8);
  OUTLINED_FUNCTION_4_60();
  v20();
  OUTLINED_FUNCTION_4_60();
  v20();
LABEL_7:
  OUTLINED_FUNCTION_235();
}

void static FreeformStoryDiagnosticsUtils.cleanUpDiagnosticsFiles(photoLibrary:oldestAllowedDate:)()
{
  OUTLINED_FUNCTION_224();
  uint64_t v98 = v3;
  uint64_t v5 = v4;
  uint64_t v115 = *MEMORY[0x263EF8340];
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  uint64_t v7 = OUTLINED_FUNCTION_129(v6);
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_9_0();
  uint64_t v103 = v8;
  uint64_t v97 = sub_259842800();
  OUTLINED_FUNCTION_87();
  v96 = v9;
  MEMORY[0x270FA5388](v10);
  OUTLINED_FUNCTION_9_0();
  uint64_t v105 = v11;
  uint64_t v12 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  uint64_t v13 = OUTLINED_FUNCTION_129(v12);
  MEMORY[0x270FA5388](v13);
  OUTLINED_FUNCTION_268();
  uint64_t v106 = v14;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v15);
  unsigned int v17 = (char *)v93 - v16;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v18);
  id v20 = (char *)v93 - v19;
  uint64_t v21 = sub_259842680();
  OUTLINED_FUNCTION_87();
  uint64_t v23 = v22;
  MEMORY[0x270FA5388](v24);
  OUTLINED_FUNCTION_268();
  v110 = v25;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v26);
  v109 = (char *)v93 - v27;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v28);
  v108 = (char *)v93 - v29;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v30);
  OUTLINED_FUNCTION_94_11();
  MEMORY[0x270FA5388](v31);
  OUTLINED_FUNCTION_28_24();
  id v111 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08850]), sel_init);
  id v32 = objc_msgSend(v5, sel_urlForApplicationDataFolderIdentifier_, 11);
  if (!v32)
  {
    OUTLINED_FUNCTION_25_32((uint64_t)v20);
    goto LABEL_18;
  }
  unint64_t v33 = v32;
  sub_259842630();

  uint64_t v102 = v23;
  uint64_t v36 = *(void (**)(char *, id, uint64_t))(v23 + 32);
  uint64_t v35 = v23 + 32;
  uint64_t v34 = v36;
  v36(v20, v2, v21);
  __swift_storeEnumTagSinglePayload((uint64_t)v20, 0, 1, v21);
  OUTLINED_FUNCTION_58((uint64_t)v20, 1, v21);
  if (v37)
  {
LABEL_18:
    sub_259450910((uint64_t)v20, &qword_26B2FFA60);
    sub_259662AE0();
    uint64_t v60 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_6_55(v60, v61);

    goto LABEL_19;
  }
  uint64_t v112 = v35;
  v107 = v34;
  v34(v1, v20, v21);
  id v38 = objc_msgSend(self, sel_defaultManager);
  unint64_t v39 = (void *)sub_2598425F0();
  *(void *)&long long v113 = 0;
  id v40 = objc_msgSend(v38, sel_contentsOfDirectoryAtURL_includingPropertiesForKeys_options_error_, v39, 0, 0, &v113);

  uint64_t v41 = (void *)v113;
  if (v40)
  {
    v93[0] = v0;
    uint64_t v42 = sub_259844500();
    id v43 = v41;

    *(void *)&long long v113 = MEMORY[0x263F8EE78];
    uint64_t v44 = *(void *)(v42 + 16);
    v93[1] = v1;
    uint64_t v45 = v110;
    uint64_t v46 = v102;
    uint64_t v47 = v107;
    id v48 = v17;
    uint64_t v101 = v44;
    v104 = (void (**)(void))v42;
    if (v44)
    {
      unint64_t v49 = 0;
      uint64_t v100 = v102 + 16;
      uint64_t v94 = v102 + 8;
      id v99 = v48;
      uint64_t v95 = v21;
      while (1)
      {
        if (v49 >= *(void *)(v42 + 16)) {
          __break(1u);
        }
        unint64_t v50 = (*(unsigned __int8 *)(v46 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v46 + 80);
        unint64_t v51 = v42 + v50;
        uint64_t v52 = *(void *)(v46 + 72);
        (*(void (**)(id, unint64_t, uint64_t))(v46 + 16))(v48, v51 + v52 * v49, v21);
        OUTLINED_FUNCTION_11_49();
        if (v37) {
          break;
        }
        id v53 = v48;
        id v54 = v108;
        v47(v108, v53, v21);
        if (sub_2598425D0())
        {
          v47(v109, v54, v21);
          uint64_t v55 = v113;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_2594F2570(0, *(void *)(v55 + 16) + 1, 1);
            uint64_t v55 = v113;
          }
          id v56 = v99;
          unint64_t v58 = *(void *)(v55 + 16);
          unint64_t v57 = *(void *)(v55 + 24);
          uint64_t v21 = v95;
          if (v58 >= v57 >> 1)
          {
            sub_2594F2570(v57 > 1, v58 + 1, 1);
            uint64_t v55 = v113;
          }
          *(void *)(v55 + 16) = v58 + 1;
          uint64_t v47 = v107;
          v107((char *)(v55 + v50 + v58 * v52), v109, v21);
          *(void *)&long long v113 = v55;
          uint64_t v45 = v110;
          uint64_t v46 = v102;
          id v48 = v56;
        }
        else
        {
          OUTLINED_FUNCTION_19_32();
          OUTLINED_FUNCTION_11();
          v59();
          id v48 = v99;
        }
        ++v49;
        uint64_t v42 = (uint64_t)v104;
        if (v101 == v49) {
          goto LABEL_20;
        }
      }
    }
    else
    {
LABEL_20:
      OUTLINED_FUNCTION_25_32((uint64_t)v48);
    }
    swift_bridgeObjectRelease();
    sub_259450910((uint64_t)v48, &qword_26B2FFA60);
    uint64_t v94 = v113;
    uint64_t v62 = *(void *)(v113 + 16);
    uint64_t v63 = v97;
    uint64_t v64 = v106;
    if (v62)
    {
      v108 = *(char **)(v102 + 16);
      uint64_t v65 = v94 + ((*(unsigned __int8 *)(v102 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v102 + 80));
      uint64_t v100 = *(void *)(v102 + 72);
      id v99 = (id)*MEMORY[0x263F08008];
      v93[2] = v96 + 4;
      ++v96;
      v109 = (char *)(v102 + 16);
      v104 = (void (**)(void))(v102 + 8);
      uint64_t v101 = MEMORY[0x263F8EE58] + 8;
      while (1)
      {
        ((void (*)(uint64_t, uint64_t, uint64_t))v108)(v64, v65, v21);
        OUTLINED_FUNCTION_11_49();
        if (v37) {
          goto LABEL_43;
        }
        v47(v45, (id)v64, v21);
        sub_259842650();
        long long v66 = (void *)sub_259844070();
        swift_bridgeObjectRelease();
        *(void *)&long long v113 = 0;
        id v67 = objc_msgSend(v111, sel_attributesOfItemAtPath_error_, v66, &v113);

        uint64_t v68 = (void *)v113;
        if (!v67)
        {
          id v89 = (id)v113;
          swift_release();
          sub_259842560();

          swift_willThrow();
          v90 = *v104;
LABEL_45:
          OUTLINED_FUNCTION_4_60();
          v90();
          OUTLINED_FUNCTION_4_60();
          v90();
          goto LABEL_19;
        }
        type metadata accessor for FileAttributeKey(0);
        sub_259662EF0(&qword_26A388FF0, type metadata accessor for FileAttributeKey);
        uint64_t v69 = sub_259843EB0();
        id v70 = v68;

        if (*(void *)(v69 + 16))
        {
          id v71 = v99;
          unint64_t v72 = sub_25939D278((uint64_t)v71);
          uint64_t v45 = v110;
          uint64_t v47 = v107;
          if (v73)
          {
            sub_259356E2C(*(void *)(v69 + 56) + 32 * v72, (uint64_t)&v113);
          }
          else
          {
            long long v113 = 0u;
            long long v114 = 0u;
          }
        }
        else
        {
          long long v113 = 0u;
          long long v114 = 0u;
          uint64_t v45 = v110;
          uint64_t v47 = v107;
        }
        swift_bridgeObjectRelease();
        uint64_t v74 = v103;
        if (!*((void *)&v114 + 1)) {
          break;
        }
        int v75 = swift_dynamicCast();
        __swift_storeEnumTagSinglePayload(v74, v75 ^ 1u, 1, v63);
        OUTLINED_FUNCTION_58(v74, 1, v63);
        if (v37) {
          goto LABEL_37;
        }
        uint64_t v76 = OUTLINED_FUNCTION_19_32();
        v77(v76, v74, v63);
        if (sub_2598427A0())
        {
          uint64_t v78 = (void *)sub_2598425F0();
          *(void *)&long long v113 = 0;
          unsigned int v79 = objc_msgSend(v111, sel_removeItemAtURL_error_, v78, &v113);

          if (!v79)
          {
            id v91 = (id)v113;
            swift_release();
            sub_259842560();

            swift_willThrow();
            OUTLINED_FUNCTION_11();
            v92();
            v90 = *v104;
            goto LABEL_45;
          }
          uint64_t v80 = *v96;
          id v81 = (id)v113;
          v80(v105, v63);
          OUTLINED_FUNCTION_11();
          v82();
        }
        else
        {
          OUTLINED_FUNCTION_19_32();
          OUTLINED_FUNCTION_11();
          v84();
          OUTLINED_FUNCTION_11();
          v85();
        }
LABEL_38:
        v65 += v100;
        --v62;
        uint64_t v64 = v106;
        if (!v62) {
          goto LABEL_42;
        }
      }
      sub_259450910((uint64_t)&v113, &qword_26A38DFB0);
      __swift_storeEnumTagSinglePayload(v74, 1, 1, v63);
LABEL_37:
      OUTLINED_FUNCTION_11();
      v83();
      sub_259450910(v74, (uint64_t *)&unk_26B2F8390);
      goto LABEL_38;
    }
LABEL_42:
    OUTLINED_FUNCTION_25_32(v64);
LABEL_43:
    swift_release();

    OUTLINED_FUNCTION_11();
    v88();
  }
  else
  {
    id v86 = (id)v113;
    sub_259842560();

    swift_willThrow();
    OUTLINED_FUNCTION_11();
    v87();
  }
LABEL_19:
  OUTLINED_FUNCTION_235();
}

void static FreeformStoryDiagnosticsUtils.cleanUpIndexFile(photoLibrary:oldestAllowedDate:)()
{
  OUTLINED_FUNCTION_224();
  uint64_t v48 = v2;
  id v49 = v1;
  uint64_t v4 = v3;
  uint64_t v5 = sub_259842590();
  OUTLINED_FUNCTION_87();
  uint64_t v7 = v6;
  MEMORY[0x270FA5388](v8);
  OUTLINED_FUNCTION_233();
  uint64_t v11 = v10 - v9;
  uint64_t v12 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  uint64_t v13 = OUTLINED_FUNCTION_129(v12);
  MEMORY[0x270FA5388](v13);
  uint64_t v14 = OUTLINED_FUNCTION_14_40();
  OUTLINED_FUNCTION_87();
  uint64_t v16 = v15;
  MEMORY[0x270FA5388](v17);
  OUTLINED_FUNCTION_13_43();
  MEMORY[0x270FA5388](v18);
  id v20 = (char *)&v46 - v19;
  double v22 = MEMORY[0x270FA5388](v21);
  uint64_t v52 = (char *)&v46 - v23;
  id v24 = objc_msgSend(v4, sel_urlForApplicationDataFolderIdentifier_, 11, v22);
  if (!v24)
  {
    OUTLINED_FUNCTION_20_39(v0, 1);
    goto LABEL_9;
  }
  uint64_t v25 = v24;
  sub_259842630();

  uint64_t v47 = v16;
  uint64_t v26 = *(void (**)(uint64_t, char *, uint64_t))(v16 + 32);
  v26(v0, v20, v14);
  OUTLINED_FUNCTION_20_39(v0, 0);
  OUTLINED_FUNCTION_58(v0, 1, v14);
  if (v27)
  {
LABEL_9:
    sub_259450910(v0, &qword_26B2FFA60);
    sub_259662AE0();
    uint64_t v31 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_6_55(v31, v32);
    goto LABEL_10;
  }
  v26((uint64_t)v52, (char *)v0, v14);
  if (qword_26B2F85D0 != -1) {
    swift_once();
  }
  uint64_t v50 = qword_26B2F85B8;
  uint64_t v51 = unk_26B2F85C0;
  (*(void (**)(uint64_t, void, uint64_t))(v7 + 104))(v11, *MEMORY[0x263F06E50], v5);
  sub_259399328();
  sub_259843F00();
  sub_259842670();
  (*(void (**)(uint64_t, uint64_t))(v7 + 8))(v11, v5);
  swift_bridgeObjectRelease();
  id v28 = v49;
  sub_259842690();
  if (v28)
  {
    uint64_t v30 = *(void (**)(void))(v47 + 8);
    OUTLINED_FUNCTION_1_75();
    v30();
    OUTLINED_FUNCTION_1_75();
    v30();
  }
  else
  {
    sub_259842270();
    OUTLINED_FUNCTION_102();
    uint64_t v29 = sub_259842260();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BEB0);
    sub_259662B8C(&qword_26A38BEC8, (void (*)(void))sub_25948C498);
    sub_259842250();
    uint64_t v46 = v29;
    uint64_t v33 = v50;
    id v34 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08790]), sel_init);
    sub_259662B2C(0xD000000000000016, 0x80000002598538F0, v34);
    MEMORY[0x270FA5388](v35);
    uint64_t v36 = v48;
    *(&v46 - 2) = (uint64_t)v34;
    *(&v46 - 1) = v36;
    uint64_t v37 = sub_259662748(v33, (uint64_t (*)(uint64_t, uint64_t, void *))sub_259662B84, (uint64_t)(&v46 - 4));
    id v49 = 0;
    swift_bridgeObjectRelease();
    sub_2598422E0();
    OUTLINED_FUNCTION_102();
    sub_2598422D0();
    uint64_t v48 = v37;
    uint64_t v50 = v37;
    sub_259662B8C((unint64_t *)&qword_26A38BEB8, (void (*)(void))sub_25948C3CC);
    id v38 = v49;
    uint64_t v39 = sub_2598422C0();
    if (v38)
    {
      swift_release();
      swift_release();

      OUTLINED_FUNCTION_22_39();
      uint64_t v41 = *(void (**)(void))(v47 + 8);
      OUTLINED_FUNCTION_1_75();
      v41();
      OUTLINED_FUNCTION_1_75();
      v41();
      swift_release();
    }
    else
    {
      uint64_t v42 = v39;
      unint64_t v43 = v40;
      id v49 = v34;
      swift_release();
      sub_2598426E0();
      uint64_t v44 = v47;

      sub_259399374(v42, v43);
      swift_release();
      swift_release();
      OUTLINED_FUNCTION_22_39();
      uint64_t v45 = *(void (**)(void))(v44 + 8);
      OUTLINED_FUNCTION_95();
      v45();
      OUTLINED_FUNCTION_95();
      v45();
    }
  }
LABEL_10:
  OUTLINED_FUNCTION_235();
}

uint64_t sub_259661BA8(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)&v20 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_259842800();
  uint64_t v9 = *(void *)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v20 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v12);
  uint64_t v14 = (char *)&v20 - v13;
  uint64_t v15 = (void *)sub_259844070();
  id v16 = objc_msgSend(a4, sel_dateFromString_, v15);

  if (!v16)
  {
    __swift_storeEnumTagSinglePayload((uint64_t)v7, 1, 1, v8);
    goto LABEL_5;
  }
  sub_2598427C0();

  uint64_t v17 = *(void (**)(char *, char *, uint64_t))(v9 + 32);
  v17(v7, v11, v8);
  __swift_storeEnumTagSinglePayload((uint64_t)v7, 0, 1, v8);
  if (__swift_getEnumTagSinglePayload((uint64_t)v7, 1, v8) == 1)
  {
LABEL_5:
    sub_259450910((uint64_t)v7, (uint64_t *)&unk_26B2F8390);
    char v18 = 0;
    return v18 & 1;
  }
  v17(v14, v7, v8);
  char v18 = sub_2598427A0();
  (*(void (**)(char *, uint64_t))(v9 + 8))(v14, v8);
  return v18 & 1;
}

uint64_t sub_259661DDC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v5 = *(void **)(a3 + 8);
  uint64_t v6 = v5[2];
  if (!v6) {
    return 0;
  }
  if (v5[4] == a4 && v5[5] == a5) {
    return 1;
  }
  uint64_t result = sub_259845750();
  if (result) {
    return 1;
  }
  if (v6 == 1) {
    return 0;
  }
  uint64_t v11 = v5 + 7;
  for (uint64_t i = 1; ; ++i)
  {
    uint64_t v13 = i + 1;
    if (__OFADD__(i, 1)) {
      break;
    }
    BOOL v14 = *(v11 - 1) == a4 && *v11 == a5;
    if (v14 || (sub_259845750() & 1) != 0) {
      return 1;
    }
    uint64_t result = 0;
    v11 += 2;
    if (v13 == v6) {
      return result;
    }
  }
  __break(1u);
  return result;
}

void static FreeformStoryDiagnosticsUtils.temporaryDiagnosticsDirectory(_:)()
{
  OUTLINED_FUNCTION_224();
  uint64_t v1 = v0;
  v13[2] = *(id *)MEMORY[0x263EF8340];
  sub_259842800();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v2);
  OUTLINED_FUNCTION_114();
  id v3 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08790]), sel_init);
  sub_259545930(0xD000000000000011, 0x800000025985CD70, v3);
  id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08850]), sel_init);
  uint64_t v5 = NSTemporaryDirectory();
  sub_2598440A0();

  v13[1] = v1;
  sub_259843F00();
  sub_259844240();
  sub_2598427F0();
  uint64_t v6 = (void *)sub_259842790();
  OUTLINED_FUNCTION_95();
  v7();
  id v8 = objc_msgSend(v3, sel_stringFromDate_, v6);

  sub_2598440A0();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_25949FD60();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v9 = (void *)sub_259844070();
  v13[0] = 0;
  unsigned __int8 v10 = objc_msgSend(v4, sel_createDirectoryAtPath_withIntermediateDirectories_attributes_error_, v9, 1, 0, v13);

  if (v10)
  {
    id v11 = v13[0];
    sub_2598425C0();
    swift_bridgeObjectRelease();
  }
  else
  {
    id v12 = v13[0];
    swift_bridgeObjectRelease();
    sub_259842560();

    swift_willThrow();
  }

  OUTLINED_FUNCTION_235();
}

void static FreeformStoryDiagnosticsUtils.debugAlbumInfo(from:)()
{
  OUTLINED_FUNCTION_224();
  uint64_t v5 = v4;
  sub_259842590();
  OUTLINED_FUNCTION_87();
  uint64_t v36 = v6;
  uint64_t v37 = v7;
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_233();
  uint64_t v10 = v9 - v8;
  uint64_t v11 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  uint64_t v12 = OUTLINED_FUNCTION_129(v11);
  MEMORY[0x270FA5388](v12);
  uint64_t v13 = OUTLINED_FUNCTION_14_40();
  OUTLINED_FUNCTION_87();
  uint64_t v39 = v14;
  MEMORY[0x270FA5388](v15);
  OUTLINED_FUNCTION_13_43();
  MEMORY[0x270FA5388](v16);
  OUTLINED_FUNCTION_28_24();
  id v17 = objc_msgSend(v5, sel_localIdentifier);
  uint64_t v18 = sub_2598440A0();
  uint64_t v20 = v19;

  sub_25965F930();
  if (v1)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v35 = v3;
    uint64_t v40 = v2;
    OUTLINED_FUNCTION_58(v0, 1, v13);
    if (v21)
    {
      sub_259450910(v0, &qword_26B2FFA60);
      sub_259662AE0();
      OUTLINED_FUNCTION_37();
      *(void *)uint64_t v22 = v18;
      *(void *)(v22 + 8) = v20;
      *(void *)(v22 + 16) = 0;
      *(void *)(v22 + 24) = 0;
      *(unsigned char *)(v22 + 32) = 1;
      swift_willThrow();
    }
    else
    {
      swift_bridgeObjectRelease();
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v39 + 32))(v3, v0, v13);
      v41[0] = 0xD000000000000012;
      v41[1] = 0x8000000259858080;
      (*(void (**)(uint64_t, void, uint64_t))(v37 + 104))(v10, *MEMORY[0x263F06E50], v36);
      sub_259399328();
      uint64_t v23 = v2;
      sub_259842670();
      (*(void (**)(uint64_t, uint64_t))(v37 + 8))(v10, v36);
      id v24 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F08850]), sel_init);
      sub_259842640();
      uint64_t v25 = (void *)sub_259844070();
      swift_bridgeObjectRelease();
      unsigned int v26 = objc_msgSend(v24, sel_fileExistsAtPath_, v25);

      if (v26)
      {
        sub_259842690();
        sub_259842500();
        OUTLINED_FUNCTION_102();
        sub_2598424F0();
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38CE20);
        sub_259662C04();
        sub_2598424E0();
        swift_release();
        OUTLINED_FUNCTION_22_39();

        id v34 = *(void (**)(void))(v39 + 8);
        OUTLINED_FUNCTION_4_60();
        v34();
        OUTLINED_FUNCTION_4_60();
        v34();
      }
      else
      {
        uint64_t v38 = v13;
        if (qword_26A388AA8 != -1) {
          swift_once();
        }
        uint64_t v27 = sub_259843A80();
        __swift_project_value_buffer(v27, (uint64_t)qword_26A38F8F0);
        id v28 = sub_259843A50();
        os_log_type_t v29 = sub_259844B70();
        uint64_t v30 = v35;
        uint64_t v31 = v39;
        if (os_log_type_enabled(v28, v29))
        {
          uint64_t v32 = (uint8_t *)swift_slowAlloc();
          v41[0] = swift_slowAlloc();
          *(_DWORD *)uint64_t v32 = 136315138;
          sub_259356D5C(0xD000000000000012, 0x8000000259858080, v41);
          uint64_t v31 = v39;
          uint64_t v30 = v35;
          sub_259844E10();
          _os_log_impl(&dword_25934C000, v28, v29, "Missing %s", v32, 0xCu);
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          uint64_t v23 = v40;
          OUTLINED_FUNCTION_61_0();
        }

        uint64_t v33 = *(void (**)(uint64_t, uint64_t))(v31 + 8);
        v33(v23, v38);
        v33(v30, v38);
      }
    }
  }
  OUTLINED_FUNCTION_235();
}

id FreeformStoryDiagnosticsUtils.__allocating_init()()
{
  id v1 = objc_allocWithZone(v0);
  return objc_msgSend(v1, sel_init);
}

id FreeformStoryDiagnosticsUtils.init()()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for FreeformStoryDiagnosticsUtils();
  return objc_msgSendSuper2(&v2, sel_init);
}

id FreeformStoryDiagnosticsUtils.__deallocating_deinit()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for FreeformStoryDiagnosticsUtils();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_259662748(uint64_t isStackAllocationSafe, uint64_t (*a2)(uint64_t, uint64_t, void *), uint64_t a3)
{
  uint64_t v6 = isStackAllocationSafe;
  v14[1] = *MEMORY[0x263EF8340];
  char v7 = *(unsigned char *)(isStackAllocationSafe + 32);
  unint64_t v8 = (unint64_t)((1 << v7) + 63) >> 6;
  if ((v7 & 0x3Fu) <= 0xD
    || (isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    MEMORY[0x270FA5388](isStackAllocationSafe);
    uint64_t v9 = (void *)((char *)v14 - ((8 * v8 + 15) & 0x3FFFFFFFFFFFFFF0));
    sub_259745FF0(0, v8, v9);
    sub_2596628CC((uint64_t)v9, v8, v6, a2);
    if (v3) {
      swift_willThrow();
    }
    else {
      return v10;
    }
  }
  else
  {
    uint64_t v11 = (void *)swift_slowAlloc();
    sub_259745FF0(0, v8, v11);
    sub_2596628CC((uint64_t)v11, v8, v6, a2);
    a3 = v12;
    MEMORY[0x25A2E13A0](v11, -1, -1);
  }
  return a3;
}

void sub_2596628CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(uint64_t, uint64_t, void *))
{
  uint64_t v24 = 0;
  int64_t v6 = 0;
  uint64_t v25 = a3 + 64;
  uint64_t v7 = 1 << *(unsigned char *)(a3 + 32);
  uint64_t v8 = -1;
  if (v7 < 64) {
    uint64_t v8 = ~(-1 << v7);
  }
  unint64_t v9 = v8 & *(void *)(a3 + 64);
  int64_t v27 = (unint64_t)(v7 + 63) >> 6;
  while (1)
  {
    if (v9)
    {
      unint64_t v10 = __clz(__rbit64(v9));
      v9 &= v9 - 1;
      unint64_t v11 = v10 | (v6 << 6);
      goto LABEL_20;
    }
    int64_t v12 = v6 + 1;
    if (__OFADD__(v6, 1))
    {
      __break(1u);
      goto LABEL_26;
    }
    if (v12 >= v27) {
      goto LABEL_24;
    }
    unint64_t v13 = *(void *)(v25 + 8 * v12);
    ++v6;
    if (!v13)
    {
      int64_t v6 = v12 + 1;
      if (v12 + 1 >= v27) {
        goto LABEL_24;
      }
      unint64_t v13 = *(void *)(v25 + 8 * v6);
      if (!v13)
      {
        int64_t v6 = v12 + 2;
        if (v12 + 2 >= v27) {
          goto LABEL_24;
        }
        unint64_t v13 = *(void *)(v25 + 8 * v6);
        if (!v13) {
          break;
        }
      }
    }
LABEL_19:
    unint64_t v9 = (v13 - 1) & v13;
    unint64_t v11 = __clz(__rbit64(v13)) + (v6 << 6);
LABEL_20:
    uint64_t v15 = (uint64_t *)(*(void *)(a3 + 48) + 16 * v11);
    uint64_t v16 = *v15;
    uint64_t v17 = v15[1];
    uint64_t v18 = (void *)(*(void *)(a3 + 56) + 16 * v11);
    uint64_t v19 = v18[1];
    v26[0] = *v18;
    v26[1] = v19;
    sub_259843F00();
    sub_259843F00();
    char v20 = a4(v16, v17, v26);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v20)
    {
      *(void *)(a1 + ((v11 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v11;
      if (__OFADD__(v24++, 1))
      {
        __break(1u);
LABEL_24:
        sub_25977E63C(a1, a2, v24);
        return;
      }
    }
  }
  int64_t v14 = v12 + 3;
  if (v14 >= v27) {
    goto LABEL_24;
  }
  unint64_t v13 = *(void *)(v25 + 8 * v14);
  if (v13)
  {
    int64_t v6 = v14;
    goto LABEL_19;
  }
  while (1)
  {
    int64_t v6 = v14 + 1;
    if (__OFADD__(v14, 1)) {
      break;
    }
    if (v6 >= v27) {
      goto LABEL_24;
    }
    unint64_t v13 = *(void *)(v25 + 8 * v6);
    ++v14;
    if (v13) {
      goto LABEL_19;
    }
  }
LABEL_26:
  __break(1u);
}

unint64_t sub_259662AE0()
{
  unint64_t result = qword_26A38F908;
  if (!qword_26A38F908)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38F908);
  }
  return result;
}

void sub_259662B2C(uint64_t a1, uint64_t a2, void *a3)
{
  id v4 = (id)sub_259844070();
  objc_msgSend(a3, sel_setDateFormat_, v4);
}

uint64_t sub_259662B84(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_259661BA8(a1, a2, a3, *(void **)(v3 + 16));
}

uint64_t sub_259662B8C(unint64_t *a1, void (*a2)(void))
{
  uint64_t result = *a1;
  if (!result)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38BEB0);
    a2();
    OUTLINED_FUNCTION_90_5();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_259662C04()
{
  unint64_t result = qword_26A38F910;
  if (!qword_26A38F910)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38CE20);
    sub_259662C78();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38F910);
  }
  return result;
}

unint64_t sub_259662C78()
{
  unint64_t result = qword_26A38F918[0];
  if (!qword_26A38F918[0])
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, qword_26A38F918);
  }
  return result;
}

uint64_t type metadata accessor for FreeformStoryDiagnosticsUtils()
{
  return self;
}

uint64_t sub_259662CE8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5)
{
  if (a5 != 1)
  {
    if (a5) {
      return result;
    }
    sub_259843F00();
  }
  return sub_259843F00();
}

uint64_t destroy for FreeformStoryDiagnosticsUtils.Error(uint64_t a1)
{
  return sub_259662D5C(*(void *)a1, *(void *)(a1 + 8), *(void *)(a1 + 16), *(void *)(a1 + 24), *(unsigned char *)(a1 + 32));
}

uint64_t sub_259662D5C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5)
{
  if (a5 != 1)
  {
    if (a5) {
      return result;
    }
    swift_bridgeObjectRelease();
  }
  return swift_bridgeObjectRelease();
}

uint64_t initializeWithCopy for FreeformStoryDiagnosticsUtils.Error(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)a2;
  uint64_t v4 = *(void *)(a2 + 8);
  uint64_t v5 = *(void *)(a2 + 16);
  uint64_t v6 = *(void *)(a2 + 24);
  char v7 = *(unsigned char *)(a2 + 32);
  sub_259662CE8(*(void *)a2, v4, v5, v6, v7);
  *(void *)a1 = v3;
  *(void *)(a1 + 8) = v4;
  *(void *)(a1 + 16) = v5;
  *(void *)(a1 + 24) = v6;
  *(unsigned char *)(a1 + 32) = v7;
  return a1;
}

uint64_t assignWithCopy for FreeformStoryDiagnosticsUtils.Error(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)a2;
  uint64_t v4 = *(void *)(a2 + 8);
  uint64_t v5 = *(void *)(a2 + 16);
  uint64_t v6 = *(void *)(a2 + 24);
  char v7 = *(unsigned char *)(a2 + 32);
  sub_259662CE8(*(void *)a2, v4, v5, v6, v7);
  uint64_t v8 = *(void *)a1;
  uint64_t v9 = *(void *)(a1 + 8);
  uint64_t v10 = *(void *)(a1 + 16);
  uint64_t v11 = *(void *)(a1 + 24);
  *(void *)a1 = v3;
  *(void *)(a1 + 8) = v4;
  *(void *)(a1 + 16) = v5;
  *(void *)(a1 + 24) = v6;
  char v12 = *(unsigned char *)(a1 + 32);
  *(unsigned char *)(a1 + 32) = v7;
  sub_259662D5C(v8, v9, v10, v11, v12);
  return a1;
}

uint64_t assignWithTake for FreeformStoryDiagnosticsUtils.Error(uint64_t a1, uint64_t a2)
{
  char v3 = *(unsigned char *)(a2 + 32);
  uint64_t v4 = *(void *)a1;
  uint64_t v6 = *(void *)(a1 + 8);
  uint64_t v5 = *(void *)(a1 + 16);
  uint64_t v7 = *(void *)(a1 + 24);
  long long v8 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v8;
  char v9 = *(unsigned char *)(a1 + 32);
  *(unsigned char *)(a1 + 32) = v3;
  sub_259662D5C(v4, v6, v5, v7, v9);
  return a1;
}

ValueMetadata *type metadata accessor for FreeformStoryDiagnosticsUtils.Error()
{
  return &type metadata for FreeformStoryDiagnosticsUtils.Error;
}

uint64_t sub_259662EF0(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_259662F38(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_259661DDC(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24));
}

uint64_t OUTLINED_FUNCTION_20_39(uint64_t a1, uint64_t a2)
{
  return __swift_storeEnumTagSinglePayload(a1, a2, 1, v2);
}

uint64_t OUTLINED_FUNCTION_23_38()
{
  return v0;
}

uint64_t Summarizer.init(clusterer:planner:elector:)(long long *a1, uint64_t a2, long long *a3)
{
  if (qword_26A388AB0 != -1) {
    swift_once();
  }
  uint64_t v7 = sub_259843A80();
  __swift_project_value_buffer(v7, (uint64_t)qword_26A3D1DB0);
  OUTLINED_FUNCTION_56_0();
  uint64_t v8 = OUTLINED_FUNCTION_2_64();
  v9(v8);
  if (qword_26A388AB8 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_2598439F0();
  __swift_project_value_buffer(v10, (uint64_t)qword_26A3D1DC8);
  OUTLINED_FUNCTION_56_0();
  uint64_t v11 = OUTLINED_FUNCTION_2_64();
  v12(v11);
  sub_2593A2D00(a1, v3 + 16);
  *(void *)(v3 + 56) = a2;
  sub_2593A2D00(a3, v3 + 64);
  return v3;
}

uint64_t Summarizer.deinit()
{
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  swift_release();
  __swift_destroy_boxed_opaque_existential_1(v0 + 64);
  uint64_t v1 = v0 + qword_26A3D1DE0;
  sub_259843A80();
  OUTLINED_FUNCTION_56_0();
  (*(void (**)(uint64_t))(v2 + 8))(v1);
  uint64_t v3 = v0 + qword_26A3D1DE8;
  sub_2598439F0();
  OUTLINED_FUNCTION_56_0();
  (*(void (**)(uint64_t))(v4 + 8))(v3);
  return v0;
}

uint64_t sub_25966317C(char *a1, const char *a2, uint64_t a3, void *a4)
{
  v134 = a4;
  uint64_t v5 = v4;
  uint64_t v117 = a3;
  v135 = a2;
  uint64_t v7 = *v5;
  uint64_t v8 = *v5;
  uint64_t v113 = sub_259843A00();
  OUTLINED_FUNCTION_2_2();
  uint64_t v112 = v9;
  MEMORY[0x270FA5388](v10);
  id v111 = (char *)&v105 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = v7;
  unint64_t v13 = a1;
  v141 = *(const char **)(v12 + 88);
  OUTLINED_FUNCTION_2_2();
  uint64_t v137 = v14;
  MEMORY[0x270FA5388](v15);
  v138 = (char *)&v105 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v17);
  v140 = (char *)&v105 - v18;
  MEMORY[0x270FA5388](v19);
  v127 = (char *)&v105 - v20;
  uint64_t v110 = v21;
  MEMORY[0x270FA5388](v22);
  v136 = (char *)&v105 - v23;
  uint64_t v24 = sub_2598439B0();
  OUTLINED_FUNCTION_2_2();
  uint64_t v26 = v25;
  MEMORY[0x270FA5388](v27);
  uint64_t v115 = (char *)&v105 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v29);
  uint64_t v31 = (char *)&v105 - v30;
  MEMORY[0x270FA5388](v32);
  id v34 = (char *)&v105 - v33;
  uint64_t v35 = (char *)v5 + qword_26A3D1DE8;
  sub_259843F00();
  sub_2598439A0();
  long long v114 = v35;
  uint64_t v36 = sub_2598439D0();
  LODWORD(v132) = sub_259844C80();
  char v37 = sub_259844D80();
  v123 = v5;
  uint64_t v139 = v8;
  v131 = v13;
  if (v37)
  {
    uint64_t v122 = v26;
    v121 = *(void (**)(char *, char *, uint64_t))(v26 + 16);
    unint64_t v120 = (v26 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
    v121(v31, v34, v24);
    uint64_t v38 = swift_slowAlloc();
    *(_DWORD *)uint64_t v38 = 134218240;
    uint64_t v145 = MEMORY[0x25A2DEE20](v13, *(void *)(v8 + 80));
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v38 + 12) = 2048;
    uint64_t v145 = (uint64_t)v135;
    sub_259844E10();
    os_signpost_id_t v39 = sub_259843990();
    _os_signpost_emit_with_name_impl(&dword_25934C000, v36, (os_signpost_type_t)v132, v39, "Summarizer", "Starting to summarize %ld items into %ld", (uint8_t *)v38, 0x16u);
    OUTLINED_FUNCTION_61_0();

    uint64_t v40 = v122;
    (*(void (**)(char *, uint64_t))(v122 + 8))(v31, v24);
    unint64_t v41 = v120;
    uint64_t v42 = v121;
    v121(v31, v34, v24);
  }
  else
  {
    swift_bridgeObjectRelease();

    uint64_t v40 = v26;
    uint64_t v42 = *(void (**)(char *, char *, uint64_t))(v26 + 16);
    unint64_t v41 = (v26 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
    v42(v31, v34, v24);
  }
  sub_259843A30();
  swift_allocObject();
  uint64_t v43 = sub_259843A20();
  uint64_t v44 = *(void (**)(char *, uint64_t))(v40 + 8);
  uint64_t v116 = v24;
  v44(v34, v24);
  uint64_t v45 = v31;
  uint64_t v46 = v40 + 8;
  uint64_t v47 = v134[3];
  __swift_project_boxed_opaque_existential_1(v134, v47);
  uint64_t v48 = v133;
  sub_2598435C0();
  if (v48)
  {
    swift_release();
    return v47;
  }
  v107 = v45;
  uint64_t v122 = v46;
  v108 = v44;
  unint64_t v120 = v41;
  v121 = v42;
  uint64_t v109 = v43;
  __swift_project_boxed_opaque_existential_1(v134, v134[3]);
  sub_259843580();
  uint64_t v49 = v123[5];
  uint64_t v50 = v123[6];
  __swift_project_boxed_opaque_existential_1(v123 + 2, v49);
  uint64_t v52 = (const char *)(*(uint64_t (**)(char *, uint64_t *, uint64_t, uint64_t))(v50 + 40))(v131, &v145, v49, v50);
  uint64_t v106 = 0;
  sub_259843F00();
  id v53 = v141;
  uint64_t v54 = sub_259844510();
  uint64_t v144 = v54;
  uint64_t v55 = MEMORY[0x25A2DEE50](v52, v53);
  unint64_t v58 = v138;
  uint64_t v57 = v139;
  uint64_t v59 = v135;
  uint64_t v60 = v140;
  uint64_t v61 = v127;
  if (v54 == v55)
  {
LABEL_9:
    swift_bridgeObjectRelease();
    uint64_t v47 = v134[3];
    __swift_project_boxed_opaque_existential_1(v134, v47);
    uint64_t v62 = v106;
    sub_2598435D0();
    if (v62)
    {
      OUTLINED_FUNCTION_1_76();
      swift_bridgeObjectRelease();
    }
    else
    {
      SummarizationPlanner.adaptiveElection(with:targetNumberOfItems:eligibleItems:)(v52, v59);
      uint64_t v89 = v88;
      swift_bridgeObjectRelease();
      __swift_project_boxed_opaque_existential_1(v134, v134[3]);
      sub_2598435D0();
      uint64_t v143 = v89;
      uint64_t v90 = *(void *)(v139 + 80);
      uint64_t v142 = sub_259843E50();
      swift_getTupleTypeMetadata2();
      sub_259844630();
      sub_259844630();
      swift_getWitnessTable();
      sub_2598443A0();
      swift_bridgeObjectRelease();
      uint64_t v47 = v144;
      __swift_project_boxed_opaque_existential_1(v134, v134[3]);
      sub_2598435E0();
      uint64_t v91 = v116;
      uint64_t v106 = 0;
      sub_259843F00();
      v92 = sub_2598439D0();
      v93 = v115;
      sub_259843A10();
      uint64_t v94 = sub_259844C70();
      if (sub_259844D80())
      {
        swift_retain();
        uint64_t v95 = v111;
        sub_259843A40();
        swift_release();
        uint64_t v96 = v112;
        uint64_t v97 = v113;
        if ((*(unsigned int (**)(char *, uint64_t))(v112 + 88))(v95, v113) == *MEMORY[0x263F90238])
        {
          char v98 = 0;
          v141 = "[Error] Interval already ended";
        }
        else
        {
          (*(void (**)(char *, uint64_t))(v96 + 8))(v95, v97);
          v141 = "Finished summarizing, elected %ld items";
          char v98 = 1;
        }
        id v99 = v115;
        uint64_t v100 = v107;
        uint64_t v101 = v116;
        v121(v107, v115, v116);
        uint64_t v102 = swift_slowAlloc();
        *(unsigned char *)uint64_t v102 = 0;
        *(unsigned char *)(v102 + 1) = v98;
        *(_WORD *)(v102 + 2) = 2048;
        uint64_t v144 = MEMORY[0x25A2DEE20](v47, v90);
        sub_259844E10();
        swift_bridgeObjectRelease();
        os_signpost_id_t v103 = sub_259843990();
        _os_signpost_emit_with_name_impl(&dword_25934C000, v92, (os_signpost_type_t)v94, v103, "Summarizer", v141, (uint8_t *)v102, 0xCu);
        OUTLINED_FUNCTION_61_0();

        v104 = v108;
        v108(v99, v101);
        OUTLINED_FUNCTION_1_76();
        v104(v100, v101);
      }
      else
      {
        swift_bridgeObjectRelease();

        v108(v93, v91);
        __swift_destroy_boxed_opaque_existential_1((uint64_t)&v145);
        swift_release();
      }
    }
    return v47;
  }
  v131 = (char *)v123 + qword_26A3D1DE0;
  v129 = (void (**)(char *, const char *))(v137 + 8);
  v130 = (void (**)(char *, char *, const char *))(v137 + 32);
  v132 = (void (**)(char *, uint64_t *, const char *))(v137 + 16);
  unint64_t v128 = (v137 + 16) & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
  *(void *)&long long v56 = 134218242;
  long long v119 = v56;
  uint64_t v118 = MEMORY[0x263F8EE58] + 8;
  v133 = v52;
  while (1)
  {
    char v63 = sub_2598445A0();
    sub_259844550();
    if ((v63 & 1) == 0) {
      break;
    }
    unint64_t v64 = (unint64_t)&v52[((*(unsigned __int8 *)(v137 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v137 + 80))
                               + *(void *)(v137 + 72) * v54];
    uint64_t v65 = *(void (**)(char *, uint64_t *, const char *))(v137 + 16);
    long long v66 = v136;
    v65(v136, (uint64_t *)v64, v53);
LABEL_14:
    sub_259843F00();
    MEMORY[0x25A2DEE60](&v144, v52, v53);
    swift_bridgeObjectRelease();
    (*v130)(v61, v66, v53);
    v65(v60, (uint64_t *)v61, v53);
    v65(v58, (uint64_t *)v61, v53);
    id v67 = sub_259843A50();
    os_log_type_t v68 = sub_259844B30();
    int v69 = v68;
    if (os_log_type_enabled(v67, v68))
    {
      uint64_t v70 = swift_slowAlloc();
      uint64_t v126 = swift_slowAlloc();
      uint64_t v143 = v126;
      *(_DWORD *)uint64_t v70 = v119;
      uint64_t v71 = *(void *)(v57 + 104);
      os_log_t v125 = v67;
      unint64_t v72 = *(void (**)(const char *, uint64_t))(v71 + 16);
      v72(v53, v71);
      uint64_t v73 = *(void *)(v139 + 80);
      uint64_t v74 = MEMORY[0x25A2DEE20]();
      swift_bridgeObjectRelease();
      int v75 = *v129;
      (*v129)(v140, v141);
      int v124 = v69;
      uint64_t v76 = v75;
      *(void *)(v70 + 4) = v74;
      *(_WORD *)(v70 + 12) = 2080;
      uint64_t v77 = v71;
      uint64_t v60 = v140;
      uint64_t v78 = ((uint64_t (*)(const char *, uint64_t))v72)(v141, v77);
      unint64_t v58 = v138;
      uint64_t v79 = v78;
      uint64_t v80 = v76;
      v76(v138, v141);
      uint64_t v81 = MEMORY[0x25A2DED80](v79, v73);
      unint64_t v83 = v82;
      swift_bridgeObjectRelease();
      *(void *)(v70 + 14) = sub_259356D5C(v81, v83, &v143);
      id v53 = v141;
      uint64_t v57 = v139;
      swift_bridgeObjectRelease();
      os_log_t v84 = v125;
      _os_log_impl(&dword_25934C000, v125, (os_log_type_t)v124, "Cluster has %ld items: %s", (uint8_t *)v70, 0x16u);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      uint64_t v59 = v135;
      OUTLINED_FUNCTION_61_0();

      v85 = v127;
      v80(v127, v53);
      uint64_t v61 = v85;
    }
    else
    {
      id v86 = *v129;
      (*v129)(v58, v53);
      v86(v60, v53);

      v86(v61, v53);
    }
    uint64_t v54 = v144;
    uint64_t v52 = v133;
    if (v54 == MEMORY[0x25A2DEE50](v133, v53)) {
      goto LABEL_9;
    }
  }
  uint64_t result = sub_2598451B0();
  if (v110 == 8)
  {
    uint64_t v143 = result;
    uint64_t v65 = *v132;
    v87 = v136;
    (*v132)(v136, &v143, v53);
    long long v66 = v87;
    swift_unknownObjectRelease();
    uint64_t v52 = v133;
    goto LABEL_14;
  }
  __break(1u);
  return result;
}

uint64_t sub_259663F10()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A3D1DB0);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A3D1DB0);
  return sub_259843A60();
}

uint64_t sub_259663F94()
{
  uint64_t v0 = sub_259843A80();
  OUTLINED_FUNCTION_2_2();
  uint64_t v2 = v1;
  MEMORY[0x270FA5388](v3);
  uint64_t v5 = (char *)&v9 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_2598439F0();
  __swift_allocate_value_buffer(v6, qword_26A3D1DC8);
  __swift_project_value_buffer(v6, (uint64_t)qword_26A3D1DC8);
  if (qword_26A388AB0 != -1) {
    swift_once();
  }
  uint64_t v7 = __swift_project_value_buffer(v0, (uint64_t)qword_26A3D1DB0);
  (*(void (**)(char *, uint64_t, uint64_t))(v2 + 16))(v5, v7, v0);
  return sub_2598439C0();
}

uint64_t Summarizer.__allocating_init(clusterer:planner:elector:)(long long *a1, uint64_t a2, long long *a3)
{
  uint64_t v6 = swift_allocObject();
  Summarizer.init(clusterer:planner:elector:)(a1, a2, a3);
  return v6;
}

uint64_t sub_259664104(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v5 = *a3;
  uint64_t v6 = *a3;
  uint64_t v45 = a1;
  uint64_t v46 = v6;
  uint64_t v7 = *(void *)(v5 + 88);
  TupleTypeMetadata2 = swift_getTupleTypeMetadata2();
  MEMORY[0x270FA5388](TupleTypeMetadata2 - 8);
  uint64_t v10 = (char *)v43 - v9;
  uint64_t v11 = *(void *)(v7 - 8);
  MEMORY[0x270FA5388](v12);
  uint64_t v48 = (char *)v43 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v15 = MEMORY[0x270FA5388](v14);
  uint64_t v17 = (char *)v43 - v16;
  uint64_t v19 = *(int *)(v18 + 56);
  uint64_t v20 = *(void (**)(char *, uint64_t, uint64_t, double))(v11 + 16);
  v20(v10, a2, v7, v15);
  uint64_t v52 = *(void *)(a2 + v19);
  (*(void (**)(char *, char *, uint64_t))(v11 + 32))(v17, v10, v7);
  uint64_t v47 = a3;
  uint64_t v21 = v48;
  uint64_t v50 = v17;
  uint64_t v22 = v17;
  uint64_t v23 = v7;
  ((void (*)(char *, char *, uint64_t))v20)(v48, v22, v7);
  uint64_t v24 = sub_259843A50();
  os_log_type_t v25 = sub_259844B30();
  BOOL v26 = os_log_type_enabled(v24, v25);
  uint64_t v49 = v11;
  if (v26)
  {
    uint64_t v27 = swift_slowAlloc();
    uint64_t v44 = swift_slowAlloc();
    uint64_t v54 = v44;
    *(_DWORD *)uint64_t v27 = 134218242;
    uint64_t v53 = v52;
    sub_259844E10();
    *(_WORD *)(v27 + 12) = 2080;
    v43[1] = v27 + 14;
    uint64_t v28 = v46;
    uint64_t v29 = (*(uint64_t (**)(uint64_t))(*(void *)(v46 + 104) + 16))(v23);
    uint64_t v48 = *(char **)(v11 + 8);
    ((void (*)(char *, uint64_t))v48)(v21, v23);
    uint64_t v30 = MEMORY[0x25A2DED80](v29, *(void *)(v28 + 80));
    unint64_t v32 = v31;
    swift_bridgeObjectRelease();
    uint64_t v53 = sub_259356D5C(v30, v32, &v54);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v24, v25, "Electing %ld from cluster %s", (uint8_t *)v27, 0x16u);
    uint64_t v33 = v44;
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v33, -1, -1);
    MEMORY[0x25A2E13A0](v27, -1, -1);

    uint64_t v34 = v28;
  }
  else
  {
    uint64_t v48 = *(char **)(v11 + 8);
    ((void (*)(char *, uint64_t))v48)(v21, v7);

    uint64_t v34 = v46;
  }
  uint64_t v35 = v47[11];
  uint64_t v36 = v47[12];
  __swift_project_boxed_opaque_existential_1(v47 + 8, v35);
  char v37 = v50;
  uint64_t v38 = (*(uint64_t (**)(uint64_t))(*(void *)(v34 + 104) + 16))(v23);
  uint64_t v39 = v51;
  uint64_t v40 = SummarizationElector.elect(from:targetNumberOfItems:)(v38, v52, v35, v36);
  if (v39)
  {
    ((void (*)(char *, uint64_t))v48)(v37, v23);
    return swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v42 = v40;
    swift_bridgeObjectRelease();
    uint64_t v54 = v42;
    sub_259844630();
    swift_getWitnessTable();
    sub_2598445D0();
    return ((uint64_t (*)(char *, uint64_t))v48)(v37, v23);
  }
}

uint64_t Summarizer.__deallocating_deinit()
{
  Summarizer.deinit();
  uint64_t v1 = *(unsigned int *)(*(void *)v0 + 48);
  uint64_t v2 = *(unsigned __int16 *)(*(void *)v0 + 52);
  return MEMORY[0x270FA0228](v0, v1, v2);
}

uint64_t sub_2596645F8(uint64_t a1, uint64_t a2)
{
  return sub_259664104(a1, a2, v2);
}

uint64_t sub_259664618()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = sub_2598439F0();
    if (v2 <= 0x3F)
    {
      uint64_t result = swift_initClassMetadata2();
      if (!result) {
        return 0;
      }
    }
  }
  return result;
}

uint64_t type metadata accessor for Summarizer()
{
  return swift_getGenericMetadata();
}

uint64_t method lookup function for Summarizer(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for Summarizer);
}

uint64_t dispatch thunk of Summarizer.__allocating_init(clusterer:planner:elector:)()
{
  return (*(uint64_t (**)(void))(v0 + 152))();
}

uint64_t dispatch thunk of Summarizer.summarize(_:targetNumberOfItems:eligibleItems:progressReporter:)()
{
  return (*(uint64_t (**)(void))(*(void *)v0 + 160))();
}

uint64_t sub_25966477C(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    uint64_t v65 = MEMORY[0x263F8EE78];
    sub_2594F2450();
    uint64_t v5 = v65;
    uint64_t v6 = (void *)(a1 + 40);
    while (1)
    {
      uint64_t v60 = v3;
      uint64_t v8 = *(v6 - 1);
      uint64_t v7 = *v6;
      uint64_t v59 = v6;
      uint64_t v9 = sub_2598440A0();
      uint64_t v11 = v10;
      uint64_t v64 = MEMORY[0x263F8D310];
      *(void *)&long long v63 = v8;
      *((void *)&v63 + 1) = v7;
      sub_2593A2C40(&v63, v62);
      swift_bridgeObjectRetain_n();
      uint64_t v12 = (void *)MEMORY[0x263F8EE80];
      swift_isUniquelyReferenced_nonNull_native();
      uint64_t v61 = v12;
      unint64_t v13 = sub_25939CE90();
      if (__OFADD__(v12[2], (v14 & 1) == 0)) {
        break;
      }
      unint64_t v15 = v13;
      char v16 = v14;
      __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A38FA70);
      if (sub_259845350())
      {
        unint64_t v17 = sub_25939CE90();
        if ((v16 & 1) != (v18 & 1)) {
          goto LABEL_44;
        }
        unint64_t v15 = v17;
      }
      uint64_t v19 = v12;
      if (v16)
      {
        uint64_t v20 = (_OWORD *)(v12[7] + 32 * v15);
        __swift_destroy_boxed_opaque_existential_1((uint64_t)v20);
        sub_2593A2C40(v62, v20);
      }
      else
      {
        v12[(v15 >> 6) + 8] |= 1 << v15;
        uint64_t v21 = (uint64_t *)(v12[6] + 16 * v15);
        *uint64_t v21 = v9;
        v21[1] = v11;
        sub_2593A2C40(v62, (_OWORD *)(v12[7] + 32 * v15));
        uint64_t v22 = v12[2];
        BOOL v23 = __OFADD__(v22, 1);
        uint64_t v24 = v22 + 1;
        if (v23) {
          goto LABEL_39;
        }
        v12[2] = v24;
        sub_259843F00();
      }
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v25 = *(void *)(a2 + 112);
      if (*(void *)(v25 + 16))
      {
        sub_259843F00();
        unint64_t v26 = sub_25939CE90();
        if (v27)
        {
          uint64_t v28 = (int *)(*(void *)(v25 + 56) + 24 * v26);
          int v30 = *v28;
          int v29 = v28[1];
          sub_259843F00();
          swift_bridgeObjectRelease();
          uint64_t v31 = sub_2598440A0();
          uint64_t v33 = v32;
          uint64_t v64 = MEMORY[0x263F8D5C8];
          LODWORD(v63) = v30;
          sub_2593A2C40(&v63, v62);
          swift_isUniquelyReferenced_nonNull_native();
          unint64_t v34 = sub_25939CE90();
          char v36 = v35;
          if (__OFADD__(v61[2], (v35 & 1) == 0)) {
            goto LABEL_40;
          }
          unint64_t v37 = v34;
          if (sub_259845350())
          {
            unint64_t v38 = sub_25939CE90();
            if ((v36 & 1) != (v39 & 1)) {
              goto LABEL_44;
            }
            unint64_t v37 = v38;
          }
          if (v36)
          {
            uint64_t v40 = (_OWORD *)(v19[7] + 32 * v37);
            __swift_destroy_boxed_opaque_existential_1((uint64_t)v40);
            sub_2593A2C40(v62, v40);
          }
          else
          {
            v19[(v37 >> 6) + 8] |= 1 << v37;
            unint64_t v41 = (uint64_t *)(v19[6] + 16 * v37);
            uint64_t *v41 = v31;
            v41[1] = v33;
            sub_2593A2C40(v62, (_OWORD *)(v19[7] + 32 * v37));
            uint64_t v42 = v19[2];
            BOOL v23 = __OFADD__(v42, 1);
            uint64_t v43 = v42 + 1;
            if (v23) {
              goto LABEL_42;
            }
            v61[2] = v43;
            sub_259843F00();
          }
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          uint64_t v44 = sub_2598440A0();
          uint64_t v46 = v45;
          uint64_t v64 = MEMORY[0x263F8D5C8];
          LODWORD(v63) = v29;
          sub_2593A2C40(&v63, v62);
          swift_isUniquelyReferenced_nonNull_native();
          unint64_t v47 = sub_25939CE90();
          char v49 = v48;
          if (__OFADD__(v61[2], (v48 & 1) == 0)) {
            goto LABEL_41;
          }
          unint64_t v50 = v47;
          if (sub_259845350())
          {
            unint64_t v51 = sub_25939CE90();
            if ((v49 & 1) != (v52 & 1)) {
              goto LABEL_44;
            }
            unint64_t v50 = v51;
          }
          if (v49)
          {
            uint64_t v53 = (_OWORD *)(v19[7] + 32 * v50);
            __swift_destroy_boxed_opaque_existential_1((uint64_t)v53);
            sub_2593A2C40(v62, v53);
          }
          else
          {
            v19[(v50 >> 6) + 8] |= 1 << v50;
            uint64_t v54 = (uint64_t *)(v19[6] + 16 * v50);
            *uint64_t v54 = v44;
            v54[1] = v46;
            sub_2593A2C40(v62, (_OWORD *)(v19[7] + 32 * v50));
            uint64_t v55 = v19[2];
            BOOL v23 = __OFADD__(v55, 1);
            uint64_t v56 = v55 + 1;
            if (v23) {
              goto LABEL_43;
            }
            v61[2] = v56;
            sub_259843F00();
          }
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
        }
        else
        {
          swift_bridgeObjectRelease();
        }
      }
      swift_bridgeObjectRelease();
      uint64_t v65 = v5;
      unint64_t v57 = *(void *)(v5 + 16);
      if (v57 >= *(void *)(v5 + 24) >> 1)
      {
        sub_2594F2450();
        uint64_t v5 = v65;
      }
      uint64_t v6 = v59 + 2;
      *(void *)(v5 + 16) = v57 + 1;
      *(void *)(v5 + 8 * v57 + 32) = v19;
      uint64_t v3 = v60 - 1;
      if (v60 == 1)
      {
        sub_25942F91C(a2);
        return v5;
      }
    }
    __break(1u);
LABEL_39:
    __break(1u);
LABEL_40:
    __break(1u);
LABEL_41:
    __break(1u);
LABEL_42:
    __break(1u);
LABEL_43:
    __break(1u);
LABEL_44:
    uint64_t result = sub_2598457D0();
    __break(1u);
  }
  else
  {
    sub_25942F91C(a2);
    return MEMORY[0x263F8EE78];
  }
  return result;
}

id sub_259664CDC()
{
  uint64_t v1 = OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData____lazy_storage___storyTitleCategory;
  unint64_t v2 = *(void **)(v0
                + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData____lazy_storage___storyTitleCategory);
  if (v2)
  {
    id v3 = *(id *)(v0
               + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData____lazy_storage___storyTitleCategory);
  }
  else
  {
    objc_msgSend(self, sel_generateNextStoryTitleStyleIndex);
    id v4 = (id)PFStoryTitleCategoryGenerateWithWrappedIndex();
    uint64_t v5 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v4;
    id v3 = v4;

    unint64_t v2 = 0;
  }
  id v6 = v2;
  return v3;
}

id GenerativeMemoryPhotosGraphData.__allocating_init(storyChapters:musicCuration:promptInformation:)(uint64_t a1, const void *a2, char *a3)
{
  id v7 = objc_allocWithZone(v3);
  return GenerativeMemoryPhotosGraphData.init(storyChapters:musicCuration:promptInformation:)(a1, a2, a3);
}

id GenerativeMemoryPhotosGraphData.init(storyChapters:musicCuration:promptInformation:)(uint64_t a1, const void *a2, char *a3)
{
  char v6 = *a3;
  id v7 = v3;
  sub_259843A60();
  *(void *)&v7[OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData____lazy_storage___storyTitleCategory] = 0;
  *(void *)&v7[OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_storyChapters] = a1;
  memcpy(&v7[OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_storyMusicCuration], a2, 0x220uLL);
  v7[OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_promptInformation] = v6;

  v9.receiver = v7;
  v9.super_class = (Class)type metadata accessor for GenerativeMemoryPhotosGraphData();
  return objc_msgSendSuper2(&v9, sel_init);
}

uint64_t type metadata accessor for GenerativeMemoryPhotosGraphData()
{
  uint64_t result = qword_26A38F9D8;
  if (!qword_26A38F9D8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_259664EDC()
{
  uint64_t v2 = *(void *)(v0 + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_storyChapters);
  uint64_t v62 = *(void *)(v2 + 16);
  if (v62)
  {
    uint64_t v61 = v2 + 32;
    uint64_t result = sub_259843F00();
    unint64_t v4 = 0;
    uint64_t v5 = MEMORY[0x263F8EE78];
    uint64_t v60 = v2;
    while (v4 < *(void *)(v2 + 16))
    {
      memcpy(__dst, (const void *)(v61 + (v4 << 7)), sizeof(__dst));
      sub_259666348((uint64_t)&__dst[10], (uint64_t)v68);
      sub_259666348((uint64_t)v68, (uint64_t)&v69);
      if (v70 != 1)
      {
        sub_259394C7C();
        swift_allocError();
        *char v36 = 2;
        swift_willThrow();
        swift_bridgeObjectRelease();
        return swift_bridgeObjectRelease();
      }
      unint64_t v63 = v4;
      char v6 = v69;
      sub_25942F854((uint64_t)__dst);
      sub_2596663A4((uint64_t)v68);
      id v7 = objc_msgSend(v6, sel_fetchedObjects);
      if (v7)
      {
        uint64_t v8 = v7;
        sub_25946D748();
        unint64_t v9 = sub_259844500();
      }
      else
      {
        unint64_t v9 = MEMORY[0x263F8EE78];
      }
      if (v9 >> 62)
      {
        sub_259843F00();
        uint64_t result = sub_259845460();
        uint64_t v10 = result;
      }
      else
      {
        uint64_t v10 = *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10);
        uint64_t result = sub_259843F00();
      }
      uint64_t v64 = v5;
      if (v10)
      {
        if (v10 < 1) {
          goto LABEL_42;
        }
        uint64_t v11 = 0;
        uint64_t v12 = MEMORY[0x263F8EE78];
        do
        {
          if ((v9 & 0xC000000000000001) != 0) {
            id v13 = (id)MEMORY[0x25A2DFA20](v11, v9);
          }
          else {
            id v13 = *(id *)(v9 + 8 * v11 + 32);
          }
          char v14 = v13;
          uint64_t v15 = sub_25944C4E4(v13);
          uint64_t v17 = v16;

          if (v17)
          {
            if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
            {
              sub_25938553C();
              uint64_t v12 = v20;
            }
            unint64_t v18 = *(void *)(v12 + 16);
            if (v18 >= *(void *)(v12 + 24) >> 1)
            {
              sub_25938553C();
              uint64_t v12 = v21;
            }
            *(void *)(v12 + 16) = v18 + 1;
            uint64_t v19 = v12 + 16 * v18;
            *(void *)(v19 + 32) = v15;
            *(void *)(v19 + 40) = v17;
          }
          ++v11;
        }
        while (v10 != v11);
      }
      else
      {
        uint64_t v12 = MEMORY[0x263F8EE78];
      }
      swift_bridgeObjectRelease_n();
      uint64_t v23 = __dst[2];
      unint64_t v22 = __dst[3];
      sub_25942F854((uint64_t)__dst);
      uint64_t v24 = sub_25966477C(v12, (uint64_t)__dst);
      swift_bridgeObjectRelease();
      sub_25942F854((uint64_t)__dst);
      sub_25942F854((uint64_t)__dst);
      uint64_t v25 = sub_259843A50();
      os_log_type_t v26 = sub_259844B40();
      if (os_log_type_enabled(v25, v26))
      {
        uint64_t v27 = swift_slowAlloc();
        uint64_t v28 = swift_slowAlloc();
        __src[0] = v28;
        *(_DWORD *)uint64_t v27 = 136315138;
        sub_259843F00();
        *(void *)(v27 + 4) = sub_259356D5C(v23, v22, __src);
        swift_bridgeObjectRelease();
        sub_25942F91C((uint64_t)__dst);
        sub_25942F91C((uint64_t)__dst);
        _os_log_impl(&dword_25934C000, v25, v26, "Highlight dictionary generated for chapter %s.", (uint8_t *)v27, 0xCu);
        swift_arrayDestroy();
        MEMORY[0x25A2E13A0](v28, -1, -1);
        MEMORY[0x25A2E13A0](v27, -1, -1);
      }
      else
      {

        sub_25942F91C((uint64_t)__dst);
        sub_25942F91C((uint64_t)__dst);
      }
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A389A00);
      uint64_t v29 = swift_allocObject();
      *(_OWORD *)(v29 + 16) = xmmword_259876910;
      *(void *)(v29 + 32) = sub_2598440A0();
      *(void *)(v29 + 40) = v30;
      *(void *)(v29 + 72) = MEMORY[0x263F8D310];
      *(void *)(v29 + 48) = v23;
      *(void *)(v29 + 56) = v22;
      *(void *)(v29 + 80) = sub_2598440A0();
      *(void *)(v29 + 88) = v31;
      *(void *)(v29 + 120) = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38C940);
      *(void *)(v29 + 96) = v24;
      sub_259843F00();
      uint64_t v32 = sub_259843EE0();
      uint64_t v5 = v64;
      uint64_t v2 = v60;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_259387074();
        uint64_t v5 = v34;
      }
      unint64_t v33 = *(void *)(v5 + 16);
      if (v33 >= *(void *)(v5 + 24) >> 1)
      {
        sub_259387074();
        uint64_t v5 = v35;
      }
      unint64_t v4 = v63 + 1;
      *(void *)(v5 + 16) = v33 + 1;
      *(void *)(v5 + 8 * v33 + 32) = v32;
      sub_2596663D4((uint64_t)v68);
      uint64_t result = sub_25942F91C((uint64_t)__dst);
      if (v63 + 1 == v62)
      {
        uint64_t v37 = v1;
        swift_bridgeObjectRelease();
        goto LABEL_37;
      }
    }
    __break(1u);
LABEL_42:
    __break(1u);
  }
  else
  {
    uint64_t v37 = v1;
    uint64_t v5 = MEMORY[0x263F8EE78];
LABEL_37:
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389A00);
    uint64_t v38 = swift_allocObject();
    *(_OWORD *)(v38 + 16) = xmmword_259876900;
    *(void *)(v38 + 32) = sub_2598440A0();
    *(void *)(v38 + 40) = v39;
    *(void *)(v38 + 72) = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38C940);
    *(void *)(v38 + 48) = v5;
    *(void *)(v38 + 80) = sub_2598440A0();
    *(void *)(v38 + 88) = v40;
    char v41 = *(unsigned char *)(v59 + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_promptInformation);
    uint64_t v42 = swift_allocObject();
    *(_OWORD *)(v42 + 16) = xmmword_259876920;
    *(void *)(v42 + 32) = sub_2598440A0();
    *(void *)(v42 + 40) = v43;
    *(void *)(v42 + 72) = MEMORY[0x263F8D4F8];
    *(unsigned char *)(v42 + 48) = v41;
    uint64_t v44 = sub_259843EE0();
    uint64_t v45 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F9D0);
    *(void *)(v38 + 120) = v45;
    *(void *)(v38 + 96) = v44;
    *(void *)(v38 + 128) = sub_2598440A0();
    *(void *)(v38 + 136) = v46;
    memcpy(__src, (const void *)(v59 + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_storyMusicCuration), sizeof(__src));
    memcpy(v65, (const void *)(v59 + OBJC_IVAR____TtC18PhotosIntelligence31GenerativeMemoryPhotosGraphData_storyMusicCuration), sizeof(v65));
    uint64_t v47 = StoryMusicCuration.dictionaryForSavingToPHMemory()();
    *(void *)(v38 + 168) = v45;
    *(void *)(v38 + 144) = v47;
    uint64_t v48 = sub_259843EE0();
    memcpy(v65, __src, sizeof(v65));
    sub_25947EEE0((uint64_t)__src);
    uint64_t v49 = sub_259665678(v65);
    if (v37)
    {
      sub_259488494((uint64_t)__src);
      return swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v51 = v49;
      uint64_t v52 = v50;
      sub_259488494((uint64_t)__src);
      uint64_t v53 = swift_allocObject();
      *(_OWORD *)(v53 + 16) = xmmword_259876900;
      *(void *)(v53 + 32) = sub_2598440A0();
      *(void *)(v53 + 40) = v54;
      id v55 = sub_259664CDC();
      type metadata accessor for PFStoryTitleCategory(0);
      *(void *)(v53 + 72) = v56;
      *(void *)(v53 + 48) = v55;
      *(void *)(v53 + 80) = sub_2598440A0();
      *(void *)(v53 + 88) = v57;
      *(void *)(v53 + 120) = v45;
      *(void *)(v53 + 96) = v48;
      *(void *)(v53 + 128) = sub_2598440A0();
      *(void *)(v53 + 136) = v58;
      *(void *)(v53 + 168) = MEMORY[0x263F06F78];
      *(void *)(v53 + 144) = v51;
      *(void *)(v53 + 152) = v52;
      return sub_259843EE0();
    }
  }
  return result;
}

uint64_t sub_259665678(void *__src)
{
  memcpy(__dst, __src, sizeof(__dst));
  unint64_t v52 = MEMORY[0x263F8EE78];
  uint64_t v49 = 0;
  unint64_t v50 = 0xE000000000000000;
  uint64_t v47 = 0;
  unint64_t v48 = 0xE000000000000000;
  memcpy(v46, __src, sizeof(v46));
  uint64_t v3 = StoryMusicCuration.flexMusicStoryRecipeKeySong()();
  uint64_t v4 = (uint64_t)&selRef__mePersonUUIDInPhotoLibrary_;
  if (v1)
  {
    id v5 = v1;
    id v6 = v1;
    id v7 = sub_259843A50();
    os_log_type_t v8 = sub_259844B50();
    if (os_log_type_enabled(v7, v8))
    {
      unint64_t v9 = (uint8_t *)swift_slowAlloc();
      uint64_t v10 = (void *)swift_slowAlloc();
      *(_DWORD *)unint64_t v9 = 138412290;
      id v11 = v1;
      uint64_t v12 = _swift_stdlib_bridgeErrorToNSError();
      v46[0] = v12;
      sub_259844E10();
      *uint64_t v10 = v12;

      _os_log_impl(&dword_25934C000, v7, v8, "No key Flex song found. Error: %@", v9, 0xCu);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      id v13 = v10;
      uint64_t v4 = 0x1F6A8A000;
      MEMORY[0x25A2E13A0](v13, -1, -1);
      MEMORY[0x25A2E13A0](v9, -1, -1);
    }
    else
    {
    }
    uint64_t v17 = 0;
    unint64_t v19 = 0xE000000000000000;
  }
  else
  {
    char v14 = (void *)v3;
    uint64_t v15 = swift_unknownObjectRetain();
    MEMORY[0x25A2DED30](v15);
    if (*(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_259844560();
    }
    sub_2598445B0();
    sub_259844530();
    id v16 = objc_msgSend(v14, sel_identifier);
    uint64_t v17 = sub_2598440A0();
    unint64_t v19 = v18;
    swift_unknownObjectRelease();

    uint64_t v49 = v17;
    unint64_t v50 = v19;
  }
  memcpy(v46, __dst, sizeof(v46));
  uint64_t v20 = (void *)StoryMusicCuration.appleMusicStoryRecipeKeySong()();
  swift_bridgeObjectRelease();
  uint64_t v21 = swift_unknownObjectRetain();
  MEMORY[0x25A2DED30](v21);
  if (*(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v52 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    sub_259844560();
  }
  sub_2598445B0();
  sub_259844530();
  id v22 = [v20 (SEL)(v4 + 2200)];
  uint64_t v23 = sub_2598440A0();
  unint64_t v25 = v24;
  uint64_t v26 = v23;
  swift_unknownObjectRelease();

  uint64_t v47 = v26;
  unint64_t v48 = v25;
  swift_bridgeObjectRetain_n();
  swift_bridgeObjectRetain_n();
  uint64_t v27 = sub_259843A50();
  os_log_type_t v28 = sub_259844B30();
  if (os_log_type_enabled(v27, v28))
  {
    uint64_t v29 = swift_slowAlloc();
    uint64_t v45 = v26;
    uint64_t v30 = swift_slowAlloc();
    v46[0] = v30;
    *(_DWORD *)uint64_t v29 = 136315394;
    sub_259843F00();
    sub_259356D5C(v17, v19, v46);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v29 + 12) = 2080;
    sub_259843F00();
    sub_259356D5C(v45, v25, v46);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_25934C000, v27, v28, "Using key songs for story recipe: flex=%s  applemusic=%s", (uint8_t *)v29, 0x16u);
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v30, -1, -1);
    MEMORY[0x25A2E13A0](v29, -1, -1);
  }
  else
  {
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }

  unint64_t v31 = v52;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F9E8);
  uint64_t v32 = swift_allocObject();
  *(_OWORD *)(v32 + 16) = xmmword_259876910;
  unint64_t v33 = (void *)*MEMORY[0x263F5DFF0];
  *(void *)(v32 + 32) = *MEMORY[0x263F5DFF0];
  swift_beginAccess();
  unint64_t v34 = v50;
  *(void *)(v32 + 40) = v49;
  *(void *)(v32 + 48) = v34;
  uint64_t v35 = (void *)*MEMORY[0x263F5DFE8];
  *(void *)(v32 + 56) = *MEMORY[0x263F5DFE8];
  swift_beginAccess();
  unint64_t v36 = v48;
  *(void *)(v32 + 64) = v47;
  *(void *)(v32 + 72) = v36;
  type metadata accessor for PFStoryRecipeSongCatalog(0);
  sub_25966653C();
  id v37 = v33;
  id v38 = v35;
  uint64_t v39 = sub_259843EE0();
  uint64_t v40 = sub_259665F74(v31, v39);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  id v41 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F5DF80]), sel_init);
  id v42 = objc_msgSend(v41, sel_archivedDataWithRecipe_, v40);

  uint64_t v43 = sub_2598426C0();
  swift_unknownObjectRelease();

  return v43;
}

id GenerativeMemoryPhotosGraphData.__allocating_init()()
{
  id v1 = objc_allocWithZone(v0);
  return objc_msgSend(v1, sel_init);
}

void GenerativeMemoryPhotosGraphData.init()()
{
}

id GenerativeMemoryPhotosGraphData.__deallocating_deinit()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for GenerativeMemoryPhotosGraphData();
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

_WORD *sub_259665F74(unint64_t a1, uint64_t a2)
{
  uint64_t v4 = objc_msgSend(self, sel_createRecipe);
  objc_msgSend(v4, sel_mutableCopyWithZone_, 0);
  swift_unknownObjectRelease();
  sub_259844EF0();
  swift_unknownObjectRelease();
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A38FA60);
  if (swift_dynamicCast())
  {
    uint64_t v4 = v21;
    if (a1 >> 62)
    {
      sub_259843F00();
      uint64_t v12 = sub_259845460();
      swift_bridgeObjectRelease();
      if (v12 > 0)
      {
        sub_259843F00();
        uint64_t v13 = sub_259845460();
        if (!v13)
        {
          swift_bridgeObjectRelease();
LABEL_21:
          if (*(void *)(a2 + 16))
          {
            type metadata accessor for PFStoryRecipeSongCatalog(0);
            sub_25966653C();
            uint64_t v17 = sub_259843E90();
            objc_msgSend(v21, sel_setSeedSongIdentifiersByCatalog_, v17);
          }
          else
          {
            uint64_t v17 = sub_259843A50();
            os_log_type_t v18 = sub_259844B50();
            if (os_log_type_enabled(v17, v18))
            {
              unint64_t v19 = (uint8_t *)swift_slowAlloc();
              *(_WORD *)unint64_t v19 = 0;
              _os_log_impl(&dword_25934C000, v17, v18, "No seed songs to save to the recipe", v19, 2u);
              MEMORY[0x25A2E13A0](v19, -1, -1);
            }
          }

          return v4;
        }
        uint64_t v5 = v13;
        if (v13 >= 1)
        {
          uint64_t v6 = a2;
LABEL_5:
          for (uint64_t i = 0; i != v5; ++i)
          {
            if ((a1 & 0xC000000000000001) != 0)
            {
              uint64_t v8 = MEMORY[0x25A2DFA20](i, a1);
            }
            else
            {
              uint64_t v8 = *(void *)(a1 + 8 * i + 32);
              swift_unknownObjectRetain();
            }
            objc_msgSend(v21, sel_addAsset_, v8);
            swift_unknownObjectRelease();
          }
          swift_bridgeObjectRelease();
          a2 = v6;
          goto LABEL_21;
        }
        __break(1u);
      }
    }
    else
    {
      uint64_t v5 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v5)
      {
        uint64_t v6 = a2;
        sub_259843F00();
        goto LABEL_5;
      }
    }
    char v14 = sub_259843A50();
    os_log_type_t v15 = sub_259844B50();
    if (os_log_type_enabled(v14, v15))
    {
      id v16 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)id v16 = 0;
      _os_log_impl(&dword_25934C000, v14, v15, "No song assets to save to the recipe", v16, 2u);
      MEMORY[0x25A2E13A0](v16, -1, -1);
    }

    goto LABEL_21;
  }
  unint64_t v9 = sub_259843A50();
  os_log_type_t v10 = sub_259844B50();
  if (os_log_type_enabled(v9, v10))
  {
    uint64_t v4 = (_WORD *)swift_slowAlloc();
    *uint64_t v4 = 0;
    _os_log_impl(&dword_25934C000, v9, v10, "PFStoryRecipeFactory.createRecipe().mutableCopy() failed", (uint8_t *)v4, 2u);
    MEMORY[0x25A2E13A0](v4, -1, -1);
  }

  sub_25952A954();
  swift_allocError();
  *(_OWORD *)uint64_t v11 = xmmword_259885840;
  *(unsigned char *)(v11 + 16) = 2;
  swift_willThrow();
  return v4;
}

uint64_t sub_259666348(uint64_t a1, uint64_t a2)
{
  return a2;
}

uint64_t sub_2596663A4(uint64_t a1)
{
  return a1;
}

uint64_t sub_2596663D4(uint64_t a1)
{
  return a1;
}

uint64_t sub_259666404()
{
  return type metadata accessor for GenerativeMemoryPhotosGraphData();
}

uint64_t sub_25966640C()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t method lookup function for GenerativeMemoryPhotosGraphData(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for GenerativeMemoryPhotosGraphData);
}

uint64_t dispatch thunk of GenerativeMemoryPhotosGraphData.__allocating_init(storyChapters:musicCuration:promptInformation:)()
{
  return (*(uint64_t (**)(void))(v0 + 144))();
}

uint64_t dispatch thunk of GenerativeMemoryPhotosGraphData.dictionary.getter()
{
  return (*(uint64_t (**)(void))((*MEMORY[0x263F8EED0] & *v0) + 0x98))();
}

unint64_t sub_25966653C()
{
  unint64_t result = qword_26A38F9F0;
  if (!qword_26A38F9F0)
  {
    type metadata accessor for PFStoryRecipeSongCatalog(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38F9F0);
  }
  return result;
}

uint64_t sub_25966658C(unint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t v5 = a1;
  uint64_t v29 = MEMORY[0x263F8EE78];
  if (a1 >> 62) {
    goto LABEL_21;
  }
  uint64_t v6 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (v6)
  {
    while (1)
    {
      unint64_t v7 = 0;
      uint64_t v27 = v5 & 0xFFFFFFFFFFFFFF8;
      unint64_t v28 = v5 & 0xC000000000000001;
      uint64_t v26 = v6;
      while (v28)
      {
        id v8 = (id)MEMORY[0x25A2DFA20](v7, v5);
LABEL_7:
        unint64_t v9 = v8;
        unint64_t v10 = v7 + 1;
        if (__OFADD__(v7, 1)) {
          goto LABEL_20;
        }
        id v11 = objc_msgSend(v8, sel_name);
        uint64_t v12 = sub_2598440A0();
        uint64_t v14 = v13;

        if (*(unsigned char *)(a2 + 40) == 1)
        {
          swift_bridgeObjectRelease();
        }
        else
        {
          unint64_t v15 = v5;
          uint64_t v16 = *(void *)(a2 + 16);
          sub_259843F00();
          sub_25973CE24(v12, v14, v16);
          char v18 = v17;
          swift_bridgeObjectRelease();
          if ((v18 & 1) == 0)
          {

            swift_bridgeObjectRelease();
            unint64_t v5 = v15;
            uint64_t v6 = v26;
            goto LABEL_16;
          }
          sub_25973CE24(v12, v14, a3);
          char v20 = v19;
          swift_bridgeObjectRelease();
          unint64_t v5 = v15;
          uint64_t v6 = v26;
          if (v20)
          {
            sub_25966CBC8(v9, a4);
            if ((v21 & 1) == 0)
            {

              goto LABEL_16;
            }
          }
        }
        sub_259845240();
        sub_259845280();
        sub_259845290();
        sub_259845250();
LABEL_16:
        ++v7;
        if (v10 == v6)
        {
          uint64_t v22 = v29;
          goto LABEL_23;
        }
      }
      if (v7 < *(void *)(v27 + 16)) {
        break;
      }
      __break(1u);
LABEL_20:
      __break(1u);
LABEL_21:
      uint64_t v6 = sub_259845460();
      if (!v6) {
        goto LABEL_22;
      }
    }
    id v8 = *(id *)(v5 + 8 * v7 + 32);
    goto LABEL_7;
  }
LABEL_22:
  uint64_t v22 = MEMORY[0x263F8EE78];
LABEL_23:
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v22;
}

uint64_t sub_2596667C8(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 16);
  uint64_t result = MEMORY[0x263F8EE78];
  if (v2)
  {
    uint64_t v7 = MEMORY[0x263F8EE78];
    sub_259845270();
    uint64_t v4 = (void **)(a1 + 40);
    do
    {
      unint64_t v5 = *v4;
      v4 += 2;
      id v6 = v5;
      sub_259845240();
      sub_259845280();
      sub_259845290();
      sub_259845250();
      --v2;
    }
    while (v2);
    return v7;
  }
  return result;
}

uint64_t sub_259666878(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v9 = MEMORY[0x263F8EE78];
    sub_2594F1AF0();
    uint64_t v2 = v9;
    uint64_t v4 = (uint64_t *)(a1 + 48);
    do
    {
      uint64_t v5 = *v4;
      unint64_t v7 = *(void *)(v9 + 16);
      unint64_t v6 = *(void *)(v9 + 24);
      sub_259843F00();
      if (v7 >= v6 >> 1) {
        sub_2594F1AF0();
      }
      *(void *)(v9 + 16) = v7 + 1;
      *(void *)(v9 + 8 * v7 + 32) = v5;
      v4 += 3;
      --v1;
    }
    while (v1);
  }
  return v2;
}

uint64_t sub_259666948(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (!v3)
  {
    swift_release();
    return MEMORY[0x263F8EE78];
  }
  uint64_t v5 = (void *)MEMORY[0x263F8EE78];
  uint64_t v18 = MEMORY[0x263F8EE78];
  sub_2594F1AF0();
  uint64_t v6 = v18;
  for (uint64_t i = (uint64_t *)(a1 + 32); ; ++i)
  {
    unint64_t v8 = *(void *)(a2 + 96);
    if ((v8 & 0x8000000000000000) != 0) {
      break;
    }
    uint64_t v9 = *i;
    if (v8)
    {
      if (*(void *)(v9 + 16) >= v8) {
        uint64_t v10 = *(void *)(a2 + 96);
      }
      else {
        uint64_t v10 = *(void *)(v9 + 16);
      }
    }
    else
    {
      uint64_t v10 = 0;
    }
    sub_259845770();
    sub_259843F00();
    swift_unknownObjectRetain_n();
    uint64_t v11 = swift_dynamicCastClass();
    if (!v11)
    {
      swift_bridgeObjectRelease();
      uint64_t v11 = (uint64_t)v5;
    }
    uint64_t v12 = *(void *)(v11 + 16);
    swift_release();
    if (v12 == v10)
    {
      uint64_t v13 = (void *)swift_dynamicCastClass();
      if (!v13)
      {
        swift_bridgeObjectRelease();
LABEL_14:
        uint64_t v13 = v5;
      }
    }
    else
    {
      swift_bridgeObjectRelease();
      if (!v10) {
        goto LABEL_14;
      }
      __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
      uint64_t v13 = (void *)swift_allocObject();
      size_t v15 = _swift_stdlib_malloc_size_0(v13);
      v13[2] = v10;
      id v13[3] = 2 * ((uint64_t)(v15 - 32) / 16);
      if (v9 + 32 < (unint64_t)&v13[2 * v10 + 4] && (unint64_t)(v13 + 4) < v9 + 32 + 16 * v10) {
        goto LABEL_29;
      }
      swift_arrayInitWithCopy();
    }
    swift_bridgeObjectRelease();
    unint64_t v14 = *(void *)(v18 + 16);
    if (v14 >= *(void *)(v18 + 24) >> 1) {
      sub_2594F1AF0();
    }
    *(void *)(v18 + 16) = v14 + 1;
    *(void *)(v18 + 8 * v14 + 32) = v13;
    if (!--v3)
    {
      swift_release();
      return v6;
    }
  }
  __break(1u);
LABEL_29:
  uint64_t result = sub_2598454C0();
  __break(1u);
  return result;
}

uint64_t sub_259666B98(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    uint64_t v11 = MEMORY[0x263F8EE78];
    sub_2594F2070();
    uint64_t v5 = v11;
    uint64_t v6 = (uint64_t *)(a1 + 32);
    do
    {
      uint64_t v7 = *v6;
      sub_259843F00();
      sub_259843F00();
      uint64_t v8 = sub_259392E1C(v7, a2);
      swift_bridgeObjectRelease();
      unint64_t v9 = *(void *)(v11 + 16);
      if (v9 >= *(void *)(v11 + 24) >> 1) {
        sub_2594F2070();
      }
      *(void *)(v11 + 16) = v9 + 1;
      *(void *)(v11 + 8 * v9 + 32) = v8;
      ++v6;
      --v3;
    }
    while (v3);
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  return v5;
}

void sub_259666CB8(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v7 = v6;
  uint64_t v8 = a1;
  if ((a1 & 0xC000000000000001) != 0)
  {
    sub_259843F00();
    sub_259844F70();
    sub_25935633C(0, (unint64_t *)&unk_26B2F8580);
    sub_2595464BC((unint64_t *)&qword_26B2F8590, (unint64_t *)&unk_26B2F8580);
    sub_259844970();
    uint64_t v8 = v37;
    uint64_t v30 = v38;
    uint64_t v9 = v39;
    int64_t v10 = v40;
    unint64_t v11 = v41;
  }
  else
  {
    uint64_t v12 = -1 << *(unsigned char *)(a1 + 32);
    uint64_t v30 = a1 + 56;
    uint64_t v9 = ~v12;
    uint64_t v13 = -v12;
    if (v13 < 64) {
      uint64_t v14 = ~(-1 << v13);
    }
    else {
      uint64_t v14 = -1;
    }
    unint64_t v11 = v14 & *(void *)(a1 + 56);
    sub_259843F00();
    int64_t v10 = 0;
  }
  uint64_t v15 = MEMORY[0x263F8EE78];
  int64_t v29 = (unint64_t)(v9 + 64) >> 6;
  if (v8 < 0) {
    goto LABEL_10;
  }
LABEL_8:
  if (v11)
  {
    uint64_t v16 = (v11 - 1) & v11;
    unint64_t v17 = __clz(__rbit64(v11)) | (v10 << 6);
    int64_t v18 = v10;
    goto LABEL_24;
  }
  int64_t v18 = v10 + 1;
  if (!__OFADD__(v10, 1))
  {
    if (v18 >= v29) {
      goto LABEL_41;
    }
    unint64_t v21 = *(void *)(v30 + 8 * v18);
    if (!v21)
    {
      int64_t v22 = v10 + 2;
      if (v10 + 2 >= v29) {
        goto LABEL_41;
      }
      unint64_t v21 = *(void *)(v30 + 8 * v22);
      if (v21) {
        goto LABEL_22;
      }
      int64_t v22 = v10 + 3;
      if (v10 + 3 >= v29) {
        goto LABEL_41;
      }
      unint64_t v21 = *(void *)(v30 + 8 * v22);
      if (v21) {
        goto LABEL_22;
      }
      int64_t v22 = v10 + 4;
      if (v10 + 4 >= v29) {
        goto LABEL_41;
      }
      unint64_t v21 = *(void *)(v30 + 8 * v22);
      if (v21)
      {
LABEL_22:
        int64_t v18 = v22;
      }
      else
      {
        int64_t v18 = v10 + 5;
        if (v10 + 5 >= v29) {
          goto LABEL_41;
        }
        unint64_t v21 = *(void *)(v30 + 8 * v18);
        if (!v21)
        {
          int64_t v25 = v10 + 6;
          while (v25 < v29)
          {
            unint64_t v21 = *(void *)(v30 + 8 * v25++);
            if (v21)
            {
              int64_t v18 = v25 - 1;
              goto LABEL_23;
            }
          }
          goto LABEL_41;
        }
      }
    }
LABEL_23:
    uint64_t v16 = (v21 - 1) & v21;
    unint64_t v17 = __clz(__rbit64(v21)) + (v18 << 6);
LABEL_24:
    id v20 = *(id *)(*(void *)(v8 + 48) + 8 * v17);
    if (v20)
    {
      while (1)
      {
        id v42 = v20;
        sub_25966C7AC(&v42, a2, a4, a5, a6, &v36);
        if (v7) {
          break;
        }

        if ((void)v36)
        {
          long long v35 = v36;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_259386838();
            uint64_t v15 = v26;
          }
          unint64_t v23 = *(void *)(v15 + 16);
          long long v24 = v35;
          if (v23 >= *(void *)(v15 + 24) >> 1)
          {
            sub_259386838();
            long long v24 = v35;
            uint64_t v15 = v27;
          }
          *(void *)(v15 + 16) = v23 + 1;
          *(_OWORD *)(v15 + 16 * v23 + 32) = v24;
        }
        int64_t v10 = v18;
        unint64_t v11 = v16;
        if ((v8 & 0x8000000000000000) == 0) {
          goto LABEL_8;
        }
LABEL_10:
        char v19 = (void *)sub_259845010();
        if (v19)
        {
          id v42 = v19;
          sub_25935633C(0, (unint64_t *)&unk_26B2F8580);
          swift_unknownObjectRetain();
          swift_dynamicCast();
          id v20 = (id)v36;
          swift_unknownObjectRelease();
          int64_t v18 = v10;
          uint64_t v16 = v11;
          if (v20) {
            continue;
          }
        }
        goto LABEL_41;
      }

      sub_25940CF64();
      swift_bridgeObjectRelease();
      swift_release();

      swift_bridgeObjectRelease();
      unint64_t v28 = a6;
      goto LABEL_42;
    }
LABEL_41:
    sub_25940CF64();

    swift_bridgeObjectRelease();
    swift_release();
    unint64_t v28 = a2;
LABEL_42:

    return;
  }
  __break(1u);
}

uint64_t sub_2596670BC(uint64_t a1)
{
  uint64_t v2 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38C798);
  MEMORY[0x270FA5388](v2 - 8);
  uint64_t v4 = (uint64_t *)((char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v5 = (int *)type metadata accessor for PersonalTrait();
  uint64_t v37 = *((void *)v5 - 1);
  MEMORY[0x270FA5388](v5);
  uint64_t v38 = (uint64_t)&v35 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v7);
  uint64_t v36 = (uint64_t)&v35 - v8;
  sub_2597EFE50(v41, a1);
  uint64_t v9 = v41[0];
  uint64_t v40 = v41[1];
  int64_t v10 = v41[3];
  unint64_t v11 = v41[4];
  int64_t v42 = (unint64_t)(v41[2] + 64) >> 6;
  uint64_t result = sub_259843F00();
  uint64_t v39 = MEMORY[0x263F8EE78];
  while (1)
  {
    if (v11)
    {
      unint64_t v13 = __clz(__rbit64(v11));
      v11 &= v11 - 1;
      unint64_t v14 = v13 | (v10 << 6);
      goto LABEL_20;
    }
    int64_t v15 = v10 + 1;
    if (__OFADD__(v10, 1)) {
      break;
    }
    if (v15 >= v42) {
      goto LABEL_30;
    }
    unint64_t v16 = *(void *)(v40 + 8 * v15);
    int64_t v17 = v10 + 1;
    if (!v16)
    {
      int64_t v17 = v10 + 2;
      if (v10 + 2 >= v42) {
        goto LABEL_30;
      }
      unint64_t v16 = *(void *)(v40 + 8 * v17);
      if (!v16)
      {
        int64_t v17 = v10 + 3;
        if (v10 + 3 >= v42) {
          goto LABEL_30;
        }
        unint64_t v16 = *(void *)(v40 + 8 * v17);
        if (!v16)
        {
          int64_t v17 = v10 + 4;
          if (v10 + 4 >= v42) {
            goto LABEL_30;
          }
          unint64_t v16 = *(void *)(v40 + 8 * v17);
          if (!v16)
          {
            int64_t v17 = v10 + 5;
            if (v10 + 5 >= v42) {
              goto LABEL_30;
            }
            unint64_t v16 = *(void *)(v40 + 8 * v17);
            if (!v16)
            {
              int64_t v18 = v10 + 6;
              while (v18 < v42)
              {
                unint64_t v16 = *(void *)(v40 + 8 * v18++);
                if (v16)
                {
                  int64_t v17 = v18 - 1;
                  goto LABEL_19;
                }
              }
LABEL_30:
              swift_release();
              return v39;
            }
          }
        }
      }
    }
LABEL_19:
    unint64_t v11 = (v16 - 1) & v16;
    unint64_t v14 = __clz(__rbit64(v16)) + (v17 << 6);
    int64_t v10 = v17;
LABEL_20:
    uint64_t v19 = *(void *)(*(void *)(v9 + 56) + 8 * v14);
    id v20 = *(id *)(*(void *)(v9 + 48) + 8 * v14);
    sub_259843F00();
    uint64_t v21 = sub_25966DB7C(v20);
    if (v22)
    {
      uint64_t v23 = v21;
      uint64_t v24 = v22;
      id v25 = objc_msgSend(v20, sel_extendedSceneClassId);
      double v26 = (double)*(uint64_t *)(v19 + 16);
      *uint64_t v4 = v23;
      v4[1] = v24;
      v4[2] = v19;
      *((unsigned char *)v4 + v5[7]) = 1;
      uint64_t v27 = (char *)v4 + v5[8];
      *(void *)uint64_t v27 = v25;
      *((void *)v27 + 1) = 0;
      v27[16] = 0;
      *(double *)((char *)v4 + v5[9]) = v26;
      sub_259843F00();
      sub_259842850();
      uint64_t v28 = (uint64_t)v4;
      uint64_t v29 = 0;
    }
    else
    {
      uint64_t v28 = (uint64_t)v4;
      uint64_t v29 = 1;
    }
    __swift_storeEnumTagSinglePayload(v28, v29, 1, (uint64_t)v5);
    swift_bridgeObjectRelease();

    if (__swift_getEnumTagSinglePayload((uint64_t)v4, 1, (uint64_t)v5) == 1)
    {
      uint64_t result = sub_25966DE0C((uint64_t)v4, &qword_26A38C798);
    }
    else
    {
      uint64_t v30 = v36;
      sub_259435B9C((uint64_t)v4, v36);
      sub_259435B9C(v30, v38);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v39 = sub_259385DFC(0, *(void *)(v39 + 16) + 1, 1, v39);
      }
      unint64_t v32 = *(void *)(v39 + 16);
      unint64_t v31 = *(void *)(v39 + 24);
      if (v32 >= v31 >> 1) {
        uint64_t v39 = sub_259385DFC(v31 > 1, v32 + 1, 1, v39);
      }
      uint64_t v33 = v38;
      uint64_t v34 = v39;
      *(void *)(v39 + 16) = v32 + 1;
      uint64_t result = sub_259435B9C(v33, v34+ ((*(unsigned __int8 *)(v37 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v37 + 80))+ *(void *)(v37 + 72) * v32);
    }
  }
  __break(1u);
  return result;
}

void sub_2596674B8(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t, uint64_t))
{
  uint64_t v4 = a2;
  uint64_t v5 = a1;
  unint64_t v6 = *(void *)(a1 + 16);
  unint64_t v7 = *(void *)(a2 + 16);
  if (v7 >= v6) {
    unint64_t v8 = *(void *)(a1 + 16);
  }
  else {
    unint64_t v8 = *(void *)(a2 + 16);
  }
  uint64_t v26 = MEMORY[0x263F8EE78];
  sub_2594F2090();
  uint64_t v23 = v4;
  uint64_t v24 = v5;
  unint64_t v22 = v6;
  if (v8)
  {
    sub_259843F00();
    sub_259843F00();
    uint64_t v9 = 0;
    while (1)
    {
      if (v6 == v9)
      {
        __break(1u);
LABEL_28:
        __break(1u);
        goto LABEL_29;
      }
      if (v7 == v9) {
        goto LABEL_28;
      }
      uint64_t v10 = *(void *)(v5 + 8 * v9 + 32);
      uint64_t v11 = *(void *)(v4 + 8 * v9 + 32);
      sub_259843F00();
      sub_259843F00();
      uint64_t v12 = a3(v10, v11);
      if (v3) {
        break;
      }
      uint64_t v13 = v12;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v14 = *(void *)(v26 + 16);
      if (v14 >= *(void *)(v26 + 24) >> 1) {
        sub_2594F2090();
      }
      ++v9;
      *(void *)(v26 + 16) = v14 + 1;
      *(void *)(v26 + 8 * v14 + 32) = v13;
      uint64_t v4 = v23;
      uint64_t v5 = v24;
      unint64_t v6 = v22;
      if (v8 == v9) {
        goto LABEL_14;
      }
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
LABEL_26:
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_259843F00();
    sub_259843F00();
LABEL_14:
    if (v6 <= v7)
    {
LABEL_23:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v20 = v4 + 32;
      uint64_t v21 = v5 + 32;
      while (v8 < v6)
      {
        if (v7 == v8) {
          goto LABEL_23;
        }
        if (v8 >= v7) {
          goto LABEL_30;
        }
        uint64_t v15 = *(void *)(v21 + 8 * v8);
        uint64_t v16 = *(void *)(v20 + 8 * v8);
        sub_259843F00();
        sub_259843F00();
        uint64_t v17 = a3(v15, v16);
        if (v3)
        {
          swift_release();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          goto LABEL_26;
        }
        uint64_t v18 = v17;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        unint64_t v19 = *(void *)(v26 + 16);
        if (v19 >= *(void *)(v26 + 24) >> 1) {
          sub_2594F2090();
        }
        ++v8;
        *(void *)(v26 + 16) = v19 + 1;
        *(void *)(v26 + 8 * v19 + 32) = v18;
        unint64_t v6 = v22;
        if (v22 == v8) {
          goto LABEL_23;
        }
      }
LABEL_29:
      __break(1u);
LABEL_30:
      __break(1u);
    }
  }
}

uint64_t PersonalTraitEntityNetDataSource.__allocating_init(configuration:photoLibrary:storyGenerationCache:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = swift_allocObject();
  PersonalTraitEntityNetDataSource.init(configuration:photoLibrary:storyGenerationCache:)(a1, a2, a3);
  return v6;
}

uint64_t PersonalTraitEntityNetDataSource.generateGraphBasedPersonalTraits(from:assetUUIDs:eventRecorder:progressReporter:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *(void *)(v5 + 248) = a4;
  *(void *)(v5 + 256) = v4;
  *(void *)(v5 + 232) = a2;
  *(void *)(v5 + 240) = a3;
  type metadata accessor for RootEventRecorder.EventState(0);
  *(void *)(v5 + 264) = swift_task_alloc();
  long long v7 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)(v5 + 272) = *(_OWORD *)a1;
  *(_OWORD *)(v5 + 288) = v7;
  long long v8 = *(_OWORD *)(a1 + 48);
  *(_OWORD *)(v5 + 304) = *(_OWORD *)(a1 + 32);
  *(_OWORD *)(v5 + 320) = v8;
  *(void *)(v5 + 336) = *(void *)(a1 + 64);
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_259667880()
{
  uint64_t v1 = *(void **)(v0 + 240);
  uint64_t v2 = *(void **)(v0 + 248);
  uint64_t v3 = v1[3];
  uint64_t v4 = v1[4];
  __swift_project_boxed_opaque_existential_1(v1, v3);
  (*(void (**)(const char *, uint64_t, uint64_t, uint64_t, uint64_t))(v4 + 24))("PersonalTraitEntityNetDataSource.generateGraphBasedPersonalTraits", 65, 2, v3, v4);
  __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  sub_2598435C0();
  id v7 = objc_msgSend(*(id *)(*(void *)(v0 + 256) + 120), sel_photoAnalysisClient);
  *(void *)(v0 + 344) = v7;
  if (v7)
  {
    long long v8 = v7;
    uint64_t v9 = *(void *)(v0 + 336);
    type metadata accessor for PhotoAnalysisMomentGraphService();
    long long v39 = *(_OWORD *)(v0 + 288);
    long long v41 = *(_OWORD *)(v0 + 272);
    long long v36 = *(_OWORD *)(v0 + 320);
    long long v37 = *(_OWORD *)(v0 + 304);
    *(void *)(v0 + 352) = swift_initStackObject();
    *(void *)(v0 + 360) = PhotoAnalysisService.init(serviceProvider:)(v8);
    sub_259842540();
    swift_allocObject();
    *(void *)(v0 + 368) = sub_259842530();
    *(_OWORD *)(v0 + 120) = v41;
    *(_OWORD *)(v0 + 136) = v39;
    *(_OWORD *)(v0 + 152) = v37;
    *(_OWORD *)(v0 + 168) = v36;
    *(void *)(v0 + 184) = v9;
    sub_259495AE4();
    uint64_t v10 = sub_259842520();
    *(void *)(v0 + 376) = v10;
    *(void *)(v0 + 384) = v11;
    uint64_t v38 = v10;
    uint64_t v40 = v11;
    uint64_t v17 = *(void *)(v0 + 256);
    uint64_t v18 = *(void *)(v17 + 24);
    uint64_t v19 = *(void *)(v17 + 32);
    char v20 = *(unsigned char *)(v17 + 40);
    uint64_t v21 = *(void *)(v17 + 48);
    uint64_t v22 = *(void *)(v17 + 104);
    uint64_t v23 = *(void *)(v17 + 112);
    long long v24 = *(_OWORD *)(v17 + 56);
    long long v25 = *(_OWORD *)(v17 + 72);
    long long v26 = *(_OWORD *)(v17 + 88);
    *(void *)(v0 + 16) = *(void *)(v17 + 16);
    *(void *)(v0 + 24) = v18;
    *(void *)(v0 + 32) = v19;
    *(unsigned char *)(v0 + 40) = v20;
    *(void *)(v0 + 48) = v21;
    *(_OWORD *)(v0 + 56) = v24;
    *(_OWORD *)(v0 + 72) = v25;
    *(_OWORD *)(v0 + 88) = v26;
    *(void *)(v0 + 104) = v22;
    *(void *)(v0 + 112) = v23;
    sub_25966915C();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v27 = sub_259842520();
    *(void *)(v0 + 392) = v27;
    *(void *)(v0 + 400) = v28;
    uint64_t v29 = v27;
    uint64_t v30 = v28;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v31 = sub_259843F00();
    sub_259737700(v31);
    swift_retain();
    swift_retain();
    swift_retain();
    static StoryGenerationUtilities.momentUUIDByAssetUUID(with:in:using:)();
    uint64_t v33 = v32;
    *(void *)(v0 + 408) = v32;
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    swift_release();
    uint64_t v34 = (void *)swift_task_alloc();
    *(void *)(v0 + 416) = v34;
    void *v34 = v0;
    v34[1] = sub_259667D70;
    uint64_t v35 = *(void *)(v0 + 232);
    return PhotoAnalysisMomentGraphService.requestPersonalTraits(for:momentUUIDByAssetUUID:extendedTokenCollectionAsData:configurationAsData:)(v35, v33, v38, v40, v29, v30);
  }
  else
  {
    uint64_t v12 = *(void *)(v0 + 264);
    uint64_t v13 = *(void **)(v0 + 240);
    sub_259669110();
    swift_allocError();
    unsigned char *v14 = 0;
    swift_willThrow();
    uint64_t v16 = v1[3];
    uint64_t v15 = v1[4];
    __swift_project_boxed_opaque_existential_1(v13, v16);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 32))(v12, v16, v15);
    sub_25966DBE0(*(void *)(v0 + 264), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    OUTLINED_FUNCTION_67();
    return v5();
  }
}

uint64_t sub_259667D70()
{
  OUTLINED_FUNCTION_0_2();
  v3[53] = v1;
  v3[54] = v2;
  v3[55] = v0;
  swift_task_dealloc();
  if (!v0) {
    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_259667E68()
{
  uint64_t v1 = *(void *)(v0 + 440);
  sub_259842500();
  swift_allocObject();
  sub_2598424F0();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38A308);
  sub_2596691A8();
  sub_2598424E0();
  if (v1)
  {
    uint64_t v2 = *(void *)(v0 + 424);
    unint64_t v3 = *(void *)(v0 + 432);
    uint64_t v5 = *(void *)(v0 + 392);
    unint64_t v4 = *(void *)(v0 + 400);
    uint64_t v7 = *(void *)(v0 + 376);
    unint64_t v6 = *(void *)(v0 + 384);
    uint64_t v23 = *(void **)(v0 + 344);
    uint64_t v25 = *(void *)(v0 + 264);
    uint64_t v8 = *(void **)(v0 + 240);
    swift_release();
    sub_259399374(v2, v3);
    sub_259399374(v5, v4);
    sub_259399374(v7, v6);
    swift_release();
    swift_release();

    uint64_t v9 = v8[3];
    uint64_t v10 = v8[4];
    __swift_project_boxed_opaque_existential_1(v8, v9);
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v10 + 32))(v25, v9, v10);
    sub_25966DBE0(*(void *)(v0 + 264), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    OUTLINED_FUNCTION_67();
    return v18();
  }
  else
  {
    uint64_t v26 = *(void *)(v0 + 224);
    __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 248), *(void *)(*(void *)(v0 + 248) + 24));
    sub_2598435E0();
    uint64_t v12 = *(void *)(v0 + 424);
    unint64_t v11 = *(void *)(v0 + 432);
    uint64_t v14 = *(void *)(v0 + 392);
    unint64_t v13 = *(void *)(v0 + 400);
    uint64_t v16 = *(void *)(v0 + 376);
    unint64_t v15 = *(void *)(v0 + 384);
    uint64_t v22 = *(void **)(v0 + 344);
    uint64_t v24 = *(void *)(v0 + 264);
    uint64_t v17 = *(void **)(v0 + 240);
    swift_release();
    sub_259399374(v12, v11);
    sub_259399374(v14, v13);
    sub_259399374(v16, v15);
    swift_release();
    swift_release();

    OUTLINED_FUNCTION_6_6(v17);
    OUTLINED_FUNCTION_8_0();
    v20();
    sub_25966DBE0(v24, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    uint64_t v21 = *(uint64_t (**)(uint64_t))(v0 + 8);
    return v21(v26);
  }
}

uint64_t sub_259668194()
{
  unint64_t v1 = v0[50];
  unint64_t v3 = v0[48];
  uint64_t v2 = v0[49];
  uint64_t v4 = v0[47];
  uint64_t v5 = (void *)v0[43];
  unint64_t v6 = (void *)v0[30];
  swift_bridgeObjectRelease();
  sub_259399374(v2, v1);
  sub_259399374(v4, v3);
  swift_release();
  swift_release();

  OUTLINED_FUNCTION_6_6(v6);
  OUTLINED_FUNCTION_8_0();
  v7();
  sub_25966DBE0(v0[33], (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v8();
}

uint64_t PersonalTraitEntityNetDataSource.generateLibraryBasedPersonalTraits(assetUUIDs:eventRecorder:progressReporter:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[8] = a3;
  v4[9] = v3;
  v4[6] = a1;
  v4[7] = a2;
  type metadata accessor for RootEventRecorder.EventState(0);
  v4[10] = swift_task_alloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_259668328()
{
  uint64_t v1 = v0[9];
  uint64_t v2 = (void *)v0[7];
  uint64_t v3 = v2[3];
  uint64_t v4 = v2[4];
  v107 = v2;
  __swift_project_boxed_opaque_existential_1(v2, v3);
  (*(void (**)(const char *, uint64_t, uint64_t, uint64_t, uint64_t))(v4 + 24))("PersonalTraitEntityNetDataSource.generateLibraryBasedPersonalTraits", 67, 2, v3, v4);
  uint64_t v5 = *(void *)(v1 + 112);
  uint64_t v6 = *(void *)(v1 + 96);
  uint64_t v7 = v5 * v6;
  if ((unsigned __int128)(v5 * (__int128)v6) >> 64 != (v5 * v6) >> 63) {
    goto LABEL_66;
  }
  uint64_t v1 = *(void *)(v0[6] + 16);
  if (v1 >= v7)
  {
    if (qword_26A388AC8 != -1) {
      goto LABEL_68;
    }
    goto LABEL_7;
  }
  id v111 = v0 + 4;
  uint64_t v8 = (void *)v0[8];
  __swift_project_boxed_opaque_existential_1(v8, v8[3]);
  sub_2598435C0();
  uint64_t v104 = (uint64_t)v8;
  if (qword_26A388AC8 != -1) {
LABEL_70:
  }
    swift_once();
  uint64_t v9 = sub_259843A80();
  uint64_t v10 = __swift_project_value_buffer(v9, (uint64_t)qword_26A38FA88);
  sub_259843F00();
  uint64_t v102 = v10;
  unint64_t v11 = sub_259843A50();
  os_log_type_t v12 = sub_259844B70();
  if (os_log_type_enabled(v11, v12))
  {
    uint64_t v13 = swift_slowAlloc();
    *(_DWORD *)uint64_t v13 = 134218240;
    *id v111 = v1;
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v13 + 12) = 2048;
    v0[5] = v7;
    sub_259844E10();
    _os_log_impl(&dword_25934C000, v11, v12, "%ld assets provided, %ld needed for clustering. Loading scene classifications for all assets.", (uint8_t *)v13, 0x16u);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }

  sub_259669D70(v0[6]);
  uint64_t v1 = v24;
  if (v24 >> 62)
  {
LABEL_72:
    sub_259843F00();
    uint64_t v29 = sub_259845460();
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v28 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v28 = *(void *)((v24 & 0xFFFFFFFFFFFFFF8) + 0x10);
    uint64_t v29 = v28;
  }
  uint64_t v99 = v1;
  if (!v28)
  {
LABEL_60:
    uint64_t v76 = swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_8_56(v76, v77, v78, v79, v80, v81, v82, v83, v93, *((uint64_t *)&v93 + 1), v94, v95, v96, v97, v98, v99, (uint64_t)v100, v102, v103,
      v104);
    OUTLINED_FUNCTION_13_2();
    uint64_t v86 = sub_259843F00();
    sub_2596670BC(v86);
    swift_bridgeObjectRelease_n();
    uint64_t v87 = OUTLINED_FUNCTION_1_77();
    v88(v87);
    sub_25966DBE0(0, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    OUTLINED_FUNCTION_44_1();
    OUTLINED_FUNCTION_0_51();
    __asm { BRAA            X2, X16 }
  }
  *(double *)&long long v25 = (double)v29;
  unint64_t v30 = 0;
  double v31 = 0.8 / *(double *)&v25;
  unint64_t v103 = v1 & 0xC000000000000001;
  uint64_t v96 = v1 + 32;
  uint64_t v97 = v1 & 0xFFFFFFFFFFFFFF8;
  double v32 = 0.0;
  uint64_t v33 = (void *)MEMORY[0x263F8EE80];
  *(void *)&long long v25 = 138412290;
  long long v93 = v25;
  uint64_t v98 = v28;
  uint64_t v106 = v0;
  while (1)
  {
    if (v103)
    {
      id v34 = (id)MEMORY[0x25A2DFA20](v30, v99);
    }
    else
    {
      if (v30 >= *(void *)(v97 + 16))
      {
        __break(1u);
        goto LABEL_72;
      }
      id v34 = *(id *)(v96 + 8 * v30);
    }
    BOOL v35 = __OFADD__(v30, 1);
    unint64_t v36 = v30 + 1;
    if (v35)
    {
      __break(1u);
      goto LABEL_70;
    }
    unint64_t v105 = v36;
    id v37 = v34;
    id v111 = (void *)sub_2593A2A4C(v37);
    if (v38) {
      break;
    }
    id v69 = v37;
    char v70 = sub_259843A50();
    os_log_type_t v71 = sub_259844B40();
    uint64_t v1 = v71;
    if (os_log_type_enabled(v70, v71))
    {
      uint64_t v72 = swift_slowAlloc();
      uint64_t v73 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v72 = v93;
      id v74 = objc_msgSend(v69, sel_objectID);
      *(void *)(v72 + 4) = v74;
      *uint64_t v73 = v74;

      _os_log_impl(&dword_25934C000, v70, (os_log_type_t)v1, "Unexpectedly missing UUID for asset %@.", (uint8_t *)v72, 0xCu);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
    }
LABEL_54:
    unint64_t v30 = v105;
    uint64_t v0 = v106;
    if (v105 == v98) {
      goto LABEL_60;
    }
  }
  uint64_t v0 = v38;
  sub_259669FBC(v37);
  unint64_t v40 = v39;
  if (v39 >> 62)
  {
    swift_bridgeObjectRetain_n();
    uint64_t v41 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v41 = *(void *)((v39 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  uint64_t v101 = (uint64_t)v37;
  if (!v41)
  {
LABEL_49:
    swift_bridgeObjectRelease();
    uint64_t v61 = swift_bridgeObjectRelease_n();
    OUTLINED_FUNCTION_8_56(v61, v62, v63, v64, v65, v66, v67, v68, v93, *((uint64_t *)&v93 + 1), v94, v95, v96, v97, v98, v99, v101, v102, v103,
      v104);
    OUTLINED_FUNCTION_13_2();
    if (v40)
    {
      uint64_t v91 = v106[10];
      v92 = (void *)v106[7];
      swift_bridgeObjectRelease();

      swift_bridgeObjectRelease();
      uint64_t v84 = v107[3];
      uint64_t v85 = v107[4];
      __swift_project_boxed_opaque_existential_1(v92, v84);
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v85 + 32))(v91, v84, v85);
      sub_25966DBE0(v106[10], (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
      swift_task_dealloc();
      OUTLINED_FUNCTION_0_51();
      __asm { BRAA            X1, X16 }
    }

    double v32 = v31 + v32;
    goto LABEL_54;
  }
  uint64_t v95 = sub_25935633C(0, &qword_26A389B70);
  uint64_t v1 = 0;
  unint64_t v109 = v40;
  unint64_t v110 = v40 & 0xC000000000000001;
  uint64_t v108 = v41;
  while (1)
  {
    id v42 = v110 ? (id)MEMORY[0x25A2DFA20](v1, v40) : *(id *)(v40 + 8 * v1 + 32);
    uint64_t v43 = v1 + 1;
    if (__OFADD__(v1, 1)) {
      break;
    }
    uint64_t v7 = (uint64_t)v42;
    sub_259843F00();
    swift_isUniquelyReferenced_nonNull_native();
    sub_25939D168();
    if (__OFADD__(v33[2], (v45 & 1) == 0)) {
      goto LABEL_65;
    }
    unint64_t v46 = v44;
    char v47 = v45;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAC8);
    if (sub_259845350())
    {
      sub_25939D168();
      if ((v47 & 1) != (v49 & 1))
      {
        OUTLINED_FUNCTION_0_51();
        return sub_2598457D0();
      }
      unint64_t v46 = v48;
    }
    swift_bridgeObjectRelease();
    if ((v47 & 1) == 0)
    {
      v33[(v46 >> 6) + 8] |= 1 << v46;
      *(void *)(v33[6] + 8 * v46) = v7;
      *(void *)(v33[7] + 8 * v46) = MEMORY[0x263F8EE78];
      uint64_t v50 = v33[2];
      BOOL v35 = __OFADD__(v50, 1);
      uint64_t v51 = v50 + 1;
      if (v35) {
        goto LABEL_67;
      }
      v33[2] = v51;
      id v52 = (id)v7;
    }
    uint64_t v53 = v33[7];
    uint64_t v54 = *(void *)(v53 + 8 * v46);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v53 + 8 * v46) = v54;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      sub_25938553C();
      uint64_t v54 = v59;
      *(void *)(v53 + 8 * v46) = v59;
    }
    unint64_t v56 = *(void *)(v54 + 16);
    if (v56 >= *(void *)(v54 + 24) >> 1)
    {
      sub_25938553C();
      uint64_t v54 = v60;
      *(void *)(v53 + 8 * v46) = v60;
    }
    *(void *)(v54 + 16) = v56 + 1;
    uint64_t v57 = v54 + 16 * v56;
    *(void *)(v57 + 32) = v111;
    *(void *)(v57 + 40) = v0;

    ++v1;
    BOOL v58 = v43 == v108;
    unint64_t v40 = v109;
    if (v58) {
      goto LABEL_49;
    }
  }
  __break(1u);
LABEL_65:
  __break(1u);
LABEL_66:
  __break(1u);
LABEL_67:
  __break(1u);
LABEL_68:
  swift_once();
LABEL_7:
  uint64_t v14 = sub_259843A80();
  __swift_project_value_buffer(v14, (uint64_t)qword_26A38FA88);
  sub_259843F00();
  unint64_t v15 = sub_259843A50();
  os_log_type_t v16 = sub_259844B70();
  if (os_log_type_enabled(v15, v16))
  {
    uint64_t v17 = swift_slowAlloc();
    *(_DWORD *)uint64_t v17 = 134218240;
    v0[2] = v1;
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v17 + 12) = 2048;
    v0[3] = v7;
    sub_259844E10();
    _os_log_impl(&dword_25934C000, v15, v16, "%ld assets provided, %ld needed for clustering. Clustering and sampling assets.", (uint8_t *)v17, 0x16u);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }

  uint64_t v18 = (void *)swift_task_alloc();
  v0[11] = v18;
  *uint64_t v18 = v0;
  v18[1] = sub_259668D30;
  OUTLINED_FUNCTION_0_51();
  return sub_25966926C(v19, v20, v21);
}

uint64_t sub_259668D30(uint64_t a1)
{
  OUTLINED_FUNCTION_0_2();
  uint64_t v4 = v3;
  *(void *)(v3 + 96) = v1;
  swift_task_dealloc();
  if (!v1) {
    *(void *)(v4 + 104) = a1;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_259668E30()
{
  uint64_t v1 = OUTLINED_FUNCTION_1_77();
  v2(v1);
  sub_25966DBE0(v0, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  uint64_t v3 = OUTLINED_FUNCTION_44_1();
  return v4(v3);
}

uint64_t sub_259668EC4()
{
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 56), *(void *)(*(void *)(v0 + 56) + 24));
  OUTLINED_FUNCTION_8_0();
  v1();
  sub_25966DBE0(*(void *)(v0 + 80), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v2();
}

const char *static PersonalTraitEntityNetDataSource.generateLibraryBasedPersonalTraitsEvent.getter()
{
  return "PersonalTraitEntityNetDataSource.generateLibraryBasedPersonalTraits";
}

const char *static PersonalTraitEntityNetDataSource.generateGraphBasedPersonalTraitsEvent.getter()
{
  return "PersonalTraitEntityNetDataSource.generateGraphBasedPersonalTraits";
}

uint64_t sub_259668FA4()
{
  sub_25935633C(0, (unint64_t *)&qword_26B300540);
  uint64_t result = sub_259844DA0();
  qword_26A38FA80 = result;
  return result;
}

uint64_t sub_25966901C()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A38FA88);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A38FA88);
  if (qword_26A388AC0 != -1) {
    swift_once();
  }
  id v1 = (id)qword_26A38FA80;
  return sub_259843A90();
}

uint64_t PersonalTraitEntityNetDataSource.init(configuration:photoLibrary:storyGenerationCache:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = *(void *)(a1 + 16);
  char v5 = *(unsigned char *)(a1 + 24);
  uint64_t v6 = *(void *)(a1 + 32);
  uint64_t v7 = *(void *)(a1 + 88);
  uint64_t v8 = *(void *)(a1 + 96);
  uint64_t v9 = *(void *)(a3 + 16);
  *(_OWORD *)(v3 + 16) = *(_OWORD *)a1;
  *(void *)(v3 + 32) = v4;
  *(unsigned char *)(v3 + 40) = v5;
  *(void *)(v3 + 48) = v6;
  *(_OWORD *)(v3 + 56) = *(_OWORD *)(a1 + 40);
  *(_OWORD *)(v3 + 72) = *(_OWORD *)(a1 + 56);
  *(_OWORD *)(v3 + 88) = *(_OWORD *)(a1 + 72);
  *(void *)(v3 + 104) = v7;
  *(void *)(v3 + 112) = v8;
  *(void *)(v3 + 120) = a2;
  *(_OWORD *)(v3 + 128) = *(_OWORD *)a3;
  uint64_t v10 = MEMORY[0x263F8EE80];
  *(void *)(v3 + 144) = v9;
  *(void *)(v3 + 152) = v10;
  return v3;
}

unint64_t sub_259669110()
{
  unint64_t result = qword_26A38FAA8;
  if (!qword_26A38FAA8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FAA8);
  }
  return result;
}

unint64_t sub_25966915C()
{
  unint64_t result = qword_26A38FAB0;
  if (!qword_26A38FAB0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FAB0);
  }
  return result;
}

unint64_t sub_2596691A8()
{
  unint64_t result = qword_26A38DA88;
  if (!qword_26A38DA88)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38A308);
    sub_25966921C();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38DA88);
  }
  return result;
}

unint64_t sub_25966921C()
{
  unint64_t result = qword_26A38DA90;
  if (!qword_26A38DA90)
  {
    type metadata accessor for PersonalTrait();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38DA90);
  }
  return result;
}

uint64_t sub_25966926C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[4] = a3;
  v4[5] = v3;
  v4[3] = a1;
  uint64_t v5 = type metadata accessor for PersonalTrait();
  v4[6] = v5;
  v4[7] = *(void *)(v5 - 8);
  v4[8] = swift_task_alloc();
  v4[9] = swift_task_alloc();
  v4[10] = swift_task_alloc();
  v4[11] = swift_task_alloc();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAF8);
  v4[12] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_259669388, 0, 0);
}

void sub_259669388()
{
  uint64_t v91 = v0;
  id v1 = (void *)v0[4];
  __swift_project_boxed_opaque_existential_1(v1, v1[3]);
  sub_2598435C0();
  uint64_t v2 = sub_25966A2FC(v0[3]);
  unint64_t v4 = v3;
  __swift_project_boxed_opaque_existential_1((void *)v0[4], v1[3]);
  sub_2598435D0();
  uint64_t v5 = sub_25966B7E8(v4);
  uint64_t v6 = (void *)v0[4];
  swift_bridgeObjectRelease();
  __swift_project_boxed_opaque_existential_1(v6, v1[3]);
  sub_2598435D0();
  sub_2596674B8(v2, v5, (uint64_t (*)(uint64_t, uint64_t))sub_25966DDE8);
  uint64_t v8 = v7;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  __swift_project_boxed_opaque_existential_1((void *)v0[4], v1[3]);
  sub_2598435D0();
  uint64_t v74 = *(void *)(v8 + 16);
  if (!v74)
  {
    uint64_t v87 = (void *)MEMORY[0x263F8EE80];
LABEL_37:
    uint64_t v53 = (void *)v0[4];
    swift_bridgeObjectRelease();
    __swift_project_boxed_opaque_existential_1(v53, v1[3]);
    sub_2598435E0();
    uint64_t v54 = sub_25953CA84(v87);
    swift_bridgeObjectRelease();
    if (qword_26A388AC8 != -1) {
      swift_once();
    }
    uint64_t v55 = sub_259843A80();
    __swift_project_value_buffer(v55, (uint64_t)qword_26A38FA88);
    swift_retain_n();
    unint64_t v56 = sub_259843A50();
    os_log_type_t v57 = sub_259844B70();
    if (os_log_type_enabled(v56, v57))
    {
      os_log_type_t v81 = v57;
      loga = v56;
      BOOL v58 = (uint8_t *)swift_slowAlloc();
      v90[0] = swift_slowAlloc();
      uint64_t v83 = v58;
      *(_DWORD *)BOOL v58 = 136380675;
      uint64_t v59 = *(void *)(v54 + 16);
      uint64_t v60 = MEMORY[0x263F8EE78];
      if (v59)
      {
        uint64_t v61 = v0[7];
        uint64_t v88 = v0[8];
        uint64_t v89 = MEMORY[0x263F8EE78];
        sub_2594F08BC();
        uint64_t v62 = v54 + ((*(unsigned __int8 *)(v61 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v61 + 80));
        uint64_t v63 = *(void *)(v61 + 72);
        uint64_t v60 = v89;
        do
        {
          uint64_t v64 = (uint64_t *)v0[8];
          sub_259435A70(v62, (uint64_t)v64);
          uint64_t v65 = *v64;
          uint64_t v66 = *(void *)(v88 + 8);
          sub_259843F00();
          sub_25966DBE0((uint64_t)v64, (void (*)(void))type metadata accessor for PersonalTrait);
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_2594F08BC();
            uint64_t v60 = v89;
          }
          unint64_t v67 = *(void *)(v60 + 16);
          if (v67 >= *(void *)(v60 + 24) >> 1)
          {
            sub_2594F08BC();
            uint64_t v60 = v89;
          }
          *(void *)(v60 + 16) = v67 + 1;
          uint64_t v68 = v60 + 16 * v67;
          *(void *)(v68 + 32) = v65;
          *(void *)(v68 + 40) = v66;
          v62 += v63;
          --v59;
        }
        while (v59);
      }
      uint64_t v69 = MEMORY[0x25A2DED80](v60, MEMORY[0x263F8D310]);
      unint64_t v71 = v70;
      swift_bridgeObjectRelease();
      v0[2] = sub_259356D5C(v69, v71, v90);
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_release_n();
      unint64_t v56 = loga;
      _os_log_impl(&dword_25934C000, loga, v81, "Generated VU based traits: %{private}s", v83, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release_n();
    }

    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_34();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v78 = v0[9];
  uint64_t v79 = v0[11];
  uint64_t v86 = v0[7];
  uint64_t v76 = (int *)v0[6];
  uint64_t v77 = v0[10];
  sub_259843F00();
  uint64_t v9 = 0;
  uint64_t v10 = MEMORY[0x263F8EE80];
LABEL_3:
  uint64_t v11 = v0[12];
  uint64_t v75 = v9;
  swift_bridgeObjectRetain_n();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v87 = (void *)v10;
  v90[0] = v10;
  sub_259730A2C(&v89);
  sub_259843F00();
  sub_25967DB24(v11);
  uint64_t v13 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB00);
  while (1)
  {
    if (__swift_getEnumTagSinglePayload(v11, 1, v13) == 1)
    {
      uint64_t v9 = v75 + 1;
      swift_bridgeObjectRelease();
      sub_25940CF64();
      swift_release();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v10 = (uint64_t)v87;
      if (v75 + 1 == v74)
      {
        swift_bridgeObjectRelease();
        goto LABEL_37;
      }
      goto LABEL_3;
    }
    uint64_t v14 = (uint64_t *)v0[12];
    uint64_t v15 = *v14;
    sub_259435B9C((uint64_t)v14 + *(int *)(v13 + 48), v0[11]);
    uint64_t v16 = (uint64_t)v87;
    unint64_t v18 = sub_2593A2F50(v15);
    uint64_t v19 = v87[2];
    BOOL v20 = (v17 & 1) == 0;
    if (__OFADD__(v19, v20)) {
      break;
    }
    char v21 = v17;
    if (v87[3] >= v19 + v20)
    {
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAD0);
        sub_259845360();
        uint64_t v16 = v90[0];
      }
    }
    else
    {
      sub_25972EAE0();
      uint64_t v22 = v90[0];
      uint64_t v23 = sub_2593A2F50(v15);
      if ((v21 & 1) != (v24 & 1))
      {
        OUTLINED_FUNCTION_34();
        sub_2598457D0();
        return;
      }
      unint64_t v18 = v23;
      uint64_t v16 = v22;
    }
    uint64_t v87 = (void *)v16;
    if (v21)
    {
      long long v25 = (os_log_t *)v0[9];
      unint64_t v82 = *(void *)(v86 + 72) * v18;
      sub_259435A70(*(void *)(v16 + 56) + v82, (uint64_t)v25);
      uint64_t v26 = *(void *)(v78 + 16);
      uint64_t v27 = *(void *)(v79 + 16);
      uint64_t v28 = *(void *)(v27 + 16);
      uint64_t v29 = *(void *)(v26 + 16);
      if (__OFADD__(v29, v28)) {
        goto LABEL_54;
      }
      os_log_t log = *v25;
      uint64_t v80 = *(void *)(v78 + 8);
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || v29 + v28 > *(void *)(v26 + 24) >> 1)
      {
        sub_25938553C();
        uint64_t v26 = v30;
      }
      if (*(void *)(v27 + 16))
      {
        uint64_t v31 = *(void *)(v26 + 16);
        if ((*(void *)(v26 + 24) >> 1) - v31 < v28) {
          goto LABEL_57;
        }
        unint64_t v32 = v26 + 16 * v31 + 32;
        if (v27 + 32 < v32 + 16 * v28 && v32 < v27 + 32 + 16 * v28) {
          goto LABEL_59;
        }
        os_log_t v34 = log;
        swift_arrayInitWithCopy();
        if (v28)
        {
          uint64_t v35 = *(void *)(v26 + 16);
          BOOL v36 = __OFADD__(v35, v28);
          uint64_t v37 = v35 + v28;
          if (v36) {
            goto LABEL_58;
          }
          *(void *)(v26 + 16) = v37;
        }
      }
      else
      {
        os_log_t v34 = log;
        if (v28) {
          goto LABEL_56;
        }
      }
      uint64_t v43 = (os_log_t *)v0[10];
      uint64_t v42 = v0[11];
      uint64_t v44 = v0[9];
      swift_bridgeObjectRelease();
      char v45 = *(unsigned char *)(v44 + v76[7]);
      uint64_t v46 = v44 + v76[8];
      uint64_t v47 = *(void *)v46;
      uint64_t v48 = *(void *)(v46 + 8);
      double v49 = *(double *)(v44 + v76[9]) + *(double *)(v42 + v76[9]);
      unsigned __int8 v50 = *(unsigned char *)(v46 + 16);
      *uint64_t v43 = v34;
      *(void *)(v77 + 8) = v80;
      *(void *)(v77 + 16) = v26;
      *((unsigned char *)v43 + v76[7]) = v45;
      uint64_t v51 = (char *)v43 + v76[8];
      *(void *)uint64_t v51 = v47;
      *((void *)v51 + 1) = v48;
      v51[16] = v50;
      *(double *)((char *)v43 + v76[9]) = v49;
      sub_2595AD5A4(v47, v48, v50);
      sub_259842850();
      sub_25966DBE0(v44, (void (*)(void))type metadata accessor for PersonalTrait);
      sub_25966DBE0(v42, (void (*)(void))type metadata accessor for PersonalTrait);
      sub_2594376F8((uint64_t)v43, v87[7] + v82);
    }
    else
    {
      OUTLINED_FUNCTION_21_14(v16 + 8 * (v18 >> 6));
      *(void *)(v38 + 8 * v18) = v15;
      sub_259435B9C(v39, *(void *)(v16 + 56) + *(void *)(v86 + 72) * v18);
      uint64_t v40 = *(void *)(v16 + 16);
      BOOL v36 = __OFADD__(v40, 1);
      uint64_t v41 = v40 + 1;
      if (v36) {
        goto LABEL_55;
      }
      *(void *)(v16 + 16) = v41;
    }
    uint64_t v11 = v0[12];
    sub_25967DB24(v11);
    uint64_t v13 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB00);
    char isUniquelyReferenced_nonNull_native = 1;
  }
  __break(1u);
LABEL_54:
  __break(1u);
LABEL_55:
  __break(1u);
LABEL_56:
  __break(1u);
LABEL_57:
  __break(1u);
LABEL_58:
  __break(1u);
LABEL_59:
  sub_2598454C0();
  OUTLINED_FUNCTION_34();
}

void sub_259669D70(uint64_t a1)
{
  if (qword_26A388AC0 != -1) {
    swift_once();
  }
  unint64_t v3 = (void *)qword_26A38FA80;
  type metadata accessor for PerformanceMeasure();
  swift_allocObject();
  id v4 = v3;
  PerformanceMeasure.init(name:log:)();
  id v5 = objc_msgSend(*(id *)(v1 + 120), sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v6 = swift_allocObject();
  *(_OWORD *)(v6 + 16) = xmmword_259876910;
  *(void *)(v6 + 32) = sub_2598440A0();
  *(void *)(v6 + 40) = v7;
  *(void *)(v6 + 48) = sub_2598440A0();
  *(void *)(v6 + 56) = v8;
  sub_259473B70(v6, v5);
  uint64_t v9 = self;
  id v10 = v5;
  id v11 = sub_2593A2960(a1, (uint64_t)v5, v9);

  if (v11)
  {
    id v12 = objc_msgSend(v11, sel_fetchedObjects);

    if (v12)
    {
      sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
      sub_259844500();
      id v13 = objc_msgSend(objc_allocWithZone((Class)CLSCurationSession), sel_init);
      objc_msgSend(v13, sel_prepareAssets_, v12);
      objc_msgSend(v9, sel_prefetchScenesOnAssets_, v12);

      sub_2593563FC();
      swift_release();
    }
    else
    {
      sub_259669110();
      swift_allocError();
      unsigned char *v14 = 2;
      swift_willThrow();
      swift_release();
    }
  }
  else
  {
    __break(1u);
  }
}

void sub_259669FBC(void *a1)
{
  uint64_t v2 = sub_259843A80();
  uint64_t v3 = *(void *)(v2 - 8);
  double v4 = MEMORY[0x270FA5388](v2);
  uint64_t v6 = (char *)&v19 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (objc_msgSend(a1, sel_hasCurationModel, v4))
  {
    id v7 = objc_msgSend(a1, sel_curationModel);
    id v8 = objc_msgSend(v7, sel_entityNetModel);

    if (v8)
    {
      id v9 = objc_msgSend(a1, sel_clsSceneClassifications);
      sub_25935633C(0, (unint64_t *)&unk_26B2F8580);
      sub_2595464BC((unint64_t *)&qword_26B2F8590, (unint64_t *)&unk_26B2F8580);
      uint64_t v10 = sub_259844920();

      sub_25966C4CC(v10, v8);
      swift_bridgeObjectRelease();
      return;
    }
  }
  if (qword_26A388AC8 != -1) {
    swift_once();
  }
  uint64_t v11 = __swift_project_value_buffer(v2, (uint64_t)qword_26A38FA88);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v6, v11, v2);
  id v12 = a1;
  id v13 = sub_259843A50();
  os_log_type_t v14 = sub_259844B40();
  if (!os_log_type_enabled(v13, v14))
  {

    goto LABEL_10;
  }
  uint64_t v15 = (uint8_t *)swift_slowAlloc();
  uint64_t v16 = swift_slowAlloc();
  uint64_t v20 = v16;
  *(_DWORD *)uint64_t v15 = 136315138;
  uint64_t v17 = sub_25944C4E4(v12);
  if (v18)
  {
    uint64_t v19 = sub_259356D5C(v17, v18, &v20);
    sub_259844E10();

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v13, v14, "Unknown scene model for asset %s.", v15, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v16, -1, -1);
    MEMORY[0x25A2E13A0](v15, -1, -1);

LABEL_10:
    (*(void (**)(char *, uint64_t))(v3 + 8))(v6, v2);
    return;
  }

  __break(1u);
}

uint64_t sub_25966A2FC(uint64_t a1)
{
  v167[1] = *(id *)MEMORY[0x263EF8340];
  uint64_t v2 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B0F0);
  MEMORY[0x270FA5388](v2 - 8);
  double v4 = (uint8_t *)v137 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  v163 = (uint8_t *)sub_259842860();
  uint64_t v158 = *((void *)v163 - 1);
  MEMORY[0x270FA5388](v163);
  v160 = ((char *)v137 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0));
  MEMORY[0x270FA5388](v6);
  v162 = (char *)v137 - v7;
  MEMORY[0x270FA5388](v8);
  v161 = (char *)v137 - v9;
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B0F8);
  MEMORY[0x270FA5388](v10 - 8);
  v140 = (uint8_t *)v137 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v146 = sub_259843480();
  uint64_t v145 = *(void *)(v146 - 8);
  MEMORY[0x270FA5388](v146);
  uint64_t v144 = (char *)v137 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v142 = sub_2598434E0();
  uint64_t v139 = *(void *)(v142 - 8);
  MEMORY[0x270FA5388](v142);
  v141 = (char *)v137 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v14);
  uint64_t v16 = (char *)v137 - v15;
  MEMORY[0x270FA5388](v17);
  uint64_t v19 = (char *)v137 - v18;
  uint64_t v20 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  MEMORY[0x270FA5388](v20 - 8);
  v156 = (char *)v137 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_259843500();
  v151 = *(char **)(v22 - 8);
  MEMORY[0x270FA5388](v22);
  v152 = (char *)v137 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = sub_259842680();
  uint64_t v159 = *(void *)(v24 - 8);
  MEMORY[0x270FA5388](v24);
  uint64_t v26 = (char *)v137 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v27);
  v153 = (char *)v137 - v28;
  if (qword_26A388AC8 != -1) {
    swift_once();
  }
  uint64_t v29 = sub_259843A80();
  uint64_t v30 = __swift_project_value_buffer(v29, (uint64_t)qword_26A38FA88);
  sub_259843F00();
  uint64_t v148 = v30;
  uint64_t v31 = sub_259843A50();
  os_log_type_t v32 = sub_259844B70();
  if (os_log_type_enabled(v31, v32))
  {
    uint64_t v33 = (uint8_t *)swift_slowAlloc();
    uint64_t v147 = v24;
    os_log_t v34 = v19;
    uint64_t v35 = v33;
    *(_DWORD *)uint64_t v33 = 134217984;
    v167[0] = *(id *)(a1 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v31, v32, "Visual Clustering %ld assets", v35, 0xCu);
    BOOL v36 = v35;
    uint64_t v19 = v34;
    uint64_t v24 = v147;
    MEMORY[0x25A2E13A0](v36, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  uint64_t v143 = a1;
  if (qword_26A388AC0 != -1) {
    swift_once();
  }
  uint64_t v37 = (void *)qword_26A38FA80;
  type metadata accessor for PerformanceMeasure();
  swift_allocObject();
  id v38 = v37;
  uint64_t v154 = PerformanceMeasure.init(name:log:)();
  uint64_t v39 = self;
  id v40 = objc_msgSend(*(id *)(v155 + 120), sel_photoLibraryURL);
  sub_259842630();

  uint64_t v41 = (void *)sub_2598425F0();
  uint64_t v42 = v159;
  uint64_t v43 = *(void (**)(char *, uint64_t))(v159 + 8);
  uint64_t v150 = v159 + 8;
  v149 = v43;
  v43(v26, v24);
  v167[0] = 0;
  id v44 = objc_msgSend(v39, sel_requestVUIndexURLForPhotoLibraryURL_error_, v41, v167);

  id v45 = v167[0];
  if (!v44)
  {
    unsigned __int8 v50 = v45;
    sub_259842560();

    swift_willThrow();
    uint64_t v51 = sub_259843A50();
    os_log_type_t v52 = sub_259844B50();
    if (os_log_type_enabled(v51, v52))
    {
      double v4 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)double v4 = 0;
      _os_log_impl(&dword_25934C000, v51, v52, "Unable to acquire access to the VU Index.", v4, 2u);
      MEMORY[0x25A2E13A0](v4, -1, -1);
    }

    swift_willThrow();
    swift_release();
    return (uint64_t)v4;
  }
  uint64_t v46 = v153;
  sub_259842630();

  (*((void (**)(char *, void, uint64_t))v151 + 13))(v152, *MEMORY[0x263F84CC0], v22);
  uint64_t v47 = (uint64_t)v156;
  (*(void (**)(char *, char *, uint64_t))(v42 + 16))(v156, v46, v24);
  __swift_storeEnumTagSinglePayload(v47, 0, 1, v24);
  sub_259843520();
  swift_allocObject();
  uint64_t v48 = v157;
  uint64_t v49 = sub_2598434F0();
  v151 = v48;
  if (v48)
  {
    v149(v46, v24);
    swift_release();
    return (uint64_t)v4;
  }
  v137[1] = v49;
  (*(void (**)(char *, void, uint64_t))(v145 + 104))(v144, *MEMORY[0x263F84CA0], v146);
  uint64_t v53 = *(void *)(v143 + 16);
  uint64_t v54 = MEMORY[0x263F8EE78];
  v138 = v19;
  uint64_t v147 = v24;
  uint64_t v159 = v53;
  if (v53)
  {
    v157 = v16;
    uint64_t v55 = (void (**)(char *, uint8_t *, uint64_t))(v158 + 32);
    uint64_t v56 = sub_259843F00() + 40;
    do
    {
      sub_259843F00();
      sub_259842810();
      swift_bridgeObjectRelease();
      uint64_t v57 = (uint64_t)v163;
      if (__swift_getEnumTagSinglePayload((uint64_t)v4, 1, (uint64_t)v163) == 1)
      {
        sub_25966DE0C((uint64_t)v4, &qword_26A38B0F0);
      }
      else
      {
        BOOL v58 = *v55;
        uint64_t v59 = v161;
        (*v55)(v161, v4, v57);
        v58(v162, (uint8_t *)v59, v57);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          uint64_t v54 = sub_259386408(0, *(void *)(v54 + 16) + 1, 1, v54);
        }
        unint64_t v61 = *(void *)(v54 + 16);
        unint64_t v60 = *(void *)(v54 + 24);
        if (v61 >= v60 >> 1) {
          uint64_t v54 = sub_259386408(v60 > 1, v61 + 1, 1, v54);
        }
        *(void *)(v54 + 16) = v61 + 1;
        v58((char *)(v54+ ((*(unsigned __int8 *)(v158 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v158 + 80))+ *(void *)(v158 + 72) * v61), (uint8_t *)v162, (uint64_t)v163);
      }
      v56 += 16;
      --v53;
    }
    while (v53);
    swift_bridgeObjectRelease();
    uint64_t v19 = v138;
    uint64_t v16 = v157;
  }
  uint64_t v62 = sub_2598434A0();
  double v4 = v140;
  __swift_storeEnumTagSinglePayload((uint64_t)v140, 1, 1, v62);
  uint64_t v63 = v144;
  uint64_t v64 = v151;
  sub_259843510();
  uint64_t v65 = v142;
  v151 = v64;
  uint64_t v66 = v141;
  if (v64)
  {
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    sub_25966DE0C((uint64_t)v4, &qword_26A38B0F8);
    (*(void (**)(char *, uint64_t))(v145 + 8))(v63, v146);
    v149(v153, v147);
    return (uint64_t)v4;
  }
  swift_bridgeObjectRelease();
  sub_25966DE0C((uint64_t)v4, &qword_26A38B0F8);
  (*(void (**)(char *, uint64_t))(v145 + 8))(v63, v146);
  sub_2593563FC();
  if (sub_2598434D0() < v159)
  {
    uint64_t v68 = *(void (**)(char *, char *, uint64_t))(v139 + 16);
    v68(v16, v19, v65);
    v68(v66, v19, v65);
    uint64_t v69 = sub_259843A50();
    os_log_type_t v70 = sub_259844B70();
    if (os_log_type_enabled(v69, v70))
    {
      uint64_t v71 = swift_slowAlloc();
      *(_DWORD *)uint64_t v71 = 134218240;
      uint64_t v72 = (void *)sub_2598434D0();
      uint64_t v73 = *(void (**)(char *, uint64_t))(v139 + 8);
      v73(v16, v142);
      v167[0] = v72;
      sub_259844E10();
      *(_WORD *)(v71 + 12) = 2048;
      uint64_t v74 = (void *)sub_2598434C0();
      v73(v66, v142);
      uint64_t v19 = v138;
      v167[0] = v74;
      sub_259844E10();
      _os_log_impl(&dword_25934C000, v69, v70, "The clustering is not complete for all queried assets. fullModeCount = %ld, fastModeCount = %ld. Trying to generate personal traits anyways.", (uint8_t *)v71, 0x16u);
      MEMORY[0x25A2E13A0](v71, -1, -1);
    }
    else
    {
      uint64_t v75 = *(void (**)(char *, uint64_t))(v139 + 8);
      v75(v66, v65);
      v75(v16, v65);
    }
  }
  uint64_t v76 = sub_2598434B0();
  uint64_t v77 = *(void *)(v76 + 16);
  if (v77)
  {
    v167[0] = (id)MEMORY[0x263F8EE78];
    sub_2594F1AF0();
    uint64_t v78 = 0;
    uint64_t v145 = v76;
    v152 = (char *)(v76 + 32);
    uint64_t v159 = v158 + 16;
    uint64_t v79 = (void (**)(NSObject *, uint64_t))(v158 + 8);
    uint64_t v146 = v77;
    do
    {
      v157 = v78;
      uint64_t v80 = *(char **)&v152[8 * (void)v78];
      uint64_t v81 = *((void *)v80 + 2);
      if (v81)
      {
        uint64_t v166 = MEMORY[0x263F8EE78];
        sub_259843F00();
        sub_2594F08BC();
        unint64_t v82 = (*(unsigned __int8 *)(v158 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v158 + 80);
        v156 = v80;
        uint64_t v83 = &v80[v82];
        uint64_t v84 = *(char **)(v158 + 72);
        v161 = *(char **)(v158 + 16);
        v162 = v84;
        do
        {
          uint64_t v85 = v160;
          uint64_t v86 = (uint64_t)v163;
          ((void (*)(NSObject *, char *, uint8_t *))v161)(v160, v83, v163);
          uint64_t v87 = sub_259842820();
          uint64_t v89 = v88;
          (*v79)(v85, v86);
          uint64_t v90 = v166;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_2594F08BC();
            uint64_t v90 = v166;
          }
          unint64_t v91 = *(void *)(v90 + 16);
          if (v91 >= *(void *)(v90 + 24) >> 1)
          {
            sub_2594F08BC();
            uint64_t v90 = v166;
          }
          *(void *)(v90 + 16) = v91 + 1;
          uint64_t v92 = v90 + 16 * v91;
          *(void *)(v92 + 32) = v87;
          *(void *)(v92 + 40) = v89;
          uint64_t v83 = &v162[(void)v83];
          --v81;
        }
        while (v81);
        swift_bridgeObjectRelease();
        uint64_t v77 = v146;
      }
      else
      {
        uint64_t v90 = MEMORY[0x263F8EE78];
      }
      long long v93 = v167[0];
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      uint64_t v95 = v157;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        sub_2594F1AF0();
        long long v93 = v167[0];
      }
      unint64_t v96 = v93[2];
      if (v96 >= v93[3] >> 1)
      {
        sub_2594F1AF0();
        long long v93 = v167[0];
      }
      uint64_t v78 = v95 + 1;
      v93[2] = v96 + 1;
      v93[v96 + 4] = v90;
    }
    while (v78 != (char *)v77);
    swift_bridgeObjectRelease();
    uint64_t v19 = v138;
  }
  else
  {
    swift_bridgeObjectRelease();
    long long v93 = (void *)MEMORY[0x263F8EE78];
  }
  uint64_t v97 = v93[2];
  if (v97)
  {
    v167[0] = (id)MEMORY[0x263F8EE78];
    sub_2594F2050();
    uint64_t v98 = 0;
    uint64_t v99 = v167[0];
    v163 = (uint8_t *)v97;
    do
    {
      uint64_t v100 = v93[(void)v98 + 4];
      uint64_t v166 = v100;
      sub_259843F00();
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      sub_2593C2DF4();
      uint64_t v101 = sub_259844020();
      uint64_t v103 = v102;
      v167[0] = v99;
      unint64_t v104 = v99[2];
      if (v104 >= v99[3] >> 1)
      {
        sub_2594F2050();
        uint64_t v99 = v167[0];
      }
      ++v98;
      v99[2] = v104 + 1;
      unint64_t v105 = &v99[3 * v104];
      v105[4] = v101;
      v105[5] = v103;
      v105[6] = v100;
    }
    while (v163 != v98);
    swift_bridgeObjectRelease();
    uint64_t v19 = v138;
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v99 = (void *)MEMORY[0x263F8EE78];
  }
  v167[0] = v99;
  sub_259843F00();
  uint64_t v106 = v151;
  sub_25966D070((uint64_t *)v167);
  if (!v106)
  {
    swift_bridgeObjectRelease();
    uint64_t v107 = sub_259666878((uint64_t)v167[0]);
    uint64_t v108 = 0;
    swift_release();
    swift_bridgeObjectRetain_n();
    unint64_t v109 = sub_259843A50();
    int v110 = sub_259844B70();
    if (os_log_type_enabled(v109, (os_log_type_t)v110))
    {
      LODWORD(v163) = v110;
      uint64_t v111 = swift_slowAlloc();
      uint64_t v112 = (char *)swift_slowAlloc();
      v162 = v112;
      *(_DWORD *)uint64_t v111 = 134218242;
      uint64_t v166 = *(void *)(v107 + 16);
      uint64_t v113 = v166;
      v167[0] = v112;
      sub_259844E10();
      *(_WORD *)(v111 + 12) = 2080;
      swift_getKeyPath();
      if (v113)
      {
        v160 = v109;
        v161 = 0;
        uint64_t v166 = MEMORY[0x263F8EE78];
        sub_2594F1B90();
        uint64_t v114 = v166;
        uint64_t v115 = (uint64_t *)(v107 + 32);
        do
        {
          uint64_t v164 = *v115;
          sub_259843F00();
          swift_getAtKeyPath();
          swift_bridgeObjectRelease();
          uint64_t v116 = v165;
          uint64_t v166 = v114;
          unint64_t v117 = *(void *)(v114 + 16);
          if (v117 >= *(void *)(v114 + 24) >> 1)
          {
            sub_2594F1B90();
            uint64_t v114 = v166;
          }
          *(void *)(v114 + 16) = v117 + 1;
          *(void *)(v114 + 8 * v117 + 32) = v116;
          ++v115;
          --v113;
        }
        while (v113);
        swift_release();
        unint64_t v109 = v160;
        uint64_t v108 = v161;
      }
      else
      {
        swift_release();
        uint64_t v114 = MEMORY[0x263F8EE78];
      }
      uint64_t v118 = MEMORY[0x25A2DED80](v114, MEMORY[0x263F8D6C8]);
      unint64_t v120 = v119;
      swift_bridgeObjectRelease();
      uint64_t v166 = sub_259356D5C(v118, v120, (uint64_t *)v167);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v109, (os_log_type_t)v163, "Visual Clustering produced %ld clusters of sizes: %s", (uint8_t *)v111, 0x16u);
      v121 = v162;
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v121, -1, -1);
      MEMORY[0x25A2E13A0](v111, -1, -1);

      uint64_t v19 = v138;
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    uint64_t v122 = v155;
    uint64_t v123 = sub_2593C79F8(*(void *)(v155 + 112));
    double v4 = (uint8_t *)sub_259433260(v123, v124, v125, v126);
    swift_retain();
    uint64_t v127 = sub_259666948((uint64_t)v4, v122);
    swift_bridgeObjectRetain_n();
    unint64_t v128 = sub_259843A50();
    os_log_type_t v129 = sub_259844B70();
    if (os_log_type_enabled(v128, v129))
    {
      uint64_t v130 = swift_slowAlloc();
      v151 = v108;
      v131 = (uint8_t *)v130;
      v132 = (void *)swift_slowAlloc();
      v167[0] = v132;
      *(_DWORD *)v131 = 136315138;
      v163 = v131 + 4;
      sub_259843F00();
      uint64_t v133 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      uint64_t v134 = MEMORY[0x25A2DED80](v127, v133);
      unint64_t v136 = v135;
      swift_bridgeObjectRelease();
      uint64_t v166 = sub_259356D5C(v134, v136, (uint64_t *)v167);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v128, v129, "Sampled representative assets per cluster: %s", v131, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v132, -1, -1);
      MEMORY[0x25A2E13A0](v131, -1, -1);

      swift_release();
      swift_release();
      (*(void (**)(char *, uint64_t))(v139 + 8))(v138, v142);
    }
    else
    {
      swift_bridgeObjectRelease_n();

      swift_release();
      swift_release();
      (*(void (**)(char *, uint64_t))(v139 + 8))(v19, v142);
    }
    v149(v153, v147);
    return (uint64_t)v4;
  }
  uint64_t result = swift_release();
  __break(1u);
  return result;
}

uint64_t sub_25966B7E8(unint64_t a1)
{
  unint64_t v2 = a1;
  uint64_t v3 = *(void *)(a1 + 16);
  if (v3)
  {
    sub_259843F00();
    uint64_t v4 = 0;
    uint64_t v5 = MEMORY[0x263F8EE78];
    while (1)
    {
      unint64_t v6 = v2;
      uint64_t v7 = *(void *)(v2 + 8 * v4 + 32);
      uint64_t v8 = *(void *)(v7 + 16);
      uint64_t v9 = *(void *)(v5 + 16);
      unint64_t v2 = v9 + v8;
      if (__OFADD__(v9, v8))
      {
        __break(1u);
LABEL_46:
        __break(1u);
LABEL_47:
        __break(1u);
LABEL_48:
        __break(1u);
        goto LABEL_49;
      }
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || (int64_t)v2 > *(void *)(v5 + 24) >> 1)
      {
        sub_25938553C();
        uint64_t v5 = v10;
      }
      unint64_t v2 = v6;
      if (*(void *)(v7 + 16))
      {
        uint64_t v11 = *(void *)(v5 + 16);
        if ((*(void *)(v5 + 24) >> 1) - v11 < v8) {
          goto LABEL_47;
        }
        unint64_t v12 = v5 + 16 * v11 + 32;
        if (v7 + 32 < v12 + 16 * v8 && v12 < v7 + 32 + 16 * v8)
        {
LABEL_54:
          sub_2598454C0();
          __break(1u);
LABEL_55:
          uint64_t result = sub_2598457D0();
          __break(1u);
          return result;
        }
        swift_arrayInitWithCopy();
        if (v8)
        {
          uint64_t v14 = *(void *)(v5 + 16);
          BOOL v15 = __OFADD__(v14, v8);
          uint64_t v16 = v14 + v8;
          if (v15) {
            goto LABEL_48;
          }
          *(void *)(v5 + 16) = v16;
        }
      }
      else if (v8)
      {
        goto LABEL_46;
      }
      swift_bridgeObjectRelease();
      if (v3 == ++v4)
      {
        swift_bridgeObjectRelease();
        uint64_t v1 = v43;
        goto LABEL_21;
      }
    }
  }
  uint64_t v5 = MEMORY[0x263F8EE78];
LABEL_21:
  sub_259669D70(v5);
  if (v1)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    unint64_t v6 = v17;
    swift_bridgeObjectRelease();
    if (v6 >> 62) {
      goto LABEL_52;
    }
    uint64_t v18 = *(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
    while (1)
    {
      uint64_t v40 = v2;
      if (!v18) {
        break;
      }
      unint64_t v42 = v6 & 0xC000000000000001;
      uint64_t v19 = (void *)MEMORY[0x263F8EE80];
      uint64_t v20 = 4;
      unint64_t v41 = v6;
      while (1)
      {
        unint64_t v2 = v20 - 4;
        id v21 = v42 ? (id)MEMORY[0x25A2DFA20](v20 - 4, v6) : *(id *)(v6 + 8 * v20);
        if (__OFADD__(v2, 1)) {
          break;
        }
        uint64_t v44 = v20 - 3;
        id v22 = v21;
        uint64_t v23 = sub_25944C4E4(v21);
        if (!v24)
        {
          __break(1u);
          goto LABEL_54;
        }
        uint64_t v25 = v23;
        uint64_t v26 = v24;
        swift_isUniquelyReferenced_nonNull_native();
        unint64_t v27 = sub_25939CE90();
        uint64_t v29 = v19[2];
        BOOL v30 = (v28 & 1) == 0;
        unint64_t v6 = v29 + v30;
        if (__OFADD__(v29, v30)) {
          goto LABEL_50;
        }
        unint64_t v2 = v27;
        char v31 = v28;
        __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A389A18);
        if (sub_259845350())
        {
          unint64_t v32 = sub_25939CE90();
          if ((v31 & 1) != (v33 & 1)) {
            goto LABEL_55;
          }
          unint64_t v2 = v32;
        }
        if (v31)
        {
          uint64_t v34 = v19[7];
          uint64_t v35 = *(void **)(v34 + 8 * v2);
          *(void *)(v34 + 8 * v2) = v22;
        }
        else
        {
          v19[(v2 >> 6) + 8] |= 1 << v2;
          BOOL v36 = (uint64_t *)(v19[6] + 16 * v2);
          *BOOL v36 = v25;
          v36[1] = v26;
          *(void *)(v19[7] + 8 * v2) = v22;
          uint64_t v37 = v19[2];
          BOOL v15 = __OFADD__(v37, 1);
          uint64_t v38 = v37 + 1;
          if (v15) {
            goto LABEL_51;
          }
          v19[2] = v38;
          sub_259843F00();
        }
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        ++v20;
        unint64_t v6 = v41;
        if (v44 == v18) {
          goto LABEL_43;
        }
      }
LABEL_49:
      __break(1u);
LABEL_50:
      __break(1u);
LABEL_51:
      __break(1u);
LABEL_52:
      swift_bridgeObjectRetain_n();
      uint64_t v18 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    uint64_t v19 = (void *)MEMORY[0x263F8EE80];
LABEL_43:
    swift_bridgeObjectRelease_n();
    sub_259843F00();
    uint64_t v3 = sub_259666B98(v40, (uint64_t)v19);
    swift_bridgeObjectRelease();
  }
  return v3;
}

uint64_t PersonalTraitEntityNetDataSource.personalTraitBySceneIdentifier(clusterRepresentativeAssets:clusterAssetUUIDs:)(unint64_t a1, uint64_t a2)
{
  uint64_t v75 = (int *)type metadata accessor for PersonalTrait();
  uint64_t v73 = *((void *)v75 - 1);
  MEMORY[0x270FA5388](v75);
  uint64_t v69 = (uint64_t)v66 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  uint64_t v68 = (uint64_t *)((char *)v66 - v7);
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38C798);
  MEMORY[0x270FA5388](v8 - 8);
  uint64_t v74 = (uint64_t)v66 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v70 = sub_25966C1E4(a1);
  uint64_t v67 = a2;
  double v10 = *(double *)(a2 + 16);
  if (a1 >> 62) {
    goto LABEL_46;
  }
  uint64_t v11 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (2)
  {
    double v10 = (double)*(uint64_t *)&v10;
    double v12 = (double)v11;
    double v13 = *(double *)(v2 + 104) * (double)v11;
    sub_2597EFE50(v78, v70);
    uint64_t v14 = v78[0];
    uint64_t v77 = v78[1];
    int64_t v15 = v78[3];
    unint64_t v16 = v78[4];
    int64_t v17 = (unint64_t)(v78[2] + 64) >> 6;
    sub_259843F00();
    uint64_t v2 = MEMORY[0x263F8EE80];
    *(void *)&long long v18 = 134217984;
    long long v71 = v18;
    uint64_t v72 = v14;
LABEL_4:
    uint64_t v76 = v2;
    while (v16)
    {
      unint64_t v19 = __clz(__rbit64(v16));
      v16 &= v16 - 1;
      unint64_t v20 = v19 | (v15 << 6);
LABEL_25:
      double v29 = (double)*(uint64_t *)(*(void *)(v14 + 56) + 8 * v20);
      if (v13 <= v29)
      {
        id v30 = *(id *)(*(void *)(v14 + 48) + 8 * v20);
        uint64_t v31 = sub_25966DB7C(v30);
        if (!v32) {
          goto LABEL_34;
        }
        uint64_t v33 = v31;
        uint64_t v34 = v32;
        id v35 = objc_msgSend(v30, sel_extendedSceneClassId);
        id v36 = v35;
        if (!*(void *)(v2 + 16) || (uint64_t v37 = sub_2593A2F50(v35), (v38 & 1) == 0))
        {
          uint64_t v46 = v74;
          id v45 = v75;
          __swift_storeEnumTagSinglePayload(v74, 1, 1, (uint64_t)v75);
          sub_25966DE0C(v46, &qword_26A38C798);
          uint64_t v47 = v67;
          uint64_t v48 = v68;
          *uint64_t v68 = v33;
          v48[1] = v34;
          v48[2] = v47;
          *((unsigned char *)v48 + v45[7]) = 1;
          uint64_t v49 = (char *)v48 + v45[8];
          *(void *)uint64_t v49 = v36;
          *((void *)v49 + 1) = 0;
          v49[16] = 0;
          *(double *)((char *)v48 + v45[9]) = v10 * v29 / v12;
          sub_259843F00();
          sub_259842850();
          sub_259435A70((uint64_t)v48, v69);
          uint64_t v50 = v76;
          v66[1] = swift_isUniquelyReferenced_nonNull_native();
          uint64_t v79 = v50;
          uint64_t v51 = sub_2593A2F50(v36);
          if (!__OFADD__(*(void *)(v50 + 16), (v52 & 1) == 0))
          {
            unint64_t v53 = v51;
            char v54 = v52;
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAD0);
            if ((sub_259845350() & 1) == 0) {
              goto LABEL_39;
            }
            uint64_t v55 = sub_2593A2F50(v36);
            if ((v54 & 1) == (v56 & 1))
            {
              unint64_t v53 = v55;
LABEL_39:
              uint64_t v2 = v79;
              if (v54)
              {
                uint64_t v57 = OUTLINED_FUNCTION_7_46();
                sub_2594376F8(v57, v58);
LABEL_43:

                swift_bridgeObjectRelease();
                sub_25966DBE0((uint64_t)v68, (void (*)(void))type metadata accessor for PersonalTrait);

                uint64_t v14 = v72;
                goto LABEL_4;
              }
              OUTLINED_FUNCTION_21_14(v79 + 8 * (v53 >> 6));
              *(void *)(v59 + 8 * v53) = v36;
              uint64_t v60 = OUTLINED_FUNCTION_7_46();
              sub_259435B9C(v60, v61);
              uint64_t v62 = *(void *)(v2 + 16);
              BOOL v63 = __OFADD__(v62, 1);
              uint64_t v64 = v62 + 1;
              if (!v63)
              {
                *(void *)(v2 + 16) = v64;
                goto LABEL_43;
              }
LABEL_48:
              __break(1u);
            }
            uint64_t result = sub_2598457D0();
            __break(1u);
            return result;
          }
          __break(1u);
          goto LABEL_48;
        }
        uint64_t v39 = *(void *)(v2 + 56);
        uint64_t v40 = v74;
        sub_259435A70(v39 + *(void *)(v73 + 72) * v37, v74);
        __swift_storeEnumTagSinglePayload(v40, 0, 1, (uint64_t)v75);
        swift_bridgeObjectRelease();
        sub_25966DE0C(v40, &qword_26A38C798);
        if (qword_26A388AC8 != -1) {
          swift_once();
        }
        uint64_t v41 = sub_259843A80();
        __swift_project_value_buffer(v41, (uint64_t)qword_26A38FA88);
        unint64_t v42 = sub_259843A50();
        os_log_type_t v43 = sub_259844B50();
        if (os_log_type_enabled(v42, v43))
        {
          uint64_t v44 = swift_slowAlloc();
          *(_DWORD *)uint64_t v44 = v71;
          *(void *)(v44 + 4) = v36;
          _os_log_impl(&dword_25934C000, v42, v43, "Encountered multiple sceneNodes for scene identifier %llu", (uint8_t *)v44, 0xCu);
          MEMORY[0x25A2E13A0](v44, -1, -1);
        }

        uint64_t v14 = v72;
        uint64_t v2 = v76;
LABEL_34:
      }
    }
    int64_t v21 = v15 + 1;
    if (__OFADD__(v15, 1))
    {
      __break(1u);
LABEL_46:
      sub_259843F00();
      uint64_t v11 = sub_259845460();
      swift_bridgeObjectRelease();
      continue;
    }
    break;
  }
  if (v21 >= v17) {
    goto LABEL_44;
  }
  unint64_t v22 = *(void *)(v77 + 8 * v21);
  int64_t v23 = v15 + 1;
  if (v22) {
    goto LABEL_24;
  }
  if (v15 + 2 >= v17) {
    goto LABEL_44;
  }
  OUTLINED_FUNCTION_12_39();
  if (v22) {
    goto LABEL_24;
  }
  if (v24 + 2 >= v17) {
    goto LABEL_44;
  }
  OUTLINED_FUNCTION_12_39();
  if (v22) {
    goto LABEL_24;
  }
  if (v25 + 3 >= v17) {
    goto LABEL_44;
  }
  OUTLINED_FUNCTION_12_39();
  if (v22) {
    goto LABEL_24;
  }
  if (v26 + 4 >= v17) {
    goto LABEL_44;
  }
  OUTLINED_FUNCTION_12_39();
  if (v22) {
    goto LABEL_24;
  }
  int64_t v23 = v27 + 5;
  if (v27 + 5 >= v17) {
    goto LABEL_44;
  }
  unint64_t v22 = *(void *)(v77 + 8 * v23);
  if (v22)
  {
LABEL_24:
    unint64_t v16 = (v22 - 1) & v22;
    unint64_t v20 = __clz(__rbit64(v22)) + (v23 << 6);
    int64_t v15 = v23;
    goto LABEL_25;
  }
  int64_t v28 = v15 + 7;
  while (v28 < v17)
  {
    unint64_t v22 = *(void *)(v77 + 8 * v28++);
    if (v22)
    {
      int64_t v23 = v28 - 1;
      goto LABEL_24;
    }
  }
LABEL_44:
  swift_bridgeObjectRelease();
  swift_release();
  return v2;
}

uint64_t sub_25966C1E4(unint64_t a1)
{
  unint64_t v1 = a1;
  if (a1 >> 62)
  {
LABEL_36:
    sub_259843F00();
    uint64_t v2 = sub_259845460();
  }
  else
  {
    uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  unint64_t v30 = v1;
  if (!v2)
  {
    uint64_t v4 = (void *)MEMORY[0x263F8EE80];
LABEL_30:
    swift_bridgeObjectRelease();
    return (uint64_t)v4;
  }
  uint64_t v3 = 0;
  unint64_t v32 = v1 & 0xC000000000000001;
  uint64_t v4 = (void *)MEMORY[0x263F8EE80];
  double v29 = (void *)(v1 + 32);
  uint64_t v31 = v2;
  while (1)
  {
    if (v32) {
      id v5 = (id)MEMORY[0x25A2DFA20](v3, v30);
    }
    else {
      id v5 = (id)v29[v3];
    }
    BOOL v6 = __OFADD__(v3, 1);
    uint64_t v7 = v3 + 1;
    if (v6)
    {
LABEL_35:
      __break(1u);
      goto LABEL_36;
    }
    uint64_t v34 = v5;
    unint64_t v1 = (unint64_t)v33;
    sub_259669FBC(v5);
    unint64_t v9 = v8;
    if (v8 >> 62)
    {
      swift_bridgeObjectRetain_n();
      uint64_t v10 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v10 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
      sub_259843F00();
    }
    uint64_t v35 = v7;
    if (v10) {
      break;
    }
LABEL_26:
    swift_bridgeObjectRelease_n();

    uint64_t v3 = v35;
    if (v35 == v31) {
      goto LABEL_30;
    }
  }
  sub_25935633C(0, &qword_26A389B70);
  uint64_t v11 = 4;
  while (1)
  {
    if ((v9 & 0xC000000000000001) != 0) {
      id v12 = (id)MEMORY[0x25A2DFA20](v11 - 4, v9);
    }
    else {
      id v12 = *(id *)(v9 + 8 * v11);
    }
    uint64_t v13 = v11 - 3;
    if (__OFADD__(v11 - 4, 1))
    {
      __break(1u);
LABEL_32:
      __break(1u);
LABEL_33:
      __break(1u);
LABEL_34:
      __break(1u);
      goto LABEL_35;
    }
    id v14 = v12;
    swift_isUniquelyReferenced_nonNull_native();
    id v36 = v4;
    unint64_t v1 = (unint64_t)v4;
    sub_25939D168();
    if (__OFADD__(v4[2], (v16 & 1) == 0)) {
      goto LABEL_32;
    }
    unint64_t v17 = v15;
    char v18 = v16;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAE0);
    unint64_t v1 = (unint64_t)&v36;
    char v19 = sub_259845350();
    uint64_t v4 = v36;
    if (v19) {
      break;
    }
LABEL_21:
    swift_bridgeObjectRelease();
    if ((v18 & 1) == 0)
    {
      v4[(v17 >> 6) + 8] |= 1 << v17;
      *(void *)(v4[6] + 8 * v17) = v14;
      *(void *)(v4[7] + 8 * v17) = 0;
      uint64_t v22 = v4[2];
      BOOL v6 = __OFADD__(v22, 1);
      uint64_t v23 = v22 + 1;
      if (v6) {
        goto LABEL_34;
      }
      v4[2] = v23;
      id v24 = v14;
    }
    uint64_t v25 = v4[7];
    uint64_t v26 = *(void *)(v25 + 8 * v17);
    BOOL v6 = __OFADD__(v26, 1);
    uint64_t v27 = v26 + 1;
    if (v6) {
      goto LABEL_33;
    }
    *(void *)(v25 + 8 * v17) = v27;

    ++v11;
    if (v13 == v10) {
      goto LABEL_26;
    }
  }
  unint64_t v1 = (unint64_t)v36;
  sub_25939D168();
  if ((v18 & 1) == (v21 & 1))
  {
    unint64_t v17 = v20;
    goto LABEL_21;
  }
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_25966C4CC(uint64_t a1, id a2)
{
  uint64_t v3 = v2;
  id v6 = objc_msgSend(a2, sel_sceneTaxonomy);
  objc_msgSend(a2, sel_version);
  uint64_t v7 = sub_259845720();
  uint64_t v9 = v8;
  id v10 = a2;
  swift_retain();
  sub_259843F00();
  id v11 = v6;
  sub_259666CB8(a1, v10, v3, v7, v9, v11);
  uint64_t v13 = v12;
  swift_bridgeObjectRelease();
  uint64_t v14 = *(void *)(v13 + 16);
  if (v14)
  {
    sub_259843F00();
    uint64_t v15 = 0;
    uint64_t v16 = MEMORY[0x263F8EE78];
    do
    {
      long long v30 = *(_OWORD *)(v13 + 16 * v15 + 32);
      id v17 = (id)v30;
      id v18 = *((id *)&v30 + 1);
      objc_msgSend(v17, sel_boundingBox);
      CGFloat x = v31.origin.x;
      CGFloat y = v31.origin.y;
      CGFloat width = v31.size.width;
      CGFloat height = v31.size.height;
      if (CGRectGetHeight(v31) <= 0.0
        || (v32.origin.CGFloat x = x,
            v32.origin.CGFloat y = y,
            v32.size.CGFloat width = width,
            v32.size.CGFloat height = height,
            CGRectGetWidth(v32) <= 0.0))
      {
      }
      else
      {
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          sub_2594F2030();
        }
        unint64_t v23 = *(void *)(v16 + 16);
        if (v23 >= *(void *)(v16 + 24) >> 1) {
          sub_2594F2030();
        }
        *(void *)(v16 + 16) = v23 + 1;
        *(_OWORD *)(v16 + 16 * v23 + 32) = v30;
      }
      ++v15;
    }
    while (v14 != v15);
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v16 = MEMORY[0x263F8EE78];
  }
  unint64_t v24 = sub_2596667C8(v16);
  swift_release();
  uint64_t v25 = sub_259738590(v24);
  uint64_t v26 = *(void *)(v3 + 24);
  sub_259843F00();
  unint64_t v27 = sub_2596667C8(v13);
  swift_bridgeObjectRelease();
  swift_retain();
  sub_259843F00();
  sub_259843F00();
  uint64_t v28 = sub_25966658C(v27, v3, v26, v25);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return v28;
}

void sub_25966C7AC(id *a1@<X0>, void *a2@<X1>, uint64_t a3@<X3>, uint64_t a4@<X4>, void *a5@<X5>, void *a6@<X8>)
{
  id v11 = *a1;
  id v12 = objc_msgSend(*a1, sel_extendedSceneIdentifier);
  if (objc_msgSend(a2, sel_isResponsibleForSignalIdentifier_, v12))
  {
    swift_beginAccess();
    uint64_t v13 = sub_25966C9D0((uint64_t)v12, a3, a4, a5);
    swift_endAccess();
    if (v13)
    {
      objc_msgSend(v11, sel_confidence);
      double v15 = v14;
      [v13 searchThreshold];
      if (v16 <= v15)
      {
        *a6 = v11;
        a6[1] = v13;
        id v17 = v11;
        return;
      }
    }
    else
    {
      if (qword_26A388AC8 != -1) {
        swift_once();
      }
      uint64_t v18 = sub_259843A80();
      __swift_project_value_buffer(v18, (uint64_t)qword_26A38FA88);
      char v19 = v11;
      uint64_t v13 = sub_259843A50();
      os_log_type_t v20 = sub_259844B50();
      if (os_log_type_enabled(v13, v20))
      {
        char v21 = (uint8_t *)swift_slowAlloc();
        *(_DWORD *)char v21 = 134217984;
        [v19 extendedSceneIdentifier];
        sub_259844E10();

        _os_log_impl(&dword_25934C000, v13, v20, "Unable to fetch scene node for identifier %llu.", v21, 0xCu);
        MEMORY[0x25A2E13A0](v21, -1, -1);
      }
      else
      {

        uint64_t v13 = v19;
      }
    }
  }
  *a6 = 0;
  a6[1] = 0;
}

id sub_25966C9D0(uint64_t a1, uint64_t a2, uint64_t a3, id a4)
{
  id v5 = v4;
  uint64_t v10 = *v4;
  if (*(void *)(v10 + 16))
  {
    sub_259843F00();
    unint64_t v11 = sub_25939CE90();
    if (v12)
    {
      uint64_t v13 = *(void *)(*(void *)(v10 + 56) + 8 * v11);
      sub_259843F00();
      swift_bridgeObjectRelease();
      if (*(void *)(v13 + 16))
      {
        uint64_t v14 = sub_2593A2F50(a1);
        if (v15)
        {
          id v16 = *(id *)(*(void *)(v13 + 56) + 8 * v14);
          id v17 = v16;
LABEL_13:
          swift_bridgeObjectRelease();
          return v16;
        }
      }
    }
    swift_bridgeObjectRelease();
  }
  id v16 = objc_msgSend(a4, sel_nodeForExtendedSceneClassId_, a1);
  if (v16)
  {
    uint64_t v18 = *v5;
    sub_259843F00();
    uint64_t v19 = sub_25976E6F8(a2, a3, v18);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v19)
    {
      sub_259843F00();
      os_log_type_t v20 = sub_2593C9EC0(v26, a2, a3);
      if (*v21)
      {
        id v22 = v16;
        sub_2593A1228();
      }
      ((void (*)(void *, void))v20)(v26, 0);
    }
    else
    {
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FAF0);
      uint64_t inited = swift_initStackObject();
      *(_OWORD *)(inited + 16) = xmmword_259876920;
      *(void *)(inited + 32) = a1;
      *(void *)(inited + 40) = v16;
      sub_25935633C(0, &qword_26A389B70);
      sub_259843F00();
      id v24 = v16;
      sub_259843EE0();
      sub_2593A118C();
    }
    goto LABEL_13;
  }
  return v16;
}

void sub_25966CBC8(void *a1, uint64_t a2)
{
  sub_25973D82C();
  if ((v3 & 1) == 0)
  {
    id v4 = objc_msgSend(a1, sel_parents);
    uint64_t v5 = sub_25935633C(0, &qword_26A389B70);
    sub_2595464BC(&qword_26A38FAE8, &qword_26A389B70);
    uint64_t v6 = sub_259844920();

    if ((v6 & 0xC000000000000001) != 0)
    {
      sub_259844F70();
      sub_259844970();
      uint64_t v6 = v38;
      uint64_t v34 = v39;
      uint64_t v7 = v40;
      int64_t v8 = v41;
      unint64_t v9 = v42;
    }
    else
    {
      int64_t v8 = 0;
      uint64_t v10 = -1 << *(unsigned char *)(v6 + 32);
      uint64_t v34 = v6 + 56;
      uint64_t v7 = ~v10;
      uint64_t v11 = -v10;
      if (v11 < 64) {
        uint64_t v12 = ~(-1 << v11);
      }
      else {
        uint64_t v12 = -1;
      }
      unint64_t v9 = v12 & *(void *)(v6 + 56);
    }
    int64_t v33 = (unint64_t)(v7 + 64) >> 6;
    unint64_t v13 = a2 & 0xC000000000000001;
    uint64_t v35 = a2 + 56;
    uint64_t v32 = v6;
    while (1)
    {
      int64_t v14 = v8;
      if (v6 < 0)
      {
        if (!sub_259845010()) {
          goto LABEL_42;
        }
        swift_unknownObjectRetain();
        swift_dynamicCast();
        id v17 = v37;
        swift_unknownObjectRelease();
        if (!v37) {
          goto LABEL_42;
        }
      }
      else
      {
        if (v9)
        {
          unint64_t v15 = __clz(__rbit64(v9));
          v9 &= v9 - 1;
          unint64_t v16 = v15 | (v8 << 6);
        }
        else
        {
          int64_t v18 = v8 + 1;
          if (__OFADD__(v8, 1))
          {
            __break(1u);
            return;
          }
          if (v18 >= v33) {
            goto LABEL_42;
          }
          unint64_t v19 = *(void *)(v34 + 8 * v18);
          ++v8;
          if (!v19)
          {
            int64_t v8 = v14 + 2;
            if (v14 + 2 >= v33) {
              goto LABEL_42;
            }
            unint64_t v19 = *(void *)(v34 + 8 * v8);
            if (!v19)
            {
              int64_t v8 = v14 + 3;
              if (v14 + 3 >= v33) {
                goto LABEL_42;
              }
              unint64_t v19 = *(void *)(v34 + 8 * v8);
              if (!v19)
              {
                int64_t v8 = v14 + 4;
                if (v14 + 4 >= v33) {
                  goto LABEL_42;
                }
                unint64_t v19 = *(void *)(v34 + 8 * v8);
                if (!v19)
                {
                  int64_t v20 = v14 + 5;
                  while (v20 < v33)
                  {
                    unint64_t v19 = *(void *)(v34 + 8 * v20++);
                    if (v19)
                    {
                      int64_t v8 = v20 - 1;
                      goto LABEL_28;
                    }
                  }
                  goto LABEL_42;
                }
              }
            }
          }
LABEL_28:
          unint64_t v9 = (v19 - 1) & v19;
          unint64_t v16 = __clz(__rbit64(v19)) + (v8 << 6);
        }
        id v17 = *(id *)(*(void *)(v6 + 48) + 8 * v16);
        if (!v17) {
          goto LABEL_42;
        }
      }
      if (v13)
      {
        id v21 = v17;
        char v22 = sub_259845020();

        if (v22) {
          goto LABEL_42;
        }
      }
      else
      {
        uint64_t v23 = v5;
        if (*(void *)(a2 + 16))
        {
          uint64_t v24 = sub_259844D20();
          uint64_t v25 = -1 << *(unsigned char *)(a2 + 32);
          unint64_t v26 = v24 & ~v25;
          if ((*(void *)(v35 + ((v26 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v26))
          {
            id v27 = *(id *)(*(void *)(a2 + 48) + 8 * v26);
            char v28 = sub_259844D30();

            if (v28)
            {
LABEL_41:

LABEL_42:
              sub_25940CF64();
              return;
            }
            uint64_t v29 = ~v25;
            while (1)
            {
              unint64_t v26 = (v26 + 1) & v29;
              if (((*(void *)(v35 + ((v26 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v26) & 1) == 0) {
                break;
              }
              id v30 = *(id *)(*(void *)(a2 + 48) + 8 * v26);
              char v31 = sub_259844D30();

              if (v31) {
                goto LABEL_41;
              }
            }
          }
        }

        uint64_t v5 = v23;
        unint64_t v13 = a2 & 0xC000000000000001;
        uint64_t v6 = v32;
      }
    }
  }
}

uint64_t PersonalTraitEntityNetDataSource.deinit()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  swift_release();
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t PersonalTraitEntityNetDataSource.__deallocating_deinit()
{
  PersonalTraitEntityNetDataSource.deinit();
  return MEMORY[0x270FA0228](v0, 160, 7);
}

void sub_25966D070(uint64_t *a1)
{
  uint64_t v2 = *a1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    sub_2596F2F90();
    uint64_t v2 = v3;
  }
  uint64_t v4 = *(void *)(v2 + 16);
  v5[0] = v2 + 32;
  v5[1] = v4;
  sub_25966D0DC(v5);
  *a1 = v2;
}

void sub_25966D0DC(uint64_t *a1)
{
  uint64_t v3 = a1[1];
  uint64_t v4 = sub_259845710();
  if (v4 >= v3)
  {
    if ((v3 & 0x8000000000000000) == 0)
    {
      if (v3) {
        sub_25966D808(0, v3, 1, a1);
      }
      return;
    }
    goto LABEL_153;
  }
  uint64_t v5 = v4;
  uint64_t v111 = sub_2594F0434(v3 / 2);
  uint64_t v112 = v3;
  uint64_t v114 = v6;
  unint64_t v109 = a1;
  if (v3 <= 0)
  {
    unint64_t v9 = (void *)MEMORY[0x263F8EE78];
    unint64_t v47 = *(void *)(MEMORY[0x263F8EE78] + 16);
LABEL_119:
    uint64_t v99 = v9;
    if (v47 < 2)
    {
LABEL_130:
      swift_bridgeObjectRelease();
      if (v112 >= -1)
      {
        *(void *)(v111 + 16) = 0;
        swift_bridgeObjectRelease();
        return;
      }
      goto LABEL_158;
    }
    uint64_t v100 = *v109;
    while (1)
    {
      unint64_t v101 = v47 - 2;
      if (v47 < 2) {
        break;
      }
      if (!v100) {
        goto LABEL_162;
      }
      uint64_t v102 = v99;
      uint64_t v103 = v99[2 * v101 + 4];
      uint64_t v104 = v99[2 * v47 + 3];
      sub_25966D908((char *)(v100 + 24 * v103), (char *)(v100 + 24 * v99[2 * v47 + 2]), v100 + 24 * v104, v114);
      if (v1) {
        goto LABEL_115;
      }
      if (v104 < v103) {
        goto LABEL_148;
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2596F24C8();
        uint64_t v102 = v107;
      }
      if (v101 >= v102[2]) {
        goto LABEL_149;
      }
      unint64_t v105 = &v102[2 * v101 + 4];
      *unint64_t v105 = v103;
      v105[1] = v104;
      unint64_t v106 = v102[2];
      if (v47 > v106) {
        goto LABEL_150;
      }
      memmove(&v102[2 * v47 + 2], &v102[2 * v47 + 4], 16 * (v106 - v47));
      uint64_t v99 = v102;
      v102[2] = v106 - 1;
      unint64_t v47 = v106 - 1;
      if (v106 <= 2) {
        goto LABEL_130;
      }
    }
LABEL_147:
    __break(1u);
LABEL_148:
    __break(1u);
LABEL_149:
    __break(1u);
LABEL_150:
    __break(1u);
LABEL_151:
    __break(1u);
LABEL_152:
    __break(1u);
LABEL_153:
    __break(1u);
LABEL_154:
    __break(1u);
LABEL_155:
    __break(1u);
LABEL_156:
    __break(1u);
LABEL_157:
    __break(1u);
LABEL_158:
    __break(1u);
LABEL_159:
    __break(1u);
LABEL_160:
    __break(1u);
LABEL_161:
    __break(1u);
LABEL_162:
    __break(1u);
    return;
  }
  uint64_t v110 = v5;
  uint64_t v7 = 0;
  uint64_t v8 = *a1;
  uint64_t v108 = *a1 + 16;
  unint64_t v9 = (void *)MEMORY[0x263F8EE78];
  uint64_t v113 = *a1;
  while (1)
  {
    uint64_t v10 = v7++;
    if (v7 < v3)
    {
      uint64_t v11 = (void *)(v8 + 24 * v7);
      uint64_t v12 = (void *)(v8 + 24 * v10);
      unint64_t v13 = *(void *)(v11[2] + 16);
      unint64_t v14 = *(void *)(v12[2] + 16);
      if (v13 != v14)
      {
        int v16 = v14 < v13;
        goto LABEL_12;
      }
      if (*v11 != *v12 || v11[1] != v12[1])
      {
        int v16 = sub_259845750();
LABEL_12:
        uint64_t v17 = v10 + 2;
        if (v10 + 2 < v112) {
          goto LABEL_16;
        }
LABEL_29:
        uint64_t v7 = v17;
        if ((v16 & 1) == 0) {
          goto LABEL_38;
        }
LABEL_30:
        if (v17 < v10) {
          goto LABEL_157;
        }
        if (v10 < v17)
        {
          uint64_t v26 = 24 * v17;
          uint64_t v27 = 24 * v10;
          uint64_t v28 = v17;
          uint64_t v29 = v10;
          do
          {
            if (v29 != --v28)
            {
              if (!v8) {
                goto LABEL_161;
              }
              uint64_t v30 = v8 + v27;
              uint64_t v31 = v8 + v26;
              uint64_t v32 = *(void *)(v8 + v27);
              long long v33 = *(_OWORD *)(v8 + v27 + 8);
              long long v34 = *(_OWORD *)(v8 + v26 - 24);
              *(void *)(v30 + 16) = *(void *)(v8 + v26 - 8);
              *(_OWORD *)uint64_t v30 = v34;
              *(void *)(v31 - 24) = v32;
              *(_OWORD *)(v31 - 16) = v33;
            }
            ++v29;
            v26 -= 24;
            v27 += 24;
          }
          while (v29 < v28);
        }
        goto LABEL_37;
      }
      uint64_t v18 = v3;
      uint64_t v17 = v10 + 2;
      if (v10 + 2 >= v18)
      {
LABEL_37:
        uint64_t v7 = v17;
        goto LABEL_38;
      }
      int v16 = 0;
LABEL_16:
      uint64_t v19 = v108 + 24 * v17;
      while (1)
      {
        int64_t v20 = (void *)(v8 + 24 * v7);
        unint64_t v21 = *(void *)(*(void *)v19 + 16);
        unint64_t v22 = *(void *)(v20[2] + 16);
        if (v21 == v22)
        {
          if (*(void *)(v19 - 16) == *v20 && *(void *)(v19 - 8) == v20[1])
          {
            if (v16) {
              goto LABEL_30;
            }
            goto LABEL_27;
          }
          int v24 = sub_259845750();
        }
        else
        {
          int v24 = v22 < v21;
        }
        if ((v16 ^ v24)) {
          goto LABEL_29;
        }
LABEL_27:
        uint64_t v25 = v17 + 1;
        v19 += 24;
        uint64_t v7 = v17;
        uint64_t v17 = v25;
        if (v25 >= v112)
        {
          uint64_t v17 = v25;
          goto LABEL_29;
        }
      }
    }
LABEL_38:
    if (v7 < v112)
    {
      if (__OFSUB__(v7, v10)) {
        goto LABEL_152;
      }
      if (v7 - v10 < v110)
      {
        if (__OFADD__(v10, v110)) {
          goto LABEL_155;
        }
        if (v10 + v110 >= v112) {
          uint64_t v35 = v112;
        }
        else {
          uint64_t v35 = v10 + v110;
        }
        if (v35 < v10) {
          goto LABEL_156;
        }
        if (v7 != v35)
        {
          id v36 = (uint64_t *)(v8 + 24 * v7);
          do
          {
            uint64_t v37 = (uint64_t *)(v8 + 24 * v7);
            uint64_t v38 = *v37;
            uint64_t v39 = v37[1];
            uint64_t v40 = v37[2];
            uint64_t v41 = v10;
            unint64_t v42 = v36;
            do
            {
              unint64_t v43 = *(void *)(v40 + 16);
              unint64_t v44 = *(void *)(*(v42 - 1) + 16);
              if (v43 == v44)
              {
                BOOL v45 = v38 == *(v42 - 3) && v39 == *(v42 - 2);
                if (v45 || (sub_259845750() & 1) == 0) {
                  break;
                }
              }
              else if (v44 >= v43)
              {
                break;
              }
              if (!v8) {
                goto LABEL_159;
              }
              uint64_t v38 = *v42;
              uint64_t v39 = v42[1];
              uint64_t v40 = v42[2];
              *(_OWORD *)unint64_t v42 = *(_OWORD *)(v42 - 3);
              v42[2] = *(v42 - 1);
              *(v42 - 2) = v39;
              *(v42 - 1) = v40;
              *(v42 - 3) = v38;
              v42 -= 3;
              ++v41;
            }
            while (v7 != v41);
            ++v7;
            v36 += 3;
          }
          while (v7 != v35);
          uint64_t v7 = v35;
        }
      }
    }
    if (v7 < v10) {
      goto LABEL_151;
    }
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      sub_2596F23F0();
      unint64_t v9 = v97;
    }
    unint64_t v46 = v9[2];
    unint64_t v47 = v46 + 1;
    if (v46 >= v9[3] >> 1)
    {
      sub_2596F23F0();
      unint64_t v9 = v98;
    }
    v9[2] = v47;
    uint64_t v48 = v9 + 4;
    uint64_t v49 = &v9[2 * v46 + 4];
    *uint64_t v49 = v10;
    v49[1] = v7;
    if (v46) {
      break;
    }
    unint64_t v47 = 1;
    uint64_t v8 = v113;
LABEL_110:
    uint64_t v3 = v112;
    if (v7 >= v112) {
      goto LABEL_119;
    }
  }
  uint64_t v8 = v113;
  while (1)
  {
    unint64_t v50 = v47 - 1;
    if (v47 >= 4)
    {
      uint64_t v55 = &v48[2 * v47];
      uint64_t v56 = *(v55 - 8);
      uint64_t v57 = *(v55 - 7);
      BOOL v61 = __OFSUB__(v57, v56);
      uint64_t v58 = v57 - v56;
      if (v61) {
        goto LABEL_136;
      }
      uint64_t v60 = *(v55 - 6);
      uint64_t v59 = *(v55 - 5);
      BOOL v61 = __OFSUB__(v59, v60);
      uint64_t v53 = v59 - v60;
      char v54 = v61;
      if (v61) {
        goto LABEL_137;
      }
      unint64_t v62 = v47 - 2;
      BOOL v63 = &v48[2 * v47 - 4];
      uint64_t v65 = *v63;
      uint64_t v64 = v63[1];
      BOOL v61 = __OFSUB__(v64, v65);
      uint64_t v66 = v64 - v65;
      if (v61) {
        goto LABEL_138;
      }
      BOOL v61 = __OFADD__(v53, v66);
      uint64_t v67 = v53 + v66;
      if (v61) {
        goto LABEL_140;
      }
      if (v67 >= v58)
      {
        uint64_t v85 = &v48[2 * v50];
        uint64_t v87 = *v85;
        uint64_t v86 = v85[1];
        BOOL v61 = __OFSUB__(v86, v87);
        uint64_t v88 = v86 - v87;
        if (v61) {
          goto LABEL_146;
        }
        BOOL v78 = v53 < v88;
        goto LABEL_99;
      }
    }
    else
    {
      if (v47 != 3)
      {
        uint64_t v79 = v9[4];
        uint64_t v80 = v9[5];
        BOOL v61 = __OFSUB__(v80, v79);
        uint64_t v72 = v80 - v79;
        char v73 = v61;
        goto LABEL_93;
      }
      uint64_t v52 = v9[4];
      uint64_t v51 = v9[5];
      BOOL v61 = __OFSUB__(v51, v52);
      uint64_t v53 = v51 - v52;
      char v54 = v61;
    }
    if (v54) {
      goto LABEL_139;
    }
    unint64_t v62 = v47 - 2;
    uint64_t v68 = &v48[2 * v47 - 4];
    uint64_t v70 = *v68;
    uint64_t v69 = v68[1];
    BOOL v71 = __OFSUB__(v69, v70);
    uint64_t v72 = v69 - v70;
    char v73 = v71;
    if (v71) {
      goto LABEL_141;
    }
    uint64_t v74 = &v48[2 * v50];
    uint64_t v76 = *v74;
    uint64_t v75 = v74[1];
    BOOL v61 = __OFSUB__(v75, v76);
    uint64_t v77 = v75 - v76;
    if (v61) {
      goto LABEL_143;
    }
    if (__OFADD__(v72, v77)) {
      goto LABEL_145;
    }
    if (v72 + v77 >= v53)
    {
      BOOL v78 = v53 < v77;
LABEL_99:
      if (v78) {
        unint64_t v50 = v62;
      }
      goto LABEL_101;
    }
LABEL_93:
    if (v73) {
      goto LABEL_142;
    }
    uint64_t v81 = &v48[2 * v50];
    uint64_t v83 = *v81;
    uint64_t v82 = v81[1];
    BOOL v61 = __OFSUB__(v82, v83);
    uint64_t v84 = v82 - v83;
    if (v61) {
      goto LABEL_144;
    }
    if (v84 < v72) {
      goto LABEL_110;
    }
LABEL_101:
    unint64_t v89 = v50 - 1;
    if (v50 - 1 >= v47)
    {
      __break(1u);
LABEL_133:
      __break(1u);
LABEL_134:
      __break(1u);
LABEL_135:
      __break(1u);
LABEL_136:
      __break(1u);
LABEL_137:
      __break(1u);
LABEL_138:
      __break(1u);
LABEL_139:
      __break(1u);
LABEL_140:
      __break(1u);
LABEL_141:
      __break(1u);
LABEL_142:
      __break(1u);
LABEL_143:
      __break(1u);
LABEL_144:
      __break(1u);
LABEL_145:
      __break(1u);
LABEL_146:
      __break(1u);
      goto LABEL_147;
    }
    if (!v8) {
      goto LABEL_160;
    }
    uint64_t v90 = v9;
    uint64_t v91 = v8;
    uint64_t v92 = &v48[2 * v89];
    uint64_t v93 = *v92;
    uint64_t v94 = &v48[2 * v50];
    uint64_t v95 = v94[1];
    sub_25966D908((char *)(v91 + 24 * *v92), (char *)(v91 + 24 * *v94), v91 + 24 * v95, v114);
    if (v1) {
      break;
    }
    if (v95 < v93) {
      goto LABEL_133;
    }
    if (v50 > v90[2]) {
      goto LABEL_134;
    }
    uint64_t *v92 = v93;
    v48[2 * v89 + 1] = v95;
    unint64_t v96 = v90[2];
    if (v50 >= v96) {
      goto LABEL_135;
    }
    unint64_t v9 = v90;
    unint64_t v47 = v96 - 1;
    memmove(&v48[2 * v50], v94 + 2, 16 * (v96 - 1 - v50));
    v90[2] = v96 - 1;
    BOOL v78 = v96 > 2;
    uint64_t v8 = v113;
    if (!v78) {
      goto LABEL_110;
    }
  }
LABEL_115:
  swift_bridgeObjectRelease();
  if (v112 < -1) {
    goto LABEL_154;
  }
  *(void *)(v111 + 16) = 0;
  swift_bridgeObjectRelease();
}

uint64_t sub_25966D808(uint64_t result, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  if (a3 != a2)
  {
    uint64_t v4 = a3;
    uint64_t v6 = result;
    uint64_t v7 = *a4;
    uint64_t v8 = *a4 + 24 * a3;
    while (2)
    {
      unint64_t v9 = (uint64_t *)(v7 + 24 * v4);
      uint64_t result = *v9;
      uint64_t v10 = v9[1];
      uint64_t v11 = v9[2];
      uint64_t v12 = v6;
      unint64_t v13 = (uint64_t *)v8;
      do
      {
        unint64_t v14 = *(void *)(v11 + 16);
        unint64_t v15 = *(void *)(*(v13 - 1) + 16);
        if (v14 == v15)
        {
          if (result == *(v13 - 3) && v10 == *(v13 - 2)) {
            break;
          }
          uint64_t result = sub_259845750();
          if ((result & 1) == 0) {
            break;
          }
        }
        else if (v15 >= v14)
        {
          break;
        }
        if (!v7)
        {
          __break(1u);
          return result;
        }
        uint64_t result = *v13;
        uint64_t v10 = v13[1];
        uint64_t v11 = v13[2];
        *(_OWORD *)unint64_t v13 = *(_OWORD *)(v13 - 3);
        v13[2] = *(v13 - 1);
        *(v13 - 2) = v10;
        *(v13 - 1) = v11;
        *(v13 - 3) = result;
        v13 -= 3;
        ++v12;
      }
      while (v4 != v12);
      ++v4;
      v8 += 24;
      if (v4 != a2) {
        continue;
      }
      break;
    }
  }
  return result;
}

uint64_t sub_25966D908(char *a1, char *a2, unint64_t a3, char *a4)
{
  uint64_t v4 = a4;
  uint64_t v6 = a2;
  uint64_t v7 = a1;
  uint64_t v8 = a2 - a1;
  uint64_t v9 = (a2 - a1) / 24;
  uint64_t v10 = a3 - (void)a2;
  uint64_t v11 = (uint64_t)(a3 - (void)a2) / 24;
  if (v9 >= v11)
  {
    sub_2596EDE68(a2, (uint64_t)(a3 - (void)a2) / 24, a4);
    uint64_t v12 = &v4[24 * v11];
    if (v7 >= v6 || v10 < 24) {
      goto LABEL_31;
    }
    unint64_t v22 = a3 - 24;
    while (1)
    {
      uint64_t v23 = (char *)(v22 + 24);
      int v24 = v12 - 24;
      unint64_t v25 = *(void *)(*((void *)v12 - 1) + 16);
      unint64_t v26 = *(void *)(*((void *)v6 - 1) + 16);
      if (v25 == v26)
      {
        BOOL v27 = *((void *)v12 - 3) == *((void *)v6 - 3) && *((void *)v12 - 2) == *((void *)v6 - 2);
        if (v27 || (sub_259845750() & 1) == 0)
        {
LABEL_38:
          BOOL v28 = v23 != v12 || v22 >= (unint64_t)v12;
          v12 -= 24;
          if (!v28) {
            goto LABEL_44;
          }
          goto LABEL_43;
        }
      }
      else if (v26 >= v25)
      {
        goto LABEL_38;
      }
      BOOL v31 = v23 != v6 || v22 >= (unint64_t)v6;
      int v24 = v6 - 24;
      v6 -= 24;
      if (!v31) {
        goto LABEL_44;
      }
LABEL_43:
      long long v29 = *(_OWORD *)v24;
      *(void *)(v22 + 16) = *((void *)v24 + 2);
      *(_OWORD *)unint64_t v22 = v29;
LABEL_44:
      v22 -= 24;
      if (v6 <= v7 || v12 <= v4) {
        goto LABEL_31;
      }
    }
  }
  sub_2596EDE68(a1, (a2 - a1) / 24, a4);
  uint64_t v12 = &v4[24 * v9];
  if ((unint64_t)v6 < a3 && v8 >= 24)
  {
    do
    {
      unint64_t v14 = *(void *)(*((void *)v6 + 2) + 16);
      unint64_t v15 = *(void *)(*((void *)v4 + 2) + 16);
      if (v14 == v15)
      {
        BOOL v16 = *(void *)v6 == *(void *)v4 && *((void *)v6 + 1) == *((void *)v4 + 1);
        if (!v16 && (sub_259845750() & 1) != 0)
        {
LABEL_23:
          uint64_t v17 = v6;
          BOOL v16 = v7 == v6;
          v6 += 24;
          if (v16) {
            goto LABEL_16;
          }
LABEL_15:
          long long v18 = *(_OWORD *)v17;
          *((void *)v7 + 2) = *((void *)v17 + 2);
          *(_OWORD *)uint64_t v7 = v18;
          goto LABEL_16;
        }
      }
      else if (v15 < v14)
      {
        goto LABEL_23;
      }
      uint64_t v17 = v4;
      BOOL v16 = v7 == v4;
      v4 += 24;
      if (!v16) {
        goto LABEL_15;
      }
LABEL_16:
      v7 += 24;
    }
    while (v4 < v12 && (unint64_t)v6 < a3);
  }
  uint64_t v6 = v7;
LABEL_31:
  sub_2596EDE68(v4, (v12 - v4) / 24, v6);
  return 1;
}

uint64_t sub_25966DB18@<X0>(uint64_t *a1@<X0>, uint64_t *a2@<X8>)
{
  uint64_t v4 = (uint64_t)a1 + *(int *)(__swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB08) + 48);
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB00);
  uint64_t result = sub_259588908((uint64_t)a2 + *(int *)(v5 + 48), *a1, v4);
  *a2 = result;
  return result;
}

uint64_t sub_25966DB7C(void *a1)
{
  id v1 = objc_msgSend(a1, sel_localizedLabel);
  if (!v1) {
    return 0;
  }
  uint64_t v2 = v1;
  uint64_t v3 = sub_2598440A0();

  return v3;
}

uint64_t sub_25966DBE0(uint64_t a1, void (*a2)(void))
{
  a2(0);
  OUTLINED_FUNCTION_2();
  (*(void (**)(uint64_t))(v3 + 8))(a1);
  return a1;
}

uint64_t type metadata accessor for PersonalTraitEntityNetDataSource()
{
  return self;
}

uint64_t method lookup function for PersonalTraitEntityNetDataSource(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PersonalTraitEntityNetDataSource);
}

uint64_t dispatch thunk of PersonalTraitEntityNetDataSource.__allocating_init(configuration:photoLibrary:storyGenerationCache:)()
{
  return (*(uint64_t (**)(void))(v0 + 112))();
}

ValueMetadata *type metadata accessor for SceneTaxonomyCache()
{
  return &type metadata for SceneTaxonomyCache;
}

unsigned char *storeEnumTagSinglePayload for PersonalTraitEntityNetDataSource.Error(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x25966DD60);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for PersonalTraitEntityNetDataSource.Error()
{
  return &type metadata for PersonalTraitEntityNetDataSource.Error;
}

unint64_t sub_25966DD9C()
{
  unint64_t result = qword_26A38FAD8;
  if (!qword_26A38FAD8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FAD8);
  }
  return result;
}

uint64_t sub_25966DDE8(uint64_t a1, unint64_t a2)
{
  return PersonalTraitEntityNetDataSource.personalTraitBySceneIdentifier(clusterRepresentativeAssets:clusterAssetUUIDs:)(a2, a1);
}

uint64_t sub_25966DE0C(uint64_t a1, uint64_t *a2)
{
  __swift_instantiateConcreteTypeFromMangledName(a2);
  OUTLINED_FUNCTION_2();
  (*(void (**)(uint64_t))(v3 + 8))(a1);
  return a1;
}

void static MaestroKeywordResolver.allMaestroKeywordsAndAliases()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_27_29();
  while (1)
  {
    char v3 = v2;
    BOOL v5 = OUTLINED_FUNCTION_15_40() == v1 && v4 == 0xE300000000000000;
    if (v5) {
      break;
    }
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if (v0) {
      goto LABEL_12;
    }
    char v2 = 1;
    if (v3)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v6 = sub_259843F00();
      sub_25960FD54(v6, (uint64_t)&unk_27074A1F0);
      uint64_t v8 = v7;
      goto LABEL_15;
    }
  }
  swift_bridgeObjectRelease();
LABEL_12:
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v8 = off_26A38EFA8;
  sub_259843F00();
LABEL_15:
  if (v8[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v9) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v5);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v10, (uint64_t)qword_26A38FB10);
  uint64_t v11 = (void *)sub_259843A50();
  os_log_type_t v12 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v12))
  {
    unint64_t v13 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v13, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v14, v15, "All maestro keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

uint64_t sub_25966E090()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A38FB10);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A38FB10);
  return sub_259843A60();
}

uint64_t static MaestroKeywordResolver.fallbackKeywordName.getter()
{
  return 0x636972656E6547;
}

double static MaestroKeywordResolver.fallbackScore.getter()
{
  return 0.8;
}

void static MaestroKeywordResolver.allSupportedKeywords()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_27_29();
  BOOL v3 = OUTLINED_FUNCTION_15_40() == v1 && v2 == 0xE300000000000000;
  if (v3)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if ((v0 & 1) == 0)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v4 = sub_259843F00();
      sub_25960FD54(v4, (uint64_t)&unk_27073F160);
      uint64_t v6 = v5;
      goto LABEL_13;
    }
  }
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v6 = off_26A38EFA8;
  sub_259843F00();
LABEL_13:
  if (v6[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v7) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v3);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v8, (uint64_t)qword_26A38FB10);
  char v9 = (void *)sub_259843A50();
  os_log_type_t v10 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v10))
  {
    uint64_t v11 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v11, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v12, v13, "All supported keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

void static MaestroKeywordResolver.allMusicSearchKeyword()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_27_29();
  BOOL v3 = OUTLINED_FUNCTION_15_40() == v1 && v2 == 0xE300000000000000;
  if (v3)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if ((v0 & 1) == 0)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v4 = sub_259843F00();
      sub_25960FD54(v4, (uint64_t)&unk_27073F0B8);
      uint64_t v6 = v5;
      goto LABEL_13;
    }
  }
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v6 = off_26A38EFA8;
  sub_259843F00();
LABEL_13:
  if (v6[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v7) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v3);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v8, (uint64_t)qword_26A38FB10);
  char v9 = (void *)sub_259843A50();
  os_log_type_t v10 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v10))
  {
    uint64_t v11 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v11, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v12, v13, "All music search keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

void static MaestroKeywordResolver.allMaestroKeywords()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_27_29();
  BOOL v3 = OUTLINED_FUNCTION_15_40() == v1 && v2 == 0xE300000000000000;
  if (v3)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if ((v0 & 1) == 0)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v4 = sub_259843F00();
      sub_25960FD54(v4, (uint64_t)&unk_27073F0E0);
      uint64_t v6 = v5;
      goto LABEL_13;
    }
  }
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v6 = off_26A38EFA8;
  sub_259843F00();
LABEL_13:
  if (v6[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v7) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v3);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v8, (uint64_t)qword_26A38FB10);
  char v9 = (void *)sub_259843A50();
  os_log_type_t v10 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v10))
  {
    uint64_t v11 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v11, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v12, v13, "All maestro keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

void static MaestroKeywordResolver.regularMaestroKeywords()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_21_33();
  while (1)
  {
    BOOL v5 = OUTLINED_FUNCTION_15_40() == v2 && v4 == v3;
    if (v5) {
      break;
    }
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if (v0) {
      goto LABEL_12;
    }
    if (++v1 == 9)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v6 = sub_259843F00();
      sub_25960FD54(v6, (uint64_t)&unk_27073F130);
      uint64_t v8 = v7;
      goto LABEL_15;
    }
  }
  swift_bridgeObjectRelease();
LABEL_12:
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v8 = off_26A38EFA8;
  sub_259843F00();
LABEL_15:
  if (v8[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v9) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v5);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v10, (uint64_t)qword_26A38FB10);
  uint64_t v11 = (void *)sub_259843A50();
  os_log_type_t v12 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v12))
  {
    uint64_t v13 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v13, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v14, v15, "Filtered keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

void static MaestroKeywordResolver.tripMaestroKeywords()()
{
  OUTLINED_FUNCTION_12_40();
  OUTLINED_FUNCTION_21_33();
  while (1)
  {
    BOOL v5 = OUTLINED_FUNCTION_15_40() == v2 && v4 == v3;
    if (v5) {
      break;
    }
    OUTLINED_FUNCTION_2_65();
    OUTLINED_FUNCTION_19_7();
    if (v0) {
      goto LABEL_12;
    }
    if (++v1 == 4)
    {
      if (qword_26A388A48 != -1) {
        swift_once();
      }
      uint64_t v6 = sub_259843F00();
      sub_25960FD54(v6, (uint64_t)&unk_27073F108);
      uint64_t v8 = v7;
      goto LABEL_15;
    }
  }
  swift_bridgeObjectRelease();
LABEL_12:
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  uint64_t v8 = off_26A38EFA8;
  sub_259843F00();
LABEL_15:
  if (v8[2])
  {
    sub_259843F00();
    do
    {
      OUTLINED_FUNCTION_13_44();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        OUTLINED_FUNCTION_4_61();
      }
      OUTLINED_FUNCTION_8_57();
      if (v9) {
        OUTLINED_FUNCTION_3_63();
      }
      OUTLINED_FUNCTION_1_78();
    }
    while (!v5);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  if (qword_26A388AD0 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_259843A80();
  OUTLINED_FUNCTION_11_50(v10, (uint64_t)qword_26A38FB10);
  uint64_t v11 = (void *)sub_259843A50();
  os_log_type_t v12 = sub_259844B40();
  if (OUTLINED_FUNCTION_52(v12))
  {
    uint64_t v13 = (float *)OUTLINED_FUNCTION_9_45();
    OUTLINED_FUNCTION_0_52(v13, 3.852e-34);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_177(&dword_25934C000, v14, v15, "Trip keywords used for embeddings: Count=%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_43_0();
}

uint64_t static MaestroKeywordResolver.maestroKeyword(for:)(uint64_t a1, unint64_t a2)
{
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  sub_259843F00();
  sub_259843F00();
  sub_2596100EC();
  if (*(void *)(v4 + 16))
  {
    uint64_t v5 = *(void *)(v4 + 48);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    if (qword_26A388AD0 != -1) {
      swift_once();
    }
    uint64_t v6 = sub_259843A80();
    __swift_project_value_buffer(v6, (uint64_t)qword_26A38FB10);
    swift_bridgeObjectRetain_n();
    char v7 = sub_259843A50();
    os_log_type_t v8 = sub_259844B50();
    if (os_log_type_enabled(v7, v8))
    {
      char v9 = (uint8_t *)swift_slowAlloc();
      uint64_t v11 = swift_slowAlloc();
      *(_DWORD *)char v9 = 136315138;
      sub_259843F00();
      sub_259356D5C(a1, a2, &v11);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v7, v8, "Didn't find a maestro keyword for %s", v9, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    return 0;
  }
  return v5;
}

unint64_t static MaestroKeywordResolver.resolveLLMKeywordsToMaestro(for:)(unint64_t a1)
{
  unint64_t v2 = a1;
  unint64_t v94 = MEMORY[0x263F8EE78];
  if (a1 >> 62)
  {
    sub_259843F00();
    uint64_t v3 = sub_259845460();
  }
  else
  {
    uint64_t v3 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  if (v3)
  {
    if (v3 >= 1)
    {
      uint64_t v5 = 0;
      uint64_t v6 = 0;
      unint64_t v83 = v2 & 0xC000000000000001;
      uint64_t v77 = &v93;
      *(void *)&long long v4 = 136315138;
      long long v75 = v4;
      uint64_t v74 = MEMORY[0x263F8EE58] + 8;
      unint64_t v81 = v2;
      uint64_t v82 = v3;
      while (1)
      {
        if (v83)
        {
          uint64_t v7 = MEMORY[0x25A2DFA20](v5, v2);
        }
        else
        {
          uint64_t v7 = *(void *)(v2 + 8 * v5 + 32);
          swift_retain();
        }
        uint64_t v8 = qword_26A388A48;
        sub_259843F00();
        if (v8 != -1) {
          swift_once();
        }
        sub_259843F00();
        sub_259843F00();
        sub_2596100EC();
        if (!v9[2])
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_28_25();
          if (!v19) {
            swift_once();
          }
          uint64_t v38 = sub_259843A80();
          __swift_project_value_buffer(v38, (uint64_t)qword_26A38FB10);
          swift_retain();
          uint64_t v39 = sub_259843A50();
          os_log_type_t v40 = sub_259844B50();
          if (os_log_type_enabled(v39, v40))
          {
            uint64_t v41 = (uint8_t *)swift_slowAlloc();
            uint64_t v86 = swift_slowAlloc();
            *(_DWORD *)uint64_t v41 = v75;
            uint64_t v42 = *(void *)(v7 + 16);
            unint64_t v43 = *(void *)(v7 + 24);
            sub_259843F00();
            uint64_t v92 = sub_259356D5C(v42, v43, &v86);
            uint64_t v3 = v82;
            sub_259844E10();
            swift_release();
            unint64_t v2 = v81;
            swift_bridgeObjectRelease();
            _os_log_impl(&dword_25934C000, v39, v40, "Unable to resolve LLM keyword: %s", v41, 0xCu);
            swift_arrayDestroy();
            OUTLINED_FUNCTION_61_0();
            OUTLINED_FUNCTION_61_0();
            swift_release();
          }
          else
          {

            OUTLINED_FUNCTION_131_0();
          }
          goto LABEL_38;
        }
        uint64_t v84 = v5;
        uint64_t v85 = v6;
        uint64_t v10 = v9[5];
        uint64_t v11 = v9[6];
        uint64_t v12 = v9[7];
        uint64_t v14 = v9[8];
        uint64_t v13 = v9[9];
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        double v15 = *(double *)(v7 + 32);
        if (qword_26A388A58 != -1) {
          swift_once();
        }
        if (*(void *)(v14 + 16))
        {
          sub_259843F00();
          unint64_t v16 = sub_25939CE90();
          if (v17)
          {
            double v18 = *(double *)(*(void *)(v14 + 56) + 8 * v16);
            swift_bridgeObjectRelease();
            if (v18 > v15) {
              goto LABEL_27;
            }
            goto LABEL_17;
          }
          swift_bridgeObjectRelease();
        }
        if (v15 < 0.8)
        {
LABEL_27:
          OUTLINED_FUNCTION_28_25();
          if (!v19) {
            swift_once();
          }
          uint64_t v44 = sub_259843A80();
          __swift_project_value_buffer(v44, (uint64_t)qword_26A38FB10);
          swift_retain_n();
          sub_259843F00();
          sub_259843F00();
          sub_259843F00();
          sub_259843F00();
          BOOL v45 = sub_259843A50();
          os_log_type_t v46 = sub_259844B40();
          int v47 = v46;
          if (os_log_type_enabled(v45, v46))
          {
            uint64_t v48 = (uint8_t *)swift_slowAlloc();
            uint64_t v49 = swift_slowAlloc();
            OUTLINED_FUNCTION_26_30(v49, v50, v51, v52, v53, v54, v55, v56, v73, v74, v75, *((uint64_t *)&v75 + 1), v76, (uint64_t)v77, (uint64_t)log, v49, v57);
            LODWORD(log) = v47;
            uint64_t v58 = MusicKeywordCompletion.description.getter();
            OUTLINED_FUNCTION_25_33(v58, v59);
            OUTLINED_FUNCTION_23_39();
            sub_259844E10();
            OUTLINED_FUNCTION_131_0();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_22_40();
            uint64_t v86 = v60;
            uint64_t v87 = v10;
            uint64_t v88 = v11;
            uint64_t v89 = v12;
            uint64_t v90 = v14;
            uint64_t v91 = v13;
            uint64_t v61 = StoryMusicEmbeddingTerm.description.getter();
            OUTLINED_FUNCTION_25_33(v61, v62);
            OUTLINED_FUNCTION_23_39();
            unint64_t v2 = v81;
            sub_259844E10();
            swift_bridgeObjectRelease_n();
            OUTLINED_FUNCTION_184_1();
            OUTLINED_FUNCTION_67_0();
            OUTLINED_FUNCTION_77();
            swift_bridgeObjectRelease();
            _os_log_impl(&dword_25934C000, v45, (os_log_type_t)v47, "(Threshold un-met) Keyword %s did not meet the threshold for: %s", v48, 0x16u);
            swift_arrayDestroy();
            OUTLINED_FUNCTION_61_0();
            OUTLINED_FUNCTION_61_0();
            swift_release();
          }
          else
          {

            swift_bridgeObjectRelease_n();
            OUTLINED_FUNCTION_184_1();
            OUTLINED_FUNCTION_67_0();
            OUTLINED_FUNCTION_77();
            swift_release_n();
          }
          goto LABEL_37;
        }
LABEL_17:
        OUTLINED_FUNCTION_28_25();
        if (!v19) {
          swift_once();
        }
        uint64_t v20 = sub_259843A80();
        __swift_project_value_buffer(v20, (uint64_t)qword_26A38FB10);
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain_n();
        swift_retain_n();
        unint64_t v21 = sub_259843A50();
        os_log_type_t v22 = sub_259844B40();
        int v23 = v22;
        if (os_log_type_enabled(v21, v22))
        {
          int v24 = (uint8_t *)swift_slowAlloc();
          uint64_t v80 = swift_slowAlloc();
          OUTLINED_FUNCTION_26_30(v80, v25, v26, v27, v28, v29, v30, v31, v73, v74, v75, *((uint64_t *)&v75 + 1), v76, (uint64_t)v77, (uint64_t)log, type, v32);
          LODWORD(type) = v23;
          uint64_t v33 = MusicKeywordCompletion.description.getter();
          OUTLINED_FUNCTION_25_33(v33, v34);
          OUTLINED_FUNCTION_23_39();
          os_log_t log = v21;
          sub_259844E10();
          OUTLINED_FUNCTION_131_0();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_22_40();
          uint64_t v86 = v35;
          uint64_t v87 = v10;
          uint64_t v88 = v11;
          uint64_t v89 = v12;
          uint64_t v90 = v14;
          uint64_t v91 = v13;
          uint64_t v36 = StoryMusicEmbeddingTerm.description.getter();
          OUTLINED_FUNCTION_25_33(v36, v37);
          OUTLINED_FUNCTION_23_39();
          unint64_t v2 = v81;
          sub_259844E10();
          swift_bridgeObjectRelease_n();
          OUTLINED_FUNCTION_184_1();
          OUTLINED_FUNCTION_67_0();
          OUTLINED_FUNCTION_77();
          swift_bridgeObjectRelease();
          _os_log_impl(&dword_25934C000, v21, (os_log_type_t)v23, "(Threshold met) Keyword %s meet the threshold for: %s", v24, 0x16u);
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {

          swift_bridgeObjectRelease_n();
          OUTLINED_FUNCTION_184_1();
          OUTLINED_FUNCTION_67_0();
          OUTLINED_FUNCTION_77();
          OUTLINED_FUNCTION_131_0();
        }
        double v63 = *(double *)(v7 + 32);
        type metadata accessor for MusicKeywordCompletion();
        swift_allocObject();
        MusicKeywordCompletion.init(keyword:score:)(v11, v12, v63);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        uint64_t v64 = swift_retain();
        MEMORY[0x25A2DED30](v64);
        OUTLINED_FUNCTION_19_33();
        if (v65) {
          OUTLINED_FUNCTION_17_36();
        }
        sub_2598445B0();
        sub_259844530();
        swift_release();
        swift_release();
LABEL_37:
        uint64_t v3 = v82;
        uint64_t v5 = v84;
        uint64_t v6 = v85;
LABEL_38:
        if (v3 == ++v5)
        {
          swift_bridgeObjectRelease();
          unint64_t v66 = v94;
          goto LABEL_41;
        }
      }
    }
    __break(1u);
LABEL_55:
    swift_once();
    goto LABEL_45;
  }
  swift_bridgeObjectRelease();
  unint64_t v66 = MEMORY[0x263F8EE78];
LABEL_41:
  type metadata accessor for MusicKeywordCompletion();
  unint64_t v67 = static MusicKeywordCompletion.removeLowerScoringDuplicates(from:)(v66);
  swift_bridgeObjectRelease();
  unint64_t v94 = v67;
  if (v67 >> 62)
  {
    sub_259843F00();
    uint64_t v1 = sub_259845460();
    swift_bridgeObjectRelease();
    if (v1) {
      return v67;
    }
  }
  else
  {
    uint64_t v1 = *(void *)((v67 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (v1) {
      return v67;
    }
  }
  OUTLINED_FUNCTION_28_25();
  if (!v19) {
    goto LABEL_55;
  }
LABEL_45:
  uint64_t v68 = sub_259843A80();
  __swift_project_value_buffer(v68, (uint64_t)qword_26A38FB10);
  uint64_t v69 = sub_259843A50();
  os_log_type_t v70 = sub_259844B50();
  if (OUTLINED_FUNCTION_52(v70))
  {
    BOOL v71 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)BOOL v71 = 0;
    _os_log_impl(&dword_25934C000, v69, (os_log_type_t)v1, "None of the LLM keywords resolved to Maestro. Adding fallback keyword as a failsafe", v71, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  swift_allocObject();
  OUTLINED_FUNCTION_16_38(0.8);
  MEMORY[0x25A2DED30]();
  OUTLINED_FUNCTION_19_33();
  if (v65) {
    OUTLINED_FUNCTION_17_36();
  }
  sub_2598445B0();
  sub_259844530();
  return v94;
}

uint64_t static MaestroKeywordResolver.fallbackKeyword()()
{
  return OUTLINED_FUNCTION_16_38(0.8);
}

uint64_t MaestroKeywordResolver.deinit()
{
  return v0;
}

uint64_t MaestroKeywordResolver.__deallocating_deinit()
{
  return MEMORY[0x270FA0228](v0, 16, 7);
}

uint64_t type metadata accessor for MaestroKeywordResolver()
{
  return self;
}

uint64_t method lookup function for MaestroKeywordResolver(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for MaestroKeywordResolver);
}

__n128 OUTLINED_FUNCTION_26_30(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, __n128 a17)
{
  *(void *)(v18 - 144) = a1;
  __n128 result = a17;
  *char v17 = a17.n128_u32[0];
  return result;
}

uint64_t sub_25966F864(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  sub_2597EFE50(v33, a2);
  uint64_t v29 = v33[0];
  int64_t v31 = v33[3];
  unint64_t v5 = v33[4];
  uint64_t v26 = v33[1];
  int64_t v27 = (unint64_t)(v33[2] + 64) >> 6;
  sub_259843F00();
  if (!v5) {
    goto LABEL_3;
  }
LABEL_2:
  uint64_t v32 = (v5 - 1) & v5;
  for (unint64_t i = __clz(__rbit64(v5)) | (v31 << 6); ; unint64_t i = __clz(__rbit64(v8)) + (v9 << 6))
  {
    uint64_t v11 = (uint64_t *)(*(void *)(v29 + 56) + 16 * i);
    uint64_t v12 = v11[1];
    uint64_t v34 = *v11;
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259844240();
    sub_259843F00();
    swift_isUniquelyReferenced_nonNull_native();
    unint64_t v13 = sub_25939CE90();
    if (__OFADD__(a1[2], (v14 & 1) == 0)) {
      break;
    }
    unint64_t v15 = v13;
    char v16 = v14;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B38);
    if (sub_259845350())
    {
      unint64_t v17 = sub_25939CE90();
      if ((v16 & 1) != (v18 & 1)) {
        goto LABEL_33;
      }
      unint64_t v15 = v17;
    }
    if (v16)
    {
      char v19 = (void *)(a1[7] + 16 * v15);
      swift_bridgeObjectRelease();
      *char v19 = v34;
      v19[1] = v12;
    }
    else
    {
      a1[(v15 >> 6) + 8] |= 1 << v15;
      uint64_t v20 = (void *)(a1[6] + 16 * v15);
      *uint64_t v20 = a3;
      v20[1] = a4;
      unint64_t v21 = (void *)(a1[7] + 16 * v15);
      *unint64_t v21 = v34;
      v21[1] = v12;
      uint64_t v22 = a1[2];
      BOOL v23 = __OFADD__(v22, 1);
      uint64_t v24 = v22 + 1;
      if (v23) {
        goto LABEL_31;
      }
      a1[2] = v24;
      sub_259843F00();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    unint64_t v5 = v32;
    if (v32) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v7 = v31 + 1;
    if (__OFADD__(v31, 1)) {
      goto LABEL_32;
    }
    if (v7 >= v27) {
      goto LABEL_29;
    }
    unint64_t v8 = *(void *)(v26 + 8 * v7);
    int64_t v9 = v31 + 1;
    if (!v8)
    {
      int64_t v9 = v31 + 2;
      if (v31 + 2 >= v27) {
        goto LABEL_29;
      }
      unint64_t v8 = *(void *)(v26 + 8 * v9);
      if (!v8)
      {
        int64_t v9 = v31 + 3;
        if (v31 + 3 >= v27) {
          goto LABEL_29;
        }
        unint64_t v8 = *(void *)(v26 + 8 * v9);
        if (!v8)
        {
          int64_t v9 = v31 + 4;
          if (v31 + 4 >= v27) {
            goto LABEL_29;
          }
          unint64_t v8 = *(void *)(v26 + 8 * v9);
          if (!v8)
          {
            int64_t v9 = v31 + 5;
            if (v31 + 5 >= v27) {
              goto LABEL_29;
            }
            unint64_t v8 = *(void *)(v26 + 8 * v9);
            if (!v8)
            {
              int64_t v10 = v31 + 6;
              while (v10 < v27)
              {
                unint64_t v8 = *(void *)(v26 + 8 * v10++);
                if (v8)
                {
                  int64_t v9 = v10 - 1;
                  goto LABEL_18;
                }
              }
LABEL_29:
              swift_release();
              swift_bridgeObjectRelease();
              return (uint64_t)a1;
            }
          }
        }
      }
    }
LABEL_18:
    int64_t v31 = v9;
    uint64_t v32 = (v8 - 1) & v8;
  }
  __break(1u);
LABEL_31:
  __break(1u);
LABEL_32:
  __break(1u);
LABEL_33:
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_25966FBA4(void *a1, unint64_t a2, uint64_t *a3)
{
  uint64_t v33 = a3;
  unint64_t v3 = a2;
  if (a2 >> 62)
  {
LABEL_25:
    sub_259843F00();
    uint64_t v5 = sub_259845460();
    if (v5) {
      goto LABEL_3;
    }
LABEL_26:
    swift_bridgeObjectRelease();
    return (uint64_t)a1;
  }
  uint64_t v5 = *(void *)((a2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  sub_259843F00();
  if (!v5) {
    goto LABEL_26;
  }
LABEL_3:
  uint64_t v30 = (void *)v3;
  unint64_t v31 = v3 & 0xC000000000000001;
  uint64_t v6 = 4;
  while (1)
  {
    if (v31) {
      id v7 = (id)MEMORY[0x25A2DFA20](v6 - 4, v3);
    }
    else {
      id v7 = *(id *)(v3 + 8 * v6);
    }
    uint64_t v8 = v6 - 3;
    if (__OFADD__(v6 - 4, 1))
    {
      __break(1u);
LABEL_23:
      __break(1u);
LABEL_24:
      __break(1u);
      goto LABEL_25;
    }
    id v9 = v7;
    id v10 = objc_msgSend(v9, sel_string);
    sub_2598440A0();

    uint64_t v11 = v33;
    swift_beginAccess();
    uint64_t v12 = *v11;
    if (*(void *)(v12 + 16) && (unint64_t v13 = sub_25939CE90(), (v14 & 1) != 0))
    {
      uint64_t v15 = *(void *)(*(void *)(v12 + 56) + 8 * v13);
      swift_endAccess();
      sub_259843F00();
    }
    else
    {
      swift_endAccess();
      uint64_t v15 = MEMORY[0x263F8EE78];
    }
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v32 = a1;
    unint64_t v3 = (unint64_t)a1;
    sub_25939D5A0();
    uint64_t v18 = a1[2];
    BOOL v19 = (v17 & 1) == 0;
    a1 = (void *)(v18 + v19);
    if (__OFADD__(v18, v19)) {
      goto LABEL_23;
    }
    unint64_t v20 = v16;
    char v21 = v17;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B28);
    unint64_t v3 = (unint64_t)&v32;
    if (sub_259845350()) {
      break;
    }
LABEL_16:
    a1 = v32;
    if (v21)
    {
      uint64_t v24 = v32[7];
      swift_bridgeObjectRelease();
      *(void *)(v24 + 8 * v20) = v15;
    }
    else
    {
      v32[(v20 >> 6) + 8] |= 1 << v20;
      *(void *)(a1[6] + 8 * v20) = v9;
      *(void *)(a1[7] + 8 * v20) = v15;
      uint64_t v25 = a1[2];
      BOOL v26 = __OFADD__(v25, 1);
      uint64_t v27 = v25 + 1;
      if (v26) {
        goto LABEL_24;
      }
      a1[2] = v27;
      id v28 = v9;
    }

    swift_bridgeObjectRelease();
    ++v6;
    unint64_t v3 = (unint64_t)v30;
    if (v8 == v5) {
      goto LABEL_26;
    }
  }
  unint64_t v3 = (unint64_t)v32;
  sub_25939D5A0();
  if ((v21 & 1) == (v23 & 1))
  {
    unint64_t v20 = v22;
    goto LABEL_16;
  }
  sub_25935633C(0, (unint64_t *)&qword_26A389B20);
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_25966FE4C@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  char v2 = *(unsigned char *)(a1 + 32);
  uint64_t v3 = -1;
  *a2 = a1;
  uint64_t v6 = *(void *)(a1 + 64);
  uint64_t result = a1 + 64;
  uint64_t v5 = v6;
  uint64_t v7 = -1 << v2;
  if (-v7 < 64) {
    uint64_t v3 = ~(-1 << -(char)v7);
  }
  a2[1] = result;
  a2[2] = ~v7;
  a2[3] = 0;
  a2[4] = v3 & v5;
  a2[5] = 0;
  return result;
}

uint64_t sub_25966FE88()
{
  int64_t v2 = v0[3];
  uint64_t v1 = v0[4];
  int64_t v3 = v2;
  if (!v1)
  {
    int64_t v6 = v2 + 1;
    if (__OFADD__(v2, 1)) {
      goto LABEL_26;
    }
    int64_t v7 = (unint64_t)(v0[2] + 64) >> 6;
    if (v6 < v7)
    {
      uint64_t v8 = v0[1];
      uint64_t v9 = *(void *)(v8 + 8 * v6);
      if (v9)
      {
LABEL_8:
        uint64_t v4 = (v9 - 1) & v9;
        int64_t v3 = v6;
        goto LABEL_3;
      }
      int64_t v10 = v2 + 2;
      int64_t v3 = v2 + 1;
      if (v2 + 2 < v7)
      {
        uint64_t v9 = *(void *)(v8 + 8 * v10);
        if (v9)
        {
LABEL_11:
          int64_t v6 = v10;
          goto LABEL_8;
        }
        int64_t v3 = v2 + 2;
        if (v2 + 3 < v7)
        {
          uint64_t v9 = *(void *)(v8 + 8 * (v2 + 3));
          if (v9)
          {
            int64_t v6 = v2 + 3;
            goto LABEL_8;
          }
          int64_t v10 = v2 + 4;
          int64_t v3 = v2 + 3;
          if (v2 + 4 < v7)
          {
            uint64_t v9 = *(void *)(v8 + 8 * v10);
            if (v9) {
              goto LABEL_11;
            }
            int64_t v6 = v2 + 5;
            int64_t v3 = v2 + 4;
            if (v2 + 5 < v7)
            {
              uint64_t v9 = *(void *)(v8 + 8 * v6);
              if (v9) {
                goto LABEL_8;
              }
              int64_t v3 = v7 - 1;
              int64_t v11 = v2 + 6;
              while (v11 < v7)
              {
                uint64_t v9 = *(void *)(v8 + 8 * v11++);
                if (v9)
                {
                  int64_t v6 = v11 - 1;
                  goto LABEL_8;
                }
              }
            }
          }
        }
      }
    }
    uint64_t v5 = 0;
    v0[3] = v3;
    v0[4] = 0;
    return v5;
  }
  uint64_t v4 = (v1 - 1) & v1;
LABEL_3:
  v0[3] = v3;
  v0[4] = v4;
  uint64_t v5 = v0[5];
  if (!__OFADD__(v5, 1))
  {
    v0[5] = v5 + 1;
    sub_259843F00();
    sub_259843F00();
    return v5;
  }
  __break(1u);
LABEL_26:
  __break(1u);
  return result;
}

void sub_259670014(uint64_t a1@<X8>)
{
  unint64_t v2 = v1[1];
  unint64_t v3 = *(void *)(*v1 + 16);
  if (v2 == v3)
  {
    *(_OWORD *)(a1 + 73) = 0u;
    *(_OWORD *)(a1 + 48) = 0u;
    *(_OWORD *)(a1 + 64) = 0u;
    *(_OWORD *)(a1 + 16) = 0u;
    *(_OWORD *)(a1 + 32) = 0u;
    *(_OWORD *)a1 = 0u;
    return;
  }
  if (v2 >= v3)
  {
    __break(1u);
    goto LABEL_9;
  }
  uint64_t v4 = *v1 + 88 * v2;
  uint64_t v6 = *(void *)(v4 + 32);
  uint64_t v5 = *(void *)(v4 + 40);
  uint64_t v7 = *(void *)(v4 + 48);
  uint64_t v8 = *(void *)(v4 + 56);
  uint64_t v9 = *(void *)(v4 + 64);
  char v10 = *(unsigned char *)(v4 + 72);
  char v11 = *(unsigned char *)(v4 + 73);
  char v12 = *(unsigned char *)(v4 + 74);
  uint64_t v14 = *(void *)(v4 + 80);
  uint64_t v13 = *(void *)(v4 + 88);
  long long v15 = *(_OWORD *)(v4 + 96);
  char v16 = *(unsigned char *)(v4 + 112);
  v1[1] = v2 + 1;
  uint64_t v17 = v1[2];
  if (__OFADD__(v17, 1))
  {
LABEL_9:
    __break(1u);
    return;
  }
  v1[2] = v17 + 1;
  *(void *)a1 = v17;
  *(void *)(a1 + 8) = v6;
  *(void *)(a1 + 16) = v5;
  *(void *)(a1 + 24) = v7;
  *(void *)(a1 + 32) = v8;
  *(void *)(a1 + 40) = v9;
  *(unsigned char *)(a1 + 48) = v10;
  *(unsigned char *)(a1 + 49) = v11;
  *(unsigned char *)(a1 + 50) = v12;
  *(void *)(a1 + 56) = v14;
  *(void *)(a1 + 64) = v13;
  *(_OWORD *)(a1 + 72) = v15;
  *(unsigned char *)(a1 + 88) = v16;
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v14);
}

uint64_t PromptSuggestionValidationResult.promptId.getter()
{
  uint64_t v1 = *v0;
  sub_259843F00();
  return v1;
}

id PromptSuggestionValidationResult.attributedString.getter()
{
  return *(id *)(v0 + 16);
}

uint64_t PromptSuggestionValidationResult.assetUUIDs.getter()
{
  return sub_259843F00();
}

uint64_t PromptSuggestionValidationResult.queryTokens.getter()
{
  return sub_259843F00();
}

void __swiftcall PromptSuggestionValidationResult.init(promptId:attributedString:assetUUIDs:queryTokens:)(PhotosIntelligence::PromptSuggestionValidationResult *__return_ptr retstr, Swift::String promptId, NSAttributedString attributedString, Swift::OpaquePointer assetUUIDs, Swift::OpaquePointer queryTokens)
{
  retstr->promptId = promptId;
  retstr->attributedString = attributedString;
  retstr->assetUUIDs = assetUUIDs;
  retstr->queryTokens = queryTokens;
}

uint64_t sub_25967018C()
{
  void (*v57)(void *__return_ptr, void *);
  uint64_t v58;
  int64_t v59;
  void v60[4];
  void v61[4];
  void *v62;
  void v63[3];
  uint64_t v64;
  uint64_t v65;
  long long v66;
  long long v67;
  long long v68;
  void v69[2];
  uint64_t v70;
  uint64_t v71;
  unint64_t v72;
  void (*v73)(void *__return_ptr, void *);

  long long v1 = v0[1];
  unint64_t v66 = *v0;
  unint64_t v67 = v1;
  uint64_t v68 = v0[2];
  swift_beginAccess();
  uint64_t v2 = qword_26A38FB28;
  unint64_t v3 = off_26A38FB30;
  sub_259843F00();
  uint64_t v4 = PromptSuggestionSafetyValidationDiagnosticContext.dictionary.getter();
  sub_259843F00();
  uint64_t v5 = (void *)sub_25966F864(MEMORY[0x263F8EE80], v4, v2, (uint64_t)v3);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v50 = *(void *)(v66 + 16);
  if (!v50) {
    return (uint64_t)v5;
  }
  uint64_t v51 = v66 + 32;
  sub_259843F00();
  uint64_t v6 = 0;
  while (2)
  {
    uint64_t v54 = v6 + 1;
    sub_259353FF0(v51 + 40 * v6, (uint64_t)v63);
    uint64_t v7 = v64;
    uint64_t v8 = v65;
    __swift_project_boxed_opaque_existential_1(v63, v64);
    uint64_t v9 = (*(uint64_t (**)(uint64_t, uint64_t))(v8 + 40))(v7, v8);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    unint64_t v62 = v5;
    sub_259730A2C(v69);
    uint64_t v58 = v69[0];
    unint64_t v59 = v71;
    unint64_t v11 = v72;
    __n128 v57 = v73;
    uint64_t v52 = v70;
    uint64_t v53 = v9;
    uint64_t v55 = v69[1];
    int64_t v56 = (unint64_t)(v70 + 64) >> 6;
    sub_259843F00();
    while (1)
    {
      if (v11)
      {
        unint64_t v12 = __clz(__rbit64(v11));
        v11 &= v11 - 1;
        unint64_t v13 = v12 | (v59 << 6);
        goto LABEL_22;
      }
      int64_t v14 = v59 + 1;
      if (__OFADD__(v59, 1)) {
        goto LABEL_37;
      }
      if (v14 >= v56) {
        goto LABEL_32;
      }
      unint64_t v15 = *(void *)(v55 + 8 * v14);
      int64_t v16 = v59 + 1;
      if (!v15)
      {
        int64_t v16 = v59 + 2;
        if (v59 + 2 >= v56) {
          goto LABEL_32;
        }
        unint64_t v15 = *(void *)(v55 + 8 * v16);
        if (!v15)
        {
          int64_t v16 = v59 + 3;
          if (v59 + 3 >= v56) {
            goto LABEL_32;
          }
          unint64_t v15 = *(void *)(v55 + 8 * v16);
          if (!v15)
          {
            int64_t v16 = v59 + 4;
            if (v59 + 4 >= v56) {
              goto LABEL_32;
            }
            unint64_t v15 = *(void *)(v55 + 8 * v16);
            if (!v15)
            {
              int64_t v16 = v59 + 5;
              if (v59 + 5 >= v56) {
                goto LABEL_32;
              }
              unint64_t v15 = *(void *)(v55 + 8 * v16);
              if (!v15) {
                break;
              }
            }
          }
        }
      }
LABEL_21:
      unint64_t v11 = (v15 - 1) & v15;
      unint64_t v13 = __clz(__rbit64(v15)) + (v16 << 6);
      unint64_t v59 = v16;
LABEL_22:
      uint64_t v18 = (uint64_t *)(*(void *)(v58 + 48) + 16 * v13);
      uint64_t v19 = *v18;
      uint64_t v20 = v18[1];
      char v21 = (uint64_t *)(*(void *)(v58 + 56) + 16 * v13);
      uint64_t v22 = *v21;
      uint64_t v23 = v21[1];
      v61[0] = v19;
      v61[1] = v20;
      v61[2] = v22;
      v61[3] = v23;
      sub_259843F00();
      sub_259843F00();
      v57(v60, v61);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v25 = v60[0];
      uint64_t v24 = v60[1];
      uint64_t v26 = v60[2];
      uint64_t v27 = v60[3];
      unint64_t v35 = sub_25939CE90();
      uint64_t v36 = v5[2];
      BOOL v37 = (v28 & 1) == 0;
      uint64_t v38 = v36 + v37;
      if (__OFADD__(v36, v37))
      {
        __break(1u);
LABEL_36:
        __break(1u);
LABEL_37:
        __break(1u);
LABEL_38:
        uint64_t result = sub_2598457D0();
        __break(1u);
        return result;
      }
      char v39 = v28;
      if (v5[3] >= v38)
      {
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B38);
          sub_259845360();
        }
      }
      else
      {
        sub_25972E774(v38, isUniquelyReferenced_nonNull_native & 1, v29, v30, v31, v32, v33, v34, v49, v50, v51, v52, v53, SBYTE4(v53));
        unint64_t v40 = sub_25939CE90();
        if ((v39 & 1) != (v41 & 1)) {
          goto LABEL_38;
        }
        unint64_t v35 = v40;
      }
      uint64_t v5 = v62;
      if (v39)
      {
        swift_bridgeObjectRelease();
        uint64_t v42 = (void *)(v5[7] + 16 * v35);
        swift_bridgeObjectRelease();
        *uint64_t v42 = v26;
        v42[1] = v27;
        char isUniquelyReferenced_nonNull_native = 1;
      }
      else
      {
        v62[(v35 >> 6) + 8] |= 1 << v35;
        unint64_t v43 = (void *)(v5[6] + 16 * v35);
        *unint64_t v43 = v25;
        v43[1] = v24;
        uint64_t v44 = (void *)(v5[7] + 16 * v35);
        void *v44 = v26;
        v44[1] = v27;
        uint64_t v45 = v5[2];
        BOOL v46 = __OFADD__(v45, 1);
        uint64_t v47 = v45 + 1;
        if (v46) {
          goto LABEL_36;
        }
        uint64_t v5[2] = v47;
        char isUniquelyReferenced_nonNull_native = 1;
      }
    }
    int64_t v17 = v59 + 6;
    while (v17 < v56)
    {
      unint64_t v15 = *(void *)(v55 + 8 * v17++);
      if (v15)
      {
        int64_t v16 = v17 - 1;
        goto LABEL_21;
      }
    }
LABEL_32:
    swift_bridgeObjectRelease();
    sub_25940CF64();
    swift_bridgeObjectRelease();
    swift_release();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v63);
    uint64_t v6 = v54;
    if (v54 != v50) {
      continue;
    }
    break;
  }
  sub_25945EAC4(v49);
  return (uint64_t)v5;
}

uint64_t PromptSuggestionDiagnosticContext.combinedPayload()(uint64_t a1, uint64_t a2)
{
  void (*v64)(void *__return_ptr, void *);
  uint64_t v65;
  int64_t v66;
  void v67[4];
  void v68[4];
  void *v69;
  void v70[6];
  void v71[2];
  uint64_t v72;
  uint64_t v73;
  unint64_t v74;
  void (*v75)(void *__return_ptr, void *);

  (*(void (**)(void))(a2 + 48))();
  uint64_t v3 = v2;
  uint64_t v4 = OUTLINED_FUNCTION_206_5();
  v5(v4);
  sub_259843F00();
  OUTLINED_FUNCTION_211();
  uint64_t v9 = (void *)sub_25966F864(v6, v7, v8, v3);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v10 = OUTLINED_FUNCTION_206_5();
  uint64_t v12 = v11(v10);
  uint64_t v59 = *(void *)(v12 + 16);
  if (!v59) {
    goto LABEL_34;
  }
  unint64_t v13 = 0;
  uint64_t v57 = v12;
  uint64_t v58 = v12 + 32;
  while (2)
  {
    if (v13 >= *(void *)(v12 + 16))
    {
LABEL_38:
      __break(1u);
LABEL_39:
      uint64_t result = sub_2598457D0();
      __break(1u);
      return result;
    }
    unint64_t v61 = v13 + 1;
    sub_259353FF0(v58 + 40 * v13, (uint64_t)v70);
    uint64_t v14 = v70[4];
    __swift_project_boxed_opaque_existential_1(v70, v70[3]);
    uint64_t v15 = OUTLINED_FUNCTION_94_7();
    v16(v15, v14);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v69 = v9;
    sub_259730A2C(v71);
    char v65 = v71[0];
    unint64_t v66 = v73;
    unint64_t v18 = v74;
    uint64_t v64 = v75;
    uint64_t v60 = v72;
    uint64_t v62 = v71[1];
    int64_t v63 = (unint64_t)(v72 + 64) >> 6;
    sub_259843F00();
    while (1)
    {
      if (v18)
      {
        unint64_t v19 = __clz(__rbit64(v18));
        v18 &= v18 - 1;
        unint64_t v20 = v19 | (v66 << 6);
        goto LABEL_23;
      }
      int64_t v21 = v66 + 1;
      if (__OFADD__(v66, 1)) {
        goto LABEL_37;
      }
      if (v21 >= v63) {
        goto LABEL_33;
      }
      unint64_t v22 = *(void *)(v62 + 8 * v21);
      int64_t v23 = v66 + 1;
      if (!v22)
      {
        int64_t v23 = v66 + 2;
        if (v66 + 2 >= v63) {
          goto LABEL_33;
        }
        unint64_t v22 = *(void *)(v62 + 8 * v23);
        if (!v22)
        {
          int64_t v23 = v66 + 3;
          if (v66 + 3 >= v63) {
            goto LABEL_33;
          }
          unint64_t v22 = *(void *)(v62 + 8 * v23);
          if (!v22)
          {
            int64_t v23 = v66 + 4;
            if (v66 + 4 >= v63) {
              goto LABEL_33;
            }
            unint64_t v22 = *(void *)(v62 + 8 * v23);
            if (!v22)
            {
              int64_t v23 = v66 + 5;
              if (v66 + 5 >= v63) {
                goto LABEL_33;
              }
              unint64_t v22 = *(void *)(v62 + 8 * v23);
              if (!v22) {
                break;
              }
            }
          }
        }
      }
LABEL_22:
      unint64_t v18 = (v22 - 1) & v22;
      unint64_t v20 = __clz(__rbit64(v22)) + (v23 << 6);
      unint64_t v66 = v23;
LABEL_23:
      uint64_t v25 = (uint64_t *)(*(void *)(v65 + 48) + 16 * v20);
      uint64_t v26 = *v25;
      uint64_t v27 = v25[1];
      char v28 = (uint64_t *)(*(void *)(v65 + 56) + 16 * v20);
      uint64_t v29 = *v28;
      uint64_t v30 = v28[1];
      v68[0] = v26;
      v68[1] = v27;
      uint64_t v68[2] = v29;
      v68[3] = v30;
      sub_259843F00();
      sub_259843F00();
      v64(v67, v68);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v32 = v67[0];
      uint64_t v31 = v67[1];
      uint64_t v33 = v67[2];
      uint64_t v34 = v67[3];
      unint64_t v42 = sub_25939CE90();
      uint64_t v43 = v9[2];
      BOOL v44 = (v35 & 1) == 0;
      uint64_t v45 = v43 + v44;
      if (__OFADD__(v43, v44))
      {
        __break(1u);
LABEL_36:
        __break(1u);
LABEL_37:
        __break(1u);
        goto LABEL_38;
      }
      char v46 = v35;
      if (v9[3] >= v45)
      {
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B38);
          sub_259845360();
        }
      }
      else
      {
        sub_25972E774(v45, isUniquelyReferenced_nonNull_native & 1, v36, v37, v38, v39, v40, v41, v56, v57, v58, v59, v60, SBYTE4(v60));
        unint64_t v47 = sub_25939CE90();
        if ((v46 & 1) != (v48 & 1)) {
          goto LABEL_39;
        }
        unint64_t v42 = v47;
      }
      uint64_t v9 = v69;
      if (v46)
      {
        swift_bridgeObjectRelease();
        uint64_t v49 = (void *)(v9[7] + 16 * v42);
        swift_bridgeObjectRelease();
        *uint64_t v49 = v33;
        v49[1] = v34;
        char isUniquelyReferenced_nonNull_native = 1;
      }
      else
      {
        OUTLINED_FUNCTION_48_6((uint64_t)&v69[v42 >> 6]);
        uint64_t v50 = (void *)(v9[6] + 16 * v42);
        *uint64_t v50 = v32;
        v50[1] = v31;
        uint64_t v51 = (void *)(v9[7] + 16 * v42);
        *uint64_t v51 = v33;
        v51[1] = v34;
        uint64_t v52 = v9[2];
        BOOL v53 = __OFADD__(v52, 1);
        uint64_t v54 = v52 + 1;
        if (v53) {
          goto LABEL_36;
        }
        v9[2] = v54;
        char isUniquelyReferenced_nonNull_native = 1;
      }
    }
    int64_t v24 = v66 + 6;
    while (v24 < v63)
    {
      unint64_t v22 = *(void *)(v62 + 8 * v24++);
      if (v22)
      {
        int64_t v23 = v24 - 1;
        goto LABEL_22;
      }
    }
LABEL_33:
    swift_bridgeObjectRelease();
    sub_25940CF64();
    swift_bridgeObjectRelease();
    swift_release();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v70);
    unint64_t v13 = v61;
    uint64_t v12 = v57;
    if (v61 != v59) {
      continue;
    }
    break;
  }
LABEL_34:
  swift_bridgeObjectRelease();
  return (uint64_t)v9;
}

uint64_t static PromptSuggestionSafetyValidationDiagnosticContext.name.getter()
{
  swift_beginAccess();
  uint64_t v0 = qword_26A38FB28;
  sub_259843F00();
  return v0;
}

uint64_t static PromptSuggestionSafetyValidationDiagnosticContext.name.setter(uint64_t a1, char *a2)
{
  qword_26A38FB28 = a1;
  off_26A38FB30 = a2;
  return swift_bridgeObjectRelease();
}

uint64_t (*static PromptSuggestionSafetyValidationDiagnosticContext.name.modify())()
{
  return j__swift_endAccess;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.dictionary.getter()
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300560);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_2598768F0;
  OUTLINED_FUNCTION_25_1();
  *(void *)(v1 + 32) = 0xD000000000000014;
  *(void *)(v1 + 40) = v2;
  *(void *)(inited + 48) = OUTLINED_FUNCTION_73_11();
  *(void *)(inited + 56) = v3;
  OUTLINED_FUNCTION_25_1();
  *(void *)(inited + 64) = v5;
  *(void *)(inited + 72) = v4;
  *(void *)(inited + 80) = OUTLINED_FUNCTION_73_11();
  *(void *)(inited + 88) = v6;
  OUTLINED_FUNCTION_25_1();
  *(void *)(inited + 96) = v8;
  *(void *)(inited + 104) = v7;
  *(void *)(inited + 112) = OUTLINED_FUNCTION_73_11();
  *(void *)(inited + 120) = v9;
  OUTLINED_FUNCTION_25_1();
  *(void *)(inited + 128) = v11;
  *(void *)(inited + 136) = v10;
  *(void *)(inited + 144) = OUTLINED_FUNCTION_73_11();
  *(void *)(inited + 152) = v12;
  OUTLINED_FUNCTION_25_1();
  *(void *)(inited + 160) = v14;
  *(void *)(inited + 168) = v13;
  *(void *)(inited + 176) = OUTLINED_FUNCTION_73_11();
  *(void *)(inited + 184) = v15;
  return sub_259843EE0();
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.children.getter()
{
  return sub_259843F00();
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.children.setter(uint64_t a1)
{
  uint64_t result = swift_bridgeObjectRelease();
  *uint64_t v1 = a1;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.children.modify())(void)
{
  return CGRectMake;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.totalNumberOfPrompts.getter()
{
  return *(void *)(v0 + 8);
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.totalNumberOfPrompts.setter(uint64_t result)
{
  *(void *)(v1 + 8) = result;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.totalNumberOfPrompts.modify())(void)
{
  return CGRectMake;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfAmbiguousPrompts.getter()
{
  return *(void *)(v0 + 16);
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfAmbiguousPrompts.setter(uint64_t result)
{
  *(void *)(v1 + 16) = result;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.numberOfAmbiguousPrompts.modify())(void)
{
  return CGRectMake;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingAssetCountThreshold.getter()
{
  return *(void *)(v0 + 24);
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingAssetCountThreshold.setter(uint64_t result)
{
  *(void *)(v1 + 24) = result;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingAssetCountThreshold.modify())(void)
{
  return CGRectMake;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsPassingSafetyValidation.getter()
{
  return *(void *)(v0 + 32);
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsPassingSafetyValidation.setter(uint64_t result)
{
  *(void *)(v1 + 32) = result;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsPassingSafetyValidation.modify())(void)
{
  return CGRectMake;
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingDueToSafetyException.getter()
{
  return *(void *)(v0 + 40);
}

uint64_t PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingDueToSafetyException.setter(uint64_t result)
{
  *(void *)(v1 + 40) = result;
  return result;
}

uint64_t (*PromptSuggestionSafetyValidationDiagnosticContext.numberOfPromptsFailingDueToSafetyException.modify())(void)
{
  return CGRectMake;
}

double sub_259670E00()
{
  qword_26A38FB38 = MEMORY[0x263F8EE78];
  double result = 0.0;
  unk_26A38FB40 = 0u;
  unk_26A38FB50 = 0u;
  qword_26A38FB60 = 0;
  return result;
}

uint64_t static PromptSuggestionSafetyValidationDiagnosticContext.empty.getter@<X0>(uint64_t a1@<X8>)
{
  if (qword_26A388AD8 != -1) {
    swift_once();
  }
  uint64_t v2 = qword_26A38FB60;
  *(void *)a1 = qword_26A38FB38;
  *(_OWORD *)(a1 + 8) = unk_26A38FB40;
  *(_OWORD *)(a1 + 24) = unk_26A38FB50;
  *(void *)(a1 + 40) = v2;
  return sub_259843F00();
}

uint64_t (*sub_259670EB8())(void)
{
  return CGRectMake;
}

uint64_t sub_259670EDC()
{
  return sub_25967018C();
}

uint64_t static PromptSuggestionSearchValidator.maxAssetFetchCount.getter()
{
  return 50;
}

uint64_t PromptSuggestionSearchValidator.__allocating_init(photoLibrary:safetyController:momentExpansionProcessor:momentBasedGroundingAndAssetsProvider:maxAssetFetchCount:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_259670F54(a1, a2, a3, a4, a5, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))sub_25967E7D0);
}

uint64_t PromptSuggestionSearchValidator.init(photoLibrary:safetyController:momentExpansionProcessor:momentBasedGroundingAndAssetsProvider:maxAssetFetchCount:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return sub_259670F54(a1, a2, a3, a4, a5, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))sub_25967F05C);
}

uint64_t sub_259670F54(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t (*a6)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))
{
  uint64_t v13 = *(void *)(a2 + 24);
  uint64_t v14 = *(void *)(a2 + 32);
  uint64_t v15 = __swift_mutable_project_boxed_opaque_existential_1(a2, v13);
  MEMORY[0x270FA5388](v15);
  OUTLINED_FUNCTION_233();
  uint64_t v18 = v17 - v16;
  (*(void (**)(uint64_t))(v19 + 16))(v17 - v16);
  uint64_t v20 = a6(a1, v18, a3, a4, a5, v6, v13, v14);
  __swift_destroy_boxed_opaque_existential_1(a2);
  return v20;
}

uint64_t sub_259671074(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *(void *)(v4 + 56) = a4;
  return MEMORY[0x270FA2498](sub_259671094, 0, 0);
}

uint64_t sub_259671094()
{
  OUTLINED_FUNCTION_134_7();
  OUTLINED_FUNCTION_240();
  uint64_t v1 = v0[7];
  uint64_t v2 = *(void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher + 32);
  OUTLINED_FUNCTION_187((void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher), *(void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher + 24));
  uint64_t v3 = *(void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_eventRecorder);
  v0[5] = type metadata accessor for RootEventRecorder(0);
  v0[6] = &protocol witness table for RootEventRecorder;
  v0[2] = v3;
  uint64_t v14 = *(void *)(v2 + 8) + **(int **)(v2 + 8);
  swift_retain();
  uint64_t v4 = (void *)swift_task_alloc();
  v0[8] = v4;
  *uint64_t v4 = v0;
  v4[1] = sub_2596711CC;
  OUTLINED_FUNCTION_120_3();
  OUTLINED_FUNCTION_132_0();
  return v9(v5, v6, v7, v8, v9, v10, v11, v12, v14, v2 + 8);
}

uint64_t sub_2596711CC()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  *(void *)(v3 + 72) = v0;
  swift_task_dealloc();
  if (v0)
  {
    OUTLINED_FUNCTION_13();
    return MEMORY[0x270FA2498](v7, v8, v9);
  }
  else
  {
    __swift_destroy_boxed_opaque_existential_1(v3 + 16);
    uint64_t v10 = *(uint64_t (**)(void))(v5 + 8);
    return v10();
  }
}

uint64_t sub_2596712D0()
{
  OUTLINED_FUNCTION_14();
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t PromptSuggestionSearchValidator.__allocating_init(photoLibrary:momentBasedGroundingAndAssetsProvider:maxAssetFetchCount:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = OUTLINED_FUNCTION_65_4();
  type metadata accessor for LiveGenerativeMemorySafetyController(v6);
  id v7 = v4;
  LiveGenerativeMemorySafetyController.__allocating_init(photoLibrary:)(v7);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA90);
  uint64_t v8 = swift_allocObject();
  *(_DWORD *)(v8 + 24) = 0;
  uint64_t v9 = MEMORY[0x263F8EE80];
  *(void *)(v8 + 16) = MEMORY[0x263F8EE80];
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA98);
  uint64_t v10 = swift_allocObject();
  *(_DWORD *)(v10 + 24) = 0;
  *(void *)(v10 + 16) = v9;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BAA0);
  uint64_t v11 = swift_allocObject();
  *(_DWORD *)(v11 + 24) = 0;
  *(void *)(v11 + 16) = v9;
  v19[0] = v8;
  v19[1] = v10;
  v19[2] = v11;
  type metadata accessor for MomentExpansionProcessor();
  swift_allocObject();
  uint64_t v12 = MomentExpansionProcessor.init(photoLibrary:storyGenerationCache:)((uint64_t)v7, (uint64_t)v19);
  sub_2593C2A90(v3, (uint64_t)v19, &qword_26A38FB68);
  swift_allocObject();
  uint64_t v13 = (void *)OUTLINED_FUNCTION_292();
  sub_25967E910(v13, v14, v12, v15, a3, v16);
  uint64_t v17 = OUTLINED_FUNCTION_94_7();
  sub_2593980A0(v17, &qword_26A38FB68);
  return v12;
}

id PromptSuggestionSearchValidator.validationAssetCountThreshold.getter()
{
  uint64_t v0 = self;
  return objc_msgSend(v0, sel_promptValidationAssetCountThreshold);
}

uint64_t PromptSuggestionSearchValidator.safeFallbackPrompts(_:)(uint64_t a1)
{
  v2[8] = a1;
  v2[9] = v1;
  OUTLINED_FUNCTION_7_0();
  v2[10] = v3;
  return OUTLINED_FUNCTION_145((uint64_t)sub_2596714E8);
}

uint64_t sub_2596714E8()
{
  uint64_t v59 = v1;
  v1[7] = MEMORY[0x263F8EE78];
  unint64_t v2 = v1[8];
  if (v2 >> 62)
  {
    sub_259843F00();
    uint64_t result = sub_259845460();
    uint64_t v3 = result;
  }
  else
  {
    uint64_t v3 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
    uint64_t result = sub_259843F00();
  }
  v1[11] = v3;
  if (!v3) {
    goto LABEL_17;
  }
  uint64_t v5 = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController;
  v1[12] = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_logger;
  v1[13] = v5;
  v1[14] = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_eventRecorder;
  if (v3 >= 1)
  {
    uint64_t v6 = 0;
    uint64_t v56 = MEMORY[0x263F8EE58] + 8;
    uint64_t v57 = (uint64_t)v1;
    do
    {
      uint64_t v7 = OUTLINED_FUNCTION_167_6(v6);
      if (v9) {
        id v10 = *(id *)(v8 + 8 * v7 + 32);
      }
      else {
        id v10 = (id)MEMORY[0x25A2DFA20](v7);
      }
      char v11 = OUTLINED_FUNCTION_127_8(v10);
      id v12 = v0;
      uint64_t v13 = sub_259843A50();
      os_log_type_t v14 = sub_259844B70();
      BOOL v15 = os_log_type_enabled(v13, v14);
      if (v11)
      {
        if (v15)
        {
          uint64_t v32 = OUTLINED_FUNCTION_54();
          uint64_t v33 = OUTLINED_FUNCTION_20();
          id v42 = objc_msgSend(v12, sel_description, OUTLINED_FUNCTION_209_5(v33, v34, v35, v36, v37, v38, v39, v40, v56, v57, v41).n128_f64[0]);
          uint64_t v43 = sub_2598440A0();
          unint64_t v45 = v44;

          *(void *)(v32 + 4) = sub_259356D5C(v43, v45, &v58);
          swift_bridgeObjectRelease();

          OUTLINED_FUNCTION_158_7(&dword_25934C000, v13, v14, "[Safety] Fallback prompt requires safety validation: %{sensitive}s");
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {
        }
        char v48 = (void *)(v1[9] + v1[13]);
        OUTLINED_FUNCTION_187(v48, v48[3]);
        id v49 = objc_msgSend(v12, sel_string);
        sub_2598440A0();
        uint64_t v51 = v50;

        v1[17] = v51;
        uint64_t v52 = type metadata accessor for RootEventRecorder(0);
        OUTLINED_FUNCTION_117_4(v52, (uint64_t)&protocol witness table for RootEventRecorder);
        swift_retain();
        BOOL v53 = (void *)swift_task_alloc();
        v1[18] = v53;
        void *v53 = v1;
        v53[1] = sub_259671930;
        OUTLINED_FUNCTION_84_12();
        OUTLINED_FUNCTION_132();
        __asm { BRAA            X6, X16 }
      }
      if (v15)
      {
        uint64_t v16 = OUTLINED_FUNCTION_54();
        uint64_t v17 = OUTLINED_FUNCTION_20();
        id v26 = objc_msgSend(v12, sel_description, OUTLINED_FUNCTION_173_6(v17, v18, v19, v20, v21, v22, v23, v24, v56, v57, v25).n128_f64[0]);
        sub_2598440A0();
        OUTLINED_FUNCTION_204_6();
        *(void *)(v16 + 4) = OUTLINED_FUNCTION_163_6(v27, v28, v29, v30);
        swift_bridgeObjectRelease();

        _os_log_impl(&dword_25934C000, v13, v14, "[Safety] Fallback prompt does not require safety validation: %{sensitive}s", (uint8_t *)v16, 0xCu);
        swift_arrayDestroy();
        uint64_t v1 = (void *)v57;
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
      }
      id v0 = v12;
      MEMORY[0x25A2DED30]();
      OUTLINED_FUNCTION_197_5();
      if (v31) {
        OUTLINED_FUNCTION_106_7();
      }
      sub_2598445B0();
      sub_259844530();

      uint64_t v6 = OUTLINED_FUNCTION_46_24();
    }
    while (!v9);
LABEL_17:
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_61();
    OUTLINED_FUNCTION_132();
    __asm { BRAA            X2, X16 }
  }
  __break(1u);
  return result;
}

uint64_t sub_259671930()
{
  OUTLINED_FUNCTION_247();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  *(void *)(v3 + 152) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (!v0)
  {
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v3 + 16);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

void sub_259671A50()
{
  MEMORY[0x25A2DED30](*(id *)(v0 + 128));
  id v1 = *(id *)((*(void *)(v0 + 56) & 0xFFFFFFFFFFFFFF8) + 0x10);
  if ((unint64_t)v1 >= *(void *)((*(void *)(v0 + 56) & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    OUTLINED_FUNCTION_106_7();
  }
  uint64_t v2 = *(void **)(v0 + 128);
  sub_2598445B0();
  sub_259844530();

  uint64_t v3 = OUTLINED_FUNCTION_46_24();
  if (!v4)
  {
    uint64_t v53 = MEMORY[0x263F8EE58] + 8;
    uint64_t v54 = v0;
    do
    {
      uint64_t v7 = OUTLINED_FUNCTION_167_6(v3);
      if (v4) {
        id v9 = *(id *)(v8 + 8 * v7 + 32);
      }
      else {
        id v9 = (id)MEMORY[0x25A2DFA20](v7);
      }
      char v10 = OUTLINED_FUNCTION_127_8(v9);
      id v11 = v1;
      id v12 = sub_259843A50();
      os_log_type_t v13 = sub_259844B70();
      BOOL v14 = os_log_type_enabled(v12, v13);
      if (v10)
      {
        if (v14)
        {
          uint64_t v31 = OUTLINED_FUNCTION_54();
          uint64_t v32 = OUTLINED_FUNCTION_20();
          id v41 = objc_msgSend(v11, sel_description, OUTLINED_FUNCTION_209_5(v32, v33, v34, v35, v36, v37, v38, v39, v53, v54, v40).n128_f64[0]);
          uint64_t v42 = sub_2598440A0();
          unint64_t v44 = v43;

          *(void *)(v31 + 4) = sub_259356D5C(v42, v44, &v55);
          swift_bridgeObjectRelease();

          OUTLINED_FUNCTION_158_7(&dword_25934C000, v12, v13, "[Safety] Fallback prompt requires safety validation: %{sensitive}s");
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {
        }
        unint64_t v45 = (void *)(*(void *)(v0 + 72) + *(void *)(v0 + 104));
        OUTLINED_FUNCTION_187(v45, v45[3]);
        id v46 = objc_msgSend(v11, sel_string);
        sub_2598440A0();
        uint64_t v48 = v47;

        *(void *)(v0 + 136) = v48;
        uint64_t v49 = type metadata accessor for RootEventRecorder(0);
        OUTLINED_FUNCTION_117_4(v49, (uint64_t)&protocol witness table for RootEventRecorder);
        swift_retain();
        uint64_t v50 = (void *)swift_task_alloc();
        *(void *)(v0 + 144) = v50;
        *uint64_t v50 = v0;
        v50[1] = sub_259671930;
        OUTLINED_FUNCTION_84_12();
        OUTLINED_FUNCTION_132();
        __asm { BRAA            X6, X16 }
      }
      if (v14)
      {
        uint64_t v15 = OUTLINED_FUNCTION_54();
        uint64_t v16 = OUTLINED_FUNCTION_20();
        id v25 = objc_msgSend(v11, sel_description, OUTLINED_FUNCTION_173_6(v16, v17, v18, v19, v20, v21, v22, v23, v53, v54, v24).n128_f64[0]);
        sub_2598440A0();
        OUTLINED_FUNCTION_204_6();
        *(void *)(v15 + 4) = OUTLINED_FUNCTION_163_6(v26, v27, v28, v29);
        swift_bridgeObjectRelease();

        _os_log_impl(&dword_25934C000, v12, v13, "[Safety] Fallback prompt does not require safety validation: %{sensitive}s", (uint8_t *)v15, 0xCu);
        swift_arrayDestroy();
        uint64_t v0 = v54;
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
      }
      id v1 = v11;
      MEMORY[0x25A2DED30]();
      OUTLINED_FUNCTION_197_5();
      if (v30) {
        OUTLINED_FUNCTION_106_7();
      }
      sub_2598445B0();
      sub_259844530();

      uint64_t v3 = OUTLINED_FUNCTION_46_24();
    }
    while (!v4);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_61();
  OUTLINED_FUNCTION_132();
  __asm { BRAA            X2, X16 }
}

void sub_259671E5C()
{
  id v1 = (void *)v0[16];
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 2));
  id v2 = v1;
  uint64_t v3 = sub_259843A50();
  os_log_type_t v4 = sub_259844B50();
  BOOL v5 = os_log_type_enabled(v3, v4);
  uint64_t v6 = (void *)v0[19];
  uint64_t v7 = (void *)v0[16];
  if (v5)
  {
    uint64_t v8 = OUTLINED_FUNCTION_54();
    uint64_t v52 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v8 = 136642819;
    id v9 = objc_msgSend(v7, sel_description);
    sub_2598440A0();

    uint64_t v10 = OUTLINED_FUNCTION_153_7();
    *(void *)(v8 + 4) = sub_259356D5C(v10, v11, v12);
    swift_bridgeObjectRelease();

    _os_log_impl(&dword_25934C000, v3, v4, "[Safety] Fallback prompt didn't pass safety validation: %{sensitive}s", (uint8_t *)v8, 0xCu);
    OUTLINED_FUNCTION_93_10();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
  }
  uint64_t v13 = OUTLINED_FUNCTION_46_24();
  if (!v14)
  {
    uint64_t v17 = v0 + 7;
    uint64_t v18 = MEMORY[0x263F8EE78];
    uint64_t v51 = v0;
    do
    {
      uint64_t v19 = OUTLINED_FUNCTION_167_6(v13);
      if (v14) {
        id v21 = *(id *)(v20 + 8 * v19 + 32);
      }
      else {
        id v21 = (id)MEMORY[0x25A2DFA20](v19);
      }
      uint64_t v22 = v21;
      v0[16] = v21;
      char v23 = sub_2596723D4(v21, v18);
      id v24 = v22;
      id v25 = sub_259843A50();
      os_log_type_t v26 = sub_259844B70();
      BOOL v27 = os_log_type_enabled(v25, v26);
      if (v23)
      {
        if (v27)
        {
          uint64_t v37 = OUTLINED_FUNCTION_54();
          uint64_t v52 = OUTLINED_FUNCTION_20();
          *(_DWORD *)uint64_t v37 = 136642819;
          id v38 = objc_msgSend(v24, sel_description);
          uint64_t v39 = sub_2598440A0();
          unint64_t v41 = v40;

          *(void *)(v37 + 4) = sub_259356D5C(v39, v41, &v52);
          swift_bridgeObjectRelease();

          _os_log_impl(&dword_25934C000, v25, v26, "[Safety] Fallback prompt requires safety validation: %{sensitive}s", (uint8_t *)v37, 0xCu);
          OUTLINED_FUNCTION_93_10();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {
        }
        uint64_t v42 = v0[14];
        uint64_t v43 = v0[9];
        OUTLINED_FUNCTION_187((void *)(v43 + v0[13]), *(void *)(v43 + v0[13] + 24));
        id v44 = objc_msgSend(v24, sel_string);
        sub_2598440A0();
        uint64_t v46 = v45;

        v0[17] = v46;
        uint64_t v47 = *(void *)(v43 + v42);
        v0[5] = type metadata accessor for RootEventRecorder(0);
        v0[6] = &protocol witness table for RootEventRecorder;
        v0[2] = v47;
        swift_retain();
        uint64_t v48 = (void *)swift_task_alloc();
        v0[18] = v48;
        *uint64_t v48 = v0;
        v48[1] = sub_259671930;
        OUTLINED_FUNCTION_23_0();
        __asm { BRAA            X6, X16 }
      }
      if (v27)
      {
        uint64_t v28 = OUTLINED_FUNCTION_54();
        uint64_t v52 = OUTLINED_FUNCTION_20();
        *(_DWORD *)uint64_t v28 = 136642819;
        id v29 = objc_msgSend(v24, sel_description);
        char v30 = v17;
        uint64_t v31 = v18;
        uint64_t v32 = sub_2598440A0();
        unint64_t v34 = v33;

        uint64_t v35 = v32;
        uint64_t v18 = v31;
        uint64_t v17 = v30;
        *(void *)(v28 + 4) = sub_259356D5C(v35, v34, &v52);
        swift_bridgeObjectRelease();

        OUTLINED_FUNCTION_158_7(&dword_25934C000, v25, v26, "[Safety] Fallback prompt does not require safety validation: %{sensitive}s");
        swift_arrayDestroy();
        uint64_t v0 = v51;
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
      }
      id v36 = v24;
      MEMORY[0x25A2DED30]();
      if (*(void *)((*v17 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*v17 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_259844560();
      }
      OUTLINED_FUNCTION_150();
      sub_2598445B0();
      sub_259844530();

      uint64_t v13 = OUTLINED_FUNCTION_46_24();
    }
    while (!v14);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_61();
  OUTLINED_FUNCTION_23_0();
  __asm { BRAA            X2, X16 }
}

uint64_t sub_2596723D4(void *a1, uint64_t a2)
{
  uint64_t v14 = MEMORY[0x263F8EE88];
  id v4 = (id)*MEMORY[0x263F15120];
  id v5 = objc_msgSend(a1, sel_length);
  uint64_t v6 = swift_allocObject();
  *(void *)(v6 + 16) = &v14;
  uint64_t v7 = swift_allocObject();
  *(void *)(v7 + 16) = sub_259545D34;
  *(void *)(v7 + 24) = v6;
  aBlock[4] = sub_2593BDC88;
  aBlock[5] = v7;
  aBlock[0] = MEMORY[0x263EF8330];
  aBlock[1] = 1107296256;
  aBlock[2] = sub_259740FA8;
  aBlock[3] = &block_descriptor_30;
  uint64_t v8 = _Block_copy(aBlock);
  swift_retain();
  swift_release();
  objc_msgSend(a1, sel_enumerateAttribute_inRange_options_usingBlock_, v4, 0, v5, 0, v8);

  _Block_release(v8);
  LOBYTE(v4) = swift_isEscapingClosureAtFileLocation();
  uint64_t result = swift_release();
  if (v4)
  {
    __break(1u);
  }
  else
  {
    uint64_t v10 = v14;
    swift_release();
    uint64_t v11 = *(void *)(v10 + 16);
    swift_bridgeObjectRelease();
    if (v11)
    {
      return 1;
    }
    else
    {
      uint64_t v12 = *(void *)(static StoryGenerationUtilities.queryTokenPersonUUIDs(from:)(a2) + 16);
      swift_bridgeObjectRelease();
      return v12 != 0;
    }
  }
  return result;
}

uint64_t PromptSuggestionSearchValidator.searchFallbackPrompts(_:progressReporter:)()
{
  OUTLINED_FUNCTION_14();
  uint64_t v3 = v2;
  v1[3] = v4;
  v1[4] = v0;
  v1[2] = v2;
  id v5 = (void *)swift_task_alloc();
  v1[5] = v5;
  void *v5 = v1;
  v5[1] = sub_259672648;
  return PromptSuggestionSearchValidator.safeFallbackPrompts(_:)(v3);
}

uint64_t sub_259672648()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_1_74();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  *uint64_t v6 = *v1;
  *(void *)(v5 + 48) = v3;
  swift_task_dealloc();
  uint64_t v8 = (void *)swift_task_alloc();
  *(void *)(v5 + 56) = v8;
  void *v8 = v7;
  v8[1] = sub_25967278C;
  uint64_t v9 = *(void *)(v0 + 24);
  return sub_259672BE4(v3, v9, 0, 1, 0);
}

uint64_t sub_25967278C()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  uint64_t v4 = *v1;
  OUTLINED_FUNCTION_3();
  void *v5 = v4;
  *(void *)(v7 + 64) = v6;
  *(void *)(v7 + 72) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_259672888()
{
  uint64_t v34 = v0;
  unint64_t v1 = *(void *)(v0 + 16);
  if (v1 >> 62) {
    goto LABEL_30;
  }
  uint64_t v2 = *(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  sub_259843F00();
  if (!v2)
  {
LABEL_31:
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_61_9();
    OUTLINED_FUNCTION_23_0();
    __asm { BRAA            X2, X16 }
  }
LABEL_3:
  uint64_t v3 = 0;
  unint64_t v4 = v1 & 0xC000000000000001;
  uint64_t v31 = *(void *)(v32 + 16) + 32;
  uint64_t v5 = *(void **)(v32 + 64);
  while (1)
  {
    if (v4) {
      id v6 = (id)MEMORY[0x25A2DFA20](v3, *(void *)(v32 + 16));
    }
    else {
      id v6 = *(id *)(v31 + 8 * v3);
    }
    id v7 = v6;
    uint64_t v8 = v3 + 1;
    if (__OFADD__(v3, 1))
    {
      __break(1u);
LABEL_28:
      __break(1u);
LABEL_29:
      __break(1u);
LABEL_30:
      OUTLINED_FUNCTION_71_1();
      uint64_t v2 = sub_259845460();
      if (!v2) {
        goto LABEL_31;
      }
      goto LABEL_3;
    }
    if (!v5[2]) {
      break;
    }
    unint64_t v1 = (unint64_t)v5;
    sub_25939D5A0();
    if ((v9 & 1) == 0) {
      break;
    }
LABEL_22:

    ++v3;
    if (v8 == v2) {
      goto LABEL_31;
    }
  }
  id v10 = v7;
  swift_isUniquelyReferenced_nonNull_native();
  unint64_t v33 = v5;
  unint64_t v1 = (unint64_t)v5;
  sub_25939D5A0();
  if (__OFADD__(v5[2], (v12 & 1) == 0)) {
    goto LABEL_28;
  }
  unint64_t v13 = v11;
  char v14 = v12;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B28);
  unint64_t v1 = (unint64_t)&v33;
  char v15 = sub_259845350();
  uint64_t v5 = v33;
  if ((v15 & 1) == 0)
  {
LABEL_14:
    if (v14)
    {
      uint64_t v18 = v5[7];
      swift_bridgeObjectRelease();
      *(void *)(v18 + 8 * v13) = MEMORY[0x263F8EE78];
    }
    else
    {
      OUTLINED_FUNCTION_48_6((uint64_t)&v5[v13 >> 6]);
      *(void *)(v5[6] + 8 * v13) = v10;
      *(void *)(v5[7] + 8 * v13) = MEMORY[0x263F8EE78];
      uint64_t v19 = v5[2];
      BOOL v20 = __OFADD__(v19, 1);
      uint64_t v21 = v19 + 1;
      if (v20) {
        goto LABEL_29;
      }
      uint64_t v5[2] = v21;
      id v22 = v10;
    }
    swift_bridgeObjectRelease();

    id v7 = v10;
    unint64_t v1 = sub_259843A50();
    os_log_type_t v23 = sub_259844B70();
    if (os_log_type_enabled((os_log_t)v1, v23))
    {
      uint64_t v24 = OUTLINED_FUNCTION_54();
      id v25 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v24 = 138412290;
      *(void *)(v24 + 4) = v7;
      *id v25 = v7;
      _os_log_impl(&dword_25934C000, (os_log_t)v1, v23, "[Safety] No search results for prompt: %@", (uint8_t *)v24, 0xCu);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
      os_log_type_t v26 = (void *)v1;
    }
    else
    {

      os_log_type_t v26 = v7;
      id v7 = (id)v1;
    }

    goto LABEL_22;
  }
  unint64_t v1 = (unint64_t)v33;
  sub_25939D5A0();
  if ((v14 & 1) == (v17 & 1))
  {
    unint64_t v13 = v16;
    goto LABEL_14;
  }
  sub_25935633C(0, (unint64_t *)&qword_26A389B20);
  OUTLINED_FUNCTION_23_0();
  return sub_2598457D0();
}

uint64_t sub_259672BCC()
{
  return (*(uint64_t (**)(void))(v0 + 8))();
}

uint64_t sub_259672BE4(uint64_t a1, uint64_t a2, char a3, char a4, uint64_t a5)
{
  *(void *)(v6 + 280) = a5;
  *(void *)(v6 + 288) = v5;
  *(unsigned char *)(v6 + 353) = a4;
  *(unsigned char *)(v6 + 352) = a3;
  *(void *)(v6 + 264) = a1;
  *(void *)(v6 + 272) = a2;
  return MEMORY[0x270FA2498](sub_259672C10, 0, 0);
}

uint64_t sub_259672C10()
{
  unint64_t v3 = *(void *)(v1 + 264);
  if (v3 >> 62)
  {
    OUTLINED_FUNCTION_71_1();
    uint64_t v4 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v4 = *(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  *(void *)(v1 + 296) = v4;
  if (v4 < 1)
  {
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    sub_259683150();
    sub_259843EE0();
    OUTLINED_FUNCTION_61();
    OUTLINED_FUNCTION_170();
    __asm { BRAA            X2, X16 }
  }
  OUTLINED_FUNCTION_157_6(*(void **)(v1 + 272));
  if (v0)
  {
    OUTLINED_FUNCTION_15_1();
    OUTLINED_FUNCTION_170();
    __asm { BRAA            X1, X16 }
  }
  unint64_t v9 = *(void *)(v1 + 264);
  *(void *)(v1 + 304) = MEMORY[0x263F8EE80];
  *(void *)(v1 + 312) = 10;
  *(unsigned char *)(v1 + 354) = 0;
  if (*(uint64_t *)(v1 + 296) >= 10) {
    uint64_t v10 = 10;
  }
  else {
    uint64_t v10 = *(void *)(v1 + 296);
  }
  if (v10 < 0)
  {
    __break(1u);
    goto LABEL_41;
  }
  if (v9 >> 62)
  {
    sub_259843F00();
    unint64_t v0 = sub_259845460();
    swift_bridgeObjectRelease();
    if ((v0 & 0x8000000000000000) != 0)
    {
LABEL_42:
      __break(1u);
LABEL_43:
      __break(1u);
      goto LABEL_44;
    }
    unint64_t v0 = *(void *)(v1 + 264);
    sub_259843F00();
    uint64_t v11 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v11 = *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  if (v11 < v10)
  {
LABEL_41:
    __break(1u);
    goto LABEL_42;
  }
  unint64_t v12 = *(void *)(v1 + 264);
  if (v10 && (v12 & 0xC000000000000001) != 0)
  {
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    uint64_t v13 = 0;
    do
    {
      uint64_t v14 = v13 + 1;
      sub_2598451A0();
      uint64_t v13 = v14;
    }
    while (v10 != v14);
    unint64_t v12 = *(void *)(v1 + 264);
  }
  if (v12 >> 62)
  {
    sub_259843F00();
    sub_259845470();
    uint64_t v2 = v15;
    unint64_t v0 = v16;
    swift_bridgeObjectRelease();
    if ((v0 & 1) == 0)
    {
LABEL_29:
      uint64_t v17 = OUTLINED_FUNCTION_3_26();
      sub_25953D954(v17, v18, v2, v0);
      uint64_t v20 = v19;
      goto LABEL_36;
    }
  }
  else
  {
    unint64_t v0 = (2 * v10) | 1;
    sub_259843F00();
    uint64_t v2 = 0;
  }
  sub_259845770();
  swift_unknownObjectRetain_n();
  uint64_t v21 = swift_dynamicCastClass();
  if (!v21)
  {
    swift_unknownObjectRelease();
    uint64_t v21 = MEMORY[0x263F8EE78];
  }
  uint64_t v22 = *(void *)(v21 + 16);
  swift_release();
  if (__OFSUB__(v0 >> 1, v2)) {
    goto LABEL_43;
  }
  if (v22 != (v0 >> 1) - v2)
  {
LABEL_44:
    swift_unknownObjectRelease();
    goto LABEL_29;
  }
  uint64_t v20 = swift_dynamicCastClass();
  if (!v20)
  {
    swift_unknownObjectRelease();
    uint64_t v20 = MEMORY[0x263F8EE78];
  }
LABEL_36:
  *(void *)(v1 + 320) = v20;
  os_log_type_t v23 = *(void **)(v1 + 272);
  swift_unknownObjectRelease();
  __swift_project_boxed_opaque_existential_1(v23, v23[3]);
  sub_259843570();
  uint64_t v24 = (void *)swift_task_alloc();
  *(void *)(v1 + 328) = v24;
  *uint64_t v24 = v1;
  v24[1] = sub_259673004;
  OUTLINED_FUNCTION_170();
  return sub_259679990(v25, v26, v27, v28, v29);
}

uint64_t sub_259673004()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_1_74();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_3();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  *(void *)(v3 + 336) = v7;
  *(void *)(v3 + 344) = v0;
  swift_task_dealloc();
  if (v0) {
    swift_bridgeObjectRelease();
  }
  swift_release();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_25967311C()
{
  uint64_t v2 = *(void *)(v0 + 336);
  uint64_t v3 = *(void *)(v0 + 304);
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *(void *)(v0 + 240) = v3;
  unint64_t v5 = v0 + 240;
  sub_259730A2C((void *)(v0 + 16));
  long long v6 = *(_OWORD *)(v0 + 32);
  *(_OWORD *)(v0 + 72) = *(_OWORD *)(v0 + 16);
  *(_OWORD *)(v0 + 88) = v6;
  *(_OWORD *)(v0 + 104) = *(_OWORD *)(v0 + 48);
  *(void *)(v0 + 120) = *(void *)(v0 + 64);
  sub_259843F00();
  sub_25967E64C();
  uint64_t v93 = v8;
  uint64_t v9 = *(void *)(v0 + 304);
  if (v7)
  {
    uint64_t v88 = v0 + 128;
    uint64_t v1 = v0 + 224;
    uint64_t v10 = (uint64_t *)(v0 + 248);
    uint64_t v11 = (uint64_t *)(v0 + 256);
    do
    {
      uint64_t v92 = v7;
      sub_25939D5A0();
      unint64_t v13 = v12;
      OUTLINED_FUNCTION_130();
      uint64_t v17 = v15 + v16;
      if (__OFADD__(v15, v16))
      {
        __break(1u);
LABEL_74:
        __break(1u);
LABEL_75:
        __break(1u);
        goto LABEL_76;
      }
      uint64_t v2 = v14;
      if (*(void *)(v9 + 24) >= v17)
      {
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B28);
          sub_259845360();
        }
      }
      else
      {
        sub_259730110(v17, isUniquelyReferenced_nonNull_native & 1);
        sub_25939D5A0();
        OUTLINED_FUNCTION_40_2();
        if (!v19)
        {
          sub_25935633C(0, (unint64_t *)&qword_26A389B20);
          OUTLINED_FUNCTION_42();
          return sub_2598457D0();
        }
        unint64_t v13 = v18;
      }
      uint64_t v20 = *(void *)v5;
      uint64_t v21 = v93;
      uint64_t v91 = *(void *)v5;
      if (v2)
      {
        uint64_t v22 = *(void *)(*(void *)(v20 + 56) + 8 * v13);
        swift_bridgeObjectRetain_n();
        uint64_t v23 = sub_259844950();
        uint64_t v24 = v22;
        *uint64_t v11 = v23;
        uint64_t v25 = *(void *)(v22 + 16);
        if (v25)
        {
          uint64_t v26 = v24 + 40;
          do
          {
            sub_259843F00();
            OUTLINED_FUNCTION_211();
            sub_2596D4E7C(v27, v28, v29, v30, v31, v32, v33, v34, v88, v89);
            swift_bridgeObjectRelease();
            v26 += 16;
            --v25;
          }
          while (v25);
          swift_bridgeObjectRelease();
          uint64_t v23 = *v11;
          unint64_t v5 = v0 + 240;
          uint64_t v21 = v93;
        }
        else
        {
          swift_bridgeObjectRelease();
        }
        *uint64_t v10 = v23;
        uint64_t v39 = *(void *)(v21 + 16);
        if (v39)
        {
          sub_259843F00();
          uint64_t v40 = v21 + 40;
          do
          {
            sub_259843F00();
            OUTLINED_FUNCTION_211();
            sub_2596D4E7C(v41, v42, v43, v44, v45, v46, v47, v48, v88, v89);
            swift_bridgeObjectRelease();
            v40 += 16;
            --v39;
          }
          while (v39);
          swift_bridgeObjectRelease();
          uint64_t v23 = *v10;
          unint64_t v5 = v0 + 240;
        }
        uint64_t v2 = *(void *)(v23 + 16);
        if (v2)
        {
          __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
          uint64_t v49 = (void *)swift_allocObject();
          size_t v50 = _swift_stdlib_malloc_size_0(v49);
          v49[2] = v2;
          v49[3] = 2 * ((uint64_t)(v50 - 32) / 16);
          sub_2595416D4();
          unint64_t v5 = *(void *)(v0 + 128);
          uint64_t v90 = v51;
          uint64_t v89 = *(void *)(v0 + 160);
          sub_259843F00();
          sub_25940CF64();
          if (v90 != v2) {
            goto LABEL_75;
          }
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();

          unint64_t v5 = v0 + 240;
        }
        else
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();

          uint64_t v49 = (void *)MEMORY[0x263F8EE78];
        }
        uint64_t v52 = *(void *)(v91 + 56);
        swift_bridgeObjectRelease();
        *(void *)(v52 + 8 * v13) = v49;
      }
      else
      {
        OUTLINED_FUNCTION_48_6(v20 + 8 * (v13 >> 6));
        *(void *)(v35[6] + 8 * v13) = v92;
        *(void *)(v35[7] + 8 * v13) = v93;
        uint64_t v36 = v35[2];
        BOOL v37 = __OFADD__(v36, 1);
        uint64_t v38 = v36 + 1;
        if (v37) {
          goto LABEL_74;
        }
        v35[2] = v38;
      }
      sub_25967E64C();
      uint64_t v93 = v53;
      char isUniquelyReferenced_nonNull_native = 1;
      uint64_t v9 = v91;
    }
    while (v7);
  }
  uint64_t v54 = v9;
  unint64_t v55 = v5 + 112;
  uint64_t v56 = v5 - 72;
  unint64_t v5 = *(unsigned __int8 *)(v5 + 114);
  uint64_t v57 = *(void *)(v0 + 312);
  uint64_t v2 = *(void *)(v0 + 296);
  swift_bridgeObjectRelease();
  sub_25940CF64();
  swift_release();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v56);
  if ((v5 & 1) != 0 || v57 >= v2)
  {
    uint64_t v62 = *(void *)(v0 + 344);
    __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 272), *(void *)(*(void *)(v0 + 272) + 24));
    sub_2598435E0();
    if (v62)
    {
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_15_1();
      OUTLINED_FUNCTION_42();
      __asm { BRAA            X1, X16 }
    }
    OUTLINED_FUNCTION_61_9();
    OUTLINED_FUNCTION_42();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v58 = *(void *)(v0 + 312);
  uint64_t v59 = v58 + 10;
  BOOL v60 = __OFADD__(v58, 10);
  *(void *)(v0 + 304) = v54;
  *(void *)(v0 + 312) = v59;
  *(unsigned char *)(v55 + 2) = v60;
  if (v58 > 0x7FFFFFFFFFFFFFF5)
  {
LABEL_76:
    __break(1u);
LABEL_77:
    __break(1u);
    goto LABEL_78;
  }
  if (*(void *)(v0 + 296) >= v59) {
    uint64_t v61 = v58 + 10;
  }
  else {
    uint64_t v61 = *(void *)(v0 + 296);
  }
  if (v61 < v58) {
    goto LABEL_77;
  }
  uint64_t v2 = *(void *)(v0 + 264);
  if ((unint64_t)v2 >> 62)
  {
    sub_259843F00();
    unint64_t v5 = sub_259845460();
    swift_bridgeObjectRelease();
    if ((uint64_t)v5 >= v58)
    {
      unint64_t v5 = *(void *)(v0 + 264);
      sub_259843F00();
      uint64_t v2 = sub_259845460();
      swift_bridgeObjectRelease();
      goto LABEL_50;
    }
LABEL_78:
    __break(1u);
    goto LABEL_79;
  }
  uint64_t v2 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (v2 < v58) {
    goto LABEL_78;
  }
LABEL_50:
  if (v2 < v61)
  {
LABEL_79:
    __break(1u);
    goto LABEL_80;
  }
  unint64_t v67 = *(void *)(v0 + 264);
  if (v58 != v61 && (v67 & 0xC000000000000001) != 0)
  {
    if (v58 >= (unint64_t)v61)
    {
LABEL_80:
      __break(1u);
      goto LABEL_81;
    }
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    uint64_t v68 = v58;
    do
    {
      uint64_t v69 = v68 + 1;
      sub_2598451A0();
      uint64_t v68 = v69;
    }
    while (v61 != v69);
    unint64_t v67 = *(void *)(v0 + 264);
  }
  if (!(v67 >> 62))
  {
    unint64_t v5 = (2 * v61) | 1;
    uint64_t v2 = v67 & 0xFFFFFFFFFFFFFF8;
    uint64_t v70 = (v67 & 0xFFFFFFFFFFFFFF8) + 32;
    sub_259843F00();
    uint64_t v1 = v58;
    goto LABEL_61;
  }
  sub_259843F00();
  uint64_t v2 = sub_259845470();
  uint64_t v70 = v71;
  uint64_t v1 = v72;
  unint64_t v5 = v73;
  swift_bridgeObjectRelease();
  if (v5)
  {
LABEL_61:
    uint64_t v93 = v70;
    sub_259845770();
    swift_unknownObjectRetain_n();
    uint64_t v76 = swift_dynamicCastClass();
    if (!v76)
    {
      swift_unknownObjectRelease();
      uint64_t v76 = MEMORY[0x263F8EE78];
    }
    uint64_t v77 = *(void *)(v76 + 16);
    swift_release();
    if (!__OFSUB__(v5 >> 1, v1))
    {
      if (v77 == (v5 >> 1) - v1)
      {
        uint64_t v75 = swift_dynamicCastClass();
        if (!v75)
        {
          swift_unknownObjectRelease();
          uint64_t v75 = MEMORY[0x263F8EE78];
        }
        goto LABEL_67;
      }
      goto LABEL_82;
    }
LABEL_81:
    __break(1u);
LABEL_82:
    swift_unknownObjectRelease();
    uint64_t v70 = v93;
  }
  sub_25953D954(v2, v70, v1, v5);
  uint64_t v75 = v74;
LABEL_67:
  *(void *)(v0 + 320) = v75;
  BOOL v78 = *(void **)(v0 + 272);
  swift_unknownObjectRelease();
  __swift_project_boxed_opaque_existential_1(v78, v78[3]);
  sub_259843570();
  uint64_t v79 = (void *)swift_task_alloc();
  *(void *)(v0 + 328) = v79;
  *uint64_t v79 = v0;
  v79[1] = sub_259673004;
  OUTLINED_FUNCTION_42();
  return sub_259679990(v80, v81, v82, v83, v84);
}

uint64_t sub_2596738D8()
{
  OUTLINED_FUNCTION_14();
  __swift_destroy_boxed_opaque_existential_1(v0 + 168);
  uint64_t v1 = *(uint64_t (**)(void))(v0 + 8);
  return v1();
}

uint64_t PromptSuggestionSearchValidator.searchSuggestedPromptsWithLLMQU(_:progressReporter:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[143] = v3;
  v4[142] = a3;
  v4[141] = a2;
  v4[140] = a1;
  OUTLINED_FUNCTION_7_0();
  v4[144] = v5;
  return OUTLINED_FUNCTION_145((uint64_t)sub_25967396C);
}

void *sub_25967396C()
{
  uint64_t v47 = v2;
  *(void *)(v2 + 1160) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_logger;
  sub_259843F00();
  uint64_t v5 = sub_259843A50();
  os_log_type_t v6 = sub_259844B70();
  if (OUTLINED_FUNCTION_218(v6))
  {
    uint64_t v1 = v2 + 1112;
    uint64_t v7 = *(void *)(v2 + 1128);
    uint64_t v3 = (uint8_t *)OUTLINED_FUNCTION_54();
    *(_DWORD *)uint64_t v3 = 134217984;
    *(void *)(v2 + 1112) = *(void *)(v7 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v5, v0, "[Safety] QU validation of prompts:%ld", v3, 0xCu);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  uint64_t v8 = *(void **)(v2 + 1136);
  *(void *)(v2 + 1168) = *(void *)(*(void *)(v2 + 1128) + 16);
  OUTLINED_FUNCTION_157_6(v8);
  if (v1) {
    goto LABEL_5;
  }
  uint64_t v11 = *(void *)(v2 + 1128);
  uint64_t v12 = MEMORY[0x263F8EE78];
  *(void *)(v2 + 1016) = MEMORY[0x263F8EE78];
  *(void *)(v2 + 856) = v11;
  *(_OWORD *)(v2 + 864) = 0u;
  *(void *)(v2 + 1176) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_queryGenerator;
  *(void *)(v2 + 1184) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_eventRecorder;
  *(void *)(v2 + 1192) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController;
  *(void *)(v2 + 1200) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetySession;
  *(void *)(v2 + 1208) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyGenerationCache;
  *(void *)(v2 + 1216) = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentExpansionProcessor;
  *(_OWORD *)(v2 + 1224) = 0u;
  *(_OWORD *)(v2 + 1240) = 0u;
  sub_259843F00();
  sub_259670014(v2 + 16);
  uint64_t v13 = *(void *)(v2 + 16);
  OUTLINED_FUNCTION_188_4();
  uint64_t v14 = *(void *)(v2 + 56);
  *(void *)(v2 + 1280) = *(void *)(v2 + 48);
  *(void *)(v2 + 1288) = v14;
  uint64_t v15 = *(void *)(v2 + 72);
  *(void *)(v2 + 1296) = v15;
  *(void *)(v2 + 1312) = OUTLINED_FUNCTION_186_6().n128_u64[0];
  uint64_t v17 = *(void **)(v2 + 1136);
  if (!v3)
  {
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_146_6();
    sub_2598435E0();
    if (!v12)
    {
      sub_259843F00();
      uint64_t v35 = sub_259843A50();
      os_log_type_t v36 = sub_259844B70();
      if (OUTLINED_FUNCTION_91(v36))
      {
        uint64_t v3 = (uint8_t *)(v2 + 1008);
        BOOL v37 = (uint8_t *)OUTLINED_FUNCTION_54();
        *(_DWORD *)BOOL v37 = 134217984;
        OUTLINED_FUNCTION_8_58();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_25934C000, v35, (os_log_type_t)v13, "Safety Received results for prompts:%ld", v37, 0xCu);
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_bridgeObjectRelease();
      }
      uint64_t v38 = *(void *)(v2 + 1240);
      long long v44 = *(_OWORD *)(v2 + 1224);
      OUTLINED_FUNCTION_71_14();
      OUTLINED_FUNCTION_14_42();
      qword_259876018 = (uint64_t)&type metadata for PromptSuggestionSafetyValidationDiagnosticContext;
      unk_259876020 = &protocol witness table for PromptSuggestionSafetyValidationDiagnosticContext;
      uint64_t v39 = OUTLINED_FUNCTION_23_19();
      qword_259876000 = v39;
      *(void *)(v39 + 16) = 0;
      *(void *)(v39 + 24) = v3;
      *(_OWORD *)(v39 + 32) = v44;
      *(void *)(v39 + 48) = v38;
      *(void *)(v39 + 56) = 0;
      OUTLINED_FUNCTION_6_35();
      OUTLINED_FUNCTION_90_12();
      __asm { BRAA            X2, X16 }
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_5:
    OUTLINED_FUNCTION_15_1();
    OUTLINED_FUNCTION_90_12();
    __asm { BRAA            X1, X16 }
  }
  uint64_t v42 = v16;
  OUTLINED_FUNCTION_184_6();
  *(void *)(v2 + 200) = v18;
  *(void *)(v2 + 208) = v19;
  *(void *)(v2 + 216) = v20;
  OUTLINED_FUNCTION_44_24(v21);
  *(void *)(v2 + 232) = v15;
  *(void *)(v2 + 240) = v4;
  OUTLINED_FUNCTION_103_8(v22);
  uint64_t result = __swift_project_boxed_opaque_existential_1(v17, v17[3]);
  if (__OFADD__(v13, 1))
  {
    __break(1u);
  }
  else
  {
    __src = (void *)(v2 + 200);
    uint64_t v24 = v2 + 424;
    OUTLINED_FUNCTION_62_15();
    sub_259843570();
    OUTLINED_FUNCTION_125_8((void *)(v2 + 424), *(void *)(v2 + 448));
    sub_259843590();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_25947F554(v15);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_25947F554(v15);
    uint64_t v25 = sub_259843A50();
    os_log_type_t v26 = sub_259844B70();
    if (os_log_type_enabled(v25, v26))
    {
      uint64_t v24 = v2 + 1104;
      uint64_t v27 = OUTLINED_FUNCTION_21_0();
      uint64_t v45 = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v27 = 136315395;
      sub_259843F00();
      *(void *)(v2 + 1096) = sub_259356D5C(v42, (unint64_t)v3, &v45);
      sub_259844E10();
      OUTLINED_FUNCTION_140_5();
      *(_WORD *)(v27 + 12) = 2081;
      memcpy(__dst, __src, sizeof(__dst));
      uint64_t v28 = QueryAnnotation.description.getter();
      *(void *)(v2 + 1104) = sub_259356D5C(v28, v29, &v45);
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      sub_25947ED9C(v15);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_83_12();
      OUTLINED_FUNCTION_191_6(&dword_25934C000, v25, v26, "[Safety] Validating prompt with id %s with annotation %{private}s");
      OUTLINED_FUNCTION_66_16();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_193_0();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      sub_25947ED9C(v15);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      sub_25947ED9C(v15);
    }
    OUTLINED_FUNCTION_145_6();
    OUTLINED_FUNCTION_42_22();
    sub_25935633C(0, &qword_26A38D418);
    sub_25967F810();
    sub_259843F00();
    uint64_t v30 = sub_259843EE0();
    *(void *)(v2 + 1320) = *(void *)(v4 + v24);
    swift_retain();
    *(void *)(v2 + 1328) = OUTLINED_FUNCTION_170_7(__src, v30);
    swift_bridgeObjectRelease();
    swift_release();
    uint64_t v31 = OUTLINED_FUNCTION_19_34();
    *(void *)(v2 + 1336) = v31;
    OUTLINED_FUNCTION_101_9(v31, (uint64_t)&protocol witness table for RootEventRecorder);
    swift_retain();
    uint64_t v32 = swift_task_alloc();
    uint64_t v33 = (void *)OUTLINED_FUNCTION_26_31(v32);
    *uint64_t v33 = v34;
    v33[1] = sub_259674098;
    uint64_t v49 = 0;
    OUTLINED_FUNCTION_58_18();
    OUTLINED_FUNCTION_7_47();
    return (void *)QueryGenerator.resolveQueryUnderstanding(with:currentQueryTokens:previousQueryTokens:isModifiedByUser:isLLMQU:promptBindingRecipe:llmQULatency:eventRecorder:progressReporter:storyGenerationDiagnosticsContext:)();
  }
  return result;
}

uint64_t sub_259674098()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_3();
  *os_log_type_t v6 = v5;
  *(void *)(v3 + 1352) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v0) {
    swift_bridgeObjectRelease();
  }
  else {
    __swift_destroy_boxed_opaque_existential_1(v3 + 624);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_2596741B4()
{
  uint64_t v146 = v0;
  uint64_t v133 = (void *)(v0 + 424);
  uint64_t v135 = v0 + 504;
  uint64_t v1 = *(void *)(v0 + 272);
  uint64_t v2 = *(void *)(v0 + 280);
  *(void *)(v0 + 1360) = v1;
  *(void *)(v0 + 1368) = v2;
  uint64_t v3 = *(void **)(v0 + 288);
  uint64_t v4 = *(void *)(v0 + 296);
  *(void *)(v0 + 1376) = v3;
  *(void *)(v0 + 1384) = v4;
  uint64_t v5 = *(void *)(v0 + 304);
  *(void *)(v0 + 1392) = v5;
  uint64_t v6 = *(void *)(v2 + 16);
  uint64_t v129 = v5;
  __src = (void *)(v0 + 200);
  os_log_t v138 = (os_log_t)(v0 + 744);
  uint64_t v139 = v1;
  *(void *)unint64_t v136 = v4;
  unint64_t v126 = v3;
  if (v6)
  {
    uint64_t v125 = *(void *)(v0 + 312);
    char v124 = *(unsigned char *)(v0 + 320);
    swift_bridgeObjectRetain_n();
    id v7 = v3;
    uint64_t v8 = 0;
    do
    {
      char v9 = *(unsigned char *)(v2 + v8 + 96);
      uint64_t v11 = *(void *)(v2 + v8 + 80);
      uint64_t v10 = *(void *)(v2 + v8 + 88);
      char v12 = *(unsigned char *)(v2 + v8 + 72);
      char v13 = *(unsigned char *)(v2 + v8 + 48);
      uint64_t v14 = *(void *)(v2 + v8 + 40);
      long long v15 = *(_OWORD *)(v2 + v8 + 56);
      long long v16 = *(_OWORD *)(v2 + v8 + 104);
      *(void *)(v0 + 112) = *(void *)(v2 + v8 + 32);
      *(void *)(v0 + 120) = v14;
      *(unsigned char *)(v0 + 128) = v13;
      *(_OWORD *)(v0 + 136) = v15;
      *(unsigned char *)(v0 + 152) = v12;
      *(void *)(v0 + 160) = v11;
      *(void *)(v0 + 168) = v10;
      *(unsigned char *)(v0 + 176) = v9;
      *(_OWORD *)(v0 + 184) = v16;
      sub_25962DC38();
      if (v17)
      {
        OUTLINED_FUNCTION_67_0();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        id v50 = v7;
        sub_259843F00();
        uint64_t v51 = OUTLINED_FUNCTION_292();
        sub_25947F554(v51);
        sub_259843F00();
        sub_259843F00();
        id v52 = v50;
        sub_259843F00();
        sub_259843F00();
        uint64_t v53 = sub_259843A50();
        os_log_type_t log = sub_259844B70();
        BOOL v54 = os_log_type_enabled(v53, log);
        unint64_t v55 = *(void *)(v0 + 1280);
        if (v54)
        {
          uint64_t v56 = *(void *)(v0 + 1272);
          uint64_t v57 = OUTLINED_FUNCTION_21_0();
          v145[0] = OUTLINED_FUNCTION_18_1();
          *(_DWORD *)uint64_t v57 = 136380931;
          sub_259843F00();
          *(void *)(v0 + 968) = sub_259356D5C(v56, v55, v145);
          sub_259844E10();
          OUTLINED_FUNCTION_112_0();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_104_8();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_104_8();
          *(_WORD *)(v57 + 12) = 2081;
          *(void *)(v0 + 328) = v139;
          *(void *)(v0 + 336) = v2;
          *(void *)(v0 + 344) = v52;
          *(void *)(v0 + 352) = *(void *)v136;
          *(void *)(v0 + 360) = v129;
          *(void *)(v0 + 368) = v125;
          *(unsigned char *)(v0 + 376) = v124;
          uint64_t Understanding = QueryUnderstandingResult.description.getter();
          *(void *)(v0 + 992) = sub_259356D5C(Understanding, v59, v145);
          sub_259844E10();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease_n();
          OUTLINED_FUNCTION_67_0();

          swift_bridgeObjectRelease_n();
          swift_bridgeObjectRelease_n();
          _os_log_impl(&dword_25934C000, v53, log, "[Safety] Found ambiguous tokens for prompt %{private}s. QU Result: %{private}s", (uint8_t *)v57, 0x16u);
          OUTLINED_FUNCTION_66_16();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {

          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_104_8();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_104_8();
          swift_bridgeObjectRelease_n();
          OUTLINED_FUNCTION_67_0();

          swift_bridgeObjectRelease_n();
          swift_bridgeObjectRelease_n();
        }
        uint64_t v74 = *(void *)(v0 + 1016);
        os_log_type_t v36 = v52;
        if (swift_isUniquelyReferenced_nonNull_native()) {
          goto LABEL_22;
        }
        goto LABEL_50;
      }
      v8 += 88;
      --v6;
    }
    while (v6);
    swift_bridgeObjectRelease();
    uint64_t v1 = v139;
  }
  else
  {
    sub_259843F00();
    id v18 = v3;
  }
  uint64_t v132 = v0 + 464;
  uint64_t v19 = *(void *)(v0 + 1296);
  OUTLINED_FUNCTION_68_14();
  *(void *)(v0 + 1400) = static StoryGenerationUtilities.queryTokenPersonUUIDs(from:)(v2);
  sub_259843F00();
  sub_259843F00();
  OUTLINED_FUNCTION_56_13();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  OUTLINED_FUNCTION_56_13();
  sub_259843F00();
  uint64_t v20 = sub_259843A50();
  os_log_type_t v21 = sub_259844B70();
  BOOL v22 = OUTLINED_FUNCTION_52(v21);
  unint64_t v23 = *(void *)(v0 + 1280);
  if (v22)
  {
    uint64_t v120 = *(void *)(v0 + 1272);
    uint64_t v24 = OUTLINED_FUNCTION_21_0();
    v145[0] = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v24 = 136380931;
    sub_259843F00();
    *(void *)(v0 + 1080) = sub_259356D5C(v120, v23, v145);
    OUTLINED_FUNCTION_211();
    sub_259844E10();
    OUTLINED_FUNCTION_112_0();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_115_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_115_8();
    *(_WORD *)(v24 + 12) = 2048;
    *(void *)(v0 + 1088) = *(void *)(v1 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v20, (os_log_type_t)v19, "[Safety] Initial retrieval for prompt %{private}s :%ld", (uint8_t *)v24, 0x16u);
    OUTLINED_FUNCTION_93_10();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_115_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_115_8();
    swift_bridgeObjectRelease();
  }
  uint64_t v123 = *(void **)(v0 + 1352);
  uint64_t v25 = *(void *)(v0 + 1336);
  uint64_t v26 = *(void *)(v0 + 1320);
  uint64_t v27 = *(void *)(v0 + 1200);
  uint64_t v28 = *(void *)(v0 + 1144);
  unint64_t v29 = (uint64_t *)(v28 + *(void *)(v0 + 1208));
  uint64_t v30 = (void *)(v28 + *(void *)(v0 + 1192));
  uint64_t v31 = v30[3];
  uint64_t v32 = v30[4];
  __swift_project_boxed_opaque_existential_1(v30, v31);
  uint64_t v33 = *(void *)(v28 + v27);
  *(void *)(v0 + 1408) = v33;
  uint64_t v34 = *v29;
  *(void *)(v0 + 1416) = *v29;
  uint64_t v35 = v29[1];
  *(void *)(v0 + 1424) = v35;
  os_log_type_t v36 = (void *)v29[2];
  *(void *)(v0 + 1432) = v36;
  *(void *)(v0 + 880) = v34;
  *(void *)(v0 + 888) = v35;
  *(void *)(v0 + 896) = v36;
  *(void *)(v0 + 488) = v25;
  *(void *)(v0 + 496) = &protocol witness table for RootEventRecorder;
  *(void *)(v0 + 464) = v26;
  uint64_t type = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(v32 + 8);
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  type(v139, v33, v0 + 880, v132, v31, v32);
  if (!v123)
  {
    *(void *)uint64_t v137 = *(void *)(v0 + 1304);
    uint64_t v60 = *(void *)(v0 + 1296);
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v132);
    uint64_t v61 = *(void *)(v0 + 904);
    *(void *)(v0 + 1440) = v61;
    uint64_t v62 = *(void *)(v0 + 912);
    *(void *)(v0 + 1448) = v62;
    *(void *)(v0 + 920) = v61;
    *(void *)(v0 + 928) = v62;
    uint64_t v63 = SafeAssetCollection.safeAssetUUIDs.getter();
    *(void *)(v0 + 1456) = v63;
    sub_259843F00();
    sub_259843F00();
    sub_25947F554(v60);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_25947F554(v60);
    sub_259843F00();
    uint64_t v64 = sub_259843A50();
    os_log_type_t v65 = sub_259844B70();
    BOOL v66 = OUTLINED_FUNCTION_91(v65);
    uint64_t v67 = *(void *)(v0 + 1304);
    uint64_t v68 = *(void *)(v0 + 1288);
    unint64_t v69 = *(void *)(v0 + 1280);
    if (v66)
    {
      uint64_t v134 = *(void *)(v0 + 1272);
      uint64_t v70 = OUTLINED_FUNCTION_21_0();
      uint64_t v141 = OUTLINED_FUNCTION_20();
      v145[0] = v141;
      *(_DWORD *)uint64_t v70 = 136380931;
      sub_259843F00();
      *(void *)(v0 + 1064) = sub_259356D5C(v134, v69, v145);
      sub_259844E10();
      OUTLINED_FUNCTION_112_0();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_109_6();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_109_6();
      *(_WORD *)(v70 + 12) = 2048;
      uint64_t v71 = *(void *)(v63 + 16);
      swift_bridgeObjectRelease();
      *(void *)(v0 + 1072) = v71;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v64, v137[0], "[Safety] Safe assets for prompt %{private}s :%ld", (uint8_t *)v70, 0x16u);
      uint64_t v68 = v141;
      OUTLINED_FUNCTION_93_10();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_109_6();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_109_6();
      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_119_9();
    *(void *)(v0 + 608) = v67;
    *(void *)(v0 + 616) = &protocol witness table for RootEventRecorder;
    *(void *)(v0 + 584) = v68;
    swift_retain();
    unint64_t v109 = (void *)swift_task_alloc();
    *(void *)(v0 + 1464) = v109;
    void *v109 = v0;
    v109[1] = sub_2596754C0;
    OUTLINED_FUNCTION_210_4();
    OUTLINED_FUNCTION_148_7();
    __asm { BRAA            X5, X16 }
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease_n();

  swift_bridgeObjectRelease_n();
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v135);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v138);
  __swift_destroy_boxed_opaque_existential_1(v132);
  uint64_t v37 = *(void *)(v0 + 1248);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v133);
  if (__OFADD__(v37, 1)) {
    goto LABEL_49;
  }
  uint64_t v140 = v37 + 1;
  uint64_t v38 = *(void *)(v0 + 1304);
  uint64_t v39 = *(void *)(v0 + 1296);
  OUTLINED_FUNCTION_68_14();
  id v40 = v123;
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v39);
  id v41 = v123;
  uint64_t v42 = sub_259843A50();
  os_log_type_t v43 = sub_259844B50();
  if (OUTLINED_FUNCTION_218(v43))
  {
    uint64_t v44 = OUTLINED_FUNCTION_21_0();
    unint64_t v128 = (void *)swift_slowAlloc();
    uint64_t v144 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v44 = 136380931;
    os_log_type_t v130 = v38;
    memcpy(v145, __src, 0x41uLL);
    uint64_t v45 = QueryAnnotation.description.getter();
    uint64_t v47 = sub_259356D5C(v45, v46, &v144);
    OUTLINED_FUNCTION_54_2(v47, (void *)(v0 + 984));
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_110_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_110_8();
    *(_WORD *)(v44 + 12) = 2112;
    id v48 = v123;
    uint64_t v49 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v0 + 976) = v49;
    sub_259844E10();
    *unint64_t v128 = v49;

    OUTLINED_FUNCTION_191_6(&dword_25934C000, v42, v130, "[Safety] Error validating prompt suggestion with annotation %{private}s: %@");
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    OUTLINED_FUNCTION_294();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_93_10();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_110_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_110_8();
  }
  uint64_t v72 = 0;
  uint64_t v73 = v140;
  while (1)
  {
    *(void *)(v0 + 1248) = v73;
    sub_259670014(v0 + 16);
    uint64_t v82 = *(void *)(v0 + 16);
    uint64_t v81 = *(void *)(v0 + 24);
    *(void *)(v0 + 1256) = v81;
    unint64_t v84 = *(void *)(v0 + 32);
    uint64_t v83 = *(void *)(v0 + 40);
    *(void *)(v0 + 1264) = v84;
    *(void *)(v0 + 1272) = v83;
    uint64_t v85 = *(void *)(v0 + 56);
    uint64_t v142 = *(void *)(v0 + 48);
    *(void *)(v0 + 1280) = v142;
    *(void *)(v0 + 1288) = v85;
    uint64_t v86 = *(void *)(v0 + 64);
    uint64_t v87 = *(void *)(v0 + 72);
    *(void *)(v0 + 1296) = v87;
    uint64_t v88 = *(void *)(v0 + 80);
    *(void *)(v0 + 1304) = v88;
    long long v89 = *(_OWORD *)(v0 + 88);
    *(void *)(v0 + 1312) = v89;
    os_log_type_t v36 = *(void **)(v0 + 1136);
    if (!v84)
    {
      swift_bridgeObjectRelease();
      uint64_t v96 = v36[3];
      uint64_t v97 = v36[4];
      uint64_t v98 = (void *)OUTLINED_FUNCTION_3_26();
      OUTLINED_FUNCTION_187(v98, v99);
      sub_2598435E0();
      if (v72)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_15_1();
        OUTLINED_FUNCTION_148_7();
        __asm { BRAA            X1, X16 }
      }
      OUTLINED_FUNCTION_5_58();
      sub_259843A50();
      os_log_type_t v112 = sub_259844B70();
      if (OUTLINED_FUNCTION_91(v112))
      {
        uint64_t v97 = v0 + 1008;
        uint64_t v88 = OUTLINED_FUNCTION_54();
        *(_DWORD *)uint64_t v88 = 134217984;
        OUTLINED_FUNCTION_8_58();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_179_0(&dword_25934C000, v113, v114, "Safety Received results for prompts:%ld");
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_bridgeObjectRelease();
      }
      __n128 v143 = OUTLINED_FUNCTION_178_6();
      OUTLINED_FUNCTION_71_14();
      OUTLINED_FUNCTION_14_42();
      *(void *)(v88 + 24) = &type metadata for PromptSuggestionSafetyValidationDiagnosticContext;
      *(void *)(v88 + 32) = &protocol witness table for PromptSuggestionSafetyValidationDiagnosticContext;
      uint64_t v115 = OUTLINED_FUNCTION_23_19();
      *(void *)uint64_t v88 = v115;
      *(void *)(v115 + 16) = MEMORY[0x263F8EE78];
      *(void *)(v115 + 24) = v97;
      *(__n128 *)(v115 + 32) = v143;
      *(void *)(v115 + 48) = v96;
      *(void *)(v115 + 56) = v73;
      OUTLINED_FUNCTION_6_35();
      OUTLINED_FUNCTION_148_7();
      __asm { BRAA            X2, X16 }
    }
    uint64_t v127 = v81;
    char v90 = *(unsigned char *)(v0 + 104);
    *(void *)(v0 + 200) = v83;
    *(void *)(v0 + 208) = v142;
    *(void *)(v0 + 216) = v85;
    *(unsigned char *)(v0 + 224) = v86 & 1;
    *(unsigned char *)(v0 + 225) = BYTE1(v86) & 1;
    *(unsigned char *)(v0 + 226) = BYTE2(v86);
    *(void *)(v0 + 232) = v87;
    *(void *)(v0 + 240) = v88;
    *(_OWORD *)(v0 + 248) = v89;
    *(unsigned char *)(v0 + 264) = v90 & 1;
    __swift_project_boxed_opaque_existential_1(v36, v36[3]);
    if (!__OFADD__(v82, 1)) {
      break;
    }
    __break(1u);
LABEL_49:
    __break(1u);
LABEL_50:
    OUTLINED_FUNCTION_39_25();
    uint64_t v74 = v118;
LABEL_22:
    unint64_t v75 = *(void *)(v74 + 16);
    if (v75 >= *(void *)(v74 + 24) >> 1)
    {
      sub_2593877B8();
      uint64_t v74 = v119;
    }
    uint64_t v76 = *(void *)(v0 + 1264);
    uint64_t v77 = *(void *)(v0 + 1256);
    uint64_t v78 = *(void *)(v0 + 1224);
    *(void *)(v74 + 16) = v75 + 1;
    uint64_t v79 = v74 + 40 * v75;
    *(void *)(v79 + 32) = v77;
    *(void *)(v79 + 40) = v76;
    *(void *)(v79 + 48) = v36;
    *(int64x2_t *)(v79 + 56) = vdupq_n_s64(MEMORY[0x263F8EE78]);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    *(void *)(v0 + 1016) = v74;
    __swift_destroy_boxed_opaque_existential_1(v135);
    uint64_t result = __swift_destroy_boxed_opaque_existential_1((uint64_t)v138);
    if (__OFADD__(v78, 1))
    {
      __break(1u);
      return result;
    }
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v133);
    uint64_t v72 = *(void *)(v0 + 1352);
    uint64_t v73 = *(void *)(v0 + 1248);
    *(void *)(v0 + 1224) = v78 + 1;
  }
  OUTLINED_FUNCTION_62_15();
  sub_259843570();
  OUTLINED_FUNCTION_125_8(v133, *(void *)(v0 + 448));
  sub_259843590();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v87);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v87);
  uint64_t v91 = sub_259843A50();
  os_log_type_t v92 = sub_259844B70();
  if (os_log_type_enabled(v91, v92))
  {
    uint64_t v93 = OUTLINED_FUNCTION_21_0();
    uint64_t v144 = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v93 = 136315395;
    sub_259843F00();
    *(void *)(v0 + 1096) = sub_259356D5C(v127, v84, &v144);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v93 + 12) = 2081;
    memcpy(v145, __src, 0x41uLL);
    uint64_t v94 = QueryAnnotation.description.getter();
    *(void *)(v0 + 1104) = sub_259356D5C(v94, v95, &v144);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_8();
    OUTLINED_FUNCTION_191_6(&dword_25934C000, v91, v92, "[Safety] Validating prompt with id %s with annotation %{private}s");
    OUTLINED_FUNCTION_66_16();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_112_0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_8();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_8();
  }
  OUTLINED_FUNCTION_42_22();
  uint64_t v103 = v102;
  uint64_t v104 = sub_25935633C(0, &qword_26A38D418);
  sub_25967F810();
  sub_259843F00();
  OUTLINED_FUNCTION_67_16();
  OUTLINED_FUNCTION_208_4();
  *(void *)(v0 + 1328) = sub_25967F89C(__src, v103, v104, (uint64_t)v91);
  swift_bridgeObjectRelease();
  swift_release();
  uint64_t v105 = OUTLINED_FUNCTION_19_34();
  *(void *)(v0 + 1336) = v105;
  *(void *)(v0 + 648) = v105;
  *(void *)(v0 + 656) = &protocol witness table for RootEventRecorder;
  *(void *)(v0 + 624) = v104;
  swift_retain();
  uint64_t v106 = swift_task_alloc();
  uint64_t v107 = (void *)OUTLINED_FUNCTION_26_31(v106);
  void *v107 = v108;
  v107[1] = sub_259674098;
  uint64_t v148 = 0;
  OUTLINED_FUNCTION_58_18();
  OUTLINED_FUNCTION_7_47();
  return QueryGenerator.resolveQueryUnderstanding(with:currentQueryTokens:previousQueryTokens:isModifiedByUser:isLLMQU:promptBindingRecipe:llmQULatency:eventRecorder:progressReporter:storyGenerationDiagnosticsContext:)();
}

uint64_t sub_2596754C0()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  *uint64_t v4 = *v1;
  *(void *)(v3 + 1472) = v5;
  *(void *)(v3 + 1480) = v0;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    __swift_destroy_boxed_opaque_existential_1(v3 + 584);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v6, v7, v8);
}

uint64_t sub_2596755E4()
{
  OUTLINED_FUNCTION_240();
  uint64_t v1 = v0[167];
  uint64_t v2 = v0[165];
  v0[186] = sub_259737700(v0[182]);
  v0[91] = v1;
  v0[92] = &protocol witness table for RootEventRecorder;
  v0[88] = v2;
  swift_retain();
  uint64_t v3 = (void *)swift_task_alloc();
  v0[187] = v3;
  *uint64_t v3 = v0;
  v3[1] = sub_2596756EC;
  return sub_259755AF4();
}

uint64_t sub_2596756EC()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_3();
  void *v8 = v7;
  *(void *)(v5 + 1504) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v5 + 1512) = v3;
    __swift_destroy_boxed_opaque_existential_1(v5 + 704);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

#error "2596758E4: call analysis failed (funcsize=1223)"

uint64_t sub_259676BC4()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  *(void *)(v3 + 1560) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    __swift_destroy_boxed_opaque_existential_1(v3 + 384);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_259676CF8()
{
  OUTLINED_FUNCTION_134_7();
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_119_9();
  v1[71] = v3;
  v1[72] = &protocol witness table for RootEventRecorder;
  v1[68] = v0;
  uint64_t v14 = *(void *)(v2 + 24) + **(int **)(v2 + 24);
  swift_retain();
  uint64_t v4 = (void *)swift_task_alloc();
  v1[196] = v4;
  *uint64_t v4 = v1;
  v4[1] = sub_259676E0C;
  OUTLINED_FUNCTION_210_4();
  OUTLINED_FUNCTION_132_0();
  return v10(v5, v6, v7, v8, v9, v10, v11, v12, v14, v2 + 24);
}

uint64_t sub_259676E0C()
{
  OUTLINED_FUNCTION_240();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_3();
  void *v8 = v7;
  *(void *)(v5 + 1576) = v0;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v9 = *(void *)(v5 + 1296);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v9);
    __swift_destroy_boxed_opaque_existential_1(v5 + 544);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v10, v11, v12);
}

uint64_t sub_259676F68()
{
  uint64_t v51 = v0;
  uint64_t v2 = *(void *)(v0 + 1576);
  uint64_t v3 = *(void *)(v0 + 1016);
  id v4 = *(id *)(v0 + 1376);
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    OUTLINED_FUNCTION_39_25();
    uint64_t v3 = v42;
  }
  if (*(void *)(v3 + 16) >= *(void *)(v3 + 24) >> 1)
  {
    OUTLINED_FUNCTION_81_12();
    uint64_t v3 = v43;
  }
  OUTLINED_FUNCTION_114_8();
  OUTLINED_FUNCTION_128_7();
  uint64_t v47 = v5;
  OUTLINED_FUNCTION_129_6(v6);
  swift_bridgeObjectRelease();
  swift_release();
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)(v0 + 1016) = v3;
  __swift_destroy_boxed_opaque_existential_1(v0 + 504);
  uint64_t result = __swift_destroy_boxed_opaque_existential_1(v0 + 744);
  if (__OFADD__(v47, 1))
  {
    __break(1u);
LABEL_25:
    __break(1u);
    return result;
  }
  __swift_destroy_boxed_opaque_existential_1(v0 + 424);
  uint64_t v8 = *(void *)(v0 + 1248);
  *(void *)(v0 + 1240) = v47 + 1;
  sub_259670014(v0 + 16);
  uint64_t v9 = *(void *)(v0 + 16);
  OUTLINED_FUNCTION_187_4();
  uint64_t v11 = *(void *)(v0 + 56);
  *(void *)(v0 + 1280) = *(void *)(v0 + 48);
  *(void *)(v0 + 1288) = v11;
  *(void *)(v0 + 1296) = *(void *)(v0 + 72);
  uint64_t v12 = *(void *)(v0 + 80);
  *(void *)(v0 + 1304) = v12;
  *(void *)(v0 + 1312) = *(void *)(v0 + 88);
  uint64_t v13 = *(void *)(v0 + 1136);
  if (v0 == -16)
  {
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_187((void *)v13, *(void *)(v13 + 24));
    sub_2598435E0();
    if (v2)
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_15_1();
      OUTLINED_FUNCTION_90_12();
      __asm { BRAA            X1, X16 }
    }
    uint64_t v34 = v8;
    OUTLINED_FUNCTION_5_58();
    sub_259843A50();
    os_log_type_t v35 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v35))
    {
      uint64_t v13 = 992;
      uint64_t v8 = OUTLINED_FUNCTION_54();
      *(_DWORD *)uint64_t v8 = 134217984;
      OUTLINED_FUNCTION_8_58();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_179_0(&dword_25934C000, v36, v37, "Safety Received results for prompts:%ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    uint64_t v38 = MEMORY[0x4C8];
    long long v48 = MEMORY[0x4B8];
    OUTLINED_FUNCTION_71_14();
    OUTLINED_FUNCTION_14_42();
    *(void *)(v8 + 24) = &type metadata for PromptSuggestionSafetyValidationDiagnosticContext;
    *(void *)(v8 + 32) = &protocol witness table for PromptSuggestionSafetyValidationDiagnosticContext;
    uint64_t v39 = OUTLINED_FUNCTION_23_19();
    *(void *)uint64_t v8 = v39;
    *(void *)(v39 + 16) = MEMORY[0x263F8EE78];
    *(void *)(v39 + 24) = v13;
    *(_OWORD *)(v39 + 32) = v48;
    *(void *)(v39 + 48) = v38;
    *(void *)(v39 + 56) = v34;
    OUTLINED_FUNCTION_6_35();
    OUTLINED_FUNCTION_90_12();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v44 = v10;
  OUTLINED_FUNCTION_184_6();
  *(void *)(v0 + 200) = v14;
  *(void *)(v0 + 208) = v15;
  uint64_t v46 = v16;
  *(void *)(v0 + 216) = v11;
  OUTLINED_FUNCTION_44_24(v17);
  *(void *)(v0 + 232) = v18;
  *(void *)(v0 + 240) = v12;
  OUTLINED_FUNCTION_103_8(v19);
  uint64_t v20 = (void *)OUTLINED_FUNCTION_292();
  uint64_t result = (uint64_t)__swift_project_boxed_opaque_existential_1(v20, v21);
  if (__OFADD__(v9, 1)) {
    goto LABEL_25;
  }
  __src = (void *)(v0 + 200);
  sub_259843570();
  OUTLINED_FUNCTION_125_8((void *)(v0 + 424), *(void *)(v0 + 448));
  sub_259843590();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v46);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25947F554(v46);
  BOOL v22 = sub_259843A50();
  os_log_type_t v23 = sub_259844B70();
  if (os_log_type_enabled(v22, v23))
  {
    uint64_t v9 = v0 + 1104;
    uint64_t v24 = OUTLINED_FUNCTION_21_0();
    uint64_t v49 = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v24 = 136315395;
    sub_259843F00();
    *(void *)(v0 + 1096) = sub_259356D5C(v44, v0 + 16, &v49);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v24 + 12) = 2081;
    memcpy(__dst, __src, sizeof(__dst));
    uint64_t v25 = QueryAnnotation.description.getter();
    *(void *)(v0 + 1104) = sub_259356D5C(v25, v26, &v49);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v46);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v46);
    OUTLINED_FUNCTION_86_13(&dword_25934C000, v22, v23, "[Safety] Validating prompt with id %s with annotation %{private}s");
    OUTLINED_FUNCTION_66_16();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v46);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v46);
  }
  OUTLINED_FUNCTION_145_6();
  OUTLINED_FUNCTION_42_22();
  sub_25935633C(0, &qword_26A38D418);
  sub_25967F810();
  sub_259843F00();
  uint64_t v29 = OUTLINED_FUNCTION_67_16();
  *(void *)(v0 + 1320) = *(void *)(v11 + v9);
  swift_retain();
  *(void *)(v0 + 1328) = OUTLINED_FUNCTION_170_7(__src, v29);
  swift_bridgeObjectRelease();
  swift_release();
  uint64_t v30 = OUTLINED_FUNCTION_19_34();
  *(void *)(v0 + 1336) = v30;
  OUTLINED_FUNCTION_101_9(v30, (uint64_t)&protocol witness table for RootEventRecorder);
  swift_retain();
  uint64_t v31 = swift_task_alloc();
  uint64_t v32 = (void *)OUTLINED_FUNCTION_26_31(v31);
  void *v32 = v33;
  v32[1] = sub_259674098;
  uint64_t v53 = 0;
  OUTLINED_FUNCTION_58_18();
  OUTLINED_FUNCTION_7_47();
  return QueryGenerator.resolveQueryUnderstanding(with:currentQueryTokens:previousQueryTokens:isModifiedByUser:isLLMQU:promptBindingRecipe:llmQULatency:eventRecorder:progressReporter:storyGenerationDiagnosticsContext:)();
}

uint64_t sub_259677620()
{
  uint64_t v71 = v0;
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 63));
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 93));
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 78));
  uint64_t v1 = (void *)v0[169];
  uint64_t v2 = v0[156];
  uint64_t result = __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 53));
  if (__OFADD__(v2, 1))
  {
    __break(1u);
    goto LABEL_24;
  }
  uint64_t v67 = v2 + 1;
  OUTLINED_FUNCTION_25_34();
  sub_259843F00();
  sub_259843F00();
  OUTLINED_FUNCTION_56_13();
  id v4 = v1;
  uint64_t v5 = sub_259843A50();
  os_log_type_t v6 = sub_259844B50();
  uint64_t v7 = (_DWORD *)v6;
  BOOL v8 = os_log_type_enabled(v5, v6);
  uint64_t v9 = v0[162];
  unint64_t v10 = v0[161];
  if (v8)
  {
    uint64_t v59 = (uint64_t)(v0 + 124);
    uint64_t v60 = (uint64_t)(v0 + 123);
    OUTLINED_FUNCTION_21_0();
    uint64_t v62 = (void *)OUTLINED_FUNCTION_47_21();
    uint64_t v69 = OUTLINED_FUNCTION_20();
    _DWORD *v7 = 136380931;
    uint64_t v61 = v5;
    memcpy(__dst, v0 + 25, sizeof(__dst));
    uint64_t v11 = QueryAnnotation.description.getter();
    uint64_t v13 = sub_259356D5C(v11, v12, &v69);
    OUTLINED_FUNCTION_32_25(v13);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_176_5();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v9);
    OUTLINED_FUNCTION_111_7();
    uint64_t v14 = _swift_stdlib_bridgeErrorToNSError();
    v0[122] = v14;
    sub_259844E10();
    *uint64_t v62 = v14;

    OUTLINED_FUNCTION_86_13(&dword_25934C000, v61, (os_log_type_t)v7, "[Safety] Error validating prompt suggestion with annotation %{private}s: %@");
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_93_10();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_176_5();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25947ED9C(v9);
  }
  v0[156] = v67;
  sub_259670014((uint64_t)(v0 + 2));
  uint64_t v15 = v0[2];
  OUTLINED_FUNCTION_188_4();
  uint64_t v17 = v0[6];
  uint64_t v18 = v0[7];
  v0[160] = v17;
  v0[161] = v18;
  uint64_t v19 = v0[9];
  v0[162] = v19;
  uint64_t v20 = v0[10];
  v0[163] = v20;
  v0[164] = v0[11];
  uint64_t v21 = (void *)v0[142];
  if (v10)
  {
    uint64_t v63 = v16;
    uint64_t v66 = v19;
    OUTLINED_FUNCTION_184_6();
    v0[25] = v22;
    v0[26] = v17;
    v0[27] = v18;
    OUTLINED_FUNCTION_44_24(v23);
    v0[29] = v24;
    v0[30] = v20;
    OUTLINED_FUNCTION_103_8(v25);
    unint64_t v26 = (void *)OUTLINED_FUNCTION_153_7();
    uint64_t result = (uint64_t)__swift_project_boxed_opaque_existential_1(v26, v27);
    if (!__OFADD__(v15, 1))
    {
      OUTLINED_FUNCTION_62_15();
      uint64_t v64 = v28;
      sub_259843570();
      OUTLINED_FUNCTION_125_8(v0 + 53, v0[56]);
      sub_259843590();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_25947F554(v66);
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_25947F554(v66);
      uint64_t v29 = sub_259843A50();
      os_log_type_t type = sub_259844B70();
      if (os_log_type_enabled(v29, type))
      {
        uint64_t v31 = OUTLINED_FUNCTION_21_0();
        uint64_t v65 = OUTLINED_FUNCTION_18_1();
        uint64_t v69 = v65;
        *(_DWORD *)uint64_t v31 = 136315395;
        sub_259843F00();
        v0[137] = sub_259356D5C(v63, v10, &v69);
        OUTLINED_FUNCTION_120_3();
        sub_259844E10();
        OUTLINED_FUNCTION_140_5();
        *(_WORD *)(v31 + 12) = 2081;
        memcpy(__dst, v0 + 25, sizeof(__dst));
        uint64_t v32 = QueryAnnotation.description.getter();
        v0[138] = sub_259356D5C(v32, v33, &v69);
        sub_259844E10();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_25947ED9C(v66);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_25947ED9C(v66);
        OUTLINED_FUNCTION_154_7(&dword_25934C000, v29, v34, "[Safety] Validating prompt with id %s with annotation %{private}s", v35, v36, v37, v38, v58, v59, v60, (uint64_t)v61, (uint64_t)(v0 + 137), v63, (uint64_t)(v0 + 139), v64, v65, type);
        OUTLINED_FUNCTION_66_16();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {

        OUTLINED_FUNCTION_193_0();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_169_6(v66);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_169_6(v66);
      }
      uint64_t v41 = v0[148];
      uint64_t v42 = v0[143];
      type metadata accessor for _NSRange(0);
      sub_25935633C(0, &qword_26A38D418);
      sub_25967F810();
      sub_259843F00();
      OUTLINED_FUNCTION_120_3();
      sub_259843EE0();
      uint64_t v43 = *(void *)(v42 + v41);
      v0[165] = v43;
      swift_retain();
      OUTLINED_FUNCTION_133_5();
      v0[166] = sub_25967F89C(v44, v45, v46, v47);
      swift_bridgeObjectRelease();
      swift_release();
      v0[101] = 0;
      v0[102] = 0;
      v0[103] = 0;
      uint64_t v48 = type metadata accessor for RootEventRecorder(0);
      v0[167] = v48;
      v0[81] = v48;
      v0[82] = &protocol witness table for RootEventRecorder;
      v0[78] = v43;
      swift_retain();
      uint64_t v49 = swift_task_alloc();
      id v50 = (void *)OUTLINED_FUNCTION_26_31(v49);
      *id v50 = v51;
      v50[1] = sub_259674098;
      uint64_t v77 = 0;
      uint64_t v76 = v0 + 93;
      unint64_t v75 = v0 + 78;
      char v74 = 1;
      uint64_t v73 = 0;
      return QueryGenerator.resolveQueryUnderstanding(with:currentQueryTokens:previousQueryTokens:isModifiedByUser:isLLMQU:promptBindingRecipe:llmQULatency:eventRecorder:progressReporter:storyGenerationDiagnosticsContext:)();
    }
LABEL_24:
    __break(1u);
    return result;
  }
  swift_bridgeObjectRelease();
  uint64_t v39 = v21[4];
  OUTLINED_FUNCTION_4_62(v21);
  if (v7)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_15_1();
    return v40();
  }
  else
  {
    OUTLINED_FUNCTION_5_58();
    sub_259843A50();
    os_log_type_t v52 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v52))
    {
      unint64_t v10 = (unint64_t)(v0 + 126);
      uint64_t v17 = OUTLINED_FUNCTION_54();
      *(_DWORD *)uint64_t v17 = 134217984;
      OUTLINED_FUNCTION_8_58();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_179_0(&dword_25934C000, v53, v54, "Safety Received results for prompts:%ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    __n128 v68 = OUTLINED_FUNCTION_178_6();
    OUTLINED_FUNCTION_71_14();
    OUTLINED_FUNCTION_14_42();
    *(void *)(v17 + 24) = &type metadata for PromptSuggestionSafetyValidationDiagnosticContext;
    *(void *)(v17 + 32) = &protocol witness table for PromptSuggestionSafetyValidationDiagnosticContext;
    uint64_t v55 = OUTLINED_FUNCTION_23_19();
    *(void *)uint64_t v17 = v55;
    *(void *)(v55 + 16) = MEMORY[0x263F8EE78];
    *(void *)(v55 + 24) = v10;
    *(__n128 *)(v55 + 32) = v68;
    *(void *)(v55 + 48) = v39;
    *(void *)(v55 + 56) = v67;
    uint64_t v56 = OUTLINED_FUNCTION_6_35();
    return v57(v56);
  }
}

#error "259677F00: call analysis failed (funcsize=388)"

#error "259678548: call analysis failed (funcsize=388)"

#error "259678BA0: call analysis failed (funcsize=385)"

#error "2596791DC: call analysis failed (funcsize=385)"

uint64_t PromptSuggestionSearchValidator.searchSuggestedPrompts(_:progressReporter:)()
{
  OUTLINED_FUNCTION_25();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A8;
  uint64_t v3 = OUTLINED_FUNCTION_150();
  return sub_259672BE4(v3, v4, 1, 1, 0);
}

uint64_t PromptSuggestionSearchValidator.searchSuggestedPromptsHighRecall(_:progressReporter:)()
{
  OUTLINED_FUNCTION_25();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2593C35A8;
  uint64_t v3 = OUTLINED_FUNCTION_150();
  return sub_259672BE4(v3, v4, 0, 2, 0);
}

uint64_t PromptSuggestionSearchValidator.searchSuggestedPromptTraits(_:scopedAssetUUIDs:progressReporter:)()
{
  OUTLINED_FUNCTION_25();
  uint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v6 = swift_task_alloc();
  uint64_t v7 = (void *)OUTLINED_FUNCTION_33_0(v6);
  void *v7 = v8;
  v7[1] = sub_2593B7348;
  return sub_259672BE4(v5, v1, 0, 0, v3);
}

uint64_t sub_259679990(uint64_t a1, uint64_t a2, char a3, char a4, uint64_t a5)
{
  *(void *)(v6 + 568) = v5;
  *(void *)(v6 + 560) = a5;
  *(unsigned char *)(v6 + 90) = a4;
  *(unsigned char *)(v6 + 89) = a3;
  *(void *)(v6 + 552) = a2;
  *(void *)(v6 + 544) = a1;
  uint64_t v7 = sub_259842AB0();
  *(void *)(v6 + 576) = v7;
  *(void *)(v6 + 584) = *(void *)(v7 - 8);
  *(void *)(v6 + 592) = swift_task_alloc();
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F218);
  *(void *)(v6 + 600) = v8;
  *(void *)(v6 + 608) = *(void *)(v8 - 8);
  *(void *)(v6 + 616) = swift_task_alloc();
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F210);
  *(void *)(v6 + 624) = v9;
  *(void *)(v6 + 632) = *(void *)(v9 - 8);
  *(void *)(v6 + 640) = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_259679B24, 0, 0);
}

uint64_t sub_259679B24()
{
  uint64_t v41 = v0;
  unint64_t v1 = v0[68];
  v40[0] = MEMORY[0x263F8EE78];
  if (v1 >> 62)
  {
    OUTLINED_FUNCTION_71_1();
    uint64_t v2 = sub_259845460();
  }
  else
  {
    uint64_t v2 = *(void *)((v1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  uint64_t v3 = v0 + 68;
  if (v2)
  {
    if (v2 < 1)
    {
      __break(1u);
      return MEMORY[0x270FA1F68]();
    }
    uint64_t v4 = 0;
    uint64_t v5 = *v3 + 32;
    do
    {
      if ((v1 & 0xC000000000000001) != 0) {
        id v6 = (id)MEMORY[0x25A2DFA20](v4, *v3);
      }
      else {
        id v6 = *(id *)(v5 + 8 * v4);
      }
      uint64_t v7 = v6;
      if ((uint64_t)objc_msgSend(v6, sel_length) < 1)
      {
      }
      else
      {
        sub_259845240();
        sub_259845280();
        sub_259845290();
        sub_259845250();
      }
      ++v4;
    }
    while (v2 != v4);
    swift_bridgeObjectRelease();
    uint64_t v8 = v40[0];
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v8 = MEMORY[0x263F8EE78];
  }
  v0[81] = v8;
  if (v8 < 0 || (v8 & 0x4000000000000000) != 0)
  {
    sub_259843F00();
    uint64_t v9 = sub_259845460();
    swift_release();
  }
  else
  {
    uint64_t v9 = *(void *)(v8 + 16);
  }
  v0[82] = v9;
  if (v9 <= 0)
  {
    swift_release();
    uint64_t v13 = sub_259843A50();
    os_log_type_t v14 = sub_259844B40();
    if (OUTLINED_FUNCTION_218(v14))
    {
      uint64_t v15 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v15 = 0;
      _os_log_impl(&dword_25934C000, v13, (os_log_type_t)v8, "No prompts to validate", v15, 2u);
      OUTLINED_FUNCTION_61_0();
    }

    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    sub_259683150();
    sub_259843EE0();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_6_35();
    OUTLINED_FUNCTION_90();
    __asm { BRAA            X2, X16 }
  }
  v0[83] = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_logger;
  swift_retain();
  uint64_t v10 = sub_259843A50();
  os_log_type_t v11 = sub_259844B70();
  if (os_log_type_enabled(v10, v11))
  {
    unint64_t v12 = (uint8_t *)OUTLINED_FUNCTION_54();
    *(_DWORD *)unint64_t v12 = 134217984;
    v0[67] = v9;
    sub_259844E10();
    swift_release();
    _os_log_impl(&dword_25934C000, v10, v11, "Validating %ld prompts", v12, 0xCu);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_release();
  }
  uint64_t v18 = v0[69];
  OUTLINED_FUNCTION_146_6();
  sub_2598435C0();
  if (v0 != (void *)-544)
  {
    swift_release();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_15_1();
    OUTLINED_FUNCTION_90();
    __asm { BRAA            X1, X16 }
  }
  uint64_t v38 = MEMORY[0x18];
  uint64_t v19 = MEMORY[0x10];
  uint64_t v39 = (void *)MEMORY[8];
  if (MEMORY[0xFFFFFFFFFFFFFE39]) {
    uint64_t v20 = 0;
  }
  else {
    uint64_t v20 = 50;
  }
  uint64_t v37 = v20;
  if (MEMORY[0xFFFFFFFFFFFFFE39]) {
    uint64_t v21 = 50;
  }
  else {
    uint64_t v21 = 1;
  }
  sub_25967C0A0(-448, MEMORY[0xFFFFFFFFFFFFFE3A]);
  double v23 = v22;
  char v25 = v24 & 1;
  LOBYTE(v40[0]) = 2;
  sub_2593C2A90(-448, -408, &qword_26A38C870);
  sub_259843F00();
  FreeformStoryFetching.Options.init(assetsFetcherType:searchQueryResultTypes:searchResultType:scopedAssetUUIDs:maxSearchResults:maxRankedAssetSearchResults:enableQueryUnderstanding:fastRanking:disableSafetyCheck:embeddingRelevanceThreshold:embeddingGenerationTimeout:thresholdingModel:embeddingSearchLimit:embeddingSearchFullScan:)((char *)v40, 1, 1, v19, v37, v21, 0, 0, -528, 1, v23, v25, 700, 0, -408, 4000, 0);
  uint64_t v26 = unk_27074B4E8;
  if ((unk_27074B4E8 & ~qword_27074B4E0) == 0) {
    uint64_t v26 = 0;
  }
  v40[0] = v26 | qword_27074B4E0;
  uint64_t v27 = type metadata accessor for StoryGenerationEventRecorder();
  MEMORY[0x80] = v27;
  swift_allocObject();
  uint64_t v28 = StoryGenerationEventRecorder.init(options:)(v40);
  MEMORY[0x88] = v28;
  uint64_t v29 = *(void *)(v38 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher + 24);
  uint64_t v30 = *(void *)(v38 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher + 32);
  OUTLINED_FUNCTION_187((void *)(v38 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher), v29);
  MEMORY[0xFFFFFFFFFFFFFEA8] = v27;
  MEMORY[0xFFFFFFFFFFFFFEB0] = &protocol witness table for RootEventRecorder;
  MEMORY[0xFFFFFFFFFFFFFE90] = v28;
  uint64_t v31 = *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(v30 + 24);
  swift_retain();
  v31(v8, -528, -368, v29, v30);
  __swift_destroy_boxed_opaque_existential_1(-368);
  OUTLINED_FUNCTION_125_8(v39, *(void *)(v18 + 24));
  sub_259843590();
  __swift_project_boxed_opaque_existential_1((void *)0xFFFFFFFFFFFFFEB8, MEMORY[0xFFFFFFFFFFFFFED0]);
  sub_2598435C0();
  sub_259844770();
  MEMORY[0x98] = MEMORY[0x263F8EE80];
  MEMORY[0x90] = 0;
  int v34 = (void *)swift_task_alloc();
  MEMORY[0xA0] = v34;
  void *v34 = -544;
  v34[1] = sub_25967A1AC;
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_90();
  return MEMORY[0x270FA1F68]();
}

uint64_t sub_25967A1AC()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  uint64_t v1 = *v0;
  OUTLINED_FUNCTION_3();
  void *v2 = v1;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v3, v4, v5);
}

uint64_t sub_25967A274()
{
  void (*v93)(uint64_t *__return_ptr, uint64_t, uint64_t, uint64_t *, uint64_t, uint64_t, uint64_t);
  uint64_t v94;
  uint64_t v95;
  unsigned char *v96;
  uint64_t v97;
  uint64_t v98;
  uint64_t v99;
  unint64_t v100;
  uint64_t v101;
  uint64_t v102;
  uint64_t v103;
  uint64_t v104;
  void *v105;
  id v106;
  uint64_t v107;
  void *v108;
  uint64_t v109;
  void *v110;
  uint64_t v111;
  uint64_t v112;
  uint64_t v113;
  uint64_t v114;
  uint64_t v115;
  uint64_t v116;
  uint64_t v117;
  uint64_t v118;
  uint64_t v119;
  id v120;
  id v121;
  id v122;
  int64_t v123;
  unint64_t v124;
  double v125;
  double v126;
  int64_t v127;
  BOOL v128;
  uint64_t v129;
  int64_t v130;
  void *v131;
  uint64_t v132;
  uint64_t v133;
  void *v134;
  id v135;
  unint64_t v136;
  uint64_t v137;
  uint64_t v138;
  uint64_t v139;
  id v140;
  id v141;
  id v142;
  void *v143;
  uint64_t v144;
  uint64_t v145;
  uint64_t v146;
  unint64_t v147;
  uint64_t v148;
  uint64_t v149;
  uint64_t v150;
  uint64_t v151;
  uint64_t v152;
  uint64_t v153;
  uint64_t v154;
  uint64_t v155;
  uint64_t v156;
  uint64_t v157;
  uint64_t v158;
  char v159;
  uint64_t v160;
  uint64_t v161;
  uint64_t v162;
  uint64_t v163;
  uint64_t v164;
  uint64_t v165;
  uint64_t v166;
  uint64_t v167;
  uint64_t *v168;
  uint64_t v169;
  uint64_t v170;
  char v171;
  char v172;
  char v173;
  unint64_t v174;
  uint64_t v175;
  NSObject *v176;
  os_log_type_t v177;
  uint64_t v178;
  uint64_t v179;
  uint64_t v180;
  uint64_t v181;
  uint64_t v182;
  uint64_t v183;
  void (*v184)(void);
  void (*v185)(void);
  uint64_t v186;
  uint64_t v187;
  uint64_t v188;
  uint64_t v189;
  unint64_t v190;
  uint64_t v191;
  id v192;
  void *v193;
  id v194;
  uint64_t v195;
  uint64_t v196;
  uint64_t v197;
  unint64_t v198;
  uint64_t v199;
  uint64_t v200;
  unint64_t v201;
  uint64_t v202;
  uint64_t *v203;
  unint64_t v204;
  uint64_t v205;
  uint64_t v206;
  uint64_t v207;
  char v208;
  char v209;
  char isUniquelyReferenced_nonNull_native;
  unint64_t v211;
  uint64_t v212;
  uint64_t *v213;
  uint64_t v214;
  NSObject *v215;
  os_log_type_t v216;
  uint8_t *v217;
  uint64_t v218;
  uint64_t v219;
  unint64_t v220;
  uint64_t *v221;
  uint64_t v222;
  void (*v223)(void);
  uint64_t v224;
  uint64_t v225;
  uint64_t *v226;
  uint64_t v227;
  uint64_t v228;
  unint64_t v229;
  char v230;
  uint64_t v231;
  uint64_t v232;
  unint64_t v233;
  char v234;
  char v235;
  void *v236;
  unint64_t v237;
  uint64_t v238;
  void *v239;
  uint64_t v240;
  uint64_t v241;
  uint64_t v242;
  NSObject *v243;
  os_log_type_t v244;
  uint64_t v245;
  uint64_t v246;
  uint64_t v247;
  void (*v248)(uint64_t);
  uint64_t v249;
  void (*v250)(uint64_t);
  uint64_t v252;
  uint64_t v253;
  long long v254;
  uint64_t v255;
  long long v256;
  uint64_t v257;
  void *v258;
  void *v259;
  uint64_t v260;
  long long v261;
  uint64_t v262;
  uint64_t *v263;
  char *v264;
  uint64_t v265;
  uint64_t v266;
  uint64_t v267;
  uint64_t v268;
  uint64_t v269;
  unint64_t v270;
  void *v271;
  uint64_t v272;
  uint64_t v273;
  int64_t v274;
  void (**v275)(uint64_t, uint64_t);
  id v276;
  id v277;
  uint64_t v278;
  void *v279;
  uint64_t v280;
  char v281;
  void *v282;
  void *v283;
  int64_t v284;
  uint64_t v285;
  uint64_t v286;
  void *v287;
  unsigned __int8 v288;
  unsigned __int8 v289;
  uint64_t v290;
  uint64_t v291;
  uint64_t v292;
  uint64_t v293;
  uint64_t v294;
  void *v295;
  void *v296;
  uint64_t v297;
  uint64_t *v298;
  _DWORD *v299;
  uint64_t v300;
  uint64_t *v301;
  uint64_t v302[6];
  uint64_t v303;
  uint64_t v304;
  uint64_t v305;
  uint64_t v306;
  uint64_t v307;
  uint64_t v308;

  v308 = v1;
  uint64_t v2 = v1;
  uint64_t v3 = v1 + 16;
  uint64_t v4 = v1 + 96;
  uint64_t v5 = v1 + 216;
  v297 = v2;
  v298 = (uint64_t *)(v2 + 520);
  int v6 = *(unsigned __int8 *)(v2 + 440);
  uint64_t v7 = (uint64_t)&selRef_uninterestingAudioClassifications;
  if (v6 != 255)
  {
    uint64_t v8 = *(void **)(v2 + 416);
    uint64_t v9 = *(void **)(v2 + 424);
    uint64_t v10 = *(void *)(v2 + 432);
    if (v6)
    {
      double v22 = *(void **)(v2 + 416);
      double v23 = v8;
      id v24 = v9;
      char v25 = v23;
      id v26 = v9;
      uint64_t v27 = v25;
      id v28 = v9;
      uint64_t v29 = sub_259843A50();
      os_log_type_t v30 = sub_259844B50();
      if (os_log_type_enabled(v29, v30))
      {
        OUTLINED_FUNCTION_21_0();
        uint64_t v31 = (void *)OUTLINED_FUNCTION_47_21();
        v302[0] = OUTLINED_FUNCTION_20();
        *(_DWORD *)uint64_t v0 = 136643075;
        id v32 = objc_msgSend(v27, sel_string);
        v286 = v10;
        uint64_t v33 = sub_2598440A0();
        v289 = v6;
        unint64_t v35 = v34;

        *(void *)(v0 + 4) = sub_259356D5C(v33, v35, v302);
        swift_bridgeObjectRelease();

        *(_WORD *)(v0 + 12) = 2112;
        id v36 = v9;
        uint64_t v37 = _swift_stdlib_bridgeErrorToNSError();
        *(void *)(v0 + 14) = v37;
        *uint64_t v31 = v37;

        OUTLINED_FUNCTION_86_13(&dword_25934C000, v29, v30, "Error when validating suggestion with query '%{sensitive}s': %@");
        __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
        swift_arrayDestroy();
        uint64_t v2 = v297;
        OUTLINED_FUNCTION_61_0();
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();

        sub_25962267C(v22, v9, v286, v289);
      }
      else
      {

        sub_25962267C(v22, v9, v10, v6);
      }
      goto LABEL_37;
    }
    v293 = v3;
    v294 = v4;
    v295 = (void *)v5;
    v296 = (void *)(v2 + 256);
    uint64_t v11 = v8[2];
    v283 = *(void **)(v2 + 416);
    v285 = *(void *)(v2 + 432);
    v288 = *(unsigned char *)(v2 + 440);
    if (v11)
    {
      OUTLINED_FUNCTION_212_5();
      OUTLINED_FUNCTION_212_5();
      *v298 = MEMORY[0x263F8EE78];
      sub_259843F00();
      sub_2594F08BC();
      unint64_t v12 = v8;
      uint64_t v13 = *v298;
      os_log_type_t v14 = v12 + 5;
      do
      {
        uint64_t v16 = *(v14 - 1);
        uint64_t v15 = *v14;
        *v298 = v13;
        unint64_t v18 = *(void *)(v13 + 16);
        unint64_t v17 = *(void *)(v13 + 24);
        sub_259843F00();
        if (v18 >= v17 >> 1)
        {
          sub_2594F08BC();
          uint64_t v13 = *v298;
        }
        *(void *)(v13 + 16) = v18 + 1;
        uint64_t v19 = v13 + 16 * v18;
        *(void *)(v19 + 32) = v16;
        *(void *)(v19 + 40) = v15;
        v14 += 4;
        --v11;
      }
      while (v11);
      swift_bridgeObjectRelease();
      sub_25962267C(v283, v9, v285, v288);
      uint64_t v2 = v297;
    }
    else
    {
      sub_259622600(v8, v9, v10, 0);
      uint64_t v13 = MEMORY[0x263F8EE78];
    }
    uint64_t v39 = *(void *)(v2 + 696);
    v299 = v9;
    id v40 = objc_msgSend(v299, sel_string);
    uint64_t v41 = v2;
    uint64_t v42 = sub_2598440A0();
    uint64_t v44 = v43;

    sub_259843F00();
    swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v41 + 528) = v39;
    sub_25939CE90();
    OUTLINED_FUNCTION_130();
    if (!__OFADD__(v47, v48))
    {
      unint64_t v49 = v45;
      os_log_type_t v50 = v46;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AF0);
      if (sub_259845350())
      {
        sub_25939CE90();
        OUTLINED_FUNCTION_40_2();
        if (!v52)
        {
LABEL_19:
          OUTLINED_FUNCTION_38_23();
          return sub_2598457D0();
        }
        unint64_t v49 = v51;
      }
      uint64_t v55 = *(void **)(v41 + 528);
      if (v50)
      {
        uint64_t v56 = v55[7];
        swift_bridgeObjectRelease();
        *(void *)(v56 + 8 * v49) = v13;
      }
      else
      {
        OUTLINED_FUNCTION_48_6((uint64_t)&v55[v49 >> 6]);
        uint64_t v57 = (uint64_t *)(v55[6] + 16 * v49);
        *uint64_t v57 = v42;
        v57[1] = v44;
        *(void *)(v55[7] + 8 * v49) = v13;
        uint64_t v58 = v55[2];
        BOOL v59 = __OFADD__(v58, 1);
        uint64_t v60 = v58 + 1;
        if (v59) {
          goto LABEL_171;
        }
        v55[2] = v60;
        sub_259843F00();
      }
      uint64_t v2 = v297;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v61 = v299;
      sub_259843F00();
      uint64_t v62 = sub_259843A50();
      os_log_type_t v63 = sub_259844B70();
      if (OUTLINED_FUNCTION_91(v63))
      {
        OUTLINED_FUNCTION_21_0();
        uint64_t v64 = (void *)OUTLINED_FUNCTION_47_21();
        *v299 = 138478083;
        *(void *)(v299 + 1) = v61;
        *uint64_t v64 = v9;

        *((_WORD *)v299 + 6) = 2048;
        uint64_t v65 = *(void *)(v13 + 16);
        swift_bridgeObjectRelease();
        *(void *)((char *)v299 + 14) = v65;
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_86_13(&dword_25934C000, v62, v50, "Finished searching for prompt %{private}@. Assets received: %ld");
        __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
        OUTLINED_FUNCTION_294();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_bridgeObjectRelease_n();

        uint64_t v62 = v61;
      }

      uint64_t v66 = *(void *)(v297 + 688);
      __swift_project_boxed_opaque_existential_1(v295, *(void *)(v297 + 240));
      sub_2598435D0();
      if (v66)
      {
        v300 = *(void *)(v297 + 640);
        uint64_t v67 = *(void *)(v297 + 632);
        v280 = *(void *)(v297 + 624);
        v278 = *(void *)(v297 + 616);
        uint64_t v68 = *(void *)(v297 + 608);
        v276 = *(id *)(v297 + 600);
        sub_25962267C(v283, v9, v285, v288);

        sub_25962267C(v283, v9, v285, v288);
        swift_release();
        swift_release();
        (*(void (**)(uint64_t, id))(v68 + 8))(v278, v276);
        swift_bridgeObjectRelease();
        (*(void (**)(uint64_t, uint64_t))(v67 + 8))(v300, v280);
        goto LABEL_32;
      }
      sub_25962267C(v283, v9, v285, v288);

      sub_25962267C(v283, v9, v285, v288);
      *(void *)(v297 + 696) = v55;
      *(void *)(v297 + 688) = 0;
LABEL_37:
      uint64_t v71 = (void *)swift_task_alloc();
      *(void *)(v2 + 704) = v71;
      *uint64_t v71 = v2;
      v71[1] = sub_25967A1AC;
      OUTLINED_FUNCTION_13();
      OUTLINED_FUNCTION_38_23();
      return MEMORY[0x270FA1F68]();
    }
LABEL_167:
    __break(1u);
    goto LABEL_168;
  }
  v293 = v3;
  v294 = v4;
  v296 = (void *)(v2 + 256);
  uint64_t v20 = *(void *)(v2 + 688);
  (*(void (**)(void, void))(*(void *)(v2 + 608) + 8))(*(void *)(v2 + 616), *(void *)(v2 + 600));
  uint64_t v21 = *(void *)(v2 + 248);
  __swift_project_boxed_opaque_existential_1((void *)v5, *(void *)(v2 + 240));
  sub_2598435E0();
  v295 = (void *)v5;
  if (v20)
  {
    OUTLINED_FUNCTION_159_7();
    swift_release();
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, char **))(v5 + 8))(v21, &selRef_uninterestingAudioClassifications);
LABEL_32:
    sub_2594C761C(v293);
    sub_2593980A0(v294, &qword_26A38C870);
    goto LABEL_33;
  }
  __swift_project_boxed_opaque_existential_1(v296, *(void *)(v2 + 280));
  sub_2598435C0();
  uint64_t v38 = *(void *)(v2 + 696);
  v273 = *(void *)(v2 + 568);
  *(void *)(v2 + 496) = MEMORY[0x263F8EE80];
  sub_25966FE4C(v38, v302);
  uint64_t v73 = (char *)OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController;
  uint64_t v74 = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyGenerationCache;
  v267 = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_photoLibrary;
  v268 = OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetySession;
  sub_259843F00();
  uint64_t v75 = sub_25966FE88();
  if (!v78)
  {
LABEL_113:
    sub_25940CF64();
    OUTLINED_FUNCTION_4_62(v296);
    if (v74)
    {
      OUTLINED_FUNCTION_159_7();
      swift_release();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_235_0();
      v184();
      sub_2594C761C(v293);
      sub_2593980A0(v294, &qword_26A38C870);
      goto LABEL_139;
    }
    v186 = v7;
    v282 = (void *)(v2 + 472);
    v187 = *(void *)(v2 + 648);
    v301 = (uint64_t *)(v2 + 496);
    v302[0] = MEMORY[0x263F8EE78];
    sub_2594F08BC();
    v188 = 0;
    v189 = v302[0];
    v190 = v187 & 0xC000000000000001;
    v191 = v187 + 32;
    do
    {
      if (v190) {
        v192 = (id)MEMORY[0x25A2DFA20](v188, *(void *)(v297 + 648));
      }
      else {
        v192 = *(id *)(v191 + 8 * v188);
      }
      v193 = v192;
      v194 = [v192 (SEL)(v186 + 1176)];
      v195 = sub_2598440A0();
      v197 = v196;

      v302[0] = v189;
      v198 = *(void *)(v189 + 16);
      if (v198 >= *(void *)(v189 + 24) >> 1)
      {
        OUTLINED_FUNCTION_160_4();
        v189 = v302[0];
      }
      v199 = *(void *)(v297 + 656);
      ++v188;
      *(void *)(v189 + 16) = v198 + 1;
      v200 = v189 + 16 * v198;
      *(void *)(v200 + 32) = v195;
      *(void *)(v200 + 40) = v197;
    }
    while (v188 != v199);
    v201 = 0;
    v202 = MEMORY[0x263F8EE78];
    do
    {
      v292 = v202;
      v203 = (uint64_t *)(v189 + 40 + 16 * v201);
      v204 = v201;
      while (1)
      {
        if (v204 >= *(void *)(v189 + 16)) {
          goto LABEL_170;
        }
        v205 = *(v203 - 1);
        v206 = *v203;
        v201 = v204 + 1;
        v207 = *(void *)(*v301 + 16);
        sub_259843F00();
        if (!v207) {
          break;
        }
        sub_259843F00();
        sub_25939CE90();
        v209 = v208;
        swift_bridgeObjectRelease();
        if ((v209 & 1) == 0) {
          break;
        }
        swift_bridgeObjectRelease();
        v203 += 2;
        ++v204;
        if (v198 + 1 == v201)
        {
          v202 = v292;
          goto LABEL_134;
        }
      }
      v202 = v292;
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      v302[0] = v292;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        sub_2594F08BC();
        v202 = v302[0];
      }
      v211 = *(void *)(v202 + 16);
      v203 = (uint64_t *)(v211 + 1);
      if (v211 >= *(void *)(v202 + 24) >> 1)
      {
        OUTLINED_FUNCTION_160_4();
        v202 = v302[0];
      }
      *(void *)(v202 + 16) = v203;
      v212 = v202 + 16 * v211;
      *(void *)(v212 + 32) = v205;
      *(void *)(v212 + 40) = v206;
    }
    while (v198 != v204);
LABEL_134:
    swift_bridgeObjectRelease();
    v213 = v301;
    if (*(void *)(v202 + 16))
    {
      v214 = v202;
      swift_bridgeObjectRetain_n();
      v215 = sub_259843A50();
      v216 = sub_259844B70();
      if (os_log_type_enabled(v215, v216))
      {
        v217 = (uint8_t *)OUTLINED_FUNCTION_54();
        v302[0] = OUTLINED_FUNCTION_20();
        *(_DWORD *)v217 = 136380675;
        v203 = (uint64_t *)(v217 + 12);
        v213 = v301;
        v218 = sub_259843F00();
        LOBYTE(v198) = MEMORY[0x25A2DED80](v218, MEMORY[0x263F8D310]);
        swift_release();
        v219 = OUTLINED_FUNCTION_3_26();
        v222 = sub_259356D5C(v219, v220, v221);
        OUTLINED_FUNCTION_54_2(v222, v282);
        sub_259844E10();
        swift_bridgeObjectRelease();
        swift_release_n();
        _os_log_impl(&dword_25934C000, v215, v216, "No validation results for prompts: %{private}s", v217, 0xCu);
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {

        swift_release_n();
      }
      v225 = *(void *)(v214 + 16);
      if (v225)
      {
        sub_259843F00();
        v226 = (uint64_t *)(v214 + 40);
        do
        {
          v228 = *(v226 - 1);
          v227 = *v226;
          sub_259843F00();
          v203 = (uint64_t *)swift_isUniquelyReferenced_nonNull_native();
          v302[0] = *v213;
          sub_25939CE90();
          OUTLINED_FUNCTION_130();
          LOBYTE(v198) = v231 + v232;
          if (__OFADD__(v231, v232)) {
            goto LABEL_173;
          }
          v233 = v229;
          v234 = v230;
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AF0);
          v235 = sub_259845350();
          v236 = (void *)v302[0];
          if (v235)
          {
            sub_25939CE90();
            OUTLINED_FUNCTION_40_2();
            if (!v52) {
              goto LABEL_19;
            }
            v233 = v237;
          }
          if (v234)
          {
            v238 = v236[7];
            swift_bridgeObjectRelease();
            *(void *)(v238 + 8 * v233) = MEMORY[0x263F8EE78];
            v213 = v301;
          }
          else
          {
            OUTLINED_FUNCTION_48_6((uint64_t)&v236[v233 >> 6]);
            v239 = (void *)(v236[6] + 16 * v233);
            *v239 = v228;
            v239[1] = v227;
            *(void *)(v236[7] + 8 * v233) = MEMORY[0x263F8EE78];
            v240 = v236[2];
            BOOL v59 = __OFADD__(v240, 1);
            v241 = v240 + 1;
            if (v59) {
              goto LABEL_174;
            }
            v236[2] = v241;
            sub_259843F00();
          }
          *v213 = (uint64_t)v236;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          v226 += 2;
          --v225;
        }
        while (v225);
        swift_release();
      }
    }
    v242 = *(void *)(v297 + 656);
    swift_release();
    if (v242 != *(void *)(*(void *)(v297 + 496) + 16))
    {
      swift_retain();
      v243 = sub_259843A50();
      v244 = sub_259844B50();
      if (OUTLINED_FUNCTION_218(v244))
      {
        v245 = *(void *)(v297 + 656);
        v246 = OUTLINED_FUNCTION_21_0();
        *(_DWORD *)v246 = 134218240;
        *(void *)(v297 + 488) = v245;
        sub_259844E10();
        swift_release();
        *(_WORD *)(v246 + 12) = 2048;
        v203 = (uint64_t *)(v246 + 14);
        swift_beginAccess();
        *(void *)(v297 + 480) = *(void *)(*(void *)(v297 + 496) + 16);
        sub_259844E10();
        OUTLINED_FUNCTION_191_6(&dword_25934C000, v243, (os_log_type_t)v198, "Wrong number of search results for queries. Expected %ld, got %ld");
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_release();
      }
    }
    OUTLINED_FUNCTION_4_62(*(void **)(v297 + 552));
    if (!v203)
    {
      sub_25966FBA4(MEMORY[0x263F8EE80], *(void *)(v297 + 648), v301);
      swift_release();
      swift_bridgeObjectRelease();
      v249 = OUTLINED_FUNCTION_164_5();
      v250(v249);
      sub_2594C761C(v293);
      sub_2593980A0(v294, &qword_26A38C870);
      swift_release();
      swift_bridgeObjectRelease();
      __swift_destroy_boxed_opaque_existential_1((uint64_t)v296);
      __swift_destroy_boxed_opaque_existential_1((uint64_t)v295);
      swift_task_dealloc();
      swift_task_dealloc();
      swift_task_dealloc();
      OUTLINED_FUNCTION_6_35();
      OUTLINED_FUNCTION_38_23();
      __asm { BRAA            X2, X16 }
    }
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    v247 = OUTLINED_FUNCTION_164_5();
    v248(v247);
    sub_2594C761C(v293);
    sub_2593980A0(v294, &qword_26A38C870);
    swift_bridgeObjectRelease();
LABEL_33:
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v296);
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v295);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_38_23();
    __asm { BRAA            X1, X16 }
  }
  uint64_t v79 = v75;
  uint64_t v80 = v76;
  uint64_t v81 = v77;
  uint64_t v82 = (void *)(v2 + 296);
  v279 = (void *)(v2 + 336);
  v258 = (void *)(v2 + 512);
  v259 = (void *)(v2 + 504);
  v264 = &v73[v273];
  v265 = v2 + 376;
  v263 = (uint64_t *)(v273 + v74);
  v266 = *(void *)(v2 + 696);
  v275 = (void (**)(uint64_t, uint64_t))(*(void *)(v2 + 584) + 8);
  v261 = xmmword_259876920;
  OUTLINED_FUNCTION_25_1();
  v260 = v84;
  *(void *)&long long v85 = 136380931;
  v256 = v85;
  v255 = MEMORY[0x263F8EE58] + 8;
  v271 = (void *)(v2 + 296);
  while (1)
  {
    v270 = v83;
    __swift_project_boxed_opaque_existential_1(v296, *(void *)(v2 + 280));
    if (__OFADD__(v79, 1)) {
      goto LABEL_172;
    }
    sub_259843570();
    __swift_project_boxed_opaque_existential_1(v82, *(void *)(v2 + 320));
    sub_2598435C0();
    v269 = v80;
    uint64_t v86 = *(void *)(v2 + 680);
    uint64_t v87 = *(void *)(v2 + 672);
    uint64_t v88 = *((void *)v264 + 4);
    v290 = *((void *)v264 + 3);
    __swift_project_boxed_opaque_existential_1(v264, v290);
    uint64_t v89 = *(void *)(v273 + v268);
    uint64_t v91 = v263[1];
    uint64_t v92 = v263[2];
    v305 = *v263;
    uint64_t v90 = v305;
    v306 = v91;
    v307 = v92;
    *(void *)(v2 + 400) = v87;
    *(void *)(v2 + 408) = &protocol witness table for RootEventRecorder;
    *(void *)(v2 + 376) = v86;
    uint64_t v93 = *(void (**)(uint64_t *__return_ptr, uint64_t, uint64_t, uint64_t *, uint64_t, uint64_t, uint64_t))(v88 + 8);
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    v93(&v303, v81, v89, &v305, v265, v290, v88);
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v265);
    uint64_t v94 = v304;
    unint64_t v95 = *(void *)(v304 + 16);
    uint64_t v2 = v297;
    v272 = v90;
    if (v95)
    {
      swift_bridgeObjectRetain_n();
      swift_retain();
      uint64_t v96 = (unsigned char *)(v94 + 48);
      uint64_t v97 = MEMORY[0x263F8EE78];
      uint64_t v82 = v271;
      do
      {
        if (*v96 == 1)
        {
          uint64_t v99 = *((void *)v96 - 2);
          uint64_t v98 = *((void *)v96 - 1);
          sub_259843F00();
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_25938553C();
            uint64_t v97 = v103;
          }
          uint64_t v100 = *(void *)(v97 + 16);
          uint64_t v101 = v97;
          if (v100 >= *(void *)(v97 + 24) >> 1)
          {
            sub_25938553C();
            uint64_t v101 = v104;
          }
          *(void *)(v101 + 16) = v100 + 1;
          uint64_t v97 = v101;
          uint64_t v102 = v101 + 16 * v100;
          *(void *)(v102 + 32) = v99;
          *(void *)(v102 + 40) = v98;
        }
        v96 += 24;
        --v95;
      }
      while (v95);
      v291 = v97;
      swift_bridgeObjectRelease_n();
      swift_release();
    }
    else
    {
      v291 = MEMORY[0x263F8EE78];
      uint64_t v82 = v271;
    }
    __swift_project_boxed_opaque_existential_1(v82, *(void *)(v297 + 320));
    OUTLINED_FUNCTION_94_7();
    sub_259843580();
    uint64_t v105 = *(void **)(v273 + v267);
    OUTLINED_FUNCTION_187(v279, *(void *)(v297 + 360));
    swift_retain();
    swift_retain();
    swift_retain();
    sub_2598435C0();
    uint64_t v106 = static StoryGenerationUtilities.assetIdentifiersFetchOptions(for:wantsIncrementalChangeDetails:)(v105, 0);
    objc_msgSend(v106, sel_setChunkSizeForFetch_, 1000);
    sub_25935633C(0, &qword_26B300508);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v107 = swift_allocObject();
    *(_OWORD *)(v107 + 16) = v261;
    *(void *)(v107 + 56) = MEMORY[0x263F8D310];
    *(void *)(v107 + 64) = sub_25935626C();
    *(void *)(v107 + 32) = 0xD00000000000001CLL;
    *(void *)(v107 + 40) = v260;
    uint64_t v108 = (void *)sub_259844AB0();
    objc_msgSend(v106, sel_setInternalPredicate_, v108);

    unint64_t v109 = sub_259843F00();
    uint64_t v110 = (void *)sub_259737700(v109);
    v305 = v272;
    v306 = v91;
    v307 = v92;
    static StoryGenerationUtilities.assetObjectIDs(with:in:using:)();
    swift_bridgeObjectRelease();
    self;
    uint64_t v111 = OUTLINED_FUNCTION_94_7();
    sub_25936C244(v111, v112, v113, v114, v115, v116, v117, v118, v253, v254, v255, v256, *((uint64_t *)&v256 + 1), v257, (uint64_t)v258, (uint64_t)v259, v260, v261, *((uint64_t *)&v261 + 1),
      v262,
      (uint64_t)v263,
      (uint64_t)v264,
      v265,
      v266,
      v267);
    uint64_t v74 = v119;
    swift_bridgeObjectRelease();
    uint64_t v120 = sub_2595458C0(v74, (uint64_t)v106, v110);
    if (v120) {
      break;
    }

    swift_release();
    swift_release();
    swift_release();
    v160 = v291;
LABEL_108:
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain_n();
    v176 = sub_259843A50();
    v177 = sub_259844B70();
    if (OUTLINED_FUNCTION_52(v177))
    {
      v178 = OUTLINED_FUNCTION_21_0();
      v305 = OUTLINED_FUNCTION_20();
      *(_DWORD *)v178 = v256;
      sub_259843F00();
      v179 = sub_259356D5C(v269, v270, &v305);
      OUTLINED_FUNCTION_54_2(v179, v259);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v178 + 12) = 2048;
      v180 = *(void *)(v160 + 16);
      swift_bridgeObjectRelease();
      *v258 = v180;
      uint64_t v82 = v271;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v176, (os_log_type_t)v74, "Validated prompt %{private}s. Assets processed:%ld", (uint8_t *)v178, 0x16u);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease_n();

      OUTLINED_FUNCTION_67_0();
    }
    uint64_t v7 = 0x1F6DD8000;
    v181 = *(void *)(v2 + 496);
    swift_isUniquelyReferenced_nonNull_native();
    v305 = v181;
    *(void *)(v2 + 496) = 0x8000000000000000;
    sub_2593A1A50();
    *(void *)(v2 + 496) = v305;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_4_62(v82);
    if (v74)
    {
      swift_release();
      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      __swift_destroy_boxed_opaque_existential_1((uint64_t)v279);
      OUTLINED_FUNCTION_97_9();
      OUTLINED_FUNCTION_235_0();
      v185();
      sub_2594C761C(v293);
      sub_2593980A0(v294, &qword_26A38C870);
      v224 = (uint64_t)v82;
      goto LABEL_138;
    }
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v279);
    swift_release();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v82);
    uint64_t v79 = sub_25966FE88();
    uint64_t v80 = v182;
    uint64_t v81 = v183;
    if (!v83) {
      goto LABEL_113;
    }
  }
  v121 = v120;
  uint64_t v122 = objc_msgSend(v121, sel_count);
  if ((uint64_t)v122 <= 0)
  {

    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    v160 = MEMORY[0x263F8EE78];
    goto LABEL_108;
  }
  uint64_t v123 = (int64_t)v122;
  v277 = v121;
  char v124 = 0;
  uint64_t v125 = 1000.0 / (double)(uint64_t)v122;
  v303 = MEMORY[0x263F8EE88];
  unint64_t v126 = 0.0;
  *(void *)&v254 = v106;
  *((void *)&v254 + 1) = v92;
  v274 = (int64_t)v122;
  while (1)
  {
    uint64_t v127 = v124 + 1000;
    unint64_t v128 = __OFADD__(v124, 1000);
    uint64_t v129 = MEMORY[0x25A2E07B0]();
    if (v124 > 0x7FFFFFFFFFFFFC17)
    {
      __break(1u);
LABEL_166:
      __break(1u);
      goto LABEL_167;
    }
    if (v123 >= v127) {
      os_log_type_t v130 = v124 + 1000;
    }
    else {
      os_log_type_t v130 = v123;
    }
    if (v130 < (uint64_t)v124) {
      goto LABEL_166;
    }
    v131 = (void *)v129;
    uint64_t v132 = *(void *)(v2 + 592);
    uint64_t v133 = *(void *)(v2 + 576);
    sub_259842A20();
    uint64_t v134 = (void *)sub_259842A40();
    (*v275)(v132, v133);
    uint64_t v135 = objc_msgSend(v277, sel_objectsAtIndexes_, v134);

    sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
    unint64_t v136 = sub_259844500();

    if (v136 >> 62)
    {
      sub_259843F00();
      uint64_t v137 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v137 = *(void *)((v136 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    v284 = v127;
    v287 = v131;
    v281 = v128;
    if (v137) {
      break;
    }
    swift_bridgeObjectRelease();
    uint64_t v139 = MEMORY[0x263F8EE78];
LABEL_82:
    v149 = *(void *)(v139 + 16);
    uint64_t v2 = v297;
    if (v149)
    {
      uint64_t v150 = v139 + 40;
      do
      {
        sub_259843F00();
        OUTLINED_FUNCTION_120_3();
        sub_2596D4E7C(v151, v152, v153, v154, v155, v156, v157, v158, v253, v254);
        swift_bridgeObjectRelease();
        v150 += 16;
        --v149;
      }
      while (v149);
    }
    swift_bridgeObjectRelease();
    __swift_project_boxed_opaque_existential_1(v279, *(void *)(v297 + 360));
    sub_2598435D0();
    unint64_t v126 = v125 + v126;
    uint64_t v123 = v274;
    char v124 = v284;
    if (v284 >= v274) {
      uint64_t v159 = 1;
    }
    else {
      uint64_t v159 = v281;
    }
    if (v159)
    {
      v161 = *(void *)(v291 + 16);
      v162 = sub_259843F00();
      if (v161)
      {
        v163 = 0;
        uint64_t v164 = v303;
        uint64_t v165 = -v161;
        uint64_t v166 = v162 + 40;
        v167 = MEMORY[0x263F8EE78];
        do
        {
          v168 = (uint64_t *)(v166 + 16 * v163++);
          while (1)
          {
            if ((unint64_t)(v163 - 1) >= *(void *)(v291 + 16)) {
              goto LABEL_169;
            }
            v170 = *(v168 - 1);
            v169 = *v168;
            sub_259843F00();
            sub_259843F00();
            sub_25973CE24(v170, v169, v164);
            v172 = v171;
            swift_bridgeObjectRelease();
            if (v172) {
              break;
            }
            swift_bridgeObjectRelease();
            ++v163;
            v168 += 2;
            if (v165 + v163 == 1) {
              goto LABEL_107;
            }
          }
          v173 = swift_isUniquelyReferenced_nonNull_native();
          v305 = v167;
          if ((v173 & 1) == 0)
          {
            sub_2594F08BC();
            v167 = v305;
          }
          v174 = *(void *)(v167 + 16);
          if (v174 >= *(void *)(v167 + 24) >> 1)
          {
            sub_2594F08BC();
            v167 = v305;
          }
          *(void *)(v167 + 16) = v174 + 1;
          v175 = v167 + 16 * v174;
          *(void *)(v175 + 32) = v170;
          *(void *)(v175 + 40) = v169;
        }
        while (v165 + v163);
      }
      else
      {
        v167 = MEMORY[0x263F8EE78];
      }
LABEL_107:
      swift_bridgeObjectRelease();
      uint64_t v2 = v297;
      __swift_project_boxed_opaque_existential_1(v279, *(void *)(v297 + 360));
      uint64_t v74 = 0;
      sub_2598435E0();

      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
      v160 = v167;
      uint64_t v82 = v271;
      goto LABEL_108;
    }
  }
  v305 = MEMORY[0x263F8EE78];
  sub_2594F08BC();
  if ((v137 & 0x8000000000000000) == 0)
  {
    os_log_t v138 = 0;
    uint64_t v139 = v305;
    while (1)
    {
      uint64_t v140 = (v136 & 0xC000000000000001) != 0
           ? (id)MEMORY[0x25A2DFA20](v138, v136)
           : *(id *)(v136 + 8 * v138 + 32);
      uint64_t v141 = v140;
      uint64_t v142 = objc_msgSend(v141, sel_uuid);
      if (v142)
      {
        __n128 v143 = v142;
        uint64_t v144 = sub_2598440A0();
        uint64_t v146 = v145;
      }
      else
      {
        uint64_t v144 = 0;
        uint64_t v146 = 0;
      }

      if (!v146) {
        break;
      }
      v305 = v139;
      uint64_t v147 = *(void *)(v139 + 16);
      if (v147 >= *(void *)(v139 + 24) >> 1)
      {
        sub_2594F08BC();
        uint64_t v139 = v305;
      }
      ++v138;
      *(void *)(v139 + 16) = v147 + 1;
      uint64_t v148 = v139 + 16 * v147;
      *(void *)(v148 + 32) = v144;
      *(void *)(v148 + 40) = v146;
      if (v137 == v138)
      {
        swift_bridgeObjectRelease();
        goto LABEL_82;
      }
    }
    __break(1u);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    OUTLINED_FUNCTION_97_9();
    OUTLINED_FUNCTION_235_0();
    v223();
    sub_2594C761C(v293);
    sub_2593980A0(v294, &qword_26A38C870);
    v224 = (uint64_t)v271;
LABEL_138:
    __swift_destroy_boxed_opaque_existential_1(v224);
LABEL_139:
    swift_bridgeObjectRelease();
    goto LABEL_33;
  }
LABEL_168:
  __break(1u);
LABEL_169:
  __break(1u);
LABEL_170:
  __break(1u);
LABEL_171:
  __break(1u);
LABEL_172:
  __break(1u);
LABEL_173:
  __break(1u);
LABEL_174:
  __break(1u);
  return MEMORY[0x270FA1F68]();
}

double sub_25967C0A0(uint64_t a1, char a2)
{
  if (a2)
  {
    if (a2 == 1)
    {
      *(void *)(a1 + 24) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
      *(void *)(a1 + 32) = &off_27074B900;
      id v3 = objc_msgSend(self, sel_currentUnifiedEmbeddingVersion);
      uint64_t v5 = v3;
      if (v3)
      {
        id v6 = objc_msgSend(v3, sel_integerValue);
      }
      else
      {
        id v6 = 0;
      }
      *(unsigned char *)a1 = 4;
      *(void *)(a1 + 8) = v6;
      *(unsigned char *)(a1 + 16) = v5 == 0;
    }
    else
    {
      *(void *)(a1 + 24) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
      *(void *)(a1 + 32) = &off_27074B900;
      id v10 = objc_msgSend(self, sel_currentUnifiedEmbeddingVersion);
      uint64_t v11 = v10;
      if (v10)
      {
        id v12 = objc_msgSend(v10, sel_integerValue);
      }
      else
      {
        id v12 = 0;
      }
      *(unsigned char *)a1 = 0;
      *(void *)(a1 + 8) = v12;
      *(unsigned char *)(a1 + 16) = v11 == 0;
      objc_msgSend(self, sel_globalTraitsScopedAssetsRetrievalThreshold);
    }
  }
  else
  {
    *(void *)(a1 + 24) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
    *(void *)(a1 + 32) = &off_27074B900;
    id v7 = objc_msgSend(self, sel_currentUnifiedEmbeddingVersion);
    uint64_t v8 = v7;
    if (v7)
    {
      id v9 = objc_msgSend(v7, sel_integerValue);
    }
    else
    {
      id v9 = 0;
    }
    *(unsigned char *)a1 = 1;
    *(void *)(a1 + 8) = v9;
    *(unsigned char *)(a1 + 16) = v8 == 0;
    objc_msgSend(self, sel_globalTraitsRetrievalThreshold);
  }
  return result;
}

uint64_t PromptSuggestionSearchValidator.deinit()
{
  sub_259843A80();
  OUTLINED_FUNCTION_4();
  uint64_t v1 = OUTLINED_FUNCTION_11_1();
  v2(v1);

  __swift_destroy_boxed_opaque_existential_1(v0 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController + v0);
  swift_release();
  swift_release();
  swift_release();
  sub_25968331C(v0 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_queryGenerator, (void (*)(void))type metadata accessor for QueryGenerator);
  sub_2593980A0(v0 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentBasedGroundingAndAssetsProvider, &qword_26A38FB68);
  swift_release();
  swift_release();
  swift_release();
  return v0;
}

uint64_t PromptSuggestionSearchValidator.__deallocating_deinit()
{
  PromptSuggestionSearchValidator.deinit();
  OUTLINED_FUNCTION_7_0();
  uint64_t v2 = *(unsigned int *)(v1 + 48);
  uint64_t v3 = *(unsigned __int16 *)(v1 + 52);
  return MEMORY[0x270FA0228](v0, v2, v3);
}

uint64_t sub_25967C3CC(uint64_t a1)
{
  uint64_t v3 = (void *)swift_task_alloc();
  *(void *)(v1 + 16) = v3;
  *uint64_t v3 = v1;
  v3[1] = sub_2596834F8;
  return PromptSuggestionSearchValidator.safeFallbackPrompts(_:)(a1);
}

uint64_t sub_25967C464()
{
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 16) = v1;
  *uint64_t v1 = v0;
  v1[1] = sub_2593C35A8;
  return PromptSuggestionSearchValidator.searchFallbackPrompts(_:progressReporter:)();
}

uint64_t sub_25967C50C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  id v7 = (void *)swift_task_alloc();
  *(void *)(v3 + 16) = v7;
  void *v7 = v3;
  v7[1] = sub_2593C35A8;
  return PromptSuggestionSearchValidator.searchSuggestedPromptsWithLLMQU(_:progressReporter:)(a1, a2, a3);
}

uint64_t sub_25967C5C0()
{
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 16) = v1;
  *uint64_t v1 = v0;
  v1[1] = sub_2593C35A8;
  return PromptSuggestionSearchValidator.searchSuggestedPrompts(_:progressReporter:)();
}

uint64_t sub_25967C668()
{
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 16) = v1;
  *uint64_t v1 = v0;
  v1[1] = sub_2593C35A8;
  return PromptSuggestionSearchValidator.searchSuggestedPromptsHighRecall(_:progressReporter:)();
}

uint64_t sub_25967C710()
{
  uint64_t v1 = (void *)swift_task_alloc();
  *(void *)(v0 + 16) = v1;
  *uint64_t v1 = v0;
  v1[1] = sub_2593C35A8;
  return PromptSuggestionSearchValidator.searchSuggestedPromptTraits(_:scopedAssetUUIDs:progressReporter:)();
}

id sub_25967C7C0()
{
  return PromptSuggestionSearchValidator.validationAssetCountThreshold.getter();
}

void sub_25967C7D8(uint64_t *a1)
{
  uint64_t v2 = *a1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    sub_25948E468();
    uint64_t v2 = v4;
  }
  uint64_t v3 = *(void *)(v2 + 16);
  v5[0] = v2 + 32;
  v5[1] = v3;
  sub_25967CD30(v5);
  *a1 = v2;
}

uint64_t sub_25967C848(uint64_t a1)
{
  if (a1 < 0)
  {
    __break(1u);
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  OUTLINED_FUNCTION_195_6();
  if (!(!v3 & v2)) {
    goto LABEL_7;
  }
  OUTLINED_FUNCTION_124_8();
  if (OUTLINED_FUNCTION_193_7())
  {
    swift_bridgeObjectRelease();
    return v1;
  }
LABEL_8:
  OUTLINED_FUNCTION_63_15();
  OUTLINED_FUNCTION_192_4();
  OUTLINED_FUNCTION_74_12();
  sub_259844240();
  OUTLINED_FUNCTION_20_40();
  swift_getObjectType();
  OUTLINED_FUNCTION_207_4();
  OUTLINED_FUNCTION_217_4();
  OUTLINED_FUNCTION_181_6();
  swift_bridgeObjectRelease();
  uint64_t result = OUTLINED_FUNCTION_105_7();
  __break(1u);
  return result;
}

uint64_t sub_25967C908(uint64_t a1)
{
  if (a1 < 0)
  {
    __break(1u);
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  OUTLINED_FUNCTION_195_6();
  if (!(!v3 & v2)) {
    goto LABEL_7;
  }
  OUTLINED_FUNCTION_194_7();
  swift_unknownObjectRetain_n();
  if (swift_dynamicCast()) {
    return v1;
  }
LABEL_8:
  OUTLINED_FUNCTION_63_15();
  OUTLINED_FUNCTION_192_4();
  OUTLINED_FUNCTION_74_12();
  sub_259844240();
  OUTLINED_FUNCTION_20_40();
  swift_getObjectType();
  OUTLINED_FUNCTION_207_4();
  OUTLINED_FUNCTION_217_4();
  OUTLINED_FUNCTION_181_6();
  swift_bridgeObjectRelease();
  uint64_t result = OUTLINED_FUNCTION_105_7();
  __break(1u);
  return result;
}

uint64_t sub_25967C9DC(uint64_t a1)
{
  if (a1 < 0)
  {
    __break(1u);
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  OUTLINED_FUNCTION_195_6();
  if (!(!v3 & v2)) {
    goto LABEL_7;
  }
  OUTLINED_FUNCTION_194_7();
  type metadata accessor for PHSearchEntityCategoryType(0);
  OUTLINED_FUNCTION_94_7();
  swift_unknownObjectRetain_n();
  if (swift_dynamicCast()) {
    return v1;
  }
LABEL_8:
  OUTLINED_FUNCTION_63_15();
  OUTLINED_FUNCTION_192_4();
  sub_259844240();
  sub_259844240();
  OUTLINED_FUNCTION_20_40();
  swift_getObjectType();
  OUTLINED_FUNCTION_207_4();
  OUTLINED_FUNCTION_217_4();
  OUTLINED_FUNCTION_181_6();
  swift_bridgeObjectRelease();
  uint64_t result = OUTLINED_FUNCTION_105_7();
  __break(1u);
  return result;
}

uint64_t sub_25967CAD4(uint64_t a1)
{
  if (a1 < 0)
  {
    __break(1u);
LABEL_7:
    __break(1u);
    goto LABEL_8;
  }
  OUTLINED_FUNCTION_195_6();
  if (!(!v3 & v2)) {
    goto LABEL_7;
  }
  OUTLINED_FUNCTION_124_8();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38CF38);
  if (OUTLINED_FUNCTION_193_7()) {
    return v1;
  }
LABEL_8:
  OUTLINED_FUNCTION_63_15();
  OUTLINED_FUNCTION_192_4();
  OUTLINED_FUNCTION_74_12();
  sub_259844240();
  OUTLINED_FUNCTION_20_40();
  swift_getObjectType();
  OUTLINED_FUNCTION_207_4();
  OUTLINED_FUNCTION_217_4();
  OUTLINED_FUNCTION_181_6();
  swift_bridgeObjectRelease();
  uint64_t result = OUTLINED_FUNCTION_105_7();
  __break(1u);
  return result;
}

uint64_t sub_25967CBA0(unint64_t a1, uint64_t a2)
{
  if ((a1 & 0x8000000000000000) != 0)
  {
    __break(1u);
    goto LABEL_6;
  }
  if (*(void *)(a2 + 16) <= a1)
  {
LABEL_6:
    __break(1u);
    goto LABEL_7;
  }
  uint64_t v2 = *(void *)((a2 & 0xFFFFFFFFFFFFFF8) + 8 * a1 + 0x20);
  swift_unknownObjectRetain_n();
  if (swift_dynamicCast())
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return v2;
  }
LABEL_7:
  sub_259845110();
  sub_259844240();
  sub_259844240();
  sub_259844240();
  swift_getObjectType();
  swift_unknownObjectRelease();
  sub_2598459F0();
  sub_259844240();
  swift_bridgeObjectRelease();
  uint64_t result = sub_259845400();
  __break(1u);
  return result;
}

void sub_25967CD30(uint64_t *a1)
{
  uint64_t v3 = a1[1];
  uint64_t v4 = sub_259845710();
  if (v4 >= v3)
  {
    if ((v3 & 0x8000000000000000) == 0)
    {
      if (v3) {
        sub_25967D4B4(0, (char *)v3, (char *)1, a1);
      }
      return;
    }
    goto LABEL_141;
  }
  uint64_t v5 = v4;
  uint64_t v102 = sub_2594F0464(v3 / 2);
  uint64_t v103 = v3;
  uint64_t v110 = v6;
  uint64_t v100 = a1;
  if (v3 <= 0)
  {
    uint64_t v9 = (void *)MEMORY[0x263F8EE78];
    unint64_t v38 = *(void *)(MEMORY[0x263F8EE78] + 16);
LABEL_103:
    if (v38 < 2)
    {
LABEL_118:
      swift_bridgeObjectRelease();
      if (v3 >= -1)
      {
        *(void *)(v102 + 16) = 0;
        swift_bridgeObjectRelease();
        return;
      }
      goto LABEL_147;
    }
    uint64_t v89 = *v100;
    while (1)
    {
      unint64_t v90 = v38 - 2;
      if (v38 < 2) {
        break;
      }
      if (!v89) {
        goto LABEL_150;
      }
      uint64_t v91 = v9;
      uint64_t v92 = v9 + 4;
      uint64_t v93 = v9[2 * v90 + 4];
      uint64_t v94 = v9[2 * v38 + 3];
      sub_25967D5F0((char *)(v89 + 88 * v93), (char *)(v89 + 88 * v92[2 * v38 - 2]), v89 + 88 * v94, v110);
      if (v1) {
        goto LABEL_115;
      }
      if (v94 < v93) {
        goto LABEL_136;
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2596F24C8();
        uint64_t v91 = v97;
      }
      if (v90 >= v91[2]) {
        goto LABEL_137;
      }
      unint64_t v95 = &v91[2 * v90 + 4];
      *unint64_t v95 = v93;
      v95[1] = v94;
      unint64_t v96 = v91[2];
      if (v38 > v96) {
        goto LABEL_138;
      }
      uint64_t v9 = v91;
      memmove(&v91[2 * v38 + 2], &v91[2 * v38 + 4], 16 * (v96 - v38));
      v91[2] = v96 - 1;
      unint64_t v38 = v96 - 1;
      uint64_t v3 = v103;
      if (v96 <= 2) {
        goto LABEL_118;
      }
    }
LABEL_135:
    __break(1u);
LABEL_136:
    __break(1u);
LABEL_137:
    __break(1u);
LABEL_138:
    __break(1u);
LABEL_139:
    __break(1u);
LABEL_140:
    __break(1u);
LABEL_141:
    __break(1u);
LABEL_142:
    __break(1u);
LABEL_143:
    __break(1u);
LABEL_144:
    __break(1u);
LABEL_145:
    __break(1u);
LABEL_146:
    __break(1u);
LABEL_147:
    __break(1u);
LABEL_148:
    __break(1u);
LABEL_149:
    __break(1u);
LABEL_150:
    __break(1u);
    return;
  }
  uint64_t v101 = v5;
  uint64_t v7 = 0;
  uint64_t v8 = *a1;
  uint64_t v98 = v8 + 72;
  uint64_t v99 = v8 + 40;
  uint64_t v9 = (void *)MEMORY[0x263F8EE78];
  uint64_t v111 = v8;
  while (1)
  {
    uint64_t v10 = v7;
    uint64_t v11 = v7 + 1;
    uint64_t v104 = v9;
    uint64_t v107 = v7;
    if (v7 + 1 < v3)
    {
      uint64_t v12 = v8 + 88 * v11;
      uint64_t v13 = *(void *)(v12 + 24);
      if (*(unsigned char *)(v12 + 40) & 1) != 0 || (*(unsigned char *)(v8 + 88 * v10 + 40))
      {
        uint64_t v14 = v10 + 2;
        if (v10 + 2 >= v3) {
          goto LABEL_23;
        }
        BOOL v15 = 1;
      }
      else
      {
        BOOL v15 = v13 < *(void *)(v8 + 88 * v10 + 24);
        uint64_t v14 = v10 + 2;
        if (v10 + 2 >= v3)
        {
LABEL_21:
          if (!v15)
          {
LABEL_30:
            uint64_t v11 = v14;
            goto LABEL_31;
          }
          if (v14 < v10) {
            goto LABEL_142;
          }
LABEL_23:
          if (v10 < v14)
          {
            uint64_t v19 = 88 * v14;
            uint64_t v20 = v14;
            uint64_t v21 = v10;
            uint64_t v22 = 88 * v10;
            do
            {
              if (v21 != --v20)
              {
                if (!v111) {
                  goto LABEL_149;
                }
                uint64_t v23 = v111 + v19;
                uint64_t v24 = *(void *)(v111 + v22);
                uint64_t v25 = *(void *)(v111 + v22 + 8);
                char v112 = *(unsigned char *)(v111 + v22 + 16);
                char v26 = *(unsigned char *)(v111 + v22 + 40);
                uint64_t v118 = *(void *)(v111 + v22 + 48);
                uint64_t v116 = *(void *)(v111 + v22 + 56);
                char v114 = *(unsigned char *)(v111 + v22 + 64);
                long long v105 = *(_OWORD *)(v111 + v22 + 24);
                long long v108 = *(_OWORD *)(v111 + v22 + 72);
                memmove((void *)(v111 + v22), (const void *)(v111 + v19 - 88), 0x58uLL);
                *(void *)(v23 - 88) = v24;
                *(void *)(v23 - 80) = v25;
                *(unsigned char *)(v23 - 72) = v112;
                *(_OWORD *)(v23 - 64) = v105;
                *(unsigned char *)(v23 - 48) = v26;
                *(void *)(v23 - 40) = v118;
                *(void *)(v23 - 32) = v116;
                *(unsigned char *)(v23 - 24) = v114;
                *(_OWORD *)(v23 - 16) = v108;
                uint64_t v9 = v104;
              }
              ++v21;
              v19 -= 88;
              v22 += 88;
            }
            while (v21 < v20);
            uint64_t v11 = v14;
            uint64_t v3 = v103;
            uint64_t v8 = v111;
            uint64_t v10 = v107;
            goto LABEL_31;
          }
          goto LABEL_30;
        }
      }
      if (v3 <= v14 + 1) {
        uint64_t v16 = v14 + 1;
      }
      else {
        uint64_t v16 = v3;
      }
      unint64_t v17 = (unsigned char *)(v99 + 88 * v14);
      do
      {
        uint64_t v18 = *((void *)v17 - 2);
        if (*v17 & 1) != 0 || (*(unsigned char *)(v8 + 88 * v11 + 40))
        {
          if (!v15) {
            goto LABEL_30;
          }
        }
        else if (((v15 ^ (v18 >= v13)) & 1) == 0)
        {
          goto LABEL_21;
        }
        uint64_t v11 = v14;
        v17 += 88;
        uint64_t v13 = v18;
        ++v14;
      }
      while (v14 < v3);
      uint64_t v14 = v16;
      goto LABEL_21;
    }
LABEL_31:
    if (v11 < v3)
    {
      if (__OFSUB__(v11, v10)) {
        goto LABEL_140;
      }
      if (v11 - v10 < v101)
      {
        if (__OFADD__(v10, v101)) {
          goto LABEL_144;
        }
        if (v10 + v101 >= v3) {
          uint64_t v27 = v3;
        }
        else {
          uint64_t v27 = v10 + v101;
        }
        if (v27 < v10) {
          goto LABEL_145;
        }
        if (v11 != v27)
        {
          id v28 = (_OWORD *)(v98 + 88 * v11);
          uint64_t v106 = v27;
          do
          {
            uint64_t v29 = v8 + 88 * v11;
            uint64_t v113 = *(void *)(v29 + 24);
            char v30 = *(unsigned char *)(v29 + 40);
            uint64_t v31 = v10;
            unint64_t v109 = v28;
            do
            {
              if ((v30 & 1) == 0 && (*((unsigned char *)v28 - 120) & 1) == 0 && v113 >= *((void *)v28 - 17)) {
                break;
              }
              if (!v8) {
                goto LABEL_146;
              }
              uint64_t v33 = *((void *)v28 - 9);
              uint64_t v32 = *((void *)v28 - 8);
              char v34 = *((unsigned char *)v28 - 56);
              uint64_t v35 = *((void *)v28 - 5);
              uint64_t v36 = *((void *)v28 - 2);
              uint64_t v117 = *((void *)v28 - 3);
              char v119 = *((unsigned char *)v28 - 8);
              long long v115 = *v28;
              memcpy((char *)v28 - 72, v28 - 10, 0x58uLL);
              *(_OWORD *)((char *)v28 - 88) = v115;
              id v28 = (_OWORD *)((char *)v28 - 88);
              *((void *)v28 - 9) = v33;
              *((void *)v28 - 8) = v32;
              *((unsigned char *)v28 - 56) = v34;
              *((void *)v28 - 6) = v113;
              *((void *)v28 - 5) = v35;
              *((unsigned char *)v28 - 32) = v30;
              *((void *)v28 - 3) = v117;
              *((void *)v28 - 2) = v36;
              ++v31;
              *((unsigned char *)v28 - 8) = v119;
              uint64_t v8 = v111;
            }
            while (v11 != v31);
            ++v11;
            uint64_t v10 = v107;
            id v28 = (_OWORD *)((char *)v109 + 88);
          }
          while (v11 != v106);
          uint64_t v11 = v106;
          uint64_t v9 = v104;
        }
      }
    }
    if (v11 < v10) {
      goto LABEL_139;
    }
    uint64_t v120 = v11;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      sub_2596F23F0();
      uint64_t v9 = v87;
    }
    unint64_t v37 = v9[2];
    unint64_t v38 = v37 + 1;
    if (v37 >= v9[3] >> 1)
    {
      sub_2596F23F0();
      uint64_t v9 = v88;
    }
    v9[2] = v38;
    uint64_t v39 = v9 + 4;
    id v40 = &v9[2 * v37 + 4];
    uint64_t *v40 = v107;
    v40[1] = v120;
    if (v37) {
      break;
    }
    unint64_t v38 = 1;
LABEL_97:
    uint64_t v3 = v103;
    uint64_t v7 = v120;
    if (v120 >= v103) {
      goto LABEL_103;
    }
  }
  while (1)
  {
    unint64_t v41 = v38 - 1;
    if (v38 >= 4)
    {
      os_log_type_t v46 = &v39[2 * v38];
      uint64_t v47 = *(v46 - 8);
      uint64_t v48 = *(v46 - 7);
      BOOL v52 = __OFSUB__(v48, v47);
      uint64_t v49 = v48 - v47;
      if (v52) {
        goto LABEL_124;
      }
      uint64_t v51 = *(v46 - 6);
      uint64_t v50 = *(v46 - 5);
      BOOL v52 = __OFSUB__(v50, v51);
      uint64_t v44 = v50 - v51;
      char v45 = v52;
      if (v52) {
        goto LABEL_125;
      }
      unint64_t v53 = v38 - 2;
      uint64_t v54 = &v39[2 * v38 - 4];
      uint64_t v56 = *v54;
      uint64_t v55 = v54[1];
      BOOL v52 = __OFSUB__(v55, v56);
      uint64_t v57 = v55 - v56;
      if (v52) {
        goto LABEL_126;
      }
      BOOL v52 = __OFADD__(v44, v57);
      uint64_t v58 = v44 + v57;
      if (v52) {
        goto LABEL_128;
      }
      if (v58 >= v49)
      {
        uint64_t v76 = &v39[2 * v41];
        uint64_t v78 = *v76;
        uint64_t v77 = v76[1];
        BOOL v52 = __OFSUB__(v77, v78);
        uint64_t v79 = v77 - v78;
        if (v52) {
          goto LABEL_134;
        }
        BOOL v69 = v44 < v79;
        goto LABEL_86;
      }
    }
    else
    {
      if (v38 != 3)
      {
        uint64_t v70 = v9[4];
        uint64_t v71 = v9[5];
        BOOL v52 = __OFSUB__(v71, v70);
        uint64_t v63 = v71 - v70;
        char v64 = v52;
        goto LABEL_80;
      }
      uint64_t v43 = v9[4];
      uint64_t v42 = v9[5];
      BOOL v52 = __OFSUB__(v42, v43);
      uint64_t v44 = v42 - v43;
      char v45 = v52;
    }
    if (v45) {
      goto LABEL_127;
    }
    unint64_t v53 = v38 - 2;
    BOOL v59 = &v39[2 * v38 - 4];
    uint64_t v61 = *v59;
    uint64_t v60 = v59[1];
    BOOL v62 = __OFSUB__(v60, v61);
    uint64_t v63 = v60 - v61;
    char v64 = v62;
    if (v62) {
      goto LABEL_129;
    }
    uint64_t v65 = &v39[2 * v41];
    uint64_t v67 = *v65;
    uint64_t v66 = v65[1];
    BOOL v52 = __OFSUB__(v66, v67);
    uint64_t v68 = v66 - v67;
    if (v52) {
      goto LABEL_131;
    }
    if (__OFADD__(v63, v68)) {
      goto LABEL_133;
    }
    if (v63 + v68 >= v44)
    {
      BOOL v69 = v44 < v68;
LABEL_86:
      if (v69) {
        unint64_t v41 = v53;
      }
      goto LABEL_88;
    }
LABEL_80:
    if (v64) {
      goto LABEL_130;
    }
    uint64_t v72 = &v39[2 * v41];
    uint64_t v74 = *v72;
    uint64_t v73 = v72[1];
    BOOL v52 = __OFSUB__(v73, v74);
    uint64_t v75 = v73 - v74;
    if (v52) {
      goto LABEL_132;
    }
    if (v75 < v63) {
      goto LABEL_97;
    }
LABEL_88:
    unint64_t v80 = v41 - 1;
    if (v41 - 1 >= v38)
    {
      __break(1u);
LABEL_121:
      __break(1u);
LABEL_122:
      __break(1u);
LABEL_123:
      __break(1u);
LABEL_124:
      __break(1u);
LABEL_125:
      __break(1u);
LABEL_126:
      __break(1u);
LABEL_127:
      __break(1u);
LABEL_128:
      __break(1u);
LABEL_129:
      __break(1u);
LABEL_130:
      __break(1u);
LABEL_131:
      __break(1u);
LABEL_132:
      __break(1u);
LABEL_133:
      __break(1u);
LABEL_134:
      __break(1u);
      goto LABEL_135;
    }
    if (!v8) {
      goto LABEL_148;
    }
    uint64_t v81 = v9;
    uint64_t v82 = &v39[2 * v80];
    uint64_t v83 = *v82;
    uint64_t v84 = &v39[2 * v41];
    uint64_t v85 = v84[1];
    sub_25967D5F0((char *)(v8 + 88 * *v82), (char *)(v8 + 88 * *v84), v8 + 88 * v85, v110);
    if (v1) {
      break;
    }
    if (v85 < v83) {
      goto LABEL_121;
    }
    if (v41 > v81[2]) {
      goto LABEL_122;
    }
    *uint64_t v82 = v83;
    v39[2 * v80 + 1] = v85;
    unint64_t v86 = v81[2];
    if (v41 >= v86) {
      goto LABEL_123;
    }
    unint64_t v38 = v86 - 1;
    memmove(&v39[2 * v41], v84 + 2, 16 * (v86 - 1 - v41));
    v81[2] = v86 - 1;
    uint64_t v9 = v81;
    if (v86 <= 2) {
      goto LABEL_97;
    }
  }
LABEL_115:
  swift_bridgeObjectRelease();
  if (v103 < -1) {
    goto LABEL_143;
  }
  *(void *)(v102 + 16) = 0;
  swift_bridgeObjectRelease();
}

char *sub_25967D4B4(char *result, char *a2, char *a3, uint64_t *a4)
{
  BOOL v15 = result;
  if (a3 != a2)
  {
    uint64_t v4 = a3;
    uint64_t v17 = *a4;
    uint64_t v5 = (_OWORD *)(*a4 + 88 * (void)a3 + 72);
    while (2)
    {
      uint64_t v6 = v17 + 88 * (void)v4;
      uint64_t v18 = *(void *)(v6 + 24);
      char v7 = *(unsigned char *)(v6 + 40);
      uint64_t v8 = v15;
      uint64_t v16 = v5;
      do
      {
        if ((v7 & 1) == 0 && (*((unsigned char *)v5 - 120) & 1) == 0 && v18 >= *((void *)v5 - 17)) {
          break;
        }
        if (!v17)
        {
          __break(1u);
          return result;
        }
        uint64_t v9 = *((void *)v5 - 9);
        uint64_t v10 = *((void *)v5 - 8);
        char v11 = *((unsigned char *)v5 - 56);
        uint64_t v12 = *((void *)v5 - 5);
        uint64_t v13 = *((void *)v5 - 2);
        uint64_t v20 = *((void *)v5 - 3);
        char v21 = *((unsigned char *)v5 - 8);
        long long v19 = *v5;
        uint64_t result = (char *)memcpy((char *)v5 - 72, v5 - 10, 0x58uLL);
        *(_OWORD *)((char *)v5 - 88) = v19;
        uint64_t v5 = (_OWORD *)((char *)v5 - 88);
        *((void *)v5 - 9) = v9;
        *((void *)v5 - 8) = v10;
        *((unsigned char *)v5 - 56) = v11;
        *((void *)v5 - 6) = v18;
        *((void *)v5 - 5) = v12;
        *((unsigned char *)v5 - 32) = v7;
        *((void *)v5 - 3) = v20;
        *((void *)v5 - 2) = v13;
        ++v8;
        *((unsigned char *)v5 - 8) = v21;
      }
      while (v4 != v8);
      ++v4;
      uint64_t v5 = (_OWORD *)((char *)v16 + 88);
      if (v4 != a2) {
        continue;
      }
      break;
    }
  }
  return result;
}

uint64_t sub_25967D5F0(char *a1, char *a2, unint64_t a3, char *a4)
{
  uint64_t v4 = a4;
  uint64_t v6 = a2;
  char v7 = a1;
  uint64_t v8 = a2 - a1;
  uint64_t v9 = (a2 - a1) / 88;
  uint64_t v10 = a3 - (void)a2;
  uint64_t v11 = (uint64_t)(a3 - (void)a2) / 88;
  if (v9 >= v11)
  {
    sub_2596EDD60(a2, (uint64_t)(a3 - (void)a2) / 88, a4);
    unint64_t v12 = (unint64_t)&v4[88 * v11];
    if (v7 >= v6 || v10 < 88) {
      goto LABEL_47;
    }
    uint64_t v18 = (char *)(a3 - 88);
    while (1)
    {
      long long v19 = v18 + 88;
      if ((*(unsigned char *)(v12 - 48) & 1) != 0 || (*(v6 - 48) & 1) != 0 || *(void *)(v12 - 64) < *((void *)v6 - 8))
      {
        uint64_t v20 = v6 - 88;
        BOOL v21 = v19 != v6 || v18 >= v6;
        v6 -= 88;
        if (!v21) {
          goto LABEL_34;
        }
      }
      else
      {
        uint64_t v20 = (char *)(v12 - 88);
        BOOL v23 = v19 != (char *)v12 || (unint64_t)v18 >= v12;
        v12 -= 88;
        if (!v23) {
          goto LABEL_34;
        }
      }
      memmove(v18, v20, 0x58uLL);
LABEL_34:
      v18 -= 88;
      if (v6 <= v7 || v12 <= (unint64_t)v4) {
        goto LABEL_47;
      }
    }
  }
  sub_2596EDD60(a1, (a2 - a1) / 88, a4);
  unint64_t v12 = (unint64_t)&v4[88 * v9];
  if ((unint64_t)v6 < a3 && v8 >= 88)
  {
    do
    {
      if ((v6[40] & 1) != 0 || (v4[40] & 1) != 0 || *((void *)v6 + 3) < *((void *)v4 + 3))
      {
        BOOL v13 = v7 == v6;
        uint64_t v14 = v6;
        v6 += 88;
        if (v13 && v7 < v6) {
          goto LABEL_11;
        }
      }
      else
      {
        BOOL v13 = v7 == v4;
        uint64_t v14 = v4;
        v4 += 88;
        if (v13 && v7 < v4) {
          goto LABEL_11;
        }
      }
      memmove(v7, v14, 0x58uLL);
LABEL_11:
      v7 += 88;
    }
    while ((unint64_t)v4 < v12 && (unint64_t)v6 < a3);
  }
  uint64_t v6 = v7;
LABEL_47:
  sub_2596EDD60(v4, (uint64_t)(v12 - (void)v4) / 88, v6);
  return 1;
}

void sub_25967D7B0()
{
  OUTLINED_FUNCTION_80_11();
  if (v2)
  {
    OUTLINED_FUNCTION_31_26();
LABEL_3:
    OUTLINED_FUNCTION_79_12();
    uint64_t v3 = sub_259843F00();
    uint64_t v11 = OUTLINED_FUNCTION_152_6(v3, v4, v5, v6, v7, v8, v9, v10, v24, v25, v26, v27);
    v0(v11);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return;
  }
  if (!__OFADD__(v1, 1))
  {
    OUTLINED_FUNCTION_45_19();
    if (v12 == v13) {
      goto LABEL_24;
    }
    OUTLINED_FUNCTION_121_7();
    if (!v14)
    {
      OUTLINED_FUNCTION_78_13();
      if (v12 == v13) {
        goto LABEL_24;
      }
      if (!*(void *)(v17 + 8 * v18))
      {
        if (v15 + 2 >= v16) {
          goto LABEL_24;
        }
        if (*(void *)(v17 + 8 * (v15 + 2))) {
          goto LABEL_8;
        }
        if (v15 + 3 >= v16)
        {
LABEL_24:
          OUTLINED_FUNCTION_98_7();
          return;
        }
        if (!*(void *)(v17 + 8 * (v15 + 3)))
        {
          OUTLINED_FUNCTION_76_9();
          if (v12 == v13) {
            goto LABEL_24;
          }
          if (!*(void *)(v20 + 8 * v19))
          {
            OUTLINED_FUNCTION_149_5();
            while (v21 < v22)
            {
              OUTLINED_FUNCTION_120_8();
              if (v23) {
                goto LABEL_8;
              }
            }
            goto LABEL_24;
          }
        }
      }
    }
LABEL_8:
    OUTLINED_FUNCTION_22_41();
    goto LABEL_3;
  }
  __break(1u);
}

void sub_25967D8BC()
{
  void (*v13)(uint64_t *__return_ptr, void *);
  char v14;
  char v15;
  uint64_t v16;
  uint64_t v17;
  uint64_t v18;
  uint64_t v19;
  uint64_t v20;
  uint64_t v21;
  uint64_t v22;
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  void v28[4];

  OUTLINED_FUNCTION_80_11();
  if (v2)
  {
    OUTLINED_FUNCTION_31_26();
LABEL_3:
    uint64_t v7 = (uint64_t *)(*(void *)(v3 + 48) + 16 * v4);
    uint64_t v8 = *v7;
    uint64_t v9 = v7[1];
    uint64_t v10 = (uint64_t *)(*(void *)(v3 + 56) + 16 * v4);
    uint64_t v11 = *v10;
    uint64_t v12 = v10[1];
    v0[3] = v6;
    v0[4] = v5;
    char v13 = (void (*)(uint64_t *__return_ptr, void *))v0[5];
    v28[0] = v8;
    v28[1] = v9;
    v28[2] = v11;
    v28[3] = v12;
    sub_259843F00();
    sub_259843F00();
    v13(&v27, v28);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return;
  }
  if (!__OFADD__(v1, 1))
  {
    OUTLINED_FUNCTION_45_19();
    if (v14 == v15) {
      goto LABEL_24;
    }
    OUTLINED_FUNCTION_121_7();
    if (!v16)
    {
      OUTLINED_FUNCTION_78_13();
      if (v14 == v15) {
        goto LABEL_24;
      }
      if (!*(void *)(v19 + 8 * v20))
      {
        if (v17 + 2 >= v18) {
          goto LABEL_24;
        }
        if (*(void *)(v19 + 8 * (v17 + 2))) {
          goto LABEL_8;
        }
        if (v17 + 3 >= v18)
        {
LABEL_24:
          OUTLINED_FUNCTION_13();
          v0[3] = v26;
          v0[4] = 0;
          return;
        }
        if (!*(void *)(v19 + 8 * (v17 + 3)))
        {
          OUTLINED_FUNCTION_76_9();
          if (v14 == v15) {
            goto LABEL_24;
          }
          if (!*(void *)(v22 + 8 * v21))
          {
            OUTLINED_FUNCTION_149_5();
            while (v23 < v24)
            {
              OUTLINED_FUNCTION_120_8();
              if (v25) {
                goto LABEL_8;
              }
            }
            goto LABEL_24;
          }
        }
      }
    }
LABEL_8:
    OUTLINED_FUNCTION_22_41();
    goto LABEL_3;
  }
  __break(1u);
}

void sub_25967DA04()
{
  OUTLINED_FUNCTION_80_11();
  if (v2)
  {
    OUTLINED_FUNCTION_31_26();
LABEL_3:
    uint64_t v7 = *(void *)(*(void *)(v3 + 48) + 16 * v4);
    v0[3] = v6;
    v0[4] = v5;
    uint64_t v8 = (void (*)(char *))v0[5];
    char v33 = v7;
    uint64_t v9 = sub_259843F00();
    uint64_t v17 = OUTLINED_FUNCTION_152_6(v9, v10, v11, v12, v13, v14, v15, v16, v30, v31, v32, v33);
    v8(v17);
    swift_bridgeObjectRelease();
    return;
  }
  if (!__OFADD__(v1, 1))
  {
    OUTLINED_FUNCTION_45_19();
    if (v18 == v19) {
      goto LABEL_24;
    }
    OUTLINED_FUNCTION_121_7();
    if (!v20)
    {
      OUTLINED_FUNCTION_78_13();
      if (v18 == v19) {
        goto LABEL_24;
      }
      if (!*(void *)(v23 + 8 * v24))
      {
        if (v21 + 2 >= v22) {
          goto LABEL_24;
        }
        if (*(void *)(v23 + 8 * (v21 + 2))) {
          goto LABEL_8;
        }
        if (v21 + 3 >= v22)
        {
LABEL_24:
          OUTLINED_FUNCTION_98_7();
          return;
        }
        if (!*(void *)(v23 + 8 * (v21 + 3)))
        {
          OUTLINED_FUNCTION_76_9();
          if (v18 == v19) {
            goto LABEL_24;
          }
          if (!*(void *)(v26 + 8 * v25))
          {
            OUTLINED_FUNCTION_149_5();
            while (v27 < v28)
            {
              OUTLINED_FUNCTION_120_8();
              if (v29) {
                goto LABEL_8;
              }
            }
            goto LABEL_24;
          }
        }
      }
    }
LABEL_8:
    OUTLINED_FUNCTION_22_41();
    goto LABEL_3;
  }
  __break(1u);
}

uint64_t sub_25967DB24@<X0>(uint64_t a1@<X8>)
{
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB08);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v5);
  OUTLINED_FUNCTION_233();
  uint64_t v8 = v7 - v6;
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FCB0);
  uint64_t v10 = OUTLINED_FUNCTION_129(v9);
  MEMORY[0x270FA5388](v10);
  uint64_t v12 = (char *)&v41 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  uint64_t v15 = (uint64_t *)((char *)&v41 - v14);
  uint64_t v16 = *v2;
  uint64_t v17 = v2[1];
  uint64_t v19 = v2[2];
  int64_t v18 = v2[3];
  unint64_t v20 = v2[4];
  uint64_t v41 = v8;
  if (v20)
  {
    uint64_t v42 = v19;
    uint64_t v43 = a1;
    uint64_t v21 = v17;
    uint64_t v44 = (v20 - 1) & v20;
    int64_t v1 = v18;
    unint64_t v22 = __clz(__rbit64(v20)) | (v18 << 6);
LABEL_3:
    uint64_t v23 = *(void *)(*(void *)(v16 + 48) + 8 * v22);
    uint64_t v24 = type metadata accessor for PersonalTrait();
    OUTLINED_FUNCTION_129(v24);
    sub_259683454();
    uint64_t v25 = 0;
    *uint64_t v15 = v23;
    uint64_t v17 = v21;
    uint64_t v19 = v42;
    a1 = v43;
    goto LABEL_11;
  }
  int64_t v26 = v18 + 1;
  if (!__OFADD__(v18, 1))
  {
    int64_t v27 = (unint64_t)(v19 + 64) >> 6;
    if (v26 >= v27)
    {
      int64_t v1 = v18;
    }
    else
    {
      unint64_t v28 = *(void *)(v17 + 8 * v26);
      if (v28)
      {
        uint64_t v43 = a1;
LABEL_8:
        uint64_t v42 = v19;
        uint64_t v21 = v17;
        uint64_t v44 = (v28 - 1) & v28;
        unint64_t v22 = __clz(__rbit64(v28)) + (v26 << 6);
        int64_t v1 = v26;
        goto LABEL_3;
      }
      int64_t v1 = v18 + 2;
      if (v18 + 2 >= v27)
      {
        OUTLINED_FUNCTION_180_5();
        int64_t v1 = v38;
        goto LABEL_11;
      }
      unint64_t v28 = *(void *)(v17 + 8 * v1);
      if (v28)
      {
LABEL_16:
        uint64_t v43 = a1;
        int64_t v26 = v1;
        goto LABEL_8;
      }
      if (v18 + 3 < v27)
      {
        unint64_t v28 = *(void *)(v17 + 8 * (v18 + 3));
        if (v28)
        {
          uint64_t v43 = a1;
          int64_t v26 = v18 + 3;
          goto LABEL_8;
        }
        int64_t v1 = v18 + 4;
        if (v18 + 4 >= v27)
        {
          OUTLINED_FUNCTION_180_5();
          int64_t v1 = v40;
          goto LABEL_11;
        }
        unint64_t v28 = *(void *)(v17 + 8 * v1);
        if (v28) {
          goto LABEL_16;
        }
        int64_t v26 = v18 + 5;
        if (v18 + 5 < v27)
        {
          uint64_t v43 = a1;
          unint64_t v28 = *(void *)(v17 + 8 * v26);
          if (v28) {
            goto LABEL_8;
          }
          int64_t v1 = v27 - 1;
          int64_t v39 = v18 + 6;
          while (v39 < v27)
          {
            unint64_t v28 = *(void *)(v17 + 8 * v39++);
            if (v28)
            {
              int64_t v26 = v39 - 1;
              goto LABEL_8;
            }
          }
          goto LABEL_31;
        }
      }
    }
    OUTLINED_FUNCTION_180_5();
    goto LABEL_11;
  }
  __break(1u);
LABEL_31:
  OUTLINED_FUNCTION_180_5();
  a1 = v43;
LABEL_11:
  uint64_t v29 = 1;
  __swift_storeEnumTagSinglePayload((uint64_t)v15, v25, 1, v4);
  uint64_t *v2 = v16;
  v2[1] = v17;
  v2[2] = v19;
  v2[3] = v1;
  v2[4] = v44;
  uint64_t v30 = (void (*)(uint64_t))v2[5];
  uint64_t v31 = OUTLINED_FUNCTION_292();
  sub_2596834A0(v31, v32, v33);
  if (__swift_getEnumTagSinglePayload((uint64_t)v12, 1, v4) != 1)
  {
    uint64_t v34 = (uint64_t)v12;
    uint64_t v35 = v41;
    sub_2596834A0(v34, v41, &qword_26A38FB08);
    v30(v35);
    sub_2593980A0(v35, &qword_26A38FB08);
    uint64_t v29 = 0;
  }
  uint64_t v36 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FB00);
  return __swift_storeEnumTagSinglePayload(a1, v29, 1, v36);
}

uint64_t sub_25967DE58@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BAE0);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v4);
  OUTLINED_FUNCTION_233();
  uint64_t v7 = v6 - v5;
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FCA8);
  uint64_t v9 = OUTLINED_FUNCTION_129(v8);
  uint64_t v10 = MEMORY[0x270FA5388](v9);
  uint64_t result = MEMORY[0x270FA5388](v10);
  uint64_t v13 = (uint64_t *)((char *)&v39 - v12);
  uint64_t v14 = *v1;
  uint64_t v15 = v1[1];
  uint64_t v17 = v1[2];
  int64_t v16 = v1[3];
  int64_t v18 = v16;
  unint64_t v19 = v1[4];
  uint64_t v40 = v7;
  uint64_t v44 = v20;
  if (!v19)
  {
    int64_t v28 = v16 + 1;
    if (__OFADD__(v16, 1))
    {
      __break(1u);
      return result;
    }
    int64_t v29 = (unint64_t)(v17 + 64) >> 6;
    if (v28 < v29)
    {
      unint64_t v30 = *(void *)(v15 + 8 * v28);
      if (v30)
      {
LABEL_7:
        uint64_t v41 = v17;
        uint64_t v42 = v15;
        uint64_t v43 = a1;
        uint64_t v21 = (v30 - 1) & v30;
        unint64_t v22 = __clz(__rbit64(v30)) + (v28 << 6);
        int64_t v18 = v28;
        goto LABEL_3;
      }
      int64_t v31 = v16 + 2;
      int64_t v18 = v16 + 1;
      if (v16 + 2 < v29)
      {
        unint64_t v30 = *(void *)(v15 + 8 * v31);
        if (v30)
        {
LABEL_10:
          int64_t v28 = v31;
          goto LABEL_7;
        }
        int64_t v18 = v16 + 2;
        if (v16 + 3 < v29)
        {
          unint64_t v30 = *(void *)(v15 + 8 * (v16 + 3));
          if (v30)
          {
            int64_t v28 = v16 + 3;
            goto LABEL_7;
          }
          int64_t v31 = v16 + 4;
          int64_t v18 = v16 + 3;
          if (v16 + 4 < v29)
          {
            unint64_t v30 = *(void *)(v15 + 8 * v31);
            if (v30) {
              goto LABEL_10;
            }
            int64_t v28 = v16 + 5;
            int64_t v18 = v16 + 4;
            if (v16 + 5 < v29)
            {
              unint64_t v30 = *(void *)(v15 + 8 * v28);
              if (v30) {
                goto LABEL_7;
              }
              int64_t v18 = v29 - 1;
              int64_t v32 = v16 + 6;
              while (v32 < v29)
              {
                unint64_t v30 = *(void *)(v15 + 8 * v32++);
                if (v30)
                {
                  int64_t v28 = v32 - 1;
                  goto LABEL_7;
                }
              }
            }
          }
        }
      }
    }
    __swift_storeEnumTagSinglePayload((uint64_t)v13, 1, 1, v3);
    uint64_t v21 = 0;
    goto LABEL_23;
  }
  uint64_t v41 = v17;
  uint64_t v42 = v15;
  uint64_t v43 = a1;
  uint64_t v21 = (v19 - 1) & v19;
  unint64_t v22 = __clz(__rbit64(v19)) | (v16 << 6);
LABEL_3:
  uint64_t v23 = (uint64_t *)(*(void *)(v14 + 48) + 16 * v22);
  uint64_t v24 = v14;
  uint64_t v25 = *v23;
  uint64_t v26 = v23[1];
  uint64_t v27 = type metadata accessor for MomentInformation();
  OUTLINED_FUNCTION_129(v27);
  sub_259683454();
  *uint64_t v13 = v25;
  v13[1] = v26;
  __swift_storeEnumTagSinglePayload((uint64_t)v13, 0, 1, v3);
  uint64_t v14 = v24;
  sub_259843F00();
  uint64_t v15 = v42;
  a1 = v43;
  uint64_t v17 = v41;
LABEL_23:
  *int64_t v1 = v14;
  v1[1] = v15;
  v1[2] = v17;
  v1[3] = v18;
  v1[4] = v21;
  char v33 = (void (*)(uint64_t))v1[5];
  uint64_t v34 = v44;
  sub_2596834A0((uint64_t)v13, v44, &qword_26A38FCA8);
  uint64_t v35 = 1;
  if (__swift_getEnumTagSinglePayload(v34, 1, v3) != 1)
  {
    uint64_t v36 = v34;
    uint64_t v37 = v40;
    sub_2596834A0(v36, v40, &qword_26A38BAE0);
    v33(v37);
    sub_2593980A0(v37, &qword_26A38BAE0);
    uint64_t v35 = 0;
  }
  uint64_t v38 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BAE8);
  return __swift_storeEnumTagSinglePayload(a1, v35, 1, v38);
}

void sub_25967E18C(_OWORD *a1@<X8>)
{
  uint64_t v3 = *v1;
  uint64_t v5 = v1[3];
  unint64_t v4 = v1[4];
  uint64_t v6 = v5;
  if (!v4)
  {
    if (__OFADD__(v5, 1))
    {
      __break(1u);
      return;
    }
    if (v5 + 1 < (uint64_t)((unint64_t)(v1[2] + 64) >> 6))
    {
      OUTLINED_FUNCTION_121_7();
      if (v25)
      {
LABEL_9:
        uint64_t v7 = (v25 - 1) & v25;
        unint64_t v8 = __clz(__rbit64(v25)) + (v21 << 6);
        uint64_t v6 = v21;
        goto LABEL_3;
      }
      uint64_t v26 = v21 + 1;
      uint64_t v6 = v21;
      if (v21 + 1 < v23)
      {
        unint64_t v25 = *(void *)(v24 + 8 * v26);
        if (v25)
        {
LABEL_12:
          uint64_t v21 = v26;
          goto LABEL_9;
        }
        uint64_t v6 = v21 + 1;
        if (v21 + 2 < v23)
        {
          unint64_t v25 = *(void *)(v24 + 8 * (v21 + 2));
          if (v25)
          {
            v21 += 2;
            goto LABEL_9;
          }
          uint64_t v26 = v21 + 3;
          uint64_t v6 = v21 + 2;
          if (v21 + 3 < v23)
          {
            unint64_t v25 = *(void *)(v24 + 8 * v26);
            if (v25) {
              goto LABEL_12;
            }
            v21 += 4;
            uint64_t v6 = v26;
            if (v21 < v23)
            {
              unint64_t v25 = *(void *)(v24 + 8 * v21);
              if (v25) {
                goto LABEL_9;
              }
              uint64_t v6 = v23 - 1;
              uint64_t v27 = v22 + 6;
              while (v27 < v23)
              {
                OUTLINED_FUNCTION_120_8();
                if (v25)
                {
                  uint64_t v21 = v27 - 1;
                  goto LABEL_9;
                }
              }
            }
          }
        }
      }
    }
    v1[3] = v6;
    v1[4] = 0;
    *a1 = 0u;
    a1[1] = 0u;
    a1[2] = 0u;
    a1[3] = 0u;
    a1[4] = 0u;
    a1[5] = 0u;
    return;
  }
  uint64_t v7 = (v4 - 1) & v4;
  unint64_t v8 = __clz(__rbit64(v4)) | (v5 << 6);
LABEL_3:
  uint64_t v9 = *(void *)(v3 + 48) + 88 * v8;
  uint64_t v10 = *(void *)(v9 + 8);
  char v11 = *(unsigned char *)(v9 + 16);
  char v12 = *(unsigned char *)(v9 + 40);
  uint64_t v13 = *(void *)(v9 + 48);
  uint64_t v14 = *(void *)(v9 + 56);
  char v15 = *(unsigned char *)(v9 + 64);
  uint64_t v16 = *(void *)(v9 + 72);
  uint64_t v17 = *(void *)(v9 + 80);
  uint64_t v18 = *(void *)(*(void *)(v3 + 56) + 8 * v8);
  unint64_t v19 = (void (*)(void *))v1[5];
  v28[0] = *(void *)v9;
  v28[1] = v10;
  char v29 = v11;
  long long v20 = *(_OWORD *)(v9 + 24);
  v1[3] = v6;
  v1[4] = v7;
  long long v30 = v20;
  char v31 = v12;
  uint64_t v32 = v13;
  uint64_t v33 = v14;
  char v34 = v15;
  uint64_t v35 = v16;
  uint64_t v36 = v17;
  uint64_t v37 = v18;
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  v19(v28);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
}

void sub_25967E3D4()
{
  OUTLINED_FUNCTION_80_11();
  if (v3)
  {
    OUTLINED_FUNCTION_31_26();
LABEL_3:
    OUTLINED_FUNCTION_79_12();
    id v4 = v0;
    char v12 = OUTLINED_FUNCTION_152_6((uint64_t)v4, v5, v6, v7, v8, v9, v10, v11, v25, v26, v27, v28);
    v1(v12);

    swift_bridgeObjectRelease();
    return;
  }
  if (!__OFADD__(v2, 1))
  {
    OUTLINED_FUNCTION_45_19();
    if (v13 == v14) {
      goto LABEL_24;
    }
    OUTLINED_FUNCTION_121_7();
    if (!v15)
    {
      OUTLINED_FUNCTION_78_13();
      if (v13 == v14) {
        goto LABEL_24;
      }
      if (!*(void *)(v18 + 8 * v19))
      {
        if (v16 + 2 >= v17) {
          goto LABEL_24;
        }
        if (*(void *)(v18 + 8 * (v16 + 2))) {
          goto LABEL_8;
        }
        if (v16 + 3 >= v17)
        {
LABEL_24:
          OUTLINED_FUNCTION_98_7();
          return;
        }
        if (!*(void *)(v18 + 8 * (v16 + 3)))
        {
          OUTLINED_FUNCTION_76_9();
          if (v13 == v14) {
            goto LABEL_24;
          }
          if (!*(void *)(v21 + 8 * v20))
          {
            OUTLINED_FUNCTION_149_5();
            while (v22 < v23)
            {
              OUTLINED_FUNCTION_120_8();
              if (v24) {
                goto LABEL_8;
              }
            }
            goto LABEL_24;
          }
        }
      }
    }
LABEL_8:
    OUTLINED_FUNCTION_22_41();
    goto LABEL_3;
  }
  __break(1u);
}

void sub_25967E4DC(_OWORD *a1@<X8>)
{
  OUTLINED_FUNCTION_80_11();
  if (!v4)
  {
    if (__OFADD__(v3, 1))
    {
      __break(1u);
      return;
    }
    OUTLINED_FUNCTION_45_19();
    if (v17 == v18)
    {
LABEL_26:
      v1[3] = v16;
      v1[4] = 0;
      *a1 = 0u;
      a1[1] = 0u;
      return;
    }
    OUTLINED_FUNCTION_121_7();
    if (!v19)
    {
      OUTLINED_FUNCTION_78_13();
      if (v17 == v18) {
        goto LABEL_26;
      }
      if (!*(void *)(v22 + 8 * v23))
      {
        uint64_t v16 = v23;
        if (v20 + 2 >= v21) {
          goto LABEL_26;
        }
        if (!*(void *)(v22 + 8 * (v20 + 2)))
        {
          uint64_t v16 = v20 + 2;
          if (v20 + 3 >= v21) {
            goto LABEL_26;
          }
          if (!*(void *)(v22 + 8 * (v20 + 3)))
          {
            OUTLINED_FUNCTION_76_9();
            if (v17 == v18) {
              goto LABEL_26;
            }
            if (!*(void *)(v25 + 8 * v24))
            {
              OUTLINED_FUNCTION_149_5();
              while (v26 < v27)
              {
                OUTLINED_FUNCTION_120_8();
                if (v28) {
                  goto LABEL_10;
                }
              }
              goto LABEL_26;
            }
          }
        }
      }
    }
LABEL_10:
    OUTLINED_FUNCTION_22_41();
    goto LABEL_3;
  }
  OUTLINED_FUNCTION_31_26();
LABEL_3:
  uint64_t v9 = (uint64_t *)(*(void *)(v5 + 48) + 16 * v6);
  uint64_t v10 = *v9;
  uint64_t v11 = v9[1];
  char v12 = (uint64_t *)(*(void *)(v5 + 56) + 16 * v6);
  uint64_t v13 = *v12;
  unint64_t v14 = v12[1];
  v1[3] = v8;
  v1[4] = v7;
  uint64_t v15 = (void (*)(void *))v1[5];
  v29[0] = v10;
  v29[1] = v11;
  v29[2] = v13;
  id v29[3] = v14;
  sub_259843F00();
  sub_2594AAF0C(v13, v14);
  v15(v29);
  swift_bridgeObjectRelease();
  sub_259399374(v13, v14);
}

void sub_25967E64C()
{
  void (*v9)(uint64_t *__return_ptr, void *);
  id v10;
  int64_t v11;
  int64_t v12;
  uint64_t v13;
  unint64_t v14;
  int64_t v15;
  int64_t v16;
  uint64_t v17;
  void v18[2];

  uint64_t v1 = *v0;
  int64_t v3 = v0[3];
  unint64_t v2 = v0[4];
  int64_t v4 = v3;
  if (v2)
  {
    uint64_t v5 = (v2 - 1) & v2;
    unint64_t v6 = __clz(__rbit64(v2)) | (v3 << 6);
LABEL_3:
    uint64_t v7 = *(void **)(*(void *)(v1 + 48) + 8 * v6);
    uint64_t v8 = *(void *)(*(void *)(v1 + 56) + 8 * v6);
    v0[3] = v4;
    v0[4] = v5;
    uint64_t v9 = (void (*)(uint64_t *__return_ptr, void *))v0[5];
    v18[0] = v7;
    v18[1] = v8;
    uint64_t v10 = v7;
    sub_259843F00();
    v9(&v17, v18);
    swift_bridgeObjectRelease();

    return;
  }
  uint64_t v11 = v3 + 1;
  if (__OFADD__(v3, 1))
  {
    __break(1u);
  }
  else
  {
    char v12 = (unint64_t)(v0[2] + 64) >> 6;
    if (v11 < v12)
    {
      uint64_t v13 = v0[1];
      unint64_t v14 = *(void *)(v13 + 8 * v11);
      if (v14)
      {
LABEL_7:
        uint64_t v5 = (v14 - 1) & v14;
        unint64_t v6 = __clz(__rbit64(v14)) + (v11 << 6);
        int64_t v4 = v11;
        goto LABEL_3;
      }
      uint64_t v15 = v3 + 2;
      int64_t v4 = v3 + 1;
      if (v3 + 2 < v12)
      {
        unint64_t v14 = *(void *)(v13 + 8 * v15);
        if (v14)
        {
LABEL_10:
          uint64_t v11 = v15;
          goto LABEL_7;
        }
        int64_t v4 = v3 + 2;
        if (v3 + 3 < v12)
        {
          unint64_t v14 = *(void *)(v13 + 8 * (v3 + 3));
          if (v14)
          {
            uint64_t v11 = v3 + 3;
            goto LABEL_7;
          }
          uint64_t v15 = v3 + 4;
          int64_t v4 = v3 + 3;
          if (v3 + 4 < v12)
          {
            unint64_t v14 = *(void *)(v13 + 8 * v15);
            if (v14) {
              goto LABEL_10;
            }
            uint64_t v11 = v3 + 5;
            int64_t v4 = v3 + 4;
            if (v3 + 5 < v12)
            {
              unint64_t v14 = *(void *)(v13 + 8 * v11);
              if (v14) {
                goto LABEL_7;
              }
              int64_t v4 = v12 - 1;
              uint64_t v16 = v3 + 6;
              while (v16 < v12)
              {
                unint64_t v14 = *(void *)(v13 + 8 * v16++);
                if (v14)
                {
                  uint64_t v11 = v16 - 1;
                  goto LABEL_7;
                }
              }
            }
          }
        }
      }
    }
    v0[3] = v4;
    v0[4] = 0;
  }
}

uint64_t sub_25967E7D0(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v15 = *(void *)(a7 - 8);
  MEMORY[0x270FA5388](a1);
  char v17 = (char *)&v21 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = swift_allocObject();
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v17, a2, a7);
  uint64_t v19 = sub_25967F05C(a1, (uint64_t)v17, a3, a4, a5, v18, a7, a8);
  (*(void (**)(uint64_t, uint64_t))(v15 + 8))(a2, a7);
  return v19;
}

uint64_t sub_25967E910(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v60 = a5;
  uint64_t v61 = a4;
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFBD0);
  MEMORY[0x270FA5388](v10 - 8);
  uint64_t v59 = (uint64_t)&v50 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t Generator = type metadata accessor for QueryGenerator(0);
  MEMORY[0x270FA5388](Generator);
  uint64_t v58 = (char *)&v50 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t GeneratorContext = type metadata accessor for QueryGeneratorContext(0);
  MEMORY[0x270FA5388](GeneratorContext);
  uint64_t v56 = (char *)&v50 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v14);
  uint64_t v16 = (uint64_t *)((char *)&v50 - v15);
  uint64_t v17 = sub_259843A80();
  uint64_t v18 = *(void *)(v17 - 8);
  MEMORY[0x270FA5388](v17);
  uint64_t v20 = (char *)&v50 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  v68[3] = type metadata accessor for LiveGenerativeMemorySafetyController(0);
  v68[4] = &protocol witness table for LiveGenerativeMemorySafetyController;
  v68[0] = a2;
  uint64_t v21 = a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_logger;
  sub_259843A60();
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_photoLibrary) = a1;
  id v22 = a1;
  static FreeformStoryFetching.fetcher(with:isForTesting:)(v22, 0, (uint64_t *)&v65);
  uint64_t v51 = a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher;
  sub_2593A2D00(&v65, a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher);
  sub_259353FF0((uint64_t)v68, (uint64_t)OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController + a6);
  id v23 = objc_msgSend(objc_allocWithZone((Class)CLSCurationContext), sel_initWithPhotoLibrary_, v22);
  type metadata accessor for SafeAssetCollection.Session();
  swift_allocObject();
  id v53 = v23;
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetySession) = SafeAssetCollection.Session.init(curationContext:)((uint64_t)v53);
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentExpansionProcessor) = a3;
  uint64_t v24 = v61;
  sub_2593C2A90(v61, a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentBasedGroundingAndAssetsProvider, &qword_26A38FB68);
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_maxAssetFetchCount) = v60;
  uint64_t v25 = unk_270744FE0;
  if ((unk_270744FE0 & ~qword_270744FD8) == 0) {
    uint64_t v25 = 0;
  }
  *(void *)&long long v65 = v25 | qword_270744FD8;
  uint64_t v26 = *(void (**)(char *, uint64_t, uint64_t))(v18 + 16);
  uint64_t v55 = v17;
  BOOL v52 = v26;
  v26(v20, v21, v17);
  type metadata accessor for RootEventRecorder(0);
  swift_allocObject();
  uint64_t v60 = a3;
  swift_retain();
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_eventRecorder) = RootEventRecorder.init(options:logger:)((uint64_t)&v65, (uint64_t)v20);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA90);
  uint64_t v27 = swift_allocObject();
  *(_DWORD *)(v27 + 24) = 0;
  uint64_t v28 = MEMORY[0x263F8EE80];
  *(void *)(v27 + 16) = MEMORY[0x263F8EE80];
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA98);
  uint64_t v29 = swift_allocObject();
  *(_DWORD *)(v29 + 24) = 0;
  *(void *)(v29 + 16) = v28;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BAA0);
  uint64_t v30 = swift_allocObject();
  *(_DWORD *)(v30 + 24) = 0;
  *(void *)(v30 + 16) = v28;
  char v31 = (uint64_t *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyGenerationCache);
  *char v31 = v27;
  v31[1] = v29;
  v31[2] = v30;
  sub_2593C2A90(v24, (uint64_t)&v62, &qword_26A38FB68);
  if (v64)
  {
    sub_2593A2D00(&v62, (uint64_t)&v65);
  }
  else
  {
    uint64_t v66 = &type metadata for MomentBasedGroundingAndAssetsFetchingProcessor;
    uint64_t v67 = &protocol witness table for MomentBasedGroundingAndAssetsFetchingProcessor;
    uint64_t v32 = (void *)swift_allocObject();
    *(void *)&long long v65 = v32;
    v32[2] = v22;
    v32[3] = v27;
    v32[4] = v29;
    v32[5] = v30;
    id v33 = v22;
    swift_retain();
    swift_retain();
    swift_retain();
    sub_2593980A0((uint64_t)&v62, &qword_26A38FB68);
  }
  sub_259353FF0(v51, (uint64_t)(v16 + 1));
  uint64_t v34 = v31[1];
  uint64_t v36 = v31[2];
  *(void *)&long long v62 = *v31;
  uint64_t v35 = v62;
  *((void *)&v62 + 1) = v34;
  uint64_t v63 = v36;
  type metadata accessor for MomentGroundingProcessor();
  swift_allocObject();
  id v37 = v22;
  swift_retain();
  swift_retain();
  swift_retain();
  uint64_t v38 = MomentGroundingProcessor.init(photoLibrary:storyGenerationCache:)((uint64_t)v37, &v62);
  sub_259353FF0((uint64_t)&v65, (uint64_t)(v16 + 7));
  uint64_t v39 = GeneratorContext;
  uint64_t v40 = (uint64_t)v16 + *(int *)(GeneratorContext + 32);
  uint64_t DisambiguationSuggestionProducer = type metadata accessor for QueryDisambiguationSuggestionProducer();
  __swift_storeEnumTagSinglePayload(v40, 1, 1, DisambiguationSuggestionProducer);
  sub_259353FF0((uint64_t)v68, (uint64_t)v16 + *(int *)(v39 + 40));
  *uint64_t v16 = v37;
  v16[6] = v38;
  uint64_t v42 = (void *)((char *)v16 + *(int *)(v39 + 36));
  *uint64_t v42 = v35;
  v42[1] = v34;
  v42[2] = v36;
  sub_259683454();
  uint64_t v43 = qword_26A388C58;
  swift_retain();
  swift_retain();
  swift_retain();
  if (v43 != -1) {
    swift_once();
  }
  uint64_t v44 = v55;
  uint64_t v45 = __swift_project_value_buffer(v55, (uint64_t)qword_26A3D2070);
  v52(v58, v45, v44);
  sub_259683228();
  sub_259683228();
  uint64_t v46 = sub_259844740();
  uint64_t v47 = v59;
  __swift_storeEnumTagSinglePayload(v59, 1, 1, v46);
  uint64_t v48 = (void *)swift_allocObject();
  v48[2] = 0;
  v48[3] = 0;
  v48[4] = a6;
  swift_retain();
  sub_25954A184(v47, (uint64_t)&unk_26A38FC98, (uint64_t)v48);

  swift_release();
  swift_release();
  sub_2593980A0(v61, &qword_26A38FB68);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v68);
  sub_25968331C((uint64_t)v16, (void (*)(void))type metadata accessor for QueryGeneratorContext);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)&v65);
  return a6;
}

uint64_t sub_25967F05C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  uint64_t v59 = a5;
  uint64_t v64 = a3;
  uint64_t v65 = a4;
  uint64_t v13 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFBD0);
  MEMORY[0x270FA5388](v13 - 8);
  uint64_t v63 = (uint64_t)&v54 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t Generator = type metadata accessor for QueryGenerator(0);
  MEMORY[0x270FA5388](Generator);
  long long v62 = (char *)&v54 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t GeneratorContext = type metadata accessor for QueryGeneratorContext(0);
  MEMORY[0x270FA5388](GeneratorContext);
  uint64_t v60 = (char *)&v54 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v17);
  uint64_t v19 = (uint64_t *)((char *)&v54 - v18);
  uint64_t v20 = sub_259843A80();
  uint64_t v21 = *(void *)(v20 - 8);
  MEMORY[0x270FA5388](v20);
  id v23 = (char *)&v54 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  v72[3] = a7;
  v72[4] = a8;
  boxed_opaque_existential_1 = __swift_allocate_boxed_opaque_existential_1(v72);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a7 - 8) + 32))(boxed_opaque_existential_1, a2, a7);
  uint64_t v25 = a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_logger;
  sub_259843A60();
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_photoLibrary) = a1;
  id v26 = a1;
  static FreeformStoryFetching.fetcher(with:isForTesting:)(v26, 0, (uint64_t *)&v69);
  uint64_t v55 = a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher;
  sub_2593A2D00(&v69, a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyAssetsFetcher);
  sub_259353FF0((uint64_t)v72, (uint64_t)OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetyController + a6);
  id v27 = objc_msgSend(objc_allocWithZone((Class)CLSCurationContext), sel_initWithPhotoLibrary_, v26);
  type metadata accessor for SafeAssetCollection.Session();
  swift_allocObject();
  id v57 = v27;
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_safetySession) = SafeAssetCollection.Session.init(curationContext:)((uint64_t)v57);
  uint64_t v28 = v65;
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentExpansionProcessor) = v64;
  sub_2593C2A90(v28, a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_momentBasedGroundingAndAssetsProvider, &qword_26A38FB68);
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_maxAssetFetchCount) = v59;
  uint64_t v29 = unk_270745010;
  if ((unk_270745010 & ~qword_270745008) == 0) {
    uint64_t v29 = 0;
  }
  *(void *)&long long v69 = v29 | qword_270745008;
  uint64_t v30 = *(void (**)(char *, uint64_t, uint64_t))(v21 + 16);
  uint64_t v59 = v20;
  uint64_t v56 = v30;
  v30(v23, v25, v20);
  type metadata accessor for RootEventRecorder(0);
  swift_allocObject();
  swift_retain();
  *(void *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_eventRecorder) = RootEventRecorder.init(options:logger:)((uint64_t)&v69, (uint64_t)v23);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA90);
  uint64_t v31 = swift_allocObject();
  *(_DWORD *)(v31 + 24) = 0;
  uint64_t v32 = MEMORY[0x263F8EE80];
  *(void *)(v31 + 16) = MEMORY[0x263F8EE80];
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BA98);
  uint64_t v33 = swift_allocObject();
  *(_DWORD *)(v33 + 24) = 0;
  *(void *)(v33 + 16) = v32;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38BAA0);
  uint64_t v34 = swift_allocObject();
  *(_DWORD *)(v34 + 24) = 0;
  *(void *)(v34 + 16) = v32;
  uint64_t v35 = (uint64_t *)(a6 + OBJC_IVAR____TtC18PhotosIntelligence31PromptSuggestionSearchValidator_storyGenerationCache);
  *uint64_t v35 = v31;
  v35[1] = v33;
  v35[2] = v34;
  sub_2593C2A90(v28, (uint64_t)&v66, &qword_26A38FB68);
  if (v68)
  {
    sub_2593A2D00(&v66, (uint64_t)&v69);
  }
  else
  {
    uint64_t v70 = &type metadata for MomentBasedGroundingAndAssetsFetchingProcessor;
    uint64_t v71 = &protocol witness table for MomentBasedGroundingAndAssetsFetchingProcessor;
    uint64_t v36 = (void *)swift_allocObject();
    *(void *)&long long v69 = v36;
    v36[2] = v26;
    v36[3] = v31;
    v36[4] = v33;
    v36[5] = v34;
    id v37 = v26;
    swift_retain();
    swift_retain();
    swift_retain();
    sub_2593980A0((uint64_t)&v66, &qword_26A38FB68);
  }
  sub_259353FF0(v55, (uint64_t)(v19 + 1));
  uint64_t v38 = v35[1];
  uint64_t v40 = v35[2];
  *(void *)&long long v66 = *v35;
  uint64_t v39 = v66;
  *((void *)&v66 + 1) = v38;
  uint64_t v67 = v40;
  type metadata accessor for MomentGroundingProcessor();
  swift_allocObject();
  id v41 = v26;
  swift_retain();
  swift_retain();
  swift_retain();
  uint64_t v42 = MomentGroundingProcessor.init(photoLibrary:storyGenerationCache:)((uint64_t)v41, &v66);
  sub_259353FF0((uint64_t)&v69, (uint64_t)(v19 + 7));
  uint64_t v43 = GeneratorContext;
  uint64_t v44 = (uint64_t)v19 + *(int *)(GeneratorContext + 32);
  uint64_t DisambiguationSuggestionProducer = type metadata accessor for QueryDisambiguationSuggestionProducer();
  __swift_storeEnumTagSinglePayload(v44, 1, 1, DisambiguationSuggestionProducer);
  sub_259353FF0((uint64_t)v72, (uint64_t)v19 + *(int *)(v43 + 40));
  *uint64_t v19 = v41;
  v19[6] = v42;
  uint64_t v46 = (void *)((char *)v19 + *(int *)(v43 + 36));
  *uint64_t v46 = v39;
  v46[1] = v38;
  v46[2] = v40;
  sub_259683454();
  uint64_t v47 = qword_26A388C58;
  swift_retain();
  swift_retain();
  swift_retain();
  if (v47 != -1) {
    swift_once();
  }
  uint64_t v48 = v59;
  uint64_t v49 = __swift_project_value_buffer(v59, (uint64_t)qword_26A3D2070);
  v56(v62, v49, v48);
  sub_259683228();
  sub_259683228();
  uint64_t v50 = sub_259844740();
  uint64_t v51 = v63;
  __swift_storeEnumTagSinglePayload(v63, 1, 1, v50);
  BOOL v52 = (void *)swift_allocObject();
  v52[2] = 0;
  v52[3] = 0;
  v52[4] = a6;
  swift_retain();
  sub_25954A184(v51, (uint64_t)&unk_26A38FCA0, (uint64_t)v52);

  swift_release();
  swift_release();
  sub_2593980A0(v65, &qword_26A38FB68);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v72);
  sub_25968331C((uint64_t)v19, (void (*)(void))type metadata accessor for QueryGeneratorContext);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)&v69);
  return a6;
}

uint64_t sub_25967F7D8()
{
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA0238](v0, 64, 7);
}

unint64_t sub_25967F810()
{
  unint64_t result = qword_26A38FBC8;
  if (!qword_26A38FBC8)
  {
    type metadata accessor for _NSRange(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FBC8);
  }
  return result;
}

uint64_t sub_25967F860@<X0>(uint64_t a1@<X0>, uint64_t *a2@<X8>)
{
  uint64_t result = sub_259588AA0(&v5, *(void **)a1, *(void *)(a1 + 8));
  uint64_t v4 = v5;
  *a2 = result;
  a2[1] = v4;
  return result;
}

uint64_t sub_25967F89C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v385 = a4;
  uint64_t v367 = a2;
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38D420);
  MEMORY[0x270FA5388](v6 - 8);
  uint64_t v357 = (uint64_t)&v350 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v361 = sub_259842AB0();
  v390 = *(char **)(v361 - 8);
  MEMORY[0x270FA5388](v361);
  v388 = (char *)&v350 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_259843A80();
  uint64_t v392 = *(void *)(v9 - 8);
  MEMORY[0x270FA5388](v9);
  uint64_t v11 = (uint64_t)&v350 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v12);
  v393 = (char *)&v350 - v13;
  MEMORY[0x270FA5388](v14);
  uint64_t v16 = (char *)&v350 - v15;
  MEMORY[0x270FA5388](v17);
  v358 = (char *)&v350 - v18;
  MEMORY[0x270FA5388](v19);
  uint64_t v21 = (char *)&v350 - v20;
  uint64_t v351 = 0;
  uint64_t v22 = type metadata accessor for RootEventRecorder.EventState(0);
  MEMORY[0x270FA5388](v22 - 8);
  uint64_t v24 = (char *)&v350 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_retain();
  v353 = v24;
  uint64_t v354 = a3;
  sub_25935351C();
  v355 = a1;
  uint64_t v25 = a1[2];
  uint64_t v404 = v25;
  uint64_t v26 = *(void *)(v25 + 16);
  if (!v26 && *(void *)(v367 + 16))
  {
    uint64_t v75 = v392;
    (*(void (**)(char *, uint64_t, uint64_t))(v392 + 16))(v21, v385, v9);
    uint64_t v76 = sub_259843A50();
    os_log_type_t v77 = sub_259844B70();
    if (os_log_type_enabled(v76, v77))
    {
      uint64_t v78 = (uint8_t *)sub_25938463C();
      *(_WORD *)uint64_t v78 = 0;
      _os_log_impl(&dword_25934C000, v76, v77, "Applied the user suggestions directly since there is no QU annotation", v78, 2u);
      MEMORY[0x25A2E13A0](v78, -1, -1);
    }

    (*(void (**)(char *, uint64_t))(v75 + 8))(v21, v9);
    memcpy(__dst, v355, 0x41uLL);
    sub_2597CF238();
    uint64_t v80 = v79;
    uint64_t v81 = (uint64_t)v353;
    sub_2593C7F50();
    uint64_t v82 = 0;
    goto LABEL_295;
  }
  uint64_t v27 = swift_allocObject();
  uint64_t v352 = v27;
  *(void *)(v27 + 16) = MEMORY[0x263F8EE78];
  v360 = (uint64_t *)(v27 + 16);
  uint64_t v28 = MEMORY[0x263F8EE80];
  uint64_t v383 = v9;
  uint64_t v391 = v11;
  v381 = v16;
  if (v26)
  {
    type metadata accessor for _NSRange(0);
    uint64_t v389 = v29;
    sub_259843F00();
    uint64_t v30 = 0;
    uint64_t v11 = v25 + 48;
    v382 = (void *)MEMORY[0x263F8EE80];
    uint64_t v384 = MEMORY[0x263F8EE80];
    do
    {
      uint64_t v32 = *(void *)(v11 - 16);
      uint64_t v31 = *(void *)(v11 - 8);
      uint64_t v395 = v26;
      uint64_t v396 = v32;
      uint64_t v34 = *(void *)v11;
      uint64_t v33 = *(void *)(v11 + 8);
      uint64_t v35 = *(void *)(v11 + 16);
      uint64_t v398 = v31;
      uint64_t v399 = v35;
      long long v400 = *(_OWORD *)(v11 + 24);
      unint64_t v36 = *(void *)(v11 + 40);
      swift_bridgeObjectRetain_n();
      uint64_t v37 = v400;
      swift_bridgeObjectRetain_n();
      uint64_t v394 = *((void *)&v400 + 1);
      swift_bridgeObjectRetain_n();
      unint64_t v397 = v36;
      swift_bridgeObjectRetain_n();
      sub_2593980F8((uint64_t)v30);
      uint64_t v38 = v382;
      swift_isUniquelyReferenced_nonNull_native();
      *(void *)&__dst[0] = v38;
      unint64_t v39 = sub_25939D52C();
      if (__OFADD__(v38[2], (v40 & 1) == 0)) {
        goto LABEL_301;
      }
      unint64_t v41 = v39;
      char v42 = v40;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FC78);
      char v43 = sub_259845350();
      uint64_t v44 = *(void **)&__dst[0];
      if (v43)
      {
        unint64_t v45 = sub_25939D52C();
        if ((v42 & 1) != (v46 & 1)) {
          goto LABEL_316;
        }
        unint64_t v41 = v45;
      }
      swift_bridgeObjectRelease();
      if (v42)
      {
        sub_259843F00();
      }
      else
      {
        v44[(v41 >> 6) + 8] |= 1 << v41;
        uint64_t v47 = (uint64_t *)(v44[6] + 16 * v41);
        *uint64_t v47 = v34;
        v47[1] = v33;
        *(void *)(v44[7] + 8 * v41) = MEMORY[0x263F8EE78];
        uint64_t v48 = v44[2];
        uint64_t v49 = v48 + 1;
        BOOL v50 = __OFADD__(v48, 1);
        uint64_t v51 = sub_259843F00();
        if (v50) {
          goto LABEL_304;
        }
        *(void *)(v51 + 16) = v49;
        uint64_t v44 = (void *)v51;
      }
      uint64_t v52 = v44[7];
      v382 = v44;
      swift_bridgeObjectRelease();
      uint64_t v53 = *(void *)(v52 + 8 * v41);
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      *(void *)(v52 + 8 * v41) = v53;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        sub_2593874C8();
        uint64_t v53 = v72;
        *(void *)(v52 + 8 * v41) = v72;
      }
      unint64_t v55 = *(void *)(v53 + 16);
      if (v55 >= *(void *)(v53 + 24) >> 1)
      {
        sub_2593874C8();
        uint64_t v53 = v73;
        *(void *)(v52 + 8 * v41) = v73;
      }
      *(void *)(v53 + 16) = v55 + 1;
      uint64_t v56 = v53 + (v55 << 6);
      uint64_t v57 = v398;
      *(void *)(v56 + 32) = v396;
      *(void *)(v56 + 40) = v57;
      *(void *)(v56 + 48) = v34;
      *(void *)(v56 + 56) = v33;
      *(void *)(v56 + 64) = v399;
      *(_OWORD *)(v56 + 72) = v400;
      *(void *)(v56 + 88) = v397;
      sub_259843F00();
      uint64_t v58 = v384;
      swift_isUniquelyReferenced_nonNull_native();
      *(void *)&__dst[0] = v58;
      unint64_t v59 = sub_25939D52C();
      if (__OFADD__(*(void *)(v58 + 16), (v60 & 1) == 0)) {
        goto LABEL_302;
      }
      unint64_t v61 = v59;
      char v62 = v60;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FC80);
      if (sub_259845350())
      {
        unint64_t v63 = sub_25939D52C();
        if ((v62 & 1) != (v64 & 1)) {
          goto LABEL_316;
        }
        unint64_t v61 = v63;
      }
      uint64_t v65 = *(void **)&__dst[0];
      uint64_t v384 = *(void *)&__dst[0];
      if (v62)
      {
        long long v66 = (uint64_t *)(*(void *)(*(void *)&__dst[0] + 56) + 16 * v61);
        swift_bridgeObjectRelease();
        *long long v66 = v399;
        v66[1] = v37;
      }
      else
      {
        *(void *)(*(void *)&__dst[0] + 8 * (v61 >> 6) + 64) |= 1 << v61;
        uint64_t v67 = (uint64_t *)(v65[6] + 16 * v61);
        *uint64_t v67 = v34;
        v67[1] = v33;
        uint64_t v68 = (uint64_t *)(v65[7] + 16 * v61);
        *uint64_t v68 = v399;
        v68[1] = v37;
        uint64_t v69 = v65[2];
        BOOL v70 = __OFADD__(v69, 1);
        uint64_t v71 = v69 + 1;
        if (v70) {
          goto LABEL_305;
        }
        v65[2] = v71;
      }
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      v11 += 64;
      uint64_t v30 = sub_2593939F0;
      uint64_t v26 = v395 - 1;
    }
    while (v395 != 1);
    sub_25945EAC4((uint64_t)&v404);
    v350 = sub_2593939F0;
    uint64_t v11 = v391;
    uint64_t v28 = v384;
    uint64_t v74 = v382;
  }
  else
  {
    v350 = 0;
    uint64_t v74 = (void *)MEMORY[0x263F8EE80];
  }
  uint64_t v83 = v74[8];
  v365 = v74 + 8;
  uint64_t v84 = 1 << *((unsigned char *)v74 + 32);
  uint64_t v85 = -1;
  if (v84 < 64) {
    uint64_t v85 = ~(-1 << v84);
  }
  unint64_t v86 = v85 & v83;
  int64_t v366 = (unint64_t)(v84 + 63) >> 6;
  v379 = (void (**)(uint64_t, uint64_t, uint64_t))(v392 + 16);
  v380 = (void (**)(char *, uint64_t))(v392 + 8);
  v356 = (void (**)(uint64_t, char *, uint64_t))(v390 + 16);
  v359 = (void (**)(char *, uint64_t, __n128))(v390 + 8);
  v382 = v74;
  sub_259843F00();
  unint64_t v87 = v86;
  int64_t v88 = 0;
  uint64_t v387 = MEMORY[0x263F8EE58] + 8;
  uint64_t v384 = v28;
  uint64_t v89 = v393;
  while (1)
  {
    if (v87)
    {
      unint64_t v90 = __clz(__rbit64(v87));
      v87 &= v87 - 1;
      unint64_t v91 = v90 | (v88 << 6);
      goto LABEL_54;
    }
    BOOL v70 = __OFADD__(v88++, 1);
    if (v70) {
      goto LABEL_306;
    }
    if (v88 >= v366) {
      goto LABEL_274;
    }
    unint64_t v92 = v365[v88];
    if (!v92) {
      break;
    }
LABEL_53:
    unint64_t v87 = (v92 - 1) & v92;
    unint64_t v91 = __clz(__rbit64(v92)) + (v88 << 6);
LABEL_54:
    if (!*(void *)(v28 + 16)) {
      continue;
    }
    unint64_t v377 = v87;
    int64_t v378 = v88;
    uint64_t v94 = (uint64_t *)(v382[6] + 16 * v91);
    uint64_t v95 = *v94;
    uint64_t v96 = *(void *)(v382[7] + 8 * v91);
    uint64_t v375 = v94[1];
    uint64_t v376 = v95;
    unint64_t v97 = sub_25939D52C();
    unint64_t v87 = v377;
    int64_t v88 = v378;
    uint64_t v28 = v384;
    if ((v98 & 1) == 0) {
      continue;
    }
    uint64_t v99 = (uint64_t *)(*(void *)(v384 + 56) + 16 * v97);
    uint64_t v100 = v99[1];
    uint64_t v392 = *v99;
    sub_259843F00();
    uint64_t v394 = v100;
    sub_259843F00();
    sub_259842AA0();
    v418[0] = MEMORY[0x263F8EE80];
    v403[0] = 0;
    uint64_t v395 = *(void *)(v96 + 16);
    if (!v395)
    {
      swift_bridgeObjectRelease();
      goto LABEL_255;
    }
    uint64_t v101 = (char *)self;
    uint64_t v389 = v96 + 32;
    v390 = v101;
    sub_259843F00();
    unint64_t v102 = 0;
    v369 = (uint64_t *)(v96 + 88);
    uint64_t v396 = v96;
    do
    {
      char v103 = j__OUTLINED_FUNCTION_7_2();
      sub_2594110F8(v102, v103 & 1, v96);
      if ((v103 & 1) == 0)
      {
        sub_25967CBA0(v102, v96);
        __break(1u);
        goto LABEL_297;
      }
      uint64_t v104 = (long long *)(v389 + (v102 << 6));
      long long v105 = v104[3];
      long long v107 = *v104;
      long long v106 = v104[1];
      long long v416 = v104[2];
      long long v417 = v105;
      long long v414 = v107;
      long long v415 = v106;
      sub_259682F7C((uint64_t)&v414);
      long long v108 = (void *)sub_259844070();
      id v109 = objc_msgSend(v390, sel_PHSearchEntityCategoryTypeFromCSAttributedEntityType_, v108);

      unint64_t v397 = v102;
      int v110 = 2;
      switch((unint64_t)v109)
      {
        case 0uLL:
          (*v379)((uint64_t)v381, v385, v383);
          uint64_t v111 = (_OWORD *)swift_allocObject();
          long long v112 = v415;
          v111[1] = v414;
          v111[2] = v112;
          long long v113 = v417;
          v111[3] = v416;
          v111[4] = v113;
          uint64_t v114 = swift_allocObject();
          *(void *)(v114 + 16) = sub_2596830E8;
          *(void *)(v114 + 24) = v111;
          sub_259682F7C((uint64_t)&v414);
          swift_retain();
          long long v115 = sub_259843A50();
          os_log_type_t v116 = sub_259844B70();
          uint64_t v117 = swift_allocObject();
          *(unsigned char *)(v117 + 16) = 37;
          uint64_t v118 = swift_allocObject();
          *(unsigned char *)(v118 + 16) = 8;
          uint64_t v119 = swift_allocObject();
          *(void *)(v119 + 16) = sub_2596830F0;
          *(void *)(v119 + 24) = v114;
          uint64_t v120 = swift_allocObject();
          *(void *)(v120 + 16) = sub_2596834F0;
          *(void *)(v120 + 24) = v119;
          __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
          uint64_t v121 = swift_allocObject();
          sub_2597534AC(v121, 3);
          *uint64_t v122 = sub_2596834FC;
          v122[1] = v117;
          v122[2] = sub_2596834FC;
          v122[3] = v118;
          v122[4] = sub_2596834F4;
          v122[5] = v120;
          swift_retain();
          swift_retain();
          swift_retain();
          swift_retain();
          swift_retain();
          swift_bridgeObjectRelease();
          os_log_type_t v123 = v116;
          *(void *)&long long v400 = v115;
          if (os_log_type_enabled(v115, v116))
          {
            uint64_t v124 = swift_slowAlloc();
            uint64_t v125 = swift_slowAlloc();
            v419[0] = v125;
            *(_WORD *)uint64_t v124 = 259;
            *(unsigned char *)(v124 + 2) = 37;
            swift_release();
            *(unsigned char *)(v124 + 3) = 8;
            swift_release();
            __dst[0] = v414;
            __dst[1] = v415;
            __dst[2] = v416;
            __dst[3] = v417;
            QueryAttribute.description.getter();
            *(void *)(v124 + 4) = sub_259356D5C(v126, v127, v419);
            swift_release();
            swift_release();
            swift_release();
            swift_release();
            swift_bridgeObjectRelease();
            sub_259682FD0((uint64_t)&v414);
            unint64_t v128 = (void *)v400;
            _os_log_impl(&dword_25934C000, (os_log_t)v400, v123, "Attribute %{sensitive}s has undefined search entity category type", (uint8_t *)v124, 0xCu);
            swift_arrayDestroy();
            MEMORY[0x25A2E13A0](v125, -1, -1);
            MEMORY[0x25A2E13A0](v124, -1, -1);
          }
          else
          {
            swift_release();
            swift_release();
            swift_release();
            swift_release();
            swift_release();
            swift_release();
            sub_259682FD0((uint64_t)&v414);
          }
          (*v380)(v381, v383);
          uint64_t v11 = v391;
          goto LABEL_139;
        case 1uLL:
          goto LABEL_65;
        case 2uLL:
          int v110 = 0;
          goto LABEL_65;
        case 3uLL:
          int v110 = 5;
          goto LABEL_65;
        case 5uLL:
          int v110 = 7;
LABEL_65:
          uint64_t v129 = sub_2597CE11C();
          if (v129[2] && (unint64_t v130 = sub_25939CE90(), (v131 & 1) != 0))
          {
            uint64_t v132 = *(void *)(v129[7] + 8 * v130);
            sub_259843F00();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            sub_25938D16C(v132);
            uint64_t v133 = sub_259844950();
            v419[0] = v133;
            uint64_t v134 = sub_259384644(v132);
            if (v134)
            {
              uint64_t v135 = v134;
              if (v134 < 1) {
                goto LABEL_303;
              }
              id v136 = v109;
              char v137 = j__OUTLINED_FUNCTION_7_2();
              uint64_t v11 = v132 + 40;
              do
              {
                if ((v137 & 1) == 0) {
                  goto LABEL_309;
                }
                uint64_t v138 = *(void *)(v11 - 8);
                uint64_t v139 = *(void *)v11;
                sub_259843F00();
                sub_2596D4E7C((uint64_t)__dst, v138, v139, v140, v141, v142, v143, v144, (uint64_t)v350, v351);
                swift_bridgeObjectRelease();
                v11 += 16;
                --v135;
              }
              while (v135);
              swift_bridgeObjectRelease();
              uint64_t v133 = v419[0];
              uint64_t v11 = v391;
              uint64_t v89 = v393;
            }
            else
            {
              id v136 = v109;
              swift_bridgeObjectRelease();
            }
            uint64_t v193 = v392;
            uint64_t v194 = v394;
            uint64_t v195 = sub_259844130();
            sub_25973CE24(v195, v196, v133);
            char v198 = v197;
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            if (v198)
            {
              sub_259682FD0((uint64_t)&v414);
              (*v379)((uint64_t)v89, v385, v383);
              uint64_t v199 = swift_allocObject();
              uint64_t v200 = v194;
              *(unsigned char *)(v199 + 16) = v110;
              uint64_t v201 = v199;
              uint64_t v399 = v199;
              uint64_t v202 = swift_allocObject();
              *(void *)(v202 + 16) = v193;
              *(void *)(v202 + 24) = v200;
              swift_bridgeObjectRetain_n();
              *(void *)&long long v400 = sub_259843A50();
              LODWORD(v386) = sub_259844B70();
              uint64_t v203 = swift_allocObject();
              *(unsigned char *)(v203 + 16) = 32;
              uint64_t v204 = v203;
              uint64_t v398 = swift_allocObject();
              *(unsigned char *)(v398 + 16) = 8;
              uint64_t v205 = swift_allocObject();
              *(void *)(v205 + 16) = sub_259683028;
              *(void *)(v205 + 24) = v201;
              uint64_t v206 = swift_allocObject();
              *(void *)(v206 + 16) = sub_259683080;
              *(void *)(v206 + 24) = v205;
              uint64_t v370 = swift_allocObject();
              *(unsigned char *)(v370 + 16) = 32;
              uint64_t v207 = swift_allocObject();
              *(unsigned char *)(v207 + 16) = 8;
              uint64_t v208 = swift_allocObject();
              *(void *)(v208 + 16) = sub_259683068;
              *(void *)(v208 + 24) = v202;
              uint64_t v209 = swift_allocObject();
              *(void *)(v209 + 16) = sub_2596834F0;
              *(void *)(v209 + 24) = v208;
              __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
              uint64_t v210 = swift_allocObject();
              uint64_t v371 = sub_2597534AC(v210, 6);
              void *v211 = sub_259683074;
              v211[1] = v204;
              int v368 = v110;
              uint64_t v212 = v204;
              uint64_t v213 = v398;
              v211[2] = sub_2596834FC;
              v211[3] = v213;
              v211[4] = sub_259683088;
              v211[5] = v206;
              uint64_t v214 = v370;
              v211[6] = sub_2596834FC;
              v211[7] = v214;
              v211[8] = sub_2596834FC;
              v211[9] = v207;
              v211[10] = sub_2596834F4;
              v211[11] = v209;
              swift_retain();
              uint64_t v372 = v205;
              swift_retain();
              uint64_t v373 = v202;
              swift_retain();
              swift_retain();
              uint64_t v374 = v212;
              swift_retain();
              swift_retain();
              swift_retain();
              swift_retain();
              swift_retain();
              swift_retain();
              swift_bridgeObjectRelease();
              if (os_log_type_enabled((os_log_t)v400, (os_log_type_t)v386))
              {
                uint64_t v363 = v207;
                uint64_t v364 = v208;
                uint64_t v371 = v206;
                uint64_t v215 = swift_slowAlloc();
                uint64_t v362 = swift_slowAlloc();
                *(void *)&__dst[0] = v362;
                *(_WORD *)uint64_t v215 = 514;
                *(unsigned char *)(v215 + 2) = 32;
                swift_release();
                *(unsigned char *)(v215 + 3) = 8;
                swift_release();
                unint64_t v216 = 0xE600000000000000;
                uint64_t v217 = 0x6E6F73726570;
                switch(v368)
                {
                  case 1:
                    unint64_t v216 = 0xED00006570795465;
                    uint64_t v217 = 0x67416E6F73726570;
                    break;
                  case 2:
                    unint64_t v216 = 0xE400000000000000;
                    uint64_t v217 = 1702125924;
                    break;
                  case 3:
                    unint64_t v216 = 0xE900000000000079;
                    uint64_t v217 = 0x6144664F74726170;
                    break;
                  case 4:
                    unint64_t v216 = 0xEA00000000006B65;
                    uint64_t v217 = 0x6557664F74726170;
                    break;
                  case 5:
                    unint64_t v216 = 0xE800000000000000;
                    uint64_t v217 = 0x6E6F697461636F6CLL;
                    break;
                  case 6:
                    unint64_t v216 = 0xEF6E6F697461636FLL;
                    uint64_t v217 = 0x4C636972656E6567;
                    break;
                  case 7:
                    unint64_t v216 = 0xE400000000000000;
                    uint64_t v217 = 1952540791;
                    break;
                  default:
                    break;
                }
                *(void *)(v215 + 4) = sub_259356D5C(v217, v216, (uint64_t *)__dst);
                swift_release();
                swift_release();
                swift_release();
                swift_bridgeObjectRelease();
                *(unsigned char *)(v215 + 12) = 32;
                swift_release();
                *(unsigned char *)(v215 + 13) = 8;
                swift_release();
                unint64_t v266 = v394;
                sub_259843F00();
                *(void *)(v215 + 14) = sub_259356D5C(v392, v266, (uint64_t *)__dst);
                swift_release();
                swift_release();
                swift_release();
                swift_bridgeObjectRelease_n();
                v267 = (void *)v400;
                _os_log_impl(&dword_25934C000, (os_log_t)v400, (os_log_type_t)v386, "Skip this %s attribute (%s) because it is present in optionalized token list", (uint8_t *)v215, 0x16u);
                uint64_t v268 = v362;
                swift_arrayDestroy();
                MEMORY[0x25A2E13A0](v268, -1, -1);
                MEMORY[0x25A2E13A0](v215, -1, -1);
              }
              else
              {

                swift_bridgeObjectRelease();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
                swift_release();
              }
              uint64_t v89 = v393;
              (*v380)(v393, v383);
              uint64_t v11 = v391;
              goto LABEL_140;
            }
            id v109 = v136;
          }
          else
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
          }
LABEL_74:
          uint64_t v145 = sub_25962B698();
          if (v109 != (id)2)
          {
            id v153 = v109;
            uint64_t v154 = v417;
            uint64_t v155 = (uint64_t)v153;
            if (v153 == (id)3)
            {
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              sub_259843F00();
              sub_259682FD0((uint64_t)&v414);
              if (sub_25938D16C(v154) <= 0)
              {
                uint64_t v156 = 0;
              }
              else
              {
                sub_259843F00();
                uint64_t v156 = v154;
              }
              v403[0] = v156;
              v218 = self;
              v219 = (void *)sub_259844070();
              v220 = (void *)sub_2598444E0();
              swift_bridgeObjectRelease();
              id v221 = objc_msgSend(v218, sel_performDisambiguationForLocationName_expansionStringValues_allowedSearchIndexCategories_photoLibrary_, v219, v220, 0, *(void *)(v385 + *(int *)(type metadata accessor for QueryGenerator(0) + 20)));

              uint64_t v222 = sub_259844500();
              uint64_t v145 = sub_25952C35C(v222);
              swift_bridgeObjectRelease();
              goto LABEL_127;
            }
            if (qword_26A388C20 != -1) {
              swift_once();
            }
            v157 = off_26A391C40;
            uint64_t v158 = sub_25938D16C((uint64_t)off_26A391C40);
            if (v158)
            {
              uint64_t v159 = v158;
              char v160 = j__OUTLINED_FUNCTION_7_2();
              if (v160)
              {
                uint64_t v161 = v157[4];
                sub_259843F00();
              }
              else
              {
                sub_259843F00();
                uint64_t v161 = sub_25967C9DC(0);
                swift_unknownObjectRelease();
              }
              if (v161 == v155)
              {
LABEL_95:
                swift_bridgeObjectRelease();
                swift_bridgeObjectRelease();
                unint64_t v162 = *((void *)&v417 + 1);
                swift_bridgeObjectRelease();
                uint64_t v163 = sub_259399E20(v162);
                if (v163)
                {
                  uint64_t v164 = v163;
                  v419[0] = sub_25962B698();
                  sub_2597D7860(v164);
                  if (v164 < 0) {
                    goto LABEL_307;
                  }
                  BOOL v165 = sub_2596CDD70(v162);
                  uint64_t v166 = 0;
                  do
                  {
                    if (v165) {
                      id v167 = *(id *)(v162 + 8 * v166 + 32);
                    }
                    else {
                      id v167 = (id)MEMORY[0x25A2DFA20](v166, v162);
                    }
                    ++v166;
                    uint64_t v402 = (uint64_t)v167;
                    sub_25935633C(0, &qword_26A38ACB0);
                    swift_dynamicCast();
                    sub_259801DBC();
                    uint64_t v168 = *(void *)(v419[0] + 16);
                    sub_259801E78(v168);
                    v169 = sub_259801EF0(v168, __dst);
                    CGRectMake(v169);
                  }
                  while (v164 != v166);
                  uint64_t v145 = v419[0];
                }
                else
                {
                  uint64_t v145 = sub_2594F0284(0);
                }
                sub_259843F00();
                sub_259682FD0((uint64_t)&v414);
                if (sub_25938D16C(v154) < 1)
                {
                  swift_bridgeObjectRelease();
                  uint64_t v154 = 0;
                }
                v403[0] = v154;
                goto LABEL_115;
              }
              if (v159 != 1)
              {
                if (v160)
                {
                  uint64_t v256 = v157[5];
                }
                else
                {
                  uint64_t v256 = sub_25967C9DC(1);
                  swift_unknownObjectRelease();
                }
                if (v256 == v155) {
                  goto LABEL_95;
                }
                if (v159 != 2)
                {
                  if (v160)
                  {
                    uint64_t v264 = v157[6];
                  }
                  else
                  {
                    uint64_t v264 = sub_25967C9DC(2);
                    swift_unknownObjectRelease();
                  }
                  if (v264 == v155)
                  {
LABEL_217:
                    uint64_t v11 = v391;
                    goto LABEL_95;
                  }
                  if (v159 != 3)
                  {
                    if (v160)
                    {
                      uint64_t v269 = v157[7];
                    }
                    else
                    {
                      uint64_t v269 = sub_25967C9DC(3);
                      swift_unknownObjectRelease();
                    }
                    uint64_t v11 = v391;
                    if (v269 == v155) {
                      goto LABEL_95;
                    }
                    if (v159 != 4)
                    {
                      uint64_t v11 = 8;
                      do
                      {
                        if (v160)
                        {
                          uint64_t v271 = v157[v11];
                        }
                        else
                        {
                          uint64_t v271 = sub_25967C9DC(v11 - 4);
                          swift_unknownObjectRelease();
                        }
                        uint64_t v272 = v11 - 3;
                        if (__OFADD__(v11 - 4, 1)) {
                          goto LABEL_310;
                        }
                        if (v271 == v155) {
                          goto LABEL_217;
                        }
                        ++v11;
                      }
                      while (v272 != v159);
                    }
                  }
                }
              }
              swift_bridgeObjectRelease();
              uint64_t v11 = v391;
            }
            if (qword_26A388C28 != -1) {
              swift_once();
            }
            v243 = off_26A391C48;
            uint64_t v244 = sub_25938D16C((uint64_t)off_26A391C48);
            if (v244)
            {
              uint64_t v245 = v244;
              char v246 = j__OUTLINED_FUNCTION_7_2();
              if (v246)
              {
                uint64_t v247 = v243[4];
                sub_259843F00();
              }
              else
              {
                sub_259843F00();
                uint64_t v247 = sub_25967C9DC(0);
                swift_unknownObjectRelease();
              }
              if (v247 == v155) {
                goto LABEL_150;
              }
              if (v245 == 1) {
                goto LABEL_240;
              }
              if (v246)
              {
                uint64_t v255 = v243[5];
              }
              else
              {
                uint64_t v255 = sub_25967C9DC(1);
                swift_unknownObjectRelease();
              }
              if (v255 == v155) {
                goto LABEL_150;
              }
              if (v245 == 2) {
                goto LABEL_240;
              }
              if (v246)
              {
                uint64_t v265 = v243[6];
              }
              else
              {
                uint64_t v265 = sub_25967C9DC(2);
                swift_unknownObjectRelease();
              }
              if (v265 == v155) {
                goto LABEL_150;
              }
              if (v245 == 3) {
                goto LABEL_240;
              }
              if (v246)
              {
                uint64_t v270 = v243[7];
              }
              else
              {
                uint64_t v270 = sub_25967C9DC(3);
                swift_unknownObjectRelease();
              }
              if (v270 == v155) {
                goto LABEL_150;
              }
              if (v245 == 4)
              {
LABEL_240:
                swift_bridgeObjectRelease();
              }
              else
              {
                uint64_t v11 = 8;
                while (1)
                {
                  if (v246)
                  {
                    uint64_t v273 = v243[v11];
                  }
                  else
                  {
                    uint64_t v273 = sub_25967C9DC(v11 - 4);
                    swift_unknownObjectRelease();
                  }
                  uint64_t v274 = v11 - 3;
                  if (__OFADD__(v11 - 4, 1)) {
                    goto LABEL_311;
                  }
                  if (v273 == v155) {
                    break;
                  }
                  ++v11;
                  if (v274 == v245)
                  {
                    swift_bridgeObjectRelease();
                    sub_259682FD0((uint64_t)&v414);
                    uint64_t v11 = v391;
                    goto LABEL_115;
                  }
                }
                uint64_t v11 = v391;
LABEL_150:
                swift_bridgeObjectRelease();
                swift_bridgeObjectRelease();
                uint64_t v248 = sub_25938D16C(v154);
                if (v248)
                {
                  uint64_t v249 = v248;
                  uint64_t v402 = sub_25962B698();
                  sub_2597D7860(v249);
                  if (v249 < 0) {
                    goto LABEL_308;
                  }
                  char v250 = j__OUTLINED_FUNCTION_7_2();
                  v251 = (uint64_t *)(v154 + 40);
                  while ((v250 & 1) != 0)
                  {
                    uint64_t v252 = *v251;
                    v419[0] = *(v251 - 1);
                    v419[1] = v252;
                    sub_259843F00();
                    swift_dynamicCast();
                    sub_259801DBC();
                    uint64_t v253 = *(void *)(v402 + 16);
                    sub_259801E78(v253);
                    v254 = sub_259801EF0(v253, __dst);
                    CGRectMake(v254);
                    v251 += 2;
                    if (!--v249)
                    {
                      sub_259682FD0((uint64_t)&v414);
                      uint64_t v145 = v402;
                      goto LABEL_115;
                    }
                  }
                  sub_25967C848(0);
                  __break(1u);
LABEL_315:
                  __break(1u);
                  goto LABEL_316;
                }
                uint64_t v145 = sub_2594F0284(0);
              }
            }
            sub_259682FD0((uint64_t)&v414);
            goto LABEL_115;
          }
          uint64_t v386 = 2;
          sub_259682FD0((uint64_t)&v414);
          if (qword_26A388A28 != -1) {
            swift_once();
          }
          uint64_t v146 = off_26A38ED88;
          uint64_t v147 = sub_259844130();
          uint64_t v149 = v148;
          uint64_t v150 = sub_259384644((uint64_t)v146);
          if (v150)
          {
            uint64_t v151 = v150;
            if ((j__OUTLINED_FUNCTION_7_2() & 1) == 0) {
              goto LABEL_299;
            }
            BOOL v152 = v146[4] == v147 && v146[5] == v149;
            if (v152 || (sub_259845750() & 1) != 0)
            {
LABEL_84:
              sub_259843F00();
              goto LABEL_85;
            }
            if (v151 == 1) {
              goto LABEL_157;
            }
            BOOL v257 = v146[6] == v147 && v146[7] == v149;
            if (v257 || (sub_259845750() & 1) != 0) {
              goto LABEL_84;
            }
            if (v151 == 2) {
              goto LABEL_157;
            }
            BOOL v258 = v146[8] == v147 && v146[9] == v149;
            if (v258 || (sub_259845750() & 1) != 0) {
              goto LABEL_84;
            }
            if (v151 == 3)
            {
LABEL_157:
              sub_259843F00();
            }
            else
            {
              BOOL v259 = v146[10] == v147 && v146[11] == v149;
              if (v259 || (sub_259845750() & 1) != 0) {
                goto LABEL_84;
              }
              sub_259843F00();
              if (v151 != 4)
              {
                v260 = v146 + 13;
                uint64_t v261 = 4;
                while (1)
                {
                  uint64_t v262 = v261 + 1;
                  if (__OFADD__(v261, 1)) {
                    goto LABEL_315;
                  }
                  BOOL v263 = *(v260 - 1) == v147 && *v260 == v149;
                  if (v263 || (sub_259845750() & 1) != 0) {
                    break;
                  }
                  v260 += 2;
                  ++v261;
                  if (v262 == v151) {
                    goto LABEL_158;
                  }
                }
                uint64_t v11 = v391;
LABEL_85:
                swift_bridgeObjectRelease();
                swift_bridgeObjectRelease();
                goto LABEL_114;
              }
            }
LABEL_158:
            swift_bridgeObjectRelease();
          }
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          sub_259843F00();
          v170 = v369;
          uint64_t v171 = v395;
          v172 = (void *)MEMORY[0x263F8EE80];
          break;
        default:
          goto LABEL_74;
      }
      do
      {
        *(void *)&long long v400 = v171;
        uint64_t v11 = *(v170 - 7);
        uint64_t v173 = *(v170 - 6);
        uint64_t v174 = *(v170 - 2);
        uint64_t v175 = *(v170 - 1);
        uint64_t v176 = *v170;
        swift_bridgeObjectRetain_n();
        uint64_t v399 = v174;
        sub_259843F00();
        swift_bridgeObjectRetain_n();
        uint64_t v398 = v176;
        sub_259843F00();
        swift_isUniquelyReferenced_nonNull_native();
        *(void *)&__dst[0] = v172;
        unint64_t v177 = sub_25939CE90();
        if (__OFADD__(v172[2], (v178 & 1) == 0))
        {
          __break(1u);
LABEL_289:
          __break(1u);
          goto LABEL_290;
        }
        unint64_t v179 = v177;
        char v180 = v178;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AF0);
        if (sub_259845350())
        {
          unint64_t v181 = sub_25939CE90();
          if ((v180 & 1) != (v182 & 1)) {
            goto LABEL_316;
          }
          unint64_t v179 = v181;
        }
        v172 = *(void **)&__dst[0];
        if (v180)
        {
          uint64_t v183 = *(void *)(*(void *)&__dst[0] + 56);
          swift_bridgeObjectRelease();
          *(void *)(v183 + 8 * v179) = v175;
        }
        else
        {
          *(void *)(*(void *)&__dst[0] + 8 * (v179 >> 6) + 64) |= 1 << v179;
          v184 = (uint64_t *)(v172[6] + 16 * v179);
          uint64_t *v184 = v11;
          v184[1] = v173;
          *(void *)(v172[7] + 8 * v179) = v175;
          uint64_t v185 = v172[2];
          BOOL v70 = __OFADD__(v185, 1);
          uint64_t v186 = v185 + 1;
          if (v70) {
            goto LABEL_289;
          }
          v172[2] = v186;
          sub_259843F00();
        }
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease();
        v170 += 8;
        uint64_t v171 = v400 - 1;
      }
      while ((void)v400 != 1);
      swift_bridgeObjectRelease();
      v187 = self;
      v188 = (void *)sub_259844070();
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      v189 = (void *)sub_259843E90();
      swift_bridgeObjectRelease();
      id v190 = objc_msgSend(v187, sel_performDisambiguationForPersonName_expansionStringValuesByCSAttributedEntityType_photoLibrary_, v188, v189, *(void *)(v385 + *(int *)(type metadata accessor for QueryGenerator(0) + 20)));

      sub_259844500();
      sub_2597D0230();
      uint64_t v192 = v191;
      swift_bridgeObjectRelease();
      uint64_t v145 = sub_25952C35C(v192);
      swift_bridgeObjectRelease();
      uint64_t v11 = v391;
LABEL_114:
      uint64_t v155 = v386;
LABEL_115:
      if (v155 < 0)
      {
LABEL_297:
        __break(1u);
LABEL_298:
        __break(1u);
LABEL_299:
        swift_bridgeObjectRetain_n();
        sub_25967C848(0);
        __break(1u);
LABEL_300:
        __break(1u);
LABEL_301:
        __break(1u);
LABEL_302:
        __break(1u);
LABEL_303:
        __break(1u);
LABEL_304:
        __break(1u);
LABEL_305:
        __break(1u);
LABEL_306:
        __break(1u);
LABEL_307:
        __break(1u);
LABEL_308:
        __break(1u);
LABEL_309:
        sub_25967C848(0);
        __break(1u);
LABEL_310:
        __break(1u);
LABEL_311:
        __break(1u);
LABEL_312:
        __break(1u);
LABEL_313:
        swift_once();
LABEL_276:
        if (unk_26A38ED50) {
          uint64_t v314 = qword_26A38ED48;
        }
        else {
          uint64_t v314 = 0;
        }
        if (unk_26A38ED50) {
          uint64_t v315 = unk_26A38ED50;
        }
        else {
          uint64_t v315 = 0xE000000000000000;
        }
        v316 = self;
        sub_259843F00();
        v317 = (void *)sub_2598444E0();
        id v318 = objc_msgSend(v316, sel_generateTripAnnotationWithTripUUIDs_, v317);

        LOBYTE(v419[0]) = 0;
        QueryToken.init(queryAnnotation:substring:source:aliasNames:range:)(v318, v314, v315, (char *)v419, 0, 0, 0, 1, (uint64_t)__dst);
        v319 = v360;
        sub_259384990();
        uint64_t v320 = *(void *)(*v319 + 16);
        sub_2593850FC(v320);
        uint64_t v313 = (uint64_t)sub_2594E6568(v320, __dst);
        goto LABEL_283;
      }
LABEL_127:
      sub_259842A60();
      id v223 = objc_msgSend(self, sel_entityCategoryTypeKeyForEntityTypeCategory_, v155);
      if (v223)
      {
        v224 = v223;
        uint64_t v225 = sub_2598440A0();
        uint64_t v227 = v226;

        uint64_t v228 = v418[0];
        swift_isUniquelyReferenced_nonNull_native();
        *(void *)&__dst[0] = v228;
        v418[0] = 0x8000000000000000;
        unint64_t v229 = sub_25939CE90();
        uint64_t v231 = *(void *)(v228 + 16);
        BOOL v232 = (v230 & 1) == 0;
        uint64_t v11 = v231 + v232;
        if (__OFADD__(v231, v232)) {
          goto LABEL_298;
        }
        unint64_t v233 = v229;
        char v234 = v230;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AD8);
        char v235 = sub_259845350();
        uint64_t v11 = v391;
        if (v235)
        {
          unint64_t v236 = sub_25939CE90();
          if ((v234 & 1) == (v237 & 1))
          {
            unint64_t v233 = v236;
            goto LABEL_132;
          }
          while (1)
          {
LABEL_316:
            sub_2598457D0();
            __break(1u);
          }
        }
LABEL_132:
        v238 = *(void **)&__dst[0];
        if (v234)
        {
          uint64_t v239 = *(void *)(*(void *)&__dst[0] + 56);
          swift_bridgeObjectRelease();
          *(void *)(v239 + 8 * v233) = v145;
        }
        else
        {
          *(void *)(*(void *)&__dst[0] + 8 * (v233 >> 6) + 64) |= 1 << v233;
          v240 = (uint64_t *)(v238[6] + 16 * v233);
          uint64_t *v240 = v225;
          v240[1] = v227;
          *(void *)(v238[7] + 8 * v233) = v145;
          uint64_t v241 = v238[2];
          BOOL v70 = __OFADD__(v241, 1);
          uint64_t v242 = v241 + 1;
          if (v70) {
            goto LABEL_300;
          }
          v238[2] = v242;
          sub_259843F00();
        }
        v418[0] = v238;
        swift_bridgeObjectRelease();
      }
      swift_bridgeObjectRelease();
LABEL_139:
      uint64_t v89 = v393;
LABEL_140:
      uint64_t v96 = v396;
      unint64_t v102 = v397 + 1;
    }
    while (v397 + 1 != v395);
    swift_bridgeObjectRelease_n();
LABEL_255:
    sub_2597D1024();
    sub_2597D1690();
    if (*(void *)(v367 + 16) && (unint64_t v275 = sub_25939D52C(), (v276 & 1) != 0))
    {
      id v277 = *(id *)(*(void *)(v367 + 56) + 8 * v275);
      swift_bridgeObjectRelease();
      sub_25935633C(0, (unint64_t *)&qword_26A38D4C8);
      id v278 = v277;
      id v279 = sub_2596E161C(v278, 0);
      uint64_t v280 = v403[0];
      uint64_t v281 = sub_25962B698();
      id v282 = objc_msgSend(v279, sel_suggestion);
      if (v282)
      {
        v283 = v282;
        swift_bridgeObjectRelease();
        uint64_t v284 = v392;
        uint64_t v285 = v394;
        sub_259632804();
        goto LABEL_266;
      }
      id v305 = objc_msgSend(v279, sel_QUToken);
      if (v305)
      {
        v283 = v305;
        swift_bridgeObjectRelease();
        uint64_t v284 = v392;
        uint64_t v285 = v394;
        sub_25963365C((uint64_t)v283, v392, v394, v280, v306, v307, v308, v309, (uint64_t)v350, v351, v352, (uint64_t)v353, v354, (uint64_t)v355, (uint64_t)v356, v357, (uint64_t)v358, (uint64_t)v359, (uint64_t)v360,
          v361);
LABEL_266:
        uint64_t v281 = v286;

        char v298 = 0;
        char v299 = 0;
        long long v300 = 0uLL;
        char v295 = 1;
        uint64_t v89 = v393;
        uint64_t v297 = v375;
        uint64_t v296 = v376;
      }
      else
      {

        char v298 = 0;
        char v299 = 0;
        long long v300 = 0uLL;
        char v295 = 1;
        uint64_t v89 = v393;
        uint64_t v285 = v394;
        uint64_t v297 = v375;
        uint64_t v296 = v376;
        uint64_t v284 = v392;
      }
LABEL_267:
      v405[0] = v284;
      v405[1] = v285;
      char v406 = v295;
      uint64_t v407 = v296;
      uint64_t v408 = v297;
      char v409 = v298;
      uint64_t v410 = v280;
      uint64_t v411 = v281;
      char v412 = v299;
      long long v413 = v300;
      v310 = v360;
      sub_259384990();
      uint64_t v311 = *(void *)(*v310 + 16);
      sub_2593850FC(v311);
      v312 = sub_2594E6568(v311, v405);
      v304.n128_f64[0] = CGRectMake(v312);
    }
    else
    {
      uint64_t v287 = v418[0];
      if (*(void *)(v418[0] + 16))
      {
        uint64_t v288 = v357;
        uint64_t v289 = v361;
        (*v356)(v357, v388, v361);
        __swift_storeEnumTagSinglePayload(v288, 0, 1, v289);
        id v290 = objc_allocWithZone(MEMORY[0x263F14F20]);
        uint64_t v291 = v394;
        sub_259843F00();
        uint64_t v292 = v392;
        id v293 = sub_2596E2214(v392, v291, v288, v287);
        id v294 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14EF8]), sel_initWithQueryToken_, v293);
        LOBYTE(v419[0]) = 0;
        QueryToken.init(queryAnnotation:substring:source:aliasNames:range:)(v294, v292, v291, (char *)v419, v403[0], v376, v375, 0, (uint64_t)__dst);

        uint64_t v285 = *((void *)&__dst[0] + 1);
        uint64_t v284 = *(void *)&__dst[0];
        char v295 = __dst[1];
        uint64_t v296 = *((void *)&__dst[1] + 1);
        uint64_t v297 = *(void *)&__dst[2];
        char v298 = BYTE8(__dst[2]);
        uint64_t v281 = *((void *)&__dst[3] + 1);
        uint64_t v280 = *(void *)&__dst[3];
        char v299 = __dst[4];
        long long v300 = *(_OWORD *)((char *)&__dst[4] + 8);
        goto LABEL_267;
      }
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      (*v379)((uint64_t)v358, v385, v383);
      v301 = sub_259843A50();
      os_log_type_t v302 = sub_259844B50();
      if (os_log_type_enabled(v301, v302))
      {
        v303 = (uint8_t *)swift_slowAlloc();
        *(_WORD *)v303 = 0;
        _os_log_impl(&dword_25934C000, v301, v302, "Unable to create a QueryToken object because there is no suggestion nor metadata", v303, 2u);
        MEMORY[0x25A2E13A0](v303, -1, -1);
      }

      (*v380)(v358, v383);
    }
    (*v359)(v388, v361, v304);
    uint64_t v28 = v384;
    unint64_t v87 = v377;
    int64_t v88 = v378;
  }
  int64_t v93 = v88 + 1;
  if (v88 + 1 >= v366) {
    goto LABEL_274;
  }
  unint64_t v92 = v365[v93];
  if (v92) {
    goto LABEL_52;
  }
  int64_t v93 = v88 + 2;
  if (v88 + 2 >= v366) {
    goto LABEL_274;
  }
  unint64_t v92 = v365[v93];
  if (v92) {
    goto LABEL_52;
  }
  int64_t v93 = v88 + 3;
  if (v88 + 3 >= v366) {
    goto LABEL_274;
  }
  unint64_t v92 = v365[v93];
  if (v92) {
    goto LABEL_52;
  }
  int64_t v93 = v88 + 4;
  if (v88 + 4 >= v366) {
    goto LABEL_274;
  }
  unint64_t v92 = v365[v93];
  if (v92) {
    goto LABEL_52;
  }
  int64_t v93 = v88 + 5;
  if (v88 + 5 >= v366) {
    goto LABEL_274;
  }
  unint64_t v92 = v365[v93];
  if (v92)
  {
LABEL_52:
    int64_t v88 = v93;
    goto LABEL_53;
  }
  while (1)
  {
    int64_t v88 = v93 + 1;
    if (__OFADD__(v93, 1)) {
      goto LABEL_312;
    }
    if (v88 >= v366) {
      break;
    }
    unint64_t v92 = v365[v88];
    ++v93;
    if (v92) {
      goto LABEL_53;
    }
  }
LABEL_274:
  uint64_t v313 = swift_release();
  if (*((unsigned char *)v355 + 24))
  {
    if (qword_26A3889F0 != -1) {
      goto LABEL_313;
    }
    goto LABEL_276;
  }
LABEL_283:
  if (*((unsigned char *)v355 + 25))
  {
    sub_2597D0D48(v419, v313);
    v321 = v360;
    sub_259384990();
    uint64_t v322 = *(void *)(*v321 + 16);
    sub_2593850FC(v322);
    v323 = sub_2594E6568(v322, v419);
    CGRectMake(v323);
  }
  char v324 = *((unsigned char *)v355 + 26);
  if (v324)
  {
    char v325 = sub_259845750();
    swift_bridgeObjectRelease();
    if ((v325 & 1) == 0)
    {
      LOBYTE(v403[0]) = v324;
      sub_2597D0EF0(v403, (uint64_t)v418);
      v326 = v360;
      sub_259384990();
      uint64_t v327 = *(void *)(*v326 + 16);
      sub_2593850FC(v327);
      v328 = sub_2594E6568(v327, v418);
      CGRectMake(v328);
    }
  }
  else
  {
LABEL_290:
    swift_bridgeObjectRelease();
  }
  sub_25967C7D8(v360);
  swift_bridgeObjectRelease();
  uint64_t v329 = v383;
  (*v379)(v11, v385, v383);
  uint64_t v330 = swift_allocObject();
  *(void *)(v330 + 16) = sub_259683100;
  *(void *)(v330 + 24) = v352;
  swift_retain_n();
  v331 = sub_259843A50();
  os_log_type_t v332 = sub_259844B70();
  uint64_t v333 = swift_allocObject();
  *(unsigned char *)(v333 + 16) = 37;
  uint64_t v334 = swift_allocObject();
  *(unsigned char *)(v334 + 16) = 8;
  uint64_t v335 = swift_allocObject();
  *(void *)(v335 + 16) = sub_259683140;
  *(void *)(v335 + 24) = v330;
  uint64_t v336 = swift_allocObject();
  *(void *)(v336 + 16) = sub_2596834F0;
  *(void *)(v336 + 24) = v335;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
  uint64_t v337 = swift_allocObject();
  sub_2597534AC(v337, 3);
  void *v338 = sub_2596834FC;
  v338[1] = v333;
  v338[2] = sub_2596834FC;
  v338[3] = v334;
  v338[4] = sub_2596834F4;
  v338[5] = v336;
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_bridgeObjectRelease();
  os_log_type_t v339 = v332;
  *(void *)&long long v400 = v331;
  if (os_log_type_enabled(v331, v332))
  {
    v340 = (uint8_t *)sub_25938463C();
    uint64_t v399 = swift_slowAlloc();
    v403[0] = v399;
    *(_WORD *)v340 = 259;
    v340[2] = 37;
    swift_release();
    v340[3] = 8;
    swift_release();
    uint64_t v398 = (uint64_t)(v340 + 4);
    swift_beginAccess();
    uint64_t v341 = v352;
    uint64_t v342 = sub_259843F00();
    uint64_t v343 = MEMORY[0x25A2DED80](v342, &type metadata for QueryToken);
    unint64_t v345 = v344;
    swift_bridgeObjectRelease();
    uint64_t v401 = sub_259356D5C(v343, v345, v403);
    sub_259844E10();
    swift_release_n();
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    v346 = (void *)v400;
    _os_log_impl(&dword_25934C000, (os_log_t)v400, v339, "Grounded query tokens = %{sensitive}s", v340, 0xCu);
    uint64_t v347 = v399;
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v347, -1, -1);
    MEMORY[0x25A2E13A0](v340, -1, -1);

    (*v380)((char *)v391, v383);
  }
  else
  {

    uint64_t v348 = v352;
    swift_release_n();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    (*v380)((char *)v391, v329);
    uint64_t v341 = v348;
  }
  uint64_t v82 = v350;
  swift_beginAccess();
  uint64_t v80 = *(void *)(v341 + 16);
  sub_259843F00();
  swift_release();
  swift_bridgeObjectRelease();
  uint64_t v81 = (uint64_t)v353;
  sub_2593C7F50();
LABEL_295:
  sub_25968331C(v81, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  sub_2593980F8((uint64_t)v82);
  swift_release();
  return v80;
}

uint64_t destroy for PromptSuggestionValidationResult(uint64_t a1)
{
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  return swift_bridgeObjectRelease();
}

void *initializeWithCopy for PromptSuggestionValidationResult(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  uint64_t v5 = (void *)a2[2];
  uint64_t v4 = a2[3];
  a1[2] = v5;
  a1[3] = v4;
  a1[4] = a2[4];
  sub_259843F00();
  id v6 = v5;
  sub_259843F00();
  sub_259843F00();
  return a1;
}

void *assignWithCopy for PromptSuggestionValidationResult(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v4 = (void *)a2[2];
  uint64_t v5 = (void *)a1[2];
  a1[2] = v4;
  id v6 = v4;

  a1[3] = a2[3];
  sub_259843F00();
  swift_bridgeObjectRelease();
  a1[4] = a2[4];
  sub_259843F00();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t assignWithTake for PromptSuggestionValidationResult(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  uint64_t v4 = *(void **)(a1 + 16);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);

  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  swift_bridgeObjectRelease();
  return a1;
}

ValueMetadata *type metadata accessor for PromptSuggestionValidationResult()
{
  return &type metadata for PromptSuggestionValidationResult;
}

uint64_t dispatch thunk of PromptSuggestionDiagnosticContext.children.getter(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 8))();
}

uint64_t dispatch thunk of PromptSuggestionDiagnosticContext.children.setter(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 16))();
}

uint64_t dispatch thunk of PromptSuggestionDiagnosticContext.children.modify(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (*(uint64_t (**)(void))(a3 + 24))();
}

uint64_t dispatch thunk of PromptSuggestionDiagnosticContext.dictionary.getter(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 32))();
}

uint64_t dispatch thunk of PromptSuggestionDiagnosticContext.combinedPayload()(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 40))();
}

uint64_t dispatch thunk of static PromptSuggestionDiagnosticContext.name.getter(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 48))();
}

uint64_t initializeWithCopy for PromptSuggestionSafetyValidationDiagnosticContext(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  sub_259843F00();
  return a1;
}

void *assignWithCopy for PromptSuggestionSafetyValidationDiagnosticContext(void *a1, void *a2)
{
  *a1 = *a2;
  sub_259843F00();
  swift_bridgeObjectRelease();
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  a1[4] = a2[4];
  a1[5] = a2[5];
  return a1;
}

uint64_t assignWithTake for PromptSuggestionSafetyValidationDiagnosticContext(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  return a1;
}

ValueMetadata *type metadata accessor for PromptSuggestionSafetyValidationDiagnosticContext()
{
  return &type metadata for PromptSuggestionSafetyValidationDiagnosticContext;
}

uint64_t dispatch thunk of PromptSuggestionValidator.safeFallbackPrompts(_:)()
{
  OUTLINED_FUNCTION_247();
  uint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v10 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))(*(void *)(v0 + 8) + **(int **)(v0 + 8));
  uint64_t v6 = swift_task_alloc();
  uint64_t v7 = (void *)OUTLINED_FUNCTION_33_0(v6);
  void *v7 = v8;
  v7[1] = sub_259682870;
  return v10(v5, v3, v1);
}

uint64_t sub_259682870()
{
  OUTLINED_FUNCTION_14();
  uint64_t v2 = v1;
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = *v0;
  OUTLINED_FUNCTION_3();
  *uint64_t v4 = v3;
  swift_task_dealloc();
  uint64_t v5 = *(uint64_t (**)(uint64_t))(v3 + 8);
  return v5(v2);
}

uint64_t dispatch thunk of PromptSuggestionValidator.searchFallbackPrompts(_:progressReporter:)()
{
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_44_4();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2594F8630;
  uint64_t v3 = OUTLINED_FUNCTION_38_4();
  return v4(v3);
}

uint64_t dispatch thunk of PromptSuggestionValidator.searchSuggestedPromptsWithLLMQU(_:progressReporter:)()
{
  OUTLINED_FUNCTION_134_7();
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_187_1();
  uint64_t v13 = *(void *)(v0 + 24) + **(int **)(v0 + 24);
  uint64_t v14 = v0 + 24;
  uint64_t v1 = swift_task_alloc();
  uint64_t v2 = (void *)OUTLINED_FUNCTION_33_0(v1);
  void *v2 = v3;
  v2[1] = sub_2594F8630;
  OUTLINED_FUNCTION_150_5();
  OUTLINED_FUNCTION_132_0();
  return v10(v4, v5, v6, v7, v8, v9, v10, v11, v13, v14);
}

uint64_t dispatch thunk of PromptSuggestionValidator.searchSuggestedPrompts(_:progressReporter:)()
{
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_44_4();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2594F8630;
  uint64_t v3 = OUTLINED_FUNCTION_38_4();
  return v4(v3);
}

uint64_t dispatch thunk of PromptSuggestionValidator.searchSuggestedPromptsHighRecall(_:progressReporter:)()
{
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_44_4();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2594F8630;
  uint64_t v3 = OUTLINED_FUNCTION_38_4();
  return v4(v3);
}

uint64_t dispatch thunk of PromptSuggestionValidator.searchSuggestedPromptTraits(_:scopedAssetUUIDs:progressReporter:)()
{
  OUTLINED_FUNCTION_134_7();
  OUTLINED_FUNCTION_240();
  OUTLINED_FUNCTION_187_1();
  uint64_t v13 = *(void *)(v0 + 48) + **(int **)(v0 + 48);
  uint64_t v14 = v0 + 48;
  uint64_t v1 = swift_task_alloc();
  uint64_t v2 = (void *)OUTLINED_FUNCTION_33_0(v1);
  void *v2 = v3;
  v2[1] = sub_2593BE1E4;
  OUTLINED_FUNCTION_150_5();
  OUTLINED_FUNCTION_132_0();
  return v10(v4, v5, v6, v7, v8, v9, v10, v11, v13, v14);
}

uint64_t dispatch thunk of PromptSuggestionValidator.validationAssetCountThreshold.getter(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(void))(a2 + 56))();
}

uint64_t sub_259682DB4()
{
  return type metadata accessor for PromptSuggestionSearchValidator();
}

uint64_t type metadata accessor for PromptSuggestionSearchValidator()
{
  uint64_t result = qword_26A38FC68;
  if (!qword_26A38FC68) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_259682E04()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = type metadata accessor for QueryGenerator(319);
    if (v2 <= 0x3F) {
      return swift_updateClassMetadata2();
    }
  }
  return result;
}

uint64_t method lookup function for PromptSuggestionSearchValidator(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PromptSuggestionSearchValidator);
}

uint64_t dispatch thunk of PromptSuggestionSearchValidator.__allocating_init(photoLibrary:safetyController:momentExpansionProcessor:momentBasedGroundingAndAssetsProvider:maxAssetFetchCount:)()
{
  return (*(uint64_t (**)(void))(v0 + 168))();
}

uint64_t sub_259682F44()
{
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_259682F7C(uint64_t a1)
{
  return a1;
}

uint64_t sub_259682FD0(uint64_t a1)
{
  return a1;
}

uint64_t sub_259683028()
{
  return sub_2597CFFC8(*(unsigned char *)(v0 + 16));
}

uint64_t sub_259683030()
{
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_259683068()
{
  return sub_25977BF3C(*(void *)(v0 + 16));
}

unsigned char **sub_259683074(unsigned char **a1, uint64_t a2, uint64_t a3)
{
  return sub_25938B6C8(a1, a2, a3, *(unsigned char *)(v3 + 16));
}

uint64_t sub_259683080()
{
  return sub_25938B2E8(*(uint64_t (**)(void))(v0 + 16));
}

uint64_t sub_259683088(uint64_t *a1, uint64_t a2, uint64_t *a3)
{
  return sub_25938B310(a1, a2, a3, *(uint64_t (**)(void))(v3 + 16));
}

uint64_t sub_259683098()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA0238](v0, 80, 7);
}

uint64_t sub_2596830E8@<X0>(uint64_t a1@<X8>)
{
  return sub_2597CFFB8(v1 + 16, a1);
}

uint64_t sub_2596830F0()
{
  return sub_2594359EC(*(void (**)(uint64_t *__return_ptr))(v0 + 16));
}

uint64_t sub_259683100@<X0>(void *a1@<X8>)
{
  return sub_2597D0FE0(v1, a1);
}

uint64_t sub_259683108()
{
  swift_release();
  return MEMORY[0x270FA0238](v0, 32, 7);
}

uint64_t sub_259683140()
{
  return sub_259435978(*(void (**)(uint64_t *__return_ptr))(v0 + 16), *(void *)(v0 + 24));
}

unint64_t sub_259683150()
{
  unint64_t result = qword_26A38D4B0;
  if (!qword_26A38D4B0)
  {
    sub_25935633C(255, (unint64_t *)&qword_26A389B20);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38D4B0);
  }
  return result;
}

uint64_t sub_2596831B0()
{
  return OUTLINED_FUNCTION_61_1(v0, 24);
}

uint64_t sub_2596831BC()
{
  return OUTLINED_FUNCTION_61_1(v0, 32);
}

uint64_t block_copy_helper_23(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_2596831D8()
{
  swift_release();
  swift_release();
  swift_release();
  return MEMORY[0x270FA0238](v0, 48, 7);
}

uint64_t sub_259683228()
{
  uint64_t v1 = OUTLINED_FUNCTION_65_4();
  v2(v1);
  OUTLINED_FUNCTION_4();
  uint64_t v3 = OUTLINED_FUNCTION_66_10();
  v4(v3);
  return v0;
}

uint64_t sub_259683278()
{
  OUTLINED_FUNCTION_25();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2594AC9A0;
  OUTLINED_FUNCTION_133_5();
  return sub_259671074(v3, v4, v5, v6);
}

uint64_t sub_25968331C(uint64_t a1, void (*a2)(void))
{
  a2(0);
  OUTLINED_FUNCTION_4();
  uint64_t v3 = OUTLINED_FUNCTION_11_1();
  v4(v3);
  return a1;
}

uint64_t objectdestroy_134Tm()
{
  swift_unknownObjectRelease();
  swift_release();
  return MEMORY[0x270FA0238](v0, 40, 7);
}

uint64_t sub_2596833B0()
{
  OUTLINED_FUNCTION_25();
  uint64_t v0 = swift_task_alloc();
  uint64_t v1 = (void *)OUTLINED_FUNCTION_33_0(v0);
  *uint64_t v1 = v2;
  v1[1] = sub_2594AC568;
  OUTLINED_FUNCTION_133_5();
  return sub_259671074(v3, v4, v5, v6);
}

uint64_t sub_259683454()
{
  uint64_t v1 = OUTLINED_FUNCTION_65_4();
  v2(v1);
  OUTLINED_FUNCTION_4();
  uint64_t v3 = OUTLINED_FUNCTION_289();
  v4(v3);
  return v0;
}

uint64_t sub_2596834A0(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  __swift_instantiateConcreteTypeFromMangledName(a3);
  OUTLINED_FUNCTION_4();
  uint64_t v4 = OUTLINED_FUNCTION_66_10();
  v5(v4);
  return a2;
}

uint64_t OUTLINED_FUNCTION_20_40()
{
  return sub_259844240();
}

uint64_t OUTLINED_FUNCTION_26_31(uint64_t result)
{
  *(void *)(v1 + 1344) = result;
  return result;
}

__n128 OUTLINED_FUNCTION_29_23()
{
  *(void *)(v0 + 1256) = *(void *)(v0 + 24);
  uint64_t v1 = *(void *)(v0 + 40);
  *(void *)(v0 + 1264) = *(void *)(v0 + 32);
  *(void *)(v0 + 1272) = v1;
  uint64_t v2 = *(void *)(v0 + 56);
  *(void *)(v0 + 1280) = *(void *)(v0 + 48);
  *(void *)(v0 + 1288) = v2;
  *(void *)(v0 + 1296) = *(void *)(v0 + 72);
  *(void *)(v0 + 1304) = *(void *)(v0 + 80);
  __n128 result = *(__n128 *)(v0 + 88);
  *(void *)(v0 + 1312) = result.n128_u64[0];
  return result;
}

__n128 OUTLINED_FUNCTION_30_24()
{
  *(void *)(v0 + 1256) = *(void *)(v0 + 24);
  uint64_t v1 = *(void *)(v0 + 40);
  *(void *)(v0 + 1264) = *(void *)(v0 + 32);
  *(void *)(v0 + 1272) = v1;
  uint64_t v2 = *(void *)(v0 + 56);
  *(void *)(v0 + 1280) = *(void *)(v0 + 48);
  *(void *)(v0 + 1288) = v2;
  *(void *)(v0 + 1296) = *(void *)(v0 + 72);
  *(void *)(v0 + 1304) = *(void *)(v0 + 80);
  __n128 result = *(__n128 *)(v0 + 88);
  *(void *)(v0 + 1312) = result.n128_u64[0];
  return result;
}

void *OUTLINED_FUNCTION_34_27(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, float a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char __dst)
{
  float *v28 = a9;
  *(_DWORD *)(v30 + 28) = v27;
  return memcpy(&__dst, v29, 0x41uLL);
}

void OUTLINED_FUNCTION_39_25()
{
  sub_2593877B8();
}

uint64_t OUTLINED_FUNCTION_46_24()
{
  return *(void *)(v0 + 120) + 1;
}

uint64_t OUTLINED_FUNCTION_47_21()
{
  return swift_slowAlloc();
}

uint64_t OUTLINED_FUNCTION_54_19()
{
  return swift_release();
}

uint64_t OUTLINED_FUNCTION_56_13()
{
  return sub_25947F554(v0);
}

uint64_t OUTLINED_FUNCTION_57_17()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_63_15()
{
  return sub_259845110();
}

uint64_t OUTLINED_FUNCTION_64_18()
{
  return swift_arrayDestroy();
}

uint64_t OUTLINED_FUNCTION_66_16()
{
  return swift_arrayDestroy();
}

uint64_t OUTLINED_FUNCTION_67_16()
{
  return sub_259843EE0();
}

void OUTLINED_FUNCTION_71_14()
{
}

uint64_t OUTLINED_FUNCTION_72_13()
{
  __swift_project_boxed_opaque_existential_1(v1, *(void *)(v0 + 448));
  return sub_259843590();
}

uint64_t OUTLINED_FUNCTION_74_12()
{
  return sub_259844240();
}

uint64_t OUTLINED_FUNCTION_79_12()
{
  *(void *)(v2 + 24) = v1;
  *(void *)(v2 + 32) = v0;
  return sub_259843F00();
}

uint64_t OUTLINED_FUNCTION_82_13()
{
  return swift_release();
}

uint64_t OUTLINED_FUNCTION_83_12()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_84_12()
{
  return v0;
}

void OUTLINED_FUNCTION_86_13(void *a1, NSObject *a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, a2, a3, a4, v4, 0x16u);
}

uint64_t OUTLINED_FUNCTION_87_13()
{
  __swift_project_boxed_opaque_existential_1(v1, *(void *)(v0 + 448));
  return sub_259843590();
}

uint64_t OUTLINED_FUNCTION_93_10()
{
  return swift_arrayDestroy();
}

uint64_t OUTLINED_FUNCTION_97_9()
{
  sub_25940CF64();
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_98_7()
{
  uint64_t result = 0;
  *(void *)(v1 + 24) = v0;
  *(void *)(v1 + 32) = 0;
  return result;
}

uint64_t OUTLINED_FUNCTION_99_8()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_100_7()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_101_9@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  v2[81] = result;
  v2[82] = a2;
  v2[78] = v3;
  return result;
}

void OUTLINED_FUNCTION_103_8(__n128 a1)
{
  *(__n128 *)(v2 + 248) = a1;
  *(unsigned char *)(v2 + 264) = v1 & 1;
}

uint64_t OUTLINED_FUNCTION_104_8()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_106_7()
{
  return sub_259844560();
}

uint64_t OUTLINED_FUNCTION_107_7()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_108_6()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_109_6()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_110_8()
{
  return sub_25947ED9C(v0);
}

id OUTLINED_FUNCTION_111_7()
{
  *(_WORD *)(v0 + 12) = 2112;
  return v1;
}

uint64_t OUTLINED_FUNCTION_112_8()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_113_6(uint64_t a1)
{
  *(void *)(v1 + 1328) = a1;
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_114_8()
{
  return *(void *)(v0 + 1520);
}

uint64_t OUTLINED_FUNCTION_115_8()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_117_4@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  v3[5] = result;
  v3[6] = a2;
  v3[2] = v2;
  return result;
}

uint64_t OUTLINED_FUNCTION_124_8()
{
  return swift_unknownObjectRetain_n();
}

double OUTLINED_FUNCTION_125_8(void *a1, uint64_t a2)
{
  return 0.5;
}

uint64_t OUTLINED_FUNCTION_127_8(void *a1)
{
  *(void *)(v1 + 128) = a1;
  return sub_2596723D4(a1, v2);
}

uint64_t OUTLINED_FUNCTION_129_6@<X0>(uint64_t a1@<X8>)
{
  *(void *)(v4 + 16) = v3;
  uint64_t v9 = (void *)(v4 + 40 * v5);
  v9[4] = v2;
  v9[5] = v1;
  v9[6] = v6;
  v9[7] = a1;
  v9[8] = v7;
  return swift_release();
}

uint64_t OUTLINED_FUNCTION_136_6()
{
  return sub_25947F554(v0);
}

uint64_t OUTLINED_FUNCTION_137_6()
{
  return sub_25947F554(v0);
}

uint64_t OUTLINED_FUNCTION_138_5()
{
  return sub_25947ED9C(v0);
}

uint64_t OUTLINED_FUNCTION_140_6(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  __swift_destroy_boxed_opaque_existential_1(v23);
  __swift_destroy_boxed_opaque_existential_1(v22);
  return __swift_destroy_boxed_opaque_existential_1(a22);
}

uint64_t OUTLINED_FUNCTION_144_5(uint64_t a1)
{
  *(void *)(v1 + 1096) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_146_6()
{
  uint64_t v1 = v0[3];
  __swift_project_boxed_opaque_existential_1(v0, v1);
  return v1;
}

char *OUTLINED_FUNCTION_152_6(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, char a12)
{
  return &a12;
}

uint64_t OUTLINED_FUNCTION_153_7()
{
  return v0;
}

void OUTLINED_FUNCTION_154_7(void *a1, NSObject *a2, int a3, const char *a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, os_log_type_t type)
{
  _os_log_impl(a1, a2, type, a4, v18, 0x16u);
}

uint64_t OUTLINED_FUNCTION_155_6(uint64_t a1)
{
  *(void *)(v1 + 1104) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_156_7(uint64_t a1)
{
  *(void *)(v1 + 1096) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_157_6(void *a1)
{
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  return sub_2598435C0();
}

void OUTLINED_FUNCTION_158_7(void *a1, NSObject *a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, a2, a3, a4, v4, 0xCu);
}

uint64_t OUTLINED_FUNCTION_164_5()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_167_6(uint64_t result)
{
  *(void *)(v1 + 120) = result;
  return result;
}

uint64_t OUTLINED_FUNCTION_169_6(uint64_t result)
{
  return sub_25947ED9C(result);
}

uint64_t OUTLINED_FUNCTION_170_7(void *a1, uint64_t a2)
{
  return sub_25967F89C(a1, a2, v3, v2);
}

uint64_t OUTLINED_FUNCTION_171_7()
{
  *(void *)(v1 + 1320) = *(void *)(v0 + v2);
  return swift_retain();
}

uint64_t OUTLINED_FUNCTION_172_6()
{
  *(void *)(v1 + 1320) = *(void *)(v0 + v2);
  return swift_retain();
}

__n128 OUTLINED_FUNCTION_173_6(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, __n128 a11)
{
  __n128 result = a11;
  *uint64_t v11 = a11.n128_u32[0];
  return result;
}

uint64_t OUTLINED_FUNCTION_176_5()
{
  return sub_25947ED9C(v0);
}

void OUTLINED_FUNCTION_177_6(void *a1, int a2, int a3, const char *a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,os_log_type_t type)
{
  _os_log_impl(a1, v22, type, a4, v21, 0x16u);
}

__n128 OUTLINED_FUNCTION_178_6()
{
  return *(__n128 *)(v0 + 1224);
}

uint64_t OUTLINED_FUNCTION_179_7()
{
  return QueryAnnotation.description.getter();
}

void OUTLINED_FUNCTION_180_5()
{
  *(void *)(v0 - 88) = 0;
}

uint64_t OUTLINED_FUNCTION_181_6()
{
  return sub_259844240();
}

uint64_t OUTLINED_FUNCTION_183_5(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, void *a19)
{
  return sub_25967F89C(a19, v20, v21, v19);
}

void OUTLINED_FUNCTION_188_4()
{
  v1[157] = v0;
  uint64_t v2 = v1[5];
  v1[158] = v1[4];
  v1[159] = v2;
}

void OUTLINED_FUNCTION_191_6(void *a1, NSObject *a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, a2, a3, a4, v4, 0x16u);
}

uint64_t OUTLINED_FUNCTION_193_7()
{
  return swift_dynamicCast();
}

uint64_t OUTLINED_FUNCTION_198_1()
{
  return sub_25947ED9C(v0);
}

id OUTLINED_FUNCTION_199_3()
{
  *(_WORD *)(v0 + 12) = 2112;
  return v1;
}

void OUTLINED_FUNCTION_204_6()
{
}

uint64_t OUTLINED_FUNCTION_206_5()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_207_4()
{
  return swift_unknownObjectRelease();
}

uint64_t OUTLINED_FUNCTION_208_4()
{
  *(void *)(v0 + 1320) = *(void *)(v2 + v1);
  return swift_retain();
}

__n128 OUTLINED_FUNCTION_209_5(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, __n128 a11)
{
  __n128 result = a11;
  *uint64_t v11 = a11.n128_u32[0];
  return result;
}

id OUTLINED_FUNCTION_212_5()
{
  return sub_2596225E8(v0, v2, v3, v1);
}

uint64_t OUTLINED_FUNCTION_216_4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  __swift_destroy_boxed_opaque_existential_1(v22);
  __swift_destroy_boxed_opaque_existential_1(v23);
  return __swift_destroy_boxed_opaque_existential_1(a22);
}

uint64_t OUTLINED_FUNCTION_217_4()
{
  return sub_2598459F0();
}

uint64_t PerformanceMeasure.__allocating_init(name:log:)()
{
  OUTLINED_FUNCTION_0_53();
  uint64_t v0 = swift_allocObject();
  PerformanceMeasure.init(name:log:)();
  return v0;
}

uint64_t PerformanceMeasure.deinit()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC18PhotosIntelligence18PerformanceMeasure_signpostID;
  sub_2598439B0();
  OUTLINED_FUNCTION_2();
  (*(void (**)(uint64_t))(v2 + 8))(v1);
  return v0;
}

uint64_t sub_259684300()
{
  return type metadata accessor for PerformanceMeasure();
}

uint64_t method lookup function for PerformanceMeasure(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PerformanceMeasure);
}

uint64_t dispatch thunk of PerformanceMeasure.__allocating_init(name:log:)()
{
  return (*(uint64_t (**)(void))(v0 + 112))();
}

uint64_t dispatch thunk of PerformanceMeasure.endMeasurements()()
{
  return (*(uint64_t (**)(void))(*(void *)v0 + 120))();
}

PhotosIntelligence::LLMBackendType_optional __swiftcall LLMBackendType.init(rawValue:)(Swift::String rawValue)
{
  OUTLINED_FUNCTION_19_0();
  unint64_t v2 = sub_2598454E0();
  result.value = swift_bridgeObjectRelease();
  char v4 = 3;
  if (v2 < 3) {
    char v4 = v2;
  }
  *uint64_t v1 = v4;
  return result;
}

PhotosIntelligence::LLMBackendEnvironment_optional __swiftcall LLMBackendEnvironment.init(rawValue:)(Swift::String rawValue)
{
  OUTLINED_FUNCTION_19_0();
  uint64_t v2 = sub_2598454E0();
  result.value = swift_bridgeObjectRelease();
  if (v2 == 1) {
    char v4 = 1;
  }
  else {
    char v4 = 2;
  }
  if (!v2) {
    char v4 = 0;
  }
  *uint64_t v1 = v4;
  return result;
}

uint64_t LLMBackendType.rawValue.getter()
{
  uint64_t v1 = 0x7361676550736D67;
  if (*v0 != 1) {
    uint64_t v1 = 0x626D696854736D67;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 0x6B6361626C6C6166;
  }
}

uint64_t LLMBackendEnvironment.description.getter()
{
  if (*v0) {
    return 0x676E6967617473;
  }
  else {
    return 0x7972726163;
  }
}

unint64_t LLMModelType.pegasusBaseUrl.getter()
{
  unint64_t result = 0xD000000000000022;
  switch(*v0)
  {
    case 5:
      return result;
    case 6:
    case 8:
    case 9:
      unint64_t result = 0xD000000000000047;
      break;
    case 7:
      unint64_t result = 0xD00000000000003CLL;
      break;
    default:
      unint64_t result = 0;
      break;
  }
  return result;
}

unint64_t LLMModelType.modelName.getter()
{
  uint64_t v1 = type metadata accessor for LLMConfiguration(0);
  MEMORY[0x270FA5388](v1);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  int v4 = *v0 - 5;
  unint64_t v5 = 0xD00000000000001ALL;
  switch(v4)
  {
    case 0:
      return v5;
    case 1:
      uint64_t v6 = self;
      uint64_t v7 = sub_2594CBFFC(v6, (SEL *)&selRef_fallbackStorytelling30bModelName);
      if (v8) {
        return v7;
      }
      type metadata accessor for LLMConfigurationProvider();
      char v16 = 1;
      uint64_t v9 = &v16;
      goto LABEL_11;
    case 2:
      return 0xD00000000000002ELL;
    case 3:
      uint64_t v10 = self;
      uint64_t v7 = sub_2594CBFFC(v10, (SEL *)&selRef_fallbackAssetCuration30bModelName);
      if (v11) {
        return v7;
      }
      type metadata accessor for LLMConfigurationProvider();
      char v17 = 2;
      uint64_t v9 = &v17;
      goto LABEL_11;
    case 4:
      uint64_t v12 = self;
      uint64_t v7 = sub_2594CBFFC(v12, (SEL *)&selRef_fallbackGlobalTraits30bModelName);
      if (v13) {
        return v7;
      }
      type metadata accessor for LLMConfigurationProvider();
      char v18 = 0;
      uint64_t v9 = &v18;
LABEL_11:
      static LLMConfigurationProvider.recommendedConfiguration(for:)((unsigned __int8 *)v9, (uint64_t)v3);
      unint64_t v5 = *(void *)&v3[*(int *)(v1 + 40)];
      sub_259843F00();
      sub_259619B80((uint64_t)v3);
      return v5;
    default:
      return 0;
  }
}

uint64_t static LLMWrapperUtils.llmWrapperForCurrentBackend(fallback:gmsPegasus:gmsThimble:)@<X0>(unsigned __int8 *a1@<X0>, unsigned __int8 *a2@<X1>, unsigned __int8 *a3@<X2>, uint64_t a4@<X8>)
{
  unsigned int v5 = *a1;
  unsigned int v6 = *a2;
  unsigned int v7 = *a3;
  type metadata accessor for LLMDefaults();
  static LLMDefaults.backendType.getter(&v18);
  if (v18)
  {
    if (v18 == 1)
    {
      if (v6 > 4)
      {
        char v15 = 0;
        type metadata accessor for AjaxLLM();
        OUTLINED_FUNCTION_102();
        uint64_t v8 = &v15;
      }
      else
      {
        char v14 = v6;
        type metadata accessor for AjaxLLM();
        OUTLINED_FUNCTION_102();
        uint64_t v8 = &v14;
      }
      uint64_t result = AjaxLLM.init(model:)(v8);
      unsigned int v5 = v6;
    }
    else
    {
      if (v7 > 4)
      {
        char v17 = 0;
        type metadata accessor for AjaxLLM();
        OUTLINED_FUNCTION_102();
        uint64_t v10 = &v17;
      }
      else
      {
        char v16 = v7;
        type metadata accessor for AjaxLLM();
        OUTLINED_FUNCTION_102();
        uint64_t v10 = &v16;
      }
      uint64_t result = AjaxLLM.init(model:)(v10);
      unsigned int v5 = v7;
    }
  }
  else
  {
    if (v5 > 4)
    {
      char v13 = 0;
      type metadata accessor for AjaxLLM();
      OUTLINED_FUNCTION_102();
      uint64_t v9 = &v13;
    }
    else
    {
      char v12 = v5;
      type metadata accessor for AjaxLLM();
      OUTLINED_FUNCTION_102();
      uint64_t v9 = &v12;
    }
    uint64_t result = AjaxLLM.init(model:)(v9);
  }
  *(unsigned char *)a4 = v5;
  *(void *)(a4 + 8) = result;
  *(unsigned char *)(a4 + 16) = v5 > 9;
  return result;
}

void static LLMWrapperUtils.samplingParametersForCurrentBackend(pegasus:thimble:)(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  type metadata accessor for LLMDefaults();
  static LLMDefaults.backendType.getter((char *)&v14);
  if (v14 >= 2u) {
    uint64_t v12 = a2;
  }
  else {
    uint64_t v12 = a1;
  }
  unsigned __int8 v13 = v14;
  static LLMWrapperUtils.samplingParameters(for:parameters:)(&v13, v12, v6, v7, v8, v9, v10, v11, a3);
}

void static LLMWrapperUtils.samplingParametersWithRandomSeedIfNotSet(from:logger:)(uint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v3 = *a1;
  char v4 = *((unsigned char *)a1 + 8);
  uint64_t v5 = a1[2];
  char v6 = *((unsigned char *)a1 + 24);
  uint64_t v7 = a1[4];
  char v8 = *((unsigned char *)a1 + 40);
  if (a1[7])
  {
    unint64_t v9 = sub_25965E178(0x8000000000000000);
    uint64_t v10 = sub_259843A50();
    os_log_type_t v11 = sub_259844B70();
    if (os_log_type_enabled(v10, v11))
    {
      char v15 = v8;
      uint64_t v12 = (float *)swift_slowAlloc();
      OUTLINED_FUNCTION_5_59(v12, 3.852e-34);
      unsigned __int8 v13 = "Random seed set to %ld.";
LABEL_6:
      _os_log_impl(&dword_25934C000, v10, v11, v13, (uint8_t *)v12, 0xCu);
      unsigned __int8 v14 = v12;
      char v8 = v15;
      MEMORY[0x25A2E13A0](v14, -1, -1);
    }
  }
  else
  {
    unint64_t v9 = a1[6];
    uint64_t v10 = sub_259843A50();
    os_log_type_t v11 = sub_259844B70();
    if (os_log_type_enabled(v10, v11))
    {
      char v15 = v8;
      uint64_t v12 = (float *)swift_slowAlloc();
      OUTLINED_FUNCTION_5_59(v12, 3.852e-34);
      unsigned __int8 v13 = "User default random seed set to %ld.";
      goto LABEL_6;
    }
  }

  *(void *)a2 = v3;
  *(unsigned char *)(a2 + 8) = v4;
  *(void *)(a2 + 16) = v5;
  *(unsigned char *)(a2 + 24) = v6;
  *(void *)(a2 + 32) = v7;
  *(unsigned char *)(a2 + 40) = v8;
  *(void *)(a2 + 48) = v9;
  *(unsigned char *)(a2 + 56) = 0;
}

void *static LLMModelType.allCases.getter()
{
  return &unk_270735018;
}

void LLMModelType.defaultSamplingParameters.getter(uint64_t a1@<X8>)
{
  switch(*v1)
  {
    case 1:
      type metadata accessor for LLMWrapperUtils();
      char v20 = 0;
      uint64_t v3 = self;
      uint64_t v10 = sub_259685CB0(v3, (SEL *)&selRef_freeformStoryPegasusParameters);
      os_log_type_t v11 = &v20;
      goto LABEL_12;
    case 2:
      type metadata accessor for LLMWrapperUtils();
      char v21 = 0;
      uint64_t v12 = self;
      uint64_t v10 = sub_259685CB0(v12, (SEL *)&selRef_assetCurationPegasusParameters);
      os_log_type_t v11 = &v21;
      goto LABEL_12;
    case 3:
      type metadata accessor for LLMWrapperUtils();
      char v22 = 0;
      unsigned __int8 v13 = self;
      uint64_t v10 = sub_259685CB0(v13, (SEL *)&selRef_globalTraitsPegasusParameters);
      os_log_type_t v11 = &v22;
      goto LABEL_12;
    case 6:
      type metadata accessor for LLMWrapperUtils();
      char v23 = 1;
      unsigned __int8 v14 = self;
      uint64_t v10 = sub_259685CB0(v14, (SEL *)&selRef_freeformStoryPegasusParameters);
      os_log_type_t v11 = &v23;
      goto LABEL_12;
    case 8:
      type metadata accessor for LLMWrapperUtils();
      char v24 = 1;
      char v15 = self;
      uint64_t v10 = sub_259685CB0(v15, (SEL *)&selRef_assetCurationPegasusParameters);
      os_log_type_t v11 = &v24;
      goto LABEL_12;
    case 9:
      type metadata accessor for LLMWrapperUtils();
      char v25 = 1;
      char v16 = self;
      uint64_t v10 = sub_259685CB0(v16, (SEL *)&selRef_globalTraitsPegasusParameters);
      os_log_type_t v11 = &v25;
      goto LABEL_12;
    case 0xB:
      type metadata accessor for LLMWrapperUtils();
      char v26 = 2;
      char v17 = self;
      uint64_t v10 = sub_259685CB0(v17, (SEL *)&selRef_freeformStoryThimbleParameters);
      os_log_type_t v11 = &v26;
      goto LABEL_12;
    case 0xD:
      type metadata accessor for LLMWrapperUtils();
      char v27 = 2;
      char v18 = self;
      uint64_t v10 = sub_259685CB0(v18, (SEL *)&selRef_assetCurationThimbleParameters);
      os_log_type_t v11 = &v27;
      goto LABEL_12;
    case 0xE:
      type metadata accessor for LLMWrapperUtils();
      char v28 = 2;
      uint64_t v19 = self;
      uint64_t v10 = sub_259685CB0(v19, (SEL *)&selRef_globalTraitsThimbleParameters);
      os_log_type_t v11 = &v28;
LABEL_12:
      static LLMWrapperUtils.samplingParameters(for:parameters:)((unsigned __int8 *)v11, v10, v4, v5, v6, v7, v8, v9, a1);
      swift_bridgeObjectRelease();
      break;
    default:
      *(void *)a1 = 0;
      *(unsigned char *)(a1 + 8) = 1;
      *(void *)(a1 + 16) = 0;
      *(unsigned char *)(a1 + 24) = -1;
      *(void *)(a1 + 32) = 0;
      *(unsigned char *)(a1 + 40) = 1;
      *(void *)(a1 + 48) = 0;
      *(unsigned char *)(a1 + 56) = 1;
      break;
  }
}

uint64_t LLMBackendType.description.getter()
{
  uint64_t v1 = 0x736750736D67;
  if (*v0 != 1) {
    uint64_t v1 = 0x6C6254736D67;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 0x6B6361626C6C6166;
  }
}

Swift::Int __swiftcall LLMBackendType.asInt()()
{
  sub_2594B1F4C();
  if (v1) {
    return 0;
  }
  return result;
}

void *static LLMBackendType.allCases.getter()
{
  return &unk_270736AC0;
}

uint64_t sub_259684D30(unsigned __int8 *a1, char *a2)
{
  return sub_25936F930(*a1, *a2);
}

uint64_t sub_259684D3C()
{
  return sub_2594F89D8();
}

uint64_t sub_259684D44(uint64_t a1)
{
  return sub_259735D18(a1, *v1);
}

uint64_t sub_259684D4C()
{
  return sub_2597370E0();
}

PhotosIntelligence::LLMBackendType_optional sub_259684D54(Swift::String *a1)
{
  return LLMBackendType.init(rawValue:)(*a1);
}

uint64_t sub_259684D60@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = LLMBackendType.rawValue.getter();
  *a1 = result;
  a1[1] = v3;
  return result;
}

void sub_259684D8C(void *a1@<X8>)
{
  *a1 = &unk_270736AC0;
}

uint64_t sub_259684D9C()
{
  return sub_259844470();
}

uint64_t sub_259684DFC()
{
  return sub_259844410();
}

uint64_t LLMBackendEnvironment.rawValue.getter()
{
  if (*v0) {
    return 0x676E6967617473;
  }
  else {
    return 0x7972726163;
  }
}

Swift::Int __swiftcall LLMBackendEnvironment.asInt()()
{
  sub_2594B2088();
  if (v1) {
    return 0;
  }
  return result;
}

void *static LLMBackendEnvironment.allCases.getter()
{
  return &unk_27073DDF0;
}

uint64_t sub_259684EBC(char *a1, char *a2)
{
  return sub_25936ECF4(*a1, *a2);
}

uint64_t sub_259684EC8()
{
  return sub_2594F89E4();
}

uint64_t sub_259684ED0()
{
  return sub_2597356D8();
}

uint64_t sub_259684ED8()
{
  return sub_259736B9C();
}

PhotosIntelligence::LLMBackendEnvironment_optional sub_259684EE0(Swift::String *a1)
{
  return LLMBackendEnvironment.init(rawValue:)(*a1);
}

uint64_t sub_259684EEC@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = LLMBackendEnvironment.rawValue.getter();
  *a1 = result;
  a1[1] = v3;
  return result;
}

void sub_259684F18(void *a1@<X8>)
{
  *a1 = &unk_27073DDF0;
}

uint64_t sub_259684F28()
{
  return sub_259844470();
}

uint64_t sub_259684F88()
{
  return sub_259844410();
}

void LLMModelType.backendType.getter(unsigned char *a1@<X8>)
{
  *a1 = byte_259890252[*v1];
}

unint64_t LLMModelType.description.getter()
{
  unint64_t result = 0x6B6361626C6C6166;
  switch(*v0)
  {
    case 1:
    case 8:
    case 0xD:
      unint64_t result = OUTLINED_FUNCTION_0_1(22);
      break;
    case 2:
      unint64_t result = 0xD000000000000018;
      break;
    case 3:
      unint64_t result = 0xD000000000000017;
      break;
    case 4:
      unint64_t result = 0xD00000000000001DLL;
      break;
    case 5:
      uint64_t v2 = 0x736750736D67;
      goto LABEL_10;
    case 6:
      unint64_t result = 0xD000000000000014;
      break;
    case 7:
      unint64_t result = 0xD00000000000001BLL;
      break;
    case 9:
      unint64_t result = 0xD000000000000015;
      break;
    case 0xA:
      uint64_t v2 = 0x6C6254736D67;
LABEL_10:
      unint64_t result = v2 & 0xFFFFFFFFFFFFLL | 0x6142000000000000;
      break;
    case 0xB:
      unint64_t result = 0xD000000000000014;
      break;
    case 0xC:
      unint64_t result = 0xD00000000000001BLL;
      break;
    case 0xE:
      unint64_t result = 0xD000000000000015;
      break;
    default:
      return result;
  }
  return result;
}

void static LLMWrapperUtils.samplingParameters(for:parameters:)(unsigned __int8 *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t a9@<X8>)
{
  if (!a2)
  {
    uint64_t v20 = 0;
    uint64_t v19 = 0;
    uint64_t v21 = 0;
    uint64_t v22 = 0;
    char v18 = -1;
    char v23 = 1;
    char v24 = 1;
    goto LABEL_82;
  }
  if (*a1 <= 1u)
  {
    OUTLINED_FUNCTION_11_52((uint64_t)a1, a2, a3, a4, a5, a6, a7, a8, v107, v116, v123);
    if (v124)
    {
      uint64_t v10 = OUTLINED_FUNCTION_0_54();
      if (v10)
      {
        char v18 = 0;
        uint64_t v19 = v108;
        goto LABEL_39;
      }
    }
    else
    {
      uint64_t v10 = sub_25945F0CC((uint64_t)&v123);
    }
    OUTLINED_FUNCTION_11_52(v10, v11, v12, v13, v14, v15, v16, v17, v108, v117, v123);
    if (v124)
    {
      uint64_t v10 = OUTLINED_FUNCTION_0_54();
      if (v10)
      {
        uint64_t v10 = sub_259685A54(v108, v117);
        if (v11) {
          uint64_t v19 = 0;
        }
        else {
          uint64_t v19 = v10;
        }
        if (v11) {
          char v18 = -1;
        }
        else {
          char v18 = 0;
        }
        goto LABEL_39;
      }
      goto LABEL_38;
    }
    goto LABEL_37;
  }
  OUTLINED_FUNCTION_3_64((uint64_t)a1, a2, a3, a4, a5, a6, a7, a8, v107, v116, v123);
  if (v124)
  {
    uint64_t v10 = OUTLINED_FUNCTION_0_54();
    if (v10)
    {
      uint64_t v19 = v108;
LABEL_27:
      char v18 = 1;
      goto LABEL_39;
    }
  }
  else
  {
    uint64_t v10 = sub_25945F0CC((uint64_t)&v123);
  }
  OUTLINED_FUNCTION_3_64(v10, v11, v12, v13, v14, v15, v16, v17, v108, v117, v123);
  if (!v124)
  {
    uint64_t v25 = sub_25945F0CC((uint64_t)&v123);
LABEL_29:
    OUTLINED_FUNCTION_3_64(v25, v26, v27, v28, v29, v30, v31, v32, v109, v117, v123);
    if (v124)
    {
      uint64_t v10 = OUTLINED_FUNCTION_0_54();
      if (v10)
      {
        uint64_t v10 = sub_25952DB44(v108, v117);
        if (v11) {
          uint64_t v19 = 0;
        }
        else {
          uint64_t v19 = v10;
        }
        if (v11) {
          char v18 = -1;
        }
        else {
          char v18 = 1;
        }
LABEL_39:
        OUTLINED_FUNCTION_4_63(v10, v11, v12, v13, v14, v15, v16, v17, v108, v117, v123);
        if (v124)
        {
          uint64_t v45 = OUTLINED_FUNCTION_0_54();
          if (v45)
          {
            char v23 = 0;
            uint64_t v20 = v110;
            goto LABEL_48;
          }
        }
        else
        {
          uint64_t v45 = sub_25945F0CC((uint64_t)&v123);
        }
        OUTLINED_FUNCTION_4_63(v45, v46, v47, v48, v49, v50, v51, v52, v110, v118, v123);
        if (v124)
        {
          uint64_t v45 = OUTLINED_FUNCTION_0_54();
          if (v45)
          {
            uint64_t v45 = sub_259685A54(v110, v118);
            uint64_t v20 = v45;
            char v23 = v46 & 1;
            goto LABEL_48;
          }
        }
        else
        {
          uint64_t v45 = sub_25945F0CC((uint64_t)&v123);
        }
        uint64_t v20 = 0;
        char v23 = 1;
LABEL_48:
        OUTLINED_FUNCTION_2_66(v45, v46, v47, v48, v49, v50, v51, v52, v110, v118, v123);
        if (v124)
        {
          uint64_t v53 = OUTLINED_FUNCTION_0_54();
          if (v53)
          {
            char v24 = 0;
            uint64_t v21 = v111;
LABEL_65:
            OUTLINED_FUNCTION_1_79(v53, v54, v55, v56, v57, v58, v59, v60, v111, v119, v123);
            if (v124)
            {
              uint64_t v79 = OUTLINED_FUNCTION_0_54();
              if (v79)
              {
                char v87 = 0;
                uint64_t v22 = v113;
LABEL_83:
                *(void *)a9 = v20;
                *(unsigned char *)(a9 + 8) = v23;
                *(void *)(a9 + 16) = v19;
                *(unsigned char *)(a9 + 24) = v18;
                *(void *)(a9 + 32) = v21;
                *(unsigned char *)(a9 + 40) = v24;
                *(void *)(a9 + 48) = v22;
                *(unsigned char *)(a9 + 56) = v87;
                return;
              }
            }
            else
            {
              uint64_t v79 = sub_25945F0CC((uint64_t)&v123);
            }
            OUTLINED_FUNCTION_1_79(v79, v80, v81, v82, v83, v84, v85, v86, v113, v120, v123);
            if (v124)
            {
              uint64_t v88 = OUTLINED_FUNCTION_0_54();
              if (v88)
              {
                double v104 = OUTLINED_FUNCTION_6_56(v96, v97, v98, v99, v100, v101, v102, v103, *(double *)&v114);
                if (!v42)
                {
                  if (v104 > -9.22337204e18)
                  {
                    OUTLINED_FUNCTION_9_47();
                    if (v44)
                    {
                      char v87 = 0;
                      uint64_t v22 = (uint64_t)v105;
                      goto LABEL_83;
                    }
                    goto LABEL_89;
                  }
                  goto LABEL_87;
                }
LABEL_86:
                __break(1u);
LABEL_87:
                __break(1u);
LABEL_88:
                __break(1u);
LABEL_89:
                __break(1u);
                goto LABEL_90;
              }
            }
            else
            {
              uint64_t v88 = sub_25945F0CC((uint64_t)&v123);
            }
            OUTLINED_FUNCTION_1_79(v88, v89, v90, v91, v92, v93, v94, v95, v114, v121, v123);
            if (v124)
            {
              if (OUTLINED_FUNCTION_0_54())
              {
                uint64_t v22 = sub_25952DB44(v115, v122);
                char v87 = v106 & 1;
                goto LABEL_83;
              }
            }
            else
            {
              sub_25945F0CC((uint64_t)&v123);
            }
            uint64_t v22 = 0;
LABEL_82:
            char v87 = 1;
            goto LABEL_83;
          }
        }
        else
        {
          uint64_t v53 = sub_25945F0CC((uint64_t)&v123);
        }
        OUTLINED_FUNCTION_2_66(v53, v54, v55, v56, v57, v58, v59, v60, v111, v119, v123);
        if (v124)
        {
          uint64_t v61 = OUTLINED_FUNCTION_0_54();
          if (v61)
          {
            double v77 = OUTLINED_FUNCTION_6_56(v69, v70, v71, v72, v73, v74, v75, v76, *(double *)&v112);
            if (v42)
            {
              __break(1u);
            }
            else if (v77 > -9.22337204e18)
            {
              OUTLINED_FUNCTION_9_47();
              if (!v44) {
                goto LABEL_88;
              }
              char v24 = 0;
              uint64_t v21 = (uint64_t)v78;
              goto LABEL_65;
            }
            __break(1u);
            goto LABEL_86;
          }
        }
        else
        {
          uint64_t v61 = sub_25945F0CC((uint64_t)&v123);
        }
        OUTLINED_FUNCTION_2_66(v61, v62, v63, v64, v65, v66, v67, v68, v112, v119, v123);
        if (v124)
        {
          uint64_t v53 = OUTLINED_FUNCTION_0_54();
          if (v53)
          {
            uint64_t v53 = sub_25952DB44(v111, v119);
            uint64_t v21 = v53;
            char v24 = v54 & 1;
            goto LABEL_65;
          }
        }
        else
        {
          uint64_t v53 = sub_25945F0CC((uint64_t)&v123);
        }
        uint64_t v21 = 0;
        char v24 = 1;
        goto LABEL_65;
      }
LABEL_38:
      uint64_t v19 = 0;
      char v18 = -1;
      goto LABEL_39;
    }
LABEL_37:
    uint64_t v10 = sub_25945F0CC((uint64_t)&v123);
    goto LABEL_38;
  }
  uint64_t v25 = OUTLINED_FUNCTION_0_54();
  if ((v25 & 1) == 0) {
    goto LABEL_29;
  }
  double v41 = OUTLINED_FUNCTION_6_56(v33, v34, v35, v36, v37, v38, v39, v40, *(double *)&v109);
  if (v42)
  {
LABEL_90:
    __break(1u);
    goto LABEL_91;
  }
  if (v41 > -9.22337204e18)
  {
    OUTLINED_FUNCTION_9_47();
    if (!v44) {
      goto LABEL_92;
    }
    uint64_t v19 = (uint64_t)v43;
    goto LABEL_27;
  }
LABEL_91:
  __break(1u);
LABEL_92:
  __break(1u);
}

BOOL LLMModelType.isPegasus.getter()
{
  return *v0 < 0xAu;
}

BOOL LLMModelType.isThimble.getter()
{
  return *v0 > 9u;
}

uint64_t LLMModelType.isStorytellerAdapter.getter()
{
  return (*v0 < 0xCuLL) & (0x842u >> *v0);
}

BOOL LLMModelType.isStreamingSupported.getter()
{
  return *v0 > 9u;
}

PhotosIntelligence::LLMModelType_optional __swiftcall LLMModelType.init(rawValue:)(Swift::String rawValue)
{
  OUTLINED_FUNCTION_19_0();
  unint64_t v2 = sub_2598454E0();
  result.value = swift_bridgeObjectRelease();
  char v4 = 15;
  if (v2 < 0xF) {
    char v4 = v2;
  }
  *char v1 = v4;
  return result;
}

unint64_t LLMModelType.rawValue.getter()
{
  unint64_t result = 0x6B6361626C6C6166;
  switch(*v0)
  {
    case 1:
      unint64_t result = 0xD000000000000016;
      break;
    case 2:
    case 6:
    case 0xB:
      unint64_t result = OUTLINED_FUNCTION_0_1(24);
      break;
    case 3:
      unint64_t result = 0xD000000000000017;
      break;
    case 4:
      unint64_t result = 0xD00000000000001DLL;
      break;
    case 5:
      unint64_t result = 0xD000000000000011;
      break;
    case 7:
      unint64_t result = 0xD00000000000001FLL;
      break;
    case 8:
      unint64_t result = 0xD00000000000001ALL;
      break;
    case 9:
      unint64_t result = 0xD000000000000019;
      break;
    case 0xA:
      unint64_t result = 0xD000000000000011;
      break;
    case 0xC:
      unint64_t result = 0xD00000000000001FLL;
      break;
    case 0xD:
      unint64_t result = 0xD00000000000001ALL;
      break;
    case 0xE:
      unint64_t result = 0xD000000000000019;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_2596857EC(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return sub_2593702BC(*a1, *a2);
}

uint64_t sub_2596857F8()
{
  return sub_2594F89F0();
}

uint64_t sub_259685800(uint64_t a1)
{
  return sub_2597362DC(a1, *v1);
}

uint64_t sub_259685808()
{
  return sub_259737494();
}

PhotosIntelligence::LLMModelType_optional sub_259685810(Swift::String *a1)
{
  return LLMModelType.init(rawValue:)(*a1);
}

unint64_t sub_25968581C@<X0>(unint64_t *a1@<X8>)
{
  unint64_t result = LLMModelType.rawValue.getter();
  *a1 = result;
  a1[1] = v3;
  return result;
}

void sub_259685844(void *a1@<X8>)
{
  *a1 = &unk_270735018;
}

uint64_t sub_259685854()
{
  return sub_259844470();
}

uint64_t sub_2596858B4()
{
  return sub_259844410();
}

unint64_t static LLMWrapperUtils.memoryCreationSessionConfigurationIdentifier.getter()
{
  return OUTLINED_FUNCTION_0_1(20);
}

uint64_t static LLMWrapperUtils.systemUserPrompt(systemPrompt:userPrompt:)(uint64_t a1, uint64_t a2)
{
  if (a1 != 0xD000000000000036 || a2 != 0x8000000259850B40) {
    sub_259845750();
  }
  sub_259845110();
  OUTLINED_FUNCTION_7_48();
  sub_259844240();
  sub_259844240();
  sub_259844240();
  sub_259844240();
  sub_259844240();
  return 0;
}

uint64_t sub_259685A54(uint64_t a1, uint64_t a2)
{
  if ((a2 & 0x1000000000000000) != 0 || !(a2 & 0x2000000000000000 | a1 & 0x1000000000000000))
  {
    sub_2598450E0();
    swift_bridgeObjectRelease();
    char v6 = v9;
  }
  else
  {
    MEMORY[0x270FA5388](a1);
    if ((a2 & 0x2000000000000000) != 0)
    {
      char v6 = (v3 > 0x20u || ((0x100003E01uLL >> v3) & 1) == 0)
        && (uint64_t v7 = (unsigned char *)_swift_stdlib_strtod_clocale()) != 0
        && *v7 == 0;
      swift_bridgeObjectRelease();
    }
    else
    {
      if ((v3 & 0x1000000000000000) != 0)
      {
        uint64_t v4 = (a2 & 0xFFFFFFFFFFFFFFFLL) + 32;
        uint64_t v5 = v3 & 0xFFFFFFFFFFFFLL;
      }
      else
      {
        uint64_t v4 = sub_259845200();
      }
      char v6 = sub_259686314(v4, v5, (void (*)(uint64_t *__return_ptr))sub_259686390);
      swift_bridgeObjectRelease();
    }
  }
  if (v6) {
    return 0;
  }
  else {
    return 0;
  }
}

uint64_t LLMWrapperUtils.deinit()
{
  return v0;
}

uint64_t LLMWrapperUtils.__deallocating_deinit()
{
  return MEMORY[0x270FA0228](v0, 16, 7);
}

unsigned char *sub_259685BFC@<X0>(unsigned char *result@<X0>, BOOL *a2@<X8>)
{
  unsigned int v3 = *result;
  BOOL v4 = v3 > 0x20;
  uint64_t v5 = (1 << v3) & 0x100003E01;
  BOOL v6 = v4 || v5 == 0;
  BOOL v7 = v6 && (result = (unsigned char *)_swift_stdlib_strtod_clocale()) != 0 && *result == 0;
  *a2 = v7;
  return result;
}

uint64_t sub_259685C68(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_assetCurationPegasusParameters);
}

uint64_t sub_259685C74(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_assetCurationThimbleParameters);
}

uint64_t sub_259685C80(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_freeformStoryPegasusParameters);
}

uint64_t sub_259685C8C(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_freeformStoryThimbleParameters);
}

uint64_t sub_259685C98(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_globalTraitsPegasusParameters);
}

uint64_t sub_259685CA4(void *a1)
{
  return sub_259685CB0(a1, (SEL *)&selRef_globalTraitsThimbleParameters);
}

uint64_t sub_259685CB0(void *a1, SEL *a2)
{
  id v2 = [a1 *a2];
  if (!v2) {
    return 0;
  }
  unsigned int v3 = v2;
  uint64_t v4 = sub_259843EB0();

  return v4;
}

uint64_t sub_259685D18(void *a1)
{
  return sub_2594CBFFC(a1, (SEL *)&selRef_fallbackGlobalTraits30bModelName);
}

uint64_t sub_259685D24(void *a1)
{
  return sub_2594CBFFC(a1, (SEL *)&selRef_fallbackAssetCuration30bModelName);
}

uint64_t sub_259685D30(void *a1)
{
  return sub_2594CBFFC(a1, (SEL *)&selRef_fallbackStorytelling30bModelName);
}

uint64_t type metadata accessor for LLMWrapperUtils()
{
  return self;
}

unint64_t sub_259685D64()
{
  unint64_t result = qword_26A38FCB8;
  if (!qword_26A38FCB8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FCB8);
  }
  return result;
}

uint64_t sub_259685DB0()
{
  return sub_259685EC8(&qword_26A38FCC0, &qword_26A38FCC8);
}

unint64_t sub_259685DDC()
{
  unint64_t result = qword_26A38FCD0;
  if (!qword_26A38FCD0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FCD0);
  }
  return result;
}

uint64_t sub_259685E28()
{
  return sub_259685EC8(&qword_26A38FCD8, &qword_26A38FCE0);
}

unint64_t sub_259685E54()
{
  unint64_t result = qword_26A38FCE8;
  if (!qword_26A38FCE8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FCE8);
  }
  return result;
}

uint64_t sub_259685EA0()
{
  return sub_259685EC8(&qword_26A38FCF0, &qword_26A38FCF8);
}

uint64_t sub_259685EC8(unint64_t *a1, uint64_t *a2)
{
  uint64_t result = *a1;
  if (!result)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for LLMBackendType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x259685FE4);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

void type metadata accessor for LLMBackendType()
{
}

unsigned char *storeEnumTagSinglePayload for LLMBackendEnvironment(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *uint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596860E4);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

void type metadata accessor for LLMBackendEnvironment()
{
}

unsigned char *storeEnumTagSinglePayload for LLMModelType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 14 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 14) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xF2) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF1)
  {
    unsigned int v6 = ((a2 - 242) >> 8) + 1;
    *uint64_t result = a2 + 14;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596861E4);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 14;
        break;
    }
  }
  return result;
}

void type metadata accessor for LLMModelType()
{
}

uint64_t method lookup function for LLMWrapperUtils(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for LLMWrapperUtils);
}

unint64_t sub_259686230()
{
  unint64_t result = qword_26A38FD00;
  if (!qword_26A38FD00)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD00);
  }
  return result;
}

unint64_t sub_25968627C()
{
  unint64_t result = qword_26A38FD08;
  if (!qword_26A38FD08)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD08);
  }
  return result;
}

unint64_t sub_2596862C8()
{
  unint64_t result = qword_26A38FD10;
  if (!qword_26A38FD10)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD10);
  }
  return result;
}

uint64_t sub_259686314(uint64_t a1, uint64_t a2, void (*a3)(uint64_t *__return_ptr))
{
  if (a1)
  {
    a3(&var2);
    if (!v3) {
      char v4 = var2;
    }
  }
  else
  {
    ((void (*)(uint64_t *__return_ptr, void, void))a3)((uint64_t *)((char *)&var2 + 1), 0, 0);
    if (!v3) {
      char v4 = BYTE1(var2);
    }
  }
  return v4 & 1;
}

unsigned char *sub_259686374@<X0>(unsigned char *a1@<X0>, BOOL *a2@<X8>)
{
  return sub_259685BFC(a1, a2);
}

void *sub_259686390@<X0>(unsigned char *a1@<X8>)
{
  unint64_t result = (*(void *(**)(uint64_t *__return_ptr))(v1 + 16))(&v5);
  if (!v2) {
    *a1 = v5;
  }
  return result;
}

uint64_t static FreeformStoryGenerator.Configuration.traitTitle(of:from:)(unsigned __int8 *a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for PersonalTrait();
  MEMORY[0x270FA5388](v4);
  unsigned int v6 = (char *)v23 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = *(void *)(a2 + 16);
  if (!v7)
  {
    uint64_t v10 = MEMORY[0x263F8EE78];
    return sub_259737700(v10);
  }
  int v8 = *a1;
  uint64_t v9 = a2 + 32;
  v23[1] = a2;
  sub_259843F00();
  uint64_t v10 = MEMORY[0x263F8EE78];
  do
  {
    sub_259353FF0(v9, (uint64_t)v25);
    sub_259353FF0((uint64_t)v25, (uint64_t)v24);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389820);
    int v11 = swift_dynamicCast();
    char v12 = v11;
    if (v11) {
      sub_2595AD86C((uint64_t)v6);
    }
    if (v8)
    {
      if (v8 == 1 && (v12 & 1) == 0)
      {
LABEL_8:
        __swift_destroy_boxed_opaque_existential_1((uint64_t)v25);
        goto LABEL_15;
      }
    }
    else if (v12)
    {
      goto LABEL_8;
    }
    uint64_t v13 = v26;
    uint64_t v14 = v27;
    __swift_project_boxed_opaque_existential_1(v25, v26);
    uint64_t v15 = (*(uint64_t (**)(uint64_t, uint64_t))(v14 + 32))(v13, v14);
    uint64_t v17 = v16;
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v25);
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      sub_25938553C();
      uint64_t v10 = v20;
    }
    unint64_t v18 = *(void *)(v10 + 16);
    if (v18 >= *(void *)(v10 + 24) >> 1)
    {
      sub_25938553C();
      uint64_t v10 = v21;
    }
    *(void *)(v10 + 16) = v18 + 1;
    uint64_t v19 = v10 + 16 * v18;
    *(void *)(v19 + 32) = v15;
    *(void *)(v19 + 40) = v17;
LABEL_15:
    v9 += 40;
    --v7;
  }
  while (v7);
  swift_bridgeObjectRelease();
  return sub_259737700(v10);
}

uint64_t FreeformStoryGenerator.Configuration.init(minimumNumberOfStorytellingAssets:minimumNumberOfChaptersPerStory:minimumNumberOfAssetsPerChapter:minimumNumberOfStoryAssetsForMontage:maximumRatioInNumberOfAssetsBetweenLargestAndShortestChapters:targetNumberOfAssetsForChronologicalMontage:minimumNumberOfAssetsForChronologicalMontage:absoluteMinimumNumberOfCuratedAssetsForLastResortStory:targetMinimumNumberOfCuratedAssetsForLastResortStory:minimumFractionOfFullClusteredAssetsForVisualClusterStory:minimumFractionOfTotalClusteredAssetsForVisualClusterStory:minimumNumberOfClustersForVisualClusterStory:minimumNumberOfAssetsPerClusterForVisualClusterStory:minimumRetrievedAssetsCoverageRatioForVisualClusterStory:traitsToPassToLLMCuration:forceStoryType:persistNonPendingMemory:)@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X5>, uint64_t a7@<X6>, uint64_t a8@<X7>, uint64_t a9@<X8>, double a10@<D0>, double a11@<D1>, double a12@<D2>, double a13@<D3>, uint64_t a14, uint64_t a15, char *a16, char *a17, char a18)
{
  char v18 = *a16;
  char v19 = *a17;
  *(void *)a9 = result;
  *(void *)(a9 + 8) = a2;
  *(void *)(a9 + 16) = a3;
  *(void *)(a9 + 24) = a4;
  *(double *)(a9 + 32) = a10;
  *(void *)(a9 + 40) = a5;
  *(void *)(a9 + 48) = a6;
  *(void *)(a9 + 56) = a7;
  *(void *)(a9 + 64) = a8;
  *(double *)(a9 + 72) = a11;
  *(double *)(a9 + 80) = a12;
  *(void *)(a9 + 88) = a14;
  *(void *)(a9 + 96) = a15;
  *(double *)(a9 + 104) = a13;
  *(unsigned char *)(a9 + 112) = v18;
  *(unsigned char *)(a9 + 113) = v19;
  *(unsigned char *)(a9 + 114) = a18;
  return result;
}

BOOL static FreeformStoryGenerator.Configuration.TraitType.== infix(_:_:)(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return *a1 == *a2;
}

uint64_t FreeformStoryGenerator.Configuration.TraitType.hash(into:)()
{
  return sub_2598458C0();
}

uint64_t FreeformStoryGenerator.Configuration.TraitType.hashValue.getter()
{
  return sub_259845910();
}

unint64_t sub_2596866AC()
{
  unint64_t result = qword_26A38FD18;
  if (!qword_26A38FD18)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD18);
  }
  return result;
}

void *__swift_memcpy115_8(void *a1, const void *a2)
{
  return memcpy(a1, a2, 0x73uLL);
}

uint64_t _s13ConfigurationVwet(uint64_t a1, unsigned int a2)
{
  if (a2)
  {
    if (a2 >= 0xFF && *(unsigned char *)(a1 + 115))
    {
      int v2 = *(_DWORD *)a1 + 254;
    }
    else
    {
      unsigned int v3 = *(unsigned __int8 *)(a1 + 114);
      BOOL v4 = v3 >= 2;
      int v2 = (v3 + 2147483646) & 0x7FFFFFFF;
      if (!v4) {
        int v2 = -1;
      }
    }
  }
  else
  {
    int v2 = -1;
  }
  return (v2 + 1);
}

uint64_t _s13ConfigurationVwst(uint64_t result, unsigned int a2, unsigned int a3)
{
  if (a2 > 0xFE)
  {
    *(void *)(result + 104) = 0;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(unsigned char *)(result + 114) = 0;
    *(_WORD *)(result + 112) = 0;
    *(void *)unint64_t result = a2 - 255;
    if (a3 >= 0xFF) {
      *(unsigned char *)(result + 115) = 1;
    }
  }
  else
  {
    if (a3 >= 0xFF) {
      *(unsigned char *)(result + 115) = 0;
    }
    if (a2) {
      *(unsigned char *)(result + 114) = a2 + 1;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for FreeformStoryGenerator.Configuration()
{
  return &type metadata for FreeformStoryGenerator.Configuration;
}

unsigned char *_s13ConfigurationV9TraitTypeOwst(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x259686890);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for FreeformStoryGenerator.Configuration.TraitType()
{
  return &type metadata for FreeformStoryGenerator.Configuration.TraitType;
}

uint64_t sub_2596868C8(uint64_t a1, uint64_t a2)
{
  BOOL v2 = a1 == 0x55514D4C4C7369 && a2 == 0xE700000000000000;
  if (v2 || (sub_259845750() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 0xD000000000000013 && a2 == 0x800000025985C850 || (sub_259845750() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    BOOL v6 = a1 == 0x7274537972657571 && a2 == 0xEB00000000676E69;
    if (v6 || (sub_259845750() & 1) != 0)
    {
      swift_bridgeObjectRelease();
      return 2;
    }
    else
    {
      BOOL v7 = a1 == 0x6B6F547972657571 && a2 == 0xEB00000000736E65;
      if (v7 || (sub_259845750() & 1) != 0)
      {
        swift_bridgeObjectRelease();
        return 3;
      }
      else if (a1 == 0xD00000000000001BLL && a2 == 0x800000025985D5D0 || (sub_259845750() & 1) != 0)
      {
        swift_bridgeObjectRelease();
        return 4;
      }
      else if (a1 == 0xD000000000000013 && a2 == 0x800000025985D5F0)
      {
        swift_bridgeObjectRelease();
        return 5;
      }
      else
      {
        char v8 = sub_259845750();
        swift_bridgeObjectRelease();
        if (v8) {
          return 5;
        }
        else {
          return 6;
        }
      }
    }
  }
}

unint64_t sub_259686B5C(char a1)
{
  unint64_t result = 0x55514D4C4C7369;
  switch(a1)
  {
    case 1:
    case 5:
      unint64_t result = 0xD000000000000013;
      break;
    case 2:
      unint64_t result = 0x7274537972657571;
      break;
    case 3:
      unint64_t result = 0x6B6F547972657571;
      break;
    case 4:
      unint64_t result = 0xD00000000000001BLL;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_259686C38(void *a1)
{
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD30);
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  BOOL v7 = (char *)&v14 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = v1[1];
  uint64_t v21 = v1[2];
  uint64_t v22 = v8;
  uint64_t v9 = v1[3];
  uint64_t v19 = v1[4];
  uint64_t v20 = v9;
  uint64_t v10 = v1[5];
  uint64_t v17 = v1[6];
  uint64_t v18 = v10;
  uint64_t v11 = v1[7];
  uint64_t v15 = v1[8];
  uint64_t v16 = v11;
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  sub_259687CAC();
  sub_259845970();
  LOBYTE(v23) = 0;
  sub_259845680();
  if (!v2)
  {
    uint64_t v12 = v17;
    uint64_t v23 = v22;
    uint64_t v24 = v21;
    uint64_t v25 = v20;
    char v26 = 1;
    sub_25964A048();
    sub_259845660();
    LOBYTE(v23) = 2;
    sub_259845670();
    uint64_t v23 = v12;
    char v26 = 3;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38DCD0);
    sub_259687CF8((unint64_t *)&qword_26A38DCD8, (void (*)(void))sub_25959003C);
    sub_2598456D0();
    LOBYTE(v23) = 4;
    sub_2598456B0();
    uint64_t v23 = v15;
    char v26 = 5;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    sub_25940731C((unint64_t *)&qword_26A389A70);
    sub_2598456D0();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
}

uint64_t sub_259686F3C@<X0>(void *a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD40);
  uint64_t v6 = *(void *)(v5 - 8);
  MEMORY[0x270FA5388](v5);
  uint64_t v8 = (char *)&v26 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  sub_259687CAC();
  sub_259845960();
  if (v2) {
    return __swift_destroy_boxed_opaque_existential_1((uint64_t)a1);
  }
  LOBYTE(v33) = 0;
  int v9 = sub_259845580();
  char v37 = 1;
  sub_25964A590();
  sub_259845560();
  int v36 = v9;
  uint64_t v11 = v33;
  uint64_t v12 = v34;
  uint64_t v13 = v35;
  LOBYTE(v33) = 2;
  uint64_t v30 = v11;
  sub_25947F554(v11);
  uint64_t v14 = sub_259845570();
  uint64_t v32 = v12;
  uint64_t v28 = v14;
  uint64_t v29 = v13;
  uint64_t v16 = v15;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38DCD0);
  char v37 = 3;
  sub_259687CF8(&qword_26A38DD10, (void (*)(void))sub_259590220);
  sub_259843F00();
  sub_2598455D0();
  uint64_t v31 = v16;
  uint64_t v17 = v33;
  LOBYTE(v33) = 4;
  sub_259843F00();
  uint64_t v27 = sub_2598455B0();
  uint64_t v18 = v17;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
  char v37 = 5;
  sub_25940731C((unint64_t *)&qword_26A38A4C8);
  sub_2598455D0();
  uint64_t v19 = v32;
  v36 &= 1u;
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  uint64_t v20 = v33;
  uint64_t v21 = v29;
  uint64_t v22 = v30;
  sub_25947F554(v30);
  uint64_t v23 = v19;
  uint64_t v24 = v31;
  sub_259843F00();
  sub_259843F00();
  swift_bridgeObjectRelease();
  sub_25947ED9C(v22);
  *(unsigned char *)a2 = v36;
  *(void *)(a2 + 8) = v22;
  *(void *)(a2 + 16) = v23;
  uint64_t v25 = v28;
  *(void *)(a2 + 24) = v21;
  *(void *)(a2 + 32) = v25;
  *(void *)(a2 + 40) = v24;
  *(void *)(a2 + 48) = v18;
  *(void *)(a2 + 56) = v27;
  *(void *)(a2 + 64) = v20;
  __swift_destroy_boxed_opaque_existential_1((uint64_t)a1);
  sub_25947ED9C(v22);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return swift_bridgeObjectRelease();
}

unint64_t sub_25968746C()
{
  return sub_259686B5C(*v0);
}

uint64_t sub_259687474@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_2596868C8(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_25968749C(uint64_t a1)
{
  unint64_t v2 = sub_259687CAC();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596874D8(uint64_t a1)
{
  unint64_t v2 = sub_259687CAC();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t sub_259687514@<X0>(void *a1@<X0>, uint64_t a2@<X8>)
{
  return sub_259686F3C(a1, a2);
}

uint64_t sub_25968752C(void *a1)
{
  return sub_259686C38(a1);
}

unint64_t static QueryUnderstandingDiagnosticsGenerator.diagnosticsFileName.getter()
{
  return 0xD000000000000016;
}

uint64_t static QueryUnderstandingDiagnosticsGenerator.save(isLLMQU:promptBindingRecipe:queryString:queryTokens:retrievedAssetUUIDs:in:)(char a1, uint64_t *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v12 = *a2;
  uint64_t v11 = a2[1];
  uint64_t v13 = a2[2];
  uint64_t result = PFOSVariantHasInternalDiagnostics();
  if (result)
  {
    v22[0] = a5;
    sub_259843F00();
    sub_2596877CC(v22);
    if (v6)
    {
      uint64_t result = swift_release();
      __break(1u);
    }
    else
    {
      uint64_t v21 = v22[0];
      v22[0] = a6;
      sub_259843F00();
      sub_259418628(v22);
      uint64_t v15 = v22[0];
      uint64_t v16 = *(void *)(a6 + 16);
      sub_259842540();
      swift_allocObject();
      sub_25947F554(v12);
      sub_259843F00();
      sub_259842530();
      sub_259842510();
      LOBYTE(v22[0]) = a1 & 1;
      v22[1] = v12;
      v22[2] = v11;
      v22[3] = v13;
      v22[4] = a3;
      v22[5] = a4;
      v22[6] = v21;
      v22[7] = v16;
      v22[8] = v15;
      sub_259687838();
      uint64_t v17 = sub_259842520();
      unint64_t v19 = v18;
      sub_25947ED9C(v12);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      sub_2594E7DB8();
      sub_259399374(v17, v19);
      return swift_release();
    }
  }
  return result;
}

void sub_2596877CC(uint64_t *a1)
{
  uint64_t v2 = *a1;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    sub_2596F33D0();
    uint64_t v2 = v3;
  }
  uint64_t v4 = *(void *)(v2 + 16);
  v5[0] = v2 + 32;
  v5[1] = v4;
  sub_2595672A4(v5);
  *a1 = v2;
}

unint64_t sub_259687838()
{
  unint64_t result = qword_26A38FD20;
  if (!qword_26A38FD20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD20);
  }
  return result;
}

unint64_t sub_259687884()
{
  unint64_t result = qword_26A38FD28;
  if (!qword_26A38FD28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD28);
  }
  return result;
}

ValueMetadata *type metadata accessor for QueryUnderstandingDiagnosticsGenerator()
{
  return &type metadata for QueryUnderstandingDiagnosticsGenerator;
}

ValueMetadata *type metadata accessor for QueryUnderstandingDiagnosticsGenerator.Error()
{
  return &type metadata for QueryUnderstandingDiagnosticsGenerator.Error;
}

uint64_t destroy for QueryUnderstandingDiagnostics(uint64_t a1)
{
  if (*(void *)(a1 + 8))
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return swift_bridgeObjectRelease();
}

uint64_t initializeWithCopy for QueryUnderstandingDiagnostics(uint64_t a1, uint64_t a2)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  uint64_t v4 = a1 + 8;
  uint64_t v5 = *(void *)(a2 + 8);
  if (v5)
  {
    uint64_t v6 = *(void *)(a2 + 16);
    uint64_t v7 = *(void *)(a2 + 24);
    *(void *)(a1 + 8) = v5;
    *(void *)(a1 + 16) = v6;
    *(void *)(a1 + 24) = v7;
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
  }
  else
  {
    *(_OWORD *)uint64_t v4 = *(_OWORD *)(a2 + 8);
    *(void *)(v4 + 16) = *(void *)(a2 + 24);
  }
  uint64_t v8 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v8;
  uint64_t v9 = *(void *)(a2 + 56);
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(void *)(a1 + 56) = v9;
  *(void *)(a1 + 64) = *(void *)(a2 + 64);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  return a1;
}

uint64_t assignWithCopy for QueryUnderstandingDiagnostics(uint64_t a1, uint64_t a2)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  uint64_t v4 = a1 + 8;
  uint64_t v5 = *(void *)(a1 + 8);
  uint64_t v7 = (long long *)(a2 + 8);
  uint64_t v6 = *(void *)(a2 + 8);
  if (v5)
  {
    if (v6)
    {
      *(void *)(a1 + 8) = v6;
      sub_259843F00();
      swift_bridgeObjectRelease();
      *(void *)(a1 + 16) = *(void *)(a2 + 16);
      sub_259843F00();
      swift_bridgeObjectRelease();
      *(void *)(a1 + 24) = *(void *)(a2 + 24);
      sub_259843F00();
      swift_bridgeObjectRelease();
    }
    else
    {
      sub_25964AAE0(v4);
      uint64_t v8 = *((void *)v7 + 2);
      *(_OWORD *)uint64_t v4 = *v7;
      *(void *)(v4 + 16) = v8;
    }
  }
  else if (v6)
  {
    *(void *)(a1 + 8) = v6;
    *(void *)(a1 + 16) = *(void *)(a2 + 16);
    *(void *)(a1 + 24) = *(void *)(a2 + 24);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
  }
  else
  {
    long long v9 = *v7;
    *(void *)(v4 + 16) = *(void *)(a2 + 24);
    *(_OWORD *)uint64_t v4 = v9;
  }
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 56) = *(void *)(a2 + 56);
  *(void *)(a1 + 64) = *(void *)(a2 + 64);
  sub_259843F00();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t assignWithTake for QueryUnderstandingDiagnostics(uint64_t a1, uint64_t a2)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  uint64_t v4 = a1 + 8;
  uint64_t v6 = a2 + 8;
  uint64_t v5 = *(void *)(a2 + 8);
  if (!*(void *)(a1 + 8)) {
    goto LABEL_5;
  }
  if (!v5)
  {
    sub_25964AAE0(v4);
LABEL_5:
    *(_OWORD *)uint64_t v4 = *(_OWORD *)v6;
    *(void *)(v4 + 16) = *(void *)(v6 + 16);
    goto LABEL_6;
  }
  *(void *)(a1 + 8) = v5;
  swift_bridgeObjectRelease();
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  swift_bridgeObjectRelease();
  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  swift_bridgeObjectRelease();
LABEL_6:
  uint64_t v7 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v7;
  swift_bridgeObjectRelease();
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  swift_bridgeObjectRelease();
  uint64_t v8 = *(void *)(a2 + 64);
  *(void *)(a1 + 56) = *(void *)(a2 + 56);
  *(void *)(a1 + 64) = v8;
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t getEnumTagSinglePayload for QueryUnderstandingDiagnostics(uint64_t a1, int a2)
{
  if (a2)
  {
    if (a2 < 0 && *(unsigned char *)(a1 + 72))
    {
      LODWORD(v2) = *(_DWORD *)a1 + 0x7FFFFFFF;
    }
    else
    {
      unint64_t v2 = *(void *)(a1 + 40);
      if (v2 >= 0xFFFFFFFF) {
        LODWORD(v2) = -1;
      }
    }
  }
  else
  {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for QueryUnderstandingDiagnostics(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(void *)unint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 72) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 40) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 72) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for QueryUnderstandingDiagnostics()
{
  return &type metadata for QueryUnderstandingDiagnostics;
}

unint64_t sub_259687CAC()
{
  unint64_t result = qword_26A38FD38;
  if (!qword_26A38FD38)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD38);
  }
  return result;
}

uint64_t sub_259687CF8(unint64_t *a1, void (*a2)(void))
{
  uint64_t result = *a1;
  if (!result)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38DCD0);
    a2();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for QueryUnderstandingDiagnostics.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 5 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 5) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFB) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFA)
  {
    unsigned int v6 = ((a2 - 251) >> 8) + 1;
    *uint64_t result = a2 + 5;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x259687E34);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 5;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for QueryUnderstandingDiagnostics.CodingKeys()
{
  return &type metadata for QueryUnderstandingDiagnostics.CodingKeys;
}

unint64_t sub_259687E70()
{
  unint64_t result = qword_26A38FD48;
  if (!qword_26A38FD48)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD48);
  }
  return result;
}

unint64_t sub_259687EC0()
{
  unint64_t result = qword_26A38FD50;
  if (!qword_26A38FD50)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD50);
  }
  return result;
}

unint64_t sub_259687F10()
{
  unint64_t result = qword_26A38FD58;
  if (!qword_26A38FD58)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD58);
  }
  return result;
}

uint64_t sub_259687F5C(void *a1, uint64_t a2, uint64_t a3)
{
  sub_2597EFE50(v33, a2);
  uint64_t v27 = v33[1];
  int64_t v31 = v33[3];
  unint64_t v4 = v33[4];
  int64_t v28 = (unint64_t)(v33[2] + 64) >> 6;
  uint64_t v29 = v33[0];
  sub_259843F00();
  if (!v4) {
    goto LABEL_3;
  }
LABEL_2:
  uint64_t v32 = (v4 - 1) & v4;
  for (unint64_t i = __clz(__rbit64(v4)) | (v31 << 6); ; unint64_t i = __clz(__rbit64(v7)) + (v8 << 6))
  {
    uint64_t v10 = (uint64_t *)(*(void *)(v29 + 48) + 16 * i);
    uint64_t v12 = *v10;
    uint64_t v11 = v10[1];
    uint64_t v13 = *(void *)(*(void *)(v29 + 56) + 8 * i);
    swift_bridgeObjectRetain_n();
    sub_259843F00();
    uint64_t v14 = sub_25946D788(a3, v13);
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v34 = a1;
    unint64_t v15 = sub_25939CE90();
    if (__OFADD__(a1[2], (v16 & 1) == 0)) {
      break;
    }
    unint64_t v17 = v15;
    char v18 = v16;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B08);
    if (sub_259845350())
    {
      unint64_t v19 = sub_25939CE90();
      if ((v18 & 1) != (v20 & 1)) {
        goto LABEL_33;
      }
      unint64_t v17 = v19;
    }
    a1 = v34;
    if (v18)
    {
      uint64_t v21 = v34[7];
      swift_bridgeObjectRelease();
      *(void *)(v21 + 8 * v17) = v14;
    }
    else
    {
      v34[(v17 >> 6) + 8] |= 1 << v17;
      uint64_t v22 = (void *)(a1[6] + 16 * v17);
      *uint64_t v22 = v12;
      v22[1] = v11;
      *(void *)(a1[7] + 8 * v17) = v14;
      uint64_t v23 = a1[2];
      BOOL v24 = __OFADD__(v23, 1);
      uint64_t v25 = v23 + 1;
      if (v24) {
        goto LABEL_31;
      }
      a1[2] = v25;
      sub_259843F00();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    unint64_t v4 = v32;
    if (v32) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v6 = v31 + 1;
    if (__OFADD__(v31, 1)) {
      goto LABEL_32;
    }
    if (v6 >= v28) {
      goto LABEL_29;
    }
    unint64_t v7 = *(void *)(v27 + 8 * v6);
    int64_t v8 = v31 + 1;
    if (!v7)
    {
      int64_t v8 = v31 + 2;
      if (v31 + 2 >= v28) {
        goto LABEL_29;
      }
      unint64_t v7 = *(void *)(v27 + 8 * v8);
      if (!v7)
      {
        int64_t v8 = v31 + 3;
        if (v31 + 3 >= v28) {
          goto LABEL_29;
        }
        unint64_t v7 = *(void *)(v27 + 8 * v8);
        if (!v7)
        {
          int64_t v8 = v31 + 4;
          if (v31 + 4 >= v28) {
            goto LABEL_29;
          }
          unint64_t v7 = *(void *)(v27 + 8 * v8);
          if (!v7)
          {
            int64_t v8 = v31 + 5;
            if (v31 + 5 >= v28) {
              goto LABEL_29;
            }
            unint64_t v7 = *(void *)(v27 + 8 * v8);
            if (!v7)
            {
              int64_t v9 = v31 + 6;
              while (v9 < v28)
              {
                unint64_t v7 = *(void *)(v27 + 8 * v9++);
                if (v7)
                {
                  int64_t v8 = v9 - 1;
                  goto LABEL_18;
                }
              }
LABEL_29:
              swift_release();
              swift_bridgeObjectRelease();
              return (uint64_t)a1;
            }
          }
        }
      }
    }
LABEL_18:
    int64_t v31 = v8;
    uint64_t v32 = (v7 - 1) & v7;
  }
  __break(1u);
LABEL_31:
  __break(1u);
LABEL_32:
  __break(1u);
LABEL_33:
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

void sub_259688258(uint64_t a1, void (*a2)(uint64_t *, void *), uint64_t a3, uint64_t a4)
{
  uint64_t v25 = a1;
  sub_2597EFE50(v24, a4);
  uint64_t v6 = v24[0];
  int64_t v7 = v24[3];
  unint64_t v8 = v24[4];
  uint64_t v20 = v24[1];
  int64_t v21 = (unint64_t)(v24[2] + 64) >> 6;
  sub_259843F00();
  if (!v8) {
    goto LABEL_3;
  }
LABEL_2:
  unint64_t v9 = __clz(__rbit64(v8));
  v8 &= v8 - 1;
  unint64_t v10 = v9 | (v7 << 6);
  while (1)
  {
    uint64_t v14 = *(void **)(*(void *)(v6 + 48) + 8 * v10);
    uint64_t v15 = *(void *)(v6 + 56) + 16 * v10;
    char v16 = *(void **)v15;
    char v17 = *(unsigned char *)(v15 + 8);
    v22[0] = v14;
    v22[1] = v16;
    char v23 = v17;
    id v18 = v14;
    sub_2595E7250(v16, v17);
    a2(&v25, v22);
    if (v4)
    {

      swift_bridgeObjectRelease();
      sub_259431E8C(v16, v17);
      swift_release();
      return;
    }

    sub_259431E8C(v16, v17);
    if (v8) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v11 = v7 + 1;
    if (__OFADD__(v7, 1)) {
      break;
    }
    if (v11 >= v21) {
      goto LABEL_24;
    }
    unint64_t v12 = *(void *)(v20 + 8 * v11);
    if (!v12)
    {
      int64_t v13 = v7 + 2;
      if (v7 + 2 >= v21) {
        goto LABEL_24;
      }
      unint64_t v12 = *(void *)(v20 + 8 * v13);
      if (v12) {
        goto LABEL_12;
      }
      int64_t v13 = v7 + 3;
      if (v7 + 3 >= v21) {
        goto LABEL_24;
      }
      unint64_t v12 = *(void *)(v20 + 8 * v13);
      if (v12) {
        goto LABEL_12;
      }
      int64_t v13 = v7 + 4;
      if (v7 + 4 >= v21) {
        goto LABEL_24;
      }
      unint64_t v12 = *(void *)(v20 + 8 * v13);
      if (v12)
      {
LABEL_12:
        int64_t v11 = v13;
      }
      else
      {
        int64_t v11 = v7 + 5;
        if (v7 + 5 >= v21) {
          goto LABEL_24;
        }
        unint64_t v12 = *(void *)(v20 + 8 * v11);
        if (!v12)
        {
          int64_t v19 = v7 + 6;
          while (v19 < v21)
          {
            unint64_t v12 = *(void *)(v20 + 8 * v19++);
            if (v12)
            {
              int64_t v11 = v19 - 1;
              goto LABEL_13;
            }
          }
LABEL_24:
          swift_release();
          return;
        }
      }
    }
LABEL_13:
    unint64_t v8 = (v12 - 1) & v12;
    unint64_t v10 = __clz(__rbit64(v12)) + (v11 << 6);
    int64_t v7 = v11;
  }
  __break(1u);
}

void sub_25968846C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = *(void *)(a1 + 16);
  if (v5)
  {
    unint64_t v6 = 0;
    uint64_t v7 = a1 + 40;
    uint64_t v8 = MEMORY[0x263F8EE78];
    uint64_t v23 = a1 + 40;
    do
    {
      uint64_t v24 = v8;
      unint64_t v9 = (uint64_t *)(v7 + 16 * v6);
      unint64_t v10 = v6;
      while (1)
      {
        if (v10 >= *(void *)(a1 + 16))
        {
          __break(1u);
          return;
        }
        uint64_t v12 = *(v9 - 1);
        uint64_t v11 = *v9;
        uint64_t v13 = *(void *)(a3 + 16);
        sub_259843F00();
        if (v13)
        {
          sub_259843F00();
          unint64_t v14 = sub_25939CE90();
          if (v15)
          {
            char v16 = (uint64_t *)(*(void *)(a3 + 56) + 16 * v14);
            uint64_t v18 = *v16;
            uint64_t v17 = v16[1];
            sub_259843F00();
          }
          else
          {
            uint64_t v18 = 0;
            uint64_t v17 = 0xE000000000000000;
          }
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v18 = 0;
          uint64_t v17 = 0xE000000000000000;
        }
        sub_25973CE24(v18, v17, a2);
        char v20 = v19;
        swift_bridgeObjectRelease();
        if (v20) {
          break;
        }
        ++v10;
        swift_bridgeObjectRelease();
        v9 += 2;
        if (v5 == v10) {
          goto LABEL_19;
        }
      }
      uint64_t v8 = v24;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2594F08BC();
        uint64_t v8 = v24;
      }
      unint64_t v21 = *(void *)(v8 + 16);
      if (v21 >= *(void *)(v8 + 24) >> 1)
      {
        sub_2594F08BC();
        uint64_t v8 = v24;
      }
      unint64_t v6 = v10 + 1;
      *(void *)(v8 + 16) = v21 + 1;
      uint64_t v22 = v8 + 16 * v21;
      *(void *)(v22 + 32) = v12;
      *(void *)(v22 + 40) = v11;
      uint64_t v7 = v23;
    }
    while (v5 - 1 != v10);
  }
LABEL_19:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
}

uint64_t sub_259688650(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  uint64_t result = MEMORY[0x263F8EE78];
  if (v3)
  {
    uint64_t v32 = MEMORY[0x263F8EE78];
    sub_2594F1CF0();
    uint64_t result = v32;
    for (unint64_t i = (char *)(a1 + 32); ; i += 88)
    {
      uint64_t v6 = result;
      memcpy(__dst, i, 0x58uLL);
      uint64_t v7 = *a2;
      uint64_t v8 = *(void *)(*a2 + 16);
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v29 = v3;
      if (!v8) {
        goto LABEL_7;
      }
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v9 = sub_25939D1E0();
      if ((v10 & 1) == 0) {
        break;
      }
      v11._rawValue = *(void **)(*(void *)(v7 + 56) + 8 * v9);
      sub_259843F00();
      sub_25945EA34((uint64_t)__dst);
      memcpy(v30, __dst, sizeof(v30));
      sub_2593A2D18((uint64_t)__dst);
      QueryToken.addRetrievalResults(_:)(v11);
      swift_bridgeObjectRelease();
      sub_25945EA34((uint64_t)__dst);
LABEL_8:
      uint64_t result = v6;
      uint64_t v13 = v30[0];
      uint64_t v12 = v30[1];
      char v14 = v30[2];
      long long v15 = *(_OWORD *)&v30[3];
      char v16 = v30[5];
      uint64_t v18 = v30[6];
      uint64_t v17 = v30[7];
      char v19 = v30[8];
      unint64_t v21 = *(void *)(result + 16);
      unint64_t v20 = *(void *)(result + 24);
      long long v22 = *(_OWORD *)&v30[9];
      uint64_t v32 = result;
      if (v21 >= v20 >> 1)
      {
        long long v27 = *(_OWORD *)&v30[3];
        uint64_t v26 = v30[1];
        char v25 = v30[8];
        long long v24 = *(_OWORD *)&v30[9];
        sub_2594F1CF0();
        long long v22 = v24;
        char v19 = v25;
        uint64_t v12 = v26;
        long long v15 = v27;
        uint64_t result = v32;
      }
      *(void *)(result + 16) = v21 + 1;
      uint64_t v23 = result + 88 * v21;
      *(void *)(v23 + 32) = v13;
      *(void *)(v23 + 40) = v12;
      *(unsigned char *)(v23 + 48) = v14;
      *(_OWORD *)(v23 + 56) = v15;
      *(unsigned char *)(v23 + 72) = v16;
      *(void *)(v23 + 80) = v18;
      *(void *)(v23 + 88) = v17;
      *(unsigned char *)(v23 + 96) = v19;
      *(_OWORD *)(v23 + 104) = v22;
      uint64_t v3 = v29 - 1;
      if (v29 == 1) {
        return result;
      }
    }
    sub_25945EA34((uint64_t)__dst);
LABEL_7:
    memcpy(v30, __dst, sizeof(v30));
    goto LABEL_8;
  }
  return result;
}

uint64_t sub_259688830(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (!v3)
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  uint64_t v56 = MEMORY[0x263F8EE78];
  sub_2594F1CF0();
  uint64_t v5 = (char *)(a1 + 32);
  uint64_t v6 = v56;
  uint64_t v7 = a2;
  uint64_t v36 = a2;
  do
  {
    memcpy(__dst, v5, sizeof(__dst));
    uint64_t v8 = *(void *)(v7 + 16);
    sub_2593A2D18((uint64_t)__dst);
    if (v8)
    {
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v9 = sub_25939D1E0();
      if (v10)
      {
        uint64_t v38 = v3;
        uint64_t v39 = v6;
        Swift::OpaquePointer v11 = (uint64_t *)(*(void *)(v7 + 56) + 24 * v9);
        uint64_t v37 = *v11;
        uint64_t v40 = v11[1];
        uint64_t v12 = v11[2];
        sub_259843F00();
        sub_259843F00();
        sub_25945EA34((uint64_t)__dst);
        uint64_t v52 = __dst[10];
        char v13 = __dst[8];
        uint64_t v14 = __dst[3];
        uint64_t v15 = __dst[4];
        char v16 = __dst[5];
        char v17 = __dst[2];
        uint64_t v18 = __dst[0];
        uint64_t v19 = __dst[1];
        sub_2596834A0((uint64_t)&__dst[9], (uint64_t)v59, &qword_26A38B8B0);
        sub_2596834A0((uint64_t)&__dst[6], (uint64_t)v58, &qword_26A38B3E0);
        uint64_t v42 = v18;
        char v44 = v17;
        char v46 = v16;
        uint64_t v48 = v15;
        uint64_t v50 = v14;
        uint64_t v54 = __dst[7];
        sub_2596834A0((uint64_t)v59, (uint64_t)v55, &qword_26A38B8B0);
        v55[1] = v52;
        if (v40)
        {
          __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
          uint64_t v20 = swift_allocObject();
          *(_OWORD *)(v20 + 16) = xmmword_259876920;
          *(void *)(v20 + 32) = v37;
          *(void *)(v20 + 40) = v40;
          sub_2593A2D18((uint64_t)__dst);
          sub_259843F00();
          sub_25945EAC4((uint64_t)v58);
        }
        else
        {
          sub_2593A2D18((uint64_t)__dst);
          sub_25945EAC4((uint64_t)v58);
          uint64_t v20 = 0;
        }
        uint64_t v3 = v38;
        uint64_t v6 = v39;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389588);
        uint64_t inited = swift_initStackObject();
        *(_OWORD *)(inited + 16) = xmmword_259876920;
        *(void *)(inited + 32) = v42;
        *(void *)(inited + 40) = v19;
        *(void *)(inited + 48) = v12;
        sub_259843F00();
        swift_bridgeObjectRelease();
        __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83F0);
        uint64_t v22 = sub_259843EE0();
        sub_25945EAC4((uint64_t)v59);
        sub_25945EA34((uint64_t)__dst);
        uint64_t v30 = v19;
        uint64_t v29 = v42;
        uint64_t v24 = v54;
        uint64_t v7 = v36;
        uint64_t v21 = v52;
        char v23 = v13;
        uint64_t v26 = v48;
        uint64_t v25 = v50;
        char v28 = v44;
        char v27 = v46;
        goto LABEL_11;
      }
      sub_25945EA34((uint64_t)__dst);
    }
    uint64_t v22 = __dst[9];
    uint64_t v21 = __dst[10];
    char v23 = __dst[8];
    uint64_t v20 = __dst[6];
    uint64_t v24 = __dst[7];
    uint64_t v25 = __dst[3];
    uint64_t v26 = __dst[4];
    char v27 = __dst[5];
    char v28 = __dst[2];
    uint64_t v29 = __dst[0];
    uint64_t v30 = __dst[1];
LABEL_11:
    uint64_t v56 = v6;
    unint64_t v32 = *(void *)(v6 + 16);
    if (v32 >= *(void *)(v6 + 24) >> 1)
    {
      uint64_t v41 = v30;
      uint64_t v43 = v29;
      uint64_t v51 = v25;
      uint64_t v53 = v21;
      char v34 = v23;
      uint64_t v49 = v26;
      char v45 = v28;
      char v47 = v27;
      sub_2594F1CF0();
      uint64_t v30 = v41;
      uint64_t v29 = v43;
      char v28 = v45;
      char v27 = v47;
      uint64_t v26 = v49;
      uint64_t v25 = v51;
      char v23 = v34;
      uint64_t v21 = v53;
      uint64_t v7 = v36;
      uint64_t v6 = v56;
    }
    *(void *)(v6 + 16) = v32 + 1;
    uint64_t v33 = v6 + 88 * v32;
    *(void *)(v33 + 32) = v29;
    *(void *)(v33 + 40) = v30;
    *(unsigned char *)(v33 + 48) = v28;
    *(void *)(v33 + 56) = v25;
    *(void *)(v33 + 64) = v26;
    *(unsigned char *)(v33 + 72) = v27;
    *(void *)(v33 + 80) = v20;
    *(void *)(v33 + 88) = v24;
    *(unsigned char *)(v33 + 96) = v23;
    *(void *)(v33 + 104) = v22;
    *(void *)(v33 + 112) = v21;
    v5 += 88;
    --v3;
  }
  while (v3);
  swift_bridgeObjectRelease();
  return v6;
}

uint64_t sub_259688BCC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a1 + 16);
  if (!v3)
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  uint64_t v23 = MEMORY[0x263F8EE78];
  sub_2594F1CF0();
  uint64_t v5 = v23;
  uint64_t v6 = (char *)(a1 + 32);
  do
  {
    memcpy(__dst, v6, sizeof(__dst));
    uint64_t v7 = *(void *)(a2 + 16);
    sub_2593A2D18((uint64_t)__dst);
    if (v7)
    {
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v8 = sub_25939D1E0();
      if (v9)
      {
        uint64_t v10 = *(void *)(*(void *)(a2 + 56) + 8 * v8);
        sub_2596834A0((uint64_t)&__dst[9], (uint64_t)v25, &qword_26A38B8B0);
        sub_259843F00();
        sub_25945EAC4((uint64_t)v25);
        sub_25945EA34((uint64_t)__dst);
        goto LABEL_8;
      }
      sub_25945EA34((uint64_t)__dst);
    }
    uint64_t v10 = __dst[9];
LABEL_8:
    unint64_t v11 = *(void *)(v23 + 16);
    if (v11 >= *(void *)(v23 + 24) >> 1) {
      sub_2594F1CF0();
    }
    uint64_t v12 = __dst[0];
    uint64_t v13 = __dst[1];
    char v14 = __dst[2];
    char v15 = __dst[5];
    uint64_t v16 = __dst[6];
    uint64_t v17 = __dst[7];
    char v18 = __dst[8];
    uint64_t v19 = __dst[10];
    uint64_t v20 = v23 + 88 * v11;
    long long v21 = *(_OWORD *)&__dst[3];
    *(void *)(v23 + 16) = v11 + 1;
    *(void *)(v20 + 32) = v12;
    *(void *)(v20 + 40) = v13;
    *(unsigned char *)(v20 + 48) = v14;
    *(_OWORD *)(v20 + 56) = v21;
    *(unsigned char *)(v20 + 72) = v15;
    *(void *)(v20 + 80) = v16;
    *(void *)(v20 + 88) = v17;
    *(unsigned char *)(v20 + 96) = v18;
    v6 += 88;
    *(void *)(v20 + 104) = v10;
    *(void *)(v20 + 112) = v19;
    --v3;
  }
  while (v3);
  swift_bridgeObjectRelease();
  return v5;
}

uint64_t sub_259688D88(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a1 + 16);
  if (!v2)
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  uint64_t v45 = MEMORY[0x263F8EE78];
  sub_2594F1CF0();
  uint64_t v4 = a2;
  uint64_t v5 = v45;
  uint64_t v6 = (char *)(a1 + 32);
  do
  {
    memcpy(__dst, v6, 0x58uLL);
    uint64_t v7 = *(void *)(v4 + 16);
    sub_2593A2D18((uint64_t)__dst);
    if (v7)
    {
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v8 = sub_25939D1E0();
      if (v9)
      {
        uint64_t v27 = *(void *)(*(void *)(v4 + 56) + 8 * v8);
        sub_259843F00();
        sub_25945EA34((uint64_t)__dst);
        char v42 = __dst[8];
        uint64_t v28 = __dst[7];
        uint64_t v39 = __dst[6];
        uint64_t v40 = __dst[10];
        uint64_t v35 = __dst[4];
        uint64_t v37 = __dst[3];
        char v31 = __dst[2];
        char v33 = __dst[5];
        uint64_t v10 = __dst[1];
        uint64_t v29 = __dst[0];
        sub_2596834A0((uint64_t)&__dst[9], (uint64_t)v47, &qword_26A38B8B0);
        uint64_t v11 = v27;
        sub_2596834A0((uint64_t)v47, (uint64_t)v44, &qword_26A38B8B0);
        v44[1] = v40;
        sub_2593A2D18((uint64_t)__dst);
        sub_259843F00();
        sub_259843F00();
        uint64_t v12 = sub_25953BF00(v27);
        swift_bridgeObjectRelease();
        sub_259843F00();
        uint64_t v13 = sub_259689854(v28, v12);
        swift_release();
        swift_bridgeObjectRelease_n();
        sub_25945EAC4((uint64_t)v47);
        sub_25945EA34((uint64_t)__dst);
        uint64_t v14 = v29;
        char v16 = v31;
        char v15 = v33;
        uint64_t v17 = v35;
        uint64_t v18 = v37;
        uint64_t v20 = v39;
        uint64_t v19 = v40;
        char v21 = v42;
        uint64_t v4 = a2;
        goto LABEL_8;
      }
      sub_25945EA34((uint64_t)__dst);
    }
    uint64_t v11 = __dst[9];
    uint64_t v19 = __dst[10];
    char v21 = __dst[8];
    uint64_t v20 = __dst[6];
    uint64_t v13 = __dst[7];
    uint64_t v18 = __dst[3];
    uint64_t v17 = __dst[4];
    char v15 = __dst[5];
    char v16 = __dst[2];
    uint64_t v14 = __dst[0];
    uint64_t v10 = __dst[1];
LABEL_8:
    uint64_t v45 = v5;
    unint64_t v22 = *(void *)(v5 + 16);
    if (v22 >= *(void *)(v5 + 24) >> 1)
    {
      uint64_t v41 = v19;
      char v43 = v21;
      uint64_t v24 = v20;
      uint64_t v36 = v17;
      uint64_t v38 = v18;
      char v32 = v16;
      char v34 = v15;
      uint64_t v30 = v14;
      sub_2594F1CF0();
      uint64_t v14 = v30;
      char v16 = v32;
      char v15 = v34;
      uint64_t v17 = v36;
      uint64_t v18 = v38;
      uint64_t v20 = v24;
      char v21 = v43;
      uint64_t v19 = v41;
      uint64_t v4 = a2;
      uint64_t v5 = v45;
    }
    *(void *)(v5 + 16) = v22 + 1;
    uint64_t v23 = v5 + 88 * v22;
    *(void *)(v23 + 32) = v14;
    *(void *)(v23 + 40) = v10;
    *(unsigned char *)(v23 + 48) = v16;
    *(void *)(v23 + 56) = v18;
    *(void *)(v23 + 64) = v17;
    *(unsigned char *)(v23 + 72) = v15;
    *(void *)(v23 + 80) = v20;
    *(void *)(v23 + 88) = v13;
    *(unsigned char *)(v23 + 96) = v21;
    *(void *)(v23 + 104) = v11;
    *(void *)(v23 + 112) = v19;
    v6 += 88;
    --v2;
  }
  while (v2);
  swift_bridgeObjectRelease();
  return v5;
}

uint64_t sub_259689088(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = MEMORY[0x263F8EE78];
  if (v1)
  {
    uint64_t v26 = MEMORY[0x263F8EE78];
    sub_2594F08BC();
    uint64_t v2 = v26;
    uint64_t v4 = sub_259616408(a1);
    if ((v4 & 0x8000000000000000) == 0)
    {
      unint64_t v6 = v4;
      if (v4 < 1 << *(unsigned char *)(a1 + 32))
      {
        uint64_t v7 = a1 + 64;
        while ((*(void *)(v7 + 8 * (v6 >> 6)) & (1 << v6)) != 0)
        {
          if (*(_DWORD *)(a1 + 36) != v5) {
            goto LABEL_37;
          }
          unint64_t v8 = 0xE600000000000000;
          uint64_t v9 = 0x6E6F73726570;
          uint64_t v22 = v1;
          int v23 = v5;
          switch(*(unsigned char *)(*(void *)(a1 + 48) + v6))
          {
            case 1:
              OUTLINED_FUNCTION_280_0();
              uint64_t v9 = v10 & 0xFFFFFFFFFFFFLL | 0x6741000000000000;
              break;
            case 2:
              unint64_t v8 = 0xE400000000000000;
              uint64_t v9 = 1702125924;
              break;
            case 3:
              OUTLINED_FUNCTION_284();
              unint64_t v8 = v11 + 20;
              uint64_t v9 = 0x6144664F74726170;
              break;
            case 4:
              OUTLINED_FUNCTION_168_1();
              unint64_t v8 = v12 + 1529;
              uint64_t v9 = 0x6557664F74726170;
              break;
            case 5:
              unint64_t v8 = 0xE800000000000000;
              unsigned int v13 = 1633906540;
              goto LABEL_22;
            case 6:
              unint64_t v8 = 0xEF6E6F697461636FLL;
              uint64_t v9 = 0x4C636972656E6567;
              break;
            case 7:
              unint64_t v8 = 0xE400000000000000;
              uint64_t v9 = 1952540791;
              break;
            case 8:
              OUTLINED_FUNCTION_130_4();
              break;
            case 9:
              OUTLINED_FUNCTION_280_0();
              uint64_t v9 = v14 & 0xFFFFFFFFFFFFLL | 0x6C61000000000000;
              break;
            case 0xA:
              OUTLINED_FUNCTION_168_1();
              break;
            case 0xB:
              OUTLINED_FUNCTION_130_4();
              unint64_t v8 = v15 + 1284;
              uint64_t v9 = 0x747241636973756DLL;
              break;
            case 0xC:
              OUTLINED_FUNCTION_168_1();
              unint64_t v8 = v16 + 6;
              uint64_t v9 = 0x6E6547636973756DLL;
              break;
            case 0xD:
              unint64_t v8 = 0xE400000000000000;
              uint64_t v9 = 1685024621;
              break;
            case 0xE:
              unint64_t v8 = 0xE800000000000000;
              unsigned int v13 = 1634891108;
LABEL_22:
              uint64_t v9 = v13 | 0x6E6F697400000000;
              break;
            case 0xF:
              uint64_t v9 = 0x706972547369;
              break;
            case 0x10:
              OUTLINED_FUNCTION_284();
              break;
            case 0x11:
              OUTLINED_FUNCTION_284();
              unint64_t v8 = v17 + 13;
              uint64_t v9 = 0x6564724F74726F73;
              break;
            default:
              break;
          }
          uint64_t v24 = v9;
          unint64_t v25 = v8;
          sub_259843F00();
          sub_259844240();
          sub_259845720();
          sub_259844240();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          unint64_t v18 = *(void *)(v26 + 16);
          if (v18 >= *(void *)(v26 + 24) >> 1) {
            sub_2594F08BC();
          }
          *(void *)(v26 + 16) = v18 + 1;
          uint64_t v19 = v26 + 16 * v18;
          *(void *)(v19 + 32) = v24;
          *(void *)(v19 + 40) = v25;
          if ((uint64_t)v6 >= -(-1 << *(unsigned char *)(a1 + 32))) {
            goto LABEL_38;
          }
          uint64_t v7 = a1 + 64;
          if ((*(void *)(a1 + 64 + 8 * (v6 >> 6)) & (1 << v6)) == 0) {
            goto LABEL_39;
          }
          if (*(_DWORD *)(a1 + 36) != v23) {
            goto LABEL_40;
          }
          OUTLINED_FUNCTION_170_3();
          uint64_t v20 = sub_259844F40();
          --v1;
          if (v22 == 1) {
            return v2;
          }
          unint64_t v6 = v20;
          if ((v20 & 0x8000000000000000) == 0)
          {
            int v5 = *(_DWORD *)(a1 + 36);
            if (v20 < 1 << *(unsigned char *)(a1 + 32)) {
              continue;
            }
          }
          goto LABEL_41;
        }
        __break(1u);
LABEL_37:
        __break(1u);
LABEL_38:
        __break(1u);
LABEL_39:
        __break(1u);
LABEL_40:
        __break(1u);
      }
    }
LABEL_41:
    __break(1u);
    JUMPOUT(0x259689458);
  }
  return v2;
}

uint64_t sub_2596894A0(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v28 = a2;
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  MEMORY[0x270FA5388](TokenCategoryType);
  uint64_t v27 = (char **)((char *)&v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  uint64_t v8 = *(void *)(TokenSuggestion - 8);
  MEMORY[0x270FA5388](TokenSuggestion - 8);
  uint64_t v10 = (char *)&v24 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = *(void *)(a1 + 16);
  uint64_t v12 = MEMORY[0x263F8EE78];
  if (!v11) {
    return v12;
  }
  uint64_t v34 = MEMORY[0x263F8EE78];
  sub_2594F2590(0, v11, 0);
  unint64_t v13 = (*(unsigned __int8 *)(v8 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  uint64_t v14 = a1 + v13;
  if (qword_26A3887B8 != -1) {
LABEL_19:
  }
    swift_once();
  uint64_t v32 = *(void *)(v8 + 72);
  uint64_t v24 = v10;
  uint64_t v25 = TokenCategoryType;
  unint64_t v26 = v13;
  while (1)
  {
    uint64_t v15 = __swift_project_value_buffer(TokenCategoryType, (uint64_t)qword_26A38ADF8);
    if (static QueryTokenCategoryType.~= infix(_:_:)(v14, v15)) {
      break;
    }
    sub_2595226D0(v14, (uint64_t)v10, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
LABEL_12:
    uint64_t v12 = v34;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      sub_2594F2590(0, *(void *)(v12 + 16) + 1, 1);
      uint64_t v12 = v34;
    }
    unint64_t v21 = *(void *)(v12 + 16);
    unint64_t v20 = *(void *)(v12 + 24);
    if (v21 >= v20 >> 1)
    {
      sub_2594F2590(v20 > 1, v21 + 1, 1);
      uint64_t v12 = v34;
    }
    *(void *)(v12 + 16) = v21 + 1;
    uint64_t v22 = v32;
    sub_2596A6634((uint64_t)v10, v12 + v13 + v21 * v32, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    v14 += v22;
    if (!--v11) {
      return v12;
    }
  }
  unint64_t v13 = *(void *)(*(void *)v28 + 16);
  if (v13)
  {
    uint64_t v29 = v3;
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
    uint64_t v16 = (void *)swift_allocObject();
    size_t v17 = _swift_stdlib_malloc_size_0(v16);
    v16[2] = v13;
    v16[3] = 2 * ((uint64_t)(v17 - 32) / 16);
    sub_2595416D4();
    uint64_t TokenCategoryType = v33[0];
    uint64_t v10 = (char *)v33[1];
    uint64_t v8 = v33[2];
    uint64_t v3 = v33[3];
    uint64_t v30 = v33[4];
    uint64_t v31 = v18;
    swift_bridgeObjectRetain_n();
    sub_25940CF64();
    if (v31 != v13)
    {
      __break(1u);
      goto LABEL_19;
    }
    swift_bridgeObjectRelease();
    uint64_t v3 = v29;
    uint64_t v10 = v24;
    uint64_t TokenCategoryType = v25;
  }
  else
  {
    uint64_t v16 = (void *)MEMORY[0x263F8EE78];
  }
  v33[0] = (uint64_t)v16;
  swift_retain();
  sub_259418628(v33);
  unint64_t v13 = v26;
  if (!v3)
  {
    uint64_t v3 = 0;
    swift_release();
    uint64_t v19 = (uint64_t)v27;
    void *v27 = v33[0];
    *(void *)(v19 + 8) = MEMORY[0x263F8EE88];
    swift_storeEnumTagMultiPayload();
    sub_2596A6634(v19, (uint64_t)v10, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    goto LABEL_12;
  }
  uint64_t result = swift_release();
  __break(1u);
  return result;
}

uint64_t sub_259689854(uint64_t a1, uint64_t a2)
{
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  uint64_t v6 = *(void *)(TokenSuggestion - 8);
  MEMORY[0x270FA5388](TokenSuggestion - 8);
  uint64_t v8 = (uint64_t *)((char *)&v19 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v9 = *(void *)(a1 + 16);
  if (v9)
  {
    uint64_t v19 = v2;
    uint64_t v20 = a2;
    uint64_t v21 = MEMORY[0x263F8EE78];
    sub_2594F2590(0, v9, 0);
    unint64_t v10 = (*(unsigned __int8 *)(v6 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80);
    uint64_t v11 = a1 + v10;
    if (qword_26A3887B8 != -1) {
      swift_once();
    }
    uint64_t v12 = *(void *)(v6 + 72);
    uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
    do
    {
      uint64_t v14 = __swift_project_value_buffer(TokenCategoryType, (uint64_t)qword_26A38ADF8);
      if (static QueryTokenCategoryType.~= infix(_:_:)(v11, v14))
      {
        void *v8 = v20;
        v8[1] = MEMORY[0x263F8EE88];
        swift_storeEnumTagMultiPayload();
        sub_259843F00();
      }
      else
      {
        sub_2595226D0(v11, (uint64_t)v8, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      }
      uint64_t v15 = v21;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2594F2590(0, *(void *)(v15 + 16) + 1, 1);
        uint64_t v15 = v21;
      }
      unint64_t v17 = *(void *)(v15 + 16);
      unint64_t v16 = *(void *)(v15 + 24);
      if (v17 >= v16 >> 1)
      {
        sub_2594F2590(v16 > 1, v17 + 1, 1);
        uint64_t v15 = v21;
      }
      *(void *)(v15 + 16) = v17 + 1;
      sub_2596A6634((uint64_t)v8, v15 + v10 + v17 * v12, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      v11 += v12;
      --v9;
    }
    while (v9);
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    return MEMORY[0x263F8EE78];
  }
  return v15;
}

uint64_t sub_259689AC4(unint64_t a1)
{
  if (a1 >> 62) {
    goto LABEL_18;
  }
  uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  sub_259843F00();
  for (; v2; uint64_t v2 = sub_259845460())
  {
    uint64_t v3 = MEMORY[0x263F8EE78];
    uint64_t v4 = 4;
    while (1)
    {
      id v5 = (a1 & 0xC000000000000001) != 0 ? (id)MEMORY[0x25A2DFA20](v4 - 4, a1) : *(id *)(a1 + 8 * v4);
      uint64_t v6 = v5;
      uint64_t v7 = v4 - 3;
      if (__OFADD__(v4 - 4, 1)) {
        break;
      }
      id v8 = objc_msgSend(v5, sel_uuid);
      if (v8)
      {
        uint64_t v9 = v8;
        uint64_t v10 = sub_2598440A0();
        uint64_t v12 = v11;

        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          OUTLINED_FUNCTION_7_44();
          sub_25938553C();
          uint64_t v3 = v15;
        }
        unint64_t v13 = *(void *)(v3 + 16);
        if (v13 >= *(void *)(v3 + 24) >> 1)
        {
          sub_25938553C();
          uint64_t v3 = v16;
        }
        *(void *)(v3 + 16) = v13 + 1;
        uint64_t v14 = v3 + 16 * v13;
        *(void *)(v14 + 32) = v10;
        *(void *)(v14 + 40) = v12;
      }
      else
      {
      }
      ++v4;
      if (v7 == v2) {
        goto LABEL_20;
      }
    }
    __break(1u);
LABEL_18:
    sub_259843F00();
  }
  uint64_t v3 = MEMORY[0x263F8EE78];
LABEL_20:
  swift_bridgeObjectRelease();
  return v3;
}

uint64_t sub_259689C4C(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (!v1) {
    return MEMORY[0x263F8EE78];
  }
  uint64_t v2 = (unsigned char *)(sub_259843F00() + 72);
  uint64_t v3 = MEMORY[0x263F8EE78];
  do
  {
    if ((*v2 & 1) == 0)
    {
      long long v8 = *((_OWORD *)v2 - 1);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_259385CB8();
        uint64_t v3 = v5;
      }
      unint64_t v4 = *(void *)(v3 + 16);
      if (v4 >= *(void *)(v3 + 24) >> 1)
      {
        sub_259385CB8();
        uint64_t v3 = v6;
      }
      *(void *)(v3 + 16) = v4 + 1;
      *(_OWORD *)(v3 + 16 * v4 + 32) = v8;
    }
    v2 += 88;
    --v1;
  }
  while (v1);
  swift_bridgeObjectRelease();
  return v3;
}

uint64_t sub_259689D50(uint64_t a1, uint64_t (*a2)(uint64_t, uint64_t, uint64_t))
{
  uint64_t v21 = MEMORY[0x263F8EE78];
  sub_2597EFE50(v20, a1);
  uint64_t v3 = v20[0];
  int64_t v4 = v20[3];
  unint64_t v5 = v20[4];
  uint64_t v18 = v20[1];
  int64_t v19 = (unint64_t)(v20[2] + 64) >> 6;
  uint64_t result = sub_259843F00();
  while (1)
  {
    if (v5)
    {
      unint64_t v7 = __clz(__rbit64(v5));
      v5 &= v5 - 1;
      unint64_t v8 = v7 | (v4 << 6);
      goto LABEL_20;
    }
    int64_t v9 = v4 + 1;
    if (__OFADD__(v4, 1)) {
      break;
    }
    if (v9 >= v19) {
      goto LABEL_24;
    }
    unint64_t v10 = *(void *)(v18 + 8 * v9);
    int64_t v11 = v4 + 1;
    if (!v10)
    {
      int64_t v11 = v4 + 2;
      if (v4 + 2 >= v19) {
        goto LABEL_24;
      }
      unint64_t v10 = *(void *)(v18 + 8 * v11);
      if (!v10)
      {
        int64_t v11 = v4 + 3;
        if (v4 + 3 >= v19) {
          goto LABEL_24;
        }
        unint64_t v10 = *(void *)(v18 + 8 * v11);
        if (!v10)
        {
          int64_t v11 = v4 + 4;
          if (v4 + 4 >= v19) {
            goto LABEL_24;
          }
          unint64_t v10 = *(void *)(v18 + 8 * v11);
          if (!v10)
          {
            int64_t v11 = v4 + 5;
            if (v4 + 5 >= v19) {
              goto LABEL_24;
            }
            unint64_t v10 = *(void *)(v18 + 8 * v11);
            if (!v10)
            {
              int64_t v12 = v4 + 6;
              while (v12 < v19)
              {
                unint64_t v10 = *(void *)(v18 + 8 * v12++);
                if (v10)
                {
                  int64_t v11 = v12 - 1;
                  goto LABEL_19;
                }
              }
LABEL_24:
              swift_release();
              return v21;
            }
          }
        }
      }
    }
LABEL_19:
    unint64_t v5 = (v10 - 1) & v10;
    unint64_t v8 = __clz(__rbit64(v10)) + (v11 << 6);
    int64_t v4 = v11;
LABEL_20:
    unint64_t v13 = (uint64_t *)(*(void *)(v3 + 48) + 16 * v8);
    uint64_t v14 = *v13;
    uint64_t v15 = v13[1];
    uint64_t v16 = *(void *)(*(void *)(v3 + 56) + 8 * v8);
    sub_259843F00();
    sub_259843F00();
    uint64_t v17 = a2(v14, v15, v16);
    swift_bridgeObjectRelease();
    uint64_t result = swift_bridgeObjectRelease();
    if (v17)
    {
      MEMORY[0x25A2DED30](result);
      if (*(void *)((v21 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v21 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        sub_259844560();
      }
      sub_2598445B0();
      uint64_t result = sub_259844530();
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_259689F78(unint64_t a1)
{
  uint64_t v9 = MEMORY[0x263F8EE78];
  if (a1 >> 62) {
    goto LABEL_15;
  }
  uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  sub_259843F00();
  for (; v2; uint64_t v2 = sub_259845460())
  {
    for (uint64_t i = 4; ; ++i)
    {
      id v4 = (a1 & 0xC000000000000001) != 0 ? (id)MEMORY[0x25A2DFA20](i - 4, a1) : *(id *)(a1 + 8 * i);
      unint64_t v5 = v4;
      uint64_t v6 = i - 3;
      if (__OFADD__(i - 4, 1)) {
        break;
      }
      id v7 = objc_msgSend(v4, sel_objectID);

      if (v7)
      {
        MEMORY[0x25A2DED30]();
        if (*(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_259844560();
        }
        sub_2598445B0();
        sub_259844530();
      }
      if (v6 == v2)
      {
        swift_bridgeObjectRelease();
        return v9;
      }
    }
    __break(1u);
LABEL_15:
    sub_259843F00();
  }
  swift_bridgeObjectRelease();
  return MEMORY[0x263F8EE78];
}

uint64_t sub_25968A0F8(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = MEMORY[0x263F8EE78];
  uint64_t v19 = MEMORY[0x263F8EE78];
  uint64_t v4 = *(void *)(a1 + 16);
  if (!v4)
  {
LABEL_16:
    swift_bridgeObjectRelease();
    return v3;
  }
  unint64_t v5 = (uint64_t *)(sub_259843F00() + 56);
  while (1)
  {
    uint64_t v6 = *(v5 - 1);
    uint64_t v7 = *v5;
    uint64_t v9 = *(v5 - 3);
    uint64_t v8 = *(v5 - 2);
    sub_259843F00();
    uint64_t v10 = MEMORY[0x25A2DE9C0](v9, v8, v6, v7);
    uint64_t v12 = v11;
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
    uint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = xmmword_259876920;
    *(void *)(inited + 32) = v10;
    *(void *)(inited + 40) = v12;
    sub_259843F00();
    unint64_t v14 = sub_25968E8C4(v10, v12, inited, a2, 0);
    swift_bridgeObjectRelease();
    swift_setDeallocating();
    uint64_t result = sub_259745E64();
    if (v14 >> 62) {
      break;
    }
    if (*(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10)) {
      goto LABEL_5;
    }
LABEL_12:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_13:
    v5 += 4;
    if (!--v4)
    {
      swift_bridgeObjectRelease();
      uint64_t v3 = v19;
      goto LABEL_16;
    }
  }
  sub_259843F00();
  uint64_t v18 = sub_259845460();
  uint64_t result = swift_bridgeObjectRelease();
  if (!v18) {
    goto LABEL_12;
  }
LABEL_5:
  if ((v14 & 0xC000000000000001) != 0)
  {
    MEMORY[0x25A2DFA20](0, v14);
    goto LABEL_8;
  }
  if (*(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    id v16 = *(id *)(v14 + 32);
LABEL_8:
    swift_bridgeObjectRelease();
    uint64_t v17 = swift_bridgeObjectRelease();
    MEMORY[0x25A2DED30](v17);
    if (*(void *)((v19 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v19 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      sub_259844560();
    }
    sub_2598445B0();
    sub_259844530();
    goto LABEL_13;
  }
  __break(1u);
  return result;
}

uint64_t sub_25968A310()
{
  OUTLINED_FUNCTION_14();
  v1[59] = v2;
  v1[60] = v0;
  v1[57] = v3;
  v1[58] = v4;
  uint64_t v5 = sub_259843560();
  v1[61] = v5;
  OUTLINED_FUNCTION_1(v5);
  v1[62] = v6;
  v1[63] = OUTLINED_FUNCTION_49_1();
  v1[64] = swift_task_alloc();
  uint64_t v7 = sub_259843650();
  v1[65] = v7;
  OUTLINED_FUNCTION_1(v7);
  v1[66] = v8;
  v1[67] = OUTLINED_FUNCTION_49_1();
  v1[68] = swift_task_alloc();
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  OUTLINED_FUNCTION_129(v9);
  v1[69] = OUTLINED_FUNCTION_49_1();
  v1[70] = swift_task_alloc();
  uint64_t v10 = sub_259842800();
  v1[71] = v10;
  OUTLINED_FUNCTION_1(v10);
  v1[72] = v11;
  v1[73] = OUTLINED_FUNCTION_49_1();
  v1[74] = swift_task_alloc();
  uint64_t v12 = sub_259843A80();
  v1[75] = v12;
  OUTLINED_FUNCTION_1(v12);
  v1[76] = v13;
  v1[77] = OUTLINED_FUNCTION_49_1();
  v1[78] = swift_task_alloc();
  v1[79] = swift_task_alloc();
  v1[80] = swift_task_alloc();
  v1[81] = swift_task_alloc();
  uint64_t v14 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B560);
  v1[82] = v14;
  OUTLINED_FUNCTION_1(v14);
  v1[83] = v15;
  v1[84] = OUTLINED_FUNCTION_78();
  uint64_t v16 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B548);
  v1[85] = v16;
  OUTLINED_FUNCTION_1(v16);
  v1[86] = v17;
  v1[87] = OUTLINED_FUNCTION_78();
  uint64_t v18 = sub_259842470();
  v1[88] = v18;
  OUTLINED_FUNCTION_1(v18);
  v1[89] = v19;
  v1[90] = OUTLINED_FUNCTION_49_1();
  v1[91] = swift_task_alloc();
  uint64_t v20 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEB8);
  OUTLINED_FUNCTION_129(v20);
  v1[92] = OUTLINED_FUNCTION_49_1();
  v1[93] = swift_task_alloc();
  v1[94] = swift_task_alloc();
  v1[95] = swift_task_alloc();
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  v1[96] = TokenCategoryType;
  OUTLINED_FUNCTION_129(TokenCategoryType);
  v1[97] = OUTLINED_FUNCTION_78();
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  OUTLINED_FUNCTION_1(TokenSuggestion);
  v1[98] = v23;
  v1[99] = OUTLINED_FUNCTION_78();
  uint64_t v24 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v24);
  v1[100] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v25, v26, v27);
}

void sub_25968A610()
{
  OUTLINED_FUNCTION_74();
  uint64_t v472 = v0;
  uint64_t v2 = (void *)v0;
  uint64_t v3 = (void (*)(void *@<X8>))(v0 + 184);
  uint64_t v4 = *(void **)(v0 + 464);
  uint64_t v5 = v2[57];
  __swift_project_boxed_opaque_existential_1(v4, v4[3]);
  OUTLINED_FUNCTION_28_3();
  v6();
  uint64_t v7 = (void (*)(void *@<X8>))v4[3];
  __swift_project_boxed_opaque_existential_1(v4, (uint64_t)v7);
  OUTLINED_FUNCTION_47_1();
  uint64_t v414 = (uint64_t)v3;
  OUTLINED_FUNCTION_228_5();
  v8();
  v2[51] = MEMORY[0x263F8EE80];
  uint64_t v418 = *(void *)(v5 + 16);
  if (!v418)
  {
    uint64_t v13 = 0;
    OUTLINED_FUNCTION_221_3();
    uint64_t v15 = v383;
    goto LABEL_276;
  }
  char v409 = v2 + 73;
  uint64_t v9 = v2 + 2;
  v435 = v2 + 28;
  uint64_t v416 = (uint64_t)(v2 + 47);
  long long v413 = v2 + 49;
  v432 = v2 + 50;
  v422 = v2 + 51;
  uint64_t v419 = (uint64_t)(v2 + 52);
  uint64_t v441 = (uint64_t)(v2 + 53);
  uint64_t v448 = v2[98];
  uint64_t v430 = (uint64_t)(v2 + 55);
  uint64_t v10 = v2[89];
  v426 = v2 + 116;
  uint64_t v11 = v2[72];
  uint64_t v12 = v2[62];
  v429 = (void (**)(void, void, void))(v12 + 32);
  long long v417 = (void (**)(void, void, void))(v10 + 32);
  char v412 = (void (**)(void, void, uint64_t))(v11 + 32);
  long long v415 = (void (**)(uint64_t, uint64_t))(v10 + 8);
  uint64_t v410 = (void (**)(uint64_t, uint64_t, uint64_t))(v11 + 8);
  v427 = (void (**)(uint64_t, uint64_t, uint64_t))(v12 + 8);
  uint64_t v428 = v2[97];
  uint64_t v420 = (uint64_t)(v2 + 8);
  uint64_t v421 = v2[57] + 32;
  v450 = (void (**)(uint64_t, uint64_t, uint64_t))(v2[66] + 8);
  sub_259843F00();
  v431 = 0;
  uint64_t v13 = 0;
  v433 = 0;
  v423 = 0;
  uint64_t v411 = 0;
  OUTLINED_FUNCTION_221_3();
  uint64_t v14 = 0;
  uint64_t v15 = (void *)MEMORY[0x263F8EE80];
  uint64_t v434 = MEMORY[0x263F8EE80];
  v469 = v2;
  __src = v2 + 2;
  do
  {
    uint64_t v425 = v14;
    memcpy(v9, (const void *)(v421 + 88 * v14), 0x58uLL);
    v2[52] = v2[9];
    sub_2596834A0(v420, v441, &qword_26A38B3E0);
    uint64_t v447 = *(void *)(v2[52] + 16);
    if (!v447) {
      goto LABEL_270;
    }
    unint64_t v16 = v2[3];
    uint64_t v437 = v2[2];
    unsigned char *v426 = *((unsigned char *)v2 + 32);
    OUTLINED_FUNCTION_53_7();
    uint64_t v443 = v18 + v17;
    uint64_t v445 = v18;
    sub_2593A2D18((uint64_t)v9);
    unint64_t v436 = v16;
    sub_259843F00();
    sub_25945EA98(v419);
    sub_25945EA98(v441);
    unint64_t v19 = 0;
    uint64_t v20 = v3;
    do
    {
      if (v19 >= *(void *)(v445 + 16)) {
        goto LABEL_308;
      }
      uint64_t v456 = (uint64_t)v20;
      v457 = v7;
      uint64_t v455 = (uint64_t)v4;
      uint64_t v21 = v2[99];
      uint64_t v22 = v2[97];
      unint64_t v454 = v19;
      sub_2595226D0(v443 + *(void *)(v448 + 72) * v19, v21, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      sub_2595226D0(v21, v22, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
      sub_2596A61D8(v21, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      uint64_t v453 = (uint64_t)v13;
      uint64_t v467 = (uint64_t)v15;
      switch(swift_getEnumCaseMultiPayload())
      {
        case 0u:
          uint64_t v23 = (uint64_t *)v2[97];
          uint64_t v24 = *v23;
          uint64_t v25 = *(void *)(*v23 + 16);
          if (!v25)
          {
            swift_bridgeObjectRelease();
            sub_25935633C(0, (unint64_t *)&qword_26A389B20);
            sub_259843F00();
            id v137 = sub_2593AD3C8();
            sub_2593A2D18((uint64_t)v9);
            id v138 = v137;
            OUTLINED_FUNCTION_167_7(v453);
            OUTLINED_FUNCTION_39_26();
            OUTLINED_FUNCTION_25_35();
            if (!v36)
            {
              OUTLINED_FUNCTION_137_7();
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
              char v139 = OUTLINED_FUNCTION_24_38();
              uint64_t v15 = (void *)v471[0];
              if (v139)
              {
                OUTLINED_FUNCTION_131_7();
                OUTLINED_FUNCTION_44_15();
                if (!v281) {
                  goto LABEL_272;
                }
                uint64_t v25 = v140;
              }
              swift_bridgeObjectRelease();
              if (v436)
              {
                sub_259843F00();
              }
              else
              {
                OUTLINED_FUNCTION_8_59();
                *(void *)(v15[7] + 8 * v25) = MEMORY[0x263F8EE78];
                OUTLINED_FUNCTION_31_27();
                OUTLINED_FUNCTION_185_5();
              }
              uint64_t v242 = OUTLINED_FUNCTION_140_7();
              MEMORY[0x25A2DED30](v242);
              OUTLINED_FUNCTION_112_9();
              if (v119) {
                OUTLINED_FUNCTION_111_8();
              }
              sub_2598445B0();
              sub_259844530();

              sub_25945EA34((uint64_t)v9);
              uint64_t v13 = sub_2593939F0;
              goto LABEL_247;
            }
            goto LABEL_326;
          }
          v471[0] = MEMORY[0x263F8EE78];
          sub_259845270();
          uint64_t v26 = (uint64_t *)(v24 + 40);
          do
          {
            uint64_t v27 = *(v26 - 1);
            uint64_t v28 = *v26;
            __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
            uint64_t v29 = OUTLINED_FUNCTION_2_15();
            *(_OWORD *)(v29 + 16) = xmmword_259876920;
            *(void *)(v29 + 32) = v27;
            *(void *)(v29 + 40) = v28;
            sub_25935633C(0, (unint64_t *)&qword_26A389B20);
            swift_bridgeObjectRetain_n();
            id v30 = sub_2593AD3C8();
            objc_msgSend(v30, sel_length);
            sub_25935633C(0, &qword_26A38D418);
            sub_259843F00();
            id v31 = sub_259535134();
            uint64_t v32 = self;
            id v33 = OUTLINED_FUNCTION_209_6(v32, sel_updateQueryString_withSelectedSuggestion_inRange_additionalAttributes_);

            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            sub_259845240();
            sub_259845280();
            sub_259845290();
            sub_259845250();
            v26 += 2;
            --v25;
          }
          while (v25);
          swift_bridgeObjectRelease();
          uint64_t v9 = __src;
          sub_2593A2D18((uint64_t)__src);
          OUTLINED_FUNCTION_91_9((uint64_t)v431);
          OUTLINED_FUNCTION_39_26();
          OUTLINED_FUNCTION_25_35();
          if (!v36)
          {
            unint64_t v37 = v34;
            char v38 = v35;
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
            char v39 = OUTLINED_FUNCTION_24_38();
            uint64_t v15 = (void *)v471[0];
            uint64_t v2 = v469;
            if (v39)
            {
              OUTLINED_FUNCTION_131_7();
              OUTLINED_FUNCTION_44_15();
              if (!v281) {
                goto LABEL_272;
              }
              unint64_t v37 = v40;
            }
            swift_bridgeObjectRelease();
            if (v38)
            {
              sub_259843F00();
            }
            else
            {
              OUTLINED_FUNCTION_36_2((uint64_t)&v15[v37 >> 6]);
              OUTLINED_FUNCTION_97_10((void *)(v15[6] + 88 * v37));
              *(void *)(v15[7] + 8 * v37) = MEMORY[0x263F8EE78];
              OUTLINED_FUNCTION_31_27();
              OUTLINED_FUNCTION_185_5();
            }
            OUTLINED_FUNCTION_140_7();
            sub_25973F8E8();
            sub_25945EA34((uint64_t)__src);
            v431 = sub_2593939F0;
            goto LABEL_246;
          }
          goto LABEL_320;
        case 1u:
          uint64_t v41 = *(void *)v2[97];
          sub_2593A2D18((uint64_t)v9);
          sub_2593980F8((uint64_t)v433);
          swift_isUniquelyReferenced_nonNull_native();
          v471[0] = v434;
          sub_25939D1E0();
          OUTLINED_FUNCTION_204_7();
          if (v36)
          {
            __break(1u);
          }
          else
          {
            unint64_t v44 = v42;
            char v45 = v43;
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE68);
            char v46 = OUTLINED_FUNCTION_274_2();
            char v47 = (void *)v471[0];
            if (v46)
            {
              sub_25939D1E0();
              OUTLINED_FUNCTION_44_15();
              if (!v281) {
                goto LABEL_272;
              }
              unint64_t v44 = v48;
            }
            swift_bridgeObjectRelease();
            if (v45)
            {
              sub_259843F00();
            }
            else
            {
              v47[(v44 >> 6) + 8] |= 1 << v44;
              OUTLINED_FUNCTION_97_10((void *)(v47[6] + 88 * v44));
              *(void *)(v47[7] + 8 * v44) = MEMORY[0x263F8EE78];
              uint64_t v123 = v47[2];
              uint64_t v124 = v123 + 1;
              BOOL v125 = __OFADD__(v123, 1);
              sub_259843F00();
              if (v125) {
                goto LABEL_324;
              }
              v47[2] = v124;
              sub_2593A2D18((uint64_t)v9);
            }
            uint64_t v126 = v47[7];
            uint64_t v434 = (uint64_t)v47;
            swift_bridgeObjectRelease();
            uint64_t v127 = *(void *)(v41 + 16);
            uint64_t v128 = *(void *)(v126 + 8 * v44);
            uint64_t v129 = *(void *)(v128 + 16);
            if (!__OFADD__(v129, v127))
            {
              if (!swift_isUniquelyReferenced_nonNull_native()
                || v129 + v127 > *(void *)(v128 + 24) >> 1)
              {
                sub_259386264();
                uint64_t v128 = v130;
              }
              uint64_t v15 = (void *)v467;
              if (*(void *)(v41 + 16))
              {
                OUTLINED_FUNCTION_170_8();
                if (v132 >= v127)
                {
                  uint64_t v133 = (void *)(v128 + 2 * v131 + 32);
                  if (v41 + 32 < (unint64_t)v133 + 2 * v127 && (unint64_t)v133 < v41 + 32 + 2 * v127)
                  {
LABEL_314:
                    OUTLINED_FUNCTION_108_3();
                    goto LABEL_315;
                  }
                  memcpy(v133, (const void *)(v41 + 32), 2 * v127);
                  if (!v127) {
                    goto LABEL_158;
                  }
                  uint64_t v135 = *(void *)(v128 + 16);
                  BOOL v36 = __OFADD__(v135, v127);
                  uint64_t v136 = v135 + v127;
                  if (!v36)
                  {
                    *(void *)(v128 + 16) = v136;
LABEL_158:
                    swift_bridgeObjectRelease();
                    *(void *)(v126 + 8 * v44) = v128;
                    sub_25945EA34((uint64_t)v9);
                    v433 = sub_2593939F0;
LABEL_246:
                    uint64_t v13 = (void (*)(void *@<X8>))v453;
LABEL_247:
                    uint64_t v4 = (void *)v455;
LABEL_248:
                    uint64_t v7 = v457;
LABEL_249:
                    uint64_t v20 = (void (*)(void *@<X8>))v456;
                    goto LABEL_250;
                  }
LABEL_325:
                  __break(1u);
LABEL_326:
                  __break(1u);
                  goto LABEL_327;
                }
                goto LABEL_323;
              }
              if (!v127) {
                goto LABEL_158;
              }
              goto LABEL_318;
            }
          }
          __break(1u);
LABEL_318:
          __break(1u);
          goto LABEL_319;
        case 2u:
          uint64_t v49 = v2[97];
          uint64_t v50 = v2[95];
          uint64_t v51 = v2[94];
          uint64_t v52 = v2[93];
          uint64_t v53 = v2[88];
          uint64_t v54 = v49 + *(int *)(__swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0) + 48);
          sub_2596834A0(v49, v50, &qword_26A38AEB8);
          sub_2596834A0(v54, v51, &qword_26A38AEB8);
          sub_2596A64C8(v50, v52, &qword_26A38AEB8);
          if (__swift_getEnumTagSinglePayload(v52, 1, v53) == 1)
          {
            sub_25938D0FC(v2[93], &qword_26A38AEB8);
            OUTLINED_FUNCTION_86();
            v58(v55, v56, v57);
            uint64_t v59 = sub_259843A50();
            os_log_type_t v60 = sub_259844B50();
            if (os_log_type_enabled(v59, v60))
            {
              uint64_t v61 = (uint8_t *)OUTLINED_FUNCTION_41();
              *(_WORD *)uint64_t v61 = 0;
              _os_log_impl(&dword_25934C000, v59, v60, "We require there is at least one date to retrieve assets", v61, 2u);
              OUTLINED_FUNCTION_61_0();
            }
            uint64_t v62 = v2[95];

            OUTLINED_FUNCTION_11();
            v66(v63, v64, v65);
            sub_25938D0FC(v62, &qword_26A38AEB8);
            OUTLINED_FUNCTION_198_2();
LABEL_195:
            uint64_t v15 = (void *)v467;
            goto LABEL_246;
          }
          v424 = *v417;
          (*v417)(v2[91], v2[93], v2[88]);
          __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
          uint64_t v111 = OUTLINED_FUNCTION_2_15();
          *(_OWORD *)(v111 + 16) = xmmword_259876920;
          *(void *)(v111 + 32) = v437;
          *(void *)(v111 + 40) = v436;
          v2[50] = v111;
          sub_2596834A0(v441, v416, &qword_26A38B3E0);
          uint64_t v112 = v2[47];
          if (v112)
          {
            swift_beginAccess();
            uint64_t v113 = *(void *)(v112 + 16);
            uint64_t v111 = *v432;
            uint64_t v114 = *(void *)(*v432 + 16);
            uint64_t v15 = (void *)v467;
            if (__OFADD__(v114, v113))
            {
LABEL_330:
              __break(1u);
              goto LABEL_331;
            }
            sub_259843F00();
            sub_25945EA98(v441);
            if (!swift_isUniquelyReferenced_nonNull_native() || v114 + v113 > *(void *)(v111 + 24) >> 1)
            {
              sub_25938553C();
              uint64_t v111 = v115;
            }
            if (*(void *)(v112 + 16))
            {
              OUTLINED_FUNCTION_170_8();
              if (v117 < v113)
              {
LABEL_332:
                __break(1u);
                __break(1u);
LABEL_333:
                __break(1u);
                goto LABEL_334;
              }
              unint64_t v118 = v111 + 16 * v116 + 32;
              BOOL v119 = v112 + 32 >= v118 + 16 * v113 || v118 >= v112 + 32 + 16 * v113;
              if (!v119) {
                goto LABEL_314;
              }
              swift_arrayInitWithCopy();
              uint64_t v120 = v441;
              if (v113)
              {
                uint64_t v121 = *(void *)(v111 + 16);
                BOOL v36 = __OFADD__(v121, v113);
                uint64_t v122 = v121 + v113;
                if (v36)
                {
LABEL_334:
                  __break(1u);
                  goto LABEL_335;
                }
                *(void *)(v111 + 16) = v122;
              }
            }
            else
            {
              uint64_t v120 = v441;
              if (v113)
              {
LABEL_331:
                __break(1u);
                __break(1u);
                __break(1u);
                __break(1u);
                goto LABEL_332;
              }
            }
            sub_25945EAC4(v120);
            uint64_t *v432 = v111;
            swift_endAccess();
          }
          else
          {
            sub_259843F00();
            uint64_t v15 = (void *)v467;
          }
          uint64_t v262 = *(void *)(v111 + 16);
          v440 = v1;
          if (v262)
          {
            v471[0] = MEMORY[0x263F8EE78];
            sub_259843F00();
            sub_2594F08BC();
            BOOL v263 = (void *)v471[0];
            uint64_t v264 = (uint64_t *)(v111 + 40);
            do
            {
              uint64_t v461 = v262;
              v463 = v263;
              uint64_t v265 = *v264;
              v469[42] = *(v264 - 1);
              v469[43] = v265;
              sub_259843F00();
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B568);
              OUTLINED_FUNCTION_201_5(0x29666F282B735C2FLL, 0xEC0000002F2B735CLL);
              sub_2596A6388();
              sub_2596A658C();
              sub_25936C308(&qword_26A38B570, &qword_26A38B548);
              sub_259844A60();
              uint64_t v2 = v469;
              OUTLINED_FUNCTION_11();
              v269(v266, v267, v268);
              uint64_t v270 = v469[39];
              v469[44] = v469[38];
              v469[45] = v270;
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B580);
              OUTLINED_FUNCTION_201_5(0xD000000000000014, 0x800000025985DA70);
              sub_2596A63D4();
              sub_25936C308(&qword_26A38B588, &qword_26A38B560);
              sub_259844A60();
              OUTLINED_FUNCTION_11();
              v274(v271, v272, v273);
              swift_bridgeObjectRelease();
              BOOL v263 = v463;
              swift_bridgeObjectRelease();
              uint64_t v275 = v469[40];
              uint64_t v276 = v469[41];
              if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
              {
                sub_2594F08BC();
                BOOL v263 = (void *)v471[0];
              }
              unint64_t v277 = v263[2];
              if (v277 >= v263[3] >> 1)
              {
                OUTLINED_FUNCTION_178_7();
                BOOL v263 = (void *)v471[0];
              }
              v263[2] = v277 + 1;
              id v278 = &v263[2 * v277];
              v278[4] = v275;
              v278[5] = v276;
              v264 += 2;
              --v262;
            }
            while (v461 != 1);
            swift_bridgeObjectRelease();
            uint64_t v9 = __src;
            uint64_t v15 = (void *)v467;
          }
          else
          {
            BOOL v263 = (void *)MEMORY[0x263F8EE78];
          }
          OUTLINED_FUNCTION_28();
          id v279 = (void *)*v432;
          unint64_t v280 = *(void *)(*v432 + 16);
          if (v280 != v263[2]) {
            goto LABEL_225;
          }
          if (!v280 || v279 == v263) {
            goto LABEL_229;
          }
          BOOL v281 = v279[4] == v263[4] && v279[5] == v263[5];
          if (v281 || (sub_259845750() & 1) != 0)
          {
            if (v280 != 1)
            {
              id v282 = v263 + 7;
              v283 = v279 + 7;
              unint64_t v284 = 1;
              while (v284 < v280)
              {
                BOOL v285 = *(v283 - 1) == *(v282 - 1) && *v283 == *v282;
                if (!v285 && (sub_259845750() & 1) == 0) {
                  goto LABEL_225;
                }
                ++v284;
                v282 += 2;
                v283 += 2;
                if (v280 == v284) {
                  goto LABEL_229;
                }
              }
LABEL_319:
              __break(1u);
LABEL_320:
              __break(1u);
              goto LABEL_321;
            }
          }
          else
          {
LABEL_225:
            uint64_t v286 = OUTLINED_FUNCTION_22_42();
            v287(v286);
            OUTLINED_FUNCTION_259_1();
            uint64_t v288 = (void *)sub_259843A50();
            os_log_type_t v289 = sub_259844B70();
            if (OUTLINED_FUNCTION_52(v289))
            {
              uint64_t v290 = OUTLINED_FUNCTION_21_0();
              v471[0] = OUTLINED_FUNCTION_18_1();
              *(_DWORD *)uint64_t v290 = 136315394;
              uint64_t v291 = sub_259843F00();
              uint64_t v292 = v1;
              uint64_t v293 = MEMORY[0x263F8D310];
              uint64_t v294 = MEMORY[0x25A2DED80](v291, MEMORY[0x263F8D310]);
              unint64_t v296 = v295;
              swift_bridgeObjectRelease();
              *(void *)(v290 + 4) = sub_259356D5C(v294, v296, v471);
              uint64_t v2 = v469;
              swift_bridgeObjectRelease();
              *(_WORD *)(v290 + 12) = 2080;
              uint64_t v297 = sub_259843F00();
              uint64_t v298 = v293;
              uint64_t v1 = v292;
              uint64_t v299 = MEMORY[0x25A2DED80](v297, v298);
              unint64_t v301 = v300;
              swift_bridgeObjectRelease();
              *(void *)(v290 + 14) = sub_259356D5C(v299, v301, v471);
              uint64_t v15 = (void *)v467;
              swift_bridgeObjectRelease();
              OUTLINED_FUNCTION_184_1();
              OUTLINED_FUNCTION_211();
              _os_log_impl(v302, v303, v304, "Sanitized \"%s\" to \"%s\"", (uint8_t *)v290, 0x16u);
              swift_arrayDestroy();
              uint64_t v9 = __src;
              OUTLINED_FUNCTION_61_0();
              OUTLINED_FUNCTION_61_0();
            }
            else
            {
              OUTLINED_FUNCTION_184_1();
            }

            OUTLINED_FUNCTION_259_3();
            OUTLINED_FUNCTION_11();
            v308(v305, v306, v307);
          }
LABEL_229:
          if (*v426 == 1)
          {
            swift_bridgeObjectRelease();
          }
          else
          {
            char v309 = sub_259845750();
            swift_bridgeObjectRelease();
            if ((v309 & 1) == 0)
            {
              uint64_t v326 = v2[92];
              uint64_t v327 = v2[88];
              sub_2596A64C8(v2[94], v326, &qword_26A38AEB8);
              if (__swift_getEnumTagSinglePayload(v326, 1, v327) == 1)
              {
                uint64_t v328 = v2[94];
                uint64_t v329 = v2[92];
                sub_25938D0FC(v2[95], &qword_26A38AEB8);
                swift_bridgeObjectRelease();
                OUTLINED_FUNCTION_274_0();
                OUTLINED_FUNCTION_11();
                v333(v330, v331, v332);
                sub_25938D0FC(v328, &qword_26A38AEB8);
                sub_25938D0FC(v329, &qword_26A38AEB8);
                goto LABEL_245;
              }
              v424(v2[90], v2[92], v2[88]);
              if (qword_26A388BF8 != -1) {
                swift_once();
              }
              uint64_t v334 = v2[71];
              uint64_t v335 = v2[70];
              uint64_t v336 = sub_259842A00();
              __swift_project_value_buffer(v336, (uint64_t)qword_26A3917C0);
              sub_2598429D0();
              if (__swift_getEnumTagSinglePayload(v335, 1, v334) == 1)
              {
                uint64_t v337 = v2[95];
                uint64_t v338 = v2[94];
                uint64_t v339 = v2[70];
                swift_bridgeObjectRelease();
                v340 = *v415;
                OUTLINED_FUNCTION_56_4();
                OUTLINED_FUNCTION_64();
                ((void (*)(uint64_t, uint64_t, uint64_t))v340)(v341, v342, v343);
                sub_25938D0FC(v337, &qword_26A38AEB8);
                OUTLINED_FUNCTION_3_26();
                OUTLINED_FUNCTION_64();
                ((void (*)(uint64_t, uint64_t, uint64_t))v340)(v344, v345, v346);
                uint64_t v2 = v469;
                sub_25938D0FC(v338, &qword_26A38AEB8);
                uint64_t v347 = v339;
              }
              else
              {
                uint64_t v348 = v2[90];
                uint64_t v349 = v2[71];
                uint64_t v350 = v2[69];
                uint64_t v351 = *v412;
                (*v412)(v2[74], v2[70], v349);
                sub_2598429D0();
                if (__swift_getEnumTagSinglePayload(v350, 1, v349) != 1)
                {
                  int8x16_t v465 = *(int8x16_t *)v409;
                  v351(*v409, v2[69], v2[71]);
                  uint64_t v361 = (int8x16_t *)swift_task_alloc();
                  v361[1] = vextq_s8(v465, v465, 8uLL);
                  uint64_t v362 = 0;
                  sub_25950D484((void (*)(uint64_t *__return_ptr, void *))sub_2596A65D8, (uint64_t)v361, (uint64_t)v263);
                  swift_bridgeObjectRelease();
                  swift_task_dealloc();
                  sub_2593A2D18((uint64_t)v9);
                  OUTLINED_FUNCTION_91_9((uint64_t)v411);
                  OUTLINED_FUNCTION_39_26();
                  OUTLINED_FUNCTION_25_35();
                  if (v36)
                  {
LABEL_335:
                    __break(1u);
                    __break(1u);
                    JUMPOUT(0x25968D3A4);
                  }
                  OUTLINED_FUNCTION_137_7();
                  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
                  char v363 = OUTLINED_FUNCTION_24_38();
                  uint64_t v15 = (void *)v471[0];
                  if (v363)
                  {
                    OUTLINED_FUNCTION_131_7();
                    OUTLINED_FUNCTION_44_15();
                    if (!v281) {
                      goto LABEL_272;
                    }
                    uint64_t v362 = v364;
                  }
                  swift_bridgeObjectRelease();
                  if (v348)
                  {
                    sub_259843F00();
                  }
                  else
                  {
                    OUTLINED_FUNCTION_8_59();
                    *(void *)(v15[7] + 8 * v362) = MEMORY[0x263F8EE78];
                    OUTLINED_FUNCTION_31_27();
                    OUTLINED_FUNCTION_185_5();
                  }
                  uint64_t v365 = v2[95];
                  uint64_t v468 = v2[94];
                  uint64_t v366 = v2[91];
                  uint64_t v367 = v469[90];
                  uint64_t v368 = v469[88];
                  uint64_t v466 = v366;
                  OUTLINED_FUNCTION_140_7();
                  sub_25973F8E8();
                  sub_25945EA34((uint64_t)v9);
                  v369 = *v415;
                  uint64_t v370 = v367;
                  uint64_t v2 = v469;
                  (*v415)(v370, v368);
                  sub_25938D0FC(v365, &qword_26A38AEB8);
                  uint64_t v371 = *v410;
                  OUTLINED_FUNCTION_95();
                  v371(v372, v373, v374);
                  OUTLINED_FUNCTION_95();
                  v371(v375, v376, v377);
                  v369(v466, v368);
                  sub_25938D0FC(v468, &qword_26A38AEB8);
                  uint64_t v411 = sub_2593939F0;
                  uint64_t v9 = __src;
                  uint64_t v1 = v440;
LABEL_245:
                  swift_bridgeObjectRelease();
                  goto LABEL_246;
                }
                uint64_t v352 = v2[95];
                uint64_t v464 = v2[94];
                uint64_t v353 = v469[69];
                swift_bridgeObjectRelease();
                uint64_t v354 = (void (*)(uint64_t))*v415;
                uint64_t v355 = OUTLINED_FUNCTION_56_4();
                v354(v355);
                sub_25938D0FC(v352, &qword_26A38AEB8);
                uint64_t v2 = v469;
                OUTLINED_FUNCTION_11();
                v359(v356, v357, v358);
                uint64_t v360 = OUTLINED_FUNCTION_3_26();
                v354(v360);
                uint64_t v9 = __src;
                sub_25938D0FC(v464, &qword_26A38AEB8);
                uint64_t v347 = v353;
              }
              sub_25938D0FC(v347, (uint64_t *)&unk_26B2F8390);
              uint64_t v15 = (void *)v467;
              goto LABEL_245;
            }
          }
          uint64_t v310 = v2[94];
          uint64_t v311 = v2[91];
          uint64_t v312 = swift_task_alloc();
          *(void *)(v312 + 16) = v311;
          *(void *)(v312 + 24) = v310;
          unint64_t v313 = 0;
          sub_25950D484((void (*)(uint64_t *__return_ptr, void *))sub_2596A65F8, v312, (uint64_t)v263);
          swift_bridgeObjectRelease();
          swift_task_dealloc();
          sub_2593A2D18((uint64_t)v9);
          OUTLINED_FUNCTION_167_7((uint64_t)v423);
          OUTLINED_FUNCTION_39_26();
          OUTLINED_FUNCTION_25_35();
          if (v36)
          {
LABEL_327:
            __break(1u);
LABEL_328:
            __break(1u);
LABEL_329:
            __break(1u);
            goto LABEL_330;
          }
          OUTLINED_FUNCTION_137_7();
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
          char v314 = OUTLINED_FUNCTION_24_38();
          uint64_t v315 = (void *)v471[0];
          if (v314)
          {
            sub_25939D1E0();
            OUTLINED_FUNCTION_44_15();
            if (!v281)
            {
LABEL_272:
              OUTLINED_FUNCTION_100();
              sub_2598457D0();
              return;
            }
            unint64_t v313 = v316;
          }
          swift_bridgeObjectRelease();
          if (v310)
          {
            sub_259843F00();
          }
          else
          {
            OUTLINED_FUNCTION_87_14((uint64_t)&v315[v313 >> 6]);
            OUTLINED_FUNCTION_97_10((void *)(v315[6] + 88 * v313));
            *(void *)(v315[7] + 8 * v313) = MEMORY[0x263F8EE78];
            uint64_t v317 = v315[2];
            uint64_t v318 = v317 + 1;
            BOOL v319 = __OFADD__(v317, 1);
            sub_259843F00();
            if (v319) {
              goto LABEL_333;
            }
            v315[2] = v318;
            sub_2593A2D18((uint64_t)v9);
          }
          uint64_t v320 = v2[95];
          uint64_t v321 = v2[94];
          swift_bridgeObjectRelease();
          sub_25973F8E8();
          sub_25945EA34((uint64_t)v9);
          sub_25938D0FC(v320, &qword_26A38AEB8);
          uint64_t v2 = v469;
          OUTLINED_FUNCTION_11();
          v325(v322, v323, v324);
          sub_25938D0FC(v321, &qword_26A38AEB8);
          v423 = sub_2593939F0;
          uint64_t v15 = v315;
          goto LABEL_245;
        case 3u:
          uint64_t v67 = (uint64_t *)v2[97];
          uint64_t v68 = *v67;
          uint64_t v69 = *(void *)(*v67 + 16);
          if (!v69)
          {
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_86();
            v144(v141, v142, v143);
            sub_2593A2D18((uint64_t)v9);
            sub_2593A2D18((uint64_t)v9);
            uint64_t v145 = sub_259843A50();
            os_log_type_t v146 = sub_259844B50();
            if (os_log_type_enabled(v145, v146))
            {
              uint64_t v147 = OUTLINED_FUNCTION_54();
              uint64_t v470 = OUTLINED_FUNCTION_20();
              *(_DWORD *)uint64_t v147 = 136642819;
              OUTLINED_FUNCTION_97_10(v471);
              QueryToken.description.getter();
              *(void *)(v147 + 4) = sub_259356D5C(v148, v149, &v470);
              swift_bridgeObjectRelease();
              sub_25945EA34((uint64_t)v9);
              sub_25945EA34((uint64_t)v9);
              _os_log_impl(&dword_25934C000, v145, v146, "Unexpectedly encountered an ungrounded PartOfDay suggestion, unable to perform PartOfDay retrieval. %{sensitive}s", (uint8_t *)v147, 0xCu);
              OUTLINED_FUNCTION_84_1();
              uint64_t v2 = v469;
              OUTLINED_FUNCTION_61_0();
              uint64_t v15 = (void *)v467;
              OUTLINED_FUNCTION_61_0();
            }
            else
            {
              sub_25945EA34((uint64_t)v9);
              sub_25945EA34((uint64_t)v9);
            }

            OUTLINED_FUNCTION_11();
            v233(v230, v231, v232);
            goto LABEL_246;
          }
          sub_25935633C(0, (unint64_t *)&qword_26A389B20);
          sub_25935633C(0, &qword_26A38D418);
          OUTLINED_FUNCTION_53_7();
          uint64_t v71 = v68 + v70;
          uint64_t v451 = *(void *)(v72 + 72);
          while (1)
          {
            OUTLINED_FUNCTION_106();
            v76(v73, v74, v75);
            sub_259843620();
            sub_259843F00();
            id v77 = sub_2593AD3C8();
            objc_msgSend(v77, sel_length);
            sub_259843620();
            id v78 = sub_2595354E0();
            if (!v78) {
              break;
            }
            uint64_t v79 = v78;
            uint64_t v80 = self;
            id v81 = OUTLINED_FUNCTION_209_6(v80, sel_updateQueryString_withSelectedSuggestion_inRange_additionalAttributes_);

            swift_bridgeObjectRelease();
            sub_2593A2D18((uint64_t)v9);
            id v82 = v81;
            sub_2593980F8((uint64_t)v7);
            swift_isUniquelyReferenced_nonNull_native();
            v471[0] = v467;
            uint64_t v83 = sub_25939D1E0();
            if (__OFADD__(*(void *)(v467 + 16), (v84 & 1) == 0))
            {
              __break(1u);
              goto LABEL_306;
            }
            unint64_t v85 = v83;
            char v86 = v84;
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
            char v87 = v471;
            char v88 = sub_259845350();
            uint64_t v15 = (void *)v471[0];
            uint64_t v2 = v469;
            if (v88)
            {
              char v87 = (uint64_t *)v471[0];
              sub_25939D1E0();
              OUTLINED_FUNCTION_44_15();
              if (!v281) {
                goto LABEL_272;
              }
              unint64_t v85 = v89;
            }
            swift_bridgeObjectRelease();
            if (v86)
            {
              sub_259843F00();
            }
            else
            {
              v15[(v85 >> 6) + 8] |= 1 << v85;
              memcpy((void *)(v15[6] + 88 * v85), __src, 0x58uLL);
              *(void *)(v15[7] + 8 * v85) = MEMORY[0x263F8EE78];
              OUTLINED_FUNCTION_31_27();
              v15[2] = v87;
              sub_2593A2D18((uint64_t)__src);
            }
            uint64_t v467 = (uint64_t)v15;
            uint64_t v90 = swift_bridgeObjectRelease();
            MEMORY[0x25A2DED30](v90);
            OUTLINED_FUNCTION_112_9();
            if (v119) {
              OUTLINED_FUNCTION_111_8();
            }
            sub_2598445B0();
            sub_259844530();

            uint64_t v9 = __src;
            sub_25945EA34((uint64_t)__src);
            OUTLINED_FUNCTION_11();
            v94(v91, v92, v93);
            v71 += v451;
            uint64_t v7 = sub_2593939F0;
            if (!--v69)
            {
              swift_bridgeObjectRelease();
              uint64_t v7 = sub_2593939F0;
              uint64_t v13 = (void (*)(void *@<X8>))v453;
              uint64_t v4 = (void *)v455;
              goto LABEL_249;
            }
          }
          v457 = v7;

          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_86();
          v205(v202, v203, v204);
          uint64_t v2 = v469;
          OUTLINED_FUNCTION_106();
          v209(v206, v207, v208);
          uint64_t v210 = sub_259843A50();
          os_log_type_t v211 = sub_259844B50();
          BOOL v212 = os_log_type_enabled(v210, v211);
          uint64_t v213 = v469[68];
          uint64_t v214 = v469[65];
          if (v212)
          {
            uint64_t v215 = (uint8_t *)OUTLINED_FUNCTION_54();
            v471[0] = OUTLINED_FUNCTION_20();
            *(_DWORD *)uint64_t v215 = 136642819;
            uint64_t v216 = sub_259843640();
            uint64_t v218 = sub_259356D5C(v216, v217, v471);
            OUTLINED_FUNCTION_54_2(v218, v413);
            sub_259844E10();
            swift_bridgeObjectRelease();
            v219 = *v450;
            OUTLINED_FUNCTION_58_7();
            OUTLINED_FUNCTION_95();
            v219(v220, v221, v222);
            _os_log_impl(&dword_25934C000, v210, v211, "Skip date retrieval for part of day token '%{sensitive}s', it is not supported in Spotlight in this build.", v215, 0xCu);
            OUTLINED_FUNCTION_84_1();
            uint64_t v2 = v469;
            OUTLINED_FUNCTION_61_0();
            OUTLINED_FUNCTION_61_0();

            OUTLINED_FUNCTION_259_3();
            OUTLINED_FUNCTION_11();
            v226(v223, v224, v225);
            OUTLINED_FUNCTION_95();
            v219(v227, v228, v229);
          }
          else
          {

            v254 = *v450;
            OUTLINED_FUNCTION_47_0();
            v254(v255, v256, v257);
            OUTLINED_FUNCTION_259_3();
            OUTLINED_FUNCTION_11();
            v261(v258, v259, v260);
            ((void (*)(uint64_t, uint64_t))v254)(v213, v214);
          }
          goto LABEL_194;
        case 4u:
          (*v429)(v2[64], v2[97], v2[61]);
          sub_259843530();
          sub_25935633C(0, (unint64_t *)&qword_26A389B20);
          sub_259843F00();
          OUTLINED_FUNCTION_50_0();
          id v95 = sub_2593AD3C8();
          id v96 = objc_msgSend(v95, sel_length);
          sub_25935633C(0, &qword_26A38D418);
          sub_259843530();
          id v97 = sub_25953561C();
          if (v97)
          {
            double v98 = v97;
            id v99 = objc_msgSend(self, sel_updateQueryString_withSelectedSuggestion_inRange_additionalAttributes_, v95, v97, 0, v96, 0);

            swift_bridgeObjectRelease();
            sub_2593A2D18((uint64_t)v9);
            id v100 = v99;
            OUTLINED_FUNCTION_91_9(v455);
            OUTLINED_FUNCTION_39_26();
            OUTLINED_FUNCTION_25_35();
            if (!v36)
            {
              OUTLINED_FUNCTION_137_7();
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
              char v101 = OUTLINED_FUNCTION_24_38();
              uint64_t v15 = (void *)v471[0];
              if (v101)
              {
                OUTLINED_FUNCTION_131_7();
                OUTLINED_FUNCTION_44_15();
                if (!v281) {
                  goto LABEL_272;
                }
                id v95 = v102;
              }
              swift_bridgeObjectRelease();
              if (v99)
              {
                sub_259843F00();
              }
              else
              {
                OUTLINED_FUNCTION_8_59();
                *(void *)(v15[7] + 8 * (void)v95) = MEMORY[0x263F8EE78];
                OUTLINED_FUNCTION_31_27();
                OUTLINED_FUNCTION_185_5();
              }
              uint64_t v197 = swift_bridgeObjectRelease();
              MEMORY[0x25A2DED30](v197);
              OUTLINED_FUNCTION_112_9();
              if (v119) {
                OUTLINED_FUNCTION_111_8();
              }
              sub_2598445B0();
              sub_259844530();

              sub_25945EA34((uint64_t)v9);
              OUTLINED_FUNCTION_11();
              v201(v198, v199, v200);
              uint64_t v4 = sub_2593939F0;
              uint64_t v13 = (void (*)(void *@<X8>))v453;
              goto LABEL_248;
            }
LABEL_321:
            __break(1u);
LABEL_322:
            __break(1u);
LABEL_323:
            __break(1u);
LABEL_324:
            __break(1u);
            goto LABEL_325;
          }

          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_86();
          v153(v150, v151, v152);
          uint64_t v2 = v469;
          OUTLINED_FUNCTION_86();
          v157(v154, v155, v156);
          uint64_t v158 = sub_259843A50();
          os_log_type_t v159 = sub_259844B50();
          BOOL v160 = os_log_type_enabled(v158, v159);
          uint64_t v161 = v469[64];
          uint64_t v162 = v469[61];
          if (v160)
          {
            uint64_t v163 = OUTLINED_FUNCTION_54();
            v471[0] = OUTLINED_FUNCTION_20();
            *(_DWORD *)uint64_t v163 = 136642819;
            uint64_t v164 = sub_259843550();
            v438 = v1;
            *(void *)(v163 + 4) = sub_259356D5C(v164, v165, v471);
            swift_bridgeObjectRelease();
            uint64_t v166 = *v427;
            OUTLINED_FUNCTION_47_0();
            v166(v167, v168, v169);
            _os_log_impl(&dword_25934C000, v158, v159, "Skip date retrieval for part of week token '%{sensitive}s', it is not supported in Spotlight in this build.", (uint8_t *)v163, 0xCu);
            OUTLINED_FUNCTION_84_1();
            uint64_t v2 = v469;
            OUTLINED_FUNCTION_61_0();
            OUTLINED_FUNCTION_61_0();

            OUTLINED_FUNCTION_11();
            v173(v170, v171, v172);
            OUTLINED_FUNCTION_47_0();
            v166(v174, v175, v176);
            uint64_t v1 = v438;
          }
          else
          {

            char v234 = *v427;
            OUTLINED_FUNCTION_47_0();
            v234(v235, v236, v237);
            OUTLINED_FUNCTION_11();
            v241(v238, v239, v240);
            ((void (*)(uint64_t, uint64_t))v234)(v161, v162);
          }
LABEL_194:
          uint64_t v9 = __src;
          goto LABEL_195;
        case 5u:
          unint64_t v103 = *(void *)v2[97];
          uint64_t v104 = *(void *)(v428 + 8);
          sub_2596834A0(v441, v430, &qword_26A38B3E0);
          double v105 = (void *)v2[55];
          uint64_t v106 = v437;
          unint64_t v107 = v436;
          if (v105)
          {
            unint64_t v107 = v436;
            uint64_t v106 = v437;
            if (v105[2])
            {
              uint64_t v106 = v105[4];
              unint64_t v107 = v105[5];
            }
          }
          uint64_t v108 = *(void *)(v103 + 16);
          sub_259843F00();
          if (v108)
          {
            sub_25968E8C4(v106, v107, v103, v104, 1);
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            sub_2593A2D18((uint64_t)v9);
            OUTLINED_FUNCTION_91_9((uint64_t)v1);
            OUTLINED_FUNCTION_39_26();
            OUTLINED_FUNCTION_25_35();
            if (!v36)
            {
              OUTLINED_FUNCTION_137_7();
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
              char v109 = OUTLINED_FUNCTION_24_38();
              uint64_t v15 = (void *)v471[0];
              if (v109)
              {
                OUTLINED_FUNCTION_131_7();
                OUTLINED_FUNCTION_44_15();
                if (!v281) {
                  goto LABEL_272;
                }
                unint64_t v103 = v110;
              }
              swift_bridgeObjectRelease();
              if (v107)
              {
                sub_259843F00();
              }
              else
              {
                OUTLINED_FUNCTION_8_59();
                *(void *)(v15[7] + 8 * v103) = MEMORY[0x263F8EE78];
                OUTLINED_FUNCTION_31_27();
                OUTLINED_FUNCTION_185_5();
              }
              OUTLINED_FUNCTION_140_7();
              sub_25973F8E8();
              sub_25945EA34((uint64_t)v9);
              uint64_t v1 = sub_2593939F0;
              goto LABEL_246;
            }
            goto LABEL_322;
          }
          swift_bridgeObjectRelease();
          static QueryGenerator.generateLocationAttributedStringCombinations(with:assetUUIDs:)();
          OUTLINED_FUNCTION_44_7();
          swift_bridgeObjectRelease();
          v471[0] = MEMORY[0x263F8EE78];
          uint64_t v459 = *(void *)(v103 + 16);
          unint64_t v452 = v103;
          if (!v459) {
            goto LABEL_177;
          }
          v439 = v1;
          unint64_t v460 = v103 + 32;
          sub_259843F00();
          uint64_t v177 = 0;
          uint64_t v178 = v459;
          break;
        default:
          sub_2596A61D8(v2[97], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          goto LABEL_247;
      }
      do
      {
        uint64_t v179 = *(void *)(v460 + 8 * v177);
        unint64_t v180 = (unint64_t)v179 >> 62;
        if ((unint64_t)v179 >> 62)
        {
          OUTLINED_FUNCTION_173_0();
          uint64_t v181 = sub_259845460();
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v181 = *(void *)((v179 & 0xFFFFFFFFFFFFFF8) + 0x10);
          sub_259843F00();
        }
        unint64_t v182 = v471[0];
        if ((unint64_t)v471[0] >> 62)
        {
          if (v471[0] < 0) {
            uint64_t v183 = v471[0];
          }
          else {
            uint64_t v183 = v471[0] & 0xFFFFFFFFFFFFFF8;
          }
          sub_259843F00();
          sub_259845460();
          OUTLINED_FUNCTION_160_2();
        }
        else
        {
          uint64_t v183 = *(void *)((v471[0] & 0xFFFFFFFFFFFFFF8) + 0x10);
        }
        uint64_t v184 = v183 + v181;
        if (__OFADD__(v183, v181))
        {
LABEL_306:
          __break(1u);
LABEL_307:
          __break(1u);
LABEL_308:
          __break(1u);
LABEL_309:
          __break(1u);
          __break(1u);
LABEL_310:
          __break(1u);
LABEL_315:
          sub_2598454C0();
          OUTLINED_FUNCTION_100();
          return;
        }
        uint64_t v462 = v181;
        unint64_t v107 = 0;
        if (swift_isUniquelyReferenced_nonNull_bridgeObject()
          && (v182 & 0x8000000000000000) == 0
          && (v182 & 0x4000000000000000) == 0)
        {
          uint64_t v185 = v182 & 0xFFFFFFFFFFFFFF8;
          uint64_t v186 = *(void *)((v182 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1;
          if (v186 >= v184) {
            goto LABEL_125;
          }
          unint64_t v107 = 1;
        }
        if (v182 >> 62)
        {
          sub_259843F00();
          uint64_t v187 = sub_259845460();
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v187 = *(void *)((v182 & 0xFFFFFFFFFFFFFF8) + 0x10);
        }
        if (v187 <= v184) {
          uint64_t v187 = v184;
        }
        sub_259843F00();
        MEMORY[0x25A2DFA30](v107, v187, 1, v182);
        OUTLINED_FUNCTION_160_2();
        v471[0] = v107;
        uint64_t v185 = v107 & 0xFFFFFFFFFFFFFF8;
        uint64_t v186 = *(void *)((v107 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1;
LABEL_125:
        unint64_t v103 = *(void *)(v185 + 16);
        if (v180)
        {
          if (v179 < 0) {
            LOBYTE(v107) = v179;
          }
          else {
            LOBYTE(v107) = v179 & 0xF8;
          }
          sub_259843F00();
          uint64_t v188 = sub_259845460();
          swift_bridgeObjectRelease();
          if (!v188)
          {
LABEL_140:
            if (v462 > 0) {
              goto LABEL_307;
            }
            goto LABEL_149;
          }
        }
        else
        {
          uint64_t v188 = *(void *)((v179 & 0xFFFFFFFFFFFFFF8) + 0x10);
          if (!v188) {
            goto LABEL_140;
          }
        }
        if ((uint64_t)(v186 - v103) < v462) {
          goto LABEL_309;
        }
        unint64_t v103 = v185 + 8 * v103 + 32;
        if (v180)
        {
          if (v188 < 1)
          {
            __break(1u);
LABEL_313:
            __break(1u);
            goto LABEL_314;
          }
          LOBYTE(v107) = sub_25936C308(&qword_26A38FE58, &qword_26A38C678);
          sub_259843F00();
          for (uint64_t i = 0; i != v188; ++i)
          {
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38C678);
            OUTLINED_FUNCTION_154_8();
            uint64_t v192 = sub_2596D9F1C();
            id v194 = *v193;
            ((void (*)(void *, void))v192)(v435, 0);
            *(void *)(v103 + 8 * i) = v194;
          }
          swift_bridgeObjectRelease();
          uint64_t v178 = v459;
          uint64_t v190 = v462;
        }
        else
        {
          if (v462 < 0) {
            goto LABEL_315;
          }
          unint64_t v107 = (v179 & 0xFFFFFFFFFFFFFF8) + 32;
          if (v107 < v103 + 8 * v462 && v103 < v107 + 8 * v462) {
            goto LABEL_314;
          }
          uint64_t v190 = v462;
          sub_25935633C(0, (unint64_t *)&qword_26A389B20);
          swift_arrayInitWithCopy();
        }
        if (v190 > 0)
        {
          uint64_t v195 = *(void *)((v471[0] & 0xFFFFFFFFFFFFFF8) + 0x10);
          BOOL v36 = __OFADD__(v195, v190);
          uint64_t v196 = v195 + v190;
          if (v36) {
            goto LABEL_310;
          }
          *(void *)((v471[0] & 0xFFFFFFFFFFFFFF8) + 0x10) = v196;
        }
LABEL_149:
        ++v177;
        swift_bridgeObjectRelease();
        sub_259844530();
      }
      while (v177 != v178);
      swift_bridgeObjectRelease();
      uint64_t v2 = v469;
      uint64_t v1 = v439;
      uint64_t v9 = __src;
LABEL_177:
      sub_2593A2D18((uint64_t)v9);
      OUTLINED_FUNCTION_167_7(v456);
      OUTLINED_FUNCTION_39_26();
      OUTLINED_FUNCTION_25_35();
      if (v36) {
        goto LABEL_328;
      }
      OUTLINED_FUNCTION_137_7();
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
      char v243 = OUTLINED_FUNCTION_24_38();
      uint64_t v15 = (void *)v471[0];
      if (v243)
      {
        OUTLINED_FUNCTION_131_7();
        OUTLINED_FUNCTION_44_15();
        if (!v281) {
          goto LABEL_272;
        }
        unint64_t v103 = v244;
      }
      swift_bridgeObjectRelease();
      sub_259843F00();
      if ((v107 & 1) == 0)
      {
        sub_25939FE3C(v103, v9, MEMORY[0x263F8EE78], v15);
        sub_2593A2D18((uint64_t)v9);
      }
      swift_bridgeObjectRelease();
      sub_25973F8E8();
      uint64_t v245 = *v422;
      swift_isUniquelyReferenced_nonNull_native();
      v471[0] = v245;
      sub_25939D1E0();
      OUTLINED_FUNCTION_204_7();
      if (v36) {
        goto LABEL_329;
      }
      uint64_t v248 = v246;
      char v249 = v247;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE50);
      char v250 = OUTLINED_FUNCTION_274_2();
      uint64_t v251 = v471[0];
      uint64_t v13 = (void (*)(void *@<X8>))v453;
      if (v250)
      {
        sub_25939D1E0();
        OUTLINED_FUNCTION_125();
        if (!v281) {
          goto LABEL_272;
        }
        uint64_t v248 = v252;
      }
      if (v249)
      {
        uint64_t v253 = *(void *)(v251 + 56);
        swift_bridgeObjectRelease();
        *(void *)(v253 + 8 * v248) = v452;
      }
      else
      {
        sub_25939FE3C(v248, v9, v452, v251);
        sub_2593A2D18((uint64_t)v9);
      }
      uint64_t v7 = v457;
      uint64_t *v422 = v251;
      swift_bridgeObjectRelease();
      sub_25945EA34((uint64_t)v9);
      uint64_t v20 = sub_2593939F0;
      uint64_t v4 = (void *)v455;
LABEL_250:
      unint64_t v19 = v454 + 1;
    }
    while (v454 + 1 != v447);
    uint64_t v3 = v20;
    sub_25945EAC4(v419);
    swift_bridgeObjectRelease();
    sub_25945EAC4(v441);
    sub_25945EA34((uint64_t)v9);
LABEL_270:
    uint64_t v14 = v425 + 1;
  }
  while (v425 + 1 != v418);
  swift_bridgeObjectRelease();
  uint64_t v378 = MEMORY[0x263F8EE78];
  v379 = v431;
  v380 = v423;
  v381 = v411;
  v382 = v433;
  uint64_t v383 = (void *)v434;
LABEL_276:
  v2[111] = v1;
  v2[110] = v3;
  v2[109] = v4;
  v2[108] = v7;
  v2[107] = v381;
  v2[106] = v380;
  v2[105] = v382;
  v2[104] = v13;
  v2[103] = v379;
  v2[102] = v15;
  v2[101] = v383;
  if (!v15[2])
  {
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v414);
    sub_259843F00();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v397 = v2[111];
    uint64_t v444 = v2[109];
    uint64_t v446 = v2[110];
    uint64_t v398 = v2;
    uint64_t v442 = v2[108];
    uint64_t v399 = v2[105];
    uint64_t v400 = v398[104];
    uint64_t v401 = v398[103];
    uint64_t v402 = v398[100];
    uint64_t v449 = v397;
    __swift_project_boxed_opaque_existential_1((void *)v398[58], *(void *)(v398[58] + 24));
    OUTLINED_FUNCTION_56_4();
    OUTLINED_FUNCTION_41_0();
    v406(v403, v404, v405);
    sub_2596A61D8(v402, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    sub_2593980F8(v401);
    sub_2593980F8(v400);
    OUTLINED_FUNCTION_52_18(v399);
    sub_2593980F8(v442);
    sub_2593980F8(v444);
    sub_2593980F8(v446);
    sub_2593980F8(v449);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_61();
    OUTLINED_FUNCTION_100();
    __asm { BRAA            X2, X16 }
  }
  v471[0] = v378;
  sub_2597EFE50(v2 + 18, v15);
  uint64_t v385 = v2[19];
  uint64_t v386 = v2[21];
  uint64_t v387 = v2[22];
  int64_t v388 = (unint64_t)(v2[20] + 64) >> 6;
  swift_bridgeObjectRetain_n();
  if (!v387) {
    goto LABEL_279;
  }
LABEL_278:
  v387 &= v387 - 1;
  while (1)
  {
    sub_259843F00();
    sub_25973F8E8();
    if (v387) {
      goto LABEL_278;
    }
LABEL_279:
    int64_t v389 = v386 + 1;
    if (__OFADD__(v386, 1)) {
      goto LABEL_313;
    }
    if (v389 >= v388) {
      goto LABEL_299;
    }
    if (!*(void *)(v385 + 8 * v389))
    {
      if (v386 + 2 >= v388) {
        goto LABEL_299;
      }
      if (!*(void *)(v385 + 8 * (v386 + 2)))
      {
        if (v386 + 3 >= v388) {
          goto LABEL_299;
        }
        if (!*(void *)(v385 + 8 * (v386 + 3)))
        {
          if (v386 + 4 >= v388) {
            goto LABEL_299;
          }
          if (!*(void *)(v385 + 8 * (v386 + 4)))
          {
            if (v386 + 5 >= v388) {
              goto LABEL_299;
            }
            if (!*(void *)(v385 + 8 * (v386 + 5)))
            {
              if (v386 + 6 >= v388) {
                goto LABEL_299;
              }
              if (!*(void *)(v385 + 8 * (v386 + 6))) {
                break;
              }
            }
          }
        }
      }
    }
LABEL_290:
    OUTLINED_FUNCTION_162_5();
    uint64_t v387 = v391 & v390;
    uint64_t v386 = v392;
  }
  int64_t v393 = v386 + 7;
  while (v393 < v388)
  {
    if (*(void *)(v385 + 8 * v393++)) {
      goto LABEL_290;
    }
  }
LABEL_299:
  swift_release();
  swift_bridgeObjectRelease();
  v2[112] = v471[0];
  *((unsigned char *)v2 + 929) = 0;
  sub_25968EBCC((uint64_t)(v2 + 13));
  uint64_t v395 = (void *)swift_task_alloc();
  v2[113] = v395;
  *uint64_t v395 = v2;
  v395[1] = sub_25968D3BC;
  OUTLINED_FUNCTION_3_26();
  OUTLINED_FUNCTION_100();
  sub_25968EC68();
}

uint64_t sub_25968D3BC()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_3();
  void *v8 = v7;
  *(void *)(v5 + 912) = v0;
  swift_task_dealloc();
  if (v0) {
    swift_bridgeObjectRelease();
  }
  else {
    *(void *)(v5 + 920) = v3;
  }
  sub_25938D0FC(v5 + 104, &qword_26A38C870);
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_25968D4EC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50)
{
  OUTLINED_FUNCTION_208();
  a49 = v51;
  a50 = v52;
  OUTLINED_FUNCTION_281_1();
  a48 = v50;
  uint64_t v54 = *(void *)(v50 + 472);
  uint64_t v53 = *(void *)(v50 + 480);
  uint64_t v55 = swift_task_alloc();
  *(void *)(v55 + 16) = v53;
  *(void *)(v55 + 24) = v54;
  uint64_t v56 = MEMORY[0x263F8EE80];
  OUTLINED_FUNCTION_269_2(MEMORY[0x263F8EE80], (void (*)(uint64_t *, void *))sub_2596A6520);
  uint64_t v58 = v57;
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  a37 = v56;
  uint64_t v59 = sub_259843F00();
  sub_2596A5890(v59, v50 + 408);
  swift_bridgeObjectRelease();
  uint64_t v60 = OUTLINED_FUNCTION_170_3();
  sub_25968F990(v60, v61, v62);
  swift_release();
  if (*(void *)(*(void *)(v50 + 408) + 16))
  {
    uint64_t v63 = *(void *)(v50 + 480);
    uint64_t v64 = *(void *)(v50 + 456);
    uint64_t v65 = (void *)swift_task_alloc();
    v65[2] = v50 + 408;
    v65[3] = v63;
    v65[4] = v58;
    uint64_t v66 = sub_25950E0A8((void (*)(void *__return_ptr, void *))sub_2596A6568, (uint64_t)v65, v64);
    swift_bridgeObjectRelease();
    swift_task_dealloc();
  }
  else
  {
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v66 = *(void *)(v50 + 456);
  }
  uint64_t v67 = *(void *)(v50 + 808);
  sub_259843F00();
  sub_259690960(&a37, v67);
  swift_bridgeObjectRelease();
  uint64_t v109 = sub_259688650(v66, &a37);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v50 + 184);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v83 = *(void *)(v50 + 872);
  uint64_t v84 = *(void *)(v50 + 880);
  uint64_t v82 = *(void *)(v50 + 864);
  uint64_t v68 = *(void *)(v50 + 840);
  uint64_t v69 = *(void *)(v50 + 832);
  uint64_t v70 = *(void *)(v50 + 824);
  uint64_t v71 = *(void *)(v50 + 800);
  uint64_t v85 = *(void *)(v50 + 792);
  uint64_t v86 = *(void *)(v50 + 888);
  uint64_t v87 = *(void *)(v50 + 776);
  uint64_t v88 = *(void *)(v50 + 760);
  uint64_t v89 = *(void *)(v50 + 752);
  uint64_t v90 = *(void *)(v50 + 744);
  uint64_t v91 = *(void *)(v50 + 736);
  uint64_t v92 = *(void *)(v50 + 728);
  uint64_t v93 = *(void *)(v50 + 720);
  uint64_t v94 = *(void *)(v50 + 696);
  uint64_t v95 = *(void *)(v50 + 672);
  uint64_t v96 = *(void *)(v50 + 648);
  uint64_t v97 = *(void *)(v50 + 640);
  uint64_t v98 = *(void *)(v50 + 632);
  uint64_t v99 = *(void *)(v50 + 624);
  uint64_t v100 = *(void *)(v50 + 616);
  uint64_t v101 = *(void *)(v50 + 592);
  uint64_t v102 = *(void *)(v50 + 584);
  uint64_t v103 = *(void *)(v50 + 560);
  uint64_t v104 = *(void *)(v50 + 552);
  uint64_t v105 = *(void *)(v50 + 544);
  uint64_t v106 = *(void *)(v50 + 536);
  uint64_t v107 = *(void *)(v50 + 512);
  uint64_t v108 = *(void *)(v50 + 504);
  __swift_project_boxed_opaque_existential_1(*(void **)(v50 + 464), *(void *)(*(void *)(v50 + 464) + 24));
  OUTLINED_FUNCTION_41_0();
  v72();
  sub_2596A61D8(v71, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  sub_2593980F8(v70);
  sub_2593980F8(v69);
  OUTLINED_FUNCTION_52_18(v68);
  sub_2593980F8(v82);
  sub_2593980F8(v83);
  sub_2593980F8(v84);
  sub_2593980F8(v86);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_285_1();
  OUTLINED_FUNCTION_66();
  return v75(v73, v74, v75, v76, v77, v78, v79, v80, v82, v83, v84, v85, v86, v87, v88, v89, v90, v91, v92,
           v93,
           v94,
           v95,
           v96,
           v97,
           v98,
           v99,
           v100,
           v101,
           v102,
           v103,
           v104,
           v105,
           v106,
           v107,
           v108,
           v109,
           a37,
           a38,
           a39,
           a40,
           a41,
           a42);
}

uint64_t sub_25968D8E0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42)
{
  OUTLINED_FUNCTION_208();
  OUTLINED_FUNCTION_281_1();
  uint64_t v60 = v42[109];
  uint64_t v61 = v42[110];
  uint64_t v58 = v42[107];
  uint64_t v59 = v42[108];
  uint64_t v43 = v42[104];
  uint64_t v44 = v42[103];
  uint64_t v45 = v42[100];
  uint64_t v62 = v42[99];
  uint64_t v63 = v42[111];
  uint64_t v64 = v42[97];
  uint64_t v65 = v42[95];
  uint64_t v66 = v42[94];
  uint64_t v67 = v42[93];
  uint64_t v68 = v42[92];
  uint64_t v69 = v42[91];
  uint64_t v70 = v42[90];
  uint64_t v71 = v42[87];
  uint64_t v72 = v42[84];
  uint64_t v73 = v42[81];
  uint64_t v74 = v42[80];
  uint64_t v75 = v42[79];
  uint64_t v76 = v42[78];
  uint64_t v77 = v42[77];
  uint64_t v78 = v42[74];
  uint64_t v79 = v42[73];
  uint64_t v80 = v42[70];
  uint64_t v81 = v42[69];
  uint64_t v82 = v42[68];
  uint64_t v83 = v42[67];
  uint64_t v84 = v42[64];
  uint64_t v85 = v42[63];
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v42 + 23));
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  char v46 = (void *)OUTLINED_FUNCTION_86_0();
  __swift_project_boxed_opaque_existential_1(v46, v47);
  OUTLINED_FUNCTION_3_8();
  OUTLINED_FUNCTION_41_0();
  v48();
  sub_2596A61D8(v45, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  sub_2593980F8(v44);
  OUTLINED_FUNCTION_52_18(v43);
  sub_2593980F8(v58);
  sub_2593980F8(v59);
  sub_2593980F8(v60);
  sub_2593980F8(v61);
  sub_2593980F8(v63);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  OUTLINED_FUNCTION_66();
  return v50(v49, v50, v51, v52, v53, v54, v55, v56, a9, a10, v58, v59, v60, v61, v62, v63, v64, v65, v66,
           v67,
           v68,
           v69,
           v70,
           v71,
           v72,
           v73,
           v74,
           v75,
           v76,
           v77,
           v78,
           v79,
           v80,
           v81,
           v82,
           v83,
           v84,
           v85,
           a39,
           a40,
           a41,
           a42);
}

void sub_25968DB70(void *a1@<X8>)
{
  *a1 = 32;
  a1[1] = 0xE100000000000000;
}

__n128 sub_25968DB80@<Q0>(__n128 *a1@<X8>)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B558);
  sub_259843390();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  __n128 result = v3;
  *a1 = v3;
  a1[1].n128_u64[0] = v4;
  a1[1].n128_u64[1] = v5;
  return result;
}

uint64_t sub_25968DBF8@<X0>(uint64_t a1@<X1>, uint64_t a2@<X2>, void *a3@<X8>)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A389500);
  uint64_t v5 = sub_259842800();
  uint64_t v6 = *(void *)(v5 - 8);
  uint64_t v7 = *(void *)(v6 + 72);
  unint64_t v8 = (*(unsigned __int8 *)(v6 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_259876910;
  unint64_t v10 = v9 + v8;
  uint64_t v11 = *(void (**)(unint64_t, uint64_t, uint64_t))(v6 + 16);
  v11(v10, a1, v5);
  v11(v10 + v7, a2, v5);
  id v12 = static StoryGenerationUtilities.dateAttributedQueryString(with:localizedText:)(v9);
  swift_setDeallocating();
  uint64_t result = sub_259745F44();
  *a3 = v12;
  return result;
}

void static QueryGenerator.generateLocationAttributedStringCombinations(with:assetUUIDs:)()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v96 = v1;
  unint64_t v3 = v2;
  uint64_t v5 = v4;
  *(void *)&long long v105 = sub_259842380();
  OUTLINED_FUNCTION_87();
  uint64_t v95 = v6;
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_233();
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B5E8);
  OUTLINED_FUNCTION_87();
  uint64_t v10 = v9;
  MEMORY[0x270FA5388](v11);
  OUTLINED_FUNCTION_142_7();
  MEMORY[0x270FA5388](v12);
  uint64_t v14 = (char *)&v93 - v13;
  OUTLINED_FUNCTION_201_5(0x2A735C7C2B735C2FLL, 0xED00002F2A735C2CLL);
  OUTLINED_FUNCTION_201_5(0x2A735C2C2A735C2FLL, 0xE90000000000002FLL);
  uint64_t v104 = v5;
  uint64_t v108 = v5;
  unint64_t v109 = v3;
  unint64_t v103 = v3;
  unint64_t v15 = sub_2596A3A98();
  uint64_t v16 = sub_25936C308(&qword_26A38B608, &qword_26A38B5E8);
  uint64_t v102 = v15;
  uint64_t v101 = (uint64_t *)v16;
  uint64_t v17 = sub_259843FE0();
  uint64_t v18 = *(void *)(v17 + 16);
  if (v18)
  {
    uint64_t v97 = v14;
    uint64_t v98 = v0;
    uint64_t v99 = v10;
    uint64_t v100 = v8;
    uint64_t v108 = MEMORY[0x263F8EE78];
    sub_2594F08BC();
    uint64_t v19 = v108;
    uint64_t v20 = (uint64_t *)(v17 + 56);
    do
    {
      uint64_t v21 = *(v20 - 3);
      uint64_t v22 = *(v20 - 2);
      uint64_t v24 = *(v20 - 1);
      uint64_t v23 = *v20;
      sub_259843F00();
      uint64_t v0 = MEMORY[0x25A2DE9C0](v21, v22, v24, v23);
      uint64_t v10 = v25;
      swift_bridgeObjectRelease();
      uint64_t v108 = v19;
      unint64_t v26 = *(void *)(v19 + 16);
      if (v26 >= *(void *)(v19 + 24) >> 1)
      {
        OUTLINED_FUNCTION_178_7();
        uint64_t v19 = v108;
      }
      *(void *)(v19 + 16) = v26 + 1;
      uint64_t v27 = v19 + 16 * v26;
      *(void *)(v27 + 32) = v0;
      *(void *)(v27 + 40) = v10;
      v20 += 4;
      --v18;
    }
    while (v18);
    swift_bridgeObjectRelease();
    uint64_t v8 = v100;
    OUTLINED_FUNCTION_173_7();
    uint64_t v14 = *(char **)(v28 - 256);
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v19 = MEMORY[0x263F8EE78];
  }
  unint64_t v29 = *(void *)(v19 + 16);
  unint64_t v30 = v103;
  if (v29 <= 1)
  {
    swift_bridgeObjectRelease();
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
    uint64_t inited = swift_initStackObject();
    long long v105 = xmmword_259876920;
    *(_OWORD *)(inited + 16) = xmmword_259876920;
    *(void *)(inited + 32) = v104;
    *(void *)(inited + 40) = v30;
    sub_259843F00();
    uint64_t v35 = OUTLINED_FUNCTION_3_26();
    uint64_t v37 = sub_25968E8C4(v35, v36, inited, v96, 0);
    swift_setDeallocating();
    sub_259745E64();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD68);
    uint64_t v38 = OUTLINED_FUNCTION_82_0();
    *(_OWORD *)(v38 + 16) = v105;
    *(void *)(v38 + 32) = v37;
    goto LABEL_12;
  }
  if (v29 > 0xA)
  {
    swift_bridgeObjectRelease();
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    sub_259843F00();
    id v31 = sub_2593AD3C8();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD68);
    uint64_t v32 = OUTLINED_FUNCTION_82_0();
    *(_OWORD *)(v32 + 16) = xmmword_259876920;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
    uint64_t v33 = OUTLINED_FUNCTION_82_0();
    *(_OWORD *)(v33 + 16) = xmmword_25987BF70;
    *(void *)(v33 + 32) = v31;
    uint64_t v108 = v33;
    sub_259844530();
    *(void *)(v32 + 32) = v108;
LABEL_12:
    char v39 = *(void (**)(void))(v10 + 8);
    OUTLINED_FUNCTION_95();
    v39();
    OUTLINED_FUNCTION_95();
    v39();
    goto LABEL_55;
  }
  uint64_t v94 = *(void *)(v19 + 16);
  uint64_t v98 = v0;
  uint64_t v99 = v10;
  uint64_t v111 = 0;
  uint64_t v108 = v104;
  unint64_t v109 = v103;
  uint64_t v97 = v14;
  uint64_t v100 = v8;
  uint64_t v102 = sub_259843FF0();
  uint64_t v40 = *(void *)(v102 + 16);
  if (v40)
  {
    uint64_t v41 = v102 + 40;
    do
    {
      uint64_t v42 = sub_259844330();
      uint64_t v43 = MEMORY[0x25A2DE9C0](v42);
      unint64_t v45 = v44;
      swift_bridgeObjectRelease();
      uint64_t v108 = v43;
      unint64_t v109 = v45;
      sub_259842330();
      sub_259399328();
      OUTLINED_FUNCTION_267_3();
      uint64_t v46 = sub_259844E60();
      uint64_t v48 = v47;
      OUTLINED_FUNCTION_47_0();
      v49();
      swift_bridgeObjectRelease();
      uint64_t v50 = 2 * v111;
      v111 *= 2;
      if (v46 == 44 && v48 == 0xE100000000000000)
      {
        swift_bridgeObjectRelease();
      }
      else
      {
        char v52 = sub_259845750();
        swift_bridgeObjectRelease();
        if ((v52 & 1) == 0) {
          goto LABEL_23;
        }
      }
      uint64_t v111 = v50 | 1;
LABEL_23:
      v41 += 16;
      --v40;
      unint64_t v30 = v103;
    }
    while (v40);
  }
  swift_bridgeObjectRelease();
  unint64_t v110 = MEMORY[0x263F8EE78];
  LOBYTE(v53) = v94 - 1;
  uint64_t v54 = 1;
  uint64_t v55 = (v94 + 62);
  if (qword_26A388C58 != -1) {
LABEL_58:
  }
    swift_once();
  unint64_t v56 = v54 << (char)v53;
  uint64_t v57 = sub_259843A80();
  uint64_t v58 = __swift_project_value_buffer(v57, (uint64_t)qword_26A3D2070);
  uint64_t v59 = v111;
  OUTLINED_FUNCTION_82_14();
  uint64_t v95 = v58;
  uint64_t v53 = sub_259843A50();
  LOBYTE(isa) = sub_259844B70();
  if (os_log_type_enabled(v53, (os_log_type_t)isa))
  {
    uint64_t v61 = OUTLINED_FUNCTION_20();
    uint64_t v108 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v61 = 136315650;
    sub_259843F00();
    v107[0] = sub_259356D5C(v104, v30, &v108);
    *(void *)&long long v105 = v55;
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v61 + 12) = 2048;
    v107[0] = v59;
    sub_259844E10();
    *(_WORD *)(v61 + 22) = 2048;
    v107[0] = v56;
    LOBYTE(v55) = v105;
    sub_259844E10();
    _os_log_impl(&dword_25934C000, v53, (os_log_type_t)isa, "CommaBitmask value for \"%s\" = %ld with maxNumber = %ld", (uint8_t *)v61, 0x20u);
    swift_arrayDestroy();
    uint64_t v54 = 1;
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_77();
  }
  uint64_t v55 = v54 << v55;
  OUTLINED_FUNCTION_28();
  unint64_t v30 = 0;
  uint64_t v101 = (uint64_t *)(v19 + 40);
  uint64_t v102 = v56;
  do
  {
    if (v30 >= v56)
    {
      __break(1u);
LABEL_57:
      __break(1u);
      goto LABEL_58;
    }
    unint64_t v62 = v30 + 1;
    if (__OFADD__(v30, 1)) {
      goto LABEL_57;
    }
    if ((v111 & ~v30) == 0)
    {
      *(void *)&long long v105 = v30 + 1;
      uint64_t v63 = *(void *)(v19 + 16);
      if (v63)
      {
        sub_259843F00();
        uint64_t v64 = v101;
        uint64_t v65 = MEMORY[0x263F8EE78];
        do
        {
          uint64_t v67 = *(v64 - 1);
          uint64_t v66 = *v64;
          sub_259843F00();
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_4_61();
            uint64_t v65 = v72;
          }
          unint64_t v68 = *(void *)(v65 + 16);
          unint64_t v69 = v68 + 1;
          if (v68 >= *(void *)(v65 + 24) >> 1)
          {
            OUTLINED_FUNCTION_7_30();
            uint64_t v65 = v73;
          }
          *(void *)(v65 + 16) = v69;
          uint64_t v70 = v65 + 16 * v68;
          *(void *)(v70 + 32) = v67;
          *(void *)(v70 + 40) = v66;
          if ((v30 & v55) != 0)
          {
            if (v69 >= *(void *)(v65 + 24) >> 1)
            {
              OUTLINED_FUNCTION_7_30();
              uint64_t v65 = v74;
            }
            *(void *)(v65 + 16) = v68 + 2;
            uint64_t v71 = v65 + 16 * v69;
            *(void *)(v71 + 32) = 44;
            *(void *)(v71 + 40) = 0xE100000000000000;
          }
          v64 += 2;
          v30 *= 2;
          --v63;
        }
        while (v63);
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v65 = MEMORY[0x263F8EE78];
      }
      v107[0] = v65;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      sub_25936C308(&qword_26A38A280, &qword_26B3001D0);
      uint64_t v75 = sub_259844020();
      uint64_t v54 = v76;
      swift_bridgeObjectRelease();
      uint64_t v53 = v110;
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      unint64_t v56 = v102;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        OUTLINED_FUNCTION_4_61();
        uint64_t v53 = v79;
      }
      unint64_t isa = (unint64_t)v53[2].isa;
      if (isa >= (unint64_t)v53[3].isa >> 1)
      {
        OUTLINED_FUNCTION_7_30();
        uint64_t v53 = v80;
      }
      v53[2].unint64_t isa = (Class)(isa + 1);
      uint64_t v78 = &v53[2 * isa];
      v78[4].unint64_t isa = (Class)v75;
      v78[5].unint64_t isa = (Class)v54;
      unint64_t v110 = v53;
      unint64_t v62 = v105;
    }
    unint64_t v30 = v62;
  }
  while (v62 != v56);
  swift_bridgeObjectRelease();
  unint64_t v81 = v103;
  swift_bridgeObjectRetain_n();
  uint64_t v82 = sub_259843A50();
  os_log_type_t v83 = sub_259844B70();
  if (OUTLINED_FUNCTION_52(v83))
  {
    uint64_t v84 = OUTLINED_FUNCTION_20();
    v107[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v84 = 134218498;
    OUTLINED_FUNCTION_28();
    unint64_t v56 = (unint64_t)v110;
    uint64_t v106 = (uint64_t)v110[2].isa;
    OUTLINED_FUNCTION_158_8();
    *(_WORD *)(v84 + 12) = 2080;
    sub_259843F00();
    uint64_t v106 = sub_259356D5C(v104, v81, v107);
    OUTLINED_FUNCTION_158_8();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v84 + 22) = 2080;
    uint64_t v55 = v84 + 24;
    uint64_t v85 = sub_259843F00();
    uint64_t v86 = MEMORY[0x25A2DED80](v85, MEMORY[0x263F8D310]);
    unint64_t v88 = v87;
    swift_bridgeObjectRelease();
    uint64_t v106 = sub_259356D5C(v86, v88, v107);
    OUTLINED_FUNCTION_158_8();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v82, (os_log_type_t)isa, "There are %ld for \"%s\" substring combinations = %s", (uint8_t *)v84, 0x20u);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_67_0();
  }
  OUTLINED_FUNCTION_173_7();
  uint64_t v89 = v96;
  uint64_t v90 = OUTLINED_FUNCTION_28();
  uint64_t v91 = (uint64_t)v110;
  MEMORY[0x270FA5388](v90);
  *(&v93 - 2) = v56;
  *(&v93 - 1) = v89;
  sub_259843F00();
  sub_25950E590((void (*)(uint64_t *__return_ptr, void *))sub_2596A3AE4, (uint64_t)(&v93 - 4), v91);
  OUTLINED_FUNCTION_246();
  uint64_t v92 = *(void (**)(void))(v55 + 8);
  OUTLINED_FUNCTION_95();
  v92();
  OUTLINED_FUNCTION_170_3();
  OUTLINED_FUNCTION_95();
  v92();
  swift_bridgeObjectRelease();
LABEL_55:
  OUTLINED_FUNCTION_13_1();
}

uint64_t sub_25968E8C4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, char a5)
{
  if (*(void *)(a4 + 16))
  {
    id v5 = static StoryGenerationUtilities.locationAttributedString(with:localizedText:)();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
    uint64_t v6 = swift_allocObject();
    *(_OWORD *)(v6 + 16) = xmmword_25987BF70;
    *(void *)(v6 + 32) = v5;
    uint64_t v27 = v6;
    sub_259844530();
  }
  else
  {
    uint64_t v8 = *(void *)(a3 + 16);
    uint64_t result = MEMORY[0x263F8EE78];
    if (!v8) {
      return result;
    }
    uint64_t v27 = MEMORY[0x263F8EE78];
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    id v26 = self;
    sub_259843F00();
    uint64_t v11 = (uint64_t *)(a3 + 40);
    do
    {
      uint64_t v13 = *(v11 - 1);
      uint64_t v12 = *v11;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
      uint64_t v14 = swift_allocObject();
      *(_OWORD *)(v14 + 16) = xmmword_25987BF60;
      swift_bridgeObjectRetain_n();
      id v15 = sub_2593AD3C8();
      id v16 = objc_msgSend(v15, sel_length);
      id v17 = objc_allocWithZone(MEMORY[0x263F14F38]);
      sub_259843F00();
      id v18 = sub_25953BC80();
      id v19 = objc_msgSend(v26, sel_updateQueryString_withSelectedSuggestion_inRange_additionalAttributes_, v15, v18, 0, v16, 0);

      *(void *)(v14 + 32) = v19;
      id v20 = objc_allocWithZone(MEMORY[0x263F5D920]);
      sub_259843F00();
      id v21 = sub_25953BD24(v13, v12, 0, 0, 1700);
      uint64_t v22 = swift_allocObject();
      *(_OWORD *)(v22 + 16) = xmmword_25987BF70;
      *(void *)(v22 + 32) = v21;
      sub_259844530();
      id v23 = v21;
      static StoryGenerationUtilities.genericLocationAttributedString(with:allowedIndexCategories:localizedText:)();
      uint64_t v25 = v24;
      swift_bridgeObjectRelease();

      *(void *)(v14 + 40) = v25;
      sub_259844530();
      if (a5)
      {
        static StoryGenerationUtilities.landmarkAttributedString(with:)();
        MEMORY[0x25A2DED30]();
        if (*(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v14 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          sub_259844560();
        }
        sub_2598445B0();
        sub_259844530();
      }
      v11 += 2;
      sub_25973F8E8();
      swift_bridgeObjectRelease();
      --v8;
    }
    while (v8);
    swift_bridgeObjectRelease();
  }
  return v27;
}

void sub_25968EBCC(uint64_t a1@<X8>)
{
  *(void *)(a1 + 24) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
  *(void *)(a1 + 32) = &off_27074B900;
  id v2 = objc_msgSend(self, sel_currentUnifiedEmbeddingVersion);
  unint64_t v3 = v2;
  if (v2)
  {
    id v4 = objc_msgSend(v2, sel_integerValue);
  }
  else
  {
    id v4 = 0;
  }
  *(unsigned char *)a1 = 4;
  *(void *)(a1 + 8) = v4;
  *(unsigned char *)(a1 + 16) = v3 == 0;
}

uint64_t sub_25968EC68()
{
  OUTLINED_FUNCTION_14();
  unint64_t v3 = v2;
  *(void *)(v1 + 240) = v4;
  *(void *)(v1 + 248) = v0;
  *(void *)(v1 + 224) = v5;
  *(void *)(v1 + 232) = v6;
  *(void *)(v1 + 208) = v7;
  *(void *)(v1 + 216) = v8;
  *(void *)(v1 + 200) = v9;
  uint64_t v10 = sub_259843A80();
  *(void *)(v1 + 256) = v10;
  OUTLINED_FUNCTION_1(v10);
  *(void *)(v1 + 264) = v11;
  *(void *)(v1 + 272) = OUTLINED_FUNCTION_49_1();
  *(void *)(v1 + 280) = swift_task_alloc();
  uint64_t v12 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F218);
  *(void *)(v1 + 288) = v12;
  OUTLINED_FUNCTION_1(v12);
  *(void *)(v1 + 296) = v13;
  *(void *)(v1 + 304) = OUTLINED_FUNCTION_78();
  uint64_t v14 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F210);
  *(void *)(v1 + 312) = v14;
  OUTLINED_FUNCTION_1(v14);
  *(void *)(v1 + 320) = v15;
  *(void *)(v1 + 328) = OUTLINED_FUNCTION_78();
  uint64_t v16 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v16);
  *(void *)(v1 + 336) = OUTLINED_FUNCTION_78();
  *(unsigned char *)(v1 + 89) = *v3;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v17, v18, v19);
}

uint64_t sub_25968EDA0()
{
  uint64_t v35 = v0;
  uint64_t v1 = *(void *)(v0 + 240);
  unint64_t v2 = *(void *)(v0 + 200);
  OUTLINED_FUNCTION_61_15();
  OUTLINED_FUNCTION_13_5();
  v3();
  if (v2 >> 62)
  {
    sub_259843F00();
    uint64_t v4 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v4 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  if (v4 < 1)
  {
    uint64_t v16 = OUTLINED_FUNCTION_11_53();
    v17(v16);
    uint64_t v18 = (void *)sub_259843A50();
    os_log_type_t v19 = sub_259844B50();
    if (OUTLINED_FUNCTION_52(v19))
    {
      id v20 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_3_0(v20);
      OUTLINED_FUNCTION_211();
      OUTLINED_FUNCTION_227_4(v21, v22, v23, v24);
      OUTLINED_FUNCTION_61_0();
    }
    uint64_t v25 = *(void **)(v0 + 240);

    OUTLINED_FUNCTION_64();
    v26();
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38ED38);
    sub_259683150();
    sub_259843EE0();
    __swift_project_boxed_opaque_existential_1(v25, *(void *)(v1 + 24));
    OUTLINED_FUNCTION_41_0();
    v27();
    sub_2596A61D8(*(void *)(v0 + 336), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_83();
    __asm { BRAA            X2, X16 }
  }
  char v5 = *(unsigned char *)(v0 + 89);
  uint64_t v6 = *(void *)(v0 + 232);
  uint64_t v33 = *(void *)(v0 + 240);
  uint64_t v8 = *(void *)(v0 + 216);
  uint64_t v7 = *(void *)(v0 + 224);
  uint64_t v9 = *(void *)(v0 + 208);
  uint64_t v31 = *(void *)(v0 + 248);
  uint64_t v32 = *(void *)(v0 + 200);
  id v10 = objc_msgSend(self, sel_userQueryEmbeddingSearchRetrievalLimit);
  char v34 = v5;
  sub_2596A64C8(v6, v0 + 96, &qword_26A38C870);
  sub_259843F00();
  FreeformStoryFetching.Options.init(assetsFetcherType:searchQueryResultTypes:searchResultType:scopedAssetUUIDs:maxSearchResults:maxRankedAssetSearchResults:enableQueryUnderstanding:fastRanking:disableSafetyCheck:embeddingRelevanceThreshold:embeddingGenerationTimeout:thresholdingModel:embeddingSearchLimit:embeddingSearchFullScan:)(&v34, v9, v8, v7, 0, 1, 0, 0, v0 + 16, 0, 0.0, 1, 700, 0, v0 + 96, (uint64_t)v10, 0);
  uint64_t v11 = (void *)(v31 + *(int *)(type metadata accessor for QueryGenerator(0) + 20));
  uint64_t v12 = v11[4];
  uint64_t v13 = v11[5];
  __swift_project_boxed_opaque_existential_1(v11 + 1, v12);
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(v13 + 24))(v32, v0 + 16, v33, v12, v13);
  sub_259844770();
  *(void *)(v0 + 344) = MEMORY[0x263F8EE80];
  uint64_t v14 = (void *)swift_task_alloc();
  *(void *)(v0 + 352) = v14;
  void *v14 = v0;
  v14[1] = sub_25968F174;
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_83();
  return MEMORY[0x270FA1F68]();
}

uint64_t sub_25968F174()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  uint64_t v1 = *v0;
  OUTLINED_FUNCTION_3();
  void *v2 = v1;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v3, v4, v5);
}

uint64_t sub_25968F23C()
{
  uint64_t v2 = v0 + 136;
  unint64_t v1 = *(void *)(v0 + 136);
  int v3 = *(unsigned __int8 *)(v0 + 160);
  if (v3 == 255)
  {
    uint64_t v15 = *(void **)(v0 + 240);
    (*(void (**)(void, void))(*(void *)(v0 + 296) + 8))(*(void *)(v0 + 304), *(void *)(v0 + 288));
    uint64_t v16 = OUTLINED_FUNCTION_56_4();
    v17(v16);
    sub_2594C761C(v0 + 16);
    __swift_project_boxed_opaque_existential_1(v15, v15[3]);
    OUTLINED_FUNCTION_41_0();
    v18();
    sub_2596A61D8(*(void *)(v0 + 336), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_6_35();
    OUTLINED_FUNCTION_205();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v5 = *(void **)(v0 + 144);
  uint64_t v4 = *(void *)(v0 + 152);
  id v81 = v5;
  if (v3)
  {
    uint64_t v21 = OUTLINED_FUNCTION_11_53();
    v22(v21);
    os_log_type_t v23 = (id)v1;
    id v24 = v5;
    uint64_t v25 = v23;
    id v26 = v5;
    uint64_t v27 = v25;
    id v28 = v5;
    uint64_t v29 = sub_259843A50();
    os_log_type_t v30 = sub_259844B50();
    if (os_log_type_enabled((os_log_t)v29, v30))
    {
      int v31 = *(unsigned __int8 *)(v0 + 89);
      uint64_t v32 = OUTLINED_FUNCTION_20();
      uint64_t v80 = (void *)swift_slowAlloc();
      *(void *)(v0 + 176) = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v32 = 136315651;
      unint64_t v33 = 0xE900000000000067;
      uint64_t v34 = 0x6E69646465626D65;
      if (v31 != 1)
      {
        uint64_t v34 = 0x6574656C706D6F63;
        unint64_t v33 = 0xE800000000000000;
      }
      if (v31) {
        uint64_t v35 = v34;
      }
      else {
        uint64_t v35 = 0x617461646174656DLL;
      }
      if (v31) {
        unint64_t v36 = v33;
      }
      else {
        unint64_t v36 = 0xE800000000000000;
      }
      uint64_t v79 = *(void *)(v0 + 264);
      *(void *)(v32 + 4) = sub_259356D5C(v35, v36, (uint64_t *)(v0 + 176));
      swift_bridgeObjectRelease();
      *(_WORD *)(v32 + 12) = 2085;
      id v37 = objc_msgSend(v27, sel_string, v79);
      uint64_t v38 = sub_2598440A0();
      unint64_t v40 = v39;

      *(void *)(v32 + 14) = sub_259356D5C(v38, v40, (uint64_t *)(v0 + 176));
      swift_bridgeObjectRelease();

      *(_WORD *)(v32 + 22) = 2112;
      uint64_t v5 = v81;
      id v41 = v81;
      uint64_t v42 = _swift_stdlib_bridgeErrorToNSError();
      *(void *)(v32 + 24) = v42;
      *uint64_t v80 = v42;

      _os_log_impl(&dword_25934C000, (os_log_t)v29, v30, "During %s batch search, query '%{sensitive}s' returned error %@", (uint8_t *)v32, 0x20u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();

      OUTLINED_FUNCTION_11();
      v43();
    }
    else
    {
      unint64_t v44 = (void *)v29;
      uint64_t v45 = *(void *)(v0 + 264);

      uint64_t v29 = v45 + 8;
      uint64_t v46 = OUTLINED_FUNCTION_90_5();
      v47(v46);
    }
    uint64_t v48 = *(void *)(v0 + 344);
    uint64_t v49 = v27;
    id v50 = v5;
    swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v0 + 168) = v48;
    sub_25939D5A0();
    OUTLINED_FUNCTION_0();
    if (!v53)
    {
      unint64_t v54 = v51;
      char v55 = v52;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC8);
      if (OUTLINED_FUNCTION_272_2())
      {
        sub_25939D5A0();
        OUTLINED_FUNCTION_85_12();
        if (!v57) {
          goto LABEL_34;
        }
        unint64_t v54 = v56;
      }
      uint64_t v58 = *(void **)(v0 + 168);
      if (v55)
      {
        OUTLINED_FUNCTION_257_3();
        uint64_t v59 = v81;
        *(void *)uint64_t v29 = v81;
        *(unsigned char *)(v29 + 8) = 1;
      }
      else
      {
        v58[(v54 >> 6) + 8] |= 1 << v54;
        *(void *)(v58[6] + 8 * v54) = v49;
        uint64_t v70 = v58[7] + 16 * v54;
        uint64_t v59 = v81;
        *(void *)uint64_t v70 = v81;
        *(unsigned char *)(v70 + 8) = 1;
        OUTLINED_FUNCTION_302();
        if (v53)
        {
LABEL_51:
          __break(1u);
          goto LABEL_52;
        }
        v58[2] = v71;
        uint64_t v72 = v49;
      }
      swift_bridgeObjectRelease();

      goto LABEL_46;
    }
    __break(1u);
LABEL_50:
    __break(1u);
    goto LABEL_51;
  }
  uint64_t v6 = *(void *)(v1 + 16);
  if (v6)
  {
    uint64_t v7 = (uint64_t *)(v0 + 184);
    sub_2596225E8((id)v1, v5, v4, v3);
    *(void *)(v0 + 184) = MEMORY[0x263F8EE78];
    id v8 = v5;
    sub_259843F00();
    sub_2594F08BC();
    uint64_t v9 = *(void *)(v0 + 184);
    id v10 = (uint64_t *)(v1 + 40);
    do
    {
      uint64_t v12 = *(v10 - 1);
      uint64_t v11 = *v10;
      uint64_t *v7 = v9;
      unint64_t v13 = *(void *)(v9 + 16);
      unint64_t v1 = *(void *)(v9 + 24);
      sub_259843F00();
      if (v13 >= v1 >> 1)
      {
        sub_2594F08BC();
        uint64_t v9 = *v7;
      }
      *(void *)(v9 + 16) = v13 + 1;
      uint64_t v14 = v9 + 16 * v13;
      *(void *)(v14 + 32) = v12;
      *(void *)(v14 + 40) = v11;
      v10 += 4;
      --v6;
    }
    while (v6);
    swift_bridgeObjectRelease();
    uint64_t v2 = v0 + 136;
    uint64_t v5 = v81;
  }
  else
  {
    sub_2596225E8((id)v1, v5, v4, v3);
    id v60 = v5;
    uint64_t v9 = MEMORY[0x263F8EE78];
  }
  uint64_t v61 = *(void *)(v0 + 344);
  id v62 = v5;
  swift_isUniquelyReferenced_nonNull_native();
  *(void *)(v0 + 192) = v61;
  sub_25939D5A0();
  OUTLINED_FUNCTION_0();
  if (v53) {
    goto LABEL_50;
  }
  unint64_t v65 = v63;
  char v66 = v64;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC8);
  if ((OUTLINED_FUNCTION_272_2() & 1) == 0)
  {
LABEL_41:
    uint64_t v58 = *(void **)(v2 + 56);
    if (v66)
    {
      OUTLINED_FUNCTION_257_3();
      *(void *)unint64_t v1 = v9;
      *(unsigned char *)(v1 + 8) = 0;
LABEL_45:
      swift_bridgeObjectRelease();

      OUTLINED_FUNCTION_243_2();
LABEL_46:
      OUTLINED_FUNCTION_243_2();
      *(void *)(v0 + 344) = v58;
      uint64_t v77 = (void *)swift_task_alloc();
      *(void *)(v0 + 352) = v77;
      *uint64_t v77 = v0;
      v77[1] = sub_25968F174;
      OUTLINED_FUNCTION_13();
      OUTLINED_FUNCTION_205();
      return MEMORY[0x270FA1F68]();
    }
    OUTLINED_FUNCTION_21_14((uint64_t)&v58[v65 >> 6]);
    *(void *)(v73 + 8 * v65) = v62;
    uint64_t v74 = v58[7] + 16 * v65;
    *(void *)uint64_t v74 = v9;
    *(unsigned char *)(v74 + 8) = 0;
    OUTLINED_FUNCTION_302();
    if (!v53)
    {
      v58[2] = v75;
      id v76 = v62;
      goto LABEL_45;
    }
LABEL_52:
    __break(1u);
    return MEMORY[0x270FA1F68]();
  }
  sub_25939D5A0();
  OUTLINED_FUNCTION_85_12();
  if (v57)
  {
    unint64_t v65 = v67;
    goto LABEL_41;
  }
LABEL_34:
  sub_25935633C(0, (unint64_t *)&qword_26A389B20);
  OUTLINED_FUNCTION_205();
  return sub_2598457D0();
}

uint64_t sub_25968F990(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  uint64_t v85 = a1 + 64;
  uint64_t v3 = 1 << *(unsigned char *)(a1 + 32);
  uint64_t v4 = -1;
  if (v3 < 64) {
    uint64_t v4 = ~(-1 << v3);
  }
  unint64_t v5 = v4 & *(void *)(a1 + 64);
  int64_t v86 = (unint64_t)(v3 + 63) >> 6;
  sub_259843F00();
  int64_t v6 = 0;
  if (!v5) {
    goto LABEL_5;
  }
  while (2)
  {
    uint64_t v89 = (v5 - 1) & v5;
    int64_t v90 = v6;
    unint64_t v7 = __clz(__rbit64(v5)) | (v6 << 6);
LABEL_19:
    memcpy(__dst, (const void *)(*(void *)(a1 + 48) + 88 * v7), 0x58uLL);
    unint64_t v12 = *(void *)(*(void *)(a1 + 56) + 8 * v7);
    if (v12 >> 62)
    {
      swift_bridgeObjectRetain_n();
      sub_2593A2D18((uint64_t)__dst);
      uint64_t v13 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v13 = *(void *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10);
      swift_bridgeObjectRetain_n();
      sub_2593A2D18((uint64_t)__dst);
    }
    uint64_t v14 = a2;
    if (!v13)
    {
      uint64_t v91 = (void *)MEMORY[0x263F8EE80];
      goto LABEL_49;
    }
    uint64_t v15 = 0;
    uint64_t v91 = (void *)MEMORY[0x263F8EE80];
    do
    {
      uint64_t v16 = v15;
      while (1)
      {
        if ((v12 & 0xC000000000000001) != 0) {
          id v17 = (id)MEMORY[0x25A2DFA20](v16, v12);
        }
        else {
          id v17 = *(id *)(v12 + 8 * v16 + 32);
        }
        uint64_t v18 = v17;
        uint64_t v15 = v16 + 1;
        if (__OFADD__(v16, 1))
        {
          __break(1u);
LABEL_95:
          __break(1u);
LABEL_96:
          __break(1u);
          goto LABEL_97;
        }
        if (*(void *)(v14 + 16)) {
          break;
        }
LABEL_31:

        ++v16;
        if (v15 == v13) {
          goto LABEL_49;
        }
      }
      id v19 = v17;
      sub_25939D5A0();
      if ((v21 & 1) == 0)
      {

        uint64_t v14 = a2;
        goto LABEL_31;
      }
      uint64_t v96 = *(void *)(*(void *)(a2 + 56) + 8 * v20);
      sub_259843F00();

      id v22 = objc_msgSend(v19, sel_string);
      uint64_t v23 = sub_2598440A0();
      uint64_t v25 = v24;

      swift_isUniquelyReferenced_nonNull_native();
      uint64_t v98 = v91;
      uint64_t v93 = v25;
      unint64_t v26 = sub_25939CE90();
      if (__OFADD__(v91[2], (v27 & 1) == 0)) {
        goto LABEL_98;
      }
      unint64_t v28 = v26;
      char v29 = v27;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B08);
      if ((sub_259845350() & 1) == 0) {
        goto LABEL_37;
      }
      unint64_t v30 = sub_25939CE90();
      if ((v29 & 1) != (v31 & 1)) {
        goto LABEL_103;
      }
      unint64_t v28 = v30;
LABEL_37:
      uint64_t v32 = v98;
      swift_bridgeObjectRelease();
      unint64_t v33 = v32;
      if ((v29 & 1) == 0)
      {
        v32[(v28 >> 6) + 8] |= 1 << v28;
        uint64_t v34 = (uint64_t *)(v32[6] + 16 * v28);
        uint64_t *v34 = v23;
        v34[1] = v93;
        *(void *)(v32[7] + 8 * v28) = MEMORY[0x263F8EE88];
        uint64_t v35 = v32[2];
        uint64_t v36 = v35 + 1;
        BOOL v37 = __OFADD__(v35, 1);
        uint64_t v38 = v33;
        sub_259843F00();
        if (!v37)
        {
          v38[2] = v36;
          unint64_t v33 = v38;
          goto LABEL_43;
        }
LABEL_101:
        __break(1u);
LABEL_102:
        __break(1u);
        while (1)
        {
LABEL_103:
          sub_2598457D0();
          __break(1u);
        }
      }
LABEL_43:
      unint64_t v39 = v33;
      sub_259843F00();
      uint64_t v91 = v39;
      swift_bridgeObjectRelease();
      uint64_t v40 = *(void *)(v96 + 16);
      if (v40)
      {
        id v41 = (uint64_t *)(v96 + 40);
        do
        {
          uint64_t v42 = *(v41 - 1);
          uint64_t v43 = *v41;
          sub_259843F00();
          sub_2596D4E7C((uint64_t)&v98, v42, v43, v44, v45, v46, v47, v48, v85, v86);
          swift_bridgeObjectRelease();
          v41 += 2;
          --v40;
        }
        while (v40);
      }
      swift_bridgeObjectRelease();

      swift_bridgeObjectRelease();
      uint64_t v14 = a2;
    }
    while (v15 != v13);
LABEL_49:
    swift_bridgeObjectRelease_n();
    uint64_t v49 = *a3;
    if (!*(void *)(*a3 + 16)) {
      goto LABEL_80;
    }
    sub_2593A2D18((uint64_t)__dst);
    uint64_t v50 = sub_25939D1E0();
    if ((v51 & 1) == 0)
    {
      sub_25945EA34((uint64_t)__dst);
LABEL_80:
      swift_isUniquelyReferenced_nonNull_native();
      uint64_t v98 = (void *)*a3;
      uint64_t v72 = v98;
      *a3 = 0x8000000000000000;
      uint64_t v73 = sub_25939D1E0();
      if (!__OFADD__(v72[2], (v74 & 1) == 0))
      {
        unint64_t v75 = v73;
        char v76 = v74;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B10);
        if (sub_259845350())
        {
          uint64_t v77 = sub_25939D1E0();
          if ((v76 & 1) != (v78 & 1)) {
            goto LABEL_103;
          }
          unint64_t v75 = v77;
        }
        uint64_t v79 = v98;
        if (v76)
        {
          uint64_t v80 = v98[7];
          swift_bridgeObjectRelease();
          *(void *)(v80 + 8 * v75) = v91;
LABEL_88:
          *a3 = (uint64_t)v79;
          swift_bridgeObjectRelease();
          goto LABEL_90;
        }
        v98[(v75 >> 6) + 8] |= 1 << v75;
        memcpy((void *)(v79[6] + 88 * v75), __dst, 0x58uLL);
        *(void *)(v79[7] + 8 * v75) = v91;
        uint64_t v81 = v79[2];
        BOOL v82 = __OFADD__(v81, 1);
        uint64_t v83 = v81 + 1;
        if (!v82)
        {
          v79[2] = v83;
          sub_2593A2D18((uint64_t)__dst);
          goto LABEL_88;
        }
LABEL_100:
        __break(1u);
        goto LABEL_101;
      }
LABEL_97:
      __break(1u);
LABEL_98:
      __break(1u);
LABEL_99:
      __break(1u);
      goto LABEL_100;
    }
    uint64_t v52 = *(void *)(*(void *)(v49 + 56) + 8 * v50);
    sub_259843F00();
    sub_25945EA34((uint64_t)__dst);
    sub_2597EFE50(v99, v91);
    uint64_t v53 = v99[0];
    int64_t v97 = v99[3];
    unint64_t v54 = v99[4];
    uint64_t v92 = v99[1];
    int64_t v94 = (unint64_t)(v99[2] + 64) >> 6;
    sub_259843F00();
    if (v54)
    {
LABEL_52:
      unint64_t v55 = __clz(__rbit64(v54));
      v54 &= v54 - 1;
      unint64_t v56 = v55 | (v97 << 6);
      goto LABEL_71;
    }
    while (2)
    {
      int64_t v57 = v97 + 1;
      if (__OFADD__(v97, 1)) {
        goto LABEL_96;
      }
      if (v57 >= v94) {
        goto LABEL_89;
      }
      unint64_t v58 = *(void *)(v92 + 8 * v57);
      int64_t v59 = v97 + 1;
      if (v58) {
        goto LABEL_70;
      }
      int64_t v59 = v97 + 2;
      if (v97 + 2 >= v94) {
        goto LABEL_89;
      }
      unint64_t v58 = *(void *)(v92 + 8 * v59);
      if (v58) {
        goto LABEL_70;
      }
      int64_t v59 = v97 + 3;
      if (v97 + 3 >= v94) {
        goto LABEL_89;
      }
      unint64_t v58 = *(void *)(v92 + 8 * v59);
      if (v58) {
        goto LABEL_70;
      }
      int64_t v59 = v97 + 4;
      if (v97 + 4 >= v94) {
        goto LABEL_89;
      }
      unint64_t v58 = *(void *)(v92 + 8 * v59);
      if (v58) {
        goto LABEL_70;
      }
      int64_t v59 = v97 + 5;
      if (v97 + 5 >= v94) {
        goto LABEL_89;
      }
      unint64_t v58 = *(void *)(v92 + 8 * v59);
      if (v58)
      {
LABEL_70:
        unint64_t v54 = (v58 - 1) & v58;
        unint64_t v56 = __clz(__rbit64(v58)) + (v59 << 6);
        int64_t v97 = v59;
LABEL_71:
        uint64_t v61 = (uint64_t *)(*(void *)(v53 + 48) + 16 * v56);
        uint64_t v63 = *v61;
        uint64_t v62 = v61[1];
        uint64_t v64 = *(void *)(*(void *)(v53 + 56) + 8 * v56);
        swift_bridgeObjectRetain_n();
        swift_bridgeObjectRetain_n();
        swift_isUniquelyReferenced_nonNull_native();
        uint64_t v98 = (void *)v52;
        unint64_t v65 = sub_25939CE90();
        if (__OFADD__(*(void *)(v52 + 16), (v66 & 1) == 0)) {
          goto LABEL_95;
        }
        unint64_t v67 = v65;
        char v68 = v66;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B08);
        char v69 = sub_259845350();
        uint64_t v52 = (uint64_t)v98;
        if (v69)
        {
          unint64_t v70 = sub_25939CE90();
          if ((v68 & 1) != (v71 & 1)) {
            goto LABEL_103;
          }
          unint64_t v67 = v70;
        }
        swift_bridgeObjectRelease();
        if ((v68 & 1) == 0)
        {
          sub_25939FB80(v67, v63, v62, MEMORY[0x263F8EE88], v52);
          sub_259843F00();
        }
        sub_2596D0A58(v64);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        if (v54) {
          goto LABEL_52;
        }
        continue;
      }
      break;
    }
    int64_t v59 = v97 + 6;
    if (v97 + 6 < v94)
    {
      unint64_t v58 = *(void *)(v92 + 8 * v59);
      if (!v58)
      {
        int64_t v60 = v97 + 7;
        do
        {
          if (v60 >= v94) {
            goto LABEL_89;
          }
          unint64_t v58 = *(void *)(v92 + 8 * v60++);
        }
        while (!v58);
        int64_t v59 = v60 - 1;
      }
      goto LABEL_70;
    }
LABEL_89:
    swift_release();
    swift_bridgeObjectRelease();
    sub_2593A0EBC();
LABEL_90:
    sub_25945EA34((uint64_t)__dst);
    unint64_t v5 = v89;
    int64_t v6 = v90;
    if (v89) {
      continue;
    }
    break;
  }
LABEL_5:
  int64_t v8 = v6 + 1;
  if (__OFADD__(v6, 1)) {
    goto LABEL_99;
  }
  if (v8 < v86)
  {
    unint64_t v9 = *(void *)(v85 + 8 * v8);
    int64_t v10 = v6 + 1;
    if (v9) {
      goto LABEL_18;
    }
    int64_t v10 = v6 + 2;
    if (v6 + 2 < v86)
    {
      unint64_t v9 = *(void *)(v85 + 8 * v10);
      if (v9) {
        goto LABEL_18;
      }
      int64_t v10 = v6 + 3;
      if (v6 + 3 < v86)
      {
        unint64_t v9 = *(void *)(v85 + 8 * v10);
        if (v9) {
          goto LABEL_18;
        }
        uint64_t v11 = v6 + 4;
        if (v6 + 4 < v86)
        {
          unint64_t v9 = *(void *)(v85 + 8 * v11);
          if (!v9)
          {
            while (1)
            {
              int64_t v10 = v11 + 1;
              if (__OFADD__(v11, 1)) {
                goto LABEL_102;
              }
              if (v10 >= v86) {
                return swift_release();
              }
              unint64_t v9 = *(void *)(v85 + 8 * v10);
              ++v11;
              if (v9) {
                goto LABEL_18;
              }
            }
          }
          int64_t v10 = v6 + 4;
LABEL_18:
          uint64_t v89 = (v9 - 1) & v9;
          int64_t v90 = v10;
          unint64_t v7 = __clz(__rbit64(v9)) + (v10 << 6);
          goto LABEL_19;
        }
      }
    }
  }
  return swift_release();
}

uint64_t sub_2596901FC@<X0>(const void *a1@<X0>, uint64_t *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, void *a5@<X8>)
{
  uint64_t v10 = sub_259843A80();
  uint64_t v11 = *(void *)(v10 - 8);
  MEMORY[0x270FA5388](v10);
  uint64_t v13 = (char *)&v24[-1] - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  memcpy(__dst, a1, 0x58uLL);
  uint64_t v14 = *a2;
  if (!*(void *)(v14 + 16)) {
    goto LABEL_6;
  }
  sub_2593A2D18((uint64_t)__dst);
  uint64_t v15 = sub_25939D1E0();
  if ((v16 & 1) == 0)
  {
    sub_25945EA34((uint64_t)__dst);
LABEL_6:
    memcpy(a5, __dst, 0x58uLL);
    return sub_2593A2D18((uint64_t)__dst);
  }
  uint64_t v26 = a4;
  uint64_t v17 = *(void *)(*(void *)(v14 + 56) + 8 * v15);
  sub_259843F00();
  sub_25945EA34((uint64_t)__dst);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, a3, v10);
  sub_259843F00();
  uint64_t v18 = sub_259843A50();
  os_log_type_t v19 = sub_259844B70();
  if (os_log_type_enabled(v18, v19))
  {
    uint64_t v20 = (uint8_t *)swift_slowAlloc();
    uint64_t v23 = a3;
    char v21 = v20;
    *(_DWORD *)uint64_t v20 = 134217984;
    v24[0] = *(void *)(v17 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v18, v19, "Need to update the location query token with %ld combinations of location tokenized attributed strings", v21, 0xCu);
    MEMORY[0x25A2E13A0](v21, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  memcpy(v24, __dst, sizeof(v24));
  sub_25969047C(v24, v17, v26, (uint64_t)a5);
  return swift_bridgeObjectRelease();
}

uint64_t sub_25969047C@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  char v53 = *((unsigned char *)a1 + 16);
  uint64_t v51 = a1[4];
  uint64_t v52 = a1[3];
  uint64_t v57 = a1[6];
  uint64_t v58 = a1[1];
  uint64_t v48 = a1[7];
  char v49 = *((unsigned char *)a1 + 64);
  char v50 = *((unsigned char *)a1 + 40);
  uint64_t v54 = *a1;
  uint64_t v55 = a1[9];
  uint64_t v56 = a1[10];
  uint64_t v66 = MEMORY[0x263F8EE88];
  uint64_t v62 = *(void *)(a2 + 16);
  if (!v62)
  {
    v43._rawValue = (void *)MEMORY[0x263F8EE80];
LABEL_38:
    uint64_t v44 = sub_259843F00();
    uint64_t v45 = sub_2596894A0(v44, (uint64_t)&v66);
    swift_bridgeObjectRelease();
    *(void *)a4 = v54;
    *(void *)(a4 + 8) = v58;
    *(unsigned char *)(a4 + 16) = v53;
    *(void *)(a4 + 24) = v52;
    *(void *)(a4 + 32) = v51;
    *(unsigned char *)(a4 + 40) = v50;
    *(unsigned char *)(a4 + 64) = v49;
    *(void *)(a4 + 72) = v55;
    *(void *)(a4 + 80) = v56;
    *(void *)(a4 + 48) = v57;
    *(void *)(a4 + 56) = v45;
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    QueryToken.addRetrievalResults(_:)(v43);
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
  uint64_t v61 = a2 + 32;
  uint64_t v47 = a2;
  sub_259843F00();
  uint64_t v5 = 0;
  int64_t v60 = (void *)MEMORY[0x263F8EE80];
  uint64_t v64 = a3;
  while (1)
  {
    unint64_t v6 = *(void *)(v61 + 8 * v5);
    if (v6 >> 62)
    {
      swift_bridgeObjectRetain_n();
      uint64_t v7 = sub_259845460();
    }
    else
    {
      uint64_t v7 = *(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10);
      swift_bridgeObjectRetain_n();
    }
    uint64_t v63 = v5;
    if (!v7) {
      goto LABEL_21;
    }
    if (v7 < 1) {
      break;
    }
    uint64_t v8 = 0;
    uint64_t v9 = MEMORY[0x263F8EE78];
    do
    {
      if ((v6 & 0xC000000000000001) != 0) {
        id v10 = (id)MEMORY[0x25A2DFA20](v8, v6);
      }
      else {
        id v10 = *(id *)(v6 + 8 * v8 + 32);
      }
      uint64_t v11 = v10;
      if (*(void *)(a3 + 16))
      {
        id v12 = v10;
        sub_25939D5A0();
        uint64_t v14 = MEMORY[0x263F8EE78];
        if (v15)
        {
          uint64_t v14 = *(void *)(*(void *)(a3 + 56) + 8 * v13);
          sub_259843F00();
        }
      }
      else
      {
        uint64_t v14 = MEMORY[0x263F8EE78];
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2593859FC();
        uint64_t v9 = v17;
      }
      unint64_t v16 = *(void *)(v9 + 16);
      if (v16 >= *(void *)(v9 + 24) >> 1)
      {
        sub_2593859FC();
        uint64_t v9 = v18;
      }
      ++v8;
      *(void *)(v9 + 16) = v16 + 1;
      *(void *)(v9 + 8 * v16 + 32) = v14;

      a3 = v64;
    }
    while (v7 != v8);
LABEL_21:
    swift_bridgeObjectRelease();
    sub_2593F6F7C();
    uint64_t v20 = v19;
    swift_bridgeObjectRelease();
    if (v20)
    {
      if (*(void *)(v20 + 16))
      {
        sub_25961AA14(v6);
        id v22 = v21;
        swift_bridgeObjectRelease();
        unint64_t v65 = v22;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
        sub_25936C308(&qword_26A38A280, &qword_26B3001D0);
        uint64_t v23 = sub_259844020();
        uint64_t v25 = v24;
        swift_bridgeObjectRelease();
        sub_259843F00();
        sub_2596D4E7C((uint64_t)&v65, v23, v25, v26, v27, v28, v29, v30, v47, v48);
        swift_bridgeObjectRelease();
        swift_isUniquelyReferenced_nonNull_native();
        unint64_t v65 = v60;
        unint64_t v31 = sub_25939CE90();
        if (__OFADD__(v60[2], (v32 & 1) == 0)) {
          goto LABEL_40;
        }
        unint64_t v33 = v31;
        char v34 = v32;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B08);
        if (sub_259845350())
        {
          unint64_t v35 = sub_25939CE90();
          if ((v34 & 1) != (v36 & 1)) {
            goto LABEL_42;
          }
          unint64_t v33 = v35;
        }
        BOOL v37 = v65;
        int64_t v60 = v65;
        if (v34)
        {
          uint64_t v38 = v65[7];
          swift_bridgeObjectRelease();
          *(void *)(v38 + 8 * v33) = v20;
        }
        else
        {
          v65[(v33 >> 6) + 8] |= 1 << v33;
          unint64_t v39 = (uint64_t *)(v37[6] + 16 * v33);
          *unint64_t v39 = v23;
          v39[1] = v25;
          *(void *)(v37[7] + 8 * v33) = v20;
          uint64_t v40 = v37[2];
          BOOL v41 = __OFADD__(v40, 1);
          uint64_t v42 = v40 + 1;
          if (v41) {
            goto LABEL_41;
          }
          v37[2] = v42;
          sub_259843F00();
        }
        swift_bridgeObjectRelease();
      }
      else
      {
        swift_bridgeObjectRelease();
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v5 = v63 + 1;
    if (v63 + 1 == v62)
    {
      swift_bridgeObjectRelease();
      v43._rawValue = v60;
      goto LABEL_38;
    }
  }
  __break(1u);
LABEL_40:
  __break(1u);
LABEL_41:
  __break(1u);
LABEL_42:
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_259690960(uint64_t *a1, uint64_t a2)
{
  uint64_t v140 = sub_259843A80();
  MEMORY[0x270FA5388](v140);
  char v139 = (char *)&v121 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = *a1;
  uint64_t v7 = *a1 + 64;
  uint64_t v8 = 1 << *(unsigned char *)(*a1 + 32);
  uint64_t v9 = -1;
  if (v8 < 64) {
    uint64_t v9 = ~(-1 << v8);
  }
  unint64_t v10 = v9 & *(void *)(*a1 + 64);
  int64_t v11 = (unint64_t)(v8 + 63) >> 6;
  uint64_t v135 = (void (**)(char *, uint64_t, uint64_t))(v4 + 16);
  uint64_t v136 = a1;
  uint64_t v129 = &v157;
  uint64_t v130 = (void (**)(char *, uint64_t))(v4 + 8);
  sub_259843F00();
  int64_t v12 = 0;
  uint64_t v148 = 0;
  long long v145 = xmmword_259876920;
  long long v138 = xmmword_2598768F0;
  unint64_t v137 = 0x800000025985DA90;
  long long v133 = xmmword_259876910;
  *((void *)&v13 + 1) = 5;
  long long v132 = xmmword_25987BF60;
  *(void *)&long long v13 = 134218242;
  long long v123 = v13;
  uint64_t v122 = MEMORY[0x263F8EE58] + 8;
  uint64_t v131 = a2;
  uint64_t v143 = v7;
  uint64_t v144 = v6;
  for (i = v11; ; int64_t v11 = i)
  {
LABEL_4:
    if (v10)
    {
      unint64_t v14 = __clz(__rbit64(v10));
      v10 &= v10 - 1;
      unint64_t v15 = v14 | (v12 << 6);
      goto LABEL_17;
    }
    if (__OFADD__(v12++, 1)) {
      goto LABEL_98;
    }
    if (v12 >= v11) {
      break;
    }
    unint64_t v17 = *(void *)(v7 + 8 * v12);
    if (!v17)
    {
      int64_t v18 = v12 + 1;
      if (v12 + 1 >= v11) {
        return swift_release();
      }
      unint64_t v17 = *(void *)(v7 + 8 * v18);
      if (!v17)
      {
        int64_t v18 = v12 + 2;
        if (v12 + 2 >= v11) {
          return swift_release();
        }
        unint64_t v17 = *(void *)(v7 + 8 * v18);
        if (!v17)
        {
          int64_t v18 = v12 + 3;
          if (v12 + 3 >= v11) {
            return swift_release();
          }
          unint64_t v17 = *(void *)(v7 + 8 * v18);
          if (!v17)
          {
            while (1)
            {
              int64_t v12 = v18 + 1;
              if (__OFADD__(v18, 1)) {
                break;
              }
              if (v12 >= v11) {
                return swift_release();
              }
              unint64_t v17 = *(void *)(v7 + 8 * v12);
              ++v18;
              if (v17) {
                goto LABEL_16;
              }
            }
LABEL_99:
            __break(1u);
LABEL_100:
            __break(1u);
            JUMPOUT(0x2596918B0);
          }
        }
      }
      int64_t v12 = v18;
    }
LABEL_16:
    unint64_t v10 = (v17 - 1) & v17;
    unint64_t v15 = __clz(__rbit64(v17)) + (v12 << 6);
LABEL_17:
    memcpy(__dst, (const void *)(*(void *)(v6 + 48) + 88 * v15), 0x58uLL);
    if (!*(void *)(a2 + 16)) {
      goto LABEL_4;
    }
    uint64_t v19 = *(void *)(*(void *)(v6 + 56) + 8 * v15);
    sub_2593A2D18((uint64_t)__dst);
    sub_2593A2D18((uint64_t)__dst);
    sub_259843F00();
    uint64_t v20 = sub_25939D1E0();
    if ((v21 & 1) == 0)
    {
      sub_25945EA34((uint64_t)__dst);
      sub_25945EA34((uint64_t)__dst);
      swift_bridgeObjectRelease();
      goto LABEL_4;
    }
    unint64_t v153 = v10;
    uint64_t v154 = v19;
    uint64_t v22 = *(void *)(*(void *)(a2 + 56) + 8 * v20);
    sub_259843F00();
    sub_25945EA34((uint64_t)__dst);
    if (!*(void *)(v22 + 16))
    {
      sub_25945EA34((uint64_t)__dst);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v10 = v153;
      goto LABEL_4;
    }
    uint64_t v147 = *(void *)(v22 + 16);
    uint64_t v23 = *(void **)(v151 + *(int *)(type metadata accessor for QueryGenerator(0) + 20));
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A3897C8);
    uint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = v145;
    memcpy((void *)(inited + 32), __dst, 0x58uLL);
    sub_2593A2D18((uint64_t)__dst);
    uint64_t v25 = static StoryGenerationUtilities.queryTokenPersonUUIDs(from:)(inited);
    swift_setDeallocating();
    sub_259745EC8();
    id v149 = v23;
    id v152 = objc_msgSend(v23, sel_librarySpecificFetchOptions);
    uint64_t v26 = sub_259844950();
    uint64_t v156 = v26;
    uint64_t v27 = *(void *)(v25 + 16);
    if (v27)
    {
      int64_t v28 = v12;
      uint64_t v29 = (uint64_t *)(v25 + 40);
      do
      {
        uint64_t v30 = *(v29 - 1);
        uint64_t v31 = *v29;
        sub_259843F00();
        sub_2596D4E7C((uint64_t)v155, v30, v31, v32, v33, v34, v35, v36, v121, v122);
        swift_bridgeObjectRelease();
        v29 += 2;
        --v27;
      }
      while (v27);
      swift_bridgeObjectRelease();
      uint64_t v37 = v156;
      int64_t v12 = v28;
    }
    else
    {
      uint64_t v37 = v26;
      swift_bridgeObjectRelease();
    }
    sub_25935633C(0, (unint64_t *)&qword_26B2FFA20);
    ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
    uint64_t v39 = sub_2596A6294(v37, ObjCClassFromMetadata);
    if (!v39)
    {

      sub_25945EA34((uint64_t)__dst);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v7 = v143;
      uint64_t v6 = v144;
      int64_t v11 = i;
      unint64_t v10 = v153;
      goto LABEL_4;
    }
    uint64_t v40 = v39;
    int64_t v150 = v12;
    BOOL v41 = self;
    sub_25953BECC(v40, v42, v43, v44, v45, v46, v47, v48, v121, v122, v123, *((uint64_t *)&v123 + 1), v124, v125, v126, v127, (uint64_t)v128, (uint64_t)v129, (uint64_t)v130,
      v131,
      v132,
      *((uint64_t *)&v132 + 1),
      v133,
      *((uint64_t *)&v133 + 1),
      v134,
      (uint64_t)v135);
    swift_bridgeObjectRelease();
    uint64_t v49 = MEMORY[0x263F8D310];
    char v50 = (void *)sub_2598444E0();
    swift_release();
    id v51 = v152;
    id v52 = objc_msgSend(v41, sel_fetchPersonsWithLocalIdentifiers_options_, v50, v152);

    id v53 = objc_msgSend(v52, sel_fetchedObjects);
    if (!v53)
    {

      sub_25945EA34((uint64_t)__dst);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v7 = v143;
      uint64_t v6 = v144;
      int64_t v11 = i;
      int64_t v12 = v150;
      unint64_t v10 = v153;
      goto LABEL_4;
    }
    unint64_t v54 = sub_259844500();

    id v141 = (id)__swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v55 = swift_allocObject();
    *(_OWORD *)(v55 + 16) = v138;
    *(void *)(v55 + 56) = v49;
    uint64_t v56 = (void *)sub_25935626C();
    strcpy((char *)(v55 + 32), "detectedFaces");
    *(_WORD *)(v55 + 46) = -4864;
    *(void *)(v55 + 96) = v49;
    *(void *)(v55 + 104) = v56;
    id v146 = v56;
    *(void *)(v55 + 64) = v56;
    strcpy((char *)(v55 + 72), "personForFace");
    *(_WORD *)(v55 + 86) = -4864;
    if (v54 >> 62)
    {
      sub_259843F00();
      uint64_t v57 = sub_259845460();
      swift_bridgeObjectRelease();
      if (v57)
      {
LABEL_35:
        v155[0] = MEMORY[0x263F8EE78];
        sub_259845270();
        if (v57 < 0) {
          goto LABEL_100;
        }
        uint64_t v58 = 0;
        do
        {
          if ((v54 & 0xC000000000000001) != 0) {
            id v59 = (id)MEMORY[0x25A2DFA20](v58, v54);
          }
          else {
            id v59 = *(id *)(v54 + 8 * v58 + 32);
          }
          int64_t v60 = v59;
          ++v58;
          id v61 = objc_msgSend(v59, sel_objectID);

          sub_259845240();
          sub_259845280();
          sub_259845290();
          sub_259845250();
        }
        while (v57 != v58);
        uint64_t v62 = v155[0];
        swift_bridgeObjectRelease();
        uint64_t v63 = MEMORY[0x263F8EE78];
        goto LABEL_46;
      }
    }
    else
    {
      uint64_t v57 = *(void *)((v54 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v57) {
        goto LABEL_35;
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v63 = MEMORY[0x263F8EE78];
    uint64_t v62 = MEMORY[0x263F8EE78];
LABEL_46:
    *(void *)(v55 + 136) = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38D428);
    uint64_t v64 = sub_25936C308(&qword_26A38D430, &qword_26A38D428);
    *(void *)(v55 + 112) = v62;
    id v65 = v146;
    *(void *)(v55 + 176) = MEMORY[0x263F8D310];
    *(void *)(v55 + 184) = v65;
    *(void *)(v55 + 144) = v64;
    *(void *)(v55 + 152) = 0x65707954656761;
    *(void *)(v55 + 160) = 0xE700000000000000;
    uint64_t v66 = *(void *)(v22 + 16);
    if (v66)
    {
      sub_259843F00();
      uint64_t v67 = 0;
      uint64_t v68 = v63;
      do
      {
        __int16 v69 = *(_WORD *)(v22 + 2 * v67 + 32);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_2593875C0();
          uint64_t v68 = v71;
        }
        unint64_t v70 = *(void *)(v68 + 16);
        if (v70 >= *(void *)(v68 + 24) >> 1)
        {
          sub_2593875C0();
          uint64_t v68 = v72;
        }
        ++v67;
        *(void *)(v68 + 16) = v70 + 1;
        *(_WORD *)(v68 + 2 * v70 + 32) = v69;
      }
      while (v66 != v67);
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v68 = v63;
    }
    sub_25935633C(0, &qword_26B300508);
    *(void *)(v55 + 216) = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AF50);
    *(void *)(v55 + 224) = sub_25936C308((unint64_t *)&qword_26A38FE70, &qword_26A38AF50);
    *(void *)(v55 + 192) = v68;
    uint64_t v73 = (void *)sub_259844AB0();
    id v149 = static StoryGenerationUtilities.assetIdentifiersFetchOptions(for:wantsIncrementalChangeDetails:)(v149, 0);
    v155[0] = v63;
    sub_2597EFE50(v158, v154);
    uint64_t v74 = v158[1];
    int64_t v75 = v158[3];
    uint64_t v76 = v158[4];
    int64_t v77 = (unint64_t)(v158[2] + 64) >> 6;
    swift_bridgeObjectRetain_n();
    if (v76)
    {
LABEL_56:
      v76 &= v76 - 1;
      goto LABEL_70;
    }
    while (1)
    {
      int64_t v78 = v75 + 1;
      if (__OFADD__(v75, 1))
      {
        __break(1u);
LABEL_98:
        __break(1u);
        goto LABEL_99;
      }
      if (v78 >= v77) {
        goto LABEL_78;
      }
      uint64_t v79 = *(void *)(v74 + 8 * v78);
      if (!v79) {
        break;
      }
LABEL_69:
      uint64_t v76 = (v79 - 1) & v79;
      int64_t v75 = v78;
LABEL_70:
      uint64_t v81 = sub_259843F00();
      sub_25973E110(v81);
      if (v76) {
        goto LABEL_56;
      }
    }
    int64_t v80 = v75 + 2;
    if (v75 + 2 >= v77) {
      goto LABEL_78;
    }
    uint64_t v79 = *(void *)(v74 + 8 * v80);
    if (v79) {
      goto LABEL_68;
    }
    int64_t v80 = v75 + 3;
    if (v75 + 3 >= v77) {
      goto LABEL_78;
    }
    uint64_t v79 = *(void *)(v74 + 8 * v80);
    if (v79) {
      goto LABEL_68;
    }
    int64_t v80 = v75 + 4;
    if (v75 + 4 >= v77) {
      goto LABEL_78;
    }
    uint64_t v79 = *(void *)(v74 + 8 * v80);
    if (v79) {
      goto LABEL_68;
    }
    int64_t v80 = v75 + 5;
    if (v75 + 5 >= v77) {
      goto LABEL_78;
    }
    uint64_t v79 = *(void *)(v74 + 8 * v80);
    if (v79)
    {
LABEL_68:
      int64_t v78 = v80;
      goto LABEL_69;
    }
    int64_t v78 = v75 + 6;
    if (v75 + 6 < v77)
    {
      uint64_t v79 = *(void *)(v74 + 8 * v78);
      if (!v79)
      {
        int64_t v82 = v75 + 7;
        int64_t v12 = v150;
        do
        {
          if (v82 >= v77) {
            goto LABEL_79;
          }
          uint64_t v79 = *(void *)(v74 + 8 * v82++);
        }
        while (!v79);
        int64_t v78 = v82 - 1;
      }
      goto LABEL_69;
    }
LABEL_78:
    int64_t v12 = v150;
LABEL_79:
    swift_bridgeObjectRelease();
    swift_release();
    uint64_t v83 = sub_259737700(v155[0]);
    uint64_t v84 = swift_allocObject();
    *(_OWORD *)(v84 + 16) = v133;
    id v85 = v146;
    *(void *)(v84 + 56) = MEMORY[0x263F8D310];
    *(void *)(v84 + 64) = v85;
    *(void *)(v84 + 32) = 1684632949;
    *(void *)(v84 + 40) = 0xE400000000000000;
    *(void *)(v84 + 96) = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83F0);
    *(void *)(v84 + 104) = sub_25936C308((unint64_t *)&qword_26A38B340, &qword_26B2F83F0);
    *(void *)(v84 + 72) = v83;
    int64_t v86 = (void *)sub_259844AB0();
    sub_25935633C(0, (unint64_t *)&unk_26B300530);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
    uint64_t v87 = swift_allocObject();
    *(_OWORD *)(v87 + 16) = v132;
    *(void *)(v87 + 32) = v73;
    *(void *)(v87 + 40) = v86;
    v155[0] = v87;
    sub_259844530();
    id v88 = v73;
    id v89 = v86;
    id v90 = sub_2593562B8();
    id v91 = v149;
    objc_msgSend(v149, sel_setInternalPredicate_, v90);

    id v92 = objc_msgSend(self, sel_fetchAssetsWithOptions_, v91);
    id v93 = objc_msgSend(v92, sel_fetchedObjects);

    id v146 = v88;
    id v141 = v89;
    if (v93)
    {
      sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
      unint64_t v94 = sub_259844500();

      uint64_t v95 = v148;
      uint64_t v96 = sub_259689AC4(v94);
      uint64_t v148 = v95;
      swift_bridgeObjectRelease();
      uint64_t v97 = v151;
      uint64_t v98 = v139;
      uint64_t v99 = v140;
      uint64_t v100 = MEMORY[0x263F8EE78];
    }
    else
    {
      uint64_t v100 = MEMORY[0x263F8EE78];
      uint64_t v96 = MEMORY[0x263F8EE78];
      uint64_t v97 = v151;
      uint64_t v98 = v139;
      uint64_t v99 = v140;
    }
    (*v135)(v98, v97, v99);
    sub_259843F00();
    sub_259843F00();
    uint64_t v101 = sub_259843A50();
    int v102 = sub_259844B70();
    if (os_log_type_enabled(v101, (os_log_type_t)v102))
    {
      HIDWORD(v127) = v102;
      os_log_t v128 = v101;
      uint64_t v103 = swift_slowAlloc();
      uint64_t v126 = swift_slowAlloc();
      v155[0] = v126;
      *(_DWORD *)uint64_t v103 = v123;
      uint64_t v156 = *(void *)(v96 + 16);
      sub_259844E10();
      uint64_t v125 = v96;
      swift_bridgeObjectRelease();
      *(_WORD *)(v103 + 12) = 2080;
      uint64_t v156 = v100;
      uint64_t v104 = v147;
      sub_2594F08BC();
      uint64_t v105 = v104;
      uint64_t v106 = 0;
      uint64_t v107 = v156;
      do
      {
        unint64_t v108 = 0xE400000000000000;
        uint64_t v109 = 2036490562;
        switch(*(_WORD *)(v22 + 2 * v106 + 32))
        {
          case 1:
            break;
          case 2:
            unint64_t v108 = 0xE500000000000000;
            uint64_t v109 = 0x646C696843;
            break;
          case 3:
            unint64_t v108 = 0xEB00000000746C75;
            uint64_t v109 = 0x644120676E756F59;
            break;
          case 4:
            unint64_t v108 = 0xE600000000000000;
            uint64_t v109 = 0x726F696E6553;
            break;
          case 5:
            unint64_t v108 = 0xE500000000000000;
            uint64_t v109 = 0x746C756441;
            break;
          default:
            unint64_t v108 = 0xE600000000000000;
            uint64_t v109 = 0x746553746F4ELL;
            break;
        }
        uint64_t v156 = v107;
        unint64_t v110 = *(void *)(v107 + 16);
        if (v110 >= *(void *)(v107 + 24) >> 1)
        {
          sub_2594F08BC();
          uint64_t v105 = v147;
          uint64_t v107 = v156;
        }
        ++v106;
        *(void *)(v107 + 16) = v110 + 1;
        uint64_t v111 = v107 + 16 * v110;
        *(void *)(v111 + 32) = v109;
        *(void *)(v111 + 40) = v108;
      }
      while (v105 != v106);
      uint64_t v112 = MEMORY[0x25A2DED80](v107, MEMORY[0x263F8D310]);
      unint64_t v114 = v113;
      swift_bridgeObjectRelease();
      uint64_t v156 = sub_259356D5C(v112, v114, v155);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      os_log_t v115 = v128;
      _os_log_impl(&dword_25934C000, v128, BYTE4(v127), "There are %ld person assets based on the age types:%s", (uint8_t *)v103, 0x16u);
      uint64_t v116 = v126;
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v116, -1, -1);
      MEMORY[0x25A2E13A0](v103, -1, -1);

      (*v130)(v139, v140);
      a2 = v131;
      uint64_t v117 = v148;
      int64_t v12 = v150;
      unint64_t v10 = v153;
      uint64_t v118 = v154;
      id v119 = v152;
      uint64_t v96 = v125;
    }
    else
    {

      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      (*v130)(v98, v99);
      a2 = v131;
      uint64_t v117 = v148;
      unint64_t v10 = v153;
      uint64_t v118 = v154;
      id v119 = v152;
    }
    sub_259843F00();
    sub_259687F5C(MEMORY[0x263F8EE80], v118, v96);
    uint64_t v148 = v117;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_2593A0EBC();
    sub_25945EA34((uint64_t)__dst);

    uint64_t v7 = v143;
    uint64_t v6 = v144;
  }
  return swift_release();
}

uint64_t sub_2596918C4@<X0>(uint64_t a1@<X2>, uint64_t *a2@<X8>)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B5E8);
  sub_2596A3A98();
  sub_25936C308(&qword_26A38B608, &qword_26A38B5E8);
  uint64_t v4 = sub_259843FE0();
  sub_259843F00();
  uint64_t v5 = sub_25968A0F8(v4, a1);
  uint64_t result = swift_bridgeObjectRelease();
  *a2 = v5;
  return result;
}

uint64_t sub_2596919B4()
{
  OUTLINED_FUNCTION_14();
  v0[4] = v1;
  v0[5] = v2;
  v0[3] = v3;
  uint64_t v4 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v4);
  v0[6] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_259691A34()
{
  uint64_t v1 = v0[5];
  uint64_t v2 = v0[4];
  OUTLINED_FUNCTION_61_15();
  OUTLINED_FUNCTION_13_5();
  v3();
  if (*(void *)(v2 + 16))
  {
    uint64_t v4 = (void *)v0[5];
    uint64_t v6 = v0[3];
    uint64_t v5 = v0[4];
    sub_259843F00();
    uint64_t v7 = sub_259688D88(v6, v5);
    __swift_project_boxed_opaque_existential_1(v4, *(void *)(v1 + 24));
    OUTLINED_FUNCTION_41_0();
    v8();
  }
  else
  {
    uint64_t v9 = v0[6];
    uint64_t v11 = *(void *)(v1 + 24);
    uint64_t v10 = *(void *)(v1 + 32);
    __swift_project_boxed_opaque_existential_1((void *)v0[5], v11);
    int64_t v12 = *(void (**)(uint64_t, uint64_t, uint64_t))(v10 + 32);
    sub_259843F00();
    v12(v9, v11, v10);
    uint64_t v7 = v0[3];
  }
  sub_2596A61D8(v0[6], (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  return v13(v7);
}

uint64_t sub_259691BA4()
{
  OUTLINED_FUNCTION_14();
  v1[15] = v2;
  v1[16] = v0;
  v1[13] = v3;
  v1[14] = v4;
  v1[12] = v5;
  uint64_t v6 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v6);
  v1[17] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_259691C28()
{
  OUTLINED_FUNCTION_247();
  OUTLINED_FUNCTION_66_17();
  OUTLINED_FUNCTION_176_0();
  v1();
  OUTLINED_FUNCTION_65_16();
  unint64_t v2 = OUTLINED_FUNCTION_79_13(35);
  v3(v2);
  *(void *)(v0 + 80) = &type metadata for PhotosFeatureFlags;
  unint64_t v4 = sub_2596385B8();
  *(unsigned char *)(v0 + 56) = 6;
  *(void *)(v0 + 88) = v4;
  char v5 = sub_259842B80();
  __swift_destroy_boxed_opaque_existential_1(v0 + 56);
  if (v5)
  {
    uint64_t v6 = QueryGenerator.addAssetsToDisambiguatedPersonalEventQueryTokens(in:consolidatedAssetUUIDsByMetadataTokenCategoryTypeString:eventRecorder:)(*(void *)(v0 + 96), *(void *)(v0 + 104), (void *)(v0 + 16));
  }
  else
  {
    uint64_t v6 = *(void *)(v0 + 96);
    sub_259843F00();
  }
  *(void *)(v0 + 144) = v6;
  uint64_t v7 = (void *)swift_task_alloc();
  *(void *)(v0 + 152) = v7;
  void *v7 = v0;
  v7[1] = sub_259691D7C;
  uint64_t v8 = *(void *)(v0 + 120);
  uint64_t v9 = *(void *)(v0 + 104);
  return sub_259692014(v6, v9, v0 + 16, v8);
}

uint64_t sub_259691D7C()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_3();
  void *v8 = v7;
  *(void *)(v5 + 160) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (!v0) {
    *(void *)(v5 + 168) = v3;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_259691E90()
{
  OUTLINED_FUNCTION_25();
  uint64_t v1 = v0[17];
  uint64_t v2 = (void *)v0[14];
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 2));
  __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  OUTLINED_FUNCTION_41_0();
  v3();
  sub_2596A61D8(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  uint64_t v5 = v0[21];
  return v4(v5);
}

uint64_t sub_259691F54()
{
  OUTLINED_FUNCTION_25();
  uint64_t v1 = *(void *)(v0 + 136);
  uint64_t v2 = *(void **)(v0 + 112);
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  OUTLINED_FUNCTION_41_0();
  v3();
  sub_2596A61D8(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v4();
}

uint64_t sub_259692014(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v5[53] = a4;
  v5[54] = v4;
  v5[51] = a2;
  v5[52] = a3;
  v5[50] = a1;
  uint64_t v6 = sub_259843A80();
  v5[55] = v6;
  v5[56] = *(void *)(v6 - 8);
  v5[57] = swift_task_alloc();
  v5[58] = type metadata accessor for QueryTokenCategoryType(0);
  v5[59] = swift_task_alloc();
  v5[60] = swift_task_alloc();
  v5[61] = *(void *)(type metadata accessor for QueryTokenSuggestion(0) - 8);
  v5[62] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_259692174, 0, 0);
}

void sub_259692174()
{
  uint64_t v159 = v0;
  uint64_t v3 = (void *)(v0 + 224);
  uint64_t v4 = *(void *)(v0 + 400);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 416), *(void *)(*(void *)(v0 + 416) + 24));
  OUTLINED_FUNCTION_47_1();
  OUTLINED_FUNCTION_228_5();
  v5();
  uint64_t v6 = *(void *)(v4 + 16);
  uint64_t v7 = (void *)MEMORY[0x263F8EE78];
  uint64_t v8 = MEMORY[0x263F8EE80];
  uint64_t v140 = v6;
  if (v6)
  {
    uint64_t v9 = (void *)(v0 + 16);
    uint64_t v142 = v0 + 376;
    uint64_t v10 = *(void *)(v0 + 488);
    uint64_t v153 = *(void *)(v0 + 472);
    uint64_t v139 = *(void *)(v0 + 400) + 32;
    sub_259843F00();
    char v138 = 0;
    uint64_t v11 = v7;
    uint64_t v12 = 0;
    id v146 = (void *)MEMORY[0x263F8EE80];
    uint64_t v147 = (void *)MEMORY[0x263F8EE80];
    uint64_t v148 = v11;
    id v149 = v11;
    id v141 = v11;
    int64_t v150 = (const void *)(v0 + 16);
    uint64_t v151 = v10;
    uint64_t v143 = (_OWORD *)(v0 + 304);
    while (1)
    {
      uint64_t v145 = v12;
      memcpy(v9, (const void *)(v139 + 88 * v12), 0x58uLL);
      uint64_t v13 = *(void *)(v0 + 72);
      *(void *)(v0 + 376) = v13;
      uint64_t v156 = MEMORY[0x263F8EE88];
      uint64_t v157 = MEMORY[0x263F8EE88];
      uint64_t v155 = *(void *)(v13 + 16);
      if (v155) {
        break;
      }
      uint64_t v74 = v2;
      sub_2593A2D18((uint64_t)v9);
LABEL_85:
      sub_2593A2D18((uint64_t)v9);
      uint64_t v75 = sub_25953D4C0(v156);
      swift_bridgeObjectRelease();
      swift_isUniquelyReferenced_nonNull_native();
      v158[0] = v147;
      sub_25939D1E0();
      OUTLINED_FUNCTION_204_7();
      if (v44)
      {
        __break(1u);
LABEL_170:
        __break(1u);
LABEL_171:
        __break(1u);
LABEL_172:
        __break(1u);
LABEL_173:
        __break(1u);
LABEL_174:
        __break(1u);
LABEL_175:
        __break(1u);
LABEL_176:
        __break(1u);
LABEL_177:
        __break(1u);
LABEL_178:
        __break(1u);
LABEL_179:
        __break(1u);
LABEL_180:
        __break(1u);
LABEL_181:
        OUTLINED_FUNCTION_108_3();
        OUTLINED_FUNCTION_88_12();
        OUTLINED_FUNCTION_57_18();
        return;
      }
      uint64_t v78 = v76;
      char v79 = v77;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
      char v80 = sub_259845350();
      id v81 = v158[0];
      if (v80)
      {
        sub_25939D1E0();
        OUTLINED_FUNCTION_85_12();
        if (!v27) {
          goto LABEL_106;
        }
        uint64_t v78 = v82;
      }
      uint64_t v147 = v81;
      if (v79)
      {
        uint64_t v83 = *((void *)v81 + 7);
        swift_bridgeObjectRelease();
        *(void *)(v83 + 8 * v78) = v75;
        uint64_t v4 = v0 + 16;
      }
      else
      {
        uint64_t v84 = (void *)OUTLINED_FUNCTION_63_16();
        uint64_t v4 = v0 + 16;
        memcpy(v84, v150, 0x58uLL);
        *(void *)(*((void *)v81 + 7) + 8 * v78) = v75;
        OUTLINED_FUNCTION_302();
        if (v44) {
          goto LABEL_176;
        }
        *((void *)v81 + 2) = v85;
        sub_2593A2D18((uint64_t)v150);
      }
      swift_bridgeObjectRelease();
      sub_25945EA34(v4);
      uint64_t v1 = sub_25953D4C0(v157);
      swift_bridgeObjectRelease();
      swift_isUniquelyReferenced_nonNull_native();
      v158[0] = v146;
      sub_25939D1E0();
      char v87 = v86;
      OUTLINED_FUNCTION_130();
      if (__OFADD__(v89, v90)) {
        goto LABEL_170;
      }
      uint64_t v91 = v88;
      char v92 = sub_259845350();
      id v93 = v158[0];
      uint64_t v2 = v74;
      if (v92)
      {
        sub_25939D1E0();
        OUTLINED_FUNCTION_85_12();
        if (!v27)
        {
LABEL_106:
          OUTLINED_FUNCTION_57_18();
          sub_2598457D0();
          return;
        }
        uint64_t v91 = v94;
      }
      id v146 = v93;
      if (v87)
      {
        uint64_t v95 = *((void *)v93 + 7);
        swift_bridgeObjectRelease();
        *(void *)(v95 + 8 * v91) = v1;
        uint64_t v9 = (void *)(v0 + 16);
      }
      else
      {
        uint64_t v96 = (void *)OUTLINED_FUNCTION_63_16();
        memcpy(v96, v150, 0x58uLL);
        *(void *)(*((void *)v93 + 7) + 8 * v91) = v1;
        OUTLINED_FUNCTION_302();
        if (v44) {
          goto LABEL_177;
        }
        *((void *)v93 + 2) = v97;
        sub_2593A2D18((uint64_t)v150);
        uint64_t v9 = (void *)(v0 + 16);
      }
      uint64_t v12 = v145 + 1;
      swift_bridgeObjectRelease();
      sub_25945EA34((uint64_t)v9);
      uint64_t v10 = v151;
      if (v145 + 1 == v140)
      {
        swift_bridgeObjectRelease();
        uint64_t v8 = MEMORY[0x263F8EE80];
        uint64_t v99 = v146;
        uint64_t v100 = v147;
        uint64_t v101 = v148;
        int v102 = v149;
        uint64_t v103 = v141;
        LOBYTE(v6) = v138;
        goto LABEL_109;
      }
    }
    OUTLINED_FUNCTION_53_7();
    uint64_t v154 = v13 + v14;
    sub_2593A2D18((uint64_t)v9);
    sub_25945EA98(v142);
    unint64_t v15 = 0;
    uint64_t v152 = v13;
    while (1)
    {
      while (1)
      {
        if (v15 >= *(void *)(v13 + 16))
        {
          __break(1u);
LABEL_166:
          *(void *)(v0 + 616) = *(void *)(v0 + 352);
          sub_259843F00();
          sub_259843F00();
          sub_259843F00();
          sub_259843F00();
          uint64_t v126 = swift_task_alloc();
          uint64_t v127 = (void *)OUTLINED_FUNCTION_237_4(v126);
          void *v127 = v128;
          v127[1] = sub_259693A94;
          OUTLINED_FUNCTION_57_18();
          sub_2596945DC(v129, v130, v131, v132, v133, v134, v135, v136);
          return;
        }
        uint64_t v16 = v15++;
        uint64_t v17 = sub_2595226D0(v154 + *(void *)(v10 + 72) * v16, *(void *)(v0 + 496), (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        OUTLINED_FUNCTION_100_8(v17, v18, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
        if (swift_getEnumCaseMultiPayload()) {
          break;
        }
        uint64_t v31 = *(uint64_t **)(v0 + 480);
        uint64_t v32 = *v31;
        uint64_t v33 = *(void *)(*v31 + 16);
        uint64_t v34 = v148[2];
        if (__OFADD__(v34, v33)) {
          goto LABEL_172;
        }
        int isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        uint64_t v36 = v148;
        if (!isUniquelyReferenced_nonNull_native || v34 + v33 > v148[3] >> 1)
        {
          sub_25938553C();
          uint64_t v36 = v37;
        }
        uint64_t v13 = v152;
        uint64_t v148 = v36;
        if (*(void *)(v32 + 16))
        {
          OUTLINED_FUNCTION_170_8();
          if (v40 < v33) {
            goto LABEL_178;
          }
          unint64_t v41 = v38 + 16 * v39 + 32;
          if (v32 + 32 < v41 + 16 * v33 && v41 < v32 + 32 + 16 * v33) {
            goto LABEL_181;
          }
          swift_arrayInitWithCopy();
          if (v33)
          {
            uint64_t v43 = v148[2];
            BOOL v44 = __OFADD__(v43, v33);
            uint64_t v45 = v43 + v33;
            if (v44) {
              goto LABEL_180;
            }
            v148[2] = v45;
          }
        }
        else if (v33)
        {
          goto LABEL_173;
        }
        uint64_t v60 = *(void *)(v0 + 496);
        swift_bridgeObjectRelease();
        sub_2596A61D8(v60, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        char v138 = 1;
        if (v15 == v155)
        {
          uint64_t v74 = v2;
          sub_25945EAC4(v142);
          char v138 = 1;
          goto LABEL_85;
        }
      }
      uint64_t v19 = sub_2596A61D8(*(void *)(v0 + 480), (void (*)(void))type metadata accessor for QueryTokenCategoryType);
      OUTLINED_FUNCTION_100_8(v19, v20, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
      if (swift_getEnumCaseMultiPayload() != 8) {
        break;
      }
      uint64_t v21 = *(void *)(v153 + 8);
      if (!v21)
      {
        sub_2596A61D8(*(void *)(v0 + 496), (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        swift_bridgeObjectRelease();
        goto LABEL_14;
      }
      uint64_t v22 = **(void **)(v0 + 472);
      uint64_t v23 = *(void *)(*(void *)(v153 + 16) + 16);
      swift_bridgeObjectRelease();
      if (!v23)
      {
        BOOL v27 = v22 == 0x676E6964646577 && v21 == 0xE700000000000000;
        if (v27 || (sub_259845750() & 1) != 0)
        {
          sub_2593A2D18((uint64_t)v9);
          int64_t v28 = v149;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_182_7();
            int64_t v28 = v70;
          }
          unint64_t v29 = v28[2];
          unint64_t v30 = v29 + 1;
          if (v29 >= v28[3] >> 1)
          {
            OUTLINED_FUNCTION_176_6();
            int64_t v28 = v71;
            id v149 = v71;
          }
          else
          {
            id v149 = v28;
          }
        }
        else
        {
          sub_2593A2D18((uint64_t)v9);
          int64_t v28 = v141;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_182_7();
            int64_t v28 = v72;
          }
          unint64_t v29 = v28[2];
          unint64_t v30 = v29 + 1;
          if (v29 >= v28[3] >> 1)
          {
            OUTLINED_FUNCTION_176_6();
            int64_t v28 = v73;
            id v141 = v73;
          }
          else
          {
            id v141 = v28;
          }
        }
        void v28[2] = v30;
        memcpy(&v28[11 * v29 + 4], v9, 0x58uLL);
        sub_25935633C(0, (unint64_t *)&qword_26A389B20);
        sub_259843F00();
        id v46 = sub_2593AD3C8();
        sub_259843F00();
        id v47 = sub_2593AD3C8();
        uint64_t v48 = OUTLINED_FUNCTION_248_3();
        sub_2596D8F0C(v48, v28);

        id v49 = v46;
        char v50 = v28;
        id v51 = v49;
        uint64_t v52 = OUTLINED_FUNCTION_248_3();
        sub_2596D8F0C(v52, v28);

        id v53 = v50;
        sub_2596D8F0C(v158, v53);

        uint64_t v2 = 0;
        unint64_t v54 = sub_25945ECB8();
        uint64_t v144 = v53;
        if (*(void *)(v54 + 16))
        {
          sub_259843F00();
          unint64_t v55 = sub_25939CE90();
          if (v56)
          {
            sub_259356E2C(*(void *)(v54 + 56) + 32 * v55, (uint64_t)v143);
          }
          else
          {
            *uint64_t v143 = 0u;
            *(_OWORD *)(v0 + 320) = 0u;
          }
          swift_bridgeObjectRelease();
          uint64_t v57 = v0 + 304;
          if (*(void *)(v0 + 328))
          {
            __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
            OUTLINED_FUNCTION_260_1();
            if (swift_dynamicCast())
            {
              uint64_t v58 = *(void *)(v0 + 336);
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              id v59 = (void *)MEMORY[0x263F8EE78];
            }
            else
            {
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              swift_bridgeObjectRelease();
              id v59 = (void *)MEMORY[0x263F8EE78];
              uint64_t v58 = MEMORY[0x263F8EE78];
            }
            goto LABEL_56;
          }
        }
        else
        {
          uint64_t v57 = v0 + 304;
          *uint64_t v143 = 0u;
          *(_OWORD *)(v0 + 320) = 0u;
        }
        sub_25938D0FC(v57, &qword_26A38DFB0);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        id v59 = (void *)MEMORY[0x263F8EE78];
        uint64_t v58 = MEMORY[0x263F8EE78];
LABEL_56:
        uint64_t v61 = *(void *)(v58 + 16);
        if (v61)
        {
          v158[0] = v59;
          sub_259845270();
          uint64_t v62 = v58 + 40;
          do
          {
            sub_259843F00();
            OUTLINED_FUNCTION_58_7();
            sub_2593AD3C8();
            sub_259845240();
            sub_259845280();
            OUTLINED_FUNCTION_260_1();
            sub_259845290();
            sub_259845250();
            v62 += 16;
            --v61;
          }
          while (v61);
          unint64_t v63 = (unint64_t)v158[0];
          swift_bridgeObjectRelease();
          uint64_t v2 = 0;
        }
        else
        {
          swift_bridgeObjectRelease();
          unint64_t v63 = (unint64_t)v59;
        }
        uint64_t v3 = v28;
        if (v63 >> 62)
        {
          sub_259843F00();
          uint64_t v64 = sub_259845460();
          if (v64)
          {
LABEL_63:
            if (v64 < 1) {
              goto LABEL_174;
            }
            for (uint64_t i = 0; i != v64; ++i)
            {
              if ((v63 & 0xC000000000000001) != 0) {
                id v66 = (id)MEMORY[0x25A2DFA20](i, v63);
              }
              else {
                id v66 = *(id *)(v63 + 8 * i + 32);
              }
              sub_2596D8F0C(v158, v66);
            }
          }
        }
        else
        {
          uint64_t v64 = *(void *)((v63 & 0xFFFFFFFFFFFFFF8) + 0x10);
          sub_259843F00();
          if (v64) {
            goto LABEL_63;
          }
        }
        swift_bridgeObjectRelease();
        if (v63 >> 62)
        {
          uint64_t v67 = sub_259845460();
          if (!v67) {
            goto LABEL_79;
          }
        }
        else
        {
          uint64_t v67 = *(void *)((v63 & 0xFFFFFFFFFFFFFF8) + 0x10);
          if (!v67) {
            goto LABEL_79;
          }
        }
        if (v67 < 1) {
          goto LABEL_175;
        }
        for (uint64_t j = 0; j != v67; ++j)
        {
          if ((v63 & 0xC000000000000001) != 0) {
            id v69 = (id)MEMORY[0x25A2DFA20](j, v63);
          }
          else {
            id v69 = *(id *)(v63 + 8 * j + 32);
          }
          sub_2596D8F0C(v158, v69);
        }
LABEL_79:

        swift_bridgeObjectRelease();
        uint64_t v9 = (void *)(v0 + 16);
        uint64_t v10 = v151;
        uint64_t v13 = v152;

        uint64_t v26 = *(void *)(v0 + 496);
        uint64_t v25 = type metadata accessor for QueryTokenSuggestion;
LABEL_12:
        sub_2596A61D8(v26, (void (*)(void))v25);
        goto LABEL_14;
      }
      sub_2596A61D8(*(void *)(v0 + 496), (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      swift_bridgeObjectRelease();
      uint64_t v10 = v151;
      uint64_t v13 = v152;
LABEL_14:
      if (v15 == v155)
      {
        uint64_t v74 = v2;
        sub_25945EAC4(v142);
        goto LABEL_85;
      }
    }
    uint64_t v24 = *(void *)(v0 + 472);
    sub_2596A61D8(*(void *)(v0 + 496), (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    uint64_t v25 = type metadata accessor for QueryTokenCategoryType;
    uint64_t v26 = v24;
    goto LABEL_12;
  }
  uint64_t v99 = (void *)MEMORY[0x263F8EE80];
  uint64_t v100 = (void *)MEMORY[0x263F8EE80];
  uint64_t v101 = (void *)MEMORY[0x263F8EE78];
  int v102 = (void *)MEMORY[0x263F8EE78];
  uint64_t v103 = (void *)MEMORY[0x263F8EE78];
LABEL_109:
  *(void *)(v0 + 536) = v103;
  *(void *)(v0 + 528) = v102;
  *(void *)(v0 + 520) = v101;
  *(unsigned char *)(v0 + 650) = v6 & 1;
  *(void *)(v0 + 504) = v99;
  *(void *)(v0 + 512) = v100;
  if (!v103[2] && !v102[2])
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v0 + 224);
    sub_259843F00();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_57_18();
    __asm { BRAA            X2, X16 }
  }
  *(void *)(v0 + 352) = v8;
  uint64_t v104 = sub_259843F00();
  sub_25953D2BC(v104);
  OUTLINED_FUNCTION_44_7();
  sub_2593F71F8();
  *(void *)(v0 + 544) = v105;
  swift_release();
  if (v100[2])
  {
    v158[0] = (id)MEMORY[0x263F8EE78];
    sub_2597EFE50((void *)(v0 + 104), v100);
    uint64_t v106 = *(void *)(v0 + 112);
    uint64_t v107 = *(void *)(v0 + 128);
    uint64_t v108 = *(void *)(v0 + 136);
    int64_t v109 = (unint64_t)(*(void *)(v0 + 120) + 64) >> 6;
    swift_bridgeObjectRetain_n();
    if (!v108) {
      goto LABEL_114;
    }
LABEL_113:
    OUTLINED_FUNCTION_40_28();
    while (1)
    {
      OUTLINED_FUNCTION_252_3();
      sub_25973F8E8();
      if (v108) {
        goto LABEL_113;
      }
LABEL_114:
      int64_t v110 = v107 + 1;
      if (__OFADD__(v107, 1)) {
        goto LABEL_171;
      }
      if (v110 >= v109) {
        goto LABEL_134;
      }
      if (!*(void *)(v106 + 8 * v110))
      {
        if (v107 + 2 >= v109) {
          goto LABEL_134;
        }
        if (!*(void *)(v106 + 8 * (v107 + 2)))
        {
          if (v107 + 3 >= v109) {
            goto LABEL_134;
          }
          if (!*(void *)(v106 + 8 * (v107 + 3)))
          {
            if (v107 + 4 >= v109) {
              goto LABEL_134;
            }
            if (!*(void *)(v106 + 8 * (v107 + 4)))
            {
              if (v107 + 5 >= v109) {
                goto LABEL_134;
              }
              if (!*(void *)(v106 + 8 * (v107 + 5)))
              {
                if (v107 + 6 >= v109) {
                  goto LABEL_134;
                }
                if (!*(void *)(v106 + 8 * (v107 + 6))) {
                  break;
                }
              }
            }
          }
        }
      }
LABEL_125:
      OUTLINED_FUNCTION_134_8();
    }
    int64_t v111 = v107 + 7;
    while (v111 < v109)
    {
      OUTLINED_FUNCTION_277_1();
      if (v112) {
        goto LABEL_125;
      }
    }
LABEL_134:
    swift_release();
    swift_bridgeObjectRelease();
    *(id *)(v0 + 552) = v158[0];
    *(unsigned char *)(v0 + 648) = 0;
    sub_25968EBCC(v0 + 184);
    unint64_t v113 = (void *)swift_task_alloc();
    *(void *)(v0 + 560) = v113;
    *unint64_t v113 = v0;
    v113[1] = sub_2596933C8;
    OUTLINED_FUNCTION_43_18();
  }
  else
  {
    uint64_t v114 = *(void *)(v0 + 504);
    if (!*(void *)(v114 + 16)) {
      goto LABEL_166;
    }
    v158[0] = (id)MEMORY[0x263F8EE78];
    sub_2597EFE50((void *)(v0 + 144), v114);
    uint64_t v115 = *(void *)(v0 + 152);
    OUTLINED_FUNCTION_56_14();
    if (!v1) {
      goto LABEL_138;
    }
LABEL_137:
    OUTLINED_FUNCTION_84_13();
    while (1)
    {
      sub_259843F00();
      sub_25973F8E8();
      if (v1) {
        goto LABEL_137;
      }
LABEL_138:
      uint64_t v116 = (uint64_t)v3 + 1;
      if (__OFADD__(v3, 1)) {
        goto LABEL_179;
      }
      if (v116 >= v4) {
        goto LABEL_158;
      }
      if (!*(void *)(v115 + 8 * v116))
      {
        if ((uint64_t)v3 + 2 >= v4) {
          goto LABEL_158;
        }
        if (!*(void *)(v115 + 8 * ((void)v3 + 2)))
        {
          if ((uint64_t)v3 + 3 >= v4) {
            goto LABEL_158;
          }
          if (!*(void *)(v115 + 8 * ((void)v3 + 3)))
          {
            if ((uint64_t)v3 + 4 >= v4) {
              goto LABEL_158;
            }
            if (!*(void *)(v115 + 8 * ((void)v3 + 4)))
            {
              if ((uint64_t)v3 + 5 >= v4) {
                goto LABEL_158;
              }
              if (!*(void *)(v115 + 8 * ((void)v3 + 5)))
              {
                if ((uint64_t)v3 + 6 >= v4) {
                  goto LABEL_158;
                }
                if (!*(void *)(v115 + 8 * ((void)v3 + 6))) {
                  break;
                }
              }
            }
          }
        }
      }
LABEL_149:
      OUTLINED_FUNCTION_162_5();
      uint64_t v1 = v118 & v117;
      uint64_t v3 = v119;
    }
    uint64_t v120 = (uint64_t)v3 + 7;
    while (v120 < v4)
    {
      OUTLINED_FUNCTION_277_1();
      if (v121) {
        goto LABEL_149;
      }
    }
LABEL_158:
    swift_release();
    swift_bridgeObjectRelease();
    *(id *)(v0 + 584) = v158[0];
    *(unsigned char *)(v0 + 649) = 1;
    sub_25968EBCC(v0 + 264);
    uint64_t v122 = (void *)swift_task_alloc();
    *(void *)(v0 + 592) = v122;
    *uint64_t v122 = v0;
    v122[1] = sub_259693804;
    OUTLINED_FUNCTION_150_6();
  }
  OUTLINED_FUNCTION_57_18();
  sub_25968EC68();
}

uint64_t sub_2596933C8()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  OUTLINED_FUNCTION_53_1();
  void *v7 = *v1;
  *(void *)(v5 + 568) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  if (v0)
  {
    OUTLINED_FUNCTION_260_3();
    swift_bridgeObjectRelease();
    sub_25938D0FC(v5 + 184, &qword_26A38C870);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v5 + 576) = v3;
    sub_25938D0FC(v5 + 184, &qword_26A38C870);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

void sub_259693514()
{
  OUTLINED_FUNCTION_74();
  uint64_t v1 = *(void *)(v0 + 576);
  uint64_t v2 = *(void *)(v0 + 512);
  uint64_t v4 = *(void *)(v0 + 424);
  uint64_t v3 = *(void *)(v0 + 432);
  uint64_t v5 = swift_task_alloc();
  *(void *)(v5 + 16) = v3;
  *(void *)(v5 + 24) = v4;
  sub_259688258(MEMORY[0x263F8EE80], (void (*)(uint64_t *, void *))sub_2596A6420, v5, v1);
  uint64_t v7 = v6;
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  uint64_t v8 = sub_259843F00();
  sub_25968F990(v8, v7, (uint64_t *)(v0 + 352));
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v9 = *(void *)(v0 + 504);
  if (*(void *)(v9 + 16))
  {
    uint64_t v30 = MEMORY[0x263F8EE78];
    sub_2597EFE50((void *)(v0 + 144), v9);
    uint64_t v10 = *(void *)(v0 + 152);
    uint64_t v11 = *(void *)(v0 + 168);
    uint64_t v12 = *(void *)(v0 + 176);
    OUTLINED_FUNCTION_230_5();
    OUTLINED_FUNCTION_173_0();
    if (!v12) {
      goto LABEL_4;
    }
LABEL_3:
    OUTLINED_FUNCTION_40_28();
    while (1)
    {
      sub_259843F00();
      sub_25973F8E8();
      if (v12) {
        goto LABEL_3;
      }
LABEL_4:
      uint64_t v13 = v11 + 1;
      if (__OFADD__(v11, 1))
      {
        __break(1u);
        return;
      }
      if (v13 >= v2) {
        goto LABEL_23;
      }
      if (!*(void *)(v10 + 8 * v13))
      {
        if (v11 + 2 >= v2) {
          goto LABEL_23;
        }
        if (!*(void *)(v10 + 8 * (v11 + 2)))
        {
          if (v11 + 3 >= v2) {
            goto LABEL_23;
          }
          if (!*(void *)(v10 + 8 * (v11 + 3)))
          {
            if (v11 + 4 >= v2) {
              goto LABEL_23;
            }
            if (!*(void *)(v10 + 8 * (v11 + 4)))
            {
              if (v11 + 5 >= v2) {
                goto LABEL_23;
              }
              if (!*(void *)(v10 + 8 * (v11 + 5)))
              {
                if (v11 + 6 >= v2) {
                  goto LABEL_23;
                }
                if (!*(void *)(v10 + 8 * (v11 + 6))) {
                  break;
                }
              }
            }
          }
        }
      }
LABEL_20:
      OUTLINED_FUNCTION_145_7();
    }
    uint64_t v14 = v11 + 7;
    while (v14 < v2)
    {
      if (*(void *)(v10 + 8 * v14++)) {
        goto LABEL_20;
      }
    }
LABEL_23:
    swift_release();
    swift_bridgeObjectRelease();
    *(void *)(v0 + 584) = v30;
    *(unsigned char *)(v0 + 649) = 1;
    sub_25968EBCC(v0 + 264);
    uint64_t v16 = (void *)swift_task_alloc();
    *(void *)(v0 + 592) = v16;
    *uint64_t v16 = v0;
    v16[1] = sub_259693804;
    OUTLINED_FUNCTION_151_4();
    OUTLINED_FUNCTION_170();
    sub_25968EC68();
  }
  else
  {
    OUTLINED_FUNCTION_199_4();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v18 = swift_task_alloc();
    uint64_t v19 = (void *)OUTLINED_FUNCTION_237_4(v18);
    *uint64_t v19 = v20;
    v19[1] = sub_259693A94;
    OUTLINED_FUNCTION_54_20();
    OUTLINED_FUNCTION_170();
    sub_2596945DC(v21, v22, v23, v24, v25, v26, v27, v28);
  }
}

uint64_t sub_259693804()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  OUTLINED_FUNCTION_53_1();
  void *v7 = *v1;
  *(void *)(v5 + 600) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  if (v0)
  {
    OUTLINED_FUNCTION_260_3();
    swift_bridgeObjectRelease();
    sub_25938D0FC(v5 + 264, &qword_26A38C870);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v5 + 608) = v3;
    sub_25938D0FC(v5 + 264, &qword_26A38C870);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_259693950()
{
  OUTLINED_FUNCTION_74();
  uint64_t v1 = v0[76];
  uint64_t v3 = v0[53];
  uint64_t v2 = v0[54];
  uint64_t v4 = swift_task_alloc();
  *(void *)(v4 + 16) = v2;
  *(void *)(v4 + 24) = v3;
  sub_259688258(MEMORY[0x263F8EE80], (void (*)(uint64_t *, void *))sub_2596A6460, v4, v1);
  uint64_t v6 = v5;
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  uint64_t v7 = sub_259843F00();
  sub_25968F990(v7, v6, v0 + 44);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_199_4();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  uint64_t v8 = swift_task_alloc();
  uint64_t v9 = (void *)OUTLINED_FUNCTION_237_4(v8);
  void *v9 = v10;
  v9[1] = sub_259693A94;
  OUTLINED_FUNCTION_54_20();
  OUTLINED_FUNCTION_170();
  return sub_2596945DC(v11, v12, v13, v14, v15, v16, v17, v18);
}

uint64_t sub_259693A94()
{
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  uint64_t v4 = *v1;
  OUTLINED_FUNCTION_9();
  void *v5 = v4;
  *(void *)(v7 + 632) = v6;
  *(void *)(v7 + 640) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v0)
  {
    OUTLINED_FUNCTION_193_0();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_181();
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_259693C6C()
{
  uint64_t v22 = v0;
  uint64_t v2 = (uint64_t)(v0 + 28);
  if (*(void *)(v0[79] + 16))
  {
    OUTLINED_FUNCTION_106();
    v3();
    OUTLINED_FUNCTION_82_14();
    OUTLINED_FUNCTION_173_0();
    uint64_t v4 = sub_259843A50();
    os_log_type_t v5 = sub_259844B70();
    if (OUTLINED_FUNCTION_55(v5))
    {
      uint64_t v20 = v0[51];
      uint64_t v6 = OUTLINED_FUNCTION_21_0();
      v21[0] = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v6 = 136315394;
      sub_2596A647C();
      sub_259843F00();
      uint64_t v7 = sub_259843EC0();
      unint64_t v9 = v8;
      swift_bridgeObjectRelease();
      v0[46] = sub_259356D5C(v7, v9, v21);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_171_0();
      *(_WORD *)(v6 + 12) = 2080;
      sub_259689088(v20);
      uint64_t v10 = MEMORY[0x25A2DED80]();
      unint64_t v12 = v11;
      swift_bridgeObjectRelease();
      v0[48] = sub_259356D5C(v10, v12, v21);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_112_0();
      _os_log_impl(&dword_25934C000, v4, v1, "Update and add assets to graph meaningful personal event query tokens with %s,\nscoped with %s", (uint8_t *)v6, 0x16u);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      uint64_t v2 = (uint64_t)(v0 + 28);
      OUTLINED_FUNCTION_61_0();

      OUTLINED_FUNCTION_11();
      v13();
    }
    else
    {
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_77();

      OUTLINED_FUNCTION_274_0();
      OUTLINED_FUNCTION_95();
      v14();
    }
    sub_259843F00();
    uint64_t v15 = OUTLINED_FUNCTION_50_0();
    sub_259688830(v15, v16);
    OUTLINED_FUNCTION_19_7();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v2);
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 28));
    sub_259843F00();
  }
  OUTLINED_FUNCTION_64_19();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v17 = OUTLINED_FUNCTION_6_35();
  return v18(v17);
}

uint64_t sub_259693FE4()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v0 + 224);
  OUTLINED_FUNCTION_64_19();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  OUTLINED_FUNCTION_286();
  return v2(v1, v2, v3, v4, v5, v6, v7, v8);
}

uint64_t sub_259694080()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v0 + 224);
  OUTLINED_FUNCTION_64_19();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  OUTLINED_FUNCTION_286();
  return v2(v1, v2, v3, v4, v5, v6, v7, v8);
}

uint64_t sub_25969411C()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  swift_bridgeObjectRelease();
  __swift_destroy_boxed_opaque_existential_1(v0 + 224);
  OUTLINED_FUNCTION_64_19();
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  OUTLINED_FUNCTION_286();
  return v2(v1, v2, v3, v4, v5, v6, v7, v8);
}

void sub_2596941B8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v42 = a4;
  uint64_t v7 = sub_259843A80();
  uint64_t v8 = *(void *)(v7 - 8);
  double v9 = MEMORY[0x270FA5388](v7);
  unint64_t v11 = (char *)&v34 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  char v13 = *(void **)a2;
  unint64_t v12 = *(void **)(a2 + 8);
  if (*(unsigned char *)(a2 + 16))
  {
    (*(void (**)(char *, uint64_t, uint64_t, double))(v8 + 16))(v11, a3, v7, v9);
    sub_2595E7250(v12, 1);
    sub_2595E7250(v12, 1);
    id v14 = v13;
    sub_2595E7250(v12, 1);
    id v15 = v14;
    sub_2595E7250(v12, 1);
    id v16 = v15;
    uint64_t v17 = sub_259843A50();
    os_log_type_t v18 = sub_259844B50();
    int v19 = v18;
    if (os_log_type_enabled(v17, v18))
    {
      uint64_t v20 = swift_slowAlloc();
      uint64_t v39 = v4;
      uint64_t v21 = v20;
      uint64_t v35 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v21 = 138478083;
      uint64_t v37 = v17;
      int v36 = v19;
      uint64_t v40 = (uint64_t)v16;
      id v22 = v16;
      uint64_t v38 = v7;
      id v23 = v16;
      id v24 = v22;
      sub_259844E10();
      uint64_t v25 = v35;
      *uint64_t v35 = v23;

      *(_WORD *)(v21 + 12) = 2112;
      id v26 = v12;
      uint64_t v27 = _swift_stdlib_bridgeErrorToNSError();
      uint64_t v40 = v27;
      id v16 = v23;
      uint64_t v7 = v38;
      sub_259844E10();
      v25[1] = v27;
      uint64_t v17 = v37;
      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
      _os_log_impl(&dword_25934C000, v17, (os_log_type_t)v36, "Embedding retrieval failed for '%{private}@' personal event token: %@", (uint8_t *)v21, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v25, -1, -1);
      MEMORY[0x25A2E13A0](v21, -1, -1);
    }
    else
    {

      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
    }
    uint64_t v31 = v42;

    (*(void (**)(char *, uint64_t))(v8 + 8))(v11, v7);
    if (v31)
    {
      uint64_t v40 = 0;
      unint64_t v41 = 0xE000000000000000;
      sub_259845110();
      sub_259844240();
      uint64_t v32 = v16;
      id v33 = objc_msgSend(v16, sel_description);
      sub_2598440A0();

      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      sub_2594E88F0();

      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
      swift_bridgeObjectRelease();
      return;
    }

    sub_259431E8C(v12, 1);
    uint64_t v29 = v12;
    char v30 = 1;
  }
  else
  {
    sub_2595E7250(*(id *)(a2 + 8), 0);
    sub_2595E7250(v12, 0);
    id v28 = v13;
    sub_2593A1250((uint64_t)v12, (uint64_t)v28);

    uint64_t v29 = v12;
    char v30 = 0;
  }
  sub_259431E8C(v29, v30);
}

uint64_t sub_2596945DC(uint64_t a1, uint64_t a2, char a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8)
{
  *(void *)(v9 + 112) = a8;
  *(void *)(v9 + 120) = v8;
  *(void *)(v9 + 96) = a5;
  *(void *)(v9 + 104) = a6;
  *(void *)(v9 + 80) = a2;
  *(void *)(v9 + 88) = a4;
  *(unsigned char *)(v9 + 272) = a3;
  *(void *)(v9 + 72) = a1;
  uint64_t v10 = sub_259843A80();
  *(void *)(v9 + 128) = v10;
  *(void *)(v9 + 136) = *(void *)(v10 - 8);
  *(void *)(v9 + 144) = swift_task_alloc();
  *(void *)(v9 + 152) = swift_task_alloc();
  *(void *)(v9 + 160) = swift_task_alloc();
  *(void *)(v9 + 168) = swift_task_alloc();
  *(void *)(v9 + 176) = swift_task_alloc();
  *(void *)(v9 + 184) = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_2596946EC, 0, 0);
}

void sub_2596946EC()
{
  *(void *)(v0 + 16) = MEMORY[0x263F8EE80];
  uint64_t v1 = v0 + 16;
  uint64_t v2 = *(void *)(v0 + 72);
  uint64_t v3 = *(void *)(*(void *)(v0 + 88) + 16);
  *(void *)(v0 + 192) = v3;
  uint64_t v4 = *(void *)(v2 + 16);
  if (!v4) {
    goto LABEL_22;
  }
  uint64_t v5 = *(void *)(v0 + 136);
  uint64_t v6 = *(void *)(v5 + 16);
  v5 += 16;
  *(void *)(v0 + 200) = v6;
  *(void *)(v0 + 208) = v5 & 0xFFFFFFFFFFFFLL | 0xE3BA000000000000;
  uint64_t v78 = v6;
  uint64_t v79 = v5;
  OUTLINED_FUNCTION_86();
  v7();
  sub_259843F00();
  uint64_t v8 = (void *)sub_259843A50();
  os_log_type_t v9 = sub_259844B70();
  uint64_t v76 = v0 + 16;
  if (OUTLINED_FUNCTION_91(v9))
  {
    uint64_t v10 = (float *)OUTLINED_FUNCTION_21_0();
    OUTLINED_FUNCTION_126_3(v10, 3.8521e-34);
    *(void *)(v0 + 56) = v4;
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_231_5();
    *(void *)(v0 + 64) = v3;
    sub_259844E10();
    OUTLINED_FUNCTION_141_7();
    _os_log_impl(v11, v12, v13, v14, (uint8_t *)v10, 0x16u);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }

  uint64_t v15 = *(void *)(v0 + 136);
  id v16 = *(void (**)(void))(v15 + 8);
  *(void *)(v0 + 216) = v16;
  *(void *)(v0 + 224) = (v15 + 8) & 0xFFFFFFFFFFFFLL | 0x4F8000000000000;
  OUTLINED_FUNCTION_124();
  v16();
  if (v3)
  {
    unint64_t v17 = *(void *)(*(void *)(v0 + 88) + 40);
    sub_259843F00();
  }
  else
  {
    if ((*(unsigned char *)(v0 + 272) & 1) == 0)
    {
      uint64_t v29 = *(void *)(v0 + 120);
      char v30 = *(void **)(v29 + *(int *)(type metadata accessor for QueryGenerator(0) + 20));
      uint64_t v31 = static StoryGenerationUtilities.mePersonUUID(in:)(v30);
      if (v32)
      {
        uint64_t v33 = v31;
        unint64_t v17 = v32;
        uint64_t v34 = *(void *)(v0 + 176);
        uint64_t v35 = *(void *)(v0 + 96);
        swift_bridgeObjectRelease();
        int v36 = OUTLINED_FUNCTION_170_3();
        uint64_t v18 = static StoryGenerationUtilities.personAssetUUIDs(with:scopedAssetUUIDs:in:)(v36, v37, v35, (int)v30, v38, v39, v40, v41, v72, v73, v74, v0 + 56, v75, v76, v78, v79, v80[0], v80[1], v80[2],
                v80[3],
                v80[4],
                v80[5],
                v80[6],
                v80[7],
                v80[8],
                v80[9],
                v80[10],
                v80[11]);
        OUTLINED_FUNCTION_106();
        v42();
        OUTLINED_FUNCTION_82_14();
        os_log_type_t v43 = v34;
        BOOL v44 = sub_259843A50();
        os_log_type_t v45 = sub_259844B70();
        if (OUTLINED_FUNCTION_145_0(v45))
        {
          id v46 = (_DWORD *)OUTLINED_FUNCTION_54();
          v80[0] = OUTLINED_FUNCTION_20();
          *id v46 = 136315138;
          OUTLINED_FUNCTION_160_5();
          sub_259843F00();
          uint64_t v47 = sub_259356D5C(v33, v17, v80);
          OUTLINED_FUNCTION_54_2(v47, (void *)(v77 + 32));
          sub_259844E10();
          swift_bridgeObjectRelease_n();
          OUTLINED_FUNCTION_132_8(&dword_25934C000, v44, v43, "Use Me person %s's information to scope the personal event moment assets fetching");
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }
        else
        {
          OUTLINED_FUNCTION_77();
        }
        OUTLINED_FUNCTION_124();
        v16();
LABEL_10:
        *(void *)(v0 + 232) = v17;
        *(void *)(v0 + 240) = v18;
        uint64_t v19 = *(void *)(v0 + 128);
        sub_259843F00();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_106();
        v20();
        uint64_t v21 = sub_259843A50();
        os_log_type_t v22 = sub_259844B70();
        if (OUTLINED_FUNCTION_218(v22))
        {
          id v23 = (uint8_t *)OUTLINED_FUNCTION_41();
          *(_WORD *)id v23 = 0;
          _os_log_impl(&dword_25934C000, v21, (os_log_type_t)v19, "Use moment graph to get the anniversary/birthday assets via XPC call", v23, 2u);
          OUTLINED_FUNCTION_61_0();
        }
        uint64_t v24 = *(void *)(v0 + 120);

        OUTLINED_FUNCTION_124();
        v16();
        uint64_t v25 = v24 + *(int *)(type metadata accessor for QueryGenerator(0) + 20);
        __swift_project_boxed_opaque_existential_1((void *)(v25 + 56), *(void *)(v25 + 80));
        id v26 = (void *)swift_task_alloc();
        *(void *)(v0 + 248) = v26;
        *id v26 = v0;
        v26[1] = sub_259694D94;
        OUTLINED_FUNCTION_205();
        __asm { BRAA            X9, X16 }
      }
      sub_259843F00();
      goto LABEL_19;
    }
    unint64_t v17 = 0;
  }
  uint64_t v18 = *(void *)(v0 + 96);
  sub_259843F00();
  if (v17) {
    goto LABEL_10;
  }
LABEL_19:
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_90_5();
  OUTLINED_FUNCTION_106();
  v48();
  id v49 = sub_259843A50();
  os_log_type_t v50 = sub_259844B70();
  if (os_log_type_enabled(v49, v50))
  {
    id v51 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_3_0(v51);
    OUTLINED_FUNCTION_227_4(&dword_25934C000, v49, v50, "Use the complete retrieval results for anniversary/birthday query tokens");
    OUTLINED_FUNCTION_61_0();
  }
  uint64_t v52 = *(void *)(v0 + 104);
  uint64_t v53 = *(void *)(v0 + 72);

  OUTLINED_FUNCTION_56_4();
  OUTLINED_FUNCTION_124();
  v16();
  uint64_t v54 = v53;
  uint64_t v1 = v0 + 16;
  sub_2596951E8(v54, v52, v76);
LABEL_22:
  uint64_t v55 = *(void *)(*(void *)(v0 + 80) + 16);
  if (v55)
  {
    OUTLINED_FUNCTION_106();
    v56();
    sub_259843F00();
    uint64_t v57 = (void *)sub_259843A50();
    os_log_type_t v58 = sub_259844B70();
    if (OUTLINED_FUNCTION_52(v58))
    {
      uint64_t v59 = *(void *)(v0 + 192);
      uint64_t v60 = v1;
      uint64_t v61 = OUTLINED_FUNCTION_21_0();
      OUTLINED_FUNCTION_126_3((float *)v61, 3.8521e-34);
      *(void *)(v0 + 24) = v55;
      OUTLINED_FUNCTION_86_0();
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v61 + 12) = 2048;
      *(void *)(v0 + 32) = v59;
      sub_259844E10();
      OUTLINED_FUNCTION_211();
      _os_log_impl(v62, v63, v64, v65, (uint8_t *)v61, 0x16u);
      uint64_t v1 = v60;
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    uint64_t v66 = OUTLINED_FUNCTION_106_8();
    v67(v66);
    uint64_t v68 = OUTLINED_FUNCTION_260_1();
    sub_2596951E8(v68, v69, v1);
  }
  OUTLINED_FUNCTION_223_4();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_61_9();
  OUTLINED_FUNCTION_205();
  __asm { BRAA            X2, X16 }
}

uint64_t sub_259694D94()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  *uint64_t v6 = *v1;
  *(void *)(v5 + 256) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  swift_bridgeObjectRelease();
  if (v0) {
    swift_bridgeObjectRelease();
  }
  else {
    *(void *)(v5 + 264) = v3;
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_259694EC8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  OUTLINED_FUNCTION_121();
  *(void *)(v14 + 16) = *(void *)(v14 + 264);
  uint64_t v15 = *(void *)(v14 + 232);
  uint64_t v16 = sub_259843F00();
  sub_2596A5A00(v16);
  OUTLINED_FUNCTION_44_7();
  swift_bridgeObjectRelease();
  unint64_t v17 = sub_259738AE8();
  if (v17[2])
  {
    (*(void (**)(void, void, void))(v14 + 200))(*(void *)(v14 + 160), *(void *)(v14 + 120), *(void *)(v14 + 128));
    uint64_t v18 = sub_259843A50();
    os_log_type_t v19 = sub_259844B70();
    if (OUTLINED_FUNCTION_30_1(v19))
    {
      uint64_t v20 = (uint8_t *)OUTLINED_FUNCTION_54();
      *(_DWORD *)uint64_t v20 = 134217984;
      *(void *)(v14 + 40) = v17[2];
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v18, (os_log_type_t)v15, "There are %ld anniversary/birthday assets with empty retrieval results", v20, 0xCu);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    uint64_t v21 = *(void *)(v14 + 104);
    uint64_t v22 = *(void *)(v14 + 72);
    (*(void (**)(void, void))(v14 + 216))(*(void *)(v14 + 160), *(void *)(v14 + 128));
    sub_2596951E8(v22, v21, v14 + 16);
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v23 = *(void *)(*(void *)(v14 + 80) + 16);
  if (v23)
  {
    OUTLINED_FUNCTION_106();
    v24();
    sub_259843F00();
    uint64_t v25 = (void *)sub_259843A50();
    os_log_type_t v26 = sub_259844B70();
    if (OUTLINED_FUNCTION_52(v26))
    {
      a10 = v14 + 40;
      uint64_t v27 = *(void *)(v14 + 192);
      uint64_t v28 = (float *)OUTLINED_FUNCTION_21_0();
      OUTLINED_FUNCTION_126_3(v28, 3.8521e-34);
      *(void *)(v14 + 24) = v23;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_231_5();
      *(void *)(v14 + 32) = v27;
      sub_259844E10();
      OUTLINED_FUNCTION_211();
      _os_log_impl(v29, v30, v31, v32, (uint8_t *)v28, 0x16u);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    uint64_t v33 = OUTLINED_FUNCTION_106_8();
    v34(v33);
    uint64_t v35 = OUTLINED_FUNCTION_260_1();
    sub_2596951E8(v35, v36, v14 + 16);
  }
  OUTLINED_FUNCTION_223_4();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_61_9();
  OUTLINED_FUNCTION_126();
  return v39(v37, v38, v39, v40, v41, v42, v43, v44, a9, a10, a11, a12, a13, a14);
}

uint64_t sub_25969514C()
{
  OUTLINED_FUNCTION_247();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v0();
}

uint64_t sub_2596951E8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v34 = a3;
  uint64_t v7 = sub_259843A80();
  uint64_t v8 = *(void *)(v7 - 8);
  double v9 = MEMORY[0x270FA5388](v7);
  unint64_t v11 = (char *)v32 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t, uint64_t, double))(v8 + 16))(v11, v4, v7, v9);
  os_log_t v12 = sub_259843A50();
  os_log_type_t v13 = sub_259844B70();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_25934C000, v12, v13, "Use the assets retrieved using metadata and embedding search that are scoped to person, location, and date assets", v14, 2u);
    MEMORY[0x25A2E13A0](v14, -1, -1);
  }

  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v11, v7);
  uint64_t v16 = *(void *)(a1 + 16);
  if (v16)
  {
    uint64_t v17 = a1 + 32;
    v32[1] = a1;
    sub_259843F00();
    uint64_t v18 = 0;
    uint64_t v33 = a1 + 32;
    do
    {
      memcpy(__dst, (const void *)(v17 + 88 * v18), 0x58uLL);
      if (*(void *)(a2 + 16))
      {
        sub_2593A2D18((uint64_t)__dst);
        sub_2593A2D18((uint64_t)__dst);
        uint64_t v19 = sub_25939D1E0();
        if (v20)
        {
          uint64_t v21 = *(void *)(*(void *)(a2 + 56) + 8 * v19);
          sub_259843F00();
          sub_25945EA34((uint64_t)__dst);
          uint64_t v35 = MEMORY[0x263F8EE78];
          sub_2597EFE50(v36, v21);
          uint64_t v22 = v36[1];
          int64_t v23 = v36[3];
          uint64_t v24 = v36[4];
          int64_t v25 = (unint64_t)(v36[2] + 64) >> 6;
          uint64_t result = sub_259843F00();
          if (v24)
          {
LABEL_8:
            v24 &= v24 - 1;
            goto LABEL_27;
          }
          while (1)
          {
            int64_t v26 = v23 + 1;
            if (__OFADD__(v23, 1))
            {
              __break(1u);
              return result;
            }
            if (v26 >= v25) {
              goto LABEL_30;
            }
            uint64_t v27 = *(void *)(v22 + 8 * v26);
            int64_t v28 = v23 + 1;
            if (!v27)
            {
              int64_t v28 = v23 + 2;
              if (v23 + 2 >= v25) {
                goto LABEL_30;
              }
              uint64_t v27 = *(void *)(v22 + 8 * v28);
              if (!v27)
              {
                int64_t v28 = v23 + 3;
                if (v23 + 3 >= v25) {
                  goto LABEL_30;
                }
                uint64_t v27 = *(void *)(v22 + 8 * v28);
                if (!v27)
                {
                  int64_t v28 = v23 + 4;
                  if (v23 + 4 >= v25) {
                    goto LABEL_30;
                  }
                  uint64_t v27 = *(void *)(v22 + 8 * v28);
                  if (!v27)
                  {
                    int64_t v28 = v23 + 5;
                    if (v23 + 5 >= v25) {
                      goto LABEL_30;
                    }
                    uint64_t v27 = *(void *)(v22 + 8 * v28);
                    if (!v27)
                    {
                      int64_t v28 = v23 + 6;
                      if (v23 + 6 >= v25) {
                        goto LABEL_30;
                      }
                      uint64_t v27 = *(void *)(v22 + 8 * v28);
                      if (!v27) {
                        break;
                      }
                    }
                  }
                }
              }
            }
LABEL_26:
            uint64_t v24 = (v27 - 1) & v27;
            int64_t v23 = v28;
LABEL_27:
            uint64_t v30 = sub_259843F00();
            uint64_t result = sub_25973E110(v30);
            if (v24) {
              goto LABEL_8;
            }
          }
          int64_t v29 = v23 + 7;
          while (v29 < v25)
          {
            uint64_t v27 = *(void *)(v22 + 8 * v29++);
            if (v27)
            {
              int64_t v28 = v29 - 1;
              goto LABEL_26;
            }
          }
LABEL_30:
          swift_bridgeObjectRelease();
          swift_release();
          uint64_t v31 = sub_259737700(v35);
          sub_2593A10AC(0, 0, v31, __dst);
          uint64_t v17 = v33;
        }
        else
        {
          sub_25945EA34((uint64_t)__dst);
        }
        sub_25945EA34((uint64_t)__dst);
      }
      ++v18;
    }
    while (v18 != v16);
    return swift_bridgeObjectRelease();
  }
  return result;
}

uint64_t sub_259695550()
{
  OUTLINED_FUNCTION_14();
  v1[56] = v2;
  v1[57] = v0;
  v1[54] = v3;
  v1[55] = v4;
  v1[53] = v5;
  uint64_t v6 = sub_259843A80();
  v1[58] = v6;
  OUTLINED_FUNCTION_1(v6);
  v1[59] = v7;
  v1[60] = OUTLINED_FUNCTION_78();
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDD8);
  v1[61] = v8;
  OUTLINED_FUNCTION_1(v8);
  v1[62] = v9;
  v1[63] = OUTLINED_FUNCTION_78();
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  v1[64] = TokenCategoryType;
  OUTLINED_FUNCTION_129(TokenCategoryType);
  v1[65] = OUTLINED_FUNCTION_78();
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  OUTLINED_FUNCTION_1(TokenSuggestion);
  v1[66] = v12;
  v1[67] = OUTLINED_FUNCTION_78();
  uint64_t v13 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v13);
  v1[68] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v14, v15, v16);
}

void sub_259695688(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, unint64_t a9, unint64_t a10, uint64_t a11, uint64_t a12, void *a13, uint64_t a14, uint64_t a15, uint64_t a16, void (*a17)(void *a1@<X8>), uint64_t a18, unsigned char *a19, uint64_t a20,uint64_t a21,void *a22,void (*a23)(void *a1@<X8>),void (*a24)(void *a1@<X8>),void (*a25)(void *a1@<X8>),unint64_t a26,uint64_t a27,uint8_t *a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50)
{
  OUTLINED_FUNCTION_208();
  a49 = v51;
  a50 = v52;
  OUTLINED_FUNCTION_281_1();
  a48 = v50;
  uint64_t v53 = *(void *)(v50 + 424);
  OUTLINED_FUNCTION_66_17();
  OUTLINED_FUNCTION_176_0();
  v54();
  OUTLINED_FUNCTION_65_16();
  OUTLINED_FUNCTION_47_1();
  uint64_t v193 = v50 + 264;
  unint64_t v55 = OUTLINED_FUNCTION_79_13(33);
  v56(v55);
  static StoryGenerationUtilities.musicRelatedQueryTokens(in:)();
  uint64_t v58 = sub_259689C4C(v57);
  swift_bridgeObjectRelease();
  uint64_t v59 = *(void (**)(void *@<X8>))(v53 + 16);
  uint64_t v60 = MEMORY[0x263F8EE80];
  if (!v59)
  {
    char v131 = 0;
    uint64_t v132 = 0;
    uint64_t v129 = 0;
    uint64_t v61 = 0;
    uint64_t v130 = MEMORY[0x263F8EE80];
    uint64_t v128 = MEMORY[0x263F8EE80];
LABEL_87:
    swift_bridgeObjectRelease();
    *(void *)(v50 + 600) = v61;
    *(void *)(v50 + 592) = v129;
    *(void *)(v50 + 584) = v59;
    *(void *)(v50 + 576) = v132;
    *(void *)(v50 + 568) = v131;
    *(void *)(v50 + 560) = v128;
    *(void *)(v50 + 552) = v130;
    *(void *)(v50 + 416) = v60;
    uint64_t v133 = sub_259843F00();
    sub_25953D2BC(v133);
    swift_bridgeObjectRelease();
    sub_2593F71F8();
    *(void *)(v50 + 608) = v134;
    swift_release();
    if (*(void *)(v128 + 16))
    {
      a37 = MEMORY[0x263F8EE78];
      sub_2597EFE50((void *)(v50 + 224), v128);
      uint64_t v135 = *(void *)(v50 + 232);
      uint64_t v136 = *(void *)(v50 + 248);
      uint64_t v137 = *(void *)(v50 + 256);
      OUTLINED_FUNCTION_230_5();
      OUTLINED_FUNCTION_173_0();
      if (!v137) {
        goto LABEL_90;
      }
LABEL_89:
      OUTLINED_FUNCTION_40_28();
      while (1)
      {
        OUTLINED_FUNCTION_252_3();
        sub_25973F8E8();
        if (v137) {
          goto LABEL_89;
        }
LABEL_90:
        uint64_t v138 = v136 + 1;
        if (__OFADD__(v136, 1)) {
          goto LABEL_155;
        }
        if (v138 >= v128) {
          goto LABEL_110;
        }
        if (!*(void *)(v135 + 8 * v138))
        {
          if (v136 + 2 >= v128) {
            goto LABEL_110;
          }
          if (!*(void *)(v135 + 8 * (v136 + 2)))
          {
            if (v136 + 3 >= v128) {
              goto LABEL_110;
            }
            if (!*(void *)(v135 + 8 * (v136 + 3)))
            {
              if (v136 + 4 >= v128) {
                goto LABEL_110;
              }
              if (!*(void *)(v135 + 8 * (v136 + 4)))
              {
                if (v136 + 5 >= v128) {
                  goto LABEL_110;
                }
                if (!*(void *)(v135 + 8 * (v136 + 5)))
                {
                  if (v136 + 6 >= v128) {
                    goto LABEL_110;
                  }
                  if (!*(void *)(v135 + 8 * (v136 + 6))) {
                    break;
                  }
                }
              }
            }
          }
        }
LABEL_101:
        OUTLINED_FUNCTION_134_8();
      }
      uint64_t v139 = v136 + 7;
      while (v139 < v128)
      {
        OUTLINED_FUNCTION_277_1();
        if (v140) {
          goto LABEL_101;
        }
      }
LABEL_110:
      swift_release();
      swift_bridgeObjectRelease();
      *(void *)(v50 + 616) = a37;
      *(unsigned char *)(v50 + 322) = 0;
      sub_25968EBCC(v50 + 104);
      uint64_t v141 = swift_task_alloc();
      uint64_t v142 = (void *)OUTLINED_FUNCTION_237_4(v141);
      *uint64_t v142 = v143;
      v142[1] = sub_259696700;
      OUTLINED_FUNCTION_43_18();
    }
    else
    {
      uint64_t v144 = MEMORY[0x263F8EE78];
      if (!*(void *)(*(void *)(v50 + 552) + 16))
      {
        swift_bridgeObjectRelease();
        if (*(void *)(*(void *)(v50 + 416) + 16))
        {
          uint64_t v148 = OUTLINED_FUNCTION_11_53();
          v149(v148);
          OUTLINED_FUNCTION_6_19();
          int64_t v150 = sub_259843A50();
          os_log_type_t v151 = sub_259844B70();
          BOOL v152 = OUTLINED_FUNCTION_30_1(v151);
          uint64_t v153 = *(void *)(v50 + 472);
          if (v152)
          {
            uint64_t v201 = *(void *)(v50 + 464);
            a29 = v50 + 408;
            a30 = v50 + 416;
            uint64_t v198 = *(void *)(v50 + 480);
            LODWORD(a31) = v144;
            uint64_t v154 = (uint8_t *)OUTLINED_FUNCTION_54();
            a37 = OUTLINED_FUNCTION_20();
            *(_DWORD *)uint64_t v154 = 136315138;
            a28 = v154 + 4;
            uint64_t v155 = OUTLINED_FUNCTION_154_8();
            sub_259689088(v155);
            uint64_t v156 = MEMORY[0x25A2DED80]();
            unint64_t v158 = v157;
            swift_bridgeObjectRelease();
            uint64_t v159 = sub_259356D5C(v156, v158, &a37);
            OUTLINED_FUNCTION_54_2(v159, (void *)(v50 + 408));
            sub_259844E10();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_67_0();
            _os_log_impl(&dword_25934C000, v150, (os_log_type_t)a31, "Add assets to public event query tokens if needed, scoped with %s", v154, 0xCu);
            OUTLINED_FUNCTION_93_10();
            OUTLINED_FUNCTION_61_0();
            OUTLINED_FUNCTION_61_0();

            (*(void (**)(uint64_t, uint64_t))(v153 + 8))(v198, v201);
          }
          else
          {
            OUTLINED_FUNCTION_67_0();

            uint64_t v175 = OUTLINED_FUNCTION_3_26();
            v177(v175, v176);
          }
          uint64_t v179 = *(void *)(v50 + 416);
          uint64_t v178 = *(void *)(v50 + 424);
          sub_259843F00();
          uint64_t v204 = sub_2597F4A0C(v178, v179);
          swift_bridgeObjectRelease();
          __swift_destroy_boxed_opaque_existential_1(v193);
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
        }
        else
        {
          OUTLINED_FUNCTION_187_5();
          OUTLINED_FUNCTION_224_3(v193);
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          uint64_t v204 = *(void *)(v50 + 424);
        }
        uint64_t v180 = *(void *)(v50 + 576);
        uint64_t v181 = *(void *)(v50 + 568);
        uint64_t v182 = *(void *)(v50 + 544);
        uint64_t v195 = *(void *)(v50 + 536);
        uint64_t v196 = *(void *)(v50 + 520);
        uint64_t v199 = *(void *)(v50 + 504);
        uint64_t v202 = *(void *)(v50 + 480);
        uint64_t v183 = OUTLINED_FUNCTION_7_49();
        v184(v183);
        sub_2596A61D8(v182, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
        sub_2593980F8(v181);
        OUTLINED_FUNCTION_6_57(v180);
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        swift_task_dealloc();
        OUTLINED_FUNCTION_285_1();
        OUTLINED_FUNCTION_66();
        v187(v185, v186, v187, v188, v189, v190, v191, v192, a9, a10, a11, a12, a13, v193, a15, a16, a17, a18, a19,
          a20,
          a21,
          a22,
          a23,
          a24,
          a25,
          a26,
          a27,
          a28,
          a29,
          a30,
          a31,
          v195,
          v196,
          v199,
          v202,
          v204,
          a37,
          a38,
          a39,
          a40,
          a41,
          a42);
        return;
      }
      *(void *)(v50 + 168) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
      *(void *)(v50 + 176) = &off_27074B900;
      id v145 = objc_msgSend(self, sel_currentUnifiedEmbeddingVersion);
      id v146 = v145;
      if (v145)
      {
        id v147 = objc_msgSend(v145, sel_integerValue);
      }
      else
      {
        id v147 = 0;
      }
      uint64_t v161 = v144;
      uint64_t v162 = *(void *)(v50 + 552);
      *(unsigned char *)(v50 + 144) = 5;
      *(void *)(v50 + 152) = v147;
      *(unsigned char *)(v50 + 160) = v146 == 0;
      a37 = v161;
      sub_2597EFE50((void *)(v50 + 184), v162);
      uint64_t v163 = *(void *)(v50 + 192);
      uint64_t v164 = *(void *)(v50 + 208);
      uint64_t v165 = *(void *)(v50 + 216);
      int64_t v166 = (unint64_t)(*(void *)(v50 + 200) + 64) >> 6;
      swift_bridgeObjectRetain_n();
      if (!v165) {
        goto LABEL_123;
      }
LABEL_122:
      OUTLINED_FUNCTION_189_6();
      while (1)
      {
        OUTLINED_FUNCTION_252_3();
        sub_25973F8E8();
        if (v165) {
          goto LABEL_122;
        }
LABEL_123:
        int64_t v167 = v164 + 1;
        if (__OFADD__(v164, 1)) {
          goto LABEL_157;
        }
        if (v167 >= v166) {
          goto LABEL_143;
        }
        if (!*(void *)(v163 + 8 * v167))
        {
          if (v164 + 2 >= v166) {
            goto LABEL_143;
          }
          if (!*(void *)(v163 + 8 * (v164 + 2)))
          {
            if (v164 + 3 >= v166) {
              goto LABEL_143;
            }
            if (!*(void *)(v163 + 8 * (v164 + 3)))
            {
              if (v164 + 4 >= v166) {
                goto LABEL_143;
              }
              if (!*(void *)(v163 + 8 * (v164 + 4)))
              {
                if (v164 + 5 >= v166) {
                  goto LABEL_143;
                }
                if (!*(void *)(v163 + 8 * (v164 + 5)))
                {
                  if (v164 + 6 >= v166) {
                    goto LABEL_143;
                  }
                  if (!*(void *)(v163 + 8 * (v164 + 6))) {
                    break;
                  }
                }
              }
            }
          }
        }
LABEL_134:
        OUTLINED_FUNCTION_162_5();
        uint64_t v165 = v169 & v168;
        uint64_t v164 = v170;
      }
      int64_t v171 = v164 + 7;
      while (v171 < v166)
      {
        OUTLINED_FUNCTION_277_1();
        if (v172) {
          goto LABEL_134;
        }
      }
LABEL_143:
      swift_release();
      swift_bridgeObjectRelease();
      *(void *)(v50 + 648) = a37;
      *(unsigned char *)(v50 + 321) = 2;
      uint64_t v173 = (void *)swift_task_alloc();
      *(void *)(v50 + 656) = v173;
      *uint64_t v173 = v50;
      v173[1] = sub_259696D94;
    }
    OUTLINED_FUNCTION_66();
    sub_25968EC68();
    return;
  }
  a21 = v50 + 304;
  a22 = (void *)(v50 + 328);
  a30 = v50 + 352;
  a29 = v50 + 368;
  uint64_t v203 = v50 + 384;
  uint64_t v194 = *(void *)(v50 + 528);
  a28 = *(uint8_t **)(v50 + 520);
  uint64_t v197 = *(void *)(v50 + 424) + 32;
  a27 = *(void *)(v50 + 496) + 8;
  a19 = (unsigned char *)(v50 + 344);
  a20 = v50 + 40;
  a16 = v58;
  a13 = (void *)(v58 + 32);
  sub_259843F00();
  a23 = 0;
  a24 = 0;
  a17 = 0;
  a15 = 0;
  uint64_t v61 = 0;
  uint64_t v62 = 0;
  a26 = 0x800000025985D8D0;
  a31 = MEMORY[0x263F8EE80];
  a18 = MEMORY[0x263F8EE80];
  a25 = v59;
  while (1)
  {
    memcpy((void *)(v50 + 16), (const void *)(v197 + 88 * v62), 0x58uLL);
    uint64_t v63 = *(void *)(v50 + 72);
    *(void *)(v50 + 384) = v63;
    uint64_t v64 = *(void *)(v63 + 16);
    if (v64) {
      break;
    }
LABEL_84:
    if ((void (*)(void *@<X8>))++v62 == v59)
    {
      swift_bridgeObjectRelease();
      uint64_t v59 = a17;
      uint64_t v128 = a18;
      uint64_t v60 = MEMORY[0x263F8EE80];
      uint64_t v129 = a15;
      uint64_t v130 = a31;
      char v131 = a23;
      uint64_t v132 = a24;
      goto LABEL_87;
    }
  }
  uint64_t v200 = (uint64_t)v61;
  OUTLINED_FUNCTION_283_1();
  sub_2593A2D18(v50 + 16);
  uint64_t v65 = sub_25945EA98(v203);
  uint64_t v67 = *(void *)(v194 + 72);
  while (1)
  {
    uint64_t v68 = *(void *)(v50 + 536);
    OUTLINED_FUNCTION_100_8(v65, v66, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    uint64_t v69 = OUTLINED_FUNCTION_274_0();
    sub_2595226D0(v69, v70, v71);
    sub_2596A61D8(v68, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
    uint64_t v73 = *(uint64_t **)(v50 + 520);
    if (EnumCaseMultiPayload == 7) {
      break;
    }
    uint64_t v65 = sub_2596A61D8((uint64_t)v73, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    uint64_t v61 = (void (*)(void *@<X8>))((char *)v61 + v67);
    if (!--v64)
    {
      sub_25945EAC4(v203);
      goto LABEL_82;
    }
  }
  uint64_t v74 = *(void *)(v50 + 488);
  uint64_t v75 = *(void *)(v50 + 24);
  uint64_t v76 = *v73;
  uint64_t v77 = *((void *)a28 + 1);
  *(void *)(v50 + 352) = *(void *)(v50 + 16);
  *(void *)(v50 + 360) = v75;
  sub_259843F00();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDE0);
  OUTLINED_FUNCTION_201_5(0x1000000000000021, 0x800000025985D8D0);
  unint64_t v78 = sub_2596A6388();
  a10 = sub_2596A63D4();
  a11 = sub_25936C308(&qword_26A38FDF8, &qword_26A38FDD8);
  a9 = v78;
  sub_259844A60();
  OUTLINED_FUNCTION_11();
  v79();
  swift_bridgeObjectRelease();
  sub_25935633C(0, (unint64_t *)&qword_26A389B20);
  OUTLINED_FUNCTION_58_7();
  id v80 = sub_2593AD3C8();
  if (!v77)
  {
    sub_25945EAC4(v203);
    id v102 = v80;
    sub_2593980F8(v200);
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_213_5();
    OUTLINED_FUNCTION_38_24();
    if (v85) {
      goto LABEL_160;
    }
    OUTLINED_FUNCTION_186_7();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
    char v103 = OUTLINED_FUNCTION_71_15();
    uint64_t v104 = a37;
    if (v103)
    {
      OUTLINED_FUNCTION_195_7();
      OUTLINED_FUNCTION_37_22();
      if (!v81) {
        goto LABEL_117;
      }
    }
    swift_bridgeObjectRelease();
    sub_259843F00();
    if ((v74 & 1) == 0)
    {
      uint64_t v105 = OUTLINED_FUNCTION_153_8();
      sub_25939FE3C(v105, v106, MEMORY[0x263F8EE78], v104);
      sub_2593A2D18(v50 + 16);
    }
    uint64_t v107 = OUTLINED_FUNCTION_203_4();
    MEMORY[0x25A2DED30](v107);
    OUTLINED_FUNCTION_68_15();
    OUTLINED_FUNCTION_244_2();
    sub_259844530();

    uint64_t v61 = sub_2593939F0;
    uint64_t v59 = a25;
    goto LABEL_83;
  }
  BOOL v81 = v76 == 0x747265636E6F63 && v77 == 0xE700000000000000;
  if (!v81 && (sub_259845750() & 1) == 0)
  {
    sub_25945EAC4(v203);
    if (v76 == 0x76652074726F7073 && v77 == 0xEB00000000746E65)
    {
      swift_bridgeObjectRelease();
    }
    else
    {
      char v109 = sub_259845750();
      swift_bridgeObjectRelease();
      if ((v109 & 1) == 0)
      {
        id v110 = v80;
        sub_2593980F8(a15);
        swift_isUniquelyReferenced_nonNull_native();
        a37 = a31;
        OUTLINED_FUNCTION_195_7();
        OUTLINED_FUNCTION_38_24();
        if (v85) {
          goto LABEL_164;
        }
        OUTLINED_FUNCTION_186_7();
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
        char v111 = OUTLINED_FUNCTION_71_15();
        uint64_t v112 = a37;
        if (v111)
        {
          OUTLINED_FUNCTION_195_7();
          OUTLINED_FUNCTION_37_22();
          if (!v81) {
            goto LABEL_117;
          }
        }
        swift_bridgeObjectRelease();
        sub_259843F00();
        if ((a15 & 1) == 0)
        {
          uint64_t v113 = OUTLINED_FUNCTION_153_8();
          sub_25939FE3C(v113, v114, MEMORY[0x263F8EE78], v112);
          sub_2593A2D18(v50 + 16);
        }
        uint64_t v115 = OUTLINED_FUNCTION_203_4();
        MEMORY[0x25A2DED30](v115);
        OUTLINED_FUNCTION_68_15();
        OUTLINED_FUNCTION_244_2();
        sub_259844530();

        a15 = (uint64_t)sub_2593939F0;
        goto LABEL_81;
      }
    }
    id v116 = v80;
    OUTLINED_FUNCTION_166_7((uint64_t)a17);
    OUTLINED_FUNCTION_213_5();
    OUTLINED_FUNCTION_38_24();
    if (v85) {
      goto LABEL_162;
    }
    OUTLINED_FUNCTION_186_7();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
    char v117 = OUTLINED_FUNCTION_71_15();
    uint64_t v118 = a37;
    if (v117)
    {
      sub_25939D1E0();
      OUTLINED_FUNCTION_37_22();
      if (!v81) {
        goto LABEL_117;
      }
    }
    swift_bridgeObjectRelease();
    sub_259843F00();
    if ((a15 & 1) == 0)
    {
      uint64_t v119 = OUTLINED_FUNCTION_153_8();
      sub_25939FE3C(v119, v120, MEMORY[0x263F8EE78], v118);
      sub_2593A2D18(v50 + 16);
    }
    a18 = v118;
    uint64_t v121 = swift_bridgeObjectRelease();
    MEMORY[0x25A2DED30](v121);
    OUTLINED_FUNCTION_68_15();
    OUTLINED_FUNCTION_244_2();
    sub_259844530();

    a17 = sub_2593939F0;
    goto LABEL_81;
  }
  swift_bridgeObjectRelease();
  sub_2596834A0(a20, a21, &qword_26A38FE00);
  sub_2596834A0(a21, (uint64_t)a22, &qword_26A38FE00);
  if ((*a19 & 1) != 0 || (uint64_t v82 = *(void *)(a16 + 16)) == 0)
  {
LABEL_40:
    sub_25945EAC4(v203);
    id v96 = v80;
    sub_2593980F8((uint64_t)a24);
    swift_isUniquelyReferenced_nonNull_native();
    a37 = a31;
    OUTLINED_FUNCTION_195_7();
    OUTLINED_FUNCTION_38_24();
    if (v85)
    {
LABEL_159:
      __break(1u);
LABEL_160:
      __break(1u);
LABEL_161:
      __break(1u);
LABEL_162:
      __break(1u);
LABEL_163:
      __break(1u);
LABEL_164:
      __break(1u);
      return;
    }
    OUTLINED_FUNCTION_186_7();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
    char v97 = OUTLINED_FUNCTION_71_15();
    uint64_t v98 = a37;
    if (v97)
    {
      OUTLINED_FUNCTION_195_7();
      OUTLINED_FUNCTION_37_22();
      if (!v81) {
        goto LABEL_117;
      }
    }
    swift_bridgeObjectRelease();
    sub_259843F00();
    if ((v74 & 1) == 0)
    {
      uint64_t v99 = OUTLINED_FUNCTION_153_8();
      sub_25939FE3C(v99, v100, MEMORY[0x263F8EE78], v98);
      sub_2593A2D18(v50 + 16);
    }
    uint64_t v101 = OUTLINED_FUNCTION_203_4();
    MEMORY[0x25A2DED30](v101);
    OUTLINED_FUNCTION_68_15();
    OUTLINED_FUNCTION_244_2();
    sub_259844530();

    a24 = sub_2593939F0;
    goto LABEL_81;
  }
  uint64_t v83 = *a22;
  uint64_t v84 = *(void *)(v50 + 336);
  BOOL v85 = __OFADD__(*a22, v84);
  uint64_t v86 = *a22 + v84;
  if (v85) {
    goto LABEL_161;
  }
  char v87 = a13;
  uint64_t v88 = 1;
  while (1)
  {
    uint64_t v89 = *v87;
    uint64_t v90 = v87[1];
    uint64_t v91 = *v87 + v90;
    if (__OFADD__(*v87, v90))
    {
      __break(1u);
LABEL_154:
      __break(1u);
LABEL_155:
      __break(1u);
LABEL_156:
      __break(1u);
LABEL_157:
      __break(1u);
LABEL_158:
      __break(1u);
      goto LABEL_159;
    }
    uint64_t v92 = v86 >= v91 ? *v87 + v90 : v86;
    if (v83 >= v89 && v83 < v91)
    {
      uint64_t v95 = v92 - v83;
      if (__OFSUB__(v92, v83)) {
        goto LABEL_156;
      }
    }
    else
    {
      if (v89 < v83 || v89 >= v86) {
        goto LABEL_36;
      }
      BOOL v85 = __OFSUB__(v92, v89);
      uint64_t v95 = v92 - v89;
      if (v85) {
        goto LABEL_158;
      }
    }
    if (v95 > 0) {
      break;
    }
LABEL_36:
    if (v82 == v88) {
      goto LABEL_40;
    }
    v87 += 2;
    BOOL v85 = __OFADD__(v88++, 1);
    if (v85) {
      goto LABEL_154;
    }
  }
  sub_25945EAC4(v203);
  id v122 = v80;
  OUTLINED_FUNCTION_166_7((uint64_t)a23);
  OUTLINED_FUNCTION_213_5();
  OUTLINED_FUNCTION_276_1();
  if (v85) {
    goto LABEL_163;
  }
  OUTLINED_FUNCTION_186_7();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
  char v123 = sub_259845350();
  uint64_t v124 = a37;
  if ((v123 & 1) == 0 || (sub_25939D1E0(), OUTLINED_FUNCTION_37_22(), v81))
  {
    swift_bridgeObjectRelease();
    sub_259843F00();
    if ((v74 & 1) == 0)
    {
      uint64_t v125 = OUTLINED_FUNCTION_153_8();
      sub_25939FE3C(v125, v126, MEMORY[0x263F8EE78], v124);
      sub_2593A2D18(v50 + 16);
    }
    a18 = v124;
    uint64_t v127 = swift_bridgeObjectRelease();
    MEMORY[0x25A2DED30](v127);
    OUTLINED_FUNCTION_67_17();
    OUTLINED_FUNCTION_274_0();
    sub_2598445B0();
    sub_259844530();

    a23 = sub_2593939F0;
LABEL_81:
    uint64_t v59 = a25;
LABEL_82:
    uint64_t v61 = (void (*)(void *@<X8>))v200;
LABEL_83:
    sub_25945EA34(v50 + 16);
    goto LABEL_84;
  }
LABEL_117:
  OUTLINED_FUNCTION_66();
  sub_2598457D0();
}

uint64_t sub_259696700()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  OUTLINED_FUNCTION_53_1();
  void *v7 = *v1;
  *(void *)(v5 + 632) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v5 + 640) = v3;
  }
  sub_25938D0FC(v5 + 104, &qword_26A38C870);
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

#error "259696A30: call analysis failed (funcsize=333)"

uint64_t sub_259696D94()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  uint64_t v4 = *v1;
  OUTLINED_FUNCTION_3();
  uint64_t *v5 = v4;
  uint64_t *v5 = *v1;
  *(void *)(v4 + 664) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (v0) {
    swift_bridgeObjectRelease();
  }
  else {
    *(void *)(v4 + 672) = v3;
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v6, v7, v8);
}

#error "2596971EC: call analysis failed (funcsize=196)"

uint64_t sub_25969721C()
{
  OUTLINED_FUNCTION_159_8((uint64_t)(v0 + 33));
  swift_bridgeObjectRelease();
  uint64_t v1 = v0[72];
  uint64_t v2 = v0[71];
  uint64_t v3 = v0[68];
  uint64_t v4 = OUTLINED_FUNCTION_7_49();
  v5(v4);
  sub_2596A61D8(v3, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  sub_2593980F8(v2);
  OUTLINED_FUNCTION_6_57(v1);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_259697340()
{
  sub_25938D0FC((uint64_t)(v0 + 18), &qword_26A38C870);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 33));
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v1 = v0[72];
  uint64_t v2 = v0[71];
  uint64_t v3 = v0[68];
  uint64_t v4 = OUTLINED_FUNCTION_7_49();
  v5(v4);
  sub_2596A61D8(v3, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  sub_2593980F8(v2);
  OUTLINED_FUNCTION_6_57(v1);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v6 = (uint64_t (*)(void))v0[1];
  return v6();
}

uint64_t sub_259697480@<X0>(uint64_t *a1@<X8>)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE08);
  sub_259843390();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_259843F00();
  uint64_t v2 = MEMORY[0x25A2DE9C0]();
  uint64_t v4 = v3;
  swift_bridgeObjectRelease();
  sub_259844220();
  uint64_t v5 = MEMORY[0x25A2DF650](v2, v4);
  uint64_t v7 = v6;
  uint64_t v9 = v8;
  uint64_t v11 = v10;
  uint64_t result = swift_bridgeObjectRelease();
  *a1 = v5;
  a1[1] = v7;
  a1[2] = v9;
  a1[3] = v11;
  return result;
}

void sub_259697580(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, const char *a5)
{
  sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v9 = v8;
  MEMORY[0x270FA5388](v10);
  OUTLINED_FUNCTION_57_1();
  uint64_t v12 = *(void **)a2;
  uint64_t v11 = *(void **)(a2 + 8);
  if (*(unsigned char *)(a2 + 16))
  {
    OUTLINED_FUNCTION_90_5();
    uint64_t v29 = v13;
    OUTLINED_FUNCTION_106();
    v14();
    sub_2595E7250(v11, 1);
    sub_2595E7250(v11, 1);
    id v15 = OUTLINED_FUNCTION_104_9(v12);
    id v16 = OUTLINED_FUNCTION_104_9(v15);
    uint64_t v17 = sub_259843A50();
    os_log_type_t v18 = sub_259844B50();
    uint64_t v19 = (void *)v18;
    if (os_log_type_enabled(v17, v18))
    {
      uint64_t v20 = swift_slowAlloc();
      uint64_t v21 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v20 = 138478083;
      id v22 = v16;
      OUTLINED_FUNCTION_248_3();
      sub_259844E10();
      *uint64_t v21 = v16;
      int64_t v23 = v21;

      *(_WORD *)(v20 + 12) = 2112;
      id v24 = v11;
      uint64_t v25 = _swift_stdlib_bridgeErrorToNSError();
      OUTLINED_FUNCTION_225_3(v25);
      v23[1] = v25;
      OUTLINED_FUNCTION_59_21();
      _os_log_impl(&dword_25934C000, v17, (os_log_type_t)v19, a5, (uint8_t *)v20, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_59_21();
    }

    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v5, v29);
    if (a4)
    {
      sub_259845110();
      OUTLINED_FUNCTION_47_1();
      sub_259844240();
      id v28 = objc_msgSend(v16, sel_description);
      sub_2598440A0();

      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      sub_2594E88F0();

      OUTLINED_FUNCTION_211_5();
      return;
    }

    sub_259431E8C(v11, 1);
    int64_t v26 = v11;
    char v27 = 1;
  }
  else
  {
    sub_2595E7250(*(id *)(a2 + 8), 0);
    sub_2595E7250(v11, 0);
    OUTLINED_FUNCTION_247_2((uint64_t)v12);

    int64_t v26 = v11;
    char v27 = 0;
  }
  sub_259431E8C(v26, v27);
}

void sub_2596978B0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v42 = a4;
  uint64_t v7 = sub_259843A80();
  uint64_t v8 = *(void *)(v7 - 8);
  double v9 = MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)&v34 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = *(void **)a2;
  uint64_t v12 = *(void **)(a2 + 8);
  if (*(unsigned char *)(a2 + 16))
  {
    (*(void (**)(char *, uint64_t, uint64_t, double))(v8 + 16))(v11, a3, v7, v9);
    sub_2595E7250(v12, 1);
    sub_2595E7250(v12, 1);
    id v14 = v13;
    sub_2595E7250(v12, 1);
    id v15 = v14;
    sub_2595E7250(v12, 1);
    id v16 = v15;
    uint64_t v17 = sub_259843A50();
    os_log_type_t v18 = sub_259844B50();
    int v19 = v18;
    if (os_log_type_enabled(v17, v18))
    {
      uint64_t v20 = swift_slowAlloc();
      uint64_t v39 = v4;
      uint64_t v21 = v20;
      uint64_t v35 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v21 = 138478083;
      uint64_t v37 = v17;
      int v36 = v19;
      uint64_t v40 = (uint64_t)v16;
      id v22 = v16;
      uint64_t v38 = v7;
      id v23 = v16;
      id v24 = v22;
      sub_259844E10();
      uint64_t v25 = v35;
      *uint64_t v35 = v23;

      *(_WORD *)(v21 + 12) = 2112;
      id v26 = v12;
      uint64_t v27 = _swift_stdlib_bridgeErrorToNSError();
      uint64_t v40 = v27;
      id v16 = v23;
      uint64_t v7 = v38;
      sub_259844E10();
      v25[1] = v27;
      uint64_t v17 = v37;
      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
      _os_log_impl(&dword_25934C000, v17, (os_log_type_t)v36, "Complete retrieval failed for '%{private}@' public event token: %@", (uint8_t *)v21, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v25, -1, -1);
      MEMORY[0x25A2E13A0](v21, -1, -1);
    }
    else
    {

      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
    }
    uint64_t v31 = v42;

    (*(void (**)(char *, uint64_t))(v8 + 8))(v11, v7);
    if (v31)
    {
      uint64_t v40 = 0;
      unint64_t v41 = 0xE000000000000000;
      sub_259845110();
      sub_259844240();
      unint64_t v32 = v16;
      id v33 = objc_msgSend(v16, sel_description);
      sub_2598440A0();

      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      sub_2594E88F0();

      sub_259431E8C(v12, 1);
      sub_259431E8C(v12, 1);
      swift_bridgeObjectRelease();
      return;
    }

    sub_259431E8C(v12, 1);
    uint64_t v29 = v12;
    char v30 = 1;
  }
  else
  {
    sub_2595E7250(*(id *)(a2 + 8), 0);
    sub_2595E7250(v12, 0);
    id v28 = v13;
    sub_2593A1250((uint64_t)v12, (uint64_t)v28);

    uint64_t v29 = v12;
    char v30 = 0;
  }
  sub_259431E8C(v29, v30);
}

uint64_t sub_259697CD4()
{
  OUTLINED_FUNCTION_14();
  v1[46] = v2;
  v1[47] = v0;
  v1[44] = v3;
  v1[45] = v4;
  v1[43] = v5;
  uint64_t v6 = sub_259843A80();
  v1[48] = v6;
  OUTLINED_FUNCTION_1(v6);
  v1[49] = v7;
  v1[50] = OUTLINED_FUNCTION_78();
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  v1[51] = TokenCategoryType;
  OUTLINED_FUNCTION_129(TokenCategoryType);
  v1[52] = OUTLINED_FUNCTION_78();
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  OUTLINED_FUNCTION_1(TokenSuggestion);
  v1[53] = v10;
  v1[54] = OUTLINED_FUNCTION_78();
  uint64_t v11 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v11);
  v1[55] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v12, v13, v14);
}

void sub_259697DD8()
{
  uint64_t v121 = v0;
  uint64_t v1 = v0 + 224;
  uint64_t v2 = *(void **)(v0 + 360);
  uint64_t v3 = *(void *)(v0 + 344);
  OUTLINED_FUNCTION_61_15();
  OUTLINED_FUNCTION_13_5();
  v4();
  uint64_t v5 = __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  OUTLINED_FUNCTION_47_1();
  uint64_t v108 = v0 + 224;
  v6(0xD00000000000001ALL);
  uint64_t v7 = *(void *)(v3 + 16);
  uint64_t v8 = MEMORY[0x263F8EE80];
  if (v7)
  {
    uint64_t v9 = v0 + 16;
    uint64_t v114 = *(void *)(v0 + 424);
    uint64_t v115 = *(void *)(v0 + 344) + 32;
    uint64_t v116 = v0 + 320;
    sub_259843F00();
    char v109 = 0;
    char v111 = 0;
    uint64_t v112 = 0;
    uint64_t v3 = 0;
    uint64_t v10 = MEMORY[0x263F8EE80];
    uint64_t v11 = MEMORY[0x263F8EE80];
    uint64_t v113 = v7;
    while (1)
    {
      uint64_t v118 = v10;
      memcpy((void *)v9, (const void *)(v115 + 88 * v3), 0x58uLL);
      uint64_t v12 = *(void *)(v0 + 72);
      *(void *)(v0 + 320) = v12;
      uint64_t v13 = *(void *)(v12 + 16);
      if (v13) {
        break;
      }
      uint64_t v10 = v118;
LABEL_41:
      if (++v3 == v7)
      {
        swift_bridgeObjectRelease();
        uint64_t v8 = MEMORY[0x263F8EE80];
        uint64_t v66 = v109;
        uint64_t v68 = v111;
        uint64_t v67 = v112;
        goto LABEL_44;
      }
    }
    OUTLINED_FUNCTION_283_1();
    sub_2593A2D18(v9);
    uint64_t v14 = sub_25945EA98(v116);
    uint64_t v9 = *(void *)(v114 + 72);
    while (1)
    {
      uint64_t v16 = *(void *)(v0 + 432);
      uint64_t v1 = *(void *)(v0 + 416);
      OUTLINED_FUNCTION_100_8(v14, v15, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      swift_storeEnumTagMultiPayload();
      static QueryTokenCategoryType.== infix(_:_:)();
      char v18 = v17;
      sub_2596A61D8(v1, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
      uint64_t v14 = sub_2596A61D8(v16, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      if (v18) {
        break;
      }
      uint64_t v5 = (void *)((char *)v5 + v9);
      if (!--v13)
      {
        sub_25945EAC4(v116);
        uint64_t v9 = v0 + 16;
        uint64_t v10 = v118;
LABEL_40:
        sub_25945EA34(v9);
        goto LABEL_41;
      }
    }
    sub_25945EAC4(v116);
    uint64_t v19 = *(void *)(v0 + 64);
    sub_25935633C(0, (unint64_t *)&qword_26A389B20);
    sub_259843F00();
    OUTLINED_FUNCTION_50_0();
    id v20 = sub_2593AD3C8();
    uint64_t v21 = v20;
    if (v19)
    {
      uint64_t v22 = *(void *)(v19 + 16);
      if (v22)
      {
        uint64_t v110 = v11;
        OUTLINED_FUNCTION_259_1();
        uint64_t v9 = v19 + 40;
        while (1)
        {
          sub_259843F00();
          uint64_t v119 = sub_259844950();
          sub_2596D4E7C((uint64_t)&v120, 0x20796164696C6F68, 0xED0000746E657665, v23, v24, v25, v26, v27, v108, (uint64_t)v109);
          swift_bridgeObjectRelease();
          uint64_t v28 = sub_259844130();
          sub_25973CE24(v28, v29, v119);
          char v31 = v30;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if (v31) {
            break;
          }
          v9 += 16;
          if (!--v22)
          {
            OUTLINED_FUNCTION_184_1();
            uint64_t v11 = v110;
            goto LABEL_15;
          }
        }
        OUTLINED_FUNCTION_184_1();
        id v54 = v21;
        sub_2593980F8((uint64_t)v109);
        swift_isUniquelyReferenced_nonNull_native();
        OUTLINED_FUNCTION_122_8();
        OUTLINED_FUNCTION_130();
        if (!__OFADD__(v57, v58))
        {
          uint64_t v59 = v55;
          uint64_t v1 = v56;
          __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
          char v60 = sub_259845350();
          uint64_t v11 = v120;
          uint64_t v10 = v118;
          if (v60)
          {
            sub_25939D1E0();
            OUTLINED_FUNCTION_12_3();
            if (!v39) {
              goto LABEL_96;
            }
            uint64_t v59 = v61;
          }
          swift_bridgeObjectRelease();
          sub_259843F00();
          if ((v1 & 1) == 0)
          {
            uint64_t v62 = OUTLINED_FUNCTION_154_8();
            sub_25939FE3C(v62, v63, MEMORY[0x263F8EE78], v11);
            sub_2593A2D18(v9);
          }
          uint64_t v64 = *(void *)(v11 + 56);
          uint64_t v65 = swift_bridgeObjectRelease();
          uint64_t v5 = (void *)(v64 + 8 * v59);
          MEMORY[0x25A2DED30](v65);
          OUTLINED_FUNCTION_67_17();
          sub_2598445B0();
          sub_259844530();

          char v109 = sub_2593939F0;
LABEL_39:
          uint64_t v7 = v113;
          goto LABEL_40;
        }
LABEL_109:
        __break(1u);
        return;
      }
LABEL_15:
      id v32 = v21;
      sub_2593980F8((uint64_t)v112);
      swift_isUniquelyReferenced_nonNull_native();
      OUTLINED_FUNCTION_122_8();
      OUTLINED_FUNCTION_38_24();
      if (v35) {
        goto LABEL_107;
      }
      uint64_t v36 = v33;
      uint64_t v1 = v34;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
      char v37 = OUTLINED_FUNCTION_273_2();
      uint64_t v10 = v120;
      if (v37)
      {
        sub_25939D1E0();
        OUTLINED_FUNCTION_12_3();
        if (!v39)
        {
LABEL_96:
          OUTLINED_FUNCTION_83();
          sub_2598457D0();
          return;
        }
        uint64_t v36 = v38;
      }
      swift_bridgeObjectRelease();
      sub_259843F00();
      if ((v1 & 1) == 0)
      {
        uint64_t v40 = OUTLINED_FUNCTION_154_8();
        sub_25939FE3C(v40, v41, MEMORY[0x263F8EE78], v10);
        sub_2593A2D18(v9);
      }
      uint64_t v42 = *(void *)(v10 + 56);
      uint64_t v43 = swift_bridgeObjectRelease();
      uint64_t v5 = (void *)(v42 + 8 * v36);
      MEMORY[0x25A2DED30](v43);
      OUTLINED_FUNCTION_67_17();
      sub_2598445B0();
      sub_259844530();

      uint64_t v112 = sub_2593939F0;
      goto LABEL_39;
    }
    id v44 = v20;
    sub_2593980F8((uint64_t)v111);
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_122_8();
    OUTLINED_FUNCTION_38_24();
    if (v35) {
      goto LABEL_108;
    }
    uint64_t v47 = v45;
    uint64_t v1 = v46;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDC0);
    char v48 = OUTLINED_FUNCTION_273_2();
    uint64_t v10 = v120;
    if (v48)
    {
      sub_25939D1E0();
      OUTLINED_FUNCTION_12_3();
      if (!v39) {
        goto LABEL_96;
      }
      uint64_t v47 = v49;
    }
    swift_bridgeObjectRelease();
    sub_259843F00();
    if ((v1 & 1) == 0)
    {
      uint64_t v50 = OUTLINED_FUNCTION_154_8();
      sub_25939FE3C(v50, v51, MEMORY[0x263F8EE78], v10);
      sub_2593A2D18(v9);
    }
    uint64_t v52 = *(void *)(v10 + 56);
    uint64_t v53 = swift_bridgeObjectRelease();
    uint64_t v5 = (void *)(v52 + 8 * v47);
    MEMORY[0x25A2DED30](v53);
    OUTLINED_FUNCTION_67_17();
    sub_2598445B0();
    sub_259844530();

    char v111 = sub_2593939F0;
    goto LABEL_39;
  }
  uint64_t v66 = 0;
  uint64_t v67 = 0;
  uint64_t v68 = 0;
  uint64_t v10 = MEMORY[0x263F8EE80];
  uint64_t v11 = MEMORY[0x263F8EE80];
LABEL_44:
  uint64_t v69 = MEMORY[0x263F8EE78];
  *(void *)(v0 + 472) = v67;
  *(void *)(v0 + 480) = v68;
  *(void *)(v0 + 456) = v11;
  *(void *)(v0 + 464) = v66;
  *(void *)(v0 + 448) = v10;
  *(void *)(v0 + 312) = v8;
  uint64_t v70 = sub_259843F00();
  sub_25953D2BC(v70);
  OUTLINED_FUNCTION_44_7();
  sub_2593F71F8();
  *(void *)(v0 + 488) = v71;
  swift_release();
  if (*(void *)(v11 + 16))
  {
    uint64_t v120 = v69;
    sub_2597EFE50((void *)(v0 + 184), v11);
    uint64_t v72 = *(void *)(v0 + 192);
    uint64_t v73 = *(void *)(v0 + 208);
    uint64_t v74 = *(void *)(v0 + 216);
    OUTLINED_FUNCTION_230_5();
    swift_bridgeObjectRetain_n();
    if (!v74) {
      goto LABEL_47;
    }
LABEL_46:
    OUTLINED_FUNCTION_40_28();
    while (1)
    {
      sub_259843F00();
      sub_25973F8E8();
      if (v74) {
        goto LABEL_46;
      }
LABEL_47:
      uint64_t v75 = v73 + 1;
      if (__OFADD__(v73, 1)) {
        break;
      }
      if (v75 >= v3) {
        goto LABEL_66;
      }
      if (!*(void *)(v72 + 8 * v75))
      {
        if (v73 + 2 >= v3) {
          goto LABEL_66;
        }
        if (!*(void *)(v72 + 8 * (v73 + 2)))
        {
          if (v73 + 3 >= v3) {
            goto LABEL_66;
          }
          if (!*(void *)(v72 + 8 * (v73 + 3)))
          {
            if (v73 + 4 >= v3) {
              goto LABEL_66;
            }
            if (!*(void *)(v72 + 8 * (v73 + 4)))
            {
              if (v73 + 5 >= v3) {
                goto LABEL_66;
              }
              if (!*(void *)(v72 + 8 * (v73 + 5)))
              {
                if (v73 + 6 >= v3) {
                  goto LABEL_66;
                }
                if (!*(void *)(v72 + 8 * (v73 + 6)))
                {
                  uint64_t v76 = v73 + 7;
                  while (v76 < v3)
                  {
                    if (*(void *)(v72 + 8 * v76++)) {
                      goto LABEL_63;
                    }
                  }
LABEL_66:
                  swift_release();
                  swift_bridgeObjectRelease();
                  *(void *)(v0 + 496) = v120;
                  *(unsigned char *)(v0 + 561) = 0;
                  sub_25968EBCC(v0 + 264);
                  unint64_t v78 = (void *)swift_task_alloc();
                  *(void *)(v0 + 504) = v78;
                  *unint64_t v78 = v0;
                  v78[1] = sub_2596989F4;
                  OUTLINED_FUNCTION_43_18();
                  goto LABEL_90;
                }
              }
            }
          }
        }
      }
LABEL_63:
      OUTLINED_FUNCTION_145_7();
    }
    __break(1u);
LABEL_106:
    __break(1u);
LABEL_107:
    __break(1u);
LABEL_108:
    __break(1u);
    goto LABEL_109;
  }
  uint64_t v79 = *(void *)(v0 + 448);
  if (!*(void *)(v79 + 16))
  {
    swift_bridgeObjectRelease();
    if (*(void *)(*(void *)(v0 + 312) + 16))
    {
      uint64_t v86 = OUTLINED_FUNCTION_11_53();
      v87(v86);
      OUTLINED_FUNCTION_6_19();
      uint64_t v88 = sub_259843A50();
      os_log_type_t v89 = sub_259844B70();
      BOOL v90 = OUTLINED_FUNCTION_91(v89);
      uint64_t v91 = *(void *)(v0 + 392);
      uint64_t v92 = *(void *)(v0 + 384);
      uint64_t v93 = *(void *)(v0 + 352);
      if (v90)
      {
        uint64_t v117 = *(void *)(v0 + 400);
        uint64_t v94 = (uint8_t *)OUTLINED_FUNCTION_54();
        uint64_t v120 = OUTLINED_FUNCTION_20();
        *(_DWORD *)uint64_t v94 = 136315138;
        sub_259689088(v93);
        uint64_t v95 = MEMORY[0x25A2DED80]();
        unint64_t v97 = v96;
        swift_bridgeObjectRelease();
        uint64_t v98 = sub_259356D5C(v95, v97, &v120);
        OUTLINED_FUNCTION_54_2(v98, (void *)(v0 + 304));
        sub_259844E10();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_67_0();
        _os_log_impl(&dword_25934C000, v88, (os_log_type_t)v69, "Add assets to what query tokens, scoped with %s", v94, 0xCu);
        OUTLINED_FUNCTION_93_10();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();

        uint64_t v99 = *(void (**)(uint64_t, uint64_t))(v91 + 8);
        uint64_t v1 = v91 + 8;
        v99(v117, v92);
      }
      else
      {
        OUTLINED_FUNCTION_67_0();

        uint64_t v1 = v91 + 8;
        uint64_t v101 = OUTLINED_FUNCTION_274_0();
        v102(v101);
      }
      uint64_t v103 = *(void *)(v0 + 344);
      uint64_t v104 = *(void *)(v0 + 312);
      sub_259843F00();
      sub_259688BCC(v103, v104);
      swift_bridgeObjectRelease();
      __swift_destroy_boxed_opaque_existential_1(v108);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_224_3(v108);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_109_7();
    __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 360), *(void *)(*(void *)(v0 + 360) + 24));
    OUTLINED_FUNCTION_41_0();
    v105();
    sub_2596A61D8(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    OUTLINED_FUNCTION_30_25();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_61();
    OUTLINED_FUNCTION_83();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v120 = v69;
  sub_2597EFE50((void *)(v0 + 144), v79);
  uint64_t v80 = *(void *)(v0 + 152);
  OUTLINED_FUNCTION_56_14();
  if (!v1) {
    goto LABEL_70;
  }
LABEL_69:
  OUTLINED_FUNCTION_84_13();
  while (1)
  {
    sub_259843F00();
    sub_25973F8E8();
    if (v1) {
      goto LABEL_69;
    }
LABEL_70:
    uint64_t v81 = v3 + 1;
    if (__OFADD__(v3, 1)) {
      goto LABEL_106;
    }
    if (v81 >= v69) {
      goto LABEL_89;
    }
    if (!*(void *)(v80 + 8 * v81))
    {
      if (v3 + 2 >= v69) {
        goto LABEL_89;
      }
      if (!*(void *)(v80 + 8 * (v3 + 2)))
      {
        if (v3 + 3 >= v69) {
          goto LABEL_89;
        }
        if (!*(void *)(v80 + 8 * (v3 + 3)))
        {
          if (v3 + 4 >= v69) {
            goto LABEL_89;
          }
          if (!*(void *)(v80 + 8 * (v3 + 4)))
          {
            if (v3 + 5 >= v69) {
              goto LABEL_89;
            }
            if (!*(void *)(v80 + 8 * (v3 + 5)))
            {
              if (v3 + 6 >= v69) {
                goto LABEL_89;
              }
              if (!*(void *)(v80 + 8 * (v3 + 6))) {
                break;
              }
            }
          }
        }
      }
    }
LABEL_86:
    OUTLINED_FUNCTION_144_6();
  }
  uint64_t v82 = v3 + 7;
  while (v82 < v69)
  {
    if (*(void *)(v80 + 8 * v82++)) {
      goto LABEL_86;
    }
  }
LABEL_89:
  swift_release();
  swift_bridgeObjectRelease();
  *(void *)(v0 + 528) = v120;
  *(unsigned char *)(v0 + 560) = 2;
  sub_25968EBCC(v0 + 104);
  uint64_t v84 = (void *)swift_task_alloc();
  *(void *)(v0 + 536) = v84;
  *uint64_t v84 = v0;
  v84[1] = sub_259698FE8;
  OUTLINED_FUNCTION_150_6();
LABEL_90:
  OUTLINED_FUNCTION_83();
  sub_25968EC68();
}

uint64_t sub_2596989F4()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  OUTLINED_FUNCTION_53_1();
  void *v7 = *v1;
  *(void *)(v5 + 512) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v5 + 520) = v3;
  }
  sub_25938D0FC(v5 + 264, &qword_26A38C870);
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_286();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

#error "259698E4C: call analysis failed (funcsize=295)"

uint64_t sub_259698FE8(uint64_t a1)
{
  OUTLINED_FUNCTION_4_0();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_3();
  *uint64_t v6 = v5;
  OUTLINED_FUNCTION_53_1();
  void *v7 = *v2;
  *(void *)(v5 + 544) = v1;
  swift_task_dealloc();
  OUTLINED_FUNCTION_53_1();
  if (v1)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_25938D0FC(v5 + 104, &qword_26A38C870);
  }
  else
  {
    *(void *)(v5 + 552) = a1;
    sub_25938D0FC(v5 + 104, &qword_26A38C870);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_259699158(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint8_t *a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30)
{
  OUTLINED_FUNCTION_134();
  a29 = v31;
  a30 = v32;
  OUTLINED_FUNCTION_194();
  a28 = v30;
  uint64_t v33 = v30 + 224;
  uint64_t v34 = *(void *)(v30 + 552);
  uint64_t v36 = *(void *)(v30 + 368);
  uint64_t v35 = *(void *)(v30 + 376);
  uint64_t v37 = swift_task_alloc();
  *(void *)(v37 + 16) = v35;
  *(void *)(v37 + 24) = v36;
  sub_259688258(MEMORY[0x263F8EE80], (void (*)(uint64_t *, void *))sub_2596A6260, v37, v34);
  uint64_t v39 = v38;
  swift_bridgeObjectRelease();
  swift_task_dealloc();
  uint64_t v40 = sub_259843F00();
  sub_25968F990(v40, v39, (uint64_t *)(v30 + 312));
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (*(void *)(*(void *)(v30 + 312) + 16))
  {
    uint64_t v37 = v30 + 328;
    uint64_t v41 = OUTLINED_FUNCTION_11_53();
    v42(v41);
    OUTLINED_FUNCTION_6_19();
    uint64_t v43 = sub_259843A50();
    os_log_type_t v44 = sub_259844B70();
    BOOL v45 = OUTLINED_FUNCTION_55(v44);
    uint64_t v46 = *(void *)(v30 + 392);
    uint64_t v47 = *(void *)(v30 + 384);
    uint64_t v48 = *(void *)(v30 + 352);
    if (v45)
    {
      a10 = v30 + 304;
      HIDWORD(a13) = v39;
      a14 = *(void *)(v30 + 400);
      a15 = v30 + 328;
      uint64_t v49 = (uint8_t *)OUTLINED_FUNCTION_54();
      a11 = OUTLINED_FUNCTION_20();
      a18 = a11;
      *(_DWORD *)uint64_t v49 = 136315138;
      a9 = v49 + 4;
      uint64_t v50 = sub_259689088(v48);
      a12 = v47;
      uint64_t v47 = MEMORY[0x25A2DED80](v50, MEMORY[0x263F8D310]);
      unint64_t v52 = v51;
      swift_bridgeObjectRelease();
      uint64_t v53 = sub_259356D5C(v47, v52, &a18);
      OUTLINED_FUNCTION_54_2(v53, (void *)(v30 + 304));
      uint64_t v33 = v30 + 224;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_77();
      _os_log_impl(&dword_25934C000, v43, BYTE4(a13), "Add assets to what query tokens, scoped with %s", v49, 0xCu);
      OUTLINED_FUNCTION_93_10();
      OUTLINED_FUNCTION_61_0();
      uint64_t v37 = v30 + 328;
      OUTLINED_FUNCTION_61_0();

      (*(void (**)(uint64_t, uint64_t))(v46 + 8))(a14, a12);
    }
    else
    {
      OUTLINED_FUNCTION_77();

      uint64_t v54 = OUTLINED_FUNCTION_3_8();
      v56(v54, v55);
    }
    OUTLINED_FUNCTION_242_4();
    uint64_t v69 = sub_259688BCC(v48, v47);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_159_8(v33);
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_224_3(v30 + 224);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v69 = *(void *)(v30 + 344);
  }
  OUTLINED_FUNCTION_109_7();
  uint64_t v68 = v57;
  __swift_project_boxed_opaque_existential_1(*(void **)(v30 + 360), *(void *)(*(void *)(v30 + 360) + 24));
  OUTLINED_FUNCTION_41_0();
  v58();
  sub_2596A61D8(v37, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  OUTLINED_FUNCTION_99_9();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  OUTLINED_FUNCTION_14_7();
  return v61(v59, v60, v61, v62, v63, v64, v65, v66, a9, a10, a11, a12, a13, a14, a15, v68, v69, a18, a19,
           a20,
           a21,
           a22);
}

uint64_t sub_259699488(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  OUTLINED_FUNCTION_121();
  OUTLINED_FUNCTION_159_8(v14 + 224);
  swift_bridgeObjectRelease();
  uint64_t v15 = *(void *)(v14 + 440);
  uint64_t v26 = *(void *)(v14 + 400);
  uint64_t v27 = *(void *)(v14 + 512);
  __swift_project_boxed_opaque_existential_1(*(void **)(v14 + 360), *(void *)(*(void *)(v14 + 360) + 24));
  OUTLINED_FUNCTION_41_0();
  v16();
  sub_2596A61D8(v15, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  OUTLINED_FUNCTION_30_25();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_126();
  return v18(v17, v18, v19, v20, v21, v22, v23, v24, a9, v26, v27, a12, a13, a14);
}

uint64_t sub_259699584(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  OUTLINED_FUNCTION_121();
  OUTLINED_FUNCTION_159_8(v14 + 224);
  swift_bridgeObjectRelease();
  uint64_t v15 = *(void *)(v14 + 440);
  uint64_t v26 = *(void *)(v14 + 400);
  uint64_t v27 = *(void *)(v14 + 544);
  __swift_project_boxed_opaque_existential_1(*(void **)(v14 + 360), *(void *)(*(void *)(v14 + 360) + 24));
  OUTLINED_FUNCTION_41_0();
  v16();
  sub_2596A61D8(v15, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  OUTLINED_FUNCTION_30_25();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_126();
  return v18(v17, v18, v19, v20, v21, v22, v23, v24, a9, v26, v27, a12, a13, a14);
}

void sub_259699680(uint64_t a1, uint64_t a2, void *a3, uint64_t a4, const char *a5)
{
  sub_259843A80();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_57_1();
  uint64_t v9 = *(void **)a2;
  uint64_t v8 = *(void **)(a2 + 8);
  if (*(unsigned char *)(a2 + 16))
  {
    OUTLINED_FUNCTION_90_5();
    OUTLINED_FUNCTION_106();
    v10();
    sub_2595E7250(v8, 1);
    sub_2595E7250(v8, 1);
    id v11 = OUTLINED_FUNCTION_104_9(v9);
    id v26 = OUTLINED_FUNCTION_104_9(v11);
    uint64_t v12 = sub_259843A50();
    os_log_type_t v13 = sub_259844B50();
    uint64_t v14 = (void *)v13;
    if (os_log_type_enabled(v12, v13))
    {
      uint64_t v15 = swift_slowAlloc();
      uint64_t v16 = (void *)swift_slowAlloc();
      *(_DWORD *)uint64_t v15 = 138478083;
      id v17 = v26;
      OUTLINED_FUNCTION_248_3();
      sub_259844E10();
      *uint64_t v16 = v26;
      char v18 = v16;

      *(_WORD *)(v15 + 12) = 2112;
      id v19 = v8;
      uint64_t v20 = _swift_stdlib_bridgeErrorToNSError();
      OUTLINED_FUNCTION_225_3(v20);
      v18[1] = v20;
      OUTLINED_FUNCTION_59_21();
      _os_log_impl(&dword_25934C000, v12, (os_log_type_t)v14, a5, (uint8_t *)v15, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_59_21();
    }

    OUTLINED_FUNCTION_64();
    v23();
    if (a4)
    {
      sub_259845110();
      swift_bridgeObjectRelease();
      id v24 = objc_msgSend(v26, sel_description);
      sub_2598440A0();

      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      sub_2594E88F0();

      OUTLINED_FUNCTION_211_5();
      return;
    }

    sub_259431E8C(v8, 1);
    uint64_t v21 = v8;
    char v22 = 1;
  }
  else
  {
    sub_2595E7250(*(id *)(a2 + 8), 0);
    sub_2595E7250(v8, 0);
    OUTLINED_FUNCTION_247_2((uint64_t)v9);

    uint64_t v21 = v8;
    char v22 = 0;
  }
  sub_259431E8C(v21, v22);
}

void sub_2596999C4()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v162 = v0;
  uint64_t v2 = v1;
  unint64_t v4 = v3;
  uint64_t v161 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v160 = v5;
  MEMORY[0x270FA5388](v6);
  uint64_t v8 = (uint64_t *)((char *)&v152 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  MEMORY[0x270FA5388](v9);
  uint64_t v156 = (uint64_t)&v152 - v10;
  uint64_t TokenCategoryType = (void *)type metadata accessor for QueryTokenCategoryType(0);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v12);
  OUTLINED_FUNCTION_233();
  uint64_t v15 = v14 - v13;
  uint64_t v16 = type metadata accessor for RootEventRecorder.EventState(0);
  uint64_t v17 = OUTLINED_FUNCTION_129(v16);
  MEMORY[0x270FA5388](v17);
  OUTLINED_FUNCTION_233();
  uint64_t v20 = v19 - v18;
  unint64_t v21 = v2[3];
  uint64_t v22 = v2[4];
  uint64_t v159 = v2;
  uint64_t v23 = (void *)OUTLINED_FUNCTION_50_0();
  __swift_project_boxed_opaque_existential_1(v23, v24);
  uint64_t v25 = *(void (**)(const char *, uint64_t, uint64_t, unint64_t, uint64_t))(v22 + 24);
  uint64_t v158 = v20;
  v25("QueryGenerator.eligibleTripUUIDsAndAssetUUIDs", 45, 2, v21, v22);
  if (qword_26A3887B8 == -1) {
    goto LABEL_2;
  }
  while (1)
  {
    swift_once();
LABEL_2:
    uint64_t v26 = __swift_project_value_buffer((uint64_t)TokenCategoryType, (uint64_t)qword_26A38ADF8);
    uint64_t v27 = sub_2595226D0(v26, v15, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    MEMORY[0x270FA5388](v27);
    OUTLINED_FUNCTION_256_2();
    sub_259843F00();
    sub_2593A40E4((uint64_t (*)(void *))sub_2596A6688, v21, v4);
    uint64_t TokenCategoryType = v28;
    uint64_t v155 = 0;
    sub_2596A61D8(v15, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    unint64_t v29 = TokenCategoryType[2];
    if (v29)
    {
      sub_259843F00();
      uint64_t v30 = 0;
      uint64_t v15 = MEMORY[0x263F8EE78];
      unint64_t v31 = v29;
      do
      {
        uint64_t v32 = TokenCategoryType[v30 + 5];
        char v33 = TokenCategoryType[v30 + 6];
        char v34 = TokenCategoryType[v30 + 9];
        uint64_t v35 = TokenCategoryType[v30 + 10];
        uint64_t v36 = TokenCategoryType[v30 + 11];
        char v37 = TokenCategoryType[v30 + 12];
        uint64_t v168 = TokenCategoryType[v30 + 4];
        uint64_t v169 = v32;
        LOBYTE(v170) = v33;
        long long v171 = *(_OWORD *)&TokenCategoryType[v30 + 7];
        char v172 = v34;
        uint64_t v173 = v35;
        uint64_t v174 = v36;
        char v175 = v37;
        long long v176 = *(_OWORD *)&TokenCategoryType[v30 + 13];
        uint64_t v38 = QueryToken.allRetrievedAssetUUIDs.getter();
        if (v38)
        {
          uint64_t v39 = v38;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_7_44();
            sub_2593859FC();
            uint64_t v15 = v41;
          }
          unint64_t v40 = *(void *)(v15 + 16);
          if (v40 >= *(void *)(v15 + 24) >> 1)
          {
            sub_2593859FC();
            uint64_t v15 = v42;
          }
          *(void *)(v15 + 16) = v40 + 1;
          *(void *)(v15 + 8 * v40 + 32) = v39;
        }
        v30 += 11;
        --v31;
      }
      while (v31);
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v15 = MEMORY[0x263F8EE78];
    }
    unint64_t v21 = *(void *)(v15 + 16);
    uint64_t v43 = MEMORY[0x263F8EE78];
    if (!v21) {
      break;
    }
    unint64_t v165 = v29;
    uint64_t v166 = (uint64_t)v8;
    sub_259843F00();
    uint64_t v44 = 0;
    unint64_t v4 = MEMORY[0x263F8D310];
    while (1)
    {
      uint64_t v45 = *(void *)(v15 + 8 * v44 + 32);
      uint64_t v46 = *(void *)(v45 + 16);
      uint64_t v47 = *(void *)(v43 + 16);
      uint64_t v8 = (void *)(v47 + v46);
      if (__OFADD__(v47, v46)) {
        break;
      }
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || (uint64_t)v8 > *(void *)(v43 + 24) >> 1)
      {
        sub_25938553C();
        uint64_t v43 = v48;
      }
      if (*(void *)(v45 + 16))
      {
        OUTLINED_FUNCTION_170_8();
        if (v50 < v46) {
          goto LABEL_106;
        }
        unint64_t v51 = v43 + 16 * v49 + 32;
        if (v45 + 32 < v51 + 16 * v46 && v51 < v45 + 32 + 16 * v46)
        {
LABEL_128:
          OUTLINED_FUNCTION_108_3();
          OUTLINED_FUNCTION_88_12();
          __break(1u);
          goto LABEL_129;
        }
        swift_arrayInitWithCopy();
        if (v46)
        {
          uint64_t v53 = *(void *)(v43 + 16);
          BOOL v54 = __OFADD__(v53, v46);
          uint64_t v55 = v53 + v46;
          if (v54) {
            goto LABEL_109;
          }
          *(void *)(v43 + 16) = v55;
        }
      }
      else if (v46)
      {
        goto LABEL_104;
      }
      swift_bridgeObjectRelease();
      if (v21 == ++v44)
      {
        swift_bridgeObjectRelease();
        unint64_t v29 = v165;
        goto LABEL_32;
      }
    }
LABEL_103:
    __break(1u);
LABEL_104:
    __break(1u);
LABEL_105:
    __break(1u);
LABEL_106:
    __break(1u);
LABEL_107:
    __break(1u);
LABEL_108:
    __break(1u);
LABEL_109:
    __break(1u);
LABEL_110:
    __break(1u);
LABEL_111:
    __break(1u);
  }
LABEL_32:
  swift_bridgeObjectRelease();
  uint64_t v56 = sub_259737700(v43);
  uint64_t v57 = *(void *)(v56 + 16);
  swift_bridgeObjectRelease();
  uint64_t v58 = &selRef__mePersonUUIDInPhotoLibrary_;
  if (v57)
  {
    unint64_t v4 = (unint64_t)objc_msgSend(*(id *)(v162 + *(int *)(type metadata accessor for QueryGenerator(0) + 20)), sel_librarySpecificFetchOptions);
    uint64_t v59 = self;
    sub_25953BECC(v56, v60, v61, v62, v63, v64, v65, v66, v152, v153, (uint64_t)v154, v155, v156, (uint64_t)v157, v158, (uint64_t)v159, v160, v161, v162,
      (uint64_t)v163,
      v164,
      v165,
      v166,
      v167[0],
      v167[1],
      v167[2]);
    OUTLINED_FUNCTION_19_7();
    uint64_t v15 = MEMORY[0x263F8D310];
    OUTLINED_FUNCTION_90_5();
    uint64_t v67 = (void *)sub_2598444E0();
    swift_release();
    id v154 = v59;
    id v157 = (id)v4;
    id v68 = objc_msgSend(v59, sel_fetchTripHighlightUUIDByAssetUUIDForAssetUUIDs_options_, v67, v4);

    OUTLINED_FUNCTION_90_5();
    unint64_t v21 = sub_259843EB0();

    sub_2597EFE50(&v168, v21);
    unint64_t v165 = v168;
    uint64_t v163 = (char **)v169;
    uint64_t TokenCategoryType = (void *)*((void *)&v171 + 1);
    uint64_t v166 = v171;
    uint64_t v164 = (unint64_t)(v170 + 64) >> 6;
    unint64_t v153 = v21;
    sub_259843F00();
    uint64_t v8 = (void *)MEMORY[0x263F8EE80];
    if (TokenCategoryType)
    {
LABEL_34:
      OUTLINED_FUNCTION_239_4();
      uint64_t v70 = v69 | (v166 << 6);
      goto LABEL_56;
    }
    while (1)
    {
      uint64_t v71 = v166 + 1;
      if (__OFADD__(v166, 1)) {
        goto LABEL_107;
      }
      if (v71 >= v164) {
        goto LABEL_70;
      }
      if (!v163[v71])
      {
        OUTLINED_FUNCTION_238_3();
        if (v72 == v54) {
          goto LABEL_70;
        }
        OUTLINED_FUNCTION_113_7();
        if (!v73)
        {
          OUTLINED_FUNCTION_238_3();
          if (v72 == v54) {
            goto LABEL_70;
          }
          OUTLINED_FUNCTION_113_7();
          if (!v74)
          {
            OUTLINED_FUNCTION_238_3();
            if (v72 == v54) {
              goto LABEL_70;
            }
            OUTLINED_FUNCTION_113_7();
            if (!v75)
            {
              OUTLINED_FUNCTION_238_3();
              if (v72 == v54) {
                goto LABEL_70;
              }
              OUTLINED_FUNCTION_113_7();
              if (!v77)
              {
                if (v76 + 5 >= v164) {
                  goto LABEL_70;
                }
                if (!v163[v76 + 5]) {
                  break;
                }
              }
            }
          }
        }
      }
LABEL_55:
      OUTLINED_FUNCTION_192_5();
      uint64_t v166 = v80;
LABEL_56:
      uint64_t v81 = *(void *)(v165 + 48) + 16 * v70;
      uint64_t v58 = *(char ***)v81;
      uint64_t v15 = *(void *)(v81 + 8);
      uint64_t v82 = (uint64_t *)(*(void *)(v165 + 56) + 16 * v70);
      uint64_t v84 = *v82;
      uint64_t v83 = v82[1];
      OUTLINED_FUNCTION_82_14();
      OUTLINED_FUNCTION_259_1();
      swift_isUniquelyReferenced_nonNull_native();
      v167[0] = (uint64_t)v8;
      unint64_t v85 = sub_25939CE90();
      uint64_t v87 = v8[2];
      BOOL v88 = (v86 & 1) == 0;
      uint64_t v8 = (void *)(v87 + v88);
      if (__OFADD__(v87, v88))
      {
        __break(1u);
        goto LABEL_103;
      }
      unint64_t v4 = v85;
      unint64_t v21 = v86;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AF0);
      char v89 = sub_259845350();
      uint64_t v8 = (void *)v167[0];
      if (v89)
      {
        sub_25939CE90();
        OUTLINED_FUNCTION_125();
        if (!v91)
        {
LABEL_127:
          sub_2598457D0();
          __break(1u);
          goto LABEL_128;
        }
        unint64_t v4 = v90;
      }
      swift_bridgeObjectRelease();
      if ((v21 & 1) == 0)
      {
        OUTLINED_FUNCTION_87_14((uint64_t)&v8[v4 >> 6]);
        uint64_t v92 = (void *)(v8[6] + 16 * v4);
        void *v92 = v84;
        v92[1] = v83;
        *(void *)(v8[7] + 8 * v4) = MEMORY[0x263F8EE78];
        uint64_t v93 = v8[2];
        BOOL v54 = __OFADD__(v93, 1);
        uint64_t v94 = v93 + 1;
        if (v54) {
          goto LABEL_105;
        }
        v8[2] = v94;
        sub_259843F00();
      }
      uint64_t v95 = v8[7];
      unint64_t v21 = *(void *)(v95 + 8 * v4);
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      *(void *)(v95 + 8 * v4) = v21;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        OUTLINED_FUNCTION_4_61();
        unint64_t v21 = v99;
        *(void *)(v95 + 8 * v4) = v99;
      }
      unint64_t v97 = *(void *)(v21 + 16);
      if (v97 >= *(void *)(v21 + 24) >> 1)
      {
        OUTLINED_FUNCTION_7_30();
        unint64_t v21 = v100;
        *(void *)(v95 + 8 * v4) = v100;
      }
      *(void *)(v21 + 16) = v97 + 1;
      unint64_t v98 = v21 + 16 * v97;
      *(void *)(v98 + 32) = v58;
      *(void *)(v98 + 40) = v15;
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_184_1();
      if (TokenCategoryType) {
        goto LABEL_34;
      }
    }
    uint64_t v78 = v166 + 7;
    while (v78 < v164)
    {
      if (v163[v78++]) {
        goto LABEL_55;
      }
    }
LABEL_70:
    swift_release();
    swift_bridgeObjectRelease();
    sub_25935633C(0, &qword_26B300508);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v101 = swift_allocObject();
    *(_OWORD *)(v101 + 16) = xmmword_259876910;
    *(void *)(v101 + 56) = MEMORY[0x263F8D310];
    *(void *)(v101 + 64) = sub_25935626C();
    *(void *)(v101 + 32) = 1684632949;
    *(void *)(v101 + 40) = 0xE400000000000000;
    uint64_t v102 = sub_259843F00();
    unint64_t v4 = sub_25953BF00(v102);
    swift_bridgeObjectRelease();
    *(void *)(v101 + 96) = __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    *(void *)(v101 + 104) = sub_25936C308(qword_26B2FF940, &qword_26B3001D0);
    *(void *)(v101 + 72) = v4;
    OUTLINED_FUNCTION_165_6();
    uint64_t v103 = (void *)sub_259844AB0();
    id v104 = v157;
    objc_msgSend(v157, sel_setPredicate_, v103);

    id v105 = objc_msgSend(v154, sel_fetchHighlightsWithOptions_, v104);
    unint64_t v21 = (unint64_t)objc_msgSend(v105, sel_fetchedObjects);

    if (v21)
    {
      sub_25935633C(0, (unint64_t *)&qword_26A38B2E0);
      uint64_t v15 = sub_259844500();
    }
    else
    {
      uint64_t v15 = MEMORY[0x263F8EE78];
    }
    if ((unint64_t)v15 >> 62)
    {
      if (v15 < 0) {
        LOBYTE(v21) = v15;
      }
      else {
        LOBYTE(v21) = v15 & 0xF8;
      }
      OUTLINED_FUNCTION_82_14();
      sub_259845460();
      OUTLINED_FUNCTION_282_1();
      if (v58)
      {
LABEL_77:
        unint64_t v165 = v15 & 0xC000000000000001;
        uint64_t TokenCategoryType = (void *)MEMORY[0x263F8EE80];
        uint64_t v106 = 4;
        uint64_t v164 = v15;
        uint64_t v163 = v58;
        do
        {
          if (v165)
          {
            uint64_t v107 = OUTLINED_FUNCTION_90_5();
            id v108 = (id)MEMORY[0x25A2DFA20](v107);
          }
          else
          {
            id v108 = *(id *)(v15 + 8 * v106);
          }
          unint64_t v21 = (unint64_t)v108;
          uint64_t v109 = v106 - 3;
          if (__OFADD__(v106 - 4, 1)) {
            goto LABEL_108;
          }
          uint64_t v110 = sub_25944C4E4(v108);
          if (v111)
          {
            uint64_t v112 = v110;
            unint64_t v4 = v111;
            uint64_t v166 = v106 - 3;
            id v113 = (id)v21;
            uint64_t v15 = swift_isUniquelyReferenced_nonNull_native();
            v167[0] = (uint64_t)TokenCategoryType;
            OUTLINED_FUNCTION_58_7();
            unint64_t v114 = sub_25939CE90();
            uint64_t v116 = TokenCategoryType[2];
            BOOL v117 = (v115 & 1) == 0;
            uint64_t TokenCategoryType = (void *)(v116 + v117);
            if (__OFADD__(v116, v117)) {
              goto LABEL_110;
            }
            unint64_t v21 = v114;
            char v118 = v115;
            __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD88);
            if (sub_259845350())
            {
              OUTLINED_FUNCTION_267_3();
              sub_25939CE90();
              OUTLINED_FUNCTION_12_3();
              if (!v91) {
                goto LABEL_127;
              }
              unint64_t v21 = v119;
            }
            uint64_t TokenCategoryType = (void *)v167[0];
            if (v118)
            {
              uint64_t v120 = *(void *)(v167[0] + 56);

              *(void *)(v120 + 8 * v21) = v113;
            }
            else
            {
              OUTLINED_FUNCTION_36_2(v167[0] + 8 * (v21 >> 6));
              uint64_t v121 = (uint64_t *)(TokenCategoryType[6] + 16 * v21);
              uint64_t *v121 = v112;
              v121[1] = v4;
              *(void *)(TokenCategoryType[7] + 8 * v21) = v113;
              uint64_t v122 = TokenCategoryType[2];
              BOOL v54 = __OFADD__(v122, 1);
              uint64_t v123 = v122 + 1;
              if (v54) {
                goto LABEL_111;
              }
              TokenCategoryType[2] = v123;
              sub_259843F00();
            }

            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            uint64_t v15 = v164;
            uint64_t v58 = v163;
            uint64_t v109 = v166;
          }
          else
          {
          }
          ++v106;
        }
        while ((char **)v109 != v58);
      }
    }
    else
    {
      uint64_t v58 = *(char ***)((v15 & 0xFFFFFFFFFFFFFF8) + 0x10);
      sub_259843F00();
      if (v58) {
        goto LABEL_77;
      }
    }
    OUTLINED_FUNCTION_77();
    OUTLINED_FUNCTION_106();
    v141();
    sub_259843F00();
    uint64_t v142 = sub_259843A50();
    os_log_type_t v143 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v143))
    {
      uint64_t v144 = (uint8_t *)OUTLINED_FUNCTION_54();
      *(_DWORD *)uint64_t v144 = 134217984;
      v167[0] = v8[2];
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v142, (os_log_type_t)v21, "There are %ld candidate trip highlights", v144, 0xCu);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_11();
    uint64_t v146 = v145();
    id v147 = &v152;
    MEMORY[0x270FA5388](v146);
    uint64_t v148 = v155;
    uint64_t v149 = sub_259689D50((uint64_t)v8, (uint64_t (*)(uint64_t, uint64_t, uint64_t))sub_2596A616C);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v149 < 0 || (v149 & 0x4000000000000000) != 0)
    {
      sub_259843F00();
      sub_25953D4DC();
      OUTLINED_FUNCTION_19_7();
    }
    else
    {
      id v147 = (uint64_t *)(v149 & 0xFFFFFFFFFFFFFF8);
      sub_259843F00();
    }
    v167[0] = (uint64_t)v147;
    sub_2596A3A1C(v167);
    if (!v148)
    {
      swift_bridgeObjectRelease();

      goto LABEL_125;
    }
LABEL_129:
    swift_release();
    __break(1u);
  }
  else
  {
    swift_bridgeObjectRelease();
    if (!v29)
    {
      OUTLINED_FUNCTION_106();
      v124();
      uint64_t v125 = (void *)sub_259843A50();
      os_log_type_t v126 = sub_259844B70();
      if (OUTLINED_FUNCTION_145_0(v126))
      {
        uint64_t v127 = (_WORD *)OUTLINED_FUNCTION_41();
        OUTLINED_FUNCTION_149(v127);
        OUTLINED_FUNCTION_173(&dword_25934C000, v128, v129, "Fetch all trips in the photolibrary");
        OUTLINED_FUNCTION_61_0();
      }

      OUTLINED_FUNCTION_11();
      v130();
      char v131 = *(void **)(v162 + *(int *)(type metadata accessor for QueryGenerator(0) + 20));
      id v132 = objc_msgSend(v131, sel_librarySpecificFetchOptions);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
      uint64_t v133 = OUTLINED_FUNCTION_2_15();
      *(_OWORD *)(v133 + 16) = xmmword_25987BF60;
      id v134 = objc_allocWithZone(MEMORY[0x263F08B30]);
      *(void *)(v133 + 32) = sub_259355C14(0x7461447472617473, 0xE900000000000065, 0);
      id v135 = objc_allocWithZone(MEMORY[0x263F08B30]);
      *(void *)(v133 + 40) = sub_259355C14(1684632949, 0xE400000000000000, 0);
      uint64_t v168 = v133;
      sub_259844530();
      sub_2595A8C18(v168, v132);
      LOBYTE(v168) = 0;
      type metadata accessor for CollectionFetcherOptions();
      swift_initStackObject();
      id v136 = v131;
      id v137 = v132;
      uint64_t v138 = CollectionFetcherOptions.init(photoLibrary:fetchOptions:fetchContext:sortAscending:)(v136, v132, (char *)&v168, 0);
      sub_25944140C();
      id v139 = objc_msgSend(self, sel_fetchHighlightsWithOptions_, *(void *)(v138 + 24));
      id v140 = objc_msgSend(v139, sel_fetchedObjects);

      if (v140)
      {
        sub_25935633C(0, (unint64_t *)&qword_26A38B2E0);
        sub_259844500();
        swift_release();

        id v137 = v140;
      }
      else
      {
        swift_release();
      }
    }
LABEL_125:
    __swift_project_boxed_opaque_existential_1(v159, v159[3]);
    uint64_t v150 = v158;
    OUTLINED_FUNCTION_260_1();
    OUTLINED_FUNCTION_41_0();
    v151();
    sub_2596A61D8(v150, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    OUTLINED_FUNCTION_13_1();
  }
}

id sub_25969A95C(uint64_t a1, unint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10 = sub_259843A80();
  uint64_t v11 = *(void *)(v10 - 8);
  MEMORY[0x270FA5388](v10);
  uint64_t v13 = (char *)&v36 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (!*(void *)(a4 + 16)) {
    return 0;
  }
  sub_259843F00();
  unint64_t v14 = sub_25939CE90();
  if ((v15 & 1) == 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  id v16 = *(id *)(*(void *)(a4 + 56) + 8 * v14);
  swift_bridgeObjectRelease();
  objc_msgSend(self, sel_tripHighlightRepresentativeAssetsThreshold);
  double v18 = v17;
  double v19 = (double)*(uint64_t *)(a3 + 16) / (double)(uint64_t)objc_msgSend(v16, sel_dayGroupAssetsCountMixed);
  if (v18 > v19)
  {
    (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, a5, v10);
    id v20 = v16;
    swift_bridgeObjectRetain_n();
    id v21 = v20;
    uint64_t v22 = sub_259843A50();
    os_log_type_t v23 = sub_259844B70();
    int v24 = v23;
    if (os_log_type_enabled(v22, v23))
    {
      uint64_t v25 = swift_slowAlloc();
      int v39 = v24;
      uint64_t v26 = v25;
      uint64_t v38 = swift_slowAlloc();
      uint64_t v41 = v38;
      *(_DWORD *)uint64_t v26 = 136315907;
      sub_259843F00();
      uint64_t v40 = sub_259356D5C(a1, a2, &v41);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v26 + 12) = 2085;
      id v27 = objc_msgSend(v21, sel_title);
      uint64_t v28 = sub_2598440A0();
      uint64_t v37 = v11;
      unint64_t v30 = v29;

      uint64_t v40 = sub_259356D5C(v28, v30, &v41);
      sub_259844E10();

      swift_bridgeObjectRelease();
      *(_WORD *)(v26 + 22) = 2085;
      uint64_t v31 = sub_2596A6174(v21);
      if (v32)
      {
        unint64_t v33 = v32;
      }
      else
      {
        uint64_t v31 = 0;
        unint64_t v33 = 0xE000000000000000;
      }
      uint64_t v40 = sub_259356D5C(v31, v33, &v41);
      sub_259844E10();

      swift_bridgeObjectRelease();
      *(_WORD *)(v26 + 32) = 2048;
      uint64_t v40 = *(void *)&v19;
      sub_259844E10();
      _os_log_impl(&dword_25934C000, v22, (os_log_type_t)v39, "Trip \"%s: %{sensitive}s %{sensitive}s\" is not eligible due to low number of representative assets it contains: (%f)", (uint8_t *)v26, 0x2Au);
      uint64_t v34 = v38;
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v34, -1, -1);
      MEMORY[0x25A2E13A0](v26, -1, -1);

      (*(void (**)(char *, uint64_t))(v37 + 8))(v13, v10);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
    }
    return 0;
  }
  return v16;
}

uint64_t sub_25969AD58(void **a1, id *a2)
{
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  MEMORY[0x270FA5388](v5 - 8);
  uint64_t v7 = (char *)&v37 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v10 = (char *)&v37 - v9;
  uint64_t v11 = sub_259842800();
  uint64_t v12 = *(void *)(v11 - 8);
  MEMORY[0x270FA5388](v11);
  uint64_t v38 = (char *)&v37 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v14);
  id v16 = (char *)&v37 - v15;
  double v18 = MEMORY[0x270FA5388](v17);
  uint64_t v41 = (char *)&v37 - v19;
  id v20 = *a1;
  id v21 = *a2;
  id v22 = objc_msgSend(v20, sel_startDate, v18);
  if (v22)
  {
    os_log_type_t v23 = v22;
    uint64_t v39 = v2;
    id v40 = v21;
    sub_2598427C0();

    int v24 = *(void (**)(char *, char *, uint64_t))(v12 + 32);
    v24(v10, v16, v11);
    __swift_storeEnumTagSinglePayload((uint64_t)v10, 0, 1, v11);
    if (__swift_getEnumTagSinglePayload((uint64_t)v10, 1, v11) == 1)
    {
      uint64_t v7 = v10;
    }
    else
    {
      v24(v41, v10, v11);
      id v25 = objc_msgSend(v40, sel_startDate);
      if (v25)
      {
        uint64_t v26 = v25;
        sub_2598427C0();

        v24(v7, v16, v11);
        __swift_storeEnumTagSinglePayload((uint64_t)v7, 0, 1, v11);
        if (__swift_getEnumTagSinglePayload((uint64_t)v7, 1, v11) != 1)
        {
          id v27 = v38;
          v24(v38, v7, v11);
          uint64_t v28 = v41;
          char v29 = sub_2598427E0() == 1;
          unint64_t v30 = *(void (**)(char *, uint64_t))(v12 + 8);
          v30(v27, v11);
          v30(v28, v11);
          return v29 & 1;
        }
      }
      else
      {
        __swift_storeEnumTagSinglePayload((uint64_t)v7, 1, 1, v11);
      }
      (*(void (**)(char *, uint64_t))(v12 + 8))(v41, v11);
    }
    id v21 = v40;
  }
  else
  {
    __swift_storeEnumTagSinglePayload((uint64_t)v10, 1, 1, v11);
    uint64_t v7 = v10;
  }
  sub_25938D0FC((uint64_t)v7, (uint64_t *)&unk_26B2F8390);
  uint64_t result = sub_25944C4E4(v20);
  if (v32)
  {
    uint64_t v33 = result;
    uint64_t v34 = v32;
    uint64_t result = sub_25944C4E4(v21);
    if (v35)
    {
      if (result == v33 && v35 == v34)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        char v29 = 0;
      }
      else
      {
        char v29 = sub_259845750();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
      }
      return v29 & 1;
    }
  }
  else
  {
    __break(1u);
  }
  __break(1u);
  return result;
}

id sub_25969B124(unint64_t a1)
{
  if (a1 >> 62)
  {
    sub_259843F00();
    uint64_t v3 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v3 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  if (v3 < 1) {
    return 0;
  }
  unint64_t v4 = sub_259689F78(a1);
  uint64_t v5 = sub_259738C84(v4);
  id v6 = objc_msgSend(*(id *)(v1 + *(int *)(type metadata accessor for QueryGenerator(0) + 20)), sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v7 = OUTLINED_FUNCTION_2_15();
  *(_OWORD *)(v7 + 16) = xmmword_259876920;
  *(void *)(v7 + 32) = sub_2598440A0();
  *(void *)(v7 + 40) = v8;
  uint64_t v9 = OUTLINED_FUNCTION_50_0();
  sub_2593A28F4(v9, v10);
  objc_msgSend(v6, sel_setIncludeAssetSourceTypes_, 5);
  objc_msgSend(v6, sel_setIncludeHiddenAssets_, 0);
  objc_msgSend(v6, sel_setIncludeGuestAssets_, 1);
  uint64_t v17 = MEMORY[0x263F8EE78];
  sub_259845270();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithShort_, 1);
  sub_259845240();
  OUTLINED_FUNCTION_222_4();
  sub_259845290();
  sub_259845250();
  objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithShort_, 2);
  sub_259845240();
  OUTLINED_FUNCTION_222_4();
  sub_259845290();
  sub_259845250();
  sub_2594457FC(v17, v6);
  objc_msgSend(v6, sel_setWantsIncrementalChangeDetails_, 0);
  sub_25935633C(0, &qword_26B300508);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
  uint64_t v11 = swift_allocObject();
  *(_OWORD *)(v11 + 16) = xmmword_259876910;
  *(void *)(v11 + 56) = MEMORY[0x263F8D310];
  *(void *)(v11 + 64) = sub_25935626C();
  *(void *)(v11 + 32) = 0xD00000000000001CLL;
  *(void *)(v11 + 40) = 0x800000025985D640;
  *(void *)(v11 + 96) = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD78);
  *(void *)(v11 + 104) = sub_25936C308(&qword_26A38FD80, &qword_26A38FD78);
  *(void *)(v11 + 72) = v5;
  OUTLINED_FUNCTION_165_6();
  uint64_t v12 = (void *)sub_259844AB0();
  objc_msgSend(v6, sel_setInternalPredicate_, v12);

  id v13 = objc_msgSend(self, sel_fetchAssetsWithOptions_, v6);
  id v14 = objc_msgSend(v13, sel_fetchedObjects);

  if (v14)
  {
    sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
    unint64_t v15 = sub_259844500();

    id v14 = (id)sub_259689AC4(v15);
    swift_bridgeObjectRelease();
  }

  return v14;
}

uint64_t sub_25969B488()
{
  OUTLINED_FUNCTION_14();
  v1[3] = v2;
  v1[4] = v0;
  v1[2] = v3;
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEB8);
  OUTLINED_FUNCTION_129(v4);
  v1[5] = OUTLINED_FUNCTION_49_1();
  v1[6] = swift_task_alloc();
  v1[7] = swift_task_alloc();
  uint64_t v5 = sub_259843A80();
  v1[8] = v5;
  OUTLINED_FUNCTION_1(v5);
  v1[9] = v6;
  v1[10] = OUTLINED_FUNCTION_49_1();
  v1[11] = swift_task_alloc();
  v1[12] = swift_task_alloc();
  v1[13] = swift_task_alloc();
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  v1[14] = TokenCategoryType;
  OUTLINED_FUNCTION_129(TokenCategoryType);
  v1[15] = OUTLINED_FUNCTION_49_1();
  v1[16] = swift_task_alloc();
  v1[17] = swift_task_alloc();
  v1[18] = swift_task_alloc();
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  OUTLINED_FUNCTION_1(TokenSuggestion);
  v1[19] = v9;
  v1[20] = OUTLINED_FUNCTION_49_1();
  v1[21] = swift_task_alloc();
  v1[22] = swift_task_alloc();
  v1[23] = swift_task_alloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v10, v11, v12);
}

uint64_t sub_25969B610()
{
  uint64_t v201 = v0;
  uint64_t v1 = v0[2];
  uint64_t v2 = *(void (**)(void *@<X8>))(v1 + 16);
  uint64_t v174 = v2;
  if (!v2)
  {
    uint64_t v6 = (void *)MEMORY[0x263F8EE80];
    uint64_t v160 = (void *)MEMORY[0x263F8EE80];
    goto LABEL_107;
  }
  uint64_t v185 = v0[19];
  uint64_t v3 = v1 + 32;
  sub_259843F00();
  uint64_t v4 = v3;
  char v175 = 0;
  uint64_t v5 = 0;
  uint64_t v6 = (void *)MEMORY[0x263F8EE80];
  uint64_t v171 = MEMORY[0x263F8EE58] + 8;
  long long v176 = (void *)MEMORY[0x263F8EE80];
  uint64_t v172 = v3;
  uint64_t v173 = v0;
  while (1)
  {
    uint64_t v7 = (uint64_t *)(v4 + 88 * v5);
    uint64_t v8 = *v7;
    unint64_t v9 = v7[1];
    uint64_t v10 = v7[6];
    uint64_t v11 = v7[7];
    uint64_t v13 = v7[9];
    uint64_t v12 = v7[10];
    uint64_t v177 = v5;
    uint64_t v179 = *v7;
    if (v13) {
      break;
    }
    uint64_t v146 = OUTLINED_FUNCTION_22_42();
    v147(v146);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v148 = (void *)sub_259843A50();
    os_log_type_t v149 = sub_259844B70();
    BOOL v150 = OUTLINED_FUNCTION_91(v149);
    uint64_t v151 = v0[10];
    uint64_t v152 = v0[8];
    if (v150)
    {
      uint64_t v153 = OUTLINED_FUNCTION_54();
      v191[0] = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v153 = 136642819;
      sub_259843F00();
      *(void *)(v153 + 4) = sub_259356D5C(v179, v9, v191);
      OUTLINED_FUNCTION_190();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_141_7();
      _os_log_impl(v154, v155, v156, "Ignore the query token (%{sensitive}s) when consolidating the metadata assets because there are no retrieved assets", (uint8_t *)v153, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();

      OUTLINED_FUNCTION_148_8();
      uint64_t v159 = v152;
      uint64_t v158 = v151;
    }
    else
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();

      OUTLINED_FUNCTION_148_8();
      uint64_t v158 = v151;
      uint64_t v159 = v152;
    }
    v157(v158, v159);
LABEL_104:
    uint64_t v4 = v172;
    uint64_t v5 = v177 + 1;
    if ((void (*)(void *@<X8>))(v177 + 1) == v174)
    {
      swift_bridgeObjectRelease();
      uint64_t v2 = v175;
      uint64_t v160 = v176;
LABEL_107:
      v0[25] = v160;
      v0[26] = v2;
      v0[24] = v6;
      sub_259843F00();
      sub_259738998();
      v0[27] = v161;
      sub_259843F00();
      uint64_t v162 = (void *)swift_task_alloc();
      v0[28] = v162;
      void *v162 = v0;
      v162[1] = sub_25969C90C;
      OUTLINED_FUNCTION_289_1();
      OUTLINED_FUNCTION_23_25();
      return sub_25969CB78(v163, v164, v165, v166);
    }
  }
  uint64_t v14 = v4 + 88 * v5;
  char v15 = *(unsigned char *)(v14 + 64);
  char v16 = *(unsigned char *)(v14 + 40);
  char v17 = *(unsigned char *)(v14 + 16);
  v191[0] = v8;
  v191[1] = v9;
  char v192 = v17;
  long long v193 = *(_OWORD *)(v14 + 24);
  char v194 = v16;
  uint64_t v195 = v10;
  uint64_t v196 = v11;
  char v197 = v15;
  uint64_t v198 = v13;
  uint64_t v199 = v12;
  sub_259843F00();
  OUTLINED_FUNCTION_82_14();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  uint64_t v18 = QueryToken.allRetrievedAssetUUIDs.getter();
  if (v18) {
    uint64_t v19 = v18;
  }
  else {
    uint64_t v19 = MEMORY[0x263F8EE78];
  }
  uint64_t v186 = *(void *)(v11 + 16);
  if (!v186)
  {
    OUTLINED_FUNCTION_77();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_101:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    goto LABEL_104;
  }
  uint64_t v178 = v19;
  uint64_t v189 = v13;
  unint64_t v187 = v9;
  OUTLINED_FUNCTION_53_7();
  uint64_t v184 = v11 + v20;
  sub_259843F00();
  unint64_t v21 = 0;
  uint64_t v188 = v11;
  while (1)
  {
    if (v21 >= *(void *)(v11 + 16))
    {
      __break(1u);
LABEL_115:
      __break(1u);
LABEL_116:
      __break(1u);
LABEL_117:
      __break(1u);
LABEL_118:
      __break(1u);
      JUMPOUT(0x25969C8C4);
    }
    uint64_t v22 = v0[18];
    sub_2595226D0(v184 + *(void *)(v185 + 72) * v21, v0[23], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    OUTLINED_FUNCTION_86_0();
    swift_storeEnumTagMultiPayload();
    uint64_t v23 = OUTLINED_FUNCTION_90_5();
    char v25 = static QueryTokenCategoryType.~= infix(_:_:)(v23, v24);
    sub_2596A61D8(v22, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    uint64_t v26 = OUTLINED_FUNCTION_58_7();
    sub_2595226D0(v26, v27, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    unint64_t v190 = v21;
    if (v25)
    {
      uint64_t v28 = v0[23];
      uint64_t v29 = v0[21];
      sub_2596A61D8(v0[22], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      sub_2595226D0(v28, v29, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      uint64_t v11 = v188;
LABEL_15:
      sub_2596A61D8(v0[21], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
LABEL_16:
      uint64_t v35 = v0[23];
      uint64_t v36 = v0[20];
      OUTLINED_FUNCTION_86();
      v37();
      sub_2595226D0(v35, v36, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      swift_bridgeObjectRetain_n();
      OUTLINED_FUNCTION_259_1();
      OUTLINED_FUNCTION_258_3();
      OUTLINED_FUNCTION_259_1();
      OUTLINED_FUNCTION_6_19();
      uint64_t v38 = sub_259843A50();
      os_log_type_t v39 = sub_259844B70();
      if (os_log_type_enabled(v38, v39))
      {
        uint64_t v40 = OUTLINED_FUNCTION_21_0();
        v191[0] = OUTLINED_FUNCTION_18_1();
        *(_DWORD *)uint64_t v40 = 136315395;
        QueryTokenCategoryType.string.getter(v200);
        unint64_t v41 = 0xE600000000000000;
        uint64_t v42 = 0x6E6F73726570;
        switch(v200[0])
        {
          case 1:
            unint64_t v41 = 0x6570795465;
            uint64_t v42 = OUTLINED_FUNCTION_279_1() & 0xFFFFFFFFFFFFLL | 0x6741000000000000;
            break;
          case 2:
            unint64_t v41 = 0xE400000000000000;
            uint64_t v42 = 1702125924;
            break;
          case 3:
            OUTLINED_FUNCTION_284();
            unint64_t v41 = v134 + 20;
            uint64_t v42 = 0x6144664F74726170;
            break;
          case 4:
            OUTLINED_FUNCTION_168_1();
            unint64_t v41 = v135 + 1529;
            uint64_t v42 = 0x6557664F74726170;
            break;
          case 5:
            unint64_t v41 = 0xE800000000000000;
            unsigned int v136 = 1633906540;
            goto LABEL_85;
          case 6:
            unint64_t v41 = 0xEF6E6F697461636FLL;
            uint64_t v42 = 0x4C636972656E6567;
            break;
          case 7:
            unint64_t v41 = 0xE400000000000000;
            uint64_t v42 = 1952540791;
            break;
          case 8:
            uint64_t v42 = 0x764563696C627570;
            unint64_t v41 = 0xEB00000000746E65;
            break;
          case 9:
            unint64_t v41 = 0x746E657645;
            uint64_t v42 = OUTLINED_FUNCTION_279_1() & 0xFFFFFFFFFFFFLL | 0x6C61000000000000;
            break;
          case 0xA:
            uint64_t v42 = 0x746954636973756DLL;
            unint64_t v41 = 0xEA0000000000656CLL;
            break;
          case 0xB:
            OUTLINED_FUNCTION_130_4();
            unint64_t v41 = v137 + 1284;
            uint64_t v42 = 0x747241636973756DLL;
            break;
          case 0xC:
            OUTLINED_FUNCTION_168_1();
            unint64_t v41 = v138 + 6;
            uint64_t v42 = 0x6E6547636973756DLL;
            break;
          case 0xD:
            unint64_t v41 = 0xE400000000000000;
            uint64_t v42 = 1685024621;
            break;
          case 0xE:
            unint64_t v41 = 0xE800000000000000;
            unsigned int v136 = 1634891108;
LABEL_85:
            uint64_t v42 = v136 | 0x6E6F697400000000;
            break;
          case 0xF:
            uint64_t v42 = 0x706972547369;
            break;
          case 0x10:
            uint64_t v42 = 0x6D69546C6C417369;
            unint64_t v41 = 0xE900000000000065;
            break;
          case 0x11:
            OUTLINED_FUNCTION_284();
            unint64_t v41 = v139 + 13;
            uint64_t v42 = 0x6564724F74726F73;
            break;
          default:
            break;
        }
        uint64_t v181 = v0[23];
        uint64_t v140 = v0[20];
        *(void *)(v40 + 4) = sub_259356D5C(v42, v41, v191);
        swift_bridgeObjectRelease();
        sub_2596A61D8(v140, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        *(_WORD *)(v40 + 12) = 2085;
        sub_259843F00();
        *(void *)(v40 + 14) = sub_259356D5C(v179, v187, v191);
        swift_bridgeObjectRelease_n();
        OUTLINED_FUNCTION_184_1();
        uint64_t v11 = v188;
        OUTLINED_FUNCTION_171_0();
        swift_bridgeObjectRelease_n();
        OUTLINED_FUNCTION_181();
        _os_log_impl(&dword_25934C000, v38, v39, "Ignore the %s query token (%{sensitive}s)", (uint8_t *)v40, 0x16u);
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();

        OUTLINED_FUNCTION_148_8();
        OUTLINED_FUNCTION_153_7();
        OUTLINED_FUNCTION_11();
        v141();
        sub_2596A61D8(v181, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
      }
      else
      {
        uint64_t v43 = v0[20];

        OUTLINED_FUNCTION_112_0();
        OUTLINED_FUNCTION_67_0();
        OUTLINED_FUNCTION_171_0();
        OUTLINED_FUNCTION_184_1();
        swift_bridgeObjectRelease_n();
        sub_2596A61D8(v43, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        OUTLINED_FUNCTION_148_8();
        OUTLINED_FUNCTION_11();
        v44();
        uint64_t v45 = OUTLINED_FUNCTION_58_7();
        sub_2596A61D8(v45, v46);
      }
      goto LABEL_90;
    }
    if (qword_26A3887C8 != -1) {
      swift_once();
    }
    uint64_t v31 = v0[22];
    uint64_t v30 = v0[23];
    uint64_t v32 = v0[21];
    uint64_t v33 = __swift_project_value_buffer(v0[14], (uint64_t)qword_26A38AE28);
    char v34 = static QueryTokenCategoryType.~= infix(_:_:)(v31, v33);
    sub_2596A61D8(v31, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    sub_2595226D0(v30, v32, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    uint64_t v11 = v188;
    if (v34) {
      goto LABEL_15;
    }
    if (qword_26A3887D0 != -1) {
      swift_once();
    }
    uint64_t v47 = v0[21];
    uint64_t v48 = __swift_project_value_buffer(v0[14], (uint64_t)qword_26A38AE40);
    char v49 = static QueryTokenCategoryType.~= infix(_:_:)(v47, v48);
    sub_2596A61D8(v47, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    if (v49) {
      goto LABEL_16;
    }
    sub_2595226D0(v0[23], v0[17], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    if (OUTLINED_FUNCTION_146_7() != 2)
    {
      sub_2596A61D8(v0[17], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
      goto LABEL_30;
    }
    uint64_t v50 = v0[7];
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0);
    uint64_t v51 = OUTLINED_FUNCTION_50_0();
    sub_2596834A0(v51, v52, &qword_26A38AEB8);
    uint64_t v53 = OUTLINED_FUNCTION_56_4();
    sub_2596834A0(v53, v54, &qword_26A38AEB8);
    uint64_t v55 = sub_259842470();
    LODWORD(v50) = __swift_getEnumTagSinglePayload(v50, 1, v55);
    uint64_t v56 = OUTLINED_FUNCTION_86_0();
    sub_2596A64C8(v56, v57, &qword_26A38AEB8);
    uint64_t v58 = v0[5];
    if (v50 != 1 || __swift_getEnumTagSinglePayload(v0[5], 1, v55) != 1) {
      break;
    }
    sub_25938D0FC(v58, &qword_26A38AEB8);
    OUTLINED_FUNCTION_3_26();
    OUTLINED_FUNCTION_86();
    v59();
    swift_bridgeObjectRetain_n();
    OUTLINED_FUNCTION_259_1();
    OUTLINED_FUNCTION_258_3();
    OUTLINED_FUNCTION_196_4();
    swift_bridgeObjectRetain_n();
    uint64_t v60 = sub_259843A50();
    os_log_type_t v61 = sub_259844B70();
    BOOL v62 = os_log_type_enabled(v60, v61);
    uint64_t v180 = v0[6];
    uint64_t v182 = v0[23];
    if (v62)
    {
      uint64_t v63 = OUTLINED_FUNCTION_54();
      uint64_t v64 = OUTLINED_FUNCTION_20();
      OUTLINED_FUNCTION_251_3(v64, v65, v66, v67, v68, v69, v70, v71, v170, v171, v72);
      sub_259843F00();
      *(void *)(v63 + 4) = sub_259356D5C(v179, v187, v191);
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_171_0();
      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_132_8(&dword_25934C000, v60, v61, "Ignore the ungrounded date query token (%{sensitive}s)");
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_193_0();
      OUTLINED_FUNCTION_184_1();
      OUTLINED_FUNCTION_171_0();
      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_190();
    }
    OUTLINED_FUNCTION_148_8();
    OUTLINED_FUNCTION_50_0();
    OUTLINED_FUNCTION_11();
    v143();
    sub_25938D0FC(v180, &qword_26A38AEB8);
    sub_2596A61D8(v182, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    sub_25938D0FC(v0[7], &qword_26A38AEB8);
    uint64_t v11 = v188;
LABEL_97:
    unint64_t v21 = v190;
LABEL_90:
    if (++v21 == v186)
    {
      OUTLINED_FUNCTION_171_0();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      goto LABEL_101;
    }
  }
  uint64_t v73 = v0[6];
  sub_25938D0FC(v58, &qword_26A38AEB8);
  sub_25938D0FC(v73, &qword_26A38AEB8);
  OUTLINED_FUNCTION_198_2();
LABEL_30:
  sub_2595226D0(v0[23], v0[16], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
  int v74 = OUTLINED_FUNCTION_146_7();
  uint64_t v75 = v0[16];
  if (v74 == 3)
  {
    uint64_t v76 = *(void *)(*(void *)v75 + 16);
    swift_bridgeObjectRelease();
    if (v76) {
      goto LABEL_35;
    }
    uint64_t v77 = OUTLINED_FUNCTION_22_42();
    v78(v77);
    OUTLINED_FUNCTION_196_4();
    OUTLINED_FUNCTION_259_1();
    OUTLINED_FUNCTION_258_3();
    swift_bridgeObjectRetain_n();
    OUTLINED_FUNCTION_6_19();
    uint64_t v79 = sub_259843A50();
    os_log_type_t v80 = sub_259844B70();
    BOOL v81 = os_log_type_enabled(v79, v80);
    uint64_t v183 = v0[23];
    if (v81)
    {
      uint64_t v82 = OUTLINED_FUNCTION_54();
      uint64_t v83 = OUTLINED_FUNCTION_20();
      OUTLINED_FUNCTION_251_3(v83, v84, v85, v86, v87, v88, v89, v90, v170, v171, v91);
      sub_259843F00();
      *(void *)(v82 + 4) = sub_259356D5C(v179, v187, v191);
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_112_0();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_132_8(&dword_25934C000, v79, v80, "Ignore the ungrounded partOfDay query token (%{sensitive}s)");
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_184_1();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_112_0();
      OUTLINED_FUNCTION_181();
    }
    OUTLINED_FUNCTION_148_8();
    OUTLINED_FUNCTION_11();
    v142();
    sub_2596A61D8(v183, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    uint64_t v11 = v188;
    goto LABEL_97;
  }
  sub_2596A61D8(v75, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
LABEL_35:
  sub_2595226D0(v0[23], v0[15], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
  int v92 = OUTLINED_FUNCTION_146_7();
  uint64_t v93 = v0[15];
  if (v92)
  {
    sub_2596A61D8(v93, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
  }
  else
  {
    uint64_t v115 = *(void *)(*(void *)v93 + 16);
    if (v115)
    {
      uint64_t v116 = (uint64_t *)(sub_259843F00() + 40);
      do
      {
        uint64_t v117 = *(v116 - 1);
        uint64_t v118 = *v116;
        uint64_t v119 = *(void *)(v189 + 16);
        swift_bridgeObjectRetain_n();
        if (v119)
        {
          sub_259843F00();
          sub_25939CE90();
          if (v120) {
            sub_259843F00();
          }
          swift_bridgeObjectRelease();
        }
        swift_isUniquelyReferenced_nonNull_native();
        v191[0] = (uint64_t)v6;
        sub_25939CE90();
        OUTLINED_FUNCTION_276_1();
        if (v123) {
          goto LABEL_115;
        }
        unint64_t v124 = v121;
        char v125 = v122;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A389AF0);
        char v126 = sub_259845350();
        uint64_t v6 = (void *)v191[0];
        if (v126)
        {
          sub_25939CE90();
          OUTLINED_FUNCTION_37_22();
          if (!v128) {
            goto LABEL_110;
          }
          unint64_t v124 = v127;
        }
        swift_bridgeObjectRelease();
        if ((v125 & 1) == 0)
        {
          v6[(v124 >> 6) + 8] |= 1 << v124;
          uint64_t v129 = (void *)(v6[6] + 16 * v124);
          *uint64_t v129 = v117;
          v129[1] = v118;
          *(void *)(v6[7] + 8 * v124) = MEMORY[0x263F8EE78];
          uint64_t v130 = v6[2];
          uint64_t v131 = v130 + 1;
          BOOL v132 = __OFADD__(v130, 1);
          sub_259843F00();
          if (v132) {
            goto LABEL_116;
          }
          v6[2] = v131;
        }
        sub_259843F00();
        swift_bridgeObjectRelease();
        uint64_t v133 = sub_259843F00();
        sub_25973E110(v133);
        OUTLINED_FUNCTION_193_0();
        swift_bridgeObjectRelease();
        v116 += 2;
        --v115;
      }
      while (v115);
      swift_bridgeObjectRelease_n();
      uint64_t v0 = v173;
      unint64_t v21 = v190;
    }
    else
    {
      swift_bridgeObjectRelease();
    }
  }
  uint64_t v94 = v0[23];
  QueryTokenCategoryType.string.getter(v200);
  char v95 = v200[0];
  sub_259843F00();
  OUTLINED_FUNCTION_166_7((uint64_t)v175);
  v191[0] = v94;
  sub_25939D5DC();
  OUTLINED_FUNCTION_130();
  if (__OFADD__(v98, v99)) {
    goto LABEL_117;
  }
  unint64_t v100 = v96;
  char v101 = v97;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDA8);
  char v102 = sub_259845350();
  uint64_t v103 = (void *)v191[0];
  uint64_t v11 = v188;
  if ((v102 & 1) == 0)
  {
LABEL_41:
    swift_bridgeObjectRelease();
    if (v101)
    {
      sub_259843F00();
    }
    else
    {
      OUTLINED_FUNCTION_87_14((uint64_t)&v103[v100 >> 6]);
      *(unsigned char *)(v103[6] + v100) = v95;
      *(void *)(v103[7] + 8 * v100) = MEMORY[0x263F8EE78];
      uint64_t v106 = v103[2];
      uint64_t v107 = v106 + 1;
      BOOL v108 = __OFADD__(v106, 1);
      uint64_t v109 = sub_259843F00();
      if (v108) {
        goto LABEL_118;
      }
      *(void *)(v109 + 16) = v107;
      uint64_t v103 = (void *)v109;
    }
    uint64_t v110 = v103[7];
    long long v176 = v103;
    swift_bridgeObjectRelease();
    uint64_t v111 = *(void *)(v110 + 8 * v100);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v110 + 8 * v100) = v111;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      OUTLINED_FUNCTION_206_6();
      uint64_t v111 = v144;
      *(void *)(v110 + 8 * v100) = v144;
    }
    unint64_t v113 = *(void *)(v111 + 16);
    if (v113 >= *(void *)(v111 + 24) >> 1)
    {
      OUTLINED_FUNCTION_177_7();
      uint64_t v111 = v145;
      *(void *)(v110 + 8 * v100) = v145;
    }
    uint64_t v0 = v173;
    uint64_t v114 = v173[23];
    *(void *)(v111 + 16) = v113 + 1;
    *(void *)(v111 + 8 * v113 + 32) = v178;
    sub_2596A61D8(v114, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    char v175 = sub_2593939F0;
    goto LABEL_90;
  }
  unint64_t v104 = sub_25939D5DC();
  if ((v101 & 1) == (v105 & 1))
  {
    unint64_t v100 = v104;
    goto LABEL_41;
  }
LABEL_110:
  OUTLINED_FUNCTION_23_25();
  return sub_2598457D0();
}

uint64_t sub_25969C90C()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  uint64_t v3 = *v0;
  OUTLINED_FUNCTION_3();
  *uint64_t v4 = v3;
  *(void *)(v6 + 232) = v5;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_25969CA34()
{
  uint64_t v1 = *(void *)(v0 + 208);
  swift_bridgeObjectRelease();
  sub_2593980F8(v1);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  uint64_t v3 = *(void *)(v0 + 232);
  return v2(v3);
}

uint64_t sub_25969CB78(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v5[27] = a4;
  v5[28] = v4;
  v5[25] = a2;
  v5[26] = a3;
  v5[24] = a1;
  uint64_t v6 = sub_259843A80();
  v5[29] = v6;
  v5[30] = *(void *)(v6 - 8);
  v5[31] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_25969CC40, 0, 0);
}

#error "25969DBD8: call analysis failed (funcsize=1017)"

uint64_t sub_25969DDE4()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  uint64_t v3 = *v0;
  OUTLINED_FUNCTION_3();
  *uint64_t v4 = v3;
  *(void *)(v6 + 344) = v5;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_25969DECC()
{
  uint64_t v1 = *(void *)(v0 + 296);
  uint64_t v2 = *(void *)(v0 + 256);
  sub_259843F00();
  sub_2593980F8(v2);
  swift_isUniquelyReferenced_nonNull_native();
  *(void *)(v0 + 152) = v1;
  sub_25939D5DC();
  OUTLINED_FUNCTION_0();
  if (v5)
  {
    __break(1u);
    goto LABEL_12;
  }
  uint64_t v6 = v3;
  char v7 = v4;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE40);
  char v8 = sub_259845350();
  uint64_t v9 = *(void *)(v0 + 152);
  if (v8)
  {
    sub_25939D5DC();
    OUTLINED_FUNCTION_37_22();
    if (!v11)
    {
LABEL_4:
      OUTLINED_FUNCTION_80_1();
      return sub_2598457D0();
    }
    uint64_t v6 = v10;
  }
  uint64_t v14 = v0 + 16;
  BOOL v212 = (uint64_t *)(v0 + 80);
  uint64_t v208 = (uint64_t *)(v0 + 88);
  uint64_t v210 = (uint64_t *)(v0 + 120);
  os_log_type_t v211 = (uint64_t *)(v0 + 112);
  uint64_t v214 = (uint64_t *)(v0 + 136);
  uint64_t v209 = (uint64_t *)(v0 + 144);
  swift_bridgeObjectRelease();
  sub_259843F00();
  if ((v7 & 1) == 0) {
    sub_25939FB3C(v6, 2, MEMORY[0x263F8EE88], v9);
  }
  uint64_t v213 = (uint64_t *)(v0 + 168);
  uint64_t v15 = *(void *)(v0 + 344);
  uint64_t v16 = *(void *)(v0 + 216);
  OUTLINED_FUNCTION_140_7();
  sub_2596D0A58(v15);
  if (v16)
  {
    uint64_t v24 = *(void *)(v0 + 288);
    sub_25953BECC(*(void *)(v0 + 344), v17, v18, v19, v20, v21, v22, v23, v169, v170, v171, v172, v173, v180, v183, v187, v192, v197, v198,
      v204,
      v206,
      (uint64_t)v208,
      (uint64_t)v209,
      (uint64_t)v210,
      (uint64_t)v211,
      (uint64_t)v212);
    uint64_t v26 = v25;
    swift_bridgeObjectRelease();
    *(void *)(v0 + 160) = v26;
    swift_retain();
    sub_259418628((uint64_t *)(v0 + 160));
    if (v24)
    {
LABEL_12:
      OUTLINED_FUNCTION_80_1();
      return swift_release();
    }
    uint64_t v197 = 0;
    uint64_t v205 = (uint64_t *)(v0 + 176);
    uint64_t v207 = (uint64_t *)(v0 + 128);
    uint64_t v28 = *(void **)(v0 + 216);
    swift_release();
    OUTLINED_FUNCTION_92_12(*(void *)(v0 + 160), 0x5D657461445B5551, 0xE800000000000000);
    OUTLINED_FUNCTION_143();
  }
  else
  {
    uint64_t v205 = (uint64_t *)(v0 + 176);
    uint64_t v207 = (uint64_t *)(v0 + 128);
    swift_bridgeObjectRelease();
    uint64_t v24 = *(void *)(v0 + 288);
  }
LABEL_17:
  uint64_t v218 = v9;
  int64_t v29 = *(void *)(v0 + 312);
  unint64_t v30 = *(void *)(v0 + 320);
  uint64_t v31 = *(void (**)(void *@<X8>))(v0 + 304);
  uint64_t v32 = *(void (**)(void *@<X8>))(v0 + 272);
  uint64_t v33 = *(void (**)(void *@<X8>))(v0 + 280);
  char v34 = *(void (**)(void *@<X8>))(v0 + 264);
  *(void *)(v0 + 256) = sub_259445584;
  while (1)
  {
    uint64_t v215 = (uint64_t)v34;
    *(void *)(v0 + 264) = v34;
    uint64_t v9 = v218;
LABEL_19:
    uint64_t v218 = v9;
    *(void *)(v0 + 272) = v32;
LABEL_20:
    *(void *)(v0 + 280) = v33;
LABEL_21:
    uint64_t v9 = v218;
    *(void *)(v0 + 296) = v218;
    *(void *)(v0 + 304) = v31;
    *(void *)(v0 + 288) = v24;
LABEL_22:
    if (!v30) {
      break;
    }
    unint64_t v35 = __clz(__rbit64(v30));
    v30 &= v30 - 1;
    unint64_t v36 = v35 | (v29 << 6);
    uint64_t v37 = *(void *)(v0 + 208);
LABEL_35:
    *(void *)(v0 + 312) = v29;
    *(void *)(v0 + 320) = v30;
    switch(*(unsigned char *)(*(void *)(v37 + 48) + v36))
    {
      case 1:
      case 6:
      case 7:
      case 8:
      case 9:
      case 0xA:
      case 0xB:
      case 0xC:
      case 0xD:
      case 0xE:
      case 0xF:
      case 0x10:
      case 0x11:
        goto LABEL_22;
      case 2:
        OUTLINED_FUNCTION_90_13();
        if (!v144) {
          goto LABEL_17;
        }
        uint64_t v145 = v143;
        sub_25939D5DC();
        if ((v146 & 1) == 0) {
          goto LABEL_17;
        }
        OUTLINED_FUNCTION_207_5();
        uint64_t v147 = *(void *)(v145 + 16);
        uint64_t v9 = MEMORY[0x263F8EE78];
        if (!v147) {
          goto LABEL_127;
        }
        *(void *)(v0 + 128) = MEMORY[0x263F8EE78];
        sub_259843F00();
        sub_2594F2310();
        uint64_t v148 = 0;
        uint64_t v9 = *(void *)(v0 + 128);
        uint64_t v217 = v147;
        uint64_t v220 = v145 + 32;
        do
        {
          uint64_t v149 = *(void *)(v220 + 8 * v148);
          sub_259843F00();
          uint64_t v150 = sub_259844950();
          *uint64_t v214 = v150;
          uint64_t v151 = *(void *)(v149 + 16);
          if (v151)
          {
            uint64_t v152 = v14;
            uint64_t v153 = v149 + 40;
            do
            {
              sub_259843F00();
              OUTLINED_FUNCTION_254_3();
              sub_2596D4E7C(v154, v155, v156, v157, v158, v159, v160, v161, v169, v170);
              swift_bridgeObjectRelease();
              v153 += 16;
              --v151;
            }
            while (v151);
            swift_bridgeObjectRelease();
            uint64_t v162 = *v214;
            uint64_t v14 = v152;
            uint64_t v147 = v217;
          }
          else
          {
            uint64_t v162 = v150;
            swift_bridgeObjectRelease();
          }
          *uint64_t v207 = v9;
          unint64_t v163 = *(void *)(v9 + 16);
          if (v163 >= *(void *)(v9 + 24) >> 1)
          {
            sub_2594F2310();
            uint64_t v9 = *v207;
          }
          ++v148;
          *(void *)(v9 + 16) = v163 + 1;
          *(void *)(v9 + 8 * v163 + 32) = v162;
        }
        while (v148 != v147);
        goto LABEL_126;
      case 3:
        OUTLINED_FUNCTION_90_13();
        if (!v101) {
          goto LABEL_19;
        }
        uint64_t v202 = v31;
        unint64_t v102 = sub_25939D5DC();
        uint64_t v31 = v202;
        if ((v103 & 1) == 0) {
          goto LABEL_19;
        }
        uint64_t v104 = OUTLINED_FUNCTION_60_17(v102);
        if (!v34) {
          goto LABEL_19;
        }
        uint64_t v182 = v14;
        uint64_t v186 = v24;
        *char v105 = MEMORY[0x263F8EE88];
        uint64_t v171 = v104 + 32;
        uint64_t v169 = v104;
        swift_bridgeObjectRetain_n();
        uint64_t v106 = 0;
        unint64_t v190 = v32;
        uint64_t v196 = v33;
        uint64_t v170 = (uint64_t)v34;
        do
        {
          uint64_t v107 = *(void *)(v171 + 8 * v106);
          uint64_t v108 = *(void *)(v107 + 16);
          if (v108)
          {
            swift_bridgeObjectRetain_n();
            uint64_t v172 = v107;
            uint64_t v109 = v107 + 40;
            do
            {
              sub_259843F00();
              OUTLINED_FUNCTION_254_3();
              sub_2596D4E7C(v110, v111, v112, v113, v114, v115, v116, v117, v169, v170);
              swift_bridgeObjectRelease();
              v109 += 16;
              --v108;
            }
            while (v108);
            swift_bridgeObjectRelease_n();
            uint64_t v32 = v190;
            uint64_t v33 = v196;
            uint64_t v9 = v218;
          }
          OUTLINED_FUNCTION_233_3();
        }
        while (!v11);
        swift_bridgeObjectRelease_n();
        uint64_t v178 = *(void *)(v0 + 104);
        OUTLINED_FUNCTION_167_7((uint64_t)v32);
        *uint64_t v210 = v9;
        unint64_t v219 = sub_25939D5DC();
        if (__OFADD__(*(void *)(v9 + 16), (v118 & 1) == 0)) {
          goto LABEL_136;
        }
        char v119 = v118;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE40);
        OUTLINED_FUNCTION_202_6();
        char v120 = v210;
        char v121 = sub_259845350();
        uint64_t v9 = *v210;
        uint64_t v24 = v186;
        unint64_t v122 = v219;
        if ((v121 & 1) == 0) {
          goto LABEL_92;
        }
        char v120 = (void *)*v210;
        sub_25939D5DC();
        OUTLINED_FUNCTION_85_12();
        if (!v11) {
          goto LABEL_4;
        }
        unint64_t v122 = v123;
LABEL_92:
        swift_bridgeObjectRelease();
        sub_259843F00();
        if ((v119 & 1) == 0) {
          sub_25939FB3C(v122, 3, MEMORY[0x263F8EE88], v9);
        }
        OUTLINED_FUNCTION_140_7();
        char v34 = (void (*)(void *@<X8>))&v120[v122];
        sub_2596D0A58(v178);
        uint64_t v32 = sub_259445584;
        uint64_t v14 = v182;
        uint64_t v31 = v202;
        goto LABEL_19;
      case 4:
        OUTLINED_FUNCTION_90_13();
        if (!v76) {
          goto LABEL_20;
        }
        uint64_t v201 = v31;
        uint64_t v77 = v75;
        unint64_t v78 = sub_25939D5DC();
        uint64_t v31 = v201;
        if ((v79 & 1) == 0) {
          goto LABEL_20;
        }
        OUTLINED_FUNCTION_216_5(v78);
        if (!v77) {
          goto LABEL_20;
        }
        uint64_t v195 = (uint64_t)v33;
        uint64_t v185 = v24;
        OUTLINED_FUNCTION_184_7(MEMORY[0x263F8EE88]);
        uint64_t v80 = 0;
        BOOL v81 = (uint64_t *)(v0 + 96);
        uint64_t v171 = v77;
        do
        {
          uint64_t v82 = *(void *)(v172 + 8 * v80);
          uint64_t v83 = *(void *)(v82 + 16);
          if (v83)
          {
            uint64_t v176 = v80;
            OUTLINED_FUNCTION_173_0();
            uint64_t v84 = v82 + 40;
            do
            {
              uint64_t v82 = *(void *)(v84 - 8);
              uint64_t v85 = sub_259843F00();
              OUTLINED_FUNCTION_219_5(v85, v86, v87, v88, v89, v90, v91, v92, v169, v170);
              swift_bridgeObjectRelease();
              v84 += 16;
              --v83;
            }
            while (v83);
            OUTLINED_FUNCTION_77();
            BOOL v81 = (uint64_t *)(v0 + 96);
            uint64_t v77 = v171;
            uint64_t v80 = v176;
          }
          ++v80;
        }
        while (v80 != v77);
        OUTLINED_FUNCTION_183_4();
        uint64_t v177 = *v212;
        OUTLINED_FUNCTION_168_5(v195);
        *BOOL v81 = v82;
        sub_25939D5DC();
        OUTLINED_FUNCTION_0();
        if (v5) {
          goto LABEL_135;
        }
        uint64_t v95 = v93;
        char v96 = v94;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE40);
        OUTLINED_FUNCTION_202_6();
        char v97 = sub_259845350();
        uint64_t v98 = *v81;
        if ((v97 & 1) == 0) {
          goto LABEL_74;
        }
        sub_25939D5DC();
        OUTLINED_FUNCTION_27_0();
        if (!v11) {
          goto LABEL_4;
        }
        uint64_t v95 = v99;
LABEL_74:
        swift_bridgeObjectRelease();
        sub_259843F00();
        if ((v96 & 1) == 0) {
          sub_25939FB3C(v95, 4, MEMORY[0x263F8EE88], v98);
        }
        uint64_t v100 = *(void *)(v98 + 56);
        uint64_t v218 = v98;
        swift_bridgeObjectRelease();
        char v34 = (void (*)(void *@<X8>))(v100 + 8 * v95);
        sub_2596D0A58(v177);
        uint64_t v33 = sub_259445584;
        uint64_t v24 = v185;
        uint64_t v31 = v201;
        goto LABEL_20;
      case 5:
        OUTLINED_FUNCTION_90_13();
        if (!v43) {
          goto LABEL_21;
        }
        uint64_t v199 = (uint64_t)v31;
        unint64_t v44 = sub_25939D5DC();
        uint64_t v31 = (void (*)(void *@<X8>))v199;
        if ((v45 & 1) == 0) {
          goto LABEL_21;
        }
        OUTLINED_FUNCTION_216_5(v44);
        if (!v218) {
          goto LABEL_21;
        }
        uint64_t v184 = v24;
        OUTLINED_FUNCTION_184_7(MEMORY[0x263F8EE88]);
        uint64_t v46 = 0;
        uint64_t v188 = (uint64_t)v32;
        uint64_t v193 = (uint64_t)v33;
        uint64_t v171 = v218;
        do
        {
          uint64_t v47 = *(void *)(v172 + 8 * v46);
          uint64_t v48 = *(void *)(v47 + 16);
          if (v48)
          {
            uint64_t v174 = v46;
            OUTLINED_FUNCTION_173_0();
            uint64_t v49 = v47 + 40;
            do
            {
              uint64_t v47 = *(void *)(v49 - 8);
              uint64_t v50 = sub_259843F00();
              OUTLINED_FUNCTION_219_5(v50, v51, v52, v53, v54, v55, v56, v57, v169, v170);
              swift_bridgeObjectRelease();
              v49 += 16;
              --v48;
            }
            while (v48);
            OUTLINED_FUNCTION_77();
            uint64_t v9 = v218;
            uint64_t v46 = v174;
          }
          ++v46;
        }
        while (v46 != v9);
        OUTLINED_FUNCTION_183_4();
        uint64_t v175 = *v209;
        sub_259843F00();
        OUTLINED_FUNCTION_168_5(v199);
        uint64_t *v211 = v47;
        sub_25939D5DC();
        OUTLINED_FUNCTION_0();
        if (v5)
        {
          __break(1u);
LABEL_135:
          __break(1u);
LABEL_136:
          __break(1u);
          JUMPOUT(0x25969EC68);
        }
        uint64_t v60 = v58;
        char v61 = v59;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE40);
        char v62 = OUTLINED_FUNCTION_270_2();
        uint64_t v63 = *v211;
        uint64_t v24 = v184;
        uint64_t v33 = (void (*)(void *@<X8>))v193;
        uint64_t v218 = *v211;
        if ((v62 & 1) == 0) {
          goto LABEL_54;
        }
        sub_25939D5DC();
        OUTLINED_FUNCTION_125();
        if (!v11) {
          goto LABEL_4;
        }
        uint64_t v60 = v64;
LABEL_54:
        swift_bridgeObjectRelease();
        sub_259843F00();
        if ((v61 & 1) == 0) {
          sub_25939FB3C(v60, 5, MEMORY[0x263F8EE88], v63);
        }
        uint64_t v200 = *(void *)(v0 + 216);
        uint64_t v65 = *(void *)(v63 + 56);
        swift_bridgeObjectRelease();
        char v34 = (void (*)(void *@<X8>))(v65 + 8 * v60);
        sub_2596D0A58(v175);
        if (v200)
        {
          sub_25953BECC(v175, v66, v67, v68, v69, v70, v71, v72, v169, v170, v171, v172, v175, v14, v184, v188, v193, v197, v200,
            (uint64_t)v205,
            (uint64_t)v207,
            (uint64_t)v208,
            (uint64_t)v209,
            (uint64_t)v210,
            (uint64_t)v211,
            (uint64_t)v212);
          uint64_t v74 = v73;
          swift_bridgeObjectRelease();
          *uint64_t v208 = v74;
          swift_retain();
          sub_259418628(v208);
          uint64_t v197 = v24;
          if (v24) {
            goto LABEL_12;
          }
          char v34 = *(void (**)(void *@<X8>))(v0 + 216);
          swift_release();
          OUTLINED_FUNCTION_70_13();
          OUTLINED_FUNCTION_143();

          uint64_t v31 = sub_259445584;
          uint64_t v14 = v181;
          uint64_t v32 = v189;
          uint64_t v33 = v194;
        }
        else
        {
          swift_bridgeObjectRelease();
          uint64_t v31 = sub_259445584;
          uint64_t v32 = (void (*)(void *@<X8>))v188;
        }
        goto LABEL_21;
      default:
        uint64_t v203 = (uint64_t)v31;
        type metadata accessor for QueryGenerator(0);
        uint64_t v191 = (uint64_t)v32;
        type metadata accessor for QueryGeneratorContext(0);
        swift_retain();
        swift_retain();
        swift_retain();
        static QueryGenerator.consolidatePersonAssetUUIDs(from:storyGenerationCache:photoLibrary:logger:)();
        uint64_t v125 = v124;
        swift_release();
        swift_release();
        swift_release();
        char v34 = (void (*)(void *@<X8>))v215;
        uint64_t v31 = (void (*)(void *@<X8>))v203;
        if (!v125) {
          continue;
        }
        uint64_t v179 = v125;
        sub_259843F00();
        OUTLINED_FUNCTION_168_5(v215);
        *uint64_t v213 = v215;
        sub_25939D5DC();
        OUTLINED_FUNCTION_0();
        if (v5)
        {
          __break(1u);
          goto LABEL_12;
        }
        uint64_t v128 = v126;
        char v129 = v127;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FE40);
        char v130 = OUTLINED_FUNCTION_270_2();
        uint64_t v131 = *v213;
        uint64_t v218 = *v213;
        if (v130)
        {
          sub_25939D5DC();
          OUTLINED_FUNCTION_125();
          if (!v11) {
            goto LABEL_4;
          }
          uint64_t v128 = v132;
        }
        swift_bridgeObjectRelease();
        sub_259843F00();
        if ((v129 & 1) == 0) {
          sub_25939FB3C(v128, 0, MEMORY[0x263F8EE88], v131);
        }
        uint64_t v216 = *(void *)(v0 + 216);
        swift_bridgeObjectRelease();
        sub_2596D0A58(v179);
        if (v216)
        {
          sub_25953BECC(v179, v133, v134, v135, v136, v137, v138, v139, v169, v170, v171, v172, v179, v14, v24, v191, (uint64_t)v33, v197, v203,
            (uint64_t)v205,
            (uint64_t)v207,
            (uint64_t)v208,
            (uint64_t)v209,
            (uint64_t)v210,
            (uint64_t)v211,
            (uint64_t)v212);
          uint64_t v141 = v140;
          swift_bridgeObjectRelease();
          *uint64_t v205 = v141;
          swift_retain();
          sub_259418628(v205);
          uint64_t v197 = v24;
          if (v24) {
            goto LABEL_12;
          }
          uint64_t v142 = *(void **)(v0 + 216);
          swift_release();
          OUTLINED_FUNCTION_72_14();
          OUTLINED_FUNCTION_143();
        }
        else
        {
          swift_bridgeObjectRelease();
        }
        char v34 = sub_259445584;
        uint64_t v32 = (void (*)(void *@<X8>))v191;
        uint64_t v31 = (void (*)(void *@<X8>))v203;
        break;
    }
  }
  BOOL v5 = __OFADD__(v29++, 1);
  if (v5)
  {
    __break(1u);
    goto LABEL_125;
  }
  unint64_t v38 = (1 << *(unsigned char *)(v0 + 352)) + 63;
  uint64_t v37 = *(void *)(v0 + 208);
  if (v29 >= (uint64_t)(v38 >> 6)) {
    goto LABEL_121;
  }
  uint64_t v39 = v37 + 56;
  unint64_t v40 = *(void *)(v37 + 56 + 8 * v29);
  if (v40)
  {
LABEL_34:
    unint64_t v30 = (v40 - 1) & v40;
    unint64_t v36 = __clz(__rbit64(v40)) + (v29 << 6);
    goto LABEL_35;
  }
  int64_t v41 = v38 >> 6;
  int64_t v42 = v29 + 1;
  if (v29 + 1 >= v41) {
    goto LABEL_121;
  }
  unint64_t v40 = *(void *)(v39 + 8 * v42);
  if (v40) {
    goto LABEL_33;
  }
  int64_t v42 = v29 + 2;
  if (v29 + 2 >= v41) {
    goto LABEL_121;
  }
  unint64_t v40 = *(void *)(v39 + 8 * v42);
  if (v40) {
    goto LABEL_33;
  }
  int64_t v42 = v29 + 3;
  if (v29 + 3 >= v41)
  {
LABEL_121:
    swift_release();
    sub_2593980F8(v215);
    sub_2593980F8((uint64_t)sub_259445584);
    sub_2593980F8((uint64_t)v32);
    OUTLINED_FUNCTION_235_3((uint64_t)v33);
    OUTLINED_FUNCTION_80_1();
    __asm { BRAA            X2, X16 }
  }
  unint64_t v40 = *(void *)(v39 + 8 * v42);
  if (v40)
  {
LABEL_33:
    int64_t v29 = v42;
    goto LABEL_34;
  }
  while (1)
  {
    int64_t v29 = v42 + 1;
    if (__OFADD__(v42, 1)) {
      break;
    }
    if (v29 >= v41) {
      goto LABEL_121;
    }
    unint64_t v40 = *(void *)(v39 + 8 * v29);
    ++v42;
    if (v40) {
      goto LABEL_34;
    }
  }
LABEL_125:
  __break(1u);
LABEL_126:
  swift_bridgeObjectRelease();
LABEL_127:
  *(void *)(v0 + 328) = v9;
  uint64_t v166 = (void *)swift_task_alloc();
  *(void *)(v0 + 336) = v166;
  *uint64_t v166 = v0;
  v166[1] = sub_25969DDE4;
  OUTLINED_FUNCTION_289_1();
  OUTLINED_FUNCTION_80_1();
  return MomentGroundingProcessor.assetUUIDsBackedByOverlappingMoments(for:)(v167);
}

uint64_t sub_25969ECB0()
{
  OUTLINED_FUNCTION_14();
  v1[5] = v2;
  v1[6] = v0;
  v1[3] = v3;
  v1[4] = v4;
  v1[2] = v5;
  uint64_t v6 = sub_259843A80();
  v1[7] = v6;
  OUTLINED_FUNCTION_1(v6);
  v1[8] = v7;
  v1[9] = OUTLINED_FUNCTION_49_1();
  v1[10] = swift_task_alloc();
  v1[11] = swift_task_alloc();
  v1[12] = swift_task_alloc();
  v1[13] = swift_task_alloc();
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEE0);
  v1[14] = v8;
  OUTLINED_FUNCTION_129(v8);
  v1[15] = OUTLINED_FUNCTION_49_1();
  v1[16] = swift_task_alloc();
  v1[17] = swift_task_alloc();
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  v1[18] = TokenCategoryType;
  OUTLINED_FUNCTION_129(TokenCategoryType);
  v1[19] = OUTLINED_FUNCTION_49_1();
  v1[20] = swift_task_alloc();
  v1[21] = swift_task_alloc();
  v1[22] = swift_task_alloc();
  v1[23] = swift_task_alloc();
  v1[24] = swift_task_alloc();
  v1[25] = swift_task_alloc();
  v1[26] = swift_task_alloc();
  v1[27] = swift_task_alloc();
  v1[28] = swift_task_alloc();
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  OUTLINED_FUNCTION_1(TokenSuggestion);
  v1[29] = v11;
  v1[30] = OUTLINED_FUNCTION_49_1();
  v1[31] = swift_task_alloc();
  v1[32] = swift_task_alloc();
  uint64_t v12 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v12);
  v1[33] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v13, v14, v15);
}

uint64_t sub_25969EEA8()
{
  uint64_t v246 = v0;
  uint64_t v2 = (void *)v0[5];
  uint64_t v3 = v0[2];
  uint64_t v4 = v2[3];
  uint64_t v205 = v2;
  __swift_project_boxed_opaque_existential_1(v2, (uint64_t)v4);
  OUTLINED_FUNCTION_28_3();
  v5();
  uint64_t v213 = *(void *)(v3 + 16);
  if (!v213)
  {
    uint64_t v6 = 0;
    uint64_t v8 = (void *)MEMORY[0x263F8EE80];
    goto LABEL_182;
  }
  uint64_t v227 = v0[14];
  uint64_t v214 = v0[2] + 32;
  uint64_t v207 = (void (**)(uint64_t, uint64_t))(v0[8] + 8);
  sub_259843F00();
  uint64_t v6 = 0;
  uint64_t v7 = 0;
  uint64_t v8 = (void *)MEMORY[0x263F8EE80];
  uint64_t v204 = MEMORY[0x263F8EE58] + 8;
LABEL_3:
  uint64_t v217 = v8;
  uint64_t v222 = v6;
  uint64_t v216 = v7;
  uint64_t v9 = v214 + 88 * v7;
  uint64_t v10 = *(void *)(v9 + 8);
  uint64_t v11 = *(void *)(v9 + 24);
  uint64_t v12 = *(void *)(v9 + 32);
  unint64_t v1 = *(unsigned __int8 *)(v9 + 40);
  unint64_t v14 = *(void *)(v9 + 48);
  uint64_t v13 = *(void *)(v9 + 56);
  char v15 = *(unsigned char *)(v9 + 64);
  uint64_t v17 = *(void *)(v9 + 72);
  uint64_t v16 = *(void *)(v9 + 80);
  uint64_t v3 = *(unsigned __int8 *)(v9 + 16);
  uint64_t v225 = *(void *)v9;
  uint64_t v235 = *(void **)v9;
  uint64_t v236 = v10;
  char v237 = v3;
  uint64_t v215 = v11;
  uint64_t v238 = v11;
  uint64_t v239 = v12;
  char v240 = v1;
  unint64_t v241 = v14;
  uint64_t v242 = v13;
  char v243 = v15;
  uint64_t v244 = v17;
  uint64_t v245 = v16;
  uint64_t v231 = v16;
  sub_259843F00();
  uint64_t v18 = v10;
  sub_259843F00();
  unint64_t v19 = v14;
  sub_259843F00();
  uint64_t v220 = v13;
  sub_259843F00();
  uint64_t v20 = v17;
  sub_259843F00();
  uint64_t v21 = (uint64_t *)&v235;
  uint64_t v228 = QueryToken.allRetrievedAssetUUIDs.getter();
  if (!v228)
  {
    char v208 = v3;
    char v209 = v15;
    char v210 = v1;
    uint64_t v211 = v12;
    uint64_t v89 = OUTLINED_FUNCTION_22_42();
    v90(v89);
    uint64_t v91 = v18;
    sub_259843F00();
    unint64_t v1 = v19;
    sub_259843F00();
    sub_259843F00();
    uint64_t v92 = v20;
    sub_259843F00();
    uint64_t v3 = v231;
    sub_259843F00();
    uint64_t v4 = sub_259843A50();
    os_log_type_t v93 = sub_259844B70();
    BOOL v94 = os_log_type_enabled(v4, v93);
    uint64_t v229 = v0[13];
    uint64_t v212 = v0[7];
    if (v94)
    {
      uint64_t v95 = OUTLINED_FUNCTION_54();
      uint64_t v206 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v95 = 136315138;
      uint64_t v234 = v206;
      uint64_t v235 = (void *)v225;
      uint64_t v236 = v91;
      char v237 = v208;
      uint64_t v238 = v215;
      uint64_t v239 = v211;
      char v240 = v210;
      unint64_t v241 = v19;
      uint64_t v242 = v220;
      char v243 = v209;
      uint64_t v244 = v92;
      uint64_t v245 = v231;
      QueryToken.description.getter();
      *(void *)(v95 + 4) = sub_259356D5C(v96, v97, &v234);
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_171_0();
      OUTLINED_FUNCTION_184_1();
      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_193_0();
      OUTLINED_FUNCTION_77();
      _os_log_impl(&dword_25934C000, v4, v93, "Ignore the query token because retrievedAssetUUIDs is nil = %s", (uint8_t *)v95, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_171_0();
      OUTLINED_FUNCTION_184_1();
      OUTLINED_FUNCTION_190();
      OUTLINED_FUNCTION_193_0();
      OUTLINED_FUNCTION_77();
    }

    (*v207)(v229, v212);
    goto LABEL_175;
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v4 = *(NSObject **)(v13 + 16);
  if (!v4)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_175:
    uint64_t v6 = v222;
    uint64_t v98 = v216;
    uint64_t v8 = v217;
    goto LABEL_176;
  }
  OUTLINED_FUNCTION_53_7();
  uint64_t v24 = v22 + v23;
  uint64_t v226 = *(void *)(v25 + 72);
  uint64_t v6 = v222;
  uint64_t v8 = v217;
  while (2)
  {
    uint64_t v232 = v4;
    sub_2595226D0(v24, v0[32], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
    if (qword_26A3887D0 != -1) {
      swift_once();
    }
    uint64_t v26 = v0[28];
    uint64_t v27 = __swift_project_value_buffer(v0[18], (uint64_t)qword_26A38AE40);
    sub_2595226D0(v27, v26, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    OUTLINED_FUNCTION_135_6();
    sub_2595226D0(v26, (uint64_t)v21, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
    switch(swift_getEnumCaseMultiPayload())
    {
      case 1u:
        if (OUTLINED_FUNCTION_3_65() != 1) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 2u:
        sub_2595226D0(v0[17], v0[27], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0);
        int v28 = OUTLINED_FUNCTION_229_5();
        uint64_t v29 = v0[27];
        if (v28 == 2)
        {
          sub_25938D0FC((uint64_t)v6 + (void)v21, &qword_26A38AEB8);
          sub_25938D0FC((uint64_t)v21, &qword_26A38AEB8);
          sub_25938D0FC(v26, &qword_26A38AEB8);
          sub_25938D0FC(v29, &qword_26A38AEB8);
          goto LABEL_33;
        }
        sub_25938D0FC(v26, &qword_26A38AEB8);
        OUTLINED_FUNCTION_198_2();
        goto LABEL_48;
      case 3u:
        if (OUTLINED_FUNCTION_3_65() != 3) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 4u:
        unint64_t v30 = v6;
        sub_2595226D0(v0[17], v0[26], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
        int v31 = OUTLINED_FUNCTION_146_7();
        sub_259843560();
        OUTLINED_FUNCTION_4();
        uint64_t v33 = *(void (**)(void))(v32 + 8);
        if (v31 == 4)
        {
          OUTLINED_FUNCTION_42_23();
          v33();
          OUTLINED_FUNCTION_42_23();
          v33();
          uint64_t v6 = v30;
LABEL_33:
          uint64_t v34 = v0[28];
          sub_2596A61D8(v0[17], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          uint64_t v35 = sub_2596A61D8(v34, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          OUTLINED_FUNCTION_100_8(v35, v36, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
LABEL_76:
          uint64_t v50 = sub_2596A61D8(v0[31], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
          OUTLINED_FUNCTION_100_8(v50, v51, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        }
        else
        {
          OUTLINED_FUNCTION_42_23();
          v33();
          uint64_t v6 = v30;
LABEL_48:
          uint64_t v37 = v0[32];
          uint64_t v38 = v0[28];
          sub_25938D0FC(v0[17], &qword_26A38AEE0);
          uint64_t v39 = sub_2596A61D8(v38, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          OUTLINED_FUNCTION_100_8(v39, v40, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
          if (qword_26A3887C8 != -1) {
            swift_once();
          }
          uint64_t v41 = v0[25];
          uint64_t v42 = __swift_project_value_buffer(v0[18], (uint64_t)qword_26A38AE28);
          sub_2595226D0(v42, v41, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          OUTLINED_FUNCTION_135_6();
          sub_2595226D0(v41, v37, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
          switch(swift_getEnumCaseMultiPayload())
          {
            case 1u:
              if (OUTLINED_FUNCTION_3_65() != 1) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 2u:
              sub_2595226D0(v0[16], v0[24], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0);
              int v43 = OUTLINED_FUNCTION_229_5();
              uint64_t v44 = v0[24];
              if (v43 == 2)
              {
                sub_25938D0FC((uint64_t)v6 + v37, &qword_26A38AEB8);
                sub_25938D0FC(v37, &qword_26A38AEB8);
                sub_25938D0FC(v41, &qword_26A38AEB8);
                sub_25938D0FC(v44, &qword_26A38AEB8);
                goto LABEL_75;
              }
              sub_25938D0FC(v41, &qword_26A38AEB8);
              OUTLINED_FUNCTION_198_2();
              goto LABEL_127;
            case 3u:
              if (OUTLINED_FUNCTION_3_65() != 3) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 4u:
              char v45 = v6;
              sub_2595226D0(v0[16], v0[23], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              int v46 = OUTLINED_FUNCTION_146_7();
              sub_259843560();
              OUTLINED_FUNCTION_4();
              uint64_t v48 = *(void (**)(void))(v47 + 8);
              if (v46 == 4)
              {
                OUTLINED_FUNCTION_42_23();
                v48();
                OUTLINED_FUNCTION_42_23();
                v48();
                uint64_t v6 = v45;
LABEL_75:
                uint64_t v49 = v0[25];
                sub_2596A61D8(v0[16], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                sub_2596A61D8(v49, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                goto LABEL_76;
              }
              OUTLINED_FUNCTION_42_23();
              v48();
              uint64_t v6 = v45;
LABEL_127:
              uint64_t v223 = v6;
              uint64_t v72 = v0[31];
              uint64_t v73 = v0[32];
              uint64_t v3 = v0[30];
              unint64_t v1 = v0[25];
              uint64_t v74 = v0[15];
              sub_25938D0FC(v0[16], &qword_26A38AEE0);
              sub_2596A61D8(v1, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              sub_2596A61D8(v72, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
              sub_2595226D0(v73, v3, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
              OUTLINED_FUNCTION_153_7();
              swift_storeEnumTagMultiPayload();
              uint64_t v75 = v74 + *(int *)(v227 + 48);
              sub_2595226D0(v3, v74, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              OUTLINED_FUNCTION_254_3();
              sub_2595226D0(v76, v77, v78);
              uint64_t v6 = v223;
              switch(swift_getEnumCaseMultiPayload())
              {
                case 1u:
                  if (OUTLINED_FUNCTION_3_65() != 1) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 2u:
                  uint64_t v79 = v0[21];
                  sub_2595226D0(v0[15], v79, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                  unint64_t v1 = *(int *)(__swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0) + 48);
                  uint64_t v3 = v79 + v1;
                  int EnumCaseMultiPayload = swift_getEnumCaseMultiPayload();
                  uint64_t v81 = v0[21];
                  if (EnumCaseMultiPayload != 2)
                  {
                    sub_25938D0FC(v3, &qword_26A38AEB8);
                    OUTLINED_FUNCTION_198_2();
                    goto LABEL_168;
                  }
                  sub_25938D0FC(v75 + v1, &qword_26A38AEB8);
                  sub_25938D0FC(v75, &qword_26A38AEB8);
                  sub_25938D0FC(v3, &qword_26A38AEB8);
                  sub_25938D0FC(v81, &qword_26A38AEB8);
                  break;
                case 3u:
                  if (OUTLINED_FUNCTION_3_65() != 3) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 4u:
                  sub_2595226D0(v0[15], v0[20], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                  int v82 = OUTLINED_FUNCTION_146_7();
                  uint64_t v83 = sub_259843560();
                  OUTLINED_FUNCTION_4();
                  unint64_t v1 = *(void *)(v84 + 8);
                  uint64_t v3 = v0[20];
                  if (v82 != 4)
                  {
                    ((void (*)(void, uint64_t))v1)(v0[20], v83);
LABEL_168:
                    uint64_t v6 = v223;
LABEL_169:
                    uint64_t v21 = (uint64_t *)v0[30];
                    uint64_t v86 = v0[22];
                    sub_25938D0FC(v0[15], &qword_26A38AEE0);
                    sub_2596A61D8(v86, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                    sub_2596A61D8((uint64_t)v21, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
                    uint64_t v71 = v232;
                    goto LABEL_111;
                  }
                  OUTLINED_FUNCTION_42_23();
                  ((void (*)(void))v1)();
                  ((void (*)(uint64_t, uint64_t))v1)(v3, v83);
                  break;
                case 5u:
                  if (OUTLINED_FUNCTION_3_65() != 5) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 6u:
                  if (OUTLINED_FUNCTION_3_65() != 6) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 7u:
                  if (OUTLINED_FUNCTION_3_65() != 7) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 8u:
                  if (OUTLINED_FUNCTION_3_65() != 8) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 9u:
                  if (OUTLINED_FUNCTION_3_65() != 9) {
                    goto LABEL_169;
                  }
                  goto LABEL_152;
                case 0xAu:
                  if (OUTLINED_FUNCTION_3_65() != 10) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0xBu:
                  if (OUTLINED_FUNCTION_3_65() == 11) {
                    goto LABEL_152;
                  }
                  goto LABEL_169;
                case 0xCu:
                  if (OUTLINED_FUNCTION_3_65() != 12) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0xDu:
                  if (OUTLINED_FUNCTION_3_65() != 13) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0xEu:
                  if (OUTLINED_FUNCTION_3_65() != 14) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0xFu:
                  if (OUTLINED_FUNCTION_3_65() != 15) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0x10u:
                  if (OUTLINED_FUNCTION_3_65() != 16) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                case 0x11u:
                  if (OUTLINED_FUNCTION_3_65() != 17) {
                    goto LABEL_169;
                  }
                  goto LABEL_153;
                default:
                  if (OUTLINED_FUNCTION_3_65()) {
                    goto LABEL_169;
                  }
LABEL_152:
                  sub_2596A61D8(v75, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
                  goto LABEL_153;
              }
              uint64_t v6 = v223;
LABEL_153:
              uint64_t v85 = v0[22];
              sub_2596A61D8(v0[15], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              sub_2596A61D8(v85, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              break;
            case 5u:
              if (OUTLINED_FUNCTION_3_65() != 5) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 6u:
              if (OUTLINED_FUNCTION_3_65() != 6) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 7u:
              if (OUTLINED_FUNCTION_3_65() != 7) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 8u:
              if (OUTLINED_FUNCTION_3_65() != 8) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 9u:
              if (OUTLINED_FUNCTION_3_65() != 9) {
                goto LABEL_127;
              }
              goto LABEL_74;
            case 0xAu:
              if (OUTLINED_FUNCTION_3_65() != 10) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0xBu:
              if (OUTLINED_FUNCTION_3_65() == 11) {
                goto LABEL_74;
              }
              goto LABEL_127;
            case 0xCu:
              if (OUTLINED_FUNCTION_3_65() != 12) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0xDu:
              if (OUTLINED_FUNCTION_3_65() != 13) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0xEu:
              if (OUTLINED_FUNCTION_3_65() != 14) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0xFu:
              if (OUTLINED_FUNCTION_3_65() != 15) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0x10u:
              if (OUTLINED_FUNCTION_3_65() != 16) {
                goto LABEL_127;
              }
              goto LABEL_75;
            case 0x11u:
              if (OUTLINED_FUNCTION_3_65() != 17) {
                goto LABEL_127;
              }
              goto LABEL_75;
            default:
              if (OUTLINED_FUNCTION_3_65()) {
                goto LABEL_127;
              }
LABEL_74:
              sub_2596A61D8(v37, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
              goto LABEL_75;
          }
        }
        uint64_t v52 = sub_2596A61D8(v0[30], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
        OUTLINED_FUNCTION_100_8(v52, v53, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
        char v54 = 7;
        switch(swift_getEnumCaseMultiPayload())
        {
          case 1u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 1;
            break;
          case 2u:
            uint64_t v55 = v0[19];
            uint64_t v56 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38AEC0);
            sub_25938D0FC(v55 + *(int *)(v56 + 48), &qword_26A38AEB8);
            sub_25938D0FC(v55, &qword_26A38AEB8);
            char v54 = 2;
            break;
          case 3u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 3;
            break;
          case 4u:
            sub_259843560();
            OUTLINED_FUNCTION_4();
            OUTLINED_FUNCTION_11();
            v57();
            char v54 = 4;
            break;
          case 5u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 5;
            break;
          case 6u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 6;
            break;
          case 7u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 8;
            break;
          case 8u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 9;
            break;
          case 9u:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 13;
            break;
          case 0xAu:
            char v54 = 14;
            break;
          case 0xBu:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 15;
            break;
          case 0xCu:
            char v54 = 17;
            break;
          case 0xDu:
            break;
          case 0xEu:
            char v54 = 10;
            break;
          case 0xFu:
            char v54 = 11;
            break;
          case 0x10u:
            char v54 = 12;
            break;
          case 0x11u:
            char v54 = 16;
            break;
          default:
            sub_2596A61D8(v0[19], (void (*)(void))type metadata accessor for QueryTokenCategoryType);
            char v54 = 0;
            break;
        }
        sub_259843F00();
        sub_2593980F8((uint64_t)v6);
        swift_isUniquelyReferenced_nonNull_native();
        uint64_t v235 = v8;
        sub_25939D5DC();
        OUTLINED_FUNCTION_38_24();
        if (v60)
        {
          __break(1u);
LABEL_267:
          __break(1u);
LABEL_268:
          __break(1u);
LABEL_269:
          __break(1u);
LABEL_270:
          __break(1u);
          JUMPOUT(0x2596A0AF0);
        }
        unint64_t v61 = v58;
        char v62 = v59;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FDA8);
        char v63 = sub_259845350();
        uint64_t v8 = v235;
        if ((v63 & 1) == 0) {
          goto LABEL_99;
        }
        unint64_t v64 = sub_25939D5DC();
        if ((v62 & 1) == (v65 & 1))
        {
          unint64_t v61 = v64;
LABEL_99:
          swift_bridgeObjectRelease();
          if (v62)
          {
            sub_259843F00();
          }
          else
          {
            OUTLINED_FUNCTION_36_2((uint64_t)&v8[v61 >> 6]);
            *(unsigned char *)(v8[6] + v61) = v54;
            *(void *)(v8[7] + 8 * v61) = MEMORY[0x263F8EE78];
            uint64_t v66 = v8[2];
            uint64_t v67 = v66 + 1;
            BOOL v68 = __OFADD__(v66, 1);
            sub_259843F00();
            if (v68) {
              goto LABEL_267;
            }
            v8[2] = v67;
          }
          uint64_t v69 = v8[7];
          swift_bridgeObjectRelease();
          uint64_t v21 = *(uint64_t **)(v69 + 8 * v61);
          char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
          *(void *)(v69 + 8 * v61) = v21;
          if ((isUniquelyReferenced_nonNull_native & 1) == 0)
          {
            OUTLINED_FUNCTION_206_6();
            uint64_t v21 = v87;
            *(void *)(v69 + 8 * v61) = v87;
          }
          unint64_t v1 = v21[2];
          uint64_t v3 = v1 + 1;
          if (v1 >= (unint64_t)v21[3] >> 1)
          {
            OUTLINED_FUNCTION_177_7();
            uint64_t v21 = v88;
            *(void *)(v69 + 8 * v61) = v88;
          }
          uint64_t v71 = v232;
          uint64_t v21[2] = v3;
          v21[v1 + 4] = v228;
          uint64_t v6 = sub_2593939F0;
LABEL_111:
          sub_2596A61D8(v0[32], (void (*)(void))type metadata accessor for QueryTokenSuggestion);
          v24 += v226;
          uint64_t v4 = ((char *)v71 - 1);
          if (v4) {
            continue;
          }
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          uint64_t v98 = v216;
LABEL_176:
          uint64_t v7 = v98 + 1;
          if (v7 == v213)
          {
            swift_bridgeObjectRelease();
LABEL_182:
            uint64_t v224 = (uint64_t)v6;
            uint64_t v101 = sub_25976EB14(9, (uint64_t)v8);
            swift_bridgeObjectRelease();
            if (v101
              || (uint64_t v102 = sub_25976EB14(7, (uint64_t)v8), swift_bridgeObjectRelease(), v102)
              || (uint64_t v103 = sub_25976EB14(8, (uint64_t)v8), swift_bridgeObjectRelease(), v103))
            {
              uint64_t v104 = sub_25976EB14(9, (uint64_t)v8);
              uint64_t v105 = MEMORY[0x263F8EE78];
              if (v104)
              {
                uint64_t v6 = (void (*)(void *@<X8>))v104;
                uint64_t v106 = *(void *)(v104 + 16);
                if (v106)
                {
                  if (!v0[4]) {
                    goto LABEL_191;
                  }
                  uint64_t v235 = (void *)MEMORY[0x263F8EE78];
                  sub_259843F00();
                  for (uint64_t i = 0; i != v106; ++i)
                  {
                    sub_259843F00();
                    sub_25973E3A0();
                  }
                  uint64_t v108 = (void *)v0[4];
                  swift_bridgeObjectRelease();
                  OUTLINED_FUNCTION_92_12((uint64_t)v235, 0xD000000000000011, 0x800000025985D760);
                  OUTLINED_FUNCTION_19_7();

                  if (*((void *)v6 + 2))
                  {
LABEL_191:
                    OUTLINED_FUNCTION_152_7();
                    uint64_t v105 = MEMORY[0x263F8EE78];
                    uint64_t v218 = v6;
                    while (v1 < *((void *)v6 + 2))
                    {
                      OUTLINED_FUNCTION_226_4();
                      uint64_t v234 = sub_259844950();
                      uint64_t v109 = *(void *)(v3 + 16);
                      if (v109)
                      {
                        uint64_t v110 = v3 + 40;
                        do
                        {
                          uint64_t v111 = sub_259843F00();
                          OUTLINED_FUNCTION_130_7(v111, v112, v113, v114, v115, v116, v117, v118, v203, v204);
                          swift_bridgeObjectRelease();
                          v110 += 16;
                          --v109;
                        }
                        while (v109);
                        swift_bridgeObjectRelease();
                        uint64_t v6 = v218;
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }
                      uint64_t v119 = OUTLINED_FUNCTION_22_42();
                      v120(v119);
                      sub_259843F00();
                      char v121 = (void *)sub_259843A50();
                      os_log_type_t v122 = sub_259844B70();
                      if (OUTLINED_FUNCTION_91(v122))
                      {
                        unint64_t v123 = (uint8_t *)OUTLINED_FUNCTION_54();
                        OUTLINED_FUNCTION_107_8((uint64_t)v123, 3.852e-34);
                        OUTLINED_FUNCTION_141_7();
                        _os_log_impl(v124, v125, v126, "There are %ld personal event assets", v123, 0xCu);
                        OUTLINED_FUNCTION_61_0();
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }

                      OUTLINED_FUNCTION_11();
                      v127();
                      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
                      {
                        OUTLINED_FUNCTION_76_10();
                        uint64_t v105 = v130;
                      }
                      OUTLINED_FUNCTION_212_6();
                      if (v128)
                      {
                        OUTLINED_FUNCTION_80_12();
                        uint64_t v105 = v131;
                      }
                      OUTLINED_FUNCTION_179_8();
                      if (v129) {
                        goto LABEL_209;
                      }
                    }
                    goto LABEL_268;
                  }
                  uint64_t v105 = MEMORY[0x263F8EE78];
                }
LABEL_209:
                swift_bridgeObjectRelease();
              }
              uint64_t v132 = sub_25976EB14(8, (uint64_t)v8);
              if (v132)
              {
                uint64_t v6 = (void (*)(void *@<X8>))v132;
                uint64_t v133 = *(void *)(v132 + 16);
                if (v133)
                {
                  uint64_t v221 = v132;
                  if (!v0[4]) {
                    goto LABEL_216;
                  }
                  uint64_t v235 = (void *)MEMORY[0x263F8EE78];
                  sub_259843F00();
                  for (uint64_t j = 0; j != v133; ++j)
                  {
                    sub_259843F00();
                    sub_25973E3A0();
                  }
                  swift_bridgeObjectRelease();
                  uint64_t v3 = (uint64_t)v235;
                  sub_2594184D4();
                  OUTLINED_FUNCTION_282_1();
                  id v135 = OUTLINED_FUNCTION_92_12((uint64_t)v6, 0x696C6275505B5551, 0xEF5D746E65764563);
                  uint64_t v6 = (void (*)(void *@<X8>))v221;
                  swift_bridgeObjectRelease();

                  if (*(void *)(v221 + 16))
                  {
LABEL_216:
                    OUTLINED_FUNCTION_152_7();
                    while (v1 < *((void *)v6 + 2))
                    {
                      OUTLINED_FUNCTION_226_4();
                      uint64_t v234 = sub_259844950();
                      uint64_t v136 = *(void *)(v3 + 16);
                      if (v136)
                      {
                        uint64_t v137 = v3 + 40;
                        do
                        {
                          uint64_t v138 = sub_259843F00();
                          OUTLINED_FUNCTION_130_7(v138, v139, v140, v141, v142, v143, v144, v145, v203, v204);
                          swift_bridgeObjectRelease();
                          v137 += 16;
                          --v136;
                        }
                        while (v136);
                        swift_bridgeObjectRelease();
                        uint64_t v6 = (void (*)(void *@<X8>))v221;
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }
                      uint64_t v146 = OUTLINED_FUNCTION_22_42();
                      v147(v146);
                      sub_259843F00();
                      uint64_t v148 = (void *)sub_259843A50();
                      os_log_type_t v149 = sub_259844B70();
                      if (OUTLINED_FUNCTION_91(v149))
                      {
                        uint64_t v150 = (uint8_t *)OUTLINED_FUNCTION_54();
                        OUTLINED_FUNCTION_107_8((uint64_t)v150, 3.852e-34);
                        OUTLINED_FUNCTION_141_7();
                        _os_log_impl(v151, v152, v153, "There are %ld public event assets", v150, 0xCu);
                        OUTLINED_FUNCTION_61_0();
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }

                      OUTLINED_FUNCTION_11();
                      v154();
                      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
                      {
                        OUTLINED_FUNCTION_76_10();
                        uint64_t v105 = v155;
                      }
                      OUTLINED_FUNCTION_212_6();
                      if (v128)
                      {
                        OUTLINED_FUNCTION_80_12();
                        uint64_t v105 = v156;
                      }
                      OUTLINED_FUNCTION_179_8();
                      if (v129) {
                        goto LABEL_232;
                      }
                    }
                    goto LABEL_269;
                  }
                }
LABEL_232:
                swift_bridgeObjectRelease();
              }
              uint64_t v157 = sub_25976EB14(7, (uint64_t)v8);
              if (v157)
              {
                uint64_t v158 = v157;
                uint64_t v159 = *(void *)(v157 + 16);
                uint64_t v219 = v157;
                if (v159)
                {
                  if (!v0[4]) {
                    goto LABEL_239;
                  }
                  uint64_t v235 = (void *)MEMORY[0x263F8EE78];
                  sub_259843F00();
                  for (uint64_t k = 0; k != v159; ++k)
                  {
                    sub_259843F00();
                    sub_25973E3A0();
                  }
                  swift_bridgeObjectRelease();
                  sub_2594184D4();
                  OUTLINED_FUNCTION_282_1();
                  id v161 = OUTLINED_FUNCTION_92_12((uint64_t)v6, 0x5D746168575B5551, 0xE800000000000000);
                  uint64_t v158 = v219;
                  swift_bridgeObjectRelease();

                  uint64_t v159 = *(void *)(v219 + 16);
                  if (v159)
                  {
LABEL_239:
                    uint64_t v162 = 0;
                    uint64_t v230 = v158 + 32;
                    do
                    {
                      uint64_t v163 = v162 + 1;
                      if (__OFADD__(v162, 1)) {
                        goto LABEL_270;
                      }
                      uint64_t v164 = *(void *)(v230 + 8 * v162);
                      sub_259843F00();
                      uint64_t v165 = sub_259844950();
                      uint64_t v234 = v165;
                      uint64_t v166 = *(void *)(v164 + 16);
                      if (v166)
                      {
                        uint64_t v233 = v105;
                        uint64_t v167 = v159;
                        uint64_t v168 = v164 + 40;
                        do
                        {
                          uint64_t v169 = sub_259843F00();
                          OUTLINED_FUNCTION_130_7(v169, v170, v171, v172, v173, v174, v175, v176, v203, v204);
                          swift_bridgeObjectRelease();
                          v168 += 16;
                          --v166;
                        }
                        while (v166);
                        swift_bridgeObjectRelease();
                        uint64_t v159 = v167;
                        uint64_t v105 = v233;
                        uint64_t v177 = v234;
                      }
                      else
                      {
                        uint64_t v177 = v165;
                        swift_bridgeObjectRelease();
                      }
                      uint64_t v178 = OUTLINED_FUNCTION_22_42();
                      v179(v178);
                      sub_259843F00();
                      uint64_t v180 = (void *)sub_259843A50();
                      os_log_type_t v181 = sub_259844B70();
                      if (OUTLINED_FUNCTION_91(v181))
                      {
                        uint64_t v182 = (uint8_t *)OUTLINED_FUNCTION_54();
                        OUTLINED_FUNCTION_107_8((uint64_t)v182, 3.852e-34);
                        OUTLINED_FUNCTION_141_7();
                        _os_log_impl(v183, v184, v185, "There are %ld what assets", v182, 0xCu);
                        OUTLINED_FUNCTION_61_0();
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }

                      OUTLINED_FUNCTION_11();
                      v186();
                      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
                      {
                        OUTLINED_FUNCTION_76_10();
                        uint64_t v105 = v187;
                      }
                      OUTLINED_FUNCTION_212_6();
                      if (v128)
                      {
                        OUTLINED_FUNCTION_80_12();
                        uint64_t v105 = v188;
                      }
                      *(void *)(v105 + 16) = v180;
                      *(void *)(v105 + 8 * v164 + 32) = v177;
                      uint64_t v162 = v163;
                    }
                    while (v163 != v159);
                  }
                }
                swift_bridgeObjectRelease();
              }
              if (!*(void *)(v105 + 16))
              {
                swift_bridgeObjectRelease();
                goto LABEL_257;
              }
            }
            else
            {
              uint64_t v197 = OUTLINED_FUNCTION_11_53();
              v198(v197);
              uint64_t v199 = sub_259843A50();
              os_log_type_t v200 = sub_259844B70();
              if (OUTLINED_FUNCTION_218(v200))
              {
                uint64_t v201 = (_WORD *)OUTLINED_FUNCTION_41();
                OUTLINED_FUNCTION_3_0(v201);
                OUTLINED_FUNCTION_227_4(&dword_25934C000, v199, (os_log_type_t)v4, "No what query tokens in the user prompt, immediately return the metadata assets if applicable");
                OUTLINED_FUNCTION_61_0();
              }

              OUTLINED_FUNCTION_3_26();
              OUTLINED_FUNCTION_95();
              v202();
LABEL_257:
              uint64_t v189 = v0[3];
              uint64_t v190 = sub_259843F00();
              sub_25953D2BC(v190);
              OUTLINED_FUNCTION_246();
              sub_2593F71F8();
              OUTLINED_FUNCTION_143();
              if (!v189) {
                uint64_t v189 = MEMORY[0x263F8EE88];
              }
              __swift_instantiateConcreteTypeFromMangledName(&qword_26A3898C8);
              uint64_t v191 = OUTLINED_FUNCTION_82_0();
              *(_OWORD *)(v191 + 16) = xmmword_259876920;
              *(void *)(v191 + 32) = v189;
            }
            uint64_t v192 = v0[33];
            uint64_t v193 = (void *)v0[5];
            swift_bridgeObjectRelease();
            __swift_project_boxed_opaque_existential_1(v193, v205[3]);
            OUTLINED_FUNCTION_267_3();
            OUTLINED_FUNCTION_41_0();
            v194();
            sub_2596A61D8(v192, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
            sub_2593980F8(v224);
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            swift_task_dealloc();
            OUTLINED_FUNCTION_23_25();
            __asm { BRAA            X2, X16 }
          }
          goto LABEL_3;
        }
        OUTLINED_FUNCTION_23_25();
        return sub_2598457D0();
      case 5u:
        if (OUTLINED_FUNCTION_3_65() != 5) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 6u:
        if (OUTLINED_FUNCTION_3_65() != 6) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 7u:
        if (OUTLINED_FUNCTION_3_65() != 7) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 8u:
        if (OUTLINED_FUNCTION_3_65() != 8) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 9u:
        if (OUTLINED_FUNCTION_3_65() != 9) {
          goto LABEL_48;
        }
        goto LABEL_32;
      case 0xAu:
        if (OUTLINED_FUNCTION_3_65() != 10) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0xBu:
        if (OUTLINED_FUNCTION_3_65() == 11) {
          goto LABEL_32;
        }
        goto LABEL_48;
      case 0xCu:
        if (OUTLINED_FUNCTION_3_65() != 12) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0xDu:
        if (OUTLINED_FUNCTION_3_65() != 13) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0xEu:
        if (OUTLINED_FUNCTION_3_65() != 14) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0xFu:
        if (OUTLINED_FUNCTION_3_65() != 15) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0x10u:
        if (OUTLINED_FUNCTION_3_65() != 16) {
          goto LABEL_48;
        }
        goto LABEL_33;
      case 0x11u:
        if (OUTLINED_FUNCTION_3_65() != 17) {
          goto LABEL_48;
        }
        goto LABEL_33;
      default:
        if (OUTLINED_FUNCTION_3_65()) {
          goto LABEL_48;
        }
LABEL_32:
        sub_2596A61D8((uint64_t)v21, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
        goto LABEL_33;
    }
  }
}

uint64_t sub_2596A0C10()
{
  OUTLINED_FUNCTION_14();
  v1[11] = v2;
  v1[12] = v0;
  v1[9] = v3;
  v1[10] = v4;
  v1[8] = v5;
  uint64_t v6 = sub_259843A80();
  v1[13] = v6;
  OUTLINED_FUNCTION_1(v6);
  v1[14] = v7;
  v1[15] = OUTLINED_FUNCTION_78();
  uint64_t v8 = type metadata accessor for RootEventRecorder.EventState(0);
  OUTLINED_FUNCTION_129(v8);
  v1[16] = OUTLINED_FUNCTION_78();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596A0CC4()
{
  OUTLINED_FUNCTION_256_1();
  OUTLINED_FUNCTION_247();
  uint64_t v1 = *(void *)(v0 + 80);
  OUTLINED_FUNCTION_66_17();
  OUTLINED_FUNCTION_176_0();
  v2();
  OUTLINED_FUNCTION_65_16();
  unint64_t v3 = OUTLINED_FUNCTION_79_13(41);
  v4(v3);
  if (v1 && *(void *)(*(void *)(v0 + 80) + 16))
  {
    uint64_t v5 = (void *)swift_task_alloc();
    *(void *)(v0 + 136) = v5;
    void *v5 = v0;
    v5[1] = sub_2596A0E60;
    OUTLINED_FUNCTION_254_3();
    OUTLINED_FUNCTION_286();
    return sub_2596919B4();
  }
  else
  {
    __swift_destroy_boxed_opaque_existential_1(v0 + 16);
    uint64_t v8 = *(void *)(v0 + 128);
    __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 88), *(void *)(*(void *)(v0 + 88) + 24));
    OUTLINED_FUNCTION_41_0();
    v9();
    sub_2596A61D8(v8, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_286();
    return v11(v10, v11, v12, v13, v14, v15, v16, v17);
  }
}

uint64_t sub_2596A0E60()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *unint64_t v3 = v2;
  *unint64_t v3 = *v1;
  *(void *)(v2 + 144) = v4;
  *(void *)(v2 + 152) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

void sub_2596A0F44()
{
  OUTLINED_FUNCTION_74();
  if (qword_26A3887B8 != -1) {
    swift_once();
  }
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  __swift_project_value_buffer(TokenCategoryType, (uint64_t)qword_26A38ADF8);
  static StoryGenerationUtilities.queryTokenAssetUUIDs(ofCategoryType:in:)();
  uint64_t v3 = v2;
  if (*(void *)(v2 + 16))
  {
    uint64_t v4 = **(void **)(v0 + 72);
    sub_259843F00();
    sub_2594456A0(v3, v4);
    uint64_t v6 = v5;
    swift_bridgeObjectRelease();
    if (sub_2596A12B0(v6))
    {
      uint64_t v8 = *(void *)(v0 + 112);
      uint64_t v7 = *(void *)(v0 + 120);
      uint64_t v10 = *(void *)(v0 + 96);
      uint64_t v9 = *(void *)(v0 + 104);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v8 + 16))(v7, v10, v9);
      swift_retain();
      uint64_t v11 = sub_259843A50();
      os_log_type_t v12 = sub_259844B70();
      if (OUTLINED_FUNCTION_30_1(v12))
      {
        *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
        *(void *)(v0 + 56) = *(void *)(v6 + 16);
        OUTLINED_FUNCTION_170_3();
        sub_259844E10();
        swift_release();
        OUTLINED_FUNCTION_132_8(&dword_25934C000, v11, (os_log_type_t)v4, "Applied exact substring location matching result to query tokens and retrieved assets (%ld)");
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_release();
      }
      uint64_t v13 = *(void *)(v0 + 144);
      uint64_t v15 = *(void **)(v0 + 64);
      uint64_t v14 = *(uint64_t **)(v0 + 72);

      OUTLINED_FUNCTION_64();
      v16();
      __swift_destroy_boxed_opaque_existential_1(v0 + 16);
      uint64_t *v14 = v6;
      *uint64_t v15 = v13;
LABEL_12:
      uint64_t v17 = *(void *)(v0 + 128);
      __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 88), *(void *)(*(void *)(v0 + 88) + 24));
      OUTLINED_FUNCTION_41_0();
      v18();
      sub_2596A61D8(v17, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
      swift_task_dealloc();
      swift_task_dealloc();
      OUTLINED_FUNCTION_100();
      __asm { BRAA            X1, X16 }
    }
    __swift_destroy_boxed_opaque_existential_1(v0 + 16);
    swift_release();
  }
  else
  {
    __swift_destroy_boxed_opaque_existential_1(v0 + 16);
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  goto LABEL_12;
}

uint64_t sub_2596A11E4()
{
  OUTLINED_FUNCTION_247();
  uint64_t v1 = *(void *)(v0 + 128);
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  uint64_t v2 = (void *)OUTLINED_FUNCTION_90_5();
  __swift_project_boxed_opaque_existential_1(v2, v3);
  OUTLINED_FUNCTION_41_0();
  v4();
  sub_2596A61D8(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v5();
}

uint64_t sub_2596A12B0(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v76 = *MEMORY[0x263EF8340];
  uint64_t v4 = sub_259843A80();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  uint64_t v7 = (char *)&v55 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v9 = MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v55 - v10;
  if (*(void *)(a1 + 16) >= 3uLL)
  {
    static StoryGenerationUtilities.queryTokens(ofCategoryTypeStrings:in:)();
    uint64_t v62 = *(void *)(v15 + 16);
    if (!v62)
    {
LABEL_16:
      swift_bridgeObjectRelease();
      return 1;
    }
    uint64_t v56 = v11;
    uint64_t v55 = v5;
    uint64_t v57 = v4;
    uint64_t v16 = 0;
    unint64_t v17 = 0;
    id v64 = 0;
    uint64_t v59 = v2;
    uint64_t v61 = v15;
    while (1)
    {
      if (v17 >= *(void *)(v15 + 16)) {
        __break(1u);
      }
      uint64_t v18 = v15 + v16;
      uint64_t v19 = *(void *)(v15 + v16 + 32);
      unint64_t v20 = *(void *)(v15 + v16 + 40);
      uint64_t v22 = *(void *)(v15 + v16 + 104);
      uint64_t v21 = *(void *)(v15 + v16 + 112);
      char v23 = *(unsigned char *)(v18 + 96);
      uint64_t v25 = *(void *)(v18 + 80);
      uint64_t v24 = *(void *)(v18 + 88);
      char v26 = *(unsigned char *)(v18 + 72);
      char v27 = *(unsigned char *)(v18 + 48);
      v67[0] = v19;
      v67[1] = v20;
      char v68 = v27;
      long long v69 = *(_OWORD *)(v18 + 56);
      char v70 = v26;
      uint64_t v71 = v25;
      uint64_t v72 = v24;
      char v73 = v23;
      uint64_t v74 = v22;
      uint64_t v75 = v21;
      uint64_t v65 = v21;
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      uint64_t v28 = QueryToken.allRetrievedAssetUUIDs.getter();
      if (v28)
      {
        uint64_t v29 = v28;
        uint64_t v58 = v19;
        uint64_t v63 = v22;
        char v30 = *(unsigned char *)(a1 + 32);
        unsigned int v31 = v30 & 0x3F;
        unint64_t v32 = (unint64_t)((1 << v30) + 63) >> 6;
        size_t v33 = 8 * v32;
        uint64_t isStackAllocationSafe = sub_259843F00();
        if (v31 <= 0xD
          || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
        {
          char v60 = &v55;
          MEMORY[0x270FA5388](isStackAllocationSafe);
          bzero((char *)&v55 - ((v33 + 15) & 0x3FFFFFFFFFFFFFF0), v33);
          uint64_t v35 = v32;
          id v36 = v64;
          sub_25946DA44((uint64_t *)((char *)&v55 - ((v33 + 15) & 0x3FFFFFFFFFFFFFF0)), v35, v29, a1);
          uint64_t v38 = v37;
          swift_bridgeObjectRelease();
          id v64 = v36;
          if (v36)
          {
            id v39 = v64;
            swift_willThrow();

            __break(1u);
LABEL_26:

            uint64_t result = MEMORY[0x25A2E13A0](v39, -1, -1);
            __break(1u);
            return result;
          }
        }
        else
        {
          id v39 = (id)swift_slowAlloc();
          bzero(v39, v33);
          uint64_t v40 = v32;
          id v41 = v64;
          sub_25946DA44((uint64_t *)v39, v40, v29, a1);
          uint64_t v38 = v42;
          swift_bridgeObjectRelease();
          id v64 = v41;
          if (v41) {
            goto LABEL_26;
          }
          MEMORY[0x25A2E13A0](v39, -1, -1);
        }
        swift_bridgeObjectRelease();
        uint64_t v43 = *(void *)(v38 + 16);
        swift_release();
        uint64_t v44 = v59;
        if (!v43) {
          break;
        }
      }
      ++v17;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      v16 += 88;
      uint64_t v15 = v61;
      if (v62 == v17) {
        goto LABEL_16;
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v49 = v55;
    uint64_t v50 = v56;
    (*(void (**)(char *, uint64_t, uint64_t))(v55 + 16))(v56, v44, v57);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v51 = sub_259843A50();
    os_log_type_t v52 = sub_259844B70();
    if (os_log_type_enabled(v51, v52))
    {
      uint64_t v53 = (uint8_t *)swift_slowAlloc();
      id v64 = (id)swift_slowAlloc();
      v67[0] = (uint64_t)v64;
      *(_DWORD *)uint64_t v53 = 136642819;
      sub_259843F00();
      uint64_t v66 = sub_259356D5C(v58, v20, v67);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v51, v52, "No overlapping assets are found for queryToken \"%{sensitive}s\"", v53, 0xCu);
      id v54 = v64;
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v54, -1, -1);
      MEMORY[0x25A2E13A0](v53, -1, -1);

      int v46 = *(void (**)(char *, uint64_t))(v49 + 8);
      uint64_t v47 = v56;
    }
    else
    {

      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      int v46 = *(void (**)(char *, uint64_t))(v49 + 8);
      uint64_t v47 = v50;
    }
    uint64_t v48 = v57;
  }
  else
  {
    (*(void (**)(char *, uint64_t, uint64_t, double))(v5 + 16))(v7, v2, v4, v9);
    sub_259843F00();
    os_log_type_t v12 = sub_259843A50();
    os_log_type_t v13 = sub_259844B70();
    if (os_log_type_enabled(v12, v13))
    {
      uint64_t v14 = (uint8_t *)swift_slowAlloc();
      *(_DWORD *)uint64_t v14 = 134217984;
      v67[0] = *(void *)(a1 + 16);
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v12, v13, "Should not apply exact substring location matching result since the number of overlapping assets (%ld) is below the threshold", v14, 0xCu);
      MEMORY[0x25A2E13A0](v14, -1, -1);
    }
    else
    {

      swift_bridgeObjectRelease();
    }
    int v46 = *(void (**)(char *, uint64_t))(v5 + 8);
    uint64_t v47 = v7;
    uint64_t v48 = v4;
  }
  v46(v47, v48);
  return 0;
}

void sub_2596A1950()
{
  OUTLINED_FUNCTION_32_0();
  unint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v54 = v4;
  uint64_t v55 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v5);
  OUTLINED_FUNCTION_142_7();
  MEMORY[0x270FA5388](v6);
  v53[0] = (char *)v53 - v7;
  MEMORY[0x270FA5388](v8);
  v53[1] = (char *)v53 - v9;
  MEMORY[0x270FA5388](v10);
  uint64_t TokenCategoryType = type metadata accessor for QueryTokenCategoryType(0);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v12);
  OUTLINED_FUNCTION_233();
  uint64_t v15 = v14 - v13;
  if (qword_26A3887B8 != -1) {
    swift_once();
  }
  uint64_t v16 = __swift_project_value_buffer(TokenCategoryType, (uint64_t)qword_26A38ADF8);
  uint64_t v17 = sub_2595226D0(v16, v15, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
  MEMORY[0x270FA5388](v17);
  v53[-2] = v15;
  sub_259843F00();
  sub_2593A40E4((uint64_t (*)(void *))sub_2593BDCA0, (uint64_t)&v53[-4], v3);
  uint64_t v19 = v18;
  sub_2596A61D8(v15, (void (*)(void))type metadata accessor for QueryTokenCategoryType);
  if (*(void *)(v19 + 16)) {
    goto LABEL_4;
  }
  uint64_t v28 = sub_2596A1F7C(v1);
  if (!v28) {
    goto LABEL_4;
  }
  unint64_t v20 = v28;
  if ((unint64_t)v28 >> 62)
  {
    if (v28 >= 0) {
      uint64_t v15 = v28 & 0xFFFFFFFFFFFFFF8;
    }
    else {
      uint64_t v15 = v28;
    }
    sub_259843F00();
    sub_259845460();
    OUTLINED_FUNCTION_160_2();
    if (!v15) {
      goto LABEL_14;
    }
  }
  else
  {
    uint64_t v15 = *(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (!v15)
    {
LABEL_14:
      swift_bridgeObjectRelease();
LABEL_4:
      sub_259843F00();
      unint64_t v20 = v1;
    }
  }
  sub_25969B124(v20);
  OUTLINED_FUNCTION_160_2();
  if (v15)
  {
    if (*(void *)(v15 + 16))
    {
      sub_259737700(v15);
      uint64_t v21 = OUTLINED_FUNCTION_289_1();
      uint64_t v22 = sub_2596A22F0(v21, v15);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (sub_2596A284C())
      {
        OUTLINED_FUNCTION_21_26();
        OUTLINED_FUNCTION_106();
        v23();
        uint64_t v24 = sub_259843A50();
        os_log_type_t v25 = sub_259844B70();
        if (os_log_type_enabled(v24, v25))
        {
          char v26 = (_WORD *)OUTLINED_FUNCTION_41();
          OUTLINED_FUNCTION_3_0(v26);
          OUTLINED_FUNCTION_227_4(&dword_25934C000, v24, v25, "No query tokens for retrieval, immediately return all trip assets");
          OUTLINED_FUNCTION_61_0();
        }

        OUTLINED_FUNCTION_47_0();
        v27();
      }
      else
      {
        uint64_t v34 = v54;
        sub_259843F00();
        sub_2594456A0(v22, v34);
        uint64_t v36 = v35;
        if (*(void *)(v35 + 16) >= 0xDuLL)
        {
          OUTLINED_FUNCTION_21_26();
          OUTLINED_FUNCTION_106();
          v42();
          swift_retain_n();
          sub_259843F00();
          sub_259843F00();
          uint64_t v43 = (void *)sub_259843A50();
          os_log_type_t v44 = sub_259844B70();
          if (OUTLINED_FUNCTION_91(v44))
          {
            uint64_t v45 = OUTLINED_FUNCTION_20();
            *(_DWORD *)uint64_t v45 = 134218496;
            uint64_t v56 = *(void *)(v34 + 16);
            sub_259844E10();
            swift_bridgeObjectRelease();
            *(_WORD *)(v45 + 12) = 2048;
            uint64_t v46 = *(void *)(v22 + 16);
            swift_bridgeObjectRelease();
            uint64_t v56 = v46;
            sub_259844E10();
            swift_bridgeObjectRelease();
            *(_WORD *)(v45 + 22) = 2048;
            uint64_t v47 = *(void *)(v36 + 16);
            swift_release();
            uint64_t v56 = v47;
            sub_259844E10();
            swift_release();
            OUTLINED_FUNCTION_141_7();
            _os_log_impl(v48, v49, v50, v51, (uint8_t *)v45, 0x20u);
            OUTLINED_FUNCTION_61_0();
          }
          else
          {

            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_190();
            OUTLINED_FUNCTION_131_0();
          }
          OUTLINED_FUNCTION_47_0();
          v52();
        }
        else
        {
          swift_release();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_21_26();
          OUTLINED_FUNCTION_106();
          v37();
          uint64_t v38 = sub_259843A50();
          os_log_type_t v39 = sub_259844B70();
          if (OUTLINED_FUNCTION_52(v39))
          {
            uint64_t v40 = (uint8_t *)OUTLINED_FUNCTION_54();
            *(_DWORD *)uint64_t v40 = 134217984;
            uint64_t v56 = 13;
            sub_259844E10();
            _os_log_impl(&dword_25934C000, v38, (os_log_type_t)v22, "The number of overlapping trip assets is below %ld, fallback to using all consolidated assets", v40, 0xCu);
            OUTLINED_FUNCTION_61_0();
          }

          OUTLINED_FUNCTION_47_0();
          v41();
          sub_259843F00();
        }
      }
      goto LABEL_19;
    }
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_21_26();
  OUTLINED_FUNCTION_106();
  v29();
  char v30 = sub_259843A50();
  os_log_type_t v31 = sub_259844B70();
  if (OUTLINED_FUNCTION_52(v31))
  {
    unint64_t v32 = (uint8_t *)OUTLINED_FUNCTION_41();
    *(_WORD *)unint64_t v32 = 0;
    _os_log_impl(&dword_25934C000, v30, (os_log_type_t)v20, "No trip assets to apply for filtering", v32, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  OUTLINED_FUNCTION_170_3();
  OUTLINED_FUNCTION_47_0();
  v33();
  sub_259843F00();
LABEL_19:
  OUTLINED_FUNCTION_13_1();
}

uint64_t sub_2596A1F7C(unint64_t a1)
{
  uint64_t v3 = sub_259843A80();
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  uint64_t v6 = (char *)&v18 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = MEMORY[0x263F8EE78];
  if (a1 >> 62)
  {
    sub_259843F00();
    uint64_t result = sub_259845460();
    uint64_t v7 = result;
  }
  else
  {
    uint64_t v7 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    uint64_t result = sub_259843F00();
  }
  unint64_t v19 = a1 >> 62;
  uint64_t v20 = v1;
  if (v7)
  {
    if (v7 < 1)
    {
      __break(1u);
      return result;
    }
    uint64_t v18 = v3;
    for (uint64_t i = 0; i != v7; ++i)
    {
      if ((a1 & 0xC000000000000001) != 0) {
        id v10 = (id)MEMORY[0x25A2DFA20](i, a1);
      }
      else {
        id v10 = *(id *)(a1 + 8 * i + 32);
      }
      uint64_t v11 = v10;
      if (objc_msgSend(v10, sel_type, v18) == 2)
      {
      }
      else
      {
        sub_259845240();
        sub_259845280();
        sub_259845290();
        sub_259845250();
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v12 = v21;
    uint64_t v3 = v18;
    if (v21 < 0) {
      goto LABEL_28;
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v12 = MEMORY[0x263F8EE78];
    if ((MEMORY[0x263F8EE78] & 0x8000000000000000) != 0)
    {
LABEL_28:
      sub_259843F00();
      uint64_t v13 = sub_259845460();
      swift_release();
      goto LABEL_18;
    }
  }
  if ((v12 & 0x4000000000000000) != 0) {
    goto LABEL_28;
  }
  uint64_t v13 = *(void *)(v12 + 16);
LABEL_18:
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, v20, v3);
  swift_bridgeObjectRetain_n();
  uint64_t v14 = sub_259843A50();
  os_log_type_t v15 = sub_259844B70();
  if (os_log_type_enabled(v14, v15))
  {
    uint64_t v16 = swift_slowAlloc();
    *(_DWORD *)uint64_t v16 = 134218240;
    uint64_t v21 = v13;
    sub_259844E10();
    *(_WORD *)(v16 + 12) = 2048;
    if (v19)
    {
      sub_259843F00();
      uint64_t v17 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v17 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    uint64_t v21 = v17;
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v14, v15, "There are %ld long trips out of %ld trips", (uint8_t *)v16, 0x16u);
    MEMORY[0x25A2E13A0](v16, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  if (v13 < (uint64_t)objc_msgSend(self, sel_minimumNumberOfLongTrips))
  {
    swift_release();
    return 0;
  }
  return v12;
}

uint64_t sub_2596A22F0(uint64_t a1, uint64_t a2)
{
  uint64_t v65 = *MEMORY[0x263EF8340];
  uint64_t v4 = sub_259843A80();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  os_log_type_t v52 = (char *)&v49 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v8.n128_f64[0] = MEMORY[0x270FA5388](v7);
  uint64_t v54 = (char *)&v49 - v9;
  uint64_t v56 = MEMORY[0x263F8EE88];
  uint64_t v10 = *(void *)(a1 + 16);
  if (v10)
  {
    uint64_t v50 = v5;
    uint64_t v51 = v4;
    uint64_t v55 = a1 + 32;
    uint64_t v49 = a1;
    sub_259843F00();
    for (uint64_t i = 0; i != v10; ++i)
    {
      uint64_t v12 = v55 + 88 * i;
      char v13 = *(unsigned char *)(v12 + 64);
      uint64_t v15 = *(void *)(v12 + 48);
      uint64_t v14 = *(void *)(v12 + 56);
      char v16 = *(unsigned char *)(v12 + 40);
      char v17 = *(unsigned char *)(v12 + 16);
      uint64_t v18 = *(void *)(v12 + 8);
      v57[0] = *(void *)v12;
      v57[1] = v18;
      char v58 = v17;
      long long v59 = *(_OWORD *)(v12 + 24);
      char v60 = v16;
      uint64_t v61 = v15;
      uint64_t v62 = v14;
      char v63 = v13;
      long long v64 = *(_OWORD *)(v12 + 72);
      uint64_t v19 = QueryToken.allRetrievedAssetUUIDs.getter();
      if (v19)
      {
        uint64_t v20 = v19;
        char v21 = *(unsigned char *)(a2 + 32);
        unsigned int v22 = v21 & 0x3F;
        unint64_t v23 = (unint64_t)((1 << v21) + 63) >> 6;
        size_t v24 = 8 * v23;
        uint64_t isStackAllocationSafe = sub_259843F00();
        if (v22 <= 0xD
          || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
        {
          MEMORY[0x270FA5388](isStackAllocationSafe);
          bzero((char *)&v49 - ((v24 + 15) & 0x3FFFFFFFFFFFFFF0), v24);
          sub_25946DA44((uint64_t *)((char *)&v49 - ((v24 + 15) & 0x3FFFFFFFFFFFFFF0)), v23, v20, a2);
          uint64_t v27 = v26;
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v28 = (void *)swift_slowAlloc();
          bzero(v28, v24);
          sub_25946DA44((uint64_t *)v28, v23, v20, a2);
          uint64_t v27 = v29;
          swift_bridgeObjectRelease();
          MEMORY[0x25A2E13A0](v28, -1, -1);
        }
        if (*(void *)(v27 + 16) >= 0xDuLL)
        {
          swift_bridgeObjectRelease();
          sub_2596D0A58(v27);
        }
        else
        {
          swift_release();
          uint64_t v30 = *(void *)(v20 + 16);
          if (v30)
          {
            os_log_type_t v31 = (uint64_t *)(v20 + 40);
            do
            {
              uint64_t v32 = *(v31 - 1);
              uint64_t v33 = *v31;
              sub_259843F00();
              sub_2596D4E7C((uint64_t)v57, v32, v33, v34, v35, v36, v37, v38, v49, v50);
              swift_bridgeObjectRelease();
              v31 += 2;
              --v30;
            }
            while (v30);
          }
          swift_bridgeObjectRelease();
        }
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v5 = v50;
    uint64_t v4 = v51;
  }
  os_log_type_t v39 = *(void (**)(char *, uint64_t, uint64_t, __n128))(v5 + 16);
  v39(v54, v53, v4, v8);
  uint64_t v40 = v56;
  sub_259843F00();
  sub_259843F00();
  id v41 = sub_259843A50();
  os_log_type_t v42 = sub_259844B70();
  if (os_log_type_enabled(v41, v42))
  {
    uint64_t v43 = swift_slowAlloc();
    *(_DWORD *)uint64_t v43 = 134218240;
    v57[0] = *(void *)(a2 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v43 + 12) = 2048;
    v57[0] = *(void *)(v40 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v41, v42, "There are %ld trip assets and %ld consolidated trip location assets", (uint8_t *)v43, 0x16u);
    MEMORY[0x25A2E13A0](v43, -1, -1);
  }
  else
  {

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  os_log_type_t v44 = *(void (**)(char *, uint64_t))(v5 + 8);
  v44(v54, v4);
  swift_beginAccess();
  if (*(void *)(v56 + 16)) {
    return v56;
  }
  swift_bridgeObjectRelease();
  ((void (*)(char *, uint64_t, uint64_t))v39)(v52, v53, v4);
  uint64_t v45 = sub_259843A50();
  os_log_type_t v46 = sub_259844B70();
  if (os_log_type_enabled(v45, v46))
  {
    uint64_t v47 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)uint64_t v47 = 0;
    _os_log_impl(&dword_25934C000, v45, v46, "There are no location query tokens, returning all the trip assets", v47, 2u);
    MEMORY[0x25A2E13A0](v47, -1, -1);
  }

  v44(v52, v4);
  sub_259843F00();
  return a2;
}

BOOL sub_2596A284C()
{
  static StoryGenerationUtilities.queryTokens(ofCategoryTypeStrings:in:)();
  uint64_t v1 = *(void *)(v0 + 16);
  swift_bridgeObjectRelease();
  return v1 == 0;
}

void static QueryGenerator.consolidatePersonAssetUUIDs(from:storyGenerationCache:photoLibrary:logger:)()
{
  OUTLINED_FUNCTION_32_0();
  int64_t v2 = v1;
  uint64_t v4 = v3;
  uint64_t v6 = v5;
  if (qword_26A388C50 != -1) {
    goto LABEL_128;
  }
  while (1)
  {
    uint64_t v7 = (void *)qword_26A3D2068;
    type metadata accessor for PerformanceMeasure();
    swift_allocObject();
    id v8 = v7;
    uint64_t v9 = PerformanceMeasure.init(name:log:)();
    if (!*(void *)(v6 + 16))
    {
      os_log_type_t v31 = (void *)sub_259843A50();
      os_log_type_t v32 = sub_259844B70();
      if (OUTLINED_FUNCTION_145_0(v32))
      {
        uint64_t v33 = (_WORD *)OUTLINED_FUNCTION_41();
        OUTLINED_FUNCTION_149(v33);
        uint64_t v36 = "No people from which to consolidate asset UUIDs";
LABEL_82:
        OUTLINED_FUNCTION_173(&dword_25934C000, v34, v35, v36);
        OUTLINED_FUNCTION_61_0();
      }
LABEL_83:
      swift_release();

      goto LABEL_118;
    }
    uint64_t v10 = sub_259843F00();
    sub_25953BF00(v10);
    OUTLINED_FUNCTION_282_1();
    unint64_t v11 = *(void *)(v0 + 16);
    if (v11 < 2) {
      break;
    }
    id v155 = (id)v4;
    uint64_t v156 = v2;
    unint64_t v152 = v11;
    uint64_t v153 = v0;
    uint64_t v154 = v9;
    sub_2597EFE50(v159, v6);
    uint64_t v12 = (void *)v159[0];
    uint64_t v13 = v159[1];
    uint64_t v14 = v159[3];
    uint64_t v4 = v159[4];
    int64_t v15 = (unint64_t)(v159[2] + 64) >> 6;
    uint64_t v151 = v6;
    OUTLINED_FUNCTION_82_14();
    uint64_t v0 = MEMORY[0x263F8EE78];
    if (v4)
    {
LABEL_5:
      OUTLINED_FUNCTION_239_4();
      uint64_t v17 = v16 | (v14 << 6);
      goto LABEL_23;
    }
    while (1)
    {
      int64_t v18 = v14 + 1;
      if (__OFADD__(v14, 1)) {
        goto LABEL_123;
      }
      if (v18 >= v15) {
        goto LABEL_45;
      }
      if (!*(void *)(v13 + 8 * v18))
      {
        if (v14 + 2 >= v15) {
          goto LABEL_45;
        }
        if (!*(void *)(v13 + 8 * (v14 + 2)))
        {
          if (v14 + 3 >= v15) {
            goto LABEL_45;
          }
          if (!*(void *)(v13 + 8 * (v14 + 3)))
          {
            if (v14 + 4 >= v15) {
              goto LABEL_45;
            }
            if (!*(void *)(v13 + 8 * (v14 + 4)))
            {
              if (v14 + 5 >= v15) {
                goto LABEL_45;
              }
              if (!*(void *)(v13 + 8 * (v14 + 5)))
              {
                if (v14 + 6 >= v15) {
                  goto LABEL_45;
                }
                if (!*(void *)(v13 + 8 * (v14 + 6))) {
                  break;
                }
              }
            }
          }
        }
      }
LABEL_22:
      OUTLINED_FUNCTION_192_5();
      uint64_t v14 = v21;
LABEL_23:
      uint64_t v22 = *(void *)(v12[7] + 8 * v17);
      uint64_t v6 = *(void *)(v22 + 16);
      int64_t v2 = *(void *)(v0 + 16);
      if (__OFADD__(v2, v6))
      {
        __break(1u);
LABEL_120:
        __break(1u);
LABEL_121:
        __break(1u);
LABEL_122:
        __break(1u);
LABEL_123:
        __break(1u);
        goto LABEL_124;
      }
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || v2 + v6 > *(void *)(v0 + 24) >> 1)
      {
        sub_25938553C();
        uint64_t v0 = v23;
      }
      if (*(void *)(v22 + 16))
      {
        OUTLINED_FUNCTION_170_8();
        if (v25 < v6) {
          goto LABEL_121;
        }
        unint64_t v26 = v0 + 16 * v24 + 32;
        if (v22 + 32 < v26 + 16 * v6 && v26 < v22 + 32 + 16 * v6)
        {
          OUTLINED_FUNCTION_108_3();
          OUTLINED_FUNCTION_88_12();
          __break(1u);
LABEL_129:
          sub_2598457D0();
          __break(1u);
          return;
        }
        swift_arrayInitWithCopy();
        if (v6)
        {
          uint64_t v28 = *(void *)(v0 + 16);
          BOOL v29 = __OFADD__(v28, v6);
          uint64_t v30 = v28 + v6;
          if (v29) {
            goto LABEL_122;
          }
          *(void *)(v0 + 16) = v30;
        }
      }
      else if (v6)
      {
        goto LABEL_120;
      }
      swift_bridgeObjectRelease();
      if (v4) {
        goto LABEL_5;
      }
    }
    int64_t v19 = v14 + 7;
    while (v19 < v15)
    {
      if (*(void *)(v13 + 8 * v19++)) {
        goto LABEL_22;
      }
    }
LABEL_45:
    uint64_t v46 = v151;
    swift_bridgeObjectRelease();
    swift_release();
    uint64_t v47 = sub_259843F00();
    uint64_t v48 = sub_259737700(v47);
    static StoryGenerationUtilities.momentUUIDByAssetUUID(with:in:)(v48, v155);
    OUTLINED_FUNCTION_19_7();
    sub_259843F00();
    uint64_t v151 = (uint64_t)v12;
    uint64_t v49 = sub_2596A5038(v46, (uint64_t)v12);
    id v150 = 0;
    v158[0] = MEMORY[0x263F8EE78];
    sub_2597EFE50(v160, v49);
    uint64_t v50 = v160[1];
    uint64_t v4 = v160[3];
    uint64_t v6 = v160[4];
    int64_t v2 = (unint64_t)(v160[2] + 64) >> 6;
    sub_259843F00();
    if (v6)
    {
LABEL_46:
      OUTLINED_FUNCTION_168();
      goto LABEL_65;
    }
    while (1)
    {
      int64_t v51 = v4 + 1;
      if (__OFADD__(v4, 1)) {
        break;
      }
      if (v51 >= v2) {
        goto LABEL_67;
      }
      uint64_t v52 = *(void *)(v50 + 8 * v51);
      uint64_t v53 = v4 + 1;
      if (!v52)
      {
        uint64_t v53 = v4 + 2;
        if (v4 + 2 >= v2) {
          goto LABEL_67;
        }
        uint64_t v52 = *(void *)(v50 + 8 * v53);
        if (!v52)
        {
          uint64_t v53 = v4 + 3;
          if (v4 + 3 >= v2) {
            goto LABEL_67;
          }
          uint64_t v52 = *(void *)(v50 + 8 * v53);
          if (!v52)
          {
            uint64_t v53 = v4 + 4;
            if (v4 + 4 >= v2) {
              goto LABEL_67;
            }
            uint64_t v52 = *(void *)(v50 + 8 * v53);
            if (!v52)
            {
              uint64_t v53 = v4 + 5;
              if (v4 + 5 >= v2) {
                goto LABEL_67;
              }
              uint64_t v52 = *(void *)(v50 + 8 * v53);
              if (!v52)
              {
                uint64_t v53 = v4 + 6;
                if (v4 + 6 >= v2) {
                  goto LABEL_67;
                }
                uint64_t v52 = *(void *)(v50 + 8 * v53);
                if (!v52)
                {
                  int64_t v54 = v4 + 7;
                  while (v54 < v2)
                  {
                    uint64_t v52 = *(void *)(v50 + 8 * v54++);
                    if (v52)
                    {
                      uint64_t v53 = v54 - 1;
                      goto LABEL_64;
                    }
                  }
LABEL_67:
                  swift_release();
                  swift_release();
                  os_log_type_t v56 = v158[0];
                  int64_t v2 = *(void *)(v158[0] + 16);
                  if (v2)
                  {
                    sub_259843F00();
                    uint64_t v149 = v158[0];
                    uint64_t v57 = (uint64_t *)(v158[0] + 40);
                    uint64_t v58 = MEMORY[0x263F8EE80];
                    while (1)
                    {
                      uint64_t v60 = *(v57 - 1);
                      uint64_t v59 = *v57;
                      OUTLINED_FUNCTION_6_19();
                      swift_isUniquelyReferenced_nonNull_native();
                      v158[0] = v58;
                      sub_25939CE90();
                      OUTLINED_FUNCTION_130();
                      if (__OFADD__(v63, v64)) {
                        goto LABEL_125;
                      }
                      uint64_t v6 = v61;
                      uint64_t v4 = v62;
                      __swift_instantiateConcreteTypeFromMangledName(&qword_26A389A28);
                      uint64_t v58 = v158[0];
                      if (sub_259845350())
                      {
                        sub_25939CE90();
                        OUTLINED_FUNCTION_44_15();
                        if (!v66) {
                          goto LABEL_129;
                        }
                        uint64_t v6 = v65;
                      }
                      swift_bridgeObjectRelease();
                      if ((v4 & 1) == 0)
                      {
                        OUTLINED_FUNCTION_21_14(v158[0] + 8 * ((unint64_t)v6 >> 6));
                        char v68 = (void *)(v67 + 16 * v6);
                        *char v68 = v60;
                        v68[1] = v59;
                        *(void *)(*(void *)(v58 + 56) + 8 * v6) = 0;
                        OUTLINED_FUNCTION_302();
                        if (v29) {
                          goto LABEL_127;
                        }
                        *(void *)(v58 + 16) = v69;
                        sub_259843F00();
                      }
                      uint64_t v70 = *(void *)(v58 + 56);
                      uint64_t v71 = *(void *)(v70 + 8 * v6);
                      BOOL v29 = __OFADD__(v71, 1);
                      uint64_t v72 = v71 + 1;
                      if (v29) {
                        goto LABEL_126;
                      }
                      v57 += 2;
                      *(void *)(v70 + 8 * v6) = v72;
                      OUTLINED_FUNCTION_181();
                      if (!--v2)
                      {
                        os_log_type_t v56 = v149;
                        swift_bridgeObjectRelease();
                        break;
                      }
                    }
                  }
                  swift_bridgeObjectRelease();
                  uint64_t v75 = self;
                  uint64_t v76 = v152;
                  objc_msgSend(v75, sel_queryPeopleRequiredInRetrievalMomentLimit);
                  uint64_t v77 = OUTLINED_FUNCTION_90_5();
                  sub_2596A5720(v77, v78);
                  OUTLINED_FUNCTION_246();
                  sub_259738360();
                  uint64_t v80 = v79;
                  sub_259843F00();
                  sub_25968846C(v0, v80, v151);
                  uint64_t v82 = v81;
                  swift_bridgeObjectRetain_n();
                  sub_259843F00();
                  uint64_t v83 = sub_259843A50();
                  os_log_type_t v84 = sub_259844B70();
                  uint64_t v151 = (uint64_t)v150;
                  if (OUTLINED_FUNCTION_218(v84))
                  {
                    uint64_t v85 = swift_slowAlloc();
                    OUTLINED_FUNCTION_126_3((float *)v85, 3.8524e-34);
                    sub_259844E10();
                    *(_WORD *)(v85 + 12) = 2048;
                    objc_msgSend(v75, sel_queryPeopleRequiredInRetrievalMomentLimit);
                    OUTLINED_FUNCTION_172_7();
                    *(_WORD *)(v85 + 22) = 2048;
                    v158[0] = v76;
                    sub_259844E10();
                    *(_WORD *)(v85 + 32) = 2048;
                    uint64_t v86 = *(void *)(v80 + 16);
                    swift_bridgeObjectRelease();
                    v158[0] = v86;
                    OUTLINED_FUNCTION_172_7();
                    swift_bridgeObjectRelease();
                    *(_WORD *)(v85 + 42) = 2048;
                    uint64_t v87 = *(void *)(v82 + 16);
                    swift_bridgeObjectRelease();
                    v158[0] = v87;
                    OUTLINED_FUNCTION_172_7();
                    swift_bridgeObjectRelease();
                    _os_log_impl(&dword_25934C000, v83, v56, "Selecting moments that match people. Requiring %ld people. Default limit %ld people, prompt contains %ld people. Found %ld moments and %ld assets", (uint8_t *)v85, 0x34u);
                    OUTLINED_FUNCTION_61_0();
                  }
                  else
                  {

                    OUTLINED_FUNCTION_67_0();
                    OUTLINED_FUNCTION_184_1();
                  }
                  id v88 = v155;
                  if (*(void *)(v82 + 16))
                  {
                    id v89 = objc_msgSend(v155, sel_librarySpecificFetchOptions);
                    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
                    uint64_t v90 = OUTLINED_FUNCTION_2_15();
                    *(_OWORD *)(v90 + 16) = xmmword_25987BF60;
                    *(void *)(v90 + 32) = sub_259845870();
                    *(void *)(v90 + 40) = sub_259845870();
                    v158[0] = v90;
                    sub_259844530();
                    sub_2594457FC(v90, v89);
                    uint64_t v91 = self;
                    uint64_t v92 = (void *)sub_2598444E0();
                    swift_bridgeObjectRelease();
                    id v150 = v89;
                    id v93 = objc_msgSend(v91, sel_fetchPersonUUIDsGroupedByAssetUUIDForAssetUUIDs_options_, v92, v89);

                    if (v93)
                    {
                      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
                      uint64_t v94 = sub_259843EB0();

                      uint64_t v95 = sub_2596A5310(v94);
                      uint64_t v96 = swift_bridgeObjectRelease();
                      MEMORY[0x270FA5388](v96);
                      OUTLINED_FUNCTION_256_2();
                      uint64_t v97 = swift_retain();
                      sub_2596A559C(v97, (uint64_t (*)(uint64_t, uint64_t, uint64_t))sub_2596A6158, (uint64_t)v93);
                      uint64_t v149 = v151;
                      swift_release();
                      sub_259738360();
                      uint64_t v99 = v98;
                      sub_259843F00();
                      uint64_t v100 = sub_259843A50();
                      os_log_type_t v101 = sub_259844B30();
                      uint64_t v151 = (uint64_t)v99;
                      if (os_log_type_enabled(v100, v101))
                      {
                        uint64_t v102 = (uint8_t *)OUTLINED_FUNCTION_54();
                        *(_DWORD *)uint64_t v102 = 134217984;
                        v158[0] = v99[2];
                        sub_259844E10();
                        swift_bridgeObjectRelease();
                        _os_log_impl(&dword_25934C000, v100, v101, "There are %ld assets with at least 2 query people", v102, 0xCu);
                        OUTLINED_FUNCTION_61_0();
                      }
                      else
                      {
                        swift_bridgeObjectRelease();
                      }

                      uint64_t v112 = static StoryGenerationUtilities.mePersonUUID(in:)(v88);
                      if (v113) {
                        uint64_t v114 = v112;
                      }
                      else {
                        uint64_t v114 = 0;
                      }
                      if (v113) {
                        unint64_t v115 = v113;
                      }
                      else {
                        unint64_t v115 = 0xE000000000000000;
                      }
                      swift_bridgeObjectRetain_n();
                      uint64_t v116 = sub_259843A50();
                      os_log_type_t v117 = sub_259844B30();
                      if (os_log_type_enabled(v116, v117))
                      {
                        uint64_t v118 = (uint8_t *)OUTLINED_FUNCTION_54();
                        v158[0] = OUTLINED_FUNCTION_20();
                        *(_DWORD *)uint64_t v118 = 136315138;
                        sub_259843F00();
                        uint64_t v157 = sub_259356D5C(v114, v115, v158);
                        uint64_t v119 = v153;
                        id v88 = v155;
                        sub_259844E10();
                        swift_bridgeObjectRelease_n();
                        _os_log_impl(&dword_25934C000, v116, v117, "Me person uuid=%s", v118, 0xCu);
                        swift_arrayDestroy();
                        OUTLINED_FUNCTION_61_0();
                        OUTLINED_FUNCTION_61_0();
                      }
                      else
                      {
                        OUTLINED_FUNCTION_67_0();

                        uint64_t v119 = v153;
                      }
                      MEMORY[0x270FA5388](v120);
                      v148[2] = v119;
                      v148[3] = v114;
                      v148[4] = v115;
                      uint64_t v121 = sub_2596A559C(v95, sub_2596A6160, (uint64_t)v148);
                      swift_bridgeObjectRelease();
                      swift_release();
                      sub_25953BF00(v121);
                      swift_release();
                      id v122 = static StoryGenerationUtilities.assetIdentifiersFetchOptions(for:wantsIncrementalChangeDetails:)(v88, 0);
                      sub_25935633C(0, &qword_26B300508);
                      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
                      uint64_t v123 = swift_allocObject();
                      *(_OWORD *)(v123 + 16) = xmmword_259876920;
                      *(void *)(v123 + 56) = MEMORY[0x263F8D310];
                      *(void *)(v123 + 64) = sub_25935626C();
                      strcpy((char *)(v123 + 32), "detectedFaces");
                      *(_WORD *)(v123 + 46) = -4864;
                      uint64_t v124 = (void *)sub_259844AB0();
                      objc_msgSend(v122, sel_setInternalPredicate_, v124);

                      self;
                      uint64_t v125 = OUTLINED_FUNCTION_3_8();
                      id v128 = sub_25943A124(v125, v126, v127);
                      if (v128
                        && (char v129 = v128,
                            id v130 = objc_msgSend(v128, sel_fetchedObjects),
                            v129,
                            v130))
                      {
                        sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
                        unint64_t v131 = sub_259844500();

                        sub_259689AC4(v131);
                        OUTLINED_FUNCTION_246();
                        uint64_t v132 = sub_259737700((uint64_t)v130);
                        uint64_t v133 = sub_2593F8264(v151, v132);
                        swift_bridgeObjectRetain_n();
                        swift_retain();
                        uint64_t v134 = sub_259843A50();
                        os_log_type_t v135 = sub_259844B70();
                        if (OUTLINED_FUNCTION_218(v135))
                        {
                          uint64_t v136 = OUTLINED_FUNCTION_20();
                          uint64_t v137 = OUTLINED_FUNCTION_20();
                          uint64_t v156 = v137;
                          *(_DWORD *)uint64_t v136 = 134218498;
                          uint64_t v157 = v152;
                          v158[0] = v137;
                          sub_259844E10();
                          *(_WORD *)(v136 + 12) = 2048;
                          uint64_t v138 = *(void *)(v133 + 16);
                          swift_bridgeObjectRelease();
                          uint64_t v157 = v138;
                          sub_259844E10();
                          swift_bridgeObjectRelease();
                          *(_WORD *)(v136 + 22) = 2080;
                          uint64_t v139 = swift_retain();
                          uint64_t v140 = MEMORY[0x25A2DED80](v139, MEMORY[0x263F8D310]);
                          unint64_t v142 = v141;
                          swift_release();
                          uint64_t v157 = sub_259356D5C(v140, v142, v158);
                          sub_259844E10();
                          OUTLINED_FUNCTION_131_0();
                          swift_bridgeObjectRelease();
                          _os_log_impl(&dword_25934C000, v134, (os_log_type_t)v130, "%ld people with %ld consolidated asset UUIDs from query token person %s", (uint8_t *)v136, 0x20u);
                          OUTLINED_FUNCTION_93_10();
                          OUTLINED_FUNCTION_61_0();
                          OUTLINED_FUNCTION_61_0();
                        }
                        else
                        {
                          OUTLINED_FUNCTION_131_0();

                          OUTLINED_FUNCTION_67_0();
                        }
                        sub_2593563FC();
                        swift_release();
                      }
                      else
                      {
                        swift_release();
                        uint64_t v143 = (void *)sub_259843A50();
                        os_log_type_t v144 = sub_259844B50();
                        if (OUTLINED_FUNCTION_145_0(v144))
                        {
                          uint64_t v145 = (_WORD *)OUTLINED_FUNCTION_41();
                          OUTLINED_FUNCTION_149(v145);
                          OUTLINED_FUNCTION_173(&dword_25934C000, v146, v147, "Unable to get fetched assets for only 1 query person. Defaulting to at least 2 query people required in each asset.");
                          OUTLINED_FUNCTION_61_0();
                        }

                        swift_release();
                      }
                    }
                    else
                    {
                      swift_release();
                      uint64_t v107 = (void *)sub_259843A50();
                      os_log_type_t v108 = sub_259844B50();
                      if (OUTLINED_FUNCTION_145_0(v108))
                      {
                        uint64_t v109 = (_WORD *)OUTLINED_FUNCTION_41();
                        OUTLINED_FUNCTION_149(v109);
                        OUTLINED_FUNCTION_173(&dword_25934C000, v110, v111, "Could not get personUUIDsByAssetUUID from assetUUIDs!");
                        OUTLINED_FUNCTION_61_0();
                      }

                      swift_release();
                    }
                    goto LABEL_118;
                  }
                  swift_bridgeObjectRelease();
                  swift_release();
                  os_log_type_t v31 = (void *)sub_259843A50();
                  os_log_type_t v103 = sub_259844B50();
                  if (OUTLINED_FUNCTION_145_0(v103))
                  {
                    uint64_t v104 = (_WORD *)OUTLINED_FUNCTION_41();
                    OUTLINED_FUNCTION_149(v104);
                    OUTLINED_FUNCTION_173(&dword_25934C000, v105, v106, "No asset uuids in moments with enough persons");
                    OUTLINED_FUNCTION_61_0();
                  }
                  goto LABEL_83;
                }
              }
            }
          }
        }
      }
LABEL_64:
      uint64_t v6 = (v52 - 1) & v52;
      uint64_t v4 = v53;
LABEL_65:
      uint64_t v55 = sub_259843F00();
      sub_25973E110(v55);
      if (v6) {
        goto LABEL_46;
      }
    }
LABEL_124:
    __break(1u);
LABEL_125:
    __break(1u);
LABEL_126:
    __break(1u);
LABEL_127:
    __break(1u);
LABEL_128:
    swift_once();
  }
  uint64_t v37 = sub_259610D98(v6);
  if (!v37)
  {
    swift_release();
    os_log_type_t v31 = (void *)sub_259843A50();
    os_log_type_t v73 = sub_259844B70();
    if (OUTLINED_FUNCTION_145_0(v73))
    {
      uint64_t v74 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_149(v74);
      uint64_t v36 = "Could not get retrieved assets for the one person!";
      goto LABEL_82;
    }
    goto LABEL_83;
  }
  uint64_t v38 = sub_259737700(v37);
  swift_retain();
  sub_259843F00();
  os_log_type_t v39 = sub_259843A50();
  os_log_type_t v40 = sub_259844B70();
  if (OUTLINED_FUNCTION_52(v40))
  {
    uint64_t v41 = OUTLINED_FUNCTION_21_0();
    uint64_t v156 = OUTLINED_FUNCTION_20();
    v160[0] = v156;
    *(_DWORD *)uint64_t v41 = 134218242;
    v159[0] = *(void *)(v38 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v41 + 12) = 2080;
    uint64_t v42 = swift_retain();
    uint64_t v43 = MEMORY[0x25A2DED80](v42, MEMORY[0x263F8D310]);
    unint64_t v45 = v44;
    swift_release();
    v159[0] = sub_259356D5C(v43, v45, v160);
    sub_259844E10();
    OUTLINED_FUNCTION_131_0();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v39, (os_log_type_t)v2, "One person with %ld asset UUIDs from query token person %s", (uint8_t *)v41, 0x16u);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    OUTLINED_FUNCTION_131_0();
    swift_bridgeObjectRelease();
  }
  swift_release();

LABEL_118:
  OUTLINED_FUNCTION_13_1();
}

BOOL sub_2596A3954(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  sub_259843F00();
  unint64_t v6 = *(void *)(sub_25946D788(a4, a3) + 16);
  swift_release();
  return v6 > 1;
}

uint64_t sub_2596A399C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  if (*(void *)(a3 + 16) == 1
    && (sub_259843F00(), uint64_t v10 = *(void *)(sub_25946D788(a4, a3) + 16), swift_release(), v10))
  {
    sub_25973CE24(a5, a6, a3);
    char v12 = v11 ^ 1;
  }
  else
  {
    char v12 = 0;
  }
  return v12 & 1;
}

uint64_t sub_2596A3A1C(uint64_t *a1)
{
  uint64_t v2 = *a1;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *a1 = v2;
  if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
    sub_2596F3730();
  }
  uint64_t v4 = *(void *)(v2 + 16);
  v6[0] = v2 + 32;
  v6[1] = v4;
  sub_2596A3B04(v6);
  return sub_259845250();
}

unint64_t sub_2596A3A98()
{
  unint64_t result = qword_26A38FD60;
  if (!qword_26A38FD60)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FD60);
  }
  return result;
}

uint64_t sub_2596A3AE4@<X0>(uint64_t *a1@<X8>)
{
  return sub_2596918C4(*(void *)(v1 + 24), a1);
}

void sub_2596A3B04(uint64_t *a1)
{
  uint64_t v2 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  MEMORY[0x270FA5388](v2 - 8);
  uint64_t v174 = (uint64_t)&v157 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v4);
  os_log_type_t v181 = (char *)&v157 - v5;
  MEMORY[0x270FA5388](v6);
  uint64_t v163 = (uint64_t)&v157 - v7;
  MEMORY[0x270FA5388](v8);
  uint64_t v168 = (char *)&v157 - v9;
  uint64_t v10 = sub_259842800();
  uint64_t v11 = *(void *)(v10 - 8);
  MEMORY[0x270FA5388](v10);
  uint64_t v167 = (char *)&v157 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v13);
  uint64_t v177 = (char *)&v157 - v14;
  MEMORY[0x270FA5388](v15);
  uint64_t v162 = (char *)&v157 - v16;
  MEMORY[0x270FA5388](v17);
  int64_t v19 = (char *)&v157 - v18;
  MEMORY[0x270FA5388](v20);
  uint64_t v164 = (char *)&v157 - v21;
  uint64_t v22 = a1[1];
  uint64_t v23 = sub_259845710();
  if (v23 >= v22)
  {
    if (v22 < 0) {
      goto LABEL_170;
    }
    if (v22) {
      sub_2596A48F0(0, v22, 1, a1);
    }
    return;
  }
  uint64_t v160 = v23;
  uint64_t v24 = sub_2594F076C(v22 / 2);
  uint64_t v172 = v25;
  uint64_t v184 = v24;
  uint64_t v169 = v22;
  uint64_t v159 = a1;
  if (v22 <= 0) {
    goto LABEL_131;
  }
  uint64_t v26 = 0;
  uint64_t v27 = *a1;
  uint64_t v28 = (void (**)(uint64_t, char *, uint64_t))(v11 + 32);
  uint64_t v175 = (void (**)(char *, uint64_t))(v11 + 8);
  uint64_t v158 = v27 - 8;
  BOOL v29 = (void *)MEMORY[0x263F8EE78];
  uint64_t v30 = v169;
  uint64_t v173 = v19;
  uint64_t v179 = (void (**)(uint64_t, char *, uint64_t))(v11 + 32);
  uint64_t v180 = v27;
  while (1)
  {
    uint64_t v31 = v26 + 1;
    if (v26 + 1 >= v30)
    {
      uint64_t v38 = v26 + 1;
      goto LABEL_40;
    }
    id v161 = v29;
    os_log_type_t v32 = *(void **)(v27 + 8 * v31);
    id v182 = *(id *)(v27 + 8 * v26);
    id v33 = v182;
    uint64_t v183 = v32;
    id v34 = v32;
    id v35 = v33;
    uint64_t v36 = v176;
    LODWORD(v178) = sub_25969AD58(&v183, &v182);
    uint64_t v176 = v36;
    if (v36)
    {
      swift_bridgeObjectRelease();

LABEL_128:
      uint64_t v147 = v169;
LABEL_129:
      if (v147 >= -1) {
        goto LABEL_147;
      }
      __break(1u);
LABEL_131:
      BOOL v29 = (void *)MEMORY[0x263F8EE78];
      unint64_t v94 = *(void *)(MEMORY[0x263F8EE78] + 16);
LABEL_132:
      if (v94 >= 2)
      {
        uint64_t v148 = *v159;
        uint64_t v149 = v176;
        uint64_t v147 = v169;
        while (1)
        {
          unint64_t v150 = v94 - 2;
          if (v94 < 2) {
            goto LABEL_165;
          }
          if (!v148) {
            goto LABEL_183;
          }
          uint64_t v151 = v29;
          uint64_t v152 = v29[2 * v150 + 4];
          uint64_t v153 = v29[2 * v94 + 3];
          sub_2596A4D94((id *)(v148 + 8 * v152), (void **)(v148 + 8 * v29[2 * v94 + 2]), v148 + 8 * v153, v172);
          if (v149)
          {
            swift_bridgeObjectRelease();
            goto LABEL_129;
          }
          if (v153 < v152) {
            goto LABEL_166;
          }
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_2596F24C8();
            uint64_t v151 = v156;
          }
          if (v150 >= v151[2]) {
            goto LABEL_167;
          }
          uint64_t v154 = &v151[2 * v150 + 4];
          *uint64_t v154 = v152;
          v154[1] = v153;
          unint64_t v155 = v151[2];
          if (v94 > v155) {
            goto LABEL_168;
          }
          memmove(&v151[2 * v94 + 2], &v151[2 * v94 + 4], 16 * (v155 - v94));
          BOOL v29 = v151;
          v151[2] = v155 - 1;
          unint64_t v94 = v155 - 1;
          if (v155 <= 2) {
            goto LABEL_146;
          }
        }
      }
      uint64_t v147 = v169;
LABEL_146:
      swift_bridgeObjectRelease();
      if (v147 < -1) {
        goto LABEL_175;
      }
LABEL_147:
      *(void *)((v184 & 0xFFFFFFFFFFFFFF8) + 0x10) = 0;
      sub_259844530();
      swift_bridgeObjectRelease();
      return;
    }

    uint64_t v37 = v26 + 2;
    uint64_t v38 = v26 + 2;
    uint64_t v27 = v180;
    if (v26 + 2 < v169) {
      break;
    }
LABEL_30:
    if (v178) {
      goto LABEL_33;
    }
LABEL_31:
    BOOL v29 = v161;
LABEL_40:
    if (v38 < v169)
    {
      if (__OFSUB__(v38, v26)) {
        goto LABEL_171;
      }
      if (v38 - v26 < v160)
      {
        if (__OFADD__(v26, v160)) {
          goto LABEL_172;
        }
        uint64_t v65 = v169;
        if (v26 + v160 < v169) {
          uint64_t v65 = v26 + v160;
        }
        if (v65 < v26)
        {
LABEL_173:
          __break(1u);
          goto LABEL_174;
        }
        if (v38 == v65) {
          goto LABEL_73;
        }
        id v161 = v29;
        uint64_t v66 = v158 + 8 * v38;
        uint64_t v165 = v65;
        uint64_t v166 = v26;
LABEL_49:
        uint64_t v67 = *(void **)(v27 + 8 * v38);
        uint64_t v170 = v66;
        uint64_t v178 = v38;
        while (1)
        {
          char v68 = *(void **)v66;
          id v69 = v67;
          id v70 = v68;
          id v71 = objc_msgSend(v69, sel_startDate);
          if (v71)
          {
            uint64_t v72 = v71;
            sub_2598427C0();

            os_log_type_t v73 = *v28;
            uint64_t v74 = (uint64_t)v181;
            (*v28)((uint64_t)v181, v19, v10);
            __swift_storeEnumTagSinglePayload(v74, 0, 1, v10);
            if (__swift_getEnumTagSinglePayload(v74, 1, v10) != 1)
            {
              v73((uint64_t)v177, v181, v10);
              id v75 = objc_msgSend(v70, sel_startDate);
              if (v75)
              {
                uint64_t v76 = v75;
                sub_2598427C0();

                uint64_t v74 = v174;
                v73(v174, v19, v10);
                __swift_storeEnumTagSinglePayload(v74, 0, 1, v10);
                if (__swift_getEnumTagSinglePayload(v74, 1, v10) != 1)
                {
                  uint64_t v77 = v167;
                  v73((uint64_t)v167, (char *)v74, v10);
                  uint64_t v78 = v177;
                  uint64_t v171 = sub_2598427E0();
                  uint64_t v79 = *v175;
                  (*v175)(v77, v10);
                  uint64_t v80 = v78;
                  int64_t v19 = v173;
                  v79(v80, v10);

                  if (v171 != 1) {
                    goto LABEL_70;
                  }
                  goto LABEL_66;
                }
              }
              else
              {
                uint64_t v74 = v174;
                __swift_storeEnumTagSinglePayload(v174, 1, 1, v10);
              }
              (*v175)(v177, v10);
            }
          }
          else
          {
            uint64_t v74 = (uint64_t)v181;
            __swift_storeEnumTagSinglePayload((uint64_t)v181, 1, 1, v10);
          }
          sub_25938D0FC(v74, (uint64_t *)&unk_26B2F8390);
          uint64_t v81 = sub_25944C4E4(v69);
          if (!v82) {
            goto LABEL_177;
          }
          uint64_t v83 = v81;
          uint64_t v84 = v82;
          uint64_t v85 = sub_25944C4E4(v70);
          if (!v86) {
            goto LABEL_178;
          }
          if (v85 == v83 && v86 == v84)
          {

            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
LABEL_70:
            uint64_t v28 = v179;
            uint64_t v27 = v180;
            uint64_t v89 = v178;
LABEL_71:
            uint64_t v38 = v89 + 1;
            uint64_t v66 = v170 + 8;
            uint64_t v26 = v166;
            if (v38 == v165)
            {
              uint64_t v38 = v165;
              BOOL v29 = v161;
              break;
            }
            goto LABEL_49;
          }
          char v88 = sub_259845750();

          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if ((v88 & 1) == 0) {
            goto LABEL_70;
          }
LABEL_66:
          uint64_t v27 = v180;
          uint64_t v89 = v178;
          if (!v180) {
            goto LABEL_176;
          }
          uint64_t v90 = *(void **)v66;
          uint64_t v67 = *(void **)(v66 + 8);
          *(void *)uint64_t v66 = v67;
          *(void *)(v66 + 8) = v90;
          v66 -= 8;
          ++v26;
          uint64_t v28 = v179;
          if (v89 == v26) {
            goto LABEL_71;
          }
        }
      }
    }
LABEL_73:
    if (v38 < v26) {
      goto LABEL_169;
    }
    uint64_t v91 = v29;
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v178 = v38;
    if (isUniquelyReferenced_nonNull_native)
    {
      BOOL v29 = v91;
    }
    else
    {
      sub_2596F23F0();
      BOOL v29 = v145;
    }
    unint64_t v93 = v29[2];
    unint64_t v94 = v93 + 1;
    uint64_t v27 = v180;
    if (v93 >= v29[3] >> 1)
    {
      sub_2596F23F0();
      uint64_t v27 = v180;
      BOOL v29 = v146;
    }
    v29[2] = v94;
    uint64_t v95 = v29 + 4;
    uint64_t v96 = &v29[2 * v93 + 4];
    uint64_t v97 = v178;
    *uint64_t v96 = v26;
    v96[1] = v97;
    if (v93)
    {
      while (1)
      {
        unint64_t v98 = v94 - 1;
        if (v94 >= 4)
        {
          os_log_type_t v103 = &v95[2 * v94];
          uint64_t v104 = *(v103 - 8);
          uint64_t v105 = *(v103 - 7);
          BOOL v109 = __OFSUB__(v105, v104);
          uint64_t v106 = v105 - v104;
          if (v109) {
            goto LABEL_154;
          }
          uint64_t v108 = *(v103 - 6);
          uint64_t v107 = *(v103 - 5);
          BOOL v109 = __OFSUB__(v107, v108);
          uint64_t v101 = v107 - v108;
          char v102 = v109;
          if (v109) {
            goto LABEL_155;
          }
          unint64_t v110 = v94 - 2;
          uint64_t v111 = &v95[2 * v94 - 4];
          uint64_t v113 = *v111;
          uint64_t v112 = v111[1];
          BOOL v109 = __OFSUB__(v112, v113);
          uint64_t v114 = v112 - v113;
          if (v109) {
            goto LABEL_156;
          }
          BOOL v109 = __OFADD__(v101, v114);
          uint64_t v115 = v101 + v114;
          if (v109) {
            goto LABEL_158;
          }
          if (v115 >= v106)
          {
            uint64_t v133 = &v95[2 * v98];
            uint64_t v135 = *v133;
            uint64_t v134 = v133[1];
            BOOL v109 = __OFSUB__(v134, v135);
            uint64_t v136 = v134 - v135;
            if (v109) {
              goto LABEL_164;
            }
            BOOL v126 = v101 < v136;
            goto LABEL_110;
          }
        }
        else
        {
          if (v94 != 3)
          {
            uint64_t v127 = v29[4];
            uint64_t v128 = v29[5];
            BOOL v109 = __OFSUB__(v128, v127);
            uint64_t v120 = v128 - v127;
            char v121 = v109;
            goto LABEL_104;
          }
          uint64_t v100 = v29[4];
          uint64_t v99 = v29[5];
          BOOL v109 = __OFSUB__(v99, v100);
          uint64_t v101 = v99 - v100;
          char v102 = v109;
        }
        if (v102) {
          goto LABEL_157;
        }
        unint64_t v110 = v94 - 2;
        uint64_t v116 = &v95[2 * v94 - 4];
        uint64_t v118 = *v116;
        uint64_t v117 = v116[1];
        BOOL v119 = __OFSUB__(v117, v118);
        uint64_t v120 = v117 - v118;
        char v121 = v119;
        if (v119) {
          goto LABEL_159;
        }
        id v122 = &v95[2 * v98];
        uint64_t v124 = *v122;
        uint64_t v123 = v122[1];
        BOOL v109 = __OFSUB__(v123, v124);
        uint64_t v125 = v123 - v124;
        if (v109) {
          goto LABEL_161;
        }
        if (__OFADD__(v120, v125)) {
          goto LABEL_163;
        }
        if (v120 + v125 >= v101)
        {
          BOOL v126 = v101 < v125;
LABEL_110:
          if (v126) {
            unint64_t v98 = v110;
          }
          goto LABEL_112;
        }
LABEL_104:
        if (v121) {
          goto LABEL_160;
        }
        char v129 = &v95[2 * v98];
        uint64_t v131 = *v129;
        uint64_t v130 = v129[1];
        BOOL v109 = __OFSUB__(v130, v131);
        uint64_t v132 = v130 - v131;
        if (v109) {
          goto LABEL_162;
        }
        if (v132 < v120) {
          goto LABEL_121;
        }
LABEL_112:
        unint64_t v137 = v98 - 1;
        if (v98 - 1 >= v94)
        {
          __break(1u);
LABEL_151:
          __break(1u);
LABEL_152:
          __break(1u);
LABEL_153:
          __break(1u);
LABEL_154:
          __break(1u);
LABEL_155:
          __break(1u);
LABEL_156:
          __break(1u);
LABEL_157:
          __break(1u);
LABEL_158:
          __break(1u);
LABEL_159:
          __break(1u);
LABEL_160:
          __break(1u);
LABEL_161:
          __break(1u);
LABEL_162:
          __break(1u);
LABEL_163:
          __break(1u);
LABEL_164:
          __break(1u);
LABEL_165:
          __break(1u);
LABEL_166:
          __break(1u);
LABEL_167:
          __break(1u);
LABEL_168:
          __break(1u);
LABEL_169:
          __break(1u);
LABEL_170:
          __break(1u);
LABEL_171:
          __break(1u);
LABEL_172:
          __break(1u);
          goto LABEL_173;
        }
        if (!v27) {
          goto LABEL_179;
        }
        uint64_t v138 = v29;
        uint64_t v139 = &v95[2 * v137];
        uint64_t v140 = *v139;
        unint64_t v141 = &v95[2 * v98];
        uint64_t v142 = v141[1];
        uint64_t v143 = v176;
        sub_2596A4D94((id *)(v27 + 8 * *v139), (void **)(v27 + 8 * *v141), v27 + 8 * v142, v172);
        uint64_t v176 = v143;
        if (v143)
        {
          swift_bridgeObjectRelease();
          goto LABEL_128;
        }
        if (v142 < v140) {
          goto LABEL_151;
        }
        if (v98 > v138[2]) {
          goto LABEL_152;
        }
        *uint64_t v139 = v140;
        v95[2 * v137 + 1] = v142;
        unint64_t v144 = v138[2];
        if (v98 >= v144) {
          goto LABEL_153;
        }
        unint64_t v94 = v144 - 1;
        memmove(&v95[2 * v98], v141 + 2, 16 * (v144 - 1 - v98));
        BOOL v29 = v138;
        v138[2] = v144 - 1;
        int64_t v19 = v173;
        uint64_t v28 = v179;
        uint64_t v27 = v180;
        if (v144 <= 2) {
          goto LABEL_121;
        }
      }
    }
    unint64_t v94 = 1;
LABEL_121:
    uint64_t v30 = v169;
    uint64_t v26 = v178;
    if (v178 >= v169) {
      goto LABEL_132;
    }
  }
  while (1)
  {
    while (1)
    {
      os_log_type_t v39 = *(void **)(v27 + 8 * v31);
      id v40 = *(id *)(v27 + 8 * v37);
      id v41 = v39;
      id v42 = objc_msgSend(v40, sel_startDate);
      if (v42)
      {
        uint64_t v43 = v42;
        sub_2598427C0();

        unint64_t v44 = *v28;
        uint64_t v45 = (uint64_t)v168;
        (*v28)((uint64_t)v168, v19, v10);
        __swift_storeEnumTagSinglePayload(v45, 0, 1, v10);
        if (__swift_getEnumTagSinglePayload(v45, 1, v10) != 1)
        {
          v44((uint64_t)v164, v168, v10);
          id v46 = objc_msgSend(v41, sel_startDate);
          if (v46)
          {
            uint64_t v47 = v46;
            sub_2598427C0();

            uint64_t v45 = v163;
            v44(v163, v19, v10);
            __swift_storeEnumTagSinglePayload(v45, 0, 1, v10);
            if (__swift_getEnumTagSinglePayload(v45, 1, v10) != 1)
            {
              uint64_t v48 = v162;
              v44((uint64_t)v162, (char *)v45, v10);
              uint64_t v49 = v164;
              int v50 = sub_2598427E0() == 1;
              uint64_t v166 = v26;
              int64_t v51 = *v175;
              uint64_t v52 = v48;
              int64_t v19 = v173;
              (*v175)(v52, v10);
              v51(v49, v10);
              uint64_t v26 = v166;

              goto LABEL_22;
            }
          }
          else
          {
            uint64_t v45 = v163;
            __swift_storeEnumTagSinglePayload(v163, 1, 1, v10);
          }
          (*v175)(v164, v10);
        }
      }
      else
      {
        uint64_t v45 = (uint64_t)v168;
        __swift_storeEnumTagSinglePayload((uint64_t)v168, 1, 1, v10);
      }
      sub_25938D0FC(v45, (uint64_t *)&unk_26B2F8390);
      uint64_t v53 = sub_25944C4E4(v40);
      if (!v54) {
        goto LABEL_180;
      }
      uint64_t v55 = v53;
      uint64_t v56 = v54;
      uint64_t v57 = sub_25944C4E4(v41);
      if (!v58) {
        goto LABEL_181;
      }
      if (v57 == v55 && v58 == v56) {
        break;
      }
      int v50 = sub_259845750();

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
LABEL_22:
      uint64_t v27 = v180;
      if ((v178 ^ v50))
      {
        uint64_t v38 = v37;
        uint64_t v28 = v179;
        goto LABEL_30;
      }
      uint64_t v38 = v37 + 1;
      uint64_t v31 = v37;
      uint64_t v37 = v38;
      uint64_t v28 = v179;
      if (v38 >= v169) {
        goto LABEL_30;
      }
    }

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v178) {
      break;
    }
    uint64_t v38 = v37 + 1;
    uint64_t v31 = v37;
    uint64_t v37 = v38;
    uint64_t v28 = v179;
    uint64_t v27 = v180;
    if (v38 >= v169) {
      goto LABEL_31;
    }
  }
  uint64_t v38 = v37;
  uint64_t v28 = v179;
  uint64_t v27 = v180;
LABEL_33:
  BOOL v29 = v161;
  if (v38 >= v26)
  {
    if (v26 < v38)
    {
      uint64_t v60 = (uint64_t *)(v158 + 8 * v38);
      uint64_t v61 = v38;
      uint64_t v62 = v26;
      uint64_t v63 = (uint64_t *)(v27 + 8 * v26);
      do
      {
        if (v62 != --v61)
        {
          if (!v27) {
            goto LABEL_182;
          }
          uint64_t v64 = *v63;
          *uint64_t v63 = *v60;
          *uint64_t v60 = v64;
        }
        ++v62;
        --v60;
        ++v63;
      }
      while (v62 < v61);
    }
    goto LABEL_40;
  }
LABEL_174:
  __break(1u);
LABEL_175:
  __break(1u);
LABEL_176:
  __break(1u);
LABEL_177:
  __break(1u);
LABEL_178:
  __break(1u);
LABEL_179:
  __break(1u);
LABEL_180:
  __break(1u);
LABEL_181:
  __break(1u);
LABEL_182:
  __break(1u);
LABEL_183:
  __break(1u);
}

void sub_2596A48F0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  uint64_t v51 = a1;
  uint64_t v7 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  MEMORY[0x270FA5388](v7 - 8);
  uint64_t v57 = (char *)&v49 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v9);
  uint64_t v11 = (char *)&v49 - v10;
  uint64_t v12 = sub_259842800();
  MEMORY[0x270FA5388](v12);
  uint64_t v52 = (char *)&v49 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v14);
  uint64_t v60 = (char *)&v49 - v15;
  MEMORY[0x270FA5388](v16);
  uint64_t v58 = (char *)&v49 - v18;
  uint64_t v50 = a2;
  if (a3 == a2) {
    return;
  }
  uint64_t v19 = *a4;
  uint64_t v59 = (void (**)(char *, char *, uint64_t))(v17 + 32);
  uint64_t v55 = (void (**)(char *, uint64_t))(v17 + 8);
  uint64_t v56 = v11;
  uint64_t v61 = v19;
  uint64_t v20 = v19 + 8 * a3 - 8;
  while (2)
  {
    uint64_t v21 = *(void **)(v61 + 8 * a3);
    uint64_t v22 = v51;
    uint64_t v53 = v20;
    uint64_t v62 = a3;
    while (1)
    {
      uint64_t v23 = *(void **)v20;
      id v24 = v21;
      id v25 = v23;
      id v26 = objc_msgSend(v24, sel_startDate);
      if (!v26)
      {
        __swift_storeEnumTagSinglePayload((uint64_t)v11, 1, 1, v12);
        uint64_t v31 = (uint64_t)v11;
        goto LABEL_13;
      }
      uint64_t v27 = v26;
      uint64_t v28 = v60;
      sub_2598427C0();

      BOOL v29 = *v59;
      (*v59)(v11, v28, v12);
      __swift_storeEnumTagSinglePayload((uint64_t)v11, 0, 1, v12);
      int EnumTagSinglePayload = __swift_getEnumTagSinglePayload((uint64_t)v11, 1, v12);
      uint64_t v31 = (uint64_t)v11;
      if (EnumTagSinglePayload == 1) {
        goto LABEL_13;
      }
      v29(v58, v11, v12);
      id v32 = objc_msgSend(v25, sel_startDate);
      if (!v32) {
        break;
      }
      id v33 = v32;
      id v34 = v60;
      sub_2598427C0();

      uint64_t v35 = (uint64_t)v57;
      v29(v57, v34, v12);
      __swift_storeEnumTagSinglePayload(v35, 0, 1, v12);
      if (__swift_getEnumTagSinglePayload(v35, 1, v12) == 1) {
        goto LABEL_12;
      }
      uint64_t v36 = v52;
      v29(v52, (char *)v35, v12);
      uint64_t v37 = v58;
      uint64_t v54 = sub_2598427E0();
      uint64_t v38 = *v55;
      (*v55)(v36, v12);
      v38(v37, v12);

      uint64_t v39 = v62;
      uint64_t v11 = v56;
      if (v54 != 1) {
        goto LABEL_24;
      }
LABEL_20:
      if (!v61) {
        goto LABEL_28;
      }
      uint64_t v48 = *(void **)v20;
      uint64_t v21 = *(void **)(v20 + 8);
      *(void *)uint64_t v20 = v21;
      *(void *)(v20 + 8) = v48;
      v20 -= 8;
      if (v39 == ++v22) {
        goto LABEL_24;
      }
    }
    uint64_t v35 = (uint64_t)v57;
    __swift_storeEnumTagSinglePayload((uint64_t)v57, 1, 1, v12);
LABEL_12:
    (*v55)(v58, v12);
    uint64_t v31 = v35;
    uint64_t v11 = v56;
LABEL_13:
    sub_25938D0FC(v31, (uint64_t *)&unk_26B2F8390);
    uint64_t v40 = sub_25944C4E4(v24);
    if (!v41)
    {
      __break(1u);
LABEL_27:
      __break(1u);
LABEL_28:
      __break(1u);
      return;
    }
    uint64_t v42 = v40;
    uint64_t v43 = v41;
    uint64_t v44 = sub_25944C4E4(v25);
    if (!v45) {
      goto LABEL_27;
    }
    if (v44 != v42 || v45 != v43)
    {
      char v47 = sub_259845750();

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v39 = v62;
      if ((v47 & 1) == 0) {
        goto LABEL_24;
      }
      goto LABEL_20;
    }

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v39 = v62;
LABEL_24:
    a3 = v39 + 1;
    uint64_t v20 = v53 + 8;
    if (a3 != v50) {
      continue;
    }
    break;
  }
}

uint64_t sub_2596A4D94(id *a1, void **a2, unint64_t a3, id *a4)
{
  uint64_t v5 = v4;
  uint64_t v6 = a4;
  uint64_t v8 = a1;
  uint64_t v9 = (char *)a2 - (char *)a1;
  uint64_t v10 = a2 - a1;
  uint64_t v11 = a3 - (void)a2;
  uint64_t v12 = (uint64_t)(a3 - (void)a2) / 8;
  if (v10 >= v12)
  {
    sub_2596EDA30(a2, (uint64_t)(a3 - (void)a2) / 8, a4);
    uint64_t v16 = a2;
    uint64_t v14 = &v6[v12];
    if (v8 >= a2 || v11 < 8)
    {
LABEL_41:
      sub_2596EDA30(v6, v14 - v6, v16);
      return 1;
    }
    uint64_t v44 = v6;
    uint64_t v19 = (id *)(a3 - 8);
    uint64_t v43 = v8;
    while (1)
    {
      unint64_t v20 = (unint64_t)v14;
      uint64_t v21 = v14 - 1;
      id v46 = *(v14 - 1);
      unint64_t v22 = (unint64_t)v16;
      id v24 = v16 - 1;
      id v45 = *(v16 - 1);
      id v23 = v45;
      id v25 = v46;
      id v26 = v23;
      char v27 = sub_25969AD58(&v46, &v45);
      if (v4)
      {

        sub_2596EDA30(v44, (uint64_t)(v20 - (void)v44) / 8, v22);
        return 1;
      }
      char v28 = v27;
      BOOL v29 = v19 + 1;

      if (v28)
      {
        BOOL v30 = v29 != (void *)v22 || (unint64_t)v19 >= v22;
        uint64_t v16 = v24;
        uint64_t v14 = (id *)v20;
        if (v30) {
          goto LABEL_25;
        }
      }
      else
      {
        BOOL v31 = v29 != (void *)v20 || (unint64_t)v19 >= v20;
        id v24 = v21;
        uint64_t v14 = v21;
        uint64_t v16 = (id *)v22;
        if (v31) {
LABEL_25:
        }
          *uint64_t v19 = *v24;
      }
      if (v16 <= v43)
      {
        uint64_t v6 = v44;
        goto LABEL_41;
      }
      --v19;
      uint64_t v6 = v44;
      if (v14 <= v44) {
        goto LABEL_41;
      }
    }
  }
  sub_2596EDA30(a1, a2 - a1, a4);
  uint64_t v14 = &v6[v10];
  if ((unint64_t)a2 >= a3 || v9 < 8)
  {
LABEL_7:
    uint64_t v16 = v8;
    goto LABEL_41;
  }
  id v32 = a2;
  while (1)
  {
    unint64_t v33 = (unint64_t)v14;
    id v34 = v32;
    id v46 = *v32;
    id v45 = *v6;
    id v35 = v45;
    uint64_t v36 = v46;
    id v37 = v35;
    char v38 = sub_25969AD58(&v46, &v45);
    if (v5) {
      break;
    }
    char v39 = v38;

    if (v39)
    {
      uint64_t v40 = v34;
      id v32 = v34 + 1;
      BOOL v41 = v8 == v34;
    }
    else
    {
      uint64_t v40 = v6;
      BOOL v41 = v8 == v6++;
      id v32 = v34;
    }
    uint64_t v14 = (id *)v33;
    if (!v41) {
      id *v8 = *v40;
    }
    ++v8;
    uint64_t v5 = 0;
    if ((unint64_t)v6 >= v33 || (unint64_t)v32 >= a3) {
      goto LABEL_7;
    }
  }

  sub_2596EDA30(v6, (uint64_t)(v33 - (void)v6) / 8, v8);
  return 1;
}

uint64_t sub_2596A5038(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD70);
  uint64_t result = sub_259845480();
  uint64_t v6 = (void *)result;
  int64_t v7 = 0;
  uint64_t v43 = a1;
  uint64_t v10 = *(void *)(a1 + 64);
  uint64_t v9 = a1 + 64;
  uint64_t v8 = v10;
  uint64_t v11 = 1 << *(unsigned char *)(v9 - 32);
  uint64_t v12 = -1;
  if (v11 < 64) {
    uint64_t v12 = ~(-1 << v11);
  }
  unint64_t v13 = v12 & v8;
  uint64_t v40 = v9;
  int64_t v41 = (unint64_t)(v11 + 63) >> 6;
  uint64_t v42 = result + 64;
  uint64_t v39 = result;
  if ((v12 & v8) == 0) {
    goto LABEL_5;
  }
LABEL_4:
  unint64_t v14 = __clz(__rbit64(v13));
  v13 &= v13 - 1;
  int64_t v46 = v7;
  for (unint64_t i = v14 | (v7 << 6); ; unint64_t i = __clz(__rbit64(v18)) + (v17 << 6))
  {
    unint64_t v20 = (uint64_t *)(*(void *)(v43 + 48) + 16 * i);
    uint64_t v21 = v20[1];
    uint64_t v47 = *v20;
    uint64_t v22 = *(void *)(*(void *)(v43 + 56) + 8 * i);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v23 = sub_2595D9718(v22, a2);
    uint64_t v24 = sub_259844950();
    uint64_t v49 = v24;
    uint64_t v25 = *(void *)(v23 + 16);
    if (v25)
    {
      uint64_t v45 = v3;
      id v26 = (uint64_t *)(v23 + 40);
      do
      {
        uint64_t v27 = *(v26 - 1);
        uint64_t v28 = *v26;
        sub_259843F00();
        sub_2596D4E7C((uint64_t)v48, v27, v28, v29, v30, v31, v32, v33, v38, v39);
        swift_bridgeObjectRelease();
        v26 += 2;
        --v25;
      }
      while (v25);
      swift_bridgeObjectRelease();
      uint64_t result = swift_bridgeObjectRelease();
      uint64_t v34 = v49;
      uint64_t v3 = v45;
      uint64_t v6 = (void *)v39;
    }
    else
    {
      uint64_t v34 = v24;
      swift_bridgeObjectRelease();
      uint64_t result = swift_bridgeObjectRelease();
    }
    *(void *)(v42 + ((i >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << i;
    id v35 = (void *)(v6[6] + 16 * i);
    *id v35 = v47;
    v35[1] = v21;
    *(void *)(v6[7] + 8 * i) = v34;
    uint64_t v36 = v6[2];
    BOOL v16 = __OFADD__(v36, 1);
    uint64_t v37 = v36 + 1;
    if (v16)
    {
      __break(1u);
LABEL_30:
      __break(1u);
      goto LABEL_31;
    }
    uint64_t v6[2] = v37;
    int64_t v7 = v46;
    if (v13) {
      goto LABEL_4;
    }
LABEL_5:
    BOOL v16 = __OFADD__(v7, 1);
    int64_t v17 = v7 + 1;
    if (v16) {
      goto LABEL_30;
    }
    if (v17 >= v41) {
      goto LABEL_28;
    }
    unint64_t v18 = *(void *)(v40 + 8 * v17);
    if (!v18) {
      break;
    }
LABEL_15:
    unint64_t v13 = (v18 - 1) & v18;
    int64_t v46 = v17;
  }
  int64_t v19 = v17 + 1;
  if (v17 + 1 >= v41) {
    goto LABEL_28;
  }
  unint64_t v18 = *(void *)(v40 + 8 * v19);
  if (v18) {
    goto LABEL_14;
  }
  int64_t v19 = v17 + 2;
  if (v17 + 2 >= v41) {
    goto LABEL_28;
  }
  unint64_t v18 = *(void *)(v40 + 8 * v19);
  if (v18) {
    goto LABEL_14;
  }
  int64_t v19 = v17 + 3;
  if (v17 + 3 >= v41)
  {
LABEL_28:
    swift_bridgeObjectRelease();
    return (uint64_t)v6;
  }
  unint64_t v18 = *(void *)(v40 + 8 * v19);
  if (v18)
  {
LABEL_14:
    int64_t v17 = v19;
    goto LABEL_15;
  }
  while (1)
  {
    int64_t v17 = v19 + 1;
    if (__OFADD__(v19, 1)) {
      break;
    }
    if (v17 >= v41) {
      goto LABEL_28;
    }
    unint64_t v18 = *(void *)(v40 + 8 * v17);
    ++v19;
    if (v18) {
      goto LABEL_15;
    }
  }
LABEL_31:
  __break(1u);
  return result;
}

uint64_t sub_2596A5310(uint64_t a1)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FD70);
  uint64_t result = sub_259845480();
  uint64_t v3 = (void *)result;
  int64_t v4 = 0;
  uint64_t v39 = a1;
  uint64_t v5 = *(void *)(a1 + 64);
  uint64_t v36 = a1 + 64;
  uint64_t v6 = 1 << *(unsigned char *)(a1 + 32);
  uint64_t v7 = -1;
  if (v6 < 64) {
    uint64_t v7 = ~(-1 << v6);
  }
  unint64_t v8 = v7 & v5;
  int64_t v37 = (unint64_t)(v6 + 63) >> 6;
  uint64_t v38 = result + 64;
  if ((v7 & v5) == 0) {
    goto LABEL_5;
  }
LABEL_4:
  unint64_t v9 = __clz(__rbit64(v8));
  v8 &= v8 - 1;
  for (unint64_t i = v9 | (v4 << 6); ; unint64_t i = __clz(__rbit64(v12)) + (v4 << 6))
  {
    unint64_t v14 = (uint64_t *)(*(void *)(v39 + 48) + 16 * i);
    uint64_t v16 = *v14;
    uint64_t v15 = v14[1];
    uint64_t v17 = *(void *)(*(void *)(v39 + 56) + 8 * i);
    sub_259843F00();
    sub_259843F00();
    uint64_t v18 = sub_259844950();
    uint64_t v43 = v18;
    uint64_t v19 = *(void *)(v17 + 16);
    if (v19)
    {
      uint64_t v40 = v16;
      int64_t v41 = v4;
      unint64_t v20 = v3;
      uint64_t v21 = (uint64_t *)(v17 + 40);
      do
      {
        uint64_t v22 = *(v21 - 1);
        uint64_t v23 = *v21;
        sub_259843F00();
        sub_2596D4E7C((uint64_t)v42, v22, v23, v24, v25, v26, v27, v28, v34, v35);
        swift_bridgeObjectRelease();
        v21 += 2;
        --v19;
      }
      while (v19);
      uint64_t result = swift_bridgeObjectRelease();
      uint64_t v29 = v43;
      uint64_t v3 = v20;
      uint64_t v16 = v40;
      int64_t v4 = v41;
    }
    else
    {
      uint64_t v29 = v18;
      uint64_t result = swift_bridgeObjectRelease();
    }
    *(void *)(v38 + ((i >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << i;
    uint64_t v30 = (void *)(v3[6] + 16 * i);
    void *v30 = v16;
    v30[1] = v15;
    *(void *)(v3[7] + 8 * i) = v29;
    uint64_t v31 = v3[2];
    BOOL v32 = __OFADD__(v31, 1);
    uint64_t v33 = v31 + 1;
    if (v32)
    {
      __break(1u);
LABEL_29:
      __break(1u);
      goto LABEL_30;
    }
    v3[2] = v33;
    if (v8) {
      goto LABEL_4;
    }
LABEL_5:
    int64_t v11 = v4 + 1;
    if (__OFADD__(v4, 1)) {
      goto LABEL_29;
    }
    if (v11 >= v37) {
      return (uint64_t)v3;
    }
    unint64_t v12 = *(void *)(v36 + 8 * v11);
    ++v4;
    if (!v12)
    {
      int64_t v4 = v11 + 1;
      if (v11 + 1 >= v37) {
        return (uint64_t)v3;
      }
      unint64_t v12 = *(void *)(v36 + 8 * v4);
      if (!v12)
      {
        int64_t v4 = v11 + 2;
        if (v11 + 2 >= v37) {
          return (uint64_t)v3;
        }
        unint64_t v12 = *(void *)(v36 + 8 * v4);
        if (!v12) {
          break;
        }
      }
    }
LABEL_18:
    unint64_t v8 = (v12 - 1) & v12;
  }
  int64_t v13 = v11 + 3;
  if (v13 >= v37) {
    return (uint64_t)v3;
  }
  unint64_t v12 = *(void *)(v36 + 8 * v13);
  if (v12)
  {
    int64_t v4 = v13;
    goto LABEL_18;
  }
  while (1)
  {
    int64_t v4 = v13 + 1;
    if (__OFADD__(v13, 1)) {
      break;
    }
    if (v4 >= v37) {
      return (uint64_t)v3;
    }
    unint64_t v12 = *(void *)(v36 + 8 * v4);
    ++v13;
    if (v12) {
      goto LABEL_18;
    }
  }
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_2596A559C(uint64_t isStackAllocationSafe, uint64_t (*a2)(uint64_t, uint64_t, uint64_t), uint64_t a3)
{
  uint64_t v6 = isStackAllocationSafe;
  v14[1] = *MEMORY[0x263EF8340];
  char v7 = *(unsigned char *)(isStackAllocationSafe + 32);
  unint64_t v8 = (unint64_t)((1 << v7) + 63) >> 6;
  if ((v7 & 0x3Fu) <= 0xD
    || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    MEMORY[0x270FA5388](isStackAllocationSafe);
    unint64_t v9 = (void *)((char *)v14 - ((8 * v8 + 15) & 0x3FFFFFFFFFFFFFF0));
    sub_259745FF0(0, v8, v9);
    sub_2596A5B64((uint64_t)v9, v8, v6, a2);
    if (v3) {
      swift_willThrow();
    }
    else {
      return v10;
    }
  }
  else
  {
    int64_t v11 = (void *)swift_slowAlloc();
    sub_259745FF0(0, v8, v11);
    sub_2596A5B64((uint64_t)v11, v8, v6, a2);
    a3 = v12;
    MEMORY[0x25A2E13A0](v11, -1, -1);
  }
  return a3;
}

uint64_t sub_2596A5720(uint64_t isStackAllocationSafe, uint64_t a2)
{
  uint64_t v4 = isStackAllocationSafe;
  v12[1] = *MEMORY[0x263EF8340];
  char v5 = *(unsigned char *)(isStackAllocationSafe + 32);
  unint64_t v6 = (unint64_t)((1 << v5) + 63) >> 6;
  if ((v5 & 0x3Fu) <= 0xD
    || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    MEMORY[0x270FA5388](isStackAllocationSafe);
    char v7 = (void *)((char *)v12 - ((8 * v6 + 15) & 0x3FFFFFFFFFFFFFF0));
    sub_259745FF0(0, v6, v7);
    sub_2595E7100((uint64_t)v7, v6, v4, a2);
    if (v2) {
      swift_willThrow();
    }
    else {
      return v8;
    }
  }
  else
  {
    unint64_t v9 = (void *)swift_slowAlloc();
    sub_259745FF0(0, v6, v9);
    sub_2595E7100((uint64_t)v9, v6, v4, a2);
    a2 = v10;
    MEMORY[0x25A2E13A0](v9, -1, -1);
  }
  return a2;
}

uint64_t sub_2596A5890(uint64_t isStackAllocationSafe, uint64_t a2)
{
  uint64_t v4 = isStackAllocationSafe;
  v20[1] = *MEMORY[0x263EF8340];
  char v5 = *(unsigned char *)(isStackAllocationSafe + 32);
  unint64_t v6 = (unint64_t)((1 << v5) + 63) >> 6;
  if ((v5 & 0x3Fu) <= 0xD
    || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    MEMORY[0x270FA5388](isStackAllocationSafe);
    char v7 = (void *)((char *)v20 - ((8 * v6 + 15) & 0x3FFFFFFFFFFFFFF0));
    sub_259745FF0(0, v6, v7);
    sub_2596A5D64((uint64_t)v7, v6, v4, a2, v8, v9, v10, v11);
    if (v2) {
      swift_willThrow();
    }
    else {
      return v12;
    }
  }
  else
  {
    int64_t v13 = (void *)swift_slowAlloc();
    sub_259745FF0(0, v6, v13);
    sub_2596A5D64((uint64_t)v13, v6, v4, a2, v14, v15, v16, v17);
    a2 = v18;
    MEMORY[0x25A2E13A0](v13, -1, -1);
  }
  return a2;
}

uint64_t sub_2596A5A00(uint64_t isStackAllocationSafe)
{
  uint64_t v2 = isStackAllocationSafe;
  v9[1] = *MEMORY[0x263EF8340];
  char v3 = *(unsigned char *)(isStackAllocationSafe + 32);
  unint64_t v4 = (unint64_t)((1 << v3) + 63) >> 6;
  if ((v3 & 0x3Fu) <= 0xD
    || (uint64_t isStackAllocationSafe = swift_stdlib_isStackAllocationSafe(), (isStackAllocationSafe & 1) != 0))
  {
    MEMORY[0x270FA5388](isStackAllocationSafe);
    char v5 = (void *)((char *)v9 - ((8 * v4 + 15) & 0x3FFFFFFFFFFFFFF0));
    sub_259745FF0(0, v4, v5);
    uint64_t v6 = sub_2596A6004((int)v5, v4, v2);
    if (v1) {
      swift_willThrow();
    }
    else {
      return v6;
    }
  }
  else
  {
    char v7 = (void *)swift_slowAlloc();
    sub_259745FF0(0, v4, v7);
    uint64_t v2 = sub_2596A6004((int)v7, v4, v2);
    MEMORY[0x25A2E13A0](v7, -1, -1);
  }
  return v2;
}

void sub_2596A5B64(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(uint64_t, uint64_t, uint64_t))
{
  uint64_t v22 = 0;
  int64_t v6 = 0;
  uint64_t v7 = 1 << *(unsigned char *)(a3 + 32);
  uint64_t v8 = -1;
  if (v7 < 64) {
    uint64_t v8 = ~(-1 << v7);
  }
  unint64_t v9 = v8 & *(void *)(a3 + 64);
  int64_t v24 = (unint64_t)(v7 + 63) >> 6;
  while (1)
  {
    if (v9)
    {
      unint64_t v10 = __clz(__rbit64(v9));
      v9 &= v9 - 1;
      unint64_t v11 = v10 | (v6 << 6);
      goto LABEL_20;
    }
    int64_t v12 = v6 + 1;
    if (__OFADD__(v6, 1))
    {
      __break(1u);
      goto LABEL_26;
    }
    if (v12 >= v24) {
      goto LABEL_24;
    }
    unint64_t v13 = *(void *)(v23 + 8 * v12);
    ++v6;
    if (!v13)
    {
      int64_t v6 = v12 + 1;
      if (v12 + 1 >= v24) {
        goto LABEL_24;
      }
      unint64_t v13 = *(void *)(v23 + 8 * v6);
      if (!v13)
      {
        int64_t v6 = v12 + 2;
        if (v12 + 2 >= v24) {
          goto LABEL_24;
        }
        unint64_t v13 = *(void *)(v23 + 8 * v6);
        if (!v13) {
          break;
        }
      }
    }
LABEL_19:
    unint64_t v9 = (v13 - 1) & v13;
    unint64_t v11 = __clz(__rbit64(v13)) + (v6 << 6);
LABEL_20:
    int v15 = (uint64_t *)(*(void *)(a3 + 48) + 16 * v11);
    uint64_t v16 = *v15;
    uint64_t v17 = v15[1];
    uint64_t v18 = *(void *)(*(void *)(a3 + 56) + 8 * v11);
    sub_259843F00();
    sub_259843F00();
    char v19 = a4(v16, v17, v18);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v19)
    {
      *(void *)(a1 + ((v11 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v11;
      if (__OFADD__(v22++, 1))
      {
        __break(1u);
LABEL_24:
        sub_25977D9E4();
        return;
      }
    }
  }
  int64_t v14 = v12 + 3;
  if (v14 >= v24) {
    goto LABEL_24;
  }
  unint64_t v13 = *(void *)(v23 + 8 * v14);
  if (v13)
  {
    int64_t v6 = v14;
    goto LABEL_19;
  }
  while (1)
  {
    int64_t v6 = v14 + 1;
    if (__OFADD__(v14, 1)) {
      break;
    }
    if (v6 >= v24) {
      goto LABEL_24;
    }
    unint64_t v13 = *(void *)(v23 + 8 * v6);
    ++v14;
    if (v13) {
      goto LABEL_19;
    }
  }
LABEL_26:
  __break(1u);
}

void sub_2596A5D64(uint64_t a1, int __dst, uint64_t a3, uint64_t a4, int a5, int a6, int a7, int a8)
{
  uint64_t v24 = 0;
  int64_t v8 = 0;
  uint64_t v30 = a3;
  uint64_t v25 = a3 + 64;
  uint64_t v9 = 1 << *(unsigned char *)(a3 + 32);
  uint64_t v10 = -1;
  if (v9 < 64) {
    uint64_t v10 = ~(-1 << v9);
  }
  unint64_t v11 = v10 & *(void *)(a3 + 64);
  int64_t v26 = (unint64_t)(v9 + 63) >> 6;
  while (1)
  {
    if (v11)
    {
      unint64_t v12 = __clz(__rbit64(v11));
      v11 &= v11 - 1;
      unint64_t v13 = v12 | (v8 << 6);
      goto LABEL_20;
    }
    int64_t v14 = v8 + 1;
    if (__OFADD__(v8, 1))
    {
      __break(1u);
      goto LABEL_29;
    }
    if (v14 >= v26) {
      goto LABEL_27;
    }
    unint64_t v15 = *(void *)(v25 + 8 * v14);
    ++v8;
    if (!v15)
    {
      int64_t v8 = v14 + 1;
      if (v14 + 1 >= v26) {
        goto LABEL_27;
      }
      unint64_t v15 = *(void *)(v25 + 8 * v8);
      if (!v15)
      {
        int64_t v8 = v14 + 2;
        if (v14 + 2 >= v26) {
          goto LABEL_27;
        }
        unint64_t v15 = *(void *)(v25 + 8 * v8);
        if (!v15) {
          break;
        }
      }
    }
LABEL_19:
    unint64_t v11 = (v15 - 1) & v15;
    unint64_t v13 = __clz(__rbit64(v15)) + (v8 << 6);
LABEL_20:
    memcpy(__dsta, (const void *)(*(void *)(v30 + 48) + 88 * v13), 0x58uLL);
    if (!*(void *)(*(void *)a4 + 16))
    {
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      goto LABEL_24;
    }
    uint64_t v28 = v11;
    sub_2593A2D18((uint64_t)__dsta);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_25939D1E0();
    char v18 = v17;
    sub_25945EA34((uint64_t)__dsta);
    swift_bridgeObjectRelease();
    if (v18)
    {
      sub_25945EA34((uint64_t)__dsta);
    }
    else
    {
LABEL_24:
      sub_25945EA34((uint64_t)__dsta);
      *(void *)(a1 + ((v13 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v13;
      if (__OFADD__(v24++, 1))
      {
        __break(1u);
LABEL_27:
        sub_25977E308(a1, __dst, v24, v30, a5, a6, a7, a8, v20, __dst, v22, a1, v24, v25, v26, a4, v28, __dsta[0], __dsta[1],
          __dsta[2],
          __dsta[3],
          __dsta[4],
          __dsta[5],
          __dsta[6],
          __dsta[7],
          __dsta[8],
          __dsta[9],
          __dsta[10],
          __dsta[11],
          v30,
          v31,
          v32);
        return;
      }
    }
  }
  int64_t v16 = v14 + 3;
  if (v16 >= v26) {
    goto LABEL_27;
  }
  unint64_t v15 = *(void *)(v25 + 8 * v16);
  if (v15)
  {
    int64_t v8 = v16;
    goto LABEL_19;
  }
  while (1)
  {
    int64_t v8 = v16 + 1;
    if (__OFADD__(v16, 1)) {
      break;
    }
    if (v8 >= v26) {
      goto LABEL_27;
    }
    unint64_t v15 = *(void *)(v25 + 8 * v8);
    ++v16;
    if (v15) {
      goto LABEL_19;
    }
  }
LABEL_29:
  __break(1u);
}

#error "2596A613C: call analysis failed (funcsize=85)"

BOOL sub_2596A6158(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_2596A3954(a1, a2, a3, *(void *)(v3 + 16));
}

uint64_t sub_2596A6160(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_2596A399C(a1, a2, a3, v3[2], v3[3], v3[4]);
}

id sub_2596A616C(uint64_t a1, unint64_t a2, uint64_t a3)
{
  return sub_25969A95C(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24));
}

uint64_t sub_2596A6174(void *a1)
{
  id v1 = objc_msgSend(a1, sel_subtitle);
  if (!v1) {
    return 0;
  }
  uint64_t v2 = v1;
  uint64_t v3 = sub_2598440A0();

  return v3;
}

uint64_t sub_2596A61D8(uint64_t a1, void (*a2)(void))
{
  a2(0);
  OUTLINED_FUNCTION_4();
  OUTLINED_FUNCTION_11();
  v3();
  return a1;
}

void sub_2596A622C(uint64_t a1, uint64_t a2)
{
  sub_259699680(a1, a2, *(void **)(v2 + 16), *(void *)(v2 + 24), "Metadata retrieval failed for '%{private}@' WHAT token: %@");
}

void sub_2596A6260(uint64_t a1, uint64_t a2)
{
  sub_259699680(a1, a2, *(void **)(v2 + 16), *(void *)(v2 + 24), "Complete retrieval failed for '%{private}@' WHAT token: %@");
}

uint64_t sub_2596A6294(uint64_t a1, void *a2)
{
  sub_259844910();
  OUTLINED_FUNCTION_44_7();
  id v4 = objc_msgSend(a2, sel_localIdentifiersWithUUIDs_, v2);

  if (!v4) {
    return 0;
  }
  uint64_t v5 = sub_259844920();

  return v5;
}

void sub_2596A632C(uint64_t a1, uint64_t a2)
{
  sub_259697580(a1, a2, *(void **)(v2 + 16), *(void *)(v2 + 24), "Metadata retrieval failed for '%{private}@' public event token: %@");
}

void sub_2596A636C(uint64_t a1, uint64_t a2)
{
  sub_2596978B0(a1, a2, *(void *)(v2 + 16), *(void *)(v2 + 24));
}

unint64_t sub_2596A6388()
{
  unint64_t result = qword_26A38FDE8;
  if (!qword_26A38FDE8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FDE8);
  }
  return result;
}

unint64_t sub_2596A63D4()
{
  unint64_t result = qword_26A38FDF0;
  if (!qword_26A38FDF0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FDF0);
  }
  return result;
}

void sub_2596A6420(uint64_t a1, uint64_t a2)
{
  sub_259697580(a1, a2, *(void **)(v2 + 16), *(void *)(v2 + 24), "Metadata retrieval failed for '%{private}@' personal event token: %@");
}

void sub_2596A6460(uint64_t a1, uint64_t a2)
{
  sub_2596941B8(a1, a2, *(void *)(v2 + 16), *(void *)(v2 + 24));
}

unint64_t sub_2596A647C()
{
  unint64_t result = qword_26A38FE28;
  if (!qword_26A38FE28)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, &qword_26A38FE28);
  }
  return result;
}

uint64_t sub_2596A64C8(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  __swift_instantiateConcreteTypeFromMangledName(a3);
  OUTLINED_FUNCTION_4();
  OUTLINED_FUNCTION_86();
  v4();
  return a2;
}

void sub_2596A6520(uint64_t a1, uint64_t a2)
{
  sub_259697580(a1, a2, *(void **)(v2 + 16), *(void *)(v2 + 24), "Metadata retrieval failed for '%{private}@' query token: %@");
}

uint64_t sub_2596A6568@<X0>(const void *a1@<X0>, void *a2@<X8>)
{
  return sub_2596901FC(a1, *(uint64_t **)(v2 + 16), *(void *)(v2 + 24), *(void *)(v2 + 32), a2);
}

unint64_t sub_2596A658C()
{
  unint64_t result = qword_26A38FE60;
  if (!qword_26A38FE60)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FE60);
  }
  return result;
}

uint64_t sub_2596A65D8@<X0>(void *a1@<X8>)
{
  return sub_25968DBF8(*(void *)(v1 + 16), *(void *)(v1 + 24), a1);
}

void sub_2596A65F8(void *a1@<X8>)
{
  static StoryGenerationUtilities.dateComponentsAttributedQueryStringFromUserDisambiguation(withStartDateComponents:endDateComponents:localizedText:)();
  *a1 = v2;
}

uint64_t sub_2596A6634(uint64_t a1, uint64_t a2, void (*a3)(void))
{
  a3(0);
  OUTLINED_FUNCTION_4();
  uint64_t v4 = OUTLINED_FUNCTION_66_10();
  v5(v4);
  return a2;
}

uint64_t sub_2596A6688(uint64_t a1)
{
  return sub_2593BDCA0(a1) & 1;
}

uint64_t OUTLINED_FUNCTION_24_38()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_30_25()
{
  sub_2593980F8(v2);
  sub_2593980F8(v1);
  sub_2593980F8(v0);
  return swift_task_dealloc();
}

uint64_t OUTLINED_FUNCTION_39_26()
{
  *(void *)(v1 - 176) = v0;
  return sub_25939D1E0();
}

uint64_t OUTLINED_FUNCTION_52_18(uint64_t a1)
{
  sub_2593980F8(a1);
  sub_2593980F8(v2);
  return sub_2593980F8(v1);
}

uint64_t OUTLINED_FUNCTION_54_20()
{
  return *(void *)(v0 + 536);
}

uint64_t OUTLINED_FUNCTION_56_14()
{
  return swift_bridgeObjectRetain_n();
}

void *OUTLINED_FUNCTION_61_15()
{
  return __swift_project_boxed_opaque_existential_1(v0, v0[3]);
}

uint64_t OUTLINED_FUNCTION_63_16()
{
  *(void *)(v0 + 8 * (v1 >> 6) + 64) |= 1 << v1;
  return *(void *)(v0 + 48) + 88 * v1;
}

uint64_t OUTLINED_FUNCTION_64_19()
{
  return swift_bridgeObjectRelease();
}

void *OUTLINED_FUNCTION_66_17()
{
  return __swift_project_boxed_opaque_existential_1(v0, v0[3]);
}

uint64_t OUTLINED_FUNCTION_67_17()
{
  uint64_t v2 = *(void *)((*v0 & 0xFFFFFFFFFFFFFF8) + 0x10);
  return sub_259384E4C(v2);
}

uint64_t OUTLINED_FUNCTION_68_15()
{
  uint64_t v2 = *(void *)((*v0 & 0xFFFFFFFFFFFFFF8) + 0x10);
  return sub_259384E4C(v2);
}

id OUTLINED_FUNCTION_70_13()
{
  return sub_2594E8980(v0, 0x7461636F4C5B5551, 0xEC0000005D6E6F69, 0, 0);
}

uint64_t OUTLINED_FUNCTION_71_15()
{
  return sub_259845350();
}

id OUTLINED_FUNCTION_72_14()
{
  uint64_t v2 = *(void *)(v0 + 176);
  return sub_2594E8980(v2, 0x6F737265505B5551, 0xEA00000000005D6ELL, 0, 0);
}

void OUTLINED_FUNCTION_76_10()
{
  sub_2593861C0();
}

unint64_t OUTLINED_FUNCTION_79_13(uint64_t a1)
{
  return a1 & 0xFFFFFFFFFFFFLL | 0xD000000000000000;
}

void OUTLINED_FUNCTION_80_12()
{
  sub_2593861C0();
}

uint64_t OUTLINED_FUNCTION_82_14()
{
  return swift_bridgeObjectRetain_n();
}

void OUTLINED_FUNCTION_87_14(uint64_t a1@<X8>)
{
  *(void *)(a1 + 64) |= 1 << v1;
}

uint64_t OUTLINED_FUNCTION_88_12()
{
  return sub_2598454C0();
}

uint64_t OUTLINED_FUNCTION_89_11()
{
  *char v1 = v0;
  return swift_bridgeObjectRetain_n();
}

id OUTLINED_FUNCTION_92_12(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_2594E8980(a1, a2, a3, 0, 0);
}

void *OUTLINED_FUNCTION_97_10(void *a1)
{
  return memcpy(a1, v1, 0x58uLL);
}

uint64_t OUTLINED_FUNCTION_99_9()
{
  sub_2593980F8(v2);
  sub_2593980F8(v1);
  sub_2593980F8(v0);
  return swift_task_dealloc();
}

uint64_t OUTLINED_FUNCTION_100_8(uint64_t a1, uint64_t a2, void (*a3)(void))
{
  return sub_2595226D0(v4, v3, a3);
}

id OUTLINED_FUNCTION_104_9(void *a1)
{
  sub_2595E7250(v1, 1);
  return a1;
}

uint64_t OUTLINED_FUNCTION_106_8()
{
  return *(void *)(v0 + 144);
}

uint64_t OUTLINED_FUNCTION_107_8(uint64_t a1, float a2)
{
  *(float *)a1 = a2;
  *(void *)(a1 + 4) = *(void *)(v2 + 16);
  return swift_bridgeObjectRelease();
}

void OUTLINED_FUNCTION_110_9(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  sub_2596D4E7C(v11, v10, v12, a4, a5, a6, a7, a8, a9, a10);
}

uint64_t OUTLINED_FUNCTION_111_8()
{
  return sub_259844560();
}

uint64_t OUTLINED_FUNCTION_122_8()
{
  return sub_25939D1E0();
}

void OUTLINED_FUNCTION_130_7(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  sub_2596D4E7C(v12 - 168, v10, v11, a4, a5, a6, a7, a8, a9, a10);
}

void OUTLINED_FUNCTION_132_8(void *a1, NSObject *a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, a2, a3, a4, v4, 0xCu);
}

uint64_t OUTLINED_FUNCTION_133_6(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  *a10 = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_135_6()
{
  return sub_2595226D0(v0, v1, v2);
}

uint64_t OUTLINED_FUNCTION_140_7()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_146_7()
{
  return swift_getEnumCaseMultiPayload();
}

uint64_t OUTLINED_FUNCTION_150_6()
{
  return v0;
}

void OUTLINED_FUNCTION_152_7()
{
  *(void *)(v2 - 200) = *(void *)(v0 + 64) + 16;
  *(void *)(v2 - 192) = v1 + 32;
}

uint64_t OUTLINED_FUNCTION_153_8()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_154_8()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_158_8()
{
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_167_7(uint64_t a1)
{
  sub_2593980F8(a1);
  return swift_isUniquelyReferenced_nonNull_native();
}

uint64_t OUTLINED_FUNCTION_168_5(uint64_t a1)
{
  sub_2593980F8(a1);
  return swift_isUniquelyReferenced_nonNull_native();
}

uint64_t OUTLINED_FUNCTION_169_7(uint64_t a1)
{
  sub_2593980F8(a1);
  return swift_isUniquelyReferenced_nonNull_native();
}

uint64_t OUTLINED_FUNCTION_172_7()
{
  return sub_259844E10();
}

void OUTLINED_FUNCTION_176_6()
{
  sub_259386A70();
}

void OUTLINED_FUNCTION_177_7()
{
  sub_2593859FC();
}

void OUTLINED_FUNCTION_178_7()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_179_8()
{
  *(void *)(v0 + 16) = v1;
  *(void *)(v0 + 8 * v2 + 32) = v3;
}

void OUTLINED_FUNCTION_182_7()
{
  sub_259386A70();
}

uint64_t OUTLINED_FUNCTION_195_7()
{
  return sub_25939D1E0();
}

uint64_t OUTLINED_FUNCTION_198_2()
{
  return sub_25938D0FC(v0, v1);
}

uint64_t OUTLINED_FUNCTION_199_4()
{
  uint64_t result = v0[67];
  v0[77] = v0[44];
  return result;
}

uint64_t OUTLINED_FUNCTION_202_6()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_203_4()
{
  *(void *)(v1 - 144) = v0;
  return swift_bridgeObjectRelease();
}

void OUTLINED_FUNCTION_206_6()
{
  sub_2593859FC();
}

uint64_t OUTLINED_FUNCTION_207_5()
{
  return type metadata accessor for QueryGenerator(0);
}

id OUTLINED_FUNCTION_209_6(id a1, SEL a2)
{
  return objc_msgSend(a1, a2, v3, v2, 0, v4, 0);
}

uint64_t OUTLINED_FUNCTION_211_5()
{
  sub_259431E8C(v0, 1);
  sub_259431E8C(v0, 1);
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_213_5()
{
  *(void *)(v1 - 96) = v0;
  return sub_25939D1E0();
}

uint64_t OUTLINED_FUNCTION_216_5(uint64_t a1)
{
  return *(void *)(*(void *)(*(void *)(v1 + 192) + 56) + 8 * a1);
}

void OUTLINED_FUNCTION_219_5(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  sub_2596D4E7C(v12, v11, v10, a4, a5, a6, a7, a8, a9, a10);
}

uint64_t OUTLINED_FUNCTION_222_4()
{
  return sub_259845280();
}

uint64_t OUTLINED_FUNCTION_223_4()
{
  return swift_task_dealloc();
}

uint64_t OUTLINED_FUNCTION_224_3(uint64_t a1)
{
  __swift_destroy_boxed_opaque_existential_1(a1);
  return sub_259843F00();
}

uint64_t OUTLINED_FUNCTION_225_3(uint64_t a1)
{
  *(void *)(v1 - 96) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_226_4()
{
  return sub_259843F00();
}

void OUTLINED_FUNCTION_227_4(void *a1, NSObject *a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, a2, a3, a4, v4, 2u);
}

uint64_t OUTLINED_FUNCTION_229_5()
{
  return swift_getEnumCaseMultiPayload();
}

void OUTLINED_FUNCTION_231_5()
{
  *(_WORD *)(v0 + 12) = 2048;
}

uint64_t OUTLINED_FUNCTION_235_3(uint64_t a1)
{
  sub_2593980F8(a1);
  sub_2593980F8(v1);
  return swift_task_dealloc();
}

uint64_t OUTLINED_FUNCTION_237_4(uint64_t result)
{
  *(void *)(v1 + 624) = result;
  return result;
}

uint64_t OUTLINED_FUNCTION_240_3(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  return sub_259356D5C(v9, v10, (uint64_t *)va);
}

uint64_t OUTLINED_FUNCTION_242_4()
{
  return sub_259843F00();
}

void OUTLINED_FUNCTION_243_2()
{
  sub_25962267C(v1, v3, v2, v0);
}

uint64_t OUTLINED_FUNCTION_244_2()
{
  return sub_2598445B0();
}

uint64_t OUTLINED_FUNCTION_248_3()
{
  return v0 - 96;
}

__n128 OUTLINED_FUNCTION_251_3(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, __n128 a11)
{
  *(void *)(v12 - 176) = a1;
  __n128 result = a11;
  *uint64_t v11 = a11.n128_u32[0];
  return result;
}

uint64_t OUTLINED_FUNCTION_252_3()
{
  return sub_259843F00();
}

uint64_t OUTLINED_FUNCTION_253_4()
{
  return sub_259843F00();
}

void OUTLINED_FUNCTION_257_3()
{
  uint64_t v3 = *(void *)(v0 + 56) + 16 * v1;
  uint64_t v4 = *(void **)v3;
  char v5 = *(unsigned char *)(v3 + 8);
  sub_259431E8C(v4, v5);
}

uint64_t OUTLINED_FUNCTION_258_3()
{
  return swift_bridgeObjectRetain_n();
}

uint64_t OUTLINED_FUNCTION_260_3()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_266_3()
{
  return swift_bridgeObjectRelease();
}

void OUTLINED_FUNCTION_269_2(uint64_t a1, void (*a2)(uint64_t *, void *))
{
  sub_259688258(a1, a2, v3, v2);
}

uint64_t OUTLINED_FUNCTION_270_2()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_271_2()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_272_2()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_273_2()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_274_2()
{
  return sub_259845350();
}

uint64_t OUTLINED_FUNCTION_279_1()
{
  return 0x6E6F73726570;
}

uint64_t OUTLINED_FUNCTION_282_1()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_285_1()
{
  return *(void *)(v0 - 104);
}

uint64_t OUTLINED_FUNCTION_286_1(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16)
{
  return a16;
}

uint64_t OUTLINED_FUNCTION_289_1()
{
  return v0;
}

uint64_t static LLMConfigurationProvider.recommendedConfiguration(for:)@<X0>(unsigned __int8 *a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v3 = (char)*a1;
  unsigned __int8 v4 = *a1;
  if (!qword_270740E68)
  {
    if (qword_26A388AE8 != -1) {
      swift_once();
    }
    uint64_t v5 = sub_259843A80();
    __swift_project_value_buffer(v5, (uint64_t)qword_26A38FE80);
    int64_t v6 = sub_259843A50();
    os_log_type_t v7 = sub_259844B50();
    if (os_log_type_enabled(v6, v7))
    {
      int64_t v8 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)int64_t v8 = 0;
      _os_log_impl(&dword_25934C000, v6, v7, "Unable to find max LLMConfiguration version!", v8, 2u);
      MEMORY[0x25A2E13A0](v8, -1, -1);
    }
  }
  objc_msgSend(self, *off_26544E5A0[v3]);
  unsigned __int8 v10 = v4;
  return static LLMConfigurationProvider.configuration(for:version:)(&v10, a2);
}

uint64_t sub_2596A76B0(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (!v1) {
    return 0;
  }
  double v2 = *(double *)(a1 + 32);
  uint64_t v3 = v1 - 1;
  if (v1 != 1)
  {
    unsigned __int8 v4 = (double *)(a1 + 40);
    do
    {
      double v5 = *v4++;
      double v6 = v5;
      if (v2 < v5) {
        double v2 = v6;
      }
      --v3;
    }
    while (v3);
  }
  return *(void *)&v2;
}

uint64_t sub_2596A76F4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  uint64_t v5 = OUTLINED_FUNCTION_129(v4);
  uint64_t v6 = MEMORY[0x270FA5388](v5);
  int64_t v8 = (char *)&v32 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  unsigned __int8 v10 = (char *)&v32 - v9;
  uint64_t v11 = sub_259842800();
  OUTLINED_FUNCTION_87();
  uint64_t v13 = v12;
  uint64_t v15 = MEMORY[0x270FA5388](v14);
  char v17 = (char *)&v32 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v15);
  char v19 = (char *)&v32 - v18;
  uint64_t v20 = *(void *)(a1 + 16);
  if (!v20)
  {
    OUTLINED_FUNCTION_5_21((uint64_t)v10, 1);
    goto LABEL_13;
  }
  uint64_t v21 = *(void (**)(char *, unint64_t, uint64_t))(v13 + 16);
  unint64_t v34 = (*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
  int64_t v37 = v21;
  v21(v10, a1 + v34, v11);
  OUTLINED_FUNCTION_5_21((uint64_t)v10, 0);
  if (__swift_getEnumTagSinglePayload((uint64_t)v10, 1, v11) == 1)
  {
LABEL_13:
    sub_259441E20((uint64_t)v10);
    uint64_t v29 = a2;
    uint64_t v30 = 1;
    return OUTLINED_FUNCTION_5_21(v29, v30);
  }
  uint64_t v33 = a2;
  uint64_t v36 = v13;
  uint64_t v22 = *(void (**)(void))(v13 + 32);
  OUTLINED_FUNCTION_5_60();
  v22();
  uint64_t v35 = a1;
  sub_259843F00();
  uint64_t v23 = v20 - 1;
  if (v23)
  {
    uint64_t v24 = (void (**)(char *, uint64_t))(v36 + 8);
    uint64_t v36 = *(void *)(v36 + 72);
    unint64_t v25 = v35 + v36 + v34;
    while (1)
    {
      v37(v8, v25, v11);
      OUTLINED_FUNCTION_5_21((uint64_t)v8, 0);
      if (__swift_getEnumTagSinglePayload((uint64_t)v8, 1, v11) == 1) {
        break;
      }
      OUTLINED_FUNCTION_5_60();
      v22();
      sub_2596AA648((unint64_t *)&qword_26A3899C8, MEMORY[0x263F07490]);
      char v26 = sub_259844030();
      uint64_t v27 = *v24;
      if (v26)
      {
        v27(v19, v11);
        OUTLINED_FUNCTION_5_60();
        v22();
      }
      else
      {
        v27(v17, v11);
      }
      v25 += v36;
      if (!--v23) {
        goto LABEL_10;
      }
    }
  }
  else
  {
LABEL_10:
    OUTLINED_FUNCTION_5_21((uint64_t)v8, 1);
  }
  swift_bridgeObjectRelease();
  sub_259441E20((uint64_t)v8);
  uint64_t v28 = v33;
  OUTLINED_FUNCTION_5_60();
  v22();
  uint64_t v29 = v28;
  uint64_t v30 = 0;
  return OUTLINED_FUNCTION_5_21(v29, v30);
}

uint64_t sub_2596A7A0C(void *a1)
{
  uint64_t v1 = a1[2];
  if (!v1) {
    return 0;
  }
  uint64_t result = a1[4];
  uint64_t v4 = v1 - 1;
  if (v1 != 1)
  {
    uint64_t v5 = a1 + 5;
    do
    {
      uint64_t v7 = *v5++;
      uint64_t v6 = v7;
      if (result <= v7) {
        uint64_t result = v6;
      }
      --v4;
    }
    while (v4);
  }
  return result;
}

unint64_t sub_2596A7A50(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (v1)
  {
    float v2 = *(float *)(a1 + 32);
    uint64_t v3 = v1 - 1;
    if (v1 != 1)
    {
      uint64_t v4 = (float *)(a1 + 36);
      do
      {
        float v5 = *v4++;
        float v6 = v5;
        if (v2 < v5) {
          float v2 = v6;
        }
        --v3;
      }
      while (v3);
    }
    uint64_t v7 = LODWORD(v2);
  }
  else
  {
    uint64_t v7 = 0;
  }
  return v7 | ((unint64_t)(v1 == 0) << 32);
}

void *static LLMConfiguration.ModelType.allCases.getter()
{
  return &unk_270737DC0;
}

uint64_t LLMConfiguration.ModelType.rawValue.getter()
{
  uint64_t v1 = 0x6C657479726F7473;
  if (*v0 != 1) {
    uint64_t v1 = 0x7275437465737361;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 0x72546C61626F6C67;
  }
}

uint64_t LLMConfiguration.description.getter()
{
  BYTE8(v2) = 0;
  sub_259845110();
  sub_259844240();
  *(void *)&long long v2 = *v0;
  sub_259844120();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_259844240();
  sub_259844120();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_97();
  sub_259845150();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_97();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_97();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_97();
  type metadata accessor for LLMConfiguration(0);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  sub_25936C308(&qword_26A38FE98, &qword_26B300208);
  sub_259845720();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_97();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_12_42();
  sub_259843F00();
  sub_259843EC0();
  sub_259844240();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_12_42();
  sub_259843F00();
  sub_259843EC0();
  sub_259844240();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_259844240();
  sub_2598428B0();
  sub_259844240();
  swift_bridgeObjectRelease();
  return *(void *)((char *)&v2 + 1);
}

uint64_t LLMConfiguration.Version.init(rawValue:)@<X0>(uint64_t result@<X0>, BOOL *a2@<X8>)
{
  *a2 = result != 2;
  return result;
}

uint64_t static LLMConfiguration.Version.< infix(_:_:)()
{
  return 0;
}

uint64_t LLMConfiguration.Version.rawValue.getter()
{
  return 2;
}

void *static LLMConfiguration.Version.allCases.getter()
{
  return &unk_270737D08;
}

uint64_t sub_2596A7EAC@<X0>(uint64_t *a1@<X0>, BOOL *a2@<X8>)
{
  return LLMConfiguration.Version.init(rawValue:)(*a1, a2);
}

void sub_2596A7EB4(void *a1@<X8>)
{
  *a1 = 2;
}

void sub_2596A7EC4(void *a1@<X8>)
{
  *a1 = &unk_270737D08;
}

PhotosIntelligence::LLMConfiguration::ModelType_optional __swiftcall LLMConfiguration.ModelType.init(rawValue:)(Swift::String rawValue)
{
  long long v2 = v1;
  unint64_t v3 = sub_2598454E0();
  result.value = swift_bridgeObjectRelease();
  char v5 = 3;
  if (v3 < 3) {
    char v5 = v3;
  }
  char *v2 = v5;
  return result;
}

uint64_t sub_2596A7F30()
{
  return sub_25936F5A4();
}

uint64_t sub_2596A7F3C()
{
  return sub_2594F8A04();
}

uint64_t sub_2596A7F44(uint64_t a1)
{
  return sub_259735A94(a1, *v1);
}

uint64_t sub_2596A7F4C()
{
  return sub_259736EF8();
}

PhotosIntelligence::LLMConfiguration::ModelType_optional sub_2596A7F54(Swift::String *a1)
{
  return LLMConfiguration.ModelType.init(rawValue:)(*a1);
}

uint64_t sub_2596A7F60@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = LLMConfiguration.ModelType.rawValue.getter();
  *a1 = result;
  a1[1] = v3;
  return result;
}

void sub_2596A7F88(void *a1@<X8>)
{
  *a1 = &unk_270737DC0;
}

void *sub_2596A7F98()
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FEE0);
  uint64_t v0 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FEE8);
  uint64_t v1 = *(void *)(*(void *)(v0 - 8) + 72);
  unint64_t v2 = (*(unsigned __int8 *)(*(void *)(v0 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v0 - 8) + 80);
  uint64_t v3 = swift_allocObject();
  *(_OWORD *)(v3 + 16) = xmmword_259876900;
  unint64_t v4 = v3 + v2;
  *(unsigned char *)(v3 + v2) = 0;
  sub_259844590();
  uint64_t v5 = *(int *)(v0 + 48);
  *(unsigned char *)(v4 + v1) = 1;
  if (qword_26A3886F0 != -1) {
    swift_once();
  }
  uint64_t v6 = v4 + v1 + v5;
  uint64_t v7 = sub_259843950();
  uint64_t v8 = __swift_project_value_buffer(v7, (uint64_t)qword_26A3D1A20);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v7 - 8) + 16))(v6, v8, v7);
  *(unsigned char *)(v4 + 2 * v1) = 2;
  sub_259844590();
  sub_259463038();
  uint64_t result = (void *)sub_259843EE0();
  off_26A38FE78 = result;
  return result;
}

uint64_t static LLMConfiguration.responseSchemaByModelType.getter()
{
  if (qword_26A388AE0 != -1) {
    swift_once();
  }
  return sub_259843F00();
}

void LLMConfiguration.modelType.getter(unsigned char *a1@<X8>)
{
  *a1 = *v1;
}

uint64_t LLMConfiguration.promptTemplate.getter()
{
  return *(void *)(v0 + 8);
}

uint64_t LLMConfiguration.promptTemplateID.getter()
{
  return OUTLINED_FUNCTION_18();
}

uint64_t LLMConfiguration.modelCatalogResourceID.getter()
{
  return OUTLINED_FUNCTION_18();
}

uint64_t LLMConfiguration.modelCatalogResourceBundleID.getter()
{
  type metadata accessor for LLMConfiguration(0);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  OUTLINED_FUNCTION_4();
  uint64_t v0 = OUTLINED_FUNCTION_18();
  return v1(v0);
}

uint64_t LLMConfiguration.pegasusModelName.getter()
{
  return OUTLINED_FUNCTION_18();
}

uint64_t LLMConfiguration.pegasusSamplingParameters.getter()
{
  type metadata accessor for LLMConfiguration(0);
  return sub_259843F00();
}

uint64_t LLMConfiguration.thimbleSamplingParameters.getter()
{
  type metadata accessor for LLMConfiguration(0);
  return sub_259843F00();
}

uint64_t LLMConfiguration.locale.getter()
{
  type metadata accessor for LLMConfiguration(0);
  sub_259842940();
  OUTLINED_FUNCTION_4();
  uint64_t v0 = OUTLINED_FUNCTION_18();
  return v1(v0);
}

unint64_t static LLMConfiguration.quPegasusModelName.getter()
{
  return 0xD00000000000002ELL;
}

unint64_t static LLMConfiguration.pegasusModelName(for:version:)(unsigned char *a1)
{
  unint64_t v1 = 0xD000000000000039;
  if (*a1 != 1) {
    unint64_t v1 = 0xD00000000000003CLL;
  }
  if (*a1) {
    return v1;
  }
  else {
    return 0xD00000000000003BLL;
  }
}

uint64_t static LLMConfiguration.modelCatalogResource(for:version:)(uint64_t a1, unsigned char *a2)
{
  if (*a2)
  {
    if (*a2 == 1)
    {
      sub_259842C20();
      uint64_t v2 = v5;
      OUTLINED_FUNCTION_1_80(v4);
      OUTLINED_FUNCTION_10_42();
      sub_259842B90();
    }
    else
    {
      sub_259842C40();
      uint64_t v2 = v5;
      OUTLINED_FUNCTION_1_80(v4);
      OUTLINED_FUNCTION_10_42();
      sub_259842BB0();
    }
  }
  else
  {
    sub_259842C30();
    uint64_t v2 = v5;
    OUTLINED_FUNCTION_1_80(v4);
    OUTLINED_FUNCTION_10_42();
    sub_259842BA0();
  }
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v4);
  return v2;
}

unsigned char *static LLMConfiguration.promptTemplateAndID(for:version:)@<X0>(unsigned char *result@<X0>, int64x2_t *a2@<X8>)
{
  unint64_t v2 = 0xD00000000000002DLL;
  if (*result)
  {
    if (*result == 1)
    {
      int64x2_t v3 = vdupq_n_s64(0xC2FuLL);
      v3.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}A conversation between a user requesting a story f"
                           "rom their photos and a creative writer assistant who responds with a story<n><n>Respond in JS"
                           "ON with these keys and values in order:<n>- traits: list of strings, visual themes selected f"
                           "rom the photos<n>- story: list of chapters as defined below<n>- cover: string, photo caption "
                           "describing the title card<n>- title: string, title of story<n>- subtitle: string, safer versi"
                           "on of the title<n><n>Each chapter is a JSON with these keys and values in order:<n>- chapter:"
                           " string, title of chapter<n>- fallback: string, generic photo caption summarizing chapter the"
                           "me<n>- shots: list of strings, photo captions in chapter<n><n>Here are the story guidelines y"
                           "ou must obey:<n>- The story should be about the intent of the user<n>- The story should conta"
                           "in a clear arc<n>- The story should be diverse, that is, do not overly focus the entire story"
                           " on one very specific theme or trait<n>- Do not write a story that is religious, political, h"
                           "armful, violent, sexual, filthy or in anyway negative, sad or provocative<n><n>Here are the p"
                           "hoto caption list guidelines you must obey:<n>- You can choose to include chapters or photo c"
                           "aptions related to relationships, pets or locations if it is relevant to the user request<n>-"
                           " All photo captions within a chapter should be distinct<n>- Ignore all references to music, a"
                           "rtists or song titles. None of the shots, chapters or titles should contain references to mus"
                           "ic in any way<n>- There should be no reference to time periods or time of day in any chapters"
                           " or photo captions<n><n>Here are the title guidelines you must obey:<n>- The title should sum"
                           "marize all the shot lists and chapters such that if any chapters or shots are missing the tit"
                           "le still makes sense<n>- The title should avoid being funny, quirky or using references to sp"
                           "ecific culture or events<n>- Never use profanity or words that are not appropriate for childr"
                           "en<n>- If the user query contains a location which is also their home location, do not create"
                           " a title that refers to a trip<n>- If the story is about people do not make the title describ"
                           "e with non-human entities like fictional creatures or animals{{ specialToken.chat.component.t"
                           "urnEnd }}{{ specialToken.chat.role.user }}Write me a story about: \"{{ freeformStoryPromptQue"
                           "ry }}\"<n>Visual themes in my photos: {{ freeformInputTraits }}<n>Pick this number of visual "
                           "themes to write the story on: {{ freeformNumSelectedTraits }}<n>I want the story structure to"
                           " be: {{ freeformStoryStructure }}<n>Write this many chapters in the story: {{ freeformNumChap"
                           "ters }}<n>Include at least this many photo captions in each chapter: {{ freeformMinNumShots }"
                           "}<n>Children are in my photos: {{ freeformHasChildren }}<n>Pets are in my photos: {{ freeform"
                           "HasPets }}<n>People with these relationships to me are in my photos: {{ freeformLifeContextRe"
                           "lationship }}<n>My home location: {{ freeformLifeContextHomeLocation }}<n>Some of the top loc"
                           "ations present in my photos: {{ freeformLifeContextTopLocations }}{{ specialToken.chat.compon"
                           "ent.turnEnd }}{{ specialToken.chat.role.assistant }}";
      unint64_t v2 = 0xD00000000000002ELL;
      unint64_t v4 = "com.apple.photos.memoryCreation.Storyteller.v2";
    }
    else
    {
      int64x2_t v3 = vdupq_n_s64(0x38DuLL);
      v3.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}{{ specialToken.chat.component.turnEnd }}{{ specia"
                           "lToken.chat.role.user }}You are a director on a movie set! Here is a movie idea of \"{{ userP"
                           "rompt }}\" but with a special focus on {{ traits }}. {{ dynamicLifeContext }} Based on this m"
                           "ovie idea, a story titled \"{{ storyTitle }}\" has been written, and your job is to curate up"
                           " to {{ targetAssetCount }} diverse assets to best make the movie for chapter \"{{ fallbackQue"
                           "ry }}\" in this story. Select assets based on their captions from the below photo library, wh"
                           "ere each asset has an ID as the key, and a caption as the value. {{ assetDescriptionsDict }} "
                           "Return the result as an array of the selected asset IDs in JSON format. Do not return asset I"
                           "Ds if no good matches are found. Do not return duplicated or non-existent asset IDs. Assets:{"
                           "{ specialToken.chat.component.turnEnd }}{{ specialToken.chat.role.assistant }}";
      unint64_t v4 = "com.apple.photos.memoryCreation.AssetCuration";
    }
  }
  else
  {
    unint64_t v2 = 0xD00000000000002FLL;
    int64x2_t v3 = vdupq_n_s64(0x7A8uLL);
    v3.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}A conversation between a user making a story from th"
                         "eir photos and a creative writer assistant who imagines visual themes for the user story<n>The "
                         "visual themes are short, no more than a few words and must be new thematic content to expand on"
                         " what the user story is, not duplicating any info from the query<n>Additional information about"
                         " the photos the user has may be available, and can inform the visual themes, especially if ther"
                         "e is a location but the request is about a person<n>If the request is vague, then the visual th"
                         "emes should be broad since little information is available<n>But if the request is more detaile"
                         "d, then the visual themes can be more detailed and precise<n>The assistant responds with nothin"
                         "g except for the visual themes formatted as a JSON parseable list of strings, where each elemen"
                         "t is a relevant visual themes<n><n>Visual themes cannot be location names, or emotive and vague"
                         " themes such as Togetherness or Leisure<n>Instead, visual themes usually fall under the followi"
                         "ng categories:<n>- Settings, describing the scene or backdrop of the photos, such Restaurant or"
                         " Sunset<n>- Objects featured in the story, or which people might interact with, such as Food or"
                         " Sports Equipment<n>- Actions in the photos or which people may be doing, such as Laughing{{ sp"
                         "ecialToken.chat.component.turnEnd }}{{ specialToken.chat.role.user }}I want to experience a sto"
                         "ry about: \"{{ freeformStoryPromptQuery }}\"<n>Provide the following number of visual themes: {"
                         "{ numRequestedTraits }}<n>Children are in my photos: {{ freeformHasChildren }}<n>Pets in my pho"
                         "tos: {{ freeformHasPets }}<n>People with these relationships to me are in my photos: {{ freefor"
                         "mLifeContextRelationship }}<n>My home location: {{ freeformLifeContextHomeLocation }}<n>Some of"
                         " the top locations present in my photos: {{ freeformLifeContextTopLocations }}{{ specialToken.c"
                         "hat.component.turnEnd }}{{ specialToken.chat.role.assistant }}";
    unint64_t v4 = "com.apple.photos.memoryCreation.GlobalTraits.v2";
  }
  *a2 = v3;
  a2[1].i8[0] = 2;
  a2[1].i64[1] = v2;
  a2[2].i64[0] = (unint64_t)(v4 - 32) | 0x8000000000000000;
  return result;
}

void static LLMConfiguration.pegasusSamplingParameters(for:version:)(unsigned char *a1)
{
  if (*a1)
  {
    if (*a1 == 1)
    {
      if (qword_26B300408 == -1) {
        goto LABEL_8;
      }
    }
    else if (qword_26B3004C8 == -1)
    {
      goto LABEL_8;
    }
LABEL_11:
    swift_once();
    goto LABEL_8;
  }
  if (qword_26B300418 != -1) {
    goto LABEL_11;
  }
LABEL_8:
  sub_25978AA18();
}

void static LLMConfiguration.thimbleSamplingParameters(for:version:)(unsigned char *a1)
{
  if (*a1)
  {
    if (*a1 == 1)
    {
      if (qword_26B300410 == -1) {
        goto LABEL_8;
      }
    }
    else if (qword_26B3004D0 == -1)
    {
      goto LABEL_8;
    }
LABEL_11:
    swift_once();
    goto LABEL_8;
  }
  if (qword_26B300420 != -1) {
    goto LABEL_11;
  }
LABEL_8:
  sub_25978AA18();
}

uint64_t static LLMConfiguration.locale(for:)(unsigned char *a1)
{
  uint64_t v3 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300050);
  uint64_t v4 = OUTLINED_FUNCTION_129(v3);
  MEMORY[0x270FA5388](v4);
  uint64_t v6 = (char *)&v25 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B300060);
  uint64_t v8 = OUTLINED_FUNCTION_129(v7);
  MEMORY[0x270FA5388](v8);
  OUTLINED_FUNCTION_45_0();
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300058);
  uint64_t v10 = OUTLINED_FUNCTION_129(v9);
  MEMORY[0x270FA5388](v10);
  uint64_t v12 = (char *)&v25 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_259842880();
  uint64_t v14 = OUTLINED_FUNCTION_129(v13);
  MEMORY[0x270FA5388](v14);
  OUTLINED_FUNCTION_234();
  if (*a1)
  {
    if (*a1 != 1)
    {
      char v19 = self;
      sub_2596A91A8(v19, (SEL *)&selRef_assetCurationLocale);
      if (!v20)
      {
        sub_2598428D0();
        uint64_t v21 = sub_2598428E0();
        __swift_storeEnumTagSinglePayload((uint64_t)v12, 0, 1, v21);
        uint64_t v22 = sub_259842920();
        __swift_storeEnumTagSinglePayload(v1, 1, 1, v22);
        sub_259842900();
        uint64_t v23 = sub_259842910();
        __swift_storeEnumTagSinglePayload((uint64_t)v6, 0, 1, v23);
        sub_259842870();
        return sub_259842890();
      }
      goto LABEL_10;
    }
    uint64_t v15 = self;
    uint64_t v16 = &selRef_storytellerLocale;
  }
  else
  {
    uint64_t v15 = self;
    uint64_t v16 = &selRef_globalTraitsLocale;
  }
  uint64_t v17 = sub_2596A91A8(v15, (SEL *)v16);
  if (!v18)
  {
    return MEMORY[0x270EF0FA0](v17);
  }
LABEL_10:
  return sub_2598428A0();
}

uint64_t LLMQUConfiguration.modelCatalogResourceID.getter()
{
  return OUTLINED_FUNCTION_18();
}

uint64_t LLMQUConfiguration.modelCatalogResourceBundleID.getter()
{
  type metadata accessor for LLMQUConfiguration(0);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  OUTLINED_FUNCTION_4();
  uint64_t v0 = OUTLINED_FUNCTION_18();
  return v1(v0);
}

uint64_t LLMQUConfiguration.pegasusModelName.getter()
{
  return OUTLINED_FUNCTION_18();
}

uint64_t LLMQUConfiguration.description.getter()
{
  return 0;
}

uint64_t sub_2596A8BFC()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A38FE80);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A38FE80);
  return sub_259843A60();
}

uint64_t static LLMConfigurationProvider.configuration(for:version:)@<X0>(unsigned __int8 *a1@<X0>, uint64_t a2@<X8>)
{
  sub_259842940();
  OUTLINED_FUNCTION_87();
  uint64_t v46 = v7;
  uint64_t v47 = v6;
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_45_0();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  OUTLINED_FUNCTION_87();
  uint64_t v43 = v9;
  uint64_t v44 = v8;
  MEMORY[0x270FA5388](v8);
  OUTLINED_FUNCTION_234();
  unsigned __int8 v49 = *a1;
  int v10 = v49;
  uint64_t v11 = static LLMConfiguration.modelCatalogResource(for:version:)(v3, &v49);
  uint64_t v41 = v12;
  uint64_t v42 = v11;
  uint64_t v45 = v2;
  if (v10)
  {
    if (v10 == 1)
    {
      if (qword_26B300408 != -1) {
        swift_once();
      }
      sub_25978AA18();
      uint64_t v14 = v13;
      uint64_t v15 = qword_26B300410;
      sub_259843F00();
      if (v15 != -1) {
        swift_once();
      }
      sub_25978AA18();
      uint64_t v17 = v16;
      sub_259843F00();
      char v48 = 1;
      static LLMConfiguration.locale(for:)(&v48);
      uint64_t v18 = self;
      uint64_t v19 = sub_259685C80(v18);
      swift_bridgeObjectRelease();
      if (v19)
      {
        swift_bridgeObjectRelease();
        uint64_t v14 = v19;
      }
      uint64_t v20 = sub_259685C8C(v18);
      swift_bridgeObjectRelease();
      unint64_t v21 = 0xD00000000000002ELL;
      unint64_t v22 = 0xD000000000000039;
      int64x2_t v23 = vdupq_n_s64(0xC2FuLL);
      v23.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}A conversation between a user requesting a story "
                            "from their photos and a creative writer assistant who responds with a story<n><n>Respond in "
                            "JSON with these keys and values in order:<n>- traits: list of strings, visual themes selecte"
                            "d from the photos<n>- story: list of chapters as defined below<n>- cover: string, photo capt"
                            "ion describing the title card<n>- title: string, title of story<n>- subtitle: string, safer "
                            "version of the title<n><n>Each chapter is a JSON with these keys and values in order:<n>- ch"
                            "apter: string, title of chapter<n>- fallback: string, generic photo caption summarizing chap"
                            "ter theme<n>- shots: list of strings, photo captions in chapter<n><n>Here are the story guid"
                            "elines you must obey:<n>- The story should be about the intent of the user<n>- The story sho"
                            "uld contain a clear arc<n>- The story should be diverse, that is, do not overly focus the en"
                            "tire story on one very specific theme or trait<n>- Do not write a story that is religious, p"
                            "olitical, harmful, violent, sexual, filthy or in anyway negative, sad or provocative<n><n>He"
                            "re are the photo caption list guidelines you must obey:<n>- You can choose to include chapte"
                            "rs or photo captions related to relationships, pets or locations if it is relevant to the us"
                            "er request<n>- All photo captions within a chapter should be distinct<n>- Ignore all referen"
                            "ces to music, artists or song titles. None of the shots, chapters or titles should contain r"
                            "eferences to music in any way<n>- There should be no reference to time periods or time of da"
                            "y in any chapters or photo captions<n><n>Here are the title guidelines you must obey:<n>- Th"
                            "e title should summarize all the shot lists and chapters such that if any chapters or shots "
                            "are missing the title still makes sense<n>- The title should avoid being funny, quirky or us"
                            "ing references to specific culture or events<n>- Never use profanity or words that are not a"
                            "ppropriate for children<n>- If the user query contains a location which is also their home l"
                            "ocation, do not create a title that refers to a trip<n>- If the story is about people do not"
                            " make the title describe with non-human entities like fictional creatures or animals{{ speci"
                            "alToken.chat.component.turnEnd }}{{ specialToken.chat.role.user }}Write me a story about: \""
                            "{{ freeformStoryPromptQuery }}\"<n>Visual themes in my photos: {{ freeformInputTraits }}<n>P"
                            "ick this number of visual themes to write the story on: {{ freeformNumSelectedTraits }}<n>I "
                            "want the story structure to be: {{ freeformStoryStructure }}<n>Write this many chapters in t"
                            "he story: {{ freeformNumChapters }}<n>Include at least this many photo captions in each chap"
                            "ter: {{ freeformMinNumShots }}<n>Children are in my photos: {{ freeformHasChildren }}<n>Pets"
                            " are in my photos: {{ freeformHasPets }}<n>People with these relationships to me are in my p"
                            "hotos: {{ freeformLifeContextRelationship }}<n>My home location: {{ freeformLifeContextHomeL"
                            "ocation }}<n>Some of the top locations present in my photos: {{ freeformLifeContextTopLocati"
                            "ons }}{{ specialToken.chat.component.turnEnd }}{{ specialToken.chat.role.assistant }}";
      unint64_t v24 = 0x800000025985EC70;
      uint64_t v25 = "photos-intelligence-storyteller-30b-v4-vy2m6cwpnf-5-13-24";
    }
    else
    {
      if (qword_26B3004C8 != -1) {
        swift_once();
      }
      sub_25978AA18();
      uint64_t v14 = v31;
      uint64_t v32 = qword_26B3004D0;
      sub_259843F00();
      if (v32 != -1) {
        swift_once();
      }
      sub_25978AA18();
      uint64_t v17 = v33;
      sub_259843F00();
      char v48 = 2;
      static LLMConfiguration.locale(for:)(&v48);
      unint64_t v34 = self;
      uint64_t v35 = sub_259685C68(v34);
      swift_bridgeObjectRelease();
      if (v35)
      {
        swift_bridgeObjectRelease();
        uint64_t v14 = v35;
      }
      unint64_t v21 = 0xD00000000000002DLL;
      uint64_t v20 = sub_259685C74(v34);
      swift_bridgeObjectRelease();
      unint64_t v22 = 0xD00000000000003CLL;
      int64x2_t v23 = vdupq_n_s64(0x38DuLL);
      v23.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}{{ specialToken.chat.component.turnEnd }}{{ speci"
                            "alToken.chat.role.user }}You are a director on a movie set! Here is a movie idea of \"{{ use"
                            "rPrompt }}\" but with a special focus on {{ traits }}. {{ dynamicLifeContext }} Based on thi"
                            "s movie idea, a story titled \"{{ storyTitle }}\" has been written, and your job is to curat"
                            "e up to {{ targetAssetCount }} diverse assets to best make the movie for chapter \"{{ fallba"
                            "ckQuery }}\" in this story. Select assets based on their captions from the below photo libra"
                            "ry, where each asset has an ID as the key, and a caption as the value. {{ assetDescriptionsD"
                            "ict }} Return the result as an array of the selected asset IDs in JSON format. Do not return"
                            " asset IDs if no good matches are found. Do not return duplicated or non-existent asset IDs."
                            " Assets:{{ specialToken.chat.component.turnEnd }}{{ specialToken.chat.role.assistant }}";
      unint64_t v24 = 0x800000025985E010;
      uint64_t v25 = "photos-intelligence-asset-curation-30b-v4-9gk9e3572v-5-15-24";
    }
  }
  else
  {
    if (qword_26B300418 != -1) {
      swift_once();
    }
    sub_25978AA18();
    uint64_t v14 = v26;
    uint64_t v27 = qword_26B300420;
    sub_259843F00();
    if (v27 != -1) {
      swift_once();
    }
    sub_25978AA18();
    uint64_t v17 = v28;
    sub_259843F00();
    char v48 = 0;
    static LLMConfiguration.locale(for:)(&v48);
    uint64_t v29 = self;
    uint64_t v30 = sub_259685C98(v29);
    swift_bridgeObjectRelease();
    if (v30)
    {
      swift_bridgeObjectRelease();
      uint64_t v14 = v30;
    }
    uint64_t v20 = sub_259685CA4(v29);
    swift_bridgeObjectRelease();
    unint64_t v21 = 0xD00000000000002FLL;
    unint64_t v22 = 0xD00000000000003BLL;
    int64x2_t v23 = vdupq_n_s64(0x7A8uLL);
    v23.i64[0] = (uint64_t)"{{ specialToken.chat.role.system.default }}A conversation between a user making a story from t"
                          "heir photos and a creative writer assistant who imagines visual themes for the user story<n>Th"
                          "e visual themes are short, no more than a few words and must be new thematic content to expand"
                          " on what the user story is, not duplicating any info from the query<n>Additional information a"
                          "bout the photos the user has may be available, and can inform the visual themes, especially if"
                          " there is a location but the request is about a person<n>If the request is vague, then the vis"
                          "ual themes should be broad since little information is available<n>But if the request is more "
                          "detailed, then the visual themes can be more detailed and precise<n>The assistant responds wit"
                          "h nothing except for the visual themes formatted as a JSON parseable list of strings, where ea"
                          "ch element is a relevant visual themes<n><n>Visual themes cannot be location names, or emotive"
                          " and vague themes such as Togetherness or Leisure<n>Instead, visual themes usually fall under "
                          "the following categories:<n>- Settings, describing the scene or backdrop of the photos, such R"
                          "estaurant or Sunset<n>- Objects featured in the story, or which people might interact with, su"
                          "ch as Food or Sports Equipment<n>- Actions in the photos or which people may be doing, such as"
                          " Laughing{{ specialToken.chat.component.turnEnd }}{{ specialToken.chat.role.user }}I want to e"
                          "xperience a story about: \"{{ freeformStoryPromptQuery }}\"<n>Provide the following number of "
                          "visual themes: {{ numRequestedTraits }}<n>Children are in my photos: {{ freeformHasChildren }}"
                          "<n>Pets in my photos: {{ freeformHasPets }}<n>People with these relationships to me are in my "
                          "photos: {{ freeformLifeContextRelationship }}<n>My home location: {{ freeformLifeContextHomeLo"
                          "cation }}<n>Some of the top locations present in my photos: {{ freeformLifeContextTopLocations"
                          " }}{{ specialToken.chat.component.turnEnd }}{{ specialToken.chat.role.assistant }}";
    unint64_t v24 = 0x800000025985F450;
    uint64_t v25 = "photos-intelligence-global-traits-30b-v4-b9ar4p8mem-5-14-24";
  }
  unint64_t v36 = (unint64_t)(v25 - 32) | 0x8000000000000000;
  if (v20)
  {
    int64x2_t v40 = v23;
    swift_bridgeObjectRelease();
    uint64_t v17 = v20;
    int64x2_t v23 = v40;
  }
  *(unsigned char *)a2 = v10;
  *(int64x2_t *)(a2 + 8) = v23;
  *(unsigned char *)(a2 + 24) = 2;
  *(void *)(a2 + 32) = v21;
  *(void *)(a2 + 40) = v24;
  *(void *)(a2 + 48) = v42;
  *(void *)(a2 + 56) = v41;
  int64_t v37 = (int *)type metadata accessor for LLMConfiguration(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v43 + 32))(a2 + v37[9], v3, v44);
  uint64_t v38 = (unint64_t *)(a2 + v37[10]);
  *uint64_t v38 = v22;
  v38[1] = v36;
  *(void *)(a2 + v37[11]) = v14;
  *(void *)(a2 + v37[12]) = v17;
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v46 + 32))(a2 + v37[13], v45, v47);
}

uint64_t LLMConfigurationProvider.deinit()
{
  return v0;
}

uint64_t LLMConfigurationProvider.__deallocating_deinit()
{
  return MEMORY[0x270FA0228](v0, 16, 7);
}

uint64_t type metadata accessor for LLMConfiguration(uint64_t a1)
{
  return sub_25938CAE0(a1, (uint64_t *)&unk_26B300318);
}

uint64_t sub_2596A91A8(void *a1, SEL *a2)
{
  id v2 = [a1 *a2];
  if (v2)
  {
    uint64_t v3 = v2;
    sub_2598440A0();
  }
  return OUTLINED_FUNCTION_18();
}

uint64_t type metadata accessor for LLMQUConfiguration(uint64_t a1)
{
  return sub_25938CAE0(a1, (uint64_t *)&unk_26A38FED0);
}

unint64_t sub_2596A9228()
{
  unint64_t result = qword_26A38FEA0;
  if (!qword_26A38FEA0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FEA0);
  }
  return result;
}

uint64_t sub_2596A9274()
{
  return sub_25936C308(&qword_26A38FEA8, &qword_26A38FEB0);
}

unint64_t sub_2596A92B4()
{
  unint64_t result = qword_26A38FEB8;
  if (!qword_26A38FEB8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FEB8);
  }
  return result;
}

uint64_t sub_2596A9300()
{
  return sub_25936C308(&qword_26A38FEC0, &qword_26A38FEC8);
}

void *initializeBufferWithCopyOfBuffer for LLMConfiguration(uint64_t a1, uint64_t *a2, int *a3)
{
  uint64_t v4 = (void *)a1;
  int v5 = *(_DWORD *)(*((void *)a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v23 = *a2;
    *uint64_t v4 = *a2;
    uint64_t v4 = (void *)(v23 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    *(unsigned char *)a1 = *(unsigned char *)a2;
    *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 1);
    *(unsigned char *)(a1 + 24) = *((unsigned char *)a2 + 24);
    uint64_t v7 = a2[5];
    v4[4] = a2[4];
    v4[5] = v7;
    uint64_t v8 = a2[7];
    uint64_t v9 = a3[9];
    int v10 = (char *)v4 + v9;
    uint64_t v11 = (uint64_t)a2 + v9;
    v4[6] = a2[6];
    v4[7] = v8;
    sub_259843F00();
    sub_259843F00();
    uint64_t v12 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
    (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v12 - 8) + 16))(v10, v11, v12);
    uint64_t v13 = a3[10];
    uint64_t v14 = a3[11];
    uint64_t v15 = (void *)((char *)v4 + v13);
    uint64_t v16 = (uint64_t *)((char *)a2 + v13);
    uint64_t v17 = v16[1];
    *uint64_t v15 = *v16;
    v15[1] = v17;
    *(void *)((char *)v4 + v14) = *(uint64_t *)((char *)a2 + v14);
    uint64_t v18 = a3[13];
    *(void *)((char *)v4 + a3[12]) = *(uint64_t *)((char *)a2 + a3[12]);
    uint64_t v19 = (char *)v4 + v18;
    uint64_t v20 = (uint64_t)a2 + v18;
    uint64_t v21 = sub_259842940();
    unint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v21 - 8) + 16);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    v22(v19, v20, v21);
  }
  return v4;
}

uint64_t destroy for LLMConfiguration(uint64_t a1, uint64_t a2)
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v4 = a1 + *(int *)(a2 + 36);
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v5 - 8) + 8))(v4, v5);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v6 = a1 + *(int *)(a2 + 52);
  uint64_t v7 = sub_259842940();
  uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t))(*(void *)(v7 - 8) + 8);
  return v8(v6, v7);
}

uint64_t initializeWithCopy for LLMConfiguration(uint64_t a1, uint64_t a2, int *a3)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(unsigned char *)(a1 + 24) = *(unsigned char *)(a2 + 24);
  uint64_t v6 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v6;
  uint64_t v7 = *(void *)(a2 + 56);
  uint64_t v8 = a3[9];
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(void *)(a1 + 56) = v7;
  sub_259843F00();
  sub_259843F00();
  uint64_t v11 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 16))(v9, v10, v11);
  uint64_t v12 = a3[10];
  uint64_t v13 = a3[11];
  uint64_t v14 = (void *)(a1 + v12);
  uint64_t v15 = (void *)(a2 + v12);
  uint64_t v16 = v15[1];
  void *v14 = *v15;
  v14[1] = v16;
  *(void *)(a1 + v13) = *(void *)(a2 + v13);
  uint64_t v17 = a3[13];
  *(void *)(a1 + a3[12]) = *(void *)(a2 + a3[12]);
  uint64_t v18 = a1 + v17;
  uint64_t v19 = a2 + v17;
  uint64_t v20 = sub_259842940();
  uint64_t v21 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v20 - 8) + 16);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  v21(v18, v19, v20);
  return a1;
}

uint64_t assignWithCopy for LLMConfiguration(uint64_t a1, uint64_t a2, int *a3)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  *(unsigned char *)(a1 + 24) = *(unsigned char *)(a2 + 24);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(void *)(a1 + 56) = *(void *)(a2 + 56);
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v6 = a3[9];
  uint64_t v7 = a1 + v6;
  uint64_t v8 = a2 + v6;
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v9 - 8) + 24))(v7, v8, v9);
  uint64_t v10 = a3[10];
  uint64_t v11 = (void *)(a1 + v10);
  uint64_t v12 = (void *)(a2 + v10);
  *uint64_t v11 = *v12;
  v11[1] = v12[1];
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + a3[11]) = *(void *)(a2 + a3[11]);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + a3[12]) = *(void *)(a2 + a3[12]);
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v13 = a3[13];
  uint64_t v14 = a1 + v13;
  uint64_t v15 = a2 + v13;
  uint64_t v16 = sub_259842940();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 24))(v14, v15, v16);
  return a1;
}

uint64_t initializeWithTake for LLMConfiguration(uint64_t a1, uint64_t a2, int *a3)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(unsigned char *)(a1 + 24) = *(unsigned char *)(a2 + 24);
  long long v6 = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 48) = v6;
  uint64_t v7 = a3[9];
  uint64_t v8 = a1 + v7;
  uint64_t v9 = a2 + v7;
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 32))(v8, v9, v10);
  uint64_t v11 = a3[11];
  *(_OWORD *)(a1 + a3[10]) = *(_OWORD *)(a2 + a3[10]);
  *(void *)(a1 + v11) = *(void *)(a2 + v11);
  uint64_t v12 = a3[13];
  *(void *)(a1 + a3[12]) = *(void *)(a2 + a3[12]);
  uint64_t v13 = a1 + v12;
  uint64_t v14 = a2 + v12;
  uint64_t v15 = sub_259842940();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v15 - 8) + 32))(v13, v14, v15);
  return a1;
}

uint64_t assignWithTake for LLMConfiguration(uint64_t a1, uint64_t a2, int *a3)
{
  *(unsigned char *)a1 = *(unsigned char *)a2;
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);
  *(unsigned char *)(a1 + 24) = *(unsigned char *)(a2 + 24);
  uint64_t v6 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v6;
  swift_bridgeObjectRelease();
  uint64_t v7 = *(void *)(a2 + 56);
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(void *)(a1 + 56) = v7;
  swift_bridgeObjectRelease();
  uint64_t v8 = a3[9];
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 40))(v9, v10, v11);
  uint64_t v12 = a3[10];
  uint64_t v13 = (void *)(a1 + v12);
  uint64_t v14 = (uint64_t *)(a2 + v12);
  uint64_t v16 = *v14;
  uint64_t v15 = v14[1];
  *uint64_t v13 = v16;
  v13[1] = v15;
  swift_bridgeObjectRelease();
  *(void *)(a1 + a3[11]) = *(void *)(a2 + a3[11]);
  swift_bridgeObjectRelease();
  *(void *)(a1 + a3[12]) = *(void *)(a2 + a3[12]);
  swift_bridgeObjectRelease();
  uint64_t v17 = a3[13];
  uint64_t v18 = a1 + v17;
  uint64_t v19 = a2 + v17;
  uint64_t v20 = sub_259842940();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v20 - 8) + 40))(v18, v19, v20);
  return a1;
}

uint64_t getEnumTagSinglePayload for LLMConfiguration(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return MEMORY[0x270FA0340](a1, a2, a3, sub_2596A9B28);
}

uint64_t sub_2596A9B28(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2 == 0x7FFFFFFF) {
    return OUTLINED_FUNCTION_101(*(void *)(a1 + 40));
  }
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  OUTLINED_FUNCTION_46();
  if (*(_DWORD *)(v8 + 84) == a2)
  {
    uint64_t v9 = v7;
    uint64_t v10 = *(int *)(a3 + 36);
  }
  else
  {
    uint64_t v9 = sub_259842940();
    uint64_t v10 = *(int *)(a3 + 52);
  }
  return __swift_getEnumTagSinglePayload(a1 + v10, a2, v9);
}

uint64_t storeEnumTagSinglePayload for LLMConfiguration(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return MEMORY[0x270FA0580](a1, a2, a3, a4, sub_2596A9BE0);
}

void sub_2596A9BE0()
{
  OUTLINED_FUNCTION_197();
  if (v4)
  {
    *(void *)(v1 + 40) = (v0 - 1);
  }
  else
  {
    uint64_t v5 = v3;
    int v6 = v2;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
    OUTLINED_FUNCTION_46();
    if (*(_DWORD *)(v8 + 84) == v6)
    {
      uint64_t v9 = v7;
      uint64_t v10 = *(int *)(v5 + 36);
    }
    else
    {
      uint64_t v9 = sub_259842940();
      uint64_t v10 = *(int *)(v5 + 52);
    }
    __swift_storeEnumTagSinglePayload(v1 + v10, v0, v0, v9);
  }
}

void sub_2596A9C80()
{
  sub_2596A9D88();
  if (v0 <= 0x3F)
  {
    sub_259842940();
    if (v1 <= 0x3F) {
      swift_initStructMetadata();
    }
  }
}

void sub_2596A9D88()
{
  if (!qword_26B300210)
  {
    sub_259842C90();
    sub_2596AA648((unint64_t *)&unk_26B300218, MEMORY[0x263F561C0]);
    unint64_t v0 = sub_259842C80();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_26B300210);
    }
  }
}

unsigned char *storeEnumTagSinglePayload for LLMConfiguration.Version(unsigned char *result, int a2, int a3)
{
  if ((a3 + 1) >= 0x10000) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) < 0x100) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2)
  {
    switch(v5)
    {
      case 1:
        *unint64_t result = a2;
        return result;
      case 2:
        *(_WORD *)unint64_t result = a2;
        return result;
      case 3:
        goto LABEL_19;
      case 4:
        *(_DWORD *)unint64_t result = a2;
        return result;
      default:
        return result;
    }
  }
  switch(v5)
  {
    case 1:
      *unint64_t result = 0;
      break;
    case 2:
      *(_WORD *)unint64_t result = 0;
      break;
    case 3:
LABEL_19:
      __break(1u);
      JUMPOUT(0x2596A9EB8);
    case 4:
      *(_DWORD *)unint64_t result = 0;
      break;
    default:
      return result;
  }
  return result;
}

ValueMetadata *type metadata accessor for LLMConfiguration.Version()
{
  return &type metadata for LLMConfiguration.Version;
}

unsigned char *storeEnumTagSinglePayload for LLMConfiguration.ModelType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596A9FBCLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for LLMConfiguration.ModelType()
{
  return &type metadata for LLMConfiguration.ModelType;
}

uint64_t *initializeBufferWithCopyOfBuffer for LLMQUConfiguration(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  int v5 = *(_DWORD *)(*(void *)(a3 - 8) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v16 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v16 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    uint64_t v7 = a2[1];
    *a1 = *a2;
    a1[1] = v7;
    uint64_t v8 = *(int *)(a3 + 20);
    uint64_t v9 = (char *)a1 + v8;
    uint64_t v10 = (char *)a2 + v8;
    sub_259843F00();
    uint64_t v11 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v11 - 8) + 16))(v9, v10, v11);
    uint64_t v12 = *(int *)(a3 + 24);
    uint64_t v13 = (uint64_t *)((char *)a1 + v12);
    uint64_t v14 = (uint64_t *)((char *)a2 + v12);
    uint64_t v15 = v14[1];
    *uint64_t v13 = *v14;
    v13[1] = v15;
    sub_259843F00();
  }
  return a1;
}

uint64_t destroy for LLMQUConfiguration(uint64_t a1, uint64_t a2)
{
  swift_bridgeObjectRelease();
  uint64_t v4 = a1 + *(int *)(a2 + 20);
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v5 - 8) + 8))(v4, v5);
  return swift_bridgeObjectRelease();
}

void *initializeWithCopy for LLMQUConfiguration(void *a1, void *a2, uint64_t a3)
{
  uint64_t v6 = a2[1];
  *a1 = *a2;
  a1[1] = v6;
  uint64_t v7 = *(int *)(a3 + 20);
  uint64_t v8 = (char *)a1 + v7;
  uint64_t v9 = (char *)a2 + v7;
  sub_259843F00();
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v10 - 8) + 16))(v8, v9, v10);
  uint64_t v11 = *(int *)(a3 + 24);
  uint64_t v12 = (void *)((char *)a1 + v11);
  uint64_t v13 = (void *)((char *)a2 + v11);
  uint64_t v14 = v13[1];
  *uint64_t v12 = *v13;
  v12[1] = v14;
  sub_259843F00();
  return a1;
}

void *assignWithCopy for LLMQUConfiguration(void *a1, void *a2, uint64_t a3)
{
  *a1 = *a2;
  a1[1] = a2[1];
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v6 = *(int *)(a3 + 20);
  uint64_t v7 = (char *)a1 + v6;
  uint64_t v8 = (char *)a2 + v6;
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v9 - 8) + 24))(v7, v8, v9);
  uint64_t v10 = *(int *)(a3 + 24);
  uint64_t v11 = (void *)((char *)a1 + v10);
  uint64_t v12 = (void *)((char *)a2 + v10);
  *uint64_t v11 = *v12;
  v11[1] = v12[1];
  sub_259843F00();
  swift_bridgeObjectRelease();
  return a1;
}

_OWORD *initializeWithTake for LLMQUConfiguration(_OWORD *a1, _OWORD *a2, uint64_t a3)
{
  *a1 = *a2;
  uint64_t v6 = *(int *)(a3 + 20);
  uint64_t v7 = (char *)a1 + v6;
  uint64_t v8 = (char *)a2 + v6;
  uint64_t v9 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v9 - 8) + 32))(v7, v8, v9);
  *(_OWORD *)((char *)a1 + *(int *)(a3 + 24)) = *(_OWORD *)((char *)a2 + *(int *)(a3 + 24));
  return a1;
}

void *assignWithTake for LLMQUConfiguration(void *a1, void *a2, uint64_t a3)
{
  uint64_t v6 = a2[1];
  *a1 = *a2;
  a1[1] = v6;
  swift_bridgeObjectRelease();
  uint64_t v7 = *(int *)(a3 + 20);
  uint64_t v8 = (char *)a1 + v7;
  uint64_t v9 = (char *)a2 + v7;
  uint64_t v10 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  (*(void (**)(char *, char *, uint64_t))(*(void *)(v10 - 8) + 40))(v8, v9, v10);
  uint64_t v11 = *(int *)(a3 + 24);
  uint64_t v12 = (void *)((char *)a1 + v11);
  uint64_t v13 = (void *)((char *)a2 + v11);
  uint64_t v15 = *v13;
  uint64_t v14 = v13[1];
  *uint64_t v12 = v15;
  v12[1] = v14;
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t getEnumTagSinglePayload for LLMQUConfiguration(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return MEMORY[0x270FA0340](a1, a2, a3, sub_2596AA468);
}

uint64_t sub_2596AA468(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2 == 0x7FFFFFFF) {
    return OUTLINED_FUNCTION_101(*(void *)(a1 + 8));
  }
  uint64_t v7 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
  uint64_t v8 = a1 + *(int *)(a3 + 20);
  return __swift_getEnumTagSinglePayload(v8, a2, v7);
}

uint64_t storeEnumTagSinglePayload for LLMQUConfiguration(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return MEMORY[0x270FA0580](a1, a2, a3, a4, sub_2596AA4FC);
}

void sub_2596AA4FC()
{
  OUTLINED_FUNCTION_197();
  if (v3)
  {
    *(void *)(v1 + 8) = (v0 - 1);
  }
  else
  {
    uint64_t v4 = v2;
    uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B300208);
    uint64_t v6 = v1 + *(int *)(v4 + 20);
    __swift_storeEnumTagSinglePayload(v6, v0, v0, v5);
  }
}

void sub_2596AA574()
{
  sub_2596A9D88();
  if (v0 <= 0x3F) {
    swift_initStructMetadata();
  }
}

uint64_t type metadata accessor for LLMConfigurationProvider()
{
  return self;
}

uint64_t method lookup function for LLMConfigurationProvider(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for LLMConfigurationProvider);
}

uint64_t sub_2596AA648(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t static StoryGenerationUtilities.removeSpecialCharacters(from:)(uint64_t a1, uint64_t a2)
{
  sub_259842380();
  OUTLINED_FUNCTION_14_2();
  uint64_t v6 = v5;
  uint64_t v8 = MEMORY[0x270FA5388](v7);
  uint64_t v10 = (char *)v17 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v8);
  uint64_t v12 = (char *)v17 - v11;
  sub_259842300();
  v17[0] = a1;
  v17[1] = a2;
  sub_259842370();
  sub_259399328();
  uint64_t v13 = sub_259844E30();
  uint64_t v14 = *(void (**)(char *, uint64_t))(v6 + 8);
  v14(v10, v2);
  v17[0] = v13;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
  sub_25936C308(&qword_26A38A280, &qword_26B3001D0);
  uint64_t v15 = sub_259844020();
  swift_bridgeObjectRelease();
  v14(v12, v2);
  return v15;
}

unint64_t static StoryGenerationUtilities.substring(of:in:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unint64_t result = sub_2598442D0();
  if (v7) {
    return 0;
  }
  if (__OFADD__(a3, a4))
  {
    __break(1u);
    goto LABEL_11;
  }
  sub_2598442D0();
  if (v8) {
    return 0;
  }
  sub_259843F00();
  uint64_t v9 = sub_2598441E0();
  if (v10) {
    return 0;
  }
  unint64_t v11 = v9;
  sub_259843F00();
  unint64_t result = sub_2598441E0();
  if (v12) {
    return 0;
  }
  if (result >> 14 >= v11 >> 14)
  {
    uint64_t v13 = sub_259844330();
    uint64_t v14 = MEMORY[0x25A2DE9C0](v13);
    swift_bridgeObjectRelease();
    return v14;
  }
LABEL_11:
  __break(1u);
  return result;
}

uint64_t static StoryGenerationUtilities.capitalize(_:)(uint64_t a1, unint64_t a2)
{
  sub_259843F00();
  sub_2593504FC(1, a1);
  sub_259431FA0();
  uint64_t v4 = sub_259844E50();
  swift_bridgeObjectRelease();
  sub_259843F00();
  sub_259740C5C(1, a1, a2);
  sub_25947CAC4();
  sub_259843F00();
  sub_259844220();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v4;
}

uint64_t static StoryGenerationUtilities.removeRedundantWhiteSpaces(_:)()
{
  sub_259842380();
  OUTLINED_FUNCTION_14_2();
  uint64_t v3 = v2;
  MEMORY[0x270FA5388](v4);
  OUTLINED_FUNCTION_45_0();
  sub_259842330();
  sub_259399328();
  uint64_t v5 = sub_259844E30();
  uint64_t v6 = *(void (**)(uint64_t, uint64_t))(v3 + 8);
  uint64_t v20 = v0;
  v6(v1, v0);
  uint64_t v21 = MEMORY[0x263F8EE78];
  uint64_t v7 = *(void *)(v5 + 16);
  if (v7)
  {
    char v8 = (uint64_t *)(v5 + 40);
    do
    {
      uint64_t v9 = *(v8 - 1);
      uint64_t v10 = *v8;
      sub_259843F00();
      sub_259842330();
      uint64_t v11 = sub_259844E60();
      unint64_t v13 = v12;
      v6(v1, v20);
      swift_bridgeObjectRelease();
      uint64_t v14 = HIBYTE(v13) & 0xF;
      if ((v13 & 0x2000000000000000) == 0) {
        uint64_t v14 = v11 & 0xFFFFFFFFFFFFLL;
      }
      if (v14)
      {
        uint64_t v15 = v21;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_2594F08BC();
          uint64_t v15 = v21;
        }
        unint64_t v16 = *(void *)(v15 + 16);
        if (v16 >= *(void *)(v15 + 24) >> 1)
        {
          sub_2594F08BC();
          uint64_t v15 = v21;
        }
        *(void *)(v15 + 16) = v16 + 1;
        uint64_t v17 = v15 + 16 * v16;
        *(void *)(v17 + 32) = v9;
        *(void *)(v17 + 40) = v10;
      }
      else
      {
        swift_bridgeObjectRelease();
      }
      v8 += 2;
      --v7;
    }
    while (v7);
  }
  swift_bridgeObjectRelease();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
  sub_25936C308(&qword_26A38A280, &qword_26B3001D0);
  uint64_t v18 = sub_259844020();
  swift_release();
  return v18;
}

uint64_t static StoryGenerationUtilities.chunk<A, B>(items:chunkSize:processChunk:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t result = MEMORY[0x25A2DEE20](a1, a5);
  if (a2)
  {
    MEMORY[0x270FA5388](result);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FEF0);
    sub_25936C308((unint64_t *)&qword_26A38FEF8, &qword_26A38FEF0);
    return sub_259844370();
  }
  else
  {
    __break(1u);
  }
  return result;
}

uint64_t *sub_2596AADC8@<X0>(uint64_t *result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, void (*a4)(uint64_t, uint64_t, uint64_t, uint64_t)@<X3>, uint64_t a5@<X5>, uint64_t a6@<X6>, uint64_t a7@<X8>)
{
  uint64_t v7 = *result;
  uint64_t v8 = *result + a2;
  if (__OFADD__(*result, a2))
  {
    __break(1u);
  }
  else
  {
    uint64_t result = (uint64_t *)MEMORY[0x25A2DEE20](a3, a5);
    if ((uint64_t)result >= v8) {
      unint64_t v12 = (void *)v8;
    }
    else {
      unint64_t v12 = result;
    }
    if ((uint64_t)v12 >= v7)
    {
      sub_259844650();
      sub_259844F00();
      swift_getWitnessTable();
      uint64_t v13 = sub_259844640();
      a4(v13, v14, v15, v16);
      swift_bridgeObjectRelease();
      return (uint64_t *)__swift_storeEnumTagSinglePayload(a7, 0, 1, a6);
    }
  }
  __break(1u);
  return result;
}

uint64_t static StoryGenerationUtilities.sanitize(_:)()
{
  uint64_t v1 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A3893F0);
  MEMORY[0x270FA5388](v1 - 8);
  OUTLINED_FUNCTION_45_0();
  uint64_t v2 = sub_259842940();
  __swift_storeEnumTagSinglePayload(v0, 1, 1, v2);
  sub_259399328();
  uint64_t v3 = sub_259844EB0();
  sub_2596AB464(v0);
  return v3;
}

uint64_t static StoryGenerationUtilities.tokenize(_:)(uint64_t a1, uint64_t a2)
{
  uint64_t v6 = MEMORY[0x263F8EE78];
  id v4 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14040]), sel_initWithUnit_, 0);
  sub_2596AB40C(a1, a2, v4);
  sub_259844AA0();

  return v6;
}

uint64_t sub_2596AB080(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t *a6)
{
  uint64_t v7 = sub_259844330();
  uint64_t v8 = MEMORY[0x25A2DE9C0](v7);
  uint64_t v10 = v9;
  swift_bridgeObjectRelease();
  sub_25938464C();
  uint64_t v11 = *(void *)(*a6 + 16);
  sub_259384DEC();
  uint64_t v12 = *a6;
  *(void *)(v12 + 16) = v11 + 1;
  uint64_t v13 = v12 + 16 * v11;
  *(void *)(v13 + 32) = v8;
  *(void *)(v13 + 40) = v10;
  return 1;
}

uint64_t static StoryGenerationUtilities.removeStopwords(in:)(uint64_t a1, uint64_t a2)
{
  sub_2596AB4D0();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF08);
  uint64_t v4 = swift_allocObject();
  *(_OWORD *)(v4 + 16) = xmmword_259876920;
  uint64_t v5 = (void *)*MEMORY[0x263F13FA8];
  *(void *)(v4 + 32) = *MEMORY[0x263F13FA8];
  id v6 = v5;
  id v7 = sub_2596AB2AC();
  sub_2596AB40C(a1, a2, v7);
  uint64_t v18 = MEMORY[0x263F8EE78];
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF10);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_25987C430;
  uint64_t v9 = (void *)*MEMORY[0x263F13F30];
  uint64_t v10 = (void *)*MEMORY[0x263F13F40];
  *(void *)(inited + 32) = *MEMORY[0x263F13F30];
  *(void *)(inited + 40) = v10;
  uint64_t v11 = (void *)*MEMORY[0x263F13F68];
  uint64_t v12 = (void *)*MEMORY[0x263F13F80];
  *(void *)(inited + 48) = *MEMORY[0x263F13F68];
  *(void *)(inited + 56) = v12;
  id v13 = v9;
  id v14 = v10;
  id v15 = v11;
  id v16 = v12;
  sub_2593BCE78();
  sub_259844CE0();
  swift_bridgeObjectRelease();

  return v18;
}

id sub_2596AB2AC()
{
  id v0 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
  type metadata accessor for NLTagScheme(0);
  uint64_t v1 = (void *)sub_2598444E0();
  swift_bridgeObjectRelease();
  id v2 = objc_msgSend(v0, sel_initWithTagSchemes_, v1);

  return v2;
}

uint64_t sub_2596AB324(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t *a7)
{
  if (a1)
  {
    id v9 = a1;
    if ((sub_25973D964((uint64_t)v9, a4) & 1) == 0)
    {
      uint64_t v10 = sub_259844330();
      uint64_t v11 = MEMORY[0x25A2DE9C0](v10);
      uint64_t v13 = v12;
      swift_bridgeObjectRelease();
      sub_25938464C();
      uint64_t v14 = *(void *)(*a7 + 16);
      sub_259384DEC();
      uint64_t v15 = *a7;
      *(void *)(v15 + 16) = v14 + 1;
      uint64_t v16 = v15 + 16 * v14;
      *(void *)(v16 + 32) = v11;
      *(void *)(v16 + 40) = v13;
    }
  }
  return 1;
}

uint64_t *sub_2596AB3E8@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  return sub_2596AADC8(a1, *(void *)(v2 + 32), *(void *)(v2 + 40), *(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v2 + 48), *(void *)(v2 + 16), *(void *)(v2 + 24), a2);
}

void sub_2596AB40C(uint64_t a1, uint64_t a2, void *a3)
{
  id v4 = (id)sub_259844070();
  objc_msgSend(a3, sel_setString_, v4);
}

uint64_t sub_2596AB464(uint64_t a1)
{
  uint64_t v2 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A3893F0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_2596AB4C4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_2596AB080(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24), *(uint64_t **)(v3 + 32));
}

unint64_t sub_2596AB4D0()
{
  unint64_t result = qword_26A38FF00;
  if (!qword_26A38FF00)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_26A38FF00);
  }
  return result;
}

uint64_t sub_2596AB510(void *a1, uint64_t a2, uint64_t a3)
{
  return sub_2596AB324(a1, a2, a3, *(void *)(v3 + 16), *(void *)(v3 + 24), *(void *)(v3 + 32), *(uint64_t **)(v3 + 40));
}

uint64_t MomentBasedLocationAssetFetcherResult.init(retrievalResultsByQueryToken:locationAssetUUIDsToExclude:)@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, void *a3@<X8>)
{
  *a3 = result;
  a3[1] = a2;
  return result;
}

uint64_t MomentBasedLocationAssetFetcherResult.retrievalResultsByQueryToken.getter()
{
  return sub_259843F00();
}

uint64_t MomentBasedLocationAssetFetcherResult.locationAssetUUIDsToExclude.getter()
{
  return sub_259843F00();
}

uint64_t MomentBasedLocationAssetFetcherResult.description.getter()
{
  return 0;
}

uint64_t sub_2596AB658(uint64_t a1, uint64_t a2)
{
  if (a1 == 0xD00000000000001CLL && a2 == 0x800000025985F560 || (sub_259845750() & 1) != 0)
  {
    swift_bridgeObjectRelease();
    return 0;
  }
  else if (a1 == 0xD00000000000001BLL && a2 == 0x800000025985F580)
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  else
  {
    char v5 = sub_259845750();
    swift_bridgeObjectRelease();
    if (v5) {
      return 1;
    }
    else {
      return 2;
    }
  }
}

unint64_t sub_2596AB748(char a1)
{
  if (a1) {
    return 0xD00000000000001BLL;
  }
  else {
    return 0xD00000000000001CLL;
  }
}

unint64_t sub_2596AB780()
{
  return sub_2596AB748(*v0);
}

uint64_t sub_2596AB788@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, unsigned char *a3@<X8>)
{
  uint64_t result = sub_2596AB658(a1, a2);
  *a3 = result;
  return result;
}

uint64_t sub_2596AB7B0(uint64_t a1)
{
  unint64_t v2 = sub_2596AB9E0();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596AB7EC(uint64_t a1)
{
  unint64_t v2 = sub_2596AB9E0();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t MomentBasedLocationAssetFetcherResult.encode(to:)(void *a1)
{
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF18);
  OUTLINED_FUNCTION_87();
  uint64_t v6 = v5;
  MEMORY[0x270FA5388](v7);
  id v9 = (char *)&v12 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = *v1;
  uint64_t v12 = v1[1];
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  sub_2596AB9E0();
  sub_259845970();
  uint64_t v14 = v10;
  char v13 = 0;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38E688);
  sub_2596ABC5C((unint64_t *)&qword_26A38E690, (void (*)(void))sub_25959003C, (void (*)(void))sub_2595D81F4);
  OUTLINED_FUNCTION_11_2();
  if (!v2)
  {
    uint64_t v14 = v12;
    char v13 = 1;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83F0);
    sub_259498C08(&qword_26A38AF90);
    OUTLINED_FUNCTION_11_2();
  }
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v9, v4);
}

unint64_t sub_2596AB9E0()
{
  unint64_t result = qword_26A38FF20;
  if (!qword_26A38FF20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FF20);
  }
  return result;
}

uint64_t MomentBasedLocationAssetFetcherResult.init(from:)@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF28);
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v5);
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  sub_2596AB9E0();
  sub_259845960();
  if (v2) {
    return __swift_destroy_boxed_opaque_existential_1((uint64_t)a1);
  }
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38E688);
  sub_2596ABC5C(&qword_26A38FF30, (void (*)(void))sub_259590220, (void (*)(void))sub_259637900);
  OUTLINED_FUNCTION_2_67();
  sub_2598455D0();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83F0);
  sub_259498C08(&qword_26A38AF30);
  sub_259843F00();
  OUTLINED_FUNCTION_2_67();
  sub_2598455D0();
  uint64_t v6 = OUTLINED_FUNCTION_62();
  v7(v6);
  *a2 = v9;
  a2[1] = v9;
  sub_259843F00();
  __swift_destroy_boxed_opaque_existential_1((uint64_t)a1);
  swift_bridgeObjectRelease();
  return swift_bridgeObjectRelease();
}

uint64_t sub_2596ABC5C(unint64_t *a1, void (*a2)(void), void (*a3)(void))
{
  uint64_t result = *a1;
  if (!result)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38E688);
    a2();
    a3();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_2596ABCE8@<X0>(void *a1@<X0>, void *a2@<X8>)
{
  return MomentBasedLocationAssetFetcherResult.init(from:)(a1, a2);
}

uint64_t sub_2596ABD00(void *a1)
{
  return MomentBasedLocationAssetFetcherResult.encode(to:)(a1);
}

ValueMetadata *type metadata accessor for MomentBasedLocationAssetFetcherResult()
{
  return &type metadata for MomentBasedLocationAssetFetcherResult;
}

unsigned char *storeEnumTagSinglePayload for MomentBasedLocationAssetFetcherResult.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *uint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596ABDF4);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for MomentBasedLocationAssetFetcherResult.CodingKeys()
{
  return &type metadata for MomentBasedLocationAssetFetcherResult.CodingKeys;
}

unint64_t sub_2596ABE30()
{
  unint64_t result = qword_26A38FF38;
  if (!qword_26A38FF38)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FF38);
  }
  return result;
}

unint64_t sub_2596ABE80()
{
  unint64_t result = qword_26A38FF40;
  if (!qword_26A38FF40)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FF40);
  }
  return result;
}

unint64_t sub_2596ABED0()
{
  unint64_t result = qword_26A38FF48;
  if (!qword_26A38FF48)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FF48);
  }
  return result;
}

const char *PhotosFeatureFlags.domain.getter()
{
  return "Photos";
}

const char *PhotosFeatureFlags.feature.getter()
{
  unint64_t result = "Parmesan";
  switch(*v0)
  {
    case 1:
      unint64_t result = "Lemonade";
      break;
    case 2:
      unint64_t result = "MemoryCreation";
      break;
    case 3:
      unint64_t result = "GraphSearchEntityDonation";
      break;
    case 4:
      unint64_t result = "MemoryCreationQU";
      break;
    case 5:
      unint64_t result = "MemoryCreationAppleMusicSmartSearch";
      break;
    case 6:
      unint64_t result = "MemoryCreationTimeEventDisambiguation";
      break;
    default:
      return result;
  }
  return result;
}

BOOL static PhotosFeatureFlags.== infix(_:_:)(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return *a1 == *a2;
}

uint64_t PhotosFeatureFlags.hash(into:)()
{
  return sub_2598458C0();
}

uint64_t PhotosFeatureFlags.hashValue.getter()
{
  return sub_259845910();
}

unint64_t sub_2596AC078()
{
  unint64_t result = qword_26A38FF50;
  if (!qword_26A38FF50)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FF50);
  }
  return result;
}

const char *sub_2596AC0C4()
{
  return "Photos";
}

const char *sub_2596AC0D8()
{
  return PhotosFeatureFlags.feature.getter();
}

unsigned char *storeEnumTagSinglePayload for PhotosFeatureFlags(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 6 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 6) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFA) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF9)
  {
    unsigned int v6 = ((a2 - 250) >> 8) + 1;
    *unint64_t result = a2 + 6;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596AC1C0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 6;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for PhotosFeatureFlags()
{
  return &type metadata for PhotosFeatureFlags;
}

void static AssetClusteringUtilities.chunk<A>(array:into:)(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = MEMORY[0x25A2DEE20](a1, a3);
  if (a2)
  {
    MEMORY[0x270FA5388](v4);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FEF0);
    sub_259844630();
    sub_2596AC6F8();
    sub_2593F3C28();
  }
  else
  {
    __break(1u);
  }
}

void *static AssetClusteringUtilities.clipprintByAssetUUID(from:in:)(uint64_t a1, id a2)
{
  id v3 = objc_msgSend(a2, sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v4 = swift_allocObject();
  *(_OWORD *)(v4 + 16) = xmmword_259876900;
  *(void *)(v4 + 32) = sub_2598440A0();
  *(void *)(v4 + 40) = v5;
  *(void *)(v4 + 48) = sub_2598440A0();
  *(void *)(v4 + 56) = v6;
  *(void *)(v4 + 64) = sub_2598440A0();
  *(void *)(v4 + 72) = v7;
  sub_259473B70(v4, v3);
  uint64_t v8 = self;
  id v9 = v3;
  id v10 = sub_2593A2960(a1, (uint64_t)v3, v8);

  if (!v10)
  {
    uint64_t v14 = (void *)sub_259843EE0();
LABEL_23:

    return v14;
  }
  unint64_t v11 = (unint64_t)objc_msgSend(v10, sel_count);
  if ((v11 & 0x8000000000000000) != 0) {
    goto LABEL_27;
  }
  unint64_t v12 = v11;
  if (!v11)
  {

    uint64_t v14 = (void *)MEMORY[0x263F8EE80];
    goto LABEL_23;
  }
  id v35 = v9;
  uint64_t v13 = 0;
  uint64_t v14 = (void *)MEMORY[0x263F8EE80];
  uint64_t v15 = &selRef_interestingPersonsFromPersons_updateBlock_;
  id v36 = v10;
  while (v12 != v13)
  {
    uint64_t v16 = (void *)MEMORY[0x25A2E07B0]();
    id v17 = objc_msgSend(v10, v15[166], v13);
    uint64_t v18 = sub_2593A2A4C(v17);
    if (!v19) {
      goto LABEL_15;
    }
    uint64_t v20 = v18;
    uint64_t v21 = v19;
    sub_259701DC8();
    if (!v22)
    {
      swift_bridgeObjectRelease();
LABEL_15:

      goto LABEL_19;
    }
    int64_t v37 = v16;
    uint64_t v38 = v22;
    swift_isUniquelyReferenced_nonNull_native();
    unint64_t v23 = sub_25939CE90();
    if (__OFADD__(v14[2], (v24 & 1) == 0)) {
      goto LABEL_25;
    }
    unint64_t v25 = v23;
    char v26 = v24;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389A98);
    if (sub_259845350())
    {
      unint64_t v27 = sub_25939CE90();
      if ((v26 & 1) != (v28 & 1)) {
        goto LABEL_28;
      }
      unint64_t v25 = v27;
    }
    if (v26)
    {
      uint64_t v29 = v14[7];
      swift_bridgeObjectRelease();
      *(void *)(v29 + 8 * v25) = v38;
    }
    else
    {
      v14[(v25 >> 6) + 8] |= 1 << v25;
      uint64_t v30 = (uint64_t *)(v14[6] + 16 * v25);
      uint64_t *v30 = v20;
      v30[1] = v21;
      *(void *)(v14[7] + 8 * v25) = v38;
      uint64_t v31 = v14[2];
      BOOL v32 = __OFADD__(v31, 1);
      uint64_t v33 = v31 + 1;
      if (v32) {
        goto LABEL_26;
      }
      void v14[2] = v33;
      sub_259843F00();
    }

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    id v10 = v36;
    uint64_t v16 = v37;
    uint64_t v15 = &selRef_interestingPersonsFromPersons_updateBlock_;
LABEL_19:
    ++v13;
    if (v12 == v13)
    {

      id v9 = v35;
      goto LABEL_23;
    }
  }
  __break(1u);
LABEL_25:
  __break(1u);
LABEL_26:
  __break(1u);
LABEL_27:
  __break(1u);
LABEL_28:
  unint64_t result = (void *)sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_2596AC618@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X2>, uint64_t a3@<X3>, uint64_t *a4@<X8>)
{
  uint64_t result = *a1;
  if (__OFADD__(result, a2))
  {
    __break(1u);
  }
  else
  {
    if (result + a2 >= a3) {
      uint64_t v6 = a3;
    }
    else {
      uint64_t v6 = result + a2;
    }
    if (v6 >= result)
    {
      sub_259844650();
      sub_259844F00();
      swift_getWitnessTable();
      uint64_t result = sub_259844640();
      *a4 = result;
      return result;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_2596AC6D4@<X0>(uint64_t *a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_2596AC618(a1, *(void *)(v2 + 32), *(void *)(v2 + 40), a2);
}

unint64_t sub_2596AC6F8()
{
  unint64_t result = qword_26A38FEF8;
  if (!qword_26A38FEF8)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A38FEF0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FEF8);
  }
  return result;
}

ValueMetadata *type metadata accessor for AssetClusteringUtilities()
{
  return &type metadata for AssetClusteringUtilities;
}

uint64_t sub_2596AC75C(uint64_t result, uint64_t *a2, uint64_t a3)
{
  uint64_t v4 = result;
  uint64_t v5 = *(void *)(result + 16);
  if (v5)
  {
    unint64_t v7 = 0;
    uint64_t v8 = MEMORY[0x263F8EE78];
    uint64_t v9 = 32;
    while (v7 < *(void *)(v4 + 16))
    {
      memcpy(__dst, (const void *)(v4 + v9), sizeof(__dst));
      memcpy(__src, (const void *)(v4 + v9), 0x98uLL);
      sub_2594B698C((uint64_t)__dst);
      char v10 = sub_2596B91EC(__src, a2, a3);
      if (v3)
      {
        sub_2594B6A34((uint64_t)__dst);
        swift_release();
        swift_bridgeObjectRelease();
        swift_release();
        swift_bridgeObjectRelease();
        return v8;
      }
      if (v10)
      {
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        uint64_t v16 = v8;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          sub_2594F1AD0();
          uint64_t v8 = v16;
        }
        unint64_t v12 = *(void *)(v8 + 16);
        if (v12 >= *(void *)(v8 + 24) >> 1)
        {
          sub_2594F1AD0();
          uint64_t v8 = v16;
        }
        *(void *)(v8 + 16) = v12 + 1;
        unint64_t result = (uint64_t)memcpy((void *)(v8 + 152 * v12 + 32), __dst, 0x98uLL);
      }
      else
      {
        unint64_t result = sub_2594B6A34((uint64_t)__dst);
      }
      ++v7;
      v9 += 152;
      if (v5 == v7) {
        goto LABEL_15;
      }
    }
    __break(1u);
  }
  else
  {
    uint64_t v8 = MEMORY[0x263F8EE78];
LABEL_15:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
    return v8;
  }
  return result;
}

uint64_t sub_2596AC920(uint64_t result, uint64_t a2)
{
  uint64_t v3 = result;
  uint64_t v4 = *(void *)(result + 16);
  if (v4)
  {
    unint64_t v5 = 0;
    uint64_t v14 = (void *)(a2 + 40);
    uint64_t v15 = result + 32;
    uint64_t v6 = MEMORY[0x263F8EE78];
    while (v5 < *(void *)(v3 + 16))
    {
      unint64_t result = (uint64_t)memcpy(__dst, (const void *)(v15 + 152 * v5++), 0x98uLL);
      uint64_t v7 = *(void *)(a2 + 16);
      if (v7)
      {
        uint64_t v8 = __dst[0];
        uint64_t v9 = __dst[1];
        char v10 = v14;
        while (*(v10 - 1) != v8 || *v10 != v9)
        {
          unint64_t result = sub_259845750();
          if (result) {
            break;
          }
          v10 += 19;
          if (!--v7) {
            goto LABEL_18;
          }
        }
        sub_2594B698C((uint64_t)__dst);
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        uint64_t v17 = v6;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          sub_2594F1AD0();
          uint64_t v6 = v17;
        }
        unint64_t v13 = *(void *)(v6 + 16);
        if (v13 >= *(void *)(v6 + 24) >> 1)
        {
          sub_2594F1AD0();
          uint64_t v6 = v17;
        }
        *(void *)(v6 + 16) = v13 + 1;
        unint64_t result = (uint64_t)memcpy((void *)(v6 + 152 * v13 + 32), __dst, 0x98uLL);
      }
LABEL_18:
      if (v5 == v4) {
        goto LABEL_21;
      }
    }
    __break(1u);
  }
  else
  {
    uint64_t v6 = MEMORY[0x263F8EE78];
LABEL_21:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return v6;
  }
  return result;
}

uint64_t PromptSuggestionProvider.FetchOptions.rawValue.getter()
{
  return *(void *)v0;
}

PhotosIntelligence::PromptSuggestionProvider::FetchOptions __swiftcall PromptSuggestionProvider.FetchOptions.init(rawValue:)(PhotosIntelligence::PromptSuggestionProvider::FetchOptions rawValue)
{
  v1->rawValue = rawValue.rawValue;
  return rawValue;
}

void static PromptSuggestionProvider.FetchOptions.valid.getter(void *a1@<X8>)
{
}

void static PromptSuggestionProvider.FetchOptions.unused.getter(void *a1@<X8>)
{
}

void static PromptSuggestionProvider.FetchOptions.onlySmartSuggestions.getter(void *a1@<X8>)
{
}

void static PromptSuggestionProvider.FetchOptions.validatingPeopleUUIDs.getter(void *a1@<X8>)
{
}

void static PromptSuggestionProvider.FetchOptions.defaultOptions.getter(void *a1@<X8>)
{
}

PhotosIntelligence::PromptSuggestionProvider::FetchOptions sub_2596ACB08(Swift::Int *a1)
{
  return PromptSuggestionProvider.FetchOptions.init(rawValue:)(*a1);
}

uint64_t sub_2596ACB10()
{
  return sub_259844480();
}

uint64_t sub_2596ACB70()
{
  return sub_259844420();
}

uint64_t sub_2596ACBC0(void *a1)
{
  return sub_2593D4E64(*a1, *v1);
}

PhotosIntelligence::PromptSuggestionProvider::FetchOptions sub_2596ACBCC@<X0>(Swift::Int *a1@<X0>, uint64_t a2@<X8>)
{
  result.rawValue = PromptSuggestionProvider.FetchOptions.init(rawValue:)(*a1).rawValue;
  *(unsigned char *)(a2 + 8) = 0;
  return result;
}

uint64_t sub_2596ACBF8@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = PromptSuggestionProvider.FetchOptions.rawValue.getter();
  *a1 = result;
  return result;
}

uint64_t static PromptSuggestionProvider.defaultFetchLimit.getter()
{
  return 3;
}

uint64_t PromptSuggestionProvider.__allocating_init(photoLibrary:cache:searchSuggestionsDataSource:validator:embeddingDistanceThresholdForRanking:)(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, double a5)
{
  uint64_t v10 = swift_allocObject();
  PromptSuggestionProvider.init(photoLibrary:cache:searchSuggestionsDataSource:validator:embeddingDistanceThresholdForRanking:)(a1, a2, a3, a4, a5);
  return v10;
}

uint64_t PromptSuggestionProvider.init(photoLibrary:cache:searchSuggestionsDataSource:validator:embeddingDistanceThresholdForRanking:)(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, double a5)
{
  uint64_t v6 = v5;
  uint64_t v11 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v13 = v12;
  MEMORY[0x270FA5388](v14);
  OUTLINED_FUNCTION_233();
  uint64_t v17 = v16 - v15;
  sub_25935633C(0, (unint64_t *)&qword_26B300540);
  uint64_t v18 = (void *)sub_259844DA0();
  *(void *)(v5 + 16) = v18;
  uint64_t v19 = v5 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_lastContextRefreshDate;
  uint64_t v20 = sub_259842800();
  __swift_storeEnumTagSinglePayload(v19, 1, 1, v20);
  *(void *)(v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_photoLibrary) = a1;
  sub_259353FF0(a2, v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache);
  id v21 = a1;
  id v22 = v18;
  sub_259843A90();
  uint64_t v23 = v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v13 + 32))(v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger, v17, v11);
  sub_259353FF0(a3, v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_searchSuggestionsDataSource);
  sub_259353FF0(a4, v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_validator);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v13 + 16))(v17, v23, v11);
  id v24 = objc_allocWithZone((Class)type metadata accessor for PromptSuggestionValidationObservation(0));
  unint64_t v25 = sub_2596B9CB8(MEMORY[0x263F8EE78], v21, v17);
  __swift_destroy_boxed_opaque_existential_1(a4);
  __swift_destroy_boxed_opaque_existential_1(a3);
  __swift_destroy_boxed_opaque_existential_1(a2);
  *(void *)(v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_suggestionLibraryObservation) = v25;
  *(double *)(v6 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking) = a5;
  return v6;
}

uint64_t type metadata accessor for PromptSuggestionValidationObservation(uint64_t a1)
{
  return sub_25938CAE0(a1, (uint64_t *)&unk_26A3900B0);
}

uint64_t PromptSuggestionProvider.__allocating_init(photoLibrary:)(void *a1)
{
  uint64_t v3 = type metadata accessor for PromptSuggestionCache(0);
  uint64_t v4 = swift_allocObject();
  id v5 = a1;
  uint64_t v6 = v4;
  PromptSuggestionCache.init(photoLibrary:)();
  if (v1)
  {
  }
  else
  {
    v18[3] = v3;
    v18[4] = &protocol witness table for PromptSuggestionCache;
    v18[0] = v7;
    uint64_t v8 = type metadata accessor for PromptSuggestionSearchDataSource();
    swift_allocObject();
    id v9 = v5;
    v17[3] = v8;
    v17[4] = &protocol witness table for PromptSuggestionSearchDataSource;
    v17[0] = PromptSuggestionSearchDataSource.init(photoLibrary:)((uint64_t)v9);
    uint64_t v10 = type metadata accessor for PromptSuggestionSearchValidator();
    uint64_t v16 = 0;
    long long v14 = 0u;
    long long v15 = 0u;
    id v11 = v9;
    uint64_t v12 = PromptSuggestionSearchValidator.__allocating_init(photoLibrary:momentBasedGroundingAndAssetsProvider:maxAssetFetchCount:)((uint64_t)v11, (uint64_t)&v14, 50);
    *((void *)&v15 + 1) = v10;
    uint64_t v16 = &protocol witness table for PromptSuggestionSearchValidator;
    *(void *)&long long v14 = v12;
    uint64_t v6 = swift_allocObject();
    PromptSuggestionProvider.init(photoLibrary:cache:searchSuggestionsDataSource:validator:embeddingDistanceThresholdForRanking:)(v11, (uint64_t)v18, (uint64_t)v17, (uint64_t)&v14, 0.0);
  }
  return v6;
}

uint64_t PromptSuggestionProvider.fetchSuggestionsToDisplay(fetchOptions:maxSuggestionResults:)()
{
  OUTLINED_FUNCTION_14();
  uint64_t v3 = v2;
  v1[308] = v0;
  v1[307] = v4;
  uint64_t v5 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF98);
  v1[309] = v5;
  OUTLINED_FUNCTION_129(v5);
  v1[310] = OUTLINED_FUNCTION_49_1();
  v1[311] = swift_task_alloc();
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  OUTLINED_FUNCTION_129(v6);
  v1[312] = OUTLINED_FUNCTION_49_1();
  v1[313] = swift_task_alloc();
  uint64_t v7 = sub_259843B30();
  v1[314] = v7;
  OUTLINED_FUNCTION_1(v7);
  v1[315] = v8;
  v1[316] = swift_task_alloc();
  v1[317] = *v3;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596AD154()
{
  uint64_t v1 = *(uint64_t **)(v0 + 2528);
  uint64_t v2 = *(void *)(v0 + 2520);
  uint64_t v3 = *(void *)(v0 + 2512);
  sub_25935633C(0, (unint64_t *)&qword_26B2FFBF0);
  *uint64_t v1 = sub_259844BE0();
  (*(void (**)(uint64_t *, void, uint64_t))(v2 + 104))(v1, *MEMORY[0x263F8F0D8], v3);
  char v4 = sub_259843B50();
  uint64_t v5 = OUTLINED_FUNCTION_274_0();
  uint64_t result = v6(v5);
  if (v4)
  {
    uint64_t v8 = *(void *)(v0 + 2488);
    uint64_t v9 = *(void *)(v0 + 2472);
    uint64_t v10 = *(void *)(v0 + 2464);
    uint64_t v11 = *(void **)(v10 + 16);
    type metadata accessor for PerformanceMeasure();
    OUTLINED_FUNCTION_102();
    id v12 = v11;
    uint64_t v13 = PerformanceMeasure.init(name:log:)();
    uint64_t v14 = MEMORY[0x263F8EE78];
    *(void *)(v0 + 2544) = v13;
    *(void *)(v0 + 2216) = v14;
    long long v15 = *(void **)(v10 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_photoLibrary);
    type metadata accessor for PromptSuggestionStatistics();
    OUTLINED_FUNCTION_102();
    *(void *)(v0 + 2552) = PromptSuggestionStatistics.init(photoLibrary:)((uint64_t)v15);
    uint64_t v16 = *(int *)(v9 + 48);
    *(_DWORD *)(v0 + 2800) = v16;
    uint64_t v17 = v8 + v16;
    uint64_t v18 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache;
    *(void *)(v0 + 2560) = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache;
    uint64_t v19 = (void *)(v10 + v18);
    uint64_t v20 = *(void *)(v10 + v18 + 24);
    uint64_t v21 = v19[4];
    __swift_project_boxed_opaque_existential_1(v19, v20);
    unint64_t v25 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))(*(void *)(v21 + 8) + **(int **)(v21 + 8));
    id v22 = v15;
    swift_task_alloc();
    OUTLINED_FUNCTION_53_0();
    *(void *)(v0 + 2568) = v23;
    *uint64_t v23 = v24;
    v23[1] = sub_2596AD380;
    return v25(v17, v20, v21);
  }
  else
  {
    __break(1u);
  }
  return result;
}

uint64_t sub_2596AD380()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v7 = v6;
  OUTLINED_FUNCTION_0_2();
  uint64_t v9 = v8;
  OUTLINED_FUNCTION_9();
  *uint64_t v10 = v9;
  uint64_t v11 = *v1;
  OUTLINED_FUNCTION_9();
  *id v12 = v11;
  *(void *)(v9 + 2576) = v0;
  swift_task_dealloc();
  if (!v0)
  {
    uint64_t v13 = *(void *)(v9 + 2472);
    *(void *)(v9 + 2584) = v5;
    *(void *)(v9 + 2592) = v3;
    *(void *)(v9 + 2600) = v7;
    *(_DWORD *)(v9 + 2804) = *(_DWORD *)(v13 + 64);
    *(_DWORD *)(v9 + 2808) = *(_DWORD *)(v13 + 80);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v14, v15, v16);
}

uint64_t sub_2596AD4A0()
{
  uint64_t v278 = v0;
  uint64_t v4 = *(int *)(v0 + 2808);
  uint64_t v261 = v4;
  uint64_t v5 = *(int *)(v0 + 2804);
  uint64_t v274 = v5;
  uint64_t v6 = *(void *)(v0 + 2600);
  uint64_t v7 = *(void *)(v0 + 2592);
  uint64_t v8 = *(void *)(v0 + 2584);
  uint64_t v9 = *(int *)(v0 + 2800);
  os_log_t logc = *(os_log_t *)(v0 + 2504);
  uint64_t v10 = *(uint64_t **)(v0 + 2488);
  uint64_t v11 = *(uint64_t **)(v0 + 2480);
  id v12 = *(int **)(v0 + 2472);
  uint64_t v268 = *(void *)(v0 + 2464) + *(void *)(v0 + 2560);
  *uint64_t v10 = v6;
  *(uint64_t *)((char *)v10 + v5) = v7;
  *(uint64_t *)((char *)v10 + v4) = v8;
  uint64_t v13 = (uint64_t)v10 + v9;
  OUTLINED_FUNCTION_151_5();
  *uint64_t v11 = v6;
  sub_259407484(v13, v1);
  *(uint64_t *)((char *)v11 + v2) = v7;
  *(uint64_t *)((char *)v11 + v3) = v8;
  sub_259843F00();
  sub_25966DE0C(v1, (uint64_t *)&unk_26B2F8390);
  OUTLINED_FUNCTION_151_5();
  uint64_t v14 = *v10;
  *uint64_t v11 = *v10;
  sub_259407484(v13, v1);
  *(uint64_t *)((char *)v11 + v2) = *(uint64_t *)((char *)v10 + v274);
  *(uint64_t *)((char *)v11 + v3) = *(uint64_t *)((char *)v10 + v261);
  *(void *)(v0 + 2216) = v14;
  sub_259843F00();
  swift_bridgeObjectRelease();
  sub_25966DE0C(v1, (uint64_t *)&unk_26B2F8390);
  uint64_t v15 = (uint64_t)v11 + v12[12];
  uint64_t v16 = *v10;
  uint64_t v17 = v13;
  sub_259407484(v13, v15);
  uint64_t v18 = *(uint64_t *)((char *)v10 + v274);
  *(void *)(v0 + 2608) = v18;
  uint64_t v19 = *(uint64_t *)((char *)v10 + v261);
  sub_2594074EC(v15, (uint64_t)logc);
  uint64_t v20 = (uint64_t)v11 + v12[12];
  uint64_t v21 = v12[16];
  uint64_t v22 = v12[20];
  *uint64_t v11 = v16;
  sub_259407484(v17, v20);
  *(uint64_t *)((char *)v11 + v21) = v18;
  *(uint64_t *)((char *)v11 + v22) = v19;
  sub_25966DE0C(v20, (uint64_t *)&unk_26B2F8390);
  sub_259353FF0(v268, v0 + 1880);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FFB8);
  type metadata accessor for PromptSuggestionCache(0);
  if (swift_dynamicCast())
  {
    *(void *)(v0 + 2616) = *(void *)(v0 + 2408);
LABEL_161:
    OUTLINED_FUNCTION_71_0();
    return MEMORY[0x270FA2498](v210, v211, v212);
  }
  uint64_t v23 = *(void *)(v0 + 2464);
  uint64_t v24 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  uint64_t v25 = v0;
  uint64_t v275 = v0;
  if (*(double *)(v23
                 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking) == 0.0)
  {
    uint64_t v26 = *(int *)(v0 + 2808);
    uint64_t v27 = *(int *)(v25 + 2804);
    uint64_t v28 = *(void *)(v25 + 2488);
    uint64_t v29 = *(void *)(v25 + 2480);
    uint64_t v30 = v29 + *(int *)(*(void *)(v25 + 2472) + 48);
    OUTLINED_FUNCTION_104_10(v28 + *(int *)(v25 + 2800));
    *(void *)(v29 + v23) = *(void *)(v28 + v27);
    uint64_t v31 = *(void *)(v28 + v26);
    *(void *)(v29 + v21) = v31;
    *(void *)(v23 + v24) = v31;
    uint64_t v25 = v275;
    sub_25966DE0C(v30, (uint64_t *)&unk_26B2F8390);
  }
  uint64_t v271 = v24;
  BOOL v32 = &qword_26A38F000;
  swift_retain_n();
  uint64_t v33 = sub_259843A50();
  os_log_type_t v34 = sub_259844B70();
  uint64_t v269 = (uint64_t *)(v25 + 2216);
  if (os_log_type_enabled(v33, v34))
  {
    os_log_type_t v255 = v34;
    uint64_t v260 = v23;
    uint64_t v35 = OUTLINED_FUNCTION_20();
    v277[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v35 = 134218499;
    OUTLINED_FUNCTION_28();
    uint64_t v36 = *(void *)(v25 + 2216);
    OUTLINED_FUNCTION_204_8();
    sub_259844E10();
    uint64_t v259 = v35;
    *(_WORD *)(v35 + 12) = 2081;
    uint64_t v37 = *(void *)(v36 + 16);
    uint64_t v38 = MEMORY[0x263F8EE78];
    os_log_type_t log = v33;
    if (v37)
    {
      uint64_t v39 = (void *)(v25 + 776);
      v276[0] = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_22_0();
      uint64_t v38 = v276[0];
      uint64_t v40 = v37 - 1;
      for (uint64_t i = 32; ; i += 152)
      {
        memcpy(v39, (const void *)(v36 + i), 0x98uLL);
        uint64_t v42 = *(void **)(v25 + 920);
        sub_2594B698C((uint64_t)v39);
        sub_2594B698C((uint64_t)v39);
        id v43 = objc_msgSend(v42, sel_string);
        uint64_t v44 = sub_2598440A0();
        uint64_t v46 = v45;

        sub_2594B6A34((uint64_t)v39);
        sub_2594B6A34((uint64_t)v39);
        OUTLINED_FUNCTION_203_5();
        if (v47)
        {
          OUTLINED_FUNCTION_35_32();
          uint64_t v38 = v276[0];
        }
        *(void *)(v38 + 16) = v33;
        uint64_t v48 = v38 + 16 * (void)&qword_26A38F000;
        *(void *)(v48 + 32) = v44;
        *(void *)(v48 + 40) = v46;
        if (!v40) {
          break;
        }
        --v40;
        uint64_t v25 = v275;
      }
      swift_bridgeObjectRelease();
      uint64_t v25 = v275;
      BOOL v32 = &qword_26A38F000;
    }
    uint64_t v50 = v271;
    uint64_t v272 = *(void *)(v25 + 2488);
    uint64_t v51 = MEMORY[0x25A2DED80](v38, MEMORY[0x263F8D310]);
    unint64_t v53 = v52;
    swift_bridgeObjectRelease();
    *(void *)(v25 + 2440) = sub_259356D5C(v51, v53, v277);
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v259 + 22) = 2080;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v54 = OUTLINED_FUNCTION_4_1();
    *(_OWORD *)(v54 + 16) = xmmword_259876920;
    uint64_t v55 = *(void *)(v260 + v50);
    *(void *)(v54 + 56) = MEMORY[0x263F8D538];
    *(void *)(v54 + 64) = MEMORY[0x263F8D5B8];
    *(void *)(v54 + 32) = v55;
    uint64_t v56 = OUTLINED_FUNCTION_9_14();
    *(void *)(v25 + 2448) = sub_259356D5C(v56, v57, v277);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_release_n();
    _os_log_impl(&dword_25934C000, log, v255, "Fetched %ld prompt suggestion candidates from cache:\n %{private}s\n\nCurrent embeddingDistanceThreshold: %s", (uint8_t *)v259, 0x20u);
    OUTLINED_FUNCTION_80_13();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    sub_25966DE0C(v272, &qword_26A38FF98);
  }
  else
  {
    uint64_t v49 = *(void *)(v25 + 2488);
    swift_release_n();

    sub_25966DE0C(v49, &qword_26A38FF98);
  }
  uint64_t v273 = *(void *)(v25 + 2600);
  *(void *)(v25 + 2624) = v273;
  uint64_t v58 = *(void *)(v25 + 2552);
  uint64_t v59 = *(void *)(v25 + 2504);
  uint64_t v60 = *(void *)(v25 + 2496);
  *(void *)(v25 + 2632) = OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_uiSuggestionStatistics;
  OUTLINED_FUNCTION_57();
  swift_retain();
  uint64_t v61 = sub_259843F00();
  sub_2595AAA08(v61);
  swift_bridgeObjectRelease();
  swift_release();
  sub_259407484(v59, v60);
  uint64_t v62 = v58 + OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_lastRefreshDate;
  OUTLINED_FUNCTION_17_1();
  sub_2594FB874(v60, v62);
  swift_endAccess();
  v276[0] = 0;
  v276[1] = 0;
  sub_2595A8FA0(v276);
  sub_2596B61DC();
  uint64_t v63 = *(void *)(v25 + 2216);
  uint64_t v64 = *(void *)(v63 + 16);
  if (v64)
  {
    uint64_t v65 = v25 + 472;
    uint64_t v66 = sub_259843F00();
    uint64_t v67 = v64 - 1;
    uint64_t v68 = MEMORY[0x263F8EE78];
    for (uint64_t j = 32; ; j += 152)
    {
      uint64_t v66 = (uint64_t)OUTLINED_FUNCTION_71_16(v66, (const void *)(v63 + j));
      if (*(unsigned __int8 *)(v25 + 489) >= 2u && *(unsigned char *)(v25 + 488) == 1)
      {
        sub_2594B698C(v65);
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        v276[0] = v68;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          OUTLINED_FUNCTION_10_43();
          uint64_t v25 = v275;
          uint64_t v68 = v276[0];
        }
        unint64_t v72 = *(void *)(v68 + 16);
        if (v72 >= *(void *)(v68 + 24) >> 1)
        {
          OUTLINED_FUNCTION_140_8();
          uint64_t v25 = v275;
          uint64_t v68 = v276[0];
        }
        *(void *)(v68 + 16) = v72 + 1;
        uint64_t v66 = (uint64_t)OUTLINED_FUNCTION_41_27(v68 + 152 * v72);
      }
      if (!v67) {
        break;
      }
      --v67;
    }
    swift_bridgeObjectRelease();
    BOOL v32 = &qword_26A38F000;
  }
  else
  {
    uint64_t v68 = MEMORY[0x263F8EE78];
  }
  uint64_t v73 = *(void *)(v25 + 2464);
  uint64_t v74 = v32[493];
  *(void *)(v25 + 2640) = v74;
  uint64_t v75 = v73 + v74;
  swift_retain_n();
  uint64_t v76 = sub_259843A50();
  os_log_type_t v77 = sub_259844B70();
  if (os_log_type_enabled(v76, v77))
  {
    uint64_t v78 = OUTLINED_FUNCTION_21_0();
    v277[0] = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v78 = 134218243;
    uint64_t v79 = *(void *)(v68 + 16);
    *(void *)(v25 + 2368) = v79;
    sub_259844E10();
    swift_release();
    *(_WORD *)(v78 + 12) = 2081;
    uint64_t v80 = MEMORY[0x263F8EE78];
    if (v79)
    {
      os_log_type_t v251 = v77;
      uint64_t v253 = v78;
      uint64_t v256 = v76;
      uint64_t v81 = (void *)(v25 + 1232);
      OUTLINED_FUNCTION_72_15();
      sub_2594F08BC();
      uint64_t v80 = v276[0];
      uint64_t v82 = v68 + 32;
      do
      {
        OUTLINED_FUNCTION_150_7(v81);
        uint64_t v83 = *(void **)(v275 + 1376);
        sub_2594B698C((uint64_t)v81);
        sub_2594B698C((uint64_t)v81);
        id v84 = objc_msgSend(v83, sel_string);
        uint64_t v85 = sub_2598440A0();
        uint64_t v87 = v86;

        sub_2594B6A34((uint64_t)v81);
        sub_2594B6A34((uint64_t)v81);
        v276[0] = v80;
        unint64_t v88 = *(void *)(v80 + 16);
        if (v88 >= *(void *)(v80 + 24) >> 1)
        {
          sub_2594F08BC();
          uint64_t v80 = v276[0];
        }
        *(void *)(v80 + 16) = v88 + 1;
        uint64_t v89 = v80 + 16 * v88;
        *(void *)(v89 + 32) = v85;
        *(void *)(v89 + 40) = v87;
        v82 += 152;
        --v79;
      }
      while (v79);
      uint64_t v78 = v253;
      uint64_t v76 = v256;
      os_log_type_t v77 = v251;
    }
    MEMORY[0x25A2DED80](v80, MEMORY[0x263F8D310]);
    uint64_t v90 = OUTLINED_FUNCTION_73_12();
    uint64_t v25 = v275;
    *(void *)(v275 + 2384) = OUTLINED_FUNCTION_160_6(v90, v91, v277);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_release_n();
    _os_log_impl(&dword_25934C000, v76, v77, "Used smart suggestions from cache (N= %ld\n %{private}s\n", (uint8_t *)v78, 0x16u);
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_release_n();
  }
  uint64_t v92 = *(void *)(v25 + 2536);
  if (v92)
  {
    unint64_t v93 = v269;
    uint64_t v94 = *v269;
    uint64_t v95 = *(void *)(*v269 + 16);
    if (v95)
    {
      sub_259843F00();
      uint64_t v96 = v95 - 1;
      uint64_t v97 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_14_29();
      while (1)
      {
        unint64_t v98 = OUTLINED_FUNCTION_71_16((uint64_t)v98, (const void *)(v94 + v25));
        if (*(unsigned char *)(v275 + 1744) == 1)
        {
          sub_2594B698C(v275 + 1688);
          char v99 = swift_isUniquelyReferenced_nonNull_native();
          v276[0] = v97;
          if ((v99 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v97 = v276[0];
          }
          unint64_t v100 = *(void *)(v97 + 16);
          if (v100 >= *(void *)(v97 + 24) >> 1)
          {
            OUTLINED_FUNCTION_140_8();
            uint64_t v97 = v276[0];
          }
          *(void *)(v97 + 16) = v100 + 1;
          unint64_t v98 = OUTLINED_FUNCTION_41_27(v97 + v100 * v75);
        }
        if (!v96) {
          break;
        }
        --v96;
        v25 += 152;
      }
      swift_bridgeObjectRelease();
      unint64_t v93 = v269;
    }
    else
    {
      uint64_t v97 = MEMORY[0x263F8EE78];
    }
    uint64_t *v93 = v97;
    swift_bridgeObjectRelease();
    uint64_t v101 = (void *)sub_259843A50();
    os_log_type_t v102 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v102))
    {
      os_log_type_t v103 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_53_18(v103, 3.852e-34);
      *(void *)(v275 + 2360) = *(void *)(*v269 + 16);
      sub_259844E10();
      OUTLINED_FUNCTION_17_37(&dword_25934C000, v104, v105, "Valid suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v25 = v275;
    uint64_t v92 = *(void *)(v275 + 2536);
  }
  uint64_t v106 = *(void *)(v25 + 2216);
  uint64_t v107 = *(void *)(v106 + 16);
  *(void *)(v25 + 2648) = v107;
  if ((v92 & 2) != 0)
  {
    if (v107)
    {
      uint64_t v108 = (void *)(v275 + 1384);
      sub_259843F00();
      uint64_t v109 = v107 - 1;
      uint64_t v110 = v275;
      uint64_t v111 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_14_29();
      while (1)
      {
        memcpy(v108, (const void *)(v106 + v25), 0x98uLL);
        if (*(unsigned __int8 *)(v110 + 1401) <= 1u)
        {
          sub_2594B698C((uint64_t)v108);
          char v112 = swift_isUniquelyReferenced_nonNull_native();
          v276[0] = v111;
          if ((v112 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v110 = v275;
            uint64_t v111 = v276[0];
          }
          unint64_t v113 = *(void *)(v111 + 16);
          if (v113 >= *(void *)(v111 + 24) >> 1)
          {
            OUTLINED_FUNCTION_138_6();
            uint64_t v110 = v275;
            uint64_t v111 = v276[0];
          }
          *(void *)(v111 + 16) = v113 + 1;
          memcpy((void *)(v111 + v113 * v75 + 32), v108, 0x98uLL);
        }
        if (!v109) {
          break;
        }
        OUTLINED_FUNCTION_197_6();
      }
      swift_bridgeObjectRelease();
      uint64_t v114 = v269;
      uint64_t v106 = *v269;
    }
    else
    {
      uint64_t v111 = MEMORY[0x263F8EE78];
      uint64_t v114 = v269;
    }
    *uint64_t v114 = v111;
    swift_bridgeObjectRelease();
    uint64_t v115 = sub_259843A50();
    os_log_type_t v116 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v116))
    {
      uint64_t v117 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_53_18(v117, 3.852e-34);
      uint64_t v111 = *(void *)(v275 + 2216);
      *(void *)(v275 + 2344) = *(void *)(v111 + 16);
      sub_259844E10();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v115, (os_log_type_t)v106, "Unused suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v92 = *(void *)(v275 + 2536);
    uint64_t v106 = v111;
  }
  if ((v92 & 4) != 0)
  {
    uint64_t v118 = *(void *)(v106 + 16);
    if (v118)
    {
      BOOL v119 = (void *)(v275 + 1080);
      sub_259843F00();
      uint64_t v120 = v118 - 1;
      uint64_t v121 = v275;
      uint64_t v122 = MEMORY[0x263F8EE78];
      for (uint64_t k = 32; ; k += 152)
      {
        memcpy(v119, (const void *)(v106 + k), 0x98uLL);
        if (*(unsigned char *)(v121 + 1096) == 1)
        {
          sub_2594B698C((uint64_t)v119);
          char v124 = swift_isUniquelyReferenced_nonNull_native();
          v276[0] = v122;
          if ((v124 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v121 = v275;
            uint64_t v122 = v276[0];
          }
          unint64_t v126 = *(void *)(v122 + 16);
          unint64_t v125 = *(void *)(v122 + 24);
          if (v126 >= v125 >> 1)
          {
            OUTLINED_FUNCTION_137_8(v125);
            sub_2594F1AD0();
            uint64_t v121 = v275;
            uint64_t v122 = v276[0];
          }
          *(void *)(v122 + 16) = v126 + 1;
          OUTLINED_FUNCTION_150_7((void *)(v122 + 152 * v126 + 32));
        }
        if (!v120) {
          break;
        }
        --v120;
      }
      swift_bridgeObjectRelease();
      uint64_t v127 = v269;
    }
    else
    {
      uint64_t v122 = MEMORY[0x263F8EE78];
      uint64_t v127 = v269;
    }
    uint64_t *v127 = v122;
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v128 = sub_259843A50();
    os_log_type_t v129 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v129))
    {
      uint64_t v130 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_53_18(v130, 3.852e-34);
      *(void *)(v275 + 2328) = *(void *)(v122 + 16);
      sub_259844E10();
      swift_release();
      OUTLINED_FUNCTION_132_8(&dword_25934C000, v128, (os_log_type_t)v106, "Only smart suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
    }
  }
  type metadata accessor for PromptSuggestionRanker();
  OUTLINED_FUNCTION_102();
  *(void *)(v275 + 2656) = PromptSuggestionRanker.init()();
  uint64_t v131 = sub_259843F00();
  uint64_t v132 = PromptSuggestionRanker.dedupe(suggestions:)(v131);
  swift_bridgeObjectRelease();
  sub_259843F00();
  uint64_t v133 = (void *)sub_259843A50();
  os_log_type_t v134 = sub_259844B30();
  if (OUTLINED_FUNCTION_1_0(v134))
  {
    uint64_t v135 = (float *)OUTLINED_FUNCTION_54();
    OUTLINED_FUNCTION_178_8(v135, 3.852e-34);
    *(void *)(v275 + 2312) = v136;
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_170_9();
    OUTLINED_FUNCTION_132_8(v137, v138, v139, v140);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v141 = *(void *)(v275 + 2536);

  swift_retain();
  uint64_t v142 = sub_259843F00();
  sub_2595A9858(v142);
  swift_release();
  if ((v141 & 8) != 0)
  {
    PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v132);
    uint64_t v143 = v144;
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v145 = sub_259843A50();
    os_log_type_t v146 = sub_259844B30();
    if (OUTLINED_FUNCTION_30_1(v146))
    {
      uint64_t v147 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_178_8(v147, 3.852e-34);
      *(void *)(v275 + 2304) = v148;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v145, (os_log_type_t)v132, "Prompt suggestions with verified people suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    sub_259843F00();
    swift_retain();
    sub_2595A9864(v143);
    swift_release();
  }
  else
  {
    uint64_t v143 = v132;
  }
  *(void *)(v275 + 2664) = v143;
  swift_retain();
  uint64_t v149 = sub_259843F00();
  sub_2595A9870(v149);
  swift_release();
  OUTLINED_FUNCTION_6_19();
  unint64_t v150 = sub_259843A50();
  unint64_t v151 = sub_259844B70();
  if (os_log_type_enabled(v150, (os_log_type_t)v151))
  {
    uint64_t v152 = (uint8_t *)OUTLINED_FUNCTION_54();
    v277[0] = OUTLINED_FUNCTION_20();
    char v249 = v152;
    *(_DWORD *)uint64_t v152 = 136380675;
    uint64_t v153 = *(void *)(v143 + 16);
    uint64_t v154 = MEMORY[0x263F8EE78];
    uint64_t v258 = v150;
    os_log_type_t v257 = v151;
    if (v153)
    {
      unint64_t v155 = (void *)(v275 + 624);
      v276[0] = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_58_19();
      uint64_t v154 = v276[0];
      uint64_t v156 = v153 - 1;
      for (uint64_t m = 32; ; m += 152)
      {
        memcpy(v155, (const void *)(v143 + m), 0x98uLL);
        uint64_t v158 = *(void **)(v275 + 768);
        sub_2594B698C((uint64_t)v155);
        sub_2594B698C((uint64_t)v155);
        id v159 = objc_msgSend(v158, sel_string);
        unint64_t v151 = sub_2598440A0();
        uint64_t v153 = v160;

        sub_2594B6A34((uint64_t)v155);
        sub_2594B6A34((uint64_t)v155);
        v276[0] = v154;
        unint64_t v162 = *(void *)(v154 + 16);
        unint64_t v161 = *(void *)(v154 + 24);
        if (v162 >= v161 >> 1)
        {
          OUTLINED_FUNCTION_137_8(v161);
          sub_2594F08BC();
          uint64_t v154 = v276[0];
        }
        *(void *)(v154 + 16) = v162 + 1;
        uint64_t v163 = v154 + 16 * v162;
        *(void *)(v163 + 32) = v151;
        *(void *)(v163 + 40) = v153;
        if (!v156) {
          break;
        }
        --v156;
      }
      swift_bridgeObjectRelease();
    }
    MEMORY[0x25A2DED80](v154, MEMORY[0x263F8D310]);
    OUTLINED_FUNCTION_33_12();
    *(void *)(v275 + 2296) = sub_259356D5C(v153, v151, v277);
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_181();
    _os_log_impl(&dword_25934C000, v258, v257, "Prompt suggestions before ranking\n %{private}s\n", v249, 0xCu);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_181();
  }
  uint64_t v164 = *(void *)(v275 + 2464);
  uint64_t v165 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  *(void *)(v275 + 2672) = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  uint64_t v166 = OUTLINED_FUNCTION_274_0();
  Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double v170 = PromptSuggestionRanker.fetchTopPromptSuggestions(promptSuggestionCandidates:usedPromptSuggestions:fetchLimit:embeddingDistanceThreshold:)((Swift::OpaquePointer)v166, v167, v168, v169);
  swift_release();
  *(Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double *)(v275 + 2680) = v170;
  swift_retain();
  uint64_t v171 = sub_259843F00();
  sub_2595A987C(v171);
  swift_release();
  swift_bridgeObjectRetain_n();
  uint64_t v172 = sub_259843A50();
  uint64_t v173 = (_WORD *)sub_259844B70();
  if (os_log_type_enabled(v172, (os_log_type_t)v173))
  {
    uint64_t v174 = OUTLINED_FUNCTION_20();
    v277[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v174 = 134218499;
    uint64_t v175 = *((void *)v170.suggestions._rawValue + 2);
    *(void *)(v275 + 2256) = v175;
    sub_259844E10();
    swift_bridgeObjectRelease();
    uint64_t v254 = v174;
    *(_WORD *)(v174 + 12) = 2081;
    uint64_t v176 = MEMORY[0x263F8EE78];
    loga = v172;
    os_log_type_t v262 = v173;
    if (v175)
    {
      uint64_t v250 = v165;
      uint64_t v252 = v164;
      uint64_t v177 = (void *)(v275 + 320);
      OUTLINED_FUNCTION_72_15();
      sub_2594F08BC();
      uint64_t v176 = v276[0];
      uint64_t v178 = (char *)v170.suggestions._rawValue + 32;
      do
      {
        OUTLINED_FUNCTION_150_7(v177);
        uint64_t v179 = *(void **)(v275 + 464);
        sub_2594B698C((uint64_t)v177);
        sub_2594B698C((uint64_t)v177);
        id v180 = objc_msgSend(v179, sel_string);
        uint64_t v181 = sub_2598440A0();
        uint64_t v183 = v182;

        sub_2594B6A34((uint64_t)v177);
        sub_2594B6A34((uint64_t)v177);
        v276[0] = v176;
        unint64_t v185 = *(void *)(v176 + 16);
        unint64_t v184 = *(void *)(v176 + 24);
        if (v185 >= v184 >> 1)
        {
          OUTLINED_FUNCTION_137_8(v184);
          sub_2594F08BC();
          uint64_t v176 = v276[0];
        }
        *(void *)(v176 + 16) = v185 + 1;
        uint64_t v186 = v176 + 16 * v185;
        *(void *)(v186 + 32) = v181;
        *(void *)(v186 + 40) = v183;
        v178 += 152;
        --v175;
      }
      while (v175);
      uint64_t v165 = v250;
      uint64_t v164 = v252;
    }
    MEMORY[0x25A2DED80](v176, MEMORY[0x263F8D310]);
    uint64_t v187 = OUTLINED_FUNCTION_45_20();
    *(void *)(v275 + 2272) = OUTLINED_FUNCTION_90_14(v187, v188, v277);
    uint64_t v173 = (_WORD *)(v275 + 2280);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v254 + 22) = 2080;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v189 = OUTLINED_FUNCTION_4_1();
    *(_OWORD *)(v189 + 16) = xmmword_259876920;
    *(void *)(v189 + 56) = MEMORY[0x263F8D538];
    *(void *)(v189 + 64) = MEMORY[0x263F8D5B8];
    *(Swift::Double *)(v189 + 32) = v170.lastEmbeddingDistanceThreshold;
    uint64_t v190 = OUTLINED_FUNCTION_9_14();
    LOBYTE(v172) = v191;
    uint64_t v192 = sub_259356D5C(v190, v191, v277);
    OUTLINED_FUNCTION_67_18(v192);
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, loga, v262, "Prompt suggestions after diversity treatment (N= %ld\n %{private}s\n\nLast embeddingDistanceThreshold:%s", (uint8_t *)v254, 0x20u);
    OUTLINED_FUNCTION_179_1();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  if (v170.lastEmbeddingDistanceThreshold < *(double *)(v164 + v165))
  {
    swift_retain_n();
    uint64_t v193 = sub_259843A50();
    os_log_type_t v194 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v194))
    {
      uint64_t v173 = (_WORD *)OUTLINED_FUNCTION_21_0();
      v276[0] = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v173 = 136315394;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
      uint64_t v195 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v195 + 16) = xmmword_259876920;
      uint64_t v196 = *(void *)(v164 + v165);
      uint64_t v197 = MEMORY[0x263F8D538];
      *(void *)(v195 + 56) = MEMORY[0x263F8D538];
      uint64_t v198 = MEMORY[0x263F8D5B8];
      *(void *)(v195 + 64) = MEMORY[0x263F8D5B8];
      *(void *)(v195 + 32) = v196;
      uint64_t v199 = OUTLINED_FUNCTION_9_14();
      *(void *)(v275 + 2240) = sub_259356D5C(v199, v200, v276);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_131_0();
      v173[6] = 2080;
      uint64_t v201 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v201 + 16) = xmmword_259876920;
      *(void *)(v201 + 56) = v197;
      *(void *)(v201 + 64) = v198;
      *(Swift::Double *)(v201 + 32) = v170.lastEmbeddingDistanceThreshold;
      uint64_t v202 = OUTLINED_FUNCTION_9_14();
      *(void *)(v275 + 2248) = sub_259356D5C(v202, v203, v276);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_86_13(&dword_25934C000, v193, (os_log_type_t)v172, "Distance threshold was updated from %s to %s. Updating plist");
      OUTLINED_FUNCTION_179_1();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_131_0();
    }
    uint64_t v209 = v273;
    if (!v273)
    {
      uint64_t v193 = v275;
LABEL_152:
      OUTLINED_FUNCTION_54_21();
      OUTLINED_FUNCTION_30_26();
      unint64_t v241 = (void *)swift_task_alloc();
      *(void *)(v193 + 2704) = v241;
      *unint64_t v241 = v193;
      v241[1] = sub_2596B0B5C;
      OUTLINED_FUNCTION_124_9();
      OUTLINED_FUNCTION_192_6();
      OUTLINED_FUNCTION_71_0();
      __asm { BRAA            X6, X16 }
    }
    OUTLINED_FUNCTION_144_7();
    uint64_t v267 = v215;
    os_log_t logb = (os_log_t)(v215 - 1);
    uint64_t v216 = MEMORY[0x263F8EE80];
    while (v213 < qword_27074B500)
    {
      int v217 = *((unsigned __int8 *)&unk_27074B4F0 + v213 + 32);
      char v270 = v214;
      if (v267)
      {
        uint64_t v218 = sub_259843F00();
        uint64_t v219 = 32;
        os_log_t v220 = logb;
        uint64_t v221 = MEMORY[0x263F8EE78];
        while (1)
        {
          uint64_t v218 = (uint64_t)OUTLINED_FUNCTION_51_17(v218, (const void *)(v209 + v219));
          if (*(unsigned __int8 *)(v193 + 184) == v217)
          {
            sub_2594B698C((uint64_t)v173);
            char v222 = swift_isUniquelyReferenced_nonNull_native();
            v276[0] = v221;
            if ((v222 & 1) == 0)
            {
              OUTLINED_FUNCTION_10_43();
              uint64_t v193 = v275;
              uint64_t v221 = v276[0];
            }
            unint64_t v223 = *(void *)(v221 + 16);
            if (v223 >= *(void *)(v221 + 24) >> 1)
            {
              OUTLINED_FUNCTION_36_24();
              uint64_t v193 = v275;
              uint64_t v221 = v276[0];
            }
            *(void *)(v221 + 16) = v223 + 1;
            uint64_t v218 = (uint64_t)OUTLINED_FUNCTION_42_24(v221 + 152 * v223);
            uint64_t v209 = v273;
          }
          if (!v220) {
            break;
          }
          os_log_t v220 = (os_log_t)((char *)v220 - 1);
          v219 += 152;
        }
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v221 = MEMORY[0x263F8EE78];
      }
      swift_isUniquelyReferenced_nonNull_native();
      v276[0] = v216;
      OUTLINED_FUNCTION_198_3();
      OUTLINED_FUNCTION_152_8();
      if (v224) {
        goto LABEL_168;
      }
      unint64_t v225 = v210;
      char v226 = v211;
      __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A38FFA8);
      char v227 = OUTLINED_FUNCTION_184_8();
      uint64_t v216 = v276[0];
      if (v227)
      {
        uint64_t v228 = OUTLINED_FUNCTION_198_3();
        if ((v226 & 1) != (v229 & 1))
        {
          OUTLINED_FUNCTION_71_0();
          return sub_2598457D0();
        }
        unint64_t v225 = v228;
      }
      if (v226)
      {
        uint64_t v230 = *(void *)(v216 + 56);
        swift_bridgeObjectRelease();
        *(void *)(v230 + 8 * v225) = v221;
      }
      else
      {
        OUTLINED_FUNCTION_191_7(v216 + 8 * (v225 >> 6));
        *(unsigned char *)(v231 + v225) = v217;
        *(void *)(*(void *)(v216 + 56) + 8 * v225) = v221;
        uint64_t v232 = *(void *)(v216 + 16);
        BOOL v224 = __OFADD__(v232, 1);
        uint64_t v233 = v232 + 1;
        if (v224) {
          goto LABEL_169;
        }
        *(void *)(v216 + 16) = v233;
      }
      uint64_t v210 = swift_bridgeObjectRelease();
      char v214 = 1;
      unint64_t v213 = 1u;
      uint64_t v193 = v275;
      if (v270) {
        goto LABEL_152;
      }
    }
    __break(1u);
LABEL_168:
    __break(1u);
LABEL_169:
    __break(1u);
    return MEMORY[0x270FA2498](v210, v211, v212);
  }
  OUTLINED_FUNCTION_89_12();
  *((void *)v170.suggestions._rawValue + 340) = OUTLINED_FUNCTION_96();
  PromptSuggestionProvider.suggestionsWithValidNumberOfAssets(_:)((uint64_t)v173);
  OUTLINED_FUNCTION_194_8();
  OUTLINED_FUNCTION_190_8();
  uint64_t v204 = sub_259843F00();
  sub_2595A9888(v204);
  swift_release();
  if (*(void *)(*(void *)v173 + 16) >= v164)
  {
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v234 = sub_259843F00();
    sub_2595A98A0(v234);
    swift_release();
    sub_259843F00();
    sub_259843F00();
    uint64_t v235 = (void *)sub_259843A50();
    os_log_type_t v236 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v236))
    {
      uint64_t v237 = *((void *)v170.suggestions._rawValue + 331);
      uint64_t v238 = (float *)OUTLINED_FUNCTION_20();
      OUTLINED_FUNCTION_146_8(v238, 3.8522e-34);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_96_9();
      sub_259844E10();
      OUTLINED_FUNCTION_181_7();
      *((void *)v170.suggestions._rawValue + 300) = v237;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_18_29(&dword_25934C000, v239, v240, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_77();

      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_120_9(*((void *)v170.suggestions._rawValue + 340));
    OUTLINED_FUNCTION_63_17();
    *((void *)v170.suggestions._rawValue + 349) = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    goto LABEL_161;
  }
  OUTLINED_FUNCTION_207_6();
  uint64_t v205 = (void *)sub_259843A50();
  os_log_type_t v206 = sub_259844B70();
  if (OUTLINED_FUNCTION_91(v206))
  {
    *(_DWORD *)OUTLINED_FUNCTION_21_0() = 134218240;
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_110_10();
    sub_259844E10();
    swift_release();
    OUTLINED_FUNCTION_88_13();
    OUTLINED_FUNCTION_50_19(&dword_25934C000, v207, v208, "Result suggestions count (%ld) is less than requested (%ld), Fetch on-demand fallback suggestions to fill in");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_release();
  }

  uint64_t v244 = (void *)swift_task_alloc();
  *((void *)v170.suggestions._rawValue + 341) = v244;
  *uint64_t v244 = v170.suggestions._rawValue;
  v244[1] = sub_2596B0FC8;
  OUTLINED_FUNCTION_164_6();
  OUTLINED_FUNCTION_71_0();
  return PromptSuggestionProvider.fetchFallbackSuggestions(maxSuggestionResults:)();
}

uint64_t sub_2596AF064()
{
  OUTLINED_FUNCTION_14();
  sub_2594B2E04((void *)(v0 + 2160));
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v1, v2, v3);
}

uint64_t sub_2596AF0C8()
{
  uint64_t v263 = v0;
  uint64_t v2 = *(void *)(v0 + 2160);
  uint64_t v255 = *(void *)(v0 + 2168);
  if (!v2)
  {
    uint64_t v3 = sub_259843A50();
    os_log_type_t v4 = sub_259844B50();
    if (os_log_type_enabled(v3, v4))
    {
      uint64_t v5 = (uint8_t *)OUTLINED_FUNCTION_41();
      *(_WORD *)uint64_t v5 = 0;
      _os_log_impl(&dword_25934C000, v3, v4, "OvernightAnalytics is empty", v5, 2u);
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v0 = v260;
  }
  swift_release();
  uint64_t v6 = *(void *)(v0 + 2464);
  uint64_t v7 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  uint64_t v8 = v0;
  if (*(double *)(v6
                 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking) == 0.0)
  {
    uint64_t v9 = *(int *)(v0 + 2808);
    uint64_t v10 = *(int *)(v8 + 2804);
    uint64_t v11 = v2;
    uint64_t v12 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
    uint64_t v13 = *(void *)(v8 + 2488);
    uint64_t v14 = *(void *)(v8 + 2480);
    uint64_t v15 = v13 + *(int *)(v8 + 2800);
    uint64_t v16 = v14 + *(int *)(*(void *)(v8 + 2472) + 48);
    OUTLINED_FUNCTION_104_10(v15);
    *(uint64_t *)((char *)&qword_26A38F000 + v14) = *(void *)(v13 + v10);
    uint64_t v17 = *(void *)(v13 + v9);
    uint64_t v7 = v12;
    uint64_t v2 = v11;
    *(void *)(v14 + v1) = v17;
    *(void *)(v6 + v7) = v17;
    uint64_t v18 = v16;
    uint64_t v8 = v260;
    sub_25966DE0C(v18, (uint64_t *)&unk_26B2F8390);
  }
  uint64_t v258 = v6;
  uint64_t v19 = (uint64_t *)(v8 + 2216);
  uint64_t v20 = (void *)v8;
  swift_retain_n();
  uint64_t v21 = sub_259843A50();
  unint64_t v22 = sub_259844B70();
  uint64_t v253 = (uint64_t *)(v8 + 2216);
  if (os_log_type_enabled((os_log_t)v21, (os_log_type_t)v22))
  {
    uint64_t v249 = v7;
    uint64_t v241 = v2;
    uint64_t v23 = OUTLINED_FUNCTION_20();
    v262[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v23 = 134218499;
    OUTLINED_FUNCTION_28();
    uint64_t v24 = *v19;
    OUTLINED_FUNCTION_204_8();
    sub_259844E10();
    uint64_t v246 = v23;
    *(_WORD *)(v23 + 12) = 2081;
    uint64_t v25 = *(void *)(v24 + 16);
    uint64_t v26 = MEMORY[0x263F8EE78];
    os_log_type_t v247 = v22;
    if (v25)
    {
      uint64_t v27 = (void *)(v8 + 776);
      v261[0] = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_22_0();
      uint64_t v26 = v261[0];
      uint64_t v28 = v25 - 1;
      for (uint64_t i = 32; ; i += 152)
      {
        memcpy(v27, (const void *)(v24 + i), 0x98uLL);
        uint64_t v30 = (void *)v20[115];
        sub_2594B698C((uint64_t)v27);
        sub_2594B698C((uint64_t)v27);
        id v31 = objc_msgSend(v30, sel_string);
        uint64_t v32 = sub_2598440A0();
        uint64_t v34 = v33;

        sub_2594B6A34((uint64_t)v27);
        sub_2594B6A34((uint64_t)v27);
        OUTLINED_FUNCTION_203_5();
        if (v35)
        {
          OUTLINED_FUNCTION_35_32();
          uint64_t v26 = v261[0];
        }
        *(void *)(v26 + 16) = v20;
        uint64_t v36 = v26 + 16 * v21;
        *(void *)(v36 + 32) = v32;
        *(void *)(v36 + 40) = v34;
        if (!v28) {
          break;
        }
        --v28;
        uint64_t v20 = (void *)v260;
      }
      swift_bridgeObjectRelease();
      uint64_t v20 = (void *)v260;
      uint64_t v2 = v241;
    }
    else
    {
      uint64_t v2 = v241;
    }
    uint64_t v38 = v20[311];
    unint64_t v22 = v20[308];
    uint64_t v39 = MEMORY[0x25A2DED80](v26, MEMORY[0x263F8D310]);
    unint64_t v41 = v40;
    swift_bridgeObjectRelease();
    v20[305] = sub_259356D5C(v39, v41, v262);
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v246 + 22) = 2080;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v42 = OUTLINED_FUNCTION_4_1();
    *(_OWORD *)(v42 + 16) = xmmword_259876920;
    uint64_t v43 = *(void *)(v258 + v249);
    *(void *)(v42 + 56) = MEMORY[0x263F8D538];
    *(void *)(v42 + 64) = MEMORY[0x263F8D5B8];
    *(void *)(v42 + 32) = v43;
    uint64_t v44 = OUTLINED_FUNCTION_9_14();
    v20[306] = sub_259356D5C(v44, v45, v262);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_release_n();
    _os_log_impl(&dword_25934C000, (os_log_t)v21, v247, "Fetched %ld prompt suggestion candidates from cache:\n %{private}s\n\nCurrent embeddingDistanceThreshold: %s", (uint8_t *)v246, 0x20u);
    OUTLINED_FUNCTION_179_1();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    sub_25966DE0C(v38, &qword_26A38FF98);
    uint64_t v19 = v253;
  }
  else
  {
    uint64_t v37 = *(void *)(v8 + 2488);
    swift_release_n();

    sub_25966DE0C(v37, &qword_26A38FF98);
  }
  uint64_t v259 = v20[325];
  v20[328] = v259;
  uint64_t v46 = v20[319];
  uint64_t v47 = v20[313];
  uint64_t v48 = v20[312];
  v20[329] = OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_uiSuggestionStatistics;
  OUTLINED_FUNCTION_57();
  swift_retain();
  uint64_t v49 = sub_259843F00();
  sub_2595AAA08(v49);
  swift_bridgeObjectRelease();
  swift_release();
  sub_259407484(v47, v48);
  uint64_t v50 = v46 + OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_lastRefreshDate;
  OUTLINED_FUNCTION_17_1();
  sub_2594FB874(v48, v50);
  swift_endAccess();
  v261[0] = v2;
  v261[1] = v255;
  sub_2595A8FA0(v261);
  sub_2596B61DC();
  uint64_t v51 = v20[277];
  uint64_t v52 = *(void *)(v51 + 16);
  if (v52)
  {
    uint64_t v53 = sub_259843F00();
    uint64_t v54 = v52 - 1;
    v55._rawValue = (void *)MEMORY[0x263F8EE78];
    uint64_t v56 = 32;
    unint64_t v57 = v20;
    while (1)
    {
      uint64_t v53 = (uint64_t)OUTLINED_FUNCTION_51_17(v53, (const void *)(v51 + v56));
      if (*((unsigned __int8 *)v57 + 489) >= 2u && *((unsigned char *)v57 + 488) == 1)
      {
        sub_2594B698C((uint64_t)(v20 + 59));
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        v261[0] = (uint64_t)v55._rawValue;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          OUTLINED_FUNCTION_10_43();
          unint64_t v57 = (void *)v260;
          v55._rawValue = (void *)v261[0];
        }
        unint64_t v22 = *((void *)v55._rawValue + 2);
        if (v22 >= *((void *)v55._rawValue + 3) >> 1)
        {
          OUTLINED_FUNCTION_36_24();
          unint64_t v57 = (void *)v260;
          v55._rawValue = (void *)v261[0];
        }
        *((void *)v55._rawValue + 2) = v22 + 1;
        uint64_t v53 = (uint64_t)OUTLINED_FUNCTION_42_24((uint64_t)v55._rawValue + 152 * v22);
      }
      if (!v54) {
        break;
      }
      --v54;
      v56 += 152;
    }
    swift_bridgeObjectRelease();
    uint64_t v19 = v253;
  }
  else
  {
    v55._rawValue = (void *)MEMORY[0x263F8EE78];
    unint64_t v57 = v20;
  }
  uint64_t v60 = v57[308];
  uint64_t v61 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  v57[330] = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  uint64_t v62 = (void *)(v60 + v61);
  swift_retain_n();
  uint64_t v63 = (uint64_t)v57;
  uint64_t v256 = v62;
  uint64_t v64 = sub_259843A50();
  os_log_type_t v65 = sub_259844B70();
  if (os_log_type_enabled(v64, v65))
  {
    unint64_t v22 = OUTLINED_FUNCTION_21_0();
    v262[0] = OUTLINED_FUNCTION_20();
    *(_DWORD *)unint64_t v22 = 134218243;
    uint64_t v66 = *((void *)v55._rawValue + 2);
    *(void *)(v63 + 2368) = v66;
    sub_259844E10();
    swift_release();
    *(_WORD *)(v22 + 12) = 2081;
    uint64_t v67 = MEMORY[0x263F8EE78];
    if (v66)
    {
      unint64_t v242 = v22;
      os_log_t log = v64;
      OUTLINED_FUNCTION_72_15();
      sub_2594F08BC();
      uint64_t v67 = v261[0];
      uint64_t v68 = (char *)v55._rawValue + 32;
      do
      {
        memcpy((void *)(v63 + 1232), v68, 0x98uLL);
        id v69 = *(void **)(v260 + 1376);
        sub_2594B698C(v63 + 1232);
        sub_2594B698C(v63 + 1232);
        id v70 = objc_msgSend(v69, sel_string);
        uint64_t v71 = sub_2598440A0();
        uint64_t v73 = v72;

        sub_2594B6A34(v63 + 1232);
        sub_2594B6A34(v63 + 1232);
        OUTLINED_FUNCTION_162_6();
        if (v35)
        {
          OUTLINED_FUNCTION_35_32();
          uint64_t v67 = v261[0];
        }
        *(void *)(v67 + 16) = v70;
        uint64_t v74 = v67 + 16 * v63;
        *(void *)(v74 + 32) = v71;
        *(void *)(v74 + 40) = v73;
        v68 += 152;
        --v66;
      }
      while (v66);
      unint64_t v22 = v242;
      uint64_t v64 = log;
    }
    MEMORY[0x25A2DED80](v67, MEMORY[0x263F8D310]);
    uint64_t v75 = OUTLINED_FUNCTION_45_20();
    uint64_t v77 = OUTLINED_FUNCTION_90_14(v75, v76, v262);
    uint64_t v63 = v260;
    OUTLINED_FUNCTION_154_9(v77);
    swift_bridgeObjectRelease();
    swift_release_n();
    _os_log_impl(&dword_25934C000, v64, v65, "Used smart suggestions from cache (N= %ld\n %{private}s\n", (uint8_t *)v22, 0x16u);
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_release_n();
  }
  uint64_t v78 = *(void *)(v63 + 2536);
  if (v78)
  {
    uint64_t v79 = *v19;
    uint64_t v80 = *(void *)(*v19 + 16);
    if (v80)
    {
      uint64_t v81 = (const void *)(v260 + 1688);
      sub_259843F00();
      uint64_t v82 = v80 - 1;
      uint64_t v83 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_14_29();
      while (1)
      {
        id v84 = OUTLINED_FUNCTION_121_8((uint64_t)v84, (char *)v19 + v79);
        if (*(unsigned char *)(v260 + 1744) == 1)
        {
          sub_2594B698C((uint64_t)v81);
          char v85 = swift_isUniquelyReferenced_nonNull_native();
          v261[0] = v83;
          if ((v85 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v83 = v261[0];
          }
          unint64_t v86 = *(void *)(v83 + 16);
          if (v86 >= *(void *)(v83 + 24) >> 1)
          {
            OUTLINED_FUNCTION_36_24();
            uint64_t v83 = v261[0];
          }
          *(void *)(v83 + 16) = v86 + 1;
          id v84 = memcpy((void *)(v83 + v86 * v22 + 32), v81, 0x98uLL);
        }
        if (!v82) {
          break;
        }
        --v82;
        v19 += 19;
      }
      swift_bridgeObjectRelease();
      uint64_t v19 = v253;
    }
    else
    {
      uint64_t v83 = MEMORY[0x263F8EE78];
    }
    *uint64_t v19 = v83;
    swift_bridgeObjectRelease();
    uint64_t v87 = (void *)sub_259843A50();
    os_log_type_t v88 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v88))
    {
      uint64_t v89 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_53_18(v89, 3.852e-34);
      *(void *)(v260 + 2360) = *(void *)(*v19 + 16);
      sub_259844E10();
      OUTLINED_FUNCTION_171(&dword_25934C000, v90, v91, "Valid suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v63 = v260;
    uint64_t v78 = *(void *)(v260 + 2536);
  }
  uint64_t v92 = *(void *)(v63 + 2216);
  uint64_t v93 = *(void *)(v92 + 16);
  *(void *)(v63 + 2648) = v93;
  if ((v78 & 2) != 0)
  {
    if (v93)
    {
      sub_259843F00();
      uint64_t v94 = v93 - 1;
      uint64_t v95 = v260;
      uint64_t v96 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_14_29();
      while (1)
      {
        OUTLINED_FUNCTION_71_16(v97, (char *)v19 + v92);
        if (*(unsigned __int8 *)(v95 + 1401) <= 1u)
        {
          sub_2594B698C(v260 + 1384);
          char v98 = swift_isUniquelyReferenced_nonNull_native();
          v261[0] = v96;
          if ((v98 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v95 = v260;
            uint64_t v96 = v261[0];
          }
          unint64_t v99 = *(void *)(v96 + 16);
          if (v99 >= *(void *)(v96 + 24) >> 1)
          {
            OUTLINED_FUNCTION_138_6();
            uint64_t v95 = v260;
            uint64_t v96 = v261[0];
          }
          *(void *)(v96 + 16) = v99 + 1;
          OUTLINED_FUNCTION_41_27(v96 + v99 * v22);
        }
        if (!v94) {
          break;
        }
        OUTLINED_FUNCTION_197_6();
      }
      swift_bridgeObjectRelease();
      uint64_t v19 = v253;
      uint64_t v92 = *v253;
    }
    else
    {
      uint64_t v96 = MEMORY[0x263F8EE78];
    }
    *uint64_t v19 = v96;
    swift_bridgeObjectRelease();
    unint64_t v100 = sub_259843A50();
    os_log_type_t v101 = sub_259844B30();
    if (OUTLINED_FUNCTION_52(v101))
    {
      os_log_type_t v102 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_53_18(v102, 3.852e-34);
      uint64_t v96 = *(void *)(v260 + 2216);
      *(void *)(v260 + 2344) = *(void *)(v96 + 16);
      uint64_t v19 = v253;
      sub_259844E10();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v100, (os_log_type_t)v92, "Unused suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v78 = *(void *)(v260 + 2536);
    uint64_t v92 = v96;
  }
  if ((v78 & 4) != 0)
  {
    uint64_t v103 = *(void *)(v92 + 16);
    if (v103)
    {
      uint64_t v104 = (void *)(v260 + 1080);
      sub_259843F00();
      uint64_t v105 = v103 - 1;
      uint64_t v106 = v260;
      uint64_t v107 = MEMORY[0x263F8EE78];
      while (1)
      {
        memcpy(v104, (const void *)(v92 + 32), 0x98uLL);
        if (*(unsigned char *)(v106 + 1096) == 1)
        {
          sub_2594B698C((uint64_t)v104);
          char v108 = swift_isUniquelyReferenced_nonNull_native();
          v261[0] = v107;
          if ((v108 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_43();
            uint64_t v106 = v260;
            uint64_t v107 = v261[0];
          }
          unint64_t v110 = *(void *)(v107 + 16);
          unint64_t v109 = *(void *)(v107 + 24);
          if (v110 >= v109 >> 1)
          {
            OUTLINED_FUNCTION_139_7(v109);
            sub_2594F1AD0();
            uint64_t v106 = v260;
            uint64_t v107 = v261[0];
          }
          *(void *)(v107 + 16) = v110 + 1;
          OUTLINED_FUNCTION_150_7((void *)(v107 + 152 * v110 + 32));
        }
        if (!v105) {
          break;
        }
        OUTLINED_FUNCTION_197_6();
      }
      swift_bridgeObjectRelease();
      uint64_t v19 = v253;
    }
    else
    {
      uint64_t v107 = MEMORY[0x263F8EE78];
    }
    *uint64_t v19 = v107;
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v111 = (void *)sub_259843A50();
    os_log_type_t v112 = sub_259844B30();
    if (OUTLINED_FUNCTION_52(v112))
    {
      unint64_t v113 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_81_13(v113, 3.852e-34);
      *(void *)(v260 + 2328) = v114;
      sub_259844E10();
      swift_release();
      OUTLINED_FUNCTION_211();
      _os_log_impl(v115, v116, v117, v118, (uint8_t *)v113, 0xCu);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
    }
  }
  type metadata accessor for PromptSuggestionRanker();
  OUTLINED_FUNCTION_102();
  *(void *)(v260 + 2656) = PromptSuggestionRanker.init()();
  uint64_t v119 = sub_259843F00();
  uint64_t v120 = PromptSuggestionRanker.dedupe(suggestions:)(v119);
  swift_bridgeObjectRelease();
  sub_259843F00();
  uint64_t v121 = v256;
  uint64_t v122 = (void *)sub_259843A50();
  os_log_type_t v123 = sub_259844B30();
  if (OUTLINED_FUNCTION_1_0(v123))
  {
    char v124 = (float *)OUTLINED_FUNCTION_54();
    OUTLINED_FUNCTION_81_13(v124, 3.852e-34);
    *(void *)(v260 + 2312) = v125;
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_170_9();
    _os_log_impl(v126, v127, v128, v129, (uint8_t *)v124, 0xCu);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v130 = *(void *)(v260 + 2536);

  swift_retain();
  uint64_t v131 = sub_259843F00();
  sub_2595A9858(v131);
  swift_release();
  if ((v130 & 8) != 0)
  {
    PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v120);
    uint64_t v132 = v133;
    swift_bridgeObjectRelease();
    sub_259843F00();
    os_log_type_t v134 = sub_259843A50();
    os_log_type_t v135 = sub_259844B30();
    if (OUTLINED_FUNCTION_52(v135))
    {
      uint64_t v136 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_81_13(v136, 3.852e-34);
      *(void *)(v260 + 2304) = v137;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v134, (os_log_type_t)v120, "Prompt suggestions with verified people suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    sub_259843F00();
    swift_retain();
    sub_2595A9864(v132);
    swift_release();
  }
  else
  {
    uint64_t v132 = v120;
  }
  *(void *)(v260 + 2664) = v132;
  swift_retain();
  uint64_t v138 = sub_259843F00();
  sub_2595A9870(v138);
  swift_release();
  swift_bridgeObjectRetain_n();
  os_log_type_t v139 = sub_259843A50();
  os_log_type_t v140 = sub_259844B70();
  if (os_log_type_enabled(v139, v140))
  {
    os_log_type_t v243 = v140;
    uint64_t v141 = (uint8_t *)OUTLINED_FUNCTION_54();
    v262[0] = OUTLINED_FUNCTION_20();
    uint64_t v239 = v141;
    *(_DWORD *)uint64_t v141 = 136380675;
    uint64_t v142 = *(void *)(v132 + 16);
    uint64_t v143 = MEMORY[0x263F8EE78];
    loga = v139;
    if (v142)
    {
      uint64_t v144 = v260 + 624;
      v261[0] = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_58_19();
      uint64_t v143 = v261[0];
      uint64_t v146 = v142 - 1;
      while (1)
      {
        OUTLINED_FUNCTION_51_17(v145, (const void *)(v132 + 32));
        uint64_t v147 = *(void **)(v260 + 768);
        sub_2594B698C(v144);
        sub_2594B698C(v144);
        id v148 = objc_msgSend(v147, sel_string);
        uint64_t v149 = sub_2598440A0();
        uint64_t v151 = v150;

        sub_2594B6A34(v144);
        sub_2594B6A34(v144);
        v261[0] = v143;
        unint64_t v153 = *(void *)(v143 + 16);
        unint64_t v152 = *(void *)(v143 + 24);
        if (v153 >= v152 >> 1)
        {
          OUTLINED_FUNCTION_139_7(v152);
          sub_2594F08BC();
          uint64_t v143 = v261[0];
        }
        *(void *)(v143 + 16) = v153 + 1;
        uint64_t v154 = v143 + 16 * v153;
        *(void *)(v154 + 32) = v149;
        *(void *)(v154 + 40) = v151;
        if (!v146) {
          break;
        }
        OUTLINED_FUNCTION_197_6();
      }
      swift_bridgeObjectRelease();
      uint64_t v121 = v256;
    }
    uint64_t v155 = MEMORY[0x25A2DED80](v143, MEMORY[0x263F8D310]);
    unint64_t v157 = v156;
    swift_bridgeObjectRelease();
    *(void *)(v260 + 2296) = sub_259356D5C(v155, v157, v262);
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_77();
    _os_log_impl(&dword_25934C000, loga, v243, "Prompt suggestions before ranking\n %{private}s\n", v239, 0xCu);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_77();
  }
  uint64_t v158 = *(_WORD **)(v260 + 2464);
  Swift::Int v159 = *(void *)(v260 + 2456);
  uint64_t v160 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  *(void *)(v260 + 2672) = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  uint64_t v251 = v160;
  Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double v161 = PromptSuggestionRanker.fetchTopPromptSuggestions(promptSuggestionCandidates:usedPromptSuggestions:fetchLimit:embeddingDistanceThreshold:)((Swift::OpaquePointer)v132, v55, v159, *(Swift::Double *)((char *)v158 + v160));
  swift_release();
  *(Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double *)(v260 + 2680) = v161;
  swift_retain();
  uint64_t v162 = sub_259843F00();
  sub_2595A987C(v162);
  swift_release();
  swift_bridgeObjectRetain_n();
  uint64_t v163 = sub_259843A50();
  os_log_type_t v164 = sub_259844B70();
  if (os_log_type_enabled(v163, v164))
  {
    uint64_t v165 = OUTLINED_FUNCTION_20();
    v262[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v165 = 134218499;
    uint64_t v166 = *((void *)v161.suggestions._rawValue + 2);
    *(void *)(v260 + 2256) = v166;
    sub_259844E10();
    swift_bridgeObjectRelease();
    uint64_t v167 = v165;
    *(_WORD *)(v165 + 12) = 2081;
    uint64_t v168 = MEMORY[0x263F8EE78];
    uint64_t v248 = v158;
    os_log_type_t v250 = v164;
    if (v166)
    {
      uint64_t v240 = v163;
      OUTLINED_FUNCTION_72_15();
      sub_2594F08BC();
      uint64_t v168 = v261[0];
      Swift::Double v169 = (char *)v161.suggestions._rawValue + 32;
      do
      {
        memcpy((void *)(v260 + 320), v169, 0x98uLL);
        Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double v170 = *(void **)(v260 + 464);
        sub_2594B698C(v260 + 320);
        sub_2594B698C(v260 + 320);
        id v171 = objc_msgSend(v170, sel_string);
        uint64_t v172 = sub_2598440A0();
        uint64_t v174 = v173;

        sub_2594B6A34(v260 + 320);
        sub_2594B6A34(v260 + 320);
        OUTLINED_FUNCTION_162_6();
        if (v35)
        {
          OUTLINED_FUNCTION_35_32();
          uint64_t v168 = v261[0];
        }
        *(void *)(v168 + 16) = v171;
        uint64_t v175 = v168 + 16 * v260;
        *(void *)(v175 + 32) = v172;
        *(void *)(v175 + 40) = v174;
        v169 += 152;
        --v166;
      }
      while (v166);
      uint64_t v163 = v240;
    }
    uint64_t v176 = v167;
    uint64_t v121 = v256;
    MEMORY[0x25A2DED80](v168, MEMORY[0x263F8D310]);
    uint64_t v177 = OUTLINED_FUNCTION_45_20();
    *(void *)(v260 + 2272) = OUTLINED_FUNCTION_90_14(v177, v178, v262);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    *(_WORD *)(v176 + 22) = 2080;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v179 = OUTLINED_FUNCTION_4_1();
    *(_OWORD *)(v179 + 16) = xmmword_259876920;
    *(void *)(v179 + 56) = MEMORY[0x263F8D538];
    *(void *)(v179 + 64) = MEMORY[0x263F8D5B8];
    *(Swift::Double *)(v179 + 32) = v161.lastEmbeddingDistanceThreshold;
    uint64_t v180 = OUTLINED_FUNCTION_9_14();
    os_log_type_t v164 = v181;
    uint64_t v182 = sub_259356D5C(v180, v181, v262);
    OUTLINED_FUNCTION_67_18(v182);
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v163, v250, "Prompt suggestions after diversity treatment (N= %ld\n %{private}s\n\nLast embeddingDistanceThreshold:%s", (uint8_t *)v176, 0x20u);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    uint64_t v158 = v248;
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  if (v161.lastEmbeddingDistanceThreshold < *(double *)((char *)v158 + v251))
  {
    swift_retain_n();
    uint64_t v183 = sub_259843A50();
    os_log_type_t v184 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v184))
    {
      unint64_t v185 = v158;
      uint64_t v158 = (_WORD *)OUTLINED_FUNCTION_21_0();
      v261[0] = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v158 = 136315394;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
      uint64_t v186 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v186 + 16) = xmmword_259876920;
      uint64_t v187 = *(void *)((char *)v185 + v251);
      *(void *)(v186 + 56) = MEMORY[0x263F8D538];
      uint64_t v188 = MEMORY[0x263F8D5B8];
      *(void *)(v186 + 64) = MEMORY[0x263F8D5B8];
      *(void *)(v186 + 32) = v187;
      uint64_t v189 = OUTLINED_FUNCTION_9_14();
      *(void *)(v260 + 2240) = sub_259356D5C(v189, v190, v261);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_131_0();
      v158[6] = 2080;
      uint64_t v191 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v191 + 16) = xmmword_259876920;
      *(void *)(v191 + 56) = MEMORY[0x263F8D538];
      *(void *)(v191 + 64) = v188;
      *(Swift::Double *)(v191 + 32) = v161.lastEmbeddingDistanceThreshold;
      uint64_t v192 = OUTLINED_FUNCTION_9_14();
      *(void *)(v260 + 2248) = sub_259356D5C(v192, v193, v261);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_86_13(&dword_25934C000, v183, v164, "Distance threshold was updated from %s to %s. Updating plist");
      OUTLINED_FUNCTION_179_1();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_131_0();
    }
    uint64_t v199 = v259;
    if (!v259)
    {
      uint64_t v183 = v260;
LABEL_155:
      OUTLINED_FUNCTION_54_21();
      OUTLINED_FUNCTION_30_26();
      uint64_t v231 = (void *)swift_task_alloc();
      *(void *)(v183 + 2704) = v231;
      *uint64_t v231 = v183;
      v231[1] = sub_2596B0B5C;
      OUTLINED_FUNCTION_124_9();
      OUTLINED_FUNCTION_192_6();
      OUTLINED_FUNCTION_43_1();
      __asm { BRAA            X6, X16 }
    }
    OUTLINED_FUNCTION_144_7();
    uint64_t v254 = v205;
    uint64_t v252 = v205 - 1;
    uint64_t v206 = MEMORY[0x263F8EE80];
    while (v203 < qword_27074B500)
    {
      int v207 = *((unsigned __int8 *)&unk_27074B4F0 + v203 + 32);
      char v257 = v204;
      if (v254)
      {
        uint64_t v208 = sub_259843F00();
        uint64_t v209 = 32;
        uint64_t v210 = v252;
        uint64_t v211 = MEMORY[0x263F8EE78];
        while (1)
        {
          uint64_t v208 = (uint64_t)OUTLINED_FUNCTION_51_17(v208, (const void *)(v199 + v209));
          if (*(unsigned __int8 *)(v183 + 184) == v207)
          {
            sub_2594B698C((uint64_t)v158);
            char v212 = swift_isUniquelyReferenced_nonNull_native();
            v261[0] = v211;
            if ((v212 & 1) == 0)
            {
              OUTLINED_FUNCTION_10_43();
              uint64_t v183 = v260;
              uint64_t v211 = v261[0];
            }
            unint64_t v213 = *(void *)(v211 + 16);
            if (v213 >= *(void *)(v211 + 24) >> 1)
            {
              OUTLINED_FUNCTION_36_24();
              uint64_t v183 = v260;
              uint64_t v211 = v261[0];
            }
            *(void *)(v211 + 16) = v213 + 1;
            uint64_t v208 = (uint64_t)OUTLINED_FUNCTION_42_24(v211 + 152 * v213);
            uint64_t v199 = v259;
          }
          if (!v210) {
            break;
          }
          --v210;
          v209 += 152;
        }
        swift_bridgeObjectRelease();
      }
      else
      {
        uint64_t v211 = MEMORY[0x263F8EE78];
      }
      swift_isUniquelyReferenced_nonNull_native();
      v261[0] = v206;
      OUTLINED_FUNCTION_198_3();
      OUTLINED_FUNCTION_152_8();
      if (v214) {
        goto LABEL_170;
      }
      unint64_t v215 = v200;
      char v216 = v201;
      __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A38FFA8);
      char v217 = OUTLINED_FUNCTION_184_8();
      uint64_t v206 = v261[0];
      if (v217)
      {
        uint64_t v218 = OUTLINED_FUNCTION_198_3();
        if ((v216 & 1) != (v219 & 1))
        {
          OUTLINED_FUNCTION_43_1();
          return sub_2598457D0();
        }
        unint64_t v215 = v218;
      }
      if (v216)
      {
        uint64_t v220 = *(void *)(v206 + 56);
        swift_bridgeObjectRelease();
        *(void *)(v220 + 8 * v215) = v211;
      }
      else
      {
        OUTLINED_FUNCTION_191_7(v206 + 8 * (v215 >> 6));
        *(unsigned char *)(v221 + v215) = v207;
        *(void *)(*(void *)(v206 + 56) + 8 * v215) = v211;
        uint64_t v222 = *(void *)(v206 + 16);
        BOOL v214 = __OFADD__(v222, 1);
        uint64_t v223 = v222 + 1;
        if (v214) {
          goto LABEL_171;
        }
        *(void *)(v206 + 16) = v223;
      }
      uint64_t v200 = swift_bridgeObjectRelease();
      char v204 = 1;
      unint64_t v203 = 1u;
      uint64_t v183 = v260;
      if (v257) {
        goto LABEL_155;
      }
    }
    __break(1u);
LABEL_170:
    __break(1u);
LABEL_171:
    __break(1u);
    return MEMORY[0x270FA2498](v200, v201, v202);
  }
  OUTLINED_FUNCTION_89_12();
  v121[340] = OUTLINED_FUNCTION_96();
  PromptSuggestionProvider.suggestionsWithValidNumberOfAssets(_:)((uint64_t)v158);
  OUTLINED_FUNCTION_194_8();
  OUTLINED_FUNCTION_190_8();
  uint64_t v194 = sub_259843F00();
  sub_2595A9888(v194);
  swift_release();
  if (*(void *)(*(void *)v158 + 16) >= (uint64_t)v163)
  {
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v224 = sub_259843F00();
    sub_2595A98A0(v224);
    swift_release();
    sub_259843F00();
    sub_259843F00();
    unint64_t v225 = (void *)sub_259843A50();
    os_log_type_t v226 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v226))
    {
      uint64_t v227 = v121[331];
      uint64_t v228 = (float *)OUTLINED_FUNCTION_20();
      OUTLINED_FUNCTION_146_8(v228, 3.8522e-34);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_96_9();
      sub_259844E10();
      OUTLINED_FUNCTION_181_7();
      v121[300] = v227;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_18_29(&dword_25934C000, v229, v230, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_77();

      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_120_9(v121[340]);
    OUTLINED_FUNCTION_63_17();
    v121[349] = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    OUTLINED_FUNCTION_43_1();
    return MEMORY[0x270FA2498](v200, v201, v202);
  }
  OUTLINED_FUNCTION_207_6();
  uint64_t v195 = (void *)sub_259843A50();
  os_log_type_t v196 = sub_259844B70();
  if (OUTLINED_FUNCTION_91(v196))
  {
    *(_DWORD *)OUTLINED_FUNCTION_21_0() = 134218240;
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_110_10();
    sub_259844E10();
    swift_release();
    OUTLINED_FUNCTION_88_13();
    OUTLINED_FUNCTION_50_19(&dword_25934C000, v197, v198, "Result suggestions count (%ld) is less than requested (%ld), Fetch on-demand fallback suggestions to fill in");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_release();
  }

  uint64_t v234 = (void *)swift_task_alloc();
  v121[341] = v234;
  *uint64_t v234 = v121;
  v234[1] = sub_2596B0FC8;
  OUTLINED_FUNCTION_164_6();
  OUTLINED_FUNCTION_43_1();
  return PromptSuggestionProvider.fetchFallbackSuggestions(maxSuggestionResults:)();
}

uint64_t sub_2596B0B5C()
{
  OUTLINED_FUNCTION_25();
  uint64_t v2 = *v1;
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  *uint64_t v3 = *v1;
  *(void *)(v2 + 2712) = v0;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_2596B0CA4()
{
  uint64_t v4 = v1[336];
  uint64_t v5 = v1[334];
  uint64_t v6 = v1[308];
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v1 + 230));
  *(void *)(v6 + v5) = v4;
  OUTLINED_FUNCTION_145_8();
  v1[340] = OUTLINED_FUNCTION_96();
  PromptSuggestionProvider.suggestionsWithValidNumberOfAssets(_:)(v0);
  OUTLINED_FUNCTION_194_8();
  OUTLINED_FUNCTION_189_7();
  uint64_t v7 = sub_259843F00();
  sub_2595A9888(v7);
  swift_release();
  if (*(void *)(*(void *)v0 + 16) >= v3)
  {
    OUTLINED_FUNCTION_66_18();
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v12 = sub_259843F00();
    sub_2595A98A0(v12);
    swift_release();
    uint64_t v13 = *(void *)(v2 + 16);
    sub_259843F00();
    sub_259843F00();
    uint64_t v14 = (void *)sub_259843A50();
    os_log_type_t v15 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v15))
    {
      uint64_t v16 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v16 = 134218496;
      OUTLINED_FUNCTION_33_28(*(void *)(v13 + 16));
      swift_bridgeObjectRelease();
      *(_WORD *)(v16 + 12) = 2048;
      OUTLINED_FUNCTION_20_41();
      OUTLINED_FUNCTION_84_14();
      OUTLINED_FUNCTION_55_16();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_18_29(&dword_25934C000, v17, v18, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_77();

      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_99_10();
    OUTLINED_FUNCTION_13_45(v21);
    OUTLINED_FUNCTION_63_17();
    v1[349] = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    return MEMORY[0x270FA2498](v22, v23, v24);
  }
  else
  {
    OUTLINED_FUNCTION_205_6();
    uint64_t v8 = (void *)sub_259843A50();
    os_log_type_t v9 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v9))
    {
      *(_DWORD *)OUTLINED_FUNCTION_21_0() = 134218240;
      OUTLINED_FUNCTION_28();
      OUTLINED_FUNCTION_153_9();
      sub_259844E10();
      swift_release();
      OUTLINED_FUNCTION_100_9();
      sub_259844E10();
      OUTLINED_FUNCTION_50_19(&dword_25934C000, v10, v11, "Result suggestions count (%ld) is less than requested (%ld), Fetch on-demand fallback suggestions to fill in");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
    }

    uint64_t v19 = (void *)swift_task_alloc();
    v1[341] = v19;
    *uint64_t v19 = v1;
    v19[1] = sub_2596B0FC8;
    OUTLINED_FUNCTION_164_6();
    return PromptSuggestionProvider.fetchFallbackSuggestions(maxSuggestionResults:)();
  }
}

uint64_t sub_2596B0FC8()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  *uint64_t v3 = *v1;
  *(void *)(v2 + 2736) = v4;
  *(void *)(v2 + 2744) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_2596B10B0(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,os_log_t log,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,NSObject *a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54)
{
  OUTLINED_FUNCTION_123_1();
  a53 = v55;
  a54 = v56;
  OUTLINED_FUNCTION_249();
  a52 = v54;
  OUTLINED_FUNCTION_46_25();
  swift_bridgeObjectRetain_n();
  unint64_t v57 = sub_259843A50();
  int v58 = sub_259844B70();
  if (os_log_type_enabled(v57, (os_log_type_t)v58))
  {
    uint64_t v59 = *(void *)(v54 + 2736);
    uint64_t v60 = OUTLINED_FUNCTION_21_0();
    a40 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v60 = 134218243;
    uint64_t v61 = *(void *)(v59 + 16);
    *(void *)(v54 + 2176) = v61;
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v60 + 12) = 2081;
    uint64_t v62 = MEMORY[0x263F8EE78];
    if (v61)
    {
      LODWORD(a36) = v58;
      a37 = v57;
      uint64_t v63 = *(void *)(v54 + 2736);
      a41 = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_58_19();
      uint64_t v62 = a41;
      uint64_t v64 = (char *)(v63 + 32);
      for (uint64_t i = v61 - 1; ; --i)
      {
        memcpy((void *)(v54 + 1536), v64, 0x98uLL);
        uint64_t v66 = *(void **)(v54 + 1680);
        sub_2594B698C(v54 + 1536);
        sub_2594B698C(v54 + 1536);
        id v67 = objc_msgSend(v66, sel_string);
        uint64_t v68 = sub_2598440A0();
        uint64_t v70 = v69;

        sub_2594B6A34(v54 + 1536);
        sub_2594B6A34(v54 + 1536);
        a41 = v62;
        unint64_t v71 = *(void *)(v62 + 16);
        if (v71 >= *(void *)(v62 + 24) >> 1)
        {
          OUTLINED_FUNCTION_57_19();
          uint64_t v62 = a41;
        }
        *(void *)(v62 + 16) = v71 + 1;
        uint64_t v72 = v62 + 16 * v71;
        *(void *)(v72 + 32) = v68;
        *(void *)(v72 + 40) = v70;
        if (!i) {
          break;
        }
        v64 += 152;
      }
      swift_bridgeObjectRelease();
      unint64_t v57 = a37;
      LOBYTE(v58) = a36;
    }
    uint64_t v73 = MEMORY[0x25A2DED80](v62, MEMORY[0x263F8D310]);
    unint64_t v75 = v74;
    swift_bridgeObjectRelease();
    *(void *)(v54 + 2192) = sub_259356D5C(v73, v75, &a40);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    OUTLINED_FUNCTION_86_13(&dword_25934C000, v57, (os_log_type_t)v58, "Fallback suggestions (N=%ld): %{private}s");
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  uint64_t v76 = *(void *)(v54 + 2736);
  *(void *)(v54 + 2752) = v76;
  if (*(void *)(v76 + 16))
  {
    uint64_t v77 = (void *)OUTLINED_FUNCTION_182_8();
    uint64_t v78 = v77[4];
    __swift_project_boxed_opaque_existential_1(v77, v77[3]);
    *(unsigned char *)(v54 + 2812) = 2;
    uint64_t v187 = *(void *)(v78 + 32) + **(int **)(v78 + 32);
    uint64_t v79 = (void *)swift_task_alloc();
    *(void *)(v54 + 2760) = v79;
    *uint64_t v79 = v54;
    v79[1] = sub_2596B20AC;
    OUTLINED_FUNCTION_50_0();
    OUTLINED_FUNCTION_39();
    return v85(v80, v81, v82, v83, v84, v85, v86, v87, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19,
             a20,
             a21,
             a22,
             a23,
             a24,
             a25,
             log,
             a27,
             a28,
             a29,
             a30,
             a31,
             a32,
             a33,
             a34,
             a35,
             a36,
             a37,
             v187,
             v78 + 32,
             a40,
             a41,
             a42,
             a43,
             a44,
             a45,
             a46);
  }
  else
  {
    uint64_t v89 = *(void *)(v54 + 2656);
    OUTLINED_FUNCTION_57();
    OUTLINED_FUNCTION_177_8();
    sub_259843F00();
    sub_25973EF08();
    uint64_t v90 = sub_259843F00();
    uint64_t v91 = PromptSuggestionRanker.dedupe(suggestions:)(v90);
    swift_bridgeObjectRelease_n();
    *(void *)(v54 + 2376) = v91;
    uint64_t v92 = sub_259843A50();
    os_log_type_t v93 = sub_259844B30();
    if (OUTLINED_FUNCTION_52(v93))
    {
      *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
      OUTLINED_FUNCTION_28();
      OUTLINED_FUNCTION_19_35();
      OUTLINED_FUNCTION_47(&dword_25934C000, v92, (os_log_type_t)v89, "Deduped prompt suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    uint64_t v94 = *(void *)(v54 + 2536);

    if ((v94 & 8) != 0)
    {
      uint64_t v95 = OUTLINED_FUNCTION_32_26();
      PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v95);
      OUTLINED_FUNCTION_62_8();
      OUTLINED_FUNCTION_57();
      OUTLINED_FUNCTION_172_8();
      uint64_t v92 = sub_259843A50();
      os_log_type_t v96 = sub_259844B30();
      if (OUTLINED_FUNCTION_218(v96))
      {
        uint64_t v97 = (float *)OUTLINED_FUNCTION_54();
        OUTLINED_FUNCTION_11_54(v97, 3.852e-34);
        OUTLINED_FUNCTION_17_37(&dword_25934C000, v98, v99, "Prompt suggestions with verified people suggestions: %ld");
        OUTLINED_FUNCTION_61_0();
      }
    }
    uint64_t v100 = OUTLINED_FUNCTION_78_14();
    if (!(v102 ^ v103 | v101))
    {
      OUTLINED_FUNCTION_167_8(v100);
      OUTLINED_FUNCTION_37_23();
      uint64_t v104 = OUTLINED_FUNCTION_47_22();
      OUTLINED_FUNCTION_57();
      *(void *)(v54 + 2376) = v104;
      swift_bridgeObjectRelease();
    }
    uint64_t v105 = *(void *)(v54 + 2720);
    OUTLINED_FUNCTION_46_25();
    uint64_t v106 = OUTLINED_FUNCTION_129_0();
    *(void *)(v106 + 16) = sub_2596BD158;
    *(void *)(v106 + 24) = v105;
    uint64_t v107 = v106;
    uint64_t v108 = *(void *)(v54 + 2376);
    uint64_t v186 = OUTLINED_FUNCTION_96();
    *(void *)(v186 + 16) = v108;
    uint64_t v109 = OUTLINED_FUNCTION_96();
    *(void *)(v109 + 16) = v108;
    uint64_t v188 = OUTLINED_FUNCTION_129_0();
    *(void *)(v188 + 16) = sub_2596BD174;
    *(void *)(v188 + 24) = v109;
    swift_retain_n();
    uint64_t v189 = v108;
    swift_bridgeObjectRetain_n();
    swift_retain();
    loga = sub_259843A50();
    os_log_type_t v178 = sub_259844B70();
    uint64_t v182 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v182 + 16) = 0;
    uint64_t v180 = OUTLINED_FUNCTION_8_4();
    OUTLINED_FUNCTION_165_7(v180);
    uint64_t v110 = OUTLINED_FUNCTION_129_0();
    *(void *)(v110 + 16) = sub_2596BD150;
    *(void *)(v110 + 24) = v105;
    uint64_t v111 = v110;
    uint64_t v183 = OUTLINED_FUNCTION_129_0();
    *(void *)(v183 + 16) = sub_2596BD1B4;
    *(void *)(v183 + 24) = v111;
    uint64_t v112 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v112 + 16) = 33;
    uint64_t v181 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v181 + 16) = (_BYTE)v92;
    uint64_t v113 = OUTLINED_FUNCTION_129_0();
    *(void *)(v113 + 16) = sub_2596BD160;
    *(void *)(v113 + 24) = v107;
    uint64_t v114 = v113;
    uint64_t v115 = OUTLINED_FUNCTION_129_0();
    *(void *)(v115 + 16) = sub_259683080;
    *(void *)(v115 + 24) = v114;
    uint64_t v116 = v115;
    uint64_t v117 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v117 + 16) = 0;
    uint64_t v118 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v118 + 16) = (_BYTE)v92;
    uint64_t v119 = v118;
    uint64_t v120 = OUTLINED_FUNCTION_129_0();
    *(void *)(v120 + 16) = sub_2596BD168;
    *(void *)(v120 + 24) = v186;
    uint64_t v121 = OUTLINED_FUNCTION_129_0();
    *(void *)(v121 + 16) = sub_2596BDD34;
    *(void *)(v121 + 24) = v120;
    uint64_t v185 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v185 + 16) = 33;
    uint64_t v177 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v177 + 16) = (_BYTE)v92;
    uint64_t v122 = OUTLINED_FUNCTION_129_0();
    *(void *)(v122 + 16) = sub_2596BDCF0;
    *(void *)(v122 + 24) = v188;
    uint64_t v123 = OUTLINED_FUNCTION_129_0();
    *(void *)(v123 + 16) = sub_2596834F0;
    *(void *)(v123 + 24) = v122;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
    uint64_t v124 = OUTLINED_FUNCTION_163_7();
    *(_OWORD *)(v124 + 16) = xmmword_259883510;
    *(void *)(v124 + 32) = sub_259683074;
    *(void *)(v124 + 40) = v182;
    *(void *)(v124 + 48) = sub_2596834FC;
    *(void *)(v124 + 56) = v180;
    *(void *)(v124 + 64) = sub_2596BD1BC;
    *(void *)(v124 + 72) = v183;
    *(void *)(v124 + 80) = sub_2596834FC;
    *(void *)(v124 + 88) = v112;
    *(void *)(v124 + 96) = sub_2596834FC;
    *(void *)(v124 + 104) = v181;
    *(void *)(v124 + 112) = sub_259683088;
    *(void *)(v124 + 120) = v116;
    *(void *)(v124 + 128) = sub_2596834FC;
    *(void *)(v124 + 136) = v117;
    *(void *)(v124 + 144) = sub_2596834FC;
    *(void *)(v124 + 152) = v119;
    *(void *)(v124 + 160) = sub_2596BDCF4;
    *(void *)(v124 + 168) = v121;
    *(void *)(v124 + 176) = sub_2596834FC;
    *(void *)(v124 + 184) = v185;
    *(void *)(v124 + 192) = sub_2596834FC;
    *(void *)(v124 + 200) = v177;
    *(void *)(v124 + 208) = sub_2596834F4;
    *(void *)(v124 + 216) = v123;
    swift_setDeallocating();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    sub_259745EA0();
    BOOL v125 = os_log_type_enabled(loga, v178);
    uint64_t v126 = *(void *)(v54 + 2720);
    if (v125)
    {
      os_log_t v127 = (uint8_t *)swift_slowAlloc();
      a40 = OUTLINED_FUNCTION_18_1();
      *(_WORD *)os_log_t v127 = 1027;
      v127[2] = 0;
      swift_release();
      v127[3] = 8;
      swift_release();
      OUTLINED_FUNCTION_159_9();
      *(void *)(v54 + 2352) = v119;
      sub_259844E10();
      swift_release();
      swift_release();
      v127[12] = 33;
      swift_release();
      v127[13] = 8;
      swift_release();
      uint64_t v128 = *(void *)(v126 + 16);
      uint64_t v129 = *(void *)(v128 + 16);
      uint64_t v130 = MEMORY[0x263F8EE78];
      if (v129)
      {
        os_log_type_t v184 = v127;
        OUTLINED_FUNCTION_186_8();
        OUTLINED_FUNCTION_34_28();
        uint64_t v130 = a41;
        uint64_t v132 = v129 - 1;
        for (uint64_t j = 32; ; j += 152)
        {
          OUTLINED_FUNCTION_51_17(v131, (const void *)(v128 + j));
          os_log_type_t v134 = *(void **)(v54 + 160);
          sub_2594B698C(v54 + 16);
          sub_2594B698C(v54 + 16);
          id v135 = objc_msgSend(v134, sel_string);
          uint64_t v136 = sub_2598440A0();
          uint64_t v138 = v137;

          sub_2594B6A34(v54 + 16);
          uint64_t v131 = sub_2594B6A34(v54 + 16);
          a41 = v130;
          unint64_t v139 = *(void *)(v130 + 16);
          if (v139 >= *(void *)(v130 + 24) >> 1)
          {
            OUTLINED_FUNCTION_134_9();
            uint64_t v130 = a41;
          }
          *(void *)(v130 + 16) = v139 + 1;
          uint64_t v140 = v130 + 16 * v139;
          *(void *)(v140 + 32) = v136;
          *(void *)(v140 + 40) = v138;
          if (!v132) {
            break;
          }
          --v132;
        }
        swift_bridgeObjectRelease();
        os_log_t v127 = v184;
      }
      MEMORY[0x25A2DED80](v130, MEMORY[0x263F8D310]);
      uint64_t v141 = OUTLINED_FUNCTION_73_12();
      *(void *)(v54 + 2336) = OUTLINED_FUNCTION_160_6(v141, v142, &a40);
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      swift_release();
      OUTLINED_FUNCTION_175_6();
      v127[22] = 0;
      swift_release();
      v127[23] = 8;
      swift_release();
      uint64_t v143 = v189;
      uint64_t v144 = *(void *)(v189 + 16);
      swift_release();
      swift_bridgeObjectRelease();
      *(void *)(v54 + 2320) = v144;
      sub_259844E10();
      swift_release();
      swift_release();
      v127[32] = 33;
      swift_release();
      v127[33] = 8;
      swift_release();
      uint64_t v145 = *(void *)(v189 + 16);
      uint64_t v146 = MEMORY[0x263F8EE78];
      if (v145)
      {
        uint64_t v147 = v127;
        a41 = MEMORY[0x263F8EE78];
        sub_259843F00();
        OUTLINED_FUNCTION_22_0();
        uint64_t v146 = a41;
        uint64_t v149 = v145 - 1;
        for (uint64_t k = 32; ; k += 152)
        {
          OUTLINED_FUNCTION_121_8(v148, (const void *)(v143 + k));
          uint64_t v151 = *(void **)(v54 + 1072);
          sub_2594B698C(v54 + 928);
          sub_2594B698C(v54 + 928);
          id v152 = objc_msgSend(v151, sel_string);
          uint64_t v153 = sub_2598440A0();
          uint64_t v155 = v154;

          sub_2594B6A34(v54 + 928);
          uint64_t v148 = sub_2594B6A34(v54 + 928);
          a41 = v146;
          unint64_t v156 = *(void *)(v146 + 16);
          if (v156 >= *(void *)(v146 + 24) >> 1)
          {
            OUTLINED_FUNCTION_57_19();
            uint64_t v146 = a41;
          }
          *(void *)(v146 + 16) = v156 + 1;
          uint64_t v157 = v146 + 16 * v156;
          *(void *)(v157 + 32) = v153;
          *(void *)(v157 + 40) = v155;
          if (!v149) {
            break;
          }
          --v149;
          uint64_t v143 = v189;
        }
        swift_bridgeObjectRelease();
        os_log_t v127 = v147;
      }
      MEMORY[0x25A2DED80](v146, MEMORY[0x263F8D310]);
      uint64_t v158 = OUTLINED_FUNCTION_45_20();
      uint64_t v160 = OUTLINED_FUNCTION_90_14(v158, v159, &a40);
      OUTLINED_FUNCTION_70_14(v160);
      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, loga, v178, "originalResultSuggestions (N=%ld): %{private}s\n)\nupdatedResultSuggestions (N=%ld): %{private}s\n)", v127, 0x2Au);
      OUTLINED_FUNCTION_80_13();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_195_8();
      swift_release();
      swift_release();

      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
    }
    uint64_t v161 = *(void *)(v54 + 2752);
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_157_7();
    uint64_t v162 = sub_259843F00();
    uint64_t v163 = sub_2596AC920(v162, v161);
    sub_2595A9894(v163);
    swift_release();
    OUTLINED_FUNCTION_156_8();
    uint64_t v164 = *(void *)(v54 + 2720);
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v165 = sub_259843F00();
    sub_2595A98A0(v165);
    swift_release();
    uint64_t v166 = *(void *)(v164 + 16);
    sub_259843F00();
    sub_259843F00();
    uint64_t v167 = (void *)sub_259843A50();
    os_log_type_t v168 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v168))
    {
      uint64_t v169 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v169 = 134218496;
      OUTLINED_FUNCTION_33_28(*(void *)(v166 + 16));
      swift_bridgeObjectRelease();
      *(_WORD *)(v169 + 12) = 2048;
      OUTLINED_FUNCTION_20_41();
      OUTLINED_FUNCTION_84_14();
      OUTLINED_FUNCTION_55_16();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_18_29(&dword_25934C000, v170, v171, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_77();

      swift_bridgeObjectRelease();
    }
    OUTLINED_FUNCTION_99_10();
    OUTLINED_FUNCTION_13_45(v172);
    OUTLINED_FUNCTION_63_17();
    *(void *)(v54 + 2792) = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    OUTLINED_FUNCTION_39();
    return MEMORY[0x270FA2498](v173, v174, v175);
  }
}

uint64_t sub_2596B20AC()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  uint64_t v4 = *v1;
  OUTLINED_FUNCTION_9();
  void *v5 = v4;
  *(void *)(v6 + 2768) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_2596B218C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,void *a52,uint64_t a53,uint64_t a54)
{
  OUTLINED_FUNCTION_123_1();
  a53 = v55;
  a54 = v56;
  OUTLINED_FUNCTION_249();
  a52 = v54;
  uint64_t v57 = v54[332];
  OUTLINED_FUNCTION_57();
  OUTLINED_FUNCTION_177_8();
  sub_259843F00();
  sub_25973EF08();
  uint64_t v58 = sub_259843F00();
  uint64_t v59 = PromptSuggestionRanker.dedupe(suggestions:)(v58);
  swift_bridgeObjectRelease_n();
  v54[297] = v59;
  uint64_t v60 = sub_259843A50();
  os_log_type_t v61 = sub_259844B30();
  if (OUTLINED_FUNCTION_52(v61))
  {
    *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_19_35();
    OUTLINED_FUNCTION_47(&dword_25934C000, v60, (os_log_type_t)v57, "Deduped prompt suggestions: %ld");
    OUTLINED_FUNCTION_61_0();
  }
  uint64_t v62 = v54[317];

  if ((v62 & 8) != 0)
  {
    uint64_t v63 = OUTLINED_FUNCTION_32_26();
    PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v63);
    OUTLINED_FUNCTION_62_8();
    OUTLINED_FUNCTION_57();
    OUTLINED_FUNCTION_172_8();
    uint64_t v60 = sub_259843A50();
    os_log_type_t v64 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v64))
    {
      os_log_type_t v65 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_11_54(v65, 3.852e-34);
      OUTLINED_FUNCTION_17_37(&dword_25934C000, v66, v67, "Prompt suggestions with verified people suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
  }
  uint64_t v68 = OUTLINED_FUNCTION_78_14();
  if (!(v70 ^ v71 | v69))
  {
    OUTLINED_FUNCTION_167_8(v68);
    OUTLINED_FUNCTION_37_23();
    uint64_t v72 = OUTLINED_FUNCTION_47_22();
    OUTLINED_FUNCTION_57();
    v54[297] = v72;
    swift_bridgeObjectRelease();
  }
  uint64_t v73 = v54[340];
  OUTLINED_FUNCTION_46_25();
  uint64_t v74 = OUTLINED_FUNCTION_129_0();
  *(void *)(v74 + 16) = sub_2596BD158;
  *(void *)(v74 + 24) = v73;
  uint64_t v75 = v74;
  uint64_t v76 = v54[297];
  uint64_t v77 = OUTLINED_FUNCTION_96();
  *(void *)(v77 + 16) = v76;
  uint64_t v78 = v77;
  uint64_t v79 = OUTLINED_FUNCTION_96();
  *(void *)(v79 + 16) = v76;
  uint64_t v158 = OUTLINED_FUNCTION_129_0();
  *(void *)(v158 + 16) = sub_2596BD174;
  *(void *)(v158 + 24) = v79;
  OUTLINED_FUNCTION_123_9();
  uint64_t v159 = v76;
  swift_bridgeObjectRetain_n();
  swift_retain();
  uint64_t v151 = sub_259843A50();
  os_log_type_t v150 = sub_259844B70();
  uint64_t v155 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v155 + 16) = 0;
  uint64_t v153 = OUTLINED_FUNCTION_8_4();
  OUTLINED_FUNCTION_165_7(v153);
  uint64_t v80 = OUTLINED_FUNCTION_129_0();
  *(void *)(v80 + 16) = sub_2596BD150;
  *(void *)(v80 + 24) = v73;
  uint64_t v81 = v80;
  uint64_t v156 = OUTLINED_FUNCTION_129_0();
  *(void *)(v156 + 16) = sub_2596BD1B4;
  *(void *)(v156 + 24) = v81;
  uint64_t v152 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v152 + 16) = 33;
  uint64_t v154 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v154 + 16) = (_BYTE)v60;
  uint64_t v82 = OUTLINED_FUNCTION_129_0();
  *(void *)(v82 + 16) = sub_2596BD160;
  *(void *)(v82 + 24) = v75;
  uint64_t v83 = v82;
  uint64_t v84 = OUTLINED_FUNCTION_129_0();
  *(void *)(v84 + 16) = sub_259683080;
  *(void *)(v84 + 24) = v83;
  uint64_t v85 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v85 + 16) = 0;
  uint64_t v86 = v85;
  uint64_t v87 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v87 + 16) = (_BYTE)v60;
  uint64_t v88 = v87;
  uint64_t v89 = OUTLINED_FUNCTION_129_0();
  *(void *)(v89 + 16) = sub_2596BD168;
  *(void *)(v89 + 24) = v78;
  uint64_t v90 = OUTLINED_FUNCTION_129_0();
  *(void *)(v90 + 16) = sub_2596BDD34;
  *(void *)(v90 + 24) = v89;
  uint64_t v157 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v157 + 16) = 33;
  uint64_t v149 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v149 + 16) = (_BYTE)v60;
  uint64_t v91 = OUTLINED_FUNCTION_129_0();
  *(void *)(v91 + 16) = sub_2596BDCF0;
  *(void *)(v91 + 24) = v158;
  uint64_t v92 = OUTLINED_FUNCTION_129_0();
  *(void *)(v92 + 16) = sub_2596834F0;
  *(void *)(v92 + 24) = v91;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
  uint64_t v93 = OUTLINED_FUNCTION_163_7();
  *(_OWORD *)(v93 + 16) = xmmword_259883510;
  *(void *)(v93 + 32) = sub_259683074;
  *(void *)(v93 + 40) = v155;
  *(void *)(v93 + 48) = sub_2596834FC;
  *(void *)(v93 + 56) = v153;
  *(void *)(v93 + 64) = sub_2596BD1BC;
  *(void *)(v93 + 72) = v156;
  *(void *)(v93 + 80) = sub_2596834FC;
  *(void *)(v93 + 88) = v152;
  *(void *)(v93 + 96) = sub_2596834FC;
  *(void *)(v93 + 104) = v154;
  *(void *)(v93 + 112) = sub_259683088;
  *(void *)(v93 + 120) = v84;
  *(void *)(v93 + 128) = sub_2596834FC;
  *(void *)(v93 + 136) = v86;
  *(void *)(v93 + 144) = sub_2596834FC;
  *(void *)(v93 + 152) = v88;
  *(void *)(v93 + 160) = sub_2596BDCF4;
  *(void *)(v93 + 168) = v90;
  *(void *)(v93 + 176) = sub_2596834FC;
  *(void *)(v93 + 184) = v157;
  *(void *)(v93 + 192) = sub_2596834FC;
  *(void *)(v93 + 200) = v149;
  *(void *)(v93 + 208) = sub_2596834F4;
  *(void *)(v93 + 216) = v92;
  swift_setDeallocating();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  sub_259745EA0();
  BOOL v94 = os_log_type_enabled(v151, v150);
  uint64_t v95 = v54[340];
  if (v94)
  {
    uint64_t v96 = swift_slowAlloc();
    a40 = OUTLINED_FUNCTION_18_1();
    *(_WORD *)uint64_t v96 = 1027;
    *(unsigned char *)(v96 + 2) = 0;
    swift_release();
    *(unsigned char *)(v96 + 3) = 8;
    swift_release();
    OUTLINED_FUNCTION_159_9();
    v54[294] = v88;
    sub_259844E10();
    swift_release();
    swift_release();
    *(unsigned char *)(v96 + 12) = 33;
    swift_release();
    *(unsigned char *)(v96 + 13) = 8;
    swift_release();
    uint64_t v97 = *(void *)(v95 + 16);
    uint64_t v98 = *(void *)(v97 + 16);
    uint64_t v99 = MEMORY[0x263F8EE78];
    uint64_t v148 = v96;
    if (v98)
    {
      OUTLINED_FUNCTION_186_8();
      OUTLINED_FUNCTION_34_28();
      uint64_t v99 = a41;
      uint64_t v101 = v98 - 1;
      for (uint64_t i = 32; ; i += 152)
      {
        OUTLINED_FUNCTION_51_17(v100, (const void *)(v97 + i));
        char v103 = (void *)v54[20];
        sub_2594B698C((uint64_t)(v54 + 2));
        sub_2594B698C((uint64_t)(v54 + 2));
        id v104 = objc_msgSend(v103, sel_string);
        uint64_t v105 = sub_2598440A0();
        uint64_t v107 = v106;

        sub_2594B6A34((uint64_t)(v54 + 2));
        uint64_t v100 = sub_2594B6A34((uint64_t)(v54 + 2));
        a41 = v99;
        unint64_t v108 = *(void *)(v99 + 16);
        if (v108 >= *(void *)(v99 + 24) >> 1)
        {
          OUTLINED_FUNCTION_134_9();
          uint64_t v99 = a41;
        }
        *(void *)(v99 + 16) = v108 + 1;
        uint64_t v109 = v99 + 16 * v108;
        *(void *)(v109 + 32) = v105;
        *(void *)(v109 + 40) = v107;
        if (!v101) {
          break;
        }
        --v101;
      }
      swift_bridgeObjectRelease();
      uint64_t v96 = v148;
    }
    uint64_t v110 = v54[340];
    MEMORY[0x25A2DED80](v99, MEMORY[0x263F8D310]);
    uint64_t v111 = OUTLINED_FUNCTION_73_12();
    v54[292] = OUTLINED_FUNCTION_160_6(v111, v112, &a40);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    swift_release();
    OUTLINED_FUNCTION_175_6();
    *(unsigned char *)(v96 + 22) = 0;
    swift_release();
    OUTLINED_FUNCTION_113_8();
    uint64_t v113 = v159;
    uint64_t v114 = *(void *)(v159 + 16);
    swift_release();
    swift_bridgeObjectRelease();
    v54[290] = v114;
    sub_259844E10();
    swift_release();
    swift_release();
    *(unsigned char *)(v96 + 32) = 33;
    swift_release();
    *(unsigned char *)(v96 + 33) = v110;
    swift_release();
    uint64_t v115 = *(void *)(v159 + 16);
    uint64_t v116 = MEMORY[0x263F8EE78];
    if (v115)
    {
      a41 = MEMORY[0x263F8EE78];
      sub_259843F00();
      OUTLINED_FUNCTION_34_28();
      uint64_t v116 = a41;
      uint64_t v118 = v115 - 1;
      for (uint64_t j = 32; ; j += 152)
      {
        OUTLINED_FUNCTION_121_8(v117, (const void *)(v113 + j));
        uint64_t v120 = (void *)v54[134];
        sub_2594B698C((uint64_t)(v54 + 116));
        sub_2594B698C((uint64_t)(v54 + 116));
        id v121 = objc_msgSend(v120, sel_string);
        uint64_t v122 = sub_2598440A0();
        uint64_t v124 = v123;

        sub_2594B6A34((uint64_t)(v54 + 116));
        uint64_t v117 = sub_2594B6A34((uint64_t)(v54 + 116));
        a41 = v116;
        unint64_t v125 = *(void *)(v116 + 16);
        if (v125 >= *(void *)(v116 + 24) >> 1)
        {
          OUTLINED_FUNCTION_57_19();
          uint64_t v116 = a41;
        }
        *(void *)(v116 + 16) = v125 + 1;
        uint64_t v126 = v116 + 16 * v125;
        *(void *)(v126 + 32) = v122;
        *(void *)(v126 + 40) = v124;
        if (!v118) {
          break;
        }
        --v118;
        uint64_t v113 = v159;
      }
      swift_bridgeObjectRelease();
    }
    uint64_t v127 = MEMORY[0x25A2DED80](v116, MEMORY[0x263F8D310]);
    unint64_t v129 = v128;
    swift_bridgeObjectRelease();
    v54[286] = sub_259356D5C(v127, v129, &a40);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_118_7(&dword_25934C000, v130, v150, "originalResultSuggestions (N=%ld): %{private}s\n)\nupdatedResultSuggestions (N=%ld): %{private}s\n)");
    OUTLINED_FUNCTION_80_13();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_release();
    swift_bridgeObjectRelease_n();
    OUTLINED_FUNCTION_195_8();
    swift_release();
    swift_release();

    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
  }
  uint64_t v131 = v54[344];
  OUTLINED_FUNCTION_28();
  OUTLINED_FUNCTION_157_7();
  uint64_t v132 = sub_259843F00();
  uint64_t v133 = sub_2596AC920(v132, v131);
  sub_2595A9894(v133);
  swift_release();
  OUTLINED_FUNCTION_156_8();
  uint64_t v134 = v54[340];
  OUTLINED_FUNCTION_28();
  swift_retain();
  uint64_t v135 = sub_259843F00();
  sub_2595A98A0(v135);
  swift_release();
  uint64_t v136 = *(void *)(v134 + 16);
  sub_259843F00();
  sub_259843F00();
  uint64_t v137 = (void *)sub_259843A50();
  os_log_type_t v138 = sub_259844B70();
  if (OUTLINED_FUNCTION_218(v138))
  {
    uint64_t v139 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v139 = 134218496;
    OUTLINED_FUNCTION_33_28(*(void *)(v136 + 16));
    swift_bridgeObjectRelease();
    *(_WORD *)(v139 + 12) = 2048;
    OUTLINED_FUNCTION_20_41();
    OUTLINED_FUNCTION_84_14();
    OUTLINED_FUNCTION_55_16();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_18_29(&dword_25934C000, v140, v141, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    OUTLINED_FUNCTION_77();

    swift_bridgeObjectRelease();
  }
  OUTLINED_FUNCTION_99_10();
  OUTLINED_FUNCTION_13_45(v142);
  OUTLINED_FUNCTION_63_17();
  v54[349] = sub_259844700();
  OUTLINED_FUNCTION_65_17();
  OUTLINED_FUNCTION_52_16();
  OUTLINED_FUNCTION_62_16();
  OUTLINED_FUNCTION_39();
  return MEMORY[0x270FA2498](v143, v144, v145);
}

uint64_t sub_2596B2E5C()
{
  OUTLINED_FUNCTION_14();
  swift_release();
  sub_2596BAF58();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v0, v1, v2);
}

uint64_t sub_2596B2ED4()
{
  uint64_t v1 = v0[340];
  uint64_t v2 = v0[313];
  swift_release();
  sub_25966DE0C(v2, (uint64_t *)&unk_26B2F8390);
  uint64_t v3 = *(void *)(v1 + 16);
  sub_259843F00();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_2593563FC();
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v4 = (uint64_t (*)(uint64_t, uint64_t))v0[1];
  uint64_t v5 = v0[319];
  return v4(v3, v5);
}

uint64_t sub_2596B2FEC()
{
  uint64_t v199 = v0;
  uint64_t v1 = v0 + 2040;
  uint64_t v2 = (uint64_t *)(v0 + 2216);
  uint64_t v3 = v0 + 2400;
  uint64_t v4 = *(void **)(v0 + 2576);
  id v5 = v4;
  id v6 = v4;
  uint64_t v7 = (void *)sub_259843A50();
  os_log_type_t v8 = sub_259844B50();
  if (OUTLINED_FUNCTION_30_1(v8))
  {
    uint64_t v9 = *(void **)(v0 + 2576);
    uint64_t v10 = (_DWORD *)OUTLINED_FUNCTION_54();
    uint64_t v11 = (void *)OUTLINED_FUNCTION_84();
    *uint64_t v10 = 138412290;
    id v12 = v9;
    uint64_t v13 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v0 + 2392) = v13;
    uint64_t v2 = (uint64_t *)(v0 + 2216);
    sub_259844E10();
    *uint64_t v11 = v13;

    uint64_t v14 = v9;
    uint64_t v1 = v0 + 2040;

    OUTLINED_FUNCTION_155(&dword_25934C000, v15, v16, "Error reading persisted suggestions %@");
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    uint64_t v17 = *(void **)(v0 + 2576);
  }
  uint64_t v18 = *(void **)(v0 + 2576);
  id v19 = v18;
  sub_2595A8D34((uint64_t)v18);

  uint64_t v20 = sub_259842800();
  OUTLINED_FUNCTION_179_9(v20);
  *(void *)(v0 + 2624) = 0;
  uint64_t v21 = *(void *)(v0 + 2552);
  uint64_t v22 = *(void *)(v0 + 2496);
  uint64_t v23 = *(void *)(v0 + 2464);
  uint64_t v24 = OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_uiSuggestionStatistics;
  *(void *)(v0 + 2632) = OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_uiSuggestionStatistics;
  uint64_t log = v24;
  OUTLINED_FUNCTION_57();
  swift_retain();
  uint64_t v25 = sub_259843F00();
  sub_2595AAA08(v25);
  swift_release();
  swift_bridgeObjectRelease();
  uint64_t v26 = OUTLINED_FUNCTION_274_0();
  sub_259407484(v26, v27);
  uint64_t v28 = v21 + OBJC_IVAR____TtC18PhotosIntelligence26PromptSuggestionStatistics_lastRefreshDate;
  OUTLINED_FUNCTION_17_1();
  sub_2594FB874(v22, v28);
  swift_endAccess();
  v197[0] = 0;
  v197[1] = 0;
  sub_2595A8FA0(v197);
  sub_2596B61DC();
  uint64_t v29 = *(void *)(v0 + 2216);
  uint64_t v30 = *(void *)(v29 + 16);
  if (v30)
  {
    sub_259843F00();
    uint64_t v31 = v30 - 1;
    uint64_t v32 = MEMORY[0x263F8EE78];
    OUTLINED_FUNCTION_14_29();
    while (1)
    {
      uint64_t v33 = OUTLINED_FUNCTION_51_17((uint64_t)v33, (const void *)(v29 + v3));
      if (*(unsigned __int8 *)(v0 + 489) >= 2u && *(unsigned char *)(v0 + 488) == 1)
      {
        sub_2594B698C(v0 + 472);
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        v197[0] = v32;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          OUTLINED_FUNCTION_10_31();
          uint64_t v32 = v197[0];
        }
        OUTLINED_FUNCTION_105_8();
        if (v36)
        {
          OUTLINED_FUNCTION_131_8();
          uint64_t v32 = v197[0];
        }
        *(void *)(v32 + 16) = v23;
        uint64_t v33 = OUTLINED_FUNCTION_42_24(v32 + v21 * v1);
      }
      if (!v31) {
        break;
      }
      --v31;
      v3 += 152;
    }
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v32 = MEMORY[0x263F8EE78];
  }
  *(void *)(v0 + 2640) = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  swift_retain_n();
  uint64_t v37 = v32;
  uint64_t v38 = sub_259843A50();
  os_log_type_t v39 = sub_259844B70();
  usedPromptSuggestions = (void *)v32;
  if (os_log_type_enabled((os_log_t)v38, v39))
  {
    uint64_t v40 = OUTLINED_FUNCTION_21_0();
    uint64_t v198 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v40 = 134218243;
    uint64_t v41 = *(void *)(v32 + 16);
    *(void *)(v0 + 2368) = v41;
    sub_259844E10();
    swift_release();
    *(_WORD *)(v40 + 12) = 2081;
    uint64_t v42 = MEMORY[0x263F8EE78];
    if (v41)
    {
      uint64_t v189 = v40;
      v197[0] = MEMORY[0x263F8EE78];
      sub_2594F08BC();
      uint64_t v42 = v197[0];
      uint64_t v43 = (char *)(v37 + 32);
      do
      {
        memcpy((void *)(v0 + 1232), v43, 0x98uLL);
        uint64_t v44 = *(void **)(v0 + 1376);
        sub_2594B698C(v0 + 1232);
        sub_2594B698C(v0 + 1232);
        id v45 = objc_msgSend(v44, sel_string);
        uint64_t v23 = sub_2598440A0();
        uint64_t v47 = v46;

        sub_2594B6A34(v0 + 1232);
        sub_2594B6A34(v0 + 1232);
        v197[0] = v42;
        unint64_t v48 = *(void *)(v42 + 16);
        if (v48 >= *(void *)(v42 + 24) >> 1)
        {
          OUTLINED_FUNCTION_132_9();
          uint64_t v42 = v197[0];
        }
        *(void *)(v42 + 16) = v48 + 1;
        uint64_t v49 = v42 + 16 * v48;
        *(void *)(v49 + 32) = v23;
        *(void *)(v49 + 40) = v47;
        v43 += 152;
        --v41;
      }
      while (v41);
      uint64_t v40 = v189;
    }
    MEMORY[0x25A2DED80](v42, MEMORY[0x263F8D310]);
    uint64_t v50 = OUTLINED_FUNCTION_45_20();
    uint64_t v52 = OUTLINED_FUNCTION_90_14(v50, v51, &v198);
    OUTLINED_FUNCTION_154_9(v52);
    swift_release_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, (os_log_t)v38, v39, "Used smart suggestions from cache (N= %ld\n %{private}s\n", (uint8_t *)v40, 0x16u);
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    uint64_t v2 = (uint64_t *)(v0 + 2216);
  }
  else
  {
    swift_release_n();
  }
  uint64_t v53 = *(void *)(v0 + 2536);
  uint64_t v54 = &qword_259876000;
  if (v53)
  {
    uint64_t v55 = *v2;
    uint64_t v56 = *(void *)(*v2 + 16);
    if (v56)
    {
      uint64_t v57 = sub_259843F00();
      uint64_t v58 = v56 - 1;
      uint64_t v59 = MEMORY[0x263F8EE78];
      for (uint64_t i = 32; ; i += 152)
      {
        uint64_t v57 = (uint64_t)OUTLINED_FUNCTION_51_17(v57, (const void *)(v55 + i));
        if (*(unsigned char *)(v0 + 1744) == 1)
        {
          sub_2594B698C(v0 + 1688);
          char v61 = swift_isUniquelyReferenced_nonNull_native();
          v197[0] = v59;
          if ((v61 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_31();
            uint64_t v59 = v197[0];
          }
          OUTLINED_FUNCTION_105_8();
          if (v36)
          {
            OUTLINED_FUNCTION_131_8();
            uint64_t v59 = v197[0];
          }
          *(void *)(v59 + 16) = v23;
          uint64_t v57 = (uint64_t)OUTLINED_FUNCTION_42_24(v59 + 152 * v38);
        }
        if (!v58) {
          break;
        }
        --v58;
      }
      swift_bridgeObjectRelease();
      uint64_t v2 = (uint64_t *)(v0 + 2216);
      uint64_t v54 = &qword_259876000;
    }
    else
    {
      uint64_t v59 = MEMORY[0x263F8EE78];
    }
    uint64_t *v2 = v59;
    swift_bridgeObjectRelease();
    uint64_t v62 = (void *)sub_259843A50();
    os_log_type_t v63 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v63))
    {
      os_log_type_t v64 = (_DWORD *)OUTLINED_FUNCTION_54();
      LOBYTE(v23) = (_BYTE)v64;
      *os_log_type_t v64 = v54[451];
      *(void *)(v0 + 2360) = *(void *)(*v2 + 16);
      sub_259844E10();
      OUTLINED_FUNCTION_171(&dword_25934C000, v65, v66, "Valid suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v53 = *(void *)(v0 + 2536);
  }
  uint64_t v67 = *(void *)(v0 + 2216);
  uint64_t v68 = *(void *)(v67 + 16);
  *(void *)(v0 + 2648) = v68;
  if ((v53 & 2) != 0)
  {
    if (v68)
    {
      LOBYTE(v23) = v0 + 104;
      uint64_t v69 = sub_259843F00();
      uint64_t v70 = v68 - 1;
      uint64_t v71 = MEMORY[0x263F8EE78];
      for (uint64_t j = 32; ; j += 152)
      {
        uint64_t v69 = (uint64_t)OUTLINED_FUNCTION_71_16(v69, (const void *)(v67 + j));
        if (*(unsigned __int8 *)(v0 + 1401) <= 1u)
        {
          sub_2594B698C(v0 + 1384);
          char v73 = swift_isUniquelyReferenced_nonNull_native();
          v197[0] = v71;
          if ((v73 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_31();
            uint64_t v71 = v197[0];
          }
          unint64_t v74 = *(void *)(v71 + 16);
          if (v74 >= *(void *)(v71 + 24) >> 1)
          {
            OUTLINED_FUNCTION_133_7();
            uint64_t v71 = v197[0];
          }
          *(void *)(v71 + 16) = v74 + 1;
          uint64_t v69 = (uint64_t)OUTLINED_FUNCTION_41_27(v71 + 152 * v74);
        }
        if (!v70) {
          break;
        }
        --v70;
      }
      swift_bridgeObjectRelease();
      uint64_t v2 = (uint64_t *)(v0 + 2216);
      uint64_t v54 = &qword_259876000;
    }
    else
    {
      uint64_t v71 = MEMORY[0x263F8EE78];
    }
    uint64_t *v2 = v71;
    swift_bridgeObjectRelease();
    uint64_t v75 = (void *)sub_259843A50();
    os_log_type_t v76 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v76))
    {
      LOBYTE(v23) = v0 + 40;
      *(_DWORD *)OUTLINED_FUNCTION_54() = v54[451];
      uint64_t v71 = *(void *)(v0 + 2216);
      *(void *)(v0 + 2344) = *(void *)(v71 + 16);
      sub_259844E10();
      OUTLINED_FUNCTION_17_37(&dword_25934C000, v77, v78, "Unused suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v53 = *(void *)(v0 + 2536);
    uint64_t v67 = v71;
  }
  if ((v53 & 4) != 0)
  {
    uint64_t v79 = *(void *)(v67 + 16);
    if (v79)
    {
      LOBYTE(v23) = v0 + 56;
      uint64_t v80 = sub_259843F00();
      uint64_t v81 = v79 - 1;
      uint64_t v82 = MEMORY[0x263F8EE78];
      for (uint64_t k = 32; ; k += 152)
      {
        uint64_t v80 = (uint64_t)OUTLINED_FUNCTION_71_16(v80, (const void *)(v67 + k));
        if (*(unsigned char *)(v0 + 1096) == 1)
        {
          sub_2594B698C(v0 + 1080);
          char v84 = swift_isUniquelyReferenced_nonNull_native();
          v197[0] = v82;
          if ((v84 & 1) == 0)
          {
            OUTLINED_FUNCTION_10_31();
            uint64_t v82 = v197[0];
          }
          unint64_t v85 = *(void *)(v82 + 16);
          if (v85 >= *(void *)(v82 + 24) >> 1)
          {
            OUTLINED_FUNCTION_133_7();
            uint64_t v82 = v197[0];
          }
          *(void *)(v82 + 16) = v85 + 1;
          uint64_t v80 = (uint64_t)OUTLINED_FUNCTION_41_27(v82 + 152 * v85);
        }
        if (!v81) {
          break;
        }
        --v81;
      }
      swift_bridgeObjectRelease();
      uint64_t v2 = (uint64_t *)(v0 + 2216);
      uint64_t v54 = &qword_259876000;
    }
    else
    {
      uint64_t v82 = MEMORY[0x263F8EE78];
    }
    uint64_t *v2 = v82;
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v86 = (void *)sub_259843A50();
    os_log_type_t v87 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v87))
    {
      LOBYTE(v23) = v0 + 24;
      uint64_t v88 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_180_6(v88, COERCE_FLOAT(v54[451]));
      *(void *)(v0 + 2328) = v89;
      sub_259844E10();
      swift_release();
      OUTLINED_FUNCTION_17_37(&dword_25934C000, v90, v91, "Only smart suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
    }
  }
  type metadata accessor for PromptSuggestionRanker();
  OUTLINED_FUNCTION_102();
  *(void *)(v0 + 2656) = PromptSuggestionRanker.init()();
  uint64_t v92 = sub_259843F00();
  uint64_t v93 = PromptSuggestionRanker.dedupe(suggestions:)(v92);
  swift_bridgeObjectRelease();
  sub_259843F00();
  BOOL v94 = sub_259843A50();
  os_log_type_t v95 = sub_259844B30();
  if (OUTLINED_FUNCTION_91(v95))
  {
    uint64_t v96 = (float *)OUTLINED_FUNCTION_54();
    OUTLINED_FUNCTION_180_6(v96, COERCE_FLOAT(v54[451]));
    *(void *)(v0 + 2312) = v97;
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_47(&dword_25934C000, v94, (os_log_type_t)v23, "Deduped prompt suggestions: %ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  uint64_t v98 = *(void *)(v0 + 2536);

  swift_retain();
  uint64_t v99 = sub_259843F00();
  sub_2595A9858(v99);
  swift_release();
  if ((v98 & 8) != 0)
  {
    PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v93);
    uint64_t v100 = v101;
    swift_bridgeObjectRelease();
    sub_259843F00();
    char v102 = sub_259843A50();
    os_log_type_t v103 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v103))
    {
      id v104 = (uint8_t *)OUTLINED_FUNCTION_54();
      *(_DWORD *)id v104 = v54[451];
      *(void *)(v0 + 2304) = *(void *)(v100 + 16);
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v102, (os_log_type_t)v93, "Prompt suggestions with verified people suggestions: %ld", v104, 0xCu);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    sub_259843F00();
    swift_retain();
    sub_2595A9864(v100);
    swift_release();
  }
  else
  {
    uint64_t v100 = v93;
  }
  *(void *)(v0 + 2664) = v100;
  swift_retain();
  uint64_t v105 = sub_259843F00();
  sub_2595A9870(v105);
  swift_release();
  swift_bridgeObjectRetain_n();
  uint64_t v106 = sub_259843A50();
  os_log_type_t v107 = sub_259844B70();
  if (os_log_type_enabled(v106, v107))
  {
    os_log_type_t v190 = v107;
    unint64_t v108 = (_DWORD *)OUTLINED_FUNCTION_54();
    uint64_t v198 = OUTLINED_FUNCTION_20();
    _DWORD *v108 = 136380675;
    uint64_t v109 = *(void *)(v100 + 16);
    uint64_t v110 = MEMORY[0x263F8EE78];
    if (v109)
    {
      uint64_t v188 = v106;
      v197[0] = MEMORY[0x263F8EE78];
      sub_259843F00();
      sub_2594F08BC();
      uint64_t v110 = v197[0];
      uint64_t v111 = v109 - 1;
      for (uint64_t m = 32; ; m += 152)
      {
        memcpy((void *)(v0 + 624), (const void *)(v100 + m), 0x98uLL);
        uint64_t v113 = *(void **)(v0 + 768);
        sub_2594B698C(v0 + 624);
        sub_2594B698C(v0 + 624);
        id v114 = objc_msgSend(v113, sel_string);
        uint64_t v115 = sub_2598440A0();
        uint64_t v117 = v116;

        sub_2594B6A34(v0 + 624);
        sub_2594B6A34(v0 + 624);
        v197[0] = v110;
        OUTLINED_FUNCTION_105_8();
        if (v36)
        {
          sub_2594F08BC();
          uint64_t v110 = v197[0];
        }
        *(void *)(v110 + 16) = v114;
        uint64_t v118 = v110 + 16 * log;
        *(void *)(v118 + 32) = v115;
        *(void *)(v118 + 40) = v117;
        if (!v111) {
          break;
        }
        --v111;
      }
      swift_bridgeObjectRelease();
      uint64_t v106 = v188;
    }
    MEMORY[0x25A2DED80](v110, MEMORY[0x263F8D310]);
    uint64_t v120 = OUTLINED_FUNCTION_73_12();
    *(void *)(v0 + 2296) = OUTLINED_FUNCTION_160_6(v120, v121, &v198);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_132_8(&dword_25934C000, v106, v190, "Prompt suggestions before ranking\n %{private}s\n");
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    v119._rawValue = usedPromptSuggestions;
  }
  else
  {
    swift_bridgeObjectRelease_n();

    v119._rawValue = usedPromptSuggestions;
  }
  uint64_t v122 = *(void *)(v0 + 2464);
  Swift::Int v123 = *(void *)(v0 + 2456);
  uint64_t v124 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  *(void *)(v0 + 2672) = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_embeddingDistanceThresholdForRanking;
  uint64_t v196 = v124;
  Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double v125 = PromptSuggestionRanker.fetchTopPromptSuggestions(promptSuggestionCandidates:usedPromptSuggestions:fetchLimit:embeddingDistanceThreshold:)((Swift::OpaquePointer)v100, v119, v123, *(Swift::Double *)(v122 + v124));
  swift_release();
  *(Swift::tuple_suggestions_OpaquePointer_lastEmbeddingDistanceThreshold_Double *)(v0 + 2680) = v125;
  swift_retain();
  uint64_t v126 = sub_259843F00();
  sub_2595A987C(v126);
  swift_release();
  swift_bridgeObjectRetain_n();
  uint64_t v127 = sub_259843A50();
  os_log_type_t v128 = sub_259844B70();
  BOOL v129 = os_log_type_enabled(v127, v128);
  uint64_t v130 = &qword_259876000;
  uint64_t v131 = MEMORY[0x263F8D538];
  uint64_t v132 = MEMORY[0x263F8D5B8];
  if (v129)
  {
    os_log_type_t v191 = v128;
    loga = v127;
    uint64_t v133 = OUTLINED_FUNCTION_20();
    uint64_t v198 = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v133 = 134218499;
    uint64_t v134 = *((void *)v125.suggestions._rawValue + 2);
    *(void *)(v0 + 2256) = v134;
    sub_259844E10();
    swift_bridgeObjectRelease();
    uint64_t v192 = v133;
    *(_WORD *)(v133 + 12) = 2081;
    uint64_t v135 = MEMORY[0x263F8EE78];
    if (v134)
    {
      v197[0] = MEMORY[0x263F8EE78];
      sub_2594F08BC();
      uint64_t v135 = v197[0];
      uint64_t v136 = (char *)v125.suggestions._rawValue + 32;
      do
      {
        memcpy((void *)(v0 + 320), v136, 0x98uLL);
        uint64_t v137 = *(void **)(v0 + 464);
        sub_2594B698C(v0 + 320);
        sub_2594B698C(v0 + 320);
        id v138 = objc_msgSend(v137, sel_string);
        uint64_t v139 = sub_2598440A0();
        uint64_t v141 = v140;

        sub_2594B6A34(v0 + 320);
        sub_2594B6A34(v0 + 320);
        v197[0] = v135;
        unint64_t v142 = *(void *)(v135 + 16);
        if (v142 >= *(void *)(v135 + 24) >> 1)
        {
          OUTLINED_FUNCTION_132_9();
          uint64_t v135 = v197[0];
        }
        *(void *)(v135 + 16) = v142 + 1;
        uint64_t v143 = v135 + 16 * v142;
        *(void *)(v143 + 32) = v139;
        *(void *)(v143 + 40) = v141;
        v136 += 152;
        --v134;
      }
      while (v134);
      uint64_t v131 = MEMORY[0x263F8D538];
      uint64_t v132 = MEMORY[0x263F8D5B8];
      uint64_t v130 = &qword_259876000;
    }
    MEMORY[0x25A2DED80](v135, MEMORY[0x263F8D310]);
    uint64_t v145 = OUTLINED_FUNCTION_45_20();
    *(void *)(v0 + 2272) = OUTLINED_FUNCTION_90_14(v145, v146, &v198);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v192 + 22) = 2080;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
    uint64_t v147 = OUTLINED_FUNCTION_4_1();
    *(_OWORD *)(v147 + 16) = *((_OWORD *)v130 + 146);
    *(void *)(v147 + 56) = v131;
    *(void *)(v147 + 64) = v132;
    *(Swift::Double *)(v147 + 32) = v125.lastEmbeddingDistanceThreshold;
    uint64_t v148 = OUTLINED_FUNCTION_9_14();
    uint64_t v150 = sub_259356D5C(v148, v149, &v198);
    OUTLINED_FUNCTION_67_18(v150);
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, loga, v191, "Prompt suggestions after diversity treatment (N= %ld\n %{private}s\n\nLast embeddingDistanceThreshold:%s", (uint8_t *)v192, 0x20u);
    OUTLINED_FUNCTION_80_13();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    uint64_t v144 = v196;
  }
  else
  {
    swift_bridgeObjectRelease_n();

    uint64_t v144 = v196;
  }
  if (v125.lastEmbeddingDistanceThreshold < *(double *)(v122 + v144))
  {
    swift_retain_n();
    uint64_t v151 = sub_259843A50();
    os_log_type_t v152 = sub_259844B70();
    if (os_log_type_enabled(v151, v152))
    {
      uint64_t v153 = v122;
      uint64_t v154 = OUTLINED_FUNCTION_21_0();
      v197[0] = OUTLINED_FUNCTION_18_1();
      *(_DWORD *)uint64_t v154 = 136315394;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300570);
      uint64_t v155 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v155 + 16) = xmmword_259876920;
      uint64_t v156 = *(void *)(v153 + v144);
      *(void *)(v155 + 56) = v131;
      *(void *)(v155 + 64) = v132;
      *(void *)(v155 + 32) = v156;
      uint64_t v157 = OUTLINED_FUNCTION_9_14();
      *(void *)(v0 + 2240) = sub_259356D5C(v157, v158, v197);
      sub_259844E10();
      OUTLINED_FUNCTION_131_0();
      swift_bridgeObjectRelease();
      *(_WORD *)(v154 + 12) = 2080;
      uint64_t v159 = OUTLINED_FUNCTION_4_1();
      *(_OWORD *)(v159 + 16) = xmmword_259876920;
      *(void *)(v159 + 56) = v131;
      *(void *)(v159 + 64) = v132;
      *(Swift::Double *)(v159 + 32) = v125.lastEmbeddingDistanceThreshold;
      uint64_t v160 = OUTLINED_FUNCTION_9_14();
      *(void *)(v0 + 2248) = sub_259356D5C(v160, v161, v197);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_86_13(&dword_25934C000, v151, v152, "Distance threshold was updated from %s to %s. Updating plist");
      OUTLINED_FUNCTION_80_13();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_131_0();
    }

    OUTLINED_FUNCTION_54_21();
    OUTLINED_FUNCTION_30_26();
    os_log_type_t v168 = (void *)swift_task_alloc();
    *(void *)(v0 + 2704) = v168;
    *os_log_type_t v168 = v0;
    v168[1] = sub_2596B0B5C;
    OUTLINED_FUNCTION_124_9();
    OUTLINED_FUNCTION_83_13();
    __asm { BRAA            X6, X16 }
  }
  OUTLINED_FUNCTION_145_8();
  uint64_t v162 = OUTLINED_FUNCTION_96();
  *(void *)(v0 + 2720) = v162;
  PromptSuggestionProvider.suggestionsWithValidNumberOfAssets(_:)(v122);
  OUTLINED_FUNCTION_194_8();
  OUTLINED_FUNCTION_189_7();
  uint64_t v163 = sub_259843F00();
  sub_2595A9888(v163);
  swift_release();
  if (*(void *)(*(void *)v122 + 16) >= (uint64_t)v130)
  {
    OUTLINED_FUNCTION_66_18();
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v171 = sub_259843F00();
    sub_2595A98A0(v171);
    swift_release();
    uint64_t v172 = *(void *)(v131 + 16);
    sub_259843F00();
    sub_259843F00();
    uint64_t v173 = sub_259843A50();
    os_log_type_t v174 = sub_259844B70();
    BOOL v175 = OUTLINED_FUNCTION_218(v174);
    uint64_t v176 = *(void *)(v0 + 2664);
    if (v175)
    {
      uint64_t v177 = *(void *)(v0 + 2648);
      uint64_t v178 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v178 = 134218496;
      *(void *)(v0 + 2432) = *(void *)(v172 + 16);
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v178 + 12) = 2048;
      *(void *)(v0 + 2416) = v177;
      sub_259844E10();
      *(_WORD *)(v178 + 22) = 2048;
      uint64_t v179 = *(void *)(v176 + 16);
      swift_bridgeObjectRelease();
      *(void *)(v0 + 2400) = v179;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v173, (os_log_type_t)v162, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld", (uint8_t *)v178, 0x20u);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();

      OUTLINED_FUNCTION_190();
    }
    OUTLINED_FUNCTION_99_10();
    OUTLINED_FUNCTION_13_45(v183);
    OUTLINED_FUNCTION_63_17();
    *(void *)(v0 + 2792) = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    OUTLINED_FUNCTION_83_13();
    return MEMORY[0x270FA2498](v184, v185, v186);
  }
  else
  {
    OUTLINED_FUNCTION_205_6();
    uint64_t v164 = (void *)sub_259843A50();
    os_log_type_t v165 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v165))
    {
      *(_DWORD *)OUTLINED_FUNCTION_21_0() = 134218240;
      OUTLINED_FUNCTION_28();
      OUTLINED_FUNCTION_153_9();
      sub_259844E10();
      swift_release();
      OUTLINED_FUNCTION_100_9();
      sub_259844E10();
      OUTLINED_FUNCTION_50_19(&dword_25934C000, v166, v167, "Result suggestions count (%ld) is less than requested (%ld), Fetch on-demand fallback suggestions to fill in");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
    }

    uint64_t v180 = (void *)swift_task_alloc();
    *(void *)(v0 + 2728) = v180;
    *uint64_t v180 = v0;
    v180[1] = sub_2596B0FC8;
    OUTLINED_FUNCTION_164_6();
    OUTLINED_FUNCTION_83_13();
    return PromptSuggestionProvider.fetchFallbackSuggestions(maxSuggestionResults:)();
  }
}

uint64_t sub_2596B4584()
{
  uint64_t v1 = *(void *)(v0 + 2504);
  swift_release();
  swift_release();
  sub_25966DE0C(v1, (uint64_t *)&unk_26B2F8390);
  __swift_destroy_boxed_opaque_existential_1(v0 + 1840);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_2593563FC();
  swift_release();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v2();
}

uint64_t sub_2596B4690(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54)
{
  OUTLINED_FUNCTION_123_1();
  a53 = v56;
  a54 = v57;
  OUTLINED_FUNCTION_249();
  a52 = v55;
  uint64_t v58 = *(void **)(v55 + 2744);
  id v59 = v58;
  id v60 = v58;
  char v61 = sub_259843A50();
  os_log_type_t v62 = sub_259844B50();
  if (os_log_type_enabled(v61, v62))
  {
    os_log_type_t v63 = *(void **)(v55 + 2744);
    uint64_t v54 = OUTLINED_FUNCTION_54();
    os_log_type_t v64 = (void *)OUTLINED_FUNCTION_84();
    *(_DWORD *)uint64_t v54 = 138412290;
    id v65 = v63;
    uint64_t v66 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v55 + 2184) = v66;
    sub_259844E10();
    *os_log_type_t v64 = v66;

    _os_log_impl(&dword_25934C000, v61, v62, "Error fetching on-demand fallback suggestions %@", (uint8_t *)v54, 0xCu);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    os_log_type_t v63 = *(void **)(v55 + 2744);
  }
  uint64_t v67 = MEMORY[0x263F8EE78];
  *(void *)(v55 + 2752) = MEMORY[0x263F8EE78];
  if (*(void *)(v67 + 16))
  {
    uint64_t v68 = (void *)OUTLINED_FUNCTION_182_8();
    OUTLINED_FUNCTION_168_6(v68);
    *(unsigned char *)(v55 + 2812) = 2;
    uint64_t v173 = *(void *)(v54 + 32) + **(int **)(v54 + 32);
    uint64_t v69 = (void *)swift_task_alloc();
    *(void *)(v55 + 2760) = v69;
    *uint64_t v69 = v55;
    v69[1] = sub_2596B20AC;
    OUTLINED_FUNCTION_39();
    return v75(v70, v71, v72, v73, v74, v75, v76, v77, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19,
             a20,
             a21,
             a22,
             a23,
             a24,
             a25,
             a26,
             a27,
             a28,
             a29,
             a30,
             a31,
             a32,
             a33,
             a34,
             a35,
             a36,
             a37,
             v173,
             v54 + 32,
             a40,
             a41,
             a42,
             a43,
             a44,
             a45,
             a46);
  }
  else
  {
    uint64_t v79 = *(void *)(v55 + 2464) + *(void *)(v55 + 2640);
    OUTLINED_FUNCTION_57();
    OUTLINED_FUNCTION_177_8();
    sub_259843F00();
    sub_25973EF08();
    uint64_t v80 = sub_259843F00();
    uint64_t v81 = PromptSuggestionRanker.dedupe(suggestions:)(v80);
    OUTLINED_FUNCTION_77();
    *(void *)(v55 + 2376) = v81;
    uint64_t v82 = sub_259843A50();
    os_log_type_t v83 = sub_259844B30();
    if (OUTLINED_FUNCTION_52(v83))
    {
      *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
      OUTLINED_FUNCTION_28();
      OUTLINED_FUNCTION_19_35();
      OUTLINED_FUNCTION_47(&dword_25934C000, v82, (os_log_type_t)v79, "Deduped prompt suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    uint64_t v84 = *(void *)(v55 + 2536);

    if ((v84 & 8) != 0)
    {
      uint64_t v85 = OUTLINED_FUNCTION_32_26();
      PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v85);
      OUTLINED_FUNCTION_62_8();
      OUTLINED_FUNCTION_57();
      OUTLINED_FUNCTION_172_8();
      uint64_t v82 = sub_259843A50();
      os_log_type_t v86 = sub_259844B30();
      if (OUTLINED_FUNCTION_218(v86))
      {
        os_log_type_t v87 = (float *)OUTLINED_FUNCTION_54();
        OUTLINED_FUNCTION_11_54(v87, 3.852e-34);
        OUTLINED_FUNCTION_17_37(&dword_25934C000, v88, v89, "Prompt suggestions with verified people suggestions: %ld");
        OUTLINED_FUNCTION_61_0();
      }
    }
    uint64_t v90 = OUTLINED_FUNCTION_78_14();
    if (!(v92 ^ v93 | v91))
    {
      OUTLINED_FUNCTION_167_8(v90);
      OUTLINED_FUNCTION_37_23();
      uint64_t v94 = OUTLINED_FUNCTION_47_22();
      OUTLINED_FUNCTION_57();
      *(void *)(v55 + 2376) = v94;
      swift_bridgeObjectRelease();
    }
    uint64_t v95 = *(void *)(v55 + 2720);
    OUTLINED_FUNCTION_46_25();
    uint64_t v96 = OUTLINED_FUNCTION_129_0();
    *(void *)(v96 + 16) = sub_2596BD158;
    *(void *)(v96 + 24) = v95;
    uint64_t v97 = v96;
    uint64_t v98 = *(void *)(v55 + 2376);
    uint64_t v99 = OUTLINED_FUNCTION_96();
    *(void *)(v99 + 16) = v98;
    uint64_t v100 = v99;
    uint64_t v101 = OUTLINED_FUNCTION_96();
    *(void *)(v101 + 16) = v98;
    uint64_t v102 = OUTLINED_FUNCTION_129_0();
    *(void *)(v102 + 16) = sub_2596BD174;
    *(void *)(v102 + 24) = v101;
    uint64_t v103 = v102;
    OUTLINED_FUNCTION_123_9();
    uint64_t v164 = v98;
    swift_bridgeObjectRetain_n();
    swift_retain();
    uint64_t v167 = sub_259843A50();
    os_log_type_t v166 = sub_259844B70();
    uint64_t v168 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v168 + 16) = 0;
    uint64_t v175 = OUTLINED_FUNCTION_8_4();
    OUTLINED_FUNCTION_165_7(v175);
    uint64_t v104 = OUTLINED_FUNCTION_129_0();
    *(void *)(v104 + 16) = sub_2596BD150;
    *(void *)(v104 + 24) = v95;
    uint64_t v105 = v104;
    uint64_t v174 = OUTLINED_FUNCTION_129_0();
    *(void *)(v174 + 16) = sub_2596BD1B4;
    *(void *)(v174 + 24) = v105;
    uint64_t v171 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v171 + 16) = 33;
    uint64_t v172 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v172 + 16) = (_BYTE)v82;
    uint64_t v106 = OUTLINED_FUNCTION_129_0();
    *(void *)(v106 + 16) = sub_2596BD160;
    *(void *)(v106 + 24) = v97;
    uint64_t v107 = v106;
    uint64_t v108 = OUTLINED_FUNCTION_129_0();
    *(void *)(v108 + 16) = sub_259683080;
    *(void *)(v108 + 24) = v107;
    uint64_t v109 = v108;
    uint64_t v170 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v170 + 16) = 0;
    unint64_t v110 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v110 + 16) = (_BYTE)v82;
    uint64_t v111 = OUTLINED_FUNCTION_129_0();
    *(void *)(v111 + 16) = sub_2596BD168;
    *(void *)(v111 + 24) = v100;
    uint64_t v165 = OUTLINED_FUNCTION_129_0();
    *(void *)(v165 + 16) = sub_2596BDD34;
    *(void *)(v165 + 24) = v111;
    uint64_t v169 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v169 + 16) = 33;
    uint64_t v112 = OUTLINED_FUNCTION_8_4();
    *(unsigned char *)(v112 + 16) = (_BYTE)v82;
    uint64_t v113 = OUTLINED_FUNCTION_129_0();
    *(void *)(v113 + 16) = sub_2596BDCF0;
    *(void *)(v113 + 24) = v103;
    uint64_t v114 = OUTLINED_FUNCTION_129_0();
    *(void *)(v114 + 16) = sub_2596834F0;
    *(void *)(v114 + 24) = v113;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
    uint64_t v115 = OUTLINED_FUNCTION_163_7();
    *(_OWORD *)(v115 + 16) = xmmword_259883510;
    *(void *)(v115 + 32) = sub_259683074;
    *(void *)(v115 + 40) = v168;
    *(void *)(v115 + 48) = sub_2596834FC;
    *(void *)(v115 + 56) = v175;
    *(void *)(v115 + 64) = sub_2596BD1BC;
    *(void *)(v115 + 72) = v174;
    *(void *)(v115 + 80) = sub_2596834FC;
    *(void *)(v115 + 88) = v171;
    *(void *)(v115 + 96) = sub_2596834FC;
    *(void *)(v115 + 104) = v172;
    *(void *)(v115 + 112) = sub_259683088;
    *(void *)(v115 + 120) = v109;
    *(void *)(v115 + 128) = sub_2596834FC;
    *(void *)(v115 + 136) = v170;
    *(void *)(v115 + 144) = sub_2596834FC;
    *(void *)(v115 + 152) = v110;
    *(void *)(v115 + 160) = sub_2596BDCF4;
    *(void *)(v115 + 168) = v165;
    *(void *)(v115 + 176) = sub_2596834FC;
    *(void *)(v115 + 184) = v169;
    *(void *)(v115 + 192) = sub_2596834FC;
    *(void *)(v115 + 200) = v112;
    *(void *)(v115 + 208) = sub_2596834F4;
    *(void *)(v115 + 216) = v114;
    swift_setDeallocating();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    swift_retain();
    uint64_t v116 = v112;
    swift_retain();
    swift_retain();
    sub_259745EA0();
    BOOL v117 = os_log_type_enabled(v167, v166);
    uint64_t v118 = *(void *)(v55 + 2720);
    if (v117)
    {
      uint64_t v119 = OUTLINED_FUNCTION_49_24();
      uint64_t v120 = OUTLINED_FUNCTION_18_1();
      OUTLINED_FUNCTION_93_11(v120);
      *(unsigned char *)(v119 + 3) = 8;
      swift_release();
      OUTLINED_FUNCTION_116_4();
      OUTLINED_FUNCTION_109_8();
      swift_release();
      swift_release();
      *(unsigned char *)(v119 + 12) = 33;
      swift_release();
      *(unsigned char *)(v119 + 13) = 8;
      swift_release();
      uint64_t v121 = *(void *)(v118 + 16);
      uint64_t v122 = *(void *)(v121 + 16);
      uint64_t v123 = MEMORY[0x263F8EE78];
      if (v122)
      {
        OUTLINED_FUNCTION_186_8();
        OUTLINED_FUNCTION_58_19();
        uint64_t v123 = a41;
        uint64_t v125 = v122 - 1;
        while (1)
        {
          OUTLINED_FUNCTION_71_16(v124, (const void *)(v121 + 32));
          uint64_t v126 = *(void **)(v55 + 160);
          sub_2594B698C(v55 + 16);
          sub_2594B698C(v55 + 16);
          uint64_t v116 = (uint64_t)objc_msgSend(v126, sel_string);
          uint64_t v122 = sub_2598440A0();
          unint64_t v110 = v127;

          sub_2594B6A34(v55 + 16);
          sub_2594B6A34(v55 + 16);
          OUTLINED_FUNCTION_187_6();
          if (v128)
          {
            OUTLINED_FUNCTION_135_7();
            uint64_t v123 = a41;
          }
          *(void *)(v123 + 16) = v116;
          uint64_t v129 = v123 + 16 * v119;
          *(void *)(v129 + 32) = v122;
          *(void *)(v129 + 40) = v110;
          if (!v125) {
            break;
          }
          OUTLINED_FUNCTION_148_9();
        }
        swift_bridgeObjectRelease();
        uint64_t v130 = v164;
      }
      else
      {
        uint64_t v130 = v164;
      }
      uint64_t v131 = *(void *)(v55 + 2720);
      MEMORY[0x25A2DED80](v123, MEMORY[0x263F8D310]);
      OUTLINED_FUNCTION_33_12();
      uint64_t v132 = sub_259356D5C(v122, v110, &a40);
      OUTLINED_FUNCTION_107_9(v132);
      OUTLINED_FUNCTION_175_6();
      swift_release();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
      *(unsigned char *)(v119 + 22) = 0;
      swift_release();
      OUTLINED_FUNCTION_113_8();
      swift_bridgeObjectRelease();
      swift_release();
      OUTLINED_FUNCTION_106_9();
      swift_release();
      swift_release();
      *(unsigned char *)(v119 + 32) = 33;
      swift_release();
      *(unsigned char *)(v119 + 33) = v131;
      swift_release();
      uint64_t v133 = *(void *)(v130 + 16);
      uint64_t v134 = MEMORY[0x263F8EE78];
      if (v133)
      {
        OUTLINED_FUNCTION_158_9();
        OUTLINED_FUNCTION_34_28();
        uint64_t v134 = a41;
        uint64_t v136 = v133 - 1;
        while (1)
        {
          OUTLINED_FUNCTION_121_8(v135, (const void *)(v119 + 32));
          uint64_t v137 = *(void **)(v55 + 1072);
          sub_2594B698C(v131);
          sub_2594B698C(v131);
          id v138 = objc_msgSend(v137, sel_string);
          uint64_t v139 = sub_2598440A0();
          uint64_t v141 = v140;

          sub_2594B6A34(v131);
          sub_2594B6A34(v131);
          OUTLINED_FUNCTION_185_6();
          if (v128)
          {
            OUTLINED_FUNCTION_136_7();
            uint64_t v134 = a41;
          }
          *(void *)(v134 + 16) = v138;
          uint64_t v142 = v134 + 16 * v116;
          *(void *)(v142 + 32) = v139;
          *(void *)(v142 + 40) = v141;
          if (!v136) {
            break;
          }
          OUTLINED_FUNCTION_148_9();
        }
        swift_bridgeObjectRelease();
      }
      uint64_t v143 = MEMORY[0x25A2DED80](v134, MEMORY[0x263F8D310]);
      unint64_t v145 = v144;
      swift_bridgeObjectRelease();
      uint64_t v146 = sub_259356D5C(v143, v145, &a40);
      OUTLINED_FUNCTION_70_14(v146);
      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_118_7(&dword_25934C000, v147, v166, "originalResultSuggestions (N=%ld): %{private}s\n)\nupdatedResultSuggestions (N=%ld): %{private}s\n)");
      OUTLINED_FUNCTION_80_13();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      swift_release();

      swift_release();
      swift_release();
      OUTLINED_FUNCTION_195_8();
      swift_bridgeObjectRelease_n();
      swift_release();
    }
    uint64_t v148 = *(void *)(v55 + 2752);
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_157_7();
    uint64_t v149 = sub_259843F00();
    uint64_t v150 = sub_2596AC920(v149, v148);
    sub_2595A9894(v150);
    swift_release();
    OUTLINED_FUNCTION_156_8();
    uint64_t v151 = *(void *)(v55 + 2720);
    OUTLINED_FUNCTION_28();
    swift_retain();
    uint64_t v152 = sub_259843F00();
    sub_2595A98A0(v152);
    swift_release();
    uint64_t v153 = *(void *)(v151 + 16);
    sub_259843F00();
    sub_259843F00();
    uint64_t v154 = (void *)sub_259843A50();
    os_log_type_t v155 = sub_259844B70();
    if (OUTLINED_FUNCTION_218(v155))
    {
      uint64_t v156 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v156 = 134218496;
      OUTLINED_FUNCTION_33_28(*(void *)(v153 + 16));
      swift_bridgeObjectRelease();
      *(_WORD *)(v156 + 12) = 2048;
      OUTLINED_FUNCTION_20_41();
      OUTLINED_FUNCTION_161_6();
      OUTLINED_FUNCTION_125_9();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_18_29(&dword_25934C000, v157, v158, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();

      OUTLINED_FUNCTION_190();
    }
    OUTLINED_FUNCTION_99_10();
    OUTLINED_FUNCTION_13_45(v159);
    OUTLINED_FUNCTION_63_17();
    *(void *)(v55 + 2792) = sub_259844700();
    OUTLINED_FUNCTION_65_17();
    OUTLINED_FUNCTION_52_16();
    OUTLINED_FUNCTION_62_16();
    OUTLINED_FUNCTION_39();
    return MEMORY[0x270FA2498](v160, v161, v162);
  }
}

uint64_t sub_2596B54B8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,void *a52,uint64_t a53,uint64_t a54)
{
  OUTLINED_FUNCTION_123_1();
  a53 = v55;
  a54 = v56;
  OUTLINED_FUNCTION_249();
  a52 = v54;
  uint64_t v57 = (void *)v54[346];
  OUTLINED_FUNCTION_46_25();
  id v58 = v57;
  id v59 = v57;
  id v60 = (void *)sub_259843A50();
  os_log_type_t v61 = sub_259844B50();
  if (OUTLINED_FUNCTION_30_1(v61))
  {
    os_log_type_t v62 = (void *)v54[346];
    os_log_type_t v63 = (_DWORD *)OUTLINED_FUNCTION_54();
    os_log_type_t v64 = (void *)OUTLINED_FUNCTION_84();
    *os_log_type_t v63 = 138412290;
    id v65 = v62;
    uint64_t v66 = _swift_stdlib_bridgeErrorToNSError();
    v54[275] = v66;
    sub_259844E10();
    *os_log_type_t v64 = v66;

    OUTLINED_FUNCTION_155(&dword_25934C000, v67, v68, "Error persisting on-demand fallback suggestions %@");
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    uint64_t v69 = (void *)v54[346];
  }
  OUTLINED_FUNCTION_57();
  OUTLINED_FUNCTION_177_8();
  sub_259843F00();
  sub_25973EF08();
  os_log_type_t v70 = a41;
  uint64_t v71 = sub_259843F00();
  uint64_t v72 = PromptSuggestionRanker.dedupe(suggestions:)(v71);
  OUTLINED_FUNCTION_190();
  v54[297] = v72;
  uint64_t v73 = sub_259843A50();
  os_log_type_t v74 = sub_259844B30();
  if (OUTLINED_FUNCTION_52(v74))
  {
    *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
    OUTLINED_FUNCTION_28();
    OUTLINED_FUNCTION_19_35();
    OUTLINED_FUNCTION_47(&dword_25934C000, v73, v70, "Deduped prompt suggestions: %ld");
    OUTLINED_FUNCTION_61_0();
  }
  uint64_t v75 = v54[317];

  if ((v75 & 8) != 0)
  {
    uint64_t v76 = OUTLINED_FUNCTION_32_26();
    PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(v76);
    OUTLINED_FUNCTION_62_8();
    OUTLINED_FUNCTION_57();
    OUTLINED_FUNCTION_172_8();
    uint64_t v73 = sub_259843A50();
    os_log_type_t v77 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v77))
    {
      uint64_t v78 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_11_54(v78, 3.852e-34);
      OUTLINED_FUNCTION_17_37(&dword_25934C000, v79, v80, "Prompt suggestions with verified people suggestions: %ld");
      OUTLINED_FUNCTION_61_0();
    }
  }
  uint64_t v81 = OUTLINED_FUNCTION_78_14();
  if (!(v83 ^ v84 | v82))
  {
    OUTLINED_FUNCTION_167_8(v81);
    OUTLINED_FUNCTION_37_23();
    uint64_t v85 = OUTLINED_FUNCTION_47_22();
    OUTLINED_FUNCTION_57();
    v54[297] = v85;
    swift_bridgeObjectRelease();
  }
  uint64_t v86 = v54[340];
  OUTLINED_FUNCTION_46_25();
  uint64_t v87 = OUTLINED_FUNCTION_129_0();
  *(void *)(v87 + 16) = sub_2596BD158;
  *(void *)(v87 + 24) = v86;
  uint64_t v88 = v87;
  uint64_t v89 = v54[297];
  uint64_t v90 = OUTLINED_FUNCTION_96();
  *(void *)(v90 + 16) = v89;
  uint64_t v91 = v90;
  uint64_t v92 = OUTLINED_FUNCTION_96();
  *(void *)(v92 + 16) = v89;
  uint64_t v93 = OUTLINED_FUNCTION_129_0();
  *(void *)(v93 + 16) = sub_2596BD174;
  *(void *)(v93 + 24) = v92;
  uint64_t v94 = v93;
  OUTLINED_FUNCTION_123_9();
  uint64_t v156 = v89;
  swift_bridgeObjectRetain_n();
  swift_retain();
  uint64_t v159 = sub_259843A50();
  os_log_type_t v158 = sub_259844B70();
  uint64_t v160 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v160 + 16) = 0;
  uint64_t v166 = OUTLINED_FUNCTION_8_4();
  OUTLINED_FUNCTION_165_7(v166);
  uint64_t v95 = OUTLINED_FUNCTION_129_0();
  *(void *)(v95 + 16) = sub_2596BD150;
  *(void *)(v95 + 24) = v86;
  uint64_t v96 = v95;
  uint64_t v165 = OUTLINED_FUNCTION_129_0();
  *(void *)(v165 + 16) = sub_2596BD1B4;
  *(void *)(v165 + 24) = v96;
  uint64_t v163 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v163 + 16) = 33;
  uint64_t v164 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v164 + 16) = (_BYTE)v73;
  uint64_t v97 = OUTLINED_FUNCTION_129_0();
  *(void *)(v97 + 16) = sub_2596BD160;
  *(void *)(v97 + 24) = v88;
  uint64_t v98 = v97;
  uint64_t v99 = OUTLINED_FUNCTION_129_0();
  *(void *)(v99 + 16) = sub_259683080;
  *(void *)(v99 + 24) = v98;
  uint64_t v100 = v99;
  uint64_t v162 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v162 + 16) = 0;
  unint64_t v101 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v101 + 16) = (_BYTE)v73;
  uint64_t v102 = OUTLINED_FUNCTION_129_0();
  *(void *)(v102 + 16) = sub_2596BD168;
  *(void *)(v102 + 24) = v91;
  uint64_t v157 = OUTLINED_FUNCTION_129_0();
  *(void *)(v157 + 16) = sub_2596BDD34;
  *(void *)(v157 + 24) = v102;
  uint64_t v161 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v161 + 16) = 33;
  uint64_t v103 = OUTLINED_FUNCTION_8_4();
  *(unsigned char *)(v103 + 16) = (_BYTE)v73;
  uint64_t v104 = OUTLINED_FUNCTION_129_0();
  *(void *)(v104 + 16) = sub_2596BDCF0;
  *(void *)(v104 + 24) = v94;
  uint64_t v105 = OUTLINED_FUNCTION_129_0();
  *(void *)(v105 + 16) = sub_2596834F0;
  *(void *)(v105 + 24) = v104;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A8);
  uint64_t v106 = OUTLINED_FUNCTION_163_7();
  *(_OWORD *)(v106 + 16) = xmmword_259883510;
  *(void *)(v106 + 32) = sub_259683074;
  *(void *)(v106 + 40) = v160;
  *(void *)(v106 + 48) = sub_2596834FC;
  *(void *)(v106 + 56) = v166;
  *(void *)(v106 + 64) = sub_2596BD1BC;
  *(void *)(v106 + 72) = v165;
  *(void *)(v106 + 80) = sub_2596834FC;
  *(void *)(v106 + 88) = v163;
  *(void *)(v106 + 96) = sub_2596834FC;
  *(void *)(v106 + 104) = v164;
  *(void *)(v106 + 112) = sub_259683088;
  *(void *)(v106 + 120) = v100;
  *(void *)(v106 + 128) = sub_2596834FC;
  *(void *)(v106 + 136) = v162;
  *(void *)(v106 + 144) = sub_2596834FC;
  *(void *)(v106 + 152) = v101;
  *(void *)(v106 + 160) = sub_2596BDCF4;
  *(void *)(v106 + 168) = v157;
  *(void *)(v106 + 176) = sub_2596834FC;
  *(void *)(v106 + 184) = v161;
  *(void *)(v106 + 192) = sub_2596834FC;
  *(void *)(v106 + 200) = v103;
  *(void *)(v106 + 208) = sub_2596834F4;
  *(void *)(v106 + 216) = v105;
  swift_setDeallocating();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  uint64_t v107 = v103;
  swift_retain();
  swift_retain();
  sub_259745EA0();
  BOOL v108 = os_log_type_enabled(v159, v158);
  uint64_t v109 = v54[340];
  if (v108)
  {
    uint64_t v110 = OUTLINED_FUNCTION_49_24();
    uint64_t v111 = OUTLINED_FUNCTION_18_1();
    OUTLINED_FUNCTION_93_11(v111);
    *(unsigned char *)(v110 + 3) = 8;
    swift_release();
    OUTLINED_FUNCTION_116_4();
    OUTLINED_FUNCTION_109_8();
    swift_release();
    swift_release();
    *(unsigned char *)(v110 + 12) = 33;
    swift_release();
    *(unsigned char *)(v110 + 13) = 8;
    swift_release();
    uint64_t v112 = *(void *)(v109 + 16);
    uint64_t v113 = *(void *)(v112 + 16);
    uint64_t v114 = MEMORY[0x263F8EE78];
    if (v113)
    {
      OUTLINED_FUNCTION_186_8();
      OUTLINED_FUNCTION_58_19();
      uint64_t v114 = a41;
      uint64_t v116 = v113 - 1;
      while (1)
      {
        OUTLINED_FUNCTION_71_16(v115, (const void *)(v112 + 32));
        BOOL v117 = (void *)v54[20];
        sub_2594B698C((uint64_t)(v54 + 2));
        sub_2594B698C((uint64_t)(v54 + 2));
        uint64_t v107 = (uint64_t)objc_msgSend(v117, sel_string);
        uint64_t v113 = sub_2598440A0();
        unint64_t v101 = v118;

        sub_2594B6A34((uint64_t)(v54 + 2));
        sub_2594B6A34((uint64_t)(v54 + 2));
        OUTLINED_FUNCTION_187_6();
        if (v119)
        {
          OUTLINED_FUNCTION_135_7();
          uint64_t v114 = a41;
        }
        *(void *)(v114 + 16) = v107;
        uint64_t v120 = v114 + 16 * v110;
        *(void *)(v120 + 32) = v113;
        *(void *)(v120 + 40) = v101;
        if (!v116) {
          break;
        }
        OUTLINED_FUNCTION_148_9();
      }
      swift_bridgeObjectRelease();
      uint64_t v121 = v156;
    }
    else
    {
      uint64_t v121 = v156;
    }
    uint64_t v122 = v54[340];
    MEMORY[0x25A2DED80](v114, MEMORY[0x263F8D310]);
    OUTLINED_FUNCTION_33_12();
    uint64_t v123 = sub_259356D5C(v113, v101, &a40);
    OUTLINED_FUNCTION_107_9(v123);
    OUTLINED_FUNCTION_175_6();
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    *(unsigned char *)(v110 + 22) = 0;
    swift_release();
    OUTLINED_FUNCTION_113_8();
    swift_bridgeObjectRelease();
    swift_release();
    OUTLINED_FUNCTION_106_9();
    swift_release();
    swift_release();
    *(unsigned char *)(v110 + 32) = 33;
    swift_release();
    *(unsigned char *)(v110 + 33) = v122;
    swift_release();
    uint64_t v124 = *(void *)(v121 + 16);
    uint64_t v125 = MEMORY[0x263F8EE78];
    if (v124)
    {
      OUTLINED_FUNCTION_158_9();
      OUTLINED_FUNCTION_34_28();
      uint64_t v125 = a41;
      uint64_t v127 = v124 - 1;
      while (1)
      {
        OUTLINED_FUNCTION_121_8(v126, (const void *)(v110 + 32));
        char v128 = (void *)v54[134];
        sub_2594B698C(v122);
        sub_2594B698C(v122);
        id v129 = objc_msgSend(v128, sel_string);
        uint64_t v130 = sub_2598440A0();
        uint64_t v132 = v131;

        sub_2594B6A34(v122);
        sub_2594B6A34(v122);
        OUTLINED_FUNCTION_185_6();
        if (v119)
        {
          OUTLINED_FUNCTION_136_7();
          uint64_t v125 = a41;
        }
        *(void *)(v125 + 16) = v129;
        uint64_t v133 = v125 + 16 * v107;
        *(void *)(v133 + 32) = v130;
        *(void *)(v133 + 40) = v132;
        if (!v127) {
          break;
        }
        OUTLINED_FUNCTION_148_9();
      }
      swift_bridgeObjectRelease();
    }
    uint64_t v134 = MEMORY[0x25A2DED80](v125, MEMORY[0x263F8D310]);
    unint64_t v136 = v135;
    swift_bridgeObjectRelease();
    uint64_t v137 = sub_259356D5C(v134, v136, &a40);
    OUTLINED_FUNCTION_70_14(v137);
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_118_7(&dword_25934C000, v138, v158, "originalResultSuggestions (N=%ld): %{private}s\n)\nupdatedResultSuggestions (N=%ld): %{private}s\n)");
    OUTLINED_FUNCTION_80_13();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();

    swift_release();
    swift_release();
    OUTLINED_FUNCTION_195_8();
    swift_bridgeObjectRelease_n();
    swift_release();
  }
  uint64_t v139 = v54[344];
  OUTLINED_FUNCTION_28();
  OUTLINED_FUNCTION_157_7();
  uint64_t v140 = sub_259843F00();
  uint64_t v141 = sub_2596AC920(v140, v139);
  sub_2595A9894(v141);
  swift_release();
  OUTLINED_FUNCTION_156_8();
  uint64_t v142 = v54[340];
  OUTLINED_FUNCTION_28();
  swift_retain();
  uint64_t v143 = sub_259843F00();
  sub_2595A98A0(v143);
  swift_release();
  uint64_t v144 = *(void *)(v142 + 16);
  sub_259843F00();
  sub_259843F00();
  unint64_t v145 = (void *)sub_259843A50();
  os_log_type_t v146 = sub_259844B70();
  if (OUTLINED_FUNCTION_218(v146))
  {
    uint64_t v147 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v147 = 134218496;
    OUTLINED_FUNCTION_33_28(*(void *)(v144 + 16));
    swift_bridgeObjectRelease();
    *(_WORD *)(v147 + 12) = 2048;
    OUTLINED_FUNCTION_20_41();
    OUTLINED_FUNCTION_161_6();
    OUTLINED_FUNCTION_125_9();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_18_29(&dword_25934C000, v148, v149, "Returning %ld out of %ld candidates, pre-ranked suggestion count: %ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();

    OUTLINED_FUNCTION_190();
  }
  OUTLINED_FUNCTION_99_10();
  OUTLINED_FUNCTION_13_45(v150);
  OUTLINED_FUNCTION_63_17();
  v54[349] = sub_259844700();
  OUTLINED_FUNCTION_65_17();
  OUTLINED_FUNCTION_52_16();
  OUTLINED_FUNCTION_62_16();
  OUTLINED_FUNCTION_39();
  return MEMORY[0x270FA2498](v151, v152, v153);
}

uint64_t sub_2596B61DC()
{
  uint64_t v3 = v0;
  uint64_t v4 = __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFBD0);
  uint64_t v5 = OUTLINED_FUNCTION_129(v4);
  MEMORY[0x270FA5388](v5);
  OUTLINED_FUNCTION_45_0();
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  uint64_t v7 = OUTLINED_FUNCTION_129(v6);
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_57_1();
  uint64_t v8 = sub_259842800();
  OUTLINED_FUNCTION_87();
  uint64_t v10 = v9;
  MEMORY[0x270FA5388](v11);
  OUTLINED_FUNCTION_44_0();
  MEMORY[0x270FA5388](v12);
  uint64_t v14 = (char *)&v25 - v13;
  uint64_t v15 = v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_lastContextRefreshDate;
  OUTLINED_FUNCTION_28();
  sub_259407484(v15, v0);
  if (__swift_getEnumTagSinglePayload(v0, 1, v8) == 1)
  {
    sub_25966DE0C(v0, (uint64_t *)&unk_26B2F8390);
LABEL_8:
    uint64_t v23 = sub_259844740();
    OUTLINED_FUNCTION_179_9(v23);
    uint64_t v24 = (void *)swift_allocObject();
    v24[2] = 0;
    v24[3] = 0;
    v24[4] = v3;
    swift_retain();
    sub_2593A9D40((uint64_t)v1, (uint64_t)&unk_26A3900E8, (uint64_t)v24);
    return swift_release();
  }
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 32))(v14, v0, v8);
  sub_2598427D0();
  sub_259842770();
  double v17 = v16;
  uint64_t v18 = *(void (**)(uint64_t, uint64_t))(v10 + 8);
  v18(v2, v8);
  if (v17 >= 3600.0)
  {
    v18((uint64_t)v14, v8);
    goto LABEL_8;
  }
  id v19 = sub_259843A50();
  os_log_type_t v20 = sub_259844B70();
  if (os_log_type_enabled(v19, v20))
  {
    uint64_t v21 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_149(v21);
    _os_log_impl(&dword_25934C000, v19, v20, "Not requesting refresh. Not enough time has elapsed.", v1, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  return ((uint64_t (*)(char *, uint64_t))v18)(v14, v8);
}

void PromptSuggestionProvider.suggestionsVerifyingValidPersonUUIDs(suggestions:)(uint64_t a1)
{
  uint64_t v3 = v1;
  uint64_t v4 = a1;
  uint64_t v62 = MEMORY[0x263F8EE80];
  uint64_t v61 = MEMORY[0x263F8EE88];
  uint64_t v45 = *(void *)(a1 + 16);
  if (v45)
  {
    uint64_t v47 = &v55;
    uint64_t v49 = (void *)*MEMORY[0x263F15120];
    sub_259843F00();
    uint64_t v5 = v45 - 1;
    uint64_t v50 = MEMORY[0x263F8EE80];
    for (unint64_t i = 32; ; i += 152)
    {
      uint64_t v7 = v4;
      memcpy(__dst, (const void *)(v4 + i), sizeof(__dst));
      uint64_t v8 = (void *)__dst[18];
      uint64_t v59 = MEMORY[0x263F8EE88];
      sub_2594B698C((uint64_t)__dst);
      id v9 = v8;
      uint64_t v4 = v49;
      unint64_t v10 = (unint64_t)objc_msgSend(v9, sel_length);
      uint64_t v11 = OUTLINED_FUNCTION_96();
      *(void *)(v11 + 16) = &v59;
      uint64_t v12 = OUTLINED_FUNCTION_129_0();
      *(void *)(v12 + 16) = sub_259545D34;
      *(void *)(v12 + 24) = v11;
      uint64_t v57 = sub_2593BDC88;
      uint64_t v58 = v12;
      aBlocuint64_t k = MEMORY[0x263EF8330];
      uint64_t v54 = 1107296256;
      uint64_t v55 = sub_259740FA8;
      uint64_t v56 = &block_descriptor_31;
      uint64_t v13 = _Block_copy(&aBlock);
      os_log_type_t v2 = v58;
      swift_retain();
      swift_release();
      objc_msgSend(v9, sel_enumerateAttribute_inRange_options_usingBlock_, v4, 0, v10, 0, v13);

      _Block_release(v13);
      LOBYTE(v13) = swift_isEscapingClosureAtFileLocation();
      swift_release();
      if (v13)
      {
        __break(1u);
        goto LABEL_29;
      }
      uint64_t v14 = v59;

      swift_release();
      if (*(void *)(v14 + 16))
      {
        sub_259843F00();
        sub_259843F00();
        swift_isUniquelyReferenced_nonNull_native();
        aBlocuint64_t k = v50;
        sub_2593A189C();
        uint64_t v50 = aBlock;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_2596D0A58(v14);
      }
      else
      {
        swift_bridgeObjectRelease();
      }
      sub_2594B6A34((uint64_t)__dst);
      uint64_t v4 = v7;
      if (!v5) {
        break;
      }
      --v5;
    }
    uint64_t v62 = v50;
    swift_bridgeObjectRelease();
    uint64_t v3 = v46;
  }
  uint64_t v51 = v3 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  uint64_t v15 = sub_259843A50();
  os_log_type_t v16 = sub_259844B70();
  if (OUTLINED_FUNCTION_91(v16))
  {
    double v17 = (uint8_t *)OUTLINED_FUNCTION_54();
    *(_DWORD *)double v17 = 134283521;
    OUTLINED_FUNCTION_28();
    __dst[0] = *(void *)(v61 + 16);
    sub_259844E10();
    _os_log_impl(&dword_25934C000, v15, v2, "Prompt Suggestion People Validation  Fetching %{private}ld PHPerson objects for validation", v17, 0xCu);
    OUTLINED_FUNCTION_61_0();
  }

  OUTLINED_FUNCTION_28();
  uint64_t v18 = sub_259843F00();
  sub_25953BECC(v18, v19, v20, v21, v22, v23, v24, v25, v44, v45, v46, (uint64_t)v47, (uint64_t)v49, v51, v52, aBlock, v54, (uint64_t)v55, (uint64_t)v56,
    (uint64_t)v57,
    v58,
    v59,
    __dst[0],
    __dst[1],
    __dst[2],
    __dst[3]);
  swift_bridgeObjectRelease();
  id v26 = sub_2596BAE64();
  swift_release();
  uint64_t v49 = v26;
  id v27 = objc_msgSend(v26, sel_fetchedObjects);
  unint64_t v10 = MEMORY[0x263F8EE78];
  if (v27)
  {
    uint64_t v28 = v27;
    sub_25935633C(0, (unint64_t *)&qword_26B2FFA20);
    unint64_t i = sub_259844500();
  }
  else
  {
    unint64_t i = MEMORY[0x263F8EE78];
  }
  if (i >> 62) {
    goto LABEL_30;
  }
  uint64_t v29 = *(void *)((i & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (v29)
  {
    while (1)
    {
      uint64_t v59 = v10;
      sub_2594F08BC();
      if (v29 < 0) {
        break;
      }
      uint64_t v48 = v4;
      uint64_t v4 = 0;
      uint64_t v30 = v59;
      while (v29 != v4)
      {
        if ((i & 0xC000000000000001) != 0) {
          id v31 = (id)MEMORY[0x25A2DFA20](v4, i);
        }
        else {
          id v31 = *(id *)(i + 8 * v4 + 32);
        }
        uint64_t v32 = v31;
        uint64_t v33 = sub_25944C4E4(v31);
        if (!v34) {
          goto LABEL_37;
        }
        uint64_t v35 = v33;
        uint64_t v36 = v34;

        uint64_t v59 = v30;
        unint64_t v10 = *(void *)(v30 + 16);
        unint64_t v37 = *(void *)(v30 + 24);
        if (v10 >= v37 >> 1)
        {
          OUTLINED_FUNCTION_209(v37);
          sub_2594F08BC();
          uint64_t v30 = v59;
        }
        ++v4;
        *(void *)(v30 + 16) = v10 + 1;
        unint64_t v38 = v30 + 16 * v10;
        *(void *)(v38 + 32) = v35;
        *(void *)(v38 + 40) = v36;
        if (v29 == v4)
        {
          swift_bridgeObjectRelease();
          uint64_t v4 = v48;
          goto LABEL_32;
        }
      }
LABEL_29:
      __break(1u);
LABEL_30:
      sub_259843F00();
      uint64_t v29 = sub_259845460();
      swift_bridgeObjectRelease();
      if (!v29) {
        goto LABEL_31;
      }
    }
    __break(1u);
LABEL_37:
    __break(1u);
  }
  else
  {
LABEL_31:
    swift_bridgeObjectRelease();
    uint64_t v30 = MEMORY[0x263F8EE78];
LABEL_32:
    uint64_t v39 = sub_259737700(v30);
    sub_259843F00();
    swift_retain();
    uint64_t v40 = sub_2596AC75C(v4, &v62, v39);
    sub_259843F00();
    sub_259843F00();
    uint64_t v41 = sub_259843A50();
    os_log_type_t v42 = sub_259844B70();
    if (os_log_type_enabled(v41, v42))
    {
      uint64_t v43 = OUTLINED_FUNCTION_21_0();
      *(_DWORD *)uint64_t v43 = 134218240;
      uint64_t v59 = v45;
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v43 + 12) = 2048;
      uint64_t v59 = *(void *)(v40 + 16);
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v41, v42, "Prompt Suggestion People Validation  Total Count:%ld. Validated Count:%ld", (uint8_t *)v43, 0x16u);
      OUTLINED_FUNCTION_61_0();

      swift_bridgeObjectRelease();
    }
    else
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }
    swift_bridgeObjectRelease();
  }
}

uint64_t PromptSuggestionProvider.suggestionsWithValidNumberOfAssets(_:)(uint64_t a1)
{
  id v3 = objc_msgSend(self, sel_promptValidationAssetCountThreshold);
  id v4 = static StoryGenerationUtilities.assetIdentifiersFetchOptions(for:wantsIncrementalChangeDetails:)(*(void **)(v1 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_photoLibrary), 1);
  objc_msgSend(v4, sel_setShouldPrefetchCount_, 1);
  uint64_t v5 = MEMORY[0x263F8EE78];
  uint64_t v41 = MEMORY[0x263F8EE78];
  uint64_t v6 = *(void *)(a1 + 16);
  if (v6)
  {
    uint64_t v34 = v1;
    uint64_t v7 = self;
    sub_259843F00();
    memcpy(__dst, (const void *)(a1 + 32), sizeof(__dst));
    uint64_t v8 = __dst[3];
    sub_259843F00();
    id v9 = v4;
    sub_2594B698C((uint64_t)__dst);
    id v10 = sub_2593A2960(v8, (uint64_t)v4, v7);
    unint64_t v38 = v9;

    uint64_t result = swift_bridgeObjectRelease();
    if (!v10)
    {
LABEL_22:
      __break(1u);
      return result;
    }
    uint64_t v12 = 184;
    id v36 = v3;
    uint64_t v37 = a1;
    uint64_t v35 = v7;
    while (1)
    {
      id v13 = objc_msgSend(v10, sel_count, v34);

      if ((uint64_t)v13 >= (uint64_t)v3)
      {
        uint64_t v24 = v41;
        sub_2594B698C((uint64_t)__dst);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_259386C34();
          uint64_t v24 = v29;
        }
        unint64_t v26 = *(void *)(v24 + 16);
        unint64_t v25 = *(void *)(v24 + 24);
        if (v26 >= v25 >> 1)
        {
          OUTLINED_FUNCTION_209(v25);
          sub_259386C34();
          uint64_t v24 = v30;
        }
        *(void *)(v24 + 16) = v26 + 1;
        memcpy((void *)(v24 + 152 * v26 + 32), __dst, 0x98uLL);
        sub_2594B6A34((uint64_t)__dst);
        uint64_t v41 = v24;
      }
      else
      {
        sub_2594B698C((uint64_t)__dst);
        sub_2594B698C((uint64_t)__dst);
        uint64_t v14 = sub_259843A50();
        os_log_type_t v15 = sub_259844B70();
        if (os_log_type_enabled(v14, v15))
        {
          os_log_type_t v16 = (void *)__dst[18];
          uint64_t v17 = OUTLINED_FUNCTION_21_0();
          uint64_t v39 = OUTLINED_FUNCTION_20();
          *(_DWORD *)uint64_t v17 = 136643075;
          sub_2594B698C((uint64_t)__dst);
          id v18 = objc_msgSend(v16, sel_string);
          id v19 = v4;
          uint64_t v20 = sub_2598440A0();
          unint64_t v22 = v21;

          id v3 = v36;
          sub_2594B6A34((uint64_t)__dst);
          uint64_t v23 = v20;
          id v4 = v19;
          *(void *)(v17 + 4) = sub_259356D5C(v23, v22, &v39);
          a1 = v37;
          swift_bridgeObjectRelease();
          sub_2594B6A34((uint64_t)__dst);
          sub_2594B6A34((uint64_t)__dst);
          *(_WORD *)(v17 + 12) = 2048;
          *(void *)(v17 + 14) = v13;
          _os_log_impl(&dword_25934C000, v14, v15, "Skipping prompt %{sensitive}s, only %ld assets left", (uint8_t *)v17, 0x16u);
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          uint64_t v7 = v35;
          OUTLINED_FUNCTION_61_0();
        }
        else
        {

          sub_2594B6A34((uint64_t)__dst);
          sub_2594B6A34((uint64_t)__dst);
        }
        sub_2594B6A34((uint64_t)__dst);
      }
      if (!--v6) {
        break;
      }
      memcpy(__dst, (const void *)(a1 + v12), sizeof(__dst));
      uint64_t v27 = __dst[3];
      sub_259843F00();
      id v28 = v38;
      sub_2594B698C((uint64_t)__dst);
      id v10 = sub_2593A2960(v27, (uint64_t)v4, v7);

      uint64_t result = swift_bridgeObjectRelease();
      v12 += 152;
      if (!v10) {
        goto LABEL_22;
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v5 = v41;
  }
  sub_259843F00();
  id v31 = sub_259843A50();
  os_log_type_t v32 = sub_259844B30();
  if (os_log_type_enabled(v31, v32))
  {
    uint64_t v33 = (uint8_t *)OUTLINED_FUNCTION_54();
    *(_DWORD *)uint64_t v33 = 134217984;
    __dst[0] = *(void *)(v5 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v31, v32, "Found %ld prompt suggestions with valid assets", v33, 0xCu);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    swift_bridgeObjectRelease();
  }

  OUTLINED_FUNCTION_28();
  return v41;
}

uint64_t PromptSuggestionProvider.fetchFallbackSuggestions(maxSuggestionResults:)()
{
  OUTLINED_FUNCTION_14();
  v1[13] = v2;
  v1[14] = v0;
  uint64_t v3 = sub_259842860();
  v1[15] = v3;
  OUTLINED_FUNCTION_1(v3);
  v1[16] = v4;
  v1[17] = swift_task_alloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_2596B702C()
{
  OUTLINED_FUNCTION_247();
  OUTLINED_FUNCTION_102_10(v2[14]);
  uint64_t v7 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)v3 + *v3);
  uint64_t v4 = (void *)swift_task_alloc();
  v2[18] = v4;
  *uint64_t v4 = v2;
  v4[1] = sub_2596B7120;
  uint64_t v5 = v2[13];
  return v7(v5, v0, v1);
}

uint64_t sub_2596B7120()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  uint64_t v5 = *v1;
  *uint64_t v4 = *v1;
  *(void *)(v3 + 152) = v6;
  swift_task_dealloc();
  if (v0)
  {
    swift_task_dealloc();
    uint64_t v7 = *(uint64_t (**)(void))(v5 + 8);
    return v7();
  }
  else
  {
    OUTLINED_FUNCTION_13();
    return MEMORY[0x270FA2498](v9, v10, v11);
  }
}

void sub_2596B7240()
{
  v1[11] = MEMORY[0x263F8EE78];
  unint64_t v3 = v1[19];
  if (v3 >> 62)
  {
    OUTLINED_FUNCTION_23_1();
    sub_259845460();
    OUTLINED_FUNCTION_44_7();
  }
  else
  {
    uint64_t v0 = *(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  v1[20] = v0;
  if (v0)
  {
    uint64_t v4 = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_validator;
    v1[21] = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_validator;
    if (v0 < 1)
    {
      __break(1u);
    }
    else
    {
      uint64_t v5 = v1[19];
      v1[22] = *MEMORY[0x263F15120];
      v1[23] = 0;
      if ((v5 & 0xC000000000000001) != 0)
      {
        id v6 = (id)MEMORY[0x25A2DFA20](0);
        uint64_t v4 = v1[21];
      }
      else
      {
        id v6 = *(id *)(v5 + 32);
      }
      v1[24] = v6;
      __swift_project_boxed_opaque_existential_1((void *)(v1[14] + v4), *(void *)(v1[14] + v4 + 24));
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
      uint64_t v10 = swift_allocObject();
      *(_OWORD *)(v10 + 16) = xmmword_25987BF70;
      *(void *)(v10 + 32) = v6;
      uint64_t v26 = v10;
      uint64_t v11 = sub_259844530();
      OUTLINED_FUNCTION_108_7(v11, v12, v13, v14, v15, v16, v17, v18, v24, v25, v26);
      id v19 = v6;
      uint64_t v20 = (void *)swift_task_alloc();
      v1[26] = v20;
      *uint64_t v20 = v1;
      v20[1] = sub_2596B7510;
      OUTLINED_FUNCTION_119_10();
      v21();
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v7 = sub_259843A50();
    os_log_type_t v8 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v8))
    {
      uint64_t v9 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_82_15(v9, 3.852e-34);
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v7, v2, "Returning %ld fallback search suggestions");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    OUTLINED_FUNCTION_28();
    swift_task_dealloc();
    uint64_t v22 = OUTLINED_FUNCTION_6_35();
    v23(v22);
  }
}

uint64_t sub_2596B7510()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  uint64_t v3 = *v0;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  *(void *)(v6 + 216) = v5;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_2596B75FC()
{
  unint64_t v3 = v1[27];
  if (v3 >> 62)
  {
    sub_259843F00();
    sub_259845460();
    OUTLINED_FUNCTION_44_7();
  }
  else
  {
    uint64_t v0 = *(void *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  swift_bridgeObjectRelease();
  uint64_t v4 = (void *)v1[24];
  if (!v0)
  {

    goto LABEL_10;
  }
  uint64_t v5 = (void *)v1[22];
  sub_25935633C(0, &qword_26A38FFC0);
  id v6 = v5;
  id v7 = objc_msgSend(v4, sel_string);
  sub_2598440A0();

  id v8 = sub_25953A870();
  id v9 = objc_msgSend(v4, sel_length);
  uint64_t v10 = OUTLINED_FUNCTION_129_0();
  *(void *)(v10 + 16) = v8;
  *(void *)(v10 + 24) = v6;
  uint64_t v11 = OUTLINED_FUNCTION_129_0();
  *(void *)(v11 + 16) = sub_259545D04;
  *(void *)(v11 + 24) = v10;
  v1[6] = sub_2595467CC;
  v1[7] = v11;
  v1[2] = MEMORY[0x263EF8330];
  v1[3] = 1107296256;
  v1[4] = sub_259740FA8;
  v1[5] = &block_descriptor_96;
  uint64_t v12 = _Block_copy(v1 + 2);
  id v2 = v6;
  id v13 = v8;
  swift_retain();
  swift_release();
  objc_msgSend(v4, sel_enumerateAttribute_inRange_options_usingBlock_, v2, 0, v9, 0, v12);

  _Block_release(v12);
  uint64_t isEscapingClosureAtFileLocation = swift_isEscapingClosureAtFileLocation();
  swift_release();
  swift_release();
  if (isEscapingClosureAtFileLocation)
  {
    __break(1u);
    goto LABEL_25;
  }
  sub_259842850();
  id v2 = (id)sub_259842820();
  uint64_t v11 = v15;
  uint64_t v16 = OUTLINED_FUNCTION_50_0();
  v17(v16);
  uint64_t v18 = v1[11];
  uint64_t isEscapingClosureAtFileLocation = (uint64_t)v13;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
LABEL_25:
    sub_259386C34();
    uint64_t v18 = v45;
  }
  unint64_t v19 = *(void *)(v18 + 16);
  if (v19 >= *(void *)(v18 + 24) >> 1)
  {
    sub_259386C34();
    uint64_t v18 = v46;
  }
  uint64_t v20 = (void *)v1[24];
  *(void *)(v18 + 16) = v19 + 1;
  uint64_t v21 = v18 + 152 * v19;
  *(void *)(v21 + 32) = v2;
  *(void *)(v21 + 40) = v11;
  *(_WORD *)(v21 + 48) = 2;
  *(_DWORD *)(v21 + 50) = v51;
  uint64_t v22 = MEMORY[0x263F8EE78];
  *(_WORD *)(v21 + 54) = v52;
  *(void *)(v21 + 56) = v22;
  *(void *)(v21 + 64) = 0;
  *(void *)(v21 + 72) = 0;
  *(void *)(v21 + 80) = 0;
  *(unsigned char *)(v21 + 88) = 1;
  *(_DWORD *)(v21 + 92) = *(_DWORD *)&v53[3];
  *(_DWORD *)(v21 + 89) = *(_DWORD *)v53;
  *(void *)(v21 + 96) = v22;
  *(unsigned char *)(v21 + 104) = 0;
  *(_DWORD *)(v21 + 108) = *(_DWORD *)&v49[3];
  *(_DWORD *)(v21 + 105) = *(_DWORD *)v49;
  *(void *)(v21 + 112) = 0;
  *(void *)(v21 + 120) = v22;
  *(_OWORD *)(v21 + 144) = 0u;
  *(_OWORD *)(v21 + 160) = 0u;
  *(_OWORD *)(v21 + 128) = 0u;
  *(void *)(v21 + 176) = isEscapingClosureAtFileLocation;

  v1[11] = v18;
LABEL_10:
  uint64_t v23 = v1[23] + 1;
  if (v23 == v1[20])
  {
    swift_bridgeObjectRelease();
    sub_259843F00();
    uint64_t v24 = sub_259843A50();
    os_log_type_t v25 = sub_259844B70();
    if (OUTLINED_FUNCTION_91(v25))
    {
      uint64_t v26 = (float *)OUTLINED_FUNCTION_54();
      OUTLINED_FUNCTION_82_15(v26, 3.852e-34);
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v24, (os_log_type_t)v2, "Returning %ld fallback search suggestions");
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease();
    }

    OUTLINED_FUNCTION_28();
    swift_task_dealloc();
    uint64_t v29 = OUTLINED_FUNCTION_6_35();
    return v30(v29);
  }
  else
  {
    v1[23] = v23;
    uint64_t v27 = v1[19];
    if ((v27 & 0xC000000000000001) != 0) {
      id v28 = (id)MEMORY[0x25A2DFA20]();
    }
    else {
      id v28 = *(id *)(v27 + 8 * v23 + 32);
    }
    os_log_type_t v32 = v28;
    v1[24] = v28;
    OUTLINED_FUNCTION_168_6((void *)(v1[14] + v1[21]));
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
    uint64_t v33 = swift_allocObject();
    *(_OWORD *)(v33 + 16) = xmmword_25987BF70;
    *(void *)(v33 + 32) = v32;
    uint64_t v50 = v33;
    uint64_t v34 = sub_259844530();
    OUTLINED_FUNCTION_108_7(v34, v35, v36, v37, v38, v39, v40, v41, v47, v48, v50);
    id v42 = v32;
    uint64_t v43 = (void *)swift_task_alloc();
    v1[26] = v43;
    *uint64_t v43 = v1;
    v43[1] = sub_2596B7510;
    OUTLINED_FUNCTION_119_10();
    return v44();
  }
}

uint64_t sub_2596B7B90(uint64_t a1)
{
  return *(void *)(*(void *)(a1 + 16) + 16);
}

uint64_t sub_2596B7BD4@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  uint64_t result = swift_beginAccess();
  uint64_t v5 = *(void *)(a1 + 16);
  uint64_t v6 = *(void *)(v5 + 16);
  uint64_t v7 = MEMORY[0x263F8EE78];
  if (v6)
  {
    uint64_t v17 = a2;
    uint64_t v19 = MEMORY[0x263F8EE78];
    sub_259843F00();
    sub_2594F08BC();
    uint64_t v7 = v19;
    uint64_t v8 = v6 - 1;
    for (uint64_t i = 32; ; i += 152)
    {
      memcpy(__dst, (const void *)(v5 + i), sizeof(__dst));
      uint64_t v10 = (void *)__dst[18];
      sub_2594B698C((uint64_t)__dst);
      id v11 = objc_msgSend(v10, sel_string);
      uint64_t v12 = sub_2598440A0();
      uint64_t v14 = v13;

      sub_2594B6A34((uint64_t)__dst);
      uint64_t v19 = v7;
      unint64_t v15 = *(void *)(v7 + 16);
      if (v15 >= *(void *)(v7 + 24) >> 1)
      {
        sub_2594F08BC();
        uint64_t v7 = v19;
      }
      *(void *)(v7 + 16) = v15 + 1;
      uint64_t v16 = v7 + 16 * v15;
      *(void *)(v16 + 32) = v12;
      *(void *)(v16 + 40) = v14;
      if (!v8) {
        break;
      }
      --v8;
    }
    uint64_t result = swift_bridgeObjectRelease();
    a2 = v17;
  }
  *a2 = v7;
  return result;
}

uint64_t sub_2596B7D28@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  uint64_t v2 = *(void *)(result + 16);
  uint64_t v3 = MEMORY[0x263F8EE78];
  if (v2)
  {
    uint64_t v4 = result;
    uint64_t v14 = a2;
    uint64_t v16 = MEMORY[0x263F8EE78];
    sub_259843F00();
    sub_2594F08BC();
    uint64_t v3 = v16;
    uint64_t v5 = v2 - 1;
    for (uint64_t i = 32; ; i += 152)
    {
      memcpy(__dst, (const void *)(v4 + i), sizeof(__dst));
      uint64_t v7 = (void *)__dst[18];
      sub_2594B698C((uint64_t)__dst);
      sub_2594B698C((uint64_t)__dst);
      id v8 = objc_msgSend(v7, sel_string);
      uint64_t v9 = sub_2598440A0();
      uint64_t v11 = v10;

      sub_2594B6A34((uint64_t)__dst);
      sub_2594B6A34((uint64_t)__dst);
      uint64_t v16 = v3;
      unint64_t v12 = *(void *)(v3 + 16);
      if (v12 >= *(void *)(v3 + 24) >> 1)
      {
        sub_2594F08BC();
        uint64_t v3 = v16;
      }
      *(void *)(v3 + 16) = v12 + 1;
      uint64_t v13 = v3 + 16 * v12;
      *(void *)(v13 + 32) = v9;
      *(void *)(v13 + 40) = v11;
      if (!v5) {
        break;
      }
      --v5;
    }
    uint64_t result = swift_bridgeObjectRelease();
    a2 = v14;
  }
  *a2 = v3;
  return result;
}

int *PromptSuggestionProvider.suggestionContext(from:totalCount:lastUpdateDate:processingCode:)@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, char a5@<W4>, uint64_t a6@<X8>)
{
  char v6 = a5;
  uint64_t v7 = a4;
  uint64_t v8 = a3;
  uint64_t v9 = a2;
  uint64_t v12 = *(void *)(a1 + 16);
  uint64_t v13 = MEMORY[0x263F8EE78];
  if (v12)
  {
    uint64_t v32 = MEMORY[0x263F8EE78];
    sub_2594F24F0();
    uint64_t v13 = v32;
    unint64_t v17 = *(void *)(v32 + 16);
    uint64_t v18 = (char *)(a1 + 48);
    do
    {
      char v20 = *v18;
      v18 += 152;
      char v19 = v20;
      uint64_t v33 = v13;
      unint64_t v21 = *(void *)(v13 + 24);
      if (v17 >= v21 >> 1)
      {
        OUTLINED_FUNCTION_209(v21);
        sub_2594F24F0();
        uint64_t v13 = v33;
      }
      *(void *)(v13 + 16) = v17 + 1;
      *(unsigned char *)(v13 + v17++ + 32) = v19;
      --v12;
    }
    while (v12);
    char v6 = a5;
    uint64_t v7 = a4;
    uint64_t v9 = a2;
    uint64_t v8 = a3;
  }
  uint64_t v22 = sub_259738E4C(v13);
  sub_25973D770(1u, v22);
  if (v23 & 1) != 0 && (sub_25973D770(2u, v22), (v24))
  {
    swift_bridgeObjectRelease();
    char v25 = 3;
  }
  else
  {
    sub_25973D770(1u, v22);
    if (v26)
    {
      swift_bridgeObjectRelease();
      char v25 = 1;
    }
    else
    {
      sub_25973D770(2u, v22);
      char v28 = v27;
      swift_bridgeObjectRelease();
      if (v28) {
        char v25 = 2;
      }
      else {
        char v25 = 0;
      }
    }
  }
  sub_259407484(v8, a6);
  uint64_t result = (int *)type metadata accessor for PromptSuggestion.FetchContext();
  *(void *)(a6 + result[5]) = v9;
  *(unsigned char *)(a6 + result[6]) = v25;
  uint64_t v30 = a6 + result[7];
  *(void *)uint64_t v30 = v7;
  *(unsigned char *)(v30 + 8) = v6 & 1;
  return result;
}

uint64_t PromptSuggestionProvider.fetchSuggestionContext()()
{
  OUTLINED_FUNCTION_14();
  v1[40] = v2;
  v1[41] = v0;
  uint64_t v3 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38FF98);
  v1[42] = v3;
  OUTLINED_FUNCTION_129(v3);
  v1[43] = OUTLINED_FUNCTION_49_1();
  v1[44] = swift_task_alloc();
  v1[45] = swift_task_alloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_2596B80B8()
{
  OUTLINED_FUNCTION_247();
  uint64_t v1 = *(void *)(v0 + 328);
  *(_DWORD *)(v0 + 408) = *(_DWORD *)(*(void *)(v0 + 336) + 48);
  OUTLINED_FUNCTION_168_6((void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache));
  swift_task_alloc();
  OUTLINED_FUNCTION_53_0();
  *(void *)(v0 + 368) = v2;
  void *v2 = v3;
  v2[1] = sub_2596B81CC;
  OUTLINED_FUNCTION_119_10();
  return v4();
}

uint64_t sub_2596B81CC()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_0_2();
  uint64_t v7 = v6;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  void *v8 = *v1;
  *(void *)(v7 + 376) = v9;
  *(void *)(v7 + 384) = v0;
  swift_task_dealloc();
  if (!v0)
  {
    uint64_t v10 = *(void *)(v7 + 336);
    *(void *)(v7 + 392) = v5;
    *(void *)(v7 + 400) = v3;
    *(_DWORD *)(v7 + 412) = *(_DWORD *)(v10 + 64);
    *(_DWORD *)(v7 + 416) = *(_DWORD *)(v10 + 80);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v11, v12, v13);
}

uint64_t sub_2596B82E8()
{
  uint64_t v1 = *(int *)(v0 + 416);
  uint64_t v2 = *(int *)(v0 + 412);
  uint64_t v3 = *(void *)(v0 + 400);
  uint64_t v4 = *(void *)(v0 + 392);
  uint64_t v5 = *(void *)(v0 + 376);
  uint64_t v6 = *(int *)(v0 + 408);
  uint64_t v8 = *(void **)(v0 + 352);
  uint64_t v7 = *(void **)(v0 + 360);
  uint64_t v9 = *(int **)(v0 + 336);
  void *v7 = v5;
  *(void *)((char *)v7 + v2) = v3;
  *(void *)((char *)v7 + v1) = v4;
  uint64_t v10 = (uint64_t)v8 + v9[12];
  uint64_t v11 = v9[16];
  uint64_t v12 = v9[20];
  void *v8 = v5;
  sub_259407484((uint64_t)v7 + v6, v10);
  *(void *)((char *)v8 + v11) = v3;
  *(void *)((char *)v8 + v12) = v4;
  uint64_t v13 = *(void *)(v5 + 16);
  if (v13)
  {
    uint64_t v14 = (char *)(*(void *)(v0 + 376) + 32);
    sub_259843F00();
    uint64_t v15 = v13 - 1;
    uint64_t v16 = MEMORY[0x263F8EE78];
    while (1)
    {
      memcpy((void *)(v0 + 16), v14, 0x98uLL);
      if (*(unsigned char *)(v0 + 72) == 1)
      {
        sub_2594B698C(v0 + 16);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          OUTLINED_FUNCTION_10_31();
        }
        unint64_t v17 = *(void *)(v16 + 16);
        if (v17 >= *(void *)(v16 + 24) >> 1) {
          sub_2594F1AD0();
        }
        *(void *)(v16 + 16) = v17 + 1;
        OUTLINED_FUNCTION_41_27(v16 + 152 * v17);
      }
      if (!v15) {
        break;
      }
      --v15;
      v14 += 152;
    }
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v16 = MEMORY[0x263F8EE78];
  }
  sub_25966DE0C(v10, (uint64_t *)&unk_26B2F8390);
  uint64_t v18 = *(void *)(v16 + 16);
  if (v18)
  {
    uint64_t v19 = swift_retain();
    uint64_t v20 = v18 - 1;
    uint64_t v21 = MEMORY[0x263F8EE78];
    for (uint64_t i = 32; ; i += 152)
    {
      uint64_t v19 = (uint64_t)OUTLINED_FUNCTION_51_17(v19, (const void *)(v16 + i));
      if (*(unsigned __int8 *)(v0 + 185) <= 1u)
      {
        sub_2594B698C(v0 + 168);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          OUTLINED_FUNCTION_10_31();
        }
        unint64_t v24 = *(void *)(v21 + 16);
        unint64_t v23 = *(void *)(v21 + 24);
        if (v24 >= v23 >> 1)
        {
          OUTLINED_FUNCTION_209(v23);
          sub_2594F1AD0();
        }
        *(void *)(v21 + 16) = v24 + 1;
        uint64_t v19 = (uint64_t)OUTLINED_FUNCTION_42_24(v21 + 152 * v24);
      }
      if (!v20) {
        break;
      }
      --v20;
    }
    swift_release();
  }
  uint64_t v42 = *(int *)(v0 + 412);
  uint64_t v43 = *(int *)(v0 + 416);
  char v25 = *(void **)(v0 + 360);
  char v27 = *(int **)(v0 + 336);
  char v26 = *(void **)(v0 + 344);
  uint64_t v28 = *(void *)(v0 + 320);
  uint64_t v29 = (uint64_t)v25 + *(int *)(v0 + 408);
  uint64_t v30 = sub_2593C79F8(3);
  uint64_t v34 = sub_2594332D8(v30, v31, v32, v33);
  uint64_t v35 = *(void *)(v16 + 16);
  swift_release();
  uint64_t v36 = (uint64_t)v26 + v27[12];
  uint64_t v37 = v27[16];
  uint64_t v38 = v27[20];
  *char v26 = *v25;
  sub_259407484(v29, v36);
  uint64_t v39 = *(void *)((char *)v25 + v42);
  *(void *)((char *)v26 + v37) = v39;
  *(void *)((char *)v26 + v38) = *(void *)((char *)v25 + v43);
  PromptSuggestionProvider.suggestionContext(from:totalCount:lastUpdateDate:processingCode:)(v34, v35, v29, v39, 0, v28);
  swift_bridgeObjectRelease();
  sub_25966DE0C(v36, (uint64_t *)&unk_26B2F8390);
  sub_25966DE0C((uint64_t)v25, &qword_26A38FF98);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_20_0();
  return v40();
}

uint64_t sub_2596B8634()
{
  OUTLINED_FUNCTION_14();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v0();
}

uint64_t PromptSuggestionProvider.reportSuggestionEngagement(suggestionId:state:)()
{
  OUTLINED_FUNCTION_14();
  uint64_t v3 = v2;
  *(void *)(v1 + 800) = v0;
  *(void *)(v1 + 792) = v4;
  *(void *)(v1 + 784) = v5;
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  OUTLINED_FUNCTION_129(v6);
  *(void *)(v1 + 808) = swift_task_alloc();
  *(unsigned char *)(v1 + 1012) = *v3;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_2596B8740()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2[100];
  v2[102] = OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache;
  OUTLINED_FUNCTION_102_10(v3);
  uint64_t v9 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)v4 + *v4);
  swift_task_alloc();
  OUTLINED_FUNCTION_53_0();
  v2[103] = v5;
  void *v5 = v6;
  v5[1] = sub_2596B8834;
  uint64_t v7 = v2[101];
  return v9(v7, v0, v1);
}

uint64_t sub_2596B8834()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  *uint64_t v4 = *v1;
  v3[104] = v5;
  v3[105] = v0;
  swift_task_dealloc();
  if (!v0) {
    sub_25966DE0C(v3[101], (uint64_t *)&unk_26B2F8390);
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v6, v7, v8);
}

unint64_t sub_2596B892C()
{
  uint64_t v48 = v0;
  uint64_t v1 = *(void *)(v0 + 832);
  uint64_t v2 = *(void *)(v0 + 792);
  uint64_t v3 = *(void *)(v0 + 784);
  sub_259843F00();
  unint64_t result = sub_2596B90F4(v1, v3, v2);
  if ((v5 & 1) == 0)
  {
    if ((result & 0x8000000000000000) != 0)
    {
      __break(1u);
    }
    else
    {
      uint64_t v6 = *(void *)(v0 + 832);
      if (result < *(void *)(v6 + 16))
      {
        char v43 = *(unsigned char *)(v0 + 1012);
        uint64_t v7 = (void *)(*(void *)(v0 + 800) + *(void *)(v0 + 816));
        memcpy((void *)(v0 + 320), (const void *)(v6 + 152 * result + 32), 0x98uLL);
        uint64_t v8 = *(void *)(v0 + 456);
        uint64_t v45 = *(void *)(v0 + 464);
        *(void *)(v0 + 848) = v45;
        uint64_t v40 = *(void *)(v0 + 448);
        uint64_t v41 = v8;
        *(void *)(v0 + 856) = v40;
        *(void *)(v0 + 864) = v8;
        uint64_t v38 = *(void *)(v0 + 432);
        uint64_t v39 = *(void *)(v0 + 440);
        *(void *)(v0 + 872) = v38;
        *(void *)(v0 + 880) = v39;
        uint64_t v36 = *(void *)(v0 + 416);
        uint64_t v37 = *(void *)(v0 + 424);
        *(void *)(v0 + 888) = v36;
        *(void *)(v0 + 896) = v37;
        uint64_t v34 = *(void *)(v0 + 400);
        uint64_t v35 = *(void *)(v0 + 408);
        *(void *)(v0 + 904) = v35;
        *(void *)(v0 + 912) = v34;
        char v33 = *(unsigned char *)(v0 + 392);
        *(unsigned char *)(v0 + 1013) = v33;
        uint64_t v31 = *(void *)(v0 + 384);
        *(void *)(v0 + 920) = v31;
        char v9 = *(unsigned char *)(v0 + 376);
        *(unsigned char *)(v0 + 1014) = v9;
        uint64_t v10 = *(void *)(v0 + 360);
        uint64_t v11 = *(void *)(v0 + 368);
        *(void *)(v0 + 928) = v10;
        *(void *)(v0 + 936) = v11;
        uint64_t v12 = *(void *)(v0 + 344);
        uint64_t v13 = *(void *)(v0 + 352);
        *(void *)(v0 + 944) = v13;
        *(void *)(v0 + 952) = v12;
        char v14 = *(unsigned char *)(v0 + 336);
        *(unsigned char *)(v0 + 1015) = v14;
        uint64_t v15 = *(void *)(v0 + 320);
        uint64_t v16 = *(void *)(v0 + 328);
        *(void *)(v0 + 960) = v15;
        *(void *)(v0 + 968) = v16;
        sub_2594B698C(v0 + 320);
        swift_bridgeObjectRelease();
        uint64_t v42 = v7[3];
        uint64_t v32 = v7[4];
        __swift_project_boxed_opaque_existential_1(v7, v42);
        *(void *)(v0 + 168) = v15;
        *(void *)(v0 + 176) = v16;
        *(unsigned char *)(v0 + 184) = v14;
        *(unsigned char *)(v0 + 185) = v43;
        *(void *)(v0 + 192) = v12;
        *(void *)(v0 + 200) = v13;
        *(void *)(v0 + 208) = v10;
        *(void *)(v0 + 216) = v11;
        *(unsigned char *)(v0 + 224) = v9;
        *(void *)(v0 + 232) = v31;
        *(unsigned char *)(v0 + 240) = v33;
        *(void *)(v0 + 248) = v34;
        *(void *)(v0 + 256) = v35;
        *(void *)(v0 + 264) = v36;
        *(void *)(v0 + 272) = v37;
        *(void *)(v0 + 280) = v38;
        *(void *)(v0 + 288) = v39;
        *(void *)(v0 + 296) = v40;
        *(void *)(v0 + 304) = v41;
        *(void *)(v0 + 312) = v45;
        unint64_t v17 = (void *)OUTLINED_FUNCTION_50_0();
        memcpy(v17, v18, 0x98uLL);
        uint64_t v19 = *(int **)(v32 + 24);
        sub_2594B698C(v0 + 168);
        uint64_t v44 = (uint64_t (*)(uint64_t, uint64_t, uint64_t))((char *)v19 + *v19);
        uint64_t v20 = (void *)swift_task_alloc();
        *(void *)(v0 + 976) = v20;
        *uint64_t v20 = v0;
        v20[1] = sub_2596B8D64;
        return v44(v0 + 624, v42, v32);
      }
    }
    __break(1u);
    return result;
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_6_19();
  uint64_t v21 = (void *)sub_259843A50();
  os_log_type_t v22 = sub_259844B50();
  BOOL v23 = OUTLINED_FUNCTION_52(v22);
  unint64_t v24 = *(void *)(v0 + 792);
  if (v23)
  {
    uint64_t v46 = *(void *)(v0 + 784);
    char v25 = (uint8_t *)OUTLINED_FUNCTION_54();
    uint64_t v47 = OUTLINED_FUNCTION_20();
    *(_DWORD *)char v25 = 136315138;
    sub_259843F00();
    *(void *)(v0 + 776) = sub_259356D5C(v46, v24, &v47);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    OUTLINED_FUNCTION_211();
    _os_log_impl(v26, v27, v28, v29, v25, 0xCu);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    OUTLINED_FUNCTION_77();
  }
  swift_task_dealloc();
  OUTLINED_FUNCTION_20_0();
  return v30();
}

uint64_t sub_2596B8D64()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  uint64_t v4 = v2 + 168;
  uint64_t v5 = *v1;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  *(void *)(v7 + 984) = v0;
  swift_task_dealloc();
  sub_2594B6A34(v4);
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_2596B8E54()
{
  OUTLINED_FUNCTION_14();
  *(_OWORD *)(v0 + 56) = *(_OWORD *)(v0 + 928);
  long long v1 = *(_OWORD *)(v0 + 872);
  long long v2 = *(_OWORD *)(v0 + 856);
  *(_OWORD *)(v0 + 112) = *(_OWORD *)(v0 + 888);
  *(_OWORD *)(v0 + 128) = v1;
  uint64_t v3 = *(void *)(v0 + 968);
  char v4 = *(unsigned char *)(v0 + 1015);
  uint64_t v5 = *(void *)(v0 + 952);
  uint64_t v6 = *(void *)(v0 + 944);
  char v7 = *(unsigned char *)(v0 + 1014);
  uint64_t v8 = *(void *)(v0 + 920);
  char v9 = *(unsigned char *)(v0 + 1013);
  uint64_t v10 = *(void *)(v0 + 912);
  uint64_t v11 = *(void *)(v0 + 904);
  uint64_t v12 = *(void *)(v0 + 848);
  char v13 = *(unsigned char *)(v0 + 1012);
  *(void *)(v0 + 16) = *(void *)(v0 + 960);
  *(void *)(v0 + 24) = v3;
  *(unsigned char *)(v0 + 32) = v4;
  *(unsigned char *)(v0 + 33) = v13;
  LODWORD(v3) = *(_DWORD *)(v0 + 992);
  *(_WORD *)(v0 + 38) = *(_WORD *)(v0 + 996);
  *(_DWORD *)(v0 + 34) = v3;
  *(void *)(v0 + 40) = v5;
  *(void *)(v0 + 48) = v6;
  *(unsigned char *)(v0 + 72) = v7;
  *(_DWORD *)(v0 + 73) = *(_DWORD *)(v0 + 1005);
  *(_DWORD *)(v0 + 76) = *(_DWORD *)(v0 + 1008);
  *(void *)(v0 + 80) = v8;
  *(unsigned char *)(v0 + 88) = v9;
  *(_DWORD *)(v0 + 92) = *(_DWORD *)(v0 + 1001);
  *(_DWORD *)(v0 + 89) = *(_DWORD *)(v0 + 998);
  *(void *)(v0 + 96) = v10;
  *(void *)(v0 + 104) = v11;
  *(_OWORD *)(v0 + 144) = v2;
  *(void *)(v0 + 160) = v12;
  sub_2594B6A34(v0 + 16);
  swift_task_dealloc();
  OUTLINED_FUNCTION_20_0();
  return v14();
}

uint64_t sub_2596B8F60()
{
  OUTLINED_FUNCTION_14();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v0();
}

uint64_t sub_2596B8FBC()
{
  OUTLINED_FUNCTION_14();
  uint64_t v1 = *(void *)(v0 + 968);
  char v2 = *(unsigned char *)(v0 + 1015);
  uint64_t v3 = *(void *)(v0 + 952);
  uint64_t v4 = *(void *)(v0 + 944);
  char v5 = *(unsigned char *)(v0 + 1014);
  uint64_t v6 = *(void *)(v0 + 920);
  char v7 = *(unsigned char *)(v0 + 1013);
  uint64_t v8 = *(void *)(v0 + 912);
  uint64_t v9 = *(void *)(v0 + 904);
  long long v10 = *(_OWORD *)(v0 + 888);
  uint64_t v11 = *(void *)(v0 + 880);
  uint64_t v12 = *(void *)(v0 + 872);
  long long v13 = *(_OWORD *)(v0 + 856);
  uint64_t v14 = *(void *)(v0 + 848);
  char v15 = *(unsigned char *)(v0 + 1012);
  *(void *)(v0 + 472) = *(void *)(v0 + 960);
  *(void *)(v0 + 480) = v1;
  *(unsigned char *)(v0 + 488) = v2;
  *(unsigned char *)(v0 + 489) = v15;
  *(_WORD *)(v0 + 494) = *(_WORD *)(v0 + 996);
  *(_DWORD *)(v0 + 490) = *(_DWORD *)(v0 + 992);
  *(void *)(v0 + 496) = v3;
  *(void *)(v0 + 504) = v4;
  *(_OWORD *)(v0 + 512) = *(_OWORD *)(v0 + 928);
  *(unsigned char *)(v0 + 528) = v5;
  *(_DWORD *)(v0 + 532) = *(_DWORD *)(v0 + 1008);
  *(_DWORD *)(v0 + 529) = *(_DWORD *)(v0 + 1005);
  *(void *)(v0 + 536) = v6;
  *(unsigned char *)(v0 + 544) = v7;
  *(_DWORD *)(v0 + 545) = *(_DWORD *)(v0 + 998);
  *(_DWORD *)(v0 + 548) = *(_DWORD *)(v0 + 1001);
  *(void *)(v0 + 552) = v8;
  *(void *)(v0 + 560) = v9;
  *(_OWORD *)(v0 + 568) = v10;
  *(void *)(v0 + 584) = v12;
  *(void *)(v0 + 592) = v11;
  *(_OWORD *)(v0 + 600) = v13;
  *(void *)(v0 + 616) = v14;
  sub_2594B6A34(v0 + 472);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v16();
}

uint64_t sub_2596B90F4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = *(void *)(a1 + 16);
  if (v4)
  {
    uint64_t v6 = 0;
    char v7 = (void *)(a1 + 40);
    while (1)
    {
      BOOL v8 = *(v7 - 1) == a2 && *v7 == a3;
      if (v8 || (sub_259845750() & 1) != 0) {
        break;
      }
      v7 += 19;
      if (v4 == ++v6) {
        goto LABEL_9;
      }
    }
  }
  else
  {
LABEL_9:
    uint64_t v6 = 0;
  }
  swift_bridgeObjectRelease();
  return v6;
}

void PromptSuggestionProvider.register<A>(observer:)()
{
}

void PromptSuggestionProvider.unregister<A>(observer:)()
{
}

uint64_t sub_2596B91EC(void *__src, uint64_t *a2, uint64_t a3)
{
  memcpy(__dst, __src, 0x98uLL);
  uint64_t v5 = *a2;
  if (!*(void *)(v5 + 16)) {
    return 1;
  }
  sub_259843F00();
  unint64_t v6 = sub_25939CE90();
  if ((v7 & 1) == 0
    || (uint64_t v8 = *(void *)(*(void *)(v5 + 56) + 8 * v6),
        sub_259843F00(),
        swift_bridgeObjectRelease(),
        !*(void *)(v8 + 16))
    || (sub_25962A014(a3, v8), (v9 & 1) != 0))
  {
    swift_bridgeObjectRelease();
    return 1;
  }
  sub_2594B698C((uint64_t)__dst);
  sub_259843F00();
  sub_259843F00();
  sub_2594B698C((uint64_t)__dst);
  sub_259843F00();
  uint64_t v11 = sub_259843A50();
  os_log_type_t v12 = sub_259844B70();
  if (os_log_type_enabled(v11, v12))
  {
    os_log_type_t type = v12;
    uint64_t v13 = swift_slowAlloc();
    uint64_t v26 = swift_slowAlloc();
    uint64_t v28 = v26;
    *(_DWORD *)uint64_t v13 = 136381187;
    uint64_t v14 = (void *)__dst[18];
    sub_2594B698C((uint64_t)__dst);
    id v15 = objc_msgSend(v14, sel_string);
    uint64_t v16 = sub_2598440A0();
    unint64_t v18 = v17;

    sub_2594B6A34((uint64_t)__dst);
    sub_259356D5C(v16, v18, &v28);
    sub_259844E10();
    swift_bridgeObjectRelease();
    sub_2594B6A34((uint64_t)__dst);
    sub_2594B6A34((uint64_t)__dst);
    *(_WORD *)(v13 + 12) = 2081;
    sub_259843F00();
    uint64_t v19 = sub_259844930();
    unint64_t v21 = v20;
    swift_bridgeObjectRelease();
    sub_259356D5C(v19, v21, &v28);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    *(_WORD *)(v13 + 22) = 2081;
    sub_259843F00();
    uint64_t v22 = sub_259844930();
    unint64_t v24 = v23;
    swift_bridgeObjectRelease();
    sub_259356D5C(v22, v24, &v28);
    sub_259844E10();
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v11, type, "Prompt Suggestion People Validation  Dropping suggestion %{private}s because valid personUUIDs not found. Suggestion personUUIDs:%{private}s validPersonUUIDs:%{private}s", (uint8_t *)v13, 0x20u);
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v26, -1, -1);
    MEMORY[0x25A2E13A0](v13, -1, -1);
  }
  else
  {

    sub_2594B6A34((uint64_t)__dst);
    sub_2594B6A34((uint64_t)__dst);
    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease_n();
  }
  return 0;
}

uint64_t sub_2596B9558(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  *(void *)(v4 + 80) = a4;
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2F8390);
  *(void *)(v4 + 88) = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_2596B95EC, 0, 0);
}

uint64_t sub_2596B95EC()
{
  OUTLINED_FUNCTION_25();
  uint64_t v2 = v0[10];
  uint64_t v1 = v0[11];
  sub_2598427D0();
  uint64_t v3 = sub_259842800();
  __swift_storeEnumTagSinglePayload(v1, 0, 1, v3);
  uint64_t v4 = (uint8_t *)(v2 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_lastContextRefreshDate);
  OUTLINED_FUNCTION_17_1();
  uint64_t v5 = OUTLINED_FUNCTION_274_0();
  sub_2594FB874(v5, v6);
  swift_endAccess();
  id v7 = objc_msgSend(*(id *)(v2 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_photoLibrary), sel_photoAnalysisClient);
  v0[12] = v7;
  if (v7)
  {
    uint64_t v8 = v7;
    type metadata accessor for PhotoAnalysisPhotoLibraryService();
    v0[13] = swift_initStackObject();
    v0[14] = PhotoAnalysisService.init(serviceProvider:)(v8);
    char v9 = (void *)swift_task_alloc();
    v0[15] = v9;
    void *v9 = v0;
    v9[1] = sub_2596B97C4;
    return PhotoAnalysisPhotoLibraryService.requestPersonalizedSensingRefresh()();
  }
  else
  {
    uint64_t v11 = sub_259843A50();
    os_log_type_t v12 = sub_259844B50();
    if (OUTLINED_FUNCTION_218(v12))
    {
      uint64_t v13 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_149(v13);
      _os_log_impl(&dword_25934C000, v11, (os_log_type_t)v1, "Error requesting PersonalizedSensing Context Refresh, PAD isn't available", v4, 2u);
      OUTLINED_FUNCTION_61_0();
    }

    swift_task_dealloc();
    OUTLINED_FUNCTION_67();
    return v14();
  }
}

uint64_t sub_2596B97C4()
{
  OUTLINED_FUNCTION_25();
  char v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 128) = v0;
  swift_task_dealloc();
  if (!v0) {
    *(unsigned char *)(v5 + 136) = v3 & 1;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596B98BC()
{
  OUTLINED_FUNCTION_247();
  int v3 = *(unsigned __int8 *)(v1 + 136);
  uint64_t v4 = sub_259843A50();
  if (v3 == 1)
  {
    os_log_type_t v5 = sub_259844B70();
    BOOL v6 = OUTLINED_FUNCTION_91(v5);
    uint64_t v7 = *(void **)(v1 + 96);
    if (!v6) {
      goto LABEL_7;
    }
    uint64_t v8 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_149(v8);
    uint64_t v9 = "Successfully requested PersonalizedSensing context refresh.";
  }
  else
  {
    os_log_type_t v10 = sub_259844B50();
    BOOL v11 = OUTLINED_FUNCTION_91(v10);
    uint64_t v7 = *(void **)(v1 + 96);
    if (!v11) {
      goto LABEL_7;
    }
    os_log_type_t v12 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_149(v12);
    uint64_t v9 = "Failed to request PersonalizedSensing context refresh.";
  }
  _os_log_impl(&dword_25934C000, v4, v2, v9, v0, 2u);
  OUTLINED_FUNCTION_61_0();
LABEL_7:

  swift_release();
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v13();
}

uint64_t sub_2596B99D0()
{
  uint64_t v1 = *(void **)(v0 + 128);
  id v2 = v1;
  id v3 = v1;
  uint64_t v4 = (void *)sub_259843A50();
  os_log_type_t v5 = sub_259844B50();
  if (OUTLINED_FUNCTION_1_0(v5))
  {
    BOOL v6 = *(void **)(v0 + 128);
    unint64_t v18 = *(void **)(v0 + 96);
    uint64_t v7 = (_DWORD *)OUTLINED_FUNCTION_54();
    uint64_t v8 = (void *)OUTLINED_FUNCTION_84();
    _DWORD *v7 = 138412290;
    id v9 = v6;
    uint64_t v10 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v0 + 72) = v10;
    sub_259844E10();
    void *v8 = v10;

    OUTLINED_FUNCTION_170_9();
    OUTLINED_FUNCTION_47(v11, v12, v13, v14);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    swift_release();
  }
  else
  {
    uint64_t v15 = *(void **)(v0 + 128);

    swift_release();
  }
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v16();
}

uint64_t PromptSuggestionProvider.deinit()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_logger;
  sub_259843A80();
  OUTLINED_FUNCTION_2();
  (*(void (**)(uint64_t))(v2 + 8))(v1);

  __swift_destroy_boxed_opaque_existential_1(v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_cache);
  __swift_destroy_boxed_opaque_existential_1(v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_searchSuggestionsDataSource);
  __swift_destroy_boxed_opaque_existential_1(v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_validator);

  sub_25966DE0C(v0 + OBJC_IVAR____TtC18PhotosIntelligence24PromptSuggestionProvider_lastContextRefreshDate, (uint64_t *)&unk_26B2F8390);
  return v0;
}

uint64_t PromptSuggestionProvider.__deallocating_deinit()
{
  PromptSuggestionProvider.deinit();
  uint64_t v1 = *(unsigned int *)(*(void *)v0 + 48);
  uint64_t v2 = *(unsigned __int16 *)(*(void *)v0 + 52);
  return MEMORY[0x270FA0228](v0, v1, v2);
}

char *sub_2596B9CB8(uint64_t a1, void *a2, uint64_t a3)
{
  *(void *)&v3[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedPeopleFetchRequest] = 0;
  *(void *)&v3[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedAssetFetchRequest] = 0;
  uint64_t v7 = OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers;
  uint64_t v8 = self;
  id v9 = v3;
  *(void *)&v3[v7] = objc_msgSend(v8, sel_weakObjectsHashTable);
  *(void *)&v9[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestionsAssetPeopleUUIDMap] = MEMORY[0x263F8EE80];
  *(void *)&v9[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestions] = a1;
  *(void *)&v9[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_photoLibrary] = a2;
  uint64_t v10 = sub_259843A80();
  uint64_t v11 = *(void *)(v10 - 8);
  OUTLINED_FUNCTION_50_0();
  OUTLINED_FUNCTION_106();
  v12();
  id v13 = a2;

  v16.receiver = v9;
  v16.super_class = (Class)type metadata accessor for PromptSuggestionValidationObservation(0);
  uint64_t v14 = (char *)objc_msgSendSuper2(&v16, sel_init);
  objc_msgSend(*(id *)&v14[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_photoLibrary], sel_registerChangeObserver_, v14);

  (*(void (**)(uint64_t, uint64_t))(v11 + 8))(a3, v10);
  return v14;
}

uint64_t sub_2596B9E40(uint64_t a1)
{
  return OUTLINED_FUNCTION_87_15(a1, OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedPeopleFetchRequest);
}

uint64_t sub_2596B9E4C(uint64_t a1)
{
  return OUTLINED_FUNCTION_87_15(a1, OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedAssetFetchRequest);
}

uint64_t sub_2596B9E58(uint64_t a1)
{
  id v3 = (void *)(v1
                + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestionsAssetPeopleUUIDMap);
  OUTLINED_FUNCTION_57();
  *id v3 = a1;
  return swift_bridgeObjectRelease();
}

uint64_t sub_2596B9EA4()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestions);
  uint64_t v51 = *(void *)(v1 + 16);
  if (v51)
  {
    uint64_t v47 = OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestions;
    uint64_t v2 = (void *)(v0
                  + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestionsAssetPeopleUUIDMap);
    uint64_t v50 = v1 + 32;
    sub_259843F00();
    unint64_t v3 = 0;
    uint64_t v49 = v1;
    while (1)
    {
      memcpy(__dst, (const void *)(v50 + 152 * v3), 0x98uLL);
      uint64_t v4 = __dst[1];
      uint64_t v52 = __dst[0];
      uint64_t v5 = __dst[3];
      uint64_t v6 = __dst[11];
      sub_2594B698C((uint64_t)__dst);
      uint64_t v7 = static StoryGenerationUtilities.queryTokenPersonUUIDs(from:)(v6);
      sub_259843F00();
      sub_259843F00();
      uint64_t v8 = sub_259844950();
      uint64_t v54 = (void *)v8;
      uint64_t v9 = *(void *)(v5 + 16);
      if (v9)
      {
        uint64_t v10 = (uint64_t *)(v5 + 40);
        do
        {
          uint64_t v11 = *(v10 - 1);
          uint64_t v12 = *v10;
          sub_259843F00();
          sub_2596D4E7C((uint64_t)v53, v11, v12, v13, v14, v15, v16, v17, v47, v48);
          swift_bridgeObjectRelease();
          v10 += 2;
          --v9;
        }
        while (v9);
        swift_bridgeObjectRelease();
        uint64_t v18 = (uint64_t)v54;
      }
      else
      {
        uint64_t v18 = v8;
        swift_bridgeObjectRelease();
      }
      uint64_t v19 = sub_259844950();
      uint64_t v54 = (void *)v19;
      uint64_t v20 = *(void *)(v7 + 16);
      if (v20)
      {
        unint64_t v21 = (uint64_t *)(v7 + 40);
        do
        {
          uint64_t v22 = *(v21 - 1);
          uint64_t v23 = *v21;
          sub_259843F00();
          sub_2596D4E7C((uint64_t)v53, v22, v23, v24, v25, v26, v27, v28, v47, v48);
          swift_bridgeObjectRelease();
          v21 += 2;
          --v20;
        }
        while (v20);
        swift_bridgeObjectRelease();
        uint64_t v29 = (uint64_t)v54;
      }
      else
      {
        uint64_t v29 = v19;
        swift_bridgeObjectRelease();
      }
      swift_beginAccess();
      swift_isUniquelyReferenced_nonNull_native();
      uint64_t v54 = (void *)*v2;
      uint64_t v30 = v54;
      void *v2 = 0x8000000000000000;
      unint64_t v31 = sub_25939CE90();
      if (__OFADD__(v30[2], (v32 & 1) == 0)) {
        break;
      }
      unint64_t v33 = v31;
      char v34 = v32;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A3900D8);
      if (sub_259845350())
      {
        unint64_t v35 = sub_25939CE90();
        if ((v34 & 1) != (v36 & 1)) {
          goto LABEL_28;
        }
        unint64_t v33 = v35;
      }
      uint64_t v37 = v54;
      if (v34)
      {
        uint64_t v38 = v54[7] + 40 * v33;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        *(void *)uint64_t v38 = v18;
        *(void *)(v38 + 8) = v29;
        uint64_t v39 = MEMORY[0x263F8EE88];
        *(void *)(v38 + 16) = MEMORY[0x263F8EE88];
        *(void *)(v38 + 24) = v39;
        *(unsigned char *)(v38 + 32) = 1;
      }
      else
      {
        v54[(v33 >> 6) + 8] |= 1 << v33;
        uint64_t v40 = (void *)(v37[6] + 16 * v33);
        void *v40 = v52;
        v40[1] = v4;
        uint64_t v41 = v37[7] + 40 * v33;
        *(void *)uint64_t v41 = v18;
        *(void *)(v41 + 8) = v29;
        uint64_t v42 = MEMORY[0x263F8EE88];
        *(void *)(v41 + 16) = MEMORY[0x263F8EE88];
        *(void *)(v41 + 24) = v42;
        *(unsigned char *)(v41 + 32) = 1;
        uint64_t v43 = v37[2];
        BOOL v44 = __OFADD__(v43, 1);
        uint64_t v45 = v43 + 1;
        if (v44) {
          goto LABEL_27;
        }
        v37[2] = v45;
        sub_259843F00();
      }
      ++v3;
      void *v2 = v37;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_endAccess();
      sub_2594B6A34((uint64_t)__dst);
      if (v3 == v51) {
        goto LABEL_24;
      }
      if (v3 >= *(void *)(v49 + 16))
      {
        __break(1u);
LABEL_24:
        swift_bridgeObjectRelease();
        goto LABEL_25;
      }
    }
    __break(1u);
LABEL_27:
    __break(1u);
LABEL_28:
    uint64_t result = sub_2598457D0();
    __break(1u);
  }
  else
  {
LABEL_25:
    sub_259843F00();
    sub_2596BA284();
    return swift_bridgeObjectRelease();
  }
  return result;
}

uint64_t sub_2596BA248(uint64_t a1)
{
  *(void *)(v1 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_suggestions) = a1;
  swift_bridgeObjectRelease();
  return sub_2596B9EA4();
}

void sub_2596BA284()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v2 = v0;
  unint64_t v4 = v3;
  uint64_t v5 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v7 = v6;
  MEMORY[0x270FA5388](v8);
  OUTLINED_FUNCTION_44_0();
  MEMORY[0x270FA5388](v9);
  OUTLINED_FUNCTION_50();
  v120[0] = v10;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v11);
  uint64_t v13 = (char *)v120 - v12;
  MEMORY[0x270FA5388](v14);
  OUTLINED_FUNCTION_50();
  v120[1] = v15;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v16);
  OUTLINED_FUNCTION_50();
  uint64_t v123 = v17;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v18);
  OUTLINED_FUNCTION_50();
  uint64_t v124 = v19;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v20);
  uint64_t v22 = (char *)v120 - v21;
  uint64_t v23 = *(void *)(v7 + 16);
  uint64_t v125 = (char *)v2 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_logger;
  uint64_t v126 = v23;
  uint64_t v127 = v7 + 16;
  OUTLINED_FUNCTION_106();
  v24();
  sub_259843F00();
  uint64_t v25 = sub_259843A50();
  os_log_type_t v26 = sub_259844B70();
  BOOL v27 = os_log_type_enabled(v25, v26);
  uint64_t v121 = v13;
  if (v27)
  {
    *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
    uint64_t v130 = *(char **)(v4 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_132_8(&dword_25934C000, v25, v26, "Refreshing people and asset observation in response to updated suggestions. Count:%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  uint64_t v28 = *(char **)(v7 + 8);
  uint64_t v128 = v7 + 8;
  ((void (*)(char *, uint64_t))v28)(v22, v5);
  uint64_t v29 = OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers;
  uint64_t v30 = (uint64_t)&selRef__mePersonUUIDInPhotoLibrary_;
  unint64_t v31 = objc_msgSend(*(id *)((char *)v2 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers), sel_allObjects);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A3900D0);
  unint64_t v32 = sub_259844500();

  if (v32 >> 62) {
    goto LABEL_83;
  }
  unint64_t v31 = *(void **)((v32 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (1)
  {
    swift_bridgeObjectRelease();
    uint64_t v129 = v5;
    if (!v31) {
      break;
    }
    unint64_t v33 = *(char **)(v4 + 16);
    if (!v33) {
      break;
    }
    OUTLINED_FUNCTION_106();
    v34();
    swift_bridgeObjectRetain_n();
    unint64_t v35 = v2;
    char v36 = sub_259843A50();
    os_log_type_t v37 = sub_259844B70();
    BOOL v38 = os_log_type_enabled(v36, v37);
    uint64_t v122 = v35;
    if (v38)
    {
      uint64_t v39 = OUTLINED_FUNCTION_21_0();
      *(_DWORD *)uint64_t v39 = 134218240;
      id v40 = objc_msgSend(*(id *)((char *)v2 + v29), sel_allObjects);
      unint64_t v41 = sub_259844500();

      if (v41 >> 62)
      {
        sub_259843F00();
        sub_259845460();
        id v42 = v122;

        swift_bridgeObjectRelease();
      }
      else
      {
        id v42 = v122;
      }
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_74_13();

      *(_WORD *)(v39 + 12) = 2048;
      swift_bridgeObjectRelease();
      uint64_t v130 = v33;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v36, v37, "Observers and suggestions are not empty. Adding change observation. Observers:%ld | suggestions count:%ld", (uint8_t *)v39, 0x16u);
      OUTLINED_FUNCTION_61_0();

      uint64_t v5 = v129;
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    uint64_t v53 = (void (*)(void, void))v124;
    uint64_t v124 = v28;
    ((void (*)(void, uint64_t))v28)(v53, v5);
    uint64_t v130 = (char *)MEMORY[0x263F8EE78];
    sub_2594F25B0();
    uint64_t v28 = v130;
    uint64_t v54 = (uint64_t *)(v4 + 120);
    do
    {
      uint64_t v55 = *(v54 - 8);
      uint64_t v56 = *v54;
      uint64_t v130 = v28;
      unint64_t v4 = *((void *)v28 + 2);
      unint64_t v57 = *((void *)v28 + 3);
      sub_259843F00();
      sub_259843F00();
      if (v4 >= v57 >> 1)
      {
        sub_2594F25B0();
        uint64_t v28 = v130;
      }
      *((void *)v28 + 2) = v4 + 1;
      uint64_t v58 = &v28[16 * v4];
      *((void *)v58 + 4) = v56;
      *((void *)v58 + 5) = v55;
      v54 += 19;
      --v33;
    }
    while (v33);
    sub_259843F00();
    uint64_t v29 = v4 + 1;
    uint64_t v59 = MEMORY[0x263F8EE78];
    uint64_t v5 = 32;
    uint64_t v30 = 88;
    do
    {
      uint64_t v2 = *(void **)&v28[v5];
      uint64_t v1 = v2[2];
      uint64_t v60 = *(void *)(v59 + 16);
      unint64_t v31 = (void *)(v60 + v1);
      if (__OFADD__(v60, v1))
      {
        __break(1u);
LABEL_76:
        __break(1u);
        goto LABEL_77;
      }
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || (uint64_t)v31 > *(void *)(v59 + 24) >> 1)
      {
        sub_259386A70();
        uint64_t v59 = v61;
      }
      if (v2[2])
      {
        uint64_t v62 = *(void *)(v59 + 16);
        if ((*(void *)(v59 + 24) >> 1) - v62 < v1) {
          goto LABEL_79;
        }
        unint64_t v63 = v59 + 88 * v62 + 32;
        if ((unint64_t)(v2 + 4) < v63 + 88 * v1 && v63 < (unint64_t)&v2[11 * v1 + 4])
        {
LABEL_86:
          sub_2598454C0();
          __break(1u);
          return;
        }
        swift_arrayInitWithCopy();
        if (v1)
        {
          uint64_t v65 = *(void *)(v59 + 16);
          BOOL v66 = __OFADD__(v65, v1);
          uint64_t v67 = v65 + v1;
          if (v66) {
            goto LABEL_81;
          }
          *(void *)(v59 + 16) = v67;
        }
      }
      else if (v1)
      {
        goto LABEL_76;
      }
      swift_bridgeObjectRelease();
      v5 += 16;
      --v29;
    }
    while (v29);
    swift_release();
    static StoryGenerationUtilities.queryTokenPersonUUIDs(from:)(v59);
    OUTLINED_FUNCTION_44_7();
    if (v31[2])
    {
      uint64_t v68 = v122;
      id v69 = sub_2596BAE64();
      id v70 = v69;
      sub_2596B9E40((uint64_t)v69);
      OUTLINED_FUNCTION_26_32();
      v71();
      sub_259843F00();
      uint64_t v72 = (void *)sub_259843A50();
      os_log_type_t v73 = sub_259844B70();
      if (OUTLINED_FUNCTION_30_1(v73))
      {
        os_log_type_t v74 = (float *)OUTLINED_FUNCTION_54();
        OUTLINED_FUNCTION_142_8(v74, 3.852e-34);
        OUTLINED_FUNCTION_97_11();
        uint64_t v68 = v122;
        sub_259844E10();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_155(&dword_25934C000, v75, v76, "Added people change tracking for uuid count:%ld");
        OUTLINED_FUNCTION_61_0();
      }
      else
      {

        OUTLINED_FUNCTION_190();
      }
      uint64_t v88 = OUTLINED_FUNCTION_114_9();
      v89(v88);
    }
    else
    {
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_26_32();
      v77();
      uint64_t v78 = (void *)sub_259843A50();
      os_log_type_t v79 = sub_259844B70();
      BOOL v80 = OUTLINED_FUNCTION_52(v79);
      uint64_t v68 = v122;
      if (v80)
      {
        uint64_t v81 = (uint8_t *)OUTLINED_FUNCTION_41();
        *(_WORD *)uint64_t v81 = 0;
        OUTLINED_FUNCTION_211();
        _os_log_impl(v82, v83, v84, v85, v81, 2u);
        OUTLINED_FUNCTION_61_0();
      }

      uint64_t v86 = OUTLINED_FUNCTION_114_9();
      v87(v86);
      sub_2596B9E40(0);
    }
    id v90 = *(id *)&v68[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_photoLibrary];
    uint64_t v2 = static StoryGenerationUtilities.assetIdentifiersFetchOptions(for:wantsIncrementalChangeDetails:)(v90, 1);

    sub_259843F00();
    uint64_t v29 = v4 + 1;
    unint64_t v31 = (void *)MEMORY[0x263F8EE78];
    uint64_t v5 = 40;
    while (1)
    {
      uint64_t v1 = *(void *)&v28[v5];
      uint64_t v30 = *(void *)(v1 + 16);
      uint64_t v91 = v31[2];
      unint64_t v4 = v91 + v30;
      if (__OFADD__(v91, v30)) {
        break;
      }
      sub_259843F00();
      if (!swift_isUniquelyReferenced_nonNull_native() || (int64_t)v4 > v31[3] >> 1)
      {
        sub_25938553C();
        unint64_t v31 = v92;
      }
      if (*(void *)(v1 + 16))
      {
        uint64_t v93 = v31[2];
        if ((v31[3] >> 1) - v93 < v30) {
          goto LABEL_80;
        }
        unint64_t v94 = (unint64_t)&v31[2 * v93 + 4];
        if (v1 + 32 < v94 + 16 * v30 && v94 < v1 + 32 + 16 * v30) {
          goto LABEL_86;
        }
        swift_arrayInitWithCopy();
        if (v30)
        {
          uint64_t v96 = v31[2];
          BOOL v66 = __OFADD__(v96, v30);
          uint64_t v97 = v96 + v30;
          if (v66) {
            goto LABEL_82;
          }
          v31[2] = v97;
        }
      }
      else if (v30)
      {
        goto LABEL_78;
      }
      swift_bridgeObjectRelease();
      v5 += 16;
      if (!--v29)
      {
        swift_release_n();
        if (v31[2])
        {
          uint64_t v98 = self;
          uint64_t v99 = v2;
          id v100 = sub_2593A2960((uint64_t)v31, (uint64_t)v2, v98);

          sub_2596B9E4C((uint64_t)v100);
          unint64_t v101 = v121;
          OUTLINED_FUNCTION_26_32();
          v102();
          sub_259843F00();
          uint64_t v103 = sub_259843A50();
          os_log_type_t v104 = sub_259844B70();
          BOOL v105 = os_log_type_enabled(v103, v104);
          uint64_t v106 = (void (*)(char *, uint64_t))v124;
          if (v105)
          {
            uint64_t v107 = (float *)OUTLINED_FUNCTION_54();
            OUTLINED_FUNCTION_142_8(v107, 3.852e-34);
            OUTLINED_FUNCTION_97_11();
            sub_259844E10();
            swift_bridgeObjectRelease();
            _os_log_impl(&dword_25934C000, v103, v104, "Added asset change observation for uuid count:%ld", (uint8_t *)v107, 0xCu);
            uint64_t v29 = v129;
            OUTLINED_FUNCTION_61_0();
          }
          else
          {

            OUTLINED_FUNCTION_190();
          }
          v106(v101, v29);
        }
        else
        {
          swift_bridgeObjectRelease();
          uint64_t v108 = v120[0];
          OUTLINED_FUNCTION_26_32();
          v109();
          uint64_t v110 = (void *)sub_259843A50();
          os_log_type_t v111 = sub_259844B70();
          BOOL v112 = OUTLINED_FUNCTION_52(v111);
          uint64_t v113 = (void (*)(uint64_t, uint64_t))v124;
          if (v112)
          {
            uint64_t v114 = (uint8_t *)OUTLINED_FUNCTION_41();
            *(_WORD *)uint64_t v114 = 0;
            OUTLINED_FUNCTION_211();
            _os_log_impl(v115, v116, v117, v118, v114, 2u);
            uint64_t v29 = v129;
            OUTLINED_FUNCTION_61_0();
            char v119 = v2;
          }
          else
          {
            char v119 = v110;
            uint64_t v110 = v2;
          }

          v113(v108, v29);
        }
        goto LABEL_74;
      }
    }
LABEL_77:
    __break(1u);
LABEL_78:
    __break(1u);
LABEL_79:
    __break(1u);
LABEL_80:
    __break(1u);
LABEL_81:
    __break(1u);
LABEL_82:
    __break(1u);
LABEL_83:
    OUTLINED_FUNCTION_23_1();
    sub_259845460();
    OUTLINED_FUNCTION_44_7();
  }
  sub_2596B9E40(0);
  sub_2596B9E4C(0);
  OUTLINED_FUNCTION_106();
  v43();
  swift_bridgeObjectRetain_n();
  BOOL v44 = v2;
  uint64_t v45 = sub_259843A50();
  os_log_type_t v46 = sub_259844B70();
  if (os_log_type_enabled(v45, v46))
  {
    uint64_t v124 = v28;
    uint64_t v47 = (_DWORD *)OUTLINED_FUNCTION_21_0();
    uint64_t v48 = v30;
    uint64_t v49 = v47;
    *uint64_t v47 = 134218240;
    id v50 = [*(id *)((char *)v2 + v29) (SEL)(v48 + 2840)];
    unint64_t v51 = sub_259844500();

    if (v51 >> 62)
    {
      sub_259843F00();
      sub_259845460();

      swift_bridgeObjectRelease();
    }
    else
    {
    }
    uint64_t v28 = v124;
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_74_13();

    *((_WORD *)v49 + 6) = 2048;
    uint64_t v52 = *(char **)(v4 + 16);
    swift_bridgeObjectRelease();
    uint64_t v130 = v52;
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v45, v46, "Suggestions or observer count is 0. Removing change observation. Observers:%ld | suggestions count:%ld", (uint8_t *)v49, 0x16u);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  ((void (*)(uint64_t, uint64_t))v28)(v1, v129);
LABEL_74:
  OUTLINED_FUNCTION_13_1();
}

id sub_2596BAE64()
{
  id v1 = objc_msgSend(*(id *)(v0 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_photoLibrary), sel_librarySpecificFetchOptions);
  objc_msgSend(v1, sel_setPersonContext_, 1);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_259876920;
  *(void *)(v2 + 32) = sub_2598440A0();
  *(void *)(v2 + 40) = v3;
  uint64_t v4 = OUTLINED_FUNCTION_50_0();
  sub_2593A28F4(v4, v5);
  uint64_t v6 = self;
  uint64_t v7 = (void *)sub_2598444E0();
  id v8 = objc_msgSend(v6, sel_fetchPersonsWithLocalIdentifiers_options_, v7, v1);

  return v8;
}

uint64_t sub_2596BAF58()
{
  uint64_t v2 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v4 = v3;
  MEMORY[0x270FA5388](v5);
  OUTLINED_FUNCTION_45_0();
  uint64_t v6 = sub_259843F00();
  sub_2596BA248(v6);
  OUTLINED_FUNCTION_106();
  v7();
  sub_259843F00();
  id v8 = sub_259843A50();
  os_log_type_t v9 = sub_259844B70();
  if (OUTLINED_FUNCTION_91(v9))
  {
    *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_47(&dword_25934C000, v8, v1, "Update change observation for new suggestion count:%ld");
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease();
  }
  return (*(uint64_t (**)(uint64_t, uint64_t))(v4 + 8))(v0, v2);
}

void sub_2596BB0B8()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v1 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v3 = v2;
  MEMORY[0x270FA5388](v4);
  OUTLINED_FUNCTION_233();
  uint64_t v7 = v6 - v5;
  id v8 = objc_msgSend(*(id *)(v0 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers), sel_allObjects);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A3900D0);
  unint64_t v9 = sub_259844500();

  OUTLINED_FUNCTION_106();
  v10();
  OUTLINED_FUNCTION_6_19();
  uint64_t v11 = sub_259843A50();
  os_log_type_t v12 = sub_259844B70();
  unint64_t v13 = v9 >> 62;
  if (!os_log_type_enabled(v11, v12))
  {

    OUTLINED_FUNCTION_181();
    goto LABEL_5;
  }
  *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
  if (v13) {
    goto LABEL_17;
  }
  while (1)
  {
    swift_bridgeObjectRelease();
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_47(&dword_25934C000, v11, v12, "Notifying %ld observers about library update impacting displayed suggestions");
    OUTLINED_FUNCTION_61_0();

LABEL_5:
    uint64_t v14 = *(void (**)(uint64_t, uint64_t))(v3 + 8);
    v3 += 8;
    v14(v7, v1);
    if (v13)
    {
      sub_259843F00();
      uint64_t v15 = sub_259845460();
      swift_bridgeObjectRelease();
      if (!v15) {
        goto LABEL_13;
      }
    }
    else
    {
      uint64_t v15 = *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (!v15) {
        goto LABEL_13;
      }
    }
    if (v15 >= 1) {
      break;
    }
    __break(1u);
LABEL_17:
    sub_259843F00();
    sub_259845460();
    swift_bridgeObjectRelease();
  }
  for (uint64_t i = 0; i != v15; ++i)
  {
    if ((v9 & 0xC000000000000001) != 0)
    {
      uint64_t v17 = (void *)MEMORY[0x25A2DFA20](i, v9);
    }
    else
    {
      uint64_t v17 = *(void **)(v9 + 8 * i + 32);
      swift_unknownObjectRetain();
    }
    objc_msgSend(v17, sel_suggestionsDidGetInvalidated);
    swift_unknownObjectRelease();
  }
LABEL_13:
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13_1();
}

void sub_2596BB32C()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v1 = v0;
  uint64_t v2 = sub_259843AD0();
  OUTLINED_FUNCTION_87();
  uint64_t v4 = v3;
  MEMORY[0x270FA5388](v5);
  OUTLINED_FUNCTION_233();
  uint64_t v8 = v7 - v6;
  uint64_t v9 = sub_259843B00();
  OUTLINED_FUNCTION_87();
  uint64_t v11 = v10;
  MEMORY[0x270FA5388](v12);
  OUTLINED_FUNCTION_233();
  uint64_t v15 = v14 - v13;
  sub_25935633C(0, (unint64_t *)&qword_26B2FFBF0);
  uint64_t v16 = (void *)sub_259844BE0();
  uint64_t v17 = OUTLINED_FUNCTION_96();
  swift_unknownObjectWeakInit();
  uint64_t v18 = OUTLINED_FUNCTION_129_0();
  *(void *)(v18 + 16) = v17;
  *(void *)(v18 + 24) = v1;
  v21[4] = sub_2596BDAF4;
  v21[5] = v18;
  v21[0] = MEMORY[0x263EF8330];
  v21[1] = 1107296256;
  uint64_t v21[2] = sub_2593C4DF8;
  v21[3] = &block_descriptor_133;
  uint64_t v19 = _Block_copy(v21);
  id v20 = v1;
  swift_release();
  sub_259843AF0();
  v21[0] = MEMORY[0x263F8EE78];
  sub_2596BDAFC();
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B2FFB80);
  sub_2596BDB4C();
  sub_259844F20();
  MEMORY[0x25A2DF460](0, v15, v8, v19);
  _Block_release(v19);

  (*(void (**)(uint64_t, uint64_t))(v4 + 8))(v8, v2);
  (*(void (**)(uint64_t, uint64_t))(v11 + 8))(v15, v9);
  OUTLINED_FUNCTION_13_1();
}

void sub_2596BB560(uint64_t a1, NSObject *a2)
{
  uint64_t v137 = sub_259843A80();
  uint64_t v4 = *(void *)(v137 - 8);
  MEMORY[0x270FA5388](v137);
  uint64_t v134 = (char *)&v121 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v6);
  uint64_t v8 = (char *)&v121 - v7;
  MEMORY[0x270FA5388](v9);
  uint64_t v133 = (char *)&v121 - v10;
  MEMORY[0x270FA5388](v11);
  uint64_t v13 = (char *)&v121 - v12;
  swift_beginAccess();
  uint64_t v14 = MEMORY[0x25A2E14E0](a1 + 16);
  if (!v14) {
    return;
  }
  uint64_t v15 = v14;
  uint64_t v140 = MEMORY[0x263F8EE88];
  uint64_t v141 = MEMORY[0x263F8EE88];
  uint64_t v16 = *(void **)(v14
                 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedPeopleFetchRequest);
  uint64_t v135 = v14;
  uint64_t v136 = v4;
  if (v16)
  {
    unint64_t v17 = sub_25935633C(0, (unint64_t *)&qword_26B2FFA20);
    id v18 = v16;
    uint64_t v19 = sub_259844D60();
    if (!v19)
    {

      goto LABEL_41;
    }
    id v20 = (void *)v19;
    id v126 = v18;
    os_log_t v127 = a2;
    uint64_t v132 = v8;
    uint64_t v21 = v136;
    uint64_t v22 = *(void (**)(char *, char *, uint64_t))(v136 + 16);
    uint64_t v129 = (char *)(v15 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_logger);
    uint64_t v23 = v137;
    uint64_t v130 = v136 + 16;
    uint64_t v128 = v22;
    ((void (*)(char *))v22)(v13);
    id v24 = v20;
    unint64_t v25 = sub_259843A50();
    int v26 = sub_259844B70();
    BOOL v27 = os_log_type_enabled((os_log_t)v25, (os_log_type_t)v26);
    id v131 = v24;
    if (!v27)
    {

      uint64_t v125 = *(void (**)(char *, uint64_t))(v21 + 8);
      v125(v13, v23);
LABEL_21:
      id v46 = objc_msgSend(v24, sel_removedObjects);
      unint64_t v47 = sub_259844500();

      if (v47 >> 62) {
        goto LABEL_35;
      }
      uint64_t v48 = *(void *)((v47 & 0xFFFFFFFFFFFFFF8) + 0x10);
      while (v48)
      {
        v139[0] = MEMORY[0x263F8EE78];
        uint64_t v49 = v139;
        sub_2594F08BC();
        if (v48 < 0)
        {
          __break(1u);
          goto LABEL_87;
        }
        uint64_t v15 = 0;
        uint64_t v50 = v139[0];
        while (v48 != v15)
        {
          if ((v47 & 0xC000000000000001) != 0) {
            id v51 = (id)MEMORY[0x25A2DFA20](v15, v47);
          }
          else {
            id v51 = *(id *)(v47 + 8 * v15 + 32);
          }
          uint64_t v52 = v51;
          uint64_t v53 = sub_25944C4E4(v51);
          if (!v54) {
            goto LABEL_91;
          }
          uint64_t v21 = v53;
          uint64_t v55 = v54;

          v139[0] = v50;
          unint64_t v56 = *(void *)(v50 + 16);
          unint64_t v25 = v56 + 1;
          if (v56 >= *(void *)(v50 + 24) >> 1)
          {
            sub_2594F08BC();
            uint64_t v50 = v139[0];
          }
          ++v15;
          *(void *)(v50 + 16) = v25;
          uint64_t v57 = v50 + 16 * v56;
          *(void *)(v57 + 32) = v21;
          *(void *)(v57 + 40) = v55;
          if (v48 == v15)
          {
            swift_bridgeObjectRelease();
            uint64_t v15 = v135;
            goto LABEL_37;
          }
        }
        __break(1u);
LABEL_35:
        sub_259843F00();
        uint64_t v48 = sub_259845460();
        swift_bridgeObjectRelease();
      }
      swift_bridgeObjectRelease();
      uint64_t v50 = MEMORY[0x263F8EE78];
LABEL_37:
      uint64_t v58 = sub_259737700(v50);
      swift_bridgeObjectRelease();
      uint64_t v141 = v58;
      uint64_t v59 = v133;
      uint64_t v60 = v137;
      v128(v133, v129, v137);
      uint64_t v61 = sub_259843A50();
      os_log_type_t v62 = sub_259844B70();
      if (os_log_type_enabled(v61, v62))
      {
        unint64_t v63 = v59;
        os_log_type_t v64 = (uint8_t *)swift_slowAlloc();
        uint64_t v65 = swift_slowAlloc();
        v139[0] = v65;
        *(_DWORD *)os_log_type_t v64 = 136380675;
        swift_beginAccess();
        sub_259843F00();
        uint64_t v66 = sub_259844930();
        unint64_t v68 = v67;
        swift_bridgeObjectRelease();
        uint64_t v138 = sub_259356D5C(v66, v68, v139);
        uint64_t v15 = v135;
        sub_259844E10();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_25934C000, v61, v62, "Photo Library Did Change for observed people. Removed PHPersons:%{private}s", v64, 0xCu);
        swift_arrayDestroy();
        MEMORY[0x25A2E13A0](v65, -1, -1);
        MEMORY[0x25A2E13A0](v64, -1, -1);

        id v69 = v63;
        uint64_t v70 = v137;
      }
      else
      {

        id v69 = v59;
        uint64_t v70 = v60;
      }
      v125(v69, v70);
      uint64_t v8 = v132;
      goto LABEL_41;
    }
    LODWORD(v125) = v26;
    uint64_t v28 = (uint8_t *)swift_slowAlloc();
    uint64_t v124 = swift_slowAlloc();
    v139[0] = v124;
    *(_DWORD *)uint64_t v28 = 136315138;
    id v29 = objc_msgSend(v24, sel_changedObjects);
    unint64_t v30 = sub_259844500();

    if (v30 >> 62)
    {
      sub_259843F00();
      uint64_t v31 = sub_259845460();
      swift_bridgeObjectRelease();
      if (v31) {
        goto LABEL_7;
      }
    }
    else
    {
      uint64_t v31 = *(void *)((v30 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v31)
      {
LABEL_7:
        uint64_t v121 = v28;
        unint64_t v122 = v25;
        unint64_t v123 = v17;
        uint64_t v138 = MEMORY[0x263F8EE78];
        sub_2594F083C();
        if (v31 < 0)
        {
          __break(1u);
          goto LABEL_90;
        }
        uint64_t v32 = 0;
        uint64_t v33 = v138;
        do
        {
          if ((v30 & 0xC000000000000001) != 0) {
            id v34 = (id)MEMORY[0x25A2DFA20](v32, v30);
          }
          else {
            id v34 = *(id *)(v30 + 8 * v32 + 32);
          }
          unint64_t v35 = v34;
          uint64_t v36 = sub_25944C4E4(v34);
          uint64_t v38 = v37;

          uint64_t v138 = v33;
          unint64_t v39 = *(void *)(v33 + 16);
          if (v39 >= *(void *)(v33 + 24) >> 1)
          {
            sub_2594F083C();
            uint64_t v33 = v138;
          }
          ++v32;
          *(void *)(v33 + 16) = v39 + 1;
          uint64_t v40 = v33 + 16 * v39;
          *(void *)(v40 + 32) = v36;
          *(void *)(v40 + 40) = v38;
        }
        while (v31 != v32);
        swift_bridgeObjectRelease();
        unint64_t v17 = v123;
        unint64_t v25 = v122;
        uint64_t v28 = v121;
        goto LABEL_20;
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v33 = MEMORY[0x263F8EE78];
LABEL_20:
    uint64_t v21 = (uint64_t)(v28 + 4);
    uint64_t v41 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38A1C8);
    uint64_t v42 = MEMORY[0x25A2DED80](v33, v41);
    unint64_t v44 = v43;
    swift_bridgeObjectRelease();
    uint64_t v138 = sub_259356D5C(v42, v44, v139);
    sub_259844E10();
    id v24 = v131;

    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, (os_log_t)v25, (os_log_type_t)v125, "People changes do exist. Changed:%s", v28, 0xCu);
    uint64_t v45 = v124;
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v45, -1, -1);
    MEMORY[0x25A2E13A0](v28, -1, -1);

    uint64_t v125 = *(void (**)(char *, uint64_t))(v136 + 8);
    v125(v13, v137);
    uint64_t v15 = v135;
    goto LABEL_21;
  }
LABEL_41:
  uint64_t v71 = *(void **)(v15
                 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observedAssetFetchRequest);
  if (!v71) {
    goto LABEL_80;
  }
  sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
  id v72 = v71;
  uint64_t v73 = sub_259844D60();
  if (!v73)
  {

LABEL_80:
    swift_beginAccess();
    if (*(void *)(v141 + 16) || (swift_beginAccess(), *(void *)(v140 + 16)))
    {
      swift_beginAccess();
      sub_259843F00();
      sub_259843F00();
      sub_2596BC654();
      char v120 = v119;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v120) {
        sub_2596BB0B8();
      }
    }

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return;
  }
  os_log_type_t v74 = (void *)v73;
  uint64_t v21 = v136;
  uint64_t v76 = v136 + 16;
  uint64_t v75 = *(void (**)(char *, char *, uint64_t))(v136 + 16);
  uint64_t v129 = (char *)(v15 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_logger);
  uint64_t v77 = v137;
  uint64_t v128 = v75;
  ((void (*)(char *))v75)(v8);
  unint64_t v25 = v74;
  uint64_t v49 = sub_259843A50();
  unint64_t v17 = sub_259844B70();
  BOOL v78 = os_log_type_enabled(v49, (os_log_type_t)v17);
  id v131 = v72;
  uint64_t v133 = (char *)v25;
  uint64_t v130 = v76;
  if (!v78)
  {

    uint64_t v91 = *(void (**)(char *, uint64_t))(v21 + 8);
    v91(v8, v77);
    goto LABEL_60;
  }
  LODWORD(v125) = v17;
  uint64_t v132 = v8;
  os_log_type_t v79 = (_DWORD *)swift_slowAlloc();
  uint64_t v21 = swift_slowAlloc();
  v139[0] = v21;
  id v126 = v79;
  *os_log_type_t v79 = 136315138;
  id v80 = objc_msgSend((id)v25, sel_changedObjects);
  unint64_t v17 = sub_259844500();

  if (v17 >> 62) {
    goto LABEL_88;
  }
  uint64_t v81 = *(void *)((v17 & 0xFFFFFFFFFFFFFF8) + 0x10);
LABEL_46:
  os_log_t v127 = v49;
  uint64_t v124 = v21;
  if (!v81)
  {
    swift_bridgeObjectRelease();
    uint64_t v83 = MEMORY[0x263F8EE78];
    goto LABEL_59;
  }
  uint64_t v138 = MEMORY[0x263F8EE78];
  sub_2594F083C();
  if ((v81 & 0x8000000000000000) == 0)
  {
    uint64_t v82 = 0;
    uint64_t v83 = v138;
    do
    {
      if ((v17 & 0xC000000000000001) != 0) {
        id v84 = (id)MEMORY[0x25A2DFA20](v82, v17);
      }
      else {
        id v84 = *(id *)(v17 + 8 * v82 + 32);
      }
      uint64_t v85 = v84;
      uint64_t v86 = sub_25944C4E4(v84);
      uint64_t v88 = v87;

      uint64_t v138 = v83;
      unint64_t v89 = *(void *)(v83 + 16);
      if (v89 >= *(void *)(v83 + 24) >> 1)
      {
        sub_2594F083C();
        uint64_t v83 = v138;
      }
      ++v82;
      *(void *)(v83 + 16) = v89 + 1;
      uint64_t v90 = v83 + 16 * v89;
      *(void *)(v90 + 32) = v86;
      *(void *)(v90 + 40) = v88;
    }
    while (v81 != v82);
    swift_bridgeObjectRelease();
    unint64_t v25 = (unint64_t)v133;
LABEL_59:
    uint64_t v92 = (uint8_t *)v126;
    uint64_t v93 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38A1C8);
    uint64_t v21 = MEMORY[0x25A2DED80](v83, v93);
    unint64_t v95 = v94;
    swift_bridgeObjectRelease();
    uint64_t v138 = sub_259356D5C(v21, v95, v139);
    sub_259844E10();

    swift_bridgeObjectRelease();
    os_log_t v96 = v127;
    _os_log_impl(&dword_25934C000, v127, (os_log_type_t)v125, "Asset changes do exist. Changed:%s", v92, 0xCu);
    uint64_t v97 = v124;
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v97, -1, -1);
    MEMORY[0x25A2E13A0](v92, -1, -1);

    uint64_t v91 = *(void (**)(char *, uint64_t))(v136 + 8);
    v91(v132, v137);
    uint64_t v15 = v135;
LABEL_60:
    id v98 = objc_msgSend((id)v25, sel_removedObjects);
    unint64_t v99 = sub_259844500();

    if (v99 >> 62)
    {
      while (1)
      {
        sub_259843F00();
        uint64_t v100 = sub_259845460();
        swift_bridgeObjectRelease();
        if (!v100) {
          break;
        }
LABEL_62:
        v139[0] = MEMORY[0x263F8EE78];
        uint64_t v49 = v139;
        sub_2594F08BC();
        if (v100 < 0)
        {
LABEL_87:
          __break(1u);
LABEL_88:
          sub_259843F00();
          uint64_t v81 = sub_259845460();
          swift_bridgeObjectRelease();
          goto LABEL_46;
        }
        uint64_t v15 = 0;
        uint64_t v101 = v139[0];
        while (v100 != v15)
        {
          if ((v99 & 0xC000000000000001) != 0) {
            id v102 = (id)MEMORY[0x25A2DFA20](v15, v99);
          }
          else {
            id v102 = *(id *)(v99 + 8 * v15 + 32);
          }
          uint64_t v103 = v102;
          uint64_t v104 = sub_2596BDBA0(v102);
          if (!v105) {
            goto LABEL_92;
          }
          uint64_t v21 = v104;
          unint64_t v17 = v105;

          v139[0] = v101;
          unint64_t v25 = *(void *)(v101 + 16);
          if (v25 >= *(void *)(v101 + 24) >> 1)
          {
            sub_2594F08BC();
            uint64_t v101 = v139[0];
          }
          ++v15;
          *(void *)(v101 + 16) = v25 + 1;
          unint64_t v106 = v101 + 16 * v25;
          *(void *)(v106 + 32) = v21;
          *(void *)(v106 + 40) = v17;
          if (v100 == v15)
          {
            swift_bridgeObjectRelease();
            uint64_t v15 = v135;
            goto LABEL_76;
          }
        }
        __break(1u);
      }
    }
    else
    {
      uint64_t v100 = *(void *)((v99 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v100) {
        goto LABEL_62;
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v101 = MEMORY[0x263F8EE78];
LABEL_76:
    uint64_t v107 = sub_259737700(v101);
    swift_bridgeObjectRelease();
    uint64_t v140 = v107;
    uint64_t v108 = v134;
    uint64_t v109 = v137;
    v128(v134, v129, v137);
    uint64_t v110 = sub_259843A50();
    os_log_type_t v111 = sub_259844B70();
    if (os_log_type_enabled(v110, v111))
    {
      BOOL v112 = (uint8_t *)swift_slowAlloc();
      uint64_t v113 = swift_slowAlloc();
      v139[0] = v113;
      *(_DWORD *)BOOL v112 = 136380675;
      swift_beginAccess();
      sub_259843F00();
      uint64_t v114 = sub_259844930();
      unint64_t v116 = v115;
      swift_bridgeObjectRelease();
      uint64_t v138 = sub_259356D5C(v114, v116, v139);
      uint64_t v15 = v135;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v110, v111, "Photo Library Did Change for observed assetUUIDs. RemovedAssetUUIDs:%{private}s", v112, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v113, -1, -1);
      MEMORY[0x25A2E13A0](v112, -1, -1);

      os_log_type_t v117 = v134;
      uint64_t v118 = v137;
    }
    else
    {

      os_log_type_t v117 = v108;
      uint64_t v118 = v109;
    }
    v91(v117, v118);
    goto LABEL_80;
  }
LABEL_90:
  __break(1u);
LABEL_91:
  __break(1u);
LABEL_92:
  __break(1u);
}

void sub_2596BC654()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v6 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v8 = v7;
  MEMORY[0x270FA5388](v9);
  OUTLINED_FUNCTION_57_1();
  char v27 = 0;
  id v10 = objc_msgSend(self, sel_promptValidationAssetCountThreshold);
  OUTLINED_FUNCTION_106();
  v11();
  swift_bridgeObjectRetain_n();
  OUTLINED_FUNCTION_6_19();
  uint64_t v12 = sub_259843A50();
  os_log_type_t v13 = sub_259844B70();
  if (os_log_type_enabled(v12, v13))
  {
    os_log_type_t v25 = v13;
    uint64_t v14 = OUTLINED_FUNCTION_21_0();
    v26[0] = OUTLINED_FUNCTION_18_1();
    *(_DWORD *)uint64_t v14 = 136315394;
    sub_259843F00();
    uint64_t v15 = sub_259844930();
    unint64_t v17 = v16;
    swift_bridgeObjectRelease();
    sub_259356D5C(v15, v17, v26);
    sub_259844E10();
    OUTLINED_FUNCTION_190();
    swift_bridgeObjectRelease();
    *(_WORD *)(v14 + 12) = 2080;
    sub_259843F00();
    uint64_t v18 = sub_259844930();
    uint64_t v24 = v6;
    unint64_t v20 = v19;
    swift_bridgeObjectRelease();
    sub_259356D5C(v18, v20, v26);
    uint64_t v1 = v0;
    sub_259844E10();
    OUTLINED_FUNCTION_181();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v12, v25, "Update validation state. changedPeopleIdentifiers:%s | removedAssetUUIDs:%s", (uint8_t *)v14, 0x16u);
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();

    (*(void (**)(void *, uint64_t))(v8 + 8))(v0, v24);
  }
  else
  {

    OUTLINED_FUNCTION_181();
    OUTLINED_FUNCTION_190();
    (*(void (**)(void *, uint64_t))(v8 + 8))(v0, v6);
  }
  OUTLINED_FUNCTION_28();
  sub_259843F00();
  sub_259843F00();
  id v21 = v1;
  uint64_t v22 = sub_259843F00();
  uint64_t v23 = sub_2596BD1DC(v22, v3, v5, (uint64_t)v10, &v27, v21);
  swift_bridgeObjectRelease();
  sub_2596B9E58(v23);
  OUTLINED_FUNCTION_13_1();
}

uint64_t sub_2596BC950@<X0>(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, unsigned char *a5@<X4>, uint64_t a6@<X5>, uint64_t a7@<X8>)
{
  uint64_t v42 = a6;
  uint64_t v45 = a4;
  uint64_t v43 = sub_259843A80();
  uint64_t v46 = *(void *)(v43 - 8);
  MEMORY[0x270FA5388](v43);
  unint64_t v44 = (char *)v39 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = *a1;
  uint64_t v13 = a1[1];
  sub_259843F00();
  sub_2594456A0(a2, v14);
  uint64_t v50 = v15;
  if (*(void *)(v15 + 16))
  {
    uint64_t v16 = sub_259843F00();
    sub_2596D0A58(v16);
  }
  sub_259843F00();
  sub_2594456A0(a3, v13);
  v49[3] = v17;
  if (*(void *)(v17 + 16))
  {
    uint64_t v18 = sub_259843F00();
    sub_2596D0A58(v18);
    swift_bridgeObjectRelease();
  }
  else
  {
    swift_release();
  }
  if (*(void *)(a3 + 16)
    || (sub_259843F00(),
        uint64_t v19 = sub_259843F00(),
        uint64_t v20 = sub_25949F604(v19, v14),
        swift_bridgeObjectRelease(),
        uint64_t v21 = *(void *)(v20 + 16),
        swift_bridgeObjectRelease(),
        uint64_t v22 = v46,
        v21 < v45))
  {
    char v23 = 0;
    *a5 = 1;
  }
  else
  {
    uint64_t v26 = v43;
    (*(void (**)(char *, uint64_t, uint64_t))(v46 + 16))(v44, v42 + OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_logger, v43);
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain_n();
    char v27 = sub_259843A50();
    os_log_type_t v28 = sub_259844B70();
    LODWORD(v42) = v28;
    if (os_log_type_enabled(v27, v28))
    {
      uint64_t v29 = swift_slowAlloc();
      os_log_t v40 = v27;
      uint64_t v30 = v29;
      uint64_t v41 = swift_slowAlloc();
      v49[0] = v41;
      *(_DWORD *)uint64_t v30 = 136315650;
      v39[1] = v30 + 4;
      sub_259843F00();
      uint64_t v31 = sub_259844930();
      unint64_t v33 = v32;
      swift_bridgeObjectRelease();
      uint64_t v48 = sub_259356D5C(v31, v33, v49);
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      *(_WORD *)(v30 + 12) = 2080;
      swift_beginAccess();
      sub_259843F00();
      uint64_t v34 = sub_259844930();
      unint64_t v36 = v35;
      swift_bridgeObjectRelease();
      uint64_t v47 = sub_259356D5C(v34, v36, v49);
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v30 + 22) = 2048;
      uint64_t v47 = v45;
      sub_259844E10();
      os_log_t v37 = v40;
      _os_log_impl(&dword_25934C000, v40, (os_log_type_t)v42, "Prompt is still valid. AssetUUIDs:%s | removed:%s | threshold:%ld", (uint8_t *)v30, 0x20u);
      uint64_t v38 = v41;
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v38, -1, -1);
      MEMORY[0x25A2E13A0](v30, -1, -1);

      (*(void (**)(char *, uint64_t))(v46 + 8))(v44, v43);
    }
    else
    {

      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease_n();
      (*(void (**)(char *, uint64_t))(v22 + 8))(v44, v26);
    }
    char v23 = 1;
  }
  swift_beginAccess();
  uint64_t v24 = v50;
  *(void *)a7 = v14;
  *(void *)(a7 + 8) = v13;
  *(void *)(a7 + 16) = v24;
  *(void *)(a7 + 24) = a3;
  *(unsigned char *)(a7 + 32) = v23;
  sub_259843F00();
  sub_259843F00();
  return sub_259843F00();
}

void sub_2596BCE10()
{
}

void sub_2596BCE24()
{
}

void sub_2596BCE38()
{
  OUTLINED_FUNCTION_32_0();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v6 = v0;
  uint64_t v8 = v7;
  uint64_t v9 = sub_259843A80();
  OUTLINED_FUNCTION_87();
  uint64_t v11 = v10;
  MEMORY[0x270FA5388](v12);
  OUTLINED_FUNCTION_45_0();
  uint64_t v13 = OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers;
  objc_msgSend(*(id *)&v6[OBJC_IVAR____TtC18PhotosIntelligence37PromptSuggestionValidationObservation_observers], *v5, v8);
  sub_259843F00();
  sub_2596BA284();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_106();
  v14();
  uint64_t v15 = v6;
  uint64_t v16 = (void *)sub_259843A50();
  os_log_type_t v17 = sub_259844B70();
  if (OUTLINED_FUNCTION_1_0(v17))
  {
    *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
    objc_msgSend(*(id *)&v6[v13], sel_count);
    sub_259844E10();

    OUTLINED_FUNCTION_170_9();
    OUTLINED_FUNCTION_132_8(v18, v19, v20, v3);
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    uint64_t v16 = v15;
  }

  (*(void (**)(uint64_t, uint64_t))(v11 + 8))(v1, v9);
  OUTLINED_FUNCTION_13_1();
}

void sub_2596BCFDC()
{
}

id sub_2596BD01C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for PromptSuggestionValidationObservation(0);
  return objc_msgSendSuper2(&v2, sel_dealloc);
}

uint64_t sub_2596BD118()
{
  swift_bridgeObjectRelease();
  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_2596BD150()
{
  return sub_2596B7B90(v0);
}

uint64_t sub_2596BD158@<X0>(void *a1@<X8>)
{
  return sub_2596B7BD4(v1, a1);
}

uint64_t sub_2596BD160()
{
  return sub_2594358FC(*(void (**)(uint64_t *__return_ptr))(v0 + 16), *(void *)(v0 + 24));
}

uint64_t sub_2596BD168()
{
  return *(void *)(*(void *)(v0 + 16) + 16);
}

uint64_t sub_2596BD174@<X0>(void *a1@<X8>)
{
  return sub_2596B7D28(*(void *)(v1 + 16), a1);
}

uint64_t sub_2596BD17C()
{
  swift_release();
  uint64_t v0 = OUTLINED_FUNCTION_129_1();
  return MEMORY[0x270FA0238](v0, v1, v2);
}

uint64_t sub_2596BD1B4@<X0>(uint64_t *a1@<X8>)
{
  return sub_25939436C(*(uint64_t (**)(void))(v1 + 16), a1);
}

uint64_t sub_2596BD1BC(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  return sub_25939430C(a1, a2, a3, *(void (**)(uint64_t *__return_ptr))(v3 + 16));
}

uint64_t sub_2596BD1DC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, unsigned char *a5, void *a6)
{
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A3900C0);
  uint64_t result = sub_259845480();
  uint64_t v8 = (void *)result;
  int64_t v9 = 0;
  uint64_t v40 = a1;
  uint64_t v12 = *(void *)(a1 + 64);
  uint64_t v11 = a1 + 64;
  uint64_t v10 = v12;
  uint64_t v13 = 1 << *(unsigned char *)(v11 - 32);
  uint64_t v14 = -1;
  if (v13 < 64) {
    uint64_t v14 = ~(-1 << v13);
  }
  unint64_t v15 = v14 & v10;
  uint64_t v37 = v11;
  int64_t v38 = (unint64_t)(v13 + 63) >> 6;
  uint64_t v39 = result + 64;
  uint64_t v43 = (void *)result;
  if ((v14 & v10) == 0) {
    goto LABEL_5;
  }
LABEL_4:
  unint64_t v16 = __clz(__rbit64(v15));
  v15 &= v15 - 1;
  int64_t v47 = v9;
  for (unint64_t i = v16 | (v9 << 6); ; unint64_t i = __clz(__rbit64(v20)) + (v19 << 6))
  {
    uint64_t v22 = (uint64_t *)(*(void *)(v40 + 48) + 16 * i);
    uint64_t v23 = *v22;
    uint64_t v24 = v22[1];
    uint64_t v25 = *(void *)(v40 + 56) + 40 * i;
    uint64_t v26 = *(void *)v25;
    uint64_t v27 = *(void *)(v25 + 8);
    uint64_t v28 = *(void *)(v25 + 16);
    uint64_t v29 = *(void *)(v25 + 24);
    LOBYTE(v25) = *(unsigned char *)(v25 + 32);
    v50[0] = v26;
    v50[1] = v27;
    v50[2] = v28;
    v50[3] = v29;
    char v51 = v25;
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    uint64_t v30 = v52;
    sub_2596BC950(v50, a2, a3, a4, a5, (uint64_t)a6, (uint64_t)v48);
    uint64_t v52 = v30;
    if (v30)
    {

      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v8 = v43;
      swift_release();
      return (uint64_t)v8;
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t result = swift_bridgeObjectRelease();
    *(void *)(v39 + ((i >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << i;
    uint64_t v8 = v43;
    uint64_t v31 = (void *)(v43[6] + 16 * i);
    *uint64_t v31 = v23;
    v31[1] = v24;
    uint64_t v32 = v43[7] + 40 * i;
    char v33 = v49;
    long long v34 = v48[1];
    *(_OWORD *)uint64_t v32 = v48[0];
    *(_OWORD *)(v32 + 16) = v34;
    *(unsigned char *)(v32 + 32) = v33;
    uint64_t v35 = v43[2];
    BOOL v18 = __OFADD__(v35, 1);
    uint64_t v36 = v35 + 1;
    if (v18) {
      break;
    }
    void v43[2] = v36;
    int64_t v9 = v47;
    if (v15) {
      goto LABEL_4;
    }
LABEL_5:
    BOOL v18 = __OFADD__(v9, 1);
    int64_t v19 = v9 + 1;
    if (v18) {
      goto LABEL_29;
    }
    if (v19 >= v38) {
      goto LABEL_26;
    }
    unint64_t v20 = *(void *)(v37 + 8 * v19);
    if (!v20)
    {
      int64_t v21 = v19 + 1;
      if (v19 + 1 >= v38) {
        goto LABEL_26;
      }
      unint64_t v20 = *(void *)(v37 + 8 * v21);
      if (v20) {
        goto LABEL_14;
      }
      int64_t v21 = v19 + 2;
      if (v19 + 2 >= v38) {
        goto LABEL_26;
      }
      unint64_t v20 = *(void *)(v37 + 8 * v21);
      if (v20)
      {
LABEL_14:
        int64_t v19 = v21;
        goto LABEL_15;
      }
      int64_t v21 = v19 + 3;
      if (v19 + 3 < v38)
      {
        unint64_t v20 = *(void *)(v37 + 8 * v21);
        if (!v20)
        {
          while (1)
          {
            int64_t v19 = v21 + 1;
            if (__OFADD__(v21, 1)) {
              goto LABEL_30;
            }
            if (v19 >= v38)
            {
              uint64_t v8 = v43;
              goto LABEL_26;
            }
            unint64_t v20 = *(void *)(v37 + 8 * v19);
            ++v21;
            if (v20) {
              goto LABEL_15;
            }
          }
        }
        goto LABEL_14;
      }
LABEL_26:
      swift_bridgeObjectRelease();

      swift_bridgeObjectRelease();
      return (uint64_t)v8;
    }
LABEL_15:
    unint64_t v15 = (v20 - 1) & v20;
    int64_t v47 = v19;
  }
  __break(1u);
LABEL_29:
  __break(1u);
LABEL_30:
  __break(1u);
  return result;
}

uint64_t sub_2596BD4F0()
{
  return OUTLINED_FUNCTION_61_1(v0, 24);
}

uint64_t sub_2596BD4FC()
{
  return OUTLINED_FUNCTION_61_1(v0, 32);
}

uint64_t block_copy_helper_24(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void *)(a2 + 40);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v2;
  return swift_retain();
}

uint64_t sub_2596BD518()
{
  uint64_t v1 = OUTLINED_FUNCTION_129_1();
  return MEMORY[0x270FA0238](v1, v2, v3);
}

uint64_t sub_2596BD550()
{
  return OUTLINED_FUNCTION_61_1(v0, 32);
}

unint64_t sub_2596BD560()
{
  unint64_t result = qword_26A38FFD8;
  if (!qword_26A38FFD8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FFD8);
  }
  return result;
}

unint64_t sub_2596BD5B0()
{
  unint64_t result = qword_26A38FFE0;
  if (!qword_26A38FFE0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FFE0);
  }
  return result;
}

unint64_t sub_2596BD600()
{
  unint64_t result = qword_26A38FFE8;
  if (!qword_26A38FFE8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FFE8);
  }
  return result;
}

unint64_t sub_2596BD650()
{
  unint64_t result = qword_26A38FFF0;
  if (!qword_26A38FFF0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A38FFF0);
  }
  return result;
}

uint64_t sub_2596BD69C()
{
  return type metadata accessor for PromptSuggestionProvider(0);
}

uint64_t type metadata accessor for PromptSuggestionProvider(uint64_t a1)
{
  return sub_25938CAE0(a1, (uint64_t *)&unk_26A390000);
}

void sub_2596BD6C4()
{
  sub_259843A80();
  if (v0 <= 0x3F)
  {
    sub_25940A534();
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

uint64_t method lookup function for PromptSuggestionProvider(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PromptSuggestionProvider);
}

uint64_t dispatch thunk of PromptSuggestionProvider.__allocating_init(photoLibrary:cache:searchSuggestionsDataSource:validator:embeddingDistanceThresholdForRanking:)()
{
  return (*(uint64_t (**)(void))(v0 + 152))();
}

ValueMetadata *type metadata accessor for PromptSuggestionProvider.FetchOptions()
{
  return &type metadata for PromptSuggestionProvider.FetchOptions;
}

uint64_t sub_2596BD80C()
{
  return type metadata accessor for PromptSuggestionValidationObservation(0);
}

uint64_t sub_2596BD814()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t destroy for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return swift_bridgeObjectRelease();
}

uint64_t initializeWithCopy for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = v3;
  uint64_t v4 = *(void *)(a2 + 24);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  *(void *)(a1 + 24) = v4;
  *(unsigned char *)(a1 + 32) = *(unsigned char *)(a2 + 32);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  return a1;
}

uint64_t assignWithCopy for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 16) = *(void *)(a2 + 16);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  sub_259843F00();
  swift_bridgeObjectRelease();
  *(unsigned char *)(a1 + 32) = *(unsigned char *)(a2 + 32);
  return a1;
}

uint64_t assignWithTake for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState(uint64_t a1, uint64_t a2)
{
  *(_OWORD *)a1 = *(_OWORD *)a2;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(_OWORD *)(a1 + 16) = *(_OWORD *)(a2 + 16);
  swift_bridgeObjectRelease();
  *(unsigned char *)(a1 + 32) = *(unsigned char *)(a2 + 32);
  return a1;
}

ValueMetadata *type metadata accessor for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState()
{
  return &type metadata for PromptSuggestionValidationObservation.PromptSuggestionLibraryUpdateValidationState;
}

uint64_t sub_2596BDA84()
{
  swift_unknownObjectWeakDestroy();
  return MEMORY[0x270FA0238](v0, 24, 7);
}

uint64_t sub_2596BDABC()
{
  swift_release();

  uint64_t v1 = OUTLINED_FUNCTION_129_1();
  return MEMORY[0x270FA0238](v1, v2, v3);
}

void sub_2596BDAF4()
{
  sub_2596BB560(*(void *)(v0 + 16), *(NSObject **)(v0 + 24));
}

unint64_t sub_2596BDAFC()
{
  unint64_t result = qword_26B2FFB70;
  if (!qword_26B2FFB70)
  {
    sub_259843AD0();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26B2FFB70);
  }
  return result;
}

unint64_t sub_2596BDB4C()
{
  unint64_t result = qword_26B2FFB90;
  if (!qword_26B2FFB90)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract((uint64_t *)&unk_26B2FFB80);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26B2FFB90);
  }
  return result;
}

uint64_t sub_2596BDBA0(void *a1)
{
  id v1 = objc_msgSend(a1, sel_uuid);
  if (!v1) {
    return 0;
  }
  uint64_t v2 = v1;
  uint64_t v3 = sub_2598440A0();

  return v3;
}

uint64_t sub_2596BDC04()
{
  swift_unknownObjectRelease();
  swift_release();
  return MEMORY[0x270FA0238](v0, 40, 7);
}

uint64_t sub_2596BDC44()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  uint64_t v4 = v0[2];
  uint64_t v5 = v0[3];
  uint64_t v6 = v0[4];
  swift_task_alloc();
  OUTLINED_FUNCTION_53_0();
  *(void *)(v1 + 16) = v7;
  void *v7 = v8;
  v7[1] = sub_259376834;
  return sub_2596B9558(v3, v4, v5, v6);
}

uint64_t OUTLINED_FUNCTION_20_41()
{
  *(void *)(v0 + 2416) = v1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_30_26()
{
  uint64_t v2 = *(void *)(v1 + 1872);
  __swift_project_boxed_opaque_existential_1(v0, *(void *)(v1 + 1864));
  return v2 + 48;
}

void OUTLINED_FUNCTION_34_28()
{
  sub_2594F08BC();
}

uint64_t OUTLINED_FUNCTION_45_20()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_47_22()
{
  return sub_2594332D8(v0, v1, v2, v3);
}

void OUTLINED_FUNCTION_50_19(void *a1, uint64_t a2, uint64_t a3, const char *a4)
{
  _os_log_impl(a1, v4, v5, a4, v6, 0x16u);
}

void *OUTLINED_FUNCTION_51_17(uint64_t a1, const void *a2)
{
  return memcpy(v2, a2, 0x98uLL);
}

float *OUTLINED_FUNCTION_53_18(float *result, float a2)
{
  *unint64_t result = a2;
  return result;
}

uint64_t OUTLINED_FUNCTION_54_21()
{
  v2[337] = v0;
  uint64_t v4 = v2[308] + v2[320];
  return sub_259353FF0(v4, v1);
}

void OUTLINED_FUNCTION_57_19()
{
  sub_2594F08BC();
}

uint64_t OUTLINED_FUNCTION_63_17()
{
  return sub_259843F00();
}

uint64_t OUTLINED_FUNCTION_66_18()
{
  return *(void *)(v0 + 2720) + 16;
}

uint64_t OUTLINED_FUNCTION_67_18(uint64_t a1)
{
  *(void *)(v1 + 2280) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_70_14(uint64_t a1)
{
  *(void *)(v1 + 2288) = a1;
  return sub_259844E10();
}

void *OUTLINED_FUNCTION_71_16(uint64_t a1, const void *a2)
{
  return memcpy(v2, a2, 0x98uLL);
}

uint64_t OUTLINED_FUNCTION_72_15()
{
  *(void *)(v1 - 112) = v0;
  return 0;
}

uint64_t OUTLINED_FUNCTION_74_13()
{
  *(void *)(v1 - 88) = v0;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_78_14()
{
  return *(void *)(v0 + 2456);
}

uint64_t OUTLINED_FUNCTION_80_13()
{
  return swift_arrayDestroy();
}

uint64_t OUTLINED_FUNCTION_82_15(float *a1, float a2)
{
  *a1 = a2;
  *(void *)(v3 + 96) = *(void *)(v2 + 16);
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_84_14()
{
  *(_WORD *)(v1 + 22) = v0;
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_87_15@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  *(void *)(v2 + a2) = a1;
  return MEMORY[0x270F9A758]();
}

uint64_t OUTLINED_FUNCTION_88_13()
{
  *(_WORD *)(v2 + 12) = 2048;
  *(void *)(v1 + 2224) = v0;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_90_14(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  return sub_259356D5C(v3, v4, a3);
}

uint64_t OUTLINED_FUNCTION_93_11(uint64_t a1)
{
  *(void *)(v2 - 104) = a1;
  *(_WORD *)uint64_t v1 = 1027;
  *(unsigned char *)(v1 + 2) = 0;
  return swift_release();
}

uint64_t OUTLINED_FUNCTION_96_9()
{
  *(_WORD *)(v1 + 12) = 2048;
  *(void *)(v2 + 2416) = v0;
  return v3;
}

uint64_t OUTLINED_FUNCTION_97_11()
{
  *(void *)(v1 - 88) = v0;
  return v1 - 88;
}

void OUTLINED_FUNCTION_100_9()
{
  *(_WORD *)(v2 + 12) = 2048;
  *(void *)(v0 + 2224) = v1;
}

uint64_t OUTLINED_FUNCTION_102_10@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = *(void *)(a1 + v1 + 32);
  __swift_project_boxed_opaque_existential_1((void *)(a1 + v1), *(void *)(a1 + v1 + 24));
  return v2 + 8;
}

uint64_t OUTLINED_FUNCTION_104_10(uint64_t a1)
{
  *uint64_t v3 = *v2;
  return sub_259407484(a1, v1);
}

uint64_t OUTLINED_FUNCTION_106_9()
{
  *(void *)(v1 + 2320) = v0;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_107_9(uint64_t a1)
{
  *(void *)(v1 + 2336) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_108_7(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11)
{
  *(void *)(v12 + 200) = a11;
  return v11 + 8;
}

uint64_t OUTLINED_FUNCTION_109_8()
{
  *(void *)(v1 + 2352) = v0;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_110_10()
{
  *(void *)(v2 + 2208) = *(void *)(*(void *)(v0 + 16) + 16);
  return v1;
}

uint64_t OUTLINED_FUNCTION_113_8()
{
  *(unsigned char *)(v0 + 23) = 8;
  return swift_release();
}

uint64_t OUTLINED_FUNCTION_114_9()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_116_4()
{
  return swift_release_n();
}

void OUTLINED_FUNCTION_118_7(void *a1, uint64_t a2, os_log_type_t a3, const char *a4)
{
  _os_log_impl(a1, v4, a3, a4, v5, 0x2Au);
}

uint64_t OUTLINED_FUNCTION_120_9@<X0>(uint64_t a1@<X8>)
{
  *(void *)(v3 + 2776) = *(void *)(v1 + v2);
  *(void *)(v3 + 2784) = *(void *)(a1 + 16);
  return sub_259844710();
}

void *OUTLINED_FUNCTION_121_8(uint64_t a1, const void *a2)
{
  return memcpy(v2, a2, 0x98uLL);
}

uint64_t OUTLINED_FUNCTION_124_9()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_125_9()
{
  *(void *)(v0 + 2400) = v1;
  return sub_259844E10();
}

void OUTLINED_FUNCTION_132_9()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_133_7()
{
  sub_2594F1AD0();
}

void OUTLINED_FUNCTION_134_9()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_135_7()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_136_7()
{
  sub_2594F08BC();
}

BOOL OUTLINED_FUNCTION_137_8@<W0>(unint64_t a1@<X8>)
{
  return a1 > 1;
}

void OUTLINED_FUNCTION_138_6()
{
  sub_2594F1AD0();
}

BOOL OUTLINED_FUNCTION_139_7@<W0>(unint64_t a1@<X8>)
{
  return a1 > 1;
}

void OUTLINED_FUNCTION_140_8()
{
  sub_2594F1AD0();
}

uint64_t OUTLINED_FUNCTION_142_8(float *a1, float a2)
{
  *a1 = a2;
  return swift_bridgeObjectRelease();
}

float *OUTLINED_FUNCTION_146_8(float *result, float a2)
{
  *unint64_t result = a2;
  *(void *)(v3 + 2432) = *(void *)(v2 + 16);
  return result;
}

void *OUTLINED_FUNCTION_150_7(void *a1)
{
  return memcpy(a1, v1, 0x98uLL);
}

void OUTLINED_FUNCTION_153_9()
{
  *(void *)(v1 + 2208) = *(void *)(*(void *)(v0 + 16) + 16);
}

uint64_t OUTLINED_FUNCTION_154_9(uint64_t a1)
{
  *(void *)(v1 + 2384) = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_156_8()
{
  *(void *)(v1 + 16) = v0;
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_157_7()
{
  return swift_retain();
}

uint64_t OUTLINED_FUNCTION_158_9()
{
  *(void *)(v1 - 96) = v0;
  return sub_259843F00();
}

uint64_t OUTLINED_FUNCTION_164_6()
{
  return 3;
}

uint64_t OUTLINED_FUNCTION_167_8(uint64_t result)
{
  return sub_2593C79F8(result);
}

void *OUTLINED_FUNCTION_168_6(void *a1)
{
  return __swift_project_boxed_opaque_existential_1(a1, a1[3]);
}

uint64_t OUTLINED_FUNCTION_172_8()
{
  *(void *)(v1 + 2376) = v0;
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_177_8()
{
  *(void *)(v1 - 96) = *(void *)(v0 + 16);
  return sub_259843F00();
}

float *OUTLINED_FUNCTION_178_8(float *result, float a2)
{
  *unint64_t result = a2;
  return result;
}

uint64_t OUTLINED_FUNCTION_179_9(uint64_t a1)
{
  return __swift_storeEnumTagSinglePayload(v1, 1, 1, a1);
}

float *OUTLINED_FUNCTION_180_6(float *result, float a2)
{
  *unint64_t result = a2;
  return result;
}

uint64_t OUTLINED_FUNCTION_181_7()
{
  *(_WORD *)(v1 + 22) = v0;
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_182_8()
{
  return *(void *)(v0 + 2464) + *(void *)(v0 + 2560);
}

uint64_t OUTLINED_FUNCTION_189_7()
{
  *(void *)(v0 + 16) = v1;
  return swift_retain();
}

uint64_t OUTLINED_FUNCTION_190_8()
{
  *(void *)(v0 + 16) = v1;
  return swift_retain();
}

void OUTLINED_FUNCTION_191_7(uint64_t a1@<X8>)
{
  *(void *)(a1 + 64) |= v1;
}

double OUTLINED_FUNCTION_192_6()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_194_8()
{
  return swift_bridgeObjectRelease();
}

uint64_t OUTLINED_FUNCTION_195_8()
{
  return swift_release_n();
}

uint64_t OUTLINED_FUNCTION_198_3()
{
  return sub_25939D308(v0);
}

void OUTLINED_FUNCTION_203_5()
{
  *(void *)(v1 - 112) = v0;
}

void *OUTLINED_FUNCTION_204_8()
{
  *uint64_t v0 = *(void *)(v1 + 16);
  return v0;
}

uint64_t OUTLINED_FUNCTION_205_6()
{
  return swift_retain();
}

uint64_t OUTLINED_FUNCTION_207_6()
{
  return swift_retain();
}

uint64_t CollectionToStoryOptions.init(numberOfStories:numberOfImageQueries:numberOfTokensForLifeContextPrompt:llmVersion:contextSize:computeNumberOfTokens:)@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X5>, uint64_t a7@<X6>, void *a8@<X8>)
{
  *a8 = result;
  a8[1] = a2;
  a8[2] = a3;
  a8[3] = a4;
  a8[4] = a5;
  a8[5] = a6;
  a8[6] = a7;
  return result;
}

PhotosIntelligence::CollectionType_optional __swiftcall CollectionType.init(rawValue:)(Swift::String rawValue)
{
  uint64_t v2 = v1;
  unint64_t v3 = sub_2598454E0();
  result.value = swift_bridgeObjectRelease();
  char v5 = 3;
  if (v3 < 3) {
    char v5 = v3;
  }
  char *v2 = v5;
  return result;
}

uint64_t CollectionType.rawValue.getter()
{
  OUTLINED_FUNCTION_42_25();
  uint64_t v2 = 7628144;
  if (!v3) {
    uint64_t v2 = 1885958772;
  }
  if (v0) {
    return v2;
  }
  else {
    return v1;
  }
}

uint64_t sub_2596BE7F8(unsigned __int8 *a1, char *a2)
{
  return sub_25936FA2C(*a1, *a2);
}

uint64_t sub_2596BE804()
{
  return sub_2594F8A10();
}

uint64_t sub_2596BE80C(uint64_t a1)
{
  return sub_259735D9C(a1, *v1);
}

uint64_t sub_2596BE814()
{
  return sub_259737168();
}

PhotosIntelligence::CollectionType_optional sub_2596BE81C(Swift::String *a1)
{
  return CollectionType.init(rawValue:)(*a1);
}

uint64_t sub_2596BE828@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = CollectionType.rawValue.getter();
  *a1 = result;
  a1[1] = v3;
  return result;
}

uint64_t static CollectionToStoryConfiguration.defaultNumberOfStories.getter()
{
  return 4;
}

id CollectionToStoryConfiguration.assetFetchResult.getter()
{
  return *(id *)(v0 + 16);
}

void CollectionToStoryConfiguration.collectionType.getter(unsigned char *a1@<X8>)
{
  *a1 = *(unsigned char *)(v1 + 24);
}

uint64_t CollectionToStoryConfiguration.numberOfStories.getter()
{
  return *(void *)(v0 + 32);
}

uint64_t CollectionToStoryConfiguration.collectionUUID.getter()
{
  uint64_t v1 = *(void *)(v0 + 40);
  sub_259843F00();
  return v1;
}

uint64_t CollectionToStoryConfiguration.shouldFetchAssetSimilarityScore.getter()
{
  return *(unsigned __int8 *)(v0 + 56);
}

uint64_t CollectionToStoryConfiguration.__allocating_init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)(uint64_t a1, char *a2)
{
  OUTLINED_FUNCTION_36_25();
  uint64_t v4 = swift_allocObject();
  char v5 = *a2;
  *(void *)(v4 + 16) = a1;
  *(unsigned char *)(v4 + 24) = v5;
  return OUTLINED_FUNCTION_23_40(v4);
}

uint64_t CollectionToStoryConfiguration.init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char a6)
{
  char v7 = *(unsigned char *)a2;
  *(void *)(v6 + 16) = a1;
  *(unsigned char *)(v6 + 24) = v7;
  return OUTLINED_FUNCTION_7_50(a1, a2, a3, a4, a5, a6);
}

uint64_t sub_2596BE920()
{
  uint64_t v0 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  __swift_allocate_value_buffer(v0, qword_26A3900F0);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A3900F0);
  return sub_259845330();
}

uint64_t static CollectionToStoryConfiguration.photoLibraryUserInfoKey.getter@<X0>(uint64_t a1@<X8>)
{
  if (qword_26A388AF0 != -1) {
    swift_once();
  }
  uint64_t v2 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  uint64_t v3 = __swift_project_value_buffer(v2, (uint64_t)qword_26A3900F0);
  return sub_25944C650(v3, a1);
}

uint64_t sub_2596BEA08()
{
  unint64_t v0 = sub_2598454E0();
  swift_bridgeObjectRelease();
  if (v0 >= 5) {
    return 5;
  }
  else {
    return v0;
  }
}

uint64_t sub_2596BEA58()
{
  uint64_t result = OUTLINED_FUNCTION_44_25();
  switch(v1)
  {
    case 1:
    case 3:
      uint64_t result = OUTLINED_FUNCTION_24_39();
      break;
    case 2:
      uint64_t result = OUTLINED_FUNCTION_12_43();
      break;
    case 4:
      uint64_t result = 0xD00000000000001FLL;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_2596BEAD8()
{
  uint64_t result = OUTLINED_FUNCTION_44_25();
  switch(v1)
  {
    case 1:
    case 3:
      uint64_t result = OUTLINED_FUNCTION_24_39();
      break;
    case 2:
      uint64_t result = OUTLINED_FUNCTION_12_43();
      break;
    case 4:
      uint64_t result = 0xD00000000000001FLL;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t sub_2596BEB58(unsigned __int8 *a1, char *a2)
{
  return sub_25936D904(*a1, *a2);
}

uint64_t sub_2596BEB64()
{
  return sub_2594F8A1C(*v0);
}

uint64_t sub_2596BEB6C(uint64_t a1)
{
  return sub_259734B38(a1, *v1);
}

uint64_t sub_2596BEB74()
{
  return sub_259736874();
}

uint64_t sub_2596BEB7C@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_2596BEA08();
  *a1 = result;
  return result;
}

uint64_t sub_2596BEBAC@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = sub_2596BEA58();
  *a1 = result;
  a1[1] = v3;
  return result;
}

uint64_t sub_2596BEBD8()
{
  return sub_2596BEAD8();
}

uint64_t sub_2596BEBE0@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = sub_2596BEA54();
  *a1 = result;
  return result;
}

uint64_t sub_2596BEC08(uint64_t a1)
{
  unint64_t v2 = sub_2596BF2C4();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596BEC44(uint64_t a1)
{
  unint64_t v2 = sub_2596BF2C4();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t CollectionToStoryConfiguration.__allocating_init(from:)()
{
  OUTLINED_FUNCTION_36_25();
  swift_allocObject();
  uint64_t v1 = OUTLINED_FUNCTION_22_43();
  CollectionToStoryConfiguration.init(from:)(v1, v2, v3, v4, v5, v6, v7, v8, v10, v11);
  return v0;
}

void CollectionToStoryConfiguration.init(from:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  OUTLINED_FUNCTION_224();
  uint64_t v13 = v12;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A390108);
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v14);
  OUTLINED_FUNCTION_233();
  uint64_t v15 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v16);
  uint64_t v17 = OUTLINED_FUNCTION_6_58();
  OUTLINED_FUNCTION_87();
  uint64_t v19 = v18;
  MEMORY[0x270FA5388](v20);
  OUTLINED_FUNCTION_233();
  uint64_t v23 = v22 - v21;
  if (qword_26A388AF0 != -1) {
    swift_once();
  }
  uint64_t v24 = __swift_project_value_buffer(v15, (uint64_t)qword_26A3900F0);
  sub_25944C650(v24, v10);
  if (__swift_getEnumTagSinglePayload(v10, 1, v17) == 1)
  {
    sub_25938D0FC(v10, &qword_26A38B490);
LABEL_11:
    sub_2596BF254();
    OUTLINED_FUNCTION_37();
    unsigned char *v30 = 0;
    swift_willThrow();
    goto LABEL_12;
  }
  uint64_t v48 = v10;
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v19 + 32))(v23, v10, v17);
  __swift_project_boxed_opaque_existential_1(v13, v13[3]);
  uint64_t v25 = sub_259845950();
  sub_25976EC24(v25, &v49);
  swift_bridgeObjectRelease();
  if (!v50)
  {
    sub_25938D0FC((uint64_t)&v49, &qword_26A38DFB0);
    goto LABEL_10;
  }
  sub_25935633C(0, &qword_26B2FFBD8);
  if ((swift_dynamicCast() & 1) == 0)
  {
LABEL_10:
    uint64_t v28 = OUTLINED_FUNCTION_43_19();
    v29(v28);
    goto LABEL_11;
  }
  __swift_project_boxed_opaque_existential_1(v13, v13[3]);
  sub_2596BF2C4();
  sub_259845960();
  if (v11)
  {
    uint64_t v26 = OUTLINED_FUNCTION_10_44();
    v27(v26);

    goto LABEL_12;
  }
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
  sub_2593D3074((unint64_t *)&qword_26A38A4C8, &qword_26B3001D0);
  sub_2598455D0();
  uint64_t v31 = v49;
  id v32 = objc_msgSend(a10, sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v33 = swift_allocObject();
  *(_OWORD *)(v33 + 16) = xmmword_259876920;
  *(void *)(v33 + 32) = sub_2598440A0();
  *(void *)(v33 + 40) = v34;
  sub_2593A28F4(v33, v32);
  uint64_t v35 = self;
  int64_t v47 = v32;
  id v36 = sub_25943A124(v31, (uint64_t)v32, v35);
  if (v36)
  {
    *(void *)(v48 + 16) = v36;
    v37._countAndFlagsBits = sub_259845570();
    CollectionType.init(rawValue:)(v37);
    if (v49 != 3)
    {
      *(unsigned char *)(v48 + 24) = v49;
      OUTLINED_FUNCTION_27_30(2);
      *(void *)(v48 + 32) = sub_2598455B0();
      OUTLINED_FUNCTION_27_30(3);
      *(void *)(v48 + 40) = sub_259845570();
      *(void *)(v48 + 48) = v42;
      OUTLINED_FUNCTION_27_30(4);
      char v43 = sub_259845580();

      OUTLINED_FUNCTION_11();
      v44();
      uint64_t v45 = OUTLINED_FUNCTION_10_44();
      v46(v45);
      *(unsigned char *)(v48 + 56) = v43 & 1;
      goto LABEL_13;
    }
    sub_2596BF254();
    OUTLINED_FUNCTION_37();
    *int64_t v38 = 1;
    swift_willThrow();

    OUTLINED_FUNCTION_11();
    v39();
    uint64_t v40 = OUTLINED_FUNCTION_10_44();
    v41(v40);

LABEL_12:
    type metadata accessor for CollectionToStoryConfiguration();
    swift_deallocPartialClassInstance();
LABEL_13:
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v13);
    OUTLINED_FUNCTION_235();
    return;
  }
  __break(1u);
}

unint64_t sub_2596BF254()
{
  unint64_t result = qword_26A390110;
  if (!qword_26A390110)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390110);
  }
  return result;
}

uint64_t type metadata accessor for CollectionToStoryConfiguration()
{
  return self;
}

unint64_t sub_2596BF2C4()
{
  unint64_t result = qword_26A390118;
  if (!qword_26A390118)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390118);
  }
  return result;
}

void sub_2596BF310()
{
  OUTLINED_FUNCTION_224();
  uint64_t v3 = v0;
  uint64_t v5 = v4;
  uint64_t v6 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A390120);
  OUTLINED_FUNCTION_87();
  uint64_t v8 = v7;
  MEMORY[0x270FA5388](v9);
  OUTLINED_FUNCTION_16();
  __swift_project_boxed_opaque_existential_1(v5, v5[3]);
  sub_2596BF2C4();
  sub_259845970();
  id v10 = objc_msgSend(*(id *)(v3 + 16), sel_fetchedObjects);
  if (!v10)
  {
    sub_2596BF254();
    OUTLINED_FUNCTION_37();
    *uint64_t v25 = 2;
    swift_willThrow();
    (*(void (**)(uint64_t, uint64_t))(v8 + 8))(v2, v6);
LABEL_22:
    OUTLINED_FUNCTION_235();
    return;
  }
  uint64_t v11 = v10;
  uint64_t v27 = v2;
  uint64_t v28 = v6;
  sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
  unint64_t v12 = sub_259844500();

  if (v12 >> 62)
  {
    sub_259843F00();
    uint64_t v13 = sub_259845460();
  }
  else
  {
    uint64_t v13 = *(void *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  if (!v13)
  {
LABEL_19:
    swift_bridgeObjectRelease_n();
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    sub_2593D3074((unint64_t *)&qword_26A389A70, &qword_26B3001D0);
    sub_2598456D0();
    if (v1)
    {
      OUTLINED_FUNCTION_11();
      v26();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_42_25();
      sub_259845670();
      swift_bridgeObjectRelease();
      sub_2598456B0();
      sub_259845670();
      sub_259845680();
      (*(void (**)(uint64_t, uint64_t))(v8 + 8))(v27, v28);
    }
    goto LABEL_22;
  }
  if (v13 >= 1)
  {
    uint64_t v14 = 0;
    uint64_t v15 = MEMORY[0x263F8EE78];
    do
    {
      if ((v12 & 0xC000000000000001) != 0) {
        id v16 = (id)MEMORY[0x25A2DFA20](v14, v12);
      }
      else {
        id v16 = *(id *)(v12 + 8 * v14 + 32);
      }
      uint64_t v17 = v16;
      uint64_t v18 = sub_25944C4E4(v16);
      uint64_t v20 = v19;

      if (v20)
      {
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_25938553C();
          uint64_t v15 = v23;
        }
        unint64_t v21 = *(void *)(v15 + 16);
        if (v21 >= *(void *)(v15 + 24) >> 1)
        {
          sub_25938553C();
          uint64_t v15 = v24;
        }
        *(void *)(v15 + 16) = v21 + 1;
        uint64_t v22 = v15 + 16 * v21;
        *(void *)(v22 + 32) = v18;
        *(void *)(v22 + 40) = v20;
      }
      ++v14;
    }
    while (v13 != v14);
    goto LABEL_19;
  }
  __break(1u);
}

uint64_t CollectionToStoryConfiguration.deinit()
{
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t CollectionToStoryConfiguration.__deallocating_deinit()
{
  CollectionToStoryConfiguration.deinit();
  uint64_t v0 = OUTLINED_FUNCTION_36_25();
  return MEMORY[0x270FA0228](v0, v1, v2);
}

uint64_t sub_2596BF770@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = (*(uint64_t (**)(void))(v1 + 128))();
  if (!v2) {
    *a1 = result;
  }
  return result;
}

uint64_t sub_2596BF7AC()
{
  return (*(uint64_t (**)(void))(**(void **)v0 + 136))();
}

uint64_t CollectionToStoryOptions.numberOfStories.getter()
{
  return *(void *)v0;
}

uint64_t CollectionToStoryOptions.numberOfImageQueries.getter()
{
  return *(void *)(v0 + 8);
}

uint64_t CollectionToStoryOptions.numberOfTokensForLifeContextPrompt.getter()
{
  return *(void *)(v0 + 16);
}

uint64_t CollectionToStoryOptions.numberOfTokensForLifeContextPrompt.setter(uint64_t result)
{
  *(void *)(v1 + 16) = result;
  return result;
}

uint64_t (*CollectionToStoryOptions.numberOfTokensForLifeContextPrompt.modify())(void)
{
  return CGRectMake;
}

uint64_t CollectionToStoryOptions.llmVersion.getter()
{
  return *(void *)(v0 + 24);
}

uint64_t CollectionToStoryOptions.contextSize.getter()
{
  return *(void *)(v0 + 32);
}

uint64_t CollectionToStoryOptions.computeNumberOfTokens.getter()
{
  uint64_t v1 = *(void *)(v0 + 40);
  swift_retain();
  return v1;
}

uint64_t PersonCollectionToStoryConfiguration.__allocating_init(person:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  uint64_t v2 = OUTLINED_FUNCTION_5_61();
  *(void *)(v2 + 64) = v1;
  *(void *)(v2 + 16) = v0;
  *(unsigned char *)(v2 + 24) = 0;
  return OUTLINED_FUNCTION_23_40(v2);
}

uint64_t PersonCollectionToStoryConfiguration.init(person:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char a6)
{
  *(void *)(v6 + 64) = a1;
  *(void *)(v6 + 16) = a2;
  *(unsigned char *)(v6 + 24) = 0;
  return OUTLINED_FUNCTION_7_50(a1, a2, a3, a4, a5, a6);
}

void PersonCollectionToStoryConfiguration.__allocating_init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

void PersonCollectionToStoryConfiguration.init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

BOOL sub_2596BF930()
{
  return sub_2596C0A1C();
}

BOOL sub_2596BF95C@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596C0A1C();
  *a1 = result;
  return result;
}

void sub_2596BF99C(void *a1@<X8>)
{
  *a1 = 0x55556E6F73726570;
  a1[1] = 0xEA00000000004449;
}

uint64_t sub_2596BF9BC()
{
  return 0x55556E6F73726570;
}

BOOL sub_2596BF9D8@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596BF930();
  *a1 = result;
  return result;
}

uint64_t sub_2596BFA08(uint64_t a1)
{
  unint64_t v2 = sub_2596C1124();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596BFA44(uint64_t a1)
{
  unint64_t v2 = sub_2596C1124();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t PersonCollectionToStoryConfiguration.__allocating_init(from:)()
{
  OUTLINED_FUNCTION_14_43();
  uint64_t v1 = OUTLINED_FUNCTION_22_43();
  PersonCollectionToStoryConfiguration.init(from:)(v1, v2, v3, v4, v5, v6, v7, v8, v10, v11);
  return v0;
}

void PersonCollectionToStoryConfiguration.init(from:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  OUTLINED_FUNCTION_224();
  OUTLINED_FUNCTION_3_66();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A390128);
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v13);
  OUTLINED_FUNCTION_6_2(v14, v59);
  uint64_t v15 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v16);
  OUTLINED_FUNCTION_6_58();
  OUTLINED_FUNCTION_87();
  uint64_t v18 = v17;
  MEMORY[0x270FA5388](v19);
  OUTLINED_FUNCTION_16();
  uint64_t v20 = qword_26A388AF0;
  swift_retain();
  if (v20 != -1) {
    swift_once();
  }
  uint64_t v21 = __swift_project_value_buffer(v15, (uint64_t)qword_26A3900F0);
  sub_25944C650(v21, v11);
  OUTLINED_FUNCTION_31_28();
  if (v22)
  {
    swift_release();
    sub_25938D0FC(v11, &qword_26A38B490);
LABEL_13:
    sub_2596BF254();
    uint64_t v29 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_35_33(v29, v30);
    goto LABEL_14;
  }
  uint64_t v23 = OUTLINED_FUNCTION_9_48();
  v24(v23);
  uint64_t v25 = OUTLINED_FUNCTION_11_55();
  OUTLINED_FUNCTION_40_29(v25);
  swift_bridgeObjectRelease();
  if (!v64[3])
  {
    swift_release();
    sub_25938D0FC((uint64_t)v64, &qword_26A38DFB0);
LABEL_12:
    uint64_t v27 = OUTLINED_FUNCTION_25_36();
    v28(v27);
    goto LABEL_13;
  }
  sub_25935633C(0, &qword_26B2FFBD8);
  if ((OUTLINED_FUNCTION_38_25() & 1) == 0)
  {
    swift_release();
    goto LABEL_12;
  }
  unint64_t v63 = v18;
  OUTLINED_FUNCTION_32_27();
  sub_2596C1124();
  OUTLINED_FUNCTION_29_24();
  if (v20)
  {
    swift_release();

    OUTLINED_FUNCTION_11();
    v26();
    goto LABEL_14;
  }
  OUTLINED_FUNCTION_41_28();
  OUTLINED_FUNCTION_45_21();
  uint64_t v32 = v31;
  uint64_t v34 = v33;
  id v35 = objc_msgSend(a10, sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v36 = swift_allocObject();
  *(_OWORD *)(v36 + 16) = xmmword_259876920;
  sub_25935633C(0, (unint64_t *)&qword_26B2FFA20);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v60 = sub_2596C1170(v34, v32, ObjCClassFromMetadata);
  if (v38)
  {
    uint64_t v39 = v38;
    uint64_t v40 = self;
    *(void *)(v36 + 32) = v60;
    *(void *)(v36 + 40) = v39;
    uint64_t v41 = (void *)sub_2598444E0();
    swift_bridgeObjectRelease();
    id v42 = objc_msgSend(v40, sel_fetchPersonsWithLocalIdentifiers_options_, v41, v35);

    id v43 = objc_msgSend(v42, sel_firstObject);
    if (v43)
    {
      *(void *)(v10 + 64) = v43;
      id v61 = v43;
      swift_release();
      sub_259353FF0(v12, (uint64_t)v64);
      CollectionToStoryConfiguration.init(from:)((uint64_t)v64, v44, v45, v46, v47, v48, v49, v50, (uint64_t)v61, v63);
      OUTLINED_FUNCTION_45_21();

      OUTLINED_FUNCTION_11();
      v56();
      uint64_t v57 = OUTLINED_FUNCTION_2_3();
      v58(v57);
      __swift_destroy_boxed_opaque_existential_1(v12);
      goto LABEL_15;
    }
    swift_release();
    sub_2596BF254();
    uint64_t v51 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_28_27(v51, v52);

    OUTLINED_FUNCTION_11();
    v53();
    uint64_t v54 = OUTLINED_FUNCTION_2_3();
    v55(v54);
LABEL_14:
    __swift_destroy_boxed_opaque_existential_1(v12);
    OUTLINED_FUNCTION_26_33();
LABEL_15:
    OUTLINED_FUNCTION_34_29();
    OUTLINED_FUNCTION_235();
    return;
  }
  __break(1u);
}

void PersonCollectionToStoryConfiguration.encode(to:)()
{
}

id PetCollectionToStoryConfiguration.pet.getter()
{
  return *(id *)(v0 + 64);
}

uint64_t PetCollectionToStoryConfiguration.__allocating_init(pet:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  uint64_t v2 = OUTLINED_FUNCTION_5_61();
  *(void *)(v2 + 64) = v1;
  *(void *)(v2 + 16) = v0;
  *(unsigned char *)(v2 + 24) = 1;
  return OUTLINED_FUNCTION_23_40(v2);
}

uint64_t PetCollectionToStoryConfiguration.init(pet:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char a6)
{
  *(void *)(v6 + 64) = a1;
  *(void *)(v6 + 16) = a2;
  *(unsigned char *)(v6 + 24) = 1;
  return OUTLINED_FUNCTION_7_50(a1, a2, a3, a4, a5, a6);
}

void PetCollectionToStoryConfiguration.__allocating_init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

void PetCollectionToStoryConfiguration.init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

BOOL sub_2596C0090()
{
  return sub_2596C0A1C();
}

BOOL sub_2596C00BC@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596C0A1C();
  *a1 = result;
  return result;
}

void sub_2596C00FC(void *a1@<X8>)
{
  *a1 = 0x44495555746570;
  a1[1] = 0xE700000000000000;
}

uint64_t sub_2596C0118()
{
  return 0x44495555746570;
}

BOOL sub_2596C0130@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596C0090();
  *a1 = result;
  return result;
}

uint64_t sub_2596C0160(uint64_t a1)
{
  unint64_t v2 = sub_2596C11FC();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596C019C(uint64_t a1)
{
  unint64_t v2 = sub_2596C11FC();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t PetCollectionToStoryConfiguration.__allocating_init(from:)()
{
  OUTLINED_FUNCTION_14_43();
  uint64_t v1 = OUTLINED_FUNCTION_22_43();
  PetCollectionToStoryConfiguration.init(from:)(v1, v2, v3, v4, v5, v6, v7, v8, v10, v11);
  return v0;
}

void PetCollectionToStoryConfiguration.init(from:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  OUTLINED_FUNCTION_224();
  OUTLINED_FUNCTION_3_66();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A390140);
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v13);
  OUTLINED_FUNCTION_6_2(v14, v60);
  uint64_t v15 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v16);
  OUTLINED_FUNCTION_6_58();
  OUTLINED_FUNCTION_87();
  uint64_t v18 = v17;
  MEMORY[0x270FA5388](v19);
  OUTLINED_FUNCTION_16();
  uint64_t v20 = qword_26A388AF0;
  swift_retain();
  if (v20 != -1) {
    swift_once();
  }
  uint64_t v21 = __swift_project_value_buffer(v15, (uint64_t)qword_26A3900F0);
  sub_25944C650(v21, v11);
  OUTLINED_FUNCTION_31_28();
  if (v22)
  {
    swift_release();
    sub_25938D0FC(v11, &qword_26A38B490);
LABEL_13:
    sub_2596BF254();
    uint64_t v29 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_35_33(v29, v30);
    goto LABEL_14;
  }
  uint64_t v23 = OUTLINED_FUNCTION_9_48();
  v24(v23);
  uint64_t v25 = OUTLINED_FUNCTION_11_55();
  OUTLINED_FUNCTION_40_29(v25);
  swift_bridgeObjectRelease();
  if (!v65[3])
  {
    swift_release();
    sub_25938D0FC((uint64_t)v65, &qword_26A38DFB0);
LABEL_12:
    uint64_t v27 = OUTLINED_FUNCTION_25_36();
    v28(v27);
    goto LABEL_13;
  }
  sub_25935633C(0, &qword_26B2FFBD8);
  if ((OUTLINED_FUNCTION_38_25() & 1) == 0)
  {
    swift_release();
    goto LABEL_12;
  }
  os_log_type_t v64 = v18;
  OUTLINED_FUNCTION_32_27();
  sub_2596C11FC();
  OUTLINED_FUNCTION_29_24();
  if (v20)
  {
    swift_release();

    OUTLINED_FUNCTION_11();
    v26();
    goto LABEL_14;
  }
  OUTLINED_FUNCTION_41_28();
  OUTLINED_FUNCTION_45_21();
  uint64_t v32 = v31;
  uint64_t v34 = v33;
  id v35 = objc_msgSend(a10, sel_librarySpecificFetchOptions);
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
  uint64_t v36 = swift_allocObject();
  *(_OWORD *)(v36 + 16) = xmmword_25987BF70;
  *(void *)(v36 + 32) = objc_msgSend(objc_allocWithZone(NSNumber), sel_initWithShort_, 2);
  v65[0] = v36;
  sub_259844530();
  sub_2594457FC(v36, v35);
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v37 = swift_allocObject();
  *(_OWORD *)(v37 + 16) = xmmword_259876920;
  sub_25935633C(0, (unint64_t *)&qword_26B2FFA20);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  uint64_t v61 = sub_2596C1170(v34, v32, ObjCClassFromMetadata);
  if (v39)
  {
    uint64_t v40 = v39;
    uint64_t v41 = self;
    *(void *)(v37 + 32) = v61;
    *(void *)(v37 + 40) = v40;
    id v42 = (void *)sub_2598444E0();
    swift_bridgeObjectRelease();
    id v43 = objc_msgSend(v41, sel_fetchPersonsWithLocalIdentifiers_options_, v42, v35);

    id v44 = objc_msgSend(v43, sel_firstObject);
    if (v44)
    {
      *(void *)(v10 + 64) = v44;
      id v62 = v44;
      swift_release();
      sub_259353FF0(v12, (uint64_t)v65);
      CollectionToStoryConfiguration.init(from:)((uint64_t)v65, v45, v46, v47, v48, v49, v50, v51, (uint64_t)v62, v64);
      OUTLINED_FUNCTION_45_21();

      OUTLINED_FUNCTION_11();
      v57();
      uint64_t v58 = OUTLINED_FUNCTION_2_3();
      v59(v58);
      __swift_destroy_boxed_opaque_existential_1(v12);
      goto LABEL_15;
    }
    swift_release();
    sub_2596BF254();
    uint64_t v52 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_28_27(v52, v53);

    OUTLINED_FUNCTION_11();
    v54();
    uint64_t v55 = OUTLINED_FUNCTION_2_3();
    v56(v55);
LABEL_14:
    __swift_destroy_boxed_opaque_existential_1(v12);
    OUTLINED_FUNCTION_26_33();
LABEL_15:
    OUTLINED_FUNCTION_34_29();
    OUTLINED_FUNCTION_235();
    return;
  }
  __break(1u);
}

void PetCollectionToStoryConfiguration.encode(to:)()
{
}

void sub_2596C0774()
{
  OUTLINED_FUNCTION_224();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v7 = __swift_instantiateConcreteTypeFromMangledName(v6);
  OUTLINED_FUNCTION_87();
  uint64_t v9 = v8;
  MEMORY[0x270FA5388](v10);
  OUTLINED_FUNCTION_233();
  uint64_t v13 = v12 - v11;
  sub_2596BF310();
  if (!v1)
  {
    __swift_project_boxed_opaque_existential_1(v5, v5[3]);
    v3();
    sub_259845970();
    id v14 = objc_msgSend(*(id *)(v0 + 64), sel_uuid);
    if (v14)
    {
      uint64_t v15 = v14;
      sub_2598440A0();
    }
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38A1C8);
    sub_2593D3074((unint64_t *)&qword_26A38B400, &qword_26A38A1C8);
    sub_2598456D0();
    swift_bridgeObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v9 + 8))(v13, v7);
  }
  OUTLINED_FUNCTION_235();
}

void sub_2596C0924()
{
}

uint64_t PetCollectionToStoryConfiguration.deinit()
{
  CollectionToStoryConfiguration.deinit();

  return v0;
}

uint64_t TripCollectionToStoryConfiguration.__allocating_init(tripCollection:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  uint64_t v2 = OUTLINED_FUNCTION_5_61();
  *(void *)(v2 + 64) = v1;
  *(void *)(v2 + 16) = v0;
  *(unsigned char *)(v2 + 24) = 2;
  return OUTLINED_FUNCTION_23_40(v2);
}

uint64_t TripCollectionToStoryConfiguration.init(tripCollection:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, char a6)
{
  *(void *)(v6 + 64) = a1;
  *(void *)(v6 + 16) = a2;
  *(unsigned char *)(v6 + 24) = 2;
  return OUTLINED_FUNCTION_7_50(a1, a2, a3, a4, a5, a6);
}

void TripCollectionToStoryConfiguration.__allocating_init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

void TripCollectionToStoryConfiguration.init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
}

BOOL sub_2596C0A1C()
{
  uint64_t v0 = sub_2598454E0();
  swift_bridgeObjectRelease();
  return v0 != 0;
}

BOOL sub_2596C0A60()
{
  return sub_2596C0A1C();
}

unint64_t sub_2596C0A80()
{
  return OUTLINED_FUNCTION_30_27();
}

BOOL sub_2596C0A98@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596C0A1C();
  *a1 = result;
  return result;
}

unint64_t sub_2596C0AD8@<X0>(void *a1@<X8>)
{
  unint64_t result = sub_2596C0A80();
  *a1 = 0xD000000000000012;
  a1[1] = v3;
  return result;
}

unint64_t sub_2596C0B08()
{
  return 0xD000000000000012;
}

BOOL sub_2596C0B28@<W0>(unsigned char *a1@<X8>)
{
  BOOL result = sub_2596C0A60();
  *a1 = result;
  return result;
}

uint64_t sub_2596C0B58(uint64_t a1)
{
  unint64_t v2 = sub_2596C1248();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596C0B94(uint64_t a1)
{
  unint64_t v2 = sub_2596C1248();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t TripCollectionToStoryConfiguration.__allocating_init(from:)()
{
  OUTLINED_FUNCTION_14_43();
  uint64_t v1 = OUTLINED_FUNCTION_22_43();
  TripCollectionToStoryConfiguration.init(from:)(v1, v2, v3, v4, v5, v6, v7, v8, v10, v11);
  return v0;
}

void TripCollectionToStoryConfiguration.init(from:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  OUTLINED_FUNCTION_224();
  OUTLINED_FUNCTION_3_66();
  uint64_t v14 = v13;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A390158);
  OUTLINED_FUNCTION_87();
  uint64_t v64 = v16;
  uint64_t v65 = v15;
  MEMORY[0x270FA5388](v15);
  uint64_t v66 = (char *)&v60 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38B490);
  OUTLINED_FUNCTION_4();
  MEMORY[0x270FA5388](v19);
  OUTLINED_FUNCTION_6_58();
  OUTLINED_FUNCTION_87();
  MEMORY[0x270FA5388](v20);
  OUTLINED_FUNCTION_16();
  uint64_t v21 = qword_26A388AF0;
  swift_retain();
  if (v21 != -1) {
    swift_once();
  }
  uint64_t v22 = __swift_project_value_buffer(v18, (uint64_t)qword_26A3900F0);
  sub_25944C650(v22, v11);
  OUTLINED_FUNCTION_31_28();
  if (v23)
  {
    swift_release();
    sub_25938D0FC(v11, &qword_26A38B490);
LABEL_13:
    sub_2596BF254();
    uint64_t v31 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_35_33(v31, v32);
    goto LABEL_14;
  }
  uint64_t v63 = v14;
  uint64_t v24 = OUTLINED_FUNCTION_9_48();
  v25(v24);
  uint64_t v26 = OUTLINED_FUNCTION_11_55();
  sub_25976EC24(v26, &v67);
  swift_bridgeObjectRelease();
  if (!v68)
  {
    swift_release();
    sub_25938D0FC((uint64_t)&v67, &qword_26A38DFB0);
LABEL_12:
    uint64_t v29 = OUTLINED_FUNCTION_25_36();
    v30(v29);
    goto LABEL_13;
  }
  sub_25935633C(0, &qword_26B2FFBD8);
  if ((swift_dynamicCast() & 1) == 0)
  {
    swift_release();
    goto LABEL_12;
  }
  id v62 = a10;
  OUTLINED_FUNCTION_32_27();
  sub_2596C1248();
  OUTLINED_FUNCTION_29_24();
  if (v21)
  {
    swift_release();

    uint64_t v27 = OUTLINED_FUNCTION_2_3();
    v28(v27);
  }
  else
  {
    uint64_t v33 = sub_259845570();
    LOBYTE(v67) = 0;
    uint64_t v37 = v33;
    uint64_t v61 = v38;
    type metadata accessor for CollectionFetcherOptions();
    swift_initStackObject();
    id v62 = v62;
    uint64_t v39 = CollectionFetcherOptions.init(photoLibrary:fetchOptions:fetchContext:sortAscending:)(v62, 0, (char *)&v67, 0);
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
    uint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = xmmword_259876920;
    uint64_t v41 = v61;
    *(void *)(inited + 32) = v37;
    *(void *)(inited + 40) = v41;
    sub_2593BBD48();
    uint64_t v45 = (void *)sub_25944905C(v39, v42, v43, v44);
    swift_release();
    swift_bridgeObjectRelease();
    id v46 = objc_msgSend(v45, sel_firstObject);
    if (v46)
    {
      uint64_t v61 = v45;
      uint64_t v47 = v62;
      *(void *)(v10 + 64) = v46;
      id v60 = v46;
      swift_release();
      sub_259353FF0(v12, (uint64_t)&v67);
      CollectionToStoryConfiguration.init(from:)((uint64_t)&v67, v48, v49, v50, v51, v52, v53, v54, (uint64_t)v60, v61);

      OUTLINED_FUNCTION_11();
      v57();
      uint64_t v58 = OUTLINED_FUNCTION_2_3();
      v59(v58);
      __swift_destroy_boxed_opaque_existential_1(v12);
      goto LABEL_15;
    }
    swift_release();
    sub_2596BF254();
    uint64_t v55 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_28_27(v55, v56);

    OUTLINED_FUNCTION_11();
    v34();
    uint64_t v35 = OUTLINED_FUNCTION_2_3();
    v36(v35);
  }
LABEL_14:
  __swift_destroy_boxed_opaque_existential_1(v12);
  OUTLINED_FUNCTION_26_33();
LABEL_15:
  OUTLINED_FUNCTION_34_29();
  OUTLINED_FUNCTION_235();
}

void TripCollectionToStoryConfiguration.encode(to:)()
{
}

uint64_t _s18PhotosIntelligence36PersonCollectionToStoryConfigurationCfD_0()
{
  CollectionToStoryConfiguration.deinit();

  return MEMORY[0x270FA0228](v0, 72, 7);
}

unint64_t sub_2596C1124()
{
  unint64_t result = qword_26A390130;
  if (!qword_26A390130)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390130);
  }
  return result;
}

uint64_t sub_2596C1170(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v4 = (void *)sub_259844070();
  swift_bridgeObjectRelease();
  id v5 = objc_msgSend(a3, sel_localIdentifierWithUUID_, v4);

  if (!v5) {
    return 0;
  }
  uint64_t v6 = sub_2598440A0();

  return v6;
}

unint64_t sub_2596C11FC()
{
  unint64_t result = qword_26A390148;
  if (!qword_26A390148)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390148);
  }
  return result;
}

unint64_t sub_2596C1248()
{
  unint64_t result = qword_26A390160;
  if (!qword_26A390160)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390160);
  }
  return result;
}

unint64_t sub_2596C1298()
{
  unint64_t result = qword_26A390170;
  if (!qword_26A390170)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390170);
  }
  return result;
}

void type metadata accessor for CollectionType()
{
}

uint64_t method lookup function for CollectionToStoryConfiguration(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for CollectionToStoryConfiguration);
}

uint64_t dispatch thunk of CollectionToStoryConfiguration.__allocating_init(assetFetchResult:collectionType:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  return (*(uint64_t (**)(void))(v0 + 120))();
}

uint64_t dispatch thunk of CollectionToStoryConfiguration.__allocating_init(from:)()
{
  return (*(uint64_t (**)(void))(v0 + 128))();
}

uint64_t dispatch thunk of CollectionToStoryConfiguration.encode(to:)()
{
  return (*(uint64_t (**)(void))(*(void *)v0 + 136))();
}

uint64_t initializeWithCopy for CollectionToStoryOptions(uint64_t a1, uint64_t a2)
{
  long long v3 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v3;
  uint64_t v4 = *(void *)(a2 + 40);
  uint64_t v5 = *(void *)(a2 + 48);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = v4;
  *(void *)(a1 + 48) = v5;
  swift_retain();
  return a1;
}

void *assignWithCopy for CollectionToStoryOptions(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  a1[4] = a2[4];
  uint64_t v3 = a2[6];
  a1[5] = a2[5];
  a1[6] = v3;
  swift_retain();
  swift_release();
  return a1;
}

uint64_t assignWithTake for CollectionToStoryOptions(uint64_t a1, uint64_t a2)
{
  long long v3 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v3;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  swift_release();
  return a1;
}

void type metadata accessor for CollectionToStoryOptions()
{
}

uint64_t type metadata accessor for PersonCollectionToStoryConfiguration()
{
  return self;
}

uint64_t method lookup function for PersonCollectionToStoryConfiguration(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PersonCollectionToStoryConfiguration);
}

uint64_t dispatch thunk of PersonCollectionToStoryConfiguration.__allocating_init(person:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  return (*(uint64_t (**)(void))(v0 + 152))();
}

uint64_t type metadata accessor for PetCollectionToStoryConfiguration()
{
  return self;
}

uint64_t method lookup function for PetCollectionToStoryConfiguration(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for PetCollectionToStoryConfiguration);
}

uint64_t dispatch thunk of PetCollectionToStoryConfiguration.__allocating_init(pet:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  return (*(uint64_t (**)(void))(v0 + 152))();
}

uint64_t type metadata accessor for TripCollectionToStoryConfiguration()
{
  return self;
}

uint64_t method lookup function for TripCollectionToStoryConfiguration(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for TripCollectionToStoryConfiguration);
}

uint64_t dispatch thunk of TripCollectionToStoryConfiguration.__allocating_init(tripCollection:assetFetchResult:numberOfStories:collectionUUID:shouldFetchAssetSimilarityScore:)()
{
  return (*(uint64_t (**)(void))(v0 + 152))();
}

void type metadata accessor for TripCollectionToStoryConfiguration.CodingKey()
{
}

void type metadata accessor for PetCollectionToStoryConfiguration.CodingKey()
{
}

unsigned char *sub_2596C1580(unsigned char *result, int a2, int a3)
{
  if ((a3 + 1) >= 0x10000) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) < 0x100) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2)
  {
    switch(v5)
    {
      case 1:
        *unint64_t result = a2;
        return result;
      case 2:
        *(_WORD *)unint64_t result = a2;
        return result;
      case 3:
        goto LABEL_19;
      case 4:
        *(_DWORD *)unint64_t result = a2;
        return result;
      default:
        return result;
    }
  }
  switch(v5)
  {
    case 1:
      *unint64_t result = 0;
      break;
    case 2:
      *(_WORD *)unint64_t result = 0;
      break;
    case 3:
LABEL_19:
      __break(1u);
      JUMPOUT(0x2596C161CLL);
    case 4:
      *(_DWORD *)unint64_t result = 0;
      break;
    default:
      return result;
  }
  return result;
}

void type metadata accessor for PersonCollectionToStoryConfiguration.CodingKey()
{
}

unsigned char *_s18PhotosIntelligence14CollectionTypeOwst_0(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596C171CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

void type metadata accessor for CollectionToStoryConfiguration.Error()
{
}

unsigned char *sub_2596C1750(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 4 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 4) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFC) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFB)
  {
    unsigned int v6 = ((a2 - 252) >> 8) + 1;
    *unint64_t result = a2 + 4;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596C181CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 4;
        break;
    }
  }
  return result;
}

void type metadata accessor for CollectionToStoryConfiguration.CodingKey()
{
}

unint64_t sub_2596C1854()
{
  unint64_t result = qword_26A390178;
  if (!qword_26A390178)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390178);
  }
  return result;
}

unint64_t sub_2596C18A4()
{
  unint64_t result = qword_26A390180;
  if (!qword_26A390180)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390180);
  }
  return result;
}

unint64_t sub_2596C18F4()
{
  unint64_t result = qword_26A390188;
  if (!qword_26A390188)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390188);
  }
  return result;
}

unint64_t sub_2596C1944()
{
  unint64_t result = qword_26A390190;
  if (!qword_26A390190)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390190);
  }
  return result;
}

unint64_t sub_2596C1994()
{
  unint64_t result = qword_26A390198;
  if (!qword_26A390198)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390198);
  }
  return result;
}

unint64_t sub_2596C19E4()
{
  unint64_t result = qword_26A3901A0;
  if (!qword_26A3901A0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901A0);
  }
  return result;
}

unint64_t sub_2596C1A34()
{
  unint64_t result = qword_26A3901A8;
  if (!qword_26A3901A8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901A8);
  }
  return result;
}

unint64_t sub_2596C1A84()
{
  unint64_t result = qword_26A3901B0;
  if (!qword_26A3901B0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901B0);
  }
  return result;
}

unint64_t sub_2596C1AD4()
{
  unint64_t result = qword_26A3901B8;
  if (!qword_26A3901B8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901B8);
  }
  return result;
}

unint64_t sub_2596C1B24()
{
  unint64_t result = qword_26A3901C0;
  if (!qword_26A3901C0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901C0);
  }
  return result;
}

unint64_t sub_2596C1B74()
{
  unint64_t result = qword_26A3901C8;
  if (!qword_26A3901C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901C8);
  }
  return result;
}

unint64_t sub_2596C1BC4()
{
  unint64_t result = qword_26A3901D0;
  if (!qword_26A3901D0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901D0);
  }
  return result;
}

unint64_t sub_2596C1C14()
{
  unint64_t result = qword_26A3901D8;
  if (!qword_26A3901D8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901D8);
  }
  return result;
}

uint64_t OUTLINED_FUNCTION_23_40(uint64_t result)
{
  *(void *)(result + 32) = v4;
  *(void *)(result + 40) = v3;
  *(void *)(result + 48) = v2;
  *(unsigned char *)(result + 56) = v1;
  return result;
}

uint64_t OUTLINED_FUNCTION_24_39()
{
  return 0x697463656C6C6F63;
}

uint64_t OUTLINED_FUNCTION_26_33()
{
  return swift_deallocPartialClassInstance();
}

uint64_t OUTLINED_FUNCTION_29_24()
{
  return sub_259845960();
}

unint64_t OUTLINED_FUNCTION_30_27()
{
  return 0xD000000000000012;
}

uint64_t OUTLINED_FUNCTION_34_29()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_38_25()
{
  return swift_dynamicCast();
}

void static PromptSuggestionDiagnosticsGenerator.save(with:photoLibrary:)(uint64_t a1, void *a2)
{
  if (PFOSVariantHasInternalDiagnostics())
  {
    type metadata accessor for PromptSuggestionCache(0);
    swift_allocObject();
    id v4 = a2;
    PromptSuggestionCache.init(photoLibrary:)();
    if (!v2)
    {
      uint64_t v5 = sub_2594B22AC();
      unint64_t v7 = v6;
      if (v6 >> 60 == 15)
      {
        swift_release();
      }
      else
      {
        uint64_t v8 = v5;
        sub_2594E7DB8();
        swift_release();
        sub_25946F59C(v8, v7);
      }
    }
  }
}

unint64_t static PromptSuggestionDiagnosticsGenerator.diagnosticsFileName.getter()
{
  return 0xD000000000000017;
}

ValueMetadata *type metadata accessor for PromptSuggestionDiagnosticsGenerator()
{
  return &type metadata for PromptSuggestionDiagnosticsGenerator;
}

uint64_t FreeformStoryShot.init(query:assets:similarityScoreByAssetUUID:)@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, void *a5@<X8>)
{
  *a5 = result;
  a5[1] = a2;
  a5[2] = a3;
  a5[3] = a4;
  return result;
}

uint64_t sub_2596C1E68(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(void *)(v3 + 16) = a1;
  *(void *)(v3 + 24) = a3;
  *(void *)(v3 + 32) = *(void *)a2;
  *(_OWORD *)(v3 + 40) = *(_OWORD *)(a2 + 8);
  *(void *)(v3 + 56) = *(void *)(a2 + 24);
  return MEMORY[0x270FA2498](sub_2596C1EA0, 0, 0);
}

uint64_t sub_2596C1EA0()
{
  char v1 = *(void **)(v0 + 24);
  swift_bridgeObjectRetain_n();
  sub_259843F00();
  sub_259843F00();
  id v2 = objc_msgSend(v1, sel_librarySpecificFetchOptions);
  uint64_t v3 = self;
  id v4 = v2;
  uint64_t v5 = sub_259843F00();
  id v6 = sub_2593A2960(v5, (uint64_t)v2, v3);
  swift_bridgeObjectRelease();

  uint64_t v7 = *(void *)(v0 + 48);
  if (v6)
  {
    uint64_t v8 = *(void *)(v0 + 24);
    type metadata accessor for FreeformStoryDiagnosticsUtils();
    id v11 = sub_25965ED08(v6, v7, v8);
    uint64_t v12 = *(void *)(v0 + 56);
    uint64_t v14 = *(void *)(v0 + 32);
    uint64_t v13 = *(void *)(v0 + 40);
    uint64_t v15 = *(void **)(v0 + 16);

    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease_n();
    *uint64_t v15 = v14;
    v15[1] = v13;
    v15[2] = v11;
    v15[3] = v12;
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    uint64_t v9 = *(void **)(v0 + 24);
    swift_bridgeObjectRelease();
    sub_259571A94();
    swift_allocError();
    *uint64_t v10 = 1;
    swift_willThrow();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  uint64_t v16 = *(uint64_t (**)(void))(v0 + 8);
  return v16();
}

uint64_t FreeformStoryShot.query.getter()
{
  uint64_t v1 = *v0;
  sub_259843F00();
  return v1;
}

id FreeformStoryShot.assets.getter()
{
  return *(id *)(v0 + 16);
}

uint64_t FreeformStoryShot.similarityScoreByAssetUUID.getter()
{
  return sub_259843F00();
}

unint64_t FreeformStoryShot.description.getter()
{
  uint64_t v1 = *(void **)(v0 + 16);
  sub_259845110();
  swift_bridgeObjectRelease();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_259844240();
  objc_msgSend(v1, sel_count);
  sub_259845720();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_259844240();
  return 0xD00000000000001ALL;
}

BOOL static FreeformStoryShot.CodingKeys.== infix(_:_:)(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return *a1 == *a2;
}

uint64_t FreeformStoryShot.CodingKeys.hash(into:)()
{
  return sub_2598458C0();
}

PhotosIntelligence::FreeformStoryShot::CodingKeys_optional __swiftcall FreeformStoryShot.CodingKeys.init(stringValue:)(Swift::String stringValue)
{
  id v2 = v1;
  BOOL v3 = stringValue._countAndFlagsBits == 0x7972657571 && stringValue._object == (void *)0xE500000000000000;
  if (v3
    || (object = stringValue._object,
        uint64_t countAndFlagsBits = stringValue._countAndFlagsBits,
        (OUTLINED_FUNCTION_1_4() & 1) != 0))
  {
    result.value = swift_bridgeObjectRelease();
    char v7 = 0;
  }
  else
  {
    BOOL v8 = countAndFlagsBits == 0x737465737361 && object == (void *)0xE600000000000000;
    if (v8 || (OUTLINED_FUNCTION_1_4() & 1) != 0)
    {
      result.value = swift_bridgeObjectRelease();
      char v7 = 1;
    }
    else if (countAndFlagsBits == 0xD00000000000001ALL && object == (void *)0x800000025984B4E0)
    {
      result.value = swift_bridgeObjectRelease();
      char v7 = 2;
    }
    else
    {
      char v9 = OUTLINED_FUNCTION_1_4();
      result.value = swift_bridgeObjectRelease();
      if (v9) {
        char v7 = 2;
      }
      else {
        char v7 = 3;
      }
    }
  }
  char *v2 = v7;
  return result;
}

PhotosIntelligence::FreeformStoryShot::CodingKeys_optional __swiftcall FreeformStoryShot.CodingKeys.init(intValue:)(Swift::Int intValue)
{
  *uint64_t v1 = 3;
  return (PhotosIntelligence::FreeformStoryShot::CodingKeys_optional)intValue;
}

uint64_t FreeformStoryShot.CodingKeys.hashValue.getter()
{
  return sub_259845910();
}

uint64_t FreeformStoryShot.CodingKeys.intValue.getter()
{
  return 0;
}

uint64_t FreeformStoryShot.CodingKeys.stringValue.getter()
{
  unint64_t v1 = 0x737465737361;
  if (*v0 != 1) {
    unint64_t v1 = 0xD00000000000001ALL;
  }
  if (*v0) {
    return v1;
  }
  else {
    return 0x7972657571;
  }
}

uint64_t sub_2596C242C(uint64_t a1)
{
  unint64_t v2 = sub_2596C2BB4();
  return MEMORY[0x270FA00B0](a1, v2);
}

uint64_t sub_2596C2468(uint64_t a1)
{
  unint64_t v2 = sub_2596C2BB4();
  return MEMORY[0x270FA00B8](a1, v2);
}

uint64_t FreeformStoryShot.encode(to:)(void *a1)
{
  uint64_t v3 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A3901E0);
  uint64_t v4 = *(void *)(v3 - 8);
  MEMORY[0x270FA5388](v3);
  id v6 = (char *)&v31 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = *v1;
  BOOL v8 = (void *)v1[2];
  uint64_t v35 = v1[1];
  uint64_t v36 = v7;
  uint64_t v9 = v1[3];
  __swift_project_boxed_opaque_existential_1(a1, a1[3]);
  sub_2596C2BB4();
  sub_259845970();
  id v10 = objc_msgSend(v8, sel_fetchedObjects);
  if (!v10)
  {
    sub_259571A94();
    swift_allocError();
    *uint64_t v25 = 0;
    swift_willThrow();
    return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  }
  id v11 = v10;
  uint64_t v32 = v4;
  sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
  unint64_t v12 = sub_259844500();

  uint64_t v33 = v6;
  uint64_t v34 = v3;
  if (v12 >> 62)
  {
    sub_259843F00();
    uint64_t v13 = sub_259845460();
  }
  else
  {
    uint64_t v13 = *(void *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10);
    sub_259843F00();
  }
  uint64_t v31 = v9;
  if (v13)
  {
    if (v13 < 1)
    {
      __break(1u);
      uint64_t result = swift_release();
      __break(1u);
      return result;
    }
    uint64_t v14 = 0;
    uint64_t v15 = MEMORY[0x263F8EE78];
    do
    {
      if ((v12 & 0xC000000000000001) != 0) {
        id v16 = (id)MEMORY[0x25A2DFA20](v14, v12);
      }
      else {
        id v16 = *(id *)(v12 + 8 * v14 + 32);
      }
      uint64_t v17 = v16;
      uint64_t v18 = sub_25944C4E4(v16);
      uint64_t v20 = v19;

      if (v20)
      {
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_25938553C();
          uint64_t v15 = v23;
        }
        unint64_t v21 = *(void *)(v15 + 16);
        if (v21 >= *(void *)(v15 + 24) >> 1)
        {
          sub_25938553C();
          uint64_t v15 = v24;
        }
        *(void *)(v15 + 16) = v21 + 1;
        uint64_t v22 = v15 + 16 * v21;
        *(void *)(v22 + 32) = v18;
        *(void *)(v22 + 40) = v20;
      }
      ++v14;
    }
    while (v13 != v14);
  }
  else
  {
    uint64_t v15 = MEMORY[0x263F8EE78];
  }
  swift_bridgeObjectRelease_n();
  LOBYTE(v39) = 0;
  uint64_t v28 = v33;
  uint64_t v27 = v34;
  uint64_t v29 = v37;
  sub_259845670();
  if (v29)
  {
    (*(void (**)(char *, uint64_t))(v32 + 8))(v28, v27);
    return swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v39 = v15;
    sub_259843F00();
    sub_259418628(&v39);
    uint64_t v30 = v32;
    swift_bridgeObjectRelease();
    char v38 = 1;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
    sub_259399B38();
    OUTLINED_FUNCTION_103();
    sub_2598456D0();
    swift_release();
    uint64_t v39 = v31;
    char v38 = 2;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A3901F0);
    sub_2596C2C00();
    OUTLINED_FUNCTION_103();
    sub_2598456D0();
    return (*(uint64_t (**)(char *, uint64_t))(v30 + 8))(v28, v27);
  }
}

uint64_t FreeformStoryShot.hash(into:)(uint64_t a1)
{
  uint64_t v4 = *(void **)(v1 + 16);
  uint64_t v3 = *(void *)(v1 + 24);
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  id v5 = v4;
  sub_259844D40();

  if (!v3) {
    return sub_2598458D0();
  }
  sub_2598458D0();
  sub_259843F00();
  sub_25944C7C4(a1, v3);
  return swift_bridgeObjectRelease();
}

uint64_t static FreeformStoryShot.== infix(_:_:)(void *a1, void *a2)
{
  uint64_t v2 = a1[3];
  uint64_t v3 = a2[3];
  BOOL v4 = *a1 == *a2 && a1[1] == a2[1];
  if (v4 || (char v5 = sub_259845750(), result = 0, (v5 & 1) != 0))
  {
    sub_25935633C(0, (unint64_t *)&qword_26B2FFC60);
    if (sub_259844D30())
    {
      if (v2)
      {
        if (v3)
        {
          sub_259843F00();
          uint64_t v7 = sub_259843F00();
          sub_25944BA10(v7, v3);
          char v9 = v8;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if (v9) {
            return 1;
          }
        }
      }
      else if (!v3)
      {
        return 1;
      }
    }
    return 0;
  }
  return result;
}

uint64_t FreeformStoryShot.hashValue.getter()
{
  uint64_t v2 = *(void **)(v0 + 16);
  uint64_t v1 = *(void *)(v0 + 24);
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  id v3 = v2;
  sub_259844D40();

  sub_2598458D0();
  if (v1)
  {
    sub_259843F00();
    sub_25944C7C4((uint64_t)v5, v1);
    swift_bridgeObjectRelease();
  }
  return sub_259845910();
}

uint64_t sub_2596C2ADC()
{
  uint64_t v2 = *(void **)(v0 + 16);
  uint64_t v1 = *(void *)(v0 + 24);
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  id v3 = v2;
  sub_259844D40();

  sub_2598458D0();
  if (v1)
  {
    sub_259843F00();
    sub_25944C7C4((uint64_t)v5, v1);
    swift_bridgeObjectRelease();
  }
  return sub_259845910();
}

uint64_t sub_2596C2B94(void *a1)
{
  return FreeformStoryShot.encode(to:)(a1);
}

unint64_t sub_2596C2BB4()
{
  unint64_t result = qword_26A3901E8;
  if (!qword_26A3901E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901E8);
  }
  return result;
}

unint64_t sub_2596C2C00()
{
  unint64_t result = qword_26A3901F8;
  if (!qword_26A3901F8)
  {
    __swift_instantiateConcreteTypeFromMangledNameAbstract(&qword_26A3901F0);
    sub_25944C750();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A3901F8);
  }
  return result;
}

unint64_t sub_2596C2C78()
{
  unint64_t result = qword_26A390200;
  if (!qword_26A390200)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390200);
  }
  return result;
}

unint64_t sub_2596C2CC8()
{
  unint64_t result = qword_26A390208;
  if (!qword_26A390208)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390208);
  }
  return result;
}

unint64_t sub_2596C2D18()
{
  unint64_t result = qword_26A390210;
  if (!qword_26A390210)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390210);
  }
  return result;
}

unint64_t sub_2596C2D68()
{
  unint64_t result = qword_26A390218;
  if (!qword_26A390218)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_26A390218);
  }
  return result;
}

uint64_t destroy for FreeformStoryShot(uint64_t a1)
{
  swift_bridgeObjectRelease();

  return swift_bridgeObjectRelease();
}

void *initializeWithCopy for FreeformStoryShot(void *a1, void *a2)
{
  uint64_t v3 = a2[1];
  *a1 = *a2;
  a1[1] = v3;
  char v5 = (void *)a2[2];
  uint64_t v4 = a2[3];
  a1[2] = v5;
  a1[3] = v4;
  sub_259843F00();
  id v6 = v5;
  sub_259843F00();
  return a1;
}

void *assignWithCopy for FreeformStoryShot(void *a1, void *a2)
{
  *a1 = *a2;
  a1[1] = a2[1];
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v4 = (void *)a2[2];
  char v5 = (void *)a1[2];
  a1[2] = v4;
  id v6 = v4;

  a1[3] = a2[3];
  sub_259843F00();
  swift_bridgeObjectRelease();
  return a1;
}

uint64_t assignWithTake for FreeformStoryShot(uint64_t a1, uint64_t a2)
{
  *(void *)a1 = *(void *)a2;
  swift_bridgeObjectRelease();
  uint64_t v4 = *(void **)(a1 + 16);
  *(_OWORD *)(a1 + 8) = *(_OWORD *)(a2 + 8);

  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  swift_bridgeObjectRelease();
  return a1;
}

void type metadata accessor for FreeformStoryShot()
{
}

unsigned char *storeEnumTagSinglePayload for FreeformStoryShot.CodingKeys(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596C2FF0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

void type metadata accessor for FreeformStoryShot.CodingKeys()
{
}

unsigned char *sub_2596C3024(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x2596C30F0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

void type metadata accessor for FreeformStoryShot.Error()
{
}

unint64_t sub_2596C3128()
{
  unint64_t result = qword_26A390220;
  if (!qword_26A390220)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, &qword_26A390220);
  }
  return result;
}

void sub_2596C3174(uint64_t a1, void *a2)
{
  uint64_t v4 = *(void *)(a1 + 16);
  if (v4)
  {
    unint64_t v5 = 0;
    uint64_t v6 = MEMORY[0x263F8EE78];
    do
    {
      unint64_t v7 = v5;
      while (1)
      {
        if (v7 >= *(void *)(a1 + 16))
        {
          __break(1u);
          return;
        }
        unint64_t v5 = v7 + 1;
        uint64_t v8 = a2[6];
        uint64_t v9 = *(void *)(v8 + 16);
        if (v9) {
          break;
        }
LABEL_9:
        unint64_t v7 = v5;
        if (v5 == v4) {
          goto LABEL_16;
        }
      }
      int v10 = *(unsigned __int8 *)(a1 + 32 + v7);
      id v11 = (unsigned __int8 *)(v8 + 32);
      while (1)
      {
        int v12 = *v11++;
        if (v12 == v10) {
          break;
        }
        if (!--v9) {
          goto LABEL_9;
        }
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        sub_2594F2530();
      }
      unint64_t v13 = *(void *)(v6 + 16);
      if (v13 >= *(void *)(v6 + 24) >> 1) {
        sub_2594F2530();
      }
      *(void *)(v6 + 16) = v13 + 1;
      *(unsigned char *)(v6 + v13 + 32) = v10;
    }
    while (v5 != v4);
  }
LABEL_16:
  swift_bridgeObjectRelease();
  sub_2595F40E8(a2);
}

uint64_t sub_2596C32B8(uint64_t result, void *a2)
{
  uint64_t v3 = result;
  uint64_t v19 = *(void *)(result + 16);
  if (v19)
  {
    unint64_t v4 = 0;
    uint64_t v18 = result + 32;
    id v16 = a2 + 7;
    uint64_t v17 = MEMORY[0x263F8EE78];
    while (1)
    {
      if (v4 >= *(void *)(v3 + 16))
      {
LABEL_29:
        __break(1u);
        return result;
      }
      memcpy(__dst, (const void *)(v18 + 144 * v4++), 0x90uLL);
      uint64_t v5 = a2[2];
      if (!v5) {
        goto LABEL_19;
      }
      uint64_t v6 = __dst[1];
      uint64_t v7 = __dst[2];
      unint64_t result = a2[4];
      if (result != __dst[1] || a2[5] != __dst[2])
      {
        unint64_t result = sub_259845750();
        if ((result & 1) == 0) {
          break;
        }
      }
LABEL_24:
      if (v4 == v19) {
        goto LABEL_27;
      }
    }
    if (v5 != 1)
    {
      uint64_t v9 = v16;
      uint64_t v10 = 1;
      while (1)
      {
        uint64_t v11 = v10 + 1;
        if (__OFADD__(v10, 1)) {
          break;
        }
        unint64_t result = *(v9 - 1);
        if (result == v6 && *v9 == v7) {
          goto LABEL_24;
        }
        unint64_t result = sub_259845750();
        if (result) {
          goto LABEL_24;
        }
        v9 += 2;
        ++v10;
        if (v11 == v5) {
          goto LABEL_19;
        }
      }
      __break(1u);
      goto LABEL_29;
    }
LABEL_19:
    sub_2593C2AE0((uint64_t)__dst);
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v14 = v17;
    uint64_t v21 = v17;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      sub_2594F2550();
      uint64_t v14 = v21;
    }
    unint64_t v15 = *(void *)(v14 + 16);
    if (v15 >= *(void *)(v14 + 24) >> 1)
    {
      sub_2594F2550();
      uint64_t v14 = v21;
    }
    *(void *)(v14 + 16) = v15 + 1;
    uint64_t v17 = v14;
    unint64_t result = (uint64_t)memcpy((void *)(v14 + 144 * v15 + 32), __dst, 0x90uLL);
    goto LABEL_24;
  }
  uint64_t v17 = MEMORY[0x263F8EE78];
LABEL_27:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v17;
}

uint64_t sub_2596C34A0(uint64_t result, void *a2)
{
  uint64_t v2 = a2;
  uint64_t v3 = result;
  uint64_t v20 = *(void *)(result + 16);
  if (v20)
  {
    unint64_t v4 = 0;
    uint64_t v19 = result + 32;
    uint64_t v17 = a2 + 7;
    uint64_t v5 = MEMORY[0x263F8EE78];
    uint64_t v18 = result;
    while (1)
    {
      while (1)
      {
        if (v4 >= *(void *)(v3 + 16))
        {
LABEL_30:
          __break(1u);
          return result;
        }
        unint64_t result = (uint64_t)memcpy(__dst, (const void *)(v19 + 144 * v4++), 0x90uLL);
        uint64_t v6 = v2;
        uint64_t v7 = v2[2];
        if (v7) {
          break;
        }
LABEL_19:
        uint64_t v3 = v18;
        uint64_t v2 = v6;
        if (v4 == v20) {
          goto LABEL_28;
        }
      }
      uint64_t v8 = __dst[1];
      uint64_t v9 = __dst[2];
      if (v2[4] != __dst[1] || v2[5] != __dst[2])
      {
        unint64_t result = sub_259845750();
        if ((result & 1) == 0)
        {
          if (v7 != 1)
          {
            uint64_t v11 = v17;
            uint64_t v12 = 1;
            while (1)
            {
              uint64_t v13 = v12 + 1;
              if (__OFADD__(v12, 1)) {
                break;
              }
              if (*(v11 - 1) == v8 && *v11 == v9) {
                goto LABEL_21;
              }
              unint64_t result = sub_259845750();
              if (result) {
                goto LABEL_21;
              }
              v11 += 2;
              ++v12;
              if (v13 == v7) {
                goto LABEL_19;
              }
            }
            __break(1u);
            goto LABEL_30;
          }
          goto LABEL_19;
        }
      }
LABEL_21:
      sub_2593C2AE0((uint64_t)__dst);
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      uint64_t v22 = v5;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        sub_2594F2550();
        uint64_t v5 = v22;
      }
      unint64_t v16 = *(void *)(v5 + 16);
      uint64_t v2 = v6;
      if (v16 >= *(void *)(v5 + 24) >> 1)
      {
        sub_2594F2550();
        uint64_t v5 = v22;
      }
      *(void *)(v5 + 16) = v16 + 1;
      unint64_t result = (uint64_t)memcpy((void *)(v5 + 144 * v16 + 32), __dst, 0x90uLL);
      uint64_t v3 = v18;
      if (v4 == v20) {
        goto LABEL_28;
      }
    }
  }
  uint64_t v5 = MEMORY[0x263F8EE78];
LABEL_28:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v5;
}

uint64_t sub_2596C36A0(uint64_t result, uint64_t a2)
{
  uint64_t v3 = result;
  uint64_t v4 = *(void *)(result + 16);
  if (v4)
  {
    unint64_t v5 = 0;
    uint64_t v6 = result + 32;
    uint64_t v7 = MEMORY[0x263F8EE78];
    uint64_t v15 = result + 32;
    do
    {
      uint64_t v8 = (char *)(v6 + 144 * v5);
      unint64_t v9 = v5;
      while (1)
      {
        if (v9 >= *(void *)(v3 + 16))
        {
          __break(1u);
          return result;
        }
        memcpy(__dst, v8, 0x90uLL);
        unint64_t v5 = v9 + 1;
        uint64_t v10 = __dst[1];
        uint64_t v11 = __dst[2];
        sub_2593C2AE0((uint64_t)__dst);
        sub_259843F00();
        sub_25973CE24(v10, v11, a2);
        LOBYTE(v10) = v12;
        swift_bridgeObjectRelease();
        if (v10) {
          break;
        }
        unint64_t result = sub_2593C2D6C((uint64_t)__dst);
        v8 += 144;
        ++v9;
        if (v4 == v5) {
          goto LABEL_15;
        }
      }
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      uint64_t v17 = v7;
      if ((isUniquelyReferenced_nonNull_native & 1) == 0)
      {
        OUTLINED_FUNCTION_75();
        sub_2594F2550();
        uint64_t v7 = v17;
      }
      unint64_t v14 = *(void *)(v7 + 16);
      if (v14 >= *(void *)(v7 + 24) >> 1)
      {
        sub_2594F2550();
        uint64_t v7 = v17;
      }
      *(void *)(v7 + 16) = v14 + 1;
      unint64_t result = (uint64_t)memcpy((void *)(v7 + 144 * v14 + 32), __dst, 0x90uLL);
      uint64_t v6 = v15;
    }
    while (v4 - 1 != v9);
  }
  else
  {
    uint64_t v7 = MEMORY[0x263F8EE78];
  }
LABEL_15:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return v7;
}

uint64_t sub_2596C383C(uint64_t result, uint64_t a2)
{
  if (*(void *)(a2 + 16) < result)
  {
    __break(1u);
  }
  else if ((result & 0x8000000000000000) == 0)
  {
    return sub_259843F00();
  }
  __break(1u);
  return result;
}

void sub_2596C389C(uint64_t a1)
{
  uint64_t v3 = *v1;
  if (!swift_isUniquelyReferenced_nonNull_native() || a1 > *(void *)(v3 + 24) >> 1)
  {
    sub_25938553C();
    uint64_t v3 = v4;
  }
  *uint64_t v1 = v3;
}

uint64_t sub_2596C3900()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  *(void *)(v1 + 776) = v0;
  *(void *)(v1 + 768) = v4;
  *(void *)(v1 + 760) = v5;
  *(void *)(v1 + 752) = v6;
  *(void *)(v1 + 744) = v2;
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B2FFA60);
  *(void *)(v1 + 784) = swift_task_alloc();
  uint64_t v7 = sub_259843C70();
  *(void *)(v1 + 792) = v7;
  *(void *)(v1 + 800) = *(void *)(v7 - 8);
  *(void *)(v1 + 808) = swift_task_alloc();
  *(void *)(v1 + 816) = swift_task_alloc();
  type metadata accessor for RootEventRecorder.EventState(0);
  uint64_t v8 = swift_task_alloc();
  *(void *)(v1 + 688) = *(void *)(v3 + 25);
  uint64_t v9 = *(void *)(v3 + 40);
  *(void *)(v1 + 695) = *(void *)(v3 + 32);
  *(void *)(v1 + 824) = v8;
  *(_OWORD *)(v1 + 672) = *(_OWORD *)v3;
  *(void *)(v1 + 832) = *(void *)(v3 + 16);
  char v10 = *(unsigned char *)(v3 + 24);
  *(unsigned char *)(v1 + 703) = v10;
  *(unsigned char *)(v1 + 1080) = v10;
  *(void *)(v1 + 840) = v9;
  long long v11 = *(_OWORD *)(v3 + 48);
  long long v12 = *(_OWORD *)(v3 + 64);
  long long v13 = *(_OWORD *)(v3 + 80);
  *(void *)(v1 + 528) = *(void *)(v3 + 96);
  *(_OWORD *)(v1 + 496) = v12;
  *(_OWORD *)(v1 + 512) = v13;
  *(_OWORD *)(v1 + 480) = v11;
  long long v14 = *(_OWORD *)(v3 + 120);
  *(_OWORD *)(v1 + 848) = *(_OWORD *)(v3 + 104);
  *(_OWORD *)(v1 + 864) = v14;
  *(void *)(v1 + 880) = *(void *)(v3 + 136);
  *(_WORD *)(v1 + 1168) = *(_WORD *)(v3 + 144);
  memcpy((void *)(v1 + 1082), (const void *)(v3 + 146), 0x56uLL);
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v15, v16, v17);
}

uint64_t sub_2596C3ABC()
{
  uint64_t v86 = v0;
  char v1 = *(unsigned char *)(v0 + 703);
  uint64_t v2 = *(void *)(v0 + 776);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 768), *(void *)(*(void *)(v0 + 768) + 24));
  unint64_t v3 = OUTLINED_FUNCTION_57_20(21);
  v4(v3);
  __swift_project_boxed_opaque_existential_1((void *)(v0 + 536), *(void *)(v0 + 560));
  OUTLINED_FUNCTION_55_17();
  v5();
  OUTLINED_FUNCTION_57();
  *(unsigned char *)(v2 + 410) = 1;
  id v6 = objc_msgSend(self, sel_appleMusicSmartSearchMode);
  uint64_t v7 = sub_2598440A0();
  uint64_t v9 = v8;

  *(void *)(v2 + 432) = v7;
  *(void *)(v2 + 440) = v9;
  swift_bridgeObjectRelease();
  if (v1)
  {
    swift_bridgeObjectRelease();
    goto LABEL_42;
  }
  OUTLINED_FUNCTION_13_46();
  char v10 = sub_259845750();
  swift_bridgeObjectRelease();
  if (v10)
  {
LABEL_42:
    __int16 v27 = *(_WORD *)(v0 + 1168);
    uint64_t v28 = *(void *)(v0 + 880);
    uint64_t v29 = *(void *)(v0 + 840);
    char v30 = *(unsigned char *)(v0 + 703);
    uint64_t v31 = *(void *)(v0 + 832);
    uint64_t v32 = *(void *)(v0 + 744);
    long long v33 = *(_OWORD *)(v0 + 848);
    long long v34 = *(_OWORD *)(v0 + 864);
    *(_OWORD *)(v0 + 16) = *(_OWORD *)v32;
    *(void *)(v0 + 32) = v31;
    *(unsigned char *)(v0 + 40) = v30;
    uint64_t v35 = *(void *)(v32 + 32);
    *(void *)(v0 + 41) = *(void *)(v32 + 25);
    *(void *)(v0 + 48) = v35;
    *(void *)(v0 + 56) = v29;
    long long v37 = *(_OWORD *)(v32 + 64);
    long long v36 = *(_OWORD *)(v32 + 80);
    long long v38 = *(_OWORD *)(v32 + 48);
    *(void *)(v0 + 112) = *(void *)(v32 + 96);
    *(_OWORD *)(v0 + 80) = v37;
    *(_OWORD *)(v0 + 96) = v36;
    *(_OWORD *)(v0 + 64) = v38;
    *(_OWORD *)(v0 + 120) = v33;
    *(_OWORD *)(v0 + 136) = v34;
    *(void *)(v0 + 152) = v28;
    *(_WORD *)(v0 + 160) = v27;
    memcpy((void *)(v0 + 162), (const void *)(v32 + 146), 0x56uLL);
    uint64_t v39 = (void *)swift_task_alloc();
    *(void *)(v0 + 888) = v39;
    *uint64_t v39 = v0;
    v39[1] = sub_2596C42CC;
    OUTLINED_FUNCTION_32_28();
    return sub_2596C6C68(v40, v41);
  }
  uint64_t v11 = MEMORY[0x263F8EE78];
  *(void *)&long long v73 = MEMORY[0x263F8EE78];
  sub_259843F00();
  sub_25973ED0C();
  unint64_t v12 = v73;
  *(void *)&long long v73 = v11;
  if (v12 >> 62) {
    goto LABEL_48;
  }
  uint64_t v13 = *(void *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (v13)
  {
    unint64_t v14 = 0;
    uint64_t v69 = v12 & 0xFFFFFFFFFFFFFF8;
    unint64_t v70 = v12 & 0xC000000000000001;
    unint64_t v67 = v12 + 32;
    while (1)
    {
      if (v70)
      {
        uint64_t v15 = MEMORY[0x25A2DFA20](v14, v12);
      }
      else
      {
        if (v14 >= *(void *)(v69 + 16)) {
          goto LABEL_46;
        }
        uint64_t v15 = *(void *)(v67 + 8 * v14);
        swift_retain();
      }
      if (__OFADD__(v14++, 1))
      {
        __break(1u);
LABEL_46:
        __break(1u);
        goto LABEL_47;
      }
      if (qword_26A388A60 != -1) {
        swift_once();
      }
      uint64_t v17 = off_26A38EFC8;
      uint64_t v18 = *((void *)off_26A38EFC8 + 2);
      if (!v18) {
        goto LABEL_21;
      }
      uint64_t v19 = *(void *)(v15 + 16);
      uint64_t v20 = *(void *)(v15 + 24);
      BOOL v21 = *((void *)off_26A38EFC8 + 4) == v19 && *((void *)off_26A38EFC8 + 5) == v20;
      if (!v21 && (OUTLINED_FUNCTION_19_36() & 1) == 0)
      {
        if (v18 == 1) {
          goto LABEL_21;
        }
        BOOL v22 = v17[6] == v19 && v17[7] == v20;
        if (!v22 && (OUTLINED_FUNCTION_19_36() & 1) == 0) {
          break;
        }
      }
      swift_release();
LABEL_22:
      if (v14 == v13)
      {
        swift_bridgeObjectRelease();
        unint64_t v44 = v73;
        goto LABEL_50;
      }
    }
    if (v18 == 2)
    {
LABEL_21:
      sub_259845240();
      sub_259845280();
      sub_259845290();
      sub_259845250();
      goto LABEL_22;
    }
    uint64_t v23 = v17 + 9;
    uint64_t v24 = 2;
    uint64_t v65 = v13;
    while (1)
    {
      unint64_t v25 = v12;
      unint64_t v12 = v24 + 1;
      if (__OFADD__(v24, 1)) {
        break;
      }
      BOOL v26 = *(v23 - 1) == v19 && *v23 == v20;
      if (v26 || (OUTLINED_FUNCTION_19_36() & 1) != 0)
      {
        swift_release();
        unint64_t v12 = v25;
        uint64_t v13 = v65;
        goto LABEL_22;
      }
      ++v24;
      v23 += 2;
      BOOL v21 = v12 == v18;
      unint64_t v12 = v25;
      uint64_t v13 = v65;
      if (v21) {
        goto LABEL_21;
      }
    }
LABEL_47:
    __break(1u);
LABEL_48:
    sub_259843F00();
    uint64_t v13 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  unint64_t v44 = MEMORY[0x263F8EE78];
LABEL_50:
  sub_259843F00();
  if ((v44 & 0x8000000000000000) != 0 || (uint64_t v45 = (void *)v44, (v44 & 0x4000000000000000) != 0))
  {
    uint64_t v45 = sub_25953CE74();
    swift_release();
  }
  *(void *)&long long v73 = v45;
  sub_2596CDCF4((uint64_t *)&v73);
  id v46 = (const void *)(v0 + 1082);
  swift_release();
  uint64_t v47 = (uint8_t *)v73;
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v48 = sub_259843A80();
  *(void *)(v0 + 912) = __swift_project_value_buffer(v48, (uint64_t)qword_26A3D2050);
  sub_259843F00();
  swift_retain();
  uint64_t v49 = sub_259843A50();
  os_log_type_t v50 = sub_259844B30();
  if (os_log_type_enabled(v49, v50))
  {
    uint64_t v51 = (uint8_t *)OUTLINED_FUNCTION_54();
    *(void *)&long long v73 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v51 = 136315138;
    uint64_t v52 = type metadata accessor for MusicKeywordCompletion();
    uint64_t v53 = sub_259843F00();
    uint64_t v54 = MEMORY[0x25A2DED80](v53, v52);
    unint64_t v56 = v55;
    swift_release();
    *(void *)(v0 + 728) = sub_259356D5C(v54, v56, (uint64_t *)&v73);
    id v46 = (const void *)(v0 + 1082);
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_92_13();
    _os_log_impl(&dword_25934C000, v49, v50, "(Apple Music Search) curateAppleMusicFromSmartSearch: mergedKeyword = %s", v51, 0xCu);
    OUTLINED_FUNCTION_59_1();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    OUTLINED_FUNCTION_92_13();
  }

  __int16 v57 = *(_WORD *)(v0 + 1168);
  uint64_t v58 = *(void *)(v0 + 880);
  long long v68 = *(_OWORD *)(v0 + 864);
  long long v66 = *(_OWORD *)(v0 + 848);
  uint64_t v59 = *(void *)(v0 + 840);
  uint64_t v60 = *(void *)(v0 + 832);
  *(void *)(*(void *)(v0 + 776) + 464) = v47;
  swift_retain();
  swift_bridgeObjectRelease();
  long long v73 = *(_OWORD *)(v0 + 672);
  uint64_t v74 = v60;
  char v75 = *(unsigned char *)(v0 + 1080);
  *(void *)uint64_t v76 = *(void *)(v0 + 688);
  *(void *)&v76[7] = *(void *)(v0 + 695);
  *(void *)&v76[15] = v59;
  long long v61 = *(_OWORD *)(v0 + 496);
  long long v77 = *(_OWORD *)(v0 + 480);
  long long v78 = v61;
  long long v79 = *(_OWORD *)(v0 + 512);
  uint64_t v62 = *(void *)(v0 + 528);
  long long v81 = v66;
  long long v82 = v68;
  uint64_t v80 = v62;
  uint64_t v83 = v58;
  __int16 v84 = v57;
  memcpy(v85, v46, sizeof(v85));
  StoryMusicCurator.searchPromptGenerator(with:searchKeywords:eventRecorder:)(&v73, v47, (uint64_t)&v71);
  swift_release();
  *(void *)(v0 + 920) = v71;
  *(_OWORD *)(v0 + 928) = v72;
  type metadata accessor for AppleMusicSmartSearch();
  uint64_t v63 = (void *)swift_task_alloc();
  *(void *)(v0 + 944) = v63;
  *uint64_t v63 = v0;
  v63[1] = sub_2596C49AC;
  OUTLINED_FUNCTION_103_9();
  OUTLINED_FUNCTION_32_28();
  return static AppleMusicSmartSearch.searchCatalogForSongs(using:)();
}

uint64_t sub_2596C42CC()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *id v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 896) = v0;
  swift_task_dealloc();
  if (!v0) {
    *(void *)(v5 + 904) = v3;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596C43C0()
{
  uint64_t v63 = v0;
  char v1 = *(void **)(v0 + 896);
  *(void *)&long long v50 = *(void *)(v0 + 904);
  sub_259843F00();
  sub_25973ED0C();
  unint64_t v2 = v50;
  *(void *)&long long v50 = MEMORY[0x263F8EE78];
  if (v2 >> 62) {
    goto LABEL_42;
  }
  uint64_t v3 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (v3)
  {
    uint64_t v41 = v1;
    uint64_t v42 = v0;
    unint64_t v4 = 0;
    unint64_t v5 = v2 & 0xC000000000000001;
    unint64_t v46 = v2 + 32;
    uint64_t v47 = v2 & 0xFFFFFFFFFFFFFF8;
    while (1)
    {
      if (v5)
      {
        uint64_t v6 = MEMORY[0x25A2DFA20](v4, v2);
      }
      else
      {
        if (v4 >= *(void *)(v47 + 16)) {
          goto LABEL_40;
        }
        uint64_t v6 = *(void *)(v46 + 8 * v4);
        swift_retain();
      }
      if (__OFADD__(v4++, 1))
      {
        __break(1u);
LABEL_40:
        __break(1u);
        goto LABEL_41;
      }
      if (qword_26A388A60 != -1) {
        swift_once();
      }
      char v1 = off_26A38EFC8;
      uint64_t v8 = *((void *)off_26A38EFC8 + 2);
      if (!v8) {
        goto LABEL_19;
      }
      uint64_t v9 = *(void *)(v6 + 16);
      uint64_t v10 = *(void *)(v6 + 24);
      BOOL v11 = *((void *)off_26A38EFC8 + 4) == v9 && *((void *)off_26A38EFC8 + 5) == v10;
      if (!v11 && (OUTLINED_FUNCTION_19_36() & 1) == 0)
      {
        if (v8 == 1) {
          goto LABEL_19;
        }
        BOOL v12 = v1[6] == v9 && v1[7] == v10;
        if (!v12 && (OUTLINED_FUNCTION_19_36() & 1) == 0) {
          break;
        }
      }
      swift_release();
LABEL_20:
      if (v4 == v3)
      {
        swift_bridgeObjectRelease();
        unint64_t v16 = v50;
        char v1 = v41;
        uint64_t v0 = v42;
        goto LABEL_44;
      }
    }
    if (v8 == 2)
    {
LABEL_19:
      sub_259845240();
      sub_259845280();
      sub_259845290();
      sub_259845250();
      goto LABEL_20;
    }
    v1 += 9;
    uint64_t v0 = 2;
    uint64_t v44 = v3;
    while (1)
    {
      unint64_t v13 = v5;
      unint64_t v14 = v2;
      unint64_t v2 = v0 + 1;
      if (__OFADD__(v0, 1)) {
        break;
      }
      BOOL v15 = *(v1 - 1) == v9 && *v1 == v10;
      if (v15 || (OUTLINED_FUNCTION_19_36() & 1) != 0)
      {
        swift_release();
        unint64_t v2 = v14;
        unint64_t v5 = v13;
        uint64_t v3 = v44;
        goto LABEL_20;
      }
      ++v0;
      v1 += 2;
      BOOL v11 = v2 == v8;
      unint64_t v2 = v14;
      unint64_t v5 = v13;
      uint64_t v3 = v44;
      if (v11) {
        goto LABEL_19;
      }
    }
LABEL_41:
    __break(1u);
LABEL_42:
    sub_259843F00();
    uint64_t v3 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRelease();
  unint64_t v16 = MEMORY[0x263F8EE78];
LABEL_44:
  sub_259843F00();
  if ((v16 & 0x8000000000000000) != 0 || (uint64_t v17 = (void *)v16, (v16 & 0x4000000000000000) != 0))
  {
    uint64_t v17 = sub_25953CE74();
    swift_release();
  }
  *(void *)&long long v50 = v17;
  sub_2596CDCF4((uint64_t *)&v50);
  if (v1)
  {
    OUTLINED_FUNCTION_68_16();
    return swift_release();
  }
  else
  {
    uint64_t v20 = (const void *)(v0 + 1082);
    swift_release();
    BOOL v21 = (uint8_t *)v50;
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v22 = sub_259843A80();
    *(void *)(v0 + 912) = __swift_project_value_buffer(v22, (uint64_t)qword_26A3D2050);
    sub_259843F00();
    swift_retain();
    uint64_t v23 = (void *)sub_259843A50();
    os_log_type_t v24 = sub_259844B30();
    if (OUTLINED_FUNCTION_30_1(v24))
    {
      unint64_t v25 = (_DWORD *)OUTLINED_FUNCTION_54();
      *(void *)&long long v50 = OUTLINED_FUNCTION_20();
      *unint64_t v25 = 136315138;
      uint64_t v26 = type metadata accessor for MusicKeywordCompletion();
      uint64_t v27 = sub_259843F00();
      uint64_t v28 = MEMORY[0x25A2DED80](v27, v26);
      unint64_t v30 = v29;
      swift_release();
      *(void *)(v0 + 728) = sub_259356D5C(v28, v30, (uint64_t *)&v50);
      uint64_t v20 = (const void *)(v0 + 1082);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_175_6();
      OUTLINED_FUNCTION_155(&dword_25934C000, v31, v32, "(Apple Music Search) curateAppleMusicFromSmartSearch: mergedKeyword = %s");
      OUTLINED_FUNCTION_297();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_175_6();
    }

    __int16 v33 = *(_WORD *)(v0 + 1168);
    uint64_t v34 = *(void *)(v0 + 880);
    long long v43 = *(_OWORD *)(v0 + 848);
    long long v45 = *(_OWORD *)(v0 + 864);
    uint64_t v35 = *(void *)(v0 + 840);
    uint64_t v36 = *(void *)(v0 + 832);
    *(void *)(*(void *)(v0 + 776) + 464) = v21;
    swift_retain();
    swift_bridgeObjectRelease();
    long long v50 = *(_OWORD *)(v0 + 672);
    uint64_t v51 = v36;
    char v52 = *(unsigned char *)(v0 + 1080);
    *(void *)uint64_t v53 = *(void *)(v0 + 688);
    *(void *)&unsigned char v53[7] = *(void *)(v0 + 695);
    *(void *)&v53[15] = v35;
    long long v37 = *(_OWORD *)(v0 + 496);
    long long v54 = *(_OWORD *)(v0 + 480);
    long long v55 = v37;
    long long v56 = *(_OWORD *)(v0 + 512);
    uint64_t v38 = *(void *)(v0 + 528);
    long long v58 = v43;
    long long v59 = v45;
    uint64_t v57 = v38;
    uint64_t v60 = v34;
    __int16 v61 = v33;
    memcpy(v62, v20, sizeof(v62));
    StoryMusicCurator.searchPromptGenerator(with:searchKeywords:eventRecorder:)(&v50, v21, (uint64_t)&v48);
    swift_release();
    *(void *)(v0 + 920) = v48;
    *(_OWORD *)(v0 + 928) = v49;
    type metadata accessor for AppleMusicSmartSearch();
    uint64_t v39 = (void *)swift_task_alloc();
    *(void *)(v0 + 944) = v39;
    *uint64_t v39 = v0;
    v39[1] = sub_2596C49AC;
    OUTLINED_FUNCTION_103_9();
    OUTLINED_FUNCTION_68_16();
    return static AppleMusicSmartSearch.searchCatalogForSongs(using:)();
  }
}

uint64_t sub_2596C49AC()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  *uint64_t v3 = *v1;
  *(void *)(v2 + 952) = v4;
  *(void *)(v2 + 960) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_2596C4A94(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  OUTLINED_FUNCTION_67_1();
  OUTLINED_FUNCTION_74();
  uint64_t v13 = *(void *)(v12 + 952);
  uint64_t v14 = *(void *)(v13 + 16);
  os_log_type_t v146 = (void *)v12;
  if (!v14)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v20 = (void *)sub_259843A50();
    os_log_type_t v21 = sub_259844B50();
    if (!OUTLINED_FUNCTION_218(v21))
    {
      char v24 = 5;
      goto LABEL_34;
    }
    *(_WORD *)OUTLINED_FUNCTION_41() = 0;
    OUTLINED_FUNCTION_82_16(&dword_25934C000, v22, v23, "(Apple Music Search) curateAppleMusicFromSmartSearch: No songs returned from searchCatalogForSongs");
    char v24 = 5;
LABEL_9:
    OUTLINED_FUNCTION_61_0();
LABEL_34:

    sub_259490014();
    OUTLINED_FUNCTION_37();
    *uint64_t v64 = v24;
    swift_willThrow();
    uint64_t v65 = *(void *)(v12 + 824);
    __swift_project_boxed_opaque_existential_1(*(void **)(v12 + 768), *(void *)(*(void *)(v12 + 768) + 24));
    OUTLINED_FUNCTION_41_0();
    v66();
    sub_259445924(v65);
    __swift_destroy_boxed_opaque_existential_1(v12 + 536);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_146_0();
    OUTLINED_FUNCTION_100();
    return v68(v67, v68, v69, v70, v71, v72, v73, v74, a9, a10, a11, a12);
  }
  uint64_t v147 = *(void *)(v12 + 920);
  uint64_t v134 = (void *)(v12 + 688);
  memcpy(v153, (const void *)(v12 + 1082), sizeof(v153));
  uint64_t v15 = StoryMusicCurator.filterOutExplicitIfNeeded(songs:queryInfo:options:)(v13);
  uint64_t v16 = *(void *)(v15 + 16);
  if (!v16)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v20 = (void *)sub_259843A50();
    os_log_type_t v25 = sub_259844B50();
    if (!OUTLINED_FUNCTION_218(v25))
    {
      char v24 = 7;
      goto LABEL_34;
    }
    *(_WORD *)OUTLINED_FUNCTION_41() = 0;
    OUTLINED_FUNCTION_82_16(&dword_25934C000, v26, v27, "(Apple Music Search) curateAppleMusicFromSmartSearch: No clean songs");
    char v24 = 7;
    goto LABEL_9;
  }
  uint64_t v17 = *(void *)(v12 + 952);
  uint64_t v18 = (void *)MEMORY[0x263F8EE78];
  uint64_t v19 = (void *)v12;
  uint64_t v132 = (_OWORD *)(v12 + 672);
  uint64_t v133 = (long long *)(v12 + 480);
  __src = (void *)(v12 + 1082);
  uint64_t v135 = v15;
  if (v16 == v14)
  {
    swift_bridgeObjectRelease();
LABEL_39:
    uint64_t v130 = v19 + 45;
    uint64_t v78 = v19[100];
    uint64_t v151 = v18;
    OUTLINED_FUNCTION_54_22();
    sub_2594F2550();
    uint64_t v138 = *(void (**)(void, unint64_t, void))(v78 + 16);
    unint64_t v79 = v135 + ((*(unsigned __int8 *)(v78 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v78 + 80));
    uint64_t v136 = *(void *)(v78 + 72);
    uint64_t v137 = (void (**)(void, void))(v78 + 8);
    for (uint64_t i = v12 - 1; ; --i)
    {
      uint64_t v81 = v19[98];
      v138(v19[101], v79, v19[99]);
      uint64_t v82 = sub_259843C40();
      uint64_t v142 = v83;
      uint64_t v144 = v82;
      uint64_t v84 = sub_259843C10();
      uint64_t v139 = v85;
      uint64_t v141 = v84;
      uint64_t v86 = sub_259843C60();
      uint64_t v88 = v87;
      uint64_t v145 = sub_259843C20();
      sub_259843C50();
      uint64_t v89 = sub_259842680();
      int EnumTagSinglePayload = __swift_getEnumTagSinglePayload(v81, 1, v89);
      uint64_t v91 = v19[98];
      if (EnumTagSinglePayload == 1)
      {
        sub_259410934(v19[98], &qword_26B2FFA60);
        uint64_t v92 = 0;
        uint64_t v93 = 0;
      }
      else
      {
        uint64_t v92 = sub_2598425B0();
        uint64_t v93 = v94;
        (*(void (**)(uint64_t, uint64_t))(*(void *)(v89 - 8) + 8))(v91, v89);
      }
      (*v137)(v19[101], v19[99]);
      unint64_t v95 = v151;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        OUTLINED_FUNCTION_75();
        sub_2594F2550();
        unint64_t v95 = v151;
      }
      unint64_t v96 = v95[2];
      if (v96 >= v95[3] >> 1)
      {
        sub_2594F2550();
        unint64_t v95 = v151;
      }
      v146[121] = v95;
      char v155 = 1;
      char v157 = 1;
      char v158 = 1;
      v95[2] = v96 + 1;
      uint64_t v97 = &v95[18 * v96];
      *((unsigned char *)v97 + 32) = 2;
      int v98 = *(_DWORD *)v154;
      *((_DWORD *)v97 + 9) = *(_DWORD *)&v154[3];
      *(_DWORD *)((char *)v97 + 33) = v98;
      v97[5] = v144;
      v97[6] = v142;
      v97[7] = v86;
      v97[8] = v88;
      v97[9] = v141;
      v97[10] = v139;
      v97[11] = 0;
      *((unsigned char *)v97 + 96) = v155;
      int v99 = *(_DWORD *)v156;
      *((_DWORD *)v97 + 25) = *(_DWORD *)&v156[3];
      *(_DWORD *)((char *)v97 + 97) = v99;
      v97[13] = 0;
      *((unsigned char *)v97 + 112) = v157;
      *((_DWORD *)v97 + 29) = *(_DWORD *)((char *)&v147 + 3);
      *(_DWORD *)((char *)v97 + 113) = v147;
      v97[15] = v145;
      v97[16] = 0;
      v97[17] = 0;
      v97[18] = 0;
      *((unsigned char *)v97 + 152) = v158;
      *((unsigned char *)v97 + 153) = 2;
      LOWORD(v99) = v160;
      *(_DWORD *)((char *)v97 + 154) = v159;
      *((_WORD *)v97 + 79) = v99;
      v97[20] = v92;
      v97[21] = v93;
      if (!i) {
        break;
      }
      v79 += v136;
      uint64_t v19 = v146;
    }
    swift_bridgeObjectRelease();
    uint64_t v100 = v95[2];
    uint64_t v101 = v146;
    v146[122] = v100;
    uint64_t v102 = MEMORY[0x263F8EE78];
    if (v100)
    {
      uint64_t v152 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_80_14();
      uint64_t v102 = v152;
      unint64_t v103 = *(void *)(v152 + 16);
      uint64_t v104 = 16 * v103;
      unint64_t v105 = v95 + 6;
      do
      {
        uint64_t v107 = *(v105 - 1);
        uint64_t v106 = *v105;
        unint64_t v108 = *(void *)(v152 + 24);
        sub_259843F00();
        if (v103 >= v108 >> 1) {
          sub_2594F08BC();
        }
        *(void *)(v152 + 16) = v103 + 1;
        uint64_t v109 = v152 + v104;
        *(void *)(v109 + 32) = v107;
        *(void *)(v109 + 40) = v106;
        v104 += 16;
        v105 += 18;
        ++v103;
        --v100;
      }
      while (v100);
      uint64_t v101 = v146;
    }
    uint64_t v110 = v101[109];
    uint64_t v111 = v101[106];
    *(void *)(v101[97] + 480) = v102;
    swift_bridgeObjectRelease();
    uint64_t v112 = v101[106];
    if (v110 && v111 && *(void *)(v112 + 16))
    {
      v101[125] = v95;
      uint64_t v113 = v101[115];
      sub_259843F00();
      v101[72] = v113;
      v130[14] = *((_OWORD *)v101 + 58);
      uint64_t v114 = (void *)swift_task_alloc();
      v101[126] = v114;
      *uint64_t v114 = v101;
      v114[1] = sub_2596C56A8;
      OUTLINED_FUNCTION_42_26();
      OUTLINED_FUNCTION_100();
      return sub_2596C9D38(v115, v116, v117);
    }
    else
    {
      __int16 v119 = *((_WORD *)v101 + 584);
      uint64_t v120 = v101[105];
      uint64_t v121 = v101[104];
      *(_OWORD *)(v101 + 31) = *v132;
      v101[33] = v121;
      *((unsigned char *)v101 + 272) = *((unsigned char *)v101 + 1080);
      *(void *)((char *)v101 + 273) = *v134;
      v101[35] = *(void *)((char *)v134 + 7);
      v101[36] = v120;
      long long v122 = *v133;
      long long v123 = v133[2];
      uint64_t v124 = *((void *)v133 + 6);
      *(_OWORD *)(v101 + 39) = v133[1];
      *(_OWORD *)(v101 + 41) = v123;
      *(_OWORD *)(v101 + 37) = v122;
      v101[43] = v124;
      v101[44] = v112;
      long long v125 = v130[32];
      *uint64_t v130 = v130[31];
      v130[1] = v125;
      *((_WORD *)v101 + 196) = v119;
      memcpy((char *)v101 + 394, __src, 0x56uLL);
      id v126 = (void *)swift_task_alloc();
      v101[123] = v126;
      *id v126 = v101;
      v126[1] = sub_2596C5514;
      OUTLINED_FUNCTION_42_26();
      OUTLINED_FUNCTION_100();
      return sub_2596C934C(v127, v128);
    }
  }
  uint64_t v28 = *(void *)(v12 + 800);
  uint64_t v148 = MEMORY[0x263F8EE78];
  sub_2594F08BC();
  uint64_t v29 = v28 + 16;
  unint64_t v140 = (*(unsigned __int8 *)(v29 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 64);
  uint64_t v30 = v17 + v140;
  uint64_t v143 = *(void *)(v29 + 56);
  do
  {
    OUTLINED_FUNCTION_79_14();
    v31();
    sub_259843C40();
    uint64_t v32 = sub_259843BE0();
    uint64_t v34 = v33;
    swift_bridgeObjectRelease();
    uint64_t v35 = *(void (**)(uint64_t))(v29 - 8);
    uint64_t v36 = OUTLINED_FUNCTION_100_10();
    v35(v36);
    uint64_t v37 = v148;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      OUTLINED_FUNCTION_74_14();
      uint64_t v37 = v148;
    }
    unint64_t v38 = *(void *)(v37 + 16);
    if (v38 >= *(void *)(v37 + 24) >> 1)
    {
      OUTLINED_FUNCTION_40_30();
      uint64_t v37 = v148;
    }
    *(void *)(v37 + 16) = v38 + 1;
    uint64_t v39 = v37 + 16 * v38;
    *(void *)(v39 + 32) = v32;
    *(void *)(v39 + 40) = v34;
    v30 += v143;
    --v14;
  }
  while (v14);
  swift_bridgeObjectRelease();
  sub_259737700(v37);
  uint64_t v149 = MEMORY[0x263F8EE78];
  OUTLINED_FUNCTION_54_22();
  sub_2594F08BC();
  unint64_t v40 = v135 + v140;
  do
  {
    OUTLINED_FUNCTION_79_14();
    v41();
    sub_259843C40();
    uint64_t v42 = sub_259843BE0();
    uint64_t v44 = v43;
    swift_bridgeObjectRelease();
    uint64_t v45 = OUTLINED_FUNCTION_100_10();
    v35(v45);
    uint64_t v46 = v149;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      OUTLINED_FUNCTION_74_14();
      uint64_t v46 = v149;
    }
    unint64_t v47 = *(void *)(v46 + 16);
    if (v47 >= *(void *)(v46 + 24) >> 1)
    {
      OUTLINED_FUNCTION_40_30();
      uint64_t v46 = v149;
    }
    *(void *)(v46 + 16) = v47 + 1;
    uint64_t v48 = v46 + 16 * v47;
    *(void *)(v48 + 32) = v42;
    *(void *)(v48 + 40) = v44;
    v40 += v143;
    --v30;
    uint64_t v19 = v146;
  }
  while (v30);
  sub_2597ED0A4();
  uint64_t v50 = v49;
  swift_bridgeObjectRelease();
  uint64_t v12 = *(void *)(v50 + 16);
  if (!v12)
  {
    swift_release();
    uint64_t v51 = MEMORY[0x263F8EE78];
LABEL_38:
    *(void *)(v19[97] + 472) = v51;
    swift_bridgeObjectRelease();
    uint64_t v18 = (void *)MEMORY[0x263F8EE78];
    goto LABEL_39;
  }
  uint64_t v150 = MEMORY[0x263F8EE78];
  OUTLINED_FUNCTION_80_14();
  uint64_t v51 = v150;
  uint64_t result = sub_25975109C(v50);
  uint64_t v53 = result;
  int v55 = v54;
  while ((v53 & 0x8000000000000000) == 0 && v53 < 1 << *(unsigned char *)(v50 + 32))
  {
    if (((*(void *)(v50 + 56 + (((unint64_t)v53 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v53) & 1) == 0) {
      goto LABEL_65;
    }
    if (*(_DWORD *)(v50 + 36) != v55) {
      goto LABEL_66;
    }
    long long v56 = (uint64_t *)(*(void *)(v50 + 48) + 16 * v53);
    uint64_t v58 = *v56;
    uint64_t v57 = v56[1];
    unint64_t v60 = *(void *)(v150 + 16);
    unint64_t v59 = *(void *)(v150 + 24);
    sub_259843F00();
    if (v60 >= v59 >> 1) {
      OUTLINED_FUNCTION_86_14();
    }
    *(void *)(v150 + 16) = v60 + 1;
    uint64_t v61 = v150 + 16 * v60;
    *(void *)(v61 + 32) = v58;
    *(void *)(v61 + 40) = v57;
    uint64_t v62 = OUTLINED_FUNCTION_83_14();
    uint64_t result = sub_259750FB4(v62);
    uint64_t v53 = result;
    int v55 = v63;
    if (!--v12)
    {
      uint64_t v75 = OUTLINED_FUNCTION_83_14();
      sub_2593980EC(v75, v76, v77);
      swift_release();
      uint64_t v19 = v146;
      goto LABEL_38;
    }
  }
  __break(1u);
LABEL_65:
  __break(1u);
LABEL_66:
  __break(1u);
  return result;
}

uint64_t sub_2596C5514()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 992) = v0;
  swift_task_dealloc();
  if (v0)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_13();
    OUTLINED_FUNCTION_160();
    return MEMORY[0x270FA2498](v9, v10, v11);
  }
  else
  {
    *(void *)(v5 + 1000) = v3;
    *(void *)(v5 + 576) = *(void *)(v5 + 920);
    *(_OWORD *)(v5 + 584) = *(_OWORD *)(v5 + 928);
    uint64_t v13 = (void *)swift_task_alloc();
    *(void *)(v5 + 1008) = v13;
    *uint64_t v13 = v7;
    v13[1] = sub_2596C56A8;
    OUTLINED_FUNCTION_83_14();
    OUTLINED_FUNCTION_160();
    return sub_2596C9D38(v14, v15, v16);
  }
}

uint64_t sub_2596C56A8()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  void *v2 = *v0;
  *(void *)(v1 + 1016) = v3;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_2596C5778()
{
  uint64_t v56 = v0;
  if (*(void *)(*(void *)(v0 + 1016) + 16) || *(void *)(*(void *)(v0 + 1000) + 16) == *(void *)(v0 + 976))
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (!*(void *)(*(void *)(v0 + 1016) + 16))
    {
      swift_bridgeObjectRelease();
      uint64_t v8 = (void *)sub_259843A50();
      os_log_type_t v9 = sub_259844B50();
      if (OUTLINED_FUNCTION_218(v9))
      {
        uint64_t v10 = (_WORD *)OUTLINED_FUNCTION_41();
        OUTLINED_FUNCTION_149(v10);
        OUTLINED_FUNCTION_156(&dword_25934C000, v11, v12, "(Apple Music Search) curateAppleMusicFromSmartSearch: No safe song returned from searchCatalogForSongs");
        OUTLINED_FUNCTION_61_0();
      }

      sub_259490014();
      uint64_t v13 = OUTLINED_FUNCTION_37();
      OUTLINED_FUNCTION_89_13(v13, v14);
      uint64_t v15 = *(void *)(v0 + 824);
      __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 768), *(void *)(*(void *)(v0 + 768) + 24));
      OUTLINED_FUNCTION_3_67();
      v16();
      sub_259445924(v15);
      __swift_destroy_boxed_opaque_existential_1(v0 + 536);
      swift_task_dealloc();
      swift_task_dealloc();
      swift_task_dealloc();
      swift_task_dealloc();
      OUTLINED_FUNCTION_146_0();
      OUTLINED_FUNCTION_205();
      __asm { BRAA            X1, X16 }
    }
    uint64_t result = *(void *)(v0 + 832);
    if (result < 0)
    {
      __break(1u);
    }
    else
    {
      uint64_t v2 = sub_2593C79F8(result);
      *(void *)(v0 + 1048) = sub_259433308(v2, v3, v4, v5);
      uint64_t v6 = (void *)swift_task_alloc();
      *(void *)(v0 + 1056) = v6;
      *uint64_t v6 = v0;
      v6[1] = sub_2596C6008;
      OUTLINED_FUNCTION_51_18();
      OUTLINED_FUNCTION_205();
      return StoryMusicCurator.inflateAndSort(songs:using:sortUpToIndex:eventRecorder:)();
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v19 = sub_259737B00();
    uint64_t v20 = sub_259737B00();
    sub_25949F65C(v20, v19);
    swift_bridgeObjectRelease();
    sub_25953D800();
    uint64_t v22 = v21;
    *(void *)(v0 + 1024) = v21;
    swift_bridgeObjectRelease();
    swift_retain_n();
    uint64_t v23 = sub_259843A50();
    os_log_type_t v24 = sub_259844B30();
    if (os_log_type_enabled(v23, v24))
    {
      os_log_type_t v53 = v24;
      os_log_type_t v25 = (_DWORD *)OUTLINED_FUNCTION_54();
      uint64_t v54 = OUTLINED_FUNCTION_20();
      *os_log_type_t v25 = 136315138;
      uint64_t v26 = *(void *)(v22 + 16);
      uint64_t v27 = MEMORY[0x263F8EE78];
      if (v26)
      {
        char v52 = v23;
        uint64_t v55 = MEMORY[0x263F8EE78];
        sub_2594F08BC();
        uint64_t v27 = v55;
        unint64_t v28 = *(void *)(v55 + 16);
        uint64_t v29 = 16 * v28;
        uint64_t v30 = (uint64_t *)(v22 + 48);
        do
        {
          uint64_t v32 = *(v30 - 1);
          uint64_t v31 = *v30;
          uint64_t v55 = v27;
          unint64_t v33 = *(void *)(v27 + 24);
          sub_259843F00();
          if (v28 >= v33 >> 1)
          {
            OUTLINED_FUNCTION_40_30();
            uint64_t v27 = v55;
          }
          *(void *)(v27 + 16) = v28 + 1;
          uint64_t v34 = v27 + v29;
          *(void *)(v34 + 32) = v32;
          *(void *)(v34 + 40) = v31;
          v29 += 16;
          v30 += 18;
          ++v28;
          --v26;
        }
        while (v26);
        uint64_t v23 = v52;
      }
      MEMORY[0x25A2DED80](v27, MEMORY[0x263F8D310]);
      uint64_t v35 = OUTLINED_FUNCTION_60_18();
      *(void *)(v0 + 720) = OUTLINED_FUNCTION_8_42(v35, v36, &v54);
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_92_13();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v23, v53, "(Apple Music Search) Remaining unused songs were unsafe. Reconsider recently used songs. uncheckedRecentlyUsedSongs = %s");
      OUTLINED_FUNCTION_81();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_92_13();
    }
    swift_retain_n();
    uint64_t v37 = (void *)sub_259843A50();
    os_log_type_t v38 = sub_259844B30();
    if (OUTLINED_FUNCTION_30_1(v38))
    {
      uint64_t v39 = (_DWORD *)OUTLINED_FUNCTION_54();
      uint64_t v55 = OUTLINED_FUNCTION_20();
      *uint64_t v39 = 136315138;
      uint64_t v40 = sub_259843F00();
      uint64_t v41 = MEMORY[0x25A2DED80](v40, MEMORY[0x263F8D310]);
      unint64_t v43 = v42;
      swift_bridgeObjectRelease();
      uint64_t v44 = sub_259356D5C(v41, v43, &v55);
      OUTLINED_FUNCTION_54_2(v44, (void *)(v0 + 712));
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_release_n();
      OUTLINED_FUNCTION_155(&dword_25934C000, v45, v46, "(Apple Music Search) Previous unsafe songs: %s");
      OUTLINED_FUNCTION_59_1();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_release_n();
    }

    *(void *)(v0 + 624) = *(void *)(v0 + 920);
    *(_OWORD *)(v0 + 632) = *(_OWORD *)(v0 + 928);
    unint64_t v47 = (void *)swift_task_alloc();
    *(void *)(v0 + 1032) = v47;
    *unint64_t v47 = v0;
    v47[1] = sub_2596C5D18;
    OUTLINED_FUNCTION_205();
    return sub_2596C9D38(v48, v49, v50);
  }
  return result;
}

uint64_t sub_2596C5D18()
{
  OUTLINED_FUNCTION_25();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  uint64_t v3 = *v0;
  OUTLINED_FUNCTION_9();
  *uint64_t v4 = v3;
  *(void *)(v6 + 1040) = v5;
  swift_task_dealloc();
  swift_release();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v7, v8, v9);
}

uint64_t sub_2596C5E44(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  OUTLINED_FUNCTION_121();
  OUTLINED_FUNCTION_266();
  uint64_t v39 = *(void *)(v14 + 1040);
  sub_25947BFF0();
  if (*(void *)(v39 + 16))
  {
    uint64_t result = *(void *)(v14 + 832);
    if (result < 0)
    {
      __break(1u);
    }
    else
    {
      uint64_t v16 = sub_2593C79F8(result);
      *(void *)(v14 + 1048) = sub_259433308(v16, v17, v18, v19);
      uint64_t v20 = (void *)swift_task_alloc();
      *(void *)(v14 + 1056) = v20;
      *uint64_t v20 = v14;
      v20[1] = sub_2596C6008;
      OUTLINED_FUNCTION_51_18();
      OUTLINED_FUNCTION_126();
      return StoryMusicCurator.inflateAndSort(songs:using:sortUpToIndex:eventRecorder:)();
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v22 = (void *)sub_259843A50();
    os_log_type_t v23 = sub_259844B50();
    if (OUTLINED_FUNCTION_218(v23))
    {
      os_log_type_t v24 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_149(v24);
      OUTLINED_FUNCTION_156(&dword_25934C000, v25, v26, "(Apple Music Search) curateAppleMusicFromSmartSearch: No safe song returned from searchCatalogForSongs");
      OUTLINED_FUNCTION_61_0();
    }

    sub_259490014();
    uint64_t v27 = OUTLINED_FUNCTION_37();
    OUTLINED_FUNCTION_89_13(v27, v28);
    uint64_t v29 = *(void *)(v14 + 824);
    __swift_project_boxed_opaque_existential_1(*(void **)(v14 + 768), *(void *)(*(void *)(v14 + 768) + 24));
    OUTLINED_FUNCTION_3_67();
    v30();
    sub_259445924(v29);
    __swift_destroy_boxed_opaque_existential_1(v14 + 536);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_146_0();
    OUTLINED_FUNCTION_126();
    return v32(v31, v32, v33, v34, v35, v36, v37, v38, a9, v39, a11, a12, a13, a14);
  }
  return result;
}

uint64_t sub_2596C6008()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 1064) = v0;
  swift_task_dealloc();
  if (!v0)
  {
    swift_bridgeObjectRelease();
    *(void *)(v5 + 1072) = v3;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596C6104(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  OUTLINED_FUNCTION_67_1();
  OUTLINED_FUNCTION_74();
  uint64_t v13 = OUTLINED_FUNCTION_1_82();
  v14(v13);
  sub_259445924(v12);
  OUTLINED_FUNCTION_35_34();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  OUTLINED_FUNCTION_100();
  return v17(v15, v16, v17, v18, v19, v20, v21, v22, a9, a10, a11, a12);
}

uint64_t sub_2596C6198(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  OUTLINED_FUNCTION_67_1();
  OUTLINED_FUNCTION_74();
  uint64_t v13 = OUTLINED_FUNCTION_1_82();
  v14(v13);
  sub_259445924(v12);
  OUTLINED_FUNCTION_35_34();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_15_1();
  OUTLINED_FUNCTION_100();
  return v16(v15, v16, v17, v18, v19, v20, v21, v22, a9, a10, a11, a12);
}

uint64_t sub_2596C6224(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  OUTLINED_FUNCTION_67_1();
  OUTLINED_FUNCTION_74();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v13 = OUTLINED_FUNCTION_1_82();
  v14(v13);
  sub_259445924(v12);
  OUTLINED_FUNCTION_35_34();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_15_1();
  OUTLINED_FUNCTION_100();
  return v16(v15, v16, v17, v18, v19, v20, v21, v22, a9, a10, a11, a12);
}

uint64_t sub_2596C62C4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  OUTLINED_FUNCTION_67_1();
  OUTLINED_FUNCTION_74();
  uint64_t v13 = OUTLINED_FUNCTION_1_82();
  v14(v13);
  sub_259445924(v12);
  OUTLINED_FUNCTION_35_34();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_15_1();
  OUTLINED_FUNCTION_100();
  return v16(v15, v16, v17, v18, v19, v20, v21, v22, a9, a10, a11, a12);
}

uint64_t sub_2596C6350(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  OUTLINED_FUNCTION_121();
  a21 = v24;
  a22 = v25;
  OUTLINED_FUNCTION_266();
  a20 = v22;
  uint64_t v26 = *(void **)(v22 + 1064);
  id v27 = v26;
  id v28 = v26;
  uint64_t v29 = sub_259843A50();
  os_log_type_t v30 = sub_259844B50();
  if (os_log_type_enabled(v29, v30))
  {
    a10 = v22 + 736;
    uint64_t v31 = *(void **)(v22 + 1064);
    os_log_type_t v23 = (uint8_t *)OUTLINED_FUNCTION_54();
    a11 = OUTLINED_FUNCTION_20();
    *(_DWORD *)os_log_type_t v23 = 136315138;
    swift_getErrorValue();
    uint64_t v32 = sub_259845820();
    *(void *)(v22 + 736) = sub_259356D5C(v32, v33, &a11);
    sub_259844E10();
    swift_bridgeObjectRelease();

    _os_log_impl(&dword_25934C000, v29, v30, "(Apple Music Search) Error sorting songs by mood so using the original results. Error: %s", v23, 0xCu);
    OUTLINED_FUNCTION_297();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    uint64_t v34 = *(void **)(v22 + 1064);
  }
  uint64_t v35 = OUTLINED_FUNCTION_1_82();
  v36(v35);
  sub_259445924((uint64_t)v23);
  __swift_destroy_boxed_opaque_existential_1(v22 + 536);
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  swift_task_dealloc();
  OUTLINED_FUNCTION_44_1();
  OUTLINED_FUNCTION_126();
  return v39(v37, v38, v39, v40, v41, v42, v43, v44, a9, a10, a11, a12, a13, a14);
}

uint64_t sub_2596C6530(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 104);
  uint64_t v3 = *(void *)(a1 + 112);
  uint64_t v4 = *(void *)(a1 + 120);
  uint64_t v5 = *(ValueMetadata **)(a1 + 128);
  unint64_t v6 = *(void *)(a1 + 136);
  __int16 v24 = *(_WORD *)(a1 + 144);
  uint64_t v26 = &type metadata for PhotosFeatureFlags;
  unint64_t v27 = sub_2596385B8();
  LOBYTE(v25[0]) = 5;
  os_log_type_t v7 = sub_259842B80();
  __swift_destroy_boxed_opaque_existential_1((uint64_t)v25);
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_259843A80();
  uint64_t v9 = (uint8_t *)__swift_project_value_buffer(v8, (uint64_t)qword_26A3D2050);
  uint64_t v10 = sub_259843A50();
  os_log_type_t v11 = sub_259844B40();
  if (OUTLINED_FUNCTION_91(v11))
  {
    uint64_t v12 = v5;
    uint64_t v13 = v2;
    uint64_t v14 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)uint64_t v14 = 67109120;
    LODWORD(v25[0]) = v7 & 1;
    sub_259844E10();
    _os_log_impl(&dword_25934C000, v10, v1, "(Apple Music) isAppleMusicSmartSearchFeatureEnabled = %{BOOL}d", v14, 8u);
    uint64_t v2 = v13;
    uint64_t v5 = v12;
    OUTLINED_FUNCTION_61_0();
  }

  if ((v7 & 1) == 0)
  {
    char v16 = 0;
    return v16 & 1;
  }
  char v15 = sub_2596C6794();
  if ((v15 & 1) == 0)
  {
    uint64_t v17 = sub_259843A50();
    os_log_type_t v18 = sub_259844B40();
    if (!OUTLINED_FUNCTION_45(v18))
    {
      char v16 = 1;
      goto LABEL_18;
    }
    uint64_t v19 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_149(v19);
    uint64_t v20 = "(Apple Music) SmartSearch is enabled for all scenarios";
LABEL_15:
    _os_log_impl(&dword_25934C000, v17, v7, v20, v9, 2u);
    char v16 = v15 ^ 1;
    OUTLINED_FUNCTION_61_0();
LABEL_18:

    return v16 & 1;
  }
  if (!v5
    || (v25[0] = v2,
        v25[1] = v3,
        v25[2] = v4,
        uint64_t v26 = v5,
        unint64_t v27 = v6,
        __int16 v28 = v24 & 0xFF01,
        !StoryPromptAttributes.hasMusicCurationIngredients()()))
  {
    uint64_t v17 = sub_259843A50();
    os_log_type_t v21 = sub_259844B40();
    if (!OUTLINED_FUNCTION_45(v21))
    {
      char v16 = 0;
      goto LABEL_18;
    }
    uint64_t v22 = (_WORD *)OUTLINED_FUNCTION_41();
    OUTLINED_FUNCTION_149(v22);
    uint64_t v20 = "(Apple Music) No QU music so not using smart search";
    goto LABEL_15;
  }
  char v16 = 1;
  return v16 & 1;
}

uint64_t sub_2596C6794()
{
  uint64_t v0 = self;
  id v1 = objc_msgSend(v0, sel_appleMusicSmartSearchMode);
  uint64_t v2 = sub_2598440A0();
  uint64_t v4 = v3;

  uint64_t v37 = v2;
  uint64_t v38 = v4;
  sub_259399328();
  LOBYTE(v1) = sub_259844EC0();
  swift_bridgeObjectRelease();
  if ((v1 & 1) == 0) {
    return 1;
  }
  id v5 = objc_msgSend(v0, sel_appleMusicSmartSearchMode);
  sub_2598440A0();

  uint64_t v6 = static StoryMusicCurator.dictionaryFromCommasString(using:)();
  swift_bridgeObjectRelease();
  if (!*(void *)(v6 + 16)) {
    goto LABEL_16;
  }
  sub_259843F00();
  sub_25939CE90();
  char v8 = v7;
  swift_bridgeObjectRelease();
  if ((v8 & 1) == 0) {
    goto LABEL_16;
  }
  uint64_t v9 = sub_25976E81C(0x796C6E4F5551, 0xE600000000000000, v6);
  unint64_t v11 = v10;
  uint64_t result = swift_bridgeObjectRelease();
  if (!v11) {
    return 1;
  }
  uint64_t v13 = HIBYTE(v11) & 0xF;
  uint64_t v14 = v9 & 0xFFFFFFFFFFFFLL;
  if (!((v11 & 0x2000000000000000) != 0 ? HIBYTE(v11) & 0xF : v9 & 0xFFFFFFFFFFFFLL))
  {
LABEL_16:
    swift_bridgeObjectRelease();
    return 1;
  }
  if ((v11 & 0x1000000000000000) != 0)
  {
    uint64_t v17 = sub_259540CE0(v9, v11, 10);
    char v19 = v36;
    goto LABEL_52;
  }
  if ((v11 & 0x2000000000000000) != 0)
  {
    uint64_t v37 = v9;
    uint64_t v38 = v11 & 0xFFFFFFFFFFFFFFLL;
    if (v9 == 43)
    {
      if (!v13) {
        goto LABEL_69;
      }
      if (v13 == 1 || (BYTE1(v9) - 48) > 9u) {
        goto LABEL_39;
      }
      uint64_t v17 = (BYTE1(v9) - 48);
      if (v13 != 2)
      {
        if ((BYTE2(v9) - 48) > 9u) {
          goto LABEL_39;
        }
        uint64_t v17 = 10 * (BYTE1(v9) - 48) + (BYTE2(v9) - 48);
        uint64_t v20 = v13 - 3;
        if (v20)
        {
          os_log_type_t v21 = (unsigned __int8 *)&v37 + 3;
          while (1)
          {
            unsigned int v22 = *v21 - 48;
            if (v22 > 9) {
              goto LABEL_39;
            }
            uint64_t v23 = 10 * v17;
            if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
              goto LABEL_39;
            }
            uint64_t v17 = v23 + v22;
            if (__OFADD__(v23, v22)) {
              goto LABEL_39;
            }
            char v19 = 0;
            ++v21;
            if (!--v20) {
              goto LABEL_52;
            }
          }
        }
      }
    }
    else
    {
      if (v9 == 45)
      {
        if (v13)
        {
          if (v13 != 1 && (BYTE1(v9) - 48) <= 9u)
          {
            if (v13 == 2)
            {
              char v19 = 0;
              uint64_t v17 = -(uint64_t)(BYTE1(v9) - 48);
              goto LABEL_52;
            }
            if ((BYTE2(v9) - 48) <= 9u)
            {
              uint64_t v17 = -10 * (BYTE1(v9) - 48) - (BYTE2(v9) - 48);
              uint64_t v28 = v13 - 3;
              if (!v28) {
                goto LABEL_51;
              }
              unint64_t v33 = (unsigned __int8 *)&v37 + 3;
              while (1)
              {
                unsigned int v34 = *v33 - 48;
                if (v34 > 9) {
                  break;
                }
                uint64_t v35 = 10 * v17;
                if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
                  break;
                }
                uint64_t v17 = v35 - v34;
                if (__OFSUB__(v35, v34)) {
                  break;
                }
                char v19 = 0;
                ++v33;
                if (!--v28) {
                  goto LABEL_52;
                }
              }
            }
          }
LABEL_39:
          uint64_t v17 = 0;
          char v19 = 1;
          goto LABEL_52;
        }
        __break(1u);
LABEL_69:
        __break(1u);
        return result;
      }
      if (!v13 || (v9 - 48) > 9u) {
        goto LABEL_39;
      }
      uint64_t v17 = (v9 - 48);
      if (v13 != 1)
      {
        if ((BYTE1(v9) - 48) > 9u) {
          goto LABEL_39;
        }
        uint64_t v17 = 10 * (v9 - 48) + (BYTE1(v9) - 48);
        uint64_t v24 = v13 - 2;
        if (v24)
        {
          uint64_t v25 = (unsigned __int8 *)&v37 + 2;
          while (1)
          {
            unsigned int v26 = *v25 - 48;
            if (v26 > 9) {
              goto LABEL_39;
            }
            uint64_t v27 = 10 * v17;
            if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
              goto LABEL_39;
            }
            uint64_t v17 = v27 + v26;
            if (__OFADD__(v27, v26)) {
              goto LABEL_39;
            }
            char v19 = 0;
            ++v25;
            if (!--v24) {
              goto LABEL_52;
            }
          }
        }
      }
    }
LABEL_51:
    char v19 = 0;
    goto LABEL_52;
  }
  if ((v9 & 0x1000000000000000) != 0) {
    char v16 = (unsigned __int8 *)((v11 & 0xFFFFFFFFFFFFFFFLL) + 32);
  }
  else {
    char v16 = (unsigned __int8 *)sub_259845200();
  }
  uint64_t v17 = (uint64_t)sub_259540CB0(v16, v14);
  char v19 = v18 & 1;
LABEL_52:
  swift_bridgeObjectRelease();
  if (v19) {
    return 1;
  }
  if (v17 == 1)
  {
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v29 = sub_259843A80();
    __swift_project_value_buffer(v29, (uint64_t)qword_26A3D2050);
    os_log_type_t v30 = sub_259843A50();
    os_log_type_t v31 = sub_259844B40();
    if (os_log_type_enabled(v30, v31))
    {
      uint64_t v32 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v32 = 0;
      _os_log_impl(&dword_25934C000, v30, v31, "(Apple Music Search) shouldUseSmartSearchForQUOnly: Enabled", v32, 2u);
      MEMORY[0x25A2E13A0](v32, -1, -1);
    }

    return 1;
  }
  return 0;
}

uint64_t sub_2596C6C68(uint64_t a1, uint64_t a2)
{
  *(void *)(v3 + 592) = v2;
  *(void *)(v3 + 584) = a2;
  type metadata accessor for RootEventRecorder.EventState(0);
  *(void *)(v3 + 600) = swift_task_alloc();
  memcpy((void *)(v3 + 376), (const void *)a1, 0x58uLL);
  *(_OWORD *)(v3 + 608) = *(_OWORD *)(a1 + 88);
  memcpy((void *)(v3 + 248), (const void *)(a1 + 104), 0x80uLL);
  return MEMORY[0x270FA2498](sub_2596C6D38, 0, 0);
}

uint64_t sub_2596C6D38()
{
  uint64_t v48 = v0;
  uint64_t v1 = *(void *)(v0 + 616);
  uint64_t v2 = *(void **)(v0 + 584);
  uint64_t v3 = v2[3];
  uint64_t v4 = v2[4];
  __swift_project_boxed_opaque_existential_1(v2, v3);
  (*(void (**)(const char *, uint64_t, uint64_t, uint64_t, uint64_t))(v4 + 24))("MusicCurator.appleMusicSearchKeywordCurationStep", 48, 2, v3, v4);
  if (v1)
  {
    unint64_t v5 = *(void *)(v0 + 616);
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v6 = sub_259843A80();
    *(void *)(v0 + 624) = __swift_project_value_buffer(v6, (uint64_t)qword_26A3D2050);
    swift_bridgeObjectRetain_n();
    char v7 = sub_259843A50();
    os_log_type_t v8 = sub_259844B40();
    if (os_log_type_enabled(v7, v8))
    {
      uint64_t v9 = *(void *)(v0 + 608);
      unint64_t v10 = (uint8_t *)OUTLINED_FUNCTION_54();
      v47[0] = OUTLINED_FUNCTION_20();
      *(_DWORD *)unint64_t v10 = 136315138;
      sub_259843F00();
      *(void *)(v0 + 576) = sub_259356D5C(v9, v5, v47);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v7, v8, "(Apple Music Search) curateSearchKeywords: prompt = %s", v10, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_184_1();
    }

    uint64_t v21 = *(void *)(v0 + 592);
    OUTLINED_FUNCTION_57();
    *(void *)(v21 + 448) = MEMORY[0x263F8EE78];
    swift_bridgeObjectRelease();
    if (qword_270739500)
    {
      char v22 = byte_270739510;
      __swift_instantiateConcreteTypeFromMangledName(&qword_26A390268);
      uint64_t inited = swift_initStackObject();
      *(_OWORD *)(inited + 16) = xmmword_259876920;
      *(unsigned char *)(inited + 32) = v22;
      sub_259843F00();
      char v46 = v22;
      LOBYTE(v47[0]) = v22;
      if (StoryMusicTermTag.rawValue.getter() == 7105633 && v24 == 0xE300000000000000)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
      }
      else
      {
        char v26 = sub_259845750();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if ((v26 & 1) == 0)
        {
          if (qword_26A388A48 != -1) {
            swift_once();
          }
          uint64_t v27 = sub_259843F00();
          sub_25960FD54(v27, inited);
          uint64_t v29 = v28;
          goto LABEL_26;
        }
      }
      if (qword_26A388A48 == -1)
      {
LABEL_25:
        uint64_t v29 = off_26A38EFA8;
        sub_259843F00();
        swift_bridgeObjectRelease();
LABEL_26:
        uint64_t v30 = v29[2];
        if (v30)
        {
          sub_259843F00();
          os_log_type_t v31 = v29 + 5;
          uint64_t v32 = MEMORY[0x263F8EE78];
          do
          {
            uint64_t v33 = *(v31 - 1);
            uint64_t v34 = *v31;
            sub_259843F00();
            if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
            {
              OUTLINED_FUNCTION_75();
              sub_25938553C();
              uint64_t v32 = v38;
            }
            unint64_t v36 = *(void *)(v32 + 16);
            unint64_t v35 = *(void *)(v32 + 24);
            if (v36 >= v35 >> 1)
            {
              OUTLINED_FUNCTION_209(v35);
              sub_25938553C();
              uint64_t v32 = v39;
            }
            *(void *)(v32 + 16) = v36 + 1;
            uint64_t v37 = v32 + 16 * v36;
            *(void *)(v37 + 32) = v33;
            *(void *)(v37 + 40) = v34;
            v31 += 6;
            --v30;
          }
          while (v30);
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v32 = MEMORY[0x263F8EE78];
        }
        *(void *)(v0 + 632) = v32;
        swift_bridgeObjectRelease();
        uint64_t v40 = sub_259843A50();
        os_log_type_t v41 = sub_259844B40();
        if (os_log_type_enabled(v40, v41))
        {
          uint64_t v42 = (_DWORD *)OUTLINED_FUNCTION_54();
          v47[0] = OUTLINED_FUNCTION_20();
          *uint64_t v42 = 136315138;
          *(unsigned char *)(v0 + 497) = v46;
          uint64_t v43 = sub_259844120();
          *(void *)(v0 + 568) = sub_259356D5C(v43, v44, v47);
          sub_259844E10();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_94_12(&dword_25934C000, v40, v41, "(Apple Music Search) curateSearchKeywords: Running curation for term tag: %s");
          swift_arrayDestroy();
          OUTLINED_FUNCTION_61_0();
          OUTLINED_FUNCTION_61_0();
        }

        memcpy((void *)(v0 + 16), (const void *)(v0 + 376), 0x58uLL);
        *(_OWORD *)(v0 + 104) = *(_OWORD *)(v0 + 608);
        memcpy((void *)(v0 + 120), (const void *)(v0 + 248), 0x80uLL);
        uint64_t v45 = (void *)swift_task_alloc();
        *(void *)(v0 + 640) = v45;
        void *v45 = v0;
        v45[1] = sub_2596C7454;
        return StoryMusicCurator.generateMusicSearchKeywords(forStoryPrompt:keywords:with:eventRecorder:)();
      }
    }
    else
    {
      __break(1u);
    }
    swift_once();
    goto LABEL_25;
  }
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_259843A80();
  __swift_project_value_buffer(v11, (uint64_t)qword_26A3D2050);
  uint64_t v12 = sub_259843A50();
  os_log_type_t v13 = sub_259844B50();
  if (os_log_type_enabled(v12, v13))
  {
    uint64_t v14 = (uint8_t *)OUTLINED_FUNCTION_41();
    *(_WORD *)uint64_t v14 = 0;
    _os_log_impl(&dword_25934C000, v12, v13, "(Apple Music Search) curateSearchKeywords: Missing story prompt for music curation.", v14, 2u);
    OUTLINED_FUNCTION_61_0();
  }
  uint64_t v15 = *(void *)(v0 + 600);
  char v16 = *(void **)(v0 + 584);

  sub_259490014();
  OUTLINED_FUNCTION_37();
  *uint64_t v17 = 4;
  swift_willThrow();
  __swift_project_boxed_opaque_existential_1(v16, v2[3]);
  OUTLINED_FUNCTION_41_0();
  v18();
  sub_259445924(v15);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v19();
}

uint64_t sub_2596C7454()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 648) = v0;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (!v0) {
    *(void *)(v5 + 656) = v3;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596C7558(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  OUTLINED_FUNCTION_121();
  a21 = v23;
  a22 = v24;
  OUTLINED_FUNCTION_266();
  a20 = v22;
  unint64_t v25 = *(void *)(v22 + 656);
  uint64_t v26 = *(void *)(v22 + 648);
  OUTLINED_FUNCTION_46_26();
  sub_259843F00();
  sub_25973ED0C();
  swift_endAccess();
  OUTLINED_FUNCTION_84_15(v25);
  swift_bridgeObjectRelease();
  a10 = MEMORY[0x263F8EE78];
  sub_25973ED0C();
  if (a10 < 0 || (a10 & 0x4000000000000000) != 0)
  {
    sub_259843F00();
    uint64_t v27 = (uint64_t)sub_25953CE74();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v27 = a10 & 0xFFFFFFFFFFFFFF8;
    sub_259843F00();
  }
  a10 = v27;
  sub_2596CDCF4(&a10);
  if (v26)
  {
    OUTLINED_FUNCTION_126();
    return swift_release();
  }
  else
  {
    swift_bridgeObjectRelease();
    sub_259843F00();
    swift_retain();
    uint64_t v30 = (uint64_t *)sub_259843A50();
    os_log_type_t v31 = sub_259844B40();
    if (OUTLINED_FUNCTION_91(v31))
    {
      a9 = v22 + 552;
      uint64_t v26 = OUTLINED_FUNCTION_54();
      a10 = OUTLINED_FUNCTION_20();
      uint64_t v32 = OUTLINED_FUNCTION_93_12(4.8149e-34);
      uint64_t v33 = sub_259843F00();
      uint64_t v34 = MEMORY[0x25A2DED80](v33, v32);
      unint64_t v36 = v35;
      swift_release();
      uint64_t v37 = sub_259356D5C(v34, v36, &a10);
      OUTLINED_FUNCTION_58_20(v37);
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_175_6();
      OUTLINED_FUNCTION_22_44(&dword_25934C000, v38, v39, "(Apple Music Search) curateSearchKeywords: curatedKeywords = %s");
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_175_6();
    }

    OUTLINED_FUNCTION_44_26();
    swift_bridgeObjectRelease();
    __swift_project_boxed_opaque_existential_1(v30, v30[3]);
    OUTLINED_FUNCTION_41_0();
    v40();
    sub_259445924(v26);
    swift_task_dealloc();
    OUTLINED_FUNCTION_44_1();
    OUTLINED_FUNCTION_126();
    return v43(v41, v42, v43, v44, v45, v46, v47, v48, a9, a10, a11, a12, a13, a14);
  }
}

uint64_t sub_2596C77A0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, unint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22)
{
  OUTLINED_FUNCTION_121();
  a21 = v23;
  a22 = v24;
  OUTLINED_FUNCTION_266();
  a20 = v22;
  unint64_t v25 = *(void **)(v22 + 648);
  id v26 = v25;
  id v27 = v25;
  uint64_t v28 = (void *)sub_259843A50();
  os_log_type_t v29 = sub_259844B50();
  if (OUTLINED_FUNCTION_30_1(v29))
  {
    uint64_t v30 = *(void **)(v22 + 648);
    a9 = v22 + 528;
    os_log_type_t v31 = (_DWORD *)OUTLINED_FUNCTION_54();
    uint64_t v32 = (void *)swift_slowAlloc();
    *os_log_type_t v31 = 138412290;
    id v33 = v30;
    uint64_t v34 = _swift_stdlib_bridgeErrorToNSError();
    *(void *)(v22 + 560) = v34;
    sub_259844E10();
    void *v32 = v34;

    OUTLINED_FUNCTION_155(&dword_25934C000, v35, v36, "(Apple Music Search) curateSearchKeywords: Falling back to generic curation since generateMusicKeywords failed with error: %@");
    __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
    OUTLINED_FUNCTION_297();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    uint64_t v30 = *(void **)(v22 + 648);
  }
  OUTLINED_FUNCTION_46_26();
  unint64_t v37 = MEMORY[0x263F8EE78];
  sub_259843F00();
  sub_25973ED0C();
  swift_endAccess();
  OUTLINED_FUNCTION_84_15(v37);
  swift_bridgeObjectRelease();
  a10 = v37;
  sub_25973ED0C();
  if ((a10 & 0x8000000000000000) != 0 || (a10 & 0x4000000000000000) != 0)
  {
    sub_259843F00();
    uint64_t v38 = (uint64_t)sub_25953CE74();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v38 = a10 & 0xFFFFFFFFFFFFFF8;
    sub_259843F00();
  }
  a10 = v38;
  uint64_t v39 = 0;
  sub_2596CDCF4((uint64_t *)&a10);
  swift_bridgeObjectRelease();
  sub_259843F00();
  swift_retain();
  uint64_t v40 = (uint64_t *)sub_259843A50();
  os_log_type_t v41 = sub_259844B40();
  if (OUTLINED_FUNCTION_91(v41))
  {
    a9 = v22 + 552;
    uint64_t v39 = OUTLINED_FUNCTION_54();
    a10 = OUTLINED_FUNCTION_20();
    uint64_t v42 = OUTLINED_FUNCTION_93_12(4.8149e-34);
    uint64_t v43 = sub_259843F00();
    uint64_t v44 = MEMORY[0x25A2DED80](v43, v42);
    unint64_t v46 = v45;
    swift_release();
    uint64_t v47 = sub_259356D5C(v44, v46, (uint64_t *)&a10);
    OUTLINED_FUNCTION_58_20(v47);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_175_6();
    OUTLINED_FUNCTION_22_44(&dword_25934C000, v48, v49, "(Apple Music Search) curateSearchKeywords: curatedKeywords = %s");
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    OUTLINED_FUNCTION_175_6();
  }

  OUTLINED_FUNCTION_44_26();
  swift_bridgeObjectRelease();
  __swift_project_boxed_opaque_existential_1(v40, v40[3]);
  OUTLINED_FUNCTION_41_0();
  v50();
  sub_259445924(v39);
  swift_task_dealloc();
  OUTLINED_FUNCTION_44_1();
  OUTLINED_FUNCTION_126();
  return v53(v51, v52, v53, v54, v55, v56, v57, v58, a9, a10, a11, a12, a13, a14);
}

uint64_t StoryMusicCurator.searchPromptGenerator(with:searchKeywords:eventRecorder:)@<X0>(long long *a1@<X0>, uint8_t *a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v181 = a2;
  uint64_t v176 = a3;
  OUTLINED_FUNCTION_7_0();
  uint64_t v7 = v6;
  uint64_t v8 = sub_259842380();
  uint64_t v9 = *(uint8_t **)(v8 - 8);
  MEMORY[0x270FA5388](v8);
  uint64_t v11 = (char *)&v169 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  long long v190 = *a1;
  uint64_t v191 = *((void *)a1 + 2);
  char v12 = *((unsigned char *)a1 + 24);
  LOBYTE(v192[0]) = v12;
  memcpy((char *)v192 + 1, (char *)a1 + 25, 0xCFuLL);
  uint64_t result = StoryMusicCurator.packageSpecificationOptions(in:)((unsigned __int8 *)&v190);
  if (v4) {
    return result;
  }
  uint64_t v14 = result;
  uint64_t v182 = v7;
  uint64_t v174 = v11;
  uint64_t v175 = v3;
  unint64_t v179 = 0;
  uint64_t v180 = v9;
  if (v12)
  {
    uint64_t v15 = 1;
  }
  else
  {
    OUTLINED_FUNCTION_13_46();
    uint64_t v15 = sub_259845750();
  }
  char v16 = (uint8_t *)v8;
  swift_bridgeObjectRelease();
  unint64_t v193 = (_OWORD *)MEMORY[0x263F8EE78];
  *(void *)&long long v189 = 0;
  *((void *)&v189 + 1) = 0xE000000000000000;
  uint64_t v17 = *MEMORY[0x263F5DA58];
  sub_2598440A0();
  OUTLINED_FUNCTION_25_37();
  swift_bridgeObjectRelease();
  uint64_t v177 = v14;
  unint64_t v18 = (unint64_t)v180;
  if (!v192[0])
  {
    sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
    goto LABEL_17;
  }
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
  if ((swift_dynamicCast() & 1) == 0) {
    goto LABEL_17;
  }
  uint64_t v19 = v187;
  if (!*(void *)(v187 + 16)) {
    goto LABEL_16;
  }
  sub_2594110F8(0, 1, v187);
  uint64_t v21 = *(void *)(v19 + 32);
  unint64_t v20 = *(void *)(v19 + 40);
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v22 = HIBYTE(v20) & 0xF;
  if ((v20 & 0x2000000000000000) == 0) {
    uint64_t v22 = v21 & 0xFFFFFFFFFFFFLL;
  }
  if (!v22)
  {
LABEL_16:
    swift_bridgeObjectRelease();
    goto LABEL_17;
  }
  uint64_t v23 = &v189;
  sub_259844240();
  swift_bridgeObjectRelease();
  if ((OUTLINED_FUNCTION_95_11() & 1) == 0) {
    goto LABEL_189;
  }
  while (1)
  {
    OUTLINED_FUNCTION_75_11();
    if (v24)
    {
      OUTLINED_FUNCTION_30_28();
      uint64_t v23 = v164;
    }
    OUTLINED_FUNCTION_73_13();
    *(unsigned char *)(v25 + 32) = 0;
    unint64_t v193 = v23;
    OUTLINED_FUNCTION_96_10();
LABEL_17:
    uint64_t v172 = *MEMORY[0x263F5DA18];
    sub_2598440A0();
    OUTLINED_FUNCTION_25_37();
    swift_bridgeObjectRelease();
    uint64_t v173 = v17;
    if (v192[0])
    {
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      if (swift_dynamicCast())
      {
        if (*(void *)(v187 + 16))
        {
          *(void *)&long long v190 = v187;
          sub_2593C2DF4();
          sub_259844020();
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_49_25();
          swift_bridgeObjectRelease();
          id v26 = &v189;
          sub_259844240();
          swift_bridgeObjectRelease();
          if ((OUTLINED_FUNCTION_95_11() & 1) == 0)
          {
            OUTLINED_FUNCTION_12_44();
            id v26 = v157;
          }
          OUTLINED_FUNCTION_75_11();
          if (v24)
          {
            OUTLINED_FUNCTION_30_28();
            id v26 = v158;
          }
          OUTLINED_FUNCTION_73_13();
          int v27 = 1;
          *(unsigned char *)(v28 + 32) = 1;
          unint64_t v193 = v26;
          OUTLINED_FUNCTION_96_10();
        }
        else
        {
          swift_bridgeObjectRelease();
          int v27 = 0;
        }
      }
      else
      {
        int v27 = 0;
      }
    }
    else
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
      int v27 = 0;
    }
    uint64_t v187 = 0;
    unint64_t v188 = 0;
    sub_2598440A0();
    OUTLINED_FUNCTION_25_37();
    swift_bridgeObjectRelease();
    if (v192[0])
    {
      if (OUTLINED_FUNCTION_23_41())
      {
        uint64_t v29 = v185;
        uint64_t v30 = v186;
        uint64_t v31 = HIBYTE(v186) & 0xF;
        if ((v186 & 0x2000000000000000) == 0) {
          uint64_t v31 = v185 & 0xFFFFFFFFFFFFLL;
        }
        if (v31 && (uint64_t v32 = (uint64_t)v193, !sub_2594379DC(0, (uint64_t)v193)))
        {
          uint64_t v33 = sub_2596CC0F4(v29, v30);
          unint64_t v35 = v34;
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_94_13();
          sub_259844240();
          sub_259844240();
          swift_bridgeObjectRelease();
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_77_9();
            uint64_t v32 = v165;
          }
          unint64_t v18 = *(void *)(v32 + 16);
          unint64_t v36 = *(void *)(v32 + 24);
          if (v18 >= v36 >> 1)
          {
            OUTLINED_FUNCTION_85(v36);
            sub_259387798();
            uint64_t v32 = v166;
          }
          *(void *)(v32 + 16) = v18 + 1;
          *(unsigned char *)(v32 + v18 + 32) = 3;
          unint64_t v193 = (_OWORD *)v32;
          swift_bridgeObjectRelease();
          uint64_t v15 = 0;
          uint64_t v187 = v33;
          unint64_t v188 = v35;
          int v27 = 1;
          OUTLINED_FUNCTION_96_10();
        }
        else
        {
          swift_bridgeObjectRelease();
        }
      }
    }
    else
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
    }
    sub_2598440A0();
    OUTLINED_FUNCTION_25_37();
    swift_bridgeObjectRelease();
    if (!v192[0])
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
      goto LABEL_48;
    }
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F248);
    if ((OUTLINED_FUNCTION_23_41() & 1) == 0) {
      goto LABEL_48;
    }
    uint64_t v37 = v185;
    uint64_t v38 = (uint64_t)v193;
    if (sub_2594379DC(3u, (uint64_t)v193) || sub_2594379DC(0, v38))
    {
      swift_bridgeObjectRelease();
      goto LABEL_48;
    }
    if (!*(void *)(v37 + 16))
    {
      swift_bridgeObjectRelease();
LABEL_164:
      if (qword_26A388C48 != -1) {
        swift_once();
      }
      uint64_t v142 = sub_259843A80();
      __swift_project_value_buffer(v142, (uint64_t)qword_26A3D2050);
      uint64_t v111 = (long long *)sub_259843A50();
      os_log_type_t v143 = sub_259844B50();
      if (OUTLINED_FUNCTION_45(v143))
      {
        uint64_t v144 = (_WORD *)OUTLINED_FUNCTION_41();
        OUTLINED_FUNCTION_103_5(v144);
        OUTLINED_FUNCTION_20_42(&dword_25934C000, v145, v146, "(Apple Music Search) searchPromptGenerator: There was a mood but unable to parse it out");
        OUTLINED_FUNCTION_61_0();
      }

      goto LABEL_169;
    }
    sub_2594110F8(0, 1, v37);
    uint64_t v102 = *(void *)(v37 + 32);
    swift_bridgeObjectRelease();
    if (v102 < 0) {
      goto LABEL_191;
    }
    id v103 = (id)PHStringForMemoryMood();
    if (!v103) {
      goto LABEL_164;
    }
    uint64_t v104 = v103;
    uint64_t v105 = sub_2598440A0();
    uint64_t v107 = v106;

    uint64_t v108 = sub_2596CC0F4(v105, v107);
    unint64_t v110 = v109;
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_49_25();
    uint64_t v111 = &v189;
    sub_259844240();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v187 = v108;
    unint64_t v188 = v110;
LABEL_169:
    if ((OUTLINED_FUNCTION_95_11() & 1) == 0)
    {
      OUTLINED_FUNCTION_12_44();
      uint64_t v111 = v167;
    }
    OUTLINED_FUNCTION_75_11();
    if (v24)
    {
      OUTLINED_FUNCTION_30_28();
      uint64_t v111 = v168;
    }
    OUTLINED_FUNCTION_73_13();
    *(unsigned char *)(v147 + 32) = 3;
    unint64_t v193 = v111;
    int v27 = 1;
    unint64_t v18 = (unint64_t)v180;
LABEL_48:
    sub_2598440A0();
    sub_25976E874(v177, &v190);
    swift_bridgeObjectRelease();
    if (v192[0])
    {
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
      if (OUTLINED_FUNCTION_23_41())
      {
        uint64_t v39 = v185;
        unint64_t v18 = *(void *)(v185 + 16);
        if (v18)
        {
          sub_259843F00();
          uint64_t v40 = (uint64_t *)(v39 + 40);
          unint64_t v41 = v179;
          do
          {
            uint64_t v42 = *v40;
            *(void *)&long long v190 = *(v40 - 1);
            *((void *)&v190 + 1) = v42;
            sub_2596CC384((uint64_t *)&v190, &v187, (uint64_t *)&v193);
            v40 += 2;
            --v18;
          }
          while (v18);
          unint64_t v179 = v41;
          OUTLINED_FUNCTION_3_39();
          uint64_t v43 = (uint64_t)v193;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            OUTLINED_FUNCTION_77_9();
            uint64_t v43 = v159;
          }
          unint64_t v18 = *(void *)(v43 + 16);
          unint64_t v44 = *(void *)(v43 + 24);
          if (v18 >= v44 >> 1)
          {
            OUTLINED_FUNCTION_161_2(v44);
            sub_259387798();
            uint64_t v43 = v160;
          }
          uint64_t v15 = 0;
          *(void *)(v43 + 16) = v18 + 1;
          *(unsigned char *)(v43 + v18 + 32) = 2;
          unint64_t v193 = (_OWORD *)v43;
          int v27 = 1;
        }
        else
        {
          swift_bridgeObjectRelease();
        }
        OUTLINED_FUNCTION_96_10();
      }
    }
    else
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
    }
    sub_2598440A0();
    OUTLINED_FUNCTION_25_37();
    swift_bridgeObjectRelease();
    if (!v192[0])
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
LABEL_80:
      if ((v15 & 1) == 0) {
        goto LABEL_136;
      }
      goto LABEL_81;
    }
    if ((OUTLINED_FUNCTION_23_41() & 1) == 0) {
      goto LABEL_80;
    }
    uint64_t v45 = HIBYTE(v186) & 0xF;
    if ((v186 & 0x2000000000000000) == 0) {
      uint64_t v45 = v185 & 0xFFFFFFFFFFFFLL;
    }
    if (!v45)
    {
      swift_bridgeObjectRelease();
      unint64_t v18 = (unint64_t)v180;
      if ((v15 & 1) == 0) {
        goto LABEL_136;
      }
      goto LABEL_81;
    }
    unint64_t v46 = v188;
    uint64_t v47 = (uint64_t)v193;
    if (!v188) {
      goto LABEL_178;
    }
    uint64_t v48 = v15;
    uint64_t v49 = v187;
    if (!sub_2594379DC(3u, (uint64_t)v193)) {
      goto LABEL_178;
    }
    uint64_t v50 = HIBYTE(v46) & 0xF;
    if ((v46 & 0x2000000000000000) == 0) {
      uint64_t v50 = v49 & 0xFFFFFFFFFFFFLL;
    }
    if (!v50) {
      goto LABEL_178;
    }
    *(void *)&long long v190 = sub_259844130();
    *((void *)&v190 + 1) = v51;
    uint64_t v185 = sub_259844130();
    unint64_t v186 = v52;
    sub_259399328();
    char v53 = sub_259844EC0();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if ((v53 & 1) == 0) {
      break;
    }
    swift_bridgeObjectRelease();
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v54 = sub_259843A80();
    __swift_project_value_buffer(v54, (uint64_t)qword_26A3D2050);
    uint64_t v55 = (void *)sub_259843A50();
    os_log_type_t v56 = sub_259844B30();
    uint64_t v15 = v48;
    if (OUTLINED_FUNCTION_45(v56))
    {
      uint64_t v57 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_103_5(v57);
      OUTLINED_FUNCTION_20_42(&dword_25934C000, v58, v59, "(Apple Music Search) Genre is mood dupe so skip adding it to the search prompt");
      OUTLINED_FUNCTION_61_0();
    }

    unint64_t v18 = (unint64_t)v180;
    if ((v15 & 1) == 0) {
      goto LABEL_136;
    }
LABEL_81:
    uint64_t v170 = sub_2596CC608();
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v60 = sub_259843A80();
    uint64_t v171 = __swift_project_value_buffer(v60, (uint64_t)qword_26A3D2050);
    uint64_t v61 = (void *)sub_259843A50();
    os_log_type_t v62 = sub_259844B40();
    if (OUTLINED_FUNCTION_45(v62))
    {
      int v63 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_103_5(v63);
      OUTLINED_FUNCTION_20_42(&dword_25934C000, v64, v65, "(Apple Music Search) searchPromptGenerator: Adding music search keywords to the Apple Music search term");
      OUTLINED_FUNCTION_61_0();
    }

    long long v66 = v181;
    if (((unint64_t)v181 & 0x8000000000000000) != 0 || ((unint64_t)v181 & 0x4000000000000000) != 0)
    {
      sub_259843F00();
      unint64_t v67 = (unint64_t)sub_25953CE74();
      swift_bridgeObjectRelease();
    }
    else
    {
      unint64_t v67 = (unint64_t)v181 & 0xFFFFFFFFFFFFFF8;
      sub_259843F00();
    }
    *(void *)&long long v190 = v67;
    unint64_t v68 = v179;
    sub_2596CDCF4((uint64_t *)&v190);
    if (v68)
    {
      swift_release();
      __break(1u);
LABEL_191:
      uint64_t result = sub_2598453E0();
      __break(1u);
      return result;
    }
    unint64_t v69 = 0;
    uint64_t v70 = v190;
    if ((v190 & 0x8000000000000000) != 0 || (v190 & 0x4000000000000000) != 0)
    {
      swift_retain();
      uint64_t v71 = sub_259845460();
    }
    else
    {
      uint64_t v71 = *(void *)(v190 + 16);
      swift_retain();
    }
    uint64_t v181 = v16;
    if (v71)
    {
      if (v71 < 1)
      {
        __break(1u);
LABEL_186:
        OUTLINED_FUNCTION_12_44();
        uint64_t v85 = v155;
        goto LABEL_113;
      }
      uint64_t v72 = 0;
      unint64_t v179 = v70 & 0xC000000000000001;
      uint64_t v73 = MEMORY[0x263F8EE78];
      uint64_t v178 = (uint8_t *)v71;
      do
      {
        uint64_t v74 = v73;
        if (v179)
        {
          uint64_t v75 = MEMORY[0x25A2DFA20](v72, v70);
        }
        else
        {
          uint64_t v75 = *(void *)(v70 + 8 * v72 + 32);
          swift_retain();
        }
        uint64_t v185 = v75;
        unint64_t v76 = v69;
        sub_2596CCB20(&v185, (uint64_t *)&v190);
        swift_release();
        uint64_t v77 = *((void *)&v190 + 1);
        if (*((void *)&v190 + 1))
        {
          uint64_t v78 = v190;
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
          {
            sub_25938553C();
            uint64_t v74 = v83;
          }
          unint64_t v80 = *(void *)(v74 + 16);
          unint64_t v79 = *(void *)(v74 + 24);
          uint64_t v81 = v74;
          if (v80 >= v79 >> 1)
          {
            OUTLINED_FUNCTION_209(v79);
            sub_25938553C();
            uint64_t v81 = v84;
          }
          *(void *)(v81 + 16) = v80 + 1;
          uint64_t v73 = v81;
          uint64_t v82 = v81 + 16 * v80;
          *(void *)(v82 + 32) = v78;
          *(void *)(v82 + 40) = v77;
          unint64_t v69 = v76;
          unint64_t v18 = (unint64_t)v180;
          uint64_t v71 = (uint64_t)v178;
        }
        else
        {
          uint64_t v73 = v74;
        }
        ++v72;
        char v16 = v181;
      }
      while (v71 != v72);
    }
    else
    {
      uint64_t v73 = MEMORY[0x263F8EE78];
    }
    unint64_t v179 = v69;
    swift_release_n();
    swift_bridgeObjectRetain_n();
    uint64_t v85 = sub_259843A50();
    os_log_type_t v86 = sub_259844B30();
    if (os_log_type_enabled(v85, v86))
    {
      uint64_t v87 = (uint8_t *)swift_slowAlloc();
      uint64_t v182 = swift_slowAlloc();
      *(void *)&long long v190 = v182;
      *(_DWORD *)uint64_t v87 = 136315138;
      unint64_t v18 = (unint64_t)v180;
      uint64_t v178 = v87 + 4;
      uint64_t v88 = sub_259843F00();
      uint64_t v89 = MEMORY[0x25A2DED80](v88, MEMORY[0x263F8D310]);
      unint64_t v91 = v90;
      swift_bridgeObjectRelease();
      uint64_t v185 = sub_259356D5C(v89, v91, (uint64_t *)&v190);
      sub_259844E10();
      OUTLINED_FUNCTION_3_39();
      char v16 = v181;
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v85, v86, "(Apple Music Search) searchPromptGenerator: candidate keywords = %s", v87, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
    long long v66 = (uint8_t *)v73;
    uint64_t v15 = *(void *)(v73 + 16);
    if (!v15) {
      goto LABEL_134;
    }
    if ((OUTLINED_FUNCTION_95_11() & 1) == 0) {
      goto LABEL_186;
    }
LABEL_113:
    Class isa = v85[2].isa;
    unint64_t v92 = (unint64_t)v85[3].isa;
    if ((unint64_t)isa >= v92 >> 1)
    {
      OUTLINED_FUNCTION_161_2(v92);
      sub_259387798();
      uint64_t v85 = v156;
    }
    uint64_t v17 = 0x662073676E6F7320;
    v85[2].Class isa = (Class)((char *)isa + 1);
    *((unsigned char *)isa + (void)v85 + 32) = 4;
    unint64_t v193 = v85;
    sub_259844240();
    if (v170 >= v15)
    {
      sub_259843F00();
      uint64_t v96 = (uint64_t)v66;
      unint64_t v18 = (unint64_t)v180;
LABEL_121:
      char v97 = sub_259437928(0x747265636E6F43, 0xE700000000000000, v66);
      swift_bridgeObjectRelease();
      if (v97)
      {
        swift_bridgeObjectRelease();
        long long v190 = v189;
        uint64_t v185 = 0x662073676E6F7320;
        unint64_t v186 = 0xEB0000000020726FLL;
        uint64_t v183 = 0x73676E6F7320;
        unint64_t v184 = 0xE600000000000000;
        sub_259399328();
        uint64_t v98 = OUTLINED_FUNCTION_45_22();
        uint64_t v100 = v99;
        swift_bridgeObjectRelease();
        int v27 = 0;
        *(void *)&long long v189 = v98;
        *((void *)&v189 + 1) = v100;
LABEL_136:
        uint64_t v112 = v174;
        goto LABEL_137;
      }
      unint64_t v101 = *(void *)(v96 + 16);
      if (v101 < 2)
      {
        if (!v101)
        {
          swift_bridgeObjectRelease();
          uint64_t v148 = (void *)sub_259843A50();
          os_log_type_t v149 = sub_259844B50();
          if (OUTLINED_FUNCTION_45(v149))
          {
            uint64_t v150 = (_WORD *)OUTLINED_FUNCTION_41();
            OUTLINED_FUNCTION_103_5(v150);
            OUTLINED_FUNCTION_20_42(&dword_25934C000, v151, v152, "(Apple Music Search) searchPromptGenerator: Got 0 search keywords");
            OUTLINED_FUNCTION_61_0();
          }

LABEL_135:
          int v27 = 0;
          goto LABEL_136;
        }
        sub_2594110F8(0, 1, v96);
        sub_259843F00();
      }
      else
      {
        *(void *)&long long v190 = v96;
        __swift_instantiateConcreteTypeFromMangledName(&qword_26B3001D0);
        sub_2593C2DF4();
        sub_259844020();
      }
      swift_bridgeObjectRelease();
      sub_259844240();
LABEL_134:
      swift_bridgeObjectRelease();
      goto LABEL_135;
    }
    unint64_t v18 = (unint64_t)v180;
    if (v170 < 0)
    {
      __break(1u);
    }
    else if (*((void *)v66 + 2) >= (unint64_t)v170)
    {
      unint64_t v94 = (2 * v170) | 1;
      uint64_t v95 = sub_259843F00();
      uint64_t v96 = sub_259433218(v95, (uint64_t)(v66 + 32), 0, v94);
      goto LABEL_121;
    }
    __break(1u);
LABEL_189:
    OUTLINED_FUNCTION_12_44();
    uint64_t v23 = v163;
  }
  uint64_t v47 = (uint64_t)v193;
LABEL_178:
  OUTLINED_FUNCTION_94_13();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_259844240();
  swift_bridgeObjectRelease();
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    OUTLINED_FUNCTION_31_14();
    sub_259387798();
    uint64_t v47 = v161;
  }
  uint64_t v112 = v174;
  unint64_t v154 = *(void *)(v47 + 16);
  unint64_t v153 = *(void *)(v47 + 24);
  unint64_t v18 = (unint64_t)v180;
  if (v154 >= v153 >> 1)
  {
    OUTLINED_FUNCTION_85(v153);
    sub_259387798();
    uint64_t v112 = v174;
    uint64_t v47 = v162;
  }
  *(void *)(v47 + 16) = v154 + 1;
  *(unsigned char *)(v47 + v154 + 32) = 2;
  unint64_t v193 = (_OWORD *)v47;
  int v27 = 1;
LABEL_137:
  long long v190 = v189;
  sub_259843F00();
  sub_259842330();
  sub_259399328();
  uint64_t v113 = sub_259844E60();
  uint64_t v115 = v114;
  (*(void (**)(char *, uint8_t *))(v18 + 8))(v112, v16);
  swift_bridgeObjectRelease();
  *(void *)&long long v190 = v113;
  *((void *)&v190 + 1) = v115;
  uint64_t v185 = 8224;
  unint64_t v186 = 0xE200000000000000;
  uint64_t v183 = 32;
  unint64_t v184 = 0xE100000000000000;
  uint64_t v116 = OUTLINED_FUNCTION_45_22();
  unint64_t v118 = v117;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  *(void *)&long long v189 = v116;
  *((void *)&v189 + 1) = v118;
  uint64_t v119 = HIBYTE(v118) & 0xF;
  if ((v118 & 0x2000000000000000) == 0) {
    uint64_t v119 = v116 & 0xFFFFFFFFFFFFLL;
  }
  if (v119)
  {
    sub_2598440A0();
    uint64_t v120 = v177;
    sub_25976E874(v177, &v190);
    swift_bridgeObjectRelease();
    if (v192[0])
    {
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
      sub_2598440A0();
      sub_25976E874(v120, &v190);
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v121 = v192[0];
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
      if (v121) {
        char v122 = 0;
      }
      else {
        char v122 = v27;
      }
      if ((v122 & 1) == 0) {
        goto LABEL_156;
      }
    }
    else
    {
      swift_bridgeObjectRelease();
      sub_259410934((uint64_t)&v190, &qword_26A38DFB0);
      if (!v27) {
        goto LABEL_156;
      }
    }
    *(void *)&long long v190 = 544239444;
    *((void *)&v190 + 1) = 0xE400000000000000;
    sub_259844240();
    swift_bridgeObjectRelease();
    long long v128 = v190;
    long long v189 = v190;
    sub_259844130();
    if (sub_259844300())
    {
      swift_bridgeObjectRelease();
    }
    else
    {
      char v129 = sub_259844300();
      swift_bridgeObjectRelease();
      if ((v129 & 1) == 0)
      {
        long long v190 = v128;
        sub_259843F00();
        sub_259844240();
        swift_bridgeObjectRelease();
        long long v189 = v190;
      }
    }
LABEL_156:
    long long v130 = v189;
    uint64_t v131 = (uint64_t)v193;
    uint64_t v132 = qword_26A388C48;
    sub_259843F00();
    sub_259843F00();
    if (v132 != -1) {
      swift_once();
    }
    uint64_t v133 = sub_259843A80();
    __swift_project_value_buffer(v133, (uint64_t)qword_26A3D2050);
    swift_bridgeObjectRetain_n();
    swift_bridgeObjectRetain_n();
    uint64_t v134 = sub_259843A50();
    os_log_type_t v135 = sub_259844B30();
    if (os_log_type_enabled(v134, v135))
    {
      uint64_t v136 = (uint8_t *)swift_slowAlloc();
      uint64_t v137 = swift_slowAlloc();
      uint64_t v182 = v137;
      *(_DWORD *)uint64_t v136 = 136315138;
      uint64_t v185 = v137;
      uint64_t v180 = v136 + 4;
      uint64_t v181 = v136;
      *(void *)&long long v190 = 0;
      *((void *)&v190 + 1) = 0xE000000000000000;
      sub_259845110();
      swift_bridgeObjectRelease();
      *(void *)&long long v190 = 0x3D74706D6F7270;
      *((void *)&v190 + 1) = 0xE700000000000000;
      sub_259843F00();
      sub_259844240();
      swift_bridgeObjectRelease();
      sub_259844240();
      uint64_t v138 = sub_259843F00();
      MEMORY[0x25A2DED80](v138, &type metadata for AppleMusicSearchQueryType);
      sub_259844240();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      *(void *)&long long v190 = sub_259356D5C(v190, *((unint64_t *)&v190 + 1), &v185);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_3_39();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v134, v135, "(Apple Music Search) searchPromptGenerator: appleMusicSearchPrompt = %s", v181, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_3_39();
    }
    uint64_t v140 = v175;
    uint64_t v139 = v176;
    long long v141 = v189;
    swift_beginAccess();
    *(_OWORD *)(v140 + 416) = v141;
    sub_259843F00();
    swift_bridgeObjectRelease();
    *(_OWORD *)uint64_t v139 = v130;
    *(void *)(v139 + 16) = v131;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
  else
  {
    swift_bridgeObjectRelease();
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v123 = sub_259843A80();
    __swift_project_value_buffer(v123, (uint64_t)qword_26A3D2050);
    uint64_t v124 = sub_259843A50();
    os_log_type_t v125 = sub_259844B50();
    if (OUTLINED_FUNCTION_45(v125))
    {
      id v126 = (uint8_t *)OUTLINED_FUNCTION_41();
      *(_WORD *)id v126 = 0;
      _os_log_impl(&dword_25934C000, v124, (os_log_type_t)v118, "(Apple Music Search) searchPromptGenerator: The search prompt is empty", v126, 2u);
      OUTLINED_FUNCTION_61_0();
    }

    sub_259490014();
    swift_allocError();
    unsigned char *v127 = 9;
    swift_willThrow();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
}

uint64_t StoryMusicCurator.filterOutExplicitIfNeeded(songs:queryInfo:options:)(uint64_t a1)
{
  OUTLINED_FUNCTION_7_0();
  memcpy(__dst, v2, sizeof(__dst));
  sub_2595F3FD4(__dst);
  uint64_t v3 = sub_259843F00();
  sub_2596C3174(v3, __dst);
  uint64_t v5 = v4;
  if ((static StoryMusicCurator.isUserAllowedExplicitContent()() & 1) == 0
    || !*(void *)(__dst[6] + 16))
  {
    swift_bridgeObjectRelease();
    goto LABEL_10;
  }
  uint64_t v6 = *(void *)(v5 + 16);
  swift_bridgeObjectRelease();
  if (!v6)
  {
LABEL_10:
    type metadata accessor for AppleMusicSmartSearch();
    return static AppleMusicSmartSearch.filterOutExplicit(songs:)(a1);
  }
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v7 = sub_259843A80();
  __swift_project_value_buffer(v7, (uint64_t)qword_26A3D2050);
  uint64_t v8 = sub_259843A50();
  os_log_type_t v9 = sub_259844B30();
  if (os_log_type_enabled(v8, v9))
  {
    uint64_t v10 = (uint8_t *)OUTLINED_FUNCTION_41();
    *(_WORD *)uint64_t v10 = 0;
    _os_log_impl(&dword_25934C000, v8, v9, "(Apple Music Search) Not filtering titles on explicit content", v10, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  sub_259843F00();
  return a1;
}

uint64_t sub_2596C934C(uint64_t a1, uint64_t a2)
{
  *(void *)(v3 + 96) = a1;
  *(void *)(v3 + 104) = v2;
  *(void *)(v3 + 112) = *(void *)(a2 + 56);
  *(unsigned char *)(v3 + 144) = 0;
  uint64_t v4 = (void *)swift_task_alloc();
  *(void *)(v3 + 120) = v4;
  *uint64_t v4 = v3;
  v4[1] = sub_2596C9404;
  return StoryMusicCurator.requestRecentlyUsedSongs(for:eventRecorder:)();
}

uint64_t sub_2596C9404()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_9();
  *uint64_t v6 = v5;
  uint64_t v7 = *v1;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  *(void *)(v5 + 128) = v0;
  swift_task_dealloc();
  if (!v0) {
    *(void *)(v5 + 136) = v3;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v9, v10, v11);
}

uint64_t sub_2596C94F8()
{
  uint64_t v83 = v0;
  uint64_t v1 = v0[17];
  uint64_t v2 = v0[14];
  sub_259843F00();
  uint64_t v3 = (void *)sub_2596CC06C(v1, v2);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_259843A80();
  __swift_project_value_buffer(v4, (uint64_t)qword_26A3D2050);
  swift_bridgeObjectRetain_n();
  uint64_t v5 = sub_259843A50();
  os_log_type_t v6 = sub_259844B40();
  uint64_t v7 = &unk_25987B000;
  unint64_t v79 = v0;
  uint64_t v75 = v0 + 10;
  if (os_log_type_enabled(v5, v6))
  {
    uint64_t v8 = (uint8_t *)OUTLINED_FUNCTION_54();
    v82[0] = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v8 = 136315138;
    uint64_t v9 = sub_259843F00();
    uint64_t v10 = MEMORY[0x25A2DED80](v9, MEMORY[0x263F8D310]);
    unint64_t v12 = v11;
    swift_bridgeObjectRelease();
    uint64_t v13 = v10;
    uint64_t v7 = (void *)&unk_25987B000;
    v0[9] = sub_259356D5C(v13, v12, v82);
    sub_259844E10();
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_0();
    _os_log_impl(&dword_25934C000, v5, v6, "(Apple Music Search) recentlyUsedIds = %s", v8, 0xCu);
    OUTLINED_FUNCTION_81();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {
    OUTLINED_FUNCTION_112_0();
  }

  sub_259843F00();
  uint64_t v14 = sub_259843F00();
  uint64_t v15 = sub_2596C32B8(v14, v3);
  if (*(void *)(v15 + 16))
  {
    uint64_t v80 = *(void *)(v15 + 16);
    uint64_t v77 = v15;
    uint64_t v16 = sub_259843F00();
    uint64_t v17 = sub_2596C34A0(v16, v3);
    swift_bridgeObjectRetain_n();
    unint64_t v18 = sub_259843A50();
    os_log_type_t v19 = sub_259844B30();
    if (os_log_type_enabled(v18, v19))
    {
      os_log_type_t v74 = v19;
      unint64_t v20 = (_DWORD *)OUTLINED_FUNCTION_54();
      uint64_t v81 = OUTLINED_FUNCTION_20();
      *unint64_t v20 = v7[191];
      uint64_t v21 = *(void *)(v17 + 16);
      uint64_t v22 = MEMORY[0x263F8EE78];
      if (v21)
      {
        uint64_t v73 = v18;
        v82[0] = MEMORY[0x263F8EE78];
        sub_2594F08BC();
        uint64_t v22 = v82[0];
        unint64_t v23 = *(void *)(v82[0] + 16);
        uint64_t v24 = 16 * v23;
        uint64_t v25 = (uint64_t *)(v17 + 48);
        uint64_t v26 = v17;
        do
        {
          uint64_t v27 = *(v25 - 1);
          uint64_t v28 = *v25;
          v82[0] = v22;
          unint64_t v29 = *(void *)(v22 + 24);
          sub_259843F00();
          if (v23 >= v29 >> 1)
          {
            sub_2594F08BC();
            uint64_t v22 = v82[0];
          }
          *(void *)(v22 + 16) = v23 + 1;
          uint64_t v30 = v22 + v24;
          *(void *)(v30 + 32) = v27;
          *(void *)(v30 + 40) = v28;
          v24 += 16;
          v25 += 18;
          ++v23;
          --v21;
        }
        while (v21);
        uint64_t v17 = v26;
        unint64_t v18 = v73;
      }
      MEMORY[0x25A2DED80](v22, MEMORY[0x263F8D310]);
      uint64_t v42 = swift_bridgeObjectRelease();
      uint64_t v44 = OUTLINED_FUNCTION_8_42(v42, v43, &v81);
      OUTLINED_FUNCTION_54_2(v44, v0 + 11);
      sub_259844E10();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v18, v74, "(Apple Music Search) Used song songs Ids: %s");
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();

      uint64_t v7 = &unk_25987B000;
    }
    else
    {
      swift_bridgeObjectRelease_n();
    }
    uint64_t v45 = MEMORY[0x263F8EE78];
    uint64_t v46 = *(void *)(v17 + 16);
    if (v46)
    {
      v82[0] = MEMORY[0x263F8EE78];
      sub_2594F08BC();
      uint64_t v47 = 0;
      uint64_t v48 = v82[0];
      unint64_t v49 = *(void *)(v82[0] + 16);
      uint64_t v50 = 16 * v49;
      uint64_t v51 = v17;
      do
      {
        uint64_t v52 = *(void *)(v51 + v47 + 40);
        uint64_t v53 = *(void *)(v51 + v47 + 48);
        v82[0] = v48;
        unint64_t v54 = *(void *)(v48 + 24);
        sub_259843F00();
        if (v49 >= v54 >> 1)
        {
          sub_2594F08BC();
          uint64_t v48 = v82[0];
        }
        *(void *)(v48 + 16) = v49 + 1;
        uint64_t v55 = v48 + v50;
        *(void *)(v55 + 32) = v52;
        *(void *)(v55 + 40) = v53;
        v50 += 16;
        v47 += 144;
        ++v49;
        --v46;
      }
      while (v46);
      swift_bridgeObjectRelease();
      uint64_t v0 = v79;
      uint64_t v7 = (void *)&unk_25987B000;
      uint64_t v45 = MEMORY[0x263F8EE78];
    }
    else
    {
      swift_bridgeObjectRelease();
      uint64_t v48 = MEMORY[0x263F8EE78];
    }
    uint64_t v56 = v0[13];
    OUTLINED_FUNCTION_57();
    *(void *)(v56 + 488) = v48;
    swift_bridgeObjectRelease();
    uint64_t v41 = v77;
    swift_bridgeObjectRetain_n();
    uint64_t v57 = sub_259843A50();
    os_log_type_t v58 = sub_259844B40();
    if (OUTLINED_FUNCTION_39_27(v58))
    {
      os_log_type_t v76 = v56;
      uint64_t log = v57;
      uint64_t v59 = (uint8_t *)OUTLINED_FUNCTION_54();
      uint64_t v81 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v59 = v7[191];
      v82[0] = v45;
      sub_2594F08BC();
      uint64_t v60 = 0;
      uint64_t v61 = v82[0];
      unint64_t v62 = *(void *)(v82[0] + 16);
      uint64_t v63 = 16 * v62;
      do
      {
        uint64_t v64 = *(void *)(v77 + v60 + 40);
        uint64_t v65 = *(void *)(v77 + v60 + 48);
        v82[0] = v61;
        unint64_t v66 = *(void *)(v61 + 24);
        sub_259843F00();
        if (v62 >= v66 >> 1)
        {
          OUTLINED_FUNCTION_86_14();
          uint64_t v61 = v82[0];
        }
        *(void *)(v61 + 16) = v62 + 1;
        uint64_t v67 = v61 + v63;
        *(void *)(v67 + 32) = v64;
        *(void *)(v67 + 40) = v65;
        v63 += 16;
        v60 += 144;
        ++v62;
        --v80;
      }
      while (v80);
      MEMORY[0x25A2DED80](v61, MEMORY[0x263F8D310]);
      uint64_t v68 = OUTLINED_FUNCTION_60_18();
      uint64_t v70 = OUTLINED_FUNCTION_8_42(v68, v69, &v81);
      OUTLINED_FUNCTION_54_2(v70, v75);
      uint64_t v41 = v77;
      sub_259844E10();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_184_1();
      _os_log_impl(&dword_25934C000, log, v76, "(Apple Music Search) Unused songs Ids: %s", v59, 0xCu);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      OUTLINED_FUNCTION_184_1();
    }
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v31 = (void *)sub_259843A50();
    os_log_type_t v32 = sub_259844B50();
    if (OUTLINED_FUNCTION_91(v32))
    {
      uint64_t v33 = (_DWORD *)OUTLINED_FUNCTION_54();
      v82[0] = OUTLINED_FUNCTION_20();
      *uint64_t v33 = v7[191];
      v0[8] = sub_259356D5C(0xD000000000000044, 0x800000025985FC00, v82);
      sub_259844E10();
      OUTLINED_FUNCTION_22_44(&dword_25934C000, v34, v35, "(Apple Music Search) %s");
      OUTLINED_FUNCTION_297();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }

    uint64_t v37 = v0[12];
    uint64_t v36 = v0[13];
    swift_beginAccess();
    sub_25938464C();
    uint64_t v38 = *(void *)(*(void *)(v36 + 536) + 16);
    sub_259384DEC();
    uint64_t v39 = *(void *)(v36 + 536);
    *(void *)(v39 + 16) = v38 + 1;
    uint64_t v40 = v39 + 16 * v38;
    *(void *)(v40 + 32) = 0xD000000000000044;
    *(void *)(v40 + 40) = 0x800000025985FC00;
    swift_endAccess();
    v82[0] = v37;
    sub_259843F00();
    sub_25947BFF0();
    uint64_t v41 = v82[0];
  }
  OUTLINED_FUNCTION_61();
  return v71(v41);
}

uint64_t sub_2596C9D1C()
{
  OUTLINED_FUNCTION_67();
  return v0();
}

uint64_t sub_2596C9D38(uint64_t a1, uint64_t a2, uint64_t a3)
{
  v4[12] = a3;
  v4[13] = v3;
  v4[11] = a1;
  uint64_t v5 = *(void *)(a2 + 16);
  v4[14] = *v3;
  v4[15] = v5;
  return MEMORY[0x270FA2498](sub_2596C9D88, 0, 0);
}

uint64_t sub_2596C9D88()
{
  uint64_t v44 = v0;
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v1 = sub_259843A80();
  v0[16] = __swift_project_value_buffer(v1, (uint64_t)qword_26A3D2050);
  uint64_t v2 = sub_259843A50();
  os_log_type_t v3 = sub_259844B30();
  if (os_log_type_enabled(v2, v3))
  {
    uint64_t v4 = (uint8_t *)OUTLINED_FUNCTION_41();
    *(_WORD *)uint64_t v4 = 0;
    _os_log_impl(&dword_25934C000, v2, v3, "(Apple Music Search) Run Song Safety validation", v4, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  if ((static StoryMusicCurator.isUserAllowedExplicitContent()() & 1) != 0 && sub_2594379DC(0, v0[15]))
  {
    uint64_t v5 = (void *)sub_259843A50();
    os_log_type_t v6 = sub_259844B30();
    if (OUTLINED_FUNCTION_218(v6))
    {
      uint64_t v7 = (_WORD *)OUTLINED_FUNCTION_41();
      OUTLINED_FUNCTION_149(v7);
      OUTLINED_FUNCTION_156(&dword_25934C000, v8, v9, "(Apple Music Search) Skip safety filter when title is ask for");
      OUTLINED_FUNCTION_61_0();
    }
    uint64_t v10 = v0[11];

    uint64_t v11 = *(void *)(v10 + 16);
    if (v11)
    {
      uint64_t v37 = v0;
      uint64_t v12 = v0[11];
      __dst[0] = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_38_26();
      uint64_t v13 = 0;
      uint64_t v14 = __dst[0];
      uint64_t v15 = (char *)(v12 + 32);
      uint64_t v38 = *(void *)(__dst[0] + 16);
      uint64_t v16 = 16 * v38;
      uint64_t v17 = (uint64_t *)(v12 + 48);
      do
      {
        uint64_t v18 = *v17;
        uint64_t v40 = *(v17 - 1);
        __dst[0] = v14;
        unint64_t v19 = *(void *)(v14 + 24);
        uint64_t v20 = v38 + v13 + 1;
        sub_259843F00();
        if (v38 + v13 >= v19 >> 1)
        {
          OUTLINED_FUNCTION_40_30();
          uint64_t v14 = __dst[0];
        }
        ++v13;
        *(void *)(v14 + 16) = v20;
        uint64_t v21 = v14 + v16;
        *(void *)(v21 + 32) = v40;
        *(void *)(v21 + 40) = v18;
        v16 += 16;
        v17 += 18;
      }
      while (v11 != v13);
      uint64_t v0 = v37;
      uint64_t v27 = v37[13];
      OUTLINED_FUNCTION_57();
      *(void *)(v27 + 512) = v14;
      swift_bridgeObjectRelease();
      uint64_t v42 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_38_26();
      uint64_t v28 = v42;
      do
      {
        memcpy(__dst, v15, sizeof(__dst));
        uint64_t v29 = StoryMusicCurationSong.description.getter();
        uint64_t v31 = v30;
        unint64_t v32 = *(void *)(v42 + 16);
        if (v32 >= *(void *)(v42 + 24) >> 1) {
          OUTLINED_FUNCTION_40_30();
        }
        *(void *)(v42 + 16) = v32 + 1;
        uint64_t v33 = v42 + 16 * v32;
        *(void *)(v33 + 32) = v29;
        *(void *)(v33 + 40) = v31;
        v15 += 144;
        --v11;
      }
      while (v11);
    }
    else
    {
      uint64_t v34 = v0[13];
      OUTLINED_FUNCTION_57();
      uint64_t v28 = MEMORY[0x263F8EE78];
      *(void *)(v34 + 512) = MEMORY[0x263F8EE78];
      swift_bridgeObjectRelease();
    }
    *(void *)(v0[13] + 520) = v28;
    swift_bridgeObjectRelease();
    uint64_t v35 = v0[11];
    OUTLINED_FUNCTION_67();
    uint64_t v41 = v36;
    sub_259843F00();
    return v41(v35);
  }
  else
  {
    uint64_t v22 = (void *)v0[13];
    uint64_t v23 = v22[72];
    __swift_project_boxed_opaque_existential_1(v22 + 68, v22[71]);
    uint64_t v39 = (uint64_t (*)(uint64_t))(*(void *)(v23 + 88) + **(int **)(v23 + 88));
    uint64_t v24 = (void *)swift_task_alloc();
    v0[17] = (uint64_t)v24;
    *uint64_t v24 = v0;
    v24[1] = sub_2596CA188;
    uint64_t v25 = OUTLINED_FUNCTION_104_11(v0[11]);
    return v39(v25);
  }
}

uint64_t sub_2596CA188()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  void *v2 = v1;
  void *v2 = *v0;
  *(void *)(v1 + 144) = v3;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_2596CA258()
{
  uint64_t v115 = v0;
  uint64_t v1 = v0[18];
  uint64_t v2 = *(void *)(v1 + 16);
  if (v2)
  {
    __dst[0] = MEMORY[0x263F8EE78];
    OUTLINED_FUNCTION_22_0();
    uint64_t v3 = __dst[0];
    uint64_t result = sub_25975109C(v1);
    uint64_t v5 = result;
    int v7 = v6;
    uint64_t v100 = v1;
    uint64_t v103 = v1 + 56;
    while ((v5 & 0x8000000000000000) == 0 && v5 < 1 << *(unsigned char *)(v1 + 32))
    {
      if (((*(void *)(v103 + (((unint64_t)v5 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v5) & 1) == 0) {
        goto LABEL_43;
      }
      if (*(_DWORD *)(v1 + 36) != v7) {
        goto LABEL_44;
      }
      uint64_t v8 = *(void *)(v1 + 48) + 144 * v5;
      uint64_t v9 = *(void *)(v8 + 8);
      uint64_t v10 = *(void *)(v8 + 16);
      __dst[0] = v3;
      unint64_t v12 = *(void *)(v3 + 16);
      unint64_t v11 = *(void *)(v3 + 24);
      sub_259843F00();
      if (v12 >= v11 >> 1)
      {
        OUTLINED_FUNCTION_72_16();
        OUTLINED_FUNCTION_86_14();
        uint64_t v3 = __dst[0];
      }
      *(void *)(v3 + 16) = v12 + 1;
      uint64_t v13 = v3 + 16 * v12;
      *(void *)(v13 + 32) = v9;
      *(void *)(v13 + 40) = v10;
      uint64_t result = sub_259750FB4(v5);
      uint64_t v5 = result;
      int v7 = v14;
      --v2;
      uint64_t v1 = v100;
      if (!v2)
      {
        uint64_t v0 = (void *)v108;
        sub_2593980EC(result, v14, v15 & 1);
        swift_bridgeObjectRelease();
        goto LABEL_12;
      }
    }
    __break(1u);
LABEL_43:
    __break(1u);
LABEL_44:
    __break(1u);
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v3 = MEMORY[0x263F8EE78];
LABEL_12:
    uint64_t v17 = v0 + 11;
    uint64_t v16 = v0[11];
    uint64_t v104 = sub_259737700(v3);
    uint64_t v18 = *(void *)(v16 + 16);
    uint64_t v19 = MEMORY[0x263F8EE78];
    uint64_t v101 = (uint64_t)(v0 + 11);
    if (v18)
    {
      uint64_t v20 = *v17;
      __dst[0] = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_22_0();
      uint64_t v19 = __dst[0];
      unint64_t v21 = *(void *)(__dst[0] + 16);
      uint64_t v22 = 16 * v21;
      uint64_t v23 = (uint64_t *)(v20 + 48);
      uint64_t v24 = v18;
      do
      {
        uint64_t v26 = *(v23 - 1);
        uint64_t v25 = *v23;
        __dst[0] = v19;
        unint64_t v27 = *(void *)(v19 + 24);
        sub_259843F00();
        if (v21 >= v27 >> 1)
        {
          OUTLINED_FUNCTION_72_16();
          sub_2594F08BC();
          uint64_t v19 = __dst[0];
        }
        *(void *)(v19 + 16) = v21 + 1;
        uint64_t v28 = v19 + v22;
        *(void *)(v28 + 32) = v26;
        *(void *)(v28 + 40) = v25;
        v22 += 16;
        v23 += 18;
        ++v21;
        --v24;
      }
      while (v24);
      uint64_t v0 = (void *)v108;
      uint64_t v17 = (uint64_t *)v101;
    }
    uint64_t v98 = (uint64_t)(v0 + 2);
    uint64_t v29 = sub_259737700(v19);
    uint64_t v30 = v104;
    uint64_t v31 = sub_25949F604(v104, v29);
    uint64_t v32 = v31;
    uint64_t v33 = MEMORY[0x263F8EE78];
    if (v18)
    {
      uint64_t type = v31;
      uint64_t v34 = *v17;
      __dst[0] = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_22_0();
      uint64_t v33 = __dst[0];
      unint64_t v35 = *(void *)(__dst[0] + 16);
      uint64_t v36 = 16 * v35;
      uint64_t v37 = (uint64_t *)(v34 + 48);
      do
      {
        uint64_t v38 = *(v37 - 1);
        uint64_t v39 = *v37;
        __dst[0] = v33;
        unint64_t v40 = *(void *)(v33 + 24);
        sub_259843F00();
        if (v35 >= v40 >> 1)
        {
          OUTLINED_FUNCTION_72_16();
          sub_2594F08BC();
          uint64_t v33 = __dst[0];
        }
        *(void *)(v33 + 16) = v35 + 1;
        uint64_t v41 = v33 + v36;
        *(void *)(v41 + 32) = v38;
        *(void *)(v41 + 40) = v39;
        v36 += 16;
        v37 += 18;
        ++v35;
        --v18;
      }
      while (v18);
      uint64_t v30 = v104;
      uint64_t v32 = type;
    }
    uint64_t v42 = v0;
    uint64_t v43 = v0[11];
    uint64_t v44 = sub_259737700(v33);
    sub_259843F00();
    uint64_t v45 = sub_259843F00();
    uint64_t v46 = sub_2593F8264(v45, v30);
    uint64_t v47 = sub_25949F604(v46, v44);
    swift_bridgeObjectRelease();
    sub_259843F00();
    sub_259843F00();
    uint64_t v48 = sub_2596C36A0(v43, v47);
    sub_259843F00();
    sub_259843F00();
    uint64_t v105 = sub_2596C36A0(v43, v30);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    unint64_t v49 = sub_259843A50();
    os_log_type_t v50 = sub_259844B30();
    if (OUTLINED_FUNCTION_45(v50))
    {
      LODWORD(type) = v0;
      uint64_t v51 = v32;
      uint64_t v52 = v0 + 10;
      uint64_t v53 = OUTLINED_FUNCTION_20();
      *(_DWORD *)uint64_t v53 = 134218496;
      v0[8] = *(void *)(v30 + 16);
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v53 + 12) = 2048;
      v0[9] = *(void *)(v51 + 16);
      uint64_t v42 = v0;
      sub_259844E10();
      swift_bridgeObjectRelease();
      *(_WORD *)(v53 + 22) = 2048;
      uint64_t v54 = *(void *)(v47 + 16);
      swift_bridgeObjectRelease();
      *uint64_t v52 = v54;
      uint64_t v32 = v51;
      sub_259844E10();
      swift_bridgeObjectRelease();
      _os_log_impl(&dword_25934C000, v49, (os_log_type_t)type, "(Apple Music Search) sanitizeAppleMusicSongs: safe: %ld unsafe: %ld unchecked: %ld", (uint8_t *)v53, 0x20u);
      OUTLINED_FUNCTION_61_0();
    }
    else
    {
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
    }

    uint64_t v55 = v42[13];
    sub_25953BECC(v30, v56, v57, v58, v59, v60, v61, v62, v94, type, v98, v101, v105, v108, v111, __dst[0], __dst[1], __dst[2], __dst[3],
      __dst[4],
      __dst[5],
      __dst[6],
      __dst[7],
      __dst[8],
      __dst[9],
      __dst[10]);
    uint64_t v64 = v63;
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_57();
    *(void *)(v55 + 496) = v64;
    swift_bridgeObjectRelease();
    sub_25953BECC(v32, v65, v66, v67, v68, v69, v70, v71, v95, typea, v99, v102, v106, v109, v112, __dst[0], __dst[1], __dst[2], __dst[3],
      __dst[4],
      __dst[5],
      __dst[6],
      __dst[7],
      __dst[8],
      __dst[9],
      __dst[10]);
    uint64_t v73 = v72;
    swift_bridgeObjectRelease();
    *(void *)(v55 + 504) = v73;
    swift_bridgeObjectRelease();
    uint64_t v74 = *(void *)(v48 + 16);
    if (v74)
    {
      __dst[0] = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_38_26();
      uint64_t v75 = 0;
      uint64_t v76 = __dst[0];
      unint64_t v77 = *(void *)(__dst[0] + 16);
      uint64_t v78 = 16 * v77;
      do
      {
        uint64_t v80 = *(void *)(v48 + v75 + 40);
        uint64_t v79 = *(void *)(v48 + v75 + 48);
        __dst[0] = v76;
        unint64_t v81 = *(void *)(v76 + 24);
        sub_259843F00();
        if (v77 >= v81 >> 1)
        {
          sub_2594F08BC();
          uint64_t v76 = __dst[0];
        }
        *(void *)(v76 + 16) = v77 + 1;
        uint64_t v82 = v76 + v78;
        *(void *)(v82 + 32) = v80;
        *(void *)(v82 + 40) = v79;
        v78 += 16;
        v75 += 144;
        ++v77;
        --v74;
      }
      while (v74);
      swift_bridgeObjectRelease();
      uint64_t v83 = v110;
    }
    else
    {
      uint64_t v83 = v42;
      swift_bridgeObjectRelease();
      uint64_t v76 = MEMORY[0x263F8EE78];
    }
    *(void *)(v83[13] + 512) = v76;
    swift_bridgeObjectRelease();
    uint64_t v84 = *(void *)(v107 + 16);
    uint64_t v85 = MEMORY[0x263F8EE78];
    if (v84)
    {
      uint64_t v113 = MEMORY[0x263F8EE78];
      OUTLINED_FUNCTION_38_26();
      uint64_t v85 = v113;
      os_log_type_t v86 = (char *)(v107 + 32);
      do
      {
        memcpy(__dst, v86, 0x90uLL);
        uint64_t v87 = StoryMusicCurationSong.description.getter();
        uint64_t v89 = v88;
        unint64_t v91 = *(void *)(v113 + 16);
        unint64_t v90 = *(void *)(v113 + 24);
        if (v91 >= v90 >> 1)
        {
          OUTLINED_FUNCTION_209(v90);
          sub_2594F08BC();
        }
        *(void *)(v113 + 16) = v91 + 1;
        uint64_t v92 = v113 + 16 * v91;
        *(void *)(v92 + 32) = v87;
        *(void *)(v92 + 40) = v89;
        v86 += 144;
        --v84;
      }
      while (v84);
    }
    *(void *)(v83[13] + 520) = v85;
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_61();
    return v93(v107);
  }
  return result;
}

uint64_t StoryMusicCurator.inflateAndSort(songs:using:sortUpToIndex:eventRecorder:)()
{
  OUTLINED_FUNCTION_25();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  v1[11] = v6;
  v1[12] = v0;
  v1[9] = v4;
  v1[10] = v7;
  uint64_t v8 = (void *)swift_task_alloc();
  v1[13] = v8;
  void *v8 = v1;
  v8[1] = sub_2596CA998;
  return sub_2596CB85C(v5, v3);
}

uint64_t sub_2596CA998()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_0_2();
  uint64_t v7 = v6;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  uint64_t v9 = *v1;
  OUTLINED_FUNCTION_9();
  *uint64_t v10 = v9;
  v7[14] = v0;
  swift_task_dealloc();
  if (v0)
  {
    OUTLINED_FUNCTION_160();
    __asm { BRAA            X1, X16 }
  }
  v7[15] = v3;
  v7[16] = v5;
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_160();
  return MEMORY[0x270FA2498](v13, v14, v15);
}

void sub_2596CAABC()
{
  char v155 = v0;
  Class isa = v0[14].isa;
  v153[0] = 0xD000000000000002;
  v153[1] = 0x800000025985FAB0;
  sub_259844240();
  sub_259844240();
  uint64_t v2 = static MusicCurationJsonParser.musicCurationSongs(fromAppleMusicJson:from:songType:)(0xD00000000000001CLL, 0x800000025985FAB0, 0xD000000000000017, 0x800000025985FAD0, (char *)v153);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (isa)
  {
    OUTLINED_FUNCTION_15_1();
    OUTLINED_FUNCTION_127();
    __asm { BRAA            X1, X16 }
  }
  Class v5 = v0[9].isa;
  uint64_t v6 = *((void *)v5 + 2);
  uint64_t v7 = (void *)MEMORY[0x263F8EE78];
  if (v6)
  {
    uint64_t v148 = v2;
    v153[0] = MEMORY[0x263F8EE78];
    OUTLINED_FUNCTION_22_0();
    uint64_t v7 = (void *)v153[0];
    unint64_t v8 = *(void *)(v153[0] + 16);
    uint64_t v9 = 2 * v8;
    uint64_t v10 = (uint64_t *)((char *)v5 + 48);
    do
    {
      uint64_t v12 = *(v10 - 1);
      uint64_t v11 = *v10;
      v153[0] = (uint64_t)v7;
      Class v5 = (Class)(v8 + 1);
      unint64_t v13 = v7[3];
      sub_259843F00();
      if (v8 >= v13 >> 1)
      {
        sub_2594F08BC();
        uint64_t v7 = (void *)v153[0];
      }
      v7[2] = v5;
      uint64_t v14 = &v7[v9];
      v14[4] = v12;
      v14[5] = v11;
      v9 += 2;
      v10 += 18;
      ++v8;
      --v6;
    }
    while (v6);
    uint64_t v2 = v148;
  }
  v153[0] = v2;
  sub_259843F00();
  sub_259843F00();
  sub_2596CDC58(v153, v7);
  uint64_t v15 = v153[0];
  Swift::UInt v16 = StoryMusicCurator.sortByMoodUpToIndexOverride(_:)((Swift::UInt)v0[11].isa);
  if (v16)
  {
    uint64_t v149 = v2;
    Swift::UInt v17 = *(void *)(v15 + 16);
    if (v17 >= v16) {
      unint64_t v18 = v16;
    }
    else {
      unint64_t v18 = *(void *)(v15 + 16);
    }
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v19 = sub_259843A80();
    __swift_project_value_buffer(v19, (uint64_t)qword_26A3D2050);
    uint64_t v20 = sub_259843A50();
    os_log_type_t v21 = sub_259844B30();
    uint64_t v145 = v15;
    if (OUTLINED_FUNCTION_91(v21))
    {
      *(_DWORD *)OUTLINED_FUNCTION_54() = 134217984;
      v0[8].Class isa = (Class)v18;
      sub_259844E10();
      OUTLINED_FUNCTION_94_12(&dword_25934C000, v20, (os_log_type_t)v5, "(Apple Music Search) Sorting songs by mood up to adjusted index %ld");
      OUTLINED_FUNCTION_61_0();
    }

    if (*(void *)(v15 + 16) >= v18)
    {
      uint64_t v22 = (uint64_t)v0[10].isa;
      uint64_t v23 = swift_retain();
      uint64_t v24 = sub_259433308(v23, v15 + 32, 0, (2 * v18) | 1);
      uint64_t v25 = sub_2596C383C(v18, v15);
      uint64_t v29 = sub_259433308(v25, v26, v27, v28);
      uint64_t v141 = v24;
      v153[0] = static StoryMusicCurationSong.sortSongsByMood(_:mood:)(v24, v22);
      sub_259843F00();
      uint64_t v144 = v29;
      sub_259740350();
      uint64_t v152 = v153[0];
      sub_259843F00();
      uint64_t v30 = (void *)sub_259843A50();
      os_log_type_t v31 = sub_259844B40();
      uint64_t v32 = &unk_25987B000;
      if (OUTLINED_FUNCTION_91(v31))
      {
        uint64_t v33 = (_DWORD *)OUTLINED_FUNCTION_54();
        uint64_t v132 = OUTLINED_FUNCTION_20();
        v153[0] = v132;
        *uint64_t v33 = 136315138;
        uint64_t v34 = sub_259843F00();
        uint64_t v35 = MEMORY[0x25A2DED80](v34, MEMORY[0x263F8D310]);
        unint64_t v37 = v36;
        swift_bridgeObjectRelease();
        v0[7].Class isa = (Class)sub_259356D5C(v35, v37, v153);
        sub_259844E10();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_112_0();
        OUTLINED_FUNCTION_22_44(&dword_25934C000, v38, v39, "(Apple Music Search) songs before   = %s");
        LOBYTE(v32) = v132;
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        OUTLINED_FUNCTION_112_0();
      }

      os_log_t log = v0 + 6;
      sub_259843F00();
      uint64_t v46 = sub_259843A50();
      os_log_type_t v47 = sub_259844B40();
      uint64_t v48 = v152;
      os_log_type_t v143 = v0;
      if (os_log_type_enabled(v46, v47))
      {
        os_log_type_t v130 = v47;
        unint64_t v49 = (uint8_t *)OUTLINED_FUNCTION_54();
        v154[0] = OUTLINED_FUNCTION_20();
        uint64_t v133 = v49;
        *(_DWORD *)unint64_t v49 = 136315138;
        uint64_t v50 = *(void *)(v149 + 16);
        uint64_t v51 = MEMORY[0x263F8EE78];
        if (v50)
        {
          v153[0] = MEMORY[0x263F8EE78];
          OUTLINED_FUNCTION_22_0();
          uint64_t v51 = v153[0];
          unint64_t v52 = *(void *)(v153[0] + 16);
          uint64_t v53 = 16 * v52;
          uint64_t v54 = (uint64_t *)(v149 + 48);
          do
          {
            uint64_t v56 = *(v54 - 1);
            uint64_t v55 = *v54;
            v153[0] = v51;
            unint64_t v57 = *(void *)(v51 + 24);
            sub_259843F00();
            if (v52 >= v57 >> 1)
            {
              OUTLINED_FUNCTION_69_16();
              uint64_t v51 = v153[0];
            }
            *(void *)(v51 + 16) = v52 + 1;
            uint64_t v58 = v51 + v53;
            *(void *)(v58 + 32) = v56;
            *(void *)(v58 + 40) = v55;
            v53 += 16;
            v54 += 18;
            ++v52;
            --v50;
          }
          while (v50);
          uint64_t v0 = v143;
        }
        LOBYTE(v32) = (_BYTE)v133 + 4;
        uint64_t v60 = MEMORY[0x25A2DED80](v51, MEMORY[0x263F8D310]);
        unint64_t v62 = v61;
        swift_bridgeObjectRelease();
        uint64_t v63 = sub_259356D5C(v60, v62, v154);
        OUTLINED_FUNCTION_54_2(v63, log);
        sub_259844E10();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_25934C000, v46, v130, "(Apple Music Search) songsInflated  = %s", v133, 0xCu);
        OUTLINED_FUNCTION_81();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();

        uint64_t v59 = &unk_25987B000;
        uint64_t v48 = v152;
      }
      else
      {
        swift_bridgeObjectRelease_n();

        uint64_t v59 = (void *)&unk_25987B000;
      }
      uint64_t v64 = (uint64_t *)&v0[5];
      swift_retain();
      uint64_t v65 = sub_259843A50();
      os_log_type_t v66 = sub_259844B40();
      if (OUTLINED_FUNCTION_39_27(v66))
      {
        os_log_type_t v134 = v32;
        os_log_type_t v135 = v65;
        uint64_t v67 = (_DWORD *)OUTLINED_FUNCTION_54();
        uint64_t v131 = OUTLINED_FUNCTION_20();
        v154[0] = v131;
        *uint64_t v67 = v59[191];
        uint64_t v68 = MEMORY[0x263F8EE78];
        if (v17)
        {
          uint64_t v150 = v0 + 5;
          v153[0] = MEMORY[0x263F8EE78];
          sub_2594F08BC();
          uint64_t v68 = v153[0];
          unint64_t v69 = *(void *)(v153[0] + 16);
          uint64_t v70 = 16 * v69;
          uint64_t v71 = (uint64_t *)(v145 + 48);
          do
          {
            uint64_t v72 = *(v71 - 1);
            uint64_t v73 = *v71;
            v153[0] = v68;
            unint64_t v74 = *(void *)(v68 + 24);
            sub_259843F00();
            if (v69 >= v74 >> 1)
            {
              OUTLINED_FUNCTION_69_16();
              uint64_t v68 = v153[0];
            }
            *(void *)(v68 + 16) = v69 + 1;
            uint64_t v75 = v68 + v70;
            *(void *)(v75 + 32) = v72;
            *(void *)(v75 + 40) = v73;
            v70 += 16;
            v71 += 18;
            ++v69;
            --v17;
          }
          while (v17);
          uint64_t v0 = v143;
          uint64_t v64 = (uint64_t *)v150;
          uint64_t v48 = v152;
          uint64_t v59 = &unk_25987B000;
        }
        uint64_t v76 = MEMORY[0x25A2DED80](v68, MEMORY[0x263F8D310]);
        unint64_t v78 = v77;
        swift_bridgeObjectRelease();
        *uint64_t v64 = sub_259356D5C(v76, v78, v154);
        sub_259844E10();
        swift_bridgeObjectRelease();
        swift_release_n();
        OUTLINED_FUNCTION_94_12(&dword_25934C000, v135, v134, "(Apple Music Search) sortedInflated = %s");
        LOBYTE(v32) = v131;
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_release_n();
      }
      uint64_t v146 = v0 + 4;
      sub_259843F00();
      uint64_t v79 = sub_259843A50();
      os_log_type_t v80 = sub_259844B40();
      uint64_t v81 = v144;
      if (OUTLINED_FUNCTION_39_27(v80))
      {
        os_log_type_t v136 = v32;
        loga = v79;
        uint64_t v82 = (uint8_t *)OUTLINED_FUNCTION_54();
        v154[0] = OUTLINED_FUNCTION_20();
        *(_DWORD *)uint64_t v82 = v59[191];
        uint64_t v83 = *(void *)(v141 + 16);
        uint64_t v84 = MEMORY[0x263F8EE78];
        if (v83)
        {
          v153[0] = MEMORY[0x263F8EE78];
          OUTLINED_FUNCTION_36_26();
          uint64_t v84 = v153[0];
          unint64_t v85 = *(void *)(v153[0] + 16);
          uint64_t v86 = 16 * v85;
          uint64_t v87 = (uint64_t *)(v141 + 48);
          do
          {
            uint64_t v88 = *(v87 - 1);
            uint64_t v89 = *v87;
            v153[0] = v84;
            unint64_t v90 = *(void *)(v84 + 24);
            sub_259843F00();
            if (v85 >= v90 >> 1)
            {
              OUTLINED_FUNCTION_40_30();
              uint64_t v84 = v153[0];
            }
            *(void *)(v84 + 16) = v85 + 1;
            uint64_t v91 = v84 + v86;
            *(void *)(v91 + 32) = v88;
            *(void *)(v91 + 40) = v89;
            v86 += 16;
            v87 += 18;
            ++v85;
            --v83;
          }
          while (v83);
          uint64_t v59 = &unk_25987B000;
          uint64_t v81 = v144;
        }
        LOBYTE(v32) = (_BYTE)v82 + 4;
        MEMORY[0x25A2DED80](v84, MEMORY[0x263F8D310]);
        uint64_t v92 = OUTLINED_FUNCTION_60_18();
        uint64_t v94 = OUTLINED_FUNCTION_8_42(v92, v93, v154);
        OUTLINED_FUNCTION_88_14(v94, v146);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_25934C000, loga, v136, "(Apple Music Search) sliceToSort    = %s", v82, 0xCu);
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();

        uint64_t v0 = v143;
        uint64_t v48 = v152;
      }
      else
      {
        swift_bridgeObjectRelease_n();
      }
      uint64_t v151 = v0 + 3;
      sub_259843F00();
      uint64_t v95 = sub_259843A50();
      os_log_type_t v96 = sub_259844B40();
      if (OUTLINED_FUNCTION_39_27(v96))
      {
        os_log_type_t logb = v32;
        uint64_t v142 = v95;
        char v97 = (_DWORD *)OUTLINED_FUNCTION_54();
        v154[0] = OUTLINED_FUNCTION_20();
        *char v97 = v59[191];
        uint64_t v98 = *(void *)(v81 + 16);
        uint64_t v99 = MEMORY[0x263F8EE78];
        if (v98)
        {
          v153[0] = MEMORY[0x263F8EE78];
          OUTLINED_FUNCTION_36_26();
          uint64_t v99 = v153[0];
          unint64_t v100 = *(void *)(v153[0] + 16);
          uint64_t v101 = v81;
          uint64_t v102 = 16 * v100;
          uint64_t v103 = (uint64_t *)(v101 + 48);
          do
          {
            uint64_t v104 = *(v103 - 1);
            uint64_t v105 = *v103;
            v153[0] = v99;
            unint64_t v106 = *(void *)(v99 + 24);
            sub_259843F00();
            if (v100 >= v106 >> 1)
            {
              OUTLINED_FUNCTION_86_14();
              uint64_t v99 = v153[0];
            }
            *(void *)(v99 + 16) = v100 + 1;
            uint64_t v107 = v99 + v102;
            *(void *)(v107 + 32) = v104;
            *(void *)(v107 + 40) = v105;
            v102 += 16;
            v103 += 18;
            ++v100;
            --v98;
          }
          while (v98);
          uint64_t v0 = v143;
          uint64_t v48 = v152;
          uint64_t v59 = &unk_25987B000;
        }
        uint64_t v108 = MEMORY[0x25A2DED80](v99, MEMORY[0x263F8D310]);
        unint64_t v110 = v109;
        swift_bridgeObjectRelease();
        uint64_t v111 = sub_259356D5C(v108, v110, v154);
        OUTLINED_FUNCTION_54_2(v111, v151);
        sub_259844E10();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_184_1();
        OUTLINED_FUNCTION_94_12(&dword_25934C000, v142, logb, "(Apple Music Search) sliceNotSorted = %s");
        swift_arrayDestroy();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        OUTLINED_FUNCTION_184_1();
      }
      swift_bridgeObjectRetain_n();
      uint64_t v112 = sub_259843A50();
      os_log_type_t v113 = sub_259844B40();
      if (os_log_type_enabled(v112, v113))
      {
        os_log_type_t v147 = v113;
        uint64_t v114 = (uint8_t *)OUTLINED_FUNCTION_54();
        v154[0] = OUTLINED_FUNCTION_20();
        *(_DWORD *)uint64_t v114 = v59[191];
        uint64_t v115 = *(void *)(v48 + 16);
        uint64_t v116 = MEMORY[0x263F8EE78];
        if (v115)
        {
          os_log_t logc = (os_log_t)v114;
          v153[0] = MEMORY[0x263F8EE78];
          sub_259843F00();
          OUTLINED_FUNCTION_36_26();
          uint64_t v117 = 0;
          uint64_t v116 = v153[0];
          unint64_t v118 = *(void *)(v153[0] + 16);
          uint64_t v119 = 16 * v118;
          do
          {
            uint64_t v120 = *(void *)(v152 + v117 + 40);
            uint64_t v121 = *(void *)(v152 + v117 + 48);
            v153[0] = v116;
            unint64_t v122 = *(void *)(v116 + 24);
            sub_259843F00();
            if (v118 >= v122 >> 1)
            {
              OUTLINED_FUNCTION_40_30();
              uint64_t v116 = v153[0];
            }
            *(void *)(v116 + 16) = v118 + 1;
            uint64_t v123 = v116 + v119;
            *(void *)(v123 + 32) = v120;
            *(void *)(v123 + 40) = v121;
            v119 += 16;
            v117 += 144;
            ++v118;
            --v115;
          }
          while (v115);
          swift_bridgeObjectRelease();
          uint64_t v114 = (uint8_t *)logc;
        }
        uint64_t v124 = MEMORY[0x25A2DED80](v116, MEMORY[0x263F8D310]);
        unint64_t v126 = v125;
        swift_bridgeObjectRelease();
        uint64_t v127 = sub_259356D5C(v124, v126, v154);
        OUTLINED_FUNCTION_88_14(v127, &v0[2].isa);
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        _os_log_impl(&dword_25934C000, v112, v147, "(Apple Music Search) finalSongs     = %s", v114, 0xCu);
        OUTLINED_FUNCTION_81();
        OUTLINED_FUNCTION_61_0();
        OUTLINED_FUNCTION_61_0();
      }
      else
      {
        swift_bridgeObjectRelease_n();
      }

      goto LABEL_73;
    }
    __break(1u);
  }
  else
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (qword_26A388C48 == -1)
    {
LABEL_23:
      uint64_t v40 = sub_259843A80();
      __swift_project_value_buffer(v40, (uint64_t)qword_26A3D2050);
      uint64_t v41 = (void *)sub_259843A50();
      os_log_type_t v42 = sub_259844B40();
      if (OUTLINED_FUNCTION_218(v42))
      {
        uint64_t v43 = (_WORD *)OUTLINED_FUNCTION_41();
        OUTLINED_FUNCTION_149(v43);
        OUTLINED_FUNCTION_156(&dword_25934C000, v44, v45, "(Apple Music Search) No mood sorting was done for the search songs");
        OUTLINED_FUNCTION_61_0();
      }

LABEL_73:
      OUTLINED_FUNCTION_61();
      OUTLINED_FUNCTION_127();
      __asm { BRAA            X2, X16 }
    }
  }
  swift_once();
  goto LABEL_23;
}

uint64_t sub_2596CB85C(uint64_t a1, uint64_t a2)
{
  v3[3] = a2;
  v3[4] = v2;
  v3[2] = a1;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v4, v5, v6);
}

uint64_t sub_2596CB884()
{
  uint64_t v1 = *(void *)(v0[2] + 16);
  if (v1)
  {
    uint64_t v2 = (uint64_t *)(sub_259843F00() + 48);
    uint64_t v3 = MEMORY[0x263F8EE78];
    do
    {
      uint64_t v5 = *(v2 - 1);
      uint64_t v4 = *v2;
      sub_259843F00();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        OUTLINED_FUNCTION_75();
        sub_25938553C();
        uint64_t v3 = v8;
      }
      unint64_t v6 = *(void *)(v3 + 16);
      if (v6 >= *(void *)(v3 + 24) >> 1)
      {
        sub_25938553C();
        uint64_t v3 = v9;
      }
      *(void *)(v3 + 16) = v6 + 1;
      uint64_t v7 = v3 + 16 * v6;
      *(void *)(v7 + 32) = v5;
      *(void *)(v7 + 40) = v4;
      v2 += 18;
      --v1;
    }
    while (v1);
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v3 = MEMORY[0x263F8EE78];
  }
  v0[5] = v3;
  uint64_t v10 = (void *)swift_task_alloc();
  v0[6] = v10;
  *uint64_t v10 = v0;
  v10[1] = sub_2596CB9E8;
  return StoryMusicCurator.requestAndCacheAppleMusicSongs(with:eventRecorder:)();
}

uint64_t sub_2596CB9E8()
{
  OUTLINED_FUNCTION_247();
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  OUTLINED_FUNCTION_0_2();
  uint64_t v7 = v6;
  OUTLINED_FUNCTION_9();
  void *v8 = v7;
  uint64_t v9 = *v1;
  OUTLINED_FUNCTION_9();
  *uint64_t v10 = v9;
  v7[7] = v0;
  swift_task_dealloc();
  if (!v0)
  {
    v7[8] = v3;
    v7[9] = v5;
  }
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_160();
  return MEMORY[0x270FA2498](v11, v12, v13);
}

uint64_t sub_2596CBAE4()
{
  OUTLINED_FUNCTION_14();
  swift_bridgeObjectRelease();
  uint64_t v1 = (uint64_t (*)(uint64_t, uint64_t))v0[1];
  uint64_t v3 = v0[8];
  uint64_t v2 = v0[9];
  return v1(v2, v3);
}

uint64_t sub_2596CBB48()
{
  OUTLINED_FUNCTION_14();
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_67();
  return v0();
}

Swift::UInt __swiftcall StoryMusicCurator.sortByMoodUpToIndexOverride(_:)(Swift::UInt a1)
{
  uint64_t v2 = self;
  id v3 = objc_msgSend(v2, sel_appleMusicSmartSearchMode);
  sub_2598440A0();

  sub_259399328();
  LOBYTE(v3) = sub_259844EC0();
  swift_bridgeObjectRelease();
  if ((v3 & 1) == 0) {
    return a1;
  }
  id v4 = objc_msgSend(v2, sel_appleMusicSmartSearchMode);
  sub_2598440A0();

  uint64_t v5 = static StoryMusicCurator.dictionaryFromCommasString(using:)();
  swift_bridgeObjectRelease();
  if (!*(void *)(v5 + 16)) {
    goto LABEL_16;
  }
  sub_259843F00();
  sub_25939CE90();
  char v7 = v6;
  swift_bridgeObjectRelease();
  if ((v7 & 1) == 0) {
    goto LABEL_16;
  }
  uint64_t v8 = sub_25976E81C(0xD000000000000015, 0x800000025985FAF0, v5);
  unint64_t v10 = v9;
  Swift::UInt result = swift_bridgeObjectRelease();
  if (!v10) {
    return a1;
  }
  uint64_t v12 = HIBYTE(v10) & 0xF;
  uint64_t v13 = v8 & 0xFFFFFFFFFFFFLL;
  if (!((v10 & 0x2000000000000000) != 0 ? HIBYTE(v10) & 0xF : v8 & 0xFFFFFFFFFFFFLL))
  {
LABEL_16:
    swift_bridgeObjectRelease();
    return a1;
  }
  if ((v10 & 0x1000000000000000) != 0)
  {
    Swift::UInt v16 = sub_259540CF8(v8, v10, 10);
    LOBYTE(v8) = v41;
    goto LABEL_57;
  }
  if ((v10 & 0x2000000000000000) == 0)
  {
    if ((v8 & 0x1000000000000000) != 0) {
      uint64_t v15 = (unsigned __int8 *)((v10 & 0xFFFFFFFFFFFFFFFLL) + 32);
    }
    else {
      uint64_t v15 = (unsigned __int8 *)sub_259845200();
    }
    Swift::UInt v16 = (Swift::UInt)sub_259540CC8(v15, v13);
    LOBYTE(v8) = v17 & 1;
LABEL_57:
    swift_bridgeObjectRelease();
    if ((v8 & 1) == 0)
    {
      if (qword_26A388C48 != -1) {
        swift_once();
      }
      uint64_t v35 = sub_259843A80();
      __swift_project_value_buffer(v35, (uint64_t)qword_26A3D2050);
      unint64_t v36 = sub_259843A50();
      os_log_type_t v37 = sub_259844B30();
      if (os_log_type_enabled(v36, v37))
      {
        uint64_t v38 = (uint8_t *)OUTLINED_FUNCTION_54();
        *(_DWORD *)uint64_t v38 = 134217984;
        sub_259844E10();
        _os_log_impl(&dword_25934C000, v36, v37, "(Apple Music Search) sortByMoodUpToIndexOverride = %lu", v38, 0xCu);
        OUTLINED_FUNCTION_61_0();
      }

      return v16;
    }
    return a1;
  }
  if (v8 == 43)
  {
    if (!v12) {
      goto LABEL_73;
    }
    if (v12 == 1) {
      goto LABEL_41;
    }
    OUTLINED_FUNCTION_4_20();
    if (!v21 && v20) {
      goto LABEL_41;
    }
    Swift::UInt v16 = v24;
    if (v23 != 2)
    {
      OUTLINED_FUNCTION_4_20();
      if (!v21 && v20) {
        goto LABEL_41;
      }
      Swift::UInt v16 = 10 * v16 + v26;
      if (v25 != 3)
      {
        while (1)
        {
          OUTLINED_FUNCTION_14_1();
          if (!v21 && v20) {
            goto LABEL_41;
          }
          if (!is_mul_ok(v16, v27)) {
            goto LABEL_41;
          }
          BOOL v20 = __CFADD__(10 * v16, v28);
          Swift::UInt v16 = 10 * v16 + v28;
          if (v20) {
            goto LABEL_41;
          }
          OUTLINED_FUNCTION_67_19();
          if (v21) {
            goto LABEL_57;
          }
        }
      }
    }
LABEL_56:
    LOBYTE(v8) = 0;
    goto LABEL_57;
  }
  if (v8 != 45)
  {
    if (!v12 || (v8 - 48) > 9u) {
      goto LABEL_41;
    }
    Swift::UInt v16 = (v8 - 48);
    if (v12 != 1)
    {
      OUTLINED_FUNCTION_4_20();
      if (!v21 && v20) {
        goto LABEL_41;
      }
      Swift::UInt v16 = 10 * (v8 - 48) + v30;
      if (v29 != 2)
      {
        while (1)
        {
          OUTLINED_FUNCTION_14_1();
          if (!v21 && v20) {
            goto LABEL_41;
          }
          if (!is_mul_ok(v16, v31)) {
            goto LABEL_41;
          }
          BOOL v20 = __CFADD__(10 * v16, v32);
          Swift::UInt v16 = 10 * v16 + v32;
          if (v20) {
            goto LABEL_41;
          }
          OUTLINED_FUNCTION_67_19();
          if (v21) {
            goto LABEL_57;
          }
        }
      }
    }
    goto LABEL_56;
  }
  if (v12)
  {
    if (v12 != 1)
    {
      OUTLINED_FUNCTION_4_20();
      if (v21 || !v20)
      {
        Swift::UInt v16 = 0;
        BOOL v20 = v19 == 0;
        unint64_t v22 = -(uint64_t)v19;
        if (!v20) {
          goto LABEL_42;
        }
        if (v18 == 2)
        {
          LOBYTE(v8) = 0;
          Swift::UInt v16 = v22;
          goto LABEL_57;
        }
        unsigned __int8 v33 = BYTE2(v8) - 48;
        if ((BYTE2(v8) - 48) <= 9u && is_mul_ok(v22, 0xAuLL))
        {
          unint64_t v34 = 10 * v22;
          Swift::UInt v16 = v34 - v33;
          if (v34 >= v33)
          {
            if (v18 == 3) {
              goto LABEL_56;
            }
            while (1)
            {
              OUTLINED_FUNCTION_14_1();
              if (!v21 && v20) {
                break;
              }
              if (!is_mul_ok(v16, v39)) {
                break;
              }
              BOOL v20 = 10 * v16 >= v40;
              Swift::UInt v16 = 10 * v16 - v40;
              if (!v20) {
                break;
              }
              OUTLINED_FUNCTION_67_19();
              if (v21) {
                goto LABEL_57;
              }
            }
          }
        }
      }
    }
LABEL_41:
    Swift::UInt v16 = 0;
LABEL_42:
    LOBYTE(v8) = 1;
    goto LABEL_57;
  }
  __break(1u);
LABEL_73:
  __break(1u);
  return result;
}

uint64_t sub_2596CC06C(uint64_t result, uint64_t a2)
{
  if (__OFADD__(*(void *)(a2 + 16), *(void *)(result + 16)))
  {
    __break(1u);
  }
  else
  {
    sub_25938553C();
    uint64_t v4 = v2;
    uint64_t v3 = sub_259843F00();
    sub_2597400EC(v3);
    sub_259843F00();
    sub_25973E3A0();
    return v4;
  }
  return result;
}

uint64_t sub_2596CC0F4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_259842380();
  uint64_t v5 = *(void *)(v4 - 8);
  MEMORY[0x270FA5388](v4);
  char v7 = (char *)&v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = sub_259843EE0();
  unsigned __int8 v26 = (void *)a1;
  uint64_t v27 = a2;
  sub_259842330();
  sub_259399328();
  uint64_t v8 = sub_259844E30();
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  uint64_t v9 = *(void *)(v8 + 16);
  if (v9)
  {
    unint64_t v10 = (uint64_t *)(v8 + 40);
    uint64_t v11 = (void *)MEMORY[0x263F8EE78];
    do
    {
      uint64_t v13 = *(v10 - 1);
      uint64_t v12 = *v10;
      uint64_t v14 = HIBYTE(*v10) & 0xF;
      if ((*v10 & 0x2000000000000000) == 0) {
        uint64_t v14 = v13 & 0xFFFFFFFFFFFFLL;
      }
      if (v14)
      {
        sub_259843F00();
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        unsigned __int8 v26 = v11;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          sub_2594F08BC();
          uint64_t v11 = v26;
        }
        unint64_t v16 = v11[2];
        if (v16 >= v11[3] >> 1)
        {
          sub_2594F08BC();
          uint64_t v11 = v26;
        }
        v11[2] = v16 + 1;
        char v17 = &v11[2 * v16];
        v17[4] = v13;
        void v17[5] = v12;
      }
      v10 += 2;
      --v9;
    }
    while (v9);
  }
  else
  {
    uint64_t v11 = (void *)MEMORY[0x263F8EE78];
  }
  swift_bridgeObjectRelease();
  unint64_t v18 = v11[2];
  if (v18 <= 1)
  {
    if (v18)
    {
      a1 = v11[4];
      uint64_t v19 = v11[5];
      swift_bridgeObjectRetain_n();
      swift_release();
      uint64_t v20 = sub_25976E81C(a1, v19, v25);
      uint64_t v22 = v21;
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v22)
      {
        swift_bridgeObjectRelease();
        return v20;
      }
    }
    else
    {
      swift_release();
      sub_259843F00();
      swift_bridgeObjectRelease();
    }
  }
  else
  {
    sub_259843F00();
    swift_bridgeObjectRelease();
    swift_release();
  }
  return a1;
}

void sub_2596CC384(uint64_t *a1, uint64_t *a2, uint64_t *a3)
{
  uint64_t v4 = *a1;
  unint64_t v3 = a1[1];
  unint64_t v5 = a2[1];
  if (!v5) {
    goto LABEL_11;
  }
  uint64_t v6 = *a2;
  if (!sub_2594379DC(3u, *a3)) {
    goto LABEL_11;
  }
  uint64_t v7 = HIBYTE(v5) & 0xF;
  if ((v5 & 0x2000000000000000) == 0) {
    uint64_t v7 = v6 & 0xFFFFFFFFFFFFLL;
  }
  if (v7
    && (uint64_t v15 = sub_259844130(),
        unint64_t v16 = v8,
        sub_259844130(),
        sub_259399328(),
        char v9 = sub_259844EC0(),
        swift_bridgeObjectRelease(),
        swift_bridgeObjectRelease(),
        (v9 & 1) != 0))
  {
    if (qword_26A388C48 != -1) {
      swift_once();
    }
    uint64_t v10 = sub_259843A80();
    __swift_project_value_buffer(v10, (uint64_t)qword_26A3D2050);
    swift_bridgeObjectRetain_n();
    uint64_t v11 = sub_259843A50();
    os_log_type_t v12 = sub_259844B30();
    if (os_log_type_enabled(v11, v12))
    {
      uint64_t v13 = (uint8_t *)swift_slowAlloc();
      uint64_t v14 = swift_slowAlloc();
      uint64_t v15 = v14;
      *(_DWORD *)uint64_t v13 = 136315138;
      sub_259843F00();
      sub_259356D5C(v4, v3, &v15);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v11, v12, "(Apple Music Search) Genre %s is mood dupe so skip adding it to the search prompt", v13, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v14, -1, -1);
      MEMORY[0x25A2E13A0](v13, -1, -1);
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
  }
  else
  {
LABEL_11:
    uint64_t v15 = 32;
    unint64_t v16 = 0xE100000000000000;
    sub_259844240();
    sub_259844240();
    swift_bridgeObjectRelease();
  }
}

uint64_t sub_2596CC608()
{
  uint64_t v0 = self;
  id v1 = objc_msgSend(v0, sel_appleMusicSmartSearchMode);
  uint64_t v2 = sub_2598440A0();
  uint64_t v4 = v3;

  uint64_t v36 = v2;
  uint64_t v37 = v4;
  sub_259399328();
  LOBYTE(v1) = sub_259844EC0();
  swift_bridgeObjectRelease();
  if ((v1 & 1) == 0) {
    return 2;
  }
  id v5 = objc_msgSend(v0, sel_appleMusicSmartSearchMode);
  sub_2598440A0();

  uint64_t v6 = static StoryMusicCurator.dictionaryFromCommasString(using:)();
  swift_bridgeObjectRelease();
  if (!*(void *)(v6 + 16)) {
    goto LABEL_16;
  }
  sub_259843F00();
  sub_25939CE90();
  char v8 = v7;
  swift_bridgeObjectRelease();
  if ((v8 & 1) == 0) {
    goto LABEL_16;
  }
  uint64_t v9 = sub_25976E81C(0x4364726F7779656BLL, 0xEC000000746E756FLL, v6);
  unint64_t v11 = v10;
  uint64_t result = swift_bridgeObjectRelease();
  if (!v11) {
    return 2;
  }
  uint64_t v13 = HIBYTE(v11) & 0xF;
  uint64_t v14 = v9 & 0xFFFFFFFFFFFFLL;
  if (!((v11 & 0x2000000000000000) != 0 ? HIBYTE(v11) & 0xF : v9 & 0xFFFFFFFFFFFFLL))
  {
LABEL_16:
    swift_bridgeObjectRelease();
    return 2;
  }
  if ((v11 & 0x1000000000000000) != 0)
  {
    uint64_t v17 = sub_259540CE0(v9, v11, 10);
    LOBYTE(v9) = v35;
    goto LABEL_53;
  }
  if ((v11 & 0x2000000000000000) == 0)
  {
    if ((v9 & 0x1000000000000000) != 0) {
      unint64_t v16 = (unsigned __int8 *)((v11 & 0xFFFFFFFFFFFFFFFLL) + 32);
    }
    else {
      unint64_t v16 = (unsigned __int8 *)sub_259845200();
    }
    uint64_t v17 = (uint64_t)sub_259540CB0(v16, v14);
    LOBYTE(v9) = v18 & 1;
LABEL_53:
    swift_bridgeObjectRelease();
    if ((v9 & 1) == 0)
    {
      if (qword_26A388C48 != -1) {
        swift_once();
      }
      uint64_t v28 = sub_259843A80();
      __swift_project_value_buffer(v28, (uint64_t)qword_26A3D2050);
      uint64_t v29 = sub_259843A50();
      os_log_type_t v30 = sub_259844B40();
      if (os_log_type_enabled(v29, v30))
      {
        unint64_t v31 = (uint8_t *)swift_slowAlloc();
        *(_DWORD *)unint64_t v31 = 134217984;
        uint64_t v36 = v17;
        sub_259844E10();
        _os_log_impl(&dword_25934C000, v29, v30, "(Apple Music Search) searchKeywordCount: Using custom keywordCount = %ld", v31, 0xCu);
        MEMORY[0x25A2E13A0](v31, -1, -1);
      }

      return v17;
    }
    return 2;
  }
  uint64_t v36 = v9;
  uint64_t v37 = v11 & 0xFFFFFFFFFFFFFFLL;
  if (v9 == 43)
  {
    if (!v13) {
      goto LABEL_68;
    }
    if (v13 == 1 || (BYTE1(v9) - 48) > 9u) {
      goto LABEL_40;
    }
    uint64_t v17 = (BYTE1(v9) - 48);
    if (v13 != 2)
    {
      if ((BYTE2(v9) - 48) > 9u) {
        goto LABEL_40;
      }
      uint64_t v17 = 10 * (BYTE1(v9) - 48) + (BYTE2(v9) - 48);
      uint64_t v19 = v13 - 3;
      if (v19)
      {
        uint64_t v20 = (unsigned __int8 *)&v36 + 3;
        while (1)
        {
          unsigned int v21 = *v20 - 48;
          if (v21 > 9) {
            goto LABEL_40;
          }
          uint64_t v22 = 10 * v17;
          if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
            goto LABEL_40;
          }
          uint64_t v17 = v22 + v21;
          if (__OFADD__(v22, v21)) {
            goto LABEL_40;
          }
          LOBYTE(v9) = 0;
          ++v20;
          if (!--v19) {
            goto LABEL_53;
          }
        }
      }
    }
LABEL_52:
    LOBYTE(v9) = 0;
    goto LABEL_53;
  }
  if (v9 != 45)
  {
    if (!v13 || (v9 - 48) > 9u) {
      goto LABEL_40;
    }
    uint64_t v17 = (v9 - 48);
    if (v13 != 1)
    {
      if ((BYTE1(v9) - 48) > 9u) {
        goto LABEL_40;
      }
      uint64_t v17 = 10 * (v9 - 48) + (BYTE1(v9) - 48);
      uint64_t v23 = v13 - 2;
      if (v23)
      {
        uint64_t v24 = (unsigned __int8 *)&v36 + 2;
        while (1)
        {
          unsigned int v25 = *v24 - 48;
          if (v25 > 9) {
            goto LABEL_40;
          }
          uint64_t v26 = 10 * v17;
          if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
            goto LABEL_40;
          }
          uint64_t v17 = v26 + v25;
          if (__OFADD__(v26, v25)) {
            goto LABEL_40;
          }
          LOBYTE(v9) = 0;
          ++v24;
          if (!--v23) {
            goto LABEL_53;
          }
        }
      }
    }
    goto LABEL_52;
  }
  if (v13)
  {
    if (v13 != 1 && (BYTE1(v9) - 48) <= 9u)
    {
      if (v13 == 2)
      {
        LOBYTE(v9) = 0;
        uint64_t v17 = -(uint64_t)(BYTE1(v9) - 48);
        goto LABEL_53;
      }
      if ((BYTE2(v9) - 48) <= 9u)
      {
        uint64_t v17 = -10 * (BYTE1(v9) - 48) - (BYTE2(v9) - 48);
        uint64_t v27 = v13 - 3;
        if (!v27) {
          goto LABEL_52;
        }
        unsigned __int8 v32 = (unsigned __int8 *)&v36 + 3;
        while (1)
        {
          unsigned int v33 = *v32 - 48;
          if (v33 > 9) {
            break;
          }
          uint64_t v34 = 10 * v17;
          if ((unsigned __int128)(v17 * (__int128)10) >> 64 != (10 * v17) >> 63) {
            break;
          }
          uint64_t v17 = v34 - v33;
          if (__OFSUB__(v34, v33)) {
            break;
          }
          LOBYTE(v9) = 0;
          ++v32;
          if (!--v27) {
            goto LABEL_53;
          }
        }
      }
    }
LABEL_40:
    uint64_t v17 = 0;
    LOBYTE(v9) = 1;
    goto LABEL_53;
  }
  __break(1u);
LABEL_68:
  __break(1u);
  return result;
}

void sub_2596CCB20(uint64_t *a1@<X0>, uint64_t *a2@<X8>)
{
  uint64_t v3 = *a1;
  static StoryMusicEmbeddingTerms.termByEngineeringName(_:)(&v34);
  uint64_t v4 = v35;
  unsigned int v33 = a2;
  if (v35)
  {
    uint64_t v5 = v36;
    uint64_t v6 = *(void *)(v36 + 16);
    if (v6)
    {
      uint64_t v32 = v34;
      swift_bridgeObjectRetain_n();
      uint64_t v7 = 0;
      while (1)
      {
        LOBYTE(v34) = *(unsigned char *)(v5 + v7 + 32);
        if (StoryMusicTermTag.rawValue.getter() == 0x4B6F72747365616DLL && v8 == 0xEE0064726F777965) {
          break;
        }
        char v10 = sub_259845750();
        swift_bridgeObjectRelease();
        if (v10)
        {
          swift_bridgeObjectRelease_n();
          goto LABEL_39;
        }
        if (v6 == ++v7)
        {
          swift_bridgeObjectRelease_n();
          sub_259652E7C(v32, v4);
          goto LABEL_12;
        }
      }
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
LABEL_39:
      sub_259843F00();
      sub_259652E7C(v32, v4);
      *a2 = v32;
      a2[1] = v4;
      return;
    }
    sub_259652E7C(v34, v35);
  }
LABEL_12:
  if (qword_26A388A48 != -1) {
    swift_once();
  }
  sub_259843F00();
  sub_259843F00();
  sub_2596100EC();
  if (!v11[2])
  {
    swift_bridgeObjectRelease();
    goto LABEL_32;
  }
  uint64_t v12 = v11[6];
  uint64_t v13 = v11[7];
  uint64_t v14 = v11[9];
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  swift_bridgeObjectRelease();
  uint64_t v15 = *(void *)(v14 + 16);
  if (!v15)
  {
    sub_259843F00();
LABEL_31:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
LABEL_32:
    if (qword_26A388C48 != -1) {
      goto LABEL_44;
    }
    goto LABEL_33;
  }
  uint64_t v31 = v12;
  swift_bridgeObjectRetain_n();
  for (uint64_t i = 0; i != v15; ++i)
  {
    LOBYTE(v34) = *(unsigned char *)(v14 + i + 32);
    if (StoryMusicTermTag.rawValue.getter() == 0xD00000000000001BLL && v17 == 0x800000025984BCA0)
    {
LABEL_40:
      swift_bridgeObjectRelease_n();
      swift_bridgeObjectRelease();
LABEL_42:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      *a2 = v31;
      a2[1] = v13;
      return;
    }
    char v18 = sub_259845750();
    swift_bridgeObjectRelease();
    if (v18)
    {
LABEL_41:
      swift_bridgeObjectRelease_n();
      goto LABEL_42;
    }
  }
  swift_bridgeObjectRelease();
  uint64_t v19 = *(void *)(v14 + 16);
  if (!v19) {
    goto LABEL_31;
  }
  sub_259843F00();
  uint64_t v20 = 0;
  while (1)
  {
    uint64_t v21 = v20 + 1;
    if (__OFADD__(v20, 1)) {
      break;
    }
    LOBYTE(v34) = *(unsigned char *)(v14 + v20 + 32);
    if (StoryMusicTermTag.rawValue.getter() == 0xD00000000000001CLL && v22 == 0x800000025984BC80) {
      goto LABEL_40;
    }
    char v23 = sub_259845750();
    swift_bridgeObjectRelease();
    if (v23) {
      goto LABEL_41;
    }
    ++v20;
    if (v21 == v19) {
      goto LABEL_31;
    }
  }
  __break(1u);
LABEL_44:
  swift_once();
LABEL_33:
  uint64_t v24 = sub_259843A80();
  __swift_project_value_buffer(v24, (uint64_t)qword_26A3D2050);
  swift_retain();
  unsigned int v25 = sub_259843A50();
  os_log_type_t v26 = sub_259844B50();
  if (os_log_type_enabled(v25, v26))
  {
    uint64_t v27 = (uint8_t *)swift_slowAlloc();
    uint64_t v28 = swift_slowAlloc();
    uint64_t v34 = v28;
    *(_DWORD *)uint64_t v27 = 136315138;
    uint64_t v29 = *(void *)(v3 + 16);
    unint64_t v30 = *(void *)(v3 + 24);
    sub_259843F00();
    uint64_t v37 = sub_259356D5C(v29, v30, &v34);
    sub_259844E10();
    swift_release();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v25, v26, "(Apple Music Search) searchPromptGenerator: Got an unresolved keyword: %s", v27, 0xCu);
    swift_arrayDestroy();
    MEMORY[0x25A2E13A0](v28, -1, -1);
    MEMORY[0x25A2E13A0](v27, -1, -1);
  }
  else
  {

    swift_release();
  }
  *unsigned int v33 = 0;
  v33[1] = 0;
}

uint64_t StoryMusicCurator.generateMusicSearchKeywords(forStoryPrompt:keywords:with:eventRecorder:)()
{
  OUTLINED_FUNCTION_14();
  uint64_t v3 = v2;
  v1[17] = v4;
  v1[18] = v0;
  v1[15] = v5;
  v1[16] = v6;
  v1[14] = v7;
  type metadata accessor for RootEventRecorder.EventState(0);
  uint64_t v8 = swift_task_alloc();
  uint64_t v9 = *(void *)(v3 + 8);
  v1[19] = v8;
  v1[20] = v9;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v10, v11, v12);
}

uint64_t sub_2596CD164()
{
  uint64_t v1 = *(void *)(v0 + 144);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 136), *(void *)(*(void *)(v0 + 136) + 24));
  unint64_t v2 = OUTLINED_FUNCTION_57_20(19);
  v3(v2);
  uint64_t v4 = (void *)OUTLINED_FUNCTION_83_14();
  __swift_project_boxed_opaque_existential_1(v4, v5);
  OUTLINED_FUNCTION_55_17();
  v6();
  uint64_t v7 = *(void **)(v1 + 584);
  *(unsigned char *)(v0 + 216) = 2;
  type metadata accessor for MusicKeywordsGeneratorEmbedded();
  swift_allocObject();
  id v8 = v7;
  sub_259843F00();
  uint64_t v9 = (void *)swift_task_alloc();
  *(void *)(v0 + 168) = v9;
  void *v9 = v0;
  v9[1] = sub_2596CD2CC;
  return MusicKeywordsGeneratorEmbedded.init(usingCache:embeddingType:with:maxKeywords:)();
}

uint64_t sub_2596CD2CC()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  *uint64_t v3 = *v1;
  *(void *)(v2 + 176) = v4;
  *(void *)(v2 + 184) = v0;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v5, v6, v7);
}

uint64_t sub_2596CD3B0()
{
  OUTLINED_FUNCTION_247();
  __swift_project_boxed_opaque_existential_1(v0 + 2, v0[5]);
  OUTLINED_FUNCTION_41_0();
  v1();
  sub_259843600();
  sub_2598435F0();
  uint64_t v2 = (void *)swift_task_alloc();
  v0[24] = v2;
  void *v2 = v0;
  v2[1] = sub_2596CD4A4;
  OUTLINED_FUNCTION_104_11(v0[14]);
  OUTLINED_FUNCTION_160();
  return sub_2597796B8();
}

uint64_t sub_2596CD4A4()
{
  OUTLINED_FUNCTION_14();
  OUTLINED_FUNCTION_0_2();
  OUTLINED_FUNCTION_9();
  *uint64_t v3 = v2;
  *uint64_t v3 = *v1;
  uint64_t v4 = v2 + 56;
  *(void *)(v2 + 200) = v5;
  *(void *)(v2 + 208) = v0;
  swift_task_dealloc();
  __swift_destroy_boxed_opaque_existential_1(v4);
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v6, v7, v8);
}

uint64_t sub_2596CD594()
{
  OUTLINED_FUNCTION_25();
  sub_259445924(*(void *)(v0 + 152));
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v1();
}

uint64_t sub_2596CD610(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, void *a20,uint64_t a21,uint64_t a22)
{
  OUTLINED_FUNCTION_121();
  a21 = v24;
  a22 = v25;
  OUTLINED_FUNCTION_266();
  a20 = v22;
  if (qword_26A388C48 != -1) {
    swift_once();
  }
  uint64_t v26 = sub_259843A80();
  __swift_project_value_buffer(v26, (uint64_t)qword_26A3D2050);
  swift_bridgeObjectRetain_n();
  sub_259843F00();
  uint64_t v27 = sub_259843A50();
  os_log_type_t v28 = sub_259844B40();
  BOOL v29 = OUTLINED_FUNCTION_91(v28);
  uint64_t v30 = v22[25];
  uint64_t v31 = v22[19];
  uint64_t v32 = v22[16];
  if (v29)
  {
    a10 = v22[19];
    uint64_t v33 = swift_slowAlloc();
    a11 = OUTLINED_FUNCTION_20();
    *(_DWORD *)uint64_t v33 = 134218242;
    v22[12] = *(void *)(v32 + 16);
    sub_259844E10();
    swift_bridgeObjectRelease();
    *(_WORD *)(v33 + 12) = 2080;
    uint64_t v34 = type metadata accessor for MusicKeywordCompletion();
    uint64_t v35 = MEMORY[0x25A2DED80](v30, v34);
    v22[13] = sub_259356D5C(v35, v36, &a11);
    sub_259844E10();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    _os_log_impl(&dword_25934C000, v27, v23, "(Keywords) Music keyword generation against %ld keywords returned keywords: %s", (uint8_t *)v33, 0x16u);
    OUTLINED_FUNCTION_59_1();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
    swift_release();

    uint64_t v37 = a10;
  }
  else
  {
    swift_release();

    swift_bridgeObjectRelease_n();
    swift_bridgeObjectRelease();
    uint64_t v37 = v31;
  }
  sub_259445924(v37);
  __swift_destroy_boxed_opaque_existential_1((uint64_t)(v22 + 2));
  swift_task_dealloc();
  OUTLINED_FUNCTION_61();
  OUTLINED_FUNCTION_126();
  return v40(v38, v39, v40, v41, v42, v43, v44, v45, a9, a10, a11, a12, a13, a14);
}

uint64_t sub_2596CD83C()
{
  OUTLINED_FUNCTION_25();
  uint64_t v1 = *(void *)(v0 + 152);
  swift_release();
  sub_259445924(v1);
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  swift_task_dealloc();
  OUTLINED_FUNCTION_67();
  return v2();
}

uint64_t static StoryMusicCurator.dictionaryFromCommasString(using:)()
{
  sub_259399328();
  uint64_t v0 = sub_259844ED0();
  uint64_t v1 = *(void *)(v0 + 16);
  if (v1)
  {
    uint64_t v36 = MEMORY[0x263F8EE78];
    sub_2594F08BC();
    uint64_t v2 = (uint64_t *)(v0 + 56);
    do
    {
      uint64_t v4 = *(v2 - 3);
      uint64_t v3 = *(v2 - 2);
      uint64_t v5 = *(v2 - 1);
      uint64_t v6 = *v2;
      sub_259843F00();
      uint64_t v7 = MEMORY[0x25A2DE9C0](v4, v3, v5, v6);
      uint64_t v9 = v8;
      swift_bridgeObjectRelease();
      unint64_t v11 = *(void *)(v36 + 16);
      unint64_t v10 = *(void *)(v36 + 24);
      if (v11 >= v10 >> 1)
      {
        OUTLINED_FUNCTION_209(v10);
        sub_2594F08BC();
      }
      *(void *)(v36 + 16) = v11 + 1;
      uint64_t v12 = v36 + 16 * v11;
      *(void *)(v12 + 32) = v7;
      *(void *)(v12 + 40) = v9;
      v2 += 4;
      --v1;
    }
    while (v1);
    swift_bridgeObjectRelease();
    uint64_t v13 = v36;
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v13 = MEMORY[0x263F8EE78];
  }
  uint64_t v14 = *(void *)(v13 + 16);
  if (!v14)
  {
    swift_bridgeObjectRelease();
    return sub_259843EE0();
  }
  uint64_t v15 = sub_259843F00() + 40;
  unint64_t v16 = (void *)MEMORY[0x263F8EE80];
  while (1)
  {
    sub_259843F00();
    uint64_t v17 = (void *)sub_259844E40();
    if (v17[2] != 2)
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      goto LABEL_21;
    }
    uint64_t v18 = v17[4];
    uint64_t v19 = v17[5];
    uint64_t v20 = v17[7];
    uint64_t v35 = v17[6];
    sub_259843F00();
    sub_259843F00();
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v34 = v18;
    unint64_t v21 = sub_25939CE90();
    if (__OFADD__(v16[2], (v22 & 1) == 0)) {
      break;
    }
    unint64_t v23 = v21;
    char v24 = v22;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A389B38);
    if (sub_259845350())
    {
      unint64_t v25 = sub_25939CE90();
      if ((v24 & 1) != (v26 & 1)) {
        goto LABEL_27;
      }
      unint64_t v23 = v25;
    }
    if (v24)
    {
      uint64_t v27 = (void *)(v16[7] + 16 * v23);
      swift_bridgeObjectRelease();
      void *v27 = v35;
      v27[1] = v20;
    }
    else
    {
      v16[(v23 >> 6) + 8] |= 1 << v23;
      os_log_type_t v28 = (void *)(v16[6] + 16 * v23);
      void *v28 = v34;
      v28[1] = v19;
      BOOL v29 = (void *)(v16[7] + 16 * v23);
      *BOOL v29 = v35;
      v29[1] = v20;
      uint64_t v30 = v16[2];
      BOOL v31 = __OFADD__(v30, 1);
      uint64_t v32 = v30 + 1;
      if (v31) {
        goto LABEL_26;
      }
      v16[2] = v32;
      sub_259843F00();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_21:
    v15 += 16;
    if (!--v14)
    {
      swift_bridgeObjectRelease_n();
      return (uint64_t)v16;
    }
  }
  __break(1u);
LABEL_26:
  __break(1u);
LABEL_27:
  uint64_t result = sub_2598457D0();
  __break(1u);
  return result;
}

uint64_t sub_2596CDC58(uint64_t *a1, void *a2)
{
  uint64_t v4 = *a1;
  swift_bridgeObjectRetain_n();
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
  {
    sub_2596F304C();
    uint64_t v4 = v5;
  }
  uint64_t v6 = *(void *)(v4 + 16);
  v8[0] = v4 + 32;
  v8[1] = v6;
  sub_259843F00();
  sub_2596CDD7C(v8, a2);
  *a1 = v4;
  return swift_bridgeObjectRelease_n();
}

uint64_t sub_2596CDCF4(uint64_t *a1)
{
  uint64_t v2 = *a1;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *a1 = v2;
  if ((isUniquelyReferenced_nonNull_native & 1) == 0) {
    sub_2596F3730();
  }
  uint64_t v4 = *(void *)(v2 + 16);
  v6[0] = v2 + 32;
  v6[1] = v4;
  sub_2596CE918(v6);
  return sub_259845250();
}

BOOL sub_2596CDD70(uint64_t a1)
{
  return (a1 & 0xC000000000000001) == 0;
}

uint64_t sub_2596CDD7C(uint64_t *a1, void *a2)
{
  uint64_t v5 = a1[1];
  swift_bridgeObjectRetain_n();
  uint64_t v6 = sub_259845710();
  if (v6 >= v5)
  {
    if (v5 < 0) {
      goto LABEL_256;
    }
    if (v5)
    {
      sub_2596CEEEC(0, v5, 1, a1, a2);
      goto LABEL_231;
    }
LABEL_230:
    swift_bridgeObjectRelease();
LABEL_231:
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease_n();
  }
  uint64_t v163 = v6;
  uint64_t v181 = v2;
  uint64_t v162 = sub_2594F0458(v5 / 2);
  uint64_t v170 = v7;
  uint64_t v166 = v5;
  uint64_t v183 = a2;
  uint64_t v161 = a1;
  if (v5 <= 0)
  {
    unint64_t v10 = (void *)MEMORY[0x263F8EE78];
    unint64_t v95 = *(void *)(MEMORY[0x263F8EE78] + 16);
LABEL_215:
    uint64_t v168 = v10;
    if (v95 >= 2)
    {
      uint64_t v150 = *v161;
      do
      {
        unint64_t v151 = v95 - 2;
        if (v95 < 2) {
          goto LABEL_250;
        }
        if (!v150) {
          goto LABEL_266;
        }
        uint64_t v152 = v168[2 * v151 + 4];
        uint64_t v153 = v168[2 * v95 + 3];
        unint64_t v154 = (char *)(v150 + 144 * v168[2 * v95 + 2]);
        char v155 = v183;
        sub_259843F00();
        sub_2596CF134((char *)(v150 + 144 * v152), v154, (char *)(v150 + 144 * v153), v170, v155);
        if (v181) {
          goto LABEL_212;
        }
        if (v153 < v152) {
          goto LABEL_251;
        }
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_2596F24C8();
          uint64_t v168 = v158;
        }
        if (v151 >= v168[2]) {
          goto LABEL_252;
        }
        uint64_t v156 = &v168[2 * v151 + 4];
        void *v156 = v152;
        v156[1] = v153;
        unint64_t v157 = v168[2];
        if (v95 > v157) {
          goto LABEL_253;
        }
        memmove(&v168[2 * v95 + 2], &v168[2 * v95 + 4], 16 * (v157 - v95));
        v168[2] = v157 - 1;
        unint64_t v95 = v157 - 1;
      }
      while (v157 > 2);
    }
    swift_bridgeObjectRelease();
    if (v166 < -1) {
      goto LABEL_262;
    }
    *(void *)(v162 + 16) = 0;
    swift_bridgeObjectRelease();
    goto LABEL_230;
  }
  uint64_t v8 = 0;
  uint64_t v9 = a2;
  uint64_t v169 = a2 + 7;
  uint64_t v180 = *a1;
  uint64_t v160 = *a1 - 144;
  unint64_t v10 = (void *)MEMORY[0x263F8EE78];
  uint64_t v11 = v5;
  while (2)
  {
    uint64_t v167 = v10;
    uint64_t v12 = v8++;
    uint64_t v13 = v11;
    uint64_t v175 = v12;
    if (v8 >= v11) {
      goto LABEL_108;
    }
    uint64_t v14 = v9;
    unint64_t v15 = v9[2];
    uint64_t v16 = v180;
    if (!v15) {
      goto LABEL_46;
    }
    uint64_t v171 = v8;
    uint64_t v17 = v180 + 144 * v8;
    uint64_t v18 = *(void *)(v17 + 8);
    uint64_t v19 = *(void *)(v17 + 16);
    uint64_t v20 = v180 + 144 * v12;
    uint64_t v21 = *(void *)(v20 + 8);
    uint64_t v22 = *(void *)(v20 + 16);
    uint64_t v23 = v9[5];
    if (v9[4] == v18 && v23 == v19)
    {
      uint64_t v27 = 0;
      int64_t v28 = 0;
      BOOL v29 = v18 == v21 && v19 == v22;
LABEL_17:
      uint64_t v13 = v166;
      if (v29) {
        goto LABEL_41;
      }
      goto LABEL_18;
    }
    uint64_t v25 = v9[4];
    if (sub_259845750())
    {
      uint64_t v26 = v25;
      uint64_t v27 = 0;
      int64_t v28 = 0;
      BOOL v29 = v26 == v21 && v23 == v22;
      goto LABEL_17;
    }
    uint64_t v176 = v23;
    uint64_t v34 = v25;
    uint64_t v35 = v169;
    uint64_t v36 = 1;
    do
    {
      if (v15 == v36)
      {
        uint64_t v13 = v166;
        goto LABEL_45;
      }
      uint64_t v27 = v36;
      if (*(v35 - 1) == v18 && *v35 == v19) {
        break;
      }
      char v38 = sub_259845750();
      uint64_t v36 = v27 + 1;
      v35 += 2;
    }
    while ((v38 & 1) == 0);
    BOOL v39 = v34 == v21 && v176 == v22;
    uint64_t v13 = v166;
    if (!v39)
    {
LABEL_18:
      if ((sub_259845750() & 1) == 0)
      {
        uint64_t v30 = v169;
        unint64_t v31 = 1;
        while (v15 != v31)
        {
          int64_t v28 = v31;
          if (v31 >= v15) {
            goto LABEL_255;
          }
          if (*(v30 - 1) != v21 || v22 != *v30)
          {
            char v33 = sub_259845750();
            unint64_t v31 = v28 + 1;
            v30 += 2;
            if ((v33 & 1) == 0) {
              continue;
            }
          }
          uint64_t v14 = v183;
          goto LABEL_41;
        }
        uint64_t v14 = v183;
LABEL_45:
        uint64_t v16 = v180;
        uint64_t v8 = v171;
        uint64_t v12 = v175;
LABEL_46:
        uint64_t v41 = v12 + 2;
        if (v12 + 2 >= v13) {
          goto LABEL_107;
        }
        BOOL v40 = 0;
        goto LABEL_48;
      }
    }
    int64_t v28 = 0;
LABEL_41:
    BOOL v40 = v27 < v28;
    uint64_t v8 = v171;
    uint64_t v12 = v175;
    uint64_t v41 = v175 + 2;
    uint64_t v16 = v180;
    if (v175 + 2 >= v13) {
      goto LABEL_99;
    }
LABEL_48:
    uint64_t v42 = v41;
    BOOL v172 = v40;
    while (1)
    {
      uint64_t v41 = v42;
      if (!v15) {
        goto LABEL_96;
      }
      uint64_t v177 = v42;
      uint64_t v43 = v16 + 144 * v42;
      uint64_t v45 = *(void *)(v43 + 8);
      uint64_t v44 = *(void *)(v43 + 16);
      uint64_t v46 = v16 + 144 * v8;
      uint64_t v47 = *(void *)(v46 + 8);
      uint64_t v48 = *(void *)(v46 + 16);
      uint64_t v49 = v14[4];
      uint64_t v50 = v14[5];
      if (v49 == v45 && v50 == v44)
      {
        if (v45 != v47 || v44 != v48) {
          goto LABEL_65;
        }
        uint64_t v13 = v166;
        uint64_t v12 = v175;
        uint64_t v41 = v177;
LABEL_96:
        if (v40) {
          goto LABEL_100;
        }
        goto LABEL_97;
      }
      if ((sub_259845750() & 1) == 0)
      {
        uint64_t v56 = v169;
        uint64_t v57 = 1;
        while (v15 != v57)
        {
          uint64_t v54 = v57;
          if (*(v56 - 1) != v45 || *v56 != v44)
          {
            char v59 = sub_259845750();
            uint64_t v57 = v54 + 1;
            v56 += 2;
            if ((v59 & 1) == 0) {
              continue;
            }
          }
          if (v49 != v47 || v50 != v48)
          {
            uint64_t v16 = v180;
            goto LABEL_66;
          }
          break;
        }
        uint64_t v14 = v183;
        uint64_t v13 = v166;
        uint64_t v16 = v180;
        goto LABEL_93;
      }
      if (v49 == v47 && v50 == v48)
      {
        uint64_t v13 = v166;
LABEL_93:
        uint64_t v12 = v175;
LABEL_95:
        uint64_t v41 = v177;
        BOOL v40 = v172;
        goto LABEL_96;
      }
LABEL_65:
      uint64_t v54 = 0;
LABEL_66:
      if (sub_259845750())
      {
        BOOL v40 = v172;
        char v55 = v172 ^ (v54 >= 0);
        uint64_t v14 = v183;
        uint64_t v13 = v166;
        uint64_t v12 = v175;
        goto LABEL_90;
      }
      unint64_t v61 = v169;
      unint64_t v62 = 1;
      uint64_t v13 = v166;
      uint64_t v12 = v175;
      do
      {
        if (v15 == v62)
        {
          uint64_t v14 = v183;
          goto LABEL_95;
        }
        unint64_t v63 = v62;
        if (v62 >= v15) {
          goto LABEL_238;
        }
        if (*(v61 - 1) == v47 && v48 == *v61) {
          break;
        }
        char v65 = sub_259845750();
        unint64_t v62 = v63 + 1;
        v61 += 2;
      }
      while ((v65 & 1) == 0);
      BOOL v40 = v172;
      char v55 = v172 ^ (v54 > (uint64_t)(v63 - 1));
      uint64_t v14 = v183;
LABEL_90:
      uint64_t v41 = v177;
      if ((v55 & 1) == 0) {
        break;
      }
LABEL_97:
      uint64_t v42 = v41 + 1;
      uint64_t v8 = v41;
      if (v41 + 1 >= v13)
      {
        ++v41;
        break;
      }
    }
LABEL_99:
    uint64_t v8 = v41;
    if (!v40) {
      goto LABEL_108;
    }
LABEL_100:
    if (v41 >= v12)
    {
      if (v12 < v41)
      {
        os_log_type_t v66 = (char *)(v160 + 144 * v41);
        uint64_t v67 = v41;
        uint64_t v68 = v12;
        unint64_t v69 = (char *)(v16 + 144 * v12);
        do
        {
          if (v68 != --v67)
          {
            if (!v16) {
              goto LABEL_265;
            }
            memcpy(__dst, v69, sizeof(__dst));
            memmove(v69, v66, 0x90uLL);
            memcpy(v66, __dst, 0x90uLL);
          }
          ++v68;
          v66 -= 144;
          v69 += 144;
        }
        while (v68 < v67);
      }
LABEL_107:
      uint64_t v8 = v41;
LABEL_108:
      if (v8 >= v13) {
        goto LABEL_158;
      }
      if (__OFSUB__(v8, v12)) {
        goto LABEL_257;
      }
      if (v8 - v12 >= v163) {
        goto LABEL_158;
      }
      uint64_t v70 = v12 + v163;
      if (__OFADD__(v12, v163)) {
        goto LABEL_259;
      }
      if (v70 >= v13) {
        uint64_t v70 = v13;
      }
      if (v70 >= v12)
      {
        uint64_t v165 = v70;
        if (v8 == v70) {
          goto LABEL_158;
        }
        while (2)
        {
          uint64_t v173 = v8;
          uint64_t v71 = v8;
          while (2)
          {
            unint64_t v72 = v183[2];
            if (!v72) {
              goto LABEL_156;
            }
            uint64_t v178 = v71;
            uint64_t v73 = (void *)(v180 + 144 * v71);
            uint64_t v75 = v73[1];
            uint64_t v74 = v73[2];
            uint64_t v76 = *(v73 - 17);
            uint64_t v77 = *(v73 - 16);
            uint64_t v78 = v183[5];
            if (v183[4] == v75 && v78 == v74)
            {
              if (v75 == v76 && v74 == v77) {
                goto LABEL_156;
              }
              uint64_t v82 = 0;
LABEL_144:
              if (sub_259845750()) {
                goto LABEL_156;
              }
              --v71;
              uint64_t v89 = v169;
              unint64_t v90 = 1;
              do
              {
                if (v72 == v90) {
                  goto LABEL_156;
                }
                unint64_t v91 = v90;
                if (v90 >= v72)
                {
                  __break(1u);
LABEL_234:
                  __break(1u);
LABEL_235:
                  __break(1u);
LABEL_236:
                  __break(1u);
LABEL_237:
                  __break(1u);
LABEL_238:
                  __break(1u);
LABEL_239:
                  __break(1u);
LABEL_240:
                  __break(1u);
LABEL_241:
                  __break(1u);
LABEL_242:
                  __break(1u);
LABEL_243:
                  __break(1u);
LABEL_244:
                  __break(1u);
LABEL_245:
                  __break(1u);
LABEL_246:
                  __break(1u);
LABEL_247:
                  __break(1u);
LABEL_248:
                  __break(1u);
LABEL_249:
                  __break(1u);
LABEL_250:
                  __break(1u);
LABEL_251:
                  __break(1u);
LABEL_252:
                  __break(1u);
LABEL_253:
                  __break(1u);
LABEL_254:
                  __break(1u);
LABEL_255:
                  __break(1u);
LABEL_256:
                  __break(1u);
LABEL_257:
                  __break(1u);
                  goto LABEL_258;
                }
                if (*(v89 - 1) == v76 && v77 == *v89) {
                  break;
                }
                char v93 = sub_259845750();
                unint64_t v90 = v91 + 1;
                v89 += 2;
              }
              while ((v93 & 1) == 0);
              if (v82 > (uint64_t)(v91 - 1)) {
                goto LABEL_156;
              }
              if (!v180) {
                goto LABEL_264;
              }
              memcpy(__dst, v73, sizeof(__dst));
              memcpy(v73, v73 - 18, 0x90uLL);
              memcpy(v73 - 18, __dst, 0x90uLL);
              if (v71 == v175) {
                goto LABEL_156;
              }
              continue;
            }
            break;
          }
          uint64_t v80 = v183[4];
          if (sub_259845750())
          {
            if (v80 == v76 && v78 == v77) {
              goto LABEL_156;
            }
            uint64_t v82 = 0;
            goto LABEL_144;
          }
          uint64_t v164 = v80;
          uint64_t v84 = v169;
          uint64_t v85 = 1;
          do
          {
            if (v72 == v85) {
              goto LABEL_156;
            }
            uint64_t v82 = v85;
            if (*(v84 - 1) == v75 && *v84 == v74) {
              break;
            }
            char v87 = sub_259845750();
            uint64_t v85 = v82 + 1;
            v84 += 2;
          }
          while ((v87 & 1) == 0);
          BOOL v88 = v164 == v76 && v78 == v77;
          uint64_t v71 = v178;
          if (!v88) {
            goto LABEL_144;
          }
LABEL_156:
          uint64_t v8 = v173 + 1;
          if (v173 + 1 != v165) {
            continue;
          }
          break;
        }
        uint64_t v8 = v165;
LABEL_158:
        if (v8 < v175) {
          goto LABEL_254;
        }
        unint64_t v10 = v167;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_2596F23F0();
          unint64_t v10 = v148;
        }
        unint64_t v94 = v10[2];
        unint64_t v95 = v94 + 1;
        if (v94 >= v10[3] >> 1)
        {
          sub_2596F23F0();
          unint64_t v10 = v149;
        }
        v10[2] = v95;
        os_log_type_t v96 = v10 + 4;
        char v97 = &v10[2 * v94 + 4];
        *char v97 = v175;
        v97[1] = v8;
        if (!v94)
        {
          unint64_t v95 = 1;
LABEL_207:
          uint64_t v11 = v166;
          uint64_t v9 = v183;
          if (v8 >= v166) {
            goto LABEL_215;
          }
          continue;
        }
        uint64_t v174 = v8;
        while (2)
        {
          unint64_t v98 = v95 - 1;
          if (v95 >= 4)
          {
            uint64_t v103 = &v96[2 * v95];
            uint64_t v104 = *(v103 - 8);
            uint64_t v105 = *(v103 - 7);
            BOOL v109 = __OFSUB__(v105, v104);
            uint64_t v106 = v105 - v104;
            if (v109) {
              goto LABEL_239;
            }
            uint64_t v108 = *(v103 - 6);
            uint64_t v107 = *(v103 - 5);
            BOOL v109 = __OFSUB__(v107, v108);
            uint64_t v101 = v107 - v108;
            char v102 = v109;
            if (v109) {
              goto LABEL_240;
            }
            unint64_t v110 = v95 - 2;
            uint64_t v111 = &v96[2 * v95 - 4];
            uint64_t v113 = *v111;
            uint64_t v112 = v111[1];
            BOOL v109 = __OFSUB__(v112, v113);
            uint64_t v114 = v112 - v113;
            if (v109) {
              goto LABEL_241;
            }
            BOOL v109 = __OFADD__(v101, v114);
            uint64_t v115 = v101 + v114;
            if (v109) {
              goto LABEL_243;
            }
            if (v115 >= v106)
            {
              uint64_t v133 = &v96[2 * v98];
              uint64_t v135 = *v133;
              uint64_t v134 = v133[1];
              BOOL v109 = __OFSUB__(v134, v135);
              uint64_t v136 = v134 - v135;
              if (v109) {
                goto LABEL_249;
              }
              BOOL v126 = v101 < v136;
            }
            else
            {
LABEL_178:
              if (v102) {
                goto LABEL_242;
              }
              unint64_t v110 = v95 - 2;
              uint64_t v116 = &v96[2 * v95 - 4];
              uint64_t v118 = *v116;
              uint64_t v117 = v116[1];
              BOOL v119 = __OFSUB__(v117, v118);
              uint64_t v120 = v117 - v118;
              char v121 = v119;
              if (v119) {
                goto LABEL_244;
              }
              unint64_t v122 = &v96[2 * v98];
              uint64_t v124 = *v122;
              uint64_t v123 = v122[1];
              BOOL v109 = __OFSUB__(v123, v124);
              uint64_t v125 = v123 - v124;
              if (v109) {
                goto LABEL_246;
              }
              if (__OFADD__(v120, v125)) {
                goto LABEL_248;
              }
              if (v120 + v125 < v101) {
                goto LABEL_190;
              }
              BOOL v126 = v101 < v125;
            }
            if (v126) {
              unint64_t v98 = v110;
            }
          }
          else
          {
            if (v95 == 3)
            {
              uint64_t v100 = v10[4];
              uint64_t v99 = v10[5];
              BOOL v109 = __OFSUB__(v99, v100);
              uint64_t v101 = v99 - v100;
              char v102 = v109;
              goto LABEL_178;
            }
            uint64_t v127 = v10[4];
            uint64_t v128 = v10[5];
            BOOL v109 = __OFSUB__(v128, v127);
            uint64_t v120 = v128 - v127;
            char v121 = v109;
LABEL_190:
            if (v121) {
              goto LABEL_245;
            }
            uint64_t v129 = &v96[2 * v98];
            uint64_t v131 = *v129;
            uint64_t v130 = v129[1];
            BOOL v109 = __OFSUB__(v130, v131);
            uint64_t v132 = v130 - v131;
            if (v109) {
              goto LABEL_247;
            }
            if (v132 < v120) {
              goto LABEL_207;
            }
          }
          unint64_t v137 = v98 - 1;
          if (v98 - 1 >= v95) {
            goto LABEL_234;
          }
          if (!v180) {
            goto LABEL_263;
          }
          uint64_t v138 = &v96[2 * v137];
          uint64_t v139 = *v138;
          uint64_t v140 = v96;
          unint64_t v141 = v98;
          uint64_t v142 = &v96[2 * v98];
          uint64_t v143 = v142[1];
          uint64_t v144 = (char *)(v180 + 144 * *v138);
          unint64_t v179 = (char *)(v180 + 144 * *v142);
          uint64_t v145 = v183;
          sub_259843F00();
          sub_2596CF134(v144, v179, (char *)(v180 + 144 * v143), v170, v145);
          if (v181)
          {
LABEL_212:
            swift_bridgeObjectRelease();
            if (v166 >= -1)
            {
              *(void *)(v162 + 16) = 0;
              swift_bridgeObjectRelease_n();
              goto LABEL_231;
            }
LABEL_258:
            __break(1u);
LABEL_259:
            __break(1u);
            break;
          }
          if (v143 < v139) {
            goto LABEL_235;
          }
          if (v141 > v10[2]) {
            goto LABEL_236;
          }
          unint64_t v146 = v141;
          uint64_t *v138 = v139;
          v140[2 * v137 + 1] = v143;
          unint64_t v147 = v10[2];
          if (v146 >= v147) {
            goto LABEL_237;
          }
          os_log_type_t v96 = v140;
          unint64_t v95 = v147 - 1;
          memmove(v142, v142 + 2, 16 * (v147 - 1 - v146));
          v10[2] = v147 - 1;
          uint64_t v8 = v174;
          if (v147 <= 2) {
            goto LABEL_207;
          }
          continue;
        }
      }
      __break(1u);
    }
    break;
  }
  __break(1u);
LABEL_262:
  __break(1u);
LABEL_263:
  swift_bridgeObjectRelease_n();
  __break(1u);
LABEL_264:
  swift_bridgeObjectRelease_n();
  __break(1u);
LABEL_265:
  swift_bridgeObjectRelease_n();
  __break(1u);
LABEL_266:
  uint64_t result = swift_bridgeObjectRelease_n();
  __break(1u);
  return result;
}

void sub_2596CE918(uint64_t *a1)
{
  uint64_t v3 = a1[1];
  uint64_t v4 = sub_259845710();
  if (v4 >= v3)
  {
    if (v3 < 0) {
      goto LABEL_124;
    }
    if (v3) {
      sub_259478E80(0, v3, 1, a1);
    }
    return;
  }
  uint64_t v5 = v4;
  uint64_t v6 = sub_2594F047C(v3 / 2);
  uint64_t v92 = v7;
  uint64_t v93 = v6;
  uint64_t v90 = v3;
  BOOL v88 = a1;
  if (v3 <= 0) {
    goto LABEL_88;
  }
  uint64_t v8 = 0;
  uint64_t v9 = *a1;
  uint64_t v87 = *a1 - 8;
  unint64_t v10 = (void *)MEMORY[0x263F8EE78];
  uint64_t v89 = v5;
  uint64_t v91 = *a1;
  while (1)
  {
    uint64_t v11 = v8++;
    if (v8 < v3)
    {
      uint64_t v12 = *(void *)(v9 + 8 * v8);
      double v13 = *(double *)(*(void *)(v9 + 8 * v11) + 32);
      double v14 = *(double *)(v12 + 32);
      uint64_t v8 = v11 + 2;
      if (v11 + 2 < v3)
      {
        double v15 = *(double *)(v12 + 32);
        while (1)
        {
          double v16 = v15;
          double v15 = *(double *)(*(void *)(v9 + 8 * v8) + 32);
          if (v13 < v14 == v16 >= v15) {
            break;
          }
          if (++v8 >= v3)
          {
            uint64_t v8 = v3;
            break;
          }
        }
      }
      if (v13 < v14)
      {
        if (v8 < v11) {
          goto LABEL_125;
        }
        if (v11 < v8)
        {
          uint64_t v17 = (uint64_t *)(v87 + 8 * v8);
          uint64_t v18 = v8;
          uint64_t v19 = v11;
          uint64_t v20 = (uint64_t *)(v9 + 8 * v11);
          do
          {
            if (v19 != --v18)
            {
              if (!v9) {
                goto LABEL_131;
              }
              uint64_t v21 = *v20;
              *uint64_t v20 = *v17;
              *uint64_t v17 = v21;
            }
            ++v19;
            --v17;
            ++v20;
          }
          while (v19 < v18);
        }
      }
    }
    if (v8 < v3)
    {
      if (__OFSUB__(v8, v11)) {
        goto LABEL_123;
      }
      if (v8 - v11 < v5)
      {
        uint64_t v22 = v11 + v5;
        if (__OFADD__(v11, v5)) {
          goto LABEL_126;
        }
        if (v22 >= v3) {
          uint64_t v22 = v3;
        }
        if (v22 < v11)
        {
LABEL_127:
          __break(1u);
          goto LABEL_128;
        }
        if (v8 != v22)
        {
          uint64_t v23 = (void *)(v87 + 8 * v8);
          do
          {
            uint64_t v24 = *(void *)(v9 + 8 * v8);
            uint64_t v25 = v11;
            uint64_t v26 = v23;
            do
            {
              uint64_t v27 = *v26;
              if (*(double *)(*v26 + 32) >= *(double *)(v24 + 32)) {
                break;
              }
              if (!v9) {
                goto LABEL_129;
              }
              *uint64_t v26 = v24;
              v26[1] = v27;
              --v26;
              ++v25;
            }
            while (v8 != v25);
            ++v8;
            ++v23;
          }
          while (v8 != v22);
          uint64_t v8 = v22;
        }
      }
    }
    if (v8 < v11) {
      goto LABEL_122;
    }
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      OUTLINED_FUNCTION_31_14();
      sub_2596F23F0();
      unint64_t v10 = v78;
    }
    unint64_t v28 = v10[2];
    unint64_t v29 = v28 + 1;
    uint64_t v9 = v91;
    if (v28 >= v10[3] >> 1)
    {
      sub_2596F23F0();
      uint64_t v9 = v91;
      unint64_t v10 = v79;
    }
    v10[2] = v29;
    uint64_t v30 = v10 + 4;
    unint64_t v31 = &v10[2 * v28 + 4];
    *unint64_t v31 = v11;
    v31[1] = v8;
    if (v28) {
      break;
    }
    unint64_t v29 = 1;
LABEL_81:
    uint64_t v5 = v89;
    uint64_t v3 = v90;
    if (v8 >= v90) {
      goto LABEL_89;
    }
  }
  while (1)
  {
    unint64_t v32 = v29 - 1;
    if (v29 >= 4)
    {
      uint64_t v37 = &v30[2 * v29];
      uint64_t v38 = *(v37 - 8);
      uint64_t v39 = *(v37 - 7);
      BOOL v43 = __OFSUB__(v39, v38);
      uint64_t v40 = v39 - v38;
      if (v43) {
        goto LABEL_107;
      }
      uint64_t v42 = *(v37 - 6);
      uint64_t v41 = *(v37 - 5);
      BOOL v43 = __OFSUB__(v41, v42);
      uint64_t v35 = v41 - v42;
      char v36 = v43;
      if (v43) {
        goto LABEL_108;
      }
      unint64_t v44 = v29 - 2;
      uint64_t v45 = &v30[2 * v29 - 4];
      uint64_t v47 = *v45;
      uint64_t v46 = v45[1];
      BOOL v43 = __OFSUB__(v46, v47);
      uint64_t v48 = v46 - v47;
      if (v43) {
        goto LABEL_109;
      }
      BOOL v43 = __OFADD__(v35, v48);
      uint64_t v49 = v35 + v48;
      if (v43) {
        goto LABEL_111;
      }
      if (v49 >= v40)
      {
        uint64_t v67 = &v30[2 * v32];
        uint64_t v69 = *v67;
        uint64_t v68 = v67[1];
        BOOL v43 = __OFSUB__(v68, v69);
        uint64_t v70 = v68 - v69;
        if (v43) {
          goto LABEL_117;
        }
        BOOL v60 = v35 < v70;
        goto LABEL_70;
      }
    }
    else
    {
      if (v29 != 3)
      {
        uint64_t v61 = v10[4];
        uint64_t v62 = v10[5];
        BOOL v43 = __OFSUB__(v62, v61);
        uint64_t v54 = v62 - v61;
        char v55 = v43;
        goto LABEL_64;
      }
      uint64_t v34 = v10[4];
      uint64_t v33 = v10[5];
      BOOL v43 = __OFSUB__(v33, v34);
      uint64_t v35 = v33 - v34;
      char v36 = v43;
    }
    if (v36) {
      goto LABEL_110;
    }
    unint64_t v44 = v29 - 2;
    uint64_t v50 = &v30[2 * v29 - 4];
    uint64_t v52 = *v50;
    uint64_t v51 = v50[1];
    BOOL v53 = __OFSUB__(v51, v52);
    uint64_t v54 = v51 - v52;
    char v55 = v53;
    if (v53) {
      goto LABEL_112;
    }
    uint64_t v56 = &v30[2 * v32];
    uint64_t v58 = *v56;
    uint64_t v57 = v56[1];
    BOOL v43 = __OFSUB__(v57, v58);
    uint64_t v59 = v57 - v58;
    if (v43) {
      goto LABEL_114;
    }
    if (__OFADD__(v54, v59)) {
      goto LABEL_116;
    }
    if (v54 + v59 >= v35)
    {
      BOOL v60 = v35 < v59;
LABEL_70:
      if (v60) {
        unint64_t v32 = v44;
      }
      goto LABEL_72;
    }
LABEL_64:
    if (v55) {
      goto LABEL_113;
    }
    unint64_t v63 = &v30[2 * v32];
    uint64_t v65 = *v63;
    uint64_t v64 = v63[1];
    BOOL v43 = __OFSUB__(v64, v65);
    uint64_t v66 = v64 - v65;
    if (v43) {
      goto LABEL_115;
    }
    if (v66 < v54) {
      goto LABEL_81;
    }
LABEL_72:
    uint64_t v71 = v10;
    unint64_t v72 = v32 - 1;
    if (v32 - 1 >= v29)
    {
      __break(1u);
LABEL_104:
      __break(1u);
LABEL_105:
      __break(1u);
LABEL_106:
      __break(1u);
LABEL_107:
      __break(1u);
LABEL_108:
      __break(1u);
LABEL_109:
      __break(1u);
LABEL_110:
      __break(1u);
LABEL_111:
      __break(1u);
LABEL_112:
      __break(1u);
LABEL_113:
      __break(1u);
LABEL_114:
      __break(1u);
LABEL_115:
      __break(1u);
LABEL_116:
      __break(1u);
LABEL_117:
      __break(1u);
      goto LABEL_118;
    }
    if (!v9) {
      goto LABEL_130;
    }
    uint64_t v73 = &v30[2 * v72];
    uint64_t v74 = *v73;
    uint64_t v75 = &v30[2 * v32];
    uint64_t v76 = v75[1];
    sub_259478EE0((void *)(v9 + 8 * *v73), (void *)(v9 + 8 * *v75), v9 + 8 * v76, v92);
    if (v1) {
      break;
    }
    if (v76 < v74) {
      goto LABEL_104;
    }
    if (v32 > v71[2]) {
      goto LABEL_105;
    }
    *uint64_t v73 = v74;
    v30[2 * v72 + 1] = v76;
    unint64_t v77 = v71[2];
    if (v32 >= v77) {
      goto LABEL_106;
    }
    unint64_t v10 = v71;
    unint64_t v29 = v77 - 1;
    memmove(&v30[2 * v32], v75 + 2, 16 * (v77 - 1 - v32));
    v71[2] = v77 - 1;
    uint64_t v9 = v91;
    if (v77 <= 2) {
      goto LABEL_81;
    }
  }
LABEL_86:
  swift_bridgeObjectRelease();
  if (v90 >= -1) {
    goto LABEL_101;
  }
  __break(1u);
LABEL_88:
  unint64_t v10 = (void *)MEMORY[0x263F8EE78];
  unint64_t v29 = *(void *)(MEMORY[0x263F8EE78] + 16);
LABEL_89:
  if (v29 >= 2)
  {
    uint64_t v80 = *v88;
    while (1)
    {
      unint64_t v81 = v29 - 2;
      if (v29 < 2) {
        break;
      }
      if (!v80) {
        goto LABEL_132;
      }
      uint64_t v82 = v10[2 * v81 + 4];
      uint64_t v83 = v10[2 * v29 + 3];
      sub_259478EE0((void *)(v80 + 8 * v82), (void *)(v80 + 8 * v10[2 * v29 + 2]), v80 + 8 * v83, v92);
      if (v1) {
        goto LABEL_86;
      }
      if (v83 < v82) {
        goto LABEL_119;
      }
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2596F24C8();
        unint64_t v10 = v86;
      }
      if (v81 >= v10[2]) {
        goto LABEL_120;
      }
      uint64_t v84 = &v10[2 * v81 + 4];
      *uint64_t v84 = v82;
      v84[1] = v83;
      unint64_t v85 = v10[2];
      if (v29 > v85) {
        goto LABEL_121;
      }
      memmove(&v10[2 * v29 + 2], &v10[2 * v29 + 4], 16 * (v85 - v29));
      v10[2] = v85 - 1;
      unint64_t v29 = v85 - 1;
      if (v85 <= 2) {
        goto LABEL_100;
      }
    }
LABEL_118:
    __break(1u);
LABEL_119:
    __break(1u);
LABEL_120:
    __break(1u);
LABEL_121:
    __break(1u);
LABEL_122:
    __break(1u);
LABEL_123:
    __break(1u);
LABEL_124:
    __break(1u);
LABEL_125:
    __break(1u);
LABEL_126:
    __break(1u);
    goto LABEL_127;
  }
LABEL_100:
  swift_bridgeObjectRelease();
  if (v90 >= -1)
  {
LABEL_101:
    *(void *)((v93 & 0xFFFFFFFFFFFFFF8) + 0x10) = 0;
    sub_259844530();
    swift_bridgeObjectRelease();
    return;
  }
LABEL_128:
  __break(1u);
LABEL_129:
  __break(1u);
LABEL_130:
  __break(1u);
LABEL_131:
  __break(1u);
LABEL_132:
  __break(1u);
}

uint64_t sub_2596CEEEC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4, void *a5)
{
  if (a3 != a2)
  {
    uint64_t v33 = *a4;
    do
    {
      uint64_t v32 = a3;
      uint64_t v37 = a3;
LABEL_4:
      unint64_t v5 = a5[2];
      if (v5)
      {
        uint64_t v6 = (char *)(v33 + 144 * v37);
        uint64_t v7 = *((void *)v6 + 1);
        uint64_t v8 = *((void *)v6 + 2);
        uint64_t v9 = *((void *)v6 - 17);
        uint64_t v10 = *((void *)v6 - 16);
        __src = v6;
        uint64_t v11 = a5[4];
        uint64_t v12 = a5[5];
        if (v11 == v7 && v12 == v8)
        {
          if (v7 == v9 && v8 == v10) {
            goto LABEL_45;
          }
          goto LABEL_19;
        }
        if (sub_259845750())
        {
          if (v11 == v9 && v12 == v10) {
            goto LABEL_45;
          }
LABEL_19:
          uint64_t v16 = 0;
LABEL_20:
          uint64_t result = sub_259845750();
          if (result) {
            goto LABEL_45;
          }
          --v37;
          uint64_t v18 = __src - 144;
          uint64_t v19 = a5 + 7;
          unint64_t v20 = 1;
          while (1)
          {
            if (v5 == v20) {
              goto LABEL_45;
            }
            unint64_t v21 = v20;
            if (v20 >= v5) {
              break;
            }
            uint64_t result = *(v19 - 1);
            if (result != v9 || v10 != *v19)
            {
              uint64_t result = sub_259845750();
              unint64_t v20 = v21 + 1;
              v19 += 2;
              if ((result & 1) == 0) {
                continue;
              }
            }
            if (v16 > (uint64_t)(v21 - 1)) {
              goto LABEL_45;
            }
            if (v33)
            {
              memcpy(__dst, __src, sizeof(__dst));
              memcpy(__src, v18, 0x90uLL);
              memcpy(v18, __dst, 0x90uLL);
              if (v37 != a1) {
                goto LABEL_4;
              }
              goto LABEL_45;
            }
LABEL_48:
            __break(1u);
            return result;
          }
          __break(1u);
          goto LABEL_48;
        }
        uint64_t v23 = v12;
        uint64_t v24 = v11;
        uint64_t v25 = a5 + 7;
        uint64_t v26 = 1;
        do
        {
          if (v5 == v26) {
            goto LABEL_45;
          }
          uint64_t v16 = v26;
          if (*(v25 - 1) == v7 && *v25 == v8) {
            break;
          }
          char v28 = sub_259845750();
          uint64_t v26 = v16 + 1;
          v25 += 2;
        }
        while ((v28 & 1) == 0);
        if (v24 != v9 || v23 != v10) {
          goto LABEL_20;
        }
      }
LABEL_45:
      a3 = v32 + 1;
    }
    while (v32 + 1 != a2);
  }
  return swift_bridgeObjectRelease();
}

uint64_t sub_2596CF134(char *a1, char *a2, char *a3, char *a4, void *a5)
{
  unint64_t v5 = a4;
  uint64_t v6 = a3;
  uint64_t v7 = a2;
  uint64_t v8 = a1;
  uint64_t v9 = a2 - a1;
  uint64_t v10 = (a2 - a1) / 144;
  uint64_t v11 = a3 - a2;
  uint64_t v12 = (a3 - a2) / 144;
  if (v10 >= v12)
  {
    sub_2596EDDF0(a2, (a3 - a2) / 144, a4);
    unint64_t v70 = (unint64_t)&v5[144 * v12];
    if (v8 >= v7 || v11 <= 143) {
      goto LABEL_120;
    }
    __srca = v5;
    while (1)
    {
      unint64_t v72 = v7;
      uint64_t v64 = v6;
      uint64_t v66 = v6 - 144;
      unint64_t v38 = a5[2];
      if (v38)
      {
        uint64_t v39 = *(void *)(v70 - 136);
        uint64_t v40 = *(void *)(v70 - 128);
        uint64_t v41 = *((void *)v7 - 17);
        uint64_t v42 = *((void *)v7 - 16);
        uint64_t v44 = a5[4];
        uint64_t v43 = a5[5];
        BOOL v45 = v44 == v39 && v43 == v40;
        uint64_t v62 = a5[4];
        if (v45)
        {
          if (v39 != v41 || v40 != v42) {
            goto LABEL_80;
          }
        }
        else
        {
          if ((sub_259845750() & 1) == 0)
          {
            char v55 = a5 + 7;
            uint64_t v56 = 1;
            while (v38 != v56)
            {
              uint64_t v48 = v56;
              if (*(v55 - 1) != v39 || *v55 != v40)
              {
                char v58 = sub_259845750();
                uint64_t v56 = v48 + 1;
                v55 += 2;
                if ((v58 & 1) == 0) {
                  continue;
                }
              }
              if (v62 == v41 && v43 == v42) {
                goto LABEL_108;
              }
              goto LABEL_81;
            }
            goto LABEL_108;
          }
          if (v44 != v41 || v43 != v42)
          {
LABEL_80:
            uint64_t v48 = 0;
LABEL_81:
            uint64_t result = sub_259845750();
            if ((result & 1) == 0)
            {
              uint64_t v49 = v72 - 144;
              uint64_t v50 = a5 + 7;
              unint64_t v51 = 1;
              while (v38 != v51)
              {
                unint64_t v52 = v51;
                if (v51 >= v38)
                {
LABEL_122:
                  __break(1u);
                  return result;
                }
                if (*(v50 - 1) != v41 || v42 != *v50)
                {
                  uint64_t result = sub_259845750();
                  unint64_t v51 = v52 + 1;
                  v50 += 2;
                  if ((result & 1) == 0) {
                    continue;
                  }
                }
                if (v48 > (uint64_t)(v52 - 1)) {
                  break;
                }
                uint64_t v6 = v66;
                BOOL v54 = v64 != v72 || v66 >= v72;
                uint64_t v7 = v72 - 144;
                if (v54) {
                  goto LABEL_113;
                }
                goto LABEL_114;
              }
            }
          }
        }
      }
LABEL_108:
      uint64_t v49 = (char *)(v70 - 144);
      uint64_t v6 = v66;
      BOOL v60 = v64 != (char *)v70 || (unint64_t)v66 >= v70;
      v70 -= 144;
      uint64_t v7 = v72;
      if (v60) {
LABEL_113:
      }
        memmove(v6, v49, 0x90uLL);
LABEL_114:
      unint64_t v5 = __srca;
      if (v7 <= v8 || v70 <= (unint64_t)__srca) {
        goto LABEL_120;
      }
    }
  }
  sub_2596EDDF0(a1, (a2 - a1) / 144, a4);
  unint64_t v70 = (unint64_t)&v5[144 * v10];
  if (v7 < v6 && v9 > 143)
  {
    uint64_t v65 = v6;
    while (1)
    {
      uint64_t v71 = v7;
      __src = v5;
      unint64_t v13 = a5[2];
      if (v13)
      {
        uint64_t v14 = *((void *)v7 + 1);
        uint64_t v15 = *((void *)v7 + 2);
        uint64_t v16 = *((void *)v5 + 1);
        uint64_t v17 = *((void *)__src + 2);
        uint64_t v19 = a5[4];
        uint64_t v18 = a5[5];
        BOOL v20 = v19 == v14 && v18 == v15;
        uint64_t v63 = a5[4];
        if (v20)
        {
          if (v14 != v16 || v15 != v17) {
            goto LABEL_21;
          }
        }
        else
        {
          if ((sub_259845750() & 1) == 0)
          {
            unint64_t v31 = a5 + 7;
            uint64_t v32 = 1;
            while (v13 != v32)
            {
              uint64_t v23 = v32;
              if (*(v31 - 1) != v14 || *v31 != v15)
              {
                char v34 = sub_259845750();
                uint64_t v32 = v23 + 1;
                v31 += 2;
                if ((v34 & 1) == 0) {
                  continue;
                }
              }
              if (v63 == v16 && v18 == v17) {
                goto LABEL_49;
              }
              goto LABEL_22;
            }
            goto LABEL_49;
          }
          if (v19 != v16 || v18 != v17)
          {
LABEL_21:
            uint64_t v23 = 0;
LABEL_22:
            uint64_t result = sub_259845750();
            if ((result & 1) == 0)
            {
              uint64_t v25 = a5 + 7;
              unint64_t v26 = 1;
              while (v13 != v26)
              {
                unint64_t v27 = v26;
                if (v26 >= v13)
                {
                  __break(1u);
                  goto LABEL_122;
                }
                if (*(v25 - 1) != v16 || v17 != *v25)
                {
                  uint64_t result = sub_259845750();
                  unint64_t v26 = v27 + 1;
                  v25 += 2;
                  if ((result & 1) == 0) {
                    continue;
                  }
                }
                if (v23 > (uint64_t)(v27 - 1)) {
                  break;
                }
                unint64_t v29 = v71;
                uint64_t v7 = v71 + 144;
                BOOL v30 = v8 != v71 || v8 >= v7;
                unint64_t v5 = __src;
                if (v30) {
                  goto LABEL_54;
                }
                goto LABEL_55;
              }
            }
          }
        }
      }
LABEL_49:
      unint64_t v29 = __src;
      unint64_t v5 = __src + 144;
      BOOL v36 = v8 != __src || v8 >= v5;
      uint64_t v7 = v71;
      if (v36) {
LABEL_54:
      }
        memmove(v8, v29, 0x90uLL);
LABEL_55:
      v8 += 144;
      if ((unint64_t)v5 >= v70 || v7 >= v65)
      {
        uint64_t v7 = v8;
        goto LABEL_120;
      }
    }
  }
  uint64_t v7 = v8;
LABEL_120:
  sub_2596EDDF0(v5, (uint64_t)(v70 - (void)v5) / 144, v7);
  swift_bridgeObjectRelease();
  return 1;
}

void OUTLINED_FUNCTION_20_42(void *a1, uint64_t a2, uint64_t a3, const char *a4)
{
  _os_log_impl(a1, v4, v5, a4, v6, 2u);
}

uint64_t OUTLINED_FUNCTION_23_41()
{
  return swift_dynamicCast();
}

void OUTLINED_FUNCTION_30_28()
{
  sub_259387798();
}

void OUTLINED_FUNCTION_38_26()
{
  sub_2594F08BC();
}

BOOL OUTLINED_FUNCTION_39_27(os_log_type_t a1)
{
  return os_log_type_enabled(v1, a1);
}

uint64_t OUTLINED_FUNCTION_45_22()
{
  return sub_259844E70();
}

uint64_t OUTLINED_FUNCTION_46_26()
{
  return swift_beginAccess();
}

uint64_t OUTLINED_FUNCTION_51_18()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_54_22()
{
  return 0;
}

unint64_t OUTLINED_FUNCTION_57_20(uint64_t a1)
{
  return a1 & 0xFFFFFFFFFFFFLL | 0xD000000000000000;
}

void OUTLINED_FUNCTION_69_16()
{
  sub_2594F08BC();
}

BOOL OUTLINED_FUNCTION_72_16()
{
  return v0 > 1;
}

void OUTLINED_FUNCTION_74_14()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_77_9()
{
  sub_259387798();
}

void OUTLINED_FUNCTION_80_14()
{
  sub_2594F08BC();
}

void OUTLINED_FUNCTION_82_16(void *a1, uint64_t a2, uint64_t a3, const char *a4)
{
  _os_log_impl(a1, v5, v4, a4, v6, 2u);
}

uint64_t OUTLINED_FUNCTION_83_14()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_84_15(unint64_t a1)
{
  return static StoryMusicEmbeddingTerms.filterKeywordsBelowTermThreshold(from:minScoreThreshold:)(a1, 0x3FE4CCCCCCCCCCCDLL, 0);
}

void OUTLINED_FUNCTION_86_14()
{
  sub_2594F08BC();
}

uint64_t OUTLINED_FUNCTION_88_14@<X0>(uint64_t a1@<X0>, void *a2@<X8>)
{
  *a2 = a1;
  return sub_259844E10();
}

uint64_t OUTLINED_FUNCTION_89_13(uint64_t a1, unsigned char *a2)
{
  *a2 = 6;
  return swift_willThrow();
}

uint64_t OUTLINED_FUNCTION_92_13()
{
  return swift_release_n();
}

uint64_t OUTLINED_FUNCTION_93_12(float a1)
{
  *uint64_t v1 = a1;
  return type metadata accessor for MusicKeywordCompletion();
}

uint64_t OUTLINED_FUNCTION_100_10()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_103_9()
{
  return v0;
}

uint64_t OUTLINED_FUNCTION_104_11@<X0>(uint64_t a1@<X8>)
{
  return a1;
}

uint64_t sub_2596CF8F0()
{
  sub_2593C4E3C();
  uint64_t result = sub_259844DA0();
  qword_26A3D1DF8 = result;
  return result;
}

uint64_t sub_2596CF958()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A3D1E00);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A3D1E00);
  if (qword_26A388AF8 != -1) {
    swift_once();
  }
  id v1 = (id)qword_26A3D1DF8;
  return sub_259843A90();
}

BOOL static AppleMusicPrivacyPromptStateTracker.isDisclosureNeeded()()
{
  id v0 = objc_msgSend(self, sel_appleMusicMCPrivacyDisclosureState);
  uint64_t v1 = sub_2598440A0();
  unint64_t v3 = v2;

  if ((v3 & 0x2000000000000000) != 0) {
    uint64_t v4 = HIBYTE(v3) & 0xF;
  }
  else {
    uint64_t v4 = v1 & 0xFFFFFFFFFFFFLL;
  }
  if (v4)
  {
    if (qword_26A388B00 != -1) {
      swift_once();
    }
    uint64_t v5 = sub_259843A80();
    __swift_project_value_buffer(v5, (uint64_t)qword_26A3D1E00);
    sub_259843F00();
    uint64_t v6 = sub_259843A50();
    os_log_type_t v7 = sub_259844B30();
    if (os_log_type_enabled(v6, v7))
    {
      swift_slowAlloc();
      uint64_t v11 = swift_slowAlloc();
      OUTLINED_FUNCTION_3_68(4.8149e-34);
      sub_259356D5C(v1, v3, &v11);
      OUTLINED_FUNCTION_0_55();
      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_69(&dword_25934C000, v8, v9, "[Music] Apple Music Privacy Disclosure not needed. disclosureState = %s");
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
    }
  }
  else
  {
    swift_bridgeObjectRelease();
  }
  return v4 == 0;
}

void static AppleMusicPrivacyPromptStateTracker.reset()()
{
  if (qword_26A388B00 != -1) {
    swift_once();
  }
  uint64_t v0 = sub_259843A80();
  __swift_project_value_buffer(v0, (uint64_t)qword_26A3D1E00);
  uint64_t v1 = sub_259843A50();
  os_log_type_t v2 = sub_259844B30();
  if (os_log_type_enabled(v1, v2))
  {
    unint64_t v3 = (uint8_t *)swift_slowAlloc();
    *(_WORD *)unint64_t v3 = 0;
    _os_log_impl(&dword_25934C000, v1, v2, "[Music] Disclosure state is reset.", v3, 2u);
    OUTLINED_FUNCTION_61_0();
  }

  id v4 = objc_msgSend(self, sel_standardUserDefaults);
  id v5 = (id)sub_259844070();
  objc_msgSend(v4, sel_removeObjectForKey_, v5);
}

void static AppleMusicPrivacyPromptStateTracker.markShown(with:)(uint64_t a1, unint64_t a2)
{
  if (qword_26A388B00 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_259843A80();
  __swift_project_value_buffer(v4, (uint64_t)qword_26A3D1E00);
  swift_bridgeObjectRetain_n();
  id v5 = sub_259843A50();
  os_log_type_t v6 = sub_259844B50();
  if (os_log_type_enabled(v5, v6))
  {
    swift_slowAlloc();
    uint64_t v13 = swift_slowAlloc();
    OUTLINED_FUNCTION_3_68(4.8149e-34);
    sub_259356D5C(a1, a2, &v13);
    OUTLINED_FUNCTION_0_55();
    swift_bridgeObjectRelease_n();
    OUTLINED_FUNCTION_69(&dword_25934C000, v7, v8, "[Music] newDisclosureState='%s'");
    swift_arrayDestroy();
    OUTLINED_FUNCTION_61_0();
    OUTLINED_FUNCTION_61_0();
  }
  else
  {

    swift_bridgeObjectRelease_n();
  }
  id v9 = objc_msgSend(self, sel_standardUserDefaults);
  uint64_t v10 = (void *)sub_259844070();
  uint64_t v11 = sub_2598440A0();
  sub_2594977D4((uint64_t)v10, 0xD000000000000024, 0x800000025985FC50, v11, v12, v9);
}

ValueMetadata *type metadata accessor for AppleMusicPrivacyPromptStateTracker()
{
  return &type metadata for AppleMusicPrivacyPromptStateTracker;
}

void sub_2596CFECC(uint64_t a1, uint64_t a2, double a3)
{
  uint64_t v3 = a1;
  uint64_t v4 = *(void *)(a1 + 16);
  if (v4)
  {
    unint64_t v6 = 0;
    uint64_t v27 = *(void *)(a1 + 16);
    uint64_t v7 = a1 + 57;
    uint64_t v24 = v4 - 1;
    uint64_t v8 = MEMORY[0x263F8EE78];
    uint64_t v25 = a1 + 57;
    do
    {
      uint64_t v26 = v8;
      id v9 = (char *)(v7 + 32 * v6);
      unint64_t v10 = v6;
      while (1)
      {
        if (v10 >= *(void *)(v3 + 16))
        {
          __break(1u);
          return;
        }
        uint64_t v11 = *(void *)(v9 - 25);
        uint64_t v12 = *(void *)(v9 - 17);
        double v13 = *(double *)(v9 - 9);
        char v14 = *(v9 - 1);
        unint64_t v6 = v10 + 1;
        char v15 = *v9;
        swift_bridgeObjectRetain_n();
        sub_25973CE24(v11, v12, a2);
        char v17 = v16;
        swift_bridgeObjectRelease();
        if (v17 & 1) == 0 || (v15) {
          break;
        }
        if (v14)
        {
          uint64_t v18 = sub_259843A50();
          os_log_type_t v19 = sub_259844B50();
          if (os_log_type_enabled(v18, v19))
          {
            BOOL v20 = (uint8_t *)swift_slowAlloc();
            *(_WORD *)BOOL v20 = 0;
            _os_log_impl(&dword_25934C000, v18, v19, "Unexpectedly found a search result that isn't a metadata match and has no embedding similarity score.", v20, 2u);
            MEMORY[0x25A2E13A0](v20, -1, -1);
          }
          swift_bridgeObjectRelease();
        }
        else
        {
          if (v13 >= a3)
          {
            char v14 = 0;
            char v15 = 0;
            break;
          }
          swift_bridgeObjectRelease();
        }
        uint64_t v3 = a1;
        v9 += 32;
        ++v10;
        if (v27 == v6) {
          goto LABEL_21;
        }
      }
      uint64_t v8 = v26;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_2594F1F70();
        uint64_t v8 = v26;
      }
      unint64_t v21 = *(void *)(v8 + 16);
      unint64_t v22 = v21 + 1;
      if (v21 >= *(void *)(v8 + 24) >> 1)
      {
        sub_2594F1F70();
        unint64_t v22 = v21 + 1;
        uint64_t v8 = v26;
      }
      *(void *)(v8 + 16) = v22;
      uint64_t v23 = v8 + 32 * v21;
      *(void *)(v23 + 32) = v11;
      *(void *)(v23 + 40) = v12;
      *(double *)(v23 + 48) = v13;
      *(unsigned char *)(v23 + 56) = v14;
      *(unsigned char *)(v23 + 57) = v15;
      uint64_t v3 = a1;
      uint64_t v7 = v25;
    }
    while (v24 != v10);
  }
LABEL_21:
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_release();
}

void static FreeformStoryChapterGenerator.storyAssets(from:photoLibrary:)(uint64_t a1, uint64_t a2)
{
  *((void *)&v31 + 1) = a2;
  uint64_t v3 = MEMORY[0x263F8EE88];
  uint64_t v42 = MEMORY[0x263F8EE88];
  uint64_t v35 = *(void *)(a1 + 16);
  if (!v35) {
    goto LABEL_36;
  }
  uint64_t v34 = a1 + 32;
  *(void *)&long long v31 = a1;
  sub_259843F00();
  uint64_t v4 = 0;
  while (1)
  {
    memcpy(__dst, (const void *)(v34 + (v4 << 7)), 0x80uLL);
    id v5 = (void *)__dst[8];
    sub_25942F854((uint64_t)__dst);
    if (objc_msgSend(v5, sel_fetchedObjects))
    {
      uint64_t v6 = OUTLINED_FUNCTION_271();
      sub_25935633C(v6, (unint64_t *)&qword_26B2F83C0);
      unint64_t v7 = sub_259844500();
    }
    else
    {
      unint64_t v7 = MEMORY[0x263F8EE78];
    }
    if (v7 >> 62)
    {
      OUTLINED_FUNCTION_96_11();
      uint64_t v8 = sub_259845460();
      if (!v8) {
        goto LABEL_14;
      }
    }
    else
    {
      uint64_t v8 = *(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (!v8) {
        goto LABEL_14;
      }
    }
    if (v8 < 1) {
      goto LABEL_39;
    }
    uint64_t v9 = 0;
    do
    {
      if ((v7 & 0xC000000000000001) != 0) {
        id v10 = (id)MEMORY[0x25A2DFA20](v9, v7);
      }
      else {
        id v10 = *(id *)(v7 + 8 * v9 + 32);
      }
      ++v9;
      os_log_type_t v2 = (char *)&v42;
      sub_2596D4FC8(&v40, v10);
    }
    while (v8 != v9);
LABEL_14:
    swift_bridgeObjectRelease();
    uint64_t v39 = *(void *)(__dst[5] + 16);
    if (v39) {
      break;
    }
LABEL_32:
    ++v4;
    sub_25942F91C((uint64_t)__dst);
    if (v4 == v35)
    {
      swift_bridgeObjectRelease();
      uint64_t v3 = v42;
LABEL_36:
      uint64_t v20 = sub_25953BF5C(v3);
      swift_bridgeObjectRelease();
      sub_2598440A0();
      sub_25952C348(v20, v21, v22, v23, v24, v25, v26, v27, v30, v31, v33, v34, v35, v36, v37, v38, v39, (uint64_t)v40, __dst[0],
        __dst[1],
        __dst[2],
        __dst[3],
        __dst[4],
        __dst[5],
        __dst[6]);
      id v28 = objc_allocWithZone(MEMORY[0x263F14E58]);
      id v29 = v32;
      OUTLINED_FUNCTION_116_5();
      sub_25953B8C8();
      swift_release();
      return;
    }
  }
  uint64_t v36 = v4;
  uint64_t v38 = __dst[5] + 32;
  uint64_t v11 = sub_259843F00();
  unint64_t v12 = 0;
  uint64_t v37 = v11;
  while (v12 < *(void *)(v11 + 16))
  {
    double v13 = *(void **)(v38 + 32 * v12 + 16);
    sub_259843F00();
    os_log_type_t v2 = sel_fetchedObjects;
    sub_259843F00();
    id v14 = v13;
    if (objc_msgSend(v14, sel_fetchedObjects))
    {
      uint64_t v15 = OUTLINED_FUNCTION_271();
      sub_25935633C(v15, (unint64_t *)&qword_26B2F83C0);
      unint64_t v16 = sub_259844500();
    }
    else
    {
      unint64_t v16 = MEMORY[0x263F8EE78];
    }
    if (v16 >> 62)
    {
      sub_259843F00();
      uint64_t v17 = sub_259845460();
      swift_bridgeObjectRelease();
      if (!v17) {
        goto LABEL_28;
      }
    }
    else
    {
      uint64_t v17 = *(void *)((v16 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (!v17) {
        goto LABEL_28;
      }
    }
    if (v17 < 1) {
      goto LABEL_38;
    }
    uint64_t v18 = 0;
    do
    {
      if ((v16 & 0xC000000000000001) != 0) {
        id v19 = (id)MEMORY[0x25A2DFA20](v18, v16);
      }
      else {
        id v19 = *(id *)(v16 + 8 * v18 + 32);
      }
      ++v18;
      os_log_type_t v2 = (char *)&v42;
      sub_2596D4FC8(&v40, v19);
    }
    while (v17 != v18);
LABEL_28:
    ++v12;
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v11 = v37;
    if (v12 == v39)
    {
      swift_bridgeObjectRelease();
      uint64_t v4 = v36;
      goto LABEL_32;
    }
  }
  __break(1u);
LABEL_38:
  __break(1u);
LABEL_39:
  __break(1u);
}

uint64_t sub_2596D04E4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v23 = a4;
  uint64_t v6 = *(void *)(a1 + 16);
  if (v6)
  {
    unint64_t v7 = (uint64_t *)(sub_259843F00() + 40);
    uint64_t v8 = MEMORY[0x263F8EE78];
    while (1)
    {
      uint64_t v9 = *v7;
      v22[0] = *(v7 - 1);
      v22[1] = v9;
      sub_259843F00();
      sub_2596D3FA0(v22, a2, v23, (uint64_t)&v19);
      if (v4) {
        break;
      }
      swift_bridgeObjectRelease();
      if ((void)v20)
      {
        long long v18 = v20;
        uint64_t v10 = v19;
        uint64_t v11 = v21;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_259386530();
          uint64_t v8 = v15;
        }
        unint64_t v12 = *(void *)(v8 + 16);
        long long v13 = v18;
        if (v12 >= *(void *)(v8 + 24) >> 1)
        {
          sub_259386530();
          long long v13 = v18;
          uint64_t v8 = v16;
        }
        *(void *)(v8 + 16) = v12 + 1;
        uint64_t v14 = v8 + 32 * v12;
        *(void *)(v14 + 32) = v10;
        *(_OWORD *)(v14 + 40) = v13;
        *(void *)(v14 + 56) = v11;
      }
      v7 += 2;
      if (!--v6)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        goto LABEL_14;
      }
    }
    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v8 = MEMORY[0x263F8EE78];
LABEL_14:
    swift_release();
    swift_release();
  }
  return v8;
}

unint64_t sub_2596D06A0(unint64_t result)
{
  unint64_t v1 = result;
  if (result >> 62)
  {
    OUTLINED_FUNCTION_96_11();
    uint64_t result = sub_259845460();
    uint64_t v2 = result;
    if (!result) {
      goto LABEL_9;
    }
  }
  else
  {
    uint64_t v2 = *(void *)((result & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (!v2) {
      goto LABEL_9;
    }
  }
  if (v2 < 1)
  {
    __break(1u);
    return result;
  }
  for (uint64_t i = 0; i != v2; ++i)
  {
    if ((v1 & 0xC000000000000001) != 0) {
      id v4 = (id)MEMORY[0x25A2DFA20](i, v1);
    }
    else {
      id v4 = *(id *)(v1 + 8 * i + 32);
    }
    sub_2596D4FC8(&v5, v4);
  }
LABEL_9:
  return swift_bridgeObjectRelease();
}

void sub_2596D0768(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, id a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, unint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30)
{
  OUTLINED_FUNCTION_154();
  a29 = v31;
  a30 = v32;
  uint64_t v34 = v33;
  if ((v33 & 0xC000000000000001) != 0)
  {
    OUTLINED_FUNCTION_96_11();
    sub_259844F70();
    sub_25935633C(0, (unint64_t *)&qword_26B300520);
    sub_25940CF04();
    sub_259844970();
    uint64_t v34 = a14;
    uint64_t v49 = a15;
    uint64_t v35 = a16;
    int64_t v36 = a17;
    unint64_t v37 = a18;
  }
  else
  {
    int64_t v36 = 0;
    OUTLINED_FUNCTION_37_24();
    uint64_t v49 = v34 + 56;
    uint64_t v35 = ~v39;
    uint64_t v40 = -v39;
    if (v40 < 64) {
      uint64_t v41 = ~(v38 << v40);
    }
    else {
      uint64_t v41 = v38;
    }
    unint64_t v37 = v41 & *(void *)(v34 + 56);
  }
  int64_t v42 = (unint64_t)(v35 + 64) >> 6;
  if (v34 < 0) {
    goto LABEL_10;
  }
  while (1)
  {
    if (v37)
    {
      uint64_t v30 = (v37 - 1) & v37;
      unint64_t v43 = __clz(__rbit64(v37)) | (v36 << 6);
      int64_t v44 = v36;
      goto LABEL_29;
    }
    int64_t v46 = v36 + 1;
    if (__OFADD__(v36, 1)) {
      break;
    }
    if (v46 >= v42) {
      goto LABEL_32;
    }
    int64_t v44 = v36 + 1;
    if (!*(void *)(v49 + 8 * v46))
    {
      int64_t v44 = v36 + 2;
      if (v36 + 2 >= v42) {
        goto LABEL_32;
      }
      if (!*(void *)(v49 + 8 * v44))
      {
        int64_t v44 = v36 + 3;
        if (v36 + 3 >= v42) {
          goto LABEL_32;
        }
        if (!*(void *)(v49 + 8 * v44))
        {
          int64_t v44 = v36 + 4;
          if (v36 + 4 >= v42) {
            goto LABEL_32;
          }
          if (!*(void *)(v49 + 8 * v44))
          {
            int64_t v44 = v36 + 5;
            if (v36 + 5 >= v42) {
              goto LABEL_32;
            }
            if (!*(void *)(v49 + 8 * v44))
            {
              int64_t v47 = v36 + 6;
              while (v47 < v42)
              {
                if (*(void *)(v49 + 8 * v47++))
                {
                  int64_t v44 = v47 - 1;
                  goto LABEL_28;
                }
              }
LABEL_32:
              sub_25940CF64();
              OUTLINED_FUNCTION_127_0();
              return;
            }
          }
        }
      }
    }
LABEL_28:
    OUTLINED_FUNCTION_101_10();
LABEL_29:
    id v45 = *(id *)(*(void *)(v34 + 48) + 8 * v43);
    if (!v45) {
      goto LABEL_32;
    }
    while (1)
    {
      sub_2596D5694(&a13, v45);

      int64_t v36 = v44;
      unint64_t v37 = v30;
      if ((v34 & 0x8000000000000000) == 0) {
        break;
      }
LABEL_10:
      if (sub_259845010())
      {
        sub_25935633C(0, (unint64_t *)&qword_26B300520);
        swift_unknownObjectRetain();
        swift_dynamicCast();
        id v45 = a13;
        swift_unknownObjectRelease();
        int64_t v44 = v36;
        uint64_t v30 = v37;
        if (v45) {
          continue;
        }
      }
      goto LABEL_32;
    }
  }
  __break(1u);
}

uint64_t sub_2596D09D0(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (v1)
  {
    uint64_t v2 = (uint64_t *)(a1 + 40);
    do
    {
      uint64_t v3 = *(v2 - 1);
      uint64_t v4 = *v2;
      sub_259843F00();
      sub_2596D4E7C((uint64_t)v11, v3, v4, v5, v6, v7, v8, v9, v11[0], v11[1]);
      swift_bridgeObjectRelease();
      v2 += 2;
      --v1;
    }
    while (v1);
  }
  return swift_bridgeObjectRelease();
}

void sub_2596D0A58(uint64_t a1)
{
  int64_t v2 = 0;
  uint64_t v3 = a1 + 56;
  OUTLINED_FUNCTION_12_12();
  unint64_t v6 = v5 & v4;
  int64_t v8 = (unint64_t)(v7 + 63) >> 6;
  if ((v5 & v4) == 0) {
    goto LABEL_3;
  }
LABEL_2:
  unint64_t v9 = __clz(__rbit64(v6));
  v6 &= v6 - 1;
  for (unint64_t i = v9 | (v2 << 6); ; unint64_t i = __clz(__rbit64(v12)) + (v2 << 6))
  {
    uint64_t v14 = (uint64_t *)(*(void *)(a1 + 48) + 16 * i);
    uint64_t v15 = *v14;
    uint64_t v16 = v14[1];
    sub_259843F00();
    sub_2596D4E7C((uint64_t)v22, v15, v16, v17, v18, v19, v20, v21, v22[0], v22[1]);
    swift_bridgeObjectRelease();
    if (v6) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v11 = v2 + 1;
    if (__OFADD__(v2, 1))
    {
      __break(1u);
LABEL_25:
      __break(1u);
      return;
    }
    if (v11 >= v8) {
      goto LABEL_21;
    }
    unint64_t v12 = *(void *)(v3 + 8 * v11);
    ++v2;
    if (!v12)
    {
      int64_t v2 = v11 + 1;
      if (v11 + 1 >= v8) {
        goto LABEL_21;
      }
      unint64_t v12 = *(void *)(v3 + 8 * v2);
      if (!v12)
      {
        int64_t v2 = v11 + 2;
        if (v11 + 2 >= v8) {
          goto LABEL_21;
        }
        unint64_t v12 = *(void *)(v3 + 8 * v2);
        if (!v12)
        {
          int64_t v2 = v11 + 3;
          if (v11 + 3 >= v8) {
            goto LABEL_21;
          }
          unint64_t v12 = *(void *)(v3 + 8 * v2);
          if (!v12) {
            break;
          }
        }
      }
    }
LABEL_18:
    unint64_t v6 = (v12 - 1) & v12;
  }
  int64_t v13 = v11 + 4;
  if (v13 < v8)
  {
    unint64_t v12 = *(void *)(v3 + 8 * v13);
    if (!v12)
    {
      while (1)
      {
        int64_t v2 = v13 + 1;
        if (__OFADD__(v13, 1)) {
          goto LABEL_25;
        }
        if (v2 >= v8) {
          goto LABEL_21;
        }
        unint64_t v12 = *(void *)(v3 + 8 * v2);
        ++v13;
        if (v12) {
          goto LABEL_18;
        }
      }
    }
    int64_t v2 = v13;
    goto LABEL_18;
  }
LABEL_21:
  swift_release();
}

void sub_2596D0BC8(uint64_t a1)
{
  int64_t v2 = 0;
  uint64_t v3 = a1 + 56;
  OUTLINED_FUNCTION_12_12();
  unint64_t v6 = v5 & v4;
  int64_t v8 = (unint64_t)(v7 + 63) >> 6;
  if ((v5 & v4) == 0) {
    goto LABEL_3;
  }
LABEL_2:
  unint64_t v9 = __clz(__rbit64(v6));
  v6 &= v6 - 1;
  unint64_t v10 = v9 | (v2 << 6);
  while (1)
  {
    int64_t v13 = (long long *)(*(void *)(a1 + 48) + 48 * v10);
    long long v14 = v13[2];
    long long v15 = *v13;
    long long v18 = v13[1];
    long long v19 = v14;
    long long v17 = v15;
    long long v20 = v15;
    long long v21 = v18;
    long long v22 = v14;
    sub_259511F14((uint64_t)&v20);
    sub_25945EA98((uint64_t)&v21);
    sub_25945EA98((uint64_t)&v21 + 8);
    sub_25945EA98((uint64_t)&v22);
    sub_25945EA98((uint64_t)&v22 + 8);
    sub_2596D9654((uint64_t)&v16, (uint64_t)&v17);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v6) {
      goto LABEL_2;
    }
LABEL_3:
    int64_t v11 = v2 + 1;
    if (__OFADD__(v2, 1))
    {
      __break(1u);
      goto LABEL_23;
    }
    if (v11 >= v8) {
      goto LABEL_21;
    }
    ++v2;
    if (!*(void *)(v3 + 8 * v11))
    {
      int64_t v2 = v11 + 1;
      if (v11 + 1 >= v8) {
        goto LABEL_21;
      }
      if (!*(void *)(v3 + 8 * v2))
      {
        int64_t v2 = v11 + 2;
        if (v11 + 2 >= v8) {
          goto LABEL_21;
        }
        if (!*(void *)(v3 + 8 * v2))
        {
          int64_t v2 = v11 + 3;
          if (v11 + 3 >= v8) {
            goto LABEL_21;
          }
          if (!*(void *)(v3 + 8 * v2)) {
            break;
          }
        }
      }
    }
LABEL_18:
    OUTLINED_FUNCTION_101_10();
  }
  int64_t v12 = v11 + 4;
  if (v12 >= v8)
  {
LABEL_21:
    swift_release();
    return;
  }
  if (*(void *)(v3 + 8 * v12))
  {
    int64_t v2 = v12;
    goto LABEL_18;
  }
  while (1)
  {
    int64_t v2 = v12 + 1;
    if (__OFADD__(v12, 1)) {
      break;
    }
    if (v2 >= v8) {
      goto LABEL_21;
    }
    ++v12;
    if (*(void *)(v3 + 8 * v2)) {
      goto LABEL_18;
    }
  }
LABEL_23:
  __break(1u);
}

uint64_t sub_2596D0D7C(uint64_t a1, uint64_t a2, unsigned char *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7)
{
  *(void *)(v8 + 184) = a7;
  *(void *)(v8 + 192) = v7;
  *(void *)(v8 + 168) = a5;
  *(void *)(v8 + 176) = a6;
  *(void *)(v8 + 152) = a1;
  *(void *)(v8 + 160) = a4;
  uint64_t v11 = sub_259842860();
  *(void *)(v8 + 200) = v11;
  OUTLINED_FUNCTION_1(v11);
  *(void *)(v8 + 208) = v12;
  *(void *)(v8 + 216) = swift_task_alloc();
  type metadata accessor for RootEventRecorder.EventState(0);
  *(void *)(v8 + 224) = swift_task_alloc();
  *(_OWORD *)(v8 + 232) = *(_OWORD *)a2;
  *(void *)(v8 + 248) = *(void *)(a2 + 16);
  *(_OWORD *)(v8 + 256) = *(_OWORD *)(a2 + 24);
  *(unsigned char *)(v8 + 336) = *a3;
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v13, v14, v15);
}

uint64_t sub_2596D0E78()
{
  uint64_t v1 = (void *)v0[21];
  int64_t v2 = (void *)v0[22];
  uint64_t v3 = v1[3];
  uint64_t v4 = v1[4];
  __swift_project_boxed_opaque_existential_1(v1, v3);
  (*(void (**)(const char *, uint64_t, uint64_t, uint64_t, uint64_t))(v4 + 24))("FreeformStoryChapterGenerator.createChapter", 43, 2, v3, v4);
  uint64_t v5 = v1[3];
  uint64_t v6 = v1[4];
  __swift_project_boxed_opaque_existential_1(v1, v5);
  (*(void (**)(uint64_t, unint64_t, uint64_t, uint64_t))(v6 + 16))(0x4372657470616843, 0xEF6E6F6974616572, v5, v6);
  __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  sub_2598435C0();
  __swift_project_boxed_opaque_existential_1((void *)v0[22], v2[3]);
  sub_259843580();
  uint64_t v7 = (void *)swift_task_alloc();
  v0[34] = v7;
  void *v7 = v0;
  v7[1] = sub_2596D10AC;
  uint64_t v8 = v0[33];
  uint64_t v9 = v0[20];
  return sub_2596D2130(v8, 100, v9, (uint64_t)(v0 + 2), (uint64_t)(v0 + 7));
}

uint64_t sub_2596D10AC(uint64_t a1)
{
  OUTLINED_FUNCTION_0_2();
  uint64_t v5 = v4;
  uint64_t v6 = *v2;
  OUTLINED_FUNCTION_3();
  void *v7 = v6;
  *(void *)(v5 + 280) = v1;
  swift_task_dealloc();
  if (!v1) {
    *(void *)(v5 + 288) = a1;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v8, v9, v10);
}

uint64_t sub_2596D11A4()
{
  uint64_t v2 = v0[35];
  uint64_t v1 = v0[36];
  uint64_t v3 = v0[33];
  uint64_t v5 = v0[23];
  uint64_t v4 = v0[24];
  uint64_t v6 = (void *)v0[22];
  swift_retain();
  sub_259843F00();
  swift_retain();
  v0[37] = sub_2596D04E4(v3, v1, v4, v5);
  swift_bridgeObjectRelease();
  __swift_project_boxed_opaque_existential_1(v6, v6[3]);
  OUTLINED_FUNCTION_131_9();
  sub_2598435D0();
  if (v2)
  {
    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)(v0 + 7));
    uint64_t v7 = OUTLINED_FUNCTION_6_59((uint64_t)(v0 + 2));
    v8(v7);
    sub_2596DA588((uint64_t)(v0 + 2), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_15_1();
    return v9();
  }
  else
  {
    uint64_t v12 = v0[31];
    uint64_t v11 = v0[32];
    __swift_project_boxed_opaque_existential_1((void *)v0[22], *(void *)(v0[22] + 24));
    OUTLINED_FUNCTION_131_9();
    sub_259843580();
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
    uint64_t v13 = swift_allocObject();
    v0[38] = v13;
    *(_OWORD *)(v13 + 16) = xmmword_259876920;
    *(void *)(v13 + 32) = v12;
    *(void *)(v13 + 40) = v11;
    swift_bridgeObjectRetain_n();
    uint64_t v14 = (void *)swift_task_alloc();
    v0[39] = v14;
    void *v14 = v0;
    v14[1] = sub_2596D13CC;
    uint64_t v15 = v0[20];
    return sub_2596D2130(v13, 0, v15, (uint64_t)(v0 + 2), (uint64_t)(v0 + 12));
  }
}

uint64_t sub_2596D13CC(uint64_t a1)
{
  uint64_t v4 = *v2;
  OUTLINED_FUNCTION_3();
  uint64_t *v5 = v4;
  uint64_t *v5 = *v2;
  *(void *)(v4 + 320) = v1;
  swift_task_dealloc();
  swift_bridgeObjectRelease();
  if (v1)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
  }
  else
  {
    *(void *)(v4 + 328) = a1;
  }
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v6, v7, v8);
}

uint64_t sub_2596D1524()
{
  uint64_t v56 = v0;
  uint64_t v53 = v0 + 16;
  uint64_t v54 = v0 + 56;
  uint64_t v1 = v0 + 96;
  uint64_t v2 = *(void *)(v0 + 328);
  uint64_t v4 = *(void *)(v0 + 248);
  uint64_t v3 = *(void *)(v0 + 256);
  sub_259843F00();
  uint64_t v5 = sub_25976E7A4(v4, v3, v2);
  uint64_t v7 = v6;
  unsigned __int8 v9 = v8;
  int v10 = ~v8;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if (v10)
  {
    if ((v9 & 1) == 0)
    {
      sub_259843F00();
      id v11 = v5;
      uint64_t v12 = v7;
      sub_2596DA434(v5, v7, v9);
      goto LABEL_18;
    }
    sub_2596DA3CC(v5, v7, v9);
    sub_259843F00();
    sub_2596DA3CC(v5, v7, v9);
    sub_259843F00();
    sub_2596DA3CC(v5, v7, v9);
    long long v18 = sub_259843A50();
    os_log_type_t v19 = sub_259844B50();
    BOOL v20 = os_log_type_enabled(v18, v19);
    unint64_t v21 = *(void *)(v0 + 256);
    if (v20)
    {
      uint64_t v47 = *(void *)(v0 + 248);
      uint64_t v22 = swift_slowAlloc();
      uint64_t v49 = (void *)swift_slowAlloc();
      uint64_t v55 = swift_slowAlloc();
      *(_DWORD *)uint64_t v22 = 136380931;
      sub_259843F00();
      *(void *)(v0 + 136) = sub_259356D5C(v47, v21, &v55);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v22 + 12) = 2112;
      sub_2596DA3E4(v5, v7, 1);
      uint64_t v23 = _swift_stdlib_bridgeErrorToNSError();
      *(void *)(v0 + 144) = v23;
      sub_259844E10();
      *uint64_t v49 = v23;
      OUTLINED_FUNCTION_24_40();
      _os_log_impl(&dword_25934C000, v18, v19, "Retrieval failed for fallback query '%{private}s': %@", (uint8_t *)v22, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      swift_bridgeObjectRelease_n();
      OUTLINED_FUNCTION_24_40();
    }
    uint64_t v1 = v0 + 96;
    if (*(void *)(v0 + 184))
    {
      OUTLINED_FUNCTION_117_5();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_115_9();
      sub_259844240();
      sub_259844240();
      sub_2594E88F0();
      swift_bridgeObjectRelease();
    }
    id v11 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14E20]), sel_init);
    OUTLINED_FUNCTION_24_40();
  }
  else
  {
    if (qword_26A388B08 != -1) {
      swift_once();
    }
    uint64_t v13 = sub_259843A80();
    __swift_project_value_buffer(v13, (uint64_t)qword_26A390270);
    uint64_t v14 = sub_259843A50();
    os_log_type_t v15 = sub_259844B50();
    if (os_log_type_enabled(v14, v15))
    {
      uint64_t v16 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v16 = 0;
      _os_log_impl(&dword_25934C000, v14, v15, "Retrieved assets from fallback query is unexpectedly nil, did searchd crash?", v16, 2u);
      OUTLINED_FUNCTION_61_0();
    }
    uint64_t v17 = *(void *)(v0 + 184);

    if (v17)
    {
      OUTLINED_FUNCTION_117_5();
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_115_9();
      sub_259844240();
      sub_259844240();
      sub_2594E88F0();
      swift_bridgeObjectRelease();
    }
    id v11 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14E20]), sel_init);
  }
  uint64_t v12 = 0;
LABEL_18:
  uint64_t v24 = *(void *)(v0 + 320);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 176), *(void *)(*(void *)(v0 + 176) + 24));
  id v25 = v11;
  OUTLINED_FUNCTION_3_26();
  sub_2598435E0();
  uint64_t v26 = *(void *)(v0 + 296);
  if (v24)
  {
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v1);
    __swift_destroy_boxed_opaque_existential_1(v54);
    uint64_t v27 = OUTLINED_FUNCTION_6_59(v53);
    v28(v27);
    sub_2596DA588(v26, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_15_1();
  }
  else
  {
    char v48 = *(unsigned char *)(v0 + 336);
    uint64_t v30 = *(void *)(v0 + 256);
    uint64_t v44 = *(void *)(v0 + 240);
    uint64_t v45 = *(void *)(v0 + 232);
    uint64_t v46 = *(void *)(v0 + 248);
    uint64_t v31 = *(void *)(v0 + 216);
    uint64_t v51 = *(void *)(v0 + 224);
    uint64_t v52 = v1;
    uint64_t v33 = *(void *)(v0 + 200);
    uint64_t v32 = *(void *)(v0 + 208);
    uint64_t v50 = *(void **)(v0 + 168);
    uint64_t v34 = *(void *)(v0 + 152);
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
    id v35 = v25;
    sub_259842850();
    uint64_t v43 = sub_259842820();
    uint64_t v37 = v36;
    (*(void (**)(uint64_t, uint64_t))(v32 + 8))(v31, v33);
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    __swift_destroy_boxed_opaque_existential_1(v52);
    __swift_destroy_boxed_opaque_existential_1(v54);
    __swift_destroy_boxed_opaque_existential_1(v53);
    type metadata accessor for SingleChapterStatistics();
    swift_allocObject();
    uint64_t v38 = sub_259411904(v45, v44, v43, v37);
    *(void *)uint64_t v34 = v43;
    *(void *)(v34 + 8) = v37;
    *(void *)(v34 + 16) = v45;
    *(void *)(v34 + 24) = v44;
    *(unsigned char *)(v34 + 32) = v48;
    *(void *)(v34 + 40) = v26;
    *(void *)(v34 + 48) = v46;
    *(void *)(v34 + 56) = v30;
    *(void *)(v34 + 64) = v35;
    *(void *)(v34 + 72) = v12;
    *(void *)(v34 + 80) = 0;
    *(unsigned char *)(v34 + 88) = 3;
    *(void *)(v34 + 96) = 0;
    *(void *)(v34 + 104) = 0;
    *(void *)(v34 + 112) = MEMORY[0x263F8EE80];
    *(void *)(v34 + 120) = v38;
    uint64_t v39 = v50[3];
    uint64_t v40 = v50[4];
    __swift_project_boxed_opaque_existential_1(v50, v39);
    uint64_t v41 = *(void (**)(uint64_t, uint64_t, uint64_t))(v40 + 32);
    sub_259843F00();
    sub_259843F00();
    v41(v51, v39, v40);
    sub_2596DA588(v51, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    id v29 = *(uint64_t (**)(void))(v0 + 8);
  }
  return v29();
}

uint64_t sub_2596D1C08()
{
  __swift_destroy_boxed_opaque_existential_1(v0 + 56);
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  uint64_t v1 = *(void *)(v0 + 224);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 168), *(void *)(*(void *)(v0 + 168) + 24));
  OUTLINED_FUNCTION_15_41();
  v2();
  sub_2596DA588(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v3 = *(uint64_t (**)(void))(v0 + 8);
  return v3();
}

uint64_t sub_2596D1CE4()
{
  __swift_destroy_boxed_opaque_existential_1(v0 + 96);
  __swift_destroy_boxed_opaque_existential_1(v0 + 56);
  __swift_destroy_boxed_opaque_existential_1(v0 + 16);
  uint64_t v1 = *(void *)(v0 + 224);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 168), *(void *)(*(void *)(v0 + 168) + 24));
  OUTLINED_FUNCTION_15_41();
  v2();
  sub_2596DA588(v1, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
  swift_task_dealloc();
  swift_task_dealloc();
  uint64_t v3 = *(uint64_t (**)(void))(v0 + 8);
  return v3();
}

void static FreeformStoryChapterGenerator.generateChapterEvent.getter()
{
}

void static FreeformStoryChapterGenerator.createChapterEvent.getter()
{
}

void static FreeformStoryChapterGenerator.retrieveAssetsEvent.getter()
{
}

uint64_t sub_2596D1DFC()
{
  uint64_t v0 = sub_259843A80();
  __swift_allocate_value_buffer(v0, qword_26A390270);
  __swift_project_value_buffer(v0, (uint64_t)qword_26A390270);
  return sub_259843A60();
}

uint64_t sub_2596D1E78(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v5 = v3;
  OUTLINED_FUNCTION_21_21();
  uint64_t v18 = v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_logger;
  sub_259843A60();
  *(void *)(v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyState) = a1;
  uint64_t v9 = OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_photoLibrary;
  *(void *)(v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_photoLibrary) = a2;
  uint64_t v10 = v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher;
  sub_259353FF0(a3, v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher);
  swift_beginAccess();
  v20[6] = *(void *)(a1 + 32);
  swift_retain();
  swift_retain();
  id v11 = a2;
  sub_2594FCAD8(v20);
  if (v4)
  {
    swift_release();

    __swift_destroy_boxed_opaque_existential_1(a3);
    swift_release();
    sub_259843A80();
    OUTLINED_FUNCTION_4();
    (*(void (**)(uint64_t))(v12 + 8))(v18);
    swift_release();

    __swift_destroy_boxed_opaque_existential_1(v10);
    OUTLINED_FUNCTION_21_21();
    swift_deallocPartialClassInstance();
    return v5;
  }
  uint64_t v19 = a3;
  swift_release();
  if (!(v20[0] >> 62))
  {
    uint64_t v13 = *(void *)(v20[0] + 16);
    uint64_t v14 = *(void *)(v20[0] + 24);
    sub_259843F00();
    swift_retain();
    sub_259843F00();
    swift_retain();
    sub_259843F00();
    swift_release();
    v20[0] = v13;
    v20[1] = v14;
    uint64_t v15 = SafeAssetCollection.safeAssetUUIDs.getter();
    uint64_t v16 = sub_259737700(v15);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();

    __swift_destroy_boxed_opaque_existential_1(v19);
    *(void *)(v5 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_originalRetrievedAssets) = v16;
    return v5;
  }
  swift_release();
  uint64_t result = sub_2598453F0();
  __break(1u);
  return result;
}

uint64_t sub_2596D2130(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  v6[60] = a5;
  v6[61] = v5;
  v6[58] = a3;
  v6[59] = a4;
  v6[56] = a1;
  v6[57] = a2;
  uint64_t v7 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F218);
  v6[62] = v7;
  v6[63] = *(void *)(v7 - 8);
  v6[64] = swift_task_alloc();
  uint64_t v8 = __swift_instantiateConcreteTypeFromMangledName(&qword_26A38F210);
  v6[65] = v8;
  v6[66] = *(void *)(v8 - 8);
  v6[67] = swift_task_alloc();
  type metadata accessor for RootEventRecorder.EventState(0);
  v6[68] = swift_task_alloc();
  return MEMORY[0x270FA2498](sub_2596D2288, 0, 0);
}

uint64_t sub_2596D2288()
{
  uint64_t v74 = v0;
  uint64_t v1 = *(void **)(v0 + 472);
  uint64_t v2 = *(void **)(v0 + 480);
  uint64_t v3 = v1[3];
  uint64_t v4 = v1[4];
  __swift_project_boxed_opaque_existential_1(v1, v3);
  (*(void (**)(const char *, uint64_t, uint64_t, uint64_t, uint64_t))(v4 + 24))("FreeformStoryChapterGenerator.retrieveAssets", 44, 2, v3, v4);
  __swift_project_boxed_opaque_existential_1(v2, v2[3]);
  sub_2598435C0();
  uint64_t v8 = *(void *)(*(void *)(v0 + 448) + 16);
  if (!v8)
  {
    sub_259843EE0();
    OUTLINED_FUNCTION_77_10();
    uint64_t v19 = v18;
    OUTLINED_FUNCTION_41_0();
    v20();
    OUTLINED_FUNCTION_91_10();
    sub_2596DA588(v19, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_88_0();
    __asm { BRAA            X2, X16 }
  }
  uint64_t v67 = v0 + 16;
  uint64_t v68 = v0 + 136;
  uint64_t v66 = v0 + 176;
  id v9 = objc_msgSend(*(id *)(*(void *)(v0 + 488)+ OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_photoLibrary), sel_librarySpecificFetchOptions);
  *(void *)(v0 + 552) = v9;
  if (qword_26A388B10 != -1) {
    swift_once();
  }
  uint64_t v10 = *(void *)(v0 + 448);
  uint64_t v11 = sub_259843F00();
  sub_2595BA9B0(v11, v9);
  swift_bridgeObjectRelease();
  __swift_instantiateConcreteTypeFromMangledName(&qword_26B300600);
  uint64_t v12 = swift_allocObject();
  *(_OWORD *)(v12 + 16) = xmmword_25987BF60;
  id v13 = objc_allocWithZone(MEMORY[0x263F08B30]);
  *(void *)(v12 + 32) = sub_259355C14(0x6E6F697461657263, 0xEC00000065746144, 1);
  id v14 = objc_allocWithZone(MEMORY[0x263F08B30]);
  *(void *)(v12 + 40) = sub_259355C14(1684632949, 0xE400000000000000, 1);
  sub_259844530();
  uint64_t v71 = v9;
  sub_2595A8C18(v12, v9);
  unint64_t v72 = MEMORY[0x263F8EE78];
  sub_259845270();
  sub_25935633C(0, (unint64_t *)&qword_26A389B20);
  uint64_t v15 = v10 + 40;
  do
  {
    sub_259843F00();
    sub_2593AD3C8();
    sub_259845240();
    sub_259845280();
    sub_259845290();
    sub_259845250();
    v15 += 16;
    --v8;
  }
  while (v8);
  unint64_t v16 = v72;
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 480), v2[3]);
  sub_2598435D0();
  uint64_t v23 = v9;
  if (qword_26A388B08 != -1) {
    swift_once();
  }
  uint64_t v24 = sub_259843A80();
  *(void *)(v0 + 560) = __swift_project_value_buffer(v24, (uint64_t)qword_26A390270);
  swift_bridgeObjectRetain_n();
  id v25 = sub_259843A50();
  os_log_type_t v26 = sub_259844B30();
  unint64_t v27 = v16 >> 62;
  if (os_log_type_enabled(v25, v26))
  {
    id v28 = (uint8_t *)swift_slowAlloc();
    *(_DWORD *)id v28 = 134217984;
    if (v27)
    {
      sub_259843F00();
      unint64_t v27 = v16 >> 62;
      uint64_t v29 = sub_259845460();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v29 = *(void *)((v16 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    *(void *)(v0 + 440) = v29;
    sub_259844E10();
    swift_bridgeObjectRelease();
    _os_log_impl(&dword_25934C000, v25, v26, "Start query batch for story chapters with %ld", v28, 0xCu);
    OUTLINED_FUNCTION_61_0();
    uint64_t v23 = v71;
  }
  else
  {
    swift_bridgeObjectRelease_n();
  }

  uint64_t v30 = (uint64_t *)(*(void *)(v0 + 464) + 32);
  swift_beginAccess();
  if ((unint64_t)*v30 >> 62 != 2)
  {
    swift_bridgeObjectRelease();
LABEL_30:
    swift_bridgeObjectRelease();
    uint64_t v43 = *(void **)(v0 + 472);
    uint64_t v44 = *v30;
    sub_25943196C();
    swift_allocError();
    *(void *)uint64_t v45 = v44;
    *(unsigned char *)(v45 + 8) = 2;
    swift_retain();
    swift_willThrow();

    uint64_t v46 = __swift_project_boxed_opaque_existential_1(v43, v1[3]);
    goto LABEL_2;
  }
  uint64_t v31 = (void *)(*v30 & 0x3FFFFFFFFFFFFFFFLL);
  unint64_t v32 = v31[2];
  *(void *)(v0 + 568) = v32;
  uint64_t v33 = v31[3];
  *(void *)(v0 + 576) = v33;
  unint64_t v34 = v31[5];
  *(void *)(v0 + 584) = v34;
  if (v34 >> 62 != 1)
  {
    swift_bridgeObjectRelease();
LABEL_29:
    uint64_t v23 = v71;
    goto LABEL_30;
  }
  unint64_t v69 = v27;
  unint64_t v35 = *(void *)((v34 & 0x3FFFFFFFFFFFFFFFLL) + 0x20);
  *(void *)(v0 + 592) = v35;
  swift_retain();
  swift_retain();
  sub_259843F00();
  swift_retain();
  if (v35 >> 62)
  {
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    goto LABEL_29;
  }
  unint64_t v36 = *(void *)(v35 + 16);
  *(void *)(v0 + 600) = v36;
  uint64_t v37 = *(void *)(v35 + 24);
  *(void *)(v0 + 608) = v37;
  *(void *)(v0 + 616) = *(void *)(v35 + 32);
  *(void *)(v0 + 624) = *(void *)(v35 + 40);
  *(void *)(v0 + 632) = *(void *)(v35 + 48);
  unint64_t v72 = v32;
  uint64_t v73 = v33;
  sub_259843F00();
  unint64_t v70 = v36;
  swift_retain();
  sub_259843F00();
  swift_retain();
  sub_259843F00();
  uint64_t v38 = SafeAssetCollection.safeAssetUUIDs.getter();
  uint64_t v39 = sub_259737700(v38);
  *(void *)(v0 + 160) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
  *(void *)(v0 + 168) = &off_27074B900;
  id v65 = self;
  id v40 = objc_msgSend(v65, sel_currentUnifiedEmbeddingVersion);
  uint64_t v41 = v40;
  if (v40)
  {
    id v42 = objc_msgSend(v40, sel_integerValue);
  }
  else
  {
    id v42 = 0;
  }
  uint64_t v47 = *(void **)(v0 + 480);
  *(unsigned char *)(v0 + 136) = 3;
  *(void *)(v0 + 144) = v42;
  *(unsigned char *)(v0 + 152) = v41 == 0;
  __swift_project_boxed_opaque_existential_1(v47, v2[3]);
  OUTLINED_FUNCTION_130_8();
  if (v42)
  {
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    sub_2596227B8(v68);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_77_10();
    uint64_t v46 = v17;
LABEL_2:
    OUTLINED_FUNCTION_41_0();
    v5();
    OUTLINED_FUNCTION_91_10();
    sub_2596DA588((uint64_t)v46, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_88_0();
    __asm { BRAA            X1, X16 }
  }
  uint64_t v63 = *(void *)(v0 + 488);
  uint64_t v64 = *(void *)(v0 + 472);
  uint64_t v48 = *(void *)(v0 + 456);
  id v49 = objc_msgSend(self, sel_shotlistMatchingEmbeddingSearchRetrievalLimit);
  LOBYTE(v72) = 1;
  sub_259622750(v68, v66);
  sub_259843F00();
  FreeformStoryFetching.Options.init(assetsFetcherType:searchQueryResultTypes:searchResultType:scopedAssetUUIDs:maxSearchResults:maxRankedAssetSearchResults:enableQueryUnderstanding:fastRanking:disableSafetyCheck:embeddingRelevanceThreshold:embeddingGenerationTimeout:thresholdingModel:embeddingSearchLimit:embeddingSearchFullScan:)((char *)&v72, 1, 1, v39, v48, 1, 0, 0, v67, 1, 0.0, 1, 700, 0, v66, (uint64_t)v49, 0);
  uint64_t v51 = *(void *)(v63 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher + 24);
  uint64_t v50 = *(void *)(v63 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher + 32);
  __swift_project_boxed_opaque_existential_1((void *)(v63 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher), v51);
  (*(void (**)(unint64_t, uint64_t, uint64_t, uint64_t, uint64_t))(v50 + 24))(v16, v67, v64, v51, v50);
  unint64_t v72 = v70;
  uint64_t v73 = v37;
  SafeAssetCollection.safeAssetUUIDs.getter();
  sub_2597ED0A4();
  *(void *)(v0 + 640) = v52;
  swift_bridgeObjectRelease();
  *(void *)(v0 + 120) = &type metadata for EmbeddingSearchThresholdingModels.VersionHandlingEmbeddingSearchThresholdModel;
  *(void *)(v0 + 128) = &off_27074B900;
  id v53 = objc_msgSend(v65, sel_currentUnifiedEmbeddingVersion);
  uint64_t v54 = v53;
  if (v53)
  {
    id v55 = objc_msgSend(v53, sel_integerValue);
  }
  else
  {
    id v55 = 0;
  }
  BOOL v56 = v54 == 0;
  uint64_t v57 = *(void **)(v0 + 480);
  *(unsigned char *)(v0 + 96) = 2;
  *(void *)(v0 + 104) = v55;
  *(unsigned char *)(v0 + 112) = v56;
  sub_2593A2D00((long long *)(v0 + 96), v0 + 216);
  __swift_project_boxed_opaque_existential_1(v57, v2[3]);
  sub_2598435D0();
  if (v69)
  {
    sub_259843F00();
    uint64_t v58 = sub_259845460();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v58 = *(void *)((v16 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  *(void *)(v0 + 648) = v58;
  swift_bridgeObjectRelease();
  sub_259844770();
  uint64_t v59 = MEMORY[0x263F8EE80];
  *(void *)(v0 + 672) = 0x3FD3333333333333;
  *(void *)(v0 + 664) = v59;
  *(void *)(v0 + 656) = 0;
  BOOL v60 = (void *)swift_task_alloc();
  *(void *)(v0 + 680) = v60;
  *BOOL v60 = v0;
  v60[1] = sub_2596D2EC8;
  OUTLINED_FUNCTION_13();
  OUTLINED_FUNCTION_88_0();
  return MEMORY[0x270FA1F68]();
}

uint64_t sub_2596D2EC8()
{
  OUTLINED_FUNCTION_0_2();
  uint64_t v1 = *v0;
  OUTLINED_FUNCTION_3();
  void *v2 = v1;
  swift_task_dealloc();
  OUTLINED_FUNCTION_13();
  return MEMORY[0x270FA2498](v3, v4, v5);
}

uint64_t sub_2596D2F94()
{
  uint64_t v151 = v0;
  uint64_t v148 = v0 + 136;
  uint64_t v149 = (void *)(v0 + 216);
  uint64_t v147 = v0 + 16;
  if (*(unsigned __int8 *)(v0 + 280) == 255)
  {
    uint64_t v9 = *(void *)(v0 + 656);
    (*(void (**)(void, void))(*(void *)(v0 + 504) + 8))(*(void *)(v0 + 512), *(void *)(v0 + 496));
    swift_release();
    uint64_t v10 = (void *)OUTLINED_FUNCTION_3_26();
    __swift_project_boxed_opaque_existential_1(v10, v11);
    sub_2598435E0();
    if (!v9)
    {
      uint64_t v22 = *(void **)(v0 + 552);
      uint64_t v145 = *(void *)(v0 + 536);
      uint64_t v23 = *(void *)(v0 + 528);
      uint64_t v143 = *(void *)(v0 + 520);
      uint64_t v24 = *(void **)(v0 + 472);
      swift_release();
      swift_bridgeObjectRelease();
      swift_release();
      swift_bridgeObjectRelease();

      swift_release();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_release();
      swift_release();
      __swift_destroy_boxed_opaque_existential_1((uint64_t)v149);
      (*(void (**)(uint64_t, uint64_t))(v23 + 8))(v145, v143);
      sub_2594C761C(v147);
      sub_2596227B8(v148);
      __swift_project_boxed_opaque_existential_1(v24, v24[3]);
      OUTLINED_FUNCTION_41_0();
      v25();
      sub_2596DA588(*(void *)(v0 + 544), (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
      swift_task_dealloc();
      swift_task_dealloc();
      swift_task_dealloc();
      OUTLINED_FUNCTION_14_44();
      __asm { BRAA            X2, X16 }
    }
    uint64_t v12 = *(void **)(v0 + 552);
    uint64_t v13 = *(void *)(v0 + 528);
    uint64_t v138 = *(void *)(v0 + 520);
    uint64_t v140 = *(void *)(v0 + 536);
    id v14 = *(void **)(v0 + 472);
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();

    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v149);
    uint64_t v15 = *(void (**)(void, void))(v13 + 8);
    uint64_t v5 = v13 + 8;
    v15(v140, v138);
    sub_2594C761C(v147);
    sub_2596227B8(v148);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_6_6(v14);
    goto LABEL_54;
  }
  unsigned __int8 v144 = *(unsigned char *)(v0 + 280);
  uint64_t v1 = *(void **)(v0 + 256);
  uint64_t v2 = *(NSObject **)(v0 + 264);
  uint64_t v3 = *(void *)(v0 + 272);
  uint64_t v4 = *(void *)(v0 + 656);
  __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 480), *(void *)(*(void *)(v0 + 480) + 24));
  OUTLINED_FUNCTION_3_26();
  sub_2598435D0();
  if (v4)
  {
    uint64_t v5 = *(void *)(v0 + 600);
    BOOL v126 = *(void **)(v0 + 552);
    uint64_t v6 = *(void *)(v0 + 528);
    uint64_t v136 = *(void *)(v0 + 520);
    uint64_t v137 = *(void *)(v0 + 536);
    uint64_t v7 = *(void *)(v0 + 504);
    os_log_t loga = *(os_log_t *)(v0 + 496);
    *(void *)uint64_t typea = *(void *)(v0 + 512);
    uint64_t v8 = *(void **)(v0 + 472);
    swift_release();
    sub_25962267C(v1, v2, v3, v144);
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    (*(void (**)(os_log_type_t *, os_log_t))(v7 + 8))(*(os_log_type_t **)typea, loga);
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v149);
    (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v137, v136);
    sub_2594C761C(v147);
    sub_2596227B8(v148);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_6_6(v8);
    goto LABEL_54;
  }
  uint64_t v141 = v3;
  uint64_t v142 = v1;
  double v16 = *(double *)(v0 + 672);
  uint64_t v17 = *(void *)(v0 + 648);
  unint64_t v146 = v2;
  if (v144)
  {
    id v28 = v1;
    uint64_t v29 = v2;
    id v30 = v28;
    uint64_t v31 = v2;
    sub_259843F00();
    unint64_t v32 = v30;
    uint64_t v33 = v2;
    sub_259843F00();
    unint64_t v34 = sub_259843A50();
    os_log_type_t v35 = sub_259844B50();
    unint64_t v36 = &selRef_uninterestingAudioClassifications;
    uint64_t v139 = (os_log_t **)(v0 + 416);
    if (os_log_type_enabled(v34, v35))
    {
      os_log_type_t typeb = v35;
      uint64_t v37 = swift_slowAlloc();
      v150[0] = swift_slowAlloc();
      *(_DWORD *)uint64_t v37 = 136643331;
      id v38 = [v32 string];
      uint64_t v39 = sub_2598440A0();
      id v40 = v32;
      unint64_t v42 = v41;

      *(void *)(v0 + 408) = sub_259356D5C(v39, v42, v150);
      OUTLINED_FUNCTION_3_26();
      sub_259844E10();
      swift_bridgeObjectRelease();

      *(_WORD *)(v37 + 12) = 2080;
      uint64_t v43 = sub_259843F00();
      uint64_t v44 = MEMORY[0x25A2DED80](v43, MEMORY[0x263F8D310]);
      unint64_t v46 = v45;
      swift_bridgeObjectRelease();
      *(void *)(v0 + 392) = sub_259356D5C(v44, v46, v150);
      sub_259844E10();
      uint64_t v2 = v146;
      swift_bridgeObjectRelease();
      OUTLINED_FUNCTION_97_8();
      *(_WORD *)(v37 + 22) = 2080;
      swift_getErrorValue();
      uint64_t v47 = sub_259845820();
      *(void *)(v0 + 400) = sub_259356D5C(v47, v48, v150);
      unint64_t v32 = v40;
      unint64_t v36 = &selRef_uninterestingAudioClassifications;
      sub_259844E10();
      swift_bridgeObjectRelease();

      _os_log_impl(&dword_25934C000, v34, typeb, "Error retrieving assets for query '%{sensitive}s' with queries %s, error: %s", (uint8_t *)v37, 0x20u);
      swift_arrayDestroy();
      OUTLINED_FUNCTION_61_0();
      OUTLINED_FUNCTION_61_0();
    }
    else
    {

      OUTLINED_FUNCTION_97_8();
    }

    uint64_t v49 = *(void *)(v0 + 664);
    uint64_t v50 = v2;
    id v51 = [v32 v36[317]];
    uint64_t v52 = sub_2598440A0();
    uint64_t v54 = v53;

    id v55 = v2;
    swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v0 + 416) = v49;
    sub_25939CE90();
    OUTLINED_FUNCTION_0();
    if (v58) {
      goto LABEL_62;
    }
    unint64_t v59 = v56;
    char v60 = v57;
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A3902B0);
    uint64_t v61 = (os_log_t *)(v0 + 416);
    if (sub_259845350())
    {
      uint64_t v61 = *v139;
      unint64_t v62 = sub_25939CE90();
      if ((v60 & 1) != (v63 & 1))
      {
LABEL_43:
        OUTLINED_FUNCTION_14_44();
        return sub_2598457D0();
      }
      unint64_t v59 = v62;
      uint64_t v2 = v146;
    }
    uint64_t v64 = *v139;
    if (v60)
    {
      OUTLINED_FUNCTION_109_9((uint64_t)v64[7]);
      os_log_t *v61 = v2;
      v61[1] = 0;
      *((unsigned char *)v61 + 16) = 1;
    }
    else
    {
      v64[(v59 >> 6) + 8] = (os_log_t)((unint64_t)v64[(v59 >> 6) + 8] | (1 << v59));
      uint64_t v82 = (uint64_t *)&v64[6][2 * v59];
      *uint64_t v82 = v52;
      v82[1] = v54;
      uint64_t v83 = (uint64_t)&v64[7][3 * v59];
      *(void *)uint64_t v83 = v2;
      *(void *)(v83 + 8) = 0;
      *(unsigned char *)(v83 + 16) = 1;
      os_log_t v84 = v64[2];
      BOOL v58 = __OFADD__(v84, 1);
      unint64_t v85 = ((char *)&v84->isa + 1);
      if (v58) {
        goto LABEL_63;
      }
      v64[2] = v85;
      sub_259843F00();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    goto LABEL_52;
  }
  uint64_t v18 = *(void *)(v0 + 640);
  *(void *)(v0 + 312) = v1;
  *(void *)(v0 + 320) = v2;
  *(void *)(v0 + 328) = v3;
  uint64_t v19 = (void *)OUTLINED_FUNCTION_99_11();
  sub_259622600(v19, v20, v21, 0);
  sub_2596D45C8((uint64_t *)(v0 + 312), v149, v18, (void *)(v0 + 336));
  uint64_t v65 = *(void *)(v0 + 336);
  uint64_t type = *(void **)(v0 + 344);
  uint64_t v66 = *(void *)(v65 + 16);
  if (!v66)
  {
    sub_259843F00();
    unint64_t v69 = MEMORY[0x263F8EE80];
LABEL_38:
    uint64_t v86 = *(void *)(v0 + 552);
    swift_bridgeObjectRelease();
    uint64_t v87 = self;
    uint64_t v88 = sub_259843F00();
    uint64_t v89 = sub_25953BF00(v88);
    swift_bridgeObjectRelease();
    uint64_t v90 = sub_25943A124(v89, v86, v87);
    if (!v90) {
      uint64_t v90 = objc_msgSend(objc_allocWithZone(MEMORY[0x263F14E20]), sel_init);
    }
    uint64_t v91 = *(void *)(v0 + 664);
    os_log_t log = v90;
    uint64_t v92 = v90;
    id v93 = [v2 string];
    uint64_t v94 = sub_2598440A0();
    uint64_t v96 = v95;

    unint64_t v32 = v69;
    sub_259843F00();
    char v97 = v92;
    swift_isUniquelyReferenced_nonNull_native();
    *(void *)(v0 + 424) = v91;
    OUTLINED_FUNCTION_126_7();
    OUTLINED_FUNCTION_0();
    if (v58) {
      goto LABEL_64;
    }
    unint64_t v100 = v98;
    char v101 = v99;
    char v102 = (os_log_t **)(v0 + 424);
    __swift_instantiateConcreteTypeFromMangledName(&qword_26A3902B0);
    uint64_t v103 = (os_log_t *)(v0 + 424);
    if (sub_259845350())
    {
      uint64_t v103 = *v102;
      unint64_t v104 = OUTLINED_FUNCTION_126_7();
      if ((v101 & 1) != (v105 & 1)) {
        goto LABEL_43;
      }
      unint64_t v100 = v104;
    }
    uint64_t v108 = *v102;
    if (v101)
    {
      BOOL v109 = *v102;
      OUTLINED_FUNCTION_109_9((uint64_t)v108[7]);
      *uint64_t v103 = log;
      v103[1] = v32;
      *((unsigned char *)v103 + 16) = 0;
      uint64_t v110 = v141;
      uint64_t v2 = v146;
    }
    else
    {
      v108[(v100 >> 6) + 8] = (os_log_t)((unint64_t)v108[(v100 >> 6) + 8] | (1 << v100));
      uint64_t v111 = (uint64_t *)&v108[6][2 * v100];
      *uint64_t v111 = v94;
      v111[1] = v96;
      uint64_t v112 = (uint64_t)&v108[7][3 * v100];
      *(void *)uint64_t v112 = log;
      *(void *)(v112 + 8) = v32;
      *(unsigned char *)(v112 + 16) = 0;
      os_log_t v113 = v108[2];
      BOOL v58 = __OFADD__(v113, 1);
      uint64_t v114 = ((char *)&v113->isa + 1);
      uint64_t v2 = v146;
      if (v58) {
        goto LABEL_65;
      }
      BOOL v109 = v108;
      v108[2] = v114;
      sub_259843F00();
      uint64_t v110 = v141;
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    sub_25962267C(v142, v2, v110, v144);
    swift_bridgeObjectRelease();

    swift_unknownObjectRelease();
    uint64_t v64 = v109;
LABEL_52:
    double v115 = v16 + 0.7 / ((double)v17 + (double)v17);
    __swift_project_boxed_opaque_existential_1(*(void **)(v0 + 480), *(void *)(*(void *)(v0 + 480) + 24));
    OUTLINED_FUNCTION_130_8();
    if (!v32)
    {
      double v122 = 0.7 / ((double)*(uint64_t *)(v0 + 648) + (double)*(uint64_t *)(v0 + 648));
      sub_25962267C(v142, v2, v141, v144);
      *(double *)(v0 + 672) = v115 + v122;
      *(void *)(v0 + 664) = v64;
      *(void *)(v0 + 656) = 0;
      uint64_t v123 = (void *)swift_task_alloc();
      *(void *)(v0 + 680) = v123;
      void *v123 = v0;
      v123[1] = sub_2596D2EC8;
      OUTLINED_FUNCTION_13();
      OUTLINED_FUNCTION_14_44();
      return MEMORY[0x270FA1F68]();
    }
    uint64_t v5 = *(void *)(v0 + 616);
    uint64_t v125 = *(void **)(v0 + 552);
    uint64_t v116 = *(void *)(v0 + 528);
    os_log_t logb = *(os_log_t *)(v0 + 520);
    *(void *)typec = *(void *)(v0 + 536);
    uint64_t v117 = *(void *)(v0 + 504);
    uint64_t v127 = *(void *)(v0 + 496);
    uint64_t v128 = *(void *)(v0 + 512);
    uint64_t v118 = *(void **)(v0 + 472);
    swift_release();
    sub_25962267C(v142, v2, v141, v144);
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    swift_release();
    (*(void (**)(uint64_t, uint64_t))(v117 + 8))(v128, v127);
    __swift_destroy_boxed_opaque_existential_1((uint64_t)v149);
    (*(void (**)(os_log_type_t *, os_log_t))(v116 + 8))(*(os_log_type_t **)typec, logb);
    sub_2594C761C(v147);
    sub_2596227B8(v148);
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_6_6(v118);
LABEL_54:
    OUTLINED_FUNCTION_41_0();
    v119();
    OUTLINED_FUNCTION_91_10();
    sub_2596DA588(v5, (void (*)(void))type metadata accessor for RootEventRecorder.EventState);
    swift_task_dealloc();
    swift_task_dealloc();
    swift_task_dealloc();
    OUTLINED_FUNCTION_14_44();
    __asm { BRAA            X1, X16 }
  }
  uint64_t v67 = (NSObject **)(v0 + 432);
  swift_bridgeObjectRetain_n();
  uint64_t v68 = (unsigned char *)(v65 + 56);
  unint64_t v69 = MEMORY[0x263F8EE80];
  while ((*v68 & 1) != 0)
  {
LABEL_32:
    v68 += 32;
    if (!--v66)
    {
      swift_bridgeObjectRelease();
      goto LABEL_38;
    }
  }
  uint64_t v70 = *((void *)v68 - 3);
  uint64_t v71 = *((void *)v68 - 2);
  uint64_t v72 = *((void *)v68 - 1);
  swift_bridgeObjectRetain_n();
  swift_isUniquelyReferenced_nonNull_native();
  *uint64_t v67 = v69;
  OUTLINED_FUNCTION_126_7();
  OUTLINED_FUNCTION_0();
  if (!v58)
  {
    unint64_t v75 = v73;
    char v76 = v74;
    __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26A38DFA0);
    if (sub_259845350())
    {
      unint64_t v77 = OUTLINED_FUNCTION_126_7();
      if ((v76 & 1) != (v78 & 1)) {
        goto LABEL_43;
      }
      unint64_t v75 = v77;
    }
    unint64_t v69 = *v67;
    if (v76)
    {
      *((void *)v69[7].isa + v75) = v72;
    }
    else
    {
      v69[(v75 >> 6) + 8].Class isa = (Class)((uint64_t)v69[(v75 >> 6) + 8].isa | (1 << v75));
      uint64_t v79 = (void *)((char *)v69[6].isa + 16 * v75);
      *uint64_t v79 = v70;
      v79[1] = v71;
      *((void *)v69[7].isa + v75) = v72;
      Class isa = v69[2].isa;
      BOOL v58 = __OFADD__(isa, 1);
      unint64_t v81 = (Class)((char *)isa + 1);
      if (v58) {
        goto LABEL_61;
      }
      v69[2].Class isa = v81;
      sub_259843F00();
    }
    uint64_t v2 = v146;
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease_n();
    goto LABEL_32;
  }
  __break(1u);
LABEL_61:
  __break(1u);
LABEL_62:
  __break(1u);
LABEL_63:
  __break(1u);
LABEL_64:
  __break(1u);
LABEL_65:
  __break(1u);
  return MEMORY[0x270FA1F68]();
}

void sub_2596D3FA0(uint64_t *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X3>, uint64_t a4@<X8>)
{
  uint64_t v6 = *a1;
  unint64_t v7 = a1[1];
  if (!*(void *)(a2 + 16))
  {
LABEL_8:
    swift_bridgeObjectRetain_n();
    BOOL v20 = sub_259843A50();
    os_log_type_t v21 = sub_259844B50();
    if (os_log_type_enabled(v20, v21))
    {
      uint64_t v22 = (uint8_t *)swift_slowAlloc();
      uint64_t v23 = v6;
      uint64_t v24 = swift_slowAlloc();
      uint64_t v29 = v24;
      *(_DWORD *)uint64_t v22 = 136380675;
      sub_259843F00();
      uint64_t v31 = sub_259356D5C(v23, v7, &v29);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      _os_log_impl(&dword_25934C000, v20, v21, "Could not find retrieved asset result for shot query %{private}s", v22, 0xCu);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v24, -1, -1);
      MEMORY[0x25A2E13A0](v22, -1, -1);
    }
    else
    {
      swift_bridgeObjectRelease_n();
    }

    if (!a3) {
      goto LABEL_14;
    }
    uint64_t v29 = 0;
    unint64_t v30 = 0xE000000000000000;
    sub_259845110();
    swift_bridgeObjectRelease();
    uint64_t v29 = 0xD00000000000002CLL;
    unint64_t v30 = 0x800000025985FD50;
    sub_259844240();
    sub_259844240();
    sub_2594E88F0();
    goto LABEL_13;
  }
  sub_259843F00();
  unint64_t v9 = sub_25939CE90();
  if ((v10 & 1) == 0)
  {
    swift_bridgeObjectRelease();
    goto LABEL_8;
  }
  uint64_t v11 = *(void *)(a2 + 56) + 24 * v9;
  uint64_t v13 = *(void **)v11;
  uint64_t v12 = *(void *)(v11 + 8);
  char v14 = *(unsigned char *)(v11 + 16);
  sub_2596DA3E4(*(void **)v11, v12, v14);
  swift_bridgeObjectRelease();
  if (v14)
  {
    sub_2596DA3E4(v13, v12, 1);
    sub_259843F00();
    sub_2596DA3E4(v13, v12, 1);
    sub_259843F00();
    sub_2596DA3E4(v13, v12, 1);
    uint64_t v15 = sub_259843A50();
    os_log_type_t v16 = sub_259844B50();
    if (os_log_type_enabled(v15, v16))
    {
      os_log_type_t type = v16;
      uint64_t v17 = swift_slowAlloc();
      os_log_type_t v26 = (void *)swift_slowAlloc();
      uint64_t v28 = swift_slowAlloc();
      uint64_t v29 = v28;
      *(_DWORD *)uint64_t v17 = 136380931;
      sub_259843F00();
      uint64_t v31 = sub_259356D5C(v6, v7, &v29);
      sub_259844E10();
      swift_bridgeObjectRelease_n();
      *(_WORD *)(v17 + 12) = 2112;
      id v18 = v13;
      uint64_t v19 = _swift_stdlib_bridgeErrorToNSError();
      uint64_t v31 = v19;
      sub_259844E10();
      *os_log_type_t v26 = v19;
      sub_2596DA44C(v13, v12, 1);
      sub_2596DA44C(v13, v12, 1);
      _os_log_impl(&dword_25934C000, v15, type, "Retrieval failed for shot query '%{private}s': %@", (uint8_t *)v17, 0x16u);
      __swift_instantiateConcreteTypeFromMangledName(&qword_26B2F83A0);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v26, -1, -1);
      swift_arrayDestroy();
      MEMORY[0x25A2E13A0](v28, -1, -1);
      MEMORY[0x25A2E13A0](v17, -1, -1);

      if (a3)
      {
LABEL_6:
        uint64_t v29 = 0;
        unint64_t v30 = 0xE000000000000000;
        sub_259845110();
        swift_bridgeObjectRelease();
        uint64_t v29 = 0xD00000000000002CLL;
        unint64_t v30 = 0x800000025985FD50;
        sub_259844240();
        sub_259844240();
        sub_2594E88F0();
        sub_2596DA44C(v13, v12, 1);
        sub_2596DA44C(v13, v12, 1);
LABEL_13:
        swift_bridgeObjectRelease();
LABEL_14:
        *(_OWORD *)a4 = 0u;
        *(_OWORD *)(a4 + 16) = 0u;
        return;
      }
    }
    else
    {
      swift_bridgeObjectRelease_n();

      sub_2596DA44C(v13, v12, 1);
      sub_2596DA44C(v13, v12, 1);
      if (a3) {
        goto LABEL_6;
      }
    }
    sub_2596DA44C(v13, v12, 1);
    sub_2596DA44C(v13, v12, 1);
    goto LABEL_14;
  }
  sub_259843F00();
  sub_259843F00();
  id v25 = v13;
  sub_2596DA44C(v13, v12, 0);
  *(void *)a4 = v6;
  *(void *)(a4 + 8) = v7;
  *(void *)(a4 + 16) = v13;
  *(void *)(a4 + 24) = v12;
}

uint64_t sub_2596D452C()
{
  __swift_instantiateConcreteTypeFromMangledName((uint64_t *)&unk_26B3005F0);
  uint64_t v0 = swift_allocObject();
  *(_OWORD *)(v0 + 16) = xmmword_25987C430;
  *(void *)(v0 + 32) = sub_2598440A0();
  *(void *)(v0 + 40) = v1;
  *(void *)(v0 + 48) = sub_2598440A0();
  *(void *)(v0 + 56) = v2;
  *(void *)(v0 + 64) = sub_2598440A0();
  *(void *)(v0 + 72) = v3;
  uint64_t result = sub_2598440A0();
  *(void *)(v0 + 80) = result;
  *(void *)(v0 + 88) = v5;
  qword_26A3D1E18 = v0;
  return result;
}

id sub_2596D45C8@<X0>(uint64_t *a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, void *a4@<X8>)
{
  uint64_t v7 = *a1;
  uint64_t v6 = (void *)a1[1];
  uint64_t v8 = a1[2];
  if (v8)
  {
    uint64_t v41 = *a1;
    uint64_t v9 = a2[3];
    uint64_t v10 = a2[4];
    __swift_project_boxed_opaque_existential_1(a2, v9);
    uint64_t v11 = *(void (**)(uint64_t, uint64_t, uint64_t))(v10 + 8);
    uint64_t v12 = swift_unknownObjectRetain();
    v11(v12, v9, v10);
    if (v4)
    {
      return (id)swift_unknownObjectRelease();
    }
    else
    {
      double v18 = v13;
      sub_259843F00();
      swift_retain();
      uint64_t v19 = sub_259843F00();
      sub_2596CFECC(v19, a3, v18);
      uint64_t v21 = v20;
      swift_bridgeObjectRetain_n();
      swift_bridgeObjectRetain_n();
      id v22 = v6;
      swift_unknownObjectRetain_n();
      swift_bridgeObjectRetain_n();
      id v23 = v22;
      uint64_t v24 = sub_259843A50();
      os_log_type_t v25 = sub_259844B30();
      if (os_log_type_enabled(v24, v25))
      {
        os_log_type_t v38 = v25;
        uint64_t v39 = v21;
        uint64_t v37 = swift_slowAlloc();
        *(_DWORD *)uint64_t v37 = 134218496;
        uint64_t v26 = *(void *)(v41 + 16);
        if (v26)
        {
          uint64_t v43 = MEMORY[0x263F8EE78];
          swift_bridgeObjectRetain_n();
          id v36 = v23;
          id v35 = v23;
          swift_unknownObjectRetain();
          sub_2594F08BC();
          uint64_t v27 = (uint64_t *)(v41 + 40);
          do
          {
            uint64_t v28 = *(v27 - 1);
            uint64_t v29 = *v27;
            unint64_t v31 = *(void *)(v43 + 16);
            unint64_t v30 = *(void *)(v43 + 24);
            sub_259843F00();
            if (v31 >= v30 >> 1) {
              sub_2594F08BC();
            }
            v27 += 4;
            *(void *)(v43 + 16) = v31 + 1;
            uint64_t v32 = v43 + 16 * v31;
            *(void *)(v32 + 32) = v28;
            *(void *)(v32 + 40) = v29;
            --v26;
          }
          while (v26);
          swift_unknownObjectRelease();

          swift_bridgeObjectRelease_n();
          id v23 = v36;
        }
        swift_unknownObjectRelease();

        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_259844E10();
        swift_unknownObjectRelease();

        swift_bridgeObjectRelease();
        *(_WORD *)(v37 + 12) = 2048;
        uint64_t v21 = v39;
        swift_bridgeObjectRelease();
        sub_259844E10();
        swift_bridgeObjectRelease();
        *(_WORD *)(v37 + 22) = 2048;
        swift_bridgeObjectRelease();
        sub_259844E10();
        swift_bridgeObjectRelease();
        _os_log_impl(&dword_25934C000, v24, v38, "Filtered %ld down to %ld from re-thresholding on %ld assets.", (uint8_t *)v37, 0x20u);
        MEMORY[0x25A2E13A0](v37, -1, -1);

        swift_unknownObjectRelease();
        uint64_t v33 = a4;
      }
      else
      {

        swift_unknownObjectRelease_n();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease_n();
        swift_bridgeObjectRelease_n();
        uint64_t v33 = a4;
      }
      *uint64_t v33 = v21;
      v33[1] = v23;
      v33[2] = v8;
      id v34 = v23;
      return (id)swift_unknownObjectRetain();
    }
  }
  else
  {
    uint64_t v15 = sub_259843A50();
    uint64_t v16 = sub_259844B50();
    if (os_log_type_enabled(v15, (os_log_type_t)v16))
    {
      uint64_t v17 = (uint8_t *)swift_slowAlloc();
      *(_WORD *)uint64_t v17 = 0;
      _os_log_impl(&dword_25934C000, v15, (os_log_type_t)v16, "No query embedding info for search results, but we expected to have performed embedding or complete search.", v17, 2u);
      MEMORY[0x25A2E13A0](v17, -1, -1);
    }

    *a4 = v7;
    a4[1] = v6;
    a4[2] = 0;
    sub_259843F00();
    return v6;
  }
}

id static FreeformStoryChapterGenerator.storyCuratedAssets(from:photoLibrary:fetchPropertySets:)(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v5 = v4;
  uint64_t v6 = a2;
  uint64_t v7 = MEMORY[0x263F8EE78];
  uint64_t v54 = MEMORY[0x263F8EE78];
  uint64_t v8 = *(void *)(a1 + 16);
  if (v8)
  {
    uint64_t v9 = a1;
    uint64_t v46 = (uint64_t)a2;
    *(void *)&long long v47 = a3;
    *((void *)&v47 + 1) = v5;
    uint64_t v10 = sub_259843F00();
    uint64_t v11 = v8 - 1;
    uint64_t v12 = 32;
    double v13 = &selRef__mePersonUUIDInPhotoLibrary_;
    unint64_t v14 = 0x26A388000uLL;
    *(void *)&long long v15 = 136315138;
    long long v49 = v15;
    uint64_t v48 = MEMORY[0x263F8EE58] + 8;
    uint64_t v51 = v10;
    while (1)
    {
      memcpy(__dst, (const void *)(v9 + v12), 0x80uLL);
      if (LOBYTE(__dst[11]) == 1)
      {
        uint64_t v16 = (void *)__dst[10];
        sub_25942F854((uint64_t)__dst);
        sub_25938F704(v16, 1);
        if ([v16 v13[379]])
        {
          uint64_t v17 = OUTLINED_FUNCTION_271();
          sub_25935633C(v17, (unint64_t *)&qword_26B300520);
          sub_259844500();
        }
        uint64_t v3 = &v54;
        sub_25973F798();
        sub_25938F830(v16, 1);
      }
      else
      {
        sub_25942F854((uint64_t)__dst);
        if (*(void *)(v14 + 2824) != -1) {
          swift_once();
        }
        uint64_t v18 = sub_259843A80();
        __swift_project_value_buffer(v18, (uint64_t)qword_26A390270);
        sub_25942F854((uint64_t)__dst);
        uint64_t v3 = sub_259843A50();
        os_log_type_t v19 = sub_259844B50();
        if (!os_log_type_enabled(v3, v19))
        {
          sub_25942F91C((uint64_t)__dst);
          sub_25942F91C((uint64_t)__dst);

          if (!v11) {
            goto LABEL_15;
          }
          goto LABEL_14;
        }
        uint64_t v20 = v13;
        uint64_t v22 = __dst[2];
        unint64_t v21 = __dst[3];
        uint64_t v23 = swift_slowAlloc();
        uint64_t v24 = swift_slowAlloc();
        uint64_t v52 = v24;
        *(_DWORD *)uint64_t v23 = v49;
        sub_259843F00();
        *(void *)(v23 + 4) = sub_259356D5C(v22, v21, &v52);
        double v13 = v20;
        uint64_t v9 = v51;
        swift_bridgeObjectRelease();
        sub_25942F91C((uint64_t)__dst);
        _os_log_impl(&dword_25934C000, v3, v19, "Chapter %s is not curated", (uint8_t *)v23, 0xCu);
        swift_arrayDestroy();
        uint64_t v25 = v24;
        unint64_t v14 = 0x26A388000;
        MEMORY[0x25A2E13A0](v25, -1, -1);
        MEMORY[0x25A2E13A0](v23, -1, -1);
      }
      sub_25942F91C((uint64_t)__dst);
      if (!v11)
      {
LABEL_15:
        swift_bridgeObjectRelease();
        uint64_t v7 = v54;
        uint64_t v6 = (void *)v46;
        break;
      }
LABEL_14:
      --v11;
      v12 += 128;
    }
  }
  sub_25935633C(0, (unint64_t *)&qword_26B2F83C0);
  ObjCClassFromMetadata = (void *)swift_getObjCClassFromMetadata();
  sub_2596DA220(ObjCClassFromMetadata);
  sub_25936C244(v7, v27, v28, v29, v30, v31, v32, v33, v46, v47, v48, v49, *((uint64_t *)&v49 + 1), v50, v51, v52, __dst[0], __dst[1], __dst[2],
    __dst[3],
    __dst[4],
    __dst[5],
    __dst[6],
    __dst[7],
    __dst[8]);
  id v34 = objc_allocWithZone(MEMORY[0x263F14E58]);
  id v35 = v6;
  sub_259843F00();
  OUTLINED_FUNCTION_116_5();
  id v44 = sub_2595C7E00(v36, v37, v38, v39, v40, v41, v42, v43);
  swift_bridgeObjectRelease();
  return v44;
}

uint64_t FreeformStoryChapterGenerator.deinit()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_logger;
  sub_259843A80();
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t))(v2 + 8))(v1);
  swift_release();

  __swift_destroy_boxed_opaque_existential_1(v0 + OBJC_IVAR____TtC18PhotosIntelligence29FreeformStoryChapterGenerator_storyAssetsFetcher);
  swift_bridgeObjectRelease();
  return v0;
}

uint64_t FreeformStoryChapterGenerator.__deallocating_deinit()
{
  FreeformStoryChapterGenerator.deinit();
  uint64_t v1 = *(unsigned int *)(*(void *)v0 + 48);
  uint64_t v2 = *(unsigned __int16 *)(*(void *)v0 + 52);
  return MEMORY[0x270FA0228](v0, v1, v2);
}

void sub_2596D4E7C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  OUTLINED_FUNCTION_154();
  OUTLINED_FUNCTION_107_10();
  uint64_t v15 = *v11;
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  unint64_t v16 = sub_259845910() & ~(-1 << *(unsigned char *)(v15 + 32));
  if (((*(void *)(v15 + 56 + ((v16 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v16) & 1) == 0)
  {
LABEL_15:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_87_16();
    sub_2593B7A54(v14, v13, v16);
    OUTLINED_FUNCTION_41_29(a10);
    *uint64_t v10 = v14;
    v10[1] = v13;
    goto LABEL_16;
  }
  uint64_t v17 = *(void *)(v15 + 48);
  uint64_t v18 = (void *)(v17 + 16 * v16);
  BOOL v19 = *v18 == v14 && v18[1] == v13;
  if (!v19 && (OUTLINED_FUNCTION_148_1() & 1) == 0)
  {
    do
    {
      OUTLINED_FUNCTION_111_9();
      if (((*(void *)(v15 + 56 + v22) >> v16) & 1) == 0) {
        goto LABEL_15;
      }
      uint64_t v23 = (void *)(v17 + 16 * v16);
      BOOL v24 = *v23 == v14 && v23[1] == v13;
    }
    while (!v24 && (OUTLINED_FUNCTION_148_1() & 1) == 0);
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v20 = (uint64_t *)(*(void *)(*(void *)v12 + 48) + 16 * v16);
  uint64_t v21 = v20[1];
  *uint64_t v10 = *v20;
  v10[1] = v21;
  sub_259843F00();
LABEL_16:
  OUTLINED_FUNCTION_127_0();
}

#error "2596D5134: call analysis failed (funcsize=103)"

uint64_t sub_2596D5178(void *a1, uint64_t a2)
{
  uint64_t v5 = *v2;
  uint64_t v6 = sub_2598458A0() & ~(-1 << *(unsigned char *)(v5 + 32));
  OUTLINED_FUNCTION_26_34();
  if ((v7 & 1) == 0)
  {
LABEL_6:
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_21_34();
    uint64_t v11 = OUTLINED_FUNCTION_3_26();
    sub_2593B7C94(v11, v12);
    OUTLINED_FUNCTION_34_30(v13);
    uint64_t result = 1;
    goto LABEL_7;
  }
  if (*(void *)(*(void *)(v5 + 48) + 8 * v6) != a2)
  {
    do
    {
      OUTLINED_FUNCTION_11_56();
      if ((v9 & 1) == 0) {
        goto LABEL_6;
      }
    }
    while (*(void *)(v8 + 8 * v6) != a2);
  }
  uint64_t result = 0;
LABEL_7:
  *a1 = a2;
  return result;
}

void sub_2596D5234(char *a1, char a2)
{
  uint64_t v4 = *v2;
  unint64_t v5 = *(void *)(v4 + 40);
  sub_259843F00();
  sub_2597372EC();
  OUTLINED_FUNCTION_36_27();
  if ((*(void *)(v4 + 56 + ((v5 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v5))
  {
    uint64_t v7 = ~v6;
    while (1)
    {
      if (*(unsigned char *)(*(void *)(v4 + 48) + v5))
      {
        if (*(unsigned char *)(*(void *)(v4 + 48) + v5) == 1)
        {
          unint64_t v8 = 0x65646F4D74786574;
          unint64_t v9 = 0xEE006E6F69746172;
        }
        else
        {
          unint64_t v9 = 0x800000025984C500;
          unint64_t v8 = 0xD000000000000010;
        }
      }
      else
      {
        unint64_t v9 = 0xE300000000000000;
        unint64_t v8 = 7566959;
      }
      if (a2)
      {
        if (a2 == 1) {
          unint64_t v10 = 0x65646F4D74786574;
        }
        else {
          unint64_t v10 = 0xD000000000000010;
        }
        if (a2 == 1) {
          unint64_t v11 = 0xEE006E6F69746172;
        }
        else {
          unint64_t v11 = 0x800000025984C500;
        }
      }
      else
      {
        unint64_t v11 = 0xE300000000000000;
        unint64_t v10 = 7566959;
      }
      if (v8 == v10 && v9 == v11)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        goto LABEL_25;
      }
      char v13 = sub_259845750();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v13) {
        break;
      }
      unint64_t v5 = (v5 + 1) & v7;
      if (((*(void *)(v4 + 56 + ((v5 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v5) & 1) == 0) {
        goto LABEL_22;
      }
    }
    swift_bridgeObjectRelease();
LABEL_25:
    OUTLINED_FUNCTION_50_20();
    a2 = *(unsigned char *)(v14 + v5);
  }
  else
  {
LABEL_22:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v17 = *v15;
    *uint64_t v15 = 0x8000000000000000;
    sub_2593B7D6C(a2, v5);
    *uint64_t v15 = v17;
    swift_bridgeObjectRelease();
  }
  *a1 = a2;
}

void sub_2596D5448(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30)
{
  OUTLINED_FUNCTION_154();
  a29 = v32;
  a30 = v33;
  char v35 = v34;
  uint64_t v50 = v36;
  OUTLINED_FUNCTION_56_15();
  sub_259843F00();
  sub_259735E0C((uint64_t)&a10, v35);
  sub_259845910();
  OUTLINED_FUNCTION_36_27();
  OUTLINED_FUNCTION_102_11();
  if (v37)
  {
    while (1)
    {
      unint64_t v38 = 0xE400000000000000;
      uint64_t v39 = 1702060386;
      switch(*(unsigned char *)(*(void *)(v31 + 48) + v30))
      {
        case 1:
          OUTLINED_FUNCTION_168_1();
          unint64_t v38 = v40 + 3844;
          uint64_t v39 = 0x6D6F725072657375;
          break;
        case 2:
          unint64_t v38 = 0xE500000000000000;
          uint64_t v39 = 0x7469617274;
          break;
        case 3:
          uint64_t v39 = 0x74695479726F7473;
          unint64_t v38 = 0xEA0000000000656CLL;
          break;
        case 4:
          uint64_t v39 = OUTLINED_FUNCTION_308() | 0x6E6F536300000000;
          unint64_t v38 = 0xEB00000000644967;
          break;
        default:
          break;
      }
      unint64_t v41 = 0xE400000000000000;
      uint64_t v42 = 1702060386;
      switch(v35)
      {
        case 1:
          OUTLINED_FUNCTION_168_1();
          unint64_t v41 = v43 + 3844;
          uint64_t v42 = 0x6D6F725072657375;
          break;
        case 2:
          unint64_t v41 = 0xE500000000000000;
          uint64_t v42 = 0x7469617274;
          break;
        case 3:
          uint64_t v42 = 0x74695479726F7473;
          unint64_t v41 = 0xEA0000000000656CLL;
          break;
        case 4:
          OUTLINED_FUNCTION_304();
          uint64_t v42 = v44 | 0x6E6F536300000000;
          unint64_t v41 = 0xEB00000000644967;
          break;
        default:
          break;
      }
      if (v39 == v42 && v38 == v41) {
        break;
      }
      char v46 = OUTLINED_FUNCTION_78_15();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v46) {
        goto LABEL_20;
      }
      OUTLINED_FUNCTION_72_17();
      if ((v47 & 1) == 0) {
        goto LABEL_18;
      }
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_20:
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_10();
  }
  else
  {
LABEL_18:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    unsigned __int8 v48 = OUTLINED_FUNCTION_47_23();
    sub_2593B7F74(v48, v49);
    OUTLINED_FUNCTION_41_29(a10);
  }
  *uint64_t v50 = v35;
  OUTLINED_FUNCTION_127_0();
}

#error "2596D5800: call analysis failed (funcsize=103)"

void sub_2596D5844(uint64_t *a1, uint64_t a2)
{
  OUTLINED_FUNCTION_56_15();
  sub_2598458C0();
  uint64_t v5 = sub_259845910() & ~(-1 << *(unsigned char *)(v2 + 32));
  OUTLINED_FUNCTION_26_34();
  if ((v6 & 1) == 0)
  {
LABEL_6:
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_21_34();
    sub_2593B8300(a2, v5);
    OUTLINED_FUNCTION_34_30(v10);
    goto LABEL_7;
  }
  if (*(void *)(*(void *)(v2 + 48) + 8 * v5) != a2)
  {
    do
    {
      OUTLINED_FUNCTION_11_56();
      if ((v8 & 1) == 0) {
        goto LABEL_6;
      }
    }
    while (*(void *)(v7 + 8 * v5) != a2);
  }
  OUTLINED_FUNCTION_63_18();
  a2 = *(void *)(v9 + 8 * v5);
LABEL_7:
  *a1 = a2;
}

void sub_2596D5918()
{
  OUTLINED_FUNCTION_32_0();
  OUTLINED_FUNCTION_110_11();
  sub_2598428E0();
  OUTLINED_FUNCTION_87();
  uint64_t v5 = v4;
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_57_21();
  sub_2596DA498((unint64_t *)&qword_26A38A358, MEMORY[0x263F07548]);
  sub_259843F00();
  OUTLINED_FUNCTION_98_9();
  OUTLINED_FUNCTION_30_29();
  if (v8)
  {
    OUTLINED_FUNCTION_22_45(v7);
    while (1)
    {
      uint64_t v9 = OUTLINED_FUNCTION_29_25();
      ((void (*)(uint64_t))v1)(v9);
      sub_2596DA498(&qword_26A38A360, MEMORY[0x263F07548]);
      uint64_t v1 = OUTLINED_FUNCTION_83_15();
      uint64_t v10 = *v2;
      OUTLINED_FUNCTION_62_17();
      v10();
      if (v1) {
        break;
      }
      OUTLINED_FUNCTION_27_31();
      if ((v11 & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v16;
        goto LABEL_7;
      }
    }
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_62_17();
    v10();
    uint64_t v15 = OUTLINED_FUNCTION_52_19();
    v0(v15);
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v1 = *(void *)(v5 + 16);
LABEL_7:
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v12 = OUTLINED_FUNCTION_81_14();
    ((void (*)(uint64_t))v1)(v12);
    OUTLINED_FUNCTION_48_19();
    sub_2593B83DC();
    *uint64_t v3 = v17;
    swift_bridgeObjectRelease();
    uint64_t v13 = OUTLINED_FUNCTION_64_20();
    v14(v13);
  }
  OUTLINED_FUNCTION_13_1();
}

uint64_t sub_2596D5ABC(void *a1, unsigned __int8 *a2)
{
  uint64_t v5 = *v2;
  sub_2598458B0();
  uint64_t v6 = *a2;
  uint64_t v7 = *((void *)a2 + 1);
  uint64_t v8 = *((void *)a2 + 2);
  uint64_t v26 = a2;
  sub_259843F00();
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  uint64_t v28 = v6;
  sub_259735330();
  sub_259845910();
  OUTLINED_FUNCTION_132_10();
  if ((*(void *)(v5 + 56 + ((v3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v3))
  {
    uint64_t v29 = ~v9;
    while (1)
    {
      uint64_t v10 = (unsigned __int8 *)(*(void *)(v5 + 48) + 144 * v3);
      uint64_t v11 = *v10;
      BOOL v12 = *((void *)v10 + 1) == v7 && *((void *)v10 + 2) == v8;
      if (v12 || (sub_259845750() & 1) != 0)
      {
        unint64_t v13 = 0xD000000000000011;
        unint64_t v14 = 0x800000025984B3C0;
        switch(v11)
        {
          case 1:
            unint64_t v13 = 0xD000000000000016;
            uint64_t v15 = "appleMusicMaestro";
            goto LABEL_11;
          case 2:
            unint64_t v13 = 0xD000000000000015;
            uint64_t v15 = "appleMusicSimpleSearch";
LABEL_11:
            unint64_t v14 = (unint64_t)v15 | 0x8000000000000000;
            break;
          case 3:
            unint64_t v14 = 0x800000025984B420;
            unint64_t v13 = 0xD000000000000010;
            break;
          default:
            break;
        }
        unint64_t v16 = 0xD000000000000011;
        unint64_t v17 = 0x800000025984B3C0;
        switch(v28)
        {
          case 1:
            unint64_t v16 = 0xD000000000000016;
            uint64_t v18 = "appleMusicMaestro";
            goto LABEL_16;
          case 2:
            unint64_t v16 = 0xD000000000000015;
            uint64_t v18 = "appleMusicSimpleSearch";
LABEL_16:
            unint64_t v17 = (unint64_t)v18 | 0x8000000000000000;
            break;
          case 3:
            unint64_t v17 = 0x800000025984B420;
            unint64_t v16 = 0xD000000000000010;
            break;
          default:
            break;
        }
        if (v13 == v16 && v14 == v17)
        {
          swift_bridgeObjectRelease();
          OUTLINED_FUNCTION_97_8();
          goto LABEL_27;
        }
        char v20 = sub_259845750();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        if (v20) {
          break;
        }
      }
      unint64_t v3 = (v3 + 1) & v29;
      OUTLINED_FUNCTION_60_19();
      if ((v21 & 1) == 0) {
        goto LABEL_24;
      }
    }
    swift_bridgeObjectRelease();
LABEL_27:
    sub_2593C2D6C((uint64_t)v26);
    OUTLINED_FUNCTION_50_20();
    uint64_t v25 = (const void *)(v24 + 144 * v3);
    memcpy(v30, v25, 0x90uLL);
    memcpy(a1, v25, 0x90uLL);
    sub_2593C2AE0((uint64_t)v30);
    return 0;
  }
  else
  {
LABEL_24:
    swift_bridgeObjectRelease();
    uint64_t v22 = OUTLINED_FUNCTION_128_8();
    OUTLINED_FUNCTION_113_9();
    sub_2593C2AE0((uint64_t)v26);
    sub_2593B86E4(v26, v3, v22);
    OUTLINED_FUNCTION_41_29(v30[0]);
    memcpy(a1, v26, 0x90uLL);
    return 1;
  }
}

uint64_t sub_2596D5DC8()
{
  OUTLINED_FUNCTION_69_17();
  uint64_t v4 = *(void *)(v3 + 40);
  uint64_t v36 = 0x3A70697254;
  unint64_t v37 = 0xE500000000000000;
  sub_259843F00();
  sub_259843F00();
  OUTLINED_FUNCTION_124_10();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_38_27();
  if (v5)
  {
    OUTLINED_FUNCTION_123_10();
    uint64_t v6 = *(void *)v3;
    uint64_t v7 = *(void *)(v3 + 8);
    sub_2593C2824(v3 + 16, (uint64_t)v39);
    while (1)
    {
      uint64_t v8 = &v0[4 * v2];
      uint64_t v9 = *((void *)v8 + 2);
      char v10 = *((unsigned char *)v8 + 24);
      uint64_t v12 = *((void *)v8 + 4);
      uint64_t v11 = *((void *)v8 + 5);
      BOOL v13 = *(void *)v8 == v6 && *((void *)v8 + 1) == v7;
      if (!v13 && (sub_259845750() & 1) == 0) {
        goto LABEL_18;
      }
      if (v10)
      {
        sub_2593C2824((uint64_t)v39, (uint64_t)v38);
        if (v38[8] != 1) {
          goto LABEL_18;
        }
      }
      else
      {
        sub_2593C2824((uint64_t)v39, (uint64_t)&v36);
        if ((v37 & 1) != 0 || v9 != v36) {
          goto LABEL_18;
        }
      }
      BOOL v14 = v12 == v34 && v11 == v4;
      if (v14 || (OUTLINED_FUNCTION_122_9() & 1) != 0)
      {
        swift_bridgeObjectRelease();
        sub_2596DA6C0(v32);
        OUTLINED_FUNCTION_50_20();
        uint64_t v23 = v22 + (v2 << 6);
        uint64_t v24 = *(void *)(v23 + 8);
        uint64_t v25 = *(void *)(v23 + 16);
        char v26 = *(unsigned char *)(v23 + 24);
        uint64_t v27 = *(void *)(v23 + 32);
        uint64_t v28 = *(void *)(v23 + 40);
        char v29 = *(unsigned char *)(v23 + 48);
        uint64_t v30 = *(void *)(v23 + 56);
        *(void *)uint64_t v33 = *(void *)v23;
        *(void *)(v33 + 8) = v24;
        *(void *)(v33 + 16) = v25;
        *(unsigned char *)(v33 + 24) = v26;
        *(void *)(v33 + 32) = v27;
        *(void *)(v33 + 40) = v28;
        *(unsigned char *)(v33 + 48) = v29;
        *(void *)(v33 + 56) = v30;
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        return 0;
      }
LABEL_18:
      uint64_t v2 = (v2 + 1) & v1;
      OUTLINED_FUNCTION_60_19();
      if ((v15 & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v32;
        uint64_t v0 = (_OWORD *)v33;
        unint64_t v1 = (unint64_t)v31;
        goto LABEL_21;
      }
    }
  }
  swift_bridgeObjectRelease();
LABEL_21:
  swift_isUniquelyReferenced_nonNull_native();
  uint64_t v16 = OUTLINED_FUNCTION_67_20();
  sub_25940D094(v16);
  unint64_t v17 = (uint64_t *)OUTLINED_FUNCTION_120_10();
  sub_2593B89C4(v17, v18);
  *(void *)unint64_t v1 = v35;
  swift_bridgeObjectRelease();
  long long v19 = *(_OWORD *)(v3 + 16);
  *uint64_t v0 = *(_OWORD *)v3;
  v0[1] = v19;
  long long v20 = *(_OWORD *)(v3 + 48);
  v0[2] = *(_OWORD *)(v3 + 32);
  v0[3] = v20;
  return 1;
}

void sub_2596D5FE4()
{
  OUTLINED_FUNCTION_32_0();
  unint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v41 = type metadata accessor for PartOfWeekExtendedToken(0);
  OUTLINED_FUNCTION_87();
  uint64_t v44 = v6;
  MEMORY[0x270FA5388](v7);
  uint64_t v9 = (char *)&v37 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  MEMORY[0x270FA5388](v10);
  uint64_t v42 = (uint64_t)&v37 - v11;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v12);
  BOOL v14 = (char *)&v37 - v13;
  MEMORY[0x270FA5388](v15);
  uint64_t v46 = (uint64_t)&v37 - v16;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v17);
  long long v19 = (uint64_t **)((char *)&v37 - v18);
  MEMORY[0x270FA5388](v20);
  uint64_t v39 = (char *)&v37 - v21;
  uint64_t v22 = *v0;
  sub_2598458B0();
  uint64_t v47 = 0x6557664F74726150;
  unint64_t v48 = 0xEB000000003A6B65;
  sub_259843F00();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_37_24();
  unint64_t v25 = v24 & ~v23;
  uint64_t v45 = v22 + 56;
  if (((*(void *)(v22 + 56 + ((v25 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v25) & 1) == 0)
  {
    swift_bridgeObjectRelease();
LABEL_25:
    uint64_t v34 = (uint64_t)v39;
    swift_isUniquelyReferenced_nonNull_native();
    sub_2596DA52C((uint64_t)v3, v34);
    uint64_t v49 = *v1;
    *unint64_t v1 = 0x8000000000000000;
    sub_2593B8B9C();
    *unint64_t v1 = v49;
    swift_bridgeObjectRelease();
    sub_2596DA5E0((uint64_t)v3, v5);
    goto LABEL_28;
  }
  unint64_t v37 = v0;
  uint64_t v38 = v5;
  uint64_t v43 = ~v23;
  uint64_t v44 = *(void *)(v44 + 72);
  uint64_t v26 = v42;
  uint64_t v40 = v22;
  while (1)
  {
    uint64_t v27 = *(void *)(v22 + 48);
    uint64_t v42 = v44 * v25;
    sub_2596DA52C(v27 + v44 * v25, (uint64_t)v19);
    if (*v19 == *v3 && v19[1] == v3[1])
    {
      uint64_t v30 = v46;
      sub_2596DA52C((uint64_t)v19, v46);
      sub_2596DA52C((uint64_t)v3, (uint64_t)v14);
    }
    else
    {
      char v29 = sub_259845750();
      uint64_t v30 = v46;
      sub_2596DA52C((uint64_t)v19, v46);
      sub_2596DA52C((uint64_t)v3, (uint64_t)v14);
      if ((v29 & 1) == 0) {
        goto LABEL_12;
      }
    }
    int v31 = v14[24];
    if ((*(unsigned char *)(v30 + 24) & 1) == 0)
    {
      if (v31)
      {
LABEL_12:
        sub_2596DA588((uint64_t)v14, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
        sub_2596DA588(v30, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
        sub_2596DA52C((uint64_t)v19, v26);
        sub_2596DA52C((uint64_t)v3, (uint64_t)v9);
LABEL_21:
        sub_2596DA588((uint64_t)v9, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
        sub_2596DA588(v26, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
        sub_2596DA588((uint64_t)v19, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
        goto LABEL_22;
      }
      int v31 = *(void *)(v30 + 16) == *((void *)v14 + 2);
    }
    sub_2596DA588((uint64_t)v14, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    sub_2596DA588(v30, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    sub_2596DA52C((uint64_t)v19, v26);
    sub_2596DA52C((uint64_t)v3, (uint64_t)v9);
    if (!v31) {
      goto LABEL_21;
    }
    sub_259843560();
    sub_2596DA498(&qword_26A3890C8, MEMORY[0x263F5E020]);
    sub_259844400();
    sub_259844400();
    if (v49 == v47 && v50 == v48) {
      break;
    }
    char v33 = sub_259845750();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_2596DA588((uint64_t)v9, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    sub_2596DA588(v26, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    sub_2596DA588((uint64_t)v19, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
    uint64_t v22 = v40;
    if (v33) {
      goto LABEL_27;
    }
LABEL_22:
    unint64_t v25 = (v25 + 1) & v43;
    if (((*(void *)(v45 + ((v25 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v25) & 1) == 0)
    {
      swift_bridgeObjectRelease();
      unint64_t v1 = v37;
      uint64_t v5 = v38;
      goto LABEL_25;
    }
  }
  OUTLINED_FUNCTION_97_8();
  sub_2596DA588((uint64_t)v9, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
  sub_2596DA588(v26, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
  sub_2596DA588((uint64_t)v19, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
LABEL_27:
  swift_bridgeObjectRelease();
  sub_2596DA588((uint64_t)v3, (void (*)(void))type metadata accessor for PartOfWeekExtendedToken);
  OUTLINED_FUNCTION_50_20();
  sub_2596DA52C(v35 + v42, v36);
LABEL_28:
  OUTLINED_FUNCTION_13_1();
}

void sub_2596D661C()
{
  OUTLINED_FUNCTION_32_0();
  unint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v6 = sub_259843650();
  OUTLINED_FUNCTION_87();
  uint64_t v8 = v7;
  MEMORY[0x270FA5388](v9);
  OUTLINED_FUNCTION_268();
  uint64_t v66 = v10;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v11);
  uint64_t v13 = (char *)&v50 - v12;
  uint64_t v14 = *v0;
  sub_2598458B0();
  uint64_t v15 = *(void *)v3;
  uint64_t v16 = *(void *)(v3 + 8);
  uint64_t v70 = 0x6144664F74726150;
  unint64_t v71 = 0xEA00000000003A79;
  sub_259843F00();
  sub_259843F00();
  uint64_t v56 = v15;
  sub_259844240();
  uint64_t v61 = v16;
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  uint64_t v17 = sub_259845910();
  uint64_t v18 = -1 << *(unsigned char *)(v14 + 32);
  unint64_t v19 = v17 & ~v18;
  uint64_t v59 = v14 + 56;
  if (((*(void *)(v14 + 56 + ((v19 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v19) & 1) == 0)
  {
    swift_bridgeObjectRelease();
LABEL_26:
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v69 = *v1;
    *unint64_t v1 = 0x8000000000000000;
    sub_25940CFC8(v3);
    sub_2593B914C();
    *unint64_t v1 = v69;
    swift_bridgeObjectRelease();
    long long v49 = *(_OWORD *)(v3 + 16);
    *(_OWORD *)uint64_t v5 = *(_OWORD *)v3;
    *((_OWORD *)v5 + 1) = v49;
    *((_OWORD *)v5 + 2) = *(_OWORD *)(v3 + 32);
    *((unsigned char *)v5 + 48) = *(unsigned char *)(v3 + 48);
    goto LABEL_27;
  }
  uint64_t v53 = v5;
  uint64_t v57 = ~v18;
  sub_2593C2824(v3 + 16, (uint64_t)v73);
  uint64_t v52 = v3;
  uint64_t v67 = *(void *)(v3 + 32);
  uint64_t v65 = v8 + 16;
  uint64_t v20 = (void (**)(uint64_t))(v8 + 8);
  uint64_t v21 = v14;
  uint64_t v22 = v56;
  id v55 = v0;
  uint64_t v51 = v8;
  uint64_t v54 = v14;
  while (1)
  {
    uint64_t v23 = *(void *)(v21 + 48);
    unint64_t v63 = v19;
    uint64_t v58 = 56 * v19;
    uint64_t v24 = (uint64_t *)(v23 + 56 * v19);
    uint64_t v25 = *v24;
    uint64_t v26 = v24[1];
    uint64_t v27 = v24[2];
    char v28 = *((unsigned char *)v24 + 24);
    uint64_t v30 = v24[4];
    uint64_t v29 = v24[5];
    uint64_t v68 = v30;
    uint64_t v60 = v29;
    uint64_t v62 = v26;
    BOOL v31 = v25 == v22 && v26 == v61;
    if (!v31 && (sub_259845750() & 1) == 0) {
      goto LABEL_22;
    }
    if (v28)
    {
      sub_2593C2824((uint64_t)v73, (uint64_t)v72);
      if (v72[8] != 1) {
        goto LABEL_22;
      }
    }
    else
    {
      sub_2593C2824((uint64_t)v73, (uint64_t)&v70);
      if ((v71 & 1) != 0 || v27 != v70) {
        goto LABEL_22;
      }
    }
    uint64_t v32 = *(void *)(v68 + 16);
    if (v32 == *(void *)(v67 + 16)) {
      break;
    }
LABEL_22:
    unint64_t v19 = (v63 + 1) & v57;
    if (((*(void *)(v59 + ((v19 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v19) & 1) == 0)
    {
      swift_bridgeObjectRelease();
      uint64_t v5 = v53;
      uint64_t v3 = v52;
      goto LABEL_26;
    }
  }
  if (!v32 || (uint64_t v33 = v67, v68 == v67))
  {
    uint64_t v62 = v21;
LABEL_24:
    swift_bridgeObjectRelease();
    sub_2596DA4E0(v52);
    uint64_t v41 = *(void *)(*v1 + 48) + v58;
    uint64_t v42 = *(void *)v41;
    uint64_t v43 = *(void *)(v41 + 8);
    uint64_t v44 = *(void *)(v41 + 16);
    char v45 = *(unsigned char *)(v41 + 24);
    uint64_t v47 = *(void *)(v41 + 32);
    uint64_t v46 = *(void *)(v41 + 40);
    LOBYTE(v41) = *(unsigned char *)(v41 + 48);
    unint64_t v48 = v53;
    void *v53 = v42;
    v48[1] = v43;
    _OWORD v48[2] = v44;
    *((unsigned char *)v48 + 24) = v45;
    v48[4] = v47;
    v48[5] = v46;
    *((unsigned char *)v48 + 48) = v41;
    sub_259843F00();
    sub_259843F00();
    sub_259843F00();
LABEL_27:
    OUTLINED_FUNCTION_13_1();
    return;
  }
  uint64_t v34 = v8;
  unint64_t v35 = (*(unsigned __int8 *)(v8 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  uint64_t v64 = *(void *)(v34 + 72);
  uint64_t v36 = *(void (**)(char *, unint64_t, uint64_t))(v34 + 16);
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  unint64_t v37 = 0;
  while (1)
  {
    v36(v13, v68 + v35, v6);
    if (v37 >= *(void *)(v33 + 16)) {
      break;
    }
    v36(v66, v33 + v35, v6);
    sub_2596DA498(&qword_26A38A220, MEMORY[0x263F5E058]);
    char v38 = sub_259844060();
    uint64_t v39 = *v20;
    uint64_t v40 = OUTLINED_FUNCTION_3_26();
    v39(v40);
    ((void (*)(char *, uint64_t))v39)(v13, v6);
    if ((v38 & 1) == 0)
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v1 = v55;
      uint64_t v8 = v51;
      uint64_t v21 = v54;
      uint64_t v22 = v56;
      goto LABEL_22;
    }
    ++v37;
    v35 += v64;
    uint64_t v33 = v67;
    if (v32 == v37)
    {
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      unint64_t v1 = v55;
      goto LABEL_24;
    }
  }
  __break(1u);
}

void sub_2596D6B60()
{
  OUTLINED_FUNCTION_32_0();
  unint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t v6 = type metadata accessor for TimeExtendedToken(0);
  uint64_t v7 = OUTLINED_FUNCTION_1(v6);
  uint64_t v9 = v8;
  MEMORY[0x270FA5388](v7);
  uint64_t v11 = (char *)v20 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = *v0;
  sub_2598458B0();
  v20[1] = 0x3A656D6954;
  void v20[2] = 0xE500000000000000;
  unint64_t v13 = *v3;
  sub_259843F00();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_125_10();
  if ((*(void *)(v12 + 56 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13))
  {
    v20[0] = v5;
    uint64_t v15 = ~v14;
    uint64_t v16 = *(void *)(v9 + 72);
    while (1)
    {
      sub_2596DA52C(*(void *)(v12 + 48) + v16 * v13, (uint64_t)v11);
      static TimeExtendedToken.== infix(_:_:)();
      char v18 = v17;
      sub_2596DA588((uint64_t)v11, (void (*)(void))type metadata accessor for TimeExtendedToken);
      if (v18) {
        break;
      }
      unint64_t v13 = (v13 + 1) & v15;
      if (((*(void *)(v12 + 56 + ((v13 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v13) & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v5 = v20[0];
        goto LABEL_7;
      }
    }
    swift_bridgeObjectRelease();
    sub_2596DA588((uint64_t)v3, (void (*)(void))type metadata accessor for TimeExtendedToken);
    OUTLINED_FUNCTION_63_18();
    sub_2596DA52C(v19 + v16 * v13, v20[0]);
  }
  else
  {
    swift_bridgeObjectRelease();
LABEL_7:
    swift_isUniquelyReferenced_nonNull_native();
    sub_2596DA52C((uint64_t)v3, (uint64_t)v11);
    uint64_t v21 = *v1;
    *unint64_t v1 = 0x8000000000000000;
    sub_2593B95EC();
    OUTLINED_FUNCTION_34_30(v21);
    sub_2596DA5E0((uint64_t)v3, v5);
  }
  OUTLINED_FUNCTION_13_1();
}

uint64_t sub_2596D6DDC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = v2;
  uint64_t v7 = *v2;
  sub_2598458B0();
  sub_259843F00();
  sub_2593E7778();
  sub_259845910();
  OUTLINED_FUNCTION_36_27();
  if ((*(void *)(v7 + 56 + ((v3 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v3))
  {
    uint64_t v26 = v2;
    uint64_t v27 = a2;
    uint64_t v8 = *(void *)(v7 + 48);
    uint64_t v9 = *(void *)a2;
    uint64_t v10 = *(void *)(a2 + 8);
    sub_2593C2824(a2 + 16, (uint64_t)v30);
    while (1)
    {
      uint64_t v11 = v8 + 40 * v3;
      uint64_t v12 = *(void *)(v11 + 16);
      char v13 = *(unsigned char *)(v11 + 24);
      BOOL v14 = *(void *)v11 == v9 && *(void *)(v11 + 8) == v10;
      if (v14 || (sub_259845750() & 1) != 0)
      {
        if (v13)
        {
          sub_2593C2824((uint64_t)v30, (uint64_t)v29);
          if (v29[8] == 1) {
            goto LABEL_17;
          }
        }
        else
        {
          sub_2593C2824((uint64_t)v30, (uint64_t)&v31);
          if ((v32 & 1) == 0 && v12 == v31)
          {
LABEL_17:
            swift_bridgeObjectRelease();
            sub_2596DA63C(v27);
            OUTLINED_FUNCTION_85_13();
            uint64_t v21 = *(void *)(v20 + 8);
            uint64_t v22 = *(void *)(v20 + 16);
            char v23 = *(unsigned char *)(v20 + 24);
            char v24 = *(unsigned char *)(v20 + 25);
            uint64_t v25 = *(void *)(v20 + 32);
            *(void *)a1 = *(void *)v20;
            *(void *)(a1 + 8) = v21;
            *(void *)(a1 + 16) = v22;
            *(unsigned char *)(a1 + 24) = v23;
            *(unsigned char *)(a1 + 25) = v24;
            *(void *)(a1 + 32) = v25;
            sub_259843F00();
            sub_259843F00();
            return 0;
          }
        }
      }
      OUTLINED_FUNCTION_129_7();
      if (((*(void *)(v7 + 56 + v15) >> v3) & 1) == 0)
      {
        swift_bridgeObjectRelease();
        a2 = v27;
        uint64_t v4 = v26;
        goto LABEL_16;
      }
    }
  }
  swift_bridgeObjectRelease();
LABEL_16:
  uint64_t isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v28 = *v4;
  uint64_t v17 = OUTLINED_FUNCTION_58_21();
  sub_25940D010(v17);
  sub_2593B97FC(a2, v3, isUniquelyReferenced_nonNull_native);
  OUTLINED_FUNCTION_34_30(v28);
  long long v18 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v18;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  return 1;
}

uint64_t sub_2596D6FD4()
{
  OUTLINED_FUNCTION_69_17();
  uint64_t v4 = *(void *)(v3 + 24);
  uint64_t v35 = 0x6E6F697461636F4CLL;
  unint64_t v36 = 0xE90000000000003ALL;
  sub_259843F00();
  sub_259843F00();
  OUTLINED_FUNCTION_124_10();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_38_27();
  if (v5)
  {
    OUTLINED_FUNCTION_123_10();
    uint64_t v6 = *(void *)v3;
    uint64_t v7 = *(void *)(v3 + 8);
    sub_2593C2824(v3 + 32, (uint64_t)v38);
    while (1)
    {
      uint64_t v8 = v0 + 56 * v2;
      uint64_t v10 = *(void *)(v8 + 16);
      uint64_t v9 = *(void *)(v8 + 24);
      uint64_t v11 = *(void *)(v8 + 32);
      char v12 = *(unsigned char *)(v8 + 40);
      BOOL v13 = *(void *)v8 == v6 && *(void *)(v8 + 8) == v7;
      if (!v13 && (sub_259845750() & 1) == 0) {
        goto LABEL_18;
      }
      if (v12)
      {
        sub_2593C2824((uint64_t)v38, (uint64_t)v37);
        if (v37[8] != 1) {
          goto LABEL_18;
        }
      }
      else
      {
        sub_2593C2824((uint64_t)v38, (uint64_t)&v35);
        if ((v36 & 1) != 0 || v11 != v35) {
          goto LABEL_18;
        }
      }
      BOOL v14 = v10 == v33 && v9 == v4;
      if (v14 || (OUTLINED_FUNCTION_122_9() & 1) != 0)
      {
        swift_bridgeObjectRelease();
        sub_2596DA674(v31);
        OUTLINED_FUNCTION_50_20();
        uint64_t v22 = v21 + 56 * v2;
        uint64_t v23 = *(void *)(v22 + 8);
        uint64_t v24 = *(void *)(v22 + 16);
        uint64_t v25 = *(void *)(v22 + 24);
        uint64_t v26 = *(void *)(v22 + 32);
        char v27 = *(unsigned char *)(v22 + 40);
        char v28 = *(unsigned char *)(v22 + 41);
        uint64_t v29 = *(void *)(v22 + 48);
        *(void *)uint64_t v32 = *(void *)v22;
        *(void *)(v32 + 8) = v23;
        *(void *)(v32 + 16) = v24;
        *(void *)(v32 + 24) = v25;
        *(void *)(v32 + 32) = v26;
        *(unsigned char *)(v32 + 40) = v27;
        *(unsigned char *)(v32 + 41) = v28;
        *(void *)(v32 + 48) = v29;
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        return 0;
      }
LABEL_18:
      uint64_t v2 = (v2 + 1) & v1;
      OUTLINED_FUNCTION_60_19();
      if ((v15 & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v31;
        uint64_t v0 = v32;
        unint64_t v1 = (unint64_t)v30;
        goto LABEL_21;
      }
    }
  }
  swift_bridgeObjectRelease();
LABEL_21:
  swift_isUniquelyReferenced_nonNull_native();
  uint64_t v16 = OUTLINED_FUNCTION_67_20();
  sub_25940D048(v16);
  uint64_t v17 = (uint64_t *)OUTLINED_FUNCTION_120_10();
  sub_2593B9978(v17, v18);
  *(void *)unint64_t v1 = v34;
  swift_bridgeObjectRelease();
  long long v19 = *(_OWORD *)(v3 + 16);
  *(_OWORD *)uint64_t v0 = *(_OWORD *)v3;
  *(_OWORD *)(v0 + 16) = v19;
  *(_OWORD *)(v0 + 32) = *(_OWORD *)(v3 + 32);
  *(void *)(v0 + 48) = *(void *)(v3 + 48);
  return 1;
}

uint64_t sub_2596D7208()
{
  OUTLINED_FUNCTION_103_10();
  sub_2598458B0();
  uint64_t v4 = v1[4];
  uint64_t v5 = v1[5];
  sub_259843F00();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  uint64_t v6 = sub_259845910();
  uint64_t v7 = -1 << *(unsigned char *)(v3 + 32);
  uint64_t v8 = v6 & ~v7;
  OUTLINED_FUNCTION_18_30();
  if ((v9 & 1) == 0)
  {
LABEL_17:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v31 = *v2;
    uint64_t v30 = OUTLINED_FUNCTION_58_21();
    sub_25940D094(v30);
    sub_2593B9B68();
    OUTLINED_FUNCTION_34_30(v31);
    memcpy(v0, v1, 0x42uLL);
    return 1;
  }
  uint64_t v10 = *(void *)(v3 + 48);
  uint64_t v11 = v10 + 72 * v8;
  BOOL v12 = *(void *)(v11 + 32) == v4 && *(void *)(v11 + 40) == v5;
  if (!v12 && (OUTLINED_FUNCTION_54_23() & 1) == 0)
  {
    uint64_t v24 = ~v7;
    uint64_t v25 = v8 + 1;
    while (1)
    {
      uint64_t v26 = v25 & v24;
      OUTLINED_FUNCTION_18_30();
      if ((v27 & 1) == 0) {
        goto LABEL_17;
      }
      uint64_t v28 = v10 + 72 * v26;
      BOOL v29 = *(void *)(v28 + 32) == v4 && *(void *)(v28 + 40) == v5;
      if (v29 || (OUTLINED_FUNCTION_54_23() & 1) != 0)
      {
        uint64_t v13 = 72 * v26;
        swift_bridgeObjectRelease();
        goto LABEL_8;
      }
      uint64_t v25 = v26 + 1;
      uint64_t v24 = ~v7;
    }
  }
  swift_bridgeObjectRelease();
  uint64_t v13 = 72 * v8;
LABEL_8:
  sub_2596DA6C0((uint64_t)v1);
  OUTLINED_FUNCTION_63_18();
  OUTLINED_FUNCTION_80_15();
  char v15 = *(unsigned char *)(v14 + 50);
  uint64_t v16 = *(void *)(v14 + 56);
  char v17 = *(unsigned char *)(v14 + 64);
  LOBYTE(v14) = *(unsigned char *)(v14 + 65);
  *uint64_t v0 = v18;
  v0[1] = v13;
  v0[2] = v19;
  *((unsigned char *)v0 + 24) = v20;
  v0[4] = v21;
  v0[5] = v1;
  *((_WORD *)v0 + 24) = v22;
  *((unsigned char *)v0 + 50) = v15;
  v0[7] = v16;
  *((unsigned char *)v0 + 64) = v17;
  *((unsigned char *)v0 + 65) = v14;
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  return 0;
}

uint64_t sub_2596D7418(void *a1, void *a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = *v3;
  sub_2598458B0();
  uint64_t v7 = a2[5];
  sub_259843F00();
  sub_259843F00();
  sub_259844240();
  swift_bridgeObjectRelease();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  uint64_t v8 = sub_259845910();
  uint64_t v9 = -1 << *(unsigned char *)(v6 + 32);
  uint64_t v10 = v8 & ~v9;
  OUTLINED_FUNCTION_18_30();
  if (v11)
  {
    OUTLINED_FUNCTION_94_14();
    BOOL v13 = v13 && v12 == v7;
    if (v13 || (OUTLINED_FUNCTION_54_23() & 1) != 0)
    {
      swift_bridgeObjectRelease();
      uint64_t v14 = a2;
LABEL_8:
      sub_2596DA70C((uint64_t)v14);
      OUTLINED_FUNCTION_63_18();
      OUTLINED_FUNCTION_80_15();
      uint64_t v16 = *(void *)(v15 + 56);
      uint64_t v17 = *(void *)(v15 + 80);
      char v18 = *(unsigned char *)(v15 + 88);
      char v19 = *(unsigned char *)(v15 + 89);
      char v20 = *(unsigned char *)(v15 + 90);
      uint64_t v21 = *(void *)(v15 + 96);
      char v22 = *(unsigned char *)(v15 + 104);
      *a1 = v23;
      a1[1] = v6 + 56;
      a1[2] = v24;
      *((unsigned char *)a1 + 24) = v25;
      a1[4] = v26;
      a1[5] = v14;
      *((_WORD *)a1 + 24) = v27;
      a1[7] = v16;
      *((_OWORD *)a1 + 4) = *(_OWORD *)(v15 + 64);
      a1[10] = v17;
      *((unsigned char *)a1 + 88) = v18;
      *((unsigned char *)a1 + 89) = v19;
      *((unsigned char *)a1 + 90) = v20;
      a1[12] = v21;
      *((unsigned char *)a1 + 104) = v22;
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      sub_259843F00();
      return 0;
    }
    uint64_t v35 = ~v9;
    uint64_t v10 = (v10 + 1) & ~v9;
    OUTLINED_FUNCTION_18_30();
    if (v29)
    {
      uint64_t v14 = a2;
      while (1)
      {
        OUTLINED_FUNCTION_94_14();
        BOOL v31 = v13 && v30 == v7;
        if (v31 || (OUTLINED_FUNCTION_54_23() & 1) != 0) {
          break;
        }
        uint64_t v10 = (v10 + 1) & v35;
        OUTLINED_FUNCTION_18_30();
        if ((v32 & 1) == 0) {
          goto LABEL_19;
        }
      }
      swift_bridgeObjectRelease();
      goto LABEL_8;
    }
  }
  uint64_t v14 = a2;
LABEL_19:
  swift_bridgeObjectRelease();
  uint64_t isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v36 = *v3;
  uint64_t v34 = OUTLINED_FUNCTION_58_21();
  sub_25940D0E0(v34);
  sub_2593B9CFC(v14, v10, isUniquelyReferenced_nonNull_native);
  OUTLINED_FUNCTION_34_30(v36);
  memcpy(a1, v14, 0x69uLL);
  return 1;
}

void sub_2596D7664(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  OUTLINED_FUNCTION_33_2();
  char v12 = v11;
  uint64_t v41 = v13;
  uint64_t v14 = *v10;
  uint64_t v15 = *(void *)(v14 + 40);
  sub_259843F00();
  sub_2597368A4();
  OUTLINED_FUNCTION_36_27();
  OUTLINED_FUNCTION_102_11();
  if (v16)
  {
    while (1)
    {
      unint64_t v17 = 0xE600000000000000;
      switch(*(unsigned char *)(*(void *)(v14 + 48) + v15))
      {
        case 1:
          uint64_t v18 = 0x6570795465;
          goto LABEL_12;
        case 2:
          unint64_t v17 = 0xE400000000000000;
          break;
        case 3:
          OUTLINED_FUNCTION_284();
          unint64_t v17 = v19 + 20;
          break;
        case 4:
          OUTLINED_FUNCTION_168_1();
          unint64_t v17 = v20 + 1529;
          break;
        case 5:
          unint64_t v17 = 0xE800000000000000;
          break;
        case 6:
          unint64_t v17 = 0xEF6E6F697461636FLL;
          break;
        case 7:
          unint64_t v17 = 0xE400000000000000;
          break;
        case 8:
          unint64_t v17 = 0xEB00000000746E65;
          break;
        case 9:
          uint64_t v18 = 0x746E657645;
LABEL_12:
          unint64_t v17 = v18 & 0xFFFFFFFFFFFFLL | 0xED00000000000000;
          break;
        case 0xA:
          OUTLINED_FUNCTION_308();
          unint64_t v17 = 0xEA0000000000656CLL;
          break;
        case 0xB:
          unint64_t v17 = 0xEB00000000747369;
          OUTLINED_FUNCTION_308();
          break;
        case 0xC:
          OUTLINED_FUNCTION_168_1();
          unint64_t v17 = v21 + 6;
          OUTLINED_FUNCTION_308();
          break;
        case 0xD:
          unint64_t v17 = 0xE400000000000000;
          break;
        case 0xE:
          unint64_t v17 = 0xE800000000000000;
          break;
        case 0x10:
          unint64_t v17 = 0xE900000000000065;
          break;
        case 0x11:
          OUTLINED_FUNCTION_284();
          unint64_t v17 = v22 + 13;
          break;
        default:
          break;
      }
      unint64_t v23 = 0xE600000000000000;
      OUTLINED_FUNCTION_239_0();
      switch(v12)
      {
        case 1:
          OUTLINED_FUNCTION_239_0();
          uint64_t v25 = v26 & 0xFFFFFFFFFFFFLL | 0x6741000000000000;
          uint64_t v27 = 0x6570795465;
          goto LABEL_31;
        case 2:
          unint64_t v23 = 0xE400000000000000;
          uint64_t v25 = 1702125924;
          break;
        case 3:
          OUTLINED_FUNCTION_284();
          unint64_t v23 = v28 + 20;
          uint64_t v25 = 0x6144664F74726170;
          break;
        case 4:
          OUTLINED_FUNCTION_168_1();
          unint64_t v23 = v29 + 1529;
          uint64_t v25 = 0x6557664F74726170;
          break;
        case 5:
          unint64_t v23 = 0xE800000000000000;
          unsigned int v30 = 1633906540;
          goto LABEL_37;
        case 6:
          uint64_t v25 = 0x4C636972656E6567;
          unint64_t v23 = 0xEF6E6F697461636FLL;
          break;
        case 7:
          unint64_t v23 = 0xE400000000000000;
          uint64_t v25 = 1952540791;
          break;
        case 8:
          uint64_t v25 = 0x764563696C627570;
          unint64_t v23 = 0xEB00000000746E65;
          break;
        case 9:
          OUTLINED_FUNCTION_239_0();
          uint64_t v25 = v31 & 0xFFFFFFFFFFFFLL | 0x6C61000000000000;
          uint64_t v27 = 0x746E657645;
LABEL_31:
          unint64_t v23 = v27 & 0xFFFFFFFFFFFFLL | 0xED00000000000000;
          break;
        case 10:
          OUTLINED_FUNCTION_304();
          uint64_t v25 = v32 | 0x7469546300000000;
          unint64_t v23 = 0xEA0000000000656CLL;
          break;
        case 11:
          unint64_t v23 = 0xEB00000000747369;
          OUTLINED_FUNCTION_304();
          uint64_t v25 = v33 | 0x7472416300000000;
          break;
        case 12:
          OUTLINED_FUNCTION_168_1();
          unint64_t v23 = v34 + 6;
          OUTLINED_FUNCTION_304();
          uint64_t v25 = v35 | 0x6E65476300000000;
          break;
        case 13:
          unint64_t v23 = 0xE400000000000000;
          uint64_t v25 = 1685024621;
          break;
        case 14:
          unint64_t v23 = 0xE800000000000000;
          unsigned int v30 = 1634891108;
LABEL_37:
          uint64_t v25 = v30 | 0x6E6F697400000000;
          break;
        case 15:
          uint64_t v25 = 0x706972547369;
          break;
        case 16:
          uint64_t v25 = 0x6D69546C6C417369;
          unint64_t v23 = 0xE900000000000065;
          break;
        case 17:
          OUTLINED_FUNCTION_284();
          unint64_t v23 = v36 + 13;
          uint64_t v25 = 0x6564724F74726F73;
          break;
        default:
          break;
      }
      if (v24 == v25 && v17 == v23) {
        break;
      }
      char v38 = OUTLINED_FUNCTION_78_15();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v38) {
        goto LABEL_49;
      }
      OUTLINED_FUNCTION_72_17();
      if ((v39 & 1) == 0) {
        goto LABEL_47;
      }
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
LABEL_49:
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_112_10();
  }
  else
  {
LABEL_47:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v40 = OUTLINED_FUNCTION_47_23();
    sub_2593B9E98(v40);
    OUTLINED_FUNCTION_41_29(a10);
  }
  unsigned char *v41 = v12;
  OUTLINED_FUNCTION_32();
}

uint64_t sub_2596D7B94(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v9 = *v5;
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  uint64_t v10 = sub_259845910();
  uint64_t v11 = -1 << *(unsigned char *)(v9 + 32);
  unint64_t v12 = v10 & ~v11;
  if ((*(void *)(v9 + 56 + ((v12 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v12))
  {
    uint64_t v13 = ~v11;
    do
    {
      uint64_t v14 = (void *)(*(void *)(v9 + 48) + 32 * v12);
      BOOL v15 = *v14 == a2 && v14[1] == a3;
      if (v15 || (sub_259845750() & 1) != 0)
      {
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_2597404A4();
        if (v16)
        {
          sub_2597404A4();
          uint64_t v6 = v17;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if (v6)
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_50_20();
            OUTLINED_FUNCTION_90_15(*(void *)(v18 + 32 * v12 + 8), v19, v20, v21, v22, v23, v24, v25, v27, v28, a1);
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            return 0;
          }
        }
        else
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
        }
      }
      unint64_t v12 = (v12 + 1) & v13;
    }
    while (((*(void *)(v9 + 56 + ((v12 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v12) & 1) != 0);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_128_8();
  uint64_t v32 = *v6;
  *uint64_t v6 = 0x8000000000000000;
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_2593BA400();
  OUTLINED_FUNCTION_41_29(v32);
  *a1 = a2;
  a1[1] = a3;
  uint64_t result = 1;
  a1[2] = a4;
  a1[3] = a5;
  return result;
}

uint64_t sub_2596D7DD0(uint64_t a1, uint64_t a2)
{
  uint64_t v6 = *(void *)a2;
  uint64_t v5 = *(void *)(a2 + 8);
  uint64_t v31 = *(void *)(a2 + 32);
  uint64_t v7 = *v2;
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  sub_259845910();
  OUTLINED_FUNCTION_36_27();
  if ((*(void *)(v7 + 56 + ((v4 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v4))
  {
    do
    {
      uint64_t v8 = (void *)(*(void *)(v7 + 48) + 40 * v4);
      uint64_t v3 = (uint64_t *)v8[3];
      BOOL v9 = *v8 == v6 && v8[1] == v5;
      if (v9 || (sub_259845750() & 1) != 0)
      {
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_2597404A4();
        if (v10)
        {
          sub_2597404A4();
          char v12 = v11;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if (v12)
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            sub_25945EAC4((uint64_t)&v31);
            OUTLINED_FUNCTION_85_13();
            uint64_t v17 = *(void *)(v16 + 32);
            OUTLINED_FUNCTION_90_15(*(void *)(v16 + 8), v18, v19, v20, v21, v22, v23, v24, a2, v28, (void *)a1);
            *(void *)(v25 + 32) = v17;
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            return 0;
          }
        }
        else
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
        }
      }
      OUTLINED_FUNCTION_129_7();
    }
    while (((*(void *)(v7 + 56 + v13) >> v4) & 1) != 0);
  }
  swift_bridgeObjectRelease();
  uint64_t v14 = OUTLINED_FUNCTION_128_8();
  uint64_t v30 = *v3;
  *uint64_t v3 = 0x8000000000000000;
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_25945EA98((uint64_t)&v31);
  sub_2593BA5B8(a2, v4, v14);
  OUTLINED_FUNCTION_41_29(v30);
  long long v15 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v15;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  return 1;
}

void sub_2596D8040(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10)
{
  OUTLINED_FUNCTION_154();
  OUTLINED_FUNCTION_107_10();
  OUTLINED_FUNCTION_56_15();
  sub_2598458D0();
  sub_259843F00();
  if (v12)
  {
    sub_259843F00();
    sub_2598441C0();
    swift_bridgeObjectRelease();
  }
  sub_259845910();
  OUTLINED_FUNCTION_125_10();
  if (((*(void *)(v14 + 56 + ((v15 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v15) & 1) == 0)
  {
LABEL_15:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_87_16();
    sub_2593BA788(v13, v12, v15);
    OUTLINED_FUNCTION_41_29(a10);
    *char v10 = v13;
    v10[1] = v12;
    goto LABEL_18;
  }
  uint64_t v17 = ~v16;
  uint64_t v18 = *(void *)(v14 + 48);
  while (1)
  {
    uint64_t v19 = (void *)(v18 + 16 * v15);
    uint64_t v20 = v19[1];
    if (v20) {
      break;
    }
    if (!v12) {
      goto LABEL_17;
    }
LABEL_14:
    unint64_t v15 = (v15 + 1) & v17;
    if (((*(void *)(v14 + 56 + ((v15 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v15) & 1) == 0) {
      goto LABEL_15;
    }
  }
  if (!v12) {
    goto LABEL_14;
  }
  BOOL v21 = *v19 == v13 && v20 == v12;
  if (!v21 && (OUTLINED_FUNCTION_148_1() & 1) == 0) {
    goto LABEL_14;
  }
  swift_bridgeObjectRelease();
LABEL_17:
  swift_bridgeObjectRelease();
  uint64_t v22 = (uint64_t *)(*(void *)(*(void *)v11 + 48) + 16 * v15);
  uint64_t v23 = v22[1];
  *char v10 = *v22;
  v10[1] = v23;
  sub_259843F00();
LABEL_18:
  OUTLINED_FUNCTION_127_0();
}

uint64_t sub_2596D81A8(unsigned char *a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v5 = *v2;
  sub_2598458B0();
  sub_25957E3D4(a2);
  unint64_t v7 = v6;
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_132_10();
  uint64_t v21 = a2;
  if ((*(void *)(v5 + 56 + ((v7 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v7))
  {
    uint64_t v9 = ~v8;
    uint64_t v10 = a2;
    while (1)
    {
      unint64_t v11 = 0x800000025984BA10;
      unint64_t v12 = 0xD000000000000010;
      switch(*(unsigned char *)(*(void *)(v5 + 48) + v7))
      {
        case 1:
          unint64_t v12 = 0x6E6F697461636F4CLL;
          unint64_t v11 = 0xE900000000000073;
          break;
        case 2:
          unint64_t v11 = 0xE500000000000000;
          uint64_t v13 = 1701669204;
          goto LABEL_7;
        case 3:
          unint64_t v11 = 0xE500000000000000;
          uint64_t v13 = 1885958740;
LABEL_7:
          unint64_t v12 = v13 & 0xFFFF0000FFFFFFFFLL | 0x7300000000;
          break;
        case 4:
          unint64_t v11 = 0xE700000000000000;
          unint64_t v12 = 0x73746E656D6F4DLL;
          break;
        default:
          break;
      }
      unint64_t v14 = 0x800000025984BA10;
      unint64_t v15 = 0xD000000000000010;
      switch(v10)
      {
        case 1:
          unint64_t v15 = 0x6E6F697461636F4CLL;
          unint64_t v14 = 0xE900000000000073;
          break;
        case 2:
          unint64_t v14 = 0xE500000000000000;
          uint64_t v16 = 1701669204;
          goto LABEL_13;
        case 3:
          unint64_t v14 = 0xE500000000000000;
          uint64_t v16 = 1885958740;
LABEL_13:
          unint64_t v15 = v16 & 0xFFFF0000FFFFFFFFLL | 0x7300000000;
          break;
        case 4:
          unint64_t v14 = 0xE700000000000000;
          unint64_t v15 = 0x73746E656D6F4DLL;
          break;
        default:
          break;
      }
      if (v12 == v15 && v11 == v14)
      {
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease_n();
        goto LABEL_24;
      }
      char v18 = OUTLINED_FUNCTION_78_15();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v18) {
        break;
      }
      unint64_t v7 = (v7 + 1) & v9;
      if (((*(void *)(v5 + 56 + ((v7 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v7) & 1) == 0) {
        goto LABEL_21;
      }
    }
    swift_bridgeObjectRelease();
LABEL_24:
    uint64_t result = 0;
    char v19 = *(unsigned char *)(*(void *)(*v3 + 48) + v7);
  }
  else
  {
LABEL_21:
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v23 = *v3;
    *uint64_t v3 = 0x8000000000000000;
    char v19 = v21;
    sub_2593BA8F4(v21, v7);
    OUTLINED_FUNCTION_41_29(v23);
    uint64_t result = 1;
  }
  *a1 = v19;
  return result;
}

#error "2596D85D8: call analysis failed (funcsize=103)"

void sub_2596D861C(unsigned __int8 *a1, unsigned __int8 a2)
{
}

void sub_2596D8634(unsigned __int8 *a1, unsigned __int8 a2)
{
}

void sub_2596D864C(unsigned __int8 *a1, unsigned __int8 a2, void (*a3)(uint64_t, unint64_t))
{
  uint64_t v7 = *v3;
  sub_2598458B0();
  sub_2598458C0();
  uint64_t v8 = sub_259845910();
  uint64_t v9 = -1 << *(unsigned char *)(v7 + 32);
  unint64_t v10 = v8 & ~v9;
  if (((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10) & 1) == 0)
  {
LABEL_7:
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v14 = OUTLINED_FUNCTION_51_19();
    a3(v14, v10);
    OUTLINED_FUNCTION_34_30(v15);
    goto LABEL_8;
  }
  uint64_t v11 = *(void *)(v7 + 48);
  if (*(unsigned __int8 *)(v11 + v10) != a2)
  {
    uint64_t v12 = ~v9;
    do
    {
      unint64_t v10 = (v10 + 1) & v12;
      if (((*(void *)(v7 + 56 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10) & 1) == 0) {
        goto LABEL_7;
      }
    }
    while (*(unsigned __int8 *)(v11 + v10) != a2);
  }
  OUTLINED_FUNCTION_63_18();
  a2 = *(unsigned char *)(v13 + v10);
LABEL_8:
  *a1 = a2;
}

void sub_2596D8758()
{
  OUTLINED_FUNCTION_32_0();
  unint64_t v1 = v0;
  uint64_t v3 = v2;
  uint64_t v5 = v4;
  uint64_t TokenSuggestion = type metadata accessor for QueryTokenSuggestion(0);
  uint64_t v7 = OUTLINED_FUNCTION_1(TokenSuggestion);
  unint64_t v9 = v8;
  MEMORY[0x270FA5388](v7);
  OUTLINED_FUNCTION_268();
  uint64_t v74 = v10;
  OUTLINED_FUNCTION_17();
  MEMORY[0x270FA5388](v11);
  uint64_t v13 = (char *)&v61 - v12;
  uint64_t v14 = *v0;
  sub_2598458B0();
  uint64_t v15 = *v3;
  uint64_t v16 = v3[1];
  uint64_t v17 = (void *)v3[7];
  sub_259843F00();
  sub_259843F00();
  uint64_t v73 = v15;
  sub_2598441C0();
  uint64_t v72 = v16;
  swift_bridgeObjectRelease();
  sub_259843F00();
  sub_259419868();
  unint64_t v75 = v17;
  swift_bridgeObjectRelease();
  sub_259845910();
  OUTLINED_FUNCTION_37_24();
  unint64_t v21 = v20 & ~v18;
  uint64_t v79 = v14 + 56;
  if (((*(void *)(v14 + 56 + ((v21 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v21) & 1) == 0)
  {
    swift_bridgeObjectRelease();
LABEL_59:
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v85 = *v1;
    *unint64_t v1 = 0x8000000000000000;
    sub_2593A2D18((uint64_t)v3);
    sub_2593BAE18();
    *unint64_t v1 = v85;
    swift_bridgeObjectRelease();
    memcpy(v5, v3, 0x58uLL);
LABEL_60:
    OUTLINED_FUNCTION_13_1();
    return;
  }
  uint64_t v65 = v1;
  uint64_t v67 = v5;
  uint64_t v78 = ~v18;
  uint64_t v64 = v3[3];
  uint64_t v63 = v3[4];
  int v69 = *((unsigned __int8 *)v3 + 40);
  uint64_t v66 = v3;
  uint64_t v83 = (void *)v3[6];
  uint64_t v62 = v83 + 9;
  uint64_t v70 = v19;
  OUTLINED_FUNCTION_106_10();
  unint64_t v68 = v9;
  while (1)
  {
    uint64_t v25 = *(void *)(v23 + 48) + 88 * v21;
    uint64_t v26 = *(void *)v25;
    uint64_t v27 = *(void *)(v25 + 8);
    uint64_t v28 = *(void *)(v25 + 24);
    uint64_t v76 = *(void *)(v25 + 32);
    uint64_t v77 = v28;
    int v82 = *(unsigned __int8 *)(v25 + 40);
    uint64_t v29 = *(void **)(v25 + 48);
    os_log_t v84 = *(void **)(v25 + 56);
    uint64_t v30 = *(void *)(v25 + 72);
    uint64_t v80 = *(void *)(v25 + 80);
    uint64_t v81 = v30;
    if (v26 != v22 || v27 != v24)
    {
      sub_259845750();
      OUTLINED_FUNCTION_20_43();
      if ((v32 & 1) == 0) {
        goto LABEL_56;
      }
    }
    if (!v29)
    {
      if (v83) {
        goto LABEL_56;
      }
      goto LABEL_37;
    }
    if (!v83) {
      goto LABEL_56;
    }
    unint64_t v33 = v29[2];
    if (v33 != v83[2]) {
      goto LABEL_56;
    }
    if (v33 && v29 != v83)
    {
      if (v29[4] != v83[4] || v29[5] != v83[5])
      {
        sub_259845750();
        OUTLINED_FUNCTION_20_43();
        if ((v36 & 1) == 0) {
          goto LABEL_56;
        }
      }
      if (v33 != 1)
      {
        if (v29[6] != v83[6] || v29[7] != v83[7])
        {
          sub_259845750();
          OUTLINED_FUNCTION_20_43();
          if ((v38 & 1) == 0) {
            goto LABEL_56;
          }
        }
        if (v33 != 2) {
          break;
        }
      }
    }
LABEL_37:
    uint64_t v44 = v84[2];
    if (v44 == v5[2])
    {
      if (v44 && v84 != v5)
      {
        unint64_t v45 = (*(unsigned __int8 *)(v9 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v9 + 80);
        sub_259843F00();
        uint64_t v71 = *(void *)(v9 + 72);
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        unint64_t v9 = 0;
        while (1)
        {
          sub_2596DA52C((uint64_t)v84 + v45, (uint64_t)v13);
          if (v9 >= v5[2]) {
            break;
          }
          uint64_t v46 = (uint64_t)v5 + v45;
          uint64_t v47 = v74;
          sub_2596DA52C(v46, v74);
          char v48 = static QueryTokenSuggestion.== infix(_:_:)(v13, v47);
          sub_2596DA588(v47, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
          uint64_t v5 = v13;
          sub_2596DA588((uint64_t)v13, (void (*)(void))type metadata accessor for QueryTokenSuggestion);
          if ((v48 & 1) == 0)
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_104_12();
            OUTLINED_FUNCTION_106_10();
            goto LABEL_56;
          }
          ++v9;
          v45 += v71;
          uint64_t v5 = v75;
          if (v44 == v9)
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_104_12();
            uint64_t v22 = v73;
            uint64_t v24 = v72;
            goto LABEL_45;
          }
        }
        __break(1u);
        goto LABEL_63;
      }
LABEL_45:
      if (v82)
      {
        if (v69) {
          goto LABEL_61;
        }
      }
      else if ((v69 & 1) == 0 && v77 == v64 && v76 == v63)
      {
LABEL_61:
        swift_bridgeObjectRelease();
        sub_25945EA34((uint64_t)v66);
        OUTLINED_FUNCTION_50_20();
        uint64_t v51 = v50 + 88 * v21;
        uint64_t v52 = *(void *)(v51 + 8);
        char v53 = *(unsigned char *)(v51 + 16);
        char v54 = *(unsigned char *)(v51 + 40);
        uint64_t v55 = *(void *)(v51 + 48);
        uint64_t v56 = *(void *)(v51 + 56);
        char v57 = *(unsigned char *)(v51 + 64);
        uint64_t v59 = *(void *)(v51 + 72);
        uint64_t v58 = *(void *)(v51 + 80);
        uint64_t v60 = v67;
        *uint64_t v67 = *(void *)v51;
        v60[1] = v52;
        *((unsigned char *)v60 + 16) = v53;
        *(_OWORD *)(v60 + 3) = *(_OWORD *)(v51 + 24);
        *((unsigned char *)v60 + 40) = v54;
        v60[6] = v55;
        v60[7] = v56;
        *((unsigned char *)v60 + 64) = v57;
        v60[9] = v59;
        v60[10] = v58;
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        goto LABEL_60;
      }
    }
LABEL_56:
    unint64_t v21 = (v21 + 1) & v78;
    if (((*(void *)(v79 + ((v21 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v21) & 1) == 0)
    {
      swift_bridgeObjectRelease();
      uint64_t v5 = v67;
      uint64_t v3 = v66;
      unint64_t v1 = v65;
      goto LABEL_59;
    }
  }
  char v39 = v29 + 9;
  uint64_t v40 = v62;
  unint64_t v41 = 2;
  while (v41 < v33)
  {
    if (*(v39 - 1) != *(v40 - 1) || *v39 != *v40)
    {
      sub_259845750();
      OUTLINED_FUNCTION_20_43();
      if ((v43 & 1) == 0) {
        goto LABEL_56;
      }
    }
    ++v41;
    v40 += 2;
    v39 += 2;
    if (v33 == v41) {
      goto LABEL_37;
    }
  }
LABEL_63:
  __break(1u);
}

void sub_2596D8D68()
{
  OUTLINED_FUNCTION_32_0();
  OUTLINED_FUNCTION_110_11();
  sub_2598423F0();
  OUTLINED_FUNCTION_87();
  uint64_t v5 = v4;
  MEMORY[0x270FA5388](v6);
  OUTLINED_FUNCTION_57_21();
  sub_2596DA498(&qword_26A38A1D0, MEMORY[0x263F062D0]);
  sub_259843F00();
  OUTLINED_FUNCTION_98_9();
  OUTLINED_FUNCTION_30_29();
  if (v8)
  {
    OUTLINED_FUNCTION_22_45(v7);
    while (1)
    {
      uint64_t v9 = OUTLINED_FUNCTION_29_25();
      ((void (*)(uint64_t))v1)(v9);
      sub_2596DA498(&qword_26A38A1D8, MEMORY[0x263F062D0]);
      uint64_t v1 = OUTLINED_FUNCTION_83_15();
      uint64_t v10 = *v2;
      OUTLINED_FUNCTION_62_17();
      v10();
      if (v1) {
        break;
      }
      OUTLINED_FUNCTION_27_31();
      if ((v11 & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v3 = v16;
        goto LABEL_7;
      }
    }
    swift_bridgeObjectRelease();
    OUTLINED_FUNCTION_62_17();
    v10();
    uint64_t v15 = OUTLINED_FUNCTION_52_19();
    v0(v15);
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v1 = *(void *)(v5 + 16);
LABEL_7:
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v12 = OUTLINED_FUNCTION_81_14();
    ((void (*)(uint64_t))v1)(v12);
    OUTLINED_FUNCTION_48_19();
    sub_2593BB388();
    *uint64_t v3 = v17;
    swift_bridgeObjectRelease();
    uint64_t v13 = OUTLINED_FUNCTION_64_20();
    v14(v13);
  }
  OUTLINED_FUNCTION_13_1();
}

#error "2596D9078: call analysis failed (funcsize=103)"

#error "2596D9228: call analysis failed (funcsize=100)"

void sub_2596D926C(unsigned __int8 *a1, unsigned __int8 a2)
{
  OUTLINED_FUNCTION_56_15();
  sub_2598458C0();
  unint64_t v5 = sub_259845910() & ~(-1 << *(unsigned char *)(v2 + 32));
  OUTLINED_FUNCTION_26_34();
  if ((v6 & 1) == 0)
  {
LABEL_6:
    swift_isUniquelyReferenced_nonNull_native();
    unsigned __int8 v10 = OUTLINED_FUNCTION_51_19();
    sub_2593BB6D4(v10, v5);
    OUTLINED_FUNCTION_34_30(v11);
    goto LABEL_7;
  }
  if (*(unsigned __int8 *)(*(void *)(v2 + 48) + v5) != a2)
  {
    do
    {
      OUTLINED_FUNCTION_11_56();
      if ((v8 & 1) == 0) {
        goto LABEL_6;
      }
    }
    while (*(unsigned __int8 *)(v7 + v5) != a2);
  }
  OUTLINED_FUNCTION_63_18();
  a2 = *(unsigned char *)(v9 + v5);
LABEL_7:
  *a1 = a2;
}

uint64_t sub_2596D933C(unsigned __int16 *a1, unsigned __int16 a2)
{
  uint64_t v5 = *v2;
  uint64_t v6 = MEMORY[0x25A2E00F0](*(void *)(v5 + 40), a2, 2) & ~(-1 << *(unsigned char *)(v5 + 32));
  OUTLINED_FUNCTION_26_34();
  if ((v7 & 1) == 0)
  {
LABEL_6:
    swift_isUniquelyReferenced_nonNull_native();
    OUTLINED_FUNCTION_21_34();
    sub_2593BB7D8(a2, v6);
    OUTLINED_FUNCTION_34_30(v11);
    uint64_t result = 1;
    goto LABEL_7;
  }
  if (*(unsigned __int16 *)(*(void *)(v5 + 48) + 2 * v6) != a2)
  {
    do
    {
      OUTLINED_FUNCTION_11_56();
      if ((v9 & 1) == 0) {
        goto LABEL_6;
      }
    }
    while (*(unsigned __int16 *)(v8 + 2 * v6) != a2);
  }
  uint64_t result = 0;
LABEL_7:
  *a1 = a2;
  return result;
}

void sub_2596D9404(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  OUTLINED_FUNCTION_154();
  OUTLINED_FUNCTION_103_10();
  if ((v12 & 0xC000000000000001) == 0)
  {
    sub_2598458B0();
    sub_259843F00();
    sub_259843F00();
    sub_2598441C0();
    swift_bridgeObjectRelease();
    unint64_t v15 = sub_259845910() & ~(-1 << *(unsigned char *)(v12 + 32));
    if ((*(void *)(v12 + 56 + ((v15 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v15))
    {
      type metadata accessor for MusicKeywordCompletion();
      uint64_t v16 = *(void *)(v12 + 48);
      if (static MusicKeywordCompletion.== infix(_:_:)(*(void *)(v16 + 8 * v15), v10))
      {
LABEL_11:
        swift_release();
        swift_bridgeObjectRelease();
        OUTLINED_FUNCTION_63_18();
        uint64_t *v9 = *(void *)(v18 + 8 * v15);
        swift_retain();
        goto LABEL_19;
      }
      while (1)
      {
        OUTLINED_FUNCTION_111_9();
        if (((*(void *)(v12 + 56 + v17) >> v15) & 1) == 0) {
          break;
        }
        if (static MusicKeywordCompletion.== infix(_:_:)(*(void *)(v16 + 8 * v15), v10)) {
          goto LABEL_11;
        }
      }
    }
    swift_bridgeObjectRelease();
    swift_isUniquelyReferenced_nonNull_native();
    uint64_t v26 = *v11;
    OUTLINED_FUNCTION_58_21();
    uint64_t v23 = swift_retain();
    sub_2593BBA08(v23);
    *uint64_t v11 = v26;
LABEL_18:
    swift_bridgeObjectRelease();
    uint64_t *v9 = v10;
    goto LABEL_19;
  }
  if (v12 < 0) {
    uint64_t v13 = v12;
  }
  else {
    uint64_t v13 = v12 & 0xFFFFFFFFFFFFFF8;
  }
  sub_259843F00();
  swift_retain();
  uint64_t v14 = sub_259844FE0();
  swift_release();
  if (v14)
  {
    swift_bridgeObjectRelease();
    swift_release();
    type metadata accessor for MusicKeywordCompletion();
    OUTLINED_FUNCTION_65_18();
    swift_dynamicCast();
    uint64_t *v9 = a9;
    swift_unknownObjectRelease();
LABEL_19:
    OUTLINED_FUNCTION_127_0();
    return;
  }
  uint64_t v19 = sub_259844FD0();
  if (!__OFADD__(v19, 1))
  {
    uint64_t v20 = sub_2596D9B78(v13, v19 + 1);
    uint64_t v25 = v20;
    unint64_t v21 = *(void *)(v20 + 16);
    if (*(void *)(v20 + 24) <= v21)
    {
      unint64_t v24 = v21 + 1;
      swift_retain();
      sub_25974A568(v24);
      uint64_t v22 = v25;
    }
    else
    {
      uint64_t v22 = v20;
      swift_retain();
    }
    sub_2596D9EA0(v10);
    *uint64_t v11 = v22;
    goto LABEL_18;
  }
  __break(1u);
}

uint64_t sub_2596D9654(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void *)a2;
  uint64_t v3 = *(void *)(a2 + 8);
  uint64_t v5 = *v2;
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  sub_259845910();
  OUTLINED_FUNCTION_37_24();
  unint64_t v8 = v7 & ~v6;
  uint64_t v35 = v5;
  uint64_t v9 = v5 + 56;
  if ((*(void *)(v5 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8))
  {
    uint64_t v10 = ~v6;
    do
    {
      uint64_t v11 = (void *)(*(void *)(v35 + 48) + 48 * v8);
      BOOL v12 = *v11 == v4 && v11[1] == v3;
      if (v12 || (sub_259845750() & 1) != 0)
      {
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_259843F00();
        sub_2597404A4();
        if (v13 & 1) != 0 && (sub_2597404A4(), (v14) && (sub_2597404A4(), (v15))
        {
          sub_2597404A4();
          char v34 = v16;
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if (v34)
          {
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            OUTLINED_FUNCTION_50_20();
            uint64_t v19 = (uint64_t *)(v18 + 48 * v8);
            uint64_t v20 = v19[4];
            uint64_t v21 = v19[5];
            OUTLINED_FUNCTION_90_15(v19[1], v22, v23, v24, v25, v26, v27, v28, a2, v32, (void *)a1);
            *(void *)(v29 + 32) = v20;
            *(void *)(v29 + 40) = v21;
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            sub_259843F00();
            return 0;
          }
        }
        else
        {
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
        }
      }
      unint64_t v8 = (v8 + 1) & v10;
    }
    while (((*(void *)(v9 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8) & 1) != 0);
  }
  swift_bridgeObjectRelease();
  OUTLINED_FUNCTION_128_8();
  OUTLINED_FUNCTION_113_9();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_259843F00();
  sub_2593BBB30();
  OUTLINED_FUNCTION_41_29(v36);
  long long v17 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v17;
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  return 1;
}

uint64_t sub_2596D9928(uint64_t a1, uint64_t a2)
{
  return sub_2596D9958(a1, a2, &qword_26A38DB70, (unint64_t *)&qword_26B2F83C0, 0x263F14D18, (void (*)(unint64_t))sub_2597469D0);
}

uint64_t sub_2596D9958(uint64_t a1, uint64_t a2, uint64_t *a3, unint64_t *a4, uint64_t a5, void (*a6)(unint64_t))
{
  if (!a2)
  {
    swift_unknownObjectRelease();
    return MEMORY[0x263F8EE88];
  }
  __swift_instantiateConcreteTypeFromMangledName(a3);
  uint64_t v8 = sub_2598450C0();
  uint64_t v22 = v8;
  sub_259844F70();
  if (!sub_259845010())
  {
LABEL_16:
    swift_release();
    return v8;
  }
  uint64_t v9 = OUTLINED_FUNCTION_271();
  sub_25935633C(v9, a4);
  while (1)
  {
    swift_dynamicCast();
    uint64_t v8 = v22;
    unint64_t v10 = *(void *)(v22 + 16);
    if (*(void *)(v22 + 24) <= v10)
    {
      a6(v10 + 1);
      uint64_t v8 = v22;
    }
    uint64_t result = sub_259844D20();
    uint64_t v12 = v8 + 56;
    uint64_t v13 = -1 << *(unsigned char *)(v8 + 32);
    unint64_t v14 = result & ~v13;
    unint64_t v15 = v14 >> 6;
    if (((-1 << v14) & ~*(void *)(v8 + 56 + 8 * (v14 >> 6))) == 0) {
      break;
    }
    unint64_t v16 = __clz(__rbit64((-1 << v14) & ~*(void *)(v8 + 56 + 8 * (v14 >> 6)))) | v14 & 0x7FFFFFFFFFFFFFC0;
LABEL_15:
    *(void *)(v12 + ((v16 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v16;
    *(void *)(*(void *)(v8 + 48) + 8 * v16) = v21;
    ++*(void *)(v8 + 16);
    if (!sub_259845010()) {
      goto LABEL_16;
    }
  }
  char v17 = 0;
  unint64_t v18 = (unint64_t)(63 - v13) >> 6;
  while (++v15 != v18 || (v17 & 1) == 0)
  {
    BOOL v19 = v15 == v18;
    if (v15 == v18) {
      unint64_t v15 = 0;
    }
    v17 |= v19;
    uint64_t v20 = *(void *)(v12 + 8 * v15);
    if (v20 != -1)
    {
      unint64_t v16 = __clz(__rbit64(~v20)) + (v15 << 6);
      goto LABEL_15;
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_2596D9B48(uint64_t a1, uint64_t a2)
{
  return sub_2596D9958(a1, a2, &qword_26A3902C8, &qword_26B2F83F8, (uint64_t)off_26544D8A0, (void (*)(unint64_t))sub_259749F24);
}

uint64_t sub_2596D9B78(uint64_t a1, uint64_t a2)
{
  if (!a2)
  {
    swift_unknownObjectRelease();
    return MEMORY[0x263F8EE88];
  }
  __swift_instantiateConcreteTypeFromMangledName(&qword_26A3902C0);
  uint64_t v2 = sub_2598450C0();
  uint64_t v15 = v2;
  sub_259844F70();
  if (!sub_259845010())
  {
LABEL_16:
    swift_release();
    return v2;
  }
  type metadata accessor for MusicKeywordCompletion();
  while (1)
  {
    swift_dynamicCast();
    uint64_t v2 = v15;
    unint64_t v3 = *(void *)(v15 + 16);
    if (*(void *)(v15 + 24) <= v3)
    {
      sub_25974A568(v3 + 1);
      uint64_t v2 = v15;
    }
    sub_2598458B0();
    sub_259843F00();
    sub_2598441C0();
    swift_bridgeObjectRelease();
    uint64_t result = sub_259845910();
    uint64_t v5 = v2 + 56;
    uint64_t v6 = -1 << *(unsigned char *)(v2 + 32);
    unint64_t v7 = result & ~v6;
    unint64_t v8 = v7 >> 6;
    if (((-1 << v7) & ~*(void *)(v2 + 56 + 8 * (v7 >> 6))) == 0) {
      break;
    }
    unint64_t v9 = __clz(__rbit64((-1 << v7) & ~*(void *)(v2 + 56 + 8 * (v7 >> 6)))) | v7 & 0x7FFFFFFFFFFFFFC0;
LABEL_15:
    *(void *)(v5 + ((v9 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v9;
    *(void *)(*(void *)(v2 + 48) + 8 * v9) = v14;
    ++*(void *)(v2 + 16);
    if (!sub_259845010()) {
      goto LABEL_16;
    }
  }
  char v10 = 0;
  unint64_t v11 = (unint64_t)(63 - v6) >> 6;
  while (++v8 != v11 || (v10 & 1) == 0)
  {
    BOOL v12 = v8 == v11;
    if (v8 == v11) {
      unint64_t v8 = 0;
    }
    v10 |= v12;
    uint64_t v13 = *(void *)(v5 + 8 * v8);
    if (v13 != -1)
    {
      unint64_t v9 = __clz(__rbit64(~v13)) + (v8 << 6);
      goto LABEL_15;
    }
  }
  __break(1u);
  return result;
}

void sub_2596D9D88(uint64_t a1, uint64_t a2)
{
  sub_2598458B0();
  sub_2598458D0();
  if (a2)
  {
    sub_259843F00();
    sub_2598441C0();
    swift_bridgeObjectRelease();
  }
  sub_259845910();
  unint64_t v4 = OUTLINED_FUNCTION_55_18();
  unint64_t v5 = OUTLINED_FUNCTION_49_26(v4);
  unint64_t v7 = (void *)(v6 + 16 * v5);
  void *v7 = a1;
  v7[1] = a2;
  OUTLINED_FUNCTION_76_11();
}

void sub_2596D9E24(uint64_t a1, uint64_t a2)
{
  sub_259844D20();
  unint64_t v4 = sub_259844F50();
  *(void *)(a2 + 56 + ((v4 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v4;
  *(void *)(*(void *)(a2 + 48) + 8 * v4) = a1;
  OUTLINED_FUNCTION_76_11();
}

void sub_2596D9EA0(uint64_t a1)
{
  sub_2598458B0();
  sub_259843F00();
  sub_2598441C0();
  swift_bridgeObjectRelease();
  sub_259845910();
  unint64_t v2 = OUTLINED_FUNCTION_55_18();
  unint64_t v3 = OUTLINED_FUNCTION_49_26(v2);
  *(void *)(v4 + 8 * v3) = a1;
  OUTLINED_FUNCTION_76_11();
}

uint64_t (*sub_2596D9F1C())()
{
  uint64_t v1 = OUTLINED_FUNCTION_4_64();
  uint64_t v2 = OUTLINED_FUNCTION_5_62((uint64_t)v1);
  *(void *)(v0 + 32) = sub_2596DA098(v2, v3);
  return sub_2596D9F68;
}

uint64_t (*sub_2596D9F6C())()
{
  uint64_t v1 = OUTLINED_FUNCTION_4_64();
  uint64_t v2 = OUTLINED_FUNCTION_5_62((uint64_t)v1);
  *(void *)(v0 + 32) = sub_2596DA0F4(v2, v3);
  return sub_2596D9F68;
}

uint64_t (*sub_2596D9FB8())()
{
  uint64_t v1 = OUTLINED_FUNCTION_4_64();
  uint64_t v2 = OUTLINED_FUNCTION_5_62((uint64_t)v1);
  *(void *)(v0 + 32) = sub_2596DA158(v2, v3);
  return sub_2596D9F68;
}

uint64_t (*sub_2596DA004())()
{
  uint64_t v1 = OUTLINED_FUNCTION_4_64();
  uint64_t v2 = OUTLINED_FUNCTION_5_62((uint64_t)v1);
  *(void *)(v0 + 32) = sub_2596DA1BC(v2, v3);
  return sub_2596D9F68;
}

void sub_2596DA050(void *a1)
{
  uint64_t v1 = (void *)*a1;
  (*(void (**)(void))(*a1 + 32))(*a1);
  free(v1);
}

uint64_t (*sub_2596DA098(uint64_t a1, uint64_t a2))()
{
  uint64_t v4 = OUTLINED_FUNCTION_0_56(a1, a2);
  sub_2594110FC(v4, v5, v6);
  if (v3) {
    OUTLINED_FUNCTION_31_29();
  }
  else {
    id v7 = OUTLINED_FUNCTION_53_19();
  }
  void *v2 = v7;
  return sub_2596DA918;
}

uint64_t (*sub_2596DA0F4(uint64_t a1, uint64_t a2))()
{
  uint64_t v4 = OUTLINED_FUNCTION_0_56(a1, a2);
  sub_2594110FC(v4, v5, v6);
  if (v3) {
    OUTLINED_FUNCTION_31_29();
  }
  else {
    uint64_t v7 = swift_retain();
  }
  uint64_t *v2 = v7;
  return j__s18PhotosIntelligence14TraitGeneratorC13ConfigurationVwxx;
}

uint64_t (*sub_2596DA158(uint64_t a1, uint64_t a2))()
{
  uint64_t v4 = OUTLINED_FUNCTION_0_56(a1, a2);
  sub_2594110FC(v4, v5, v6);
  if (v3) {
    OUTLINED_FUNCTION_31_29();
  }
  else {
    uint64_t v7 = swift_retain();
  }
  uint64_t *v2 = v7;
  return destroy for TraitGenerator.Configuration;
}

void (*sub_2596DA1BC(uint64_t a1, uint64_t a2))(id *a1)
{
  uint64_t v4 = OUTLINED_FUNCTION_0_56(a1, a2);
  sub_2594110FC(v4, v5, v6);
  if (v3) {
    OUTLINED_FUNCTION_31_29();
  }
  else {
    id v7 = OUTLINED_FUNCTION_53_19();
  }
  void *v2 = v7;
  return sub_2596DA218;
}

void sub_2596DA218(id *a1)
{
}

uint64_t sub_2596DA220(void *a1)
{
  id v1 = objc_msgSend(a1, sel_fetchType);
  if (!v1) {
    return 0;
  }
  uint64_t v2 = v1;
  uint64_t v3 = sub_2598440A0();

  return v3;
}

uint64_t sub_2596DA284()
{
  return type metadata accessor for FreeformStoryChapterGenerator();
}

uint64_t type metadata accessor for FreeformStoryChapterGenerator()
{
  uint64_t result = qword_26A390290;
  if (!qword_26A390290) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_2596DA2D4()
{
  uint64_t result = sub_259843A80();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t method lookup function for FreeformStoryChapterGenerator(uint64_t a1, uint64_t a2)
{
  return MEMORY[0x270FA04D0](a1, a2, &nominal type descriptor for FreeformStoryChapterGenerator);
}

ValueMetadata *type metadata accessor for FreeformStoryChapterGenerator.Configuration()
{
  return &type metadata for FreeformStoryChapterGenerator.Configuration;
}

id sub_2596DA3CC(id result, uint64_t a2, unsigned __int8 a3)
{
  if (a3 != 255) {
    return sub_2596DA3E4(result, a2, a3 & 1);
  }
  return result;
}

id sub_2596DA3E4(void *a1, uint64_t a2, char a3)
{
  if (a3)
  {
  }
  else
  {
    id v5 = a1;
    sub_259843F00();
    a1 = v5;
  }
  return a1;
}

void sub_2596DA434(void *a1, uint64_t a2, unsigned __int8 a3)
{
  if (a3 != 255) {
    sub_2596DA44C(a1, a2, a3 & 1);
  }
}

void sub_2596DA44C(void *a1, uint64_t a2, char a3)
{
  if (a3)
  {
  }
  else
  {

    swift_bridgeObjectRelease();
  }
}

uint64_t sub_2596DA498(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_2596DA4E0(uint64_t a1)
{
  return a1;
}

uint64_t sub_2596DA52C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = OUTLINED_FUNCTION_271();
  v5(v4);
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t, uint64_t))(v6 + 16))(a2, v2);
  return a2;
}

uint64_t sub_2596DA588(uint64_t a1, void (*a2)(void))
{
  a2(0);
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t))(v3 + 8))(a1);
  return a1;
}

uint64_t sub_2596DA5E0(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = OUTLINED_FUNCTION_271();
  v5(v4);
  OUTLINED_FUNCTION_4();
  (*(void (**)(uint64_t, uint64_t))(v6 + 32))(a2, v2);
  return a2;
}