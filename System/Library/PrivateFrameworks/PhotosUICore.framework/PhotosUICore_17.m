void _PXSharedLibraryCreatePreview(void *a1, void *a2, void *a3, void *a4)
{
  id v7;
  id v8;
  void *v9;
  uint64_t v10;
  void *v11;
  void *v12;
  NSObject *v13;
  id v14;
  id v15;
  id v16;
  id v17;
  void *v18;
  void *v19;
  void *v20;
  void *v21;
  void *v22;
  void *v23;
  void *v24;
  void *v25;
  id v26;
  id v27;
  void v28[4];
  id v29;
  id v30;
  id v31;
  id v32;
  uint8_t buf[16];

  v7 = a1;
  v27 = a2;
  v8 = a3;
  v26 = a4;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v7)
  {
    if (v8) {
      goto LABEL_3;
    }
  }
  else
  {
    v18 = [MEMORY[0x1E4F28B00] currentHandler];
    v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryCreatePreview(PXSharedLibraryAssistantViewModel *__strong, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v18 handleFailureInFunction:v19, @"PXSharedLibraryUtilities.m", 1628, @"Invalid parameter not satisfying: %@", @"viewModel" file lineNumber description];

    if (v8) {
      goto LABEL_3;
    }
  }
  v20 = [MEMORY[0x1E4F28B00] currentHandler];
  v21 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryCreatePreview(PXSharedLibraryAssistantViewModel *__strong, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v20 handleFailureInFunction:v21, @"PXSharedLibraryUtilities.m", 1629, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_3:
  v25 = [v7 sourceLibraryInfo];
  if (!v25)
  {
    v22 = [MEMORY[0x1E4F28B00] currentHandler];
    v23 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryCreatePreview(PXSharedLibraryAssistantViewModel *__strong, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v22 handleFailureInFunction:v23, @"PXSharedLibraryUtilities.m", 1632, @"Invalid parameter not satisfying: %@", @"sourceLibraryInfo" file lineNumber description];
  }
  v24 = [v7 emailAddresses];
  v9 = [v7 phoneNumbers];
  v10 = [v7 autoSharePolicy];
  v11 = [v7 startDate];
  v12 = [v7 personUUIDs];
  v13 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)buf = 0;
    _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEFAULT, "Will create Shared Library preview", buf, 2u);
  }

  v28[0] = MEMORY[0x1E4F143A8];
  v28[1] = 3221225472;
  v28[2] = ___PXSharedLibraryCreatePreview_block_invoke;
  v28[3] = &unk_1E5DAFA70;
  v29 = v27;
  v30 = v7;
  v31 = v8;
  v32 = v26;
  v14 = v8;
  v15 = v7;
  v16 = v26;
  v17 = v27;
  [v25 createPreviewWithEmailAddresses:v24 phoneNumbers:v9 autoSharePolicy:v10 startDate:v11 personUUIDs:v12 progress:v17 presentationEnvironment:v14 withCompletionHandler:v28];
}

void PXSharedLibraryCreateOrPublishLibraryScope(void *a1, void *a2, void *a3, void *a4, void *a5)
{
  uint64_t v60 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a2;
  id v11 = a3;
  id v12 = a4;
  v13 = a5;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (!v10)
  {
    v32 = [MEMORY[0x1E4F28B00] currentHandler];
    v33 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreateOrPublishLibraryScope(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(__strong id<PXSharedLibrary>, NSError * _Nullable __strong))");
    [v32 handleFailureInFunction:v33, @"PXSharedLibraryUtilities.m", 1697, @"Invalid parameter not satisfying: %@", @"viewModel" file lineNumber description];

    if (v12) {
      goto LABEL_3;
    }
LABEL_20:
    v34 = [MEMORY[0x1E4F28B00] currentHandler];
    v35 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreateOrPublishLibraryScope(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(__strong id<PXSharedLibrary>, NSError * _Nullable __strong))");
    [v34 handleFailureInFunction:v35, @"PXSharedLibraryUtilities.m", 1698, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

    goto LABEL_3;
  }
  if (!v12) {
    goto LABEL_20;
  }
LABEL_3:
  v14 = [v9 fetchPreview];
  v15 = v14;
  if (v14
    && ([v14 owner],
        v16 = objc_claimAutoreleasedReturnValue(),
        char v17 = [v16 isCurrentUser],
        v16,
        (v17 & 1) == 0))
  {
    v27 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v27, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)buf = 0;
      _os_log_impl(&dword_1A9AE7000, v27, OS_LOG_TYPE_ERROR, "Invalid input: Shared Library receiver cannot publish an invitation", buf, 2u);
    }

    v28 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Invalid input: Shared Library receiver cannot publish an invitation");
    v13[2](v13, 0, v28);
  }
  else
  {
    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke;
    aBlock[3] = &unk_1E5DAF898;
    v40 = v13;
    v18 = v13;
    id v57 = v18;
    id v41 = v12;
    id v39 = v12;
    id v56 = v39;
    v19 = _Block_copy(aBlock);
    v20 = [v10 sourceLibraryInfo];
    if (!v20)
    {
      v36 = [MEMORY[0x1E4F28B00] currentHandler];
      v37 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreateOrPublishLibraryScope(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(__strong id<PXSharedLibrary>, NSError * _Nullable __strong))");
      [v36 handleFailureInFunction:v37, @"PXSharedLibraryUtilities.m", 1732, @"Invalid parameter not satisfying: %@", @"sourceLibraryInfo" file lineNumber description];
    }
    v21 = PLSharedLibraryGetLog();
    BOOL v22 = os_log_type_enabled(v21, OS_LOG_TYPE_DEFAULT);
    id v42 = v11;
    if (v15)
    {
      if (v22)
      {
        v23 = [v15 identifier];
        *(_DWORD *)buf = 138543362;
        id v59 = v23;
        _os_log_impl(&dword_1A9AE7000, v21, OS_LOG_TYPE_DEFAULT, "Will publish Shared Library preview: %{public}@", buf, 0xCu);
      }
      v48[0] = MEMORY[0x1E4F143A8];
      v48[1] = 3221225472;
      v48[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_571;
      v48[3] = &unk_1E5DAF8C0;
      id v49 = v11;
      v53 = v18;
      id v54 = v19;
      id v50 = v10;
      id v51 = v20;
      id v52 = v15;
      id v24 = v20;
      id v25 = v19;
      [v52 publishPreviewWithPresentationEnvironment:v39 progress:v49 completion:v48];

      v26 = v49;
    }
    else
    {
      if (v22)
      {
        *(_DWORD *)buf = 138412290;
        id v59 = v10;
        _os_log_impl(&dword_1A9AE7000, v21, OS_LOG_TYPE_DEFAULT, "Will create and publish Shared Library: %@", buf, 0xCu);
      }

      id v25 = [v10 emailAddresses];
      id v24 = [v10 phoneNumbers];
      uint64_t v38 = [v10 autoSharePolicy];
      v26 = [v10 startDate];
      v29 = [v10 personUUIDs];
      v43[0] = MEMORY[0x1E4F143A8];
      v43[1] = 3221225472;
      v43[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_580;
      v43[3] = &unk_1E5DAF8E8;
      id v44 = v10;
      v46 = v18;
      id v47 = v19;
      id v45 = v20;
      id v30 = v20;
      id v31 = v19;
      [v30 createSharedLibraryWithEmailAddresses:v25 phoneNumbers:v24 autoSharePolicy:v38 startDate:v26 personUUIDs:v29 progress:v42 presentationEnvironment:v39 withCompletionHandler:v43];
    }
    v28 = v57;
    id v12 = v41;
    id v11 = v42;
    v13 = v40;
  }
}

void __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke(uint64_t a1, void *a2, void *a3, void *a4)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  id v7 = a2;
  id v8 = a3;
  id v9 = a4;
  int IsUserCanceledError = PXSharedLibraryIsUserCanceledError(v8);
  id v11 = PLSharedLibraryGetLog();
  id v12 = v11;
  if (IsUserCanceledError)
  {
    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
    {
      *(_DWORD *)buf = 138543362;
      id v26 = v9;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEFAULT, "User canceled %{public}@", buf, 0xCu);
    }

    uint64_t v13 = *(void *)(a1 + 40);
    if (v13) {
      (*(void (**)(uint64_t, void, id))(v13 + 16))(v13, 0, v8);
    }
  }
  else
  {
    if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)buf = 138543618;
      id v26 = v9;
      __int16 v27 = 2112;
      id v28 = v8;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "Failed to %{public}@, error: %@", buf, 0x16u);
    }

    id v23 = 0;
    id v24 = 0;
    char v14 = [v7 presentCustomInformationForError:v8 customTitle:&v24 customMessage:&v23];
    id v15 = v24;
    id v16 = v23;
    if ((v14 & 1) == 0)
    {
      uint64_t v17 = PXLocalizedSharedLibraryString(@"PXSharedLibraryCreateSharedLibraryFailureAlertTitle");

      uint64_t v18 = PXLocalizedSharedLibraryString(@"PXSharedLibraryGenericFailureAlertMessage");

      id v15 = (id)v17;
      id v16 = (id)v18;
    }
    v20[0] = MEMORY[0x1E4F143A8];
    v20[1] = 3221225472;
    v20[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_569;
    v20[3] = &unk_1E5DD3280;
    v19 = *(void **)(a1 + 32);
    id v22 = *(id *)(a1 + 40);
    id v21 = v8;
    PXPresentFailureWithLocalizedTitle(v15, v16, 0, v21, v19, v20);
  }
}

void __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_571(uint64_t a1, void *a2, void *a3)
{
  uint64_t v21 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  if (v5)
  {
    id v7 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      id v8 = [v5 identifier];
      *(_DWORD *)buf = 138543362;
      v20 = v8;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "Did publish Shared Library preview: %{public}@", buf, 0xCu);
    }
    if ([*(id *)(a1 + 32) isCancelled])
    {
      id v9 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Create Preview");
      id v10 = *(void (**)(void))(*(void *)(a1 + 64) + 16);
    }
    else
    {
      if ([*(id *)(a1 + 40) autoSharePolicy])
      {
        id v9 = 0;
      }
      else
      {
        id v15 = [*(id *)(a1 + 40) sharedLibraryRule];
        id v9 = [v15 assetLocalIdentifiers];
      }
      if (([v5 isInPreview] & 1) == 0
        && [v9 count]
        && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
      {
        v16[0] = MEMORY[0x1E4F143A8];
        v16[1] = 3221225472;
        v16[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_575;
        v16[3] = &unk_1E5DD2B90;
        id v18 = *(id *)(a1 + 64);
        id v17 = v5;
        [v17 moveAssetsWithLocalIdentifiersToSharedLibrary:v9 completion:v16];

        goto LABEL_15;
      }
      id v10 = *(void (**)(void))(*(void *)(a1 + 64) + 16);
    }
    v10();
LABEL_15:

    goto LABEL_16;
  }
  uint64_t v11 = *(void *)(a1 + 72);
  uint64_t v12 = *(void *)(a1 + 48);
  uint64_t v13 = [*(id *)(a1 + 56) identifier];
  char v14 = [@"publish Shared Library preview: " stringByAppendingString:v13];
  (*(void (**)(uint64_t, uint64_t, id, void *))(v11 + 16))(v11, v12, v6, v14);

LABEL_16:
}

void __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_580(uint64_t a1, void *a2)
{
  uint64_t v13 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  if (v3)
  {
    v4 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT))
    {
      id v5 = [v3 identifier];
      *(_DWORD *)buf = 138543362;
      uint64_t v12 = v5;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEFAULT, "Did create and publish Shared Library: %{public}@", buf, 0xCu);
    }
    if ([*(id *)(a1 + 32) autoSharePolicy])
    {
      id v6 = 0;
    }
    else
    {
      id v7 = [*(id *)(a1 + 32) sharedLibraryRule];
      id v6 = [v7 assetLocalIdentifiers];
    }
    if ([v6 count])
    {
      v8[0] = MEMORY[0x1E4F143A8];
      v8[1] = 3221225472;
      v8[2] = __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_581;
      v8[3] = &unk_1E5DD2B90;
      id v10 = *(id *)(a1 + 48);
      id v9 = v3;
      [v9 moveAssetsWithLocalIdentifiersToSharedLibrary:v6 completion:v8];
    }
    else
    {
      (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
    }
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 56) + 16))();
  }
}

uint64_t __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_581(uint64_t a1, int a2)
{
  uint64_t v3 = *(void *)(a1 + 40);
  if (a2) {
    return (*(uint64_t (**)(uint64_t, void, void))(v3 + 16))(v3, *(void *)(a1 + 32), 0);
  }
  else {
    return (*(uint64_t (**)(uint64_t, void))(v3 + 16))(v3, 0);
  }
}

uint64_t __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_575(uint64_t a1, int a2)
{
  uint64_t v3 = *(void *)(a1 + 40);
  if (a2) {
    return (*(uint64_t (**)(uint64_t, void, void))(v3 + 16))(v3, *(void *)(a1 + 32), 0);
  }
  else {
    return (*(uint64_t (**)(uint64_t, void))(v3 + 16))(v3, 0);
  }
}

uint64_t __PXSharedLibraryCreateOrPublishLibraryScope_block_invoke_569(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

void _ExitAndRefetchInvitation(void *a1, void *a2, void *a3, void *a4, void *a5)
{
  uint64_t v27 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a2;
  id v11 = a3;
  id v12 = a5;
  id v13 = a4;
  char v14 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
  {
    id v15 = [v10 identifier];
    *(_DWORD *)buf = 138543362;
    id v26 = v15;
    _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_ERROR, "Will exit current Shared Library invitation preview: %{public}@", buf, 0xCu);
  }
  v20[0] = MEMORY[0x1E4F143A8];
  v20[1] = 3221225472;
  v20[2] = ___ExitAndRefetchInvitation_block_invoke;
  v20[3] = &unk_1E5DD1B28;
  id v21 = v10;
  id v22 = v9;
  id v23 = v11;
  id v24 = v12;
  id v16 = v11;
  id v17 = v12;
  id v18 = v9;
  id v19 = v10;
  _ExitSharedLibraryOrPreview(v19, 0, 0, v16, v13, v20);
}

void PXSharedLibraryPreviewInvitation(void *a1, void *a2, void *a3, uint64_t a4, int a5, void *a6, void *a7, void *a8)
{
  id v15 = a1;
  id v16 = a2;
  id v17 = a3;
  id v18 = a6;
  id v19 = a7;
  id v20 = a8;
  if (v16)
  {
    if (v17) {
      goto LABEL_3;
    }
  }
  else
  {
    id v21 = [MEMORY[0x1E4F28B00] currentHandler];
    id v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v21 handleFailureInFunction:v22, @"PXSharedLibraryUtilities.m", 1885, @"Invalid parameter not satisfying: %@", @"invitation" file lineNumber description];

    if (v17)
    {
LABEL_3:
      if (v19) {
        goto LABEL_4;
      }
LABEL_8:
      id v25 = [MEMORY[0x1E4F28B00] currentHandler];
      id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
      [v25 handleFailureInFunction:v26, @"PXSharedLibraryUtilities.m", 1887, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

      if (a5) {
        goto LABEL_5;
      }
LABEL_9:
      _PXSharedLibraryPreviewInvitation(v15, v16, v17, v18, a4, v19, v20);
      goto LABEL_10;
    }
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v23 handleFailureInFunction:v24, @"PXSharedLibraryUtilities.m", 1886, @"Invalid parameter not satisfying: %@", @"rule" file lineNumber description];

  if (!v19) {
    goto LABEL_8;
  }
LABEL_4:
  if (!a5) {
    goto LABEL_9;
  }
LABEL_5:
  v27[0] = MEMORY[0x1E4F143A8];
  v27[1] = 3221225472;
  v27[2] = __PXSharedLibraryPreviewInvitation_block_invoke;
  v27[3] = &unk_1E5DB6EA8;
  id v28 = v15;
  id v29 = v17;
  id v30 = v18;
  uint64_t v33 = a4;
  id v31 = v19;
  id v32 = v20;
  _ExitAndRefetchInvitation(v28, v16, v31, @"PXSharedLibraryPreviewInvitation", v27);

LABEL_10:
}

void __PXSharedLibraryPreviewInvitation_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v7 = a2;
  id v5 = a3;
  if (v7)
  {
    _PXSharedLibraryPreviewInvitation(*(void **)(a1 + 32), v7, *(void **)(a1 + 40), *(void **)(a1 + 48), *(void *)(a1 + 72), *(void **)(a1 + 56), *(void **)(a1 + 64));
  }
  else
  {
    uint64_t v6 = *(void *)(a1 + 64);
    if (v6) {
      (*(void (**)(uint64_t, void, id))(v6 + 16))(v6, 0, v5);
    }
  }
}

void _PXSharedLibraryPreviewInvitation(void *a1, void *a2, void *a3, void *a4, uint64_t a5, void *a6, void *a7)
{
  uint64_t v43 = *MEMORY[0x1E4F143B8];
  id v13 = a1;
  id v14 = a2;
  id v15 = a3;
  id v16 = a4;
  id v17 = a6;
  id v18 = a7;
  if (v14)
  {
    if (v15) {
      goto LABEL_3;
    }
LABEL_8:
    id v28 = [MEMORY[0x1E4F28B00] currentHandler];
    id v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong, __strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, NSProgress *__strong, PXSharedLibraryAutoSharePolicy, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v28 handleFailureInFunction:v29, @"PXSharedLibraryUtilities.m", 1818, @"Invalid parameter not satisfying: %@", @"rule" file lineNumber description];

    if (v17) {
      goto LABEL_4;
    }
    goto LABEL_9;
  }
  id v26 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong, __strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, NSProgress *__strong, PXSharedLibraryAutoSharePolicy, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v26 handleFailureInFunction:v27, @"PXSharedLibraryUtilities.m", 1817, @"Invalid parameter not satisfying: %@", @"invitation" file lineNumber description];

  if (!v15) {
    goto LABEL_8;
  }
LABEL_3:
  if (v17) {
    goto LABEL_4;
  }
LABEL_9:
  id v30 = [MEMORY[0x1E4F28B00] currentHandler];
  id v31 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryPreviewInvitation(PXSharedLibraryStatusProvider *__strong, __strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, NSProgress *__strong, PXSharedLibraryAutoSharePolicy, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v30 handleFailureInFunction:v31, @"PXSharedLibraryUtilities.m", 1819, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_4:
  id v19 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
  {
    id v20 = [v14 identifier];
    LODWORD(buf) = 138543362;
    *(void *)((char *)&buf + 4) = v20;
    _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_DEFAULT, "Will preview Shared Library invitation: %{public}@", (uint8_t *)&buf, 0xCu);
  }
  v32[0] = MEMORY[0x1E4F143A8];
  v32[1] = 3221225472;
  v32[2] = ___PXSharedLibraryPreviewInvitation_block_invoke;
  v32[3] = &unk_1E5DD1B00;
  id v34 = v17;
  id v35 = v18;
  id v33 = v14;
  id v21 = v33;
  id v22 = v15;
  id v23 = v32;
  *(void *)&long long buf = MEMORY[0x1E4F143A8];
  *((void *)&buf + 1) = 3221225472;
  v37 = ___PreviewInvitation_block_invoke;
  uint64_t v38 = &unk_1E5DCB090;
  id v39 = v21;
  id v40 = v22;
  id v41 = v23;
  uint64_t v42 = a5;
  id v24 = v17;
  id v25 = v18;
  [v21 previewInvitationWithRule:v22 progress:v16 completion:&buf];
}

void _MoveAssetsIfNecessary(void *a1, uint64_t a2, void *a3, void *a4)
{
  id v10 = a1;
  id v7 = a3;
  id v8 = a4;
  char v9 = [v10 isInPreview];
  if (a2 || (v9 & 1) != 0 || ![v7 count]) {
    v8[2](v8, 1, 0);
  }
  else {
    [v10 moveAssetsWithLocalIdentifiersToSharedLibrary:v7 completion:v8];
  }
}

void PXSharedLibraryAcceptInvitation(void *a1, void *a2, void *a3, uint64_t a4, int a5, void *a6, void *a7, void *a8)
{
  id v15 = a1;
  id v16 = a2;
  id v17 = a3;
  id v18 = a6;
  id v19 = a7;
  id v20 = a8;
  if (v16)
  {
    if (v17) {
      goto LABEL_3;
    }
  }
  else
  {
    id v21 = [MEMORY[0x1E4F28B00] currentHandler];
    id v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v21 handleFailureInFunction:v22, @"PXSharedLibraryUtilities.m", 1947, @"Invalid parameter not satisfying: %@", @"invitation" file lineNumber description];

    if (v17)
    {
LABEL_3:
      if (v19) {
        goto LABEL_4;
      }
LABEL_8:
      id v25 = [MEMORY[0x1E4F28B00] currentHandler];
      id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
      [v25 handleFailureInFunction:v26, @"PXSharedLibraryUtilities.m", 1949, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

      if (a5) {
        goto LABEL_5;
      }
LABEL_9:
      _PXSharedLibraryAcceptInvitation(v16, v17, a4, v18, v19, v20);
      goto LABEL_10;
    }
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptInvitation(PXSharedLibraryStatusProvider *__strong _Nonnull, __strong id<PXSharedLibrary> _Nonnull, PXSharedLibraryRule *__strong _Nonnull, PXSharedLibraryAutoSharePolicy, BOOL, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v23 handleFailureInFunction:v24, @"PXSharedLibraryUtilities.m", 1948, @"Invalid parameter not satisfying: %@", @"rule" file lineNumber description];

  if (!v19) {
    goto LABEL_8;
  }
LABEL_4:
  if (!a5) {
    goto LABEL_9;
  }
LABEL_5:
  v27[0] = MEMORY[0x1E4F143A8];
  v27[1] = 3221225472;
  v27[2] = __PXSharedLibraryAcceptInvitation_block_invoke;
  v27[3] = &unk_1E5DAF910;
  id v28 = v17;
  uint64_t v32 = a4;
  id v29 = v18;
  id v30 = v19;
  id v31 = v20;
  _ExitAndRefetchInvitation(v15, v16, v30, @"PXSharedLibraryAcceptInvitation", v27);

LABEL_10:
}

void __PXSharedLibraryAcceptInvitation_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v7 = a2;
  id v5 = a3;
  if (v7)
  {
    _PXSharedLibraryAcceptInvitation(v7, *(void **)(a1 + 32), *(void *)(a1 + 64), *(void **)(a1 + 40), *(void **)(a1 + 48), *(void **)(a1 + 56));
  }
  else
  {
    uint64_t v6 = *(void *)(a1 + 56);
    if (v6) {
      (*(void (**)(uint64_t, void, id))(v6 + 16))(v6, 0, v5);
    }
  }
}

void _PXSharedLibraryAcceptInvitation(void *a1, void *a2, uint64_t a3, void *a4, void *a5, void *a6)
{
  uint64_t v40 = *MEMORY[0x1E4F143B8];
  id v11 = a1;
  id v12 = a2;
  id v13 = a4;
  id v14 = a5;
  id v15 = a6;
  if (v11)
  {
    if (v12) {
      goto LABEL_3;
    }
LABEL_8:
    id v25 = [MEMORY[0x1E4F28B00] currentHandler];
    id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryAcceptInvitation(__strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, PXSharedLibraryAutoSharePolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v25 handleFailureInFunction:v26, @"PXSharedLibraryUtilities.m", 1917, @"Invalid parameter not satisfying: %@", @"rule" file lineNumber description];

    if (v14) {
      goto LABEL_4;
    }
    goto LABEL_9;
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryAcceptInvitation(__strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, PXSharedLibraryAutoSharePolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v23 handleFailureInFunction:v24, @"PXSharedLibraryUtilities.m", 1916, @"Invalid parameter not satisfying: %@", @"invitation" file lineNumber description];

  if (!v12) {
    goto LABEL_8;
  }
LABEL_3:
  if (v14) {
    goto LABEL_4;
  }
LABEL_9:
  uint64_t v27 = [MEMORY[0x1E4F28B00] currentHandler];
  id v28 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXSharedLibraryAcceptInvitation(__strong id<PXSharedLibrary>, PXSharedLibraryRule *__strong, PXSharedLibraryAutoSharePolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment>, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v27 handleFailureInFunction:v28, @"PXSharedLibraryUtilities.m", 1918, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_4:
  id v16 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
  {
    id v17 = [v11 identifier];
    LODWORD(buf) = 138543362;
    *(void *)((char *)&buf + 4) = v17;
    _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_DEFAULT, "Will accept Shared Library invitation: %{public}@", (uint8_t *)&buf, 0xCu);
  }
  v29[0] = MEMORY[0x1E4F143A8];
  v29[1] = 3221225472;
  v29[2] = ___PXSharedLibraryAcceptInvitation_block_invoke;
  v29[3] = &unk_1E5DD1B00;
  id v31 = v14;
  id v32 = v15;
  id v30 = v11;
  id v18 = v30;
  id v19 = v12;
  id v20 = v29;
  *(void *)&long long buf = MEMORY[0x1E4F143A8];
  *((void *)&buf + 1) = 3221225472;
  id v34 = ___AcceptInvitation_block_invoke;
  id v35 = &unk_1E5DCB090;
  id v36 = v18;
  id v37 = v19;
  id v38 = v20;
  uint64_t v39 = a3;
  id v21 = v14;
  id v22 = v15;
  [v18 acceptInvitationWithRule:v19 progress:v13 completion:&buf];
}

id PXSharedLibraryPlaceholderParticipantImageWithPointSize()
{
  v0 = objc_msgSend(MEMORY[0x1E4FB1830], "configurationWithPointSize:");
  v1 = [MEMORY[0x1E4FB1818] systemImageNamed:@"person.crop.circle.fill" withConfiguration:v0];

  return v1;
}

void PXSharedLibraryTestingParticipantImageWithSize()
{
  uint64_t v0 = *MEMORY[0x1E4F143B8];
  PXSizeIsEmpty();
}

void sub_1AAA28644(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_1AAA28D6C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,id location)
{
}

void sub_1AAA29D54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA2A38C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__9861(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__9862(uint64_t a1)
{
}

void sub_1AAA2C21C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

void sub_1AAA2E7F0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 168));
  _Unwind_Resume(a1);
}

void sub_1AAA2E928(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAA2EE5C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 144));
  _Unwind_Resume(a1);
}

void sub_1AAA32208(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA331D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA33400(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA335A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA337A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__11114(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__11115(uint64_t a1)
{
}

void sub_1AAA35398(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__11398(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__11399(uint64_t a1)
{
}

__CFString *PXSharedLibraryLegacyDeviceOperatingSystemDescription(unint64_t a1)
{
  if (a1 >= 5)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryLegacyDeviceOperatingSystem: %ld", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DAFF70[a1];
  }
  return v1;
}

double PXExploreLayoutCellPreferredAspectRatio(uint64_t a1, unint64_t a2)
{
  double result = 0.0;
  switch(a1)
  {
    case 0:
      uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", 0.0);
      v4 = objc_msgSend(NSString, "stringWithUTF8String:", "double PXExploreLayoutCellPreferredAspectRatio(NSInteger, PXExploreLayoutType, PXExploreLayoutSubtype)");
      [v3 handleFailureInFunction:v4 file:@"PXExploreLayoutGenerator+Layouts.m" lineNumber:49 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
    case 2:
    case 5:
    case 6:
      double result = 1.0;
      break;
    case 3:
    case 4:
      if (a2 < 4) {
        double result = dbl_1AB35A408[a2];
      }
      break;
    default:
      return result;
  }
  return result;
}

void sub_1AAA3D2B4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
}

id PXUIOverlayBadgesViewCreateDefaultSystemImageBadgeView(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4FB1838];
  id v2 = a1;
  id v3 = [v1 alloc];
  v4 = [MEMORY[0x1E4FB1818] systemImageNamed:v2];

  id v5 = (void *)[v3 initWithImage:v4];
  uint64_t v6 = [MEMORY[0x1E4FB1830] configurationWithPointSize:12.0];
  [v5 setPreferredSymbolConfiguration:v6];

  id v7 = [MEMORY[0x1E4FB1618] whiteColor];
  [v5 setTintColor:v7];

  return v5;
}

void sub_1AAA3F184(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__12966(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__12967(uint64_t a1)
{
}

void PXCuratedLibraryFontWithTextStyle()
{
}

uint64_t _PXMaxContentSizeCategory(uint64_t a1)
{
  if ((unint64_t)(a1 - 8) >= 5) {
    return 5;
  }
  else {
    return 7;
  }
}

void _PXCuratedLibraryFontWithTextStyleAndFontWeight()
{
}

void sub_1AAA41CE4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,id location)
{
  objc_destroyWeak(v49);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA42084(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id makeCentralizedFeedbackActionPerformerWithParentViewController(void *a1)
{
  id v1 = a1;
  Class v2 = NSClassFromString(&cfstr_Photosfeedback.isa);
  if (v2)
  {
    id v3 = [(objc_class *)v2 makeCentralizedFeedbackActionPerformerWithParentViewController:v1];
  }
  else
  {
    id v3 = 0;
  }

  return v3;
}

void sub_1AAA439D0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
}

uint64_t PXCloudQuotaOfferLevel(void *a1)
{
  uint64_t v1 = [a1 level];
  if ((unint64_t)(v1 - 1) > 2) {
    return 0;
  }
  else {
    return qword_1AB35A430[v1 - 1];
  }
}

__CFString *PXCloudQuotaOfferDebugDescription(void *a1)
{
  id v1 = a1;
  if (v1)
  {
    Class v2 = NSString;
    uint64_t v3 = objc_opt_class();
    unint64_t v4 = [v1 offerType];
    if (v4 > 8) {
      id v5 = 0;
    }
    else {
      id v5 = off_1E5DB0258[v4];
    }
    unint64_t v7 = [v1 level];
    if (v7 > 6) {
      id v8 = 0;
    }
    else {
      id v8 = off_1E5DB02A0[v7];
    }
    uint64_t v6 = [v2 stringWithFormat:@"<%@:%p, type:%@, level:%@>", v3, v1, v5, v8];
  }
  else
  {
    uint64_t v6 = @"-";
  }

  return v6;
}

void PXCloudQuotaSendAnalyticsForOfferChange(int a1, int a2, void *a3)
{
  v11[1] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  uint64_t v6 = v5;
  if (a2)
  {
    if (a1) {
      unint64_t v7 = @"com.apple.photos.CPAnalytics.photosCloudQuotaOfferReplaced";
    }
    else {
      unint64_t v7 = @"com.apple.photos.CPAnalytics.photosCloudQuotaOfferRemoved";
    }
    goto LABEL_7;
  }
  if (a1)
  {
    unint64_t v7 = @"com.apple.photos.CPAnalytics.photosCloudQuotaOfferAdded";
LABEL_7:
    id v8 = (void *)MEMORY[0x1E4F56658];
    uint64_t v10 = *MEMORY[0x1E4F56560];
    v11[0] = v5;
    char v9 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v11 forKeys:&v10 count:1];
    [v8 sendEvent:v7 withPayload:v9];
  }
}

void sub_1AAA45494(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAA45C8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__14323(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__14324(uint64_t a1)
{
}

id PXAssistantNextButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Next", @"PhotosUICore");
}

id PXAssistantDoneButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Done", @"PhotosUICore");
}

id PXAssistantBackButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Back", @"PhotosUICore");
}

id PXAssistantCancelButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Cancel", @"PhotosUICore");
}

id PXAssistantContinueButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Continue", @"PhotosUICore");
}

id PXAssistantSkipButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Skip", @"PhotosUICore");
}

id PXAssistantDeleteButtonTitle()
{
  return PXLocalizedStringFromTable(@"PXAssistant_ButtonTitle_Delete", @"PhotosUICore");
}

void PXPresentAssistantForContext(void *a1, void *a2, void *a3)
{
  uint64_t v46 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    id v21 = [MEMORY[0x1E4F28B00] currentHandler];
    id v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXPresentAssistantForContext(__strong id<PXAssistantContext> _Nonnull, UIViewController *__strong _Nonnull, void (^ _Nullable __strong)(NSError * _Nullable __strong))");
    [v21 handleFailureInFunction:v22, @"PXAssistantUtilities.m", 141, @"Invalid parameter not satisfying: %@", @"context" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXPresentAssistantForContext(__strong id<PXAssistantContext> _Nonnull, UIViewController *__strong _Nonnull, void (^ _Nullable __strong)(NSError * _Nullable __strong))");
  [v23 handleFailureInFunction:v24, @"PXAssistantUtilities.m", 142, @"Invalid parameter not satisfying: %@", @"presentingViewController" file lineNumber description];

LABEL_3:
  uint64_t v27 = MEMORY[0x1E4F143A8];
  uint64_t v28 = 3221225472;
  id v29 = __PXPresentAssistantForContext_block_invoke;
  id v30 = &unk_1E5DB0380;
  id v8 = v6;
  id v31 = v8;
  id v9 = v5;
  uint64_t v10 = &v27;
  id v11 = v7;
  if (!v5)
  {
    id v25 = [MEMORY[0x1E4F28B00] currentHandler];
    id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXPresentAssistantForContext(__strong id<PXAssistantContext>, void (^ _Nullable __strong)(PXAssistantController *__strong, BOOL), void (^ _Nullable __strong)(NSError * _Nullable __strong))");
    [v25 handleFailureInFunction:v26, @"PXAssistantUtilities.m", 98, @"Invalid parameter not satisfying: %@", @"context", v27, v28 file lineNumber description];
  }
  id v12 = PLUIGetLog();
  if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
  {
    LODWORD(buf) = 138412290;
    *(void *)((char *)&buf + 4) = v9;
    _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEFAULT, "Assistant will start for context: %@", (uint8_t *)&buf, 0xCu);
  }

  id v13 = [[PXAssistantController alloc] initWithContext:v9];
  uint64_t v32 = 0;
  id v33 = &v32;
  uint64_t v34 = 0x3032000000;
  id v35 = __Block_byref_object_copy__14646;
  id v36 = __Block_byref_object_dispose__14647;
  id v37 = 0;
  id v14 = [_PXAssistantControllerDelegate alloc];
  *(void *)&long long buf = MEMORY[0x1E4F143A8];
  *((void *)&buf + 1) = 3221225472;
  uint64_t v39 = ___PXPresentAssistantForContext_block_invoke;
  uint64_t v40 = &unk_1E5DB03A8;
  id v15 = v9;
  id v41 = v15;
  id v45 = &v32;
  id v16 = v10;
  uint64_t v43 = v16;
  id v17 = v13;
  uint64_t v42 = v17;
  id v18 = v11;
  id v44 = v18;
  uint64_t v19 = [(_PXAssistantControllerDelegate *)v14 initWithAssistantController:v17 completionHandler:&buf];
  id v20 = (void *)v33[5];
  v33[5] = v19;

  v29((uint64_t)v16, (uint64_t)v17, 1);
  _Block_object_dispose(&v32, 8);
}

void sub_1AAA47E50(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXPresentAssistantForContext_block_invoke(uint64_t a1, uint64_t a2, int a3)
{
  uint64_t v3 = *(void **)(a1 + 32);
  if (a3) {
    return [v3 presentViewController:a2 animated:1 completion:0];
  }
  else {
    return [v3 dismissViewControllerAnimated:1 completion:0];
  }
}

uint64_t __Block_byref_object_copy__14646(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__14647(uint64_t a1)
{
}

void PXCopyURL(void *a1)
{
  v7[1] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    id v6 = [NSString stringWithUTF8String:"void PXCopyURL(NSURL *__strong _Nonnull)"];
    [v5 handleFailureInFunction:v6, @"NSURL+PhotosUICore.m", 22, @"Invalid parameter not satisfying: %@", @"URL" file lineNumber description];
  }
  Class v2 = [MEMORY[0x1E4FB1A78] generalPasteboard];
  uint64_t v3 = [v1 absoluteString];
  v7[0] = v3;
  unint64_t v4 = [MEMORY[0x1E4F1C978] arrayWithObjects:v7 count:1];
  [v2 setObjects:v4];
}

void PXOpenURL(void *a1, void *a2)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXOpenURL(NSURL *__strong _Nonnull, void (^ _Nullable __strong)(BOOL))");
    [v10 handleFailureInFunction:v11, @"NSURL+PhotosUICore.m", 38, @"Invalid parameter not satisfying: %@", @"URL" file lineNumber description];
  }
  id v5 = PLUserStatusUIGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138412290;
    id v16 = v3;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will open URL: %@", buf, 0xCu);
  }

  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXOpenURL_block_invoke;
  aBlock[3] = &unk_1E5DCD158;
  id v13 = v3;
  id v14 = v4;
  id v6 = v4;
  id v7 = v3;
  id v8 = _Block_copy(aBlock);
  id v9 = [MEMORY[0x1E4FB1438] sharedApplication];
  [v9 openURL:v7 withCompletionHandler:v8];
}

uint64_t __PXOpenURL_block_invoke(uint64_t a1, uint64_t a2)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v4 = PLUserStatusUIGetLog();
  id v5 = v4;
  if (a2)
  {
    if (!os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_7;
    }
    uint64_t v6 = *(void *)(a1 + 32);
    int v12 = 138412290;
    uint64_t v13 = v6;
    id v7 = "Did open URL: %@";
    id v8 = v5;
    os_log_type_t v9 = OS_LOG_TYPE_DEFAULT;
  }
  else
  {
    if (!os_log_type_enabled(v4, OS_LOG_TYPE_ERROR)) {
      goto LABEL_7;
    }
    uint64_t v10 = *(void *)(a1 + 32);
    int v12 = 138412290;
    uint64_t v13 = v10;
    id v7 = "Failed to open URL: %@";
    id v8 = v5;
    os_log_type_t v9 = OS_LOG_TYPE_ERROR;
  }
  _os_log_impl(&dword_1A9AE7000, v8, v9, v7, (uint8_t *)&v12, 0xCu);
LABEL_7:

  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, uint64_t))(result + 16))(result, a2);
  }
  return result;
}

void PXOpenSensitiveURL(void *a1, void *a2)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    id v15 = [MEMORY[0x1E4F28B00] currentHandler];
    id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXOpenSensitiveURL(NSURL *__strong _Nonnull, void (^ _Nullable __strong)(BOOL))");
    [v15 handleFailureInFunction:v16, @"NSURL+PhotosUICore.m", 64, @"Invalid parameter not satisfying: %@", @"URL" file lineNumber description];
  }
  id v5 = PLUserStatusUIGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138412290;
    id v19 = v3;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will open URL: %@", buf, 0xCu);
  }

  uint64_t v6 = [MEMORY[0x1E4F223E0] defaultWorkspace];
  id v17 = 0;
  uint64_t v7 = [v6 openSensitiveURL:v3 withOptions:0 error:&v17];
  id v8 = v17;

  os_log_type_t v9 = PLUserStatusUIGetLog();
  uint64_t v10 = v9;
  if (v7)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_11;
    }
    *(_DWORD *)long long buf = 138412290;
    id v19 = v3;
    id v11 = "Did open URL: %@";
    int v12 = v10;
    os_log_type_t v13 = OS_LOG_TYPE_DEFAULT;
    uint32_t v14 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR)) {
      goto LABEL_11;
    }
    *(_DWORD *)long long buf = 138412546;
    id v19 = v3;
    __int16 v20 = 2112;
    id v21 = v8;
    id v11 = "Failed to open URL: %@, Error: %@";
    int v12 = v10;
    os_log_type_t v13 = OS_LOG_TYPE_ERROR;
    uint32_t v14 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v12, v13, v11, buf, v14);
LABEL_11:

  if (v4) {
    v4[2](v4, v7);
  }
}

void sub_1AAA4A214(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 64));
  _Unwind_Resume(a1);
}

void *__vfx_get_script_table_photoCell()
{
  return &__vfx_get_script_table_photoCell::scriptTable;
}

void sub_1AAA4B850(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v15 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA4C2A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  uint64_t v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v13 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA4DC40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__15406(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__15407(uint64_t a1)
{
}

PXCMMMomentShareInvitationsDataSourceState *_DataSourceState(void *a1, uint64_t a2, uint64_t a3)
{
  v20[2] = *MEMORY[0x1E4F143B8];
  id v5 = [a1 librarySpecificFetchOptions];
  uint64_t v6 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"creationDate" ascending:0];
  uint64_t v19 = v6;
  uint64_t v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v19 count:1];
  [v5 setSortDescriptors:v7];

  id v8 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"(status != %d && shareURL != nil)", 0);
  if (a2 == 2)
  {
    objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K == %d OR %K == %d", @"status", 2, @"status", 3);
  }
  else
  {
    if (a2 != 1) {
      goto LABEL_6;
    }
    objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K == %d", @"status", 1, v17, v18);
  os_log_type_t v9 = };
  uint64_t v10 = (void *)MEMORY[0x1E4F28BA0];
  v20[0] = v8;
  v20[1] = v9;
  id v11 = [MEMORY[0x1E4F1C978] arrayWithObjects:v20 count:2];
  uint64_t v12 = [v10 andPredicateWithSubpredicates:v11];

  id v8 = (void *)v12;
LABEL_6:
  [v5 setPredicate:v8];

  if (a3 >= 1) {
    [v5 setFetchLimit:a3];
  }
  uint64_t v13 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:7 subtype:0x7FFFFFFFFFFFFFFFLL options:v5];
  uint32_t v14 = [PXCMMMomentShareInvitationsDataSourceState alloc];
  uint64_t v15 = [(PXCMMMomentShareInvitationsDataSourceState *)v14 initWithMomentShares:v13 invitationsByMomentShareObjectID:MEMORY[0x1E4F1CC08]];

  return v15;
}

void sub_1AAA52440(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA53624(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__16685(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__16686(uint64_t a1)
{
}

void sub_1AAA537D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA54058(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va1, a10);
  va_start(va, a10);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v10 - 160), 8);
  _Block_object_dispose((const void *)(v10 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA543D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA54598(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA5594C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXGLayoutVersionMakeUnique()
{
  return (int)atomic_fetch_add(PXGLayoutVersionMakeUnique_lastVersion, 1u);
}

__CFString *PXGLayoutAppearStateDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 2) {
    return @"Appearing";
  }
  else {
    return off_1E5DB0AB0[a1 - 1];
  }
}

BOOL PXGLayoutUserInterfaceDirectionFromUIUserInterfaceLayoutDirection(uint64_t a1)
{
  return a1 == 1;
}

id PXGRegionOfInterestForSprite(uint64_t a1, float *a2, uint64_t a3, void *a4)
{
  id v6 = a4;
  id v7 = objc_alloc((Class)off_1E5DA82B8);
  float32x2_t v8 = vmul_n_f32(*(float32x2_t *)(a1 + 24), a2[15]);
  float32x2_t v9 = vmul_f32(v8, (float32x2_t)0x3F0000003F000000);
  uint64_t v10 = objc_msgSend(v7, "initWithRect:inCoordinateSpace:", v6, *(double *)a1 - v9.f32[0], *(double *)(a1 + 8) - v9.f32[1], v8.f32[0], v8.f32[1]);

  objc_msgSend(v10, "setImageContentsRect:", a2[1], a2[2], a2[3], a2[4]);
  id v11 = objc_alloc_init((Class)off_1E5DA9858);
  objc_msgSend(v11, "setCornerRadius:", fmaxf(fmaxf(a2[9], a2[10]), fmaxf(a2[11], a2[12])));
  [v11 setCornerCurve:*MEMORY[0x1E4F39EA8]];
  uint64_t v12 = a2[9] > 0.0;
  if (a2[10] > 0.0) {
    v12 |= 2uLL;
  }
  if (a2[11] > 0.0) {
    v12 |= 4uLL;
  }
  if (a2[12] <= 0.0) {
    uint64_t v13 = v12;
  }
  else {
    uint64_t v13 = v12 | 8;
  }
  [v11 setCornerMask:v13];
  [v11 setRotationAngle:a2[14]];
  [v10 setImageViewSpec:v11];

  return v10;
}

void sub_1AAA57AC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA57D7C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

PXSharedAlbumSubscriberInfo *_subscriberInfoForAdjustedIndex(void *a1, uint64_t a2)
{
  Class v2 = [a1 objectAtIndex:a2];
  id v3 = [v2 inviteeEmails];
  id v4 = [v3 firstObject];

  id v5 = [v2 inviteePhones];
  id v6 = [v5 firstObject];

  id v7 = [v2 inviteeFirstName];
  float32x2_t v8 = [v2 inviteeLastName];
  float32x2_t v9 = [v2 inviteeDisplayNameIncludingEmail:0];
  uint64_t v10 = [v2 inviteeHashedPersonID];
  LOBYTE(v13) = 0;
  id v11 = [[PXSharedAlbumSubscriberInfo alloc] initWithInvitationRecord:v2 identifier:v10 email:v4 phone:v6 firstName:v7 lastName:v8 displayName:v9 isOwner:v13];

  return v11;
}

void sub_1AAA5A3AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__17347(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__17348(uint64_t a1)
{
}

void sub_1AAA5AAF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location,id a22)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a22);
  _Unwind_Resume(a1);
}

void sub_1AAA5AD70(_Unwind_Exception *a1)
{
  objc_destroyWeak(v3);
  objc_destroyWeak(v4);
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAA5B12C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA5DF44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

uint64_t __Block_byref_object_copy__17821(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__17822(uint64_t a1)
{
}

void sub_1AAA5E798(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

BOOL clipIsModuleType(void *a1, unint64_t a2)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = [v3 displayAssets];
  uint64_t v5 = [v4 count];

  if (v5 == 1 && (unint64_t)([v3 playbackStyle] - 2) >= 4)
  {
    switch(a2)
    {
      case 3uLL:
        id v11 = [v3 displayAssets];
        float32x2_t v9 = [v11 objectAtIndexedSubscript:0];

        BOOL v10 = +[PXStoryRecipeClipUtilities assetHasHighCurationScore:v9];
        break;
      case 2uLL:
        uint64_t v12 = [v3 displayAssets];
        float32x2_t v9 = [v12 objectAtIndexedSubscript:0];

        BOOL v10 = +[PXStoryRecipeClipUtilities assetIsPet:v9];
        break;
      case 1uLL:
        float32x2_t v8 = [v3 displayAssets];
        float32x2_t v9 = [v8 objectAtIndexedSubscript:0];

        BOOL v10 = +[PXStoryRecipeClipUtilities assetIsPortrait:v9];
        break;
      default:
        uint64_t v13 = PLStoryGetLog();
        if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
        {
          if (a2 > 3) {
            uint64_t v14 = @"??";
          }
          else {
            uint64_t v14 = off_1E5DB4F20[a2];
          }
          uint64_t v15 = v14;
          int v16 = 138412290;
          uint64_t v17 = v15;
          _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Unhandled case %@", (uint8_t *)&v16, 0xCu);
        }
        goto LABEL_3;
    }
    BOOL v6 = v10;

    goto LABEL_4;
  }
LABEL_3:
  BOOL v6 = 0;
LABEL_4:

  return v6;
}

void sub_1AAA65894(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSCNetworkReachabilityCreateWithAddressSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = SystemConfigurationLibrary();
  uint64_t result = dlsym(v2, "SCNetworkReachabilityCreateWithAddress");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSCNetworkReachabilityCreateWithAddressSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *SystemConfigurationLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!SystemConfigurationLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    v4[3] = __SystemConfigurationLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    long long v5 = xmmword_1E5DB0D40;
    uint64_t v6 = 0;
    SystemConfigurationLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  uint64_t v0 = (void *)SystemConfigurationLibraryCore_frameworkLibrary;
  if (!SystemConfigurationLibraryCore_frameworkLibrary)
  {
    uint64_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *SystemConfigurationLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudPhotoWelcomeNavigationController.m", 27, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

void *__getSCNetworkReachabilityGetFlagsSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = SystemConfigurationLibrary();
  uint64_t result = dlsym(v2, "SCNetworkReachabilityGetFlags");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSCNetworkReachabilityGetFlagsSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void __getMCProfileConnectionClass_block_invoke(uint64_t a1)
{
  ManagedConfigurationLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("MCProfileConnection");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getMCProfileConnectionClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    Class v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getMCProfileConnectionClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudPhotoWelcomeNavigationController.m", 32, @"Unable to find class %s", "MCProfileConnection");

    __break(1u);
  }
}

void *__getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = ManagedConfigurationLibrary();
  uint64_t result = dlsym(v2, "MCFeatureCloudPhotoLibraryAllowed");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *ManagedConfigurationLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    v4[3] = __ManagedConfigurationLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    long long v5 = xmmword_1E5DB0D58;
    uint64_t v6 = 0;
    ManagedConfigurationLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  uint64_t v0 = (void *)ManagedConfigurationLibraryCore_frameworkLibrary;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary)
  {
    uint64_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *ManagedConfigurationLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudPhotoWelcomeNavigationController.m", 31, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __ManagedConfigurationLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ManagedConfigurationLibraryCore_frameworkLibrary = result;
  return result;
}

uint64_t __SystemConfigurationLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  SystemConfigurationLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAA69004(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAA69C48(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,char a54)
{
  _Block_object_dispose(&a54, 8);
  _Block_object_dispose(&STACK[0x330], 8);
  _Block_object_dispose(&STACK[0x350], 8);
  _Block_object_dispose(&STACK[0x370], 8);
  _Block_object_dispose((const void *)(v54 - 216), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA6BC28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __destructor_8_s16_s24_s32(uint64_t a1)
{
  Class v2 = *(void **)(a1 + 32);
}

uint64_t __Block_byref_object_copy__19717(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__19718(uint64_t a1)
{
}

void sub_1AAA6EEB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((const void *)(v33 - 192), 8);
  _Block_object_dispose((const void *)(v33 - 144), 8);
  _Block_object_dispose((const void *)(v33 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__20221(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__20222(uint64_t a1)
{
}

void sub_1AAA758CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA75C90(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AAA75D50(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAA78438(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__22163(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__22164(uint64_t a1)
{
}

void sub_1AAA7CA14(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 + 320), 8);
  _Unwind_Resume(a1);
}

void _getSpriteGeometryTransformedTopTrailingCorner(float a1, float a2)
{
  memset(&v5, 0, sizeof(v5));
  CGAffineTransformMakeScale(&t1, a2, a2);
  CGAffineTransformMakeRotation(&t2, a1);
  CGAffineTransformConcat(&v5, &t1, &t2);
  PXPointAdd();
}

void sub_1AAA7F524(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA7F5E4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void _ConfigureGadgetColumnWidthAndSpacingSetBReferenceValues(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  _GadgetSpecReferenceValues(3uLL, 2uLL, v4, v3, 320.0, 16.0, 90.0);
  _GadgetSpecReferenceValues(3uLL, 2uLL, v4, v3, 375.0, 20.0, 105.0);
  _GadgetSpecReferenceValues(3uLL, 2uLL, v4, v3, 375.0, 20.0, 105.0);
  _GadgetSpecReferenceValues(3uLL, 2uLL, v4, v3, 414.0, 20.0, 118.0);
  _GadgetSpecReferenceValues(3uLL, 2uLL, v4, v3, 414.0, 20.0, 118.0);
  _GadgetSpecReferenceValues(5uLL, 2uLL, v4, v3, 768.0, 34.0, 130.0);
  _GadgetSpecReferenceValues(5uLL, 2uLL, v4, v3, 834.0, 46.0, 130.0);
  _GadgetSpecReferenceValues(6uLL, 2uLL, v4, v3, 1024.0, 52.0, 130.0);
  _GadgetSpecReferenceValues(4uLL, 2uLL, v4, v3, 568.0, 56.0, 90.0);
  _GadgetSpecReferenceValues(4uLL, 2uLL, v4, v3, 667.0, 62.0, 105.0);
  _GadgetSpecReferenceValues(6uLL, 2uLL, v4, v3, 812.0, 60.0, 105.0);
  _GadgetSpecReferenceValues(4uLL, 2uLL, v4, v3, 736.0, 66.0, 118.0);
  _GadgetSpecReferenceValues(5uLL, 2uLL, v4, v3, 896.0, 64.0, 118.0);
  _GadgetSpecReferenceValues(6uLL, 2uLL, v4, v3, 1024.0, 52.0, 130.0);
  _GadgetSpecReferenceValues(7uLL, 2uLL, v4, v3, 1112.0, 31.0, 130.0);
  _GadgetSpecReferenceValues(8uLL, 2uLL, v4, v3, 1366.0, 52.0, 130.0);
}

void _GadgetSpecReferenceValues(unint64_t a1, unint64_t a2, void *a3, void *a4, double a5, double a6, double a7)
{
  id v24 = a3;
  id v13 = a4;
  if (a5 <= 0.0)
  {
    int v16 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v17 = objc_msgSend(NSString, "stringWithUTF8String:", "void _GadgetSpecReferenceValues(CGFloat, CGFloat, CGFloat, NSUInteger, NSUInteger, PXLayoutMetricInterpolator *__strong, PXLayoutMetricInterpolator *__strong)");
    [v16 handleFailureInFunction:v17, @"PXLayoutMetricInterpolator.m", 148, @"Invalid parameter not satisfying: %@", @"layoutWidth > 0" file lineNumber description];
  }
  if (a6 < 0.0)
  {
    uint64_t v18 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void _GadgetSpecReferenceValues(CGFloat, CGFloat, CGFloat, NSUInteger, NSUInteger, PXLayoutMetricInterpolator *__strong, PXLayoutMetricInterpolator *__strong)");
    [v18 handleFailureInFunction:v19, @"PXLayoutMetricInterpolator.m", 149, @"Invalid parameter not satisfying: %@", @"layoutMargin >= 0" file lineNumber description];
  }
  if (a7 <= 0.0)
  {
    __int16 v20 = [MEMORY[0x1E4F28B00] currentHandler];
    id v21 = objc_msgSend(NSString, "stringWithUTF8String:", "void _GadgetSpecReferenceValues(CGFloat, CGFloat, CGFloat, NSUInteger, NSUInteger, PXLayoutMetricInterpolator *__strong, PXLayoutMetricInterpolator *__strong)");
    [v20 handleFailureInFunction:v21, @"PXLayoutMetricInterpolator.m", 150, @"Invalid parameter not satisfying: %@", @"singleColumnWidth > 0" file lineNumber description];
  }
  double v14 = a5 + a6 * -2.0 - a7 * (double)a1;
  if (v14 < 0.0)
  {
    uint64_t v22 = [MEMORY[0x1E4F28B00] currentHandler];
    id v23 = objc_msgSend(NSString, "stringWithUTF8String:", "void _GadgetSpecReferenceValues(CGFloat, CGFloat, CGFloat, NSUInteger, NSUInteger, PXLayoutMetricInterpolator *__strong, PXLayoutMetricInterpolator *__strong)");
    [v22 handleFailureInFunction:v23, @"PXLayoutMetricInterpolator.m", 155, @"Invalid parameter not satisfying: %@", @"extraSpace >= 0" file lineNumber description];
  }
  double v15 = floor(v14 / (double)(a1 - 1));
  [v13 setReferenceValue:v15 * (double)(a2 - 1) + a7 * (double)a2 forMetric:a5];
  [v24 setReferenceValue:v15 forMetric:a5];
}

void _ConfigureGadgetColumnWidthAndSpacingSetAReferenceValues(unint64_t a1, void *a2, void *a3)
{
  id v5 = a3;
  id v6 = a2;
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 320.0, 16.0, 140.0);
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 375.0, 20.0, 162.0);
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 375.0, 20.0, 162.0);
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 414.0, 20.0, 182.0);
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 414.0, 20.0, 182.0);
  _GadgetSpecReferenceValues(2uLL, a1, v6, v5, 428.0, 22.0, 186.0);
  _GadgetSpecReferenceValues(4uLL, a1, v6, v5, 768.0, 34.0, 160.0);
  _GadgetSpecReferenceValues(4uLL, a1, v6, v5, 834.0, 46.0, 160.0);
  _GadgetSpecReferenceValues(5uLL, a1, v6, v5, 1024.0, 52.0, 160.0);
  _GadgetSpecReferenceValues(3uLL, a1, v6, v5, 568.0, 52.0, 136.0);
  _GadgetSpecReferenceValues(3uLL, a1, v6, v5, 667.0, 62.0, 157.0);
  _GadgetSpecReferenceValues(4uLL, a1, v6, v5, 812.0, 60.0, 157.0);
  _GadgetSpecReferenceValues(3uLL, a1, v6, v5, 736.0, 66.0, 177.0);
  _GadgetSpecReferenceValues(4uLL, a1, v6, v5, 896.0, 64.0, 177.0);
  _GadgetSpecReferenceValues(4uLL, a1, v6, v5, 926.0, 64.0, 186.0);
  _GadgetSpecReferenceValues(5uLL, a1, v6, v5, 1024.0, 52.0, 160.0);
  _GadgetSpecReferenceValues(6uLL, a1, v6, v5, 1112.0, 31.0, 160.0);
  _GadgetSpecReferenceValues(7uLL, a1, v6, v5, 1366.0, 52.0, 160.0);
}

void _ConfigureStandardLayoutMarginValues(void *a1)
{
  id v1 = a1;
  [v1 setReferenceValue:16.0 forMetric:320.0];
  [v1 setReferenceValue:16.0 forMetric:375.0];
  [v1 setReferenceValue:20.0 forMetric:414.0];
}

void _ConfigureSharedReferenceValues(void *a1)
{
  id v1 = a1;
  _ConfigureStandardLayoutMarginValues(v1);
  [v1 setReferenceValue:20.0 forMetric:507.0];
  [v1 setReferenceValue:22.5 forMetric:568.0];
  [v1 setReferenceValue:50.0 forMetric:667.0];
  [v1 setReferenceValue:51.3333321 forMetric:736.0];
  [v1 setReferenceValue:34.0 forMetric:768.0];
  [v1 setReferenceValue:32.0 forMetric:834.0];
  [v1 setReferenceValue:52.0 forMetric:1024.0];
  [v1 setReferenceValue:52.0 forMetric:1112.0];
  [v1 setReferenceValue:51.0 forMetric:1366.0];
}

double PXLayoutLinearRelationMake(double a1, double a2, double a3, double a4)
{
  return (a4 - a2) / (a3 - a1);
}

double PXLayoutLinearRelationEvaluate(double a1, double a2, double a3)
{
  return a2 + a1 * a3;
}

id PXDeduplicationAssetsThatCanBeMergedInSelection(void *a1)
{
  id v1 = a1;
  id v2 = objc_alloc_init((Class)off_1E5DA7430);
  id v3 = [v1 selectedIndexPaths];
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  v9[2] = __PXDeduplicationAssetsThatCanBeMergedInSelection_block_invoke;
  v9[3] = &unk_1E5DB1450;
  id v10 = v2;
  id v4 = v2;
  [v3 enumerateItemIndexSetsUsingBlock:v9];

  id v5 = objc_alloc((Class)off_1E5DA84E8);
  id v6 = [v1 dataSource];

  uint64_t v7 = (void *)[v5 initWithDataSource:v6 selectedIndexPaths:v4];
  return v7;
}

void __PXDeduplicationAssetsThatCanBeMergedInSelection_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v8 = a4;
  if ([v8 count] >= 2)
  {
    uint64_t v7 = [off_1E5DA6F50 indexPathSetWithItemIndexes:v8 dataSourceIdentifier:a2 section:a3];
    [*(id *)(a1 + 32) unionIndexPathSet:v7];
  }
}

id PXDeduplicationIdenticalSelectionFromSelection(void *a1)
{
  uint64_t v47 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = objc_alloc_init((Class)off_1E5DA7430);
  if (!v1 || ![v1 isAnyItemSelected]) {
    goto LABEL_15;
  }
  id v3 = [v1 dataSource];
  if (v3)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_5;
    }
    id v23 = [MEMORY[0x1E4F28B00] currentHandler];
    id v24 = [NSString stringWithUTF8String:"PXSelectionSnapshot * _Nonnull PXDeduplicationIdenticalSelectionFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    id v31 = (objc_class *)objc_opt_class();
    id v26 = NSStringFromClass(v31);
    uint64_t v32 = objc_msgSend(v3, "px_descriptionForAssertionMessage");
    [v23 handleFailureInFunction:v24, @"PXDeduplicationUtilities.m", 56, @"%@ should be an instance inheriting from %@, but it is %@", @"selectionSnapshot.dataSource", v26, v32 file lineNumber description];
  }
  else
  {
    id v23 = [MEMORY[0x1E4F28B00] currentHandler];
    id v24 = [NSString stringWithUTF8String:"PXSelectionSnapshot * _Nonnull PXDeduplicationIdenticalSelectionFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    id v25 = (objc_class *)objc_opt_class();
    id v26 = NSStringFromClass(v25);
    [v23 handleFailureInFunction:v24, @"PXDeduplicationUtilities.m", 56, @"%@ should be an instance inheriting from %@, but it is nil", @"selectionSnapshot.dataSource", v26 file lineNumber description];
  }

LABEL_5:
  id v4 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  id v5 = [v1 selectedIndexPaths];
  v43[0] = MEMORY[0x1E4F143A8];
  v43[1] = 3221225472;
  v43[2] = __PXDeduplicationIdenticalSelectionFromSelection_block_invoke;
  v43[3] = &unk_1E5DC2550;
  id v37 = v3;
  id v44 = v37;
  id v6 = v4;
  id v45 = v6;
  [v5 enumerateItemIndexSetsUsingBlock:v43];

  uint64_t v7 = (void *)MEMORY[0x1E4F1CAD0];
  id v8 = [v6 allKeys];
  uint64_t v9 = [v7 setWithArray:v8];

  id v10 = [v1 firstObject];
  if (!v10)
  {
    uint64_t v27 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v28 = [NSString stringWithUTF8String:"PXSelectionSnapshot * _Nonnull PXDeduplicationIdenticalSelectionFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    id v29 = (objc_class *)objc_opt_class();
    id v30 = NSStringFromClass(v29);
    [v27 handleFailureInFunction:v28, @"PXDeduplicationUtilities.m", 68, @"%@ should be an instance inheriting from %@, but it is nil", @"selectionSnapshot.firstObject", v30 file lineNumber description];
LABEL_23:

    goto LABEL_7;
  }
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    uint64_t v27 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v28 = [NSString stringWithUTF8String:"PXSelectionSnapshot * _Nonnull PXDeduplicationIdenticalSelectionFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    uint64_t v33 = (objc_class *)objc_opt_class();
    id v30 = NSStringFromClass(v33);
    uint64_t v34 = objc_msgSend(v10, "px_descriptionForAssertionMessage");
    [v27 handleFailureInFunction:v28, @"PXDeduplicationUtilities.m", 68, @"%@ should be an instance inheriting from %@, but it is %@", @"selectionSnapshot.firstObject", v30, v34 file lineNumber description];

    goto LABEL_23;
  }
LABEL_7:
  id v11 = [v10 photoLibrary];

  id v42 = 0;
  id v36 = (void *)v9;
  uint64_t v12 = [MEMORY[0x1E4F38EE8] assetCollectionDuplicateTypeMappingForAssetCollectionUUIDs:v9 photoLibrary:v11 error:&v42];
  id v35 = v42;
  id v13 = [v12 objectForKeyedSubscript:&unk_1F02D5E60];
  long long v38 = 0u;
  long long v39 = 0u;
  long long v40 = 0u;
  long long v41 = 0u;
  uint64_t v14 = [v13 countByEnumeratingWithState:&v38 objects:v46 count:16];
  if (v14)
  {
    uint64_t v15 = v14;
    uint64_t v16 = *(void *)v39;
    do
    {
      for (uint64_t i = 0; i != v15; ++i)
      {
        if (*(void *)v39 != v16) {
          objc_enumerationMutation(v13);
        }
        uint64_t v18 = [v6 objectForKeyedSubscript:*(void *)(*((void *)&v38 + 1) + 8 * i)];
        [v2 unionIndexPathSet:v18];
      }
      uint64_t v15 = [v13 countByEnumeratingWithState:&v38 objects:v46 count:16];
    }
    while (v15);
  }

LABEL_15:
  id v19 = objc_alloc((Class)off_1E5DA84E8);
  __int16 v20 = [v1 dataSource];
  id v21 = (void *)[v19 initWithDataSource:v20 selectedIndexPaths:v2];

  return v21;
}

void __PXDeduplicationIdenticalSelectionFromSelection_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  uint64_t v7 = *(void **)(a1 + 32);
  uint64_t v16 = a2;
  uint64_t v17 = a3;
  int64x2_t v18 = vdupq_n_s64(0x7FFFFFFFFFFFFFFFuLL);
  id v8 = a4;
  uint64_t v9 = [v7 assetCollectionAtSectionIndexPath:&v16];
  id v10 = objc_msgSend(off_1E5DA6F50, "indexPathSetWithItemIndexes:dataSourceIdentifier:section:", v8, a2, a3, v16, v17);

  id v11 = *(void **)(a1 + 40);
  uint64_t v12 = [v9 uuid];
  id v13 = [v11 objectForKeyedSubscript:v12];

  if (v13) {
    PXAssertGetLog();
  }
  uint64_t v14 = *(void **)(a1 + 40);
  uint64_t v15 = [v9 uuid];
  [v14 setObject:v10 forKeyedSubscript:v15];
}

id PXDeduplicationLocalizedMergeConfirmationMessageWithSharedLibraryWarning(void *a1, int a2, int a3, int a4)
{
  uint64_t v7 = [a1 sectionIndexPathsContainingSelection];
  uint64_t v8 = [v7 count];

  if (a2)
  {
    uint64_t v9 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_WARNING_MULTIPLE";
    if (v8 == 1) {
      uint64_t v9 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_WARNING_SINGLE";
    }
    id v10 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_WARNING_MULTIPLE_BOTH_LIBRARIES";
    if (v8 == 1) {
      id v10 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_WARNING_SINGLE_BOTH_LIBRARIES";
    }
    id v11 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_WARNING_MULTIPLE";
    uint64_t v12 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_WARNING_SINGLE";
    if (a4) {
      uint64_t v9 = v10;
    }
    BOOL v13 = v8 == 1;
    uint64_t v14 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_WARNING_MULTIPLE_BOTH_LIBRARIES";
    uint64_t v15 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_WARNING_SINGLE_BOTH_LIBRARIES";
  }
  else
  {
    uint64_t v9 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_MULTIPLE";
    if (v8 == 1) {
      uint64_t v9 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_SINGLE";
    }
    uint64_t v16 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_MULTIPLE_BOTH_LIBRARIES";
    if (v8 == 1) {
      uint64_t v16 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_PERCEPTUAL_SINGLE_BOTH_LIBRARIES";
    }
    id v11 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_MULTIPLE";
    uint64_t v12 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_SINGLE";
    if (a4) {
      uint64_t v9 = v16;
    }
    BOOL v13 = v8 == 1;
    uint64_t v14 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_MULTIPLE_BOTH_LIBRARIES";
    uint64_t v15 = @"MERGE_DUPLICATES_ACTION_CONFIRMATION_MESSAGE_IDENTICAL_SINGLE_BOTH_LIBRARIES";
  }
  if (v13)
  {
    id v11 = v12;
    uint64_t v14 = v15;
  }
  if (!a4) {
    uint64_t v14 = v11;
  }
  if (a3) {
    uint64_t v17 = v14;
  }
  else {
    uint64_t v17 = v9;
  }
  int64x2_t v18 = PXLocalizedStringFromTable(v17, @"PhotosUICore");
  return v18;
}

id PXDeduplicationLocalizedMergeConfirmationMessage(void *a1, int a2, int a3)
{
  id v5 = a1;
  id v6 = [v5 firstObject];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v7 = [v5 firstObject];

    if (!v7)
    {
      BOOL v13 = 0;
      goto LABEL_13;
    }
    uint64_t v8 = [v7 photoLibrary];
    uint64_t v9 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v8];

    if ([v9 hasSharedLibraryOrPreview])
    {
      id v10 = [v5 allObjectsEnumerator];
      id v11 = _PXSharedLibraryFetchAssetsFromAssets(v10, 0, 1, 0);
      if ([v11 count])
      {
        uint64_t v12 = [v11 count];
        BOOL v13 = v12 != [v10 count];
      }
      else
      {
        BOOL v13 = 0;
      }
    }
    else
    {
      BOOL v13 = 0;
    }
  }
  else
  {
    BOOL v13 = 0;
    uint64_t v7 = v6;
  }

LABEL_13:
  uint64_t v14 = PXDeduplicationLocalizedMergeConfirmationMessageWithSharedLibraryWarning(v5, a2, a3, v13);

  return v14;
}

id PXDeduplicationLocalizedMergeActionTitleForSelection(void *a1, int a2)
{
  id v3 = PXDeduplicationAssetsThatCanBeMergedInSelection(a1);
  id v4 = [v3 selectedIndexPaths];
  unint64_t v5 = [v4 count];

  if (v5 > 1)
  {
    if (a2) {
      uint64_t v7 = @"MERGE_%ld_DUPLICATES_ACTION_FORMAT_SHORT";
    }
    else {
      uint64_t v7 = @"MERGE_%ld_DUPLICATES_ACTION_FORMAT";
    }
    uint64_t v8 = PXLocalizedStringFromTable(v7, @"PhotosUICore");
    id v6 = PXLocalizedStringWithValidatedFormat(v8, @"%ld");
  }
  else
  {
    id v6 = PXLocalizedStringFromTable(@"MERGE_DUPLICATES_SELECT_ACTION", @"PhotosUICore");
  }
  return v6;
}

uint64_t PXDeduplicationEntireDuplicatesGroupsAreSelected(void *a1)
{
  id v1 = a1;
  uint64_t v9 = 0;
  id v10 = &v9;
  uint64_t v11 = 0x2020000000;
  char v12 = 1;
  id v2 = [v1 selectedIndexPaths];
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  v6[2] = __PXDeduplicationEntireDuplicatesGroupsAreSelected_block_invoke;
  v6[3] = &unk_1E5DB4A30;
  id v3 = v1;
  id v7 = v3;
  uint64_t v8 = &v9;
  [v2 enumerateItemIndexSetsUsingBlock:v6];

  uint64_t v4 = *((unsigned __int8 *)v10 + 24);
  _Block_object_dispose(&v9, 8);

  return v4;
}

void sub_1AAA87100(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXDeduplicationEntireDuplicatesGroupsAreSelected_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, unsigned char *a5)
{
  uint64_t v8 = *(void **)(a1 + 32);
  id v9 = a4;
  id v10 = [v8 dataSource];
  uint64_t v11 = [v10 numberOfItemsInSection:a3];

  uint64_t v12 = [v9 count];
  if (v11 != v12)
  {
    *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 0;
    *a5 = 1;
  }
}

BOOL PXDeduplicationCanEnableMergeActionForSelection(void *a1)
{
  id v1 = PXDeduplicationAssetsThatCanBeMergedInSelection(a1);
  id v2 = [v1 selectedIndexPaths];
  BOOL v3 = [v2 count] > 1;

  return v3;
}

id PXDeduplicationPhotosViewConfiguration(void *a1, void *a2, int a3)
{
  v42[1] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v40 = a2;
  id v6 = v5;
  if (v6)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_3;
    }
    id v24 = [MEMORY[0x1E4F28B00] currentHandler];
    id v25 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXDeduplicationPhotosViewConfiguration(PHAssetCollection *__strong _Nonnull, PXSelectionCoordinator *__strong _Nullable, BOOL)");
    uint64_t v32 = (objc_class *)objc_opt_class();
    uint64_t v27 = NSStringFromClass(v32);
    uint64_t v33 = objc_msgSend(v6, "px_descriptionForAssertionMessage");
    [v24 handleFailureInFunction:v25, @"PXDeduplicationUtilities.m", 185, @"%@ should be an instance inheriting from %@, but it is %@", @"containerCollection", v27, v33 file lineNumber description];
  }
  else
  {
    id v24 = [MEMORY[0x1E4F28B00] currentHandler];
    id v25 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXDeduplicationPhotosViewConfiguration(PHAssetCollection *__strong _Nonnull, PXSelectionCoordinator *__strong _Nullable, BOOL)");
    id v26 = (objc_class *)objc_opt_class();
    uint64_t v27 = NSStringFromClass(v26);
    [v24 handleFailureInFunction:v25, @"PXDeduplicationUtilities.m", 185, @"%@ should be an instance inheriting from %@, but it is nil", @"containerCollection", v27 file lineNumber description];
  }

LABEL_3:
  long long v39 = [v6 photoLibrary];
  id v7 = [v39 librarySpecificFetchOptions];
  [v7 setIncludeDuplicatesAlbums:1];
  uint64_t v8 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"startDate" ascending:a3 ^ 1u];
  v42[0] = v8;
  uint64_t v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v42 count:1];
  [v7 setSortDescriptors:v9];

  id v10 = +[PXDuplicatesSettings sharedInstance];
  LOBYTE(v9) = [v10 showDuplicateGroupsWithASingleAsset];

  if ((v9 & 1) == 0)
  {
    uint64_t v11 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K > 1", @"cachedCount");
    [v7 setInternalPredicate:v11];
  }
  uint64_t v12 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:1 subtype:1000000601 options:v7];
  uint64_t v13 = *MEMORY[0x1E4F39558];
  v41[0] = *MEMORY[0x1E4F394E8];
  v41[1] = v13;
  uint64_t v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:v41 count:2];
  uint64_t v15 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v12, 0, v6, 0, v14, 0, v40, 0, 0, 0, a3, 0, 0);
  objc_msgSend(v15, "setAllowedActions:", objc_msgSend(v15, "allowedActions") | 0x804031);
  objc_msgSend(v15, "setAllowedActions:", objc_msgSend(v15, "allowedActions") & 0xFFFFFFFFFFFFFFFBLL);
  objc_msgSend(v15, "setAllowedBehaviors:", objc_msgSend(v15, "allowedBehaviors") | 0x20);
  [v15 setOneUpPresentationOrigin:44];
  [v15 setWantsContentFilterVisible:1];
  [v15 setWantsFileSizeBadge:1];
  [v15 setWantsFooterVisibleImmediately:1];
  [v15 setFooterVisibilityStyle:2];
  [v15 setShowsOnlyAssetsInSelectedItemSectionInOneUp:1];
  char v16 = [v39 isInitialDuplicateDetectorProcessingCompleted];
  uint64_t v17 = PXLocalizedStringFromTable(@"MERGE_DUPLICATES_FOOTER_DESCRIPTION", @"PhotosUICore");
  if ((v16 & 1) == 0)
  {
    int64x2_t v18 = PXLocalizationKeyByAddingDeviceModelSuffix(@"MERGE_DUPLICATES_FOOTER_PROCESSING_");
    id v19 = PXLocalizedStringFromTable(@"MERGE_DUPLICATES_FOOTER_DESCRIPTION_NEWPARAGRAPH_FORMAT", @"PhotosUICore");
    id v36 = PXLocalizedStringFromTable(v18, @"PhotosUICore");
    id v37 = v17;
    uint64_t v20 = PXStringWithValidatedFormat();

    uint64_t v17 = (void *)v20;
  }
  objc_msgSend(v15, "setFooterSubtitle:", v17, v36, v37);

  id v21 = [v15 assetActionManager];
  if (v21)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_9;
    }
    long long v38 = v14;
    uint64_t v28 = [MEMORY[0x1E4F28B00] currentHandler];
    id v29 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXDeduplicationPhotosViewConfiguration(PHAssetCollection *__strong _Nonnull, PXSelectionCoordinator *__strong _Nullable, BOOL)");
    uint64_t v34 = (objc_class *)objc_opt_class();
    id v31 = NSStringFromClass(v34);
    id v35 = objc_msgSend(v21, "px_descriptionForAssertionMessage");
    [v28 handleFailureInFunction:v29, @"PXDeduplicationUtilities.m", 220, @"%@ should be an instance inheriting from %@, but it is %@", @"config.assetActionManager", v31, v35 file lineNumber description];
  }
  else
  {
    long long v38 = v14;
    uint64_t v28 = [MEMORY[0x1E4F28B00] currentHandler];
    id v29 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXDeduplicationPhotosViewConfiguration(PHAssetCollection *__strong _Nonnull, PXSelectionCoordinator *__strong _Nullable, BOOL)");
    id v30 = (objc_class *)objc_opt_class();
    id v31 = NSStringFromClass(v30);
    [v28 handleFailureInFunction:v29, @"PXDeduplicationUtilities.m", 220, @"%@ should be an instance inheriting from %@, but it is nil", @"config.assetActionManager", v31 file lineNumber description];
  }

  uint64_t v14 = v38;
LABEL_9:
  uint64_t v22 = objc_alloc_init(PXDuplicatesRadarConfigurationProvider);
  [v21 setRadarConfigurationProvider:v22];

  return v15;
}

void PXDeduplicationSendMergeAnalytics(uint64_t a1, uint64_t a2)
{
  objc_msgSend(MEMORY[0x1E4F56658], "bucketNameForInteger:bucketLimits:", a1, 1, 2, 5, 10, 0);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  if (a1 >= 11 && a1 == a2) {
    uint64_t v4 = @"com.apple.photos.CPAnalytics.deduplicationMergeAll";
  }
  else {
    uint64_t v4 = (__CFString *)[[NSString alloc] initWithFormat:@"com.apple.photos.CPAnalytics.deduplicationMerge%@", v5];
  }
  [MEMORY[0x1E4F56658] sendEvent:v4 withPayload:MEMORY[0x1E4F1CC08]];
}

uint64_t PXDeduplicationSendEventAnalytics(unint64_t a1)
{
  if (a1 > 3) {
    id v1 = 0;
  }
  else {
    id v1 = off_1E5DB1498[a1];
  }
  return [MEMORY[0x1E4F56658] sendEvent:v1 withPayload:MEMORY[0x1E4F1CC08]];
}

uint64_t PXDeduplicationSendMergeUISourceAnalytics(unint64_t a1)
{
  if (a1 > 4) {
    id v1 = 0;
  }
  else {
    id v1 = off_1E5DB14B8[a1];
  }
  return [MEMORY[0x1E4F56658] sendEvent:v1 withPayload:MEMORY[0x1E4F1CC08]];
}

id PXDeduplicationLocalizedGroupTitle(void *a1, uint64_t a2)
{
  uint64_t v19 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  uint64_t v4 = [v3 startDate];
  id v5 = [v3 endDate];
  id v6 = _FormatedDateString(v4);
  if (v6)
  {
    if (!v5
      || ([v4 isEqualToDate:v5] & 1) != 0
      || ([MEMORY[0x1E4F1C9A8] currentCalendar],
          id v7 = objc_claimAutoreleasedReturnValue(),
          int v8 = [v7 isDate:v4 inSameDayAsDate:v5],
          v7,
          v8))
    {
      id v9 = v6;
    }
    else
    {
      uint64_t v11 = [v3 endDate];
      uint64_t v12 = _FormatedDateString(v11);

      if (v12)
      {
        if (a2 < 3) {
          PXLocalizedStringFromTable(@"PXDuplicateGroupTitleFormat_Dates_%@_And_%@", @"PhotosUICore");
        }
        else {
        uint64_t v13 = PXLocalizedStringFromTable(@"PXDuplicateGroupTitleFormat_Date_%@_And_More", @"PhotosUICore");
        }
        PXStringWithValidatedFormat();
        id v9 = (id)objc_claimAutoreleasedReturnValue();
      }
      else
      {
        id v9 = v6;
      }
    }
  }
  else
  {
    id v10 = PLDuplicateDetectionGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      id v16 = v3;
      __int16 v17 = 2048;
      uint64_t v18 = a2;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "PXDeduplicationLocalizedGroupTitle: Duplicates group %@ with count %td lacks a start date", buf, 0x16u);
    }

    id v9 = 0;
  }

  return v9;
}

id _FormatedDateString(void *a1)
{
  id v1 = a1;
  if (v1)
  {
    if (_FormatedDateString_onceToken != -1) {
      dispatch_once(&_FormatedDateString_onceToken, &__block_literal_global_24315);
    }
    id v2 = [(id)_FormatedDateString_dateFormatter stringFromDate:v1];
  }
  else
  {
    id v2 = 0;
  }

  return v2;
}

id PXDuplicateGroupingAssetIdentifiersFromSelection(void *a1)
{
  id v1 = a1;
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  id v3 = [v1 dataSource];
  if (v3)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_3;
    }
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = [NSString stringWithUTF8String:"NSArray<NSArray<NSString *> *> * _Nonnull PXDuplicateGroupingAssetIdentifiersFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    uint64_t v13 = (objc_class *)objc_opt_class();
    uint64_t v12 = NSStringFromClass(v13);
    uint64_t v14 = objc_msgSend(v3, "px_descriptionForAssertionMessage");
    [v9 handleFailureInFunction:v10, @"PXDeduplicationUtilities.m", 329, @"%@ should be an instance inheriting from %@, but it is %@", @"selectionSnapshot.dataSource", v12, v14 file lineNumber description];
  }
  else
  {
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = [NSString stringWithUTF8String:"NSArray<NSArray<NSString *> *> * _Nonnull PXDuplicateGroupingAssetIdentifiersFromSelection(PXSelectionSnapshot *__strong _Nonnull)"];
    uint64_t v11 = (objc_class *)objc_opt_class();
    uint64_t v12 = NSStringFromClass(v11);
    [v9 handleFailureInFunction:v10, @"PXDeduplicationUtilities.m", 329, @"%@ should be an instance inheriting from %@, but it is nil", @"selectionSnapshot.dataSource", v12 file lineNumber description];
  }

LABEL_3:
  uint64_t v4 = [v1 selectedIndexPaths];
  v15[0] = MEMORY[0x1E4F143A8];
  v15[1] = 3221225472;
  v15[2] = __PXDuplicateGroupingAssetIdentifiersFromSelection_block_invoke;
  v15[3] = &unk_1E5DC2550;
  id v16 = v3;
  id v17 = v2;
  id v5 = v2;
  id v6 = v3;
  [v4 enumerateItemIndexSetsUsingBlock:v15];

  id v7 = (void *)[v5 copy];
  return v7;
}

void __PXDuplicateGroupingAssetIdentifiersFromSelection_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  id v7 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v8 = a4;
  id v9 = objc_alloc_init(v7);
  uint64_t v11 = MEMORY[0x1E4F143A8];
  uint64_t v12 = 3221225472;
  uint64_t v13 = __PXDuplicateGroupingAssetIdentifiersFromSelection_block_invoke_2;
  uint64_t v14 = &unk_1E5DB1478;
  uint64_t v17 = a2;
  uint64_t v18 = a3;
  id v15 = *(id *)(a1 + 32);
  id v10 = v9;
  id v16 = v10;
  [v8 enumerateIndexesUsingBlock:&v11];

  if ((unint64_t)objc_msgSend(v10, "count", v11, v12, v13, v14) >= 2) {
    [*(id *)(a1 + 40) addObject:v10];
  }
}

void __PXDuplicateGroupingAssetIdentifiersFromSelection_block_invoke_2(uint64_t a1, uint64_t a2)
{
  id v3 = *(void **)(a1 + 32);
  long long v7 = *(_OWORD *)(a1 + 48);
  uint64_t v8 = a2;
  uint64_t v9 = 0x7FFFFFFFFFFFFFFFLL;
  uint64_t v4 = [v3 objectAtIndexPath:&v7];
  id v5 = *(void **)(a1 + 40);
  id v6 = [v4 localIdentifier];
  [v5 addObject:v6];
}

void sub_1AAA884A4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA897AC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA8A1A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

void sub_1AAA8A77C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXAddEdgeOverlaySubviewsToWorkAround53118165(void *a1, double a2, double a3, double a4, double a5)
{
  id v9 = a1;
  id v10 = +[PXWorkaroundSettings sharedInstance];
  int v11 = [v10 shouldWorkAround53118165];

  if (v11)
  {
    uint64_t v12 = (void *)[objc_alloc(MEMORY[0x1E4F1CA48]) initWithCapacity:2];
    uint64_t v17 = MEMORY[0x1E4F143A8];
    uint64_t v18 = 3221225472;
    uint64_t v19 = __PXAddEdgeOverlaySubviewsToWorkAround53118165_block_invoke;
    uint64_t v20 = &unk_1E5DB1650;
    double v23 = a2;
    double v24 = a3;
    double v25 = a4;
    double v26 = a5;
    id v21 = v9;
    id v22 = v12;
    id v13 = v12;
    uint64_t v14 = (void (**)(void *, uint64_t))_Block_copy(&v17);
    v14[2](v14, 1);
    v14[2](v14, 3);
    id v15 = objc_msgSend(v13, "copy", v17, v18, v19, v20);
  }
  else
  {
    id v15 = 0;
  }

  return v15;
}

void __PXAddEdgeOverlaySubviewsToWorkAround53118165_block_invoke()
{
  v4[2] = *MEMORY[0x1E4F143B8];
  uint64_t v0 = objc_alloc_init(PXGradientView);
  uint64_t v1 = [MEMORY[0x1E4FB1618] systemBackgroundColor];
  id v2 = [v1 colorWithAlphaComponent:0.0];
  v4[0] = v2;
  v4[1] = v1;
  id v3 = [MEMORY[0x1E4F1C978] arrayWithObjects:v4 count:2];
  [(PXGradientView *)v0 setColors:v3];

  PXRectEdgeValue();
}

void *PXDisplayAssetCollectionCurationKindPossibleValues()
{
  return &unk_1F02D3478;
}

__CFString *PXDisplayAssetCollectionCurationKindDescription(unint64_t a1)
{
  if (a1 >= 6)
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXDisplayAssetCollectionCurationKindDescription(PXDisplayAssetCollectionCurationKind)"];
    [v2 handleFailureInFunction:v3 file:@"PXDisplayAssetCollectionCurationKind.m" lineNumber:39 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DB1670[a1];
}

void sub_1AAA8C440(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__24985(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__24986(uint64_t a1)
{
}

id getMFMailComposeViewControllerClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  uint64_t v0 = (void *)getMFMailComposeViewControllerClass_softClass;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass;
  if (!getMFMailComposeViewControllerClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke;
    v3[3] = &unk_1E5DD2B08;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke((uint64_t)v3);
    uint64_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAA8D8B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB16C8;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSettingsGraphExportViewController.m", 19, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSettingsGraphExportViewController.m", 20, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAA8FA18(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

id _PXItemProviderTemporaryURL(void *a1, void *a2)
{
  id v3 = (void *)MEMORY[0x1E4F29128];
  id v4 = a2;
  id v5 = a1;
  uint64_t v6 = [v3 UUID];
  long long v7 = [v6 UUIDString];

  uint64_t v8 = [v5 pathExtension];

  uint64_t v9 = [v7 stringByAppendingPathExtension:v8];

  id v10 = (void *)MEMORY[0x1E4F1CB10];
  int v11 = [v4 temporaryDragAndDropDirectoryCreateIfNeeded:1 error:0];

  uint64_t v12 = [v10 fileURLWithPath:v11 isDirectory:1];

  id v13 = [v12 URLByAppendingPathComponent:v9];

  return v13;
}

void sub_1AAA93590(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA939F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

uint64_t __Block_byref_object_copy__26369(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__26370(uint64_t a1)
{
}

id PXItemProviderFromAsset(void *a1)
{
  uint64_t v28 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = objc_alloc_init(MEMORY[0x1E4F28D78]);
  id v23 = 0;
  id v3 = [MEMORY[0x1E4F38F38] exportRequestForAsset:v1 error:&v23];
  id v4 = v23;
  id v5 = [v3 variants];
  uint64_t v6 = v5;
  if (v3 && [v5 count])
  {
    uint64_t v7 = [v1 playbackStyle];
    if (v7 == 3)
    {
      uint64_t v8 = PFCurrentPlatformLivePhotoBundleType();
      uint64_t v9 = [v8 identifier];
      v19[0] = MEMORY[0x1E4F143A8];
      v19[1] = 3221225472;
      v19[2] = __PXItemProviderFromAsset_block_invoke;
      v19[3] = &unk_1E5DB1938;
      id v20 = v6;
      id v21 = v3;
      id v22 = v1;
      [v2 registerFileRepresentationForTypeIdentifier:v9 fileOptions:0 visibility:1 loadHandler:v19];
    }
    v14[0] = MEMORY[0x1E4F143A8];
    v14[1] = 3221225472;
    v14[2] = __PXItemProviderFromAsset_block_invoke_258;
    v14[3] = &unk_1E5DB1988;
    id v15 = v6;
    id v16 = v1;
    uint64_t v18 = v7;
    id v17 = v3;
    id v10 = (void (**)(void *, id, void *))_Block_copy(v14);
    v10[2](v10, v2, &unk_1F02D6010);
    v10[2](v10, v2, &unk_1F02D6028);
    v10[2](v10, v2, &unk_1F02D6040);
    id v11 = v2;

    uint64_t v12 = v15;
  }
  else
  {
    uint64_t v12 = PLUIGetLog();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      id v25 = v1;
      __int16 v26 = 2112;
      id v27 = v4;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "No export request for asset %@ with error %@.", buf, 0x16u);
    }
    id v11 = 0;
  }

  return v11;
}

id __PXItemProviderFromAsset_block_invoke(id *a1, void *a2)
{
  id v3 = a2;
  id v4 = objc_alloc_init(MEMORY[0x1E4F38F40]);
  [v4 setTreatLivePhotoAsStill:0];
  id v5 = [a1[4] objectForKeyedSubscript:&unk_1F02D6010];
  if (v5) {
    uint64_t v6 = 2;
  }
  else {
    uint64_t v6 = 1;
  }
  [v4 setVariant:v6];

  uint64_t v11 = MEMORY[0x1E4F143A8];
  uint64_t v12 = 3221225472;
  id v13 = __PXItemProviderFromAsset_block_invoke_252;
  uint64_t v14 = &unk_1E5DB1910;
  id v7 = a1[5];
  id v15 = a1[6];
  id v16 = v3;
  id v8 = v3;
  [v7 exportWithOptions:v4 completionHandler:&v11];
  uint64_t v9 = objc_msgSend(a1[5], "progress", v11, v12, v13, v14);

  return v9;
}

void __PXItemProviderFromAsset_block_invoke_258(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id v7 = [*(id *)(a1 + 32) objectForKeyedSubscript:v6];
  if (v7)
  {
    id v8 = [v5 registeredTypeIdentifiers];
    char v9 = [v8 containsObject:v7];

    if ((v9 & 1) == 0)
    {
      v13[0] = MEMORY[0x1E4F143A8];
      v13[1] = 3221225472;
      v13[2] = __PXItemProviderFromAsset_block_invoke_2_259;
      v13[3] = &unk_1E5DB1960;
      id v14 = *(id *)(a1 + 40);
      id v10 = v6;
      uint64_t v12 = *(void **)(a1 + 48);
      uint64_t v11 = *(void *)(a1 + 56);
      id v15 = v10;
      uint64_t v17 = v11;
      id v16 = v12;
      [v5 registerFileRepresentationForTypeIdentifier:v7 fileOptions:0 visibility:0 loadHandler:v13];
    }
  }
}

id __PXItemProviderFromAsset_block_invoke_2_259(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = [MEMORY[0x1E4F38F38] exportRequestForAsset:*(void *)(a1 + 32) error:0];
  id v5 = objc_alloc_init(MEMORY[0x1E4F38F40]);
  [v5 setTreatLivePhotoAsStill:1];
  [v5 setFlattenSlomoVideos:1];
  objc_msgSend(v5, "setVariant:", objc_msgSend(*(id *)(a1 + 40), "PHAssetExportRequestVariantValue"));
  uint64_t v10 = MEMORY[0x1E4F143A8];
  uint64_t v11 = 3221225472;
  uint64_t v12 = __PXItemProviderFromAsset_block_invoke_3;
  id v13 = &unk_1E5DD1780;
  uint64_t v6 = *(void *)(a1 + 56);
  id v14 = v3;
  uint64_t v15 = v6;
  id v7 = v3;
  [v4 exportWithOptions:v5 completionHandler:&v10];
  id v8 = objc_msgSend(*(id *)(a1 + 48), "progress", v10, v11, v12, v13);

  return v8;
}

void __PXItemProviderFromAsset_block_invoke_3(uint64_t a1, void *a2, void *a3)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(void *)(a1 + 40);
  if ((unint64_t)(v7 - 1) < 3)
  {
    id v8 = (void *)MEMORY[0x1E4F393D8];
LABEL_5:
    char v9 = [v5 objectForKeyedSubscript:*v8];
    if (!v6) {
      goto LABEL_15;
    }
    goto LABEL_12;
  }
  if ((unint64_t)(v7 - 4) < 2)
  {
    id v8 = (void *)MEMORY[0x1E4F393E0];
    goto LABEL_5;
  }
  if (!v7)
  {
    uint64_t v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      LOWORD(v12) = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Trying to drag unsupported playback style", (uint8_t *)&v12, 2u);
    }
  }
  char v9 = 0;
  if (v6)
  {
LABEL_12:
    uint64_t v11 = PLUIGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
    {
      int v12 = 138412290;
      id v13 = v6;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_ERROR, "Export request failed with error %@", (uint8_t *)&v12, 0xCu);
    }
  }
LABEL_15:
  (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXItemProviderFromAsset_block_invoke_252(uint64_t a1, void *a2, void *a3)
{
  v46[2] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  uint64_t v6 = *MEMORY[0x1E4F393D8];
  id v7 = a2;
  id v8 = [v7 objectForKeyedSubscript:v6];
  char v9 = [v7 objectForKeyedSubscript:*MEMORY[0x1E4F393E0]];

  if (v8) {
    BOOL v10 = v9 == 0;
  }
  else {
    BOOL v10 = 1;
  }
  if (!v10)
  {
    uint64_t v11 = *(void **)(a1 + 32);
    id v12 = v8;
    id v13 = [v11 photoLibrary];
    uint64_t v14 = [v13 pathManager];

    id v8 = _PXItemProviderTemporaryURL(v12, v14);

    uint64_t v15 = v14;
    id v16 = _PXItemProviderTemporaryURL(v9, v14);
    uint64_t v17 = [MEMORY[0x1E4F28CB8] defaultManager];
    id v43 = v5;
    id v36 = v12;
    int v18 = [v17 copyItemAtURL:v12 toURL:v8 error:&v43];
    id v19 = v43;

    if (v18)
    {
      id v20 = [MEMORY[0x1E4F28CB8] defaultManager];
      id v42 = v19;
      int v21 = [v20 copyItemAtURL:v9 toURL:v16 error:&v42];
      id v5 = v42;

      if (v21)
      {
        id v22 = [MEMORY[0x1E4F29128] UUID];
        id v23 = [v22 UUIDString];
        uint64_t v34 = [v23 stringByAppendingPathExtension:*MEMORY[0x1E4F8CED8]];

        double v24 = (void *)MEMORY[0x1E4F1CB10];
        id v25 = v15;
        __int16 v26 = [v15 temporaryDragAndDropDirectoryCreateIfNeeded:1 error:0];
        id v35 = [v24 fileURLWithPath:v26 isDirectory:1];

        id v27 = [v35 URLByAppendingPathComponent:v34];
        id v28 = objc_alloc(MEMORY[0x1E4F39140]);
        v46[0] = v8;
        v46[1] = v16;
        id v29 = [MEMORY[0x1E4F1C978] arrayWithObjects:v46 count:2];
        id v30 = (void *)[v28 initWithResourceFileURLs:v29];

        v37[0] = MEMORY[0x1E4F143A8];
        v37[1] = 3221225472;
        v37[2] = __PXItemProviderFromAsset_block_invoke_2;
        v37[3] = &unk_1E5DB18E8;
        id v41 = *(id *)(a1 + 40);
        id v38 = v8;
        id v39 = v16;
        id v40 = v27;
        id v31 = v27;
        id v32 = (id)[v30 writeToFileURL:v31 options:0 completionHandler:v37];

LABEL_14:
        goto LABEL_15;
      }
    }
    else
    {
      id v5 = v19;
    }
    id v25 = v15;
    uint64_t v33 = PLUIGetLog();
    if (os_log_type_enabled(v33, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      id v45 = v5;
      _os_log_impl(&dword_1A9AE7000, v33, OS_LOG_TYPE_ERROR, "Resource cloning failed with error: %@", buf, 0xCu);
    }

    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
    goto LABEL_14;
  }
  (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  id v16 = v9;
LABEL_15:
}

void __PXItemProviderFromAsset_block_invoke_2(void *a1, void *a2)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  id v4 = [v3 objectForKeyedSubscript:*MEMORY[0x1E4F39748]];
  if (v4)
  {
    id v5 = PLUIGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      id v22 = v4;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "Live Photo export session failed with error: %@", buf, 0xCu);
    }
  }
  uint64_t v6 = a1[7];
  id v7 = [v3 objectForKeyedSubscript:*MEMORY[0x1E4F39740]];
  (*(void (**)(uint64_t, void *, void, void *))(v6 + 16))(v6, v7, 0, v4);

  id v8 = [MEMORY[0x1E4F28CB8] defaultManager];
  uint64_t v9 = a1[4];
  id v20 = 0;
  [v8 removeItemAtURL:v9 error:&v20];
  id v10 = v20;

  uint64_t v11 = [MEMORY[0x1E4F28CB8] defaultManager];
  uint64_t v12 = a1[5];
  id v19 = v10;
  [v11 removeItemAtURL:v12 error:&v19];
  id v13 = v19;

  uint64_t v14 = [MEMORY[0x1E4F28CB8] defaultManager];
  uint64_t v15 = a1[6];
  id v18 = v13;
  [v14 removeItemAtURL:v15 error:&v18];
  id v16 = v18;

  if (v16)
  {
    uint64_t v17 = PLUIGetLog();
    if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      id v22 = v16;
      _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_ERROR, "Error cleaning up resources: %@", buf, 0xCu);
    }
  }
}

id _DateForAsset(void *a1, char a2)
{
  if (a2) {
    [a1 localCreationDate];
  }
  else {
  id v2 = [a1 creationDate];
  }
  return v2;
}

void sub_1AAA9616C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
}

uint64_t __Block_byref_object_copy__26624(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__26625(uint64_t a1)
{
}

void sub_1AAA99274(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AAA9A694(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__27004(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__27005(uint64_t a1)
{
}

void sub_1AAA9B55C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAA9B678(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXContentSyndicationCountsControllerGetLog()
{
  if (PXContentSyndicationCountsControllerGetLog_predicate != -1) {
    dispatch_once(&PXContentSyndicationCountsControllerGetLog_predicate, &__block_literal_global_27236);
  }
  uint64_t v0 = (void *)PXContentSyndicationCountsControllerGetLog_log;
  return v0;
}

void __PXContentSyndicationCountsControllerGetLog_block_invoke()
{
  os_log_t v0 = os_log_create((const char *)*MEMORY[0x1E4F8A240], "ContentSyndicationCountsController");
  uint64_t v1 = (void *)PXContentSyndicationCountsControllerGetLog_log;
  PXContentSyndicationCountsControllerGetLog_log = (uint64_t)v0;
}

void sub_1AAA9E070(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__27921(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__27922(uint64_t a1)
{
}

void sub_1AAAA1A50(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAA1D48(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAAA1FC0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAA3D98(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAA7E54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAA98B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a31, 8);
  _Block_object_dispose((const void *)(v31 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__29136(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__29137(uint64_t a1)
{
}

BOOL PXDisplayCollectionIsMomentShare(void *a1, BOOL *a2)
{
  id v3 = a1;
  if (!v3)
  {
    uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXDisplayCollectionIsMomentShare(__strong id<PXDisplayCollection> _Nonnull, BOOL * _Nonnull)");
    [v9 handleFailureInFunction:v10, @"PXPHDisplayCollectionUtilities.m", 18, @"Invalid parameter not satisfying: %@", @"collection" file lineNumber description];
  }
  id v4 = v3;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    id v5 = v4;

    BOOL v6 = v5 != 0;
    if (a2 && v5)
    {
      id v5 = v5;
      BOOL v7 = [v5 status] == 3;

      *a2 = v7;
      BOOL v6 = 1;
    }
  }
  else
  {

    BOOL v6 = 0;
    id v5 = 0;
  }

  return v6;
}

uint64_t PXDisplayCollectionSupportsSavingMomentShareAssetsToLibrary(void *a1, void *a2, uint64_t *a3, uint64_t a4)
{
  id v7 = a1;
  id v8 = a2;
  uint64_t v9 = v8;
  if (!v7)
  {
    uint64_t v14 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v15 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXDisplayCollectionSupportsSavingMomentShareAssetsToLibrary(__strong id<PXDisplayCollection> _Nonnull, __strong id<PXFastEnumeration> _Nonnull, NSUInteger * _Nullable, PXDisplayAssetMediaType * _Nullable)");
    [v14 handleFailureInFunction:v15, @"PXPHDisplayCollectionUtilities.m", 30, @"Invalid parameter not satisfying: %@", @"collection" file lineNumber description];

    if (v9) {
      goto LABEL_3;
    }
LABEL_11:
    id v16 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v17 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXDisplayCollectionSupportsSavingMomentShareAssetsToLibrary(__strong id<PXDisplayCollection> _Nonnull, __strong id<PXFastEnumeration> _Nonnull, NSUInteger * _Nullable, PXDisplayAssetMediaType * _Nullable)");
    [v16 handleFailureInFunction:v17, @"PXPHDisplayCollectionUtilities.m", 31, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

    goto LABEL_3;
  }
  if (!v8) {
    goto LABEL_11;
  }
LABEL_3:
  id v10 = v7;
  if (!objc_opt_class() || (objc_opt_isKindOfClass() & 1) == 0)
  {

    goto LABEL_8;
  }
  id v11 = v10;

  if (!v7)
  {
LABEL_8:
    id v11 = 0;
    uint64_t v12 = 0;
    goto LABEL_9;
  }
  uint64_t v12 = PXMomentShareSupportsSavingAssetsToLibrary(v11, v9, a3, a4);
LABEL_9:

  return v12;
}

id PXDisplayCollectionGetLocalizedSubtitleWithoutDelimiters(void *a1)
{
  uint64_t v1 = [a1 localizedSubtitle];
  uint64_t v2 = [v1 stringByReplacingOccurrencesOfString:*MEMORY[0x1E4F8AD88] withString:&stru_1F00B0030];

  return v2;
}

uint64_t __Block_byref_object_copy__29683(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__29684(uint64_t a1)
{
}

void sub_1AAAAE128(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAAE688(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAB06E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location,id a22)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a22);
  _Unwind_Resume(a1);
}

void sub_1AAAB34E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, char a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41)
{
}

void sub_1AAAB87D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getCKFullScreenEffectManagerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!ChatKitLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __ChatKitLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB2310;
    uint64_t v8 = 0;
    ChatKitLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!ChatKitLibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"void *ChatKitLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSurveyQuestionsCongratulationsGadgetContentView.m", 34, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("CKFullScreenEffectManager");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getCKFullScreenEffectManagerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSurveyQuestionsCongratulationsGadgetContentView.m", 35, @"Unable to find class %s", "CKFullScreenEffectManager");

LABEL_10:
    __break(1u);
  }
  getCKFullScreenEffectManagerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __ChatKitLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ChatKitLibraryCore_frameworkLibrary = result;
  return result;
}

uint64_t PXIsOLEDDevice()
{
  if (PXIsOLEDDevice_onceToken != -1) {
    dispatch_once(&PXIsOLEDDevice_onceToken, &__block_literal_global_31804);
  }
  return PXIsOLEDDevice_isOLEDDevice;
}

BOOL PXUserAllowFullHDR()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"shouldModulateImages", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 0;
  }
  return !v1;
}

void sub_1AAABC10C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id _SynchronousThumbnailImagesForAssets(void *a1)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [MEMORY[0x1E4F8B918] defaultFormatChooser];
  uint64_t v15 = [v2 masterThumbnailFormat];

  objc_msgSend(v15, "sizeWithFallBackSize:", 256.0, 256.0);
  double v4 = v3;
  double v6 = v5;
  id v7 = objc_alloc_init(MEMORY[0x1E4F390D8]);
  [v7 setSynchronous:1];
  uint64_t v22 = 0;
  uint64_t v23 = &v22;
  uint64_t v24 = 0x3032000000;
  id v25 = __Block_byref_object_copy__32531;
  __int16 v26 = __Block_byref_object_dispose__32532;
  id v27 = [MEMORY[0x1E4F1CA48] array];
  long long v18 = 0u;
  long long v19 = 0u;
  long long v20 = 0u;
  long long v21 = 0u;
  id obj = v1;
  uint64_t v8 = [obj countByEnumeratingWithState:&v18 objects:v28 count:16];
  if (v8)
  {
    uint64_t v9 = *(void *)v19;
    do
    {
      for (uint64_t i = 0; i != v8; ++i)
      {
        if (*(void *)v19 != v9) {
          objc_enumerationMutation(obj);
        }
        uint64_t v11 = *(void *)(*((void *)&v18 + 1) + 8 * i);
        uint64_t v12 = [MEMORY[0x1E4F390D0] defaultManager];
        v17[0] = MEMORY[0x1E4F143A8];
        v17[1] = 3221225472;
        v17[2] = ___SynchronousThumbnailImagesForAssets_block_invoke;
        v17[3] = &unk_1E5DD00D8;
        v17[4] = &v22;
        objc_msgSend(v12, "requestImageForAsset:targetSize:contentMode:options:resultHandler:", v11, 1, v7, v17, v4, v6);
      }
      uint64_t v8 = [obj countByEnumeratingWithState:&v18 objects:v28 count:16];
    }
    while (v8);
  }

  id v13 = (void *)[(id)v23[5] copy];
  _Block_object_dispose(&v22, 8);

  return v13;
}

void sub_1AAABF004(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__32531(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__32532(uint64_t a1)
{
}

id PKPlacesKitGetLog()
{
  if (PKPlacesKitGetLog_predicate != -1) {
    dispatch_once(&PKPlacesKitGetLog_predicate, &__block_literal_global_33062);
  }
  os_log_t v0 = (void *)PKPlacesKitGetLog_log;
  return v0;
}

void __PKPlacesKitGetLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.PlacesKit", "PlacesKit");
  id v1 = (void *)PKPlacesKitGetLog_log;
  PKPlacesKitGetLog_log = (uint64_t)v0;
}

void sub_1AAAC1020(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getAIDAServiceTypeCloudSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = AppleIDSSOAuthenticationLibrary();
  uint64_t result = dlsym(v2, "AIDAServiceTypeCloud");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getAIDAServiceTypeCloudSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *AppleIDSSOAuthenticationLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!AppleIDSSOAuthenticationLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __AppleIDSSOAuthenticationLibraryCore_block_invoke;
    v4[4] = &__block_descriptor_40_e5_v8__0l;
    v4[5] = v4;
    long long v5 = xmmword_1E5DB2400;
    uint64_t v6 = 0;
    AppleIDSSOAuthenticationLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  os_log_t v0 = (void *)AppleIDSSOAuthenticationLibraryCore_frameworkLibrary;
  if (!AppleIDSSOAuthenticationLibraryCore_frameworkLibrary)
  {
    os_log_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    double v3 = [NSString stringWithUTF8String:"void *AppleIDSSOAuthenticationLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharedLibraryLegacyDevicesRemoteController+iOS.m", 24, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __AppleIDSSOAuthenticationLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  AppleIDSSOAuthenticationLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAAC14F4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAC1830(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getAAUIGrandSlamRemoteUIPresenterClass_block_invoke(uint64_t a1)
{
  AppleIDSSOAuthenticationLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("AAUIGrandSlamRemoteUIPresenter");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getAAUIGrandSlamRemoteUIPresenterClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    double v3 = [NSString stringWithUTF8String:"Class getAAUIGrandSlamRemoteUIPresenterClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharedLibraryLegacyDevicesRemoteController+iOS.m", 26, @"Unable to find class %s", "AAUIGrandSlamRemoteUIPresenter");

    __break(1u);
  }
}

void sub_1AAAC1A60(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getAIDAAccountManagerClass_block_invoke(uint64_t a1)
{
  AppleIDSSOAuthenticationLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("AIDAAccountManager");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getAIDAAccountManagerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    double v3 = [NSString stringWithUTF8String:"Class getAIDAAccountManagerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharedLibraryLegacyDevicesRemoteController+iOS.m", 25, @"Unable to find class %s", "AIDAAccountManager");

    __break(1u);
  }
}

__CFString *PXStoryAnimationCurveDescription(unint64_t a1)
{
  if (a1 > 6) {
    return @"??";
  }
  else {
    return off_1E5DB2448[a1];
  }
}

void *PXStoryAnimationCurvePossibleValues()
{
  return &unk_1F02D35C8;
}

double PXStoryAnimationCurveGetProgress(uint64_t a1, uint64_t a2, CMTime *a3, CMTime *a4)
{
  CMTime v10 = *a4;
  double Seconds = CMTimeGetSeconds(&v10);
  double v8 = 0.0;
  if (Seconds > 0.0)
  {
    CMTime v10 = *a3;
    double v8 = CMTimeGetSeconds(&v10) / Seconds;
  }
  switch(a1)
  {
    case 0:
      PXAssertGetLog();
    case 2:
      double v8 = fmin(v8, 1.0);
      break;
    case 3:
      for (; v8 > 1.0; double v8 = v8 + -1.0)
        ;
      break;
    case 4:
      double v8 = tanh(v8);
      break;
    case 5:
      if (v8 <= 1.0) {
        double v8 = v8 * *(double *)&a2;
      }
      else {
        double v8 = *(double *)&a2 + tanh((v8 + -1.0) * *(double *)&a2 / (1.0 - *(double *)&a2)) * (1.0 - *(double *)&a2);
      }
      break;
    case 6:
      double v8 = v8 * (2.0 - v8);
      break;
    default:
      return v8;
  }
  return v8;
}

id PXMessageForMomentShareURL(void *a1)
{
  uint64_t v35 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (PLIsMobileSlideShow())
  {
    uint64_t v2 = PXFetchAssetCollectionForCMMShareURL(v1, 0, 0);
    double v3 = [v2 firstObject];

    if (v3 && [v3 assetCollectionType] == 7)
    {
      uint64_t v27 = 0;
      id v28 = &v27;
      uint64_t v29 = 0x2050000000;
      double v4 = (void *)getMSMessageTemplateLayoutClass_softClass;
      uint64_t v30 = getMSMessageTemplateLayoutClass_softClass;
      if (!getMSMessageTemplateLayoutClass_softClass)
      {
        *(void *)&long long buf = MEMORY[0x1E4F143A8];
        *((void *)&buf + 1) = 3221225472;
        id v32 = __getMSMessageTemplateLayoutClass_block_invoke;
        uint64_t v33 = &unk_1E5DD2B08;
        uint64_t v34 = &v27;
        __getMSMessageTemplateLayoutClass_block_invoke((uint64_t)&buf);
        double v4 = (void *)v28[3];
      }
      id v5 = v4;
      _Block_object_dispose(&v27, 8);
      uint64_t v6 = objc_alloc_init((Class)v5);
      id v25 = 0;
      id v26 = 0;
      PXCMMTitleAndSubtitleForAssetCollection(v3, &v26, &v25);
      id v7 = v26;
      id v8 = v25;
      uint64_t v9 = [v3 assetCount];
      CMTime v10 = [v3 preview];
      uint64_t v11 = [v10 previewImageData];
      uint64_t v12 = [v11 firstObject];

      [v6 setCaption:v7];
      id v13 = PXLocalizedAssetCountForUsage(v9, [v3 aggregateMediaType], 0, 0);
      [v6 setSubcaption:v13];
      if (v12)
      {
        uint64_t v14 = [MEMORY[0x1E4FB1818] imageWithData:v12];
        [v6 setImage:v14];
      }
      uint64_t v15 = 0;
      if (v7 && v13)
      {
        uint64_t v16 = PXLocalizedStringFromTable(@"PXMessagesNotificationSummaryFormat", @"PhotosUICore");
        uint64_t v15 = PXStringWithValidatedFormat();
      }
      uint64_t v27 = 0;
      id v28 = &v27;
      uint64_t v29 = 0x2050000000;
      uint64_t v17 = (void *)getMSMessageClass_softClass;
      uint64_t v30 = getMSMessageClass_softClass;
      if (!getMSMessageClass_softClass)
      {
        *(void *)&long long buf = MEMORY[0x1E4F143A8];
        *((void *)&buf + 1) = 3221225472;
        id v32 = __getMSMessageClass_block_invoke;
        uint64_t v33 = &unk_1E5DD2B08;
        uint64_t v34 = &v27;
        __getMSMessageClass_block_invoke((uint64_t)&buf);
        uint64_t v17 = (void *)v28[3];
      }
      id v18 = v17;
      _Block_object_dispose(&v27, 8);
      id v19 = objc_alloc_init((Class)v18);
      uint64_t v27 = 0;
      id v28 = &v27;
      uint64_t v29 = 0x2050000000;
      long long v20 = (void *)getMSMessageLiveLayoutClass_softClass;
      uint64_t v30 = getMSMessageLiveLayoutClass_softClass;
      if (!getMSMessageLiveLayoutClass_softClass)
      {
        *(void *)&long long buf = MEMORY[0x1E4F143A8];
        *((void *)&buf + 1) = 3221225472;
        id v32 = __getMSMessageLiveLayoutClass_block_invoke;
        uint64_t v33 = &unk_1E5DD2B08;
        uint64_t v34 = &v27;
        __getMSMessageLiveLayoutClass_block_invoke((uint64_t)&buf);
        long long v20 = (void *)v28[3];
      }
      id v21 = v20;
      _Block_object_dispose(&v27, 8);
      uint64_t v22 = (void *)[objc_alloc((Class)v21) initWithAlternateLayout:v6];
      [v19 setLayout:v22];
      [v19 setURL:v1];
      [v19 setSummaryText:v15];
    }
    else
    {
      uint64_t v6 = PLSharingGetLog();
      if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
      {
        uint64_t v23 = objc_msgSend(v1, "pl_redactedShareURL");
        LODWORD(buf) = 138543362;
        *(void *)((char *)&buf + 4) = v23;
        _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_ERROR, "Unable to find local moment share for URL: %{public}@", (uint8_t *)&buf, 0xCu);
      }
      id v19 = 0;
    }
  }
  else
  {
    double v3 = PLSharingGetLog();
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A9AE7000, v3, OS_LOG_TYPE_ERROR, "Live bubbles not supported: Cannot create an MSMessage", (uint8_t *)&buf, 2u);
    }
    id v19 = 0;
  }

  return v19;
}

void sub_1AAAC2A58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, ...)
{
  va_start(va, a5);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAC4DC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v11 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v9 - 112), 8);
  _Unwind_Resume(a1);
}

id PXPhotosBarsItemIdentifierProviderForModel(void *a1)
{
  id v1 = a1;
  uint64_t v2 = objc_opt_class();
  double v3 = [v1 currentDataSource];

  double v4 = [v3 containerCollection];

  if ((objc_msgSend(v4, "px_isRecentlyDeletedSmartAlbum") & 1) != 0
    || objc_msgSend(v4, "px_isRecoveredSmartAlbum"))
  {
    uint64_t v2 = objc_opt_class();
  }
  id v5 = v2;

  return v5;
}

void sub_1AAACCAD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void sub_1AAACCD2C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,id location)
{
  objc_destroyWeak(v27);
  objc_destroyWeak(v26);
  objc_destroyWeak(&location);
  _Block_object_dispose((const void *)(v28 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAACCE34(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAACD014(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAACFEA4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
}

void sub_1AAAD0230(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAD1930(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAD206C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAD23EC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__36077(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__36078(uint64_t a1)
{
}

void sub_1AAAD7134(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 224), 8);
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAAD7E8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a65, 8);
  _Block_object_dispose(&a69, 8);
  _Block_object_dispose(&STACK[0x210], 8);
  _Block_object_dispose(&STACK[0x230], 8);
  _Block_object_dispose(&STACK[0x260], 8);
  _Block_object_dispose(&STACK[0x298], 8);
  _Block_object_dispose(&STACK[0x2B8], 8);
  _Unwind_Resume(a1);
}

__CFString *_AccessibilityIdentifierForSectionType(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x14) {
    return 0;
  }
  else {
    return off_1E5DB2778[a1 - 1];
  }
}

void _PXStoryIdentifierFromClipLayouts()
{
}

uint64_t PXStoryTransitionGetLayoutOrder(unsigned char *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  switch(*a1)
  {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 7:
      if (a4 == 2) {
        return 1;
      }
      else {
        return 2 * (a4 == 1);
      }
    case 6:
      uint64_t v6 = 1;
      if (a1[29] != 1) {
        uint64_t v6 = 2;
      }
      uint64_t v7 = 1;
      if (a1[29] == 1) {
        uint64_t v7 = 2;
      }
      goto LABEL_23;
    case 8:
      uint64_t v9 = +[PXStoryTransitionsSettings sharedInstance];
      int v10 = [v9 useSplitWipeTransitionsFromOneUp];

      if (*(void *)(a2 + 32) == 1) {
        int v11 = v10;
      }
      else {
        int v11 = 0;
      }
      if (a4 == 2)
      {
        if (v11) {
          return 2;
        }
        else {
          return 1;
        }
      }
      else if (a4 == 1)
      {
        if (v11) {
          return 1;
        }
        else {
          return 2;
        }
      }
      else
      {
        return 0;
      }
    case 9:
      uint64_t v6 = 1;
      if (a1[29] == 1) {
        uint64_t v6 = 2;
      }
      uint64_t v7 = 1;
      if (a1[29] != 1) {
        uint64_t v7 = 2;
      }
LABEL_23:
      if (a4 != 1) {
        uint64_t v7 = 0;
      }
      if (a4 == 2) {
        return v6;
      }
      else {
        return v7;
      }
    default:
      return 0;
  }
}

void sub_1AAAE39E8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAE3ABC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXCMMStringForExpiryDate(void *a1, uint64_t a2)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  if (!v3)
  {
    int v10 = [MEMORY[0x1E4F28B00] currentHandler];
    int v11 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXCMMStringForExpiryDate(NSDate *__strong _Nonnull, PXCMMExpirationMessageVariant)");
    [v10 handleFailureInFunction:v11, @"PXCMMUtilities.m", 24, @"Invalid parameter not satisfying: %@", @"expiryDate" file lineNumber description];
  }
  double v4 = [MEMORY[0x1E4F1C9C8] date];
  if ([v4 compare:v3] == 1)
  {
    id v5 = PLSharingGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      id v14 = v3;
      __int16 v15 = 2112;
      uint64_t v16 = v4;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "Moment Share expiry date (%@) is before current date (%@)", buf, 0x16u);
    }
  }
  if (a2) {
    uint64_t v6 = @"PXCMMExpirationMessageVariantExpirationDateOnly";
  }
  else {
    uint64_t v6 = @"PXCMMExpirationMessageVariantFull";
  }
  uint64_t v7 = PXLocalizedStringFromTable(v6, @"PhotosUICore");
  uint64_t v12 = [MEMORY[0x1E4F8A790] stringFromStartDate:v3 endDate:v3 type:4];
  id v8 = PXStringWithValidatedFormat();

  return v8;
}

void PXCMMTitleAndSubtitleForAssetCollection(void *a1, void *a2, void *a3)
{
  uint64_t v19 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (!v5)
  {
    uint64_t v13 = [MEMORY[0x1E4F28B00] currentHandler];
    id v14 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXCMMTitleAndSubtitleForAssetCollection(__strong id<PXDisplayAssetCollection> _Nonnull, NSString * _Nonnull __autoreleasing * _Nonnull, NSString * _Nonnull __autoreleasing * _Nonnull)");
    [v13 handleFailureInFunction:v14, @"PXCMMUtilities.m", 38, @"Invalid parameter not satisfying: %@", @"assetCollection" file lineNumber description];
  }
  if (objc_msgSend(v5, "px_isSuggestion") && objc_msgSend(v5, "subtype") == 102)
  {
    *a2 = [v5 localizedTitle];
    *a3 = [v5 localizedSubtitle];
  }
  else
  {
    uint64_t v6 = [v5 startDate];
    if (v6)
    {
      uint64_t v7 = [v5 localizedTitle];
      id v8 = [v5 endDate];
      PLCMMTitleAndSubtitleForTitleAndFallbackDates();
    }
    else
    {
      uint64_t v9 = PLSharingGetLog();
      if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
      {
        int v10 = [v5 uuid];
        *(_DWORD *)long long buf = 138412546;
        id v16 = v5;
        __int16 v17 = 2114;
        id v18 = v10;
        _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "No start date for asset collection: %@, with uuid: %{public}@", buf, 0x16u);
      }
      int v11 = [v5 localizedTitle];
      uint64_t v12 = v11;
      if (!v11) {
        int v11 = &stru_1F00B0030;
      }
      *a2 = v11;

      *a3 = &stru_1F00B0030;
    }
  }
}

void PXCMMActionButton(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, void *a5, BOOL *a6, void *a7)
{
  id v22 = a4;
  id v13 = a5;
  if (!v22)
  {
    id v18 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXCMMActionButton(PXCMMActivityType, PXCMMSourceType, PXMomentShareState, PXSelectionSnapshot *__strong _Nonnull, __strong id<PXAssetImportStatusManager> _Nonnull, BOOL * _Nullable, NSString * _Nullable __autoreleasing * _Nullable)");
    [v18 handleFailureInFunction:v19, @"PXCMMUtilities.m", 57, @"Invalid parameter not satisfying: %@", @"selectionSnapshot" file lineNumber description];
  }
  id v14 = 0;
  switch(a1)
  {
    case 0:
    case 4:
      long long v20 = [MEMORY[0x1E4F28B00] currentHandler];
      id v21 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXCMMActionButton(PXCMMActivityType, PXCMMSourceType, PXMomentShareState, PXSelectionSnapshot *__strong _Nonnull, __strong id<PXAssetImportStatusManager> _Nonnull, BOOL * _Nullable, NSString * _Nullable __autoreleasing * _Nullable)");
      [v20 handleFailureInFunction:v21 file:@"PXCMMUtilities.m" lineNumber:102 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      if (a2)
      {
        if ([v22 areAllItemsSelected]) {
          __int16 v15 = @"PXCMMShareAllButtonTitle";
        }
        else {
          __int16 v15 = @"PXCMMShareButtonTitle";
        }
      }
      else
      {
        __int16 v15 = @"PXCMMNextButtonTitle";
      }
      goto LABEL_15;
    case 2:
      __int16 v15 = @"PXCMMSaveButtonTitle";
      if ((unint64_t)(a3 - 1) < 3 || a3 == 5) {
        goto LABEL_15;
      }
      if (a3)
      {
        id v14 = 0;
      }
      else
      {
        if ([v22 areAllUnsavedAssetsSelectedWithImportStatusManager:v13]) {
          __int16 v15 = @"PXCMMSaveAllButtonTitle";
        }
LABEL_15:
        id v14 = PXLocalizedStringFromTable(v15, @"PhotosUICore");
      }
LABEL_16:
      id v16 = objc_msgSend(v14, "px_stringByApplyingCapitalization:", 0);

      if (a6)
      {
        if (v16) {
          BOOL v17 = [v16 length] != 0;
        }
        else {
          BOOL v17 = 0;
        }
        *a6 = v17;
      }
      if (a7) {
        *a7 = v16;
      }

      return;
    default:
      goto LABEL_16;
  }
}

void PXCMMPresentSystemPhotoLibraryAlert(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
    int v10 = [NSString stringWithUTF8String:"void PXCMMPresentSystemPhotoLibraryAlert(__strong id<PXPresentationEnvironment> _Nonnull)"];
    [v9 handleFailureInFunction:v10, @"PXCMMUtilities.m", 118, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];
  }
  uint64_t v2 = [v1 presentAlertWithConfigurationHandler:&__block_literal_global_38773];
  id v3 = PLSharingGetLog();
  double v4 = v3;
  if (v2)
  {
    if (os_log_type_enabled(v3, OS_LOG_TYPE_DEFAULT))
    {
      __int16 v12 = 0;
      id v5 = "Presented system photo library alert";
      uint64_t v6 = (uint8_t *)&v12;
      uint64_t v7 = v4;
      os_log_type_t v8 = OS_LOG_TYPE_DEFAULT;
LABEL_8:
      _os_log_impl(&dword_1A9AE7000, v7, v8, v5, v6, 2u);
    }
  }
  else if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    id v5 = "Failed to present system photo library alert";
    uint64_t v6 = buf;
    uint64_t v7 = v4;
    os_log_type_t v8 = OS_LOG_TYPE_ERROR;
    goto LABEL_8;
  }
}

void __PXCMMPresentSystemPhotoLibraryAlert_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  id v3 = PXLocalizedStringFromTable(@"PXCMMSystemPhotoLibraryAlertTitle", @"PhotosUICore");
  [v2 setTitle:v3];

  double v4 = PXLocalizedStringFromTable(@"PXCMMSystemPhotoLibraryAlertMessage", @"PhotosUICore");
  [v2 setMessage:v4];

  PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v2 addActionWithTitle:v5 style:0 action:0];
}

void sub_1AAAED298(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAAEDDF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAEE298(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,id location)
{
  objc_destroyWeak(v28);
  objc_destroyWeak(v27);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAAEE58C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id _ConditionallyFormattedString(int a1, int a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8, unint64_t a9)
{
  int v15 = a1 ^ 1 | a2;
  int v16 = a2 ^ 1 | a1;
  BOOL v17 = v16 == 0;
  if (v16) {
    id v18 = a7;
  }
  else {
    id v18 = a5;
  }
  if (v17) {
    uint64_t v19 = a6;
  }
  else {
    uint64_t v19 = a8;
  }
  BOOL v20 = v15 == 0;
  if (v15) {
    id v21 = v18;
  }
  else {
    id v21 = a3;
  }
  if (v20) {
    id v22 = a4;
  }
  else {
    id v22 = v19;
  }
  if (a9 <= 1) {
    uint64_t v23 = v21;
  }
  else {
    uint64_t v23 = v22;
  }
  id v24 = v23;
  id v25 = a8;
  id v26 = a7;
  id v27 = a6;
  id v28 = a5;
  id v29 = a4;
  id v30 = a3;
  uint64_t v31 = PXLocalizedStringFromTable(v24, @"PhotosUICore");

  return v31;
}

void sub_1AAAF0CD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__39980(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__39981(uint64_t a1)
{
}

void sub_1AAAF1E7C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v10 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAF2BF4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35,uint64_t a36,uint64_t a37,uint64_t a38,char a39)
{
}

void sub_1AAAF3C88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location,char a21)
{
  objc_destroyWeak(v22);
  objc_destroyWeak(v21);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a21, 8);
  _Unwind_Resume(a1);
}

void sub_1AAAF3D8C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAAF3E7C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAAF7D04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAAF8CD8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

float PXStoryVolumeForFadeOutFractionCompleted(float a1)
{
  float v1 = fmaxf(a1, 0.0);
  if (v1 > 1.0) {
    float v1 = 1.0;
  }
  uint64_t v6 = 0;
  uint64_t v7 = (float *)&v6;
  uint64_t v8 = 0x2020000000;
  int v9 = 0;
  v4[0] = MEMORY[0x1E4F143A8];
  v4[1] = 3221225472;
  v4[2] = __PXStoryVolumeForFadeOutFractionCompleted_block_invoke;
  void v4[3] = &unk_1E5DB2EC0;
  float v5 = v1;
  v4[4] = &v6;
  [&unk_1F02D37A8 enumerateObjectsUsingBlock:v4];
  float v2 = v7[6];
  _Block_object_dispose(&v6, 8);
  return v2;
}

void sub_1AAAF9348(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXStoryVolumeForFadeOutFractionCompleted_block_invoke(uint64_t a1, void *a2, uint64_t a3, unsigned char *a4)
{
  float v7 = *(float *)(a1 + 40);
  [a2 floatValue];
  float v9 = v8;
  id v16 = [&unk_1F02D37C0 objectAtIndexedSubscript:a3];
  [v16 floatValue];
  uint64_t v11 = *(void *)(*(void *)(a1 + 32) + 8);
  if (v7 >= v9)
  {
    *(float *)(v11 + 24) = v10;
  }
  else
  {
    float v12 = v10 - *(float *)(v11 + 24);
    float v13 = *(float *)(a1 + 40);
    uint64_t v14 = [&unk_1F02D37A8 objectAtIndexedSubscript:a3 - 1];
    [v14 floatValue];
    *(float *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = *(float *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                          + 24)
                                                               + (float)(v12 * (float)(v13 - v15));

    *a4 = 1;
  }
}

void sub_1AAAF9C88(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAAFBDCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB005B0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Block_object_dispose(&STACK[0x300], 8);
  _Block_object_dispose(&STACK[0x380], 8);
  _Block_object_dispose(&STACK[0x3B0], 8);
  _Block_object_dispose(&STACK[0x3E0], 8);
  _Block_object_dispose(&STACK[0x400], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__42337(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__42338(uint64_t a1)
{
}

Class __getICQTileViewClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_42939)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __iCloudQuotaUILibraryCore_block_invoke_42940;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB32C8;
    uint64_t v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_42939 = _sl_dlopen();
  }
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_42939)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    double v4 = [NSString stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXCloudQuotaPremiumOfferController.m", 38, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("ICQTileView");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    float v5 = [NSString stringWithUTF8String:"Class getICQTileViewClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudQuotaPremiumOfferController.m", 39, @"Unable to find class %s", "ICQTileView");

LABEL_10:
    __break(1u);
  }
  getICQTileViewClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_42940()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_42939 = result;
  return result;
}

id getMFMailComposeViewControllerClass_43071()
{
  uint64_t v4 = 0;
  float v5 = &v4;
  uint64_t v6 = 0x2050000000;
  os_log_t v0 = (void *)getMFMailComposeViewControllerClass_softClass_43125;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_43125;
  if (!getMFMailComposeViewControllerClass_softClass_43125)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_43126;
    v3[3] = &unk_1E5DD2B08;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_43126((uint64_t)v3);
    os_log_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAB072A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_43126(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_43127)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_43128;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB3308;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_43127 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_43127)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXDebugRelatedViewController.m", 23, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    float v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXDebugRelatedViewController.m", 24, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_43125 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_43128()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_43127 = result;
  return result;
}

void sub_1AAB0AA28(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__43909(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__43910(uint64_t a1)
{
}

void sub_1AAB0B1DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB0BD3C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,char a48)
{
}

void sub_1AAB0D5EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v11 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB0F4D8(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB0F97C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__44281(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__44282(uint64_t a1)
{
}

void sub_1AAB0FBEC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAB1038C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB107D8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id _TrashMomentShareActionTitle(void *a1)
{
  uint64_t v1 = objc_msgSend(a1, "px_momentShareType");
  if (!v1)
  {
    float v2 = @"PXCMMStopSharingConfirmationButtonTitle";
    goto LABEL_5;
  }
  if (v1 == 1)
  {
    float v2 = @"PXCMMDeclineSharingConfirmationButtonTitle";
LABEL_5:
    id v3 = PXLocalizedStringFromTable(v2, @"PhotosUICore");
    goto LABEL_7;
  }
  id v3 = 0;
LABEL_7:
  return v3;
}

void sub_1AAB18D14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB1A744(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

__CFString *PXMemoryDeleteBehaviorString(uint64_t a1)
{
  uint64_t v1 = @"delete";
  if (a1 != 1) {
    uint64_t v1 = 0;
  }
  if (a1) {
    return v1;
  }
  else {
    return @"reject";
  }
}

id PXFirstPersonFromAssetCollectionActionPerformerInput(void *a1)
{
  id v1 = a1;
  if (objc_opt_respondsToSelector())
  {
    float v2 = [v1 people];
  }
  else
  {
    float v2 = 0;
  }
  id v3 = [v2 firstObject];
  if (v3)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_6;
    }
    float v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = [NSString stringWithUTF8String:"PHPerson * _Nonnull PXFirstPersonFromAssetCollectionActionPerformerInput(__strong id<PXPhotoKitAssetCollectionActionPerformerInput> _Nonnull)"];
    uint64_t v9 = (objc_class *)objc_opt_class();
    uint64_t v8 = NSStringFromClass(v9);
    float v10 = objc_msgSend(v3, "px_descriptionForAssertionMessage");
    [v5 handleFailureInFunction:v6, @"PXPhotoKitAssetCollectionActionManager.m", 186, @"%@ should be an instance inheriting from %@, but it is %@", @"people.firstObject", v8, v10 file lineNumber description];
  }
  else
  {
    float v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = [NSString stringWithUTF8String:"PHPerson * _Nonnull PXFirstPersonFromAssetCollectionActionPerformerInput(__strong id<PXPhotoKitAssetCollectionActionPerformerInput> _Nonnull)"];
    long long v7 = (objc_class *)objc_opt_class();
    uint64_t v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6, @"PXPhotoKitAssetCollectionActionManager.m", 186, @"%@ should be an instance inheriting from %@, but it is nil", @"people.firstObject", v8 file lineNumber description];
  }

LABEL_6:
  return v3;
}

void sub_1AAB1CAFC(void *a1, int a2)
{
  objc_begin_catch(a1);
  if (a2 == 2)
  {

    objc_end_catch();
    JUMPOUT(0x1AAB1CAC8);
  }
  id v4 = v2;
  objc_end_catch();
  JUMPOUT(0x1AAB1CAD0);
}

void sub_1AAB1D688(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getATXProactiveCardSuggestionClientClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!ProactiveSuggestionClientModelLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __ProactiveSuggestionClientModelLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB3550;
    uint64_t v8 = 0;
    ProactiveSuggestionClientModelLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!ProactiveSuggestionClientModelLibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"void *ProactiveSuggestionClientModelLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXProactiveSuggester.m", 25, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("ATXProactiveCardSuggestionClient");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    float v5 = [NSString stringWithUTF8String:"Class getATXProactiveCardSuggestionClientClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXProactiveSuggester.m", 26, @"Unable to find class %s", "ATXProactiveCardSuggestionClient");

LABEL_10:
    __break(1u);
  }
  getATXProactiveCardSuggestionClientClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __ProactiveSuggestionClientModelLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ProactiveSuggestionClientModelLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAB1EDA8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__45614(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__45615(uint64_t a1)
{
}

void sub_1AAB1EEE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getMFMailComposeViewControllerClass_45776()
{
  uint64_t v4 = 0;
  float v5 = &v4;
  uint64_t v6 = 0x2050000000;
  os_log_t v0 = (void *)getMFMailComposeViewControllerClass_softClass_45799;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_45799;
  if (!getMFMailComposeViewControllerClass_softClass_45799)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_45800;
    v3[3] = &unk_1E5DD2B08;
    v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_45800((uint64_t)v3);
    os_log_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAB20304(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_45800(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_45801)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_45802;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB3628;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_45801 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_45801)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSuggestionDebugViewController.m", 28, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    float v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSuggestionDebugViewController.m", 29, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_45799 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_45802()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_45801 = result;
  return result;
}

uint64_t __Block_byref_object_copy__46229(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__46230(uint64_t a1)
{
}

void sub_1AAB24F54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__46414(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__46415(uint64_t a1)
{
}

void sub_1AAB2564C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 128));
  _Unwind_Resume(a1);
}

void addToPapertrail(void *a1, uint64_t a2, void *a3, uint64_t a4)
{
  id v11 = a1;
  id v7 = a3;
  if (isAppleInternal_onceToken != -1) {
    dispatch_once(&isAppleInternal_onceToken, &__block_literal_global_193_46634);
  }
  if (isAppleInternal_hasInternalDiagnostics)
  {
    uint64_t v8 = (void *)[[NSString alloc] initWithCString:a2 encoding:4];
    uint64_t v9 = [MEMORY[0x1E4F28B88] characterSetWithCharactersInString:@"@()"];
    float v10 = [v8 stringByTrimmingCharactersInSet:v9];

    [v11 appendFormat:@"%d: %@ = %@\n", a4, v10, v7];
  }
}

uint64_t __isAppleInternal_block_invoke()
{
  uint64_t result = os_variant_has_internal_diagnostics();
  isAppleInternal_hasInternalDiagnostics = result;
  return result;
}

id _ThumbnailImageDataFromAttributionContact(void *a1)
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if ([v1 isKeyAvailable:*MEMORY[0x1E4F1AF98]])
  {
    uint64_t v2 = [v1 thumbnailImageData];
  }
  else
  {
    id v3 = PLUIGetLog();
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      int v5 = 138412290;
      id v6 = v1;
      _os_log_impl(&dword_1A9AE7000, v3, OS_LOG_TYPE_ERROR, "Info Panel attribution: Image data not available for contact %@", (uint8_t *)&v5, 0xCu);
    }

    uint64_t v2 = 0;
  }

  return v2;
}

void sub_1AAB29D3C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB2AF50(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB2C238(_Unwind_Exception *a1)
{
}

void sub_1AAB2C244(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

uint64_t __Block_byref_object_copy__47322(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__47323(uint64_t a1)
{
}

void sub_1AAB2C49C(_Unwind_Exception *a1)
{
}

void sub_1AAB2CA6C(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2CCE8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2CD90(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2CF10(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2CFD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void sub_1AAB2D288(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D308(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D4DC(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D570(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D5D8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D640(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D6C8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB2D730(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

__CFString *PXRadarClassificationDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 9) {
    return &stru_1F00B0030;
  }
  else {
    return off_1E5DB3D08[a1 - 1];
  }
}

unint64_t PXRadarComponentGetIDNameVersion(unint64_t result, __CFString **a2, __CFString **a3, __CFString **a4)
{
  if (result > 0x28)
  {
    uint64_t v4 = 0;
    int v5 = 0;
    id v6 = 0;
    if (!a2) {
      goto LABEL_6;
    }
    goto LABEL_5;
  }
  uint64_t v4 = off_1E5DB3930[result];
  int v5 = off_1E5DB3A78[result];
  id v6 = off_1E5DB3BC0[result];
  if (a2) {
LABEL_5:
  }
    *a2 = v4;
LABEL_6:
  if (a3) {
    *a3 = v5;
  }
  if (a4) {
    *a4 = v6;
  }
  return result;
}

void _CollectAttachmentsForConfiguration(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  int v5 = (void *)[v3 copy];
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  v9[2] = ___CollectAttachmentsForConfiguration_block_invoke;
  v9[3] = &unk_1E5DD1B00;
  id v11 = v3;
  id v12 = v4;
  id v10 = v5;
  id v6 = v3;
  id v7 = v5;
  id v8 = v4;
  [v7 collectDiagnosticsWithCompletionHandler:v9];
}

void PXFileRadarWithConfiguration(void *a1)
{
  id v1 = (void *)[a1 copy];
  if ([v1 isProgressUIAllowed])
  {
    uint64_t v2 = +[PXProgressIndicatorAlertController beginShowingModalProgressWithConfiguration:&__block_literal_global_293];
  }
  else
  {
    uint64_t v2 = 0;
  }
  id v3 = [v1 completionHandler];
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXFileRadarWithConfiguration_block_invoke_2;
  aBlock[3] = &unk_1E5DD2B90;
  id v12 = v2;
  id v13 = v3;
  id v4 = v2;
  int v5 = _Block_copy(aBlock);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXFileRadarWithConfiguration_block_invoke_3;
  v8[3] = &unk_1E5DB3870;
  id v9 = v1;
  id v10 = v5;
  id v6 = v1;
  id v7 = v5;
  _CollectAttachmentsForConfiguration(v6, v8);
}

void __PXFileRadarWithConfiguration_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  NSLog(&cfstr_FilingRadarSuc.isa, a2, v6);
  [*(id *)(a1 + 32) stopShowing];
  uint64_t v5 = *(void *)(a1 + 40);
  if (v5) {
    (*(void (**)(uint64_t, uint64_t, id))(v5 + 16))(v5, a2, v6);
  }
}

void __PXFileRadarWithConfiguration_block_invoke_3(uint64_t a1, void *a2)
{
  id v3 = a2;
  if (v3)
  {
    unint64_t v4 = [*(id *)(a1 + 32) component];
    if (v4 > 0x28)
    {
      uint64_t v5 = 0;
      id v6 = 0;
      id v7 = 0;
    }
    else
    {
      uint64_t v5 = off_1E5DB3930[v4];
      id v6 = off_1E5DB3A78[v4];
      id v7 = off_1E5DB3BC0[v4];
    }
    id v25 = v5;
    id v24 = v6;
    uint64_t v23 = v7;
    id v8 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
    if ([*(id *)(a1 + 32) wantsPhotosDiagnostics]) {
      [v8 addObject:@"com.apple.PhotoLibraryServices.PhotosDiagnostics"];
    }
    id v22 = v8;
    id v21 = [*(id *)(a1 + 32) title];
    uint64_t v9 = [*(id *)(a1 + 32) description];
    id v10 = (void *)v9;
    id v11 = &stru_1F00B0030;
    if (v9) {
      id v12 = (__CFString *)v9;
    }
    else {
      id v12 = &stru_1F00B0030;
    }
    BOOL v20 = v12;
    unint64_t v13 = [*(id *)(a1 + 32) classification] - 1;
    if (v13 <= 9) {
      id v11 = off_1E5DB3D08[v13];
    }
    uint64_t v14 = [*(id *)(a1 + 32) keywordIDs];
    float v15 = [v14 componentsJoinedByString:@","];
    id v16 = [*(id *)(a1 + 32) screenshots];
    char v17 = [*(id *)(a1 + 32) wantsSystemDiagnostics];
    char v18 = [*(id *)(a1 + 32) attachmentsIncludeAnyUserAsset];
    v26[0] = MEMORY[0x1E4F143A8];
    v26[1] = 3221225472;
    v26[2] = __PXFileRadarWithConfiguration_block_invoke_4;
    v26[3] = &unk_1E5DCCA98;
    id v27 = *(id *)(a1 + 40);
    BYTE1(v19) = v18;
    LOBYTE(v19) = v17;
    +[PXFeedbackTapToRadarUtilities fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:](PXFeedbackTapToRadarUtilities, "fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:", v21, v20, v11, v25, v24, v23, v15, v16, v3, v19, v22, v26);
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
}

uint64_t __PXFileRadarWithConfiguration_block_invoke_4(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXFileRadarWithConfiguration_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  [v2 setDelay:0.0];
  [v2 setIsInternalUIAllowed:1];
  [v2 setLabel:@"Filing Radar"];
}

void PXDumpRadarAttachmentsWithConfigurationToFolderURL(void *a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  v9[2] = __PXDumpRadarAttachmentsWithConfigurationToFolderURL_block_invoke;
  v9[3] = &unk_1E5DB3870;
  id v10 = v5;
  id v11 = v6;
  id v7 = v5;
  id v8 = v6;
  _CollectAttachmentsForConfiguration(a1, v9);
}

void __PXDumpRadarAttachmentsWithConfigurationToFolderURL_block_invoke(uint64_t a1, void *a2)
{
  if (a2)
  {
    id v3 = *(void **)(a1 + 32);
    id v6 = 0;
    PXFeedbackTapToRadarUtilitiesCopyFilesToFolder(a2, v3, (uint64_t)&v6);
    id v4 = v6;
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
  else
  {
    id v5 = *(void (**)(void))(*(void *)(a1 + 40) + 16);
    v5();
  }
}

void sub_1AAB2EC9C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, id *location, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,id a30,char a31)
{
  objc_destroyWeak(v31);
  objc_destroyWeak(location);
  objc_destroyWeak(&a30);
  _Unwind_Resume(a1);
}

void sub_1AAB2F23C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

double PXAssetsSectionGetLayoutPropertiesForMetrics(uint64_t a1, uint64_t a2, double *a3, double *a4)
{
  double v9 = 0.0;
  double v10 = 0.0;
  +[PXLayoutMetricInterpolator bestItemSizeForAvailableWidth:screenScale:columns:bestSpacing:bestInset:](PXLayoutMetricInterpolator, "bestItemSizeForAvailableWidth:screenScale:columns:bestSpacing:bestInset:", a1, &v10, &v9);
  if (a2)
  {
    *(double *)a2 = result;
    *(void *)(a2 + 8) = v8;
  }
  if (a3)
  {
    double result = v10;
    *a3 = v10;
  }
  if (a4)
  {
    double result = v9;
    *a4 = v9;
  }
  return result;
}

void sub_1AAB311A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB314A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB32F94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB33240(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__48840(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__48841(uint64_t a1)
{
}

void sub_1AAB333F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB33614(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB3397C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB33BE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB34008(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB34748(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAB35570(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

double PXScrollViewContentOffsetSnappedToRange(uint64_t a1, double a2, double a3, double a4, double a5, double a6, double a7, double a8, double a9, double a10, double a11, double a12, double a13)
{
  if (a1)
  {
    if (a1 == 1) {
      a4 = a5;
    }
    if (a1 == 1) {
      double v19 = a7;
    }
    else {
      double v19 = a6;
    }
    PXFloatRangeIntersection(v19, a4, a12, a13);
    PXFloatGreaterThanFloat();
  }
  return a6;
}

void sub_1AAB3A8C4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 120));
  _Unwind_Resume(a1);
}

void sub_1AAB3AC18(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB3ACF4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB3AE50(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB3AF38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB3B114(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__50039(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__50040(uint64_t a1)
{
}

void sub_1AAB3B3F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *_PXGDebugStatsKeyTitle()
{
  double result = @"PrepLay";
  switch((unint64_t)@"PrepLay")
  {
    case 0uLL:
      return result;
    case 1uLL:
      double result = @"Layout";
      break;
    case 2uLL:
      double result = @"Anim";
      break;
    case 3uLL:
      double result = @"TexStr";
      break;
    case 4uLL:
      double result = @"PreRen";
      break;
    case 5uLL:
      double result = @"Render";
      break;
    case 6uLL:
      id v5 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v1, v0, v2, v3);
      id v6 = [NSString stringWithUTF8String:"NSString *_PXGDebugStatsKeyTitle(PXGDebugStatsKey)"];
      [v5 handleFailureInFunction:v6 file:@"PXGDebugHUDLayer.m" lineNumber:147 description:@"Code which should be unreachable has been reached"];

      abort();
    default:
      double result = @"?";
      break;
  }
  return result;
}

id getPIColorNormalizationFilterClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  uint64_t v0 = (void *)getPIColorNormalizationFilterClass_softClass;
  uint64_t v7 = getPIColorNormalizationFilterClass_softClass;
  if (!getPIColorNormalizationFilterClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getPIColorNormalizationFilterClass_block_invoke;
    v3[3] = &unk_1E5DD2B08;
    v3[4] = &v4;
    __getPIColorNormalizationFilterClass_block_invoke((uint64_t)v3);
    uint64_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAB3C768(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPIColorNormalizationFilterClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __PhotoImagingLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB3FB0;
    uint64_t v8 = 0;
    PhotoImagingLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!PhotoImagingLibraryCore_frameworkLibrary)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXStoryColorNormalizationAdjustment.m", 20, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("PIColorNormalizationFilter");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getPIColorNormalizationFilterClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXStoryColorNormalizationAdjustment.m", 21, @"Unable to find class %s", "PIColorNormalizationFilter");

LABEL_10:
    __break(1u);
  }
  getPIColorNormalizationFilterClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PhotoImagingLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAB3CFE8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB3D718(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPDFViewClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!PDFKitLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __PDFKitLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB3FC8;
    uint64_t v8 = 0;
    PDFKitLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!PDFKitLibraryCore_frameworkLibrary)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *PDFKitLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXVisualDiagnosticsViewController.m", 18, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("PDFView");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getPDFViewClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXVisualDiagnosticsViewController.m", 20, @"Unable to find class %s", "PDFView");

LABEL_10:
    __break(1u);
  }
  getPDFViewClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PDFKitLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PDFKitLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AAB3DF80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__50570(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__50571(uint64_t a1)
{
}

__CFString *PXStoryErrorDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) >= 0x1B) {
    id v1 = (__CFString *)[[NSString alloc] initWithFormat:@"%@ error %li", @"PXStoryErrorDomain", a1];
  }
  else {
    id v1 = off_1E5DB4028[a1 - 1];
  }
  return v1;
}

id PXStoryErrorCreateWithCodeUnderlyingErrorDebugDescription(uint64_t a1, void *a2, void *a3)
{
  id v5 = (objc_class *)MEMORY[0x1E4F1CA60];
  id v6 = a3;
  id v7 = a2;
  id v8 = objc_alloc_init(v5);
  uint64_t v9 = PXStoryErrorDescription(a1);
  [v8 setObject:v9 forKeyedSubscript:*MEMORY[0x1E4F28568]];

  [v8 setObject:v6 forKeyedSubscript:*MEMORY[0x1E4F28228]];
  [v8 setObject:v7 forKeyedSubscript:*MEMORY[0x1E4F28A50]];

  double v10 = [MEMORY[0x1E4F28C58] errorWithDomain:@"PXStoryErrorDomain" code:a1 userInfo:v8];

  return v10;
}

id PXStoryErrorCreateWithCodeDebugFormat(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  if (a2)
  {
    double v10 = (objc_class *)NSString;
    id v11 = a2;
    id v12 = (void *)[[v10 alloc] initWithFormat:v11 arguments:&a9];
  }
  else
  {
    id v12 = 0;
  }
  unint64_t v13 = PXStoryErrorCreateWithCodeUnderlyingErrorDebugDescription(a1, 0, v12);

  return v13;
}

id PXStoryErrorCreateWithCodeUnderlyingErrorDebugFormat(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  id v11 = a2;
  if (a3)
  {
    id v12 = (objc_class *)NSString;
    id v13 = a3;
    a3 = (void *)[[v12 alloc] initWithFormat:v13 arguments:&a9];
  }
  uint64_t v14 = PXStoryErrorCreateWithCodeUnderlyingErrorDebugDescription(a1, v11, a3);

  return v14;
}

id PXStoryErrorDetailsDescription(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 userInfo];
  uint64_t v3 = [v1 localizedFailureReason];
  uint64_t v4 = (void *)MEMORY[0x1E4F28A50];
  if (!v3)
  {
    uint64_t v3 = [v1 localizedRecoverySuggestion];
    if (!v3)
    {
      uint64_t v3 = [v2 objectForKeyedSubscript:*MEMORY[0x1E4F28228]];
      if (!v3)
      {
        id v5 = (void *)[v2 mutableCopy];
        [v5 removeObjectForKey:*MEMORY[0x1E4F28568]];
        [v5 removeObjectForKey:*v4];
        id v6 = [v5 description];
        id v7 = (void *)[v6 mutableCopy];

        objc_msgSend(v7, "replaceOccurrencesOfString:withString:options:range:", @"\n", @" ", 0, 0, objc_msgSend(v7, "length"));
        objc_msgSend(v7, "replaceOccurrencesOfString:withString:options:range:", @"\t", @" ", 0, 0, objc_msgSend(v7, "length"));
        while (objc_msgSend(v7, "replaceOccurrencesOfString:withString:options:range:", @"  ", @" ", 0, 0, objc_msgSend(v7, "length")));
        uint64_t v3 = (void *)[v7 copy];
      }
    }
  }
  id v8 = [v2 objectForKeyedSubscript:*v4];
  uint64_t v9 = v8;
  if (v8)
  {
    double v10 = [v8 localizedDescription];
    id v11 = PXStoryErrorDetailsDescription(v9);
    uint64_t v12 = [v3 stringByAppendingFormat:@" (Underlying Error: %@ / %@)", v10, v11];

    uint64_t v3 = (void *)v12;
  }

  return v3;
}

id PXStoryErrorByInsertingTitlePrefix(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = [v3 userInfo];
  id v6 = (void *)[v5 mutableCopy];
  id v7 = v6;
  if (v6) {
    id v8 = v6;
  }
  else {
    id v8 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  }
  uint64_t v9 = v8;

  double v10 = [v3 localizedFailureReason];
  id v11 = v10;
  if (!v10)
  {
    id v11 = [v3 localizedDescription];
  }
  uint64_t v12 = [v4 stringByAppendingString:v11];
  [v9 setObject:v12 forKeyedSubscript:*MEMORY[0x1E4F28588]];

  if (!v10) {
  id v13 = (void *)MEMORY[0x1E4F28C58];
  }
  uint64_t v14 = [v3 domain];
  float v15 = objc_msgSend(v13, "errorWithDomain:code:userInfo:", v14, objc_msgSend(v3, "code"), v9);

  return v15;
}

void PXCMMUpdateCountsWithSelectionSnapshot(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = [v4 selectedIndexPaths];
  objc_msgSend(v3, "setSelectedCount:", objc_msgSend(v5, "count"));
  id v6 = [v4 dataSource];
  uint64_t v16 = 0;
  char v17 = &v16;
  uint64_t v18 = 0x2020000000;
  uint64_t v19 = 0;
  uint64_t v12 = 0;
  id v13 = &v12;
  uint64_t v14 = 0x2020000000;
  uint64_t v15 = 0;
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXCMMUpdateCountsWithSelectionSnapshot_block_invoke;
  v8[3] = &unk_1E5DB4108;
  id v7 = v6;
  id v9 = v7;
  double v10 = &v16;
  id v11 = &v12;
  [v5 enumerateItemIndexPathsUsingBlock:v8];
  [v3 setSelectedPhotosCount:v17[3]];
  [v3 setSelectedVideosCount:v13[3]];

  _Block_object_dispose(&v12, 8);
  _Block_object_dispose(&v16, 8);
}

void sub_1AAB4022C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

void __PXCMMUpdateCountsWithSelectionSnapshot_block_invoke(uint64_t a1, _OWORD *a2)
{
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v4 = *(id *)(a1 + 32);
    long long v5 = a2[1];
    v9[0] = *a2;
    v9[1] = v5;
    id v6 = [v4 assetAtItemIndexPath:v9];
    uint64_t v7 = [v6 mediaType];
    if (v7 == 2)
    {
      uint64_t v8 = a1 + 48;
    }
    else
    {
      if (v7 != 1)
      {
LABEL_7:

        return;
      }
      uint64_t v8 = a1 + 40;
    }
    ++*(void *)(*(void *)(*(void *)v8 + 8) + 24);
    goto LABEL_7;
  }
}

__CFString *PXCMMViewModelChangeDebugDescription(uint64_t a1)
{
  if (a1 > 511)
  {
    if (a1 < 0x2000)
    {
      if (a1 > 2047)
      {
        if (a1 == 2048)
        {
          uint64_t v2 = @"peopleSuggestions";
          goto LABEL_40;
        }
        if (a1 == 4096)
        {
          uint64_t v2 = @"showPlaceholder";
          goto LABEL_40;
        }
      }
      else
      {
        if (a1 == 512)
        {
          uint64_t v2 = @"totalCounts";
          goto LABEL_40;
        }
        if (a1 == 1024)
        {
          uint64_t v2 = @"selecting";
          goto LABEL_40;
        }
      }
    }
    else if (a1 < 0x8000)
    {
      if (a1 == 0x2000)
      {
        uint64_t v2 = @"disabledActionTypes";
        goto LABEL_40;
      }
      if (a1 == 0x4000)
      {
        uint64_t v2 = @"selectionEnabled";
        goto LABEL_40;
      }
    }
    else
    {
      switch(a1)
      {
        case 0x8000:
          uint64_t v2 = @"unverifiedPersons";
          goto LABEL_40;
        case 0x10000:
          uint64_t v2 = @"selectionCounts";
          goto LABEL_40;
        case 0x20000:
          uint64_t v2 = @"disableOneUp";
          goto LABEL_40;
      }
    }
    goto LABEL_39;
  }
  if (a1 > 31)
  {
    if (a1 > 127)
    {
      if (a1 == 128)
      {
        uint64_t v2 = @"posterAsset";
        goto LABEL_40;
      }
      if (a1 == 256)
      {
        uint64_t v2 = @"date";
        goto LABEL_40;
      }
    }
    else
    {
      if (a1 == 32)
      {
        uint64_t v2 = @"shareURL";
        goto LABEL_40;
      }
      if (a1 == 64)
      {
        uint64_t v2 = @"shareUUID";
        goto LABEL_40;
      }
    }
LABEL_39:
    objc_msgSend(NSString, "stringWithFormat:", @"unknown(%llu)", a1);
    uint64_t v2 = (__CFString *)objc_claimAutoreleasedReturnValue();
    goto LABEL_40;
  }
  uint64_t v2 = @"titles";
  switch(a1)
  {
    case 1:
      break;
    case 2:
      uint64_t v2 = @"selectionManager";
      break;
    case 3:
    case 5:
    case 6:
    case 7:
      goto LABEL_39;
    case 4:
      uint64_t v2 = @"recipients";
      break;
    case 8:
      uint64_t v2 = @"originatorRecipient";
      break;
    default:
      if (a1 != 16) {
        goto LABEL_39;
      }
      uint64_t v2 = @"numReceivedAssets";
      break;
  }
LABEL_40:
  return v2;
}

id PXCMMViewModelChangeDescriptorDebugDescription(unsigned int a1)
{
  uint64_t v2 = [MEMORY[0x1E4F1CA48] arrayWithCapacity:17];
  for (uint64_t i = 0; i != 18; ++i)
  {
    if (((1 << i) & a1) != 0)
    {
      id v4 = PXCMMViewModelChangeDebugDescription((1 << i) & a1);
      [v2 addObject:v4];
    }
  }
  long long v5 = [v2 componentsJoinedByString:@","];

  return v5;
}

void _LabelContextMakeGadgetSpec(uint64_t a1@<X0>, uint64_t a2@<X1>, void *a3@<X2>, uint64_t a4@<X8>, double a5@<D0>, double a6@<D1>, double a7@<D2>, double a8@<D3>)
{
  uint64_t v8 = a2;
  *(void *)(a4 + 64) = 0;
  *(_OWORD *)(a4 + 32) = 0u;
  *(_OWORD *)(a4 + 48) = 0u;
  *(_OWORD *)(a4 + 16) = 0u;
  *(void *)a4 = a1;
  *(void *)(a4 + 8) = a2;
  id v14 = a3;
  uint64_t v15 = PXMemorySpecSetForTileKindGadgetSpec(v8, v14);
  *(void *)(a4 + 16) = v15;
  *(void *)(a4 + 24) = PXMemorySpecVariantForTileKindGadgetSpec(v8, v14);
  *(double *)(a4 + 32) = a5;
  *(double *)(a4 + 40) = a6;
  *(double *)(a4 + 48) = a7;
  *(double *)(a4 + 56) = a8;
  LOBYTE(v8) = PXMemoryShouldScaleForSpecSetGadgetSpec(v15, v14);

  *(unsigned char *)(a4 + 64) = v8;
}

void _LabelContextMakeFeatureSpec(uint64_t a1@<X0>, uint64_t a2@<X1>, void *a3@<X2>, uint64_t a4@<X8>, double a5@<D0>, double a6@<D1>, double a7@<D2>, double a8@<D3>)
{
  uint64_t v8 = a2;
  *(void *)(a4 + 64) = 0;
  *(_OWORD *)(a4 + 32) = 0u;
  *(_OWORD *)(a4 + 48) = 0u;
  *(_OWORD *)(a4 + 16) = 0u;
  *(void *)a4 = a1;
  *(void *)(a4 + 8) = a2;
  id v14 = a3;
  uint64_t v15 = PXMemorySpecSetForTileKindFeatureSpec(v8, v14);
  *(void *)(a4 + 16) = v15;
  *(void *)(a4 + 24) = PXMemorySpecVariantForTileKindFeatureSpec(v8, v14);
  *(double *)(a4 + 32) = a5;
  *(double *)(a4 + 40) = a6;
  *(double *)(a4 + 48) = a7;
  *(double *)(a4 + 56) = a8;
  LOBYTE(v8) = PXMemoryShouldScaleForSpecSetFeatureSpec(v15, v14);

  *(unsigned char *)(a4 + 64) = v8;
}

void _LabelContextMakeDescriptor(uint64_t a1@<X0>, uint64_t *a2@<X1>, void *a3@<X2>, uint64_t a4@<X8>)
{
  *(void *)(a4 + 64) = 0;
  *(_OWORD *)(a4 + 32) = 0u;
  *(_OWORD *)(a4 + 48) = 0u;
  *(_OWORD *)(a4 + 16) = 0u;
  *(void *)a4 = a1;
  uint64_t v6 = *a2;
  id v7 = a3;
  if ((unint64_t)(v6 - 1900) >= 0x64) {
    uint64_t v8 = 0;
  }
  else {
    uint64_t v8 = (v6 - 108) % 0xFu;
  }
  *(void *)(a4 + 8) = v8;
  *(void *)(a4 + 16) = PXMemorySpecSetForTileKindFeatureSpec(v8, v7);
  uint64_t v9 = PXMemorySpecVariantForTileKindFeatureSpec(v8, v7);
  *(void *)(a4 + 32) = 0;
  *(void *)(a4 + 40) = 0;
  *(void *)(a4 + 24) = v9;
  long long v10 = *(_OWORD *)a2;
  *(_OWORD *)(a4 + 48) = *((_OWORD *)a2 + 1);
  long long v11 = *((_OWORD *)a2 + 1);
  v13[0] = v10;
  v13[1] = v11;
  char ShouldScaleForDescriptorFeatureSpec = PXMemoryShouldScaleForDescriptorFeatureSpec((uint64_t *)v13, v7);

  *(unsigned char *)(a4 + 64) = ShouldScaleForDescriptorFeatureSpec;
}

uint64_t _LabelContextMake@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, char a5@<W4>, uint64_t a6@<X8>, double a7@<D0>, double a8@<D1>, double a9@<D2>, double a10@<D3>)
{
  *(void *)(a6 + 64) = 0;
  *(void *)a6 = result;
  *(void *)(a6 + 8) = a2;
  *(void *)(a6 + 16) = a3;
  *(void *)(a6 + 24) = a4;
  *(double *)(a6 + 32) = a7;
  *(double *)(a6 + 40) = a8;
  *(double *)(a6 + 48) = a9;
  *(double *)(a6 + 56) = a10;
  *(unsigned char *)(a6 + 64) = a5;
  return result;
}

void sub_1AAB44ACC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAB4959C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB4B318(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id _AllHubbleQuestionsForPhotoLibrary(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v6 = [MEMORY[0x1E4F28B00] currentHandler];
    id v7 = [NSString stringWithUTF8String:"PHFetchResult<PHQuestion *> *_AllHubbleQuestionsForPhotoLibrary(PHPhotoLibrary *__strong)"];
    [v6 handleFailureInFunction:v7, @"PXContentSyndicationSettings+UI.m", 337, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  uint64_t v2 = [v1 librarySpecificFetchOptions];
  id v3 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"type == %u", 18);
  [v2 setPredicate:v3];

  id v4 = [MEMORY[0x1E4F39250] fetchQuestionsWithOptions:v2 validQuestionsOnly:0];

  return v4;
}

void _PresentAlertForNavigationController(void *a1, void *a2, void *a3)
{
  id v13 = a1;
  id v5 = a2;
  id v6 = a3;
  if (v13)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v10 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PresentAlertForNavigationController(NSString *__strong, NSString * _Nullable __strong, UINavigationController *__strong)");
    [v9 handleFailureInFunction:v10, @"PXContentSyndicationSettings+UI.m", 37, @"Invalid parameter not satisfying: %@", @"title" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  long long v11 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PresentAlertForNavigationController(NSString *__strong, NSString * _Nullable __strong, UINavigationController *__strong)");
  [v11 handleFailureInFunction:v12, @"PXContentSyndicationSettings+UI.m", 38, @"Invalid parameter not satisfying: %@", @"navigationController" file lineNumber description];

LABEL_3:
  id v7 = [MEMORY[0x1E4FB1418] alertControllerWithTitle:v13 message:v5 preferredStyle:1];
  uint64_t v8 = [MEMORY[0x1E4FB1410] actionWithTitle:@"OK" style:0 handler:0];
  [v7 addAction:v8];

  [v6 presentViewController:v7 animated:1 completion:0];
}

void sub_1AAB4D910(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va1, a8);
  va_start(va, a8);
  uint64_t v9 = va_arg(va1, void);
  uint64_t v11 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__53030(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__53031(uint64_t a1)
{
}

void sub_1AAB4E234(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB4E5F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB503CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPIColorNormalizationFilterClass_block_invoke_54458(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary_54465)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __PhotoImagingLibraryCore_block_invoke_54466;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB4298;
    uint64_t v8 = 0;
    PhotoImagingLibraryCore_frameworkLibrary_54465 = _sl_dlopen();
  }
  if (!PhotoImagingLibraryCore_frameworkLibrary_54465)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXStorySettings.m", 32, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("PIColorNormalizationFilter");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getPIColorNormalizationFilterClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXStorySettings.m", 33, @"Unable to find class %s", "PIColorNormalizationFilter");

LABEL_10:
    __break(1u);
  }
  getPIColorNormalizationFilterClass_softClass_54457 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PhotoImagingLibraryCore_block_invoke_54466()
{
  uint64_t result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary_54465 = result;
  return result;
}

uint64_t PXStoryIsSlowDevice()
{
  if (PXStoryIsSlowDevice_onceToken != -1) {
    dispatch_once(&PXStoryIsSlowDevice_onceToken, &__block_literal_global_1658);
  }
  return 0;
}

__CFString *PXStoryShowcaseModeDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB42B0[a1];
  }
}

void *PXStoryShowcaseModePossibleValues()
{
  return &unk_1F02D3A90;
}

__CFString *PXStorySimulatedErrorDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DB42C8[a1];
  }
}

void *PXStorySimulatedErrorPossibleValues()
{
  return &unk_1F02D3AA8;
}

__CFString *PXStoryNormalizationModeToString(unint64_t a1)
{
  if (a1 > 4) {
    return @"??";
  }
  else {
    return off_1E5DB42E8[a1];
  }
}

__CFString *PXStoryNormalizationTechniqueDescription(uint64_t a1)
{
  id v1 = @"??";
  if (a1 == 1) {
    id v1 = @"CoreImage Adjustment";
  }
  if (a1) {
    return v1;
  }
  else {
    return @"Shader LUT";
  }
}

__CFString *PXStoryAudioPlaybackStrategyToString(unint64_t a1)
{
  if (a1 > 5) {
    return @"??";
  }
  else {
    return off_1E5DB4310[a1];
  }
}

void *PXStoryAudioPlaybackStrategyPossibleValues()
{
  return &unk_1F02D3AC0;
}

__CFString *PXStoryAudioOverlapStrategyToString(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DB4340[a1];
  }
}

void *PXStoryAudioOverlapStrategyPossibleValues()
{
  return &unk_1F02D3AD8;
}

void *PXStoryAudioCurvePossibleValues()
{
  return &unk_1F02D3AF0;
}

__CFString *PXStoryAspectRatioDescription(unint64_t a1)
{
  if (a1 > 9) {
    return @"??";
  }
  else {
    return off_1E5DB4360[a1];
  }
}

void *PXStoryAspectRatioPossibleValues()
{
  return &unk_1F02D3B08;
}

void *PXStoryVideoQualityPossibleValues()
{
  return &unk_1F02D3B20;
}

__CFString *PXStoryVideoQualityDescription(unint64_t a1)
{
  if (a1 > 5) {
    return @"??";
  }
  else {
    return off_1E5DB43B0[a1];
  }
}

void sub_1AAB51788(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__54687(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__54688(uint64_t a1)
{
}

uint64_t _SelectionStyleUsesBadge(uint64_t a1)
{
  if ((unint64_t)(a1 + 1) >= 7)
  {
    id v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
    long long v7 = [NSString stringWithUTF8String:"BOOL _SelectionStyleUsesBadge(PXGSelectionDecorationStyle)"];
    [v6 handleFailureInFunction:v7 file:@"PXGDecorationDefaultBadgeDrawingHelper.m" lineNumber:48 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return (0x70u >> (a1 + 1)) & 1;
}

void sub_1AAB53C2C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB53D08(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAB53EEC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAB54054(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAB54368(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAB54838(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

PXConcatenatingAssetsDataSourceManager *PXDataSourceManagerByConcatenatingDataSourceManagers(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [[PXConcatenatingAssetsDataSourceManager alloc] initWithDataSourceManagers:v1];

  return v2;
}

void sub_1AAB58B78(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id _powerControllerLog()
{
  if (_powerControllerLog_onceToken != -1) {
    dispatch_once(&_powerControllerLog_onceToken, &__block_literal_global_56503);
  }
  uint64_t v0 = (void *)_powerControllerLog_sPowerLog;
  return v0;
}

id NSStringFromPXPowerAssertionReasonBitfield(unsigned int a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  if (a1)
  {
    int v3 = 1;
    do
    {
      if (a1)
      {
        uint64_t v4 = @"PXPowerAssertionReasonImportAssets";
        if ((v3 - 2) <= 6) {
          uint64_t v4 = off_1E5DB44F0[v3 - 2];
        }
        [v2 addObject:v4];
      }
      v3 *= 2;
      BOOL v5 = a1 > 1;
      a1 >>= 1;
    }
    while (v5);
  }
  id v6 = [v2 componentsJoinedByString:@", "];

  return v6;
}

void ___powerControllerLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.Power", "PowerController");
  id v1 = (void *)_powerControllerLog_sPowerLog;
  _powerControllerLog_sPowerLog = (uint64_t)v0;
}

id PXRecipientWithPersonSuggestion(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v10 = objc_msgSend(NSString, "stringWithUTF8String:", "PXRecipient * _Nullable PXRecipientWithPersonSuggestion(__strong id<PXPersonSuggestion> _Nonnull, CNContact *__strong _Nullable)");
    [v9 handleFailureInFunction:v10, @"PXRecipientUtilities.m", 21, @"Invalid parameter not satisfying: %@", @"personSuggestion" file lineNumber description];
  }
  uint64_t v14 = 0;
  uint64_t v15 = &v14;
  uint64_t v16 = 0x3032000000;
  char v17 = __Block_byref_object_copy__56586;
  uint64_t v18 = __Block_byref_object_dispose__56587;
  id v19 = 0;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v5 = v3;
    [v5 setPrefetchedContact:v4];
    v11[0] = MEMORY[0x1E4F143A8];
    v11[1] = 3221225472;
    void v11[2] = __PXRecipientWithPersonSuggestion_block_invoke;
    v11[3] = &unk_1E5DB4530;
    id v6 = v5;
    id v12 = v6;
    uint64_t v13 = &v14;
    [v6 fetchContactAndBestTransport:v11];
  }
  id v7 = (id)v15[5];
  _Block_object_dispose(&v14, 8);

  return v7;
}

void sub_1AAB5A914(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__56586(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__56587(uint64_t a1)
{
}

void __PXRecipientWithPersonSuggestion_block_invoke(uint64_t a1, void *a2, void *a3)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  id v7 = v6;
  if (v5)
  {
    if (v6)
    {
      uint64_t v8 = [v6 address];
      uint64_t v9 = [v7 addressKind];
    }
    else
    {
      long long v10 = PLSharingGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
      {
        uint64_t v11 = *(void *)(a1 + 32);
        int v18 = 138412290;
        uint64_t v19 = v11;
        _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEFAULT, "No best transport available for person suggestion:%@", (uint8_t *)&v18, 0xCu);
      }

      uint64_t v9 = 0;
      uint64_t v8 = 0;
    }
    id v12 = [[PXRecipient alloc] initWithContact:v5 address:v8 nameComponents:0 recipientKind:v9];
    uint64_t v13 = *(void *)(*(void *)(a1 + 40) + 8);
    uint64_t v14 = *(void **)(v13 + 40);
    *(void *)(v13 + 40) = v12;

    uint64_t v15 = [*(id *)(*(void *)(*(void *)(a1 + 40) + 8) + 40) invalidAddressString];

    if (v15)
    {
      uint64_t v16 = *(void *)(*(void *)(a1 + 40) + 8);
      char v17 = *(void **)(v16 + 40);
      *(void *)(v16 + 40) = 0;
    }
  }
}

PXRecipient *PXRecipientFromShareParticipant(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = [NSString stringWithUTF8String:"PXRecipient * _Nonnull PXRecipientFromShareParticipant(PHShareParticipant *__strong _Nonnull)"];
    [v8 handleFailureInFunction:v9, @"PXRecipientUtilities.m", 49, @"Invalid parameter not satisfying: %@", @"participant" file lineNumber description];
  }
  id v2 = [PXRecipient alloc];
  id v3 = [v1 emailAddress];
  id v4 = [v1 phoneNumber];
  id v5 = [v1 nameComponents];
  id v6 = [(PXRecipient *)v2 initWithEmailAddress:v3 phoneNumber:v4 nameComponents:v5];

  return v6;
}

uint64_t PXBootstrapPersonSuggestionWithContact(void *a1, void *a2, uint64_t a3)
{
  id v5 = a1;
  id v6 = a2;
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    char v17 = [MEMORY[0x1E4F28B00] currentHandler];
    int v18 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXBootstrapPersonSuggestionWithContact(__strong id<PXPersonSuggestion> _Nonnull, CNContact *__strong _Nonnull, NSError *__autoreleasing * _Nullable)");
    [v17 handleFailureInFunction:v18, @"PXRecipientUtilities.m", 57, @"Invalid parameter not satisfying: %@", @"[personSuggestion isKindOfClass:[PXPhotoKitPersonSuggestion class]]" file lineNumber description];
  }
  id v7 = [v5 person];
  if (!v7)
  {
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v20 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXBootstrapPersonSuggestionWithContact(__strong id<PXPersonSuggestion> _Nonnull, CNContact *__strong _Nonnull, NSError *__autoreleasing * _Nullable)");
    [v19 handleFailureInFunction:v20, @"PXRecipientUtilities.m", 59, @"Invalid parameter not satisfying: %@", @"person" file lineNumber description];
  }
  uint64_t v8 = [MEMORY[0x1E4F391F0] fullNameFromContact:v6];
  uint64_t v9 = [MEMORY[0x1E4F391F0] displayNameFromContact:v6];
  long long v10 = [v7 photoLibrary];
  v21[0] = MEMORY[0x1E4F143A8];
  v21[1] = 3221225472;
  v21[2] = __PXBootstrapPersonSuggestionWithContact_block_invoke;
  v21[3] = &unk_1E5DCAEC8;
  id v22 = v7;
  id v23 = v6;
  id v24 = v8;
  id v25 = v9;
  id v11 = v9;
  id v12 = v8;
  id v13 = v6;
  id v14 = v7;
  uint64_t v15 = [v10 performChangesAndWait:v21 error:a3];

  return v15;
}

void __PXBootstrapPersonSuggestionWithContact_block_invoke(uint64_t a1)
{
  id v5 = [MEMORY[0x1E4F39200] changeRequestForPerson:*(void *)(a1 + 32)];
  id v2 = +[PXPeopleUtilities sharedContactStore];
  id v3 = [MEMORY[0x1E4F8A768] matchingDictionaryForContact:*(void *)(a1 + 40) contactStore:v2];
  [v5 setContactMatchingDictionary:v3];
  id v4 = [*(id *)(a1 + 40) identifier];
  [v5 setPersonUri:v4];

  [v5 setName:*(void *)(a1 + 48)];
  [v5 setDisplayName:*(void *)(a1 + 56)];
}

uint64_t __Block_byref_object_copy__56775(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__56776(uint64_t a1)
{
}

void sub_1AAB5BBB4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,char a30)
{
}

void sub_1AAB5DFD4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 112));
  _Unwind_Resume(a1);
}

BOOL PXClipCompositionContainsSplitAsset(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 numberOfClips];
  uint64_t v3 = [v1 numberOfAssets];

  return v2 > v3;
}

void PXStorySegmentClipCompositionInfoFromComposition(void *a1@<X0>, uint64_t a2@<X8>)
{
  id v3 = a1;
  uint64_t v4 = [v3 numberOfClips];
  char v5 = [v3 clipFramesExtendToBounds];
  uint64_t v6 = [v3 mainDividerAxis];
  [v3 mainDividerSplitRatio];
  uint64_t v8 = v7;
  uint64_t v9 = [v3 numberOfAssets];

  *(void *)a2 = v4;
  *(unsigned char *)(a2 + 8) = v5;
  *(void *)(a2 + 16) = v6;
  *(void *)(a2 + 24) = v8;
  *(void *)(a2 + 32) = v9;
}

id PXLinkPresentationImageForAsset(void *a1, char a2, double a3, double a4)
{
  id v7 = a1;
  id v8 = objc_alloc_init(MEMORY[0x1E4F28D78]);
  uint64_t v9 = objc_opt_class();
  uint64_t v14 = MEMORY[0x1E4F143A8];
  uint64_t v15 = 3221225472;
  uint64_t v16 = __PXLinkPresentationImageForAsset_block_invoke;
  char v17 = &unk_1E5DB46C0;
  double v19 = a3;
  double v20 = a4;
  char v21 = a2;
  id v18 = v7;
  id v10 = v7;
  [v8 registerObjectOfClass:v9 visibility:0 loadHandler:&v14];
  id v11 = objc_alloc(MEMORY[0x1E4F30A38]);
  id v12 = objc_msgSend(v11, "initWithItemProvider:properties:placeholderImage:", v8, 0, 0, v14, v15, v16, v17);

  return v12;
}

void __PXLinkPresentationImageForAsset_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  PLPhysicalScreenScale();
  PXSizeScale();
}

void __PXLinkPresentationImageForAsset_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v11 = *MEMORY[0x1E4F143B8];
  if (a2)
  {
    uint64_t v4 = *(void (**)(void))(*(void *)(a1 + 32) + 16);
    v4();
  }
  else
  {
    char v5 = [a3 objectForKeyedSubscript:*MEMORY[0x1E4F39698]];
    uint64_t v6 = PLUIGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      int v7 = 136315394;
      id v8 = "LPImage * _Nonnull PXLinkPresentationImageForAsset(__strong id<PXDisplayAsset> _Nonnull, CGSize, BOOL)_block_invoke_2";
      __int16 v9 = 2112;
      id v10 = v5;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_ERROR, "%s: Error fetching thumbnail image data: %@", (uint8_t *)&v7, 0x16u);
    }

    (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
  }
}

double PXPhotoViewBannerHeight()
{
  return 24.0;
}

void PXStoryStyleDefaultContentInfoForDisplayAsset(void *a1@<X0>, uint64_t a2@<X8>)
{
  id v13 = a1;
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  *(_OWORD *)(a2 + 32) = 0u;
  *(_OWORD *)(a2 + 48) = 0u;
  *(_OWORD *)(a2 + 64) = 0u;
  *(_OWORD *)(a2 + 80) = 0u;
  *(_OWORD *)(a2 + 96) = 0u;
  *(_OWORD *)(a2 + 112) = 0u;
  *(_OWORD *)(a2 + 128) = 0u;
  uint64_t v3 = objc_msgSend(v13, "playbackStyle", PXStoryBasicContentInfoForDisplayAsset(v13, a2));
  uint64_t v4 = v13;
  if ((v3 & 0xFFFFFFFFFFFFFFFELL) == 4)
  {
    char v5 = [v13 resourcesDataSource];
    uint64_t v6 = objc_msgSend(v5, "movieHighlightsForDisplayAssetAtIndex:", objc_msgSend(v13, "resourceIndex"));

    int v7 = PXStoryMovieHighlightForPlaybackStyle(v6, v3);
    id v8 = v7;
    if (v7)
    {
      [v7 bestPlaybackRect];
      *(void *)(a2 + 112) = v9;
      *(void *)(a2 + 120) = v10;
      *(void *)(a2 + 128) = v11;
      *(void *)(a2 + 136) = v12;
    }

    uint64_t v4 = v13;
  }
}

uint64_t PXStoryStyleEqualToStyle(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = [v3 originalColorGradeCategory];
  id v6 = [v4 originalColorGradeCategory];
  if (v5 == v6)
  {
  }
  else
  {
    int v7 = [v5 isEqualToString:v6];

    if (!v7) {
      goto LABEL_10;
    }
  }
  uint64_t v8 = [v3 customColorGradeKind];
  if (v8 == [v4 customColorGradeKind])
  {
    uint64_t v9 = [v3 songResource];
    uint64_t v10 = [v4 songResource];
    if (!PXStorySongResourceEqualToSongResource(v9, v10))
    {
      uint64_t v13 = 0;
LABEL_22:

      goto LABEL_23;
    }
    id v11 = [v3 cueSource];
    id v12 = [v4 cueSource];
    if (v11 == v12)
    {
    }
    else
    {
      uint64_t v13 = [v11 isEqual:v12];

      if (!v13) {
        goto LABEL_21;
      }
    }
    int v14 = [v3 isCustomized];
    if (v14 != [v4 isCustomized])
    {
      uint64_t v13 = 0;
LABEL_21:

      goto LABEL_22;
    }
    if (v3)
    {
      [v3 outroDuration];
      if (v4)
      {
LABEL_17:
        [v4 outroDuration];
LABEL_20:
        CMTime time1 = v16[1];
        CMTime time2 = v16[0];
        uint64_t v13 = CMTimeCompare(&time1, &time2) == 0;
        goto LABEL_21;
      }
    }
    else
    {
      memset(&v16[1], 0, sizeof(CMTime));
      if (v4) {
        goto LABEL_17;
      }
    }
    memset(v16, 0, 24);
    goto LABEL_20;
  }
LABEL_10:
  uint64_t v13 = 0;
LABEL_23:

  return v13;
}

id PXDebugImageWithFaceRect(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    [v3 normalizedFaceAreaRect];
    [v4 size];
    [v4 size];
    PXRectDenormalize();
  }

  return v4;
}

id PXStoryRelatedAnimationCreate(void *a1)
{
  id v1 = a1;
  id v2 = +[PXStorySettings sharedInstance];
  [v2 relatedAnimationDuration];
  double v4 = v3;

  if (v4 <= 0.0)
  {
    id v6 = 0;
  }
  else
  {
    id v5 = [v1 rootLayout];
    id v6 = [v5 createAnimation];

    [v6 setDuration:v4];
    [v6 setDoubleSided:1];
    int v7 = [[PXStoryRelatedAnimationDelegate alloc] initWithSelectedRelatedLayout:v1];
    [v6 setDelegate:v7];
  }
  return v6;
}

float _AdjustAlphaWithRelativeFadeDuration(float *a1, float a2)
{
  float result = (1.0 - 1.0 / a2) * *a1;
  *a1 = result;
  return result;
}

void sub_1AAB67B58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,char a34,uint64_t a35,uint64_t a36,uint64_t a37,char a38)
{
}

void sub_1AAB685C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 208), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB6B834(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

uint64_t __Block_byref_object_copy__59270(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__59271(uint64_t a1)
{
}

id PXGetBootSessionUUID()
{
  if (PXGetBootSessionUUID_onceToken != -1) {
    dispatch_once(&PXGetBootSessionUUID_onceToken, &__block_literal_global_59303);
  }
  os_log_t v0 = (void *)PXGetBootSessionUUID_bootUUID;
  return v0;
}

void __PXGetBootSessionUUID_block_invoke()
{
  uint64_t v4 = *MEMORY[0x1E4F143B8];
  memset(v3, 0, sizeof(v3));
  size_t v2 = 37;
  if (!sysctlbyname("kern.bootsessionuuid", v3, &v2, 0, 0))
  {
    uint64_t v0 = [NSString stringWithUTF8String:v3];
    id v1 = (void *)PXGetBootSessionUUID_bootUUID;
    PXGetBootSessionUUID_bootUUID = v0;
  }
}

uint64_t PXCheckAndNoteUseOfSystemSinceBoot(uint64_t a1)
{
  id v1 = [NSString stringWithFormat:@"lastEditBootUUID_%@", a1];
  size_t v2 = PXGetBootSessionUUID();
  if (v2)
  {
    double v3 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
    uint64_t v4 = [v3 stringForKey:v1];

    if (v4 && ([v4 isEqual:v2] & 1) != 0)
    {
      uint64_t v5 = 0;
    }
    else
    {
      id v6 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
      [v6 setObject:v2 forKey:v1];

      uint64_t v5 = 1;
    }
  }
  else
  {
    uint64_t v5 = 0;
  }

  return v5;
}

BOOL PXDisplayAssetIsInCloud(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
    BOOL v3 = ([v2 isCloudSharedAsset] & 1) == 0 && objc_msgSend(v2, "cloudPlaceholderKind") == 2;
  }
  else
  {
    BOOL v3 = 0;
  }

  return v3;
}

uint64_t PXDisplayAssetIsCloudShared(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass()) {
    uint64_t v2 = [v1 isCloudSharedAsset];
  }
  else {
    uint64_t v2 = 0;
  }

  return v2;
}

uint64_t PXDisplayAssetIsAnimatedImage(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
    if ([v2 hasAdjustments]) {
      uint64_t v3 = 0;
    }
    else {
      uint64_t v3 = [v2 isAnimatedGIF];
    }
  }
  else
  {
    uint64_t v3 = 0;
  }

  return v3;
}

uint64_t PXDisplayAssetWasSavedThroughSyndication(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass()) {
    uint64_t v2 = objc_msgSend(v1, "px_wasSavedThroughSyndication");
  }
  else {
    uint64_t v2 = 0;
  }

  return v2;
}

uint64_t PXDisplayAssetIsSyndicatedAsset(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass()) {
    uint64_t v2 = objc_msgSend(v1, "px_isSyndicatedAsset");
  }
  else {
    uint64_t v2 = 0;
  }

  return v2;
}

id PXDisplayAssetLocation(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"CLLocation * _Nullable PXDisplayAssetLocation(__strong id<PXDisplayAsset> _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXPHDisplayAssetUtilities.m", 87, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v2 = [v1 location];
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

void image_queue_release(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v10 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  CAImageQueueUnregisterBuffer();
  uint64_t v5 = PLUIGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEBUG))
  {
    int v6 = 134218240;
    id v7 = v4;
    __int16 v8 = 2048;
    uint64_t v9 = a2;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEBUG, "PXImageQueueLayer(%p) released buffer %llu", (uint8_t *)&v6, 0x16u);
  }
}

void sub_1AAB6F034(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
}

void sub_1AAB6F40C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((const void *)(v27 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__59651(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__59652(uint64_t a1)
{
}

void sub_1AAB6F748(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB6F7F0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, id a11)
{
  _Unwind_Resume(a1);
}

void sub_1AAB6F910(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AAB6FD88(_Unwind_Exception *a1)
{
  operator delete(v1);
  _Unwind_Resume(a1);
}

void std::__throw_bad_array_new_length[abi:ne180100]()
{
  exception = (std::bad_array_new_length *)__cxa_allocate_exception(8uLL);
  id v1 = std::bad_array_new_length::bad_array_new_length(exception);
  __cxa_throw(v1, MEMORY[0x1E4FBA350], MEMORY[0x1E4FBA1F8]);
}

void sub_1AAB6FF68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void std::__hash_table<std::__hash_value_type<PXTileIdentifier,unsigned long>,std::__unordered_map_hasher<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::hash<PXTileIdentifier>,std::equal_to<PXTileIdentifier>,true>,std::__unordered_map_equal<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::equal_to<PXTileIdentifier>,std::hash<PXTileIdentifier>,true>,std::allocator<std::__hash_value_type<PXTileIdentifier,unsigned long>>>::__erase_unique<PXTileIdentifier>(void *a1, unint64_t *a2)
{
  uint64_t v3 = std::__hash_table<std::__hash_value_type<PXTileIdentifier,unsigned long>,std::__unordered_map_hasher<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::hash<PXTileIdentifier>,std::equal_to<PXTileIdentifier>,true>,std::__unordered_map_equal<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::equal_to<PXTileIdentifier>,std::hash<PXTileIdentifier>,true>,std::allocator<std::__hash_value_type<PXTileIdentifier,unsigned long>>>::find<PXTileIdentifier>(a1, a2);
  if (v3)
  {
    int8x8_t v4 = (int8x8_t)a1[1];
    unint64_t v5 = v3[1];
    uint8x8_t v6 = (uint8x8_t)vcnt_s8(v4);
    v6.i16[0] = vaddlv_u8(v6);
    if (v6.u32[0] > 1uLL)
    {
      if (v5 >= *(void *)&v4) {
        v5 %= *(void *)&v4;
      }
    }
    else
    {
      v5 &= *(void *)&v4 - 1;
    }
    id v7 = *(void **)(*a1 + 8 * v5);
    do
    {
      __int16 v8 = v7;
      id v7 = (void *)*v7;
    }
    while (v7 != v3);
    if (v8 == a1 + 2) {
      goto LABEL_20;
    }
    unint64_t v9 = v8[1];
    if (v6.u32[0] > 1uLL)
    {
      if (v9 >= *(void *)&v4) {
        v9 %= *(void *)&v4;
      }
    }
    else
    {
      v9 &= *(void *)&v4 - 1;
    }
    if (v9 != v5)
    {
LABEL_20:
      if (!*v3) {
        goto LABEL_21;
      }
      unint64_t v10 = *(void *)(*v3 + 8);
      if (v6.u32[0] > 1uLL)
      {
        if (v10 >= *(void *)&v4) {
          v10 %= *(void *)&v4;
        }
      }
      else
      {
        v10 &= *(void *)&v4 - 1;
      }
      if (v10 != v5) {
LABEL_21:
      }
        *(void *)(*a1 + 8 * v5) = 0;
    }
    uint64_t v11 = *v3;
    if (*v3)
    {
      unint64_t v12 = *(void *)(v11 + 8);
      if (v6.u32[0] > 1uLL)
      {
        if (v12 >= *(void *)&v4) {
          v12 %= *(void *)&v4;
        }
      }
      else
      {
        v12 &= *(void *)&v4 - 1;
      }
      if (v12 != v5)
      {
        *(void *)(*a1 + 8 * v12) = v8;
        uint64_t v11 = *v3;
      }
    }
    *__int16 v8 = v11;
    *uint64_t v3 = 0;
    --a1[3];
    operator delete(v3);
  }
}

void *std::__hash_table<std::__hash_value_type<PXTileIdentifier,unsigned long>,std::__unordered_map_hasher<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::hash<PXTileIdentifier>,std::equal_to<PXTileIdentifier>,true>,std::__unordered_map_equal<PXTileIdentifier,std::__hash_value_type<PXTileIdentifier,unsigned long>,std::equal_to<PXTileIdentifier>,std::hash<PXTileIdentifier>,true>,std::allocator<std::__hash_value_type<PXTileIdentifier,unsigned long>>>::find<PXTileIdentifier>(void *a1, unint64_t *a2)
{
  unint64_t v2 = *a2;
  if (*a2)
  {
    uint64_t v3 = 0;
    unint64_t v4 = *a2;
    do
    {
      v4 ^= a2[v3 + 1] << v3;
      ++v3;
    }
    while (v2 != v3);
  }
  else
  {
    unint64_t v4 = 0;
  }
  int8x8_t v5 = (int8x8_t)a1[1];
  if (!*(void *)&v5) {
    return 0;
  }
  uint8x8_t v6 = (uint8x8_t)vcnt_s8(v5);
  v6.i16[0] = vaddlv_u8(v6);
  if (v6.u32[0] > 1uLL)
  {
    unint64_t v7 = v4;
    if (v4 >= *(void *)&v5) {
      unint64_t v7 = v4 % *(void *)&v5;
    }
  }
  else
  {
    unint64_t v7 = (*(void *)&v5 - 1) & v4;
  }
  __int16 v8 = *(void **)(*a1 + 8 * v7);
  if (!v8) {
    return 0;
  }
  float result = (void *)*v8;
  if (*v8)
  {
    unint64_t v10 = a2 + 1;
    do
    {
      unint64_t v11 = result[1];
      if (v11 == v4)
      {
        uint64_t v12 = result[2];
        BOOL v13 = v12 == v2;
        if (v12) {
          BOOL v14 = v12 == v2;
        }
        else {
          BOOL v14 = 0;
        }
        if (v14)
        {
          unint64_t v15 = 0;
          do
          {
            uint64_t v16 = result[v15 + 3];
            uint64_t v17 = v10[v15];
            BOOL v13 = v16 == v17;
            ++v15;
          }
          while (v15 < v2 && v16 == v17);
        }
        if (v13) {
          return result;
        }
      }
      else
      {
        if (v6.u32[0] > 1uLL)
        {
          if (v11 >= *(void *)&v5) {
            v11 %= *(void *)&v5;
          }
        }
        else
        {
          v11 &= *(void *)&v5 - 1;
        }
        if (v11 != v7) {
          return 0;
        }
      }
      float result = (void *)*result;
    }
    while (result);
  }
  return result;
}

void sub_1AAB70470(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15, void *a16)
{
  _Unwind_Resume(a1);
}

void sub_1AAB705D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  _Block_object_dispose((const void *)(v16 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB70750(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  _Block_object_dispose((const void *)(v16 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB70858(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  _Unwind_Resume(a1);
}

void sub_1AAB70990(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB70BC8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AAB70C78(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB70DF0(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB70EBC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, objc_super a10)
{
  a10.super_class = (Class)PXTileStatePool;
  [(_Unwind_Exception *)&a10 dealloc];
  _Unwind_Resume(a1);
}

void __clang_call_terminate(void *a1)
{
}

void sub_1AAB71054(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB72FFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__60037(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__60038(uint64_t a1)
{
}

void sub_1AAB731CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAB79EE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

uint64_t __Block_byref_object_copy__60967(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__60968(uint64_t a1)
{
}

void sub_1AAB7CF14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__61326(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__61327(uint64_t a1)
{
}

void PXGRectWithSizeAlignedToRectEdgesWithPadding()
{
}

double PXHorizontalClippingDistanceForCornerRadius(double a1, double a2)
{
  double v2 = fmax(a2, 0.0);
  if (v2 >= a1) {
    double v2 = a1;
  }
  return a1 - sqrt(a1 * a1 - (a1 - v2) * (a1 - v2));
}

void sub_1AAB7FE14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAB7FED0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB81084(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__62048(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__62049(uint64_t a1)
{
}

void sub_1AAB813C8(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16)
{
}

id PXLocalizedStringWithValidatedFormat(void *a1, void *a2)
{
  uint64_t v3 = (void *)MEMORY[0x1E4F1CA20];
  id v4 = a2;
  id v5 = a1;
  uint8x8_t v6 = [v3 currentLocale];
  unint64_t v7 = PFStringWithValidatedFormatAndLocale();

  return v7;
}

id PXLocalizedStringFromInteger(uint64_t a1)
{
  if (PXLocalizedStringFromInteger_onceToken != -1) {
    dispatch_once(&PXLocalizedStringFromInteger_onceToken, &__block_literal_global_255);
  }
  double v2 = (void *)PXLocalizedStringFromInteger_decimalCountFormatter;
  uint64_t v3 = [NSNumber numberWithInteger:a1];
  id v4 = [v2 stringFromNumber:v3];

  return v4;
}

uint64_t __PXLocalizedStringFromInteger_block_invoke()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F28EE0]);
  id v1 = (void *)PXLocalizedStringFromInteger_decimalCountFormatter;
  PXLocalizedStringFromInteger_decimalCountFormatter = (uint64_t)v0;

  double v2 = (void *)PXLocalizedStringFromInteger_decimalCountFormatter;
  uint64_t v3 = [MEMORY[0x1E4F1CA20] currentLocale];
  [v2 setLocale:v3];

  [(id)PXLocalizedStringFromInteger_decimalCountFormatter setGeneratesDecimalNumbers:1];
  id v4 = (void *)PXLocalizedStringFromInteger_decimalCountFormatter;
  return [v4 setNumberStyle:1];
}

id PXLocalizedString(void *a1)
{
  return PXLocalizedStringFromTable(a1, @"PhotosUICore");
}

id PXLocalizedSharedAlbumsString(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint8x8_t v6 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v7 = [NSString stringWithUTF8String:"NSString * _Nonnull PXLocalizedSharedAlbumsString(NSString *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXLocalization.m", 61, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  double v2 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  uint64_t v3 = [v2 localizedStringForKey:v1 value:&stru_1F00B0030 table:@"PhotosUICoreSharedAlbums"];
  id v4 = _Workaround_57367996_IfNecessary(v3);

  return v4;
}

id PXLocalizedStoryPromptSuggestionsString(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint8x8_t v6 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v7 = [NSString stringWithUTF8String:"NSString * _Nonnull PXLocalizedStoryPromptSuggestionsString(NSString *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXLocalization.m", 84, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  double v2 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  uint64_t v3 = [v2 localizedStringForKey:v1 value:&stru_1F00B0030 table:@"PhotosUICoreStoryPromptSuggestions"];
  id v4 = _Workaround_57367996_IfNecessary(v3);

  return v4;
}

id PXLocalizedAttributedStringFromTable(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    unint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v10 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXLocalizedAttributedStringFromTable(NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
    [v9 handleFailureInFunction:v10, @"PXLocalization.m", 134, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  unint64_t v11 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXLocalizedAttributedStringFromTable(NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
  [v11 handleFailureInFunction:v12, @"PXLocalization.m", 135, @"Invalid parameter not satisfying: %@", @"table" file lineNumber description];

LABEL_3:
  uint8x8_t v6 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  unint64_t v7 = [v6 localizedAttributedStringForKey:v3 value:&stru_1F00B0030 table:v5];

  return v7;
}

id PXLocalizedStringForDetailedCounts(void *a1, void *a2, void *a3, void *a4)
{
  id v7 = a2;
  id v8 = a3;
  id v9 = a4;
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || a1[1] == 0x7FFFFFFFFFFFFFFFLL || a1[2] == 0x7FFFFFFFFFFFFFFFLL)
  {
    char v21 = [MEMORY[0x1E4F28B00] currentHandler];
    id v22 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForDetailedCounts(PXDisplayAssetDetailedCounts, NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
    [v21 handleFailureInFunction:v22, @"PXLocalization.m", 165, @"Invalid parameter not satisfying: %@", @"PXDisplayAssetDetailedCountsIsValid(detailedCounts)" file lineNumber description];

    if (v7)
    {
LABEL_9:
      if (v8) {
        goto LABEL_10;
      }
LABEL_29:
      id v25 = [MEMORY[0x1E4F28B00] currentHandler];
      id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForDetailedCounts(PXDisplayAssetDetailedCounts, NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
      [v25 handleFailureInFunction:v26, @"PXLocalization.m", 167, @"Invalid parameter not satisfying: %@", @"videosKey" file lineNumber description];

      if (v9) {
        goto LABEL_11;
      }
      goto LABEL_30;
    }
  }
  else if (v7)
  {
    goto LABEL_9;
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForDetailedCounts(PXDisplayAssetDetailedCounts, NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
  [v23 handleFailureInFunction:v24, @"PXLocalization.m", 166, @"Invalid parameter not satisfying: %@", @"photosKey" file lineNumber description];

  if (!v8) {
    goto LABEL_29;
  }
LABEL_10:
  if (v9) {
    goto LABEL_11;
  }
LABEL_30:
  uint64_t v27 = [MEMORY[0x1E4F28B00] currentHandler];
  id v28 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForDetailedCounts(PXDisplayAssetDetailedCounts, NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSString *__strong _Nonnull)");
  [v27 handleFailureInFunction:v28, @"PXLocalization.m", 168, @"Invalid parameter not satisfying: %@", @"othersKey" file lineNumber description];

LABEL_11:
  BOOL v12 = *a1 != 0;
  BOOL v13 = *a1 == 0;
  uint64_t v14 = a1[2];
  if (a1[1]) {
    BOOL v13 = 1;
  }
  else {
    BOOL v12 = 1;
  }
  BOOL v15 = v14 == 0;
  if (v14) {
    int v16 = 1;
  }
  else {
    int v16 = v13;
  }
  if (!v15) {
    BOOL v12 = 1;
  }
  if (v12) {
    uint64_t v17 = v9;
  }
  else {
    uint64_t v17 = v8;
  }
  if (!v16) {
    uint64_t v17 = v7;
  }
  id v18 = v17;
  double v19 = PXLocalizedStringFromTable(v18, @"PhotosUICore");

  return v19;
}

id PXLocalizedCountsDescription(void *a1)
{
  id v1 = PXLocalizedStringFromTable(a1, @"PhotosUICore");
  double v2 = PXLocalizedStringWithValidatedFormat(v1, @"%ld");

  return v2;
}

id PXLocalizedCollectionDetailedCountsDescription(uint64_t a1, uint64_t a2)
{
  if (a1 == 0x7FFFFFFFFFFFFFFFLL || a2 == 0x7FFFFFFFFFFFFFFFLL) {
    PXAssertGetLog();
  }
  if (a1 && a2)
  {
    id v3 = PXLocalizedStringFromTable(@"PXCollectionDetailedCountDescriptionAlbumsFolders", @"PhotosUICore");
    id v4 = v3;
    id v5 = @"%ld %ld";
LABEL_12:
    uint8x8_t v6 = PXLocalizedStringWithValidatedFormat(v3, v5);

    goto LABEL_13;
  }
  if (a2)
  {
    id v3 = PXLocalizedStringFromTable(@"PXCollectionDetailedCountDescriptionFolders", @"PhotosUICore");
    id v4 = v3;
    id v5 = @"%ld";
    goto LABEL_12;
  }
  id v8 = PXLocalizedStringFromTable(@"PXCollectionDetailedCountDescriptionAlbums", @"PhotosUICore");
  uint8x8_t v6 = PXLocalizedStringWithValidatedFormat(v8, @"%ld");

LABEL_13:
  return v6;
}

id PXLocalizedStringForPersonOrPetAndVisibility(void *a1, uint64_t a2, void *a3)
{
  id v5 = a1;
  id v6 = a3;
  if (!v6)
  {
    BOOL v12 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v13 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForPersonOrPetAndVisibility(id<PXPerson>  _Nullable __strong, PXPeoplePetsHomeVisibility, NSString *__strong _Nonnull)");
    [v12 handleFailureInFunction:v13, @"PXLocalization.m", 226, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  id v7 = v5;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
    id v8 = v7;
  }
  else {
    id v8 = 0;
  }

  id v9 = +[PXPeopleUtilities locKeyForPersonOrPet:v8 withVisibility:a2 key:v6];
  unint64_t v10 = PXLocalizedStringFromTable(v9, @"PhotosUICore");

  return v10;
}

id PXLocalizedStringForPeoplePetsHomeTitle(uint64_t a1)
{
  id v1 = +[PXPeopleUtilities locKeyForPersonOrPet:0 withVisibility:a1 key:@"PXPeopleTitle"];
  double v2 = PXLocalizedStringFromTable(v1, @"PhotosUICore");

  return v2;
}

id PXLocalizedStringForPeople(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  if (!v4)
  {
    id v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXLocalizedStringForPeople(id<PXFastEnumeration>  _Nullable __strong, NSString *__strong _Nonnull)");
    [v8 handleFailureInFunction:v9, @"PXLocalization.m", 237, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  id v5 = +[PXPeopleUtilities locKeyForPeople:v3 key:v4];
  id v6 = PXLocalizedStringFromTable(v5, @"PhotosUICore");

  return v6;
}

id PXLocalizedAttributedStringForPersonOrPet(void *a1, uint64_t a2, void *a3, void *a4)
{
  v24[1] = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a3;
  id v9 = a4;
  if (!v9)
  {
    double v20 = [MEMORY[0x1E4F28B00] currentHandler];
    char v21 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXLocalizedAttributedStringForPersonOrPet(id<PXPerson>  _Nullable __strong, PXPeoplePetsHomeVisibility, NSArray<NSTermOfAddress *> * _Nullable __strong, NSString *__strong _Nonnull)");
    [v20 handleFailureInFunction:v21, @"PXLocalization.m", 243, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  id v10 = v7;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
    id v11 = v10;
  }
  else {
    id v11 = 0;
  }

  BOOL v12 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  BOOL v13 = +[PXPeopleUtilities locKeyForPersonOrPet:v11 withVisibility:a2 key:v9];
  uint64_t v14 = [v12 localizedAttributedStringForKey:v13 value:&stru_1F00B0030 table:@"PhotosUICore"];

  BOOL v15 = (void *)MEMORY[0x1E4F28B18];
  uint64_t v23 = *MEMORY[0x1E4F28468];
  if (v8)
  {
    id v22 = v8;
    int v16 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v22 count:1];
  }
  else
  {
    int v16 = (void *)MEMORY[0x1E4F1CBF0];
  }
  v24[0] = v16;
  uint64_t v17 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v24 forKeys:&v23 count:1];
  id v18 = [v15 localizedAttributedStringWithFormat:v14 context:v17];

  if (v8) {
  return v18;
  }
}

id PXLocalizedSharedLibraryAttributedString(void *a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  v23[1] = *MEMORY[0x1E4F143B8];
  id v10 = a1;
  id v11 = a2;
  if (!v11)
  {
    double v19 = [MEMORY[0x1E4F28B00] currentHandler];
    double v20 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXLocalizedSharedLibraryAttributedString(NSArray<NSTermOfAddress *> * _Nullable __strong, NSString *__strong _Nonnull, ...)");
    [v19 handleFailureInFunction:v20, @"PXLocalization.m", 254, @"Invalid parameter not satisfying: %@", @"key" file lineNumber description];
  }
  BOOL v12 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  BOOL v13 = [v12 localizedAttributedStringForKey:v11 value:&stru_1F00B0030 table:@"PhotosUICoreSharedLibrary"];

  id v14 = objc_alloc(MEMORY[0x1E4F28B18]);
  uint64_t v22 = *MEMORY[0x1E4F28468];
  if (v10)
  {
    id v21 = v10;
    BOOL v15 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v21 count:1];
  }
  else
  {
    BOOL v15 = (void *)MEMORY[0x1E4F1CBF0];
  }
  v23[0] = v15;
  int v16 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v23 forKeys:&v22 count:1];
  uint64_t v17 = (void *)[v14 initWithFormat:v13 options:0 locale:0 context:v16 arguments:&a9];

  if (v10) {
  return v17;
  }
}

id PXLocalizationKeyForMediaType(uint64_t a1, void *a2, void *a3, void *a4)
{
  id v7 = a2;
  id v8 = a3;
  id v9 = a4;
  id v10 = v9;
  id v11 = v7;
  if (a1 != 1)
  {
    id v12 = v9;
    if (a1 != 2) {
      goto LABEL_5;
    }
    id v11 = v8;
  }
  id v12 = v11;

LABEL_5:
  return v12;
}

void PXLocalizationKeyByAddingMediaSpecificSuffixForAssets(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  [v3 count];
  PXMediaTypeForAssets();
}

id PXLocalizationKeyByAddingMediaSpecificSuffix(void *a1, uint64_t a2, uint64_t a3)
{
  id v5 = a1;
  id v6 = v5;
  if (a2 >= 2)
  {
    uint64_t v7 = [v5 stringByAppendingString:@"MULTIPLE_"];

    id v6 = (void *)v7;
  }
  id v8 = @"ITEM";
  if (a3 == 2) {
    id v8 = @"VIDEO";
  }
  if (a3 == 1) {
    id v9 = @"PHOTO";
  }
  else {
    id v9 = v8;
  }
  id v10 = [v6 stringByAppendingString:v9];

  return v10;
}

id PXLocalizationKeyByAddingDeviceModelSuffix(void *a1)
{
  id v1 = a1;
  double v2 = +[PXLocalization currentDeviceCanonicalModel];
  id v3 = [v1 stringByAppendingString:v2];

  return v3;
}

id PXLocalizedAssetMessageForUsage(uint64_t a1, uint64_t a2, uint64_t a3)
{
  switch(a3)
  {
    case 0:
      id v4 = @"PXAllPhotosSaved";
      id v5 = @"PXAllVideosSaved";
      id v6 = @"PXAllItemsSaved";
      goto LABEL_7;
    case 1:
      id v4 = @"PXSavePhotosToYourLibrary";
      id v5 = @"PXSaveVideosToYourLibrary";
      id v6 = @"PXSaveItemsToYourLibrary";
      goto LABEL_7;
    case 2:
      id v4 = @"PXPhotoAlreadySaved";
      id v5 = @"PXVideoAlreadySaved";
      id v6 = @"PXItemAlreadySaved";
      goto LABEL_7;
    case 3:
      id v4 = @"PXPhotoAlreadySavedToLibrary";
      id v5 = @"PXVideoAlreadySavedToLibrary";
      id v6 = @"PXItemAlreadySavedToLibrary";
LABEL_7:
      uint64_t v7 = PXLocalizationKeyForMediaType(a1, v4, v5, v6);
      break;
    default:
      uint64_t v7 = 0;
      break;
  }
  id v8 = PXLocalizedStringFromTable(v7, @"PhotosUICore");
  id v9 = objc_msgSend(v8, "px_stringByApplyingCapitalization:", a2);

  return v9;
}

void PXLocalizedSelectionMessageForAssets(void *a1)
{
}

id PXLocalizedAssetCountForUsage(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v6 = PXLocalizedFormatForUsage(a2, a4);
  uint64_t v7 = PXLocalizedStringFromTable(v6, @"PhotosUICore");
  uint64_t v11 = a1;
  id v8 = PXLocalizedStringWithValidatedFormat(v7, @"%lu");

  id v9 = objc_msgSend(v8, "px_stringByApplyingCapitalization:", a3, v11);

  return v9;
}

id PXLocalizedFormatForUsage(uint64_t a1, uint64_t a2)
{
  switch(a2)
  {
    case 0:
      id v3 = @"PXNumberOfPhotos";
      id v4 = @"PXNumberOfVideos";
      id v5 = @"PXNumberOfItems";
      goto LABEL_28;
    case 1:
      id v3 = @"PXNumberOfPhotosSelected";
      id v4 = @"PXNumberOfVideosSelected";
      id v5 = @"PXNumberOfItemsSelected";
      goto LABEL_28;
    case 2:
      id v3 = @"PXUploadingNumberOfPhotos";
      id v4 = @"PXUploadingNumberOfVideos";
      id v5 = @"PXUploadingNumberOfItems";
      goto LABEL_28;
    case 3:
      id v3 = @"PXUploadingPausedNumberOfPhotos";
      id v4 = @"PXUploadingPausedNumberOfVideos";
      id v5 = @"PXUploadingPausedNumberOfItems";
      goto LABEL_28;
    case 4:
      id v3 = @"PXWaitingNumberOfPhotos";
      id v4 = @"PXWaitingNumberOfVideos";
      id v5 = @"PXWaitingNumberOfItems";
      goto LABEL_28;
    case 5:
      id v3 = @"PXErrorLoadingNumberOfPhotos";
      id v4 = @"PXErrorLoadingNumberOfVideos";
      id v5 = @"PXErrorLoadingNumberOfItems";
      goto LABEL_28;
    case 6:
      id v3 = @"PXWaitingPausedNumberOfPhotos";
      id v4 = @"PXWaitingPausedNumberOfVideos";
      id v5 = @"PXWaitingPausedNumberOfItems";
      goto LABEL_28;
    case 7:
      id v3 = @"PXWaitingForUploadNumberOfPhotos";
      id v4 = @"PXWaitingForUploadNumberOfVideos";
      id v5 = @"PXWaitingForUploadNumberOfItems";
      goto LABEL_28;
    case 8:
      id v3 = @"PXSavingNumberOfPhotos";
      id v4 = @"PXSavingNumberOfVideos";
      id v5 = @"PXSavingNumberOfItems";
      goto LABEL_28;
    case 9:
      id v3 = @"PXSavingPausedNumberOfPhotos";
      id v4 = @"PXSavingPausedNumberOfVideos";
      id v5 = @"PXSavingPausedNumberOfItems";
      goto LABEL_28;
    case 10:
      id v3 = @"PXRenderingNumberOfPhotos";
      id v4 = @"PXRenderingNumberOfVideos";
      id v5 = @"PXRenderingNumberOfItems";
      goto LABEL_28;
    case 11:
      id v3 = @"PXWarnRevertOfPhotos";
      id v4 = @"PXWarnRevertOfVideos";
      id v5 = @"PXWarnRevertOfItems";
      goto LABEL_28;
    case 12:
      id v3 = @"PXSaveNumberOfPhotos";
      id v4 = @"PXSaveNumberOfVideos";
      id v5 = @"PXSaveNumberOfItems";
      goto LABEL_28;
    case 13:
      id v3 = @"PXShareNumberOfPhotos";
      id v4 = @"PXShareNumberOfVideos";
      id v5 = @"PXShareNumberOfItems";
      goto LABEL_28;
    case 14:
      id v3 = @"PXMoveNumberOfPhotos";
      id v4 = @"PXMoveNumberOfVideos";
      id v5 = @"PXMoveNumberOfItems";
      goto LABEL_28;
    case 15:
      id v3 = @"PXMoveToLibraryNumberOfPhotos";
      id v4 = @"PXMoveToLibraryNumberOfVideos";
      id v5 = @"PXMoveToLibraryNumberOfItems";
      goto LABEL_28;
    case 16:
      id v3 = @"PXSharedLibrary_MoveToPersonalLibraryNumberOfPhotos";
      id v4 = @"PXSharedLibrary_MoveToPersonalLibraryNumberOfVideos";
      id v5 = @"PXSharedLibrary_MoveToPersonalLibraryNumberOfItems";
      goto LABEL_28;
    case 17:
      id v3 = @"PXSharedLibrary_MoveToSharedLibraryNumberOfPhotos";
      id v4 = @"PXSharedLibrary_MoveToSharedLibraryNumberOfVideos";
      id v5 = @"PXSharedLibrary_MoveToSharedLibraryNumberOfItems";
      goto LABEL_28;
    case 18:
      id v3 = @"PXNumberOfPhotosSaved";
      id v4 = @"PXNumberOfVideosSaved";
      id v5 = @"PXNumberOfItemsSaved";
      goto LABEL_28;
    case 19:
      id v3 = @"PXNumberOfSharedPhotos";
      id v4 = @"PXNumberOfSharedVideos";
      id v5 = @"PXNumberOfSharedItems";
      goto LABEL_28;
    case 20:
      id v3 = @"PXNumberOfPhotosRemaining";
      id v4 = @"PXNumberOfVideosRemaining";
      id v5 = @"PXNumberOfItemsRemaining";
      goto LABEL_28;
    case 21:
      id v3 = @"PXNumberOfPhotosMore";
      id v4 = @"PXNumberOfVideosMore";
      id v5 = @"PXNumberOfItemsMore";
      goto LABEL_28;
    case 22:
      id v3 = @"PXNumberOfHighResPhotos";
      id v4 = @"PXNumberOfHighResVideos";
      id v5 = @"PXNumberOfHighResItems";
LABEL_28:
      id v6 = PXLocalizationKeyForMediaType(a1, v3, v4, v5);
      break;
    default:
      id v6 = 0;
      break;
  }
  return v6;
}

id PXLocalizedSelectionMessageForAssetsCount(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return PXLocalizedAssetCountForUsage(a1, a2, a3, 1);
}

uint64_t PXMediaTypeForDetailedCounts(uint64_t *a1)
{
  uint64_t v1 = *a1;
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL) {
    return 0;
  }
  uint64_t v2 = a1[1];
  if (v2 == 0x7FFFFFFFFFFFFFFFLL || a1[2]) {
    return 0;
  }
  if (v1 && !v2) {
    return 1;
  }
  if (v2) {
    BOOL v4 = v1 == 0;
  }
  else {
    BOOL v4 = 0;
  }
  if (v4) {
    return 2;
  }
  else {
    return 0;
  }
}

id PXLocalizedUsageStringWithoutAssetCount(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v6 = PXLocalizedFormatForUsage(a2, a4);
  uint64_t v7 = v6;
  if (a1 == 1) {
    id v8 = @"Single";
  }
  else {
    id v8 = @"Multiple";
  }
  id v9 = [v6 stringByAppendingString:v8];
  id v10 = PXLocalizedStringFromTable(v9, @"PhotosUICore");
  uint64_t v11 = objc_msgSend(v10, "px_stringByApplyingCapitalization:", a3);

  return v11;
}

id PXLocalizedSharedLibraryAssetCountForUsage(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v6 = PXLocalizedFormatForUsage(a2, a4);
  uint64_t v7 = PXLocalizedSharedLibraryString(v6);
  uint64_t v11 = a1;
  id v8 = PXLocalizedStringWithValidatedFormat(v7, @"%lu");

  id v9 = objc_msgSend(v8, "px_stringByApplyingCapitalization:", a3, v11);

  return v9;
}

id PXLocalizedStringWithCount(void *a1)
{
  uint64_t v1 = PXLocalizedStringFromTable(a1, @"PhotosUICore");
  uint64_t v2 = PXLocalizedStringWithValidatedFormat(v1, @"%lu");

  return v2;
}

id PXLocalizedSelectModeCaption(int a1, uint64_t a2, uint64_t a3)
{
  if (a1)
  {
    if (a2) {
      PXLocalizedAssetCountForUsage(a2, a3, 0, 1);
    }
    else {
    BOOL v4 = PXLocalizedStringFromTable(@"PXSelectItems", @"PhotosUICore");
    }
  }
  else
  {
    BOOL v4 = 0;
  }
  return v4;
}

id PXLocalizedNumberOfAssets(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return PXLocalizedAssetCountForUsage(a1, a2, a3, 0);
}

id PXLocalizedPercentValue(double a1)
{
  if (PXLocalizedPercentValue_predicate != -1) {
    dispatch_once(&PXLocalizedPercentValue_predicate, &__block_literal_global_356);
  }
  uint64_t v2 = (void *)PXLocalizedPercentValue__percentFormatter;
  uint64_t v3 = [NSNumber numberWithDouble:a1];
  BOOL v4 = [v2 stringFromNumber:v3];

  return v4;
}

uint64_t __PXLocalizedPercentValue_block_invoke()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F28EE0]);
  uint64_t v1 = (void *)PXLocalizedPercentValue__percentFormatter;
  PXLocalizedPercentValue__percentFormatter = (uint64_t)v0;

  uint64_t v2 = (void *)PXLocalizedPercentValue__percentFormatter;
  uint64_t v3 = [MEMORY[0x1E4F1CA20] autoupdatingCurrentLocale];
  [v2 setLocale:v3];

  BOOL v4 = (void *)PXLocalizedPercentValue__percentFormatter;
  return [v4 setNumberStyle:3];
}

id PXLemonadeLocalizedAttributedString(void *a1)
{
  return PXLocalizedAttributedStringFromTable(a1, @"LemonadeLocalizable");
}

void PXDebugEnumerateInterestingNumbersToLocalize(void *a1)
{
  id v1 = a1;
  v3[0] = MEMORY[0x1E4F143A8];
  v3[1] = 3221225472;
  v3[2] = __PXDebugEnumerateInterestingNumbersToLocalize_block_invoke;
  v3[3] = &unk_1E5DB4C80;
  id v4 = v1;
  id v2 = v1;
  [&unk_1F02D3BB0 enumerateObjectsUsingBlock:v3];
}

uint64_t __PXDebugEnumerateInterestingNumbersToLocalize_block_invoke(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = *(void *)(a1 + 32);
  uint64_t v6 = [a2 integerValue];
  uint64_t v7 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v5 + 16);
  return v7(v5, v6, a4);
}

void PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize(void *a1)
{
  id v1 = a1;
  uint64_t v13 = 0;
  id v14 = &v13;
  uint64_t v15 = 0x2020000000;
  char v16 = 0;
  v10[0] = MEMORY[0x1E4F143A8];
  v10[1] = 3221225472;
  v10[2] = __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke;
  v10[3] = &unk_1E5DB4CA8;
  id v2 = v1;
  id v11 = v2;
  id v12 = &v13;
  PXDebugEnumerateInterestingNumbersToLocalize(v10);

  if (!*((unsigned char *)v14 + 24))
  {
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    void v7[2] = __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke_2;
    v7[3] = &unk_1E5DB4CA8;
    id v3 = v2;
    id v8 = v3;
    id v9 = &v13;
    PXDebugEnumerateInterestingNumbersToLocalize(v7);

    if (!*((unsigned char *)v14 + 24))
    {
      v4[0] = MEMORY[0x1E4F143A8];
      v4[1] = 3221225472;
      v4[2] = __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke_3;
      void v4[3] = &unk_1E5DB4CA8;
      id v5 = v3;
      uint64_t v6 = &v13;
      PXDebugEnumerateInterestingNumbersToLocalize(v4);
    }
  }
  _Block_object_dispose(&v13, 8);
}

void sub_1AAB875FC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke(uint64_t result, uint64_t a2, unsigned char *a3)
{
  if (a2 >= 1)
  {
    uint64_t v4 = result;
    float result = (*(uint64_t (**)(void))(*(void *)(result + 32) + 16))();
    if (*(unsigned char *)(*(void *)(*(void *)(v4 + 40) + 8) + 24)) {
      *a3 = 1;
    }
  }
  return result;
}

uint64_t __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke_2(uint64_t result, uint64_t a2, unsigned char *a3)
{
  if (a2 >= 1)
  {
    uint64_t v4 = result;
    float result = (*(uint64_t (**)(void))(*(void *)(result + 32) + 16))();
    if (*(unsigned char *)(*(void *)(*(void *)(v4 + 40) + 8) + 24)) {
      *a3 = 1;
    }
  }
  return result;
}

uint64_t __PXDebugEnumerateInterestingPhotosOrVideosCountsToLocalize_block_invoke_3(uint64_t result, uint64_t a2, unsigned char *a3)
{
  if (a2 >= 2)
  {
    uint64_t v4 = result;
    float result = (*(uint64_t (**)(void))(*(void *)(result + 32) + 16))();
    if (*(unsigned char *)(*(void *)(*(void *)(v4 + 40) + 8) + 24)) {
      *a3 = 1;
    }
  }
  return result;
}

void sub_1AAB88698(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB887B0(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB88DB4(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB88EA8(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void *std::vector<PXStoryAutoEditComposabilityScores>::__assign_with_size[abi:ne180100]<PXStoryAutoEditComposabilityScores*,PXStoryAutoEditComposabilityScores*>(void *result, char *__src, char *a3, unint64_t a4)
{
  uint64_t v6 = __src;
  uint64_t v7 = result;
  uint64_t v8 = result[2];
  id v9 = (char *)*result;
  if (a4 > (v8 - *result) >> 3)
  {
    if (v9)
    {
      result[1] = v9;
      operator delete(v9);
      uint64_t v8 = 0;
      *uint64_t v7 = 0;
      v7[1] = 0;
      void v7[2] = 0;
    }
    if (a4 >> 61) {
      goto LABEL_23;
    }
    uint64_t v10 = v8 >> 2;
    if (v8 >> 2 <= a4) {
      uint64_t v10 = a4;
    }
    unint64_t v11 = (unint64_t)v8 >= 0x7FFFFFFFFFFFFFF8 ? 0x1FFFFFFFFFFFFFFFLL : v10;
    if (v11 >> 61) {
LABEL_23:
    }
      std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
    float result = std::__allocate_at_least[abi:ne180100]<std::allocator<PXStoryAutoEditComposabilityScores>>(v11);
    id v9 = (char *)result;
    *uint64_t v7 = result;
    v7[1] = result;
    void v7[2] = &result[v12];
    size_t v13 = a3 - v6;
    if (v13) {
      float result = memmove(result, v6, v13);
    }
    id v14 = (void **)(v7 + 1);
    goto LABEL_22;
  }
  id v14 = (void **)(result + 1);
  uint64_t v15 = (unsigned char *)result[1];
  unint64_t v16 = (v15 - v9) >> 3;
  if (v16 >= a4)
  {
    size_t v13 = a3 - __src;
    if (a3 == __src) {
      goto LABEL_22;
    }
    id v18 = (void *)*result;
LABEL_21:
    float result = memmove(v18, __src, v13);
    goto LABEL_22;
  }
  uint64_t v17 = &__src[8 * v16];
  if (v15 != v9)
  {
    float result = memmove((void *)*result, __src, v15 - v9);
    id v9 = (char *)*v14;
  }
  size_t v13 = a3 - v17;
  if (v13)
  {
    id v18 = v9;
    __src = v17;
    goto LABEL_21;
  }
LABEL_22:
  uint64_t *v14 = &v9[v13];
  return result;
}

void std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]()
{
}

void *std::__allocate_at_least[abi:ne180100]<std::allocator<PXStoryAutoEditComposabilityScores>>(unint64_t a1)
{
  if (a1 >> 61) {
    std::__throw_bad_array_new_length[abi:ne180100]();
  }
  return operator new(8 * a1);
}

void std::__throw_length_error[abi:ne180100](const char *a1)
{
  exception = (std::logic_error *)__cxa_allocate_exception(0x10uLL);
  std::length_error::length_error[abi:ne180100](exception, a1);
  __cxa_throw(exception, (struct type_info *)off_1E5DAB4A0, MEMORY[0x1E4FBA1C8]);
}

void sub_1AAB8908C(_Unwind_Exception *a1)
{
  __cxa_free_exception(v1);
  _Unwind_Resume(a1);
}

std::logic_error *std::length_error::length_error[abi:ne180100](std::logic_error *a1, const char *a2)
{
  float result = std::logic_error::logic_error(a1, a2);
  result->__vftable = (std::logic_error_vtbl *)(MEMORY[0x1E4FBA4D0] + 16);
  return result;
}

void sub_1AAB89124(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB89298(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB8940C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB89514(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB89728(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB89D30(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB8A14C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void *a10)
{
  _Unwind_Resume(a1);
}

void sub_1AAB8A364(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AAB8A614(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, _Unwind_Exception *exception_object, void *a11)
{
  _Unwind_Resume(a1);
}

BOOL PXSystemAuthenticationTypeIsBiometric(uint64_t a1)
{
  return (unint64_t)(a1 - 3) < 3;
}

void sub_1AAB8E2DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((const void *)(v27 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__64642(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__64643(uint64_t a1)
{
}

void sub_1AAB93308(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x248], 8);
  _Block_object_dispose((const void *)(v1 - 248), 8);
  _Block_object_dispose((const void *)(v1 - 216), 8);
  _Unwind_Resume(a1);
}

void sub_1AAB951E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAB95C00(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id *location, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,id a26)
{
}

id PXStoryAutoEditClipTransitionInfoDescription(uint64_t a1)
{
  id v2 = NSString;
  id v3 = PFStoryRecipeClipTransitionKindDescription();
  uint64_t v4 = *(void *)(a1 + 8);
  long long v5 = *(_OWORD *)(a1 + 16);
  v9[0] = *(_OWORD *)a1;
  v9[1] = v5;
  uint64_t v6 = PXStoryAutoEditClipTransitionSettingsDescription(v9);
  uint64_t v7 = [v2 stringWithFormat:@"{kind=%@, duration=%.2fs, settings=%@}", v3, v4, v6];

  return v7;
}

id PXStoryAutoEditClipMotionInfoDescription(long long *a1)
{
  id v2 = NSString;
  id v3 = PFStoryRecipeClipMotionStyleDescription();
  long long v7 = *a1;
  uint64_t v8 = *((void *)a1 + 2);
  uint64_t v4 = PXStoryAutoEditClipMotionSettingsDescription(&v7);
  long long v5 = [v2 stringWithFormat:@"{style=%@, settings=%@}", v3, v4];

  return v5;
}

__CFString *PXStoryAutoEditClipMotionSettingsDescription(void *a1)
{
  switch(*a1)
  {
    case 0:
    case 4:
      uint64_t v1 = @"n/a";
      break;
    case 1:
      PXStoryAutoEditPanSettingsDescription(a1[1], a1[2]);
      uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
      break;
    case 2:
      unint64_t v2 = a1[1];
      if (v2 > 2) {
        goto LABEL_10;
      }
      id v3 = off_1E5DB4F80;
      goto LABEL_9;
    case 3:
      unint64_t v2 = a1[1];
      if (v2 > 2)
      {
LABEL_10:
        uint64_t v1 = @"??";
      }
      else
      {
        id v3 = off_1E5DB4F98;
LABEL_9:
        uint64_t v1 = v3[v2];
      }
      break;
    default:
      uint64_t v1 = 0;
      break;
  }
  return v1;
}

uint64_t PXStoryAutoEditPanSettingsDescription(unint64_t a1, unint64_t a2)
{
  if (a1 > 4) {
    unint64_t v2 = @"??";
  }
  else {
    unint64_t v2 = off_1E5DB4F40[a1];
  }
  if (a2 > 2) {
    id v3 = @"??";
  }
  else {
    id v3 = off_1E5DB4F68[a2];
  }
  return [NSString stringWithFormat:@"%@/%@", v2, v3];
}

__CFString *PXStoryAutoEditClipTransitionSettingsDescription(void *a1)
{
  switch(*a1)
  {
    case 5:
      PXStoryAutoEditPanSettingsDescription(a1[2], a1[3]);
      uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
      break;
    case 6:
      unint64_t v2 = a1[2];
      if (v2 > 2) {
        goto LABEL_11;
      }
      id v3 = off_1E5DB4F80;
      goto LABEL_10;
    case 7:
      unint64_t v2 = a1[2];
      if (v2 > 2)
      {
LABEL_11:
        uint64_t v1 = @"??";
      }
      else
      {
        id v3 = off_1E5DB4F98;
LABEL_10:
        uint64_t v1 = v3[v2];
      }
      break;
    case 8:
      __int16 v4 = *((_WORD *)a1 + 8);
      if (v4 > 2u) {
        long long v5 = @"??";
      }
      else {
        long long v5 = off_1E5DC5070[v4];
      }
      uint64_t v1 = v5;
      break;
    default:
      uint64_t v1 = @"n/a";
      break;
  }
  return v1;
}

__CFString *PXStoryAutoEditModuleTypeName(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DB4F20[a1];
  }
}

uint64_t PXStoryAutoEditClipModuleInfoDescription(unint64_t a1, unsigned int a2)
{
  if (a1 > 3) {
    unint64_t v2 = @"??";
  }
  else {
    unint64_t v2 = off_1E5DB4F20[a1];
  }
  return [NSString stringWithFormat:@"{type=%@ start=%d break=%d}", v2, a2 & 1, (a2 >> 8) & 1];
}

__CFString *PXStoryAutoEditPanDirectionDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"??";
  }
  else {
    return off_1E5DB4F40[a1];
  }
}

BOOL PXStoryAudioEditPanDirectionIsVertical(uint64_t a1)
{
  return (unint64_t)(a1 - 3) < 2;
}

__CFString *PXStoryAutoEditPanRelativeMotionDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB4F68[a1];
  }
}

BOOL PXStoryAutoEditPanSettingsAreValid(uint64_t a1)
{
  return a1 != 0;
}

__CFString *PXStoryAutoEditScaleDirectionDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB4F80[a1];
  }
}

BOOL PXStoryAutoEditScaleSettingsAreValid(uint64_t a1)
{
  return a1 != 0;
}

__CFString *PXStoryAutoEditScaleSettingsDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB4F80[a1];
  }
}

__CFString *PXStoryAutoEditRotateDirectionDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB4F98[a1];
  }
}

BOOL PXStoryAutoEditRotateSettingsAreValid(uint64_t a1)
{
  return a1 != 0;
}

__CFString *PXStoryAutoEditRotateSettingsDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DB4F98[a1];
  }
}

BOOL PXStoryAutoEditWipeSettingsAreValid(char a1)
{
  return a1 != 0;
}

uint64_t PXStoryAutoEditWipeSettingsMake(unsigned __int8 a1, int a2)
{
  return a1 | (a2 << 8);
}

__CFString *PXStoryAutoEditWipeSettingsDescription(unsigned __int8 a1)
{
  if (a1 > 2u) {
    return @"??";
  }
  else {
    return off_1E5DC5070[a1];
  }
}

BOOL PXStoryAutoEditClipMotionInfoIsValid(void *a1)
{
  return (unint64_t)(*a1 - 1) < 3;
}

uint64_t PXStoryAutoEditClipMotionInfoMake@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, void *a6@<X8>)
{
  *a6 = result;
  a6[1] = 0;
  uint64_t v6 = a6 + 1;
  a6[2] = 0;
  switch(result)
  {
    case 3:
      *uint64_t v6 = a5;
      break;
    case 2:
      *uint64_t v6 = a4;
      break;
    case 1:
      a6[1] = a2;
      a6[2] = a3;
      break;
  }
  return result;
}

uint64_t PXStoryAutoEditClipMotionInfoMakePan@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, void *a3@<X8>)
{
  *a3 = 1;
  a3[1] = result;
  a3[2] = a2;
  return result;
}

uint64_t PXStoryAutoEditClipMotionInfoMakeScale@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  a2[1] = result;
  a2[2] = 0;
  *a2 = 2;
  return result;
}

uint64_t PXStoryAutoEditClipMotionInfoMakeRotate@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  a2[1] = result;
  a2[2] = 0;
  *a2 = 3;
  return result;
}

BOOL PXStoryAutoEditClipTransitionInfoIsValid(void *a1)
{
  return (unint64_t)(*a1 - 1) < 8;
}

uint64_t PXStoryAutoEditClipTransitionInfoMake@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, __int16 a6@<W5>, uint64_t a7@<X8>, double a8@<D0>)
{
  *(void *)a7 = result;
  *(double *)(a7 + 8) = a8;
  *(void *)(a7 + 16) = 0;
  uint64_t v8 = (void *)(a7 + 16);
  *(void *)(a7 + 24) = 0;
  switch(result)
  {
    case 5:
      *(void *)(a7 + 16) = a2;
      *(void *)(a7 + 24) = a3;
      break;
    case 6:
      *uint64_t v8 = a4;
      break;
    case 7:
      *uint64_t v8 = a5;
      break;
    case 8:
      *(_WORD *)uint64_t v8 = a6;
      break;
    default:
      return result;
  }
  return result;
}

uint64_t PXStoryAutoEditClipTransitionInfoMakePan@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>, double a4@<D0>)
{
  *(void *)a3 = 5;
  *(double *)(a3 + 8) = a4;
  *(void *)(a3 + 16) = result;
  *(void *)(a3 + 24) = a2;
  return result;
}

uint64_t PXStoryAutoEditClipTransitionInfoMakeScale@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>, double a3@<D0>)
{
  *(void *)a2 = 6;
  *(double *)(a2 + 8) = a3;
  *(void *)(a2 + 16) = result;
  *(void *)(a2 + 24) = 0;
  return result;
}

uint64_t PXStoryAutoEditClipTransitionInfoMakeRotate@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>, double a3@<D0>)
{
  *(void *)a2 = 7;
  *(double *)(a2 + 8) = a3;
  *(void *)(a2 + 16) = result;
  *(void *)(a2 + 24) = 0;
  return result;
}

uint64_t PXStoryAutoEditClipTransitionInfoMakeWipe@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>, double a3@<D0>)
{
  *(void *)(a2 + 16) = 0;
  *(void *)(a2 + 24) = 0;
  *(void *)a2 = 8;
  *(double *)(a2 + 8) = a3;
  *(_WORD *)(a2 + 16) = result;
  return result;
}

__CFString *PXStoryAutoEditMomentRecipeTypeDescription(unint64_t a1)
{
  if (a1 > 8) {
    return @"??";
  }
  else {
    return off_1E5DB4FB0[a1];
  }
}

void sub_1AAB97900(_Unwind_Exception *a1)
{
}

uint64_t __Block_byref_object_copy__65799(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__65800(uint64_t a1)
{
}

void sub_1AAB9AA3C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAB9ADD8(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAB9AEDC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAB9AFB0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id _AppIntentsQueue()
{
  if (_AppIntentsQueue_predicate != -1) {
    dispatch_once(&_AppIntentsQueue_predicate, &__block_literal_global_736);
  }
  id v0 = (void *)_AppIntentsQueue_serialQueue;
  return v0;
}

void sub_1AAB9D22C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__66889(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__66890(uint64_t a1)
{
}

void sub_1AAB9F76C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AABA1F10(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

id PXSharedLibraryAssistantSummaryTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Summary_Title");
}

id PXSharedLibraryAssistantSummaryDetail(uint64_t a1, id a2)
{
  switch(a1)
  {
    case 1:
      __int16 v4 = @"PXSharedLibraryAssistant_Summary_Detail_Setup";
LABEL_7:
      PXLocalizedSharedLibraryString(v4);
      a2 = (id)objc_claimAutoreleasedReturnValue();
      break;
    case 2:
      __int16 v4 = @"PXSharedLibraryAssistant_Summary_Detail_Reply";
      goto LABEL_7;
    case 0:
      unint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
      id v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSharedLibraryAssistantSummaryDetail(PXSharedLibraryAssistantMode)"];
      [v2 handleFailureInFunction:v3 file:@"PXSharedLibraryAssistantSummaryUtilities.m" lineNumber:24 description:@"Code which should be unreachable has been reached"];

      abort();
  }
  return a2;
}

__CFString *PXSharedLibraryAssistantSummaryStartButtonTitleForMode(uint64_t a1)
{
  if (a1 == 2)
  {
    unint64_t v2 = @"PXSharedLibraryReplyAssistant_Summary_ButtonTitle_Start";
LABEL_8:
    PXLocalizedSharedLibraryString(v2);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
    goto LABEL_9;
  }
  if (a1 == 1)
  {
    unint64_t v2 = @"PXSharedLibrarySetupAssistant_Summary_ButtonTitle_Preview";
    goto LABEL_8;
  }
  if (a1) {
    uint64_t v1 = 0;
  }
  else {
    uint64_t v1 = &stru_1F00B0030;
  }
LABEL_9:
  return v1;
}

__CFString *PXSharedLibraryAssistantSummaryDeclineButtonTitleForMode(uint64_t a1)
{
  if (a1 == 2)
  {
    unint64_t v2 = @"PXSharedLibraryReplyAssistant_Summary_ButtonTitle_Decline";
LABEL_8:
    PXLocalizedSharedLibraryString(v2);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
    goto LABEL_9;
  }
  if (a1 == 1)
  {
    unint64_t v2 = @"PXSharedLibraryAssistant_Summary_ButtonTitle_SkipPreview";
    goto LABEL_8;
  }
  if (a1) {
    uint64_t v1 = 0;
  }
  else {
    uint64_t v1 = &stru_1F00B0030;
  }
LABEL_9:
  return v1;
}

void sub_1AABA8DE4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 72));
  _Unwind_Resume(a1);
}

void sub_1AABA9DA8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, id a17, id a18)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(v19);
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a17);
  objc_destroyWeak(&a18);
  _Unwind_Resume(a1);
}

void sub_1AABAA290(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  objc_destroyWeak(v19);
  objc_destroyWeak(v18);
  objc_destroyWeak((id *)(v22 - 112));
  objc_destroyWeak((id *)(v22 - 104));
  _Unwind_Resume(a1);
}

uint64_t PXSettingsIsIndexing()
{
  return isIndexing;
}

void PXSettingsPerformIndexingOperation(void *a1)
{
  __int16 v4 = a1;
  if (([MEMORY[0x1E4F29060] isMainThread] & 1) == 0)
  {
    unint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"void PXSettingsPerformIndexingOperation(__strong dispatch_block_t _Nonnull)"];
    [v2 handleFailureInFunction:v3 file:@"PrototypeTools+PhotosUICore.m" lineNumber:31 description:@"must be called on the main thread"];
  }
  char v1 = isIndexing;
  isIndexing = 1;
  v4[2]();
  isIndexing = v1;
}

uint64_t PXSettingsIsIndexingQueryCount()
{
  return isIndexingQueryCount;
}

id PXStoryAnalyticsEventForSummaryWithPauseCount(uint64_t a1)
{
  char v1 = objc_msgSend(MEMORY[0x1E4F56658], "bucketNameForInteger:bucketLimits:", a1, 0, 2, 5, 10, 20, 50, 100, 0);
  unint64_t v2 = (void *)[[NSString alloc] initWithFormat:@"com.apple.photos.memory.interactiveMemoryPlaybackFinishedWith%@Pauses", v1];

  return v2;
}

uint64_t PXDisplayAssetTypedCountFromSelectionSnapshot(void *a1)
{
  id v1 = a1;
  uint64_t v13 = 0;
  id v14 = &v13;
  uint64_t v15 = 0x3010000000;
  unint64_t v16 = &unk_1AB5D584F;
  long long v17 = *(_OWORD *)off_1E5DAAEF8;
  unint64_t v2 = [v1 dataSource];
  uint64_t v3 = [v1 selectedIndexPaths];
  uint64_t v7 = MEMORY[0x1E4F143A8];
  uint64_t v8 = 3221225472;
  id v9 = __PXDisplayAssetTypedCountFromSelectionSnapshot_block_invoke;
  uint64_t v10 = &unk_1E5DC66B0;
  id v4 = v2;
  id v11 = v4;
  uint64_t v12 = &v13;
  [v3 enumerateItemIndexPathsUsingBlock:&v7];
  uint64_t v5 = objc_msgSend(v3, "count", v7, v8, v9, v10);
  void v14[4] = v5;

  _Block_object_dispose(&v13, 8);
  return v5;
}

void sub_1AABAC9B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXDisplayAssetTypedCountFromSelectionSnapshot_block_invoke(uint64_t a1, _OWORD *a2, unsigned char *a3)
{
  uint64_t v11 = *MEMORY[0x1E4F143B8];
  uint64_t v5 = *(void **)(a1 + 32);
  long long v6 = a2[1];
  v10[0] = *a2;
  v10[1] = v6;
  uint64_t v7 = [v5 objectAtIndexPath:v10];
  uint64_t v8 = [v7 mediaType];
  uint64_t v9 = *(void *)(*(void *)(a1 + 40) + 8);
  if (*(void *)(v9 + 32))
  {
    if (v8 != *(void *)(v9 + 40))
    {
      *(void *)(v9 + 40) = 0;
      *a3 = 1;
    }
  }
  else
  {
    *(void *)(v9 + 32) = 0x7FFFFFFFFFFFFFFFLL;
    *(void *)(*(void *)(*(void *)(a1 + 40) + 8) + 40) = v8;
  }
}

__CFString *PXSharedLibraryAutoSharePolicyDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryAutoSharePolicy: %ld", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DB5698[a1];
  }
  return v1;
}

__CFString *PXSharedLibraryExitRetentionPolicyDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryExitRetentionPolicy: %ld", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DB56B0[a1];
  }
  return v1;
}

id PXSharedLibraryUserCanceledErrorWithDebugDescription(void *a1)
{
  id v1 = a1;
  if (![v1 length])
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"NSError * _Nonnull PXSharedLibraryUserCanceledErrorWithDebugDescription(NSString *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXSharedLibraryTypes.m", 40, @"Invalid parameter not satisfying: %@", @"debugDescription.length > 0" file lineNumber description];
  }
  unint64_t v2 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1001, @"Canceled by the user: %@", v1);

  return v2;
}

uint64_t PXSharedLibraryIsUserCanceledError(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"BOOL PXSharedLibraryIsUserCanceledError(NSError *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXSharedLibraryTypes.m", 49, @"Invalid parameter not satisfying: %@", @"error" file lineNumber description];
  }
  uint64_t v2 = objc_msgSend(v1, "px_isDomain:code:", @"PXSharedLibraryErrorDomain", -1001);

  return v2;
}

id px_deferredLocalizedStringWithFormat(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v9 = (objc_class *)MEMORY[0x1E4F303F0];
  id v10 = a1;
  id v11 = [v9 alloc];
  uint64_t v12 = objc_msgSend(MEMORY[0x1E4F28B50], "px_bundle");
  uint64_t v13 = (void *)[v11 initWithDeferredFormat:v10 fromTable:@"PhotosUICore" bundle:v12 arguments:&a9];

  return v13;
}

id _NumericalValuesForKeyPath(void *a1, void *a2, void *a3)
{
  uint64_t v32 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  id v8 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  uint64_t v24 = 0;
  id v25 = &v24;
  uint64_t v26 = 0x3032000000;
  uint64_t v27 = __Block_byref_object_copy__69067;
  id v28 = __Block_byref_object_dispose__69068;
  id v29 = 0;
  uint64_t v9 = [v5 photoLibrary];
  id v10 = [v9 managedObjectContext];
  v20[0] = MEMORY[0x1E4F143A8];
  v20[1] = 3221225472;
  v20[2] = ___NumericalValuesForKeyPath_block_invoke;
  void v20[3] = &unk_1E5DCCA20;
  uint64_t v23 = &v24;
  id v11 = v6;
  id v21 = v11;
  id v12 = v10;
  id v22 = v12;
  [v12 performBlockAndWait:v20];
  if ([(id)v25[5] count])
  {
    uint64_t v13 = [(id)v25[5] sortedArrayUsingComparator:&__block_literal_global_198_69069];
    v17[0] = MEMORY[0x1E4F143A8];
    v17[1] = 3221225472;
    v17[2] = ___NumericalValuesForKeyPath_block_invoke_3;
    v17[3] = &unk_1E5DCBF48;
    id v18 = v7;
    id v19 = v8;
    [v13 enumerateObjectsUsingBlock:v17];
  }
  else
  {
    uint64_t v13 = PLUIGetLog();
    if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
    {
      *(_DWORD *)long long buf = 138412290;
      id v31 = v11;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEFAULT, "PXSmartAlbums: no numerical values for key path: \"%@\"", buf, 0xCu);
    }
  }

  id v14 = v22;
  id v15 = v8;

  _Block_object_dispose(&v24, 8);
  return v15;
}

void sub_1AABADCD4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__69067(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__69068(uint64_t a1)
{
}

id _StringValuesForKeyPath(void *a1, void *a2)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  uint64_t v17 = 0;
  id v18 = &v17;
  uint64_t v19 = 0x3032000000;
  double v20 = __Block_byref_object_copy__69067;
  id v21 = __Block_byref_object_dispose__69068;
  id v22 = 0;
  id v5 = [v3 photoLibrary];
  id v6 = [v5 managedObjectContext];
  v13[0] = MEMORY[0x1E4F143A8];
  v13[1] = 3221225472;
  _OWORD v13[2] = ___StringValuesForKeyPath_block_invoke;
  v13[3] = &unk_1E5DCCA20;
  unint64_t v16 = &v17;
  id v7 = v4;
  id v14 = v7;
  id v8 = v6;
  id v15 = v8;
  [v8 performBlockAndWait:v13];
  if ([(id)v18[5] count])
  {
    uint64_t v9 = [(id)v18[5] sortedArrayUsingComparator:&__block_literal_global_201_69077];
    id v10 = v18[5];
    v18[5] = v9;
  }
  else
  {
    id v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      *(_DWORD *)long long buf = 138412290;
      id v24 = v7;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEFAULT, "PXSmartAlbums: no string values for key path: \"%@\"", buf, 0xCu);
    }
  }

  id v11 = (id)v18[5];
  _Block_object_dispose(&v17, 8);

  return v11;
}

void sub_1AABAE038(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABAEB64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,id location)
{
  objc_destroyWeak(v26);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABAECB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABAF628(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AABAF904(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AABAFE84(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AABB31E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,char a36)
{
  _Block_object_dispose(&a36, 8);
  _Block_object_dispose((const void *)(v36 - 184), 8);
  _Block_object_dispose((const void *)(v36 - 136), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__69678(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__69679(uint64_t a1)
{
}

uint64_t PXStoryTransitionMakeDuplicateClipIdentifier(uint64_t a1)
{
  return a1 + 1000000;
}

uint64_t PXStoryTransitionMakeDuplicateSegmentIdentifier(uint64_t a1)
{
  return a1 + 1000000;
}

void sub_1AABB61D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__70215(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__70216(uint64_t a1)
{
}

void sub_1AABB8FE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,char a49)
{
  _Block_object_dispose(&a49, 8);
  _Block_object_dispose((const void *)(v49 - 240), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__70524(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__70525(uint64_t a1)
{
}

void sub_1AABBAB58(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 200), 8);
  _Unwind_Resume(a1);
}

void sub_1AABBBB38(_Unwind_Exception *a1)
{
}

void sub_1AABBC288(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABBC738(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABBCC04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABBD1A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABBFE80(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x448], 8);
  _Block_object_dispose((const void *)(v1 - 216), 8);
  _Unwind_Resume(a1);
}

void sub_1AABC1D0C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABC4D94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABC5174(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__71423(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__71424(uint64_t a1)
{
}

void sub_1AABC5680(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABC5FD8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABC71E8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((const void *)(v27 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AABCA218(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getCNContactFormatterClass_block_invoke(uint64_t a1)
{
  ContactsLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("CNContactFormatter");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getCNContactFormatterClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getCNContactFormatterClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXContextualMemoriesSettingsTableViewController.m", 38, @"Unable to find class %s", "CNContactFormatter");

    __break(1u);
  }
}

void *ContactsLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!ContactsLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __ContactsLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DB63A0;
    uint64_t v6 = 0;
    ContactsLibraryCore_frameworkLibrary = _sl_dlopen();
  }
  id v0 = (void *)ContactsLibraryCore_frameworkLibrary;
  if (!ContactsLibraryCore_frameworkLibrary)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *ContactsLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXContextualMemoriesSettingsTableViewController.m", 36, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __ContactsLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ContactsLibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AABCA9C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getCNContactPickerViewControllerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!ContactsUILibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    v6[2] = (void *)3221225472;
    v6[3] = __ContactsUILibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB6388;
    uint64_t v8 = 0;
    ContactsUILibraryCore_frameworkLibrary = _sl_dlopen();
  }
  if (!ContactsUILibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"void *ContactsUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXContextualMemoriesSettingsTableViewController.m", 35, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("CNContactPickerViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getCNContactPickerViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXContextualMemoriesSettingsTableViewController.m", 37, @"Unable to find class %s", "CNContactPickerViewController");

LABEL_10:
    __break(1u);
  }
  getCNContactPickerViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getCNContactGivenNameKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = ContactsLibrary();
  Class result = dlsym(v2, "CNContactGivenNameKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCNContactGivenNameKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getCNContactFamilyNameKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = ContactsLibrary();
  Class result = dlsym(v2, "CNContactFamilyNameKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCNContactFamilyNameKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __ContactsUILibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ContactsUILibraryCore_frameworkLibrary = result;
  return result;
}

void sub_1AABCF414(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__72594(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__72595(uint64_t a1)
{
}

void sub_1AABCF7FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void PXGTextSpriteAttributesCreateFromSprite(unsigned int a1, void *a2)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  int v13 = *(_DWORD *)off_1E5DAAF60;
  long long v2 = *((_OWORD *)off_1E5DAAF70 + 1);
  v12[0] = *(_OWORD *)off_1E5DAAF70;
  v12[1] = v2;
  long long v3 = *((_OWORD *)off_1E5DAAF90 + 7);
  v14[6] = *((_OWORD *)off_1E5DAAF90 + 6);
  v14[7] = v3;
  long long v4 = *((_OWORD *)off_1E5DAAF90 + 9);
  v14[8] = *((_OWORD *)off_1E5DAAF90 + 8);
  v14[9] = v4;
  long long v5 = *((_OWORD *)off_1E5DAAF90 + 3);
  v14[2] = *((_OWORD *)off_1E5DAAF90 + 2);
  v14[3] = v5;
  long long v6 = *((_OWORD *)off_1E5DAAF90 + 5);
  void v14[4] = *((_OWORD *)off_1E5DAAF90 + 4);
  v14[5] = v6;
  long long v7 = *((_OWORD *)off_1E5DAAF90 + 1);
  v14[0] = *(_OWORD *)off_1E5DAAF90;
  v14[1] = v7;
  long long v8 = *(_OWORD *)off_1E5DAAF88;
  long long v9 = *((_OWORD *)off_1E5DAAF88 + 1);
  uint64_t v11 = *((void *)off_1E5DAAF88 + 4);
  v10[0] = v8;
  v10[1] = v9;
  [a2 copyLayoutForSpritesInRange:a1 | 0x100000000 entities:&v13 geometries:v12 styles:v14 infos:v10];
  PXRectWithCenterAndSize();
}

void PXGTextSpriteAttributesCreateFromStringSourceValues(void *a1@<X1>, uint64_t a2@<X2>, double *a3@<X8>, CGFloat a4@<D0>, CGFloat a5@<D1>, CGFloat a6@<D2>, CGFloat a7@<D3>)
{
  id v28 = a1;
  int v13 = [v28 objectForKeyedSubscript:*MEMORY[0x1E4FB06F8]];
  [v13 ascender];
  double v15 = v14;
  [v13 descender];
  double v17 = v15 - v16;
  if (a2)
  {
    if (a2 == 1)
    {
      v32.origin.x = a4;
      v32.origin.y = a5;
      v32.size.width = a6;
      v32.size.height = a7;
      double MaxY = CGRectGetMaxY(v32);
      [v13 descender];
      goto LABEL_8;
    }
    double v18 = 0.0;
    if (a2 != 2) {
      goto LABEL_9;
    }
    v30.origin.x = a4;
    v30.origin.y = a5;
    v30.size.width = a6;
    v30.size.height = a7;
    double MaxY = CGRectGetMinY(v30);
  }
  else
  {
    v31.origin.x = a4;
    v31.origin.y = a5;
    v31.size.width = a6;
    v31.size.height = a7;
    double MaxY = CGRectGetMidY(v31) + v17 * -0.5;
  }
  [v13 ascender];
LABEL_8:
  double v18 = MaxY + v20;
LABEL_9:
  id v21 = [v28 objectForKeyedSubscript:*MEMORY[0x1E4FB0738]];
  uint64_t v22 = [v21 alignment];
  CGFloat v23 = a4;
  CGFloat v24 = a5;
  CGFloat v25 = a6;
  CGFloat v26 = a7;
  if (v22 == 1)
  {
    double MidX = CGRectGetMidX(*(CGRect *)&v23);
  }
  else if (v22 == 2)
  {
    double MidX = CGRectGetMaxX(*(CGRect *)&v23);
  }
  else
  {
    double MidX = CGRectGetMinX(*(CGRect *)&v23);
  }
  *a3 = a4;
  a3[1] = a5;
  a3[2] = a6;
  a3[3] = a7;
  a3[4] = v18;
  a3[5] = v17;
  a3[6] = MidX;
  a3[7] = v18;
}

void PXGTextSpriteAttributesOffset(CGRect *a1, CGFloat a2, CGFloat a3)
{
  *a1 = CGRectOffset(*a1, a2, a3);
  a1[1].origin.x = a3 + a1[1].origin.x;
  PXPointAdd();
}

id PXTCCPromptCountTitle()
{
  return _PXTCCLibraryCountString(1);
}

id _PXTCCLibraryCountString(int a1)
{
  long long v2 = objc_msgSend(MEMORY[0x1E4F39228], "px_systemPhotoLibrary");
  uint64_t v5 = 0;
  uint64_t v6 = 0;
  uint64_t v7 = 0;
  _PXTCCLibraryCounts((uint64_t)&v5, v2);
  if (!a1 || (long long v3 = 0, v5 != -v6))
  {
    long long v3 = PLLocalizedCountDescription();
  }

  return v3;
}

void _PXTCCLibraryCounts(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v6 = [v3 librarySpecificFetchOptions];
  long long v4 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v6];
  *(_OWORD *)a1 = *(_OWORD *)off_1E5DAAEE0;
  *(void *)(a1 + 16) = *((void *)off_1E5DAAEE0 + 2);
  uint64_t v5 = +[PXPhotosMetadataFetcher sharedFetcherForPhotoLibrary:v3];

  [v5 getAssetCounts:a1 guestAssetCounts:0 forFetchResult:v4 allowFetch:1];
}

id PXTCCPromptCountSubtitle()
{
  return PXLocalizedStringFromTable(@"PXTCCAlertTitle", @"PhotosUICore");
}

id PXTCCSettingsGridTitle()
{
  return PXLocalizedStringFromTable(@"PXTCCSettingsTitle", @"PhotosUICore");
}

id PXTCCSettingsGridSubtitle()
{
  id v0 = objc_msgSend(MEMORY[0x1E4F39228], "px_systemPhotoLibrary");
  memset(v3, 0, sizeof(v3));
  _PXTCCLibraryCounts((uint64_t)v3, v0);
  uint64_t v1 = PLLocalizedCountDescription();

  return v1;
}

__CFString *PXTCCSettingsGridFooterText()
{
  id v0 = objc_msgSend(MEMORY[0x1E4F39228], "px_systemPhotoLibrary");
  unint64_t v8 = 0;
  unint64_t v9 = 0;
  uint64_t v10 = 0;
  _PXTCCLibraryCounts((uint64_t)&v8, v0);
  if (v8 == 0x7FFFFFFFFFFFFFFFLL || v9 == 0x7FFFFFFFFFFFFFFFLL || v10 == 0x7FFFFFFFFFFFFFFFLL)
  {
    id v3 = &stru_1F00B0030;
    goto LABEL_22;
  }
  if (v8 && v9 && v9 + v8 >= 3)
  {
    long long v4 = PXLocalizedStringFromTable(@"PXTCCSettingsFooterPhotosAndVideos", @"PhotosUICore");
    uint64_t v5 = v4;
    id v6 = @"%lu %lu";
LABEL_21:
    PXLocalizedStringWithValidatedFormat(v4, v6);
    id v3 = (__CFString *)objc_claimAutoreleasedReturnValue();

    goto LABEL_22;
  }
  if (v8 >= 2 && !v9)
  {
    long long v4 = PXLocalizedStringFromTable(@"PXTCCSettingsFooterPhotosOnly", @"PhotosUICore");
    uint64_t v5 = v4;
LABEL_20:
    id v6 = @"%lu";
    goto LABEL_21;
  }
  id v3 = &stru_1F00B0030;
  if (!v8 && v9 >= 2)
  {
    long long v4 = PXLocalizedStringFromTable(@"PXTCCSettingsFooterVideosOnly", @"PhotosUICore");
    uint64_t v5 = v4;
    goto LABEL_20;
  }
LABEL_22:

  return v3;
}

id PXTCCSettingsFullAccessSubtitle()
{
  return _PXTCCLibraryCountString(0);
}

id PXTCCSettingsLimitedAccessSubtitle(void *a1)
{
  id v1 = a1;
  long long v2 = objc_msgSend(MEMORY[0x1E4F39228], "px_systemPhotoLibrary");
  id v3 = v1;
  long long v4 = [v2 librarySpecificFetchOptions];
  uint64_t v5 = [MEMORY[0x1E4F38EB8] fetchType];
  id v6 = [v2 limitedLibraryPredicateForApplication:v3 fetchType:v5];

  [v4 setInternalPredicate:v6];
  uint64_t v7 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v4];
  uint64_t v8 = [v7 count];

  if (v8)
  {
    unint64_t v9 = PXLocalizedStringFromTable(@"PXTCCSettingsLimitedAccessSelection", @"PhotosUICore");
    uint64_t v10 = PXLocalizedStringWithValidatedFormat(v9, @"%lu");
  }
  else
  {
    uint64_t v10 = PXLocalizedStringFromTable(@"PXTCCSettingsLimitedAccessNoSelection", @"PhotosUICore");
  }

  return v10;
}

void sub_1AABD36D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__72961(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__72962(uint64_t a1)
{
}

void sub_1AABD3DE4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Block_object_dispose((const void *)(v1 - 120), 8);
  _Unwind_Resume(a1);
}

PXCMMPhotoKitContext *PXCMMCreateDebugCMMContext(void *a1, void *a2)
{
  v27[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  long long v4 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v5 = [v4 reviewFlow];

  if (v5) {
    uint64_t v6 = 2 * (v5 == 1);
  }
  else {
    uint64_t v6 = 1;
  }
  uint64_t v7 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v8 = [v7 reviewFlowDataSourceType];

  if (v8 == 2)
  {
    id v9 = [v3 librarySpecificFetchOptions];
    uint64_t v10 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"localizedTitle like[cd] %@", @"CMM-Test-*"];
    [v9 setPredicate:v10];
    uint64_t v11 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"cloudLastContributionDate" ascending:0];
    CGFloat v24 = v11;
    double v16 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v24 count:1];
    [v9 setInternalSortDescriptors:v16];

    [v9 setFetchLimit:1];
    double v17 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:1 subtype:101 options:v9];
    double v14 = [v17 firstObject];

    if (!v14)
    {
      objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithDebugDescription:", @"No shared albums found with the correct name format CMM-Test-XXXXsomething");
      id v15 = (id)objc_claimAutoreleasedReturnValue();
      double v20 = PLSharingGetLog();
      if (os_log_type_enabled(v20, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v20, OS_LOG_TYPE_ERROR, "You need a shared album named CMM-Test-XXXXsomething to use shared albums as backend", buf, 2u);
      }

      goto LABEL_16;
    }
LABEL_10:
    double v18 = [[PXCMMPhotoKitContext alloc] initWithAssetCollection:v14 activityType:v6 sourceType:0];
    id v15 = 0;
LABEL_17:

    goto LABEL_18;
  }
  if (v8 != 1)
  {
    if (v8) {
      goto LABEL_25;
    }
    id v9 = [v3 librarySpecificFetchOptions];
    uint64_t v10 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"estimatedAssetCount > 10"];
    [v9 setPredicate:v10];
    uint64_t v11 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"startDate" ascending:0];
    v27[0] = v11;
    id v12 = [MEMORY[0x1E4F1C978] arrayWithObjects:v27 count:1];
    [v9 setSortDescriptors:v12];

    [v9 setFetchLimit:1];
    int v13 = [MEMORY[0x1E4F38EE8] fetchMomentsWithOptions:v9];
    double v14 = [v13 firstObject];

    if (!v14)
    {
      objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithDebugDescription:", @"No recent, big moments found");
      id v15 = (id)objc_claimAutoreleasedReturnValue();
LABEL_16:
      double v18 = 0;
      goto LABEL_17;
    }
    goto LABEL_10;
  }
  id v23 = 0;
  uint64_t v19 = [v3 pathManager];
  uint64_t v10 = [v19 temporaryFileBackedDebugDirectoryCreateIfNeeded:0 error:&v23];

  id v9 = v23;
  if (!v10)
  {
    id v21 = PLSharingGetLog();
    if (os_log_type_enabled(v21, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      id v26 = v9;
      _os_log_impl(&dword_1A9AE7000, v21, OS_LOG_TYPE_ERROR, "No file backed directory found with error %@", buf, 0xCu);
    }

    objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithUnderlyingError:debugDescription:", v9, @"No file backed directory available");
    id v15 = (id)objc_claimAutoreleasedReturnValue();

    if (v15) {
      goto LABEL_20;
    }
LABEL_25:
    objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithDebugDescription:", @"Failed to create context with unknown error");
    id v15 = (id)objc_claimAutoreleasedReturnValue();
    if (a2) {
      goto LABEL_21;
    }
    goto LABEL_26;
  }
  uint64_t v11 = [MEMORY[0x1E4F1CB10] fileURLWithPath:v10];
  double v18 = +[PXCMMFileBackedContext fileBackedContextWithDirectoryURL:v11 activityType:v6 title:@"File Backed"];
  id v15 = 0;
LABEL_18:

  if (v18) {
    goto LABEL_27;
  }
  if (!v15) {
    goto LABEL_25;
  }
LABEL_20:
  if (a2)
  {
LABEL_21:
    id v15 = v15;
    double v18 = 0;
    *a2 = v15;
    goto LABEL_27;
  }
LABEL_26:
  double v18 = 0;
LABEL_27:

  return v18;
}

void sub_1AABD4C88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABD5054(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABD6C34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
}

void sub_1AABD7864(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AABD7A48(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AABD94A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, id *location, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,char a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,char a55,uint64_t a56,uint64_t a57,uint64_t a58,char a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a38, 8);
  _Block_object_dispose(&a55, 8);
  _Block_object_dispose(&a59, 8);
  _Block_object_dispose(&a65, 8);
  _Block_object_dispose(&STACK[0x270], 8);
  _Block_object_dispose(&STACK[0x2A0], 8);
  _Block_object_dispose(&STACK[0x300], 8);
  _Block_object_dispose(&STACK[0x330], 8);
  objc_destroyWeak(location);
  objc_destroyWeak((id *)&STACK[0x378]);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__73746(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__73747(uint64_t a1)
{
}

void sub_1AABD9F1C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

BOOL writeJpegImageToURL(CGImage *a1, const __CFDictionary *a2, void *a3)
{
  uint64_t v5 = (void *)*MEMORY[0x1E4F44410];
  CFURLRef v6 = a3;
  uint64_t v7 = [v5 identifier];
  uint64_t v8 = CGImageDestinationCreateWithURL(v6, v7, 1uLL, 0);

  if (!v8) {
    return 0;
  }
  CGImageDestinationAddImage(v8, a1, a2);
  BOOL v9 = CGImageDestinationFinalize(v8);
  CFRelease(v8);
  return v9;
}

BOOL wantImageForVariationType(uint64_t a1)
{
  return (unint64_t)(a1 - 3) < 0xFFFFFFFFFFFFFFFELL;
}

BOOL wantVideoForVariationType(uint64_t a1)
{
  return (unint64_t)(a1 - 1) < 2;
}

__CFString *PXAssetActionTypeForSelectingAssetVariationType(uint64_t a1)
{
  switch(a1)
  {
    case -1:
      CFURLRef v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
      uint64_t v7 = [NSString stringWithUTF8String:"NSString * _Nonnull PXAssetActionTypeForSelectingAssetVariationType(PXAssetVariationType)"];
      [v6 handleFailureInFunction:v7 file:@"PXAssetActionManager.m" lineNumber:110 description:@"Code which should be unreachable has been reached"];

      abort();
    case 0:
      uint64_t result = @"PXAssetActionTypeVariationNone";
      break;
    case 1:
      uint64_t result = @"PXAssetActionTypeVariationAutoloop";
      break;
    case 2:
      uint64_t result = @"PXAssetActionTypeVariationMirror";
      break;
    case 3:
      uint64_t result = @"PXAssetActionTypeVariationLongExposure";
      break;
    default:
      uint64_t result = &stru_1F00B0030;
      break;
  }
  return result;
}

uint64_t PXAssetVariationTypeForAssetActionType(void *a1)
{
  id v1 = a1;
  if ([v1 isEqualToString:@"PXAssetActionTypeVariationNone"])
  {
    uint64_t v2 = 0;
  }
  else if ([v1 isEqualToString:@"PXAssetActionTypeVariationAutoloop"])
  {
    uint64_t v2 = 1;
  }
  else if ([v1 isEqualToString:@"PXAssetActionTypeVariationMirror"])
  {
    uint64_t v2 = 2;
  }
  else
  {
    if (([v1 isEqualToString:@"PXAssetActionTypeVariationLongExposure"] & 1) == 0)
    {
      uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v5 = [NSString stringWithUTF8String:"PXAssetVariationType PXAssetVariationTypeForAssetActionType(NSString *__strong _Nonnull)"];
      [v4 handleFailureInFunction:v5 file:@"PXAssetActionManager.m" lineNumber:127 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    uint64_t v2 = 3;
  }

  return v2;
}

void sub_1AABDD34C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABDED84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABDEE9C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AABE52DC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

__CFString *PXSystemNavigationDestinationDescription(unint64_t a1)
{
  if (a1 > 0xE) {
    uint64_t v2 = 0;
  }
  else {
    uint64_t v2 = off_1E5DB6D18[a1];
  }
  if (![(__CFString *)v2 length])
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"NSString *PXSystemNavigationDestinationDescription(PXSystemNavigationDestination)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSystemNavigation.m", 89, @"Invalid destination: %ld", a1);
  }
  return v2;
}

void PXSystemNavigationEnumerateDestinations(void *a1)
{
  id v1 = a1;
  id v5 = v1;
  if (!v1)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void PXSystemNavigationEnumerateDestinations(void (^__strong)(PXSystemNavigationDestination))"];
    [v3 handleFailureInFunction:v4, @"PXSystemNavigation.m", 94, @"Invalid parameter not satisfying: %@", @"enumerator" file lineNumber description];

    id v1 = 0;
  }
  for (uint64_t i = 1; i != 14; ++i)
  {
    (*((void (**)(id, uint64_t))v1 + 2))(v5, i);
    id v1 = v5;
  }
}

uint64_t PXCreateDirectoryForFileProviderDomain(void *a1, void *a2)
{
  uint64_t v21 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  uint64_t v4 = PXPhotosFileProviderManager();
  if (PXCanAccessDocumentStorageURL(v4))
  {
    id v5 = [v4 documentStorageURL];
    CFURLRef v6 = [v3 pathRelativeToDocumentStorage];
    uint64_t v7 = [v5 URLByAppendingPathComponent:v6];

    uint64_t v8 = [MEMORY[0x1E4F28CB8] defaultManager];
    id v16 = 0;
    uint64_t v9 = [v8 createDirectoryAtURL:v7 withIntermediateDirectories:1 attributes:0 error:&v16];
    id v10 = v16;

    if ((v9 & 1) == 0)
    {
      uint64_t v11 = PLDragAndDropGetLog();
      if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
      {
        id v12 = [v7 description];
        int v13 = [v10 localizedDescription];
        *(_DWORD *)long long buf = 138412546;
        double v18 = v12;
        __int16 v19 = 2112;
        double v20 = v13;
        _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Failed to create directory at path:%@ Error:%@", buf, 0x16u);
      }
      if (a2) {
        *a2 = v10;
      }
    }
  }
  else
  {
    double v14 = PLDragAndDropGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138543362;
      double v18 = v4;
      _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_ERROR, "Unable to access document storage url with file provider manager: %{public}@", buf, 0xCu);
    }

    if (a2)
    {
      objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithDebugDescription:", @"Unable to access document storage url with file provider manager: %@", v4);
      uint64_t v9 = 0;
      *a2 = (id)objc_claimAutoreleasedReturnValue();
    }
    else
    {
      uint64_t v9 = 0;
    }
  }

  return v9;
}

id PXPhotosFileProviderVariantsSortedByEncodingPolicy(uint64_t a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  if (a1 == 1)
  {
    CFURLRef v6 = &unk_1F02D3D90;
  }
  else if (a1 == 2)
  {
    CFURLRef v6 = &unk_1F02D3DA8;
  }
  else
  {
    CFURLRef v6 = PXPhotosFileProviderVariantsSortedByClientEncodingPolicy(a2, v5);
  }

  return v6;
}

id PXPhotosFileProviderVariantsSortedByClientEncodingPolicy(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = v3;
  if (a1 == 1)
  {
    id v5 = &unk_1F02D3DC0;
  }
  else if (a1 == 2)
  {
    id v5 = &unk_1F02D3DD8;
  }
  else
  {
    int v6 = [v3 isSpatialMedia];
    uint64_t v7 = &unk_1F02D3E08;
    if (v6) {
      uint64_t v7 = &unk_1F02D3DF0;
    }
    id v5 = v7;
  }

  return v5;
}

id PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_onceToken != -1) {
    dispatch_once(&PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_onceToken, &__block_literal_global_75608);
  }
  id v2 = v1;
  id v3 = [MEMORY[0x1E4F442D8] typeWithIdentifier:v2];
  if ([v3 conformsToType:*MEMORY[0x1E4F44400]])
  {
    uint64_t v4 = v2;
    if ([(id)PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_supportedImageDestinationTypeIdentifiers containsObject:v2])goto LABEL_13; {
    if (os_log_type_enabled(MEMORY[0x1E4F14500], OS_LOG_TYPE_DEFAULT))
    }
    {
      int v6 = 138543362;
      id v7 = v2;
      _os_log_impl(&dword_1A9AE7000, MEMORY[0x1E4F14500], OS_LOG_TYPE_DEFAULT, "Cannot preserve format when downscaling images of type %{public}@, defaulting to JPEG.", (uint8_t *)&v6, 0xCu);
    }
    uint64_t v4 = [(id)*MEMORY[0x1E4F44410] identifier];
  }
  else
  {
    uint64_t v4 = v2;
    if ([v3 conformsToType:*MEMORY[0x1E4F44520]]) {
      goto LABEL_13;
    }
    if (os_log_type_enabled(MEMORY[0x1E4F14500], OS_LOG_TYPE_DEFAULT))
    {
      int v6 = 138543362;
      id v7 = v2;
      _os_log_impl(&dword_1A9AE7000, MEMORY[0x1E4F14500], OS_LOG_TYPE_DEFAULT, "Cannot determine a downscaling type as the type identifier (%{public}@) neither conforms to image or video.", (uint8_t *)&v6, 0xCu);
    }
    uint64_t v4 = 0;
  }

LABEL_13:
  return v4;
}

void __PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_block_invoke()
{
  CFArrayRef v0 = CGImageDestinationCopyTypeIdentifiers();
  id v1 = (void *)PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_supportedImageDestinationTypeIdentifiers;
  PXPhotosFileProviderTypeIdentifierForDownscalingAssetWithTypeIdentifier_supportedImageDestinationTypeIdentifiers = (uint64_t)v0;
}

NSString *PXPhotosFileProviderURLQueryItemUUIDKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemUUIDKey];
}

NSString *PXPhotosFileProviderURLQueryItemIdentifierCodeKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemIdentifierCodeKey];
}

NSString *PXPhotosFileProviderURLQueryItemLibraryIdentifierKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemLibraryIdentifierKey];
}

NSString *PXPhotosFileProviderURLQueryItemItemTypeKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemItemTypeKey];
}

NSString *PXPhotosFileProviderURLQueryItemClientEncodingPolicyKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemClientEncodingPolicyKey];
}

NSString *PXPhotosFileProviderURLQueryItemIncludeLocationKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemIncludeLocationKey];
}

NSString *PXPhotosFileProviderURLQueryItemIncludeCaptionKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemIncludeCaptionKey];
}

NSString *PXPhotosFileProviderURLQueryItemDownscalingTargetDimensionKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemDownscalingTargetDimensionKey];
}

NSString *PXPhotosFileProviderURLQueryItemThumbnailSizeKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemThumbnailSizeKey];
}

NSString *PXPhotosFileProviderURLQueryItemVideoPresetKey()
{
  return +[PXPhotosFileProviderRegister urlQueryItemVideoPresetKey];
}

NSString *PXPhotosFileProviderTypeIdentifierLivePhotoBundlePrivate()
{
  return +[PXPhotosFileProviderRegisterConfiguration typeIdentifierLivePhotoBundlePrivate];
}

NSString *PXPhotosFileProviderTypeIdentifierAutoLoopAsGIFPrivate()
{
  return +[PXPhotosFileProviderRegisterConfiguration typeIdentifierAutoLoopAsGIFPrivate];
}

NSString *PXPhotosFileProviderTypeIdentifierLiveWallpaperPrivate()
{
  return +[PXPhotosFileProviderRegisterConfiguration typeIdentifierLiveWallpaperPrivate];
}

id PXSynchronousAddPickerFileProviderDomain(void *a1)
{
  if (!a1)
  {
    uint64_t v11 = [MEMORY[0x1E4F28B00] currentHandler];
    id v12 = [NSString stringWithUTF8String:"NSFileProviderDomain * _Nullable PXSynchronousAddPickerFileProviderDomain(NSError *__autoreleasing * _Nullable)"];
    [v11 handleFailureInFunction:v12, @"PXPhotosFileProvider.m", 266, @"Invalid parameter not satisfying: %@", @"domainError" file lineNumber description];
  }
  uint64_t v16 = 0;
  double v17 = &v16;
  uint64_t v18 = 0x3032000000;
  __int16 v19 = __Block_byref_object_copy__75634;
  double v20 = __Block_byref_object_dispose__75635;
  id v21 = 0;
  id v2 = dispatch_group_create();
  id v3 = objc_alloc(MEMORY[0x1E4F25DC0]);
  uint64_t v4 = PXLocalizedStringFromTable(@"PICKER_FILE_PROVIDER_DOMAIN_TITLE", @"PhotosUICore");
  id v5 = (void *)[v3 initWithIdentifier:@"photospicker" displayName:v4 pathRelativeToDocumentStorage:@"photospicker" hidden:1];

  PXCreateDirectoryForFileProviderDomain(v5, 0);
  dispatch_group_enter(v2);
  int v6 = PXPhotosFileProviderManager();
  v13[0] = MEMORY[0x1E4F143A8];
  v13[1] = 3221225472;
  _OWORD v13[2] = __PXSynchronousAddPickerFileProviderDomain_block_invoke;
  v13[3] = &unk_1E5DB7780;
  id v15 = &v16;
  id v7 = v2;
  double v14 = v7;
  [v6 addDomain:v5 completionHandler:v13];

  dispatch_group_wait(v7, 0xFFFFFFFFFFFFFFFFLL);
  *a1 = (id) v17[5];
  if (v17[5]) {
    uint64_t v8 = 0;
  }
  else {
    uint64_t v8 = v5;
  }
  id v9 = v8;

  _Block_object_dispose(&v16, 8);
  return v9;
}

void sub_1AABE6CE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__75634(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__75635(uint64_t a1)
{
}

void __PXSynchronousAddPickerFileProviderDomain_block_invoke(uint64_t a1, void *a2)
{
  objc_storeStrong((id *)(*(void *)(*(void *)(a1 + 40) + 8) + 40), a2);
  id v4 = a2;
  dispatch_group_leave(*(dispatch_group_t *)(a1 + 32));
}

NSObject *PXItemProviderForAsset(void *a1, void *a2, void *a3)
{
  uint64_t v33 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (!v5)
  {
    id v10 = 0;
    goto LABEL_33;
  }
  uint64_t v8 = PLDragAndDropGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    id v9 = [v5 localIdentifier];
    int v27 = 138543362;
    id v28 = v9;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "Creating itemProvider for asset: %{public}@", (uint8_t *)&v27, 0xCu);
  }
  if (v6)
  {
    if (v7) {
      goto LABEL_12;
    }
  }
  else
  {
    _PXDragAndDropPhotosFileProviderRegisterConfiguration();
    id v6 = (id)objc_claimAutoreleasedReturnValue();
    if (v7) {
      goto LABEL_12;
    }
  }
  uint64_t v11 = PLDragAndDropGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    LOWORD(v27) = 0;
    _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "No domain provided, using drag and drop domain.", (uint8_t *)&v27, 2u);
  }

  _PXDragAndDropFileProviderDomain();
  id v7 = (id)objc_claimAutoreleasedReturnValue();
  if (!v7)
  {
    int v13 = PLDragAndDropGetLog();
    if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
    {
      CGFloat v24 = [v5 localIdentifier];
      int v27 = 138543362;
      id v28 = v24;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Failed to get NSFileProviderManager for asset: %{public}@", (uint8_t *)&v27, 0xCu);
    }
    id v7 = 0;
    id v10 = 0;
    goto LABEL_32;
  }
LABEL_12:
  id v12 = PXPhotosFileProviderManager();
  int v13 = v12;
  if (v12)
  {
    if (PXCanAccessDocumentStorageURL(v12))
    {
      double v14 = objc_alloc_init(MEMORY[0x1E4F39970]);
      id v15 = [[PXPhotosFileProviderRegister alloc] initWithConfiguration:v6 fileProviderManager:v13 domain:v7];
      id v16 = [(PXPhotosFileProviderRegister *)v15 registerFileRepresentationsWithItemProvider:v14 asset:v5];
      double v17 = PLDragAndDropGetLog();
      uint64_t v18 = v17;
      if (v14)
      {
        if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
        {
          int v27 = 138412802;
          id v28 = v14;
          __int16 v29 = 2112;
          CGRect v30 = v13;
          __int16 v31 = 2112;
          id v32 = v7;
          _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_DEFAULT, "Created itemProvider: %@, for fileProviderManager: %@, domain: %@", (uint8_t *)&v27, 0x20u);
        }

        __int16 v19 = v14;
      }
      else
      {
        if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
        {
          CGFloat v25 = [v5 localIdentifier];
          int v27 = 138543362;
          id v28 = v25;
          _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_ERROR, "Failed to get NSFileProviderManager for asset: %{public}@", (uint8_t *)&v27, 0xCu);
        }
      }

      id v10 = v14;
      goto LABEL_31;
    }
    double v14 = PLDragAndDropGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
    {
      double v20 = [v5 localIdentifier];
      int v27 = 138543618;
      id v28 = v13;
      __int16 v29 = 2114;
      CGRect v30 = v20;
      id v21 = "Unable to access document storage url with file provider manager: %{public}@ for asset: %{public}@";
      uint64_t v22 = v14;
      uint32_t v23 = 22;
      goto LABEL_22;
    }
  }
  else
  {
    double v14 = PLDragAndDropGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
    {
      double v20 = [v5 localIdentifier];
      int v27 = 138543362;
      id v28 = v20;
      id v21 = "Failed to initialize PhotosFileProvider NSFileProviderManager for asset: %{public}@";
      uint64_t v22 = v14;
      uint32_t v23 = 12;
LABEL_22:
      _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_ERROR, v21, (uint8_t *)&v27, v23);
    }
  }
  id v10 = 0;
LABEL_31:

LABEL_32:
LABEL_33:

  return v10;
}

id _PXDragAndDropPhotosFileProviderRegisterConfiguration()
{
  if (_PXDragAndDropPhotosFileProviderRegisterConfiguration_onceToken != -1) {
    dispatch_once(&_PXDragAndDropPhotosFileProviderRegisterConfiguration_onceToken, &__block_literal_global_289_75655);
  }
  CFArrayRef v0 = (void *)_PXDragAndDropPhotosFileProviderRegisterConfiguration_configuration;
  return v0;
}

id PXBoopItemProviderForAsset(void *a1)
{
  uint64_t v1 = _PXBoopPhotosFileProviderRegisterConfiguration_onceToken;
  id v2 = a1;
  if (v1 != -1) {
    dispatch_once(&_PXBoopPhotosFileProviderRegisterConfiguration_onceToken, &__block_literal_global_291);
  }
  id v3 = (id)_PXBoopPhotosFileProviderRegisterConfiguration_configuration;
  id v4 = _PXBoopFileProviderDomain();
  id v5 = PXItemProviderForAsset(v2, v3, v4);

  return v5;
}

id PXDragAndDropItemProviderForAsset(void *a1)
{
  id v1 = a1;
  id v2 = _PXDragAndDropPhotosFileProviderRegisterConfiguration();
  id v3 = _PXDragAndDropFileProviderDomain();
  id v4 = PXItemProviderForAsset(v1, v2, v3);

  return v4;
}

id PXDragAndDropItemProviderForObject(void *a1)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    id v2 = v1;

    if (v2)
    {
      id v3 = PXDragAndDropItemProviderForAsset(v2);
      goto LABEL_26;
    }
    goto LABEL_13;
  }

  if (!v1)
  {
    id v2 = 0;
LABEL_13:
    id v3 = 0;
    goto LABEL_26;
  }
  id v4 = _PXDragAndDropPhotosFileProviderRegisterConfiguration();
  id v5 = _PXDragAndDropFileProviderDomain();
  if (v5)
  {
    id v6 = PXPhotosFileProviderManager();
    if (v6)
    {
      id v7 = objc_alloc_init(MEMORY[0x1E4F28D78]);
      uint64_t v8 = [[PXPhotosFileProviderRegister alloc] initWithConfiguration:v4 fileProviderManager:v6 domain:v5];
      id v9 = [(PXPhotosFileProviderRegister *)v8 registerFolderRepresentationWithItemProvider:v7 object:v1];
      id v10 = PLDragAndDropGetLog();
      uint64_t v11 = v10;
      if (v7)
      {
        if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
        {
          int v17 = 138412802;
          uint64_t v18 = v7;
          __int16 v19 = 2112;
          double v20 = v6;
          __int16 v21 = 2112;
          uint64_t v22 = v5;
          _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Created itemProvider: %@, for fileProviderManager: %@, domain: %@", (uint8_t *)&v17, 0x20u);
        }

        id v12 = v7;
      }
      else
      {
        if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
        {
          id v15 = [v1 localIdentifier];
          int v17 = 138543362;
          uint64_t v18 = v15;
          _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_ERROR, "Failed to get NSFileProviderManager for collection: %{public}@", (uint8_t *)&v17, 0xCu);
        }
      }

      id v3 = v7;
    }
    else
    {
      id v7 = PLDragAndDropGetLog();
      if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
      {
        double v14 = [v1 localIdentifier];
        int v17 = 138543362;
        uint64_t v18 = v14;
        _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Failed to initialize PhotosFileProvider NSFileProviderManager for object: %{public}@", (uint8_t *)&v17, 0xCu);
      }
      id v3 = 0;
    }
  }
  else
  {
    id v6 = PLDragAndDropGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      int v13 = [v1 localIdentifier];
      int v17 = 138543362;
      uint64_t v18 = v13;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_ERROR, "Failed to get NSFileProviderManager for object: %{public}@", (uint8_t *)&v17, 0xCu);
    }
    id v3 = 0;
  }

  id v2 = 0;
LABEL_26:

  return v3;
}

id PXDragAndDropItemProviderForDisplayAsset(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = PXDragAndDropItemProviderForAsset(v1);
  }
  else
  {
    id v2 = 0;
  }

  return v2;
}

PXPhotosFileProviderRegister *PXPickerFileProviderRegister(void *a1, void *a2, void *a3)
{
  id v5 = a3;
  id v6 = a2;
  id v7 = a1;
  uint64_t v8 = [[PXPhotosFileProviderRegister alloc] initWithConfiguration:v5 fileProviderManager:v7 domain:v6];

  return v8;
}

uint64_t PXPhotosFileProviderRegisteredFileRepresentations(void *a1, const char *a2)
{
  return [a1 registeredFileRepresentationsWithAsset:a2];
}

uint64_t PXPickerFileProviderRegisterConfigurationSetIsLiveWallpaperSuggestion(void *a1, const char *a2)
{
  return [a1 setIsLiveWallpaperSelection:a2];
}

id PXPhotosFileProviderRegisterFileRepresentationTypeIdentifier(void *a1)
{
  id v1 = [a1 contentType];
  id v2 = [v1 identifier];

  return v2;
}

__CFString *PXAssetVariationTypeDescription(uint64_t a1)
{
  if ((unint64_t)(a1 + 1) > 4) {
    return @"Unknown";
  }
  else {
    return off_1E5DB6DB0[a1 + 1];
  }
}

uint64_t PFMetadataPlaybackVariationFromPXAssetVariation(uint64_t result)
{
  return (unsigned __int16)result;
}

void sub_1AABE945C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AABE9EA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABEAB3C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryInvitationTransportDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryInvitationTransport: %ld", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DB6EF0[a1];
  }
  return v1;
}

void PXSharedLibraryFinishReviewAssistant(void *a1, void *a2, uint64_t a3, void *a4, void *a5, void *a6)
{
  id v11 = a1;
  id v12 = a2;
  id v13 = a4;
  id v14 = a5;
  id v15 = a6;
  if (v11)
  {
    if (v12) {
      goto LABEL_3;
    }
  }
  else
  {
    __int16 v19 = [MEMORY[0x1E4F28B00] currentHandler];
    double v20 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFinishReviewAssistant(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, PXSharedLibraryInvitationTransport, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL, NSError * _Nullable __strong))");
    [v19 handleFailureInFunction:v20, @"PXSharedLibraryAssistantReviewParticipantsUtilities.m", 106, @"Invalid parameter not satisfying: %@", @"statusProvider" file lineNumber description];

    if (v12)
    {
LABEL_3:
      if (v14) {
        goto LABEL_4;
      }
LABEL_13:
      uint64_t v23 = [MEMORY[0x1E4F28B00] currentHandler];
      CGFloat v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFinishReviewAssistant(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, PXSharedLibraryInvitationTransport, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL, NSError * _Nullable __strong))");
      [v23 handleFailureInFunction:v24, @"PXSharedLibraryAssistantReviewParticipantsUtilities.m", 108, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

      if (v15) {
        goto LABEL_5;
      }
      goto LABEL_14;
    }
  }
  __int16 v21 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFinishReviewAssistant(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, PXSharedLibraryInvitationTransport, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL, NSError * _Nullable __strong))");
  [v21 handleFailureInFunction:v22, @"PXSharedLibraryAssistantReviewParticipantsUtilities.m", 107, @"Invalid parameter not satisfying: %@", @"viewModel" file lineNumber description];

  if (!v14) {
    goto LABEL_13;
  }
LABEL_4:
  if (v15) {
    goto LABEL_5;
  }
LABEL_14:
  CGFloat v25 = [MEMORY[0x1E4F28B00] currentHandler];
  id v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFinishReviewAssistant(PXSharedLibraryStatusProvider *__strong _Nonnull, PXSharedLibraryAssistantViewModel *__strong _Nonnull, PXSharedLibraryInvitationTransport, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL, NSError * _Nullable __strong))");
  [v25 handleFailureInFunction:v26, @"PXSharedLibraryAssistantReviewParticipantsUtilities.m", 109, @"Invalid parameter not satisfying: %@", @"completionHandler" file lineNumber description];

LABEL_5:
  id v16 = [v12 sharedLibrary];
  if (![v16 isInPreview])
  {

    goto LABEL_9;
  }
  int v17 = [v12 previewIsOutdated];

  if (!v17)
  {
LABEL_9:
    _CreateOrPublishLibraryScope(v11, v12, a3, v13, v14, v15);
    goto LABEL_10;
  }
  uint64_t v18 = [v12 sharedLibrary];
  v27[0] = MEMORY[0x1E4F143A8];
  v27[1] = 3221225472;
  void v27[2] = __PXSharedLibraryFinishReviewAssistant_block_invoke;
  v27[3] = &unk_1E5DCF060;
  id v28 = v13;
  id v29 = v11;
  id v30 = v12;
  uint64_t v33 = a3;
  id v31 = v14;
  id v32 = v15;
  _ExitSharedLibraryOrPreview(v18, 0, 0, v31, @"PXSharedLibraryFinishReviewAssistant", v27);

LABEL_10:
}

void __PXSharedLibraryFinishReviewAssistant_block_invoke(uint64_t a1, int a2, void *a3)
{
  id v5 = a3;
  id v6 = v5;
  if (a2 && (objc_msgSend(*(id *)(a1 + 32), "isCancelled", v5) & 1) == 0) {
    _CreateOrPublishLibraryScope(*(void **)(a1 + 40), *(void **)(a1 + 48), *(void *)(a1 + 72), *(void **)(a1 + 32), *(void **)(a1 + 56), *(void **)(a1 + 64));
  }
  else {
    (*(void (**)(void))(*(void *)(a1 + 64) + 16))();
  }
}

void _CreateOrPublishLibraryScope(void *a1, void *a2, uint64_t a3, void *a4, void *a5, void *a6)
{
  id v11 = a1;
  id v12 = a2;
  id v13 = a4;
  id v14 = a5;
  id v15 = a6;
  id v16 = [v12 sharedLibrary];
  int v17 = [v12 emailAddresses];
  uint64_t v18 = [v12 phoneNumbers];
  if ([v16 isPublished])
  {
    _FinishAssistantForSharedLibrary(v16, v17, v18, a3, v14, v15);
  }
  else
  {
    v19[0] = MEMORY[0x1E4F143A8];
    v19[1] = 3221225472;
    v19[2] = ___CreateOrPublishLibraryScope_block_invoke;
    v19[3] = &unk_1E5DB6EA8;
    id v20 = v12;
    id v21 = v17;
    id v22 = v18;
    uint64_t v25 = a3;
    id v23 = v14;
    id v24 = v15;
    PXSharedLibraryCreateOrPublishLibraryScope(v11, v20, v13, v23, v19);
  }
}

void _FinishAssistantForSharedLibrary(void *a1, void *a2, void *a3, uint64_t a4, void *a5, void *a6)
{
  uint64_t v26 = *MEMORY[0x1E4F143B8];
  id v11 = a1;
  id v12 = a2;
  id v13 = a3;
  id v14 = a5;
  id v15 = a6;
  if ([v11 isInLocalMode])
  {
    id v16 = v15;
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + 1) = 3221225472;
    id v23 = ___FinishAssistantForLocalMode_block_invoke;
    id v24 = &unk_1E5DB6ED0;
    id v25 = v16;
    int v17 = [v14 presentAlertWithConfigurationHandler:&buf];
    if (!v17)
    {
      uint64_t v18 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)id v21 = 0;
        _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_ERROR, "Failed to present the LocalMode information alert", v21, 2u);
      }

      (*((void (**)(id, uint64_t, void))v16 + 2))(v16, 1, 0);
    }
  }
  else
  {
    switch(a4)
    {
      case 0:
        (*((void (**)(id, uint64_t, void))v15 + 2))(v15, 1, 0);
        break;
      case 1:
        __int16 v19 = [v11 shareURL];
        id v20 = PLSharedLibraryGetLog();
        if (os_log_type_enabled(v20, OS_LOG_TYPE_DEFAULT))
        {
          LODWORD(buf) = 138412290;
          *(void *)((char *)&buf + 4) = v19;
          _os_log_impl(&dword_1A9AE7000, v20, OS_LOG_TYPE_DEFAULT, "Assistant: Will copy URL for invitation: %@", (uint8_t *)&buf, 0xCu);
        }

        PXCopyURL(v19);
        (*((void (**)(id, uint64_t, void))v15 + 2))(v15, 1, 0);
        goto LABEL_13;
      case 2:
        __int16 v19 = [v11 shareURL];
        PXSharedLibraryShareInvitation(v19, v14, @"Assistant", v15);
LABEL_13:

        break;
      case 3:
        PXSharedLibrarySendInvitation(v11, v12, v13, v14, @"Assistant", v15);
        break;
      default:
        break;
    }
  }
}

id PXSharedLibraryAssistantReviewParticipantsSubtitle(void *a1, uint64_t a2, uint64_t *a3)
{
  id v5 = a1;
  id v6 = @"MultipleParticipants";
  if (a2 == 1) {
    id v6 = @"SingleParticipant";
  }
  if (!a2) {
    id v6 = @"GenericParticipants";
  }
  id v7 = v6;
  uint64_t v9 = *a3;
  uint64_t v8 = a3[1];
  uint64_t v10 = a3[2];
  if (*a3 != 0x7FFFFFFFFFFFFFFFLL && v8 != 0x7FFFFFFFFFFFFFFFLL && v10 != 0x7FFFFFFFFFFFFFFFLL)
  {
    if (v10)
    {
      uint64_t v13 = v10 + v9 + v8;
      id v14 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_ReviewRecipients_%@_Subtitle_Items_Format", v7];
      id v15 = PXLocalizedSharedLibraryString(v14);

      if (a2)
      {
        uint64_t v25 = v13;
LABEL_23:
        int v17 = @"%@ %lu";
        goto LABEL_26;
      }
      goto LABEL_25;
    }
    if (v9)
    {
      if (v8)
      {
        id v16 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_ReviewRecipients_%@_Subtitle_PhotosAndVideos_Format", v7];
        id v15 = PXLocalizedSharedLibraryString(v16);

        if (a2)
        {
          uint64_t v25 = *a3;
          uint64_t v26 = a3[1];
          int v17 = @"%@ %lu %lu";
        }
        else
        {
          uint64_t v25 = a3[1];
          int v17 = @"%lu %lu";
        }
LABEL_26:
        id v21 = PXLocalizedStringWithValidatedFormat(v15, v17);

        if (v21) {
          goto LABEL_28;
        }
        goto LABEL_27;
      }
      id v20 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_ReviewRecipients_%@_Subtitle_Photos_Format", v7];
      id v15 = PXLocalizedSharedLibraryString(v20);

      uint64_t v19 = *a3;
      if (!a2)
      {
LABEL_25:
        int v17 = @"%lu";
        goto LABEL_26;
      }
LABEL_22:
      uint64_t v25 = v19;
      goto LABEL_23;
    }
    if (v8)
    {
      uint64_t v18 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_ReviewRecipients_%@_Subtitle_Videos_Format", v7];
      id v15 = PXLocalizedSharedLibraryString(v18);

      uint64_t v19 = a3[1];
      if (!a2) {
        goto LABEL_25;
      }
      goto LABEL_22;
    }
  }
LABEL_27:
  id v22 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_ReviewRecipients_%@_NoItems_Subtitle_Format", v7, v25, v26];
  id v23 = PXLocalizedSharedLibraryString(v22);

  id v21 = PXLocalizedStringWithValidatedFormat(v23, @"%@");

LABEL_28:
  return v21;
}

void sub_1AABEF9B0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABEFD70(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AABEFF2C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AABF45D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12)
{
  _Unwind_Resume(a1);
}

void sub_1AABF4E3C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 248), 8);
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__77757(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__77758(uint64_t a1)
{
}

void sub_1AABF56C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABF5B8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABF5D04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AABF6AC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,char a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

void sub_1AABF6F24(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AABF713C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

__CFString *PXCMMInvitationViewModelChangedDebugDescription(uint64_t a1)
{
  if (a1 > 63)
  {
    if (a1 <= 255)
    {
      if (a1 == 64)
      {
        id v2 = @"subtitle1";
        goto LABEL_22;
      }
      if (a1 == 128)
      {
        id v2 = @"subtitle2";
        goto LABEL_22;
      }
    }
    else
    {
      switch(a1)
      {
        case 256:
          id v2 = @"opaqueAncestorBackgroundColor";
          goto LABEL_22;
        case 512:
          id v2 = @"highlighted";
          goto LABEL_22;
        case 1024:
          id v2 = @"owner";
          goto LABEL_22;
      }
    }
LABEL_17:
    objc_msgSend(NSString, "stringWithFormat:", @"unknown(%llu)", a1);
    id v2 = (__CFString *)objc_claimAutoreleasedReturnValue();
    goto LABEL_22;
  }
  id v2 = @"isNew";
  switch(a1)
  {
    case 1:
      break;
    case 2:
      id v2 = @"posterTitle";
      break;
    case 3:
    case 5:
    case 6:
    case 7:
      goto LABEL_17;
    case 4:
      id v2 = @"posterSubtitle";
      break;
    case 8:
      id v2 = @"posterAsset";
      break;
    default:
      if (a1 == 16)
      {
        id v2 = @"posterMediaProvider";
      }
      else
      {
        if (a1 != 32) {
          goto LABEL_17;
        }
        id v2 = @"title";
      }
      break;
  }
LABEL_22:
  return v2;
}

id PXCMMInvitationViewModelChangeDescriptorDebugDescription(unsigned int a1)
{
  id v2 = [MEMORY[0x1E4F1CA48] arrayWithCapacity:11];
  for (uint64_t i = 0; i != 12; ++i)
  {
    if (((1 << i) & a1) != 0)
    {
      id v4 = PXCMMInvitationViewModelChangedDebugDescription((1 << i) & a1);
      [v2 addObject:v4];
    }
  }
  id v5 = [v2 componentsJoinedByString:@","];

  return v5;
}

__CFString *PXStoryPPTPresetDescription(unint64_t a1)
{
  if (a1 > 7) {
    return @"??";
  }
  else {
    return off_1E5DB7090[a1];
  }
}

uint64_t PXStoryPPTPresetEnumeratePossibleValuesUsingBlock(uint64_t a1)
{
  for (uint64_t i = 1; i != 8; ++i)
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 16))(a1, i);
  return result;
}

id PXStoryPPTPresetPossibleValues()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v5[0] = MEMORY[0x1E4F143A8];
  v5[1] = 3221225472;
  id v6 = __PXStoryPPTPresetPossibleValues_block_invoke;
  id v7 = &unk_1E5DD04A0;
  id v1 = v0;
  id v8 = v1;
  for (uint64_t i = 1; i != 8; ++i)
    v6((uint64_t)v5, i);
  id v3 = (void *)[v1 copy];

  return v3;
}

void __PXStoryPPTPresetPossibleValues_block_invoke(uint64_t a1, uint64_t a2)
{
  id v2 = *(void **)(a1 + 32);
  id v3 = [NSNumber numberWithUnsignedInteger:a2];
  [v2 addObject:v3];
}

__CFString *PXStoryPPTSubpresetDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DB70D0[a1];
  }
}

uint64_t PXStoryPPTSubpresetEnumeratePossibleValuesUsingBlock(uint64_t a1)
{
  for (uint64_t i = 0; i != 4; ++i)
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 16))(a1, i);
  return result;
}

id PXStoryPPTSubpresetPossibleValues()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v5[0] = MEMORY[0x1E4F143A8];
  v5[1] = 3221225472;
  id v6 = __PXStoryPPTSubpresetPossibleValues_block_invoke;
  id v7 = &unk_1E5DD04A0;
  id v1 = v0;
  uint64_t v2 = 0;
  id v8 = v1;
  do
    v6((uint64_t)v5, v2++);
  while (v2 != 4);
  id v3 = (void *)[v1 copy];

  return v3;
}

void __PXStoryPPTSubpresetPossibleValues_block_invoke(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void **)(a1 + 32);
  id v3 = [NSNumber numberWithUnsignedInteger:a2];
  [v2 addObject:v3];
}

void _PXGDampedSpringAnimationDuration(float a1, float a2, float a3, float a4)
{
  if (a1 != 0.0)
  {
    if (a1 >= 1.0)
    {
      float v8 = a2 - a3;
      float v9 = expf((float)-a2 / (float)(a2 - a3));
      float v10 = -1.0 - logf(fabsf((float)((float)(v9 * a2) * a4) / v8));
      exp((float)(sqrtf(v10) * -0.0201));
    }
    else
    {
      float v7 = fabsf((float)-(float)(a3 - (float)(a1 * a2)) / (float)(sqrtf(1.0 - (float)(a1 * a1)) * a2));
      if (v7 >= 0.00000011921)
      {
        float v11 = a4 / (v7 + 1.0);
        fmaxf((float)-logf(v11) / (float)(a1 * a2), 0.0);
      }
      else
      {
        logf(1.0 / a4);
      }
    }
  }
}

void PXGDampedSpringMinimumDuration(uint64_t a1, float a2, double a3, double a4)
{
  if (a2 >= 1.0 && a4 > 0.0)
  {
    v6[0] = 0;
    v6[1] = 0;
    PXGDampedSpringGroupParametersConfigure((float *)v6, a1, a2, a3);
    if (*(float *)v6 != 0.0)
    {
      float v5 = 0.100000001 / a4;
      logf(v5);
    }
  }
}

void PXGDampedSpringGroupParametersConfigure(float *a1, uint64_t a2, float a3, double a4)
{
  if (a3 >= 1.0)
  {
    if (a4 == 0.0)
    {
      float v10 = 3.4028e38;
      goto LABEL_7;
    }
    _PXGDampedSpringAnimationDuration(a3, 1.0, 0.0, 0.001);
    double v8 = v9 / a4;
  }
  else
  {
    float v7 = sqrtf(1.0 - (float)(a3 * a3));
    double v8 = -(atanf(v7 / a3) - (double)a2 * 6.28318531) / (v7 * a4);
  }
  float v10 = v8;
LABEL_7:
  *a1 = v10;
  a1[1] = a3;
}

float PXGDampedSpringDOFParametersConfigure(uint64_t a1, float a2, float a3)
{
  float result = a2 - a3;
  *(float *)a1 = a3;
  *(float *)(a1 + 4) = result;
  *(_DWORD *)(a1 + _Block_object_dispose(&STACK[0x580], 8) = 0;
  return result;
}

double PXGDampedSpringDOFParametersDoubleConfigure(uint64_t a1, double a2, double a3)
{
  double result = a2 - a3;
  *(double *)a1 = a3;
  *(double *)(a1 + _Block_object_dispose(&STACK[0x580], 8) = result;
  *(_DWORD *)(a1 + 16) = 0;
  return result;
}

float PXGDampedSpringDOFParametersUpdateForAdjustedPresentation(float *a1, float a2, float a3)
{
  float result = (float)(a3 - a2) + *a1;
  *a1 = result;
  return result;
}

double PXGDampedSpringDOFParametersDoubleUpdateForAdjustedPresentation(double *a1, double a2, double a3)
{
  double result = a3 - a2 + *a1;
  *a1 = result;
  return result;
}

void PXGDampedSpringGroupParametersPrepareForTime(float *a1, float a2)
{
  float v4 = *a1;
  float v5 = a1[1];
  float v6 = -*a1;
  if (v5 >= 1.0)
  {
    float v12 = expf(v6 * a2);
    float v10 = ((float)(v4 * a2) + 1.0) * v12;
    float v11 = v12 * a2;
  }
  else
  {
    float v7 = expf((float)(v5 * v6) * a2);
    float v8 = v4 * sqrtf(1.0 - (float)(v5 * v5));
    __float2 v9 = __sincosf_stret(v8 * a2);
    float v10 = v7 * (float)(v9.__cosval + (float)((float)(v4 * v5) * (float)(v9.__sinval / v8)));
    float v11 = v7 * (float)(v9.__sinval / v8);
  }
  a1[2] = v10;
  a1[3] = v11;
}

uint64_t PXGDampedSpringGroupParametersReset(uint64_t result)
{
  *(void *)(result + _Block_object_dispose(&STACK[0x580], 8) = 0;
  return result;
}

uint64_t PXGDampedSpringGroupParametersDescription(float *a1)
{
  return [NSString stringWithFormat:@"{w=%.2f, z=%.2f}", *a1, a1[1]];
}

uint64_t PXGDampedSpringDOFParametersDoubleDescription(uint64_t a1)
{
  return [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *(void *)a1, *(void *)(a1 + 8), *(float *)(a1 + 16)];
}

uint64_t PXGDampedSpringDOFParametersDescription(float *a1)
{
  return [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *a1, a1[1], a1[2]];
}

id _AppIntentsQueue_79629()
{
  if (_AppIntentsQueue_predicate_79630 != -1) {
    dispatch_once(&_AppIntentsQueue_predicate_79630, &__block_literal_global_1381);
  }
  id v0 = (void *)_AppIntentsQueue_serialQueue_79631;
  return v0;
}

void sub_1AABFF0F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__79651(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__79652(uint64_t a1)
{
}

void sub_1AAC0025C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  objc_destroyWeak(v27);
  _Block_object_dispose(&a27, 8);
  objc_destroyWeak((id *)(v28 - 144));
  _Unwind_Resume(a1);
}

void sub_1AAC00C5C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC011AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC01E34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC045B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,char a49)
{
}

void sub_1AAC05AF4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC07078(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC08238(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC08568(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXMemoryMusicQualityFeedbackTypeForString(void *a1)
{
  id v1 = a1;
  if ([v1 isEqualToString:@"Good Suggestion"])
  {
    uint64_t v2 = 1;
  }
  else if ([v1 isEqualToString:@"Lyrics Dont Match"])
  {
    uint64_t v2 = 2;
  }
  else if ([v1 isEqualToString:@"Wrong Pace"])
  {
    uint64_t v2 = 3;
  }
  else if ([v1 isEqualToString:@"Wrong Tone"])
  {
    uint64_t v2 = 4;
  }
  else if ([v1 isEqualToString:@"I Dont Like This Song"])
  {
    uint64_t v2 = 5;
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

__CFString *PXStringForMemoryMusicQualityFeedbackType(int a1)
{
  if ((a1 - 1) > 4) {
    return @"None";
  }
  else {
    return off_1E5DB7410[(unsigned __int16)(a1 - 1)];
  }
}

id _PXContentFilterImageForImageName(void *a1)
{
  id v1 = a1;
  if ([v1 length])
  {
    uint64_t v2 = [MEMORY[0x1E4FB1818] systemImageNamed:v1];
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

__CFString *PXContentFilterImageNameForItemTag(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x13) {
    return 0;
  }
  else {
    return off_1E5DB7488[a1 - 1];
  }
}

id PXContentFilterImageForItemTag(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x13) {
    id v1 = 0;
  }
  else {
    id v1 = off_1E5DB7488[a1 - 1];
  }
  uint64_t v2 = v1;
  if ([(__CFString *)v2 length])
  {
    id v3 = _PXContentFilterImageForImageName(v2);
  }
  else
  {
    id v3 = 0;
  }

  return v3;
}

uint64_t _PXContentFilterShouldIncludeTagInSingleFilterCheck(unint64_t a1)
{
  return (a1 > 0x13) | (0x7F81u >> a1) & 1;
}

id PXContentFilterImageForFilterState(void *a1)
{
  id v1 = PXContentFilterImageNameForFilterState(a1);
  if ([v1 length])
  {
    uint64_t v2 = _PXContentFilterImageForImageName(v1);
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

id PXContentFilterImageForFilterStates(void *a1, void *a2)
{
  uint64_t v2 = PXContentFilterImageNameForFilterStates(a1, a2);
  if ([v2 length])
  {
    id v3 = _PXContentFilterImageForImageName(v2);
  }
  else
  {
    id v3 = 0;
  }

  return v3;
}

id PXContentFilterSubtitleForItemTag(uint64_t a1, void *a2, uint64_t a3)
{
  id v5 = a2;
  float v6 = v5;
  if (a1 != 3)
  {
    if (a1 == 1 && [v5 hasSharedLibraryOrPreview])
    {
      switch(a3)
      {
        case 2:
          if ([v6 hasPreview]) {
            float v7 = @"PXSharedLibrary_FilterMenu_Subtitle_FromSharedLibraryPreview";
          }
          else {
            float v7 = @"PXSharedLibrary_FilterMenu_Subtitle_FromSharedLibrary";
          }
          goto LABEL_14;
        case 1:
          float v7 = @"PXSharedLibrary_FilterMenu_Subtitle_FromPersonalLibrary";
          goto LABEL_14;
        case 0:
          float v7 = @"PXSharedLibrary_FilterMenu_Subtitle_FromAllLibraries";
LABEL_14:
          uint64_t v9 = PXLocalizedSharedLibraryString(v7);
          goto LABEL_15;
      }
    }
    float v8 = 0;
    goto LABEL_16;
  }
  uint64_t v9 = PXLocalizedStringFromTable(@"PXContentFilterMenu_IncludeSharedWithYou_Subtitle", @"PhotosUICore");
LABEL_15:
  float v8 = (void *)v9;
LABEL_16:

  return v8;
}

id PXContentFilterHiddenTypesForAssetCollection(void *a1)
{
  id v1 = a1;
  if (objc_msgSend(v1, "px_isContentSyndicationAlbum"))
  {
    uint64_t v2 = &unk_1F02D3EC8;
  }
  else if (objc_msgSend(v1, "px_isFavoritesSmartAlbum"))
  {
    uint64_t v2 = &unk_1F02D3EE0;
  }
  else if ((objc_msgSend(v1, "px_isScreenshotsSmartAlbum") & 1) != 0 {
         || (objc_msgSend(v1, "px_isScreenRecordingsSmartAlbum") & 1) != 0)
  }
  {
    uint64_t v2 = &unk_1F02D3EF8;
  }
  else if (objc_msgSend(v1, "px_isDepthEffectSmartAlbum"))
  {
    uint64_t v2 = &unk_1F02D3F10;
  }
  else if (objc_msgSend(v1, "px_isMediaTypeSmartAlbum") {
         && !objc_msgSend(v1, "px_isSelfPortraitsSmartAlbum"))
  }
  {
    uint64_t v2 = &unk_1F02D3F28;
  }
  else if (objc_msgSend(v1, "px_isSharedAlbum"))
  {
    uint64_t v2 = &unk_1F02D3F40;
  }
  else if ((objc_msgSend(v1, "px_isAllLibraryDuplicatesSmartAlbum") & 1) != 0 {
         || (objc_msgSend(v1, "px_isMomentShare") & 1) != 0)
  }
  {
    uint64_t v2 = &unk_1F02D3F58;
  }
  else if (objc_msgSend(v1, "px_isSearchResultsVirtualCollection"))
  {
    uint64_t v2 = &unk_1F02D3F70;
  }
  else
  {
    uint64_t v2 = &unk_1F02D3F88;
  }
  id v3 = +[PXPhotosGridSettings sharedInstance];
  char v4 = [v3 showLivePhotoFilter];

  if ((v4 & 1) == 0)
  {
    uint64_t v2 = [v2 arrayByAddingObject:&unk_1F02D7210];
  }
  id v5 = +[PXPhotosGridSettings sharedInstance];
  char v6 = [v5 showPortraitFilter];

  if ((v6 & 1) == 0)
  {
    uint64_t v7 = [v2 arrayByAddingObject:&unk_1F02D71E0];

    uint64_t v2 = (void *)v7;
  }
  int v8 = objc_msgSend(v1, "px_isMediaTypeSmartAlbum");
  uint64_t v9 = [v2 arrayByAddingObject:&unk_1F02D7228];

  if (v8)
  {
    uint64_t v10 = [v9 arrayByAddingObject:&unk_1F02D7240];

    uint64_t v9 = (void *)v10;
  }
  float v11 = [v9 arrayByAddingObject:&unk_1F02D7258];

  float v12 = [v11 arrayByAddingObject:&unk_1F02D7270];

  uint64_t v13 = [v12 arrayByAddingObject:&unk_1F02D7288];

  return v13;
}

PXContentFilterState *PXContentFilterGetUpdatedState(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  v24[1] = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a4;
  uint64_t v9 = (PXContentFilterState *)[v7 copy];
  uint64_t v10 = v9;
  switch(a2)
  {
    case 1:
      float v11 = [PXContentFilterState alloc];
      float v12 = [v7 photoLibrary];
      uint64_t v13 = [(PXContentFilterState *)v11 initWithPhotoLibrary:v12];

      -[PXContentFilterState setIncludeScreenshots:](v13, "setIncludeScreenshots:", [v7 includeScreenshots]);
      -[PXContentFilterState setIncludeSharedWithYou:](v13, "setIncludeSharedWithYou:", [v7 includeSharedWithYou]);
      uint64_t v10 = v13;
      break;
    case 2:
      [(PXContentFilterState *)v9 setIncludeScreenshots:a3];
      break;
    case 3:
      [(PXContentFilterState *)v9 setIncludeSharedWithYou:a3];
      break;
    case 4:
      [(PXContentFilterState *)v9 setSaved:a3];
      break;
    case 5:
      [(PXContentFilterState *)v9 setUnsaved:a3];
      break;
    case 7:
      [(PXContentFilterState *)v9 setImage:a3];
      break;
    case 8:
      [(PXContentFilterState *)v9 setVideo:a3];
      break;
    case 9:
      [(PXContentFilterState *)v9 setEdited:a3];
      break;
    case 10:
      [(PXContentFilterState *)v9 setFavorite:a3];
      break;
    case 11:
      [(PXContentFilterState *)v9 setLive:a3];
      break;
    case 12:
      [(PXContentFilterState *)v9 setPortrait:a3];
      break;
    case 13:
      [(PXContentFilterState *)v9 setShowOnlyScreenshots:a3];
      break;
    case 14:
      [(PXContentFilterState *)v9 setShowOnlySharedWithYou:a3];
      break;
    case 16:
      if (v8)
      {
        id v14 = [(PXContentFilterState *)v9 keywords];
        id v15 = v14;
        if (a3)
        {

          if (v15)
          {
            id v16 = [(PXContentFilterState *)v10 keywords];
            int v17 = [v8 title];
            uint64_t v18 = [v16 arrayByAddingObject:v17];
            [(PXContentFilterState *)v10 setKeywords:v18];
          }
          else
          {
            id v16 = [v8 title];
            v24[0] = v16;
            int v17 = [MEMORY[0x1E4F1C978] arrayWithObjects:v24 count:1];
            [(PXContentFilterState *)v10 setKeywords:v17];
          }
        }
        else
        {
          id v16 = (void *)[v14 mutableCopy];

          id v21 = [v8 title];
          [v16 removeObject:v21];

          if ([v16 count]) {
            id v22 = v16;
          }
          else {
            id v22 = 0;
          }
          [(PXContentFilterState *)v10 setKeywords:v22];
        }
      }
      break;
    case 18:
      [(PXContentFilterState *)v9 setShowOnlySentICloudLinks:1];
      uint64_t v19 = v10;
      uint64_t v20 = 0;
      goto LABEL_21;
    case 19:
      [(PXContentFilterState *)v9 setShowOnlySentICloudLinks:0];
      uint64_t v19 = v10;
      uint64_t v20 = 1;
LABEL_21:
      [(PXContentFilterState *)v19 setShowOnlyReceivedICloudLinks:v20];
      break;
    case 20:
      [(PXContentFilterState *)v9 setIncludeOthersInSocialGroupAssets:a3];
      break;
    default:
      break;
  }

  return v10;
}

void PXContentFilterSendAnalyticsForItemSelected(uint64_t a1, void *a2)
{
  v9[1] = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  char v4 = v3;
  if ((unint64_t)(a1 - 1) <= 0x13)
  {
    id v5 = off_1E5DB7528[a1 - 1];
    char v6 = (void *)MEMORY[0x1E4F56658];
    uint64_t v8 = *MEMORY[0x1E4F56560];
    v9[0] = v3;
    id v7 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v9 forKeys:&v8 count:1];
    [v6 sendEvent:v5 withPayload:v7];
  }
}

void sub_1AAC12900(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC12F78(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,id location,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41)
{
}

uint64_t __Block_byref_object_copy__81556(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__81557(uint64_t a1)
{
}

void sub_1AAC13344(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC13500(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC13EA0(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC14690(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAC1A150(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC1B894(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__82662(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__82663(uint64_t a1)
{
}

__CFString *PHQuestionStringFromType(unsigned int a1)
{
  if (a1 > 0x1E) {
    return @"Unknown";
  }
  else {
    return off_1E5DB7918[a1];
  }
}

void sub_1AAC1CFB4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC1DA9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__82997(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__82998(uint64_t a1)
{
}

void sub_1AAC1ECE0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 96));
  _Unwind_Resume(a1);
}

void sub_1AAC1EEA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, char a15)
{
  objc_destroyWeak(v15);
  _Block_object_dispose(&a15, 8);
  _Unwind_Resume(a1);
}

id PXSharedLibraryExitAssistantViewTitle(int a1)
{
  if (a1) {
    id v1 = @"PXSharedLibraryExitAssistant_Owner_Title";
  }
  else {
    id v1 = @"PXSharedLibraryExitAssistant_Participant_Title";
  }
  uint64_t v2 = PXLocalizedSharedLibraryString(v1);
  return v2;
}

id PXSharedLibraryExitAssistantViewSubtitle(int a1)
{
  if (a1) {
    id v1 = @"PXSharedLibraryExitAssistant_Owner_Subtitle";
  }
  else {
    id v1 = @"PXSharedLibraryExitAssistant_Participant_Subtitle";
  }
  uint64_t v2 = PXLocalizedSharedLibraryString(v1);
  return v2;
}

id PXSharedLibraryExitAssistantViewButtonTitle(int a1)
{
  if (a1) {
    id v1 = @"PXSharedLibraryExitAssistant_Owner_ButtonTitle";
  }
  else {
    id v1 = @"PXSharedLibraryExitAssistant_Participant_ButtonTitle";
  }
  uint64_t v2 = PXLocalizedSharedLibraryString(v1);
  return v2;
}

void sub_1AAC2B18C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__84532(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__84533(uint64_t a1)
{
}

void sub_1AAC2BBF8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id *location, id *a17)
{
  objc_destroyWeak(location);
  objc_destroyWeak(a17);
  objc_destroyWeak((id *)(v17 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAC2CF18(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC2DD04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC2DF24(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *NSStringFromPeopleSuggestionsSourceType(uint64_t a1)
{
  uint64_t v1 = @"PXPeopleSuggestionsSourceTypeNone";
  if (a1 == 1) {
    uint64_t v1 = @"PXPeopleSuggestionsSourceTypePhotosGraph";
  }
  if (a1 == 2) {
    return @"PXPeopleSuggestionsSourceTypePreviewSuggestion";
  }
  else {
    return v1;
  }
}

void sub_1AAC30130(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__85283(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__85284(uint64_t a1)
{
}

void sub_1AAC3116C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

uint64_t __Block_byref_object_copy__85389(uint64_t result, uint64_t a2)
{
  *(void *)(result + 40) = *(void *)(a2 + 40);
  *(void *)(a2 + 40) = 0;
  return result;
}

void __Block_byref_object_dispose__85390(uint64_t a1)
{
}

void PXPreferencesSetVideoAutoplayEnabled(uint64_t a1)
{
}

BOOL PXPreferencesIsVideoLoopingEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"VideoLoopingEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 0;
  }
  return !v1;
}

void PXPreferencesSetIsVideoLoopingEnabled(uint64_t a1)
{
}

void PXPreferencesToggleIsVideoLoopingEnabled()
{
}

BOOL PXPreferencesIsMergeDuplicatesEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"MergeDuplicatesEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetMergeDuplicatesEnabled(uint64_t a1)
{
}

void PXPreferencesSetShouldIncludeSharedAlbumsActivityInMainViewInAppNotifications(uint64_t a1)
{
}

BOOL PXPreferencesHasShownSharedAlbumsSpatialMediaDataLossAlert()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"HasShownSharedAlbumsSpatialMediaDataLossAlert", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetHasShownSharedAlbumsSpatialMediaDataLossAlert(uint64_t a1)
{
}

void PXPreferencesSetSharedLibrarySuggestionsEnabled()
{
  PLSetSharedLibrarySuggestionsEnabled();
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterPostNotification(DarwinNotifyCenter, @"com.apple.mobileslideshow.PreferenceChanged", 0, 0, 1u);
}

uint64_t PXPreferencesIsSharedLibraryDeletionNotificationEnabled()
{
  return MEMORY[0x1F413FF38]();
}

void PXPreferencesSetSharedLibraryDeletionNotificationEnabled()
{
  PLSetSharedLibraryAssetTrashedByParticipantsNotificationEnabled();
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterPostNotification(DarwinNotifyCenter, @"com.apple.mobileslideshow.PreferenceChanged", 0, 0, 1u);
}

BOOL PXPreferencesIsSharedLibraryBadgingEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"SharedLibraryBadgingEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 0;
  }
  return !v1;
}

void PXPreferencesSetSharedLibraryBadgingEnabled(uint64_t a1)
{
}

BOOL PXPreferencesGetLastKnownHasSharedLibraryPreview()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"LastKnownHasSharedLibraryPreview", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetLastKnownHasSharedLibraryPreview(unsigned int a1)
{
}

BOOL PXPreferencesGetLastKnownHasSharedLibrary()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"LastKnownHasSharedLibrary", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetLastKnownHasSharedLibrary(unsigned int a1)
{
}

BOOL PXPreferencesHaveLibraryFilterViewMode()
{
  id v0 = PXPreferencesGetValue(@"LibraryFilterStateViewMode");
  BOOL v1 = v0 != 0;

  return v1;
}

void PXPreferencesSetLibraryFilterViewModeWithSharedLibraryOrPreview(uint64_t a1, int a2)
{
  if (!+[PXApplicationState isRunningInPhotosApp]
    && !+[PXApplicationState isRunningInPhotosTopShelfExtension])
  {
    char v4 = PLUIGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_INFO))
    {
      __int16 v6 = 0;
      id v5 = (uint8_t *)&v6;
      goto LABEL_12;
    }
LABEL_13:

    return;
  }
  if (a1 && !a2)
  {
    char v4 = PLUIGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_INFO))
    {
      __int16 v7 = 0;
      id v5 = (uint8_t *)&v7;
LABEL_12:
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_INFO, "Attempted to set the library filter view mode user preference when not allowed.", v5, 2u);
      goto LABEL_13;
    }
    goto LABEL_13;
  }
  PXPreferencesSetInteger(@"LibraryFilterStateViewMode", a1);
}

unint64_t PXPreferencesCameraSharingPreferencesState()
{
  Boolean keyExistsAndHasValidFormat = 0;
  CFIndex AppIntegerValue = CFPreferencesGetAppIntegerValue(@"CameraSharingPreferencesState", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    unint64_t v1 = AppIntegerValue;
  }
  else {
    unint64_t v1 = 0;
  }
  if (v1 <= 2) {
    return v1;
  }
  else {
    return 0;
  }
}

void PXPreferencesSetCameraSharingPreferencesState(uint64_t a1)
{
  id v1 = [NSNumber numberWithInteger:a1];
  PXPreferencesSetValue(@"CameraSharingPreferencesState", v1);
}

void PXPreferencesResetCameraSharingPreferencesState()
{
}

void PXPreferencesSetFirstCheckDateForCameraSharingPreferences(const void *a1)
{
}

void PXPreferencesResetFirstCheckDateForCameraSharingPreferences()
{
}

id PXPreferencesPromptDateForCameraSharingPreferences()
{
  id v0 = PXPreferencesGetValue(@"PromptDateForCameraSharingPreferences");
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
    id v1 = v0;
  }
  else {
    id v1 = 0;
  }

  return v1;
}

void PXPreferencesSetPromptDateForCameraSharingPreferences(const void *a1)
{
}

void PXPreferencesResetPromptDateForCameraSharingPreferences()
{
}

BOOL PXPreferencesIsCameraSharingEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"CameraSharingEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 0;
  }
  return !v1;
}

void PXPreferencesSetCameraSharingEnabled(uint64_t a1)
{
  id v1 = [NSNumber numberWithBool:a1];
  PXPreferencesSetValue(@"CameraSharingEnabled", v1);
}

BOOL PXPreferencesIsCameraAutoShareEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"CameraAutoShareEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetCameraAutoShareEnabled(uint64_t a1)
{
  id v1 = [NSNumber numberWithBool:a1];
  PXPreferencesSetValue(@"CameraAutoShareEnabled", v1);
}

void PXPreferencesSetIsHiddenAlbumVisible(uint64_t a1)
{
  id v1 = [NSNumber numberWithBool:a1];
  PXPreferencesSetValue(@"HiddenAlbumVisible", v1);
}

BOOL PXPreferencesIsStacksEnabled()
{
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"StacksEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v1 = AppBooleanValue == 0;
  }
  else {
    BOOL v1 = 1;
  }
  return !v1;
}

void PXPreferencesSetIsStacksEnabled(uint64_t a1)
{
  id v1 = [NSNumber numberWithBool:a1];
  PXPreferencesSetValue(@"StacksEnabled", v1);
}

void PXPreferencesSetIsFeaturedContentAllowed()
{
  PLSetFeaturedContentAllowed();
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterPostNotification(DarwinNotifyCenter, @"com.apple.mobileslideshow.PreferenceChanged", 0, 0, 1u);
}

id PXPreferencesWelcomeViewLastPresentationDate()
{
  id v0 = PXPreferencesGetValue(@"WelcomeViewLastPresentationTimeInterval");
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
    id v1 = v0;
  }
  else {
    id v1 = 0;
  }

  [v1 doubleValue];
  if (v2 > 0.0 && (double v3 = v2, [MEMORY[0x1E4F1C9C8] timeIntervalSinceReferenceDate], v3 <= v4))
  {
    id v5 = [MEMORY[0x1E4F1C9C8] dateWithTimeIntervalSinceReferenceDate:v3];
  }
  else
  {
    id v5 = 0;
  }

  return v5;
}

void PXPreferencesSetWelcomeViewLastPresentationDate(void *a1)
{
  if (a1)
  {
    [a1 timeIntervalSinceReferenceDate];
    objc_msgSend(NSNumber, "numberWithDouble:");
    id v2 = (id)objc_claimAutoreleasedReturnValue();
    PXPreferencesSetValue(@"WelcomeViewLastPresentationTimeInterval", v2);
  }
  else
  {
    PXPreferencesSetValue(@"WelcomeViewLastPresentationTimeInterval", 0);
  }
}

id PXPreferencesSharedLibraryInvitationReceivedDate(void *a1)
{
  return _PXPreferencesSharedLibraryInvitationDate(@"SharedLibraryInvitationReceivedDate", a1);
}

id _PXPreferencesSharedLibraryInvitationDate(const __CFString *a1, void *a2)
{
  id v3 = a2;
  double v4 = PXPreferencesGetValue(a1);
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
    id v5 = v4;
  }
  else {
    id v5 = 0;
  }

  id v6 = [v5 objectForKeyedSubscript:@"LibraryID"];
  __int16 v7 = v6;
  if (v6 == v3)
  {
  }
  else
  {
    int v8 = [v6 isEqualToString:v3];

    if (!v8)
    {
      uint64_t v9 = 0;
      goto LABEL_10;
    }
  }
  uint64_t v9 = [v5 objectForKeyedSubscript:@"Date"];
LABEL_10:

  return v9;
}

void PXPreferencesSetSharedLibraryInvitationReceivedDate(void *a1, void *a2)
{
}

void _PXPreferencesSetSharedLibraryInvitationDate(void *a1, void *a2, void *a3)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  int v8 = v7;
  if (!v6 || !v7) {
    PXAssertGetLog();
  }
  v10[0] = @"LibraryID";
  v10[1] = @"Date";
  v11[0] = v7;
  v11[1] = v6;
  uint64_t v9 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v11 forKeys:v10 count:2];
  PXPreferencesSetValue(v5, v9);
}

id PXPreferencesSharedLibraryInvitationLastSeenDate(void *a1)
{
  return _PXPreferencesSharedLibraryInvitationDate(@"SharedLibraryInvitationLastSeenDate", a1);
}

void PXPreferencesSetSharedLibraryInvitationLastSeenDate(void *a1, void *a2)
{
  _PXPreferencesSetSharedLibraryInvitationDate(@"SharedLibraryInvitationLastSeenDate", a1, a2);
  id v2 = [MEMORY[0x1E4F28EB8] defaultCenter];
  [v2 postNotificationName:@"PXPreferencesSharedLibraryInvitationLastSeenDateChangeNotification" object:0 userInfo:0];
}

void PXPreferencesResetSharedLibraryInvitationDates()
{
  PXPreferencesSetValue(@"SharedLibraryInvitationReceivedDate", 0);
  PXPreferencesSetValue(@"SharedLibraryInvitationLastSeenDate", 0);
  id v0 = [MEMORY[0x1E4F28EB8] defaultCenter];
  [v0 postNotificationName:@"PXPreferencesSharedLibraryInvitationLastSeenDateChangeNotification" object:0 userInfo:0];
}

void PXPreferencesResetCameraSharingPreferences()
{
  PXPreferencesSetValue(@"CameraSharingPreferencesState", 0);
  PXPreferencesSetValue(@"FirstCheckDateForCameraSharingPreferences", 0);
  PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0);
}

void PXPreferencesSetAllowFullHDR(uint64_t a1)
{
  id v1 = [NSNumber numberWithBool:a1];
  PXPreferencesSetValue(@"shouldModulateImages", v1);
}

void PXPreferencesEnsureDefaultEnhancedVisualSearch()
{
  Boolean keyExistsAndHasValidFormat = 0;
  CFPreferencesGetAppBooleanValue(@"enhancedVisualSearchEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (!keyExistsAndHasValidFormat) {
    PXPreferencesSetBool(@"enhancedVisualSearchEnabled", 1);
  }
}

void PXSharedLibraryRequestInvitationImageForOwner(void *a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id v7 = a1;
  PXSizeSafeInset();
}

void __PXSharedLibraryRequestInvitationImageForOwner_block_invoke(uint64_t a1, void *a2, uint64_t a3, void *a4)
{
  id v6 = a2;
  id v7 = a4;
  int v8 = objc_msgSend(MEMORY[0x1E4FB1818], "px_imageNamed:", @"SharedLibrary-20-Rounded");
  if (v6) {
    PXRectWithSize();
  }
  (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
}

uint64_t __PXSharedLibraryRequestInvitationImageForOwner_block_invoke_2(uint64_t a1)
{
  objc_msgSend(*(id *)(a1 + 32), "drawInRect:", *(double *)(a1 + 48), *(double *)(a1 + 56), *(double *)(a1 + 64), *(double *)(a1 + 72));
  id v2 = [MEMORY[0x1E4FB1618] systemBackgroundColor];
  [v2 set];

  id v3 = objc_msgSend(MEMORY[0x1E4FB14C0], "bezierPathWithRoundedRect:cornerRadius:", *(double *)(a1 + 80), *(double *)(a1 + 88), *(double *)(a1 + 96), *(double *)(a1 + 104), 6.0);
  [v3 fill];

  double v4 = *(void **)(a1 + 40);
  double v5 = *(double *)(a1 + 112);
  double v6 = *(double *)(a1 + 120);
  double v7 = *(double *)(a1 + 128);
  double v8 = *(double *)(a1 + 136);
  return objc_msgSend(v4, "drawInRect:", v5, v6, v7, v8);
}

void sub_1AAC33BE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXTileTypeForImageSize(double a1, double a2)
{
  double v2 = a1 / a2;
  if (v2 >= 2.5) {
    return 3;
  }
  if (v2 > 1.04999995) {
    return 1;
  }
  if (v2 >= 0.952380996) {
    return 0;
  }
  if (v2 <= 0.4) {
    return 4;
  }
  return 2;
}

BOOL PXCanCopyLocationFromAssetToPasteboard(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    double v5 = [MEMORY[0x1E4F28B00] currentHandler];
    double v6 = [NSString stringWithUTF8String:"BOOL PXCanCopyLocationFromAssetToPasteboard(PHAsset *__strong)"];
    [v5 handleFailureInFunction:v6, @"PXPlacesUtils.m", 62, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];
  }
  double v2 = [v1 location];
  BOOL v3 = v2 != 0;

  return v3;
}

void PXCopyLocationFromAssetToPasteboard(void *a1)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    double v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = [NSString stringWithUTF8String:"void PXCopyLocationFromAssetToPasteboard(PHAsset *__strong)"];
    [v8 handleFailureInFunction:v9, @"PXPlacesUtils.m", 70, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];
  }
  double v2 = [v1 location];
  if (v2)
  {
    id v10 = 0;
    BOOL v3 = [MEMORY[0x1E4F28DB0] archivedDataWithRootObject:v2 requiringSecureCoding:1 error:&v10];
    id v4 = v10;
    double v5 = v4;
    if (v3)
    {

      double v6 = [MEMORY[0x1E4FB1A78] generalPasteboard];
      [v6 setData:v3 forPasteboardType:@"com.apple.photos.pasteboard.location"];
LABEL_8:

      goto LABEL_12;
    }
    double v7 = PLUIGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      uint64_t v12 = v2;
      __int16 v13 = 2112;
      id v14 = v5;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Failed to archive location: %@, error: %@", buf, 0x16u);
    }

    BOOL v3 = 0;
  }
  else
  {
    BOOL v3 = PLUIGetLog();
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      double v6 = [v1 uuid];
      *(_DWORD *)long long buf = 138543362;
      uint64_t v12 = v6;
      _os_log_impl(&dword_1A9AE7000, v3, OS_LOG_TYPE_ERROR, "Invalid asset for copy location action: \"%{public}@\"", buf, 0xCu);
      goto LABEL_8;
    }
  }
LABEL_12:
}

uint64_t PXCanAssignLocationFromPasteboardToAsset(uint64_t a1)
{
  v7[1] = *MEMORY[0x1E4F143B8];
  if (!a1)
  {
    double v5 = [MEMORY[0x1E4F28B00] currentHandler];
    double v6 = [NSString stringWithUTF8String:"BOOL PXCanAssignLocationFromPasteboardToAsset(PHAsset *__strong)"];
    [v5 handleFailureInFunction:v6, @"PXPlacesUtils.m", 91, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];
  }
  id v1 = [MEMORY[0x1E4FB1A78] generalPasteboard];
  v7[0] = @"com.apple.photos.pasteboard.location";
  double v2 = [MEMORY[0x1E4F1C978] arrayWithObjects:v7 count:1];
  uint64_t v3 = [v1 containsPasteboardTypes:v2];

  return v3;
}

void PXAssignLocationFromPasteboardToAsset(void *a1)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v12 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v13 = [NSString stringWithUTF8String:"void PXAssignLocationFromPasteboardToAsset(PHAsset *__strong)"];
    [v12 handleFailureInFunction:v13, @"PXPlacesUtils.m", 100, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];
  }
  double v2 = [MEMORY[0x1E4FB1A78] generalPasteboard];
  uint64_t v3 = [v2 dataForPasteboardType:@"com.apple.photos.pasteboard.location"];

  if (v3)
  {
    id v4 = v3;
    id v17 = 0;
    double v5 = [MEMORY[0x1E4F28DC0] unarchivedObjectOfClass:objc_opt_class() fromData:v4 error:&v17];
    id v6 = v17;
    double v7 = v6;
    if (v5)
    {

      double v8 = [v1 photoLibrary];
      v14[0] = MEMORY[0x1E4F143A8];
      v14[1] = 3221225472;
      v14[2] = __PXAssignLocationFromPasteboardToAsset_block_invoke;
      v14[3] = &unk_1E5DD32A8;
      id v15 = v1;
      uint64_t v9 = v5;
      id v16 = v9;
      [v8 performChanges:v14 completionHandler:0];
    }
    else
    {
      id v10 = PLUIGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
      {
        uint64_t v11 = [v4 length];
        *(_DWORD *)long long buf = 134218242;
        uint64_t v19 = v11;
        __int16 v20 = 2112;
        id v21 = v7;
        _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Failed to unarchive location from data with length: %lu, error: %@", buf, 0x16u);
      }

      uint64_t v9 = 0;
    }
  }
  else
  {
    uint64_t v9 = PLUIGetLog();
    if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "Invalid (empty) pasteboard for assign location action", buf, 2u);
    }
  }
}

void __PXAssignLocationFromPasteboardToAsset_block_invoke(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F38ED0] changeRequestForAsset:*(void *)(a1 + 32)];
  [v2 setLocation:*(void *)(a1 + 40)];
}

void sub_1AAC34F5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__86056(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__86057(uint64_t a1)
{
}

void sub_1AAC353E8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC36070(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,char a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
  _Block_object_dispose(&a21, 8);
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((const void *)(v33 - 208), 8);
  _Block_object_dispose((const void *)(v33 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC366C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void PXStoryAnalyticsPrepare()
{
  if (PXStoryAnalyticsPrepare_onceToken != -1) {
    dispatch_once(&PXStoryAnalyticsPrepare_onceToken, &__block_literal_global_86211);
  }
}

void sub_1AAC38ADC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 88));
  _Unwind_Resume(a1);
}

void PXApplicationInstallationStateProviderApplicationCallback(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  double v5 = [a5 objectForKeyedSubscript:@"bundleIDs"];
  long long v12 = 0u;
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  uint64_t v6 = [v5 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v6)
  {
    uint64_t v7 = v6;
    uint64_t v8 = *(void *)v13;
    do
    {
      uint64_t v9 = 0;
      do
      {
        if (*(void *)v13 != v8) {
          objc_enumerationMutation(v5);
        }
        uint64_t v10 = *(void *)(*((void *)&v12 + 1) + 8 * v9);
        uint64_t v11 = +[PXApplicationInstallationStateProvider shared];
        [v11 _updateCachedInstallationState:v10 value:1];

        ++v9;
      }
      while (v7 != v9);
      uint64_t v7 = [v5 countByEnumeratingWithState:&v12 objects:v16 count:16];
    }
    while (v7);
  }
}

void __PXOptionsEnumeratedValues_block_invoke(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = *(void **)(a1 + 32);
  id v3 = [NSNumber numberWithUnsignedInteger:a2];
  [v2 addObject:v3];
}

void sub_1AAC3B774(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC3CA88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC3E45C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXZoomablePhotosInvalidatableEntitiesDescription(int a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  id v3 = v2;
  if ((a1 & 4) != 0)
  {
    [v2 addObject:@"EffectiveOverlayInsets"];
    if ((a1 & 2) == 0)
    {
LABEL_3:
      if ((a1 & 8) == 0) {
        goto LABEL_4;
      }
      goto LABEL_20;
    }
  }
  else if ((a1 & 2) == 0)
  {
    goto LABEL_3;
  }
  [v3 addObject:@"ProvidedEffect"];
  if ((a1 & 8) == 0)
  {
LABEL_4:
    if ((a1 & 0x10) == 0) {
      goto LABEL_5;
    }
    goto LABEL_21;
  }
LABEL_20:
  [v3 addObject:@"Layers"];
  if ((a1 & 0x10) == 0)
  {
LABEL_5:
    if ((a1 & 0x80) == 0) {
      goto LABEL_6;
    }
    goto LABEL_22;
  }
LABEL_21:
  [v3 addObject:@"Zoom"];
  if ((a1 & 0x80) == 0)
  {
LABEL_6:
    if ((a1 & 0x100) == 0) {
      goto LABEL_7;
    }
    goto LABEL_23;
  }
LABEL_22:
  [v3 addObject:@"DataSource"];
  if ((a1 & 0x100) == 0)
  {
LABEL_7:
    if ((a1 & 0x200) == 0) {
      goto LABEL_8;
    }
    goto LABEL_24;
  }
LABEL_23:
  [v3 addObject:@"VisualShifting"];
  if ((a1 & 0x200) == 0)
  {
LABEL_8:
    if ((a1 & 0x10000) == 0) {
      goto LABEL_9;
    }
    goto LABEL_25;
  }
LABEL_24:
  [v3 addObject:@"DecorationSource"];
  if ((a1 & 0x10000) == 0)
  {
LABEL_9:
    if ((a1 & 0x20000) == 0) {
      goto LABEL_10;
    }
    goto LABEL_26;
  }
LABEL_25:
  [v3 addObject:@"ZoomTransforms"];
  if ((a1 & 0x20000) == 0)
  {
LABEL_10:
    if ((a1 & 0x80000) == 0) {
      goto LABEL_11;
    }
    goto LABEL_27;
  }
LABEL_26:
  [v3 addObject:@"BackgroundSprites"];
  if ((a1 & 0x80000) == 0)
  {
LABEL_11:
    if ((a1 & 0x40000) == 0) {
      goto LABEL_12;
    }
    goto LABEL_28;
  }
LABEL_27:
  [v3 addObject:@"PinchEffect"];
  if ((a1 & 0x40000) == 0)
  {
LABEL_12:
    if ((a1 & 0x100000) == 0) {
      goto LABEL_13;
    }
    goto LABEL_29;
  }
LABEL_28:
  [v3 addObject:@"BlurEffect"];
  if ((a1 & 0x100000) == 0)
  {
LABEL_13:
    if ((a1 & 0x200000) == 0) {
      goto LABEL_15;
    }
    goto LABEL_14;
  }
LABEL_29:
  [v3 addObject:@"Prefetching"];
  if ((a1 & 0x200000) != 0) {
LABEL_14:
  }
    [v3 addObject:@"FloatingHeaderStyle"];
LABEL_15:
  id v4 = NSString;
  double v5 = [v3 componentsJoinedByString:@"|"];
  uint64_t v6 = [v4 stringWithFormat:@"[%@]", v5];

  return v6;
}

id _alignmentDebugString(uint64_t a1, void *a2, double a3)
{
  uint64_t v4 = (uint64_t)fmax((double)a1 * a3, 0.0);
  id v5 = a2;
  uint64_t v6 = a1 - [v5 length] - v4;
  uint64_t v7 = NSString;
  uint64_t v8 = objc_msgSend(@" ", "px_stringByRepeating:", v4);
  uint64_t v9 = objc_msgSend(@" ", "px_stringByRepeating:", v6);
  uint64_t v10 = [v7 stringWithFormat:@"%@%@%@", v8, v5, v9];

  return v10;
}

void sub_1AAC44088(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41)
{
  _Block_object_dispose(&a41, 8);
  _Block_object_dispose((const void *)(v41 - 160), 8);
  _Block_object_dispose((const void *)(v41 - 208), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__88453(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__88454(uint64_t a1)
{
}

void sub_1AAC454AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC459D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_1AAC46CB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQCurrentOfferChangedNotificationSymbolLoc_block_invoke(uint64_t a1)
{
  id v2 = iCloudQuotaLibrary();
  double result = dlsym(v2, "ICQCurrentOfferChangedNotification");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQCurrentOfferChangedNotificationSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaLibraryCore_frameworkLibrary = result;
  return result;
}

void __getICQOfferManagerClass_block_invoke_88693(uint64_t a1)
{
  iCloudQuotaLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("ICQOfferManager");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getICQOfferManagerClass_softClass_88692 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getICQOfferManagerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudQuotaOfferProvider.m", 30, @"Unable to find class %s", "ICQOfferManager");

    __break(1u);
  }
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_88700()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_88699 = result;
  return result;
}

void sub_1AAC477BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAC4BFD4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location)
{
  objc_destroyWeak(v27);
  objc_destroyWeak(v26);
  objc_destroyWeak(v25);
  objc_destroyWeak(v24);
  objc_destroyWeak(&location);
  objc_destroyWeak((id *)(v28 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAC4C13C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC4C4EC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AAC4C5F8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC4C768(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC4CB4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, id a19)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a19);
  _Unwind_Resume(a1);
}

void sub_1AAC4CC34(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC4CFE0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAC4D0C8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAC4D460(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC4D680(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXGAXCreateSelectionChangeUserInfo(void *a1)
{
  id v1 = a1;
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  id v3 = v2;
  if (v1) {
    [v2 setObject:v1 forKeyedSubscript:_ChangeToKey];
  }

  return v3;
}

void sub_1AAC512E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__90137(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__90138(uint64_t a1)
{
}

id PXGAXCreateFocusChangeUserInfo(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  uint64_t v6 = v5;
  if (v3) {
    [v5 setObject:v3 forKeyedSubscript:_ChangeFromKey];
  }
  if (v4) {
    [v6 setObject:v4 forKeyedSubscript:_ChangeToKey];
  }

  return v6;
}

void PXGAXGetFocusFromAndToInfosForUserInfo(void *a1, void *a2, void *a3)
{
  id v11 = a1;
  if (v11)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      if (!a2) {
        goto LABEL_5;
      }
      goto LABEL_4;
    }
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXGetFocusFromAndToInfosForUserInfo(__strong id _Nonnull, __autoreleasing id<PXGAXInfo> * _Nullable, __autoreleasing id<PXGAXInfo> * _Nullable)");
    uint64_t v9 = (objc_class *)objc_opt_class();
    uint64_t v8 = NSStringFromClass(v9);
    uint64_t v10 = objc_msgSend(v11, "px_descriptionForAssertionMessage");
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 909, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v8, v10 file lineNumber description];
  }
  else
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXGetFocusFromAndToInfosForUserInfo(__strong id _Nonnull, __autoreleasing id<PXGAXInfo> * _Nullable, __autoreleasing id<PXGAXInfo> * _Nullable)");
    uint64_t v7 = (objc_class *)objc_opt_class();
    uint64_t v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 909, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v8 file lineNumber description];
  }

  if (a2)
  {
LABEL_4:
    *a2 = [v11 objectForKeyedSubscript:_ChangeFromKey];
  }
LABEL_5:
  if (a3)
  {
    *a3 = [v11 objectForKeyedSubscript:_ChangeToKey];
  }
}

void PXGAXAddSimpleIndexPathGroupChangeUserInfo(void *a1, void *a2, void *a3, void *a4)
{
  id v16 = a1;
  if (v16)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_3;
    }
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddSimpleIndexPathGroupChangeUserInfo(__strong id _Nonnull, PXDataSourceIdentifier * _Nullable, NSInteger * _Nullable, NSInteger * _Nullable)");
    uint64_t v14 = (objc_class *)objc_opt_class();
    long long v13 = NSStringFromClass(v14);
    uint64_t v15 = objc_msgSend(v16, "px_descriptionForAssertionMessage");
    [v10 handleFailureInFunction:v11, @"PXGAXGroup.m", 919, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v13, v15 file lineNumber description];
  }
  else
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddSimpleIndexPathGroupChangeUserInfo(__strong id _Nonnull, PXDataSourceIdentifier * _Nullable, NSInteger * _Nullable, NSInteger * _Nullable)");
    uint64_t v12 = (objc_class *)objc_opt_class();
    long long v13 = NSStringFromClass(v12);
    [v10 handleFailureInFunction:v11, @"PXGAXGroup.m", 919, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v13 file lineNumber description];
  }

LABEL_3:
  if (a2)
  {
    uint64_t v7 = [NSNumber numberWithInteger:*a2];
    [v16 setObject:v7 forKeyedSubscript:_ChangeToDataSourceIdentifierKey];
  }
  if (a3)
  {
    uint64_t v8 = [NSNumber numberWithInteger:*a3];
    [v16 setObject:v8 forKeyedSubscript:_ChangeToSectionKey];
  }
  if (a4)
  {
    uint64_t v9 = [NSNumber numberWithInteger:*a4];
    [v16 setObject:v9 forKeyedSubscript:_ChangeToItemKey];
  }
}

void PXGAXGetToSimpleIndexPathForUserInfo(void *a1@<X0>, uint64_t a2@<X8>)
{
  id v31 = a1;
  if (!v31)
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = [NSString stringWithUTF8String:"PXSimpleIndexPath PXGAXGetToSimpleIndexPathForUserInfo(__strong id _Nonnull)"];
    uint64_t v12 = (objc_class *)objc_opt_class();
    long long v13 = NSStringFromClass(v12);
    [v10 handleFailureInFunction:v11, @"PXGAXGroup.m", 932, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v13 file lineNumber description];
LABEL_19:

    goto LABEL_3;
  }
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = [NSString stringWithUTF8String:"PXSimpleIndexPath PXGAXGetToSimpleIndexPathForUserInfo(__strong id _Nonnull)"];
    uint64_t v14 = (objc_class *)objc_opt_class();
    long long v13 = NSStringFromClass(v14);
    uint64_t v15 = objc_msgSend(v31, "px_descriptionForAssertionMessage");
    [v10 handleFailureInFunction:v11, @"PXGAXGroup.m", 932, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v13, v15 file lineNumber description];

    goto LABEL_19;
  }
LABEL_3:
  id v3 = [v31 objectForKeyedSubscript:_ChangeToDataSourceIdentifierKey];
  if (v3)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      id v16 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v17 = [NSString stringWithUTF8String:"PXSimpleIndexPath PXGAXGetToSimpleIndexPathForUserInfo(__strong id _Nonnull)"];
      uint64_t v18 = (objc_class *)objc_opt_class();
      uint64_t v19 = NSStringFromClass(v18);
      __int16 v20 = objc_msgSend(v3, "px_descriptionForAssertionMessage");
      [v16 handleFailureInFunction:v17, @"PXGAXGroup.m", 933, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"userDictionary[_ChangeToDataSourceIdentifierKey]", v19, v20 file lineNumber description];
    }
  }
  unsigned int v4 = [v3 unsignedIntValue];
  id v5 = [v31 objectForKeyedSubscript:_ChangeToSectionKey];
  if (v5)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      id v21 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v22 = [NSString stringWithUTF8String:"PXSimpleIndexPath PXGAXGetToSimpleIndexPathForUserInfo(__strong id _Nonnull)"];
      id v23 = (objc_class *)objc_opt_class();
      id v24 = NSStringFromClass(v23);
      uint64_t v25 = objc_msgSend(v5, "px_descriptionForAssertionMessage");
      [v21 handleFailureInFunction:v22, @"PXGAXGroup.m", 935, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"userDictionary[_ChangeToSectionKey]", v24, v25 file lineNumber description];
    }
  }
  int v6 = [v5 intValue];

  uint64_t v7 = [v31 objectForKeyedSubscript:_ChangeToItemKey];
  long long v8 = *((_OWORD *)off_1E5DAB028 + 1);
  *(_OWORD *)a2 = *(_OWORD *)off_1E5DAB028;
  *(_OWORD *)(a2 + 16) = v8;
  if (v7)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      uint64_t v26 = [MEMORY[0x1E4F28B00] currentHandler];
      int v27 = [NSString stringWithUTF8String:"PXSimpleIndexPath PXGAXGetToSimpleIndexPathForUserInfo(__strong id _Nonnull)"];
      uint64_t v28 = (objc_class *)objc_opt_class();
      id v29 = NSStringFromClass(v28);
      id v30 = objc_msgSend(v7, "px_descriptionForAssertionMessage");
      [v26 handleFailureInFunction:v27, @"PXGAXGroup.m", 939, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"itemValue", v29, v30 file lineNumber description];
    }
    uint64_t v9 = (int)[v7 intValue];
  }
  else
  {
    uint64_t v9 = 0x7FFFFFFFFFFFFFFFLL;
  }
  *(void *)a2 = v4;
  *(void *)(a2 + _Block_object_dispose(&STACK[0x580], 8) = v6;
  *(void *)(a2 + 16) = v9;
  *(void *)(a2 + 24) = 0x7FFFFFFFFFFFFFFFLL;
}

void PXGAXAddItemGeometryGroupChangeUserInfo(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v11 = v3;
  if (v11)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      if (!v4) {
        goto LABEL_5;
      }
      goto LABEL_4;
    }
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    int v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddItemGeometryGroupChangeUserInfo(__strong id _Nonnull, __strong id<PXGItemsGeometry> _Nonnull)");
    uint64_t v9 = (objc_class *)objc_opt_class();
    long long v8 = NSStringFromClass(v9);
    uint64_t v10 = objc_msgSend(v11, "px_descriptionForAssertionMessage");
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 948, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v8, v10 file lineNumber description];
  }
  else
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    int v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddItemGeometryGroupChangeUserInfo(__strong id _Nonnull, __strong id<PXGItemsGeometry> _Nonnull)");
    uint64_t v7 = (objc_class *)objc_opt_class();
    long long v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 948, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v8 file lineNumber description];
  }

  if (v4) {
LABEL_4:
  }
    [v11 setObject:v4 forKeyedSubscript:_ChangeItemGeometry];
LABEL_5:
}

id PXGAXGetItemGeometryForUserInfo(void *a1)
{
  id v1 = a1;
  if (v1)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_3;
    }
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXGItemsGeometry>  _Nonnull PXGAXGetItemGeometryForUserInfo(__strong id _Nonnull)"];
    long long v8 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v8);
    uint64_t v9 = objc_msgSend(v1, "px_descriptionForAssertionMessage");
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 955, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v7, v9 file lineNumber description];
  }
  else
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXGItemsGeometry>  _Nonnull PXGAXGetItemGeometryForUserInfo(__strong id _Nonnull)"];
    int v6 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v6);
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 955, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v7 file lineNumber description];
  }

LABEL_3:
  id v2 = [v1 objectForKeyedSubscript:_ChangeItemGeometry];

  return v2;
}

id PXGAXCreateActionUserInfo(void *a1)
{
  id v1 = a1;
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  id v3 = v2;
  if (v1) {
    [v2 setObject:v1 forKeyedSubscript:_ChangeToElement];
  }

  return v3;
}

id PXGAXGetElementForUserInfo(void *a1)
{
  id v1 = a1;
  if (v1)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      goto LABEL_3;
    }
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXGAXElement>  _Nonnull PXGAXGetElementForUserInfo(__strong id _Nonnull)"];
    long long v8 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v8);
    uint64_t v9 = objc_msgSend(v1, "px_descriptionForAssertionMessage");
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 969, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v7, v9 file lineNumber description];
  }
  else
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXGAXElement>  _Nonnull PXGAXGetElementForUserInfo(__strong id _Nonnull)"];
    int v6 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v6);
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 969, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v7 file lineNumber description];
  }

LABEL_3:
  id v2 = [v1 objectForKeyedSubscript:_ChangeToElement];

  return v2;
}

void PXGAXAddAssetCollectionReferenceUserInfo(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v11 = v3;
  if (v11)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      if (!v4) {
        goto LABEL_5;
      }
      goto LABEL_4;
    }
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    int v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddAssetCollectionReferenceUserInfo(__strong id _Nonnull, PXAssetCollectionReference *__strong _Nonnull)");
    uint64_t v9 = (objc_class *)objc_opt_class();
    long long v8 = NSStringFromClass(v9);
    uint64_t v10 = objc_msgSend(v11, "px_descriptionForAssertionMessage");
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 975, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v8, v10 file lineNumber description];
  }
  else
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    int v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXAddAssetCollectionReferenceUserInfo(__strong id _Nonnull, PXAssetCollectionReference *__strong _Nonnull)");
    uint64_t v7 = (objc_class *)objc_opt_class();
    long long v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6, @"PXGAXGroup.m", 975, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v8 file lineNumber description];
  }

  if (v4) {
LABEL_4:
  }
    [v11 setObject:v4 forKeyedSubscript:_ChangeToAssetCollectionReference];
LABEL_5:
}

id PXGAXGetToAssetCollectionReferenceForUserInfo(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"PXAssetCollectionReference * _Nullable PXGAXGetToAssetCollectionReferenceForUserInfo(__strong id _Nonnull)"];
    int v6 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v6);
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 981, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v7 file lineNumber description];
LABEL_11:

    goto LABEL_3;
  }
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"PXAssetCollectionReference * _Nullable PXGAXGetToAssetCollectionReferenceForUserInfo(__strong id _Nonnull)"];
    long long v8 = (objc_class *)objc_opt_class();
    uint64_t v7 = NSStringFromClass(v8);
    uint64_t v9 = objc_msgSend(v1, "px_descriptionForAssertionMessage");
    [v4 handleFailureInFunction:v5, @"PXGAXGroup.m", 981, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v7, v9 file lineNumber description];

    goto LABEL_11;
  }
LABEL_3:
  id v2 = [v1 objectForKeyedSubscript:_ChangeToAssetCollectionReference];
  if (v2)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
      id v11 = [NSString stringWithUTF8String:"PXAssetCollectionReference * _Nullable PXGAXGetToAssetCollectionReferenceForUserInfo(__strong id _Nonnull)"];
      uint64_t v12 = (objc_class *)objc_opt_class();
      long long v13 = NSStringFromClass(v12);
      uint64_t v14 = objc_msgSend(v2, "px_descriptionForAssertionMessage");
      [v10 handleFailureInFunction:v11, @"PXGAXGroup.m", 982, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"userDictionary[_ChangeToAssetCollectionReference]", v13, v14 file lineNumber description];
    }
  }

  return v2;
}

void PXGAXGetSelectionFromAndToInfosForUserInfo(void *a1, void *a2)
{
  id v9 = a1;
  if (v9)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      if (!a2) {
        goto LABEL_5;
      }
      goto LABEL_4;
    }
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXGetSelectionFromAndToInfosForUserInfo(__strong id _Nonnull, __autoreleasing id<PXGAXInfo> * _Nullable)");
    uint64_t v7 = (objc_class *)objc_opt_class();
    int v6 = NSStringFromClass(v7);
    long long v8 = objc_msgSend(v9, "px_descriptionForAssertionMessage");
    [v3 handleFailureInFunction:v4, @"PXGAXGroup.m", 995, @"%@ should be an instance inheriting from %@, but it is %@", @"userInfo", v6, v8 file lineNumber description];
  }
  else
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXGAXGetSelectionFromAndToInfosForUserInfo(__strong id _Nonnull, __autoreleasing id<PXGAXInfo> * _Nullable)");
    id v5 = (objc_class *)objc_opt_class();
    int v6 = NSStringFromClass(v5);
    [v3 handleFailureInFunction:v4, @"PXGAXGroup.m", 995, @"%@ should be an instance inheriting from %@, but it is nil", @"userInfo", v6 file lineNumber description];
  }

  if (a2)
  {
LABEL_4:
    *a2 = [v9 objectForKeyedSubscript:_ChangeToKey];
  }
LABEL_5:
}

__CFString *PXGAXGroupRoleDescription(unint64_t a1)
{
  if (a1 >= 5 || ((0x1Bu >> a1) & 1) == 0)
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXGAXGroupRoleDescription(PXGAXGroupRole)"];
    [v2 handleFailureInFunction:v3 file:@"PXGAXGroup.m" lineNumber:1014 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DB8870[a1];
}

double PXGAXElementResolvedFrameInContentCoordinateSpace(void *a1)
{
  id v1 = a1;
  [v1 axFrame];
  double v3 = v2;
  double v5 = v4;
  double v7 = v6;
  double v9 = v8;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v10 = [v1 axParent];
  }
  else
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0) {
      goto LABEL_7;
    }
    uint64_t v10 = [v1 axContainingGroup];
  }
  id v11 = v10;
  if (v10)
  {
    uint64_t v12 = [v10 axRootParent];
    long long v13 = [v12 axGroupSource];
    objc_msgSend(v13, "axConvertRect:fromDescendantGroup:", v11, v3, v5, v7, v9);
    double v3 = v14;
  }
LABEL_7:

  return v3;
}

void sub_1AAC53860(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

PXPhotosDataSource *newDataSourceWithSuggestionsDataSource(void *a1, void *a2, void *a3)
{
  uint64_t v38 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  uint64_t v8 = [v5 numberOfItemsInSection:0];
  if (v8)
  {
    uint64_t v9 = v8;
    id v32 = v6;
    uint64_t v34 = [MEMORY[0x1E4F1CA48] arrayWithCapacity:v8];
    uint64_t v33 = [MEMORY[0x1E4F1CA60] dictionaryWithCapacity:v9];
    uint64_t v10 = [v5 identifier];
    if (v9 >= 1)
    {
      uint64_t v11 = v10;
      uint64_t v12 = 0;
      unint64_t v13 = 0x1E4F38000uLL;
      do
      {
        v35[0] = v11;
        v35[1] = 0;
        v35[2] = v12;
        v35[3] = 0x7FFFFFFFFFFFFFFFLL;
        double v14 = [v5 objectAtIndexPath:v35];
        uint64_t v15 = [v14 localIdentifier];
        id v16 = [v7 objectForKey:v15];

        if (!v16)
        {
          uint64_t v17 = [v14 fetchKeyAssets];
          id v16 = [v17 firstObject];

          if (!v16) {
            goto LABEL_9;
          }
          uint64_t v18 = [v14 localIdentifier];
          [v7 setObject:v16 forKey:v18];
        }
        objc_opt_class();
        if ((objc_opt_isKindOfClass() & 1) == 0)
        {
LABEL_9:
          uint64_t v19 = PLUIGetLog();
          if (os_log_type_enabled(v19, OS_LOG_TYPE_ERROR))
          {
            *(_DWORD *)long long buf = 138543362;
            id v37 = v14;
            _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_ERROR, "Suggestion has no keyAsset: %{public}@", buf, 0xCu);
          }
          goto LABEL_11;
        }
        [v34 addObject:v16];
        uint64_t v19 = [v14 localIdentifier];
        [v16 uuid];
        id v21 = v20 = v13;
        [v33 setObject:v19 forKeyedSubscript:v21];

        unint64_t v13 = v20;
LABEL_11:

        ++v12;
      }
      while (v9 != v12);
    }
    uint64_t v22 = NSString;
    id v6 = v32;
    id v23 = [v32 transientIdentifier];
    id v24 = [v22 stringWithFormat:@"%@:%lu", v23, objc_msgSend(v5, "identifier")];

    uint64_t v25 = (void *)MEMORY[0x1E4F38EE8];
    uint64_t v26 = [v32 photoLibrary];
    int v27 = [v25 transientAssetCollectionWithAssets:v34 title:0 identifier:v24 photoLibrary:v26];

    uint64_t v28 = [PXPhotosDataSource alloc];
    id v29 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetCollection:v27 options:0];
    id v30 = [(PXPhotosDataSource *)v28 initWithPhotosDataSourceConfiguration:v29];
  }
  else
  {
    initialPhotosDataSourceWithAssetCollection(v6);
    id v30 = (PXPhotosDataSource *)objc_claimAutoreleasedReturnValue();
  }

  return v30;
}

PXPhotosDataSource *initialPhotosDataSourceWithAssetCollection(void *a1)
{
  id v1 = a1;
  double v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetCollection:v1 options:0];

  double v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  return v3;
}

void sub_1AAC55C20(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__90713(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__90714(uint64_t a1)
{
}

void sub_1AAC56018(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXApplicationHasSceneOnExternalDisplay()
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  long long v9 = 0u;
  long long v10 = 0u;
  long long v11 = 0u;
  long long v12 = 0u;
  id v0 = objc_msgSend(MEMORY[0x1E4FB1438], "sharedApplication", 0);
  id v1 = [v0 connectedScenes];

  uint64_t v2 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
  if (v2)
  {
    uint64_t v3 = *(void *)v10;
    while (2)
    {
      for (uint64_t i = 0; i != v2; ++i)
      {
        if (*(void *)v10 != v3) {
          objc_enumerationMutation(v1);
        }
        id v5 = *(void **)(*((void *)&v9 + 1) + 8 * i);
        objc_opt_class();
        if (objc_opt_isKindOfClass())
        {
          id v6 = [v5 screen];
          int v7 = [v6 _isEmbeddedScreen];

          if (!v7)
          {
            uint64_t v2 = 1;
            goto LABEL_12;
          }
        }
      }
      uint64_t v2 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
      if (v2) {
        continue;
      }
      break;
    }
  }
LABEL_12:

  return v2;
}

uint64_t PXPhotosApplicationStartedLaunchingForTesting()
{
  return +[PXPhotosXCPTestUtilities handleAppStartedLaunching];
}

NSURL *PXPhotosApplicationURLToOpenWhenLaunchedForTesting()
{
  return +[PXPhotosXCPTestUtilities urlToOpen];
}

BOOL PXPhotosApplicationTryRunningSwiftPPTTest(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  return +[PXPhotosPPTTestUtilities requestTargetSelectorWithTestName:a1 testOptions:a2 application:a3 gesturePerformer:a4 scrollTestPerformer:a5 resultHandler:&__block_literal_global_90928];
}

void __PXPhotosApplicationTryRunningSwiftPPTTest_block_invoke(uint64_t a1, void *a2, NSString *a3)
{
  id v4 = a2;
  [v4 performSelector:NSSelectorFromString(a3)];
}

void sub_1AAC5C5D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,char a53)
{
  _Block_object_dispose(&a53, 8);
  _Block_object_dispose((const void *)(v53 - 224), 8);
  _Block_object_dispose((const void *)(v53 - 192), 8);
  _Block_object_dispose((const void *)(v53 - 160), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__91456(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__91457(uint64_t a1)
{
}

id PXSharedLibrarySettingsSimulateErrorTypes()
{
  id v0 = _SimulateErrorTypesToTitles();
  id v1 = [v0 allKeys];
  uint64_t v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _SimulateErrorTypesToTitles()
{
  v3[26] = *MEMORY[0x1E4F143B8];
  v2[0] = &unk_1F02D76C0;
  v2[1] = &unk_1F02D76D8;
  v3[0] = @"None";
  v3[1] = @"Create";
  v2[2] = &unk_1F02D76F0;
  v2[3] = &unk_1F02D7708;
  v3[2] = @"Create (CPLExitMode)";
  void v3[3] = @"Preview";
  v2[4] = &unk_1F02D7720;
  v2[5] = &unk_1F02D7738;
  void v3[4] = @"Publish";
  void v3[5] = @"Exit";
  v2[6] = &unk_1F02D7750;
  v2[7] = &unk_1F02D7768;
  v3[6] = @"Exit (ServerGeneratedLocalizedDescription)";
  v3[7] = @"Send Invite";
  v2[8] = &unk_1F02D7780;
  v2[9] = &unk_1F02D7798;
  v3[8] = @"Fetch (No Share)";
  v3[9] = @"Fetch (Generic)";
  v2[10] = &unk_1F02D77B0;
  v2[11] = &unk_1F02D77C8;
  v3[10] = @"View Invitation (NotSPL)";
  v3[11] = @"View Invitation (NotICPL)";
  v2[12] = &unk_1F02D77E0;
  v2[13] = &unk_1F02D77F8;
  v3[12] = @"View Invitation (ExitingICPL)";
  v3[13] = @"View Invitation (NotInSync)";
  v2[14] = &unk_1F02D7810;
  v2[15] = &unk_1F02D7828;
  v3[14] = @"View Invitation (ExitingSL)";
  v3[15] = @"View Invitation (ActiveSL)";
  v2[16] = &unk_1F02D7840;
  v2[17] = &unk_1F02D7858;
  v3[16] = @"Accept (Generic)";
  v3[17] = @"Accept (U13)";
  v2[18] = &unk_1F02D7870;
  v2[19] = &unk_1F02D7888;
  v3[18] = @"Accept (Region)";
  v3[19] = @"Decline";
  v2[20] = &unk_1F02D78A0;
  v2[21] = &unk_1F02D78B8;
  v3[20] = @"Restore";
  v3[21] = @"Participants (Generic)";
  v2[22] = &unk_1F02D78D0;
  v2[23] = &unk_1F02D78E8;
  v3[22] = @"Participants (Too Many)";
  v3[23] = @"PersonUUIDs";
  v2[24] = &unk_1F02D7900;
  v2[25] = &unk_1F02D7918;
  v3[24] = @"Sharing Suggestions";
  v3[25] = @"Move";
  id v0 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v3 forKeys:v2 count:26];
  return v0;
}

id PXSharedLibrarySettingsSimulateErrorTypeTitles()
{
  id v0 = _SimulateErrorTypesToTitles();
  id v1 = PXSharedLibrarySettingsSimulateErrorTypes();
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXSharedLibrarySettingsSimulateErrorTypeTitles_block_invoke;
  v8[3] = &unk_1E5DCBF48;
  id v9 = v0;
  id v3 = v2;
  id v10 = v3;
  id v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  id v5 = v10;
  id v6 = v3;

  return v6;
}

void __PXSharedLibrarySettingsSimulateErrorTypeTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  id v3 = [*(id *)(a1 + 32) objectForKeyedSubscript:a2];
  [*(id *)(a1 + 40) addObject:v3];
}

void sub_1AAC5FE28(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

__CFString *PXActionPerformerStateDescription(uint64_t a1)
{
  id v1 = @"userInteractive";
  id v2 = @"backgroundTask";
  id v3 = @"finished";
  if (a1 != 30) {
    id v3 = 0;
  }
  if (a1 != 20) {
    id v2 = v3;
  }
  if (a1 != 10) {
    id v1 = v2;
  }
  id v4 = @"ready";
  id v5 = @"unlockIfNeeded";
  if (a1 != 5) {
    id v5 = 0;
  }
  if (a1) {
    id v4 = v5;
  }
  if (a1 <= 9) {
    return v4;
  }
  else {
    return v1;
  }
}

__CFString *PXActionPerformerTitleUseCaseDescription(unint64_t a1)
{
  if (a1 > 2) {
    return 0;
  }
  else {
    return off_1E5DB8B58[a1];
  }
}

void sub_1AAC62E40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC63150(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v10 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__92653(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__92654(uint64_t a1)
{
}

void sub_1AAC68C60(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__93938(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__93939(uint64_t a1)
{
}

void sub_1AAC6B050(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAC6C8D8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAC70C08(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void PXGSpriteStyleSetPXStoryContentsRect()
{
}

void sub_1AAC756C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,char a30)
{
}

void ProcessLevel(void *a1, void *a2, int a3)
{
  uint64_t v30 = *MEMORY[0x1E4F143B8];
  id v4 = a1;
  id v5 = a2;
  id v6 = [v5 allKeys];
  v27[0] = MEMORY[0x1E4F143A8];
  v27[1] = 3221225472;
  void v27[2] = __ProcessLevel_block_invoke;
  v27[3] = &unk_1E5DCB810;
  id v21 = v5;
  id v28 = v21;
  int v7 = [v6 sortedArrayUsingComparator:v27];

  long long v25 = 0u;
  long long v26 = 0u;
  long long v23 = 0u;
  long long v24 = 0u;
  id obj = v7;
  uint64_t v8 = [obj countByEnumeratingWithState:&v23 objects:v29 count:16];
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = *(void *)v24;
    do
    {
      for (uint64_t i = 0; i != v9; ++i)
      {
        if (*(void *)v24 != v10) {
          objc_enumerationMutation(obj);
        }
        long long v12 = *(void **)(*((void *)&v23 + 1) + 8 * i);
        unint64_t v13 = (void *)MEMORY[0x1AD10CB00]();
        if (([v12 hasPrefix:@"_"] & 1) == 0)
        {
          uint64_t v14 = [v21 objectForKeyedSubscript:v12];
          int v15 = a3;
          if (a3 >= 1)
          {
            do
            {
              [v4 appendString:@"    "];
              --v15;
            }
            while (v15);
          }
          uint64_t v16 = [v14 objectForKeyedSubscript:@"_name"];
          uint64_t v17 = (void *)v16;
          if (v16) {
            uint64_t v18 = (void *)v16;
          }
          else {
            uint64_t v18 = v12;
          }
          id v19 = v18;

          [v4 appendString:v19];
          [v4 appendString:@"\n"];
          ProcessLevel(v4, v14, (a3 + 1));
        }
      }
      uint64_t v9 = [obj countByEnumeratingWithState:&v23 objects:v29 count:16];
    }
    while (v9);
  }
}

uint64_t __ProcessLevel_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  double v7 = 0.0;
  double v8 = 0.0;
  if (([v5 hasPrefix:@"_"] & 1) == 0)
  {
    uint64_t v9 = [*(id *)(a1 + 32) objectForKeyedSubscript:v5];
    uint64_t v10 = [v9 objectForKeyedSubscript:@"_confidence"];
    [v10 doubleValue];
    double v8 = v11;
  }
  if (([v6 hasPrefix:@"_"] & 1) == 0)
  {
    long long v12 = [*(id *)(a1 + 32) objectForKeyedSubscript:v6];
    unint64_t v13 = [v12 objectForKeyedSubscript:@"_confidence"];
    [v13 doubleValue];
    double v7 = v14;
  }
  if (v8 <= v7)
  {
    if (v8 < v7) {
      uint64_t v15 = 1;
    }
    else {
      uint64_t v15 = [v5 compare:v6];
    }
  }
  else
  {
    uint64_t v15 = -1;
  }

  return v15;
}

void PXIncrementShareCountForAssets(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    id v6 = [NSString stringWithUTF8String:"void PXIncrementShareCountForAssets(__strong id<PXFastEnumeration> _Nonnull)"];
    [v5 handleFailureInFunction:v6, @"PHAsset+PhotosUICore.m", 1484, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];
  }
  id v2 = [v1 firstObject];
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    id v3 = v2;

    if (v3)
    {
      id v4 = [v3 photoLibrary];
      v7[0] = MEMORY[0x1E4F143A8];
      v7[1] = 3221225472;
      void v7[2] = __PXIncrementShareCountForAssets_block_invoke;
      v7[3] = &unk_1E5DD36F8;
      id v8 = v1;
      [v4 performChanges:v7 completionHandler:&__block_literal_global_1437];
    }
  }
  else
  {

    id v3 = 0;
  }
}

void __PXIncrementShareCountForAssets_block_invoke(uint64_t a1)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  long long v7 = 0u;
  long long v8 = 0u;
  long long v9 = 0u;
  long long v10 = 0u;
  id v1 = *(id *)(a1 + 32);
  uint64_t v2 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
  if (v2)
  {
    uint64_t v3 = v2;
    uint64_t v4 = *(void *)v8;
    do
    {
      uint64_t v5 = 0;
      do
      {
        if (*(void *)v8 != v4) {
          objc_enumerationMutation(v1);
        }
        id v6 = objc_msgSend(MEMORY[0x1E4F38ED0], "changeRequestForAsset:", *(void *)(*((void *)&v7 + 1) + 8 * v5), (void)v7);
        [v6 incrementShareCount];

        ++v5;
      }
      while (v3 != v5);
      uint64_t v3 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
    }
    while (v3);
  }
}

void __PXIncrementShareCountForAssets_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  if ((a2 & 1) == 0)
  {
    uint64_t v5 = PLSharingGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      int v6 = 138412290;
      id v7 = v4;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "Unable to increment share count for assets: %@", (uint8_t *)&v6, 0xCu);
    }
  }
}

uint64_t PXDropSessionHasItemsNeedingImport(void *a1)
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [v1 localDragSession];

  if (v2)
  {
    long long v13 = 0u;
    long long v14 = 0u;
    long long v11 = 0u;
    long long v12 = 0u;
    uint64_t v3 = objc_msgSend(v1, "items", 0);
    uint64_t v4 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
    if (v4)
    {
      uint64_t v5 = v4;
      uint64_t v6 = *(void *)v12;
      while (2)
      {
        uint64_t v7 = 0;
        do
        {
          if (*(void *)v12 != v6) {
            objc_enumerationMutation(v3);
          }
          uint64_t v8 = [*(id *)(*((void *)&v11 + 1) + 8 * v7) localObject];
          objc_opt_class();
          if ((objc_opt_isKindOfClass() & 1) != 0 && [v8 needsImport])
          {

            uint64_t v9 = 1;
            goto LABEL_14;
          }

          ++v7;
        }
        while (v5 != v7);
        uint64_t v5 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
        if (v5) {
          continue;
        }
        break;
      }
    }

    uint64_t v3 = +[PXImportManager supportedTypeIdentifiers];
    uint64_t v9 = [v1 hasItemsConformingToTypeIdentifiers:v3];
LABEL_14:
  }
  else
  {
    uint64_t v9 = 1;
  }

  return v9;
}

uint64_t PXDropSessionHasValidItems(void *a1)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [v1 localDragSession];

  if (v2)
  {
    long long v14 = 0u;
    long long v15 = 0u;
    long long v12 = 0u;
    long long v13 = 0u;
    uint64_t v3 = objc_msgSend(v1, "items", 0);
    uint64_t v4 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
    if (v4)
    {
      uint64_t v5 = v4;
      uint64_t v6 = *(void *)v13;
      while (2)
      {
        uint64_t v7 = 0;
        do
        {
          if (*(void *)v13 != v6) {
            objc_enumerationMutation(v3);
          }
          uint64_t v8 = [*(id *)(*((void *)&v12 + 1) + 8 * v7) localObject];
          objc_opt_class();
          char isKindOfClass = objc_opt_isKindOfClass();

          if (isKindOfClass)
          {
            uint64_t v10 = 1;
            goto LABEL_13;
          }
          ++v7;
        }
        while (v5 != v7);
        uint64_t v5 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
        if (v5) {
          continue;
        }
        break;
      }
    }
  }
  uint64_t v3 = +[PXImportManager supportedTypeIdentifiers];
  uint64_t v10 = [v1 hasItemsConformingToTypeIdentifiers:v3];
LABEL_13:

  return v10;
}

void sub_1AAC7F6A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__96774(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__96775(uint64_t a1)
{
}

void sub_1AAC7FBBC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Unwind_Resume(a1);
}

id AnchorableResourceIdentifiersInTimelineSegment(void *a1, uint64_t a2)
{
  id v3 = a1;
  uint64_t v4 = v3;
  if (v3) {
    [v3 timeRangeForSegmentWithIdentifier:a2];
  }
  uint64_t v5 = (void *)[0 copy];

  return v5;
}

uint64_t MatchingScoreBetweenResourceIdentifierSets(void *a1, void *a2)
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  long long v11 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  long long v14 = 0u;
  uint64_t v5 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
  if (v5)
  {
    uint64_t v6 = v5;
    uint64_t v7 = 0;
    uint64_t v8 = *(void *)v12;
    do
    {
      for (uint64_t i = 0; i != v6; ++i)
      {
        if (*(void *)v12 != v8) {
          objc_enumerationMutation(v3);
        }
        v7 += [v4 containsObject:*(void *)(*((void *)&v11 + 1) + 8 * i)];
      }
      uint64_t v6 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
    }
    while (v6);
  }
  else
  {
    uint64_t v7 = 0;
  }

  return v7;
}

void __AnchorableResourceIdentifiersInTimelineSegment_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  if (a2 >= 1)
  {
    uint64_t v20 = v10;
    uint64_t v21 = v9;
    uint64_t v22 = v8;
    uint64_t v23 = v7;
    uint64_t v24 = v6;
    uint64_t v25 = v5;
    uint64_t v26 = v11;
    uint64_t v27 = v12;
    uint64_t v14 = a2;
    do
    {
      uint64_t v16 = objc_msgSend(*(id *)(a1 + 32), "clipWithIdentifier:", *a5, v20, v21, v22, v23, v24, v25, v26, v27);
      uint64_t v17 = [v16 resource];

      if ((objc_msgSend(v17, "px_storyResourceKind") | 2) == 3)
      {
        uint64_t v18 = *(void **)(a1 + 40);
        id v19 = objc_msgSend(v17, "px_storyResourceIdentifier");
        [v18 addObject:v19];
      }
      a5 += 96;

      --v14;
    }
    while (v14);
  }
}

void sub_1AAC80B64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v14 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC80D44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAC80F00(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC8144C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC815A0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC819CC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__96947(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__96948(uint64_t a1)
{
}

void sub_1AAC81C28(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

__CFString *PXApplicationVisibilityStateDescription(unint64_t a1)
{
  if (a1 >= 4) {
    uint64_t v1 = (__CFString *)objc_msgSend([NSString alloc], "initWithFormat:", @"Unknown %ti", a1);
  }
  else {
    uint64_t v1 = off_1E5DB9310[a1];
  }
  return v1;
}

__CFString *PXCuratedLibraryFilterActionIdentifierFromNumber(void *a1)
{
  uint64_t v1 = [a1 integerValue];
  if ((unint64_t)(v1 - 1) > 3) {
    return &stru_1F00B0030;
  }
  else {
    return off_1E5DB9350[v1 - 1];
  }
}

void sub_1AAC86734(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,id location)
{
  objc_destroyWeak(v27);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAC8775C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

double PXStoryDisplayAssetSuggestedCrop(void *a1, double a2, double a3, uint64_t a4, uint64_t a5, void *a6, uint64_t a7)
{
  uint64_t v51 = *MEMORY[0x1E4F143B8];
  id v12 = a1;
  id v13 = a6;
  double v15 = *MEMORY[0x1E4F1DB20];
  double v14 = *(double *)(MEMORY[0x1E4F1DB20] + 8);
  double v17 = *(double *)(MEMORY[0x1E4F1DB20] + 16);
  double v16 = *(double *)(MEMORY[0x1E4F1DB20] + 24);
  if ([v12 pixelWidth] && objc_msgSend(v12, "pixelHeight"))
  {
    *(void *)long long buf = 0;
    *(void *)&buf[8] = buf;
    *(void *)&buf[16] = 0x4010000000;
    v48 = &unk_1AB5D584F;
    long long v49 = 0u;
    long long v50 = 0u;
    double v34 = (double)(unint64_t)[v12 pixelWidth];
    double v35 = (double)(unint64_t)[v12 pixelHeight];
    if ((a5 & 0xFFFFFFFFFFFFFFFELL) == 4) {
      PXSizeGetAspectRatio();
    }
    objc_msgSend(v12, "suggestedCropForTargetSize:withFocusRegion:", a2, a3, v15, v14, v17, v16);
    uint64_t v18 = *(void **)&buf[8];
    *(void *)(*(void *)&buf[8] + 32) = v19;
    v18[5] = v20;
    v18[6] = v21;
    v18[7] = v22;
    v46[0] = MEMORY[0x1E4F143A8];
    v46[1] = 3221225472;
    v46[2] = __PXStoryDisplayAssetSuggestedCrop_block_invoke_2;
    v46[3] = &unk_1E5DB9430;
    void v46[4] = buf;
    _PXEnumerateCropVariants(v12, a7 == 2, v46, a2, a3);
    if (a7)
    {
      [v12 faceAreaRect];
      double x = v52.origin.x;
      double y = v52.origin.y;
      double width = v52.size.width;
      double height = v52.size.height;
      if (!CGRectIsNull(v52))
      {
        aBlock[0] = MEMORY[0x1E4F143A8];
        aBlock[1] = 3221225472;
        aBlock[2] = __PXStoryDisplayAssetSuggestedCrop_block_invoke_3;
        aBlock[3] = &__block_descriptor_64_e70__CGRect__CGPoint_dd__CGSize_dd__40__0_CGRect__CGPoint_dd__CGSize_dd__8l;
        void aBlock[4] = 0;
        aBlock[5] = 0;
        *(double *)&aBlock[6] = v34;
        *(double *)&aBlock[7] = v35;
        uint64_t v27 = (double (**)(double, double, double, double))_Block_copy(aBlock);
        v53.origin.double x = v27[2](x, y, width, height);
        v53.origin.double y = v28;
        v53.size.double width = v29;
        v53.size.double height = v30;
        if (!CGRectContainsRect(*(CGRect *)(*(void *)&buf[8] + 32), v53))
        {
          v36[0] = MEMORY[0x1E4F143A8];
          v36[1] = 3221225472;
          v36[2] = __PXStoryDisplayAssetSuggestedCrop_block_invoke_4;
          v36[3] = &unk_1E5DB9458;
          id v37 = v27;
          uint64_t v38 = buf;
          double v39 = a2;
          double v40 = a3;
          uint64_t v41 = 0;
          uint64_t v42 = 0;
          double v43 = v34;
          double v44 = v35;
          [v13 requestIndividualFaceRectsInAsset:v12 options:0 resultHandler:v36];
        }
      }
    }
    double v31 = *(double *)(*(void *)&buf[8] + 32);
    _Block_object_dispose(buf, 8);
  }
  else
  {
    uint64_t v33 = PLStoryGetLog();
    if (os_log_type_enabled(v33, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      *(void *)&uint8_t buf[4] = v12;
      *(_WORD *)&buf[12] = 2080;
      *(void *)&buf[14] = "CGRect PXStoryDisplayAssetSuggestedCrop(__strong id<PXDisplayAsset> _Nonnull, CGSize, CGRect"
                            ", const PXStoryAssetContentInfo * _Nonnull, PXDisplayAssetPlaybackStyle, __strong id<PXStory"
                            "DisplayAssetCroppingContext> _Nonnull, PXStoryCroppingOptions)";
      _os_log_impl(&dword_1A9AE7000, v33, OS_LOG_TYPE_ERROR, "Unable to provide suggested crop for asset %@; %s",
        buf,
        0x16u);
    }

    double v31 = *(double *)off_1E5DAB010;
  }

  return v31;
}

void sub_1AAC87E84(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 208), 8);
  _Unwind_Resume(a1);
}

uint64_t __PXStoryDisplayAssetSuggestedCrop_block_invoke(uint64_t result, double a2, double a3, double a4, double a5, uint64_t a6, unsigned char *a7)
{
  uint64_t v7 = *(double **)(*(void *)(result + 32) + 8);
  void v7[4] = a2;
  v7[5] = a3;
  v7[6] = a4;
  v7[7] = a5;
  *a7 = 1;
  return result;
}

void _PXEnumerateCropVariants(void *a1, uint64_t a2, void *a3, double a4, double a5)
{
  uint64_t v48 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a3;
  uint64_t v11 = (void *)MEMORY[0x1E4F8E7C8];
  if (a4 == 0.0
    || a5 == 0.0
    || (a4 == *MEMORY[0x1E4F8A250] ? (BOOL v12 = a5 == *(double *)(MEMORY[0x1E4F8A250] + 8)) : (BOOL v12 = 0), v12))
  {
    BOOL v14 = os_log_type_enabled(MEMORY[0x1E4F14500], OS_LOG_TYPE_FAULT);
    double v13 = 1.0;
    if (v14)
    {
      double v39 = 1.0;
      *(_DWORD *)long long buf = 134218496;
      double v43 = a4;
      __int16 v44 = 2048;
      double v45 = a5;
      __int16 v46 = 2048;
      uint64_t v47 = 0x3FF0000000000000;
      _os_log_fault_impl(&dword_1A9AE7000, MEMORY[0x1E4F14500], OS_LOG_TYPE_FAULT, "PFSizeGetAspectRatio produced an undefined aspect ratio from size {%lf, %lf}. Returning %f. Use PFSizeGetAspectRatioWithDefault() to provide a value for this case.", buf, 0x20u);
      goto LABEL_10;
    }
  }
  else
  {
    double v13 = fabs(a4 / a5);
  }
  double v39 = v13;
LABEL_10:
  uint64_t v15 = [v9 pixelWidth];
  uint64_t v16 = [v9 pixelHeight];
  [v9 acceptableCropRect];
  double v18 = v17;
  double v20 = v19;
  double v22 = v21;
  double v24 = v23;
  [v9 preferredCropRect];
  uint64_t v26 = v25;
  uint64_t v28 = v27;
  uint64_t v30 = v29;
  uint64_t v32 = v31;
  [v9 faceAreaRect];
  objc_msgSend(v11, "cropVariantsFromSignalsPrefersFaceCrops:aspectRatio:sourcePixelWidth:sourcePixelHeight:acceptableCropRect:preferredCropRect:faceAreaRect:objectSaliencyRects:gazeAreaRect:isDenormalized:", a2, v15, v16, MEMORY[0x1E4F1CBF0], 1, v39, v18, v20, v22, v24, v26, v28, v30, v32, v33, v34,
    v35,
    v36,
    *MEMORY[0x1E4F1DB20],
    *(void *)(MEMORY[0x1E4F1DB20] + 8),
    *(void *)(MEMORY[0x1E4F1DB20] + 16),
  id v37 = *(void *)(MEMORY[0x1E4F1DB20] + 24));
  v40[0] = MEMORY[0x1E4F143A8];
  v40[1] = 3221225472;
  v40[2] = ___PXEnumerateCropVariants_block_invoke;
  v40[3] = &unk_1E5DB9480;
  id v41 = v10;
  id v38 = v10;
  [v37 enumerateObjectsUsingBlock:v40];
}

uint64_t __PXStoryDisplayAssetSuggestedCrop_block_invoke_2(uint64_t result, double a2, double a3, double a4, double a5, uint64_t a6, unsigned char *a7)
{
  uint64_t v7 = *(double **)(*(void *)(result + 32) + 8);
  void v7[4] = a2;
  v7[5] = a3;
  v7[6] = a4;
  v7[7] = a5;
  *a7 = 1;
  return result;
}

void __PXStoryDisplayAssetSuggestedCrop_block_invoke_3()
{
}

uint64_t __PXStoryDisplayAssetSuggestedCrop_block_invoke_4(uint64_t result, uint64_t a2, uint64_t a3)
{
  v12[1] = *MEMORY[0x1E4F143B8];
  if (a2 >= 1)
  {
    uint64_t v4 = result;
    uint64_t v5 = &v12[-4 * a2];
    unint64_t v6 = 0;
    uint64_t v7 = a2;
    do
    {
      uint64_t v8 = (double *)&v5[v6 / 8];
      *uint64_t v8 = (*(double (**)(double, double, double, double))(*(void *)(v4 + 32) + 16))(*(double *)(a3 + v6), *(double *)(a3 + v6 + 8), *(double *)(a3 + v6 + 16), *(double *)(a3 + v6 + 24));
      *((void *)v8 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v9;
      *((void *)v8 + 2) = v10;
      *((void *)v8 + 3) = v11;
      v6 += 32;
      --v7;
    }
    while (v7);
    PXSizeGetAspectRatio();
  }
  return result;
}

PXViewControllerEventTracker *PXMemoriesViewControllerEventTrackerCreate(void *a1)
{
  id v1 = a1;
  unint64_t v2 = [v1 userInterfaceFeature];
  if (v2 >= 4) {
    PXAssertGetLog();
  }
  id v3 = [[PXViewControllerEventTracker alloc] initWithViewName:off_1E5DB94A0[v2]];

  return v3;
}

void sub_1AAC8B0C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXStoryChapterCollectionDiagnosticDescptionWithAssets(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = objc_alloc_init(MEMORY[0x1E4F28E78]);
  uint64_t v6 = [v3 numberOfChapters];
  objc_msgSend(v5, "appendFormat:", @"%ti Chapters:\n", v6);
  if (v6 >= 1)
  {
    for (uint64_t i = 0; i != v6; ++i)
    {
      uint64_t v8 = [v3 chapterAtIndex:i];
      uint64_t v9 = [v8 diagnosticDescription];
      [v5 appendFormat:@"%ti %@\n", i, v9];
    }
  }
  uint64_t v10 = [v4 count];
  objc_msgSend(v5, "appendFormat:", @"\n%ti Assets:\n", v10);
  if (v10 >= 1)
  {
    for (uint64_t j = 0; j != v10; ++j)
    {
      BOOL v12 = [v4 objectAtIndexedSubscript:j];
      int v13 = [v3 containsChapterBeginningWithAsset:v12];
      BOOL v14 = [v3 chapterContainingAsset:v12];
      uint64_t v27 = v14;
      uint64_t v15 = [v12 uuid];
      uint64_t v16 = [v12 localCreationDate];
      BOOL v17 = v13 == 0;
      id v18 = v3;
      id v19 = v5;
      uint64_t v20 = v10;
      id v21 = v4;
      if (v17) {
        double v22 = @" ";
      }
      else {
        double v22 = @"Y";
      }
      double v23 = [v14 identifier];
      uint64_t v26 = v22;
      id v4 = v21;
      uint64_t v10 = v20;
      id v5 = v19;
      id v3 = v18;
      [v5 appendFormat:@"%ti (uuid=%@ localCreationDate=%@) chapterBeginning=%@ chapter=%@\n", j, v15, v16, v26, v23];
    }
  }
  double v24 = (void *)[v5 copy];

  return v24;
}

PXStoryConfiguration *PXStoryConfigurationForObjectReference(void *a1)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  unint64_t v2 = [v1 leafObject];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v3 = v2;
    id v4 = [v3 assetCollection];
    if (!v4)
    {
      uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v11 = [NSString stringWithUTF8String:"PXStoryConfiguration * _Nullable PXStoryConfigurationForObjectReference(PXSectionedObjectReference *__strong _Nonnull)"];
      [v10 handleFailureInFunction:v11, @"PXStoryMemoryFeedDataSource.m", 27, @"Invalid parameter not satisfying: %@", @"assetCollection != nil" file lineNumber description];
    }
    id v5 = [PXStoryConfiguration alloc];
    uint64_t v6 = [v3 keyAssetFetchResult];

    uint64_t v7 = [(PXStoryConfiguration *)v5 initWithAssetCollection:v4 keyAsset:v6];
  }
  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      uint64_t v7 = [[PXStoryConfiguration alloc] initWithAssetCollection:v2];
    }
    else
    {
      uint64_t v8 = PLStoryGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        *(_DWORD *)long long buf = 138412290;
        id v13 = v1;
        _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_ERROR, "cannot create PXStoryConfiguration from %@", buf, 0xCu);
      }

      uint64_t v7 = 0;
    }
  }

  return v7;
}

id PXStoryObjectReferenceForDestinationInMemoryDataSource(void *a1, void *a2)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if ([v3 type] == 9)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      id v5 = [v3 assetCollectionUUID];
      if (!v5)
      {
        BOOL v17 = [MEMORY[0x1E4F28B00] currentHandler];
        id v18 = objc_msgSend(NSString, "stringWithUTF8String:", "PXSectionedObjectReference * _Nullable PXStoryObjectReferenceForDestinationInMemoryDataSource(PXProgrammaticNavigationDestination *__strong _Nonnull, PXFeedDataSource *__strong _Nonnull)");
        [v17 handleFailureInFunction:v18, @"PXStoryMemoryFeedDataSource.m", 42, @"Invalid parameter not satisfying: %@", @"memoryUUID != nil" file lineNumber description];
      }
      uint64_t v6 = [v4 sectionedObjectReferenceForMemoryUUID:v5];
      if (v6)
      {
        uint64_t v7 = (void *)v6;

        goto LABEL_19;
      }
      uint64_t v8 = PLStoryGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        *(_DWORD *)long long buf = 138412546;
        *(void *)&uint8_t buf[4] = v5;
        *(_WORD *)&buf[12] = 2112;
        *(void *)&buf[14] = v4;
        _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_ERROR, "couldn't find memoryUUID %@ in %@", buf, 0x16u);
      }
    }
  }
  uint64_t v9 = PLStoryGetLog();
  if (os_log_type_enabled(v9, OS_LOG_TYPE_INFO))
  {
    *(_DWORD *)long long buf = 138412546;
    *(void *)&uint8_t buf[4] = v3;
    *(_WORD *)&buf[12] = 2112;
    *(void *)&buf[14] = v4;
    _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_INFO, "couldn't find %@ in feed data source %@, attempting graceful fallback", buf, 0x16u);
  }

  uint64_t v10 = [v3 assetCollection];
  if (!v10) {
    goto LABEL_16;
  }
  uint64_t v11 = (void *)v10;
  BOOL v12 = PLStoryGetLog();
  if (os_log_type_enabled(v12, OS_LOG_TYPE_INFO))
  {
    *(_DWORD *)long long buf = 138412290;
    *(void *)&uint8_t buf[4] = v11;
    _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_INFO, "falling back to asset collection %@", buf, 0xCu);
  }

  id v13 = objc_alloc((Class)off_1E5DA84A8);
  long long v14 = *((_OWORD *)off_1E5DAB028 + 1);
  *(_OWORD *)long long buf = *(_OWORD *)off_1E5DAB028;
  *(_OWORD *)&buf[16] = v14;
  uint64_t v7 = (void *)[v13 initWithSectionObject:0 itemObject:v11 subitemObject:0 indexPath:buf];

  if (!v7)
  {
LABEL_16:
    uint64_t v15 = PLStoryGetLog();
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412546;
      *(void *)&uint8_t buf[4] = v3;
      *(_WORD *)&buf[12] = 2112;
      *(void *)&buf[14] = v4;
      _os_log_impl(&dword_1A9AE7000, v15, OS_LOG_TYPE_ERROR, "couldn't find %@ in feed data source %@", buf, 0x16u);
    }

    uint64_t v7 = 0;
  }
LABEL_19:

  return v7;
}

void sub_1AAC91DCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void _ConfigureFooterView(void *a1, void *a2)
{
  id v3 = a2;
  id v6 = [a1 textLabel];
  [v6 setTextAlignment:1];
  id v4 = [MEMORY[0x1E4FB1618] secondaryLabelColor];
  [v6 setTextColor:v4];

  id v5 = objc_msgSend(MEMORY[0x1E4FB08E0], "px_preferredFontForTextStyle:maxContentSizeCategory:withSymbolicTraits:", *MEMORY[0x1E4FB28F0], *MEMORY[0x1E4FB2790], 0x8000);
  [v6 setFont:v5];

  [v6 setNumberOfLines:0];
  [v6 setText:v3];
}

void sub_1AAC9E960(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x2D0], 8);
  _Block_object_dispose(&STACK[0x2F0], 8);
  _Block_object_dispose(&STACK[0x310], 8);
  _Block_object_dispose(&STACK[0x330], 8);
  _Block_object_dispose((const void *)(v1 - 256), 8);
  _Unwind_Resume(a1);
}

void sub_1AAC9EFE8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t opcode_for_trc(unsigned int *a1)
{
  uint64_t v1 = *a1;
  if (v1 > 9) {
    return 0;
  }
  else {
    return dword_1AB35ACE0[v1];
  }
}

uint64_t opcode_for_transform(_DWORD *a1)
{
  if (*a1 == 7) {
    return 13;
  }
  else {
    return 8;
  }
}

vImage_Error convert_float_array(void *a1, void *a2, vImagePixelCount a3)
{
  src.data = a2;
  src.double height = 1;
  src.double width = a3;
  src.rowBytes = 4 * a3;
  v4.data = a1;
  v4.double height = 1;
  v4.double width = a3;
  v4.rowBytes = 2 * a3;
  return vImageConvert_PlanarFtoPlanar16F(&src, &v4, 0x10u);
}

id PXGDeepestPreferredFocusEnvironmentsForLayout(void *a1)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  unint64_t v2 = [v1 preferredFocusLayouts];
  id v3 = v2;
  if (!v2
    || ![v2 count]
    || [v3 count] == 1
    && ([v3 firstObject], id v4 = (id)objc_claimAutoreleasedReturnValue(), v4, v4 == v1))
  {
    id v5 = [v1 preferredFocusSpriteIndexes];
    if ([v5 count])
    {
      id v11 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
      v19[0] = MEMORY[0x1E4F143A8];
      v19[1] = 3221225472;
      v19[2] = __PXGDeepestPreferredFocusEnvironmentsForLayout_block_invoke;
      v19[3] = &unk_1E5DD1558;
      id v20 = v1;
      id v12 = v11;
      id v21 = v12;
      [v5 enumerateIndexesUsingBlock:v19];
      if ([v12 count]) {
        id v13 = (void *)[v12 copy];
      }
      else {
        id v13 = 0;
      }

      goto LABEL_21;
    }
  }
  else
  {
    long long v17 = 0u;
    long long v18 = 0u;
    long long v15 = 0u;
    long long v16 = 0u;
    id v5 = v3;
    uint64_t v6 = [v5 countByEnumeratingWithState:&v15 objects:v22 count:16];
    if (v6)
    {
      uint64_t v7 = v6;
      uint64_t v8 = *(void *)v16;
      while (2)
      {
        for (uint64_t i = 0; i != v7; ++i)
        {
          if (*(void *)v16 != v8) {
            objc_enumerationMutation(v5);
          }
          uint64_t v10 = PXGDeepestPreferredFocusEnvironmentsForLayout(*(void *)(*((void *)&v15 + 1) + 8 * i));
          if (v10)
          {
            id v13 = (void *)v10;
            goto LABEL_21;
          }
        }
        uint64_t v7 = [v5 countByEnumeratingWithState:&v15 objects:v22 count:16];
        if (v7) {
          continue;
        }
        break;
      }
    }
  }
  id v13 = 0;
LABEL_21:

  return v13;
}

void __PXGDeepestPreferredFocusEnvironmentsForLayout_block_invoke(uint64_t a1, uint64_t a2)
{
  id v6 = [*(id *)(a1 + 32) axGroup];
  [v6 updateIfNeeded];
  id v4 = (id)[v6 loadLeafAtSpriteIndexIfNeeded:a2 usingOptions:4];
  id v5 = [v6 loadedLeafAtSpriteIndex:a2];
  if (v5) {
    [*(id *)(a1 + 40) addObject:v5];
  }
}

void sub_1AACA2E04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location,char a21)
{
  _Block_object_dispose(&a21, 8);
  objc_destroyWeak(v22);
  objc_destroyWeak(v21);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACA2F18(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AACA3008(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AACA3240(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AACA3B74(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AACA3ED0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AACA3F98(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AACA450C(_Unwind_Exception *a1)
{
  _Block_object_dispose(&STACK[0x550], 8);
  _Block_object_dispose(&STACK[0x590], 8);
  _Block_object_dispose((const void *)(v1 - 240), 8);
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

void sub_1AACA54E8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AACA5B60(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,char a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,char a55,uint64_t a56,uint64_t a57,uint64_t a58,char a59)
{
  _Block_object_dispose(&a41, 8);
  _Block_object_dispose(&a47, 8);
  _Block_object_dispose(&a55, 8);
  _Block_object_dispose(&a59, 8);
  _Block_object_dispose((const void *)(v59 - 240), 8);
  _Unwind_Resume(a1);
}

uint64_t PXErrorRecoveryEnumerateOptionsForError(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v21 = a2;
  id v6 = a3;
  uint64_t v7 = (void (**)(void, void, void, void))v6;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    long long v15 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v16 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXErrorRecoveryEnumerateOptionsForError(NSError *__strong _Nonnull, void (^ _Nullable __strong)(BOOL), void (^__strong _Nonnull)(NSString *__strong, PXAlertActionStyle, void (^__strong)(void)))");
    [v15 handleFailureInFunction:v16, @"PXErrorRecovery.m", 142, @"Invalid parameter not satisfying: %@", @"error" file lineNumber description];

    if (v7) {
      goto LABEL_3;
    }
  }
  long long v17 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v18 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXErrorRecoveryEnumerateOptionsForError(NSError *__strong _Nonnull, void (^ _Nullable __strong)(BOOL), void (^__strong _Nonnull)(NSString *__strong, PXAlertActionStyle, void (^__strong)(void)))");
  [v17 handleFailureInFunction:v18, @"PXErrorRecovery.m", 143, @"Invalid parameter not satisfying: %@", @"recoveryOptionsIterator" file lineNumber description];

LABEL_3:
  uint64_t v8 = [v5 recoveryAttempter];
  id v20 = [v5 localizedRecoveryOptions];
  uint64_t v9 = [v20 count];
  unsigned int v19 = objc_opt_respondsToSelector() & (v9 != 0);
  if (v19 == 1)
  {
    uint64_t v10 = 0;
    do
    {
      id v11 = [v20 objectAtIndex:v10];
      if (objc_opt_respondsToSelector()) {
        uint64_t v12 = [v8 _alertActionStyleForRecoveryOptionAtIndex:v10];
      }
      else {
        uint64_t v12 = 0;
      }
      aBlock[0] = MEMORY[0x1E4F143A8];
      aBlock[1] = 3221225472;
      aBlock[2] = __PXErrorRecoveryEnumerateOptionsForError_block_invoke;
      aBlock[3] = &unk_1E5DC2380;
      id v25 = v21;
      id v23 = v8;
      id v24 = v5;
      uint64_t v26 = v10;
      id v13 = _Block_copy(aBlock);
      ((void (**)(void, void *, uint64_t, void *))v7)[2](v7, v11, v12, v13);

      ++v10;
    }
    while (v9 != v10);
  }

  return v19;
}

void __PXErrorRecoveryEnumerateOptionsForError_block_invoke(uint64_t a1)
{
  uint64_t v2 = [*(id *)(a1 + 48) copy];
  id v3 = *(void **)(a1 + 32);
  uint64_t v4 = *(void *)(a1 + 40);
  uint64_t v5 = *(void *)(a1 + 56);
  id v6 = +[PXErrorRecoveryDelegate sharedErrorRecoveryDelegate];
  [v3 attemptRecoveryFromError:v4 optionIndex:v5 delegate:v6 didRecoverSelector:sel__didPresentErrorWithRecovery_contextInfo_ contextInfo:v2];
}

void PXTargetLibrarySetTypePreference(uint64_t a1)
{
  id v1 = [NSNumber numberWithUnsignedInteger:a1];
  PXPreferencesSetValue(@"PXTargetLibrary", v1);
}

CFIndex PXTargetLibraryGetTypePreference()
{
  Boolean keyExistsAndHasValidFormat = 0;
  CFIndex result = CFPreferencesGetAppIntegerValue(@"PXTargetLibrary", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (!keyExistsAndHasValidFormat) {
    return 0;
  }
  return result;
}

id PXTargetLibraryTitleForDefaultType(void *a1)
{
  id v1 = a1;
  Boolean keyExistsAndHasValidFormat = 0;
  CFIndex AppIntegerValue = CFPreferencesGetAppIntegerValue(@"PXTargetLibrary", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  int v3 = keyExistsAndHasValidFormat;
  uint64_t v4 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v1];

  int v5 = [v4 hasPreview];
  id v6 = @"PXSharedLibrary_SharedLibraryTitle";
  if (v5) {
    id v6 = @"PXSharedLibrary_SharedLibraryPreviewTitle";
  }
  if (AppIntegerValue) {
    BOOL v7 = v3 == 0;
  }
  else {
    BOOL v7 = 1;
  }
  if (v7) {
    uint64_t v8 = @"PXSharedLibrary_YourLibraryTitle";
  }
  else {
    uint64_t v8 = v6;
  }
  uint64_t v9 = PXLocalizedSharedLibraryString(v8);

  return v9;
}

id PXTargetLibraryFetchLibraryScopeOrNil(void *a1)
{
  v13[1] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v1];
  if ([v2 hasSharedLibraryOrPreview])
  {
    Boolean keyExistsAndHasValidFormat = 0;
    CFIndex AppIntegerValue = CFPreferencesGetAppIntegerValue(@"PXTargetLibrary", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
    uint64_t v4 = 0;
    if (keyExistsAndHasValidFormat && AppIntegerValue == 1)
    {
      int v5 = [v2 sharedLibraryOrPreview];
      id v6 = [v1 librarySpecificFetchOptions];
      BOOL v7 = (void *)MEMORY[0x1E4F39110];
      uint64_t v8 = [v5 identifier];
      v13[0] = v8;
      uint64_t v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v13 count:1];
      uint64_t v10 = [v7 fetchLibraryScopesWithLocalIdentifiers:v9 options:v6];

      uint64_t v4 = [v10 firstObject];
    }
  }
  else
  {
    uint64_t v4 = 0;
  }

  return v4;
}

void __PXTitleFontForInlineHeaderStyle_block_invoke()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F1C998]);
  id v1 = (void *)PXTitleFontForInlineHeaderStyle_fontCache;
  PXTitleFontForInlineHeaderStyle_fontCache = (uint64_t)v0;

  id v3 = [MEMORY[0x1E4F28EB8] defaultCenter];
  id v2 = (id)[v3 addObserverForName:*MEMORY[0x1E4FB27A8] object:0 queue:0 usingBlock:&__block_literal_global_132];
}

uint64_t __PXTitleFontForInlineHeaderStyle_block_invoke_2()
{
  return [(id)PXTitleFontForInlineHeaderStyle_fontCache removeAllObjects];
}

double PXZoomableInlineHeaderCornerRadius()
{
  return 5.0;
}

Class PXStoryGetUISwiftFactoryClass()
{
  return NSClassFromString(&cfstr_Pustoryuiswift.isa);
}

id getMFMailComposeViewControllerClass_104735()
{
  uint64_t v4 = 0;
  int v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getMFMailComposeViewControllerClass_softClass_104758;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_104758;
  if (!getMFMailComposeViewControllerClass_softClass_104758)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getMFMailComposeViewControllerClass_block_invoke_104759;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_104759((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AACB1BB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_104759(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_104760)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_104761;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DB9F78;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_104760 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_104760)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXDebugMemoriesViewController.m", 30, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    int v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXDebugMemoriesViewController.m", 31, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_104758 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_104761()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_104760 = result;
  return result;
}

void sub_1AACB31A4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__105202(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__105203(uint64_t a1)
{
}

id PXNavigationListItemIdentifierForCollection(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
    if (!v2)
    {
      id v3 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXNavigationListItemIdentifierForCollection(PHCollection *__strong _Nonnull)"];
      id v13 = (objc_class *)objc_opt_class();
      uint64_t v6 = NSStringFromClass(v13);
      [v3 handleFailureInFunction:v4, @"PXNavigationListItem.m", 71, @"%@ should be an instance inheriting from %@, but it is nil", @"collection", v6 file lineNumber description];
LABEL_21:

      goto LABEL_8;
    }
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      id v3 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXNavigationListItemIdentifierForCollection(PHCollection *__strong _Nonnull)"];
      int v5 = (objc_class *)objc_opt_class();
      uint64_t v6 = NSStringFromClass(v5);
      long long v7 = objc_msgSend(v2, "px_descriptionForAssertionMessage");
      [v3 handleFailureInFunction:v4, @"PXNavigationListItem.m", 71, @"%@ should be an instance inheriting from %@, but it is %@", @"collection", v6, v7 file lineNumber description];
LABEL_20:

      goto LABEL_21;
    }
    goto LABEL_8;
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
    if (!v2)
    {
      id v3 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXNavigationListItemIdentifierForCollection(PHCollection *__strong _Nonnull)"];
      long long v14 = (objc_class *)objc_opt_class();
      uint64_t v6 = NSStringFromClass(v14);
      [v3 handleFailureInFunction:v4, @"PXNavigationListItem.m", 74, @"%@ should be an instance inheriting from %@, but it is nil", @"collection", v6 file lineNumber description];
      goto LABEL_21;
    }
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      id v3 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXNavigationListItemIdentifierForCollection(PHCollection *__strong _Nonnull)"];
      long long v15 = (objc_class *)objc_opt_class();
      uint64_t v6 = NSStringFromClass(v15);
      long long v7 = objc_msgSend(v2, "px_descriptionForAssertionMessage");
      [v3 handleFailureInFunction:v4, @"PXNavigationListItem.m", 74, @"%@ should be an instance inheriting from %@, but it is %@", @"collection", v6, v7 file lineNumber description];
      goto LABEL_20;
    }
LABEL_8:
    uint64_t v8 = [v2 transientIdentifier];
    uint64_t v9 = v8;
    if (v8)
    {
      id v10 = v8;
    }
    else
    {
      id v10 = [v2 localIdentifier];
    }
    id v11 = v10;

    goto LABEL_13;
  }
  id v11 = [v1 localIdentifier];
LABEL_13:

  return v11;
}

PXNavigationListAssetCollectionItem *PXNavigationListItemWithObject(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  id v11 = a1;
  id v12 = a6;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v13 = [[PXNavigationListAssetCollectionItem alloc] initWithAssetCollection:v11 itemCount:a2 containerIdentifier:v12];
    [(PXNavigationListDisplayAssetCollectionItem *)v13 setIndentationLevel:a3];
    [(PXNavigationListItem *)v13 setLockState:a5];
  }
  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      id v13 = [[PXNavigationListCollectionListItem alloc] initWithCollectionList:v11 itemCount:a2 containerIdentifier:v12];
      [(PXNavigationListDisplayAssetCollectionItem *)v13 setIndentationLevel:a3];
      [(PXNavigationListAssetCollectionItem *)v13 setExpanded:a4];
    }
    else
    {
      id v13 = 0;
    }
  }

  return v13;
}

void sub_1AACB70E8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AACB7A94(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AACBACB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,char a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a21, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 160), 8);
  _Block_object_dispose((const void *)(v29 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__106382(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__106383(uint64_t a1)
{
}

void sub_1AACBB530(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AACBCEA4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

__CFString *PXGAnchorPriorityDescription(uint64_t a1)
{
  uint64_t v1 = @"unknown";
  if (a1 == 1) {
    uint64_t v1 = @"Default";
  }
  if (a1) {
    return v1;
  }
  else {
    return @"Low";
  }
}

__CFString *PXGAnchorTypeDescription(unint64_t a1)
{
  if (a1 > 5) {
    return @"unknown";
  }
  else {
    return off_1E5DBA458[a1];
  }
}

void _CreateAnimationOnDecoratingLayouts(void *a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    v3[2](v3, v4);
  }
  else
  {
    int v5 = [v4 sublayoutDataStore];

    v6[0] = MEMORY[0x1E4F143A8];
    v6[1] = 3221225472;
    void v6[2] = ___CreateAnimationOnDecoratingLayouts_block_invoke;
    v6[3] = &unk_1E5DC94B0;
    long long v7 = v3;
    [v5 enumerateSublayoutsUsingBlock:v6];

    uint64_t v4 = v7;
  }
}

void sub_1AACBE114(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

BOOL PXPhotoKitAssetCollectionSupportsNearbyAssetsAffordance(void *a1)
{
  id v1 = a1;
  BOOL v2 = (objc_msgSend(v1, "px_isRecentsSmartAlbum") & 1) == 0
    && (objc_msgSend(v1, "px_isAllPhotosSmartAlbum") & 1) == 0
    && !objc_msgSend(v1, "px_isPlacesSmartAlbum");

  return v2;
}

void sub_1AACBF914(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a67, 8);
  _Block_object_dispose(&STACK[0x200], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__107099(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__107100(uint64_t a1)
{
}

void sub_1AACC0D64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

_PXStoryDefaultStyleProducer *PXStoryDefaultStyleProducerForConfiguration(void *a1)
{
  id v1 = a1;
  BOOL v2 = [v1 styleProducer];
  if (!v2) {
    BOOL v2 = [[_PXStoryDefaultStyleProducer alloc] initWithStoryConfiguration:v1];
  }

  return v2;
}

void sub_1AACC9690(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AACC9B84(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AACC9E1C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AACC9F2C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AACCA348(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACCACF4(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AACCAE10(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AACCAFAC(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AACCB4E4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 144));
  _Unwind_Resume(a1);
}

void sub_1AACCC24C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,char a53)
{
}

void sub_1AACCD350(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
}

uint64_t __Block_byref_object_copy__108508(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__108509(uint64_t a1)
{
}

void sub_1AACD1E7C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t PXFlippedExploreHeroSide(uint64_t a1)
{
  if (!a1) {
    return 1;
  }
  if (a1 != 1)
  {
    uint64_t v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
    long long v7 = [NSString stringWithUTF8String:"PXExploreLayoutHeroSide PXFlippedExploreHeroSide(PXExploreLayoutHeroSide)"];
    [v6 handleFailureInFunction:v7 file:@"PXExploreLayoutGenerator.m" lineNumber:1052 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return 0;
}

void sub_1AACD358C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t PXExploreLayoutMetricsNumberOfGridColumns(void *a1)
{
  id v1 = a1;
  uint64_t v2 = 3;
  switch([v1 layoutType])
  {
    case 0:
      uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      int v5 = [NSString stringWithUTF8String:"NSInteger PXExploreLayoutMetricsNumberOfGridColumns(PXExploreLayoutMetrics *__strong _Nonnull)"];
      uint64_t v6 = v4;
      long long v7 = v5;
      uint64_t v8 = 1059;
      goto LABEL_6;
    case 1:
    case 3:
      goto LABEL_3;
    case 2:
    case 4:
    case 5:
    case 6:
      uint64_t v2 = 4;
LABEL_3:

      return v2;
    default:
      uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      int v5 = [NSString stringWithUTF8String:"NSInteger PXExploreLayoutMetricsNumberOfGridColumns(PXExploreLayoutMetrics *__strong _Nonnull)"];
      uint64_t v6 = v4;
      long long v7 = v5;
      uint64_t v8 = 1071;
LABEL_6:
      [v6 handleFailureInFunction:v7 file:@"PXExploreLayoutGenerator.m" lineNumber:v8 description:@"Code which should be unreachable has been reached"];

      abort();
  }
}

void *PXExploreLayoutLargeHeroDensityPossibleValues()
{
  return &unk_1F02D4378;
}

void *PXExploreLayoutLargeHeroDensityTitles()
{
  return &unk_1F02D4390;
}

void sub_1AACD4B98(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v15 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__109512(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__109513(uint64_t a1)
{
}

void sub_1AACD84B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AACD8C14(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void getCPLSyncProgressStateKey()
{
  uint64_t v6 = 0;
  long long v7 = &v6;
  uint64_t v8 = 0x2020000000;
  id v0 = (void **)getCPLSyncProgressStateKeySymbolLoc_ptr;
  uint64_t v9 = getCPLSyncProgressStateKeySymbolLoc_ptr;
  if (!getCPLSyncProgressStateKeySymbolLoc_ptr)
  {
    uint64_t v1 = CloudPhotoLibraryLibrary();
    v7[3] = (uint64_t)dlsym(v1, "CPLSyncProgressStateKey");
    getCPLSyncProgressStateKeySymbolLoc_ptr = v7[3];
    id v0 = (void **)v7[3];
  }
  _Block_object_dispose(&v6, 8);
  if (v0)
  {
    uint64_t v2 = *v0;
    id v3 = v2;
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    int v5 = [NSString stringWithUTF8String:"NSString *getCPLSyncProgressStateKey(void)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCPLSyncActivity.m", 22, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AACDA04C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getCPLSyncProgressStateKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = CloudPhotoLibraryLibrary();
  uint64_t result = dlsym(v2, "CPLSyncProgressStateKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCPLSyncProgressStateKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *CloudPhotoLibraryLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __CloudPhotoLibraryLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DBAA10;
    uint64_t v6 = 0;
    CloudPhotoLibraryLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  id v0 = (void *)CloudPhotoLibraryLibraryCore_frameworkLibrary;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *CloudPhotoLibraryLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCPLSyncActivity.m", 21, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __CloudPhotoLibraryLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  CloudPhotoLibraryLibraryCore_frameworkLibrardouble y = result;
  return result;
}

void sub_1AACDA790(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, char a17)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void *__getCPLLibraryIdentifierSystemLibrarySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = CloudPhotoLibraryLibrary();
  uint64_t result = dlsym(v2, "CPLLibraryIdentifierSystemLibrary");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCPLLibraryIdentifierSystemLibrarySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AACDEC38(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACE09F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPDFDocumentClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!PDFKitLibraryCore_frameworkLibrary_110717)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __PDFKitLibraryCore_block_invoke_110718;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DBABD8;
    uint64_t v8 = 0;
    PDFKitLibraryCore_frameworkLibrary_110717 = _sl_dlopen();
  }
  if (!PDFKitLibraryCore_frameworkLibrary_110717)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *PDFKitLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXVisualDiagnosticsFactory.m", 28, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("PDFDocument");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getPDFDocumentClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXVisualDiagnosticsFactory.m", 29, @"Unable to find class %s", "PDFDocument");

LABEL_10:
    __break(1u);
  }
  getPDFDocumentClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PDFKitLibraryCore_block_invoke_110718()
{
  uint64_t result = _sl_dlopen();
  PDFKitLibraryCore_frameworkLibrary_110717 = result;
  return result;
}

void sub_1AACE1E88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AACE2504(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACE28D0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACE3EE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,char a45)
{
  _Block_object_dispose((const void *)(v45 - 192), 8);
  _Block_object_dispose(&a45, 8);
  _Unwind_Resume(a1);
}

void sub_1AACE4B00(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

Class __getICQBannerViewClass_block_invoke_111680(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_111689)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __iCloudQuotaUILibraryCore_block_invoke_111690;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DBACF0;
    uint64_t v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_111689 = _sl_dlopen();
  }
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_111689)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXCloudQuotaOfferController.m", 29, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("ICQBannerView");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getICQBannerViewClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudQuotaOfferController.m", 30, @"Unable to find class %s", "ICQBannerView");

LABEL_10:
    __break(1u);
  }
  getICQBannerViewClass_softClass_111679 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_111690()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_111689 = result;
  return result;
}

void sub_1AACE8DD0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACE9030(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AACE9424(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACE9630(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AACE98E0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACEB84C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__112405(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__112406(uint64_t a1)
{
}

void sub_1AACEC254(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AACECD40(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AACED4E4(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AACED8DC(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AACEDD68(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

id _localizedSuggestionTitleForDateInterval(void *a1)
{
  uint64_t v1 = _localizedSuggestionTitleForDateInterval_onceToken;
  id v2 = a1;
  if (v1 != -1) {
    dispatch_once(&_localizedSuggestionTitleForDateInterval_onceToken, &__block_literal_global_563);
  }
  id v3 = (void *)_localizedSuggestionTitleForDateInterval_calendar;
  uint64_t v4 = [MEMORY[0x1E4F1C9C8] date];
  uint64_t v5 = [v3 component:4 fromDate:v4];

  uint64_t v6 = (void *)_localizedSuggestionTitleForDateInterval_calendar;
  long long v7 = [v2 startDate];
  uint64_t v8 = [v6 component:4 fromDate:v7];

  uint64_t v9 = (void *)_localizedSuggestionTitleForDateInterval_calendar;
  id v10 = [v2 endDate];
  uint64_t v11 = [v9 component:4 fromDate:v10];

  BOOL v12 = v8 == v11 && v5 == v8;
  id v13 = &_localizedSuggestionTitleForDateInterval_onlyMonthFormatter;
  if (!v12) {
    id v13 = &_localizedSuggestionTitleForDateInterval_monthAndYearFormatter;
  }
  long long v14 = [(id)*v13 stringFromDateInterval:v2];

  return v14;
}

void ___localizedSuggestionTitleForDateInterval_block_invoke()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F28C20]);
  uint64_t v1 = (void *)_localizedSuggestionTitleForDateInterval_onlyMonthFormatter;
  _localizedSuggestionTitleForDateInterval_onlyMonthFormatter = (uint64_t)v0;

  id v2 = objc_msgSend((id)_localizedSuggestionTitleForDateInterval_onlyMonthFormatter, "px_dateTemplateForGranularity:abbreviated:onlyCalendarUnit:", 8, 0, 1);
  [(id)_localizedSuggestionTitleForDateInterval_onlyMonthFormatter setDateTemplate:v2];

  id v3 = objc_alloc_init(MEMORY[0x1E4F28C20]);
  uint64_t v4 = (void *)_localizedSuggestionTitleForDateInterval_monthAndYearFormatter;
  _localizedSuggestionTitleForDateInterval_monthAndYearFormatter = (uint64_t)v3;

  uint64_t v5 = objc_msgSend((id)_localizedSuggestionTitleForDateInterval_monthAndYearFormatter, "px_dateTemplateForGranularity:abbreviated:onlyCalendarUnit:", 8, 1, 0);
  [(id)_localizedSuggestionTitleForDateInterval_monthAndYearFormatter setDateTemplate:v5];

  uint64_t v6 = [MEMORY[0x1E4F1C9A8] autoupdatingCurrentCalendar];
  long long v7 = (void *)_localizedSuggestionTitleForDateInterval_calendar;
  _localizedSuggestionTitleForDateInterval_calendar = v6;
}

void sub_1AACEE61C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
}

void sub_1AACF09F8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXPresentationEnvironmentForSender(void *a1)
{
  if (a1)
  {
    uint64_t v1 = PXViewControllerForSender(a1);
    id v2 = +[PXViewControllerPresenter defaultPresenterWithViewController:v1];
  }
  else
  {
    id v2 = 0;
  }
  return v2;
}

void sub_1AACF6E0C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AACF71D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void PXPPTDidEndTest()
{
  PXGSimulatedLayoutGlitchDuration = 0;
  PXGSimulatedLayoutGlitchPeriod = 0;
  PXPPTCallAllTestCompletionHandlers();
}

BOOL PXPPTIsRunningScrollTest(void *a1)
{
  if (a1) {
    *a1 = (id) _PXPPTCurrentlyTestedScrollView;
  }
  return _PXPPTCurrentlyTestedScrollView != 0;
}

void PXPPTWillBeginScrollTestOnScrollView(void *a1)
{
  id v1 = a1;
  if (_PXPPTCurrentlyTestedScrollView)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void PXPPTWillBeginScrollTestOnScrollView(PXScrollView *__strong _Nonnull)"];
    [v3 handleFailureInFunction:v4, @"PXPPTDelegate.m", 39, @"Invalid parameter not satisfying: %@", @"_PXPPTCurrentlyTestedScrollView == nil" file lineNumber description];

    id v2 = (void *)_PXPPTCurrentlyTestedScrollView;
  }
  else
  {
    id v2 = 0;
  }
  _PXPPTCurrentlyTestedScrollView = (uint64_t)v1;
}

void PXPPTDidEndScrollTestOnScrollView(void *a1)
{
  id v1 = a1;
  id v4 = v1;
  if ((id)_PXPPTCurrentlyTestedScrollView != v1)
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void PXPPTDidEndScrollTestOnScrollView(PXScrollView *__strong _Nonnull)"];
    [v2 handleFailureInFunction:v3, @"PXPPTDelegate.m", 44, @"Invalid parameter not satisfying: %@", @"scrollView == _PXPPTCurrentlyTestedScrollView" file lineNumber description];

    id v1 = (id)_PXPPTCurrentlyTestedScrollView;
  }
  _PXPPTCurrentlyTestedScrollView = 0;
}

void sub_1AACF8D00(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACF98AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,char a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

uint64_t __Block_byref_object_copy__114981(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__114982(uint64_t a1)
{
}

uint64_t __Block_byref_object_copy__115174(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__115175(uint64_t a1)
{
}

void sub_1AACFB89C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACFBC88(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACFC104(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, id *location, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id a20)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(location);
  objc_destroyWeak(&a20);
  _Unwind_Resume(a1);
}

void sub_1AACFE60C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AACFED3C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((const void *)(v27 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AACFFC58(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 248), 8);
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD005A4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 208), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD02B44(_Unwind_Exception *a1)
{
}

__CFString *PXGTungstenRecordingComponentDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"unexpected";
  }
  else {
    return off_1E5DBB650[a1];
  }
}

void sub_1AAD06704(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAD06DB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35,uint64_t a36,uint64_t a37,uint64_t a38,char a39)
{
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose(&a39, 8);
  _Block_object_dispose((const void *)(v39 - 192), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__116229(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__116230(uint64_t a1)
{
}

void sub_1AAD077DC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD0881C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD0BC30(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__116743(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__116744(uint64_t a1)
{
}

uint64_t operator||(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = [a1 userData];
  uint64_t v5 = [v4 objectForKey:v3];

  if (v5) {
    uint64_t v6 = [v5 unsignedIntegerValue];
  }
  else {
    uint64_t v6 = 0;
  }

  return v6;
}

uint64_t FromZoomLevelInAnimation(void *a1)
{
  return operator||(a1, @"PXCuratedLibraryZoomLevelChangeFromKey");
}

uint64_t ToZoomLevelInAnimation(void *a1)
{
  return operator||(a1, @"PXCuratedLibraryZoomLevelChangeToKey");
}

id _PXPhotoCollectionHeaderTitleLabelFontForStyle(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) < 2)
  {
    uint64_t v2 = 3;
    uint64_t v3 = 2;
LABEL_7:
    uint64_t v1 = MEMORY[0x1AD10AAF0](v2, v3, 9);
    goto LABEL_8;
  }
  if (!a1)
  {
    uint64_t v2 = 5;
    uint64_t v3 = 0x8000;
    goto LABEL_7;
  }
  if (a1 == -1)
  {
    uint64_t v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = [NSString stringWithUTF8String:"UIFont *_PXPhotoCollectionHeaderTitleLabelFontForStyle(PXPhotosGridSectionHeaderStyle)"];
    [v5 handleFailureInFunction:v6 file:@"PXPhotosSectionHeaderView.m" lineNumber:69 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  uint64_t v1 = 0;
LABEL_8:
  return v1;
}

id _PXPhotoCollectionHeaderSubtitleFontForStyle(unint64_t a1)
{
  if (a1 >= 3)
  {
    if (a1 == -1)
    {
      uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
      id v4 = [NSString stringWithUTF8String:"UIFont *_PXPhotoCollectionHeaderSubtitleFontForStyle(PXPhotosGridSectionHeaderStyle)"];
      [v3 handleFailureInFunction:v4 file:@"PXPhotosSectionHeaderView.m" lineNumber:102 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    uint64_t v1 = 0;
  }
  else
  {
    uint64_t v1 = MEMORY[0x1AD10AAF0](6, 0x8000, 9);
  }
  return v1;
}

void _PXConfigurePhotoCollectionHeaderDateLabel(void *a1, unint64_t a2)
{
  id v3 = a1;
  _PXPhotoCollectionHeaderSubtitleFontForStyle(a2);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v3 setFont:v5];
  id v4 = [MEMORY[0x1E4FB1618] clearColor];
  [v3 setBackgroundColor:v4];
}

void _PXConfigurePhotoCollectionHeaderLocationsLabel(void *a1, unint64_t a2)
{
  id v3 = a1;
  _PXPhotoCollectionHeaderSubtitleFontForStyle(a2);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v3 setFont:v5];
  id v4 = [MEMORY[0x1E4FB1618] clearColor];
  [v3 setBackgroundColor:v4];

  [v3 setOpaque:0];
  [v3 setLineBreakMode:5];
  [v3 setNumberOfLines:1];
}

id _PXPhotoCollectionHeaderDisclosureIconForStyle(uint64_t a1)
{
  uint64_t v1 = _PXPhotoCollectionHeaderTitleLabelFontForStyle(a1);
  uint64_t v2 = [MEMORY[0x1E4FB1830] configurationWithFont:v1 scale:1];
  id v3 = [MEMORY[0x1E4FB1818] systemImageNamed:@"chevron.right"];
  id v4 = [v3 imageByApplyingSymbolConfiguration:v2];

  id v5 = [v4 imageFlippedForRightToLeftLayoutDirection];

  return v5;
}

void _PXConfigurePhotoCollectionHeaderTitleLabel(void *a1, uint64_t a2)
{
  id v3 = a1;
  _PXPhotoCollectionHeaderTitleLabelFontForStyle(a2);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v3 setFont:v5];
  id v4 = [MEMORY[0x1E4FB1618] clearColor];
  [v3 setBackgroundColor:v4];
}

__CFString *PXLibraryFilterViewModeDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXLibraryFilterViewMode: %ld", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DBBA50[a1];
  }
  return v1;
}

uint64_t PXLibraryFilterViewModeFromSharingFilter(unsigned int a1)
{
  if (a1 >= 3)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"PXLibraryFilterViewMode PXLibraryFilterViewModeFromSharingFilter(PHPhotosSharingFilter)"];
    [v2 handleFailureInFunction:v3 file:@"PXLibraryFilterCommon.m" lineNumber:41 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return qword_1AB35ADB0[a1];
}

BOOL PXLibraryFilterViewModeFromItemTag(BOOL result)
{
  if (result != 2) {
    return result == 1;
  }
  return result;
}

BOOL PXLibraryFilterItemTagFromViewMode(BOOL result)
{
  if (result != 2) {
    return result == 1;
  }
  return result;
}

__CFString *PXLibraryFilterMenuImageNameForItemTag(uint64_t a1)
{
  return PXLibraryFilterMenuImageNameForItemTagFilled(a1, 0);
}

__CFString *PXLibraryFilterMenuImageNameForItemTagFilled(uint64_t a1, int a2)
{
  if (a1 == 2)
  {
    id v3 = @"person.2";
    id v4 = @"person.2.fill";
  }
  else
  {
    if (a1 != 1)
    {
      if (a1) {
        uint64_t v2 = 0;
      }
      else {
        uint64_t v2 = @"photo.on.rectangle";
      }
      goto LABEL_11;
    }
    id v3 = @"person";
    id v4 = @"person.fill";
  }
  if (a2) {
    id v3 = v4;
  }
  uint64_t v2 = v3;
LABEL_11:
  return v2;
}

id PXLibraryFilterMenuImageForItemTag(uint64_t a1)
{
  uint64_t v1 = PXLibraryFilterMenuImageNameForItemTagFilled(a1, 0);
  if ([v1 length])
  {
    uint64_t v2 = [MEMORY[0x1E4FB1818] systemImageNamed:v1];
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

id PXLibraryFilterTitleForItemTag(unint64_t a1)
{
  if (a1 > 2)
  {
    uint64_t v2 = 0;
  }
  else
  {
    uint64_t v2 = PXLocalizedSharedLibraryString(off_1E5DD3740[a1]);
  }
  return v2;
}

id PXLibraryFilterShortTitleForItemTag(unint64_t a1)
{
  if (a1 > 2)
  {
    uint64_t v2 = 0;
  }
  else
  {
    uint64_t v2 = PXLocalizedSharedLibraryString(off_1E5DBBA68[a1]);
  }
  return v2;
}

void *PXLibraryFilterHiddenTypesForAssetCollection(void *a1)
{
  id v1 = a1;
  if ((objc_msgSend(v1, "px_isSharedAlbum") & 1) != 0
    || objc_msgSend(v1, "px_isAllLibraryDuplicatesSmartAlbum"))
  {
    uint64_t v2 = &unk_1F02D4438;
  }
  else
  {
    uint64_t v2 = (void *)MEMORY[0x1E4F1CBF0];
  }

  return v2;
}

void PXLibraryFilterSendAnalyticsForItemSelected(unint64_t a1, void *a2)
{
  v9[1] = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  id v4 = v3;
  if (a1 <= 2)
  {
    id v5 = off_1E5DBBA80[a1];
    uint64_t v6 = (void *)MEMORY[0x1E4F56658];
    uint64_t v8 = *MEMORY[0x1E4F56560];
    v9[0] = v3;
    long long v7 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v9 forKeys:&v8 count:1];
    [v6 sendEvent:v5 withPayload:v7];
  }
}

void PXLibraryFilterSendAnalyticsForDisplayedViewMode(unint64_t a1, void *a2)
{
  v9[1] = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  id v4 = v3;
  if (a1 <= 2)
  {
    id v5 = off_1E5DBBA98[a1];
    uint64_t v6 = (void *)MEMORY[0x1E4F56658];
    uint64_t v8 = *MEMORY[0x1E4F56560];
    v9[0] = v3;
    long long v7 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v9 forKeys:&v8 count:1];
    [v6 sendEvent:v5 withPayload:v7];
  }
}

uint64_t PXSharingFilterForLibraryFilter(uint64_t a1)
{
  if (a1 == 2) {
    return 1;
  }
  else {
    return 2 * (a1 != 1);
  }
}

uint64_t PXLibraryFilterViewModeFromLayoutVariant(uint64_t a1)
{
  if (a1 == 3) {
    return 2;
  }
  else {
    return a1 == 2;
  }
}

uint64_t PXLayoutVariantFromLibraryFilterViewMode(uint64_t a1)
{
  uint64_t v1 = 1;
  if (a1 == 1) {
    uint64_t v1 = 2;
  }
  if (a1 == 2) {
    return 3;
  }
  else {
    return v1;
  }
}

void PXResetSuggestedMemories(void *a1)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  uint64_t v1 = [a1 librarySpecificFetchOptions];
  uint64_t v2 = [MEMORY[0x1E4F39160] fetchBlockedMemoriesWithOptions:v1];
  id v3 = [MEMORY[0x1E4F39160] fetchMemoriesWithUserFeedbackWithOptions:v1];
  id v4 = [MEMORY[0x1E4F39310] fetchSuggestionsWithState:4 withOptions:v1];
  if ([v2 count] || objc_msgSend(v3, "count") || objc_msgSend(v4, "count"))
  {
    id v5 = [v2 fetchOptions];
    uint64_t v6 = [v5 photoLibrary];

    v11[0] = MEMORY[0x1E4F143A8];
    v11[1] = 3221225472;
    void v11[2] = __PXResetSuggestedMemories_block_invoke;
    v11[3] = &unk_1E5DD0F30;
    id v12 = v2;
    id v13 = v3;
    id v14 = v4;
    id v10 = 0;
    char v7 = [v6 performChangesAndWait:v11 error:&v10];
    id v8 = v10;
    if ((v7 & 1) == 0)
    {
      uint64_t v9 = PLUIGetLog();
      if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
      {
        *(_DWORD *)long long buf = 138412290;
        id v16 = v8;
        _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "PXMemoriesSettings: Resetting Blacklisted Memories failed with error: %@", buf, 0xCu);
      }
    }
  }
}

void __PXResetSuggestedMemories_block_invoke(id *a1)
{
  uint64_t v28 = *MEMORY[0x1E4F143B8];
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  long long v22 = 0u;
  long long v23 = 0u;
  long long v24 = 0u;
  long long v25 = 0u;
  id v3 = a1[4];
  uint64_t v4 = [v3 countByEnumeratingWithState:&v22 objects:v27 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v23;
    do
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v23 != v6) {
          objc_enumerationMutation(v3);
        }
        id v8 = *(void **)(*((void *)&v22 + 1) + 8 * i);
        uint64_t v9 = [v8 blacklistedFeature];
        uint64_t v10 = [v9 type];

        if (v10 != 1)
        {
          if ([v8 category] == 401)
          {
            [v2 addObject:v8];
          }
          else
          {
            uint64_t v11 = [MEMORY[0x1E4F39170] changeRequestForMemory:v8];
            [v11 setBlacklistedFeature:0];
          }
        }
      }
      uint64_t v5 = [v3 countByEnumeratingWithState:&v22 objects:v27 count:16];
    }
    while (v5);
  }

  [MEMORY[0x1E4F39170] deleteMemories:v2];
  long long v20 = 0u;
  long long v21 = 0u;
  long long v18 = 0u;
  long long v19 = 0u;
  id v12 = a1[5];
  uint64_t v13 = [v12 countByEnumeratingWithState:&v18 objects:v26 count:16];
  if (v13)
  {
    uint64_t v14 = v13;
    uint64_t v15 = *(void *)v19;
    do
    {
      for (uint64_t j = 0; j != v14; ++j)
      {
        if (*(void *)v19 != v15) {
          objc_enumerationMutation(v12);
        }
        uint64_t v17 = objc_msgSend(MEMORY[0x1E4F39170], "changeRequestForMemory:", *(void *)(*((void *)&v18 + 1) + 8 * j), (void)v18);
        [v17 setUserFeedback:0];
      }
      uint64_t v14 = [v12 countByEnumeratingWithState:&v18 objects:v26 count:16];
    }
    while (v14);
  }

  if ([a1[6] count]) {
    [MEMORY[0x1E4F39318] deleteSuggestions:a1[6]];
  }
}

uint64_t PXResetPeopleFeedback(uint64_t a1)
{
  return +[PXPeopleUtilities unblockPersonsInLibrary:a1 completion:&__block_literal_global_118461];
}

void __PXResetPeopleFeedback_block_invoke(uint64_t a1, char a2, void *a3)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  if (v4 || (a2 & 1) == 0)
  {
    uint64_t v5 = PLUIGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      int v6 = 138412290;
      id v7 = v4;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "SettingsBaseController: resetting blocked persons failed with error: %@", (uint8_t *)&v6, 0xCu);
    }
  }
}

void sub_1AAD1AED0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD1B248(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

uint64_t PXDetailsViewCurationLengthFromDisplayAssetCollectionCurationLength(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 4) {
    return 0;
  }
  else {
    return qword_1AB35ADE0[a1 - 1];
  }
}

void sub_1AAD1C2C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD1C398(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__119675(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__119676(uint64_t a1)
{
}

id PXCuratedLibraryAnalyticsIntervalNameForAllPhotosWithColumns(uint64_t a1)
{
  uint64_t v1 = objc_msgSend([NSString alloc], "initWithFormat:", @"com.apple.photos.CPAnalytics.curatedLibraryAllPhotos%liColumnsDisplayed", a1);
  return v1;
}

void sub_1AAD1CDE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD1D334(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__119986(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__119987(uint64_t a1)
{
}

void sub_1AAD1E064(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 208));
  _Unwind_Resume(a1);
}

void sub_1AAD1F92C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

void sub_1AAD21B2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD23264(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  va_start(va1, a12);
  va_start(va, a12);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v12 - 232), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD23A30(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXRegionOfInterestForAssetReference(void *a1, void *a2, void *a3, uint64_t *a4, void *a5)
{
  uint64_t v57 = *MEMORY[0x1E4F143B8];
  id v8 = a1;
  id v9 = a2;
  id v10 = a3;
  id v36 = a5;
  uint64_t v11 = [v9 spriteReferenceForObjectReference:v10];
  uint64_t v12 = [v8 regionOfInterestForSpriteReference:v11];
  uint64_t v43 = 0;
  __int16 v44 = &v43;
  uint64_t v45 = 0x2020000000;
  char v46 = 0;
  uint64_t v13 = [v10 asset];
  int v14 = [v13 representsBurst];

  if (v14)
  {
    unsigned int v15 = [v9 spriteIndexForSpriteReference:v11 options:0];
    if (v15 != -1)
    {
      unsigned int v42 = 0;
      memset(v41, 0, sizeof(v41));
      long long v55 = 0u;
      long long v56 = 0u;
      long long v53 = 0u;
      long long v54 = 0u;
      long long v51 = 0u;
      long long v52 = 0u;
      long long v49 = 0u;
      long long v50 = 0u;
      long long v47 = 0u;
      long long v48 = 0u;
      uint64_t v40 = 0;
      uint64_t v16 = v15 | 0x100000000;
      long long v38 = 0u;
      long long v39 = 0u;
      [v9 copyLayoutForSpritesInRange:v16 entities:&v42 geometries:v41 styles:&v47 infos:&v38];
      uint64_t v17 = [v9 entityManager];
      uint64_t v18 = [v17 effectComponent];

      id v19 = v18;
      uint64_t v20 = [v19 effectIds];
      if (*(_DWORD *)(v20 + 4 * v42))
      {
        long long v21 = objc_msgSend(v19, "effectForId:");
        objc_opt_class();
        if (objc_opt_isKindOfClass()) {
          *((unsigned char *)v44 + 24) = 1;
        }
      }
      if (*((unsigned char *)v44 + 24)
        || (v37[0] = MEMORY[0x1E4F143A8],
            v37[1] = 3221225472,
            v37[2] = __PXRegionOfInterestForAssetReference_block_invoke,
            v37[3] = &unk_1E5DC2218,
            void v37[4] = &v43,
            [v9 enumerateLayoutsForSpritesInRange:v16 options:1 usingBlock:v37],
            *((unsigned char *)v44 + 24)))
      {
        long long v22 = [v12 coordinateSpace];
        [v12 rectInCoordinateSpace:v22];

        PXGRectForTopItemInBurstStackWithRect();
      }
    }
  }
  if (PXGShouldApplyCleanApertureCropForSpriteIndexInLayout([v9 spriteIndexForSpriteReference:v11], v9))
  {
    long long v23 = [v10 asset];
    BOOL v24 = [v23 playbackStyle] == 3;

    if (v24)
    {
      [v12 imageContentsRect];
      PXRectGetCenter();
    }
  }
  if (a4)
  {
    uint64_t v25 = [v8 textureSnapshotForSpriteReference:v11];
    uint64_t v26 = v25;
    if (v36)
    {
      if (v25 && !*((unsigned char *)v44 + 24))
      {
LABEL_23:
        *a4 = v26;
        goto LABEL_24;
      }
      id v27 = v10;
      id v28 = v36;
      *(void *)&long long v38 = 0;
      *((void *)&v38 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = &v38;
      long long v39 = 0x2020000000uLL;
      id v29 = objc_alloc_init((Class)off_1E5DA6E70);
      [v29 setNetworkAccessAllowed:0];
      [v29 setSynchronous:1];
      uint64_t v30 = [v27 asset];
      *(void *)&long long v47 = MEMORY[0x1E4F143A8];
      *((void *)&v47 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
      *(void *)&long long v48 = ___fallbackImageForAssetReference_block_invoke;
      *((void *)&v48 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = &unk_1E5DBC1B8;
      *((void *)&v49 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = &v38;
      id v31 = v27;
      *(void *)&long long v49 = v31;
      objc_msgSend(v28, "requestCGImageForAsset:targetSize:contentMode:options:resultHandler:", v30, 0, v29, &v47, 256.0, 256.0);

      uint64_t v32 = *(CGImage **)(*((void *)&v38 + 1) + 24);
      if (v32)
      {
        CGImageRef v33 = CGImageRetain(v32);
        uint64_t v26 = (uint64_t)CFAutorelease(v33);
        *(void *)(*((void *)&v38 + 1) + 24) = v26;
      }
      else
      {
        uint64_t v26 = 0;
      }

      _Block_object_dispose(&v38, 8);
    }
    if (!v26) {
      goto LABEL_24;
    }
    goto LABEL_23;
  }
LABEL_24:
  _Block_object_dispose(&v43, 8);

  return v12;
}

void sub_1AAD247BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

void __PXRegionOfInterestForAssetReference_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  id v4 = [v6 contentSource];
  if ([v4 conformsToProtocol:&unk_1F03263A8])
  {
    uint64_t v5 = [v6 contentSource];

    if (v5 && ([v5 supportedDisplayAssetPresentationStylesInLayout:v6] & 4) != 0) {
      *(unsigned char *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = 1;
    }
  }
  else
  {

    uint64_t v5 = 0;
  }
}

void ___fallbackImageForAssetReference_block_invoke(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v6 = a4;
  *(void *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = a2;
  if (!*(void *)(*(void *)(*(void *)(a1 + 40) + 8) + 24))
  {
    id v7 = PLUIGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v8 = *(void *)(a1 + 32);
      id v9 = [v6 objectForKeyedSubscript:*MEMORY[0x1E4F39698]];
      int v10 = 138412546;
      uint64_t v11 = v8;
      __int16 v12 = 2112;
      uint64_t v13 = v9;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "Failed to request fallback image for assetReference: %@ with error: %@", (uint8_t *)&v10, 0x16u);
    }
  }
}

void sub_1AAD26018(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__120518(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__120519(uint64_t a1)
{
}

void sub_1AAD2B9B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__121316(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__121317(uint64_t a1)
{
}

__CFString *PXSmartAlbumPhotoTypeDebugDescription(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      id v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
      id v7 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumPhotoTypeDebugDescription(PXSmartAlbumPhotoType)"];
      [v6 handleFailureInFunction:v7 file:@"PXSmartAlbumPhotoType.m" lineNumber:23 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      uint64_t result = @"adjusted";
      break;
    case 2:
      uint64_t result = @"animated";
      break;
    case 3:
      uint64_t result = @"burst";
      break;
    case 4:
      uint64_t result = @"favorite";
      break;
    case 5:
      uint64_t result = @"hdr";
      break;
    case 6:
      uint64_t result = @"hidden";
      break;
    case 7:
      uint64_t result = @"live";
      break;
    case 8:
      uint64_t result = @"movie";
      break;
    case 9:
      uint64_t result = @"panorama";
      break;
    case 10:
      uint64_t result = @"raw";
      break;
    case 11:
      uint64_t result = @"referenced";
      break;
    case 12:
      uint64_t result = @"sdof";
      break;
    case 13:
      uint64_t result = @"screenshot";
      break;
    case 14:
      uint64_t result = @"selfie";
      break;
    case 15:
      uint64_t result = @"slo-mo";
      break;
    case 16:
      uint64_t result = @"tagged-with-gps";
      break;
    case 17:
      uint64_t result = @"time-lapse";
      break;
    case 18:
      uint64_t result = @"unable-to-upload-to-icloud";
      break;
    case 19:
      uint64_t result = @"proRes";
      break;
    case 20:
      uint64_t result = @"screen-recording";
      break;
    case 21:
      uint64_t result = @"long-exposure";
      break;
    case 22:
      uint64_t result = @"cinematic";
      break;
    case 23:
      uint64_t result = @"spatial";
      break;
    default:
      uint64_t result = 0;
      break;
  }
  return result;
}

uint64_t PXSmartAlbumPhotoTypeForSingleQuery(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v5 = [MEMORY[0x1E4F28B00] currentHandler];
    id v6 = [NSString stringWithUTF8String:"PXSmartAlbumPhotoType PXSmartAlbumPhotoTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
    [v5 handleFailureInFunction:v6, @"PXSmartAlbumPhotoType.m", 99, @"Invalid parameter not satisfying: %@", @"singleQuery" file lineNumber description];
  }
  int v2 = [v1 key];
  uint64_t v3 = 4;
  switch(v2)
  {
    case 0:
      id v7 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v8 = [NSString stringWithUTF8String:"PXSmartAlbumPhotoType PXSmartAlbumPhotoTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
      id v9 = v7;
      int v10 = v8;
      uint64_t v11 = 105;
LABEL_35:
      [v9 handleFailureInFunction:v10 file:@"PXSmartAlbumPhotoType.m" lineNumber:v11 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      goto LABEL_17;
    case 2:
      uint64_t v3 = 6;
      goto LABEL_17;
    case 3:
      uint64_t v3 = 1;
      goto LABEL_17;
    case 4:
      uint64_t v3 = 10;
      goto LABEL_17;
    case 5:
      switch([v1 integerValue])
      {
        case 0u:
          id v7 = [MEMORY[0x1E4F28B00] currentHandler];
          uint64_t v8 = [NSString stringWithUTF8String:"PXSmartAlbumPhotoType PXSmartAlbumPhotoTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
          id v9 = v7;
          int v10 = v8;
          uint64_t v11 = 127;
          goto LABEL_35;
        case 1u:
          PXAssertGetLog();
        case 2u:
          uint64_t v3 = 8;
          goto LABEL_17;
        case 3u:
          uint64_t v3 = 7;
          goto LABEL_17;
        case 4u:
          uint64_t v3 = 9;
          goto LABEL_17;
        case 5u:
          uint64_t v3 = 17;
          goto LABEL_17;
        case 6u:
          uint64_t v3 = 15;
          goto LABEL_17;
        case 7u:
          uint64_t v3 = 13;
          goto LABEL_17;
        case 8u:
          uint64_t v3 = 12;
          goto LABEL_17;
        case 9u:
          uint64_t v3 = 5;
          goto LABEL_17;
        case 0xAu:
          uint64_t v3 = 2;
          goto LABEL_17;
        case 0xBu:
          uint64_t v3 = 14;
          goto LABEL_17;
        case 0xCu:
          uint64_t v3 = 3;
          goto LABEL_17;
        case 0xDu:
          PXAssertGetLog();
        case 0xEu:
          uint64_t v3 = 20;
          goto LABEL_17;
        case 0xFu:
          uint64_t v3 = 21;
          goto LABEL_17;
        case 0x10u:
          uint64_t v3 = 22;
          goto LABEL_17;
        case 0x11u:
          uint64_t v3 = 23;
          goto LABEL_17;
        default:
          uint64_t v3 = 0;
          goto LABEL_17;
      }
    case 6:
      uint64_t v3 = 11;
      goto LABEL_17;
    case 7:
    case 8:
      goto LABEL_8;
    case 9:
      uint64_t v3 = 19;
      goto LABEL_17;
    default:
      if (v2 == 319)
      {
        uint64_t v3 = 16;
      }
      else
      {
        if (v2 != 1000) {
LABEL_8:
        }
          PXAssertGetLog();
        uint64_t v3 = 18;
      }
LABEL_17:

      return v3;
  }
}

void sub_1AAD2D4B4(_Unwind_Exception *a1)
{
}

void sub_1AAD2E1A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__121923(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__121924(uint64_t a1)
{
}

__CFString *PXContentSyndicationDataSourceTypeDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 6) {
    return @"PXContentSyndicationDataSourceTypeDefault";
  }
  else {
    return off_1E5DBC498[a1 - 1];
  }
}

void sub_1AAD31608(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, id *location, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,char a62,uint64_t a63)
{
  _Block_object_dispose(&a62, 8);
  _Block_object_dispose(&a66, 8);
  _Block_object_dispose(&a70, 8);
  _Block_object_dispose(&STACK[0x208], 8);
  _Block_object_dispose(&STACK[0x228], 8);
  objc_destroyWeak(location);
  objc_destroyWeak((id *)&STACK[0x270]);
  _Block_object_dispose(&STACK[0x278], 8);
  _Unwind_Resume(a1);
}

void sub_1AAD3208C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD3395C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

Class __getAAUIGenericTermsRemoteUIClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!AppleAccountUILibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __AppleAccountUILibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DBC5C8;
    uint64_t v8 = 0;
    AppleAccountUILibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  if (!AppleAccountUILibraryCore_frameworkLibrary)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *AppleAccountUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXCloudPhotoWelcomeViewController.m", 48, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("AAUIGenericTermsRemoteUI");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"Class getAAUIGenericTermsRemoteUIClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudPhotoWelcomeViewController.m", 49, @"Unable to find class %s", "AAUIGenericTermsRemoteUI");

LABEL_10:
    __break(1u);
  }
  getAAUIGenericTermsRemoteUIClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AAD33CE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getICQUICloudStorageOffersManagerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_122595)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __iCloudQuotaUILibraryCore_block_invoke_122596;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    v6[5] = v6;
    long long v7 = xmmword_1E5DBC5E0;
    uint64_t v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_122595 = _sl_dlopen();
  }
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_122595)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXCloudPhotoWelcomeViewController.m", 42, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("ICQUICloudStorageOffersManager");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"Class getICQUICloudStorageOffersManagerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudPhotoWelcomeViewController.m", 43, @"Unable to find class %s", "ICQUICloudStorageOffersManager");

LABEL_10:
    __break(1u);
  }
  getICQUICloudStorageOffersManagerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_122596()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_122595 = result;
  return result;
}

uint64_t __AppleAccountUILibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  AppleAccountUILibraryCore_frameworkLibrardouble y = result;
  return result;
}

void sub_1AAD349B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getMCProfileConnectionClass_block_invoke_122620(uint64_t a1)
{
  ManagedConfigurationLibrary_122623();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("MCProfileConnection");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getMCProfileConnectionClass_softClass_122619 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    int v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"Class getMCProfileConnectionClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudPhotoWelcomeViewController.m", 52, @"Unable to find class %s", "MCProfileConnection");

    __break(1u);
  }
}

void *__getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_block_invoke_122622(uint64_t a1)
{
  int v2 = ManagedConfigurationLibrary_122623();
  uint64_t result = dlsym(v2, "MCFeatureCloudPhotoLibraryAllowed");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getMCFeatureCloudPhotoLibraryAllowedSymbolLoc_ptr_122621 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *ManagedConfigurationLibrary_122623()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary_122626)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __ManagedConfigurationLibraryCore_block_invoke_122627;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DBC5B0;
    uint64_t v6 = 0;
    ManagedConfigurationLibraryCore_frameworkLibrary_122626 = _sl_dlopen();
  }
  id v0 = (void *)ManagedConfigurationLibraryCore_frameworkLibrary_122626;
  if (!ManagedConfigurationLibraryCore_frameworkLibrary_122626)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"void *ManagedConfigurationLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudPhotoWelcomeViewController.m", 51, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __ManagedConfigurationLibraryCore_block_invoke_122627()
{
  uint64_t result = _sl_dlopen();
  ManagedConfigurationLibraryCore_frameworkLibrary_122626 = result;
  return result;
}

id _ContactFetchQueue()
{
  if (_ContactFetchQueue_onceToken != -1) {
    dispatch_once(&_ContactFetchQueue_onceToken, &__block_literal_global_122877);
  }
  id v0 = (void *)_ContactFetchQueue_contactFetchQueue;
  return v0;
}

void sub_1AAD365A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v11 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__122888(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__122889(uint64_t a1)
{
}

void sub_1AAD36FF4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAD3743C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
}

void sub_1AAD37598(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

__CFString *PXSharedLibraryAssistantModeDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryAssistantMode: %ld", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DBC620[a1];
  }
  return v1;
}

uint64_t PXCPLIsInTestReadonlyMode()
{
  if (PXCPLIsInTestReadonlyMode_onceToken != -1) {
    dispatch_once(&PXCPLIsInTestReadonlyMode_onceToken, &__block_literal_global_123255);
  }
  return PXCPLIsInTestReadonlyMode_isInTestReadOnlyMode;
}

void __PXCPLIsInTestReadonlyMode_block_invoke()
{
  id v0 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
  PXCPLIsInTestReadonlyMode_isInTestReadOnlyMode = [v0 BOOLForKey:@"CPLTestReadOnlyMode"];
}

uint64_t PXCPLNumberOfCalendarUnitsBetweenDates(uint64_t a1, void *a2, void *a3, void *a4)
{
  id v7 = a2;
  id v8 = a3;
  id v9 = a4;
  if (v7)
  {
    if (v8) {
      goto LABEL_3;
    }
LABEL_6:
    uint64_t v17 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v18 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)");
    [v17 handleFailureInFunction:v18, @"PXCPLStatusUtilities.m", 28, @"Invalid parameter not satisfying: %@", @"toDate" file lineNumber description];

    if (v9) {
      goto LABEL_4;
    }
LABEL_7:
    id v19 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v20 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)");
    [v19 handleFailureInFunction:v20, @"PXCPLStatusUtilities.m", 29, @"Invalid parameter not satisfying: %@", @"calendar" file lineNumber description];

    goto LABEL_4;
  }
  unsigned int v15 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v16 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger PXCPLNumberOfCalendarUnitsBetweenDates(NSCalendarUnit, NSDate *__strong _Nonnull, NSDate *__strong _Nonnull, NSCalendar *__strong _Nonnull)");
  [v15 handleFailureInFunction:v16, @"PXCPLStatusUtilities.m", 27, @"Invalid parameter not satisfying: %@", @"fromDate" file lineNumber description];

  if (!v8) {
    goto LABEL_6;
  }
LABEL_3:
  if (!v9) {
    goto LABEL_7;
  }
LABEL_4:
  int v10 = objc_msgSend(v7, "px_dateTruncatedToCalendarUnit:calendar:", a1, v9);
  uint64_t v11 = objc_msgSend(v8, "px_dateTruncatedToCalendarUnit:calendar:", a1, v9);
  __int16 v12 = [v9 components:a1 fromDate:v10 toDate:v11 options:1];
  uint64_t v13 = [v12 valueForComponent:a1];

  return v13;
}

uint64_t PXCPLNumberOfCalendarUnitsUntilDate(uint64_t a1, void *a2)
{
  uint64_t v3 = (void *)MEMORY[0x1E4F1C9C8];
  id v4 = a2;
  long long v5 = [v3 date];
  uint64_t v6 = [MEMORY[0x1E4F1C9A8] currentCalendar];
  uint64_t v7 = PXCPLNumberOfCalendarUnitsBetweenDates(a1, v5, v4, v6);

  return v7;
}

uint64_t PXCPLNumberOfCalendarDaysBetweenDates(void *a1, void *a2, void *a3)
{
  return PXCPLNumberOfCalendarUnitsBetweenDates(16, a1, a2, a3);
}

uint64_t PXCPLNumberOfCalendarDaysUntilDate(void *a1)
{
  return PXCPLNumberOfCalendarUnitsUntilDate(16, a1);
}

uint64_t PXCPLFractionToPercentCompleted(float a1)
{
  if (a1 < 0.0) {
    return -1;
  }
  uint64_t v2 = vcvtps_s32_f32(a1 * 100.0);
  if (v2 >= 100) {
    return 100;
  }
  else {
    return v2;
  }
}

float PXCPLPercentToFractionCompleted(uint64_t a1)
{
  if (a1 < 0) {
    return -1.0;
  }
  float result = (double)a1 / 100.0;
  if (result > 1.0) {
    return 1.0;
  }
  return result;
}

id _DictionaryRepresentationToString(void *a1)
{
  v15[48] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    int v10 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v11 = [NSString stringWithUTF8String:"NSString *_DictionaryRepresentationToString(NSDictionary<NSString *,id> *__strong)"];
    [v10 handleFailureInFunction:v11, @"PXCPLStatus_Serialization.m", 124, @"Invalid parameter not satisfying: %@", @"dictionaryRepresentation" file lineNumber description];
  }
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v15[0] = @"enabled";
  v15[1] = @"local-mode";
  v15[2] = @"rebuild";
  v15[3] = @"thumbnails";
  void v15[4] = @"syncing";
  v15[5] = @"upload";
  v15[6] = @"progress";
  v15[7] = @"add";
  v15[8] = @"download";
  v15[9] = @"offline";
  v15[10] = @"soft-reset";
  v15[11] = @"hard-reset";
  v15[12] = @"cloud-quota";
  v15[13] = @"offer";
  v15[14] = @"quota-state";
  v15[15] = @"low-disk-space";
  v15[16] = @"very-low-disk-space";
  v15[17] = @"battery-budget";
  v15[18] = @"cellular-budget";
  v15[19] = @"cellular-disabled";
  v15[20] = @"airplane-mode";
  v15[21] = @"user";
  v15[22] = @"low-data-mode";
  v15[23] = @"low-power-mode";
  v15[24] = @"version";
  v15[25] = @"authenticate";
  v15[26] = @"capture-snapshot";
  v15[27] = @"optimizing-system-performance";
  v15[28] = @"poor-network-connection";
  v15[29] = @"moderate-thermal-pressure";
  v15[30] = @"heavy-thermal-pressure";
  v15[31] = @"low-battery";
  v15[32] = @"sync-date";
  v15[33] = @"exit-date";
  v15[34] = @"failed";
  v15[35] = @"referenced";
  v15[36] = @"photos";
  v15[37] = @"videos";
  v15[38] = @"others";
  v15[39] = @"shared-library-state";
  v15[40] = @"shared-library-exiting-count";
  v15[41] = @"move-to-shared";
  v15[42] = @"move-to-personal";
  v15[43] = @"shared-library-cloud-quota";
  v15[44] = @"upgrade-suggested";
  v15[45] = @"quota-custom-title";
  v15[46] = @"quota-custom-message";
  v15[47] = @"quota-custom-action-title";
  uint64_t v3 = [MEMORY[0x1E4F1C978] arrayWithObjects:v15 count:48];
  v12[0] = MEMORY[0x1E4F143A8];
  v12[1] = 3221225472;
  void v12[2] = ___DictionaryRepresentationToString_block_invoke;
  v12[3] = &unk_1E5DBC640;
  id v13 = v1;
  id v14 = v2;
  id v4 = v2;
  id v5 = v1;
  [v3 enumerateObjectsUsingBlock:v12];

  uint64_t v6 = [v4 componentsJoinedByString:@"; "];
  uint64_t v7 = [@"{" stringByAppendingString:v6];
  id v8 = [v7 stringByAppendingString:@"}"];

  return v8;
}

id _SerializationDateFormatter()
{
  if (_SerializationDateFormatter_predicate != -1) {
    dispatch_once(&_SerializationDateFormatter_predicate, &__block_literal_global_123611);
  }
  id v0 = (void *)_SerializationDateFormatter__dateFormatter;
  return v0;
}

id _DateForPlaceholderString(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = v3;
  id v6 = objc_alloc_init(MEMORY[0x1E4F1C9D8]);
  if (![v5 isEqualToString:@"__SYNC_DATE__"])
  {
    if ([v5 isEqualToString:@"__SYNC_DATE_SECONDS__"])
    {
      [v6 setSecond:-2];
      goto LABEL_16;
    }
    if ([v5 isEqualToString:@"__SYNC_DATE_HOURS__"])
    {
      [v6 setHour:-2];
      goto LABEL_16;
    }
    if ([v5 isEqualToString:@"__SYNC_DATE_YESTERDAY__"])
    {
      uint64_t v7 = v6;
      uint64_t v8 = -1;
    }
    else
    {
      if (![v5 isEqualToString:@"__SYNC_DATE_DAYS__"])
      {
        if ([v5 isEqualToString:@"__SYNC_DATE_WEEKS__"])
        {
          uint64_t v7 = v6;
          uint64_t v8 = -14;
          goto LABEL_15;
        }
        if ([v5 isEqualToString:@"__EXIT_DATE__"])
        {
          uint64_t v7 = v6;
          uint64_t v8 = 25;
          goto LABEL_15;
        }
        if (![v5 isEqualToString:@"__EXIT_DATE_PAST__"])
        {

          id v6 = 0;
          uint64_t v11 = 0;
          int v10 = v5;
          goto LABEL_21;
        }
      }
      uint64_t v7 = v6;
      uint64_t v8 = -2;
    }
LABEL_15:
    [v7 setDay:v8];
    goto LABEL_16;
  }
  [v6 setMinute:-2];
LABEL_16:

  if (!v6)
  {
    uint64_t v11 = 0;
    goto LABEL_22;
  }
  id v9 = [MEMORY[0x1E4F1C9A8] currentCalendar];
  int v10 = v9;
  if (v4)
  {
    uint64_t v11 = [v9 dateByAddingComponents:v6 toDate:v4 options:0];
  }
  else
  {
    __int16 v12 = [MEMORY[0x1E4F1C9C8] now];
    uint64_t v11 = [v10 dateByAddingComponents:v6 toDate:v12 options:0];
  }
LABEL_21:

LABEL_22:
  return v11;
}

void sub_1AAD3AE60(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__123645(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__123646(uint64_t a1)
{
}

uint64_t PXQuadTreeNodeRunCollector(double *a1, uint64_t a2)
{
  while (1)
  {
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t, uint64_t, BOOL, double, double, double, double))(a2 + 16))(a2, *((void *)a1 + 4), *((void *)a1 + 5), *((void *)a1 + 10), *((void *)a1 + 11), *(void *)a1 == 0, a1[6], a1[7], a1[8], a1[9]);
    uint64_t result = *(void *)a1;
    if (!*(void *)a1) {
      break;
    }
    PXQuadTreeNodeRunCollector(result, a2);
    PXQuadTreeNodeRunCollector(*((void *)a1 + 1), a2);
    PXQuadTreeNodeRunCollector(*((void *)a1 + 2), a2);
    a1 = (double *)*((void *)a1 + 3);
  }
  return result;
}

void sub_1AAD3B37C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t mapPointComparator(double *a1, double *a2)
{
  if (*a1 >= *a2) {
    unsigned int v2 = 0;
  }
  else {
    unsigned int v2 = -1;
  }
  if (*a1 > *a2) {
    return 1;
  }
  else {
    return v2;
  }
}

uint64_t PXQuadTreeNodeFindItemsInRect(uint64_t *a1, uint64_t a2, double a3, double a4, double a5, double a6)
{
  while (1)
  {
    v16.origin.double x = a3;
    v16.origin.double y = a4;
    v16.size.double width = a5;
    v16.size.double height = a6;
    uint64_t result = MKMapRectIntersectsRect(*(MKMapRect *)(a1 + 6), v16);
    if (!result) {
      break;
    }
    if (a1[5])
    {
      uint64_t v13 = 0;
      unint64_t v14 = 0;
      do
      {
        v15.origin.double x = a3;
        v15.origin.double y = a4;
        v15.size.double width = a5;
        v15.size.double height = a6;
        if (MKMapRectContainsPoint(v15, *(MKMapPoint *)(a1[11] + v13))) {
          (*(void (**)(uint64_t, uint64_t))(a2 + 16))(a2, [(id)a1[10] objectAtIndex:v14]);
        }
        ++v14;
        v13 += 16;
      }
      while (v14 < a1[5]);
    }
    uint64_t result = *a1;
    if (!*a1) {
      break;
    }
    PXQuadTreeNodeFindItemsInRect(result, a2, a3, a4, a5, a6);
    PXQuadTreeNodeFindItemsInRect(a1[1], a2, a3, a4, a5, a6);
    PXQuadTreeNodeFindItemsInRect(a1[2], a2, a3, a4, a5, a6);
    a1 = (uint64_t *)a1[3];
  }
  return result;
}

BOOL PXQuadTreeNodeRemoveItem(uint64_t a1, uint64_t a2, void *a3, double a4, double a5)
{
  v16.double x = a4;
  v16.double y = a5;
  BOOL result = MKMapRectContainsPoint(*(MKMapRect *)(a1 + 48), v16);
  if (result)
  {
    if (*(void *)(a1 + 40)
      && (PXQuadTreeNodeOptimize(a1, a3),
          uint64_t v11 = [*(id *)(a1 + 80) indexOfObject:a2],
          v11 != 0x7FFFFFFFFFFFFFFFLL))
    {
      unint64_t v12 = v11;
      [*(id *)(a1 + 80) removeObjectAtIndex:v11];
      uint64_t v13 = (char *)malloc_type_malloc(16 * *(void *)(a1 + 32), 0x1000040451B5BE8uLL);
      unint64_t v14 = v13;
      if (v12) {
        memcpy(v13, *(const void **)(a1 + 88), 16 * v12);
      }
      uint64_t v15 = *(void *)(a1 + 40);
      if (v12 < v15 - 1) {
        memcpy(&v14[16 * v12], (const void *)(*(void *)(a1 + 88) + 16 * v12 + 16), 16 * (v15 + ~v12));
      }
      free(*(void **)(a1 + 88));
      *(void *)(a1 + 8_Block_object_dispose(&STACK[0x350], 8) = v14;
      --*(void *)(a1 + 40);
      if (a3) {
        ++*a3;
      }
    }
    else if (!*(void *)a1 {
           || (PXQuadTreeNodeRemoveItem(*(void *)a1, a2, a3, a4, a5) & 1) == 0
    }
           && (PXQuadTreeNodeRemoveItem(*(void *)(a1 + 8), a2, a3, a4, a5) & 1) == 0
           && (PXQuadTreeNodeRemoveItem(*(void *)(a1 + 16), a2, a3, a4, a5) & 1) == 0
           && (PXQuadTreeNodeRemoveItem(*(void *)(a1 + 24), a2, a3, a4, a5) & 1) == 0)
    {
      return 0;
    }
    return 1;
  }
  return result;
}

uint64_t PXQuadTreeNodeInsertItem(uint64_t a1, uint64_t a2, double a3, double a4)
{
  while (1)
  {
    v19.double x = a3;
    v19.double y = a4;
    BOOL v8 = MKMapRectContainsPoint(*(MKMapRect *)(a1 + 48), v19);
    if (!v8) {
      break;
    }
    unint64_t v9 = *(void *)(a1 + 32);
    unint64_t v10 = *(void *)(a1 + 40);
    if (v9 <= v10 && *(double *)(a1 + 64) < 500.0)
    {
      PXQuadTreeNodeExtendCapacity(a1);
      unint64_t v9 = *(void *)(a1 + 32);
      unint64_t v10 = *(void *)(a1 + 40);
    }
    if (v9 > v10)
    {
      unint64_t v15 = [*(id *)(a1 + 80) count];
      [*(id *)(a1 + 80) addObject:a2];
      if ([*(id *)(a1 + 80) count] <= v15) {
        return 0;
      }
      uint64_t v16 = *(void *)(a1 + 40);
      uint64_t v17 = (double *)(*(void *)(a1 + 88) + 16 * v16);
      *uint64_t v17 = a3;
      v17[1] = a4;
      *(void *)(a1 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v16 + 1;
      return 1;
    }
    uint64_t v11 = *(void *)a1;
    if (!*(void *)a1)
    {
      PXQuadTreeNodeSubdivide(a1);
      PXQuadTreeNodeMoveItemsToChildNodes(a1);
      uint64_t v11 = *(void *)a1;
    }
    PXQuadTreeNodeInsertItem(v11, a2, a3, a4);
    if (v12) {
      return v8;
    }
    PXQuadTreeNodeInsertItem(*(void *)(a1 + 8), a2, a3, a4);
    if (v13) {
      return v8;
    }
    PXQuadTreeNodeInsertItem(*(void *)(a1 + 16), a2, a3, a4);
    if (v14) {
      return v8;
    }
    a1 = *(void *)(a1 + 24);
  }
  return v8;
}

void PXQuadTreeNodeExtendCapacity(uint64_t a1)
{
  uint64_t v2 = *(void *)(a1 + 32);
  if (*(void *)(a1 + 88))
  {
    id v3 = malloc_type_malloc(32 * v2, 0x1000040451B5BE8uLL);
    memcpy(v3, *(const void **)(a1 + 88), 16 * *(void *)(a1 + 40));
    free(*(void **)(a1 + 88));
    *(void *)(a1 + 8_Block_object_dispose(&STACK[0x350], 8) = v3;
  }
  *(void *)(a1 + 32) = 2 * v2;
}

double *PXQuadTreeNodeSubdivide(uint64_t a1)
{
  double v2 = *(double *)(a1 + 48);
  double v3 = *(double *)(a1 + 56);
  double v4 = *(double *)(a1 + 64) * 0.5;
  double v5 = *(double *)(a1 + 72) * 0.5;
  *(void *)a1 = PXQuadTreeNodeMake(*(void *)(a1 + 32), v2 + v4, v3 + v5, v4, v5);
  *(void *)(a1 + _Block_object_dispose(&STACK[0x350], 8) = PXQuadTreeNodeMake(*(void *)(a1 + 32), v2, v3 + v5, v4, v5);
  *(void *)(a1 + 16) = PXQuadTreeNodeMake(*(void *)(a1 + 32), v2, v3, v4, v5);
  BOOL result = PXQuadTreeNodeMake(*(void *)(a1 + 32), v2 + v4, v3, v4, v5);
  *(void *)(a1 + 24) = result;
  return result;
}

void PXQuadTreeNodeMoveItemsToChildNodes(uint64_t a1)
{
  if (*(void *)(a1 + 40))
  {
    uint64_t v2 = 0;
    unint64_t v3 = 0;
    do
    {
      double v4 = (double *)(*(void *)(a1 + 88) + v2);
      double v5 = *v4;
      double v6 = v4[1];
      uint64_t v7 = [*(id *)(a1 + 80) objectAtIndex:v3];
      PXQuadTreeNodeInsertItem(*(void *)a1, v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(void *)(a1 + 8), v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(void *)(a1 + 16), v7, v5, v6);
      PXQuadTreeNodeInsertItem(*(void *)(a1 + 24), v7, v5, v6);
      ++v3;
      v2 += 16;
    }
    while (v3 < *(void *)(a1 + 40));
  }
  *(void *)(a1 + 32) = 0;
  *(void *)(a1 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;

  *(void *)(a1 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  BOOL v8 = *(void **)(a1 + 88);
  if (v8)
  {
    free(v8);
    *(void *)(a1 + 8_Block_object_dispose(&STACK[0x350], 8) = 0;
  }
}

double *PXQuadTreeNodeMake(uint64_t a1, double a2, double a3, double a4, double a5)
{
  unint64_t v10 = (double *)malloc_type_malloc(0x60uLL, 0x10A0040784199D9uLL);
  *((void *)v10 + 4) = a1;
  v10[5] = 0.0;
  v10[6] = a2;
  v10[7] = a3;
  v10[8] = a4;
  v10[9] = a5;
  *((void *)v10 + 1PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = [objc_alloc(MEMORY[0x1E4F1CA48]) initWithCapacity:a1];
  if (a1) {
    uint64_t v11 = malloc_type_malloc(16 * a1, 0x1000040451B5BE8uLL);
  }
  else {
    uint64_t v11 = 0;
  }
  *((void *)v10 + 1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v11;
  *(_OWORD *)unint64_t v10 = 0u;
  *((_OWORD *)v10 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 0u;
  return v10;
}

uint64_t PXQuadTreeNodeOptimize(uint64_t a1, void *a2)
{
  objc_opt_class();
  char isKindOfClass = objc_opt_isKindOfClass();
  if (isKindOfClass)
  {
    double v5 = (void *)[objc_alloc(MEMORY[0x1E4F1CA70]) initWithArray:*(void *)(a1 + 80)];
    uint64_t v6 = [*(id *)(a1 + 80) count];
    uint64_t v7 = [v5 count];

    *(void *)(a1 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v5;
    uint64_t v8 = v6 - v7;
    if (v6 != v7)
    {
      if ([v5 count])
      {
        uint64_t v9 = 0;
        unint64_t v10 = 0;
        do
        {
          objc_msgSend((id)objc_msgSend(v5, "objectAtIndex:", v10), "coordinate");
          *(MKMapPoint *)(*(void *)(a1 + 88) + v9) = MKMapPointForCoordinate(v12);
          ++v10;
          v9 += 16;
        }
        while (v10 < [v5 count]);
      }
      *(void *)(a1 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v7;
      if (a2) {
        *a2 += v8;
      }
    }
  }
  return isKindOfClass & 1;
}

void PXQuadTreeNodeFree(void *a1)
{
  if (*(void *)a1) {
    PXQuadTreeNodeFree();
  }
  if (*((void *)a1 + 1)) {
    PXQuadTreeNodeFree();
  }
  if (*((void *)a1 + 2)) {
    PXQuadTreeNodeFree();
  }
  if (*((void *)a1 + 3)) {
    PXQuadTreeNodeFree();
  }

  uint64_t v2 = (void *)*((void *)a1 + 11);
  if (v2) {
    free(v2);
  }
  free(a1);
}

BOOL PXQuadTreeNodeHasCapacity(uint64_t a1)
{
  return *(void *)(a1 + 32) > *(void *)(a1 + 40);
}

BOOL PXQuadTreeNodeCanBeSubdivided(uint64_t a1)
{
  return *(double *)(a1 + 64) >= 500.0;
}

void sub_1AAD3E210(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD3FD4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD40034(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD408E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

__CFString *PXCPAnalyticsEventNameForDeletePhotosAction(unint64_t a1)
{
  if (a1 > 5) {
    return 0;
  }
  else {
    return off_1E5DBC758[a1];
  }
}

void sub_1AAD427A4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD437A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,char a30,uint64_t a31,uint64_t a32,uint64_t a33,char a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,char a40)
{
  _Block_object_dispose(&a30, 8);
  _Block_object_dispose(&a34, 8);
  _Block_object_dispose(&a40, 8);
  _Block_object_dispose((const void *)(v40 - 200), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__124834(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__124835(uint64_t a1)
{
}

void sub_1AAD45938(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD45C4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD460B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *NSStringFromPXSharedAlbumsActivityEntryType(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 6) {
    return @"Assets";
  }
  else {
    return *(&off_1E5DBC8D8 + a1 - 1);
  }
}

uint64_t __CoreDuetLibraryCore_block_invoke(uint64_t a1)
{
  uint64_t result = _sl_dlopen();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  CoreDuetLibraryCore_frameworkLibrardouble y = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void CoreDuetLibrary()
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  v7[0] = 0;
  uint64_t v10 = 0;
  uint64_t v11 = &v10;
  uint64_t v12 = 0x2020000000;
  uint64_t v0 = CoreDuetLibraryCore_frameworkLibrary;
  uint64_t v13 = CoreDuetLibraryCore_frameworkLibrary;
  if (!CoreDuetLibraryCore_frameworkLibrary)
  {
    v7[1] = (void *)MEMORY[0x1E4F143A8];
    void v7[2] = (void *)3221225472;
    v7[3] = __CoreDuetLibraryCore_block_invoke;
    void v7[4] = &unk_1E5DD0D68;
    uint64_t v8 = &v10;
    uint64_t v9 = v7;
    long long v14 = xmmword_1E5DBC910;
    long long v15 = *(_OWORD *)&off_1E5DBC920;
    v11[3] = _sl_dlopen();
    CoreDuetLibraryCore_frameworkLibrardouble y = *(void *)(v8[1] + 24);
    uint64_t v0 = v11[3];
  }
  _Block_object_dispose(&v10, 8);
  if (!v0)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"void *CoreDuetLibrary(void)"];
    double v4 = (void *)v2;
    double v5 = (void *)v2;
    uint64_t v6 = (void *)v3;
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXRecipientSoftLinks.m", 10, @"%s", v7[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v7[0];
  if (v7[0]) {
LABEL_7:
  }
    free(v1);
}

void sub_1AAD4784C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __MessageUILibraryCore_block_invoke_125123(uint64_t a1)
{
  uint64_t result = _sl_dlopen();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  MessageUILibraryCore_frameworkLibrary_125122 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

id getMFMessageComposeViewControllerClass()
{
  uint64_t v4 = 0;
  double v5 = &v4;
  uint64_t v6 = 0x2050000000;
  uint64_t v0 = (void *)getMFMessageComposeViewControllerClass_softClass;
  uint64_t v7 = getMFMessageComposeViewControllerClass_softClass;
  if (!getMFMessageComposeViewControllerClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getMFMessageComposeViewControllerClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMFMessageComposeViewControllerClass_block_invoke(v3);
    uint64_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAD47B58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMessageComposeViewControllerClass_block_invoke(void *a1)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  v8[0] = 0;
  uint64_t v11 = 0;
  uint64_t v12 = &v11;
  uint64_t v13 = 0x2020000000;
  uint64_t v2 = MessageUILibraryCore_frameworkLibrary_125122;
  uint64_t v14 = MessageUILibraryCore_frameworkLibrary_125122;
  if (!MessageUILibraryCore_frameworkLibrary_125122)
  {
    v8[1] = (void *)MEMORY[0x1E4F143A8];
    v8[2] = (void *)3221225472;
    v8[3] = __MessageUILibraryCore_block_invoke_125123;
    void v8[4] = &unk_1E5DD0D68;
    uint64_t v9 = &v11;
    uint64_t v10 = v8;
    long long v15 = xmmword_1E5DBC930;
    long long v16 = *(_OWORD *)&off_1E5DBC940;
    v12[3] = _sl_dlopen();
    MessageUILibraryCore_frameworkLibrary_125122 = *(void *)(v9[1] + 24);
    uint64_t v2 = v12[3];
  }
  _Block_object_dispose(&v11, 8);
  if (v2)
  {
    uint64_t v3 = v8[0];
    if (!v8[0]) {
      goto LABEL_5;
    }
  }
  else
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    double v5 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXRecipientSoftLinks.m", 20, @"%s", v8[0]);

    __break(1u);
  }
  free(v3);
LABEL_5:
  Class result = objc_getClass("MFMessageComposeViewController");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  if (!*(void *)(*(void *)(a1[4] + 8) + 24))
  {
    uint64_t v6 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v7 = [NSString stringWithUTF8String:"Class getMFMessageComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v6, "handleFailureInFunction:file:lineNumber:description:", v7, @"PXRecipientSoftLinks.m", 22, @"Unable to find class %s", "MFMessageComposeViewController");

    __break(1u);
  }
  getMFMessageComposeViewControllerClass_softClass = *(void *)(*(void *)(a1[4] + 8) + 24);
  return result;
}

void sub_1AAD47DA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXConcreteAudioAssetEntryPoint *PXAudioAssetEntryPointMake(void *a1, void *a2, double a3)
{
  id v5 = a2;
  id v6 = a1;
  uint64_t v7 = [[PXConcreteAudioAssetEntryPoint alloc] initWithTime:v6 fadeInKeyTimeOffsets:v5 fadeInKeyGainValues:a3];

  return v7;
}

BOOL PXAudioAssetEntryPointIsNull(void *a1)
{
  id v1 = a1;
  [v1 time];
  if (v2 == 0.0)
  {
    uint64_t v3 = [v1 fadeInKeyTimeOffsets];
    BOOL v4 = [v3 count] == 0;
  }
  else
  {
    BOOL v4 = 0;
  }

  return v4;
}

CGImageRef PXImageCreateBlackPlaceholderImageWithSize()
{
  uint64_t v0 = DCIM_blackColor();
  id v1 = DCIM_imageWithColor();

  double v2 = (CGImage *)DCIM_CGImageRefFromPLImage();
  CGImageRef v3 = CGImageRetain(v2);

  return v3;
}

__CFString *PXProgrammaticNavigationDestinationTypeDescription(unint64_t a1)
{
  if (a1 >= 0x21)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Unknown(%ld)", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DBC9C0[a1];
  }
  return v1;
}

__CFString *PXProgrammaticNavigationDestinationRevealModeDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"?";
  }
  else {
    return off_1E5DBCAC8[a1];
  }
}

void sub_1AAD4FB60(_Unwind_Exception *a1)
{
  objc_destroyWeak(v4);
  objc_destroyWeak(v3);
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v5 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAD508A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD54808(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, char a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD549B4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryParticipantAcceptanceStatusDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"Invalid";
  }
  else {
    return off_1E5DBCCE0[a1];
  }
}

void sub_1AAD55998(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD5A9A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
}

void sub_1AAD5B3E8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAD5B464(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void PXStoryClipKenBurnsEffectParametersAreNull()
{
}

void PXStoryClipKenBurnsEffectsGetContentsRectBounds()
{
}

void PXStoryClipKenBurnsEffectsTransformedWithContentsRectBounds()
{
}

__n128 PXStoryClipKenBurnsEffectParametersMake@<Q0>(_OWORD *a1@<X0>, long long *a2@<X1>, uint64_t a3@<X8>)
{
  long long v3 = a1[1];
  *(_OWORD *)a3 = *a1;
  *(_OWORD *)(a3 + 16) = v3;
  long long v4 = *a2;
  long long v5 = a2[1];
  *(_OWORD *)(a3 + 32) = a1[2];
  *(_OWORD *)(a3 + 4_Block_object_dispose(&STACK[0x350], 8) = v4;
  __n128 result = (__n128)a2[2];
  *(_OWORD *)(a3 + 64) = v5;
  *(__n128 *)(a3 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = result;
  return result;
}

__n128 PXStoryKenBurnsAnimationInfoForEffectWithParametersAndContext@<Q0>(_OWORD *a1@<X0>, __n128 *a2@<X1>, uint64_t a3@<X8>)
{
  long long v3 = a1[1];
  *(_OWORD *)a3 = *a1;
  *(_OWORD *)(a3 + 16) = v3;
  long long v4 = a1[3];
  *(_OWORD *)(a3 + 32) = a1[2];
  *(_OWORD *)(a3 + 4_Block_object_dispose(&STACK[0x350], 8) = v4;
  long long v5 = a1[5];
  *(_OWORD *)(a3 + 64) = a1[4];
  *(_OWORD *)(a3 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v5;
  __n128 result = a2[1];
  *(__n128 *)(a3 + 96) = result;
  *(void *)(a3 + 112) = a2[2].n128_u64[0];
  return result;
}

__n128 PXStorySourceAndTargetContentsRectFromClipKenBurnsEffectParameters(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a1)
  {
    __n128 result = *(__n128 *)a3;
    long long v4 = *(_OWORD *)(a3 + 32);
    *(_OWORD *)(a1 + 16) = *(_OWORD *)(a3 + 16);
    *(_OWORD *)(a1 + 32) = v4;
    *(__n128 *)a1 = result;
  }
  if (a2)
  {
    __n128 result = *(__n128 *)(a3 + 48);
    long long v5 = *(_OWORD *)(a3 + 80);
    *(_OWORD *)(a2 + 16) = *(_OWORD *)(a3 + 64);
    *(_OWORD *)(a2 + 32) = v5;
    *(__n128 *)a2 = result;
  }
  return result;
}

void PXStoryClipKenBurnsAnimationInfoGetMovementType(long long *a1)
{
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXStoryClipKenBurnsAnimationInfoGetMovementType_block_invoke;
  aBlock[3] = &__block_descriptor_152_e18_v16__0__NSString_8l;
  long long v1 = a1[5];
  long long v9 = a1[4];
  long long v10 = v1;
  long long v11 = a1[6];
  uint64_t v12 = *((void *)a1 + 14);
  long long v2 = a1[1];
  long long v5 = *a1;
  long long v6 = v2;
  long long v3 = a1[3];
  long long v7 = a1[2];
  long long v8 = v3;
  _Block_copy(aBlock);
  PXStoryRectDecompose();
}

void __PXStoryClipKenBurnsAnimationInfoGetMovementType_block_invoke(_OWORD *a1, void *a2)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  long long v4 = PLStoryGetLog();
  if (os_log_type_enabled(v4, OS_LOG_TYPE_ERROR))
  {
    long long v5 = a1[3];
    long long v6 = a1[2];
    long long v7 = v5;
    long long v8 = a1[4];
    PXStoryRectDescription();
  }
}

__CFString *PXStoryClipKenBurnsMovementTypeDescription(unint64_t a1)
{
  if (a1 > 0xD) {
    return @"??";
  }
  else {
    return off_1E5DBCE28[a1];
  }
}

void sub_1AAD5C98C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD5D194(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void *PXPhotosCurationAlgorithmPossibleValues()
{
  return &unk_1F02D4618;
}

__CFString *PXPhotosCurationAlgorithmDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    long long v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXPhotosCurationAlgorithmDescription(PXPhotosCurationAlgorithm)"];
    [v2 handleFailureInFunction:v3 file:@"PXPhotosCurationAlgorithm.m" lineNumber:33 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DBCEA8[a1];
}

id _PXGRotatedImageWithTransform(void *a1)
{
  id v1 = a1;
  __int16 v18 = 0;
  int RotationAngleAndFlipsFromCGAffineTransform = FigGetRotationAngleAndFlipsFromCGAffineTransform();
  [v1 extent];
  double v4 = v3;
  double v6 = v5;
  memset(&v17, 0, sizeof(v17));
  CGAffineTransformMakeTranslation(&v17, v3 * -0.5, v5 * -0.5);
  CGAffineTransformMakeRotation(&t2, (double)-RotationAngleAndFlipsFromCGAffineTransform * 3.14159265 / 180.0);
  CGAffineTransform t1 = v17;
  CGAffineTransformConcat(&v16, &t1, &t2);
  CGAffineTransform v17 = v16;
  double v7 = -1.0;
  if ((_BYTE)v18) {
    double v8 = -1.0;
  }
  else {
    double v8 = 1.0;
  }
  if (!HIBYTE(v18)) {
    double v7 = 1.0;
  }
  CGAffineTransformMakeScale(&v13, v8, v7);
  CGAffineTransform t1 = v17;
  CGAffineTransformConcat(&v16, &t1, &v13);
  CGAffineTransform v17 = v16;
  if (RotationAngleAndFlipsFromCGAffineTransform == 270 || RotationAngleAndFlipsFromCGAffineTransform == 90)
  {
    double v9 = v4;
  }
  else
  {
    double v9 = v6;
    double v6 = v4;
  }
  CGAffineTransformMakeTranslation(&v12, v6 * 0.5, v9 * 0.5);
  CGAffineTransform t1 = v17;
  CGAffineTransformConcat(&v16, &t1, &v12);
  CGAffineTransform v17 = v16;
  long long v10 = [v1 imageByApplyingTransform:&v16];

  return v10;
}

void sub_1AAD601B8(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 128));
  _Unwind_Resume(a1);
}

void sub_1AAD60868(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak(v2);
  objc_destroyWeak(v3);
  objc_destroyWeak((id *)(v4 - 120));
  objc_destroyWeak((id *)(v4 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAD60F0C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 96));
  _Unwind_Resume(a1);
}

double PXGCleanApertureAmountForAsset(void *a1)
{
  uint64_t v1 = [a1 playbackStyle];
  double result = 0.9;
  if (v1 != 3) {
    return 1.0;
  }
  return result;
}

uint64_t PXGShouldApplyCleanApertureCropForSpriteIndexInLayout(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 leafSublayoutForSpriteIndex:a1];
  double v5 = (void *)v4;
  if (v4) {
    double v6 = (void *)v4;
  }
  else {
    double v6 = v3;
  }
  id v7 = v6;

  double v8 = [v7 displayAssetSource];
  char v9 = [v7 displayAssetSourceRespondsTo];
  __int16 v11 = v10;
  if (v9)
  {
    uint64_t v12 = [v8 supportedDisplayAssetPresentationStylesInLayout:v7] & 2;
    if ((v11 & 0x100) != 0) {
      goto LABEL_6;
    }
LABEL_8:
    uint64_t v13 = v12 != 0;
    goto LABEL_9;
  }
  uint64_t v12 = 0;
  if ((v10 & 0x100) == 0) {
    goto LABEL_8;
  }
LABEL_6:
  uint64_t v13 = [v8 shouldApplyCleanApertureCropToStillImagesInLayout:v7];
LABEL_9:

  return v13;
}

void sub_1AAD63FFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18, uint64_t a19, uint64_t a20,uint64_t a21,char a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,char a50)
{
}

void sub_1AAD64AE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD64ED8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD653F8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

uint64_t isMutedForMuteState(uint64_t a1, uint64_t a2)
{
  if ((unint64_t)(a1 - 3) < 2) {
    return 1;
  }
  if (a1 == 2) {
    return 0;
  }
  if (!a1)
  {
    double v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v3, v2, v4, v5);
    id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL isMutedForMuteState(PXVideoMuteState, BOOL)");
    [v6 handleFailureInFunction:v7 file:@"PXVideoMuteController.m" lineNumber:59 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return a2;
}

void sub_1AAD6ECC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__130820(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__130821(uint64_t a1)
{
}

void sub_1AAD71720(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD71AE0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

id PXViewLayoutAttributesDescription(double *a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  id v3 = [NSString alloc];
  uint64_t v4 = __PXViewLayoutAttributesDescription_block_invoke(*a1);
  uint64_t v5 = (void *)[v3 initWithFormat:@"%s: %@", "leading", v4];
  [v2 addObject:v5];

  id v6 = [NSString alloc];
  id v7 = __PXViewLayoutAttributesDescription_block_invoke(a1[1]);
  double v8 = (void *)[v6 initWithFormat:@"%s: %@", "horizontalCenter", v7];
  [v2 addObject:v8];

  id v9 = [NSString alloc];
  __int16 v10 = __PXViewLayoutAttributesDescription_block_invoke(a1[2]);
  __int16 v11 = (void *)[v9 initWithFormat:@"%s: %@", "trailing", v10];
  [v2 addObject:v11];

  id v12 = [NSString alloc];
  uint64_t v13 = __PXViewLayoutAttributesDescription_block_invoke(a1[3]);
  uint64_t v14 = (void *)[v12 initWithFormat:@"%s: %@", "top", v13];
  [v2 addObject:v14];

  id v15 = [NSString alloc];
  CGAffineTransform v16 = __PXViewLayoutAttributesDescription_block_invoke(a1[4]);
  CGAffineTransform v17 = (void *)[v15 initWithFormat:@"%s: %@", "verticalCenter", v16];
  [v2 addObject:v17];

  id v18 = [NSString alloc];
  MKMapPoint v19 = __PXViewLayoutAttributesDescription_block_invoke(a1[5]);
  uint64_t v20 = (void *)[v18 initWithFormat:@"%s: %@", "bottom", v19];
  [v2 addObject:v20];

  id v21 = [NSString alloc];
  long long v22 = __PXViewLayoutAttributesDescription_block_invoke(a1[6]);
  long long v23 = (void *)[v21 initWithFormat:@"%s: %@", "firstBaseline", v22];
  [v2 addObject:v23];

  id v24 = [NSString alloc];
  uint64_t v25 = __PXViewLayoutAttributesDescription_block_invoke(a1[7]);
  uint64_t v26 = (void *)[v24 initWithFormat:@"%s: %@", "lastBaseline", v25];
  [v2 addObject:v26];

  id v27 = [NSString alloc];
  id v28 = __PXViewLayoutAttributesDescription_block_invoke(a1[8]);
  id v29 = (void *)[v27 initWithFormat:@"%s: %@", "width", v28];
  [v2 addObject:v29];

  id v30 = [NSString alloc];
  id v31 = __PXViewLayoutAttributesDescription_block_invoke(a1[9]);
  uint64_t v32 = (void *)[v30 initWithFormat:@"%s: %@", "height", v31];
  [v2 addObject:v32];

  id v33 = [NSString alloc];
  uint64_t v34 = __PXViewLayoutAttributesDescription_block_invoke(a1[10]);
  uint64_t v35 = (void *)[v33 initWithFormat:@"%s: %@", "minimumLeading", v34];
  [v2 addObject:v35];

  id v36 = [NSString alloc];
  id v37 = __PXViewLayoutAttributesDescription_block_invoke(a1[11]);
  long long v38 = (void *)[v36 initWithFormat:@"%s: %@", "maximumTrailing", v37];
  [v2 addObject:v38];

  id v39 = [NSString alloc];
  uint64_t v40 = __PXViewLayoutAttributesDescription_block_invoke(a1[12]);
  id v41 = (void *)[v39 initWithFormat:@"%s: %@", "minimumTop", v40];
  [v2 addObject:v41];

  id v42 = [NSString alloc];
  uint64_t v43 = __PXViewLayoutAttributesDescription_block_invoke(a1[13]);
  __int16 v44 = (void *)[v42 initWithFormat:@"%s: %@", "maximumBottom", v43];
  [v2 addObject:v44];

  uint64_t v45 = NSString;
  char v46 = [v2 componentsJoinedByString:@", "];
  long long v47 = [v45 stringWithFormat:@"{ %@ }", v46];

  return v47;
}

int64x2_t PXViewLayoutAttributesMake@<Q0>(int64x2_t *a1@<X8>)
{
  int64x2_t result = vdupq_n_s64(0x7FF8000000000000uLL);
  *a1 = result;
  a1[1] = result;
  a1[2] = result;
  a1[3] = result;
  a1[4] = result;
  a1[5] = result;
  a1[6] = result;
  return result;
}

double PXMachTimeDurationToSeconds(unint64_t a1)
{
  unsigned int v2 = dword_1E98CCE04;
  if (!dword_1E98CCE04)
  {
    mach_timebase_info((mach_timebase_info_t)&PXMachTimeDurationToSeconds_sTimebaseInfo);
    unsigned int v2 = dword_1E98CCE04;
  }
  return (double)a1 * (double)(PXMachTimeDurationToSeconds_sTimebaseInfo / v2) / 1000000000.0;
}

void PXExpectBlockPerformance(void *a1, void *a2, double a3)
{
  id v12 = a1;
  uint64_t v5 = a2;
  if (v12)
  {
    if (v5) {
      goto LABEL_3;
    }
  }
  else
  {
    double v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXExpectBlockPerformance(NSTimeInterval, __strong dispatch_block_t _Nonnull, void (^__strong _Nonnull)(NSTimeInterval))");
    [v8 handleFailureInFunction:v9, @"PXPerfUtilities.m", 32, @"Invalid parameter not satisfying: %@", @"block" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  __int16 v10 = [MEMORY[0x1E4F28B00] currentHandler];
  __int16 v11 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXExpectBlockPerformance(NSTimeInterval, __strong dispatch_block_t _Nonnull, void (^__strong _Nonnull)(NSTimeInterval))");
  [v10 handleFailureInFunction:v11, @"PXPerfUtilities.m", 33, @"Invalid parameter not satisfying: %@", @"failureBlock" file lineNumber description];

LABEL_3:
  uint64_t v6 = mach_absolute_time();
  v12[2]();
  uint64_t v7 = mach_absolute_time();
  if (PXMachTimeDurationToSeconds(v7 - v6) > a3) {
    v5[2](v5);
  }
}

void PXPresentCameraSharingSetup(void *a1)
{
  id v1 = a1;
  unsigned int v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Will present Camera sharing options", buf, 2u);
  }

  id v3 = objc_alloc_init(PXSharedLibraryAssistantCameraViewController);
  uint64_t v4 = (void *)[objc_alloc(MEMORY[0x1E4FB19E8]) initWithRootViewController:v3];
  v21[0] = MEMORY[0x1E4F143A8];
  v21[1] = 3221225472;
  v21[2] = __PXPresentCameraSharingSetup_block_invoke;
  v21[3] = &unk_1E5DD32A8;
  id v5 = v1;
  id v22 = v5;
  id v6 = v4;
  id v23 = v6;
  [(PXSharedLibraryAssistantCameraViewController *)v3 setCompletionHandler:v21];
  uint64_t v7 = (void *)MEMORY[0x1E4FB13F0];
  double v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryCameraSharingSettingsNotNowButtonTitle");
  uint64_t v15 = MEMORY[0x1E4F143A8];
  uint64_t v16 = 3221225472;
  CGAffineTransform v17 = __PXPresentCameraSharingSetup_block_invoke_196;
  id v18 = &unk_1E5DCC0B8;
  id v19 = v5;
  id v20 = v6;
  id v9 = v6;
  id v10 = v5;
  __int16 v11 = [v7 actionWithTitle:v8 image:0 identifier:0 handler:&v15];

  id v12 = objc_alloc(MEMORY[0x1E4FB14A8]);
  uint64_t v13 = objc_msgSend(v12, "initWithPrimaryAction:", v11, v15, v16, v17, v18);
  uint64_t v14 = [(OBBaseWelcomeController *)v3 navigationItem];
  [v14 setRightBarButtonItem:v13];
  [v10 presentViewController:v9 animated:1 completionHandler:0];
}

uint64_t __PXPresentCameraSharingSetup_block_invoke(uint64_t a1)
{
  return [*(id *)(a1 + 32) dismissViewController:*(void *)(a1 + 40) animated:1 completionHandler:&__block_literal_global_131652];
}

uint64_t __PXPresentCameraSharingSetup_block_invoke_196(uint64_t a1)
{
  return [*(id *)(a1 + 32) dismissViewController:*(void *)(a1 + 40) animated:1 completionHandler:&__block_literal_global_199_131647];
}

void __PXPresentCameraSharingSetup_block_invoke_2_197()
{
  uint64_t v0 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v0, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v1 = 0;
    _os_log_impl(&dword_1A9AE7000, v0, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Did dismiss Camera sharing options", v1, 2u);
  }
}

void __PXPresentCameraSharingSetup_block_invoke_2()
{
  uint64_t v0 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v0, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v1 = 0;
    _os_log_impl(&dword_1A9AE7000, v0, OS_LOG_TYPE_DEFAULT, "PXSharedLibraryCameraSharingBanner: Did complete Camera sharing options", v1, 2u);
  }
}

id PXSoftLinkedProtoMakeViewControllerWithFactoryClassName(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  if (_PXSoftLinkedProtoIsAvailable_isAvailable)
  {
    double v8 = [NSClassFromString(v5) makeViewControllerWithPhotoLibrary:v6 options:v7];
  }
  else
  {
    double v8 = 0;
  }

  return v8;
}

id getPXProtoRootSettingsClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  uint64_t v0 = (void *)getPXProtoRootSettingsClass_softClass;
  uint64_t v7 = getPXProtoRootSettingsClass_softClass;
  if (!getPXProtoRootSettingsClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getPXProtoRootSettingsClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getPXProtoRootSettingsClass_block_invoke((uint64_t)v3);
    uint64_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAD761FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoRootSettingsClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PXProtoRootSettings");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPXProtoRootSettingsClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    unsigned int v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPXProtoRootSettingsClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PhotosUICoreProtoSoftLinking.m", 28, @"Unable to find class %s", "PXProtoRootSettings");

    __break(1u);
  }
}

void PhotosUICoreProtoLibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!PhotosUICoreProtoLibraryCore_frameworkLibrary)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    v3[2] = (void *)3221225472;
    void v3[3] = __PhotosUICoreProtoLibraryCore_block_invoke;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DBD6E8;
    uint64_t v5 = 0;
    PhotosUICoreProtoLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  if (!PhotosUICoreProtoLibraryCore_frameworkLibrary)
  {
    id v1 = [MEMORY[0x1E4F28B00] currentHandler];
    unsigned int v2 = [NSString stringWithUTF8String:"void *PhotosUICoreProtoLibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PhotosUICoreProtoSoftLinking.m", 27, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __PhotosUICoreProtoLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PhotosUICoreProtoLibraryCore_frameworkLibrardouble y = result;
  return result;
}

uint64_t _PXSoftLinkedProtoIsAvailable()
{
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  return _PXSoftLinkedProtoIsAvailable_isAvailable;
}

id PXSoftLinkedProtoRootSettingsLoadIfNecessary(int a1)
{
  unsigned int v2 = (void *)PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
  if (PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings) {
    BOOL v3 = 1;
  }
  else {
    BOOL v3 = a1 == 0;
  }
  if (!v3)
  {
    PXProtoRootSettingsClass = NSClassFromString(&cfstr_Pxprotorootset.isa);
    if (!PXProtoRootSettingsClass)
    {
      if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
        dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
      }
      if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
        PXProtoRootSettingsClass = getPXProtoRootSettingsClass();
      }
      else {
        PXProtoRootSettingsClass = 0;
      }
    }
    uint64_t v5 = [PXProtoRootSettingsClass sharedInstance];
    uint64_t v6 = (void *)PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
    PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings = v5;

    unsigned int v2 = (void *)PXSoftLinkedProtoRootSettingsLoadIfNecessary_protoRootSettings;
  }
  return v2;
}

id PXSoftLinkedProtoTutorialsSettingsLoadIfNecessary(int a1)
{
  id v1 = PXSoftLinkedProtoRootSettingsLoadIfNecessary(a1);
  unsigned int v2 = [v1 valueForKey:@"tutorialsSettings"];

  return v2;
}

id PXSoftLinkedProtoStoryTimelineObjectiveCCode(void *a1)
{
  id v1 = a1;
  Class v2 = NSClassFromString(&cfstr_Pxprotostoryti.isa);
  if (!v2)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable)
    {
      uint64_t v7 = 0;
      double v8 = &v7;
      uint64_t v9 = 0x2050000000;
      BOOL v3 = (void *)getPXProtoStoryTimelineCodeProducerClass_softClass;
      uint64_t v10 = getPXProtoStoryTimelineCodeProducerClass_softClass;
      if (!getPXProtoStoryTimelineCodeProducerClass_softClass)
      {
        v6[0] = MEMORY[0x1E4F143A8];
        v6[1] = 3221225472;
        void v6[2] = __getPXProtoStoryTimelineCodeProducerClass_block_invoke;
        v6[3] = &unk_1E5DD2B08;
        void v6[4] = &v7;
        __getPXProtoStoryTimelineCodeProducerClass_block_invoke((uint64_t)v6);
        BOOL v3 = (void *)v8[3];
      }
      Class v2 = v3;
      _Block_object_dispose(&v7, 8);
    }
    else
    {
      Class v2 = 0;
    }
  }
  long long v4 = [(objc_class *)v2 objectiveCCodeForTimeline:v1];

  return v4;
}

void sub_1AAD76728(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoStoryTimelineCodeProducerClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PXProtoStoryTimelineCodeProducer");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPXProtoStoryTimelineCodeProducerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    Class v2 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v3 = [NSString stringWithUTF8String:"Class getPXProtoStoryTimelineCodeProducerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PhotosUICoreProtoSoftLinking.m", 29, @"Unable to find class %s", "PXProtoStoryTimelineCodeProducer");

    __break(1u);
  }
}

id PXSoftLinkedProtoPrototypeViewController(void *a1)
{
  id v1 = a1;
  Class v2 = NSClassFromString(&cfstr_Pxprotoprototy.isa);
  if (!v2)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable)
    {
      uint64_t v7 = 0;
      double v8 = &v7;
      uint64_t v9 = 0x2050000000;
      BOOL v3 = (void *)getPXProtoPrototypeRootViewControllerClass_softClass;
      uint64_t v10 = getPXProtoPrototypeRootViewControllerClass_softClass;
      if (!getPXProtoPrototypeRootViewControllerClass_softClass)
      {
        v6[0] = MEMORY[0x1E4F143A8];
        v6[1] = 3221225472;
        void v6[2] = __getPXProtoPrototypeRootViewControllerClass_block_invoke;
        v6[3] = &unk_1E5DD2B08;
        void v6[4] = &v7;
        __getPXProtoPrototypeRootViewControllerClass_block_invoke((uint64_t)v6);
        BOOL v3 = (void *)v8[3];
      }
      Class v2 = v3;
      _Block_object_dispose(&v7, 8);
    }
    else
    {
      Class v2 = 0;
    }
  }
  long long v4 = (void *)[[v2 alloc] initWithPhotoLibrary:v1];

  return v4;
}

void sub_1AAD76944(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoPrototypeRootViewControllerClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PXProtoPrototypeRootViewController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPXProtoPrototypeRootViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    Class v2 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v3 = [NSString stringWithUTF8String:"Class getPXProtoPrototypeRootViewControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PhotosUICoreProtoSoftLinking.m", 30, @"Unable to find class %s", "PXProtoPrototypeRootViewController");

    __break(1u);
  }
}

uint64_t PXSoftLinkedProtoGenerativeStoryCollectionToStoryFlowFromViewController(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  uint64_t v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass collectionToStoryFlowFromViewController:v3 configuration:v4];

  return v6;
}

id getPXProtoGenerativeStoryPlaygroundFactoryClass()
{
  uint64_t v4 = 0;
  uint64_t v5 = &v4;
  uint64_t v6 = 0x2050000000;
  uint64_t v0 = (void *)getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass;
  uint64_t v7 = getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass;
  if (!getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    v3[2] = __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke((uint64_t)v3);
    uint64_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAD76B94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPXProtoGenerativeStoryPlaygroundFactoryClass_block_invoke(uint64_t a1)
{
  PhotosUICoreProtoLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PXProtoGenerativeStoryPlaygroundFactory");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPXProtoGenerativeStoryPlaygroundFactoryClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                          + 24);
  }
  else
  {
    Class v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPXProtoGenerativeStoryPlaygroundFactoryClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PhotosUICoreProtoSoftLinking.m", 34, @"Unable to find class %s", "PXProtoGenerativeStoryPlaygroundFactory");

    __break(1u);
  }
}

uint64_t PXSoftLinkedProtoGenerativeStoryStartCreationWorkflowFromViewController(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  uint64_t v9 = [PXProtoGenerativeStoryPlaygroundFactoryClass startCreationWorkflowFromViewController:v5 photoLibrary:v6 userPrompt:v7];

  return v9;
}

uint64_t PXSoftLinkedProtoGenerativeStoryPresentEvaluationFromViewController(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  uint64_t v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass presentEvaluationForMemory:v4 fromViewController:v3];

  return v6;
}

id PXSoftLinkedProtoGenerativeStoryEntryCardViewController(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  uint64_t v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass entryCardViewController:v3 photoLibrary:v4];

  return v6;
}

id PXSoftLinkedProtoGenerativeStoryMemoriesListViewController(void *a1)
{
  id v1 = a1;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  id v3 = [PXProtoGenerativeStoryPlaygroundFactoryClass storyMemoriesListViewControllerWithPhotoLibrary:v1];

  return v3;
}

uint64_t PXSoftLinkedProtoGenerativeStoryStartSuggestionToolWorkflowFromViewController(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  uint64_t v6 = [PXProtoGenerativeStoryPlaygroundFactoryClass startSuggestionToolWorkflowFromViewController:v3 photoLibrary:v4];

  return v6;
}

id PXSoftLinkedProtoGenerativeStoryStartMosaicDebugUIWorkflowWithPhotoLibrary(void *a1)
{
  id v1 = a1;
  PXProtoGenerativeStoryPlaygroundFactoryClass = NSClassFromString(&cfstr_Pxprotogenerat.isa);
  if (!PXProtoGenerativeStoryPlaygroundFactoryClass)
  {
    if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
      dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
    }
    if (_PXSoftLinkedProtoIsAvailable_isAvailable) {
      PXProtoGenerativeStoryPlaygroundFactoryClass = getPXProtoGenerativeStoryPlaygroundFactoryClass();
    }
    else {
      PXProtoGenerativeStoryPlaygroundFactoryClass = 0;
    }
  }
  id v3 = [PXProtoGenerativeStoryPlaygroundFactoryClass startMosaicDebugUIWorkflowWithPhotoLibrary:v1];

  return v3;
}

id PXSoftLinkedProtoDetailsViewController(void *a1)
{
  id v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  if (_PXSoftLinkedProtoIsAvailable_isAvailable)
  {
    Class v2 = [NSClassFromString(&cfstr_Pxprotodetails.isa) makeDetailsViewControllerWithObject:v1];
  }
  else
  {
    Class v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoMemoriesPlayerViewController(void *a1)
{
  id v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  if (_PXSoftLinkedProtoIsAvailable_isAvailable)
  {
    Class v2 = [NSClassFromString(&cfstr_Pxprotomemorie.isa) makeMemoriesPlayerViewControllerWithConfiguration:v1];
  }
  else
  {
    Class v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoPhotosViewBannerController(void *a1)
{
  id v1 = a1;
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  if (_PXSoftLinkedProtoIsAvailable_isAvailable)
  {
    Class v2 = [NSClassFromString(&cfstr_Pxprotophotosv.isa) makeBannerControllerWithPhotosViewModel:v1];
  }
  else
  {
    Class v2 = 0;
  }

  return v2;
}

id PXSoftLinkedProtoLoadPhototypes()
{
  if (_PXSoftLinkedProtoIsAvailable_onceToken != -1) {
    dispatch_once(&_PXSoftLinkedProtoIsAvailable_onceToken, &__block_literal_global_131669);
  }
  if (_PXSoftLinkedProtoIsAvailable_isAvailable)
  {
    uint64_t v0 = [NSClassFromString(&cfstr_Pxprotophototy.isa) loadPhototypes];
  }
  else
  {
    uint64_t v0 = 0;
  }
  return v0;
}

void sub_1AAD77774(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__131800(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__131801(uint64_t a1)
{
}

void sub_1AAD785C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

uint64_t __Block_byref_object_copy__131856(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__131857(uint64_t a1)
{
}

__CFString *PXStoryClipLoadingStatusDescription(unsigned int a1)
{
  if (a1 >= 0xA)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"unknown(%d)", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DBD750[a1];
  }
  return v1;
}

uint64_t PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  if (*(uint64_t *)a5 >= 1)
  {
    uint64_t v5 = 0;
    uint64_t v6 = 0;
    uint64_t v7 = result;
    do
    {
      *(void *)(v7 + 20_Block_object_dispose(&STACK[0x350], 8) = 0;
      *(_OWORD *)(v7 + 16PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = xmmword_1AB35D1D0;
      *(_OWORD *)(v7 + 176) = xmmword_1AB35D1E0;
      *(_OWORD *)(v7 + 192) = xmmword_1AB35D1F0;
      *(_OWORD *)(v7 + 96) = xmmword_1AB35D190;
      *(_OWORD *)(v7 + 112) = unk_1AB35D1A0;
      *(_OWORD *)(v7 + 12_Block_object_dispose(&STACK[0x350], 8) = xmmword_1AB35D1B0;
      *(_OWORD *)(v7 + 144) = xmmword_1AB35D1C0;
      *(_OWORD *)(v7 + 32) = xmmword_1AB35D150;
      *(_OWORD *)(v7 + 4_Block_object_dispose(&STACK[0x350], 8) = unk_1AB35D160;
      *(_OWORD *)(v7 + 64) = xmmword_1AB35D170;
      *(_OWORD *)(v7 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = unk_1AB35D180;
      *(_OWORD *)uint64_t v7 = PXStoryClippingAnimationInfoNone;
      *(_OWORD *)(v7 + 16) = unk_1AB35D140;
      double v8 = (_OWORD *)(a2 + v5);
      uint64_t v9 = (_OWORD *)(*(void *)(a5 + 8) + v5);
      long long v10 = v9[1];
      *double v8 = *v9;
      v8[1] = v10;
      uint64_t v11 = *(void *)(a5 + 32);
      *(_OWORD *)(v7 + 192) = *(_OWORD *)(a5 + 16);
      *(void *)(v7 + 20_Block_object_dispose(&STACK[0x350], 8) = v11;
      ++v6;
      v7 += 216;
      v5 += 32;
    }
    while (v6 < *(void *)a5);
    if (*(uint64_t *)a5 >= 2)
    {
      uint64_t v12 = 0;
      do
      {
        uint64_t v13 = a4 + 24 * v12;
        if (*(double *)(v13 + 8) != 0.0 || *(double *)(v13 + 16) * 0.5 != 0.0)
        {
          if (*(_DWORD *)(a4 + 24 * v12) == 42) {
            PXRectGetCenter();
          }
          PXRectEdgeAxis();
        }
        uint64_t v14 = ++v12;
      }
      while (v14 < *(void *)a5 - 1);
    }
  }
  return result;
}

double __PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext_block_invoke(double *a1, double *a2, int a3, double a4, double a5)
{
  switch(a3)
  {
    case 1:
      break;
    case 2:
      a2 += 9;
      break;
    case 3:
      a2 += 6;
      break;
    default:
      a2 += 3;
      break;
  }
  double v5 = a2[1];
  *a2 = *a2 + a1[5] + a1[4] * a4;
  a2[1] = v5 + a1[6] * a5;
  double result = a1[7] + a2[2];
  a2[2] = result;
  return result;
}

uint64_t PXStoryClipSeparatorEffectAdjustClipFramesAndSafeAreaInsets(uint64_t result, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  if (result)
  {
    uint64_t v7 = result;
    MEMORY[0x1F4188790](result, a2);
    uint64_t v9 = (char *)&v10 - v8;
    CMTimeMakeWithSeconds(&v11, 1.0, 600);
    v12[0] = a4;
    v12[1] = a2;
    CMTime v13 = v11;
    return PXStoryClipSeparatorEffectGetClippingAnimationInfosAdjustedClipFramesForParametersAndContext((uint64_t)v9, a2, a3, v7, (uint64_t)v12);
  }
  return result;
}

uint64_t PXMomentShareErrorTypeDescription(unint64_t a1)
{
  if (a1 > 0xB) {
    return 0;
  }
  else {
    return (uint64_t)*(&off_1E5DBD7E8 + a1);
  }
}

uint64_t __AutoLoopLibraryCore_block_invoke(uint64_t a1)
{
  uint64_t result = _sl_dlopen();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  AutoLoopLibraryCore_frameworkLibrardouble y = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t AutoLoopLibrary()
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  v9[0] = 0;
  uint64_t v12 = 0;
  CMTime v13 = &v12;
  uint64_t v14 = 0x2020000000;
  uint64_t v0 = AutoLoopLibraryCore_frameworkLibrary;
  uint64_t v15 = AutoLoopLibraryCore_frameworkLibrary;
  if (!AutoLoopLibraryCore_frameworkLibrary)
  {
    v9[1] = (void *)MEMORY[0x1E4F143A8];
    void v9[2] = (void *)3221225472;
    v9[3] = __AutoLoopLibraryCore_block_invoke;
    void v9[4] = &unk_1E5DD0D68;
    uint64_t v10 = &v12;
    CMTime v11 = v9;
    long long v16 = xmmword_1E5DBD848;
    long long v17 = *(_OWORD *)&off_1E5DBD858;
    v13[3] = _sl_dlopen();
    AutoLoopLibraryCore_frameworkLibrardouble y = *(void *)(v10[1] + 24);
    uint64_t v0 = v13[3];
  }
  _Block_object_dispose(&v12, 8);
  if (!v0)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *AutoLoopLibrary(void)"];
    double v5 = (void *)v3;
    uint64_t v6 = (void *)v3;
    uint64_t v7 = (void *)v4;
    objc_msgSend(v5, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXAutoloopSoftLinks.m", 12, @"%s", v9[0]);
    uint64_t v8 = v7;
    uint64_t v0 = (uint64_t)v6;

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v9[0];
  if (v9[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

void sub_1AAD7C124(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getcreateAutoLoopSettingsForAssetSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "createAutoLoopSettingsForAsset");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getcreateAutoLoopSettingsForAssetSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getliveAnalysisResultDestroySymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "liveAnalysisResultDestroy");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getliveAnalysisResultDestroySymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _liveAnalysisResultDestroy(uint64_t a1)
{
  uint64_t v7 = 0;
  uint64_t v8 = &v7;
  uint64_t v9 = 0x2020000000;
  Class v2 = (void (*)(uint64_t))getliveAnalysisResultDestroySymbolLoc_ptr;
  uint64_t v10 = getliveAnalysisResultDestroySymbolLoc_ptr;
  if (!getliveAnalysisResultDestroySymbolLoc_ptr)
  {
    uint64_t v3 = (void *)AutoLoopLibrary();
    v8[3] = (uint64_t)dlsym(v3, "liveAnalysisResultDestroy");
    getliveAnalysisResultDestroySymbolLoc_ptr = (_UNKNOWN *)v8[3];
    Class v2 = (void (*)(uint64_t))v8[3];
  }
  uint64_t v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {
    v6(a1);
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    double v5 = [NSString stringWithUTF8String:"void _liveAnalysisResultDestroy(liveAnalysisResultRef)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXAutoloopSoftLinks.m", 27, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7C340(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void *__getcreateBundleDefaultGatingClassifierURLSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "createBundleDefaultGatingClassifierURL");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getcreateBundleDefaultGatingClassifierURLSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getautoloopSettingsSetGatingSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "autoloopSettingsSetGating");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getautoloopSettingsSetGatingSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopSettingsSetGating(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v11 = 0;
  uint64_t v12 = &v11;
  uint64_t v13 = 0x2020000000;
  uint64_t v6 = (void (*)(uint64_t, uint64_t, uint64_t, void, uint64_t))getautoloopSettingsSetGatingSymbolLoc_ptr;
  uint64_t v14 = getautoloopSettingsSetGatingSymbolLoc_ptr;
  if (!getautoloopSettingsSetGatingSymbolLoc_ptr)
  {
    uint64_t v7 = (void *)AutoLoopLibrary();
    v12[3] = (uint64_t)dlsym(v7, "autoloopSettingsSetGating");
    getautoloopSettingsSetGatingSymbolLoc_ptr = (_UNKNOWN *)v12[3];
    uint64_t v6 = (void (*)(uint64_t, uint64_t, uint64_t, void, uint64_t))v12[3];
  }
  uint64_t v10 = v6;
  _Block_object_dispose(&v11, 8);
  if (v10)
  {
    v10(a1, a2, a3, 0, 1);
  }
  else
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "void _autoloopSettingsSetGating(struct autoloopSettings *, CFURLRef, CFURLRef, _Bool, _Bool)");
    objc_msgSend(v8, "handleFailureInFunction:file:lineNumber:description:", v9, @"PXAutoloopSoftLinks.m", 29, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7C574(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getget_autoloopSettings_forAssetSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "get_autoloopSettings_forAsset");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getget_autoloopSettings_forAssetSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getautoloopSettingsDestroySymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "autoloopSettingsDestroy");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getautoloopSettingsDestroySymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopSettingsDestroy(uint64_t a1)
{
  uint64_t v7 = 0;
  uint64_t v8 = &v7;
  uint64_t v9 = 0x2020000000;
  Class v2 = (void (*)(uint64_t))getautoloopSettingsDestroySymbolLoc_ptr;
  uint64_t v10 = getautoloopSettingsDestroySymbolLoc_ptr;
  if (!getautoloopSettingsDestroySymbolLoc_ptr)
  {
    uint64_t v3 = (void *)AutoLoopLibrary();
    v8[3] = (uint64_t)dlsym(v3, "autoloopSettingsDestroy");
    getautoloopSettingsDestroySymbolLoc_ptr = (_UNKNOWN *)v8[3];
    Class v2 = (void (*)(uint64_t))v8[3];
  }
  uint64_t v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {
    v6(a1);
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    double v5 = [NSString stringWithUTF8String:"void _autoloopSettingsDestroy(struct autoloopSettings *)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXAutoloopSoftLinks.m", 34, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7C788(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void *__getliveAnalysisResultToDictionarySymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "liveAnalysisResultToDictionary");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getliveAnalysisResultToDictionarySymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _liveAnalysisResultToDictionary(uint64_t a1)
{
  uint64_t v7 = 0;
  uint64_t v8 = &v7;
  uint64_t v9 = 0x2020000000;
  Class v2 = (void (*)(uint64_t))getliveAnalysisResultToDictionarySymbolLoc_ptr;
  uint64_t v10 = getliveAnalysisResultToDictionarySymbolLoc_ptr;
  if (!getliveAnalysisResultToDictionarySymbolLoc_ptr)
  {
    uint64_t v3 = (void *)AutoLoopLibrary();
    v8[3] = (uint64_t)dlsym(v3, "liveAnalysisResultToDictionary");
    getliveAnalysisResultToDictionarySymbolLoc_ptr = (_UNKNOWN *)v8[3];
    Class v2 = (void (*)(uint64_t))v8[3];
  }
  uint64_t v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {
    v6(a1);
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    double v5 = [NSString stringWithUTF8String:"NSDictionary *_liveAnalysisResultToDictionary(liveAnalysisResultRef)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXAutoloopSoftLinks.m", 38, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7C94C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void *__getautoloopErrorCodeToStringSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "autoloopErrorCodeToString");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getautoloopErrorCodeToStringSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _autoloopErrorCodeToString(uint64_t a1)
{
  uint64_t v7 = 0;
  uint64_t v8 = &v7;
  uint64_t v9 = 0x2020000000;
  Class v2 = (void (*)(uint64_t))getautoloopErrorCodeToStringSymbolLoc_ptr;
  uint64_t v10 = getautoloopErrorCodeToStringSymbolLoc_ptr;
  if (!getautoloopErrorCodeToStringSymbolLoc_ptr)
  {
    uint64_t v3 = (void *)AutoLoopLibrary();
    v8[3] = (uint64_t)dlsym(v3, "autoloopErrorCodeToString");
    getautoloopErrorCodeToStringSymbolLoc_ptr = (_UNKNOWN *)v8[3];
    Class v2 = (void (*)(uint64_t))v8[3];
  }
  uint64_t v6 = v2;
  _Block_object_dispose(&v7, 8);
  if (v6)
  {
    v6(a1);
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    double v5 = [NSString stringWithUTF8String:"CFStringRef _autoloopErrorCodeToString(autoloopErrorCode)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXAutoloopSoftLinks.m", 43, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7CB10(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void *__getrunLiveAnalysisPipelineSymbolLoc_block_invoke(uint64_t a1)
{
  Class v2 = (void *)AutoLoopLibrary();
  uint64_t result = dlsym(v2, "runLiveAnalysisPipeline");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getrunLiveAnalysisPipelineSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void _runLiveAnalysisPipeline(uint64_t a1, void *a2, void *a3, uint64_t a4, uint64_t a5, void *a6)
{
  id v11 = a2;
  id v12 = a3;
  id v13 = a6;
  uint64_t v18 = 0;
  id v19 = &v18;
  uint64_t v20 = 0x2020000000;
  uint64_t v14 = (void (*)(uint64_t, id, id, uint64_t, uint64_t, uint64_t, id))getrunLiveAnalysisPipelineSymbolLoc_ptr;
  id v21 = getrunLiveAnalysisPipelineSymbolLoc_ptr;
  if (!getrunLiveAnalysisPipelineSymbolLoc_ptr)
  {
    uint64_t v15 = (void *)AutoLoopLibrary();
    v19[3] = (uint64_t)dlsym(v15, "runLiveAnalysisPipeline");
    getrunLiveAnalysisPipelineSymbolLoc_ptr = (_UNKNOWN *)v19[3];
    uint64_t v14 = (void (*)(uint64_t, id, id, uint64_t, uint64_t, uint64_t, id))v19[3];
  }
  _Block_object_dispose(&v18, 8);
  if (v14)
  {
    v14(a1, v11, v12, 3, a4, a5, v13);
  }
  else
  {
    long long v16 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v17 = objc_msgSend(NSString, "stringWithUTF8String:", "autoloopErrorCode _runLiveAnalysisPipeline(struct autoloopSettings *, NSURL *__strong, AVAsset *__strong, size_t, alRecipeFlavor *, liveAnalysisResultRef *, __strong ALStatusBlock)");
    objc_msgSend(v16, "handleFailureInFunction:file:lineNumber:description:", v17, @"PXAutoloopSoftLinks.m", 46, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7CD2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD7D10C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
}

void sub_1AAD7D250(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAD7DB64(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD7DC64(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void SOFT_LINKED_SBSUIWallpaperGetOverlay(uint64_t a1, double a2)
{
  uint64_t v10 = 0;
  id v11 = &v10;
  uint64_t v12 = 0x2020000000;
  uint64_t v4 = (void (*)(void, uint64_t, double))getSBSUIWallpaperGetOverlaySymbolLoc_ptr;
  id v13 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr;
  if (!getSBSUIWallpaperGetOverlaySymbolLoc_ptr)
  {
    v9[0] = MEMORY[0x1E4F143A8];
    v9[1] = 3221225472;
    void v9[2] = __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke;
    v9[3] = &unk_1E5DD2B08;
    void v9[4] = &v10;
    __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke(v9);
    uint64_t v4 = (void (*)(void, uint64_t, double))v11[3];
  }
  _Block_object_dispose(&v10, 8);
  if (v4)
  {
    double v5 = v4(0, a1, a2);
    id v6 = v5;
  }
  else
  {
    uint64_t v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = objc_msgSend(NSString, "stringWithUTF8String:", "UIImage *SOFT_LINKED_SBSUIWallpaperGetOverlay(SBFWallpaperVariant, CGFloat, SBSUIWallpaperPreviewOptions)");
    objc_msgSend(v7, "handleFailureInFunction:file:lineNumber:description:", v8, @"PXWallpaperSuggestionView.m", 18, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAD7E2BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  v5[0] = 0;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary)
  {
    v5[1] = (void *)MEMORY[0x1E4F143A8];
    void v5[2] = (void *)3221225472;
    v5[3] = __SpringBoardUIServicesLibraryCore_block_invoke;
    v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    long long v6 = xmmword_1E5DBD8F0;
    uint64_t v7 = 0;
    SpringBoardUIServicesLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  Class v2 = (void *)SpringBoardUIServicesLibraryCore_frameworkLibrary;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    Class v2 = [NSString stringWithUTF8String:"void *SpringBoardUIServicesLibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXWallpaperSuggestionView.m", 17, @"%s", v5[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v3 = v5[0];
  if (v5[0]) {
LABEL_7:
  }
    free(v3);
  uint64_t result = dlsym(v2, "SBSUIWallpaperGetOverlay");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  getSBSUIWallpaperGetOverlaySymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(a1[4] + 8) + 24);
  return result;
}

uint64_t __SpringBoardUIServicesLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  SpringBoardUIServicesLibraryCore_frameworkLibrardouble y = result;
  return result;
}

void sub_1AAD7F8E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAD7FAB0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAD7FBC8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id location)
{
}

void sub_1AAD8278C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_1AAD84570(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
  for (uint64_t i = 1528; i != -8; i -= 24)

  _Unwind_Resume(a1);
}

void sub_1AAD84D80(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__133581(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__133582(uint64_t a1)
{
}

void sub_1AAD85464(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD85B28(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD86274(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 168), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD86960(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD870A0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AAD87868(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

id _SetMockRowAction(void *a1)
{
  id v1 = a1;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = ___SetMockRowAction_block_invoke;
  aBlock[3] = &unk_1E5DBDCF0;
  id v7 = v1;
  id v2 = v1;
  uint64_t v3 = _Block_copy(aBlock);
  uint64_t v4 = [MEMORY[0x1E4F94190] actionWithHandler:v3];

  return v4;
}

void sub_1AAD898F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD8B5E8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 88));
  _Unwind_Resume(a1);
}

void sub_1AAD8C134(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__134590(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__134591(uint64_t a1)
{
}

uint64_t PXFilterControllerOptionsForCollection(void *a1)
{
  id v1 = a1;
  uint64_t v2 = objc_msgSend(v1, "px_isScreenshotsSmartAlbum");
  if (objc_msgSend(v1, "px_isAllLibraryDuplicatesSmartAlbum")) {
    uint64_t v3 = v2 | 2;
  }
  else {
    uint64_t v3 = v2;
  }
  int v4 = objc_msgSend(v1, "px_isContentSyndicationAlbum");

  if (v4) {
    return v3 | 4;
  }
  else {
    return v3;
  }
}

__CFString *PXSelectionContainerContextToString(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x1E) {
    return @"Undefined";
  }
  else {
    return off_1E5DBE1D0[a1 - 1];
  }
}

void sub_1AAD8F33C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD8FAC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAD908B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXSelectionSnapshotFromIndexPaths(void *a1, void *a2)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = objc_alloc_init((Class)off_1E5DA7430);
  long long v18 = 0u;
  long long v19 = 0u;
  long long v20 = 0u;
  long long v21 = 0u;
  id v6 = v3;
  uint64_t v7 = [v6 countByEnumeratingWithState:&v18 objects:v22 count:16];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = *(void *)v19;
    do
    {
      for (uint64_t i = 0; i != v8; ++i)
      {
        if (*(void *)v19 != v9) {
          objc_enumerationMutation(v6);
        }
        id v11 = *(void **)(*((void *)&v18 + 1) + 8 * i);
        uint64_t v12 = [v4 identifier];
        uint64_t v13 = [v11 section];
        uint64_t v14 = [v11 item];
        v17[0] = v12;
        v17[1] = v13;
        v17[2] = v14;
        v17[3] = 0x7FFFFFFFFFFFFFFFLL;
        [v5 addIndexPath:v17];
      }
      uint64_t v8 = [v6 countByEnumeratingWithState:&v18 objects:v22 count:16];
    }
    while (v8);
  }

  uint64_t v15 = (void *)[objc_alloc((Class)off_1E5DA84E8) initWithDataSource:v4 selectedIndexPaths:v5];
  return v15;
}

id PXSelectionProviderForViewController(void *a1)
{
  id v1 = a1;
  if (!v1) {
    goto LABEL_12;
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v2 = [v1 viewControllers];
    id v3 = [v2 lastObject];
    PXSelectionProviderForViewController();
    id v4 = (id)objc_claimAutoreleasedReturnValue();

LABEL_9:
    goto LABEL_13;
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v5 = [v1 selectedViewController];
LABEL_8:
    uint64_t v2 = (void *)v5;
    PXSelectionProviderForViewController();
    id v4 = (id)objc_claimAutoreleasedReturnValue();
    goto LABEL_9;
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v5 = [v1 topViewController];
    goto LABEL_8;
  }
  if ([v1 conformsToProtocol:&unk_1F030E5D0]) {
    id v4 = v1;
  }
  else {
LABEL_12:
  }
    id v4 = 0;
LABEL_13:

  return v4;
}

void sub_1AAD92984(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v7 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__135735(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__135736(uint64_t a1)
{
}

void PXLemonadeAppearanceConfigureIfNeeded()
{
  if (PXLemonadeAppearanceConfigureIfNeeded_onceToken != -1) {
    dispatch_once(&PXLemonadeAppearanceConfigureIfNeeded_onceToken, &__block_literal_global_136700);
  }
}

void __PXLemonadeAppearanceConfigureIfNeeded_block_invoke()
{
}

uint64_t __PXLemonadeAppearanceConfigureIfNeeded_block_invoke_2()
{
  return +[PXLemonadeAppearance configure];
}

void sub_1AAD98890(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAD99EDC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__137217(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__137218(uint64_t a1)
{
}

uint64_t _PXSortActionTypeForAssetCollection(void *a1)
{
  id v1 = a1;
  int v2 = [v1 customSortAscending];
  BOOL IsCloudShared = _PXAssetCollectionIsCloudShared(v1);
  int v4 = [v1 customSortKey];
  if (v4 <= 1)
  {
    if (v4)
    {
      if (v4 != 1) {
        goto LABEL_10;
      }
      if (v2) {
        uint64_t v5 = 3;
      }
      else {
        uint64_t v5 = 4;
      }
    }
    else if (IsCloudShared)
    {
      uint64_t v5 = 2;
    }
    else
    {
      uint64_t v5 = 1;
    }
  }
  else
  {
    uint64_t v5 = 0;
    if ((v4 - 2) >= 4 && v4 != 101)
    {
LABEL_10:
      uint64_t v7 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v8 = [NSString stringWithUTF8String:"PXSortActionType _PXSortActionTypeForAssetCollection(PHAssetCollection *__strong)"];
      [v7 handleFailureInFunction:v8 file:@"PXPhotoKitAssetCollectionSortActionPerformer.m" lineNumber:69 description:@"Code which should be unreachable has been reached"];

      abort();
    }
  }

  return v5;
}

BOOL _PXAssetCollectionIsCloudShared(void *a1)
{
  id v1 = a1;
  BOOL v2 = [v1 assetCollectionType] == 1 && objc_msgSend(v1, "assetCollectionSubtype") == 101;

  return v2;
}

void sub_1AAD9C504(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQInAppMessageKeySymbolLoc_block_invoke(uint64_t a1)
{
  BOOL v2 = iCloudQuotaUILibrary_137491();
  uint64_t result = dlsym(v2, "ICQInAppMessageKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQInAppMessageKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *iCloudQuotaUILibrary_137491()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_137501)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __iCloudQuotaUILibraryCore_block_invoke_137502;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DBE440;
    uint64_t v6 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_137501 = _sl_dlopen();
  }
  uint64_t v0 = (void *)iCloudQuotaUILibraryCore_frameworkLibrary_137501;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_137501)
  {
    uint64_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCPLCloudQuotaSource.m", 21, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_137502()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_137501 = result;
  return result;
}

void sub_1AAD9CB48(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
}

void *__getICQUIInAppMessageReasoniCloudAlmostFullSymbolLoc_block_invoke(uint64_t a1)
{
  BOOL v2 = iCloudQuotaUILibrary_137491();
  uint64_t result = dlsym(v2, "ICQUIInAppMessageReasoniCloudAlmostFull");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQUIInAppMessageReasoniCloudAlmostFullSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *__getICQUIInAppMessageReasoniCloudFullSymbolLoc_block_invoke(uint64_t a1)
{
  BOOL v2 = iCloudQuotaUILibrary_137491();
  uint64_t result = dlsym(v2, "ICQUIInAppMessageReasoniCloudFull");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQUIInAppMessageReasoniCloudFullSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AAD9D2E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQCurrentInAppMessageChangedNotificationSymbolLoc_block_invoke(uint64_t a1)
{
  BOOL v2 = iCloudQuotaUILibrary_137491();
  uint64_t result = dlsym(v2, "ICQCurrentInAppMessageChangedNotification");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQCurrentInAppMessageChangedNotificationSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void __getICQInAppMessagingClass_block_invoke(uint64_t a1)
{
  iCloudQuotaUILibrary_137491();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("ICQInAppMessaging");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getICQInAppMessagingClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    BOOL v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getICQInAppMessagingClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCPLCloudQuotaSource.m", 22, @"Unable to find class %s", "ICQInAppMessaging");

    __break(1u);
  }
}

void sub_1AAD9D924(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__137619(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__137620(uint64_t a1)
{
}

void sub_1AAD9EA10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAD9F550(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAD9F934(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id _FeatureFlagToggleRowAction(void *a1)
{
  id v1 = a1;
  BOOL v2 = (void *)MEMORY[0x1E4F94190];
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = ___FeatureFlagToggleRowAction_block_invoke;
  v6[3] = &unk_1E5DBE570;
  id v7 = v1;
  id v3 = v1;
  int v4 = [v2 actionWithHandler:v6];

  return v4;
}

id _ImageForStateAndBackgroundColor(int a1, void *a2)
{
  void v13[2] = *MEMORY[0x1E4F143B8];
  id v3 = @"minus.circle.fill";
  if (a1) {
    id v3 = @"checkmark.circle.fill";
  }
  int v4 = (void *)MEMORY[0x1E4FB1830];
  long long v5 = (void *)MEMORY[0x1E4FB1618];
  uint64_t v6 = v3;
  id v7 = a2;
  uint64_t v8 = [v5 whiteColor];
  v13[0] = v8;
  v13[1] = v7;
  uint64_t v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v13 count:2];
  uint64_t v10 = [v4 configurationWithPaletteColors:v9];

  id v11 = [MEMORY[0x1E4FB1818] systemImageNamed:v6 withConfiguration:v10];

  return v11;
}

void _PresentAlert(uint64_t a1, uint64_t a2, void *a3)
{
  long long v5 = (void *)MEMORY[0x1E4FB1418];
  id v6 = a3;
  id v8 = [v5 alertControllerWithTitle:a1 message:a2 preferredStyle:1];
  id v7 = [MEMORY[0x1E4FB1410] actionWithTitle:@"OK" style:0 handler:0];
  [v8 addAction:v7];

  [v6 presentViewController:v8 animated:1 completion:0];
}

void sub_1AADA8690(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 136), 8);
  _Unwind_Resume(a1);
}

void sub_1AADA8A00(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AADA8F68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AADA9E18(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibraryCellSystemImageNamed(void *a1)
{
  uint64_t v1 = (void *)MEMORY[0x1E4FB1830];
  BOOL v2 = (void *)MEMORY[0x1E4FB08E0];
  uint64_t v3 = *MEMORY[0x1E4FB28C8];
  id v4 = a1;
  long long v5 = objc_msgSend(v2, "px_preferredFontForTextStyle:withSymbolicTraits:options:", v3, 0x8000, 2);
  id v6 = [v1 configurationWithFont:v5 scale:2];

  id v7 = [MEMORY[0x1E4FB1818] systemImageNamed:v4 withConfiguration:v6];

  return v7;
}

void PXSharedLibraryNavigateToLibraryViewInSharedLibraryViewMode(int a1, void *a2)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  id v4 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEFAULT, "Will navigate to All Photos", buf, 2u);
  }

  if (a1) {
    unint64_t v5 = 2;
  }
  else {
    unint64_t v5 = 0;
  }
  id v6 = (void *)MEMORY[0x1E4F1CB10];
  id v7 = objc_msgSend(NSString, "stringWithFormat:", @"photos://contentmode?id=photos&libraryViewMode=%ld", v5);
  id v8 = [v6 URLWithString:v7];

  uint64_t v9 = [MEMORY[0x1E4F223E0] defaultWorkspace];
  id v20 = 0;
  int v10 = [v9 openSensitiveURL:v8 withOptions:MEMORY[0x1E4F1CC08] error:&v20];
  id v11 = v20;

  uint64_t v12 = PLSharedLibraryGetLog();
  uint64_t v13 = v12;
  if (v10)
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_12;
    }
    *(_WORD *)long long buf = 0;
    uint64_t v14 = "Did navigate to All Photos";
    uint64_t v15 = v13;
    os_log_type_t v16 = OS_LOG_TYPE_DEFAULT;
    uint32_t v17 = 2;
  }
  else
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_ERROR)) {
      goto LABEL_12;
    }
    *(_DWORD *)long long buf = 138412290;
    id v22 = v11;
    uint64_t v14 = "Failed to navigate to All Photos: %@";
    uint64_t v15 = v13;
    os_log_type_t v16 = OS_LOG_TYPE_ERROR;
    uint32_t v17 = 12;
  }
  _os_log_impl(&dword_1A9AE7000, v15, v16, v14, buf, v17);
LABEL_12:

  long long v18 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    long long v19 = PXLibraryFilterViewModeDescription(v5);
    *(_DWORD *)long long buf = 138543362;
    id v22 = v19;
    _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_DEFAULT, "Will set filter view mode: %{public}@", buf, 0xCu);
  }
  [v3 setViewMode:v5];
}

void PXSharedLibraryCreatePlatterImage(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  PXSizeMakeSquare();
}

void __PXSharedLibraryCreatePlatterImage_block_invoke(uint64_t a1)
{
  v13[1] = *MEMORY[0x1E4F143B8];
  BOOL v2 = [MEMORY[0x1E4FB1618] tertiarySystemGroupedBackgroundColor];
  [v2 set];

  id v3 = objc_msgSend(MEMORY[0x1E4FB14C0], "bezierPathWithOvalInRect:", *(double *)(a1 + 56), *(double *)(a1 + 64), *(double *)(a1 + 72), *(double *)(a1 + 80));
  [v3 fill];

  id v4 = [MEMORY[0x1E4FB1830] configurationWithPointSize:28.0];
  uint64_t v5 = [MEMORY[0x1E4FB1830] configurationWithScale:3];
  id v6 = (void *)MEMORY[0x1E4FB1830];
  id v7 = [MEMORY[0x1E4FB1618] tintColor];
  v13[0] = v7;
  id v8 = [MEMORY[0x1E4F1C978] arrayWithObjects:v13 count:1];
  uint64_t v9 = [v6 configurationWithPaletteColors:v8];

  int v10 = [v4 configurationByApplyingConfiguration:v5];
  uint64_t v11 = [v10 configurationByApplyingConfiguration:v9];

  uint64_t v12 = [MEMORY[0x1E4FB1818] systemImageNamed:*(void *)(a1 + 32) withConfiguration:v11];
  [v12 alignmentRectInsets];
  [v12 size];
  PXRectWithCenterAndSize();
}

id PXSharedLibraryAssistantCreateTextViewForSelectableLinks()
{
  id v0 = objc_alloc(MEMORY[0x1E4FB1DD8]);
  uint64_t v1 = objc_msgSend(v0, "initWithFrame:", *MEMORY[0x1E4F1DB28], *(double *)(MEMORY[0x1E4F1DB28] + 8), *(double *)(MEMORY[0x1E4F1DB28] + 16), *(double *)(MEMORY[0x1E4F1DB28] + 24));
  BOOL v2 = [MEMORY[0x1E4FB1618] clearColor];
  [v1 setBackgroundColor:v2];

  [v1 setEditable:0];
  [v1 setScrollEnabled:0];
  [v1 setDelaysContentTouches:0];
  [v1 setSelectable:1];
  [v1 _setInteractiveTextSelectionDisabled:1];
  return v1;
}

BOOL PXSharedLibraryAssistantShouldUseAccessibilityLayout()
{
  id v0 = [MEMORY[0x1E4FB1438] sharedApplication];
  uint64_t v1 = [v0 preferredContentSizeCategory];
  BOOL v2 = (void *)v1;
  id v3 = (void *)*MEMORY[0x1E4FB27F0];
  if (v1) {
    id v3 = (void *)v1;
  }
  id v4 = v3;

  NSComparisonResult v5 = UIContentSizeCategoryCompareToCategory((UIContentSizeCategory)*MEMORY[0x1E4FB27C0], v4);
  return v5 == NSOrderedAscending;
}

__CFString *PXSharedLibraryTitleForCounts(long long *a1)
{
  if (*(void *)a1 == 0x7FFFFFFFFFFFFFFFLL
    || *((void *)a1 + 1) == 0x7FFFFFFFFFFFFFFFLL
    || *((void *)a1 + 2) == 0x7FFFFFFFFFFFFFFFLL)
  {
    id v3 = &stru_1F00B0030;
  }
  else
  {
    long long v5 = *a1;
    uint64_t v6 = *((void *)a1 + 2);
    PXLocalizedStringForDetailedCountsWithUsage(&v5, 4);
    id v3 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  return v3;
}

void sub_1AADAB6B4(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 128));
  _Unwind_Resume(a1);
}

__CFString *PXHomeEventsAlgorithmDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0xC) {
    return @"Months";
  }
  else {
    return off_1E5DBE7E8[a1 - 1];
  }
}

void *PXHomeAllEventsAlgorithms()
{
  return &unk_1F02D47F8;
}

__CFString *PXAnalyticsNavigationKindDescription(unint64_t a1)
{
  uint64_t v3 = *MEMORY[0x1E4F143B8];
  if (a1 >= 6) {
    PXAssertGetLog();
  }
  uint64_t v1 = off_1E5DBE988[a1];
  return v1;
}

__CFString *PXAnalyticsEventFromMemoryFeatureType(uint64_t a1)
{
  uint64_t v1 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.date";
  BOOL v2 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.dateInterval";
  uint64_t v3 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.holiday";
  id v4 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.locationAddress";
  long long v5 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.locationArea";
  if ((a1 & 0x20000) == 0) {
    long long v5 = @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.other";
  }
  if ((a1 & 0x1000) == 0) {
    id v4 = v5;
  }
  if ((a1 & 0x20) == 0) {
    uint64_t v3 = v4;
  }
  if ((a1 & 0x200) == 0) {
    BOOL v2 = v3;
  }
  if ((a1 & 0x10) == 0) {
    uint64_t v1 = v2;
  }
  if (a1) {
    return v1;
  }
  else {
    return @"com.apple.photos.CPAnalytics.userFeedback.negative.memoryFeature.none";
  }
}

__CFString *PXAnalyticsSlideshowTriggerTypeDescription(unint64_t a1)
{
  uint64_t v2 = *MEMORY[0x1E4F143B8];
  if (a1 >= 7) {
    PXAssertGetLog();
  }
  return off_1E5DBE9B8[a1];
}

__CFString *PXAnalyticsSlideshowTerminationTypeDescription(unint64_t a1)
{
  uint64_t v2 = *MEMORY[0x1E4F143B8];
  if (a1 >= 3) {
    PXAssertGetLog();
  }
  return off_1E5DBE9F0[a1];
}

void PXDispatchAsyncWithSignpost(void *a1, void *a2, void *a3, double a4)
{
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  uint64_t v10 = mach_absolute_time();
  uint64_t v11 = [MEMORY[0x1E4F56658] startSignpost];
  v15[0] = MEMORY[0x1E4F143A8];
  v15[1] = 3221225472;
  v15[2] = __PXDispatchAsyncWithSignpost_block_invoke;
  v15[3] = &unk_1E5DBE968;
  id v18 = v9;
  uint64_t v19 = v10;
  double v20 = a4;
  id v16 = v7;
  id v17 = v8;
  uint64_t v21 = v11;
  id v12 = v8;
  uint64_t v13 = v7;
  id v14 = v9;
  dispatch_async(v13, v15);
}

void __PXDispatchAsyncWithSignpost_block_invoke(uint64_t a1)
{
}

void sub_1AADAF968(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 200), 8);
  _Unwind_Resume(a1);
}

void sub_1AADB18E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__142613(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__142614(uint64_t a1)
{
}

void PXStoryCompanionRectFromPXStoryContentsRect()
{
}

void PXStoryCompanionRectFromPXStoryRect(uint64_t a1@<X8>)
{
  *(_OWORD *)a1 = 0u;
  *(_OWORD *)(a1 + 16) = 0u;
  *(void *)(a1 + 32) = 0;
  PXStoryRectDecompose();
}

void sub_1AADB2784(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__142838(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__142839(uint64_t a1)
{
}

void sub_1AADB4C28(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXUserInterfaceIdiomFromUIUserInterfaceIdiom(unint64_t a1)
{
  if (a1 > 6) {
    return 0;
  }
  else {
    return qword_1AB35AFA8[a1];
  }
}

uint64_t PXUserInterfaceLayoutDirectionFromUITraitCollection(void *a1)
{
  uint64_t v1 = [a1 layoutDirection];
  if (v1) {
    return 2 * (v1 == 1);
  }
  else {
    return 1;
  }
}

uint64_t PXUserInterfaceLevelFromUITraitCollection(void *a1)
{
  uint64_t v1 = [a1 userInterfaceLevel];
  if (v1 == -1) {
    return -1;
  }
  else {
    return v1 == 1;
  }
}

void sub_1AADBEFC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXCMMSettingsSimulateFetchErrorTypes()
{
  id v0 = _SimulateFetchErrorTypesToTitles();
  uint64_t v1 = [v0 allKeys];
  uint64_t v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _SimulateFetchErrorTypesToTitles()
{
  void v3[4] = *MEMORY[0x1E4F143B8];
  v2[0] = &unk_1F02D8638;
  v2[1] = &unk_1F02D8650;
  v3[0] = @"None";
  v3[1] = @"Fetch Timeout";
  v2[2] = &unk_1F02D8668;
  v2[3] = &unk_1F02D8680;
  v3[2] = @"Fetch Recoverable";
  void v3[3] = @"Fetch Permanent";
  id v0 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v3 forKeys:v2 count:4];
  return v0;
}

id PXCMMSettingsSimulateFetchErrorTypeTitles()
{
  id v0 = _SimulateFetchErrorTypesToTitles();
  uint64_t v1 = PXCMMSettingsSimulateFetchErrorTypes();
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSettingsSimulateFetchErrorTypeTitles_block_invoke;
  v8[3] = &unk_1E5DCBF48;
  id v9 = v0;
  id v3 = v2;
  id v10 = v3;
  id v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  long long v5 = v10;
  id v6 = v3;

  return v6;
}

void __PXCMMSettingsSimulateFetchErrorTypeTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  id v3 = [*(id *)(a1 + 32) objectForKeyedSubscript:a2];
  [*(id *)(a1 + 40) addObject:v3];
}

id PXCMMSettingsSimulateErrorTypes()
{
  id v0 = _SimulateErrorTypesToTitles_144936();
  uint64_t v1 = [v0 allKeys];
  id v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _SimulateErrorTypesToTitles_144936()
{
  v3[12] = *MEMORY[0x1E4F143B8];
  v2[0] = &unk_1F02D8638;
  v2[1] = &unk_1F02D8650;
  v3[0] = @"Unrecognized";
  v3[1] = @"Transient (like Network Error)";
  v2[2] = &unk_1F02D8668;
  v2[3] = &unk_1F02D8680;
  v3[2] = @"Invalid URL";
  void v3[3] = @"Deleted By Sender";
  void v2[4] = &unk_1F02D8698;
  v2[5] = &unk_1F02D86B0;
  void v3[4] = @"Not Found (Probably Expired)";
  void v3[5] = @"Quota Exceeded";
  v2[6] = &unk_1F02D86C8;
  v2[7] = &unk_1F02D86E0;
  v3[6] = @"iCloud Required";
  v3[7] = @"CPL Exit Mode";
  v2[8] = &unk_1F02D86F8;
  v2[9] = &unk_1F02D8710;
  v3[8] = @"Messages Unavailable";
  v3[9] = @"Feature Disabled";
  v2[10] = &unk_1F02D8728;
  v2[11] = &unk_1F02D8740;
  v3[10] = @"iCloud Settings Require Review";
  v3[11] = @"User Cancelled";
  id v0 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v3 forKeys:v2 count:12];
  return v0;
}

id PXCMMSettingsSimulateErrorTypeTitles()
{
  id v0 = _SimulateErrorTypesToTitles_144936();
  uint64_t v1 = PXCMMSettingsSimulateErrorTypes();
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSettingsSimulateErrorTypeTitles_block_invoke;
  v8[3] = &unk_1E5DCBF48;
  id v9 = v0;
  id v3 = v2;
  id v10 = v3;
  id v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  long long v5 = v10;
  id v6 = v3;

  return v6;
}

void __PXCMMSettingsSimulateErrorTypeTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  id v3 = [*(id *)(a1 + 32) objectForKeyedSubscript:a2];
  [*(id *)(a1 + 40) addObject:v3];
}

id PXCMMSimulateCapabilitySourceStates()
{
  id v0 = _PXCMMSimulateCapabilitySourceStatesToTitles();
  uint64_t v1 = [v0 allKeys];
  id v2 = [v1 sortedArrayUsingSelector:sel_compare_];

  return v2;
}

id _PXCMMSimulateCapabilitySourceStatesToTitles()
{
  void v3[3] = *MEMORY[0x1E4F143B8];
  v2[0] = &unk_1F02D8638;
  v2[1] = &unk_1F02D8650;
  v3[0] = @"Default";
  v3[1] = @"Enabled";
  v2[2] = &unk_1F02D8668;
  v3[2] = @"Disabled";
  id v0 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v3 forKeys:v2 count:3];
  return v0;
}

id PXCMMSimulateCapabilitySourceStateTitles()
{
  id v0 = _PXCMMSimulateCapabilitySourceStatesToTitles();
  uint64_t v1 = PXCMMSimulateCapabilitySourceStates();
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXCMMSimulateCapabilitySourceStateTitles_block_invoke;
  v8[3] = &unk_1E5DCBF48;
  id v9 = v0;
  id v3 = v2;
  id v10 = v3;
  id v4 = v0;
  [v1 enumerateObjectsUsingBlock:v8];
  long long v5 = v10;
  id v6 = v3;

  return v6;
}

void __PXCMMSimulateCapabilitySourceStateTitles_block_invoke(uint64_t a1, uint64_t a2)
{
  id v3 = [*(id *)(a1 + 32) objectForKeyedSubscript:a2];
  [*(id *)(a1 + 40) addObject:v3];
}

void PXConfigureAndPresentFailureAlert(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8)
{
  id v15 = a1;
  id v16 = a2;
  id v17 = a3;
  id v18 = a5;
  uint64_t v19 = a6;
  id v20 = a7;
  id v21 = a8;
  id v22 = a4;
  if ([v15 length])
  {
    if (v22) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v25 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v26 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))");
    [v25 handleFailureInFunction:v26, @"PXFailureAlertUtilities.m", 26, @"Invalid parameter not satisfying: %@", @"localizedTitle.length" file lineNumber description];

    if (v22)
    {
LABEL_3:
      if (v19) {
        goto LABEL_4;
      }
      goto LABEL_10;
    }
  }
  id v27 = [MEMORY[0x1E4F28B00] currentHandler];
  id v28 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))");
  [v27 handleFailureInFunction:v28, @"PXFailureAlertUtilities.m", 29, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

  if (v19)
  {
LABEL_4:
    if (v21) {
      goto LABEL_5;
    }
LABEL_11:
    id v31 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v32 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))");
    [v31 handleFailureInFunction:v32, @"PXFailureAlertUtilities.m", 31, @"Invalid parameter not satisfying: %@", @"configurationBlock" file lineNumber description];

    if (!v17) {
      goto LABEL_12;
    }
    goto LABEL_6;
  }
LABEL_10:
  id v29 = [MEMORY[0x1E4F28B00] currentHandler];
  id v30 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXConfigureAndPresentFailureAlert(NSString *__strong _Nonnull, NSString * _Nullable __strong, NSError *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(void), __strong os_log_t _Nonnull, NSArray<PXAlertAction *> * _Nullable __strong, void (^__strong _Nonnull)(PXRadarConfiguration *__strong))");
  [v29 handleFailureInFunction:v30, @"PXFailureAlertUtilities.m", 30, @"Invalid parameter not satisfying: %@", @"os_log" file lineNumber description];

  if (!v21) {
    goto LABEL_11;
  }
LABEL_5:
  if (!v17) {
    goto LABEL_12;
  }
LABEL_6:
  uint64_t v23 = +[PXRootSettings sharedInstance];
  int v24 = [v23 canShowInternalUI];

  if (v24) {
    PXCanonicalErrorForError();
  }
LABEL_12:
  if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: Will present alert", buf, 2u);
  }
  v40[0] = MEMORY[0x1E4F143A8];
  v40[1] = 3221225472;
  v40[2] = __PXConfigureAndPresentFailureAlert_block_invoke;
  v40[3] = &unk_1E5DBED98;
  id v41 = v15;
  id v42 = v16;
  id v43 = 0;
  id v33 = v19;
  __int16 v44 = v33;
  uint64_t v34 = (void (**)(void))v18;
  id v45 = v20;
  id v46 = v34;
  id v35 = v20;
  id v36 = 0;
  id v37 = v16;
  id v38 = v15;
  id v39 = [v22 presentAlertWithConfigurationHandler:v40];

  if (v39)
  {
    if (os_log_type_enabled(v33, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v33, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: Did present alert", buf, 2u);
    }
  }
  else
  {
    if (os_log_type_enabled(v33, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v33, OS_LOG_TYPE_ERROR, "PXFailureAlert: Failed to present alert", buf, 2u);
    }
    if (v34) {
      v34[2](v34);
    }
  }
}

void __PXConfigureAndPresentFailureAlert_block_invoke(uint64_t a1, void *a2)
{
  id v3 = a2;
  [v3 setTitle:*(void *)(a1 + 32)];
  [v3 setMessage:*(void *)(a1 + 40)];
  id v4 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  if (*(void *)(a1 + 48))
  {
    long long v5 = [PXAlertAction alloc];
    v13[0] = MEMORY[0x1E4F143A8];
    v13[1] = 3221225472;
    void v13[2] = __PXConfigureAndPresentFailureAlert_block_invoke_2;
    void v13[3] = &unk_1E5DD0E78;
    id v14 = *(id *)(a1 + 48);
    id v15 = *(id *)(a1 + 56);
    id v16 = *(id *)(a1 + 72);
    id v6 = [(PXAlertAction *)v5 initWithTitle:@"File Radar" style:0 action:v13];
    [v4 addObject:v6];
  }
  if (*(void *)(a1 + 64)) {
    objc_msgSend(v4, "addObjectsFromArray:");
  }
  id v7 = [PXAlertAction alloc];
  id v8 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v10[0] = MEMORY[0x1E4F143A8];
  v10[1] = 3221225472;
  void v10[2] = __PXConfigureAndPresentFailureAlert_block_invoke_233;
  _OWORD v10[3] = &unk_1E5DD3280;
  id v11 = *(id *)(a1 + 56);
  id v12 = *(id *)(a1 + 72);
  id v9 = [(PXAlertAction *)v7 initWithTitle:v8 style:0 action:v10];
  [v4 addObject:v9];

  [v3 addActions:v4];
}

void __PXConfigureAndPresentFailureAlert_block_invoke_2(id *a1)
{
  v2[0] = MEMORY[0x1E4F143A8];
  v2[1] = 3221225472;
  v2[2] = __PXConfigureAndPresentFailureAlert_block_invoke_3;
  void v2[3] = &unk_1E5DD2B90;
  id v3 = a1[5];
  id v4 = a1[6];
  [a1[4] setCompletionHandler:v2];
  PXFileRadarWithConfiguration(a1[4]);
}

uint64_t __PXConfigureAndPresentFailureAlert_block_invoke_233(uint64_t a1)
{
  id v2 = *(NSObject **)(a1 + 32);
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: User dismissed the alert", v4, 2u);
  }
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(void))(result + 16))();
  }
  return result;
}

void __PXConfigureAndPresentFailureAlert_block_invoke_3(uint64_t a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  long long v5 = *(NSObject **)(a1 + 32);
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v7 = 0;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "PXFailureAlert: User dismissed the alert with the TTR button", v7, 2u);
  }
  uint64_t v6 = *(void *)(a1 + 40);
  if (v6) {
    (*(void (**)(void))(v6 + 16))();
  }
}

void sub_1AADC20A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37)
{
}

uint64_t __Block_byref_object_copy__145119(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__145120(uint64_t a1)
{
}

id PXLabeledValuesWithValuesAndLocalizedLabels(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  long long v5 = v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v13 = [MEMORY[0x1E4F28B00] currentHandler];
    id v14 = objc_msgSend(NSString, "stringWithUTF8String:", "NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)");
    [v13 handleFailureInFunction:v14, @"PXLabeledValue.m", 102, @"Invalid parameter not satisfying: %@", @"values" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  id v15 = [MEMORY[0x1E4F28B00] currentHandler];
  id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)");
  [v15 handleFailureInFunction:v16, @"PXLabeledValue.m", 103, @"Invalid parameter not satisfying: %@", @"localizedLabels" file lineNumber description];

LABEL_3:
  uint64_t v6 = [v3 count];
  if (v6 != [v5 count])
  {
    id v17 = [MEMORY[0x1E4F28B00] currentHandler];
    id v18 = objc_msgSend(NSString, "stringWithUTF8String:", "NSArray<PXLabeledValue *> * _Nonnull PXLabeledValuesWithValuesAndLocalizedLabels(NSArray<id<PXLabeledValueType>> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)");
    [v17 handleFailureInFunction:v18, @"PXLabeledValue.m", 104, @"Invalid parameter not satisfying: %@", @"values.count == localizedLabels.count" file lineNumber description];
  }
  id v7 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v19[0] = MEMORY[0x1E4F143A8];
  v19[1] = 3221225472;
  v19[2] = __PXLabeledValuesWithValuesAndLocalizedLabels_block_invoke;
  v19[3] = &unk_1E5DBEE10;
  id v20 = v5;
  id v8 = v7;
  id v21 = v8;
  id v9 = v5;
  [v3 enumerateObjectsUsingBlock:v19];
  id v10 = v21;
  id v11 = v8;

  return v11;
}

void __PXLabeledValuesWithValuesAndLocalizedLabels_block_invoke(uint64_t a1, void *a2, uint64_t a3)
{
  long long v5 = *(void **)(a1 + 32);
  id v6 = a2;
  id v8 = [v5 objectAtIndexedSubscript:a3];
  id v7 = [[PXLabeledValue alloc] initWithValue:v6 localizedLabel:v8];

  [*(id *)(a1 + 40) addObject:v7];
}

uint64_t PXSmartAlbumIndexOfValueInLabeledValues(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  long long v5 = v4;
  if (!v3)
  {
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = objc_msgSend(NSString, "stringWithUTF8String:", "NSUInteger PXSmartAlbumIndexOfValueInLabeledValues(NSArray<PXLabeledValue *> *__strong _Nonnull, __strong id<PXLabeledValueType> _Nonnull)");
    [v9 handleFailureInFunction:v10, @"PXLabeledValue.m", 116, @"Invalid parameter not satisfying: %@", @"labeledValues" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
LABEL_5:
    id v11 = [MEMORY[0x1E4F28B00] currentHandler];
    id v12 = objc_msgSend(NSString, "stringWithUTF8String:", "NSUInteger PXSmartAlbumIndexOfValueInLabeledValues(NSArray<PXLabeledValue *> *__strong _Nonnull, __strong id<PXLabeledValueType> _Nonnull)");
    [v11 handleFailureInFunction:v12, @"PXLabeledValue.m", 117, @"Invalid parameter not satisfying: %@", @"value" file lineNumber description];

    goto LABEL_3;
  }
  if (!v4) {
    goto LABEL_5;
  }
LABEL_3:
  v13[0] = MEMORY[0x1E4F143A8];
  v13[1] = 3221225472;
  void v13[2] = __PXSmartAlbumIndexOfValueInLabeledValues_block_invoke;
  void v13[3] = &unk_1E5DBEE38;
  id v14 = v5;
  id v6 = v5;
  uint64_t v7 = [v3 indexOfObjectPassingTest:v13];

  return v7;
}

uint64_t __PXSmartAlbumIndexOfValueInLabeledValues_block_invoke(uint64_t a1, void *a2)
{
  id v3 = [a2 value];
  id v4 = v3;
  if (v3 == *(void **)(a1 + 32)) {
    uint64_t v5 = 1;
  }
  else {
    uint64_t v5 = objc_msgSend(v3, "isEqual:");
  }

  return v5;
}

id PXLabeledValueForValueInLabeledValues(void *a1, void *a2)
{
  id v3 = a1;
  uint64_t v4 = PXSmartAlbumIndexOfValueInLabeledValues(v3, a2);
  if (v4 == 0x7FFFFFFFFFFFFFFFLL)
  {
    uint64_t v5 = 0;
  }
  else
  {
    uint64_t v5 = [v3 objectAtIndexedSubscript:v4];
  }

  return v5;
}

uint64_t PXCanExpungeAssetFromAssetCollection(void *a1, void *a2)
{
  id v3 = a1;
  unsigned int v4 = [a2 canPerformEditOperation:1];
  int v5 = [v3 participatesInLibraryScope];
  uint64_t v6 = v5 & v4;
  if ((v5 & 1) == 0 && v4) {
    uint64_t v6 = [v3 canPerformEditOperation:101];
  }

  return v6;
}

void sub_1AADC4354(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__145700(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__145701(uint64_t a1)
{
}

void sub_1AADC9B74(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 88));
  _Unwind_Resume(a1);
}

void sub_1AADCA45C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

BOOL PXPhotosDetailsContextShouldShowHeaderForDataSource(void *a1)
{
  id v1 = a1;
  if ([v1 numberOfSections] < 1)
  {
    BOOL v8 = 0;
  }
  else
  {
    id v2 = -[PXPhotosDataSource initWithPhotosDataSource:options:]([PXPhotosDataSource alloc], "initWithPhotosDataSource:options:", v1, [v1 options] | 0x10);
    uint64_t v3 = [(PXPhotosDataSource *)v2 assetCollectionForSection:0];
    [(PXPhotosDataSource *)v2 setWantsCuration:1 forAssetCollection:v3];
    unsigned int v4 = +[PXMemoriesRelatedSettings sharedInstance];
    uint64_t v5 = [v4 minimumNumberOfCuratedAssetsForMovieHeader];

    uint64_t v6 = [(PXPhotosDataSource *)v2 numberOfItemsInSection:0];
    if (v6)
    {
      unint64_t v7 = v6;
    }
    else
    {
      id v9 = [(PXPhotosDataSource *)v2 uncuratedAssetsInSection:0];
      unint64_t v7 = [v9 count];
      uint64_t v5 = vcvtpd_u64_f64(pow((double)v5, 1.265));
    }
    BOOL v8 = v7 >= v5;
  }
  return v8;
}

BOOL PXPhotosDetailsContextHasLocationForDataSource(void *a1)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if ([v1 numberOfSections] >= 1)
  {
    long long v22 = 0u;
    long long v23 = 0u;
    long long v20 = 0u;
    long long v21 = 0u;
    id v2 = [v1 assetsInSection:0];
    uint64_t v3 = [v2 countByEnumeratingWithState:&v20 objects:v24 count:16];
    if (v3)
    {
      uint64_t v4 = v3;
      int v5 = 0;
      uint64_t v6 = *(void *)v21;
      while (2)
      {
        uint64_t v7 = 0;
        if (v5 <= 19) {
          int v8 = 19;
        }
        else {
          int v8 = v5;
        }
        uint64_t v9 = (v8 - v5);
        v5 += v4;
        do
        {
          if (*(void *)v21 != v6) {
            objc_enumerationMutation(v2);
          }
          id v10 = [*(id *)(*((void *)&v20 + 1) + 8 * v7) location];

          if (v10)
          {
            BOOL v18 = 1;
            goto LABEL_23;
          }
          if (v9 == v7) {
            goto LABEL_14;
          }
          ++v7;
        }
        while (v4 != v7);
        uint64_t v4 = [v2 countByEnumeratingWithState:&v20 objects:v24 count:16];
        if (v4) {
          continue;
        }
        break;
      }
    }
LABEL_14:
  }
  if ([v1 numberOfSections] < 1 || objc_msgSend(v1, "numberOfItemsInSection:", 0) < 21)
  {
    BOOL v18 = 0;
  }
  else
  {
    id v2 = [v1 assetsInSection:0];
    id v11 = [v2 fetchedObjectIDs];
    if ([v11 count])
    {
      id v12 = (void *)MEMORY[0x1E4F390A0];
      uint64_t v13 = [v2 photoLibrary];
      id v14 = [v2 firstObject];
      id v15 = [v12 fetchOptionsWithPhotoLibrary:v13 orObject:v14];

      [v15 setFetchLimit:1];
      id v16 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"self in (%@) AND additionalAttributes.locationHash != 0", v11];
      [v15 setInternalPredicate:v16];

      [v15 setInternalSortDescriptors:MEMORY[0x1E4F1CBF0]];
      id v17 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v15];
      BOOL v18 = [v17 count] != 0;
    }
    else
    {
      BOOL v18 = 0;
    }

LABEL_23:
  }

  return v18;
}

id PXViewControllerEventTrackerCreateWithPhotosDetailsContext(void *a1)
{
  id v1 = a1;
  unint64_t v2 = [v1 viewSourceOrigin];
  if (v2 > 0xD) {
    uint64_t v3 = @"Unknown";
  }
  else {
    uint64_t v3 = off_1E5DD3428[v2];
  }
  uint64_t v4 = v3;
  int v5 = (void *)[[NSString alloc] initWithFormat:@"PhotosDetails_%@", v4];
  uint64_t v6 = [v1 photosDataSource];
  uint64_t v7 = [v6 containerAssetCollection];

  if (v7)
  {
    int v8 = PXMediaViewControllerEventTrackerCreate(v5);
    [v8 setDisplayedAssetCollection:v7];
  }
  else
  {
    int v8 = PXViewControllerEventTrackerCreate(v5);
  }
  uint64_t v9 = objc_msgSend(NSNumber, "numberWithUnsignedInteger:", objc_msgSend(v1, "contextHierarchyDepth"));
  id v10 = [v8 payload];
  [v10 setObject:v9 forKeyedSubscript:@"photosDetailsDepth"];

  return v8;
}

uint64_t IdiomForFormFactor(unint64_t a1)
{
  if (a1 >= 0xE)
  {
    unint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"PXUserInterfaceIdiom IdiomForFormFactor(PXMockFormFactor)"];
    [v2 handleFailureInFunction:v3 file:@"PXMockExtendedTraitCollection.m" lineNumber:76 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return qword_1AB35AFE0[a1];
}

__CFString *PXMockFormFactorDescription(unint64_t a1)
{
  if (a1 > 0xD) {
    return @"?";
  }
  else {
    return off_1E5DBF1E0[a1];
  }
}

uint64_t PXMockFormFactorEnumerateAllUsingBlock(uint64_t a1)
{
  char v5 = 0;
  uint64_t v2 = 1;
  do
  {
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t, char *))(a1 + 16))(a1, v2, &v5);
    if (v5) {
      BOOL v4 = 1;
    }
    else {
      BOOL v4 = v2 == 13;
    }
    ++v2;
  }
  while (!v4);
  return result;
}

void sub_1AADD07B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__147989(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__147990(uint64_t a1)
{
}

void PXEnumerateViewControllersUsingBlock(void *a1)
{
  uint64_t v39 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v33 = 0;
  uint64_t v34 = &v33;
  uint64_t v35 = 0x2020000000;
  char v36 = 0;
  uint64_t v29 = 0;
  id v30 = &v29;
  uint64_t v31 = 0x2020000000;
  char v32 = 0;
  long long v25 = 0u;
  long long v26 = 0u;
  long long v27 = 0u;
  long long v28 = 0u;
  uint64_t v2 = objc_msgSend(MEMORY[0x1E4FB1438], "px_sharedApplication");
  id obj = [v2 connectedScenes];

  uint64_t v14 = [obj countByEnumeratingWithState:&v25 objects:v38 count:16];
  if (v14)
  {
    uint64_t v13 = *(void *)v26;
LABEL_3:
    uint64_t v15 = 0;
    while (1)
    {
      if (*(void *)v26 != v13) {
        objc_enumerationMutation(obj);
      }
      uint64_t v3 = *(void **)(*((void *)&v25 + 1) + 8 * v15);
      long long v21 = 0u;
      long long v22 = 0u;
      long long v23 = 0u;
      long long v24 = 0u;
      id v4 = v3;
      if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
        id v5 = v4;
      }
      else {
        id v5 = 0;
      }

      uint64_t v6 = [v5 windows];

      uint64_t v7 = [v6 countByEnumeratingWithState:&v21 objects:v37 count:16];
      if (v7)
      {
        uint64_t v8 = *(void *)v22;
LABEL_12:
        uint64_t v9 = 0;
        while (1)
        {
          if (*(void *)v22 != v8) {
            objc_enumerationMutation(v6);
          }
          uint64_t v10 = objc_msgSend(*(id *)(*((void *)&v21 + 1) + 8 * v9), "rootViewController", obj);
          v17[0] = MEMORY[0x1E4F143A8];
          v17[1] = 3221225472;
          v17[2] = __PXEnumerateViewControllersUsingBlock_block_invoke;
          v17[3] = &unk_1E5DBF2F0;
          uint64_t v19 = &v33;
          id v18 = v1;
          long long v20 = &v29;
          objc_msgSend((id)v10, "px_enumerateDescendantViewControllersWithOptions:usingBlock:", 0, v17);

          LOBYTE(v1PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *((unsigned char *)v30 + 24) == 0;
          if ((v10 & 1) == 0) {
            break;
          }
          if (v7 == ++v9)
          {
            uint64_t v7 = [v6 countByEnumeratingWithState:&v21 objects:v37 count:16];
            if (v7) {
              goto LABEL_12;
            }
            break;
          }
        }
      }

      if (*((unsigned char *)v30 + 24)) {
        break;
      }
      if (++v15 == v14)
      {
        uint64_t v14 = [obj countByEnumeratingWithState:&v25 objects:v38 count:16];
        if (v14) {
          goto LABEL_3;
        }
        break;
      }
    }
  }

  if (!*((unsigned char *)v34 + 24))
  {
    id v11 = PLUIGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_ERROR, "Couldn't find any view controller", buf, 2u);
    }
  }
  _Block_object_dispose(&v29, 8);
  _Block_object_dispose(&v33, 8);
}

void sub_1AADD1BE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41)
{
}

uint64_t __PXEnumerateViewControllersUsingBlock_block_invoke(void *a1, uint64_t a2, unsigned char *a3)
{
  *(unsigned char *)(*(void *)(a1[5] + 8) + 24) = 1;
  uint64_t result = (*(uint64_t (**)(void))(a1[4] + 16))();
  if (*a3) {
    *(unsigned char *)(*(void *)(a1[6] + 8) + 24) = 1;
  }
  return result;
}

id PXFirstViewControllerPassingTest(void *a1)
{
  id v1 = a1;
  uint64_t v8 = 0;
  uint64_t v9 = &v8;
  uint64_t v10 = 0x3032000000;
  id v11 = __Block_byref_object_copy__147989;
  id v12 = __Block_byref_object_dispose__147990;
  id v13 = 0;
  v5[0] = MEMORY[0x1E4F143A8];
  v5[1] = 3221225472;
  void v5[2] = __PXFirstViewControllerPassingTest_block_invoke;
  v5[3] = &unk_1E5DBF318;
  id v2 = v1;
  id v6 = v2;
  uint64_t v7 = &v8;
  PXEnumerateViewControllersUsingBlock(v5);
  id v3 = (id)v9[5];

  _Block_object_dispose(&v8, 8);
  return v3;
}

void sub_1AADD1D90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXFirstViewControllerPassingTest_block_invoke(uint64_t a1, void *a2, unsigned char *a3)
{
  id v6 = a2;
  if ((*(unsigned int (**)(void))(*(void *)(a1 + 32) + 16))())
  {
    objc_storeStrong((id *)(*(void *)(*(void *)(a1 + 40) + 8) + 40), a2);
    *a3 = 1;
  }
}

PXPhotoKitAssetsDataSourceManager *_PXAllPhotosDataSourceManager(void *a1, int a2)
{
  v23[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeAllPhotosSmartAlbum:1];
  id v5 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:2 subtype:1000000205 options:v4];
  id v6 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v5 options:1153];
  v23[0] = *MEMORY[0x1E4F39558];
  uint64_t v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:v23 count:1];
  uint64_t v8 = +[PXUserDefaults standardUserDefaults];
  uint64_t v9 = [v8 allPhotosCaptionsVisible];
  int v10 = [v9 BOOLValue];

  if (v10)
  {
    uint64_t v11 = [v7 arrayByAddingObject:*MEMORY[0x1E4F39488]];

    uint64_t v7 = (void *)v11;
  }
  [(PXPhotosDataSourceConfiguration *)v6 setFetchPropertySets:v7];
  id v12 = +[PXContentSyndicationConfigurationProvider sharedInstance];
  -[PXPhotosDataSourceConfiguration setCanIncludeUnsavedSyndicatedAssets:](v6, "setCanIncludeUnsavedSyndicatedAssets:", [v12 showUnsavedSyndicatedContentInPhotosGrids]);

  id v13 = [v5 firstObject];
  uint64_t v14 = +[PXContentFilterState defaultFilterStateForContainerCollection:v13 photoLibrary:v3];

  uint64_t v15 = [v14 predicateForUseCase:0];
  [(PXPhotosDataSourceConfiguration *)v6 setFilterPredicate:v15];

  -[PXPhotosDataSourceConfiguration setIncludeOthersInSocialGroupAssets:](v6, "setIncludeOthersInSocialGroupAssets:", [v14 includeOthersInSocialGroupAssets]);
  [(PXPhotosDataSourceConfiguration *)v6 setReverseSortOrder:a2 ^ 1u];
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"StacksEnabled", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (keyExistsAndHasValidFormat) {
    BOOL v17 = AppBooleanValue == 0;
  }
  else {
    BOOL v17 = 1;
  }
  uint64_t v18 = !v17;
  [(PXPhotosDataSourceConfiguration *)v6 setIncludeAllBurstAssets:v18];
  uint64_t v19 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v6];
  long long v20 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v19];

  return v20;
}

id PXPhotosViewConfigurationForImagePickerWithAssetCollection(void *a1, void *a2, char a3, uint64_t a4, void *a5, uint64_t a6)
{
  id v11 = a1;
  id v12 = a2;
  uint64_t v19 = MEMORY[0x1E4F143A8];
  uint64_t v20 = 3221225472;
  long long v21 = __PXPhotosViewConfigurationForImagePickerWithAssetCollection_block_invoke;
  long long v22 = &unk_1E5DBF340;
  id v24 = v12;
  uint64_t v25 = a4;
  id v23 = v11;
  char v26 = a3;
  id v13 = v12;
  id v14 = v11;
  id v15 = a5;
  id v16 = _CreateDataSourceManager(v14, &v19);
  BOOL v17 = _PXPhotosViewConfigurationWithDataSourceManager(v16, v15);

  objc_msgSend(v17, "setAllowsSwipeToSelect:", a6, v19, v20, v21, v22);
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v17);

  return v17;
}

id __PXPhotosViewConfigurationForImagePickerWithAssetCollection_block_invoke(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 48);
  uint64_t v2 = 1027;
  if (v1 == 1) {
    uint64_t v2 = 1049603;
  }
  if (v1 == 2) {
    uint64_t v3 = 4195331;
  }
  else {
    uint64_t v3 = v2;
  }
  BYTE1(v5) = *(unsigned char *)(a1 + 56);
  LOBYTE(v5) = 0;
  return +[PXPhotoKitAssetsDataSourceManager dataSourceManagerForAssetCollection:existingAssetsFetchResult:existingKeyAssetsFetchResult:fetchPropertySets:basePredicate:options:ignoreSharedLibraryFilters:reverseSortOrder:](PXPhotoKitAssetsDataSourceManager, "dataSourceManagerForAssetCollection:existingAssetsFetchResult:existingKeyAssetsFetchResult:fetchPropertySets:basePredicate:options:ignoreSharedLibraryFilters:reverseSortOrder:", *(void *)(a1 + 32), 0, 0, 0, *(void *)(a1 + 40), v3, v5);
}

id _CreateDataSourceManager(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = +[PXPhotosGridSettings sharedInstance];
  int v6 = [v5 emulatesEmptyLibrary];

  uint64_t v7 = v4[2](v4);

  if (v6)
  {
    uint64_t v8 = [v7 photoLibrary];
    uint64_t v9 = _EmptyDataSourceManager(v3, (uint64_t)v8);

    uint64_t v7 = (void *)v9;
  }

  return v7;
}

PXPhotosViewConfiguration *_PXPhotosViewConfigurationWithDataSourceManager(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = _PXDefaultUIMediaProviderForDataSourceManager(v3);
  uint64_t v6 = _PXDefaultAssetActionManagerForDataSourceManager(v3);
  uint64_t v7 = _PXDefaultAssetCollectionActionManagerForDataSourceManager(v3);
  uint64_t v8 = [v3 dataSource];
  uint64_t v9 = [v8 containerCollection];

  if (v4)
  {
    uint64_t v10 = [v4 checkOutSelectionManagerForDataSourceManager:v3];
  }
  else
  {
    uint64_t v10 = 0;
  }
  v80 = (void *)v6;
  v81 = (void *)v5;
  v78 = (void *)v10;
  v79 = (void *)v7;
  id v11 = [[PXPhotosViewConfiguration alloc] initWithDataSourceManager:v3 mediaProvider:v5 selectionManager:v10 assetActionManager:v6 assetCollectionActionManager:v7];
  id v12 = +[PXContentPrivacyController privacyControllerForCollection:v9];
  [(PXPhotosViewConfiguration *)v11 setPrivacyController:v12];

  if ([v3 supportsFiltering]
    && (objc_msgSend(v9, "px_isRecentlyDeletedSmartAlbum") & 1) == 0)
  {
    uint64_t v13 = objc_msgSend(v9, "px_isRecoveredSmartAlbum") ^ 1;
  }
  else
  {
    uint64_t v13 = 0;
  }
  [(PXPhotosViewConfiguration *)v11 setWantsContentFilterVisible:v13];
  id v14 = v9;
  if (v14)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      uint64_t v59 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v60 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)");
      v61 = (objc_class *)objc_opt_class();
      v62 = NSStringFromClass(v61);
      objc_msgSend(v14, "px_descriptionForAssertionMessage");
      v64 = id v63 = v4;
      [v59 handleFailureInFunction:v60, @"PXPhotosViewPhotoKitUtilities.m", 104, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"collection", v62, v64 file lineNumber description];

      id v4 = v63;
    }
  }
  if (objc_msgSend(v14, "px_isRecentlyDeletedSmartAlbum"))
  {
    if (objc_msgSend(v14, "px_isInReadWriteCloudLibrary")) {
      PXLocalizedStringWithCount(@"DELETE_PAGE_EXPLANATION_WITH_CLOUD_PHOTO_LIBRARY");
    }
    else {
    uint64_t v20 = PXLocalizedStringFromTable(@"DELETE_PAGE_EXPLANATION", @"PhotosUICore");
    }
    long long v21 = [v14 photoLibrary];
    long long v22 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v21];

    if ([v22 hasSharedLibrary])
    {
      id v23 = [v22 sharedLibrary];
      int v24 = [v23 isOwned];

      if (v24) {
        uint64_t v25 = @"PXSharedLibraryRecentlyDeletedInfoOwner";
      }
      else {
        uint64_t v25 = @"PXSharedLibraryRecentlyDeletedInfoParticipant";
      }
      char v26 = PXLocalizedSharedLibraryString(v25);
      uint64_t v27 = [v20 stringByAppendingFormat:@"\n\n%@", v26];

      uint64_t v20 = (void *)v27;
    }
    uint64_t v18 = v20;

    goto LABEL_23;
  }
  if (objc_msgSend(v14, "px_isRecoveredSmartAlbum"))
  {
    id v15 = NSString;
    id v16 = +[PXLocalization currentDeviceCanonicalModel];
    BOOL v17 = [v15 stringWithFormat:@"RECOVERED_PAGE_EXPLANATION_%@", v16];

    PXLocalizedStringFromTable(v17, @"PhotosUICore");
    uint64_t v18 = (__CFString *)(id)objc_claimAutoreleasedReturnValue();
    [MEMORY[0x1E4F1CB10] URLWithString:@"https://support.apple.com/120347?cid=mc-nav-photos-article_120347-ios_ui-06072024"];
    id v19 = (id)objc_claimAutoreleasedReturnValue();

LABEL_24:
    uint64_t v28 = 2;
    goto LABEL_25;
  }
  if (objc_msgSend(v14, "px_isImportHistoryCollection"))
  {
    uint64_t v18 = 0;
    id v19 = 0;
    uint64_t v28 = 0;
    goto LABEL_25;
  }
  if (objc_msgSend(v14, "px_isSharedAlbum"))
  {
    id v56 = v14;
    if (v14)
    {
      objc_opt_class();
      if (objc_opt_isKindOfClass())
      {
LABEL_116:
        uint64_t v18 = [v56 localizedSharedByLabelAllowsEmail:1];

LABEL_23:
        id v19 = 0;
        goto LABEL_24;
      }
      v69 = [MEMORY[0x1E4F28B00] currentHandler];
      v70 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)");
      v73 = (objc_class *)objc_opt_class();
      v72 = NSStringFromClass(v73);
      v74 = objc_msgSend(v56, "px_descriptionForAssertionMessage");
      [v69 handleFailureInFunction:v70, @"PXPhotosViewPhotoKitUtilities.m", 135, @"%@ should be an instance inheriting from %@, but it is %@", @"collection", v72, v74 file lineNumber description];
    }
    else
    {
      v69 = [MEMORY[0x1E4F28B00] currentHandler];
      v70 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewFooterVisibilityStyle _PXPhotosViewConfigurationFooterVisibilityStyleForCollection(__strong id<PXDisplayCollection>, NSString *__autoreleasing *, NSURL *__autoreleasing *)");
      v71 = (objc_class *)objc_opt_class();
      v72 = NSStringFromClass(v71);
      [v69 handleFailureInFunction:v70, @"PXPhotosViewPhotoKitUtilities.m", 135, @"%@ should be an instance inheriting from %@, but it is nil", @"collection", v72 file lineNumber description];
    }

    goto LABEL_116;
  }
  int v57 = objc_msgSend(v14, "px_isTransientCollectionWithIdentifier:", @"PXSharedLibrarySuggestedByPhotosDebugAlbum");
  id v19 = 0;
  if (v57) {
    uint64_t v18 = @"Internal only: suggestions of assets to add to your Shared Library, based on people or camera toggle state in the moment.";
  }
  else {
    uint64_t v18 = 0;
  }
  if (v57) {
    uint64_t v28 = 2;
  }
  else {
    uint64_t v28 = 1;
  }
LABEL_25:

  uint64_t v29 = v18;
  id v30 = v19;
  [(PXPhotosViewConfiguration *)v11 setFooterVisibilityStyle:v28];
  [(PXPhotosViewConfiguration *)v11 setFooterSubtitle:v29];
  [(PXPhotosViewConfiguration *)v11 setFooterLearnMoreURL:v30];
  -[PXPhotosViewConfiguration setWantsCPLStatus:](v11, "setWantsCPLStatus:", objc_msgSend(v14, "px_isRecentsSmartAlbum"));
  -[PXPhotosViewConfiguration setWantsRenderingStatus:](v11, "setWantsRenderingStatus:", objc_msgSend(v14, "px_isCinematicSmartAlbum"));
  id v31 = v14;
  if (objc_msgSend(v31, "px_isImportHistoryCollection"))
  {
    uint64_t v32 = 2;
  }
  else if (objc_msgSend(v31, "px_isAllLibraryDuplicatesSmartAlbum"))
  {
    uint64_t v32 = 4;
  }
  else
  {
    uint64_t v32 = 0;
  }

  [(PXPhotosViewConfiguration *)v11 setSectionHeaderStyle:v32];
  id v33 = v31;
  uint64_t v34 = +[PXPhotosGridSettings sharedInstance];
  int v35 = [v34 enableSuperzoom];
  if (!v33
    || !v35
    || ([v33 canContainCollections] & 1) != 0
    || (objc_msgSend(v33, "px_isPanoramasSmartAlbum") & 1) != 0
    || (objc_msgSend(v33, "px_isImportHistoryCollection") & 1) != 0
    || (objc_msgSend(v33, "px_isAllLibraryDuplicatesSmartAlbum") & 1) != 0)
  {

    uint64_t v36 = 0;
  }
  else
  {
    int v58 = objc_msgSend(v33, "px_isSharedLibrarySharingSuggestion");

    uint64_t v36 = v58 ^ 1u;
  }

  [(PXPhotosViewConfiguration *)v11 setSectionBodyStyle:v36];
  [(PXPhotosViewConfiguration *)v11 setAllowsCaptions:0];
  [(PXPhotosViewConfiguration *)v11 setAllowsGridAppearanceActions:0];
  id v37 = v33;
  if (objc_msgSend(v37, "px_isPanoramasSmartAlbum")) {
    uint64_t v38 = 536903840;
  }
  else {
    uint64_t v38 = 536904352;
  }
  if ([v37 canContainAssets])
  {
    id v76 = v3;
    id v39 = v30;
    uint64_t v40 = v29;
    id v41 = v4;
    id v42 = v37;
    id v43 = [v42 photoLibrary];
    __int16 v44 = +[PXContentSyndicationConfigurationProvider contentSyndicationConfigurationProviderWithPhotoLibrary:v43];
    if ([v44 showUnsavedSyndicatedContentInPhotosGrids]
      && PXContentSyndicationShouldShowUnsavedAssetsInGridForAssetCollection(v42))
    {
      v38 |= 0x200000uLL;
    }

    id v4 = v41;
    uint64_t v29 = v40;
    id v30 = v39;
    id v3 = v76;
  }
  if ((objc_msgSend(v37, "px_isAllPhotosSmartAlbum") & 1) == 0
    && (objc_msgSend(v37, "px_isRecentsSmartAlbum") & 1) == 0
    && (objc_msgSend(v37, "px_isImportHistoryCollection") & 1) == 0)
  {
    v38 |= objc_msgSend(v37, "px_isAllLibraryDuplicatesSmartAlbum") ^ 1;
  }
  if (objc_msgSend(v37, "px_isRegularAlbum")) {
    v38 |= 0x100uLL;
  }
  if (objc_msgSend(v37, "px_wantsShareAllAction")) {
    uint64_t v45 = v38 | 0x400;
  }
  else {
    uint64_t v45 = v38;
  }
  if (((objc_msgSend(v37, "px_isRegularAlbum") & 1) != 0
     || (objc_msgSend(v37, "px_isSmartAlbum") & 1) != 0
     || objc_msgSend(v37, "px_isSharedAlbum"))
    && (objc_msgSend(v37, "px_isRecentlyDeletedSmartAlbum") & 1) == 0
    && (objc_msgSend(v37, "px_isRecoveredSmartAlbum") & 1) == 0
    && !objc_msgSend(v37, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v45 |= 4uLL;
  }
  id v46 = v37;
  if (v14)
  {
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) == 0)
    {
      v65 = [MEMORY[0x1E4F28B00] currentHandler];
      v75 = [NSString stringWithUTF8String:"PXPhotosViewConfigurationAllowedActions _PXPhotosViewConfigurationAllowedActionsForCollection(__strong id<PXDisplayCollection>)"];
      v66 = (objc_class *)objc_opt_class();
      v67 = NSStringFromClass(v66);
      objc_msgSend(v46, "px_descriptionForAssertionMessage");
      v68 = id v77 = v4;
      [v65 handleFailureInFunction:v75, @"PXPhotosViewPhotoKitUtilities.m", 227, @"%@ should be nil or an instance inheriting from %@, but it is %@", @"collection", v67, v68 file lineNumber description];

      id v4 = v77;
    }
  }
  if ([v46 canPerformEditOperation:3]
    && !objc_msgSend(v46, "px_isSharedAlbum"))
  {
    v45 |= 8uLL;
  }
  if (objc_msgSend(v46, "px_isImportHistoryCollection")) {
    uint64_t v47 = v45 | 0x10;
  }
  else {
    uint64_t v47 = v45;
  }
  if ((objc_msgSend(v46, "px_isRegularAlbum") & 1) != 0
    || (objc_msgSend(v46, "px_isSharedAlbum") & 1) != 0
    || (objc_msgSend(v46, "px_isFavoritesSmartAlbum") & 1) != 0
    || (objc_msgSend(v46, "px_isRecentsSmartAlbum") & 1) != 0
    || objc_msgSend(v46, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v47 |= 0x1000uLL;
  }
  if (objc_msgSend(v46, "px_isSharedAlbum")) {
    uint64_t v48 = v47;
  }
  else {
    uint64_t v48 = v47 | 0x1000000;
  }
  if ((objc_msgSend(v46, "px_isRecentlyDeletedSmartAlbum") & 1) != 0
    || objc_msgSend(v46, "px_isRecoveredSmartAlbum"))
  {
    v48 &= 0x1FFFFFFFu;
  }

  [(PXPhotosViewConfiguration *)v11 setAllowedActions:v48];
  id v49 = v46;
  if (objc_msgSend(v49, "px_isSharedAlbum")) {
    unint64_t v50 = 65579;
  }
  else {
    unint64_t v50 = 65585;
  }
  if (!objc_msgSend(v49, "px_isRecentlyDeletedSmartAlbum")
    || (objc_msgSend(v49, "px_isRecoveredSmartAlbum") & 1) == 0)
  {
    v50 |= 4uLL;
  }
  if (objc_msgSend(v49, "px_isUserCreated")) {
    unint64_t v50 = v50 & 0xFFFFFFFFFFFFFFE7 | 8;
  }
  if (objc_msgSend(v49, "px_isRegularAlbum")) {
    uint64_t v51 = v50 | 2;
  }
  else {
    uint64_t v51 = v50;
  }
  if ((objc_msgSend(v49, "px_isSharedLibrarySharingSuggestion") & 1) != 0
    || objc_msgSend(v49, "px_isSharedLibrarySharingSuggestionsSmartAlbum"))
  {
    v51 |= 0x808uLL;
  }

  [(PXPhotosViewConfiguration *)v11 setAllowedBehaviors:v51];
  if (objc_msgSend(v49, "px_isPanoramasSmartAlbum")) {
    uint64_t v52 = 2;
  }
  else {
    uint64_t v52 = 0;
  }
  [(PXPhotosViewConfiguration *)v11 setForbiddenBadges:v52];
  -[PXPhotosViewConfiguration setAllowsInteractiveFavoriteBadges:](v11, "setAllowsInteractiveFavoriteBadges:", objc_msgSend(v49, "px_isSharedAlbum") ^ 1);
  -[PXPhotosViewConfiguration setPrefersActionsInToolbar:](v11, "setPrefersActionsInToolbar:", objc_msgSend(v49, "px_isRecoveredSmartAlbum"));
  -[PXPhotosViewConfiguration setWantsTabBarHidden:](v11, "setWantsTabBarHidden:", objc_msgSend(v49, "px_isRecoveredSmartAlbum"));
  if (objc_msgSend(v49, "px_isRecentlyDeletedSmartAlbum"))
  {
    [(PXPhotosViewConfiguration *)v11 setDecorationViewClass:objc_opt_class()];
    [(PXPhotosViewConfiguration *)v11 setAllowedBehaviors:[(PXPhotosViewConfiguration *)v11 allowedBehaviors] | 0x2000];
  }
  if ((objc_msgSend(v49, "px_isSharedAlbum") & 1) != 0
    || (objc_msgSend(v49, "px_isRecentlyDeletedSmartAlbum") & 1) != 0
    || objc_msgSend(v49, "px_isHiddenSmartAlbum"))
  {
    [(PXPhotosViewConfiguration *)v11 setAllowedBehaviors:[(PXPhotosViewConfiguration *)v11 allowedBehaviors] & 0xFFFFFFFFFFFEFFFFLL];
  }
  if ((objc_msgSend(v49, "px_isRegularAlbum") & 1) != 0
    || (objc_msgSend(v49, "px_isMediaTypeSmartAlbum") & 1) != 0
    || (objc_msgSend(v49, "px_isFavoritesSmartAlbum") & 1) != 0)
  {
    uint64_t v53 = 1;
  }
  else
  {
    uint64_t v53 = objc_msgSend(v49, "px_isRecentsSmartAlbum");
  }
  [(PXPhotosViewConfiguration *)v11 setAllowsLinkInteractions:v53];
  [(PXPhotosViewConfiguration *)v11 setAllowsMultiSelectMenu:1];
  long long v54 = v11;

  return v54;
}

void _PXPhotosViewConfigurationAdjustImagePickerOptions(void *a1)
{
  id v1 = a1;
  [v1 setAllowedActions:2];
  [v1 setAllowedBehaviors:16];
  [v1 setFooterVisibilityStyle:0];
  [v1 setWantsCPLStatus:0];
  [v1 setWantsTabBarHidden:1];
  [v1 setLowMemoryMode:1];
  [v1 setContentMode:1];
  [v1 setAllowsDragOut:1];
  [v1 setAllowsDragIn:1];
  [v1 setAllowsLinkInteractions:0];
  [v1 setAllowsMultiSelectMenu:0];
}

id _PXDefaultUIMediaProviderForDataSourceManager(void *a1)
{
  id v1 = [a1 photoLibrary];
  uint64_t v2 = +[PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v1];

  return v2;
}

PXPhotoKitAssetActionManager *_PXDefaultAssetActionManagerForDataSourceManager(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [[PXPhotoKitAssetActionManager alloc] initWithSelectionManager:0];
  [(PXPhotoKitAssetActionManager *)v2 setDataSourceManager:v1];
  id v3 = [v1 photosDataSource];

  id v4 = [v3 filterPersons];
  if ([v4 count] == 1)
  {
    uint64_t v5 = [v4 firstObject];
    [(PXPhotoKitAssetActionManager *)v2 setPerson:v5];
  }
  uint64_t v6 = [v3 filterSocialGroup];
  [(PXPhotoKitAssetActionManager *)v2 setSocialGroup:v6];

  return v2;
}

id _PXDefaultAssetCollectionActionManagerForDataSourceManager(void *a1)
{
  v12[1] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = +[PXPhotoKitAssetCollectionActionManager actionManagerWithDataSourceManager:v1];
  id v3 = [v1 photosDataSourceIfExists];
  id v4 = [v1 photoLibrary];

  uint64_t v5 = [v3 filterPersons];
  uint64_t v6 = +[PXPeopleUtilities peopleFetchResultFromFastEnumeration:v5 photoLibrary:v4];
  [v2 setPeople:v6];

  uint64_t v7 = [v3 filterSocialGroup];
  if (v7)
  {
    uint64_t v8 = [v3 filterSocialGroup];
    v12[0] = v8;
    uint64_t v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v12 count:1];

    uint64_t v10 = +[PXPeopleUtilities socialGroupFetchResultFromFastEnumeration:v9 photoLibrary:v4];
    [v2 setSocialGroups:v10];
  }
  return v2;
}

PXPhotoKitAssetsDataSourceManager *_EmptyDataSourceManager(void *a1, uint64_t a2)
{
  v14[1] = *MEMORY[0x1E4F143B8];
  id v3 = (void *)MEMORY[0x1E4F38EE8];
  id v4 = a1;
  uint64_t v5 = [v3 transientAssetCollectionWithAssets:MEMORY[0x1E4F1CBF0] title:0 identifier:0 photoLibrary:a2];
  uint64_t v6 = (void *)MEMORY[0x1E4F39008];
  v14[0] = v5;
  uint64_t v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:v14 count:1];
  uint64_t v8 = [v6 transientCollectionListWithCollections:v7 title:0];

  uint64_t v9 = [MEMORY[0x1E4F38EE8] fetchCollectionsInCollectionList:v8 options:0];
  uint64_t v10 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v9 containerCollection:v4 options:0];

  id v11 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v10];
  id v12 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v11];

  return v12;
}

id PXPhotosViewConfigurationForAllPhotos(void *a1)
{
  id v1 = a1;
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  void v9[2] = __PXPhotosViewConfigurationForAllPhotos_block_invoke;
  v9[3] = &unk_1E5DBF368;
  id v2 = v1;
  id v10 = v2;
  id v3 = _CreateDataSourceManager(0, v9);
  id v4 = _PXPhotosViewConfigurationWithDataSourceManager(v3, 0);
  objc_msgSend(v4, "setAllowedActions:", objc_msgSend(v4, "allowedActions") & 0xFFFFFFFFFFFFFFFBLL);
  objc_msgSend(v4, "setAllowedBehaviors:", objc_msgSend(v4, "allowedBehaviors") & 0xFFFFFFFFFFFEFFFFLL);
  [v4 setPreventShowInAllPhotosAction:1];
  [v4 setWantsDynamicTitles:1];
  [v4 setWantsFooterMask:1];
  [v4 setWantsCPLStatus:1];
  uint64_t v5 = +[PXLemonadeSettings sharedInstance];
  if ([v5 yearsAndMonthsMode] == 1)
  {
    uint64_t v6 = off_1E5DA7F40;
  }
  else
  {
    if ([v5 yearsAndMonthsMode] != 2) {
      goto LABEL_6;
    }
    uint64_t v6 = off_1E5DA80A8;
  }
  uint64_t v7 = (void *)[objc_alloc(*v6) initWithPhotoLibrary:v2];
  [v4 setOverlayController:v7];

LABEL_6:
  return v4;
}

PXPhotoKitAssetsDataSourceManager *__PXPhotosViewConfigurationForAllPhotos_block_invoke(uint64_t a1)
{
  return _PXAllPhotosDataSourceManager(*(void **)(a1 + 32), 1);
}

id PXPhotosViewConfigurationForSearchResults(void *a1)
{
  id v1 = (void *)MEMORY[0x1E4F38EE8];
  id v2 = a1;
  id v3 = [v1 transientAssetCollectionWithAssets:MEMORY[0x1E4F1CBF0] title:0 identifier:@"PXPhotosSearchResultsVirtualCollection" photoLibrary:v2];
  id v4 = _EmptyDataSourceManager(v3, (uint64_t)v2);

  uint64_t v5 = [v4 photosDataSource];
  [v5 setReverseSortOrder:1];

  uint64_t v6 = _PXPhotosViewConfigurationWithDataSourceManager(v4, 0);

  return v6;
}

id PXPhotosViewConfigurationForSearchResultsWithDataSourceManager(void *a1)
{
  id v1 = a1;
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXPhotosViewConfigurationForSearchResultsWithDataSourceManager_block_invoke;
  v6[3] = &unk_1E5DBF368;
  id v7 = v1;
  id v2 = v1;
  id v3 = _CreateDataSourceManager(0, v6);
  id v4 = _PXPhotosViewConfigurationWithDataSourceManager(v3, 0);

  return v4;
}

id __PXPhotosViewConfigurationForSearchResultsWithDataSourceManager_block_invoke(uint64_t a1)
{
  return *(id *)(a1 + 32);
}

id PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, uint64_t a7, void *a8, char a9, unsigned __int8 a10, char a11)
{
  id v18 = a1;
  id v19 = a2;
  id v20 = a3;
  id v21 = a4;
  id v22 = a5;
  v32[0] = MEMORY[0x1E4F143A8];
  v32[1] = 3221225472;
  v32[2] = __PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult_block_invoke;
  v32[3] = &unk_1E5DBF390;
  char v39 = a9;
  char v40 = a11;
  id v33 = v18;
  id v34 = v19;
  char v41 = a6;
  id v35 = v20;
  id v36 = v21;
  id v37 = v22;
  uint64_t v38 = a7;
  id v23 = v22;
  id v24 = v21;
  id v25 = v20;
  id v26 = v19;
  id v27 = v18;
  id v28 = a8;
  uint64_t v29 = _CreateDataSourceManager(v26, v32);
  id v30 = _PXPhotosViewConfigurationWithDataSourceManager(v29, v28);

  [v30 setAllowsSwipeToSelect:a10];
  [v30 setIgnoreContentFilterStateWhenNotFiltering:1];
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v30);

  return v30;
}

PXPhotoKitAssetsDataSourceManager *__PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult_block_invoke(uint64_t a1)
{
  uint64_t v2 = 1027;
  if (!*(unsigned char *)(a1 + 80)) {
    uint64_t v2 = 3;
  }
  if (*(unsigned char *)(a1 + 81)) {
    uint64_t v2 = 66563;
  }
  uint64_t v3 = *(void *)(a1 + 72);
  uint64_t v4 = v2 | 0x400000;
  if (v3 == 1) {
    v2 |= 0x100000uLL;
  }
  if (v3 == 2) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = v2;
  }
  uint64_t v6 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:*(void *)(a1 + 32) containerCollection:*(void *)(a1 + 40) options:v5];
  [(PXPhotosDataSourceConfiguration *)v6 setReverseSortOrder:*(unsigned __int8 *)(a1 + 82)];
  [(PXPhotosDataSourceConfiguration *)v6 setBasePredicate:*(void *)(a1 + 48)];
  [(PXPhotosDataSourceConfiguration *)v6 setFilterPredicate:*(void *)(a1 + 56)];
  id v7 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v6];
  if ([*(id *)(a1 + 64) count]) {
    [(PXPhotosDataSource *)v7 setSortDescriptors:*(void *)(a1 + 64)];
  }
  uint64_t v8 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v7];

  return v8;
}

id PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(void *a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5)
{
  id v9 = a1;
  id v10 = a4;
  if (!v9)
  {
    id v18 = [MEMORY[0x1E4F28B00] currentHandler];
    id v19 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong _Nonnull, BOOL, PXPhotosCurationContext, PXSelectionCoordinator * _Nullable __strong, BOOL)");
    [v18 handleFailureInFunction:v19, @"PXPhotosViewPhotoKitUtilities.m", 518, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];
  }
  uint64_t v11 = 3;
  if (a3 == 1) {
    uint64_t v11 = 1048579;
  }
  if (a3 == 2) {
    uint64_t v12 = 4194307;
  }
  else {
    uint64_t v12 = v11;
  }
  uint64_t v13 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v9 options:v12];
  [(PXPhotosDataSourceConfiguration *)v13 setReverseSortOrder:a2];
  id v14 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v13];
  id v15 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v14];
  id v16 = _PXPhotosViewConfigurationWithDataSourceManager(v15, v10);
  [v16 setAllowsSwipeToSelect:a5];
  _PXPhotosViewConfigurationAdjustImagePickerOptions(v16);

  return v16;
}

id PXPhotosViewConfigurationForAssetFetchResult(void *a1)
{
  return PXPhotosViewConfigurationForSocialGroup(0, a1);
}

id PXPhotosViewConfigurationForSocialGroup(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  if (!v4)
  {
    uint64_t v11 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForSocialGroup(PHSocialGroup * _Nullable __strong, PHFetchResult<PHAsset *> *__strong _Nonnull)");
    [v11 handleFailureInFunction:v12, @"PXPhotosViewPhotoKitUtilities.m", 537, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];
  }
  uint64_t v5 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v4 options:0];
  [(PXPhotosDataSourceConfiguration *)v5 setFilterSocialGroup:v3];
  uint64_t v6 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v5];
  id v7 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v6];
  uint64_t v8 = _PXPhotosViewConfigurationWithDataSourceManager(v7, 0);
  objc_msgSend(v8, "setAllowedActions:", objc_msgSend(v8, "allowedActions") | 0x40000000);
  id v9 = [(PXPhotosDataSource *)v6 containerCollection];
  _PXPhotosViewConfigurationAdjustNavbarOptions(v8, v9);

  [v8 setIgnoreFilterPredicateAssert:1];
  return v8;
}

void _PXPhotosViewConfigurationAdjustNavbarOptions(void *a1, void *a2)
{
  id v12 = a1;
  id v3 = a2;
  if (objc_msgSend(v3, "px_isSharedLibrarySharingSuggestion")) {
    int v4 = 1;
  }
  else {
    int v4 = objc_msgSend(v3, "px_isSharedLibrarySharingSuggestionsSmartAlbum");
  }
  if ((objc_msgSend(v3, "px_isImportHistoryCollection") & 1) == 0
    && ((objc_msgSend(v3, "px_isAllLibraryDuplicatesSmartAlbum") | v4) & 1) == 0)
  {
    uint64_t v5 = +[PXPhotosGridSettings sharedInstance];
    int v6 = [v5 enableInvisibleNavBars];

    if (v6)
    {
      [v12 setSectionHeaderStyle:0];
      if ((objc_msgSend(v3, "px_isRecentlyDeletedSmartAlbum") & 1) != 0
        || (objc_msgSend(v3, "px_isRecoveredSmartAlbum") & 1) != 0)
      {
        uint64_t v7 = 2;
      }
      else if (objc_msgSend(v3, "px_isPrivacySensitiveAlbum"))
      {
        uint64_t v7 = 2;
      }
      else
      {
        uint64_t v7 = 1;
      }
      [v12 setNavBarStyle:v7];
    }
  }
  if ((objc_msgSend(v3, "px_isImportHistoryCollection") & 1) != 0
    || (objc_msgSend(v3, "px_isAllLibraryDuplicatesSmartAlbum") | v4) == 1)
  {
    uint64_t v8 = +[PXPhotosGridSettings sharedInstance];
    int v9 = [v8 enableInvisibleNavBars];

    if (v9)
    {
      id v10 = +[PXPhotosGridSettings sharedInstance];
      int v11 = [v10 backdropStyleForPlacesAndImports];

      if (v11) {
        [v12 setNavBarStyle:5];
      }
      else {
        [v12 setWantsModernNavBarButtons:1];
      }
    }
  }
}

id PXPhotosViewConfigurationForAssetCollection(void *a1, void *a2, void *a3, uint64_t a4)
{
  return _PXPhotosViewConfigurationForAssetCollection(a1, 0, 0, a2, a3, 0, 0, a4);
}

id _PXPhotosViewConfigurationForAssetCollection(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, char a7, uint64_t a8)
{
  id v15 = a1;
  id v16 = a2;
  id v17 = a3;
  id v18 = a4;
  v27[0] = MEMORY[0x1E4F143A8];
  v27[1] = 3221225472;
  void v27[2] = ___PXPhotosViewConfigurationForAssetCollection_block_invoke;
  v27[3] = &unk_1E5DBF430;
  id v31 = v18;
  uint64_t v32 = a8;
  id v28 = v15;
  id v29 = v16;
  id v30 = v17;
  char v33 = a6;
  char v34 = a7;
  id v19 = v18;
  id v20 = v17;
  id v21 = v16;
  id v22 = v15;
  id v23 = a5;
  id v24 = _CreateDataSourceManager(v22, v27);
  id v25 = _PXPhotosViewConfigurationWithDataSourceManager(v24, v23);

  _PXPhotosViewConfigurationAdjustNavbarOptions(v25, v22);
  return v25;
}

id PXPhotosViewConfigurationForAssetCollectionWithReverseSortOrder(void *a1, void *a2, char a3, uint64_t a4, void *a5)
{
  return _PXPhotosViewConfigurationForAssetCollection(a1, 0, 0, a2, a5, 0, a3, a4);
}

id PXPhotosViewConfigurationForAssetCollectionIgnoreSharedLibrary(void *a1, void *a2, void *a3, uint64_t a4, char a5)
{
  return _PXPhotosViewConfigurationForAssetCollection(a1, 0, 0, a2, a3, a5, 0, a4);
}

id PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(void *a1, void *a2, void *a3, void *a4, uint64_t a5)
{
  v17[1] = *MEMORY[0x1E4F143B8];
  v17[0] = *MEMORY[0x1E4F39558];
  int v9 = (void *)MEMORY[0x1E4F1C978];
  id v10 = a4;
  id v11 = a3;
  id v12 = a2;
  id v13 = a1;
  id v14 = [v9 arrayWithObjects:v17 count:1];
  id v15 = _PXPhotosViewConfigurationForAssetCollection(v13, v12, v11, v14, v10, 0, 0, a5);

  return v15;
}

id PXPhotosViewConfigurationForAssetCollectionFetchResult(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, uint64_t a7)
{
  return _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(a1, 0, a2, 0, a3, a4, a5, 0, 0, 0, a6, a7, 0);
}

id _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8, void *a9, char a10, char a11, uint64_t a12, char a13)
{
  id v20 = a1;
  id v49 = a2;
  id v21 = a3;
  id v22 = a4;
  id v46 = a5;
  id v23 = a6;
  id v24 = a8;
  unint64_t v25 = a9;
  id v26 = a7;
  if ((unint64_t)[v20 count] >= 2) {
    uint64_t v27 = 4099;
  }
  else {
    uint64_t v27 = 2;
  }
  if (v25 | [v24 count]) {
    uint64_t v28 = v27 | 0x1010;
  }
  else {
    uint64_t v28 = v27;
  }
  if (a12 == 2)
  {
    v28 |= 0x400000uLL;
  }
  else if (a12 == 1)
  {
    v28 |= 0x100000uLL;
  }
  uint64_t v29 = v28 | 0x1890;
  id v30 = v21;
  if ([v30 canContainCollections])
  {

LABEL_14:
    BOOL v32 = 1;
    goto LABEL_16;
  }
  char v31 = objc_msgSend(v30, "px_isDayGroupHighlight");

  if (v31) {
    goto LABEL_14;
  }
  BOOL v32 = (unint64_t)[v20 count] > 1;
LABEL_16:
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = ___PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary_block_invoke;
  aBlock[3] = &unk_1E5DBF458;
  id v61 = v23;
  BOOL v65 = v32;
  id v33 = v30;
  char v66 = a10;
  id v62 = v33;
  id v63 = v24;
  id v64 = (id)v25;
  id v48 = (id)v25;
  id v47 = v24;
  id v34 = v23;
  id v35 = _Block_copy(aBlock);
  v50[0] = MEMORY[0x1E4F143A8];
  v50[1] = 3221225472;
  v50[2] = ___PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary_block_invoke_2;
  v50[3] = &unk_1E5DBF480;
  id v36 = v20;
  id v51 = v36;
  id v37 = v33;
  id v52 = v37;
  id v53 = v46;
  id v54 = v49;
  id v55 = v35;
  char v58 = 1;
  id v56 = v22;
  uint64_t v57 = v29;
  char v59 = a11;
  id v38 = v22;
  id v39 = v49;
  id v40 = v46;
  id v41 = v35;
  id v42 = _CreateDataSourceManager(v37, v50);
  id v43 = _PXPhotosViewConfigurationWithDataSourceManager(v42, v26);

  if (a13)
  {
    _PXPhotosViewConfigurationAdjustImagePickerOptions(v43);
  }
  else if (v37)
  {
    _PXPhotosViewConfigurationAdjustNavbarOptions(v43, v37);
  }
  else if ([v36 count] == 1)
  {
    __int16 v44 = [v36 firstObject];
    _PXPhotosViewConfigurationAdjustNavbarOptions(v43, v44);
  }
  return v43;
}

id PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(void *a1, void *a2, void *a3, void *a4, void *a5, char a6, char a7, uint64_t a8)
{
  return _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(a1, 0, a2, 0, a3, a4, a5, 0, 0, a6, a7, a8, 0);
}

id PXPhotosViewConfigurationForDataSourceProvider(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  uint64_t v5 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSourceProvider:v4];

  int v6 = _PXPhotosViewConfigurationWithDataSourceManager(v5, v3);

  return v6;
}

id PXPhotosViewConfigurationForFeaturedPhotos(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  uint64_t v5 = [v4 photoLibrary];
  int v6 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v5];
  uint64_t v7 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v6];
  uint64_t v8 = [PXSuggestionsDataSourceManager alloc];
  v14[0] = MEMORY[0x1E4F143A8];
  v14[1] = 3221225472;
  void v14[2] = __PXPhotosViewConfigurationForFeaturedPhotos_block_invoke;
  v14[3] = &unk_1E5DBF3B8;
  id v15 = v5;
  id v9 = v5;
  id v10 = [(PXSuggestionsDataSourceManager *)v8 initWithLibraryFilterState:v7 fetchResultProvider:v14];
  id v11 = [[PXFeaturedPhotosAssetsDataSourceManager alloc] initWithSuggestionsDataSourceManager:v10 assetCollection:v4];
  id v12 = _PXPhotosViewConfigurationWithDataSourceManager(v11, v3);

  _PXPhotosViewConfigurationAdjustNavbarOptions(v12, v4);
  return v12;
}

id __PXPhotosViewConfigurationForFeaturedPhotos_block_invoke(uint64_t a1, uint64_t a2)
{
  return +[PXPhotosIntelligenceFetcher fetchFeaturedPhotoSuggestionsInPhotoLibrary:*(void *)(a1 + 32) sharingFilter:a2 currentlyFeaturedOnly:0];
}

id PXPhotosViewConfigurationForPlacesMomentsWithAllowedAssets(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  uint64_t v5 = [[_PXPhotosViewPlacesMomentsDataSourceProvider alloc] initWithAllowedAssets:v4 photoLibrary:v3];

  int v6 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v3];
  uint64_t v7 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v6];
  uint64_t v8 = _PXPhotosViewConfigurationWithPhotosDataSourceProvider(v5, [(PXLibraryFilterState *)v7 viewMode], 0, v3);

  [v8 setSectionHeaderStyle:1];
  objc_msgSend(v8, "setAllowedActions:", objc_msgSend(v8, "allowedActions") | 0x310);
  objc_msgSend(v8, "setAllowedActions:", objc_msgSend(v8, "allowedActions") | 0x1000000);
  objc_msgSend(v8, "setAllowedBehaviors:", objc_msgSend(v8, "allowedBehaviors") | 0x10);
  id v9 = +[PXPhotosGridSettings sharedInstance];
  int v10 = [v9 backdropStyleForPlacesAndImports];

  if (v10)
  {
    [v8 setNavBarStyle:5];
  }
  else
  {
    id v11 = +[PXPhotosGridSettings sharedInstance];
    objc_msgSend(v8, "setWantsModernNavBarButtons:", objc_msgSend(v11, "enableInvisibleNavBars"));
  }
  id v12 = [v8 dataSourceManager];
  objc_msgSend(v8, "setWantsContentFilterVisible:", objc_msgSend(v12, "supportsFiltering"));

  return v8;
}

PXPhotosViewConfiguration *_PXPhotosViewConfigurationWithPhotosDataSourceProvider(void *a1, uint64_t a2, char a3, void *a4)
{
  id v7 = a1;
  id v8 = a4;
  v17[0] = MEMORY[0x1E4F143A8];
  v17[1] = 3221225472;
  void v17[2] = ___PXPhotosViewConfigurationWithPhotosDataSourceProvider_block_invoke;
  v17[3] = &unk_1E5DBF4A8;
  char v22 = a3;
  id v18 = v7;
  id v19 = v8;
  uint64_t v20 = a2;
  uint64_t v21 = 0;
  id v9 = v8;
  id v10 = v7;
  id v11 = _CreateDataSourceManager(0, v17);
  id v12 = _PXDefaultUIMediaProviderForDataSourceManager(v11);
  id v13 = _PXDefaultAssetActionManagerForDataSourceManager(v11);
  id v14 = _PXDefaultAssetCollectionActionManagerForDataSourceManager(v11);
  id v15 = [[PXPhotosViewConfiguration alloc] initWithDataSourceManager:v11 mediaProvider:v12 selectionManager:0 assetActionManager:v13 assetCollectionActionManager:v14];
  [(PXPhotosViewConfiguration *)v15 setAllowedActions:[(PXPhotosViewConfiguration *)v15 allowedActions] | 0x200080A0];

  return v15;
}

id PXPhotosViewConfigurationForPlacesGridWithAssetSet(void *a1, void *a2)
{
  uint64_t v31 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v21 = [MEMORY[0x1E4F28B00] currentHandler];
    char v22 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPlacesGridWithAssetSet(NSSet<PHAsset *> *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)");
    [v21 handleFailureInFunction:v22, @"PXPhotosViewPhotoKitUtilities.m", 817, @"Invalid parameter not satisfying: %@", @"assetSet" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPlacesGridWithAssetSet(NSSet<PHAsset *> *__strong _Nonnull, PHPhotoLibrary *__strong _Nonnull)");
  [v23 handleFailureInFunction:v24, @"PXPhotosViewPhotoKitUtilities.m", 818, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

LABEL_3:
  int v6 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA48]), "initWithCapacity:", objc_msgSend(v3, "count"));
  long long v25 = 0u;
  long long v26 = 0u;
  long long v27 = 0u;
  long long v28 = 0u;
  id v7 = v3;
  uint64_t v8 = [v7 countByEnumeratingWithState:&v25 objects:v30 count:16];
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = *(void *)v26;
    do
    {
      for (uint64_t i = 0; i != v9; ++i)
      {
        if (*(void *)v26 != v10) {
          objc_enumerationMutation(v7);
        }
        id v12 = [*(id *)(*((void *)&v25 + 1) + 8 * i) objectID];
        [v6 addObject:v12];
      }
      uint64_t v9 = [v7 countByEnumeratingWithState:&v25 objects:v30 count:16];
    }
    while (v9);
  }

  id v13 = [v5 librarySpecificFetchOptions];
  id v14 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"self in %@", v6];
  [v13 setInternalPredicate:v14];

  id v15 = [MEMORY[0x1E4F38EB8] internalSortDescriptorForPropertyKey:@"creationDate" ascending:0];
  uint64_t v29 = v15;
  id v16 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v29 count:1];
  [v13 setInternalSortDescriptors:v16];

  id v17 = objc_msgSend(MEMORY[0x1E4F390A0], "px_placesFetchOptionsWith:", v13);

  id v18 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v17];
  id v19 = PXPhotosViewConfigurationForSocialGroup(0, v18);

  return v19;
}

id PXPhotosViewConfigurationForSearchResultsWithAllowedAssetUUIDs(void *a1, void *a2, void *a3, uint64_t a4)
{
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  if (!v9)
  {
    id v15 = [MEMORY[0x1E4F28B00] currentHandler];
    id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForSearchResultsWithAllowedAssetUUIDs(NSArray<NSString *> *__strong _Nonnull, NSString *__strong _Nullable, PHPhotoLibrary *__strong _Nonnull, BOOL)");
    [v15 handleFailureInFunction:v16, @"PXPhotosViewPhotoKitUtilities.m", 905, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  uint64_t v10 = [[_PXPhotosViewSearchResultsDataSourceProvider alloc] initWithAssetUUIDs:v7 searchTitle:v8 reverseSortOrder:a4];
  id v11 = _PXPhotosViewConfigurationWithPhotosDataSourceProvider(v10, 0, 1, v9);
  objc_msgSend(v11, "setAllowedBehaviors:", objc_msgSend(v11, "allowedBehaviors") | 0x10);
  objc_msgSend(v11, "setAllowedActions:", objc_msgSend(v11, "allowedActions") | 0x1300);
  [v11 setWantsContentFilterVisible:1];
  id v12 = +[PXPhotosGridSettings sharedInstance];
  int v13 = [v12 enableInvisibleNavBars];

  if (v13)
  {
    [v11 setNavBarStyle:1];
    [v11 setSectionHeaderStyle:0];
    [v11 setSectionBodyStyle:1];
  }
  else
  {
    [v11 setSectionHeaderStyle:1];
  }
  [v11 setAllowsLinkInteractions:1];
  [v11 setAllowsMultiSelectMenu:1];

  return v11;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetCollection(void *a1, int a2, void *a3, void *a4, void *a5, char a6, uint64_t a7, uint64_t a8)
{
  if (a2) {
    PXPhotosViewConfigurationForImagePickerWithAssetCollection(a1, a4, a6, a7, a5, a8);
  }
  else {
  id v8 = _PXPhotosViewConfigurationForAssetCollection(a1, 0, 0, a3, a5, 0, a6, a7);
  }
  return v8;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetCollectionFetchResult(void *a1, int a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8, void *a9, char a10, uint64_t a11, char a12, unsigned __int8 a13, char a14)
{
  if (a2) {
    PXPhotosViewConfigurationForImagePickerWithAssetCollectionFetchResult(a1, a4, a6, a7, a8, a10, a11, a9, a12, a13, a14);
  }
  else {
  id v14 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(a1, 0, a4, 0, a5, a3, a9, 0, 0, 0, a10, a11, 0);
  }
  return v14;
}

id PXPhotosViewConfigurationForAppAndPickerWithAssetFetchResult(void *a1, int a2, void *a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  if (a2) {
    PXPhotosViewConfigurationForImagePickerWithAssetFetchResult(a1, a4, a5, a3, a6);
  }
  else {
  int v6 = PXPhotosViewConfigurationForSocialGroup(0, a1);
  }
  return v6;
}

id PXPhotosViewConfigurationForPeople(void *a1, void *a2, void *a3, void *a4)
{
  v34[1] = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v29 = a4;
  if (!v9)
  {
    id v23 = [MEMORY[0x1E4F28B00] currentHandler];
    id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPeople(__strong id<PXFastEnumeration> _Nonnull, PHSocialGroup * _Nullable __strong, PHPhotoLibrary *__strong _Nonnull, NSString *__strong _Nullable)");
    [v23 handleFailureInFunction:v24, @"PXPhotosViewPhotoKitUtilities.m", 973, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  uint64_t v10 = +[PXPeopleUtilities assetCollectionListFetchResultForPeople:v7 assetCollectionFetchResults:0];
  id v11 = [v7 firstObject];
  uint64_t v12 = [v10 firstObject];
  int v13 = (void *)v12;
  id v14 = 0;
  id v15 = 0;
  if (v11 && v12)
  {
    if (v29)
    {
      id v16 = (void *)MEMORY[0x1E4F38EB8];
      v34[0] = v29;
      id v17 = [MEMORY[0x1E4F1C978] arrayWithObjects:v34 count:1];
      id v18 = [v9 librarySpecificFetchOptions];
      id v14 = [v16 fetchAssetsWithUUIDs:v17 options:v18];

      if (v14)
      {
LABEL_7:
        BOOL v32 = v13;
        id v33 = v14;
        id v15 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:&v33 forKeys:&v32 count:1];
        goto LABEL_10;
      }
    }
    else
    {
      id v14 = +[PXPeopleUtilities keyAssetForPerson:v11 face:0];
      if (v14) {
        goto LABEL_7;
      }
    }
    id v15 = 0;
  }
LABEL_10:
  if ([v7 count] == 1)
  {
    if (!v11)
    {
      long long v25 = [MEMORY[0x1E4F28B00] currentHandler];
      long long v26 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPeople(__strong id<PXFastEnumeration> _Nonnull, PHSocialGroup * _Nullable __strong, PHPhotoLibrary *__strong _Nonnull, NSString *__strong _Nullable)");
      [v25 handleFailureInFunction:v26, @"PXPhotosViewPhotoKitUtilities.m", 994, @"Invalid parameter not satisfying: %@", @"firstPerson != nil" file lineNumber description];
    }
    id v19 = +[PXPeopleUnifiedItemFactory itemWithPerson:v11];
    goto LABEL_16;
  }
  if (v8)
  {
    id v19 = +[PXPeopleUnifiedItemFactory itemWithSocialGroup:v8];
LABEL_16:
    uint64_t v20 = v19;
    uint64_t v21 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v10, v15, 0, v19, 0, v9, 0, v7, v8, 0, 0, 1, 0);
    goto LABEL_17;
  }
  uint64_t v21 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v10, v15, 0, 0, 0, v9, 0, v7, 0, 0, 0, 1, 0);
  uint64_t v20 = 0;
LABEL_17:
  objc_msgSend(v21, "setAllowedActions:", objc_msgSend(v21, "allowedActions") | 0x10000000);
  [v21 setSectionHeaderStyle:7];
  [v21 setNavBarStyle:3];
  if ([v7 count] == 1)
  {
    if (!v11)
    {
      long long v28 = [MEMORY[0x1E4F28B00] currentHandler];
      long long v27 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPeople(__strong id<PXFastEnumeration> _Nonnull, PHSocialGroup * _Nullable __strong, PHPhotoLibrary *__strong _Nonnull, NSString *__strong _Nullable)");
      [v28 handleFailureInFunction:v27, @"PXPhotosViewPhotoKitUtilities.m", 1006, @"Invalid parameter not satisfying: %@", @"firstPerson != nil" file lineNumber description];
    }
    v30[0] = MEMORY[0x1E4F143A8];
    v30[1] = 3221225472;
    v30[2] = __PXPhotosViewConfigurationForPeople_block_invoke;
    v30[3] = &unk_1E5DBF3E0;
    id v31 = v11;
    [v21 setBannerControllerProvider:v30];
  }
  return v21;
}

id __PXPhotosViewConfigurationForPeople_block_invoke(uint64_t a1, uint64_t a2)
{
  return +[PXPhotosViewBannerControllerFactory makeBannerControllerForPerson:*(void *)(a1 + 32) photosViewModel:a2];
}

id PXPhotosViewConfigurationForPersonOrSocialGroup(void *a1, void *a2, void *a3, int a4)
{
  v45[1] = *MEMORY[0x1E4F143B8];
  id v6 = a1;
  id v7 = a2;
  id v35 = a3;
  id v8 = [v6 photoLibrary];
  id v9 = v8;
  if (v8)
  {
    id v10 = v8;
  }
  else
  {
    id v10 = [v7 photoLibrary];
  }
  id v11 = v10;

  if (v6 && v7)
  {
    id v29 = [MEMORY[0x1E4F28B00] currentHandler];
    id v30 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPersonOrSocialGroup(PHPerson * _Nullable __strong, PHSocialGroup * _Nullable __strong, PXSelectionCoordinator * _Nullable __strong, BOOL)");
    [v29 handleFailureInFunction:v30, @"PXPhotosViewPhotoKitUtilities.m", 1017, @"Invalid parameter not satisfying: %@", @"person == nil || socialGroup == nil" file lineNumber description];

    if (v11) {
      goto LABEL_7;
    }
  }
  else if (v11)
  {
    goto LABEL_7;
  }
  id v31 = [MEMORY[0x1E4F28B00] currentHandler];
  BOOL v32 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXPhotosViewConfigurationForPersonOrSocialGroup(PHPerson * _Nullable __strong, PHSocialGroup * _Nullable __strong, PXSelectionCoordinator * _Nullable __strong, BOOL)");
  [v31 handleFailureInFunction:v32, @"PXPhotosViewPhotoKitUtilities.m", 1018, @"Invalid parameter not satisfying: %@", @"photoLibrary != nil" file lineNumber description];

LABEL_7:
  if (v6)
  {
    v45[0] = v6;
    uint64_t v12 = [MEMORY[0x1E4F1C978] arrayWithObjects:v45 count:1];
    uint64_t v13 = 0x10000000;
  }
  else
  {
    uint64_t v12 = 0;
    uint64_t v13 = 0x40000000;
  }
  uint64_t v14 = [MEMORY[0x1E4F38EE8] transientAssetCollectionWithAssets:MEMORY[0x1E4F1CBF0] title:&stru_1F00B0030 identifier:0 photoLibrary:v11];
  id v15 = (void *)MEMORY[0x1E4F39008];
  id v34 = (void *)v14;
  uint64_t v44 = v14;
  id v16 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v44 count:1];
  uint64_t v17 = [v15 transientCollectionListWithCollections:v16 title:&stru_1F00B0030];

  id v33 = (void *)v17;
  id v18 = [MEMORY[0x1E4F38FF8] fetchCollectionsInCollectionList:v17 options:0];
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke;
  aBlock[3] = &unk_1E5DBF408;
  id v19 = v6;
  id v42 = v19;
  id v20 = v7;
  id v43 = v20;
  uint64_t v21 = _Block_copy(aBlock);
  char v22 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v18, 0, 0, v21, 0, v11, v35, v12, v20, 0, 0, 1, a4);

  objc_msgSend(v22, "setAllowedActions:", objc_msgSend(v22, "allowedActions") | v13);
  objc_msgSend(v22, "setAllowedActions:", objc_msgSend(v22, "allowedActions") & 0xFFFFFFFFFEFFFFFFLL);
  [v22 setSectionHeaderStyle:7];
  if (a4) {
    uint64_t v23 = 0;
  }
  else {
    uint64_t v23 = 3;
  }
  [v22 setNavBarStyle:v23];
  if (v6)
  {
    v39[0] = MEMORY[0x1E4F143A8];
    v39[1] = 3221225472;
    v39[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_2;
    v39[3] = &unk_1E5DBF3E0;
    id v24 = v19;
    id v40 = v24;
    [v22 setBannerControllerProvider:v39];
    long long v25 = +[PXPeopleUtilities sortDescriptorsWithPersonAssetSortOrder:](PXPeopleUtilities, "sortDescriptorsWithPersonAssetSortOrder:", [v24 assetSortOrder]);
    long long v26 = [v22 dataSourceManager];
    v37[0] = MEMORY[0x1E4F143A8];
    v37[1] = 3221225472;
    v37[2] = __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_3;
    v37[3] = &unk_1E5DD1458;
    id v38 = v25;
    id v27 = v25;
    [v26 performChanges:v37];
  }
  return v22;
}

id __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + 32);
  if (!v2) {
    uint64_t v2 = *(void **)(a1 + 40);
  }
  return v2;
}

id __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_2(uint64_t a1, uint64_t a2)
{
  return +[PXPhotosViewBannerControllerFactory makeBannerControllerForPerson:*(void *)(a1 + 32) photosViewModel:a2];
}

uint64_t __PXPhotosViewConfigurationForPersonOrSocialGroup_block_invoke_3(uint64_t a1, void *a2)
{
  return [a2 setSortDescriptors:*(void *)(a1 + 32)];
}

uint64_t __PosterBoardServicesLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PosterBoardServicesLibraryCore_frameworkLibrardouble y = result;
  return result;
}

uint64_t __AppPredictionClientLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  AppPredictionClientLibraryCore_frameworkLibrardouble y = result;
  return result;
}

void PXCreateMutablePosterConfigurationForLockScreenRole()
{
  uint64_t v14 = 0;
  id v15 = &v14;
  uint64_t v16 = 0x2050000000;
  id v0 = (void *)getPRMutablePosterConfigurationClass_softClass;
  uint64_t v17 = getPRMutablePosterConfigurationClass_softClass;
  if (!getPRMutablePosterConfigurationClass_softClass)
  {
    uint64_t v9 = MEMORY[0x1E4F143A8];
    uint64_t v10 = 3221225472;
    id v11 = __getPRMutablePosterConfigurationClass_block_invoke;
    uint64_t v12 = &unk_1E5DD2B08;
    uint64_t v13 = &v14;
    __getPRMutablePosterConfigurationClass_block_invoke((uint64_t)&v9);
    id v0 = (void *)v15[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v14, 8);
  uint64_t v14 = 0;
  id v15 = &v14;
  uint64_t v16 = 0x2020000000;
  uint64_t v2 = (void *)getPRPosterRoleLockScreenSymbolLoc_ptr;
  uint64_t v17 = getPRPosterRoleLockScreenSymbolLoc_ptr;
  if (!getPRPosterRoleLockScreenSymbolLoc_ptr)
  {
    uint64_t v9 = MEMORY[0x1E4F143A8];
    uint64_t v10 = 3221225472;
    id v11 = __getPRPosterRoleLockScreenSymbolLoc_block_invoke;
    uint64_t v12 = &unk_1E5DD2B08;
    uint64_t v13 = &v14;
    id v3 = PosterKitLibrary();
    id v4 = dlsym(v3, "PRPosterRoleLockScreen");
    *(void *)(v13[1] + 24) = v4;
    getPRPosterRoleLockScreenSymbolLoc_ptr = *(void *)(v13[1] + 24);
    uint64_t v2 = (void *)v15[3];
  }
  _Block_object_dispose(&v14, 8);
  if (v2)
  {
    uint64_t v5 = [v1 mutableConfigurationWithRole:*v2];
    id v6 = v5;
  }
  else
  {
    id v7 = [MEMORY[0x1E4F28B00] currentHandler];
    id v8 = [NSString stringWithUTF8String:"PRPosterRole getPRPosterRoleLockScreen(void)"];
    objc_msgSend(v7, "handleFailureInFunction:file:lineNumber:description:", v8, @"PXPosterRuntimeAdditions.m", 29, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AADD6B9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRMutablePosterConfigurationClass_block_invoke(uint64_t a1)
{
  PosterKitLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRMutablePosterConfiguration");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRMutablePosterConfigurationClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRMutablePosterConfigurationClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 28, @"Unable to find class %s", "PRMutablePosterConfiguration");

    __break(1u);
  }
}

void *__getPRPosterRoleLockScreenSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = PosterKitLibrary();
  uint64_t result = dlsym(v2, "PRPosterRoleLockScreen");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getPRPosterRoleLockScreenSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *PosterKitLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!PosterKitLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    void v4[3] = __PosterKitLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DBF520;
    uint64_t v6 = 0;
    PosterKitLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  id v0 = (void *)PosterKitLibraryCore_frameworkLibrary;
  if (!PosterKitLibraryCore_frameworkLibrary)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *PosterKitLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 27, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __PosterKitLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PosterKitLibraryCore_frameworkLibrardouble y = result;
  return result;
}

id PXCreateWallpaperPosterController(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v10 = 0;
  id v11 = &v10;
  uint64_t v12 = 0x2050000000;
  long long v5 = (void *)getPUWallpaperPosterControllerClass_softClass;
  uint64_t v13 = getPUWallpaperPosterControllerClass_softClass;
  if (!getPUWallpaperPosterControllerClass_softClass)
  {
    v9[0] = MEMORY[0x1E4F143A8];
    v9[1] = 3221225472;
    void v9[2] = __getPUWallpaperPosterControllerClass_block_invoke;
    v9[3] = &unk_1E5DD2B08;
    void v9[4] = &v10;
    __getPUWallpaperPosterControllerClass_block_invoke((uint64_t)v9);
    long long v5 = (void *)v11[3];
  }
  uint64_t v6 = v5;
  _Block_object_dispose(&v10, 8);
  uint64_t v7 = (void *)[[v6 alloc] initWithRenderer:v3 photoLibrary:v4];

  return v7;
}

void sub_1AADD6FA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getPUWallpaperPosterControllerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!PhotosUIPrivateLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __PhotosUIPrivateLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DBF538;
    uint64_t v8 = 0;
    PhotosUIPrivateLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  if (!PhotosUIPrivateLibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"void *PhotosUIPrivateLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXPosterRuntimeAdditions.m", 24, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("PUWallpaperPosterController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getPUWallpaperPosterControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXPosterRuntimeAdditions.m", 25, @"Unable to find class %s", "PUWallpaperPosterController");

LABEL_10:
    __break(1u);
  }
  getPUWallpaperPosterControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __PhotosUIPrivateLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PhotosUIPrivateLibraryCore_frameworkLibrardouble y = result;
  return result;
}

id PXCreateWallpaperPosterEditingEntryPoint(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v15 = 0;
  uint64_t v16 = &v15;
  uint64_t v17 = 0x2050000000;
  long long v5 = (void *)getPRUISModalEntryPointEditingClass_softClass;
  uint64_t v18 = getPRUISModalEntryPointEditingClass_softClass;
  if (!getPRUISModalEntryPointEditingClass_softClass)
  {
    uint64_t v10 = MEMORY[0x1E4F143A8];
    uint64_t v11 = 3221225472;
    uint64_t v12 = __getPRUISModalEntryPointEditingClass_block_invoke;
    uint64_t v13 = &unk_1E5DD2B08;
    uint64_t v14 = &v15;
    __getPRUISModalEntryPointEditingClass_block_invoke((uint64_t)&v10);
    long long v5 = (void *)v16[3];
  }
  uint64_t v6 = v5;
  _Block_object_dispose(&v15, 8);
  if (!v6)
  {
    uint64_t v15 = 0;
    uint64_t v16 = &v15;
    uint64_t v17 = 0x2050000000;
    long long v7 = (void *)getPRUIModalEntryPointEditingClass_softClass;
    uint64_t v18 = getPRUIModalEntryPointEditingClass_softClass;
    if (!getPRUIModalEntryPointEditingClass_softClass)
    {
      uint64_t v10 = MEMORY[0x1E4F143A8];
      uint64_t v11 = 3221225472;
      uint64_t v12 = __getPRUIModalEntryPointEditingClass_block_invoke;
      uint64_t v13 = &unk_1E5DD2B08;
      uint64_t v14 = &v15;
      __getPRUIModalEntryPointEditingClass_block_invoke((uint64_t)&v10);
      long long v7 = (void *)v16[3];
    }
    uint64_t v6 = v7;
    _Block_object_dispose(&v15, 8);
  }
  uint64_t v8 = (void *)[[v6 alloc] initWithExtensionIdentifier:v3 configuration:v4];

  return v8;
}

void sub_1AADD73BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRUISModalEntryPointEditingClass_block_invoke(uint64_t a1)
{
  PosterBoardUIServicesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRUISModalEntryPointEditing");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRUISModalEntryPointEditingClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRUISModalEntryPointEditingClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 42, @"Unable to find class %s", "PRUISModalEntryPointEditing");

    __break(1u);
  }
}

void __getPRUIModalEntryPointEditingClass_block_invoke(uint64_t a1)
{
  PosterBoardUILibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRUIModalEntryPointEditing");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRUIModalEntryPointEditingClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRUIModalEntryPointEditingClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 33, @"Unable to find class %s", "PRUIModalEntryPointEditing");

    __break(1u);
  }
}

void PosterBoardUILibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!PosterBoardUILibraryCore_frameworkLibrary)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    v3[2] = (void *)3221225472;
    void v3[3] = __PosterBoardUILibraryCore_block_invoke;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DBF568;
    uint64_t v5 = 0;
    PosterBoardUILibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  if (!PosterBoardUILibraryCore_frameworkLibrary)
  {
    id v1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *PosterBoardUILibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXPosterRuntimeAdditions.m", 31, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __PosterBoardUILibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PosterBoardUILibraryCore_frameworkLibrardouble y = result;
  return result;
}

void PosterBoardUIServicesLibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!PosterBoardUIServicesLibraryCore_frameworkLibrary)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    v3[2] = (void *)3221225472;
    void v3[3] = __PosterBoardUIServicesLibraryCore_block_invoke;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DBF550;
    uint64_t v5 = 0;
    PosterBoardUIServicesLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  if (!PosterBoardUIServicesLibraryCore_frameworkLibrary)
  {
    id v1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *PosterBoardUIServicesLibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXPosterRuntimeAdditions.m", 40, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __PosterBoardUIServicesLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PosterBoardUIServicesLibraryCore_frameworkLibrardouble y = result;
  return result;
}

id PXCreateWallpaperPosterInlineEditingViewController(void *a1)
{
  id v1 = a1;
  uint64_t v12 = 0;
  uint64_t v13 = &v12;
  uint64_t v14 = 0x2050000000;
  uint64_t v2 = (void *)getPRUISInlinePosterEditingViewControllerClass_softClass;
  uint64_t v15 = getPRUISInlinePosterEditingViewControllerClass_softClass;
  if (!getPRUISInlinePosterEditingViewControllerClass_softClass)
  {
    uint64_t v7 = MEMORY[0x1E4F143A8];
    uint64_t v8 = 3221225472;
    uint64_t v9 = __getPRUISInlinePosterEditingViewControllerClass_block_invoke;
    uint64_t v10 = &unk_1E5DD2B08;
    uint64_t v11 = &v12;
    __getPRUISInlinePosterEditingViewControllerClass_block_invoke((uint64_t)&v7);
    uint64_t v2 = (void *)v13[3];
  }
  id v3 = v2;
  _Block_object_dispose(&v12, 8);
  if (!v3)
  {
    uint64_t v12 = 0;
    uint64_t v13 = &v12;
    uint64_t v14 = 0x2050000000;
    long long v4 = (void *)getPRUIInlinePosterEditingViewControllerClass_softClass;
    uint64_t v15 = getPRUIInlinePosterEditingViewControllerClass_softClass;
    if (!getPRUIInlinePosterEditingViewControllerClass_softClass)
    {
      uint64_t v7 = MEMORY[0x1E4F143A8];
      uint64_t v8 = 3221225472;
      uint64_t v9 = __getPRUIInlinePosterEditingViewControllerClass_block_invoke;
      uint64_t v10 = &unk_1E5DD2B08;
      uint64_t v11 = &v12;
      __getPRUIInlinePosterEditingViewControllerClass_block_invoke((uint64_t)&v7);
      long long v4 = (void *)v13[3];
    }
    id v3 = v4;
    _Block_object_dispose(&v12, 8);
  }
  uint64_t v5 = (void *)[[v3 alloc] initWithEntryPoint:v1];

  return v5;
}

void sub_1AADD7A80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRUISInlinePosterEditingViewControllerClass_block_invoke(uint64_t a1)
{
  PosterBoardUIServicesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRUISInlinePosterEditingViewController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRUISInlinePosterEditingViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRUISInlinePosterEditingViewControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 41, @"Unable to find class %s", "PRUISInlinePosterEditingViewController");

    __break(1u);
  }
}

void __getPRUIInlinePosterEditingViewControllerClass_block_invoke(uint64_t a1)
{
  PosterBoardUILibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRUIInlinePosterEditingViewController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRUIInlinePosterEditingViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRUIInlinePosterEditingViewControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 32, @"Unable to find class %s", "PRUIInlinePosterEditingViewController");

    __break(1u);
  }
}

void PXGetWallpaperOverlayForLockScreen(uint64_t a1, double a2)
{
  uint64_t v11 = 0;
  uint64_t v12 = &v11;
  uint64_t v13 = 0x2020000000;
  long long v4 = (void (*)(void, uint64_t, double))getSBSUIWallpaperGetOverlaySymbolLoc_ptr_148349;
  uint64_t v14 = getSBSUIWallpaperGetOverlaySymbolLoc_ptr_148349;
  if (!getSBSUIWallpaperGetOverlaySymbolLoc_ptr_148349)
  {
    v10[0] = MEMORY[0x1E4F143A8];
    v10[1] = 3221225472;
    void v10[2] = __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_148350;
    _OWORD v10[3] = &unk_1E5DD2B08;
    void v10[4] = &v11;
    __getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_148350(v10);
    long long v4 = (void (*)(void, uint64_t, double))v12[3];
  }
  _Block_object_dispose(&v11, 8);
  if (v4)
  {
    if ((unint64_t)(a1 - 1) >= 2) {
      uint64_t v5 = 14523;
    }
    else {
      uint64_t v5 = 14651;
    }
    uint64_t v6 = v4(0, v5, a2);
    id v7 = v6;
  }
  else
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "UIImage *SOFT_LINKED_SBSUIWallpaperGetOverlay(SBFWallpaperVariant, CGFloat, SBSUIWallpaperPreviewOptions)");
    objc_msgSend(v8, "handleFailureInFunction:file:lineNumber:description:", v9, @"PXPosterRuntimeAdditions.m", 45, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AADD7D88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSBSUIWallpaperGetOverlaySymbolLoc_block_invoke_148350(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  v5[0] = 0;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary_148352)
  {
    v5[1] = (void *)MEMORY[0x1E4F143A8];
    void v5[2] = (void *)3221225472;
    v5[3] = __SpringBoardUIServicesLibraryCore_block_invoke_148353;
    void v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    long long v6 = xmmword_1E5DBF580;
    uint64_t v7 = 0;
    SpringBoardUIServicesLibraryCore_frameworkLibrary_148352 = _sl_dlopen();
  }
  uint64_t v2 = (void *)SpringBoardUIServicesLibraryCore_frameworkLibrary_148352;
  if (!SpringBoardUIServicesLibraryCore_frameworkLibrary_148352)
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *SpringBoardUIServicesLibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXPosterRuntimeAdditions.m", 44, @"%s", v5[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v3 = v5[0];
  if (v5[0]) {
LABEL_7:
  }
    free(v3);
  uint64_t result = dlsym(v2, "SBSUIWallpaperGetOverlay");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  getSBSUIWallpaperGetOverlaySymbolLoc_ptr_148349 = *(_UNKNOWN **)(*(void *)(a1[4] + 8) + 24);
  return result;
}

uint64_t __SpringBoardUIServicesLibraryCore_block_invoke_148353()
{
  uint64_t result = _sl_dlopen();
  SpringBoardUIServicesLibraryCore_frameworkLibrary_148352 = result;
  return result;
}

void PXFetchSnapshotImageForDescriptor(void *a1, void *a2, unint64_t a3, void *a4)
{
  id v7 = a1;
  id v8 = a2;
  id v9 = a4;
  id v10 = v7;
  id v11 = v8;
  if (a3 > 2) {
    uint64_t v12 = 0;
  }
  else {
    uint64_t v12 = qword_1AB35B0E8[a3];
  }
  uint64_t v21 = 0;
  char v22 = &v21;
  uint64_t v23 = 0x2050000000;
  uint64_t v13 = (void *)getPRSPosterSnapshotRequestClass_softClass;
  uint64_t v24 = getPRSPosterSnapshotRequestClass_softClass;
  if (!getPRSPosterSnapshotRequestClass_softClass)
  {
    v20[0] = MEMORY[0x1E4F143A8];
    v20[1] = 3221225472;
    v20[2] = __getPRSPosterSnapshotRequestClass_block_invoke;
    void v20[3] = &unk_1E5DD2B08;
    void v20[4] = &v21;
    __getPRSPosterSnapshotRequestClass_block_invoke((uint64_t)v20);
    uint64_t v13 = (void *)v22[3];
  }
  uint64_t v14 = v13;
  _Block_object_dispose(&v21, 8);
  uint64_t v15 = (void *)[[v14 alloc] initWithDescriptor:v11 variantType:0 options:0];
  uint64_t v16 = [NSNumber numberWithInteger:v12];
  [v15 setValue:v16 forKey:@"orientation"];

  v18[0] = MEMORY[0x1E4F143A8];
  v18[1] = 3221225472;
  v18[2] = __PXFetchSnapshotImageForDescriptor_block_invoke;
  v18[3] = &unk_1E5DBF4D0;
  id v19 = v9;
  id v17 = v9;
  [v10 fetchPosterSnapshotsWithRequest:v15 completion:v18];
}

void sub_1AADD8178(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPRSPosterSnapshotRequestClass_block_invoke(uint64_t a1)
{
  PosterBoardServicesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PRSPosterSnapshotRequest");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPRSPosterSnapshotRequestClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPRSPosterSnapshotRequestClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXPosterRuntimeAdditions.m", 37, @"Unable to find class %s", "PRSPosterSnapshotRequest");

    __break(1u);
  }
}

void __PXFetchSnapshotImageForDescriptor_block_invoke(uint64_t a1, void *a2, void *a3)
{
  uint64_t v24 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  if (v5)
  {
    long long v21 = 0u;
    long long v22 = 0u;
    long long v19 = 0u;
    long long v20 = 0u;
    id v7 = objc_msgSend(v5, "snapshots", 0);
    uint64_t v8 = [v7 countByEnumeratingWithState:&v19 objects:v23 count:16];
    if (v8)
    {
      uint64_t v9 = v8;
      uint64_t v10 = *(void *)v20;
      while (2)
      {
        for (uint64_t i = 0; i != v9; ++i)
        {
          if (*(void *)v20 != v10) {
            objc_enumerationMutation(v7);
          }
          id v12 = *(id *)(*((void *)&v19 + 1) + 8 * i);
          uint64_t v13 = [v12 image];
          if (v13)
          {
            uint64_t v16 = v13;
            uint64_t v17 = [v12 imageOrientation];
            if ((unint64_t)(v17 - 1) >= 7) {
              uint64_t v18 = 0;
            }
            else {
              uint64_t v18 = v17;
            }

            uint64_t v14 = [MEMORY[0x1E4FB1818] imageWithCGImage:v16 scale:v18 orientation:1.0];
            uint64_t v15 = *(void (**)(void))(*(void *)(a1 + 32) + 16);
            goto LABEL_15;
          }
        }
        uint64_t v9 = [v7 countByEnumeratingWithState:&v19 objects:v23 count:16];
        if (v9) {
          continue;
        }
        break;
      }
    }

    uint64_t v14 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *(void *)off_1E5DAAF28, -1, @"Poster snapshot image could not be loaded.");
    uint64_t v15 = *(void (**)(void))(*(void *)(a1 + 32) + 16);
LABEL_15:
    v15();
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
  }
}

void sub_1AADDA730(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

uint64_t __Block_byref_object_copy__148607(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__148608(uint64_t a1)
{
}

void sub_1AADDD89C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

double PXImageModulationFloatByLinearlyInterpolatingFloats(void *a1, void *a2, double a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = v6;
  if (a3 <= 0.0)
  {
    double v8 = v5[2](v5);
  }
  else
  {
    if (a3 < 1.0)
    {
      v5[2](v5);
      v7[2](v7);
      PXFloatByLinearlyInterpolatingFloats();
    }
    double v8 = ((double (*)(id))v6[2])(v6);
  }
  double v9 = v8;

  return v9;
}

char *PXStoryClusteringAlgorithmCutAdjacentWithAssetIndicesOptionsAndDistanceBlock(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v55 = a2;
  id v6 = a3;
  id v7 = (char *)[v5 count];
  if (v7)
  {
    double v8 = [v55 objectForKey:@"minimumNumberOfObjects"];
    unint64_t v9 = [v8 unsignedIntegerValue];

    uint64_t v10 = [v55 objectForKey:@"maximumDistance"];
    [v10 doubleValue];
    double v12 = v11;
    uint64_t v13 = v7 - 1;

    v62[0] = 0;
    std::vector<double>::vector(v60, (unint64_t)(v7 - 1), v62);
    if (v7 != (char *)1)
    {
      uint64_t v14 = 0;
      do
      {
        uint64_t v15 = objc_msgSend(v5, "objectAtIndexedSubscript:", v14, v55);
        uint64_t v16 = [v5 objectAtIndexedSubscript:v14 + 1];
        double v17 = v6[2](v6, v15, v16);

        *((double *)v60[0] + (void)v14++) = v17;
      }
      while (v13 != v14);
    }
    LOBYTE(v62[0]) = 0;
    std::vector<BOOL>::vector(v59, (uint64_t)(v7 - 1), (unsigned __int8 *)v62);
    if (v7 != (char *)1)
    {
      uint64_t v18 = 0;
      long long v19 = (double *)v60[0];
      long long v20 = (char *)v59[0];
      do
      {
        if (v19[(void)v18] > v12) {
          *(void *)&v20[((unint64_t)v18 >> 3) & 0x1FFFFFFFFFFFFFF8] |= 1 << (char)v18;
        }
        ++v18;
      }
      while (v13 != v18);
    }
    std::vector<BOOL>::vector(&v56, (uint64_t)v59);
    memset(v62, 0, sizeof(v62));
    memset(__p, 0, sizeof(__p));
    long long v21 = v57;
    if (v57)
    {
      long long v22 = 0;
      uint64_t v23 = 0;
      uint64_t v24 = 0;
      unint64_t v25 = 0;
      do
      {
        if (((*(void *)((char *)v56 + ((v25 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v25) & 1) != 0
          && (*((void *)__p[0] + v25) - *((void *)v62[0] + v25) < v9
           || *((void *)__p[0] + v25 + 1) - *((void *)v62[0] + v25 + 1) < v9))
        {
          double v26 = -*((double *)v60[0] + v25);
          if (v22 >= v24)
          {
            uint64_t v28 = ((char *)v22 - (char *)v23) >> 4;
            unint64_t v29 = v28 + 1;
            if ((unint64_t)(v28 + 1) >> 60) {
              std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
            }
            if (v24 - v23 > v29) {
              unint64_t v29 = v24 - v23;
            }
            if ((unint64_t)((char *)v24 - (char *)v23) >= 0x7FFFFFFFFFFFFFF0) {
              unint64_t v30 = 0xFFFFFFFFFFFFFFFLL;
            }
            else {
              unint64_t v30 = v29;
            }
            if (v30)
            {
              if (v30 >> 60) {
                std::__throw_bad_array_new_length[abi:ne180100]();
              }
              id v31 = (char *)operator new(16 * v30);
            }
            else
            {
              id v31 = 0;
            }
            BOOL v32 = &v31[16 * v28];
            *(double *)BOOL v32 = v26;
            *((void *)v32 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v25;
            if (v22 == v23)
            {
              uint64_t v23 = (double *)&v31[16 * v28];
            }
            else
            {
              id v33 = &v31[16 * v28];
              do
              {
                *((_OWORD *)v33 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = *((_OWORD *)v22 - 1);
                v33 -= 16;
                v22 -= 2;
              }
              while (v22 != v23);
              long long v22 = v23;
              uint64_t v23 = (double *)v33;
            }
            uint64_t v24 = (double *)&v31[16 * v30];
            uint64_t v27 = (uint64_t)(v32 + 16);
            if (v22) {
              operator delete(v22);
            }
          }
          else
          {
            *long long v22 = v26;
            *((void *)v22 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v25;
            uint64_t v27 = (uint64_t)(v22 + 2);
          }
          std::__sift_up[abi:ne180100]<std::_ClassicAlgPolicy,std::less<std::pair<double,unsigned long>> &,std::__wrap_iter<std::pair<double,unsigned long>*>>((uint64_t)v23, v27, (v27 - (uint64_t)v23) >> 4);
          long long v21 = v57;
          long long v22 = (double *)v27;
        }
        ++v25;
      }
      while (v25 < (unint64_t)v21);
      if (v23 == v22)
      {
        uint64_t v23 = v22;
      }
      else
      {
        do
        {
          unint64_t v34 = *((void *)v23 + 1);
          if ((char *)v22 - (char *)v23 >= 17)
          {
            uint64_t v35 = 0;
            unint64_t v36 = (unint64_t)((char *)v22 - (char *)v23) >> 4;
            uint64_t v37 = *(void *)v23;
            uint64_t v38 = v36 - 2;
            if (v36 < 2) {
              uint64_t v38 = v36 - 1;
            }
            uint64_t v39 = v38 >> 1;
            id v40 = v23;
            do
            {
              id v41 = v40;
              uint64_t v42 = v35 + 1;
              v40 += 2 * v35 + 2;
              uint64_t v43 = 2 * v35;
              uint64_t v35 = (2 * v35) | 1;
              uint64_t v44 = v43 + 2;
              if (v44 < (uint64_t)v36)
              {
                double v45 = v40[2];
                if (*v40 < v45 || v45 >= *v40 && *(void *)&v41[2 * v42 + 1] < *((void *)v40 + 3))
                {
                  v40 += 2;
                  uint64_t v35 = v44;
                }
              }
              *id v41 = *v40;
              v41[1] = v40[1];
            }
            while (v35 <= v39);
            if (v22 - 2 == v40)
            {
              *(void *)id v40 = v37;
              *((void *)v40 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v34;
            }
            else
            {
              *id v40 = *(v22 - 2);
              v40[1] = *(v22 - 1);
              *((void *)v22 - 2) = v37;
              *((void *)v22 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v34;
              std::__sift_up[abi:ne180100]<std::_ClassicAlgPolicy,std::less<std::pair<double,unsigned long>> &,std::__wrap_iter<std::pair<double,unsigned long>*>>((uint64_t)v23, (uint64_t)(v40 + 2), ((char *)(v40 + 2) - (char *)v23) >> 4);
            }
          }
          if (*((void *)__p[0] + v34) - *((void *)v62[0] + v34) < v9
            || *((void *)__p[0] + v34 + 1) - *((void *)v62[0] + v34 + 1) < v9)
          {
            *(void *)((char *)v56 + ((v34 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= ~(1 << v34);
          }
          v22 -= 2;
        }
        while (v23 != v22);
        long long v21 = v57;
      }
      id v46 = v56;
      id v47 = v58;
      uint64_t v57 = 0;
      char v58 = 0;
      id v56 = 0;
      if (v23) {
        operator delete(v23);
      }
    }
    else
    {
      id v46 = v56;
      id v47 = v58;
      uint64_t v57 = 0;
      char v58 = 0;
      id v56 = 0;
    }
    if (__p[0]) {
      operator delete(__p[0]);
    }
    if (v62[0]) {
      operator delete(v62[0]);
    }
    if (v59[0]) {
      operator delete(v59[0]);
    }
    v59[0] = v46;
    v59[1] = v21;
    v59[2] = v47;
    if (v56) {
      operator delete(v56);
    }
    id v48 = objc_opt_new();
    id v49 = 0;
    do
    {
      unint64_t v50 = objc_opt_new();
      id v51 = [NSNumber numberWithUnsignedInteger:v49];
      [v50 addObject:v51];

      if (++v49 < v7)
      {
        while (((*(void *)((char *)v59[0] + (((unint64_t)(v49 - 1) >> 3) & 0x1FFFFFFFFFFFFFF8)) >> (v49 - 1)) & 1) == 0)
        {
          id v52 = [NSNumber numberWithUnsignedInteger:v49];
          [v50 addObject:v52];

          if (v7 == ++v49)
          {
            id v49 = v7;
            break;
          }
        }
      }
      id v53 = objc_msgSend(MEMORY[0x1E4F8A788], "clusterWithObjects:", v50, v55);
      [v48 addObject:v53];
    }
    while (v49 < v7);
    id v7 = (char *)[v48 copy];

    if (v59[0]) {
      operator delete(v59[0]);
    }
    if (v60[0])
    {
      v60[1] = v60[0];
      operator delete(v60[0]);
    }
  }

  return v7;
}

void sub_1AADDEB10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, void *a9, void *a10, uint64_t a11, uint64_t a12, void *__p, uint64_t a14, uint64_t a15, void *a16, uint64_t a17, uint64_t a18, void *a19, uint64_t a20,uint64_t a21,void *a22)
{
  if (__p) {
    operator delete(__p);
  }
  if (a16) {
    operator delete(a16);
  }

  _Unwind_Resume(a1);
}

void *std::vector<double>::vector(void *a1, unint64_t a2, void *a3)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  if (a2)
  {
    std::vector<double>::__vallocate[abi:ne180100](a1, a2);
    id v6 = (void *)a1[1];
    id v7 = &v6[a2];
    uint64_t v8 = 8 * a2;
    do
    {
      *v6++ = *a3;
      v8 -= 8;
    }
    while (v8);
    a1[1] = v7;
  }
  return a1;
}

void sub_1AADDEC84(_Unwind_Exception *exception_object)
{
  id v3 = *(void **)v1;
  if (*(void *)v1)
  {
    *(void *)(v1 + _Block_object_dispose(&STACK[0x350], 8) = v3;
    operator delete(v3);
  }
  _Unwind_Resume(exception_object);
}

void *std::vector<BOOL>::vector(void *a1, uint64_t a2, unsigned __int8 *a3)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  if (!a2) {
    return a1;
  }
  unint64_t v5 = a2;
  std::vector<BOOL>::__vallocate[abi:ne180100](a1, a2);
  int v6 = *a3;
  unint64_t v7 = a1[1];
  unint64_t v8 = v7 + v5;
  a1[1] = v7 + v5;
  if (v7)
  {
    unint64_t v9 = v8 - 1;
    if (((v8 - 1) ^ (v7 - 1)) < 0x40) {
      goto LABEL_10;
    }
  }
  else
  {
    unint64_t v9 = v8 - 1;
  }
  unint64_t v10 = v9 >> 6;
  if (v8 >= 0x41) {
    unint64_t v11 = v10;
  }
  else {
    unint64_t v11 = 0;
  }
  *(void *)(*a1 + 8 * v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 0;
LABEL_10:
  double v12 = (void *)(*a1 + 8 * (v7 >> 6));
  int v13 = v7 & 0x3F;
  if (v6)
  {
    if ((v7 & 0x3F) != 0)
    {
      unint64_t v14 = (64 - v13);
      if (v14 >= v5) {
        unint64_t v15 = v5;
      }
      else {
        unint64_t v15 = (64 - v13);
      }
      *v12++ |= (0xFFFFFFFFFFFFFFFFLL >> (v14 - v15)) & (-1 << v7);
      v5 -= v15;
    }
    unint64_t v16 = v5 >> 6;
    if (v5 >= 0x40) {
      memset(v12, 255, 8 * v16);
    }
    if ((v5 & 0x3F) != 0)
    {
      unint64_t v17 = v12[v16] | (0xFFFFFFFFFFFFFFFFLL >> -(v5 & 0x3F));
LABEL_29:
      v12[v16] = v17;
    }
  }
  else
  {
    if ((v7 & 0x3F) != 0)
    {
      unint64_t v18 = (64 - v13);
      if (v18 >= v5) {
        unint64_t v19 = v5;
      }
      else {
        unint64_t v19 = (64 - v13);
      }
      *v12++ &= ~((0xFFFFFFFFFFFFFFFFLL >> (v18 - v19)) & (-1 << v7));
      v5 -= v19;
    }
    unint64_t v16 = v5 >> 6;
    if (v5 >= 0x40) {
      bzero(v12, 8 * v16);
    }
    if ((v5 & 0x3F) != 0)
    {
      unint64_t v17 = v12[v16] & ~(0xFFFFFFFFFFFFFFFFLL >> -(v5 & 0x3F));
      goto LABEL_29;
    }
  }
  return a1;
}

void *std::vector<BOOL>::vector(void *a1, uint64_t a2)
{
  *a1 = 0;
  a1[1] = 0;
  a1[2] = 0;
  uint64_t v4 = *(void *)(a2 + 8);
  if (!v4) {
    return a1;
  }
  std::vector<BOOL>::__vallocate[abi:ne180100](a1, v4);
  unint64_t v5 = *(void **)a2;
  unint64_t v6 = *(void *)(a2 + 8);
  unint64_t v7 = a1[1];
  unint64_t v8 = v7 + v6;
  a1[1] = v7 + v6;
  if (v7)
  {
    unint64_t v9 = v8 - 1;
    if (((v8 - 1) ^ (v7 - 1)) < 0x40) {
      goto LABEL_10;
    }
  }
  else
  {
    unint64_t v9 = v8 - 1;
  }
  unint64_t v10 = v9 >> 6;
  if (v8 >= 0x41) {
    unint64_t v11 = v10;
  }
  else {
    unint64_t v11 = 0;
  }
  *(void *)(*a1 + 8 * v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 0;
LABEL_10:
  int v12 = v6 & 0x3F;
  if (v6 > 0x3F || (v6 & 0x3F) != 0)
  {
    int v13 = 0;
    int v14 = 0;
    unint64_t v15 = &v5[v6 >> 6];
    int v16 = v7 & 0x3F;
    unint64_t v17 = (uint64_t *)(*a1 + 8 * (v7 >> 6));
    do
    {
      uint64_t v18 = 1 << v16;
      if ((*v5 >> v14)) {
        uint64_t v19 = *v17 | v18;
      }
      else {
        uint64_t v19 = *v17 & ~v18;
      }
      *unint64_t v17 = v19;
      ++v14;
      v5 += v13 == 63;
      if (v13 == 63) {
        int v14 = 0;
      }
      v17 += v16 == 63;
      if (v16 == 63) {
        int v16 = 0;
      }
      else {
        ++v16;
      }
      int v13 = v14;
    }
    while (v5 != v15 || v12 != v14);
  }
  return a1;
}

void anonymous namespace'::computeRangeTables(void *a1, uint64_t a2, char **a3)
{
  std::vector<unsigned long>::resize((char **)a2, a1[1] + 1);
  std::vector<unsigned long>::resize(a3, a1[1] + 1);
  unint64_t v6 = *(char **)a2;
  uint64_t v7 = *(void *)(a2 + 8) - *(void *)a2;
  if (v7)
  {
    unint64_t v8 = 0;
    unint64_t v9 = v7 >> 3;
    unint64_t v10 = *a3;
    do
    {
      unint64_t v11 = v8;
      if (v9 <= v8 + 1) {
        unint64_t v12 = v8 + 1;
      }
      else {
        unint64_t v12 = v9;
      }
      unint64_t v13 = v8;
      while (v12 - 1 != v13)
      {
        unint64_t v8 = v13 + 1;
        uint64_t v14 = *(void *)(*a1 + ((v13 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v13;
        ++v13;
        if (v14) {
          goto LABEL_11;
        }
      }
      unint64_t v8 = v12;
LABEL_11:
      unint64_t v15 = &v6[8 * v11];
      uint64_t v16 = 8 * v8 - 8 * v11;
      if (v16 >= 1)
      {
        unint64_t v17 = ((unint64_t)v16 >> 3) + 1;
        do
        {
          *(void *)unint64_t v15 = v11;
          v15 += 8;
          --v17;
        }
        while (v17 > 1);
      }
      uint64_t v18 = &v10[8 * v11];
      uint64_t v19 = &v10[8 * v8] - v18;
      if (v19 >= 1)
      {
        unint64_t v20 = ((unint64_t)v19 >> 3) + 1;
        do
        {
          *(void *)uint64_t v18 = v8;
          v18 += 8;
          --v20;
        }
        while (v20 > 1);
      }
    }
    while (v8 < v9);
  }
}

uint64_t std::__sift_up[abi:ne180100]<std::_ClassicAlgPolicy,std::less<std::pair<double,unsigned long>> &,std::__wrap_iter<std::pair<double,unsigned long>*>>(uint64_t result, uint64_t a2, uint64_t a3)
{
  unint64_t v3 = a3 - 2;
  if (a3 >= 2)
  {
    unint64_t v4 = v3 >> 1;
    uint64_t v5 = result + 16 * (v3 >> 1);
    double v6 = *(double *)v5;
    double v7 = *(double *)(a2 - 16);
    if (*(double *)v5 >= v7)
    {
      if (v7 < v6) {
        return result;
      }
      unint64_t v9 = *(void *)(result + 16 * v4 + 8);
      unint64_t v8 = *(void *)(a2 - 8);
      if (v9 >= v8) {
        return result;
      }
    }
    else
    {
      unint64_t v8 = *(void *)(a2 - 8);
      unint64_t v9 = *(void *)(v5 + 8);
    }
    *(double *)(a2 - 16) = v6;
    *(void *)(a2 - _Block_object_dispose(&STACK[0x350], 8) = v9;
    if (v3 >= 2)
    {
      while (1)
      {
        unint64_t v11 = v4 - 1;
        unint64_t v4 = (v4 - 1) >> 1;
        uint64_t v10 = result + 16 * v4;
        double v12 = *(double *)v10;
        if (*(double *)v10 >= v7)
        {
          if (v7 < v12) {
            break;
          }
          unint64_t v13 = *(void *)(result + 16 * v4 + 8);
          if (v13 >= v8) {
            break;
          }
        }
        else
        {
          unint64_t v13 = *(void *)(v10 + 8);
        }
        *(double *)uint64_t v5 = v12;
        *(void *)(v5 + _Block_object_dispose(&STACK[0x350], 8) = v13;
        uint64_t v5 = result + 16 * v4;
        if (v11 <= 1) {
          goto LABEL_13;
        }
      }
    }
    uint64_t v10 = v5;
LABEL_13:
    *(double *)uint64_t v10 = v7;
    *(void *)(v10 + _Block_object_dispose(&STACK[0x350], 8) = v8;
  }
  return result;
}

void std::vector<unsigned long>::resize(char **a1, unint64_t a2)
{
  unint64_t v3 = *a1;
  unint64_t v4 = a1[1];
  unint64_t v5 = (v4 - *a1) >> 3;
  if (a2 <= v5)
  {
    if (a2 >= v5) {
      return;
    }
    uint64_t v19 = &v3[8 * a2];
    goto LABEL_15;
  }
  unint64_t v6 = a2 - v5;
  double v7 = a1[2];
  if (a2 - v5 <= (v7 - v4) >> 3)
  {
    bzero(a1[1], 8 * v6);
    uint64_t v19 = &v4[8 * v6];
LABEL_15:
    a1[1] = v19;
    return;
  }
  if (a2 >> 61) {
    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
  }
  uint64_t v8 = v7 - v3;
  uint64_t v9 = v8 >> 2;
  if (v8 >> 2 <= a2) {
    uint64_t v9 = a2;
  }
  if ((unint64_t)v8 >= 0x7FFFFFFFFFFFFFF8) {
    unint64_t v10 = 0x1FFFFFFFFFFFFFFFLL;
  }
  else {
    unint64_t v10 = v9;
  }
  unint64_t v11 = (char *)std::__allocate_at_least[abi:ne180100]<std::allocator<PXStoryAutoEditComposabilityScores>>(v10);
  double v12 = *a1;
  unint64_t v13 = a1[1];
  uint64_t v14 = &v11[8 * v5];
  uint64_t v16 = &v11[8 * v15];
  bzero(v14, 8 * v6);
  unint64_t v17 = &v14[8 * v6];
  while (v13 != v12)
  {
    uint64_t v18 = *((void *)v13 - 1);
    v13 -= 8;
    *((void *)v14 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v18;
    v14 -= 8;
  }
  *a1 = v14;
  a1[1] = v17;
  a1[2] = v16;
  if (v12)
  {
    operator delete(v12);
  }
}

void *std::vector<BOOL>::__vallocate[abi:ne180100](void *a1, uint64_t a2)
{
  if (a2 < 0) {
    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
  }
  uint64_t result = std::__allocate_at_least[abi:ne180100]<std::allocator<PXStoryAutoEditComposabilityScores>>(((unint64_t)(a2 - 1) >> 6) + 1);
  *a1 = result;
  a1[1] = 0;
  a1[2] = v4;
  return result;
}

char *std::vector<double>::__vallocate[abi:ne180100](void *a1, unint64_t a2)
{
  if (a2 >> 61) {
    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
  }
  uint64_t result = (char *)operator new(8 * a2);
  *a1 = result;
  a1[1] = result;
  a1[2] = &result[8 * a2];
  return result;
}

id PXStoryClusteringAlgorithmCutClusterWithAssetIndicesOptionsAndDistanceBlock(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v129 = a2;
  v136 = a3;
  unint64_t v6 = [v5 count];
  if (!v6) {
    goto LABEL_172;
  }
  double v7 = [v129 objectForKey:@"minimumNumberOfObjects"];
  uint64_t v8 = [v7 unsignedIntegerValue];

  uint64_t v9 = [v129 objectForKey:@"maximumDistance"];
  [v9 doubleValue];
  double v11 = v10;

  v144 = 0;
  std::vector<double>::vector(&v150, v6, &v144);
  v141 = 0;
  v142 = 0;
  v143 = 0;
  v147 = &v141;
  LOBYTE(v14_Block_object_dispose(&STACK[0x350], 8) = 0;
  if (v6 >= 0xAAAAAAAAAAAAAABLL) {
    std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
  }
  uint64_t v12 = 24 * v6;
  unint64_t v13 = operator new(24 * v6);
  v141 = v13;
  v142 = v13;
  uint64_t v14 = &v13[3 * v6];
  v143 = v14;
  do
  {
    *unint64_t v13 = 0;
    v13[1] = 0;
    void v13[2] = 0;
    uint64_t v15 = (const void *)v150.n128_u64[0];
    int64_t v16 = v150.n128_u64[1] - v150.n128_u64[0];
    if (v150.n128_u64[1] != v150.n128_u64[0])
    {
      std::vector<double>::__vallocate[abi:ne180100](v13, v16 >> 3);
      unint64_t v17 = (char *)v13[1];
      memmove(v17, v15, v16);
      v13[1] = &v17[8 * (v16 >> 3)];
    }
    v13 += 3;
    v12 -= 24;
  }
  while (v12);
  uint64_t v130 = v8;
  v135 = v5;
  v142 = v14;
  if (v150.n128_u64[0])
  {
    v150.n128_u64[1] = v150.n128_u64[0];
    operator delete((void *)v150.n128_u64[0]);
  }
  unint64_t v18 = 0;
  uint64_t v19 = 24;
  do
  {
    unint64_t v20 = v18++;
    if (v18 < v6)
    {
      uint64_t v21 = v19;
      unint64_t v22 = v18;
      do
      {
        uint64_t v23 = [v135 objectAtIndexedSubscript:v20];
        uint64_t v24 = [v135 objectAtIndexedSubscript:v22];
        double v25 = v136[2](v136, v23, v24);

        double v26 = v141;
        *(double *)(*(void *)((char *)v141 + v21) + 8 * v2PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v25;
        *(double *)(v26[3 * v20] + 8 * v22++) = v25;
        v21 += 24;
      }
      while (v6 != v22);
    }
    v19 += 24;
  }
  while (v18 != v6);
  v150.n128_u8[0] = 0;
  std::vector<BOOL>::vector(v140, v6 - 1, (unsigned __int8 *)&v150);
  int64_t v27 = 0;
  uint64_t v28 = v141;
  unint64_t v29 = (char *)v140[0];
  unint64_t v30 = v130;
  while (1)
  {
    unint64_t v31 = v27 + 1;
    if (v27 + 1 < v6) {
      break;
    }
    unint64_t v33 = v27 + 1;
LABEL_24:
    int64_t v27 = v33;
    if (v33 >= v6) {
      goto LABEL_25;
    }
  }
  BOOL v32 = &v28[3 * v27];
  unint64_t v33 = v27;
  do
  {
    unint64_t v34 = v33;
    unint64_t v33 = v31;
    uint64_t v35 = v32;
    while (*(double *)(*v35 + 8 * v33) >= v11)
    {
      v35 -= 3;
      if ((uint64_t)--v31 <= v27)
      {
        *(void *)&v29[(v34 >> 3) & 0x1FFFFFFFFFFFFFF8] |= 1 << v34;
        goto LABEL_24;
      }
    }
    unint64_t v31 = v33 + 1;
    v32 += 3;
  }
  while (v33 + 1 != v6);
LABEL_25:
  std::vector<BOOL>::vector(&v137, (uint64_t)v140);
  v147 = 0;
  uint64_t v148 = 0;
  uint64_t v149 = 0;
  v144 = 0;
  uint64_t v145 = 0;
  uint64_t v146 = 0;
  uint64_t v37 = v138;
  if (!v138)
  {
    v117 = 0;
    v118 = v137;
    v119 = v139;
    v138 = 0;
    v139 = 0;
    v137 = 0;
    goto LABEL_155;
  }
  v131 = 0;
  uint64_t v38 = 0;
  uint64_t v39 = 0;
  unint64_t v40 = 0;
  do
  {
    if (((*(void *)((char *)v137 + ((v40 >> 3) & 0x1FFFFFFFFFFFFFF8)) >> v40) & 1) == 0)
    {
      unint64_t v43 = v40 + 1;
      goto LABEL_63;
    }
    __p = (double *)v39;
    unint64_t v41 = *((void *)v147 + v40);
    unint64_t v42 = *((void *)v144 + v40);
    unint64_t v43 = v40 + 1;
    if (v42 - v41 >= v30)
    {
      unint64_t v45 = *((void *)v147 + v43);
      unint64_t v44 = *((void *)v144 + v43);
      if (v44 - v45 >= v30)
      {
        uint64_t v39 = (uint64_t)__p;
        goto LABEL_63;
      }
    }
    else
    {
      unint64_t v44 = *((void *)v144 + v43);
      unint64_t v45 = *((void *)v147 + v43);
    }
    if (v42 <= v41)
    {
      double v46 = 1.79769313e308;
    }
    else
    {
      double v46 = 1.79769313e308;
      uint64_t v47 = *((void *)v147 + v40);
      do
      {
        if (v44 > v45)
        {
          id v48 = (double *)(v141[3 * v47] + 8 * v45);
          unint64_t v49 = v44 - v45;
          do
          {
            double v50 = *v48++;
            v36.n128_f64[0] = v50;
            if (v50 < v46) {
              double v46 = v36.n128_f64[0];
            }
            --v49;
          }
          while (v49);
        }
        ++v47;
      }
      while (v47 != v42);
    }
    if (v38 >= (double *)v131)
    {
      unint64_t v52 = 0xAAAAAAAAAAAAAAABLL * (((char *)v38 - (char *)__p) >> 4) + 1;
      if (v52 > 0x555555555555555) {
        std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
      }
      if (0x5555555555555556 * ((v131 - (char *)__p) >> 4) > v52) {
        unint64_t v52 = 0x5555555555555556 * ((v131 - (char *)__p) >> 4);
      }
      if (0xAAAAAAAAAAAAAAABLL * ((v131 - (char *)__p) >> 4) >= 0x2AAAAAAAAAAAAAALL) {
        unint64_t v53 = 0x555555555555555;
      }
      else {
        unint64_t v53 = v52;
      }
      if (v53)
      {
        if (v53 > 0x555555555555555) {
          std::__throw_bad_array_new_length[abi:ne180100]();
        }
        id v54 = (char *)operator new(48 * v53);
      }
      else
      {
        id v54 = 0;
      }
      id v55 = &v54[16 * (((char *)v38 - (char *)__p) >> 4)];
      *(double *)id v55 = v46;
      *((void *)v55 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v40;
      *((void *)v55 + 2) = v41;
      *((void *)v55 + 3) = v42;
      *((void *)v55 + 4) = v45;
      *((void *)v55 + 5) = v44;
      if (v38 == __p)
      {
        uint64_t v39 = (uint64_t)&v54[16 * (((char *)v38 - (char *)__p) >> 4)];
        unint64_t v30 = v130;
      }
      else
      {
        id v56 = &v54[16 * (((char *)v38 - (char *)__p) >> 4)];
        unint64_t v30 = v130;
        do
        {
          __n128 v36 = *(__n128 *)(v38 - 6);
          long long v57 = *((_OWORD *)v38 - 1);
          *((_OWORD *)v56 - 2) = *((_OWORD *)v38 - 2);
          *((_OWORD *)v56 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v57;
          *((__n128 *)v56 - 3) = v36;
          v56 -= 48;
          v38 -= 6;
        }
        while (v38 != __p);
        uint64_t v38 = __p;
        uint64_t v39 = (uint64_t)v56;
      }
      v131 = &v54[48 * v53];
      uint64_t v51 = (uint64_t)(v55 + 48);
      if (v38) {
        operator delete(v38);
      }
    }
    else
    {
      *uint64_t v38 = v46;
      *((void *)v38 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v40;
      *((void *)v38 + 2) = v41;
      *((void *)v38 + 3) = v42;
      *((void *)v38 + 4) = v45;
      uint64_t v51 = (uint64_t)(v38 + 6);
      *((void *)v38 + 5) = v44;
      uint64_t v39 = (uint64_t)__p;
    }
    uint64_t v37 = v138;
    uint64_t v38 = (double *)v51;
LABEL_63:
    unint64_t v40 = v43;
  }
  while (v43 < (unint64_t)v37);
  if ((double *)v39 != v38)
  {
    while (1)
    {
      unint64_t v58 = *(void *)(v39 + 8);
      uint64_t v59 = *(void *)(v39 + 16);
      uint64_t v60 = *(void *)(v39 + 40);
      if ((uint64_t)v38 - v39 >= 49)
      {
        uint64_t v61 = 0;
        int64_t v62 = 0xAAAAAAAAAAAAAAABLL * (((uint64_t)v38 - v39) >> 4);
        __n128 v63 = *(__n128 *)v39;
        long long v64 = *(_OWORD *)(v39 + 32);
        long long v151 = *(_OWORD *)(v39 + 16);
        long long v152 = v64;
        __n128 v150 = v63;
        uint64_t v65 = v39;
        do
        {
          char v66 = (_OWORD *)v65;
          v65 += 48 * v61 + 48;
          uint64_t v67 = 2 * v61;
          uint64_t v61 = (2 * v61) | 1;
          int64_t v68 = v67 + 2;
          if (v68 < v62 && *(double *)(v65 + 48) < *(double *)v65)
          {
            v65 += 48;
            uint64_t v61 = v68;
          }
          long long v69 = *(_OWORD *)v65;
          long long v70 = *(_OWORD *)(v65 + 32);
          v66[1] = *(_OWORD *)(v65 + 16);
          v66[2] = v70;
          _OWORD *v66 = v69;
        }
        while (v61 <= (uint64_t)((unint64_t)(v62 - 2) >> 1));
        v71 = (__n128 *)(v38 - 6);
        if ((double *)v65 == v38 - 6)
        {
          __n128 v76 = v150;
          long long v77 = v152;
          *(_OWORD *)(v65 + 16) = v151;
          *(_OWORD *)(v65 + 32) = v77;
          *(__n128 *)uint64_t v65 = v76;
        }
        else
        {
          __n128 v72 = *v71;
          long long v73 = *((_OWORD *)v38 - 1);
          *(_OWORD *)(v65 + 16) = *((_OWORD *)v38 - 2);
          *(_OWORD *)(v65 + 32) = v73;
          *(__n128 *)uint64_t v65 = v72;
          __n128 v74 = v150;
          long long v75 = v152;
          *((_OWORD *)v38 - 2) = v151;
          *((_OWORD *)v38 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v75;
          __n128 *v71 = v74;
        }
      }
      v78 = v38 - 6;
      if (*((void *)v147 + v58) != v59 || (unint64_t v79 = v58 + 1, *((void *)v144 + v58 + 1) != v60))
      {
        v38 -= 6;
        goto LABEL_150;
      }
      *(void *)((char *)v137 + ((v58 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= ~(1 << v58);
      uint64_t v81 = *((void *)v147 + v58);
      v82 = v144;
      if (v81)
      {
        unint64_t v128 = v58 + 1;
        __pa = (double *)v39;
        uint64_t v83 = v81 - 1;
        unint64_t v84 = *((void *)v147 + v81 - 1);
        unint64_t v85 = *((void *)v144 + v81 - 1);
        if (v85 - v84 >= v30)
        {
          unint64_t v86 = *((void *)v147 + v81);
          unint64_t v87 = *((void *)v144 + v81);
          if (v87 - v86 >= v30)
          {
            uint64_t v39 = (uint64_t)__pa;
            unint64_t v79 = v128;
            goto LABEL_114;
          }
        }
        else
        {
          unint64_t v86 = *((void *)v147 + v81);
          unint64_t v87 = *((void *)v144 + v81);
        }
        if (v85 <= v84)
        {
          double v88 = 1.79769313e308;
        }
        else
        {
          double v88 = 1.79769313e308;
          uint64_t v89 = *((void *)v147 + v81 - 1);
          do
          {
            if (v87 > v86)
            {
              v90 = (double *)(v141[3 * v89] + 8 * v86);
              unint64_t v91 = v87 - v86;
              do
              {
                double v92 = *v90++;
                v80.n128_f64[0] = v92;
                if (v92 < v88) {
                  double v88 = v80.n128_f64[0];
                }
                --v91;
              }
              while (v91);
            }
            ++v89;
          }
          while (v89 != v85);
        }
        v127 = v144;
        if (v78 >= (double *)v131)
        {
          unint64_t v93 = 0xAAAAAAAAAAAAAAABLL * (((char *)v78 - (char *)__pa) >> 4) + 1;
          if (v93 > 0x555555555555555) {
            std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
          }
          if (0x5555555555555556 * ((v131 - (char *)__pa) >> 4) > v93) {
            unint64_t v93 = 0x5555555555555556 * ((v131 - (char *)__pa) >> 4);
          }
          if (0xAAAAAAAAAAAAAAABLL * ((v131 - (char *)__pa) >> 4) >= 0x2AAAAAAAAAAAAAALL) {
            unint64_t v94 = 0x555555555555555;
          }
          else {
            unint64_t v94 = v93;
          }
          if (v94)
          {
            if (v94 > 0x555555555555555) {
              std::__throw_bad_array_new_length[abi:ne180100]();
            }
            unint64_t v95 = v84;
            v96 = (char *)operator new(48 * v94);
            unint64_t v84 = v95;
          }
          else
          {
            v96 = 0;
          }
          v97 = &v96[16 * (((char *)v78 - (char *)__pa) >> 4)];
          *(double *)v97 = v88;
          *((void *)v97 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v83;
          *((void *)v97 + 2) = v84;
          *((void *)v97 + 3) = v85;
          *((void *)v97 + 4) = v86;
          *((void *)v97 + 5) = v87;
          if (v78 == __pa)
          {
            uint64_t v39 = (uint64_t)&v96[16 * (((char *)v78 - (char *)__pa) >> 4)];
            unint64_t v79 = v128;
          }
          else
          {
            v98 = &v96[16 * (((char *)v78 - (char *)__pa) >> 4)];
            unint64_t v79 = v128;
            do
            {
              __n128 v80 = *(__n128 *)(v78 - 6);
              long long v99 = *((_OWORD *)v78 - 1);
              uint64_t v39 = (uint64_t)(v98 - 48);
              *((_OWORD *)v98 - 2) = *((_OWORD *)v78 - 2);
              *((_OWORD *)v98 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v99;
              *((__n128 *)v98 - 3) = v80;
              v78 -= 6;
              v98 -= 48;
            }
            while (v78 != __pa);
          }
          v131 = &v96[48 * v94];
          uint64_t v38 = (double *)(v97 + 48);
          if (__pa)
          {
            operator delete(__pa);
            v127 = v144;
          }
          unint64_t v30 = v130;
        }
        else
        {
          *(v38 - 6) = v88;
          *((void *)v38 - 5) = v83;
          *((void *)v38 - 4) = v84;
          *((void *)v38 - 3) = v85;
          *((void *)v38 - 2) = v86;
          *((void *)v38 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v87;
          uint64_t v39 = (uint64_t)__pa;
          unint64_t v79 = v128;
        }
        v78 = v38;
        v82 = v127;
      }
LABEL_114:
      uint64_t v100 = v82[v79];
      if (v100 + 1 >= (unint64_t)((v145 - (uint64_t)v82) >> 3))
      {
        uint64_t v38 = v78;
      }
      else
      {
        __pb = (double *)v39;
        uint64_t v101 = v100 - 1;
        unint64_t v102 = *((void *)v147 + v100 - 1);
        unint64_t v103 = v82[v100 - 1];
        if (v103 - v102 < v30)
        {
          unint64_t v104 = *((void *)v147 + v100);
          unint64_t v105 = v82[v100];
LABEL_119:
          if (v103 <= v102)
          {
            double v106 = 1.79769313e308;
          }
          else
          {
            double v106 = 1.79769313e308;
            uint64_t v107 = *((void *)v147 + v100 - 1);
            do
            {
              if (v105 > v104)
              {
                v108 = (double *)(v141[3 * v107] + 8 * v104);
                unint64_t v109 = v105 - v104;
                do
                {
                  double v110 = *v108++;
                  v80.n128_f64[0] = v110;
                  if (v110 < v106) {
                    double v106 = v80.n128_f64[0];
                  }
                  --v109;
                }
                while (v109);
              }
              ++v107;
            }
            while (v107 != v103);
          }
          if (v78 >= (double *)v131)
          {
            unint64_t v111 = 0xAAAAAAAAAAAAAAABLL * (((char *)v78 - (char *)__pb) >> 4) + 1;
            if (v111 > 0x555555555555555) {
              std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
            }
            if (0x5555555555555556 * ((v131 - (char *)__pb) >> 4) > v111) {
              unint64_t v111 = 0x5555555555555556 * ((v131 - (char *)__pb) >> 4);
            }
            if (0xAAAAAAAAAAAAAAABLL * ((v131 - (char *)__pb) >> 4) >= 0x2AAAAAAAAAAAAAALL) {
              unint64_t v112 = 0x555555555555555;
            }
            else {
              unint64_t v112 = v111;
            }
            if (v112)
            {
              if (v112 > 0x555555555555555) {
                std::__throw_bad_array_new_length[abi:ne180100]();
              }
              v113 = (char *)operator new(48 * v112);
            }
            else
            {
              v113 = 0;
            }
            v114 = &v113[16 * (((char *)v78 - (char *)__pb) >> 4)];
            *(double *)v114 = v106;
            *((void *)v114 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v101;
            *((void *)v114 + 2) = v102;
            *((void *)v114 + 3) = v103;
            *((void *)v114 + 4) = v104;
            *((void *)v114 + 5) = v105;
            if (v78 == __pb)
            {
              uint64_t v39 = (uint64_t)&v113[16 * (((char *)v78 - (char *)__pb) >> 4)];
              unint64_t v30 = v130;
            }
            else
            {
              v115 = &v113[16 * (((char *)v78 - (char *)__pb) >> 4)];
              unint64_t v30 = v130;
              do
              {
                __n128 v80 = *(__n128 *)(v78 - 6);
                long long v116 = *((_OWORD *)v78 - 1);
                *((_OWORD *)v115 - 2) = *((_OWORD *)v78 - 2);
                *((_OWORD *)v115 - PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v116;
                *((__n128 *)v115 - 3) = v80;
                v115 -= 48;
                v78 -= 6;
              }
              while (v78 != __pb);
              v78 = __pb;
              uint64_t v39 = (uint64_t)v115;
            }
            v131 = &v113[48 * v112];
            uint64_t v38 = (double *)(v114 + 48);
            if (v78) {
              operator delete(v78);
            }
          }
          else
          {
            double *v78 = v106;
            *((void *)v78 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v101;
            *((void *)v78 + 2) = v102;
            *((void *)v78 + 3) = v103;
            *((void *)v78 + 4) = v104;
            uint64_t v38 = v78 + 6;
            *((void *)v78 + 5) = v105;
            uint64_t v39 = (uint64_t)__pb;
          }
          goto LABEL_150;
        }
        unint64_t v104 = *((void *)v147 + v100);
        unint64_t v105 = v82[v100];
        if (v105 - v104 < v30) {
          goto LABEL_119;
        }
        uint64_t v38 = v78;
        uint64_t v39 = (uint64_t)__pb;
      }
LABEL_150:
      if ((double *)v39 == v38)
      {
        uint64_t v37 = v138;
        break;
      }
    }
  }
  v117 = v37;
  v118 = v137;
  v119 = v139;
  v138 = 0;
  v139 = 0;
  v137 = 0;
  if (v38) {
    operator delete(v38);
  }
LABEL_155:
  if (v144) {
    operator delete(v144);
  }
  if (v147) {
    operator delete(v147);
  }
  if (v140[0]) {
    operator delete(v140[0]);
  }
  v140[0] = v118;
  v140[1] = v117;
  v140[2] = v119;
  if (v137) {
    operator delete(v137);
  }
  v120 = objc_opt_new();
  unint64_t v121 = 0;
  do
  {
    v122 = objc_opt_new();
    v123 = [NSNumber numberWithUnsignedInteger:v121];
    [v122 addObject:v123];

    if (++v121 < v6)
    {
      while (((*(void *)((char *)v140[0] + (((v121 - 1) >> 3) & 0x1FFFFFFFFFFFFFF8)) >> (v121 - 1)) & 1) == 0)
      {
        v124 = [NSNumber numberWithUnsignedInteger:v121];
        [v122 addObject:v124];

        if (v6 == ++v121)
        {
          unint64_t v121 = v6;
          break;
        }
      }
    }
    v125 = [MEMORY[0x1E4F8A788] clusterWithObjects:v122];
    [v120 addObject:v125];
  }
  while (v121 < v6);
  unint64_t v6 = [v120 copy];

  if (v140[0]) {
    operator delete(v140[0]);
  }
  v150.n128_u64[0] = (unint64_t)&v141;
  std::vector<std::vector<double>>::__destroy_vector::operator()[abi:ne180100]((void ***)&v150);
  id v5 = v135;
LABEL_172:

  return (id)v6;
}

void sub_1AADDFFB0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, void *a12, uint64_t a13, uint64_t a14, void *__p, void *a16, void *a17, void *a18, uint64_t a19, uint64_t a20,void *a21,uint64_t a22,uint64_t a23,char a24,uint64_t a25,uint64_t a26,void *a27,uint64_t a28,uint64_t a29,void *a30)
{
  if (__p) {
    operator delete(__p);
  }
  if (a27) {
    operator delete(a27);
  }
  if (a30) {
    operator delete(a30);
  }
  if (a18) {
    operator delete(a18);
  }
  if (a21) {
    operator delete(a21);
  }
  *(void *)(v30 - 16PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = &a24;
  std::vector<std::vector<double>>::__destroy_vector::operator()[abi:ne180100]((void ***)(v30 - 160));

  _Unwind_Resume(a1);
}

__n128 std::__sift_up[abi:ne180100]<std::_ClassicAlgPolicy,std::less<anonymous namespace'::PQCutClusterPair> &,std::__wrap_iter<anonymous namespace'::PQCutClusterPair*>>(uint64_t a1, uint64_t a2, uint64_t a3, __n128 result)
{
  unint64_t v4 = a3 - 2;
  if (a3 >= 2)
  {
    unint64_t v5 = v4 >> 1;
    unint64_t v6 = (_OWORD *)(a1 + 48 * (v4 >> 1));
    double v7 = (_OWORD *)(a2 - 48);
    result.n128_u64[0] = *(void *)(a2 - 48);
    if (result.n128_f64[0] < *(double *)v6)
    {
      __n128 v11 = *(__n128 *)(a2 - 40);
      long long v12 = *(_OWORD *)(a2 - 24);
      uint64_t v13 = *(void *)(a2 - 8);
      do
      {
        uint64_t v8 = v7;
        double v7 = v6;
        long long v9 = *v6;
        long long v10 = v6[2];
        v8[1] = v6[1];
        v8[2] = v10;
        *uint64_t v8 = v9;
        if (!v5) {
          break;
        }
        unint64_t v5 = (v5 - 1) >> 1;
        unint64_t v6 = (_OWORD *)(a1 + 48 * v5);
      }
      while (result.n128_f64[0] < *(double *)v6);
      *(void *)double v7 = result.n128_u64[0];
      uint64_t result = v11;
      *(__n128 *)((char *)v7 + _Block_object_dispose(&STACK[0x350], 8) = v11;
      *(_OWORD *)((char *)v7 + 24) = v12;
      *((void *)v7 + 5) = v13;
    }
  }
  return result;
}

void std::vector<std::vector<double>>::__destroy_vector::operator()[abi:ne180100](void ***a1)
{
  uint64_t v1 = *a1;
  uint64_t v2 = (char *)**a1;
  if (v2)
  {
    unint64_t v4 = (char *)v1[1];
    unint64_t v5 = **a1;
    if (v4 != v2)
    {
      unint64_t v6 = (char *)v1[1];
      do
      {
        uint64_t v8 = (void *)*((void *)v6 - 3);
        v6 -= 24;
        double v7 = v8;
        if (v8)
        {
          *((void *)v4 - 2) = v7;
          operator delete(v7);
        }
        unint64_t v4 = v6;
      }
      while (v6 != v2);
      unint64_t v5 = **a1;
    }
    v1[1] = v2;
    operator delete(v5);
  }
}

void sub_1AADE10F4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41)
{
  _Block_object_dispose(&a41, 8);
  _Block_object_dispose((const void *)(v41 - 224), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__149426(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__149427(uint64_t a1)
{
}

id _GetChangeDetails(void *a1, uint64_t a2, uint64_t a3)
{
  unint64_t v5 = [a1 changeHistory];
  unint64_t v6 = [v5 changeDetailsFromDataSourceIdentifier:a2 toDataSourceIdentifier:a3];

  if ([v6 count] == 1)
  {
    double v7 = [v6 firstObject];
  }
  else
  {
    double v7 = 0;
  }

  return v7;
}

uint64_t _HasAnyInsertionsForChangeDetails(void *a1)
{
  id v1 = a1;
  uint64_t v2 = v1;
  uint64_t v12 = 0;
  uint64_t v13 = &v12;
  uint64_t v14 = 0x2020000000;
  char v15 = 0;
  if (v1)
  {
    if ([v1 hasAnyChanges])
    {
      unint64_t v3 = [v2 sectionChanges];
      if ([v3 hasIncrementalChanges]
        && ([v3 insertedIndexes],
            unint64_t v4 = objc_claimAutoreleasedReturnValue(),
            uint64_t v5 = [v4 count],
            v4,
            !v5))
      {
        if (!*((unsigned char *)v13 + 24))
        {
          uint64_t v8 = [v2 sectionsWithItemChanges];
          v9[0] = MEMORY[0x1E4F143A8];
          v9[1] = 3221225472;
          void v9[2] = ___HasAnyInsertionsForChangeDetails_block_invoke;
          v9[3] = &unk_1E5DC5478;
          id v10 = v2;
          __n128 v11 = &v12;
          [v8 enumerateIndexesUsingBlock:v9];
        }
      }
      else
      {
        *((unsigned char *)v13 + 24) = 1;
      }
    }
  }
  else
  {
    char v15 = 1;
  }
  uint64_t v6 = *((unsigned __int8 *)v13 + 24);
  _Block_object_dispose(&v12, 8);

  return v6;
}

void sub_1AADE1414(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AADE218C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AADE3AE4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AADE75A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__150613(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__150614(uint64_t a1)
{
}

void sub_1AADE9E4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AADEA3E4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AADEBF5C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AADF3108(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

uint64_t PXPreferencesGetBool(const __CFString *a1, unsigned int a2)
{
  Boolean keyExistsAndHasValidFormat = 0;
  BOOL v3 = CFPreferencesGetAppBooleanValue(a1, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat) != 0;
  if (keyExistsAndHasValidFormat) {
    return v3;
  }
  else {
    return a2;
  }
}

void PXPreferencesSetBool(void *a1, uint64_t a2)
{
  BOOL v3 = NSNumber;
  unint64_t v4 = a1;
  id v5 = [v3 numberWithBool:a2];
  PXPreferencesSetValue(v4, v5);
}

void PXPreferencesToggleBool(void *a1, BOOL a2)
{
  Boolean keyExistsAndHasValidFormat = 0;
  BOOL v3 = a1;
  BOOL v4 = CFPreferencesGetAppBooleanValue(v3, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat) != 0;
  if (!keyExistsAndHasValidFormat) {
    BOOL v4 = a2;
  }
  PXPreferencesSetBool(v3, !v4);
}

CFIndex PXPreferencesGetInteger(const __CFString *a1, uint64_t a2)
{
  Boolean keyExistsAndHasValidFormat = 0;
  CFIndex result = CFPreferencesGetAppIntegerValue(a1, @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  if (!keyExistsAndHasValidFormat) {
    return a2;
  }
  return result;
}

void sub_1AADF5ABC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 200), 8);
  _Block_object_dispose((const void *)(v1 - 168), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__151811(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__151812(uint64_t a1)
{
}

void sub_1AADF6418(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 32));
  _Unwind_Resume(a1);
}

void sub_1AADF6A4C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

uint64_t _StateForLibraryScopeFetchResult(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    long long v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = [NSString stringWithUTF8String:"PXCPLStatusSharedLibraryState _StateForLibraryScopeFetchResult(PHFetchResult<PHLibraryScope *> *__strong)"];
    [v9 handleFailureInFunction:v10, @"PXCPLSharedLibraryActivity.m", 140, @"Invalid parameter not satisfying: %@", @"libraryScopeFetchResult" file lineNumber description];
  }
  uint64_t v2 = [v1 firstObject];
  BOOL v3 = v2;
  if (v2)
  {
    if ([v2 exitState])
    {
      id v4 = v3;
      uint64_t v12 = 0;
      uint64_t v13 = &v12;
      uint64_t v14 = 0x2020000000;
      char v15 = 0;
      id v5 = [MEMORY[0x1E4F392E8] fetchParticipantsInShare:v4 options:0];
      v11[0] = MEMORY[0x1E4F143A8];
      v11[1] = 3221225472;
      void v11[2] = ___IsOwner_block_invoke;
      v11[3] = &unk_1E5DBFAD8;
      void v11[4] = &v12;
      [v5 enumerateObjectsUsingBlock:v11];
      int v6 = *((unsigned __int8 *)v13 + 24);

      _Block_object_dispose(&v12, 8);
      if (v6) {
        uint64_t v7 = 2;
      }
      else {
        uint64_t v7 = 3;
      }
    }
    else
    {
      uint64_t v7 = 1;
    }
  }
  else
  {
    uint64_t v7 = 0;
  }

  return v7;
}

void sub_1AADF6BF8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *_StateDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v3 = [NSString stringWithUTF8String:"NSString *_StateDescription(PXCPLStatusSharedLibraryState)"];
    [v2 handleFailureInFunction:v3 file:@"PXCPLSharedLibraryActivity.m" lineNumber:179 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DBFAF8[a1];
}

void sub_1AADF73E8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
}

uint64_t _scopeStatusCountsDidChange(uint64_t a1, void *a2)
{
  return [a2 _updateScopeStatusCounts];
}

__CFString *PXProgrammaticNavigationResultDescription(unint64_t a1)
{
  if (a1 >= 6)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXProgrammaticNavigationResult: %ld", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DBFB18[a1];
  }
  return v1;
}

id PXProgrammaticNavigationLastParticipantOnRouteToDestinationMatching(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  uint64_t v7 = a3;
  uint64_t v8 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA48]), "initWithObjects:", v6, 0);
  for (i = v8; ; uint64_t v8 = i)
  {
    id v10 = [v8 lastObject];
    __n128 v11 = [v10 nextExistingParticipantOnRouteToDestination:v5];

    if (!v11) {
      break;
    }
    [i addObject:v11];
  }
  uint64_t v12 = [i reverseObjectEnumerator];
  id v13 = 0;
  while (1)
  {
    uint64_t v14 = v13;
    id v13 = [v12 nextObject];

    if (!v13) {
      break;
    }
    if (v7[2](v7, v13))
    {
      id v13 = v13;
      break;
    }
  }

  return v13;
}

id PXSharedLibraryPreviewBannerConfiguration(void *a1)
{
  id v1 = a1;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke;
  block[3] = &unk_1E5DD36F8;
  id v7 = v1;
  uint64_t v2 = PXSharedLibraryPreviewBannerConfiguration_onceToken;
  id v3 = v1;
  if (v2 != -1) {
    dispatch_once(&PXSharedLibraryPreviewBannerConfiguration_onceToken, block);
  }
  id v4 = (id)PXSharedLibraryPreviewBannerConfiguration_config;

  return v4;
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke(uint64_t a1)
{
  uint64_t v2 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPreviewTitle_iOS");
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke_2;
  aBlock[3] = &unk_1E5DBFC58;
  id v16 = *(id *)(a1 + 32);
  id v3 = _Block_copy(aBlock);
  id v4 = +[PXSharedLibrarySettings sharedInstance];
  int v5 = [v4 showPreviewCancelButton];

  if (v5)
  {
    v13[0] = MEMORY[0x1E4F143A8];
    v13[1] = 3221225472;
    void v13[2] = __PXSharedLibraryPreviewBannerConfiguration_block_invoke_197;
    void v13[3] = &unk_1E5DBFC58;
    id v14 = *(id *)(a1 + 32);
    id v6 = _Block_copy(v13);
  }
  else
  {
    id v6 = 0;
  }
  id v7 = [PXBannerViewConfiguration alloc];
  uint64_t v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPreviewSubtitle");
  long long v9 = PXLocalizedStringFromTable(@"PXContinue", @"PhotosUICore");
  id v10 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  uint64_t v11 = [(PXBannerViewConfiguration *)v7 initWithTitle:v2 subtitle:v8 actionButtonTitle:v9 cancelButtonTitle:v10 actionButtonHandler:v3 cancelButtonHandler:v6 primaryActionIdentifier:@"PXSharedLibrarySetup" cancelActionIdentifier:@"PXSharedLibraryExit"];
  uint64_t v12 = (void *)PXSharedLibraryPreviewBannerConfiguration_config;
  PXSharedLibraryPreviewBannerConfiguration_config = v11;
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke_2(uint64_t a1, void *a2)
{
  if (a2)
  {
    uint64_t v2 = *(void **)(a1 + 32);
    PXSharedLibrarySetupSharedLibraryOrPreview(v2, 0, a2, @"PXSharedLibraryBanners", 0);
  }
  else
  {
    id v3 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)id v4 = 0;
      _os_log_impl(&dword_1A9AE7000, v3, OS_LOG_TYPE_ERROR, "No presentation environment for the 'continue from preview' action", v4, 2u);
    }
  }
}

void __PXSharedLibraryPreviewBannerConfiguration_block_invoke_197(uint64_t a1, void *a2)
{
  if (a2)
  {
    uint64_t v2 = *(void **)(a1 + 32);
    PXSharedLibraryExitSharedLibraryOrPreview(v2, a2, @"PXSharedLibraryBanners", 0);
  }
  else
  {
    id v3 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)id v4 = 0;
      _os_log_impl(&dword_1A9AE7000, v3, OS_LOG_TYPE_ERROR, "No presentation environment for the 'exit from preview' action", v4, 2u);
    }
  }
}

id PXSharedLibrarySharingSuggestionsBannerConfiguration(void *a1)
{
  id v1 = a1;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke;
  block[3] = &unk_1E5DD36F8;
  id v7 = v1;
  uint64_t v2 = PXSharedLibrarySharingSuggestionsBannerConfiguration_onceToken;
  id v3 = v1;
  if (v2 != -1) {
    dispatch_once(&PXSharedLibrarySharingSuggestionsBannerConfiguration_onceToken, block);
  }
  id v4 = (id)PXSharedLibrarySharingSuggestionsBannerConfiguration_config;

  return v4;
}

void __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke(uint64_t a1)
{
  uint64_t v2 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerTitle_iOS");
  long long v18 = 0uLL;
  uint64_t v19 = 0;
  id v3 = *(void **)(a1 + 32);
  if (v3)
  {
    [v3 detailedUnreadCounts];
    if ((void)v18 == 0x7FFFFFFFFFFFFFFFLL)
    {
LABEL_8:
      uint64_t v6 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerSubtitlePlaceholder");
      goto LABEL_9;
    }
    uint64_t v5 = *((void *)&v18 + 1);
    uint64_t v4 = v19;
  }
  else
  {
    uint64_t v4 = 0;
    uint64_t v5 = 0;
  }
  if (v5 == 0x7FFFFFFFFFFFFFFFLL || v4 == 0x7FFFFFFFFFFFFFFFLL) {
    goto LABEL_8;
  }
  long long v16 = v18;
  uint64_t v17 = v19;
  uint64_t v6 = PXLocalizedStringForDetailedCountsWithUsage(&v16, 1);
LABEL_9:
  id v7 = (void *)v6;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_3;
  aBlock[3] = &unk_1E5DBFC58;
  id v15 = *(id *)(a1 + 32);
  uint64_t v8 = _Block_copy(aBlock);
  long long v9 = [PXBannerViewConfiguration alloc];
  id v10 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerActionReview");
  uint64_t v11 = PXLocalizedSharedLibraryString(@"PXSharedLibrarySuggestionsBannerActionNotNow");
  uint64_t v12 = [(PXBannerViewConfiguration *)v9 initWithTitle:v2 subtitle:v7 actionButtonTitle:v10 cancelButtonTitle:v11 actionButtonHandler:&__block_literal_global_153096 cancelButtonHandler:v8 primaryActionIdentifier:0 cancelActionIdentifier:0];
  id v13 = (void *)PXSharedLibrarySharingSuggestionsBannerConfiguration_config;
  PXSharedLibrarySharingSuggestionsBannerConfiguration_config = v12;

  [MEMORY[0x1E4F56658] sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.presented" withPayload:MEMORY[0x1E4F1CC08]];
}

uint64_t __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_3(uint64_t a1)
{
  [*(id *)(a1 + 32) markAnyNotificationsAsRead];
  id v1 = (void *)MEMORY[0x1E4F56658];
  uint64_t v2 = MEMORY[0x1E4F1CC08];
  return [v1 sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.dismissed" withPayload:v2];
}

uint64_t __PXSharedLibrarySharingSuggestionsBannerConfiguration_block_invoke_2()
{
  id v0 = [MEMORY[0x1E4FB1438] sharedApplication];
  objc_msgSend(v0, "px_navigateToForYouRevealingSharedLibrarySharingSuggestionsWithCompletionHandler:", 0);

  id v1 = (void *)MEMORY[0x1E4F56658];
  uint64_t v2 = MEMORY[0x1E4F1CC08];
  return [v1 sendEvent:@"com.apple.photos.CPAnalytics.sharedLibrary.suggestionsBanner.reviewed" withPayload:v2];
}

PXCNComposeRecipient *PXCNComposeRecipientWithContact(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v20 = [NSString stringWithUTF8String:"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithContact(CNContact *__strong _Nonnull)"];
    [v19 handleFailureInFunction:v20, @"PXCNRecipientUtilities.m", 41, @"Invalid parameter not satisfying: %@", @"contact" file lineNumber description];
  }
  id v2 = v1;
  if ([v2 isKeyAvailable:*MEMORY[0x1E4F1ADC8]]
    && ([v2 emailAddresses],
        id v3 = objc_claimAutoreleasedReturnValue(),
        uint64_t v4 = [v3 count],
        v3,
        v4))
  {
    uint64_t v5 = [v2 emailAddresses];
    uint64_t v6 = [v5 firstObject];

    id v7 = [v6 value];
    uint64_t v8 = 0;
  }
  else
  {
    if (![v2 isKeyAvailable:*MEMORY[0x1E4F1AEE0]]
      || ([v2 phoneNumbers],
          long long v9 = objc_claimAutoreleasedReturnValue(),
          uint64_t v10 = [v9 count],
          v9,
          !v10))
    {
      id v7 = 0;
      uint64_t v8 = 5;
      goto LABEL_11;
    }
    uint64_t v11 = [v2 phoneNumbers];
    uint64_t v6 = [v11 firstObject];

    uint64_t v12 = [v6 value];
    id v7 = [v12 stringValue];

    uint64_t v8 = 1;
  }

LABEL_11:
  id v13 = v7;

  id v14 = v13;
  uint64_t v15 = [v14 length];
  long long v16 = 0;
  if (v8 != 5 && v15)
  {
    uint64_t v17 = (void *)[objc_alloc(MEMORY[0x1E4F5A138]) initWithContact:v2 address:v14 kind:v8];
    long long v16 = [[PXCNComposeRecipient alloc] initWithRecipient:v17];
  }
  return v16;
}

PXCNComposeRecipient *PXCNComposeRecipientWithAddress(void *a1, uint64_t a2)
{
  id v3 = a1;
  if (![v3 length])
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)");
    [v8 handleFailureInFunction:v9, @"PXCNRecipientUtilities.m", 55, @"Invalid parameter not satisfying: %@", @"address.length > 0" file lineNumber description];
  }
  if (a2 == 2)
  {
    uint64_t v4 = 1;
  }
  else
  {
    if (!a2)
    {
      uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v11 = objc_msgSend(NSString, "stringWithUTF8String:", "PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)");
      [v10 handleFailureInFunction:v11, @"PXCNRecipientUtilities.m", 56, @"Invalid parameter not satisfying: %@", @"kind != PXRecipientKindUnknown" file lineNumber description];

      uint64_t v12 = [MEMORY[0x1E4F28B00] currentHandler];
      id v13 = objc_msgSend(NSString, "stringWithUTF8String:", "PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithAddress(NSString *__strong _Nonnull, PXRecipientKind)");
      [v12 handleFailureInFunction:v13 file:@"PXCNRecipientUtilities.m" lineNumber:61 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    uint64_t v4 = 0;
  }
  uint64_t v5 = (void *)[objc_alloc(MEMORY[0x1E4F5A138]) initWithContact:0 address:v3 kind:v4];
  uint64_t v6 = [[PXCNComposeRecipient alloc] initWithRecipient:v5];

  return v6;
}

id PXCNComposeRecipientWithRecipient(void *a1)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v11 = [NSString stringWithUTF8String:"PXCNComposeRecipient * _Nullable PXCNComposeRecipientWithRecipient(PXRecipient *__strong _Nonnull)"];
    [v10 handleFailureInFunction:v11, @"PXCNRecipientUtilities.m", 76, @"Invalid parameter not satisfying: %@", @"recipient" file lineNumber description];
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
    goto LABEL_14;
  }
  id v3 = [v1 contact];

  if (!v3)
  {
    uint64_t v6 = [v1 emailAddressString];
    if (v6)
    {
      uint64_t v5 = v6;
      uint64_t v7 = 1;
    }
    else
    {
      uint64_t v6 = [v1 phoneNumberString];
      if (!v6)
      {
        long long v9 = PLSharingGetLog();
        if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
        {
          *(_DWORD *)long long buf = 138412290;
          id v13 = v1;
          _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "Failed to create compose recipient for recipient: %@", buf, 0xCu);
        }

        id v2 = 0;
        goto LABEL_7;
      }
      uint64_t v5 = v6;
      uint64_t v7 = 2;
    }
    PXCNComposeRecipientWithAddress(v6, v7);
    id v2 = (id)objc_claimAutoreleasedReturnValue();
    goto LABEL_13;
  }
  uint64_t v4 = [v1 contact];
  PXCNComposeRecipientWithContact(v4);
  id v2 = (id)objc_claimAutoreleasedReturnValue();

LABEL_7:
  uint64_t v5 = 0;
LABEL_13:

LABEL_14:
  return v2;
}

uint64_t PXComposeRecipientEqualToComposeRecipient(void *a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [a1 address];
  uint64_t v5 = [v3 address];

  if (v4 == v5) {
    uint64_t v6 = 1;
  }
  else {
    uint64_t v6 = [v4 isEqualToString:v5];
  }

  return v6;
}

uint64_t PXComposeRecipientsContainsComposeRecipient(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v11 = 0;
  uint64_t v12 = &v11;
  uint64_t v13 = 0x2020000000;
  char v14 = 0;
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  v8[2] = __PXComposeRecipientsContainsComposeRecipient_block_invoke;
  v8[3] = &unk_1E5DBFD00;
  id v5 = v4;
  id v9 = v5;
  uint64_t v10 = &v11;
  [v3 enumerateObjectsUsingBlock:v8];
  uint64_t v6 = *((unsigned __int8 *)v12 + 24);

  _Block_object_dispose(&v11, 8);
  return v6;
}

void sub_1AAE01660(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXComposeRecipientsContainsComposeRecipient_block_invoke(uint64_t a1, void *a2, uint64_t a3, unsigned char *a4)
{
  uint64_t result = PXComposeRecipientEqualToComposeRecipient(a2, *(void **)(a1 + 32));
  if (result)
  {
    *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
    *a4 = 1;
  }
  return result;
}

uint64_t PXComposeAddressKindFromRecipientKind(uint64_t a1)
{
  if (a1) {
    return a1 == 2;
  }
  else {
    return 5;
  }
}

uint64_t PXRecipientKindFromComposeAddressKind(uint64_t a1)
{
  if (a1) {
    return 2 * (a1 == 1);
  }
  else {
    return 1;
  }
}

__CFString *PXUnlockDeviceActionTypeDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"??";
  }
  else {
    return off_1E5DBFD20[a1];
  }
}

PXImportAssetActionManager *PXCreateImportAssetActionManager(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  id v5 = [[PXImportAssetActionManager alloc] initWithImportItem:v4 importController:v3];

  return v5;
}

void sub_1AAE026D0(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE06248(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,char a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

uint64_t __Block_byref_object_copy__154825(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__154826(uint64_t a1)
{
}

void sub_1AAE066A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE06FE0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE07508(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE0A3C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE0A8DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _ActivityTitleAttributes()
{
  uint64_t v0 = *MEMORY[0x1E4F143B8];
  PXCappedFontWithTextStyle();
}

id PXGAnimationGroupInfoDescription(uint64_t a1)
{
  if (*(void *)a1 > 3uLL) {
    id v2 = @"?";
  }
  else {
    id v2 = off_1E5DC0010[*(void *)a1];
  }
  id v3 = [*(id *)(a1 + 44) delegate];
  id v4 = NSString;
  uint64_t v5 = *(void *)(a1 + 8);
  uint64_t v6 = *(void *)(a1 + 16);
  double v7 = *(float *)(a1 + 24);
  uint64_t v8 = [NSString stringWithFormat:@"{w=%.2f, z=%.2f}", *(float *)(a1 + 28), *(float *)(a1 + 32)];
  id v9 = [v4 stringWithFormat:@"{ curve=%@, duration=%.2f, end=%.2f, initialFraction=%.2f, dampedSpring=%@, delegate=%@ }", v2, v5, v6, *(void *)&v7, v8, v3];

  return v9;
}

id PXGAnimationSpriteInfoDescription(void *a1)
{
  if (*((unsigned char *)a1 + 306))
  {
    id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXGAnimationSpriteInfoDescription_block_invoke;
    aBlock[3] = &unk_1E5DBFFF0;
    memcpy(v31, a1, sizeof(v31));
    id v30 = v2;
    id v3 = v2;
    id v4 = (void (**)(void *, uint64_t, __CFString *))_Block_copy(aBlock);
    v4[2](v4, 1, @"transient");
    uint64_t v5 = NSString;
    uint64_t v6 = [v3 componentsJoinedByString:@","];
    [v5 stringWithFormat:@", attributes={%@}", v6];
    uint64_t v28 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v28 = &stru_1F00B0030;
  }
  id v21 = (id)NSString;
  int64_t v27 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *a1, a1[1], *((float *)a1 + 4)];
  double v26 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *(void *)((char *)a1 + 20), *(void *)((char *)a1 + 28), *((float *)a1 + 9)];
  double v25 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 10), *((float *)a1 + 11), *((float *)a1 + 12)];
  unint64_t v20 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 13), *((float *)a1 + 14), *((float *)a1 + 15)];
  uint64_t v19 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 16), *((float *)a1 + 17), *((float *)a1 + 18)];
  long long v18 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 19), *((float *)a1 + 20), *((float *)a1 + 21)];
  uint64_t v17 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 37), *((float *)a1 + 38), *((float *)a1 + 39)];
  uint64_t v24 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 40), *((float *)a1 + 41), *((float *)a1 + 42)];
  uint64_t v23 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 43), *((float *)a1 + 44), *((float *)a1 + 45)];
  uint64_t v15 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 46), *((float *)a1 + 47), *((float *)a1 + 48)];
  char v14 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 49), *((float *)a1 + 50), *((float *)a1 + 51)];
  uint64_t v13 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 52), *((float *)a1 + 53), *((float *)a1 + 54)];
  long long v16 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 55), *((float *)a1 + 56), *((float *)a1 + 57)];
  double v7 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 58), *((float *)a1 + 59), *((float *)a1 + 60)];
  uint64_t v8 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 61), *((float *)a1 + 62), *((float *)a1 + 63)];
  id v9 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 64), *((float *)a1 + 65), *((float *)a1 + 66)];
  uint64_t v10 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 67), *((float *)a1 + 68), *((float *)a1 + 69)];
  uint64_t v11 = [NSString stringWithFormat:@"{target=%.2f, initialOffset=%.2f, initialVelocity=%.2f}", *((float *)a1 + 70), *((float *)a1 + 71), *((float *)a1 + 72)];
  objc_msgSend(v21, "stringWithFormat:", @"{ centerX:%@, centerY:%@, centerZ:%@, sizeX:%@, sizeY:%@, alpha:%@, contentsRect:{%@,%@,%@,%@}, clippingRect:{%@,%@,%@,%@}, cornerRadius:{%@,%@,%@,%@}, group=%li%@ }", v27, v26, v25, v20, v19, v18, v17, v24, v23, v15, v14, v13, v16, v7, v8, v9,
    v10,
    v11,
    *((unsigned __int16 *)a1 + 152),
    v28);
  id v22 = (id)objc_claimAutoreleasedReturnValue();

  return v22;
}

uint64_t __PXGAnimationSpriteInfoDescription_block_invoke(uint64_t result, unsigned __int8 a2)
{
  if ((*(unsigned char *)(result + 346) & a2) != 0) {
    return objc_msgSend(*(id *)(result + 32), "addObject:");
  }
  return result;
}

void sub_1AAE0F1D0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE0FAB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

void sub_1AAE117C4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE145AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,char a32)
{
  _Block_object_dispose(&a32, 8);
  _Block_object_dispose((const void *)(v32 - 168), 8);
  _Block_object_dispose((const void *)(v32 - 136), 8);
  _Unwind_Resume(a1);
}

uint64_t MatchingScoreBetweenClipResourceIndexes(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  unint64_t v5 = [v3 count];
  if (v5 <= [v4 count])
  {
    uint64_t v11 = 0;
    uint64_t v12 = &v11;
    uint64_t v13 = 0x2020000000;
    uint64_t v14 = 0;
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    v8[2] = __MatchingScoreBetweenClipResourceIndexes_block_invoke;
    v8[3] = &unk_1E5DC5478;
    id v9 = v4;
    uint64_t v10 = &v11;
    [v3 enumerateIndexesUsingBlock:v8];
    uint64_t v6 = v12[3];

    _Block_object_dispose(&v11, 8);
  }
  else
  {
    uint64_t v6 = MatchingScoreBetweenClipResourceIndexes(v4, v4);
  }

  return v6;
}

void sub_1AAE14810(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __MatchingScoreBetweenClipResourceIndexes_block_invoke(uint64_t a1, uint64_t a2)
{
  uint64_t result = [*(id *)(a1 + 32) containsIndex:a2];
  if (result) {
    ++*(void *)(*(void *)(*(void *)(a1 + 40) + 8) + 24);
  }
  return result;
}

id _CreateLabel(int a1)
{
  id v2 = objc_alloc(MEMORY[0x1E4FB1930]);
  id v3 = objc_msgSend(v2, "initWithFrame:", *MEMORY[0x1E4F1DB28], *(double *)(MEMORY[0x1E4F1DB28] + 8), *(double *)(MEMORY[0x1E4F1DB28] + 16), *(double *)(MEMORY[0x1E4F1DB28] + 24));
  [v3 setTranslatesAutoresizingMaskIntoConstraints:0];
  [v3 setTextAlignment:1];
  [v3 setNumberOfLines:0];
  id v4 = [MEMORY[0x1E4FB1618] labelColor];
  [v3 setTextColor:v4];

  [v3 setAdjustsFontForContentSizeCategory:1];
  uint64_t v5 = *MEMORY[0x1E4FB28F0];
  if (a1)
  {
    uint64_t v6 = [MEMORY[0x1E4FB08E8] preferredFontDescriptorWithTextStyle:*MEMORY[0x1E4FB28F0]];
    double v7 = [v6 fontDescriptorWithSymbolicTraits:2];
    uint64_t v8 = [MEMORY[0x1E4FB17A8] metricsForTextStyle:v5];
    id v9 = (void *)MEMORY[0x1E4FB08E0];
    [v7 pointSize];
    uint64_t v10 = objc_msgSend(v9, "fontWithDescriptor:size:", v7);
    uint64_t v11 = [v8 scaledFontForFont:v10];
    [v3 setFont:v11];
  }
  else
  {
    uint64_t v6 = [MEMORY[0x1E4FB08E0] preferredFontForTextStyle:*MEMORY[0x1E4FB28F0]];
    [v3 setFont:v6];
  }

  return v3;
}

void sub_1AAE1A0B8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE1AC3C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE1BE14(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE1FD10(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE1FED0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

__CFString *PXActionPhaseDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"?? %ti", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DC02B0[a1];
  }
  return v1;
}

void sub_1AAE204DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE20DB0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE2686C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

PXPhotosUIViewController *PXContentSyndicationReviewViewController(uint64_t a1)
{
  uint64_t v2 = +[PXContentSyndicationSettings sharedInstance];
  int v3 = [v2 useSystemLibraryForReview];

  if (v3) {
    uint64_t v4 = 1;
  }
  else {
    uint64_t v4 = 3;
  }
  uint64_t v5 = [MEMORY[0x1E4F39228] openPhotoLibraryWithWellKnownIdentifier:v4 error:a1];
  uint64_t v6 = v5;
  if (v5)
  {
    double v7 = PXContentSyndicationReviewFetchResultForPhotoLibrary(v5);
    uint64_t v8 = _DataSourceManagerWithAssetFetchResult(v7);
    id v9 = _ViewConfigurationWithDataSourceManager(v8);
    uint64_t v10 = [[PXPhotosUIViewController alloc] initWithConfiguration:v9];
    [(PXPhotosUIViewController *)v10 setTitle:@"Review Syndicated Assets"];
  }
  else
  {
    uint64_t v10 = 0;
  }

  return v10;
}

PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(void *a1)
{
  void v10[2] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = [NSString stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong)"];
    [v8 handleFailureInFunction:v9, @"PXContentSyndicationReviewUtilities.m", 67, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];
  }
  uint64_t v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v1 options:2];
  uint64_t v3 = *MEMORY[0x1E4F39538];
  v10[0] = *MEMORY[0x1E4F39448];
  v10[1] = v3;
  uint64_t v4 = [MEMORY[0x1E4F1C978] arrayWithObjects:v10 count:2];
  [(PXPhotosDataSourceConfiguration *)v2 setFetchPropertySets:v4];

  uint64_t v5 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  uint64_t v6 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v5];

  return v6;
}

PXPhotosViewConfiguration *_ViewConfigurationWithDataSourceManager(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration *_ViewConfigurationWithDataSourceManager(PXPhotoKitAssetsDataSourceManager *__strong, BOOL)");
    [v8 handleFailureInFunction:v9, @"PXContentSyndicationReviewUtilities.m", 78, @"Invalid parameter not satisfying: %@", @"dataSourceManager" file lineNumber description];
  }
  uint64_t v2 = [v1 photoLibrary];
  uint64_t v3 = +[PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v2];

  uint64_t v4 = [(PXPhotoKitAssetActionManager *)[PXContentSyndicationReviewUIActionManager alloc] initWithSelectionManager:0];
  uint64_t v5 = objc_alloc_init(PXContentSyndicationReviewRadarConfigurationProvider);
  [(PXPhotoKitAssetActionManager *)v4 setRadarConfigurationProvider:v5];
  uint64_t v6 = [[PXPhotosViewConfiguration alloc] initWithDataSourceManager:v1 mediaProvider:v3 selectionManager:0 assetActionManager:v4 assetCollectionActionManager:0];
  [(PXPhotosViewConfiguration *)v6 setFooterVisibilityStyle:1];
  [(PXPhotosViewConfiguration *)v6 setAllowedActions:16544];
  [(PXPhotosViewConfiguration *)v6 setAllowedActions:[(PXPhotosViewConfiguration *)v6 allowedActions] | 0x80000];
  [(PXPhotosViewConfiguration *)v6 setInfoActionHandler:&__block_literal_global_159838];
  [(PXPhotosViewConfiguration *)v6 setAllowedBehaviors:[(PXPhotosViewConfiguration *)v6 allowedBehaviors] & 0xFFFFFFFFFFFFFFDFLL];
  [(PXPhotosViewConfiguration *)v6 setContentStartingPosition:1];
  [(PXPhotosViewConfiguration *)v6 setDecorationViewClass:objc_opt_class()];

  return v6;
}

PXPhotosUIViewController *PXContentSyndicationProcessingValuesReviewViewController(uint64_t a1)
{
  id v1 = [MEMORY[0x1E4F39228] openPhotoLibraryWithWellKnownIdentifier:3 error:a1];
  uint64_t v2 = v1;
  if (v1)
  {
    uint64_t v3 = PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(v1);
    uint64_t v4 = _DataSourceManagerWithAssetFetchResult(v3);
    uint64_t v5 = _ViewConfigurationWithDataSourceManager(v4);
    uint64_t v6 = [[PXPhotosUIViewController alloc] initWithConfiguration:v5];
    [(PXPhotosUIViewController *)v6 setTitle:@"Review Syndication Processing Values"];
  }
  else
  {
    uint64_t v6 = 0;
  }

  return v6;
}

PXPhotosUIViewController *PXExternalContentReviewViewController(uint64_t a1)
{
  v12[3] = *MEMORY[0x1E4F143B8];
  id v1 = [MEMORY[0x1E4F39228] openPhotoLibraryWithWellKnownIdentifier:1 error:a1];
  uint64_t v2 = v1;
  if (v1)
  {
    uint64_t v3 = [v1 librarySpecificFetchOptions];
    [v3 setIncludeGuestAssets:0];
    uint64_t v4 = *MEMORY[0x1E4F394E0];
    v12[0] = *MEMORY[0x1E4F39538];
    v12[1] = v4;
    void v12[2] = *MEMORY[0x1E4F39458];
    uint64_t v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v12 count:3];
    [v3 setFetchPropertySets:v5];

    uint64_t v6 = [MEMORY[0x1E4F8E7E0] internalPredicateToIncludeExternalAssetsEligibleForProcessing];
    [v3 setInternalPredicate:v6];

    double v7 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v3];
    uint64_t v8 = _DataSourceManagerWithAssetFetchResult(v7);
    id v9 = _ViewConfigurationWithDataSourceManager(v8);
    uint64_t v10 = [[PXPhotosUIViewController alloc] initWithConfiguration:v9];
    [(PXPhotosUIViewController *)v10 setTitle:@"Review External Assets"];
  }
  else
  {
    uint64_t v10 = 0;
  }

  return v10;
}

void sub_1AAE2A2A4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void PXSetSharedAlbumsActivityLastSeenDateAfterDelay()
{
  dispatch_time_t v0 = dispatch_time(0, 1000000000);
  id v1 = MEMORY[0x1E4F14428];
  dispatch_after(v0, v1, &__block_literal_global_160226);
}

void __PXSetSharedAlbumsActivityLastSeenDateAfterDelay_block_invoke()
{
  id v0 = [MEMORY[0x1E4F1C9C8] now];
  PXSetSharedAlbumsActivityLastSeenDateToDate(v0);
}

void PXSetSharedAlbumsActivityLastSeenDateToDate(void *a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = +[PXSharedAlbumsSettings sharedInstance];
  int v3 = [v2 lemonadeActivityShelfPreventUpdatingUnreadState];

  uint64_t v4 = PLUIGetLog();
  BOOL v5 = os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT);
  if (v3)
  {
    if (v5)
    {
      LOWORD(v7) = 0;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEFAULT, "[SharedAlbumsActivityLastSeen] Skipping updating last seen date", (uint8_t *)&v7, 2u);
    }
  }
  else
  {
    if (v5)
    {
      int v7 = 138543362;
      id v8 = v1;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEFAULT, "[SharedAlbumsActivityLastSeen] Updating 'last seen' date to: %{public}@", (uint8_t *)&v7, 0xCu);
    }

    uint64_t v6 = _LastSeenDateValueAccessor();
    [v6 setCurrentValue:v1];

    uint64_t v4 = PXForYouLastExitedDate();
    if ([v4 compare:v1] == -1) {
      PXSetForYouLastExitedDate(v1);
    }
  }
}

BOOL PXSharedAlbumsActivityDateIsUnread(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  BOOL v5 = +[PXSharedAlbumsSettings sharedInstance];
  char v6 = [v5 lemonadeActivityShelfAlwaysAppearUnread];

  BOOL v7 = (v6 & 1) != 0 || [v3 compare:v4] == 1;
  return v7;
}

void sub_1AAE2CAB4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE2F118(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

CMTime *PXAudioCMTimeMakeWithSeconds@<X0>(CMTime *a1@<X8>, Float64 a2@<D0>)
{
  return CMTimeMakeWithSeconds(a1, a2, PXAudioDefaultCMTimeScale);
}

void PXVolumeGainForTargetLoudness(float a1, float a2)
{
  if (a2 != 0.0)
  {
    float v2 = a1 - a2;
    if (v2 != 0.0) {
      __exp10(v2 / 20.0);
    }
  }
}

__CFString *PXStoryAudioCurveDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"??";
  }
  else {
    return off_1E5DC05A0[a1];
  }
}

float PXVolumeGainForAudioCurveAtTime(uint64_t a1, float a2)
{
  LODWORD(v2) = 0;
  if (a2 <= 0.0) {
    return *(float *)&v2;
  }
  LODWORD(v2) = 1.0;
  if (a2 >= 1.0) {
    return *(float *)&v2;
  }
  double v2 = a2;
  switch(a1)
  {
    case 0:
    case 1:
      *(float *)&double v2 = a2;
      return *(float *)&v2;
    case 2:
      float v4 = v2 * 1.57079633;
      return sinf(v4);
    case 3:
      float v5 = 1.0 - a2;
      goto LABEL_11;
    case 4:
      float v6 = v2 * -1.57079633;
      float v5 = sinf(v6) + 1.0;
LABEL_11:
      float v7 = v5 * -3.0;
      float result = __exp10f(v7);
      break;
    default:
      return *(float *)&v2;
  }
  return result;
}

void sub_1AAE308FC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location, char a20)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a20, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__161026(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__161027(uint64_t a1)
{
}

void sub_1AAE30D04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AAE30F40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXMomentShareAcceptError(void *a1, void *a2)
{
  v14[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  float v5 = [v4 domain];
  if ([v5 isEqual:*MEMORY[0x1E4F39800]])
  {
    uint64_t v6 = [v4 code];

    float v7 = v4;
    if (v6 == 6003)
    {
      id v8 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
      v12[0] = MEMORY[0x1E4F143A8];
      v12[1] = 3221225472;
      void v12[2] = __PXMomentShareAcceptError_block_invoke;
      v12[3] = &unk_1E5DC0670;
      id v13 = v3;
      uint64_t v9 = +[PXErrorRecoveryOption recoveryOptionWithTitle:v8 style:0 handler:v12];

      v14[0] = v9;
      uint64_t v10 = [MEMORY[0x1E4F1C978] arrayWithObjects:v14 count:1];
      float v7 = objc_msgSend(v4, "px_errorWithRecoveryOptions:", v10);
    }
  }
  else
  {

    float v7 = v4;
  }

  return v7;
}

void __PXMomentShareAcceptError_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  float v5 = PLSharingGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v6 = *(void *)(a1 + 32);
    *(_DWORD *)long long buf = 138412290;
    uint64_t v15 = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will trash moment share: %@", buf, 0xCu);
  }

  float v7 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
  v12[0] = MEMORY[0x1E4F143A8];
  v12[1] = 3221225472;
  void v12[2] = __PXMomentShareAcceptError_block_invoke_194;
  v12[3] = &unk_1E5DD36F8;
  id v13 = *(id *)(a1 + 32);
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  void v9[2] = __PXMomentShareAcceptError_block_invoke_2;
  v9[3] = &unk_1E5DD2B90;
  id v10 = *(id *)(a1 + 32);
  id v11 = v4;
  id v8 = v4;
  [v7 performChanges:v12 completionHandler:v9];
}

void __PXMomentShareAcceptError_block_invoke_194(uint64_t a1)
{
  v3[1] = *MEMORY[0x1E4F143B8];
  uint64_t v1 = (void *)MEMORY[0x1E4F391B8];
  v3[0] = *(void *)(a1 + 32);
  double v2 = [MEMORY[0x1E4F1C978] arrayWithObjects:v3 count:1];
  [v1 trashMomentShares:v2];
}

void __PXMomentShareAcceptError_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  uint64_t v6 = PLSharingGetLog();
  float v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      id v8 = *(void **)(a1 + 32);
      int v12 = 138412290;
      id v13 = v8;
      uint64_t v9 = "Did trash moment share: %@";
      id v10 = v7;
      os_log_type_t v11 = OS_LOG_TYPE_DEFAULT;
LABEL_6:
      _os_log_impl(&dword_1A9AE7000, v10, v11, v9, (uint8_t *)&v12, 0xCu);
    }
  }
  else if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
  {
    int v12 = 138412290;
    id v13 = v5;
    uint64_t v9 = "Unable to trash moment share: %@";
    id v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_ERROR;
    goto LABEL_6;
  }

  (*(void (**)(void, uint64_t))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), a2);
}

void PXMomentShareAcceptIfNeeded(void *a1, void *a2)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    id v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareAcceptIfNeeded(PHMomentShare *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v8 handleFailureInFunction:v9, @"PXMomentShareUtilities.m", 75, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  int v5 = [v3 status];
  uint64_t v6 = PLSharingGetLog();
  BOOL v7 = os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT);
  if (v5 == 2)
  {
    if (v7)
    {
      *(_DWORD *)long long buf = 138412290;
      id v14 = v3;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_DEFAULT, "Will accept moment share: %@", buf, 0xCu);
    }

    v10[0] = MEMORY[0x1E4F143A8];
    v10[1] = 3221225472;
    void v10[2] = __PXMomentShareAcceptIfNeeded_block_invoke;
    void v10[3] = &unk_1E5DD2B90;
    id v11 = v3;
    id v12 = v4;
    [v11 acceptMomentShareWithCompletion:v10];
  }
  else
  {
    if (v7)
    {
      *(_DWORD *)long long buf = 138412290;
      id v14 = v3;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_DEFAULT, "No need to accept non-pending moment share: %@", buf, 0xCu);
    }

    if (v4) {
      (*((void (**)(id, uint64_t, void))v4 + 2))(v4, 1, 0);
    }
  }
}

void __PXMomentShareAcceptIfNeeded_block_invoke(uint64_t a1, int a2, void *a3)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  uint64_t v6 = PLSharingGetLog();
  BOOL v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v8 = *(void *)(a1 + 32);
      *(_DWORD *)long long buf = 138412290;
      uint64_t v22 = v8;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "Successfully accepted moment share: %@", buf, 0xCu);
    }

    uint64_t v9 = *(void **)(a1 + 40);
    if (v9)
    {
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXMomentShareAcceptIfNeeded_block_invoke_211;
      block[3] = &unk_1E5DD3128;
      id v20 = v9;
      dispatch_async(MEMORY[0x1E4F14428], block);
    }
    id v10 = *(void **)(a1 + 32);
    v17[0] = MEMORY[0x1E4F143A8];
    v17[1] = 3221225472;
    void v17[2] = __PXMomentShareAcceptIfNeeded_block_invoke_2;
    v17[3] = &unk_1E5DD2D68;
    id v18 = v10;
    [v18 forceSyncMomentShareWithCompletion:v17];
    id v11 = v18;
  }
  else
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      uint64_t v12 = *(void *)(a1 + 32);
      *(_DWORD *)long long buf = 138412546;
      uint64_t v22 = v12;
      __int16 v23 = 2112;
      id v24 = v5;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Failed to accept moment share: %@ due to error: %@", buf, 0x16u);
    }

    PXMomentShareAcceptError(*(void **)(a1 + 32), v5);
    id v11 = (id)objc_claimAutoreleasedReturnValue();
    id v13 = *(void **)(a1 + 40);
    if (v13)
    {
      v14[0] = MEMORY[0x1E4F143A8];
      v14[1] = 3221225472;
      void v14[2] = __PXMomentShareAcceptIfNeeded_block_invoke_213;
      v14[3] = &unk_1E5DD3280;
      id v16 = v13;
      id v11 = v11;
      id v15 = v11;
      dispatch_async(MEMORY[0x1E4F14428], v14);
    }
  }
}

uint64_t __PXMomentShareAcceptIfNeeded_block_invoke_211(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXMomentShareAcceptIfNeeded_block_invoke_2(uint64_t a1, void *a2)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  id v4 = PLSharingGetLog();
  BOOL v5 = os_log_type_enabled(v4, OS_LOG_TYPE_DEFAULT);
  if (v3)
  {
    if (v5)
    {
      uint64_t v6 = *(void *)(a1 + 32);
      int v11 = 138412546;
      uint64_t v12 = v6;
      __int16 v13 = 2112;
      id v14 = v3;
      BOOL v7 = "Unable to force sync moment share %@: %@";
      uint64_t v8 = v4;
      uint32_t v9 = 22;
LABEL_6:
      _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, v7, (uint8_t *)&v11, v9);
    }
  }
  else if (v5)
  {
    uint64_t v10 = *(void *)(a1 + 32);
    int v11 = 138412290;
    uint64_t v12 = v10;
    BOOL v7 = "Force sync moment share %@";
    uint64_t v8 = v4;
    uint32_t v9 = 12;
    goto LABEL_6;
  }
}

uint64_t __PXMomentShareAcceptIfNeeded_block_invoke_213(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void PXTrashMomentShareForURL(void *a1, void *a2)
{
}

void _PXDeleteMomentShareForURL(void *a1, uint64_t a2, void *a3)
{
  uint64_t v27 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a3;
  if (v5)
  {
    BOOL v7 = v5;
  }
  else
  {
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    id v20 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXDeleteMomentShareForURL(NSURL *__strong, BOOL, PXMomentShareDeletionHandler  _Nullable __strong)");
    [v19 handleFailureInFunction:v20, @"PXMomentShareUtilities.m", 150, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];

    BOOL v7 = 0;
  }
  uint64_t v8 = PXFetchAssetCollectionForCMMShareURL(v7, 0, 0);
  uint32_t v9 = [v8 firstObject];
  if ([v9 assetCollectionType] == 7) {
    uint64_t v10 = v9;
  }
  else {
    uint64_t v10 = 0;
  }
  id v11 = v10;
  uint64_t v12 = @"trash";
  if (a2) {
    uint64_t v12 = @"expunge";
  }
  __int16 v13 = v12;
  id v14 = PLSharingGetLog();
  BOOL v15 = os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT);
  if (v11)
  {
    if (v15)
    {
      id v16 = objc_msgSend(v5, "pl_redactedShareURL");
      *(_DWORD *)long long buf = 138412546;
      id v24 = v13;
      __int16 v25 = 2114;
      double v26 = v16;
      _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "Will %@ moment share for URL: %{public}@", buf, 0x16u);
    }
    id v22 = v11;
    uint64_t v17 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v22 count:1];
    v21[0] = MEMORY[0x1E4F143A8];
    v21[1] = 3221225472;
    v21[2] = ___PXDeleteMomentShareForURL_block_invoke;
    v21[3] = &unk_1E5DD1B00;
    void v21[4] = v13;
    v21[5] = v5;
    v21[6] = v6;
    _PXDeleteMomentShares(v17, a2, v21);
  }
  if (v15)
  {
    id v18 = objc_msgSend(v5, "pl_redactedShareURL");
    *(_DWORD *)long long buf = 138412546;
    id v24 = v13;
    __int16 v25 = 2114;
    double v26 = v18;
    _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "No moment share found to %@ for url %{public}@", buf, 0x16u);
  }
  if (v6) {
    (*((void (**)(id, uint64_t, void))v6 + 2))(v6, 1, 0);
  }
}

void _PXDeleteMomentShares(void *a1, uint64_t a2, void *a3)
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  if (![a1 count])
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    id v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXDeleteMomentShares(__strong id<PXFastEnumeration>, BOOL, PXMomentShareDeletionHandler  _Nullable __strong)");
    [v5 handleFailureInFunction:v6, @"PXMomentShareUtilities.m", 117, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];
  }
  PXMap();
}

void PXTrashMomentShare(void *a1, void *a2)
{
  v7[1] = *MEMORY[0x1E4F143B8];
  v7[0] = a1;
  id v3 = (void *)MEMORY[0x1E4F1C978];
  id v4 = a2;
  id v5 = a1;
  id v6 = [v3 arrayWithObjects:v7 count:1];

  _PXDeleteMomentShares(v6, 0, v4);
}

void PXExpungeMomentShareForURL(void *a1, void *a2)
{
}

void PXExpungeMomentShare(void *a1, void *a2)
{
  v7[1] = *MEMORY[0x1E4F143B8];
  v7[0] = a1;
  id v3 = (void *)MEMORY[0x1E4F1C978];
  id v4 = a2;
  id v5 = a1;
  id v6 = [v3 arrayWithObjects:v7 count:1];

  _PXDeleteMomentShares(v6, 1, v4);
}

BOOL PXIsMomentShareErrorPermanent(void *a1)
{
  uint64_t v1 = PXMomentShareTypeForError(a1);
  return v1 == 4 || (v1 & 0xE) == 2;
}

uint64_t PXMomentShareTypeForError(void *a1)
{
  id v1 = a1;
  double v2 = [v1 domain];
  if ([v2 isEqualToString:*MEMORY[0x1E4F39800]])
  {
    uint64_t v3 = [v1 code];
    uint64_t v4 = 0;
    switch(v3)
    {
      case 6001:
      case 6009:
      case 6010:
        uint64_t v4 = 1;
        goto LABEL_25;
      case 6002:
      case 6005:
      case 6011:
        goto LABEL_25;
      case 6003:
        uint64_t v4 = 4;
        goto LABEL_25;
      case 6004:
        goto LABEL_13;
      case 6006:
        uint64_t v4 = 6;
        goto LABEL_25;
      case 6007:
        uint64_t v4 = 7;
        goto LABEL_25;
      case 6008:
        goto LABEL_19;
      case 6012:
        uint64_t v4 = 10;
        goto LABEL_25;
      default:
        if (v3 == 8001)
        {
LABEL_19:
          uint64_t v4 = 5;
        }
        else if (v3 == 9999)
        {
          uint64_t v4 = 9;
        }
        else
        {
          uint64_t v4 = 0;
        }
        break;
    }
    goto LABEL_25;
  }
  if (![v2 isEqualToString:@"PXCMMErrorDomain"])
  {
LABEL_14:
    uint64_t v4 = 0;
    goto LABEL_25;
  }
  uint64_t v5 = [v1 code];
  if (v5 > -1101)
  {
    if (v5 == -1010)
    {
      uint64_t v4 = 8;
      goto LABEL_25;
    }
    if (v5 == -1100)
    {
LABEL_13:
      uint64_t v4 = 3;
      goto LABEL_25;
    }
    goto LABEL_14;
  }
  uint64_t v6 = 4;
  if (v5 != -1101) {
    uint64_t v6 = 0;
  }
  if (v5 == -1102) {
    uint64_t v4 = 2;
  }
  else {
    uint64_t v4 = v6;
  }
LABEL_25:

  return v4;
}

id PXParticipantFetchResultForMomentShare(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"PHFetchResult<PHShareParticipant *> * _Nullable PXParticipantFetchResultForMomentShare(PHMomentShare *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8, @"PXMomentShareUtilities.m", 260, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  if (objc_msgSend(v1, "px_momentShareType") == 1)
  {
    double v2 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
    uint64_t v3 = [v2 librarySpecificFetchOptions];

    uint64_t v4 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K == %d", @"role", 1);
    [v3 setPredicate:v4];

    uint64_t v5 = [MEMORY[0x1E4F392E8] fetchParticipantsInShare:v1 options:v3];
  }
  else
  {
    uint64_t v5 = 0;
  }

  return v5;
}

id PXOwnerForMomentShareParticipantFetchResult(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v10 = [MEMORY[0x1E4F28B00] currentHandler];
    id v11 = objc_msgSend(NSString, "stringWithUTF8String:", "id<PXCMMInvitationParticipant>  _Nullable PXOwnerForMomentShareParticipantFetchResult(PHFetchResult<PHShareParticipant *> *__strong _Nonnull, PHMomentShare *__strong _Nonnull)");
    [v10 handleFailureInFunction:v11, @"PXMomentShareUtilities.m", 274, @"Invalid parameter not satisfying: %@", @"participantsFetchResult" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  uint64_t v12 = [MEMORY[0x1E4F28B00] currentHandler];
  __int16 v13 = objc_msgSend(NSString, "stringWithUTF8String:", "id<PXCMMInvitationParticipant>  _Nullable PXOwnerForMomentShareParticipantFetchResult(PHFetchResult<PHShareParticipant *> *__strong _Nonnull, PHMomentShare *__strong _Nonnull)");
  [v12 handleFailureInFunction:v13, @"PXMomentShareUtilities.m", 275, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];

LABEL_3:
  if (objc_msgSend(v5, "px_momentShareType") == 1)
  {
    uint64_t v6 = [v3 firstObject];
    uint64_t v7 = v6;
    if (!v6) {
      PXAssertGetLog();
    }
    uint64_t v8 = PXRecipientFromShareParticipant(v6);
  }
  else
  {
    uint64_t v8 = 0;
  }

  return v8;
}

uint64_t PXMomentShareAssetOriginForMomentShare(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"PXMomentShareAssetOrigin PXMomentShareAssetOriginForMomentShare(PHMomentShare *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXMomentShareUtilities.m", 291, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  if (objc_msgSend(v1, "px_momentShareType")) {
    uint64_t v2 = 2;
  }
  else {
    uint64_t v2 = 1;
  }

  return v2;
}

BOOL PXCanAttemptToRevealMomentSharedAsset(void *a1, uint64_t a2)
{
  id v3 = a1;
  if (v3)
  {
    if (!a2)
    {
LABEL_6:
      [v3 fetchPropertySetsIfNeeded];
      uint64_t v7 = [v3 destinationAssetCopyProperties];
      BOOL v4 = [v7 destinationAssetCopyState] == 2;

      goto LABEL_7;
    }
  }
  else
  {
    uint64_t v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXCanAttemptToRevealMomentSharedAsset(PHAsset *__strong _Nonnull, PXMomentShareAssetOrigin)");
    [v5 handleFailureInFunction:v6, @"PXMomentShareUtilities.m", 299, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];

    if (!a2) {
      goto LABEL_6;
    }
  }
  if (a2 == 2) {
    goto LABEL_6;
  }
  BOOL v4 = a2 == 1;
LABEL_7:

  return v4;
}

id PXAssetToRevealForMomentSharedAsset(void *a1, uint64_t a2, void *a3)
{
  id v5 = a1;
  id v6 = a3;
  if (!v6)
  {
    BOOL v15 = [MEMORY[0x1E4F28B00] currentHandler];
    id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "PHAsset * _Nullable PXAssetToRevealForMomentSharedAsset(PHAsset *__strong _Nonnull, PXMomentShareAssetOrigin, PHPhotoLibrary *__strong _Nonnull)");
    [v15 handleFailureInFunction:v16, @"PXMomentShareUtilities.m", 316, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  if (PXCanAttemptToRevealMomentSharedAsset(v5, a2))
  {
    uint64_t v7 = objc_msgSend(v5, "pl_managedAsset");
    uint64_t v8 = [v7 additionalAttributes];
    uint32_t v9 = [v8 originalStableHash];

    if ([v9 length])
    {
      uint64_t v10 = [MEMORY[0x1E4F390A0] fetchOptionsWithInclusiveDefaultsForPhotoLibrary:v6];
      [v10 setIncludeAssetSourceTypes:1];
      id v11 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"%K = %@", @"additionalAttributes.originalStableHash", v9];
      [v10 setInternalPredicate:v11];

      uint64_t v12 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v10];
      __int16 v13 = [v12 firstObject];
    }
    else
    {
      __int16 v13 = 0;
    }
  }
  else
  {
    __int16 v13 = 0;
  }

  return v13;
}

id PXCuratedAssetsWithFallbackForMomentShare(void *a1, uint64_t a2)
{
  id v3 = a1;
  if (!v3)
  {
    id v11 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAsset *> * _Nonnull PXCuratedAssetsWithFallbackForMomentShare(PHMomentShare *__strong _Nonnull, BOOL)");
    [v11 handleFailureInFunction:v12, @"PXMomentShareUtilities.m", 335, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  BOOL v4 = [v3 photoLibrary];
  id v5 = [v4 librarySpecificFetchOptions];

  [v5 setIncludePlaceholderAssets:a2];
  id v6 = [v3 preview];
  uint64_t v7 = [v6 curatedAssetIdentifiers];
  uint64_t v8 = [v7 count];

  if (v8)
  {
    [MEMORY[0x1E4F38EB8] fetchCuratedAssetsInAssetCollection:v3 options:v5];
  }
  else
  {
    [v5 setFetchLimit:10];
    [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v3 options:v5];
  uint32_t v9 = };

  return v9;
}

uint64_t _SupportsSavingAssetsToLibrary(void *a1, uint64_t *a2, uint64_t a3, void *a4)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  uint64_t v8 = a4;
  if (![v7 count])
  {
    id v18 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL _SupportsSavingAssetsToLibrary(__strong id<PXFastEnumeration>, NSUInteger * _Nullable, PXDisplayAssetMediaType * _Nullable, PHFetchResult<PHAsset *> *(^ _Nullable __strong)(void))");
    [v18 handleFailureInFunction:v19, @"PXMomentShareUtilities.m", 371, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];
  }
  long long v22 = 0u;
  long long v23 = 0u;
  long long v20 = 0u;
  long long v21 = 0u;
  id v9 = v7;
  uint64_t v10 = [v9 countByEnumeratingWithState:&v20 objects:v24 count:16];
  if (v10)
  {
    uint64_t v11 = v10;
    uint64_t v12 = *(void *)v21;
LABEL_5:
    uint64_t v13 = 0;
    while (1)
    {
      if (*(void *)v21 != v12) {
        objc_enumerationMutation(v9);
      }
      if ([*(id *)(*((void *)&v20 + 1) + 8 * v13) status] != 3) {
        break;
      }
      id v14 = v8[2](v8);
      uint64_t v15 = [v14 count];
      if (a2) {
        *a2 = v15;
      }
      if (a3) {
        PXMediaTypeForAssets();
      }

      if (v11 == ++v13)
      {
        uint64_t v11 = [v9 countByEnumeratingWithState:&v20 objects:v24 count:16];
        if (v11) {
          goto LABEL_5;
        }
        uint64_t v16 = 1;
        goto LABEL_17;
      }
    }
  }
  uint64_t v16 = 0;
LABEL_17:

  return v16;
}

uint64_t PXMomentSharesSupportsSavingAssetsToLibrary(void *a1, uint64_t *a2, uint64_t a3)
{
  id v5 = a1;
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  void v9[2] = __PXMomentSharesSupportsSavingAssetsToLibrary_block_invoke;
  v9[3] = &unk_1E5DC9B30;
  id v10 = v5;
  id v6 = v5;
  uint64_t v7 = _SupportsSavingAssetsToLibrary(v6, a2, a3, v9);

  return v7;
}

id __PXMomentSharesSupportsSavingAssetsToLibrary_block_invoke(uint64_t a1)
{
  return _FetchAssetsToSave(*(void **)(a1 + 32), 0);
}

id _FetchAssetsToSave(void *a1, void *a2)
{
  id v3 = a1;
  BOOL v4 = a2;
  if (![v3 count])
  {
    uint64_t v11 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAsset *> *_FetchAssetsToSave(__strong id<PXFastEnumeration>, void (^ _Nullable __strong)(PHFetchOptions *__strong))");
    [v11 handleFailureInFunction:v12, @"PXMomentShareUtilities.m", 358, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];
  }
  id v5 = [v3 firstObject];
  id v6 = [v5 photoLibrary];
  uint64_t v7 = [v6 librarySpecificFetchOptions];

  uint64_t v8 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K == %d || %K == %d", @"additionalAttributes.destinationAssetCopyState", 0, @"additionalAttributes.destinationAssetCopyState", -1);
  [v7 setInternalPredicate:v8];

  if (v4) {
    v4[2](v4, v7);
  }
  id v9 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollections:v3 options:v7];

  return v9;
}

uint64_t PXMomentShareSupportsSavingAssetsToLibrary(void *a1, void *a2, uint64_t *a3, uint64_t a4)
{
  v17[1] = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  v17[0] = v7;
  id v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v17 count:1];
  v14[0] = MEMORY[0x1E4F143A8];
  v14[1] = 3221225472;
  void v14[2] = __PXMomentShareSupportsSavingAssetsToLibrary_block_invoke;
  v14[3] = &unk_1E5DC2968;
  id v15 = v8;
  id v16 = v7;
  id v10 = v7;
  id v11 = v8;
  uint64_t v12 = _SupportsSavingAssetsToLibrary(v9, a3, a4, v14);

  return v12;
}

id __PXMomentShareSupportsSavingAssetsToLibrary_block_invoke(uint64_t a1)
{
  void v5[2] = *MEMORY[0x1E4F143B8];
  if ([*(id *)(a1 + 32) count]) {
    PXMap();
  }
  v5[0] = *(void *)(a1 + 40);
  uint64_t v2 = [MEMORY[0x1E4F1C978] arrayWithObjects:v5 count:1];
  id v3 = _FetchAssetsToSave(v2, 0);

  return v3;
}

uint64_t __PXMomentShareSupportsSavingAssetsToLibrary_block_invoke_2(uint64_t a1, void *a2)
{
  return [a2 objectID];
}

BOOL PXMomentShareIsAccepted(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    BOOL v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"BOOL PXMomentShareIsAccepted(PHMomentShare *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXMomentShareUtilities.m", 426, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  BOOL v2 = [v1 status] == 3;

  return v2;
}

BOOL PXMomentShareCanSaveAssetToLibrary(void *a1, void *a2, unsigned char *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = v6;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
LABEL_9:
    id v15 = [MEMORY[0x1E4F28B00] currentHandler];
    id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXMomentShareCanSaveAssetToLibrary(PHAsset *__strong _Nonnull, PHMomentShare *__strong _Nonnull, BOOL * _Nullable)");
    [v15 handleFailureInFunction:v16, @"PXMomentShareUtilities.m", 435, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];

    if (!PXMomentShareIsAccepted(0)) {
      goto LABEL_10;
    }
    goto LABEL_4;
  }
  uint64_t v13 = [MEMORY[0x1E4F28B00] currentHandler];
  id v14 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXMomentShareCanSaveAssetToLibrary(PHAsset *__strong _Nonnull, PHMomentShare *__strong _Nonnull, BOOL * _Nullable)");
  [v13 handleFailureInFunction:v14, @"PXMomentShareUtilities.m", 434, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];

  if (!v7) {
    goto LABEL_9;
  }
LABEL_3:
  id v8 = v7;
  int v9 = [v8 status];

  if (v9 != 3)
  {
LABEL_10:
    BOOL v12 = 0;
    goto LABEL_11;
  }
LABEL_4:
  if ([v5 sourceType] != 8) {
    goto LABEL_10;
  }
  [v5 fetchPropertySetsIfNeeded];
  id v10 = [v5 destinationAssetCopyProperties];
  uint64_t v11 = [v10 destinationAssetCopyState];

  BOOL v12 = (unint64_t)(v11 + 1) < 2;
  if (a3 && (unint64_t)(v11 + 1) <= 1)
  {
    *a3 = 0;
    BOOL v12 = 1;
  }
LABEL_11:

  return v12;
}

void PXMomentShareSaveAssetsToLibrary(void *a1, char a2, void *a3, void *a4, void *a5)
{
  uint64_t v33 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a3;
  id v11 = a4;
  id v12 = a5;
  if ([v9 count])
  {
    if (v10) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v20 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareSaveAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, BOOL, PHPhotoLibrary *__strong _Nonnull, NSString * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v19 handleFailureInFunction:v20, @"PXMomentShareUtilities.m", 462, @"Invalid parameter not satisfying: %@", @"assets.count" file lineNumber description];

    if (v10) {
      goto LABEL_3;
    }
  }
  long long v21 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareSaveAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, BOOL, PHPhotoLibrary *__strong _Nonnull, NSString * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v21 handleFailureInFunction:v22, @"PXMomentShareUtilities.m", 463, @"Invalid parameter not satisfying: %@", @"destinationPhotoLibrary" file lineNumber description];

LABEL_3:
  if (PXMomentShareSaveAssetsToLibrary_predicate != -1) {
    dispatch_once(&PXMomentShareSaveAssetsToLibrary_predicate, &__block_literal_global_252_161234);
  }
  uint64_t v13 = PLSharingGetLog();
  if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 134218242;
    uint64_t v30 = [v9 count];
    __int16 v31 = 2112;
    id v32 = v10;
    _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Will save %lu assets to photo library: %@", buf, 0x16u);
  }

  id v14 = PXMomentShareSaveAssetsToLibrary_serialQueue;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_254;
  block[3] = &unk_1E5DC7A10;
  char v28 = a2;
  id v24 = v9;
  id v25 = v10;
  id v26 = v11;
  id v27 = v12;
  id v15 = v12;
  id v16 = v11;
  id v17 = v10;
  id v18 = v9;
  dispatch_async(v14, block);
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke_254(uint64_t a1)
{
  uint64_t v35 = *MEMORY[0x1E4F143B8];
  BOOL v2 = PLSharingGetLog();
  os_signpost_id_t v3 = os_signpost_id_generate(v2);
  BOOL v4 = v2;
  id v5 = v4;
  if (v3 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v4))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v5, OS_SIGNPOST_INTERVAL_BEGIN, v3, "MomentShareSaveAssetsToLibrary", "", buf, 2u);
  }

  if (*(unsigned char *)(a1 + 64)) {
    PXMap();
  }
  id v6 = *(id *)(a1 + 32);
  if ([v6 count])
  {
    id v7 = *(void **)(a1 + 40);
    v26[0] = MEMORY[0x1E4F143A8];
    v26[1] = 3221225472;
    v26[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_2;
    v26[3] = &unk_1E5DD32A8;
    id v8 = v6;
    id v27 = v8;
    id v28 = *(id *)(a1 + 48);
    id v25 = 0;
    int v9 = [v7 performChangesAndWait:v26 error:&v25];
    id v10 = v25;
    id v11 = v5;
    id v12 = v11;
    if (v3 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v11))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v12, OS_SIGNPOST_INTERVAL_END, v3, "MomentShareSaveAssetsToLibrary", "", buf, 2u);
    }

    uint64_t v13 = PLSharingGetLog();
    id v14 = v13;
    if (v9)
    {
      if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
      {
        uint64_t v15 = [v8 count];
        uint64_t v16 = *(void *)(a1 + 40);
        *(_DWORD *)long long buf = 134218242;
        uint64_t v32 = v15;
        __int16 v33 = 2112;
        uint64_t v34 = v16;
        _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Did save %lu assets to photo library: %@", buf, 0x16u);
      }

      id v17 = (void *)MEMORY[0x1E4F56658];
      uint64_t v29 = *MEMORY[0x1E4F56560];
      uint64_t v30 = @"PXMomentShareAddAssetsToLibrary";
      id v14 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:&v30 forKeys:&v29 count:1];
      [v17 sendEvent:@"com.apple.photos.CPAnalytics.cmmAddAssetToLibrary" withPayload:v14];
    }
    else if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      uint64_t v32 = (uint64_t)v10;
      _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_ERROR, "PXMomentShareSaveAssetsToLibrary: Failed to save assets to photo library: %@", buf, 0xCu);
    }

    long long v20 = *(void **)(a1 + 56);
    if (v20)
    {
      v23[0] = MEMORY[0x1E4F143A8];
      v23[1] = 3221225472;
      void v23[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_269;
      v23[3] = &unk_1E5DD3128;
      id v24 = v20;
      dispatch_async(MEMORY[0x1E4F14428], v23);
    }
    goto LABEL_23;
  }
  id v18 = PLSharingGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_DEFAULT, "PXMomentShareSaveAssetsToLibrary: Re-fetch returned no assets", buf, 2u);
  }

  uint64_t v19 = *(void **)(a1 + 56);
  if (v19)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXMomentShareSaveAssetsToLibrary_block_invoke_270;
    block[3] = &unk_1E5DD3128;
    id v22 = v19;
    dispatch_async(MEMORY[0x1E4F14428], block);
    id v10 = v22;
LABEL_23:
  }
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke_2(uint64_t a1)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v2 = objc_alloc_init(MEMORY[0x1E4F38F20]);
  [v2 setShouldDownloadOrCloudReReferenceMissingResources:1];
  long long v14 = 0u;
  long long v15 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  id v3 = *(id *)(a1 + 32);
  uint64_t v4 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v13;
    do
    {
      uint64_t v7 = 0;
      do
      {
        if (*(void *)v13 != v6) {
          objc_enumerationMutation(v3);
        }
        id v8 = objc_msgSend(MEMORY[0x1E4F38F28], "creationRequestForAssetCopyFromAsset:options:", *(void *)(*((void *)&v12 + 1) + 8 * v7), v2, (void)v12);
        int v9 = v8;
        if (*(void *)(a1 + 40))
        {
          objc_msgSend(v8, "setImportSessionID:");
        }
        else
        {
          id v10 = [MEMORY[0x1E4F29128] UUID];
          id v11 = [v10 UUIDString];
          [v9 setImportSessionID:v11];
        }
        ++v7;
      }
      while (v5 != v7);
      uint64_t v5 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
    }
    while (v5);
  }
}

uint64_t __PXMomentShareSaveAssetsToLibrary_block_invoke_269(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXMomentShareSaveAssetsToLibrary_block_invoke_270(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXMomentShareSaveAssetsToLibrary_block_invoke_255(uint64_t a1, void *a2)
{
  return [a2 objectID];
}

void __PXMomentShareSaveAssetsToLibrary_block_invoke()
{
  id v0 = dispatch_queue_attr_make_with_autorelease_frequency(0, DISPATCH_AUTORELEASE_FREQUENCY_WORK_ITEM);
  attr = dispatch_queue_attr_make_with_qos_class(v0, QOS_CLASS_USER_INITIATED, 0);

  dispatch_queue_t v1 = dispatch_queue_create("com.apple.photos.PXMomentShareUtilitiesQueue", attr);
  id v2 = (void *)PXMomentShareSaveAssetsToLibrary_serialQueue;
  PXMomentShareSaveAssetsToLibrary_serialQueue = (uint64_t)v1;
}

id PXMenuItemTitleForSavingMomentShareAssetsToLibrary(uint64_t a1, uint64_t a2)
{
  if (!a1)
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXMenuItemTitleForSavingMomentShareAssetsToLibrary(NSUInteger, PXDisplayAssetMediaType)");
    [v4 handleFailureInFunction:v5, @"PXMomentShareUtilities.m", 530, @"Invalid parameter not satisfying: %@", @"numberOfAssetsToSave" file lineNumber description];

    a1 = 0;
  }
  return PXLocalizedAssetCountForUsage(a1, a2, 0, 12);
}

void PXMomentShareSaveAllAssetsToLibrary(void *a1, void *a2, void *a3)
{
  uint64_t v13 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if ([v5 count])
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    int v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareSaveAllAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, PHPhotoLibrary *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v9 handleFailureInFunction:v10, @"PXMomentShareUtilities.m", 537, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v11 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v12 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareSaveAllAssetsToLibrary(__strong id<PXFastEnumeration> _Nonnull, PHPhotoLibrary *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v11 handleFailureInFunction:v12, @"PXMomentShareUtilities.m", 538, @"Invalid parameter not satisfying: %@", @"destinationPhotoLibrary" file lineNumber description];

LABEL_3:
  id v8 = _FetchAssetsToSave(v5, &__block_literal_global_276_161264);
  if (![v8 count]) {
    PXMap();
  }
  PXMomentShareSaveAssetsToLibrary(v8, 0, v6, 0, v7);
}

uint64_t __PXMomentShareSaveAllAssetsToLibrary_block_invoke_2(uint64_t a1, void *a2)
{
  return [a2 uuid];
}

void __PXMomentShareSaveAllAssetsToLibrary_block_invoke(uint64_t a1, void *a2)
{
  v6[1] = *MEMORY[0x1E4F143B8];
  id v2 = (void *)MEMORY[0x1E4F29008];
  id v3 = a2;
  uint64_t v4 = [v2 sortDescriptorWithKey:@"creationDate" ascending:1];
  v6[0] = v4;
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v6 count:1];
  [v3 setSortDescriptors:v5];
}

void PXMomentShareRequestNotificationOnUploadCompletion(void *a1, unint64_t a2, void *a3)
{
  uint64_t v30 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a3;
  if (!v5)
  {
    long long v15 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v16 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentShareRequestNotificationOnUploadCompletion(PHMomentShare *__strong _Nonnull, NSInteger, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v15 handleFailureInFunction:v16, @"PXMomentShareUtilities.m", 554, @"Invalid parameter not satisfying: %@", @"momentShare" file lineNumber description];
  }
  int v7 = [v5 status];
  if ((v7 & 0xFFFE) == 2)
  {
    id v8 = [v5 photoLibrary];
    int v9 = [v8 librarySpecificFetchOptions];

    if ((a2 & 0x8000000000000000) != 0)
    {
      id v10 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v5 options:v9];
      a2 = [v10 count];
    }
    unint64_t v11 = [v5 assetCount];

    if (a2 < v11)
    {
      long long v12 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
      v20[0] = MEMORY[0x1E4F143A8];
      v20[1] = 3221225472;
      v20[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke;
      void v20[3] = &unk_1E5DD36F8;
      id v21 = v5;
      v17[0] = MEMORY[0x1E4F143A8];
      v17[1] = 3221225472;
      void v17[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_2;
      v17[3] = &unk_1E5DD2B90;
      id v18 = v21;
      id v19 = v6;
      [v12 performChanges:v20 completionHandler:v17];

      goto LABEL_13;
    }
  }
  else
  {
    a2 = -1;
  }
  uint64_t v13 = PLSharingGetLog();
  if (os_log_type_enabled(v13, OS_LOG_TYPE_DEFAULT))
  {
    long long v14 = [v5 uuid];
    *(_DWORD *)long long buf = 138544130;
    long long v23 = v14;
    __int16 v24 = 1024;
    int v25 = v7;
    __int16 v26 = 2048;
    unint64_t v27 = a2;
    __int16 v28 = 2048;
    uint64_t v29 = [v5 assetCount];
    _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEFAULT, "No need to notify on upload completion for moment share: %{public}@ (status: %hu, counts: %ld vs. %lu)", buf, 0x26u);
  }
  if (v6) {
    (*((void (**)(id, uint64_t, void))v6 + 2))(v6, 1, 0);
  }
LABEL_13:
}

void __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke(uint64_t a1)
{
  id v1 = [MEMORY[0x1E4F391B8] changeRequestForMomentShare:*(void *)(a1 + 32)];
  [v1 setShouldNotifyOnUploadCompletion:1];
}

void __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = PLSharingGetLog();
  int v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_7;
    }
    id v8 = [*(id *)(a1 + 32) uuid];
    *(_DWORD *)long long buf = 138543362;
    id v19 = v8;
    int v9 = "Requested notification on upload completion for moment share: %{public}@";
    id v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_DEFAULT;
    uint32_t v12 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR)) {
      goto LABEL_7;
    }
    id v8 = [*(id *)(a1 + 32) uuid];
    *(_DWORD *)long long buf = 138543618;
    id v19 = v8;
    __int16 v20 = 2112;
    id v21 = v5;
    int v9 = "Failed request notification on upload completion for moment share: %{public}@, error: %@";
    id v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_ERROR;
    uint32_t v12 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v10, v11, v9, buf, v12);

LABEL_7:
  uint64_t v13 = *(void **)(a1 + 40);
  if (v13)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_280;
    block[3] = &unk_1E5DD1758;
    id v16 = v13;
    char v17 = a2;
    id v15 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXMomentShareRequestNotificationOnUploadCompletion_block_invoke_280(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

void PXMomentSharePresentRetryAlertForFetchFailure(void *a1, void *a2, void *a3)
{
  uint64_t v32 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  id v8 = v7;
  if (!v6)
  {
    __int16 v20 = [MEMORY[0x1E4F28B00] currentHandler];
    id v21 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentSharePresentRetryAlertForFetchFailure(NSError * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL))");
    [v20 handleFailureInFunction:v21, @"PXMomentShareUtilities.m", 596, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

    if (v8) {
      goto LABEL_3;
    }
LABEL_22:
    uint64_t v22 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v23 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXMomentSharePresentRetryAlertForFetchFailure(NSError * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(BOOL))");
    [v22 handleFailureInFunction:v23, @"PXMomentShareUtilities.m", 597, @"Invalid parameter not satisfying: %@", @"completionHandler" file lineNumber description];

    goto LABEL_3;
  }
  if (!v7) {
    goto LABEL_22;
  }
LABEL_3:
  int v9 = [v5 domain];
  if ([v9 isEqualToString:*MEMORY[0x1E4F39800]]
    && ([v5 code] == 6001 || objc_msgSend(v5, "code") == 6009))
  {

LABEL_9:
    uint32_t v12 = PXLocalizedStringFromTable(@"PXNetworkErrorMessage", @"PhotosUICore");
    int v13 = 1;
    goto LABEL_12;
  }
  id v10 = [v5 domain];
  if ([v10 isEqualToString:@"PXCMMErrorDomain"])
  {
    uint64_t v11 = [v5 code];

    if (v11 == -1011) {
      goto LABEL_9;
    }
  }
  else
  {
  }
  int v13 = 0;
  uint32_t v12 = 0;
LABEL_12:
  long long v14 = PLSharingGetLog();
  if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
  {
    id v15 = @"without";
    if (v13) {
      id v15 = @"with";
    }
    *(_DWORD *)long long buf = 138412546;
    uint64_t v29 = v15;
    __int16 v30 = 2112;
    id v31 = v5;
    _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "Failure Alert: Will present alert %@ the option to retry for error: %@", buf, 0x16u);
  }

  v24[0] = MEMORY[0x1E4F143A8];
  v24[1] = 3221225472;
  void v24[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke;
  v24[3] = &unk_1E5DC06D8;
  id v25 = v12;
  id v16 = v8;
  id v26 = v16;
  char v27 = v13;
  id v17 = v12;
  id v18 = [v6 presentAlertWithConfigurationHandler:v24];
  if (!v18)
  {
    id v19 = PLSharingGetLog();
    if (os_log_type_enabled(v19, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_ERROR, "Failure Alert: Failed to present alert", buf, 2u);
    }

    (*((void (**)(id, void))v16 + 2))(v16, 0);
  }
}

void __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = PXLocalizedStringFromTable(@"PXCMMOpenInPhotosFailureAlertTitle", @"PhotosUICore");
  [v3 setTitle:v4];

  [v3 setMessage:*(void *)(a1 + 32)];
  id v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  void v9[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_2;
  v9[3] = &unk_1E5DD3128;
  id v10 = *(id *)(a1 + 40);
  [v3 addActionWithTitle:v5 style:0 action:v9];

  if (*(unsigned char *)(a1 + 48))
  {
    id v6 = PXLocalizedStringFromTable(@"PXTryAgainButtonTitle", @"PhotosUICore");
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    void v7[2] = __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_302;
    v7[3] = &unk_1E5DD3128;
    id v8 = *(id *)(a1 + 40);
    [v3 addActionWithTitle:v6 style:0 action:v7];
  }
}

uint64_t __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_2(uint64_t a1)
{
  id v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)uint64_t v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Failure Alert: User dismissed the alert requesting to NOT retry", v4, 2u);
  }

  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXMomentSharePresentRetryAlertForFetchFailure_block_invoke_302(uint64_t a1)
{
  id v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)uint64_t v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Failure Alert: User dismissed the alert requesting TO retry", v4, 2u);
  }

  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

id PXMenuItemTitleForTrashingMomentShares(void *a1)
{
  id v1 = a1;
  if (![v1 count])
  {
    id v7 = [MEMORY[0x1E4F28B00] currentHandler];
    id v8 = [NSString stringWithUTF8String:"NSString * _Nonnull PXMenuItemTitleForTrashingMomentShares(__strong id<PXFastEnumeration> _Nonnull)"];
    [v7 handleFailureInFunction:v8, @"PXMomentShareUtilities.m", 650, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];
  }
  long long v15 = 0uLL;
  _CountsOfMomentSharesByType(v1, (void *)&v15 + 1, &v15);
  unint64_t v2 = *((void *)&v15 + 1);
  uint64_t v3 = v15;
  if (v15 == 0)
  {
    int v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = [NSString stringWithUTF8String:"NSString * _Nonnull PXMenuItemTitleForTrashingMomentShares(__strong id<PXFastEnumeration> _Nonnull)"];
    [v9 handleFailureInFunction:v10, @"PXMomentShareUtilities.m", 654, @"Invalid parameter not satisfying: %@", @"countOfSent || countOfReceived" file lineNumber description];

    unint64_t v2 = *((void *)&v15 + 1);
    uint64_t v3 = v15;
    if (!*((void *)&v15 + 1)) {
      goto LABEL_10;
    }
  }
  else if (!*((void *)&v15 + 1))
  {
    goto LABEL_10;
  }
  if (!v3)
  {
    if (v2 >= 2)
    {
      uint64_t v4 = NSString;
      id v5 = PXLocalizedStringFromTable(@"PXCMMStopSharing_%lu_NumberOfICloudLinksFormat", @"PhotosUICore");
      objc_msgSend(v4, "localizedStringWithFormat:", v5, *((void *)&v15 + 1));
      int v13 = LABEL_12:;

      goto LABEL_15;
    }
    id v6 = @"PXCMMStopSharingICloudLink";
    goto LABEL_14;
  }
LABEL_10:
  uint64_t v11 = v3 + v2;
  if (v3 + v2 >= 2)
  {
    uint32_t v12 = NSString;
    id v5 = PXLocalizedStringFromTable(@"PXCMMRemove_%lu_NumberOfICloudLinksFormat", @"PhotosUICore");
    objc_msgSend(v12, "localizedStringWithFormat:", v5, v11);
    goto LABEL_12;
  }
  id v6 = @"PXCMMRemoveICloudLink";
LABEL_14:
  int v13 = PXLocalizedStringFromTable(v6, @"PhotosUICore");
LABEL_15:

  return v13;
}

void _CountsOfMomentSharesByType(void *a1, void *a2, void *a3)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (a2)
  {
    if (a3) {
      goto LABEL_3;
    }
  }
  else
  {
    int v13 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v14 = objc_msgSend(NSString, "stringWithUTF8String:", "void _CountsOfMomentSharesByType(__strong id<PXFastEnumeration>, NSUInteger *, NSUInteger *)");
    [v13 handleFailureInFunction:v14, @"PXMomentShareUtilities.m", 631, @"Invalid parameter not satisfying: %@", @"countOfSent" file lineNumber description];

    if (a3) {
      goto LABEL_3;
    }
  }
  long long v15 = [MEMORY[0x1E4F28B00] currentHandler];
  id v16 = objc_msgSend(NSString, "stringWithUTF8String:", "void _CountsOfMomentSharesByType(__strong id<PXFastEnumeration>, NSUInteger *, NSUInteger *)");
  [v15 handleFailureInFunction:v16, @"PXMomentShareUtilities.m", 632, @"Invalid parameter not satisfying: %@", @"countOfReceived" file lineNumber description];

LABEL_3:
  *a2 = 0;
  *a3 = 0;
  long long v17 = 0u;
  long long v18 = 0u;
  long long v19 = 0u;
  long long v20 = 0u;
  id v6 = v5;
  uint64_t v7 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = *(void *)v18;
    do
    {
      uint64_t v10 = 0;
      do
      {
        if (*(void *)v18 != v9) {
          objc_enumerationMutation(v6);
        }
        uint64_t v11 = objc_msgSend(*(id *)(*((void *)&v17 + 1) + 8 * v10), "px_momentShareType");
        uint32_t v12 = a2;
        if (v11)
        {
          if (v11 != 1) {
            goto LABEL_12;
          }
          uint32_t v12 = a3;
        }
        ++*v12;
LABEL_12:
        ++v10;
      }
      while (v8 != v10);
      uint64_t v8 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
    }
    while (v8);
  }
}

void PXTrashMomentShares(void *a1, void *a2, void *a3)
{
  uint64_t v40 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a3;
  id v7 = a2;
  if ([v5 count])
  {
    if (v7) {
      goto LABEL_3;
    }
  }
  else
  {
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    char v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXMomentShareUtilities.m", 675, @"Invalid parameter not satisfying: %@", @"momentShares.count" file lineNumber description];

    if (v7) {
      goto LABEL_3;
    }
  }
  __int16 v28 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXMomentShareUtilities.m", 676, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_3:
  long long v37 = 0uLL;
  _CountsOfMomentSharesByType(v5, (void *)&v37 + 1, &v37);
  uint64_t v8 = *((void *)&v37 + 1);
  uint64_t v9 = v37;
  if (v37 == 0)
  {
    __int16 v30 = [MEMORY[0x1E4F28B00] currentHandler];
    id v31 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXTrashMomentShares(__strong id<PXFastEnumeration> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v30 handleFailureInFunction:v31, @"PXMomentShareUtilities.m", 680, @"Invalid parameter not satisfying: %@", @"countOfSent || countOfReceived" file lineNumber description];

    uint64_t v8 = *((void *)&v37 + 1);
    uint64_t v9 = v37;
  }
  BOOL v10 = v9 == 0;
  if (v9) {
    uint64_t v11 = @"PXCMMStopSharingOrDeclineConfirmationButtonTitle";
  }
  else {
    uint64_t v11 = @"PXCMMStopSharingConfirmationButtonTitle";
  }
  uint32_t v12 = @"PXCMMStopSharingOrDeclineAlertMessage";
  if (v10) {
    uint32_t v12 = @"PXCMMStopSharingAlertMessage";
  }
  if (v8) {
    int v13 = v11;
  }
  else {
    int v13 = @"PXCMMDeclineSharingConfirmationButtonTitle";
  }
  if (v8) {
    long long v14 = v12;
  }
  else {
    long long v14 = @"PXCMMDeclineSharingAlertMessage";
  }
  long long v15 = PXLocalizedStringFromTable(v13, @"PhotosUICore");
  id v16 = PXLocalizedStringFromTable(v14, @"PhotosUICore");
  long long v17 = PLSharingGetLog();
  if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v18 = [v5 count];
    *(_DWORD *)long long buf = 134217984;
    uint64_t v39 = v18;
    _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_DEFAULT, "Will present confirmation alert for trashing %lu moment share(s)", buf, 0xCu);
  }

  v32[0] = MEMORY[0x1E4F143A8];
  v32[1] = 3221225472;
  v32[2] = __PXTrashMomentShares_block_invoke;
  v32[3] = &unk_1E5DD1730;
  id v19 = v15;
  id v33 = v19;
  id v20 = v16;
  id v34 = v20;
  id v21 = v5;
  id v35 = v21;
  id v22 = v6;
  id v36 = v22;
  long long v23 = [v7 presentAlertWithConfigurationHandler:v32];

  if (!v23)
  {
    __int16 v24 = PLSharingGetLog();
    if (os_log_type_enabled(v24, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v24, OS_LOG_TYPE_ERROR, "Failed to present the confirmation alert for trashing moment shares", buf, 2u);
    }

    if (v22)
    {
      id v25 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXCMMErrorDomain", -1002, @"Failed to present the confirmation alert for trashing moment shares");
      (*((void (**)(id, void, void *))v22 + 2))(v22, 0, v25);
    }
  }
}

void __PXTrashMomentShares_block_invoke(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void *)(a1 + 32);
  id v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(void *)(a1 + 40)];
  id v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v9[0] = MEMORY[0x1E4F143A8];
  v9[1] = 3221225472;
  void v9[2] = __PXTrashMomentShares_block_invoke_2;
  v9[3] = &unk_1E5DD3280;
  id v10 = *(id *)(a1 + 48);
  id v11 = *(id *)(a1 + 56);
  [v4 addActionWithTitle:v5 style:0 action:v9];

  id v6 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v7[0] = MEMORY[0x1E4F143A8];
  v7[1] = 3221225472;
  void v7[2] = __PXTrashMomentShares_block_invoke_3;
  v7[3] = &unk_1E5DD3128;
  id v8 = *(id *)(a1 + 56);
  [v4 addActionWithTitle:v6 style:1 action:v7];
}

void __PXTrashMomentShares_block_invoke_2(uint64_t a1)
{
  unint64_t v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "User confirmed trashing moment shares", buf, 2u);
  }

  v4[0] = MEMORY[0x1E4F143A8];
  v4[1] = 3221225472;
  v4[2] = __PXTrashMomentShares_block_invoke_337;
  void v4[3] = &unk_1E5DCDD58;
  uint64_t v3 = *(void **)(a1 + 32);
  void v4[4] = *(id *)(a1 + 40);
  _PXDeleteMomentShares(v3, 0, v4);
}

void __PXTrashMomentShares_block_invoke_3(uint64_t a1)
{
  unint64_t v2 = PLSharingGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "User dismissed the confirmation alert for trashing moment shares", v4, 2u);
  }

  if (*(void *)(a1 + 32))
  {
    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXCMMErrorDomain", 11, @"User dismissed the confirmation alert for trashing moment shares");
    (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
  }
}

void __PXTrashMomentShares_block_invoke_337(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  id v6 = *(void **)(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXTrashMomentShares_block_invoke_2_338;
    block[3] = &unk_1E5DD1758;
    id v9 = v6;
    char v10 = a2;
    id v8 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXTrashMomentShares_block_invoke_2_338(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

void _PropertiesForFailurePresentation(void *a1, int a2, void *a3, void *a4, void *a5)
{
  uint64_t v57 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a3;
  id v11 = a4;
  id v12 = a5;
  int v13 = (void (**)(void, void, void, void))v12;
  if (v9)
  {
    if (v12) {
      goto LABEL_3;
    }
  }
  else
  {
    unint64_t v44 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v45 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PropertiesForFailurePresentation(PHPhotoLibrary *__strong, BOOL, NSError *__strong, void (^ _Nullable __strong)(BOOL), void (^__strong)(NSString *__strong, NSString *__strong, NSArray<PXAlertAction *> *__strong))");
    [v44 handleFailureInFunction:v45, @"PXMomentShareUtilities.m", 729, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

    if (v13) {
      goto LABEL_3;
    }
  }
  double v46 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v47 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PropertiesForFailurePresentation(PHPhotoLibrary *__strong, BOOL, NSError *__strong, void (^ _Nullable __strong)(BOOL), void (^__strong)(NSString *__strong, NSString *__strong, NSArray<PXAlertAction *> *__strong))");
  [v46 handleFailureInFunction:v47, @"PXMomentShareUtilities.m", 730, @"Invalid parameter not satisfying: %@", @"resultsHandler" file lineNumber description];

LABEL_3:
  long long v14 = PXLocalizedStringFromTable(@"PXCMMGenericErrorTitle", @"PhotosUICore");
  id v15 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v49[0] = MEMORY[0x1E4F143A8];
  v49[1] = 3221225472;
  v49[2] = ___PropertiesForFailurePresentation_block_invoke;
  v49[3] = &unk_1E5DC0700;
  id v16 = v15;
  id v50 = v16;
  PXErrorRecoveryEnumerateOptionsForError(v10, v11, v49);
  id v17 = v16;
  uint64_t v18 = +[PXCompleteMyMomentSettings sharedInstance];
  int v19 = [v18 simulateMomentShareCreationError];

  if (v19)
  {
    id v20 = +[PXCompleteMyMomentSettings sharedInstance];
    unint64_t v21 = [v20 simulatedMomentShareCreationErrorType];

    id v22 = PLSharingGetLog();
    if (os_log_type_enabled(v22, OS_LOG_TYPE_DEFAULT))
    {
      if (v21 > 0xB) {
        long long v23 = 0;
      }
      else {
        long long v23 = *(&off_1E5DBD7E8 + v21);
      }
      id v24 = v23;
      *(_DWORD *)long long buf = 138543362;
      id v56 = v24;
      _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_DEFAULT, "Simulating moment share creation error (PXCompleteMyMomentSettings.simulatedMomentShareCreationErrorType): %{public}@", buf, 0xCu);
    }
  }
  else
  {
    unint64_t v21 = PXMomentShareTypeForError(v10);
  }
  switch(v21)
  {
    case 0uLL:
    case 3uLL:
    case 4uLL:
    case 0xBuLL:
      id v25 = @"PXCMMGenericErrorMessage";
      goto LABEL_13;
    case 1uLL:
      __int16 v28 = [v9 cplStatus];
      int v29 = [v28 isCellularRestricted];
      int v30 = [v28 isInAirplaneMode];
      if (a2 && v29)
      {
        uint64_t v48 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorTitle", @"PhotosUICore");

        id v26 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorMessage", @"PhotosUICore");
        id v31 = [PXAlertAction alloc];
        uint64_t v32 = PXLocalizedStringFromTable(@"PXCMMCellularRestrictedErrorManageButtonTitle", @"PhotosUICore");
        id v33 = [(PXAlertAction *)v31 initWithTitle:v32 style:0 action:&__block_literal_global_370];
        id v54 = v33;
        id v34 = (void *)MEMORY[0x1E4F1C978];
        id v35 = &v54;
        goto LABEL_33;
      }
      if ((a2 & v30) == 1)
      {
        uint64_t v48 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorTitle", @"PhotosUICore");

        id v26 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorMessage", @"PhotosUICore");
        unint64_t v42 = [PXAlertAction alloc];
        uint64_t v32 = PXLocalizedStringFromTable(@"PXCMMAirplaneModeErrorManageButtonTitle", @"PhotosUICore");
        id v33 = [(PXAlertAction *)v42 initWithTitle:v32 style:0 action:&__block_literal_global_382_161362];
        unint64_t v53 = v33;
        id v34 = (void *)MEMORY[0x1E4F1C978];
        id v35 = &v53;
        goto LABEL_33;
      }
      id v36 = @"PXNetworkErrorMessage";
      goto LABEL_35;
    case 2uLL:
      id v25 = @"PXCMMInvalidUrlErrorMessage";
      goto LABEL_13;
    case 5uLL:
      __int16 v28 = [v9 cplStatus];
      if ([v28 isExceedingQuota]
        && ([v28 isExceedingSharedLibraryQuota] & 1) == 0)
      {
        uint64_t v48 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaErrorTitle", @"PhotosUICore");

        id v26 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaErrorMessage", @"PhotosUICore");
        unint64_t v43 = [PXAlertAction alloc];
        uint64_t v32 = PXLocalizedStringFromTable(@"PXCMMCloudQuotaManageTitle", @"PhotosUICore");
        id v33 = [(PXAlertAction *)v43 initWithTitle:v32 style:0 action:&__block_literal_global_402];
        unint64_t v52 = v33;
        id v34 = (void *)MEMORY[0x1E4F1C978];
        id v35 = &v52;
LABEL_33:
        char v27 = [v34 arrayWithObjects:v35 count:1];

        long long v14 = (void *)v48;
      }
      else
      {
        id v36 = @"PXCMMQuotaErrorMessage";
LABEL_35:
        id v26 = PXLocalizedStringFromTable(v36, @"PhotosUICore");
        char v27 = v17;
      }

LABEL_37:
      ((void (**)(void, void *, void *, void *))v13)[2](v13, v14, v26, v27);

      return;
    case 6uLL:
      id v25 = @"PXCMMLibraryClosedErrorMessage";
      goto LABEL_13;
    case 7uLL:
      uint64_t v37 = PXLocalizedStringFromTable(@"PXCMMExitModeErrorTitle", @"PhotosUICore");

      uint64_t v38 = @"PXCMMExitModeErrorMessage";
      goto LABEL_26;
    case 8uLL:
      uint64_t v37 = PXLocalizedStringFromTable(@"PXCMMUnableToSendMessagesErrorTitle", @"PhotosUICore");

      uint64_t v38 = @"PXCMMUnableToSendMessagesErrorMessage";
LABEL_26:
      id v26 = PXLocalizedStringFromTable(v38, @"PhotosUICore");
      char v27 = v17;
      goto LABEL_29;
    case 9uLL:
      id v25 = @"PXCMMFeatureDisabledErrorMessage";
LABEL_13:
      id v26 = PXLocalizedStringFromTable(v25, @"PhotosUICore");
      goto LABEL_14;
    case 0xAuLL:
      uint64_t v37 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorTitle", @"PhotosUICore");

      id v26 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorMessage", @"PhotosUICore");
      uint64_t v39 = [PXAlertAction alloc];
      uint64_t v40 = PXLocalizedStringFromTable(@"PXCMMNeedsCloudNotAuthenticatedErrorGoToSettingsButtonTitle", @"PhotosUICore");
      uint64_t v41 = [(PXAlertAction *)v39 initWithTitle:v40 style:0 action:&__block_literal_global_416];
      uint64_t v51 = v41;
      char v27 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v51 count:1];

LABEL_29:
      long long v14 = (void *)v37;
      goto LABEL_37;
    default:
      id v26 = 0;
LABEL_14:
      char v27 = v17;
      goto LABEL_37;
  }
}

void PXMomentSharePresentFailureForAction(void *a1, int a2, void *a3, void *a4, void *a5)
{
  id v9 = a1;
  id v10 = a3;
  id v11 = a4;
  id v12 = a5;
  int v13 = [v10 domain];
  if (![v13 isEqualToString:@"PXCMMErrorDomain"])
  {

    goto LABEL_6;
  }
  uint64_t v14 = [v10 code];

  if (v14 != -1001)
  {
LABEL_6:
    v15[0] = MEMORY[0x1E4F143A8];
    v15[1] = 3221225472;
    v15[2] = __PXMomentSharePresentFailureForAction_block_invoke;
    v15[3] = &unk_1E5DC0748;
    id v18 = v12;
    id v16 = v10;
    id v17 = v11;
    _PropertiesForFailurePresentation(v9, a2, v16, v18, v15);

    goto LABEL_7;
  }
  if (v12) {
    (*((void (**)(id, void))v12 + 2))(v12, 0);
  }
LABEL_7:
}

void __PXMomentSharePresentFailureForAction_block_invoke(void *a1, void *a2, void *a3, void *a4)
{
  id v7 = a2;
  id v8 = a3;
  id v9 = a4;
  id v10 = (void *)a1[6];
  if (v10)
  {
    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXMomentSharePresentFailureForAction_block_invoke_2;
    aBlock[3] = &unk_1E5DD3128;
    id v16 = v10;
    id v11 = _Block_copy(aBlock);
  }
  else
  {
    id v11 = 0;
  }
  int v13 = (void *)a1[4];
  id v12 = (void *)a1[5];
  uint64_t v14 = PLSharingGetLog();
  PXConfigureAndPresentFailureAlert(v7, v8, v13, v12, v11, v14, v9, &__block_literal_global_434);
}

uint64_t __PXMomentSharePresentFailureForAction_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXMomentSharePresentFailureForAction_block_invoke_3(uint64_t a1, void *a2)
{
  id v2 = a2;
  [v2 setComponent:11];
  [v2 setClassification:7];
}

void PXMemoriesDeleteConfirmationAlertShow(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  uint64_t v8 = [v5 count];
  if (v8)
  {
    uint64_t v9 = v8;
    id v10 = [v5 firstObject];
    id v11 = [v10 photoLibrary];

    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke;
    aBlock[3] = &__block_descriptor_40_e28___NSString_16__0__NSString_8l;
    void aBlock[4] = v9;
    id v12 = _Block_copy(aBlock);
    if ([v11 isCloudPhotoLibraryEnabled]) {
      char v13 = [v11 isReadOnlyCloudPhotoLibrary] ^ 1;
    }
    else {
      char v13 = 0;
    }
    v18[0] = MEMORY[0x1E4F143A8];
    v18[1] = 3221225472;
    v18[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_2;
    v18[3] = &unk_1E5DC08F8;
    id v14 = v12;
    id v19 = v14;
    uint64_t v21 = v9;
    char v22 = v13;
    id v20 = v7;
    id v15 = _Block_copy(v18);
    if (v6) {
      id v16 = (id)[v6 presentAlertWithConfigurationHandler:v15];
    }
    else {
      id v17 = +[PXAlert show:v15];
    }
  }
  else
  {
    (*((void (**)(id, void))v7 + 2))(v7, 0);
  }
}

id __PXMemoriesDeleteConfirmationAlertShow_block_invoke(uint64_t a1, void *a2)
{
  id v2 = PXLocalizedStringFromTable(a2, @"PhotosUICore");
  uint64_t v3 = PXLocalizedStringWithValidatedFormat(v2, @"%ld");

  return v3;
}

void __PXMemoriesDeleteConfirmationAlertShow_block_invoke_2(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = [MEMORY[0x1E4FB16C8] currentDevice];
  objc_msgSend(v3, "setStyle:", objc_msgSend(v4, "userInterfaceIdiom") != 0);

  id v5 = (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
  [v3 setTitle:v5];

  id v6 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteThisMemoryCloudWarningMessage";
  id v7 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteTheseMemoriesCloudWarningMessage";
  if (!*(unsigned char *)(a1 + 56))
  {
    id v6 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteThisMemoryWarningMessage";
    id v7 = @"PXPhotoKitAssetActionManagerAlertActionConfirmDeleteTheseMemoriesWarningMessage";
  }
  if (*(void *)(a1 + 48) == 1) {
    uint64_t v8 = v6;
  }
  else {
    uint64_t v8 = v7;
  }
  uint64_t v9 = PXLocalizedStringFromTable(v8, @"PhotosUICore");
  [v3 setMessage:v9];
  id v10 = (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
  v14[0] = MEMORY[0x1E4F143A8];
  v14[1] = 3221225472;
  void v14[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_3;
  v14[3] = &unk_1E5DD3128;
  id v15 = *(id *)(a1 + 40);
  [v3 addActionWithTitle:v10 style:2 action:v14];

  id v11 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v12[0] = MEMORY[0x1E4F143A8];
  v12[1] = 3221225472;
  void v12[2] = __PXMemoriesDeleteConfirmationAlertShow_block_invoke_4;
  v12[3] = &unk_1E5DD3128;
  id v13 = *(id *)(a1 + 40);
  [v3 addActionWithTitle:v11 style:1 action:v12];
}

uint64_t __PXMemoriesDeleteConfirmationAlertShow_block_invoke_3(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXMemoriesDeleteConfirmationAlertShow_block_invoke_4(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void sub_1AAE39DC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,char a39)
{
  _Block_object_dispose(&a39, 8);
  _Block_object_dispose((const void *)(v39 - 200), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__162127(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__162128(uint64_t a1)
{
}

id _importGridLog()
{
  if (_importGridLog_onceToken != -1) {
    dispatch_once(&_importGridLog_onceToken, &__block_literal_global_162350);
  }
  id v0 = (void *)_importGridLog_sImportUILog;
  return v0;
}

void ___importGridLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Grid");
  id v1 = (void *)_importGridLog_sImportUILog;
  _importGridLog_sImportUILog = (uint64_t)v0;
}

id _importOneUpLog()
{
  if (_importOneUpLog_onceToken != -1) {
    dispatch_once(&_importOneUpLog_onceToken, &__block_literal_global_194);
  }
  os_log_t v0 = (void *)_importOneUpLog_sImportUILog;
  return v0;
}

void ___importOneUpLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-OneUp");
  id v1 = (void *)_importOneUpLog_sImportUILog;
  _importOneUpLog_sImportUILog = (uint64_t)v0;
}

id _importDataLog()
{
  if (_importDataLog_onceToken != -1) {
    dispatch_once(&_importDataLog_onceToken, &__block_literal_global_197);
  }
  os_log_t v0 = (void *)_importDataLog_sImportUILog;
  return v0;
}

void ___importDataLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Data");
  id v1 = (void *)_importDataLog_sImportUILog;
  _importDataLog_sImportUILog = (uint64_t)v0;
}

id _importDataSourceManagerLog()
{
  if (_importDataSourceManagerLog_onceToken != -1) {
    dispatch_once(&_importDataSourceManagerLog_onceToken, &__block_literal_global_200_162360);
  }
  os_log_t v0 = (void *)_importDataSourceManagerLog_sImportUILog;
  return v0;
}

void ___importDataSourceManagerLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-DataSourceManager");
  id v1 = (void *)_importDataSourceManagerLog_sImportUILog;
  _importDataSourceManagerLog_sImportUILog = (uint64_t)v0;
}

id _importControllerLog()
{
  if (_importControllerLog_onceToken != -1) {
    dispatch_once(&_importControllerLog_onceToken, &__block_literal_global_203_162363);
  }
  os_log_t v0 = (void *)_importControllerLog_sImportUILog;
  return v0;
}

void ___importControllerLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-Controller");
  id v1 = (void *)_importControllerLog_sImportUILog;
  _importControllerLog_sImportUILog = (uint64_t)v0;
}

id _importMediaProviderLog()
{
  if (_importMediaProviderLog_onceToken != -1) {
    dispatch_once(&_importMediaProviderLog_onceToken, &__block_literal_global_206_162368);
  }
  os_log_t v0 = (void *)_importMediaProviderLog_sImportUILog;
  return v0;
}

void ___importMediaProviderLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-MediaProvider");
  id v1 = (void *)_importMediaProviderLog_sImportUILog;
  _importMediaProviderLog_sImportUILog = (uint64_t)v0;
}

uint64_t _importToAlbumLog()
{
  return 0;
}

uint64_t _importMediaCoordinatorLog()
{
  return 0;
}

id _importActionCoordinatorLog()
{
  if (_importActionCoordinatorLog_onceToken != -1) {
    dispatch_once(&_importActionCoordinatorLog_onceToken, &__block_literal_global_209_162371);
  }
  os_log_t v0 = (void *)_importActionCoordinatorLog_sImportUILog;
  return v0;
}

void ___importActionCoordinatorLog_block_invoke()
{
  os_log_t v0 = os_log_create("com.apple.Photos.ImportUI", "ImportUI-ActionCoordinator");
  id v1 = (void *)_importActionCoordinatorLog_sImportUILog;
  _importActionCoordinatorLog_sImportUILog = (uint64_t)v0;
}

id PXImportSuffixForItems(void *a1)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  long long v12 = 0u;
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  id v1 = a1;
  uint64_t v2 = [v1 countByEnumeratingWithState:&v12 objects:v17 count:16];
  if (v2)
  {
    uint64_t v3 = v2;
    unsigned int v4 = 0;
    uint64_t v5 = *(void *)v13;
    while (1)
    {
      uint64_t v6 = 0;
      unsigned int v7 = v4;
      do
      {
        if (*(void *)v13 != v5) {
          objc_enumerationMutation(v1);
        }
        uint64_t v8 = *(void **)(*((void *)&v12 + 1) + 8 * v6);
        if (objc_msgSend(v8, "isImage", (void)v12))
        {
          unsigned int v4 = 1;
          if (!v7) {
            goto LABEL_14;
          }
        }
        else
        {
          if ([v8 isMovie]) {
            unsigned int v4 = 2;
          }
          else {
            unsigned int v4 = 3;
          }
          if (!v7) {
            goto LABEL_14;
          }
        }
        if (v4 != v7) {
          goto LABEL_17;
        }
LABEL_14:
        ++v6;
        unsigned int v7 = v4;
      }
      while (v3 != v6);
      uint64_t v3 = [v1 countByEnumeratingWithState:&v12 objects:v17 count:16];
      if (!v3) {
        goto LABEL_18;
      }
    }
  }
LABEL_17:
  unsigned int v4 = 3;
LABEL_18:

  v16[0] = xmmword_1E5DC0A70;
  v16[1] = *(_OWORD *)off_1E5DC0A80;
  id v9 = *((id *)v16 + v4);
  for (uint64_t i = 24; i != -8; i -= 8)

  return v9;
}

uint64_t PXImportImageSizeForType(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 2) {
    return 160;
  }
  else {
    return qword_1AB35B1B0[a1 - 1];
  }
}

__CFString *PXImportImageRequestSizeDebugDescription(unint64_t a1)
{
  if (a1 >= 4)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Unknown (%lu)", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DC0A90[a1];
  }
  return v1;
}

id PXImportLocalizedDescriptionForImportException(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    unsigned int v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"NSString *PXImportLocalizedDescriptionForImportException(PHImportException *__strong)"];
    [v7 handleFailureInFunction:v8, @"PXImportCommon.m", 225, @"Invalid parameter not satisfying: %@", @"importException" file lineNumber description];
  }
  [v1 type];
  uint64_t v2 = @"PXImportExceptionUnknown";
  switch((unint64_t)@"PXImportExceptionUnknown")
  {
    case 0uLL:
      goto LABEL_15;
    case 1uLL:
      uint64_t v2 = @"PXImportExceptionUnsupported";
      goto LABEL_15;
    case 2uLL:
      uint64_t v2 = @"PXImportExceptionNoMetadata";
      goto LABEL_15;
    case 3uLL:
      uint64_t v2 = @"PXImportExceptionSourceWentAway";
      goto LABEL_15;
    case 4uLL:
      uint64_t v2 = @"PXImportExceptionDulicateBurstsNotSupported";
      goto LABEL_15;
    case 5uLL:
      uint64_t v2 = @"PXImportExceptionNotEnoughStorageSpace";
      goto LABEL_15;
    case 6uLL:
      uint64_t v2 = @"PXImportExceptionTypeNotCacheDeleteError";
      goto LABEL_15;
    case 7uLL:
      unsigned int v4 = [v1 underlyingError];
      uint64_t v5 = [v4 code];

      if ((unint64_t)(v5 - 6202) > 6) {
        uint64_t v2 = @"PXImportExceptionTypeLibraryImportUnknown";
      }
      else {
        uint64_t v2 = off_1E5DC0AB0[v5 - 6202];
      }
      goto LABEL_15;
    case 8uLL:
      uint64_t v2 = @"PXImportExceptionLegacyLibraryMissingOriginalsFolder";
LABEL_15:
      uint64_t v3 = PXLocalizedStringFromTable(v2, @"PhotosUICore");
      break;
    default:
      uint64_t v3 = 0;
      break;
  }

  return v3;
}

id PXImportBadgeViewForTypeAndSelectable(uint64_t a1, int a2)
{
  uint64_t v2 = 0;
  switch(a1)
  {
    case 0:
      if (a2)
      {
        uint64_t v2 = objc_msgSend(MEMORY[0x1E4FB1EB0], "px_circularGlyphViewWithName:backgroundColor:", @"checkmark.circle", 0);
      }
      else
      {
        uint64_t v2 = 0;
      }
      break;
    case 1:
      uint64_t v3 = (void *)MEMORY[0x1E4FB1EB0];
      uint64_t v4 = [MEMORY[0x1E4FB1618] systemBlueColor];
      goto LABEL_6;
    case 3:
      uint64_t v3 = (void *)MEMORY[0x1E4FB1EB0];
      uint64_t v4 = [MEMORY[0x1E4FB1618] systemGreenColor];
LABEL_6:
      uint64_t v5 = (void *)v4;
      uint64_t v6 = @"checkmark.circle";
      goto LABEL_8;
    case 4:
      uint64_t v3 = (void *)MEMORY[0x1E4FB1EB0];
      uint64_t v5 = [MEMORY[0x1E4FB1618] systemRedColor];
      uint64_t v6 = @"exclamationmark.circle";
LABEL_8:
      uint64_t v2 = objc_msgSend(v3, "px_circularGlyphViewWithName:backgroundColor:", v6, v5);

      break;
    default:
      break;
  }
  return v2;
}

void sub_1AAE3BD18(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE3C01C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE3C454(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
}

void sub_1AAE3C59C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE3CA74(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v13 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__162613(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__162614(uint64_t a1)
{
}

void sub_1AAE3CDE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v13 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE3D138(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE3D464(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t orientationForTransform(double *a1)
{
  uint64_t v1 = 0;
  for (uint64_t i = (double *)&qword_1AB35B1D8;
        vabdd_f64(*a1, *(i - 2)) >= 0.00999999978
     || vabdd_f64(a1[1], *(i - 1)) >= 0.00999999978
     || vabdd_f64(a1[2], *i) >= 0.00999999978
     || vabdd_f64(a1[3], i[1]) >= 0.00999999978;
        i += 6)
  {
    if (++v1 == 8) {
      return 0xFFFFFFFFLL;
    }
  }
  return orientationForTransform_kDegreeMapping[v1];
}

uint64_t angleForTransform(_OWORD *a1)
{
  long long v1 = a1[1];
  v4[0] = *a1;
  v4[1] = v1;
  v4[2] = a1[2];
  unsigned int v2 = orientationForTransform((double *)v4) - 1;
  if (v2 > 6) {
    return 0;
  }
  else {
    return dword_1AB35B368[v2];
  }
}

uint64_t PXVKImageOrientationFromPreferredTransform(_OWORD *a1)
{
  long long v1 = a1[1];
  v4[0] = *a1;
  v4[1] = v1;
  v4[2] = a1[2];
  unsigned int v2 = orientationForTransform((double *)v4) - 1;
  if (v2 > 6) {
    return 0;
  }
  else {
    return qword_1AB35B388[v2];
  }
}

void sub_1AAE3FC88(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 + 752), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE40040(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 256), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE403B8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE405F0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE40D64(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
  _Block_object_dispose((const void *)(v31 - 208), 8);
  _Block_object_dispose(&a31, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE41140(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE41DC4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE42380(_Unwind_Exception *a1)
{
}

void sub_1AAE42D50(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXMediaViewControllerEventTracker *PXMediaViewControllerEventTrackerCreate(void *a1)
{
  id v1 = a1;
  unsigned int v2 = [[PXMediaViewControllerEventTracker alloc] initWithViewName:v1];

  return v2;
}

__CFString *PXActionUserConfirmationDescription(unint64_t a1)
{
  if (a1 >= 5)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"?? (%ti)", a1);
    id v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v1 = off_1E5DC0E78[a1];
  }
  return v1;
}

uint64_t PXActionCanProceedWithUserConfirmation(unint64_t a1)
{
  return (a1 < 5) & (0x1Au >> a1);
}

__CFString *PXStoryProducerName(uint64_t a1)
{
  if (a1 <= 127)
  {
    if (a1 <= 15)
    {
      id v1 = @"Assets";
      switch(a1)
      {
        case 1:
          return v1;
        case 2:
          return @"AssetsDataSource";
        case 4:
          return @"PersistableRecipe";
        case 8:
          return @"PersistedSong";
        default:
          goto LABEL_27;
      }
    }
    switch(a1)
    {
      case 16:
        return @"CuratedSongs";
      case 32:
        return @"MovieHighlights";
      case 64:
        return @"InitialStyle";
    }
LABEL_27:
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"NSString *PXStoryProducerName(PXStoryProducer)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXStoryRecipeManager.m", 174, @"unexpected producer %lu", a1);

    abort();
  }
  if (a1 > 1023)
  {
    switch(a1)
    {
      case 1024:
        return @"AdditionalAutoEditDecisionLists";
      case 2048:
        return @"ChapterCollection";
      case 4096:
        return @"DetailedSaliency";
    }
    goto LABEL_27;
  }
  if (a1 == 128) {
    return @"AutoEditStyles";
  }
  if (a1 == 256) {
    return @"InitialDecisionList";
  }
  if (a1 != 512) {
    goto LABEL_27;
  }
  return @"AutoEditDecisionLists";
}

void sub_1AAE45C30(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE463A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location,char a25)
{
}

uint64_t __Block_byref_object_copy__164009(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__164010(uint64_t a1)
{
}

PXExpectation *_ProducerRequestBegin(void *a1, void *a2)
{
  id v3 = a1;
  if (v3)
  {
    uint64_t v4 = [PXExpectation alloc];
    uint64_t v5 = [v3 storyQueue];
    uint64_t v6 = [(PXExpectation *)v4 initWithQueue:v5, @"%@ request %s", v3, a2 labelFormat];

    objc_initWeak(&location, v3);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    v8[2] = ___ProducerRequestBegin_block_invoke;
    v8[3] = &unk_1E5DC11C0;
    objc_copyWeak(v9, &location);
    v9[1] = a2;
    [(PXExpectation *)v6 performWhenFulfilled:v8 timeout:10.0];
    objc_destroyWeak(v9);
    objc_destroyWeak(&location);
  }
  else
  {
    uint64_t v6 = 0;
  }

  return v6;
}

void sub_1AAE46548(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE46660(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

uint64_t _ProducerRequestEnd(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = [v3 creationDate];
  [v5 timeIntervalSinceReferenceDate];
  id v6 = (id)objc_msgSend(v4, "deliveredNowWithRequestTime:");
  char v7 = [v4 isDegraded];

  if (v7)
  {
    uint64_t v8 = 0;
  }
  else
  {
    [v3 fulfill];
    [v5 timeIntervalSinceNow];
    if (v9 >= -0.1) {
      uint64_t v8 = 1;
    }
    else {
      uint64_t v8 = 2;
    }
  }

  return v8;
}

void sub_1AAE46F30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id *location, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
  objc_destroyWeak(location);
  _Block_object_dispose(&a26, 8);
  objc_destroyWeak((id *)(v26 - 152));
  _Unwind_Resume(a1);
}

void sub_1AAE4707C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE47864(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE479C0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE480B4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE48210(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE49164(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location,char a25)
{
  objc_destroyWeak(v25);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a25, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE492C0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE499B8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE49B14(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4A23C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4A39C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4AAE8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4AC3C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4B3D0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4B52C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4BCC8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4BE24(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4C548(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4C6A4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4CD44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4CEA0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4D5A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE4F1A0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE4F2E4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE4F7C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE4F908(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE505E8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 200), 8);
  objc_destroyWeak((id *)(v1 - 152));
  _Unwind_Resume(a1);
}

void sub_1AAE50770(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

uint64_t _areFetchResultsEqual(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass() & 1) != 0 && (objc_opt_class(), (objc_opt_isKindOfClass()))
  {
    uint64_t v5 = [v3 count];
    if (v5 == [v4 count])
    {
      id v6 = [v3 fetchedObjectIDs];
      char v7 = [v4 fetchedObjectIDs];
      uint64_t v8 = [v6 isEqual:v7];
    }
    else
    {
      uint64_t v8 = 0;
    }
  }
  else if (v3 == v4)
  {
    uint64_t v8 = 1;
  }
  else
  {
    uint64_t v8 = [v3 isEqual:v4];
  }

  return v8;
}

id PXStoryProducersDescription(uint64_t a1)
{
  uint64_t v2 = (void *)[objc_alloc(MEMORY[0x1E4F28E78]) initWithString:@"["];
  v14[0] = 0;
  v14[1] = v14;
  void v14[2] = 0x2020000000;
  unint64_t v3 = 1;
  char v15 = 1;
  uint64_t v7 = MEMORY[0x1E4F143A8];
  uint64_t v8 = 3221225472;
  double v9 = __PXStoryProducersDescription_block_invoke;
  id v10 = &unk_1E5DC1198;
  uint64_t v12 = v14;
  uint64_t v13 = a1;
  id v4 = v2;
  id v11 = v4;
  char v16 = 0;
  do
  {
    ((void (*)(uint64_t *, unint64_t, char *))v9)(&v7, v3, &v16);
    if (v3 > 0xFFF) {
      break;
    }
    v3 *= 2;
  }
  while (!v16);
  objc_msgSend(v4, "appendString:", @"]", v7, v8);
  uint64_t v5 = (void *)[v4 copy];

  _Block_object_dispose(v14, 8);
  return v5;
}

void sub_1AAE54538(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXStoryProducersDescription_block_invoke(uint64_t a1, uint64_t a2)
{
  if ((a2 & ~*(void *)(a1 + 48)) == 0)
  {
    if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24)) {
      [*(id *)(a1 + 32) appendString:@","];
    }
    id v4 = *(void **)(a1 + 32);
    uint64_t v5 = PXStoryProducerName(a2);
    [v4 appendString:v5];

    *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 0;
  }
}

void sub_1AAE5611C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__164641(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__164642(uint64_t a1)
{
}

void sub_1AAE565C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE5699C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXSharedLibraryAssistantRulesTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_Title");
}

id PXSharedLibraryAssistantRulesSubtitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_Subtitle");
}

id PXSharedLibraryAssistantRulesTableHeader()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_TableHeader");
}

id PXSharedLibraryAssistantRulesShareEverythingTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_ShareEverything");
}

__CFString *PXSharedLibraryAssistantRulesShareEverythingSubtitle(void *a1)
{
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || a1[1] == 0x7FFFFFFFFFFFFFFFLL || a1[2] == 0x7FFFFFFFFFFFFFFFLL)
  {
    unint64_t v3 = @" ";
  }
  else
  {
    PLLocalizedCountDescription();
    unint64_t v3 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  return v3;
}

id PXSharedLibraryAssistantRuleNotNowButtonTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_ButtonTitle_NotNow");
}

id PXSharedLibraryAssistantDateSelectionTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_Title");
}

id PXSharedLibraryAssistantDateSelectionSubtitle(void *a1, uint64_t a2)
{
  id v3 = a1;
  uint64_t v4 = [v3 count];
  if (v4 >= 1)
  {
    BOOL v5 = v4 != 1 && a2 == 0;
    id v6 = @"SinglePerson";
    if (v5) {
      id v6 = @"MultiplePeople";
    }
    if (v4 == 2 && a2 > 0) {
      id v6 = @"TwoPeopleAndCount";
    }
    uint64_t v8 = NSString;
    double v9 = v6;
    id v10 = [v8 stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_%@_Subtitle", v9];
    id v11 = PXLocalizedSharedLibraryString(v10);

    int v12 = [(__CFString *)v9 isEqualToString:@"TwoPeopleAndCount"];
    if (v12)
    {
      uint64_t v13 = [v3 objectAtIndexedSubscript:0];
      char v16 = [v3 objectAtIndexedSubscript:1];
      uint64_t v14 = PXLocalizedStringWithValidatedFormat(v11, @"%@ %@ %lu");
    }
    else
    {
      uint64_t v13 = [MEMORY[0x1E4F28DF8] localizedStringByJoiningStrings:v3];
      uint64_t v14 = PXLocalizedStringWithValidatedFormat(v11, @"%@");
    }

    goto LABEL_18;
  }
  if (a2 >= 1)
  {
    id v11 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_Unnamed_Subtitle");
    uint64_t v14 = PXLocalizedStringWithValidatedFormat(v11, @"%lu");
LABEL_18:

    goto LABEL_19;
  }
  uint64_t v14 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_Subtitle");
LABEL_19:

  return v14;
}

id PXSharedLibraryAssistantDateSelectionPickerDetail()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_PickerDetail");
}

id PXSharedLibraryAssistantDateSelectionFooter(uint64_t *a1, void *a2, uint64_t a3, int a4)
{
  id v7 = a2;
  uint64_t v8 = v7;
  uint64_t v10 = *a1;
  uint64_t v9 = a1[1];
  uint64_t v11 = a1[2];
  if (*a1 == 0x7FFFFFFFFFFFFFFFLL || v9 == 0x7FFFFFFFFFFFFFFFLL || v11 == 0x7FFFFFFFFFFFFFFFLL) {
    goto LABEL_9;
  }
  uint64_t v16 = v9 + v10 + v11;
  if (v10 == v16)
  {
    char v15 = 0;
    uint64_t v14 = @"Photos";
    goto LABEL_16;
  }
  if (v9 == v16)
  {
    char v15 = 0;
    uint64_t v14 = @"Videos";
    uint64_t v10 = a1[1];
    goto LABEL_16;
  }
  if (v16 == 0x7FFFFFFFFFFFFFFFLL)
  {
LABEL_9:
    uint64_t v14 = 0;
    char v15 = 1;
    uint64_t v10 = 0x7FFFFFFFFFFFFFFFLL;
    goto LABEL_16;
  }
  char v15 = 0;
  uint64_t v14 = @"Items";
  uint64_t v10 = v16;
LABEL_16:
  uint64_t v17 = [v7 count];
  if (v17 >= 1)
  {
    uint64_t v18 = v17;
    id v19 = [MEMORY[0x1E4F28DF8] localizedStringByJoiningStrings:v8];
    BOOL v20 = v18 != 1 && a3 == 0;
    uint64_t v21 = @"SinglePerson";
    if (v20) {
      uint64_t v21 = @"MultiplePeople";
    }
    if (v18 == 2 && a3 > 0) {
      uint64_t v21 = @"TwoPeopleAndCount";
    }
    long long v23 = v21;
    if (v10)
    {
      if (v15)
      {
        id v24 = 0;
LABEL_66:

        goto LABEL_67;
      }
      uint64_t v32 = &stru_1F00B0030;
      if (a4) {
        uint64_t v32 = @"_Suggested";
      }
      id v33 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@%@_%@", v23, v32, v14];
      int v30 = PXLocalizedSharedLibraryString(v33);

      if (a4)
      {
        if ([(__CFString *)v23 isEqualToString:@"SinglePerson"])
        {
          uint64_t v31 = @"%@ %lu %@";
          goto LABEL_64;
        }
        if ([(__CFString *)v23 isEqualToString:@"MultiplePeople"])
        {
          uint64_t v31 = @"%@ %lu";
          goto LABEL_64;
        }
        if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
        {
          id v34 = [v8 objectAtIndexedSubscript:0];
          id v35 = [v8 objectAtIndexedSubscript:1];
          id v36 = @"%@ %@ %lu %lu";
          goto LABEL_73;
        }
      }
      if (([(__CFString *)v23 isEqualToString:@"SinglePerson"] & 1) != 0
        || [(__CFString *)v23 isEqualToString:@"MultiplePeople"])
      {
        uint64_t v31 = @"%lu %@";
        goto LABEL_64;
      }
      if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
      {
        id v34 = [v8 objectAtIndexedSubscript:0];
        id v35 = [v8 objectAtIndexedSubscript:1];
        id v36 = @"%lu %@ %@ %lu";
        goto LABEL_73;
      }
    }
    else
    {
      uint64_t v29 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@_Empty", v23];
      int v30 = PXLocalizedSharedLibraryString(v29);

      if (([(__CFString *)v23 isEqualToString:@"SinglePerson"] & 1) != 0
        || [(__CFString *)v23 isEqualToString:@"MultiplePeople"])
      {
        uint64_t v31 = @"%@";
LABEL_64:
        id v24 = PXLocalizedStringWithValidatedFormat(v30, v31);
LABEL_65:

        goto LABEL_66;
      }
      if ([(__CFString *)v23 isEqualToString:@"TwoPeopleAndCount"])
      {
        id v34 = [v8 objectAtIndexedSubscript:0];
        id v35 = [v8 objectAtIndexedSubscript:1];
        id v36 = @"%@ %@ %lu";
LABEL_73:
        id v24 = PXLocalizedStringWithValidatedFormat(v30, v36);

        goto LABEL_65;
      }
    }
    id v24 = 0;
    goto LABEL_65;
  }
  if (a3 < 1)
  {
    if (!v10)
    {
      id v24 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_FooterEmpty");
      goto LABEL_68;
    }
    if ((v15 & 1) == 0)
    {
      uint64_t v37 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@", v14];
      uint64_t v38 = PXLocalizedSharedLibraryString(v37);

      id v24 = PXLocalizedStringWithValidatedFormat(v38, @"%lu");

      goto LABEL_68;
    }
    goto LABEL_50;
  }
  if (v10)
  {
    if ((v15 & 1) == 0)
    {
      id v25 = &stru_1F00B0030;
      uint64_t v26 = @"MultipleUnnamed";
      if (a3 == 1) {
        uint64_t v26 = @"SingleUnnamed";
      }
      if (a4) {
        id v25 = @"_Suggested";
      }
      char v27 = @"Unnamed";
      if (a4) {
        char v27 = v26;
      }
      __int16 v28 = [NSString stringWithFormat:@"PXSharedLibraryAssistant_DateSelection_FooterFormat_%@%@_%@", v27, v25, v14];
      id v19 = PXLocalizedSharedLibraryString(v28);

      uint64_t v39 = @"%lu %lu";
      uint64_t v40 = v19;
      goto LABEL_58;
    }
LABEL_50:
    id v24 = 0;
    goto LABEL_68;
  }
  uint64_t v40 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_DateSelection_FooterFormat_Unnamed_Empty");
  id v19 = v40;
  uint64_t v39 = @"%lu";
LABEL_58:
  id v24 = PXLocalizedStringWithValidatedFormat(v40, v39);
LABEL_67:

LABEL_68:
  return v24;
}

id PXSharedLibraryAssistantPeopleSelectionTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_PeopleSelection_Title");
}

id PXSharedLibraryAssistantPeopleSelectionSubtitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_PeopleSelection_Subtitle");
}

id PXSharedLibraryAssistantPeopleSelectionFooterTitleWhileUpdating(void *a1, uint64_t a2)
{
  id v3 = a1;
  uint64_t v4 = [v3 count];
  if (!a2)
  {
    if (v4 == 1) {
      uint64_t v8 = @"PXSharedLibraryAssistant_Rules_FindingMomentsWith_SinglePerson_%@";
    }
    else {
      uint64_t v8 = @"PXSharedLibraryAssistant_Rules_FindingMomentsWith_MultiplePeople_%@";
    }
    BOOL v5 = PXLocalizedSharedLibraryString(v8);
    id v6 = [MEMORY[0x1E4F28DF8] localizedStringByJoiningStrings:v3];
    id v7 = PXLocalizedStringWithValidatedFormat(v5, @"%@");
    goto LABEL_8;
  }
  if (v4 == 2)
  {
    BOOL v5 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_FindingMomentsWith_TwoPeopleAndCount");
    id v6 = [v3 objectAtIndexedSubscript:0];
    uint64_t v10 = [v3 objectAtIndexedSubscript:1];
    id v7 = PXLocalizedStringWithValidatedFormat(v5, @"%@ %@ %lu");

LABEL_8:
    goto LABEL_10;
  }
  BOOL v5 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_FindingMomentsWith_CountOnly");
  [v3 count];
  id v7 = PXLocalizedStringWithValidatedFormat(v5, @"%lu");
LABEL_10:

  return v7;
}

id PXSharedLibraryAssistantPeopleSelectionFooterTitle(void *a1, uint64_t a2)
{
  id v3 = a1;
  uint64_t v4 = [v3 count];
  if (!a2)
  {
    if (v4 == 1) {
      uint64_t v8 = @"PXSharedLibraryAssistant_OnePersonSelection_FooterFormat_Items";
    }
    else {
      uint64_t v8 = @"PXSharedLibraryAssistant_PeopleSelection_FooterFormat_Items";
    }
    BOOL v5 = PXLocalizedSharedLibraryString(v8);
    id v6 = [MEMORY[0x1E4F28DF8] localizedStringByJoiningStrings:v3];
    id v7 = @"%lu %@";
    goto LABEL_9;
  }
  if (v4 == 2)
  {
    BOOL v5 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_TwoPeopleAndCountSelection_FooterFormat_Items");
    id v6 = [v3 objectAtIndexedSubscript:0];
    uint64_t v11 = [v3 objectAtIndexedSubscript:1];
    uint64_t v9 = PXLocalizedStringWithValidatedFormat(v5, @"%lu %@ %@ %lu");

    goto LABEL_11;
  }
  if (v4 == 1)
  {
    BOOL v5 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_OnePersonAndCountSelection_FooterFormat_Items");
    id v6 = [v3 objectAtIndexedSubscript:0];
    id v7 = @"%lu %@ %lu";
LABEL_9:
    uint64_t v9 = PXLocalizedStringWithValidatedFormat(v5, v7);
LABEL_11:

    goto LABEL_13;
  }
  BOOL v5 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CountOnlySelection_FooterFormat_Items");
  uint64_t v9 = PXLocalizedStringWithValidatedFormat(v5, @"%lu %lu");
LABEL_13:

  return v9;
}

uint64_t PXSharedLibraryAssistantRulesStartDateDetail(uint64_t a1)
{
  return [MEMORY[0x1E4F28C10] localizedStringFromDate:a1 dateStyle:2 timeStyle:0];
}

id PXSharedLibraryAssistantRulesPeopleDetail()
{
  os_log_t v0 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_PersonCountFormat");
  uint64_t v1 = PXLocalizedStringWithValidatedFormat(v0, @"%lu");

  return v1;
}

id PXSharedLibraryAssistantCustomizeRulesExcludingFromStartDate(uint64_t a1)
{
  if (a1) {
    [MEMORY[0x1E4F28C10] localizedStringFromDate:a1 dateStyle:2 timeStyle:0];
  }
  else {
  uint64_t v1 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludeAll");
  }
  return v1;
}

id PXSharedLibraryAssistantCustomizeRulesIncludingNumberOfPersons(uint64_t a1)
{
  if (a1)
  {
    uint64_t v1 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludingPersonFormat");
    uint64_t v2 = PXLocalizedStringWithValidatedFormat(v1, @"%lu");
  }
  else
  {
    uint64_t v2 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_CustomizeRules_IncludeAll");
  }
  return v2;
}

id PXSharedLibraryAssistantRulesListViewItems(int a1)
{
  v11[3] = *MEMORY[0x1E4F143B8];
  uint64_t v1 = @"PXSharedLibraryAssistant_Rules_ChooseDateOnly";
  if (a1) {
    uint64_t v1 = @"PXSharedLibraryAssistant_Rules_ChoosePeopleDate";
  }
  uint64_t v2 = v1;
  id v3 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_ShareEverything");
  uint64_t v4 = +[PXAssistantListViewItem ruleItemWithTag:1 title:v3 subtitle:0 detail:0 systemImageName:@"photo.on.rectangle" enabled:1];
  BOOL v5 = PXLocalizedSharedLibraryString(v2);

  id v6 = +[PXAssistantListViewItem ruleItemWithTag:2, v5, 0, 0, @"checklist", 1, v4 title subtitle detail systemImageName enabled];
  v11[1] = v6;
  id v7 = PXLocalizedSharedLibraryString(@"PXSharedLibraryAssistant_Rules_ShareManually");
  uint64_t v8 = +[PXAssistantListViewItem ruleItemWithTag:3 title:v7 subtitle:0 detail:0 systemImageName:@"rectangle.badge.checkmark" enabled:1];
  void v11[2] = v8;
  uint64_t v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v11 count:3];

  return v9;
}

uint64_t PXSharedLibraryAssistantRulesAutoSharePolicyForStartDateOrPersonUUIDs(uint64_t a1, void *a2)
{
  if (a1) {
    return 2;
  }
  else {
    return 2 * (objc_msgSend(a2, "count", v2, v3) != 0);
  }
}

__CFString *PXOneUpPresentationOriginDescription(unint64_t a1)
{
  if (a1 > 0x2E) {
    return 0;
  }
  else {
    return off_1E5DC1358[a1];
  }
}

uint64_t PXOneUpPresentationOriginForAssetCollection(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 assetCollectionType];
  uint64_t v3 = [v1 assetCollectionSubtype];

  switch(v2)
  {
    case 1:
      uint64_t v5 = 6;
      if (v3 != 101) {
        uint64_t v5 = 0;
      }
      if (v3 == 1000000001) {
        uint64_t v6 = 4;
      }
      else {
        uint64_t v6 = v5;
      }
      if (v3 == 2) {
        return 9;
      }
      else {
        return v6;
      }
    case 9:
      return 10;
    case 2:
      if (v3 <= 208)
      {
        if (v3 == 203) {
          return 5;
        }
        if (v3 == 205) {
          return 11;
        }
      }
      else
      {
        switch(v3)
        {
          case 209:
            return 4;
          case 1000000201:
            return 12;
          case 1000000203:
            return 7;
        }
      }
      return 8;
    default:
      return 0;
  }
}

uint64_t PXStoryTitleInternationalStyleAppliedToAttributedString(void *a1)
{
  id v1 = a1;
  if ([v1 length])
  {
    uint64_t v2 = [v1 attributesAtIndex:0 effectiveRange:0];
    uint64_t v3 = [v2 valueForKey:*MEMORY[0x1E4FB0810]];
    char v4 = [v3 isEqual:MEMORY[0x1E4F1CC38]];

    if (v4)
    {
      uint64_t v5 = 1;
    }
    else
    {
      uint64_t v6 = [v2 valueForKey:*MEMORY[0x1E4FB0738]];
      if ([v6 spansAllLines]) {
        uint64_t v5 = 2;
      }
      else {
        uint64_t v5 = 0;
      }
    }
  }
  else
  {
    uint64_t v5 = 0;
  }

  return v5;
}

void PXStoryTitleInternationalStyleRegisterPreferencesObserver(void *a1)
{
  id observer = a1;
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterAddObserver(DarwinNotifyCenter, observer, (CFNotificationCallback)_handlePreferenceChanged_165920, (CFStringRef)*MEMORY[0x1E4FB9248], 0, (CFNotificationSuspensionBehavior)1028);
}

void _handlePreferenceChanged_165920(uint64_t a1, void *a2)
{
  id v3 = objc_initWeak(&location, a2);

  if (a2)
  {
    objc_copyWeak(&v4, &location);
    px_dispatch_on_main_queue();
  }
  objc_destroyWeak(&location);
}

void sub_1AAE5ADE0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void ___handlePreferenceChanged_block_invoke_165921(uint64_t a1)
{
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 32));
  [WeakRetained internationalStyleTitlePreferencesDidChange];
}

void PXStoryTitleInternationalStyleUnregisterPreferencesObserver(void *a1)
{
  id observer = a1;
  DarwinNotifyCenter = CFNotificationCenterGetDarwinNotifyCenter();
  CFNotificationCenterRemoveObserver(DarwinNotifyCenter, observer, (CFNotificationName)*MEMORY[0x1E4FB9248], 0);
}

void PXUnregisterAppIntentsViewAnnotationDelegate(void *a1)
{
  id v1 = a1;
  id v4 = v1;
  if (!v1)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void PXUnregisterAppIntentsViewAnnotationDelegate(__strong id<PXAppIntentsViewAnnotationDelegate> _Nonnull)"];
    [v2 handleFailureInFunction:v3, @"PXAppIntentsUtilities.m", 36, @"Invalid parameter not satisfying: %@", @"delegate" file lineNumber description];

    id v1 = 0;
  }
  +[PXRepresentedEntityProviderWrapper unregisterAppIntentsViewAnnotationDelegate:v1];
}

uint64_t PXAppIntentsEngagementDonateSearchEvent()
{
  return +[PXAppIntentsEngagementCompatibility donateSearchEvent];
}

void sub_1AAE5D0CC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXStoryProducerRequestOptionsDescription(uint64_t a1)
{
  uint64_t v2 = (void *)[objc_alloc(MEMORY[0x1E4F28E78]) initWithString:@"["];
  v11[0] = 0;
  v11[1] = v11;
  void v11[2] = 0x2020000000;
  char v12 = 1;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXStoryProducerRequestOptionsDescription_block_invoke;
  aBlock[3] = &unk_1E5DC15F0;
  uint64_t v9 = v11;
  uint64_t v10 = a1;
  id v3 = v2;
  id v8 = v3;
  id v4 = (void (**)(void *, uint64_t, __CFString *))_Block_copy(aBlock);
  v4[2](v4, 1, @"InitialSynchronousDeliveryRequired");
  v4[2](v4, 2, @"SingleDeliveryPreferred");
  v4[2](v4, 4, @"SingleDeliveryRequired");
  v4[2](v4, 8, @"VerboseDebugInfo");
  [v3 appendString:@"]"];
  uint64_t v5 = (void *)[v3 copy];

  _Block_object_dispose(v11, 8);
  return v5;
}

void sub_1AAE5FF4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXStoryProducerRequestOptionsDescription_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  uint64_t v6 = v5;
  if ((a2 & ~*(void *)(a1 + 48)) == 0)
  {
    uint64_t v7 = *(void *)(*(void *)(a1 + 40) + 8);
    id v8 = v5;
    if (*(unsigned char *)(v7 + 24)) {
      *(unsigned char *)(v7 + 24) = 0;
    }
    else {
      [*(id *)(a1 + 32) appendString:@","];
    }
    [*(id *)(a1 + 32) appendString:v8];
    uint64_t v6 = v8;
  }
}

void sub_1AAE6210C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE62FE4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAE66578(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE66774(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE68A3C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE69150(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose(&a27, 8);
  _Block_object_dispose((const void *)(v27 - 160), 8);
  _Block_object_dispose((const void *)(v27 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__168284(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__168285(uint64_t a1)
{
}

void sub_1AAE6945C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PLAssetFetchResultProviderGetLog()
{
  if (PLAssetFetchResultProviderGetLog_predicate != -1) {
    dispatch_once(&PLAssetFetchResultProviderGetLog_predicate, &__block_literal_global_168291);
  }
  os_log_t v0 = (void *)PLAssetFetchResultProviderGetLog_log;
  return v0;
}

void __PLAssetFetchResultProviderGetLog_block_invoke()
{
  os_log_t v0 = os_log_create((const char *)*MEMORY[0x1E4F8A240], "AssetFetchResultProvider");
  uint64_t v1 = (void *)PLAssetFetchResultProviderGetLog_log;
  PLAssetFetchResultProviderGetLog_log = (uint64_t)v0;
}

void sub_1AAE69A58(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAE6A294(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAE70338(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31)
{
}

unint64_t PXCuratedLibraryOverlayButtonStyleWithDarkVariant(unint64_t result)
{
  if (result <= 0xA && ((0x555u >> result) & 1) != 0) {
    return qword_1AB35B460[result];
  }
  return result;
}

void sub_1AAE72340(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__169022(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__169023(uint64_t a1)
{
}

id getMFMailComposeViewControllerClass_169299()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  os_log_t v0 = (void *)getMFMailComposeViewControllerClass_softClass_169350;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_169350;
  if (!getMFMailComposeViewControllerClass_softClass_169350)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getMFMailComposeViewControllerClass_block_invoke_169351;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_169351((uint64_t)v3);
    os_log_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAE73EC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_169351(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_169352)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    v6[3] = __MessageUILibraryCore_block_invoke_169353;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DC1988;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_169352 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_169352)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSettingsHighlightEstimatesExportViewController.m", 21, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSettingsHighlightEstimatesExportViewController.m", 22, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_169350 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_169353()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_169352 = result;
  return result;
}

void sub_1AAE744DC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAE74604(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE75D98(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__169875(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__169876(uint64_t a1)
{
}

void sub_1AAE7742C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAE78860(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location)
{
  _Block_object_dispose((const void *)(v21 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__170392(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__170393(uint64_t a1)
{
}

void sub_1AAE7FA34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsMessageIdentifierKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupOptionsMessageIdentifierKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsMessageIdentifierKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                             + 24);
  return result;
}

void *StoreKitLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!StoreKitLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __StoreKitLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DC1B68;
    uint64_t v6 = 0;
    StoreKitLibraryCore_frameworkLibrardouble y = _sl_dlopen();
  }
  os_log_t v0 = (void *)StoreKitLibraryCore_frameworkLibrary;
  if (!StoreKitLibraryCore_frameworkLibrary)
  {
    os_log_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *StoreKitLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"StoreKit+PhotosUICore.m", 16, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __StoreKitLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  StoreKitLibraryCore_frameworkLibrardouble y = result;
  return result;
}

void sub_1AAE7FDB4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsCampaignTokenKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupOptionsCampaignTokenKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsCampaignTokenKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AAE7FF6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsAffiliateTokenKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupOptionsAffiliateTokenKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsAffiliateTokenKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                          + 24);
  return result;
}

void sub_1AAE80124(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsITunesItemIdentifierKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupOptionsITunesItemIdentifierKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsITunesItemIdentifierKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                                + 24);
  return result;
}

void sub_1AAE802DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupOptionsActionKeySymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupOptionsActionKey");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupOptionsActionKeySymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AAE80494(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierPlayMusicSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierPlayMusic");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierPlayMusicSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                            + 24);
  return result;
}

void sub_1AAE8064C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierAddMusicSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierAddMusic");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierAddMusicSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                           + 24);
  return result;
}

void sub_1AAE80804(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierConnectSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierConnect");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierConnectSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8)
                                                                          + 24);
  return result;
}

void sub_1AAE809BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupMessageIdentifierJoinSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupMessageIdentifierJoin");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupMessageIdentifierJoinSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void sub_1AAE80B74(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getSKCloudServiceSetupActionSubscribeSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = StoreKitLibrary();
  uint64_t result = dlsym(v2, "SKCloudServiceSetupActionSubscribe");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getSKCloudServiceSetupActionSubscribeSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

id PXConstructSKCloudServiceSetupViewController()
{
  uint64_t v5 = 0;
  uint64_t v6 = &v5;
  uint64_t v7 = 0x2050000000;
  os_log_t v0 = (void *)getSKCloudServiceSetupViewControllerClass_softClass;
  uint64_t v8 = getSKCloudServiceSetupViewControllerClass_softClass;
  if (!getSKCloudServiceSetupViewControllerClass_softClass)
  {
    v4[0] = MEMORY[0x1E4F143A8];
    v4[1] = 3221225472;
    v4[2] = __getSKCloudServiceSetupViewControllerClass_block_invoke;
    _OWORD v4[3] = &unk_1E5DD2B08;
    void v4[4] = &v5;
    __getSKCloudServiceSetupViewControllerClass_block_invoke((uint64_t)v4);
    os_log_t v0 = (void *)v6[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v5, 8);
  id v2 = objc_alloc_init(v1);
  return v2;
}

void sub_1AAE80CAC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getSKCloudServiceSetupViewControllerClass_block_invoke(uint64_t a1)
{
  StoreKitLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("SKCloudServiceSetupViewController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getSKCloudServiceSetupViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getSKCloudServiceSetupViewControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"StoreKit+PhotosUICore.m", 34, @"Unable to find class %s", "SKCloudServiceSetupViewController");

    __break(1u);
  }
}

void sub_1AAE863EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v11 - 64), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__173023(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__173024(uint64_t a1)
{
}

void sub_1AAE86698(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

Class PXSearchViewGetSwiftFactoryClass()
{
  return NSClassFromString(&cfstr_Pxphotosdetail_28.isa);
}

void sub_1AAE8707C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__173174(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__173175(uint64_t a1)
{
}

double _interiorPointForCorner(uint64_t a1, double result, double a3, double a4)
{
  switch(a1)
  {
    case 1:
      double v4 = a3 + a4;
      goto LABEL_6;
    case 2:
      uint64_t result = a4 - result;
      break;
    case 4:
      uint64_t result = result + a4;
      break;
    case 8:
      double v4 = a4 - a3;
LABEL_6:
      uint64_t result = v4;
      break;
    default:
      return result;
  }
  return result;
}

void sub_1AAE8B15C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE8BDE8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, id a17)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a17);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__173696(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__173697(uint64_t a1)
{
}

id PXSharedLibraryReplyAssistantTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Title");
}

id PXSharedLibraryReplyAssistantAttributedSubtitle(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a3;
  id v7 = a2;
  uint64_t v8 = PXSharedLibraryFullNameForParticipant(v5);
  uint64_t v9 = PXSharedLibraryShortNameForParticipant(v5);
  if (![v9 length])
  {
    id v10 = v8;

    uint64_t v9 = v10;
  }
  if ([v8 length])
  {
    uint64_t v11 = [v5 emailAddress];
    if ([v8 isEqualToString:v11])
    {
      int v12 = 0;
    }
    else
    {
      uint64_t v13 = [v5 phoneNumber];
      int v12 = [v8 isEqualToString:v13] ^ 1;
    }
  }
  else
  {
    int v12 = 0;
  }
  uint64_t v14 = [v5 emailAddress];
  uint64_t v15 = [v14 length];

  uint64_t v16 = [v5 phoneNumber];
  uint64_t v17 = v15 | [v16 length];

  BOOL v18 = v17 == 0;
  if (v15) {
    [v5 emailAddress];
  }
  else {
  id v19 = [v5 phoneNumber];
  }
  if ((v12 ^ 1 | v18))
  {
    if (v12)
    {
      BOOL v20 = PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_Name_Format");
      uint64_t v21 = v20;
      uint64_t v26 = v8;
      uint64_t v27 = v9;
      char v22 = @"%@ %@";
    }
    else
    {
      if (v18)
      {
        long long v23 = PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle");
        goto LABEL_20;
      }
      BOOL v20 = PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_Email_Format");
      uint64_t v21 = v20;
      uint64_t v26 = v19;
      char v22 = @"%@";
    }
  }
  else
  {
    BOOL v20 = PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_Subtitle_NameAndEmail_Format");
    uint64_t v21 = v20;
    uint64_t v27 = v19;
    __int16 v28 = v9;
    uint64_t v26 = v8;
    char v22 = @"%@ %@ %@";
  }
  long long v23 = PXLocalizedStringWithValidatedFormat(v20, v22);

LABEL_20:
  id v24 = objc_msgSend(MEMORY[0x1E4F28B18], "px_attributedStringWithHTMLString:defaultAttributes:emphasizedAttributes:", v23, v7, v6, v26, v27, v28);

  return v24;
}

id PXSharedLibraryReplyAssistantStartButtonTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_ButtonTitle_Start");
}

id PXSharedLibraryReplyAssistantDeclineButtonTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_ButtonTitle_Decline");
}

id PXSharedLibraryReplyAssistantReviewTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_ReviewTitle");
}

id PXSharedLibraryReplyAssistantReviewSubtitle(char **a1, void *a2)
{
  id v3 = a2;
  double v4 = PXSharedLibraryFullNameForParticipant(v3);
  if ([v4 length])
  {
    id v5 = [v3 emailAddress];
    if ([v4 isEqualToString:v5])
    {
      int v6 = 0;
    }
    else
    {
      id v7 = [v3 phoneNumber];
      int v6 = [v4 isEqualToString:v7] ^ 1;
    }
  }
  else
  {
    int v6 = 0;
  }
  uint64_t v8 = [v3 emailAddress];
  uint64_t v9 = [v8 length];

  id v10 = [v3 phoneNumber];
  uint64_t v11 = v9 | [v10 length];

  BOOL v12 = v11 != 0;
  char v14 = v6 & v12;
  BOOL v13 = (v6 & v12) == 0;
  uint64_t v15 = @"Email";
  if (!v13) {
    uint64_t v15 = @"NameAndEmail";
  }
  uint64_t v16 = v15;
  if (v9) {
    [v3 emailAddress];
  }
  else {
  uint64_t v17 = [v3 phoneNumber];
  }
  BOOL v18 = *a1;
  if (*a1 == (char *)0x7FFFFFFFFFFFFFFFLL) {
    goto LABEL_31;
  }
  id v19 = a1[1];
  if (v19 == (char *)0x7FFFFFFFFFFFFFFFLL) {
    goto LABEL_31;
  }
  BOOL v20 = a1[2];
  if (v20 == (char *)0x7FFFFFFFFFFFFFFFLL) {
    goto LABEL_31;
  }
  if (v20)
  {
    uint64_t v21 = &v18[(void)v20 + (unint64_t)v19];
    char v22 = [NSString stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Items_%@_Format", v16];
    long long v23 = PXLocalizedSharedLibraryString(v22);

    if (v14)
    {
      id v35 = v21;
LABEL_26:
      id v34 = v17;
      id v25 = @"%@ %@ %lu";
      goto LABEL_30;
    }
    id v34 = v21;
    goto LABEL_29;
  }
  if (!v18)
  {
    if (!v19)
    {
LABEL_31:
      int v30 = [NSString stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_NoCount_%@_Format", v16, v34, v35, v36];
      uint64_t v31 = PXLocalizedSharedLibraryString(v30);

      if (v14) {
        uint64_t v32 = @"%@ %@";
      }
      else {
        uint64_t v32 = @"%@";
      }
      uint64_t v29 = PXLocalizedStringWithValidatedFormat(v31, v32);

      goto LABEL_35;
    }
    uint64_t v26 = [NSString stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Videos_%@_Format", v16];
    long long v23 = PXLocalizedSharedLibraryString(v26);

    uint64_t v27 = a1[1];
    if ((v14 & 1) == 0) {
      goto LABEL_28;
    }
    goto LABEL_25;
  }
  if (!v19)
  {
    __int16 v28 = [NSString stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_Photos_%@_Format", v16];
    long long v23 = PXLocalizedSharedLibraryString(v28);

    uint64_t v27 = *a1;
    if ((v14 & 1) == 0)
    {
LABEL_28:
      id v34 = v27;
LABEL_29:
      id v25 = @"%@ %lu";
      goto LABEL_30;
    }
LABEL_25:
    id v35 = v27;
    goto LABEL_26;
  }
  id v24 = [NSString stringWithFormat:@"PXSharedLibraryReplyAssistant_Intro_ReviewSubtitle_PhotosAndVideos_%@_Format", v16];
  long long v23 = PXLocalizedSharedLibraryString(v24);

  if (v14)
  {
    id v35 = *a1;
    uint64_t v36 = (uint64_t)a1[1];
    id v34 = v17;
    id v25 = @"%@ %@ %lu %lu";
  }
  else
  {
    id v34 = *a1;
    id v35 = a1[1];
    id v25 = @"%@ %lu %lu";
  }
LABEL_30:
  uint64_t v29 = PXLocalizedStringWithValidatedFormat(v23, v25);

  if (!v29) {
    goto LABEL_31;
  }
LABEL_35:

  return v29;
}

id PXSharedLibraryReplyAssistantReviewPrimaryButtonTitle()
{
  return PXLocalizedSharedLibraryString(@"PXSharedLibraryReplyAssistant_Intro_ReviewButtonTitle_Join");
}

id PXSharedLibraryGetCurrentUserParticipant(void *a1)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  long long v7 = 0u;
  long long v8 = 0u;
  long long v9 = 0u;
  long long v10 = 0u;
  uint64_t v1 = objc_msgSend(a1, "participants", 0);
  id v2 = (id)[v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
  if (v2)
  {
    uint64_t v3 = *(void *)v8;
    while (2)
    {
      for (uint64_t i = 0; i != v2; uint64_t i = (char *)i + 1)
      {
        if (*(void *)v8 != v3) {
          objc_enumerationMutation(v1);
        }
        id v5 = *(void **)(*((void *)&v7 + 1) + 8 * i);
        if ([v5 isCurrentUser])
        {
          id v2 = v5;
          goto LABEL_11;
        }
      }
      id v2 = (id)[v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
      if (v2) {
        continue;
      }
      break;
    }
  }
LABEL_11:

  return v2;
}

id PXStoryDisplayAssetCollectionShortTitle(void *a1)
{
  uint64_t v1 = [a1 localizedTitle];
  if ((unint64_t)[v1 length] >= 0x1F)
  {
    id v2 = [v1 substringToIndex:30];
    uint64_t v3 = [v2 stringByAppendingString:@""];

    uint64_t v1 = (void *)v3;
  }
  double v4 = [v1 stringByReplacingOccurrencesOfString:@"\n" withString:@" "];

  return v4;
}

id PXStorySceneClassificationDescription(void *a1)
{
  uint64_t v24 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = [MEMORY[0x1E4F8CD60] sharedTaxonomy];
  id v3 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  BOOL v18 = v1;
  double v4 = [v1 allObjects];
  id v5 = [v4 sortedArrayUsingComparator:&__block_literal_global_173816];

  long long v21 = 0u;
  long long v22 = 0u;
  long long v19 = 0u;
  long long v20 = 0u;
  id v6 = v5;
  uint64_t v7 = [v6 countByEnumeratingWithState:&v19 objects:v23 count:16];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = *(void *)v20;
    do
    {
      for (uint64_t i = 0; i != v8; ++i)
      {
        if (*(void *)v20 != v9) {
          objc_enumerationMutation(v6);
        }
        uint64_t v11 = *(void **)(*((void *)&v19 + 1) + 8 * i);
        if (objc_msgSend(v2, "nodeRefForExtendedSceneClassId:", objc_msgSend(v11, "extendedSceneIdentifier")))
        {
          uint64_t v12 = NSString;
          BOOL v13 = PFSceneTaxonomyNodeName();
          [v11 confidence];
          uint64_t v15 = [v12 stringWithFormat:@"%@=%0.0f", v13, v14 * 100.0];

          [v3 addObject:v15];
        }
      }
      uint64_t v8 = [v6 countByEnumeratingWithState:&v19 objects:v23 count:16];
    }
    while (v8);
  }

  uint64_t v16 = [v3 componentsJoinedByString:@" "];

  return v16;
}

uint64_t __PXStorySceneClassificationDescription_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v4 = a2;
  id v5 = a3;
  [v4 confidence];
  double v7 = v6;
  [v5 confidence];
  if (v7 <= v8)
  {
    [v4 confidence];
    double v11 = v10;
    [v5 confidence];
    uint64_t v9 = v11 < v12;
  }
  else
  {
    uint64_t v9 = -1;
  }

  return v9;
}

void sub_1AAE96C2C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAE9752C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__175063(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__175064(uint64_t a1)
{
}

void sub_1AAE97960(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAE97B1C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAE97C84(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAE981BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXSharedLibraryLegacyDevicesStateDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PXSharedLibraryLegacyDevicesState: %ld", a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DC1FB0[a1];
  }
  return v1;
}

void sub_1AAE9940C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__175336(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__175337(uint64_t a1)
{
}

void sub_1AAE9D698(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,char a61,uint64_t a62,uint64_t a63)
{
  objc_destroyWeak((id *)(v71 - 176));
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose(&a67, 8);
  _Block_object_dispose(&a71, 8);
  _Block_object_dispose(&STACK[0x210], 8);
  _Block_object_dispose((const void *)(v71 - 240), 8);
  _Block_object_dispose((const void *)(v71 - 208), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__176101(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__176102(uint64_t a1)
{
}

id PXViewControllerForSender(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v2 = v1;
  }
  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      id v3 = [v1 nextResponder];
      PXViewControllerForSender();
      id v2 = (id)objc_claimAutoreleasedReturnValue();
    }
    else
    {
      id v2 = 0;
    }
  }

  return v2;
}

void sub_1AAEA1964(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,char a43)
{
}

uint64_t __Block_byref_object_copy__176875(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__176876(uint64_t a1)
{
}

void sub_1AAEA211C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37)
{
}

void sub_1AAEA28E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAEA53C8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEA5464(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEA59B8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 168));
  _Unwind_Resume(a1);
}

void sub_1AAEA5B40(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEA5C90(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEA60CC(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAEA6D7C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEA6F14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEA7ACC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEA7C58(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEA8474(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

uint64_t _createResizableShadowImage(void *a1, double a2, double a3, double a4, double a5)
{
  id v9 = a1;
  v13[0] = MEMORY[0x1E4F143A8];
  v13[1] = 3221225472;
  void v13[2] = ___createResizableShadowImage_block_invoke;
  void v13[3] = &unk_1E5DC2358;
  double v15 = a4;
  double v16 = a5;
  id v14 = v9;
  double v17 = a3;
  double v18 = a2;
  id v10 = v9;
  uint64_t v11 = MEMORY[0x1AD10B1D0](0, 0, v13, a4, a5);

  return v11;
}

void ___createResizableShadowImage_block_invoke(uint64_t a1, CGContext *a2, CGFloat a3, CGFloat a4, CGFloat a5, CGFloat a6)
{
  double v12 = *(double *)(a1 + 40);
  double v13 = *(double *)(a1 + 48);
  id v14 = [*(id *)(a1 + 32) shadowColor];
  double v15 = (CGColor *)[v14 CGColor];

  [*(id *)(a1 + 32) shadowBlurRadius];
  CGFloat v17 = v16 * *(double *)(a1 + 56);
  v22.double width = v12;
  v22.double height = v13;
  CGContextSetShadowWithColor(a2, v22, v17, v15);
  [*(id *)(a1 + 32) shadowBlurRadius];
  CGFloat v19 = (v18 + v18) * *(double *)(a1 + 56);
  v23.origin.double x = a3;
  v23.origin.double y = a4;
  v23.size.double width = a5;
  v23.size.double height = a6;
  CGRect v24 = CGRectInset(v23, v19, v19);
  objc_msgSend(MEMORY[0x1E4FB14C0], "bezierPathWithRoundedRect:cornerRadius:", v24.origin.x - v12, v24.origin.y - v13, v24.size.width, v24.size.height, *(double *)(a1 + 64) * *(double *)(a1 + 56));
  id v20 = objc_claimAutoreleasedReturnValue();
  CGContextAddPath(a2, (CGPathRef)[v20 CGPath]);
  CGContextSetRGBFillColor(a2, 1.0, 1.0, 1.0, 1.0);
  CGContextFillPath(a2);
}

void sub_1AAEAAC40(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
}

void PXGCreateResizableShadowImage(void *a1)
{
}

double PXGResizableShadowImageFrameForCastingFrame(void *a1, CGFloat a2, CGFloat a3, CGFloat a4, CGFloat a5)
{
  id v9 = a1;
  [v9 shadowBlurRadius];
  double v11 = v10;
  [v9 shadowOffset];
  CGFloat v13 = v12;
  CGFloat v15 = v14;

  v18.origin.double x = a2;
  v18.origin.double y = a3;
  v18.size.double width = a4;
  v18.size.double height = a5;
  CGRect v19 = CGRectInset(v18, v11 * -2.0, v11 * -2.0);
  *(void *)&double result = (unint64_t)CGRectOffset(v19, v13, v15);
  return result;
}

void PXGConfigureShadowSprite(float32x2_t *a1, uint64_t a2, uint64_t a3, void *a4, void *a5, CGFloat a6, CGFloat a7, CGFloat a8, CGFloat a9)
{
  id v17 = a5;
  id v18 = a4;
  CGRect v19 = [off_1E5DA9658 sharedInstance];
  [v19 maxCornerRadius];
  double v21 = v20;

  [v18 shadowBlurRadius];
  *(float *)&double v21 = ceil(v21 * 1.528665) + v22 + v22;
  v41.origin.CGFloat x = PXGResizableShadowImageFrameForCastingFrame(v18, a6, a7, a8, a9);
  CGFloat x = v41.origin.x;
  CGFloat y = v41.origin.y;
  CGFloat width = v41.size.width;
  CGFloat height = v41.size.height;
  CGFloat MidX = CGRectGetMidX(v41);
  v42.origin.CGFloat x = x;
  v42.origin.CGFloat y = y;
  v42.size.CGFloat width = width;
  v42.size.CGFloat height = height;
  CGFloat MidY = CGRectGetMidY(v42);
  v43.origin.CGFloat x = x;
  v43.origin.CGFloat y = y;
  v43.size.CGFloat width = width;
  v43.size.CGFloat height = height;
  CGFloat v40 = CGRectGetWidth(v43);
  v44.origin.CGFloat x = x;
  v44.origin.CGFloat y = y;
  v44.size.CGFloat width = width;
  v44.size.CGFloat height = height;
  CGFloat v29 = CGRectGetHeight(v44);
  v30.f64[0] = v40;
  v30.f64[1] = v29;
  *(CGFloat *)a1 = MidX;
  *(CGFloat *)&a1[1] = MidY;
  a1[2] = 0;
  a1[3] = vcvt_f32_f64(v30);
  long long v31 = *((_OWORD *)off_1E5DAAF90 + 1);
  *(_OWORD *)a2 = *(_OWORD *)off_1E5DAAF90;
  *(_OWORD *)(a2 + 16) = v31;
  long long v32 = *((_OWORD *)off_1E5DAAF90 + 5);
  *(_OWORD *)(a2 + 64) = *((_OWORD *)off_1E5DAAF90 + 4);
  *(_OWORD *)(a2 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v32;
  long long v33 = *((_OWORD *)off_1E5DAAF90 + 3);
  *(_OWORD *)(a2 + 32) = *((_OWORD *)off_1E5DAAF90 + 2);
  *(_OWORD *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = v33;
  long long v34 = *((_OWORD *)off_1E5DAAF90 + 9);
  *(_OWORD *)(a2 + 12_Block_object_dispose(&STACK[0x2A0], 8) = *((_OWORD *)off_1E5DAAF90 + 8);
  *(_OWORD *)(a2 + 144) = v34;
  long long v36 = *((_OWORD *)off_1E5DAAF90 + 6);
  long long v35 = *((_OWORD *)off_1E5DAAF90 + 7);
  *(_OWORD *)(a2 + 96) = v36;
  *(_OWORD *)(a2 + 112) = v35;
  LODWORD(v35) = LODWORD(v21);
  LODWORD(v36) = LODWORD(v21);
  LODWORD(v37) = LODWORD(v21);
  LODWORD(v3_Block_object_dispose(&STACK[0x2A0], 8) = LODWORD(v21);
  *(_WORD *)(a2 + 6_Block_object_dispose(&STACK[0x2A0], 8) = objc_msgSend(v17, "addResizableCapInsets:", *(double *)&v35, *(double *)&v36, v37, v38);
  *(void *)(a3 + 32) = *((void *)off_1E5DAAF88 + 4);
  long long v39 = *((_OWORD *)off_1E5DAAF88 + 1);
  *(_OWORD *)a3 = *(_OWORD *)off_1E5DAAF88;
  *(_OWORD *)(a3 + 16) = v39;
  *(unsigned char *)(a3 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 7;
  *(unsigned char *)(a3 + 34) = 2;
  [v17 displayScale];

  [v18 shadowBlurRadius];
  PXSizeScale();
}

void sub_1AAEABE38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__178898(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__178899(uint64_t a1)
{
}

void sub_1AAEAE38C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEAE9BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
}

void sub_1AAEB0F40(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__179605(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__179606(uint64_t a1)
{
}

void sub_1AAEB2330(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,char a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,char a40)
{
}

void sub_1AAEB26C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  objc_sync_exit(v16);
  _Unwind_Resume(a1);
}

void sub_1AAEB542C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, id *location, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  objc_destroyWeak(location);
  objc_destroyWeak(&a68);
  _Unwind_Resume(a1);
}

BOOL PXRunNodeStateCanTransitionToState(uint64_t a1, uint64_t a2)
{
  BOOL v2 = (a1 & 0xFFFFFFFFFFFFFFFELL) != 2;
  BOOL v3 = a1 == 0;
  if (a2 != 1) {
    BOOL v3 = 0;
  }
  if (a2 != 2) {
    BOOL v2 = v3;
  }
  if (a2 == 3) {
    return a1 == 1;
  }
  else {
    return v2;
  }
}

BOOL PXRunNodeStateIsFinished(uint64_t a1)
{
  return (a1 & 0xFFFFFFFFFFFFFFFELL) == 2;
}

BOOL PXStorySegmentMixIsNull(uint64_t a1)
{
  uint64_t v1 = (void *)(a1 + 16);
  if (*(double *)(a1 + 8) <= 0.5) {
    uint64_t v1 = (void *)a1;
  }
  return *v1 == 0;
}

uint64_t PXStorySegmentMixDominantSegmentIdentifier(uint64_t a1)
{
  return *(void *)(a1 + 16 * (*(double *)(a1 + 8) > 0.5));
}

uint64_t PXStorySegmentMixMakeWithSegment@<X0>(uint64_t result@<X0>, void *a2@<X8>)
{
  a2[1] = 0;
  a2[2] = 0;
  *a2 = result;
  return result;
}

uint64_t PXStorySegmentMixMakeWithMixBetweenTwoSegments@<X0>(uint64_t result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>, double a4@<D0>)
{
  *(void *)a3 = result;
  *(double *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = a4;
  *(void *)(a3 + 16) = a2;
  return result;
}

BOOL PXStorySegmentMixEqualToSegmentMix(uint64_t a1, uint64_t a2)
{
  return *(void *)a1 == *(void *)a2
      && *(double *)(a1 + 8) == *(double *)(a2 + 8)
      && *(void *)(a1 + 16) == *(void *)(a2 + 16);
}

__n128 PXStorySegmentMixStandardize@<Q0>(__n128 *a1@<X0>, __n128 *a2@<X8>)
{
  double v2 = a1->n128_f64[1];
  if (v2 <= 0.5)
  {
    __n128 result = *a1;
    *a2 = *a1;
    a2[1].n128_u64[0] = a1[1].n128_u64[0];
  }
  else
  {
    result.n128_f64[0] = 1.0 - v2;
    unint64_t v4 = a1->n128_u64[0];
    a2->n128_u64[0] = a1[1].n128_u64[0];
    a2->n128_u64[1] = result.n128_u64[0];
    a2[1].n128_u64[0] = v4;
  }
  return result;
}

BOOL PXStorySegmentMixIsPure(uint64_t a1)
{
  double v1 = *(double *)(a1 + 8);
  if (v1 > 0.5) {
    double v1 = 1.0 - v1;
  }
  return v1 == 0.0;
}

void sub_1AAEB6148(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAEB7204(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAEB7524(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  objc_destroyWeak(v8);
  objc_destroyWeak((id *)(v9 - 72));
  _Unwind_Resume(a1);
}

void sub_1AAEB7628(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEB7BF0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 72));
  _Unwind_Resume(a1);
}

void sub_1AAEB7D80(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAEB98AC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AAEBAA54(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEBAD0C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEBB794(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEBDFBC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v10 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAEC16E0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEC17F0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXCPLUIStatusChangedDebugDescription(uint64_t a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  uint64_t v3 = v2;
  if (!a1)
  {
    unint64_t v4 = @"none";
    goto LABEL_54;
  }
  if (a1 == 0xFFFFFF)
  {
    unint64_t v4 = @"all";
LABEL_54:
    [v3 addObject:v4];
    goto LABEL_55;
  }
  if (a1)
  {
    [v2 addObject:@"PXCPLUIStatusChangedStateDescription"];
    if ((a1 & 2) == 0)
    {
LABEL_7:
      if ((a1 & 4) == 0) {
        goto LABEL_8;
      }
      goto LABEL_32;
    }
  }
  else if ((a1 & 2) == 0)
  {
    goto LABEL_7;
  }
  [v3 addObject:@"PXCPLUIStatusChangedFailureDescription"];
  if ((a1 & 4) == 0)
  {
LABEL_8:
    if ((a1 & 8) == 0) {
      goto LABEL_9;
    }
    goto LABEL_33;
  }
LABEL_32:
  [v3 addObject:@"PXCPLUIStatusChangedInternalInformationMessage"];
  if ((a1 & 8) == 0)
  {
LABEL_9:
    if ((a1 & 0x10) == 0) {
      goto LABEL_10;
    }
    goto LABEL_34;
  }
LABEL_33:
  [v3 addObject:@"PXCPLUIStatusChangedPaused"];
  if ((a1 & 0x10) == 0)
  {
LABEL_10:
    if ((a1 & 0x20) == 0) {
      goto LABEL_11;
    }
    goto LABEL_35;
  }
LABEL_34:
  [v3 addObject:@"PXCPLUIStatusChangedProgress"];
  if ((a1 & 0x20) == 0)
  {
LABEL_11:
    if ((a1 & 0x40) == 0) {
      goto LABEL_12;
    }
    goto LABEL_36;
  }
LABEL_35:
  [v3 addObject:@"PXCPLUIStatusChangedActionTitle"];
  if ((a1 & 0x40) == 0)
  {
LABEL_12:
    if ((a1 & 0x80) == 0) {
      goto LABEL_13;
    }
    goto LABEL_37;
  }
LABEL_36:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertTitle"];
  if ((a1 & 0x80) == 0)
  {
LABEL_13:
    if ((a1 & 0x100) == 0) {
      goto LABEL_14;
    }
    goto LABEL_38;
  }
LABEL_37:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertSubtitle"];
  if ((a1 & 0x100) == 0)
  {
LABEL_14:
    if ((a1 & 0x200) == 0) {
      goto LABEL_15;
    }
    goto LABEL_39;
  }
LABEL_38:
  [v3 addObject:@"PXCPLUIStatusChangedActionConfirmationAlertButtonTitle"];
  if ((a1 & 0x200) == 0)
  {
LABEL_15:
    if ((a1 & 0x400) == 0) {
      goto LABEL_16;
    }
    goto LABEL_40;
  }
LABEL_39:
  [v3 addObject:@"PXCPLUIStatusChangedReferencedItemsDescription"];
  if ((a1 & 0x400) == 0)
  {
LABEL_16:
    if ((a1 & 0x800) == 0) {
      goto LABEL_17;
    }
    goto LABEL_41;
  }
LABEL_40:
  [v3 addObject:@"PXCPLUIStatusChangedState"];
  if ((a1 & 0x800) == 0)
  {
LABEL_17:
    if ((a1 & 0x1000) == 0) {
      goto LABEL_18;
    }
    goto LABEL_42;
  }
LABEL_41:
  [v3 addObject:@"PXCPLUIStatusChangedActivity"];
  if ((a1 & 0x1000) == 0)
  {
LABEL_18:
    if ((a1 & 0x2000) == 0) {
      goto LABEL_19;
    }
    goto LABEL_43;
  }
LABEL_42:
  [v3 addObject:@"PXCPLUIStatusChangedPauseReason"];
  if ((a1 & 0x2000) == 0)
  {
LABEL_19:
    if ((a1 & 0x4000) == 0) {
      goto LABEL_20;
    }
    goto LABEL_44;
  }
LABEL_43:
  [v3 addObject:@"PXCPLUIStatusChangedServiceAction"];
  if ((a1 & 0x4000) == 0)
  {
LABEL_20:
    if ((a1 & 0x8000) == 0) {
      goto LABEL_21;
    }
    goto LABEL_45;
  }
LABEL_44:
  [v3 addObject:@"PXCPLUIStatusChangedInResetSync"];
  if ((a1 & 0x8000) == 0)
  {
LABEL_21:
    if ((a1 & 0x10000) == 0) {
      goto LABEL_22;
    }
    goto LABEL_46;
  }
LABEL_45:
  [v3 addObject:@"PXCPLUIStatusChangedIsRestoringLibrary"];
  if ((a1 & 0x10000) == 0)
  {
LABEL_22:
    if ((a1 & 0x20000) == 0) {
      goto LABEL_23;
    }
    goto LABEL_47;
  }
LABEL_46:
  [v3 addObject:@"PXCPLUIStatusChangedHasCompletedInitialSync"];
  if ((a1 & 0x20000) == 0)
  {
LABEL_23:
    if ((a1 & 0x40000) == 0) {
      goto LABEL_24;
    }
    goto LABEL_48;
  }
LABEL_47:
  [v3 addObject:@"PXCPLUIStatusChangedIsExiting"];
  if ((a1 & 0x40000) == 0)
  {
LABEL_24:
    if ((a1 & 0x80000) == 0) {
      goto LABEL_25;
    }
    goto LABEL_49;
  }
LABEL_48:
  [v3 addObject:@"PXCPLUIStatusChangedNumberOfItemsFailingToUpload"];
  if ((a1 & 0x80000) == 0)
  {
LABEL_25:
    if ((a1 & 0x100000) == 0) {
      goto LABEL_26;
    }
    goto LABEL_50;
  }
LABEL_49:
  [v3 addObject:@"PXCPLUIStatusChangedIsUpgradeSuggestedToAccessAllPhotos"];
  if ((a1 & 0x100000) == 0)
  {
LABEL_26:
    if ((a1 & 0x200000) == 0) {
      goto LABEL_27;
    }
    goto LABEL_51;
  }
LABEL_50:
  [v3 addObject:@"PXCPLUIStatusChangedNumberOfPhotoAssets"];
  if ((a1 & 0x200000) == 0)
  {
LABEL_27:
    if ((a1 & 0x400000) == 0) {
      goto LABEL_28;
    }
LABEL_52:
    [v3 addObject:@"PXCPLUIStatusChangedNumberOfOtherAssets"];
    if ((a1 & 0x800000) == 0) {
      goto LABEL_55;
    }
    goto LABEL_53;
  }
LABEL_51:
  [v3 addObject:@"PXCPLUIStatusChangedNumberOfVideoAssets"];
  if ((a1 & 0x400000) != 0) {
    goto LABEL_52;
  }
LABEL_28:
  if ((a1 & 0x800000) != 0)
  {
LABEL_53:
    unint64_t v4 = @"PXCPLUIStatusChangedStartSyncDescription";
    goto LABEL_54;
  }
LABEL_55:
  id v5 = NSString;
  double v6 = [v3 componentsJoinedByString:@", "];
  double v7 = [v5 stringWithFormat:@"<%@>", v6];

  return v7;
}

void sub_1AAEC704C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v17 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__183620(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__183621(uint64_t a1)
{
}

void sub_1AAEC77A4(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AAEC7820(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

__CFString *PXPhotosGridFilterActionIdentifierFromNumber(void *a1)
{
  uint64_t v1 = [a1 integerValue];
  if ((unint64_t)(v1 - 1) > 3) {
    return &stru_1F00B0030;
  }
  else {
    return off_1E5DC2A78[v1 - 1];
  }
}

id PXStoryRelatedProducerCreateDefaultWithTargetUpNextCount(uint64_t a1)
{
  id v2 = +[PXStorySettings sharedInstance];
  unint64_t v3 = [v2 relatedProducerKind];

  if (v3 <= 2) {
    unint64_t v4 = (void *)[objc_alloc(*off_1E5DC2AC8[v3]) initWithTargetUpNextCount:a1];
  }
  return v4;
}

uint64_t PXMemorySpecSetForTileKind(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t result = 2;
  switch(a1)
  {
    case 0:
      double v8 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PXMemorySpecSet PXMemorySpecSetForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)");
      uint64_t v10 = v8;
      double v11 = v9;
      uint64_t v12 = 61;
      goto LABEL_16;
    case 1:
      return 1;
    case 2:
    case 4:
    case 6:
      BOOL v7 = a3 != 1 || a4 != 2;
      if (a3 == 2) {
        BOOL v7 = 0;
      }
      return (unint64_t)(a2 - 1) < 2 && v7;
    case 3:
    case 5:
      return result;
    default:
      double v8 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PXMemorySpecSet PXMemorySpecSetForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)");
      uint64_t v10 = v8;
      double v11 = v9;
      uint64_t v12 = 63;
LABEL_16:
      [v10 handleFailureInFunction:v11 file:@"PXMemoriesFontsSpec.m" lineNumber:v12 description:@"Code which should be unreachable has been reached"];

      abort();
  }
}

uint64_t PXMemorySpecVariantForTileKind(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t result = 3;
  switch(a1)
  {
    case 0:
      uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v10 = objc_msgSend(NSString, "stringWithUTF8String:", "PXMemorySpecVariant PXMemorySpecVariantForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)");
      double v11 = v9;
      uint64_t v12 = v10;
      uint64_t v13 = 103;
      goto LABEL_16;
    case 1:
    case 2:
    case 3:
      return 2;
    case 4:
    case 6:
      if ((unint64_t)(a2 - 1) >= 2)
      {
        BOOL v7 = a1 == 6;
        uint64_t v8 = 4;
        if (!v7) {
          uint64_t v8 = 1;
        }
        if (a2 == 3) {
          return v8;
        }
        else {
          return 4;
        }
      }
      else
      {
        if (a3 == 2) {
          return 1;
        }
        uint64_t result = 2;
        if (a3 == 1 && a4 == 2) {
          return 1;
        }
      }
      return result;
    case 5:
      return result;
    default:
      uint64_t v9 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v10 = objc_msgSend(NSString, "stringWithUTF8String:", "PXMemorySpecVariant PXMemorySpecVariantForTileKind(PXMemoryTileKind, PXUserInterfaceIdiom, PXUserInterfaceSizeClass, PXUserInterfaceOrientation)");
      double v11 = v9;
      uint64_t v12 = v10;
      uint64_t v13 = 105;
LABEL_16:
      [v11 handleFailureInFunction:v12 file:@"PXMemoriesFontsSpec.m" lineNumber:v13 description:@"Code which should be unreachable has been reached"];

      abort();
  }
}

void _DisplayMarginForLayoutMarginSpecSetVariant()
{
  os_log_t v0 = +[PXMemoriesRelatedSettings sharedInstance];
  [v0 enableIPadWideHeader];

  PXFloatApproximatelyEqualToFloat();
}

double _BaselineDistanceForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if (a1)
  {
    if (a1 != 1)
    {
      if (a1 == 2 && (a2 - 1 < 2 || !a2))
      {
        PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
      }
LABEL_15:
      unint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      id v5 = objc_msgSend(NSString, "stringWithUTF8String:", "CGFloat _BaselineDistanceForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
      [v4 handleFailureInFunction:v5 file:@"PXMemoriesFontsSpec.m" lineNumber:180 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    if (a2 >= 3) {
      goto LABEL_15;
    }
    id v2 = (double *)&unk_1AB35B538;
  }
  else
  {
    if (a2 >= 3) {
      goto LABEL_15;
    }
    id v2 = (double *)&unk_1AB35B550;
  }
  return v2[a2];
}

id _FontNameForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if (a1 == 1)
  {
    _SubtitleFontNameForFontSetSpecSetVariant(a2);
    id v2 = (id)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    if (a1)
    {
      unint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      id v5 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString *_FontNameForFontSetSpecSetVariant(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
      [v4 handleFailureInFunction:v5 file:@"PXMemoriesFontsSpec.m" lineNumber:212 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    id v2 = *(id *)off_1E5DAB018;
  }
  return v2;
}

uint64_t _FontSizeForFontSetSpecSetVariant(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  if (a1 == 1)
  {
    return _SubtitleFontSizeForFontSetSpecSetVariant(a2, a3);
  }
  else
  {
    if (a1)
    {
      uint64_t v9 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v5, v4, v6, v7);
      uint64_t v10 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger _FontSizeForFontSetSpecSetVariant(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
      [v9 handleFailureInFunction:v10 file:@"PXMemoriesFontsSpec.m" lineNumber:270 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    return _TitleFontSizeForFontSetSpecSetVariant(a2, a3, a4);
  }
}

double _TrackingForSpecSet(uint64_t a1, unint64_t a2)
{
  if (!a1) {
    return 0.0;
  }
  if (a1 != 1)
  {
    uint64_t v7 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v3, v2, v4, v5);
    uint64_t v8 = objc_msgSend(NSString, "stringWithUTF8String:", "CGFloat _TrackingForSpecSet(PXMemoryLabelKind, PXMemoryFontSet)");
    [v7 handleFailureInFunction:v8 file:@"PXMemoriesFontsSpec.m" lineNumber:325 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return _SubtitleTrackingForSpecSet(a2);
}

double _LineHeightForSpecSet(uint64_t a1, uint64_t a2, unint64_t a3, uint64_t a4)
{
  if (a1 == 1) {
    return 0.0;
  }
  if (a1)
  {
    uint64_t v9 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v5, v4, v6, v7);
    uint64_t v10 = objc_msgSend(NSString, "stringWithUTF8String:", "CGFloat _LineHeightForSpecSet(PXMemoryLabelKind, PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
    [v9 handleFailureInFunction:v10 file:@"PXMemoriesFontsSpec.m" lineNumber:303 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return _TitleLineHeightForSpecSet(a2, a3, a4);
}

double _TitleLineHeightForSpecSet(uint64_t a1, unint64_t a2, uint64_t a3)
{
  if ((unint64_t)(a1 - 1) >= 2)
  {
    if (!a1 && a2 < 3) {
      return dbl_1AB35B598[a2];
    }
LABEL_11:
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = objc_msgSend(NSString, "stringWithUTF8String:", "CGFloat _TitleLineHeightForSpecSet(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
    [v4 handleFailureInFunction:v5 file:@"PXMemoriesFontsSpec.m" lineNumber:293 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  if (a2 - 1 < 2) {
    return 40.0;
  }
  if (a2) {
    goto LABEL_11;
  }
  double result = 44.0;
  if (a3 == 1) {
    return 55.0;
  }
  return result;
}

double _SubtitleTrackingForSpecSet(unint64_t a1)
{
  if (a1 >= 3)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"CGFloat _SubtitleTrackingForSpecSet(PXMemoryFontSet)"];
    [v2 handleFailureInFunction:v3 file:@"PXMemoriesFontsSpec.m" lineNumber:315 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return dbl_1AB35B5B0[a1];
}

uint64_t _TitleFontSizeForFontSetSpecSetVariant(uint64_t a1, unint64_t a2, uint64_t a3)
{
  if ((unint64_t)(a1 - 1) >= 2)
  {
    if (!a1 && a2 < 3) {
      return qword_1AB35B568[a2];
    }
LABEL_11:
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger _TitleFontSizeForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
    [v4 handleFailureInFunction:v5 file:@"PXMemoriesFontsSpec.m" lineNumber:236 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  if (a2 - 1 < 2) {
    return 44;
  }
  if (a2) {
    goto LABEL_11;
  }
  if (a3 == 1) {
    return 60;
  }
  else {
    return 48;
  }
}

uint64_t _SubtitleFontSizeForFontSetSpecSetVariant(uint64_t a1, unint64_t a2)
{
  if ((unint64_t)(a1 - 1) < 2)
  {
    if (a2 - 1 < 2)
    {
      +[PXMemoriesRelatedSettings sharedInstance];
      [(id)objc_claimAutoreleasedReturnValue() subtitleFontSize];
      PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
    }
    if (!a2) {
      PXScaledValueForTextStyleWithMaxContentSizeCategoryAndSymbolicTraits();
    }
LABEL_9:
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = objc_msgSend(NSString, "stringWithUTF8String:", "NSInteger _SubtitleFontSizeForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
    [v3 handleFailureInFunction:v4 file:@"PXMemoriesFontsSpec.m" lineNumber:260 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  if (a1 || a2 >= 3) {
    goto LABEL_9;
  }
  return qword_1AB35B580[a2];
}

id _SubtitleFontNameForFontSetSpecSetVariant(unint64_t a1)
{
  if (a1 >= 3)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString *_SubtitleFontNameForFontSetSpecSetVariant(PXMemoryFontSet, PXMemorySpecSet, PXMemorySpecVariant)");
    [v3 handleFailureInFunction:v4 file:@"PXMemoriesFontsSpec.m" lineNumber:202 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  uint64_t v1 = (void *)**((void **)&unk_1E5DC2B08 + a1);
  return v1;
}

void sub_1AAECE738(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

uint64_t __Block_byref_object_copy__184942(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__184943(uint64_t a1)
{
}

uint64_t PXMemorySpecSetForTileKindFeatureSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 sizeClass];
  uint64_t v6 = [v3 layoutOrientation];

  return PXMemorySpecSetForTileKind(a1, v4, v5, v6);
}

uint64_t PXMemorySpecSetForTileKindGadgetSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 layoutSizeClass];
  uint64_t v6 = [v3 layoutOrientation];

  return PXMemorySpecSetForTileKind(a1, v4, v5, v6);
}

uint64_t PXMemorySpecVariantForTileKindFeatureSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 sizeClass];
  uint64_t v6 = [v3 layoutOrientation];

  return PXMemorySpecVariantForTileKind(a1, v4, v5, v6);
}

uint64_t PXMemorySpecVariantForTileKindGadgetSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 layoutSizeClass];
  uint64_t v6 = [v3 layoutOrientation];

  return PXMemorySpecVariantForTileKind(a1, v4, v5, v6);
}

BOOL _ShouldScaleForSpecSetIdiomOrientation(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return (a2 != 1 || a3 != 2) && a2 != 2 || a1 != 0;
}

BOOL PXMemoryShouldScaleForSpecSetFeatureSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 layoutOrientation];

  return (v4 != 1 || v5 != 2) && v4 != 2 || a1 != 0;
}

uint64_t PXMemoryShouldScaleForDescriptorFeatureSpec(uint64_t *a1, void *a2)
{
  if ((*((unsigned char *)a1 + 9) & 0x10) != 0) {
    return 1;
  }
  uint64_t v2 = *a1;
  id v3 = a2;
  if ((unint64_t)(v2 - 1900) >= 0x64) {
    uint64_t v4 = 0;
  }
  else {
    uint64_t v4 = (v2 - 108) % 0xFu;
  }
  uint64_t v5 = PXMemorySpecSetForTileKindFeatureSpec(v4, v3);
  BOOL ShouldScaleForSpecSetFeatureSpec = PXMemoryShouldScaleForSpecSetFeatureSpec(v5, v3);

  return ShouldScaleForSpecSetFeatureSpec;
}

BOOL PXMemoryShouldScaleForSpecSetGadgetSpec(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [v3 userInterfaceIdiom];
  uint64_t v5 = [v3 layoutOrientation];

  return (v4 != 1 || v5 != 2) && v4 != 2 || a1 != 0;
}

double _ReferenceWidthForSpecSetVariant(uint64_t a1, uint64_t a2)
{
  if (a1 == 2) {
    return 162.0;
  }
  if (a1 == 1)
  {
    BOOL v3 = a2 == 2;
    uint64_t v4 = (double *)&unk_1AB359F30;
    return v4[v3];
  }
  double result = 0.0;
  if (!a1)
  {
    BOOL v3 = a2 == 4;
    uint64_t v4 = (double *)&unk_1AB359F40;
    return v4[v3];
  }
  return result;
}

double _ScaleForSpecSetVariantWidth(uint64_t a1, uint64_t a2, double a3)
{
  double result = 0.913999975;
  if (a2 != 4) {
    double result = 1.0;
  }
  if (a3 > 0.0)
  {
    if (a1 == 2) {
      uint64_t v5 = 1;
    }
    else {
      uint64_t v5 = a1;
    }
    if (v5 == 1)
    {
      BOOL v7 = a2 == 2;
      uint64_t v8 = (double *)&unk_1AB359F30;
    }
    else
    {
      double v6 = 0.0;
      if (v5) {
        return result * (a3 / v6);
      }
      BOOL v7 = a2 == 4;
      uint64_t v8 = (double *)&unk_1AB359F40;
    }
    double v6 = v8[v7];
    return result * (a3 / v6);
  }
  return result;
}

double _FontScaleForSpecSetVariantWidth(uint64_t a1, uint64_t a2, double a3)
{
  double v3 = 0.913999975;
  if (a2 != 4) {
    double v3 = 1.0;
  }
  if (a3 > 0.0)
  {
    if (a1 == 2) {
      uint64_t v4 = 1;
    }
    else {
      uint64_t v4 = a1;
    }
    if (v4 == 1)
    {
      BOOL v6 = a2 == 2;
      BOOL v7 = (double *)&unk_1AB359F30;
    }
    else
    {
      double v5 = 0.0;
      if (v4)
      {
LABEL_12:
        double v3 = v3 * (a3 / v5);
        goto LABEL_13;
      }
      BOOL v6 = a2 == 4;
      BOOL v7 = (double *)&unk_1AB359F40;
    }
    double v5 = v7[v6];
    goto LABEL_12;
  }
LABEL_13:
  double result = v3 * 1.25;
  if (a2 != 3) {
    return v3;
  }
  return result;
}

void sub_1AAECF918(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAED0AAC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  objc_destroyWeak((id *)(v24 - 96));
  _Unwind_Resume(a1);
}

void sub_1AAED3C8C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAED5024(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, char a17)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a17, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__186428(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__186429(uint64_t a1)
{
}

void sub_1AAED7900(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAED8F80(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1AAED9DD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAED9F84(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAEDB7DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEDDE00(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAEDEC38(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__187045(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__187046(uint64_t a1)
{
}

void sub_1AAEDF660(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location,char a25)
{
}

void sub_1AAEE3E90(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 136), 8);
  _Unwind_Resume(a1);
}

void sub_1AAEE8FB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v14 - 144), 8);
  _Unwind_Resume(a1);
}

PXConcreteAudioCueSource *PXEmptyCueSource()
{
  os_log_t v0 = objc_alloc_init(PXConcreteAudioCueSource);
  return v0;
}

uint64_t PXGItemsGeometryItemClosestToItemHorizontalGridDefaultImplementation(uint64_t a1, unint64_t a2, uint64_t a3, uint64_t a4)
{
  if (a1 == 0x7FFFFFFFFFFFFFFFLL)
  {
    if (a2 > 6) {
      return 0x7FFFFFFFFFFFFFFFLL;
    }
    if (((1 << a2) & 0x34) != 0)
    {
      uint64_t v4 = 0;
    }
    else
    {
      if (((1 << a2) & 0x4A) == 0) {
        return 0x7FFFFFFFFFFFFFFFLL;
      }
      uint64_t v4 = a4 - 1;
      if (a4 < 1) {
        return 0x7FFFFFFFFFFFFFFFLL;
      }
    }
LABEL_10:
    if (v4 < a4)
    {
      BOOL v7 = __OFSUB__(v4, -1);
      BOOL v5 = v4 == -1;
      BOOL v6 = v4 + 1 < 0;
    }
    else
    {
      BOOL v7 = 0;
      BOOL v5 = 1;
      BOOL v6 = 0;
    }
    if (v6 ^ v7 | v5) {
      return 0x7FFFFFFFFFFFFFFFLL;
    }
    else {
      return v4;
    }
  }
  else
  {
    switch(a2)
    {
      case 1uLL:
      case 6uLL:
        uint64_t v4 = a1 - 1;
        goto LABEL_10;
      case 2uLL:
      case 5uLL:
        uint64_t v9 = a1 + 1;
        break;
      case 3uLL:
        uint64_t v9 = a1 - a3;
        break;
      case 4uLL:
        uint64_t v9 = a3 + a1;
        break;
      default:
        return 0x7FFFFFFFFFFFFFFFLL;
    }
    if (v9 < a4)
    {
      BOOL v12 = __OFSUB__(v9, -1);
      BOOL v10 = v9 == -1;
      BOOL v11 = v9 + 1 < 0;
    }
    else
    {
      BOOL v12 = 0;
      BOOL v10 = 1;
      BOOL v11 = 0;
    }
    if (v11 ^ v12 | v10) {
      uint64_t result = 0x7FFFFFFFFFFFFFFFLL;
    }
    else {
      uint64_t result = v9;
    }
    if (v9 == 0x7FFFFFFFFFFFFFFFLL) {
      return 0x7FFFFFFFFFFFFFFFLL;
    }
  }
  return result;
}

id PXGItemsGeometryItemsBetweenItemAndItemDefaultImplementation(uint64_t a1, uint64_t a2)
{
  if (a1 <= a2) {
    uint64_t v2 = a2;
  }
  else {
    uint64_t v2 = a1;
  }
  if (v2 == 0x7FFFFFFFFFFFFFFFLL)
  {
    id v3 = objc_alloc_init(MEMORY[0x1E4F28D60]);
  }
  else
  {
    if (a1 >= a2) {
      uint64_t v4 = a2;
    }
    else {
      uint64_t v4 = a1;
    }
    id v3 = (id)objc_msgSend(objc_alloc(MEMORY[0x1E4F28D60]), "initWithIndexesInRange:", v4, v2 - v4 + 1);
  }
  return v3;
}

void sub_1AAEEB300(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAEEB3EC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void PXUIKeyCommandRequestPerformanceUpResponderChainFromCurrentResponder(void *a1, void *a2)
{
  id v7 = a1;
  uint64_t v3 = [a2 nextResponder];
  if (v3)
  {
    uint64_t v4 = (void *)v3;
    do
    {
      int v5 = objc_opt_respondsToSelector();
      if (v5) {
        [v4 performSelector:sel_keyCommandDidRequestToBePerformed_ withObject:v7];
      }
      BOOL v6 = [v4 nextResponder];

      uint64_t v4 = v6;
    }
    while (((v6 != 0) & (v5 ^ 1)) != 0);
  }
}

uint64_t PXUIKeyCommandIntegerForNamespace(void *a1, void *a2)
{
  id v3 = a1;
  uint64_t v4 = [a2 propertyList];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v5 = v4;
    BOOL v6 = [v3 namespaceIdentifier];
    id v7 = [v5 objectForKeyedSubscript:v6];

    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      uint64_t v8 = [v7 unsignedIntValue];
    }
    else {
      uint64_t v8 = 0x7FFFFFFFFFFFFFFFLL;
    }
  }
  else
  {
    uint64_t v8 = 0x7FFFFFFFFFFFFFFFLL;
  }

  return v8;
}

id PXUIKeyCommandStringForNamespace(void *a1, void *a2)
{
  id v3 = a1;
  uint64_t v4 = [a2 propertyList];
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v5 = v4;
    BOOL v6 = [v3 namespaceIdentifier];
    id v7 = [v5 objectForKeyedSubscript:v6];

    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      id v8 = v7;
    }
    else {
      id v8 = 0;
    }
    id v9 = v8;
  }
  else
  {
    id v9 = 0;
  }

  return v9;
}

id PXUIMakeKeyCommandPropertyList(void *a1, void *a2)
{
  v8[1] = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  uint64_t v4 = [a1 namespaceIdentifier];
  id v7 = v4;
  v8[0] = v3;
  id v5 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v8 forKeys:&v7 count:1];

  return v5;
}

id PXGIdentityValueTransformation_block_invoke(int a1, id a2)
{
  return a2;
}

uint64_t PXGIntegerToStringValueTransformation_block_invoke_2(uint64_t a1, void *a2)
{
  return objc_msgSend(NSString, "stringWithFormat:", @"%ld", objc_msgSend(a2, "integerValue"));
}

uint64_t PXGStringToIntegerValueTransformation_block_invoke_3(uint64_t a1, void *a2)
{
  uint64_t v2 = NSNumber;
  uint64_t v3 = [a2 integerValue];
  return [v2 numberWithInteger:v3];
}

uint64_t PXGSerializableToSerializedObjectValueTransformation_block_invoke_4(uint64_t a1, void *a2)
{
  return [a2 createSerializableObject];
}

id PXGCreateDictionaryWithTransforms(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  uint64_t v16 = 0;
  uint64_t v17 = &v16;
  uint64_t v18 = 0x3032000000;
  CGRect v19 = __Block_byref_object_copy__190436;
  double v20 = __Block_byref_object_dispose__190437;
  objc_msgSend(MEMORY[0x1E4F1CA60], "dictionaryWithCapacity:", objc_msgSend(v5, "count"));
  id v21 = (id)objc_claimAutoreleasedReturnValue();
  v12[0] = MEMORY[0x1E4F143A8];
  v12[1] = 3221225472;
  void v12[2] = __PXGCreateDictionaryWithTransforms_block_invoke;
  v12[3] = &unk_1E5DC35C8;
  id v8 = v6;
  id v13 = v8;
  id v9 = v7;
  id v14 = v9;
  CGFloat v15 = &v16;
  [v5 enumerateKeysAndObjectsUsingBlock:v12];
  id v10 = (id)v17[5];

  _Block_object_dispose(&v16, 8);
  return v10;
}

void sub_1AAEF18C8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__190436(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__190437(uint64_t a1)
{
}

void __PXGCreateDictionaryWithTransforms_block_invoke(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = a1[4];
  id v6 = *(void (**)(uint64_t, uint64_t))(v5 + 16);
  id v7 = a3;
  v6(v5, a2);
  id v9 = (id)objc_claimAutoreleasedReturnValue();
  id v8 = (*(void (**)(void))(a1[5] + 16))();

  [*(id *)(*(void *)(a1[6] + 8) + 40) setObject:v8 forKey:v9];
}

id PXGSerializeSpriteInfo(unsigned __int8 *a1)
{
  v18[2] = *MEMORY[0x1E4F143B8];
  v16[0] = @"presentationType";
  uint64_t v2 = [NSNumber numberWithInteger:*a1];
  v17[0] = v2;
  v16[1] = @"mediaKind";
  uint64_t v3 = [NSNumber numberWithInteger:a1[1]];
  v17[1] = v3;
  _OWORD v16[2] = @"mediaTargetSize";
  int v15 = HIDWORD(*((void *)a1 + 1));
  uint64_t v4 = objc_msgSend(NSNumber, "numberWithFloat:");
  v18[0] = v4;
  HIDWORD(v5) = v15;
  LODWORD(v5) = v15;
  id v6 = [NSNumber numberWithFloat:v5];
  v18[1] = v6;
  id v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:v18 count:2];

  void v17[2] = v7;
  v16[3] = @"mediaAspectRatio";
  LODWORD(v_Block_object_dispose(&STACK[0x2A0], 8) = *((_DWORD *)a1 + 4);
  id v9 = [NSNumber numberWithFloat:v8];
  v17[3] = v9;
  void v16[4] = @"tag";
  id v10 = [NSNumber numberWithInteger:*((void *)a1 + 3)];
  void v17[4] = v10;
  v16[5] = @"mediaVersion";
  BOOL v11 = [NSNumber numberWithInteger:*((unsigned __int16 *)a1 + 16)];
  void v17[5] = v11;
  v16[6] = @"flags";
  BOOL v12 = [NSNumber numberWithInteger:a1[34]];
  v17[6] = v12;
  id v13 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v17 forKeys:v16 count:7];

  return v13;
}

void PXGDeserializeSpriteInfo(void *a1@<X0>, uint64_t a2@<X8>)
{
  *(void *)(a2 + 32) = 0;
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  id v3 = a1;
  id v4 = [v3 objectForKeyedSubscript:@"presentationType"];
  char v5 = [v4 intValue];

  *(unsigned char *)a2 = v5;
  id v6 = [v3 objectForKeyedSubscript:@"mediaKind"];
  char v7 = [v6 intValue];

  *(unsigned char *)(a2 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v7;
  double v8 = [v3 objectForKeyedSubscript:@"mediaTargetSize"];
  id v9 = [v8 objectAtIndexedSubscript:0];
  [v9 floatValue];
  unsigned int v20 = v10;
  BOOL v11 = [v8 objectAtIndexedSubscript:1];
  [v11 floatValue];
  unint64_t v21 = __PAIR64__(v12, v20);

  *(void *)(a2 + _Block_object_dispose(&STACK[0x2A0], 8) = v21;
  id v13 = [v3 objectForKeyedSubscript:@"mediaAspectRatio"];
  [v13 floatValue];
  int v15 = v14;

  *(_DWORD *)(a2 + 16) = v15;
  id v16 = [v3 objectForKeyedSubscript:@"tag"];
  uint64_t v17 = (int)[v16 intValue];

  *(void *)(a2 + 24) = v17;
  id v18 = [v3 objectForKeyedSubscript:@"mediaVersion"];
  LOWORD(v17) = [v18 intValue];

  *(_WORD *)(a2 + 32) = v17;
  CGRect v19 = [v3 objectForKeyedSubscript:@"flags"];

  id v22 = v19;
  LOBYTE(v3) = [v22 intValue];

  *(unsigned char *)(a2 + 34) = (_BYTE)v3;
}

id PXGSerializeSpriteStyle(uint64_t a1, double a2)
{
  uint64_t v47 = *MEMORY[0x1E4F143B8];
  v41[0] = @"alpha";
  LODWORD(a2) = *(_DWORD *)a1;
  long long v39 = [NSNumber numberWithFloat:a2];
  v42[0] = v39;
  v41[1] = @"clippingRect";
  long long v40 = *(_OWORD *)(a1 + 20);
  id v3 = objc_msgSend(NSNumber, "numberWithFloat:");
  CGRect v43 = v3;
  HIDWORD(v4) = DWORD1(v40);
  LODWORD(v4) = DWORD1(v40);
  char v5 = [NSNumber numberWithFloat:v4];
  CGRect v44 = v5;
  id v6 = objc_msgSend(NSNumber, "numberWithFloat:", COERCE_DOUBLE(__PAIR64__(DWORD1(v40), DWORD2(v40))));
  unint64_t v45 = v6;
  char v7 = objc_msgSend(NSNumber, "numberWithFloat:", COERCE_DOUBLE(__PAIR64__(DWORD1(v40), HIDWORD(v40))));
  double v46 = v7;
  *(void *)&long long v40 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v43 count:4];

  v42[1] = v40;
  _OWORD v41[2] = @"cornerRadius";
  LODWORD(v_Block_object_dispose(&STACK[0x2A0], 8) = *(_DWORD *)(a1 + 36);
  int v9 = *(_DWORD *)(a1 + 40);
  int v10 = *(_DWORD *)(a1 + 44);
  int v11 = *(_DWORD *)(a1 + 48);
  unsigned int v12 = [NSNumber numberWithFloat:v8];
  CGRect v43 = v12;
  LODWORD(v13) = v9;
  int v14 = [NSNumber numberWithFloat:v13];
  CGRect v44 = v14;
  LODWORD(v15) = v10;
  id v16 = [NSNumber numberWithFloat:v15];
  unint64_t v45 = v16;
  LODWORD(v17) = v11;
  id v18 = [NSNumber numberWithFloat:v17];
  double v46 = v18;
  double v38 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v43 count:4];

  void v42[2] = v38;
  v41[3] = @"zSortOffset";
  LODWORD(v19) = *(_DWORD *)(a1 + 52);
  double v37 = [NSNumber numberWithFloat:v19];
  v42[3] = v37;
  v41[4] = @"rotation";
  LODWORD(v2PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(_DWORD *)(a1 + 56);
  unint64_t v21 = [NSNumber numberWithFloat:v20];
  v42[4] = v21;
  v41[5] = @"scale";
  LODWORD(v22) = *(_DWORD *)(a1 + 60);
  CGRect v23 = [NSNumber numberWithFloat:v22];
  v42[5] = v23;
  v41[6] = @"contentsRotation";
  LODWORD(v24) = *(_DWORD *)(a1 + 64);
  id v25 = [NSNumber numberWithFloat:v24];
  v42[6] = v25;
  v41[7] = @"resizableCapInsetsIndex";
  uint64_t v26 = [NSNumber numberWithInteger:*(unsigned __int16 *)(a1 + 68)];
  v42[7] = v26;
  v41[8] = @"contentsGravity";
  uint64_t v27 = [NSNumber numberWithInteger:*(unsigned __int8 *)(a1 + 70)];
  v42[8] = v27;
  v41[9] = @"anchorPoint";
  int v36 = HIDWORD(*(void *)(a1 + 72));
  __int16 v28 = objc_msgSend(NSNumber, "numberWithFloat:");
  CGRect v43 = v28;
  HIDWORD(v29) = v36;
  LODWORD(v29) = v36;
  float64x2_t v30 = [NSNumber numberWithFloat:v29];
  CGRect v44 = v30;
  long long v31 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v43 count:2];

  v42[9] = v31;
  v41[10] = @"translationZ";
  LODWORD(v32) = *(_DWORD *)(a1 + 80);
  long long v33 = [NSNumber numberWithFloat:v32];
  v42[10] = v33;
  long long v34 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v42 forKeys:v41 count:11];

  return v34;
}

void PXGDeserializeSpriteStyle(void *a1@<X0>, uint64_t a2@<X8>)
{
  *(_OWORD *)(a2 + 12_Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(_OWORD *)(a2 + 144) = 0u;
  *(_OWORD *)(a2 + 96) = 0u;
  *(_OWORD *)(a2 + 112) = 0u;
  *(_OWORD *)(a2 + 64) = 0u;
  *(_OWORD *)(a2 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0u;
  *(_OWORD *)(a2 + 32) = 0u;
  *(_OWORD *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  id v3 = a1;
  id v4 = [v3 objectForKeyedSubscript:@"alpha"];
  [v4 floatValue];
  int v6 = v5;

  *(_DWORD *)a2 = v6;
  char v7 = [v3 objectForKeyedSubscript:@"clippingRect"];
  double v8 = [v7 objectAtIndexedSubscript:0];
  [v8 floatValue];
  unsigned int v54 = v9;
  int v10 = [v7 objectAtIndexedSubscript:1];
  [v10 floatValue];
  unsigned int v53 = v11;
  unsigned int v12 = [v7 objectAtIndexedSubscript:2];
  [v12 floatValue];
  unsigned int v52 = v13;
  int v14 = [v7 objectAtIndexedSubscript:3];
  [v14 floatValue];
  *(void *)&long long v15 = __PAIR64__(v53, v54);
  *((void *)&v15 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = __PAIR64__(v16, v52);
  *(_OWORD *)id v55 = v15;

  *(_OWORD *)(a2 + 2PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(_OWORD *)v55;
  double v17 = [v3 objectForKeyedSubscript:@"cornerRadius"];
  id v18 = [v17 objectAtIndexedSubscript:0];
  [v18 floatValue];
  int v20 = v19;

  id v21 = [v17 objectAtIndexedSubscript:1];
  [v21 floatValue];
  int v23 = v22;

  id v24 = [v17 objectAtIndexedSubscript:2];
  [v24 floatValue];
  int v26 = v25;

  id v27 = [v17 objectAtIndexedSubscript:3];
  [v27 floatValue];
  int v29 = v28;

  *(_DWORD *)(a2 + 36) = v20;
  *(_DWORD *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v23;
  *(_DWORD *)(a2 + 44) = v26;
  *(_DWORD *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = v29;

  id v30 = [v3 objectForKeyedSubscript:@"zSortOffset"];
  [v30 floatValue];
  int v32 = v31;

  *(_DWORD *)(a2 + 52) = v32;
  id v33 = [v3 objectForKeyedSubscript:@"rotation"];
  [v33 floatValue];
  int v35 = v34;

  *(_DWORD *)(a2 + 56) = v35;
  id v36 = [v3 objectForKeyedSubscript:@"scale"];
  [v36 floatValue];
  int v38 = v37;

  *(_DWORD *)(a2 + 6PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v38;
  id v39 = [v3 objectForKeyedSubscript:@"contentsRotation"];
  [v39 floatValue];
  int v41 = v40;

  *(_DWORD *)(a2 + 64) = v41;
  id v42 = [v3 objectForKeyedSubscript:@"resizableCapInsetsIndex"];
  LOWORD(v1_Block_object_dispose(&STACK[0x2A0], 8) = [v42 intValue];

  *(_WORD *)(a2 + 6_Block_object_dispose(&STACK[0x2A0], 8) = (_WORD)v18;
  id v43 = [v3 objectForKeyedSubscript:@"contentsGravity"];
  LOBYTE(v1_Block_object_dispose(&STACK[0x2A0], 8) = [v43 intValue];

  *(unsigned char *)(a2 + 7PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = (_BYTE)v18;
  CGRect v44 = [v3 objectForKeyedSubscript:@"anchorPoint"];
  unint64_t v45 = [v44 objectAtIndexedSubscript:0];
  [v45 floatValue];
  LODWORD(v55[0]) = v46;
  uint64_t v47 = [v44 objectAtIndexedSubscript:1];
  [v47 floatValue];
  v55[0] = (id)__PAIR64__(v48, v55[0]);

  *(id *)(a2 + 72) = v55[0];
  unint64_t v49 = [v3 objectForKeyedSubscript:@"translationZ"];

  id v56 = v49;
  [v56 floatValue];
  int v51 = v50;

  *(_DWORD *)(a2 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v51;
}

id PXGSerializeSpriteGeometry(uint64_t a1)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  v15[0] = @"center";
  double v2 = *(double *)(a1 + 8);
  double v3 = *(double *)(a1 + 16);
  id v4 = [NSNumber numberWithDouble:*(double *)a1];
  double v17 = v4;
  int v5 = [NSNumber numberWithDouble:v2];
  id v18 = v5;
  int v6 = [NSNumber numberWithDouble:v3];
  int v19 = v6;
  char v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v17 count:3];

  v15[1] = @"size";
  v16[0] = v7;
  int v14 = HIDWORD(*(void *)(a1 + 24));
  double v8 = objc_msgSend(NSNumber, "numberWithFloat:");
  double v17 = v8;
  HIDWORD(v9) = v14;
  LODWORD(v9) = v14;
  int v10 = [NSNumber numberWithFloat:v9];
  id v18 = v10;
  unsigned int v11 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v17 count:2];

  v16[1] = v11;
  unsigned int v12 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v16 forKeys:v15 count:2];

  return v12;
}

void PXGDeserializeSpriteGeometry(void *a1@<X0>, uint64_t a2@<X8>)
{
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  id v3 = a1;
  id v4 = [v3 objectForKeyedSubscript:@"center"];
  id v5 = [v4 objectAtIndexedSubscript:0];
  [v5 floatValue];
  double v7 = v6;

  id v8 = [v4 objectAtIndexedSubscript:1];
  [v8 floatValue];
  double v10 = v9;

  id v11 = [v4 objectAtIndexedSubscript:2];
  [v11 floatValue];
  double v13 = v12;

  *(double *)a2 = v7;
  *(double *)(a2 + _Block_object_dispose(&STACK[0x2A0], 8) = v10;
  *(double *)(a2 + 16) = v13;

  id v20 = [v3 objectForKeyedSubscript:@"size"];

  int v14 = [v20 objectAtIndexedSubscript:0];
  [v14 floatValue];
  unsigned int v18 = v15;
  unsigned int v16 = [v20 objectAtIndexedSubscript:1];
  [v16 floatValue];
  unint64_t v19 = __PAIR64__(v17, v18);

  *(void *)(a2 + 24) = v19;
}

id PXGSerializeSpriteEntity(unsigned int a1)
{
  v5[1] = *MEMORY[0x1E4F143B8];
  id v4 = @"entityId";
  uint64_t v1 = [NSNumber numberWithInteger:a1];
  v5[0] = v1;
  double v2 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v5 forKeys:&v4 count:1];

  return v2;
}

uint64_t PXGDeserializeSpriteEntity(void *a1)
{
  uint64_t v1 = [a1 objectForKeyedSubscript:@"entityId"];
  uint64_t v2 = [v1 intValue];

  return v2;
}

id PXGSerializeSpriteTextureInfo(uint64_t a1)
{
  uint64_t v34 = *MEMORY[0x1E4F143B8];
  v28[0] = @"sampleOrigin";
  int v25 = HIDWORD(*(void *)a1);
  uint64_t v2 = objc_msgSend(NSNumber, "numberWithFloat:");
  id v30 = v2;
  HIDWORD(v3) = v25;
  LODWORD(v3) = v25;
  id v4 = [NSNumber numberWithFloat:v3];
  int v31 = v4;
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v30 count:2];

  v29[0] = v5;
  v28[1] = @"sampleSize";
  int v26 = HIDWORD(*(void *)(a1 + 8));
  float v6 = objc_msgSend(NSNumber, "numberWithFloat:");
  id v30 = v6;
  HIDWORD(v7) = v26;
  LODWORD(v7) = v26;
  id v8 = [NSNumber numberWithFloat:v7];
  int v31 = v8;
  float v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v30 count:2];

  v29[1] = v9;
  v28[2] = @"textureSize";
  int v27 = HIDWORD(*(void *)(a1 + 16));
  double v10 = objc_msgSend(NSNumber, "numberWithFloat:");
  id v30 = v10;
  HIDWORD(v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v27;
  LODWORD(v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v27;
  float v12 = [NSNumber numberWithFloat:v11];
  int v31 = v12;
  double v13 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v30 count:2];

  v29[2] = v13;
  v28[3] = @"orientationTransform";
  long long v24 = *(_OWORD *)(a1 + 32);
  int v14 = objc_msgSend(NSNumber, "numberWithFloat:");
  id v30 = v14;
  HIDWORD(v15) = DWORD1(v24);
  LODWORD(v15) = DWORD1(v24);
  unsigned int v16 = [NSNumber numberWithFloat:v15];
  int v31 = v16;
  unsigned int v17 = objc_msgSend(NSNumber, "numberWithFloat:", COERCE_DOUBLE(__PAIR64__(DWORD1(v24), DWORD2(v24))));
  int v32 = v17;
  unsigned int v18 = objc_msgSend(NSNumber, "numberWithFloat:", COERCE_DOUBLE(__PAIR64__(DWORD1(v24), HIDWORD(v24))));
  id v33 = v18;
  unint64_t v19 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v30 count:4];

  v29[3] = v19;
  v28[4] = @"alpha";
  LODWORD(v2PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(_DWORD *)(a1 + 48);
  id v21 = [NSNumber numberWithFloat:v20];
  void v29[4] = v21;
  int v22 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v29 forKeys:v28 count:5];

  return v22;
}

void PXGDeserializeSpriteTextureInfo(void *a1@<X0>, uint64_t a2@<X8>)
{
  *(_OWORD *)(a2 + 32) = 0u;
  *(_OWORD *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  id v3 = a1;
  id v4 = [v3 objectForKeyedSubscript:@"sampleOrigin"];
  id v5 = [v4 objectAtIndexedSubscript:0];
  [v5 floatValue];
  unsigned int v34 = v6;
  double v7 = [v4 objectAtIndexedSubscript:1];
  [v7 floatValue];
  unint64_t v35 = __PAIR64__(v8, v34);

  *(void *)a2 = v35;
  float v9 = [v3 objectForKeyedSubscript:@"sampleSize"];
  double v10 = [v9 objectAtIndexedSubscript:0];
  [v10 floatValue];
  LODWORD(v35) = v11;
  float v12 = [v9 objectAtIndexedSubscript:1];
  [v12 floatValue];
  unint64_t v36 = __PAIR64__(v13, v35);

  *(void *)(a2 + _Block_object_dispose(&STACK[0x2A0], 8) = v36;
  int v14 = [v3 objectForKeyedSubscript:@"textureSize"];
  double v15 = [v14 objectAtIndexedSubscript:0];
  [v15 floatValue];
  LODWORD(v36) = v16;
  unsigned int v17 = [v14 objectAtIndexedSubscript:1];
  [v17 floatValue];
  unint64_t v37 = __PAIR64__(v18, v36);

  *(void *)(a2 + 16) = v37;
  unint64_t v19 = [v3 objectForKeyedSubscript:@"orientationTransform"];
  double v20 = [v19 objectAtIndexedSubscript:0];
  [v20 floatValue];
  LODWORD(v37) = v21;
  int v22 = [v19 objectAtIndexedSubscript:1];
  [v22 floatValue];
  unsigned int v33 = v23;
  long long v24 = [v19 objectAtIndexedSubscript:2];
  [v24 floatValue];
  unsigned int v32 = v25;
  int v26 = [v19 objectAtIndexedSubscript:3];
  [v26 floatValue];
  *(void *)&long long v27 = __PAIR64__(v33, v37);
  *((void *)&v27 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = __PAIR64__(v28, v32);
  *(_OWORD *)int v38 = v27;

  *(_OWORD *)(a2 + 32) = *(_OWORD *)v38;
  int v29 = [v3 objectForKeyedSubscript:@"alpha"];

  id v39 = v29;
  [v39 floatValue];
  int v31 = v30;

  *(_DWORD *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = v31;
}

id PXGSerializeTextureConverterOptions(unint64_t a1)
{
  void v7[2] = *MEMORY[0x1E4F143B8];
  v6[0] = @"effectID";
  uint64_t v2 = [NSNumber numberWithInteger:a1];
  v6[1] = @"wantsMipmaps";
  v7[0] = v2;
  id v3 = [NSNumber numberWithBool:HIDWORD(a1) & 1];
  v7[1] = v3;
  id v4 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v7 forKeys:v6 count:2];

  return v4;
}

uint64_t PXGDeserializeTextureConverterOptions(void *a1)
{
  id v1 = a1;
  id v2 = [v1 objectForKeyedSubscript:@"effectID"];
  uint64_t v3 = [v2 intValue];

  id v4 = [v1 objectForKeyedSubscript:@"wantsMipmaps"];

  id v5 = v4;
  LODWORD(v4) = [v5 BOOLValue];

  uint64_t v6 = 0x100000000;
  if (!v4) {
    uint64_t v6 = 0;
  }
  return v6 | v3;
}

void sub_1AAEF3D08(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXStoryTimelineProducerCreateDefault()
{
  os_log_t v0 = +[PXStorySettings sharedInstance];
  uint64_t v1 = [v0 timelineProducerKind];

  if (v1)
  {
    if (v1 != 1)
    {
      id v5 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v6 = [NSString stringWithUTF8String:"id<PXStoryTimelineProducer>  _Nonnull PXStoryTimelineProducerCreateDefault(void)"];
      [v5 handleFailureInFunction:v6 file:@"PXStoryTimelineProducer.m" lineNumber:48 description:@"Code which should be unreachable has been reached"];

      abort();
    }
    id v2 = off_1E5DA8CA0;
  }
  else
  {
    id v2 = off_1E5DA8B80;
  }
  id v3 = objc_alloc_init(*v2);
  return v3;
}

void sub_1AAEF6110(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v10 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__191237(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__191238(uint64_t a1)
{
}

id _PXSmartAlbumConditionClassForConditionType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      id v3 = [MEMORY[0x1E4F28B00] currentHandler];
      id v4 = [NSString stringWithUTF8String:"Class _PXSmartAlbumConditionClassForConditionType(PXSmartAlbumConditionType)"];
      [v3 handleFailureInFunction:v4, @"PXSmartAlbumCondition.m", 160, @"Invalid parameter not satisfying: %@", @"conditionType != PXSmartAlbumConditionTypeInvalid" file lineNumber description];

      id v5 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v6 = [NSString stringWithUTF8String:"Class _PXSmartAlbumConditionClassForConditionType(PXSmartAlbumConditionType)"];
      [v5 handleFailureInFunction:v6 file:@"PXSmartAlbumCondition.m" lineNumber:165 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
      uint64_t v1 = objc_opt_class();
      break;
    default:
      uint64_t v1 = 0;
      break;
  }
  return v1;
}

void sub_1AAEF7024(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(void *a1, void *a2, void *a3)
{
  uint64_t v28 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a3;
  id v7 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if ([v5 length])
  {
    if (v7) {
      goto LABEL_3;
    }
LABEL_16:
    double v20 = [MEMORY[0x1E4F28B00] currentHandler];
    int v21 = objc_msgSend(NSString, "stringWithUTF8String:", "id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(NSString *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
    [v20 handleFailureInFunction:v21, @"PXSharedLibraryAlertUtilities.m", 24, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

    if (v6) {
      goto LABEL_4;
    }
    goto LABEL_17;
  }
  unsigned int v18 = [MEMORY[0x1E4F28B00] currentHandler];
  unint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(NSString *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
  [v18 handleFailureInFunction:v19, @"PXSharedLibraryAlertUtilities.m", 23, @"Invalid parameter not satisfying: %@", @"title.length" file lineNumber description];

  if (!v7) {
    goto LABEL_16;
  }
LABEL_3:
  if (v6) {
    goto LABEL_4;
  }
LABEL_17:
  int v22 = [MEMORY[0x1E4F28B00] currentHandler];
  unsigned int v23 = objc_msgSend(NSString, "stringWithUTF8String:", "id<NSObject>  _Nullable PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(NSString *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
  [v22 handleFailureInFunction:v23, @"PXSharedLibraryAlertUtilities.m", 25, @"Invalid parameter not satisfying: %@", @"cancellationHandler" file lineNumber description];

LABEL_4:
  unsigned int v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138543362;
    id v27 = v5;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "Will present progress alert with title: \"%{public}@\"", buf, 0xCu);
  }

  v24[0] = MEMORY[0x1E4F143A8];
  v24[1] = 3221225472;
  void v24[2] = __PXSharedLibraryPresentProgressAlertWithPresentationEnvironment_block_invoke;
  v24[3] = &unk_1E5DD3128;
  id v25 = v6;
  id v9 = v6;
  uint64_t v10 = +[PXAlertController activityAlertControllerWithTitle:v5 cancelHandler:v24 shouldDismiss:1];
  [v7 presentViewController:v10 animated:1 completionHandler:0];

  id v11 = v10;
  uint64_t v12 = PLSharedLibraryGetLog();
  uint64_t v13 = v12;
  if (v11)
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_12;
    }
    *(_WORD *)long long buf = 0;
    uint64_t v14 = "Did present progress alert";
    uint64_t v15 = v13;
    os_log_type_t v16 = OS_LOG_TYPE_DEFAULT;
  }
  else
  {
    if (!os_log_type_enabled(v12, OS_LOG_TYPE_ERROR)) {
      goto LABEL_12;
    }
    *(_WORD *)long long buf = 0;
    uint64_t v14 = "Failed to present progress alert";
    uint64_t v15 = v13;
    os_log_type_t v16 = OS_LOG_TYPE_ERROR;
  }
  _os_log_impl(&dword_1A9AE7000, v15, v16, v14, buf, 2u);
LABEL_12:

  return v11;
}

uint64_t __PXSharedLibraryPresentProgressAlertWithPresentationEnvironment_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a3;
  id v7 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v5)
  {
    if (v7) {
      goto LABEL_3;
    }
LABEL_10:
    uint64_t v14 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v15 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
    [v14 handleFailureInFunction:v15, @"PXSharedLibraryAlertUtilities.m", 53, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

    if (v6) {
      goto LABEL_4;
    }
    goto LABEL_11;
  }
  uint64_t v12 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v13 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
  [v12 handleFailureInFunction:v13, @"PXSharedLibraryAlertUtilities.m", 52, @"Invalid parameter not satisfying: %@", @"token" file lineNumber description];

  if (!v7) {
    goto LABEL_10;
  }
LABEL_3:
  if (v6) {
    goto LABEL_4;
  }
LABEL_11:
  os_log_type_t v16 = [MEMORY[0x1E4F28B00] currentHandler];
  unsigned int v17 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
  [v16 handleFailureInFunction:v17, @"PXSharedLibraryAlertUtilities.m", 54, @"Invalid parameter not satisfying: %@", @"completionHandler" file lineNumber description];

LABEL_4:
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryDismissProgressAlertWithPresentationEnvironment_block_invoke;
  aBlock[3] = &unk_1E5DD3128;
  id v8 = v6;
  id v26 = v8;
  id v9 = _Block_copy(aBlock);
  uint64_t v10 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEFAULT, "Will dismiss progress alert", buf, 2u);
  }

  id v11 = v5;
  if (!v5)
  {
    unsigned int v18 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
    double v20 = (objc_class *)objc_opt_class();
    int v21 = NSStringFromClass(v20);
    [v18 handleFailureInFunction:v19, @"PXSharedLibraryAlertUtilities.m", 63, @"%@ should be an instance inheriting from %@, but it is nil", @"token", v21 file lineNumber description];
LABEL_14:

    goto LABEL_8;
  }
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    unsigned int v18 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(__strong id<NSObject> _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^__strong _Nonnull)(void))");
    int v22 = (objc_class *)objc_opt_class();
    int v21 = NSStringFromClass(v22);
    unsigned int v23 = objc_msgSend(v11, "px_descriptionForAssertionMessage");
    [v18 handleFailureInFunction:v19, @"PXSharedLibraryAlertUtilities.m", 63, @"%@ should be an instance inheriting from %@, but it is %@", @"token", v21, v23 file lineNumber description];

    goto LABEL_14;
  }
LABEL_8:
  [v7 dismissViewController:v11 animated:1 completionHandler:v9];
}

uint64_t __PXSharedLibraryDismissProgressAlertWithPresentationEnvironment_block_invoke(uint64_t a1)
{
  id v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Did dismiss progress alert", v4, 2u);
  }

  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

id PXAudioAssetDescription(void *a1)
{
  uint64_t v1 = (objc_class *)NSString;
  id v2 = a1;
  id v3 = [v1 alloc];
  id v4 = (objc_class *)objc_opt_class();
  id v5 = NSStringFromClass(v4);
  id v6 = [v2 title];
  id v7 = [v2 artistName];
  id v8 = [v2 albumTitle];
  id v9 = [v2 identifier];
  uint64_t v10 = objc_msgSend(v3, "initWithFormat:", @"<%@: %p; Title: %@; Artist: %@; Album: %@; Identifier: %@>",
                  v5,
                  v2,
                  v6,
                  v7,
                  v8,
                  v9);

  return v10;
}

id PXAudioAssetShortDescription(void *a1)
{
  id v2 = a1;
  id v3 = [NSString alloc];
  id v4 = [v2 title];
  if (v4)
  {
    uint64_t v1 = [v2 title];
    objc_msgSend(v1, "px_stringByTruncatingToLength:addEllipsis:", 18, 1);
    id v5 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v5 = @"?";
  }
  id v6 = [v2 artistName];
  if (v6)
  {
    id v7 = [v2 artistName];
    id v8 = objc_msgSend(v7, "px_stringByTruncatingToLength:addEllipsis:", 18, 1);
    id v9 = (void *)[v3 initWithFormat:@"%@ by %@", v5, v8];
  }
  else
  {
    id v9 = (void *)[v3 initWithFormat:@"%@ by %@", v5, @"?"];
  }

  if (v4)
  {
  }
  return v9;
}

__CFString *PXAudioAssetCatalogDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"Mock";
  }
  else {
    return off_1E5DC36E0[a1];
  }
}

id PXAudioAssetDefaultEntryPoint(void *a1)
{
  uint64_t v1 = [a1 entryPoints];
  id v2 = [v1 firstObject];

  return v2;
}

void PXAudioAssetDurationWithDefaultEntryPoint(void *a1@<X0>, uint64_t a2@<X8>)
{
  id v3 = a1;
  id v4 = v3;
  if (v3)
  {
    [v3 duration];
    id v3 = v4;
  }
  else
  {
    memset(v6, 0, sizeof(v6));
  }
  id v5 = PXAudioAssetDefaultEntryPoint(v3);
  PXAudioAssetDurationApplyingEntryPoint((uint64_t)v6, v5, a2);
}

double PXAudioAssetDurationApplyingEntryPoint@<D0>(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v4 = MEMORY[0x1E4F1F9F8];
  long long v5 = *MEMORY[0x1E4F1F9F8];
  *(_OWORD *)a3 = *MEMORY[0x1E4F1F9F8];
  *(void *)(a3 + 16) = *(void *)(v4 + 16);
  if (*(unsigned char *)(a1 + 12))
  {
    [a2 time];
    CMTimeMakeWithSeconds(&rhs, v7, PXAudioDefaultCMTimeScale);
    CMTime v9 = *(CMTime *)a1;
    CMTimeSubtract(&v11, &v9, &rhs);
    *(void *)&long long v5 = v11.value;
    *(CMTime *)a3 = v11;
  }
  return *(double *)&v5;
}

void PXAudioAssetExportableDurationWithDefaultEntryPoint(void *a1@<X0>, uint64_t a2@<X8>)
{
  id v3 = a1;
  uint64_t v4 = v3;
  if (v3)
  {
    [v3 exportableDuration];
    id v3 = v4;
  }
  else
  {
    memset(v6, 0, sizeof(v6));
  }
  long long v5 = PXAudioAssetDefaultEntryPoint(v3);
  PXAudioAssetDurationApplyingEntryPoint((uint64_t)v6, v5, a2);
}

void sub_1AAEFAD38(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__191879(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__191880(uint64_t a1)
{
}

id getDEUtilsClass()
{
  uint64_t v4 = 0;
  long long v5 = &v4;
  uint64_t v6 = 0x2050000000;
  os_log_t v0 = (void *)getDEUtilsClass_softClass;
  uint64_t v7 = getDEUtilsClass_softClass;
  if (!getDEUtilsClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getDEUtilsClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getDEUtilsClass_block_invoke((uint64_t)v3);
    os_log_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAEFAFEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getDEUtilsClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!DiagnosticExtensionsLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    void v6[3] = __DiagnosticExtensionsLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DC3780;
    uint64_t v8 = 0;
    DiagnosticExtensionsLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  if (!DiagnosticExtensionsLibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *DiagnosticExtensionsLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXFeedbackTapToRadarUtilities.m", 35, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("DEUtils");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getDEUtilsClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXFeedbackTapToRadarUtilities.m", 36, @"Unable to find class %s", "DEUtils");

LABEL_10:
    __break(1u);
  }
  getDEUtilsClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __DiagnosticExtensionsLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  DiagnosticExtensionsLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void sub_1AAEFBFFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXFeedbackTapToRadarUtilitiesWriteDictionaryToPlistFile(void *a1, void *a2)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  if (a1)
  {
    id v4 = a1;
    long long v5 = NSTemporaryDirectory();
    uint64_t v6 = [v3 stringByAppendingString:@".plist"];
    long long v7 = [v5 stringByAppendingPathComponent:v6];

    uint64_t v8 = [MEMORY[0x1E4F1CB10] fileURLWithPath:v7];
    id v12 = 0;
    LOBYTE(v6) = [v4 writeToURL:v8 error:&v12];

    id v9 = v12;
    if ((v6 & 1) == 0)
    {
      uint64_t v10 = PLUIGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_DEBUG))
      {
        *(_DWORD *)long long buf = 138412546;
        id v14 = v3;
        __int16 v15 = 2112;
        id v16 = v9;
        _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      uint64_t v8 = 0;
    }
  }
  else
  {
    uint64_t v8 = 0;
  }

  return v8;
}

id PXFeedbackTapToRadarUtilitiesWriteStringToTextFile(void *a1, void *a2)
{
  return PXFeedbackTapToRadarUtilitiesWriteStringToFileWithExtension(a1, a2, @"txt");
}

id PXFeedbackTapToRadarUtilitiesWriteStringToFileWithExtension(void *a1, void *a2, void *a3)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  if (a1)
  {
    id v6 = a3;
    id v7 = a1;
    uint64_t v8 = NSTemporaryDirectory();
    id v9 = [v5 stringByAppendingPathExtension:v6];

    uint64_t v10 = [(id)v8 stringByAppendingPathComponent:v9];

    CMTime v11 = [MEMORY[0x1E4F1CB10] fileURLWithPath:v10];
    id v15 = 0;
    LOBYTE(v_Block_object_dispose(&STACK[0x2A0], 8) = [v7 writeToURL:v11 atomically:1 encoding:4 error:&v15];

    id v12 = v15;
    if ((v8 & 1) == 0)
    {
      uint64_t v13 = PLUIGetLog();
      if (os_log_type_enabled(v13, OS_LOG_TYPE_DEBUG))
      {
        *(_DWORD *)long long buf = 138412546;
        id v17 = v5;
        __int16 v18 = 2112;
        id v19 = v12;
        _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      CMTime v11 = 0;
    }
  }
  else
  {
    CMTime v11 = 0;
  }

  return v11;
}

id PXFeedbackTapToRadarUtilitiesWriteDataToFile(void *a1, void *a2)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  if (a1)
  {
    id v4 = a1;
    id v5 = NSTemporaryDirectory();
    id v6 = [v5 stringByAppendingPathComponent:v3];

    id v7 = [MEMORY[0x1E4F1CB10] fileURLWithPath:v6];
    id v12 = 0;
    char v8 = [v4 writeToURL:v7 options:1 error:&v12];

    id v9 = v12;
    if ((v8 & 1) == 0)
    {
      uint64_t v10 = PLUIGetLog();
      if (os_log_type_enabled(v10, OS_LOG_TYPE_DEBUG))
      {
        *(_DWORD *)long long buf = 138412546;
        id v14 = v3;
        __int16 v15 = 2112;
        id v16 = v9;
        _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEBUG, "%@ Failed to save tap-to-radar info, error: %@", buf, 0x16u);
      }

      id v7 = 0;
    }
  }
  else
  {
    id v7 = 0;
  }

  return v7;
}

uint64_t PXFeedbackTapToRadarUtilitiesCopyFilesToFolder(void *a1, void *a2, uint64_t a3)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = [MEMORY[0x1E4F28CB8] defaultManager];
  uint64_t v8 = [v7 createDirectoryAtURL:v6 withIntermediateDirectories:1 attributes:0 error:a3];

  if (v8)
  {
    long long v17 = 0u;
    long long v18 = 0u;
    long long v15 = 0u;
    long long v16 = 0u;
    id v9 = v5;
    uint64_t v10 = [v9 countByEnumeratingWithState:&v15 objects:v19 count:16];
    if (v10)
    {
      uint64_t v11 = v10;
      uint64_t v12 = *(void *)v16;
      do
      {
        uint64_t v13 = 0;
        do
        {
          if (*(void *)v16 != v12) {
            objc_enumerationMutation(v9);
          }
          objc_msgSend(getDEUtilsClass(), "copyFile:toDir:", *(void *)(*((void *)&v15 + 1) + 8 * v13++), v6, (void)v15);
        }
        while (v11 != v13);
        uint64_t v11 = [v9 countByEnumeratingWithState:&v15 objects:v19 count:16];
      }
      while (v11);
    }
  }
  return v8;
}

void sub_1AAF01020(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF01524(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id a23,id location)
{
}

uint64_t __Block_byref_object_copy__192691(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__192692(uint64_t a1)
{
}

void sub_1AAF02510(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXDefaultAppleMusicPlayerController()
{
  if (PXDefaultAppleMusicPlayerController_onceToken != -1) {
    dispatch_once(&PXDefaultAppleMusicPlayerController_onceToken, &__block_literal_global_165);
  }
  os_log_t v0 = (void *)sharedPlayerController;
  return v0;
}

void __PXDefaultAppleMusicPlayerController_block_invoke()
{
  id v0 = [[_PXAppleMusicPlayerController alloc] _init];
  id v1 = (void *)sharedPlayerController;
  sharedPlayerController = (uint64_t)v0;
}

void sub_1AAF06A10(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__193580(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__193581(uint64_t a1)
{
}

void sub_1AAF08094(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

uint64_t __Block_byref_object_copy__194073(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__194074(uint64_t a1)
{
}

void PXStoryMutableChapterSetChapter(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  id v5 = [v3 localizedTitle];
  [v4 setLocalizedTitle:v5];

  id v6 = [v3 localizedSubtitle];

  [v4 setLocalizedSubtitle:v6];
}

id PXLocalizedCaptionForFilterState(void *a1)
{
  if ([a1 isFiltering]) {
    id v1 = @"PXContentFilterCaptionFilteringOn";
  }
  else {
    id v1 = @"PXContentFilterCaptionFilteringOff";
  }
  id v2 = PXLocalizedStringFromTable(v1, @"PhotosUICore");
  return v2;
}

id PXLocalizedTitleForFilterState(void *a1)
{
  id v1 = a1;
  if ([v1 isFiltering]) {
    [v1 localizedDescription];
  }
  else {
  id v2 = PXLocalizedStringFromTable(@"PXContentFilterTitleFilteringOff", @"PhotosUICore");
  }

  return v2;
}

void PXPPTInstallTestCompletionHandler(void *a1)
{
  id v8 = a1;
  if (([MEMORY[0x1E4F29060] isMainThread] & 1) == 0)
  {
    id v6 = [MEMORY[0x1E4F28B00] currentHandler];
    id v7 = [NSString stringWithUTF8String:"void PXPPTInstallTestCompletionHandler(void (^__strong _Nonnull)(void))"];
    [v6 handleFailureInFunction:v7, @"PXPPTSupport.m", 17, @"Invalid parameter not satisfying: %@", @"NSThread.isMainThread" file lineNumber description];
  }
  id v1 = (void *)_completionHandlers;
  if (!_completionHandlers)
  {
    uint64_t v2 = [MEMORY[0x1E4F1CA48] array];
    id v3 = (void *)_completionHandlers;
    _completionHandlers = v2;

    id v1 = (void *)_completionHandlers;
  }
  id v4 = (void *)[v8 copy];
  id v5 = _Block_copy(v4);
  [v1 addObject:v5];
}

void PXPPTCallAllTestCompletionHandlers()
{
  uint64_t v13 = *MEMORY[0x1E4F143B8];
  if (([MEMORY[0x1E4F29060] isMainThread] & 1) == 0)
  {
    id v6 = [MEMORY[0x1E4F28B00] currentHandler];
    id v7 = [NSString stringWithUTF8String:"void PXPPTCallAllTestCompletionHandlers(void)"];
    [v6 handleFailureInFunction:v7, @"PXPPTSupport.m", 25, @"Invalid parameter not satisfying: %@", @"NSThread.isMainThread" file lineNumber description];
  }
  id v0 = (void *)[(id)_completionHandlers copy];
  [(id)_completionHandlers removeAllObjects];
  long long v10 = 0u;
  long long v11 = 0u;
  long long v8 = 0u;
  long long v9 = 0u;
  id v1 = v0;
  uint64_t v2 = [v1 countByEnumeratingWithState:&v8 objects:v12 count:16];
  if (v2)
  {
    uint64_t v3 = v2;
    uint64_t v4 = *(void *)v9;
    do
    {
      uint64_t v5 = 0;
      do
      {
        if (*(void *)v9 != v4) {
          objc_enumerationMutation(v1);
        }
        (*(void (**)(void))(*(void *)(*((void *)&v8 + 1) + 8 * v5++) + 16))();
      }
      while (v3 != v5);
      uint64_t v3 = [v1 countByEnumeratingWithState:&v8 objects:v12 count:16];
    }
    while (v3);
  }
}

void sub_1AAF0D4B4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
}

void sub_1AAF11590(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__195162(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__195163(uint64_t a1)
{
}

void sub_1AAF16AFC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void PXPhotosLargeHeaderTitleDefaultFontWithTextStyle()
{
}

void PXPhotosLargeHeaderSubtitleDefaultFontWithTextStyle()
{
}

void __PXCreateASTCCompressImage_block_invoke_2(uint64_t a1)
{
  v8[3] = *MEMORY[0x1E4F143B8];
  uint64_t v1 = *MEMORY[0x1E4F2F4F0];
  uint64_t v2 = *MEMORY[0x1E4F2F500];
  v7[0] = *MEMORY[0x1E4F2F6C8];
  v7[1] = v2;
  uint64_t v3 = *MEMORY[0x1E4F1CFD0];
  v8[0] = v1;
  v8[1] = v3;
  void v7[2] = *MEMORY[0x1E4F2F4E0];
  uint64_t v4 = [NSNumber numberWithUnsignedInt:*(unsigned int *)(a1 + 32)];
  void v8[2] = v4;
  uint64_t v5 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v8 forKeys:v7 count:3];
  id v6 = (void *)PXCreateASTCCompressImage_properties;
  PXCreateASTCCompressImage_properties = v5;
}

uint64_t __PXCreateASTCCompressImage_block_invoke()
{
  uint64_t result = MGGetBoolAnswer();
  PXCreateASTCCompressImage_deviceSupportsASTC = result;
  return result;
}

void PXPreheatMTLDevice()
{
  if (PXPreheatMTLDevice_onceToken != -1) {
    dispatch_once(&PXPreheatMTLDevice_onceToken, &__block_literal_global_196492);
  }
}

void __PXPreheatMTLDevice_block_invoke()
{
  uint64_t v4 = 0;
  uint64_t v5 = &v4;
  uint64_t v6 = 0x2020000000;
  id v0 = (void (*)(void))getMTLCreateSystemDefaultDeviceSymbolLoc_ptr;
  id v7 = getMTLCreateSystemDefaultDeviceSymbolLoc_ptr;
  if (!getMTLCreateSystemDefaultDeviceSymbolLoc_ptr)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke(v3);
    id v0 = (void (*)(void))v5[3];
  }
  _Block_object_dispose(&v4, 8);
  if (v0)
  {
    v0();
  }
  else
  {
    uint64_t v1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"id PX_MTLCreateSystemDefaultDevice(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"UIImage+PhotosUICore.m", 27, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AAF19478(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getMTLCreateSystemDefaultDeviceSymbolLoc_block_invoke(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  v5[0] = 0;
  if (!MetalLibraryCore_frameworkLibrary)
  {
    v5[1] = (void *)MEMORY[0x1E4F143A8];
    void v5[2] = (void *)3221225472;
    void v5[3] = __MetalLibraryCore_block_invoke;
    void v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    long long v6 = xmmword_1E5DC3D28;
    uint64_t v7 = 0;
    MetalLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  uint64_t v2 = (void *)MetalLibraryCore_frameworkLibrary;
  if (!MetalLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *MetalLibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v2, @"UIImage+PhotosUICore.m", 25, @"%s", v5[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v3 = v5[0];
  if (v5[0]) {
LABEL_7:
  }
    free(v3);
  uint64_t result = dlsym(v2, "MTLCreateSystemDefaultDevice");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  getMTLCreateSystemDefaultDeviceSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(a1[4] + 8) + 24);
  return result;
}

uint64_t __MetalLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  MetalLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void sub_1AAF1A2D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v10 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__196579(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__196580(uint64_t a1)
{
}

id PXDebugHierarchyObjectsInGroupForView(void *a1, void *a2, void *a3, int a4)
{
  v15[1] = *MEMORY[0x1E4F143B8];
  id v7 = a2;
  id v8 = a3;
  if ([a1 isEqualToString:@"com.apple.AppKit.NSView"])
  {
    if (a4
      && ([off_1E5DA9658 sharedInstance],
          long long v9 = objc_claimAutoreleasedReturnValue(),
          unsigned int v10 = [v9 sortSpritesInXcodeCustomDebugHierarchy],
          v9,
          +[PXDebugHierarchyViewTreeBuilder buildViewTreeForDebugHierarchyWithIdentifier:v8 provider:v7 options:v10], (uint64_t v11 = objc_claimAutoreleasedReturnValue()) != 0))
    {
      uint64_t v12 = (void *)v11;
      v15[0] = v11;
      uint64_t v13 = [MEMORY[0x1E4F1C978] arrayWithObjects:v15 count:1];
    }
    else
    {
      uint64_t v13 = [v7 subviews];
      uint64_t v12 = 0;
    }
  }
  else
  {
    uint64_t v13 = 0;
  }

  return v13;
}

PXCMMMomentsParticipant *_GetOwner(void *a1)
{
  uint64_t v1 = [a1 firstObject];
  if (!v1
    || (uint64_t v2 = [[PXCMMMomentsParticipant alloc] initWithPerson:v1]) == 0)
  {
    uint64_t v2 = [[PXCMMMomentsParticipant alloc] initWithEmailAddress:@"bob@bob.com" phoneNumber:0 localizedName:@"Bob"];
  }

  return v2;
}

void sub_1AAF1CF80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF1D130(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__197348(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__197349(uint64_t a1)
{
}

void sub_1AAF1D3A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v7 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AAF1D588(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF229DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__198435(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__198436(uint64_t a1)
{
}

void sub_1AAF22C54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  objc_destroyWeak(v8);
  objc_destroyWeak((id *)(v9 - 72));
  _Unwind_Resume(a1);
}

void sub_1AAF22D6C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXSmartAlbumLocalizedString(void *a1)
{
  return PXLocalizedStringFromTable(a1, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringForConditionType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      uint64_t v7 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
      id v8 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForConditionType(PXSmartAlbumConditionType)"];
      [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:27 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      uint64_t v5 = @"PXSmartAlbumConditionTypeAlbum";
      break;
    case 2:
      uint64_t v5 = @"PXSmartAlbumConditionTypeAperture";
      break;
    case 3:
      uint64_t v5 = @"PXSmartAlbumConditionTypeCameraModel";
      break;
    case 4:
      uint64_t v5 = @"PXSmartAlbumConditionTypeDateAdded";
      break;
    case 5:
      uint64_t v5 = @"PXSmartAlbumConditionTypeDateCaptured";
      break;
    case 6:
      uint64_t v5 = @"PXSmartAlbumConditionTypeDescription";
      break;
    case 7:
      uint64_t v5 = @"PXSmartAlbumConditionTypeFilename";
      break;
    case 8:
      uint64_t v5 = @"PXSmartAlbumConditionTypeFlashFired";
      break;
    case 9:
      uint64_t v5 = @"PXSmartAlbumConditionTypeFocalLength";
      break;
    case 10:
      uint64_t v5 = @"PXSmartAlbumConditionTypeISO";
      break;
    case 11:
      uint64_t v5 = @"PXSmartAlbumConditionTypeKeyword";
      break;
    case 12:
      uint64_t v5 = @"PXSmartAlbumConditionTypeLensModel";
      break;
    case 13:
      uint64_t v5 = @"PXSmartAlbumConditionTypePerson";
      break;
    case 14:
      uint64_t v5 = @"PXSmartAlbumConditionTypePhoto";
      break;
    case 15:
      uint64_t v5 = @"PXSmartAlbumConditionTypeShutterSpeed";
      break;
    case 16:
      uint64_t v5 = @"PXSmartAlbumConditionTypeText";
      break;
    case 17:
      uint64_t v5 = @"PXSmartAlbumConditionTypeTitle";
      break;
    default:
      uint64_t v5 = 0;
      break;
  }
  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForConditionTypeValues(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSmartAlbumLocalizedStringsForConditionTypeValues_block_invoke;
  void v6[3] = &unk_1E5DC3FF8;
  id v4 = v3;
  id v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForConditionTypeValues_block_invoke(uint64_t a1, void *a2)
{
  uint64_t v3 = [a2 integerValue];
  id v4 = *(void **)(a1 + 32);
  PXSmartAlbumLocalizedStringForConditionType(v3);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForPhotoType(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      id v7 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
      id v8 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForPhotoType(PXSmartAlbumPhotoType)"];
      [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:102 description:@"Code which should be unreachable has been reached"];

      abort();
    case 1:
      id v5 = @"PXSmartAlbumPhotoTypeAdjusted";
      break;
    case 2:
      id v5 = @"PXSmartAlbumPhotoTypeAnimated";
      break;
    case 3:
      id v5 = @"PXSmartAlbumPhotoTypeBurst";
      break;
    case 4:
      id v5 = @"PXSmartAlbumPhotoTypeFavorite";
      break;
    case 5:
      id v5 = @"PXSmartAlbumPhotoTypeHDR";
      break;
    case 6:
      id v5 = @"PXSmartAlbumPhotoTypeHidden";
      break;
    case 7:
      id v5 = @"PXSmartAlbumPhotoTypeLive";
      break;
    case 8:
      id v5 = @"PXSmartAlbumPhotoTypeMovie";
      break;
    case 9:
      id v5 = @"PXSmartAlbumPhotoTypePanorama";
      break;
    case 10:
      id v5 = @"PXSmartAlbumPhotoTypeRaw";
      break;
    case 11:
      id v5 = @"PXSmartAlbumPhotoTypeReferenced";
      break;
    case 12:
      id v5 = @"PXSmartAlbumPhotoTypeSDOF";
      break;
    case 13:
      id v5 = @"PXSmartAlbumPhotoTypeScreenshot";
      break;
    case 14:
      id v5 = @"PXSmartAlbumPhotoTypeSelfie";
      break;
    case 15:
      id v5 = @"PXSmartAlbumPhotoTypeSloMo";
      break;
    case 16:
      id v5 = @"PXSmartAlbumPhotoTypeTaggedWithGPS";
      break;
    case 17:
      id v5 = @"PXSmartAlbumPhotoTypeTimeLapse";
      break;
    case 18:
      id v5 = @"PXSmartAlbumPhotoTypeUnableToUploadToiCloud";
      break;
    case 19:
      id v5 = @"PXSmartAlbumPhotoTypeProRes";
      break;
    case 20:
      id v5 = @"PXSmartAlbumPhotoTypeScreenRecording";
      break;
    case 21:
      id v5 = @"PXSmartAlbumPhotoTypeLongExposure";
      break;
    case 22:
      id v5 = @"PXSmartAlbumPhotoTypeCinematic";
      break;
    case 23:
      id v5 = @"PXSmartAlbumPhotoTypeSpatial";
      break;
    default:
      id v5 = 0;
      break;
  }
  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForPhotoTypeValues(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSmartAlbumLocalizedStringsForPhotoTypeValues_block_invoke;
  void v6[3] = &unk_1E5DC3FF8;
  id v4 = v3;
  id v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForPhotoTypeValues_block_invoke(uint64_t a1, void *a2)
{
  uint64_t v3 = [a2 integerValue];
  id v4 = *(void **)(a1 + 32);
  PXSmartAlbumLocalizedStringForPhotoType(v3);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForFlashFiredValue(int a1)
{
  if (a1) {
    uint64_t v1 = @"PXSmartAlbumFlashDidFire";
  }
  else {
    uint64_t v1 = @"PXSmartAlbumFlashDidNotFire";
  }
  return PXLocalizedStringFromTable(v1, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForFlashFiredValues(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSmartAlbumLocalizedStringsForFlashFiredValues_block_invoke;
  void v6[3] = &unk_1E5DC3FF8;
  id v4 = v3;
  id v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForFlashFiredValues_block_invoke(uint64_t a1, void *a2)
{
  int v3 = [a2 BOOLValue];
  id v4 = *(void **)(a1 + 32);
  if (v3) {
    id v5 = @"PXSmartAlbumFlashDidFire";
  }
  else {
    id v5 = @"PXSmartAlbumFlashDidNotFire";
  }
  PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
  id v6 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v6];
}

id PXSmartAlbumLocalizedStringForConjunction(int a1)
{
  if (a1)
  {
    if (a1 == 1)
    {
      id v5 = @"PXSmartAlbumConjunctionAnd";
    }
    else
    {
      if (a1 == 2)
      {
        id v7 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
        id v8 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForConjunction(PLQueryConjunction)"];
        [v7 handleFailureInFunction:v8 file:@"PXSmartAlbumStrings.m" lineNumber:227 description:@"Code which should be unreachable has been reached"];

        abort();
      }
      id v5 = 0;
    }
  }
  else
  {
    id v5 = @"PXSmartAlbumConjunctionOr";
  }
  return PXLocalizedStringFromTable(v5, @"PXSmartAlbumStrings");
}

id PXSmartAlbumLocalizedStringsForConjunctionValues(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSmartAlbumLocalizedStringsForConjunctionValues_block_invoke;
  void v6[3] = &unk_1E5DC3FF8;
  id v4 = v3;
  id v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForConjunctionValues_block_invoke(uint64_t a1, void *a2)
{
  int v3 = [a2 integerValue];
  id v4 = *(void **)(a1 + 32);
  PXSmartAlbumLocalizedStringForConjunction(v3);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForComparator(int a1, uint64_t a2)
{
  id v4 = 0;
  switch(a1)
  {
    case 0:
      id v6 = [MEMORY[0x1E4F28B00] currentHandler];
      id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)");
      id v8 = v6;
      uint64_t v9 = v7;
      uint64_t v10 = 249;
      goto LABEL_37;
    case 1:
    case 22:
      id v4 = @"PXSmartAlbumComparatorIs";
      goto LABEL_30;
    case 2:
    case 23:
      id v4 = @"PXSmartAlbumComparatorIsNot";
      goto LABEL_30;
    case 3:
      switch(a2)
      {
        case 1:
          id v4 = @"PXSmartAlbumComparatorIsGreaterThan-Numerical";
          goto LABEL_30;
        case 2:
          id v4 = @"PXSmartAlbumComparatorIsGreaterThan-Temporal";
          goto LABEL_30;
        case 0:
          id v6 = [MEMORY[0x1E4F28B00] currentHandler];
          id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)");
          id v8 = v6;
          uint64_t v9 = v7;
          uint64_t v10 = 260;
          goto LABEL_37;
      }
      goto LABEL_16;
    case 4:
      switch(a2)
      {
        case 1:
          id v4 = @"PXSmartAlbumComparatorIsLessThan-Numerical";
          break;
        case 2:
          id v4 = @"PXSmartAlbumComparatorIsLessThan-Temporal";
          break;
        case 0:
          id v6 = [MEMORY[0x1E4F28B00] currentHandler];
          id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)");
          id v8 = v6;
          uint64_t v9 = v7;
          uint64_t v10 = 272;
LABEL_37:
          [v8 handleFailureInFunction:v9 file:@"PXSmartAlbumStrings.m" lineNumber:v10 description:@"Code which should be unreachable has been reached"];

          abort();
        default:
LABEL_16:
          id v4 = 0;
          break;
      }
LABEL_30:
      return PXLocalizedStringFromTable(v4, @"PXSmartAlbumStrings");
    case 5:
      id v4 = @"PXSmartAlbumComparatorIsGreaterThanOrEqualTo";
      goto LABEL_30;
    case 6:
      id v4 = @"PXSmartAlbumComparatorIsLessThanOrEqualTo";
      goto LABEL_30;
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
    case 18:
    case 19:
    case 26:
    case 27:
    case 28:
    case 29:
    case 33:
    case 34:
    case 35:
    case 36:
    case 37:
    case 38:
    case 39:
      goto LABEL_30;
    case 20:
      id v4 = @"PXSmartAlbumComparatorIncludes";
      goto LABEL_30;
    case 21:
      id v4 = @"PXSmartAlbumComparatorDoesNotInclude";
      goto LABEL_30;
    case 24:
      id v4 = @"PXSmartAlbumComparatorStartsWith";
      goto LABEL_30;
    case 25:
      id v4 = @"PXSmartAlbumComparatorEndsWith";
      goto LABEL_30;
    case 30:
      id v4 = @"PXSmartAlbumComparatorIsInTheRange";
      goto LABEL_30;
    case 31:
      id v6 = [MEMORY[0x1E4F28B00] currentHandler];
      id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)");
      id v8 = v6;
      uint64_t v9 = v7;
      uint64_t v10 = 310;
      goto LABEL_37;
    case 32:
      id v6 = [MEMORY[0x1E4F28B00] currentHandler];
      id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nonnull PXSmartAlbumLocalizedStringForComparator(PLQueryComparatorType, PXSmartAlbumComparatorMode)");
      id v8 = v6;
      uint64_t v9 = v7;
      uint64_t v10 = 313;
      goto LABEL_37;
    case 40:
      id v4 = @"PXSmartAlbumComparatorIsInTheLast";
      goto LABEL_30;
    case 41:
      id v4 = @"PXSmartAlbumComparatorIsNotInTheLast";
      goto LABEL_30;
    default:
      id v5 = @"PXSmartAlbumComparatorIsNotEmpty";
      if (a1 != 51) {
        id v5 = 0;
      }
      if (a1 == 50) {
        id v4 = @"PXSmartAlbumComparatorsEmpty";
      }
      else {
        id v4 = v5;
      }
      goto LABEL_30;
  }
}

id PXSmartAlbumLocalizedStringsForComparatorValues(void *a1, uint64_t a2)
{
  int v3 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v4 = a1;
  id v5 = objc_alloc_init(v3);
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  void v8[2] = __PXSmartAlbumLocalizedStringsForComparatorValues_block_invoke;
  v8[3] = &unk_1E5DC4020;
  id v6 = v5;
  id v9 = v6;
  uint64_t v10 = a2;
  [v4 enumerateObjectsUsingBlock:v8];

  return v6;
}

void __PXSmartAlbumLocalizedStringsForComparatorValues_block_invoke(uint64_t a1, void *a2)
{
  int v3 = [a2 integerValue];
  id v4 = *(void **)(a1 + 32);
  PXSmartAlbumLocalizedStringForComparator(v3, *(void *)(a1 + 40));
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v5];
}

id PXSmartAlbumLocalizedStringForUnit(int a1)
{
  switch(a1)
  {
    case 0:
      int v3 = [MEMORY[0x1E4F28B00] currentHandler];
      id v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForUnit(PLQueryUnit)"];
      id v5 = v3;
      id v6 = v4;
      uint64_t v7 = 348;
      goto LABEL_12;
    case 1:
      uint64_t v1 = @"PXSmartAlbumUnitDays";
      goto LABEL_7;
    case 2:
      uint64_t v1 = @"PXSmartAlbumUnitWeeks";
      goto LABEL_7;
    case 3:
      uint64_t v1 = @"PXSmartAlbumUnitMonths";
      goto LABEL_7;
    case 4:
      uint64_t v1 = @"PXSmartAlbumUnitYears";
      goto LABEL_7;
    case 5:
      int v3 = [MEMORY[0x1E4F28B00] currentHandler];
      id v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXSmartAlbumLocalizedStringForUnit(PLQueryUnit)"];
      id v5 = v3;
      id v6 = v4;
      uint64_t v7 = 363;
LABEL_12:
      [v5 handleFailureInFunction:v6 file:@"PXSmartAlbumStrings.m" lineNumber:v7 description:@"Code which should be unreachable has been reached"];

      abort();
    default:
      uint64_t v1 = 0;
LABEL_7:
      return PXLocalizedStringFromTable(v1, @"PXSmartAlbumStrings");
  }
}

id PXSmartAlbumLocalizedStringsForUnitValues(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1CA48];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSmartAlbumLocalizedStringsForUnitValues_block_invoke;
  void v6[3] = &unk_1E5DC3FF8;
  id v4 = v3;
  id v7 = v4;
  [v2 enumerateObjectsUsingBlock:v6];

  return v4;
}

void __PXSmartAlbumLocalizedStringsForUnitValues_block_invoke(uint64_t a1, void *a2)
{
  int v3 = [a2 integerValue];
  id v4 = *(void **)(a1 + 32);
  PXSmartAlbumLocalizedStringForUnit(v3);
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addObject:v5];
}

void sub_1AAF26338(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF27058(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__199316(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__199317(uint64_t a1)
{
}

__CFString *PXVideoStabilizeAnalysisTypeDescription(uint64_t a1)
{
  if (a1)
  {
    char v1 = a1;
    id v2 = [MEMORY[0x1E4F1CA48] arrayWithCapacity:2];
    int v3 = v2;
    if (v1)
    {
      [v2 addObject:@"Pixel"];
      if ((v1 & 2) == 0)
      {
LABEL_4:
        if ((v1 & 4) == 0)
        {
LABEL_6:
          if ([v3 count])
          {
            id v4 = [v3 componentsJoinedByString:@" | "];
          }
          else
          {
            id v4 = @"Unknown";
          }

          goto LABEL_14;
        }
LABEL_5:
        [v3 addObject:@"Not Stabilized"];
        goto LABEL_6;
      }
    }
    else if ((v1 & 2) == 0)
    {
      goto LABEL_4;
    }
    [v3 addObject:@"Gyro"];
    if ((v1 & 4) == 0) {
      goto LABEL_6;
    }
    goto LABEL_5;
  }
  id v4 = @"Unknown";
LABEL_14:
  return v4;
}

void sub_1AAF28B54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getPIPhotoEditHelperClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getPIPhotoEditHelperClass_softClass;
  uint64_t v7 = getPIPhotoEditHelperClass_softClass;
  if (!getPIPhotoEditHelperClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getPIPhotoEditHelperClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getPIPhotoEditHelperClass_block_invoke((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAF28C58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getNUOrientationIsValidSymbolLoc_block_invoke(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  v5[0] = 0;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary)
  {
    v5[1] = (void *)MEMORY[0x1E4F143A8];
    void v5[2] = (void *)3221225472;
    void v5[3] = __NeutrinoCoreLibraryCore_block_invoke;
    void v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    long long v6 = xmmword_1E5DC4108;
    uint64_t v7 = 0;
    NeutrinoCoreLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  id v2 = (void *)NeutrinoCoreLibraryCore_frameworkLibrary;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary)
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    id v2 = [NSString stringWithUTF8String:"void *NeutrinoCoreLibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXVideoStabilizationRecipeSource.m", 32, @"%s", v5[0]);

    __break(1u);
    goto LABEL_7;
  }
  int v3 = v5[0];
  if (v5[0]) {
LABEL_7:
  }
    free(v3);
  uint64_t result = dlsym(v2, "NUOrientationIsValid");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  getNUOrientationIsValidSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(a1[4] + 8) + 24);
  return result;
}

id getPIVideoStabilizeRequestClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getPIVideoStabilizeRequestClass_softClass;
  uint64_t v7 = getPIVideoStabilizeRequestClass_softClass;
  if (!getPIVideoStabilizeRequestClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getPIVideoStabilizeRequestClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getPIVideoStabilizeRequestClass_block_invoke((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAF28EC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__199619(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__199620(uint64_t a1)
{
}

void __getPIVideoStabilizeRequestClass_block_invoke(uint64_t a1)
{
  PhotoImagingLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PIVideoStabilizeRequest");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPIVideoStabilizeRequestClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    int v3 = [NSString stringWithUTF8String:"Class getPIVideoStabilizeRequestClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizationRecipeSource.m", 34, @"Unable to find class %s", "PIVideoStabilizeRequest");

    __break(1u);
  }
}

void PhotoImagingLibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary_199635)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    void v3[2] = (void *)3221225472;
    void v3[3] = __PhotoImagingLibraryCore_block_invoke_199636;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DC40F0;
    uint64_t v5 = 0;
    PhotoImagingLibraryCore_frameworkLibrary_199635 = _sl_dlopen();
  }
  if (!PhotoImagingLibraryCore_frameworkLibrary_199635)
  {
    id v1 = [MEMORY[0x1E4F28B00] currentHandler];
    id v2 = [NSString stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXVideoStabilizationRecipeSource.m", 31, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __PhotoImagingLibraryCore_block_invoke_199636()
{
  uint64_t result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary_199635 = result;
  return result;
}

uint64_t __NeutrinoCoreLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  NeutrinoCoreLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void __getPIPhotoEditHelperClass_block_invoke(uint64_t a1)
{
  PhotoImagingLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PIPhotoEditHelper");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPIPhotoEditHelperClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    int v3 = [NSString stringWithUTF8String:"Class getPIPhotoEditHelperClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizationRecipeSource.m", 33, @"Unable to find class %s", "PIPhotoEditHelper");

    __break(1u);
  }
}

void sub_1AAF29904(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF2D79C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,char a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,char a53)
{
}

uint64_t __Block_byref_object_copy__200196(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__200197(uint64_t a1)
{
}

void sub_1AAF2E1B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,char a43)
{
}

double PXOneUpReferenceAspectRatioValue(uint64_t a1)
{
  double result = 1.0;
  if ((unint64_t)(a1 - 1) <= 9) {
    return dbl_1AB35B668[a1 - 1];
  }
  return result;
}

__CFString *PXOneUpReferenceAspectRatioDescription(unint64_t a1)
{
  if (a1 > 0xA) {
    return @"?";
  }
  else {
    return off_1E5DC41E0[a1];
  }
}

uint64_t PXOneUpReferenceAspectRatioEnumerateAllUsingBlock(uint64_t a1)
{
  uint64_t v2 = 0;
  char v5 = 0;
  do
  {
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t, char *))(a1 + 16))(a1, v2, &v5);
    if (v5) {
      BOOL v4 = 1;
    }
    else {
      BOOL v4 = v2 == 10;
    }
    ++v2;
  }
  while (!v4);
  return result;
}

id PXStoryPublicErrorForErrors(void *a1)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  long long v16 = 0u;
  uint64_t v2 = objc_msgSend(v1, "reverseObjectEnumerator", 0);
  uint64_t v3 = [v2 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v3)
  {
    uint64_t v4 = v3;
    char v5 = 0;
    uint64_t v6 = *(void *)v14;
    while (2)
    {
      for (uint64_t i = 0; i != v4; ++i)
      {
        if (*(void *)v14 != v6) {
          objc_enumerationMutation(v2);
        }
        uint64_t v8 = *(void **)(*((void *)&v13 + 1) + 8 * i);
        id v9 = [v8 domain];
        int v10 = [v9 isEqual:@"PXStoryCriticalPublicErrorDomain"];

        if (v10)
        {
          uint64_t v11 = PXStoryPublicErrorForError(v8);

          char v5 = (void *)v11;
          goto LABEL_14;
        }
        if (!v5)
        {
          char v5 = PXStoryPublicErrorForError(v8);
        }
      }
      uint64_t v4 = [v2 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v4) {
        continue;
      }
      break;
    }
  }
  else
  {
    char v5 = 0;
  }
LABEL_14:

  return v5;
}

id PXStoryPublicErrorForError(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 domain];
  if ([v2 isEqualToString:@"PXStoryPublicErrorDomain"])
  {

LABEL_4:
    id v5 = v1;
LABEL_5:
    uint64_t v6 = v5;
    goto LABEL_6;
  }
  uint64_t v3 = [v1 domain];
  int v4 = [v3 isEqualToString:@"PXStoryCriticalPublicErrorDomain"];

  if (v4) {
    goto LABEL_4;
  }
  uint64_t v8 = [v1 domain];
  int v9 = [v8 isEqualToString:@"PXStoryErrorDomain"];

  if (v9)
  {
    uint64_t v10 = [v1 code];
    if (v10 == 24)
    {
      PXStoryPublicCriticalErrorCreatePersistenceErrorWithInternalError(v1);
      id v5 = (id)objc_claimAutoreleasedReturnValue();
      goto LABEL_5;
    }
    if (v10 == 19)
    {
      PXStoryPublicCriticalErrorCreateNetworkUnreachableErrorWithInternalError(v1);
      id v5 = (id)objc_claimAutoreleasedReturnValue();
      goto LABEL_5;
    }
  }
  uint64_t v6 = 0;
LABEL_6:

  return v6;
}

id PXStoryPublicCriticalErrorCreateNetworkUnreachableErrorWithInternalError(void *a1)
{
  v16[5] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = objc_alloc_init(_PXStoryNetworkUnreachableRecoveryAttempter);
  int v3 = MGGetBoolAnswer();
  int v4 = PXLocalizedStringFromTable(@"InteractiveMemoryNetworkUnreachableAlertTitle", @"PhotosUICore");
  if (v3) {
    id v5 = @"InteractiveMemoryNetworkUnreachable_WLAN_AlertMessage_iOS";
  }
  else {
    id v5 = @"InteractiveMemoryNetworkUnreachable_WIFI_AlertMessage_iOS";
  }
  uint64_t v6 = PXLocalizedStringFromTable(v5, @"PhotosUICore");
  uint64_t v7 = (void *)MEMORY[0x1E4F28C58];
  uint64_t v8 = *MEMORY[0x1E4F285A0];
  v15[0] = *MEMORY[0x1E4F28588];
  v15[1] = v8;
  v16[0] = v4;
  v16[1] = v6;
  void v15[2] = *MEMORY[0x1E4F28590];
  int v9 = [(_PXStoryNetworkUnreachableRecoveryAttempter *)v2 recoveryOptions];
  uint64_t v10 = *MEMORY[0x1E4F288B8];
  void v16[2] = v9;
  v16[3] = v2;
  uint64_t v11 = *MEMORY[0x1E4F28A50];
  v15[3] = v10;
  void v15[4] = v11;
  void v16[4] = v1;
  uint64_t v12 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v16 forKeys:v15 count:5];
  long long v13 = [v7 errorWithDomain:@"PXStoryCriticalPublicErrorDomain" code:1 userInfo:v12];

  return v13;
}

id PXStoryPublicCriticalErrorCreatePersistenceErrorWithInternalError(void *a1)
{
  v9[3] = *MEMORY[0x1E4F143B8];
  id v1 = (void *)MEMORY[0x1E4F28C58];
  v8[0] = *MEMORY[0x1E4F28588];
  id v2 = a1;
  int v3 = PXLocalizedStringFromTable(@"InteractiveMemoryGenericPersistenceRequestFailureReason", @"PhotosUICore");
  v9[0] = v3;
  v8[1] = *MEMORY[0x1E4F285A0];
  int v4 = PXLocalizedStringFromTable(@"InteractiveMemoryGenericPersistenceRequestRecoverySuggestion", @"PhotosUICore");
  void v8[2] = *MEMORY[0x1E4F28A50];
  v9[1] = v4;
  id v9[2] = v2;
  id v5 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v9 forKeys:v8 count:3];
  uint64_t v6 = [v1 errorWithDomain:@"PXStoryCriticalPublicErrorDomain" code:1 userInfo:v5];

  return v6;
}

id PXStoryInternalErrorForErrors(void *a1)
{
  void v18[3] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [v1 count];
  if (v2 < 1)
  {
    long long v15 = 0;
  }
  else
  {
    uint64_t v3 = v2;
    int v4 = [v1 firstObject];
    id v5 = PXStoryErrorDetailsDescription(v4);
    uint64_t v6 = v5;
    if (v3 != 1)
    {
      uint64_t v7 = objc_msgSend(v5, "stringByAppendingFormat:", @"\n\n(and %li more)", v3 - 1);

      uint64_t v6 = (void *)v7;
    }
    uint64_t v8 = (void *)MEMORY[0x1E4F28C58];
    v17[0] = *MEMORY[0x1E4F28568];
    int v9 = [v4 localizedDescription];
    v18[0] = v9;
    v17[1] = *MEMORY[0x1E4F28588];
    uint64_t v10 = NSString;
    uint64_t v11 = [v4 localizedFailureReason];
    uint64_t v12 = v11;
    if (!v11)
    {
      uint64_t v12 = [v4 localizedDescription];
    }
    long long v13 = [v10 stringWithFormat:@"(Internal) %@", v12];
    void v17[2] = *MEMORY[0x1E4F285A0];
    v18[1] = v13;
    v18[2] = v6;
    long long v14 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v18 forKeys:v17 count:3];
    long long v15 = [v8 errorWithDomain:@"PXStoryPublicErrorDomain" code:1 userInfo:v14];

    if (!v11) {
  }
    }

  return v15;
}

id PXStoryPublicErrorCreateSimulatedError()
{
  void v8[4] = *MEMORY[0x1E4F143B8];
  id v0 = objc_alloc_init(_PXStoryPublicErrorSimulatedRecoveryAttempter);
  id v1 = objc_alloc(MEMORY[0x1E4F28C58]);
  uint64_t v2 = *MEMORY[0x1E4F285A0];
  v7[0] = *MEMORY[0x1E4F28588];
  v7[1] = v2;
  v8[0] = @"Simulated Public Error";
  v8[1] = @"This is a simulated interactive memory error.";
  void v7[2] = *MEMORY[0x1E4F28590];
  uint64_t v3 = [(_PXStoryPublicErrorSimulatedRecoveryAttempter *)v0 recoveryOptions];
  void v7[3] = *MEMORY[0x1E4F288B8];
  void v8[2] = v3;
  void v8[3] = v0;
  int v4 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v8 forKeys:v7 count:4];
  id v5 = (void *)[v1 initWithDomain:@"PXStoryPublicErrorDomain" code:2 userInfo:v4];

  return v5;
}

id PXStoryPublicErrorCreateSimulatedCriticalError()
{
  void v8[4] = *MEMORY[0x1E4F143B8];
  id v0 = objc_alloc_init(_PXStoryPublicErrorSimulatedRecoveryAttempter);
  id v1 = objc_alloc(MEMORY[0x1E4F28C58]);
  uint64_t v2 = *MEMORY[0x1E4F285A0];
  v7[0] = *MEMORY[0x1E4F28588];
  v7[1] = v2;
  v8[0] = @"Simulated Critical Public Error";
  v8[1] = @"This is a simulated critical interactive error.";
  void v7[2] = *MEMORY[0x1E4F28590];
  uint64_t v3 = [(_PXStoryPublicErrorSimulatedRecoveryAttempter *)v0 recoveryOptions];
  void v7[3] = *MEMORY[0x1E4F288B8];
  void v8[2] = v3;
  void v8[3] = v0;
  int v4 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v8 forKeys:v7 count:4];
  id v5 = (void *)[v1 initWithDomain:@"PXStoryCriticalPublicErrorDomain" code:2 userInfo:v4];

  return v5;
}

id PXStoryMovieHighlightDescription(void *a1)
{
  id v1 = a1;
  uint64_t v2 = NSString;
  uint64_t v3 = objc_opt_class();
  if (v1) {
    [v1 timeRange];
  }
  else {
    memset(v17, 0, sizeof(v17));
  }
  int v4 = PXStoryTimeRangeDescription((uint64_t)v17);
  [v1 qualityScore];
  float v6 = v5;
  uint64_t v7 = [v1 normalizationData];
  unsigned int v8 = [v1 hasVoice];
  unsigned int v9 = [v1 hasFace];
  unsigned int v10 = [v1 hasMusic];
  [v1 loudness];
  float v12 = v11;
  [v1 peakVolume];
  float v14 = v13;
  [v1 bestPlaybackRect];
  if (!CGRectIsNull(v19)) {
    PXRectDescription();
  }
  long long v15 = [v2 stringWithFormat:@"<%@:%p timeRange: %@, qualityScore: %g normalizationData: %@, voice: %d, face: %d, music: %d, loudness: %0.2f, peak: %0.2f, bestPlaybackRect: %@>", v3, v1, v4, v6, v7, v8, v9, v10, v12, v14, @"null"];

  return v15;
}

id PXStoryMovieHighlightCurationDescription(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 highlights];
  uint64_t v3 = NSString;
  uint64_t v4 = objc_opt_class();
  uint64_t v5 = [v2 count];
  float v6 = [v1 movieSummary];
  uint64_t v7 = [v1 livePhoto];
  unsigned int v8 = [v1 fullMovie];
  unsigned int v9 = [v1 defaultHighlight];
  unsigned int v10 = [v3 stringWithFormat:@"<%@:%p %lu highlights: %@, summary: %@, live: %@, full: %@, default: %@>", v4, v1, v5, v2, v6, v7, v8, v9];

  return v10;
}

void sub_1AAF34964(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

double PXStoryMediaAnalysisResultGetBestPlaybackRect(void *a1)
{
  id v1 = [a1 objectForKeyedSubscript:*MEMORY[0x1E4F74470]];
  uint64_t v2 = [v1 objectForKeyedSubscript:*MEMORY[0x1E4F74478]];

  if (v2) {
    *(void *)&double v3 = (unint64_t)CGRectFromString(v2);
  }
  else {
    double v3 = *MEMORY[0x1E4F1DB20];
  }

  return v3;
}

void PXStoryMediaAnalysisResultGetTimeRange(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = v3;
  if (v3)
  {
    uint64_t v5 = *MEMORY[0x1E4F744C0];
    float v6 = [v3 objectForKeyedSubscript:*MEMORY[0x1E4F744C0]];
    if (v6)
    {

      uint64_t v7 = *MEMORY[0x1E4F74490];
    }
    else
    {
      uint64_t v7 = *MEMORY[0x1E4F74490];
      unsigned int v8 = [v4 objectForKeyedSubscript:*MEMORY[0x1E4F74490]];

      if (!v8)
      {
        v14.start.epoch = 0;
        *(_OWORD *)&v14.start.value = PXStoryTimeZero;
        *(_OWORD *)&duration.value = PXStoryTimeMaximum;
        duration.epoch = 0;
        CMTimeRangeMake((CMTimeRange *)a1, &v14.start, &duration);
        goto LABEL_7;
      }
    }
    memset(&duration, 0, sizeof(duration));
    CFDictionaryRef v9 = [v4 objectForKeyedSubscript:v5];
    CMTimeMakeFromDictionary(&duration, v9);

    memset(&v15, 0, sizeof(v15));
    CFDictionaryRef v10 = [v4 objectForKeyedSubscript:v7];
    CMTimeMakeFromDictionary(&v15, v10);

    memset(&v14, 0, sizeof(v14));
    CMTime start = duration;
    CMTime v12 = v15;
    CMTimeRangeMake(&v14, &start, &v12);
    long long v11 = *(_OWORD *)&v14.start.epoch;
    *(_OWORD *)a1 = *(_OWORD *)&v14.start.value;
    *(_OWORD *)(a1 + 16) = v11;
    *(_OWORD *)(a1 + 32) = *(_OWORD *)&v14.duration.timescale;
  }
  else
  {
    *(_OWORD *)(a1 + 16) = 0u;
    *(_OWORD *)(a1 + 32) = 0u;
    *(_OWORD *)a1 = 0u;
  }
LABEL_7:
}

float PXStoryMediaAnalysisResultGetQuality(void *a1)
{
  id v1 = [a1 objectForKeyedSubscript:*MEMORY[0x1E4F744B8]];
  [v1 floatValue];
  float v3 = v2;

  return v3;
}

void PXStoryMediaAnalysisResultsGetTimeRange(_OWORD *a1, void *a2)
{
  id v3 = a2;
  if ([v3 count])
  {
    memset(&v11, 0, sizeof(v11));
    uint64_t v4 = [v3 firstObject];
    PXStoryMediaAnalysisResultGetTimeRange((uint64_t)&v11, v4);

    long long v9 = 0u;
    long long v10 = 0u;
    long long v8 = 0u;
    uint64_t v5 = [v3 lastObject];
    PXStoryMediaAnalysisResultGetTimeRange((uint64_t)&v8, v5);

    a1[1] = 0u;
    a1[2] = 0u;
    *a1 = 0u;
    CMTimeRange v7 = v11;
    v6[0] = v8;
    v6[1] = v9;
    void v6[2] = v10;
    PXStoryTimeRangeUnion(&v7, (uint64_t)v6, (uint64_t)a1);
  }
  else
  {
    a1[1] = 0uLL;
    a1[2] = 0uLL;
    *a1 = 0uLL;
  }
}

BOOL PXStoryMovieHighlightEqual(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (!v3)
  {
    memset(&v35[1], 0, sizeof(CMTimeRange));
    if (v4) {
      goto LABEL_3;
    }
LABEL_5:
    memset(v35, 0, 48);
    goto LABEL_6;
  }
  [v3 timeRange];
  if (!v5) {
    goto LABEL_5;
  }
LABEL_3:
  [v5 timeRange];
LABEL_6:
  CMTimeRange range1 = v35[1];
  CMTimeRange range2 = v35[0];
  if (!CMTimeRangeEqual(&range1, &range2)) {
    goto LABEL_8;
  }
  [v3 qualityScore];
  float v7 = v6;
  [v5 qualityScore];
  if (v7 != v8) {
    goto LABEL_8;
  }
  id v11 = [v3 normalizationData];
  id v12 = [v5 normalizationData];
  if (v11 == v12)
  {
  }
  else
  {
    float v13 = v12;
    char v14 = [v11 isEqual:v12];

    if ((v14 & 1) == 0) {
      goto LABEL_8;
    }
  }
  int v15 = objc_msgSend(v3, "hasVoice", *(_OWORD *)&v35[0].start.value, *(_OWORD *)&v35[0].start.epoch, *(_OWORD *)&v35[0].duration.timescale);
  if (v15 == [v5 hasVoice])
  {
    int v16 = [v3 hasFace];
    if (v16 == [v5 hasFace])
    {
      [v3 loudness];
      float v18 = v17;
      [v5 loudness];
      if (v18 == v19)
      {
        [v3 peakVolume];
        float v21 = v20;
        [v5 peakVolume];
        if (v21 == v22)
        {
          [v3 bestPlaybackRect];
          CGFloat v24 = v23;
          CGFloat v26 = v25;
          CGFloat v28 = v27;
          CGFloat v30 = v29;
          [v5 bestPlaybackRect];
          v39.origin.CGFloat x = v31;
          v39.origin.CGFloat y = v32;
          v39.size.CGFloat width = v33;
          v39.size.CGFloat height = v34;
          v38.origin.CGFloat x = v24;
          v38.origin.CGFloat y = v26;
          v38.size.CGFloat width = v28;
          v38.size.CGFloat height = v30;
          BOOL v9 = CGRectEqualToRect(v38, v39);
          goto LABEL_9;
        }
      }
    }
  }
LABEL_8:
  BOOL v9 = 0;
LABEL_9:

  return v9;
}

id PXStoryMovieHighlightForPlaybackStyle(void *a1, uint64_t a2)
{
  id v3 = a1;
  id v4 = v3;
  switch(a2)
  {
    case 3:
      uint64_t v5 = [v3 livePhoto];
      if (!v5)
      {
        BOOL v9 = [v4 movieSummary];
        long long v10 = v9;
        if (v9)
        {
          id v11 = v9;
        }
        else
        {
          id v11 = [v4 defaultHighlight];
        }
        float v7 = v11;

        goto LABEL_9;
      }
      goto LABEL_7;
    case 5:
      float v7 = [v3 fullMovie];
      break;
    case 4:
      uint64_t v5 = [v3 bestHighlight];
      if (!v5)
      {
        id v6 = [v4 defaultHighlight];
LABEL_8:
        float v7 = v6;
LABEL_9:

        break;
      }
LABEL_7:
      id v6 = v5;
      goto LABEL_8;
    default:
      float v7 = 0;
      break;
  }

  return v7;
}

void sub_1AAF39B78(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__201663(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__201664(uint64_t a1)
{
}

void sub_1AAF3B608(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 168));
  _Unwind_Resume(a1);
}

void sub_1AAF3E46C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF3E694(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF3E940(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF3FFA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, id *a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,id a41)
{
  objc_destroyWeak(v41);
  objc_destroyWeak(&location);
  objc_destroyWeak(a9);
  objc_destroyWeak(&a41);
  _Unwind_Resume(a1);
}

void PXPhotosViewNoteHeaderViewSizeDidChange(void *a1)
{
  objc_getAssociatedObject(a1, (const void *)PXGSingleViewLayoutAssociationKey);
  id v1 = (id)objc_claimAutoreleasedReturnValue();
  [v1 viewSizeDidChange];
}

void sub_1AAF41EC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id _FallbackPlaceholderStatusControllerForViewModel(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 contentFilterState];
  int v3 = [v2 isFiltering];

  if (v3)
  {
    id v4 = @"PXBrowserSummaryNoFilteringResultsPlaceholderText";
LABEL_3:
    uint64_t v5 = PXLocalizedStringFromTable(v4, @"PhotosUICore");
    id v6 = (void *)[objc_alloc(MEMORY[0x1E4F28B18]) initWithString:&stru_1F00B0030 attributes:0];
    goto LABEL_8;
  }
  float v7 = [v1 noContentPlaceholderFallbackTitle];

  if (v7)
  {
    uint64_t v5 = [v1 noContentPlaceholderFallbackTitle];
    id v6 = [v1 noContentPlaceholderFallbackMessage];

    if (!v6) {
      goto LABEL_8;
    }
    id v8 = objc_alloc(MEMORY[0x1E4F28B18]);
    BOOL v9 = [v1 noContentPlaceholderFallbackMessage];
    uint64_t v10 = [v8 initWithString:v9 attributes:0];
  }
  else
  {
    if ([v1 noContentPlaceholderType] == 1)
    {
      id v4 = @"NO_PHOTOS_ONLY_TITLE";
      goto LABEL_3;
    }
    if ([v1 noContentPlaceholderType] == 2)
    {
      id v4 = @"NO_VIDEOS_ONLY_TITLE";
      goto LABEL_3;
    }
    BOOL v9 = [v1 dataSourceManager];
    uint64_t v5 = [v9 localizedEmptyPlaceholderTitle];
    uint64_t v10 = [v9 localizedEmptyPlaceholderAttributedMessage];
  }
  id v6 = (void *)v10;

LABEL_8:
  id v11 = -[PXPhotosGridPlaceholderStatusController initForPresentingCPLStatus:fallbackTitle:fallbackAttributedMessage:]([PXPhotosGridPlaceholderStatusController alloc], "initForPresentingCPLStatus:fallbackTitle:fallbackAttributedMessage:", [v1 wantsCPLStatus] & (v3 ^ 1), v5, v6);

  return v11;
}

void sub_1AAF432DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__202482(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__202483(uint64_t a1)
{
}

void sub_1AAF43EA8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF45730(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__202786(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__202787(uint64_t a1)
{
}

void sub_1AAF47164(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AAF48348(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void commonInit(void *a1)
{
  uint64_t v1 = a1;
  [v1 setUserInteractionEnabled:0];
  uint64_t v2 = [MEMORY[0x1E4FB1618] colorWithWhite:0.07 alpha:0.85];
  [v1 setBackgroundColor:v2];

  uint64_t v3 = [MEMORY[0x1E4F28E10] strongToStrongObjectsMapTable];
  id v4 = v1[51];
  v1[51] = (id)v3;

  id v5 = objc_alloc_init(MEMORY[0x1E4FB1C60]);
  id v6 = v1[52];
  v1[52] = v5;

  [v1[52] setTranslatesAutoresizingMaskIntoConstraints:0];
  [v1[52] setDistribution:3];
  [v1[52] setAxis:1];
  [v1[52] setAlignment:1];
  [v1[52] setSpacing:2.0];
  [v1 addSubview:v1[52]];
  float v7 = [v1[52] centerXAnchor];
  id v8 = [v1 centerXAnchor];
  BOOL v9 = [v7 constraintEqualToAnchor:v8];
  [v9 setActive:1];

  uint64_t v10 = [v1[52] centerYAnchor];
  id v11 = [v1 centerYAnchor];
  id v12 = [v10 constraintEqualToAnchor:v11];
  [v12 setActive:1];

  float v13 = [v1 widthAnchor];
  char v14 = [v1[52] widthAnchor];
  int v15 = [v13 constraintEqualToAnchor:v14 constant:4.0];
  [v15 setActive:1];

  id v19 = [v1 heightAnchor];
  id v16 = v1[52];

  float v17 = [v16 heightAnchor];
  float v18 = [v19 constraintEqualToAnchor:v17 constant:4.0];
  [v18 setActive:1];
}

void sub_1AAF4CBC8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 128));
  _Unwind_Resume(a1);
}

void sub_1AAF4D124(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1AAF4E994(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF4EABC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAF5064C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF52B40(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AAF533D0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__205106(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__205107(uint64_t a1)
{
}

uint64_t __Block_byref_object_copy__205300(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__205301(uint64_t a1)
{
}

void sub_1AAF5B0A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,char a60)
{
}

void sub_1AAF61B48(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 128));
  _Unwind_Resume(a1);
}

void sub_1AAF61C6C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

__CFString *PXStoryBufferingReasonsDescription(unint64_t a1)
{
  if (a1 >= 5)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXStoryBufferingReasonsDescription(PXStoryBufferingReason)"];
    [v2 handleFailureInFunction:v3 file:@"PXStoryBufferingController.m" lineNumber:64 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DC4E78[a1];
}

uint64_t PXIsCMMURL(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    float v7 = [MEMORY[0x1E4F28B00] currentHandler];
    id v8 = [NSString stringWithUTF8String:"BOOL PXIsCMMURL(NSURL *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8, @"PXCMMURLUtilities.m", 34, @"Invalid parameter not satisfying: %@", @"shareURL" file lineNumber description];
  }
  uint64_t v2 = [v1 pathComponents];
  if ((unint64_t)[v2 count] < 2)
  {
    id v4 = &stru_1F00B0030;
  }
  else
  {
    uint64_t v3 = [v2 objectAtIndexedSubscript:1];
    id v4 = [v3 lowercaseString];
  }
  uint64_t v5 = [(__CFString *)v4 isEqualToString:@"photos"];

  return v5;
}

id PXURLForCMMShare(void *a1, void *a2)
{
  v14[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = objc_alloc_init(MEMORY[0x1E4F29088]);
  [v5 setScheme:@"https"];
  [v5 setHost:@"CMMTest"];
  if (v3)
  {
    id v6 = objc_alloc(MEMORY[0x1E4F290C8]);
    float v7 = @"albumName";
    id v8 = v3;
  }
  else
  {
    if (!v4) {
      goto LABEL_7;
    }
    id v6 = objc_alloc(MEMORY[0x1E4F290C8]);
    float v7 = @"momentShareID";
    id v8 = v4;
  }
  uint64_t v9 = [v6 initWithName:v7 value:v8];
  uint64_t v10 = (void *)v9;
  if (v9)
  {
    v14[0] = v9;
    id v11 = [MEMORY[0x1E4F1C978] arrayWithObjects:v14 count:1];
    [v5 setQueryItems:v11];
  }
LABEL_7:
  id v12 = [v5 URL];

  return v12;
}

uint64_t PXCMMTypeForURL(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 host];
  char v3 = [v2 isEqualToString:@"CMMTest"];

  if (v3)
  {
    uint64_t v4 = 1;
  }
  else
  {
    id v5 = [v1 host];
    id v6 = [v5 lowercaseString];
    int v7 = [v6 containsString:@"icloud.com"];

    if (v7) {
      uint64_t v4 = 2;
    }
    else {
      uint64_t v4 = 0;
    }
  }

  return v4;
}

id PXSharedAlbumNameForCMMShareURL(void *a1)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = (void *)[objc_alloc(MEMORY[0x1E4F29088]) initWithURL:v1 resolvingAgainstBaseURL:0];
  [v2 queryItems];
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  long long v16 = 0u;
  id v3 = (id)objc_claimAutoreleasedReturnValue();
  uint64_t v4 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v14;
    while (2)
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v14 != v6) {
          objc_enumerationMutation(v3);
        }
        id v8 = *(void **)(*((void *)&v13 + 1) + 8 * i);
        uint64_t v9 = objc_msgSend(v8, "name", (void)v13);
        int v10 = [v9 isEqualToString:@"albumName"];

        if (v10)
        {
          id v11 = [v8 value];
          goto LABEL_11;
        }
      }
      uint64_t v5 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v5) {
        continue;
      }
      break;
    }
  }
  id v11 = 0;
LABEL_11:

  return v11;
}

id PXMomentShareLocalIDForCMMShareURL(void *a1)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = (void *)[objc_alloc(MEMORY[0x1E4F29088]) initWithURL:v1 resolvingAgainstBaseURL:0];
  [v2 queryItems];
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  long long v16 = 0u;
  id v3 = (id)objc_claimAutoreleasedReturnValue();
  uint64_t v4 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v14;
    while (2)
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v14 != v6) {
          objc_enumerationMutation(v3);
        }
        id v8 = *(void **)(*((void *)&v13 + 1) + 8 * i);
        uint64_t v9 = objc_msgSend(v8, "name", (void)v13);
        int v10 = [v9 isEqualToString:@"momentShareID"];

        if (v10)
        {
          id v11 = [v8 value];
          goto LABEL_11;
        }
      }
      uint64_t v5 = [v3 countByEnumeratingWithState:&v13 objects:v17 count:16];
      if (v5) {
        continue;
      }
      break;
    }
  }
  id v11 = 0;
LABEL_11:

  return v11;
}

id PXFetchAssetCollectionForCMMShareURL(void *a1, uint64_t a2, uint64_t *a3)
{
  v22[1] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  uint64_t v6 = v5;
  if (!v5)
  {
    float v20 = [MEMORY[0x1E4F28B00] currentHandler];
    float v21 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAssetCollection *> * _Nullable PXFetchAssetCollectionForCMMShareURL(NSURL *__strong _Nonnull, BOOL, PXCMMURLType * _Nullable)");
    [v20 handleFailureInFunction:v21, @"PXCMMURLUtilities.m", 116, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];

    id v5 = 0;
  }
  uint64_t v7 = PXCMMTypeForURL(v5);
  uint64_t v8 = v7;
  if (v7 == 2)
  {
    long long v16 = _FetchLocalMomentShareForURL(v6, a2);
    if (!a3) {
      goto LABEL_10;
    }
    goto LABEL_9;
  }
  if (v7 != 1) {
    PXAssertGetLog();
  }
  uint64_t v9 = PXSharedAlbumNameForCMMShareURL(v6);
  uint64_t v10 = PXMomentShareLocalIDForCMMShareURL(v6);
  id v11 = (void *)v10;
  if (v9)
  {
    id v12 = objc_msgSend(MEMORY[0x1E4F39228], "px_deprecated_appPhotoLibrary");
    long long v13 = [v12 librarySpecificFetchOptions];

    long long v14 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"title = %@", v9];
    [v13 setPredicate:v14];
    uint64_t v15 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:1 subtype:101 options:v13];
LABEL_15:
    long long v16 = (void *)v15;

    goto LABEL_16;
  }
  if (v10)
  {
    uint64_t v18 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
    long long v13 = [v18 librarySpecificFetchOptions];

    id v19 = (void *)MEMORY[0x1E4F38EE8];
    v22[0] = v11;
    long long v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:v22 count:1];
    uint64_t v15 = [v19 fetchAssetCollectionsWithLocalIdentifiers:v14 options:v13];
    goto LABEL_15;
  }
  long long v16 = 0;
LABEL_16:

  if (a3) {
LABEL_9:
  }
    *a3 = v8;
LABEL_10:

  return v16;
}

id _FetchLocalMomentShareForURL(void *a1, uint64_t a2)
{
  id v3 = (void *)MEMORY[0x1E4F39228];
  id v4 = a1;
  id v5 = [v3 sharedMomentSharePhotoLibrary];
  uint64_t v6 = [v5 librarySpecificFetchOptions];

  uint64_t v7 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"shareURL = %@", v4];

  [v6 setInternalPredicate:v7];
  [v6 setIncludeTrashedShares:a2];
  uint64_t v8 = [MEMORY[0x1E4F391B0] fetchAssetCollectionsWithType:7 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];

  return v8;
}

void PXFetchMomentShareForURL(void *a1, void *a2)
{
  uint64_t v35 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = (void (**)(void, void, void))v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    long long v16 = [MEMORY[0x1E4F28B00] currentHandler];
    float v17 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXFetchMomentShareForURL(NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHMomentShare * _Nullable __strong, NSError * _Nullable __strong))");
    [v16 handleFailureInFunction:v17, @"PXCMMURLUtilities.m", 181, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  uint64_t v18 = [MEMORY[0x1E4F28B00] currentHandler];
  id v19 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXFetchMomentShareForURL(NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHMomentShare * _Nullable __strong, NSError * _Nullable __strong))");
  [v18 handleFailureInFunction:v19, @"PXCMMURLUtilities.m", 182, @"Invalid parameter not satisfying: %@", @"completionHandler" file lineNumber description];

LABEL_3:
  uint64_t v6 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v7 = [v6 simulateFetchErrorType];

  switch(v7)
  {
    case 3:
      id v11 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 6003, @"Simulated Error: Share Not Found (Permanent)");
      v24[0] = MEMORY[0x1E4F143A8];
      v24[1] = 3221225472;
      void v24[2] = __PXFetchMomentShareForURL_block_invoke_3;
      v24[3] = &unk_1E5DD3280;
      id v25 = v11;
      CGFloat v26 = v5;
      id v9 = v11;
      dispatch_async(MEMORY[0x1E4F14428], v24);

      id v10 = v26;
      break;
    case 2:
      id v12 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 6001, @"Simulated Error: Network Error (Recoverable)");
      v27[0] = MEMORY[0x1E4F143A8];
      v27[1] = 3221225472;
      void v27[2] = __PXFetchMomentShareForURL_block_invoke_2;
      v27[3] = &unk_1E5DD3280;
      id v28 = v12;
      double v29 = v5;
      id v9 = v12;
      dispatch_async(MEMORY[0x1E4F14428], v27);

      id v10 = v29;
      break;
    case 1:
      uint64_t v8 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXCMMErrorDomain", -1011, @"Simulated Error: Timeout (Recoverable)");
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXFetchMomentShareForURL_block_invoke;
      block[3] = &unk_1E5DD3280;
      id v31 = v8;
      CGFloat v32 = v5;
      id v9 = v8;
      dispatch_async(MEMORY[0x1E4F14428], block);

      id v10 = v32;
      break;
    default:
      _FetchLocalMomentShareForURL(v3, 1);
      id v9 = (id)objc_claimAutoreleasedReturnValue();
      long long v13 = [v9 firstObject];
      if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
      {
        id v10 = v13;

        if (v10 && [v10 trashedState] != 1)
        {
          ((void (**)(void, id, void))v5)[2](v5, v10, 0);
          break;
        }
      }
      else
      {

        id v10 = 0;
      }
      if ([v10 trashedState] == 1 && objc_msgSend(v10, "status") != 1)
      {
        long long v14 = PLSharingGetLog();
        if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
        {
          uint64_t v15 = [v10 uuid];
          *(_DWORD *)long long buf = 138543362;
          CGFloat v34 = v15;
          _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "Trying to navigate to trashed MomentShare with UUID: %{public}@. Pre-emptively trying to expunge it first.", buf, 0xCu);
        }
        v20[0] = MEMORY[0x1E4F143A8];
        v20[1] = 3221225472;
        v20[2] = __PXFetchMomentShareForURL_block_invoke_249;
        void v20[3] = &unk_1E5DD1B00;
        id v21 = v10;
        id v22 = v3;
        double v23 = v5;
        PXExpungeMomentShare(v21, v20);
      }
      _FetchMomentShareForURLWithTimeout(v3, v5);
      break;
  }
}

uint64_t __PXFetchMomentShareForURL_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXFetchMomentShareForURL_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXFetchMomentShareForURL_block_invoke_3(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXFetchMomentShareForURL_block_invoke_249(id *a1, int a2, void *a3)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  uint64_t v6 = PLSharingGetLog();
  uint64_t v7 = v6;
  if (a2)
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v8 = [a1[4] uuid];
      int v10 = 138543362;
      id v11 = v8;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "Expunging of trashed MomentShare (with UUID: %{public}@) for URL navigation succedeed.", (uint8_t *)&v10, 0xCu);
    }
    _FetchMomentShareForURLWithTimeout(a1[5], a1[6]);
  }
  else
  {
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      id v9 = [a1[4] uuid];
      int v10 = 138543618;
      id v11 = v9;
      __int16 v12 = 2112;
      id v13 = v5;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Failed to pre-emptively expunge trashed MomentShare (with UUID: %{public}@) for navigation with error: %@", (uint8_t *)&v10, 0x16u);
    }
    (*((void (**)(void))a1[6] + 2))();
  }
}

void _FetchMomentShareForURLWithTimeout(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  v25[0] = 0;
  v25[1] = v25;
  v25[2] = 0x2810000000;
  v25[3] = &unk_1AB5D584F;
  int v26 = 0;
  v23[0] = 0;
  v23[1] = v23;
  void v23[2] = 0x2020000000;
  char v24 = 0;
  v21[0] = 0;
  v21[1] = v21;
  v21[2] = 0x2020000000;
  char v22 = 0;
  dispatch_time_t v5 = dispatch_time(0, 3000000000);
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = ___FetchMomentShareForURLWithTimeout_block_invoke;
  block[3] = &unk_1E5DC90C8;
  uint64_t v18 = v25;
  id v19 = v23;
  float v20 = v21;
  id v6 = v4;
  id v17 = v6;
  dispatch_after(v5, MEMORY[0x1E4F14428], block);
  uint64_t v7 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
  uint64_t v8 = [v7 librarySpecificFetchOptions];

  id v9 = (void *)MEMORY[0x1E4F391B0];
  v11[0] = MEMORY[0x1E4F143A8];
  v11[1] = 3221225472;
  void v11[2] = ___FetchMomentShareForURLWithTimeout_block_invoke_2;
  void v11[3] = &unk_1E5DC4EA8;
  id v13 = v25;
  uint64_t v14 = v21;
  uint64_t v15 = v23;
  id v10 = v6;
  id v12 = v10;
  [v9 fetchMomentShareFromShareURL:v3 options:v8 completionHandler:v11];

  _Block_object_dispose(v21, 8);
  _Block_object_dispose(v23, 8);
  _Block_object_dispose(v25, 8);
}

void sub_1AAF63E34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((const void *)(v26 - 152), 8);
  _Block_object_dispose((const void *)(v26 - 120), 8);
  _Unwind_Resume(a1);
}

void *__Block_byref_object_copy__206845(uint64_t a1, uint64_t a2)
{
  uint64_t result = _Block_copy(*(const void **)(a2 + 40));
  *(void *)(a1 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = result;
  return result;
}

void __Block_byref_object_dispose__206846(uint64_t a1)
{
}

void sub_1AAF64F90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
}

uint64_t __Block_byref_object_copy__207137(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__207138(uint64_t a1)
{
}

void sub_1AAF66DEC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

_PXPhotosDetailsAssetsWidgetEventTracker *PXPhotosDetailsAssetsWidgetEventTrackerCreate()
{
  id v0 = objc_alloc_init(_PXPhotosDetailsAssetsWidgetEventTracker);
  return v0;
}

_PXSnapshottableImageView *PXPreviewImageViewForImage(void *a1, void *a2, double a3, double a4, double a5, double a6)
{
  id v11 = a1;
  id v12 = a2;
  id v13 = -[_PXSnapshottableImageView initWithFrame:]([_PXSnapshottableImageView alloc], "initWithFrame:", a3, a4, a5, a6);
  [(_PXSnapshottableImageView *)v13 setImage:v11];
  [v12 imageContentsRect];
  v45.origin.CGFloat x = v14;
  v45.origin.CGFloat y = v15;
  v45.size.CGFloat width = v16;
  v45.size.CGFloat height = v17;
  if (CGRectEqualToRect(*(CGRect *)off_1E5DAB010, v45))
  {
    [v11 size];
    [v11 size];
    PXSizeGetAspectRatioWithDefault();
  }
  [v12 imageContentsRect];
  double v19 = v18;
  double v21 = v20;
  double v23 = v22;
  double v25 = v24;
  uint64_t v26 = [(_PXSnapshottableImageView *)v13 layer];
  objc_msgSend(v26, "setContentsRect:", v19, v21, v23, v25);

  double v27 = [v12 imageViewSpec];
  id v28 = v27;
  if (v27)
  {
    [v27 cornerRadius];
    if (v29 != 0.0)
    {
      [v28 cornerRadius];
      double v31 = v30;
      CGFloat v32 = [(_PXSnapshottableImageView *)v13 layer];
      [v32 setCornerRadius:v31];

      CGFloat v33 = [v28 cornerCurve];
      CGFloat v34 = [(_PXSnapshottableImageView *)v13 layer];
      [v34 setCornerCurve:v33];

      uint64_t v35 = [v28 cornerMask];
      unint64_t v36 = [(_PXSnapshottableImageView *)v13 layer];
      [v36 setMaskedCorners:v35];

      unint64_t v37 = [(_PXSnapshottableImageView *)v13 layer];
      [v37 setMasksToBounds:1];
    }
    [v28 rotationAngle];
    if (v38 != 0.0)
    {
      [v28 rotationAngle];
      CGAffineTransformMakeRotation(&v43, v39);
      int v40 = [(_PXSnapshottableImageView *)v13 layer];
      CGAffineTransform v42 = v43;
      [v40 setAffineTransform:&v42];
    }
  }

  return v13;
}

BOOL PXStoryTimeRangeIntersectsTimeRange(_OWORD *a1, _OWORD *a2)
{
  memset(&v7, 0, sizeof(v7));
  long long v2 = a1[1];
  *(_OWORD *)&range.start.value = *a1;
  *(_OWORD *)&range.start.epoch = v2;
  *(_OWORD *)&range.duration.timescale = a1[2];
  long long v3 = a2[1];
  *(_OWORD *)&v5.start.value = *a2;
  *(_OWORD *)&v5.start.epoch = v3;
  *(_OWORD *)&v5.duration.timescale = a2[2];
  CMTimeRangeGetIntersection(&v7, &range, &v5);
  range.CMTime start = v7.duration;
  *(_OWORD *)&v5.start.value = *MEMORY[0x1E4F1FA48];
  v5.start.epoch = *(void *)(MEMORY[0x1E4F1FA48] + 16);
  return CMTimeCompare(&range.start, &v5.start) > 0;
}

double PXStoryTimeRangeIntersection@<D0>(_OWORD *a1@<X0>, _OWORD *a2@<X1>, _OWORD *a3@<X8>)
{
  memset(&v10, 0, sizeof(v10));
  long long v4 = a1[1];
  *(_OWORD *)&range.start.value = *a1;
  *(_OWORD *)&range.start.epoch = v4;
  *(_OWORD *)&range.duration.timescale = a1[2];
  long long v5 = a2[1];
  *(_OWORD *)&v8.start.value = *a2;
  *(_OWORD *)&v8.start.epoch = v5;
  *(_OWORD *)&v8.duration.timescale = a2[2];
  CMTimeRangeGetIntersection(&v10, &range, &v8);
  range.CMTime start = v10.duration;
  *(_OWORD *)&v8.start.value = *MEMORY[0x1E4F1FA48];
  v8.start.epoch = *(void *)(MEMORY[0x1E4F1FA48] + 16);
  if (CMTimeCompare(&range.start, &v8.start) < 1)
  {
    double result = 0.0;
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
  }
  else
  {
    long long v6 = *(_OWORD *)&v10.start.epoch;
    *a3 = *(_OWORD *)&v10.start.value;
    a3[1] = v6;
    double result = *(double *)&v10.duration.timescale;
    a3[2] = *(_OWORD *)&v10.duration.timescale;
  }
  return result;
}

BOOL PXStoryTimeApproximatelyEqualToTime(uint64_t a1, uint64_t a2)
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  CMTimeValue v14 = *(void *)a1;
  CMTimeFlags v2 = *(_DWORD *)(a1 + 12);
  CMTimeScale v15 = *(_DWORD *)(a1 + 8);
  CMTimeEpoch v3 = *(void *)(a1 + 16);
  CMTimeValue v12 = *(void *)a2;
  CMTimeFlags v4 = *(_DWORD *)(a2 + 12);
  CMTimeScale v13 = *(_DWORD *)(a2 + 8);
  CMTimeEpoch v5 = *(void *)(a2 + 16);
  if ((v2 & 0x1F) != 3 && (v4 & 0x1F) != 3) {
    goto LABEL_4;
  }
  memset(&time1, 0, sizeof(time1));
  lhs.value = *(void *)a1;
  lhs.timescale = *(_DWORD *)(a1 + 8);
  lhs.flags = v2;
  lhs.epoch = v3;
  v8.value = *(void *)a2;
  v8.timescale = *(_DWORD *)(a2 + 8);
  v8.flags = v4;
  v8.epoch = v5;
  CMTimeSubtract(&time, &lhs, &v8);
  CMTimeAbsoluteValue(&time1, &time);
  uint64_t v6 = 1;
  CMTimeMake(&lhs, 1, 1000000000);
  CMTime v8 = time1;
  if (CMTimeCompare(&v8, &lhs) >= 1)
  {
LABEL_4:
    time1.value = v14;
    time1.timescale = v15;
    time1.flags = v2;
    time1.epoch = v3;
    v8.value = v12;
    v8.timescale = v13;
    v8.flags = v4;
    v8.epoch = v5;
    return CMTimeCompare(&time1, &v8) == 0;
  }
  return v6;
}

BOOL PXStoryTimeApproximatelyEqualToTimeWithTolerance(CMTime *a1, CMTime *a2, double a3)
{
  CMTime v7 = *a1;
  double Seconds = CMTimeGetSeconds(&v7);
  CMTime v7 = *a2;
  return vabdd_f64(Seconds, CMTimeGetSeconds(&v7)) <= a3;
}

CMTimeRange *PXStoryTimeRangeUnion@<X0>(CMTimeRange *result@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  if ((result->start.flags & 1) != 0
    && ((result->duration.flags & 1) != 0 ? (BOOL v3 = result->duration.epoch == 0) : (BOOL v3 = 0),
        v3 && (result->duration.value & 0x8000000000000000) == 0))
  {
    if ((*(unsigned char *)(a2 + 12) & 1) != 0
      && (*(_DWORD *)(a2 + 36) & 1) != 0
      && !*(void *)(a2 + 40)
      && (*(void *)(a2 + 24) & 0x8000000000000000) == 0)
    {
      long long v4 = *(_OWORD *)&result->start.epoch;
      *(_OWORD *)&range.start.value = *(_OWORD *)&result->start.value;
      *(_OWORD *)&range.start.epoch = v4;
      *(_OWORD *)&range.duration.timescale = *(_OWORD *)&result->duration.timescale;
      long long v5 = *(_OWORD *)(a2 + 16);
      *(_OWORD *)&v9.start.value = *(_OWORD *)a2;
      *(_OWORD *)&v9.start.epoch = v5;
      *(_OWORD *)&v9.duration.timescale = *(_OWORD *)(a2 + 32);
      return CMTimeRangeGetUnion((CMTimeRange *)a3, &range, &v9);
    }
    long long v8 = *(_OWORD *)&result->start.epoch;
    *(_OWORD *)a3 = *(_OWORD *)&result->start.value;
    *(_OWORD *)(a3 + 16) = v8;
    long long v7 = *(_OWORD *)&result->duration.timescale;
  }
  else
  {
    long long v6 = *(_OWORD *)(a2 + 16);
    *(_OWORD *)a3 = *(_OWORD *)a2;
    *(_OWORD *)(a3 + 16) = v6;
    long long v7 = *(_OWORD *)(a2 + 32);
  }
  *(_OWORD *)(a3 + 32) = v7;
  return result;
}

CMTimeRange *PXStoryTimeRangeInset@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  CMTime lhs = *a1;
  CMTime rhs = *a2;
  CMTimeAdd(&v9, &lhs, &rhs);
  CMTime lhs = a1[1];
  CMTime rhs = *a2;
  CMTimeSubtract(&v7, &lhs, &rhs);
  CMTime rhs = *a2;
  CMTime lhs = v7;
  CMTimeSubtract(&v8, &lhs, &rhs);
  CMTime lhs = v9;
  CMTime rhs = v8;
  return CMTimeRangeMake(a3, &lhs, &rhs);
}

CMTimeRange *PXStoryTimeRangeOffset@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  CMTime lhs = *a1;
  CMTime rhs = *a2;
  CMTimeAdd(&v6, &lhs, &rhs);
  CMTime rhs = a1[1];
  CMTime lhs = v6;
  return CMTimeRangeMake(a3, &lhs, &rhs);
}

__CFString *PXStoryTimeDescription(CMTime *a1)
{
  if (a1->value)
  {
    id v2 = [NSString alloc];
    CMTime time = *a1;
    BOOL v3 = (__CFString *)objc_msgSend(v2, "initWithFormat:", @"%0.1fs", CMTimeGetSeconds(&time));
  }
  else
  {
    BOOL v3 = @"0s";
  }
  return v3;
}

id PXStoryTimeRangeDescription(uint64_t a1)
{
  id v2 = [NSString alloc];
  *(_OWORD *)&time.start.value = *(_OWORD *)a1;
  time.start.epoch = *(void *)(a1 + 16);
  Float64 Seconds = CMTimeGetSeconds(&time.start);
  long long v4 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)&time.start.value = *(_OWORD *)a1;
  *(_OWORD *)&time.start.epoch = v4;
  *(_OWORD *)&time.duration.timescale = *(_OWORD *)(a1 + 32);
  CMTimeRangeGetEnd(&v8, &time);
  long long v5 = objc_msgSend(v2, "initWithFormat:", @"{ %0.1f - %0.1fs }", *(void *)&Seconds, CMTimeGetSeconds(&v8));
  return v5;
}

id PXStoryDurationInfoDescription(long long *a1)
{
  id v2 = [NSString alloc];
  long long v10 = *(long long *)((char *)a1 + 24);
  *(void *)&long long v11 = *((void *)a1 + 5);
  BOOL v3 = PXStoryTimeDescription((CMTime *)&v10);
  long long v10 = *a1;
  *(void *)&long long v11 = *((void *)a1 + 2);
  long long v4 = PXStoryTimeDescription((CMTime *)&v10);
  long long v10 = a1[3];
  *(void *)&long long v11 = *((void *)a1 + 8);
  long long v5 = PXStoryTimeDescription((CMTime *)&v10);
  long long v6 = *(long long *)((char *)a1 + 88);
  long long v10 = *(long long *)((char *)a1 + 72);
  long long v11 = v6;
  CMTime v7 = PXAudioCueDescription((CMTime *)&v10);
  CMTime v8 = objc_msgSend(v2, "initWithFormat:", @"{ preferred: %@; min: %@; max: %@; cue: %@; }",
                 v3,
                 v4,
                 v5,
                 v7);

  return v8;
}

__CFString *PXStoryResourceKindDescription(unint64_t a1)
{
  if (a1 > 5) {
    return @"??";
  }
  else {
    return off_1E5DC4FD0[a1];
  }
}

void *PXStoryPanDirectionPossibleValues()
{
  return &unk_1F02D4DF8;
}

__CFString *PXStoryPanDirectionDescription(unsigned int a1)
{
  if (a1 > 4) {
    return @"??";
  }
  else {
    return off_1E5DC5018[a1];
  }
}

void *PXStoryScaleDirectionPossibleValues()
{
  return &unk_1F02D4E10;
}

__CFString *PXStoryScaleDirectionDescription(unsigned int a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DC5040[a1];
  }
}

void *PXStoryRotateDirectionPossibleValues()
{
  return &unk_1F02D4E28;
}

__CFString *PXStoryRotateDirectionDescription(unsigned int a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DC5058[a1];
  }
}

void *PXStoryWipeTransitionKindPossibleValues()
{
  return &unk_1F02D4E40;
}

__CFString *PXStoryWipeTransitionKindDescription(unsigned int a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DC5070[a1];
  }
}

__CFString *PXStoryWipeTransitionDirectionDescription(unsigned int a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DC5000[a1];
  }
}

uint64_t PXStoryTransitionKindGetMovementKind(unsigned int a1)
{
  if (a1 > 0xA) {
    return 0;
  }
  else {
    return qword_1AB35B958[a1];
  }
}

void PXStoryTransitionInfoMakeDefault(unsigned int a1@<W0>, uint64_t a2@<X8>, Float64 a3@<D0>)
{
  *(void *)(a2 + 32) = 0;
  *(_OWORD *)a2 = 0u;
  *(_OWORD *)(a2 + 16) = 0u;
  *(unsigned char *)a2 = a1;
  CMTimeMakeWithSeconds(&v8, a3, 600);
  *(CMTime *)(a2 + 4) = v8;
  *(unsigned char *)(a2 + 2_Block_object_dispose(&STACK[0x2A0], 8) = 0;
  long long v5 = +[PXStoryTransitionsSettings sharedInstance];
  long long v6 = v5;
  if (a1 <= 0xA)
  {
    switch((char)a1)
    {
      case 5:
        *(unsigned char *)(a2 + 29) = 1;
        break;
      case 6:
        *(unsigned char *)(a2 + 29) = 1;
        [v5 scaleTransitionRelativeFactor];
        goto LABEL_8;
      case 7:
        *(unsigned char *)(a2 + 29) = 1;
        [v5 rotateTransitionAngle];
        goto LABEL_8;
      case 8:
        *(unsigned char *)(a2 + 29) = 2;
        *(unsigned char *)(a2 + 32) = 1;
        break;
      case 9:
        *(unsigned char *)(a2 + 29) = 1;
        [v5 zoomTransitionRelativeFactor];
LABEL_8:
        *(void *)(a2 + 32) = v7;
        break;
      default:
        break;
    }
  }
}

uint64_t PXStoryTransitionInfoFlippedForRTL@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  long long v2 = *(_OWORD *)(result + 16);
  *(_OWORD *)a2 = *(_OWORD *)result;
  *(_OWORD *)(a2 + 16) = v2;
  *(void *)(a2 + 32) = *(void *)(result + 32);
  *(unsigned char *)(a2 + 1) ^= 1u;
  if (*(unsigned char *)result == 5)
  {
    int v3 = *(char *)(result + 29);
    if (v3 == 1)
    {
      char v4 = 2;
    }
    else
    {
      if (v3 != 2) {
        return result;
      }
      char v4 = 1;
    }
    *(unsigned char *)(a2 + 29) = v4;
  }
  return result;
}

id PXStoryTransitionInfoDescription(unsigned __int8 *a1)
{
  id v2 = objc_alloc(MEMORY[0x1E4F28E78]);
  unint64_t v3 = *a1;
  if (v3 > 0xA) {
    char v4 = @"??";
  }
  else {
    char v4 = off_1E5DC5088[v3];
  }
  long long v5 = v4;
  CMTime v22 = *(CMTime *)(a1 + 4);
  long long v6 = PXStoryTimeDescription(&v22);
  uint64_t v7 = (void *)[v2 initWithFormat:@"{ out: %@, duration: %@", v5, v6];

  if (*a1 <= 0xAuLL)
  {
    switch(*a1)
    {
      case 5u:
        unint64_t v10 = a1[29];
        if (v10 > 4) {
          long long v11 = @"??";
        }
        else {
          long long v11 = off_1E5DC5018[v10];
        }
        [v7 appendFormat:@", %@", v11, v21];
        break;
      case 6u:
      case 9u:
        unint64_t v8 = a1[29];
        if (v8 > 2) {
          CMTime v9 = @"??";
        }
        else {
          CMTime v9 = off_1E5DC5040[v8];
        }
        [v7 appendFormat:@", %@ %0.1f", v9, *((void *)a1 + 4)];
        break;
      case 7u:
        unint64_t v12 = a1[29];
        if (v12 > 2) {
          CMTimeScale v13 = @"??";
        }
        else {
          CMTimeScale v13 = off_1E5DC5058[v12];
        }
        [v7 appendFormat:@", %@ %0.1f", v13, *((void *)a1 + 4)];
        break;
      case 8u:
        unint64_t v14 = a1[29];
        if (v14 > 2) {
          CMTimeScale v15 = @"??";
        }
        else {
          CMTimeScale v15 = off_1E5DC5070[v14];
        }
        [v7 appendFormat:@", wipe: %@", v15, v21];
        break;
      default:
        break;
    }
  }
  uint64_t v16 = a1[28];
  if (a1[28])
  {
    if (v16 > 0xA) {
      CGFloat v17 = @"??";
    }
    else {
      CGFloat v17 = off_1E5DC5088[v16];
    }
    double v18 = v17;
    [v7 appendFormat:@", (fallback from %@)", v18];
  }
  [v7 appendString:@" }"];
  double v19 = (void *)[v7 copy];

  return v19;
}

__CFString *PXStoryTransitionKindDescription(unsigned int a1)
{
  if (a1 > 0xA) {
    return @"??";
  }
  else {
    return off_1E5DC5088[a1];
  }
}

BOOL PXStoryTransitionInfoIsNone(unsigned char *a1)
{
  return *a1 == 0;
}

BOOL PXStoryTransitionInfoEqualToTransitionInfo(unsigned __int8 *a1, unsigned __int8 *a2)
{
  if (*a1 != *a2 || a1[1] != a2[1]) {
    return 0;
  }
  CMTime time1 = *(CMTime *)(a1 + 4);
  CMTime v3 = *(CMTime *)(a2 + 4);
  return CMTimeCompare(&time1, &v3) == 0;
}

BOOL PXStorySegmentTransitionInfoIsNone(uint64_t a1, uint64_t a2)
{
  return (a1 | a2) == 0;
}

uint64_t PXStorySegmentTransitionInfoDescription(uint64_t a1, uint64_t a2)
{
  return objc_msgSend(NSString, "stringWithFormat:", @"%ld  %ld", a1, a2);
}

__CFString *PXStoryTransitionEventDescription(uint64_t a1)
{
  uint64_t v1 = @"undefined";
  if (a1 == 1) {
    uint64_t v1 = @"orderIn";
  }
  if (a1 == 2) {
    return @"orderOut";
  }
  else {
    return v1;
  }
}

uint64_t PFStoryRecipeClipTransitionKindFromPXStoryTransitionKind(int a1)
{
  uint64_t v1 = (a1 - 1);
  if (v1 < 8) {
    return v1 + 1;
  }
  else {
    return 0;
  }
}

uint64_t PXStoryTransitionKindFromPFStoryRecipeClipTransitionKind(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) < 8) {
    return (char)a1;
  }
  else {
    return 0;
  }
}

uint64_t PXStorySegmentIdentifierMakeUnique()
{
  return (int)atomic_fetch_add(PXStorySegmentIdentifierMakeUnique_uniqueIdentifier, 1u);
}

uint64_t PXStorySegmentClipCompositionInfoMake@<X0>(uint64_t result@<X0>, char a2@<W1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>, double a6@<D0>)
{
  *(void *)a5 = result;
  *(unsigned char *)(a5 + _Block_object_dispose(&STACK[0x2A0], 8) = a2;
  *(void *)(a5 + 16) = a3;
  *(double *)(a5 + 24) = a6;
  *(void *)(a5 + 32) = a4;
  return result;
}

uint64_t PXStorySegmentClipCompositionInfoIsNone(uint64_t a1)
{
  if (*(void *)a1) {
    BOOL v1 = 0;
  }
  else {
    BOOL v1 = *(unsigned char *)(a1 + 8) == 0;
  }
  if (v1 && *(void *)(a1 + 16) == 0) {
    PXFloatApproximatelyEqualToFloat();
  }
  return 0;
}

__n128 PXStorySegmentInfoMakeUnique@<Q0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  signed int add = atomic_fetch_add(PXStorySegmentIdentifierMakeUnique_uniqueIdentifier, 1u);
  long long v5 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)(a4 + _Block_object_dispose(&STACK[0x2A0], 8) = *(_OWORD *)a2;
  *(_OWORD *)(a4 + 24) = v5;
  long long v6 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)(a4 + 4_Block_object_dispose(&STACK[0x2A0], 8) = *(_OWORD *)a1;
  *(_OWORD *)(a4 + 64) = v6;
  *(_OWORD *)(a4 + 184) = *(_OWORD *)(a3 + 96);
  long long v7 = *(_OWORD *)(a3 + 64);
  *(_OWORD *)(a4 + 16_Block_object_dispose(&STACK[0x2A0], 8) = *(_OWORD *)(a3 + 80);
  *(_OWORD *)(a4 + 152) = v7;
  long long v8 = *(_OWORD *)(a3 + 32);
  *(_OWORD *)(a4 + 136) = *(_OWORD *)(a3 + 48);
  __n128 result = *(__n128 *)a3;
  long long v10 = *(_OWORD *)(a3 + 16);
  *(_OWORD *)(a4 + 8_Block_object_dispose(&STACK[0x2A0], 8) = *(_OWORD *)a3;
  *(_OWORD *)(a4 + 104) = v10;
  *(void *)a4 = add;
  *(void *)(a4 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 32);
  *(void *)(a4 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a1 + 32);
  *(_OWORD *)(a4 + 12PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v8;
  return result;
}

uint64_t PXStorySegmentInfoEqualToSegmentInfo(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *MEMORY[0x1E4F143B8];
  if (*(void *)a1 == *(void *)a2
    && *(void *)(a1 + 8) == *(void *)(a2 + 8)
    && *(unsigned __int8 *)(a1 + 16) == *(unsigned __int8 *)(a2 + 16)
    && *(void *)(a1 + 24) == *(void *)(a2 + 24))
  {
    PXFloatApproximatelyEqualToFloat();
  }
  return 0;
}

uint64_t PXstorySegmentInfoIsNone(uint64_t a1)
{
  long long v1 = *(_OWORD *)(a1 + 176);
  v8[10] = *(_OWORD *)(a1 + 160);
  v8[11] = v1;
  uint64_t v9 = *(void *)(a1 + 192);
  long long v2 = *(_OWORD *)(a1 + 112);
  v8[6] = *(_OWORD *)(a1 + 96);
  v8[7] = v2;
  long long v3 = *(_OWORD *)(a1 + 144);
  v8[8] = *(_OWORD *)(a1 + 128);
  v8[9] = v3;
  long long v4 = *(_OWORD *)(a1 + 48);
  void v8[2] = *(_OWORD *)(a1 + 32);
  void v8[3] = v4;
  long long v5 = *(_OWORD *)(a1 + 80);
  void v8[4] = *(_OWORD *)(a1 + 64);
  void v8[5] = v5;
  long long v6 = *(_OWORD *)(a1 + 16);
  v8[0] = *(_OWORD *)a1;
  v8[1] = v6;
  return PXStorySegmentInfoEqualToSegmentInfo((uint64_t)v8, (uint64_t)&PXStorySegmentInfoNone);
}

__CFString *PXStorySegmentInfoDescription(uint64_t *a1)
{
  long long v2 = *((_OWORD *)a1 + 11);
  long long v28 = *((_OWORD *)a1 + 10);
  long long v29 = v2;
  uint64_t v30 = a1[24];
  long long v3 = *((_OWORD *)a1 + 7);
  long long v24 = *((_OWORD *)a1 + 6);
  long long v25 = v3;
  long long v4 = *((_OWORD *)a1 + 9);
  long long v26 = *((_OWORD *)a1 + 8);
  long long v27 = v4;
  long long v5 = *((_OWORD *)a1 + 3);
  long long v20 = *((_OWORD *)a1 + 2);
  long long v21 = v5;
  long long v6 = *((_OWORD *)a1 + 5);
  long long v22 = *((_OWORD *)a1 + 4);
  long long v23 = v6;
  long long v7 = *((_OWORD *)a1 + 1);
  long long v18 = *(_OWORD *)a1;
  long long v19 = v7;
  if (PXStorySegmentInfoEqualToSegmentInfo((uint64_t)&v18, (uint64_t)&PXStorySegmentInfoNone))
  {
    long long v8 = @"<none>";
  }
  else
  {
    id v9 = [NSString alloc];
    uint64_t v10 = *a1;
    long long v11 = *(_OWORD *)(a1 + 17);
    long long v12 = *(_OWORD *)(a1 + 21);
    long long v22 = *(_OWORD *)(a1 + 19);
    long long v23 = v12;
    long long v24 = *(_OWORD *)(a1 + 23);
    long long v13 = *(_OWORD *)(a1 + 13);
    long long v18 = *(_OWORD *)(a1 + 11);
    long long v19 = v13;
    long long v20 = *(_OWORD *)(a1 + 15);
    long long v21 = v11;
    unint64_t v14 = PXStoryDurationInfoDescription(&v18);
    long long v15 = *((_OWORD *)a1 + 4);
    long long v18 = *((_OWORD *)a1 + 3);
    long long v19 = v15;
    *(void *)&long long v20 = a1[10];
    uint64_t v16 = PXStoryTransitionInfoDescription((unsigned __int8 *)&v18);
    long long v8 = (__CFString *)objc_msgSend(v9, "initWithFormat:", @"<PXStorySegmentInfo Identifier: %ldd; Duration: %@; Transition: %@",
                         v10,
                         v14,
                         v16);
  }
  return v8;
}

__CFString *PXStoryViewModeDescription(uint64_t a1)
{
  __n128 result = @"Undefined";
  switch(a1)
  {
    case 0:
      return result;
    case 1:
      __n128 result = @"FullsizePlayer";
      break;
    case 2:
      __n128 result = @"BrowserGrid";
      break;
    case 3:
      __n128 result = @"Thumbnail";
      break;
    case 4:
      __n128 result = @"StyleSwitcher";
      break;
    case 5:
      __n128 result = @"Export Preview";
      break;
    default:
      if (a1 == 100) {
        __n128 result = @"None";
      }
      else {
        __n128 result = @"Unknown";
      }
      break;
  }
  return result;
}

uint64_t PXStorySwipeDownInteractionStateMake@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>, double a3@<D0>, double a4@<D1>, double a5@<D2>, double a6@<D3>, double a7@<D4>, double a8@<D5>, double a9@<D6>)
{
  *(double *)a2 = a3;
  *(double *)(a2 + _Block_object_dispose(&STACK[0x2A0], 8) = a4;
  *(double *)(a2 + 16) = a5;
  *(double *)(a2 + 24) = a6;
  *(double *)(a2 + 32) = a7;
  *(double *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = a8;
  *(void *)(a2 + 4_Block_object_dispose(&STACK[0x2A0], 8) = result;
  *(double *)(a2 + 56) = a9;
  *(double *)(a2 + 64) = a9;
  return result;
}

uint64_t PXStorySwipeDownInteractionStateEqualsState(uint64_t a1, uint64_t a2)
{
  if (*(double *)a1 != *(double *)a2 || *(double *)(a1 + 8) != *(double *)(a2 + 8)) {
    return 0;
  }
  if (*(double *)(a1 + 16) != *(double *)(a2 + 16) || *(double *)(a1 + 24) != *(double *)(a2 + 24)) {
    return 0;
  }
  if (*(double *)(a1 + 32) != *(double *)(a2 + 32) || *(double *)(a1 + 40) != *(double *)(a2 + 40)) {
    return 0;
  }
  id v7 = *(id *)(a2 + 48);
  id v8 = *(id *)(a1 + 48);
  id v9 = v8;
  if (v8 == v7) {
    uint64_t v5 = 1;
  }
  else {
    uint64_t v5 = [v8 isEqual:v7];
  }

  return v5;
}

id PXStorySwipeDownInteractionStateDescription(uint64_t a1)
{
  long long v2 = (objc_class *)objc_opt_class();
  long long v3 = NSString;
  long long v4 = NSStringFromCGPoint(*(CGPoint *)a1);
  uint64_t v5 = NSStringFromCGPoint(*(CGPoint *)(a1 + 16));
  long long v6 = NSStringFromCGPoint(*(CGPoint *)(a1 + 32));
  if (v2)
  {
    id v7 = NSStringFromClass(v2);
  }
  else
  {
    id v7 = 0;
  }
  id v8 = [v3 stringWithFormat:@"{ initialLocation = %@, location = %@, velocity = %@, coordinateSpace = <%@: %p> }", v4, v5, v6, v7, *(void *)(a1 + 48)];
  if (v2) {

  }
  return v8;
}

uint64_t PXStoryComponentAttributesChangeIsValid(char a1, unint64_t a2)
{
  if (((a1 & 1) == 0) | a2 & 1) {
    unsigned int v2 = (a2 >> 1) & 1;
  }
  else {
    unsigned int v2 = ((a1 & 2) == 0) & (((a1 & 1) == 0) | a2);
  }
  if ((a1 & 2) != 0) {
    return v2;
  }
  else {
    return ((a1 & 2) == 0) & (((a1 & 1) == 0) | a2);
  }
}

id PXStoryComponentAttributesDescription(char a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  long long v3 = v2;
  if (a1) {
    [v2 addObject:@"Ready for Playback"];
  }
  if ((a1 & 2) != 0) {
    [v3 addObject:@"Final"];
  }
  id v4 = [NSString alloc];
  uint64_t v5 = [v3 componentsJoinedByString:@", "];
  long long v6 = (void *)[v4 initWithFormat:@"[ %@ ]", v5];

  return v6;
}

__CFString *PXStoryHUDTypeDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x12) {
    return @"None";
  }
  else {
    return off_1E5DC50E0[a1 - 1];
  }
}

__CFString *PXStoryHUDTypeSystemImageName(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 0x12) {
    return @"eye.slash";
  }
  else {
    return off_1E5DC5178[a1 - 1];
  }
}

__CFString *PXStoryPaperTrailOptionsDescription(char a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  long long v3 = v2;
  if (a1) {
    [v2 addObject:@"Default"];
  }
  if ([v3 count])
  {
    if ([v3 count] == 1)
    {
      id v4 = [v3 firstObject];
    }
    else
    {
      id v5 = [NSString alloc];
      long long v6 = [v3 componentsJoinedByString:@", "];
      id v4 = (__CFString *)[v5 initWithFormat:@"[ %@ ]", v6];
    }
  }
  else
  {
    id v4 = @"None";
  }

  return v4;
}

unint64_t PXStoryPlaybackReadinessStatusCombine(unint64_t result, unint64_t a2)
{
  if (result != a2)
  {
    if (a2 < result) {
      __n128 result = a2;
    }
    if (result >= 4)
    {
      long long v6 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v3, v2, v4, v5);
      id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "PXStoryPlaybackReadinessStatus PXStoryPlaybackReadinessStatusCombine(PXStoryPlaybackReadinessStatus, PXStoryPlaybackReadinessStatus)");
      [v6 handleFailureInFunction:v7 file:@"PXStoryTypes.m" lineNumber:735 description:@"Code which should be unreachable has been reached"];

      abort();
    }
  }
  return result;
}

__CFString *PXStoryPlaybackReadinessStatusDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DC5210[a1];
  }
}

__CFString *PXStoryAudioModeDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DC5230[a1];
  }
}

__CFString *PXStoryAudioModeBasisDescription(unint64_t a1)
{
  if (a1 > 0xA) {
    return @"?";
  }
  else {
    return off_1E5DC5250[a1];
  }
}

BOOL PXStoryPacingDecisionIsNull(_OWORD *a1)
{
  long long v1 = a1[13];
  v9[12] = a1[12];
  v9[13] = v1;
  v9[14] = a1[14];
  long long v2 = a1[9];
  v9[8] = a1[8];
  v9[9] = v2;
  long long v3 = a1[11];
  v9[10] = a1[10];
  v9[11] = v3;
  long long v4 = a1[5];
  void v9[4] = a1[4];
  void v9[5] = v4;
  long long v5 = a1[7];
  v9[6] = a1[6];
  v9[7] = v5;
  long long v6 = a1[1];
  v9[0] = *a1;
  v9[1] = v6;
  long long v7 = a1[3];
  id v9[2] = a1[2];
  v9[3] = v7;
  return PXStoryPacingDecisionEqualToPacingDecision((uint64_t)v9, (uint64_t)&PXStoryPacingDecisionNull);
}

BOOL PXStoryPacingDecisionEqualToPacingDecision(uint64_t a1, uint64_t a2)
{
  if (*(void *)a1 != *(void *)a2) {
    return 0;
  }
  CMTime time1 = *(CMTime *)(a1 + 56);
  CMTime v8 = *(CMTime *)(a2 + 56);
  if (CMTimeCompare(&time1, &v8)) {
    return 0;
  }
  CMTime time1 = *(CMTime *)(a1 + 80);
  CMTime v8 = *(CMTime *)(a2 + 80);
  if (CMTimeCompare(&time1, &v8)) {
    return 0;
  }
  *(_OWORD *)&time1.value = *(_OWORD *)(a1 + 104);
  uint64_t v5 = *(void *)(a1 + 128);
  time1.epoch = *(void *)(a1 + 120);
  *(_OWORD *)&v8.value = *(_OWORD *)(a2 + 104);
  uint64_t v6 = *(void *)(a2 + 128);
  v8.epoch = *(void *)(a2 + 120);
  int32_t v7 = CMTimeCompare(&time1, &v8);
  BOOL result = 0;
  if (!v7 && v5 == v6)
  {
    if (*(void *)(a1 + 136) == *(void *)(a2 + 136))
    {
      CMTime time1 = *(CMTime *)(a1 + 144);
      CMTime v8 = *(CMTime *)(a2 + 144);
      if (!CMTimeCompare(&time1, &v8) && *(double *)(a1 + 168) == *(double *)(a2 + 168))
      {
        CMTime time1 = *(CMTime *)(a1 + 176);
        CMTime v8 = *(CMTime *)(a2 + 176);
        if (!CMTimeCompare(&time1, &v8)) {
          return *(void *)(a1 + 200) == *(void *)(a2 + 200);
        }
      }
    }
    return 0;
  }
  return result;
}

id PXStoryPacingDecisionDescription(uint64_t a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4F28E78]);
  long long v3 = [NSNumber numberWithInteger:*(void *)a1];
  unint64_t v4 = *(void *)(a1 + 128);
  if (v4 > 4) {
    uint64_t v5 = @"Unspecified";
  }
  else {
    uint64_t v5 = off_1E5DAF518[v4];
  }
  uint64_t v6 = v5;
  CMTime lhs = *(CMTime *)(a1 + 80);
  int32_t v7 = PXStoryTimeDescription(&lhs);
  CMTime lhs = *(CMTime *)(a1 + 80);
  CMTime rhs = *(CMTime *)(a1 + 56);
  CMTimeSubtract(&v11, &lhs, &rhs);
  CMTime v8 = PXStoryTimeDescription(&v11);
  [v2 appendFormat:@"Segment: %@ Cue: %@ Duration: %@ (%@)", v3, v6, v7, v8];

  id v9 = (void *)[v2 copy];
  return v9;
}

void sub_1AAF6AF74(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAF6D234(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF6D470(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF6DE80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

unint64_t _DecorationIndexForType(unint64_t result)
{
  if (result > 8)
  {
    uint64_t v5 = objc_msgSend(MEMORY[0x1E4F28B00], "currentHandler", v2, v1, v3, v4);
    uint64_t v6 = [NSString stringWithUTF8String:"PXGDecorationIndex _DecorationIndexForType(PXGDecoratingLayoutSpriteType)"];
    [v5 handleFailureInFunction:v6 file:@"PXGDecoratingLayout.m" lineNumber:129 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return result;
}

void sub_1AAF73D2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF73FCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 48), 8);
  _Unwind_Resume(a1);
}

__CFString *_DescriptionForPercentCompleted(uint64_t a1)
{
  if (a1 == -1)
  {
    uint64_t v2 = @"-";
  }
  else
  {
    objc_msgSend(NSString, "stringWithFormat:", @"%ld%%", a1);
    uint64_t v2 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  return v2;
}

uint64_t _thumbnailRebuildDidStop(uint64_t a1, void *a2)
{
  return [a2 _updateIsRebuildingThumbnails];
}

uint64_t _localModeEnabledDidChange(uint64_t a1, void *a2)
{
  return [a2 _updateIsLocalModeEnabled];
}

void _systemPhotoLibraryURLDidChange(uint64_t a1, void *a2)
{
  uint64_t v2 = (void *)a2[16];
  uint64_t v3 = a2;
  objc_msgSend(v3, "_updateIsCloudPhotosEnabled:", objc_msgSend(v2, "isCloudPhotoLibraryEnabled"));
}

void PXSharedAlbumsCreateNewAlbum(void *a1, void *a2, char a3, void *a4)
{
  uint64_t v37 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  id v9 = a4;
  v22[0] = MEMORY[0x1E4F143A8];
  v22[1] = 3221225472;
  void v22[2] = __PXSharedAlbumsCreateNewAlbum_block_invoke;
  v22[3] = &unk_1E5DC56C0;
  char v24 = a3;
  id v10 = v9;
  id v23 = v10;
  id v11 = v7;
  id v12 = v8;
  long long v13 = v22;
  unint64_t v14 = objc_msgSend(MEMORY[0x1E4F39228], "px_deprecated_appPhotoLibrary");
  v29[0] = 0;
  v29[1] = v29;
  v29[2] = 0x3032000000;
  v29[3] = __Block_byref_object_copy__211382;
  void v29[4] = __Block_byref_object_dispose__211383;
  id v30 = 0;
  long long v15 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v15, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v16 = [v12 count];
    *(_DWORD *)long long buf = 138412546;
    *(void *)&uint8_t buf[4] = v11;
    *(_WORD *)&buf[12] = 2048;
    *(void *)&buf[14] = v16;
  }

  v25[0] = MEMORY[0x1E4F143A8];
  v25[1] = 3221225472;
  v25[2] = ___PXSharedAlbumsCreateNewAlbum_block_invoke;
  v25[3] = &unk_1E5DCCA20;
  id v17 = v11;
  id v26 = v17;
  long long v28 = v29;
  id v18 = v12;
  id v27 = v18;
  *(void *)long long buf = MEMORY[0x1E4F143A8];
  *(void *)&uint8_t buf[8] = 3221225472;
  *(void *)&uint8_t buf[16] = ___PXSharedAlbumsCreateNewAlbum_block_invoke_329;
  CGFloat v32 = &unk_1E5DCD048;
  id v19 = v17;
  id v33 = v19;
  unint64_t v36 = v29;
  id v20 = v14;
  id v34 = v20;
  long long v21 = v13;
  id v35 = v21;
  [v20 performChanges:v25 completionHandler:buf];

  _Block_object_dispose(v29, 8);
}

void sub_1AAF7ADE8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXSharedAlbumsCreateNewAlbum_block_invoke(uint64_t a1, void *a2, void *a3)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  if (v5 && *(unsigned char *)(a1 + 40))
  {
    id v7 = *(void **)(a1 + 32);
    id v8 = v5;
    id v9 = v7;
    id v10 = objc_msgSend(MEMORY[0x1E4F39228], "px_deprecated_appPhotoLibrary");
    id v11 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
    {
      id v12 = [v8 localizedTitle];
      LODWORD(buf) = 138412290;
      *(void *)((char *)&buf + 4) = v12;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Attempting to publish shared album '%@'", (uint8_t *)&buf, 0xCu);
    }
    v15[0] = MEMORY[0x1E4F143A8];
    v15[1] = 3221225472;
    void v15[2] = ___PXSharedAlbumsPublishSharedAlbum_block_invoke;
    v15[3] = &unk_1E5DD36F8;
    id v16 = v8;
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
    id v18 = ___PXSharedAlbumsPublishSharedAlbum_block_invoke_2;
    id v19 = &unk_1E5DD2B90;
    id v20 = v16;
    id v21 = v9;
    id v13 = v9;
    [v10 performChanges:v15 completionHandler:&buf];
  }
  else
  {
    uint64_t v14 = *(void *)(a1 + 32);
    if (v14) {
      (*(void (**)(uint64_t, id, id))(v14 + 16))(v14, v5, v6);
    }
  }
}

uint64_t __Block_byref_object_copy__211382(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__211383(uint64_t a1)
{
}

void PXSharedAlbumsRecordRecentInvitationRecipients(void *a1)
{
  uint64_t v46 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [MEMORY[0x1E4F1C9C8] date];
  double v31 = [MEMORY[0x1E4F1CA48] array];
  long long v34 = 0u;
  long long v35 = 0u;
  long long v32 = 0u;
  long long v33 = 0u;
  id v3 = v1;
  uint64_t v4 = [v3 countByEnumeratingWithState:&v32 objects:v45 count:16];
  if (v4)
  {
    uint64_t v5 = *(void *)v33;
    do
    {
      for (uint64_t i = 0; i != v4; ++i)
      {
        if (*(void *)v33 != v5) {
          objc_enumerationMutation(v3);
        }
        id v7 = *(void **)(*((void *)&v32 + 1) + 8 * i);
        id v8 = [v7 suggestedTransport];
        BOOL v9 = [v8 addressKind] == 1;

        if (v9)
        {
          id v10 = [v7 emailAddressString];
          if (v10)
          {
            id CRRecentContactsLibraryClass = getCRRecentContactsLibraryClass();
            id v12 = [v7 displayName];
            uint64_t v41 = 0;
            CGAffineTransform v42 = &v41;
            uint64_t v43 = 0x2020000000;
            id v13 = (void *)getCRAddressKindEmailSymbolLoc_ptr;
            uint64_t v44 = getCRAddressKindEmailSymbolLoc_ptr;
            if (!getCRAddressKindEmailSymbolLoc_ptr)
            {
              *(void *)long long buf = MEMORY[0x1E4F143A8];
              uint64_t v37 = 3221225472;
              double v38 = __getCRAddressKindEmailSymbolLoc_block_invoke;
              CGFloat v39 = &unk_1E5DD2B08;
              int v40 = &v41;
              uint64_t v14 = CoreRecentsLibrary();
              long long v15 = dlsym(v14, "CRAddressKindEmail");
              *(void *)(v40[1] + 24) = v15;
              getCRAddressKindEmailSymbolLoc_ptr = *(void *)(v40[1] + 24);
              id v13 = (void *)v42[3];
            }
            _Block_object_dispose(&v41, 8);
            if (!v13)
            {
              id v27 = [MEMORY[0x1E4F28B00] currentHandler];
              long long v28 = [NSString stringWithUTF8String:"NSString *getCRAddressKindEmail(void)"];
              objc_msgSend(v27, "handleFailureInFunction:file:lineNumber:description:", v28, @"PXSharedAlbumsUtilities.m", 50, @"%s", dlerror());

              goto LABEL_39;
            }
            id v16 = [CRRecentContactsLibraryClass recentEventForAddress:v10 displayName:v12 kind:*v13 date:v2 weight:0 metadata:0 options:1];

            if (v16)
            {
              id v17 = PLSharedAlbumsGetLog();
              if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
              {
                *(_WORD *)long long buf = 0;
                _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_DEFAULT, "Will record shared album invitation recipient: Valid recipient email address.", buf, 2u);
              }
              goto LABEL_23;
            }
          }
          else
          {
            id v16 = PLSharedAlbumsGetLog();
            if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
            {
              *(_WORD *)long long buf = 0;
              _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_ERROR, "Will no record shared album invitation recipient: Empty recipient email address.", buf, 2u);
            }
          }
          goto LABEL_31;
        }
        id v18 = [v7 suggestedTransport];
        BOOL v19 = [v18 addressKind] == 2;

        if (v19)
        {
          id v20 = [v7 allPhonesArray];
          id v10 = [v20 firstObject];

          if (v10)
          {
            id v21 = getCRRecentContactsLibraryClass();
            uint64_t v22 = [v7 displayName];
            uint64_t v41 = 0;
            CGAffineTransform v42 = &v41;
            uint64_t v43 = 0x2020000000;
            id v23 = (void *)getCRAddressKindPhoneNumberSymbolLoc_ptr;
            uint64_t v44 = getCRAddressKindPhoneNumberSymbolLoc_ptr;
            if (!getCRAddressKindPhoneNumberSymbolLoc_ptr)
            {
              *(void *)long long buf = MEMORY[0x1E4F143A8];
              uint64_t v37 = 3221225472;
              double v38 = __getCRAddressKindPhoneNumberSymbolLoc_block_invoke;
              CGFloat v39 = &unk_1E5DD2B08;
              int v40 = &v41;
              char v24 = CoreRecentsLibrary();
              long long v25 = dlsym(v24, "CRAddressKindPhoneNumber");
              *(void *)(v40[1] + 24) = v25;
              getCRAddressKindPhoneNumberSymbolLoc_ptr = *(void *)(v40[1] + 24);
              id v23 = (void *)v42[3];
            }
            _Block_object_dispose(&v41, 8);
            if (!v23)
            {
              long long v29 = [MEMORY[0x1E4F28B00] currentHandler];
              id v30 = [NSString stringWithUTF8String:"NSString *getCRAddressKindPhoneNumber(void)"];
              objc_msgSend(v29, "handleFailureInFunction:file:lineNumber:description:", v30, @"PXSharedAlbumsUtilities.m", 51, @"%s", dlerror());

LABEL_39:
              __break(1u);
            }
            id v16 = [v21 recentEventForAddress:v10 displayName:v22 kind:*v23 date:v2 weight:0 metadata:0 options:1];

            if (v16)
            {
              id v17 = PLSharedAlbumsGetLog();
              if (os_log_type_enabled(v17, OS_LOG_TYPE_DEFAULT))
              {
                *(_WORD *)long long buf = 0;
                _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_DEFAULT, "Will record shared album invitation recipient: Valid recipient phone number.", buf, 2u);
              }
LABEL_23:

              [v31 addObject:v16];
            }
          }
          else
          {
            id v16 = PLSharedAlbumsGetLog();
            if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
            {
              *(_WORD *)long long buf = 0;
              _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_ERROR, "Will not record shared album invitation recipient: Empty recipient phone number.", buf, 2u);
            }
          }
LABEL_31:

          goto LABEL_32;
        }
        id v10 = PLSharedAlbumsGetLog();
        if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
        {
          *(_WORD *)long long buf = 0;
          _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Will not record shared album invitation recipient: Invalid recipient type.", buf, 2u);
        }
LABEL_32:
      }
      uint64_t v4 = [v3 countByEnumeratingWithState:&v32 objects:v45 count:16];
    }
    while (v4);
  }

  if ([v31 count])
  {
    id v26 = [getCRRecentContactsLibraryClass() defaultInstance];
    [v26 recordContactEvents:v31 recentsDomain:@"com.apple.photos.sharedstreams" sendingAddress:0 completion:0];
  }
}

void sub_1AAF7BE94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

id getCRRecentContactsLibraryClass()
{
  uint64_t v4 = 0;
  uint64_t v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getCRRecentContactsLibraryClass_softClass;
  uint64_t v7 = getCRRecentContactsLibraryClass_softClass;
  if (!getCRRecentContactsLibraryClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getCRRecentContactsLibraryClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getCRRecentContactsLibraryClass_block_invoke((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAF7BF84(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getCRAddressKindEmailSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = CoreRecentsLibrary();
  BOOL result = dlsym(v2, "CRAddressKindEmail");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCRAddressKindEmailSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *CoreRecentsLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!CoreRecentsLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __CoreRecentsLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DC5818;
    uint64_t v6 = 0;
    CoreRecentsLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  id v0 = (void *)CoreRecentsLibraryCore_frameworkLibrary;
  if (!CoreRecentsLibraryCore_frameworkLibrary)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *CoreRecentsLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharedAlbumsUtilities.m", 48, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

void *__getCRAddressKindPhoneNumberSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = CoreRecentsLibrary();
  BOOL result = dlsym(v2, "CRAddressKindPhoneNumber");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getCRAddressKindPhoneNumberSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __CoreRecentsLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  CoreRecentsLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void __getCRRecentContactsLibraryClass_block_invoke(uint64_t a1)
{
  CoreRecentsLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("CRRecentContactsLibrary");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getCRRecentContactsLibraryClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getCRRecentContactsLibraryClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharedAlbumsUtilities.m", 49, @"Unable to find class %s", "CRRecentContactsLibrary");

    __break(1u);
  }
}

uint64_t PXSharedAlbumsValidateRecipientsToAddToAlbum(void *a1, void *a2, void *a3)
{
  uint64_t v60 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  long long v55 = 0u;
  long long v56 = 0u;
  long long v57 = 0u;
  long long v58 = 0u;
  id v8 = v5;
  uint64_t v9 = [v8 countByEnumeratingWithState:&v55 objects:v59 count:16];
  if (!v9) {
    goto LABEL_11;
  }
  uint64_t v10 = v9;
  uint64_t v11 = *(void *)v56;
  while (2)
  {
    uint64_t v12 = 0;
    do
    {
      if (*(void *)v56 != v11) {
        objc_enumerationMutation(v8);
      }
      id v13 = *(void **)(*((void *)&v55 + 1) + 8 * v12);
      objc_opt_class();
      if ((objc_opt_isKindOfClass() & 1) == 0)
      {
        uint64_t v47 = [MEMORY[0x1E4F28B00] currentHandler];
        uint64_t v46 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedAlbumsValidateRecipientsToAddToAlbum(NSArray<PXSharedAlbumRecipient *> *__strong _Nonnull, PLCloudSharedAlbum * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull)");
        [v47 handleFailureInFunction:v46 file:@"PXSharedAlbumsUtilities.m" lineNumber:176 description:@"Invalid recipient type"];
      }
      uint64_t v14 = [v13 invalidAddressString];
      if (v14)
      {
        id v26 = (id)v14;

        long long v33 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsInvalidAddressTitle");
        long long v34 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsInvalidAddressMessageFormat");
        long long v35 = PXLocalizedStringWithValidatedFormat(v34, @"%@");

        v52[0] = MEMORY[0x1E4F143A8];
        v52[1] = 3221225472;
        v52[2] = __PXSharedAlbumsValidateRecipientsToAddToAlbum_block_invoke;
        v52[3] = &unk_1E5DCEB00;
        id v53 = v33;
        id v54 = v35;
        id v36 = v33;
        id v25 = v35;
        uint64_t v37 = objc_msgSend(v7, "presentAlertWithConfigurationHandler:", v52, v26);
        double v38 = PLSharedAlbumsGetLog();
        CGFloat v39 = v38;
        if (v37)
        {
          if (os_log_type_enabled(v38, OS_LOG_TYPE_DEFAULT))
          {
            *(_WORD *)long long buf = 0;
            int v40 = "Presented shared album address validation alert";
            uint64_t v41 = v39;
            os_log_type_t v42 = OS_LOG_TYPE_DEFAULT;
LABEL_20:
            _os_log_impl(&dword_1A9AE7000, v41, v42, v40, buf, 2u);
          }
        }
        else if (os_log_type_enabled(v38, OS_LOG_TYPE_ERROR))
        {
          *(_WORD *)long long buf = 0;
          int v40 = "Failed to present shared album address validation alert";
          uint64_t v41 = v39;
          os_log_type_t v42 = OS_LOG_TYPE_ERROR;
          goto LABEL_20;
        }

        goto LABEL_27;
      }
      ++v12;
    }
    while (v10 != v12);
    uint64_t v10 = [v8 countByEnumeratingWithState:&v55 objects:v59 count:16];
    if (v10) {
      continue;
    }
    break;
  }
LABEL_11:

  long long v15 = [v6 cloudAlbumSubscriberRecords];
  uint64_t v16 = [v15 count];

  uint64_t v17 = [v8 count];
  uint64_t v18 = [MEMORY[0x1E4F8AAB0] maxSubscribersPerStream];
  if (v17 + v16 <= v18)
  {
    uint64_t v43 = 1;
  }
  else
  {
    uint64_t v19 = v18;
    id v20 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddSubscribersTitle");
    id v21 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsSubscribersLimitReachedMessageFormat");
    uint64_t v22 = PLSharedCountFormatter();
    id v23 = [NSNumber numberWithInteger:v19];
    CGRect v45 = [v22 stringFromNumber:v23];
    char v24 = PXLocalizedStringWithValidatedFormat(v21, @"%@");

    v48[0] = MEMORY[0x1E4F143A8];
    v48[1] = 3221225472;
    v48[2] = __PXSharedAlbumsValidateRecipientsToAddToAlbum_block_invoke_223;
    v48[3] = &unk_1E5DCEB00;
    unint64_t v49 = v20;
    id v50 = v24;
    id v25 = v20;
    id v26 = v24;
    id v27 = objc_msgSend(v7, "presentAlertWithConfigurationHandler:", v48, v45);
    long long v28 = PLSharedAlbumsGetLog();
    long long v29 = v28;
    if (v27)
    {
      if (os_log_type_enabled(v28, OS_LOG_TYPE_DEFAULT))
      {
        *(_WORD *)long long buf = 0;
        id v30 = "Presented shared album subscriber limit validation alert";
        double v31 = v29;
        os_log_type_t v32 = OS_LOG_TYPE_DEFAULT;
        goto LABEL_25;
      }
    }
    else if (os_log_type_enabled(v28, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      id v30 = "Failed to present shared album subscriber limit album validation alert";
      double v31 = v29;
      os_log_type_t v32 = OS_LOG_TYPE_ERROR;
LABEL_25:
      _os_log_impl(&dword_1A9AE7000, v31, v32, v30, buf, 2u);
    }

    id v36 = v49;
LABEL_27:

    uint64_t v43 = 0;
  }

  return v43;
}

void __PXSharedAlbumsValidateRecipientsToAddToAlbum_block_invoke(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void *)(a1 + 32);
  id v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(void *)(a1 + 40)];
  PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addActionWithTitle:v5 style:1 action:0];
}

void __PXSharedAlbumsValidateRecipientsToAddToAlbum_block_invoke_223(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void *)(a1 + 32);
  id v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(void *)(a1 + 40)];
  PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  id v5 = (id)objc_claimAutoreleasedReturnValue();
  [v4 addActionWithTitle:v5 style:1 action:0];
}

uint64_t _PresentSpatialMediaDataLossAlert(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  v8[0] = MEMORY[0x1E4F143A8];
  v8[1] = 3221225472;
  void v8[2] = ___PresentSpatialMediaDataLossAlert_block_invoke;
  void v8[3] = &unk_1E5DD3280;
  id v9 = v3;
  id v10 = v4;
  id v5 = v4;
  id v6 = v3;
  dispatch_async(MEMORY[0x1E4F14428], v8);

  return 1;
}

uint64_t _mediaSourceIsSpatialAtURL(void *a1)
{
  id v1 = (objc_class *)MEMORY[0x1E4F8CC48];
  id v2 = a1;
  id v3 = (void *)[[v1 alloc] initWithMediaURL:v2 options:13 timeZoneLookup:0 shouldCache:1];

  uint64_t v4 = [v3 isSpatialMedia];
  return v4;
}

uint64_t _mediaSourceIsSpatial(void *a1)
{
  id v1 = [a1 mediaURL];
  if ([v1 isFileURL]) {
    uint64_t IsSpatialAtURL = _mediaSourceIsSpatialAtURL(v1);
  }
  else {
    uint64_t IsSpatialAtURL = 0;
  }

  return IsSpatialAtURL;
}

uint64_t PXSharedAlbumsPresentSpatialMediaDataLossAlertIfNeededForAssets(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  Boolean keyExistsAndHasValidFormat = 0;
  int AppBooleanValue = CFPreferencesGetAppBooleanValue(@"HasShownSharedAlbumsSpatialMediaDataLossAlert", @"com.apple.mobileslideshow", &keyExistsAndHasValidFormat);
  int v9 = keyExistsAndHasValidFormat;
  id v10 = +[PXSharedAlbumsSettings sharedInstance];
  char v11 = [v10 alwaysShowSpatialMediaDataLossAlertForSpatialMedia];

  if ((v11 & 1) != 0 || !v9 || !AppBooleanValue) {
    PXExists();
  }
  v7[2](v7);

  return 0;
}

unint64_t __PXSharedAlbumsPresentSpatialMediaDataLossAlertIfNeededForAssets_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    unint64_t IsSpatial = ((unint64_t)[v2 mediaSubtypes] >> 10) & 1;
  }
  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      unint64_t IsSpatial = _mediaSourceIsSpatial(v2);
    }
    else {
      unint64_t IsSpatial = 0;
    }
  }

  return IsSpatial;
}

id PXSharedAlbumFilteredInvitationRecordsForAlbum(void *a1, int a2)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  int v5 = [v3 isOwnedCloudSharedAlbum];
  uint64_t v16 = v3;
  id v6 = [v3 cloudAlbumSubscriberRecords];
  long long v17 = 0u;
  long long v18 = 0u;
  long long v19 = 0u;
  long long v20 = 0u;
  uint64_t v7 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
  if (v7)
  {
    uint64_t v8 = v7;
    uint64_t v9 = *(void *)v18;
    do
    {
      for (uint64_t i = 0; i != v8; ++i)
      {
        if (*(void *)v18 != v9) {
          objc_enumerationMutation(v6);
        }
        char v11 = *(void **)(*((void *)&v17 + 1) + 8 * i);
        if ([v11 isMine]) {
          BOOL v12 = a2 == 0;
        }
        else {
          BOOL v12 = 0;
        }
        if (!v12)
        {
          id v13 = [v11 invitationState];
          int v14 = [v13 integerValue];

          if (!v5)
          {
            if (v14 != 2) {
              continue;
            }
LABEL_14:
            [v4 addObject:v11];
            continue;
          }
          if ((v14 - 1) < 4) {
            goto LABEL_14;
          }
        }
      }
      uint64_t v8 = [v6 countByEnumeratingWithState:&v17 objects:v21 count:16];
    }
    while (v8);
  }

  return v4;
}

PXSharedAlbumRecipient *PXSharedAlbumOwnerRecipientForAlbum(void *a1)
{
  uint64_t v21 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = [v1 cloudOwnerEmail];
  id v3 = [v1 cloudOwnerFirstName];
  id v4 = [v1 cloudOwnerLastName];
  int v5 = [v1 cloudOwnerDisplayNameIncludingEmail:0 allowsEmail:1];
  if (![v2 length])
  {
    id v6 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      uint64_t v7 = [v1 localizedTitle];
      *(_DWORD *)long long buf = 138412290;
      long long v20 = v7;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_ERROR, "Album %@: has empty cloudOwnerEmail!", buf, 0xCu);
    }
    uint64_t v8 = +[PXSharedAlbumsSettings sharedInstance];
    char v9 = [v8 allowEmptyAddressesForDebugging];

    if (v9)
    {
      id v10 = &stru_1F00B0030;
    }
    else
    {
      uint64_t v11 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsEmptyOwnerAddressMessage");
      HIDWORD(v17) = HIDWORD(v5);
      PFStringWithValidatedFormat();
      id v10 = (__CFString *)objc_claimAutoreleasedReturnValue();

      id v2 = (void *)v11;
    }

    id v2 = v10;
  }
  BOOL v12 = [PXSharedAlbumRecipient alloc];
  id v13 = [v1 cloudOwnerHashedPersonID];
  long long v18 = v2;
  int v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v18 count:1];
  LODWORD(v17) = 0;
  long long v15 = [(PXSharedAlbumRecipient *)v12 initWithPersonID:v13 firstName:v3 lastName:v4 fullName:v5 emails:v14 phones:0 state:v17];

  return v15;
}

PXSharedAlbumRecipient *PXSharedAlbumRecipientForInvitationRecord(void *a1, void *a2)
{
  uint64_t v31 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  int v5 = [v4 inviteeEmails];
  id v6 = [v5 firstObject];

  uint64_t v7 = [v4 inviteePhones];
  uint64_t v8 = [v7 firstObject];

  if ([v6 length] || objc_msgSend(v8, "length"))
  {
    char v9 = [[PXSharedAlbumRecipient alloc] initWithInvitationRecord:v4];
  }
  else
  {
    uint64_t v11 = [v4 inviteeHashedPersonID];
    id v25 = [v4 inviteeFirstName];
    BOOL v12 = [v4 inviteeLastName];
    id v13 = [v4 inviteeFullName];
    int v14 = [v4 invitationState];
    int v24 = [v14 integerValue];

    long long v15 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v15, OS_LOG_TYPE_ERROR))
    {
      uint64_t v16 = [v3 localizedTitle];
      *(_DWORD *)long long buf = 138412546;
      long long v28 = v16;
      __int16 v29 = 2114;
      id v30 = v11;
      _os_log_impl(&dword_1A9AE7000, v15, OS_LOG_TYPE_ERROR, "Album %@: InvitationRecord (hashed person id: %{public}@) has empty email and phone!", buf, 0x16u);
    }
    uint64_t v17 = +[PXSharedAlbumsSettings sharedInstance];
    char v18 = [v17 allowEmptyAddressesForDebugging];

    if (v18)
    {
      long long v19 = &stru_1F00B0030;
    }
    else
    {
      uint64_t v20 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsEmptyParticipantAddressMessage");
      HIDWORD(v23) = HIDWORD(v13);
      PFStringWithValidatedFormat();
      long long v19 = (__CFString *)objc_claimAutoreleasedReturnValue();

      id v6 = (void *)v20;
    }

    uint64_t v21 = [PXSharedAlbumRecipient alloc];
    id v26 = v19;
    uint64_t v22 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v26 count:1];
    LODWORD(v23) = v24;
    char v9 = [(PXSharedAlbumRecipient *)v21 initWithPersonID:v11 firstName:v25 lastName:v12 fullName:v13 emails:v22 phones:0 state:v23];

    id v6 = v19;
  }

  return v9;
}

id _PXSharedAlbumRecipientsForAlbumIncludeCurrentUser(void *a1, int a2)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = PXSharedAlbumFilteredInvitationRecordsForAlbum(v3, a2);
  uint64_t v5 = [v4 count];
  int v6 = [v3 isOwnedCloudSharedAlbum];
  char v7 = v6;
  uint64_t v8 = (void *)[objc_alloc(MEMORY[0x1E4F1CA48]) initWithCapacity:v5 + (v6 ^ 1u)];
  if ((v7 & 1) == 0)
  {
    char v9 = PXSharedAlbumOwnerRecipientForAlbum(v3);
    if (!v9)
    {
      uint64_t v22 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v23 = objc_msgSend(NSString, "stringWithUTF8String:", "NSArray<PXSharedAlbumRecipient *> *_PXSharedAlbumRecipientsForAlbumIncludeCurrentUser(PLCloudSharedAlbum *__strong, BOOL)");
      [v22 handleFailureInFunction:v23 file:@"PXSharedAlbumsUtilities.m" lineNumber:436 description:@"Empty album owner!"];
    }
    [v8 addObject:v9];
  }
  long long v26 = 0u;
  long long v27 = 0u;
  long long v24 = 0u;
  long long v25 = 0u;
  id v10 = v4;
  uint64_t v11 = [v10 countByEnumeratingWithState:&v24 objects:v28 count:16];
  if (v11)
  {
    uint64_t v12 = v11;
    uint64_t v13 = *(void *)v25;
    unint64_t v14 = 0x1E4F28000uLL;
    unint64_t v15 = 0x1E4F29000uLL;
    do
    {
      uint64_t v16 = 0;
      do
      {
        if (*(void *)v25 != v13) {
          objc_enumerationMutation(v10);
        }
        uint64_t v17 = PXSharedAlbumRecipientForInvitationRecord(v3, *(void **)(*((void *)&v24 + 1) + 8 * v16));
        if (!v17)
        {
          char v18 = objc_msgSend(*(id *)(v14 + 2816), "currentHandler", (void)v24);
          objc_msgSend(*(id *)(v15 + 24), "stringWithUTF8String:", "NSArray<PXSharedAlbumRecipient *> *_PXSharedAlbumRecipientsForAlbumIncludeCurrentUser(PLCloudSharedAlbum *__strong, BOOL)");
          v20 = unint64_t v19 = v15;
          [v18 handleFailureInFunction:v20 file:@"PXSharedAlbumsUtilities.m" lineNumber:442 description:@"Empty invitation record recipient!"];

          unint64_t v15 = v19;
          unint64_t v14 = 0x1E4F28000;
        }
        objc_msgSend(v8, "addObject:", v17, (void)v24);

        ++v16;
      }
      while (v12 != v16);
      uint64_t v12 = [v10 countByEnumeratingWithState:&v24 objects:v28 count:16];
    }
    while (v12);
  }

  return v8;
}

id PXSharedAlbumsRecipientsForAlbum(void *a1)
{
  return _PXSharedAlbumRecipientsForAlbumIncludeCurrentUser(a1, 1);
}

id PXSharedAlbumsRecipientsForAlbumWithObjectID(void *a1, char a2, void *a3)
{
  id v5 = a1;
  id v6 = a3;
  uint64_t v16 = 0;
  uint64_t v17 = &v16;
  uint64_t v18 = 0x3032000000;
  unint64_t v19 = __Block_byref_object_copy__211382;
  uint64_t v20 = __Block_byref_object_dispose__211383;
  id v21 = 0;
  v11[0] = MEMORY[0x1E4F143A8];
  v11[1] = 3221225472;
  void v11[2] = __PXSharedAlbumsRecipientsForAlbumWithObjectID_block_invoke;
  void v11[3] = &unk_1E5DC5730;
  id v7 = v5;
  id v12 = v7;
  id v8 = v6;
  id v13 = v8;
  unint64_t v14 = &v16;
  char v15 = a2;
  [v8 performBlockAndWait:v11];
  id v9 = (id)v17[5];

  _Block_object_dispose(&v16, 8);
  return v9;
}

void sub_1AAF7DADC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXSharedAlbumsRecipientsForAlbumWithObjectID_block_invoke(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F8A720] cloudSharedAlbumWithObjectID:*(void *)(a1 + 32) managedObjectContext:*(void *)(a1 + 40)];
  id v6 = v2;
  if (v2)
  {
    _PXSharedAlbumRecipientsForAlbumIncludeCurrentUser(v2, *(unsigned __int8 *)(a1 + 56));
    id v3 = (id)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    id v3 = objc_alloc_init(MEMORY[0x1E4F1C978]);
  }
  uint64_t v4 = *(void *)(*(void *)(a1 + 48) + 8);
  id v5 = *(void **)(v4 + 40);
  *(void *)(v4 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v3;
}

id PXSharedAlbumsAddressForRecipient(void *a1)
{
  id v1 = a1;
  id v2 = [v1 emailAddressString];
  id v3 = [v1 phoneNumberString];

  uint64_t v4 = [v2 length];
  id v5 = v2;
  if (v4 || (v6 = (id)[v3 length], id v5 = v3, v6)) {
    id v6 = v5;
  }
  id v7 = v6;

  return v7;
}

void _PXSharedAlbumsShowAlertForExceedingMaxVideoDuration(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  id v9 = a3;
  id v10 = a4;
  id v11 = a5;
  unint64_t v12 = [MEMORY[0x1E4F8AAB0] maxVideoLengthForPublishing];
  id v13 = objc_alloc_init(MEMORY[0x1E4F1C9D8]);
  [v13 setMinute:v12 / 0x3C];
  objc_msgSend(v13, "setSecond:", v12 - 60 * objc_msgSend(v13, "minute"));
  unint64_t v14 = objc_opt_new();
  [v14 setUnitsStyle:0];
  [v14 setZeroFormattingBehavior:0x10000];
  char v15 = [v14 stringFromDateComponents:v13];
  if (a2 == 1)
  {
    uint64_t v16 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsMovieDurationWarningTitle-One");
    uint64_t v17 = PFStringWithValidatedFormat();

    uint64_t v18 = @"PXSharedAlbumsMovieDurationWarningMessageNoSkip-One";
    unint64_t v19 = @"PXSharedAlbumsMovieDurationWarningMessage-One";
  }
  else
  {
    if (a1 == a2) {
      uint64_t v20 = @"PXSharedAlbumsMovieDurationWarningTitle-All";
    }
    else {
      uint64_t v20 = @"PXSharedAlbumsMovieDurationWarningTitle-Some";
    }
    id v21 = PXLocalizedSharedAlbumsString(v20);
    uint64_t v17 = PFStringWithValidatedFormat();

    uint64_t v18 = @"PXSharedAlbumsMovieDurationWarningMessageNoSkip-Some";
    unint64_t v19 = @"PXSharedAlbumsMovieDurationWarningMessage-Some";
  }
  if (a2 == a1) {
    uint64_t v22 = v18;
  }
  else {
    uint64_t v22 = v19;
  }
  BOOL v23 = a2 != a1;
  long long v24 = PXLocalizedSharedAlbumsString(v22);
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = ___PXSharedAlbumsShowAlertForExceedingMaxVideoDuration_block_invoke;
  block[3] = &unk_1E5DC5780;
  id v31 = v10;
  id v32 = v17;
  BOOL v36 = v23;
  id v34 = v9;
  id v35 = v11;
  id v33 = v24;
  id v25 = v9;
  id v26 = v11;
  id v27 = v24;
  id v28 = v17;
  id v29 = v10;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

void _PXSharedAlbumsShowAlertForNotEditable(void *a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id v7 = a1;
  id v8 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddItemsTitle");
  id v9 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorAddingToSharedAlbum_Title_Format");
  id v10 = [v7 localizedTitle];

  id v11 = PXLocalizedStringWithValidatedFormat(v9, @"%@");

  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = ___PXSharedAlbumsShowAlertForNotEditable_block_invoke;
  block[3] = &unk_1E5DD2BB8;
  id v17 = v5;
  id v18 = v8;
  id v19 = v11;
  id v20 = v6;
  id v12 = v6;
  id v13 = v11;
  id v14 = v8;
  id v15 = v5;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

void _PXSharedAlbumsShowAlertForExceedingMaxAssetCount(void *a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  id v7 = (void *)MEMORY[0x1E4F8AAB0];
  id v8 = a1;
  [v7 maxAssetsPerStream];
  id v9 = PLServicesLocalizedFrameworkString();
  id v10 = [v8 localizedTitle];

  id v11 = PFStringWithValidatedFormat();

  id v12 = PLServicesLocalizedFrameworkString();
  id v13 = PFLocalizedStringWithValidatedFormat();

  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = ___PXSharedAlbumsShowAlertForExceedingMaxAssetCount_block_invoke;
  block[3] = &unk_1E5DD2BB8;
  id v19 = v5;
  id v20 = v11;
  id v21 = v13;
  id v22 = v6;
  id v14 = v6;
  id v15 = v13;
  id v16 = v11;
  id v17 = v5;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

double _durationForVideoAtURL(uint64_t a1)
{
  id v1 = [MEMORY[0x1E4F166C8] URLAssetWithURL:a1 options:0];
  id v2 = v1;
  if (v1
    && (memset(&v7[1], 0, sizeof(CMTime)),
        [v1 duration],
        [MEMORY[0x1E4F8CC38] tracksWithMediaType:*MEMORY[0x1E4F15C18] forAsset:v2],
        id v3 = objc_claimAutoreleasedReturnValue(),
        uint64_t v4 = [v3 count],
        v3,
        v4))
  {
    v7[0] = v7[1];
    double Seconds = CMTimeGetSeconds(v7);
  }
  else
  {
    double Seconds = 0.0;
  }

  return Seconds;
}

double _durationForMediaSource(void *a1)
{
  id v1 = [a1 mediaURL];
  double v2 = 0.0;
  if ([v1 isFileURL]) {
    double v2 = _durationForVideoAtURL((uint64_t)v1);
  }

  return v2;
}

void _PXSharedAlbumsValidateVideosAssetsIfNecessary(void *a1, void *a2, void *a3)
{
  uint64_t v57 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  uint64_t v39 = [v5 count];
  id v8 = objc_msgSend(MEMORY[0x1E4F1CA48], "arrayWithCapacity:");
  double v9 = (double)[MEMORY[0x1E4F8AAB0] maxVideoLengthForPublishing];
  id v10 = [v5 firstObject];
  objc_opt_class();
  char isKindOfClass = objc_opt_isKindOfClass();

  int v40 = v6;
  if (isKindOfClass)
  {
    long long v52 = 0u;
    long long v53 = 0u;
    long long v50 = 0u;
    long long v51 = 0u;
    id v12 = v5;
    uint64_t v13 = [v12 countByEnumeratingWithState:&v50 objects:v56 count:16];
    if (v13)
    {
      uint64_t v14 = v13;
      uint64_t v15 = 0;
      uint64_t v16 = *(void *)v51;
      do
      {
        for (uint64_t i = 0; i != v14; ++i)
        {
          if (*(void *)v51 != v16) {
            objc_enumerationMutation(v12);
          }
          id v18 = *(void **)(*((void *)&v50 + 1) + 8 * i);
          if ([v18 mediaType] == 1 && _durationForMediaSource(v18) > v9) {
            ++v15;
          }
          else {
            [v8 addObject:v18];
          }
        }
        uint64_t v14 = [v12 countByEnumeratingWithState:&v50 objects:v56 count:16];
      }
      while (v14);
      goto LABEL_40;
    }
LABEL_39:
    uint64_t v15 = 0;
    goto LABEL_40;
  }
  id v19 = [v5 firstObject];
  objc_opt_class();
  char v20 = objc_opt_isKindOfClass();

  if (v20)
  {
    long long v48 = 0uLL;
    long long v49 = 0uLL;
    long long v46 = 0uLL;
    long long v47 = 0uLL;
    id v21 = v5;
    uint64_t v22 = [v21 countByEnumeratingWithState:&v46 objects:v55 count:16];
    if (!v22) {
      goto LABEL_39;
    }
    uint64_t v23 = v22;
    uint64_t v15 = 0;
    uint64_t v24 = *(void *)v47;
    do
    {
      for (uint64_t j = 0; j != v23; ++j)
      {
        if (*(void *)v47 != v24) {
          objc_enumerationMutation(v21);
        }
        id v26 = *(void **)(*((void *)&v46 + 1) + 8 * j);
        if ([v26 isMovie]
          && ([v26 loadMetadataSync],
              [v26 durationTimeInterval],
              id v27 = objc_claimAutoreleasedReturnValue(),
              [v27 doubleValue],
              double v29 = v28,
              v27,
              v29 > v9))
        {
          ++v15;
        }
        else
        {
          [v8 addObject:v26];
        }
      }
      uint64_t v23 = [v21 countByEnumeratingWithState:&v46 objects:v55 count:16];
    }
    while (v23);
  }
  else
  {
    long long v44 = 0uLL;
    long long v45 = 0uLL;
    long long v42 = 0uLL;
    long long v43 = 0uLL;
    id v30 = v5;
    uint64_t v31 = [v30 countByEnumeratingWithState:&v42 objects:v54 count:16];
    if (!v31) {
      goto LABEL_39;
    }
    uint64_t v32 = v31;
    uint64_t v15 = 0;
    uint64_t v33 = *(void *)v43;
    do
    {
      for (uint64_t k = 0; k != v32; ++k)
      {
        if (*(void *)v43 != v33) {
          objc_enumerationMutation(v30);
        }
        id v35 = *(void **)(*((void *)&v42 + 1) + 8 * k);
        if ([v35 mediaType] == 2 && (objc_msgSend(v35, "duration"), v36 > v9)) {
          ++v15;
        }
        else {
          [v8 addObject:v35];
        }
      }
      uint64_t v32 = [v30 countByEnumeratingWithState:&v42 objects:v54 count:16];
    }
    while (v32);
  }
LABEL_40:

  uint64_t v37 = PLSharedAlbumsGetLog();
  BOOL v38 = os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT);
  if (v15)
  {
    if (v38)
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v37, OS_LOG_TYPE_DEFAULT, "Shared album add assets video validation failed", buf, 2u);
    }

    _PXSharedAlbumsShowAlertForExceedingMaxVideoDuration(v39, v15, v8, v40, v7);
  }
  else
  {
    if (v38)
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v37, OS_LOG_TYPE_DEFAULT, "Shared album add assets video validation succeeded", buf, 2u);
    }

    if (v7) {
      (*((void (**)(id, void *))v7 + 2))(v7, v8);
    }
  }
}

void PXSharedAlbumsValidateSharedAlbumAddAssets(void *a1, void *a2, void *a3, void *a4)
{
  uint64_t v34 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v10 = a4;
  char v11 = [v7 canPerformEditOperation:3];
  id v12 = PLSharedAlbumsGetLog();
  uint64_t v13 = v12;
  if (v11)
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v14 = [v7 uuid];
      *(_DWORD *)long long buf = 138543362;
      uint64_t v33 = v14;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_DEFAULT, "Shared album with UUID=%{public}@: album validation succeeded.", buf, 0xCu);
    }
    uint64_t v15 = [v7 estimatedAssetCount];
    unint64_t v16 = [MEMORY[0x1E4F8AAB0] maxAssetsPerStream];
    unint64_t v17 = [v8 count] + v15;
    id v18 = PLSharedAlbumsGetLog();
    id v19 = v18;
    if (v17 <= v16)
    {
      if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
      {
        uint64_t v23 = [v7 uuid];
        *(_DWORD *)long long buf = 138543362;
        uint64_t v33 = v23;
        _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_DEFAULT, "Shared album with UUID=%{public}@: add assets count validation succeeded.", buf, 0xCu);
      }
      v25[0] = MEMORY[0x1E4F143A8];
      v25[1] = 3221225472;
      v25[2] = __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_306;
      v25[3] = &unk_1E5DC57A8;
      id v21 = &v26;
      id v24 = v9;
      id v26 = v24;
      id v27 = v10;
      _PXSharedAlbumsValidateVideosAssetsIfNecessary(v8, v24, v25);
    }
    else
    {
      if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
      {
        char v20 = [v7 uuid];
        *(_DWORD *)long long buf = 138543362;
        uint64_t v33 = v20;
        _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_ERROR, "Shared album with UUID=%{public}@: add assets count validation failed.", buf, 0xCu);
      }
      v28[0] = MEMORY[0x1E4F143A8];
      v28[1] = 3221225472;
      v28[2] = __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_305;
      v28[3] = &unk_1E5DD3128;
      id v21 = &v29;
      id v29 = v10;
      _PXSharedAlbumsShowAlertForExceedingMaxAssetCount(v7, v9, v28);
    }
  }
  else
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      uint64_t v22 = [v7 uuid];
      *(_DWORD *)long long buf = 138543362;
      uint64_t v33 = v22;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Shared album with UUID=%{public}@: add assets album validation failed.", buf, 0xCu);
    }
    v30[0] = MEMORY[0x1E4F143A8];
    v30[1] = 3221225472;
    v30[2] = __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke;
    v30[3] = &unk_1E5DD3128;
    id v21 = &v31;
    id v31 = v10;
    _PXSharedAlbumsShowAlertForNotEditable(v7, v9, v30);
  }
}

uint64_t __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_305(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_306(uint64_t a1, void *a2)
{
  id v3 = a2;
  if (v3)
  {
    v5[0] = MEMORY[0x1E4F143A8];
    v5[1] = 3221225472;
    void v5[2] = __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_2;
    void v5[3] = &unk_1E5DD3280;
    uint64_t v4 = *(void **)(a1 + 32);
    id v7 = *(id *)(a1 + 40);
    id v6 = v3;
    PXSharedAlbumsPresentSpatialMediaDataLossAlertIfNeededForAssets(v6, v4, v5);
  }
  else
  {
    (*(void (**)(void))(*(void *)(a1 + 40) + 16))();
  }
}

uint64_t __PXSharedAlbumsValidateSharedAlbumAddAssets_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(void *)(a1 + 32));
}

id PXSharedAlbumsDefaultAssetCreationOptions(uint64_t a1, uint64_t a2)
{
  id v4 = objc_alloc_init(MEMORY[0x1E4F38F20]);
  [v4 setShouldDownloadOrCloudReReferenceMissingResources:1];
  id v5 = objc_alloc_init(MEMORY[0x1E4F38F08]);
  [v4 setAdjustmentBakeInOptions:v5];

  id v6 = [v4 adjustmentBakeInOptions];
  [v6 setFlattenLivePhotoToStillIfNeeded:a1];

  id v7 = [MEMORY[0x1E4F38F18] metadataCopyOptionsForPublishingOriginals];
  [v4 setMetadataCopyOptions:v7];

  id v8 = [v4 metadataCopyOptions];
  [v8 setShouldCopyLocationData:a2];

  if (PLIsLockdownMode())
  {
    id v9 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)id v12 = 0;
      _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_DEFAULT, "Lockdown mode is enabled, excluding sensitive metadata.", v12, 2u);
    }

    id v10 = [v4 metadataCopyOptions];
    [v10 setShouldCopyLocationData:0];
  }
  return v4;
}

id PXSharedAlbumsDefaultAssetCreationOptionsForAssets(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = PXSharedAlbumsDefaultAssetCreationOptions(a2, a3);
  id v7 = objc_msgSend(MEMORY[0x1E4F1CA60], "dictionaryWithCapacity:", objc_msgSend(v5, "count"));
  long long v15 = 0u;
  long long v16 = 0u;
  long long v17 = 0u;
  long long v18 = 0u;
  id v8 = v5;
  uint64_t v9 = [v8 countByEnumeratingWithState:&v15 objects:v19 count:16];
  if (v9)
  {
    uint64_t v10 = v9;
    uint64_t v11 = *(void *)v16;
    do
    {
      for (uint64_t i = 0; i != v10; ++i)
      {
        if (*(void *)v16 != v11) {
          objc_enumerationMutation(v8);
        }
        uint64_t v13 = objc_msgSend(*(id *)(*((void *)&v15 + 1) + 8 * i), "uuid", (void)v15);
        [v7 setObject:v6 forKeyedSubscript:v13];
      }
      uint64_t v10 = [v8 countByEnumeratingWithState:&v15 objects:v19 count:16];
    }
    while (v10);
  }

  return v7;
}

id PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum(void *a1, void *a2, void *a3, void *a4, void *a5, void *a6)
{
  uint64_t v42 = *MEMORY[0x1E4F143B8];
  id v11 = a1;
  id v12 = a2;
  id v13 = a3;
  id v14 = a4;
  id v15 = a5;
  id v16 = a6;
  long long v17 = [v11 uuid];
  long long v18 = [v12 firstObject];
  id v19 = PLSharedAlbumsGetLog();
  if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138543362;
    uint64_t v41 = v17;
    _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_DEFAULT, "Ensuring assets to publish to album with UUID=%{public}@, are locally available...", buf, 0xCu);
  }

  uint64_t v20 = [[PXPhotoKitAssetLocalAvailabilityHelper alloc] initWithAssets:v12 treatLivePhotoAsStill:0];
  v31[0] = MEMORY[0x1E4F143A8];
  v31[1] = 3221225472;
  v31[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke;
  v31[3] = &unk_1E5DC57D0;
  id v32 = v12;
  id v33 = v17;
  id v34 = v18;
  id v35 = v11;
  id v36 = v13;
  id v37 = v14;
  id v38 = v15;
  id v39 = v16;
  id v21 = v16;
  id v22 = v15;
  id v23 = v14;
  id v24 = v13;
  id v25 = v11;
  id v26 = v18;
  id v27 = v17;
  id v28 = v12;
  id v29 = [(PXPhotoKitAssetLocalAvailabilityHelper *)v20 ensureLocalAvailabilityOfAssetsWithCompletionHandler:v31];

  return v29;
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke(id *a1, int a2, void *a3)
{
  uint64_t v48 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  if (a2)
  {
    id v6 = PLSharedAlbumsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v7 = [a1[4] count];
      id v8 = a1[5];
      uint64_t v9 = [a1[6] uuid];
      *(_DWORD *)long long buf = 134218498;
      uint64_t v43 = v7;
      __int16 v44 = 2114;
      id v45 = v8;
      __int16 v46 = 2114;
      long long v47 = v9;
      _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_DEFAULT, "Scheduling posting %lu assets to shared album with UUID=%{public}@, first asset UUID=%{public}@", buf, 0x20u);
    }
    uint64_t v10 = [a1[7] photoLibrary];
    v37[0] = MEMORY[0x1E4F143A8];
    v37[1] = 3221225472;
    v37[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_313;
    v37[3] = &unk_1E5DCAEC8;
    id v38 = a1[4];
    id v39 = a1[7];
    id v40 = a1[8];
    id v41 = a1[9];
    v32[0] = MEMORY[0x1E4F143A8];
    v32[1] = 3221225472;
    v32[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2;
    v32[3] = &unk_1E5DD1B28;
    id v33 = a1[5];
    id v34 = a1[7];
    id v35 = a1[10];
    id v36 = a1[11];
    [v10 performChanges:v37 completionHandler:v32];

LABEL_21:
    goto LABEL_22;
  }
  id v11 = PLSharedAlbumsGetLog();
  id v12 = v11;
  if (v5)
  {
    if (os_log_type_enabled(v11, OS_LOG_TYPE_ERROR))
    {
      id v13 = a1[5];
      *(_DWORD *)long long buf = 138543618;
      uint64_t v43 = (uint64_t)v13;
      __int16 v44 = 2112;
      id v45 = v5;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "Failed to download assets for posting to shared album with UUID=%{public}@. Error: %@", buf, 0x16u);
    }

    uint64_t v10 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorDownloadingAssetsForSharedAlbum_Title_Format");
    id v26 = [a1[7] localizedTitle];
    id v14 = PXLocalizedStringWithValidatedFormat(v10, @"%@");

    id v15 = objc_msgSend(v5, "localizedDescription", v26);
    id v16 = a1[10];
    v27[0] = MEMORY[0x1E4F143A8];
    v27[1] = 3221225472;
    void v27[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_322;
    v27[3] = &unk_1E5DD1730;
    id v17 = v14;
    id v28 = v17;
    id v18 = v15;
    id v29 = v18;
    id v31 = a1[11];
    id v19 = v5;
    id v30 = v19;
    uint64_t v20 = [v16 presentAlertWithConfigurationHandler:v27];
    id v21 = PLSharedAlbumsGetLog();
    id v22 = v21;
    if (v20)
    {
      if (os_log_type_enabled(v21, OS_LOG_TYPE_DEFAULT))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_DEFAULT, "Presented shared album failure alert (ensure local assets)", buf, 2u);
      }
    }
    else
    {
      if (os_log_type_enabled(v21, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_ERROR, "Failed to present shared album ensure local assets alert", buf, 2u);
      }

      id v25 = (void (**)(id, void, id))a1[11];
      if (v25) {
        v25[2](v25, 0, v19);
      }
    }

    goto LABEL_21;
  }
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    id v23 = a1[5];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v43 = (uint64_t)v23;
    _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEFAULT, "Canceled downloading assets for posting to shared album with UUID=%{public}@.", buf, 0xCu);
  }

  id v24 = a1[11];
  if (v24) {
    (*((void (**)(id, void, void))v24 + 2))(v24, 0, 0);
  }
LABEL_22:
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_313(void *a1)
{
  v9[1] = *MEMORY[0x1E4F143B8];
  double v2 = (void *)MEMORY[0x1E4F38EB8];
  uint64_t v3 = a1[4];
  id v4 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"creationDate" ascending:1];
  v9[0] = v4;
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v9 count:1];
  id v6 = objc_msgSend(v2, "px_orderedAssetsFromAssets:sortDescriptors:", v3, v5);

  uint64_t v7 = [MEMORY[0x1E4F38FE8] changeRequestForCloudSharedAlbum:a1[5]];
  id v8 = [v6 fetchedObjects];
  [v7 publishBatchOfOriginalAssets:v8 withBatchCommentText:a1[6] creationOptionsPerAsset:a1[7]];
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2(id *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_3;
  block[3] = &unk_1E5DC78D0;
  id v7 = v4;
  id v8 = a1[4];
  id v9 = a1[5];
  id v10 = a1[6];
  id v11 = a1[7];
  id v5 = v4;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_322(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void *)(a1 + 32);
  id v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(void *)(a1 + 40)];
  id v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_323;
  _OWORD v6[3] = &unk_1E5DD3280;
  id v8 = *(id *)(a1 + 56);
  id v7 = *(id *)(a1 + 48);
  [v4 addActionWithTitle:v5 style:1 action:v6];
}

uint64_t __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_323(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_3(uint64_t a1)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  uint64_t v2 = *(void *)(a1 + 32);
  uint64_t v3 = PLSharedAlbumsGetLog();
  id v4 = v3;
  if (v2)
  {
    if (os_log_type_enabled(v3, OS_LOG_TYPE_ERROR))
    {
      uint64_t v6 = *(void *)(a1 + 32);
      uint64_t v5 = *(void *)(a1 + 40);
      *(_DWORD *)long long buf = 138543618;
      uint64_t v26 = v5;
      __int16 v27 = 2112;
      uint64_t v28 = v6;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_ERROR, "Failed to post assets to shared album with UUID=%{public}@. Error: %@", buf, 0x16u);
    }

    id v7 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsCannotAddItemsTitle");
    id v8 = PXLocalizedSharedAlbumsString(@"PXSharedAlbumsErrorAddingToSharedAlbum_Title_Format");
    id v19 = [*(id *)(a1 + 48) localizedTitle];
    id v9 = PXLocalizedStringWithValidatedFormat(v8, @"%@");

    id v10 = *(void **)(a1 + 56);
    v20[0] = MEMORY[0x1E4F143A8];
    v20[1] = 3221225472;
    v20[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_316;
    void v20[3] = &unk_1E5DD1730;
    id v11 = v7;
    id v21 = v11;
    id v12 = v9;
    id v22 = v12;
    id v24 = *(id *)(a1 + 64);
    id v23 = *(id *)(a1 + 32);
    id v13 = objc_msgSend(v10, "presentAlertWithConfigurationHandler:", v20, v19);
    id v14 = PLSharedAlbumsGetLog();
    id v15 = v14;
    if (v13)
    {
      if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v15, OS_LOG_TYPE_DEFAULT, "Presented shared album failure alert (add assets)", buf, 2u);
      }
    }
    else
    {
      if (os_log_type_enabled(v14, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v15, OS_LOG_TYPE_ERROR, "Failed to present shared album add assets alert", buf, 2u);
      }

      uint64_t v18 = *(void *)(a1 + 64);
      if (v18) {
        (*(void (**)(uint64_t, void, void))(v18 + 16))(v18, 0, *(void *)(a1 + 32));
      }
    }
  }
  else
  {
    if (os_log_type_enabled(v3, OS_LOG_TYPE_DEFAULT))
    {
      uint64_t v16 = *(void *)(a1 + 40);
      *(_DWORD *)long long buf = 138543362;
      uint64_t v26 = v16;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEFAULT, "Succesfully posted assets to shared album with UUID=%{public}@", buf, 0xCu);
    }

    uint64_t v17 = *(void *)(a1 + 64);
    if (v17) {
      (*(void (**)(uint64_t, uint64_t, void))(v17 + 16))(v17, 1, 0);
    }
  }
}

void __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_316(uint64_t a1, void *a2)
{
  uint64_t v3 = *(void *)(a1 + 32);
  id v4 = a2;
  [v4 setTitle:v3];
  [v4 setMessage:*(void *)(a1 + 40)];
  uint64_t v5 = PXLocalizedStringFromTable(@"PXOK", @"PhotosUICore");
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_317;
  _OWORD v6[3] = &unk_1E5DD3280;
  id v8 = *(id *)(a1 + 56);
  id v7 = *(id *)(a1 + 48);
  [v4 addActionWithTitle:v5 style:1 action:v6];
}

uint64_t __PXSharedAlbumsPrepareAndPublishAssetsToSharedAlbum_block_invoke_2_317(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

id PXSharedAlbumsLocalizedInvitationString(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  uint64_t v5 = PXLocalizedAttributedStringFromTable(@"LemonadeSharedAlbumInvitationCellDescription", @"LemonadeLocalizable");
  uint64_t v6 = objc_msgSend(objc_alloc(MEMORY[0x1E4F28B18]), "initWithFormat:options:locale:", v5, 0, 0, v4, v3);

  return v6;
}

uint64_t PFStoryOverallDurationKindFromPHMemoryCurationLength(unint64_t a1)
{
  if (a1 > 4) {
    return 0;
  }
  else {
    return qword_1AB35BC78[a1];
  }
}

uint64_t PHMemoryCurationLengthFromPFStoryOverallDurationKind(unint64_t a1)
{
  if (a1 >= 6)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"PHMemoryCurationLength PHMemoryCurationLengthFromPFStoryOverallDurationKind(PFStoryOverallDurationKind)"];
    [v2 handleFailureInFunction:v3 file:@"PXStoryOverallDurationHelpers.m" lineNumber:41 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return qword_1AB35BCA0[a1];
}

id PXAssetToRevealForSyndicationLibraryAsset(void *a1)
{
  v16[1] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [v1 photoLibrary];
  uint64_t v3 = [v2 wellKnownPhotoLibraryIdentifier];

  if (v3 == 3)
  {
    [v1 fetchPropertySetsIfNeeded];
    id v4 = [v1 curationProperties];
    uint64_t v5 = [v4 syndicationIdentifier];

    if (v5
      && (([v1 isSyndicatedAssetSavedToUserLibrary] & 1) != 0
       || [v1 isGuestAsset]))
    {
      uint64_t v6 = objc_msgSend(MEMORY[0x1E4F39228], "px_deprecated_appPhotoLibrary");
      id v7 = [v6 librarySpecificFetchOptions];
      [v7 setIncludeGuestAssets:1];
      id v8 = (void *)MEMORY[0x1E4F38EB8];
      v16[0] = v5;
      id v9 = [MEMORY[0x1E4F1C978] arrayWithObjects:v16 count:1];
      id v10 = [v8 fetchAssetsWithSyndicationIdentifiers:v9 options:v7];
      id v11 = [v10 firstObject];

      if (!v11)
      {
        id v12 = PLUIGetLog();
        if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
        {
          int v14 = 138412290;
          id v15 = v5;
          _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEFAULT, "No user library asset to reveal for syndicationIdentifier:  %@.", (uint8_t *)&v14, 0xCu);
        }
      }
    }
    else
    {
      id v11 = 0;
    }
  }
  else
  {
    id v11 = 0;
  }

  return v11;
}

id PXContentSyndicationUnsavedSyndicatedAssetsInAssetCollection(void *a1)
{
  uint64_t v22 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = [v1 photoLibrary];
  uint64_t v3 = [v2 librarySpecificFetchOptions];
  [v3 setIncludeGuestAssets:1];
  if ([v1 isTransient])
  {
    id v4 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v1 options:v3];
    uint64_t v5 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA48]), "initWithCapacity:", objc_msgSend(v4, "count"));
    long long v16 = 0u;
    long long v17 = 0u;
    long long v18 = 0u;
    long long v19 = 0u;
    id v6 = v4;
    uint64_t v7 = [v6 countByEnumeratingWithState:&v16 objects:v21 count:16];
    if (v7)
    {
      uint64_t v8 = v7;
      uint64_t v9 = *(void *)v17;
      do
      {
        for (uint64_t i = 0; i != v8; ++i)
        {
          if (*(void *)v17 != v9) {
            objc_enumerationMutation(v6);
          }
          id v11 = *(void **)(*((void *)&v16 + 1) + 8 * i);
          if (objc_msgSend(v11, "px_isUnsavedSyndicatedAsset", (void)v16))
          {
            id v12 = [v11 localIdentifier];
            [v5 addObject:v12];
          }
        }
        uint64_t v8 = [v6 countByEnumeratingWithState:&v16 objects:v21 count:16];
      }
      while (v8);
    }

    id v13 = [MEMORY[0x1E4F38EB8] fetchAssetsWithLocalIdentifiers:v5 options:v3];
  }
  else
  {
    if ([v2 wellKnownPhotoLibraryIdentifier] == 3) {
      [MEMORY[0x1E4F38EB8] filterPredicateForUnsavedSyndicationAssets];
    }
    else {
      objc_msgSend(MEMORY[0x1E4F8BA10], "predicateForIncludeMask:useIndex:", objc_msgSend(MEMORY[0x1E4F8BA10], "maskForGuestAsset"), 1);
    }
    id v6 = (id)objc_claimAutoreleasedReturnValue();
    [v3 setInternalPredicate:v6];
    uint64_t v20 = *MEMORY[0x1E4F39458];
    int v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v20 count:1];
    [v3 addFetchPropertySets:v14];

    objc_opt_class();
    if (objc_opt_isKindOfClass()) {
      [MEMORY[0x1E4F38EB8] fetchExtendedCuratedAndRepresentativeAssetsAssociatedWithMemory:v1 options:v3];
    }
    else {
    id v13 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v1 options:v3];
    }
  }

  return v13;
}

uint64_t PXContentSyndicationAssetCount(void *a1)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  long long v9 = 0u;
  long long v10 = 0u;
  long long v11 = 0u;
  long long v12 = 0u;
  uint64_t v2 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
  if (v2)
  {
    uint64_t v3 = v2;
    uint64_t v4 = 0;
    uint64_t v5 = *(void *)v10;
    do
    {
      for (uint64_t i = 0; i != v3; ++i)
      {
        if (*(void *)v10 != v5) {
          objc_enumerationMutation(v1);
        }
        uint64_t v7 = *(void **)(*((void *)&v9 + 1) + 8 * i);
        objc_opt_class();
        if (objc_opt_isKindOfClass()) {
          v4 += objc_msgSend(v7, "px_isSyndicatedAsset");
        }
      }
      uint64_t v3 = [v1 countByEnumeratingWithState:&v9 objects:v13 count:16];
    }
    while (v3);
  }
  else
  {
    uint64_t v4 = 0;
  }

  return v4;
}

uint64_t PXContentSyndicationShouldShowUnsavedAssetsInGridForAssetCollection(void *a1)
{
  uint64_t v1 = [a1 assetCollectionSubtype];
  uint64_t v2 = 0;
  if (v1 > 1000000204)
  {
    if ((unint64_t)(v1 - 1000000301) < 4)
    {
      uint64_t v4 = +[PXContentSyndicationSettings sharedInstance];
      uint64_t v2 = [v4 enableFilteringCuratedGridsForContentSyndication] ^ 1;

      return v2;
    }
    if (v1 == 1000000212 || v1 == 1000000205) {
      return 1;
    }
  }
  else if ((unint64_t)(v1 - 201) <= 0x12 && ((1 << (v1 + 55)) & 0x77FC3) != 0)
  {
    return 1;
  }
  return v2;
}

uint64_t PXContentSyndicationRemoveConfirmationTitleAndMessageLocalizedStrings(void *a1)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  long long v10 = 0u;
  long long v11 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  uint64_t v2 = [v1 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v2)
  {
    uint64_t v3 = 0;
    uint64_t v4 = *(void *)v11;
    uint64_t v5 = v2;
    while (1)
    {
      uint64_t v6 = v5;
      do
      {
        if (*(void *)v11 != v4) {
          objc_enumerationMutation(v1);
        }
        --v6;
      }
      while (v6);
      v3 += v5;
      uint64_t v5 = [v1 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (!v5) {
        PXMediaTypeForAssets();
      }
    }
  }
  uint64_t v7 = PLUIGetLog();
  if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "RemoveSharedItemsConfirmationTitleAndMessageLocalizedStrings: PHAsset count is zero", buf, 2u);
  }

  return 0;
}

PXFeedbackTapToRadarViewController *PXFileRadarViewControllerForContentSyndicationAssets(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = +[PXFeedbackTapToRadarUtilities captureScreenshot];
  uint64_t v6 = objc_alloc_init(PXFeedbackTapToRadarViewController);
  [(PXFeedbackTapToRadarViewController *)v6 setRequestScreenshotPermission:1];
  v11[0] = MEMORY[0x1E4F143A8];
  v11[1] = 3221225472;
  void v11[2] = __PXFileRadarViewControllerForContentSyndicationAssets_block_invoke;
  void v11[3] = &unk_1E5DCB110;
  id v12 = v3;
  id v13 = v5;
  id v14 = v4;
  id v7 = v4;
  id v8 = v5;
  id v9 = v3;
  [(PXFeedbackTapToRadarViewController *)v6 setFileRadarHandler:v11];

  return v6;
}

void __PXFileRadarViewControllerForContentSyndicationAssets_block_invoke(uint64_t a1, int a2, int a3)
{
  uint64_t v55 = *MEMORY[0x1E4F143B8];
  id v4 = (void *)[objc_alloc(MEMORY[0x1E4F28E78]) initWithString:@"Summary:\nExamples:\n* Bad suggestion (poor quality/blurry photo, wrong person/people, uninteresting, etc.)\n* Missing/wrong assets (should include more from the batch, should have chosen different ones from the batch)\n* Don't want to see this asset, etc?\n\nSteps To Reproduce:\n-\n\nResults:\n-\n\nRegression:\n-\n\nNotes:\n-\n\n"];
  [v4 appendString:@"--- Shared With You TTR ---\n"];
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  uint64_t v40 = a1;
  id obj = *(id *)(a1 + 32);
  uint64_t v5 = [obj countByEnumeratingWithState:&v47 objects:v54 count:16];
  if (v5)
  {
    uint64_t v6 = v5;
    uint64_t v7 = *(void *)v48;
    do
    {
      uint64_t v8 = 0;
      do
      {
        if (*(void *)v48 != v7) {
          objc_enumerationMutation(obj);
        }
        id v9 = *(void **)(*((void *)&v47 + 1) + 8 * v8);
        [v9 fetchPropertySetsIfNeeded];
        [v4 appendFormat:@"\nAsset: %@", v9];
        long long v10 = [v9 photoLibrary];
        uint64_t v11 = [v10 wellKnownPhotoLibraryIdentifier];

        if ([v9 isGuestAsset]) {
          id v12 = @"YES";
        }
        else {
          id v12 = @"NO";
        }
        id v13 = v12;
        [v4 appendFormat:@"\nIs Guest Type: %@", v13];

        if (v11 == 3) {
          id v14 = @"YES";
        }
        else {
          id v14 = @"NO";
        }
        uint64_t v15 = v14;
        [v4 appendFormat:@"\nIn syndication library: %@", v15];

        long long v16 = [v9 mediaAnalysisProperties];
        [v16 syndicationProcessingValue];
        long long v17 = PHAssetMediaAnalysisSyndicationProcessingValueDescription();
        [v4 appendFormat:@"\nProcessing Value: %@", v17];

        long long v18 = [v9 mediaAnalysisProperties];
        [v18 syndicationProcessingVersion];
        long long v19 = PHAssetSyndicationProcessingVersionDescription();
        [v4 appendFormat:@"\nProcessing Version: %@", v19];

        uint64_t v20 = [v9 curationProperties];
        id v21 = [v20 syndicationIdentifier];
        [v4 appendFormat:@"\nSyndication Identifier: %@", v21];

        id v22 = v9;
        [v22 fetchPropertySetsIfNeeded];
        char v23 = [v22 syndicationState];

        id v24 = [MEMORY[0x1E4F1CA48] arrayWithCapacity:5];
        id v25 = v24;
        if (v23)
        {
          [v24 addObject:@"FromMe"];
          if ((v23 & 2) == 0)
          {
LABEL_14:
            if ((v23 & 4) == 0) {
              goto LABEL_15;
            }
            goto LABEL_23;
          }
        }
        else if ((v23 & 2) == 0)
        {
          goto LABEL_14;
        }
        [v25 addObject:@"SavedToLibrary"];
        if ((v23 & 4) == 0)
        {
LABEL_15:
          if ((v23 & 8) == 0) {
            goto LABEL_17;
          }
LABEL_16:
          [v25 addObject:@"NoAttachmentSyndication"];
          goto LABEL_17;
        }
LABEL_23:
        [v25 addObject:@"NoConversationSyndication"];
        if ((v23 & 8) != 0) {
          goto LABEL_16;
        }
LABEL_17:
        if (![v25 count]) {
          [v25 addObject:@"None (unsaved; can sync)"];
        }
        uint64_t v26 = [v25 componentsJoinedByString:@", "];

        [v4 appendFormat:@"\nSyndication State: %@", v26];
        [v4 appendString:@"\n"];
        ++v8;
      }
      while (v6 != v8);
      uint64_t v27 = [obj countByEnumeratingWithState:&v47 objects:v54 count:16];
      uint64_t v6 = v27;
    }
    while (v27);
  }

  [v4 appendString:@"\n\n"];
  uint64_t v28 = (void *)[objc_alloc(MEMORY[0x1E4F1CA48]) initWithCapacity:2];
  long long v43 = 0u;
  long long v44 = 0u;
  long long v45 = 0u;
  long long v46 = 0u;
  id v29 = *(id *)(v40 + 32);
  uint64_t v30 = [v29 countByEnumeratingWithState:&v43 objects:v53 count:16];
  if (v30)
  {
    uint64_t v31 = v30;
    uint64_t v32 = *(void *)v44;
    do
    {
      for (uint64_t i = 0; i != v31; ++i)
      {
        if (*(void *)v44 != v32) {
          objc_enumerationMutation(v29);
        }
        id v34 = +[PXFeedbackTapToRadarUtilities detailedDebugDescriptionFileForAsset:*(void *)(*((void *)&v43 + 1) + 8 * i)];
        if (v34) {
          [v28 addObject:v34];
        }
      }
      uint64_t v31 = [v29 countByEnumeratingWithState:&v43 objects:v53 count:16];
    }
    while (v31);
  }

  if (!a2)
  {
    id v36 = 0;
    unsigned __int8 v35 = a3;
    if (a3) {
      goto LABEL_40;
    }
LABEL_42:
    id v37 = (void *)MEMORY[0x1E4F1CBF0];
    goto LABEL_43;
  }
  unsigned __int8 v35 = a3;
  if (!*(void *)(v40 + 40))
  {
    id v36 = 0;
    if (a3) {
      goto LABEL_40;
    }
    goto LABEL_42;
  }
  uint64_t v52 = *(void *)(v40 + 40);
  id v36 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v52 count:1];
  if (!a3) {
    goto LABEL_42;
  }
LABEL_40:
  long long v51 = @"com.apple.PhotoLibraryServices.PhotosDiagnostics";
  id v37 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v51 count:1];
LABEL_43:
  LOWORD(v3_Block_object_dispose(&STACK[0x2A0], 8) = v35;
  +[PXFeedbackTapToRadarUtilities fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:](PXFeedbackTapToRadarUtilities, "fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:", @"[Shared With You TTR]: <Enter Brief Description>", v4, @"Serious Bug", @"1073867", @"Photos UI Messages Sharing", @"iOS", 0, v36, v28, v38, v37, *(void *)(v40 + 48));
}

id PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(void *a1, void *a2, uint64_t a3)
{
  id v5 = a1;
  id v6 = a2;
  if ([v5 count])
  {
    uint64_t v7 = [v6 librarySpecificFetchOptions];
    [v7 setIncludeGuestAssets:a3];
    uint64_t v8 = [MEMORY[0x1E4F38EB8] fetchAssetsWithSyndicationIdentifiers:v5 options:v7];
    id v9 = [v8 fetchedObjects];
  }
  else
  {
    id v9 = (void *)MEMORY[0x1E4F1CBF0];
  }

  return v9;
}

id _PXContentSyndicationUnsavedCMMAssetFromAsset(void *a1)
{
  uint64_t v18 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (objc_msgSend(v1, "px_isUnsavedSyndicatedAsset"))
  {
    [v1 fetchPropertySetsIfNeeded];
    uint64_t v2 = [v1 curationProperties];
    id v3 = [v2 syndicationIdentifier];

    if ([v3 length])
    {
      id v4 = (void *)MEMORY[0x1E4F38EB8];
      id v13 = v3;
      id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v13 count:1];
      id v6 = [MEMORY[0x1E4F39228] sharedMomentSharePhotoLibrary];
      uint64_t v7 = [v6 librarySpecificFetchOptions];
      uint64_t v8 = [v4 fetchAssetsWithSyndicationIdentifiers:v5 options:v7];

      id v9 = [v8 firstObject];
    }
    else
    {
      uint64_t v8 = PLSyndicationUIGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        long long v10 = [v1 uuid];
        uint64_t v11 = [v1 curationProperties];
        *(_DWORD *)long long buf = 138543618;
        uint64_t v15 = v10;
        __int16 v16 = 2048;
        long long v17 = v11;
        _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_ERROR, "Attempted to check if syndicated asset is also CMM, but syndication ID was missing: %{public}@, curation properties: %p", buf, 0x16u);
      }
      id v9 = 0;
    }
  }
  else
  {
    id v9 = 0;
  }

  return v9;
}

BOOL PXContentSyndicationCMMAssetIsBeingSaved(void *a1)
{
  id v1 = _PXContentSyndicationUnsavedCMMAssetFromAsset(a1);
  if ([v1 sourceType] == 8)
  {
    [v1 fetchPropertySetsIfNeeded];
    uint64_t v2 = [v1 destinationAssetCopyProperties];
    uint64_t v3 = [v2 destinationAssetCopyState];

    BOOL v4 = v3 == 1;
  }
  else
  {
    BOOL v4 = 0;
  }

  return v4;
}

id PXContentSyndicationSelectionSnapshotForAssets(uint64_t a1)
{
  id v1 = [MEMORY[0x1E4F38EE8] transientAssetCollectionWithAssets:a1 title:0];
  uint64_t v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetCollection:v1 options:4];
  uint64_t v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  BOOL v4 = [[PXPhotoKitAssetsDataSource alloc] initWithImmutablePhotosDataSource:v3 withChange:0];
  id v5 = objc_alloc((Class)off_1E5DA84E8);
  id v6 = [(PXPhotoKitAssetsDataSource *)v4 allItemIndexPaths];
  uint64_t v7 = (void *)[v5 initWithDataSource:v4 selectedIndexPaths:v6];

  return v7;
}

id _PXContentSyndicationAssetsToProccessFromSavingHelperResult(uint64_t a1, uint64_t a2, void *a3, void *a4, void *a5)
{
  uint64_t v45 = *MEMORY[0x1E4F143B8];
  id v8 = a3;
  id v9 = a4;
  id v10 = a5;
  id v11 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  if (v10)
  {
    id v12 = PLSyndicationUIGetLog();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      id v13 = [v10 localizedDescription];
      *(_DWORD *)long long buf = 138412290;
      long long v44 = v13;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "Syndication Assets Processing: Error processing unsaved syndicated assets: %@", buf, 0xCu);
    }
  }
  else
  {
    if (a1 != 3)
    {
      if (a1 == 2)
      {
        long long v34 = 0u;
        long long v35 = 0u;
        long long v32 = 0u;
        long long v33 = 0u;
        id v18 = v8;
        uint64_t v19 = [v18 countByEnumeratingWithState:&v32 objects:v41 count:16];
        if (v19)
        {
          uint64_t v20 = v19;
          uint64_t v21 = *(void *)v33;
          do
          {
            for (uint64_t i = 0; i != v20; ++i)
            {
              if (*(void *)v33 != v21) {
                objc_enumerationMutation(v18);
              }
              [v11 addObject:*(void *)(*((void *)&v32 + 1) + 8 * i)];
            }
            uint64_t v20 = [v18 countByEnumeratingWithState:&v32 objects:v41 count:16];
          }
          while (v20);
        }

        long long v30 = 0u;
        long long v31 = 0u;
        long long v28 = 0u;
        long long v29 = 0u;
        id v12 = v9;
        uint64_t v23 = [v12 countByEnumeratingWithState:&v28 objects:v40 count:16];
        if (v23)
        {
          uint64_t v24 = v23;
          uint64_t v25 = *(void *)v29;
          do
          {
            for (uint64_t j = 0; j != v24; ++j)
            {
              if (*(void *)v29 != v25) {
                objc_enumerationMutation(v12);
              }
              objc_msgSend(v11, "addObject:", *(void *)(*((void *)&v28 + 1) + 8 * j), (void)v28);
            }
            uint64_t v24 = [v12 countByEnumeratingWithState:&v28 objects:v40 count:16];
          }
          while (v24);
        }
        goto LABEL_29;
      }
      if (a1) {
        goto LABEL_30;
      }
    }
    long long v38 = 0u;
    long long v39 = 0u;
    long long v36 = 0u;
    long long v37 = 0u;
    id v12 = v8;
    uint64_t v14 = [v12 countByEnumeratingWithState:&v36 objects:v42 count:16];
    if (v14)
    {
      uint64_t v15 = v14;
      uint64_t v16 = *(void *)v37;
      do
      {
        for (uint64_t k = 0; k != v15; ++k)
        {
          if (*(void *)v37 != v16) {
            objc_enumerationMutation(v12);
          }
          [v11 addObject:*(void *)(*((void *)&v36 + 1) + 8 * k)];
        }
        uint64_t v15 = [v12 countByEnumeratingWithState:&v36 objects:v42 count:16];
      }
      while (v15);
    }
  }
LABEL_29:

LABEL_30:
  return v11;
}

void PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v7)
  {
    id v8 = [[PXContentSyndicationPhotoKitAssetGroup alloc] initWithAssets:v5];
    id v9 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 unsavedSyndicatedAssets];
    if ([v9 count])
    {
      id v10 = (void *)MEMORY[0x1E4F38EE8];
      id v11 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 originalAssets];
      uint64_t v21 = [v10 transientAssetCollectionWithAssets:v11 title:@"Unsaved Syndication Selection"];

      id v12 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 unsavedCMMSyndicatedAssets];
      BOOL v13 = [v12 count] == 0;

      uint64_t v14 = [[PXContentSyndicationAssetSavingHelper alloc] initWithAssetCollection:v21];
      [(PXContentSyndicationAssetSavingHelper *)v14 setPresentationEnvironment:v6];
      [(PXContentSyndicationAssetSavingHelper *)v14 setUserCanContinueAfterSavingSyndicatedAssets:v13];
      uint64_t v15 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 userLibraryAssets];
      uint64_t v16 = (void *)[v15 mutableCopy];

      long long v17 = [(PXContentSyndicationPhotoKitAssetGroup *)v8 syndicationIdentifiers];
      id v18 = objc_msgSend(MEMORY[0x1E4F39228], "px_deprecated_appPhotoLibrary");
      uint64_t v19 = PXContentSyndicationUserLibraryAssetsFromSyndicationIdentifiers(v17, v18, 0);

      [v16 addObjectsFromArray:v19];
      v22[0] = MEMORY[0x1E4F143A8];
      v22[1] = 3221225472;
      void v22[2] = __PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary_block_invoke;
      v22[3] = &unk_1E5DC5838;
      id v23 = v9;
      id v24 = v16;
      id v25 = v7;
      id v20 = v16;
      [(PXContentSyndicationAssetSavingHelper *)v14 performSaveActionIfNeededOnUnsavedSyndicatedAssetsWithCompletion:v22];
    }
    else
    {
      (*((void (**)(id, void, id, void))v7 + 2))(v7, 0, v5, 0);
    }
  }
}

void __PXPromptToSaveUnsavedSyndicatedAssetsIfNecessary_block_invoke(uint64_t a1, uint64_t a2, void *a3, void *a4)
{
  id v7 = a4;
  id v9 = _PXContentSyndicationAssetsToProccessFromSavingHelperResult(a2, v8, *(void **)(a1 + 40), a3, v7);
  if (![v9 count])
  {
    id v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)id v11 = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEFAULT, "Syndication Assets Processing: No assets to process", v11, 2u);
    }
  }
  (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
}

void sub_1AAF8602C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__212455(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__212456(uint64_t a1)
{
}

void sub_1AAF86F9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void _ReturnPreviewImage(void *a1, void *a2)
{
  void v14[2] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = (void (**)(void, void, void))v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    id v10 = objc_msgSend(NSString, "stringWithUTF8String:", "void _ReturnPreviewImage(PXCMMPreviewAsset *__strong, __strong PXUIImageResultHandler)");
    [v9 handleFailureInFunction:v10, @"PXCMMPreviewUIImageProvider.m", 120, @"Invalid parameter not satisfying: %@", @"previewAsset" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  id v11 = [MEMORY[0x1E4F28B00] currentHandler];
  id v12 = objc_msgSend(NSString, "stringWithUTF8String:", "void _ReturnPreviewImage(PXCMMPreviewAsset *__strong, __strong PXUIImageResultHandler)");
  [v11 handleFailureInFunction:v12, @"PXCMMPreviewUIImageProvider.m", 121, @"Invalid parameter not satisfying: %@", @"resultHandler" file lineNumber description];

LABEL_3:
  if ([v3 isPreviewImageDataAvailable])
  {
    id v6 = [v3 previewImage];
    uint64_t v7 = *MEMORY[0x1E4F39708];
    v13[0] = *MEMORY[0x1E4F396F8];
    v13[1] = v7;
    v14[0] = MEMORY[0x1E4F1CC38];
    v14[1] = MEMORY[0x1E4F1CC38];
    uint64_t v8 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v14 forKeys:v13 count:2];
    ((void (**)(void, void *, void *))v5)[2](v5, v6, v8);
  }
  else
  {
    id v6 = [v3 momentShare];
    uint64_t v8 = _ErrorInfoDictionaryForMomentShare((uint64_t)v6);
    ((void (**)(void, void, void *))v5)[2](v5, 0, v8);
  }
}

id _ErrorInfoDictionaryForMomentShare(uint64_t a1)
{
  v5[1] = *MEMORY[0x1E4F143B8];
  id v1 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXCMMErrorDomain", -1009, @"No preview image data available for moment share: %@", a1);
  uint64_t v4 = *MEMORY[0x1E4F39698];
  v5[0] = v1;
  uint64_t v2 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v5 forKeys:&v4 count:1];

  return v2;
}

void _ReturnPreviewCGImage(void *a1, void *a2)
{
  void v17[2] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = (void (**)(void, void, void, void))v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    id v12 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v13 = objc_msgSend(NSString, "stringWithUTF8String:", "void _ReturnPreviewCGImage(PXCMMPreviewAsset *__strong, __strong PXAssetCGImageResultHandler)");
    [v12 handleFailureInFunction:v13, @"PXCMMPreviewUIImageProvider.m", 133, @"Invalid parameter not satisfying: %@", @"previewAsset" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  uint64_t v14 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v15 = objc_msgSend(NSString, "stringWithUTF8String:", "void _ReturnPreviewCGImage(PXCMMPreviewAsset *__strong, __strong PXAssetCGImageResultHandler)");
  [v14 handleFailureInFunction:v15, @"PXCMMPreviewUIImageProvider.m", 134, @"Invalid parameter not satisfying: %@", @"resultHandler" file lineNumber description];

LABEL_3:
  if ([v3 isPreviewImageDataAvailable])
  {
    id v6 = [v3 previewImage];
    uint64_t v7 = [v6 CGImage];
    uint64_t v8 = [v6 imageOrientation];
    uint64_t v9 = *MEMORY[0x1E4F39708];
    v16[0] = *MEMORY[0x1E4F396F8];
    v16[1] = v9;
    v17[0] = MEMORY[0x1E4F1CC38];
    v17[1] = MEMORY[0x1E4F1CC38];
    id v10 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v17 forKeys:v16 count:2];
    ((void (**)(void, uint64_t, uint64_t, void *))v5)[2](v5, v7, v8, v10);
  }
  else
  {
    id v6 = [v3 momentShare];
    id v11 = _ErrorInfoDictionaryForMomentShare((uint64_t)v6);
    ((void (**)(void, void, void, void *))v5)[2](v5, 0, 0, v11);
  }
}

uint64_t PXBodyIndexForIndex(uint64_t a1, void *a2)
{
  return a1 - objc_msgSend(a2, "countOfIndexesInRange:", 0, a1);
}

unint64_t PXIndexForBodyIndex(unint64_t a1, void *a2)
{
  if (a1 > 0x7FFFFFFFFFFFFFFELL) {
    return a1;
  }
  uint64_t v5 = -1;
  uint64_t v6 = -1;
  do
  {
    uint64_t v3 = a1 - v6 + v5;
    uint64_t v7 = [a2 countOfIndexesInRange:v5 + 1];
    uint64_t v6 = a1 - v7;
    uint64_t v5 = v3;
  }
  while ((uint64_t)(a1 - v7) < (uint64_t)a1);
  return v3;
}

void sub_1AAF8B78C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location)
{
  objc_destroyWeak(v25);
  objc_destroyWeak(v24);
  objc_destroyWeak(&location);
  _Block_object_dispose((const void *)(v26 - 112), 8);
  _Unwind_Resume(a1);
}

id getMFMailComposeViewControllerClass_213353()
{
  uint64_t v4 = 0;
  uint64_t v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getMFMailComposeViewControllerClass_softClass_213374;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_213374;
  if (!getMFMailComposeViewControllerClass_softClass_213374)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getMFMailComposeViewControllerClass_block_invoke_213375;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_213375((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AAF8BB18(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_213375(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_213376)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    _OWORD v6[3] = __MessageUILibraryCore_block_invoke_213377;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DC5A68;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_213376 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_213376)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSurveyQuestionsHorizontalGadget.m", 23, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSurveyQuestionsHorizontalGadget.m", 24, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_213374 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_213377()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_213376 = result;
  return result;
}

void sub_1AAF8D764(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAF8DCCC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 168), 8);
  _Unwind_Resume(a1);
}

PXPhotosViewEventTracker *PXPhotosViewEventTrackerCreate(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [PXPhotosViewEventTracker alloc];
  uint64_t v3 = [v1 viewModel];

  uint64_t v4 = [(PXPhotosViewEventTracker *)v2 initWithViewModel:v3];
  return v4;
}

void sub_1AAF9334C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AAF95344(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__214880(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__214881(uint64_t a1)
{
}

id PXInitialResponderInFocusEnvironment(void *a1)
{
  id v1 = a1;
  uint64_t v2 = v1;
  if (v1)
  {
    id v3 = v1;
    while (1)
    {
      uint64_t v4 = self;
      char isKindOfClass = objc_opt_isKindOfClass();

      if (isKindOfClass) {
        break;
      }
      uint64_t v6 = [v3 parentFocusEnvironment];

      id v3 = (id)v6;
      if (!v6) {
        goto LABEL_8;
      }
    }
    id v3 = v3;
  }
  else
  {
    id v3 = 0;
  }
LABEL_8:

  return v3;
}

id PXNumberPropertyFromCommand(void *a1)
{
  id v1 = a1;
  uint64_t v2 = self;
  if (objc_opt_isKindOfClass())
  {
    id v3 = [v1 propertyList];
  }
  else
  {
    id v3 = 0;
  }

  uint64_t v4 = self;
  if (objc_opt_isKindOfClass()) {
    uint64_t v5 = v3;
  }
  else {
    uint64_t v5 = 0;
  }
  id v6 = v5;

  return v6;
}

uint64_t __Block_byref_object_copy__215542(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__215543(uint64_t a1)
{
}

_PXDefaultAudioCueProvider *PXDefaultAudioCueProvider()
{
  id v0 = objc_alloc_init(_PXDefaultAudioCueProvider);
  return v0;
}

void sub_1AAF9A048(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__215624(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__215625(uint64_t a1)
{
}

PXPhotosUIViewController *PXStickersReviewViewController(void *a1, uint64_t a2)
{
  uint64_t v45 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  uint64_t v4 = v3;
  if (v3)
  {
    id v5 = v3;
  }
  else
  {
    long long v34 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v35 = objc_msgSend(NSString, "stringWithUTF8String:", "UIViewController * _Nonnull PXStickersReviewViewController(PHPhotoLibrary *__strong _Nonnull, PXStickersReviewType)");
    [v34 handleFailureInFunction:v35, @"PXStickersReviewUtilities.m", 120, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

    long long v36 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v37 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAsset *> *_FetchResultForPhotoLibrary(PHPhotoLibrary *__strong, PXStickersReviewType)");
    [v36 handleFailureInFunction:v37, @"PXStickersReviewUtilities.m", 38, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  if (a2 == 1)
  {
    id v6 = @"mediaAnalysisAttributes.videoStickerSuggestionScore";
    PLLiveStickerSuggestionConfidenceThreshold();
    goto LABEL_7;
  }
  if (!a2)
  {
    id v6 = @"stickerConfidenceScore";
    PLStickerSuggestionConfidenceThreshold();
LABEL_7:
    float v8 = v7;
    goto LABEL_9;
  }
  id v6 = 0;
  float v8 = 0.0;
LABEL_9:
  uint64_t v9 = [v4 librarySpecificFetchOptions];
  id v10 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"%K > %f", v6, v8);
  [v9 setInternalPredicate:v10];

  id v11 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"creationDate" ascending:0];
  uint64_t v42 = v11;
  id v12 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v42 count:1];
  [v9 setSortDescriptors:v12];

  uint64_t v13 = *MEMORY[0x1E4F39570];
  uint64_t v43 = *MEMORY[0x1E4F394E0];
  uint64_t v44 = v13;
  uint64_t v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v43 count:2];
  [v9 setFetchPropertySets:v14];

  uint64_t v15 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v9];

  id v16 = v15;
  if (!v16)
  {
    long long v38 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v39 = [NSString stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager *_DataSourceManagerWithAssetFetchResult(PHFetchResult<PHAsset *> *__strong)"];
    [v38 handleFailureInFunction:v39, @"PXStickersReviewUtilities.m", 65, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];
  }
  long long v17 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v16 options:2];
  uint64_t v18 = *MEMORY[0x1E4F39538];
  uint64_t v43 = *MEMORY[0x1E4F39448];
  uint64_t v44 = v18;
  uint64_t v19 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v43 count:2];
  [(PXPhotosDataSourceConfiguration *)v17 setFetchPropertySets:v19];

  id v20 = [v16 photoLibrary];
  uint64_t v21 = +[PXContentFilterState defaultFilterStateForPhotoLibrary:v20];
  id v22 = [v21 predicateForUseCase:0];
  [(PXPhotosDataSourceConfiguration *)v17 setFilterPredicate:v22];

  id v23 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v17];
  id v24 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v23];

  id v25 = v24;
  if (!v25)
  {
    uint64_t v40 = [MEMORY[0x1E4F28B00] currentHandler];
    id v41 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration *_ViewConfigurationWithDataSourceManager(PXPhotoKitAssetsDataSourceManager *__strong, PXStickersReviewType)");
    [v40 handleFailureInFunction:v41, @"PXStickersReviewUtilities.m", 81, @"Invalid parameter not satisfying: %@", @"dataSourceManager" file lineNumber description];
  }
  uint64_t v26 = [(PXPhotoKitAssetsDataSourceManager *)v25 photoLibrary];
  uint64_t v27 = +[PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v26];

  long long v28 = [[PXPhotoKitAssetActionManager alloc] initWithSelectionManager:0];
  long long v29 = objc_alloc_init(PXStickersReviewRadarConfigurationProvider);
  [(PXPhotoKitAssetActionManager *)v28 setRadarConfigurationProvider:v29];
  long long v30 = [[PXPhotosViewConfiguration alloc] initWithDataSourceManager:v25 mediaProvider:v27 selectionManager:0 assetActionManager:v28 assetCollectionActionManager:0];
  [(PXPhotosViewConfiguration *)v30 setFooterVisibilityStyle:1];
  [(PXPhotosViewConfiguration *)v30 setAllowedActions:16544];
  [(PXPhotosViewConfiguration *)v30 setAllowedBehaviors:[(PXPhotosViewConfiguration *)v30 allowedBehaviors] & 0xFFFFFFFFFFFFFFDFLL];
  if (!a2 || (uint64_t v31 = 0, a2 == 1)) {
    uint64_t v31 = objc_opt_class();
  }
  [(PXPhotosViewConfiguration *)v30 setDecorationViewClass:v31];

  long long v32 = [[PXPhotosUIViewController alloc] initWithConfiguration:v30];
  [(PXPhotosUIViewController *)v32 setTitle:@"Review Syndicated Assets"];

  return v32;
}

float PXStickersReviewScoreForAssetReference(void *a1, uint64_t a2)
{
  id v3 = [a1 asset];
  float v4 = 0.0;
  if (!objc_opt_class() || (objc_opt_isKindOfClass() & 1) == 0)
  {
    id v5 = 0;
LABEL_8:

    goto LABEL_9;
  }
  id v5 = v3;

  if (v5)
  {
    if (a2 == 1)
    {
      id v3 = [v5 mediaAnalysisProperties];
      [v3 videoStickerSuggestionScore];
      goto LABEL_11;
    }
    if (!a2)
    {
      id v3 = [v5 visualSearchProperties];
      [v3 stickerConfidenceScore];
LABEL_11:
      float v4 = v6;
      goto LABEL_8;
    }
  }
LABEL_9:

  return v4;
}

void _PXConfigureHeaderSubtitleLabel(void *a1)
{
  id v1 = a1;
  MEMORY[0x1AD10AAF0](6, 0x8000, 7);
  id v2 = (id)objc_claimAutoreleasedReturnValue();
  [v1 setFont:v2];
}

void sub_1AAF9FEE0(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AAFA01C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
}

uint64_t PXGStartSimulatingLayoutGlitches(uint64_t result, double a2)
{
  PXGSimulatedLayoutGlitchDuration = *(void *)&a2;
  PXGSimulatedLayoutGlitchPeriod = result;
  return result;
}

void PXGStopSimulatingLayoutGlitches()
{
  PXGSimulatedLayoutGlitchDuration = 0;
  PXGSimulatedLayoutGlitchPeriod = 0;
}

__CFString *PXCMTimeDescription(CMTime *a1)
{
  CMTime v3 = *a1;
  uint64_t v1 = (__CFString *)CMTimeCopyDescription(0, &v3);
  return v1;
}

BOOL PXCMTimeIsZero(CMTime *a1)
{
  CMTime time1 = *a1;
  CMTime v2 = *(CMTime *)*(void *)&MEMORY[0x1E4F1FA48];
  return CMTimeCompare(&time1, &v2) == 0;
}

void sub_1AAFA7FE4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFA8940(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

_PXConcatenatingAudioAssetFetchResult *PXAudioAssetFetchResultWithFetchResults(void *a1)
{
  id v1 = a1;
  CMTime v2 = [[_PXConcatenatingAudioAssetFetchResult alloc] initWithFetchResults:v1];

  return v2;
}

_PXAudioAssetArrayFetchResult *PXAudioAssetFetchResultWithArray(void *a1)
{
  id v1 = a1;
  CMTime v2 = [[_PXAudioAssetArrayFetchResult alloc] initWithArray:v1];

  return v2;
}

_PXAudioAssetSubrangeFetchResult *PXAudioAssetFetchResultWithFetchResultSubrange(void *a1, uint64_t a2, uint64_t a3)
{
  id v5 = a1;
  float v6 = -[_PXAudioAssetSubrangeFetchResult initWithFetchResult:subrange:]([_PXAudioAssetSubrangeFetchResult alloc], "initWithFetchResult:subrange:", v5, a2, a3);

  return v6;
}

_PXAudioAssetSingleItemFetchResult *PXAudioAssetFetchResultWithAsset(void *a1)
{
  id v1 = a1;
  CMTime v2 = [[_PXAudioAssetSingleItemFetchResult alloc] initWithAsset:v1];

  return v2;
}

_PXMappingAudioAssetFetchResult *PXAudioAssetFetchResultMappingFetchResult(void *a1, void *a2)
{
  id v3 = a2;
  id v4 = a1;
  id v5 = [[_PXMappingAudioAssetFetchResult alloc] initWithFetchResult:v4 block:v3];

  return v5;
}

_PXAudioAssetArrayFetchResult *PXAudioAssetFetchResultEmpty()
{
  return PXAudioAssetFetchResultWithArray(MEMORY[0x1E4F1CBF0]);
}

void sub_1AAFA9610(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFACE2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,char a45)
{
}

__CFString *PXActivityItemExportFormatDescription(uint64_t a1)
{
  id v1 = @"Auto";
  if (a1 == 1) {
    id v1 = @"Current";
  }
  if (a1 == 2) {
    return @"Compatible";
  }
  else {
    return v1;
  }
}

void sub_1AAFAED38(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AAFAFE60(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,id location)
{
  objc_destroyWeak(v27);
  objc_destroyWeak(v26);
  objc_destroyWeak(&location);
  _Block_object_dispose((const void *)(v28 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AAFB0974(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__219546(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__219547(uint64_t a1)
{
}

void sub_1AAFB1FC4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFB2A94(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFB2CDC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void sub_1AAFB30CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getPPLocationNamedEntitiesClass_block_invoke(uint64_t a1)
{
  PersonalizationPortraitLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PPLocationNamedEntities");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPPLocationNamedEntitiesClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPPLocationNamedEntitiesClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXAssetMetadataDonator.m", 28, @"Unable to find class %s", "PPLocationNamedEntities");

    __break(1u);
  }
}

void __getPPCustomDonationClass_block_invoke(uint64_t a1)
{
  PersonalizationPortraitLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PPCustomDonation");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPPCustomDonationClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPPCustomDonationClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXAssetMetadataDonator.m", 27, @"Unable to find class %s", "PPCustomDonation");

    __break(1u);
  }
}

void PersonalizationPortraitLibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!PersonalizationPortraitLibraryCore_frameworkLibrary)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    void v3[2] = (void *)3221225472;
    void v3[3] = __PersonalizationPortraitLibraryCore_block_invoke;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DC6430;
    uint64_t v5 = 0;
    PersonalizationPortraitLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  if (!PersonalizationPortraitLibraryCore_frameworkLibrary)
  {
    id v1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *PersonalizationPortraitLibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXAssetMetadataDonator.m", 26, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __PersonalizationPortraitLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  PersonalizationPortraitLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void sub_1AAFBDBB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37)
{
  _Block_object_dispose((const void *)(v37 - 208), 8);
  _Block_object_dispose(&a37, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFC33B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__221611(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__221612(uint64_t a1)
{
}

void sub_1AAFC3FE4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAFC4B10(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1AAFC52B0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,id location)
{
  objc_destroyWeak(v31);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAFC53B0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AAFC55FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFC6738(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAFC6C18(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void PXTileStateDescription(unsigned __int8 *a1)
{
  uint64_t v2 = [MEMORY[0x1E4F28E78] stringWithString:@"{\n"];
  [v2 appendString:@"Identifier:\n"];
  objc_msgSend(v2, "appendFormat:", @"\tneedsUpdate: %i\n", *a1);
  long long v3 = *(_OWORD *)(a1 + 56);
  long long v20 = *(_OWORD *)(a1 + 40);
  long long v21 = v3;
  long long v22 = *(_OWORD *)(a1 + 72);
  *(void *)&long long v23 = *((void *)a1 + 11);
  long long v4 = *(_OWORD *)(a1 + 24);
  long long v18 = *(_OWORD *)(a1 + 8);
  long long v19 = v4;
  uint64_t v5 = PXTileIdentifierDescription((unint64_t *)&v18);
  [v2 appendFormat:@"\tcurrent: %@\n", v5];

  long long v6 = *((_OWORD *)a1 + 9);
  long long v20 = *((_OWORD *)a1 + 8);
  long long v21 = v6;
  long long v22 = *((_OWORD *)a1 + 10);
  *(void *)&long long v23 = *((void *)a1 + 22);
  long long v7 = *((_OWORD *)a1 + 7);
  long long v18 = *((_OWORD *)a1 + 6);
  long long v19 = v7;
  float v8 = PXTileIdentifierDescription((unint64_t *)&v18);
  [v2 appendFormat:@"\ttarget: %@\n", v8];

  long long v9 = *(_OWORD *)(a1 + 232);
  long long v20 = *(_OWORD *)(a1 + 216);
  long long v21 = v9;
  long long v22 = *(_OWORD *)(a1 + 248);
  *(void *)&long long v23 = *((void *)a1 + 33);
  long long v10 = *(_OWORD *)(a1 + 200);
  long long v18 = *(_OWORD *)(a1 + 184);
  long long v19 = v10;
  id v11 = PXTileIdentifierDescription((unint64_t *)&v18);
  [v2 appendFormat:@"\tlastKnown: %@\n", v11];

  [v2 appendString:@"Geometry:\n"];
  objc_msgSend(v2, "appendFormat:", @"\tneedsUpdate: %i\n", a1[280]);
  long long v12 = *((_OWORD *)a1 + 27);
  long long v26 = *((_OWORD *)a1 + 26);
  long long v27 = v12;
  long long v13 = *((_OWORD *)a1 + 29);
  long long v28 = *((_OWORD *)a1 + 28);
  long long v29 = v13;
  long long v14 = *((_OWORD *)a1 + 23);
  long long v22 = *((_OWORD *)a1 + 22);
  long long v23 = v14;
  long long v15 = *((_OWORD *)a1 + 25);
  long long v24 = *((_OWORD *)a1 + 24);
  long long v25 = v15;
  long long v16 = *((_OWORD *)a1 + 19);
  long long v18 = *((_OWORD *)a1 + 18);
  long long v19 = v16;
  long long v17 = *((_OWORD *)a1 + 21);
  long long v20 = *((_OWORD *)a1 + 20);
  long long v21 = v17;
  PXTileGeometryDescription();
}

id PXCollectionDeleteConfirmationTitle(void *a1, uint64_t a2)
{
  v21[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  int v4 = objc_msgSend(v3, "px_isOwnedSharedAlbum");
  int v5 = objc_msgSend(v3, "px_isSharedAlbum");
  if ((v4 & 1) != 0 || v5)
  {
    long long v12 = @"DELETE_SUBSCRIBED_STREAM_BUTTON";
    if (!v5) {
      long long v12 = 0;
    }
    if (v4) {
      long long v13 = @"DELETE_OWNED_STREAM_BUTTON";
    }
    else {
      long long v13 = v12;
    }
    PXLocalizedStringFromTable(v13, @"PhotosUICore");
    id v14 = (id)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    long long v6 = [v3 photoLibrary];
    long long v7 = [v6 photoLibrary];

    float v8 = (void *)[objc_alloc(MEMORY[0x1E4F8ACA0]) initWithPhotoLibrary:v7];
    if (objc_msgSend(v3, "px_isFolder"))
    {
      long long v9 = objc_msgSend(v3, "pl_assetContainerList");
      uint64_t v19 = 0;
      v21[0] = v9;
      long long v10 = [MEMORY[0x1E4F1C978] arrayWithObjects:v21 count:1];
      uint64_t v16 = a2;
      id v11 = (id *)&v19;
      [v8 getDeletionWarningTitle:0 message:0 buttonTitle:&v19 forAlbums:0 folders:v10 clientName:0 style:v16];
    }
    else
    {
      long long v9 = objc_msgSend(v3, "pl_assetContainer");
      uint64_t v18 = 0;
      long long v20 = v9;
      long long v10 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v20 count:1];
      uint64_t v17 = a2;
      id v11 = (id *)&v18;
      [v8 getDeletionWarningTitle:0 message:0 buttonTitle:&v18 forAlbums:v10 folders:0 clientName:0 style:v17];
    }
    id v14 = *v11;
  }
  return v14;
}

id PXCollectionDeletionAlertControllerForCollection(void *a1, uint64_t a2, uint64_t a3, void *a4, void *a5)
{
  v61[1] = *MEMORY[0x1E4F143B8];
  id v8 = a1;
  id v9 = a4;
  id v10 = a5;
  id v11 = [v8 photoLibrary];
  uint64_t v12 = [v11 photoLibrary];

  long long v13 = (void *)[objc_alloc(MEMORY[0x1E4F8ACA0]) initWithPhotoLibrary:v12];
  int v14 = objc_msgSend(v8, "px_isOwnedSharedAlbum");
  int v15 = objc_msgSend(v8, "px_isSharedAlbum");
  long long v46 = v10;
  long long v47 = (void *)v12;
  uint64_t v45 = v13;
  if ((v14 & 1) != 0 || v15)
  {
    long long v21 = @"DELETE_SUBSCRIBED_STREAM_TITLE";
    if (!v15) {
      long long v21 = 0;
    }
    long long v22 = @"DELETE_SUBSCRIBED_STREAM_CONFIRMATION";
    if (!v15) {
      long long v22 = 0;
    }
    long long v23 = @"DELETE_SUBSCRIBED_STREAM_BUTTON";
    if (!v15) {
      long long v23 = 0;
    }
    BOOL v24 = v14 == 0;
    if (v14) {
      long long v25 = @"DELETE_OWNED_STREAM_TITLE";
    }
    else {
      long long v25 = v21;
    }
    if (v14) {
      long long v26 = @"DELETE_OWNED_STREAM_CONFIRMATION";
    }
    else {
      long long v26 = v22;
    }
    if (v24) {
      long long v27 = v23;
    }
    else {
      long long v27 = @"DELETE_OWNED_STREAM_BUTTON";
    }
    long long v28 = PXLocalizedStringFromTable(v25, @"PhotosUICore");
    uint64_t v43 = [v8 localizedTitle];
    PXStringWithValidatedFormat();
    id v18 = (id)objc_claimAutoreleasedReturnValue();

    long long v29 = PXLocalizedStringFromTable(v26, @"PhotosUICore");
    uint64_t v42 = objc_msgSend(v8, "localizedTitle", v43);
    PXStringWithValidatedFormat();
    id v19 = (id)objc_claimAutoreleasedReturnValue();

    PXLocalizedStringFromTable(v27, @"PhotosUICore");
    id v30 = (id)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    if (objc_msgSend(v8, "px_isFolder"))
    {
      uint64_t v16 = objc_msgSend(v8, "pl_assetContainerList");
      id v58 = 0;
      id v59 = 0;
      uint64_t v57 = 0;
      v61[0] = v16;
      uint64_t v17 = [MEMORY[0x1E4F1C978] arrayWithObjects:v61 count:1];
      [v13 getDeletionWarningTitle:&v59 message:&v58 buttonTitle:&v57 forAlbums:0 folders:v17 clientName:0 style:a2];
      id v18 = v59;
      id v19 = v58;
      long long v20 = v57;
    }
    else
    {
      uint64_t v16 = objc_msgSend(v8, "pl_assetContainer");
      id v55 = 0;
      id v56 = 0;
      id v54 = 0;
      uint64_t v60 = v16;
      uint64_t v17 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v60 count:1];
      [v13 getDeletionWarningTitle:&v56 message:&v55 buttonTitle:&v54 forAlbums:v17 folders:0 clientName:0 style:a2];
      id v18 = v56;
      id v19 = v55;
      long long v20 = v54;
    }
    id v30 = v20;
  }
  uint64_t v31 = objc_msgSend(MEMORY[0x1E4FB1418], "alertControllerWithTitle:message:preferredStyle:", v18, v19, a3, v42);
  long long v32 = (void *)MEMORY[0x1E4FB1410];
  v50[0] = MEMORY[0x1E4F143A8];
  v50[1] = 3221225472;
  v50[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke;
  v50[3] = &unk_1E5DD1040;
  id v51 = v8;
  id v52 = v9;
  id v33 = v46;
  id v53 = v33;
  id v34 = v9;
  id v35 = v8;
  long long v36 = [v32 actionWithTitle:v30 style:2 handler:v50];
  [v31 addAction:v36];
  uint64_t v37 = (void *)MEMORY[0x1E4FB1410];
  long long v38 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  v48[0] = MEMORY[0x1E4F143A8];
  v48[1] = 3221225472;
  v48[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke_225;
  v48[3] = &unk_1E5DCE788;
  id v49 = v33;
  id v39 = v33;
  uint64_t v40 = [v37 actionWithTitle:v38 style:1 handler:v48];

  [v31 addAction:v40];
  return v31;
}

void __PXCollectionDeletionAlertControllerForCollection_block_invoke(uint64_t a1)
{
  v10[1] = *MEMORY[0x1E4F143B8];
  uint64_t v2 = [[PXDeleteCollectionsAction alloc] initWithCollection:*(void *)(a1 + 32)];
  v6[0] = MEMORY[0x1E4F143A8];
  v6[1] = 3221225472;
  void v6[2] = __PXCollectionDeletionAlertControllerForCollection_block_invoke_2;
  _OWORD v6[3] = &unk_1E5DD2B90;
  uint64_t v3 = *(void *)(a1 + 40);
  id v7 = *(id *)(a1 + 32);
  id v8 = *(id *)(a1 + 48);
  [(PXAction *)v2 executeWithUndoManager:v3 completionHandler:v6];
  int v4 = (void *)MEMORY[0x1E4F56658];
  uint64_t v9 = *MEMORY[0x1E4F56548];
  v10[0] = *(void *)(a1 + 32);
  int v5 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v10 forKeys:&v9 count:1];
  [v4 sendEvent:@"com.apple.photos.CPAnalytics.albumDeleted" withPayload:v5];
}

uint64_t __PXCollectionDeletionAlertControllerForCollection_block_invoke_225(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 32);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void))(result + 16))(result, 0);
  }
  return result;
}

void __PXCollectionDeletionAlertControllerForCollection_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v13 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  if ((a2 & 1) == 0)
  {
    long long v6 = PLUIActionsGetLog();
    if (os_log_type_enabled(v6, OS_LOG_TYPE_ERROR))
    {
      id v8 = [*(id *)(a1 + 32) localIdentifier];
      int v9 = 138543618;
      id v10 = v8;
      __int16 v11 = 2114;
      id v12 = v5;
      _os_log_error_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_ERROR, "Failed to delete collection %{public}@ with error %{public}@", (uint8_t *)&v9, 0x16u);
    }
  }
  uint64_t v7 = *(void *)(a1 + 40);
  if (v7) {
    (*(void (**)(uint64_t, uint64_t))(v7 + 16))(v7, a2);
  }
}

id PXCollectionRenameAlertControllerForCollection(void *a1, uint64_t a2, void *a3, void *a4)
{
  id v6 = a1;
  id v7 = a3;
  id v8 = a4;
  int v9 = objc_alloc_init(PXTitleEditor);
  id v10 = +[PXRenameCollectionAction actionNameForCollection:v6];
  [(PXTitleEditor *)v9 setMessage:v10];

  __int16 v11 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionPlaceholderText", @"PhotosUICore");
  [(PXTitleEditor *)v9 setTitlePlaceholder:v11];

  id v12 = [off_1E5DA7230 defaultHelper];
  uint64_t v13 = [v6 localizedTitle];
  int v14 = [v12 displayableTextForTitle:v13 intent:2];
  [(PXTitleEditor *)v9 setTitle:v14];

  int v15 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionConfirmButton", @"PhotosUICore");
  [(PXTitleEditor *)v9 setConfirmButtonTitle:v15];

  uint64_t v16 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionCancelButton", @"PhotosUICore");
  [(PXTitleEditor *)v9 setCancelButtonTitle:v16];

  [(PXTitleEditor *)v9 setValidation:&__block_literal_global_223118];
  v22[0] = MEMORY[0x1E4F143A8];
  v22[1] = 3221225472;
  void v22[2] = __PXCollectionRenameAlertControllerForCollection_block_invoke_2;
  v22[3] = &unk_1E5DC6920;
  id v23 = v6;
  id v24 = v7;
  id v25 = v8;
  id v17 = v8;
  id v18 = v7;
  id v19 = v6;
  [(PXTitleEditor *)v9 setCompletionHandler:v22];
  long long v20 = [(PXTitleEditor *)v9 createAlertController];

  return v20;
}

void __PXCollectionRenameAlertControllerForCollection_block_invoke_2(uint64_t a1, void *a2, char a3)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = v5;
  if (a3)
  {
    id v7 = (void *)MEMORY[0x1E4F38EF0];
    id v8 = [v5 title];
    id v18 = 0;
    int v9 = [v7 validateAssetCollectionTitle:v8 error:&v18];
    id v10 = v18;

    if ([v9 length])
    {
      __int16 v11 = [[PXRenameCollectionAction alloc] initWithCollection:*(void *)(a1 + 32) title:v9];
      if (v11)
      {
        v16[0] = MEMORY[0x1E4F143A8];
        v16[1] = 3221225472;
        void v16[2] = __PXCollectionRenameAlertControllerForCollection_block_invoke_240;
        v16[3] = &unk_1E5DCDD58;
        uint64_t v12 = *(void *)(a1 + 40);
        id v17 = *(id *)(a1 + 48);
        [(PXAction *)v11 executeWithUndoManager:v12 completionHandler:v16];
        uint64_t v13 = v17;
      }
      else
      {
        uint64_t v13 = PLUIGetLog();
        if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
        {
          int v15 = *(void **)(a1 + 32);
          *(_DWORD *)long long buf = 138412546;
          long long v20 = v15;
          __int16 v21 = 2112;
          long long v22 = v9;
          _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "unable to create action to rename %@ to '%@'", buf, 0x16u);
        }
      }
    }
    else
    {
      PLUIGetLog();
      __int16 v11 = (PXRenameCollectionAction *)objc_claimAutoreleasedReturnValue();
      if (os_log_type_enabled(&v11->super.super.super, OS_LOG_TYPE_ERROR))
      {
        int v14 = [v6 title];
        *(_DWORD *)long long buf = 138412546;
        long long v20 = v14;
        __int16 v21 = 2112;
        long long v22 = v10;
        _os_log_impl(&dword_1A9AE7000, &v11->super.super.super, OS_LOG_TYPE_ERROR, "unable to get a valid title for input '%@': %@", buf, 0x16u);
      }
    }
  }
  else
  {
    id v10 = PLUIGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "title editor did not succeed", buf, 2u);
    }
  }
}

uint64_t __PXCollectionRenameAlertControllerForCollection_block_invoke_240(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 32);
  if (result) {
    return (*(uint64_t (**)(void))(result + 16))();
  }
  return result;
}

BOOL __PXCollectionRenameAlertControllerForCollection_block_invoke(uint64_t a1, void *a2)
{
  uint64_t v2 = (void *)MEMORY[0x1E4F38EF0];
  uint64_t v3 = [a2 title];
  int v4 = [v2 validateAssetCollectionTitle:v3 error:0];
  BOOL v5 = v4 != 0;

  return v5;
}

id PXCollectionActionMenuForCollection(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  id v8 = (void *)[objc_alloc(MEMORY[0x1E4F1CA48]) initWithCapacity:2];
  if ([v5 canPerformEditOperation:7])
  {
    int v9 = +[PXRenameCollectionAction actionNameForCollection:v5];
    id v10 = (void *)MEMORY[0x1E4FB13F0];
    __int16 v11 = [MEMORY[0x1E4FB1818] systemImageNamed:@"pencil"];
    v26[0] = MEMORY[0x1E4F143A8];
    v26[1] = 3221225472;
    v26[2] = __PXCollectionActionMenuForCollection_block_invoke;
    v26[3] = &unk_1E5DC6948;
    id v27 = v5;
    id v28 = v7;
    id v29 = v6;
    uint64_t v12 = [v10 actionWithTitle:v9 image:v11 identifier:0 handler:v26];

    [v8 addObject:v12];
  }
  if ([v5 canPerformEditOperation:6])
  {
    uint64_t v13 = PXLocalizedStringFromTable(@"PXDeleteFolderActionName", @"PhotosUICore");
    int v14 = (void *)MEMORY[0x1E4FB13F0];
    int v15 = [MEMORY[0x1E4FB1818] systemImageNamed:@"trash"];
    uint64_t v19 = MEMORY[0x1E4F143A8];
    uint64_t v20 = 3221225472;
    __int16 v21 = __PXCollectionActionMenuForCollection_block_invoke_2;
    long long v22 = &unk_1E5DC6948;
    id v23 = v6;
    id v24 = v5;
    id v25 = v7;
    uint64_t v16 = [v14 actionWithTitle:v13 image:v15 identifier:0 handler:&v19];

    objc_msgSend(v16, "setAttributes:", 2, v19, v20, v21, v22);
    [v8 addObject:v16];
  }
  if ([v8 count])
  {
    id v17 = [MEMORY[0x1E4FB1970] menuWithTitle:&stru_1F00B0030 image:0 identifier:0 options:1 children:v8];
  }
  else
  {
    id v17 = 0;
  }

  return v17;
}

void __PXCollectionActionMenuForCollection_block_invoke(void **a1, uint64_t a2)
{
  PXCollectionRenameAlertControllerForCollection(a1[4], a2, a1[5], 0);
  id v3 = (id)objc_claimAutoreleasedReturnValue();
  [a1[6] presentViewController:v3 animated:1 completionHandler:0];
}

void __PXCollectionActionMenuForCollection_block_invoke_2(id *a1)
{
  PXCollectionDeletionAlertControllerForCollection(a1[5], 0, [a1[4] canPresentPopovers] ^ 1, a1[6], 0);
  id v2 = (id)objc_claimAutoreleasedReturnValue();
  [a1[4] presentViewController:v2 animated:1 completionHandler:0];
}

void sub_1AAFE04C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, ...)
{
  va_start(va, a14);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__223701(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__223702(uint64_t a1)
{
}

uint64_t _AttributionForSuggestion(void *a1)
{
  id v1 = a1;
  id v2 = v1;
  if (v1)
  {
    uint64_t v3 = [v1 attribution];
    if ((unint64_t)(v3 - 1) >= 4) {
      uint64_t v4 = 0;
    }
    else {
      uint64_t v4 = v3;
    }
  }
  else
  {
    uint64_t v4 = 0;
  }

  return v4;
}

void sub_1AAFE2E5C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

BOOL _PersonIsNamed(void *a1)
{
  id v1 = a1;
  id v2 = [v1 personUri];
  if ([v2 length])
  {
    BOOL v3 = 1;
  }
  else
  {
    uint64_t v4 = [v1 contactMatchingDictionary];
    if ([v4 count])
    {
      BOOL v3 = 1;
    }
    else
    {
      id v5 = objc_msgSend(v1, "px_localizedName");
      BOOL v3 = [v5 length] != 0;
    }
  }

  return v3;
}

void _TitleSubtitleContextMakeGadgetSpec(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  uint64_t v11 = a1;
  *(void *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = 0;
  *(_OWORD *)(a3 + 72) = 0u;
  *(_OWORD *)(a3 + 56) = 0u;
  *(_OWORD *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0u;
  *(_OWORD *)(a3 + 24) = 0u;
  *(_OWORD *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(void *)a3 = a1;
  id v13 = a2;
  uint64_t v14 = PXMemorySpecSetForTileKindGadgetSpec(v11, v13);
  *(void *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = v14;
  *(void *)(a3 + 16) = PXMemorySpecVariantForTileKindGadgetSpec(v11, v13);
  *(double *)(a3 + 24) = a4;
  *(double *)(a3 + 32) = a5;
  *(double *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = a6;
  *(double *)(a3 + 4_Block_object_dispose(&STACK[0x2A0], 8) = a7;
  [v13 layoutInsets];
  *(void *)(a3 + 56) = v15;
  *(void *)(a3 + 64) = v16;
  *(void *)(a3 + 72) = v17;
  *(void *)(a3 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v18;
  LOBYTE(v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = PXMemoryShouldScaleForSpecSetGadgetSpec(v14, v13);

  *(unsigned char *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = v11;
}

void _TitleSubtitleContextMakeFeatureSpec(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  uint64_t v11 = a1;
  *(void *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = 0;
  *(_OWORD *)(a3 + 72) = 0u;
  *(_OWORD *)(a3 + 56) = 0u;
  *(_OWORD *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0u;
  *(_OWORD *)(a3 + 24) = 0u;
  *(_OWORD *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(void *)a3 = a1;
  id v13 = a2;
  uint64_t v14 = PXMemorySpecSetForTileKindFeatureSpec(v11, v13);
  *(void *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = v14;
  *(void *)(a3 + 16) = PXMemorySpecVariantForTileKindFeatureSpec(v11, v13);
  *(double *)(a3 + 24) = a4;
  *(double *)(a3 + 32) = a5;
  *(double *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = a6;
  *(double *)(a3 + 4_Block_object_dispose(&STACK[0x2A0], 8) = a7;
  [v13 layoutMargins];
  *(void *)(a3 + 56) = v15;
  *(void *)(a3 + 64) = v16;
  *(void *)(a3 + 72) = v17;
  *(void *)(a3 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v18;
  LOBYTE(v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = PXMemoryShouldScaleForSpecSetFeatureSpec(v14, v13);

  *(unsigned char *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = v11;
}

void _TitleSubtitleContextMakeViewModel(uint64_t a1@<X0>, void *a2@<X1>, uint64_t a3@<X8>, double a4@<D0>, double a5@<D1>, double a6@<D2>, double a7@<D3>)
{
  *(void *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = 0;
  *(_OWORD *)(a3 + 72) = 0u;
  *(_OWORD *)(a3 + 56) = 0u;
  *(_OWORD *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0u;
  *(_OWORD *)(a3 + 24) = 0u;
  *(_OWORD *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = 0u;
  *(void *)a3 = a1;
  id v12 = a2;
  *(void *)(a3 + _Block_object_dispose(&STACK[0x2A0], 8) = [v12 specSet];
  *(void *)(a3 + 16) = [v12 variant];
  *(double *)(a3 + 24) = a4;
  *(double *)(a3 + 32) = a5;
  *(double *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = a6;
  *(double *)(a3 + 4_Block_object_dispose(&STACK[0x2A0], 8) = a7;
  [v12 layoutMargins];
  uint64_t v14 = v13;
  uint64_t v16 = v15;
  uint64_t v18 = v17;
  uint64_t v20 = v19;

  *(void *)(a3 + 56) = v14;
  *(void *)(a3 + 64) = v16;
  *(void *)(a3 + 72) = v18;
  *(void *)(a3 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v20;
  *(unsigned char *)(a3 + 8_Block_object_dispose(&STACK[0x2A0], 8) = 1;
}

PXContentSyndicationPhotoKitAssetFetchResultProvider *PXContentSyndicationAssetFetchResultProviderForPhotoLibrary(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXContentSyndicationAssetFetchResultProvider>  _Nonnull PXContentSyndicationAssetFetchResultProviderForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 61, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v2 = [[PXContentSyndicationPhotoKitAssetFetchResultProvider alloc] initWithPhotoLibrary:v1 fetchResultBlock:&__block_literal_global_223857];

  return v2;
}

id __PXContentSyndicationAssetFetchResultProviderForPhotoLibrary_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  if (!v2)
  {
    id v8 = [MEMORY[0x1E4F28B00] currentHandler];
    int v9 = [NSString stringWithUTF8String:"PHFetchResult<PHAsset *> *_FetchResultForAssetCollection(PHAssetCollection *__strong)"];
    [v8 handleFailureInFunction:v9, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 47, @"Invalid parameter not satisfying: %@", @"assetCollection" file lineNumber description];
  }
  BOOL v3 = [v2 photoLibrary];
  uint64_t v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeGuestAssets:1];
  [v4 setFetchLimit:3];
  id v5 = _AssetSortDescriptorsSortedAscending(1);
  [v4 setInternalSortDescriptors:v5];

  [v4 setReverseSortOrder:1];
  id v6 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v2 options:v4];

  return v6;
}

id _AssetSortDescriptorsSortedAscending(uint64_t a1)
{
  void v7[3] = *MEMORY[0x1E4F143B8];
  id v2 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"addedDate" ascending:a1];
  BOOL v3 = objc_msgSend(MEMORY[0x1E4F29008], "sortDescriptorWithKey:ascending:", @"dateCreated", a1, v2);
  v7[1] = v3;
  uint64_t v4 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"objectID" ascending:1];
  CMTime v7[2] = v4;
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v7 count:3];

  return v5;
}

id PXContentSyndicationImageProviderForPhotoLibrary(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"id<PXUIImageProvider>  _Nonnull PXContentSyndicationImageProviderForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 71, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v2 = +[PXPhotoKitUIMediaProvider mediaProviderWithLibrary:v1];

  return v2;
}

id PXContentSyndicationCollectionsFetchResultForPhotoLibraryWithFetchLimit(void *a1, uint64_t a2, uint64_t a3)
{
  v18[1] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (!v5)
  {
    uint64_t v16 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v17 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAssetCollection *> * _Nonnull PXContentSyndicationCollectionsFetchResultForPhotoLibraryWithFetchLimit(PHPhotoLibrary *__strong _Nonnull, NSUInteger, NSUInteger)");
    [v16 handleFailureInFunction:v17, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 78, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  id v7 = +[PXContentSyndicationSettings sharedInstance];
  id v8 = v7;
  if (!a2) {
    a2 = [v7 maxNumberOfBatches];
  }
  if ([v8 dataSourceType] == 5)
  {
    int v9 = [MEMORY[0x1E4F29008] sortDescriptorWithKey:@"startDate" ascending:0];
    v18[0] = v9;
    id v10 = [MEMORY[0x1E4F1C978] arrayWithObjects:v18 count:1];
    [v6 setSortDescriptors:v10];

    uint64_t v11 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"estimatedAssetCount > 0"];
    [v6 setPredicate:v11];

    [v6 setFetchLimit:a2];
    uint64_t v12 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:3 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];
  }
  else
  {
    if ([v8 dataSourceType] == 4) {
      [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
    }
    else {
    uint64_t v13 = objc_msgSend(MEMORY[0x1E4F8BA10], "predicateForIncludeMask:useIndex:", objc_msgSend(MEMORY[0x1E4F8BA10], "maskForGuestAsset"), 1);
    }
    [v6 setInternalPredicate:v13];

    if (!a3) {
      a3 = [v8 maxNumberOfAssetsPerBatch];
    }
    uint64_t v12 = [MEMORY[0x1E4F38EE8] fetchRecentContentSyndicationAssetCollectionsWithOptions:v6 maxNumberOfStacks:a2 maxNumberOfAssetsPerStack:a3];
  }
  uint64_t v14 = (void *)v12;

  return v14;
}

id PXContentSyndicationAssetsFetchResultForPhotoLibrary(void *a1, uint64_t a2, uint64_t a3)
{
  void v22[2] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (!v5)
  {
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v20 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationAssetsFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull, BOOL, NSUInteger)");
    [v19 handleFailureInFunction:v20, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 108, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  [v6 setFetchLimit:a3];
  id v7 = _AssetSortDescriptorsSortedAscending(a2);
  [v6 setInternalSortDescriptors:v7];

  id v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
  [v6 setInternalPredicate:v8];
  int v9 = +[PXContentSyndicationSettings sharedInstance];
  if ([v9 useUserLibraryForSyndicatedAssets])
  {
    id v10 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"additionalAttributes.syndicationIdentifier != nil"];
    uint64_t v11 = (void *)MEMORY[0x1E4F28BA0];
    v22[0] = v10;
    uint64_t v12 = [v6 internalPredicate];
    v22[1] = v12;
    uint64_t v13 = (void *)MEMORY[0x1E4F1C978];
    uint64_t v14 = v22;
LABEL_8:
    uint64_t v15 = [v13 arrayWithObjects:v14 count:2];
    uint64_t v16 = [v11 andPredicateWithSubpredicates:v15];
    [v6 setInternalPredicate:v16];

    uint64_t v17 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v6];

    goto LABEL_9;
  }
  if ([v9 dataSourceType] == 3 || objc_msgSend(v9, "dataSourceType") == 4)
  {
    id v10 = [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
    uint64_t v11 = (void *)MEMORY[0x1E4F28BA0];
    v21[0] = v10;
    uint64_t v12 = [v6 internalPredicate];
    v21[1] = v12;
    uint64_t v13 = (void *)MEMORY[0x1E4F1C978];
    uint64_t v14 = v21;
    goto LABEL_8;
  }
  uint64_t v17 = [MEMORY[0x1E4F38EB8] fetchGuestAssetsWithOptions:v6];
LABEL_9:

  return v17;
}

id PXContentSyndicationAssetsFetchResultMatchingSyndicationGroupingOfAsset(void *a1)
{
  void v17[3] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = +[PXContentSyndicationSettings sharedInstance];
  uint64_t v3 = [v2 dataSourceType];
  uint64_t v4 = [v1 photoLibrary];
  id v5 = [v4 librarySpecificFetchOptions];

  [v5 setIncludeGuestAssets:1];
  if (v3 == 4)
  {
    id v7 = [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
    [v1 fetchPropertySetsIfNeeded];
    id v8 = [v1 curationProperties];
    int v9 = [v8 syndicationIdentifier];

    id v10 = PLSearchableIdentifierFromMessagesSyndicationID();
    uint64_t v11 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"additionalAttributes.syndicationIdentifier CONTAINS %@", v10];
    uint64_t v12 = [MEMORY[0x1E4F38EB8] filterPredicateToExcludeNoSyndicationAssets];
    uint64_t v13 = (void *)MEMORY[0x1E4F28BA0];
    v17[0] = v7;
    v17[1] = v11;
    void v17[2] = v12;
    uint64_t v14 = [MEMORY[0x1E4F1C978] arrayWithObjects:v17 count:3];
    uint64_t v15 = [v13 andPredicateWithSubpredicates:v14];
    [v5 setInternalPredicate:v15];

    id v6 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v5];
  }
  else if (v3)
  {
    id v6 = 0;
  }
  else
  {
    id v6 = [MEMORY[0x1E4F38EB8] fetchGuestAssetsInCollectionContainingAsset:v1 options:v5];
  }

  return v6;
}

id PXContentSyndicationMockSingleAssetsFetchResult(void *a1, uint64_t a2, uint64_t a3)
{
  void v23[2] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (!v5)
  {
    uint64_t v20 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v21 = objc_msgSend(NSString, "stringWithUTF8String:", "PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationMockSingleAssetsFetchResult(PHPhotoLibrary *__strong _Nonnull, BOOL, NSUInteger)");
    [v20 handleFailureInFunction:v21, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 164, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeGuestAssets:1];
  id v7 = _AssetSortDescriptorsSortedAscending(a2);
  [v6 setInternalSortDescriptors:v7];

  if (a3) {
    [v6 setFetchLimit:a3];
  }
  id v8 = +[PXContentSyndicationSettings sharedInstance];
  int v9 = [MEMORY[0x1E4F28F60] predicateWithFormat:@"additionalAttributes.syndicationIdentifier != nil"];
  id v10 = +[PXContentSyndicationSettings sharedInstance];
  uint64_t v11 = [v10 dataSourceType];

  if (v11 == 3)
  {
    uint64_t v12 = [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
    if ([v8 useUserLibraryForSyndicatedAssets])
    {
      uint64_t v13 = (void *)MEMORY[0x1E4F28BA0];
      v22[0] = v9;
      v22[1] = v12;
      uint64_t v14 = (void *)MEMORY[0x1E4F1C978];
      uint64_t v15 = v22;
      goto LABEL_11;
    }
LABEL_14:
    [v6 setInternalPredicate:v12];
    goto LABEL_15;
  }
  if (v11 != 2)
  {
    if ([v8 useUserLibraryForSyndicatedAssets])
    {
      [v6 setInternalPredicate:v9];
      [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v6];
    }
    else
    {
      [MEMORY[0x1E4F38EB8] fetchGuestAssetsWithOptions:v6];
    uint64_t v18 = };
    goto LABEL_18;
  }
  uint64_t v12 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
  if (![v8 useUserLibraryForSyndicatedAssets]) {
    goto LABEL_14;
  }
  uint64_t v13 = (void *)MEMORY[0x1E4F28BA0];
  v23[0] = v9;
  v23[1] = v12;
  uint64_t v14 = (void *)MEMORY[0x1E4F1C978];
  uint64_t v15 = v23;
LABEL_11:
  uint64_t v16 = [v14 arrayWithObjects:v15 count:2];
  uint64_t v17 = [v13 andPredicateWithSubpredicates:v16];
  [v6 setInternalPredicate:v17];

LABEL_15:
  uint64_t v18 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v6];

LABEL_18:
  return v18;
}

id PXContentSyndicationReviewFetchResultForPhotoLibrary(void *a1)
{
  v19[3] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v16 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v17 = [NSString stringWithUTF8String:"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationReviewFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v16 handleFailureInFunction:v17, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 213, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v2 = [v1 librarySpecificFetchOptions];
  [v2 setIncludeGuestAssets:1];
  uint64_t v3 = _AssetSortDescriptorsSortedAscending(1);
  [v2 setInternalSortDescriptors:v3];

  uint64_t v4 = *MEMORY[0x1E4F394E0];
  v19[0] = *MEMORY[0x1E4F39538];
  v19[1] = v4;
  v19[2] = *MEMORY[0x1E4F39458];
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v19 count:3];
  [v2 setFetchPropertySets:v5];

  id v6 = +[PXContentSyndicationSettings sharedInstance];
  uint64_t v7 = [v6 reviewScope];

  switch(v7)
  {
    case 1:
      uint64_t v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeOnlyReceivedSyndicatedAssets];
      goto LABEL_12;
    case 2:
      uint64_t v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeOnlySentSyndicatedAssets];
      goto LABEL_12;
    case 3:
      uint64_t v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeReceivedNotAnalyzedSyndicatedAssets];
      goto LABEL_12;
    case 4:
      uint64_t v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToIncludeReceivedNotEligibleSyndicatedAssets];
      goto LABEL_12;
    case 5:
      uint64_t v8 = [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
      goto LABEL_12;
    case 6:
      int v9 = [MEMORY[0x1E4F8E7A8] internalPredicateToFilterAssetsEligibleForSyndication];
      id v10 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"mediaAnalysisAttributes.syndicationProcessingValue = %d", 256);
      uint64_t v11 = (void *)MEMORY[0x1E4F28BA0];
      v18[0] = v9;
      v18[1] = v10;
      uint64_t v12 = [MEMORY[0x1E4F1C978] arrayWithObjects:v18 count:2];
      uint64_t v13 = [v11 andPredicateWithSubpredicates:v12];

      if (!v13) {
        break;
      }
      goto LABEL_13;
    case 7:
      uint64_t v8 = objc_msgSend(MEMORY[0x1E4F8BA10], "predicateForIncludeMask:useIndex:", objc_msgSend(MEMORY[0x1E4F8BA10], "maskForGuestAsset"), 1);
LABEL_12:
      uint64_t v13 = (void *)v8;
      if (v8)
      {
LABEL_13:
        [v2 setInternalPredicate:v13];
      }
      break;
    default:
      break;
  }
  uint64_t v14 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v2];

  return v14;
}

id PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(void *a1)
{
  void v17[3] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v14 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v15 = [NSString stringWithUTF8String:"PHFetchResult<PHAsset *> * _Nonnull PXContentSyndicationProcessingValuesReviewFetchResultForPhotoLibrary(PHPhotoLibrary *__strong _Nonnull)"];
    [v14 handleFailureInFunction:v15, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 267, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v2 = [v1 librarySpecificFetchOptions];
  [v2 setIncludeGuestAssets:1];
  uint64_t v3 = _AssetSortDescriptorsSortedAscending(1);
  [v2 setInternalSortDescriptors:v3];

  uint64_t v4 = *MEMORY[0x1E4F394E0];
  v17[0] = *MEMORY[0x1E4F39538];
  v17[1] = v4;
  void v17[2] = *MEMORY[0x1E4F39458];
  id v5 = [MEMORY[0x1E4F1C978] arrayWithObjects:v17 count:3];
  [v2 setFetchPropertySets:v5];

  id v6 = +[PXContentSyndicationSettings sharedInstance];
  unsigned int v7 = [v6 reviewProcessingValuesScope];

  uint64_t v8 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"(%K & %i) != 0", @"mediaAnalysisAttributes.syndicationProcessingValue", v7);
  int v9 = (void *)MEMORY[0x1E4F28BA0];
  uint64_t v16 = v8;
  id v10 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v16 count:1];
  uint64_t v11 = [v9 andPredicateWithSubpredicates:v10];
  [v2 setInternalPredicate:v11];

  uint64_t v12 = [MEMORY[0x1E4F38EB8] fetchAssetsWithOptions:v2];

  return v12;
}

uint64_t PXContentSyndicationCollectionAndFetchResultForAsset(void *a1, void *a2, void *a3)
{
  v21[1] = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  if (v5)
  {
    if (a2) {
      goto LABEL_3;
    }
LABEL_6:
    uint64_t v17 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v18 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)");
    [v17 handleFailureInFunction:v18, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 284, @"Invalid parameter not satisfying: %@", @"assetCollection" file lineNumber description];

    if (a3) {
      goto LABEL_4;
    }
LABEL_7:
    uint64_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v20 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)");
    [v19 handleFailureInFunction:v20, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 285, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];

    goto LABEL_4;
  }
  uint64_t v15 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v16 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXContentSyndicationCollectionAndFetchResultForAsset(PHAsset *__strong _Nonnull, PHAssetCollection * _Nonnull __autoreleasing * _Nonnull, PHFetchResult<PHAsset *> * _Nonnull __autoreleasing * _Nonnull)");
  [v15 handleFailureInFunction:v16, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 283, @"Invalid parameter not satisfying: %@", @"asset" file lineNumber description];

  if (!a2) {
    goto LABEL_6;
  }
LABEL_3:
  if (!a3) {
    goto LABEL_7;
  }
LABEL_4:
  id v6 = (void *)MEMORY[0x1E4F38EE8];
  v21[0] = v5;
  unsigned int v7 = [MEMORY[0x1E4F1C978] arrayWithObjects:v21 count:1];
  uint64_t v8 = [v6 transientAssetCollectionWithAssets:v7 title:0];

  int v9 = [v8 photoLibrary];
  id v10 = [v9 librarySpecificFetchOptions];

  [v10 setIncludeGuestAssets:1];
  uint64_t v11 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v8 options:v10];
  id v12 = v8;
  *a2 = v12;
  id v13 = v11;
  *a3 = v13;

  return 1;
}

PXPhotoKitAssetsDataSourceManager *PXContentSyndicationAssetsDataSourceManagerForAssetFetchResult(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v6 = [MEMORY[0x1E4F28B00] currentHandler];
    unsigned int v7 = [NSString stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager * _Nonnull PXContentSyndicationAssetsDataSourceManagerForAssetFetchResult(PHFetchResult<PHAsset *> *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 299, @"Invalid parameter not satisfying: %@", @"assetFetchResult" file lineNumber description];
  }
  id v2 = [[PXPhotosDataSourceConfiguration alloc] initWithAssetFetchResult:v1 options:0];
  uint64_t v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  uint64_t v4 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v3];

  return v4;
}

PXPhotoKitAssetsDataSourceManager *PXContentSyndicationAssetsDataSourceManagerForAssetCollectionFetchResult(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v6 = [MEMORY[0x1E4F28B00] currentHandler];
    unsigned int v7 = [NSString stringWithUTF8String:"PXPhotoKitAssetsDataSourceManager * _Nonnull PXContentSyndicationAssetsDataSourceManagerForAssetCollectionFetchResult(PHFetchResult<PHAssetCollection *> *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXContentSyndicationDataSourcePhotoKitUtilities.m", 308, @"Invalid parameter not satisfying: %@", @"assetCollectionFetchResult" file lineNumber description];
  }
  id v2 = [[PXPhotosDataSourceConfiguration alloc] initWithCollectionListFetchResult:v1 options:0];
  uint64_t v3 = [[PXPhotosDataSource alloc] initWithPhotosDataSourceConfiguration:v2];
  uint64_t v4 = [[PXPhotoKitAssetsDataSourceManager alloc] initWithPhotosDataSource:v3];

  return v4;
}

void sub_1AAFE5820(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AAFE689C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getACCBakerDataVersion2SymbolLoc_block_invoke(uint64_t a1)
{
  id v2 = ACCBakerLibrary();
  uint64_t result = dlsym(v2, "ACCBakerDataVersion2");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getACCBakerDataVersion2SymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *ACCBakerLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!ACCBakerLibraryCore_frameworkLibrary)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __ACCBakerLibraryCore_block_invoke;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DC6B10;
    uint64_t v6 = 0;
    ACCBakerLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  id v0 = (void *)ACCBakerLibraryCore_frameworkLibrary;
  if (!ACCBakerLibraryCore_frameworkLibrary)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"void *ACCBakerLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXRetailExperienceManager.m", 25, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

void *__getACCBakerCreateSymbolLoc_block_invoke(uint64_t a1)
{
  id v2 = ACCBakerLibrary();
  uint64_t result = dlsym(v2, "ACCBakerCreate");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getACCBakerCreateSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __ACCBakerLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  ACCBakerLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

uint64_t PXIsRetailExperienceManagerURL(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"BOOL PXIsRetailExperienceManagerURL(NSURL *__strong _Nonnull)"];
    [v7 handleFailureInFunction:v8, @"PXRetailExperienceManager.m", 82, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];
  }
  id v2 = (void *)[objc_alloc(MEMORY[0x1E4F29088]) initWithURL:v1 resolvingAgainstBaseURL:0];
  uint64_t v3 = [v2 host];
  uint64_t v4 = 0;
  if ([v3 isEqualToString:@"www.icloud.com"])
  {
    long long v5 = [v2 path];
    uint64_t v4 = [v5 hasPrefix:@"/tryphotos"];
  }
  return v4;
}

void sub_1AAFE8FBC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__224717(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__224718(uint64_t a1)
{
}

void sub_1AAFEF160(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
}

void sub_1AAFF12C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AAFF2CF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id *location, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,id a63)
{
}

void sub_1AAFF3F58(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, char a19, uint64_t a20,uint64_t a21,uint64_t a22,char a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a19, 8);
  _Block_object_dispose(&a23, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 128), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__225660(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__225661(uint64_t a1)
{
}

id PXForYouLastExitedDate()
{
  id v0 = _LastExitedDateValueAccessor();
  id v1 = [v0 currentValue];

  return v1;
}

id _LastExitedDateValueAccessor()
{
  if (_LastExitedDateValueAccessor_predicate != -1) {
    dispatch_once(&_LastExitedDateValueAccessor_predicate, &__block_literal_global_225938);
  }
  id v0 = (void *)_LastExitedDateValueAccessor_lastExitedDateAccessor;
  return v0;
}

void PXSetForYouLastExitedDate(void *a1)
{
  id v1 = a1;
  _LastExitedDateValueAccessor();
  id v2 = (id)objc_claimAutoreleasedReturnValue();
  [v2 setCurrentValue:v1];
}

void __PLSocialLayerHighlightProviderGetLog_block_invoke()
{
  os_log_t v0 = os_log_create((const char *)*MEMORY[0x1E4F8A240], "SocialLayerHighlightProvider");
  id v1 = (void *)PLSocialLayerHighlightProviderGetLog_log;
  PLSocialLayerHighlightProviderGetLog_log = (uint64_t)v0;
}

void sub_1AAFF6140(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

void sub_1AAFF6530(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__226146(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__226147(uint64_t a1)
{
}

uint64_t __Block_byref_object_copy__226525(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__226526(uint64_t a1)
{
}

void _InternalWorkQueue_PerformChanges(void *a1, uint64_t a2)
{
  if (a1)
  {
    uint64_t v3 = *(void (**)(uint64_t, id))(a2 + 16);
    id v4 = a1;
    v3(a2, v4);
    [v4 _updateIfNeeded];
  }
}

void sub_1AAFF9DB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__227025(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__227026(uint64_t a1)
{
}

uint64_t PXAggregateMediaTypeForCounts(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (!a3) {
    return 0;
  }
  if (!a2 && a1 == a3) {
    return 1;
  }
  if (a2 == a3 && a1 == 0) {
    return 2;
  }
  else {
    return 0;
  }
}

uint64_t PXDisplayVelocityDescription(double a1, double a2, double a3, double a4)
{
  return [NSString stringWithFormat:@"{x:%0.1f, y:%0.1f, s:%0.3f, r:%0.2f}", *(void *)&a1, *(void *)&a2, *(void *)&a3, *(void *)&a4];
}

void sub_1AAFFFF84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB001FD8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB0049FC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB006108(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id *a10, id *a11, id *a12, id *location)
{
  objc_destroyWeak(v13);
  objc_destroyWeak(v14);
  objc_destroyWeak(location);
  objc_destroyWeak(a12);
  objc_destroyWeak(a11);
  objc_destroyWeak(a10);
  objc_destroyWeak((id *)(v15 - 184));
  _Unwind_Resume(a1);
}

void sub_1AB008E4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB009CA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB00A004(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB00A434()
{
}

void sub_1AB00A6A8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,char a23)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a23, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__229312(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__229313(uint64_t a1)
{
}

void sub_1AB00BA44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

void sub_1AB00C524(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
  _Block_object_dispose((const void *)(v27 - 144), 8);
  _Block_object_dispose(&a27, 8);
  _Unwind_Resume(a1);
}

void sub_1AB00C934(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB00CEB0(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB00D430(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, id *location)
{
  objc_destroyWeak(location);
  objc_destroyWeak((id *)(v13 - 200));
  _Unwind_Resume(a1);
}

void sub_1AB00D510(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB00D9F0(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB00E538(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
}

void sub_1AB00EA54(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB00F19C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB00F830(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AB010B1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_1AB014244(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB014720(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((const void *)(v26 - 136), 8);
  _Unwind_Resume(a1);
}

void sub_1AB014A60(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AB015100(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__230121(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__230122(uint64_t a1)
{
}

void sub_1AB016014(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0161F4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AB016900(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB017AC8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB01849C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB018E58(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void PXCollectAssetCollectionsInCollections(void *a1, void *a2)
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  long long v11 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  long long v14 = 0u;
  uint64_t v5 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
  if (v5)
  {
    uint64_t v6 = v5;
    uint64_t v7 = *(void *)v12;
    do
    {
      uint64_t v8 = 0;
      do
      {
        if (*(void *)v12 != v7) {
          objc_enumerationMutation(v3);
        }
        uint64_t v9 = *(void *)(*((void *)&v11 + 1) + 8 * v8);
        objc_opt_class();
        if (objc_opt_isKindOfClass())
        {
          [v4 addObject:v9];
        }
        else
        {
          objc_opt_class();
          if (objc_opt_isKindOfClass())
          {
            id v10 = [MEMORY[0x1E4F38FF8] fetchCollectionsInCollectionList:v9 options:0];
            PXCollectAssetCollectionsInCollections(v10, v4);
          }
        }
        ++v8;
      }
      while (v6 != v8);
      uint64_t v6 = [v3 countByEnumeratingWithState:&v11 objects:v15 count:16];
    }
    while (v6);
  }
}

void sub_1AB01E894(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

void sub_1AB01F0C4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB01F84C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB01F91C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB01F9F4(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB01FB00(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB01FC04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, void *a15)
{
  _Unwind_Resume(a1);
}

void sub_1AB01FE54(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id a14)
{
  _Unwind_Resume(a1);
}

void sub_1AB0201F8(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB0202C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  _Unwind_Resume(a1);
}

void sub_1AB020348(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB0203C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  _Unwind_Resume(a1);
}

void sub_1AB0205F8(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB020684(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB0208C4(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB020954(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB020BC4(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB020C5C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  _Unwind_Resume(a1);
}

void sub_1AB020CC4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB020D2C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB020DB0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id a12)
{
  _Unwind_Resume(a1);
}

void sub_1AB020E94(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021064(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021144(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021204(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021284(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021344(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021438(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021540(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, void *a14)
{
  _Unwind_Resume(a1);
}

void sub_1AB0215D0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB0217E0(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB0218B8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB021940(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB021A88(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__232230(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__232231(uint64_t a1)
{
}

uint64_t __Block_byref_object_copy__46(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4_Block_object_dispose(&STACK[0x2A0], 8) = *(void *)(a2 + 48);
  return result;
}

void sub_1AB021D7C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB021DFC(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB022158(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,char a38,uint64_t a39,uint64_t a40,uint64_t a41,char a42)
{
  _Block_object_dispose(&a38, 8);
  _Block_object_dispose(&a42, 8);
  _Unwind_Resume(a1);
}

void sub_1AB02224C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id a10)
{
  _Unwind_Resume(a1);
}

void sub_1AB02232C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, objc_super a9)
{
  a9.super_class = (Class)PXGTextureManager;
  [(_Unwind_Exception *)&a9 dealloc];
  _Unwind_Resume(a1);
}

uint64_t PXGMakeNextTextureDeliveryOrderID()
{
  return atomic_fetch_add(PXGMakeNextTextureDeliveryOrderID::lastRequestID, 1u);
}

id PXStringForOSType(unsigned int a1)
{
  uint64_t v4 = *MEMORY[0x1E4F143B8];
  v3[0] = HIBYTE(a1);
  v3[1] = BYTE2(a1);
  void v3[2] = BYTE1(a1);
  void v3[3] = a1;
  uint64_t v1 = [NSString stringWithCharacters:v3 length:4];
  return v1;
}

void sub_1AB024A04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB024CE0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB02542C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 160), 8);
  _Unwind_Resume(a1);
}

void EnumerateAllViewsUsingBlock(void *a1)
{
  uint64_t v31 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v25 = 0;
  uint64_t v26 = &v25;
  uint64_t v27 = 0x2020000000;
  char v28 = 0;
  long long v21 = 0u;
  long long v22 = 0u;
  long long v23 = 0u;
  long long v24 = 0u;
  uint64_t v2 = [MEMORY[0x1E4FB1438] sharedApplication];
  id obj = [v2 connectedScenes];

  uint64_t v12 = [obj countByEnumeratingWithState:&v21 objects:v30 count:16];
  if (v12)
  {
    uint64_t v11 = *(void *)v22;
LABEL_3:
    uint64_t v13 = 0;
    while (1)
    {
      if (*(void *)v22 != v11) {
        objc_enumerationMutation(obj);
      }
      id v3 = *(void **)(*((void *)&v21 + 1) + 8 * v13);
      long long v17 = 0u;
      long long v18 = 0u;
      long long v19 = 0u;
      long long v20 = 0u;
      uint64_t v4 = objc_msgSend(v3, "windows", obj);
      uint64_t v5 = [v4 countByEnumeratingWithState:&v17 objects:v29 count:16];
      if (v5)
      {
        uint64_t v6 = *(void *)v18;
LABEL_8:
        uint64_t v7 = 0;
        while (1)
        {
          if (*(void *)v18 != v6) {
            objc_enumerationMutation(v4);
          }
          id v8 = *(id *)(*((void *)&v17 + 1) + 8 * v7);
          v14[0] = MEMORY[0x1E4F143A8];
          v14[1] = 3221225472;
          void v14[2] = __EnumerateAllViewsUsingBlock_block_invoke;
          void v14[3] = &unk_1E5DC8560;
          id v15 = v1;
          uint64_t v16 = &v25;
          objc_msgSend(v8, "px_enumerateDescendantSubviewsUsingBlock:", v14);
          BOOL v9 = *((unsigned char *)v26 + 24) == 0;

          if (!v9) {
            break;
          }
          if (v5 == ++v7)
          {
            uint64_t v5 = [v4 countByEnumeratingWithState:&v17 objects:v29 count:16];
            if (v5) {
              goto LABEL_8;
            }
            break;
          }
        }
      }

      if (*((unsigned char *)v26 + 24)) {
        break;
      }
      if (++v13 == v12)
      {
        uint64_t v12 = [obj countByEnumeratingWithState:&v21 objects:v30 count:16];
        if (v12) {
          goto LABEL_3;
        }
        break;
      }
    }
  }

  _Block_object_dispose(&v25, 8);
}

void sub_1AB026118(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

uint64_t __EnumerateAllViewsUsingBlock_block_invoke(uint64_t a1, uint64_t a2, unsigned char *a3)
{
  uint64_t result = (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24)) {
    *a3 = 1;
  }
  return result;
}

void sub_1AB0282B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28,uint64_t a29,uint64_t a30,uint64_t a31,char a32,uint64_t a33,uint64_t a34,uint64_t a35,char a36,uint64_t a37,uint64_t a38,uint64_t a39,char a40)
{
  _Block_object_dispose(&a28, 8);
  _Block_object_dispose(&a32, 8);
  _Block_object_dispose(&a36, 8);
  _Block_object_dispose(&a40, 8);
  _Block_object_dispose((const void *)(v40 - 216), 8);
  _Block_object_dispose((const void *)(v40 - 184), 8);
  _Unwind_Resume(a1);
}

void sub_1AB028A04(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0298A8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB02CC0C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB02D38C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 144));
  _Unwind_Resume(a1);
}

void sub_1AB032B48(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

__n128 SumDurations(CMTime *a1, CMTime *a2, CMTime *a3)
{
  uint64_t v3 = MEMORY[0x1E4F1FA48];
  __n128 result = *(__n128 *)MEMORY[0x1E4F1FA48];
  *(_OWORD *)&a1->value = *MEMORY[0x1E4F1FA48];
  CMTimeEpoch v5 = *(void *)(v3 + 16);
  a1->epoch = v5;
  *(__n128 *)&a1[1].value = result;
  a1[1].epoch = v5;
  *(__n128 *)&a1[2].value = result;
  a1[2].epoch = v5;
  if (a2 != a3)
  {
    uint64_t v7 = a2;
    BOOL v9 = a1 + 1;
    id v10 = a1 + 2;
    do
    {
      CMTime lhs = *v10;
      CMTime rhs = v7[2];
      CMTimeAdd(&v17, &lhs, &rhs);
      *id v10 = v17;
      CMTime v14 = *v9;
      CMTime v13 = v7[1];
      CMTimeAdd(&v17, &v14, &v13);
      *BOOL v9 = v17;
      CMTime v12 = *a1;
      CMTime v11 = *v7;
      CMTimeAdd(&v17, &v12, &v11);
      __n128 result = *(__n128 *)&v17.value;
      *a1 = v17;
      v7 += 3;
    }
    while (v7 != a3);
  }
  return result;
}

void sub_1AB032F7C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void *std::vector<PFStoryDurationInfo>::__assign_with_size[abi:ne180100]<PFStoryDurationInfo*,PFStoryDurationInfo*>(void *result, char *__src, char *a3, unint64_t a4)
{
  uint64_t v6 = __src;
  uint64_t v7 = result;
  uint64_t v8 = result[2];
  BOOL v9 = (char *)*result;
  if (0x8E38E38E38E38E39 * ((v8 - *result) >> 3) < a4)
  {
    if (v9)
    {
      result[1] = v9;
      operator delete(v9);
      uint64_t v8 = 0;
      *uint64_t v7 = 0;
      v7[1] = 0;
      CMTime v7[2] = 0;
    }
    if (a4 > 0x38E38E38E38E38ELL) {
      goto LABEL_23;
    }
    unint64_t v10 = 0x8E38E38E38E38E39 * (v8 >> 3);
    uint64_t v11 = 2 * v10;
    if (2 * v10 <= a4) {
      uint64_t v11 = a4;
    }
    unint64_t v12 = v10 >= 0x1C71C71C71C71C7 ? 0x38E38E38E38E38ELL : v11;
    if (v12 > 0x38E38E38E38E38ELL) {
LABEL_23:
    }
      std::vector<PXStoryAutoEditComposabilityScores>::__throw_length_error[abi:ne180100]();
    __n128 result = std::__allocate_at_least[abi:ne180100]<std::allocator<PFStoryDurationInfo>>(v12);
    BOOL v9 = (char *)result;
    *uint64_t v7 = result;
    v7[1] = result;
    CMTime v7[2] = &result[9 * v13];
    size_t v14 = a3 - v6;
    if (v14) {
      __n128 result = memmove(result, v6, v14);
    }
    id v15 = (void **)(v7 + 1);
    goto LABEL_22;
  }
  id v15 = (void **)(result + 1);
  uint64_t v16 = (unsigned char *)result[1];
  if (0x8E38E38E38E38E39 * ((v16 - v9) >> 3) >= a4)
  {
    size_t v14 = a3 - __src;
    if (a3 == __src) {
      goto LABEL_22;
    }
    long long v18 = (void *)*result;
LABEL_21:
    __n128 result = memmove(v18, __src, v14);
    goto LABEL_22;
  }
  CMTime v17 = &__src[8 * ((v16 - v9) >> 3)];
  if (v16 != v9)
  {
    __n128 result = memmove((void *)*result, __src, v16 - v9);
    BOOL v9 = (char *)*v15;
  }
  size_t v14 = a3 - v17;
  if (v14)
  {
    long long v18 = v9;
    __vImage_Buffer src = v17;
    goto LABEL_21;
  }
LABEL_22:
  id *v15 = &v9[v14];
  return result;
}

void *std::__allocate_at_least[abi:ne180100]<std::allocator<PFStoryDurationInfo>>(unint64_t a1)
{
  if (a1 >= 0x38E38E38E38E38FLL) {
    std::__throw_bad_array_new_length[abi:ne180100]();
  }
  return operator new(72 * a1);
}

void sub_1AB034118(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

void sub_1AB03456C(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

id PXVKCreateImageAnalysisInteraction(char a1)
{
  id v2 = objc_alloc_init(MEMORY[0x1E4FB3FD8]);
  uint64_t v3 = v2;
  if ((a1 & 1) == 0) {
    [v2 setWantsAutomaticContentsRectCalculation:0];
  }
  if (_os_feature_enabled_impl()) {
    [v3 setActionInfoViewHidden:0];
  }
  return v3;
}

void *PXVKCanCallScrollViewDidZoomToUnitRectForInteraction(void *a1, const char *a2)
{
  if (a1) {
    return (void *)[a1 actionInfoViewHidden];
  }
  return a1;
}

void PXVKInvertedNormalizedRect()
{
}

uint64_t PXVKSetUpResourcePurgingWhenApplicationIsHidden()
{
  return +[PXVisionKitUtilities ensureVisionKitResourcesArePurgedWhenAppIsHidden];
}

void PXHUDCenterViewInSuperview(void *a1)
{
  id v1 = a1;
  id v2 = [v1 centerXAnchor];
  uint64_t v3 = [v1 superview];
  uint64_t v4 = [v3 centerXAnchor];
  CMTimeEpoch v5 = [v2 constraintEqualToAnchor:v4];
  [v5 setActive:1];

  uint64_t v6 = [v1 centerYAnchor];
  uint64_t v7 = [v1 superview];
  uint64_t v8 = [v7 centerYAnchor];
  BOOL v9 = [v6 constraintEqualToAnchor:v8];
  [v9 setActive:1];

  unint64_t v10 = [v1 widthAnchor];
  uint64_t v11 = [v1 superview];
  unint64_t v12 = [v11 widthAnchor];
  uint64_t v13 = [v10 constraintEqualToAnchor:v12];
  [v13 setActive:1];

  id v17 = [v1 heightAnchor];
  size_t v14 = [v1 superview];

  id v15 = [v14 heightAnchor];
  uint64_t v16 = [v17 constraintEqualToAnchor:v15];
  [v16 setActive:1];
}

void sub_1AB03B930(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB03C938(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB03D818(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void getICQCurrentPremiumOfferChangedNotification()
{
  uint64_t v6 = 0;
  uint64_t v7 = &v6;
  uint64_t v8 = 0x2020000000;
  os_log_t v0 = (void **)getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr;
  uint64_t v9 = getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr;
  if (!getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr)
  {
    uint64_t v1 = iCloudQuotaLibrary_236241();
    void v7[3] = (uint64_t)dlsym(v1, "ICQCurrentPremiumOfferChangedNotification");
    getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr = v7[3];
    os_log_t v0 = (void **)v7[3];
  }
  _Block_object_dispose(&v6, 8);
  if (v0)
  {
    id v2 = *v0;
    id v3 = v2;
  }
  else
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    CMTimeEpoch v5 = [NSString stringWithUTF8String:"NSString *getICQCurrentPremiumOfferChangedNotification(void)"];
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudQuotaPremiumOfferProvider.m", 34, @"%s", dlerror());

    __break(1u);
  }
}

void sub_1AB03DFF8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getICQCurrentPremiumOfferChangedNotificationSymbolLoc_block_invoke(uint64_t a1)
{
  id v2 = iCloudQuotaLibrary_236241();
  __n128 result = dlsym(v2, "ICQCurrentPremiumOfferChangedNotification");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getICQCurrentPremiumOfferChangedNotificationSymbolLoc_ptr = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *iCloudQuotaLibrary_236241()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!iCloudQuotaLibraryCore_frameworkLibrary_236251)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __iCloudQuotaLibraryCore_block_invoke_236252;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DC8DA0;
    uint64_t v6 = 0;
    iCloudQuotaLibraryCore_frameworkLibrary_236251 = _sl_dlopen();
  }
  os_log_t v0 = (void *)iCloudQuotaLibraryCore_frameworkLibrary_236251;
  if (!iCloudQuotaLibraryCore_frameworkLibrary_236251)
  {
    os_log_t v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *iCloudQuotaLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudQuotaPremiumOfferProvider.m", 29, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __iCloudQuotaLibraryCore_block_invoke_236252()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaLibraryCore_frameworkLibrary_236251 = result;
  return result;
}

id getICQOfferManagerClass_236256()
{
  uint64_t v4 = 0;
  long long v5 = &v4;
  uint64_t v6 = 0x2050000000;
  os_log_t v0 = (void *)getICQOfferManagerClass_softClass_236257;
  uint64_t v7 = getICQOfferManagerClass_softClass_236257;
  if (!getICQOfferManagerClass_softClass_236257)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getICQOfferManagerClass_block_invoke_236258;
    void v3[3] = &unk_1E5DD2B08;
    _WORD v3[4] = &v4;
    __getICQOfferManagerClass_block_invoke_236258((uint64_t)v3);
    os_log_t v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AB03E31C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getICQOfferManagerClass_block_invoke_236258(uint64_t a1)
{
  iCloudQuotaLibrary_236241();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("ICQOfferManager");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getICQOfferManagerClass_softClass_236257 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getICQOfferManagerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXCloudQuotaPremiumOfferProvider.m", 32, @"Unable to find class %s", "ICQOfferManager");

    __break(1u);
  }
}

Class __getICQTileViewClass_block_invoke_236265(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_236266)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    _OWORD v6[3] = __iCloudQuotaUILibraryCore_block_invoke_236267;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DC8D88;
    uint64_t v8 = 0;
    iCloudQuotaUILibraryCore_frameworkLibrary_236266 = _sl_dlopen();
  }
  if (!iCloudQuotaUILibraryCore_frameworkLibrary_236266)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *iCloudQuotaUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXCloudQuotaPremiumOfferProvider.m", 28, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("ICQTileView");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v5 = [NSString stringWithUTF8String:"Class getICQTileViewClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXCloudQuotaPremiumOfferProvider.m", 31, @"Unable to find class %s", "ICQTileView");

LABEL_10:
    __break(1u);
  }
  getICQTileViewClass_softClass_236264 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __iCloudQuotaUILibraryCore_block_invoke_236267()
{
  uint64_t result = _sl_dlopen();
  iCloudQuotaUILibraryCore_frameworkLibrary_236266 = result;
  return result;
}

void sub_1AB03E7BC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB03ED9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__236356(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__236357(uint64_t a1)
{
}

void sub_1AB03F784(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,char a27)
{
}

void sub_1AB042A44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *PXGVisionRenderTextureReuseTypeDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"unexpected";
  }
  else {
    return off_1E5DC8ED8[a1];
  }
}

__CFString *PXGVisionRecordingSkippedRenderReasonTypeDescription(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) > 2) {
    return @"none";
  }
  else {
    return off_1E5DC8F00[a1 - 1];
  }
}

void sub_1AB045254(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB045738(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB045A8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB048504(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
}

uint64_t __Block_byref_object_copy__237370(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__237371(uint64_t a1)
{
}

void sub_1AB048D4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose((const void *)(v35 - 208), 8);
  _Block_object_dispose((const void *)(v35 - 176), 8);
  _Unwind_Resume(a1);
}

void sub_1AB049838(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,char a37)
{
  _Block_object_dispose(&a37, 8);
  _Block_object_dispose((const void *)(v37 - 224), 8);
  _Block_object_dispose((const void *)(v37 - 192), 8);
  _Block_object_dispose((const void *)(v37 - 160), 8);
  _Unwind_Resume(a1);
}

void sub_1AB04BD70(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB04C364(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB04C7B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

PXProgrammaticNavigationDestination *PXLemonadeReroutedProgrammaticDestination(void *a1)
{
  id v1 = a1;
  id v2 = [(PXProgrammaticNavigationDestination *)v1 asset];
  id v3 = [(PXProgrammaticNavigationDestination *)v1 collection];
  int v4 = objc_msgSend(v3, "px_isRecentsSmartAlbum");

  long long v5 = v1;
  if (v4)
  {
    uint64_t v6 = [(PXProgrammaticNavigationDestination *)v1 asset];
    if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0) {
      id v7 = v6;
    }
    else {
      id v7 = 0;
    }

    if ([v7 isScreenRecording]
      && (+[PXUserDefaults standardUserDefaults],
          uint64_t v8 = objc_claimAutoreleasedReturnValue(),
          [v8 includeScreenshots],
          uint64_t v9 = objc_claimAutoreleasedReturnValue(),
          char v10 = [v9 BOOLValue],
          v9,
          v8,
          (v10 & 1) == 0))
    {
      uint64_t v13 = [v7 photoLibrary];
      uint64_t v11 = objc_msgSend(v13, "px_assetCollectionForSmartAlbumWithSubtype:", 1000000207);

      uint64_t v12 = 7;
    }
    else
    {
      uint64_t v11 = 0;
      uint64_t v12 = 5;
    }
    long long v5 = [[PXProgrammaticNavigationDestination alloc] initWithType:v12 revealMode:[(PXProgrammaticNavigationDestination *)v1 revealMode] asset:v2 assetCollection:v11];
  }
  return v5;
}

__CFString *PXVideoLoadingPriorityDescription(unint64_t a1)
{
  if (a1 > 6) {
    return @"??";
  }
  else {
    return off_1E5DC9228[a1];
  }
}

void PXStoryMediaSizeForDisplayAssetClipInfo(uint64_t a1)
{
  if ((*(void *)(a1 + 8) | 4) == 5)
  {
    if (*(double *)(a1 + 160) == INFINITY && *(double *)(a1 + 168) == INFINITY)
    {
      CGFloat v1 = *(double *)(a1 + 208);
      CGFloat v2 = *(double *)(a1 + 216);
      CGFloat v4 = *(double *)(a1 + 224);
      CGFloat v3 = *(double *)(a1 + 232);
      CGFloat v13 = *(double *)(a1 + 248);
      CGFloat v14 = *(double *)(a1 + 240);
      CGFloat v11 = *(double *)(a1 + 264);
      CGFloat v12 = *(double *)(a1 + 256);
      CGFloat v9 = *(double *)(a1 + 280);
      CGFloat v10 = *(double *)(a1 + 272);
      CGFloat v7 = *(double *)(a1 + 296);
      CGFloat v8 = *(double *)(a1 + 288);
      v18.origin.CGFloat x = INFINITY;
      v18.size.CGFloat width = 0.0;
      v18.size.CGFloat height = 0.0;
      v18.origin.CGFloat y = INFINITY;
      if (CGRectEqualToRect(*(CGRect *)(a1 + 176), v18))
      {
        v19.origin.CGFloat x = INFINITY;
        v19.size.CGFloat width = 0.0;
        v19.size.CGFloat height = 0.0;
        v15.origin.CGFloat x = v1;
        v15.origin.CGFloat y = v2;
        v15.size.CGFloat width = v4;
        v15.size.CGFloat height = v3;
        v19.origin.CGFloat y = INFINITY;
        if (CGRectEqualToRect(v15, v19))
        {
          v20.origin.CGFloat x = INFINITY;
          v20.size.CGFloat width = 0.0;
          v20.size.CGFloat height = 0.0;
          v16.origin.CGFloat y = v13;
          v16.origin.CGFloat x = v14;
          v16.size.CGFloat height = v11;
          v16.size.CGFloat width = v12;
          v20.origin.CGFloat y = INFINITY;
          if (CGRectEqualToRect(v16, v20))
          {
            v21.origin.CGFloat x = INFINITY;
            v21.size.CGFloat width = 0.0;
            v21.size.CGFloat height = 0.0;
            v17.origin.CGFloat y = v9;
            v17.origin.CGFloat x = v10;
            v17.size.CGFloat height = v7;
            v17.size.CGFloat width = v8;
            v21.origin.CGFloat y = INFINITY;
            if (CGRectEqualToRect(v17, v21)) {
              PXSizeScale();
            }
          }
        }
      }
    }
    PXRectWithOriginAndSize();
  }
  long long v5 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "CGSize PXStoryMediaSizeForDisplayAssetClipInfo(PXStoryClipInfo, CGFloat)");
  [v5 handleFailureInFunction:v6 file:@"PXStoryClipGeometryUtilities.m" lineNumber:44 description:@"Only clips with PXStoryResourceKindDisplayAsset and PXStoryResourceKindFrameFillingEffect resource kinds are supported"];

  abort();
}

void __PXStoryMediaSizeForDisplayAssetClipInfo_block_invoke()
{
}

void __PXStoryMediaSizeForDisplayAssetClipInfo_block_invoke_2()
{
}

void sub_1AB050D80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__238006(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__238007(uint64_t a1)
{
}

void sub_1AB052CCC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB054D80(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB05588C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB055A7C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB057CA4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0589E4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
  _Block_object_dispose(&a31, 8);
  _Block_object_dispose(&a35, 8);
  _Block_object_dispose((const void *)(v35 - 208), 8);
  _Block_object_dispose((const void *)(v35 - 176), 8);
  _Block_object_dispose((const void *)(v35 - 144), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__238387(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__238388(uint64_t a1)
{
}

void sub_1AB059AE8(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 120));
  _Unwind_Resume(a1);
}

void sub_1AB05A7DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AB05BCF0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB05BF70(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__238725(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__238726(uint64_t a1)
{
}

void sub_1AB05D270(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  objc_destroyWeak(v29);
  objc_destroyWeak(&location);
  _Block_object_dispose(&a29, 8);
  _Unwind_Resume(a1);
}

id CALayerContentsGravityFromPXGContentsGravity(unsigned int a1)
{
  uint64_t v3 = *MEMORY[0x1E4F143B8];
  if (a1 >= 0xE) {
    PXAssertGetLog();
  }
  uint64_t v1 = (void *)**((void **)&unk_1E5DC9968 + a1);
  return v1;
}

id PXGGetSingleViewLayoutFromView(void *a1)
{
  return objc_getAssociatedObject(a1, (const void *)PXGSingleViewLayoutAssociationKey);
}

void sub_1AB060868(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB06B038(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
}

void sub_1AB06D9C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__241777(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__241778(uint64_t a1)
{
}

void sub_1AB070138(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0708AC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

__CFString *verifiedTypeToString(uint64_t a1)
{
  if ((unint64_t)(a1 + 2) > 4) {
    return @"Unknown";
  }
  else {
    return off_1E5DC9C80[a1 + 2];
  }
}

uint64_t PXMakeNextTextureRequestIDRange(unsigned int a1)
{
  return (int)atomic_fetch_add(PXMakeNextTextureRequestIDRange_lastRequestID, a1);
}

__CFString *PXStoryColorResultTypeDescription(unint64_t a1)
{
  if (a1 > 2) {
    return @"??";
  }
  else {
    return off_1E5DC9D88[a1];
  }
}

void sub_1AB074CFC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB07504C(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB07519C(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB075244(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB07546C(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB07564C(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB075C88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__243087(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__243088(uint64_t a1)
{
}

void sub_1AB07E0EC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, id *location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(v12);
  objc_destroyWeak(v13);
  objc_destroyWeak(v18);
  objc_destroyWeak(v17);
  objc_destroyWeak(v16);
  objc_destroyWeak(v15);
  objc_destroyWeak(location);
  objc_destroyWeak((id *)(v19 - 168));
  _Unwind_Resume(a1);
}

void sub_1AB080E1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,char a39)
{
}

void sub_1AB081BD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,char a63)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a63, 8);
  _Block_object_dispose(&a69, 8);
  _Block_object_dispose(&STACK[0x210], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__244672(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__244673(uint64_t a1)
{
}

void sub_1AB0833DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,char a49)
{
}

void sub_1AB083BA0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void ___predicateByStrippingNoIndex_block_invoke()
{
  id v5 = 0;
  uint64_t v0 = [MEMORY[0x1E4F28FD8] regularExpressionWithPattern:@"noindex:\\((.*?)\\)" options:0 error:&v5];
  id v1 = v5;
  uint64_t v2 = (void *)_predicateByStrippingNoIndex_regexp;
  _predicateByStrippingNoIndex_regexp = v0;

  if (!_predicateByStrippingNoIndex_regexp)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    CGFloat v4 = [NSString stringWithUTF8String:"NSPredicate *_predicateByStrippingNoIndex(NSPredicate *__strong)_block_invoke"];
    [v3 handleFailureInFunction:v4, @"PXPhotosDataSource.m", 114, @"Error creating regexp:%@", v1 file lineNumber description];
  }
}

void sub_1AB087A8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,char a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26)
{
  _Block_object_dispose(&a22, 8);
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose((const void *)(v26 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AB08C544(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB08E728(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB08EA10(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

BOOL _textureMatchesSize(void *a1, void *a2, uint64_t a3)
{
  id v5 = a1;
  BOOL v6 = [v5 width] == *a2
    && [v5 height] == a2[1]
    && [v5 depth] == a2[2]
    && [v5 pixelFormat] == a3;

  return v6;
}

uint64_t __Block_byref_object_copy__245791(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__245792(uint64_t a1)
{
}

void sub_1AB092238(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__246500(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__246501(uint64_t a1)
{
}

void sub_1AB092534(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB092934(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB092D5C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__246536(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__246537(uint64_t a1)
{
}

void sub_1AB0955C0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0958F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB096204(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,id location,char a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,char a57,uint64_t a58,uint64_t a59,uint64_t a60,char a61)
{
  objc_destroyWeak(&location);
  _Block_object_dispose(&a51, 8);
  _Block_object_dispose(&a57, 8);
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose((const void *)(v61 - 224), 8);
  _Block_object_dispose((const void *)(v61 - 256), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__247015(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__247016(uint64_t a1)
{
}

void sub_1AB096914(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AB096D3C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Block_object_dispose((const void *)(v2 - 136), 8);
  objc_destroyWeak((id *)(v2 - 104));
  _Unwind_Resume(a1);
}

void sub_1AB097050(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0979F0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location)
{
}

void sub_1AB097FF8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,char a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a58, 8);
  _Block_object_dispose(&a64, 8);
  _Block_object_dispose((const void *)(v64 - 248), 8);
  _Block_object_dispose((const void *)(v64 - 200), 8);
  _Unwind_Resume(a1);
}

void sub_1AB099170(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB099FF8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB09A5D4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXSharedLibraryDateConditionForSelectedStartDate(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1C9D8];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  [v3 setDay:-1];
  CGFloat v4 = [MEMORY[0x1E4F1C9A8] currentCalendar];
  id v5 = [v4 dateByAddingComponents:v3 toDate:v2 options:0];

  id v6 = objc_alloc_init(MEMORY[0x1E4F39120]);
  [v6 setCriteria:2];
  CGFloat v7 = [MEMORY[0x1E4F1C9C8] distantPast];
  [v6 setStartDate:v7];

  [v6 setEndDate:v5];
  return v6;
}

id PXSharedLibraryStartDateFromExclusiveCondition(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F1C9D8];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  [v3 setDay:1];
  CGFloat v4 = [v2 endDate];

  id v5 = [MEMORY[0x1E4F1C9A8] currentCalendar];
  id v6 = [v5 dateByAddingComponents:v3 toDate:v4 options:0];

  return v6;
}

id PXSharedLibraryPersonConditionForSelectedPeople(void *a1)
{
  uint64_t v1 = (objc_class *)MEMORY[0x1E4F39128];
  id v2 = a1;
  id v3 = objc_alloc_init(v1);
  [v3 setCriteria:1];
  [v3 setPersonUUIDs:v2];

  return v3;
}

void PXSharedLibrarySetupLibraryScope(void *a1, void *a2, void *a3, __int16 a4, void *a5, void *a6, void *a7, void *a8, void *a9)
{
  id v16 = a1;
  id v17 = a2;
  id v18 = a3;
  id v57 = a5;
  id v62 = a6;
  id v19 = a7;
  id v20 = a8;
  id v21 = a9;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v59 = v16;
  if (v16)
  {
    if (v17) {
      goto LABEL_3;
    }
LABEL_23:
    long long v48 = [MEMORY[0x1E4F28B00] currentHandler];
    id v49 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v48 handleFailureInFunction:v49, @"PXSharedLibraryPhotoKitUtilities.m", 545, @"Invalid parameter not satisfying: %@", @"emailAddresses" file lineNumber description];

    if (v18) {
      goto LABEL_4;
    }
    goto LABEL_24;
  }
  long long v46 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v47 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v46 handleFailureInFunction:v47, @"PXSharedLibraryPhotoKitUtilities.m", 544, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

  if (!v17) {
    goto LABEL_23;
  }
LABEL_3:
  if (v18) {
    goto LABEL_4;
  }
LABEL_24:
  long long v50 = [MEMORY[0x1E4F28B00] currentHandler];
  id v51 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v50 handleFailureInFunction:v51, @"PXSharedLibraryPhotoKitUtilities.m", 546, @"Invalid parameter not satisfying: %@", @"phoneNumbers" file lineNumber description];

LABEL_4:
  if (!v62)
  {
    id v52 = [MEMORY[0x1E4F28B00] currentHandler];
    id v53 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v52 handleFailureInFunction:v53, @"PXSharedLibraryPhotoKitUtilities.m", 547, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];
  }
  id v60 = v17;
  if (!v20)
  {
    id v54 = [MEMORY[0x1E4F28B00] currentHandler];
    id v55 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibrarySetupLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v54 handleFailureInFunction:v55, @"PXSharedLibraryPhotoKitUtilities.m", 548, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];
  }
  uint64_t v94 = 0;
  unint64_t v95 = &v94;
  uint64_t v96 = 0x3032000000;
  v97 = __Block_byref_object_copy__247647;
  v98 = __Block_byref_object_dispose__247648;
  id v99 = 0;
  v92[0] = 0;
  v92[1] = v92;
  v92[2] = 0x2020000000;
  char v93 = 0;
  id v58 = v18;
  uint64_t v61 = v21;
  if (v19)
  {
LABEL_11:
    __int16 v28 = a4;
    v86[0] = MEMORY[0x1E4F143A8];
    v86[1] = 3221225472;
    v86[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_240;
    v86[3] = &unk_1E5DCABF8;
    id v56 = v19;
    id v29 = v19;
    id v87 = v29;
    id v30 = v21;
    id v88 = v30;
    uint64_t v31 = _Block_copy(v86);
    v83[0] = MEMORY[0x1E4F143A8];
    v83[1] = 3221225472;
    v83[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_245;
    v83[3] = &unk_1E5DCAC20;
    unint64_t v85 = &v94;
    id v84 = v20;
    long long v32 = _Block_copy(v83);
    id v33 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v34 = [v33 simulateErrorType];

    if (v34 == 1)
    {
      dispatch_time_t v35 = dispatch_time(0, 5000000000);
      v79[0] = MEMORY[0x1E4F143A8];
      v79[1] = 3221225472;
      v79[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_3;
      v79[3] = &unk_1E5DCAC48;
      v82[1] = v92;
      long long v36 = &v80;
      id v80 = v29;
      uint64_t v37 = &v81;
      id v81 = v32;
      long long v38 = (id *)v82;
      v82[0] = v30;
      id v39 = MEMORY[0x1E4F14428];
      uint64_t v40 = v79;
    }
    else
    {
      id v41 = +[PXSharedLibrarySettings sharedInstance];
      uint64_t v42 = [v41 simulateErrorType];

      if (v42 != 2)
      {
        v63[0] = MEMORY[0x1E4F143A8];
        v63[1] = 3221225472;
        v63[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2_257;
        v63[3] = &unk_1E5DCAD38;
        long long v73 = v92;
        id v64 = v29;
        id v70 = v31;
        id v71 = v32;
        __n128 v72 = v30;
        __int16 v74 = v28;
        id v65 = v59;
        id v66 = v57;
        id v67 = v62;
        id v68 = v17;
        id v69 = v18;
        _CreateLibraryScope(v65, v68, v69, v63);
        long long v36 = &v64;
        uint64_t v37 = &v70;
        long long v38 = &v71;

        id v39 = v72;
        goto LABEL_17;
      }
      dispatch_time_t v35 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2_252;
      block[3] = &unk_1E5DCAC48;
      v78[1] = v92;
      long long v36 = &v76;
      id v76 = v29;
      uint64_t v37 = &v77;
      id v77 = v32;
      long long v38 = (id *)v78;
      v78[0] = v30;
      id v39 = MEMORY[0x1E4F14428];
      uint64_t v40 = block;
    }
    dispatch_after(v35, v39, v40);
LABEL_17:
    uint64_t v43 = &v87;

    long long v24 = v88;
    id v17 = v60;
    long long v22 = v56;
    goto LABEL_18;
  }
  long long v22 = 0;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibrarySetupLibraryScope_block_invoke;
  aBlock[3] = &unk_1E5DD35B8;
  v91[1] = v92;
  id v23 = v21;
  v91[0] = v23;
  long long v24 = _Block_copy(aBlock);
  uint64_t v25 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPublishingProgressTitle");
  uint64_t v26 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v25, v20, v24);
  uint64_t v27 = (void *)v95[5];
  v95[5] = v26;

  if (v95[5])
  {

    id v19 = 0;
    id v21 = v61;
    goto LABEL_11;
  }
  uint64_t v44 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v44, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v44, OS_LOG_TYPE_ERROR, "Failed to present Create Shared Library progress alert", buf, 2u);
  }

  uint64_t v45 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present Create Shared Library progress alert");
  _HandleError(v45, v23);
  uint64_t v43 = v91;

LABEL_18:
  _Block_object_dispose(v92, 8);
  _Block_object_dispose(&v94, 8);
}

void sub_1AB09C9B8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__247647(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__247648(uint64_t a1)
{
}

void __PXSharedLibrarySetupLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)CGFloat v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Create Shared Library", v4, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  id v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Create Shared Library");
  _HandleError(v3, *(void **)(a1 + 32));
}

void _HandleError(void *a1, void *a2)
{
  id v4 = a1;
  id v3 = a2;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v3) {
    v3[2](v3, 0, v4);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_240(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = v3;
  if (v3) {
    _ExpungeLibraryScope(v3, 0);
  }
  if ([*(id *)(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
    id v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)CGFloat v7 = 0;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    id v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(void **)(a1 + 40));
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_245(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = v3;
  id v5 = *(void **)(*(void *)(*(void *)(a1 + 40) + 8) + 40);
  if (v5)
  {
    id v6 = *(void **)(a1 + 32);
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_2;
    void v7[3] = &unk_1E5DD3128;
    CGFloat v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }
  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_3(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    id v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Failed", buf, 2u);
    }

    id v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Create Shared Library Failed");
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_251;
    void v7[3] = &unk_1E5DD3280;
    id v8 = v3;
    uint64_t v4 = *(void *)(a1 + 40);
    id v9 = *(id *)(a1 + 48);
    id v5 = *(void (**)(uint64_t, void *))(v4 + 16);
    id v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_2_252(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    id v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Failed (CPLExitMode)", buf, 2u);
    }

    id v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 6007, @"Simulated Error: Create Shared Library Failed (CPLExitMode)");
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_256;
    void v7[3] = &unk_1E5DD3280;
    id v8 = v3;
    uint64_t v4 = *(void *)(a1 + 40);
    id v9 = *(id *)(a1 + 48);
    id v5 = *(void (**)(uint64_t, void *))(v4 + 16);
    id v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_2_257(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 104) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
  }
  else
  {
    if (v5)
    {
      unsigned int v7 = *(__int16 *)(a1 + 112);
      id v8 = *(void **)(a1 + 40);
      id v9 = *(void **)(a1 + 48);
      CGFloat v10 = *(void **)(a1 + 56);
      CGFloat v11 = *(void **)(a1 + 64);
      uint64_t v12 = *(void **)(a1 + 72);
      v15[0] = MEMORY[0x1E4F143A8];
      v15[1] = 3221225472;
      void v15[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_4;
      v15[3] = &unk_1E5DCAD10;
      uint64_t v21 = *(void *)(a1 + 104);
      id v16 = *(id *)(a1 + 32);
      id v18 = *(id *)(a1 + 80);
      id v17 = v5;
      id v19 = *(id *)(a1 + 88);
      id v20 = *(id *)(a1 + 96);
      __int16 v22 = *(_WORD *)(a1 + 112);
      _UpdateRulesForLibraryScope(v17, v7, v8, v9, v10, v11, v12, v15);

      CGFloat v13 = v16;
    }
    else
    {
      uint64_t v14 = *(void *)(a1 + 88);
      v23[0] = MEMORY[0x1E4F143A8];
      v23[1] = 3221225472;
      void v23[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_3_258;
      void v23[3] = &unk_1E5DD3280;
      id v24 = v6;
      id v25 = *(id *)(a1 + 96);
      (*(void (**)(uint64_t, void *))(v14 + 16))(v14, v23);

      CGFloat v13 = v24;
    }
  }
}

void _CreateLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  uint64_t v38 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v10 = a4;
  CGFloat v11 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v12 = [v8 count];
    CGFloat v13 = [v8 componentsJoinedByString:@", "];
    uint64_t v14 = [v9 count];
    uint64_t v15 = [v9 componentsJoinedByString:@", "];
    *(_DWORD *)long long buf = 134218754;
    *(void *)&uint8_t buf[4] = v12;
    *(_WORD *)&buf[12] = 2112;
    *(void *)&buf[14] = v13;
    *(_WORD *)&buf[22] = 2048;
    long long v36 = (uint64_t (*)(uint64_t, uint64_t))v14;
    LOWORD(v37) = 2112;
    *(void *)((char *)&v37 + 2) = v15;
    _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Will create library scope with %lu email addresses: %@, %lu phone numbers: %@", buf, 0x2Au);
  }
  id v16 = PLSharedLibraryGetLog();
  os_signpost_id_t v17 = os_signpost_id_generate(v16);
  id v18 = v16;
  id v19 = v18;
  if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "CreateLibraryScope", "", buf, 2u);
  }

  *(void *)long long buf = 0;
  *(void *)&uint8_t buf[8] = buf;
  *(void *)&uint8_t buf[16] = 0x3032000000;
  long long v36 = __Block_byref_object_copy__247647;
  *(void *)&long long v37 = __Block_byref_object_dispose__247648;
  *((void *)&v37 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 0;
  v31[0] = MEMORY[0x1E4F143A8];
  v31[1] = 3221225472;
  v31[2] = ___CreateLibraryScope_block_invoke;
  v31[3] = &unk_1E5DCCA20;
  uint64_t v34 = buf;
  id v20 = v8;
  id v32 = v20;
  id v21 = v9;
  id v33 = v21;
  v25[0] = MEMORY[0x1E4F143A8];
  v25[1] = 3221225472;
  v25[2] = ___CreateLibraryScope_block_invoke_4;
  v25[3] = &unk_1E5DCB138;
  __int16 v22 = v19;
  id v29 = buf;
  os_signpost_id_t v30 = v17;
  uint64_t v26 = v22;
  id v23 = v7;
  id v27 = v23;
  id v24 = v10;
  id v28 = v24;
  [v23 performChanges:v31 completionHandler:v25];

  _Block_object_dispose(buf, 8);
}

void sub_1AB09D484(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, ...)
{
  va_start(va, a17);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_3_258(uint64_t a1)
{
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      unsigned int v6 = *(__int16 *)(a1 + 80);
      v11[0] = MEMORY[0x1E4F143A8];
      v11[1] = 3221225472;
      void v11[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_6;
      void v11[3] = &unk_1E5DCAC98;
      uint64_t v17 = *(void *)(a1 + 72);
      id v7 = *(void **)(a1 + 40);
      id v12 = *(id *)(a1 + 32);
      id v14 = *(id *)(a1 + 48);
      id v13 = *(id *)(a1 + 40);
      id v15 = *(id *)(a1 + 56);
      id v16 = *(id *)(a1 + 64);
      id v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v7, v6, v11);
      if (v8)
      {
        objc_msgSend(*(id *)(a1 + 32), "setTotalUnitCount:", objc_msgSend(*(id *)(a1 + 32), "totalUnitCount") + 1);
        [*(id *)(a1 + 32) addChild:v8 withPendingUnitCount:1];
      }

      id v9 = v12;
    }
    else
    {
      uint64_t v10 = *(void *)(a1 + 56);
      v18[0] = MEMORY[0x1E4F143A8];
      v18[1] = 3221225472;
      void v18[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_5;
      void v18[3] = &unk_1E5DD0E78;
      id v19 = *(id *)(a1 + 40);
      id v20 = v5;
      id v21 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v10 + 16))(v10, v18);

      id v9 = v19;
    }
  }
}

void _UpdateRulesForLibraryScope(void *a1, unsigned int a2, void *a3, void *a4, void *a5, void *a6, void *a7, void *a8)
{
  uint64_t v131 = *MEMORY[0x1E4F143B8];
  id v80 = a1;
  id v14 = a3;
  id v15 = a4;
  id v16 = a5;
  id v82 = a6;
  id v17 = a7;
  id v78 = a8;
  id v18 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v18, OS_LOG_TYPE_DEFAULT))
  {
    id v19 = _PHLibraryScopeAutoSharePolicyDescription(a2);
    id v20 = [v16 componentsJoinedByString:@", "];
    id v21 = [v80 localIdentifier];
    *(_DWORD *)long long buf = 138544130;
    id v124 = v19;
    __int16 v125 = 2112;
    id v126 = v15;
    __int16 v127 = 2114;
    unint64_t v128 = v20;
    __int16 v129 = 2114;
    uint64_t v130 = v21;
    _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_DEFAULT, "Will update rules (policy:%{public}@, date:%@, person uuids:(%{public}@)) for library scope with identifier: %{public}@", buf, 0x2Au);
  }
  __int16 v22 = PLSharedLibraryGetLog();
  os_signpost_id_t v23 = os_signpost_id_generate(v22);
  id v24 = v22;
  id v25 = v24;
  if (v23 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v24))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v25, OS_SIGNPOST_INTERVAL_BEGIN, v23, "UpdateRulesForLibraryScope", "", buf, 2u);
  }
  unint64_t v79 = v15;

  if (!v14 && ([v82 count] || objc_msgSend(v17, "count")))
  {
    id v71 = [MEMORY[0x1E4F28B00] currentHandler];
    __n128 v72 = objc_msgSend(NSString, "stringWithUTF8String:", "void _UpdateRulesForLibraryScope(PHLibraryScope *__strong, PHLibraryScopeAutoSharePolicy, PHPhotoLibrary * _Nullable __strong, NSDate * _Nullable __strong, NSArray<NSString *> *__strong, NSArray<NSString *> *__strong, NSArray<NSString *> *__strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v71 handleFailureInFunction:v72, @"PXSharedLibraryPhotoKitUtilities.m", 365, @"Invalid parameter not satisfying: %@", @"personRuleEmailAddresses.count == 0 && personRulePhoneNumbers.count == 0" file lineNumber description];
  }
  id v26 = v16;
  id v27 = "TTRWorkflowBuilder";
  id v28 = v26;
  if (![v26 count])
  {
    id v74 = v26;
    os_signpost_id_t v75 = v23;
    long long v73 = v25;
    id v76 = v14;
    id v77 = v17;
    id v29 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
    id v86 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
    unint64_t v85 = +[PXPeopleUtilities sharedContactStore];
    id v30 = objc_alloc(MEMORY[0x1E4F1B908]);
    uint64_t v31 = *MEMORY[0x1E4F1AEE0];
    v122[0] = *MEMORY[0x1E4F1ADC8];
    v122[1] = v31;
    v122[2] = *MEMORY[0x1E4F1AFA8];
    id v32 = [MEMORY[0x1E4F1C978] arrayWithObjects:v122 count:3];
    id v33 = (void *)[v30 initWithKeysToFetch:v32];

    long long v114 = 0u;
    long long v115 = 0u;
    long long v112 = 0u;
    long long v113 = 0u;
    id v34 = v82;
    uint64_t v35 = [v34 countByEnumeratingWithState:&v112 objects:v121 count:16];
    id v84 = v29;
    if (v35)
    {
      uint64_t v36 = v35;
      uint64_t v37 = *(void *)v113;
      do
      {
        for (uint64_t i = 0; i != v36; ++i)
        {
          if (*(void *)v113 != v37) {
            objc_enumerationMutation(v34);
          }
          id v39 = [MEMORY[0x1E4F1B8F8] predicateForContactsMatchingEmailAddress:*(void *)(*((void *)&v112 + 1) + 8 * i)];
          [v33 setPredicate:v39];

          id v111 = 0;
          v108[0] = MEMORY[0x1E4F143A8];
          v108[1] = 3221225472;
          v108[2] = ___UpdateRulesForLibraryScope_block_invoke;
          v108[3] = &unk_1E5DCB160;
          id v109 = v29;
          id v110 = v86;
          [v85 enumerateContactsWithFetchRequest:v33 error:&v111 usingBlock:v108];
          id v40 = v111;
          if (v40)
          {
            id v41 = PLSharedLibraryGetLog();
            if (os_log_type_enabled(v41, OS_LOG_TYPE_ERROR))
            {
              *(_DWORD *)long long buf = 138412290;
              id v124 = v40;
              _os_log_impl(&dword_1A9AE7000, v41, OS_LOG_TYPE_ERROR, "Error fetching contacts:%@", buf, 0xCu);
            }

            id v29 = v84;
          }
        }
        uint64_t v36 = [v34 countByEnumeratingWithState:&v112 objects:v121 count:16];
      }
      while (v36);
    }

    long long v106 = 0u;
    long long v107 = 0u;
    long long v104 = 0u;
    long long v105 = 0u;
    id v42 = v77;
    uint64_t v43 = [v42 countByEnumeratingWithState:&v104 objects:v120 count:16];
    if (v43)
    {
      uint64_t v44 = v43;
      uint64_t v45 = *(void *)v105;
      do
      {
        for (uint64_t j = 0; j != v44; ++j)
        {
          if (*(void *)v105 != v45) {
            objc_enumerationMutation(v42);
          }
          long long v47 = (void *)[objc_alloc(MEMORY[0x1E4F1BA70]) initWithStringValue:*(void *)(*((void *)&v104 + 1) + 8 * j)];
          long long v48 = [MEMORY[0x1E4F1B8F8] predicateForContactsMatchingPhoneNumber:v47];
          [v33 setPredicate:v48];

          id v103 = 0;
          v100[0] = MEMORY[0x1E4F143A8];
          v100[1] = 3221225472;
          v100[2] = ___UpdateRulesForLibraryScope_block_invoke_639;
          v100[3] = &unk_1E5DCB160;
          id v101 = v84;
          id v102 = v86;
          [v85 enumerateContactsWithFetchRequest:v33 error:&v103 usingBlock:v100];
          id v49 = v103;
          if (v49)
          {
            long long v50 = PLSharedLibraryGetLog();
            if (os_log_type_enabled(v50, OS_LOG_TYPE_ERROR))
            {
              *(_DWORD *)long long buf = 138412290;
              id v124 = v49;
              _os_log_impl(&dword_1A9AE7000, v50, OS_LOG_TYPE_ERROR, "Error fetching contacts:%@", buf, 0xCu);
            }
          }
        }
        uint64_t v44 = [v42 countByEnumeratingWithState:&v104 objects:v120 count:16];
      }
      while (v44);
    }

    id v26 = v74;
    os_signpost_id_t v23 = v75;
    id v28 = v74;
    if ([v84 count])
    {
      id v51 = (void *)MEMORY[0x1E4F391F0];
      id v52 = [v76 librarySpecificFetchOptions];
      id v53 = [v51 fetchPersonsForContacts:v84 options:v52];

      id v54 = v53;
      id v55 = v86;
      id v56 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
      long long v116 = 0u;
      long long v117 = 0u;
      long long v118 = 0u;
      long long v119 = 0u;
      id obj = v54;
      uint64_t v57 = [obj countByEnumeratingWithState:&v116 objects:buf count:16];
      if (v57)
      {
        uint64_t v58 = v57;
        uint64_t v59 = *(void *)v117;
        do
        {
          for (uint64_t k = 0; k != v58; ++k)
          {
            if (*(void *)v117 != v59) {
              objc_enumerationMutation(obj);
            }
            uint64_t v61 = *(void **)(*((void *)&v116 + 1) + 8 * k);
            id v62 = NSNumber;
            __n128 v63 = [v61 personUri];
            id v64 = objc_msgSend(v62, "numberWithUnsignedInteger:", objc_msgSend(v55, "indexOfObject:", v63));
            [v56 setObject:v64 forKeyedSubscript:v61];
          }
          uint64_t v58 = [obj countByEnumeratingWithState:&v116 objects:buf count:16];
        }
        while (v58);
      }

      [v56 keysSortedByValueUsingComparator:&__block_literal_global_647];
      objc_claimAutoreleasedReturnValue();

      PXMap();
    }

    id v14 = v76;
    id v17 = v77;
    id v25 = v73;
    id v27 = "TTRWorkflowBuilder";
  }
  id v65 = [v80 photoLibrary];
  uint64_t v92 = MEMORY[0x1E4F143A8];
  uint64_t v93 = *((void *)v27 + 415);
  uint64_t v94 = ___UpdateRulesForLibraryScope_block_invoke_2;
  unint64_t v95 = &unk_1E5DCB188;
  __int16 v99 = a2;
  id v96 = v80;
  id v97 = v79;
  id v98 = v28;
  v87[0] = MEMORY[0x1E4F143A8];
  v87[1] = v93;
  v87[2] = ___UpdateRulesForLibraryScope_block_invoke_3;
  v87[3] = &unk_1E5DCB090;
  id v88 = v25;
  id v89 = v96;
  os_signpost_id_t v91 = v23;
  id v90 = v78;
  id v66 = v79;
  id v67 = v28;
  id v68 = v25;
  id v69 = v96;
  id v70 = v78;
  [v65 performChanges:&v92 completionHandler:v87];
}

__CFString *_PHLibraryScopeAutoSharePolicyDescription(unsigned int a1)
{
  if (a1 >= 3)
  {
    objc_msgSend(NSString, "stringWithFormat:", @"Invalid PHLibraryScopeAutoSharePolicy: %ld", (int)a1);
    uint64_t v1 = (__CFString *)objc_claimAutoreleasedReturnValue();
  }
  else
  {
    uint64_t v1 = off_1E5DCB268[(unsigned __int16)a1];
  }
  return v1;
}

uint64_t ___peopleSortedByURIs_block_invoke(uint64_t a1, void *a2)
{
  return objc_msgSend(a2, "compare:");
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  id v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_6(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  v7[0] = MEMORY[0x1E4F143A8];
  v7[1] = 3221225472;
  CMTime v7[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_7;
  void v7[3] = &unk_1E5DCACE8;
  uint64_t v14 = *(void *)(a1 + 72);
  id v8 = *(id *)(a1 + 32);
  id v11 = *(id *)(a1 + 48);
  id v9 = *(id *)(a1 + 40);
  char v15 = a2;
  id v12 = *(id *)(a1 + 56);
  id v10 = v5;
  id v13 = *(id *)(a1 + 64);
  id v6 = v5;
  dispatch_async(MEMORY[0x1E4F14428], v7);
}

id _MarkSharedAssetsForLibraryScopeIfNecessary(void *a1, unsigned int a2, void *a3)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a3;
  id v7 = PLSharedLibraryGetLog();
  BOOL v8 = os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT);
  if ((unsigned __int16)(a2 - 1) > 1u)
  {
    if (v8)
    {
      id v17 = [v5 localIdentifier];
      id v18 = _PHLibraryScopeAutoSharePolicyDescription(a2);
      *(_DWORD *)long long buf = 138543618;
      id v26 = v17;
      __int16 v27 = 2114;
      id v28 = v18;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "No need to mark shared assets for library scope with identifier: %{public}@ (policy: %{public}@)", buf, 0x16u);
    }
    v6[2](v6, 1, 0);
    id v16 = 0;
  }
  else
  {
    if (v8)
    {
      id v9 = [v5 localIdentifier];
      id v10 = _PHLibraryScopeAutoSharePolicyDescription(a2);
      *(_DWORD *)long long buf = 138543618;
      id v26 = v9;
      __int16 v27 = 2114;
      id v28 = v10;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_DEFAULT, "Will mark shared assets for library scope with identifier: %{public}@ (policy: %{public}@)", buf, 0x16u);
    }
    id v11 = PLSharedLibraryGetLog();
    os_signpost_id_t v12 = os_signpost_id_generate(v11);
    id v13 = v11;
    uint64_t v14 = v13;
    if (v12 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v13))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v14, OS_SIGNPOST_INTERVAL_BEGIN, v12, "MarkSharedAssetsForLibraryScope", "", buf, 2u);
    }

    v20[0] = MEMORY[0x1E4F143A8];
    v20[1] = 3221225472;
    v20[2] = ___MarkSharedAssetsForLibraryScopeIfNecessary_block_invoke;
    void v20[3] = &unk_1E5DCB090;
    id v21 = v14;
    os_signpost_id_t v24 = v12;
    id v22 = v5;
    os_signpost_id_t v23 = v6;
    char v15 = v14;
    id v16 = [v22 markOnboardingPreviewAssetsByProcessingRulesWithCompletion:v20];
  }
  return v16;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_7(uint64_t a1)
{
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 80) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    id v2 = *(void (**)(void))(*(void *)(a1 + 56) + 16);
    v2();
  }
  else
  {
    if (*(unsigned char *)(a1 + 88))
    {
      v6[0] = MEMORY[0x1E4F143A8];
      v6[1] = 3221225472;
      void v6[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_9;
      _OWORD v6[3] = &unk_1E5DCACC0;
      uint64_t v12 = *(void *)(a1 + 80);
      id v3 = *(void **)(a1 + 40);
      id v7 = *(id *)(a1 + 32);
      id v9 = *(id *)(a1 + 56);
      id v8 = *(id *)(a1 + 40);
      id v10 = *(id *)(a1 + 64);
      id v11 = *(id *)(a1 + 72);
      _PublishLibraryScope(v3, v6);

      uint64_t v4 = v7;
    }
    else
    {
      uint64_t v5 = *(void *)(a1 + 64);
      v13[0] = MEMORY[0x1E4F143A8];
      v13[1] = 3221225472;
      void v13[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_8;
      void v13[3] = &unk_1E5DD0E78;
      id v14 = *(id *)(a1 + 40);
      id v15 = *(id *)(a1 + 48);
      id v16 = *(id *)(a1 + 72);
      (*(void (**)(uint64_t, void *))(v5 + 16))(v5, v13);

      uint64_t v4 = v14;
    }
  }
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_8(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  id v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_9(uint64_t a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      v10[0] = MEMORY[0x1E4F143A8];
      v10[1] = 3221225472;
      void v10[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_11;
      void v10[3] = &unk_1E5DCAC98;
      uint64_t v16 = *(void *)(a1 + 72);
      id v6 = *(void **)(a1 + 40);
      id v11 = *(id *)(a1 + 32);
      id v13 = *(id *)(a1 + 48);
      id v12 = *(id *)(a1 + 40);
      id v14 = *(id *)(a1 + 56);
      id v15 = *(id *)(a1 + 64);
      id v7 = _ActivateLibraryScope(v6, v10);
      if (v7) {
        [*(id *)(a1 + 32) addChild:v7 withPendingUnitCount:1];
      }

      id v8 = v11;
    }
    else
    {
      uint64_t v9 = *(void *)(a1 + 56);
      v17[0] = MEMORY[0x1E4F143A8];
      v17[1] = 3221225472;
      void v17[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_10;
      void v17[3] = &unk_1E5DD0E78;
      id v18 = *(id *)(a1 + 40);
      id v19 = v5;
      id v20 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v9 + 16))(v9, v17);

      id v8 = v18;
    }
  }
}

void _PublishLibraryScope(void *a1, void *a2)
{
  uint64_t v21 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v20 = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will publish library scope with identifier: %{public}@", buf, 0xCu);
  }
  id v7 = PLSharedLibraryGetLog();
  os_signpost_id_t v8 = os_signpost_id_generate(v7);
  uint64_t v9 = v7;
  id v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "PublishLibraryScope", "", buf, 2u);
  }

  v14[0] = MEMORY[0x1E4F143A8];
  v14[1] = 3221225472;
  void v14[2] = ___PublishLibraryScope_block_invoke;
  void v14[3] = &unk_1E5DCB1B0;
  id v15 = v10;
  id v16 = v3;
  id v17 = v4;
  os_signpost_id_t v18 = v8;
  id v11 = v4;
  id v12 = v3;
  id v13 = v10;
  [v12 publishLibraryScopeWithCompletionHandler:v14];
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_10(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  id v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_11(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      v9[0] = MEMORY[0x1E4F143A8];
      v9[1] = 3221225472;
      void v9[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_13;
      v9[3] = &unk_1E5DCAC70;
      uint64_t v15 = *(void *)(a1 + 72);
      id v6 = *(void **)(a1 + 40);
      id v10 = *(id *)(a1 + 32);
      id v12 = *(id *)(a1 + 48);
      id v11 = *(id *)(a1 + 40);
      id v13 = *(id *)(a1 + 56);
      id v14 = *(id *)(a1 + 64);
      _RefetchLibraryScope(v6, v9);

      id v7 = v10;
    }
    else
    {
      uint64_t v8 = *(void *)(a1 + 56);
      v16[0] = MEMORY[0x1E4F143A8];
      v16[1] = 3221225472;
      void v16[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_12;
      v16[3] = &unk_1E5DD0E78;
      id v17 = *(id *)(a1 + 40);
      id v18 = v5;
      id v19 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v8 + 16))(v8, v16);

      id v7 = v17;
    }
  }
}

id _ActivateLibraryScope(void *a1, void *a2)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v22 = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will activate library scope with identifier: %{public}@", buf, 0xCu);
  }
  id v7 = PLSharedLibraryGetLog();
  os_signpost_id_t v8 = os_signpost_id_generate(v7);
  uint64_t v9 = v7;
  id v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "ActivateLibraryScope", "", buf, 2u);
  }

  v16[0] = MEMORY[0x1E4F143A8];
  v16[1] = 3221225472;
  void v16[2] = ___ActivateLibraryScope_block_invoke;
  v16[3] = &unk_1E5DCB090;
  id v17 = v10;
  id v18 = v3;
  id v19 = v4;
  os_signpost_id_t v20 = v8;
  id v11 = v4;
  id v12 = v3;
  id v13 = v10;
  id v14 = [v12 activateLibraryScopeWithCompletion:v16];

  return v14;
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_12(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  id v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_13(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    uint64_t v7 = *(void *)(a1 + 56);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibrarySetupLibraryScope_block_invoke_14;
    void v8[3] = &unk_1E5DD2BB8;
    id v9 = v5;
    id v12 = *(id *)(a1 + 64);
    id v10 = *(id *)(a1 + 40);
    id v11 = v6;
    (*(void (**)(uint64_t, void *))(v7 + 16))(v7, v8);
  }
}

void _RefetchLibraryScope(void *a1, void *a2)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (_RefetchLibraryScope_predicate != -1) {
    dispatch_once(&_RefetchLibraryScope_predicate, &__block_literal_global_652);
  }
  id v5 = [v3 localIdentifier];
  id v6 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138543362;
    id v16 = v5;
    _os_log_impl(&dword_1A9AE7000, v6, OS_LOG_TYPE_DEFAULT, "Will refetch library scope with identifier: %{public}@", buf, 0xCu);
  }

  uint64_t v7 = _RefetchLibraryScope__refetchQueue;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = ___RefetchLibraryScope_block_invoke_654;
  block[3] = &unk_1E5DD0E78;
  id v12 = v3;
  id v13 = v5;
  id v14 = v4;
  id v8 = v4;
  id v9 = v5;
  id v10 = v3;
  dispatch_async(v7, block);
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_14(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(void *)(a1 + 32))
  {
    uint64_t v2 = *(void *)(a1 + 56);
    if (v2)
    {
      id v3 = *(void (**)(void))(v2 + 16);
      v3();
    }
  }
  else
  {
    _ExpungeLibraryScope(*(void **)(a1 + 40), 0);
    id v4 = *(void **)(a1 + 48);
    id v5 = *(void **)(a1 + 56);
    _HandleError(v4, v5);
  }
}

void _ExpungeLibraryScope(void *a1, void *a2)
{
  uint64_t v24 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v23 = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will expunge library scope with identifier: %{public}@", buf, 0xCu);
  }
  uint64_t v7 = PLSharedLibraryGetLog();
  os_signpost_id_t v8 = os_signpost_id_generate(v7);
  id v9 = v7;
  id v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "ExpungeLibraryScope", "", buf, 2u);
  }

  id v11 = [v3 photoLibrary];
  v20[0] = MEMORY[0x1E4F143A8];
  v20[1] = 3221225472;
  v20[2] = ___ExpungeLibraryScope_block_invoke;
  void v20[3] = &unk_1E5DD36F8;
  id v21 = v3;
  v15[0] = MEMORY[0x1E4F143A8];
  v15[1] = 3221225472;
  void v15[2] = ___ExpungeLibraryScope_block_invoke_2;
  v15[3] = &unk_1E5DCB090;
  id v16 = v10;
  id v17 = v21;
  id v18 = v4;
  os_signpost_id_t v19 = v8;
  id v12 = v4;
  id v13 = v21;
  id v14 = v10;
  [v11 performChanges:v20 completionHandler:v15];
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_256(uint64_t a1)
{
}

void __PXSharedLibrarySetupLibraryScope_block_invoke_251(uint64_t a1)
{
}

uint64_t __PXSharedLibrarySetupLibraryScope_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void PXSharedLibraryCreatePreviewLibraryScope(void *a1, void *a2, void *a3, __int16 a4, void *a5, void *a6, void *a7, void *a8, void *a9)
{
  id v15 = a1;
  id v16 = a2;
  id v17 = a3;
  id v54 = a5;
  id v18 = a6;
  id v19 = a7;
  id v20 = a8;
  id v56 = a9;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v55 = v15;
  if (v15)
  {
    if (v16) {
      goto LABEL_3;
    }
  }
  else
  {
    id v40 = [MEMORY[0x1E4F28B00] currentHandler];
    id v41 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v40 handleFailureInFunction:v41, @"PXSharedLibraryPhotoKitUtilities.m", 751, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

    if (v16)
    {
LABEL_3:
      if (v17) {
        goto LABEL_4;
      }
LABEL_20:
      uint64_t v44 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v45 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
      [v44 handleFailureInFunction:v45, @"PXSharedLibraryPhotoKitUtilities.m", 753, @"Invalid parameter not satisfying: %@", @"phoneNumbers" file lineNumber description];

      if (v18) {
        goto LABEL_5;
      }
      goto LABEL_21;
    }
  }
  id v42 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v43 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v42 handleFailureInFunction:v43, @"PXSharedLibraryPhotoKitUtilities.m", 752, @"Invalid parameter not satisfying: %@", @"emailAddresses" file lineNumber description];

  if (!v17) {
    goto LABEL_20;
  }
LABEL_4:
  if (v18) {
    goto LABEL_5;
  }
LABEL_21:
  long long v46 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v47 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v46 handleFailureInFunction:v47, @"PXSharedLibraryPhotoKitUtilities.m", 754, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];

LABEL_5:
  id v21 = v17;
  if (!v20)
  {
    long long v48 = [MEMORY[0x1E4F28B00] currentHandler];
    id v49 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryCreatePreviewLibraryScope(PHPhotoLibrary *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v48 handleFailureInFunction:v49, @"PXSharedLibraryPhotoKitUtilities.m", 755, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];
  }
  uint64_t v85 = 0;
  id v86 = &v85;
  uint64_t v87 = 0x3032000000;
  id v88 = __Block_byref_object_copy__247647;
  id v89 = __Block_byref_object_dispose__247648;
  id v90 = 0;
  v83[0] = 0;
  v83[1] = v83;
  v83[2] = 0x2020000000;
  char v84 = 0;
  if (v19) {
    goto LABEL_10;
  }
  id v22 = PXLocalizedSharedLibraryString(@"PXSharedLibraryCreatingPreviewProgressTitle");
  v80[0] = MEMORY[0x1E4F143A8];
  v80[1] = 3221225472;
  v80[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke;
  v80[3] = &unk_1E5DD35B8;
  id v82 = v83;
  id v23 = v56;
  id v81 = v23;
  uint64_t v24 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v22, v20, v80);
  id v25 = (void *)v86[5];
  v86[5] = v24;

  if (v86[5])
  {

LABEL_10:
    id v52 = v16;
    id v53 = v17;
    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_271;
    aBlock[3] = &unk_1E5DCABF8;
    id v26 = v19;
    id v77 = v26;
    id v27 = v56;
    id v78 = v27;
    id v28 = _Block_copy(aBlock);
    v73[0] = MEMORY[0x1E4F143A8];
    v73[1] = 3221225472;
    v73[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_272;
    v73[3] = &unk_1E5DCAC20;
    os_signpost_id_t v75 = &v85;
    id v74 = v20;
    uint64_t v29 = _Block_copy(v73);
    id v30 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v31 = [v30 simulateErrorType];

    id v51 = v19;
    if (v31 == 3)
    {
      id v32 = v18;
      dispatch_time_t v33 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3;
      block[3] = &unk_1E5DCAC48;
      v72[1] = v83;
      id v34 = &v70;
      id v70 = v26;
      uint64_t v35 = &v71;
      id v71 = v29;
      uint64_t v36 = (id *)v72;
      v72[0] = v27;
      uint64_t v37 = (void *)MEMORY[0x1E4F14428];
      dispatch_after(v33, MEMORY[0x1E4F14428], block);
    }
    else
    {
      v57[0] = MEMORY[0x1E4F143A8];
      v57[1] = 3221225472;
      v57[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2_277;
      v57[3] = &unk_1E5DCAD38;
      id v67 = v83;
      id v58 = v26;
      id v64 = v28;
      id v65 = v29;
      id v66 = v27;
      __int16 v68 = a4;
      id v59 = v55;
      id v60 = v54;
      id v61 = v18;
      id v62 = v52;
      id v63 = v17;
      _CreateLibraryScope(v59, v62, v63, v57);
      id v32 = v18;
      id v34 = &v58;
      uint64_t v35 = &v64;
      uint64_t v36 = &v65;

      uint64_t v37 = v66;
    }

    id v22 = v77;
    id v16 = v52;
    id v21 = v53;
    id v18 = v32;
    id v19 = v51;
    goto LABEL_14;
  }
  uint64_t v38 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v38, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v38, OS_LOG_TYPE_ERROR, "Failed to present Create Shared Library Preview progress alert", buf, 2u);
  }

  id v39 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present Create Shared Library Preview progress alert");
  _HandleError(v39, v23);

LABEL_14:
  _Block_object_dispose(v83, 8);
  _Block_object_dispose(&v85, 8);
}

void sub_1AB0A1250(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Create Shared Library Preview", v4, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  id v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Create Shared Library Preview");
  _HandleError(v3, *(void **)(a1 + 32));
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_271(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = v3;
  if (v3) {
    _ExpungeLibraryScope(v3, 0);
  }
  if ([*(id *)(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
    id v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)uint64_t v7 = 0;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    id v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(void **)(a1 + 40));
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_272(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v4 = v3;
  id v5 = *(void **)(*(void *)(*(void *)(a1 + 40) + 8) + 40);
  if (v5)
  {
    id v6 = *(void **)(a1 + 32);
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2;
    void v7[3] = &unk_1E5DD3128;
    os_signpost_id_t v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }
  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    uint64_t v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Create Shared Library Preview Failed", buf, 2u);
    }

    id v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Create Shared Library Preview Failed");
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_276;
    void v7[3] = &unk_1E5DD3280;
    id v8 = v3;
    uint64_t v4 = *(void *)(a1 + 40);
    id v9 = *(id *)(a1 + 48);
    id v5 = *(void (**)(uint64_t, void *))(v4 + 16);
    id v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2_277(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 104) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 80) + 16))();
  }
  else
  {
    if (v5)
    {
      unsigned int v7 = *(__int16 *)(a1 + 112);
      id v8 = *(void **)(a1 + 40);
      id v9 = *(void **)(a1 + 48);
      id v10 = *(void **)(a1 + 56);
      id v11 = *(void **)(a1 + 64);
      id v12 = *(void **)(a1 + 72);
      v15[0] = MEMORY[0x1E4F143A8];
      v15[1] = 3221225472;
      void v15[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_4;
      v15[3] = &unk_1E5DCAD10;
      uint64_t v21 = *(void *)(a1 + 104);
      id v16 = *(id *)(a1 + 32);
      id v18 = *(id *)(a1 + 80);
      id v17 = v5;
      id v19 = *(id *)(a1 + 88);
      id v20 = *(id *)(a1 + 96);
      __int16 v22 = *(_WORD *)(a1 + 112);
      _UpdateRulesForLibraryScope(v17, v7, v8, v9, v10, v11, v12, v15);

      id v13 = v16;
    }
    else
    {
      uint64_t v14 = *(void *)(a1 + 88);
      v23[0] = MEMORY[0x1E4F143A8];
      v23[1] = 3221225472;
      void v23[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3_278;
      void v23[3] = &unk_1E5DD3280;
      id v24 = v6;
      id v25 = *(id *)(a1 + 96);
      (*(void (**)(uint64_t, void *))(v14 + 16))(v14, v23);

      id v13 = v24;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_3_278(uint64_t a1)
{
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      unsigned int v6 = *(__int16 *)(a1 + 80);
      v11[0] = MEMORY[0x1E4F143A8];
      v11[1] = 3221225472;
      void v11[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_6;
      void v11[3] = &unk_1E5DCAC98;
      uint64_t v17 = *(void *)(a1 + 72);
      unsigned int v7 = *(void **)(a1 + 40);
      id v12 = *(id *)(a1 + 32);
      id v14 = *(id *)(a1 + 48);
      id v13 = *(id *)(a1 + 40);
      id v15 = *(id *)(a1 + 56);
      id v16 = *(id *)(a1 + 64);
      id v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v7, v6, v11);
      if (v8) {
        [*(id *)(a1 + 32) addChild:v8 withPendingUnitCount:1];
      }

      id v9 = v12;
    }
    else
    {
      uint64_t v10 = *(void *)(a1 + 56);
      v18[0] = MEMORY[0x1E4F143A8];
      v18[1] = 3221225472;
      void v18[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_5;
      void v18[3] = &unk_1E5DD0E78;
      id v19 = *(id *)(a1 + 40);
      id v20 = v5;
      id v21 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v10 + 16))(v10, v18);

      id v9 = v19;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  uint64_t v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_6(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  v7[0] = MEMORY[0x1E4F143A8];
  v7[1] = 3221225472;
  CMTime v7[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_7;
  void v7[3] = &unk_1E5DCACE8;
  uint64_t v14 = *(void *)(a1 + 72);
  id v8 = *(id *)(a1 + 32);
  id v11 = *(id *)(a1 + 48);
  id v9 = *(id *)(a1 + 40);
  char v15 = a2;
  id v12 = *(id *)(a1 + 56);
  id v10 = v5;
  id v13 = *(id *)(a1 + 64);
  id v6 = v5;
  dispatch_async(MEMORY[0x1E4F14428], v7);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_7(uint64_t a1)
{
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 80) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    uint64_t v2 = *(void (**)(void))(*(void *)(a1 + 56) + 16);
    v2();
  }
  else
  {
    if (*(unsigned char *)(a1 + 88))
    {
      v6[0] = MEMORY[0x1E4F143A8];
      v6[1] = 3221225472;
      void v6[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_9;
      _OWORD v6[3] = &unk_1E5DCAC70;
      uint64_t v12 = *(void *)(a1 + 80);
      id v3 = *(void **)(a1 + 40);
      id v7 = *(id *)(a1 + 32);
      id v9 = *(id *)(a1 + 56);
      id v8 = *(id *)(a1 + 40);
      id v10 = *(id *)(a1 + 64);
      id v11 = *(id *)(a1 + 72);
      _RefetchLibraryScope(v3, v6);

      uint64_t v4 = v7;
    }
    else
    {
      uint64_t v5 = *(void *)(a1 + 64);
      v13[0] = MEMORY[0x1E4F143A8];
      v13[1] = 3221225472;
      void v13[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_8;
      void v13[3] = &unk_1E5DD0E78;
      id v14 = *(id *)(a1 + 40);
      id v15 = *(id *)(a1 + 48);
      id v16 = *(id *)(a1 + 72);
      (*(void (**)(uint64_t, void *))(v5 + 16))(v5, v13);

      uint64_t v4 = v14;
    }
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_8(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  uint64_t v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_9(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    uint64_t v7 = *(void *)(a1 + 56);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_10;
    void v8[3] = &unk_1E5DD2BB8;
    id v9 = v5;
    id v12 = *(id *)(a1 + 64);
    id v10 = *(id *)(a1 + 40);
    id v11 = v6;
    (*(void (**)(uint64_t, void *))(v7 + 16))(v7, v8);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_10(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(void *)(a1 + 32))
  {
    uint64_t v2 = *(void *)(a1 + 56);
    if (v2)
    {
      id v3 = *(void (**)(void))(v2 + 16);
      v3();
    }
  }
  else
  {
    _ExpungeLibraryScope(*(void **)(a1 + 40), 0);
    uint64_t v4 = *(void **)(a1 + 48);
    id v5 = *(void **)(a1 + 56);
    _HandleError(v4, v5);
  }
}

void __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_276(uint64_t a1)
{
}

uint64_t __PXSharedLibraryCreatePreviewLibraryScope_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void PXSharedLibraryPublishPreviewLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v10 = a4;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v7)
  {
    if (v9) {
      goto LABEL_3;
    }
  }
  else
  {
    [MEMORY[0x1E4F28B00] currentHandler];
    v33 = id v32 = v10;
    id v34 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPublishPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v33 handleFailureInFunction:v34, @"PXSharedLibraryPhotoKitUtilities.m", 900, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    id v10 = v32;
    if (v9) {
      goto LABEL_3;
    }
  }
  [MEMORY[0x1E4F28B00] currentHandler];
  v36 = id v35 = v10;
  uint64_t v37 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPublishPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v36 handleFailureInFunction:v37, @"PXSharedLibraryPhotoKitUtilities.m", 901, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

  id v10 = v35;
LABEL_3:
  uint64_t v62 = 0;
  id v63 = &v62;
  uint64_t v64 = 0x3032000000;
  id v65 = __Block_byref_object_copy__247647;
  id v66 = __Block_byref_object_dispose__247648;
  id v67 = 0;
  v60[0] = 0;
  v60[1] = v60;
  v60[2] = 0x2020000000;
  char v61 = 0;
  id v39 = v10;
  if (v8)
  {
LABEL_6:
    v54[0] = MEMORY[0x1E4F143A8];
    v54[1] = 3221225472;
    v54[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_285;
    v54[3] = &unk_1E5DCABF8;
    id v16 = v8;
    id v55 = v16;
    id v17 = v10;
    id v56 = v17;
    id v18 = _Block_copy(v54);
    v51[0] = MEMORY[0x1E4F143A8];
    v51[1] = 3221225472;
    v51[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_286;
    v51[3] = &unk_1E5DCAC20;
    id v53 = &v62;
    id v52 = v9;
    id v19 = _Block_copy(v51);
    id v20 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v21 = [v20 simulateErrorType];

    id v38 = v9;
    if (v21 == 4)
    {
      id v22 = v8;
      id v23 = v7;
      dispatch_time_t v24 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3;
      block[3] = &unk_1E5DCAC48;
      v50[1] = v60;
      id v25 = &v48;
      id v48 = v16;
      id v26 = &v49;
      id v49 = v19;
      id v27 = (id *)v50;
      v50[0] = v17;
      id v28 = (void *)MEMORY[0x1E4F14428];
      dispatch_after(v24, MEMORY[0x1E4F14428], block);
    }
    else
    {
      v40[0] = MEMORY[0x1E4F143A8];
      v40[1] = 3221225472;
      v40[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2_291;
      v40[3] = &unk_1E5DCACC0;
      long long v46 = v60;
      id v41 = v16;
      id v43 = v18;
      id v42 = v7;
      id v44 = v19;
      id v45 = v17;
      _PublishLibraryScope(v42, v40);
      id v22 = v8;
      id v23 = v7;
      id v25 = &v41;
      id v26 = &v43;
      id v27 = &v42;

      id v28 = v44;
    }
    uint64_t v29 = &v55;

    id v12 = v56;
    id v7 = v23;
    id v8 = v22;
    id v9 = v38;
    goto LABEL_10;
  }
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke;
  aBlock[3] = &unk_1E5DD35B8;
  v59[1] = v60;
  id v11 = v10;
  v59[0] = v11;
  id v12 = _Block_copy(aBlock);
  id v13 = PXLocalizedSharedLibraryString(@"PXSharedLibraryPublishingProgressTitle");
  uint64_t v14 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v13, v9, v12);
  id v15 = (void *)v63[5];
  v63[5] = v14;

  if (v63[5])
  {

    id v10 = v39;
    goto LABEL_6;
  }
  id v30 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v30, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v30, OS_LOG_TYPE_ERROR, "Failed to present Publish Shared Library Preview progress alert", buf, 2u);
  }

  uint64_t v31 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present Publish Shared Library Preview progress alert");
  _HandleError(v31, v11);
  uint64_t v29 = v59;

LABEL_10:
  _Block_object_dispose(v60, 8);
  _Block_object_dispose(&v62, 8);
}

void sub_1AB0A24F8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)uint64_t v4 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v4, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  id v3 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
  _HandleError(v3, *(void **)(a1 + 32));
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_285(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = v3;
  if (v3) {
    _ExpungeLibraryScope(v3, 0);
  }
  if ([*(id *)(a1 + 32) isCancelled])
  {
    dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
    id v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
    {
      *(_WORD *)id v7 = 0;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Publish Shared Library Preview", v7, 2u);
    }

    id v6 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Publish Shared Library Preview");
    _HandleError(v6, *(void **)(a1 + 40));
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_286(uint64_t a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = v3;
  id v5 = *(void **)(*(void *)(*(void *)(a1 + 40) + 8) + 40);
  if (v5)
  {
    id v6 = *(void **)(a1 + 32);
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2;
    void v7[3] = &unk_1E5DD3128;
    id v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }
  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    uint64_t v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Publish Shared Library Preview Failed", buf, 2u);
    }

    id v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Publish Shared Library Preview Failed");
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_290;
    void v7[3] = &unk_1E5DD3280;
    id v8 = v3;
    uint64_t v4 = *(void *)(a1 + 40);
    id v9 = *(id *)(a1 + 48);
    id v5 = *(void (**)(uint64_t, void *))(v4 + 16);
    id v6 = v3;
    v5(v4, v7);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2_291(uint64_t a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      v10[0] = MEMORY[0x1E4F143A8];
      v10[1] = 3221225472;
      void v10[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_4;
      void v10[3] = &unk_1E5DCAC98;
      uint64_t v16 = *(void *)(a1 + 72);
      id v6 = *(void **)(a1 + 40);
      id v11 = *(id *)(a1 + 32);
      id v13 = *(id *)(a1 + 48);
      id v12 = *(id *)(a1 + 40);
      id v14 = *(id *)(a1 + 56);
      id v15 = *(id *)(a1 + 64);
      id v7 = _ActivateLibraryScope(v6, v10);
      if (v7) {
        [*(id *)(a1 + 32) addChild:v7 withPendingUnitCount:1];
      }

      id v8 = v11;
    }
    else
    {
      uint64_t v9 = *(void *)(a1 + 56);
      v17[0] = MEMORY[0x1E4F143A8];
      v17[1] = 3221225472;
      void v17[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3_292;
      void v17[3] = &unk_1E5DD0E78;
      id v18 = *(id *)(a1 + 40);
      id v19 = v5;
      id v20 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v9 + 16))(v9, v17);

      id v8 = v18;
    }
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_3_292(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  uint64_t v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_4(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    if (a2)
    {
      v9[0] = MEMORY[0x1E4F143A8];
      v9[1] = 3221225472;
      void v9[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_6;
      v9[3] = &unk_1E5DCAC70;
      uint64_t v15 = *(void *)(a1 + 72);
      id v6 = *(void **)(a1 + 40);
      id v10 = *(id *)(a1 + 32);
      id v12 = *(id *)(a1 + 48);
      id v11 = *(id *)(a1 + 40);
      id v13 = *(id *)(a1 + 56);
      id v14 = *(id *)(a1 + 64);
      _RefetchLibraryScope(v6, v9);

      id v7 = v10;
    }
    else
    {
      uint64_t v8 = *(void *)(a1 + 56);
      v16[0] = MEMORY[0x1E4F143A8];
      v16[1] = 3221225472;
      void v16[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_5;
      v16[3] = &unk_1E5DD0E78;
      id v17 = *(id *)(a1 + 40);
      id v18 = v5;
      id v19 = *(id *)(a1 + 64);
      (*(void (**)(uint64_t, void *))(v8 + 16))(v8, v16);

      id v7 = v17;
    }
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_5(uint64_t a1)
{
  _ExpungeLibraryScope(*(void **)(a1 + 32), 0);
  uint64_t v2 = *(void **)(a1 + 40);
  id v3 = *(void **)(a1 + 48);
  _HandleError(v2, v3);
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_6(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    || [*(id *)(a1 + 32) isCancelled])
  {
    (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
  }
  else
  {
    uint64_t v7 = *(void *)(a1 + 56);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_7;
    void v8[3] = &unk_1E5DD2BB8;
    id v9 = v5;
    id v12 = *(id *)(a1 + 64);
    id v10 = *(id *)(a1 + 40);
    id v11 = v6;
    (*(void (**)(uint64_t, void *))(v7 + 16))(v7, v8);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_7(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(void *)(a1 + 32))
  {
    uint64_t v2 = *(void *)(a1 + 56);
    if (v2)
    {
      id v3 = *(void (**)(void))(v2 + 16);
      v3();
    }
  }
  else
  {
    _ExpungeLibraryScope(*(void **)(a1 + 40), 0);
    uint64_t v4 = *(void **)(a1 + 48);
    id v5 = *(void **)(a1 + 56);
    _HandleError(v4, v5);
  }
}

void __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_290(uint64_t a1)
{
}

uint64_t __PXSharedLibraryPublishPreviewLibraryScope_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void PXSharedLibraryFetchLibraryScopeForURL(void *a1, void *a2, void *a3)
{
  uint64_t v37 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  uint64_t v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
LABEL_21:
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1031, @"Invalid parameter not satisfying: %@", @"shareURL" file lineNumber description];

    if (v7) {
      goto LABEL_4;
    }
    goto LABEL_22;
  }
  dispatch_time_t v24 = [MEMORY[0x1E4F28B00] currentHandler];
  id v25 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v24 handleFailureInFunction:v25, @"PXSharedLibraryPhotoKitUtilities.m", 1030, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

  if (!v6) {
    goto LABEL_21;
  }
LABEL_3:
  if (v7) {
    goto LABEL_4;
  }
LABEL_22:
  id v28 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryFetchLibraryScopeForURL(PHPhotoLibrary *__strong _Nonnull, NSURL *__strong _Nonnull, void (^__strong _Nonnull)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXSharedLibraryPhotoKitUtilities.m", 1032, @"Invalid parameter not satisfying: %@", @"completion" file lineNumber description];

LABEL_4:
  uint64_t v8 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v9 = [v8 simulateErrorType];

  if (v9 == 8)
  {
    id v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Fetch (No Share) Failed", buf, 2u);
    }

    id v11 = (void *)MEMORY[0x1E4F28C58];
    id v12 = @"Simulated Error: Fetch (No Share) Failed";
    uint64_t v13 = -1002;
LABEL_12:
    id v18 = objc_msgSend(v11, "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", v13, v12);
    v7[2](v7, 0, v18);
    goto LABEL_19;
  }
  id v14 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v15 = [v14 simulateErrorType];

  uint64_t v16 = PLSharedLibraryGetLog();
  id v17 = v16;
  if (v15 == 9)
  {
    if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_ERROR, "Simulated Error: Fetch (Generic) Failed", buf, 2u);
    }

    id v11 = (void *)MEMORY[0x1E4F28C58];
    id v12 = @"Simulated Error: Fetch (Generic) Failed";
    uint64_t v13 = -1000;
    goto LABEL_12;
  }
  if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138412290;
    id v36 = v6;
    _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_DEFAULT, "Will fetch library scope for URL: %@", buf, 0xCu);
  }

  id v19 = PLSharedLibraryGetLog();
  os_signpost_id_t v20 = os_signpost_id_generate(v19);
  uint64_t v21 = v19;
  id v22 = v21;
  if (v20 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v21))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v22, OS_SIGNPOST_INTERVAL_BEGIN, v20, "FetchLibraryScopeForURL", "", buf, 2u);
  }

  id v23 = (void *)MEMORY[0x1E4F39110];
  v30[0] = MEMORY[0x1E4F143A8];
  v30[1] = 3221225472;
  v30[2] = __PXSharedLibraryFetchLibraryScopeForURL_block_invoke;
  v30[3] = &unk_1E5DCAD60;
  uint64_t v31 = v22;
  os_signpost_id_t v34 = v20;
  id v32 = v6;
  dispatch_time_t v33 = v7;
  id v18 = v22;
  [v23 fetchLibraryScopeFromShareURL:v32 ignoreExistingShare:1 photoLibrary:v5 completionHandler:v30];

LABEL_19:
}

void __PXSharedLibraryFetchLibraryScopeForURL_block_invoke(uint64_t a1, void *a2, void *a3)
{
  uint64_t v32 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  uint64_t v7 = *(id *)(a1 + 32);
  uint64_t v8 = v7;
  os_signpost_id_t v9 = *(void *)(a1 + 56);
  if (v9 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v7))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v8, OS_SIGNPOST_INTERVAL_END, v9, "FetchLibraryScopeForURL", "", buf, 2u);
  }

  if (!v5)
  {
    uint64_t v13 = [v6 domain];
    if ([v13 isEqualToString:*MEMORY[0x1E4F39800]])
    {
      uint64_t v14 = [v6 code];

      if (v14 == 6003)
      {
        id v10 = PLSharedLibraryGetLog();
        if (!os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT)) {
          goto LABEL_15;
        }
        uint64_t v15 = *(void **)(a1 + 40);
        *(_DWORD *)long long buf = 138412290;
        uint64_t v29 = v15;
        uint64_t v16 = "Fetch returned NO library scope for URL: %@";
        id v17 = v10;
        os_log_type_t v18 = OS_LOG_TYPE_DEFAULT;
        uint32_t v19 = 12;
LABEL_14:
        _os_log_impl(&dword_1A9AE7000, v17, v18, v16, buf, v19);
        goto LABEL_15;
      }
    }
    else
    {
    }
    id v10 = PLSharedLibraryGetLog();
    if (!os_log_type_enabled(v10, OS_LOG_TYPE_ERROR)) {
      goto LABEL_15;
    }
    os_signpost_id_t v20 = *(void **)(a1 + 40);
    *(_DWORD *)long long buf = 138412546;
    uint64_t v29 = v20;
    __int16 v30 = 2112;
    id v31 = v6;
    uint64_t v16 = "Failed to fetch library scope for URL: %@, error: %@";
    id v17 = v10;
    os_log_type_t v18 = OS_LOG_TYPE_ERROR;
    uint32_t v19 = 22;
    goto LABEL_14;
  }
  id v10 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
  {
    id v11 = [v5 localIdentifier];
    id v12 = *(void **)(a1 + 40);
    *(_DWORD *)long long buf = 138543618;
    uint64_t v29 = v11;
    __int16 v30 = 2112;
    id v31 = v12;
    _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_DEFAULT, "Did fetch library scope: %{public}@ for URL: %@", buf, 0x16u);
  }
LABEL_15:

  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryFetchLibraryScopeForURL_block_invoke_306;
  block[3] = &unk_1E5DD0E78;
  id v21 = *(id *)(a1 + 48);
  id v26 = v6;
  id v27 = v21;
  id v25 = v5;
  id v22 = v6;
  id v23 = v5;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

uint64_t __PXSharedLibraryFetchLibraryScopeForURL_block_invoke_306(void *a1)
{
  return (*(uint64_t (**)(void, void, void))(a1[6] + 16))(a1[6], a1[4], a1[5]);
}

void PXSharedLibraryAcceptLibraryScopeInvitation(void *a1, unsigned int a2, void *a3, void *a4, void *a5, void *a6)
{
  id v11 = a1;
  id v12 = a3;
  id v13 = a4;
  id v14 = a5;
  id v15 = a6;
  if (v11)
  {
    if (v13) {
      goto LABEL_3;
    }
  }
  else
  {
    __int16 v30 = [MEMORY[0x1E4F28B00] currentHandler];
    id v31 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v30 handleFailureInFunction:v31, @"PXSharedLibraryPhotoKitUtilities.m", 1074, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v13) {
      goto LABEL_3;
    }
  }
  uint64_t v32 = [MEMORY[0x1E4F28B00] currentHandler];
  dispatch_time_t v33 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v32 handleFailureInFunction:v33, @"PXSharedLibraryPhotoKitUtilities.m", 1075, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];

LABEL_3:
  uint64_t v16 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v17 = [v16 simulateErrorType];

  if (v17 == 16)
  {
    os_log_type_t v18 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (Generic)", buf, 2u);
    }

    uint32_t v19 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Accept Invitation Failed (Generic)");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v46 = v19;
    id v47 = v15;
    id v20 = v19;
    dispatch_async(MEMORY[0x1E4F14428], block);

    id v21 = v47;
  }
  else
  {
    id v22 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v23 = [v22 simulateErrorType];

    if (v23 == 17)
    {
      dispatch_time_t v24 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v24, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v24, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (U13)", buf, 2u);
      }

      id v25 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 8503, @"Simulated Error: Accept Invitation Failed (U13)");
      v42[0] = MEMORY[0x1E4F143A8];
      v42[1] = 3221225472;
      void v42[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_313;
      v42[3] = &unk_1E5DD3280;
      id v43 = v25;
      id v44 = v15;
      id v20 = v25;
      dispatch_async(MEMORY[0x1E4F14428], v42);

      id v21 = v44;
    }
    else
    {
      id v26 = +[PXSharedLibrarySettings sharedInstance];
      uint64_t v27 = [v26 simulateErrorType];

      if (v27 != 18)
      {
        v34[0] = MEMORY[0x1E4F143A8];
        v34[1] = 3221225472;
        void v34[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_2;
        v34[3] = &unk_1E5DCAD88;
        id v37 = v15;
        id v35 = v11;
        __int16 v38 = a2;
        id v36 = v14;
        _UpdateRulesForLibraryScope(v35, a2, 0, v12, v13, MEMORY[0x1E4F1CBF0], MEMORY[0x1E4F1CBF0], v34);

        id v20 = v37;
        goto LABEL_16;
      }
      id v28 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v28, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v28, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (RegionUnsupported)", buf, 2u);
      }

      uint64_t v29 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 8504, @"Simulated Error: Accept Invitation Failed (RegionUnsupported)");
      v39[0] = MEMORY[0x1E4F143A8];
      v39[1] = 3221225472;
      v39[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_317;
      v39[3] = &unk_1E5DD3280;
      id v40 = v29;
      id v41 = v15;
      id v20 = v29;
      dispatch_async(MEMORY[0x1E4F14428], v39);

      id v21 = v41;
    }
  }

LABEL_16:
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_313(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_317(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (a2)
  {
    id v6 = *(void **)(a1 + 32);
    unsigned int v7 = *(__int16 *)(a1 + 56);
    uint64_t v10 = MEMORY[0x1E4F143A8];
    uint64_t v11 = 3221225472;
    id v12 = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_3;
    id v13 = &unk_1E5DD2B90;
    id v15 = *(id *)(a1 + 48);
    id v14 = *(id *)(a1 + 32);
    uint64_t v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v6, v7, &v10);
    if (v8) {
      objc_msgSend(*(id *)(a1 + 40), "addChild:withPendingUnitCount:", v8, 1, v10, v11, v12, v13);
    }
  }
  else
  {
    uint64_t v9 = *(void *)(a1 + 48);
    if (v9) {
      (*(void (**)(uint64_t, void, id))(v9 + 16))(v9, 0, v5);
    }
  }
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (a2)
  {
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_4;
    void v8[3] = &unk_1E5DCDD58;
    id v6 = *(void **)(a1 + 32);
    id v9 = *(id *)(a1 + 40);
    _AcceptLibraryScope(v6, v8);
  }
  else
  {
    uint64_t v7 = *(void *)(a1 + 40);
    if (v7) {
      (*(void (**)(uint64_t, void, id))(v7 + 16))(v7, 0, v5);
    }
  }
}

void __PXSharedLibraryAcceptLibraryScopeInvitation_block_invoke_4(uint64_t a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v5 = *(void *)(a1 + 32);
  if (v5) {
    (*(void (**)(uint64_t, uint64_t, id))(v5 + 16))(v5, a2, v6);
  }
}

void _AcceptLibraryScope(void *a1, void *a2)
{
  uint64_t v21 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v20 = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will accept library scope with identifier: %{public}@", buf, 0xCu);
  }
  uint64_t v7 = PLSharedLibraryGetLog();
  os_signpost_id_t v8 = os_signpost_id_generate(v7);
  id v9 = v7;
  uint64_t v10 = v9;
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v9))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v10, OS_SIGNPOST_INTERVAL_BEGIN, v8, "AcceptLibraryScope", "", buf, 2u);
  }

  v14[0] = MEMORY[0x1E4F143A8];
  v14[1] = 3221225472;
  void v14[2] = ___AcceptLibraryScope_block_invoke;
  void v14[3] = &unk_1E5DCB090;
  id v15 = v10;
  id v16 = v3;
  id v17 = v4;
  os_signpost_id_t v18 = v8;
  id v11 = v4;
  id v12 = v3;
  id v13 = v10;
  [v12 acceptLibraryScopeWithCompletion:v14];
}

void PXSharedLibraryPreviewLibraryScopeInvitation(void *a1, __int16 a2, void *a3, void *a4, void *a5, void *a6)
{
  uint64_t v55 = *MEMORY[0x1E4F143B8];
  id v11 = a1;
  id v12 = a3;
  id v13 = a4;
  id v14 = a5;
  id v15 = a6;
  if (v11)
  {
    if (v13) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v32 = [MEMORY[0x1E4F28B00] currentHandler];
    dispatch_time_t v33 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPreviewLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v32 handleFailureInFunction:v33, @"PXSharedLibraryPhotoKitUtilities.m", 1143, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v13) {
      goto LABEL_3;
    }
  }
  os_signpost_id_t v34 = [MEMORY[0x1E4F28B00] currentHandler];
  id v35 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryPreviewLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, PHLibraryScopeAutoSharePolicy, NSDate * _Nullable __strong, NSArray<NSString *> *__strong _Nonnull, NSProgress * _Nullable __strong, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v34 handleFailureInFunction:v35, @"PXSharedLibraryPhotoKitUtilities.m", 1144, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];

LABEL_3:
  id v16 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v17 = [v16 simulateErrorType];

  if (v17 == 3)
  {
    os_signpost_id_t v18 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v18, OS_LOG_TYPE_ERROR))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A9AE7000, v18, OS_LOG_TYPE_ERROR, "Simulated Error: Create Invitation Preview Failed", (uint8_t *)&buf, 2u);
    }

    uint32_t v19 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Create Invitation Preview Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v44 = v19;
    id v45 = v15;
    id v20 = v15;
    id v21 = v19;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  else
  {
    v36[0] = MEMORY[0x1E4F143A8];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_2;
    v36[3] = &unk_1E5DCADB0;
    id v41 = v15;
    id v37 = v11;
    __int16 v42 = a2;
    id v38 = v12;
    id v39 = v13;
    id v40 = v14;
    id v22 = v37;
    uint64_t v23 = v36;
    id v21 = v15;
    dispatch_time_t v24 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v24, OS_LOG_TYPE_DEFAULT))
    {
      id v25 = [v22 localIdentifier];
      LODWORD(buf) = 138543362;
      *(void *)((char *)&buf + 4) = v25;
      _os_log_impl(&dword_1A9AE7000, v24, OS_LOG_TYPE_DEFAULT, "Will set preview state for library scope with identifier: %{public}@", (uint8_t *)&buf, 0xCu);
    }
    id v26 = PLSharedLibraryGetLog();
    os_signpost_id_t v27 = os_signpost_id_generate(v26);
    id v28 = v26;
    uint64_t v29 = v28;
    if (v27 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v28))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v29, OS_SIGNPOST_INTERVAL_BEGIN, v27, "SetPreviewStateForLibraryScope", "", (uint8_t *)&buf, 2u);
    }

    __int16 v30 = [v22 photoLibrary];
    v46[0] = MEMORY[0x1E4F143A8];
    v46[1] = 3221225472;
    v46[2] = ___SetPreviewStateForLibraryScope_block_invoke;
    v46[3] = &unk_1E5DD36F8;
    id v47 = v22;
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
    id v49 = ___SetPreviewStateForLibraryScope_block_invoke_2;
    long long v50 = &unk_1E5DCB090;
    id v51 = v29;
    id v52 = v47;
    id v53 = v23;
    os_signpost_id_t v54 = v27;
    id v31 = v29;
    [v30 performChanges:v46 completionHandler:&buf];

    id v20 = v41;
  }
}

uint64_t __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (a2)
  {
    unsigned int v6 = *(__int16 *)(a1 + 72);
    uint64_t v7 = *(void **)(a1 + 32);
    os_signpost_id_t v8 = *(void **)(a1 + 40);
    id v9 = *(void **)(a1 + 48);
    v11[0] = MEMORY[0x1E4F143A8];
    v11[1] = 3221225472;
    void v11[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_3;
    void v11[3] = &unk_1E5DCAD88;
    id v14 = *(id *)(a1 + 64);
    id v12 = *(id *)(a1 + 32);
    __int16 v15 = *(_WORD *)(a1 + 72);
    id v13 = *(id *)(a1 + 56);
    _UpdateRulesForLibraryScope(v7, v6, 0, v8, v9, MEMORY[0x1E4F1CBF0], MEMORY[0x1E4F1CBF0], v11);
  }
  else
  {
    uint64_t v10 = *(void *)(a1 + 64);
    if (v10) {
      (*(void (**)(uint64_t, void, id))(v10 + 16))(v10, 0, v5);
    }
  }
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (a2)
  {
    unsigned int v6 = *(void **)(a1 + 32);
    unsigned int v7 = *(__int16 *)(a1 + 56);
    v10[0] = MEMORY[0x1E4F143A8];
    v10[1] = 3221225472;
    void v10[2] = __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_4;
    void v10[3] = &unk_1E5DCDD58;
    id v11 = *(id *)(a1 + 48);
    os_signpost_id_t v8 = _MarkSharedAssetsForLibraryScopeIfNecessary(v6, v7, v10);
    if (v8) {
      [*(id *)(a1 + 40) addChild:v8 withPendingUnitCount:1];
    }
  }
  else
  {
    uint64_t v9 = *(void *)(a1 + 48);
    if (v9) {
      (*(void (**)(uint64_t, void, id))(v9 + 16))(v9, 0, v5);
    }
  }
}

void __PXSharedLibraryPreviewLibraryScopeInvitation_block_invoke_4(uint64_t a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v5 = *(void *)(a1 + 32);
  if (v5) {
    (*(void (**)(uint64_t, uint64_t, id))(v5 + 16))(v5, a2, v6);
  }
}

void PXSharedLibraryAcceptLibraryScopeInvitationPreview(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    uint32_t v19 = [MEMORY[0x1E4F28B00] currentHandler];
    id v20 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAcceptLibraryScopeInvitationPreview(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v19 handleFailureInFunction:v20, @"PXSharedLibraryPhotoKitUtilities.m", 1192, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  uint64_t v5 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v6 = [v5 simulateErrorType];

  if (v6 == 16)
  {
    unsigned int v7 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (Generic)", buf, 2u);
    }

    os_signpost_id_t v8 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Accept Invitation Failed (Generic)");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v30 = v8;
    id v31 = v4;
    id v9 = v8;
    dispatch_async(MEMORY[0x1E4F14428], block);

    uint64_t v10 = v31;
  }
  else
  {
    id v11 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v12 = [v11 simulateErrorType];

    if (v12 == 17)
    {
      id v13 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v13, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (U13)", buf, 2u);
      }

      id v14 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 8503, @"Simulated Error: Accept Invitation Failed (U13)");
      v26[0] = MEMORY[0x1E4F143A8];
      v26[1] = 3221225472;
      v26[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_321;
      v26[3] = &unk_1E5DD3280;
      id v27 = v14;
      id v28 = v4;
      id v9 = v14;
      dispatch_async(MEMORY[0x1E4F14428], v26);

      uint64_t v10 = v28;
    }
    else
    {
      __int16 v15 = +[PXSharedLibrarySettings sharedInstance];
      uint64_t v16 = [v15 simulateErrorType];

      if (v16 != 18)
      {
        v21[0] = MEMORY[0x1E4F143A8];
        v21[1] = 3221225472;
        void v21[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_2;
        void v21[3] = &unk_1E5DCDD58;
        id v22 = v4;
        _AcceptLibraryScope(v3, v21);
        id v9 = v22;
        goto LABEL_16;
      }
      uint64_t v17 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_ERROR, "Simulated Error: Accept Invitation Failed (RegionUnsupported)", buf, 2u);
      }

      os_signpost_id_t v18 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 8504, @"Simulated Error: Accept Invitation Failed (RegionUnsupported)");
      v23[0] = MEMORY[0x1E4F143A8];
      v23[1] = 3221225472;
      void v23[2] = __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_322;
      void v23[3] = &unk_1E5DD3280;
      id v24 = v18;
      id v25 = v4;
      id v9 = v18;
      dispatch_async(MEMORY[0x1E4F14428], v23);

      uint64_t v10 = v25;
    }
  }

LABEL_16:
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_321(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

uint64_t __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_322(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryAcceptLibraryScopeInvitationPreview_block_invoke_2(uint64_t a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v5 = *(void *)(a1 + 32);
  if (v5) {
    (*(void (**)(uint64_t, uint64_t, id))(v5 + 16))(v5, a2, v6);
  }
}

void PXSharedLibraryDeclineLibraryScopeInvitation(void *a1, void *a2)
{
  uint64_t v39 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    id v22 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v23 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDeclineLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v22 handleFailureInFunction:v23, @"PXSharedLibraryPhotoKitUtilities.m", 1234, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  uint64_t v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    LODWORD(buf) = 138543362;
    *(void *)((char *)&buf + 4) = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will decline library scope with identifier: %{public}@", (uint8_t *)&buf, 0xCu);
  }
  unsigned int v7 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v8 = [v7 simulateErrorType];

  if (v8 != 19)
  {
    v24[0] = MEMORY[0x1E4F143A8];
    v24[1] = 3221225472;
    void v24[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_2;
    v24[3] = &unk_1E5DD2B90;
    id v25 = v3;
    id v26 = v4;
    id v12 = v25;
    id v13 = v24;
    id v14 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
    {
      __int16 v15 = [v12 localIdentifier];
      LODWORD(buf) = 138543362;
      *(void *)((char *)&buf + 4) = v15;
      _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "Will trash library scope with identifier: %{public}@", (uint8_t *)&buf, 0xCu);
    }
    uint64_t v16 = PLSharedLibraryGetLog();
    os_signpost_id_t v17 = os_signpost_id_generate(v16);
    os_signpost_id_t v18 = v16;
    uint32_t v19 = v18;
    if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "TrashLibraryScope", "", (uint8_t *)&buf, 2u);
    }

    id v20 = [v12 photoLibrary];
    v30[0] = MEMORY[0x1E4F143A8];
    v30[1] = 3221225472;
    v30[2] = ___TrashLibraryScope_block_invoke;
    v30[3] = &unk_1E5DD36F8;
    id v31 = v12;
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
    dispatch_time_t v33 = ___TrashLibraryScope_block_invoke_2;
    os_signpost_id_t v34 = &unk_1E5DCB090;
    id v35 = v19;
    id v36 = v31;
    id v37 = v13;
    os_signpost_id_t v38 = v17;
    id v21 = v19;
    [v20 performChanges:v30 completionHandler:&buf];

    id v11 = v25;
    goto LABEL_16;
  }
  id v9 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "Simulated Error: Decline Invitation Failed", (uint8_t *)&buf, 2u);
  }

  if (v4)
  {
    uint64_t v10 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Decline Invitation Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v28 = v10;
    id v29 = v4;
    id v11 = v10;
    dispatch_async(MEMORY[0x1E4F14428], block);

LABEL_16:
  }
}

uint64_t __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v6 = PLSharedLibraryGetLog();
  unsigned int v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_7;
    }
    uint64_t v8 = [*(id *)(a1 + 32) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v20 = v8;
    id v9 = "Did decline library scope with identifier: %{public}@";
    uint64_t v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_DEFAULT;
    uint32_t v12 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR)) {
      goto LABEL_7;
    }
    uint64_t v8 = [*(id *)(a1 + 32) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    id v20 = v8;
    __int16 v21 = 2112;
    id v22 = v5;
    id v9 = "Failed to decline library scope with identifier: %{public}@, error: %@";
    uint64_t v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_ERROR;
    uint32_t v12 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v10, v11, v9, buf, v12);

LABEL_7:
  id v13 = *(void **)(a1 + 40);
  if (v13)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_326;
    block[3] = &unk_1E5DD1758;
    id v17 = v13;
    char v18 = a2;
    id v16 = v5;
    id v14 = (void *)MEMORY[0x1E4F14428];
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXSharedLibraryDeclineLibraryScopeInvitation_block_invoke_326(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

void PXSharedLibraryRestoreDeclinedLibraryScopeInvitation(void *a1, void *a2)
{
  uint64_t v41 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    uint64_t v23 = [MEMORY[0x1E4F28B00] currentHandler];
    id v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryRestoreDeclinedLibraryScopeInvitation(PHLibraryScope *__strong _Nonnull, void (^ _Nullable __strong)(PHLibraryScope * _Nullable __strong, NSError * _Nullable __strong))");
    [v23 handleFailureInFunction:v24, @"PXSharedLibraryPhotoKitUtilities.m", 1269, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  id v5 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v5, OS_LOG_TYPE_DEFAULT))
  {
    id v6 = [v3 localIdentifier];
    LODWORD(buf) = 138543362;
    *(void *)((char *)&buf + 4) = v6;
    _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_DEFAULT, "Will restore previously declined library scope with identifier: %{public}@", (uint8_t *)&buf, 0xCu);
  }
  unsigned int v7 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v8 = [v7 simulateErrorType];

  if (v8 != 20)
  {
    v25[0] = MEMORY[0x1E4F143A8];
    v25[1] = 3221225472;
    v25[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_2;
    v25[3] = &unk_1E5DCADD8;
    id v26 = v3;
    id v27 = v4;
    id v12 = v26;
    id v13 = v25;
    id v14 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v14, OS_LOG_TYPE_DEFAULT))
    {
      __int16 v15 = [v12 localIdentifier];
      LODWORD(buf) = 138543362;
      *(void *)((char *)&buf + 4) = v15;
      _os_log_impl(&dword_1A9AE7000, v14, OS_LOG_TYPE_DEFAULT, "Will un-trash library scope with identifier: %{public}@", (uint8_t *)&buf, 0xCu);
    }
    id v16 = PLSharedLibraryGetLog();
    os_signpost_id_t v17 = os_signpost_id_generate(v16);
    char v18 = v16;
    uint32_t v19 = v18;
    if (v17 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v18))
    {
      LOWORD(buf) = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v19, OS_SIGNPOST_INTERVAL_BEGIN, v17, "UnTrashLibraryScope", "", (uint8_t *)&buf, 2u);
    }

    id v20 = [v12 photoLibrary];
    v31[0] = MEMORY[0x1E4F143A8];
    v31[1] = 3221225472;
    v31[2] = ___UnTrashLibraryScope_block_invoke;
    v31[3] = &unk_1E5DD36F8;
    id v32 = v12;
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
    os_signpost_id_t v34 = ___UnTrashLibraryScope_block_invoke_2;
    id v35 = &unk_1E5DCB1D8;
    id v39 = v13;
    os_signpost_id_t v40 = v17;
    id v36 = v19;
    id v37 = v32;
    id v38 = v20;
    __int16 v21 = v19;
    id v22 = v20;
    [v22 performChanges:v31 completionHandler:&buf];

    id v11 = v26;
    goto LABEL_16;
  }
  id v9 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "Simulated Error: Restore Previously Declined Invitation Failed", (uint8_t *)&buf, 2u);
  }

  if (v4)
  {
    uint64_t v10 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Restore Previously Declined Invitation Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v29 = v10;
    id v30 = v4;
    id v11 = v10;
    dispatch_async(MEMORY[0x1E4F14428], block);

LABEL_16:
  }
}

uint64_t __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_2(uint64_t a1, void *a2, void *a3)
{
  uint64_t v24 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  unsigned int v7 = PLSharedLibraryGetLog();
  uint64_t v8 = v7;
  if (v5)
  {
    if (!os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_7;
    }
    id v9 = [v5 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    __int16 v21 = v9;
    uint64_t v10 = "Did restore previously declined library scope with identifier: %{public}@";
    id v11 = v8;
    os_log_type_t v12 = OS_LOG_TYPE_DEFAULT;
    uint32_t v13 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v7, OS_LOG_TYPE_ERROR)) {
      goto LABEL_7;
    }
    id v9 = [*(id *)(a1 + 32) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    __int16 v21 = v9;
    __int16 v22 = 2112;
    id v23 = v6;
    uint64_t v10 = "Failed to restore previously declined library scope with identifier: %{public}@, error: %@";
    id v11 = v8;
    os_log_type_t v12 = OS_LOG_TYPE_ERROR;
    uint32_t v13 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v11, v12, v10, buf, v13);

LABEL_7:
  id v14 = *(void **)(a1 + 40);
  if (v14)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_330;
    block[3] = &unk_1E5DD0E78;
    id v19 = v14;
    id v17 = v5;
    id v18 = v6;
    __int16 v15 = (void *)MEMORY[0x1E4F14428];
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXSharedLibraryRestoreDeclinedLibraryScopeInvitation_block_invoke_330(void *a1)
{
  return (*(uint64_t (**)(void, void, void))(a1[6] + 16))(a1[6], a1[4], a1[5]);
}

void PXSharedLibraryExitPreviewLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v47 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    __int16 v21 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryExitPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v21 handleFailureInFunction:v22, @"PXSharedLibraryPhotoKitUtilities.m", 1302, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v23 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryExitPreviewLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v23 handleFailureInFunction:v24, @"PXSharedLibraryPhotoKitUtilities.m", 1303, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_3:
  uint64_t v39 = 0;
  os_signpost_id_t v40 = &v39;
  uint64_t v41 = 0x3032000000;
  __int16 v42 = __Block_byref_object_copy__247647;
  id v43 = __Block_byref_object_dispose__247648;
  id v44 = 0;
  v37[0] = 0;
  v37[1] = v37;
  v37[2] = 0x2020000000;
  char v38 = 0;
  uint64_t v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryExitProgressTitle_Preview");
  v34[0] = MEMORY[0x1E4F143A8];
  v34[1] = 3221225472;
  void v34[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke;
  v34[3] = &unk_1E5DD35B8;
  id v36 = v37;
  id v9 = v7;
  id v35 = v9;
  uint64_t v10 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v8, v6, v34);
  id v11 = (void *)v40[5];
  v40[5] = v10;

  if (v40[5])
  {
    os_log_type_t v12 = +[PXSharedLibrarySettings sharedInstance];
    BOOL v13 = [v12 simulateErrorType] == 5;

    if (v13)
    {
      dispatch_time_t v14 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_340;
      block[3] = &unk_1E5DCAE00;
      v33[1] = v37;
      v33[2] = &v39;
      __int16 v15 = &v32;
      id v32 = v6;
      id v16 = (id *)v33;
      v33[0] = v9;
      dispatch_after(v14, MEMORY[0x1E4F14428], block);
    }
    else
    {
      id v19 = PLSharedLibraryGetLog();
      if (os_log_type_enabled(v19, OS_LOG_TYPE_DEFAULT))
      {
        id v20 = [v5 localIdentifier];
        *(_DWORD *)long long buf = 138543362;
        id v46 = v20;
        _os_log_impl(&dword_1A9AE7000, v19, OS_LOG_TYPE_DEFAULT, "Will exit preview library scope with identifier: %{public}@", buf, 0xCu);
      }
      v25[0] = MEMORY[0x1E4F143A8];
      v25[1] = 3221225472;
      v25[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_345;
      v25[3] = &unk_1E5DCAE28;
      id v26 = v5;
      id v29 = v37;
      id v30 = &v39;
      id v27 = v6;
      id v28 = v9;
      _ExpungeLibraryScope(v26, v25);

      __int16 v15 = &v26;
      id v16 = &v27;
    }

    id v18 = *v15;
    goto LABEL_14;
  }
  id v17 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v17, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v17, OS_LOG_TYPE_ERROR, "Failed to present exit preview progress alert", buf, 2u);
  }

  if (v9)
  {
    id v18 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present exit preview progress alert");
    (*((void (**)(id, void, void *))v9 + 2))(v9, 0, v18);
LABEL_14:
  }
  _Block_object_dispose(v37, 8);
  _Block_object_dispose(&v39, 8);
}

void sub_1AB0A6928(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((const void *)(v33 - 160), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Exit Shared Library Preview", v5, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  uint64_t v3 = *(void *)(a1 + 32);
  if (v3)
  {
    id v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Exit Shared Library Preview");
    (*(void (**)(uint64_t, void, void *))(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke_340(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 48) + 8) + 24))
  {
    uint64_t v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit from Preview Failed", buf, 2u);
    }

    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Exit from Preview Failed");
    id v4 = *(void **)(*(void *)(*(void *)(a1 + 56) + 8) + 40);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_344;
    void v8[3] = &unk_1E5DD3280;
    id v5 = *(void **)(a1 + 32);
    id v6 = *(id *)(a1 + 40);
    id v9 = v3;
    id v10 = v6;
    id v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryExitPreviewLibraryScope_block_invoke_345(uint64_t a1, int a2, void *a3)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v6 = PLSharedLibraryGetLog();
  id v7 = v6;
  if (a2)
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_7;
    }
    uint64_t v8 = [*(id *)(a1 + 32) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v20 = v8;
    id v9 = "Did exit preview library scope with identifier: %{public}@";
    id v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_DEFAULT;
    uint32_t v12 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v6, OS_LOG_TYPE_ERROR)) {
      goto LABEL_7;
    }
    uint64_t v8 = [*(id *)(a1 + 32) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    id v20 = v8;
    __int16 v21 = 2112;
    id v22 = v5;
    id v9 = "Failed to exit preview library scope with identifier: %{public}@, error: %@";
    id v10 = v7;
    os_log_type_t v11 = OS_LOG_TYPE_ERROR;
    uint32_t v12 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v10, v11, v9, buf, v12);

LABEL_7:
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24))
  {
    BOOL v13 = *(void **)(*(void *)(*(void *)(a1 + 64) + 8) + 40);
    v15[0] = MEMORY[0x1E4F143A8];
    v15[1] = 3221225472;
    void v15[2] = __PXSharedLibraryExitPreviewLibraryScope_block_invoke_346;
    v15[3] = &unk_1E5DD1758;
    dispatch_time_t v14 = *(void **)(a1 + 40);
    id v17 = *(id *)(a1 + 48);
    char v18 = a2;
    id v16 = v5;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v13, v14, v15);
  }
}

uint64_t __PXSharedLibraryExitPreviewLibraryScope_block_invoke_346(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t result = *(void *)(a1 + 40);
  if (result)
  {
    uint64_t v3 = *(uint64_t (**)(void))(result + 16);
    return v3();
  }
  return result;
}

uint64_t __PXSharedLibraryExitPreviewLibraryScope_block_invoke_344(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

void PXSharedLibraryExitLibraryScope(void *a1, unint64_t a2, void *a3, void *a4, void *a5)
{
  uint64_t v75 = *MEMORY[0x1E4F143B8];
  id v9 = a1;
  id v10 = a3;
  id v11 = a4;
  id v12 = a5;
  if (v9)
  {
    if (v11) {
      goto LABEL_3;
    }
  }
  else
  {
    id v37 = [MEMORY[0x1E4F28B00] currentHandler];
    char v38 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryExitLibraryScope(PHLibraryScope *__strong _Nonnull, PHLibraryScopeExitRetentionPolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v37 handleFailureInFunction:v38, @"PXSharedLibraryPhotoKitUtilities.m", 1374, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v11) {
      goto LABEL_3;
    }
  }
  uint64_t v39 = [MEMORY[0x1E4F28B00] currentHandler];
  os_signpost_id_t v40 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryExitLibraryScope(PHLibraryScope *__strong _Nonnull, PHLibraryScopeExitRetentionPolicy, NSProgress * _Nullable __strong, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v39 handleFailureInFunction:v40, @"PXSharedLibraryPhotoKitUtilities.m", 1375, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_3:
  uint64_t v65 = 0;
  id v66 = &v65;
  uint64_t v67 = 0x3032000000;
  __int16 v68 = __Block_byref_object_copy__247647;
  id v69 = __Block_byref_object_dispose__247648;
  id v70 = 0;
  v63[0] = 0;
  v63[1] = v63;
  v63[2] = 0x2020000000;
  char v64 = 0;
  if (v10) {
    goto LABEL_9;
  }
  if ([v9 status] == 1) {
    BOOL v13 = @"PXSharedLibraryExitProgressTitle_Owner";
  }
  else {
    BOOL v13 = @"PXSharedLibraryExitProgressTitle_Participant";
  }
  dispatch_time_t v14 = PXLocalizedSharedLibraryString(v13);
  v60[0] = MEMORY[0x1E4F143A8];
  v60[1] = 3221225472;
  v60[2] = __PXSharedLibraryExitLibraryScope_block_invoke;
  void v60[3] = &unk_1E5DD35B8;
  uint64_t v62 = v63;
  id v15 = v12;
  id v61 = v15;
  uint64_t v16 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v14, v11, v60);
  id v17 = (void *)v66[5];
  v66[5] = v16;

  if (v66[5])
  {

LABEL_9:
    aBlock[0] = MEMORY[0x1E4F143A8];
    aBlock[1] = 3221225472;
    aBlock[2] = __PXSharedLibraryExitLibraryScope_block_invoke_359;
    aBlock[3] = &unk_1E5DCAC20;
    id v59 = &v65;
    id v58 = v11;
    char v18 = _Block_copy(aBlock);
    id v19 = +[PXSharedLibrarySettings sharedInstance];
    BOOL v20 = [v19 simulateErrorType] == 5;

    if (v20)
    {
      dispatch_time_t v21 = dispatch_time(0, 5000000000);
      id v22 = block;
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryExitLibraryScope_block_invoke_3;
      block[3] = &unk_1E5DCAC48;
      id v56 = v63;
      void block[4] = v10;
      id v54 = v18;
      id v55 = v12;
      dispatch_after(v21, MEMORY[0x1E4F14428], block);
    }
    else
    {
      uint64_t v23 = +[PXSharedLibrarySettings sharedInstance];
      BOOL v24 = [v23 simulateErrorType] == 6;

      if (!v24)
      {
        id v27 = PLSharedLibraryGetLog();
        if (os_log_type_enabled(v27, OS_LOG_TYPE_DEFAULT))
        {
          if (a2 >= 3)
          {
            objc_msgSend(NSString, "stringWithFormat:", @"Invalid PHSharedLibraryExitRetentionPolicy: %ld", a2);
            id v28 = (__CFString *)objc_claimAutoreleasedReturnValue();
          }
          else
          {
            id v28 = off_1E5DCB220[a2];
          }
          id v31 = v28;
          id v32 = [v9 localIdentifier];
          *(_DWORD *)long long buf = 138543618;
          __n128 v72 = v31;
          __int16 v73 = 2114;
          id v74 = v32;
          _os_log_impl(&dword_1A9AE7000, v27, OS_LOG_TYPE_DEFAULT, "Will exit with retention policy: %{public}@ for library scope with identifier: %{public}@", buf, 0x16u);
        }
        uint64_t v33 = PLSharedLibraryGetLog();
        os_signpost_id_t v34 = os_signpost_id_generate(v33);
        id v35 = v33;
        id v36 = v35;
        if (v34 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v35))
        {
          *(_WORD *)long long buf = 0;
          _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v36, OS_SIGNPOST_INTERVAL_BEGIN, v34, "ExitLibraryScope", "", buf, 2u);
        }

        v41[0] = MEMORY[0x1E4F143A8];
        v41[1] = 3221225472;
        _OWORD v41[2] = __PXSharedLibraryExitLibraryScope_block_invoke_377;
        v41[3] = &unk_1E5DCAE78;
        id v26 = v36;
        __int16 v42 = v26;
        os_signpost_id_t v48 = v34;
        id v43 = v9;
        uint64_t v47 = v63;
        id v44 = v10;
        id v45 = v18;
        id v46 = v12;
        [v43 startExitFromLibraryScopeWithRetentionPolicy:a2 exitSource:1 completion:v41];

        goto LABEL_28;
      }
      dispatch_time_t v25 = dispatch_time(0, 5000000000);
      id v22 = v49;
      v49[0] = MEMORY[0x1E4F143A8];
      v49[1] = 3221225472;
      v49[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2_364;
      v49[3] = &unk_1E5DCAC48;
      id v52 = v63;
      void v49[4] = v10;
      id v50 = v18;
      id v51 = v12;
      dispatch_after(v25, MEMORY[0x1E4F14428], v49);
    }
    id v26 = v22[4];
LABEL_28:

    dispatch_time_t v14 = v58;
    goto LABEL_29;
  }
  id v29 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v29, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v29, OS_LOG_TYPE_ERROR, "Failed to present exit progress alert", buf, 2u);
  }

  if (v15)
  {
    id v30 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present exit progress alert");
    (*((void (**)(id, void, void *))v15 + 2))(v15, 0, v30);
  }
LABEL_29:

  _Block_object_dispose(v63, 8);
  _Block_object_dispose(&v65, 8);
}

void sub_1AB0A74F8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 208), 8);
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryExitLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Exit Shared Library", v5, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  uint64_t v3 = *(void *)(a1 + 32);
  if (v3)
  {
    id v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Exit Shared Library");
    (*(void (**)(uint64_t, void, void *))(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_359(uint64_t a1, void *a2)
{
  uint64_t v3 = a2;
  id v4 = v3;
  id v5 = *(void **)(*(void *)(*(void *)(a1 + 40) + 8) + 40);
  if (v5)
  {
    id v6 = *(void **)(a1 + 32);
    v7[0] = MEMORY[0x1E4F143A8];
    v7[1] = 3221225472;
    CMTime v7[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2;
    void v7[3] = &unk_1E5DD3128;
    uint64_t v8 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v5, v6, v7);
  }
  else
  {
    v3[2](v3);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_3(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    uint64_t v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit Failed", buf, 2u);
    }

    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Exit Failed");
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryExitLibraryScope_block_invoke_363;
    void v8[3] = &unk_1E5DD3280;
    uint64_t v4 = *(void *)(a1 + 40);
    id v5 = *(id *)(a1 + 48);
    id v9 = v3;
    id v10 = v5;
    id v6 = *(void (**)(uint64_t, void *))(v4 + 16);
    id v7 = v3;
    v6(v4, v8);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_2_364(uint64_t a1)
{
  void v18[3] = *MEMORY[0x1E4F143B8];
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24)
    && ([*(id *)(a1 + 32) isCancelled] & 1) == 0)
  {
    uint64_t v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Exit Failed (ServerGeneratedLocalizedDescription)", buf, 2u);
    }

    uint64_t v3 = (void *)MEMORY[0x1E4F28C58];
    uint64_t v4 = *MEMORY[0x1E4F39800];
    uint64_t v5 = *MEMORY[0x1E4F39830];
    v17[0] = *MEMORY[0x1E4F28228];
    v17[1] = v5;
    v18[0] = @"Simulated Error: Exit Failed (ServerGeneratedLocalizedDescription)";
    v18[1] = @"<< Server Generated Localized Description >>";
    void v17[2] = *MEMORY[0x1E4F39730];
    id v6 = [MEMORY[0x1E4F1CB10] URLWithString:@"https://www.apple.com/"];
    void v18[2] = v6;
    id v7 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v18 forKeys:v17 count:3];
    uint64_t v8 = [v3 errorWithDomain:v4 code:-1 userInfo:v7];

    v13[0] = MEMORY[0x1E4F143A8];
    v13[1] = 3221225472;
    void v13[2] = __PXSharedLibraryExitLibraryScope_block_invoke_376;
    void v13[3] = &unk_1E5DD3280;
    uint64_t v9 = *(void *)(a1 + 40);
    id v10 = *(id *)(a1 + 48);
    id v14 = v8;
    id v15 = v10;
    id v11 = *(void (**)(uint64_t, void *))(v9 + 16);
    id v12 = v8;
    v11(v9, v13);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_377(uint64_t a1, int a2, void *a3)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = *(id *)(a1 + 32);
  id v7 = v6;
  os_signpost_id_t v8 = *(void *)(a1 + 80);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v7, OS_SIGNPOST_INTERVAL_END, v8, "ExitLibraryScope", "", buf, 2u);
  }

  uint64_t v9 = PLSharedLibraryGetLog();
  id v10 = v9;
  if (a2)
  {
    if (os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT))
    {
      id v11 = [*(id *)(a1 + 40) localIdentifier];
      *(_DWORD *)long long buf = 138543362;
      id v22 = v11;
      id v12 = "Did exit library scope with identifier: %{public}@";
      BOOL v13 = v10;
      os_log_type_t v14 = OS_LOG_TYPE_DEFAULT;
      uint32_t v15 = 12;
LABEL_9:
      _os_log_impl(&dword_1A9AE7000, v13, v14, v12, buf, v15);
    }
  }
  else if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
  {
    id v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    id v22 = v11;
    __int16 v23 = 2112;
    id v24 = v5;
    id v12 = "Failed to exit library scope with identifier: %{public}@, error: %@";
    BOOL v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_ERROR;
    uint32_t v15 = 22;
    goto LABEL_9;
  }

  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24)
    && ([*(id *)(a1 + 48) isCancelled] & 1) == 0)
  {
    v16[0] = MEMORY[0x1E4F143A8];
    v16[1] = 3221225472;
    void v16[2] = __PXSharedLibraryExitLibraryScope_block_invoke_378;
    v16[3] = &unk_1E5DCAE50;
    id v18 = *(id *)(a1 + 56);
    id v19 = *(id *)(a1 + 64);
    char v20 = a2;
    id v17 = v5;
    dispatch_async(MEMORY[0x1E4F14428], v16);
  }
}

void __PXSharedLibraryExitLibraryScope_block_invoke_378(uint64_t a1)
{
  v3[0] = MEMORY[0x1E4F143A8];
  v3[1] = 3221225472;
  void v3[2] = __PXSharedLibraryExitLibraryScope_block_invoke_2_379;
  void v3[3] = &unk_1E5DD1758;
  uint64_t v2 = *(void *)(a1 + 40);
  id v5 = *(id *)(a1 + 48);
  char v6 = *(unsigned char *)(a1 + 56);
  id v4 = *(id *)(a1 + 32);
  (*(void (**)(uint64_t, void *))(v2 + 16))(v2, v3);
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_2_379(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
  }
  return result;
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_376(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_363(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

uint64_t __PXSharedLibraryExitLibraryScope_block_invoke_2(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

BOOL PXSharedLibraryCanEditParticipantsInLibraryScope(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    id v4 = [MEMORY[0x1E4F28B00] currentHandler];
    id v5 = [NSString stringWithUTF8String:"BOOL PXSharedLibraryCanEditParticipantsInLibraryScope(PHLibraryScope *__strong _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXSharedLibraryPhotoKitUtilities.m", 1480, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  BOOL v2 = [v1 status] == 1;

  return v2;
}

BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (!v5)
  {
    BOOL v13 = [MEMORY[0x1E4F28B00] currentHandler];
    os_log_type_t v14 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)");
    [v13 handleFailureInFunction:v14, @"PXSharedLibraryPhotoKitUtilities.m", 1489, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  uint64_t v8 = [v6 count];
  uint64_t v9 = [v7 count] + v8;
  if (!v9)
  {
    uint32_t v15 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v16 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull)");
    [v15 handleFailureInFunction:v16, @"PXSharedLibraryPhotoKitUtilities.m", 1492, @"Invalid parameter not satisfying: %@", @"newParticipantsCount > 0" file lineNumber description];
  }
  if (PXSharedLibraryCanEditParticipantsInLibraryScope(v5))
  {
    id v10 = [MEMORY[0x1E4F392E8] fetchParticipantsInShare:v5 options:0];
    BOOL v11 = (unint64_t)([v10 count] + v9) < 7;
  }
  else
  {
    BOOL v11 = 0;
  }

  return v11;
}

void _AddParticipantsToLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  uint64_t v50 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v10 = a4;
  BOOL v11 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v11, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v12 = [v8 count];
    uint64_t v13 = [v9 count];
    os_log_type_t v14 = [v7 localIdentifier];
    *(_DWORD *)long long buf = 134219010;
    uint64_t v41 = v12;
    __int16 v42 = 2112;
    id v43 = v8;
    __int16 v44 = 2048;
    uint64_t v45 = v13;
    __int16 v46 = 2112;
    id v47 = v9;
    __int16 v48 = 2114;
    id v49 = v14;
    _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Will add participants for %lu email addresses: %@ or %lu phone numbers: %@ to library scope with identifier: %{public}@", buf, 0x34u);
  }
  uint32_t v15 = PLSharedLibraryGetLog();
  os_signpost_id_t v16 = os_signpost_id_generate(v15);
  id v17 = v15;
  id v18 = v17;
  if (v16 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v17))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v18, OS_SIGNPOST_INTERVAL_BEGIN, v16, "AddParticipants", "", buf, 2u);
  }

  id v19 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  char v20 = [v7 photoLibrary];
  v35[0] = MEMORY[0x1E4F143A8];
  v35[1] = 3221225472;
  CMTimeRange v35[2] = ___AddParticipantsToLibraryScope_block_invoke;
  v35[3] = &unk_1E5DCAEC8;
  id v36 = v8;
  id v37 = v19;
  id v38 = v9;
  id v39 = v7;
  v28[0] = MEMORY[0x1E4F143A8];
  v28[1] = 3221225472;
  v28[2] = ___AddParticipantsToLibraryScope_block_invoke_4;
  v28[3] = &unk_1E5DCF060;
  id v29 = v20;
  id v30 = v37;
  id v31 = v18;
  id v32 = v39;
  id v33 = v10;
  os_signpost_id_t v34 = v16;
  id v21 = v10;
  id v22 = v39;
  __int16 v23 = v18;
  id v24 = v37;
  id v25 = v20;
  id v26 = v9;
  id v27 = v8;
  [v25 performChanges:v35 completionHandler:v28];
}

void PXSharedLibraryAddParticipantsToLibraryScope(void *a1, void *a2, void *a3, void *a4, void *a5)
{
  id v9 = a1;
  id v10 = a2;
  id v11 = a3;
  uint64_t v12 = v10;
  id v13 = v11;
  id v14 = a4;
  id v15 = a5;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v12)
  {
    if (v13) {
      goto LABEL_3;
    }
LABEL_20:
    id v39 = [MEMORY[0x1E4F28B00] currentHandler];
    os_signpost_id_t v40 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v39 handleFailureInFunction:v40, @"PXSharedLibraryPhotoKitUtilities.m", 1544, @"Invalid parameter not satisfying: %@", @"phoneNumbers" file lineNumber description];

    if (v14) {
      goto LABEL_4;
    }
    goto LABEL_21;
  }
  id v37 = [MEMORY[0x1E4F28B00] currentHandler];
  id v38 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v37 handleFailureInFunction:v38, @"PXSharedLibraryPhotoKitUtilities.m", 1543, @"Invalid parameter not satisfying: %@", @"emailAddresses" file lineNumber description];

  if (!v13) {
    goto LABEL_20;
  }
LABEL_3:
  if (v14) {
    goto LABEL_4;
  }
LABEL_21:
  uint64_t v41 = [MEMORY[0x1E4F28B00] currentHandler];
  __int16 v42 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAddParticipantsToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v41 handleFailureInFunction:v42, @"PXSharedLibraryPhotoKitUtilities.m", 1545, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_4:
  uint64_t v65 = 0;
  id v66 = &v65;
  uint64_t v67 = 0x3032000000;
  __int16 v68 = __Block_byref_object_copy__247647;
  id v69 = __Block_byref_object_dispose__247648;
  id v70 = 0;
  v63[0] = 0;
  v63[1] = v63;
  v63[2] = 0x2020000000;
  char v64 = 0;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2;
  aBlock[3] = &unk_1E5DCAF30;
  uint64_t v62 = v63;
  id v60 = &__block_literal_global_392_247978;
  id v16 = v15;
  id v61 = v16;
  id v17 = _Block_copy(aBlock);
  uint64_t v18 = [v12 count];
  id v44 = v13;
  if ((unint64_t)([v13 count] + v18) <= 1) {
    id v19 = @"PXSharedLibraryAddingParticipantsProgressTitle_Singular";
  }
  else {
    id v19 = @"PXSharedLibraryAddingParticipantsProgressTitle_Plural";
  }
  char v20 = PXLocalizedSharedLibraryString(v19);
  uint64_t v21 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v20, v14, v17);
  id v22 = (void *)v66[5];
  v66[5] = v21;

  if (v66[5])
  {
    __int16 v23 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v24 = [v23 simulateErrorType];

    id v43 = v17;
    if (v24 == 21)
    {
      id v25 = v12;
      id v26 = v9;
      dispatch_time_t v27 = dispatch_time(0, 5000000000);
      v54[0] = MEMORY[0x1E4F143A8];
      v54[1] = 3221225472;
      v54[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_405;
      v54[3] = &unk_1E5DCAF80;
      v57[1] = v63;
      v57[2] = &v65;
      id v28 = &v55;
      id v29 = &v56;
      id v55 = v14;
      id v56 = &__block_literal_global_392_247978;
      id v30 = (id *)v57;
      v57[0] = v16;
      id v31 = MEMORY[0x1E4F14428];
      id v32 = v54;
    }
    else
    {
      id v35 = +[PXSharedLibrarySettings sharedInstance];
      uint64_t v36 = [v35 simulateErrorType];

      if (v36 != 22)
      {
        v45[0] = MEMORY[0x1E4F143A8];
        v45[1] = 3221225472;
        v45[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_415;
        void v45[3] = &unk_1E5DCB048;
        v49[1] = v63;
        v49[2] = &v65;
        id v46 = v14;
        __int16 v48 = &__block_literal_global_392_247978;
        v49[0] = v16;
        id v47 = v9;
        _AddParticipantsToLibraryScope(v47, v12, v13, v45);
        id v25 = v12;
        id v26 = v9;
        id v28 = &v46;
        id v29 = &v48;
        id v30 = (id *)v49;
        id v31 = v47;
        goto LABEL_17;
      }
      id v25 = v12;
      id v26 = v9;
      dispatch_time_t v27 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_410;
      block[3] = &unk_1E5DCAF80;
      v53[1] = v63;
      v53[2] = &v65;
      id v28 = &v51;
      id v29 = &v52;
      id v51 = v14;
      id v52 = &__block_literal_global_392_247978;
      id v30 = (id *)v53;
      v53[0] = v16;
      id v31 = MEMORY[0x1E4F14428];
      id v32 = block;
    }
    dispatch_after(v27, v31, v32);
LABEL_17:

    os_signpost_id_t v34 = *v28;
    id v9 = v26;
    uint64_t v12 = v25;
    id v17 = v43;
    id v13 = v44;
    goto LABEL_18;
  }
  id v33 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v33, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v33, OS_LOG_TYPE_ERROR, "Failed to present add participants progress alert", buf, 2u);
  }

  os_signpost_id_t v34 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present add participants progress alert");
  __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke((uint64_t)v34, v34, v16);
LABEL_18:

  _Block_object_dispose(v63, 8);
  _Block_object_dispose(&v65, 8);
}

void sub_1AB0A8DE0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 184), 8);
  _Block_object_dispose((const void *)(v1 - 152), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2(void *a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  BOOL v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Add Participants", v5, 2u);
  }

  *(unsigned char *)(*(void *)(a1[6] + 8) + 24) = 1;
  uint64_t v3 = a1[4];
  id v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Add Participants");
  (*(void (**)(uint64_t, void *, void))(v3 + 16))(v3, v4, a1[5]);
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v4 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (v4) {
    v4[2](v4, 0, v5);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_405(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24))
  {
    BOOL v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Adding Participants Failed", buf, 2u);
    }

    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Adding Participants Failed");
    id v4 = *(void **)(*(void *)(*(void *)(a1 + 64) + 8) + 40);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_409;
    void v8[3] = &unk_1E5DCAF58;
    id v5 = *(void **)(a1 + 32);
    id v6 = *(id *)(a1 + 40);
    id v9 = v3;
    id v10 = v6;
    id v11 = *(id *)(a1 + 48);
    id v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_410(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 56) + 8) + 24))
  {
    BOOL v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Adding Participants Failed: Too Many", buf, 2u);
    }

    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", *MEMORY[0x1E4F39800], 6011, @"Simulated Error: Adding Participants Failed: Too Many");
    id v4 = *(void **)(*(void *)(*(void *)(a1 + 64) + 8) + 40);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_414;
    void v8[3] = &unk_1E5DCAF58;
    id v5 = *(void **)(a1 + 32);
    id v6 = *(id *)(a1 + 40);
    id v9 = v3;
    id v10 = v6;
    id v11 = *(id *)(a1 + 48);
    id v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_415(uint64_t a1, char a2, void *a3, void *a4)
{
  id v7 = a3;
  id v8 = a4;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t v9 = *(void *)(a1 + 64);
  if (!*(unsigned char *)(*(void *)(v9 + 8) + 24))
  {
    if (a2)
    {
      v17[0] = MEMORY[0x1E4F143A8];
      v17[1] = 3221225472;
      void v17[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_4;
      void v17[3] = &unk_1E5DCB020;
      uint64_t v10 = *(void *)(a1 + 72);
      uint64_t v23 = v9;
      uint64_t v24 = v10;
      id v11 = &v18;
      uint64_t v12 = *(void **)(a1 + 40);
      id v18 = *(id *)(a1 + 32);
      id v13 = &v21;
      id v21 = *(id *)(a1 + 56);
      id v14 = &v19;
      id v19 = v7;
      id v20 = *(id *)(a1 + 40);
      id v22 = *(id *)(a1 + 48);
      _PublishLibraryScope(v12, v17);
    }
    else
    {
      id v15 = *(void **)(*(void *)(*(void *)(a1 + 72) + 8) + 40);
      id v16 = *(void **)(a1 + 32);
      v25[0] = MEMORY[0x1E4F143A8];
      v25[1] = 3221225472;
      v25[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3;
      v25[3] = &unk_1E5DCAF58;
      id v11 = &v27;
      id v27 = *(id *)(a1 + 48);
      id v13 = &v26;
      id v26 = v8;
      id v14 = &v28;
      id v28 = *(id *)(a1 + 56);
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v15, v16, v25);
    }
  }
}

uint64_t __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3(void *a1)
{
  return (*(uint64_t (**)(void, void, void))(a1[5] + 16))(a1[5], a1[4], a1[6]);
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_4(uint64_t a1, void *a2, void *a3)
{
  id v5 = a2;
  id v6 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 72) + 8) + 24))
  {
    id v7 = *(void **)(*(void *)(*(void *)(a1 + 80) + 8) + 40);
    id v8 = *(void **)(a1 + 32);
    v9[0] = MEMORY[0x1E4F143A8];
    v9[1] = 3221225472;
    void v9[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_5;
    v9[3] = &unk_1E5DCAFF8;
    id v10 = v5;
    id v14 = *(id *)(a1 + 56);
    id v11 = *(id *)(a1 + 40);
    id v12 = *(id *)(a1 + 48);
    id v15 = *(id *)(a1 + 64);
    id v13 = v6;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v7, v8, v9);
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_5(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (*(void *)(a1 + 32))
  {
    uint64_t v2 = *(void *)(a1 + 64);
    if (v2)
    {
      uint64_t v3 = *(void (**)(void))(v2 + 16);
LABEL_13:
      v3();
    }
  }
  else
  {
    if (![*(id *)(a1 + 40) count])
    {
      uint64_t v3 = *(void (**)(void))(*(void *)(a1 + 72) + 16);
      goto LABEL_13;
    }
    id v4 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_ERROR, "Publishing library scope after adding participants failed, deleting the added participants.", buf, 2u);
    }

    id v5 = [*(id *)(a1 + 48) photoLibrary];
    v10[0] = MEMORY[0x1E4F143A8];
    v10[1] = 3221225472;
    void v10[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_416;
    void v10[3] = &unk_1E5DD32A8;
    id v11 = *(id *)(a1 + 48);
    id v12 = *(id *)(a1 + 40);
    v6[0] = MEMORY[0x1E4F143A8];
    v6[1] = 3221225472;
    void v6[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_417;
    _OWORD v6[3] = &unk_1E5DCAFD0;
    id v8 = *(id *)(a1 + 72);
    id v7 = *(id *)(a1 + 56);
    id v9 = *(id *)(a1 + 64);
    [v5 performChanges:v10 completionHandler:v6];
  }
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_416(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 removeParticipants:*(void *)(a1 + 40)];
}

void __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_2_417(id *a1, char a2, void *a3)
{
  id v5 = a3;
  block[0] = MEMORY[0x1E4F143A8];
  block[1] = 3221225472;
  block[2] = __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3_418;
  block[3] = &unk_1E5DCAFA8;
  char v12 = a2;
  id v10 = a1[5];
  id v8 = a1[4];
  id v11 = a1[6];
  id v9 = v5;
  id v6 = v5;
  dispatch_async(MEMORY[0x1E4F14428], block);
}

uint64_t __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_3_418(uint64_t a1)
{
  uint64_t v1 = 32;
  if (!*(unsigned char *)(a1 + 64)) {
    uint64_t v1 = 40;
  }
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 48) + 16))(*(void *)(a1 + 48), *(void *)(a1 + v1), *(void *)(a1 + 56));
}

uint64_t __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_414(void *a1)
{
  return (*(uint64_t (**)(void, void, void))(a1[5] + 16))(a1[5], a1[4], a1[6]);
}

uint64_t __PXSharedLibraryAddParticipantsToLibraryScope_block_invoke_409(void *a1)
{
  return (*(uint64_t (**)(void, void, void))(a1[5] + 16))(a1[5], a1[4], a1[6]);
}

uint64_t PXSharedLibraryCanDeleteParticipantsFromLibraryScope(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  if (!v3)
  {
    id v6 = [MEMORY[0x1E4F28B00] currentHandler];
    id v7 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull)");
    [v6 handleFailureInFunction:v7, @"PXSharedLibraryPhotoKitUtilities.m", 1663, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  if (![v4 count])
  {
    id v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull)");
    [v8 handleFailureInFunction:v9, @"PXSharedLibraryPhotoKitUtilities.m", 1664, @"Invalid parameter not satisfying: %@", @"participants.count" file lineNumber description];
  }
  if (PXSharedLibraryCanEditParticipantsInLibraryScope(v3)) {
    PXExists();
  }

  return 0;
}

BOOL __PXSharedLibraryCanDeleteParticipantsFromLibraryScope_block_invoke(uint64_t a1, void *a2)
{
  id v2 = a2;
  BOOL v3 = [v2 role] == 1 || objc_msgSend(v2, "exitState") != 0;

  return v3;
}

void _DeleteParticipantsFromLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v29 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  id v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v9 = [v6 count];
    id v10 = [v5 localIdentifier];
    *(_DWORD *)long long buf = 134218498;
    uint64_t v24 = v9;
    __int16 v25 = 2112;
    id v26 = v6;
    __int16 v27 = 2114;
    id v28 = v10;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "Will delete %lu participants: %@ from library scope with identifier: %{public}@", buf, 0x20u);
  }
  id v11 = PLSharedLibraryGetLog();
  os_signpost_id_t v12 = os_signpost_id_generate(v11);
  id v13 = v11;
  id v14 = v13;
  if (v12 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v13))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v14, OS_SIGNPOST_INTERVAL_BEGIN, v12, "DeleteParticipants", "", buf, 2u);
  }

  v18[0] = MEMORY[0x1E4F143A8];
  v18[1] = 3221225472;
  void v18[2] = ___DeleteParticipantsFromLibraryScope_block_invoke;
  void v18[3] = &unk_1E5DCB090;
  id v19 = v14;
  id v20 = v5;
  id v21 = v7;
  os_signpost_id_t v22 = v12;
  id v15 = v7;
  id v16 = v5;
  id v17 = v14;
  [v16 removeParticipants:v6 exitSource:1 completion:v18];
}

void PXSharedLibraryDeleteParticipantsFromLibraryScope(void *a1, void *a2, void *a3, void *a4)
{
  id v7 = a1;
  id v8 = a2;
  id v9 = a3;
  id v10 = a4;
  if (!v7)
  {
    uint64_t v24 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v25 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v24 handleFailureInFunction:v25, @"PXSharedLibraryPhotoKitUtilities.m", 1698, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];
  }
  if ([v8 count])
  {
    if (v9) {
      goto LABEL_5;
    }
  }
  else
  {
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1699, @"Invalid parameter not satisfying: %@", @"participants.count" file lineNumber description];

    if (v9) {
      goto LABEL_5;
    }
  }
  id v28 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryDeleteParticipantsFromLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<PHShareParticipant *> *__strong _Nonnull, __strong id<PXPresentationEnvironment> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXSharedLibraryPhotoKitUtilities.m", 1700, @"Invalid parameter not satisfying: %@", @"presentationEnvironment" file lineNumber description];

LABEL_5:
  uint64_t v42 = 0;
  id v43 = &v42;
  uint64_t v44 = 0x3032000000;
  uint64_t v45 = __Block_byref_object_copy__247647;
  id v46 = __Block_byref_object_dispose__247648;
  id v47 = 0;
  v40[0] = 0;
  v40[1] = v40;
  v40[2] = 0x2020000000;
  char v41 = 0;
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke;
  aBlock[3] = &unk_1E5DD35B8;
  id v39 = v40;
  id v11 = v10;
  id v38 = v11;
  os_signpost_id_t v12 = _Block_copy(aBlock);
  if ((unint64_t)[v8 count] <= 1) {
    id v13 = @"PXSharedLibraryDeletingParticipantsProgressTitle_Singular";
  }
  else {
    id v13 = @"PXSharedLibraryDeletingParticipantsProgressTitle_Plural";
  }
  id v14 = PXLocalizedSharedLibraryString(v13);
  uint64_t v15 = PXSharedLibraryPresentProgressAlertWithPresentationEnvironment(v14, v9, v12);
  id v16 = (void *)v43[5];
  v43[5] = v15;

  if (v43[5])
  {
    id v17 = +[PXSharedLibrarySettings sharedInstance];
    uint64_t v18 = [v17 simulateErrorType];

    if (v18 == 21)
    {
      dispatch_time_t v19 = dispatch_time(0, 5000000000);
      block[0] = MEMORY[0x1E4F143A8];
      block[1] = 3221225472;
      block[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_439;
      block[3] = &unk_1E5DCAE00;
      v35[1] = v40;
      CMTimeRange v35[2] = &v42;
      id v20 = &v34;
      id v34 = v9;
      id v21 = (id *)v35;
      v35[0] = v11;
      dispatch_after(v19, MEMORY[0x1E4F14428], block);
    }
    else
    {
      v30[0] = MEMORY[0x1E4F143A8];
      v30[1] = 3221225472;
      v30[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_2;
      v30[3] = &unk_1E5DCB0B8;
      v32[1] = v40;
      v32[2] = &v42;
      id v31 = v9;
      v32[0] = v11;
      _DeleteParticipantsFromLibraryScope(v7, v8, v30);
      id v20 = &v31;
      id v21 = (id *)v32;
    }

    uint64_t v23 = *v20;
    goto LABEL_17;
  }
  os_signpost_id_t v22 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR))
  {
    *(_WORD *)long long buf = 0;
    _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_ERROR, "Failed to present delete participants progress alert", buf, 2u);
  }

  if (v11)
  {
    uint64_t v23 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"Failed to present delete participants progress alert");
    (*((void (**)(id, void, void *))v11 + 2))(v11, 0, v23);
LABEL_17:
  }
  _Block_object_dispose(v40, 8);
  _Block_object_dispose(&v42, 8);
}

void sub_1AB0AA380(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Block_object_dispose((const void *)(v1 - 144), 8);
  _Unwind_Resume(a1);
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  id v2 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_DEFAULT))
  {
    *(_WORD *)id v5 = 0;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_DEFAULT, "Canceled by the user: Delete Participants", v5, 2u);
  }

  *(unsigned char *)(*(void *)(*(void *)(a1 + 40) + 8) + 24) = 1;
  uint64_t v3 = *(void *)(a1 + 32);
  if (v3)
  {
    id v4 = PXSharedLibraryUserCanceledErrorWithDebugDescription(@"Delete Participants");
    (*(void (**)(uint64_t, void, void *))(v3 + 16))(v3, 0, v4);
  }
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_439(uint64_t a1)
{
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 48) + 8) + 24))
  {
    id v2 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v2, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_ERROR, "Simulated Error: Deleting Participants Failed", buf, 2u);
    }

    uint64_t v3 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Deleting Participants Failed");
    id v4 = *(void **)(*(void *)(*(void *)(a1 + 56) + 8) + 40);
    v8[0] = MEMORY[0x1E4F143A8];
    v8[1] = 3221225472;
    void v8[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_443;
    void v8[3] = &unk_1E5DD3280;
    id v5 = *(void **)(a1 + 32);
    id v6 = *(id *)(a1 + 40);
    id v9 = v3;
    id v10 = v6;
    id v7 = v3;
    PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v4, v5, v8);
  }
}

void __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_2(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  if (!*(unsigned char *)(*(void *)(*(void *)(a1 + 48) + 8) + 24))
  {
    id v6 = *(void **)(*(void *)(*(void *)(a1 + 56) + 8) + 40);
    id v7 = *(void **)(a1 + 32);
    if (a2)
    {
      v9[0] = MEMORY[0x1E4F143A8];
      v9[1] = 3221225472;
      void v9[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_4;
      v9[3] = &unk_1E5DD3128;
      id v8 = &v10;
      id v10 = *(id *)(a1 + 40);
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v6, v7, v9);
    }
    else
    {
      v11[0] = MEMORY[0x1E4F143A8];
      v11[1] = 3221225472;
      void v11[2] = __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_3;
      void v11[3] = &unk_1E5DD3280;
      id v8 = &v13;
      id v13 = *(id *)(a1 + 40);
      id v12 = v5;
      PXSharedLibraryDismissProgressAlertWithPresentationEnvironment(v6, v7, v11);
    }
  }
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_3(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t result = *(void *)(a1 + 40);
  if (result)
  {
    uint64_t v3 = *(uint64_t (**)(void))(result + 16);
    return v3();
  }
  return result;
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_4(uint64_t a1)
{
  dispatch_assert_queue_V2(MEMORY[0x1E4F14428]);
  uint64_t result = *(void *)(a1 + 32);
  if (result)
  {
    uint64_t v3 = *(uint64_t (**)(void))(result + 16);
    return v3();
  }
  return result;
}

uint64_t __PXSharedLibraryDeleteParticipantsFromLibraryScope_block_invoke_443(uint64_t a1)
{
  uint64_t result = *(void *)(a1 + 40);
  if (result) {
    return (*(uint64_t (**)(uint64_t, void, void))(result + 16))(result, 0, *(void *)(a1 + 32));
  }
  return result;
}

uint64_t _CanMoveToSharedLibraryOrPersonalLibrary(uint64_t a1, void *a2, int a3)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  long long v10 = 0u;
  long long v11 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  id v4 = a2;
  uint64_t v5 = [v4 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v5)
  {
    uint64_t v6 = *(void *)v11;
    if (a3) {
      uint64_t v7 = 102;
    }
    else {
      uint64_t v7 = 103;
    }
    while (2)
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v11 != v6) {
          objc_enumerationMutation(v4);
        }
        if (objc_msgSend(*(id *)(*((void *)&v10 + 1) + 8 * i), "canPerformEditOperation:", v7, (void)v10))
        {
          uint64_t v5 = 1;
          goto LABEL_13;
        }
      }
      uint64_t v5 = [v4 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (v5) {
        continue;
      }
      break;
    }
  }
LABEL_13:

  return v5;
}

uint64_t PXSharedLibraryCanMoveAssetsToLibraryScope(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (!v3)
  {
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v10 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)");
    [v9 handleFailureInFunction:v10, @"PXSharedLibraryPhotoKitUtilities.m", 1786, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
LABEL_6:
    long long v11 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v12 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)");
    [v11 handleFailureInFunction:v12, @"PXSharedLibraryPhotoKitUtilities.m", 1787, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

    uint64_t v6 = 0;
    goto LABEL_4;
  }
  if (!v4) {
    goto LABEL_6;
  }
LABEL_3:
  uint64_t v6 = v5;
LABEL_4:
  CanMoveToSharedLibraryOrPersonalLibrarCGFloat y = _CanMoveToSharedLibraryOrPersonalLibrary((uint64_t)v4, v6, 1);

  return CanMoveToSharedLibraryOrPersonalLibrary;
}

uint64_t PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (!v3)
  {
    id v9 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v10 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)");
    [v9 handleFailureInFunction:v10, @"PXSharedLibraryPhotoKitUtilities.m", 1794, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
LABEL_6:
    long long v11 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v12 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedLibraryCanMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull)");
    [v11 handleFailureInFunction:v12, @"PXSharedLibraryPhotoKitUtilities.m", 1795, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

    uint64_t v6 = 0;
    goto LABEL_4;
  }
  if (!v4) {
    goto LABEL_6;
  }
LABEL_3:
  uint64_t v6 = v5;
LABEL_4:
  CanMoveToSharedLibraryOrPersonalLibrarCGFloat y = _CanMoveToSharedLibraryOrPersonalLibrary((uint64_t)v4, v6, 0);

  return CanMoveToSharedLibraryOrPersonalLibrary;
}

uint64_t PXSharedLibraryCanRejectAssetsSharingSuggestionsForLibraryScope(uint64_t a1, void *a2)
{
  uint64_t v15 = *MEMORY[0x1E4F143B8];
  long long v10 = 0u;
  long long v11 = 0u;
  long long v12 = 0u;
  long long v13 = 0u;
  id v2 = a2;
  uint64_t v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
  if (v3)
  {
    uint64_t v4 = *(void *)v11;
    while (2)
    {
      for (uint64_t i = 0; i != v3; ++i)
      {
        if (*(void *)v11 != v4) {
          objc_enumerationMutation(v2);
        }
        uint64_t v6 = *(void **)(*((void *)&v10 + 1) + 8 * i);
        objc_msgSend(v6, "fetchPropertySetsIfNeeded", (void)v10);
        uint64_t v7 = [v6 libraryScopeProperties];
        char v8 = [v7 assetIsInPhotosSuggestedPreviewState];

        if (v8)
        {
          uint64_t v3 = 1;
          goto LABEL_11;
        }
      }
      uint64_t v3 = [v2 countByEnumeratingWithState:&v10 objects:v14 count:16];
      if (v3) {
        continue;
      }
      break;
    }
  }
LABEL_11:

  return v3;
}

void PXSharedLibraryMoveAssetsToLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v42 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v24 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v25 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v24 handleFailureInFunction:v25, @"PXSharedLibraryPhotoKitUtilities.m", 1814, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v26 = [MEMORY[0x1E4F28B00] currentHandler];
  __int16 v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsToLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1815, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

LABEL_3:
  char v8 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v9 = [v8 simulateErrorType];

  long long v10 = PLSharedLibraryGetLog();
  long long v11 = v10;
  if (v9 == 25)
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_ERROR, "Simulated Error: Move Assets to Shared Library Failed", buf, 2u);
    }

    long long v12 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Move Assets to Shared Library Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v38 = v12;
    id v39 = v7;
    id v13 = v7;
    id v14 = v12;
    dispatch_async(MEMORY[0x1E4F14428], block);

    id v15 = v39;
  }
  else
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      id v16 = [v5 localIdentifier];
      *(_DWORD *)long long buf = 138543362;
      char v41 = v16;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Will move assets to library scope with identifier: %{public}@", buf, 0xCu);
    }
    id v17 = PLSharedLibraryGetLog();
    os_signpost_id_t v18 = os_signpost_id_generate(v17);
    dispatch_time_t v19 = v17;
    id v20 = v19;
    if (v18 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v19))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v20, OS_SIGNPOST_INTERVAL_BEGIN, v18, "MoveAssetsToLibraryScope", "", buf, 2u);
    }

    id v21 = _PXSharedLibraryFetchAssetsFromAssets(v6, 0, 0, 0);
    os_signpost_id_t v22 = [v5 photoLibrary];
    v34[0] = MEMORY[0x1E4F143A8];
    v34[1] = 3221225472;
    void v34[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_450;
    v34[3] = &unk_1E5DD32A8;
    id v35 = v5;
    id v36 = v21;
    v28[0] = MEMORY[0x1E4F143A8];
    v28[1] = 3221225472;
    v28[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_2;
    v28[3] = &unk_1E5DCB1D8;
    uint64_t v29 = v20;
    os_signpost_id_t v33 = v18;
    id v31 = v36;
    id v32 = v7;
    id v30 = v35;
    id v15 = v36;
    id v23 = v7;
    id v14 = v20;
    [v22 performChanges:v34 completionHandler:v28];
  }
}

uint64_t __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

id _PXSharedLibraryFetchAssetsFromAssets(void *a1, int a2, char a3, int a4)
{
  uint64_t v52 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  if (![v7 count])
  {
    id v15 = v7;
    goto LABEL_33;
  }
  int v45 = a2;
  char v8 = PLSharedLibraryGetLog();
  os_signpost_id_t v9 = os_signpost_id_generate(v8);
  long long v10 = v8;
  long long v11 = v10;
  unint64_t v12 = v9 - 1;
  if (v9 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v10))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v11, OS_SIGNPOST_INTERVAL_BEGIN, v9, "SharedLibraryFetchAssetsFromAssets", "", buf, 2u);
  }

  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      id v13 = v7;
      uint64_t v14 = [v13 oids];
      goto LABEL_10;
    }
    char v44 = a3;
    os_signpost_id_t v43 = v9;
    id v17 = [MEMORY[0x1E4F1CA48] array];
    long long v46 = 0u;
    long long v47 = 0u;
    long long v48 = 0u;
    long long v49 = 0u;
    id v19 = v7;
    uint64_t v20 = [v19 countByEnumeratingWithState:&v46 objects:v51 count:16];
    if (v20)
    {
      uint64_t v21 = v20;
      uint64_t v22 = *(void *)v47;
      do
      {
        for (uint64_t i = 0; i != v21; ++i)
        {
          if (*(void *)v47 != v22) {
            objc_enumerationMutation(v19);
          }
          uint64_t v24 = [*(id *)(*((void *)&v46 + 1) + 8 * i) objectID];
          [v17 addObject:v24];
        }
        uint64_t v21 = [v19 countByEnumeratingWithState:&v46 objects:v51 count:16];
      }
      while (v21);
    }

    id v16 = (void *)[v17 copy];
    __int16 v25 = [v19 firstObject];
    if (v25)
    {
      objc_opt_class();
      os_signpost_id_t v9 = v43;
      if (objc_opt_isKindOfClass())
      {
LABEL_20:
        id v26 = [v25 photoLibrary];
        os_signpost_id_t v18 = [v26 librarySpecificFetchOptions];

        a3 = v44;
        goto LABEL_21;
      }
      uint64_t v37 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v41 = objc_msgSend(NSString, "stringWithUTF8String:", "id<PXFastEnumeration> _PXSharedLibraryFetchAssetsFromAssets(__strong id<PXFastEnumeration>, BOOL, BOOL, BOOL)");
      id v38 = (objc_class *)objc_opt_class();
      id v34 = NSStringFromClass(v38);
      os_signpost_id_t v40 = objc_msgSend(v25, "px_descriptionForAssertionMessage");
      uint64_t v42 = (void *)v37;
      id v39 = (void *)v37;
      id v36 = (void *)v41;
      objc_msgSend(v39, "handleFailureInFunction:file:lineNumber:description:", @"assets.firstObject", v34, v40);
    }
    else
    {
      uint64_t v31 = [MEMORY[0x1E4F28B00] currentHandler];
      uint64_t v32 = objc_msgSend(NSString, "stringWithUTF8String:", "id<PXFastEnumeration> _PXSharedLibraryFetchAssetsFromAssets(__strong id<PXFastEnumeration>, BOOL, BOOL, BOOL)");
      os_signpost_id_t v33 = (objc_class *)objc_opt_class();
      id v34 = NSStringFromClass(v33);
      uint64_t v42 = (void *)v31;
      id v35 = (void *)v31;
      id v36 = (void *)v32;
      [v35 handleFailureInFunction:v32, @"PXSharedLibraryPhotoKitUtilities.m", 2022, @"%@ should be an instance inheriting from %@, but it is nil", @"assets.firstObject", v34 file lineNumber description];
      os_signpost_id_t v9 = v43;
    }

    goto LABEL_20;
  }
  id v13 = v7;
  uint64_t v14 = [v13 fetchedObjectIDs];
LABEL_10:
  id v16 = (void *)v14;
  id v17 = [v13 photoLibrary];

  os_signpost_id_t v18 = [v17 librarySpecificFetchOptions];
LABEL_21:

  if (a4) {
    [v18 setFetchLimit:1];
  }
  if (v45)
  {
    [v18 setIncludeOnlyContentContributedByCurrentUser:1];
  }
  else
  {
    [v18 setIncludeHiddenAssets:1];
    if (a3) {
      [MEMORY[0x1E4F8A950] predicateToIncludeSharedLibraryAssetsAllowingIndexingOnParticipationState:1];
    }
    else {
    __int16 v27 = [MEMORY[0x1E4F8A950] predicateToIncludePrivateLibraryAssetsAllowingIndexingOnParticipationState:1];
    }
    [v18 setInternalPredicate:v27];
  }
  id v15 = [MEMORY[0x1E4F38EB8] fetchAssetsWithObjectIDs:v16 options:v18];
  id v28 = v11;
  uint64_t v29 = v28;
  if (v12 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v28))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v29, OS_SIGNPOST_INTERVAL_END, v9, "SharedLibraryFetchAssetsFromAssets", "", buf, 2u);
  }

LABEL_33:
  return v15;
}

void __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_450(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 moveToSharedLibrary:*(void *)(a1 + 40)];
}

void __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v55[1] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = *(id *)(a1 + 32);
  id v7 = v6;
  os_signpost_id_t v8 = *(void *)(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v7, OS_SIGNPOST_INTERVAL_END, v8, "MoveAssetsToLibraryScope", "", buf, 2u);
  }

  os_signpost_id_t v9 = PLSharedLibraryGetLog();
  long long v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_10;
    }
    long long v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v52 = v11;
    unint64_t v12 = "Did move assets to library scope with identifier: %{public}@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_DEFAULT;
    uint32_t v15 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR)) {
      goto LABEL_10;
    }
    long long v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    uint64_t v52 = v11;
    __int16 v53 = 2112;
    id v54 = v5;
    unint64_t v12 = "Failed to move assets to library scope with identifier: %{public}@, error: %@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_ERROR;
    uint32_t v15 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v13, v14, v12, buf, v15);

LABEL_10:
  id v16 = *(void **)(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_451;
    block[3] = &unk_1E5DD1758;
    id v43 = v16;
    char v44 = a2;
    id v42 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  if (a2)
  {
    id v17 = *(id *)(a1 + 48);
    objc_opt_class();
    id v40 = v5;
    if (objc_opt_isKindOfClass())
    {
      id v18 = v17;
      id v19 = [v18 fetchPropertySets];
      uint64_t v20 = *MEMORY[0x1E4F394C0];
      char v21 = [v19 containsObject:*MEMORY[0x1E4F394C0]];

      id v17 = v18;
      if ((v21 & 1) == 0)
      {
        uint64_t v22 = [v18 photoLibrary];
        id v23 = [v22 librarySpecificFetchOptions];

        v55[0] = v20;
        uint64_t v24 = [MEMORY[0x1E4F1C978] arrayWithObjects:v55 count:1];
        [v23 setFetchPropertySets:v24];

        __int16 v25 = (void *)MEMORY[0x1E4F38EB8];
        id v26 = [v18 fetchedObjectIDs];
        id v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }
    id v27 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
    long long v47 = 0u;
    long long v48 = 0u;
    long long v49 = 0u;
    long long v50 = 0u;
    id v28 = v17;
    uint64_t v29 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
    if (v29)
    {
      uint64_t v30 = v29;
      uint64_t v31 = *(void *)v48;
      do
      {
        for (uint64_t i = 0; i != v30; ++i)
        {
          if (*(void *)v48 != v31) {
            objc_enumerationMutation(v28);
          }
          os_signpost_id_t v33 = *(void **)(*((void *)&v47 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          id v34 = [v33 libraryScopeProperties];
          unsigned int v35 = [v34 suggestedByClientType] + 1;
          id v36 = @"Unknown";
          if (v35 <= 5) {
            id v36 = off_1E5DCB238[v35];
          }

          uint64_t v37 = NSNumber;
          id v38 = [v27 objectForKeyedSubscript:v36];
          id v39 = objc_msgSend(v37, "numberWithInt:", objc_msgSend(v38, "intValue") + 1);
          [v27 setObject:v39 forKeyedSubscript:v36];
        }
        uint64_t v30 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
      }
      while (v30);
    }

    v45[0] = MEMORY[0x1E4F143A8];
    v45[1] = 3221225472;
    v45[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    void v45[3] = &unk_1E5DCB200;
    long long v46 = @"move to shared";
    [v27 enumerateKeysAndObjectsUsingBlock:v45];

    id v5 = v40;
  }
}

uint64_t __PXSharedLibraryMoveAssetsToLibraryScope_block_invoke_451(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

id PXSharedLibraryFetchPrivateAssetsFromAssets(void *a1)
{
  return _PXSharedLibraryFetchAssetsFromAssets(a1, 0, 0, 0);
}

void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(void *a1, void *a2, void *a3)
{
  id v15 = a1;
  id v5 = a2;
  id v6 = a3;
  if (v15)
  {
    if (v5) {
      goto LABEL_3;
    }
  }
  else
  {
    long long v11 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v12 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v11 handleFailureInFunction:v12, @"PXSharedLibraryPhotoKitUtilities.m", 1860, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  id v13 = [MEMORY[0x1E4F28B00] currentHandler];
  os_log_type_t v14 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsWithLocalIdentifiersToLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v13 handleFailureInFunction:v14, @"PXSharedLibraryPhotoKitUtilities.m", 1861, @"Invalid parameter not satisfying: %@", @"localIdentifiers" file lineNumber description];

LABEL_3:
  id v7 = (void *)MEMORY[0x1E4F38EB8];
  os_signpost_id_t v8 = [v15 photoLibrary];
  os_signpost_id_t v9 = [v8 librarySpecificFetchOptions];
  long long v10 = [v7 fetchAssetsWithLocalIdentifiers:v5 options:v9];

  PXSharedLibraryMoveAssetsToLibraryScope(v15, v10, v6);
}

void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(void *a1, void *a2, void *a3)
{
  uint64_t v42 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v24 = [MEMORY[0x1E4F28B00] currentHandler];
    __int16 v25 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v24 handleFailureInFunction:v25, @"PXSharedLibraryPhotoKitUtilities.m", 1868, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v26 = [MEMORY[0x1E4F28B00] currentHandler];
  id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryMoveAssetsToSPLPersonalLibrary(PHLibraryScope *__strong _Nonnull, __strong id<PXFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1869, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

LABEL_3:
  os_signpost_id_t v8 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v9 = [v8 simulateErrorType];

  long long v10 = PLSharedLibraryGetLog();
  long long v11 = v10;
  if (v9 == 25)
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_ERROR, "Simulated Error: Move Assets to Personal Library Failed", buf, 2u);
    }

    unint64_t v12 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Move Assets to Personal Library Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v38 = v12;
    id v39 = v7;
    id v13 = v7;
    os_log_type_t v14 = v12;
    dispatch_async(MEMORY[0x1E4F14428], block);

    id v15 = v39;
  }
  else
  {
    if (os_log_type_enabled(v10, OS_LOG_TYPE_DEFAULT))
    {
      id v16 = [v5 localIdentifier];
      *(_DWORD *)long long buf = 138543362;
      uint64_t v41 = v16;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEFAULT, "Will move assets to personal library from library scope with identifier: %{public}@", buf, 0xCu);
    }
    id v17 = PLSharedLibraryGetLog();
    os_signpost_id_t v18 = os_signpost_id_generate(v17);
    id v19 = v17;
    uint64_t v20 = v19;
    if (v18 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v19))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v20, OS_SIGNPOST_INTERVAL_BEGIN, v18, "MoveToPersonalLibrary", "", buf, 2u);
    }

    char v21 = _PXSharedLibraryFetchAssetsFromAssets(v6, 0, 1, 0);
    uint64_t v22 = [v5 photoLibrary];
    v34[0] = MEMORY[0x1E4F143A8];
    v34[1] = 3221225472;
    void v34[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_462;
    v34[3] = &unk_1E5DD32A8;
    id v35 = v5;
    id v36 = v21;
    v28[0] = MEMORY[0x1E4F143A8];
    v28[1] = 3221225472;
    v28[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_2;
    v28[3] = &unk_1E5DCB1D8;
    uint64_t v29 = v20;
    os_signpost_id_t v33 = v18;
    id v31 = v36;
    id v32 = v7;
    id v30 = v35;
    id v15 = v36;
    id v23 = v7;
    os_log_type_t v14 = v20;
    [v22 performChanges:v34 completionHandler:v28];
  }
}

uint64_t __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_462(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 moveToPersonalLibrary:*(void *)(a1 + 40)];
}

void __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v55[1] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = *(id *)(a1 + 32);
  id v7 = v6;
  os_signpost_id_t v8 = *(void *)(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v7, OS_SIGNPOST_INTERVAL_END, v8, "MoveToPersonalLibrary", "", buf, 2u);
  }

  uint64_t v9 = PLSharedLibraryGetLog();
  long long v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_10;
    }
    long long v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v52 = v11;
    unint64_t v12 = "Did move assets to personal library from library scope with identifier: %{public}@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_DEFAULT;
    uint32_t v15 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR)) {
      goto LABEL_10;
    }
    long long v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    uint64_t v52 = v11;
    __int16 v53 = 2112;
    id v54 = v5;
    unint64_t v12 = "Failed to move assets to personal library from library scope with identifier: %{public}@, error: %@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_ERROR;
    uint32_t v15 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v13, v14, v12, buf, v15);

LABEL_10:
  id v16 = *(void **)(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_463;
    block[3] = &unk_1E5DD1758;
    id v43 = v16;
    char v44 = a2;
    id v42 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  if (a2)
  {
    id v17 = *(id *)(a1 + 48);
    objc_opt_class();
    id v40 = v5;
    if (objc_opt_isKindOfClass())
    {
      id v18 = v17;
      id v19 = [v18 fetchPropertySets];
      uint64_t v20 = *MEMORY[0x1E4F394C0];
      char v21 = [v19 containsObject:*MEMORY[0x1E4F394C0]];

      id v17 = v18;
      if ((v21 & 1) == 0)
      {
        uint64_t v22 = [v18 photoLibrary];
        id v23 = [v22 librarySpecificFetchOptions];

        v55[0] = v20;
        uint64_t v24 = [MEMORY[0x1E4F1C978] arrayWithObjects:v55 count:1];
        [v23 setFetchPropertySets:v24];

        __int16 v25 = (void *)MEMORY[0x1E4F38EB8];
        id v26 = [v18 fetchedObjectIDs];
        id v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }
    id v27 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
    long long v47 = 0u;
    long long v48 = 0u;
    long long v49 = 0u;
    long long v50 = 0u;
    id v28 = v17;
    uint64_t v29 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
    if (v29)
    {
      uint64_t v30 = v29;
      uint64_t v31 = *(void *)v48;
      do
      {
        for (uint64_t i = 0; i != v30; ++i)
        {
          if (*(void *)v48 != v31) {
            objc_enumerationMutation(v28);
          }
          os_signpost_id_t v33 = *(void **)(*((void *)&v47 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          id v34 = [v33 libraryScopeProperties];
          unsigned int v35 = [v34 suggestedByClientType] + 1;
          id v36 = @"Unknown";
          if (v35 <= 5) {
            id v36 = off_1E5DCB238[v35];
          }

          uint64_t v37 = NSNumber;
          id v38 = [v27 objectForKeyedSubscript:v36];
          id v39 = objc_msgSend(v37, "numberWithInt:", objc_msgSend(v38, "intValue") + 1);
          [v27 setObject:v39 forKeyedSubscript:v36];
        }
        uint64_t v30 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
      }
      while (v30);
    }

    v45[0] = MEMORY[0x1E4F143A8];
    v45[1] = 3221225472;
    v45[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    void v45[3] = &unk_1E5DCB200;
    long long v46 = @"move to personal";
    [v27 enumerateKeysAndObjectsUsingBlock:v45];

    id v5 = v40;
  }
}

uint64_t __PXSharedLibraryMoveAssetsToSPLPersonalLibrary_block_invoke_463(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

id PXSharedLibraryFetchSharedAssetsFromAssets(void *a1)
{
  return _PXSharedLibraryFetchAssetsFromAssets(a1, 0, 1, 0);
}

void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v44 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1914, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v28 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXSharedLibraryPhotoKitUtilities.m", 1915, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

LABEL_3:
  os_signpost_id_t v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v9 = [v5 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v43 = v9;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "Will reject sharing suggestions for library with identifier: %{public}@", buf, 0xCu);
  }
  long long v10 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v11 = [v10 simulateErrorType];

  unint64_t v12 = PLSharedLibraryGetLog();
  id v13 = v12;
  if (v11 == 24)
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Reject Sharing Suggestion Failed", buf, 2u);
    }

    os_log_type_t v14 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Reject Sharing Suggestion Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke;
    block[3] = &unk_1E5DD3280;
    uint32_t v15 = &v41;
    id v16 = &v40;
    id v40 = v14;
    id v41 = v7;
    id v17 = v7;
    id v18 = v14;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  else
  {
    os_signpost_id_t v19 = os_signpost_id_generate(v12);
    uint64_t v20 = v13;
    char v21 = v20;
    if (v19 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v20))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v21, OS_SIGNPOST_INTERVAL_BEGIN, v19, "RemoveSharingSuggestions", "", buf, 2u);
    }

    uint64_t v22 = [v5 photoLibrary];
    v36[0] = MEMORY[0x1E4F143A8];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_470;
    v36[3] = &unk_1E5DD32A8;
    uint32_t v15 = &v37;
    id v23 = v5;
    id v37 = v23;
    id v16 = &v38;
    id v24 = v6;
    id v38 = v24;
    v30[0] = MEMORY[0x1E4F143A8];
    v30[1] = 3221225472;
    v30[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2;
    v30[3] = &unk_1E5DCB1D8;
    uint64_t v31 = v21;
    os_signpost_id_t v35 = v19;
    id v32 = v23;
    id v34 = v7;
    id v33 = v24;
    id v25 = v7;
    id v18 = v21;
    [v22 performChanges:v36 completionHandler:v30];
  }
}

uint64_t __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_470(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 rejectPreviewAssetsSuggestedByPhotos:*(void *)(a1 + 40)];
}

void __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v55[1] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = *(id *)(a1 + 32);
  id v7 = v6;
  os_signpost_id_t v8 = *(void *)(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v7, OS_SIGNPOST_INTERVAL_END, v8, "RemoveSharingSuggestions", "", buf, 2u);
  }

  uint64_t v9 = PLSharedLibraryGetLog();
  long long v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_10;
    }
    uint64_t v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v52 = v11;
    unint64_t v12 = "Did remove sharing suggestions for library with identifier: %{public}@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_DEFAULT;
    uint32_t v15 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR)) {
      goto LABEL_10;
    }
    uint64_t v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    uint64_t v52 = v11;
    __int16 v53 = 2112;
    id v54 = v5;
    unint64_t v12 = "Failed to remove sharing suggestions for library with identifier: %{public}@, error: %@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_ERROR;
    uint32_t v15 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v13, v14, v12, buf, v15);

LABEL_10:
  id v16 = *(void **)(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_471;
    block[3] = &unk_1E5DD1758;
    id v43 = v16;
    char v44 = a2;
    id v42 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  if (a2)
  {
    id v17 = *(id *)(a1 + 48);
    objc_opt_class();
    id v40 = v5;
    if (objc_opt_isKindOfClass())
    {
      id v18 = v17;
      os_signpost_id_t v19 = [v18 fetchPropertySets];
      uint64_t v20 = *MEMORY[0x1E4F394C0];
      char v21 = [v19 containsObject:*MEMORY[0x1E4F394C0]];

      id v17 = v18;
      if ((v21 & 1) == 0)
      {
        uint64_t v22 = [v18 photoLibrary];
        id v23 = [v22 librarySpecificFetchOptions];

        v55[0] = v20;
        id v24 = [MEMORY[0x1E4F1C978] arrayWithObjects:v55 count:1];
        [v23 setFetchPropertySets:v24];

        id v25 = (void *)MEMORY[0x1E4F38EB8];
        id v26 = [v18 fetchedObjectIDs];
        id v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }
    id v27 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
    long long v47 = 0u;
    long long v48 = 0u;
    long long v49 = 0u;
    long long v50 = 0u;
    id v28 = v17;
    uint64_t v29 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
    if (v29)
    {
      uint64_t v30 = v29;
      uint64_t v31 = *(void *)v48;
      do
      {
        for (uint64_t i = 0; i != v30; ++i)
        {
          if (*(void *)v48 != v31) {
            objc_enumerationMutation(v28);
          }
          id v33 = *(void **)(*((void *)&v47 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          id v34 = [v33 libraryScopeProperties];
          unsigned int v35 = [v34 suggestedByClientType] + 1;
          id v36 = @"Unknown";
          if (v35 <= 5) {
            id v36 = off_1E5DCB238[v35];
          }

          id v37 = NSNumber;
          id v38 = [v27 objectForKeyedSubscript:v36];
          id v39 = objc_msgSend(v37, "numberWithInt:", objc_msgSend(v38, "intValue") + 1);
          [v27 setObject:v39 forKeyedSubscript:v36];
        }
        uint64_t v30 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
      }
      while (v30);
    }

    v45[0] = MEMORY[0x1E4F143A8];
    v45[1] = 3221225472;
    v45[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    void v45[3] = &unk_1E5DCB200;
    long long v46 = @"remove suggestions";
    [v27 enumerateKeysAndObjectsUsingBlock:v45];

    id v5 = v40;
  }
}

uint64_t __PXSharedLibraryRejectAssetSharingSuggestionsForLibraryScope_block_invoke_471(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v44 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 1957, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v28 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope(PHLibraryScope *__strong _Nonnull, __strong id<NSFastEnumeration> _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXSharedLibraryPhotoKitUtilities.m", 1958, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

LABEL_3:
  os_signpost_id_t v8 = PLSharedLibraryGetLog();
  if (os_log_type_enabled(v8, OS_LOG_TYPE_DEFAULT))
  {
    uint64_t v9 = [v5 localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    id v43 = v9;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "Will un-reject sharing suggestions for library with identifier: %{public}@", buf, 0xCu);
  }
  long long v10 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v11 = [v10 simulateErrorType];

  unint64_t v12 = PLSharedLibraryGetLog();
  id v13 = v12;
  if (v11 == 24)
  {
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v13, OS_LOG_TYPE_ERROR, "Simulated Error: Un-Reject Sharing Suggestion Failed", buf, 2u);
    }

    os_log_type_t v14 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Un-Reject Sharing Suggestion Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke;
    block[3] = &unk_1E5DD3280;
    uint32_t v15 = &v41;
    id v16 = &v40;
    id v40 = v14;
    id v41 = v7;
    id v17 = v7;
    id v18 = v14;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  else
  {
    os_signpost_id_t v19 = os_signpost_id_generate(v12);
    uint64_t v20 = v13;
    char v21 = v20;
    if (v19 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v20))
    {
      *(_WORD *)long long buf = 0;
      _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v21, OS_SIGNPOST_INTERVAL_BEGIN, v19, "UnRejectSharingSuggestions", "", buf, 2u);
    }

    uint64_t v22 = [v5 photoLibrary];
    v36[0] = MEMORY[0x1E4F143A8];
    v36[1] = 3221225472;
    v36[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_478;
    v36[3] = &unk_1E5DD32A8;
    uint32_t v15 = &v37;
    id v23 = v5;
    id v37 = v23;
    id v16 = &v38;
    id v24 = v6;
    id v38 = v24;
    v30[0] = MEMORY[0x1E4F143A8];
    v30[1] = 3221225472;
    v30[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2;
    v30[3] = &unk_1E5DCB1D8;
    uint64_t v31 = v21;
    os_signpost_id_t v35 = v19;
    id v32 = v23;
    id v34 = v7;
    id v33 = v24;
    id v25 = v7;
    id v18 = v21;
    [v22 performChanges:v36 completionHandler:v30];
  }
}

uint64_t __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_478(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 unRejectPreviewAssetsSuggestedByPhotos:*(void *)(a1 + 40)];
}

void __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_2(uint64_t a1, int a2, void *a3)
{
  v55[1] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = *(id *)(a1 + 32);
  id v7 = v6;
  os_signpost_id_t v8 = *(void *)(a1 + 64);
  if (v8 - 1 <= 0xFFFFFFFFFFFFFFFDLL && os_signpost_enabled(v6))
  {
    *(_WORD *)long long buf = 0;
    _os_signpost_emit_with_name_impl(&dword_1A9AE7000, v7, OS_SIGNPOST_INTERVAL_END, v8, "UnRejectSharingSuggestions", "", buf, 2u);
  }

  uint64_t v9 = PLSharedLibraryGetLog();
  long long v10 = v9;
  if (a2)
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_DEFAULT)) {
      goto LABEL_10;
    }
    uint64_t v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543362;
    uint64_t v52 = v11;
    unint64_t v12 = "Did un-reject sharing suggestions for library with identifier: %{public}@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_DEFAULT;
    uint32_t v15 = 12;
  }
  else
  {
    if (!os_log_type_enabled(v9, OS_LOG_TYPE_ERROR)) {
      goto LABEL_10;
    }
    uint64_t v11 = [*(id *)(a1 + 40) localIdentifier];
    *(_DWORD *)long long buf = 138543618;
    uint64_t v52 = v11;
    __int16 v53 = 2112;
    id v54 = v5;
    unint64_t v12 = "Failed to un-reject sharing suggestions for library with identifier: %{public}@, error: %@";
    id v13 = v10;
    os_log_type_t v14 = OS_LOG_TYPE_ERROR;
    uint32_t v15 = 22;
  }
  _os_log_impl(&dword_1A9AE7000, v13, v14, v12, buf, v15);

LABEL_10:
  id v16 = *(void **)(a1 + 56);
  if (v16)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_479;
    block[3] = &unk_1E5DD1758;
    id v43 = v16;
    char v44 = a2;
    id v42 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
  if (a2)
  {
    id v17 = *(id *)(a1 + 48);
    objc_opt_class();
    id v40 = v5;
    if (objc_opt_isKindOfClass())
    {
      id v18 = v17;
      os_signpost_id_t v19 = [v18 fetchPropertySets];
      uint64_t v20 = *MEMORY[0x1E4F394C0];
      char v21 = [v19 containsObject:*MEMORY[0x1E4F394C0]];

      id v17 = v18;
      if ((v21 & 1) == 0)
      {
        uint64_t v22 = [v18 photoLibrary];
        id v23 = [v22 librarySpecificFetchOptions];

        v55[0] = v20;
        id v24 = [MEMORY[0x1E4F1C978] arrayWithObjects:v55 count:1];
        [v23 setFetchPropertySets:v24];

        id v25 = (void *)MEMORY[0x1E4F38EB8];
        id v26 = [v18 fetchedObjectIDs];
        id v17 = [v25 fetchAssetsWithObjectIDs:v26 options:v23];
      }
    }
    id v27 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
    long long v47 = 0u;
    long long v48 = 0u;
    long long v49 = 0u;
    long long v50 = 0u;
    id v28 = v17;
    uint64_t v29 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
    if (v29)
    {
      uint64_t v30 = v29;
      uint64_t v31 = *(void *)v48;
      do
      {
        for (uint64_t i = 0; i != v30; ++i)
        {
          if (*(void *)v48 != v31) {
            objc_enumerationMutation(v28);
          }
          id v33 = *(void **)(*((void *)&v47 + 1) + 8 * i);
          [v33 fetchPropertySetsIfNeeded];
          id v34 = [v33 libraryScopeProperties];
          unsigned int v35 = [v34 suggestedByClientType] + 1;
          id v36 = @"Unknown";
          if (v35 <= 5) {
            id v36 = off_1E5DCB238[v35];
          }

          id v37 = NSNumber;
          id v38 = [v27 objectForKeyedSubscript:v36];
          id v39 = objc_msgSend(v37, "numberWithInt:", objc_msgSend(v38, "intValue") + 1);
          [v27 setObject:v39 forKeyedSubscript:v36];
        }
        uint64_t v30 = [v28 countByEnumeratingWithState:&v47 objects:buf count:16];
      }
      while (v30);
    }

    v45[0] = MEMORY[0x1E4F143A8];
    v45[1] = 3221225472;
    v45[2] = ___PXSharedLibrarySendAnalyticsForUserAction_block_invoke;
    void v45[3] = &unk_1E5DCB200;
    long long v46 = @"un-reject suggestions";
    [v27 enumerateKeysAndObjectsUsingBlock:v45];

    id v5 = v40;
  }
}

uint64_t __PXSharedLibraryUnRejectAssetSharingSuggestionsForLibraryScope_block_invoke_479(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

id PXSharedLibraryFetchAnySharedAssetFromAssets(void *a1)
{
  uint64_t v1 = _PXSharedLibraryFetchAssetsFromAssets(a1, 0, 1, 1);
  id v2 = [v1 firstObject];

  return v2;
}

id PXSharedLibraryFetchAssetsContributedByMeFromAssets(void *a1)
{
  return _PXSharedLibraryFetchAssetsFromAssets(a1, 1, 1, 0);
}

void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v54 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    unsigned int v35 = [MEMORY[0x1E4F28B00] currentHandler];
    id v36 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v35 handleFailureInFunction:v36, @"PXSharedLibraryPhotoKitUtilities.m", 2060, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  id v37 = [MEMORY[0x1E4F28B00] currentHandler];
  id v38 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v37 handleFailureInFunction:v38, @"PXSharedLibraryPhotoKitUtilities.m", 2061, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];

LABEL_3:
  os_signpost_id_t v8 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v9 = [v8 simulateErrorType];

  if (v9 == 23)
  {
    long long v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Add Person UUIDs Failed", buf, 2u);
    }

    uint64_t v11 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Add Person UUIDs Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v50 = v11;
    id v51 = v7;
    id v12 = v7;
    id v13 = v11;
    dispatch_async(MEMORY[0x1E4F14428], block);

    id v14 = v51;
  }
  else
  {
    id v39 = v6;
    uint32_t v15 = [v5 photoLibrary];
    id v13 = [v15 librarySpecificFetchOptions];

    id v16 = [MEMORY[0x1E4F39130] fetchLibraryScopeRulesForLibraryScope:v5 options:v13];
    id v17 = (void *)[v16 mutableCopy];
    id v18 = v17;
    if (v17)
    {
      id v19 = v17;
    }
    else
    {
      id v19 = [MEMORY[0x1E4F1CA48] array];
    }
    uint64_t v20 = v19;

    long long v47 = 0u;
    long long v48 = 0u;
    long long v45 = 0u;
    long long v46 = 0u;
    id v12 = v16;
    uint64_t v21 = [v12 countByEnumeratingWithState:&v45 objects:v53 count:16];
    if (v21)
    {
      uint64_t v22 = v21;
      uint64_t v23 = *(void *)v46;
LABEL_12:
      uint64_t v24 = 0;
      while (1)
      {
        if (*(void *)v46 != v23) {
          objc_enumerationMutation(v12);
        }
        id v25 = *(void **)(*((void *)&v45 + 1) + 8 * v24);
        id v26 = [v25 personCondition];
        id v27 = v26;
        if (v26)
        {
          if ([v26 criteria] == 1) {
            break;
          }
        }

        if (v22 == ++v24)
        {
          uint64_t v22 = [v12 countByEnumeratingWithState:&v45 objects:v53 count:16];
          if (v22) {
            goto LABEL_12;
          }
          goto LABEL_19;
        }
      }
      id v28 = v25;

      uint64_t v29 = (void *)MEMORY[0x1E4F1CA70];
      uint64_t v30 = [v27 personUUIDs];
      uint64_t v31 = [v29 orderedSetWithArray:v30];

      id v6 = v39;
      [v31 addObjectsFromArray:v39];
      id v32 = [v31 array];
      [v27 setPersonUUIDs:v32];

      if (v28) {
        goto LABEL_22;
      }
    }
    else
    {
LABEL_19:

      id v27 = objc_alloc_init(MEMORY[0x1E4F39128]);
      [v27 setCriteria:1];
      id v6 = v39;
      [v27 setPersonUUIDs:v39];
    }
    id v28 = objc_alloc_init(MEMORY[0x1E4F39130]);
    [v28 addCondition:v27];
    [v20 addObject:v28];
LABEL_22:
    id v33 = [v5 photoLibrary];
    v42[0] = MEMORY[0x1E4F143A8];
    v42[1] = 3221225472;
    void v42[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_2;
    v42[3] = &unk_1E5DD32A8;
    id v43 = v5;
    id v44 = v20;
    v40[0] = MEMORY[0x1E4F143A8];
    v40[1] = 3221225472;
    v40[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_3;
    void v40[3] = &unk_1E5DCDD58;
    id v41 = v7;
    id v34 = v7;
    id v14 = v20;
    [v33 performChanges:v42 completionHandler:v40];
  }
}

uint64_t __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_2(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 setAutoSharePolicy:2];
  [v2 updateWithCustomRules:*(void *)(a1 + 40)];
}

void __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  id v6 = *(void **)(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_4;
    block[3] = &unk_1E5DD1758;
    id v9 = v6;
    char v10 = a2;
    id v8 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXSharedLibraryAddPersonUUIDsToPersonConditionForLibraryScope_block_invoke_4(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

id PXSharedLibrarySearchURL(void *a1)
{
  uint64_t v33 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = (void *)[objc_alloc(MEMORY[0x1E4F28E78]) initWithString:@"photos-navigation://search?"];
  if ([v1 count])
  {
    id v25 = v2;
    uint64_t v3 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA48]), "initWithCapacity:", objc_msgSend(v1, "count"));
    uint64_t v4 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA48]), "initWithCapacity:", objc_msgSend(v1, "count"));
    long long v28 = 0u;
    long long v29 = 0u;
    long long v30 = 0u;
    long long v31 = 0u;
    id v26 = v1;
    id obj = v1;
    uint64_t v5 = [obj countByEnumeratingWithState:&v28 objects:v32 count:16];
    if (v5)
    {
      uint64_t v6 = v5;
      uint64_t v7 = *(void *)v29;
      do
      {
        for (uint64_t i = 0; i != v6; ++i)
        {
          if (*(void *)v29 != v7) {
            objc_enumerationMutation(obj);
          }
          id v9 = PXSharedLibrarySharedBySearchText(*(void **)(*((void *)&v28 + 1) + 8 * i));
          char v10 = [MEMORY[0x1E4F28B88] URLHostAllowedCharacterSet];
          uint64_t v11 = [v9 stringByAddingPercentEncodingWithAllowedCharacters:v10];

          [v3 addObject:v11];
          id v12 = objc_msgSend(NSString, "stringWithFormat:", @"%lu", 2);
          [v4 addObject:v12];
        }
        uint64_t v6 = [obj countByEnumeratingWithState:&v28 objects:v32 count:16];
      }
      while (v6);
    }

    id v13 = NSString;
    id v14 = [v3 componentsJoinedByString:@","];
    uint32_t v15 = [v13 stringWithFormat:@"searchTerm=%@&", v14];
    id v2 = v25;
    [v25 appendString:v15];

    id v16 = NSString;
    id v17 = [v4 componentsJoinedByString:@","];
    id v18 = [v16 stringWithFormat:@"searchCategory=%@", v17];
    [v25 appendString:v18];

    id v19 = (void *)[v25 copy];
    id v1 = v26;
  }
  else
  {
    uint64_t v20 = PXSharedLibrarySharedBySearchText(0);
    uint64_t v21 = [MEMORY[0x1E4F28B88] URLHostAllowedCharacterSet];
    uint64_t v22 = [v20 stringByAddingPercentEncodingWithAllowedCharacters:v21];

    id v19 = [NSString stringWithFormat:@"%@searchTerm=%@&searchCategory=%lu", v2, v22, 3];
  }
  uint64_t v23 = [MEMORY[0x1E4F1CB10] URLWithString:v19];

  return v23;
}

void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(void *a1, void *a2, void *a3)
{
  uint64_t v44 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = a2;
  id v7 = a3;
  if (v5)
  {
    if (v6) {
      goto LABEL_3;
    }
  }
  else
  {
    id v26 = [MEMORY[0x1E4F28B00] currentHandler];
    id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
    [v26 handleFailureInFunction:v27, @"PXSharedLibraryPhotoKitUtilities.m", 2152, @"Invalid parameter not satisfying: %@", @"libraryScope" file lineNumber description];

    if (v6) {
      goto LABEL_3;
    }
  }
  long long v28 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v29 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope(PHLibraryScope *__strong _Nonnull, NSArray<NSString *> *__strong _Nonnull, void (^ _Nullable __strong)(BOOL, NSError * _Nullable __strong))");
  [v28 handleFailureInFunction:v29, @"PXSharedLibraryPhotoKitUtilities.m", 2153, @"Invalid parameter not satisfying: %@", @"personUUIDs" file lineNumber description];

LABEL_3:
  id v8 = +[PXSharedLibrarySettings sharedInstance];
  uint64_t v9 = [v8 simulateErrorType];

  if (v9 == 23)
  {
    char v10 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v10, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)long long buf = 0;
      _os_log_impl(&dword_1A9AE7000, v10, OS_LOG_TYPE_ERROR, "Simulated Error: Remove Person UUIDs Failed", buf, 2u);
    }

    uint64_t v11 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, @"Simulated Error: Remove Person UUIDs Failed");
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke;
    block[3] = &unk_1E5DD3280;
    id v40 = v11;
    id v41 = v7;
    id v12 = v11;
    dispatch_async(MEMORY[0x1E4F14428], block);

    id v13 = v41;
  }
  else
  {
    id v14 = [v5 photoLibrary];
    id v12 = [v14 librarySpecificFetchOptions];

    [MEMORY[0x1E4F39130] fetchLibraryScopeRulesForLibraryScope:v5 options:v12];
    long long v35 = 0u;
    long long v36 = 0u;
    long long v37 = 0u;
    long long v38 = 0u;
    id v13 = (id)objc_claimAutoreleasedReturnValue();
    uint64_t v15 = [v13 countByEnumeratingWithState:&v35 objects:v43 count:16];
    if (v15)
    {
      uint64_t v16 = v15;
      uint64_t v17 = *(void *)v36;
      while (2)
      {
        uint64_t v18 = 0;
        do
        {
          if (*(void *)v36 != v17) {
            objc_enumerationMutation(v13);
          }
          id v19 = [*(id *)(*((void *)&v35 + 1) + 8 * v18) personCondition];
          uint64_t v20 = v19;
          if (v19 && [v19 criteria] == 1)
          {

            uint64_t v21 = (void *)MEMORY[0x1E4F1CA70];
            uint64_t v22 = [v20 personUUIDs];
            uint64_t v23 = [v21 orderedSetWithArray:v22];

            [v23 removeObjectsInArray:v6];
            uint64_t v24 = [v23 array];
            [v20 setPersonUUIDs:v24];

            id v25 = [v5 photoLibrary];
            v32[0] = MEMORY[0x1E4F143A8];
            v32[1] = 3221225472;
            v32[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_2;
            void v32[3] = &unk_1E5DD32A8;
            id v33 = v5;
            id v34 = v13;
            v30[0] = MEMORY[0x1E4F143A8];
            v30[1] = 3221225472;
            v30[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_3;
            v30[3] = &unk_1E5DCDD58;
            id v31 = v7;
            [v25 performChanges:v32 completionHandler:v30];

            goto LABEL_19;
          }

          ++v18;
        }
        while (v16 != v18);
        uint64_t v16 = [v13 countByEnumeratingWithState:&v35 objects:v43 count:16];
        if (v16) {
          continue;
        }
        break;
      }
    }

    if (v7)
    {
      uint64_t v20 = objc_msgSend(MEMORY[0x1E4F28C58], "px_errorWithDomain:code:underlyingError:debugDescription:", @"PXSharedLibraryErrorDomain", -1000, 0, @"No inclusive person condition found.");
      (*((void (**)(id, void, void *))v7 + 2))(v7, 0, v20);
LABEL_19:
    }
  }
}

uint64_t __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), 0, *(void *)(a1 + 32));
}

void __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_2(uint64_t a1)
{
  id v2 = [MEMORY[0x1E4F39118] changeRequestForLibraryScope:*(void *)(a1 + 32)];
  [v2 setAutoSharePolicy:2];
  [v2 updateWithCustomRules:*(void *)(a1 + 40)];
}

void __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_3(uint64_t a1, char a2, void *a3)
{
  id v5 = a3;
  id v6 = *(void **)(a1 + 32);
  if (v6)
  {
    block[0] = MEMORY[0x1E4F143A8];
    block[1] = 3221225472;
    block[2] = __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_4;
    block[3] = &unk_1E5DD1758;
    id v9 = v6;
    char v10 = a2;
    id v8 = v5;
    dispatch_async(MEMORY[0x1E4F14428], block);
  }
}

uint64_t __PXSharedLibraryRemovePersonUUIDsFromPersonConditionForLibraryScope_block_invoke_4(uint64_t a1)
{
  return (*(uint64_t (**)(void, void, void))(*(void *)(a1 + 40) + 16))(*(void *)(a1 + 40), *(unsigned __int8 *)(a1 + 48), *(void *)(a1 + 32));
}

void PXSharedLibraryLinkContactsToPeopleForInfos(void *a1)
{
  uint64_t v32 = *MEMORY[0x1E4F143B8];
  long long v27 = 0u;
  long long v28 = 0u;
  long long v29 = 0u;
  long long v30 = 0u;
  id obj = a1;
  uint64_t v1 = [obj countByEnumeratingWithState:&v27 objects:v31 count:16];
  if (v1)
  {
    uint64_t v2 = v1;
    uint64_t v3 = *(void *)v28;
    uint64_t v21 = v24;
    do
    {
      for (uint64_t i = 0; i != v2; ++i)
      {
        if (*(void *)v28 != v3) {
          objc_enumerationMutation(obj);
        }
        id v5 = *(void **)(*((void *)&v27 + 1) + 8 * i);
        id v6 = objc_msgSend(v5, "participant", v21);
        id v7 = [v6 contact];

        id v8 = [v7 givenName];
        if ([v8 length])
        {
        }
        else
        {
          id v9 = [v7 familyName];
          uint64_t v10 = [v9 length];

          if (!v10) {
            goto LABEL_12;
          }
        }
        uint64_t v11 = [v5 person];
        id v12 = [v11 photoLibrary];
        id v13 = [MEMORY[0x1E4F390A0] fetchOptionsWithPhotoLibrary:v12 orObject:0];
        id v14 = (void *)MEMORY[0x1E4F391F0];
        uint64_t v15 = [v11 uuid];
        uint64_t v16 = [v14 fetchFinalMergeTargetPersonsForPersonWithUUID:v15 options:v13];
        uint64_t v17 = [v16 firstObject];

        uint64_t v18 = [v17 personUri];
        uint64_t v19 = [v18 length];

        if (!v19)
        {
          v23[0] = MEMORY[0x1E4F143A8];
          v23[1] = 3221225472;
          v24[0] = __PXSharedLibraryLinkContactsToPeopleForInfos_block_invoke;
          v24[1] = &unk_1E5DD2570;
          id v20 = v7;
          id v25 = v20;
          id v26 = v17;
          +[PXPeopleBootstrap nameAndVerifyPerson:v26 toContact:v20 photoLibrary:v12 completionHandler:v23];
        }
LABEL_12:
      }
      uint64_t v2 = [obj countByEnumeratingWithState:&v27 objects:v31 count:16];
    }
    while (v2);
  }
}

void __PXSharedLibraryLinkContactsToPeopleForInfos_block_invoke(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v4 = a3;
  if (v4)
  {
    id v5 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      uint64_t v6 = *(void *)(a1 + 32);
      uint64_t v7 = *(void *)(a1 + 40);
      int v8 = 138412802;
      uint64_t v9 = v6;
      __int16 v10 = 2112;
      uint64_t v11 = v7;
      __int16 v12 = 2112;
      id v13 = v4;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "Error linking contact to person. Contact: %@ person: %@ error: %@", (uint8_t *)&v8, 0x20u);
    }
  }
}

PXFeedbackTapToRadarViewController *PXFileRadarViewControllerForSharedLibraryAssets(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = +[PXFeedbackTapToRadarUtilities captureScreenshot];
  uint64_t v6 = objc_alloc_init(PXFeedbackTapToRadarViewController);
  [(PXFeedbackTapToRadarViewController *)v6 setRequestScreenshotPermission:1];
  v11[0] = MEMORY[0x1E4F143A8];
  v11[1] = 3221225472;
  void v11[2] = __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke;
  void v11[3] = &unk_1E5DCB110;
  id v12 = v3;
  id v13 = v5;
  id v14 = v4;
  id v7 = v4;
  id v8 = v5;
  id v9 = v3;
  [(PXFeedbackTapToRadarViewController *)v6 setFileRadarHandler:v11];

  return v6;
}

void __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke(uint64_t a1, int a2, int a3, void *a4)
{
  uint64_t v140 = *MEMORY[0x1E4F143B8];
  id v76 = a4;
  id v5 = (void *)[objc_alloc(MEMORY[0x1E4F28E78]) initWithString:@"Summary:\nExamples:\n* Bad suggestion (wrong person/people, irrelevant to moment, bad location, poor quality/blurry photo, etc.)\n* Missing/wrong assets\n* Don't want to see this asset, etc?\n\nSteps To Reproduce:\n-\n\nResults:\n-\n\nRegression:\n-\n\nNotes:\n-\n\n"];
  [v5 appendString:@"--- Goldilocks TTR ---\n"];
  id v80 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  long long v127 = 0u;
  long long v128 = 0u;
  long long v129 = 0u;
  long long v130 = 0u;
  uint64_t v78 = a1;
  id obj = *(id *)(a1 + 32);
  long long v104 = v5;
  uint64_t v93 = [obj countByEnumeratingWithState:&v127 objects:v139 count:16];
  if (!v93)
  {
    id v88 = 0;
    goto LABEL_37;
  }
  id v88 = 0;
  uint64_t v91 = *(void *)v128;
  do
  {
    for (uint64_t i = 0; i != v93; ++i)
    {
      if (*(void *)v128 != v91) {
        objc_enumerationMutation(obj);
      }
      id v7 = *(void **)(*((void *)&v127 + 1) + 8 * i);
      [v7 fetchPropertySetsIfNeeded];
      [v5 appendFormat:@"\nAsset: %@", v7];
      id v8 = [v7 libraryScopeProperties];
      int v9 = [v7 participatesInLibraryScope];
      __int16 v10 = @"NO";
      if (v9) {
        __int16 v10 = @"YES";
      }
      [v5 appendFormat:@"\nParticipates in library scope: %@", v10];
      id v101 = v8;
      unsigned int v11 = [v8 suggestedByClientType] + 1;
      id v12 = @"Unknown";
      if (v11 <= 5) {
        id v12 = off_1E5DCB238[v11];
      }
      [v5 appendFormat:@"\nSuggested by: %@", v12];
      id v13 = [v7 importProperties];
      [v13 importedBy];
      id v14 = PHAssetImportSourceDescription();
      [v5 appendFormat:@"\nImported By: %@", v14];

      uint64_t v15 = [v7 sceneAnalysisProperties];
      LODWORD(v14) = [v15 sceneAnalysisVersion];

      objc_msgSend(v5, "appendFormat:", @"\nScene Analysis Version: %d", (unsigned __int16)v14);
      if (v14)
      {
        id v95 = v7;
        uint64_t v98 = i;
        uint64_t v16 = [v7 sceneClassifications];
        long long v123 = 0u;
        long long v124 = 0u;
        long long v125 = 0u;
        long long v126 = 0u;
        uint64_t v17 = [v16 countByEnumeratingWithState:&v123 objects:v138 count:16];
        if (!v17) {
          goto LABEL_28;
        }
        uint64_t v18 = v17;
        uint64_t v19 = *(void *)v124;
        while (1)
        {
          for (uint64_t j = 0; j != v18; ++j)
          {
            if (*(void *)v124 != v19) {
              objc_enumerationMutation(v16);
            }
            uint64_t v21 = *(void **)(*((void *)&v123 + 1) + 8 * j);
            uint64_t v22 = [v21 sceneIdentifier];
            [v21 confidence];
            if (v22 > 2147483643)
            {
              if (v22 == 2147483644)
              {
                uint64_t v24 = @"\n  Negative: %.3f";
              }
              else
              {
                if (v22 != 2147483646) {
                  continue;
                }
                uint64_t v24 = @"\n  Text Document: %.3f";
              }
            }
            else if (v22 == 2147483629)
            {
              uint64_t v24 = @"\n  Poor Quality: %.3f";
            }
            else
            {
              if (v22 != 2147483631) {
                continue;
              }
              uint64_t v24 = @"\n  Tragic Failure: %.3f";
            }
            objc_msgSend(v104, "appendFormat:", v24, v23);
          }
          uint64_t v18 = [v16 countByEnumeratingWithState:&v123 objects:v138 count:16];
          if (!v18)
          {
LABEL_28:

            id v5 = v104;
            id v7 = v95;
            uint64_t i = v98;
            break;
          }
        }
      }
      [v5 appendString:@"\n"];
      id v25 = +[PXFeedbackTapToRadarUtilities detailedDebugDescriptionFileForAsset:v7];
      if (v25) {
        [v80 addObject:v25];
      }
      if (!v88)
      {
        id v88 = [v7 photoLibrary];
      }
    }
    uint64_t v93 = [obj countByEnumeratingWithState:&v127 objects:v139 count:16];
  }
  while (v93);
LABEL_37:

  [v5 appendString:@"\n\n"];
  [MEMORY[0x1E4F38EE8] fetchAssetCollectionsContainingAssets:*(void *)(a1 + 32) withType:3 options:0];
  long long v119 = 0u;
  long long v120 = 0u;
  long long v121 = 0u;
  long long v122 = 0u;
  id v79 = (id)objc_claimAutoreleasedReturnValue();
  unint64_t v26 = 0x1E4F28000uLL;
  uint64_t v84 = [v79 countByEnumeratingWithState:&v119 objects:v137 count:16];
  if (v84)
  {
    uint64_t v82 = *MEMORY[0x1E4F394A8];
    uint64_t v83 = *(void *)v120;
    uint64_t v81 = *MEMORY[0x1E4F394C0];
    do
    {
      for (uint64_t k = 0; k != v84; ++k)
      {
        if (*(void *)v120 != v83) {
          objc_enumerationMutation(v79);
        }
        long long v28 = *(void **)(*((void *)&v119 + 1) + 8 * k);
        [v5 appendString:@"--- Moment ---\n"];
        long long v29 = [v28 uuid];
        [v5 appendFormat:@"UUID: %@\n", v29];

        long long v30 = [v28 photoLibrary];
        id v31 = [v30 librarySpecificFetchOptions];

        v136[0] = v82;
        v136[1] = v81;
        uint64_t v32 = [MEMORY[0x1E4F1C978] arrayWithObjects:v136 count:2];
        [v31 setFetchPropertySets:v32];

        id v33 = [MEMORY[0x1E4F38EB8] fetchAssetsInAssetCollection:v28 options:v31];
        uint64_t v34 = [v33 count];
        if (v34)
        {
          uint64_t v85 = v34;
          uint64_t v87 = k;
          id v94 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
          long long v115 = 0u;
          long long v116 = 0u;
          long long v117 = 0u;
          long long v118 = 0u;
          id obja = v33;
          id v96 = (id)[obja countByEnumeratingWithState:&v115 objects:v135 count:16];
          id v86 = v33;
          uint64_t v35 = 0;
          uint64_t v36 = 0;
          uint64_t v37 = 0;
          if (v96)
          {
            uint64_t v92 = *(void *)v116;
            do
            {
              for (m = 0; m != v96; m = (char *)m + 1)
              {
                if (*(void *)v116 != v92) {
                  objc_enumerationMutation(obja);
                }
                id v39 = *(void **)(*((void *)&v115 + 1) + 8 * (void)m);
                id v40 = [v39 libraryScopeProperties];
                unsigned int v102 = [v39 participatesInLibraryScope];
                int v99 = [v40 assetManuallyAddedByUser];
                int v41 = [v40 assetManuallyRejectedByUser];
                id v42 = objc_msgSend(*(id *)(v26 + 3792), "numberWithShort:", objc_msgSend(v40, "suggestedByClientType"));
                id v43 = [v94 objectForKeyedSubscript:v42];
                uint64_t v44 = v43;
                if (v43)
                {
                  long long v45 = objc_msgSend(NSNumber, "numberWithInt:", objc_msgSend(v43, "intValue") + 1);
                  [v94 setObject:v45 forKeyedSubscript:v42];

                  unint64_t v26 = 0x1E4F28000;
                }
                else
                {
                  [v94 setObject:&unk_1F02D9B68 forKeyedSubscript:v42];
                }
                v37 += v102;
                uint64_t v36 = (v36 + v99);
                uint64_t v35 = (v35 + v41);
              }
              id v96 = (id)[obja countByEnumeratingWithState:&v115 objects:v135 count:16];
            }
            while (v96);
          }

          long long v46 = [*(id *)(v26 + 3792) numberWithInteger:v37];
          long long v47 = [*(id *)(v26 + 3792) numberWithUnsignedInteger:v85];
          id v5 = v104;
          [v104 appendFormat:@"Participation %@ / %@ assets\n", v46, v47];

          objc_msgSend(v104, "appendFormat:", @"%d added by user\n%d rejected by user\n", v36, v35);
          v113[0] = MEMORY[0x1E4F143A8];
          v113[1] = 3221225472;
          v113[2] = __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke_578;
          v113[3] = &unk_1E5DCB0E0;
          id v114 = v104;
          [v94 enumerateKeysAndObjectsUsingBlock:v113];

          uint64_t k = v87;
          id v33 = v86;
        }
      }
      uint64_t v84 = [v79 countByEnumeratingWithState:&v119 objects:v137 count:16];
    }
    while (v84);
  }
  if (v88)
  {
    long long v48 = (void *)MEMORY[0x1E4F39110];
    long long v49 = [v88 librarySpecificFetchOptions];
    id v50 = [v48 fetchLibraryScopesWithOptions:v49];

    long long v111 = 0u;
    long long v112 = 0u;
    long long v109 = 0u;
    long long v110 = 0u;
    id v97 = v50;
    uint64_t v103 = [v97 countByEnumeratingWithState:&v109 objects:v134 count:16];
    if (v103)
    {
      uint64_t v100 = *(void *)v110;
      do
      {
        for (uint64_t n = 0; n != v103; ++n)
        {
          if (*(void *)v110 != v100) {
            objc_enumerationMutation(v97);
          }
          uint64_t v52 = *(void **)(*((void *)&v109 + 1) + 8 * n);
          [v5 appendString:@"\n--- Library Scope ---\n"];
          __int16 v53 = [v52 title];
          [v5 appendFormat:@"Title: %@\n", v53];

          uint64_t v54 = [v52 uuid];
          [v5 appendFormat:@"UUID: %@\n", v54];

          int v55 = [v52 libraryScopeInLocalMode];
          id v56 = @"NO";
          if (v55) {
            id v56 = @"YES";
          }
          [v5 appendFormat:@"Local Mode: %@\n", v56];
          uint64_t v57 = _PHLibraryScopeAutoSharePolicyDescription([v52 autoSharePolicy]);
          [v5 appendFormat:@"Auto Share Policy: %@\n", v57];

          id v58 = objc_msgSend(*(id *)(v26 + 3792), "numberWithShort:", objc_msgSend(v52, "previewState"));
          [v5 appendFormat:@"Preview State: %@\n", v58];

          id v59 = (void *)MEMORY[0x1E4F39130];
          id v60 = [v88 librarySpecificFetchOptions];
          id v61 = [v59 fetchLibraryScopeRulesForLibraryScope:v52 options:v60];

          objc_msgSend(v5, "appendFormat:", @"Number of rules: %d\n", objc_msgSend(v61, "count"));
          long long v107 = 0u;
          long long v108 = 0u;
          long long v105 = 0u;
          long long v106 = 0u;
          id v62 = v61;
          uint64_t v63 = [v62 countByEnumeratingWithState:&v105 objects:v133 count:16];
          if (v63)
          {
            uint64_t v64 = v63;
            uint64_t v65 = *(void *)v106;
            do
            {
              for (iuint64_t i = 0; ii != v64; ++ii)
              {
                if (*(void *)v106 != v65) {
                  objc_enumerationMutation(v62);
                }
                uint64_t v67 = *(void **)(*((void *)&v105 + 1) + 8 * ii);
                [v104 appendFormat:@"\nRule %@\n", v67];
                uint64_t v68 = [v67 dateRangeCondition];
                id v69 = (void *)v68;
                if (v68) {
                  [v104 appendFormat:@"%@\n", v68];
                }
                uint64_t v70 = [v67 personCondition];
                id v71 = (void *)v70;
                if (v70) {
                  [v104 appendFormat:@"%@\n", v70];
                }
              }
              uint64_t v64 = [v62 countByEnumeratingWithState:&v105 objects:v133 count:16];
            }
            while (v64);
          }

          id v5 = v104;
          unint64_t v26 = 0x1E4F28000;
        }
        uint64_t v103 = [v97 countByEnumeratingWithState:&v109 objects:v134 count:16];
      }
      while (v103);
    }
  }
  if (a2 && *(void *)(v78 + 40))
  {
    uint64_t v132 = *(void *)(v78 + 40);
    __n128 v72 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v132 count:1];
  }
  else
  {
    __n128 v72 = 0;
  }
  if (a3)
  {
    uint64_t v131 = @"com.apple.PhotoLibraryServices.PhotosDiagnostics";
    __int16 v73 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v131 count:1];
  }
  else
  {
    __int16 v73 = (void *)MEMORY[0x1E4F1CBF0];
  }
  LOWORD(v74) = a3;
  +[PXFeedbackTapToRadarUtilities fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:](PXFeedbackTapToRadarUtilities, "fileRadarWithTitle:description:classification:componentID:componentName:componentVersion:keyword:screenshotURLs:attachmentURLs:includeSysDiagnose:includeInternalRelease:additionalExtensionIdentifiers:completionHandler:", @"[Goldilocks TTR]: <Enter Brief Description>", v5, @"Serious Bug", @"1393606", @"Photos Shared Library Algorithms", @"all", @"1481932", v72, v80, v74, v73, *(void *)(v78 + 48));
}

void __PXFileRadarViewControllerForSharedLibraryAssets_block_invoke_578(uint64_t a1, void *a2, void *a3)
{
  id v7 = a3;
  unsigned int v5 = (__int16)[a2 intValue] + 1;
  if (v5 > 5) {
    uint64_t v6 = @"Unknown";
  }
  else {
    uint64_t v6 = off_1E5DCB238[v5];
  }
  [*(id *)(a1 + 32) appendFormat:@"%@ suggestions by client: %@\n", v7, v6];
}

uint64_t PXCPLUIStatusHasImportantInformation(void *a1)
{
  id v1 = a1;
  uint64_t v2 = v1;
  if (v1)
  {
    if ([v1 state] == 2
      || [v2 numberOfItemsFailingToUpload]
      || ([v2 isUpgradeSuggestedToAccessAllPhotos] & 1) != 0
      || ([v2 isExiting] & 1) != 0
      || ([v2 inResetSync] & 1) != 0)
    {
      uint64_t v3 = 1;
    }
    else
    {
      uint64_t v3 = [v2 isRestoringLibrary];
    }
  }
  else
  {
    uint64_t v3 = 0;
  }

  return v3;
}

void _PerformPauseOrResumeBackgroundTask(uint64_t a1, int a2, void *a3, void *a4)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v7 = a3;
  id v8 = a4;
  int v9 = [v8 photoLibrary];
  [v9 setCloudPhotoLibraryPauseState:a1 reason:3];
  __int16 v10 = @"resume";
  if (a1) {
    __int16 v10 = @"pause";
  }
  unsigned int v11 = v10;
  id v12 = PLUserStatusUIGetLog();
  if (os_log_type_enabled(v12, OS_LOG_TYPE_DEFAULT))
  {
    *(_DWORD *)long long buf = 138543362;
    uint64_t v22 = v11;
    _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEFAULT, "Did %{public}@ iCloud Photos", buf, 0xCu);
  }

  id v13 = @"override";
  if (a1) {
    id v13 = @"remove override of";
  }
  if (!a2 || a1)
  {
    uint64_t v14 = a1 ^ 1;
    uint64_t v15 = v13;
    uint64_t v16 = PLUserStatusUIGetLog();
    if (os_log_type_enabled(v16, OS_LOG_TYPE_DEFAULT))
    {
      *(_DWORD *)long long buf = 138543362;
      uint64_t v22 = v15;
      _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_DEFAULT, "Will %{public}@ system budgets for iCloud Photos", buf, 0xCu);
    }

    v18[0] = MEMORY[0x1E4F143A8];
    v18[1] = 3221225472;
    void v18[2] = ___PerformPauseOrResumeBackgroundTask_block_invoke;
    void v18[3] = &unk_1E5DD2570;
    uint64_t v19 = v15;
    id v20 = v8;
    uint64_t v17 = v15;
    [v9 overrideSystemBudgetsForSyncSession:v14 pauseReason:v7 systemBudgets:18487 completionHandler:v18];
  }
  else
  {
    [v8 completeBackgroundTaskWithSuccess:1 error:0];
  }
}

void sub_1AB0B26E8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0B2CA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0B3B9C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__248804(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__248805(uint64_t a1)
{
}

void sub_1AB0B4AC8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0B62A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,char a62,uint64_t a63)
{
  _Block_object_dispose(&a62, 8);
  _Block_object_dispose(&a68, 8);
  _Block_object_dispose(&STACK[0x208], 8);
  _Block_object_dispose(&STACK[0x238], 8);
  _Unwind_Resume(a1);
}

void sub_1AB0B6BF8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0B7544(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1AB0B762C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id PXPhotosBarsCreateSelectModeCaptionLabel()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4FB1930]);
  uint64_t v1 = (void *)MEMORY[0x1E4FB08E0];
  [MEMORY[0x1E4FB08E0] labelFontSize];
  uint64_t v2 = objc_msgSend(v1, "boldSystemFontOfSize:");
  [v0 setFont:v2];

  [v0 setTextAlignment:1];
  uint64_t v3 = [MEMORY[0x1E4FB1618] labelColor];
  [v0 setTextColor:v3];

  [v0 setNumberOfLines:2];
  [v0 setTranslatesAutoresizingMaskIntoConstraints:0];
  LODWORD(v4) = 1148846080;
  [v0 setContentCompressionResistancePriority:0 forAxis:v4];
  return v0;
}

id PXPhotosBarsSelectModeChevronButton(void *a1)
{
  id v1 = a1;
  uint64_t v2 = (void *)MEMORY[0x1E4FB08E0];
  [MEMORY[0x1E4FB08E0] labelFontSize];
  uint64_t v3 = objc_msgSend(v2, "boldSystemFontOfSize:");
  double v4 = [MEMORY[0x1E4FB1830] configurationWithFont:v3 scale:2];
  unsigned int v5 = (void *)MEMORY[0x1E4FB1830];
  uint64_t v6 = [MEMORY[0x1E4FB1618] labelColor];
  id v7 = [v5 configurationWithHierarchicalColor:v6];

  id v8 = [v4 configurationByApplyingConfiguration:v7];
  int v9 = [MEMORY[0x1E4FB1818] systemImageNamed:@"chevron.up.circle.fill" withConfiguration:v8];
  __int16 v10 = [MEMORY[0x1E4FB1818] systemImageNamed:@"chevron.down.circle.fill" withConfiguration:v8];
  unsigned int v11 = [MEMORY[0x1E4FB14D8] plainButtonConfiguration];
  [v11 setImagePlacement:8];
  [v11 setImagePadding:8.0];
  [v11 setImage:v9];
  [v11 setIndicator:1];
  id v12 = [MEMORY[0x1E4FB14D0] buttonWithType:1];
  [v12 setConfiguration:v11];
  [v12 setTranslatesAutoresizingMaskIntoConstraints:0];
  [v12 setChangesSelectionAsPrimaryAction:1];
  [v12 setShowsMenuAsPrimaryAction:1];
  v21[0] = MEMORY[0x1E4F143A8];
  v21[1] = 3221225472;
  void v21[2] = __PXPhotosBarsSelectModeChevronButton_block_invoke;
  void v21[3] = &unk_1E5DCB430;
  id v13 = v10;
  id v22 = v13;
  id v14 = v9;
  id v23 = v14;
  [v12 setConfigurationUpdateHandler:v21];
  objc_initWeak(&location, v1);
  v17[0] = MEMORY[0x1E4F143A8];
  v17[1] = 3221225472;
  void v17[2] = __PXPhotosBarsSelectModeChevronButton_block_invoke_2;
  void v17[3] = &unk_1E5DCB458;
  objc_copyWeak(&v19, &location);
  id v15 = v1;
  id v18 = v15;
  [v12 _setMenuProvider:v17];

  objc_destroyWeak(&v19);
  objc_destroyWeak(&location);

  return v12;
}

void sub_1AB0B7A38(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void __PXPhotosBarsSelectModeChevronButton_block_invoke(uint64_t a1, void *a2)
{
  id v3 = a2;
  id v8 = [v3 configuration];
  int v4 = [v3 isHeld];
  uint64_t v5 = 40;
  if (v4) {
    uint64_t v5 = 32;
  }
  [v8 setImage:*(void *)(a1 + v5)];
  uint64_t v6 = [MEMORY[0x1E4FB1618] clearColor];
  id v7 = [v8 background];
  [v7 setBackgroundColor:v6];

  [v3 setConfiguration:v8];
}

id __PXPhotosBarsSelectModeChevronButton_block_invoke_2(uint64_t a1)
{
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 40));
  id v3 = [WeakRetained delegate];
  int v4 = [v3 barsControllerActionsForSelectionContextMenu:*(void *)(a1 + 32)];

  uint64_t v5 = [MEMORY[0x1E4FB1970] menuWithTitle:&stru_1F00B0030 children:v4];

  return v5;
}

void PXPhotosBarsUpdateSelectModeCaption(void *a1, void *a2, void *a3)
{
  void v17[2] = *MEMORY[0x1E4F143B8];
  id v5 = a3;
  id v6 = a2;
  id v7 = a1;
  id v8 = [v5 configuration];
  v16[0] = *MEMORY[0x1E4FB06F8];
  int v9 = (void *)MEMORY[0x1E4FB08E0];
  [MEMORY[0x1E4FB08E0] labelFontSize];
  __int16 v10 = objc_msgSend(v9, "boldSystemFontOfSize:");
  v17[0] = v10;
  v16[1] = *MEMORY[0x1E4FB0700];
  unsigned int v11 = [MEMORY[0x1E4FB1618] labelColor];
  v17[1] = v11;
  id v12 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v17 forKeys:v16 count:2];

  id v13 = objc_alloc(MEMORY[0x1E4F28B18]);
  if (v7) {
    id v14 = v7;
  }
  else {
    id v14 = &stru_1F00B0030;
  }
  id v15 = (void *)[v13 initWithString:v14 attributes:v12];
  [v8 setAttributedTitle:v15];

  [v6 setText:v7];
  [v5 setConfiguration:v8];
}

void sub_1AB0B96C4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0BCE30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0BD0F4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0BD23C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB0BE918(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0BF8E0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB0BFB14(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

uint64_t PXMemoriesResetRejected(void *a1, int a2, void *a3)
{
  uint64_t v23 = *MEMORY[0x1E4F143B8];
  id v5 = a1;
  id v6 = [v5 librarySpecificFetchOptions];
  [v6 setIncludeRejectedMemories:1];
  if (a2) {
    objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"rejected = YES && category != %d", 401);
  }
  else {
  id v7 = objc_msgSend(MEMORY[0x1E4F28F60], "predicateWithFormat:", @"rejected == YES && userCreated == NO", v15);
  }
  [v6 setPredicate:v7];

  id v8 = [MEMORY[0x1E4F39160] fetchAssetCollectionsWithType:4 subtype:0x7FFFFFFFFFFFFFFFLL options:v6];
  v17[0] = MEMORY[0x1E4F143A8];
  v17[1] = 3221225472;
  void v17[2] = __PXMemoriesResetRejected_block_invoke;
  void v17[3] = &unk_1E5DD36F8;
  id v9 = v8;
  id v18 = v9;
  id v16 = 0;
  uint64_t v10 = [v5 performChangesAndWait:v17 error:&v16];

  id v11 = v16;
  if ((v10 & 1) == 0)
  {
    id v12 = PLMemoriesGetLog();
    if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
    {
      uint64_t v13 = [v9 count];
      *(_DWORD *)long long buf = 134218242;
      uint64_t v20 = v13;
      __int16 v21 = 2112;
      id v22 = v11;
      _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "Failed to reset %lu rejected memories: %@", buf, 0x16u);
    }
  }
  if (a3) {
    *a3 = v11;
  }

  return v10;
}

void __PXMemoriesResetRejected_block_invoke(uint64_t a1)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  long long v7 = 0u;
  long long v8 = 0u;
  long long v9 = 0u;
  long long v10 = 0u;
  id v1 = *(id *)(a1 + 32);
  uint64_t v2 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
  if (v2)
  {
    uint64_t v3 = v2;
    uint64_t v4 = *(void *)v8;
    do
    {
      uint64_t v5 = 0;
      do
      {
        if (*(void *)v8 != v4) {
          objc_enumerationMutation(v1);
        }
        id v6 = objc_msgSend(MEMORY[0x1E4F39170], "changeRequestForMemory:", *(void *)(*((void *)&v7 + 1) + 8 * v5), (void)v7);
        [v6 setRejected:0];
        [v6 setBlacklistedFeature:0];
        [v6 setUserFeedback:0];

        ++v5;
      }
      while (v3 != v5);
      uint64_t v3 = [v1 countByEnumeratingWithState:&v7 objects:v11 count:16];
    }
    while (v3);
  }
}

void sub_1AB0C1210(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXLoopingCrossfadingPlayerItemWithAsset(void *a1, uint64_t a2, uint64_t a3, CMTime *a4)
{
  uint64_t v75 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  long long v8 = (CMTime *)MEMORY[0x1E4F1FA48];
  if ((*(unsigned char *)(a2 + 12) & 1) == 0)
  {
    if (os_log_type_enabled(MEMORY[0x1E4F14500], OS_LOG_TYPE_ERROR))
    {
      LODWORD(range.start.value) = 138412290;
      *(CMTimeValue *)((char *)&range.start.value + 4) = (CMTimeValue)v7;
      _os_log_error_impl(&dword_1A9AE7000, MEMORY[0x1E4F14500], OS_LOG_TYPE_ERROR, "Unable to generate looping crossfading player item for asset %@ because given start time is invalid.", (uint8_t *)&range, 0xCu);
    }
    long long v9 = *(_OWORD *)&v8->value;
    *(void *)(a2 + 16) = v8->epoch;
    *(_OWORD *)a2 = v9;
  }
  uint64_t v10 = *MEMORY[0x1E4F15C18];
  id v11 = [MEMORY[0x1E4F8CC38] tracksWithMediaType:*MEMORY[0x1E4F15C18] forAsset:v7];
  uint64_t v12 = [v11 firstObject];

  if (v12)
  {
    if ((*(unsigned char *)(a3 + 12) & 1) == 0
      || (*(unsigned char *)(a3 + 36) & 1) == 0
      || *(void *)(a3 + 40)
      || (*(void *)(a3 + 24) & 0x8000000000000000) != 0
      || (*(_OWORD *)&range.start.value = *(_OWORD *)(a3 + 24),
          range.start.epoch = *(void *)(a3 + 40),
          *(_OWORD *)&start.start.value = *(_OWORD *)&v8->value,
          start.start.epoch = v8->epoch,
          CMTimeCompare(&range.start, &start.start) <= 0))
    {
      [v12 timeRange];
      CMTime duration = v69;
      *(_OWORD *)&start.start.value = *(_OWORD *)&v8->value;
      start.start.epoch = v8->epoch;
      CMTimeRangeMake(&range, &start.start, &duration);
      long long v13 = *(_OWORD *)&range.start.epoch;
      *(_OWORD *)a3 = *(_OWORD *)&range.start.value;
      *(_OWORD *)(a3 + 16) = v13;
      *(_OWORD *)(a3 + 32) = *(_OWORD *)&range.duration.timescale;
    }
    long long v14 = *(_OWORD *)(a3 + 16);
    *(_OWORD *)&range.start.value = *(_OWORD *)a3;
    *(_OWORD *)&range.start.epoch = v14;
    *(_OWORD *)&range.duration.timescale = *(_OWORD *)(a3 + 32);
    *(_OWORD *)&start.start.value = *(_OWORD *)a2;
    start.start.epoch = *(void *)(a2 + 16);
    if (!CMTimeRangeContainsTime(&range, &start.start))
    {
      *(_OWORD *)&range.start.value = *(_OWORD *)a2;
      range.start.epoch = *(void *)(a2 + 16);
      *(_OWORD *)&start.start.value = *(_OWORD *)a3;
      start.start.epoch = *(void *)(a3 + 16);
      if (CMTimeCompare(&range.start, &start.start) == -1)
      {
        long long v17 = *(_OWORD *)(a3 + 16);
        *(_OWORD *)&range.start.value = *(_OWORD *)a3;
        *(_OWORD *)&range.start.epoch = v17;
        *(_OWORD *)&range.duration.timescale = *(_OWORD *)(a3 + 32);
        CMTimeRangeGetEnd(&end, &range);
        *(_OWORD *)&start.start.value = *(_OWORD *)a2;
        start.start.epoch = *(void *)(a2 + 16);
        p_CMTime end = (CMTimeRange *)&end;
      }
      else
      {
        *(_OWORD *)&start.start.value = *(_OWORD *)a3;
        start.start.epoch = *(void *)(a3 + 16);
        *(_OWORD *)&v64.start.value = *(_OWORD *)a2;
        v64.start.epoch = *(void *)(a2 + 16);
        p_CMTime end = &v64;
      }
      CMTimeRangeFromTimeToTime(&range, &start.start, &p_end->start);
      long long v18 = *(_OWORD *)&range.start.epoch;
      *(_OWORD *)a3 = *(_OWORD *)&range.start.value;
      *(_OWORD *)(a3 + 16) = v18;
      *(_OWORD *)(a3 + 32) = *(_OWORD *)&range.duration.timescale;
    }
    id v47 = v7;
    memset(&v67, 0, sizeof(v67));
    *(_OWORD *)&range.start.value = *(_OWORD *)(a3 + 24);
    range.start.epoch = *(void *)(a3 + 40);
    CMTimeMultiplyByRatio(&v67, &range.start, 1, 2);
    range.CMTimeRange start = v67;
    *(_OWORD *)&start.start.value = *(_OWORD *)&a4->value;
    start.start.epoch = a4->epoch;
    if (CMTimeCompare(&range.start, &start.start) < 0) {
      *a4 = v67;
    }
    memset(&range, 0, sizeof(range));
    objc_msgSend(v12, "px_preferredTransformBasedOnNaturalSize");
    objc_msgSend(v12, "px_transformedNaturalSize");
    double v20 = v19;
    double v22 = v21;
    id v23 = objc_alloc_init(MEMORY[0x1E4F16590]);
    objc_msgSend(v23, "setNaturalSize:", v20, v22);
    uint64_t v24 = [v23 addMutableTrackWithMediaType:v10 preferredTrackID:0];
    id v25 = [MEMORY[0x1E4F165C0] videoCompositionLayerInstructionWithAssetTrack:v24];
    CMTimeRange start = range;
    *(_OWORD *)&v64.start.value = *(_OWORD *)&v8->value;
    v64.start.epoch = v8->epoch;
    long long v46 = v25;
    [v25 setTransform:&start atTime:&v64];
    long long v45 = v23;
    unint64_t v26 = [v23 addMutableTrackWithMediaType:v10 preferredTrackID:0];
    long long v27 = (void *)v24;
    long long v28 = [MEMORY[0x1E4F165C0] videoCompositionLayerInstructionWithAssetTrack:v26];
    CMTimeRange start = range;
    *(_OWORD *)&v64.start.value = *(_OWORD *)&v8->value;
    v64.start.epoch = v8->epoch;
    [v28 setTransform:&start atTime:&v64];
    memset(&start, 0, sizeof(start));
    long long v29 = *(_OWORD *)(a3 + 16);
    *(_OWORD *)&v64.start.value = *(_OWORD *)a3;
    *(_OWORD *)&v64.start.epoch = v29;
    *(_OWORD *)&v64.duration.timescale = *(_OWORD *)(a3 + 32);
    CMTimeRangeGetEnd(&v65, &v64);
    *(_OWORD *)&v64.start.value = *(_OWORD *)a2;
    v64.start.epoch = *(void *)(a2 + 16);
    CMTimeRangeFromTimeToTime(&start, &v64.start, &v65);
    memset(&v64, 0, sizeof(v64));
    *(_OWORD *)&lhs.start.value = *(_OWORD *)a3;
    lhs.start.epoch = *(void *)(a3 + 16);
    *(_OWORD *)&rhs.start.value = *(_OWORD *)&a4->value;
    rhs.start.epoch = a4->epoch;
    CMTimeAdd(&v63, &lhs.start, &rhs.start);
    *(_OWORD *)&lhs.start.value = *(_OWORD *)a2;
    lhs.start.epoch = *(void *)(a2 + 16);
    CMTimeRangeFromTimeToTime(&v64, &v63, &lhs.start);
    memset(&lhs, 0, sizeof(lhs));
    *(_OWORD *)&rhs.start.value = *(_OWORD *)a3;
    rhs.start.epoch = *(void *)(a3 + 16);
    CMTime v60 = *a4;
    CMTimeAdd(&v61, &rhs.start, &v60);
    *(_OWORD *)&rhs.start.value = *(_OWORD *)a3;
    rhs.start.epoch = *(void *)(a3 + 16);
    CMTimeRangeFromTimeToTime(&lhs, &rhs.start, &v61);
    id v59 = 0;
    CMTimeRange rhs = start;
    CMTime v60 = *v8;
    int v30 = [v27 insertTimeRange:&rhs ofTrack:v12 atTime:&v60 error:&v59];
    id v31 = v59;
    uint64_t v32 = v31;
    if (!v30)
    {
      id v33 = v27;
      id v34 = v31;
      goto LABEL_26;
    }
    if (v27) {
      [v27 timeRange];
    }
    else {
      memset(&v57, 0, sizeof(v57));
    }
    CMTimeRangeGetEnd(&v58, &v57);
    id v56 = v32;
    CMTimeRange rhs = v64;
    id v33 = v27;
    int v35 = [v27 insertTimeRange:&rhs ofTrack:v12 atTime:&v58 error:&v56];
    id v34 = v56;

    if (v35)
    {
      memset(&v60, 0, sizeof(v60));
      rhs.CMTimeRange start = start.duration;
      CMTime time2 = *a4;
      CMTimeSubtract(&v60, &rhs.start, &time2);
      rhs.CMTimeRange start = v60;
      CMTime time2 = *v8;
      if (CMTimeCompare(&rhs.start, &time2) <= 0)
      {
        *(_OWORD *)&rhs.start.value = *(_OWORD *)&v8->value;
        rhs.start.epoch = v8->epoch;
        objc_msgSend(v28, "setOpacity:atTime:", &rhs, COERCE_DOUBLE(__PAIR64__(HIDWORD(rhs.start.value), 1.0)));
      }
      else
      {
        *(_OWORD *)&rhs.start.value = *(_OWORD *)&v8->value;
        rhs.start.epoch = v8->epoch;
        CMTime time2 = v60;
        CMTimeRangeMake(&v54, &rhs.start, &time2);
        [v26 insertEmptyTimeRange:&v54];
        id v53 = v34;
        CMTimeRange rhs = lhs;
        CMTime time2 = v60;
        char v36 = [v26 insertTimeRange:&rhs ofTrack:v12 atTime:&time2 error:&v53];
        id v37 = v53;

        *(_OWORD *)&rhs.start.value = *(_OWORD *)&v8->value;
        rhs.start.epoch = v8->epoch;
        [v28 setOpacity:&rhs atTime:0.0];
        rhs.CMTimeRange start = v60;
        CMTime time2 = *a4;
        CMTimeRangeMake(&v52, &rhs.start, &time2);
        LODWORD(v3_Block_object_dispose(&STACK[0x2A0], 8) = 1.0;
        [v28 setOpacityRampFromStartOpacity:&v52 toEndOpacity:0.0 timeRange:v38];
        id v34 = v37;
        if ((v36 & 1) == 0) {
          goto LABEL_26;
        }
      }
LABEL_28:
      id v39 = objc_alloc_init(MEMORY[0x1E4F165B8]);
      if (v33)
      {
        [v33 timeRange];
      }
      else
      {
        long long v50 = 0u;
        long long v51 = 0u;
        long long v49 = 0u;
      }
      v48[0] = v49;
      v48[1] = v50;
      v48[2] = v51;
      objc_msgSend(v39, "setTimeRange:", v48, v12);
      v72[0] = v28;
      v72[1] = v46;
      id v40 = [MEMORY[0x1E4F1C978] arrayWithObjects:v72 count:2];
      [v39 setLayerInstructions:v40];

      int v41 = [MEMORY[0x1E4F165B0] videoCompositionWithPropertiesOfAsset:v45];
      id v71 = v39;
      id v42 = [MEMORY[0x1E4F1C978] arrayWithObjects:&v71 count:1];
      [v41 setInstructions:v42];

      id v16 = (void *)[objc_alloc(MEMORY[0x1E4F16620]) initWithAsset:v45];
      [v16 setVideoComposition:v41];

      id v7 = v47;
      uint64_t v12 = v44;
      goto LABEL_32;
    }
LABEL_26:
    if (os_log_type_enabled(MEMORY[0x1E4F14500], OS_LOG_TYPE_ERROR))
    {
      LODWORD(rhs.start.value) = 136315394;
      *(CMTimeValue *)((char *)&rhs.start.value + 4) = (CMTimeValue)"AVPlayerItem * _Nonnull PXLoopingCrossfadingPlayerIt"
                                                                    "emWithAsset(AVAsset *__strong _Nonnull, CMTime, CMTi"
                                                                    "meRange, CMTime)";
      LOWORD(rhs.start.flags) = 2112;
      *(void *)((char *)&rhs.start.flags + 2) = v34;
      _os_log_error_impl(&dword_1A9AE7000, MEMORY[0x1E4F14500], OS_LOG_TYPE_ERROR, "%s encountered error inserting content into looping crossfade composition: %@", (uint8_t *)&rhs, 0x16u);
    }
    goto LABEL_28;
  }
  id v16 = (void *)[objc_alloc(MEMORY[0x1E4F16620]) initWithAsset:v7];
LABEL_32:

  return v16;
}

id PXSetRemovingObject(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = v3;
  id v6 = v5;
  if ([v5 containsObject:v4])
  {
    id v7 = (void *)[v5 mutableCopy];
    [v7 removeObject:v4];
    id v6 = (void *)[v7 copy];
  }
  return v6;
}

id PXSetSubtract(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = v3;
  id v6 = v5;
  if ([v5 intersectsSet:v4])
  {
    id v7 = (void *)[v5 mutableCopy];
    [v7 minusSet:v4];
    id v6 = (void *)[v7 copy];
  }
  return v6;
}

void sub_1AB0C3994(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0C3B38(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB0C4BD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,char a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,char a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a54, 8);
  _Block_object_dispose(&a60, 8);
  _Block_object_dispose(&a66, 8);
  _Block_object_dispose((const void *)(v66 - 192), 8);
  _Unwind_Resume(a1);
}

id getPIPhotoEditHelperClass_250596()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getPIPhotoEditHelperClass_softClass_250664;
  uint64_t v7 = getPIPhotoEditHelperClass_softClass_250664;
  if (!getPIPhotoEditHelperClass_softClass_250664)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getPIPhotoEditHelperClass_block_invoke_250665;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getPIPhotoEditHelperClass_block_invoke_250665((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AB0C4D1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id getNUVideoUtilitiesClass()
{
  uint64_t v4 = 0;
  id v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getNUVideoUtilitiesClass_softClass;
  uint64_t v7 = getNUVideoUtilitiesClass_softClass;
  if (!getNUVideoUtilitiesClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getNUVideoUtilitiesClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getNUVideoUtilitiesClass_block_invoke((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AB0C4E00(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getNUOrientationIsValidSymbolLoc_block_invoke_250601(uint64_t a1)
{
  uint64_t v2 = NeutrinoCoreLibrary();
  uint64_t result = dlsym(v2, "NUOrientationIsValid");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getNUOrientationIsValidSymbolLoc_ptr_250600 = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *NeutrinoCoreLibrary()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary_250654)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __NeutrinoCoreLibraryCore_block_invoke_250655;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DCB7A0;
    uint64_t v6 = 0;
    NeutrinoCoreLibraryCore_frameworkLibrary_250654 = _sl_dlopen();
  }
  id v0 = (void *)NeutrinoCoreLibraryCore_frameworkLibrary_250654;
  if (!NeutrinoCoreLibraryCore_frameworkLibrary_250654)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *NeutrinoCoreLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizeOperation.m", 30, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

void *__getPIVideoStabilizeResultFromHomographiesSymbolLoc_block_invoke(uint64_t a1)
{
  uint64_t v2 = PhotoImagingLibrary_250611();
  uint64_t result = dlsym(v2, "PIVideoStabilizeResultFromHomographies");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  getPIVideoStabilizeResultFromHomographiesSymbolLoc_ptr = *(_UNKNOWN **)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void *PhotoImagingLibrary_250611()
{
  uint64_t v7 = *MEMORY[0x1E4F143B8];
  v4[0] = 0;
  if (!PhotoImagingLibraryCore_frameworkLibrary_250645)
  {
    v4[1] = (void *)MEMORY[0x1E4F143A8];
    v4[2] = (void *)3221225472;
    _OWORD v4[3] = __PhotoImagingLibraryCore_block_invoke_250646;
    void v4[4] = &__block_descriptor_40_e5_v8__0l;
    void v4[5] = v4;
    long long v5 = xmmword_1E5DCB788;
    uint64_t v6 = 0;
    PhotoImagingLibraryCore_frameworkLibrary_250645 = _sl_dlopen();
  }
  id v0 = (void *)PhotoImagingLibraryCore_frameworkLibrary_250645;
  if (!PhotoImagingLibraryCore_frameworkLibrary_250645)
  {
    id v0 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"void *PhotoImagingLibrary(void)"];
    objc_msgSend(v0, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizeOperation.m", 29, @"%s", v4[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v1 = v4[0];
  if (v4[0]) {
LABEL_7:
  }
    free(v1);
  return v0;
}

uint64_t __Block_byref_object_copy__250617(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__250618(uint64_t a1)
{
}

uint64_t __PhotoImagingLibraryCore_block_invoke_250646()
{
  uint64_t result = _sl_dlopen();
  PhotoImagingLibraryCore_frameworkLibrary_250645 = result;
  return result;
}

uint64_t __NeutrinoCoreLibraryCore_block_invoke_250655()
{
  uint64_t result = _sl_dlopen();
  NeutrinoCoreLibraryCore_frameworkLibrary_250654 = result;
  return result;
}

void __getNUVideoUtilitiesClass_block_invoke(uint64_t a1)
{
  NeutrinoCoreLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("NUVideoUtilities");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getNUVideoUtilitiesClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getNUVideoUtilitiesClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizeOperation.m", 33, @"Unable to find class %s", "NUVideoUtilities");

    __break(1u);
  }
}

void __getPIPhotoEditHelperClass_block_invoke_250665(uint64_t a1)
{
  PhotoImagingLibrary_250611();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("PIPhotoEditHelper");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getPIPhotoEditHelperClass_softClass_250664 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getPIPhotoEditHelperClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXVideoStabilizeOperation.m", 31, @"Unable to find class %s", "PIPhotoEditHelper");

    __break(1u);
  }
}

void sub_1AB0C7A1C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB0C82C8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id DictionaryFromFMSongTags(void *a1)
{
  uint64_t v17 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  long long v12 = 0u;
  long long v13 = 0u;
  long long v14 = 0u;
  long long v15 = 0u;
  id v3 = objc_msgSend(v1, "tagIDs", 0);
  uint64_t v4 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v13;
    do
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v13 != v6) {
          objc_enumerationMutation(v3);
        }
        long long v8 = [*(id *)(*((void *)&v12 + 1) + 8 * i) componentsSeparatedByString:@"_"];
        if ([v8 count] == 2)
        {
          long long v9 = [v8 objectAtIndexedSubscript:0];
          uint64_t v10 = [v8 objectAtIndexedSubscript:1];
          [v2 setObject:v10 forKeyedSubscript:v9];
        }
      }
      uint64_t v5 = [v3 countByEnumeratingWithState:&v12 objects:v16 count:16];
    }
    while (v5);
  }

  return v2;
}

id VisualTempoFromTagsDictionary(void *a1)
{
  id v1 = [a1 objectForKeyedSubscript:@"VisualTempo"];
  id v2 = objc_alloc_init(MEMORY[0x1E4F28EE0]);
  [v2 setNumberStyle:1];
  id v3 = [v2 numberFromString:v1];

  return v3;
}

uint64_t PHMemoryMoodFromTagsDictionary(void *a1)
{
  uint64_t v4 = *MEMORY[0x1E4F143B8];
  id v1 = [a1 objectForKeyedSubscript:@"Mood"];
  uint64_t v2 = PHMemoryMoodForString();
  if (!v2) {
    PXAssertGetLog();
  }

  return v2;
}

uint64_t __Block_byref_object_copy__251217(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__251218(uint64_t a1)
{
}

void sub_1AB0C9BB8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  uint64_t v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v13 - 96), 8);
  _Unwind_Resume(a1);
}

void _PXTestBeatTimeMembership(CMTime *a1, void *a2, uint64_t a3, unint64_t *a4, void *a5)
{
  id v9 = a2;
  unint64_t v10 = *a4;
  if (v10 < [v9 count])
  {
    id v11 = [v9 objectAtIndexedSubscript:v10];
    long long v12 = v11;
    if (v11) {
      [v11 timeRange];
    }
    else {
      memset(v18, 0, sizeof(v18));
    }
    for (uint64_t i = (CMTime *)v18; ; uint64_t i = (CMTime *)v15)
    {
      CMTime v19 = *i;

      CMTime time1 = v19;
      CMTime time2 = *a1;
      if ((CMTimeCompare(&time1, &time2) & 0x80000000) == 0 || v10 >= [v9 count] - 1) {
        break;
      }
      long long v14 = [v9 objectAtIndexedSubscript:v10 + 1];
      long long v12 = v14;
      if (v14) {
        [v14 timeRange];
      }
      else {
        memset(v15, 0, sizeof(v15));
      }
      ++v10;
    }
    CMTime time1 = v19;
    CMTime time2 = *a1;
    if (!CMTimeCompare(&time1, &time2)) {
      *a5 = a3;
    }
  }
  *a4 = v10;
}

void sub_1AB0CA16C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29,uint64_t a30,uint64_t a31,uint64_t a32,char a33)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose(&a33, 8);
  _Block_object_dispose((const void *)(v33 - 144), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CA4A0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CA700(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CABC8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CAE4C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CB160(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXFlexMusicLibraryResourceTypeDescription(uint64_t a1)
{
  id v1 = @"Artwork";
  if (a1 == 2) {
    id v1 = @"Audio";
  }
  if (a1) {
    return v1;
  }
  else {
    return @"??";
  }
}

void sub_1AB0CDFDC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 200));
  objc_destroyWeak((id *)(v3 - 192));
  _Unwind_Resume(a1);
}

void sub_1AB0CE854(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 192), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0CF68C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,char a31,uint64_t a32,uint64_t a33,uint64_t a34,char a35)
{
}

void sub_1AB0CFD90(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(&location);
  objc_destroyWeak((id *)(v16 - 48));
  objc_destroyWeak((id *)(v16 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB0CFF3C(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 24));
  _Unwind_Resume(a1);
}

void sub_1AB0D0BF8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__251705(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__251706(uint64_t a1)
{
}

void sub_1AB0D0E2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1010(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1120(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1394(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1488(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1590(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1890(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D19BC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1B54(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1C8C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1D90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D1E9C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D20D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D2A2C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, char a18, uint64_t a19, uint64_t a20,uint64_t a21,char a22,uint64_t a23,uint64_t a24,uint64_t a25,char a26,uint64_t a27,uint64_t a28,uint64_t a29,char a30)
{
  _Block_object_dispose(&a18, 8);
  _Block_object_dispose(&a22, 8);
  _Block_object_dispose(&a26, 8);
  _Block_object_dispose(&a30, 8);
  _Block_object_dispose((const void *)(v30 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0D2C90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v7 - 64), 8);
  _Unwind_Resume(a1);
}

void PXStoryClipVideoSegmentTimeRange(void *a1@<X0>, _OWORD *a2@<X8>)
{
  id v3 = a1;
  uint64_t v4 = v3;
  *a2 = 0u;
  a2[1] = 0u;
  a2[2] = 0u;
  if (!v3)
  {
    bzero(v8, 0x300uLL);
    goto LABEL_5;
  }
  [v3 info];
  if (v9 != 4)
  {
LABEL_5:
    a2[1] = 0u;
    a2[2] = 0u;
    *a2 = 0u;
    goto LABEL_6;
  }
  [v4 videoTimeRange];
  *a2 = v5;
  a2[1] = v6;
  a2[2] = v7;
LABEL_6:
}

void PXStoryClipPlaybackTimeRange(void *a1@<X0>, uint64_t a2@<X1>, _OWORD *a3@<X8>)
{
  id v5 = a1;
  long long v6 = v5;
  long long v7 = 0uLL;
  memset(&v13[1], 0, sizeof(CMTimeRange));
  if (v5
    && ([v5 videoTimeRange], long long v7 = 0uLL, (v13[1].start.flags & 1) != 0)
    && ((v13[1].duration.flags & 1) != 0 ? (BOOL v8 = v13[1].duration.epoch == 0) : (BOOL v8 = 0),
        v8 && (v13[1].duration.value & 0x8000000000000000) == 0))
  {
    *(_OWORD *)&time.start.value = *(_OWORD *)(a2 + 24);
    time.start.epoch = *(void *)(a2 + 40);
    Float64 Seconds = CMTimeGetSeconds(&time.start);
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
    [v6 playbackTimeRangeForClipDuration:Seconds];
    CMTimeRange time = v13[1];
    long long v10 = a3[1];
    *(_OWORD *)&otherRange.start.value = *a3;
    *(_OWORD *)&otherRange.start.epoch = v10;
    *(_OWORD *)&otherRange.duration.timescale = a3[2];
    if (!CMTimeRangeContainsTimeRange(&time, &otherRange))
    {
      long long v11 = a3[1];
      *(_OWORD *)&otherRange.start.value = *a3;
      *(_OWORD *)&otherRange.start.epoch = v11;
      *(_OWORD *)&otherRange.duration.timescale = a3[2];
      v13[0] = v13[1];
      PXStoryTimeRangeIntersection(&otherRange, v13, &time);
      long long v12 = *(_OWORD *)&time.start.epoch;
      *a3 = *(_OWORD *)&time.start.value;
      a3[1] = v12;
      a3[2] = *(_OWORD *)&time.duration.timescale;
    }
  }
  else
  {
    a3[1] = v7;
    a3[2] = v7;
    *a3 = v7;
  }
}

void PXStoryClipSegmentPlaybackTimeRangeIncludingJLCuts(void *a1@<X0>, long long *a2@<X1>, CMTimeFlags a3@<W2>, _OWORD *a4@<X8>)
{
  uint64_t v27 = *MEMORY[0x1E4F143B8];
  id v7 = a1;
  memset(&v24, 0, sizeof(v24));
  long long v8 = a2[1];
  long long v21 = *a2;
  long long v22 = v8;
  long long v23 = a2[2];
  PXStoryClipPlaybackTimeRange(v7, (uint64_t)&v21, &v24);
  if ((v24.start.flags & 1) == 0 || (v24.duration.flags & 1) == 0 || v24.duration.epoch || v24.duration.value < 0)
  {
    a4[1] = 0u;
    a4[2] = 0u;
    *a4 = 0u;
  }
  else
  {
    long long v22 = 0u;
    long long v23 = 0u;
    CMTimeRange lhs = v24;
    long long v21 = 0u;
    PXStoryClipVideoPlaybackTimeRange(v7, (uint64_t)&lhs, &v21);
    CMTimeScale timescale = 0;
    CMTimeValue value = 0;
    if (a3)
    {
      CMTimeRange rhs = v24;
      PXStoryClipAudioPlaybackTimeRange(v7, &rhs, (uint64_t)&lhs);
      CMTimeValue value = lhs.start.value;
      CMTimeFlags flags = lhs.start.flags;
      CMTimeScale timescale = lhs.start.timescale;
      CMTimeValue v10 = lhs.duration.value;
      CMTimeEpoch epoch = lhs.start.epoch;
      CMTimeScale v12 = lhs.duration.timescale;
      a3 = lhs.duration.flags;
      CMTimeEpoch v13 = lhs.duration.epoch;
      long long v15 = 0uLL;
      *(void *)&long long v16 = 0;
      *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)&v24.start.value;
      lhs.start.CMTimeEpoch epoch = v24.start.epoch;
      rhs.start.CMTimeValue value = value;
      rhs.start.CMTimeScale timescale = timescale;
      rhs.start.CMTimeFlags flags = flags;
      rhs.start.CMTimeEpoch epoch = epoch;
      CMTimeSubtract((CMTime *)&v15, &lhs.start, &rhs.start);
      *(_OWORD *)&lhs.start.CMTimeValue value = v15;
      lhs.start.CMTimeEpoch epoch = v16;
      *(_OWORD *)&rhs.start.CMTimeValue value = *a2;
      rhs.start.CMTimeEpoch epoch = *((void *)a2 + 2);
      if (CMTimeCompare(&lhs.start, &rhs.start) >= 1)
      {
        *(_OWORD *)&lhs.start.CMTimeValue value = v15;
        lhs.start.CMTimeEpoch epoch = v16;
        *(_OWORD *)&rhs.start.CMTimeValue value = *a2;
        rhs.start.CMTimeEpoch epoch = *((void *)a2 + 2);
        CMTimeSubtract(&v18, &lhs.start, &rhs.start);
        *(void *)&long long v16 = v18.epoch;
        long long v15 = *(_OWORD *)&v18.value;
        lhs.start.CMTimeValue value = value;
        rhs.CMTimeRange start = v18;
        *(void *)&lhs.start.CMTimeScale timescale = __PAIR64__(flags, timescale);
        lhs.start.CMTimeEpoch epoch = epoch;
        CMTimeAdd(&v18, &lhs.start, &rhs.start);
        CMTimeValue value = v18.value;
        CMTimeFlags flags = v18.flags;
        CMTimeScale timescale = v18.timescale;
        CMTimeEpoch epoch = v18.epoch;
        *(_OWORD *)&rhs.start.CMTimeValue value = v15;
        rhs.start.CMTimeEpoch epoch = v16;
        lhs.start.CMTimeValue value = v10;
        *(void *)&lhs.start.CMTimeScale timescale = __PAIR64__(a3, v12);
        lhs.start.CMTimeEpoch epoch = v13;
        CMTimeSubtract(&v18, &lhs.start, &rhs.start);
        CMTimeValue v10 = v18.value;
        CMTimeScale v12 = v18.timescale;
        a3 = v18.flags;
        CMTimeEpoch v13 = v18.epoch;
      }
    }
    else
    {
      CMTimeEpoch v13 = 0;
      CMTimeScale v12 = 0;
      CMTimeValue v10 = 0;
      CMTimeEpoch epoch = 0;
      CMTimeFlags flags = 0;
    }
    if ((BYTE12(v21) & 1) != 0
      && (BYTE4(v23) & 1) != 0
      && !*((void *)&v23 + 1)
      && (*((void *)&v22 + 1) & 0x8000000000000000) == 0)
    {
      CMTimeRange rhs = v24;
      long long v15 = v21;
      long long v16 = v22;
      long long v17 = v23;
      PXStoryTimeRangeUnion(&rhs, (uint64_t)&v15, (uint64_t)&lhs);
      CMTimeRange v24 = lhs;
    }
    if ((flags & 1) != 0 && (a3 & 1) != 0 && !v13 && (v10 & 0x8000000000000000) == 0)
    {
      CMTimeRange rhs = v24;
      *(void *)&long long v15 = value;
      *((void *)&v15 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = __PAIR64__(flags, timescale);
      *(void *)&long long v16 = epoch;
      *((void *)&v16 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = v10;
      long long v17 = __PAIR64__(a3, v12);
      PXStoryTimeRangeUnion(&rhs, (uint64_t)&v15, (uint64_t)&lhs);
      CMTimeRange v24 = lhs;
    }
    long long v14 = *(_OWORD *)&v24.start.epoch;
    *a4 = *(_OWORD *)&v24.start.value;
    a4[1] = v14;
    a4[2] = *(_OWORD *)&v24.duration.timescale;
  }
}

void PXStoryClipVideoPlaybackTimeRange(void *a1@<X0>, uint64_t a2@<X1>, _OWORD *a3@<X8>)
{
  id v5 = a1;
  long long v6 = v5;
  if ((*(unsigned char *)(a2 + 12) & 1) != 0
    && ((*(_DWORD *)(a2 + 36) & 1) != 0 ? (BOOL v7 = *(void *)(a2 + 40) == 0) : (BOOL v7 = 0),
        v7 && (long long v8 = (_OWORD *)(a2 + 24), (*(void *)(a2 + 24) & 0x8000000000000000) == 0)))
  {
    long long v21 = 0u;
    long long v22 = 0u;
    long long v20 = 0u;
    if (v5)
    {
      [v5 videoTimeRange];
      if ((BYTE12(v20) & 1) != 0
        && (BYTE4(v22) & 1) != 0
        && !*((void *)&v22 + 1)
        && (*((void *)&v21 + 1) & 0x8000000000000000) == 0
        && (*(unsigned char *)(a2 + 12) & 1) != 0
        && (*(_DWORD *)(a2 + 36) & 1) != 0
        && !*(void *)(a2 + 40)
        && (*(void *)v8 & 0x8000000000000000) == 0)
      {
        CMTimeMakeWithSeconds(&v19, 1.0, 600);
        *(_OWORD *)CMTimeRange lhs = *v8;
        *(void *)&lhs[16] = *(void *)(a2 + 40);
        *(CMTime *)CMTimeRange rhs = v19;
        CMTimeAdd((CMTime *)&v12, (CMTime *)lhs, (CMTime *)rhs);
        *long long v8 = v12;
        *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v13;
        long long v9 = *(_OWORD *)(a2 + 16);
        *(_OWORD *)CMTimeRange rhs = *(_OWORD *)a2;
        *(_OWORD *)&rhs[16] = v9;
        long long v16 = *(_OWORD *)(a2 + 32);
        long long v12 = v20;
        long long v13 = v21;
        long long v14 = v22;
        PXStoryTimeRangeIntersection(rhs, &v12, lhs);
        long long v10 = *(_OWORD *)&lhs[16];
        *(_OWORD *)a2 = *(_OWORD *)lhs;
        *(_OWORD *)(a2 + 16) = v10;
        *(_OWORD *)(a2 + 32) = v18;
      }
    }
    long long v11 = *(_OWORD *)(a2 + 16);
    *a3 = *(_OWORD *)a2;
    a3[1] = v11;
    a3[2] = *(_OWORD *)(a2 + 32);
  }
  else
  {
    a3[1] = 0u;
    a3[2] = 0u;
    *a3 = 0u;
  }
}

void PXStoryClipAudioPlaybackTimeRange(void *a1@<X0>, _OWORD *a2@<X1>, uint64_t a3@<X8>)
{
  id v5 = a1;
  long long v6 = v5;
  long long v7 = 0uLL;
  memset(&v23[1], 0, sizeof(CMTimeRange));
  if (v5
    && ([v5 videoTimeRange], long long v7 = 0uLL, (v23[1].start.flags & 1) != 0)
    && ((v23[1].duration.flags & 1) != 0 ? (BOOL v8 = v23[1].duration.epoch == 0) : (BOOL v8 = 0),
        v8 && (v23[1].duration.value & 0x8000000000000000) == 0))
  {
    CMTimeRange range = v23[1];
    long long v9 = a2[1];
    *(_OWORD *)&otherRange.start.CMTimeValue value = *a2;
    *(_OWORD *)&otherRange.start.CMTimeEpoch epoch = v9;
    *(_OWORD *)&otherRange.duration.CMTimeScale timescale = a2[2];
    if (!CMTimeRangeContainsTimeRange(&range, &otherRange))
    {
      long long v10 = a2[1];
      *(_OWORD *)&otherRange.start.CMTimeValue value = *a2;
      *(_OWORD *)&otherRange.start.CMTimeEpoch epoch = v10;
      *(_OWORD *)&otherRange.duration.CMTimeScale timescale = a2[2];
      v23[0] = v23[1];
      PXStoryTimeRangeIntersection(&otherRange, v23, &range);
      long long v11 = *(_OWORD *)&range.start.epoch;
      *a2 = *(_OWORD *)&range.start.value;
      a2[1] = v11;
      a2[2] = *(_OWORD *)&range.duration.timescale;
    }
    long long v12 = a2[1];
    *(_OWORD *)a3 = *a2;
    *(_OWORD *)(a3 + 16) = v12;
    *(_OWORD *)(a3 + 32) = a2[2];
    [v6 info];
    double v13 = v21;
    double v14 = v22;
    long long v15 = +[PXStorySettings sharedInstance];
    if ([v15 wantsAudioFromVideo] && v20 >= 2)
    {
      CMTimeMakeWithSeconds(&v19, v21, 600);
      *(_OWORD *)&range.start.CMTimeValue value = *(_OWORD *)a3;
      range.start.CMTimeEpoch epoch = *(void *)(a3 + 16);
      otherRange.CMTimeRange start = v19;
      CMTimeSubtract(&v23[0].start, &range.start, &otherRange.start);
      *(_OWORD *)a3 = *(_OWORD *)&v23[0].start.value;
      *(void *)(a3 + 16) = v23[0].start.epoch;
      CMTimeMakeWithSeconds(&v18, v13 + v14, 600);
      *(_OWORD *)&range.start.CMTimeValue value = *(_OWORD *)(a3 + 24);
      range.start.CMTimeEpoch epoch = *(void *)(a3 + 40);
      otherRange.CMTimeRange start = v18;
      CMTimeAdd(&v23[0].start, &range.start, &otherRange.start);
      *(_OWORD *)(a3 + 24) = *(_OWORD *)&v23[0].start.value;
      *(void *)(a3 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v23[0].start.epoch;
    }
    long long v16 = *(_OWORD *)(a3 + 16);
    *(_OWORD *)&otherRange.start.CMTimeValue value = *(_OWORD *)a3;
    *(_OWORD *)&otherRange.start.CMTimeEpoch epoch = v16;
    *(_OWORD *)&otherRange.duration.CMTimeScale timescale = *(_OWORD *)(a3 + 32);
    v23[0] = v23[1];
    PXStoryTimeRangeIntersection(&otherRange, v23, &range);
    long long v17 = *(_OWORD *)&range.start.epoch;
    *(_OWORD *)a3 = *(_OWORD *)&range.start.value;
    *(_OWORD *)(a3 + 16) = v17;
    *(_OWORD *)(a3 + 32) = *(_OWORD *)&range.duration.timescale;
  }
  else
  {
    *(_OWORD *)(a3 + 16) = v7;
    *(_OWORD *)(a3 + 32) = v7;
    *(_OWORD *)a3 = v7;
  }
}

void PXStoryClipTimeRangeByAddingJLCutsToTimeRange(void *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  id v5 = a1;
  long long v17 = 0u;
  long long v18 = 0u;
  long long v16 = 0u;
  long long v6 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)&v15[0].CMTimeValue value = *(_OWORD *)a2;
  *(_OWORD *)&v15[0].CMTimeEpoch epoch = v6;
  *(_OWORD *)&v15[1].CMTimeScale timescale = *(_OWORD *)(a2 + 32);
  PXStoryClipPlaybackTimeRange(v5, (uint64_t)v15, &v16);
  if ((BYTE12(v16) & 1) == 0
    || (BYTE4(v18) & 1) == 0
    || *((void *)&v18 + 1)
    || (*((void *)&v17 + 1) & 0x8000000000000000) != 0)
  {
    long long v9 = *(_OWORD *)(a2 + 16);
    *(_OWORD *)a3 = *(_OWORD *)a2;
    *(_OWORD *)(a3 + 16) = v9;
    *(_OWORD *)(a3 + 32) = *(_OWORD *)(a2 + 32);
  }
  else
  {
    *(_OWORD *)CMTimeRange lhs = v16;
    *(_OWORD *)&lhs[16] = v17;
    long long v14 = v18;
    memset(v15, 0, sizeof(v15));
    PXStoryClipAudioPlaybackTimeRange(v5, lhs, (uint64_t)v15);
    memset(&v12, 0, sizeof(v12));
    *(_OWORD *)CMTimeRange lhs = v16;
    *(void *)&lhs[16] = v17;
    CMTime rhs = v15[0];
    CMTimeSubtract(&v12, (CMTime *)lhs, &rhs);
    *(CMTime *)CMTimeRange lhs = v12;
    CMTime rhs = *(CMTime *)a2;
    if (CMTimeCompare((CMTime *)lhs, &rhs) >= 1)
    {
      memset(&v11, 0, sizeof(v11));
      *(CMTime *)CMTimeRange lhs = v12;
      CMTime rhs = *(CMTime *)a2;
      CMTimeSubtract(&v11, (CMTime *)lhs, &rhs);
      *(CMTime *)CMTimeRange lhs = v15[0];
      CMTime rhs = v11;
      CMTimeAdd(v15, (CMTime *)lhs, &rhs);
      *(CMTime *)CMTimeRange lhs = v15[1];
      CMTime rhs = v11;
      CMTimeSubtract(&v10, (CMTime *)lhs, &rhs);
      v15[1] = v10;
    }
    *(CMTime *)CMTimeRange lhs = v12;
    CMTime rhs = *(CMTime *)a2;
    CMTimeMinimum(&v11, (CMTime *)lhs, &rhs);
    long long v7 = *(_OWORD *)&v11.value;
    CMTime v12 = v11;
    CMTimeEpoch epoch = v11.epoch;
    *(_OWORD *)(a3 + 16) = 0u;
    *(_OWORD *)(a3 + 32) = 0u;
    *(_OWORD *)a3 = 0u;
    *(_OWORD *)CMTimeRange lhs = *(_OWORD *)a2;
    *(void *)&lhs[16] = *(void *)(a2 + 16);
    *(_OWORD *)&rhs.CMTimeValue value = v7;
    rhs.CMTimeEpoch epoch = epoch;
    CMTimeSubtract(&v11, (CMTime *)lhs, &rhs);
    *(CMTime *)a3 = v11;
    *(CMTime *)(a3 + 24) = v15[1];
  }
}

void _GetPreviewAsset(void *a1, void *a2, void *a3, void *a4)
{
  id v7 = a2;
  id v9 = [a1 firstObject];
  BOOL v8 = [[PXCMMPreviewAsset alloc] initWithMomentShare:v7 underlyingAsset:v9];

  *a3 = v8;
  *a4 = objc_alloc_init(PXCMMPreviewUIImageProvider);
}

void sub_1AB0D4D30(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _PXCMMCapabilitiesForPhotoLibrary(void *a1, void *a2)
{
  uint64_t v56 = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  id v5 = (void (**)(void, void, void, void))v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    id v42 = [MEMORY[0x1E4F28B00] currentHandler];
    id v43 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXCMMCapabilitiesForPhotoLibrary(PHPhotoLibrary *__strong, void (^__strong)(PXCMMCapabilities, CPLStatus *__strong, BOOL))");
    [v42 handleFailureInFunction:v43, @"PXCMMCapabilitiesProvider.m", 64, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  uint64_t v44 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v45 = objc_msgSend(NSString, "stringWithUTF8String:", "void _PXCMMCapabilitiesForPhotoLibrary(PHPhotoLibrary *__strong, void (^__strong)(PXCMMCapabilities, CPLStatus *__strong, BOOL))");
  [v44 handleFailureInFunction:v45, @"PXCMMCapabilitiesProvider.m", 65, @"Invalid parameter not satisfying: %@", @"resultsHandler" file lineNumber description];

LABEL_3:
  long long v6 = [v3 pathManager];
  id v7 = CPLStatusFromPathManager();

  if (!v7)
  {
    double v38 = PLUserStatusGetLog();
    if (os_log_type_enabled(v38, OS_LOG_TYPE_ERROR))
    {
      LODWORD(buf) = 138412290;
      *(void *)((char *)&buf + 4) = v3;
      _os_log_impl(&dword_1A9AE7000, v38, OS_LOG_TYPE_ERROR, "<PXCMMCapabilitiesProvider> No CPL status for library: %@", (uint8_t *)&buf, 0xCu);
    }

    v5[2](v5, 0, 0, 0);
    goto LABEL_49;
  }
  BOOL v8 = [v7 disabledFeatures];
  uint64_t v48 = 0;
  long long v49 = &v48;
  uint64_t v50 = 0x2020000000;
  id v9 = (void *)getCPLFeatureNameMomentShareSymbolLoc_ptr;
  uint64_t v51 = getCPLFeatureNameMomentShareSymbolLoc_ptr;
  if (!getCPLFeatureNameMomentShareSymbolLoc_ptr)
  {
    *(void *)&long long buf = MEMORY[0x1E4F143A8];
    *((void *)&buf + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 3221225472;
    id v53 = __getCPLFeatureNameMomentShareSymbolLoc_block_invoke;
    CMTimeRange v54 = &unk_1E5DD2B08;
    int v55 = &v48;
    __getCPLFeatureNameMomentShareSymbolLoc_block_invoke(&buf);
    id v9 = (void *)v49[3];
  }
  _Block_object_dispose(&v48, 8);
  if (!v9)
  {
    long long v46 = [MEMORY[0x1E4F28B00] currentHandler];
    id v47 = [NSString stringWithUTF8String:"NSString *getCPLFeatureNameMomentShare(void)"];
    objc_msgSend(v46, "handleFailureInFunction:file:lineNumber:description:", v47, @"PXCMMCapabilitiesProvider.m", 29, @"%s", dlerror());

    __break(1u);
  }
  char v10 = [v8 containsObject:*v9];

  CMTime v11 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v12 = [v11 simulateCPLFeatureState];

  char v13 = v10 ^ 1;
  if (v12) {
    char v13 = v12 == 1;
  }
  if ((v13 & 1) == 0)
  {
    id v39 = PLUserStatusGetLog();
    if (os_log_type_enabled(v39, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A9AE7000, v39, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as it is a disabled feature in CPL", (uint8_t *)&buf, 2u);
    }
    goto LABEL_34;
  }
  long long v14 = [v7 disabledFeatures];
  char v15 = [v14 containsObject:@"MomentShareCreation"];

  long long v16 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v17 = [v16 simulateCPLCMMFeatureState];

  char v18 = v15 ^ 1;
  if (v17) {
    char v18 = v17 == 1;
  }
  if ((v18 & 1) == 0)
  {
    id v39 = PLUserStatusGetLog();
    if (os_log_type_enabled(v39, OS_LOG_TYPE_DEFAULT))
    {
      LOWORD(buf) = 0;
      _os_log_impl(&dword_1A9AE7000, v39, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM creation is not available as it is a disabled feature in CPL", (uint8_t *)&buf, 2u);
    }
LABEL_34:

    v5[2](v5, 0, 0, 1);
    goto LABEL_49;
  }
  char v19 = [v3 isSystemPhotoLibrary];
  unint64_t v20 = +[PXCompleteMyMomentSettings sharedInstance];
  uint64_t v21 = [v20 simulateSystemPhotoLibraryState];

  BOOL v22 = v21 == 1;
  if (!v21) {
    BOOL v22 = v19;
  }
  if (v22)
  {
    long long v23 = objc_msgSend(MEMORY[0x1E4F8A668], "pl_sharedAccountStore");
    CMTimeRange v24 = [v23 cachedPrimaryAppleAccount];

    id v25 = +[PXCompleteMyMomentSettings sharedInstance];
    uint64_t v26 = [v25 simulateCloudState];

    BOOL v27 = v26 == 1;
    if (!v26) {
      BOOL v27 = v24 != 0;
    }
    if (!v27)
    {
      int v41 = PLUserStatusGetLog();
      if (os_log_type_enabled(v41, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A9AE7000, v41, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as iCloud is disabled", (uint8_t *)&buf, 2u);
      }

      v5[2](v5, 0, 0, 0);
      goto LABEL_48;
    }
    char v28 = [v24 isEnabledForDataclass:*MEMORY[0x1E4F17A88]];
    long long v29 = +[PXCompleteMyMomentSettings sharedInstance];
    uint64_t v30 = [v29 simulateCloudPhotosState];

    if (v30) {
      BOOL v31 = v30 == 1;
    }
    else {
      BOOL v31 = v28;
    }
    if (v31)
    {
      uint64_t v32 = [v7 exitDeleteTime];
      BOOL v33 = v32 != 0;

      id v34 = +[PXCompleteMyMomentSettings sharedInstance];
      uint64_t v35 = [v34 simulateCloudPhotosExitState];

      BOOL v36 = v35 == 1;
      if (!v35) {
        BOOL v36 = v33;
      }
      if (!v36)
      {
        ((void (**)(void, uint64_t, void *, void))v5)[2](v5, 2, v7, 0);
        goto LABEL_48;
      }
      id v37 = PLUserStatusGetLog();
      if (os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A9AE7000, v37, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is receive-only as iCloud Photos is exiting", (uint8_t *)&buf, 2u);
      }
    }
    else
    {
      id v37 = PLUserStatusGetLog();
      if (os_log_type_enabled(v37, OS_LOG_TYPE_DEFAULT))
      {
        LOWORD(buf) = 0;
        _os_log_impl(&dword_1A9AE7000, v37, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is receive-only as iCloud Photos is disabled", (uint8_t *)&buf, 2u);
      }
    }

    ((void (**)(void, uint64_t, void *, void))v5)[2](v5, 1, v7, 0);
LABEL_48:

    goto LABEL_49;
  }
  id v40 = PLUserStatusGetLog();
  if (os_log_type_enabled(v40, OS_LOG_TYPE_DEFAULT))
  {
    LOWORD(buf) = 0;
    _os_log_impl(&dword_1A9AE7000, v40, OS_LOG_TYPE_DEFAULT, "<PXCMMCapabilitiesProvider> CMM is not available as CPL is disabled", (uint8_t *)&buf, 2u);
  }

  v5[2](v5, 0, 0, 0);
LABEL_49:
}

void sub_1AB0D87F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, ...)
{
  va_start(va, a3);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void *__getCPLFeatureNameMomentShareSymbolLoc_block_invoke(void *a1)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  v5[0] = 0;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary_252428)
  {
    v5[1] = (void *)MEMORY[0x1E4F143A8];
    void v5[2] = (void *)3221225472;
    void v5[3] = __CloudPhotoLibraryLibraryCore_block_invoke_252429;
    void v5[4] = &__block_descriptor_40_e5_v8__0l;
    v5[5] = v5;
    long long v6 = xmmword_1E5DCBCA8;
    uint64_t v7 = 0;
    CloudPhotoLibraryLibraryCore_frameworkLibrary_252428 = _sl_dlopen();
  }
  uint64_t v2 = (void *)CloudPhotoLibraryLibraryCore_frameworkLibrary_252428;
  if (!CloudPhotoLibraryLibraryCore_frameworkLibrary_252428)
  {
    a1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *CloudPhotoLibraryLibrary(void)"];
    objc_msgSend(a1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXCMMCapabilitiesProvider.m", 26, @"%s", v5[0]);

    __break(1u);
    goto LABEL_7;
  }
  id v3 = v5[0];
  if (v5[0]) {
LABEL_7:
  }
    free(v3);
  uint64_t result = dlsym(v2, "CPLFeatureNameMomentShare");
  *(void *)(*(void *)(a1[4] + 8) + 24) = result;
  getCPLFeatureNameMomentShareSymbolLoc_ptr = *(void *)(*(void *)(a1[4] + 8) + 24);
  return result;
}

uint64_t __CloudPhotoLibraryLibraryCore_block_invoke_252429()
{
  uint64_t result = _sl_dlopen();
  CloudPhotoLibraryLibraryCore_frameworkLibrary_252428 = result;
  return result;
}

void _systemPhotoLibraryURLDidChange_252460(uint64_t a1, void *a2)
{
  objc_initWeak(&location, a2);
  v2[0] = MEMORY[0x1E4F143A8];
  v2[1] = 3221225472;
  v2[2] = ___systemPhotoLibraryURLDidChange_block_invoke;
  void v2[3] = &unk_1E5DD32D0;
  objc_copyWeak(&v3, &location);
  dispatch_async(MEMORY[0x1E4F14428], v2);
  objc_destroyWeak(&v3);
  objc_destroyWeak(&location);
}

void ___systemPhotoLibraryURLDidChange_block_invoke(uint64_t a1)
{
  id WeakRetained = objc_loadWeakRetained((id *)(a1 + 32));
  [WeakRetained _updateCapabilities];
}

uint64_t PXCMMCapabilitiesForPhotoLibrary(void *a1)
{
  id v1 = a1;
  uint64_t v5 = 0;
  long long v6 = &v5;
  uint64_t v7 = 0x2020000000;
  uint64_t v8 = 0;
  v4[0] = MEMORY[0x1E4F143A8];
  v4[1] = 3221225472;
  v4[2] = __PXCMMCapabilitiesForPhotoLibrary_block_invoke;
  _OWORD v4[3] = &unk_1E5DCBC60;
  void v4[4] = &v5;
  _PXCMMCapabilitiesForPhotoLibrary(v1, v4);
  uint64_t v2 = v6[3];
  _Block_object_dispose(&v5, 8);

  return v2;
}

void sub_1AB0D90CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXCMMCapabilitiesForPhotoLibrary_block_invoke(uint64_t result, uint64_t a2)
{
  *(void *)(*(void *)(*(void *)(result + 32) + 8) + 24) = a2;
  return result;
}

uint64_t PXCMMHasSendAndReceiveCapabilities(void *a1)
{
  id v1 = a1;
  uint64_t v5 = 0;
  long long v6 = &v5;
  uint64_t v7 = 0x2020000000;
  char v8 = 0;
  v4[0] = MEMORY[0x1E4F143A8];
  v4[1] = 3221225472;
  v4[2] = __PXCMMHasSendAndReceiveCapabilities_block_invoke;
  _OWORD v4[3] = &unk_1E5DCBC60;
  void v4[4] = &v5;
  _PXCMMCapabilitiesForPhotoLibrary(v1, v4);
  uint64_t v2 = *((unsigned __int8 *)v6 + 24);
  _Block_object_dispose(&v5, 8);

  return v2;
}

void sub_1AB0D91A4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __PXCMMHasSendAndReceiveCapabilities_block_invoke(uint64_t result, uint64_t a2)
{
  *(unsigned char *)(*(void *)(*(void *)(result + 32) + 8) + 24) = a2 == 2;
  return result;
}

__CFString *PXGadgetTypeToString(unint64_t a1)
{
  if (a1 > 2) {
    return 0;
  }
  else {
    return off_1E5DCBDC8[a1];
  }
}

id peopleHomeFetchResults(void *a1)
{
  void v6[2] = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  uint64_t v2 = peopleHomeFetchResultForType(1, v1);
  id v3 = peopleHomeFetchResultForType(0, v1);

  v6[0] = v2;
  v6[1] = v3;
  id v4 = [MEMORY[0x1E4F1C978] arrayWithObjects:v6 count:2];

  return v4;
}

id peopleHomeFetchResultForType(uint64_t a1, void *a2)
{
  id v3 = [a2 librarySpecificFetchOptions];
  id v4 = +[PXPeopleUtilities sortDescriptorsForManualSort];
  [v3 setSortDescriptors:v4];

  [v3 setPersonContext:1];
  uint64_t v5 = objc_msgSend(MEMORY[0x1E4F390A0], "px_defaultDetectionTypes");
  [v3 setIncludedDetectionTypes:v5];

  long long v6 = [MEMORY[0x1E4F391F0] fetchPersonsWithType:a1 options:v3];

  return v6;
}

void sub_1AB0DB824(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__253231(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__253232(uint64_t a1)
{
}

void sub_1AB0DD6DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,char a41,uint64_t a42,uint64_t a43,uint64_t a44,char a45,uint64_t a46,uint64_t a47,uint64_t a48,char a49)
{
}

void sub_1AB0DE8EC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 96));
  _Unwind_Resume(a1);
}

void sub_1AB0DE9E4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

double _PXCuratedLibraryBestCropRectForAssetWithAbsoluteInset(void *a1, uint64_t a2, double a3)
{
  id v5 = a1;
  long long v6 = v5;
  double v7 = *(double *)off_1E5DAB010;
  if (v5
    && fabs(a3) != INFINITY
    && [v5 pixelWidth]
    && [v6 pixelHeight]
    && (!a2 || (objc_opt_respondsToSelector() & 1) != 0))
  {
    char v8 = +[PXCuratedLibrarySettings sharedInstance];
    if ([v8 useSaliency]) {
      uint64_t v9 = 2;
    }
    else {
      uint64_t v9 = 0;
    }

    [v6 bestCropRectForAspectRatioV2:0 verticalContentMode:v9 cropMode:a3];
    double v7 = v10;
  }

  return v7;
}

double PXCuratedLibraryBestCropRectForAssetInZoomLevel(void *a1, uint64_t a2, uint64_t a3, double a4)
{
  id v7 = a1;
  if (PXDisplayAssetIsSyndicatedAndUnsaved(v7)) {
    double v8 = *(double *)off_1E5DAB010;
  }
  else {
    double v8 = _PXCuratedLibraryBestCropRectForAssetWithAbsoluteInset(v7, a3, a4);
  }
  if (a2 == 1) {
    PXRectGetCenter();
  }

  return v8;
}

BOOL PXCuratedLibraryAssetsCollectionRepresentsChapterHeader(void *a1, uint64_t a2)
{
  id v3 = a1;
  BOOL v4 = a2 == 2 && (objc_opt_class(), (objc_opt_isKindOfClass() & 1) != 0) && [v3 kind] == 1;

  return v4;
}

BOOL PXCuratedLibraryZoomLevelCanContainChapterHeaders(uint64_t a1)
{
  return a1 == 2;
}

uint64_t PXCuratedLibraryNumberOfAssetsDisplayedInAssetCollection(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass()) {
    uint64_t v2 = objc_msgSend(v1, "px_estimatedCuratedAssetsCount");
  }
  else {
    uint64_t v2 = [v1 estimatedAssetCount];
  }
  uint64_t v3 = v2;

  return v3;
}

uint64_t PXCuratedLibraryZoomLevelForDestinationType(uint64_t a1, uint64_t a2)
{
  switch(a1)
  {
    case 1:
      return a2;
    case 2:
      a2 = 1;
      break;
    case 3:
      a2 = 2;
      break;
    case 4:
      a2 = 3;
      break;
    case 5:
    case 6:
      a2 = 4;
      break;
    default:
      a2 = 0;
      break;
  }
  return a2;
}

uint64_t PXCuratedLibraryDestinationTypeForZoomLevel(unint64_t a1)
{
  if (a1 >= 5)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"PXProgrammaticNavigationDestinationType PXCuratedLibraryDestinationTypeForZoomLevel(PXCuratedLibraryZoomLevel)"];
    [v2 handleFailureInFunction:v3 file:@"PXCuratedLibraryUtilities.m" lineNumber:108 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return qword_1AB35C8A0[a1];
}

uint64_t PXCuratedLibraryZoomLevelFromNumber(void *a1)
{
  if (a1)
  {
    uint64_t v1 = [a1 integerValue];
    uint64_t v2 = 3;
    if (v1 != 4) {
      uint64_t v2 = v1;
    }
  }
  else
  {
    uint64_t v2 = 0;
  }
  if ((unint64_t)(v2 - 5) >= 0xFFFFFFFFFFFFFFFCLL) {
    return v2;
  }
  else {
    return 0;
  }
}

uint64_t PXCuratedLibraryZoomLevelFromString(void *a1)
{
  id v1 = a1;
  if ([v1 isEqualToString:@"years"])
  {
    uint64_t v2 = 1;
  }
  else if ([v1 isEqualToString:@"months"])
  {
    uint64_t v2 = 2;
  }
  else if ([v1 isEqualToString:@"days"])
  {
    uint64_t v2 = 3;
  }
  else if ([v1 isEqualToString:@"all-photos"])
  {
    uint64_t v2 = 3;
  }
  else
  {
    uint64_t v2 = 0;
  }

  return v2;
}

__CFString *PXCuratedLibraryZoomLevelDescription(unint64_t a1)
{
  if (a1 > 4) {
    return @"???";
  }
  else {
    return off_1E5DCBFE0[a1];
  }
}

id PXCuratedLibraryZoomLevelDiscoverabilityTitle(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) >= 4)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v4 = [NSString stringWithUTF8String:"NSString * _Nonnull PXCuratedLibraryZoomLevelDiscoverabilityTitle(PXCuratedLibraryZoomLevel)"];
    [v3 handleFailureInFunction:v4 file:@"PXCuratedLibraryUtilities.m" lineNumber:192 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  id v1 = PXLocalizedStringFromTable(off_1E5DD3758[a1 - 1], @"PhotosUICore");
  return v1;
}

uint64_t PXCuratedLibraryZoomLevelToPXPhotosDetailsViewSourceOrigin(uint64_t a1)
{
  if ((unint64_t)(a1 - 1) >= 3) {
    return 0;
  }
  else {
    return 14 - a1;
  }
}

BOOL PXCuratedLibraryScrollContextIsTrackable(uint64_t a1)
{
  return a1 != 0;
}

uint64_t __Block_byref_object_copy__253825(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__253826(uint64_t a1)
{
}

id PXContentSyndicationLocalizedSocialLayerTitle()
{
  if (PXContentSyndicationLocalizedSocialLayerTitle_onceToken != -1) {
    dispatch_once(&PXContentSyndicationLocalizedSocialLayerTitle_onceToken, &__block_literal_global_254520);
  }
  id v0 = (void *)PXContentSyndicationLocalizedSocialLayerTitle_title;
  return v0;
}

void __PXContentSyndicationLocalizedSocialLayerTitle_block_invoke()
{
  id v2 = objc_alloc_init(MEMORY[0x1E4FA5658]);
  uint64_t v0 = [v2 displayName];
  id v1 = (void *)PXContentSyndicationLocalizedSocialLayerTitle_title;
  PXContentSyndicationLocalizedSocialLayerTitle_title = v0;
}

id PXContentSyndicationAttributionViewForSocialLayerHighlight(void *a1, int a2)
{
  v8[1] = *MEMORY[0x1E4F143B8];
  uint64_t v3 = (objc_class *)MEMORY[0x1E4FA5600];
  id v4 = a1;
  id v5 = (void *)[[v3 alloc] initWithHighlight:v4];

  if (a2) {
    [v5 updateBackgroundStyle:1];
  }
  v8[0] = *MEMORY[0x1E4FA5688];
  long long v6 = [MEMORY[0x1E4F1C978] arrayWithObjects:v8 count:1];
  [v5 excludeContextMenuItemsWithIdentifiers:v6];

  return v5;
}

BOOL PXContentSyndicationShouldShowAttributionViewForAsset(void *a1)
{
  uint64_t v39 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  id v2 = PLUIGetLog();
  if (os_log_type_enabled(v2, OS_LOG_TYPE_INFO))
  {
    uint64_t v3 = [v1 uuid];
    *(_DWORD *)long long buf = 138543362;
    id v34 = v3;
    _os_log_impl(&dword_1A9AE7000, v2, OS_LOG_TYPE_INFO, "Checking if should show attribution view for asset: %{public}@", buf, 0xCu);
  }
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    id v4 = v1;
    if (v4)
    {
      objc_opt_class();
      if (objc_opt_isKindOfClass()) {
        goto LABEL_6;
      }
      BOOL v27 = [MEMORY[0x1E4F28B00] currentHandler];
      char v28 = [NSString stringWithUTF8String:"BOOL PXContentSyndicationShouldShowAttributionViewForAsset(__strong id<PXDisplayAsset> _Nonnull)"];
      BOOL v31 = (objc_class *)objc_opt_class();
      uint64_t v30 = NSStringFromClass(v31);
      uint64_t v32 = objc_msgSend(v4, "px_descriptionForAssertionMessage");
      [v27 handleFailureInFunction:v28, @"PXSocialLayerUtilities.m", 87, @"%@ should be an instance inheriting from %@, but it is %@", @"asset", v30, v32 file lineNumber description];
    }
    else
    {
      BOOL v27 = [MEMORY[0x1E4F28B00] currentHandler];
      char v28 = [NSString stringWithUTF8String:"BOOL PXContentSyndicationShouldShowAttributionViewForAsset(__strong id<PXDisplayAsset> _Nonnull)"];
      long long v29 = (objc_class *)objc_opt_class();
      uint64_t v30 = NSStringFromClass(v29);
      [v27 handleFailureInFunction:v28, @"PXSocialLayerUtilities.m", 87, @"%@ should be an instance inheriting from %@, but it is nil", @"asset", v30 file lineNumber description];
    }

LABEL_6:
    [v4 fetchPropertySetsIfNeeded];
    id v5 = [v4 photoLibrary];
    uint64_t v6 = [v5 wellKnownPhotoLibraryIdentifier];

    if (v6 == 3)
    {
      id v7 = PLUIGetLog();
      BOOL v8 = 1;
      if (os_log_type_enabled(v7, OS_LOG_TYPE_INFO))
      {
        uint64_t v9 = [v4 uuid];
        id v10 = [v4 curationProperties];
        CMTime v11 = [v10 syndicationIdentifier];
        *(_DWORD *)long long buf = 138543618;
        id v34 = v9;
        __int16 v35 = 2114;
        BOOL v36 = v11;
        uint64_t v12 = "Asset found to be in Syndication Library. Asset: %{public}@, syndication ID: %{public}@";
LABEL_13:
        _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_INFO, v12, buf, 0x16u);
LABEL_14:
      }
    }
    else
    {
      if ((objc_msgSend(v4, "px_isUnsavedSyndicatedAsset") & 1) == 0)
      {
        int v13 = objc_msgSend(v4, "px_wasSavedThroughSyndication");
        id v7 = PLUIGetLog();
        BOOL v14 = os_log_type_enabled(v7, OS_LOG_TYPE_INFO);
        if (v13)
        {
          if (v14)
          {
            char v15 = [v4 importDate];
            long long v16 = [v4 uuid];
            uint64_t v17 = [v4 curationProperties];
            char v18 = [v17 syndicationIdentifier];
            *(_DWORD *)long long buf = 138412802;
            id v34 = v15;
            __int16 v35 = 2114;
            BOOL v36 = v16;
            __int16 v37 = 2114;
            double v38 = v18;
            _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_INFO, "Asset saved through syndication since %@. Asset: %{public}@, syndication ID: %{public}@", buf, 0x20u);
          }
          id v7 = +[PXContentSyndicationSettings sharedInstance];
          uint64_t v19 = [v7 savedAssetViewVisibility];
          if (v19 == 1)
          {
            BOOL v8 = 1;
            goto LABEL_24;
          }
          if (v19)
          {
            uint64_t v9 = [v4 importDate];
            uint64_t v20 = [v7 numberOfMinutesToShowPillUIAfterSaving];
            id v10 = objc_alloc_init(MEMORY[0x1E4F1C9D8]);
            [v10 setMinute:v20];
            uint64_t v21 = [MEMORY[0x1E4F1C9A8] currentCalendar];
            CMTime v11 = [v21 dateByAddingComponents:v10 toDate:v9 options:0];

            BOOL v22 = [MEMORY[0x1E4F1C9C8] now];
            BOOL v8 = [v11 compare:v22] != -1;

            goto LABEL_14;
          }
        }
        else if (v14)
        {
          long long v23 = [v4 uuid];
          CMTimeRange v24 = [v4 curationProperties];
          id v25 = [v24 syndicationIdentifier];
          *(_DWORD *)long long buf = 138543618;
          id v34 = v23;
          __int16 v35 = 2114;
          BOOL v36 = v25;
          _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_INFO, "Asset found to be not eligible for Attribution View. Asset: %{public}@, syndication ID: %{public}@", buf, 0x16u);
        }
        BOOL v8 = 0;
        goto LABEL_24;
      }
      id v7 = PLUIGetLog();
      BOOL v8 = 1;
      if (os_log_type_enabled(v7, OS_LOG_TYPE_INFO))
      {
        uint64_t v9 = [v4 uuid];
        id v10 = [v4 curationProperties];
        CMTime v11 = [v10 syndicationIdentifier];
        *(_DWORD *)long long buf = 138543618;
        id v34 = v9;
        __int16 v35 = 2114;
        BOOL v36 = v11;
        uint64_t v12 = "Asset found to be Unsaved Syndicated Asset. Asset: %{public}@, syndication ID: %{public}@";
        goto LABEL_13;
      }
    }
LABEL_24:

    goto LABEL_25;
  }
  BOOL v8 = 0;
LABEL_25:

  return v8;
}

void PXContentSyndicationPresentMessagesTranscript(void *a1, void *a2)
{
  id v5 = a1;
  id v3 = a2;
  SEL v4 = NSSelectorFromString(&cfstr_Presenttranscr.isa);
  objc_opt_class();
  if (objc_opt_respondsToSelector()) {
    [MEMORY[0x1E4FA5600] performSelector:v4 withObject:v5 withObject:v3];
  }
}

BOOL PXIsMemoryTileViewSpecContext(uint64_t a1)
{
  return (unint64_t)(a1 - 1900) < 0x64;
}

uint64_t PXMemoryTileElementForViewSpecContext(uint64_t a1)
{
  if ((unint64_t)(a1 - 1900) >= 0x64) {
    return 0;
  }
  else {
    return (a1 - 108) / 0xFu;
  }
}

uint64_t _PXViewSpecContextForMemoryTileElement(uint64_t a1, uint64_t a2)
{
  uint64_t v2 = 1900;
  if ((unint64_t)(a1 - 1900) < 0x64) {
    uint64_t v2 = (a1 - 108) % 0xFu + 1900;
  }
  return v2 - a2 + 16 * a2;
}

uint64_t PXViewSpecContextForMemoryTile(uint64_t a1, uint64_t a2)
{
  return a1 - a2 + 16 * a2 + 1900;
}

id PXViewSpecDescriptorDescription(uint64_t *a1)
{
  id v1 = NSString;
  uint64_t v2 = *a1;
  uint64_t v3 = a1[1];
  SEL v4 = NSStringFromCGSize(*((CGSize *)a1 + 1));
  id v5 = [v1 stringWithFormat:@"{context:%i, options:%i, boundingSize:%@}", v2, v3, v4];

  return v5;
}

unint64_t PXViewSpecOptionsWithTitleFontName(uint64_t a1, void *a2)
{
  id v3 = a2;
  if (v3)
  {
    if (PXViewSpecOptionsWithTitleFontName_onceToken != -1) {
      dispatch_once(&PXViewSpecOptionsWithTitleFontName_onceToken, &__block_literal_global_230_255036);
    }
    SEL v4 = [(id)PXViewSpecOptionsTitleFontNameIndexes objectForKeyedSubscript:v3];
    id v5 = v4;
    if (v4)
    {
      uint64_t v6 = [v4 unsignedIntegerValue];
    }
    else
    {
      uint64_t v6 = [(id)PXViewSpecOptionsTitleFontNames count] + 1;
      [(id)PXViewSpecOptionsTitleFontNames addObject:v3];
      id v7 = [NSNumber numberWithUnsignedInteger:v6];
      [(id)PXViewSpecOptionsTitleFontNameIndexes setObject:v7 forKeyedSubscript:v3];
    }
  }
  else
  {
    uint64_t v6 = 0;
  }

  return a1 & 0xFFFFFFFFFFFFF803 | (4 * v6);
}

void __PXViewSpecOptionsWithTitleFontName_block_invoke()
{
  uint64_t v0 = [MEMORY[0x1E4F1CA48] array];
  id v1 = (void *)PXViewSpecOptionsTitleFontNames;
  PXViewSpecOptionsTitleFontNames = v0;

  uint64_t v2 = [MEMORY[0x1E4F1CA60] dictionary];
  id v3 = (void *)PXViewSpecOptionsTitleFontNameIndexes;
  PXViewSpecOptionsTitleFontNameIndexes = v2;
}

id PXViewSpecOptionsTitleFontName(unint64_t a1)
{
  uint64_t v2 = (a1 >> 2) & 0x1FF;
  if (v2)
  {
    id v3 = [(id)PXViewSpecOptionsTitleFontNames objectAtIndexedSubscript:v2 - 1];
  }
  else
  {
    id v3 = 0;
  }
  return v3;
}

uint64_t PXMemoryTileKindForViewSpecContext(uint64_t a1)
{
  if ((unint64_t)(a1 - 1900) >= 0x64) {
    return 0;
  }
  else {
    return (a1 - 108) % 0xFu;
  }
}

uint64_t PXHorizontalSizeClassFromFeatureSpec(void *a1)
{
  id v1 = a1;
  if ([v1 sizeClass] == 2)
  {
    uint64_t v2 = 2;
  }
  else
  {
    if ([v1 sizeClass] != 1) {
      goto LABEL_10;
    }
    uint64_t v3 = [v1 sizeSubclass];
    if ((unint64_t)(v3 - 1) < 2)
    {
      uint64_t v2 = 1;
      goto LABEL_11;
    }
    if (v3 != 3)
    {
LABEL_10:
      uint64_t v2 = 0;
      goto LABEL_11;
    }
    if ([v1 layoutOrientation] == 1) {
      uint64_t v2 = 1;
    }
    else {
      uint64_t v2 = 2;
    }
  }
LABEL_11:

  return v2;
}

double PXConformCMTimeRangeWithinRange@<D0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  if (*(_DWORD *)(a2 + 8) <= *(_DWORD *)(a2 + 32)) {
    int32_t v6 = *(_DWORD *)(a2 + 32);
  }
  else {
    int32_t v6 = *(_DWORD *)(a2 + 8);
  }
  memset(&v17, 0, sizeof(v17));
  *(_OWORD *)&time.start.CMTimeValue value = *(_OWORD *)a1;
  time.start.CMTimeEpoch epoch = *(void *)(a1 + 16);
  CMTimeConvertScale(&v17, &time.start, v6, kCMTimeRoundingMethod_RoundAwayFromZero);
  memset(&v16, 0, sizeof(v16));
  *(_OWORD *)&time.start.CMTimeValue value = *(_OWORD *)(a1 + 24);
  time.start.CMTimeEpoch epoch = *(void *)(a1 + 40);
  CMTimeConvertScale(&v16, &time.start, v6, kCMTimeRoundingMethod_RoundTowardZero);
  *(_OWORD *)(a3 + 16) = 0u;
  *(_OWORD *)(a3 + 32) = 0u;
  *(_OWORD *)a3 = 0u;
  time.CMTimeRange start = v17;
  duration.CMTimeRange start = v16;
  CMTimeRangeMake((CMTimeRange *)a3, &time.start, &duration.start);
  long long v7 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)&time.start.CMTimeValue value = *(_OWORD *)a2;
  *(_OWORD *)&time.start.CMTimeEpoch epoch = v7;
  *(_OWORD *)&time.duration.CMTimeScale timescale = *(_OWORD *)(a2 + 32);
  long long v8 = *(_OWORD *)(a3 + 16);
  *(_OWORD *)&duration.start.CMTimeValue value = *(_OWORD *)a3;
  *(_OWORD *)&duration.start.CMTimeEpoch epoch = v8;
  *(_OWORD *)&duration.duration.CMTimeScale timescale = *(_OWORD *)(a3 + 32);
  if (!CMTimeRangeContainsTimeRange(&time, &duration))
  {
    long long v10 = *(_OWORD *)(a2 + 16);
    *(_OWORD *)&duration.start.CMTimeValue value = *(_OWORD *)a2;
    *(_OWORD *)&duration.start.CMTimeEpoch epoch = v10;
    *(_OWORD *)&duration.duration.CMTimeScale timescale = *(_OWORD *)(a2 + 32);
    long long v11 = *(_OWORD *)(a3 + 16);
    *(_OWORD *)&v13.start.CMTimeValue value = *(_OWORD *)a3;
    *(_OWORD *)&v13.start.CMTimeEpoch epoch = v11;
    *(_OWORD *)&v13.duration.CMTimeScale timescale = *(_OWORD *)(a3 + 32);
    CMTimeRangeGetIntersection(&time, &duration, &v13);
    long long v12 = *(_OWORD *)&time.start.epoch;
    *(_OWORD *)a3 = *(_OWORD *)&time.start.value;
    *(_OWORD *)(a3 + 16) = v12;
    double result = *(double *)&time.duration.timescale;
    *(_OWORD *)(a3 + 32) = *(_OWORD *)&time.duration.timescale;
  }
  return result;
}

id PXCMTimeRangeDescription(uint64_t a1)
{
  id v2 = [NSString alloc];
  *(_OWORD *)&time.start.CMTimeValue value = *(_OWORD *)a1;
  time.start.CMTimeEpoch epoch = *(void *)(a1 + 16);
  Float64 Seconds = CMTimeGetSeconds(&time.start);
  long long v4 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)&time.start.CMTimeValue value = *(_OWORD *)a1;
  *(_OWORD *)&time.start.CMTimeEpoch epoch = v4;
  *(_OWORD *)&time.duration.CMTimeScale timescale = *(_OWORD *)(a1 + 32);
  CMTimeRangeGetEnd(&v8, &time);
  id v5 = objc_msgSend(v2, "initWithFormat:", @"{ %0.01f - %0.01fs }", *(void *)&Seconds, CMTimeGetSeconds(&v8));
  return v5;
}

CMTime *PXCMTimeClampToRangeInclusive@<X0>(long long *a1@<X0>, uint64_t a2@<X1>, void *a3@<X8>)
{
  *a3 = 0;
  a3[1] = 0;
  a3[2] = 0;
  if ((*(unsigned char *)(a2 + 12) & 1) == 0
    || (*(unsigned char *)(a2 + 36) & 1) == 0
    || *(void *)(a2 + 40)
    || (*(void *)(a2 + 24) & 0x8000000000000000) != 0
    || (*(_OWORD *)&v10.start.CMTimeValue value = *(_OWORD *)(a2 + 24),
        v10.start.CMTimeEpoch epoch = *(void *)(a2 + 40),
        CMTime time2 = *(CMTime *)*(void *)&MEMORY[0x1E4F1FA48],
        double result = (CMTime *)CMTimeCompare(&v10.start, &time2),
        result))
  {
    long long v6 = *a1;
    time.CMTimeEpoch epoch = *((void *)a1 + 2);
    long long v7 = *(_OWORD *)(a2 + 16);
    *(_OWORD *)&v10.start.CMTimeValue value = *(_OWORD *)a2;
    *(_OWORD *)&v10.start.CMTimeEpoch epoch = v7;
    *(_OWORD *)&v10.duration.CMTimeScale timescale = *(_OWORD *)(a2 + 32);
    *(_OWORD *)&time.CMTimeValue value = v6;
    double result = CMTimeClampToRange(&time2, &time, &v10);
    *(_OWORD *)a3 = *(_OWORD *)&time2.value;
    CMTimeEpoch epoch = time2.epoch;
  }
  else
  {
    *(_OWORD *)a3 = *(_OWORD *)a2;
    CMTimeEpoch epoch = *(void *)(a2 + 16);
  }
  a3[2] = epoch;
  return result;
}

BOOL PXCMTimeRangeContainsTimeInclusive(uint64_t a1, uint64_t a2)
{
  *(_OWORD *)&v6.start.CMTimeValue value = *(_OWORD *)a2;
  v6.start.CMTimeEpoch epoch = *(void *)(a2 + 16);
  CMTime time2 = *(CMTime *)a1;
  if (CMTimeCompare(&v6.start, &time2) < 0) {
    return 0;
  }
  long long v4 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)&v6.start.CMTimeValue value = *(_OWORD *)a1;
  *(_OWORD *)&v6.start.CMTimeEpoch epoch = v4;
  *(_OWORD *)&v6.duration.CMTimeScale timescale = *(_OWORD *)(a1 + 32);
  CMTimeRangeGetEnd(&v7, &v6);
  *(_OWORD *)&v6.start.CMTimeValue value = *(_OWORD *)a2;
  v6.start.CMTimeEpoch epoch = *(void *)(a2 + 16);
  return CMTimeCompare(&v6.start, &v7) < 1;
}

CMTimeRange *PXCMTimeRangeMakeWithDurationAroundTime@<X0>(CMTime *a1@<X0>, CMTime *a2@<X1>, CMTimeRange *a3@<X8>)
{
  CMTime v7 = *a1;
  CMTimeMultiplyByRatio(&rhs, &v7, 1, 2);
  CMTime v7 = *a2;
  CMTimeSubtract(&start, &v7, &rhs);
  CMTime v7 = *a1;
  return CMTimeRangeMake(a3, &start, &v7);
}

CMTimeRange *PXCMTimeRangeClipToMinimumTime@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, CMTimeRange *a3@<X8>)
{
  memset(&v16, 0, sizeof(v16));
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)a2;
  lhs.start.CMTimeEpoch epoch = *(void *)(a2 + 16);
  CMTime rhs = *(CMTime *)a1;
  CMTimeSubtract(&time1, &lhs.start, &rhs);
  id v5 = (CMTime *)MEMORY[0x1E4F1FA48];
  *(_OWORD *)&lhs.start.CMTimeValue value = *MEMORY[0x1E4F1FA48];
  lhs.start.CMTimeEpoch epoch = *(void *)(MEMORY[0x1E4F1FA48] + 16);
  CMTimeMaximum(&v16, &time1, &lhs.start);
  memset(&rhs, 0, sizeof(rhs));
  long long v6 = *(_OWORD *)(a1 + 16);
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)a1;
  *(_OWORD *)&lhs.start.CMTimeEpoch epoch = v6;
  *(_OWORD *)&lhs.duration.CMTimeScale timescale = *(_OWORD *)(a1 + 32);
  CMTimeRangeGetEnd(&v13, &lhs);
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)a1;
  lhs.start.CMTimeEpoch epoch = *(void *)(a1 + 16);
  CMTime start = v16;
  CMTimeAdd(&time2, &lhs.start, &start);
  CMTimeMinimum(&rhs, &v13, &time2);
  memset(&lhs, 0, 24);
  CMTime start = *(CMTime *)(a1 + 24);
  CMTime v8 = v16;
  CMTimeSubtract(&v9, &start, &v8);
  CMTime start = *v5;
  CMTimeMaximum(&lhs.start, &v9, &start);
  CMTime start = rhs;
  CMTime v8 = lhs.start;
  return CMTimeRangeMake(a3, &start, &v8);
}

id PXValueWithCMTimeRange(Float64 a1, Float64 a2)
{
  memset(&v9, 0, sizeof(v9));
  CMTimeMakeWithSeconds(&v9, a1, 1);
  memset(&v8, 0, sizeof(v8));
  CMTimeMakeWithSeconds(&v8, a2, 1);
  memset(&v7, 0, sizeof(v7));
  v5.CMTime start = v9;
  CMTime duration = v8;
  CMTimeRangeMake(&v7, &v5.start, &duration);
  CMTimeRange v5 = v7;
  uint64_t v3 = [MEMORY[0x1E4F29238] valueWithCMTimeRange:&v5];
  return v3;
}

void PXCMTimeRangeCombinedDuration(void *a1)
{
  uint64_t v25 = *MEMORY[0x1E4F143B8];
  id v1 = [a1 sortedArrayUsingComparator:&__block_literal_global_255410];
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  long long v20 = 0u;
  long long v21 = 0u;
  long long v22 = 0u;
  long long v23 = 0u;
  id v3 = v1;
  uint64_t v4 = [v3 countByEnumeratingWithState:&v20 objects:v24 count:16];
  if (!v4)
  {
LABEL_18:

    PXReduceF();
  }
  uint64_t v5 = v4;
  uint64_t v6 = *(void *)v21;
LABEL_3:
  uint64_t v7 = 0;
  while (1)
  {
    if (*(void *)v21 != v6) {
      objc_enumerationMutation(v3);
    }
    CMTime v8 = *(void **)(*((void *)&v20 + 1) + 8 * v7);
    if (![v2 count]) {
      break;
    }
    long long v9 = 0uLL;
    memset(&v19[1], 0, sizeof(CMTimeRange));
    if (v8)
    {
      [v8 CMTimeRangeValue];
      long long v9 = 0uLL;
    }
    *(_OWORD *)&v19[0].start.CMTimeEpoch epoch = v9;
    *(_OWORD *)&v19[0].duration.CMTimeScale timescale = v9;
    *(_OWORD *)&v19[0].start.CMTimeValue value = v9;
    CMTimeRange v10 = [v2 lastObject];
    long long v11 = v10;
    if (v10) {
      [v10 CMTimeRangeValue];
    }
    else {
      memset(v19, 0, 48);
    }

    CMTimeRange range = v19[1];
    memset(&v18, 0, sizeof(v18));
    CMTimeRange otherRange = v19[0];
    CMTimeRangeGetIntersection(&v18, &range, &otherRange);
    long long v12 = v2;
    if (v18.duration.value < 1) {
      goto LABEL_15;
    }
    [v2 removeLastObject];
    CMTime v13 = (void *)MEMORY[0x1E4F29238];
    CMTimeRange range = v19[1];
    CMTimeRange otherRange = v19[0];
    CMTimeRangeGetUnion(&v15, &range, &otherRange);
    BOOL v14 = [v13 valueWithCMTimeRange:&v15];
    [v2 addObject:v14];

LABEL_16:
    if (v5 == ++v7)
    {
      uint64_t v5 = [v3 countByEnumeratingWithState:&v20 objects:v24 count:16];
      if (!v5) {
        goto LABEL_18;
      }
      goto LABEL_3;
    }
  }
  long long v12 = v2;
LABEL_15:
  [v12 addObject:v8];
  goto LABEL_16;
}

Float64 __PXCMTimeRangeCombinedDuration_block_invoke_2(Float64 a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  uint64_t v5 = v4;
  if (v4)
  {
    [v4 CMTimeRangeValue];
    if ((BYTE4(v11) & 0x1D) == 1)
    {
      [v5 CMTimeRangeValue];
      CMTime time = v7;
      a1 = CMTimeGetSeconds(&time) + a1;
    }
  }
  else
  {
    long long v10 = 0u;
    long long v11 = 0u;
    long long v9 = 0u;
  }

  return a1;
}

uint64_t __PXCMTimeRangeCombinedDuration_block_invoke(uint64_t a1, void *a2, void *a3)
{
  id v4 = a2;
  id v5 = a3;
  if (v4)
  {
    [v4 CMTimeRangeValue];
  }
  else
  {
    long long v11 = 0u;
    long long v12 = 0u;
    long long v10 = 0u;
  }
  *(_OWORD *)&time1.CMTimeValue value = v10;
  time1.CMTimeEpoch epoch = v11;
  if (v5) {
    [v5 CMTimeRangeValue];
  }
  else {
    memset(&v8, 0, sizeof(v8));
  }
  CMTime time2 = v8;
  uint64_t v6 = CMTimeCompare(&time1, &time2);

  return v6;
}

void sub_1AB0EF818(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a70, 8);
  _Block_object_dispose(&STACK[0x218], 8);
  _Block_object_dispose(&STACK[0x238], 8);
  _Block_object_dispose((const void *)(v70 - 232), 8);
  _Block_object_dispose((const void *)(v70 - 112), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__255869(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__255870(uint64_t a1)
{
}

void sub_1AB0F6B1C(_Unwind_Exception *a1)
{
}

void sub_1AB0F9BD0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FA87C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__257073(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__257074(uint64_t a1)
{
}

void sub_1AB0FC91C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0FCB08(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location, id a16)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a16);
  _Unwind_Resume(a1);
}

void sub_1AB0FD2A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
  objc_destroyWeak(v22);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB0FDC44(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FDDC0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v15 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FE698(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB0FE8CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FEB44(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FED5C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB0FFAE0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location, uint64_t a17, uint64_t a18, id a19)
{
  objc_destroyWeak(v20);
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a19);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__257854(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__257855(uint64_t a1)
{
}

void sub_1AB100368(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB100550(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB10086C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v15 - 128), 8);
  _Unwind_Resume(a1);
}

void sub_1AB101114(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AB101348(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1015D4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1017C4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB101A3C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB101ED0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AB102290(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1024FC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB102BC8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AB102DF0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB103350(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB103684(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB103A08(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB103D28(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB104890(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB104C48(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void ___deviceSupportsIOSurfaceCompression_block_invoke()
{
  CFDictionaryRef v0 = (const __CFDictionary *)MGCopyAnswer();
  if (v0)
  {
    CFDictionaryRef v1 = v0;
    uint64_t v2 = (const void *)*MEMORY[0x1E4F1CFD0];
    if (v2 == CFDictionaryGetValue(v0, @"universal-buffer-compression")) {
      _deviceSupportsIOSurfaceCompression__supportsIOSurfaceCompressiouint64_t n = 1;
    }
    CFRelease(v1);
  }
}

void sub_1AB1063F8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB106598(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1082D0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB108414(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB1085DC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB108C90(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB108E74(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AB10924C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va1, a11);
  va_start(va, a11);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  uint64_t v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v11 - 112), 8);
  _Block_object_dispose((const void *)(v11 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1094C8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

void sub_1AB109D74(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,id location)
{
  objc_destroyWeak(v25);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB109F80(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB10AD24(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 136), 8);
  _Unwind_Resume(a1);
}

void sub_1AB10AFE4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB10B2F4(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AB10B778(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AB10BB48(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB10BDBC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 48), 8);
  _Unwind_Resume(a1);
}

double PXFloatRangeUnion(double result, double a2, double a3)
{
  if (result >= a3) {
    return a3;
  }
  return result;
}

double PXFloatRangeIntersection(double result, double a2, double a3, double a4)
{
  double v4 = result;
  double v5 = result + a2;
  if (a3 > result || result >= a3 + a4)
  {
    double result = 0.0;
    if (v4 <= a3 && a3 < v5) {
      return a3;
    }
  }
  return result;
}

BOOL PXFloatRangeIntersects(double a1, double a2, double a3, double a4)
{
  PXFloatRangeIntersection(a1, a2, a3, a4);
  return v4 > 0.0;
}

uint64_t PXFloatRangeDescription(double a1, double a2)
{
  return [NSString stringWithFormat:@"{loc: %.2f, len: %.2f}", *(void *)&a1, *(void *)&a2];
}

void sub_1AB10E638(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB10F8F0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AB11088C(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void __getSCUIInterventionAlertControllerClass_block_invoke(uint64_t a1)
{
  SensitiveContentAnalysisUILibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("SCUIInterventionAlertController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getSCUIInterventionAlertControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getSCUIInterventionAlertControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharingUserSafetyController.m", 27, @"Unable to find class %s", "SCUIInterventionAlertController");

    __break(1u);
  }
}

void SensitiveContentAnalysisUILibrary()
{
  uint64_t v6 = *MEMORY[0x1E4F143B8];
  v3[0] = 0;
  if (!SensitiveContentAnalysisUILibraryCore_frameworkLibrary)
  {
    v3[1] = (void *)MEMORY[0x1E4F143A8];
    void v3[2] = (void *)3221225472;
    void v3[3] = __SensitiveContentAnalysisUILibraryCore_block_invoke;
    void v3[4] = &__block_descriptor_40_e5_v8__0l;
    void v3[5] = v3;
    long long v4 = xmmword_1E5DCD190;
    uint64_t v5 = 0;
    SensitiveContentAnalysisUILibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  if (!SensitiveContentAnalysisUILibraryCore_frameworkLibrary)
  {
    uint64_t v1 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v2 = [NSString stringWithUTF8String:"void *SensitiveContentAnalysisUILibrary(void)"];
    objc_msgSend(v1, "handleFailureInFunction:file:lineNumber:description:", v2, @"PXSharingUserSafetyController.m", 25, @"%s", v3[0]);

    __break(1u);
    goto LABEL_7;
  }
  CFDictionaryRef v0 = v3[0];
  if (v3[0]) {
LABEL_7:
  }
    free(v0);
}

uint64_t __SensitiveContentAnalysisUILibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  SensitiveContentAnalysisUILibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

void sub_1AB110D18(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void __getSCUIInterventionViewControllerClass_block_invoke(uint64_t a1)
{
  SensitiveContentAnalysisUILibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("SCUIInterventionViewController");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getSCUIInterventionViewControllerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    id v3 = [NSString stringWithUTF8String:"Class getSCUIInterventionViewControllerClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXSharingUserSafetyController.m", 26, @"Unable to find class %s", "SCUIInterventionViewController");

    __break(1u);
  }
}

void sub_1AB111444(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,uint64_t a59,uint64_t a60,uint64_t a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a67, 8);
  _Block_object_dispose(&STACK[0x200], 8);
  _Block_object_dispose(&STACK[0x230], 8);
  _Block_object_dispose(&STACK[0x250], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__258473(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__258474(uint64_t a1)
{
}

id getUSSensitivityAnalyzerClass()
{
  uint64_t v4 = 0;
  uint64_t v5 = &v4;
  uint64_t v6 = 0x2050000000;
  CFDictionaryRef v0 = (void *)getUSSensitivityAnalyzerClass_softClass;
  uint64_t v7 = getUSSensitivityAnalyzerClass_softClass;
  if (!getUSSensitivityAnalyzerClass_softClass)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getUSSensitivityAnalyzerClass_block_invoke;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getUSSensitivityAnalyzerClass_block_invoke((uint64_t)v3);
    CFDictionaryRef v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AB111834(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getUSSensitivityAnalyzerClass_block_invoke(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!UserSafetyLibraryCore_frameworkLibrary)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    void v6[3] = __UserSafetyLibraryCore_block_invoke;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DCD178;
    uint64_t v8 = 0;
    UserSafetyLibraryCore_frameworkLibrarCGFloat y = _sl_dlopen();
  }
  if (!UserSafetyLibraryCore_frameworkLibrary)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *UserSafetyLibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXSharingUserSafetyController.m", 23, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("USSensitivityAnalyzer");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"Class getUSSensitivityAnalyzerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXSharingUserSafetyController.m", 24, @"Unable to find class %s", "USSensitivityAnalyzer");

LABEL_10:
    __break(1u);
  }
  getUSSensitivityAnalyzerClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __UserSafetyLibraryCore_block_invoke()
{
  uint64_t result = _sl_dlopen();
  UserSafetyLibraryCore_frameworkLibrarCGFloat y = result;
  return result;
}

uint64_t PXControlContentHorizontalAlignmentLeading()
{
  if (objc_msgSend(MEMORY[0x1E4F1CA20], "px_currentCharacterDirection") == 2) {
    return 2;
  }
  else {
    return 1;
  }
}

void sub_1AB113A24(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v8 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1151C0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v3 - 64));
  objc_destroyWeak((id *)(v3 - 56));
  _Unwind_Resume(a1);
}

void sub_1AB1157E8(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,id location)
{
  objc_destroyWeak(&location);
  objc_destroyWeak((id *)(v35 - 200));
  _Unwind_Resume(a1);
}

void sub_1AB1161E4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v3);
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v4 - 88));
  _Unwind_Resume(a1);
}

void sub_1AB117538(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB11B2D8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB11C884(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__259894(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__259895(uint64_t a1)
{
}

void sub_1AB11D088(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v11 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v9 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB11DB20(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

void sub_1AB11E7A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__260313(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__260314(uint64_t a1)
{
}

void sub_1AB11EEE0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 112));
  _Unwind_Resume(a1);
}

void sub_1AB120944(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB120B68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _PXGDrawVerticalAttributedString(void *a1, CGContext *a2, double a3, double a4, CGFloat a5, double a6, double a7, double a8, double a9, double a10)
{
  id v17 = a1;
  uint64_t v18 = objc_msgSend(objc_alloc((Class)off_1E5DA9500), "initWithSize:layoutOrientation:", 1, a6, a5);
  id v19 = objc_alloc_init(MEMORY[0x1E4FB0890]);
  [v19 setTextContainer:v18];
  id v20 = objc_alloc_init(MEMORY[0x1E4FB0888]);
  [v20 setAttributedString:v17];

  [v19 replaceTextContentManager:v20];
  long long v21 = [v19 documentRange];
  [v19 ensureLayoutForRange:v21];

  CGContextTranslateCTM(a2, a5, 0.0);
  CGContextRotateCTM(a2, 1.57079633);
  v23[0] = MEMORY[0x1E4F143A8];
  v23[1] = 3221225472;
  CMTimeRange v23[2] = ___PXGDrawVerticalAttributedString_block_invoke;
  void v23[3] = &__block_descriptor_72_e30_B16__0__NSTextLayoutFragment_8l;
  *(double *)&void v23[4] = a7;
  *(double *)&v23[5] = a8;
  *(double *)&v23[6] = a9;
  *(double *)&v23[7] = a10;
  v23[8] = a2;
  id v22 = (id)[v19 enumerateTextLayoutFragmentsFromLocation:0 options:0 usingBlock:v23];
}

void sub_1AB121C54(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,id *location)
{
  objc_destroyWeak(location);
  objc_destroyWeak((id *)(v27 - 176));
  _Unwind_Resume(a1);
}

void sub_1AB122BB4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB124F14(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, id location)
{
  objc_destroyWeak(v18);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB125F50(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB12616C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB128A1C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__262314(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__262315(uint64_t a1)
{
}

void sub_1AB1292B8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 176), 8);
  _Unwind_Resume(a1);
}

uint64_t PXSharedLibraryAutoSharePolicyFromPH(int a1)
{
  if (a1 == 2) {
    return 2;
  }
  else {
    return a1 == 1;
  }
}

uint64_t PXSharedLibraryAutoSharePolicyFromPX(uint64_t a1)
{
  if (a1 == 2) {
    return 2;
  }
  else {
    return a1 == 1;
  }
}

void sub_1AB12B0CC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v15 - 152), 8);
  _Unwind_Resume(a1);
}

void sub_1AB12C6EC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, id location)
{
  objc_destroyWeak(v21);
  objc_destroyWeak(v20);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB12C890(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id location)
{
}

void sub_1AB12ED84(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXTrimTimeCodeStringFromSecondsAndRound(double a1)
{
  if (PXTrimTimeCodeStringFromSecondsAndRound_onceToken != -1) {
    dispatch_once(&PXTrimTimeCodeStringFromSecondsAndRound_onceToken, &__block_literal_global_262844);
  }
  uint64_t v2 = &PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;
  if (round(a1) < 3600.0) {
    uint64_t v2 = &PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter;
  }
  uint64_t v3 = (void *)*v2;
  return objc_msgSend(v3, "stringFromTimeInterval:");
}

uint64_t __PXTrimTimeCodeStringFromSecondsAndRound_block_invoke()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F28C00]);
  uint64_t v1 = (void *)PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter;
  PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter = (uint64_t)v0;

  [(id)PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setAllowedUnits:192];
  [(id)PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setUnitsStyle:0];
  [(id)PXTrimTimeCodeStringFromSecondsAndRound_minuteSecondFormatter setZeroFormattingBehavior:0x10000];
  id v2 = objc_alloc_init(MEMORY[0x1E4F28C00]);
  uint64_t v3 = (void *)PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;
  PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter = (uint64_t)v2;

  [(id)PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter setAllowedUnits:224];
  [(id)PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter setUnitsStyle:0];
  uint64_t v4 = (void *)PXTrimTimeCodeStringFromSecondsAndRound_hourMinuteSecondFormatter;
  return [v4 setZeroFormattingBehavior:0x10000];
}

id PXTrimTimeCodeStringFromMilliSeconds(long double a1)
{
  fmod(a1, 1.0);
  if (a1 >= 3600.0)
  {
    id v2 = PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormatHours", @"PhotosUICore");
    uint64_t v3 = v2;
    uint64_t v4 = @"%ld %ld %ld %ld";
  }
  else
  {
    id v2 = PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormat", @"PhotosUICore");
    uint64_t v3 = v2;
    uint64_t v4 = @"%ld %ld %ld";
  }
  uint64_t v5 = PXLocalizedStringWithValidatedFormat(v2, v4);

  return v5;
}

id PXTrimTimeCodeStringWithFrames(double a1)
{
  if (a1 >= 3600.0)
  {
    uint64_t v1 = PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormatHours", @"PhotosUICore");
    id v2 = v1;
    uint64_t v3 = @"%ld %ld %ld %ld";
  }
  else
  {
    uint64_t v1 = PXLocalizedStringFromTable(@"PXLivePhotoTrimScrubberTimeCodeFormat", @"PhotosUICore");
    id v2 = v1;
    uint64_t v3 = @"%ld %ld %ld";
  }
  uint64_t v4 = PXLocalizedStringWithValidatedFormat(v1, v3);

  return v4;
}

uint64_t _preferencesDidChange(uint64_t a1, void *a2)
{
  return [a2 _preferencesDidChange];
}

void sub_1AB13177C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,id location)
{
}

__CFString *PXContentPrivacyDescriptionFromAuthenticationContext(void *a1)
{
  id v1 = a1;
  id v2 = (objc_class *)objc_opt_class();
  NSStringFromClass(v2);
  uint64_t v3 = (__CFString *)objc_claimAutoreleasedReturnValue();
  if (objc_opt_respondsToSelector())
  {
    uint64_t v4 = [v1 authenticationContextIdentifier];

    uint64_t v3 = (__CFString *)v4;
  }
  if (v3) {
    uint64_t v5 = v3;
  }
  else {
    uint64_t v5 = @"<Unknown>";
  }
  uint64_t v6 = v5;

  return v6;
}

void PXContentPrivacyDescriptionFromAuthenticationContextStack()
{
}

void sub_1AB133F68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXContentPrivacyNavigationStateFromViewController(void *a1)
{
  id v1 = a1;
  id v2 = [v1 navigationController];
  uint64_t v3 = [v2 viewControllers];
  unsigned int v4 = [v3 containsObject:v1];

  uint64_t v5 = [v1 presentedViewController];

  id v6 = [v2 topViewController];

  if (v5) {
    BOOL v7 = 1;
  }
  else {
    BOOL v7 = v6 != v1;
  }
  if (v5) {
    uint64_t v8 = 1;
  }
  else {
    uint64_t v8 = v4;
  }
  if (v7) {
    uint64_t v9 = v8;
  }
  else {
    uint64_t v9 = 2;
  }

  return v9;
}

__CFString *PXDescriptionFromContentPrivacyControllerAutolockTimerReason(uint64_t a1)
{
  id v1 = @"Explicit";
  if (a1 == 1) {
    id v1 = @"Window Backgrounding";
  }
  if (a1 == 2) {
    return @"Window Minimizing";
  }
  else {
    return v1;
  }
}

void sub_1AB13527C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1363E0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va1, a9);
  va_start(va, a9);
  uint64_t v10 = va_arg(va1, void);
  uint64_t v12 = va_arg(va1, void);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v14 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Unwind_Resume(a1);
}

void sub_1AB136764(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void PXPublishMomentShareWithCompletion(void *a1, void *a2, uint64_t a3, void *a4, void *a5)
{
  id v9 = a1;
  id v10 = a2;
  id v11 = a4;
  id v12 = a5;
  if (!v12)
  {
    long long v21 = [MEMORY[0x1E4F28B00] currentHandler];
    id v22 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXPublishMomentShareWithCompletion(NSArray<PHAsset *> *__strong _Nonnull, NSDictionary<NSString *,PXCMMAssetPreparationOptions *> *__strong _Nullable, PXCMMShareOrigin, __strong id<PXCMMActionPerformerDelegate> _Nonnull, __strong PXPublishMomentShareCompletion _Nonnull)");
    [v21 handleFailureInFunction:v22, @"PXSharingUtilities.m", 24, @"Invalid parameter not satisfying: %@", @"completionHandler" file lineNumber description];

    if (v9) {
      goto LABEL_3;
    }
LABEL_5:
    long long v23 = [MEMORY[0x1E4F28B00] currentHandler];
    CMTimeRange v24 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXPublishMomentShareWithCompletion(NSArray<PHAsset *> *__strong _Nonnull, NSDictionary<NSString *,PXCMMAssetPreparationOptions *> *__strong _Nullable, PXCMMShareOrigin, __strong id<PXCMMActionPerformerDelegate> _Nonnull, __strong PXPublishMomentShareCompletion _Nonnull)");
    [v23 handleFailureInFunction:v24, @"PXSharingUtilities.m", 25, @"Invalid parameter not satisfying: %@", @"assets" file lineNumber description];

    goto LABEL_3;
  }
  if (!v9) {
    goto LABEL_5;
  }
LABEL_3:
  uint64_t v13 = [[PXCMMPhotoKitContext alloc] initWithAssets:v9 activityType:4 sourceType:0];
  [(PXCMMContext *)v13 setAssetPreparationOptions:v10];
  uint64_t v14 = [[PXCMMPhotoKitSession alloc] initWithPhotoKitContext:v13];
  uint64_t v15 = [(PXCMMSession *)v14 viewModel];
  uint64_t v16 = [v15 selectionManager];
  [v16 performChanges:&__block_literal_global_264040];

  id v17 = [(PXCMMSession *)v14 actionManager];
  uint64_t v18 = [v17 publishActionPerformer];
  [v18 setDelegate:v11];
  v25[0] = MEMORY[0x1E4F143A8];
  v25[1] = 3221225472;
  v25[2] = __PXPublishMomentShareWithCompletion_block_invoke_2;
  v25[3] = &unk_1E5DCDAC0;
  id v26 = v12;
  id v19 = v12;
  id v20 = (id)[v18 performPublishActionWithSession:v14 shareOrigin:a3 completionHandler:v25];
}

void __PXPublishMomentShareWithCompletion_block_invoke_2(uint64_t a1, void *a2, void *a3)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  id v5 = a2;
  id v6 = a3;
  BOOL v7 = PLSharingGetLog();
  uint64_t v8 = v7;
  if (v5)
  {
    if (os_log_type_enabled(v7, OS_LOG_TYPE_DEFAULT))
    {
      id v9 = objc_msgSend(v5, "pl_redactedShareURL");
      int v10 = 138543362;
      id v11 = v9;
      _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_DEFAULT, "PXPublishMomentShareWithCompletion: Published moment share to URL: %{public}@", (uint8_t *)&v10, 0xCu);
    }
  }
  else if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
  {
    int v10 = 138412290;
    id v11 = v6;
    _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_ERROR, "PXPublishMomentShareWithCompletion: Failed to publish moment share with error: %@", (uint8_t *)&v10, 0xCu);
  }

  (*(void (**)(void))(*(void *)(a1 + 32) + 16))();
}

uint64_t __PXPublishMomentShareWithCompletion_block_invoke(uint64_t a1, void *a2)
{
  return [a2 selectAllItems];
}

id PXAlertControllerToPresentShareSheet(void *a1, void *a2, void *a3)
{
  id v5 = (void *)MEMORY[0x1E4FB1418];
  id v6 = a3;
  id v7 = a2;
  id v8 = a1;
  id v9 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertMessage", @"PhotosUICore");
  int v10 = [v5 alertControllerWithTitle:0 message:v9 preferredStyle:0];

  id v11 = (void *)MEMORY[0x1E4FB1410];
  uint64_t v12 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertActionTitle", @"PhotosUICore");
  uint64_t v13 = [v11 actionWithTitle:v12 style:0 handler:v8];

  [v10 addAction:v13];
  uint64_t v14 = (void *)MEMORY[0x1E4FB1410];
  uint64_t v15 = PXLocalizedStringFromTable(@"PXPhotoShareLinkAlertActionRegularShareSheetTitle", @"PhotosUICore");
  uint64_t v16 = [v14 actionWithTitle:v15 style:0 handler:v7];

  [v10 addAction:v16];
  id v17 = (void *)MEMORY[0x1E4FB1410];
  uint64_t v18 = PXLocalizedStringFromTable(@"PXCancel", @"PhotosUICore");
  id v19 = [v17 actionWithTitle:v18 style:1 handler:v6];

  [v10 addAction:v19];
  return v10;
}

id PXCreateDefaultAssetSharingHelper(void *a1)
{
  id v1 = a1;
  id v2 = objc_alloc_init((Class)PXDefaultAssetSharingHelperClass());
  [v2 setDelegate:v1];

  return v2;
}

id PXDefaultAssetSharingHelperClass()
{
  if (PXDefaultAssetSharingHelperClass_onceToken != -1) {
    dispatch_once(&PXDefaultAssetSharingHelperClass_onceToken, &__block_literal_global_223);
  }
  id v0 = (void *)PXDefaultAssetSharingHelperClass_c;
  return v0;
}

Class __PXDefaultAssetSharingHelperClass_block_invoke()
{
  Class result = NSClassFromString(&cfstr_Puassetsharing.isa);
  PXDefaultAssetSharingHelperClass_c = (uint64_t)result;
  return result;
}

id PXDefaultPrintInfo()
{
  id v0 = [MEMORY[0x1E4F42D08] printInfo];
  [v0 setOutputType:1];
  [v0 setDuplex:0];
  id v1 = PXLocalizedStringFromTable(@"PRINT_FILENAME", @"PhotosUICore");
  [v0 setJobName:v1];

  return v0;
}

uint64_t PXStorySongResourceIsNullResource(void *a1)
{
  if (a1)
  {
    id v1 = a1;
    objc_opt_class();
    char isKindOfClass = objc_opt_isKindOfClass();
  }
  else
  {
    char isKindOfClass = 0;
  }
  return isKindOfClass & 1;
}

uint64_t PXStorySongResourceEqualToSongResource(void *a1, void *a2)
{
  if (a1 == a2) {
    return 1;
  }
  id v3 = a2;
  unsigned int v4 = objc_msgSend(a1, "px_storyResourceSongAsset");
  id v5 = objc_msgSend(v3, "px_storyResourceSongAsset");

  uint64_t v6 = [v4 isAudioEqualToAsset:v5];
  return v6;
}

void sub_1AB139334(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__264237(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__264238(uint64_t a1)
{
}

PXTitleEditor *PXCollectionRenameActionTitleEditor(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  id v6 = a2;
  id v30 = a3;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v7 = 2 * ([v5 assetCollectionType] == 4);
  }
  else
  {
    objc_opt_class();
    uint64_t v7 = objc_opt_isKindOfClass() & 1;
  }
  id v8 = objc_alloc_init(PXTitleEditor);
  id v9 = [v5 localizedTitle];
  int v10 = PXCollectionDisplayableSingleLineTextForTitle(v9);

  id v11 = [v5 localizedSubtitle];
  uint64_t v12 = PXCollectionDisplayableSingleLineTextForTitle(v11);

  uint64_t v13 = [v10 length];
  long long v29 = v12;
  switch(v7)
  {
    case 2:
      uint64_t v15 = PXLocalizedStringFromTable(@"PXRenameMemoryActionAlertTitle", @"PhotosUICore");
      -[PXTitleEditor setMessage:](v8, "setMessage:", v15, v12);

      [(PXTitleEditor *)v8 setTitle:v10];
      uint64_t v16 = PXLocalizedStringFromTable(@"PXRenameMemoryActionTitlePlaceholderText", @"PhotosUICore");
      [(PXTitleEditor *)v8 setTitlePlaceholder:v16];

      char v17 = 1;
      [(PXTitleEditor *)v8 setIncludesSubtitle:1];
      [(PXTitleEditor *)v8 setSubtitle:v12];
      uint64_t v18 = PXLocalizedStringFromTable(@"PXRenameMemoryActionSubtitlePlaceholderText", @"PhotosUICore");
      [(PXTitleEditor *)v8 setSubtitlePlaceholder:v18];

      BOOL v19 = [v12 length] == 0;
      goto LABEL_12;
    case 1:
      uint64_t v14 = @"PXRenameFolderActionName";
      goto LABEL_10;
    case 0:
      uint64_t v14 = @"PXPhotosGridRenameAlbumActionAlertTitle";
LABEL_10:
      id v20 = PXLocalizedStringFromTable(v14, @"PhotosUICore");
      -[PXTitleEditor setMessage:](v8, "setMessage:", v20, v12);

      [(PXTitleEditor *)v8 setTitle:v10];
      long long v21 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionPlaceholderText", @"PhotosUICore");
      [(PXTitleEditor *)v8 setTitlePlaceholder:v21];

      break;
  }
  BOOL v19 = 0;
  char v17 = 0;
LABEL_12:
  BOOL v22 = v13 == 0;
  long long v23 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionConfirmButton", @"PhotosUICore");
  [(PXTitleEditor *)v8 setConfirmButtonTitle:v23];

  CMTimeRange v24 = PXLocalizedStringFromTable(@"PXPhotosGridRenameAlbumActionCancelButton", @"PhotosUICore");
  [(PXTitleEditor *)v8 setCancelButtonTitle:v24];

  v37[0] = MEMORY[0x1E4F143A8];
  v37[1] = 3221225472;
  v37[2] = __PXCollectionRenameActionTitleEditor_block_invoke;
  void v37[3] = &__block_descriptor_35_e23_B16__0__PXTitleEditor_8l;
  BOOL v38 = v22;
  char v39 = v17;
  BOOL v40 = v19;
  [(PXTitleEditor *)v8 setValidation:v37];
  v31[0] = MEMORY[0x1E4F143A8];
  v31[1] = 3221225472;
  v31[2] = __PXCollectionRenameActionTitleEditor_block_invoke_3;
  v31[3] = &unk_1E5DCDD80;
  id v34 = v30;
  uint64_t v35 = v7;
  BOOL v36 = v19;
  id v32 = v5;
  id v33 = v6;
  id v25 = v6;
  id v26 = v5;
  id v27 = v30;
  [(PXTitleEditor *)v8 setCompletionHandler:v31];

  return v8;
}

id PXCollectionDisplayableSingleLineTextForTitle(void *a1)
{
  id v1 = a1;
  id v2 = [off_1E5DA7230 defaultHelper];
  id v3 = [v2 displayableTextForTitle:v1 intent:2];

  return v3;
}

BOOL __PXCollectionRenameActionTitleEditor_block_invoke(unsigned char *a1, void *a2)
{
  id v3 = a2;
  unsigned int v4 = [v3 title];
  if ([v4 length] || !a1[32])
  {
    id v5 = [MEMORY[0x1E4F38EF0] validateAssetCollectionTitle:v4 error:0];
    BOOL v6 = v5 != 0;
  }
  else
  {
    BOOL v6 = 1;
  }
  if (a1[33])
  {
    uint64_t v7 = [v3 subtitle];
    id v8 = v7;
    if (v6)
    {
      if ([v7 length] || !a1[34])
      {
        id v9 = [MEMORY[0x1E4F38EF0] validateAssetCollectionTitle:v8 error:0];
        BOOL v6 = v9 != 0;
      }
      else
      {
        BOOL v6 = 1;
      }
    }
  }
  return v6;
}

void __PXCollectionRenameActionTitleEditor_block_invoke_3(uint64_t a1, void *a2, char a3)
{
  id v5 = a2;
  BOOL v6 = v5;
  if (a3)
  {
    uint64_t v7 = [v5 title];
    id v29 = 0;
    id v8 = [MEMORY[0x1E4F38EF0] validateAssetCollectionTitle:v7 error:&v29];
    id v9 = v29;
    if (![v8 length])
    {
      uint64_t v17 = *(void *)(a1 + 48);
      uint64_t v12 = objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithUnderlyingError:debugDescription:", v9, @"Unsupported collection title: \"%@\"", v7);
      (*(void (**)(uint64_t, void, void *))(v17 + 16))(v17, 0, v12);
LABEL_21:

      goto LABEL_22;
    }
    unint64_t v10 = *(void *)(a1 + 56);
    if (v10 >= 2)
    {
      if (v10 != 2)
      {
        uint64_t v12 = 0;
        id v13 = v9;
LABEL_14:
        objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithUnderlyingError:debugDescription:", v9, @"Rename action was not created for new title: \"%@\", new subtitle: \"%@\"", v8, v12);
        id v11 = (PXRenameMemoryAction *)objc_claimAutoreleasedReturnValue();
        (*(void (**)(void))(*(void *)(a1 + 48) + 16))();
        goto LABEL_15;
      }
      uint64_t v18 = [v6 subtitle];
      id v28 = v9;
      uint64_t v12 = [MEMORY[0x1E4F38EF0] validateAssetCollectionTitle:v18 error:&v28];
      id v13 = v28;

      if (![v12 length] && !*(unsigned char *)(a1 + 64))
      {
        uint64_t v22 = *(void *)(a1 + 48);
        long long v23 = objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithUnderlyingError:debugDescription:", v13, @"Unsupported memory subtitle: \"%@\"", v18);
        (*(void (**)(uint64_t, void, void *))(v22 + 16))(v22, 0, v23);

LABEL_20:
        id v9 = v13;
        goto LABEL_21;
      }
      id v11 = [[PXRenameMemoryAction alloc] initWithMemory:*(void *)(a1 + 32) title:v8 subtitle:v12];

      if (v11) {
        goto LABEL_5;
      }
    }
    else
    {
      id v11 = [[PXRenameCollectionAction alloc] initWithCollection:*(void *)(a1 + 32) title:v8];
      uint64_t v12 = 0;
      id v13 = v9;
      if (v11)
      {
LABEL_5:
        v26[0] = MEMORY[0x1E4F143A8];
        v26[1] = 3221225472;
        v26[2] = __PXCollectionRenameActionTitleEditor_block_invoke_4;
        v26[3] = &unk_1E5DCDD58;
        uint64_t v14 = *(void *)(a1 + 40);
        id v27 = *(id *)(a1 + 48);
        [(PXAction *)v11 executeWithUndoManager:v14 completionHandler:v26];

LABEL_15:
        aBlock[0] = MEMORY[0x1E4F143A8];
        aBlock[1] = 3221225472;
        aBlock[2] = __PXCollectionRenameActionTitleEditor_block_invoke_5;
        aBlock[3] = &unk_1E5DD2D18;
        id v25 = *(id *)(a1 + 32);
        BOOL v19 = _Block_copy(aBlock);
        id v20 = (void (**)(void, void))v19;
        uint64_t v21 = *(void *)(a1 + 56);
        if (v21 == 2)
        {
          (*((void (**)(void *, __CFString *))v19 + 2))(v19, @"com.apple.photos.CPAnalytics.memoryRenamed");
          ((void (**)(void, __CFString *))v20)[2](v20, @"com.apple.photos.CPAnalytics.memoryRenamedFromAlert");
        }
        else if (!v21)
        {
          (*((void (**)(void *, __CFString *))v19 + 2))(v19, @"com.apple.photos.CPAnalytics.albumRenamed");
          ((void (**)(void, __CFString *))v20)[2](v20, @"com.apple.photos.CPAnalytics.albumRenamedFromAlert");
        }

        uint64_t v18 = v25;
        goto LABEL_20;
      }
    }
    id v9 = v13;
    goto LABEL_14;
  }
  uint64_t v15 = *(void *)(a1 + 48);
  uint64_t v16 = objc_msgSend(MEMORY[0x1E4F28C58], "px_genericErrorWithDebugDescription:", @"User cancelled collection rename action");
  (*(void (**)(uint64_t, void, void *))(v15 + 16))(v15, 0, v16);

LABEL_22:
}

uint64_t __PXCollectionRenameActionTitleEditor_block_invoke_4(uint64_t a1)
{
  return (*(uint64_t (**)(void))(*(void *)(a1 + 32) + 16))();
}

void __PXCollectionRenameActionTitleEditor_block_invoke_5(uint64_t a1, void *a2)
{
  v8[1] = *MEMORY[0x1E4F143B8];
  id v2 = (void *)MEMORY[0x1E4F56658];
  uint64_t v3 = *(void *)(a1 + 32);
  uint64_t v7 = *MEMORY[0x1E4F56548];
  v8[0] = v3;
  unsigned int v4 = (void *)MEMORY[0x1E4F1C9E8];
  id v5 = a2;
  BOOL v6 = [v4 dictionaryWithObjects:v8 forKeys:&v7 count:1];
  [v2 sendEvent:v5 withPayload:v6];
}

id PXCollectionRenameActionAlertController(void *a1, void *a2, void *a3)
{
  uint64_t v3 = PXCollectionRenameActionTitleEditor(a1, a2, a3);
  unsigned int v4 = [v3 createAlertController];

  return v4;
}

id PXCollectionRenameActionLocalizedTitle(void *a1)
{
  id v1 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    if ([v1 assetCollectionType] == 4)
    {
      id v2 = @"PXRenameMemoryActionName";
      goto LABEL_7;
    }
  }
  else
  {
    objc_opt_class();
    if (objc_opt_isKindOfClass())
    {
      id v2 = @"PXRenameFolderActionName";
      goto LABEL_7;
    }
  }
  id v2 = @"PXPhotosGridRenameAlbumActionMenuTitle";
LABEL_7:
  uint64_t v3 = PXLocalizedStringFromTable(v2, @"PhotosUICore");

  return v3;
}

void sub_1AB13C1DC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AB13C6DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
  objc_destroyWeak(v23);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

BOOL PXAssistantIsUserCanceledError(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    BOOL v6 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v7 = [NSString stringWithUTF8String:"BOOL PXAssistantIsUserCanceledError(NSError *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXAssistantController.m", 17, @"Invalid parameter not satisfying: %@", @"error" file lineNumber description];
  }
  uint64_t v2 = [v1 domain];
  char v3 = [v2 isEqualToString:@"PXAssistantErrorDomain"];

  if ((v3 & 1) == 0)
  {
    id v8 = [MEMORY[0x1E4F28B00] currentHandler];
    id v9 = [NSString stringWithUTF8String:"BOOL PXAssistantIsUserCanceledError(NSError *__strong _Nonnull)"];
    [v8 handleFailureInFunction:v9, @"PXAssistantController.m", 18, @"Invalid parameter not satisfying: %@", @"[error.domain isEqualToString:PXAssistantErrorDomain]" file lineNumber description];
  }
  BOOL v4 = [v1 code] == -1001;

  return v4;
}

void _FetchCountsForRulesAndPolicy(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  unsigned __int16 v4 = a3;
  uint64_t v20 = *MEMORY[0x1E4F143B8];
  *(_OWORD *)a1 = *(_OWORD *)off_1E5DAAEE8;
  *(void *)(a1 + 16) = *((void *)off_1E5DAAEE8 + 2);
  uint64_t v14 = 0;
  uint64_t v15 = 0;
  id v12 = 0;
  uint64_t v13 = 0;
  uint64_t v6 = [MEMORY[0x1E4F39130] estimatedAssetCountForRules:a2 autoSharePolicy:a3 imageCount:&v15 videoCount:&v14 audioCount:&v13 itemCount:0 options:a4 error:&v12];
  id v7 = v12;
  id v8 = v7;
  if (v6 || !v7)
  {
    if (v6)
    {
      uint64_t v10 = v14;
      uint64_t v11 = v13;
      *(void *)a1 = v15;
      *(void *)(a1 + _Block_object_dispose(&STACK[0x230], 8) = v10;
      *(void *)(a1 + 16) = v11;
    }
  }
  else
  {
    id v9 = PLSharedLibraryGetLog();
    if (os_log_type_enabled(v9, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 134218242;
      uint64_t v17 = v4;
      __int16 v18 = 2112;
      BOOL v19 = v8;
      _os_log_impl(&dword_1A9AE7000, v9, OS_LOG_TYPE_ERROR, "Error calculating estimated asset counts for policy: %ld, error: %@", buf, 0x16u);
    }

    *(_OWORD *)a1 = *(_OWORD *)off_1E5DAAEE0;
    *(void *)(a1 + 16) = *((void *)off_1E5DAAEE0 + 2);
  }
}

void sub_1AB142E34(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va, a10);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__265665(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__265666(uint64_t a1)
{
}

void sub_1AB143768(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__265800(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__265801(uint64_t a1)
{
}

void sub_1AB143DE8(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

void sub_1AB14458C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1453B8(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 72));
  _Unwind_Resume(a1);
}

void sub_1AB147A6C(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB149F88(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,uint64_t a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,char a59)
{
}

void sub_1AB14B9B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28)
{
}

id OneUpCompositionForAspectRatio(uint64_t a1)
{
  uint64_t v2 = 0;
  switch(a1)
  {
    case 0:
      goto LABEL_14;
    case 1:
      uint64_t v2 = +[PXStoryClipCompositionFactory oneUpComposition];
      goto LABEL_14;
    case 2:
      uint64_t v2 = +[PXStoryClipCompositionFactory aspectFitOneUpComposition];
      goto LABEL_14;
    case 3:
      uint64_t v4 = 16;
      uint64_t v3 = 9;
      break;
    case 4:
      uint64_t v4 = 3;
      uint64_t v3 = 2;
      break;
    case 5:
      uint64_t v4 = 4;
      goto LABEL_12;
    case 6:
      uint64_t v3 = 1;
      uint64_t v4 = 1;
      break;
    case 7:
      uint64_t v4 = 3;
      uint64_t v3 = 4;
      break;
    case 8:
      uint64_t v4 = 2;
LABEL_12:
      uint64_t v3 = 3;
      break;
    case 9:
      uint64_t v4 = 9;
      uint64_t v3 = 16;
      break;
    default:
      uint64_t v3 = 0;
      uint64_t v4 = 0;
      break;
  }
  uint64_t v2 = +[PXStoryClipCompositionFactory oneUpCompositionWithAspectRatioNumerator:v3 denominator:v4];
LABEL_14:
  return v2;
}

id PXAttributedStringForStringWithActionTitle(void *a1, void *a2, void *a3, void *a4, int a5)
{
  id v9 = a1;
  id v10 = a2;
  id v11 = a3;
  id v12 = a4;
  if (!v9)
  {
    id v27 = [MEMORY[0x1E4F28B00] currentHandler];
    id v28 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v27 handleFailureInFunction:v28, @"PXFooterUtilities.m", 22, @"Invalid parameter not satisfying: %@", @"string" file lineNumber description];
  }
  if ([v9 length])
  {
    if (v10) {
      goto LABEL_5;
    }
  }
  else
  {
    id v29 = [MEMORY[0x1E4F28B00] currentHandler];
    id v30 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v29 handleFailureInFunction:v30, @"PXFooterUtilities.m", 23, @"Invalid parameter not satisfying: %@", @"string.length > 0" file lineNumber description];

    if (v10) {
      goto LABEL_5;
    }
  }
  BOOL v31 = [MEMORY[0x1E4F28B00] currentHandler];
  id v32 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
  [v31 handleFailureInFunction:v32, @"PXFooterUtilities.m", 24, @"Invalid parameter not satisfying: %@", @"actionTitle" file lineNumber description];

LABEL_5:
  if ([v10 length])
  {
    if (v11) {
      goto LABEL_7;
    }
LABEL_23:
    uint64_t v35 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v36 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v35 handleFailureInFunction:v36, @"PXFooterUtilities.m", 26, @"Invalid parameter not satisfying: %@", @"textAttributes" file lineNumber description];

    if (v12) {
      goto LABEL_8;
    }
    goto LABEL_24;
  }
  id v33 = [MEMORY[0x1E4F28B00] currentHandler];
  id v34 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
  [v33 handleFailureInFunction:v34, @"PXFooterUtilities.m", 25, @"Invalid parameter not satisfying: %@", @"actionTitle.length > 0" file lineNumber description];

  if (!v11) {
    goto LABEL_23;
  }
LABEL_7:
  if (v12) {
    goto LABEL_8;
  }
LABEL_24:
  __int16 v37 = [MEMORY[0x1E4F28B00] currentHandler];
  BOOL v38 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
  [v37 handleFailureInFunction:v38, @"PXFooterUtilities.m", 27, @"Invalid parameter not satisfying: %@", @"linkTextAttributes" file lineNumber description];

LABEL_8:
  if (a5) {
    uint64_t v13 = @"PXFooterUtilities_BlankActionTitleFormat";
  }
  else {
    uint64_t v13 = @"PXFooterUtilities_SubtitleActionTitleFormat";
  }
  uint64_t v14 = PXLocalizedStringFromTable(v13, @"PhotosUICore");
  unint64_t v15 = [v14 rangeOfString:@"%1$@"];
  if (v15 == 0x7FFFFFFFFFFFFFFFLL)
  {
    char v39 = [MEMORY[0x1E4F28B00] currentHandler];
    BOOL v40 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v39 handleFailureInFunction:v40, @"PXFooterUtilities.m", 33, @"Invalid parameter not satisfying: %@", @"arg1Range.location != NSNotFound" file lineNumber description];
  }
  unint64_t v16 = [v14 rangeOfString:@"%2$@"];
  if (v16 == 0x7FFFFFFFFFFFFFFFLL)
  {
    int v41 = [MEMORY[0x1E4F28B00] currentHandler];
    id v42 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v41 handleFailureInFunction:v42, @"PXFooterUtilities.m", 35, @"Invalid parameter not satisfying: %@", @"arg2Range.location != NSNotFound" file lineNumber description];
  }
  uint64_t v17 = 4 * (v15 < v16);
  __int16 v18 = [v10 stringByReplacingOccurrencesOfString:@" " withString:@""];

  BOOL v19 = PXStringWithValidatedFormat();
  uint64_t v20 = objc_msgSend(v19, "length", v9, v18);
  uint64_t v21 = [MEMORY[0x1E4F1CA20] currentLocale];
  uint64_t v22 = objc_msgSend(v19, "rangeOfString:options:range:locale:", v18, v17, 0, v20, v21);
  uint64_t v24 = v23;

  if (v22 == 0x7FFFFFFFFFFFFFFFLL)
  {
    id v43 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v44 = objc_msgSend(NSString, "stringWithUTF8String:", "NSAttributedString * _Nonnull PXAttributedStringForStringWithActionTitle(NSString *__strong _Nonnull, NSString *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, NSDictionary<NSAttributedStringKey,id> *__strong _Nonnull, BOOL)");
    [v43 handleFailureInFunction:v44, @"PXFooterUtilities.m", 44, @"Invalid parameter not satisfying: %@", @"actionTitleRange.location != NSNotFound" file lineNumber description];
  }
  id v25 = (void *)[objc_alloc(MEMORY[0x1E4F28E48]) initWithString:v19 attributes:v11];
  objc_msgSend(v25, "addAttribute:value:range:", *MEMORY[0x1E4FB3090], @"com.apple.photos.ui.link-action", v22, v24);
  objc_msgSend(v25, "addAttributes:range:", v12, v22, v24);

  return v25;
}

void sub_1AB154EA4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,char a53,uint64_t a54,uint64_t a55,uint64_t a56,char a57,uint64_t a58,uint64_t a59,uint64_t a60,char a61,uint64_t a62,uint64_t a63)
{
  _Block_object_dispose(&a53, 8);
  _Block_object_dispose(&a57, 8);
  _Block_object_dispose(&a61, 8);
  _Block_object_dispose(&a65, 8);
  _Block_object_dispose(&a69, 8);
  _Block_object_dispose(&STACK[0x200], 8);
  _Block_object_dispose((const void *)(v69 - 240), 8);
  _Block_object_dispose((const void *)(v69 - 208), 8);
  _Unwind_Resume(a1);
}

void PXUserInterfaceElementEventTrackerSimulateAppInForeground(void *a1, char a2)
{
  id v3 = a1;
  if (!v3)
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXUserInterfaceElementEventTrackerSimulateAppInForeground(__strong id<PXUserInterfaceElementEventTracker> _Nonnull, BOOL)");
    id v7 = (objc_class *)objc_opt_class();
    id v8 = NSStringFromClass(v7);
    [v5 handleFailureInFunction:v6, @"PXUserInterfaceElementEventTracker.m", 175, @"%@ should be an instance inheriting from %@, but it is nil", @"eventTracker", v8 file lineNumber description];
LABEL_6:

    goto LABEL_3;
  }
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) == 0)
  {
    id v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = objc_msgSend(NSString, "stringWithUTF8String:", "void PXUserInterfaceElementEventTrackerSimulateAppInForeground(__strong id<PXUserInterfaceElementEventTracker> _Nonnull, BOOL)");
    id v9 = (objc_class *)objc_opt_class();
    id v8 = NSStringFromClass(v9);
    id v10 = objc_msgSend(v3, "px_descriptionForAssertionMessage");
    [v5 handleFailureInFunction:v6, @"PXUserInterfaceElementEventTracker.m", 175, @"%@ should be an instance inheriting from %@, but it is %@", @"eventTracker", v8, v10 file lineNumber description];

    goto LABEL_6;
  }
LABEL_3:
  v11[0] = MEMORY[0x1E4F143A8];
  v11[1] = 3221225472;
  void v11[2] = __PXUserInterfaceElementEventTrackerSimulateAppInForeground_block_invoke;
  void v11[3] = &unk_1E5DCEB78;
  id v12 = v3;
  char v13 = a2;
  id v4 = v3;
  [v4 performChanges:v11];
}

uint64_t __PXUserInterfaceElementEventTrackerSimulateAppInForeground_block_invoke(uint64_t a1)
{
  return [*(id *)(a1 + 32) setIsAppActive:*(unsigned __int8 *)(a1 + 40)];
}

void sub_1AB158C44(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, id location)
{
  objc_destroyWeak(v17);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1599A4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB160F60(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, id obj)
{
}

void sub_1AB161E38(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AB162AA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,id location)
{
  objc_destroyWeak(v25);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB163150(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB163360(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
}

__CFString *PXSmartAlbumConditionTypeDebugDescription(unint64_t a1)
{
  if (a1 > 0x11) {
    return 0;
  }
  else {
    return off_1E5DCE9C8[a1];
  }
}

uint64_t PXSmartAlbumConditionTypeForSingleQuery(void *a1)
{
  uint64_t v12 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    uint64_t v6 = [MEMORY[0x1E4F28B00] currentHandler];
    id v7 = [NSString stringWithUTF8String:"PXSmartAlbumConditionType PXSmartAlbumConditionTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXSmartAlbumConditionType.m", 81, @"Invalid parameter not satisfying: %@", @"singleQuery" file lineNumber description];
  }
  int v2 = [v1 key];
  uint64_t v3 = 14;
  if (v2 <= 299)
  {
    if (v2 > 8)
    {
      if (v2 > 199)
      {
        if (v2 == 200)
        {
          uint64_t v3 = 5;
          goto LABEL_9;
        }
        if (v2 == 201)
        {
          uint64_t v3 = 4;
          goto LABEL_9;
        }
      }
      else
      {
        if (v2 == 9) {
          goto LABEL_9;
        }
        if (v2 == 100)
        {
          uint64_t v3 = 1;
          goto LABEL_9;
        }
      }
    }
    else
    {
      if ((v2 - 1) < 6) {
        goto LABEL_9;
      }
      if (!v2)
      {
        id v8 = [MEMORY[0x1E4F28B00] currentHandler];
        id v9 = [NSString stringWithUTF8String:"PXSmartAlbumConditionType PXSmartAlbumConditionTypeForSingleQuery(PLSingleQuery *__strong _Nonnull)"];
        [v8 handleFailureInFunction:v9 file:@"PXSmartAlbumConditionType.m" lineNumber:88 description:@"Code which should be unreachable has been reached"];

        abort();
      }
    }
    goto LABEL_37;
  }
  if (v2 <= 399)
  {
    switch(v2)
    {
      case 300:
        uint64_t v3 = 2;
        break;
      case 301:
        uint64_t v3 = 3;
        break;
      case 302:
        uint64_t v3 = 8;
        break;
      case 303:
        uint64_t v3 = 9;
        break;
      case 304:
        uint64_t v3 = 10;
        break;
      case 305:
        uint64_t v3 = 12;
        break;
      case 306:
        uint64_t v3 = 15;
        break;
      case 319:
        goto LABEL_9;
      default:
        goto LABEL_37;
    }
    goto LABEL_9;
  }
  if (v2 <= 499)
  {
    switch(v2)
    {
      case 400:
        uint64_t v3 = 7;
        break;
      case 401:
        uint64_t v3 = 17;
        break;
      case 402:
        uint64_t v3 = 16;
        break;
      case 403:
        uint64_t v3 = 6;
        break;
      default:
        goto LABEL_37;
    }
    goto LABEL_9;
  }
  if (v2 == 500)
  {
    uint64_t v3 = 11;
    goto LABEL_9;
  }
  if (v2 == 550)
  {
    uint64_t v3 = 13;
    goto LABEL_9;
  }
  if (v2 != 1000)
  {
LABEL_37:
    id v5 = PLUIGetLog();
    if (os_log_type_enabled(v5, OS_LOG_TYPE_ERROR))
    {
      *(_DWORD *)long long buf = 138412290;
      id v11 = v1;
      _os_log_impl(&dword_1A9AE7000, v5, OS_LOG_TYPE_ERROR, "PXSmartAlbums: Unexpected query: %@", buf, 0xCu);
    }

    uint64_t v3 = 0;
  }
LABEL_9:

  return v3;
}

id PXContentSyndicationPhotosViewConfigurationForAssetCollection(void *a1)
{
  id v1 = a1;
  if (objc_opt_class() && (objc_opt_isKindOfClass() & 1) != 0)
  {
    id v2 = v1;

    if (v2)
    {
      uint64_t v3 = PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(v2, 0, 0, 0, 0);
      goto LABEL_7;
    }
  }
  else
  {
  }
  id v4 = [MEMORY[0x1E4F28B00] currentHandler];
  id v5 = [NSString stringWithUTF8String:"PXPhotosViewConfiguration * _Nonnull PXContentSyndicationPhotosViewConfigurationForAssetCollection(__strong id<PXDisplayAssetCollection> _Nonnull)"];
  [v4 handleFailureInFunction:v5 file:@"PXContentSyndicationUtilities.m" lineNumber:22 description:@"Only PHAssetCollection supported for SWY assets grid at this time"];

  uint64_t v3 = PXPhotosViewConfigurationForAssetCollectionWithExistingAssetsFetchResult(0, 0, 0, 0, 0);
  id v2 = 0;
LABEL_7:
  [v3 setContentStartingPosition:1];
  [v3 setNavBarStyle:0];
  [v3 setShouldOptOutOfChromelessBars:1];
  [v3 setSectionHeaderStyle:3];
  objc_msgSend(v3, "setAllowedActions:", objc_msgSend(v3, "allowedActions") | 0x40000);
  [v3 setWantsOneUpShowInLibraryButton:1];

  return v3;
}

void sub_1AB168974(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB16C5B8(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__271823(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__271824(uint64_t a1)
{
}

void sub_1AB16D850(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB16E1A0(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB16E348(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

uint64_t __isAppleInternal_block_invoke_271875()
{
  uint64_t result = os_variant_has_internal_diagnostics();
  isAppleInternal_hasInternalDiagnostics_271870 = result;
  return result;
}

id PXSharedAlbumURLHandlingInvitationTokenForURL(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    unint64_t v15 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v16 = [NSString stringWithUTF8String:"NSString * _Nullable PXSharedAlbumURLHandlingInvitationTokenForURL(NSURL *__strong _Nonnull)"];
    [v15 handleFailureInFunction:v16, @"PXSharedAlbumURLHandling.m", 14, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];
  }
  id v2 = (void *)[objc_alloc(MEMORY[0x1E4F29088]) initWithURL:v1 resolvingAgainstBaseURL:0];
  uint64_t v3 = [v2 host];
  char v4 = [v3 isEqualToString:@"cloudinvitation"];

  if (v4)
  {
    char v5 = 0;
    uint64_t v6 = @"id";
    goto LABEL_12;
  }
  id v7 = [v2 host];
  if ([v7 isEqualToString:@"www.icloud.com"])
  {
    id v8 = [v2 path];
    if ([v8 hasPrefix:@"/redford/sps"])
    {

LABEL_10:
      char v5 = 0;
      uint64_t v6 = @"invitation_id";
      goto LABEL_12;
    }
    id v9 = [v2 path];
    int v10 = [v9 hasPrefix:@"/photostream/join"];

    if (v10) {
      goto LABEL_10;
    }
  }
  else
  {
  }
  uint64_t v6 = 0;
  char v5 = 1;
LABEL_12:
  id v11 = 0;
  uint64_t v20 = 0;
  uint64_t v21 = &v20;
  uint64_t v22 = 0x3032000000;
  uint64_t v23 = __Block_byref_object_copy__271913;
  uint64_t v24 = __Block_byref_object_dispose__271914;
  id v25 = 0;
  if ((v5 & 1) == 0)
  {
    uint64_t v12 = [v2 queryItems];
    v17[0] = MEMORY[0x1E4F143A8];
    v17[1] = 3221225472;
    void v17[2] = __PXSharedAlbumURLHandlingInvitationTokenForURL_block_invoke;
    void v17[3] = &unk_1E5DCEDE8;
    __int16 v18 = v6;
    BOOL v19 = &v20;
    [v12 enumerateObjectsUsingBlock:v17];

    id v11 = (void *)v21[5];
  }
  id v13 = v11;
  _Block_object_dispose(&v20, 8);

  return v13;
}

void sub_1AB16E9AC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__271913(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__271914(uint64_t a1)
{
}

void __PXSharedAlbumURLHandlingInvitationTokenForURL_block_invoke(uint64_t a1, void *a2, uint64_t a3, unsigned char *a4)
{
  id v12 = a2;
  uint64_t v6 = [v12 name];
  int v7 = [v6 isEqualToString:*(void *)(a1 + 32)];

  if (v7)
  {
    id v8 = [v12 value];
    if ([v8 length])
    {
      uint64_t v9 = [v12 value];
      uint64_t v10 = *(void *)(*(void *)(a1 + 40) + 8);
      id v11 = *(void **)(v10 + 40);
      *(void *)(v10 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v9;
    }
    *a4 = 1;
  }
}

uint64_t PXSharedAlbumURLHandlingParseInvitationToken(void *a1, void *a2, void *a3)
{
  id v5 = a1;
  if (v5)
  {
    if (a2) {
      goto LABEL_3;
    }
LABEL_33:
    uint64_t v20 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v21 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)");
    [v20 handleFailureInFunction:v21, @"PXSharedAlbumURLHandling.m", 74, @"Invalid parameter not satisfying: %@", @"ownerName" file lineNumber description];

    if (a3) {
      goto LABEL_4;
    }
    goto LABEL_34;
  }
  __int16 v18 = [MEMORY[0x1E4F28B00] currentHandler];
  BOOL v19 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)");
  [v18 handleFailureInFunction:v19, @"PXSharedAlbumURLHandling.m", 73, @"Invalid parameter not satisfying: %@", @"invitationToken" file lineNumber description];

  if (!a2) {
    goto LABEL_33;
  }
LABEL_3:
  if (a3) {
    goto LABEL_4;
  }
LABEL_34:
  uint64_t v22 = [MEMORY[0x1E4F28B00] currentHandler];
  uint64_t v23 = objc_msgSend(NSString, "stringWithUTF8String:", "BOOL PXSharedAlbumURLHandlingParseInvitationToken(NSString *__strong _Nonnull, NSString * _Nonnull __autoreleasing * _Nullable, NSString * _Nonnull __autoreleasing * _Nullable)");
  [v22 handleFailureInFunction:v23, @"PXSharedAlbumURLHandling.m", 75, @"Invalid parameter not satisfying: %@", @"albumName" file lineNumber description];

LABEL_4:
  objc_msgSend(MEMORY[0x1E4F28FD8], "regularExpressionWithPattern:options:error:", @"^[a-zA-Z0-9=;_-]+$",
    0,
  uint64_t v6 = 0);
  if (objc_msgSend(v6, "numberOfMatchesInString:options:range:", v5, 0, 0, objc_msgSend(v5, "length")) == 1)
  {
    int v7 = [v5 componentsSeparatedByString:@";"];
    if ((unint64_t)[v7 count] > 6)
    {
      id v8 = [v7 objectAtIndexedSubscript:5];
      uint64_t v10 = [v7 objectAtIndexedSubscript:6];
      id v11 = (void *)v10;
      if (v8 && v10)
      {
        id v12 = _UrlSafeBase64DecodeString(v8);
        uint64_t v13 = _UrlSafeBase64DecodeString(v11);
        uint64_t v14 = (void *)v13;
        if (v12) {
          BOOL v15 = v13 == 0;
        }
        else {
          BOOL v15 = 1;
        }
        uint64_t v9 = !v15;
        if (v15)
        {
          unint64_t v16 = PLPhotoSharingGetLog();
          if (os_log_type_enabled(v16, OS_LOG_TYPE_ERROR))
          {
            *(_WORD *)uint64_t v24 = 0;
            _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_ERROR, "Invalid invitation identifier: no decoded owner and/or album name", v24, 2u);
          }
        }
        else
        {
          *a2 = v12;
          *a3 = v14;
        }
      }
      else
      {
        id v12 = PLPhotoSharingGetLog();
        if (os_log_type_enabled(v12, OS_LOG_TYPE_ERROR))
        {
          *(_WORD *)id v25 = 0;
          _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_ERROR, "Invalid invitation identifier: no raw owner and/or album name", v25, 2u);
        }
        uint64_t v9 = 0;
      }
    }
    else
    {
      id v8 = PLPhotoSharingGetLog();
      if (os_log_type_enabled(v8, OS_LOG_TYPE_ERROR))
      {
        *(_WORD *)long long buf = 0;
        _os_log_impl(&dword_1A9AE7000, v8, OS_LOG_TYPE_ERROR, "Invalid invitation identifier format", buf, 2u);
      }
      uint64_t v9 = 0;
    }
  }
  else
  {
    int v7 = PLPhotoSharingGetLog();
    if (os_log_type_enabled(v7, OS_LOG_TYPE_ERROR))
    {
      *(_WORD *)id v27 = 0;
      _os_log_impl(&dword_1A9AE7000, v7, OS_LOG_TYPE_ERROR, "Invalid embedded URL query string: Not an invitation URL", v27, 2u);
    }
    uint64_t v9 = 0;
  }

  return v9;
}

id _UrlSafeBase64DecodeString(void *a1)
{
  id v1 = [a1 stringByReplacingOccurrencesOfString:@"_" withString:@"/"];
  id v2 = [v1 stringByReplacingOccurrencesOfString:@"-" withString:@"+"];

  uint64_t v3 = [v2 length] & 3;
  if (v3 == 2)
  {
    char v4 = @"==";
  }
  else
  {
    if (v3 != 3) {
      goto LABEL_6;
    }
    char v4 = @"=";
  }
  uint64_t v5 = [v2 stringByAppendingString:v4];

  id v2 = (void *)v5;
LABEL_6:
  uint64_t v6 = (void *)[objc_alloc(MEMORY[0x1E4F1C9B8]) initWithBase64EncodedString:v2 options:0];
  if (v6) {
    int v7 = (void *)[[NSString alloc] initWithData:v6 encoding:4];
  }
  else {
    int v7 = 0;
  }

  return v7;
}

void sub_1AB170C78(_Unwind_Exception *a1)
{
}

void PXStoryPacingControllerGeneratePacingDecision(uint64_t a1@<X0>, uint64_t a2@<X1>, CMTime *a3@<X2>, CMTime *a4@<X3>, void *a5@<X4>, uint64_t a6@<X5>, int a7@<W6>, uint64_t a8@<X8>)
{
  id v15 = a5;
  memset(&v42, 0, sizeof(v42));
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)(a2 + 24);
  lhs.start.CMTimeEpoch epoch = *(void *)(a2 + 40);
  *(_OWORD *)CMTime rhs = *(_OWORD *)&a3->value;
  *(void *)&rhs[16] = a3->epoch;
  CMTimeSubtract(&v42, &lhs.start, (CMTime *)rhs);
  memset(&v41, 0, sizeof(v41));
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)a2;
  lhs.start.CMTimeEpoch epoch = *(void *)(a2 + 16);
  *(_OWORD *)CMTime rhs = *(_OWORD *)&a3->value;
  *(void *)&rhs[16] = a3->epoch;
  CMTimeSubtract(&v41, &lhs.start, (CMTime *)rhs);
  memset(&v40, 0, sizeof(v40));
  *(_OWORD *)&lhs.start.CMTimeValue value = *(_OWORD *)(a2 + 48);
  lhs.start.CMTimeEpoch epoch = *(void *)(a2 + 64);
  *(_OWORD *)CMTime rhs = *(_OWORD *)&a3->value;
  *(void *)&rhs[16] = a3->epoch;
  CMTimeSubtract(&v40, &lhs.start, (CMTime *)rhs);
  lhs.CMTime start = v42;
  *(_OWORD *)CMTime rhs = PXStoryTimeZero;
  *(void *)&rhs[16] = 0;
  CMTimeMaximum((CMTime *)&v32, &lhs.start, (CMTime *)rhs);
  *(_OWORD *)&v42.CMTimeValue value = v32;
  v42.CMTimeEpoch epoch = v33;
  lhs.CMTime start = v41;
  *(_OWORD *)CMTime rhs = PXStoryTimeZero;
  *(void *)&rhs[16] = 0;
  CMTimeMaximum((CMTime *)&v32, &lhs.start, (CMTime *)rhs);
  *(_OWORD *)&v41.CMTimeValue value = v32;
  v41.CMTimeEpoch epoch = v33;
  lhs.CMTime start = v40;
  *(_OWORD *)CMTime rhs = PXStoryTimeZero;
  *(void *)&rhs[16] = 0;
  CMTimeMaximum((CMTime *)&v32, &lhs.start, (CMTime *)rhs);
  *(_OWORD *)&v40.CMTimeValue value = v32;
  v40.CMTimeEpoch epoch = v33;
  if ((BYTE12(v32) & 0x1D) != 1)
  {
    unint64_t v16 = PLStoryGetLog();
    if (os_log_type_enabled(v16, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(lhs.start.value) = 0;
      _os_log_impl(&dword_1A9AE7000, v16, OS_LOG_TYPE_DEBUG, "Missing valid max remaining duration for audio cue search. Defaulting to 3x preferred.", (uint8_t *)&lhs, 2u);
    }

    lhs.CMTime start = v42;
    CMTimeMultiplyByRatio((CMTime *)rhs, &lhs.start, 3, 1);
    CMTime v40 = *(CMTime *)rhs;
  }
  long long v17 = *(_OWORD *)(MEMORY[0x1E4F1FA20] + 16);
  *(_OWORD *)&lhs.start.CMTimeValue value = *MEMORY[0x1E4F1FA20];
  *(_OWORD *)&lhs.start.CMTimeEpoch epoch = v17;
  *(_OWORD *)&lhs.duration.CMTimeScale timescale = *(_OWORD *)(MEMORY[0x1E4F1FA20] + 32);
  CMTime v38 = v42;
  memset(rhs, 0, sizeof(rhs));
  memset(&v36, 0, sizeof(v36));
  if (v15) {
    [v15 currentTime];
  }
  else {
    memset(&v35, 0, sizeof(v35));
  }
  long long v32 = *(_OWORD *)&v42.value;
  *(void *)&long long v33 = v42.epoch;
  CMTimeAdd(&v36, &v35, (CMTime *)&v32);
  uint64_t v18 = 0;
  if (v15 && a7)
  {
    memset(&v34, 0, sizeof(v34));
    [v15 currentTime];
    if (v34.flags)
    {
      long long v32 = 0u;
      long long v33 = 0u;
      BOOL v19 = +[PXStorySettings sharedInstance];
      char v20 = [v19 forcePacingToSegmentMaxDuration];

      if (v20)
      {
        CMTime v29 = v40;
        CMTime time1 = v34;
        CMTimeAdd(&v30, &time1, &v29);
        BOOL v21 = 0;
        long long v32 = *(_OWORD *)&v30.value;
        *(void *)&long long v33 = v30.epoch;
        *((void *)&v33 + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = 4;
      }
      else
      {
        CMTime time1 = v41;
        CMTime time2 = v42;
        CMTime v31 = v40;
        PXStoryPacingControllerTargetCue(v15, &time1, &time2, (uint64_t)&v31, &v32);
        BOOL v21 = *((void *)&v33 + 1) == 0;
      }
      *(_OWORD *)&time1.CMTimeValue value = v32;
      time1.CMTimeEpoch epoch = v33;
      memset(&time2, 0, sizeof(time2));
      if (CMTimeCompare(&time1, &time2) || !v21)
      {
        memset(&v31, 0, sizeof(v31));
        *(_OWORD *)&time1.CMTimeValue value = v32;
        time1.CMTimeEpoch epoch = v33;
        CMTime time2 = v34;
        CMTimeSubtract(&v31, &time1, &time2);
        if ((v31.flags & 0x1D) != 1)
        {
          long long v32 = 0u;
          long long v33 = 0u;
          uint64_t v22 = PLStoryGetLog();
          if (os_log_type_enabled(v22, OS_LOG_TYPE_ERROR))
          {
            LOWORD(time1.value) = 0;
            _os_log_impl(&dword_1A9AE7000, v22, OS_LOG_TYPE_ERROR, "PXStoryPacingController received a pacing cue with a nonnumeric time interval", (uint8_t *)&time1, 2u);
          }
        }
        CMTime time1 = v31;
        if (CMTimeGetSeconds(&time1) < 0.0)
        {
          long long v32 = 0u;
          long long v33 = 0u;
          uint64_t v23 = PLStoryGetLog();
          if (os_log_type_enabled(v23, OS_LOG_TYPE_ERROR))
          {
            LOWORD(time1.value) = 0;
            _os_log_impl(&dword_1A9AE7000, v23, OS_LOG_TYPE_ERROR, "PXStoryPacingController received a pacing cue with negative time since current time!", (uint8_t *)&time1, 2u);
          }
        }
        CMTime time1 = v31;
        CMTime time2 = *a3;
        CMTimeAdd(&v38, &time1, &time2);
        CMTime time1 = v38;
        CMTime time2 = *a4;
        CMTimeSubtract(&v28, &time1, &time2);
        CMTime v38 = v28;
        *(_OWORD *)CMTime rhs = v32;
        *(_OWORD *)&rhs[16] = v33;
        *(_OWORD *)&v36.CMTimeValue value = v32;
        v36.CMTimeEpoch epoch = v33;
      }
    }
    long long v32 = *(_OWORD *)&v34.value;
    *(void *)&long long v33 = v34.epoch;
    CMTime time1 = v41;
    CMTimeAdd(&start, (CMTime *)&v32, &time1);
    long long v32 = *(_OWORD *)&v34.value;
    *(void *)&long long v33 = v34.epoch;
    CMTime time1 = v40;
    CMTimeAdd(&end, (CMTime *)&v32, &time1);
    CMTimeRangeFromTimeToTime(&lhs, &start, &end);
    uint64_t v18 = [v15 cuesVersion];
  }
  *(_OWORD *)(a8 + 216) = 0u;
  *(_OWORD *)(a8 + 20PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0u;
  *(_OWORD *)(a8 + 184) = 0u;
  *(_OWORD *)(a8 + 16_Block_object_dispose(&STACK[0x410], 8) = 0u;
  long long v24 = *(_OWORD *)&lhs.start.epoch;
  *(_OWORD *)(a8 + _Block_object_dispose(&STACK[0x410], 8) = *(_OWORD *)&lhs.start.value;
  *(_OWORD *)(a8 + 24) = v24;
  *(_OWORD *)(a8 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(_OWORD *)&lhs.duration.timescale;
  *(_OWORD *)(a8 + 56) = *(_OWORD *)&v42.value;
  long long v25 = *(_OWORD *)&rhs[16];
  *(_OWORD *)(a8 + 8PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(_OWORD *)&v38.value;
  *(_OWORD *)(a8 + 104) = *(_OWORD *)rhs;
  *(void *)(a8 + 232) = 0;
  *(void *)a8 = a1;
  *(void *)(a8 + 72) = v42.epoch;
  *(void *)(a8 + 96) = v38.epoch;
  *(_OWORD *)(a8 + 12PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v25;
  *(void *)(a8 + 136) = v18;
  *(CMTime *)(a8 + 144) = v36;
  *(CFAbsoluteTime *)(a8 + 16_Block_object_dispose(&STACK[0x410], 8) = CFAbsoluteTimeGetCurrent();
  *(_OWORD *)(a8 + 176) = *(_OWORD *)&a3->value;
  *(void *)(a8 + 192) = a3->epoch;
  *(void *)(a8 + 20PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = a6;
  *(unsigned char *)(a8 + 20_Block_object_dispose(&STACK[0x410], 8) = 0;
  *(void *)(a8 + 212) = 0;
  *(void *)(a8 + 22_Block_object_dispose(&STACK[0x410], 8) = 0;
  *(void *)(a8 + 22PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
}

void PXStoryPacingControllerTargetCue(void *a1@<X0>, CMTime *a2@<X1>, CMTime *a3@<X2>, uint64_t a4@<X3>, _OWORD *a5@<X8>)
{
  id v9 = a1;
  uint64_t v10 = v9;
  memset(&v25, 0, sizeof(v25));
  if (v9) {
    [v9 currentTime];
  }
  *a5 = 0u;
  a5[1] = 0u;
  if ((a3->flags & 0x1D) == 1)
  {
    memset(&v24, 0, sizeof(v24));
    CMTime rhs = *a3;
    lhs.CMTimeRange start = v25;
    CMTimeAdd(&v24, &lhs.start, &rhs);
    memset(&lhs, 0, sizeof(lhs));
    if ((a2->flags & 0x1D) == 1 && (*(_DWORD *)(a4 + 12) & 0x1D) == 1)
    {
      memset(&v21, 0, sizeof(v21));
      CMTime v20 = *a2;
      start.CMTimeRange start = v25;
      CMTimeAdd(&v21, &start.start, &v20);
      *(_OWORD *)&start.start.CMTimeValue value = *(_OWORD *)a4;
      start.start.CMTimeEpoch epoch = *(void *)(a4 + 16);
      *(_OWORD *)&duration.start.CMTimeValue value = *(_OWORD *)&a2->value;
      duration.start.CMTimeEpoch epoch = a2->epoch;
      CMTimeSubtract(&v19, &start.start, &duration.start);
      duration.CMTimeRange start = v19;
      start.CMTimeRange start = v21;
      CMTimeRangeMake(&lhs, &start.start, &duration.start);
      CMTimeRange duration = lhs;
      CMTime v16 = v25;
      PXCMTimeRangeClipToMinimumTime((uint64_t)&duration, (uint64_t)&v16, &start);
      CMTimeRange lhs = start;
      CMTime v16 = v24;
      PXCMTimeClampToRangeInclusive((long long *)&v16.value, (uint64_t)&start, &duration);
      CMTime v24 = duration.start;
    }
    else
    {
      start.CMTimeRange start = v24;
      duration.CMTimeRange start = v24;
      CMTimeRangeFromTimeToTime(&lhs, &start.start, &duration.start);
      id v12 = PLStoryGetLog();
      if (os_log_type_enabled(v12, OS_LOG_TYPE_DEBUG))
      {
        LOWORD(start.start.value) = 0;
        _os_log_impl(&dword_1A9AE7000, v12, OS_LOG_TYPE_DEBUG, "PXStoryPacingControllerTargetCue() missing valid min and/or max durations for audio cue search.", (uint8_t *)&start, 2u);
      }
    }
    uint64_t v13 = [v10 audioCueSource];
    uint64_t v14 = v13;
    if (v13)
    {
      CMTimeRange start = lhs;
      CMTime v21 = v24;
      [v13 bestCueInRange:&start preferredTime:&v21];
    }
    else
    {
      memset(&duration, 0, 32);
    }
    long long v15 = *(_OWORD *)&duration.start.epoch;
    *a5 = *(_OWORD *)&duration.start.value;
    a5[1] = v15;
  }
  else
  {
    id v11 = PLStoryGetLog();
    if (os_log_type_enabled(v11, OS_LOG_TYPE_DEBUG))
    {
      LOWORD(lhs.start.value) = 0;
      _os_log_impl(&dword_1A9AE7000, v11, OS_LOG_TYPE_DEBUG, "PXStoryPacingControllerTargetCue() missing valid preferred duration for audio cue search.", (uint8_t *)&lhs, 2u);
    }
  }
}

void sub_1AB1728C0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

BOOL PXStoryPacingDecisionIsStillValid(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return *a1 == a2 && a1[17] == a3 && a1[25] == a4;
}

uint64_t _IsPaused(void *a1)
{
  id v1 = a1;
  id v2 = v1;
  if (v1 && [v1 state] == 2)
  {
    unint64_t v3 = [v2 pauseReason];
    if (v3 <= 0x12) {
      uint64_t v4 = (0x7FFFAu >> v3) & 1;
    }
    else {
      uint64_t v4 = 0;
    }
  }
  else
  {
    uint64_t v4 = 0;
  }

  return v4;
}

uint64_t PXCMMMediaTypeForFetchResult(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [v1 countOfAssetsWithMediaType:1];
  uint64_t v3 = [v1 countOfAssetsWithMediaType:2];
  uint64_t v4 = [v1 countOfAssetsWithMediaType:3];
  uint64_t v5 = [v1 countOfAssetsWithMediaType:0];

  uint64_t v6 = v3 + v2 + v4 + v5;
  if (!v6) {
    return 0;
  }
  if (!v3 && v2 == v6) {
    return 1;
  }
  if (v3 == v6 && v2 == 0) {
    return 2;
  }
  else {
    return 0;
  }
}

id PXStoryFallbackLoadingCoordinator()
{
  if (PXStoryFallbackLoadingCoordinator_onceToken != -1) {
    dispatch_once(&PXStoryFallbackLoadingCoordinator_onceToken, &__block_literal_global_272788);
  }
  id v0 = (void *)PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator;
  return v0;
}

void __PXStoryFallbackLoadingCoordinator_block_invoke()
{
  id v0 = objc_alloc_init(_PXStoryFallbackLoadingCoordinator);
  id v1 = (void *)PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator;
  PXStoryFallbackLoadingCoordinator_fallbackLoadingCoordinator = (uint64_t)v0;
}

void sub_1AB178040(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,char a36,uint64_t a37,uint64_t a38,uint64_t a39,char a40)
{
}

void sub_1AB17851C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,char a25,uint64_t a26,uint64_t a27,uint64_t a28,char a29)
{
  _Block_object_dispose(&a25, 8);
  _Block_object_dispose(&a29, 8);
  _Block_object_dispose((const void *)(v29 - 144), 8);
  _Block_object_dispose((const void *)(v29 - 112), 8);
  _Unwind_Resume(a1);
}

void sub_1AB17B29C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,char a28,uint64_t a29,uint64_t a30,uint64_t a31,char a32)
{
}

void sub_1AB17B4F8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va1, a13);
  va_start(va, a13);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  uint64_t v18 = va_arg(va1, void);
  uint64_t v19 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  _Block_object_dispose(va1, 8);
  _Block_object_dispose((const void *)(v13 - 112), 8);
  _Unwind_Resume(a1);
}

__CFString *PXCPLStatusStateDebugDescription(unint64_t a1)
{
  if (a1 > 2) {
    return 0;
  }
  else {
    return off_1E5DCF230[a1];
  }
}

__CFString *PXCPLStatusActivityDebugDescription(unint64_t a1)
{
  if (a1 > 7) {
    return 0;
  }
  else {
    return off_1E5DCF248[a1];
  }
}

__CFString *PXCPLStatusPauseReasonDebugDescription(unint64_t a1)
{
  if (a1 > 0x12) {
    return 0;
  }
  else {
    return off_1E5DCF288[a1];
  }
}

__CFString *PXCPLStatusActionDebugDescription(unint64_t a1)
{
  if (a1 > 0xB) {
    return 0;
  }
  else {
    return off_1E5DCF320[a1];
  }
}

__CFString *PXCPLCloudQuotaStateDebugDescription(unint64_t a1)
{
  if (a1 > 2) {
    return 0;
  }
  else {
    return off_1E5DCF380[a1];
  }
}

void sub_1AB17D0D4(_Unwind_Exception *a1)
{
  __destructor_8_s16_s24_s32(v1);
  _Unwind_Resume(a1);
}

void sub_1AB17D1B4(_Unwind_Exception *a1)
{
  __destructor_8_s16_s24_s32(v1);
  _Unwind_Resume(a1);
}

void sub_1AB17E930(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, ...)
{
  va_start(va, a16);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__273596(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__273597(uint64_t a1)
{
}

void sub_1AB182444(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB184004(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB1848FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB184F8C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,id location,id a25)
{
  objc_destroyWeak(v26);
  objc_destroyWeak(v25);
  objc_destroyWeak(&location);
  objc_destroyWeak(&a25);
  _Unwind_Resume(a1);
}

void sub_1AB1850A4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v2);
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

id _PXAssetEditOperationTypesByVariationType()
{
  if (_PXAssetEditOperationTypesByVariationType_onceToken != -1) {
    dispatch_once(&_PXAssetEditOperationTypesByVariationType_onceToken, &__block_literal_global_274201);
  }
  id v0 = (void *)_PXAssetEditOperationTypesByVariationType_editOperationTypesByVariationType;
  return v0;
}

id PXAssetEditOperationTypeForVariationType(uint64_t a1)
{
  uint64_t v2 = _PXAssetEditOperationTypesByVariationType();
  uint64_t v3 = [NSNumber numberWithInteger:a1];
  uint64_t v4 = [v2 objectForKeyedSubscript:v3];

  return v4;
}

uint64_t PXAssetEditOperationTypeIsVariation(void *a1)
{
  id v1 = a1;
  if ([v1 hasPrefix:@"PXAssetEditOperation.Variation"]) {
    uint64_t v2 = 1;
  }
  else {
    uint64_t v2 = [v1 isEqualToString:@"PXAssetEditOperationTypeDisableLivePhoto"];
  }

  return v2;
}

__CFString *PXAssetEditOperationTypeForDepthToggle(int a1)
{
  if (a1) {
    return @"PXAssetEditOperationTypeEnableDepth";
  }
  else {
    return @"PXAssetEditOperationTypeDisableDepth";
  }
}

uint64_t PXAssetEditOperationTypeIsEnableDepth(void *a1, const char *a2)
{
  return [a1 isEqualToString:@"PXAssetEditOperationTypeEnableDepth"];
}

uint64_t PXAssetEditOperationTypeIsToggleDepth(void *a1)
{
  id v1 = a1;
  if ([v1 isEqualToString:@"PXAssetEditOperationTypeEnableDepth"]) {
    uint64_t v2 = 1;
  }
  else {
    uint64_t v2 = [v1 isEqualToString:@"PXAssetEditOperationTypeDisableDepth"];
  }

  return v2;
}

uint64_t PXAssetVariationTypeForEditOperationType(void *a1)
{
  id v1 = a1;
  uint64_t v2 = v1;
  if (v1 == @"PXAssetEditOperationTypeDisableLivePhoto"
    || (char v3 = [(__CFString *)v1 isEqualToString:@"PXAssetEditOperationTypeDisableLivePhoto"],
        v2,
        (v3 & 1) != 0))
  {
    uint64_t v4 = 0;
  }
  else
  {
    if (PXAssetVariationTypeForEditOperationType_onceToken != -1) {
      dispatch_once(&PXAssetVariationTypeForEditOperationType_onceToken, &__block_literal_global_21_274210);
    }
    uint64_t v5 = [(id)PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType objectForKeyedSubscript:v2];
    uint64_t v4 = [v5 integerValue];
  }
  return v4;
}

void __PXAssetVariationTypeForEditOperationType_block_invoke()
{
  id v0 = _PXAssetEditOperationTypesByVariationType();
  id v1 = objc_msgSend(objc_alloc(MEMORY[0x1E4F1CA60]), "initWithCapacity:", objc_msgSend(v0, "count"));
  v5[0] = MEMORY[0x1E4F143A8];
  v5[1] = 3221225472;
  void v5[2] = __PXAssetVariationTypeForEditOperationType_block_invoke_2;
  void v5[3] = &unk_1E5DCF748;
  id v6 = v1;
  id v2 = v1;
  [v0 enumerateKeysAndObjectsUsingBlock:v5];
  uint64_t v3 = [v2 copy];
  uint64_t v4 = (void *)PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType;
  PXAssetVariationTypeForEditOperationType_variationTypesByEditOperationType = v3;
}

uint64_t __PXAssetVariationTypeForEditOperationType_block_invoke_2(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return [*(id *)(a1 + 32) setObject:a2 forKeyedSubscript:a3];
}

PXPersonTiledImageCombinerItem *PXFaceTileImageCombinerItemForPXPerson(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v5 = [NSString stringWithUTF8String:"id<PXFaceTileImageCombinerItem>  _Nonnull PXFaceTileImageCombinerItemForPXPerson(__strong id<PXPerson> _Nonnull)"];
    [v4 handleFailureInFunction:v5, @"PXPerson+PXFaceTileImageCombinerItem.m", 51, @"Invalid parameter not satisfying: %@", @"person" file lineNumber description];
  }
  id v2 = [[PXPersonTiledImageCombinerItem alloc] initWithPerson:v1];

  return v2;
}

void sub_1AB186484(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, id location)
{
}

void sub_1AB189294(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, ...)
{
  va_start(va, a12);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB18AC90(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 80));
  _Unwind_Resume(a1);
}

void sub_1AB18B068(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 144));
  _Unwind_Resume(a1);
}

void sub_1AB18B4E4(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB18B738(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB18C770(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,id location)
{
}

void sub_1AB18DF50(_Unwind_Exception *a1)
{
  objc_sync_exit(v1);
  _Unwind_Resume(a1);
}

uint64_t PXMusicCurationCategoryIsAppleMusic(void *a1, const char *a2)
{
  return [a1 hasPrefix:@"AppleMusic"];
}

uint64_t PXMusicCurationCategoryIsFlexMusic(void *a1, const char *a2)
{
  return [a1 hasPrefix:@"FlexMusic"];
}

id PXAllMusicCurationCategories()
{
  v4[7] = *MEMORY[0x1E4F143B8];
  id v0 = objc_alloc(MEMORY[0x1E4F1CAD0]);
  v4[0] = @"FlexMusicBest";
  v4[1] = @"FlexMusicSecondary";
  v4[2] = @"AppleMusicBest";
  _OWORD v4[3] = @"AppleMusicForYou";
  void v4[4] = @"AppleMusicLocation";
  void v4[5] = @"AppleMusicTime";
  v4[6] = @"AppleMusicPerformer";
  uint64_t v1 = [MEMORY[0x1E4F1C978] arrayWithObjects:v4 count:7];
  uint64_t v2 = (void *)[v0 initWithArray:v1];

  return v2;
}

id PXAppleMusicCurationCategories()
{
  if (PXAppleMusicCurationCategories_onceToken != -1) {
    dispatch_once(&PXAppleMusicCurationCategories_onceToken, &__block_literal_global_275966);
  }
  id v0 = (void *)PXAppleMusicCurationCategories_categories;
  return v0;
}

void __PXAppleMusicCurationCategories_block_invoke()
{
  id v0 = objc_alloc(MEMORY[0x1E4F1CAD0]);
  PXAllMusicCurationCategories();
  objc_claimAutoreleasedReturnValue();
  PXFilter();
}

uint64_t __PXAppleMusicCurationCategories_block_invoke_2(uint64_t a1, void *a2)
{
  return [a2 hasPrefix:@"AppleMusic"];
}

id PXFlexMusicCurationCategories()
{
  if (PXFlexMusicCurationCategories_onceToken != -1) {
    dispatch_once(&PXFlexMusicCurationCategories_onceToken, &__block_literal_global_34_275970);
  }
  id v0 = (void *)PXFlexMusicCurationCategories_categories;
  return v0;
}

void __PXFlexMusicCurationCategories_block_invoke()
{
  id v0 = objc_alloc(MEMORY[0x1E4F1CAD0]);
  PXAllMusicCurationCategories();
  objc_claimAutoreleasedReturnValue();
  PXFilter();
}

uint64_t __PXFlexMusicCurationCategories_block_invoke_2(uint64_t a1, void *a2)
{
  return [a2 hasPrefix:@"FlexMusic"];
}

uint64_t __Block_byref_object_copy__276274(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__276275(uint64_t a1)
{
}

SpringUtils *SpringUtils::Spring::Spring(SpringUtils *this, double a2, double a3, double a4, double a5)
{
  *(double *)this = a2;
  *((double *)this + PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = a3;
  *((double *)this + 2) = a4;
  *((double *)this + 3) = a5;
  double v5 = sqrt(a3 / a2);
  double v6 = sqrt(a2 * a3);
  double v7 = a4 / (v6 + v6);
  *((double *)this + 4) = v5;
  *((double *)this + 5) = v7;
  double v8 = v5 * sqrt(1.0 - v7 * v7);
  *((double *)this + 6) = v8;
  *((void *)this + 7) = 0x3FF0000000000000;
  if (v7 >= 1.0) {
    double v9 = v5 - a5;
  }
  else {
    double v9 = -(a5 - v7 * v5) / v8;
  }
  *((double *)this + _Block_object_dispose(&STACK[0x410], 8) = v9;
  *((double *)this + 9) = v8 + v5 * v9 * v7;
  v10.f64[0] = -(v9 * v8);
  *((double *)this + 1PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = v5 * v7 - v9 * v8;
  float64x2_t v11 = (float64x2_t)vdupq_lane_s64(*(uint64_t *)&v5, 0);
  v11.f64[0] = v5 * v9;
  float64x2_t v12 = vmulq_n_f64(vmulq_n_f64(v11, v5), v7);
  __asm { FMOV            V7.2D, #2.0 }
  _Q7.f64[1] = v9 * -2.0;
  v10.f64[1] = -v8;
  *(float64x2_t *)((char *)this + 8_Block_object_dispose(&STACK[0x410], 8) = vmlaq_n_f64(vmlaq_n_f64(vmulq_n_f64(vmulq_n_f64(vmulq_n_f64(_Q7, v8), v5), v7), v12, v7), v10, v8);
  return this;
}

void sub_1AB1918E8(_Unwind_Exception *a1)
{
  _Unwind_Resume(a1);
}

double SpringUtils::Spring::first_derivative(SpringUtils::Spring *this, double a2)
{
  double v4 = *((double *)this + 5);
  if (v4 >= 1.0)
  {
    double v9 = *((double *)this + 4);
    double v5 = v9 * *((double *)this + 7) + *((double *)this + 8) * v9 * a2 - *((double *)this + 8);
    double v8 = exp(-(a2 * v9));
  }
  else
  {
    double v5 = exp(-(*((double *)this + 4) * v4) * a2);
    double v6 = *((double *)this + 9);
    __double2 v7 = __sincos_stret(*((double *)this + 6) * a2);
    double v8 = *((double *)this + 10) * v7.__cosval + v6 * v7.__sinval;
  }
  return -(v5 * v8);
}

void SpringUtils::Spring::second_derivative(SpringUtils::Spring *this, double a2)
{
  double v4 = *((double *)this + 4);
  double v5 = *((double *)this + 5);
  if (v5 >= 1.0)
  {
    exp(-(a2 * v4));
  }
  else
  {
    exp(-(v4 * v5) * a2);
    __sincos_stret(*((double *)this + 6) * a2);
  }
}

double SpringUtils::Spring::evaluate(SpringUtils::Spring *this, double a2)
{
  double v4 = *((double *)this + 5);
  if (v4 >= 1.0)
  {
    double v5 = *((double *)this + 7) + *((double *)this + 8) * a2;
    double v8 = exp(-(a2 * *((double *)this + 4)));
  }
  else
  {
    double v5 = exp(-(a2 * v4) * *((double *)this + 4));
    double v6 = *((double *)this + 7);
    __double2 v7 = __sincos_stret(*((double *)this + 6) * a2);
    double v8 = *((double *)this + 8) * v7.__sinval + v6 * v7.__cosval;
  }
  return v5 * v8;
}

double SpringUtils::Spring::evaluate_osc(SpringUtils::Spring *this, double a2)
{
  double v3 = *((double *)this + 7);
  __double2 v4 = __sincos_stret(*((double *)this + 6) * a2);
  return *((double *)this + 8) * v4.__sinval + v3 * v4.__cosval;
}

double SpringUtils::Spring::osc_first_derivative(SpringUtils::Spring *this, double a2)
{
  double v3 = *((double *)this + 6);
  __double2 v4 = __sincos_stret(v3 * a2);
  return -(v3 * (v4.__sinval - *((double *)this + 8) * v4.__cosval));
}

double SpringUtils::Spring::osc_second_derivative(SpringUtils::Spring *this, double a2)
{
  double v2 = *((double *)this + 6);
  double v3 = -(v2 * v2);
  double v4 = *((double *)this + 8);
  __double2 v5 = __sincos_stret(v2 * a2);
  return v3 * (v5.__cosval + v4 * v5.__sinval);
}

double SpringUtils::Spring::first_derivative_osc(SpringUtils::Spring *this, double a2)
{
  double v3 = *((double *)this + 9);
  __double2 v4 = __sincos_stret(*((double *)this + 6) * a2);
  return *((double *)this + 10) * v4.__cosval + v3 * v4.__sinval;
}

double SpringUtils::Spring::first_derivative_osc_first_derivative(SpringUtils::Spring *this, double a2)
{
  double v3 = *((double *)this + 6);
  double v4 = *((double *)this + 10);
  __double2 v5 = __sincos_stret(v3 * a2);
  return -(v3 * (v4 * v5.__sinval - *((double *)this + 9) * v5.__cosval));
}

void PXGLayoutInvalidateWithUpdateFlags(void *a1)
{
}

__CFString *stringForDiffEntryType(unint64_t a1)
{
  if (a1 > 2) {
    return @"UNKNOWN";
  }
  else {
    return off_1E5DCFC70[a1];
  }
}

id _FontForCountLabelStyle(uint64_t a1)
{
  if (a1 == 1) {
    PXCappedFontWithTextStyleAndWeight();
  }
  if (a1)
  {
    double v3 = [MEMORY[0x1E4F28B00] currentHandler];
    double v4 = [NSString stringWithUTF8String:"UIFont *_FontForCountLabelStyle(PXPlacesMapCountLabelStyle)"];
    __double2 v5 = [NSNumber numberWithInteger:a1];
    [v3 handleFailureInFunction:v4, @"PXPlacesMapThumbnailAnnotationView.m", 69, @"Unsupported style: %@", v5 file lineNumber description];

    double v2 = 0;
  }
  else
  {
    double v2 = [MEMORY[0x1E4FB08E0] systemFontOfSize:15.0];
  }
  return v2;
}

void sub_1AB196188(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB196380(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 72));
  _Unwind_Resume(a1);
}

void sub_1AB196540(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB19672C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1969B4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 88));
  _Unwind_Resume(a1);
}

void sub_1AB196ABC(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB196DC0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
}

void sub_1AB1971A4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 56));
  _Unwind_Resume(a1);
}

void sub_1AB197D4C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t stringForCoordinate(double a1, double a2)
{
  return objc_msgSend(NSString, "stringWithFormat:", @"%f,%f", *(void *)&a1, *(void *)&a2);
}

void sub_1AB199AA0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

uint64_t PXIsSidebarVisibleWithDisplayMode(uint64_t a1)
{
  if ((unint64_t)(a1 - 2) < 5) {
    return 1;
  }
  if (!a1)
  {
    uint64_t v6 = v2;
    uint64_t v7 = v1;
    uint64_t v8 = v3;
    uint64_t v9 = v4;
    PXAssertGetLog();
  }
  return 0;
}

void sub_1AB19AF68(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, id location)
{
  objc_destroyWeak(v19);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB19B048(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB19B110(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB19CD00(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _PXGetSectionHeaderData(void *a1, long long *a2, void *a3, void *a4, void *a5, void *a6, uint64_t *a7)
{
  v44[1] = *MEMORY[0x1E4F143B8];
  id v12 = a1;
  long long v13 = a2[1];
  long long v42 = *a2;
  long long v43 = v13;
  uint64_t v14 = [v12 assetCollectionAtSectionIndexPath:&v42];
  long long v15 = a2[1];
  long long v42 = *a2;
  long long v43 = v15;
  if ([v12 isFilteringSectionIndexPath:&v42])
  {
    uint64_t v16 = 3;
  }
  else
  {
    long long v17 = a2[1];
    long long v42 = *a2;
    long long v43 = v17;
    if ([v12 isFilteringDisabledForSectionIndexPath:&v42]) {
      uint64_t v16 = 4;
    }
    else {
      uint64_t v16 = 0;
    }
  }
  uint64_t v18 = [v14 startDate];
  uint64_t v19 = [v14 endDate];
  CMTime v20 = (void *)v19;
  CMTime v41 = a7;
  char v39 = a5;
  if (!v18 || !v19)
  {
    long long v21 = a2[1];
    long long v42 = *a2;
    long long v43 = v21;
    uint64_t v22 = [v12 assetsInSectionIndexPath:&v42];
    uint64_t v23 = [v22 lastObject];
    uint64_t v24 = [v23 creationDate];

    if (v23)
    {
      CMTime v25 = [v22 firstObject];
      [v25 creationDate];
      uint64_t v38 = v24;
      uint64_t v26 = v16;
      id v27 = a3;
      v29 = CMTime v28 = a6;

      uint64_t v18 = (void *)v29;
      a6 = v28;
      a3 = v27;
      uint64_t v16 = v26;
      uint64_t v24 = v38;
    }

    CMTime v20 = (void *)v24;
  }
  if (objc_msgSend(v14, "px_isHighlight", v38))
  {
    uint64_t v30 = PXDisplayCollectionGetLocalizedSubtitleWithoutDelimiters(v14);
    CMTime v31 = (void *)v30;
    if (v30)
    {
      v44[0] = v30;
      long long v32 = [MEMORY[0x1E4F1C978] arrayWithObjects:v44 count:1];
    }
    else
    {
      long long v32 = 0;
    }

    long long v33 = 0;
  }
  else
  {
    long long v33 = [v14 localizedTitle];
    long long v32 = [v14 localizedLocationNames];
  }
  id v34 = v33;
  *a3 = v34;
  id v35 = v32;
  *a6 = v35;
  id v36 = v18;
  *a4 = v36;
  id v37 = v20;
  *char v39 = v37;
  *CMTime v41 = v16;
}

void sub_1AB1A03EC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, ...)
{
  va_start(va, a13);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXLocalizedTitleForSortOrder(uint64_t a1)
{
  if (a1 == 1)
  {
    uint64_t v2 = @"PXContentSortingMenuDateCaptured";
LABEL_5:
    PXLocalizedStringFromTable(v2, @"PhotosUICore");
    uint64_t v3 = (__CFString *)objc_claimAutoreleasedReturnValue();
    return v3;
  }
  if (a1 == 2)
  {
    uint64_t v2 = @"PXContentSortingMenuRecentlyAdded";
    goto LABEL_5;
  }
  uint64_t v3 = &stru_1F00B0030;
  return v3;
}

void sub_1AB1A28F0(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__280522(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__280523(uint64_t a1)
{
}

void sub_1AB1A39DC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1A3EB4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  objc_destroyWeak(v7);
  _Unwind_Resume(a1);
}

void __Block_byref_object_copy__280751(uint64_t a1, uint64_t a2)
{
}

void __Block_byref_object_dispose__280752(uint64_t a1)
{
}

void sub_1AB1A48B4(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

id getMFMailComposeViewControllerClass_280869()
{
  uint64_t v4 = 0;
  __double2 v5 = &v4;
  uint64_t v6 = 0x2050000000;
  id v0 = (void *)getMFMailComposeViewControllerClass_softClass_280910;
  uint64_t v7 = getMFMailComposeViewControllerClass_softClass_280910;
  if (!getMFMailComposeViewControllerClass_softClass_280910)
  {
    v3[0] = MEMORY[0x1E4F143A8];
    v3[1] = 3221225472;
    void v3[2] = __getMFMailComposeViewControllerClass_block_invoke_280911;
    void v3[3] = &unk_1E5DD2B08;
    void v3[4] = &v4;
    __getMFMailComposeViewControllerClass_block_invoke_280911((uint64_t)v3);
    id v0 = (void *)v5[3];
  }
  id v1 = v0;
  _Block_object_dispose(&v4, 8);
  return v1;
}

void sub_1AB1A55A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

Class __getMFMailComposeViewControllerClass_block_invoke_280911(uint64_t a1)
{
  uint64_t v9 = *MEMORY[0x1E4F143B8];
  v6[0] = 0;
  if (!MessageUILibraryCore_frameworkLibrary_280912)
  {
    v6[1] = (void *)MEMORY[0x1E4F143A8];
    void v6[2] = (void *)3221225472;
    void v6[3] = __MessageUILibraryCore_block_invoke_280913;
    void v6[4] = &__block_descriptor_40_e5_v8__0l;
    void v6[5] = v6;
    long long v7 = xmmword_1E5DD0100;
    uint64_t v8 = 0;
    MessageUILibraryCore_frameworkLibrary_280912 = _sl_dlopen();
  }
  if (!MessageUILibraryCore_frameworkLibrary_280912)
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v4 = [NSString stringWithUTF8String:"void *MessageUILibrary(void)"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v4, @"PXMemoriesInlineProblemReporter.m", 28, @"%s", v6[0]);

    goto LABEL_10;
  }
  if (v6[0]) {
    free(v6[0]);
  }
  Class result = objc_getClass("MFMailComposeViewController");
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  if (!*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    uint64_t v3 = [MEMORY[0x1E4F28B00] currentHandler];
    __double2 v5 = [NSString stringWithUTF8String:"Class getMFMailComposeViewControllerClass(void)_block_invoke"];
    objc_msgSend(v3, "handleFailureInFunction:file:lineNumber:description:", v5, @"PXMemoriesInlineProblemReporter.m", 29, @"Unable to find class %s", "MFMailComposeViewController");

LABEL_10:
    __break(1u);
  }
  getMFMailComposeViewControllerClass_softClass_280910 = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

uint64_t __MessageUILibraryCore_block_invoke_280913()
{
  uint64_t result = _sl_dlopen();
  MessageUILibraryCore_frameworkLibrary_280912 = result;
  return result;
}

void sub_1AB1A6A08(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB1A7000(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1A7E6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__281234(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__281235(uint64_t a1)
{
}

void sub_1AB1A7F74(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, ...)
{
  va_start(va, a8);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

__CFString *PXAudioPlayerStateDescription(unint64_t a1)
{
  if (a1 >= 6)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"NSString * _Nonnull PXAudioPlayerStateDescription(PXAudioPlayerState)"];
    [v2 handleFailureInFunction:v3 file:@"PXAudioPlayer.m" lineNumber:74 description:@"Code which should be unreachable has been reached"];

    abort();
  }
  return off_1E5DD02F0[a1];
}

__CFString *PXAudioPlayerDesiredPlayStateDescription(uint64_t a1)
{
  if (a1 == 1) {
    return @"Playing";
  }
  else {
    return @"Paused";
  }
}

PXViewControllerEventTracker *PXViewControllerEventTrackerCreate(void *a1)
{
  id v1 = a1;
  uint64_t v2 = [[PXViewControllerEventTracker alloc] initWithViewName:v1];

  return v2;
}

void sub_1AB1AB170(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v9 - 64), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1ABD50(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,uint64_t a26,uint64_t a27,uint64_t a28,uint64_t a29,uint64_t a30,uint64_t a31,uint64_t a32,uint64_t a33,uint64_t a34,uint64_t a35,uint64_t a36,uint64_t a37,uint64_t a38,uint64_t a39,uint64_t a40,uint64_t a41,uint64_t a42,uint64_t a43,uint64_t a44,uint64_t a45,uint64_t a46,uint64_t a47,uint64_t a48,uint64_t a49,uint64_t a50,uint64_t a51,uint64_t a52,char a53,uint64_t a54,uint64_t a55,uint64_t a56,uint64_t a57,uint64_t a58,char a59,uint64_t a60,uint64_t a61,uint64_t a62,char a63)
{
  _Block_object_dispose(&a53, 8);
  _Block_object_dispose(&a59, 8);
  _Block_object_dispose(&a63, 8);
  _Block_object_dispose(&a69, 8);
  _Block_object_dispose(&STACK[0x200], 8);
  _Block_object_dispose(&STACK[0x220], 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__281798(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__281799(uint64_t a1)
{
}

id PXGViewEnvironmentResolvedColor(void *a1, void *a2)
{
  id v3 = a2;
  uint64_t v4 = [a1 traitCollection];
  __double2 v5 = [v3 resolvedColorWithTraitCollection:v4];

  return v5;
}

id PXProgrammaticNavigationPathComponentsForURLComponents(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    long long v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"NSArray<NSString *> *PXProgrammaticNavigationPathComponentsForURLComponents(NSURLComponents *__strong)"];
    [v7 handleFailureInFunction:v8, @"PXProgrammaticNavigationUtilities.m", 17, @"Invalid parameter not satisfying: %@", @"components" file lineNumber description];
  }
  uint64_t v2 = [v1 path];
  id v3 = [v2 componentsSeparatedByString:@"/"];
  uint64_t v4 = [MEMORY[0x1E4F28F60] predicateWithBlock:&__block_literal_global_281927];
  __double2 v5 = [v3 filteredArrayUsingPredicate:v4];

  return v5;
}

uint64_t __PXProgrammaticNavigationPathComponentsForURLComponents_block_invoke(uint64_t a1, void *a2)
{
  return [a2 isEqualToString:&stru_1F00B0030] ^ 1;
}

id PXProgrammaticNavigationQueryValuesForComponents(void *a1)
{
  uint64_t v19 = *MEMORY[0x1E4F143B8];
  id v1 = a1;
  if (!v1)
  {
    id v12 = [MEMORY[0x1E4F28B00] currentHandler];
    long long v13 = [NSString stringWithUTF8String:"NSDictionary<NSString *,NSString *> *PXProgrammaticNavigationQueryValuesForComponents(NSURLComponents *__strong)"];
    [v12 handleFailureInFunction:v13, @"PXProgrammaticNavigationUtilities.m", 28, @"Invalid parameter not satisfying: %@", @"components" file lineNumber description];
  }
  id v2 = objc_alloc_init(MEMORY[0x1E4F1CA60]);
  long long v14 = 0u;
  long long v15 = 0u;
  long long v16 = 0u;
  long long v17 = 0u;
  id v3 = [v1 queryItems];
  uint64_t v4 = [v3 countByEnumeratingWithState:&v14 objects:v18 count:16];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void *)v15;
    do
    {
      for (uint64_t i = 0; i != v5; ++i)
      {
        if (*(void *)v15 != v6) {
          objc_enumerationMutation(v3);
        }
        uint64_t v8 = *(void **)(*((void *)&v14 + 1) + 8 * i);
        uint64_t v9 = [v8 value];
        if (v9)
        {
          float64x2_t v10 = [v8 name];
          [v2 setObject:v9 forKeyedSubscript:v10];
        }
      }
      uint64_t v5 = [v3 countByEnumeratingWithState:&v14 objects:v18 count:16];
    }
    while (v5);
  }

  return v2;
}

id PXProgrammaticNavigationCloudIdentifierForURLQueryValues(void *a1)
{
  id v1 = [a1 objectForKeyedSubscript:@"cloud-identifier"];
  if ([v1 length]) {
    id v2 = (void *)[objc_alloc(MEMORY[0x1E4F38FD0]) initWithStringValue:v1];
  }
  else {
    id v2 = 0;
  }

  return v2;
}

id PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(void *a1, void *a2)
{
  v15[1] = *MEMORY[0x1E4F143B8];
  id v3 = a1;
  id v4 = a2;
  uint64_t v5 = v4;
  if (v3)
  {
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    float64x2_t v11 = [MEMORY[0x1E4F28B00] currentHandler];
    id v12 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nullable PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(PHCloudIdentifier *__strong, PHPhotoLibrary *__strong)");
    [v11 handleFailureInFunction:v12, @"PXProgrammaticNavigationUtilities.m", 51, @"Invalid parameter not satisfying: %@", @"cloudIdentifier" file lineNumber description];

    if (v5) {
      goto LABEL_3;
    }
  }
  long long v13 = [MEMORY[0x1E4F28B00] currentHandler];
  long long v14 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nullable PXProgrammaticNavigationLocalIdentifierForCloudIdentifier(PHCloudIdentifier *__strong, PHPhotoLibrary *__strong)");
  [v13 handleFailureInFunction:v14, @"PXProgrammaticNavigationUtilities.m", 52, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];

LABEL_3:
  v15[0] = v3;
  uint64_t v6 = [MEMORY[0x1E4F1C978] arrayWithObjects:v15 count:1];
  long long v7 = [v5 localIdentifierMappingsForCloudIdentifiers:v6];

  uint64_t v8 = [v7 objectForKeyedSubscript:v3];
  uint64_t v9 = [v8 localIdentifier];

  return v9;
}

id PXProgrammaticNavigationURLForSearchQuery(void *a1)
{
  id v1 = a1;
  if (![v1 length])
  {
    long long v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"NSURL *PXProgrammaticNavigationURLForSearchQuery(NSString *__strong)"];
    [v7 handleFailureInFunction:v8, @"PXProgrammaticNavigationUtilities.m", 67, @"Invalid parameter not satisfying: %@", @"query.length" file lineNumber description];
  }
  id v2 = [MEMORY[0x1E4F28B88] URLHostAllowedCharacterSet];
  id v3 = [v1 stringByAddingPercentEncodingWithAllowedCharacters:v2];

  id v4 = [@"photos-navigation://search?" stringByAppendingFormat:@"searchTerm=%@", v3];
  uint64_t v5 = [MEMORY[0x1E4F1CB10] URLWithString:v4];

  return v5;
}

uint64_t PXProgrammaticNavigationIsSearchQueryURL(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    uint64_t v5 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v6 = [NSString stringWithUTF8String:"BOOL PXProgrammaticNavigationIsSearchQueryURL(NSURL *__strong)"];
    [v5 handleFailureInFunction:v6, @"PXProgrammaticNavigationUtilities.m", 77, @"Invalid parameter not satisfying: %@", @"url" file lineNumber description];
  }
  id v2 = [v1 absoluteString];
  uint64_t v3 = [v2 hasPrefix:@"photos-navigation://search?"];

  return v3;
}

id PXProgrammaticNavigationURLForMemoryGenerationQuery(void *a1)
{
  id v1 = a1;
  if (![v1 length])
  {
    long long v7 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v8 = [NSString stringWithUTF8String:"NSURL *PXProgrammaticNavigationURLForMemoryGenerationQuery(NSString *__strong)"];
    [v7 handleFailureInFunction:v8, @"PXProgrammaticNavigationUtilities.m", 89, @"Invalid parameter not satisfying: %@", @"query.length" file lineNumber description];
  }
  id v2 = [MEMORY[0x1E4F28B88] URLHostAllowedCharacterSet];
  uint64_t v3 = [v1 stringByAddingPercentEncodingWithAllowedCharacters:v2];

  id v4 = [@"photos://memory-generation?query=" stringByAppendingString:v3];
  uint64_t v5 = [MEMORY[0x1E4F1CB10] URLWithString:v4];

  return v5;
}

uint64_t PXUserInterfaceOrientationOpposite(uint64_t a1)
{
  if (a1 == 2) {
    return 1;
  }
  else {
    return 2 * (a1 == 1);
  }
}

BOOL PXPreferredContentSizeCategoryIsAccessibility(uint64_t a1)
{
  return (unint64_t)(a1 - 8) < 5;
}

__CFString *PXUserInterfaceStyleDescription(unint64_t a1)
{
  if (a1 >= 3)
  {
    id v2 = [NSNumber numberWithInteger:a1];
    id v1 = [v2 description];
  }
  else
  {
    id v1 = off_1E5DD0480[a1];
  }
  return v1;
}

__CFString *PXFeedPPTPresetDescription(unint64_t a1)
{
  if (a1 > 3) {
    return @"??";
  }
  else {
    return off_1E5DD04C0[a1];
  }
}

uint64_t PXFeedPPTPresetEnumeratePossibleValuesUsingBlock(uint64_t a1)
{
  for (uint64_t i = 1; i != 4; ++i)
    uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t))(a1 + 16))(a1, i);
  return result;
}

id PXFeedPPTPresetPossibleValues()
{
  id v0 = objc_alloc_init(MEMORY[0x1E4F1CA48]);
  v5[0] = MEMORY[0x1E4F143A8];
  v5[1] = 3221225472;
  uint64_t v6 = __PXFeedPPTPresetPossibleValues_block_invoke;
  long long v7 = &unk_1E5DD04A0;
  id v1 = v0;
  id v8 = v1;
  for (uint64_t i = 1; i != 4; ++i)
    v6((uint64_t)v5, i);
  uint64_t v3 = (void *)[v1 copy];

  return v3;
}

void __PXFeedPPTPresetPossibleValues_block_invoke(uint64_t a1, uint64_t a2)
{
  id v2 = *(void **)(a1 + 32);
  id v3 = [NSNumber numberWithUnsignedInteger:a2];
  [v2 addObject:v3];
}

id _PXCPLUIStatusLocalizedString(void *a1)
{
  id v1 = a1;
  id v2 = PXLocalizedSharedLibraryString(v1);
  if (([v2 isEqualToString:v1] & 1) != 0 || (id v3 = v2) == 0)
  {
    PXLocalizedStringFromTable(v1, @"PhotosUICore");
    id v3 = (id)objc_claimAutoreleasedReturnValue();
  }

  return v3;
}

void _RegisterServiceActivity(uint64_t a1, void *a2)
{
  uint64_t v8 = *MEMORY[0x1E4F143B8];
  id v3 = a2;
  if (a1 == 4) {
    goto LABEL_7;
  }
  if (a1 == 3)
  {
    id v4 = PLUserStatusGetLog();
    if (os_log_type_enabled(v4, OS_LOG_TYPE_DEBUG))
    {
      int v6 = 138412290;
      id v7 = v3;
      _os_log_impl(&dword_1A9AE7000, v4, OS_LOG_TYPE_DEBUG, "Register upload activity: \"%@\"", (uint8_t *)&v6, 0xCu);
    }

    uint64_t v5 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
    [v3 timeIntervalSinceReferenceDate];
    objc_msgSend(v5, "setDouble:forKey:", @"PXCPLUIStatusProviderLastUploadTime");
    goto LABEL_8;
  }
  if (!_HasUploadActivityInLastSeconds(60.0))
  {
LABEL_7:
    uint64_t v5 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
    [v5 removeObjectForKey:@"PXCPLUIStatusProviderLastUploadTime"];
LABEL_8:
  }
}

id _PXCPLStatusPendingStateDescription(uint64_t a1, uint64_t a2, uint64_t a3, char a4, uint64_t a5, uint64_t a6, int a7)
{
  if (a1 == 2)
  {
    if ((a4 & 1) == 0)
    {
      switch(a2)
      {
        case 0:
        case 1:
          uint64_t v8 = @"PXCPLStatus_Sync_Paused";
          uint64_t v9 = @"PXCPLStatus_Sync_Paused_Short";
          goto LABEL_7;
        case 2:
          if (a7) {
            goto LABEL_49;
          }
          long long v16 = @"PXCPLStatus_Pull_Paused_NItems";
          goto LABEL_63;
        case 3:
          if (a3 == 2)
          {
            if (a7)
            {
              float64x2_t v10 = @"PXCPLStatus_Push_Stopped_Short";
              goto LABEL_10;
            }
            long long v16 = @"PXCPLStatus_Push_Stopped_NItems";
          }
          else
          {
            if (a7)
            {
LABEL_49:
              float64x2_t v10 = @"PXCPLStatus_Sync_Paused_Short";
              goto LABEL_10;
            }
            long long v16 = @"PXCPLStatus_Push_Paused_NItems";
          }
          goto LABEL_63;
        case 4:
          if (a7)
          {
            float64x2_t v10 = @"PXCPLStatus_Fetch_Paused_Short";
            goto LABEL_10;
          }
          long long v16 = @"PXCPLStatus_Fetch_Paused_NItems";
LABEL_63:
          CMTime v25 = _PXCPLUIStatusLocalizedString(v16);
          id v12 = PXLocalizedStringWithValidatedFormat(v25, @"%lu");

          goto LABEL_17;
        case 5:
        case 6:
          if (a7)
          {
            float64x2_t v10 = @"PXCPLStatus_SharedLibraryMove_Paused_Short";
            goto LABEL_10;
          }
          long long v17 = NSString;
          uint64_t v18 = @"PXCPLStatus_SharedLibraryMove_Paused_%lu_Items";
LABEL_47:
          uint64_t v20 = _PXCPLUIStatusLocalizedString(v18);
          goto LABEL_60;
        case 7:
          if (a5)
          {
            long long v17 = NSString;
            if (a7) {
              uint64_t v19 = @"PXCPLStatus_SharedLibraryIsExiting_Paused_%lu_Items_Short";
            }
            else {
              uint64_t v19 = @"PXCPLStatus_SharedLibraryIsExiting_Paused_%lu_Items";
            }
            goto LABEL_59;
          }
          long long v21 = @"PXCPLStatus_SharedLibraryIsLeaving_Paused";
          uint64_t v22 = @"PXCPLStatus_SharedLibraryIsDeleting_Paused";
LABEL_53:
          if (a6 == 2) {
            uint64_t v23 = v22;
          }
          else {
            uint64_t v23 = v21;
          }
          uint64_t v11 = PXLocalizedSharedLibraryString(v23);
          break;
        default:
          goto LABEL_16;
      }
      goto LABEL_11;
    }
    uint64_t v8 = @"PXCPLStatus_Rebuild_Paused";
    uint64_t v9 = @"PXCPLStatus_Rebuild_Paused_Short";
LABEL_7:
    if (a7) {
      float64x2_t v10 = v9;
    }
    else {
      float64x2_t v10 = v8;
    }
LABEL_10:
    uint64_t v11 = _PXCPLUIStatusLocalizedString(v10);
LABEL_11:
    id v12 = (void *)v11;
    goto LABEL_17;
  }
  if (a1 == 1)
  {
    if (a4)
    {
      uint64_t v8 = @"PXCPLStatus_Rebuild";
      uint64_t v9 = @"PXCPLStatus_Rebuild_Short";
      goto LABEL_7;
    }
    switch(a2)
    {
      case 0:
        uint64_t v26 = [MEMORY[0x1E4F28B00] currentHandler];
        id v27 = objc_msgSend(NSString, "stringWithUTF8String:", "NSString * _Nullable _PXCPLStatusPendingStateDescription(PXCPLStatusState, PXCPLStatusActivity, PXCPLStatusPauseReason, BOOL, NSUInteger, PXCPLStatusSharedLibraryState, BOOL)");
        [v26 handleFailureInFunction:v27 file:@"PXCPLUIStatusProvider.m" lineNumber:259 description:@"Code which should be unreachable has been reached"];

        abort();
      case 1:
        uint64_t v8 = @"PXCPLStatus_Sync";
        uint64_t v9 = @"PXCPLStatus_Sync_Short";
        goto LABEL_7;
      case 2:
        long long v14 = @"PXCPLStatus_Pull_NItems";
        long long v15 = @"PXCPLStatus_Pull_NItems_Short";
        goto LABEL_24;
      case 3:
        long long v14 = @"PXCPLStatus_Push_NItems";
        long long v15 = @"PXCPLStatus_Push_NItems_Short";
LABEL_24:
        if (a7) {
          long long v16 = v15;
        }
        else {
          long long v16 = v14;
        }
        goto LABEL_63;
      case 4:
        long long v16 = @"PXCPLStatus_Fetch_NItems";
        goto LABEL_63;
      case 5:
        long long v17 = NSString;
        if (a7) {
          goto LABEL_31;
        }
        uint64_t v18 = @"PXCPLStatus_SharedLibraryMoveToShared_%lu_Items";
        goto LABEL_47;
      case 6:
        long long v17 = NSString;
        if (a7) {
LABEL_31:
        }
          uint64_t v18 = @"PXCPLStatus_SharedLibraryMove_%lu_Items_Short";
        else {
          uint64_t v18 = @"PXCPLStatus_SharedLibraryMoveToPersonal_%lu_Items";
        }
        goto LABEL_47;
      case 7:
        if (!a5)
        {
          long long v21 = @"PXCPLStatus_SharedLibraryIsLeaving";
          uint64_t v22 = @"PXCPLStatus_SharedLibraryIsDeleting";
          goto LABEL_53;
        }
        long long v17 = NSString;
        if (a7) {
          uint64_t v19 = @"PXCPLStatus_SharedLibraryIsExiting_%lu_Items_Short";
        }
        else {
          uint64_t v19 = @"PXCPLStatus_SharedLibraryIsExiting_%lu_Items";
        }
        break;
      default:
        goto LABEL_16;
    }
LABEL_59:
    uint64_t v20 = PXLocalizedSharedLibraryString(v19);
LABEL_60:
    uint64_t v24 = (void *)v20;
    id v12 = objc_msgSend(v17, "localizedStringWithFormat:", v20, a5);
  }
  else
  {
LABEL_16:
    id v12 = 0;
  }
LABEL_17:
  return v12;
}

BOOL _HasUploadActivityInLastSeconds(double a1)
{
  id v2 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
  [v2 doubleForKey:@"PXCPLUIStatusProviderLastUploadTime"];
  double v4 = v3;

  [MEMORY[0x1E4F1C9C8] timeIntervalSinceReferenceDate];
  return v5 - v4 < a1;
}

void PXCPLUIStatusProviderClearRecentUploadState()
{
  id v0 = [MEMORY[0x1E4F1CB18] standardUserDefaults];
  [v0 removeObjectForKey:@"PXCPLUIStatusProviderLastUploadTime"];
}

uint64_t PXCPLStatusResumeTimeForInterval(double a1)
{
  uint64_t v1 = vcvtad_u64_f64(a1 / 3600.0);
  if (v1 > 11)
  {
    if (v1 != 12)
    {
      if (v1 == 24) {
        return 3;
      }
      return 4;
    }
    return 2;
  }
  else
  {
    if (v1 != 1)
    {
      if (v1 == 4) {
        return 1;
      }
      return 4;
    }
    return 0;
  }
}

void sub_1AB1AF8B4(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, ...)
{
  va_start(va, a11);
  _Block_object_dispose(va, 8);
  _Block_object_dispose((const void *)(v11 - 96), 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__283053(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__283054(uint64_t a1)
{
}

void sub_1AB1B016C(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1B0290(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB1B1C04(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  objc_destroyWeak((id *)(v17 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB1B2B6C(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t _PXSettingsPersistenceIsAvailable()
{
  uint64_t result = PFOSVariantHasInternalUI();
  if (result)
  {
    return PFOSVariantHasInternalDiagnostics();
  }
  return result;
}

id _ReviewActionHandlerForType(void *a1, uint64_t a2)
{
  id v3 = a1;
  if (!v3)
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PTRowActionHandler _ReviewActionHandlerForType(PHPhotoLibrary *__strong, PXStickersReviewType)");
    [v8 handleFailureInFunction:v9, @"PXStickersSettings+UI.m", 22, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  aBlock[0] = MEMORY[0x1E4F143A8];
  aBlock[1] = 3221225472;
  aBlock[2] = ___ReviewActionHandlerForType_block_invoke;
  aBlock[3] = &unk_1E5DD08B0;
  id v11 = v3;
  uint64_t v12 = a2;
  id v4 = v3;
  double v5 = _Block_copy(aBlock);
  int v6 = _Block_copy(v5);

  return v6;
}

void sub_1AB1B96AC(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,id location)
{
}

void sub_1AB1B9828(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 24));
  _Unwind_Resume(a1);
}

void sub_1AB1B9924(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB1B9D50(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, id location)
{
  objc_destroyWeak(v15);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1B9E38(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  _Unwind_Resume(a1);
}

void sub_1AB1BA2AC(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 56));
  _Unwind_Resume(a1);
}

uint64_t __MessagesLibraryCore_block_invoke(uint64_t a1)
{
  uint64_t result = _sl_dlopen();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = result;
  MessagesLibraryCore_frameworkLibrarCGFloat y = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  return result;
}

void MessagesLibrary()
{
  uint64_t v16 = *MEMORY[0x1E4F143B8];
  v7[0] = 0;
  uint64_t v10 = 0;
  id v11 = &v10;
  uint64_t v12 = 0x2020000000;
  uint64_t v0 = MessagesLibraryCore_frameworkLibrary;
  uint64_t v13 = MessagesLibraryCore_frameworkLibrary;
  if (!MessagesLibraryCore_frameworkLibrary)
  {
    v7[1] = (void *)MEMORY[0x1E4F143A8];
    CMTime v7[2] = (void *)3221225472;
    void v7[3] = __MessagesLibraryCore_block_invoke;
    void v7[4] = &unk_1E5DD0D68;
    uint64_t v8 = &v10;
    uint64_t v9 = v7;
    long long v14 = xmmword_1E5DD0D40;
    long long v15 = *(_OWORD *)&off_1E5DD0D50;
    void v11[3] = _sl_dlopen();
    MessagesLibraryCore_frameworkLibrarCGFloat y = *(void *)(v8[1] + 24);
    uint64_t v0 = v11[3];
  }
  _Block_object_dispose(&v10, 8);
  if (!v0)
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"void *MessagesLibrary(void)"];
    id v4 = (void *)v2;
    double v5 = (void *)v2;
    int v6 = (void *)v3;
    objc_msgSend(v4, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXMessagesSoftLinks.m", 12, @"%s", v7[0]);

    __break(1u);
    goto LABEL_7;
  }
  uint64_t v1 = v7[0];
  if (v7[0]) {
LABEL_7:
  }
    free(v1);
}

void sub_1AB1C2EEC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void __getMSMessageClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("MSMessage");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getMSMessageClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"Class getMSMessageClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXMessagesSoftLinks.m", 13, @"Unable to find class %s", "MSMessage");

    __break(1u);
  }
}

void __getMSMessageTemplateLayoutClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("MSMessageTemplateLayout");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getMSMessageTemplateLayoutClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"Class getMSMessageTemplateLayoutClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXMessagesSoftLinks.m", 14, @"Unable to find class %s", "MSMessageTemplateLayout");

    __break(1u);
  }
}

void __getMSMessageLiveLayoutClass_block_invoke(uint64_t a1)
{
  MessagesLibrary();
  *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24) = objc_getClass("MSMessageLiveLayout");
  if (*(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24))
  {
    getMSMessageLiveLayoutClass_softClass = *(void *)(*(void *)(*(void *)(a1 + 32) + 8) + 24);
  }
  else
  {
    uint64_t v2 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v3 = [NSString stringWithUTF8String:"Class getMSMessageLiveLayoutClass(void)_block_invoke"];
    objc_msgSend(v2, "handleFailureInFunction:file:lineNumber:description:", v3, @"PXMessagesSoftLinks.m", 15, @"Unable to find class %s", "MSMessageLiveLayout");

    __break(1u);
  }
}

void sub_1AB1C3428(_Unwind_Exception *a1)
{
  objc_destroyWeak(v1);
  objc_destroyWeak((id *)(v2 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB1C3818(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXImportIdentifierGenerator(void *a1, uint64_t a2)
{
  id v3 = a1;
  id v4 = objc_opt_new();
  double v5 = [v3 uuid];

  [v4 setAssetUuid:v5];
  [v4 setSizeType:a2];
  return v4;
}

uint64_t _PUImageDynamicRangeFromPXImageDynamicRange(uint64_t a1)
{
  if ((unint64_t)(a1 + 1) >= 4)
  {
    id v3 = [MEMORY[0x1E4F28B00] currentHandler];
    id v4 = [NSString stringWithUTF8String:"PUPhotosAssetDebugImageDynamicRange _PUImageDynamicRangeFromPXImageDynamicRange(PXImageDynamicRange)"];
    double v5 = [NSNumber numberWithInteger:a1];
    [v3 handleFailureInFunction:v4, @"PXDisplayAssetView.m", 39, @"Unsupported case: %@", v5 file lineNumber description];

    abort();
  }
  return a1 + 1;
}

void sub_1AB1C6EB0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB1C7600(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, id location)
{
  objc_destroyWeak(v14);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void sub_1AB1CAFCC(_Unwind_Exception *a1)
{
  _Block_object_dispose((const void *)(v1 - 112), 8);
  _Block_object_dispose((const void *)(v1 - 80), 8);
  _Unwind_Resume(a1);
}

void sub_1AB1CE6E0(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, id location)
{
  objc_destroyWeak(v16);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

void _ConfigureSubtitleTextView(void *a1, void *a2, void *a3, void *a4, uint64_t a5, uint64_t a6)
{
  uint64_t v14 = *MEMORY[0x1E4F143B8];
  id v11 = a1;
  id v12 = a3;
  id v13 = a2;
  _PhotoCollectionGlobalFooterSubtitleTextViewAttributes(a5, a6, a4);
}

void _PhotoCollectionGlobalFooterSubtitleTextViewAttributes(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v4 = *MEMORY[0x1E4F143B8];
  id v3 = a3;
  PXFontWithTextStyleSymbolicTraits();
}

void _ConfigurePhotoCollectionGlobalFooterSubtitleTextView(void *a1, uint64_t a2, void *a3)
{
  id v5 = a1;
  _PhotoCollectionGlobalFooterSubtitleTextViewAttributes(a2, 0, a3);
}

void sub_1AB1D1D78(_Unwind_Exception *a1)
{
  objc_destroyWeak((id *)(v1 - 40));
  _Unwind_Resume(a1);
}

void sub_1AB1D2198(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, ...)
{
  va_start(va, a15);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

uint64_t __Block_byref_object_copy__288740(uint64_t result, uint64_t a2)
{
  *(void *)(result + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = *(void *)(a2 + 40);
  *(void *)(a2 + 4PXPreferencesSetValue(@"PromptDateForCameraSharingPreferences", 0) = 0;
  return result;
}

void __Block_byref_object_dispose__288741(uint64_t a1)
{
}

__CFString *PXVideoPlaybackReporterResultDescription(uint64_t a1)
{
  uint64_t v1 = @"Playback Began";
  if (a1 == 2) {
    uint64_t v1 = @"Playback Abandoned";
  }
  if (a1) {
    return v1;
  }
  else {
    return @"Unknown";
  }
}

id PXVideoPlaybackReporterPayloadDescription(void *a1)
{
  id v2 = [NSString alloc];
  unint64_t v3 = a1[2];
  if (v3 > 6) {
    uint64_t v4 = @"??";
  }
  else {
    uint64_t v4 = off_1E5DC9228[v3];
  }
  id v5 = v4;
  int v6 = v5;
  uint64_t v7 = a1[3];
  uint64_t v8 = @"Playback Began";
  if (v7 == 2) {
    uint64_t v8 = @"Playback Abandoned";
  }
  if (v7) {
    uint64_t v9 = v8;
  }
  else {
    uint64_t v9 = @"Unknown";
  }
  uint64_t v10 = (void *)[v2 initWithFormat:@"<PXVideoPlaybackReporterPayload: priority: %@, timeToAssetCreation: %ld, timeToResult: %ld, result: %@>", v5, a1[1], *a1, v9];

  return v10;
}

void sub_1AB1D5590(_Unwind_Exception *a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,uint64_t a24,uint64_t a25,id location)
{
  objc_destroyWeak(v27);
  objc_destroyWeak(v26);
  objc_destroyWeak(&location);
  _Unwind_Resume(a1);
}

id PXSharedLibrarySharingSuggestionsPhotosViewConfigurationWithSuggestionPromise(void *a1)
{
  id v1 = a1;
  if (!v1)
  {
    int v6 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v7 = [NSString stringWithUTF8String:"PXPhotosViewConfiguration * _Nonnull PXSharedLibrarySharingSuggestionsPhotosViewConfigurationWithSuggestionPromise(PXSharedLibrarySharingSuggestionPromise *__strong _Nonnull)"];
    [v6 handleFailureInFunction:v7, @"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m", 41, @"Invalid parameter not satisfying: %@", @"suggestionPromise" file lineNumber description];
  }
  id v2 = [v1 fetchAssetCollections];
  unint64_t v3 = [v1 containerCollection];
  uint64_t v4 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v2, 0, v3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
  _ConfigureCommonOptions(v4);

  return v4;
}

void _ConfigureCommonOptions(void *a1)
{
  id v1 = a1;
  id v4 = v1;
  if (!v1)
  {
    id v2 = [MEMORY[0x1E4F28B00] currentHandler];
    unint64_t v3 = [NSString stringWithUTF8String:"void _ConfigureCommonOptions(PXPhotosViewConfiguration *__strong)"];
    [v2 handleFailureInFunction:v3, @"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m", 23, @"Invalid parameter not satisfying: %@", @"configuration" file lineNumber description];

    id v1 = 0;
  }
  objc_msgSend(v4, "setAllowedActions:", objc_msgSend(v1, "allowedActions") | 0x4000031);
  objc_msgSend(v4, "setAllowedActions:", objc_msgSend(v4, "allowedActions") & 0xFFFFFFFFFEFFFFFFLL);
  objc_msgSend(v4, "setAllowedBehaviors:", objc_msgSend(v4, "allowedBehaviors") | 0x20);
  [v4 setOneUpPresentationOrigin:46];
  [v4 setSectionHeaderStyle:5];
}

id PXSharedLibrarySharingSuggestionsSeeAllPhotosViewConfiguration(void *a1, char a2)
{
  id v3 = a1;
  if (!v3)
  {
    uint64_t v8 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v9 = objc_msgSend(NSString, "stringWithUTF8String:", "PXPhotosViewConfiguration * _Nonnull PXSharedLibrarySharingSuggestionsSeeAllPhotosViewConfiguration(PHPhotoLibrary *__strong _Nonnull, BOOL)");
    [v8 handleFailureInFunction:v9, @"PXSharedLibrarySharingSuggestionsFeedActionPerformer.m", 49, @"Invalid parameter not satisfying: %@", @"photoLibrary" file lineNumber description];
  }
  id v4 = [v3 librarySpecificFetchOptions];
  [v4 setIncludeSharedLibrarySharingSuggestionsSmartAlbum:1];
  id v5 = [MEMORY[0x1E4F38EE8] fetchAssetCollectionsWithType:2 subtype:1000000214 options:v4];
  int v6 = _PXPhotosViewConfigurationForAssetCollectionFetchResultIgnoreSharedLibrary(v5, 0, 0, 0, 0, 0, 0, 0, 0, 0, a2, 0, 0);
  [v6 setTitle:&stru_1F00B0030];
  [v6 setIgnoreFilterPredicateAssert:1];
  _ConfigureCommonOptions(v6);

  return v6;
}

void sub_1AB1DA8B0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, ...)
{
  va_start(va1, a10);
  va_start(va, a10);
  uint64_t v13 = va_arg(va1, void);
  uint64_t v15 = va_arg(va1, void);
  uint64_t v16 = va_arg(va1, void);
  uint64_t v17 = va_arg(va1, void);
  _Block_object_dispose(va, 8);
  objc_destroyWeak(v10);
  _Block_object_dispose(va1, 8);
  objc_destroyWeak((id *)(v11 - 88));
  _Unwind_Resume(a1);
}

uint64_t PXContentSyndicationReviewDecorationEligibilityForAssetReference(void *a1)
{
  id v1 = a1;
  id v2 = +[PXContentSyndicationSettings sharedInstance];
  int v3 = [v2 useRandomStatusForReview];

  if (v3)
  {
    uint64_t v4 = arc4random_uniform(9u);
  }
  else
  {
    id v5 = [v1 asset];
    objc_opt_class();
    if ((objc_opt_isKindOfClass() & 1) != 0
      && (uint64_t v6 = [v5 syndicationEligibility], (unint64_t)(v6 + 6) <= 8))
    {
      uint64_t v4 = qword_1AB35D000[v6 + 6];
    }
    else
    {
      uint64_t v4 = 0;
    }
  }
  return v4;
}

uint64_t PXExternalAssetReviewDecorationEligibilityForAssetReference(void *a1)
{
  id v1 = [a1 asset];
  objc_opt_class();
  if ((objc_opt_isKindOfClass() & 1) != 0
    && (uint64_t v2 = [MEMORY[0x1E4F8E7E0] externalAssetEligibilityForAsset:v1], (unint64_t)(v2 + 4) <= 6))
  {
    uint64_t v3 = qword_1AB35D048[v2 + 4];
  }
  else
  {
    uint64_t v3 = 0;
  }

  return v3;
}

id PXContentSyndicationReviewDecorationImageForSyndicationEligibility(uint64_t a1)
{
  switch(a1)
  {
    case 0:
      if (_UnknownImage_predicate != -1) {
        dispatch_once(&_UnknownImage_predicate, &__block_literal_global_290310);
      }
      id v1 = &_UnknownImage__image;
      goto LABEL_30;
    case 1:
      if (_ResourcesUnavailableImage_predicate != -1) {
        dispatch_once(&_ResourcesUnavailableImage_predicate, &__block_literal_global_42_290311);
      }
      id v1 = &_ResourcesUnavailableImage__image;
      goto LABEL_30;
    case 2:
      if (_SyndicationStateIncompatible_predicate != -1) {
        dispatch_once(&_SyndicationStateIncompatible_predicate, &__block_literal_global_47);
      }
      id v1 = &_SyndicationStateIncompatible__image;
      goto LABEL_30;
    case 3:
      if (_NotProcessedImage_predicate != -1) {
        dispatch_once(&_NotProcessedImage_predicate, &__block_literal_global_52_290312);
      }
      id v1 = &_NotProcessedImage__image;
      goto LABEL_30;
    case 4:
      if (_NotComputedImage_predicate != -1) {
        dispatch_once(&_NotComputedImage_predicate, &__block_literal_global_57);
      }
      id v1 = &_NotComputedImage__image;
      goto LABEL_30;
    case 5:
      if (_NotInferredImage_predicate != -1) {
        dispatch_once(&_NotInferredImage_predicate, &__block_literal_global_62_290313);
      }
      id v1 = &_NotInferredImage__image;
      goto LABEL_30;
    case 6:
      if (_NotEligibleImage_predicate != -1) {
        dispatch_once(&_NotEligibleImage_predicate, &__block_literal_global_67);
      }
      id v1 = &_NotEligibleImage__image;
      goto LABEL_30;
    case 7:
      if (_EligibleImage_predicate != -1) {
        dispatch_once(&_EligibleImage_predicate, &__block_literal_global_72_290314);
      }
      id v1 = &_EligibleImage__image;
      goto LABEL_30;
    case 8:
      if (_GuestImage_predicate != -1) {
        dispatch_once(&_GuestImage_predicate, &__block_literal_global_77);
      }
      id v1 = &_GuestImage__image;
LABEL_30:
      id v2 = (id)*v1;
      break;
    case 9:
      uint64_t v4 = [MEMORY[0x1E4F28B00] currentHandler];
      id v5 = [NSString stringWithUTF8String:"UIImage * _Nonnull PXContentSyndicationReviewDecorationImageForSyndicationEligibility(PXContentSyndicationReviewDecorationEligibility)"];
      [v4 handleFailureInFunction:v5 file:@"PXContentSyndicationReviewDecorationUtilities.m" lineNumber:245 description:@"Code which should be unreachable has been reached"];

      abort();
    default:
      id v2 = 0;
      break;
  }
  return v2;
}

id _ImageWithSymbolName(uint64_t a1, void *a2)
{
  uint64_t v3 = (void *)MEMORY[0x1E4FB1818];
  id v4 = a2;
  id v5 = [v3 systemImageNamed:a1];
  uint64_t v6 = [MEMORY[0x1E4FB1618] whiteColor];
  uint64_t v7 = objc_msgSend(v5, "px_tintedCircularImageWithColor:backgroundColor:", v6, v4);

  return v7;
}

double PXContentSyndicationReviewDecorationImageFrameForViewBounds(int a1, double a2, double a3, double a4, double a5)
{
  if (a4 >= a5) {
    double v5 = a5;
  }
  else {
    double v5 = a4;
  }
  double v6 = v5 * 0.2;
  double v7 = v5 * 0.05;
  double v8 = a4 - v5 * 0.05 - v5 * 0.2;
  if (!a1) {
    double v8 = v7;
  }
  double v9 = v6;
  *(void *)&double result = (unint64_t)CGRectIntegral(*(CGRect *)&v8);
  return result;
}

id PXStoryDiagnosticDescriptionForAllHUDTypes(void *a1, uint64_t a2)
{
  id v3 = a1;
  id v4 = +[PXStorySettings sharedInstance];
  unsigned int v14 = [v4 useVerboseStyleHUDText];
  uint64_t v15 = v4;
  [v4 setUseVerboseStyleHUDText:a2];
  id v5 = objc_alloc_init(MEMORY[0x1E4F28E78]);
  unint64_t v6 = -1;
  do
  {
    unint64_t v7 = v6 + 1;
    double v8 = [v3 diagnosticHUDContentProviderForType:v6 + 1];
    double v9 = objc_msgSend(v8, "diagnosticTextForHUDType:displaySize:", v6 + 1, 1920.0, 1080.0);

    if (v9)
    {
      uint64_t v10 = @"None";
      if (v6 <= 0x12) {
        uint64_t v10 = off_1E5DC50E0[v6];
      }
      uint64_t v11 = v10;
      [v5 appendFormat:@"=== %@ ===\n", v11];

      [v5 appendString:v9];
      [v5 appendString:@"\n\n"];
    }

    ++v6;
  }
  while (v7 != 19);
  [v15 setUseVerboseStyleHUDText:v14];
  id v12 = (void *)[v5 copy];

  return v12;
}

id PXSharedLibraryLinkMetadataDataRepresentationForInvitationURL(void *a1, void *a2)
{
  id v3 = a1;
  id v4 = a2;
  id v5 = v3;
  id v6 = v4;
  if (!v5)
  {
    uint64_t v13 = [MEMORY[0x1E4F28B00] currentHandler];
    unsigned int v14 = objc_msgSend(NSString, "stringWithUTF8String:", "LPLinkMetadata *_LinkMetadataForInvitationURL(NSURL *__strong, NSString *__strong)");
    [v13 handleFailureInFunction:v14, @"PXSharedLibraryComposeMessageActionPerformer.m", 23, @"Invalid parameter not satisfying: %@", @"invitationURL" file lineNumber description];
  }
  if (![v6 length])
  {
    uint64_t v15 = [MEMORY[0x1E4F28B00] currentHandler];
    uint64_t v16 = objc_msgSend(NSString, "stringWithUTF8String:", "LPLinkMetadata *_LinkMetadataForInvitationURL(NSURL *__strong, NSString *__strong)");
    [v15 handleFailureInFunction:v16, @"PXSharedLibraryComposeMessageActionPerformer.m", 24, @"Invalid parameter not satisfying: %@", @"displayName.length" file lineNumber description];
  }
  id v7 = objc_alloc_init(MEMORY[0x1E4F309F0]);
  double v8 = PXLocalizedSharedLibraryString(@"PXSharedLibraryInvitationMessage");
  double v9 = PXLocalizedStringWithValidatedFormat(v8, @"%@");
  objc_msgSend(v7, "setValue:forKey:", v9, @"message", v6);
  id v10 = objc_alloc_init(MEMORY[0x1E4F30A78]);
  [v10 setURL:v5];
  [v10 setSpecialization:v7];

  uint64_t v11 = [v10 dataRepresentation];

  return v11;
}

void sub_1AB1DF2F0(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, ...)
{
  va_start(va, a7);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB1DF4D0(_Unwind_Exception *exception_object, int a2, int a3, int a4, int a5, int a6, int a7, int a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14, uint64_t a15, uint64_t a16, uint64_t a17, uint64_t a18, uint64_t a19, uint64_t a20,uint64_t a21,uint64_t a22,uint64_t a23,char a24)
{
}

void sub_1AB1DF5FC(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

void sub_1AB1DF9A8(_Unwind_Exception *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, ...)
{
  va_start(va, a9);
  _Block_object_dispose(va, 8);
  _Unwind_Resume(a1);
}

id PXPhotoKitLocalizedTitleForEmptyCollectionListFetchResult(void *a1, char a2)
{
  id v3 = a1;
  id v4 = [v3 firstObject];
  uint64_t v5 = [v3 count];

  if (v5 == 1)
  {
    if ([v4 canContainAssets]) {
      id v6 = v4;
    }
    else {
      id v6 = 0;
    }
  }
  else
  {
    id v6 = 0;
  }
  id v7 = v6;
  if (v4)
  {
    double v8 = [v4 photoLibrary];
    double v9 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v8];

    id v10 = _libraryViewMode(v9);
    LODWORD(v1PXPreferencesToggleBool(@"VideoLoopingEnabled", 1) = [v9 hasSharedLibraryOrPreview];

    uint64_t v11 = v11;
  }
  else
  {
    uint64_t v11 = 0;
    id v10 = 0;
  }
  if ([v7 assetCollectionSubtype] == 100)
  {
    id v12 = @"EMPTY_MY_PHOTO_STREAM_TITLE";
  }
  else
  {
    uint64_t v13 = [v7 assetCollectionSubtype];
    BOOL v14 = v13 == 211;
    if (v13 == 211) {
      id v12 = @"EMPTY_SMART_COLLECTION_SCREENSHOTS_TITLE";
    }
    else {
      id v12 = @"EMPTY_FOLDER_TITLE";
    }
    if (!v14 && (a2 & 1) == 0)
    {
      if (_IsFilteredDuplicatesAlbum(v4, v10 != 0, v11)) {
        id v12 = @"DUPLICATES_ALBUM_NOT_AVAILABLE_TITLE";
      }
      else {
        id v12 = @"NO_PHOTOS_OR_VIDEOS";
      }
    }
  }
  uint64_t v15 = PXLocalizedStringFromTable(v12, @"PhotosUICore");

  return v15;
}

void *_libraryViewMode(void *result)
{
  if (result)
  {
    id v1 = result;
    id v2 = [[PXLibraryFilterState alloc] initWithSharedLibraryStatusProvider:v1];

    uint64_t v3 = [(PXLibraryFilterState *)v2 viewMode];
    return (void *)v3;
  }
  return result;
}

uint64_t _IsFilteredDuplicatesAlbum(void *a1, unsigned int a2, uint64_t a3)
{
  id v5 = a1;
  objc_opt_class();
  if (objc_opt_isKindOfClass())
  {
    uint64_t v6 = [v5 assetCollectionSubtype];
    if (a3) {
      unsigned int v7 = a2;
    }
    else {
      unsigned int v7 = 0;
    }
    if (v6 == 1000000601) {
      uint64_t v8 = v7;
    }
    else {
      uint64_t v8 = 0;
    }
  }
  else
  {
    uint64_t v8 = 0;
  }

  return v8;
}

id _PXEmptyPlaceholderMessageAttributes()
{
  void v11[3] = *MEMORY[0x1E4F143B8];
  uint64_t v0 = [MEMORY[0x1E4FB1658] emptyConfiguration];
  id v1 = [MEMORY[0x1E4FB1618] lightGrayColor];
  id v2 = [v0 secondaryTextProperties];
  [v2 setColor:v1];

  uint64_t v3 = [v0 secondaryTextProperties];
  id v4 = [MEMORY[0x1E4FB0850] defaultParagraphStyle];
  id v5 = (void *)[v4 mutableCopy];

  [v5 setAlignment:1];
  objc_msgSend(v5, "setLineBreakMode:", objc_msgSend(v3, "lineBreakMode"));
  v10[0] = *MEMORY[0x1E4FB06F8];
  uint64_t v6 = [v3 font];
  v11[0] = v6;
  v10[1] = *MEMORY[0x1E4FB0700];
  unsigned int v7 = [v3 color];
  void v10[2] = *MEMORY[0x1E4FB0738];
  v11[1] = v7;
  void v11[2] = v5;
  uint64_t v8 = [MEMORY[0x1E4F1C9E8] dictionaryWithObjects:v11 forKeys:v10 count:3];

  return v8;
}

id _PXEmptyPlaceholderAttributedMessageFromString(void *a1)
{
  id v1 = (objc_class *)MEMORY[0x1E4F28B18];
  id v2 = a1;
  id v3 = [v1 alloc];
  id v4 = _PXEmptyPlaceholderMessageAttributes();
  id v5 = (void *)[v3 initWithString:v2 attributes:v4];

  return v5;
}

id PXPhotoKitLocalizedMessageForEmptyCollectionListFetchResult(void *a1, int a2)
{
  id v3 = a1;
  id v4 = [v3 firstObject];
  if ([v3 count] == 1)
  {
    if ([v4 canContainAssets]) {
      id v5 = v4;
    }
    else {
      id v5 = 0;
    }
  }
  else
  {
    id v5 = 0;
  }
  id v6 = v5;
  uint64_t v7 = [v6 assetCollectionSubtype];
  if (v4)
  {
    uint64_t v8 = [v4 photoLibrary];
    double v9 = +[PXSharedLibraryStatusProvider sharedLibraryStatusProviderWithPhotoLibrary:v8];
    unsigned int v10 = [v9 hasSharedLibraryOrPreview];
    uint64_t v11 = _libraryViewMode(v9);

    if (v8) {
      goto LABEL_11;
    }
  }
  else
  {
    unsigned int v10 = 0;
    uint64_t v11 = 0;
  }
  uint64_t v8 = [v3 photoLibrary];
LABEL_11:
  if (v7 == 100)
  {
    if (MGGetBoolAnswer()) {
      id v12 = @"EMPTY_MY_PHOTO_STREAM_MESSAGE_WLAN";
    }
    else {
      id v12 = @"EMPTY_MY_PHOTO_STREAM_MESSAGE_WIFI";
    }
    goto LABEL_17;
  }
  if (a2)
  {
    id v12 = @"EMPTY_FOLDER_MESSAGE";
LABEL_17:
    PXLocalizedStringFromTable(v12, @"PhotosUICore");
    uint64_t v13 = (__CFString *)objc_claimAutoreleasedReturnValue();
    BOOL v14 = _PXEmptyPlaceholderAttributedMessageFromString(v13);
    goto LABEL_18;
  }
  if ((PLIsSpotlight() & 1) != 0
    || !v8
    || ([v8 isCloudPhotoLibraryEnabled] & 1) != 0
    || v7 == 1000000201)
  {
    if (_IsFilteredDuplicatesAlbum(v4, v10, (uint64_t)v11))
    {
      long long v21 = _PXEmptyPlaceholderMessageAttributes();
      BOOL v14 = PXSharedLibraryDuplicatesAlbumNotAvailableMessageForViewMode((uint64_t)v11, v21);

      uint64_t v13 = 0;
    }
    else
    {
      uint64_t v13 = &stru_1F00B0030;
      BOOL v14 = _PXEmptyPlaceholderAttributedMessageFromString(&stru_1F00B0030);
      if (v7 == 101) {
        unsigned int v22 = 0;
      }
      else {
        unsigned int v22 = v10;
      }
      if (v22 == 1 && v11)
      {
        uint64_t v23 = _PXEmptyPlaceholderMessageAttributes();
        uint64_t v24 = PXSharedLibraryEmptyAlbumMessageForViewMode((uint64_t)v11, v23);

        BOOL v14 = (void *)v24;
      }
    }
  }
  else
  {
    int v16 = MGGetBoolAnswer();
    uint64_t v17 = [MEMORY[0x1E4FB16C8] currentDevice];
    uint64_t v18 = [v17 model];

    if (v16) {
      uint64_t v19 = @"EMPTY_ALBUM_LIST_MESSAGE_";
    }
    else {
      uint64_t v19 = @"EMPTY_ALBUM_LIST_NO_CAMERA_MESSAGE_";
    }
    uint64_t v20 = [(__CFString *)v19 stringByAppendingString:v18];
    PXLocalizedStringFromTable(v20, @"PhotosUICore");
    uint64_t v13 = (__CFString *)objc_claimAutoreleasedReturnValue();
    BOOL v14 = _PXEmptyPlaceholderAttributedMessageFromString(v13);
  }
LABEL_18:

  return v14;
}