__n128 sub_1002E2510()
{
  __n128 result;

  __asm { FMOV            V0.2D, #-8.0 }
  xmmword_1009E2300 = (__int128)result;
  *(__n128 *)&qword_1009E2310 = result;
  return result;
}

double sub_1002E2524()
{
  double result = -8.0;
  xmmword_1009E2320 = xmmword_1007CF4D0;
  *(_OWORD *)&qword_1009E2330 = xmmword_1007CF4D0;
  return result;
}

__n128 sub_1002E253C()
{
  __asm { FMOV            V0.2D, #-5.0 }
  xmmword_1009E2340 = (__int128)result;
  *(__n128 *)&qword_1009E2350 = result;
  return result;
}

uint64_t sub_1002E2550()
{
  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for SearchAdItemSupplementaryProvider()
{
  return self;
}

unsigned char *storeEnumTagSinglePayload for AdPage(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 3 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 3) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFD) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFC)
  {
    unsigned int v6 = ((a2 - 253) >> 8) + 1;
    *__n128 result = a2 + 3;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x1002E2650);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *__n128 result = a2 + 3;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for AdPage()
{
  return &type metadata for AdPage;
}

unint64_t sub_1002E268C()
{
  unint64_t result = qword_10098E698;
  if (!qword_10098E698)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E698);
  }
  return result;
}

double sub_1002E26E4@<D0>(uint64_t a1@<X8>)
{
  type metadata accessor for AdBackgroundView();
  if (static UICollectionReusableView.matchesItemElementKind(_:)())
  {
    swift_bridgeObjectRetain();
    static UICollectionReusableView.defaultReuseIdentifier.getter();
    *(void *)(a1 + 24) = sub_100082C28(&qword_10098E6A0);
    *(void *)(a1 + 32) = sub_1002E27B0();
    sub_1000808B8((uint64_t *)a1);
    ReusableSupplementaryRegistration.init(elementKind:reuseIdentifier:configurationHandler:)();
  }
  else
  {
    *(void *)(a1 + 32) = 0;
    double result = 0.0;
    *(_OWORD *)a1 = 0u;
    *(_OWORD *)(a1 + 16) = 0u;
  }
  return result;
}

unint64_t sub_1002E27B0()
{
  unint64_t result = qword_10098E6A8;
  if (!qword_10098E6A8)
  {
    sub_100078F30(&qword_10098E6A0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E6A8);
  }
  return result;
}

double sub_1002E280C()
{
  uint64_t v0 = type metadata accessor for PageGrid();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  int v3 = (char *)&v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  PageGrid.columnCount.getter();
  double v5 = v4;
  PageGrid.interRowSpace.getter();
  double v7 = v6;
  if (v5 <= 1.0)
  {
    PageGrid.horizontalMargins.getter();
    PageGrid.interRowSpace.getter();
    PageGrid.horizontalMargins.getter();
  }
  else
  {
    PageGrid.interColumnSpace.getter();
    PageGrid.interRowSpace.getter();
    PageGrid.interColumnSpace.getter();
  }
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return v7 * -0.5;
}

unint64_t sub_1002E2990()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_100984578);
  __chkstk_darwin(v2 - 8);
  double v4 = (char *)&v36 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for ItemBackground();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  v8 = (char *)&v36 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  v11 = (char *)&v36 - v10;
  unint64_t v40 = (unint64_t)_swiftEmptyArrayStorage;
  sub_100082C28(&qword_100984588);
  ItemLayoutContext.typedModel<A>(as:)();
  if (!v39)
  {
    sub_100082BCC((uint64_t)v38, &qword_100984580);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v6 + 56))(v4, 1, 1, v5);
    goto LABEL_9;
  }
  sub_100081D90(v38, v39);
  dispatch thunk of ItemBackgroundProviding.itemBackground.getter();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v38);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) == 1)
  {
LABEL_9:
    sub_100082BCC((uint64_t)v4, &qword_100984578);
    return v40;
  }
  (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v11, v4, v5);
  (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v8, v11, v5);
  int v12 = (*(uint64_t (**)(char *, uint64_t))(v6 + 88))(v8, v5);
  v13 = *(void (**)(char *, uint64_t))(v6 + 8);
  if (v12 == enum case for ItemBackground.ad(_:))
  {
    v37 = *(void (**)(char *, uint64_t))(v6 + 8);
    v13(v8, v5);
    id v14 = [self layoutAnchorWithEdges:3];
    v15 = self;
    id v16 = [v15 fractionalWidthDimension:1.0];
    id v17 = [v15 fractionalHeightDimension:1.0];
    id v18 = [self sizeWithWidthDimension:v16 heightDimension:v17];

    type metadata accessor for AdBackgroundView();
    id v19 = v18;
    static UICollectionReusableView.makeItemScopedElementKind(in:uniquify:)();
    id v20 = v14;
    NSString v21 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    id v22 = [self supplementaryItemWithLayoutSize:v19 elementKind:v21 containerAnchor:v20];

    switch(*(unsigned char *)(v1 + 16))
    {
      case 1:
        uint64_t v27 = qword_10097E8B8;
        id v28 = v22;
        if (v27 != -1) {
          swift_once();
        }
        v25 = &xmmword_1009E2320;
        goto LABEL_19;
      case 2:
        id v29 = v22;
        double v30 = sub_1002E280C();
        goto LABEL_20;
      case 3:
        uint64_t v34 = qword_10097E8C0;
        id v35 = v22;
        if (v34 != -1) {
          swift_once();
        }
        v25 = &xmmword_1009E2340;
        goto LABEL_19;
      default:
        uint64_t v23 = qword_10097E8B0;
        id v24 = v22;
        if (v23 != -1) {
          swift_once();
        }
        v25 = &xmmword_1009E2300;
LABEL_19:
        double v30 = *(double *)v25;
        double v31 = *((double *)v25 + 1);
        double v32 = *((double *)v25 + 2);
        double v33 = *((double *)v25 + 3);
LABEL_20:
        [v22 setContentInsets:v30, v31, v32, v33];

        [v22 setZIndex:-1];
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((v40 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v40 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();
        v37(v11, v5);
        break;
    }
  }
  else
  {
    v13(v11, v5);
    v13(v8, v5);
  }
  return v40;
}

void sub_1002E2F04(unsigned char *a1@<X8>)
{
  *a1 = 2;
}

uint64_t sub_1002E2F10(unsigned __int8 *a1, unsigned __int8 *a2)
{
  int v2 = *a1;
  char v3 = v2 == 2;
  int v4 = *a2;
  if (v4 != 2) {
    char v3 = 0;
  }
  if (v2 != 2 && v4 != 2) {
    char v3 = ((v2 & 1) == 0) ^ v4;
  }
  return v3 & 1;
}

uint64_t sub_1002E2F48(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  v54[0] = a3;
  uint64_t v9 = sub_100082C28(&qword_10098E710);
  *(void *)&double v10 = __chkstk_darwin(v9 - 8).n128_u64[0];
  int v12 = (char *)v54 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  [v6 bounds];
  double v14 = v13;
  type metadata accessor for ProductDescriptionCollectionViewCell();
  sub_100195BF0(a1, 0, a6);
  double v16 = v15;
  v54[1] = a1;
  uint64_t v17 = ProductDescription.paragraph.getter();
  sub_100082C28(&qword_1009874C8);
  sub_1001A0FDC();
  WritableStateLens<A>.currentValue.getter();
  if (aBlock == 2)
  {
    char v18 = Paragraph.isCollapsed.getter();
    v55 = v6;
    uint64_t v56 = v17;
    if ((v18 & 1) == 0)
    {
LABEL_8:
      uint64_t v34 = (void *)Paragraph.text.getter();
      id v35 = [a6 traitCollection];
      id v36 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v34];
      id v37 = [v34 length];
      uint64_t v38 = swift_allocObject();
      *(void *)(v38 + 16) = 0;
      *(void *)(v38 + 24) = v35;
      *(void *)(v38 + 32) = v36;
      *(unsigned char *)(v38 + 40) = 1;
      uint64_t v39 = swift_allocObject();
      *(void *)(v39 + 16) = sub_100165B8C;
      *(void *)(v39 + 24) = v38;
      v61 = sub_100165BAC;
      uint64_t v62 = v39;
      aBlock = _NSConcreteStackBlock;
      uint64_t v58 = 1107296256;
      v59 = sub_100687488;
      v60 = &unk_1008C52D0;
      unint64_t v40 = _Block_copy(&aBlock);
      id v41 = v35;
      id v42 = v36;
      swift_retain();
      swift_release();
      [v34 enumerateAttributesInRange:0 options:0x100000 usingBlock:v40];
      _Block_release(v40);
      LOBYTE(v40) = swift_isEscapingClosureAtFileLocation();

      swift_release();
      uint64_t result = swift_release();
      if ((v40 & 1) == 0)
      {
        id v29 = v55;
        id v30 = v42;
        Paragraph.alignment.getter();
        uint64_t v43 = type metadata accessor for Paragraph.Alignment();
        (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v43 - 8) + 56))(v12, 0, 1, v43);
        double v32 = v42;
        char v33 = 0;
        goto LABEL_10;
      }
LABEL_17:
      __break(1u);
      return result;
    }
  }
  else
  {
    v55 = v6;
    uint64_t v56 = v17;
    if ((aBlock & 1) == 0) {
      goto LABEL_8;
    }
  }
  if (v14 >= v16) {
    goto LABEL_8;
  }
  id v19 = (void *)Paragraph.collapsedText.getter();
  id v20 = [a6 traitCollection];
  id v21 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v19];
  id v22 = [v19 length];
  uint64_t v23 = swift_allocObject();
  *(void *)(v23 + 16) = 0;
  *(void *)(v23 + 24) = v20;
  *(void *)(v23 + 32) = v21;
  *(unsigned char *)(v23 + 40) = 1;
  uint64_t v24 = swift_allocObject();
  *(void *)(v24 + 16) = sub_1001924C0;
  *(void *)(v24 + 24) = v23;
  v61 = sub_1001924C4;
  uint64_t v62 = v24;
  aBlock = _NSConcreteStackBlock;
  uint64_t v58 = 1107296256;
  v59 = sub_100687488;
  v60 = &unk_1008C5370;
  v25 = _Block_copy(&aBlock);
  id v26 = v20;
  id v27 = v21;
  swift_retain();
  swift_release();
  [v19 enumerateAttributesInRange:0 options:0x100000 usingBlock:v25];
  _Block_release(v25);
  LOBYTE(v25) = swift_isEscapingClosureAtFileLocation();

  swift_release();
  uint64_t result = swift_release();
  if (v25)
  {
    __break(1u);
    goto LABEL_17;
  }
  id v29 = v55;
  id v30 = v27;
  Paragraph.alignment.getter();
  uint64_t v31 = type metadata accessor for Paragraph.Alignment();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v31 - 8) + 56))(v12, 0, 1, v31);
  double v32 = v27;
  char v33 = 1;
LABEL_10:
  sub_1005C7B74(v32, v33, 0, (uint64_t)v12);

  sub_100082BCC((uint64_t)v12, &qword_10098E710);
  uint64_t v44 = ProductDescription.developerAction.getter();
  if (v44)
  {
    uint64_t v45 = v44;
    v46 = *(char **)&v29[OBJC_IVAR____TtC8AppStore36ProductDescriptionCollectionViewCell_developerLinkView];
    Action.title.getter();
    uint64_t v48 = v47;
    uint64_t v49 = swift_allocObject();
    *(void *)(v49 + 16) = v54[0];
    *(void *)(v49 + 24) = v45;
    v50 = *(void **)&v46[OBJC_IVAR____TtC8AppStore17DeveloperLinkView_primaryLabel];
    swift_retain();
    swift_retain();
    if (v48) {
      NSString v51 = String._bridgeToObjectiveC()();
    }
    else {
      NSString v51 = 0;
    }
    [v50 setText:v51, v54[0]];

    v52 = (uint64_t (**)())&v46[OBJC_IVAR____TtC8AppStore17DeveloperLinkView_tapHandler];
    uint64_t v53 = *(void *)&v46[OBJC_IVAR____TtC8AppStore17DeveloperLinkView_tapHandler];
    *v52 = sub_1002E3E24;
    v52[1] = (uint64_t (*)())v49;
    swift_retain();
    sub_10006012C(v53);
    [v46 setNeedsLayout];
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
  }
  [v29 setNeedsLayout:v54[0]];
  return swift_release();
}

uint64_t sub_1002E361C(uint64_t a1, uint64_t a2)
{
  uint64_t v29 = a2;
  uint64_t v2 = type metadata accessor for Dependency();
  uint64_t v28 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  v25 = (char *)&v23 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for MetricsFieldsContext();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v23 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  double v10 = (char *)&v23 - v9;
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v26 = *(void *)(v11 - 8);
  uint64_t v27 = v11;
  __chkstk_darwin(v11);
  double v13 = (char *)&v23 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v14 - 8);
  double v16 = (char *)&v23 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  ObjectGraph.actionDispatcher.getter();
  uint64_t v17 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v18 = *(void *)(v17 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v18 + 48))(v16, 1, v17) == 1) {
    return sub_100082BCC((uint64_t)v16, &qword_1009875B0);
  }
  v30[3] = type metadata accessor for Action();
  v30[4] = sub_1002E3E40((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
  uint64_t v23 = v2;
  v30[0] = v29;
  swift_retain_n();
  uint64_t v24 = v18;
  sub_1005365D0();
  (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v10, v4);
  id v20 = v25;
  Dependency.init<A>(satisfying:with:)();
  dispatch thunk of BaseObjectGraph.adding(dependency:)();
  (*(void (**)(char *, uint64_t))(v28 + 8))(v20, v23);
  (*(void (**)(char *, char *, uint64_t))(v5 + 32))(v13, v10, v4);
  uint64_t v22 = v26;
  uint64_t v21 = v27;
  (*(void (**)(char *, void, uint64_t))(v26 + 104))(v13, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v27);
  ActionDispatcher.perform(_:withMetrics:asPartOf:)();
  swift_release();
  (*(void (**)(char *, uint64_t))(v22 + 8))(v13, v21);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  swift_release();
  swift_release();
  return (*(uint64_t (**)(char *, uint64_t))(v24 + 8))(v16, v17);
}

uint64_t sub_1002E3A4C(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v7 = *a1;
  sub_100082C28(&qword_10098E718);
  sub_1001A0FDC();
  StateLens<A>.currentValue.getter();
  if (v10 == 2)
  {
    ProductDescription.paragraph.getter();
    char v8 = Paragraph.isCollapsed.getter();
    swift_release();
  }
  else
  {
    char v8 = v10 & 1;
  }
  return sub_100195BF0(v7, v8 & 1, a6);
}

uint64_t sub_1002E3B14(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_1002E2F48(*a1, a2, a3, a4, a5, a6);
}

uint64_t sub_1002E3B1C()
{
  return 3;
}

uint64_t sub_1002E3B8C()
{
  uint64_t v0 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097FC30 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100087728(v4, (uint64_t)qword_1009E5D90);
  static Dimensions.defaultRoundingRule.getter();
  AnyDimension.value(in:rounded:)();
  uint64_t v6 = v5;
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return v6;
}

uint64_t sub_1002E3CD4()
{
  return sub_1002E3E40(&qword_10098E6B0, (void (*)(uint64_t))&type metadata accessor for ProductDescription);
}

unint64_t sub_1002E3D24()
{
  unint64_t result = qword_10098E700;
  if (!qword_10098E700)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E700);
  }
  return result;
}

unint64_t sub_1002E3D7C()
{
  unint64_t result = qword_10098E708;
  if (!qword_10098E708)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E708);
  }
  return result;
}

uint64_t sub_1002E3DD4()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1002E3DE4()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1002E3E24()
{
  return sub_1002E361C(*(void *)(v0 + 16), *(void *)(v0 + 24));
}

uint64_t sub_1002E3E30()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1002E3E40(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t _s14descr1008B2EF1V5StateVwet(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFE) {
    goto LABEL_17;
  }
  if (a2 + 2 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 2) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 2;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 2;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 2;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  if (v6 >= 2) {
    int v7 = ((v6 + 2147483646) & 0x7FFFFFFF) - 1;
  }
  else {
    int v7 = -2;
  }
  if (v7 < 0) {
    int v7 = -1;
  }
  return (v7 + 1);
}

unsigned char *_s14descr1008B2EF1V5StateVwst(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x1002E4000);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *_s14descr1008B2EF1V5StateVMa()
{
  return &_s14descr1008B2EF1V5StateVN;
}

uint64_t sub_1002E4040@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v4 = type metadata accessor for IndexPath();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  int v7 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for FlowPreviewDestination.ContentType();
  __chkstk_darwin(v8 - 8);
  uint64_t v39 = (uint64_t)&v38 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v42 = type metadata accessor for FlowPage();
  uint64_t v41 = *(void *)(v42 - 8);
  __chkstk_darwin(v42);
  unint64_t v40 = (char *)&v38 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28(&qword_100989CC0);
  __chkstk_darwin(v11 - 8);
  double v13 = (char *)&v38 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  double v16 = (char *)&v38 - v15;
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v18 = (void *)Strong;
    uint64_t v19 = a2;
    uint64_t v43 = a1;
    dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

    uint64_t v20 = sub_100082C28((uint64_t *)&unk_100991050);
    uint64_t v21 = *(void *)(v20 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v21 + 48))(v16, 1, v20) == 1)
    {
      uint64_t v22 = &qword_100989CC0;
      uint64_t v23 = (long long *)v16;
LABEL_11:
      sub_100082BCC((uint64_t)v23, v22);
      a2 = v19;
      goto LABEL_16;
    }
    ReadOnlyLens.value.getter();
    (*(void (**)(char *, uint64_t))(v21 + 8))(v16, v20);
    sub_100081DD4(&v49, (uint64_t)v51);
    sub_100082C6C((uint64_t)v51, (uint64_t)&v47);
    sub_100082C28((uint64_t *)&unk_100983890);
    sub_100082C28(&qword_10098E870);
    if ((swift_dynamicCast() & 1) == 0)
    {
      uint64_t v46 = 0;
      long long v44 = 0u;
      long long v45 = 0u;
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
      uint64_t v22 = (uint64_t *)&unk_10098E878;
      uint64_t v23 = &v44;
      goto LABEL_11;
    }
    sub_100081DD4(&v44, (uint64_t)&v49);
    sub_100081D90(&v49, v50);
    a2 = v19;
    if (dispatch thunk of ClickableModel.clickAction.getter())
    {
      type metadata accessor for FlowAction();
      uint64_t v24 = swift_dynamicCastClass();
      if (v24)
      {
        v25 = v40;
        uint64_t v38 = v24;
        FlowAction.page.getter();
        char v26 = FlowPage.isPreviewingSupported.getter();
        (*(void (**)(char *, uint64_t))(v41 + 8))(v25, v42);
        if ((v26 & 1) == 0)
        {
          _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
          swift_release();
          goto LABEL_15;
        }
        sub_100082C6C((uint64_t)v51, (uint64_t)&v47);
        type metadata accessor for TodayCard();
        if ((swift_dynamicCast() & 1) == 0)
        {
          sub_100081D90(&v49, v50);
          swift_retain();
          dispatch thunk of ClickableModel.clickSender.getter();
          sub_1002E4924((uint64_t)v51, v39);
          FlowPreviewDestination.init(flowAction:sender:contentType:)();
          swift_release();
          _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
          uint64_t v37 = type metadata accessor for FlowPreviewDestination();
          (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v37 - 8) + 56))(a2, 0, 1, v37);
          return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v49);
        }
        swift_release();
      }
      swift_release();
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
LABEL_15:
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v49);
  }
LABEL_16:
  uint64_t v27 = swift_unknownObjectWeakLoadStrong();
  if (!v27)
  {
LABEL_29:
    uint64_t v35 = type metadata accessor for FlowPreviewDestination();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v35 - 8) + 56))(a2, 1, 1, v35);
  }
  uint64_t v28 = (void *)v27;
  IndexPath.section.getter();
  IndexPath.init(item:section:)();
  dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  uint64_t v29 = sub_100082C28((uint64_t *)&unk_100991050);
  uint64_t v30 = *(void *)(v29 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v30 + 48))(v13, 1, v29) == 1)
  {
    sub_100082BCC((uint64_t)v13, &qword_100989CC0);
    goto LABEL_29;
  }
  ReadOnlyLens.value.getter();
  (*(void (**)(char *, uint64_t))(v30 + 8))(v13, v29);
  sub_100081DD4(&v49, (uint64_t)v51);
  sub_100082C6C((uint64_t)v51, (uint64_t)&v47);
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_10098E858);
  if ((swift_dynamicCast() & 1) == 0)
  {
    uint64_t v46 = 0;
    long long v44 = 0u;
    long long v45 = 0u;
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
    sub_100082BCC((uint64_t)&v44, &qword_10098E860);
    goto LABEL_29;
  }
  sub_100081DD4(&v44, (uint64_t)&v49);
  sub_100081D90(&v49, v50);
  IndexPath.item.getter();
  dispatch thunk of NestedShelfClickableModel.click(for:)();
  uint64_t v31 = v44;
  if (!(void)v44)
  {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
    sub_100082BCC((uint64_t)&v44, &qword_10098E868);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v49);
    goto LABEL_29;
  }
  uint64_t v47 = v44;
  sub_10004BF88((uint64_t)&v44 + 8, (uint64_t)v48);
  *(void *)&long long v44 = v31;
  sub_100082B68((uint64_t)v48, (uint64_t)&v44 + 8, (uint64_t *)&unk_100982B40);
  type metadata accessor for FlowAction();
  if (!swift_dynamicCastClass())
  {
    sub_100082BCC((uint64_t)&v47, &qword_10098E828);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
    sub_100082BCC((uint64_t)&v44 + 8, (uint64_t *)&unk_100982B40);
LABEL_28:
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v49);
    goto LABEL_29;
  }
  swift_retain_n();
  sub_100082BCC((uint64_t)&v44 + 8, (uint64_t *)&unk_100982B40);
  double v32 = v40;
  FlowAction.page.getter();
  char v33 = FlowPage.isPreviewingSupported.getter();
  (*(void (**)(char *, uint64_t))(v41 + 8))(v32, v42);
  if ((v33 & 1) == 0)
  {
    swift_release_n();
    sub_100082BCC((uint64_t)&v47, &qword_10098E828);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
    goto LABEL_28;
  }
  *(void *)&long long v44 = v31;
  sub_100082B68((uint64_t)v48, (uint64_t)&v44 + 8, (uint64_t *)&unk_100982B40);
  sub_1002E4924((uint64_t)v51, v39);
  FlowPreviewDestination.init(flowAction:sender:contentType:)();
  swift_release();
  sub_100082BCC((uint64_t)&v47, &qword_10098E828);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
  uint64_t v34 = type metadata accessor for FlowPreviewDestination();
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(a2, 0, 1, v34);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v49);
}

uint64_t sub_1002E4924@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  sub_100082C6C(a1, (uint64_t)v8);
  sub_100082C28((uint64_t *)&unk_100983890);
  type metadata accessor for Review();
  if (swift_dynamicCast()
    || (type metadata accessor for ReviewsContainer(), swift_dynamicCast()))
  {
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v8);
    uint64_t v3 = enum case for FlowPreviewDestination.ContentType.source(_:);
    uint64_t v4 = type metadata accessor for FlowPreviewDestination.ContentType();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 104))(a2, v3, v4);
  }
  else
  {
    uint64_t v6 = enum case for FlowPreviewDestination.ContentType.flowDestination(_:);
    uint64_t v7 = type metadata accessor for FlowPreviewDestination.ContentType();
    (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v7 - 8) + 104))(a2, v6, v7);
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v8);
  }
}

uint64_t sub_1002E4A58()
{
  uint64_t v32 = type metadata accessor for IndexPath();
  uint64_t v31 = *(void *)(v32 - 8);
  __chkstk_darwin(v32);
  int v2 = (char *)&v30 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_100082C28(&qword_100989CC0);
  __chkstk_darwin(v3 - 8);
  uint64_t v30 = (char *)&v30 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v30 - v6;
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v30 - v9;
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100991050);
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v30 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = v0;
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (!Strong)
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56))(v10, 1, 1, v11);
    goto LABEL_7;
  }
  double v16 = (void *)Strong;
  dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v12 + 48))(v10, 1, v11) == 1)
  {
LABEL_7:
    uint64_t v17 = &qword_100989CC0;
    uint64_t v18 = (long long *)v10;
LABEL_8:
    sub_100082BCC((uint64_t)v18, v17);
    goto LABEL_9;
  }
  (*(void (**)(char *, char *, uint64_t))(v12 + 32))(v14, v10, v11);
  ReadOnlyLens.value.getter();
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_10098E840);
  if ((swift_dynamicCast() & 1) == 0)
  {
    uint64_t v38 = 0;
    long long v36 = 0u;
    long long v37 = 0u;
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    uint64_t v17 = &qword_10098E848;
    uint64_t v18 = &v36;
    goto LABEL_8;
  }
  sub_100081DD4(&v36, (uint64_t)v39);
  ReadOnlyLens.value.getter();
  type metadata accessor for TodayCard();
  if ((swift_dynamicCast() & 1) == 0)
  {
    sub_100081D90(v39, v40);
    uint64_t v21 = dispatch thunk of FlowPreviewActionable.flowPreviewActionsConfiguration.getter();
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    goto LABEL_32;
  }
  swift_release();
  (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v39);
LABEL_9:
  uint64_t v19 = swift_unknownObjectWeakLoadStrong();
  if (!v19)
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56))(v7, 1, 1, v11);
    goto LABEL_16;
  }
  uint64_t v20 = (void *)v19;
  IndexPath.section.getter();
  IndexPath.init(item:section:)();
  dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

  (*(void (**)(char *, uint64_t))(v31 + 8))(v2, v32);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v12 + 48))(v7, 1, v11) == 1)
  {
LABEL_16:
    sub_100082BCC((uint64_t)v7, &qword_100989CC0);
    goto LABEL_17;
  }
  sub_100082C28(&qword_10098E850);
  if (!swift_dynamicCast())
  {
LABEL_17:
    uint64_t v44 = 0;
    long long v42 = 0u;
    long long v43 = 0u;
    goto LABEL_18;
  }
  if (!*((void *)&v43 + 1))
  {
LABEL_18:
    sub_100082BCC((uint64_t)&v42, &qword_10098A158);
    goto LABEL_19;
  }
  sub_100081DD4(&v42, (uint64_t)v39);
  sub_100081D90(v39, v40);
  IndexPath.item.getter();
  dispatch thunk of ComponentModelContainment.model(at:)();
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_10098E840);
  if (swift_dynamicCast())
  {
    sub_100081DD4(v34, (uint64_t)&v42);
    sub_100081D90(&v42, *((uint64_t *)&v43 + 1));
    uint64_t v21 = dispatch thunk of FlowPreviewActionable.flowPreviewActionsConfiguration.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v42);
LABEL_32:
    uint64_t v28 = (long long *)v39;
    goto LABEL_33;
  }
  uint64_t v35 = 0;
  memset(v34, 0, sizeof(v34));
  sub_100082BCC((uint64_t)v34, &qword_10098E848);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v39);
LABEL_19:
  type metadata accessor for AdvertRotationControllerProvider();
  BaseObjectGraph.optional<A>(_:)();
  if (v39[0])
  {
    uint64_t v22 = swift_unknownObjectWeakLoadStrong();
    if (!v22)
    {
LABEL_27:
      swift_release();
      return 0;
    }
    uint64_t v23 = (void *)v22;
    uint64_t v24 = (uint64_t)v30;
    dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v12 + 48))(v24, 1, v11) == 1)
    {
      sub_100082BCC(v24, &qword_100989CC0);
      goto LABEL_27;
    }
    ReadOnlyLens.value.getter();
    (*(void (**)(uint64_t, uint64_t))(v12 + 8))(v24, v11);
    sub_100082C28((uint64_t *)&unk_100983890);
    uint64_t v25 = type metadata accessor for AdvertsSearchResult();
    if ((swift_dynamicCast() & 1) == 0) {
      goto LABEL_27;
    }
    uint64_t v26 = v42;
    uint64_t v40 = v25;
    uint64_t v41 = sub_100094CE4((unint64_t *)&unk_1009A4A90, 255, (void (*)(uint64_t))&type metadata accessor for AdvertsSearchResult);
    v39[0] = v26;
    swift_retain();
    uint64_t v27 = AdvertRotationControllerProvider.advertController(for:asPartOf:createIfRequired:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v39);
    if (!v27)
    {
      swift_release();
      goto LABEL_27;
    }
    dispatch thunk of AdvertRotationController.currentAdvert.getter();
    sub_100082C28(&qword_1009A4AB0);
    sub_100082C28(&qword_10098E840);
    if (swift_dynamicCast())
    {
      sub_100081DD4(&v36, (uint64_t)&v42);
      sub_100081D90(&v42, *((uint64_t *)&v43 + 1));
      uint64_t v21 = dispatch thunk of FlowPreviewActionable.flowPreviewActionsConfiguration.getter();
      swift_release();
      swift_release();
      swift_release();
      uint64_t v28 = &v42;
LABEL_33:
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v28);
      return v21;
    }
    uint64_t v38 = 0;
    long long v36 = 0u;
    long long v37 = 0u;
    swift_release();
    swift_release();
    swift_release();
    sub_100082BCC((uint64_t)&v36, &qword_10098E848);
  }
  return 0;
}

id sub_1002E5254(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_100984598);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v48 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for ShelfBackground();
  uint64_t v55 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  v54 = (id *)((char *)&v48 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v50 = type metadata accessor for ItemBackground();
  uint64_t v51 = *(void *)(v50 - 8);
  __chkstk_darwin(v50);
  long long v49 = (char *)&v48 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28(&qword_10098E830);
  __chkstk_darwin(v8);
  uint64_t v52 = (uint64_t)&v48 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28(&qword_100984578);
  __chkstk_darwin(v10 - 8);
  uint64_t v12 = (char *)&v48 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v48 - v14;
  __chkstk_darwin(v16);
  uint64_t v18 = (char *)&v48 - v17;
  uint64_t v19 = sub_100082C28(&qword_100989CC0);
  __chkstk_darwin(v19 - 8);
  uint64_t v21 = (char *)&v48 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (!Strong) {
    goto LABEL_4;
  }
  uint64_t v23 = (void *)Strong;
  uint64_t v53 = v5;
  uint64_t v56 = a1;
  dispatch thunk of ModelMappedDiffableDataSource.itemModel(for:)();

  uint64_t v24 = sub_100082C28((uint64_t *)&unk_100991050);
  uint64_t v25 = *(void *)(v24 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v25 + 48))(v21, 1, v24) == 1)
  {
    sub_100082BCC((uint64_t)v21, &qword_100989CC0);
    uint64_t v5 = v53;
LABEL_4:
    long long v57 = 0u;
    long long v58 = 0u;
    uint64_t v59 = 0;
    goto LABEL_5;
  }
  ReadOnlyLens.value.getter();
  (*(void (**)(char *, uint64_t))(v25 + 8))(v21, v24);
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_100984588);
  if ((swift_dynamicCast() & 1) == 0)
  {
    uint64_t v59 = 0;
    long long v57 = 0u;
    long long v58 = 0u;
    uint64_t v5 = v53;
    goto LABEL_5;
  }
  uint64_t v5 = v53;
  if (*((void *)&v58 + 1))
  {
    sub_100081DD4(&v57, (uint64_t)v60);
    sub_100081D90(v60, v60[3]);
    dispatch thunk of ItemBackgroundProviding.itemBackground.getter();
    uint64_t v30 = v51;
    uint64_t v31 = v50;
    (*(void (**)(char *, void, uint64_t))(v51 + 104))(v15, enum case for ItemBackground.ad(_:), v50);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v30 + 56))(v15, 0, 1, v31);
    uint64_t v32 = v52;
    uint64_t v33 = v52 + *(int *)(v8 + 48);
    sub_100082B68((uint64_t)v18, v52, &qword_100984578);
    uint64_t v48 = v33;
    uint64_t v34 = v33;
    uint64_t v35 = v31;
    sub_100082B68((uint64_t)v15, v34, &qword_100984578);
    long long v36 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v30 + 48);
    if (v36(v32, 1, v31) == 1)
    {
      sub_100082BCC((uint64_t)v15, &qword_100984578);
      sub_100082BCC((uint64_t)v18, &qword_100984578);
      if (v36(v48, 1, v31) == 1)
      {
        sub_100082BCC(v52, &qword_100984578);
LABEL_24:
        if (qword_10097FDB8 != -1) {
          swift_once();
        }
        id v39 = (id)qword_1009E6210;
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v60);
        return v39;
      }
    }
    else
    {
      sub_100082B68(v52, (uint64_t)v12, &qword_100984578);
      uint64_t v43 = v48;
      if (v36(v48, 1, v31) != 1)
      {
        uint64_t v44 = v51;
        long long v45 = v49;
        (*(void (**)(char *, uint64_t, uint64_t))(v51 + 32))(v49, v43, v35);
        sub_100094CE4(&qword_10098E838, 255, (void (*)(uint64_t))&type metadata accessor for ItemBackground);
        char v46 = dispatch thunk of static Equatable.== infix(_:_:)();
        uint64_t v47 = *(void (**)(char *, uint64_t))(v44 + 8);
        v47(v45, v35);
        sub_100082BCC((uint64_t)v15, &qword_100984578);
        sub_100082BCC((uint64_t)v18, &qword_100984578);
        v47(v12, v35);
        uint64_t v5 = v53;
        sub_100082BCC(v52, &qword_100984578);
        if (v46) {
          goto LABEL_24;
        }
LABEL_27:
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v60);
        goto LABEL_6;
      }
      sub_100082BCC((uint64_t)v15, &qword_100984578);
      sub_100082BCC((uint64_t)v18, &qword_100984578);
      (*(void (**)(char *, uint64_t))(v51 + 8))(v12, v31);
    }
    sub_100082BCC(v52, &qword_10098E830);
    goto LABEL_27;
  }
LABEL_5:
  sub_100082BCC((uint64_t)&v57, &qword_100984580);
LABEL_6:
  uint64_t v26 = swift_unknownObjectWeakLoadStrong();
  if (!v26) {
    return [self clearColor];
  }
  uint64_t v27 = (void *)v26;
  IndexPath.section.getter();
  dispatch thunk of ModelMappedDiffableDataSource.sectionModel(at:)();

  uint64_t v28 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v29 = *(void *)(v28 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v29 + 48))(v4, 1, v28) == 1)
  {
    sub_100082BCC((uint64_t)v4, &qword_100984598);
    return [self clearColor];
  }
  swift_getKeyPath();
  long long v37 = v54;
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v29 + 8))(v4, v28);
  uint64_t v38 = v55;
  if ((*(unsigned int (**)(id *, uint64_t))(v55 + 88))(v37, v5) != enum case for ShelfBackground.color(_:))
  {
    (*(void (**)(id *, uint64_t))(v38 + 8))(v37, v5);
    return [self clearColor];
  }
  (*(void (**)(id *, uint64_t))(v38 + 96))(v37, v5);
  id v39 = *v37;
  uint64_t v40 = (char *)v37 + *(int *)(sub_100082C28(&qword_100984570) + 48);
  uint64_t v41 = type metadata accessor for ShelfBackgroundStyle();
  (*(void (**)(char *, uint64_t))(*(void *)(v41 - 8) + 8))(v40, v41);
  return v39;
}

uint64_t sub_1002E5B40()
{
  swift_unknownObjectWeakDestroy();
  swift_release();
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t sub_1002E5B8C(uint64_t a1, uint64_t a2)
{
  return swift_unknownObjectRetain();
}

uint64_t sub_1002E5BF4(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = a1;
  sub_100082B68(a2, (uint64_t)&v4, (uint64_t *)&unk_100982B40);
  swift_retain();
  SyncEvent.post(_:)();
  return sub_100082BCC((uint64_t)&v3, &qword_10098E828);
}

char *sub_1002E5C64(double a1, double a2, double a3, double a4)
{
  ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v10 = &v4[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_itemLayoutContext];
  uint64_t v11 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 56))(v10, 1, 1, v11);
  uint64_t v12 = OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView;
  id v13 = objc_allocWithZone((Class)UIView);
  uint64_t v14 = v4;
  *(void *)&v4[v12] = [v13 init];

  v20.receiver = v14;
  v20.super_class = ObjectType;
  uint64_t v15 = (char *)[super initWithFrame:a1 a2, a3, a4];
  id v16 = [v15 contentView];
  [v16 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v17 = [v15 contentView];
  id v18 = *(id *)&v15[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView];
  [v17 addSubview:v18];

  return v15;
}

uint64_t sub_1002E6030()
{
  return type metadata accessor for PlaceholderCollectionViewCell();
}

uint64_t type metadata accessor for PlaceholderCollectionViewCell()
{
  uint64_t result = qword_10098E8A8;
  if (!qword_10098E8A8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

id sub_1002E6084()
{
  sub_100082C28(&qword_10098E8B8);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_1007BF1D0;
  uint64_t v2 = (void *)UIFontFeatureSelectorIdentifierKey_ForNewSwiftAPI;
  *(void *)(inited + 32) = UIFontFeatureSelectorIdentifierKey_ForNewSwiftAPI;
  *(void *)(inited + 40) = 0;
  uint64_t v3 = (void *)UIFontFeatureTypeIdentifierKey_ForNewSwiftAPI;
  *(void *)(inited + 48) = UIFontFeatureTypeIdentifierKey_ForNewSwiftAPI;
  *(void *)(inited + 56) = 6;
  id v4 = v2;
  id v5 = v3;
  unint64_t v6 = sub_10066DDBC(inited);
  id v7 = [v0 fontDescriptor];
  sub_100082C28(&qword_10098E8C0);
  uint64_t v8 = swift_initStackObject();
  *(_OWORD *)(v8 + 16) = xmmword_1007BEDF0;
  *(void *)(v8 + 32) = UIFontDescriptorFeatureSettingsAttribute;
  sub_100082C28(&qword_10098E8C8);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_1007BEDF0;
  *(void *)(v9 + 32) = v6;
  *(void *)(v8 + 64) = sub_100082C28(&qword_10098E8D0);
  *(void *)(v8 + 40) = v9;
  uint64_t v10 = UIFontDescriptorFeatureSettingsAttribute;
  sub_10066DEBC(v8);
  type metadata accessor for AttributeName(0);
  sub_1002E6264();
  Class isa = Dictionary._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  id v12 = [v7 fontDescriptorByAddingAttributes:isa];

  [v0 pointSize];
  id v14 = [self fontWithDescriptor:v12 size:v13];

  return v14;
}

unint64_t sub_1002E6264()
{
  unint64_t result = qword_100981140;
  if (!qword_100981140)
  {
    type metadata accessor for AttributeName(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100981140);
  }
  return result;
}

uint64_t sub_1002E62BC()
{
  uint64_t v35 = type metadata accessor for EditorialQuoteLayout.Metrics.Alignment();
  uint64_t v34 = *(void *)(v35 - 8);
  __chkstk_darwin(v35);
  long long v36 = (char *)&v23 - ((v0 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v1 = type metadata accessor for FontSource();
  uint64_t v2 = *(void **)(v1 - 8);
  __chkstk_darwin(v1);
  id v4 = (char *)&v23 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for EditorialQuoteLayout.Metrics();
  sub_100042444(v5, qword_1009E2370);
  uint64_t v33 = sub_100087728(v5, (uint64_t)qword_1009E2370);
  if (qword_10097E8D0 != -1) {
    swift_once();
  }
  uint64_t v6 = type metadata accessor for FontUseCase();
  uint64_t v7 = sub_100087728(v6, (uint64_t)qword_1009E2388);
  uint64_t v8 = *(void *)(v6 - 8);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  uint64_t v10 = v8 + 16;
  v9(v4, v7, v6);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  id v12 = v2 + 13;
  uint64_t v32 = (void (*)(char *, void, uint64_t))v2[13];
  v32(v4, enum case for FontSource.useCase(_:), v1);
  uint64_t v31 = type metadata accessor for StaticDimension();
  v50[3] = v31;
  v50[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v50);
  uint64_t v48 = v1;
  long long v49 = &protocol witness table for FontSource;
  double v13 = sub_1000808B8(&v47);
  uint64_t v30 = (void (*)(uint64_t *, char *, uint64_t))v2[2];
  v30(v13, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  id v14 = (void (*)(char *, uint64_t))v2[1];
  uint64_t v28 = v2 + 1;
  uint64_t v29 = v14;
  v14(v4, v1);
  if (qword_10097E8D8 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_100087728(v6, (uint64_t)qword_1009E23A0);
  uint64_t v24 = v9;
  uint64_t v25 = v10;
  v9(v4, v15, v6);
  id v16 = v32;
  v32(v4, v11, v1);
  uint64_t v27 = v12;
  uint64_t v17 = v31;
  uint64_t v48 = v31;
  long long v49 = &protocol witness table for StaticDimension;
  sub_1000808B8(&v47);
  unsigned int v26 = v11;
  long long v45 = (void *)v1;
  char v46 = &protocol witness table for FontSource;
  id v18 = sub_1000808B8(v44);
  uint64_t v19 = v30;
  v30(v18, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  objc_super v20 = v29;
  v29(v4, v1);
  long long v45 = &type metadata for Double;
  char v46 = &protocol witness table for Double;
  v44[0] = 0x4034000000000000;
  v24(v4, v15, v6);
  v16(v4, v26, v1);
  v43[3] = v17;
  v43[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v43);
  uint64_t v41 = (void *)v1;
  long long v42 = &protocol witness table for FontSource;
  uint64_t v21 = sub_1000808B8(v40);
  v19(v21, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  v20(v4, v1);
  long long v42 = &protocol witness table for Double;
  uint64_t v41 = &type metadata for Double;
  v40[0] = 0x4080E00000000000;
  uint64_t v39 = 0;
  long long v38 = 0u;
  long long v37 = 0u;
  (*(void (**)(char *, void, uint64_t))(v34 + 104))(v36, enum case for EditorialQuoteLayout.Metrics.Alignment.leading(_:), v35);
  return EditorialQuoteLayout.Metrics.init(quoteTopSpace:attributionTopSpace:horizontalMargin:bottomMargin:maxWidth:minHeight:alignment:)();
}

uint64_t sub_1002E6830(uint64_t a1)
{
  return sub_1000EA004(a1, qword_1009E2388, &qword_10097F6E0, (uint64_t)qword_1009E4EF8);
}

uint64_t sub_1002E685C(uint64_t a1)
{
  return sub_1000EA004(a1, qword_1009E23A0, &qword_10097F6E8, (uint64_t)qword_1009E4F10);
}

char *sub_1002E6888(double a1, double a2, double a3, double a4)
{
  ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  char v46 = (char *)&v41 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v12 - 8);
  id v14 = (char *)&v41 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = &v4[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_itemLayoutContext];
  uint64_t v16 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v15, 1, 1, v16);
  uint64_t v17 = qword_10097E8D0;
  uint64_t v44 = v4;
  if (v17 != -1) {
    swift_once();
  }
  uint64_t v18 = type metadata accessor for FontUseCase();
  uint64_t v19 = sub_100087728(v18, (uint64_t)qword_1009E2388);
  uint64_t v20 = *(void *)(v18 - 8);
  uint64_t v43 = *(void (**)(char *, uint64_t, uint64_t))(v20 + 16);
  v43(v14, v19, v18);
  long long v42 = *(void (**)(char *, void, uint64_t, uint64_t))(v20 + 56);
  v42(v14, 0, 1, v18);
  uint64_t v21 = enum case for DirectionalTextAlignment.none(_:);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 104);
  v22(v46, enum case for DirectionalTextAlignment.none(_:), v9);
  uint64_t v23 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  uint64_t v41 = v9;
  uint64_t v24 = v23;
  id v25 = objc_allocWithZone(v23);
  uint64_t v26 = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v27 = v44;
  *(void *)&v44[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_quoteLabel] = v26;
  if (qword_10097E8D8 != -1) {
    swift_once();
  }
  uint64_t v28 = sub_100087728(v18, (uint64_t)qword_1009E23A0);
  v43(v14, v28, v18);
  v42(v14, 0, 1, v18);
  v22(v46, v21, v41);
  id v29 = objc_allocWithZone(v24);
  *(void *)&v27[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_attributionLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();

  v47.receiver = v27;
  v47.super_class = ObjectType;
  uint64_t v30 = (char *)[super initWithFrame:a1, a2, a3, a4];
  id v31 = [v30 contentView];
  [v31 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v32 = [v30 contentView];
  [v32 addSubview:*(void *)&v30[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_quoteLabel]];

  uint64_t v33 = OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_attributionLabel;
  uint64_t v34 = *(void **)&v30[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_attributionLabel];
  uint64_t v35 = self;
  id v36 = v34;
  id v37 = [v35 systemGrayColor];
  [v36 setTextColor:v37];

  id v38 = [v30 contentView];
  [v38 addSubview:*(void *)&v30[v33]];

  uint64_t v39 = v30;
  sub_1002E7394(v39, (uint64_t)v39);

  return v39;
}

uint64_t sub_1002E6E38()
{
  uint64_t v1 = v0;
  ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v23 = type metadata accessor for LayoutRect();
  uint64_t v3 = *(void *)(v23 - 8);
  __chkstk_darwin(v23);
  uint64_t v5 = (char *)&v22 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for EditorialQuoteLayout.Metrics();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v22 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for EditorialQuoteLayout();
  uint64_t v11 = *(void *)(v10 - 8);
  *(void *)&double v12 = __chkstk_darwin(v10).n128_u64[0];
  id v14 = (char *)&v22 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v30.receiver = v1;
  v30.super_class = ObjectType;
  [super layoutSubviews:v12];
  id v15 = [v1 contentView];
  sub_10003A33C();
  LayoutMarginsAware<>.layoutFrame.getter();

  if (qword_10097E8C8 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_100087728(v6, (uint64_t)qword_1009E2370);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v16, v6);
  uint64_t v17 = *(void **)&v1[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_quoteLabel];
  uint64_t v28 = type metadata accessor for DynamicTypeLabel();
  id v29 = &protocol witness table for UIView;
  uint64_t v26 = &protocol witness table for UIView;
  uint64_t v27 = v17;
  uint64_t v18 = *(void **)&v1[OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_attributionLabel];
  uint64_t v25 = v28;
  uint64_t v24 = v18;
  id v19 = v17;
  id v20 = v18;
  EditorialQuoteLayout.init(metrics:quoteLabel:attributionLabel:)();
  EditorialQuoteLayout.placeChildren(relativeTo:in:)();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v23);
  return (*(uint64_t (**)(char *, uint64_t))(v11 + 8))(v14, v10);
}

uint64_t sub_1002E719C(uint64_t a1)
{
  uint64_t v2 = v1;
  v9.receiver = v1;
  v9.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  id v4 = [v1 traitCollection];
  int v5 = UITraitCollection.prefersRightToLeftLayouts.getter();

  if (!a1) {
    return (uint64_t)sub_1002E7394(v2, (uint64_t)v2);
  }
  if ((UITraitCollection.prefersRightToLeftLayouts.getter() ^ v5)) {
    return (uint64_t)sub_1002E7394(v2, (uint64_t)v2);
  }
  id v6 = [v2 traitCollection];
  int v7 = UITraitCollection.isSizeClassCompact.getter() & 1;

  uint64_t result = UITraitCollection.isSizeClassCompact.getter();
  if ((result & 1) != v7) {
    return (uint64_t)sub_1002E7394(v2, (uint64_t)v2);
  }
  return result;
}

uint64_t sub_1002E7340()
{
  return type metadata accessor for EditorialQuoteCollectionViewCell();
}

uint64_t type metadata accessor for EditorialQuoteCollectionViewCell()
{
  uint64_t result = qword_10098E910;
  if (!qword_10098E910) {
    return swift_getSingletonMetadata();
  }
  return result;
}

id sub_1002E7394(void *a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v5 = *(void *)(v4 - 8);
  *(void *)&double v6 = __chkstk_darwin(v4).n128_u64[0];
  uint64_t v8 = (char *)&v15 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v9 = [a1 traitCollection:v6];
  char v10 = UITraitCollection.isSizeClassCompact.getter();

  if (v10)
  {
    uint64_t v11 = enum case for DirectionalTextAlignment.leading(_:);
    double v12 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 104);
    v12(v8, enum case for DirectionalTextAlignment.leading(_:), v4);
    dispatch thunk of DynamicTypeLabel.directionalTextAlignment.setter();
    v12(v8, v11, v4);
    return (id)dispatch thunk of DynamicTypeLabel.directionalTextAlignment.setter();
  }
  else
  {
    [*(id *)(a2 + OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_quoteLabel) setTextAlignment:1];
    id v14 = *(void **)(a2 + OBJC_IVAR____TtC8AppStore32EditorialQuoteCollectionViewCell_attributionLabel);
    return [v14 setTextAlignment:1];
  }
}

double sub_1002E7534(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v7 = Footnote.text.getter();
  uint64_t v9 = v8;
  unint64_t v10 = Footnote.presentationStyle.getter();
  double v11 = sub_1000F56E4(v7, v9, (v10 >> 1) & 1, a6);
  swift_bridgeObjectRelease();
  return v11;
}

id sub_1002E75B4()
{
  return sub_1002E76CC();
}

uint64_t sub_1002E75C4()
{
  if (qword_10097E070 != -1) {
    return swift_once();
  }
  return result;
}

uint64_t sub_1002E75F4()
{
  return sub_1002E7684(&qword_10098E920, (void (*)(uint64_t))&type metadata accessor for Footnote);
}

uint64_t sub_1002E763C()
{
  return sub_1002E7684(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

uint64_t sub_1002E7684(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

id sub_1002E76CC()
{
  uint64_t v1 = *(unsigned char **)&v0[OBJC_IVAR____TtC8AppStore26FootnoteCollectionViewCell_footnoteView];
  char v2 = Footnote.presentationStyle.getter();
  char v3 = v1[OBJC_IVAR____TtC8AppStore12FootnoteView_hasChevron];
  v1[OBJC_IVAR____TtC8AppStore12FootnoteView_hasChevron] = (v2 & 2) != 0;
  sub_1000F5450(v3);
  v1[OBJC_IVAR____TtC8AppStore12FootnoteView_textLightensOnHighlight] = (Footnote.presentationStyle.getter() & 4) != 0;
  uint64_t v4 = *(void **)&v1[OBJC_IVAR____TtC8AppStore12FootnoteView_textLabel];
  Footnote.text.getter();
  NSString v5 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v4 setText:v5];

  [v1 setNeedsLayout];

  return [v0 setNeedsLayout];
}

uint64_t sub_1002E77C0(uint64_t a1)
{
  uint64_t v62 = a1;
  uint64_t v1 = type metadata accessor for _AssistantIntent.PhraseToken();
  uint64_t v63 = *(void *)(v1 - 8);
  uint64_t v64 = v1;
  __chkstk_darwin(v1);
  long long v57 = (char *)v49 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_100082C28(&qword_10098E998);
  uint64_t v66 = *(void *)(v3 - 8);
  uint64_t v67 = v3;
  __chkstk_darwin(v3);
  NSString v5 = (char *)v49 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28(&qword_10098E9B0);
  __chkstk_darwin(v6);
  unint64_t v7 = sub_1002E97CC();
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v8._object = (void *)0x8000000100812C40;
  v8._countAndFlagsBits = 0xD000000000000010;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v8);
  swift_getKeyPath();
  unint64_t v9 = sub_1002E9894();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v10._countAndFlagsBits = 1650553888;
  v10._object = (void *)0xE400000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v10);
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v59 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v11 = v66 + 8;
  v68 = *(void (**)(char *, uint64_t))(v66 + 8);
  v68(v5, v3);
  uint64_t v66 = v11;
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v12._countAndFlagsBits = 0x657461676976614ELL;
  v12._object = (void *)0xEC000000206F7420;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v12);
  swift_getKeyPath();
  unint64_t v65 = v9;
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v13._countAndFlagsBits = 0;
  v13._object = (void *)0xE000000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v13);
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v58 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v68(v5, v67);
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v14._countAndFlagsBits = 0x6874206F74206F47;
  v14._object = (void *)0xEA00000000002065;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v14);
  swift_getKeyPath();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v15._countAndFlagsBits = 1650553888;
  v15._object = (void *)0xE400000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v15);
  v61 = v5;
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v56 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v17 = v67;
  uint64_t v16 = v68;
  v68(v5, v67);
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v18._countAndFlagsBits = 0x206F74206F47;
  v18._object = (void *)0xE600000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v18);
  swift_getKeyPath();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v19._countAndFlagsBits = 0;
  v19._object = (void *)0xE000000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v19);
  id v20 = v61;
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v55 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v16(v20, v17);
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v21._countAndFlagsBits = 0x206E65704FLL;
  v21._object = (void *)0xE500000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v21);
  swift_getKeyPath();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v22._countAndFlagsBits = 544106784;
  v22._object = (void *)0xE400000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v22);
  uint64_t v23 = enum case for _AssistantIntent.PhraseToken.applicationName(_:);
  uint64_t v24 = v63;
  uint64_t v25 = v64;
  uint64_t v26 = *(void (**)(char *, void, uint64_t))(v63 + 104);
  uint64_t v60 = v63 + 104;
  uint64_t v27 = v57;
  unsigned int v53 = enum case for _AssistantIntent.PhraseToken.applicationName(_:);
  v26(v57, enum case for _AssistantIntent.PhraseToken.applicationName(_:), v64);
  uint64_t v52 = v26;
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  uint64_t v28 = v24 + 8;
  id v29 = *(void (**)(char *, uint64_t))(v24 + 8);
  v29(v27, v25);
  objc_super v30 = v29;
  uint64_t v51 = v29;
  uint64_t v63 = v28;
  v31._countAndFlagsBits = 0;
  v31._object = (void *)0xE000000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v31);
  id v32 = v61;
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  v49[1] = v7;
  uint64_t v54 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v68(v32, v67);
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v33._countAndFlagsBits = 0x20656D20776F6853;
  v33._object = (void *)0xEC00000020656874;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v33);
  uint64_t v34 = v64;
  v26(v27, v23, v64);
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  v30(v27, v34);
  v35._countAndFlagsBits = 32;
  v35._object = (void *)0xE100000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v35);
  swift_getKeyPath();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v36._countAndFlagsBits = 0x6567617020;
  v36._object = (void *)0xE500000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v36);
  id v37 = v61;
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v50 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v68(v37, v67);
  _AssistantIntent.Phrase.StringInterpolation.init(literalCapacity:interpolationCount:)();
  v38._countAndFlagsBits = 0x20656D20776F6853;
  v38._object = (void *)0xE800000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v38);
  swift_getKeyPath();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  swift_release();
  v39._countAndFlagsBits = 0x206567617020;
  v39._object = (void *)0xE600000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v39);
  uint64_t v40 = v64;
  v52(v27, v53, v64);
  _AssistantIntent.Phrase.StringInterpolation.appendInterpolation(_:)();
  v51(v27, v40);
  v41._countAndFlagsBits = 0;
  v41._object = (void *)0xE000000000000000;
  _AssistantIntent.Phrase.StringInterpolation.appendLiteral(_:)(v41);
  _AssistantIntent.Phrase.init(stringInterpolation:)();
  uint64_t v42 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v68(v37, v67);
  sub_100082C28(&qword_10098E9A0);
  uint64_t v43 = swift_allocObject();
  *(_OWORD *)(v43 + 16) = xmmword_1007C3DE0;
  uint64_t v44 = v58;
  *(void *)(v43 + 32) = v59;
  *(void *)(v43 + 40) = v44;
  uint64_t v45 = v55;
  *(void *)(v43 + 48) = v56;
  *(void *)(v43 + 56) = v45;
  uint64_t v46 = v50;
  *(void *)(v43 + 64) = v54;
  *(void *)(v43 + 72) = v46;
  *(void *)(v43 + 80) = v42;
  uint64_t v47 = static _AssistantIntent.PhraseBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v47;
}

uint64_t sub_1002E8110()
{
  uint64_t v0 = type metadata accessor for _AssistantIntent.Value();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getKeyPath();
  sub_1002E9894();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  sub_1002E97CC();
  _AssistantIntent.Value.init<A>(for:builder:)();
  uint64_t v4 = static _AssistantIntent.ParameterValueBuilder.buildExpression(_:)();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  sub_100082C28(&qword_10098E990);
  uint64_t v5 = swift_allocObject();
  *(_OWORD *)(v5 + 16) = xmmword_1007BEDF0;
  *(void *)(v5 + 32) = v4;
  uint64_t v6 = static _AssistantIntent.ParameterValueBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v6;
}

uint64_t sub_1002E8278()
{
  uint64_t v0 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  uint64_t v1 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  uint64_t v2 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  uint64_t v3 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  uint64_t v4 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  uint64_t v5 = static _AssistantIntent.StringValueBuilder.buildExpression(_:)();
  sub_100082C28(&qword_10098E9A8);
  uint64_t v6 = swift_allocObject();
  *(_OWORD *)(v6 + 16) = xmmword_1007BFA20;
  *(void *)(v6 + 32) = v0;
  *(void *)(v6 + 40) = v1;
  *(void *)(v6 + 48) = v2;
  *(void *)(v6 + 56) = v3;
  *(void *)(v6 + 64) = v4;
  *(void *)(v6 + 72) = v5;
  uint64_t v7 = static _AssistantIntent.StringValueBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v7;
}

uint64_t sub_1002E8384()
{
  uint64_t v0 = sub_100082C28(&qword_10098E998);
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1002E97CC();
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v22 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v4 = *(void (**)(char *, uint64_t))(v1 + 8);
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v21 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v20 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v19 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v18 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v17 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v16 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v5 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v6 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v7 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v8 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  sub_100082C28(&qword_10098E9A0);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_1007CF850;
  uint64_t v10 = v21;
  *(void *)(v9 + 32) = v22;
  *(void *)(v9 + 40) = v10;
  uint64_t v11 = v19;
  *(void *)(v9 + 48) = v20;
  *(void *)(v9 + 56) = v11;
  uint64_t v12 = v17;
  *(void *)(v9 + 64) = v18;
  *(void *)(v9 + 72) = v12;
  *(void *)(v9 + 80) = v16;
  *(void *)(v9 + 88) = v5;
  *(void *)(v9 + 96) = v6;
  *(void *)(v9 + 104) = v7;
  *(void *)(v9 + 112) = v8;
  uint64_t v13 = static _AssistantIntent.PhraseBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v13;
}

uint64_t sub_1002E8854(uint64_t a1)
{
  return sub_1002E92A0(a1, 1);
}

uint64_t sub_1002E885C()
{
  uint64_t v0 = sub_100082C28(&qword_10098E998);
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1002E97CC();
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v22 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v4 = *(void (**)(char *, uint64_t))(v1 + 8);
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v21 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v20 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v19 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v18 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v17 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v16 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v5 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v6 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v7 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v8 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  sub_100082C28(&qword_10098E9A0);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_1007CF850;
  uint64_t v10 = v21;
  *(void *)(v9 + 32) = v22;
  *(void *)(v9 + 40) = v10;
  uint64_t v11 = v19;
  *(void *)(v9 + 48) = v20;
  *(void *)(v9 + 56) = v11;
  uint64_t v12 = v17;
  *(void *)(v9 + 64) = v18;
  *(void *)(v9 + 72) = v12;
  *(void *)(v9 + 80) = v16;
  *(void *)(v9 + 88) = v5;
  *(void *)(v9 + 96) = v6;
  *(void *)(v9 + 104) = v7;
  *(void *)(v9 + 112) = v8;
  uint64_t v13 = static _AssistantIntent.PhraseBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v13;
}

uint64_t sub_1002E8D24(uint64_t a1)
{
  return sub_1002E92A0(a1, 2);
}

uint64_t sub_1002E8D2C()
{
  uint64_t v0 = sub_100082C28(&qword_10098E998);
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v14 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1002E97CC();
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v17 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v4 = *(void (**)(char *, uint64_t))(v1 + 8);
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v16 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v15 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v14 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v5 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v6 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v7 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v8 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v4(v3, v0);
  sub_100082C28(&qword_10098E9A0);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_1007C2180;
  uint64_t v10 = v16;
  *(void *)(v9 + 32) = v17;
  *(void *)(v9 + 40) = v10;
  uint64_t v11 = v14;
  *(void *)(v9 + 48) = v15;
  *(void *)(v9 + 56) = v11;
  *(void *)(v9 + 64) = v5;
  *(void *)(v9 + 72) = v6;
  *(void *)(v9 + 80) = v7;
  *(void *)(v9 + 88) = v8;
  uint64_t v12 = static _AssistantIntent.PhraseBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v12;
}

uint64_t sub_1002E90DC(uint64_t a1)
{
  return sub_1002E92A0(a1, 3);
}

uint64_t sub_1002E90E4()
{
  uint64_t v0 = sub_100082C28(&qword_10098E998);
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1002E97CC();
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v4 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  uint64_t v5 = *(void (**)(char *, uint64_t))(v1 + 8);
  v5(v3, v0);
  _AssistantIntent.Phrase.init(stringLiteral:)();
  uint64_t v6 = static _AssistantIntent.PhraseBuilder.buildExpression(_:)();
  v5(v3, v0);
  sub_100082C28(&qword_10098E9A0);
  uint64_t v7 = swift_allocObject();
  *(_OWORD *)(v7 + 16) = xmmword_1007BF1D0;
  *(void *)(v7 + 32) = v4;
  *(void *)(v7 + 40) = v6;
  uint64_t v8 = static _AssistantIntent.PhraseBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v8;
}

uint64_t sub_1002E9298(uint64_t a1)
{
  return sub_1002E92A0(a1, 5);
}

uint64_t sub_1002E92A0(uint64_t a1, char a2)
{
  uint64_t v3 = type metadata accessor for _AssistantIntent.Value();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = &v11[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v11[15] = a2;
  swift_getKeyPath();
  sub_1002E9894();
  _AssistantIntent.IntentProjection.subscript.getter();
  swift_release();
  sub_1002E97CC();
  sub_1002E98E8();
  _AssistantIntent.Value.init<A, B>(_:for:)();
  uint64_t v7 = static _AssistantIntent.ParameterValueBuilder.buildExpression(_:)();
  (*(void (**)(unsigned char *, uint64_t))(v4 + 8))(v6, v3);
  sub_100082C28(&qword_10098E990);
  uint64_t v8 = swift_allocObject();
  *(_OWORD *)(v8 + 16) = xmmword_1007BEDF0;
  *(void *)(v8 + 32) = v7;
  uint64_t v9 = static _AssistantIntent.ParameterValueBuilder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v9;
}

void sub_1002E9410()
{
  qword_1009E23C0 = (uint64_t)&_swiftEmptyArrayStorage;
}

uint64_t sub_1002E942C()
{
  if (qword_10097E8E0 != -1) {
    swift_once();
  }

  return swift_bridgeObjectRetain();
}

ValueMetadata *type metadata accessor for AppStoreAssistantIntents()
{
  return &type metadata for AppStoreAssistantIntents;
}

uint64_t sub_1002E9498()
{
  uint64_t v0 = type metadata accessor for _AssistantIntent();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v13 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_1006C45B0();
  sub_1002E97CC();
  _AssistantIntent.init<A>(_:phrases:parameterValues:)();
  uint64_t v4 = static _AssistantIntent.Builder.buildExpression(_:)();
  uint64_t v5 = *(void (**)(char *, uint64_t))(v1 + 8);
  v5(v3, v0);
  uint64_t v14 = sub_1006C45B0();
  _AssistantIntent.init<A>(_:phrases:implying:)();
  uint64_t v6 = static _AssistantIntent.Builder.buildExpression(_:)();
  v5(v3, v0);
  uint64_t v14 = sub_1006C45B0();
  _AssistantIntent.init<A>(_:phrases:implying:)();
  uint64_t v7 = static _AssistantIntent.Builder.buildExpression(_:)();
  v5(v3, v0);
  uint64_t v14 = sub_1006C45B0();
  _AssistantIntent.init<A>(_:phrases:implying:)();
  uint64_t v8 = static _AssistantIntent.Builder.buildExpression(_:)();
  v5(v3, v0);
  uint64_t v14 = sub_1006C45B0();
  _AssistantIntent.init<A>(_:phrases:implying:)();
  uint64_t v9 = static _AssistantIntent.Builder.buildExpression(_:)();
  v5(v3, v0);
  sub_100082C28(&qword_10098E978);
  uint64_t v10 = swift_allocObject();
  *(_OWORD *)(v10 + 16) = xmmword_1007C7130;
  *(void *)(v10 + 32) = v4;
  *(void *)(v10 + 40) = v6;
  *(void *)(v10 + 48) = v7;
  *(void *)(v10 + 56) = v8;
  *(void *)(v10 + 64) = v9;
  uint64_t v11 = static _AssistantIntent.Builder.buildBlock(_:)();
  swift_bridgeObjectRelease();
  return v11;
}

unint64_t sub_1002E97CC()
{
  unint64_t result = qword_10098E970;
  if (!qword_10098E970)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E970);
  }
  return result;
}

uint64_t sub_1002E9820@<X0>(unsigned char *a1@<X8>)
{
  uint64_t result = IntentParameter.wrappedValue.getter();
  *a1 = v3;
  return result;
}

uint64_t sub_1002E985C()
{
  return IntentParameter.wrappedValue.setter();
}

unint64_t sub_1002E9894()
{
  unint64_t result = qword_10098E980;
  if (!qword_10098E980)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E980);
  }
  return result;
}

unint64_t sub_1002E98E8()
{
  unint64_t result = qword_10098E988;
  if (!qword_10098E988)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098E988);
  }
  return result;
}

uint64_t sub_1002E993C(uint64_t a1, uint64_t a2)
{
  uint64_t v38 = a2;
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100985730);
  __chkstk_darwin(v4 - 8);
  Swift::String v35 = (char *)&v29 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for OfferButtonSubtitlePosition();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v34 = (char *)&v29 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100981AC0);
  uint64_t v36 = *(void *)(v9 - 8);
  uint64_t v37 = v9;
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v29 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100981A90);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v29 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for OfferButtonPresenterViewAlignment();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v29 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v19 - 8);
  uint64_t v21 = (char *)&v29 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore16ArcadeLockupView_offerButton);
  uint64_t v33 = a1;
  uint64_t v31 = ArcadeLockup.offerDisplayProperties.getter();
  uint64_t v30 = ArcadeLockup.unsubscribedButtonAction.getter();
  uint64_t v22 = ArcadeLockup.subscribedButtonAction.getter();
  (*(void (**)(char *, void, uint64_t))(v16 + 104))(v18, enum case for OfferButtonPresenterViewAlignment.center(_:), v15);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v16 + 56))(v14, 1, 1, v15);
  sub_1002EA06C((unint64_t *)&unk_100981AB0, (void (*)(uint64_t))&type metadata accessor for OfferButtonPresenterViewAlignment);
  AccessibilityConditional.init(value:axValue:)();
  uint64_t v23 = sub_100082C28((uint64_t *)&unk_10098AC20);
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v21, 0, 1, v23);
  (*(void (**)(char *, void, uint64_t))(v7 + 104))(v34, enum case for OfferButtonSubtitlePosition.left(_:), v6);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56))(v35, 1, 1, v6);
  sub_1002EA06C((unint64_t *)&qword_100985760, (void (*)(uint64_t))&type metadata accessor for OfferButtonSubtitlePosition);
  AccessibilityConditional.init(value:axValue:)();
  sub_100070F60(v31, v30, v22, (uint64_t)v21, (uint64_t)v11, v38, 0, 0);
  swift_release();
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v36 + 8))(v11, v37);
  sub_1002BFC40((uint64_t)v21);
  ArcadeLockup.subscribedSubtitle.getter();
  ArcadeLockup.nonsubscribedSubtitle.getter();
  type metadata accessor for ArcadeSubscriptionManager();
  inject(_:from:)();
  uint64_t v24 = type metadata accessor for ArcadeOfferLabelPresenter();
  swift_allocObject();
  uint64_t v25 = ArcadeOfferLabelPresenter.init(subscribedText:nonsubscribedText:subscriptionManager:)();
  sub_1002EA06C(&qword_10098E9B8, (void (*)(uint64_t))type metadata accessor for ArcadeLockupView);
  uint64_t v26 = (void *)swift_unknownObjectRetain();
  ArcadeOfferLabelPresenter.view.setter();
  void v39[3] = v24;
  v39[0] = v25;
  uint64_t v27 = (uint64_t)v26 + OBJC_IVAR____TtC8AppStore16ArcadeLockupView_offerLabelPresenter;
  swift_beginAccess();
  swift_retain();
  sub_100070BB4((uint64_t)v39, v27);
  swift_endAccess();
  [v26 setNeedsLayout];
  return swift_release();
}

id sub_1002E9EF8(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void **)&v2[OBJC_IVAR____TtC8AppStore16ArcadeLockupView_subtitleLabel];
  id result = [v5 text];
  if (!result)
  {
    if (!a2) {
      return result;
    }
    goto LABEL_10;
  }
  uint64_t v7 = result;
  uint64_t v8 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  uint64_t v10 = v9;

  if (!a2)
  {
    swift_bridgeObjectRelease();
    NSString v13 = 0;
    goto LABEL_12;
  }
  if (v8 != a1 || v10 != a2)
  {
    char v12 = _stringCompareWithSmolCheck(_:_:expecting:)();
    id result = (id)swift_bridgeObjectRelease();
    if (v12) {
      return result;
    }
LABEL_10:
    NSString v13 = String._bridgeToObjectiveC()();
LABEL_12:
    [v5 setText:v13];

    [v5 setHidden:static String.isNilOrEmpty(_:)() & 1];
    return [v2 setNeedsLayout];
  }

  return (id)swift_bridgeObjectRelease();
}

uint64_t sub_1002EA06C(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

int64x2_t sub_1002EA0B4()
{
  int64x2_t result = vdupq_n_s64(0x407C200000000000uLL);
  xmmword_10098E9C0 = (__int128)result;
  return result;
}

char *sub_1002EA0D0(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = type metadata accessor for ArcadeSeeAllGamesPage.DisplayStyle();
  uint64_t v47 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v43 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v43 - v9;
  uint64_t v11 = type metadata accessor for SystemImage();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v43 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)(v2 + qword_10098E9E8) = 0;
  *(void *)(v2 + qword_10098E9F0) = 0;
  *(void *)(v2 + qword_10098E9F8) = 0;
  *(void *)(v2 + qword_10098EA00) = 0;
  *(unsigned char *)(v2 + qword_10098EA08) = 0;
  swift_retain();
  swift_retain();
  uint64_t v15 = sub_1003F1050(a1, a2);
  v15[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_prefersLargeTitle] = 0;
  uint64_t v16 = v15;
  id v17 = [v16 navigationItem];
  [v17 setLargeTitleDisplayMode:2];

  uint64_t v18 = type metadata accessor for Feature.iOS();
  v50[3] = v18;
  v50[4] = sub_10000C64C((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  uint64_t v19 = sub_1000808B8(v50);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v18 - 8) + 104))(v19, enum case for Feature.iOS.arcade_see_all_games_menu_uplift(_:), v18);
  LOBYTE(v18) = isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
  if (v18)
  {
    id v20 = [v16 navigationItem];
    ArcadeSeeAllGamesDiffablePagePresenter.pageTitle.getter();
    if (v21)
    {
      NSString v22 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v22 = 0;
    }
    [v20 setTitle:v22];
  }
  else
  {
    uint64_t v44 = v7;
    uint64_t v45 = v5;
    uint64_t v23 = v47;
    (*(void (**)(char *, void, uint64_t))(v12 + 104))(v14, enum case for SystemImage.listBullet(_:), v11);
    uint64_t v24 = static SystemImage.load(_:with:)();
    uint64_t v46 = a2;
    uint64_t v25 = (void *)v24;
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    id v26 = objc_allocWithZone((Class)UIBarButtonItem);
    uint64_t v27 = v16;
    id v28 = [v26 initWithImage:v25 style:0 target:v27 action:"toggleDisplayStyleWithAction:"];

    uint64_t v29 = qword_10098E9E8;
    uint64_t v30 = *(void **)&v27[qword_10098E9E8];
    *(void *)&v27[qword_10098E9E8] = v28;

    id v31 = [v27 navigationItem];
    id v32 = *(id *)&v27[v29];
    [v31 setRightBarButtonItem:v32];

    uint64_t v33 = *(void **)&v27[v29];
    if (!v33) {
      goto LABEL_13;
    }
    NSString v22 = v33;
    uint64_t v34 = v10;
    uint64_t v43 = a1;
    ArcadeSeeAllGamesDiffablePagePresenter.displayStyle.getter();
    uint64_t v36 = v44;
    uint64_t v35 = v45;
    (*(void (**)(char *, void, uint64_t))(v23 + 104))(v44, enum case for ArcadeSeeAllGamesPage.DisplayStyle.compact(_:), v45);
    sub_10000C64C(&qword_10098EF78, (void (*)(uint64_t))&type metadata accessor for ArcadeSeeAllGamesPage.DisplayStyle);
    dispatch thunk of RawRepresentable.rawValue.getter();
    dispatch thunk of RawRepresentable.rawValue.getter();
    if (v50[0] == v48 && v50[1] == v49) {
      char v37 = 1;
    }
    else {
      char v37 = _stringCompareWithSmolCheck(_:_:expecting:)();
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v38 = *(void (**)(char *, uint64_t))(v23 + 8);
    v38(v36, v35);
    v38(v34, v35);
    [v22 setSelected:v37 & 1];
  }

LABEL_13:
  id v39 = [v16 navigationItem];
  ArcadeSeeAllGamesDiffablePagePresenter.pageTitle.getter();
  if (v40)
  {
    NSString v41 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v41 = 0;
  }
  [v39 setBackButtonTitle:v41];

  swift_release();
  swift_release();
  return v16;
}

id sub_1002EA698()
{
  uint64_t v1 = qword_10098E9F0;
  uint64_t v2 = *(void **)(v0 + qword_10098E9F0);
  if (v2)
  {
    id v3 = *(id *)(v0 + qword_10098E9F0);
  }
  else
  {
    id v4 = sub_1002ECFBC();
    uint64_t v5 = *(void **)(v0 + v1);
    *(void *)(v0 + v1) = v4;
    id v3 = v4;

    uint64_t v2 = 0;
  }
  id v6 = v2;
  return v3;
}

uint64_t sub_1002EA6F8()
{
  uint64_t v0 = type metadata accessor for UIButton.Configuration();
  sub_100042444(v0, qword_10098E9D0);
  sub_100087728(v0, (uint64_t)qword_10098E9D0);
  static UIButton.Configuration.plain()();
  NSString v1 = String._bridgeToObjectiveC()();
  id v2 = [self systemImageNamed:v1];

  UIButton.Configuration.image.setter();
  id v3 = [self configurationWithScale:1];
  UIButton.Configuration.preferredSymbolConfigurationForImage.setter();
  UIButton.Configuration.imagePadding.setter();
  return UIButton.Configuration.imagePlacement.setter();
}

void sub_1002EA7E0(void *a1)
{
  sub_1002ECE54(a1);
}

void sub_1002EA818(void *a1)
{
  id v3 = *(void **)&v1[qword_10098E9F8];
  *(void *)&v1[qword_10098E9F8] = a1;
  id v4 = a1;
  id v7 = v4;
  if (a1)
  {
    [v1 presentViewController:v4 animated:1 completion:0];
  }
  else if (v3)
  {
    id v5 = [v3 presentingViewController];
    if (v5)
    {
      id v6 = v5;
      [v5 dismissViewControllerAnimated:1 completion:0];

      id v3 = v7;
      id v7 = v6;
    }
  }
}

void sub_1002EA8E0(void *a1)
{
  uint64_t v2 = v1;
  if (a1)
  {
    id v3 = *(void **)(v1 + qword_10098EA00);
    if (!v3
      || (id v4 = a1,
          type metadata accessor for PageFacetsViewController(0),
          id v5 = v4,
          id v6 = v3,
          LOBYTE(v4) = static NSObject.== infix(_:_:)(),
          v5,
          v6,
          (v4 & 1) == 0))
    {
      sub_1002EA818(0);
    }
  }
  id v7 = *(char **)(v2 + qword_10098EA00);
  if (v7)
  {
    *(void *)&v7[OBJC_IVAR____TtC8AppStore24PageFacetsViewController_delegate + 8] = &off_1008C54B0;
    swift_unknownObjectWeakAssign();
    id v8 = objc_allocWithZone((Class)UINavigationController);
    uint64_t v9 = v7;
    id v10 = [v8 initWithRootViewController:v9];
    id v11 = [v10 view];
    if (v11)
    {
      uint64_t v12 = v11;
      id v13 = [self systemBackgroundColor];
      [v12 setBackgroundColor:v13];

      [v10 setModalPresentationStyle:7];
      id v14 = [v10 presentationController];
      if (v14)
      {
        uint64_t v15 = v14;
        [v14 setDelegate:v2];
      }
      uint64_t v16 = qword_10097E8E8;
      id v17 = v10;
      if (v16 != -1) {
        swift_once();
      }
      [v17 setPreferredContentSize:xmmword_10098E9C0];

      id v18 = [v17 popoverPresentationController];
      if (v18)
      {
        uint64_t v19 = v18;
        id v20 = sub_1002EA698();
        [v19 setSourceView:v20];
      }
      id v21 = [v17 popoverPresentationController];
      if (v21)
      {
        NSString v22 = v21;
        [v21 setPermittedArrowDirections:1];
      }
      id v23 = [v17 popoverPresentationController];
      if (v23)
      {
        uint64_t v24 = v23;
        id v25 = sub_1002EA698();
        id v26 = [v25 titleLabel];

        if (v26)
        {
          [v26 frame];
        }
        else
        {
          id v26 = sub_1002EA698();
          [v26 bounds];
        }
        CGFloat v31 = v27;
        CGFloat v32 = v28;
        CGFloat v33 = v29;
        CGFloat v34 = v30;

        v47.origin.x = v31;
        v47.origin.y = v32;
        v47.size.width = v33;
        v47.size.height = v34;
        double MidX = CGRectGetMidX(v47);
        id v36 = sub_1002EA698();
        [v36 bounds];
        CGFloat v38 = v37;
        CGFloat v40 = v39;
        CGFloat v42 = v41;
        CGFloat v44 = v43;

        v48.origin.x = v38;
        v48.origin.y = v40;
        v48.size.width = v42;
        v48.size.height = v44;
        [v24 setSourceRect:MidX, CGRectGetMaxY(v48), 10.0, 10.0];
      }
      id v45 = v17;
      sub_1002EA818(v17);
    }
    else
    {
      __break(1u);
    }
  }
  else
  {
    sub_1002EA818(0);
  }
}

void sub_1002EACC8()
{
  uint64_t v1 = v0;
  id v2 = [v0 navigationItem];
  id v3 = [v2 titleView];

  id v4 = sub_1002EA698();
  id v5 = v4;
  if (v3)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    id v6 = v3;
    char v7 = static NSObject.== infix(_:_:)();

    if (v7) {
      goto LABEL_7;
    }
  }
  else
  {
  }
  id v8 = sub_1002EA698();
  [v8 setAlpha:0.0];

  id v9 = [v1 navigationItem];
  id v10 = sub_1002EA698();
  [v9 setTitleView:v10];

  id v11 = [v1 navigationItem];
  id v12 = [v11 navigationBar];

  if (v12)
  {
    [v12 layoutIfNeeded];
  }
LABEL_7:
  id v13 = sub_1002EA698();
  id v14 = v13;
  uint64_t v15 = qword_10098EA08;
  double v16 = 0.0;
  if (v1[qword_10098EA08]) {
    double v16 = 1.0;
  }
  [v13 setAlpha:v16];

  id v17 = sub_1002EA698();
  [v17 setUserInteractionEnabled:v1[v15]];
}

void sub_1002EAEA0()
{
  v4.receiver = v0;
  v4.super_class = (Class)swift_getObjectType();
  [super viewDidLoad];
  id v1 = sub_1002EA698();
  sub_100084CF0(0, (unint64_t *)&qword_10098F030);
  uint64_t v2 = swift_allocObject();
  swift_unknownObjectWeakInit();
  id v3 = (void *)UIAction.init(title:subtitle:image:selectedImage:identifier:discoverabilityTitle:attributes:state:handler:)();
  [v1 addAction:v3 forControlEvents:64];
}

void sub_1002EAF98()
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    id v1 = (char *)Strong;
    ArcadeSeeAllGamesDiffablePagePresenter.beingBatchFacetUpdates()();
    uint64_t v2 = ArcadeSeeAllGamesDiffablePagePresenter.facetsPresenter.getter();
    uint64_t v3 = *(void *)&v1[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph];
    id v4 = objc_allocWithZone((Class)type metadata accessor for PageFacetsViewController(0));
    swift_retain();
    id v5 = sub_1001134A8(v2, 1, v3);
    id v6 = *(void **)&v1[qword_10098EA00];
    *(void *)&v1[qword_10098EA00] = v5;
    id v7 = v5;
    sub_1002EA8E0(v6);
  }
}

void sub_1002EB074(void *a1)
{
  id v1 = a1;
  sub_1002EAEA0();
}

void sub_1002EB0BC(id a1)
{
  v13.receiver = v1;
  v13.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  if (a1) {
    a1 = [a1 preferredContentSizeCategory];
  }
  id v3 = [v1 traitCollection];
  id v4 = [v3 preferredContentSizeCategory];

  if (!a1)
  {

    goto LABEL_11;
  }
  uint64_t v5 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  uint64_t v7 = v6;
  if (v5 == static String._unconditionallyBridgeFromObjectiveC(_:)() && v7 == v8)
  {

    swift_bridgeObjectRelease_n();
    return;
  }
  char v10 = _stringCompareWithSmolCheck(_:_:expecting:)();

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  if ((v10 & 1) == 0)
  {
LABEL_11:
    id v11 = sub_1002EA698();
    [v11 sizeToFit];

    id v12 = sub_1002EA698();
    [v12 setNeedsLayout];
  }
}

void sub_1002EB21C(void *a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  id v6 = a1;
  sub_1002EB0BC(a3);
}

uint64_t sub_1002EB288()
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_1009964F0);
  uint64_t v24 = *(void *)(v2 - 8);
  uint64_t v25 = v2;
  __chkstk_darwin(v2);
  id v23 = (char *)v22 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = sub_100082C28(&qword_10098EFD0);
  uint64_t v29 = *(void *)(v27 - 8);
  __chkstk_darwin(v27);
  double v28 = (char *)v22 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098EFD8);
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)v22 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10043A94C();
  uint64_t v9 = *(void *)(v0 + qword_1009E2BC0);
  ArcadeSeeAllGamesDiffablePagePresenter.onShowEmptyState.getter();
  uint64_t v10 = sub_100084CF0(0, (unint64_t *)&qword_100984500);
  uint64_t v11 = static OS_dispatch_queue.main.getter();
  uint64_t v31 = v10;
  CGFloat v32 = &protocol witness table for OS_dispatch_queue;
  v30[0] = v11;
  sub_100082C28(&qword_10098EFE8);
  sub_1000DD560((unint64_t *)&unk_10098EFF0, &qword_10098EFE8);
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  uint64_t v26 = ObjectType;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  ArcadeSeeAllGamesDiffablePagePresenter.facetsPresenter.getter();
  PageFacetsPresenter.onFacetStateDidChange.getter();
  swift_release();
  uint64_t v12 = static OS_dispatch_queue.main.getter();
  uint64_t v31 = v10;
  CGFloat v32 = &protocol witness table for OS_dispatch_queue;
  v30[0] = v12;
  sub_100082C28((uint64_t *)&unk_100996500);
  sub_1000DD560((unint64_t *)&unk_10098F000, (uint64_t *)&unk_100996500);
  objc_super v13 = v28;
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  id v14 = *(void (**)(char *, uint64_t))(v29 + 8);
  v29 += 8;
  uint64_t v15 = v27;
  v14(v13, v27);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  v22[1] = v9;
  ArcadeSeeAllGamesDiffablePagePresenter.facetsPresenter.getter();
  PageFacetsPresenter.onSelectedFacetOptionsChanged.getter();
  swift_release();
  uint64_t v16 = static OS_dispatch_queue.main.getter();
  uint64_t v31 = v10;
  CGFloat v32 = &protocol witness table for OS_dispatch_queue;
  v30[0] = v16;
  v22[0] = v0;
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  v14(v13, v15);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  uint64_t v17 = type metadata accessor for Feature.iOS();
  uint64_t v31 = v17;
  CGFloat v32 = (void *)sub_10000C64C((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  id v18 = sub_1000808B8(v30);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v17 - 8) + 104))(v18, enum case for Feature.iOS.arcade_see_all_games_menu_uplift(_:), v17);
  LOBYTE(v17) = isFeatureEnabled(_:)();
  uint64_t result = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  if (v17)
  {
    ArcadeSeeAllGamesDiffablePagePresenter.facetsPresenter.getter();
    PageFacetsPresenter.onPerformPageFacetsChangeAction.getter();
    swift_release();
    uint64_t v20 = static OS_dispatch_queue.main.getter();
    uint64_t v31 = v10;
    CGFloat v32 = &protocol witness table for OS_dispatch_queue;
    v30[0] = v20;
    sub_100082C28(&qword_100996510);
    sub_1000DD560((unint64_t *)&unk_10098F010, &qword_100996510);
    id v21 = v23;
    EventEmitter.addObserver<A>(on:target:method:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v24 + 8))(v21, v25);
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
  }
  return result;
}

void sub_1002EB838(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for ArcadeSeeAllGamesDiffablePagePresenter.EmptyStateData();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v18 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28(&qword_10098F028);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v18 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100082B68(a1, (uint64_t)v8, &qword_10098F028);
  uint64_t v9 = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v3 + 48))(v8, 1, v2) != 1)
  {
    (*(void (**)(char *, char *, uint64_t))(v3 + 32))(v5, v8, v2);
    uint64_t v10 = ArcadeSeeAllGamesDiffablePagePresenter.EmptyStateData.title.getter();
    uint64_t v12 = v11;
    uint64_t v13 = ArcadeSeeAllGamesDiffablePagePresenter.EmptyStateData.subtitle.getter();
    uint64_t v15 = v14;
    id v16 = objc_allocWithZone((Class)type metadata accessor for EmptyStateView());
    sub_100408054(v10, v12, v13, v15);
    id v17 = objc_allocWithZone((Class)type metadata accessor for OverlayViewController());
    uint64_t v9 = (void *)OverlayViewController.init(overlayView:)();
    (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  }
  sub_1002ECE54(v9);
}

void (*sub_1002EBA28(void *a1))(uint64_t a1)
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_1002ED6CC;
}

void (*sub_1002EBA8C(void *a1))(uint64_t a1)
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_1002ED6B0;
}

void (*sub_1002EBAF0(void *a1))(uint64_t)
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_1002ED714;
}

void sub_1002EBB54(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_10098F020);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v15[-1] - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for Feature.iOS();
  v15[3] = v7;
  v15[4] = sub_10000C64C((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  uint64_t v8 = sub_1000808B8(v15);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v7 - 8) + 104))(v8, enum case for Feature.iOS.arcade_see_all_games_menu_uplift(_:), v7);
  LOBYTE(v7) = isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v15);
  if (v7)
  {
    sub_1002EC3AC();
  }
  else
  {
    PageFacetsPresenter.FacetsState.facets.getter();
    uint64_t v9 = type metadata accessor for PageFacets();
    uint64_t v10 = *(void *)(v9 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48))(v6, 1, v9) == 1)
    {
      sub_100082BCC((uint64_t)v6, &qword_10098F020);
      BOOL v11 = 0;
    }
    else
    {
      uint64_t v12 = PageFacets.facetGroups.getter();
      (*(void (**)(char *, uint64_t))(v10 + 8))(v6, v9);
      uint64_t v13 = *(void *)(v12 + 16);
      swift_bridgeObjectRelease();
      BOOL v11 = v13 != 0;
    }
    *(unsigned char *)(a2 + qword_10098EA08) = v11;
    sub_1002EACC8();
    sub_1002EC5E8(a1);
  }
}

uint64_t sub_1002EBD5C(uint64_t a1)
{
  uint64_t v25 = a1;
  uint64_t v1 = type metadata accessor for Dependency();
  uint64_t v23 = *(void *)(v1 - 8);
  uint64_t v24 = v1;
  __chkstk_darwin(v1);
  uint64_t v3 = (char *)&v19 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for MetricsFieldsContext();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v19 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v19 - v9;
  uint64_t v21 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v11 = *(void *)(v21 - 8);
  __chkstk_darwin(v21);
  uint64_t v13 = (char *)&v19 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v22 = *(void *)(v20 - 8);
  __chkstk_darwin(v20);
  uint64_t v15 = (char *)&v19 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  inject(_:from:)();
  v26[3] = type metadata accessor for Action();
  v26[4] = sub_10000C64C((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
  v26[0] = v25;
  swift_retain_n();
  sub_1005365D0();
  (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v10, v4);
  Dependency.init<A>(satisfying:with:)();
  dispatch thunk of BaseObjectGraph.adding(dependency:)();
  (*(void (**)(char *, uint64_t))(v23 + 8))(v3, v24);
  (*(void (**)(char *, char *, uint64_t))(v5 + 32))(v13, v10, v4);
  uint64_t v16 = v21;
  (*(void (**)(char *, void, uint64_t))(v11 + 104))(v13, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v21);
  uint64_t v17 = v20;
  ActionDispatcher.perform(_:withMetrics:asPartOf:)();
  swift_release();
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v16);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v26);
  swift_release();
  (*(void (**)(char *, uint64_t))(v22 + 8))(v15, v17);
  return swift_release();
}

uint64_t (*sub_1002EC144(void *a1))(void *a1)
{
  uint64_t v2 = swift_allocObject();
  *(void *)(v2 + 16) = a1;
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = sub_1002ED32C;
  *(void *)(v3 + 24) = v2;
  id v4 = a1;
  return sub_10011C0EC;
}

unint64_t sub_1002EC1D4@<X0>(uint64_t *a1@<X8>)
{
  type metadata accessor for PageGridCache();
  swift_allocObject();
  uint64_t v2 = PageGridCache.init()();
  a1[3] = (uint64_t)&type metadata for ArcadeSeeAllGamesPageGridProvider;
  unint64_t result = sub_1002ED2A0();
  a1[4] = result;
  *a1 = v2;
  return result;
}

unint64_t sub_1002EC22C@<X0>(uint64_t a1@<X8>)
{
  *(void *)(a1 + 24) = &type metadata for ArcadeSeeAllGamesPageShelfLayoutSectionProvider;
  unint64_t result = sub_1002ED24C();
  *(void *)(a1 + 32) = result;
  return result;
}

void sub_1002EC260(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_10098EFB0);
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v7 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10073953C(a1);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, a1, v2);
  if ((*(unsigned int (**)(char *, uint64_t))(v3 + 88))(v5, v2) == enum case for DiffablePagePresenter.UpdatePhase.started<A>(_:))
  {
    type metadata accessor for VideoPlaybackCoordinator();
    uint64_t v6 = (void *)inject(_:from:)();
    dispatch thunk of VideoPlaybackCoordinator.unregisterAllVideoViews()();
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  }
}

void sub_1002EC3AC()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for ArcadeSeeAllGamesPage.DisplayStyle();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v14 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = ArcadeSeeAllGamesDiffablePagePresenter.facetsPresenter.getter();
  ArcadeSeeAllGamesDiffablePagePresenter.displayStyle.getter();
  uint64_t v7 = swift_allocObject();
  *(void *)(v7 + 16) = v1;
  id v8 = v1;
  Class v9 = sub_1006E6378(v6, (uint64_t)v5, (uint64_t)sub_1002ED36C, (char *)v7);
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  sub_100084CF0(0, (unint64_t *)&qword_100981A18);
  uint64_t v10 = (objc_class *)[(objc_class *)v9 image];
  uint64_t v11 = v9;
  v15.value.super.Class isa = v10;
  v15.is_nil = 0;
  v16.value.super.super.Class isa = v9;
  Class isa = UIBarButtonItem.init(title:image:primaryAction:menu:)((Swift::String_optional)0, v15, v16, v17).super.super.isa;
  id v13 = [v8 navigationItem];
  [v13 setRightBarButtonItem:isa];
}

void sub_1002EC588(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_1002ED390();
}

void sub_1002EC5E8(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_10098EF88);
  __chkstk_darwin(v2 - 8);
  id v4 = (char *)&v11 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v5 = sub_1002EA698();
  type metadata accessor for PageFacetsPresenter();
  uint64_t v6 = type metadata accessor for PageFacetsPresenter.FacetsState();
  uint64_t v7 = *(void *)(v6 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v4, a1, v6);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v4, 0, 1, v6);
  static PageFacetsPresenter.selectedFacetsTitle(for:)();
  sub_100082BCC((uint64_t)v4, &qword_10098EF88);
  NSString v8 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v5 setTitle:v8 forState:0];

  id v9 = sub_1002EA698();
  [v9 sizeToFit];

  id v10 = sub_1002EA698();
  [v10 setNeedsLayout];
}

void sub_1002EC78C(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  ArcadeSeeAllGamesDiffablePagePresenter.commitBatchFacetUpdates()();
  sub_1002EA818(0);
}

uint64_t sub_1002EC804(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for URL();
  uint64_t v30 = *(void *)(v2 - 8);
  uint64_t v31 = v2;
  __chkstk_darwin(v2);
  id v4 = (char *)&v30 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098EF90);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v30 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for FlowDestination();
  __chkstk_darwin(v8);
  id v10 = (char *)&v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v11 - 8);
  id v13 = (char *)&v30 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  UIAction_optional v16 = (char *)&v30 - v15;
  __chkstk_darwin(v17);
  uint64_t v19 = (char *)&v30 - v18;
  sub_100178B70(a1, (uint64_t)v10);
  if (swift_getEnumCaseMultiPayload() != 8)
  {
    sub_100077F0C((uint64_t)v10);
LABEL_9:
    char v24 = 0;
    return v24 & 1;
  }
  swift_release();
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_10098EFA0);
  sub_100178BD4((uint64_t)&v10[*(int *)(v20 + 48)], (uint64_t)v19);
  DiffablePagePresenter.pageUrl.getter();
  uint64_t v21 = (uint64_t)&v7[*(int *)(v5 + 48)];
  sub_100082B68((uint64_t)v16, (uint64_t)v7, (uint64_t *)&unk_100991FE0);
  sub_100082B68((uint64_t)v19, v21, (uint64_t *)&unk_100991FE0);
  uint64_t v22 = v30;
  uint64_t v23 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v30 + 48);
  if (v23((uint64_t)v7, 1, v31) != 1)
  {
    sub_100082B68((uint64_t)v7, (uint64_t)v13, (uint64_t *)&unk_100991FE0);
    if (v23(v21, 1, v31) != 1)
    {
      uint64_t v26 = v4;
      uint64_t v27 = v4;
      uint64_t v28 = v31;
      (*(void (**)(char *, uint64_t, uint64_t))(v22 + 32))(v27, v21, v31);
      sub_10000C64C(&qword_100986BC0, (void (*)(uint64_t))&type metadata accessor for URL);
      char v24 = dispatch thunk of static Equatable.== infix(_:_:)();
      uint64_t v29 = *(void (**)(char *, uint64_t))(v22 + 8);
      v29(v26, v28);
      sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
      sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
      v29(v13, v28);
      sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100991FE0);
      return v24 & 1;
    }
    sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
    sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
    (*(void (**)(char *, uint64_t))(v22 + 8))(v13, v31);
    goto LABEL_8;
  }
  sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
  sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
  if (v23(v21, 1, v31) != 1)
  {
LABEL_8:
    sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_10098EF90);
    goto LABEL_9;
  }
  sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100991FE0);
  char v24 = 1;
  return v24 & 1;
}

void sub_1002ECC4C()
{
  uint64_t v1 = *(void **)(v0 + qword_10098EA00);
}

void sub_1002ECCAC(uint64_t a1)
{
  uint64_t v2 = *(void **)(a1 + qword_10098EA00);
}

uint64_t type metadata accessor for ArcadeSeeAllGamesDiffablePageViewController()
{
  uint64_t result = qword_10098EA38;
  if (!qword_10098EA38) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_1002ECD64()
{
  return swift_initClassMetadata2();
}

uint64_t sub_1002ECDB8()
{
  return type metadata accessor for ArcadeSeeAllGamesDiffablePageViewController();
}

void sub_1002ECDC0()
{
  ArcadeSeeAllGamesDiffablePagePresenter.commitBatchFacetUpdates()();
  id v1 = *(id *)(v0 + qword_10098EA00);
  *(void *)(v0 + qword_10098EA00) = 0;
  sub_1002EA8E0(v1);
}

uint64_t sub_1002ECE2C(uint64_t a1)
{
  return sub_1002EC804(a1) & 1;
}

void sub_1002ECE54(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_overlayViewController;
  id v4 = *(id *)&v1[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_overlayViewController];
  id v5 = a1;
  static ViewControllerContainment.remove(_:)();

  uint64_t v6 = *(void **)&v1[v3];
  *(void *)&v1[v3] = a1;
  id v7 = v5;

  id v8 = *(id *)&v1[v3];
  id v9 = [v1 view];
  if (v9)
  {
    id v10 = v9;
    [v9 bounds];

    static ViewControllerContainment.add(_:to:frame:)();
    id v11 = [v1 collectionView];
    if (v11)
    {
      id v12 = v11;
      [v11 setHidden:*(void *)&v1[v3] != 0];
    }
  }
  else
  {
    __break(1u);
  }
}

id sub_1002ECFBC()
{
  uint64_t v0 = sub_100082C28(&qword_10098EF80);
  __chkstk_darwin(v0 - 8);
  uint64_t v2 = (char *)&v13 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_100082C28(&qword_10098EF88);
  __chkstk_darwin(v3 - 8);
  id v5 = (char *)&v13 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v6 = [self buttonWithType:1];
  type metadata accessor for PageFacetsPresenter();
  uint64_t v7 = type metadata accessor for PageFacetsPresenter.FacetsState();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v7 - 8) + 56))(v5, 1, 1, v7);
  static PageFacetsPresenter.selectedFacetsTitle(for:)();
  sub_100082BCC((uint64_t)v5, &qword_10098EF88);
  NSString v8 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v6 setTitle:v8 forState:0];

  if (qword_10097E8F0 != -1) {
    swift_once();
  }
  uint64_t v9 = type metadata accessor for UIButton.Configuration();
  uint64_t v10 = sub_100087728(v9, (uint64_t)qword_10098E9D0);
  uint64_t v11 = *(void *)(v9 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v2, v10, v9);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v11 + 56))(v2, 0, 1, v9);
  UIButton.configuration.setter();
  [v6 setAlpha:0.0];
  [v6 setMaximumContentSizeCategory:UIContentSizeCategoryExtraExtraExtraLarge];
  [v6 setPointerInteractionEnabled:1];
  return v6;
}

unint64_t sub_1002ED24C()
{
  unint64_t result = qword_10098EFB8;
  if (!qword_10098EFB8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098EFB8);
  }
  return result;
}

unint64_t sub_1002ED2A0()
{
  unint64_t result = qword_10098EFC0;
  if (!qword_10098EFC0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098EFC0);
  }
  return result;
}

uint64_t sub_1002ED2F4()
{
  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1002ED32C(uint64_t a1)
{
  return sub_1002EBD5C(a1);
}

uint64_t sub_1002ED334()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_1002ED36C()
{
}

void sub_1002ED390()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for ArcadeSeeAllGamesPage.DisplayStyle();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  id v5 = (char *)&v18[-1] - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  NSString v8 = (char *)&v18[-1] - v7;
  ArcadeSeeAllGamesDiffablePagePresenter.toggleDisplayStyle()();
  ArcadeSeeAllGamesDiffablePagePresenter.displayStyle.getter();
  (*(void (**)(char *, void, uint64_t))(v3 + 104))(v5, enum case for ArcadeSeeAllGamesPage.DisplayStyle.compact(_:), v2);
  sub_10000C64C(&qword_10098EF78, (void (*)(uint64_t))&type metadata accessor for ArcadeSeeAllGamesPage.DisplayStyle);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  if (v18[0] == v18[5] && v18[1] == v18[6]) {
    char v9 = 1;
  }
  else {
    char v9 = _stringCompareWithSmolCheck(_:_:expecting:)();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v10 = *(void (**)(char *, uint64_t))(v3 + 8);
  v10(v5, v2);
  v10(v8, v2);
  uint64_t v11 = type metadata accessor for Feature.iOS();
  v18[3] = v11;
  v18[4] = sub_10000C64C((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  id v12 = sub_1000808B8(v18);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v11 - 8) + 104))(v12, enum case for Feature.iOS.arcade_see_all_games_menu_uplift(_:), v11);
  LOBYTE(v11) = isFeatureEnabled(_:)();
  uint64_t v13 = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v18);
  if (v11)
  {
    sub_1002EC3AC(v13);
  }
  else
  {
    id v14 = [v1 navigationItem];
    id v15 = [v14 rightBarButtonItem];

    [v15 setSelected:v9 & 1];
  }
  type metadata accessor for VideoPlaybackCoordinator();
  UIAction_optional v16 = (void *)inject(_:from:)();
  if (v9) {
    dispatch thunk of VideoPlaybackCoordinator.pauseAutoPlayVideo()();
  }
  else {
    dispatch thunk of VideoPlaybackCoordinator.resumeAutoPlayVideo()();
  }
}

void sub_1002ED6B0(uint64_t a1)
{
  sub_1002EBB54(a1, *(void *)(v1 + 16));
}

void sub_1002ED6CC(uint64_t a1)
{
}

uint64_t sub_1002ED6D4()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_1002ED70C()
{
}

uint64_t sub_1002ED728()
{
  uint64_t v0 = type metadata accessor for LegacyAppState();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for AdamId();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v10 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (AppEvent.hideLockupWhenNotInstalled.getter())
  {
    inject(_:from:)();
    uint64_t v11 = v0;
    swift_getObjectType();
    AppEvent.lockup.getter();
    Lockup.adamId.getter();
    swift_release();
    dispatch thunk of AppStateController.stateMachine(forApp:)();
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    swift_getObjectType();
    AppEvent.lockup.getter();
    Lockup.includeBetaApps.getter();
    swift_release();
    dispatch thunk of AppStateMachine.currentStateIncludingBeta(_:)();
    char v8 = LegacyAppState.isLocalApplication.getter();
    swift_unknownObjectRelease();
    swift_unknownObjectRelease();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v11);
  }
  else
  {
    char v8 = 1;
  }
  return v8 & 1;
}

double sub_1002ED958()
{
  uint64_t v1 = *(char **)(v0 + OBJC_IVAR____TtC8AppStore27VideoCardCollectionViewCell_videoCardView);
  [v1 frame];
  double MinX = CGRectGetMinX(v4);
  [v1 frame];
  CGRectGetMinY(v5);
  [v1 frame];
  CGRectGetWidth(v6);
  [v1 frame];
  CGRectGetHeight(v7);
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore13VideoCardView_overlayView] frame];
  CGRectGetHeight(v8);
  return MinX;
}

void *sub_1002EDA14()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore27VideoCardCollectionViewCell_avatarShowcase);
  id v2 = v1;
  return v1;
}

void (*sub_1002EDA4C(void *a1))(void **a1, char a2)
{
  id v2 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore27VideoCardCollectionViewCell_avatarShowcase);
  *a1 = v2;
  a1[1] = v1;
  id v3 = v2;
  return sub_1002EDAA4;
}

void sub_1002EDAA4(void **a1, char a2)
{
  id v2 = *a1;
  if (a2)
  {
    id v3 = v2;
    sub_1001D5F18(v2);
  }
  else
  {
    sub_1001D5F18(*a1);
  }
}

uint64_t sub_1002EDB0C()
{
  return 3;
}

uint64_t sub_1002EDB14()
{
  return AvatarShowcaseLayoutConfiguration.init(width:visibleWidth:)();
}

double sub_1002EDB24()
{
  return 16.0;
}

uint64_t sub_1002EDB3C(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v5 = sub_1002EDD10(&qword_1009886B8, (void (*)(uint64_t))type metadata accessor for VideoCardCollectionViewCell);

  return AvatarShowcaseDisplaying.applyAvatars(from:asPartOf:)(a1, a2, ObjectType, v5);
}

uint64_t sub_1002EDBC8(uint64_t a1, uint64_t a2)
{
  return sub_1002EDBF8(a1, a2, (uint64_t (*)(uint64_t, uint64_t))&AvatarShowcaseDisplaying.unapply());
}

uint64_t sub_1002EDBE0(uint64_t a1, uint64_t a2)
{
  return sub_1002EDBF8(a1, a2, (uint64_t (*)(uint64_t, uint64_t))&AvatarShowcaseDisplaying.placeAvatarShowcase());
}

uint64_t sub_1002EDBF8(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t, uint64_t))
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v4 = sub_1002EDD10(&qword_1009886B8, (void (*)(uint64_t))type metadata accessor for VideoCardCollectionViewCell);

  return a3(ObjectType, v4);
}

uint64_t sub_1002EDC80()
{
  return sub_1002EDD10(&qword_10098F050, (void (*)(uint64_t))type metadata accessor for VideoCardCollectionViewCell);
}

uint64_t sub_1002EDCC8()
{
  return sub_1002EDD10(&qword_10098CCB8, (void (*)(uint64_t))type metadata accessor for AvatarShowcaseView);
}

uint64_t sub_1002EDD10(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_1002EDD58()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  id v3 = (char *)v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for PrivacyFooterLayout.Metrics();
  sub_100042444(v4, qword_1009E23C8);
  sub_100087728(v4, (uint64_t)qword_1009E23C8);
  if (qword_10097F4E8 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4910);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v16[3] = type metadata accessor for StaticDimension();
  v16[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v16);
  id v14 = (void *)v0;
  id v15 = &protocol witness table for FontSource;
  CGRect v7 = sub_1000808B8(v13);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  id v14 = &type metadata for Double;
  id v15 = &protocol witness table for Double;
  v13[0] = 0;
  uint64_t v12 = 0;
  long long v10 = 0u;
  long long v11 = 0u;
  v9[4] = &type metadata for Double;
  v9[5] = &protocol witness table for Double;
  v9[1] = 0;
  return PrivacyFooterLayout.Metrics.init(bodyTopSpace:actionButtonLeadingMargin:maxTextWidth:bottomSpace:)();
}

id sub_1002EE0C4()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_10098F0A8);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = &v14[-((v3 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v5 = sub_100082C28(&qword_10098F0A0);
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  CGRect v8 = &v14[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v9 = (uint64_t)&v1[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyText];
  swift_beginAccess();
  sub_1002EE8AC(v9, (uint64_t)v4);
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) == 1)
  {
    sub_100082BCC((uint64_t)v4, &qword_10098F0A8);
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyLabel] setAttributedText:0];
    return [v1 setNeedsLayout];
  }
  else
  {
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v6 + 32))(v8, v4, v5);
    ObjectGraphPair.value.getter();
    ObjectGraphPair.objectGraph.getter();
    uint64_t v11 = LinkableText.linkedSubstrings.getter();
    uint64_t v12 = sub_100143478(v11, (uint64_t (*)(uint64_t, uint64_t, uint64_t))sub_10014375C);
    swift_bridgeObjectRelease();
    uint64_t v13 = LinkableText.styledText.getter();
    sub_10034EEAC(v13, 0, (uint64_t)v12);
    swift_release();
    swift_release();
    swift_bridgeObjectRelease();
    swift_release();
    [v1 setNeedsLayout];
    return (id)(*(uint64_t (**)(unsigned char *, uint64_t))(v6 + 8))(v8, v5);
  }
}

uint64_t sub_1002EE350()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  v20[0] = type metadata accessor for LayoutRect();
  uint64_t v3 = *(void *)(v20[0] - 8);
  __chkstk_darwin(v20[0]);
  uint64_t v5 = (char *)v20 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for PrivacyFooterLayout.Metrics();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v20 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for PrivacyFooterLayout();
  uint64_t v11 = *(void *)(v10 - 8);
  *(void *)&double v12 = __chkstk_darwin(v10).n128_u64[0];
  id v14 = (char *)v20 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v21.receiver = v1;
  v21.super_class = ObjectType;
  [super layoutSubviews];
  id v15 = [v1 contentView];
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  LayoutMarginsAware<>.layoutFrame.getter();

  if (qword_10097E900 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_100087728(v6, (uint64_t)qword_1009E23C8);
  (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v16, v6);
  uint64_t v17 = *(void **)&v1[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyLabel];
  v20[4] = type metadata accessor for DynamicTypeLinkedLabel();
  v20[5] = &protocol witness table for UIView;
  v20[1] = v17;
  id v18 = v17;
  PrivacyFooterLayout.init(metrics:bodyLabel:actionButtons:)();
  PrivacyFooterLayout.placeChildren(relativeTo:in:)();
  (*(void (**)(char *, void))(v3 + 8))(v5, v20[0]);
  return (*(uint64_t (**)(char *, uint64_t))(v11 + 8))(v14, v10);
}

uint64_t sub_1002EE720()
{
  return type metadata accessor for PrivacyFooterCollectionViewCell();
}

uint64_t type metadata accessor for PrivacyFooterCollectionViewCell()
{
  uint64_t result = qword_10098F088;
  if (!qword_10098F088) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_1002EE774()
{
  sub_1000A1880();
  if (v0 <= 0x3F)
  {
    sub_1002EE850();
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

void sub_1002EE850()
{
  if (!qword_10098F098)
  {
    sub_100078F30(&qword_10098F0A0);
    unint64_t v0 = type metadata accessor for Optional();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_10098F098);
    }
  }
}

uint64_t sub_1002EE8AC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_10098F0A8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

char *sub_1002EE914()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v34 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v1 = *(void *)(v34 - 8);
  __chkstk_darwin(v34);
  uint64_t v3 = (char *)&v31 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = type metadata accessor for AutomationSemantics();
  uint64_t v4 = *(void *)(v33 - 8);
  __chkstk_darwin(v33);
  uint64_t v6 = (char *)&v31 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for FontUseCase();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v31 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = &v0[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_itemLayoutContext];
  uint64_t v12 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v12 - 8) + 56))(v11, 1, 1, v12);
  uint64_t v13 = &v0[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyText];
  uint64_t v14 = sub_100082C28(&qword_10098F0A0);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v14 - 8) + 56))(v13, 1, 1, v14);
  uint64_t v15 = qword_10097F4E8;
  uint64_t v16 = v0;
  if (v15 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_100087728(v7, (uint64_t)qword_1009E4910);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v17, v7);
  id v18 = objc_allocWithZone((Class)type metadata accessor for DynamicTypeLinkedLabel());
  *(void *)&v16[OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyLabel] = sub_10034EA28((uint64_t)v10, 0, 0);

  v37.receiver = v16;
  v37.super_class = ObjectType;
  uint64_t v19 = [(char *)[super initWithFrame:0.0, 0.0, 0.0, 0.0]];
  id v20 = [v19 contentView];
  [v20 setClipsToBounds:0];

  id v21 = [v19 contentView];
  [v21 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  uint64_t v22 = OBJC_IVAR____TtC8AppStore31PrivacyFooterCollectionViewCell_bodyLabel;
  memset(v36, 0, sizeof(v36));
  memset(v35, 0, sizeof(v35));
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)v35, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)v36, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v33);
  uint64_t v23 = *(void **)&v19[v22];
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for DirectionalTextAlignment.leading(_:), v34);
  dispatch thunk of DynamicTypeLabel.directionalTextAlignment.setter();
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  char v24 = v23;
  uint64_t v25 = (void *)static UIColor.secondaryText.getter();
  uint64_t v26 = *(void **)&v24[qword_100991548];
  *(void *)&v24[qword_100991548] = v25;
  id v27 = v25;
  LOBYTE(v23) = static NSObject.== infix(_:_:)();

  if ((v23 & 1) == 0) {
    sub_10034F280();
  }

  id v28 = [v19 contentView];
  id v29 = *(id *)&v19[v22];
  [v28 addSubview:v29];

  return v19;
}

void sub_1002EEDFC(uint64_t a1)
{
  uint64_t v3 = sub_100082C28(&qword_10098F798);
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v9 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100739B4C(a1);
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, a1, v3);
  if ((*(unsigned int (**)(char *, uint64_t))(v4 + 88))(v6, v3) == enum case for DiffablePagePresenter.UpdatePhase.completed<A>(_:))
  {
    (*(void (**)(char *, uint64_t))(v4 + 96))(v6, v3);
    SearchChartsAndCategoriesPage.title.getter();
    if (v7)
    {
      NSString v8 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v8 = 0;
    }
    [v1 setTitle:v8];
    swift_release();
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  }
}

uint64_t sub_1002EEF84()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph);
  type metadata accessor for SearchChartsAndCategoriesShelfSupplementaryProvider();
  uint64_t v2 = swift_allocObject();
  uint64_t v3 = sub_1000751D4(&qword_10098F788, 255, (void (*)(uint64_t))&type metadata accessor for SearchChartsAndCategoriesDiffablePagePresenter);
  *(void *)(v2 + 32) = 0;
  swift_unknownObjectWeakInit();
  *(void *)(v2 + 32) = v3;
  swift_unknownObjectWeakAssign();
  *(void *)(v2 + 16) = v1;
  sub_1000751D4(&qword_10098F790, v4, (void (*)(uint64_t))type metadata accessor for SearchChartsAndCategoriesShelfSupplementaryProvider);
  swift_retain();
  return v2;
}

uint64_t sub_1002EF080@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v2 = SearchChartsAndCategoriesDiffablePagePresenter.columnCount.getter();
  char v4 = v3;
  type metadata accessor for PageGridCache();
  swift_allocObject();
  uint64_t v5 = PageGridCache.init()();
  swift_allocObject();
  uint64_t v6 = PageGridCache.init()();
  a1[3] = (uint64_t)&type metadata for SearchChartsAndCategoriesPageGridProvider;
  a1[4] = sub_1002EF7C8();
  uint64_t result = swift_allocObject();
  *a1 = result;
  *(void *)(result + 16) = v5;
  *(void *)(result + 24) = v6;
  *(void *)(result + 32) = v2;
  *(unsigned char *)(result + 40) = v4 & 1;
  return result;
}

unint64_t sub_1002EF148@<X0>(uint64_t a1@<X8>)
{
  *(void *)(a1 + 24) = &type metadata for SearchChartsAndCategoriesPageShelfLayoutSpacingProvider;
  unint64_t result = sub_1002EF774();
  *(void *)(a1 + 32) = result;
  return result;
}

uint64_t sub_1002EF17C(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for URL();
  uint64_t v30 = *(void *)(v2 - 8);
  uint64_t v31 = v2;
  __chkstk_darwin(v2);
  char v4 = (char *)&v30 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098EF90);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v30 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for FlowDestination();
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v30 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v16 = (char *)&v30 - v15;
  __chkstk_darwin(v17);
  uint64_t v19 = (char *)&v30 - v18;
  sub_100178B70(a1, (uint64_t)v10);
  if (swift_getEnumCaseMultiPayload() != 8)
  {
    sub_100077F0C((uint64_t)v10);
LABEL_9:
    char v24 = 0;
    return v24 & 1;
  }
  swift_release();
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_10098EFA0);
  sub_100178BD4((uint64_t)&v10[*(int *)(v20 + 48)], (uint64_t)v19);
  DiffablePagePresenter.pageUrl.getter();
  uint64_t v21 = (uint64_t)&v7[*(int *)(v5 + 48)];
  sub_10008B740((uint64_t)v16, (uint64_t)v7);
  sub_10008B740((uint64_t)v19, v21);
  uint64_t v22 = v30;
  uint64_t v23 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v30 + 48);
  if (v23((uint64_t)v7, 1, v31) != 1)
  {
    sub_10008B740((uint64_t)v7, (uint64_t)v13);
    if (v23(v21, 1, v31) != 1)
    {
      uint64_t v26 = v4;
      id v27 = v4;
      uint64_t v28 = v31;
      (*(void (**)(char *, uint64_t, uint64_t))(v22 + 32))(v27, v21, v31);
      sub_1000751D4(&qword_100986BC0, 255, (void (*)(uint64_t))&type metadata accessor for URL);
      char v24 = dispatch thunk of static Equatable.== infix(_:_:)();
      id v29 = *(void (**)(char *, uint64_t))(v22 + 8);
      v29(v26, v28);
      sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
      sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
      v29(v13, v28);
      sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100991FE0);
      return v24 & 1;
    }
    sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
    sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
    (*(void (**)(char *, uint64_t))(v22 + 8))(v13, v31);
    goto LABEL_8;
  }
  sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100991FE0);
  sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100991FE0);
  if (v23(v21, 1, v31) != 1)
  {
LABEL_8:
    sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_10098EF90);
    goto LABEL_9;
  }
  sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100991FE0);
  char v24 = 1;
  return v24 & 1;
}

uint64_t type metadata accessor for SearchChartsAndCategoriesDiffablePageViewController()
{
  uint64_t result = qword_10098F0D8;
  if (!qword_10098F0D8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_1002EF604()
{
  return swift_initClassMetadata2();
}

uint64_t sub_1002EF63C()
{
  return type metadata accessor for SearchChartsAndCategoriesDiffablePageViewController();
}

uint64_t sub_1002EF644(uint64_t a1)
{
  return sub_1002EF17C(a1) & 1;
}

uint64_t sub_1002EF66C@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = sub_100082C28(&qword_100996310);
  __chkstk_darwin(v2 - 8);
  char v4 = (char *)&v7 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for ShelfHeader.Configuration();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 56))(v4, 1, 1, v5);
  sub_10008D5D0(1, 1, 0, 0, 0, (uint64_t)v4, a1);
  return sub_100082BCC((uint64_t)v4, &qword_100996310);
}

uint64_t type metadata accessor for SearchChartsAndCategoriesShelfSupplementaryProvider()
{
  return self;
}

unint64_t sub_1002EF774()
{
  unint64_t result = qword_10098F778;
  if (!qword_10098F778)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098F778);
  }
  return result;
}

unint64_t sub_1002EF7C8()
{
  unint64_t result = qword_10098F780;
  if (!qword_10098F780)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098F780);
  }
  return result;
}

uint64_t sub_1002EF81C()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 41, 7);
}

uint64_t sub_1002EF85C()
{
  uint64_t v0 = sub_100082C28(&qword_10098F7C0);
  __chkstk_darwin(v0);
  uint64_t v1 = sub_100082C28(&qword_10098F7B8);
  sub_100042444(v1, qword_10098F7A0);
  sub_100087728(v1, (uint64_t)qword_10098F7A0);
  sub_1002EFC48();
  ViewRecycler.init()();
  sub_1002EFC88();
  return ReusePool.init(recycler:limit:)();
}

void sub_1002EF930(void *a1@<X8>)
{
  id v2 = objc_allocWithZone((Class)LPLinkView);
  URL._bridgeToObjectiveC()(v3);
  uint64_t v5 = v4;
  id v6 = [v2 initWithURL:v4];

  *a1 = v6;
}

double sub_1002EF994(double a1, uint64_t a2, uint64_t a3)
{
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)v18 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for URL();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v18 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  dispatch thunk of EditorialLink.url.getter();
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v9 + 48))(v7, 1, v8) == 1)
  {
    sub_10007A8F0((uint64_t)v7);
    return 0.0;
  }
  else
  {
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v9 + 32))(v11, v7, v8);
    if (qword_10097E908 != -1) {
      swift_once();
    }
    uint64_t v13 = sub_100082C28(&qword_10098F7B8);
    uint64_t v14 = sub_100087728(v13, (uint64_t)qword_10098F7A0);
    __chkstk_darwin(v14);
    v18[-2] = v11;
    swift_beginAccess();
    ReusePool.dequeue(or:)();
    swift_endAccess();
    id v15 = v19;
    [v19 setMetadata:a3];
    [v15 sizeThatFits:a1];
    double v12 = v16;
    id v19 = v15;
    swift_beginAccess();
    ReusePool.recycle(_:)();
    swift_endAccess();
    (*(void (**)(unsigned char *, uint64_t))(v9 + 8))(v11, v8);
  }
  return v12;
}

void sub_1002EFC40(void *a1@<X8>)
{
}

unint64_t sub_1002EFC48()
{
  unint64_t result = qword_10098F7C8;
  if (!qword_10098F7C8)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_10098F7C8);
  }
  return result;
}

unint64_t sub_1002EFC88()
{
  unint64_t result = qword_10098F7D0;
  if (!qword_10098F7D0)
  {
    sub_100078F30(&qword_10098F7C0);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098F7D0);
  }
  return result;
}

double UITextView.firstBaselineFromTop.getter()
{
  id v1 = [v0 layoutManager];
  [v1 baselineOffsetForGlyphAtIndex:0];
  double v3 = v2;

  return v3;
}

double UITextView.lastBaselineFromBottom.getter()
{
  id v1 = [v0 layoutManager];
  id v2 = [v0 textContainer];
  [v1 usedRectForTextContainer:v2];
  uint64_t v4 = v3;
  uint64_t v6 = v5;
  uint64_t v8 = v7;
  uint64_t v10 = v9;

  uint64_t v11 = v4;
  uint64_t v12 = v6;
  uint64_t v13 = v8;
  uint64_t v14 = v10;

  return CGRectGetMaxY(*(CGRect *)&v11);
}

uint64_t sub_1002EFF10(uint64_t (*a1)(void))
{
  return a1();
}

void sub_1002EFF38()
{
}

uint64_t sub_1002EFF68()
{
  return swift_release();
}

uint64_t sub_1002EFF78()
{
  BasePageLayoutSectionProvider.deinit();
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t sub_1002EFFC8()
{
  return type metadata accessor for TodayPageLayoutSectionProvider();
}

void *sub_1002EFFEC(unint64_t a1, uint64_t (*a2)(void))
{
  if (a1 >> 62)
  {
LABEL_16:
    swift_bridgeObjectRetain();
    uint64_t v4 = _CocoaArrayWrapper.endIndex.getter();
    if (v4) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v4 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v4)
    {
LABEL_3:
      uint64_t v5 = 4;
      do
      {
        uint64_t v6 = v5 - 4;
        if ((a1 & 0xC000000000000001) != 0)
        {
          specialized _ArrayBuffer._getElementSlowPath(_:)();
          uint64_t v7 = v5 - 3;
          if (__OFADD__(v6, 1)) {
            goto LABEL_15;
          }
        }
        else
        {
          swift_retain();
          uint64_t v7 = v5 - 3;
          if (__OFADD__(v6, 1))
          {
LABEL_15:
            __break(1u);
            goto LABEL_16;
          }
        }
        uint64_t v8 = a2();
        swift_release();
        if (v8)
        {
          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }
          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          specialized Array._endMutation()();
        }
        ++v5;
      }
      while (v7 != v4);
    }
  }
  swift_bridgeObjectRelease();
  return _swiftEmptyArrayStorage;
}

double sub_1002F0174()
{
  if (qword_10097FED0 != -1) {
    swift_once();
  }
  double result = *(double *)&xmmword_1009E63C8;
  xmmword_10098F830 = (unint64_t)xmmword_1009E63C8;
  unk_10098F840 = 0;
  qword_10098F848 = qword_1009E63E0;
  qword_10098F850 = 0;
  byte_10098F858 = 1;
  return result;
}

void sub_1002F01E8()
{
  qword_10098F860 = 0x403E000000000000;
}

void sub_1002F01F8()
{
  qword_10098F868 = 0x4044000000000000;
}

double sub_1002F0208()
{
  sub_100082C28((uint64_t *)&unk_100984E10);
  uint64_t v0 = swift_allocObject();
  *(void *)&double result = 2;
  *(_OWORD *)(v0 + 16) = xmmword_1007BF1D0;
  *(_OWORD *)(v0 + 32) = xmmword_1007CFC50;
  qword_10098F870 = v0;
  return result;
}

char *sub_1002F0250(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for AutomationSemantics();
  uint64_t v45 = *(void *)(v9 - 8);
  uint64_t v46 = v9;
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v43 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for RiverViewStyling();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  id v15 = (char *)&v43 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverContainerView;
  id v17 = objc_allocWithZone((Class)UIView);
  uint64_t v18 = v4;
  *(void *)&v4[v16] = [v17 init];
  v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_isDisappearing] = 0;
  swift_unknownObjectWeakInit();
  if (qword_10097FE68 != -1) {
    swift_once();
  }
  long long v19 = xmmword_1009E62F0;
  type metadata accessor for RiverCardDataSource();
  uint64_t v20 = swift_allocObject();
  *(void *)(v20 + 32) = _swiftEmptyArrayStorage;
  *(_OWORD *)(v20 + 16) = xmmword_1007CFC60;
  *(_OWORD *)(v20 + 40) = v19;
  *(void *)&v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverDataSource] = v20;
  static RiverViewStyling.todayTabSpeed.getter();
  if (qword_10097E928 != -1) {
    swift_once();
  }
  swift_bridgeObjectRetain();
  RiverViewStyling.init(itemSize:interRowSpacing:interItemSpacing:speed:rowOffsets:reverseAlternatingRows:)();
  uint64_t v21 = &v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverStyling];
  (*(void (**)(char *, char *, uint64_t))(v13 + 32))(&v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverStyling], v15, v12);
  uint64_t v22 = *(void (**)(char *, char *, uint64_t))(v13 + 16);
  v22(v15, v21, v12);
  objc_allocWithZone((Class)sub_100082C28(&qword_10098F8E8));
  swift_retain();
  *(void *)&v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView] = RiverView.init(dataSource:styling:)();
  v22(v15, v21, v12);
  id v23 = objc_allocWithZone((Class)type metadata accessor for RiverTodayCardBackgroundView());
  *(void *)&v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView] = sub_1004C8810((uint64_t)v15);
  v52[0] = sub_100093430;
  v52[1] = 0;
  v52[2] = sub_1005D7E9C;
  v52[3] = 0;
  v52[4] = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
  v52[5] = 0;
  v52[6] = sub_100053DF8;
  v52[7] = 0;
  v52[8] = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
  v52[9] = 0;
  v52[10] = sub_10009668C;
  v52[11] = 0;
  if (qword_10097E910 != -1) {
    swift_once();
  }
  long long v53 = xmmword_10098F830;
  v54[0] = unk_10098F840;
  *(_OWORD *)((char *)v54 + 9) = *(_OWORD *)((char *)&qword_10098F848 + 1);
  id v24 = objc_allocWithZone((Class)type metadata accessor for TodayCardLabelsView());
  *(void *)&v18[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView] = sub_10005EBD8((uint64_t)v52, &v53);

  v51.receiver = v18;
  v51.super_class = ObjectType;
  uint64_t v25 = (char *)[super initWithFrame:a1, a2, a3, a4];
  uint64_t v26 = (id *)&v25[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView];
  swift_beginAccess();
  id v27 = *v26;
  uint64_t v28 = v25;
  [v27 _setContinuousCornerRadius:14.0];
  id v29 = *v26;
  [v29 bounds];
  [v29 setBounds:];

  [*v26 setClipsToBounds:1];
  uint64_t v30 = (id *)&v28[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView];
  swift_beginAccess();
  [*v30 setClipsToBounds:0];
  uint64_t v31 = (id *)&v28[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverContainerView];
  swift_beginAccess();
  [*v31 setClipsToBounds:1];
  id v32 = [v28 contentView];
  [v32 addSubview:*v26];

  [*v31 addSubview:*v30];
  id v33 = [v28 contentView];
  [v33 addSubview:*v31];

  id v34 = [v28 contentView];
  uint64_t v35 = &v28[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
  swift_beginAccess();
  [v34 addSubview:*(void *)v35];

  id v36 = *v30;
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v37 = v36;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  uint64_t v38 = v46;
  double v39 = *(void (**)(char *, uint64_t))(v45 + 8);
  v39(v11, v46);
  id v40 = *v26;
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v41 = v40;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  v39(v11, v38);
  return v28;
}

void sub_1002F097C()
{
  uint64_t v1 = v0;
  id v2 = (id *)(v0 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView);
  swift_beginAccess();
  uint64_t v3 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isMotionEnabled;
  id v4 = *v2;
  dispatch thunk of RiverView.isAnimating.setter();

  uint64_t v5 = (void **)(v1 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView);
  swift_beginAccess();
  uint64_t v6 = *v5;
  int v7 = *(unsigned __int8 *)(v1 + v3);
  int v8 = *((unsigned __int8 *)*v5 + OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_isAnimating);
  *((unsigned char *)*v5 + OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_isAnimating) = v7;
  if (v7 != v8)
  {
    id v9 = v6;
    sub_1004C97D4();
  }
}

void sub_1002F0A4C(char a1)
{
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isMotionEnabled) = a1;
  sub_1002F097C();
}

void sub_1002F0A60(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning;
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning) = a1;
  uint64_t v5 = (void *)(v1 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView);
  swift_beginAccess();
  *(unsigned char *)(*v5 + qword_10099E280) = a1;
  sub_100579014();
  uint64_t v6 = (id *)(v2 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView);
  swift_beginAccess();
  id v7 = *v6;
  dispatch thunk of RiverView.isTransitioning.setter();

  if ((*(unsigned char *)(v2 + v4) & 1) == 0) {
    *(unsigned char *)(v2 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_isDisappearing) = 0;
  }
}

void sub_1002F0B28()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded;
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    uint64_t v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  }
  else {
    uint64_t v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  if (v0[*v2] != 4)
  {
    id v3 = [v0 traitCollection];
    uint64_t v4 = v3;
    if (v0[v1]) {
      uint64_t v5 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    }
    else {
      uint64_t v5 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    sub_100057C20(v3, v0[*v5], (uint64_t)v27);
    long long v25 = v27[1];
    long long v26 = v27[0];
    long long v24 = v27[2];
    uint64_t v6 = v28;

    id v7 = (void **)&v0[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
    swift_beginAccess();
    char v8 = v0[v1];
    uint64_t v9 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    if (!v8) {
      uint64_t v9 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    char v10 = v0[v9];
    char v11 = v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory];
    uint64_t v12 = *v7;
    char v13 = v0[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_isDisappearing];
    long long v29 = v26;
    long long v30 = v25;
    long long v31 = v24;
    uint64_t v32 = v6;
    uint64_t v34 = 0;
    uint64_t v35 = 0;
    id v33 = v12;
    char v36 = 1;
    char v37 = v10;
    char v38 = v11;
    char v39 = v8;
    char v40 = v13;
    id v14 = v12;
    [v0 bounds];
    CGFloat v16 = v15;
    CGFloat v18 = v17;
    CGFloat v20 = v19;
    CGFloat v22 = v21;
    id v23 = [v0 traitCollection];
    sub_100056760(v16, v18, v20, v22);
  }
}

id sub_1002F0CE8()
{
  uint64_t v1 = v0;
  id v2 = [v0 traitCollection];
  if (UITraitCollection.isSizeClassRegular.getter())
  {
    if (qword_10097E920 != -1) {
      swift_once();
    }
    id v3 = &qword_10098F868;
  }
  else
  {
    if (qword_10097E918 != -1) {
      swift_once();
    }
    id v3 = &qword_10098F860;
  }
  double v4 = *(double *)v3;

  uint64_t v5 = (id *)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
  swift_beginAccess();
  [*v5 frame];
  double v7 = v6 - v4 + -24.0;
  uint64_t v8 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded;
  if ((v1[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded] & 1) == 0)
  {
    id v9 = [v1 traitCollection];
    char v10 = UITraitCollection.prefersAccessibilityLayouts.getter();

    double v11 = (v10 & 1) != 0 ? 0.5 : 0.52;
    [v1 bounds];
    double v12 = v11 * CGRectGetHeight(v52);
    RiverViewStyling.interRowSpacing.getter();
    double v14 = v13;
    uint64_t v15 = *(void *)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverDataSource];
    double v16 = round((v12 - v13) * 0.5);
    double v17 = (id *)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView];
    swift_beginAccess();
    id v18 = *v17;
    dispatch thunk of RiverView.itemSize.getter();
    double v20 = v19;
    double v22 = v21;

    if (v20 != v16 || v22 != v16)
    {
      double v24 = v14 + v16 + v16;
      swift_beginAccess();
      if (v16 < *(double *)(v15 + 48) && v24 <= v7)
      {
        id v26 = *v17;
        dispatch thunk of RiverView.setItemSize(size:)();
      }
    }
  }
  id v27 = (id *)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView];
  swift_beginAccess();
  id v28 = *v27;
  [v1 bounds];
  [v28 sizeThatFits:v29, v30];
  double v32 = v31;
  double v34 = v33;

  [*v5 frame];
  double v36 = v35;
  char v37 = (id *)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverContainerView];
  swift_beginAccess();
  [*v37 setFrame:0.0, 0.0, v32, v36];
  if (v1[v8])
  {
    [*v5 frame];
    double MinY = CGRectGetMinY(v53);
    id v39 = [v1 traitCollection];
    char v40 = UITraitCollection.isSizeClassCompact.getter();

    if (v40) {
      double v41 = 50.0;
    }
    else {
      double v41 = 64.0;
    }
    double v42 = floor((MinY - v41 - v34) * 0.5);
    id v43 = [v1 traitCollection];
    char v44 = UITraitCollection.isSizeClassCompact.getter();

    if (v44) {
      double v45 = 50.0;
    }
    else {
      double v45 = 64.0;
    }
    double v46 = v42 + v45;
  }
  else
  {
    id v47 = [v1 traitCollection];
    char v48 = UITraitCollection.isSizeClassCompact.getter();

    if ((v48 & 1) != 0
      || (id v49 = [v1 traitCollection],
          char v50 = UITraitCollection.prefersAccessibilityLayouts.getter(),
          v49,
          (v50 & 1) != 0))
    {
      [*v5 frame];
      double v46 = floor((CGRectGetMinY(v54) - v34) * 0.5);
    }
    else if (v7 < v34)
    {
      double v46 = v4 - (v34 - v7);
    }
    else
    {
      double v46 = v4;
    }
  }
  return [*v27 setFrame:0.0, v46, v32, v34];
}

void sub_1002F11D8()
{
  sub_10050F6F0();
  uint64_t v1 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded;
  if (*(unsigned char *)(v0 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) == 1) {
    double v2 = 0.0;
  }
  else {
    double v2 = 14.0;
  }
  id v3 = (id *)(v0 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView);
  swift_beginAccess();
  [*v3 _setContinuousCornerRadius:v2];
  double v4 = (void **)(v0 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView);
  swift_beginAccess();
  uint64_t v5 = *v4;
  v5[qword_10099E278] = *(unsigned char *)(v0 + v1);
  double v6 = v5;
  sub_100053760();
}

void sub_1002F12B0()
{
  [v0 setNeedsLayout];
  uint64_t v1 = (void **)&v0[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
  swift_beginAccess();
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    double v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  }
  else {
    double v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  id v3 = *v1;
  v3[qword_10099E238] = v0[*v2];
  double v4 = v3;
  sub_10005D910();
}

uint64_t sub_1002F1358()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory] == 4)
  {
    id v2 = [v0 contentView];
    [v2 setClipsToBounds:1];
  }
  [v0 setNeedsLayout];
  id v3 = &v0[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
  uint64_t result = swift_beginAccess();
  uint64_t v5 = *(void *)v3;
  int v6 = v0[v1];
  *(unsigned char *)(*(void *)v3 + qword_10099E240) = v6;
  if (v6 != 7)
  {
    *(unsigned char *)(*(void *)(v5 + qword_10099E248)
             + OBJC_IVAR____TtC8AppStore27TodayTransitioningLabelView_originalSizeCategory) = v6;
    *(unsigned char *)(*(void *)(v5 + qword_10099E250)
             + OBJC_IVAR____TtC8AppStore27TodayTransitioningLabelView_originalSizeCategory) = v6;
    *(unsigned char *)(*(void *)(v5 + qword_10099E260)
             + OBJC_IVAR____TtC8AppStore27TodayTransitioningLabelView_originalSizeCategory) = v6;
  }
  return result;
}

void sub_1002F1460(void *a1, uint64_t a2, char a3)
{
  uint64_t v4 = v3;
  swift_getObjectType();
  sub_10050D68C((uint64_t)a1, a2, a3 & 1);
  uint64_t v8 = swift_dynamicCastClass();
  if (v8)
  {
    id v9 = (char *)v8;
    if (a3)
    {
      id v14 = a1;
      sub_1002F1578(v9);
    }
    else
    {
      char v10 = (void **)(v4 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView);
      swift_beginAccess();
      double v11 = *v10;
      id v12 = a1;
      id v13 = v11;
      dispatch thunk of RiverView.isAnimating.setter();

      swift_unknownObjectWeakAssign();
    }
  }
}

id sub_1002F1578(char *a1)
{
  uint64_t KeyPath = swift_getKeyPath();
  id v4 = [v1 contentView];
  uint64_t v5 = swift_getKeyPath();
  id v6 = [a1 contentView];
  sub_1002F24D4(v1, KeyPath, v4, a1, v5, v6);
  swift_release();

  swift_release();
  uint64_t v7 = swift_getKeyPath();
  id v8 = [v1 contentView];
  uint64_t v9 = swift_getKeyPath();
  id v10 = [a1 contentView];
  sub_1002F24D4(v1, v7, v8, a1, v9, v10);
  swift_release();

  swift_release();
  uint64_t v11 = swift_getKeyPath();
  id v12 = (void **)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverContainerView];
  swift_beginAccess();
  id v13 = *v12;
  uint64_t v14 = swift_getKeyPath();
  uint64_t v15 = (void **)&a1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverContainerView];
  swift_beginAccess();
  double v16 = *v15;
  id v17 = v13;
  id v18 = v16;
  sub_1002F24D4(v1, v11, v17, a1, v14, v18);
  swift_release();

  swift_release();
  uint64_t v19 = swift_getKeyPath();
  id v20 = [v1 contentView];
  uint64_t v21 = swift_getKeyPath();
  id v22 = [a1 contentView];
  sub_1002F24D4(v1, v19, v20, a1, v21, v22);
  swift_release();

  swift_release();
  [a1 setNeedsLayout];
  return [v1 setNeedsLayout];
}

uint64_t sub_1002F180C(uint64_t a1, char a2, uint64_t a3, uint64_t a4)
{
  uint64_t v57 = type metadata accessor for EditorialDisplayOptions();
  uint64_t v56 = *(void *)(v57 - 8);
  __chkstk_darwin(v57);
  id v10 = (char *)&v45 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v55 = type metadata accessor for TodayCard.Style();
  uint64_t v54 = *(void *)(v55 - 8);
  __chkstk_darwin(v55);
  id v12 = (char *)&v45 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100984950);
  __chkstk_darwin(v13 - 8);
  uint64_t v15 = (char *)&v45 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10001DCC4(a1, a2, a3);
  uint64_t v16 = TodayCard.media.getter();
  type metadata accessor for TodayCardMediaRiver();
  if (swift_dynamicCastClass())
  {
    uint64_t v51 = a4;
    uint64_t v52 = v16;
    CGRect v53 = v4;
    id v17 = (id *)&v4[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_labelsView];
    swift_beginAccess();
    id v49 = *v17;
    uint64_t v48 = TodayCard.heading.getter();
    char v50 = v18;
    uint64_t v47 = TodayCard.title.getter();
    id v20 = v19;
    uint64_t v46 = TodayCard.shortTitle.getter();
    id v22 = v21;
    TodayCard.titleCharacteristics.getter();
    uint64_t v23 = type metadata accessor for StringCharacteristics();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v15, 0, 1, v23);
    uint64_t v45 = TodayCard.inlineDescription.getter();
    unint64_t v25 = v24;
    TodayCard.style.getter();
    TodayCard.editorialDisplayOptions.getter();
    id v26 = sub_1002EDB0C;
    id v27 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    id v28 = sub_1005D7ECC;
    if (a2 != 4)
    {
      id v26 = sub_10009668C;
      id v27 = sub_100053DF8;
      id v28 = sub_1005D7E9C;
    }
    *(void *)&long long v58 = sub_100093430;
    *((void *)&v58 + 1) = 0;
    uint64_t v59 = v28;
    uint64_t v60 = 0;
    v61 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    uint64_t v62 = 0;
    uint64_t v63 = v27;
    uint64_t v64 = 0;
    unint64_t v65 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    uint64_t v66 = 0;
    uint64_t v67 = v26;
    uint64_t v68 = 0;
    double v29 = v49;
    sub_100578578(v48, v50, v47, v20, v46, v22, (uint64_t)v15, v45, v25, (uint64_t)v12, a2, (uint64_t)v10, 0, 0, 0, &v58, 1);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v56 + 8))(v10, v57);
    (*(void (**)(char *, uint64_t))(v54 + 8))(v12, v55);
    sub_100082BCC((uint64_t)v15, &qword_100984950);
    unint64_t v30 = TodayCardMediaRiver.lockups.getter();
    double v31 = v53;
    double v32 = (id *)&v53[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView];
    swift_beginAccess();
    id v33 = *v32;
    uint64_t v34 = dispatch thunk of RiverView.dataSource.getter();

    swift_beginAccess();
    *(void *)(v34 + 32) = v30;
    swift_bridgeObjectRetain();
    swift_release();
    swift_bridgeObjectRelease();
    id v35 = *v32;
    uint64_t v36 = dispatch thunk of RiverView.dataSource.getter();

    type metadata accessor for ArtworkLoader();
    *(void *)(v36 + 16) = inject(_:from:)();
    swift_release();
    swift_release();
    unint64_t v37 = (unint64_t)sub_1002EFFEC(v30, (uint64_t (*)(void))&dispatch thunk of Lockup.artwork.getter);
    swift_bridgeObjectRelease();
    if ((v37 & 0x8000000000000000) != 0 || (v37 & 0x4000000000000000) != 0)
    {
      unint64_t v38 = (unint64_t)sub_100616D4C(v37);
      swift_bridgeObjectRelease();
    }
    else
    {
      unint64_t v38 = v37 & 0xFFFFFFFFFFFFFF8;
    }
    id v39 = (id *)&v31[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView];
    swift_beginAccess();
    char v40 = (char *)*v39;
    double v41 = sub_1002EFFEC(v38, (uint64_t (*)(void))&Artwork.backgroundColor.getter);
    swift_release();
    double v42 = (uint64_t *)&v40[OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_colors];
    swift_beginAccess();
    uint64_t v43 = *v42;
    *double v42 = (uint64_t)v41;
    sub_1004C8F98(v43);

    swift_bridgeObjectRelease();
    [v31 setNeedsLayout];
    return swift_release();
  }
  else
  {
    return swift_release();
  }
}

uint64_t sub_1002F1E80()
{
  type metadata accessor for TodayCard();
  sub_100085A20();
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v6)
  {
    TodayCard.media.getter();
    swift_release();
    type metadata accessor for TodayCardMediaRiver();
    if (!swift_dynamicCastClass()) {
      return swift_release();
    }
    TodayCardMediaRiver.lockups.getter();
    type metadata accessor for Lockup();
    char v1 = Array.isNotEmpty.getter();
    swift_bridgeObjectRelease();
    if ((v1 & 1) == 0) {
      return swift_release();
    }
    unint64_t v2 = TodayCardMediaRiver.lockups.getter();
    unint64_t v3 = v2;
    if (v2 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t result = _CocoaArrayWrapper.endIndex.getter();
      uint64_t v4 = result;
      if (result) {
        goto LABEL_6;
      }
    }
    else
    {
      uint64_t v4 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
      uint64_t result = swift_bridgeObjectRetain();
      if (v4)
      {
LABEL_6:
        if (v4 < 1)
        {
          __break(1u);
          return result;
        }
        for (uint64_t i = 0; i != v4; ++i)
        {
          if ((v3 & 0xC000000000000001) != 0) {
            specialized _ArrayBuffer._getElementSlowPath(_:)();
          }
          else {
            swift_retain();
          }
          if (Lockup.icon.getter())
          {
            if (qword_10097FE68 != -1) {
              swift_once();
            }
            Artwork.config(_:mode:prefersLayeredImage:)();
            swift_release();
            swift_release();
            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }
            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
            specialized Array._endMutation()();
          }
          else
          {
            swift_release();
          }
        }
      }
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    ArtworkLoader.prefetchArtwork(using:)((Swift::OpaquePointer)_swiftEmptyArrayStorage);
    swift_release();
    return swift_bridgeObjectRelease();
  }
  return result;
}

uint64_t sub_1002F210C()
{
  char v1 = v0;
  v12.receiver = v0;
  v12.super_class = (Class)swift_getObjectType();
  [super prepareForReuse];
  unint64_t v2 = (id *)&v0[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverView];
  swift_beginAccess();
  id v3 = *v2;
  uint64_t v4 = dispatch thunk of RiverView.dataSource.getter();

  swift_beginAccess();
  *(void *)(v4 + 32) = _swiftEmptyArrayStorage;
  swift_release();
  swift_bridgeObjectRelease();
  id v5 = *v2;
  dispatch thunk of RiverView.flushRows()();

  uint64_t v6 = (void **)&v1[OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_gradientView];
  swift_beginAccess();
  uint64_t v7 = *v6;
  id v8 = (uint64_t *)((char *)*v6 + OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_colors);
  swift_beginAccess();
  uint64_t v9 = *v8;
  uint64_t *v8 = (uint64_t)_swiftEmptyArrayStorage;
  id v10 = v7;
  sub_1004C8F98(v9);

  return swift_bridgeObjectRelease();
}

uint64_t sub_1002F2330()
{
  swift_release();
  uint64_t v1 = v0 + OBJC_IVAR____TtC8AppStore32RiverTodayCardCollectionViewCell_riverStyling;
  uint64_t v2 = type metadata accessor for RiverViewStyling();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);

  return swift_unknownObjectWeakDestroy();
}

uint64_t sub_1002F24CC()
{
  return type metadata accessor for RiverTodayCardCollectionViewCell();
}

void sub_1002F24D4(void *a1, uint64_t a2, void *a3, void *a4, uint64_t a5, void *a6)
{
  id v22 = a4;
  id v7 = a4;
  id v8 = (void (*)(void *, void))swift_readAtKeyPath();
  id v10 = *v9;
  v8(v21, 0);

  [v10 setHidden:0];
  [v10 removeFromSuperview];
  id v22 = a1;
  id v11 = a1;
  objc_super v12 = (void (*)(void *, void))swift_readAtKeyPath();
  id v14 = *v13;
  v12(v21, 0);

  [v14 setHidden:1];
  [v14 removeFromSuperview];
  v21[0] = v11;
  id v22 = v10;
  id v15 = v10;
  id v16 = v11;
  swift_setAtReferenceWritableKeyPath();

  [a3 addSubview:v15];
  v21[0] = v7;
  id v22 = v14;
  id v17 = v7;
  id v18 = v14;
  swift_setAtReferenceWritableKeyPath();

  [a6 addSubview:v18];
}

id sub_1002F2680(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  id v7 = v6;
  id v56 = a6;
  uint64_t v58 = a4;
  uint64_t v10 = sub_100082C28(&qword_1009A2980);
  __chkstk_darwin(v10 - 8);
  objc_super v12 = (char *)&v51 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  id v16 = (char *)&v51 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  uint64_t v19 = (char *)&v51 - v18;
  id v20 = *(void **)&v7[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_textLabel];
  uint64_t v57 = a1;
  Action.title.getter();
  uint64_t v52 = a3;
  CGRect v53 = v16;
  if (v21)
  {
    NSString v22 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v22 = 0;
  }
  [v20 setText:v22];

  uint64_t v23 = *(void **)&v7[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_separatorView];
  static ComponentLayoutOptions.separatorHidden.getter();
  uint64_t v54 = sub_1002F3724((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
  char v24 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  unint64_t v25 = *(void (**)(char *, uint64_t))(v14 + 8);
  v25(v19, v13);
  [v23 setHidden:v24 & 1];
  char v26 = Action.presentationStyle.getter();
  id v55 = v20;
  if ((v26 & 2) != 0)
  {
    [v20 _setTextColorFollowsTintColor:1];
  }
  else
  {
    [v20 _setTextColorFollowsTintColor:0];
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    id v27 = (void *)static UIColor.primaryText.getter();
    [v20 setTextColor:v27];
  }
  id v28 = v56;
  swift_getObjectType();
  BOOL v29 = sub_1002F3414(v28);
  uint64_t v30 = type metadata accessor for Accessory();
  double v31 = v25;
  if (v29)
  {
    swift_storeEnumTagMultiPayload();
    uint64_t v32 = 0;
  }
  else
  {
    uint64_t v32 = 1;
  }
  uint64_t v34 = v52;
  id v33 = v53;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v30 - 8) + 56))(v12, v32, 1, v30);
  sub_10063DFB8((uint64_t)v12, v34);
  sub_100082BCC((uint64_t)v12, &qword_1009A2980);
  id v35 = [v56 traitCollection];
  id v36 = [v35 horizontalSizeClass];

  (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v33, v58, v13);
  if (v36 == (id)1)
  {
    v31(v33, v13);
LABEL_13:
    id v38 = [v7 contentView];
    [v56 pageMarginInsets];
    goto LABEL_15;
  }
  static ComponentLayoutOptions.fixedHeightContainer.getter();
  char v37 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  v31(v19, v13);
  v31(v33, v13);
  if (v37) {
    goto LABEL_13;
  }
  id v38 = [v7 contentView];
  double top = UIEdgeInsetsZero.top;
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
LABEL_15:
  [v38 setLayoutMargins:top, left, bottom, right];

  uint64_t v43 = Action.artwork.getter();
  if (v43)
  {
    swift_release();
    char v44 = *(void **)&v7[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_lazilyCreatedArtworkView];
    if (v44 && ([v44 isHidden] & 1) == 0) {
      goto LABEL_22;
    }
  }
  else
  {
    uint64_t v45 = *(void **)&v7[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_lazilyCreatedArtworkView];
    if (!v45 || [v45 isHidden]) {
      goto LABEL_22;
    }
  }
  BOOL v46 = v43 == 0;
  id v47 = sub_10063E9A4();
  [v47 setHidden:v46];

LABEL_22:
  static ComponentLayoutOptions.fixedHeightContainer.getter();
  char v48 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  v31(v19, v13);
  v7[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_isVertical] = (v48 & 1) == 0;
  if (v48) {
    uint64_t v49 = 1;
  }
  else {
    uint64_t v49 = 3;
  }
  [v55 setNumberOfLines:v49];
  [v7 setNeedsLayout];
  return [v7 setNeedsLayout];
}

void sub_1002F2BF8(uint64_t a1, uint64_t a2)
{
  id v3 = v2;
  if (a1)
  {
    id v6 = objc_allocWithZone((Class)type metadata accessor for SearchAdTransparencyButton());
    swift_retain();
    id v7 = [v6 init];
    uint64_t v8 = OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_searchAdTransparencyButton;
    uint64_t v9 = *(void **)&v3[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_searchAdTransparencyButton];
    if (v9)
    {
      [v9 removeFromSuperview];
      uint64_t v10 = *(void **)&v3[v8];
    }
    else
    {
      uint64_t v10 = 0;
    }
    *(void *)&v3[v8] = v7;
    id v14 = v7;

    if (*(void *)&v3[v8]) {
      [v3 addSubview:];
    }

    uint64_t v15 = *(void **)&v3[v8];
    if (v15)
    {
      id v16 = v15;
      SearchAd.adTransparencyAction.getter();
      Action.title.getter();
      uint64_t v18 = v17;
      swift_release();
      if (v18)
      {
        NSString v19 = String._bridgeToObjectiveC()();
        swift_bridgeObjectRelease();
      }
      else
      {
        NSString v19 = 0;
      }
      [v16 setTitle:v19 forState:0];

      uint64_t v20 = *(void *)&v3[v8];
      if (v20)
      {
        uint64_t v21 = swift_allocObject();
        *(void *)(v21 + 16) = a2;
        *(void *)(v21 + 24) = a1;
        NSString v22 = (uint64_t (**)())(v20 + qword_100986DC0);
        uint64_t v23 = *(void *)(v20 + qword_100986DC0);
        *NSString v22 = sub_1002F371C;
        v22[1] = (uint64_t (*)())v21;
        swift_retain();
        swift_retain();
        sub_10006012C(v23);
      }
    }
    v3[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_isDisplayingSearchAd] = 1;
    [v3 setNeedsLayout];
    swift_release();
  }
  else
  {
    v2[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_isDisplayingSearchAd] = 0;
    uint64_t v11 = OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_searchAdTransparencyButton;
    objc_super v12 = *(void **)&v3[OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_searchAdTransparencyButton];
    if (v12)
    {
      [v12 removeFromSuperview];
      uint64_t v13 = *(void **)&v3[v11];
    }
    else
    {
      uint64_t v13 = 0;
    }
    *(void *)&v3[v11] = 0;

    if (*(void *)&v3[v11])
    {
      [v3 addSubview:];
    }
  }
}

uint64_t sub_1002F2E6C(uint64_t a1, uint64_t a2)
{
  uint64_t v31 = a2;
  uint64_t v3 = type metadata accessor for Dependency();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v6 = (char *)&v26 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for MetricsFieldsContext();
  uint64_t v32 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v26 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  objc_super v12 = (char *)&v26 - v11;
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v33 = *(void *)(v13 - 8);
  uint64_t v34 = v13;
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v26 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v26 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ObjectGraph();
  uint64_t result = swift_dynamicCastClass();
  if (result)
  {
    uint64_t v28 = v4;
    uint64_t v29 = v3;
    uint64_t v30 = a1;
    swift_retain();
    ObjectGraph.actionDispatcher.getter();
    uint64_t v20 = sub_100082C28((uint64_t *)&unk_100984530);
    uint64_t v21 = *(void *)(v20 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v21 + 48))(v18, 1, v20) == 1)
    {
      swift_release();
      return sub_100082BCC((uint64_t)v18, &qword_1009875B0);
    }
    else
    {
      uint64_t v27 = v21;
      uint64_t v22 = SearchAd.adTransparencyAction.getter();
      v35[3] = type metadata accessor for Action();
      v35[4] = sub_1002F3724((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
      uint64_t v31 = v22;
      v35[0] = v22;
      swift_retain();
      sub_1005365D0();
      uint64_t v23 = v32;
      (*(void (**)(char *, char *, uint64_t))(v32 + 16))(v9, v12, v7);
      Dependency.init<A>(satisfying:with:)();
      dispatch thunk of BaseObjectGraph.adding(dependency:)();
      (*(void (**)(char *, uint64_t))(v28 + 8))(v6, v29);
      (*(void (**)(char *, char *, uint64_t))(v23 + 32))(v15, v12, v7);
      uint64_t v25 = v33;
      uint64_t v24 = v34;
      (*(void (**)(char *, void, uint64_t))(v33 + 104))(v15, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v34);
      ActionDispatcher.perform(_:withMetrics:asPartOf:)();
      swift_release();
      (*(void (**)(char *, uint64_t))(v25 + 8))(v15, v24);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v35);
      swift_release();
      swift_release();
      swift_release();
      return (*(uint64_t (**)(char *, uint64_t))(v27 + 8))(v18, v20);
    }
  }
  return result;
}

double sub_1002F32D4(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_1002F3490(*a1, a3, a5, a6);
}

id sub_1002F32E8(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_1002F2680(*a1, a2, a3, a4, a5, a6);
}

uint64_t sub_1002F32F4()
{
  return *(unsigned __int8 *)(v0 + OBJC_IVAR____TtC8AppStore24ActionCollectionViewCell_isDisplayingSearchAd);
}

void sub_1002F3308(int a1, id a2)
{
  id v2 = [a2 traitCollection];
  [v2 horizontalSizeClass];
}

id sub_1002F3374(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  return sub_1002F376C(a2, a3, a5);
}

uint64_t sub_1002F3384()
{
  return sub_1002F3724(&qword_100981800, (void (*)(uint64_t))&type metadata accessor for Action);
}

uint64_t sub_1002F33CC()
{
  return sub_1002F3724(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

BOOL sub_1002F3414(void *a1)
{
  if ((Action.presentationStyle.getter() & 4) != 0) {
    return 1;
  }
  if ((Action.presentationStyle.getter() & 8) == 0) {
    return 0;
  }
  id v3 = [a1 traitCollection];
  id v4 = [v3 horizontalSizeClass];

  return v4 == (id)1;
}

double sub_1002F3490(uint64_t a1, uint64_t a2, uint64_t a3, void *a4)
{
  swift_getObjectType();
  id v5 = [a4 traitCollection];
  id v6 = [v5 horizontalSizeClass];

  if (v6 == (id)1) {
    [a4 pageMarginInsets];
  }
  type metadata accessor for Action();
  swift_retain();
  sub_100082C28(&qword_100986228);
  if (swift_dynamicCast())
  {
    sub_100081D90(&v17, *((uint64_t *)&v18 + 1));
    char v7 = SearchAdProviding.isSearchAd.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v17);
  }
  else
  {
    uint64_t v19 = 0;
    long long v17 = 0u;
    long long v18 = 0u;
    sub_100082BCC((uint64_t)&v17, &qword_100988BD0);
    char v7 = 0;
  }
  uint64_t v8 = Action.title.getter();
  uint64_t v10 = v9;
  uint64_t v11 = Action.artwork.getter();
  if (v11) {
    swift_release();
  }
  BOOL v12 = sub_1002F3414(a4);
  if (qword_1009801F0 != -1) {
    swift_once();
  }
  uint64_t v13 = type metadata accessor for ActionLayout.Metrics();
  uint64_t v14 = sub_100087728(v13, (uint64_t)qword_1009E6A78);
  double v15 = sub_100640D74(v14, a4, v8, v10, v11 != 0, v12, v7 & 1);
  swift_bridgeObjectRelease();
  return v15;
}

uint64_t sub_1002F36DC()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1002F371C()
{
  return sub_1002F2E6C(*(void *)(v0 + 16), *(void *)(v0 + 24));
}

uint64_t sub_1002F3724(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

id sub_1002F376C(uint64_t a1, uint64_t a2, void *a3)
{
  swift_getObjectType();
  PageTraitEnvironment.pageColumnWidth.getter();
  if (qword_1009801F0 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for ActionLayout.Metrics();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E6A78);
  double v7 = sub_100641660(v6, a3);
  double v9 = v8;
  uint64_t v10 = self;
  id v11 = [v10 absoluteDimension:v7];
  id v12 = [v10 absoluteDimension:v9];
  uint64_t v13 = self;
  id v14 = [v13 sizeWithWidthDimension:v11 heightDimension:v12];

  id v15 = [self itemWithLayoutSize:v14];
  id v16 = [v10 absoluteDimension:v7];
  id v17 = [v10 absoluteDimension:v9 * (double)a1];
  id v18 = [v13 sizeWithWidthDimension:v16 heightDimension:v17];

  uint64_t v19 = self;
  sub_100082C28(&qword_100982B50);
  uint64_t v20 = swift_allocObject();
  *(_OWORD *)(v20 + 16) = xmmword_1007BEA80;
  *(void *)(v20 + 32) = v15;
  specialized Array._endMutation()();
  sub_100084CF0(0, (unint64_t *)&qword_1009A5C80);
  id v21 = v15;
  Class isa = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  id v23 = [v19 verticalGroupWithLayoutSize:v18 subitems:isa];

  [v23 setContentInsets:0.0, 0.0, 0.0, 0.0];
  id v24 = [self fixedSpacing:0.0];
  [v23 setInterItemSpacing:v24];

  return v23;
}

uint64_t type metadata accessor for ProductPageLayoutSectionProvider()
{
  uint64_t result = qword_10098F938;
  if (!qword_10098F938) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_1002F3AB8()
{
  return swift_initClassMetadata2();
}

uint64_t sub_1002F3AF8(uint64_t a1, uint64_t (*a2)(void), uint64_t a3, uint64_t a4, void *a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, void (*a10)(char *, uint64_t, uint64_t))
{
  uint64_t v37 = a8;
  uint64_t v32 = a5;
  uint64_t v33 = a6;
  uint64_t v29 = a2;
  uint64_t v30 = a10;
  uint64_t v31 = a4;
  uint64_t v34 = a9;
  uint64_t v35 = a7;
  uint64_t v12 = type metadata accessor for Shelf.ContentType();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  id v15 = (char *)&v29 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v29 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
  int v20 = (*(uint64_t (**)(char *, uint64_t))(v13 + 88))(v15, v12);
  if (v20 != enum case for Shelf.ContentType.productRatings(_:))
  {
    if (v20 == enum case for Shelf.ContentType.productBadge(_:))
    {
      uint64_t v26 = v29();
      uint64_t v25 = sub_1002F3E64(a1, v26, v31, v32, v33, v35, v37, v34, v30);
      goto LABEL_6;
    }
LABEL_7:
    uint64_t v27 = (uint64_t)sub_100436334(a1, v31, v32, v33, v35, v37, v34, (uint64_t)v30, v36, v29, a3);
    goto LABEL_8;
  }
  uint64_t v21 = type metadata accessor for Feature.iOS();
  void v38[3] = v21;
  v38[4] = sub_10000C694((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  uint64_t v22 = sub_1000808B8(v38);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v21 - 8) + 104))(v22, enum case for Feature.iOS.review_summarization(_:), v21);
  LOBYTE(v21) = isFeatureEnabled(_:)();
  uint64_t v23 = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v38);
  if (v21) {
    goto LABEL_7;
  }
  uint64_t v24 = ((uint64_t (*)(uint64_t))v29)(v23);
  uint64_t v25 = sub_1002F4824(a1, v24, v31, v32, v33, v35, v37, v34, (uint64_t)v30);
LABEL_6:
  uint64_t v27 = v25;
  swift_bridgeObjectRelease();
LABEL_8:
  (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
  return v27;
}

uint64_t sub_1002F3E64(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, void (*a9)(char *, uint64_t, uint64_t))
{
  uint64_t v89 = a8;
  uint64_t v90 = a7;
  uint64_t v81 = a6;
  uint64_t v80 = a5;
  v79 = a4;
  uint64_t v78 = a3;
  uint64_t v11 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v74 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for ItemLayoutContext();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)&v74 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v85 = type metadata accessor for PageGrid();
  uint64_t v18 = *(void **)(v85 - 8);
  __chkstk_darwin(v85);
  int v20 = (char *)&v74 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = type metadata accessor for InformationRibbon.Alignment();
  uint64_t v83 = *(void *)(v21 - 8);
  uint64_t v84 = v21;
  __chkstk_darwin(v21);
  v82 = (float64x2_t *)((char *)&v74 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0));
  unint64_t v96 = (unint64_t)_swiftEmptyArrayStorage;
  unint64_t v23 = *(void *)(a2 + 16);
  uint64_t v91 = v15;
  uint64_t v86 = a2;
  uint64_t v87 = a1;
  v76 = v13;
  unint64_t v77 = v23;
  if (v23)
  {
    v75 = v20;
    v88 = v18;
    type metadata accessor for Badge();
    uint64_t v25 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 16);
    uint64_t v24 = v15 + 16;
    uint64_t v26 = a2 + ((*(unsigned __int8 *)(v24 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v24 + 64));
    float64_t v92 = *(double *)(v24 + 56);
    v93 = v25;
    swift_bridgeObjectRetain();
    unint64_t v27 = v23;
    do
    {
      v93(v17, v26, v14);
      sub_10000C694(&qword_100984F00, (void (*)(uint64_t))&type metadata accessor for Badge);
      ItemLayoutContext.typedModel<A>(as:)();
      (*(void (**)(char *, uint64_t))(v24 - 8))(v17, v14);
      if (v95)
      {
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((v96 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v96 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();
      }
      v26 += *(void *)&v92;
      --v27;
    }
    while (v27);
    swift_bridgeObjectRelease();
    v93 = (void (*)(char *, uint64_t, uint64_t))v96;
    a1 = v87;
    uint64_t v18 = v88;
    int v20 = v75;
  }
  else
  {
    v93 = (void (*)(char *, uint64_t, uint64_t))_swiftEmptyArrayStorage;
  }
  uint64_t v28 = v82;
  uint64_t v29 = v83;
  uint64_t v30 = v84;
  (*(void (**)(float64x2_t *, void, uint64_t))(v83 + 104))(v82, enum case for InformationRibbon.Alignment.justified(_:), v84);
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.componentMeasuringSize(spanning:)();
  double v32 = v31;
  double v34 = v33;
  uint64_t v35 = (void (*)(char *, uint64_t))v18[1];
  v88 = v18 + 1;
  uint64_t v36 = v85;
  v35(v20, v85);
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.containerWidth.getter();
  uint64_t v38 = v37;
  v35(v20, v36);
  uint64_t v39 = ShelfLayoutContext.traitCollection.getter();
  char v40 = (objc_class *)type metadata accessor for SnapshotPageTraitEnvironment();
  double v41 = (char *)objc_allocWithZone(v40);
  double v42 = &v41[OBJC_IVAR____TtC8AppStore28SnapshotPageTraitEnvironment_pageContainerSize];
  *(void *)double v42 = v38;
  *((void *)v42 + 1) = 0x7FEFFFFFFFFFFFFFLL;
  *(void *)&v41[OBJC_IVAR____TtC8AppStore28SnapshotPageTraitEnvironment_traitCollection] = v39;
  v94.receiver = v41;
  v94.super_class = v40;
  id v43 = [super init];
  char v44 = sub_1002F4D44((unint64_t)v93, v28, v43, v32, v34);
  swift_bridgeObjectRelease();

  (*(void (**)(float64x2_t *, uint64_t))(v29 + 8))(v28, v30);
  if (!*(void *)&v44[1].f64[0])
  {
    swift_bridgeObjectRelease();
    sub_100084CF0(0, (unint64_t *)&qword_100996760);
    uint64_t v63 = type metadata accessor for ShelfLayoutContext();
    uint64_t v64 = *(void *)(v63 - 8);
    uint64_t v65 = (uint64_t)v76;
    (*(void (**)(char *, uint64_t, uint64_t))(v64 + 16))(v76, a1, v63);
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v64 + 56))(v65, 0, 1, v63);
    uint64_t v66 = static NSCollectionLayoutSection.emptyLayoutSection(for:)();
    sub_100082BCC(v65, &qword_100991060);
    return v66;
  }
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.componentMeasuringSize(spanning:)();
  v35(v20, v36);
  if (qword_10097FC70 != -1) {
    swift_once();
  }
  v93 = a9;
  uint64_t v45 = type metadata accessor for BadgeViewRibbonLayout.Metrics();
  sub_100087728(v45, (uint64_t)qword_1009E5E40);
  BOOL v46 = (void *)ShelfLayoutContext.traitCollection.getter();
  static BadgeViewRibbonLayout.estimatedHeight(fitting:using:with:)();
  double v48 = v47;

  unint64_t v96 = (unint64_t)_swiftEmptyArrayStorage;
  float64_t v92 = v44[1].f64[0];
  if (v92 == 0.0)
  {
    swift_bridgeObjectRelease();
    double v53 = 0.0;
LABEL_23:
    uint64_t v67 = self;
    uint64_t v68 = self;
    id v69 = [v68 absoluteDimension:v53];
    id v70 = [v68 absoluteDimension:v48];
    id v71 = [self sizeWithWidthDimension:v69 heightDimension:v70];

    sub_100084CF0(0, (unint64_t *)&qword_1009A5C80);
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v73 = [v67 horizontalGroupWithLayoutSize:v71 subitems:isa];

    uint64_t v66 = (uint64_t)sub_100435494((uint64_t)v73, 1, 0, a1, v78, v79);
    return v66;
  }
  uint64_t v49 = self;
  v88 = self;
  swift_getObjectType();
  uint64_t result = self;
  if (v77)
  {
    if (*(void *)&v92 <= v77)
    {
      uint64_t v51 = (void *)result;
      uint64_t v52 = 0;
      double v53 = 0.0;
      do
      {
        uint64_t v54 = v44;
        double v55 = v44[2].f64[v52];
        id v56 = [v49 absoluteDimension:v55];
        id v57 = [v49 absoluteDimension:v48];
        id v58 = [v88 sizeWithWidthDimension:v56 heightDimension:v57];

        dispatch thunk of ItemSupplementaryProvider.supplementaryItems(for:asPartOf:)();
        sub_100084CF0(0, &qword_100983960);
        id v59 = v58;
        Class v60 = Array._bridgeToObjectiveC()().super.isa;
        swift_bridgeObjectRelease();
        id v61 = [v51 itemWithLayoutSize:v59 supplementaryItems:v60];

        id v62 = v61;
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((v96 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v96 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }
        ++v52;
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();

        double v53 = v53 + v55;
        char v44 = v54;
      }
      while (*(void *)&v92 != v52);
      swift_bridgeObjectRelease();
      a1 = v87;
      goto LABEL_23;
    }
  }
  else
  {
    __break(1u);
  }
  __break(1u);
  return result;
}

uint64_t sub_1002F4824(uint64_t a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9)
{
  uint64_t v46 = a6;
  v42[1] = a8;
  uint64_t v43 = a3;
  char v44 = a4;
  uint64_t v45 = a5;
  uint64_t v11 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)v42 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for PageGrid();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v17 = (char *)v42 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for ItemLayoutContext();
  uint64_t v19 = *(void *)(v18 - 8);
  __n128 v20 = __chkstk_darwin(v18);
  uint64_t v22 = (char *)v42 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(a2 + 16))
  {
    v42[0] = a9;
    (*(void (**)(char *, unint64_t, uint64_t, __n128))(v19 + 16))(v22, a2 + ((*(unsigned __int8 *)(v19 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v19 + 80)), v18, v20);
    type metadata accessor for ProductRatingsLegacyCollectionViewCell();
    double v23 = sub_1004C3A34();
    ShelfLayoutContext.contentPageGrid.getter();
    PageGrid.columnCount.getter();
    uint64_t v24 = *(void (**)(char *, uint64_t))(v15 + 8);
    v24(v17, v14);
    ShelfLayoutContext.contentPageGrid.getter();
    PageGrid.componentMeasuringSize(spanning:)();
    double v26 = v25;
    v24(v17, v14);
    unint64_t v27 = self;
    id v28 = [v27 absoluteDimension:v26];
    id v29 = [v27 absoluteDimension:v23];
    id v30 = [self sizeWithWidthDimension:v28 heightDimension:v29];

    swift_getObjectType();
    dispatch thunk of ItemSupplementaryProvider.supplementaryItems(for:asPartOf:)();
    sub_100082C28(&qword_100982B50);
    uint64_t v31 = swift_allocObject();
    *(_OWORD *)(v31 + 16) = xmmword_1007BEA80;
    sub_100084CF0(0, &qword_100983960);
    id v32 = v30;
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v34 = [self itemWithLayoutSize:v32 supplementaryItems:isa];

    *(void *)(v31 + 32) = v34;
    uint64_t v47 = v31;
    specialized Array._endMutation()();
    uint64_t v35 = self;
    sub_100084CF0(0, (unint64_t *)&qword_1009A5C80);
    Class v36 = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v37 = [v35 horizontalGroupWithLayoutSize:v32 subitems:v36];

    uint64_t v38 = (uint64_t)sub_100435494((uint64_t)v37, 0, 1, a1, v43, v44);
    (*(void (**)(char *, uint64_t))(v19 + 8))(v22, v18);
  }
  else
  {
    sub_100084CF0(0, (unint64_t *)&qword_100996760);
    uint64_t v39 = type metadata accessor for ShelfLayoutContext();
    uint64_t v40 = *(void *)(v39 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v40 + 16))(v13, a1, v39);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v40 + 56))(v13, 0, 1, v39);
    uint64_t v38 = static NSCollectionLayoutSection.emptyLayoutSection(for:)();
    sub_100082BCC((uint64_t)v13, &qword_100991060);
  }
  return v38;
}

uint64_t sub_1002F4D38()
{
  return type metadata accessor for ProductPageLayoutSectionProvider();
}

float64x2_t *sub_1002F4D44(unint64_t a1, float64x2_t *a2, void *a3, double a4, double a5)
{
  uint64_t v10 = type metadata accessor for InformationRibbon.Alignment();
  uint64_t v11 = *(void *)(v10 - 8);
  *(void *)&double v12 = __chkstk_darwin(v10).n128_u64[0];
  uint64_t v14 = (char *)&v66 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v15 = a1 >> 62;
  if (!(a1 >> 62))
  {
    if (*(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10)) {
      goto LABEL_3;
    }
    return (float64x2_t *)_swiftEmptyArrayStorage;
  }
  swift_bridgeObjectRetain();
  uint64_t v65 = _CocoaArrayWrapper.endIndex.getter();
  swift_bridgeObjectRelease();
  if (!v65) {
    return (float64x2_t *)_swiftEmptyArrayStorage;
  }
LABEL_3:
  id v16 = [a3 traitCollection];
  char v17 = UITraitCollection.prefersAccessibilityLayouts.getter();

  if ((v17 & 1) == 0)
  {
    if (v15)
    {
      swift_bridgeObjectRetain();
      uint64_t v22 = _CocoaArrayWrapper.endIndex.getter();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v22 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    double v24 = floor(a4 / (double)v22);
    if (qword_1009801B0 != -1) {
      swift_once();
    }
    double v25 = *(double *)&qword_1009A2528;
    if (*(double *)&qword_1009A2528 < v24)
    {
      (*(void (**)(char *, float64x2_t *, uint64_t))(v11 + 16))(v14, a2, v10);
      if ((*(unsigned int (**)(char *, uint64_t))(v11 + 88))(v14, v10) == enum case for InformationRibbon.Alignment.justified(_:)) {
        return (float64x2_t *)sub_100616420(v22, v24);
      }
      a2 = (float64x2_t *)sub_100616420(v22, v25);
      (*(void (**)(char *, uint64_t))(v11 + 8))(v14, v10);
      return a2;
    }
    if (v22 < 0)
    {
      __break(1u);
      goto LABEL_85;
    }
    if (v22)
    {
      uint64_t v26 = 0;
      a2 = (float64x2_t *)_swiftEmptyArrayStorage;
      double v27 = 0.0;
      do
      {
        if ((a1 & 0xC000000000000001) != 0)
        {
          uint64_t v28 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else
        {
          uint64_t v28 = *(void *)(a1 + 8 * v26 + 32);
          swift_retain();
        }
        double v29 = sub_1002F541C(v28, v26, 0, v22, a3, a4, a5);
        swift_release();
        double v30 = *(double *)&qword_1009A2528;
        if (qword_1009801A8 != -1) {
          swift_once();
        }
        double v31 = *(double *)&qword_1009A2520;
        if (*(double *)&qword_1009A2520 <= v29) {
          double v31 = v29;
        }
        if (v31 >= v30) {
          double v32 = v30;
        }
        else {
          double v32 = v31;
        }
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          a2 = (float64x2_t *)sub_100085A78(0, *(void *)&a2[1].f64[0] + 1, 1, a2);
        }
        unint64_t v15 = *(void *)&a2[1].f64[0];
        unint64_t v33 = *(void *)&a2[1].f64[1];
        if (v15 >= v33 >> 1) {
          a2 = (float64x2_t *)sub_100085A78((void *)(v33 > 1), v15 + 1, 1, a2);
        }
        ++v26;
        double v34 = floor(v32);
        *(void *)&a2[1].f64[0] = v15 + 1;
        a2[2].f64[v15] = v34;
        double v27 = v27 + v34;
      }
      while (v22 != v26);
    }
    else
    {
      a2 = (float64x2_t *)_swiftEmptyArrayStorage;
      double v27 = 0.0;
    }
    if (a4 - v27 <= 0.0) {
      return a2;
    }
    int64_t v35 = *(void *)&a2[1].f64[0];
    uint64_t v22 = (uint64_t)_swiftEmptyArrayStorage;
    *(double *)&long long v18 = a4 - v27;
    long long v67 = v18;
    if (v35)
    {
      uint64_t v68 = _swiftEmptyArrayStorage;
      swift_bridgeObjectRetain();
      sub_100059130(0, v35, 0);
      uint64_t v36 = 0;
      double v37 = *(double *)&qword_1009A2528;
      uint64_t v22 = (uint64_t)v68;
      unint64_t v38 = v68[2];
      do
      {
        double v39 = a2[2].f64[v36];
        uint64_t v68 = (void *)v22;
        unint64_t v40 = *(void *)(v22 + 24);
        if (v38 >= v40 >> 1)
        {
          sub_100059130(v40 > 1, v38 + 1, 1);
          uint64_t v22 = (uint64_t)v68;
        }
        ++v36;
        *(void *)(v22 + 16) = v38 + 1;
        *(double *)(v22 + 8 * v38++ + 32) = v37 - v39;
      }
      while (v35 != v36);
      swift_bridgeObjectRelease();
    }
    float64_t v41 = *(double *)(v22 + 16);
    if (v41 == 0.0)
    {
      float64_t v41 = a2[1].f64[0];
      if (v41 == 0.0)
      {
LABEL_78:
        swift_bridgeObjectRelease();
        return a2;
      }
      __break(1u);
    }
    else if (*(void *)&v41 == 1)
    {
      uint64_t v42 = 0;
      *(void *)&long long v19 = 0;
      goto LABEL_55;
    }
    uint64_t v42 = *(void *)&v41 & 0x7FFFFFFFFFFFFFFELL;
    uint64_t v43 = (double *)(v22 + 40);
    *(void *)&long long v19 = 0;
    uint64_t v44 = *(void *)&v41 & 0x7FFFFFFFFFFFFFFELL;
    do
    {
      *(double *)&long long v19 = *(double *)&v19 + *(v43 - 1) + *v43;
      v43 += 2;
      v44 -= 2;
    }
    while (v44);
    if (*(void *)&v41 == v42)
    {
LABEL_57:
      a1 = *(void *)&a2[1].f64[0];
      if (a1)
      {
        long long v66 = v19;
        if (a1 <= *(void *)&v41)
        {
          if (swift_isUniquelyReferenced_nonNull_native())
          {
LABEL_60:
            double v49 = *(double *)&v66;
            double v48 = *(double *)&v67;
            unint64_t v50 = *(void *)&a2[1].f64[0];
            unint64_t v51 = a1 - 1;
            if (v50 >= a1 - 1) {
              unint64_t v52 = a1 - 1;
            }
            else {
              unint64_t v52 = *(void *)&a2[1].f64[0];
            }
            if (v52 >= 6)
            {
              if (v50 < v51) {
                unint64_t v51 = *(void *)&a2[1].f64[0];
              }
              uint64_t v54 = 8 * v51 + 40;
              if ((unint64_t)&a2[2] >= v22 + v54 || v22 + 32 >= (unint64_t)a2 + v54)
              {
                unint64_t v56 = v52 + 1;
                uint64_t v57 = v56 & 3;
                if ((v56 & 3) == 0) {
                  uint64_t v57 = 4;
                }
                unint64_t v53 = v56 - v57;
                float64x2_t v58 = (float64x2_t)vdupq_lane_s64(v66, 0);
                id v59 = (float64x2_t *)(v22 + 48);
                Class v60 = a2 + 3;
                unint64_t v61 = v53;
                do
                {
                  float64x2_t v62 = vaddq_f64(*v60, vrndmq_f64(vmulq_n_f64(vdivq_f64(*v59, v58), v48)));
                  v60[-1] = vaddq_f64(v60[-1], vrndmq_f64(vmulq_n_f64(vdivq_f64(v59[-1], v58), v48)));
                  float64x2_t *v60 = v62;
                  v59 += 2;
                  v60 += 2;
                  v61 -= 4;
                }
                while (v61);
              }
              else
              {
                unint64_t v53 = 0;
              }
            }
            else
            {
              unint64_t v53 = 0;
            }
            while (v53 < v50)
            {
              uint64_t v63 = v53;
              double v64 = floor(v48 * (*(double *)(v22 + 8 * v53++ + 32) / v49));
              a2[2].f64[v63] = a2[2].f64[v63] + v64;
              if (a1 == v53) {
                goto LABEL_78;
              }
            }
            __break(1u);
            goto LABEL_83;
          }
LABEL_86:
          a2 = (float64x2_t *)sub_10056C884(a2);
          goto LABEL_60;
        }
LABEL_85:
        __break(1u);
        goto LABEL_86;
      }
      goto LABEL_78;
    }
LABEL_55:
    uint64_t v45 = *(void *)&v41 - v42;
    uint64_t v46 = (double *)(v22 + 8 * v42 + 32);
    do
    {
      double v47 = *v46++;
      *(double *)&long long v19 = *(double *)&v19 + v47;
      --v45;
    }
    while (v45);
    goto LABEL_57;
  }
  if (qword_1009801B8 != -1) {
LABEL_83:
  }
    swift_once();
  double v20 = *(double *)&qword_1009A2530;
  if (v15)
  {
    swift_bridgeObjectRetain();
    unint64_t v21 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    unint64_t v21 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }

  return (float64x2_t *)sub_100616420(v21, v20);
}

double sub_1002F541C(uint64_t a1, uint64_t a2, int a3, uint64_t a4, void *a5, double a6, double a7)
{
  uint64_t v148 = a4;
  int v147 = a3;
  uint64_t v137 = a2;
  uint64_t v136 = type metadata accessor for LabelPlaceholderCompatibility();
  uint64_t v135 = *(void *)(v136 - 8);
  __chkstk_darwin(v136);
  v134 = (char *)&v131 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v145 = type metadata accessor for BadgeViewSpacing();
  uint64_t v144 = *(void *)(v145 - 8);
  __chkstk_darwin(v145);
  v143 = (uint64_t *)((char *)&v131._countAndFlagsBits - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v13);
  v142 = (char *)&v131 - v14;
  uint64_t v149 = type metadata accessor for BadgeViewRibbonLayout.Metrics();
  uint64_t v146 = *(void *)(v149 - 8);
  __chkstk_darwin(v149);
  v154 = (char *)&v131 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100995F80);
  __chkstk_darwin(v16 - 8);
  v138 = (char *)&v131 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for BadgeCaptionCappingType();
  uint64_t v158 = *(void *)(v18 - 8);
  uint64_t v159 = v18;
  __chkstk_darwin(v18);
  v140 = (char *)&v131 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  v157 = (char *)&v131 - v21;
  uint64_t v22 = type metadata accessor for BadgeType();
  uint64_t v155 = *(void *)(v22 - 8);
  uint64_t v156 = v22;
  __chkstk_darwin(v22);
  v141 = (char *)&v131 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v24);
  uint64_t v26 = (char *)&v131 - v25;
  __chkstk_darwin(v27);
  double v29 = (char *)&v131 - v28;
  uint64_t v152 = type metadata accessor for FontUseCase();
  uint64_t v153 = *(void *)(v152 - 8);
  __chkstk_darwin(v152);
  double v31 = (char *)&v131 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v32);
  v151 = (char *)&v131 - v33;
  sub_1000F8804();
  uint64_t v150 = v34;
  if (v34)
  {
    int64_t v35 = v31;
    if (qword_10097F2D8 != -1) {
      swift_once();
    }
    uint64_t v36 = v152;
    uint64_t v37 = sub_100087728(v152, (uint64_t)qword_1009E42E0);
    uint64_t v38 = v153;
    double v39 = v151;
    (*(void (**)(char *, uint64_t, uint64_t))(v153 + 16))(v151, v37, v36);
    uint64_t v40 = type metadata accessor for Feature();
    *((void *)&v163 + 1) = v40;
    uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    float64_t v41 = sub_1000808B8((uint64_t *)&v162);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v40 - 8) + 104))(v41, enum case for Feature.measurement_with_labelplaceholder(_:), v40);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
    uint64_t v42 = a5;
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    (*(void (**)(char *, uint64_t))(v38 + 8))(v39, v36);
    double v31 = v35;
  }
  else
  {
    uint64_t v42 = a5;
  }
  Badge.type.getter();
  uint64_t v43 = v156;
  uint64_t v45 = v155 + 88;
  uint64_t v44 = *(unsigned int (**)(char *, uint64_t))(v155 + 88);
  unsigned int v46 = v44(v29, v156);
  int v47 = enum case for BadgeType.rating(_:);
  if (v46 == enum case for BadgeType.rating(_:))
  {
    double v48 = v42;
    id v49 = [v42 traitCollection];
    sub_1003E1DBC(1, 0, 1, 1, (uint64_t)v49, 5.0);

LABEL_32:
    uint64_t v54 = (uint64_t)v154;
    goto LABEL_48;
  }
  double v48 = v42;
  if (v46 == enum case for BadgeType.contentRating(_:))
  {
    uint64_t v50 = Badge.content.getter();
    uint64_t v51 = BadgeContentKeyContentRatingResource.getter();
    if (*(void *)(v50 + 16))
    {
      unint64_t v53 = sub_10008A950(v51, v52);
      uint64_t v54 = (uint64_t)v154;
      if (v55)
      {
        sub_10008A898(*(void *)(v50 + 56) + 32 * v53, (uint64_t)&v162);
      }
      else
      {
        long long v162 = 0u;
        long long v163 = 0u;
      }
    }
    else
    {
      long long v162 = 0u;
      long long v163 = 0u;
      uint64_t v54 = (uint64_t)v154;
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (*((void *)&v163 + 1))
    {
      if (swift_dynamicCast())
      {
        id v75 = sub_100038400((uint64_t)v160, v161, 0);
        swift_bridgeObjectRelease();
        [v75 size];
      }
      goto LABEL_48;
    }
LABEL_47:
    sub_100082BCC((uint64_t)&v162, (uint64_t *)&unk_100982B40);
    goto LABEL_48;
  }
  if (v46 == enum case for BadgeType.chartPosition(_:))
  {
    uint64_t v132 = a1;
    v56._countAndFlagsBits = 0xD000000000000020;
    v56._object = (void *)0x8000000100806FE0;
    v57._countAndFlagsBits = 0;
    v57._object = (void *)0xE000000000000000;
    Swift::String v131 = localizedString(_:comment:)(v56, v57);
    if (qword_10097F2E0 != -1) {
      swift_once();
    }
    uint64_t v58 = v152;
    uint64_t v59 = sub_100087728(v152, (uint64_t)qword_1009E42F8);
    (*(void (**)(char *, uint64_t, uint64_t))(v153 + 16))(v31, v59, v58);
    v133 = v42;
    id v60 = [v42 traitCollection:v131._countAndFlagsBits, v131._object];
    Class isa = FontUseCase.makeFontDescriptor(compatibleWith:)((UITraitCollection)v60).super.isa;
    id v62 = [(objc_class *)isa fontDescriptorWithDesign:UIFontDescriptorSystemDesignRounded];

    if (v62)
    {
      id v63 = [self fontWithDescriptor:v62 size:0.0];

      if (v63)
      {
        uint64_t v64 = type metadata accessor for Feature();
        *((void *)&v163 + 1) = v64;
        uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
        uint64_t v65 = sub_1000808B8((uint64_t *)&v162);
        (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v64 - 8) + 104))(v65, enum case for Feature.measurement_with_labelplaceholder(_:), v64);
        id v66 = v63;
        isFeatureEnabled(_:)();
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
        long long v67 = v134;
        LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
        sub_10000C694((unint64_t *)&unk_1009947F0, (void (*)(uint64_t))&type metadata accessor for LabelPlaceholderCompatibility);
        double v48 = v133;
        int v68 = v47;
        id v69 = v31;
        uint64_t v70 = v136;
        dispatch thunk of Measurable.measurements(fitting:in:)();

        uint64_t v71 = v70;
        double v31 = v69;
        int v47 = v68;
        (*(void (**)(char *, uint64_t))(v135 + 8))(v67, v71);
LABEL_31:
        (*(void (**)(char *, uint64_t))(v153 + 8))(v31, v152);
        goto LABEL_32;
      }
    }
    else
    {
    }
    uint64_t v77 = type metadata accessor for Feature();
    *((void *)&v163 + 1) = v77;
    uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    uint64_t v78 = sub_1000808B8((uint64_t *)&v162);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v77 - 8) + 104))(v78, enum case for Feature.measurement_with_labelplaceholder(_:), v77);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
    double v48 = v133;
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    swift_bridgeObjectRelease();
    goto LABEL_31;
  }
  if (v46 == enum case for BadgeType.editorsChoice(_:))
  {
    v72._countAndFlagsBits = 0xD000000000000050;
    v73._object = (void *)0x8000000100807010;
    v72._object = (void *)0x8000000100807030;
    v73._countAndFlagsBits = 0xD000000000000017;
    localizedString(_:comment:)(v73, v72);
    uint64_t v74 = String.count.getter();
    swift_bridgeObjectRelease();
    sub_100185244(v74 < 19, 1, 0, v42, 0, 2u);
    goto LABEL_32;
  }
  if (v46 == enum case for BadgeType.artwork(_:))
  {
    uint64_t v54 = (uint64_t)v154;
    if (qword_10097FC70 != -1) {
      swift_once();
    }
    sub_100087728(v149, (uint64_t)qword_1009E5E40);
    BadgeViewRibbonLayout.Metrics.badgeIconSize.getter();
    id v76 = [v42 traitCollection];
    _UIAccessibilityContentSizeCategoryImageAdjustingScaleFactorForTraitCollection();

    CGSize.scaled(_:)();
  }
  else if (v46 == enum case for BadgeType.paragraph(_:))
  {
    LODWORD(v136) = enum case for BadgeType.rating(_:);
    v133 = v42;
    uint64_t v132 = a1;
    sub_1000F89C4();
    if (qword_10097F2D0 != -1) {
      swift_once();
    }
    uint64_t v79 = v152;
    uint64_t v80 = sub_100087728(v152, (uint64_t)qword_1009E42C8);
    uint64_t v81 = v153;
    v82 = v151;
    (*(void (**)(char *, uint64_t, uint64_t))(v153 + 16))(v151, v80, v79);
    uint64_t v83 = type metadata accessor for Feature();
    *((void *)&v163 + 1) = v83;
    uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    uint64_t v84 = sub_1000808B8((uint64_t *)&v162);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v83 - 8) + 104))(v84, enum case for Feature.measurement_with_labelplaceholder(_:), v83);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
    double v48 = v133;
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    double v86 = v85;
    id v87 = [v48 traitCollection];
    sub_100547160(v86, a6);

    (*(void (**)(char *, uint64_t))(v81 + 8))(v82, v79);
    swift_bridgeObjectRelease();
    uint64_t v54 = (uint64_t)v154;
    int v47 = v136;
  }
  else
  {
    if (v46 != enum case for BadgeType.friendsPlaying(_:))
    {
      (*(void (**)(char *, uint64_t))(v155 + 8))(v29, v43);
      goto LABEL_32;
    }
    uint64_t v88 = Badge.content.getter();
    uint64_t v89 = BadgeContentKeyNativeContentView.getter();
    if (*(void *)(v88 + 16))
    {
      unint64_t v91 = sub_10008A950(v89, v90);
      uint64_t v54 = (uint64_t)v154;
      if (v92)
      {
        sub_10008A898(*(void *)(v88 + 56) + 32 * v91, (uint64_t)&v162);
      }
      else
      {
        long long v162 = 0u;
        long long v163 = 0u;
      }
    }
    else
    {
      long long v162 = 0u;
      long long v163 = 0u;
      uint64_t v54 = (uint64_t)v154;
    }
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (!*((void *)&v163 + 1)) {
      goto LABEL_47;
    }
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    if (swift_dynamicCast())
    {
      id v93 = v160;
      [v160 sizeThatFits:a6, a7];
    }
  }
LABEL_48:
  Badge.type.getter();
  uint64_t v94 = v156;
  unsigned int v95 = v44(v26, v156);
  uint64_t v139 = v45;
  if (v95 == v47)
  {
    unint64_t v96 = sub_1000FA164();
    [v96 frame];
    CGRectGetWidth(v165);

    swift_bridgeObjectRelease();
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v155 + 8))(v26, v94);
    if (v148 >= 4 && (Badge.longCaption.getter(), v97) || (Badge.caption.getter(), v98))
    {
      v99 = v44;
      if (qword_10097F2F0 != -1) {
        swift_once();
      }
      uint64_t v100 = v152;
      uint64_t v101 = sub_100087728(v152, (uint64_t)qword_1009E4328);
      uint64_t v102 = v153;
      v103 = v151;
      (*(void (**)(char *, uint64_t, uint64_t))(v153 + 16))(v151, v101, v100);
      uint64_t v104 = type metadata accessor for Feature();
      *((void *)&v163 + 1) = v104;
      uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
      v105 = sub_1000808B8((uint64_t *)&v162);
      (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v104 - 8) + 104))(v105, enum case for Feature.measurement_with_labelplaceholder(_:), v104);
      isFeatureEnabled(_:)();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
      static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v102 + 8))(v103, v100);
      swift_bridgeObjectRelease();
      uint64_t v44 = v99;
      uint64_t v54 = (uint64_t)v154;
    }
    else
    {
      swift_bridgeObjectRelease();
    }
  }
  v106 = v44;
  (*(void (**)(char *, void, uint64_t))(v158 + 104))(v157, enum case for BadgeCaptionCappingType.none(_:), v159);
  uint64_t v107 = Badge.heading.getter();
  if (v108)
  {
    *(void *)&long long v162 = v107;
    *((void *)&v162 + 1) = v108;
    uint64_t v109 = (uint64_t)v138;
    static Locale.storefront.getter();
    uint64_t v110 = type metadata accessor for Locale();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v110 - 8) + 56))(v109, 0, 1, v110);
    sub_10007533C();
    StringProtocol.uppercased(with:)();
    sub_100082BCC(v109, &qword_100995F80);
    swift_bridgeObjectRelease();
    if (qword_10097F2F8 != -1) {
      swift_once();
    }
    uint64_t v111 = v152;
    uint64_t v112 = sub_100087728(v152, (uint64_t)qword_1009E4340);
    uint64_t v113 = v153;
    v114 = v151;
    (*(void (**)(char *, uint64_t, uint64_t))(v153 + 16))(v151, v112, v111);
    uint64_t v115 = type metadata accessor for Feature();
    *((void *)&v163 + 1) = v115;
    uint64_t v164 = sub_10000C694((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    v116 = sub_1000808B8((uint64_t *)&v162);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v115 - 8) + 104))(v116, enum case for Feature.measurement_with_labelplaceholder(_:), v115);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v162);
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v113 + 8))(v114, v111);
    uint64_t v54 = (uint64_t)v154;
  }
  uint64_t v117 = v149;
  uint64_t v118 = v146;
  uint64_t v119 = v145;
  v120 = v141;
  if (qword_10097FC70 != -1) {
    swift_once();
  }
  v121 = v48;
  uint64_t v122 = sub_100087728(v117, (uint64_t)qword_1009E5E40);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v118 + 16))(v54, v122, v117);
  (*(void (**)(char *, char *, uint64_t))(v158 + 16))(v140, v157, v159);
  BadgeViewRibbonLayout.Metrics.captionCappingType.setter();
  Badge.type.getter();
  uint64_t v123 = v156;
  if (v106(v120, v156) == enum case for BadgeType.chartPosition(_:))
  {
    v124 = v143;
    void *v143 = 0;
    uint64_t v125 = v144;
    (*(void (**)(void *, void, uint64_t))(v144 + 104))(v124, enum case for BadgeViewSpacing.spacing(_:), v119);
  }
  else
  {
    uint64_t v126 = v123;
    uint64_t v125 = v144;
    v124 = v143;
    (*(void (**)(void *, void, uint64_t))(v144 + 104))(v143, enum case for BadgeViewSpacing.standard(_:), v119);
    (*(void (**)(char *, uint64_t))(v155 + 8))(v120, v126);
  }
  (*(void (**)(char *, void *, uint64_t))(v125 + 32))(v142, v124, v119);
  BadgeViewRibbonLayout.Metrics.spacingType.setter();
  if ((v147 & 1) == 0)
  {
    id v127 = [v121 traitCollection];
    sub_100524EA8(v54, v137, v148);
  }
  static BadgeViewRibbonLayout.measurements(valueLabelWidth:viewSize:captionWidth:headingLabelWidth:fitting:using:in:)();
  double v129 = v128;
  (*(void (**)(uint64_t, uint64_t))(v118 + 8))(v54, v117);
  (*(void (**)(char *, uint64_t))(v158 + 8))(v157, v159);
  return v129;
}

void sub_1002F6BB4()
{
  uint64_t v1 = type metadata accessor for ArcadeState();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  id v4 = (char *)&v38 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v5 - 8);
  float64_t v41 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&double v8 = __chkstk_darwin(v7).n128_u64[0];
  uint64_t v10 = (char *)&v38 - v9;
  id v40 = *(id *)(v0 + OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_accountStore);
  id v11 = [v40 ams_activeiTunesAccount:v8];
  id v12 = [v11 ams_DSID];

  uint64_t v13 = self;
  id v14 = [v13 standardUserDefaults];
  NSString v15 = String._bridgeToObjectiveC()();
  [v14 setObject:v12 forKey:v15];

  uint64_t v16 = (uint64_t)v10;
  Date.init()();
  uint64_t v17 = type metadata accessor for Date();
  uint64_t v18 = *(void *)(v17 - 8);
  uint64_t v19 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v18 + 56);
  v19(v16, 0, 1, v17);
  sub_1002F8A50(v16);
  ArcadeSubscriptionManager.subscriptionState.getter();
  char v20 = ArcadeState.isSubscribed.getter();
  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  if ((v20 & 1) == 0) {
    return;
  }
  double v39 = v19;
  uint64_t v21 = (uint64_t)v41;
  id v22 = [v40 ams_activeiTunesAccount];
  id v23 = [v22 ams_DSID];

  id v24 = [v13 standardUserDefaults];
  uint64_t v25 = (void *)sub_10074ABEC();

  uint64_t v26 = &selRef_hasContent;
  uint64_t v27 = v13;
  uint64_t v28 = v23;
  if (v23)
  {
    if (v25)
    {
      sub_100084CF0(0, (unint64_t *)&qword_10098FAF0);
      uint64_t v29 = v17;
      uint64_t v30 = v16;
      id v31 = v23;
      LODWORD(v40) = static NSObject.== infix(_:_:)();

      uint64_t v16 = v30;
      uint64_t v17 = v29;
      uint64_t v26 = &selRef_hasContent;
      uint64_t v28 = v23;
      uint64_t v32 = v27;
LABEL_7:

      goto LABEL_10;
    }
    LODWORD(v40) = 0;
    uint64_t v32 = v27;
  }
  else
  {
    uint64_t v32 = v27;
    if (v25)
    {
      LODWORD(v40) = 0;
      goto LABEL_7;
    }
    LODWORD(v40) = 1;
  }
LABEL_10:
  uint64_t v33 = v26;
  id v34 = [v32 v26[141]];
  sub_10074AC08(v21);

  LODWORD(v34) = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v18 + 48))(v21, 1, v17);
  sub_100082BCC(v21, (uint64_t *)&unk_10098FAE0);
  if (v34 == 1 || (v40 & 1) == 0)
  {
    id v35 = v28;
    id v36 = [v32 v33[141]];
    NSString v37 = String._bridgeToObjectiveC()();
    [v36 setObject:v35 forKey:v37];

    Date.init()();
    v39(v16, 0, 1, v17);
    sub_1002F8A50(v16);
  }
}

uint64_t sub_1002F7068()
{
  return sub_1002F70C0();
}

uint64_t sub_1002F7094()
{
  return sub_1002F70C0();
}

uint64_t sub_1002F70C0()
{
  uint64_t v1 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  *(void *)&double v2 = __chkstk_darwin(v1 - 8).n128_u64[0];
  id v4 = (char *)&v11 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v5 = [*(id *)(v0 + OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_accountStore) ams_activeiTunesAccount:v2];
  id v6 = [v5 ams_DSID];

  id v7 = [self standardUserDefaults];
  NSString v8 = String._bridgeToObjectiveC()();
  [v7 setObject:v6 forKey:v8];

  Date.init()();
  uint64_t v9 = type metadata accessor for Date();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v9 - 8) + 56))(v4, 0, 1, v9);
  return sub_1002F8A50((uint64_t)v4);
}

void sub_1002F7234(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for FamilyCircleLookupResult();
  uint64_t v3 = *(void *)(v2 - 8);
  __n128 v4 = __chkstk_darwin(v2);
  id v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v3 + 16))(v6, a1, v2, v4);
  int v7 = (*(uint64_t (**)(char *, uint64_t))(v3 + 88))(v6, v2);
  if (v7 == enum case for FamilyCircleLookupResult.notInFamily(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
    char v8 = *v6;
    swift_beginAccess();
    uint64_t Strong = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (Strong)
    {
      Strong[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isInFamily] = 0;
    }
    swift_beginAccess();
    uint64_t v10 = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (v10)
    {
      v10[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isFamilyOrganizer] = 0;
    }
    swift_beginAccess();
    uint64_t v11 = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (v11)
    {
      v11[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_canCreateFamily] = v8;
    }
  }
  else if (v7 == enum case for FamilyCircleLookupResult.inFamily(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
    char v12 = *v6;
    swift_beginAccess();
    uint64_t v13 = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (v13)
    {
      v13[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isInFamily] = 1;
    }
    swift_beginAccess();
    id v14 = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (v14)
    {
      v14[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isFamilyOrganizer] = v12;
    }
    swift_beginAccess();
    NSString v15 = (unsigned char *)swift_unknownObjectWeakLoadStrong();
    if (v15)
    {
      v15[OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_canCreateFamily] = 0;
    }
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v3 + 8))(v6, v2);
  }
}

uint64_t sub_1002F74CC(uint64_t a1, void *a2)
{
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v5 - 8);
  int v7 = (char *)&v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for Date();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v24 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  id v14 = (char *)&v24 - v13;
  sub_1002F89A8(a1, (uint64_t)v7);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v9 + 48))(v7, 1, v8) == 1)
  {
    sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_10098FAE0);
    return 0;
  }
  (*(void (**)(char *, char *, uint64_t))(v9 + 32))(v14, v7, v8);
  if (!a2)
  {
LABEL_9:
    (*(void (**)(char *, uint64_t))(v9 + 8))(v14, v8);
    return 0;
  }
  NSString v15 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_accountStore);
  id v16 = a2;
  id v17 = [v15 ams_activeiTunesAccount];
  if (!v17
    || (uint64_t v18 = v17, v19 = objc_msgSend(v17, "ams_DSID"), v18, !v19))
  {

    goto LABEL_9;
  }
  sub_100084CF0(0, (unint64_t *)&qword_10098A0B0);
  if (static NSObject.== infix(_:_:)())
  {
    Date.init()();
    Date.timeIntervalSince(_:)();
    uint64_t v21 = v20;

    id v22 = *(void (**)(char *, uint64_t))(v9 + 8);
    v22(v11, v8);
    v22(v14, v8);
    return v21;
  }
  (*(void (**)(char *, uint64_t))(v9 + 8))(v14, v8);

  return 0;
}

uint64_t sub_1002F7780@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v4 = v3;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v47 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for ArcadeState();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  id v14 = (char *)&v47 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1 == 0xD000000000000012 && a2 == 0x8000000100808FF0
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    ArcadeSubscriptionManager.subscriptionState.getter();
    char v15 = ArcadeState.isSubscribed.getter();
LABEL_5:
    char v16 = v15;
    uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    *(void *)(a3 + 24) = &type metadata for Bool;
    char v18 = v16 & 1;
LABEL_6:
    *(unsigned char *)a3 = v18;
    return result;
  }
  if (a1 == 0xD000000000000016 && a2 == 0x8000000100809010
    || (uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)(), (result & 1) != 0))
  {
    ArcadeSubscriptionManager.subscriptionState.getter();
    char v15 = ArcadeState.isTrialAvailable.getter();
    goto LABEL_5;
  }
  if (a1 == 0x696D61466E497369 && a2 == 0xEA0000000000796CLL
    || (uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)(), (result & 1) != 0))
  {
    uint64_t v19 = OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isInFamily;
    goto LABEL_15;
  }
  if (a1 == 0xD000000000000011 && a2 == 0x800000010080C690
    || (uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)(), (result & 1) != 0))
  {
    uint64_t v19 = OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_isFamilyOrganizer;
    goto LABEL_15;
  }
  if (a1 == 0x74616572436E6163 && a2 == 0xEF796C696D614665
    || (uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)(), (result & 1) != 0))
  {
    uint64_t v19 = OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_canCreateFamily;
LABEL_15:
    int v20 = *(unsigned __int8 *)(v4 + v19);
    if (v20 != 2)
    {
      char v18 = v20 & 1;
      *(void *)(a3 + 24) = &type metadata for Bool;
      goto LABEL_6;
    }
    goto LABEL_16;
  }
  if (a1 == 0xD000000000000011 && a2 == 0x800000010080C670) {
    goto LABEL_16;
  }
  uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)();
  if (result) {
    goto LABEL_16;
  }
  uint64_t result = 0xD000000000000014;
  if (a1 == 0xD000000000000014 && a2 == 0x800000010080C650) {
    goto LABEL_16;
  }
  uint64_t result = _stringCompareWithSmolCheck(_:_:expecting:)();
  if (result) {
    goto LABEL_16;
  }
  if (a1 == 0xD00000000000001ELL && a2 == 0x800000010080C630
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    uint64_t v21 = self;
    id v22 = [v21 standardUserDefaults];
    sub_10074AA58((uint64_t)v10);

    id v23 = [v21 standardUserDefaults];
    uint64_t v24 = sub_10074A960();
    goto LABEL_36;
  }
  if (a1 == 0xD00000000000001BLL && a2 == 0x800000010080C610
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    uint64_t v29 = self;
    id v30 = [v29 standardUserDefaults];
    sub_10074A944((uint64_t)v10);

    id v23 = [v29 standardUserDefaults];
    uint64_t v24 = sub_10074A928();
    goto LABEL_36;
  }
  if (a1 == 0xD000000000000023 && a2 == 0x800000010080C5E0
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    id v31 = self;
    id v32 = [v31 standardUserDefaults];
    sub_10074ABD0((uint64_t)v10);

    id v23 = [v31 standardUserDefaults];
    uint64_t v24 = sub_10074ABB4();
    goto LABEL_36;
  }
  if (a1 == 0xD00000000000002BLL && a2 == 0x800000010080C5B0
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    uint64_t v33 = self;
    id v34 = [v33 standardUserDefaults];
    sub_10074AC08((uint64_t)v10);

    id v23 = [v33 standardUserDefaults];
    uint64_t v24 = sub_10074ABEC();
LABEL_36:
    uint64_t v25 = (void *)v24;

    uint64_t v26 = sub_1002F74CC((uint64_t)v10, v25);
    char v28 = v27;

    uint64_t result = sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_10098FAE0);
    if ((v28 & 1) == 0)
    {
      *(void *)(a3 + 24) = &type metadata for Double;
      *(void *)a3 = v26;
      return result;
    }
LABEL_16:
    *(_OWORD *)a3 = 0u;
    *(_OWORD *)(a3 + 16) = 0u;
    return result;
  }
  if (a1 == 0xD000000000000033 && a2 == 0x800000010080C570
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    id v35 = self;
    id v36 = [v35 standardUserDefaults];
    sub_10074ABD0((uint64_t)v10);

    id v37 = [v35 standardUserDefaults];
    uint64_t v38 = (void *)sub_10074ABB4();

    double v39 = COERCE_DOUBLE(sub_1002F74CC((uint64_t)v10, v38));
    LOBYTE(v37) = v40;

    uint64_t result = sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_10098FAE0);
    if (v37) {
      goto LABEL_16;
    }
    id v41 = [v35 standardUserDefaults];
    sub_10074AC08((uint64_t)v10);

    id v42 = [v35 standardUserDefaults];
    uint64_t v43 = (void *)sub_10074ABEC();

    double v44 = COERCE_DOUBLE(sub_1002F74CC((uint64_t)v10, v43));
    char v46 = v45;

    uint64_t result = sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_10098FAE0);
    if (v46) {
      goto LABEL_16;
    }
    *(void *)(a3 + 24) = &type metadata for Double;
    *(double *)a3 = v39 - v44;
  }
  else
  {
    uint64_t result = sub_1002F8C24();
    if (result == 2) {
      goto LABEL_16;
    }
    *(void *)(a3 + 24) = &type metadata for Bool;
    *(unsigned char *)a3 = result & 1;
  }
  return result;
}

uint64_t sub_1002F8124()
{
  uint64_t v0 = type metadata accessor for DispatchWorkItemFlags();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)aBlock - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for DispatchQoS();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  int v7 = (char *)aBlock - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100084CF0(0, (unint64_t *)&qword_100984500);
  uint64_t v8 = (void *)static OS_dispatch_queue.main.getter();
  uint64_t v9 = swift_allocObject();
  swift_unknownObjectWeakInit();
  aBlock[4] = sub_1002F8C1C;
  aBlock[5] = v9;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_1000162D4;
  aBlock[3] = &unk_1008C56F0;
  uint64_t v10 = _Block_copy(aBlock);
  swift_release();
  static DispatchQoS.unspecified.getter();
  aBlock[0] = _swiftEmptyArrayStorage;
  sub_100078F78();
  sub_100082C28((uint64_t *)&unk_100984510);
  sub_100060CC8();
  dispatch thunk of SetAlgebra.init<A>(_:)();
  OS_dispatch_queue.async(group:qos:flags:execute:)();
  _Block_release(v10);

  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
}

void sub_1002F83B4()
{
  uint64_t v0 = type metadata accessor for FamilyCircleLookupTask();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v5 = (void *)Strong;
    FamilyCircleLookupTask.init()();
    FamilyCircleLookupTask.perform()();
    swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v6 = sub_100084CF0(0, (unint64_t *)&qword_100984500);
    uint64_t v7 = static OS_dispatch_queue.main.getter();
    v8[3] = v6;
    v8[4] = &protocol witness table for OS_dispatch_queue;
    v8[0] = v7;
    Promise.then(perform:orCatchError:on:)();
    swift_release();
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v8);
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  }
}

uint64_t sub_1002F89A0()
{
  return type metadata accessor for InAppMessagesMetricsDelegate();
}

uint64_t sub_1002F89A8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_1002F8A10()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_1002F8A48(uint64_t a1)
{
}

uint64_t sub_1002F8A50(uint64_t a1)
{
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v14 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v14 - v6;
  id v8 = [self standardUserDefaults];
  sub_1002F89A8(a1, (uint64_t)v7);
  sub_1002F89A8((uint64_t)v7, (uint64_t)v4);
  uint64_t v9 = type metadata accessor for Date();
  uint64_t v10 = *(void *)(v9 - 8);
  Class isa = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48))(v4, 1, v9) != 1)
  {
    Class isa = Date._bridgeToObjectiveC()().super.isa;
    (*(void (**)(char *, uint64_t))(v10 + 8))(v4, v9);
  }
  NSString v12 = String._bridgeToObjectiveC()();
  [v8 setObject:isa forKey:v12];
  swift_unknownObjectRelease();

  sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_10098FAE0);
  return sub_100082BCC(a1, (uint64_t *)&unk_10098FAE0);
}

void sub_1002F8C1C()
{
}

uint64_t sub_1002F8C24()
{
  uint64_t v0 = type metadata accessor for OSLogger();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v19[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v4 = [self mainBundle];
  id v5 = [v4 bundleIdentifier];

  if (v5)
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
  }
  id v6 = objc_allocWithZone((Class)FAEligiblityEvaluationRequest);
  swift_bridgeObjectRetain();
  NSString v7 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  NSString v8 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  id v9 = [v6 initWithPropertyName:v7 bundleID:v8];

  v19[0] = 0;
  id v10 = [v9 fetchEligibilityWithError:v19];
  id v11 = v19[0];
  if (v19[0])
  {
    uint64_t v12 = qword_10097E1C8;
    id v13 = v19[0];
    if (v12 != -1) {
      swift_once();
    }
    uint64_t v14 = sub_100087728(v0, (uint64_t)qword_1009E14A8);
    (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v14, v0);
    sub_100082C28((uint64_t *)&unk_100984540);
    type metadata accessor for LogMessage();
    *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
    LogMessage.init(stringLiteral:)();
    v19[3] = (id)sub_100084CF0(0, &qword_10098FAF8);
    v19[0] = v13;
    id v15 = v13;
    static LogMessage.safe(_:)();
    sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100982B40);
    Logger.error(_:)();

    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  }
  else
  {
  }
  if (v10 == (id)2) {
    uint64_t v16 = 1;
  }
  else {
    uint64_t v16 = 2 * (v10 != (id)1);
  }

  return v16;
}

id sub_1002F8FD8(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v47 = a2;
  uint64_t v5 = type metadata accessor for WordmarkView.Alignment();
  uint64_t v42 = *(void *)(v5 - 8);
  uint64_t v43 = v5;
  __chkstk_darwin(v5);
  char v46 = (char *)&v40 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for FontSource();
  uint64_t v41 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  id v9 = (UIFontTextStyle *)((char *)&v40 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v10 = type metadata accessor for StaticDimension();
  uint64_t v44 = *(void *)(v10 - 8);
  uint64_t v45 = v10;
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v40 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_1009977E0);
  __chkstk_darwin(v13 - 8);
  id v15 = (char *)&v40 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  char v18 = (char *)&v40 - v17;
  uint64_t v19 = type metadata accessor for Wordmark();
  uint64_t v20 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  id v22 = (char *)&v40 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_1002FF23C(a1, (uint64_t)v18);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v20 + 48))(v18, 1, v19) == 1)
  {
    sub_100082BCC((uint64_t)v18, (uint64_t *)&unk_1009977E0);
    id v23 = (id *)&v3[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView];
    swift_beginAccess();
    id result = *v23;
    if (*v23) {
      return [result setHidden:1];
    }
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v20 + 32))(v22, v18, v19);
    id v40 = v3;
    uint64_t v25 = (id *)&v3[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView];
    swift_beginAccess();
    id v26 = *v25;
    if (*v25) {
      goto LABEL_10;
    }
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v20 + 56))(v15, 1, 1, v19);
    *id v9 = UIFontTextStyleFootnote;
    uint64_t v27 = v41;
    (*(void (**)(UIFontTextStyle *, void, uint64_t))(v41 + 104))(v9, enum case for FontSource.textStyle(_:), v7);
    uint64_t v49 = v7;
    uint64_t v50 = &protocol witness table for FontSource;
    char v28 = sub_1000808B8(v48);
    (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v27 + 16))(v28, v9, v7);
    uint64_t v29 = UIFontTextStyleFootnote;
    StaticDimension.init(_:scaledLike:)();
    (*(void (**)(UIFontTextStyle *, uint64_t))(v27 + 8))(v9, v7);
    (*(void (**)(char *, void, uint64_t))(v42 + 104))(v46, enum case for WordmarkView.Alignment.center(_:), v43);
    uint64_t v30 = v45;
    uint64_t v49 = v45;
    uint64_t v50 = &protocol witness table for StaticDimension;
    id v31 = sub_1000808B8(v48);
    uint64_t v32 = v44;
    (*(void (**)(uint64_t *, char *, uint64_t))(v44 + 16))(v31, v12, v30);
    id v33 = objc_allocWithZone((Class)type metadata accessor for WordmarkView());
    id v34 = (void *)WordmarkView.init(frame:wordmark:referenceLineHeight:alignment:)();
    (*(void (**)(char *, uint64_t))(v32 + 8))(v12, v30);
    id v35 = *v25;
    id *v25 = v34;
    id v36 = v34;
    if (v35) {
      [v35 removeFromSuperview];
    }
    if (*v25) {
      [v40 addSubview:];
    }

    id v26 = *v25;
    if (*v25)
    {
LABEL_10:
      [v26 setTintColor:v47];
      if (*v25) {
        [*v25 setHidden:0];
      }
    }
    swift_beginAccess();
    id v37 = *v25;
    if (*v25)
    {
      swift_endAccess();
      id v38 = v37;
      id v39 = [v40 traitCollection];
      WordmarkView.show(wordmark:with:)();

      return (id)(*(uint64_t (**)(char *, uint64_t))(v20 + 8))(v22, v19);
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v20 + 8))(v22, v19);
      return (id)swift_endAccess();
    }
  }
  return result;
}

uint64_t sub_1002F95AC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for ComponentDecoration();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(a2 + 16)
    && (sub_1002FF5C4(&qword_10098FC00, (void (*)(uint64_t))&type metadata accessor for ComponentDecoration),
        uint64_t v7 = dispatch thunk of Hashable._rawHashValue(seed:)(),
        uint64_t v8 = -1 << *(unsigned char *)(a2 + 32),
        unint64_t v9 = v7 & ~v8,
        uint64_t v10 = a2 + 56,
        ((*(void *)(a2 + 56 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0))
  {
    uint64_t v17 = ~v8;
    uint64_t v18 = a2;
    uint64_t v11 = v4 + 16;
    uint64_t v12 = *(void (**)(char *, unint64_t, uint64_t))(v4 + 16);
    uint64_t v13 = *(void *)(v11 + 56);
    uint64_t v14 = (void (**)(char *, uint64_t))(v11 - 8);
    do
    {
      v12(v6, *(void *)(v18 + 48) + v13 * v9, v3);
      sub_1002FF5C4(&qword_10098FC08, (void (*)(uint64_t))&type metadata accessor for ComponentDecoration);
      char v15 = dispatch thunk of static Equatable.== infix(_:_:)();
      (*v14)(v6, v3);
      if (v15) {
        break;
      }
      unint64_t v9 = (v9 + 1) & v17;
    }
    while (((*(void *)(v10 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0);
  }
  else
  {
    char v15 = 0;
  }
  return v15 & 1;
}

uint64_t sub_1002F97C0(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for Shelf.ContentType();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(a2 + 16)
    && (sub_1002FF5C4(&qword_1009841D0, (void (*)(uint64_t))&type metadata accessor for Shelf.ContentType),
        uint64_t v7 = dispatch thunk of Hashable._rawHashValue(seed:)(),
        uint64_t v8 = -1 << *(unsigned char *)(a2 + 32),
        unint64_t v9 = v7 & ~v8,
        uint64_t v10 = a2 + 56,
        ((*(void *)(a2 + 56 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0))
  {
    uint64_t v17 = ~v8;
    uint64_t v18 = a2;
    uint64_t v11 = v4 + 16;
    uint64_t v12 = *(void (**)(char *, unint64_t, uint64_t))(v4 + 16);
    uint64_t v13 = *(void *)(v11 + 56);
    uint64_t v14 = (void (**)(char *, uint64_t))(v11 - 8);
    do
    {
      v12(v6, *(void *)(v18 + 48) + v13 * v9, v3);
      sub_1002FF5C4((unint64_t *)&qword_100986D20, (void (*)(uint64_t))&type metadata accessor for Shelf.ContentType);
      char v15 = dispatch thunk of static Equatable.== infix(_:_:)();
      (*v14)(v6, v3);
      if (v15) {
        break;
      }
      unint64_t v9 = (v9 + 1) & v17;
    }
    while (((*(void *)(v10 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0);
  }
  else
  {
    char v15 = 0;
  }
  return v15 & 1;
}

uint64_t sub_1002F99D4(void *a1, uint64_t a2)
{
  if ((a2 & 0xC000000000000001) != 0)
  {
    id v3 = a1;
    char v4 = __CocoaSet.contains(_:)();

    return v4 & 1;
  }
  if (!*(void *)(a2 + 16)
    || (Swift::Int v6 = NSObject._rawHashValue(seed:)(*(void *)(a2 + 40)),
        uint64_t v7 = -1 << *(unsigned char *)(a2 + 32),
        unint64_t v8 = v6 & ~v7,
        uint64_t v9 = a2 + 56,
        ((*(void *)(a2 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8) & 1) == 0))
  {
LABEL_11:
    char v12 = 0;
    return v12 & 1;
  }
  sub_100084CF0(0, (unint64_t *)&qword_100990050);
  id v10 = *(id *)(*(void *)(a2 + 48) + 8 * v8);
  char v11 = static NSObject.== infix(_:_:)();

  if ((v11 & 1) == 0)
  {
    uint64_t v13 = ~v7;
    unint64_t v14 = (v8 + 1) & v13;
    if ((*(void *)(v9 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14))
    {
      do
      {
        id v15 = *(id *)(*(void *)(a2 + 48) + 8 * v14);
        char v12 = static NSObject.== infix(_:_:)();

        if (v12) {
          break;
        }
        unint64_t v14 = (v14 + 1) & v13;
      }
      while (((*(void *)(v9 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14) & 1) != 0);
      return v12 & 1;
    }
    goto LABEL_11;
  }
  char v12 = 1;
  return v12 & 1;
}

uint64_t sub_1002F9B34(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for PageFacets.Facet.Option();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  Swift::Int v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(a2 + 16)
    && (sub_1002FF5C4(&qword_1009847D0, (void (*)(uint64_t))&type metadata accessor for PageFacets.Facet.Option), uint64_t v7 = dispatch thunk of Hashable._rawHashValue(seed:)(), v8 = -1 << *(unsigned char *)(a2 + 32), v9 = v7 & ~v8, v10 = a2 + 56, ((*(void *)(a2 + 56 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0))
  {
    uint64_t v17 = ~v8;
    uint64_t v18 = a2;
    uint64_t v11 = v4 + 16;
    char v12 = *(void (**)(char *, unint64_t, uint64_t))(v4 + 16);
    uint64_t v13 = *(void *)(v11 + 56);
    unint64_t v14 = (void (**)(char *, uint64_t))(v11 - 8);
    do
    {
      v12(v6, *(void *)(v18 + 48) + v13 * v9, v3);
      sub_1002FF5C4(&qword_100984880, (void (*)(uint64_t))&type metadata accessor for PageFacets.Facet.Option);
      char v15 = dispatch thunk of static Equatable.== infix(_:_:)();
      (*v14)(v6, v3);
      if (v15) {
        break;
      }
      unint64_t v9 = (v9 + 1) & v17;
    }
    while (((*(void *)(v10 + ((v9 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v9) & 1) != 0);
  }
  else
  {
    char v15 = 0;
  }
  return v15 & 1;
}

uint64_t sub_1002F9D4C(uint64_t a1, uint64_t a2)
{
  if (*(void *)(a2 + 16))
  {
    static String._unconditionallyBridgeFromObjectiveC(_:)();
    Hasher.init(_seed:)();
    String.hash(into:)();
    Swift::Int v3 = Hasher._finalize()();
    swift_bridgeObjectRelease();
    uint64_t v4 = -1 << *(unsigned char *)(a2 + 32);
    unint64_t v5 = v3 & ~v4;
    uint64_t v6 = a2 + 56;
    if ((*(void *)(a2 + 56 + ((v5 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v5))
    {
      uint64_t v7 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      uint64_t v9 = v8;
      if (v7 == static String._unconditionallyBridgeFromObjectiveC(_:)() && v9 == v10)
      {
LABEL_17:
        swift_bridgeObjectRelease_n();
        goto LABEL_18;
      }
      char v12 = _stringCompareWithSmolCheck(_:_:expecting:)();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if (v12)
      {
LABEL_18:
        char v20 = 1;
        return v20 & 1;
      }
      uint64_t v13 = ~v4;
      unint64_t v14 = (v5 + 1) & v13;
      if ((*(void *)(v6 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14))
      {
        while (1)
        {
          uint64_t v15 = static String._unconditionallyBridgeFromObjectiveC(_:)();
          uint64_t v17 = v16;
          if (v15 == static String._unconditionallyBridgeFromObjectiveC(_:)() && v17 == v18) {
            break;
          }
          char v20 = _stringCompareWithSmolCheck(_:_:expecting:)();
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          if ((v20 & 1) == 0)
          {
            unint64_t v14 = (v14 + 1) & v13;
            if ((*(void *)(v6 + ((v14 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v14)) {
              continue;
            }
          }
          return v20 & 1;
        }
        goto LABEL_17;
      }
    }
  }
  char v20 = 0;
  return v20 & 1;
}

double sub_1002F9F14()
{
  uint64_t v1 = type metadata accessor for AppShowcaseType();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for AppShowcaseLockupViewLayout.Metrics();
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v35 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for AppShowcaseLockupViewLayout();
  uint64_t v40 = *(void *)(v8 - 8);
  uint64_t v41 = v8;
  __chkstk_darwin(v8);
  id v39 = (char *)&v35 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = &v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_type];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v2 + 16))(v4, v10, v1);
  uint64_t v11 = *(void *)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerDisplayProperties];
  swift_retain();
  id v38 = v7;
  sub_1002FC65C((void (*)(void, void, void))v4, v11, v0, (uint64_t)v7);
  swift_release();
  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  char v12 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_iconView];
  uint64_t v64 = type metadata accessor for ArtworkView();
  uint64_t v65 = &protocol witness table for UIView;
  id v37 = v12;
  id v63 = v12;
  uint64_t v13 = (void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView];
  swift_beginAccess();
  unint64_t v14 = *v13;
  if (*v13)
  {
    *((void *)&v61 + 1) = type metadata accessor for WordmarkView();
    id v62 = &protocol witness table for UIView;
    *(void *)&long long v60 = v14;
  }
  else
  {
    id v62 = 0;
    long long v60 = 0u;
    long long v61 = 0u;
  }
  id v36 = *(id *)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel];
  id v15 = v36;
  uint64_t v16 = type metadata accessor for DynamicTypeLabel();
  uint64_t v58 = v16;
  uint64_t v59 = &protocol witness table for UILabel;
  Swift::String v56 = &protocol witness table for UILabel;
  id v57 = v15;
  uint64_t v17 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel];
  uint64_t v55 = v16;
  uint64_t v54 = v17;
  uint64_t v18 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerButton];
  uint64_t v52 = type metadata accessor for OfferButton();
  unint64_t v53 = &protocol witness table for UIView;
  uint64_t v19 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel];
  uint64_t v50 = &protocol witness table for UILabel;
  uint64_t v51 = v18;
  uint64_t v49 = v16;
  uint64_t v47 = &protocol witness table for UILabel;
  double v48 = v19;
  char v20 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel];
  uint64_t v46 = v16;
  uint64_t v44 = &protocol witness table for UILabel;
  uint64_t v45 = v20;
  uint64_t v21 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
  uint64_t v43 = v16;
  uint64_t v42 = v21;
  id v22 = v37;
  id v23 = v14;
  id v24 = v36;
  id v25 = v17;
  id v26 = v18;
  id v27 = v19;
  id v28 = v20;
  id v29 = v21;
  uint64_t v30 = v39;
  AppShowcaseLockupViewLayout.init(metrics:iconView:wordmarkView:titleText:descriptionText:offerButton:offerText:crossLinkTitleText:crossLinkSubtitleText:)();
  sub_1002FF5C4(&qword_10098FC10, (void (*)(uint64_t))&type metadata accessor for AppShowcaseLockupViewLayout);
  uint64_t v31 = v41;
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v33 = v32;
  (*(void (**)(char *, uint64_t))(v40 + 8))(v30, v31);
  return v33;
}

double sub_1002FA314(uint64_t a1, void *a2)
{
  id v137 = a2;
  uint64_t v3 = type metadata accessor for AppShowcaseLockupViewLayout.Metrics();
  __chkstk_darwin(v3 - 8);
  uint64_t v118 = (char *)&v101 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for AppShowcaseLockupViewLayout();
  uint64_t v120 = *(void *)(v5 - 8);
  uint64_t v121 = v5;
  __chkstk_darwin(v5);
  uint64_t v119 = (char *)&v101 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for OfferLabelStyle();
  uint64_t v104 = *(void *)(v7 - 8);
  uint64_t v105 = v7;
  __chkstk_darwin(v7);
  v103 = (char *)&v101 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v102 = (char *)&v101 - v10;
  uint64_t v11 = type metadata accessor for OfferButtonMetrics();
  uint64_t v131 = *(void *)(v11 - 8);
  uint64_t v132 = v11;
  __chkstk_darwin(v11);
  v114 = (char *)&v101 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  v130 = (char *)&v101 - v14;
  uint64_t v129 = type metadata accessor for FontUseCase();
  uint64_t v125 = *(void *)(v129 - 8);
  __chkstk_darwin(v129);
  uint64_t v16 = (char *)&v101 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for LabelPlaceholderCompatibility();
  uint64_t v133 = *(void *)(v17 - 8);
  uint64_t v134 = v17;
  __chkstk_darwin(v17);
  uint64_t v115 = (char *)&v101 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v19);
  uint64_t v113 = (char *)&v101 - v20;
  __chkstk_darwin(v21);
  uint64_t v122 = (char *)&v101 - v22;
  uint64_t v23 = type metadata accessor for AppShowcaseType();
  uint64_t v24 = *(void *)(v23 - 8);
  __chkstk_darwin(v23);
  uint64_t v117 = (char *)&v101 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v26);
  uint64_t v111 = (char *)&v101 - v27;
  __chkstk_darwin(v28);
  uint64_t v112 = (char *)&v101 - v29;
  __chkstk_darwin(v30);
  double v32 = (char *)&v101 - v31;
  __chkstk_darwin(v33);
  uint64_t v35 = (char *)&v101 - v34;
  __chkstk_darwin(v36);
  id v38 = (char *)&v101 - v37;
  __chkstk_darwin(v39);
  uint64_t v41 = (char *)&v101 - v40;
  uint64_t v138 = a1;
  AppShowcase.type.getter();
  double v128 = *(void (**)(char *, char *, uint64_t))(v24 + 16);
  v128(v38, v41, v23);
  id v127 = *(uint64_t (**)(char *, uint64_t))(v24 + 88);
  int v42 = v127(v38, v23);
  int v126 = enum case for AppShowcaseType.large(_:);
  if (v42 != enum case for AppShowcaseType.large(_:)
    && v42 != enum case for AppShowcaseType.small(_:)
    && v42 != enum case for AppShowcaseType.smallAlignedLeft(_:))
  {
    (*(void (**)(char *, uint64_t))(v24 + 8))(v38, v23);
  }
  uint64_t v135 = *(void (**)(char *, uint64_t))(v24 + 8);
  uint64_t v136 = v24 + 8;
  v135(v41, v23);
  uint64_t v43 = type metadata accessor for LayoutViewPlaceholder();
  swift_allocObject();
  uint64_t v116 = LayoutViewPlaceholder.init(representing:)();
  AppShowcase.lockup.getter();
  uint64_t v110 = Lockup.title.getter();
  uint64_t v107 = v44;
  swift_release();
  AppShowcase.type.getter();
  v128(v32, v35, v23);
  int v45 = v127(v32, v23);
  uint64_t v108 = v24 + 16;
  uint64_t v109 = v43;
  if (v45 == v126)
  {
    uint64_t v46 = (void (*)(char *, char *, uint64_t))v23;
    uint64_t v47 = v125;
    if (qword_10097F6A8 != -1) {
      swift_once();
    }
    uint64_t v48 = v129;
    uint64_t v49 = sub_100087728(v129, (uint64_t)qword_1009E4E50);
    (*(void (**)(char *, uint64_t, uint64_t))(v47 + 16))(v16, v49, v48);
    uint64_t v50 = v16;
    uint64_t v51 = v47;
  }
  else
  {
    uint64_t v52 = v125;
    if (v45 == enum case for AppShowcaseType.small(_:) || v45 == enum case for AppShowcaseType.smallAlignedLeft(_:))
    {
      uint64_t v46 = (void (*)(char *, char *, uint64_t))v23;
      if (qword_10097F6B0 != -1) {
        swift_once();
      }
      uint64_t v48 = v129;
      uint64_t v56 = sub_100087728(v129, (uint64_t)qword_1009E4E68);
      (*(void (**)(char *, uint64_t, uint64_t))(v52 + 16))(v16, v56, v48);
    }
    else
    {
      if (qword_10097F6B0 != -1) {
        swift_once();
      }
      uint64_t v53 = v129;
      uint64_t v54 = sub_100087728(v129, (uint64_t)qword_1009E4E68);
      (*(void (**)(char *, uint64_t, uint64_t))(v52 + 16))(v16, v54, v53);
      uint64_t v55 = v32;
      uint64_t v48 = v53;
      uint64_t v46 = (void (*)(char *, char *, uint64_t))v23;
      v135(v55, v23);
    }
    uint64_t v50 = v16;
    uint64_t v51 = v52;
  }
  uint64_t v57 = sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  v135(v35, (uint64_t)v46);
  id v58 = v137;
  id v59 = [v137 traitCollection];
  static UIFont.preferredFont(forUseWith:compatibleWith:)();

  (*(void (**)(char *, uint64_t))(v51 + 8))(v50, v48);
  uint64_t v60 = type metadata accessor for Feature();
  v158[3] = v60;
  uint64_t v125 = sub_1002FF5C4((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
  v158[4] = v125;
  long long v61 = sub_1000808B8(v158);
  id v62 = *(void (**)(void))(*(void *)(v60 - 8) + 104);
  unsigned int v124 = enum case for Feature.measurement_with_labelplaceholder(_:);
  uint64_t v123 = (void (*)(uint64_t *, void, uint64_t))v62;
  v62(v61);
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v158);
  id v63 = v122;
  LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
  LabelPlaceholderCompatibility.layoutTextView.getter();
  uint64_t v64 = *(char **)(v133 + 8);
  v133 += 8;
  uint64_t v122 = v64;
  ((void (*)(char *, uint64_t))v64)(v63, v134);
  uint64_t v65 = AppShowcase.descriptionText.getter();
  uint64_t v106 = v66;
  uint64_t v107 = v65;
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  sub_100087728(v48, (uint64_t)qword_1009E4E68);
  id v67 = [v58 traitCollection];
  uint64_t v110 = v57;
  static UIFont.preferredFont(forUseWith:compatibleWith:)();

  int v68 = v112;
  AppShowcase.type.getter();
  id v69 = v111;
  v128(v111, v68, (uint64_t)v46);
  int v70 = v127(v69, (uint64_t)v46);
  if (v70 == v126)
  {
    uint64_t v71 = v109;
  }
  else
  {
    uint64_t v71 = v109;
    if (v70 != enum case for AppShowcaseType.small(_:) && v70 != enum case for AppShowcaseType.smallAlignedLeft(_:)) {
      v135(v69, (uint64_t)v46);
    }
  }
  double v128 = v46;
  v135(v68, (uint64_t)v46);
  v157[3] = v60;
  v157[4] = v125;
  Swift::String v72 = sub_1000808B8(v157);
  v123(v72, v124, v60);
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v157);
  Swift::String v73 = v113;
  LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
  LabelPlaceholderCompatibility.layoutTextView.getter();
  ((void (*)(char *, uint64_t))v122)(v73, v134);
  id v74 = [v137 traitCollection];
  if (UITraitCollection.prefersAccessibilityLayouts.getter())
  {
    if (qword_100980418 != -1) {
      swift_once();
    }
    id v75 = qword_1009A4898;
  }
  else
  {
    if (qword_100980420 != -1) {
      swift_once();
    }
    id v75 = qword_1009A48B0;
  }
  uint64_t v76 = v132;
  uint64_t v77 = sub_100087728(v132, (uint64_t)v75);
  uint64_t v78 = v131;
  uint64_t v79 = v114;
  (*(void (**)(char *, uint64_t, uint64_t))(v131 + 16))(v114, v77, v76);
  (*(void (**)(char *, char *, uint64_t))(v78 + 32))(v130, v79, v76);

  OfferButtonMetrics.minimumSize.getter();
  OfferButtonMetrics.estimatedHeight.getter();
  swift_allocObject();
  id v127 = (uint64_t (*)(char *, uint64_t))LayoutViewPlaceholder.init(representing:)();
  if (qword_10097F1A0 != -1) {
    swift_once();
  }
  sub_100087728(v129, (uint64_t)qword_1009E3F50);
  id v80 = v137;
  id v81 = [v137 traitCollection];
  static UIFont.preferredFont(forUseWith:compatibleWith:)();

  uint64_t v155 = v60;
  uint64_t v156 = v125;
  v82 = sub_1000808B8(v154);
  v123(v82, v124, v60);
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v154);
  uint64_t v83 = v115;
  LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
  LabelPlaceholderCompatibility.layoutTextView.getter();
  ((void (*)(char *, uint64_t))v122)(v83, v134);
  AppShowcase.lockup.getter();
  uint64_t v84 = Lockup.offerDisplayProperties.getter();
  swift_release();
  if (v84)
  {
    double v85 = v102;
    OfferDisplayProperties.offerLabelStyle.getter();
    double v86 = v103;
    uint64_t v87 = v104;
    uint64_t v88 = v105;
    (*(void (**)(char *, void, uint64_t))(v104 + 104))(v103, enum case for OfferLabelStyle.preorder(_:), v105);
    char v89 = static OfferLabelStyle.== infix(_:_:)();
    uint64_t v90 = *(void (**)(char *, uint64_t))(v87 + 8);
    v90(v86, v88);
    v90(v85, v88);
    if (v89)
    {
      sub_100081D90(v154, v155);
      id v80 = v137;
      dispatch thunk of LayoutView.isHidden.setter();
      swift_release();
      goto LABEL_39;
    }
    swift_release();
    id v80 = v137;
  }
  sub_100081D90(v154, v155);
  dispatch thunk of LayoutView.isHidden.setter();
LABEL_39:
  char v91 = sub_1002FF2A4();
  uint64_t v92 = (uint64_t)v118;
  if (v91)
  {
    swift_allocObject();
    uint64_t v93 = LayoutViewPlaceholder.init(representing:)();
  }
  else
  {
    uint64_t v93 = 0;
  }
  uint64_t v94 = v117;
  AppShowcase.type.getter();
  AppShowcase.lockup.getter();
  uint64_t v95 = Lockup.offerDisplayProperties.getter();
  swift_release();
  sub_1002FC65C((void (*)(void, void, void))v94, v95, v80, v92);
  swift_release();
  v135(v94, (uint64_t)v128);
  uint64_t v153 = &protocol witness table for LayoutViewPlaceholder;
  uint64_t v152 = v71;
  uint64_t v151 = v116;
  if (v93)
  {
    uint64_t v150 = &protocol witness table for LayoutViewPlaceholder;
    *((void *)&v149 + 1) = v71;
    *(void *)&long long v148 = v93;
  }
  else
  {
    uint64_t v150 = 0;
    long long v148 = 0u;
    long long v149 = 0u;
  }
  sub_100082C6C((uint64_t)v158, (uint64_t)&v147);
  sub_100082C6C((uint64_t)v157, (uint64_t)&v146);
  v145[8] = v71;
  v145[9] = &protocol witness table for LayoutViewPlaceholder;
  v145[5] = v127;
  sub_100082C6C((uint64_t)v154, (uint64_t)v145);
  uint64_t v144 = 0;
  long long v142 = 0u;
  long long v143 = 0u;
  uint64_t v141 = 0;
  long long v139 = 0u;
  long long v140 = 0u;
  swift_retain();
  swift_retain();
  swift_retain();
  unint64_t v96 = v119;
  AppShowcaseLockupViewLayout.init(metrics:iconView:wordmarkView:titleText:descriptionText:offerButton:offerText:crossLinkTitleText:crossLinkSubtitleText:)();
  sub_1002FF5C4(&qword_10098FC10, (void (*)(uint64_t))&type metadata accessor for AppShowcaseLockupViewLayout);
  uint64_t v97 = v121;
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v99 = v98;
  swift_release();
  swift_release();
  swift_release();
  (*(void (**)(char *, uint64_t))(v120 + 8))(v96, v97);
  (*(void (**)(char *, uint64_t))(v131 + 8))(v130, v132);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v157);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v158);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v154);
  return v99;
}

char *sub_1002FB3F8(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v69 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v13 - 8);
  uint64_t v15 = (char *)v69 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_iconView;
  type metadata accessor for ArtworkView();
  uint64_t v17 = v4;
  *(void *)&v4[v16] = static ArtworkView.iconArtworkView.getter();
  *(void *)&v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView] = 0;
  uint64_t v18 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel;
  uint64_t v19 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  *(void *)&v17[v18] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v74 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel;
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  uint64_t v20 = type metadata accessor for FontUseCase();
  uint64_t v21 = sub_100087728(v20, (uint64_t)qword_1009E4E68);
  uint64_t v22 = *(void *)(v20 - 8);
  Swift::String v72 = *(void (**)(char *, uint64_t, uint64_t))(v22 + 16);
  v72(v15, v21, v20);
  uint64_t v24 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v22 + 56);
  uint64_t v23 = v22 + 56;
  uint64_t v77 = v24;
  v24(v15, 0, 1, v20);
  uint64_t v26 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 104);
  uint64_t v25 = (void (*)(char *, uint64_t, uint64_t))(v10 + 104);
  unsigned int v76 = enum case for DirectionalTextAlignment.none(_:);
  id v75 = v26;
  ((void (*)(char *))v26)(v12);
  id v27 = objc_allocWithZone(v19);
  *(void *)&v17[v74] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v28 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerButton;
  *(void *)&v17[v28] = [objc_allocWithZone((Class)type metadata accessor for OfferButton()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v29 = v19;
  uint64_t v74 = v9;
  uint64_t v30 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel;
  if (qword_10097F1A0 != -1) {
    swift_once();
  }
  uint64_t v31 = sub_100087728(v20, (uint64_t)qword_1009E3F50);
  double v32 = v72;
  v72(v15, v31, v20);
  v77(v15, 0, 1, v20);
  v75(v12, v76, v74);
  id v33 = objc_allocWithZone(v29);
  Class v71 = v29;
  *(void *)&v17[v30] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v34 = &v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabelPresenter];
  *(_OWORD *)uint64_t v34 = 0u;
  *((_OWORD *)v34 + 1) = 0u;
  *(void *)&v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerDisplayProperties] = 0;
  *(void *)&v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkPresenter] = 0;
  uint64_t v70 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel;
  uint64_t v35 = v25;
  if (qword_10097F6C0 != -1) {
    swift_once();
  }
  uint64_t v36 = sub_100087728(v20, (uint64_t)qword_1009E4E98);
  v32(v15, v36, v20);
  uint64_t v37 = v77;
  v77(v15, 0, 1, v20);
  uint64_t v38 = v76;
  v69[1] = v23;
  uint64_t v39 = v74;
  uint64_t v40 = v75;
  v75(v12, v76, v74);
  Swift::String v72 = v35;
  uint64_t v41 = v71;
  id v42 = objc_allocWithZone(v71);
  *(void *)&v17[v70] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v70 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel;
  v37(v15, 1, 1, v20);
  v40(v12, v38, v39);
  id v43 = objc_allocWithZone(v41);
  *(void *)&v17[v70] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v44 = &v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_type];
  uint64_t v45 = enum case for AppShowcaseType.large(_:);
  uint64_t v46 = type metadata accessor for AppShowcaseType();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v46 - 8) + 104))(v44, v45, v46);
  *(void *)&v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___lockupViews] = 0;
  *(void *)&v17[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___crossLinkViews] = 0;

  v78.receiver = v17;
  v78.super_class = ObjectType;
  [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v51 = (char *)v47;
  [v51 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  uint64_t v52 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel;
  [*(id *)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel] setNumberOfLines:1];
  uint64_t v53 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel;
  uint64_t v54 = *(void **)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel];
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v55 = v54;
  uint64_t v56 = (void *)static UIColor.secondaryText.getter();
  [v55 setTextColor:v56];

  [v51 addSubview:*(void *)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_iconView]];
  [v51 addSubview:*(void *)&v51[v52]];
  [v51 addSubview:*(void *)&v51[v53]];
  uint64_t v57 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel;
  id v58 = *(void **)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel];
  id v59 = self;
  id v60 = v58;
  id v61 = [v59 secondaryLabelColor];
  [v60 setTextColor:v61];

  id v62 = *(void **)&v51[v57];
  [v62 setHidden:1];
  [v62 setAlpha:0.0];
  [v51 addSubview:v62];
  uint64_t v63 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel;
  id v64 = *(id *)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
  id v65 = [v59 labelColor];
  [v64 setTextColor:v65];

  uint64_t v66 = *(void **)&v51[v63];
  [v66 setHidden:1];
  [v66 setAlpha:0.0];
  [v51 addSubview:v66];
  [v51 addSubview:*(void *)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerButton]];
  id v67 = *(void **)&v51[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel];
  [v67 _setTextColorFollowsTintColor:1];
  [v67 setText:0];
  [v67 setHidden:1];
  [v51 addSubview:v67];

  return v51;
}

id sub_1002FBCAC()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v2 - 8);
  id v61 = (char *)&v57 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  int v68 = (char *)&v57 - v5;
  uint64_t v6 = type metadata accessor for AppShowcaseType();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  id v65 = (char *)&v57 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  Class v71 = (char *)&v57 - v10;
  __chkstk_darwin(v11);
  id v60 = (char *)&v57 - v12;
  __chkstk_darwin(v13);
  id v69 = (char *)&v57 - v14;
  __chkstk_darwin(v15);
  id v64 = (char *)&v57 - v16;
  __chkstk_darwin(v17);
  id v67 = (char *)&v57 - v18;
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v57 - v20;
  __chkstk_darwin(v22);
  uint64_t v24 = (char *)&v57 - v23;
  uint64_t v25 = &v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_type];
  swift_beginAccess();
  uint64_t v26 = *(void (**)(char *, char *, uint64_t))(v7 + 16);
  Swift::String v72 = v25;
  v26(v24, v25, v6);
  uint64_t v27 = v7;
  uint64_t v28 = *(void (**)(char *))(v7 + 104);
  int v63 = enum case for AppShowcaseType.smallAlignedLeft(_:);
  v28(v21);
  sub_1002FF5C4(&qword_1009861B8, (void (*)(uint64_t))&type metadata accessor for AppShowcaseType);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  if (v75 == v73 && v76 == v74) {
    char v29 = 1;
  }
  else {
    char v29 = _stringCompareWithSmolCheck(_:_:expecting:)();
  }
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v30 = *(void (**)(char *, uint64_t))(v27 + 8);
  v30(v21, v6);
  uint64_t v70 = v30;
  v30(v24, v6);
  uint64_t v31 = *(void **)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel];
  id v62 = v1;
  uint64_t v57 = v31;
  if (v29)
  {
    [v31 setTextAlignment:0 v57];
    id v58 = *(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel];
    [v58 setTextAlignment:0];
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel] setTextAlignment:0];
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel] setTextAlignment:0];
    id v59 = *(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
    [v59 setTextAlignment:0];
  }
  else
  {
    [v31 setTextAlignment:1];
    id v58 = *(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel];
    [v58 setTextAlignment:1];
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel] setTextAlignment:1];
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel] setTextAlignment:1];
    id v59 = *(id *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
    [v59 setTextAlignment:1];
  }
  id v33 = v67;
  double v32 = v68;
  v26(v67, v72, v6);
  uint64_t v34 = v64;
  v26(v64, v33, v6);
  id v67 = *(char **)(v27 + 88);
  int v68 = (char *)(v27 + 88);
  int v35 = ((uint64_t (*)(char *, uint64_t))v67)(v34, v6);
  int v66 = enum case for AppShowcaseType.large(_:);
  uint64_t v36 = v70;
  if (v35 == enum case for AppShowcaseType.large(_:))
  {
    if (qword_10097F6A8 != -1) {
      swift_once();
    }
    uint64_t v37 = type metadata accessor for FontUseCase();
    uint64_t v38 = v37;
    uint64_t v39 = qword_1009E4E50;
LABEL_20:
    uint64_t v41 = sub_100087728(v37, (uint64_t)v39);
    (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v38 - 8) + 16))(v32, v41, v38);
    goto LABEL_21;
  }
  if (v35 == enum case for AppShowcaseType.small(_:) || v35 == v63)
  {
    if (qword_10097F6B0 != -1) {
      swift_once();
    }
    uint64_t v37 = type metadata accessor for FontUseCase();
    uint64_t v38 = v37;
    uint64_t v39 = qword_1009E4E68;
    goto LABEL_20;
  }
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  uint64_t v38 = type metadata accessor for FontUseCase();
  uint64_t v40 = sub_100087728(v38, (uint64_t)qword_1009E4E68);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v38 - 8) + 16))(v32, v40, v38);
  v36(v64, v6);
LABEL_21:
  v36(v33, v6);
  type metadata accessor for FontUseCase();
  uint64_t v42 = *(void *)(v38 - 8);
  id v64 = *(char **)(v42 + 56);
  ((void (*)(char *, void, uint64_t, uint64_t))v64)(v32, 0, 1, v38);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
  id v43 = v69;
  v26(v69, v72, v6);
  uint64_t v44 = v60;
  v26(v60, v43, v6);
  int v45 = ((uint64_t (*)(char *, uint64_t))v67)(v44, v6);
  if (v45 == v66)
  {
    uint64_t v46 = 2;
  }
  else
  {
    uint64_t v46 = 1;
    if (v45 != enum case for AppShowcaseType.small(_:) && v45 != v63)
    {
      v36(v44, v6);
      uint64_t v46 = 1;
    }
  }
  v36(v69, v6);
  [v58 setNumberOfLines:v46];
  id v47 = v71;
  v26(v71, v72, v6);
  uint64_t v48 = v65;
  v26(v65, v47, v6);
  int v49 = ((uint64_t (*)(char *, uint64_t))v67)(v48, v6);
  if (v49 == v66)
  {
    uint64_t v51 = v61;
    uint64_t v50 = v62;
    if (qword_10097F6C8 != -1) {
      swift_once();
    }
    uint64_t v52 = sub_100087728(v38, (uint64_t)qword_1009E4EB0);
    (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v51, v52, v38);
    v70(v71, v6);
  }
  else
  {
    uint64_t v51 = v61;
    uint64_t v50 = v62;
    if (v49 == enum case for AppShowcaseType.small(_:) || v49 == v63)
    {
      uint64_t v53 = v70;
      if (qword_10097F6B0 != -1) {
        swift_once();
      }
      uint64_t v55 = sub_100087728(v38, (uint64_t)qword_1009E4E68);
      (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v51, v55, v38);
    }
    else
    {
      uint64_t v53 = v70;
      if (qword_10097F6B0 != -1) {
        swift_once();
      }
      uint64_t v54 = sub_100087728(v38, (uint64_t)qword_1009E4E68);
      (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v51, v54, v38);
      v53(v65, v6);
    }
    v53(v71, v6);
  }
  ((void (*)(char *, void, uint64_t, uint64_t))v64)(v51, 0, 1, v38);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
  return [v50 setNeedsLayout];
}

uint64_t sub_1002FC65C@<X0>(void (*a1)(void, void, void)@<X0>, uint64_t a2@<X1>, void *a3@<X2>, uint64_t a4@<X8>)
{
  uint64_t v119 = a2;
  uint64_t v115 = a4;
  uint64_t v125 = type metadata accessor for StaticDimension();
  __chkstk_darwin(v125);
  v114 = (char *)&v98 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v113 = (char *)&v98 - v8;
  __chkstk_darwin(v9);
  uint64_t v112 = (char *)&v98 - v10;
  __chkstk_darwin(v11);
  uint64_t v111 = (char *)&v98 - v12;
  __chkstk_darwin(v13);
  uint64_t v110 = (char *)&v98 - v14;
  uint64_t v15 = type metadata accessor for FontSource();
  uint64_t v126 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v17 = (UIFontTextStyle *)((char *)&v98 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v18 = sub_100082C28((uint64_t *)&unk_100985730);
  __chkstk_darwin(v18 - 8);
  uint64_t v104 = (char *)&v98 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v102 = type metadata accessor for OfferButtonSubtitlePosition();
  uint64_t v99 = *(void *)(v102 - 8);
  __chkstk_darwin(v102);
  uint64_t v21 = (char *)&v98 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v103 = sub_100082C28((uint64_t *)&unk_100981AC0);
  uint64_t v101 = *(void *)(v103 - 8);
  __chkstk_darwin(v103);
  uint64_t v100 = (char *)&v98 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v124 = type metadata accessor for OfferButtonMetrics();
  uint64_t v123 = *(void *)(v124 - 8);
  __chkstk_darwin(v124);
  uint64_t v24 = (char *)&v98 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v25);
  uint64_t v27 = (char *)&v98 - v26;
  uint64_t v28 = type metadata accessor for AppShowcaseType();
  uint64_t v29 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  uint64_t v118 = (uint64_t)&v98 - ((v30 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v31);
  uint64_t v117 = (char *)&v98 - v32;
  __n128 v34 = __chkstk_darwin(v33);
  uint64_t v36 = (char *)&v98 - v35;
  uint64_t v37 = *(void (**)(uint64_t, void, uint64_t))(v29 + 16);
  uint64_t v120 = a1;
  uint64_t v116 = v29 + 16;
  uint64_t v109 = v37;
  ((void (*)(char *, void (*)(void, void, void), uint64_t, __n128))v37)((char *)&v98 - v35, a1, v28, v34);
  uint64_t v121 = v29;
  uint64_t v38 = *(uint64_t (**)(uint64_t, uint64_t))(v29 + 88);
  uint64_t v108 = v29 + 88;
  uint64_t v107 = v38;
  int v39 = v38((uint64_t)v36, v28);
  LODWORD(v106) = enum case for AppShowcaseType.large(_:);
  if (v39 != enum case for AppShowcaseType.large(_:)
    && v39 != enum case for AppShowcaseType.small(_:)
    && v39 != enum case for AppShowcaseType.smallAlignedLeft(_:))
  {
    (*(void (**)(char *, uint64_t))(v121 + 8))(v36, v28);
  }
  id v40 = [a3 traitCollection];
  char v41 = UITraitCollection.prefersAccessibilityLayouts.getter();
  uint64_t v122 = v27;
  uint64_t v105 = a3;
  if (v41)
  {
    if (qword_100980418 != -1) {
      swift_once();
    }
    uint64_t v42 = qword_1009A4898;
  }
  else
  {
    if (qword_100980420 != -1) {
      swift_once();
    }
    uint64_t v42 = qword_1009A48B0;
  }
  uint64_t v43 = v124;
  uint64_t v44 = sub_100087728(v124, (uint64_t)v42);
  uint64_t v45 = v123;
  (*(void (**)(char *, uint64_t, uint64_t))(v123 + 16))(v24, v44, v43);
  (*(void (**)(char *, char *, uint64_t))(v45 + 32))(v122, v24, v43);

  if (v119)
  {
    uint64_t v46 = v99;
    uint64_t v47 = v102;
    (*(void (**)(char *, void, uint64_t))(v99 + 104))(v21, enum case for OfferButtonSubtitlePosition.below(_:), v102);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v46 + 56))(v104, 1, 1, v47);
    sub_1002FF5C4((unint64_t *)&qword_100985760, (void (*)(uint64_t))&type metadata accessor for OfferButtonSubtitlePosition);
    swift_retain();
    uint64_t v48 = v100;
    AccessibilityConditional.init(value:axValue:)();
    OfferButtonMetrics.estimatedSize(for:subtitlePosition:in:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v101 + 8))(v48, v103);
  }
  else
  {
    OfferButtonMetrics.minimumSize.getter();
    OfferButtonMetrics.estimatedHeight.getter();
  }
  uint64_t v49 = v118;
  uint64_t v50 = v117;
  uint64_t v51 = v120;
  uint64_t v52 = v109;
  v109((uint64_t)v117, v120, v28);
  v52(v49, v51, v28);
  int v53 = v107(v49, v28);
  if (v53 == v106)
  {
    (*(void (**)(char *, uint64_t))(v121 + 8))(v50, v28);
    *uint64_t v17 = UIFontTextStyleFootnote;
    uint64_t v54 = v126;
    uint64_t v55 = *(void (**)(void))(v126 + 104);
    LODWORD(v106) = enum case for FontSource.textStyle(_:);
    uint64_t v120 = (void (*)(void, void, void))v55;
    uint64_t v108 = v126 + 104;
    v55(v17);
    v140[3] = v125;
    v140[4] = (uint64_t)&protocol witness table for StaticDimension;
    sub_1000808B8(v140);
    uint64_t v138 = v15;
    long long v139 = &protocol witness table for FontSource;
    uint64_t v56 = sub_1000808B8(&v137);
    uint64_t v57 = *(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v54 + 16);
    uint64_t v117 = (char *)(v54 + 16);
    v57(v56, v17, v15);
    id v58 = UIFontTextStyleFootnote;
    StaticDimension.init(_:scaledLike:)();
    id v59 = *(void (**)(uint64_t, void, uint64_t))(v54 + 8);
    uint64_t v126 = v54 + 8;
    uint64_t v109 = v59;
    ((void (*)(UIFontTextStyle *, uint64_t))v59)(v17, v15);
    if (qword_10097F6A8 != -1) {
      swift_once();
    }
    uint64_t v60 = type metadata accessor for FontUseCase();
    uint64_t v121 = sub_100087728(v60, (uint64_t)qword_1009E4E50);
    uint64_t v61 = *(void *)(v60 - 8);
    id v62 = *(void (**)(UIFontTextStyle *, uint64_t, uint64_t))(v61 + 16);
    uint64_t v63 = v61 + 16;
    v62(v17, v121, v60);
    uint64_t v64 = enum case for FontSource.useCase(_:);
    v120(v17, enum case for FontSource.useCase(_:), v15);
    uint64_t v138 = v15;
    long long v139 = &protocol witness table for FontSource;
    id v65 = sub_1000808B8(&v137);
    v57(v65, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    int v66 = (void (*)(UIFontTextStyle *, uint64_t))v109;
    ((void (*)(UIFontTextStyle *, uint64_t))v109)(v17, v15);
    uint64_t v67 = v121;
    uint64_t v118 = v60;
    uint64_t v121 = (uint64_t)v62;
    uint64_t v116 = v63;
    v62(v17, v67, v60);
    LODWORD(v119) = v64;
    v120(v17, v64, v15);
    uint64_t v138 = v125;
    long long v139 = &protocol witness table for StaticDimension;
    sub_1000808B8(&v137);
    uint64_t v135 = v15;
    uint64_t v136 = &protocol witness table for FontSource;
    int v68 = sub_1000808B8(&v134);
    uint64_t v107 = (uint64_t (*)(uint64_t, uint64_t))v57;
    v57(v68, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    v66(v17, v15);
    if (qword_10097F6B0 != -1) {
      swift_once();
    }
    uint64_t v69 = v118;
    uint64_t v70 = sub_100087728(v118, (uint64_t)qword_1009E4E68);
    Class v71 = (void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121;
    ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121)(v17, v70, v69);
    uint64_t v72 = v119;
    v120(v17, v119, v15);
    uint64_t v135 = v15;
    uint64_t v136 = &protocol witness table for FontSource;
    uint64_t v73 = sub_1000808B8(&v134);
    uint64_t v74 = (void (*)(uint64_t *, UIFontTextStyle *, uint64_t))v107;
    ((void (*)(uint64_t *, UIFontTextStyle *, uint64_t))v107)(v73, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    uint64_t v75 = (void (*)(UIFontTextStyle *, uint64_t))v109;
    ((void (*)(UIFontTextStyle *, uint64_t))v109)(v17, v15);
    v71(v17, v70, v69);
    uint64_t v76 = (void (*)(UIFontTextStyle *, void, uint64_t))v120;
    v120(v17, v72, v15);
    uint64_t v135 = v15;
    uint64_t v136 = &protocol witness table for FontSource;
    uint64_t v77 = sub_1000808B8(&v134);
    v74(v77, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    v75(v17, v15);
    if (qword_10097F6B8 != -1) {
      swift_once();
    }
    uint64_t v78 = v118;
    uint64_t v79 = sub_100087728(v118, (uint64_t)qword_1009E4E80);
    ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121)(v17, v79, v78);
    v76(v17, v119, v15);
    uint64_t v135 = v15;
    uint64_t v136 = &protocol witness table for FontSource;
    id v80 = sub_1000808B8(&v134);
    v74(v80, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    v75(v17, v15);
    *uint64_t v17 = UIFontTextStyleBody;
    v76(v17, v106, v15);
    uint64_t v135 = v15;
    uint64_t v136 = &protocol witness table for FontSource;
    id v81 = sub_1000808B8(&v134);
    v74(v81, v17, v15);
    v82 = UIFontTextStyleBody;
    StaticDimension.init(_:scaledLike:)();
    v75(v17, v15);
    if (qword_10097F6C0 != -1) {
      swift_once();
    }
    uint64_t v83 = v118;
    uint64_t v106 = sub_100087728(v118, (uint64_t)qword_1009E4E98);
    ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121)(v17, v106, v83);
    v76(v17, v119, v15);
    uint64_t v84 = v125;
    uint64_t v135 = v125;
    uint64_t v136 = &protocol witness table for StaticDimension;
    sub_1000808B8(&v134);
    uint64_t v132 = v15;
    uint64_t v133 = &protocol witness table for FontSource;
    double v85 = sub_1000808B8(&v131);
    ((void (*)(uint64_t *, UIFontTextStyle *, uint64_t))v107)(v85, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    double v86 = (void (*)(UIFontTextStyle *, uint64_t))v109;
    ((void (*)(UIFontTextStyle *, uint64_t))v109)(v17, v15);
    ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121)(v17, v106, v83);
    uint64_t v87 = v119;
    v76(v17, v119, v15);
    uint64_t v132 = v84;
    uint64_t v133 = &protocol witness table for StaticDimension;
    sub_1000808B8(&v131);
    uint64_t v129 = v15;
    v130 = &protocol witness table for FontSource;
    uint64_t v88 = sub_1000808B8(&v128);
    char v89 = (void (*)(uint64_t *, UIFontTextStyle *, uint64_t))v107;
    ((void (*)(uint64_t *, UIFontTextStyle *, uint64_t))v107)(v88, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    v86(v17, v15);
    if (qword_10097F6C8 != -1) {
      swift_once();
    }
    uint64_t v90 = v118;
    uint64_t v91 = sub_100087728(v118, (uint64_t)qword_1009E4EB0);
    ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v121)(v17, v91, v90);
    v120(v17, v87, v15);
    uint64_t v129 = v125;
    v130 = &protocol witness table for StaticDimension;
    sub_1000808B8(&v128);
    v127[3] = v15;
    v127[4] = (uint64_t)&protocol witness table for FontSource;
    uint64_t v92 = sub_1000808B8(v127);
    v89(v92, v17, v15);
    StaticDimension.init(_:scaledLike:)();
    v86(v17, v15);
    AppShowcaseLockupViewLayout.Metrics.init(isCenterAligned:iconSize:wordmarkSpace:titleSpace:titleWithWordmarkSpace:descriptionSpace:descriptionBottomBufferSpace:offerLabelSpace:offerLabelBottomBufferSpace:offerButtonSize:crossLinkTitleSpace:crossLinkTitleWithWordmarkSpace:crossLinkSubtitleSpace:)();
    return (*(uint64_t (**)(char *, uint64_t))(v123 + 8))(v122, v124);
  }
  else
  {
    int v94 = v53;
    int v95 = enum case for AppShowcaseType.small(_:);
    sub_1002FD930(v115);
    unint64_t v96 = v50;
    uint64_t v97 = *(void (**)(char *, uint64_t))(v121 + 8);
    v97(v96, v28);
    uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v123 + 8))(v122, v124);
    if (v94 != v95 && v94 != enum case for AppShowcaseType.smallAlignedLeft(_:)) {
      return ((uint64_t (*)(uint64_t, uint64_t))v97)(v49, v28);
    }
  }
  return result;
}

uint64_t sub_1002FD930@<X0>(uint64_t a1@<X8>)
{
  uint64_t v52 = a1;
  uint64_t v1 = type metadata accessor for FontSource();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (UIFontTextStyle *)((char *)&v48 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v51 = type metadata accessor for StaticDimension();
  __chkstk_darwin(v51);
  uint64_t v6 = (char *)&v48 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  id v62 = (char *)&v48 - v8;
  __chkstk_darwin(v9);
  uint64_t v61 = (char *)&v48 - v10;
  __chkstk_darwin(v11);
  uint64_t v60 = (char *)&v48 - v12;
  __chkstk_darwin(v13);
  id v59 = (char *)&v48 - v14;
  uint64_t v15 = type metadata accessor for AppShowcaseType();
  uint64_t v16 = *(void *)(v15 - 8);
  __n128 v17 = __chkstk_darwin(v15);
  uint64_t v19 = (char *)&v48 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, void, uint64_t, __n128))(v16 + 104))(v19, enum case for AppShowcaseType.smallAlignedLeft(_:), v15, v17);
  sub_1002FF5C4(&qword_1009861B8, (void (*)(uint64_t))&type metadata accessor for AppShowcaseType);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  if (v80[0] == v77[0] && v80[1] == v77[1]) {
    int v50 = 1;
  }
  else {
    int v50 = _stringCompareWithSmolCheck(_:_:expecting:)();
  }
  uint64_t v63 = v6;
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v16 + 8))(v19, v15);
  uint64_t v58 = type metadata accessor for ZeroDimension();
  v80[3] = v58;
  v80[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v80);
  static ZeroDimension.zero.getter();
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  uint64_t v20 = type metadata accessor for FontUseCase();
  uint64_t v21 = sub_100087728(v20, (uint64_t)qword_1009E4E68);
  uint64_t v22 = *(void *)(v20 - 8);
  uint64_t v67 = *(void (**)(UIFontTextStyle *, uint64_t, uint64_t))(v22 + 16);
  uint64_t v23 = v22 + 16;
  uint64_t v57 = v21;
  v67(v4, v21, v20);
  uint64_t v24 = v2;
  uint64_t v64 = *(void (**)(UIFontTextStyle *))(v2 + 104);
  uint64_t v25 = enum case for FontSource.useCase(_:);
  v64(v4);
  uint64_t v78 = v1;
  uint64_t v79 = &protocol witness table for FontSource;
  uint64_t v26 = sub_1000808B8(v77);
  uint64_t v27 = *(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v24 + 16);
  v27(v26, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  int v66 = *(void (**)(UIFontTextStyle *, uint64_t))(v24 + 8);
  v66(v4, v1);
  uint64_t v78 = v58;
  uint64_t v79 = &protocol witness table for ZeroDimension;
  sub_1000808B8(v77);
  static ZeroDimension.zero.getter();
  uint64_t v28 = v21;
  uint64_t v29 = v67;
  v67(v4, v28, v20);
  ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v64)(v4, v25, v1);
  uint64_t v75 = v1;
  uint64_t v76 = &protocol witness table for FontSource;
  uint64_t v30 = sub_1000808B8(v74);
  v27(v30, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  v66(v4, v1);
  uint64_t v53 = v20;
  uint64_t v65 = v23;
  v29(v4, v57, v20);
  unsigned int v56 = v25;
  uint64_t v31 = v64;
  ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v64)(v4, v25, v1);
  uint64_t v75 = v1;
  uint64_t v76 = &protocol witness table for FontSource;
  uint64_t v32 = sub_1000808B8(v74);
  uint64_t v54 = v24 + 16;
  v27(v32, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v55 = v24 + 8;
  v66(v4, v1);
  if (qword_10097F6B8 != -1) {
    swift_once();
  }
  uint64_t v33 = v53;
  uint64_t v34 = sub_100087728(v53, (uint64_t)qword_1009E4E80);
  v67(v4, v34, v33);
  ((void (*)(UIFontTextStyle *, void, uint64_t))v31)(v4, v56, v1);
  uint64_t v75 = v1;
  uint64_t v76 = &protocol witness table for FontSource;
  uint64_t v35 = sub_1000808B8(v74);
  v27(v35, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v36 = v66;
  v66(v4, v1);
  *uint64_t v4 = UIFontTextStyleBody;
  ((void (*)(UIFontTextStyle *, void, uint64_t))v31)(v4, enum case for FontSource.textStyle(_:), v1);
  uint64_t v75 = v1;
  uint64_t v76 = &protocol witness table for FontSource;
  uint64_t v37 = sub_1000808B8(v74);
  v27(v37, v4, v1);
  uint64_t v38 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  v36(v4, v1);
  uint64_t v49 = v27;
  if (qword_10097F6C0 != -1) {
    swift_once();
  }
  uint64_t v39 = v53;
  uint64_t v40 = sub_100087728(v53, (uint64_t)qword_1009E4E98);
  v67(v4, v40, v39);
  uint64_t v41 = v56;
  ((void (*)(UIFontTextStyle *, void, uint64_t))v31)(v4, v56, v1);
  uint64_t v42 = v51;
  uint64_t v75 = v51;
  uint64_t v76 = &protocol witness table for StaticDimension;
  sub_1000808B8(v74);
  uint64_t v72 = v1;
  uint64_t v73 = &protocol witness table for FontSource;
  uint64_t v43 = sub_1000808B8(v71);
  uint64_t v44 = v49;
  v49(v43, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v45 = v66;
  v66(v4, v1);
  v67(v4, v57, v39);
  ((void (*)(UIFontTextStyle *, uint64_t, uint64_t))v64)(v4, v41, v1);
  uint64_t v72 = v42;
  uint64_t v73 = &protocol witness table for StaticDimension;
  sub_1000808B8(v71);
  uint64_t v69 = v1;
  uint64_t v70 = &protocol witness table for FontSource;
  uint64_t v46 = sub_1000808B8(v68);
  v44(v46, v4, v1);
  StaticDimension.init(_:scaledLike:)();
  v45(v4, v1);
  uint64_t v69 = v58;
  uint64_t v70 = &protocol witness table for ZeroDimension;
  sub_1000808B8(v68);
  static ZeroDimension.zero.getter();
  return AppShowcaseLockupViewLayout.Metrics.init(isCenterAligned:iconSize:wordmarkSpace:titleSpace:titleWithWordmarkSpace:descriptionSpace:descriptionBottomBufferSpace:offerLabelSpace:offerLabelBottomBufferSpace:offerButtonSize:crossLinkTitleSpace:crossLinkTitleWithWordmarkSpace:crossLinkSubtitleSpace:)();
}

uint64_t sub_1002FE360()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v2 = type metadata accessor for LayoutRect();
  uint64_t v46 = *(void *)(v2 - 8);
  uint64_t v47 = v2;
  __chkstk_darwin(v2);
  uint64_t v44 = (char *)&v37 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for AppShowcaseType();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v37 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for AppShowcaseLockupViewLayout.Metrics();
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v37 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for AppShowcaseLockupViewLayout();
  uint64_t v42 = *(void *)(v11 - 8);
  uint64_t v43 = v11;
  *(void *)&double v12 = __chkstk_darwin(v11).n128_u64[0];
  uint64_t v41 = (char *)&v37 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  v72.receiver = v0;
  v72.super_class = ObjectType;
  uint64_t v45 = ObjectType;
  [super layoutSubviews:v12];
  uint64_t v14 = &v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_type];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v14, v4);
  uint64_t v15 = *(void *)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerDisplayProperties];
  swift_retain();
  uint64_t v40 = v10;
  sub_1002FC65C((void (*)(void, void, void))v7, v15, v0, (uint64_t)v10);
  swift_release();
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  uint64_t v16 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_iconView];
  uint64_t v70 = type metadata accessor for ArtworkView();
  Class v71 = &protocol witness table for UIView;
  id v39 = v16;
  uint64_t v69 = v16;
  __n128 v17 = (void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView];
  swift_beginAccess();
  uint64_t v18 = *v17;
  if (*v17)
  {
    *((void *)&v67 + 1) = type metadata accessor for WordmarkView();
    int v68 = &protocol witness table for UIView;
    *(void *)&long long v66 = v18;
  }
  else
  {
    int v68 = 0;
    long long v66 = 0u;
    long long v67 = 0u;
  }
  id v38 = *(id *)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel];
  id v19 = v38;
  uint64_t v20 = type metadata accessor for DynamicTypeLabel();
  uint64_t v64 = v20;
  uint64_t v65 = &protocol witness table for UILabel;
  id v62 = &protocol witness table for UILabel;
  id v63 = v19;
  uint64_t v21 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel];
  uint64_t v61 = v20;
  uint64_t v60 = v21;
  uint64_t v22 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerButton];
  uint64_t v58 = type metadata accessor for OfferButton();
  id v59 = &protocol witness table for UIView;
  uint64_t v23 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel];
  unsigned int v56 = &protocol witness table for UILabel;
  uint64_t v57 = v22;
  uint64_t v55 = v20;
  uint64_t v53 = &protocol witness table for UILabel;
  uint64_t v54 = v23;
  uint64_t v24 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel];
  uint64_t v52 = v20;
  int v50 = &protocol witness table for UILabel;
  uint64_t v51 = v24;
  uint64_t v25 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
  uint64_t v49 = v20;
  uint64_t v48 = v25;
  id v26 = v39;
  id v27 = v18;
  id v28 = v38;
  id v29 = v21;
  id v30 = v22;
  id v31 = v23;
  id v32 = v24;
  id v33 = v25;
  uint64_t v34 = v41;
  AppShowcaseLockupViewLayout.init(metrics:iconView:wordmarkView:titleText:descriptionText:offerButton:offerText:crossLinkTitleText:crossLinkSubtitleText:)();
  LayoutMarginsAware<>.layoutFrame.getter();
  uint64_t v35 = v44;
  AppShowcaseLockupViewLayout.placeChildren(relativeTo:in:)();
  (*(void (**)(char *, uint64_t))(v46 + 8))(v35, v47);
  return (*(uint64_t (**)(char *, uint64_t))(v42 + 8))(v34, v43);
}

uint64_t sub_1002FE854()
{
  return sub_1002FE88C(&OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___lockupViews, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel);
}

uint64_t sub_1002FE870()
{
  return sub_1002FE88C(&OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___crossLinkViews, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel);
}

uint64_t sub_1002FE88C(uint64_t *a1, void *a2, void *a3)
{
  uint64_t v4 = *a1;
  uint64_t v5 = *(void *)(v3 + *a1);
  if (v5)
  {
    uint64_t v6 = v5;
  }
  else
  {
    uint64_t v9 = v3;
    sub_100082C28(&qword_100982B50);
    uint64_t v10 = swift_allocObject();
    *(_OWORD *)(v10 + 16) = xmmword_1007BEFA0;
    uint64_t v11 = *(void **)(v3 + *a2);
    double v12 = *(void **)(v3 + *a3);
    *(void *)(v10 + 32) = v11;
    *(void *)(v10 + 40) = v12;
    uint64_t v16 = v10;
    specialized Array._endMutation()();
    uint64_t v6 = v16;
    *(void *)(v9 + v4) = v16;
    id v13 = v11;
    id v14 = v12;
    swift_bridgeObjectRetain();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  return v6;
}

void sub_1002FE954(char a1, char a2)
{
  if (a1)
  {
    if (([*(id *)(v2 + OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel) isHidden] & 1) == 0)return; {
    unint64_t v4 = sub_1002FE88C(&OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___lockupViews, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel);
    }
    uint64_t v5 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___crossLinkViews;
    uint64_t v6 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel;
    uint64_t v7 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel;
  }
  else
  {
    if (([*(id *)(v2 + OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel) isHidden] & 1) == 0)return; {
    unint64_t v4 = sub_1002FE88C(&OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___crossLinkViews, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel, &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel);
    }
    uint64_t v5 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___lockupViews;
    uint64_t v6 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel;
    uint64_t v7 = &OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel;
  }
  unint64_t v8 = sub_1002FE88C(v5, v6, v7);
  unint64_t v9 = v8;
  if (a2)
  {
    if (v8 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v10 = _CocoaArrayWrapper.endIndex.getter();
      if (v10) {
        goto LABEL_9;
      }
    }
    else
    {
      uint64_t v10 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
      swift_bridgeObjectRetain();
      if (v10)
      {
LABEL_9:
        if (v10 >= 1)
        {
          for (uint64_t i = 0; i != v10; ++i)
          {
            if ((v9 & 0xC000000000000001) != 0) {
              id v12 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
            }
            else {
              id v12 = *(id *)(v9 + 8 * i + 32);
            }
            id v13 = v12;
            [v12 setHidden:0];
          }
          goto LABEL_33;
        }
        __break(1u);
        goto LABEL_39;
      }
    }
LABEL_33:
    swift_bridgeObjectRelease();
    uint64_t v22 = self;
    uint64_t v23 = swift_allocObject();
    *(void *)(v23 + 16) = v4;
    *(void *)(v23 + 24) = v9;
    id v31 = sub_1001B08D4;
    uint64_t v32 = v23;
    id v27 = _NSConcreteStackBlock;
    uint64_t v28 = 1107296256;
    id v29 = sub_1000162D4;
    id v30 = &unk_1008C5770;
    uint64_t v24 = _Block_copy(&v27);
    swift_bridgeObjectRetain();
    swift_release();
    uint64_t v25 = swift_allocObject();
    *(void *)(v25 + 16) = v4;
    id v31 = sub_1001B0914;
    uint64_t v32 = v25;
    id v27 = _NSConcreteStackBlock;
    uint64_t v28 = 1107296256;
    id v29 = sub_100526E54;
    id v30 = &unk_1008C57C0;
    id v26 = _Block_copy(&v27);
    swift_release();
    [v22 animateWithDuration:4 delay:v24 options:v26 animations:0.33 completion:0.0];
    _Block_release(v26);
    _Block_release(v24);
    return;
  }
  if (v4 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v14 = _CocoaArrayWrapper.endIndex.getter();
  }
  else
  {
    uint64_t v14 = *(void *)((v4 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
  }
  if (v14)
  {
    if (v14 < 1)
    {
LABEL_39:
      __break(1u);
      goto LABEL_40;
    }
    uint64_t v15 = 0;
    do
    {
      if ((v4 & 0xC000000000000001) != 0) {
        id v16 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        id v16 = *(id *)(v4 + 8 * v15 + 32);
      }
      __n128 v17 = v16;
      ++v15;
      [v16 setAlpha:0.0];
      [v17 setHidden:1];
    }
    while (v14 != v15);
  }
  swift_bridgeObjectRelease_n();
  if (v9 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v18 = _CocoaArrayWrapper.endIndex.getter();
    if (v18) {
      goto LABEL_26;
    }
  }
  else
  {
    uint64_t v18 = *(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v18)
    {
LABEL_26:
      if (v18 < 1)
      {
LABEL_40:
        __break(1u);
        return;
      }
      uint64_t v19 = 0;
      do
      {
        if ((v9 & 0xC000000000000001) != 0) {
          id v20 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else {
          id v20 = *(id *)(v9 + 8 * v19 + 32);
        }
        uint64_t v21 = v20;
        ++v19;
        [v20 setAlpha:1.0];
        [v21 setHidden:0];
      }
      while (v18 != v19);
    }
  }
  swift_bridgeObjectRelease_n();
}

uint64_t sub_1002FEEFC()
{
  return type metadata accessor for AppShowcaseLockupView();
}

uint64_t type metadata accessor for AppShowcaseLockupView()
{
  uint64_t result = qword_10098FBF0;
  if (!qword_10098FBF0) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_1002FEF50()
{
  uint64_t result = type metadata accessor for AppShowcaseType();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_1002FF018()
{
  return swift_retain();
}

uint64_t sub_1002FF064(uint64_t a1)
{
  uint64_t v3 = (void *)(v1 + OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkPresenter);
  swift_beginAccess();
  *uint64_t v3 = a1;
  return swift_release();
}

uint64_t (*sub_1002FF0B8())()
{
  return j__swift_endAccess;
}

id sub_1002FF118()
{
  uint64_t v1 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel];
  NSString v2 = String._bridgeToObjectiveC()();
  [v1 setText:v2];

  uint64_t v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel];
  NSString v4 = String._bridgeToObjectiveC()();
  [v3 setText:v4];

  return [v0 setNeedsLayout];
}

uint64_t sub_1002FF1C4()
{
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1002FF204()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1002FF23C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_1009977E0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_1002FF2A4()
{
  uint64_t v0 = type metadata accessor for ComponentDecoration();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v18 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for AppShowcaseType();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v18 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v18 - v9;
  AppShowcase.type.getter();
  (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for AppShowcaseType.large(_:), v4);
  sub_1002FF5C4(&qword_1009861B8, (void (*)(uint64_t))&type metadata accessor for AppShowcaseType);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  uint64_t v19 = v0;
  if (v22 == v20 && v23 == v21)
  {
    swift_bridgeObjectRelease_n();
    uint64_t v11 = *(void (**)(char *, uint64_t))(v5 + 8);
    v11(v7, v4);
    v11(v10, v4);
LABEL_5:
    AppShowcase.lockup.getter();
    uint64_t v15 = dispatch thunk of Lockup.decorations.getter();
    swift_release();
    uint64_t v16 = v19;
    (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for ComponentDecoration.arcade(_:), v19);
    char v14 = sub_1002F95AC((uint64_t)v3, v15);
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v16);
    return v14 & 1;
  }
  char v12 = _stringCompareWithSmolCheck(_:_:expecting:)();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  id v13 = *(void (**)(char *, uint64_t))(v5 + 8);
  v13(v7, v4);
  v13(v10, v4);
  char v14 = 0;
  if (v12) {
    goto LABEL_5;
  }
  return v14 & 1;
}

uint64_t sub_1002FF5C4(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_1002FF60C()
{
  uint64_t v1 = v0;
  uint64_t v42 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v2 = *(void *)(v42 - 8);
  __chkstk_darwin(v42);
  uint64_t v4 = (char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v35 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_iconView;
  type metadata accessor for ArtworkView();
  *(void *)&v0[v8] = static ArtworkView.iconArtworkView.getter();
  *(void *)&v0[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_wordmarkView] = 0;
  uint64_t v9 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_titleLabel;
  Class v41 = (Class)type metadata accessor for DynamicTypeLabel();
  *(void *)&v1[v9] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v10 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_descriptionLabel;
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  uint64_t v11 = type metadata accessor for FontUseCase();
  uint64_t v12 = sub_100087728(v11, (uint64_t)qword_1009E4E68);
  uint64_t v13 = *(void *)(v11 - 8);
  id v38 = *(void (**)(char *, uint64_t, uint64_t))(v13 + 16);
  v38(v7, v12, v11);
  char v14 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v13 + 56);
  v14(v7, 0, 1, v11);
  uint64_t v15 = v2;
  uint64_t v16 = enum case for DirectionalTextAlignment.none(_:);
  id v39 = *(void (**)(char *, uint64_t, uint64_t))(v15 + 104);
  uint64_t v40 = v15 + 104;
  v39(v4, enum case for DirectionalTextAlignment.none(_:), v42);
  id v17 = objc_allocWithZone(v41);
  *(void *)&v1[v10] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v18 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerButton;
  *(void *)&v1[v18] = [objc_allocWithZone((Class)type metadata accessor for OfferButton()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v19 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabel;
  if (qword_10097F1A0 != -1) {
    swift_once();
  }
  uint64_t v20 = sub_100087728(v11, (uint64_t)qword_1009E3F50);
  v38(v7, v20, v11);
  v14(v7, 0, 1, v11);
  v39(v4, v16, v42);
  id v21 = objc_allocWithZone(v41);
  *(void *)&v1[v19] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v22 = &v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerLabelPresenter];
  *(_OWORD *)uint64_t v22 = 0u;
  *((_OWORD *)v22 + 1) = 0u;
  *(void *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_offerDisplayProperties] = 0;
  *(void *)&v1[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkPresenter] = 0;
  uint64_t v36 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkTitleLabel;
  uint64_t v37 = v1;
  if (qword_10097F6C0 != -1) {
    swift_once();
  }
  uint64_t v23 = sub_100087728(v11, (uint64_t)qword_1009E4E98);
  v38(v7, v23, v11);
  v14(v7, 0, 1, v11);
  uint64_t v24 = v42;
  LODWORD(v38) = v16;
  uint64_t v25 = v39;
  v39(v4, v16, v42);
  uint64_t v35 = v14;
  id v26 = v41;
  id v27 = objc_allocWithZone(v41);
  uint64_t v28 = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  id v29 = v7;
  id v30 = v37;
  *(void *)&v37[v36] = v28;
  uint64_t v36 = OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_crossLinkSubtitleLabel;
  v35(v29, 1, 1, v11);
  v25(v4, v38, v24);
  id v31 = objc_allocWithZone(v26);
  *(void *)&v30[v36] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v32 = &v30[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView_type];
  uint64_t v33 = enum case for AppShowcaseType.large(_:);
  uint64_t v34 = type metadata accessor for AppShowcaseType();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v34 - 8) + 104))(v32, v33, v34);
  *(void *)&v30[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___lockupViews] = 0;
  *(void *)&v30[OBJC_IVAR____TtC8AppStore21AppShowcaseLockupView____lazy_storage___crossLinkViews] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_1002FFBC8(uint64_t a1)
{
}

void sub_1002FFBD4(uint64_t a1)
{
}

id sub_1002FFBE0()
{
  id result = [self configurationWithPointSize:12.0];
  qword_10098FC28 = (uint64_t)result;
  return result;
}

void sub_1002FFC20(uint64_t a1)
{
}

void sub_1002FFC2C(uint64_t a1, void *a2)
{
  uint64_t v3 = self;
  uint64_t v4 = UIFontTextStyleTitle3;
  id v5 = [v3 configurationWithTextStyle:v4];

  *a2 = v5;
}

id sub_1002FFCA0(char a1)
{
  return sub_1002FFCF0(a1, &enum case for SystemImage.laurelLeading(_:), 0x654C6C657275614CLL, 0xEF656772614C7466);
}

id sub_1002FFCCC(char a1)
{
  return sub_1002FFCF0(a1, &enum case for SystemImage.laurelTrailing(_:), 0xD000000000000010, 0x8000000100813550);
}

id sub_1002FFCF0(char a1, unsigned int *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8 = type metadata accessor for SystemImage();
  uint64_t v9 = *(void *)(v8 - 8);
  __n128 v10 = __chkstk_darwin(v8);
  uint64_t v12 = (char *)&v17 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  switch(a1)
  {
    case 1:
      (*(void (**)(char *, void, uint64_t, __n128))(v9 + 104))(v12, *a2, v8, v10);
      if (qword_10097E938 != -1) {
        goto LABEL_11;
      }
      goto LABEL_9;
    case 2:
      (*(void (**)(char *, void, uint64_t, __n128))(v9 + 104))(v12, *a2, v8, v10);
      if (qword_10097E940 == -1) {
        goto LABEL_9;
      }
      goto LABEL_11;
    case 3:
      (*(void (**)(char *, void, uint64_t, __n128))(v9 + 104))(v12, *a2, v8, v10);
      if (qword_10097E948 == -1) {
        goto LABEL_9;
      }
      goto LABEL_11;
    case 4:
      id v15 = sub_100038400(a3, a4, 0);
      id v16 = [v15 imageWithRenderingMode:2];

      return v16;
    default:
      (*(void (**)(char *, void, uint64_t, __n128))(v9 + 104))(v12, *a2, v8, v10);
      if (qword_10097E930 == -1) {
        goto LABEL_9;
      }
LABEL_11:
      swift_once();
LABEL_9:
      uint64_t v13 = static SystemImage.load(_:with:)();
      (*(void (**)(char *, uint64_t))(v9 + 8))(v12, v8);
      return (id)v13;
  }
}

unint64_t sub_1002FFFB8@<X0>(unint64_t *a1@<X0>, unsigned char *a2@<X8>)
{
  unint64_t result = sub_100302A8C(*a1);
  *a2 = result;
  return result;
}

void sub_1002FFFE4(void *a1@<X8>)
{
  *a1 = *v1;
}

Swift::Int sub_1002FFFF0()
{
  int v1 = *v0;
  Hasher.init(_seed:)();
  if (v1) {
    Swift::UInt v2 = 2;
  }
  else {
    Swift::UInt v2 = 1;
  }
  Hasher._combine(_:)(v2);
  return Hasher._finalize()();
}

void sub_100300040()
{
  if (*v0) {
    Swift::UInt v1 = 2;
  }
  else {
    Swift::UInt v1 = 1;
  }
  Hasher._combine(_:)(v1);
}

Swift::Int sub_100300078()
{
  int v1 = *v0;
  Hasher.init(_seed:)();
  if (v1) {
    Swift::UInt v2 = 2;
  }
  else {
    Swift::UInt v2 = 1;
  }
  Hasher._combine(_:)(v2);
  return Hasher._finalize()();
}

void *sub_1003000C4@<X0>(void *result@<X0>, char *a2@<X8>)
{
  if (*result == 2) {
    char v2 = 1;
  }
  else {
    char v2 = 2;
  }
  if (*result == 1) {
    char v3 = 0;
  }
  else {
    char v3 = v2;
  }
  *a2 = v3;
  return result;
}

void sub_1003000E4(uint64_t *a1@<X8>)
{
  uint64_t v2 = 1;
  if (*v1) {
    uint64_t v2 = 2;
  }
  *a1 = v2;
}

uint64_t sub_1003000FC@<X0>(char a1@<W0>, objc_class *a2@<X1>, char a3@<W2>, uint64_t a4@<X8>)
{
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v15 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  switch(a1)
  {
    case 1:
      if (qword_10097F440 != -1) {
        swift_once();
      }
      uint64_t v12 = qword_1009E4718;
      break;
    case 2:
      if (a3)
      {
        if (qword_10097F460 != -1) {
          swift_once();
        }
        uint64_t v12 = qword_1009E4778;
      }
      else
      {
        if (qword_10097F468 != -1) {
          swift_once();
        }
        uint64_t v12 = qword_1009E4790;
      }
      break;
    case 3:
      if (qword_10097F490 != -1) {
        swift_once();
      }
      uint64_t v12 = qword_1009E4808;
      break;
    case 4:
      if (qword_10097F498 != -1) {
        swift_once();
      }
      uint64_t v12 = qword_1009E4820;
      break;
    default:
      if (qword_10097F438 != -1) {
        swift_once();
      }
      uint64_t v12 = qword_1009E4700;
      break;
  }
  uint64_t v13 = sub_100087728(v8, (uint64_t)v12);
  (*(void (**)(char *, uint64_t, uint64_t))(v9 + 16))(v11, v13, v8);
  sub_1003003B4(a1, a2, (uint64_t)v11, a4);
  return (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v11, v8);
}

uint64_t sub_1003003B4@<X0>(char a1@<W0>, objc_class *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X8>)
{
  v29.super.Class isa = a2;
  uint64_t v30 = a3;
  uint64_t v6 = type metadata accessor for Locale();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v27 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v10 - 8);
  uint64_t v12 = (char *)&v27 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for FontUseCase();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  id v16 = (char *)&v27 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  static Locale.storefront.getter();
  sub_10030067C(a1, (uint64_t)v12);
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v14 + 48))(v12, 1, v13) == 1)
  {
    sub_100241A28((uint64_t)v12);
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v14 + 16))(a4, v30, v13);
  }
  else
  {
    uint64_t v28 = a4;
    uint64_t v18 = *(void (**)(char *, char *, uint64_t))(v14 + 32);
    v18(v16, v12, v13);
    Class isa = v29.super.isa;
    uint64_t v19 = v30;
    Class v21 = FontUseCase.makeFontDescriptor(compatibleWith:)(v29).super.isa;
    [(objc_class *)v21 pointSize];
    double v23 = v22;
    Class v24 = FontUseCase.makeFontDescriptor(compatibleWith:)((UITraitCollection)isa).super.isa;
    [(objc_class *)v24 pointSize];
    double v26 = v25;

    if (v26 >= v23)
    {
      (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
      return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v14 + 16))(v28, v19, v13);
    }
    else
    {
      return ((uint64_t (*)(uint64_t, char *, uint64_t))v18)(v28, v16, v13);
    }
  }
}

uint64_t sub_10030067C@<X0>(char a1@<W0>, uint64_t a2@<X8>)
{
  if (a1 == 2)
  {
    if (Locale.isChinese.getter())
    {
      if (qword_10097F478 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E47C0;
      goto LABEL_27;
    }
    if (Locale.isJapanese.getter())
    {
      if (qword_10097F480 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E47D8;
      goto LABEL_27;
    }
    if (Locale.isKorean.getter())
    {
      if (qword_10097F488 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E47F0;
      goto LABEL_27;
    }
  }
  else if (a1 == 1)
  {
    if (Locale.isChinese.getter())
    {
      if (qword_10097F448 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E4730;
LABEL_27:
      uint64_t v6 = sub_100087728(v3, (uint64_t)v5);
      uint64_t v13 = *(void *)(v4 - 8);
      (*(void (**)(uint64_t, uint64_t, uint64_t))(v13 + 16))(a2, v6, v4);
      uint64_t v7 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v13 + 56);
      uint64_t v8 = a2;
      uint64_t v9 = 0;
      uint64_t v10 = v4;
      goto LABEL_29;
    }
    if (Locale.isJapanese.getter())
    {
      if (qword_10097F450 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E4748;
      goto LABEL_27;
    }
    if (Locale.isKorean.getter())
    {
      if (qword_10097F458 != -1) {
        swift_once();
      }
      uint64_t v3 = type metadata accessor for FontUseCase();
      uint64_t v4 = v3;
      id v5 = qword_1009E4760;
      goto LABEL_27;
    }
  }
  uint64_t v11 = type metadata accessor for FontUseCase();
  uint64_t v7 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 56);
  uint64_t v10 = v11;
  uint64_t v8 = a2;
  uint64_t v9 = 1;
LABEL_29:

  return v7(v8, v9, 1, v10);
}

char *sub_100300950(char a1, char a2, int a3, int a4, unsigned __int8 a5)
{
  uint64_t v6 = v5;
  HIDWORD(v53) = a3;
  int v54 = a4;
  int v55 = a5;
  *(void *)&long long v56 = swift_getObjectType();
  char v10 = a2 & 1;
  uint64_t v11 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v53 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useAdsLocale;
  v5[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useAdsLocale] = 0;
  uint64_t v15 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel;
  type metadata accessor for DynamicTypeLabel();
  id v16 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
  uint64_t v17 = v5;
  *(void *)&v5[v15] = [v16 init];
  uint64_t v18 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView;
  *(void *)&v17[v18] = [objc_allocWithZone((Class)UIImageView) init];
  uint64_t v19 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView;
  char v20 = a1;
  *(void *)&v17[v19] = [objc_allocWithZone((Class)UIImageView) init];
  v17[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_size] = a1;
  v17[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_preferredLineCount] = v10;
  v17[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_shouldCapWidthByAvailableWidth] = BYTE4(v53);
  v6[v14] = v54;
  char v21 = a5;
  v17[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useCase] = a5;

  double v22 = (objc_class *)type metadata accessor for EditorsChoiceView();
  v58.receiver = v17;
  v58.super_class = v22;
  id v23 = [super initWithFrame:0.0, 0.0, 0.0, 0.0];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  id v27 = v23;
  [v27 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  uint64_t v28 = self;
  UITraitCollection v29 = (char *)v27;
  id v30 = [v28 clearColor];
  [v29 setBackgroundColor:v30];

  uint64_t v31 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel;
  id v32 = *(id *)&v29[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel];
  id v33 = [v29 tintColor];
  [v32 setTextColor:v33];

  [*(id *)&v29[v31] setLineBreakMode:4];
  if (v55)
  {
    uint64_t v34 = (objc_class *)[v29 traitCollection];
    sub_1003000FC(v20, v34, v21, (uint64_t)v13);

    uint64_t v35 = type metadata accessor for FontUseCase();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v35 - 8) + 56))(v13, 0, 1, v35);
    dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
  }
  else
  {
    static CustomTextStyle<>.metadataRibbon.getter();
    if (qword_1009805F0 != -1) {
      swift_once();
    }
    uint64_t v36 = type metadata accessor for MetadataRibbonTextStyle();
    uint64_t v37 = sub_100087728(v36, (uint64_t)qword_1009E72D8);
    v57[3] = v36;
    v57[4] = sub_100302A44((unint64_t *)&qword_100981570, (void (*)(uint64_t))&type metadata accessor for MetadataRibbonTextStyle);
    id v38 = sub_1000808B8(v57);
    (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v36 - 8) + 16))(v38, v37, v36);
    dispatch thunk of DynamicTypeLabel.customTextStyle.setter();
  }
  id v39 = *(void **)&v29[v31];
  [v39 setAdjustsFontSizeToFitWidth:1];
  [v29 addSubview:v39];
  if (v29[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_size] == 4)
  {
    [v29 setContentMode:3];
  }
  else
  {
    uint64_t v40 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView;
    id v41 = *(id *)&v29[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView];
    id v42 = [v29 tintColor];
    [v41 setTintColor:v42];

    uint64_t v43 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView;
    id v44 = *(id *)&v29[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView];
    id v45 = [v29 tintColor];
    [v44 setTintColor:v45];

    uint64_t v46 = *(void **)&v29[v40];
    [v46 setSemanticContentAttribute:3];
    uint64_t v47 = *(void **)&v29[v43];
    [v47 setSemanticContentAttribute:3];
    [v29 addSubview:v47];
    [v29 addSubview:v46];
  }
  sub_100301B04();
  sub_100301C70();
  sub_100082C28(&qword_100985E10);
  uint64_t v48 = swift_allocObject();
  long long v56 = xmmword_1007BEDF0;
  *(_OWORD *)(v48 + 16) = xmmword_1007BEDF0;
  *(void *)(v48 + 32) = type metadata accessor for UITraitUserInterfaceStyle();
  *(void *)(v48 + 40) = &protocol witness table for UITraitUserInterfaceStyle;
  uint64_t v49 = v29;
  UIView.registerForTraitChanges<A>(_:handler:)();
  swift_unknownObjectRelease();

  swift_bridgeObjectRelease();
  uint64_t v50 = swift_allocObject();
  *(_OWORD *)(v50 + 16) = v56;
  *(void *)(v50 + 32) = type metadata accessor for UITraitPreferredContentSizeCategory();
  *(void *)(v50 + 40) = &protocol witness table for UITraitPreferredContentSizeCategory;
  uint64_t v51 = v49;
  UIView.registerForTraitChanges<A>(_:handler:)();
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();

  return v51;
}

void sub_10030110C()
{
  swift_getObjectType();
  v52.receiver = v0;
  v52.super_class = (Class)type metadata accessor for EditorsChoiceView();
  [super layoutSubviews];
  char v1 = v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_preferredLineCount];
  char v2 = v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_size];
  uint64_t v3 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useAdsLocale;
  char v4 = v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useAdsLocale];
  int v5 = v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useCase];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRectGetWidth(v53);
  double v6 = sub_100180040(v1, v2, v4, v5, v0);
  char v8 = v7 & 1;
  uint64_t v9 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel];
  [v9 setNumberOfLines:(v7 & 1u) + 1, v6];
  sub_100302A9C(v8, v0[v3]);
  NSString v10 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v9 setText:v10];

  id v11 = [v0 traitCollection];
  uint64_t v12 = v11;
  if (v5 == 1)
  {
    id v13 = [v11 preferredContentSizeCategory];
    char v14 = UIContentSizeCategory.isAccessibilityCategory.getter();

    if (v14)
    {
      [*(id *)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView] setHidden:1];
      [*(id *)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView] setHidden:1];
      LayoutMarginsAware<>.layoutFrame.getter();
      double Width = CGRectGetWidth(v54);
      LayoutMarginsAware<>.layoutFrame.getter();
      [v9 sizeThatFits:Width, CGRectGetHeight(v55)];
      double v17 = v16;
      double v19 = v18;
      LayoutMarginsAware<>.layoutFrame.getter();
      CGFloat v20 = CGRectGetMidX(v56) - v17 * 0.5;
      LayoutMarginsAware<>.layoutFrame.getter();
      [v9 setFrame:v20, CGRectGetMidY(v57) - v19 * 0.5, Width, v19];
      return;
    }
  }
  else
  {
  }
  uint64_t v21 = v2;
  id v22 = sub_1002FFCF0(v2, &enum case for SystemImage.laurelLeading(_:), 0x654C6C657275614CLL, 0xEF656772614C7466);
  id v23 = sub_1002FFCF0(v21, &enum case for SystemImage.laurelTrailing(_:), 0xD000000000000010, 0x8000000100813550);
  double v24 = 12.0;
  if (v21 != 4)
  {
    [v0 bounds];
    double Height = CGRectGetHeight(v58);
    [v22 size];
    if (v26 < Height) {
      double Height = v26;
    }
    [v22 size];
    double v28 = Height * v27;
    [v22 size];
    double v30 = v28 / v29;
    [v0 bounds];
    double MinX = CGRectGetMinX(v59);
    [v0 bounds];
    CGFloat v32 = CGRectGetMidY(v60) - Height * 0.5;
    id v33 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView];
    [v33 setHidden:0];
    [v33 setImage:v22];
    [v33 setFrame:MinX, v32, v30, Height];
    [v0 bounds];
    double v34 = CGRectGetHeight(v61);
    [v23 size];
    if (v35 < v34) {
      double v34 = v35;
    }
    [v23 size];
    double v37 = v34 * v36;
    [v23 size];
    double v39 = v37 / v38;
    [v0 bounds];
    CGFloat v40 = CGRectGetMaxX(v62) - v39;
    [v0 bounds];
    CGFloat v41 = CGRectGetMidY(v63) - v34 * 0.5;
    id v42 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView];
    [v42 setHidden:0];
    [v42 setImage:v23];
    [v42 setFrame:v40, v41, v39, v34];
    double v24 = dbl_1007D0148[v21];
  }
  LayoutMarginsAware<>.layoutFrame.getter();
  double v43 = CGRectGetWidth(v64);
  [v22 size];
  double v45 = v24 + v24 + v44;
  [v23 size];
  double v47 = v43 - (v45 + v46);
  LayoutMarginsAware<>.layoutFrame.getter();
  [v9 sizeThatFits:v47 height:CGRectGetHeight(v65)];
  double v49 = v48;
  [v22 size];
  double v51 = v24 + v50;
  LayoutMarginsAware<>.layoutFrame.getter();
  [v9 setFrame:v51, CGRectGetMidY(v66) + v49 * -0.5, v47, v49];
}

void sub_10030165C(double a1, double a2, double a3, double a4)
{
  if (*((unsigned char *)v4 + OBJC_IVAR____TtC8AppStore17EditorsChoiceView_size) != 4)
  {
    v31.receiver = v4;
    v31.super_class = (Class)type metadata accessor for EditorsChoiceView();
    [super drawRect:a1, a2, a3, a4];
    return;
  }
  int v5 = UIGraphicsGetCurrentContext();
  double v6 = v5;
  if (v5)
  {
    char v7 = v5;
    id v8 = [v4 tintColor];
    if (!v8)
    {
      __break(1u);
      return;
    }
    uint64_t v9 = v8;
    NSString v10 = (CGColor *)[v8 CGColor];

    CGContextSetFillColorWithColor(v7, v10);
  }
  id v11 = sub_1002FFCF0(4, &enum case for SystemImage.laurelLeading(_:), 0x654C6C657275614CLL, 0xEF656772614C7466);
  [v4 bounds];
  double Height = CGRectGetHeight(v33);
  [v11 size];
  if (v13 < Height) {
    double Height = v13;
  }
  [v11 size];
  double v15 = Height * v14;
  [v11 size];
  double v17 = v15 / v16;
  [v4 bounds];
  double MinX = CGRectGetMinX(v34);
  [v4 bounds];
  [v11 drawInRect:CGRectMake(MinX, CGRectGetMidY(v35) - Height * 0.5, v17, Height)];
  id v30 = sub_1002FFCF0(4, &enum case for SystemImage.laurelTrailing(_:), 0xD000000000000010, 0x8000000100813550);
  [v4 bounds];
  double v19 = CGRectGetHeight(v36);
  [v30 size];
  if (v20 < v19) {
    double v19 = v20;
  }
  [v30 size];
  double v22 = v19 * v21;
  [v30 size];
  double v24 = v22 / v23;
  [v4 bounds];
  CGFloat v25 = CGRectGetMaxX(v37) - v24;
  [v4 bounds];
  [v30 drawInRect:v25 y:CGRectGetMidY(v38) - v19 * 0.5 width:v24 height:v19];
}

void sub_100301998()
{
  char v1 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel];
  id v2 = [v0 tintColor];
  [v1 setTextColor:v2];

  uint64_t v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView];
  id v4 = [v0 tintColor];
  [v3 setTintColor:v4];

  int v5 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView];
  id v6 = [v0 tintColor];
  [v5 setTintColor:v6];

  if (v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_size] == 4)
  {
    [v0 setNeedsDisplay];
  }
}

void sub_100301B04()
{
  if (v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useCase] == 1)
  {
    id v1 = [v0 layer];
    [v1 setAllowsGroupBlending:0];

    id v2 = [v0 traitCollection];
    [v2 userInterfaceStyle];

    static String._unconditionallyBridgeFromObjectiveC(_:)();
    NSString v3 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    id v4 = [*(id *)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView] layer];
    [v4 setCompositingFilter:v3];

    id v5 = [*(id *)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView] layer];
    [v5 setCompositingFilter:v3];
  }
}

id sub_100301C70()
{
  int v1 = v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useCase];
  id v2 = [v0 traitCollection];
  NSString v3 = v2;
  if (v1 == 1)
  {
    id v4 = [v2 preferredContentSizeCategory];
    char v5 = UIContentSizeCategory.isAccessibilityCategory.getter();

    if (v5)
    {
      uint64_t v6 = 4;
      goto LABEL_6;
    }
  }
  else
  {
  }
  uint64_t v6 = 1;
LABEL_6:
  char v7 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel];

  return [v7 setTextAlignment:v6];
}

id sub_100301D88()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for EditorsChoiceView();
  return [super dealloc];
}

uint64_t type metadata accessor for EditorsChoiceView()
{
  return self;
}

unsigned char *storeEnumTagSinglePayload for EditorsChoiceUseCase(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x100301F08);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for EditorsChoiceUseCase()
{
  return &type metadata for EditorsChoiceUseCase;
}

uint64_t getEnumTagSinglePayload for RatingView.StarSize(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xFC) {
    goto LABEL_17;
  }
  if (a2 + 4 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 4) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 4;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 4;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 4;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 5;
  int v8 = v6 - 5;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for EditorsChoiceSize(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 4 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 4) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFC) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFB)
  {
    unsigned int v6 = ((a2 - 252) >> 8) + 1;
    *unint64_t result = a2 + 4;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x10030209CLL);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 4;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for EditorsChoiceSize()
{
  return &type metadata for EditorsChoiceSize;
}

unsigned char *storeEnumTagSinglePayload for EditorsChoiceLineCount(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x1003021A0);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for EditorsChoiceLineCount()
{
  return &type metadata for EditorsChoiceLineCount;
}

unint64_t sub_1003021DC()
{
  unint64_t result = qword_10098FCA0;
  if (!qword_10098FCA0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098FCA0);
  }
  return result;
}

unint64_t sub_100302234()
{
  unint64_t result = qword_10098FCA8;
  if (!qword_10098FCA8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098FCA8);
  }
  return result;
}

unint64_t sub_10030228C()
{
  unint64_t result = qword_10098FCB0;
  if (!qword_10098FCB0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098FCB0);
  }
  return result;
}

double sub_1003022E0(char a1, char a2, char a3, unsigned __int8 a4, id a5)
{
  int v9 = a4;
  id v11 = [a5 traitCollection];
  uint64_t v12 = v11;
  if (v9 == 1)
  {
    id v13 = [v11 preferredContentSizeCategory];
    char v14 = UIContentSizeCategory.isAccessibilityCategory.getter();

    if (v14)
    {
      if (a1) {
        goto LABEL_12;
      }
      goto LABEL_7;
    }
  }
  else
  {
  }
  id v15 = sub_1002FFCF0(a2, &enum case for SystemImage.laurelLeading(_:), 0x654C6C657275614CLL, 0xEF656772614C7466);
  id v16 = sub_1002FFCF0(a2, &enum case for SystemImage.laurelTrailing(_:), 0xD000000000000010, 0x8000000100813550);
  [v15 size];
  [v16 size];

  if (a1)
  {
LABEL_12:
    if (a3)
    {
      v27._object = (void *)0x8000000100807010;
      v27._uint64_t countAndFlagsBits = 0xD000000000000017;
      Swift::String v30 = localizedStringForAdsLanguage(_:)(v27);
      object = v30._object;
      uint64_t countAndFlagsBits = v30._countAndFlagsBits;
    }
    else
    {
      v31._uint64_t countAndFlagsBits = 0xD000000000000050;
      v32._object = (void *)0x8000000100807010;
      v31._object = (void *)0x8000000100807030;
      v32._uint64_t countAndFlagsBits = 0xD000000000000017;
      Swift::String v33 = localizedString(_:comment:)(v32, v31);
      object = v33._object;
      uint64_t countAndFlagsBits = v33._countAndFlagsBits;
    }
    sub_100302590(countAndFlagsBits, (uint64_t)object, 2, a2, a4, a5);
    double v25 = v34;
    swift_bridgeObjectRelease();
    return v25;
  }
LABEL_7:
  unint64_t v17 = 0xD00000000000001ALL;
  unint64_t v18 = 0x8000000100809C80;
  if (a3)
  {
    Swift::String v21 = localizedStringForAdsLanguage(_:)(*(Swift::String *)&v17);
    double v20 = v21._object;
    uint64_t v19 = v21._countAndFlagsBits;
  }
  else
  {
    v22._uint64_t countAndFlagsBits = 0;
    v22._object = (void *)0xE000000000000000;
    Swift::String v23 = localizedString(_:comment:)(*(Swift::String *)&v17, v22);
    double v20 = v23._object;
    uint64_t v19 = v23._countAndFlagsBits;
  }
  sub_100302590(v19, (uint64_t)v20, 1, a2, a4, a5);
  double v25 = v24;
  swift_bridgeObjectRelease();
  char v26 = CGFloat.isLessThanOrEffectivelyEqualTo(_:accuracy:)();
  if (a4 && (v26 & 1) == 0) {
    goto LABEL_12;
  }
  return v25;
}

void sub_100302590(uint64_t a1, uint64_t a2, uint64_t a3, char a4, unsigned __int8 a5, void *a6)
{
  uint64_t v21 = a1;
  uint64_t v22 = a2;
  int v10 = a5;
  uint64_t v23 = type metadata accessor for FontUseCase();
  uint64_t v11 = *(void *)(v23 - 8);
  *(void *)&double v12 = __chkstk_darwin(v23).n128_u64[0];
  char v14 = (char *)&v21 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v15 = [a6 traitCollection:v12, v21, v22];
  sub_1003000FC(a4, v15, a5, (uint64_t)v14);

  id v16 = [a6 traitCollection];
  unint64_t v17 = v16;
  if (v10 == 1)
  {
    id v18 = [v16 preferredContentSizeCategory];
    UIContentSizeCategory.isAccessibilityCategory.getter();
  }
  else
  {
  }
  if (a3 < 0)
  {
    __break(1u);
  }
  else
  {
    uint64_t v19 = type metadata accessor for Feature();
    v24[3] = v19;
    v24[4] = sub_100302A44((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    double v20 = sub_1000808B8(v24);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v19 - 8) + 104))(v20, enum case for Feature.measurement_with_labelplaceholder(_:), v19);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v24);
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    (*(void (**)(char *, uint64_t))(v11 + 8))(v14, v23);
  }
}

void sub_10030281C()
{
}

id sub_100302840()
{
  return sub_100301C70();
}

void sub_100302864(char a1, char a2, int a3, id a4, char a5, unsigned __int8 a6)
{
  int v11 = a6;
  id v12 = [a4 traitCollection];
  uint64_t v13 = v12;
  if (v11 == 1)
  {
    id v14 = [v12 preferredContentSizeCategory];
    char v15 = UIContentSizeCategory.isAccessibilityCategory.getter();

    if (v15) {
      goto LABEL_6;
    }
  }
  else
  {
  }
  id v16 = sub_1002FFCF0(a1, &enum case for SystemImage.laurelLeading(_:), 0x654C6C657275614CLL, 0xEF656772614C7466);
  id v17 = sub_1002FFCF0(a1, &enum case for SystemImage.laurelTrailing(_:), 0xD000000000000010, 0x8000000100813550);
  [v16 size];
  [v17 size];

LABEL_6:
  sub_1003022E0(a2 & 1, a1, a5 & 1, a6, a4);
}

uint64_t sub_100302A44(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unint64_t sub_100302A8C(unint64_t result)
{
  if (result >= 5) {
    return 5;
  }
  return result;
}

uint64_t sub_100302A9C(char a1, char a2)
{
  if (a1)
  {
    if (a2)
    {
      v4._object = (void *)0x8000000100807010;
      v4._uint64_t countAndFlagsBits = 0xD000000000000017;
      return localizedStringForAdsLanguage(_:)(v4)._countAndFlagsBits;
    }
    else
    {
      v8._uint64_t countAndFlagsBits = 0xD000000000000050;
      v9._object = (void *)0x8000000100807010;
      v8._object = (void *)0x8000000100807030;
      v9._uint64_t countAndFlagsBits = 0xD000000000000017;
      return localizedString(_:comment:)(v9, v8)._countAndFlagsBits;
    }
  }
  else
  {
    unint64_t v2 = 0xD00000000000001ALL;
    if (a2)
    {
      unint64_t v3 = 0x8000000100809C80;
      return localizedStringForAdsLanguage(_:)(*(Swift::String *)&v2)._countAndFlagsBits;
    }
    else
    {
      unint64_t v6 = 0x8000000100809C80;
      v7._uint64_t countAndFlagsBits = 0;
      v7._object = (void *)0xE000000000000000;
      return localizedString(_:comment:)(*(Swift::String *)&v2, v7)._countAndFlagsBits;
    }
  }
}

void sub_100302B24()
{
  v0[OBJC_IVAR____TtC8AppStore17EditorsChoiceView_useAdsLocale] = 0;
  uint64_t v1 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_titleLabel;
  type metadata accessor for DynamicTypeLabel();
  *(void *)&v0[v1] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v2 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_leftLaurelView;
  *(void *)&v0[v2] = [objc_allocWithZone((Class)UIImageView) init];
  uint64_t v3 = OBJC_IVAR____TtC8AppStore17EditorsChoiceView_rightLaurelView;
  *(void *)&v0[v3] = [objc_allocWithZone((Class)UIImageView) init];

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_100302C04()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artworkView);
  type metadata accessor for ArtworkView();
  sub_100303C68((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v2 = v1;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();

  uint64_t v3 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeaderView);
  if (v3)
  {
    id v4 = v3;
    ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
  }
  uint64_t v5 = *(void **)(*(void *)(*(void *)(v0
                                        + OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer)
                            + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer)
                + OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents);
  if (v5)
  {
    type metadata accessor for VideoView();
    if (swift_dynamicCastClass())
    {
      sub_100303C68(&qword_1009932F0, (void (*)(uint64_t))type metadata accessor for VideoView);
      id v6 = v5;
      ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
    }
  }
}

double sub_100302DAC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_100302F34(a2, a6);
}

id sub_100302DB8(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  return sub_1003030B8(*a1, a2, a3);
}

uint64_t sub_100302DC0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  double v5 = sub_100302F34(*(void *)(a1 + 16), a5);
  id v6 = [self absoluteDimension:v5];
  uint64_t v7 = static ComponentLayoutBuilder.columnGroup(separatedBy:itemHeight:groupWidth:rowCount:)();

  return v7;
}

void sub_100302E40(uint64_t a1, uint64_t a2)
{
}

uint64_t sub_100302E4C(uint64_t a1)
{
  uint64_t result = sub_100303C68(&qword_10098FCB8, (void (*)(uint64_t))type metadata accessor for PosterLockupCollectionViewCell);
  *(void *)(a1 + 8) = result;
  return result;
}

uint64_t sub_100302EA4()
{
  return sub_100303C68(&qword_10098FCC0, (void (*)(uint64_t))&type metadata accessor for PosterLockup);
}

uint64_t sub_100302EEC()
{
  return sub_100303C68(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

double sub_100302F34(uint64_t a1, void *a2)
{
  uint64_t v4 = type metadata accessor for AspectRatio();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v19 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  static PosterLockupLayout.aspectRatio.getter();
  swift_getObjectType();
  PageTraitEnvironment.pageColumnWidth.getter();
  AspectRatio.height(fromWidth:)();
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  [a2 pageContainerSize];
  double v9 = v8;
  [a2 pageMarginInsets];
  double v11 = v9 - v10;
  [a2 pageMarginInsets];
  double v13 = v11 - v12;
  PageTraitEnvironment.pageColumnWidth.getter();
  double v15 = v14;
  PageTraitEnvironment.pageColumnMargin.getter();
  if (v13 < (v15 + v16) * (double)a1)
  {
    PageTraitEnvironment.pageColumnWidth.getter();
    return v17;
  }
  return v13;
}

id sub_1003030B8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v94 = a3;
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100985730);
  __chkstk_darwin(v6 - 8);
  uint64_t v92 = (char *)v77 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v90 = type metadata accessor for OfferButtonSubtitlePosition();
  uint64_t v86 = *(void *)(v90 - 8);
  __chkstk_darwin(v90);
  uint64_t v88 = (char *)v77 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v93 = sub_100082C28((uint64_t *)&unk_100981AC0);
  uint64_t v91 = *(void *)(v93 - 8);
  __chkstk_darwin(v93);
  char v89 = (char *)v77 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v10 - 8);
  uint64_t v87 = (char *)v77 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_1009856B0);
  __chkstk_darwin(v12 - 8);
  double v85 = (char *)v77 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v84 = (char *)v77 - v15;
  uint64_t v16 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v16 - 8);
  uint64_t v83 = (char *)v77 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for VideoControls();
  __chkstk_darwin(v18 - 8);
  double v20 = (char *)v77 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v21);
  uint64_t v22 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v22 - 8);
  double v24 = (char *)v77 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = type metadata accessor for VideoFillMode();
  uint64_t v26 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  double v28 = (char *)v77 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v29 = type metadata accessor for VideoConfiguration();
  uint64_t v81 = *(void *)(v29 - 8);
  uint64_t v82 = v29;
  *(void *)&double v30 = __chkstk_darwin(v29).n128_u64[0];
  id v80 = (char *)v77 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v32 = [v4 contentView];
  if (PosterLockup.isDark.getter()) {
    uint64_t v33 = 2;
  }
  else {
    uint64_t v33 = 1;
  }
  [v32 setOverrideUserInterfaceStyle:v33];

  uint64_t v95 = a1;
  uint64_t v34 = PosterLockup.posterVideo.getter();
  if (v34)
  {
    uint64_t v35 = v34;
    *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artwork] = 0;
    swift_release();
    uint64_t v36 = *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer];
    uint64_t v79 = OBJC_IVAR____TtC8AppStore9MediaView_contentContainer;
    CGRect v37 = *(char **)(v36 + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer);
    uint64_t v78 = v36;
    v77[1] = v20;
    CGRect v38 = *(void **)&v37[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents];
    *(void *)&v37[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents] = 0;
    double v39 = v37;
    sub_1004A2040(v38);

    sub_1004A13EC();
    *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_video] = v35;
    swift_retain();
    swift_release();
    (*(void (**)(char *, void, uint64_t))(v26 + 104))(v28, enum case for VideoFillMode.scaleAspectFill(_:), v25);
    Video.preview.getter();
    Artwork.size.getter();
    AspectRatio.init(_:_:)();
    swift_release();
    uint64_t v40 = type metadata accessor for AspectRatio();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v40 - 8) + 56))(v24, 0, 1, v40);
    Video.playbackControls.getter();
    Video.autoPlayPlaybackControls.getter();
    Video.canPlayFullScreen.getter();
    Video.allowsAutoPlay.getter();
    Video.looping.getter();
    CGFloat v41 = v80;
    VideoConfiguration.init(fillMode:aspectRatio:playbackControls:autoPlayPlaybackControls:canPlayFullScreen:allowsAutoPlay:looping:roundedCorners:deviceCornerRadiusFactor:)();
    type metadata accessor for VideoViewManager();
    BaseObjectGraph.inject<A>(_:)();
    Video.playbackId.getter();
    uint64_t v42 = (uint64_t)v83;
    Video.videoUrl.getter();
    uint64_t v43 = type metadata accessor for URL();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v43 - 8) + 56))(v42, 0, 1, v43);
    uint64_t v44 = (uint64_t)v84;
    Video.templateMediaEvent.getter();
    uint64_t v45 = (uint64_t)v85;
    Video.templateClickEvent.getter();
    type metadata accessor for VideoView();
    sub_100303C68(&qword_1009859B0, (void (*)(uint64_t))type metadata accessor for VideoView);
    double v46 = (void *)dispatch thunk of VideoViewManager.videoView<A>(with:videoUrl:configuration:templateMediaEvent:templateClickEvent:asPartOf:)();
    sub_100082BCC(v45, (uint64_t *)&unk_1009856B0);
    sub_100082BCC(v44, (uint64_t *)&unk_1009856B0);
    sub_100082BCC(v42, (uint64_t *)&unk_100991FE0);
    sub_100082BCC((uint64_t)v96, &qword_100981560);
    id v47 = *(id *)(v78 + v79);
    sub_1004A28A0(v46);
    swift_release();
    swift_release();

    (*(void (**)(char *, uint64_t))(v81 + 8))(v41, v82);
  }
  else
  {
    uint64_t v48 = PosterLockup.posterArtwork.getter();
    if (v48)
    {
      *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artwork] = v48;
      swift_retain();
      swift_release();
      *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_video] = 0;
      swift_release();
      double v49 = *(void **)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artworkView];
      double v50 = *(char **)(*(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer]
                     + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer);
      double v51 = *(void **)&v50[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents];
      *(void *)&v50[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents] = v49;
      id v52 = v49;
      CGRect v53 = v50;
      sub_1004A2040(v51);

      sub_1004A13EC();
      swift_release();
    }
    else
    {
      CGRect v54 = *(char **)(*(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer]
                     + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer);
      CGRect v55 = *(void **)&v54[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents];
      *(void *)&v54[OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents] = 0;
      CGRect v56 = v54;
      sub_1004A2040(v55);

      sub_1004A13EC();
      *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artwork] = 0;
      swift_release();
      *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_video] = 0;
      swift_release();
    }
  }
  uint64_t v57 = Lockup.title.getter();
  CGRect v58 = (uint64_t *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_fallbackTitle];
  *CGRect v58 = v57;
  v58[1] = v59;
  swift_bridgeObjectRelease();
  sub_1003CCF90();
  uint64_t v60 = PosterLockup.epicHeading.getter();
  if (v60)
  {
    *(void *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeadingArtwork] = v60;
    swift_retain();
    swift_release();
    [*(id *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_fallbackTitleView] setHidden:1];
    swift_release();
  }
  else
  {
    CGRect v61 = *(void **)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeaderView];
    if (v61) {
      [v61 setHidden:1];
    }
    unint64_t v62 = v58[1];
    if (v62)
    {
      if ((v62 & 0x2000000000000000) != 0) {
        uint64_t v63 = HIBYTE(v62) & 0xF;
      }
      else {
        uint64_t v63 = *v58 & 0xFFFFFFFFFFFFLL;
      }
      BOOL v64 = v63 == 0;
    }
    else
    {
      BOOL v64 = 1;
    }
    [*(id *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_fallbackTitleView] setHidden:v64];
  }
  CGRect v65 = *(void **)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_offerButton];
  uint64_t v66 = Lockup.offerDisplayProperties.getter();
  uint64_t v67 = Lockup.buttonAction.getter();
  uint64_t v68 = sub_100082C28((uint64_t *)&unk_10098AC20);
  uint64_t v69 = (uint64_t)v87;
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v68 - 8) + 56))(v87, 1, 1, v68);
  uint64_t v70 = v86;
  uint64_t v71 = v90;
  (*(void (**)(char *, void, uint64_t))(v86 + 104))(v88, enum case for OfferButtonSubtitlePosition.below(_:), v90);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v70 + 56))(v92, 1, 1, v71);
  sub_100303C68((unint64_t *)&qword_100985760, (void (*)(uint64_t))&type metadata accessor for OfferButtonSubtitlePosition);
  uint64_t v72 = (uint64_t)v89;
  AccessibilityConditional.init(value:axValue:)();
  sub_100070F60(v66, v67, 0, v69, v72, v94, 0, 0);
  swift_release();
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v91 + 8))(v72, v93);
  sub_100082BCC(v69, (uint64_t *)&unk_100982860);
  [v65 setOverrideUserInterfaceStyle:1];
  uint64_t v73 = PosterLockup.footerText.getter();
  uint64_t v74 = (uint64_t *)&v4[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_footerText];
  *uint64_t v74 = v73;
  v74[1] = v75;
  swift_bridgeObjectRelease();
  return sub_1003CD114();
}

uint64_t sub_100303C68(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_100303CB0(uint64_t a1)
{
  id v2 = v1;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v4 = type metadata accessor for Artwork.Crop();
  uint64_t v51 = *(void *)(v4 - 8);
  uint64_t v52 = v4;
  __chkstk_darwin(v4);
  double v50 = (char *)v44 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for PosterLockupLayout.Metrics();
  uint64_t v47 = *(void *)(v6 - 8);
  uint64_t v48 = v6;
  __chkstk_darwin(v6);
  double v46 = (char *)v44 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v8 - 8);
  CGRect v53 = (char *)v44 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v10 - 8);
  uint64_t v12 = (char *)v44 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for VideoConfiguration();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)v44 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for AspectRatio();
  uint64_t v45 = *(void *)(v17 - 8);
  *(void *)&double v18 = __chkstk_darwin(v17).n128_u64[0];
  double v20 = (char *)v44 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v21 = [v2 contentView];
  [v21 bounds];

  if (*(void *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_video])
  {
    uint64_t v22 = *(void **)(*(void *)(*(void *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer]
                               + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer)
                   + OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents);
    if (v22)
    {
      uint64_t v44[3] = type metadata accessor for VideoView();
      uint64_t v23 = swift_dynamicCastClass();
      if (v23)
      {
        v44[2] = a1;
        v44[1] = v23;
        uint64_t v24 = v23 + qword_1009E5B30;
        swift_beginAccess();
        (*(void (**)(char *, uint64_t, uint64_t))(v14 + 16))(v16, v24, v13);
        swift_retain();
        id v25 = v22;
        VideoConfiguration.aspectRatio.getter();
        (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
        uint64_t v26 = v45;
        if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v45 + 48))(v12, 1, v17) != 1)
        {
          (*(void (**)(char *, char *, uint64_t))(v26 + 32))(v20, v12, v17);
          AspectRatio.maxSize(filling:)();
          Video.preview.getter();
          Artwork.config(_:mode:prefersLayeredImage:)();
          swift_release();
          sub_100303C68(&qword_1009932F0, (void (*)(uint64_t))type metadata accessor for VideoView);
          ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
          swift_release();

          swift_release();
          (*(void (**)(char *, uint64_t))(v26 + 8))(v20, v17);
          uint64_t v27 = &stru_100950000;
          goto LABEL_10;
        }

        swift_release();
        sub_100082BCC((uint64_t)v12, (uint64_t *)&unk_1009856C0);
      }
    }
  }
  uint64_t v27 = &stru_100950000;
  if (*(void *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artwork])
  {
    swift_retain();
    Artwork.config(_:mode:prefersLayeredImage:)();
    uint64_t v28 = OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artworkView;
    id v29 = *(id *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_artworkView];
    Artwork.style.getter();
    ArtworkView.style.setter();
    [v29 setContentMode:Artwork.contentMode.getter()];
    ArtworkLoaderConfig.size.getter();
    ArtworkView.imageSize.setter();
    if (!Artwork.backgroundColor.getter())
    {
      sub_10008E8A0();
      static UIColor.placeholderBackground.getter();
    }
    ArtworkView.backgroundColor.setter();

    double v30 = *(void **)&v2[v28];
    type metadata accessor for ArtworkView();
    sub_100303C68((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
    id v31 = v30;
    ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
    swift_release();
    swift_release();
  }
LABEL_10:
  if (*(void *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeadingArtwork])
  {
    swift_retain();
    [v2 bounds];
    id v32 = v46;
    sub_1003CCEA8();
    [v2 bounds];
    static PosterLockupLayout.maximiumLogoArtworkSize(metrics:containerSize:)();
    (*(void (**)(char *, uint64_t))(v47 + 8))(v32, v48);
    uint64_t v33 = OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeaderView;
    uint64_t v34 = *(void **)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeaderView];
    if (v34)
    {
      id v35 = *(id *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_epicHeaderView];
    }
    else
    {
      id v36 = [objc_allocWithZone((Class)type metadata accessor for ArtworkView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
      id v37 = [v2 contentView];
      [v37 insertSubview:v36 aboveSubview:*(void *)&v2[OBJC_IVAR____TtC8AppStore30PosterLockupCollectionViewCell_mediaViewContainer]];

      CGRect v38 = *(void **)&v2[v33];
      *(void *)&v2[v33] = v36;
      id v35 = v36;

      uint64_t v34 = 0;
    }
    id v39 = v34;
    uint64_t v40 = v50;
    Artwork.crop.getter();
    Artwork.Crop.preferredContentMode.getter();
    (*(void (**)(char *, uint64_t))(v51 + 8))(v40, v52);
    Artwork.config(_:mode:prefersLayeredImage:)();
    Artwork.style.getter();
    ArtworkView.style.setter();
    [v35 v27[163].name];
    ArtworkLoaderConfig.size.getter();
    ArtworkView.imageSize.setter();
    if (!Artwork.backgroundColor.getter())
    {
      sub_10008E8A0();
      static UIColor.placeholderBackground.getter();
    }
    ArtworkView.backgroundColor.setter();
    id v41 = [self clearColor];
    ArtworkView.backgroundColor.setter();
    type metadata accessor for ArtworkView();
    sub_100303C68((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
    ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
    uint64_t v42 = *(void **)&v2[v33];
    if (v42)
    {
      id v43 = v42;
      [v43 setHidden:0];
    }
    swift_release();

    swift_release();
  }
}

ValueMetadata *type metadata accessor for ArcadePackOfferActionImplementation()
{
  return &type metadata for ArcadePackOfferActionImplementation;
}

uint64_t sub_1003045A0()
{
  return sub_100307298(&qword_10098FD10, (void (*)(uint64_t))&type metadata accessor for ArcadePackOfferAction);
}

void *sub_1003045E8(uint64_t a1)
{
  uint64_t v3 = sub_100082C28(&qword_100981760);
  uint64_t v22 = *(void *)(v3 - 8);
  uint64_t v23 = v3;
  __chkstk_darwin(v3);
  uint64_t v25 = (uint64_t)&v21 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v21 - v6;
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v21 - v9;
  uint64_t v11 = *(void *)(a1 + 16);
  if (!v11) {
    return _swiftEmptyArrayStorage;
  }
  uint64_t v21 = v1;
  uint64_t v12 = *(void *)(sub_100082C28(&qword_100984ED8) - 8);
  unint64_t v13 = (*(unsigned __int8 *)(v12 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v12 + 80);
  uint64_t v24 = *(void *)(v12 + 72);
  swift_bridgeObjectRetain();
  uint64_t v14 = _swiftEmptyArrayStorage;
  do
  {
    uint64_t v15 = OfferAction.buyCompletedAction.getter();
    if (v15)
    {
      uint64_t v16 = v15;
      uint64_t v17 = *(int *)(v23 + 48);
      OfferAction.adamId.getter();
      *(void *)&v7[v17] = v16;
      sub_100082CD0((uint64_t)v7, (uint64_t)v10, &qword_100981760);
      sub_100082CD0((uint64_t)v10, v25, &qword_100981760);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v14 = (void *)sub_1000AD0CC(0, v14[2] + 1, 1, (unint64_t)v14);
      }
      unint64_t v19 = v14[2];
      unint64_t v18 = v14[3];
      if (v19 >= v18 >> 1) {
        uint64_t v14 = (void *)sub_1000AD0CC(v18 > 1, v19 + 1, 1, (unint64_t)v14);
      }
      v14[2] = v19 + 1;
      sub_100082CD0(v25, (uint64_t)v14+ ((*(unsigned __int8 *)(v22 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v22 + 80))+ *(void *)(v22 + 72) * v19, &qword_100981760);
    }
    v13 += v24;
    --v11;
  }
  while (v11);
  swift_bridgeObjectRelease();
  return v14;
}

uint64_t sub_100304874(uint64_t a1, uint64_t a2)
{
  uint64_t v60 = type metadata accessor for LegacyAppState.AppInstallationDetails();
  uint64_t v3 = *(void *)(v60 - 8);
  __chkstk_darwin(v60);
  uint64_t v59 = (char *)&v48 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for LegacyAppState();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v48 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = inject(_:from:)();
  uint64_t v11 = v10;
  unint64_t v12 = ArcadePackOfferAction.offerActions.getter();
  swift_unknownObjectRetain();
  uint64_t v13 = v11;
  uint64_t v14 = 0;
  uint64_t v15 = sub_100306654(v12, v9, v13);
  swift_bridgeObjectRelease();
  uint64_t v52 = v9;
  swift_unknownObjectRelease();
  uint64_t v16 = *(void *)(v15 + 16);
  if (v16)
  {
    uint64_t v49 = 0;
    uint64_t v51 = a2;
    uint64_t v17 = sub_100082C28(&qword_100984ED8);
    unint64_t v18 = v15
        + ((*(unsigned __int8 *)(*(void *)(v17 - 8) + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(*(void *)(v17 - 8) + 80));
    uint64_t v19 = *(void *)(*(void *)(v17 - 8) + 72);
    uint64_t v22 = *(void (**)(char *, unint64_t, uint64_t))(v6 + 16);
    uint64_t v21 = v6 + 16;
    double v20 = v22;
    uint64_t v23 = v3;
    uint64_t v24 = (uint64_t (**)(char *, uint64_t))(v21 + 72);
    int v61 = enum case for LegacyAppState.paused(_:);
    CGRect v55 = (void (**)(char *, uint64_t))(v21 + 80);
    CGRect v56 = (void (**)(char *, uint64_t))(v21 - 8);
    CGRect v53 = (void (**)(char *, uint64_t))(v23 + 8);
    CGRect v54 = (void (**)(char *, char *, uint64_t))(v23 + 32);
    uint64_t v50 = v15;
    swift_bridgeObjectRetain();
    uint64_t v57 = v21;
    uint64_t v58 = v17;
    do
    {
      v20(v8, v18 + *(int *)(v17 + 48), v5);
      int v25 = (*v24)(v8, v5);
      if (v25 == v61)
      {
        (*v55)(v8, v5);
        uint64_t v26 = v59;
        uint64_t v27 = v8;
        uint64_t v28 = v8;
        id v29 = v20;
        uint64_t v30 = v60;
        (*v54)(v59, v27, v60);
        id v31 = v24;
        uint64_t v32 = v5;
        uint64_t v33 = v19;
        uint64_t v34 = (void *)LegacyAppState.AppInstallationDetails.downloadingPhaseProgress.getter();
        [v34 resume];

        uint64_t v19 = v33;
        uint64_t v5 = v32;
        uint64_t v24 = v31;
        uint64_t v17 = v58;
        uint64_t v35 = v30;
        double v20 = v29;
        uint64_t v8 = v28;
        (*v53)(v26, v35);
      }
      else
      {
        (*v56)(v8, v5);
      }
      v18 += v19;
      --v16;
    }
    while (v16);
    uint64_t v15 = v50;
    swift_bridgeObjectRelease();
    a2 = v51;
    uint64_t v14 = v49;
  }
  id v36 = sub_100306CA4(v15);
  swift_bridgeObjectRelease();
  type metadata accessor for AdHeaderProvider();
  uint64_t v37 = BaseObjectGraph.optional<A>(_:)();
  uint64_t v38 = v62[0];
  __chkstk_darwin(v37);
  *(&v48 - 2) = v38;
  sub_10030696C((uint64_t)v36, (void (*)(void, void, void, void))sub_100307248, (uint64_t)(&v48 - 4));
  id v39 = sub_1003045E8((uint64_t)v36);
  swift_bridgeObjectRelease();
  if (v39[2])
  {
    sub_100082C28(&qword_100982780);
    uint64_t v40 = (void *)static _DictionaryStorage.allocate(capacity:)();
  }
  else
  {
    uint64_t v40 = &_swiftEmptyDictionarySingleton;
  }
  v62[0] = v40;
  uint64_t v41 = swift_bridgeObjectRetain();
  sub_1003060F4(v41, 1, v62);
  if (v14)
  {
    uint64_t result = swift_unexpectedError();
    __break(1u);
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v42 = v62[0];
    sub_100082C28(&qword_100988220);
    uint64_t v43 = Promise.__allocating_init()();
    type metadata accessor for Commerce();
    type metadata accessor for ObjectGraph();
    inject<A, B>(_:from:)();
    dispatch thunk of Commerce.purchase(with:)();
    swift_bridgeObjectRelease();
    uint64_t v44 = swift_allocObject();
    *(void *)(v44 + 16) = v42;
    *(void *)(v44 + 24) = a2;
    unint64_t v45 = sub_100050CD0();
    swift_retain();
    uint64_t v46 = static OS_dispatch_queue.main.getter();
    v62[3] = v45;
    v62[4] = &protocol witness table for OS_dispatch_queue;
    v62[0] = v46;
    Promise.then(perform:orCatchError:on:)();
    swift_release();
    swift_release();
    swift_release();
    swift_unknownObjectRelease();
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v62);
    return v43;
  }
  return result;
}

uint64_t sub_100304DF8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  if (a5)
  {
    sub_100082C28(&qword_10098FD30);
    Box.read<A>(with:)();
  }
  swift_unknownObjectRetain();
  swift_retain();
  return PurchaseIntent.init(from:stateMachine:additionalHeaders:presentingSceneIdentifier:)();
}

uint64_t sub_100304EAC(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v127 = a1;
  uint64_t v4 = *a3;
  uint64_t v117 = a3;
  v99[1] = v4;
  uint64_t v114 = type metadata accessor for Dependency();
  uint64_t v5 = *(void *)(v114 - 8);
  __chkstk_darwin(v114);
  uint64_t v113 = (char *)v99 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v112 = type metadata accessor for MetricsFieldsContext();
  uint64_t v7 = *(void *)(v112 - 8);
  __chkstk_darwin(v112);
  uint64_t v111 = (char *)v99 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v110 = (char *)v99 - v10;
  uint64_t v109 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v11 = *(void *)(v109 - 8);
  __chkstk_darwin(v109);
  uint64_t v108 = (char *)v99 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v13 - 8);
  uint64_t v116 = (char *)v99 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v120 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v15 = *(void *)(v120 - 8);
  __chkstk_darwin(v120);
  uint64_t v119 = (char *)v99 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for AdamId();
  unint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  double v20 = (char *)v99 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v21);
  uint64_t v23 = (char *)v99 - v22;
  uint64_t v24 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v24 - 8);
  uint64_t v125 = (uint64_t)v99 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v26);
  uint64_t v121 = (char *)v99 - v27;
  __chkstk_darwin(v28);
  uint64_t v30 = (char *)v99 - v29;
  uint64_t v31 = sub_100082C28(&qword_10098FD18);
  __chkstk_darwin(v31 - 8);
  __chkstk_darwin(v32);
  uint64_t v128 = (char *)v99 - v34;
  uint64_t v35 = *(void *)(a2 + 64);
  uint64_t v118 = a2 + 64;
  uint64_t v36 = 1 << *(unsigned char *)(a2 + 32);
  if (v36 < 64) {
    uint64_t v37 = ~(-1 << v36);
  }
  else {
    uint64_t v37 = -1;
  }
  uint64_t v126 = (void (**)(char *, uint64_t, uint64_t))(v18 + 32);
  unint64_t v130 = v18;
  unint64_t v134 = v18 + 16;
  unint64_t v135 = v18 + 8;
  uint64_t v115 = (uint64_t (**)(uint64_t, uint64_t, uint64_t))(v15 + 48);
  uint64_t v107 = (void (**)(char *, uint64_t, uint64_t))(v15 + 32);
  uint64_t v106 = (void (**)(char *, char *, uint64_t))(v7 + 16);
  uint64_t v105 = (void (**)(char *, uint64_t))(v5 + 8);
  uint64_t v104 = (void (**)(char *, char *, uint64_t))(v7 + 32);
  uint64_t v38 = v23;
  uint64_t v39 = v33;
  unsigned int v103 = enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:);
  uint64_t v102 = (void (**)(char *, void, uint64_t))(v11 + 104);
  uint64_t v101 = (void (**)(char *, uint64_t))(v11 + 8);
  unint64_t v40 = v37 & v35;
  uint64_t v100 = (void (**)(char *, uint64_t))(v15 + 8);
  int64_t v122 = (unint64_t)(v36 + 63) >> 6;
  v99[0] = v122 - 1;
  uint64_t v124 = a2;
  uint64_t result = swift_bridgeObjectRetain();
  uint64_t v131 = 0;
  uint64_t v129 = v30;
  uint64_t v123 = v39;
  while (1)
  {
    if (v40)
    {
      uint64_t v133 = (v40 - 1) & v40;
      unint64_t v42 = __clz(__rbit64(v40)) | (v131 << 6);
      uint64_t v43 = (uint64_t)v128;
LABEL_9:
      uint64_t v44 = v124;
      (*(void (**)(uint64_t, unint64_t, uint64_t))(v130 + 16))(v39, *(void *)(v124 + 48) + *(void *)(v130 + 72) * v42, v17);
      uint64_t v45 = *(void *)(v44 + 56);
      uint64_t v46 = sub_100082C28(&qword_10098FD20);
      *(void *)(v39 + *(int *)(v46 + 48)) = *(void *)(v45 + 8 * v42);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v46 - 8) + 56))(v39, 0, 1, v46);
      swift_retain();
      goto LABEL_28;
    }
    int64_t v47 = v131 + 1;
    uint64_t v43 = (uint64_t)v128;
    if (__OFADD__(v131, 1))
    {
      __break(1u);
      goto LABEL_49;
    }
    if (v47 < v122)
    {
      unint64_t v48 = *(void *)(v118 + 8 * v47);
      if (v48) {
        goto LABEL_13;
      }
      int64_t v49 = v131 + 2;
      ++v131;
      if (v47 + 1 < v122)
      {
        unint64_t v48 = *(void *)(v118 + 8 * v49);
        if (v48) {
          goto LABEL_16;
        }
        uint64_t v131 = v47 + 1;
        if (v47 + 2 < v122)
        {
          unint64_t v48 = *(void *)(v118 + 8 * (v47 + 2));
          if (v48)
          {
            v47 += 2;
LABEL_13:
            uint64_t v133 = (v48 - 1) & v48;
            unint64_t v42 = __clz(__rbit64(v48)) + (v47 << 6);
            uint64_t v131 = v47;
            goto LABEL_9;
          }
          int64_t v49 = v47 + 3;
          uint64_t v131 = v47 + 2;
          if (v47 + 3 < v122)
          {
            unint64_t v48 = *(void *)(v118 + 8 * v49);
            if (!v48)
            {
              while (1)
              {
                int64_t v47 = v49 + 1;
                if (__OFADD__(v49, 1)) {
                  goto LABEL_50;
                }
                if (v47 >= v122)
                {
                  uint64_t v131 = v99[0];
                  goto LABEL_27;
                }
                unint64_t v48 = *(void *)(v118 + 8 * v47);
                ++v49;
                if (v48) {
                  goto LABEL_13;
                }
              }
            }
LABEL_16:
            int64_t v47 = v49;
            goto LABEL_13;
          }
        }
      }
    }
LABEL_27:
    uint64_t v50 = sub_100082C28(&qword_10098FD20);
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v50 - 8) + 56))(v39, 1, 1, v50);
    uint64_t v133 = 0;
LABEL_28:
    sub_100082CD0(v39, v43, &qword_10098FD18);
    uint64_t v51 = sub_100082C28(&qword_10098FD20);
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v51 - 8) + 48))(v43, 1, v51) == 1) {
      break;
    }
    unint64_t v52 = *(void *)(v43 + *(int *)(v51 + 48));
    (*v126)(v38, v43, v17);
    uint64_t v53 = BulkPurchaseResult.purchasedApps.getter();
    if (*(void *)(v53 + 16))
    {
      unint64_t v132 = v52;
      sub_100307298(&qword_10098B850, (void (*)(uint64_t))&type metadata accessor for AdamId);
      CGRect v54 = v38;
      uint64_t v55 = dispatch thunk of Hashable._rawHashValue(seed:)();
      uint64_t v56 = -1 << *(unsigned char *)(v53 + 32);
      unint64_t v57 = v55 & ~v56;
      if ((*(void *)(v53 + 56 + ((v57 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v57))
      {
        uint64_t v58 = ~v56;
        uint64_t v59 = *(void *)(v130 + 72);
        uint64_t v60 = *(void (**)(char *, unint64_t, uint64_t))(v130 + 16);
        while (1)
        {
          v60(v20, *(void *)(v53 + 48) + v59 * v57, v17);
          sub_100307298(&qword_10098B858, (void (*)(uint64_t))&type metadata accessor for AdamId);
          char v61 = dispatch thunk of static Equatable.== infix(_:_:)();
          (*(void (**)(char *, uint64_t))v135)(v20, v17);
          if (v61) {
            break;
          }
          unint64_t v57 = (v57 + 1) & v58;
          if (((*(void *)(v53 + 56 + ((v57 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v57) & 1) == 0)
          {
            swift_bridgeObjectRelease();
            uint64_t v30 = v129;
            goto LABEL_36;
          }
        }
        swift_bridgeObjectRelease();
        unint64_t v62 = v132;
        swift_retain();
        uint64_t v63 = (uint64_t)v116;
        uint64_t v64 = v120;
        BaseObjectGraph.optional<A>(_:)();
        int v65 = (*v115)(v63, 1, v64);
        uint64_t v30 = v129;
        if (v65 == 1)
        {
          sub_100082BCC(v63, &qword_1009875B0);
          sub_100082C28(&qword_100988220);
          sub_1000B5A40();
          swift_allocError();
          *uint64_t v66 = 1;
          Promise.__allocating_init(error:)();
        }
        else
        {
          (*v107)(v119, v63, v64);
          v136[3] = type metadata accessor for Action();
          v136[4] = sub_100307298((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
          v136[0] = v62;
          swift_retain();
          uint64_t v67 = v110;
          sub_1005365D0();
          uint64_t v68 = v112;
          (*v106)(v111, v67, v112);
          uint64_t v69 = v113;
          Dependency.init<A>(satisfying:with:)();
          dispatch thunk of BaseObjectGraph.adding(dependency:)();
          (*v105)(v69, v114);
          uint64_t v70 = v108;
          (*v104)(v108, v67, v68);
          uint64_t v71 = v109;
          (*v102)(v70, v103, v109);
          uint64_t v72 = v120;
          uint64_t v73 = v119;
          ActionDispatcher.perform(_:withMetrics:asPartOf:)();
          swift_release();
          (*v101)(v70, v71);
          _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v136);
          (*v100)(v73, v72);
        }
        swift_release();
        swift_release();
        uint64_t v38 = v54;
        uint64_t v39 = v123;
      }
      else
      {
        swift_bridgeObjectRelease();
LABEL_36:
        uint64_t v38 = v54;
        uint64_t v39 = v123;
      }
    }
    else
    {
      swift_bridgeObjectRelease();
    }
    (*(void (**)(char *, uint64_t))v135)(v38, v17);
    uint64_t result = swift_release();
    unint64_t v40 = v133;
  }
  swift_release();
  type metadata accessor for InAppMessagesManager();
  inject<A, B>(_:from:)();
  unint64_t v135 = v136[0];
  uint64_t result = BulkPurchaseResult.numberOfPurchasedArcadeGames.getter();
  if (result < 0)
  {
LABEL_49:
    __break(1u);
LABEL_50:
    __break(1u);
    return result;
  }
  uint64_t v74 = result;
  if (result)
  {
    uint64_t v75 = self;
    uint64_t v133 = 0x800000010080C650;
    unint64_t v134 = 0xD000000000000014;
    uint64_t v131 = v75;
    unint64_t v132 = 0x80000001008133A0;
    uint64_t v76 = &selRef_hasContent;
    unint64_t v130 = 0x80000001008133D0;
    uint64_t v77 = (uint64_t *)&unk_10098FAE0;
    uint64_t v78 = (uint64_t)v121;
    uint64_t v79 = (void *)v75;
    do
    {
      uint64_t v81 = v77;
      unint64_t v82 = v135;
      uint64_t v83 = *(void **)(v135 + 16);
      id v84 = objc_allocWithZone((Class)IAMCountableEvent);
      NSString v85 = String._bridgeToObjectiveC()();
      id v86 = [v84 initWithName:v85];

      [v83 receiveEvent:v86];
      id v87 = [*(id *)(*(void *)(v82 + 24) + OBJC_IVAR____TtC8AppStore28InAppMessagesContextProvider_accountStore) ams_activeiTunesAccount];
      id v88 = [v87 ams_DSID];

      id v89 = [v79 standardUserDefaults];
      NSString v90 = String._bridgeToObjectiveC()();
      uint64_t v77 = v81;
      [v89 v76[488] v88 v90];

      Date.init()();
      uint64_t v91 = type metadata accessor for Date();
      uint64_t v92 = (uint64_t)v30;
      uint64_t v93 = *(void *)(v91 - 8);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v93 + 56))(v92, 0, 1, v91);
      id v94 = [v79 standardUserDefaults];
      sub_100082B68(v92, v78, v81);
      uint64_t v95 = v125;
      sub_100082B68(v78, v125, v81);
      int v96 = (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v93 + 48))(v95, 1, v91);
      Class isa = 0;
      if (v96 != 1)
      {
        uint64_t v98 = v125;
        Class isa = Date._bridgeToObjectiveC()().super.isa;
        uint64_t v78 = (uint64_t)v121;
        (*(void (**)(uint64_t, uint64_t))(v93 + 8))(v98, v91);
      }
      NSString v80 = String._bridgeToObjectiveC()();
      uint64_t v76 = &selRef_hasContent;
      [v94 setObject:isa forKey:v80];
      swift_unknownObjectRelease();

      sub_100082BCC(v78, v77);
      uint64_t v30 = v129;
      sub_100082BCC((uint64_t)v129, v77);
      --v74;
    }
    while (v74);
  }
  return swift_release();
}

uint64_t sub_100305E88()
{
  uint64_t v0 = type metadata accessor for OSLogger();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097E350 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_100087728(v0, (uint64_t)qword_1009E1840);
  (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v4, v0);
  sub_100082C28((uint64_t *)&unk_100984540);
  type metadata accessor for LogMessage();
  *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
  LogMessage.init(stringLiteral:)();
  swift_getErrorValue();
  uint64_t v5 = v9;
  uint64_t v6 = v10;
  v11[3] = v10;
  uint64_t v7 = sub_1000808B8(v11);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v6 - 8) + 16))(v7, v5, v6);
  static LogMessage.sensitive(_:)();
  sub_100082BCC((uint64_t)v11, (uint64_t *)&unk_100982B40);
  Logger.error(_:)();
  swift_bridgeObjectRelease();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_1003060EC(uint64_t *a1, uint64_t a2)
{
  return sub_100304874(*a1, a2);
}

uint64_t sub_1003060F4(uint64_t a1, int a2, void *a3)
{
  uint64_t v7 = type metadata accessor for AdamId();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)v58 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28(&qword_100981760);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)v58 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = *(void *)(a1 + 16);
  if (!v16) {
    return swift_bridgeObjectRelease();
  }
  LODWORD(v61) = a2;
  v58[1] = v3;
  uint64_t v17 = *(int *)(v12 + 48);
  v58[0] = (*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
  uint64_t v18 = a1 + v58[0];
  uint64_t v63 = *(void *)(v13 + 72);
  uint64_t v60 = a1;
  swift_bridgeObjectRetain();
  sub_100082B68(v18, (uint64_t)v15, &qword_100981760);
  uint64_t v59 = v8;
  uint64_t v19 = *(void (**)(unint64_t, char *, uint64_t))(v8 + 32);
  uint64_t v64 = v7;
  int v65 = v19;
  v19((unint64_t)v10, v15, v7);
  uint64_t v62 = v17;
  uint64_t v20 = *(void *)&v15[v17];
  uint64_t v66 = a3;
  uint64_t v21 = *a3;
  unint64_t v23 = sub_100406FE0((uint64_t)v10);
  uint64_t v24 = *(void *)(v21 + 16);
  BOOL v25 = (v22 & 1) == 0;
  uint64_t v26 = v24 + v25;
  if (__OFADD__(v24, v25)) {
    goto LABEL_24;
  }
  char v27 = v22;
  if (*(void *)(v21 + 24) >= v26)
  {
    if (v61)
    {
      if (v22) {
        goto LABEL_10;
      }
    }
    else
    {
      sub_1000CB534();
      if (v27) {
        goto LABEL_10;
      }
    }
LABEL_13:
    uint64_t v34 = (void *)*v66;
    *(void *)(*v66 + 8 * (v23 >> 6) + 64) |= 1 << v23;
    uint64_t v35 = v34[6];
    uint64_t v61 = *(void *)(v59 + 72);
    uint64_t v36 = v64;
    v65(v35 + v61 * v23, v10, v64);
    *(void *)(v34[7] + 8 * v23) = v20;
    uint64_t v37 = v34[2];
    BOOL v38 = __OFADD__(v37, 1);
    uint64_t v39 = v37 + 1;
    if (v38)
    {
LABEL_25:
      __break(1u);
      goto LABEL_26;
    }
    uint64_t v40 = v36;
    long long v34[2] = v39;
    uint64_t v41 = v16 - 1;
    if (v16 == 1) {
      return swift_bridgeObjectRelease_n();
    }
    uint64_t v42 = v60 + v63 + v58[0];
    while (1)
    {
      sub_100082B68(v42, (uint64_t)v15, &qword_100981760);
      v65((unint64_t)v10, v15, v40);
      uint64_t v43 = *(void *)&v15[v62];
      uint64_t v44 = (void *)*v66;
      unint64_t v46 = sub_100406FE0((uint64_t)v10);
      uint64_t v47 = v44[2];
      BOOL v48 = (v45 & 1) == 0;
      uint64_t v49 = v47 + v48;
      if (__OFADD__(v47, v48)) {
        break;
      }
      char v50 = v45;
      if (v44[3] < v49)
      {
        sub_1000C6860(v49, 1);
        unint64_t v51 = sub_100406FE0((uint64_t)v10);
        if ((v50 & 1) != (v52 & 1)) {
          goto LABEL_26;
        }
        unint64_t v46 = v51;
      }
      if (v50) {
        goto LABEL_10;
      }
      uint64_t v53 = (void *)*v66;
      *(void *)(*v66 + 8 * (v46 >> 6) + 64) |= 1 << v46;
      uint64_t v40 = v64;
      v65(v53[6] + v61 * v46, v10, v64);
      *(void *)(v53[7] + 8 * v46) = v43;
      uint64_t v54 = v53[2];
      BOOL v38 = __OFADD__(v54, 1);
      uint64_t v55 = v54 + 1;
      if (v38) {
        goto LABEL_25;
      }
      v53[2] = v55;
      v42 += v63;
      if (!--v41) {
        return swift_bridgeObjectRelease_n();
      }
    }
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  sub_1000C6860(v26, v61 & 1);
  unint64_t v28 = sub_100406FE0((uint64_t)v10);
  if ((v27 & 1) == (v29 & 1))
  {
    unint64_t v23 = v28;
    if ((v27 & 1) == 0) {
      goto LABEL_13;
    }
LABEL_10:
    uint64_t v31 = swift_allocError();
    swift_willThrow();
    uint64_t v69 = v31;
    swift_errorRetain();
    sub_100082C28(&qword_100984620);
    char v32 = swift_dynamicCast();
    uint64_t v33 = v64;
    if ((v32 & 1) == 0)
    {
      swift_release();
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v59 + 8))(v10, v33);
      swift_bridgeObjectRelease();
      return swift_errorRelease();
    }
    goto LABEL_27;
  }
LABEL_26:
  KEY_TYPE_OF_DICTIONARY_VIOLATES_HASHABLE_REQUIREMENTS(_:)();
  __break(1u);
LABEL_27:
  uint64_t v67 = 0;
  unint64_t v68 = 0xE000000000000000;
  _StringGuts.grow(_:)(30);
  v56._object = (void *)0x8000000100813620;
  v56._uint64_t countAndFlagsBits = 0xD00000000000001BLL;
  String.append(_:)(v56);
  _print_unlocked<A, B>(_:_:)();
  v57._uint64_t countAndFlagsBits = 39;
  v57._object = (void *)0xE100000000000000;
  String.append(_:)(v57);
  uint64_t result = _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
  return result;
}

uint64_t sub_100306654(unint64_t a1, uint64_t a2, uint64_t a3)
{
  unint64_t v4 = v3;
  uint64_t v33 = a3;
  uint64_t v34 = a2;
  uint64_t v32 = type metadata accessor for AdamId();
  uint64_t v6 = *(void *)(v32 - 8);
  __chkstk_darwin(v32);
  uint64_t v31 = (char *)&v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28(&qword_100984ED8);
  uint64_t v29 = *(void *)(v8 - 8);
  uint64_t v30 = v8;
  __chkstk_darwin(v8);
  uint64_t v10 = (uint64_t *)((char *)&v23 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  if (a1 >> 62) {
    goto LABEL_15;
  }
  uint64_t v11 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (1)
  {
    uint64_t v12 = _swiftEmptyArrayStorage;
    if (!v11) {
      return (uint64_t)v12;
    }
    uint64_t v35 = _swiftEmptyArrayStorage;
    uint64_t result = sub_1001299B4(0, v11 & ~(v11 >> 63), 0);
    if (v11 < 0) {
      break;
    }
    unint64_t v23 = v4;
    uint64_t v12 = v35;
    unint64_t v26 = a1 & 0xC000000000000001;
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v15 = 0;
    uint64_t v24 = (void (**)(char *, uint64_t))(v6 + 8);
    uint64_t v25 = ObjectType;
    uint64_t v27 = v11;
    unint64_t v28 = a1;
    while (v11 != v15)
    {
      if (v26)
      {
        uint64_t v16 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        uint64_t v16 = *(void *)(a1 + 8 * v15 + 32);
        swift_retain();
      }
      uint64_t v17 = v31;
      OfferAction.adamId.getter();
      uint64_t v18 = dispatch thunk of AppStateController.stateMachine(forApp:)();
      uint64_t v6 = v19;
      (*v24)(v17, v32);
      swift_getObjectType();
      OfferAction.includeBetaApps.getter();
      uint64_t v20 = v30;
      dispatch thunk of AppStateMachine.currentStateIncludingBeta(_:)();
      uint64_t v21 = (uint64_t *)((char *)v10 + *(int *)(v20 + 64));
      *uint64_t v10 = v16;
      *uint64_t v21 = v18;
      v21[1] = v6;
      uint64_t v35 = v12;
      unint64_t v4 = v12[2];
      unint64_t v22 = v12[3];
      if (v4 >= v22 >> 1)
      {
        sub_1001299B4(v22 > 1, v4 + 1, 1);
        uint64_t v12 = v35;
      }
      ++v15;
      v12[2] = v4 + 1;
      sub_100082CD0((uint64_t)v10, (uint64_t)v12+ ((*(unsigned __int8 *)(v29 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 80))+ *(void *)(v29 + 72) * v4, &qword_100984ED8);
      uint64_t v11 = v27;
      a1 = v28;
      if (v27 == v15) {
        return (uint64_t)v12;
      }
    }
    __break(1u);
LABEL_15:
    swift_bridgeObjectRetain();
    uint64_t v11 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  __break(1u);
  return result;
}

void *sub_10030696C(uint64_t a1, void (*a2)(void, void, void, void), uint64_t a3)
{
  uint64_t v35 = a3;
  uint64_t v6 = sub_100082C28(&qword_10098FD28);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)v28 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for PurchaseIntent();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v36 = (char *)v28 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v32 = (char *)v28 - v13;
  uint64_t v14 = *(void *)(a1 + 16);
  if (!v14) {
    return _swiftEmptyArrayStorage;
  }
  v28[2] = v3;
  uint64_t v15 = sub_100082C28(&qword_100984ED8);
  uint64_t v16 = *(void *)(v15 - 8);
  uint64_t v17 = (void *)(a1 + ((*(unsigned __int8 *)(v16 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v16 + 80)));
  uint64_t v33 = (unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48);
  uint64_t v34 = v15;
  uint64_t v29 = v10;
  uint64_t v18 = (void (**)(char *, char *, uint64_t))(v10 + 32);
  uint64_t v19 = *(void *)(v16 + 72);
  v28[1] = a1;
  swift_bridgeObjectRetain();
  uint64_t v20 = _swiftEmptyArrayStorage;
  uint64_t v30 = v9;
  uint64_t v31 = a2;
  do
  {
    a2(*v17, (char *)v17 + *(int *)(v34 + 48), *(void *)((char *)v17 + *(int *)(v34 + 64)), *(void *)((char *)v17 + *(int *)(v34 + 64) + 8));
    if ((*v33)(v8, 1, v9) == 1)
    {
      sub_100082BCC((uint64_t)v8, &qword_10098FD28);
    }
    else
    {
      uint64_t v21 = v19;
      unint64_t v22 = *v18;
      unint64_t v23 = v32;
      (*v18)(v32, v8, v9);
      v22(v36, v23, v9);
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v20 = (void *)sub_1000AD0E0(0, v20[2] + 1, 1, (unint64_t)v20);
      }
      unint64_t v25 = v20[2];
      unint64_t v24 = v20[3];
      if (v25 >= v24 >> 1) {
        uint64_t v20 = (void *)sub_1000AD0E0(v24 > 1, v25 + 1, 1, (unint64_t)v20);
      }
      v20[2] = v25 + 1;
      unint64_t v26 = (unint64_t)v20
          + ((*(unsigned __int8 *)(v29 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v29 + 80))
          + *(void *)(v29 + 72) * v25;
      uint64_t v9 = v30;
      v22((char *)v26, v36, v30);
      a2 = v31;
      uint64_t v19 = v21;
    }
    uint64_t v17 = (void *)((char *)v17 + v19);
    --v14;
  }
  while (v14);
  swift_bridgeObjectRelease();
  return v20;
}

void *sub_100306CA4(uint64_t a1)
{
  uint64_t v3 = type metadata accessor for LegacyAppState();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = &v28[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v7 = sub_100082C28(&qword_100984ED8);
  __chkstk_darwin(v7);
  unint64_t v46 = &v28[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v9);
  uint64_t v12 = &v28[-v11];
  uint64_t result = _swiftEmptyArrayStorage;
  uint64_t v49 = _swiftEmptyArrayStorage;
  uint64_t v14 = *(void *)(a1 + 16);
  if (v14)
  {
    uint64_t v34 = v1;
    uint64_t v15 = *(void *)(v10 + 72);
    unint64_t v41 = (*(unsigned __int8 *)(v10 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v10 + 80);
    uint64_t v16 = a1 + v41;
    uint64_t v17 = (uint64_t (**)(unsigned char *, uint64_t))(v4 + 88);
    int v48 = enum case for LegacyAppState.waiting(_:);
    int v45 = enum case for LegacyAppState.purchased(_:);
    int v40 = enum case for LegacyAppState.updatable(_:);
    int v39 = enum case for LegacyAppState.downloadable(_:);
    int v36 = enum case for LegacyAppState.paused(_:);
    int v35 = enum case for LegacyAppState.downloading(_:);
    int v33 = enum case for LegacyAppState.installing(_:);
    int v32 = enum case for LegacyAppState.openable(_:);
    int v31 = enum case for LegacyAppState.buyable(_:);
    int v30 = enum case for LegacyAppState.installed(_:);
    uint64_t v37 = (void (**)(unsigned char *, uint64_t))(v4 + 8);
    uint64_t v47 = (void (**)(unsigned char *, uint64_t))(v4 + 96);
    uint64_t v18 = (void (**)(unsigned char *, void, uint64_t))(v4 + 16);
    int v29 = enum case for LegacyAppState.unknown(_:);
    int v38 = enum case for PurchaseType.preorder(_:);
    uint64_t v42 = v7;
    uint64_t v43 = v18;
    uint64_t v44 = v15;
    while (1)
    {
      sub_100082B68(v16, (uint64_t)v12, &qword_100984ED8);
      (*v18)(v6, &v12[*(int *)(v7 + 48)], v3);
      int v20 = (*v17)(v6, v3);
      if (v20 == v48) {
        break;
      }
      if (v20 == v45)
      {
        (*v47)(v6, v3);
        uint64_t v21 = type metadata accessor for PurchaseType();
        uint64_t v22 = *(void *)(v21 - 8);
        int v23 = (*(uint64_t (**)(unsigned char *, uint64_t))(v22 + 88))(v6, v21);
        if (v23 == v38) {
          goto LABEL_18;
        }
        (*(void (**)(unsigned char *, uint64_t))(v22 + 8))(v6, v21);
LABEL_11:
        uint64_t v18 = v43;
        uint64_t v15 = v44;
        goto LABEL_5;
      }
      if (v20 == v40 || v20 == v39)
      {
        (*v37)(v6, v3);
LABEL_18:
        sub_100082CD0((uint64_t)v12, (uint64_t)v46, &qword_100984ED8);
        unint64_t v25 = v49;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_1001299B4(0, v25[2] + 1, 1);
          unint64_t v25 = v49;
        }
        unint64_t v27 = v25[2];
        unint64_t v26 = v25[3];
        if (v27 >= v26 >> 1)
        {
          sub_1001299B4(v26 > 1, v27 + 1, 1);
          unint64_t v25 = v49;
        }
        v25[2] = v27 + 1;
        uint64_t v15 = v44;
        sub_100082CD0((uint64_t)v46, (uint64_t)v25 + v41 + v27 * v44, &qword_100984ED8);
        uint64_t v7 = v42;
        uint64_t v18 = v43;
        goto LABEL_6;
      }
      if (v20 == v36 || v20 == v35 || v20 == v33)
      {
        (*v47)(v6, v3);
        uint64_t v19 = type metadata accessor for LegacyAppState.AppInstallationDetails();
        goto LABEL_4;
      }
      if (v20 == v32)
      {
        (*v47)(v6, v3);

        uint64_t v19 = type metadata accessor for OpenableDestination();
        goto LABEL_4;
      }
      if (v20 == v31) {
        goto LABEL_18;
      }
      uint64_t v18 = v43;
      uint64_t v15 = v44;
      if (v20 != v30)
      {
        if (v20 == v29) {
          goto LABEL_18;
        }
        (*v37)(v6, v3);
        goto LABEL_11;
      }
LABEL_5:
      sub_100082BCC((uint64_t)v12, &qword_100984ED8);
LABEL_6:
      v16 += v15;
      if (!--v14) {
        return v49;
      }
    }
    (*v47)(v6, v3);
    uint64_t v19 = type metadata accessor for InstallationType();
LABEL_4:
    (*(void (**)(unsigned char *, uint64_t))(*(void *)(v19 - 8) + 8))(v6, v19);
    goto LABEL_5;
  }
  return result;
}

uint64_t sub_100307248(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_100304DF8(a1, a2, a3, a4, *(void *)(v4 + 16));
}

uint64_t sub_100307250()
{
  swift_bridgeObjectRelease();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100307290(uint64_t a1)
{
  return sub_100304EAC(a1, *(void *)(v1 + 16), *(void **)(v1 + 24));
}

uint64_t sub_100307298(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_1003072E0()
{
  return Artwork.Crop.preferredContentMode.getter();
}

void sub_100307304(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v8 - 8);
  uint64_t v9 = type metadata accessor for Artwork.Crop();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v18 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1)
  {
    v18[1] = a2;
    swift_retain();
    Artwork.crop.getter();
    uint64_t v13 = (*(uint64_t (**)(char *, uint64_t, uint64_t))(a4 + 32))(v12, a3, a4);
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
    (*(void (**)(uint64_t, uint64_t))(a4 + 24))(a3, a4);
    v18[0] = v13;
    Artwork.config(_:mode:prefersLayeredImage:)();
    uint64_t v14 = *(uint64_t (**)(uint64_t, uint64_t))(a4 + 16);
    uint64_t v15 = (void *)v14(a3, a4);
    Artwork.style.getter();
    ArtworkView.style.setter();
    [v15 setContentMode:Artwork.contentMode.getter()];
    ArtworkLoaderConfig.size.getter();
    ArtworkView.imageSize.setter();
    if (!Artwork.backgroundColor.getter())
    {
      sub_10008E8A0();
      static UIColor.placeholderBackground.getter();
    }
    ArtworkView.backgroundColor.setter();

    uint64_t v16 = (void *)v14(a3, a4);
    [v16 setContentMode:v18[0]];

    uint64_t v17 = (void *)v14(a3, a4);
    type metadata accessor for ArtworkView();
    sub_100112948();
    ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
    swift_release();
    swift_release();
  }
}

void sub_1003075C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v6 = *(uint64_t (**)(uint64_t, uint64_t))(a4 + 16);
  uint64_t v7 = (void *)v6(a3, a4);
  ArtworkView.isImageHidden.setter();

  id v8 = (id)v6(a3, a4);
  type metadata accessor for ArtworkView();
  sub_100112948();
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

void *sub_100307698(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = _swiftEmptyArrayStorage;
  if (v1)
  {
    int v20 = _swiftEmptyArrayStorage;
    sub_1001295A0(0, v1, 0);
    uint64_t v4 = a1 + 32;
    uint64_t v2 = _swiftEmptyArrayStorage;
    do
    {
      sub_100082C6C(v4, (uint64_t)v16);
      sub_100082C28((uint64_t *)&unk_100984D40);
      sub_100082C28((uint64_t *)&unk_100984D30);
      swift_dynamicCast();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_1001295A0(0, v2[2] + 1, 1);
        uint64_t v2 = v20;
      }
      unint64_t v6 = v2[2];
      unint64_t v5 = v2[3];
      if (v6 >= v5 >> 1) {
        sub_1001295A0(v5 > 1, v6 + 1, 1);
      }
      uint64_t v7 = v18;
      uint64_t v8 = v19;
      uint64_t v9 = sub_100071F4C((uint64_t)v17, v18);
      __n128 v10 = __chkstk_darwin(v9);
      uint64_t v12 = &v16[-((v11 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
      (*(void (**)(char *, __n128))(v13 + 16))(v12, v10);
      sub_10012C20C(v6, (uint64_t)v12, (uint64_t *)&v20, v7, v8);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
      uint64_t v2 = v20;
      v4 += 40;
      --v1;
    }
    while (v1);
  }
  return v2;
}

void *sub_100307880(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for VerticalSpaceMeasurable();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  unint64_t v5 = (char *)&v17 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v6 = *(void *)(a1 + 16);
  uint64_t v7 = _swiftEmptyArrayStorage;
  if (v6)
  {
    uint64_t v22 = _swiftEmptyArrayStorage;
    sub_1001295F0(0, v6, 0);
    uint64_t v7 = v22;
    __n128 v10 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
    uint64_t v8 = v3 + 16;
    uint64_t v9 = v10;
    uint64_t v11 = a1 + ((*(unsigned __int8 *)(v8 + 64) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 64));
    uint64_t v18 = *(void *)(v8 + 56);
    do
    {
      v9(v5, v11, v2);
      uint64_t v22 = v7;
      unint64_t v13 = v7[2];
      unint64_t v12 = v7[3];
      if (v13 >= v12 >> 1) {
        sub_1001295F0(v12 > 1, v13 + 1, 1);
      }
      uint64_t v20 = v2;
      uint64_t v21 = &protocol witness table for VerticalSpaceMeasurable;
      uint64_t v14 = sub_1000808B8((uint64_t *)&v19);
      v9((char *)v14, (uint64_t)v5, v2);
      uint64_t v15 = v22;
      void v22[2] = v13 + 1;
      sub_100081DD4(&v19, (uint64_t)&v15[5 * v13 + 4]);
      (*(void (**)(char *, uint64_t))(v8 - 8))(v5, v2);
      uint64_t v7 = v22;
      v11 += v18;
      --v6;
    }
    while (v6);
  }
  return v7;
}

uint64_t sub_100307A50(unint64_t a1)
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v2 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  uint64_t v3 = _swiftEmptyArrayStorage;
  if (!v2) {
    return (uint64_t)v3;
  }
  unint64_t v13 = _swiftEmptyArrayStorage;
  uint64_t result = sub_1000885CC(0, v2 & ~(v2 >> 63), 0);
  if ((v2 & 0x8000000000000000) == 0)
  {
    if ((a1 & 0xC000000000000001) != 0)
    {
      for (uint64_t i = 0; i != v2; ++i)
      {
        specialized _ArrayBuffer._getElementSlowPath(_:)();
        type metadata accessor for CGColor(0);
        swift_dynamicCast();
        uint64_t v3 = v13;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_1000885CC(0, v3[2] + 1, 1);
          uint64_t v3 = v13;
        }
        unint64_t v7 = v3[2];
        unint64_t v6 = v3[3];
        if (v7 >= v6 >> 1)
        {
          sub_1000885CC(v6 > 1, v7 + 1, 1);
          uint64_t v3 = v13;
        }
        v3[2] = v7 + 1;
        sub_10008A888(v12, &v3[4 * v7 + 4]);
      }
    }
    else
    {
      uint64_t v8 = (id *)(a1 + 32);
      type metadata accessor for CGColor(0);
      do
      {
        id v9 = *v8;
        swift_dynamicCast();
        uint64_t v3 = v13;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_1000885CC(0, v3[2] + 1, 1);
          uint64_t v3 = v13;
        }
        unint64_t v11 = v3[2];
        unint64_t v10 = v3[3];
        if (v11 >= v10 >> 1)
        {
          sub_1000885CC(v10 > 1, v11 + 1, 1);
          uint64_t v3 = v13;
        }
        v3[2] = v11 + 1;
        sub_10008A888(v12, &v3[4 * v11 + 4]);
        ++v8;
        --v2;
      }
      while (v2);
    }
    return (uint64_t)v3;
  }
  __break(1u);
  return result;
}

void *sub_100307C84(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = _swiftEmptyArrayStorage;
  if (v1)
  {
    id v9 = _swiftEmptyArrayStorage;
    sub_1000885CC(0, v1, 0);
    uint64_t v4 = a1 + 32;
    uint64_t v2 = _swiftEmptyArrayStorage;
    do
    {
      swift_bridgeObjectRetain();
      sub_100082C28((uint64_t *)&unk_1009838D0);
      swift_dynamicCast();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_1000885CC(0, v2[2] + 1, 1);
        uint64_t v2 = v9;
      }
      unint64_t v6 = v2[2];
      unint64_t v5 = v2[3];
      if (v6 >= v5 >> 1)
      {
        sub_1000885CC(v5 > 1, v6 + 1, 1);
        uint64_t v2 = v9;
      }
      v2[2] = v6 + 1;
      sub_10008A888(&v8, &v2[4 * v6 + 4]);
      v4 += 8;
      --v1;
    }
    while (v1);
  }
  return v2;
}

uint64_t sub_100307DB4(unint64_t a1)
{
  return sub_100308C90(a1, (uint64_t (*)(void))&type metadata accessor for TodayCard, (unint64_t *)&qword_10098B840, (void (*)(uint64_t))&type metadata accessor for TodayCard);
}

uint64_t sub_100307DEC(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, type metadata accessor for TodayCardChinLockupListIconView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

double *sub_100307E34(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  if (v1)
  {
    sub_10012985C(0, v1, 0);
    uint64_t v3 = a1 + 32;
    do
    {
      v3 += 8;
      swift_dynamicCast();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        sub_10012985C(0, *(void *)&_swiftEmptyArrayStorage[2] + 1, 1);
      }
      double v5 = _swiftEmptyArrayStorage[2];
      double v4 = _swiftEmptyArrayStorage[3];
      if (*(void *)&v5 >= *(void *)&v4 >> 1) {
        sub_10012985C(*(void *)&v4 > 1uLL, *(void *)&v5 + 1, 1);
      }
      *(void *)&_swiftEmptyArrayStorage[2] = *(void *)&v5 + 1;
      unint64_t v6 = &_swiftEmptyArrayStorage[5 * *(void *)&v5];
      *((void *)v6 + 8) = v10;
      *((_OWORD *)v6 + 2) = v8;
      *((_OWORD *)v6 + 3) = v9;
      --v1;
    }
    while (v1);
  }
  return _swiftEmptyArrayStorage;
}

uint64_t sub_100307F58(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))&type metadata accessor for ArtworkView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100307FA0(unint64_t a1, void (*a2)(BOOL, unint64_t, uint64_t), uint64_t (*a3)(void), uint64_t a4, void (*a5)(void *, void *))
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v10 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  unint64_t v11 = _swiftEmptyArrayStorage;
  if (!v10) {
    return (uint64_t)v11;
  }
  unint64_t v26 = _swiftEmptyArrayStorage;
  uint64_t result = ((uint64_t (*)(void, uint64_t, void))a2)(0, v10 & ~(v10 >> 63), 0);
  if ((v10 & 0x8000000000000000) == 0)
  {
    uint64_t v22 = a2;
    unint64_t v11 = v26;
    if ((a1 & 0xC000000000000001) != 0)
    {
      uint64_t v13 = 0;
      do
      {
        uint64_t v14 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        unint64_t v26 = v11;
        unint64_t v16 = v11[2];
        unint64_t v15 = v11[3];
        if (v16 >= v15 >> 1)
        {
          v22(v15 > 1, v16 + 1, 1);
          unint64_t v11 = v26;
        }
        ++v13;
        uint64_t v24 = a3(0);
        uint64_t v25 = a4;
        v23[0] = v14;
        v11[2] = v16 + 1;
        a5(v23, &v11[5 * v16 + 4]);
      }
      while (v10 != v13);
    }
    else
    {
      uint64_t v17 = (void **)(a1 + 32);
      do
      {
        uint64_t v18 = *v17;
        unint64_t v26 = v11;
        unint64_t v19 = v11[2];
        unint64_t v20 = v11[3];
        id v21 = v18;
        if (v19 >= v20 >> 1)
        {
          v22(v20 > 1, v19 + 1, 1);
          unint64_t v11 = v26;
        }
        uint64_t v24 = a3(0);
        uint64_t v25 = a4;
        v23[0] = v21;
        v11[2] = v19 + 1;
        a5(v23, &v11[5 * v19 + 4]);
        ++v17;
        --v10;
      }
      while (v10);
    }
    return (uint64_t)v11;
  }
  __break(1u);
  return result;
}

uint64_t sub_100308194(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))_s8ItemViewCMa, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_1003081DC(unint64_t a1)
{
  return sub_100308C90(a1, (uint64_t (*)(void))&type metadata accessor for Lockup, (unint64_t *)&qword_100993740, (void (*)(uint64_t))&type metadata accessor for Lockup);
}

uint64_t sub_100308214(unint64_t a1)
{
  return sub_100308228(a1, &qword_10098FD38);
}

uint64_t sub_100308228(unint64_t a1, unint64_t *a2)
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v4 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v4 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  double v5 = _swiftEmptyArrayStorage;
  if (!v4) {
    return (uint64_t)v5;
  }
  unint64_t v15 = _swiftEmptyArrayStorage;
  uint64_t result = sub_1000885CC(0, v4 & ~(v4 >> 63), 0);
  if ((v4 & 0x8000000000000000) == 0)
  {
    if ((a1 & 0xC000000000000001) != 0)
    {
      for (uint64_t i = 0; i != v4; ++i)
      {
        specialized _ArrayBuffer._getElementSlowPath(_:)();
        sub_100084CF0(0, a2);
        swift_dynamicCast();
        double v5 = v15;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_1000885CC(0, v5[2] + 1, 1);
          double v5 = v15;
        }
        unint64_t v9 = v5[2];
        unint64_t v8 = v5[3];
        if (v9 >= v8 >> 1)
        {
          sub_1000885CC(v8 > 1, v9 + 1, 1);
          double v5 = v15;
        }
        v5[2] = v9 + 1;
        sub_10008A888(v14, &v5[4 * v9 + 4]);
      }
    }
    else
    {
      uint64_t v10 = (id *)(a1 + 32);
      sub_100084CF0(0, a2);
      do
      {
        id v11 = *v10;
        swift_dynamicCast();
        double v5 = v15;
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
        {
          sub_1000885CC(0, v5[2] + 1, 1);
          double v5 = v15;
        }
        unint64_t v13 = v5[2];
        unint64_t v12 = v5[3];
        if (v13 >= v12 >> 1)
        {
          sub_1000885CC(v12 > 1, v13 + 1, 1);
          double v5 = v15;
        }
        v5[2] = v13 + 1;
        sub_10008A888(v14, &v5[4 * v13 + 4]);
        ++v10;
        --v4;
      }
      while (v4);
    }
    return (uint64_t)v5;
  }
  __break(1u);
  return result;
}

uint64_t sub_10030847C(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_100129928, (uint64_t (*)(void))&type metadata accessor for DynamicTypeLabel, (uint64_t)&protocol witness table for UILabel, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_1003084C4(unint64_t a1)
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v2 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  uint64_t v3 = _swiftEmptyArrayStorage;
  if (!v2) {
    return (uint64_t)v3;
  }
  unint64_t v16 = _swiftEmptyArrayStorage;
  uint64_t result = sub_1001295A0(0, v2 & ~(v2 >> 63), 0);
  if ((v2 & 0x8000000000000000) == 0)
  {
    uint64_t v3 = v16;
    if ((a1 & 0xC000000000000001) != 0)
    {
      uint64_t v5 = 0;
      do
      {
        uint64_t v6 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        unint64_t v16 = v3;
        unint64_t v8 = v3[2];
        unint64_t v7 = v3[3];
        if (v8 >= v7 >> 1)
        {
          sub_1001295A0(v7 > 1, v8 + 1, 1);
          uint64_t v3 = v16;
        }
        ++v5;
        uint64_t v14 = type metadata accessor for LayoutViewPlaceholder();
        unint64_t v15 = &protocol witness table for LayoutViewPlaceholder;
        *(void *)&long long v13 = v6;
        v3[2] = v8 + 1;
        sub_100081DD4(&v13, (uint64_t)&v3[5 * v8 + 4]);
      }
      while (v2 != v5);
    }
    else
    {
      unint64_t v9 = (uint64_t *)(a1 + 32);
      do
      {
        uint64_t v10 = *v9;
        unint64_t v16 = v3;
        unint64_t v11 = v3[2];
        unint64_t v12 = v3[3];
        swift_retain();
        if (v11 >= v12 >> 1)
        {
          sub_1001295A0(v12 > 1, v11 + 1, 1);
          uint64_t v3 = v16;
        }
        uint64_t v14 = type metadata accessor for LayoutViewPlaceholder();
        unint64_t v15 = &protocol witness table for LayoutViewPlaceholder;
        *(void *)&long long v13 = v10;
        v3[2] = v11 + 1;
        sub_100081DD4(&v13, (uint64_t)&v3[5 * v11 + 4]);
        ++v9;
        --v2;
      }
      while (v2);
    }
    return (uint64_t)v3;
  }
  __break(1u);
  return result;
}

void *sub_100308690(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  if (v1)
  {
    sub_100129958(0, v1, 0);
    uint64_t v3 = a1 + 40;
    do
    {
      swift_bridgeObjectRetain_n();
      sub_100082C28(&qword_100981720);
      swift_dynamicCast();
      swift_bridgeObjectRelease();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        sub_100129958(0, _swiftEmptyArrayStorage[2] + 1, 1);
      }
      unint64_t v5 = _swiftEmptyArrayStorage[2];
      unint64_t v4 = _swiftEmptyArrayStorage[3];
      if (v5 >= v4 >> 1) {
        sub_100129958(v4 > 1, v5 + 1, 1);
      }
      v3 += 16;
      _swiftEmptyArrayStorage[2] = v5 + 1;
      uint64_t v6 = &_swiftEmptyArrayStorage[2 * v5];
      v6[4] = v8;
      v6[5] = v9;
      --v1;
    }
    while (v1);
  }
  return _swiftEmptyArrayStorage;
}

uint64_t sub_1003087D0(unint64_t a1)
{
  return sub_1003087E4(a1, (unint64_t *)&qword_1009828E0);
}

uint64_t sub_1003087E4(unint64_t a1, unint64_t *a2)
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v4 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v4 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  unint64_t v5 = _swiftEmptyArrayStorage;
  if (!v4) {
    return (uint64_t)v5;
  }
  unint64_t v19 = _swiftEmptyArrayStorage;
  uint64_t result = sub_1001295A0(0, v4 & ~(v4 >> 63), 0);
  if ((v4 & 0x8000000000000000) == 0)
  {
    unint64_t v5 = v19;
    if ((a1 & 0xC000000000000001) != 0)
    {
      uint64_t v7 = 0;
      do
      {
        uint64_t v8 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        unint64_t v19 = v5;
        unint64_t v10 = v5[2];
        unint64_t v9 = v5[3];
        if (v10 >= v9 >> 1)
        {
          sub_1001295A0(v9 > 1, v10 + 1, 1);
          unint64_t v5 = v19;
        }
        ++v7;
        uint64_t v17 = sub_100084CF0(0, a2);
        uint64_t v18 = &protocol witness table for UIView;
        *(void *)&long long v16 = v8;
        v5[2] = v10 + 1;
        sub_100081DD4(&v16, (uint64_t)&v5[5 * v10 + 4]);
      }
      while (v4 != v7);
    }
    else
    {
      unint64_t v11 = (void **)(a1 + 32);
      do
      {
        unint64_t v12 = *v11;
        unint64_t v19 = v5;
        unint64_t v14 = v5[2];
        unint64_t v13 = v5[3];
        id v15 = v12;
        if (v14 >= v13 >> 1)
        {
          sub_1001295A0(v13 > 1, v14 + 1, 1);
          unint64_t v5 = v19;
        }
        uint64_t v17 = sub_100084CF0(0, a2);
        uint64_t v18 = &protocol witness table for UIView;
        *(void *)&long long v16 = v15;
        v5[2] = v14 + 1;
        sub_100081DD4(&v16, (uint64_t)&v5[5 * v14 + 4]);
        ++v11;
        --v4;
      }
      while (v4);
    }
    return (uint64_t)v5;
  }
  __break(1u);
  return result;
}

uint64_t sub_1003089C8(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for ArcadeWelcomeItemView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100308A10(unint64_t a1)
{
  if (a1 >> 62)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100982B30);
    swift_bridgeObjectRetain();
    uint64_t v3 = _bridgeCocoaArray<A>(_:)();
    swift_bridgeObjectRelease();
    return v3;
  }
  else
  {
    swift_bridgeObjectRetain();
    dispatch thunk of __ContiguousArrayStorageBase.staticElementType.getter();
    sub_100084CF0(0, (unint64_t *)&qword_100982B30);
    return a1;
  }
}

void *sub_100308ABC(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  uint64_t v2 = _swiftEmptyArrayStorage;
  if (v1)
  {
    unint64_t v10 = _swiftEmptyArrayStorage;
    sub_1000916F4(0, v1, 0);
    uint64_t v4 = (id *)(a1 + 32);
    uint64_t v2 = _swiftEmptyArrayStorage;
    do
    {
      id v5 = *v4;
      sub_100082C28(&qword_100981600);
      sub_100082C28(&qword_100981708);
      swift_dynamicCast();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_1000916F4(0, v2[2] + 1, 1);
        uint64_t v2 = v10;
      }
      unint64_t v7 = v2[2];
      unint64_t v6 = v2[3];
      if (v7 >= v6 >> 1)
      {
        sub_1000916F4(v6 > 1, v7 + 1, 1);
        uint64_t v2 = v10;
      }
      v2[2] = v7 + 1;
      sub_100081DD4(&v9, (uint64_t)&v2[5 * v7 + 4]);
      v4 += 2;
      --v1;
    }
    while (v1);
  }
  return v2;
}

uint64_t sub_100308BFC(unint64_t a1)
{
  return sub_100308228(a1, (unint64_t *)&qword_1009828E0);
}

uint64_t sub_100308C10(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for PrivacyCategoryView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100308C58(unint64_t a1)
{
  return sub_100308C90(a1, (uint64_t (*)(void))&type metadata accessor for GuidedSearchToken, &qword_10098FD40, (void (*)(uint64_t))&type metadata accessor for GuidedSearchToken);
}

uint64_t sub_100308C90(unint64_t a1, uint64_t (*a2)(void), unint64_t *a3, void (*a4)(uint64_t))
{
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v8 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v8 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  long long v9 = _swiftEmptyArrayStorage;
  if (!v8) {
    return (uint64_t)v9;
  }
  uint64_t v22 = _swiftEmptyArrayStorage;
  uint64_t result = sub_10012980C(0, v8 & ~(v8 >> 63), 0);
  if ((v8 & 0x8000000000000000) == 0)
  {
    long long v9 = v22;
    if ((a1 & 0xC000000000000001) != 0)
    {
      uint64_t v11 = 0;
      do
      {
        uint64_t v12 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        uint64_t v22 = v9;
        unint64_t v14 = v9[2];
        unint64_t v13 = v9[3];
        if (v14 >= v13 >> 1)
        {
          sub_10012980C(v13 > 1, v14 + 1, 1);
          long long v9 = v22;
        }
        ++v11;
        uint64_t v20 = a2(0);
        uint64_t v21 = sub_100098D6C(a3, a4);
        *(void *)&long long v19 = v12;
        v9[2] = v14 + 1;
        sub_100081DD4(&v19, (uint64_t)&v9[5 * v14 + 4]);
      }
      while (v8 != v11);
    }
    else
    {
      id v15 = (uint64_t *)(a1 + 32);
      do
      {
        uint64_t v16 = *v15;
        uint64_t v22 = v9;
        unint64_t v18 = v9[2];
        unint64_t v17 = v9[3];
        swift_retain();
        if (v18 >= v17 >> 1)
        {
          sub_10012980C(v17 > 1, v18 + 1, 1);
          long long v9 = v22;
        }
        uint64_t v20 = a2(0);
        uint64_t v21 = sub_100098D6C(a3, a4);
        *(void *)&long long v19 = v16;
        v9[2] = v18 + 1;
        sub_100081DD4(&v19, (uint64_t)&v9[5 * v18 + 4]);
        ++v15;
        --v8;
      }
      while (v8);
    }
    return (uint64_t)v9;
  }
  __break(1u);
  return result;
}

uint64_t sub_100308E8C(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for DynamicTypeLinkedLabel, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100308ED4(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for AnnotationImagesView.AnnotationImageView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100308F1C(unint64_t a1)
{
  return sub_100308228(a1, (unint64_t *)&qword_100983990);
}

uint64_t sub_100308F30(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for RatingView, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

uint64_t sub_100308F78(unint64_t a1)
{
  return sub_1003087E4(a1, &qword_10099FD30);
}

double *sub_100308F8C(uint64_t a1)
{
  uint64_t v16 = sub_100082C28(&qword_100981778);
  uint64_t v2 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v4 = (char *)&v16 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28(&qword_100984EE8);
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v16 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  int64_t v9 = *(void *)(a1 + 16);
  unint64_t v10 = _swiftEmptyArrayStorage;
  if (v9)
  {
    unint64_t v17 = _swiftEmptyArrayStorage;
    sub_100129ACC(0, v9, 0);
    uint64_t v11 = a1 + ((*(unsigned __int8 *)(v2 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v2 + 80));
    uint64_t v12 = *(void *)(v2 + 72);
    unint64_t v10 = v17;
    do
    {
      sub_100309350(v11, (uint64_t)v4);
      swift_dynamicCast();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
      {
        sub_100129ACC(0, *((void *)v10 + 2) + 1, 1);
        unint64_t v10 = v17;
      }
      unint64_t v14 = *((void *)v10 + 2);
      unint64_t v13 = *((void *)v10 + 3);
      if (v14 >= v13 >> 1)
      {
        sub_100129ACC(v13 > 1, v14 + 1, 1);
        unint64_t v10 = v17;
      }
      *((void *)v10 + 2) = v14 + 1;
      sub_1003093B8((uint64_t)v8, (uint64_t)v10+ ((*(unsigned __int8 *)(v6 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v6 + 80))+ *(void *)(v6 + 72) * v14);
      v11 += v12;
      --v9;
    }
    while (v9);
  }
  return v10;
}

uint64_t sub_1003091C0(unint64_t a1)
{
  return sub_100307FA0(a1, (void (*)(BOOL, unint64_t, uint64_t))sub_1001295A0, (uint64_t (*)(void))type metadata accessor for RoundedTitledButton, (uint64_t)&protocol witness table for UIView, (void (*)(void *, void *))sub_100081DD4);
}

id UITabBarController.tabItems.getter()
{
  id v1 = [v0 tabBar];
  id v2 = [v1 items];

  if (v2)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100987288);
    unint64_t v3 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    id v2 = (id)sub_1000474D4(v3);
    swift_bridgeObjectRelease();
  }
  return v2;
}

uint64_t UITabBarItem.tab.getter()
{
  [v0 tag];

  return NavigationTab.init(intValue:)();
}

uint64_t UITabBarItem.badge.getter()
{
  id v1 = [v0 badgeValue];
  if (!v1) {
    return 0;
  }
  id v2 = v1;
  uint64_t v3 = static String._unconditionallyBridgeFromObjectiveC(_:)();

  return v3;
}

uint64_t sub_100309350(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_100981778);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_1003093B8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_100984EE8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_100309420()
{
  if (qword_10097FC20 != -1) {
    swift_once();
  }
  uint64_t v0 = type metadata accessor for StaticDimension();
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_1009E5D60);
  qword_1009E2440 = v0;
  unk_1009E2448 = &protocol witness table for StaticDimension;
  id v2 = sub_1000808B8(qword_1009E2428);
  uint64_t v3 = *(uint64_t (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v2, v1, v0);
}

char *sub_1003094DC(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView;
  id v10 = objc_allocWithZone((Class)type metadata accessor for SmallSearchLockupView());
  uint64_t v11 = v4;
  *(void *)&v4[v9] = [v10 initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v12 = OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_bundleView;
  *(void *)&v11[v12] = [objc_allocWithZone((Class)type metadata accessor for BundleView()) initWithFrame:0.0, 0.0, 0.0, 0.0];

  v19.receiver = v11;
  v19.super_class = (Class)type metadata accessor for BundleSearchResultContentView();
  id v13 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  unint64_t v17 = (char *)v13;
  [v17 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [v17 addSubview:*(void *)&v17[OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView]];
  [v17 addSubview:*(void *)&v17[OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_bundleView]];

  return v17;
}

id sub_10030973C()
{
  v15.receiver = v0;
  v15.super_class = (Class)type metadata accessor for BundleSearchResultContentView();
  [super layoutSubviews];
  uint64_t v1 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView];
  LayoutMarginsAware<>.layoutFrame.getter();
  double v2 = sub_100121C54();
  double v4 = v3;
  LayoutMarginsAware<>.layoutFrame.getter();
  double MinX = CGRectGetMinX(v16);
  LayoutMarginsAware<>.layoutFrame.getter();
  double MinY = CGRectGetMinY(v17);
  [v1 setFrame:MinX, MinY, v2, v4];
  double v7 = 0.0;
  if ((MetadataRibbonView.hasContent.getter() & 1) == 0 && (sub_1000BC5F8() & 1) == 0)
  {
    if (qword_10097E950 != -1) {
      swift_once();
    }
    sub_100081D90(qword_1009E2428, qword_1009E2440);
    id v8 = [v0 traitCollection];
    AnyDimension.value(with:)();
    double v7 = v9;
  }
  LayoutMarginsAware<>.layoutFrame.getter();
  double Height = CGRectGetHeight(v18);
  v19.origin.x = MinX;
  v19.origin.y = MinY;
  v19.size.width = v2;
  v19.size.height = v4;
  double v11 = Height - (v7 + CGRectGetHeight(v19));
  LayoutMarginsAware<>.layoutFrame.getter();
  double v12 = CGRectGetMinX(v20);
  v21.origin.x = MinX;
  v21.origin.y = MinY;
  v21.size.width = v2;
  v21.size.height = v4;
  double v13 = v7 + CGRectGetMaxY(v21);
  LayoutMarginsAware<>.layoutFrame.getter();
  return [*(id *)&v0[OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_bundleView] setFrame:v12, v13, CGRectGetWidth(v22), v11];
}

uint64_t sub_1003099A8(uint64_t a1)
{
  double v2 = v1;
  uint64_t v4 = sub_100082C28(&qword_100984EA0);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)v13 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for BundleSearchResult();
  sub_10030A84C(&qword_10098E5C0, 255, (void (*)(uint64_t))&type metadata accessor for BundleSearchResult);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v13[1])
  {
    uint64_t v8 = BundleSearchResult.lockup.getter();
    uint64_t v9 = type metadata accessor for ItemLayoutContext();
    uint64_t v10 = *(void *)(v9 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v6, a1, v9);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v10 + 56))(v6, 0, 1, v9);
    type metadata accessor for ObjectGraph();
    uint64_t v11 = swift_dynamicCastClassUnconditional();
    sub_1002DF510(v8, (uint64_t)v6, v11);
    swift_release();
    sub_100082BCC((uint64_t)v6, &qword_100984EA0);
    BundleSearchResult.lockup.getter();
    double v12 = (void *)Lockup.children.getter();
    swift_release();
    if (!v12) {
      double v12 = _swiftEmptyArrayStorage;
    }
    sub_10027B6F4((unint64_t)v12);
    swift_bridgeObjectRelease();
    [v2 setNeedsLayout];
    return swift_release();
  }
  return result;
}

id sub_100309BE4()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for BundleSearchResultContentView();
  return [super dealloc];
}

uint64_t type metadata accessor for BundleSearchResultContentView()
{
  return self;
}

void sub_100309C88(uint64_t a1, uint64_t a2, Swift::Bool a3)
{
}

uint64_t sub_100309CDC(uint64_t a1, uint64_t a2)
{
  return sub_10030A84C(&qword_10098FD88, a2, (void (*)(uint64_t))type metadata accessor for BundleSearchResultContentView);
}

uint64_t sub_100309D24(uint64_t a1, uint64_t a2)
{
  *(void *)(a1 + 24) = sub_10030A84C(&qword_10098FD90, a2, (void (*)(uint64_t))type metadata accessor for BundleSearchResultContentView);
  uint64_t result = sub_10030A84C(&qword_10098FD98, v3, (void (*)(uint64_t))type metadata accessor for BundleSearchResultContentView);
  *(void *)(a1 + 32) = result;
  return result;
}

uint64_t sub_100309DA8(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for Artwork.Style();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v37 = (char *)&v30 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v5 - 8);
  double v7 = (char *)&v30 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for ShelfLayoutContext();
  __chkstk_darwin(v8 - 8);
  uint64_t v9 = type metadata accessor for PageGrid();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  double v12 = (char *)&v30 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for BundleSearchResult();
  sub_10030A84C(&qword_10098E5C0, 255, (void (*)(uint64_t))&type metadata accessor for BundleSearchResult);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v39[0])
  {
    uint64_t v33 = v3;
    uint64_t v34 = v2;
    uint64_t v35 = v10;
    uint64_t v36 = v9;
    ItemLayoutContext.parentShelfLayoutContext.getter();
    uint64_t v32 = a1;
    if (qword_1009806B8 != -1) {
      swift_once();
    }
    swift_bridgeObjectRetain();
    PageGrid.init(from:breakpointOverrides:)();
    BundleSearchResult.lockup.getter();
    uint64_t v31 = Lockup.title.getter();
    objc_super v15 = v14;
    swift_release();
    BundleSearchResult.lockup.getter();
    uint64_t v30 = Lockup.subtitle.getter();
    uint64_t v17 = v16;
    swift_release();
    BundleSearchResult.lockup.getter();
    unint64_t v18 = MixedMediaLockup.metadataRibbonItems.getter();
    swift_release();
    uint64_t v19 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v7, 1, 1, v19);
    BundleSearchResult.lockup.getter();
    char v20 = MixedMediaLockup.shouldEvenlyDistributeRibbonItems.getter();
    swift_release();
    unsigned __int8 v21 = v20 & 1;
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    CGRect v22 = (void *)v39[0];
    PageGrid.componentMeasuringSize(spanning:)();
    sub_100123F94(v31, v15, v30, v17, 0, 0, v18, (uint64_t)v7, 0, v21, v22);

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_1009A4AA0);
    type metadata accessor for BundleView();
    uint64_t v24 = v33;
    uint64_t v23 = v34;
    uint64_t v25 = (uint64_t)v37;
    (*(void (**)(char *, void, uint64_t))(v33 + 104))(v37, enum case for Artwork.Style.roundedRect(_:), v34);
    PageGrid.componentMeasuringSize(spanning:)();
    id v26 = sub_1000F3FC0();
    swift_getObjectType();
    sub_10027C89C(v25, v26);
    swift_unknownObjectRelease();
    (*(void (**)(uint64_t, uint64_t))(v24 + 8))(v25, v23);
    BundleSearchResult.lockup.getter();
    uint64_t v27 = MixedMediaLockup.searchTagRibbonItems.getter();
    uint64_t v28 = MixedMediaLockup.metadataRibbonItems.getter();
    LOBYTE(v24) = sub_100120034(v27, v28);
    swift_release();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v24)
    {
      (*(void (**)(char *, uint64_t))(v35 + 8))(v12, v36);
      return swift_release();
    }
    else
    {
      if (qword_10097E950 != -1) {
        swift_once();
      }
      sub_100082C6C((uint64_t)qword_1009E2428, (uint64_t)v39);
      sub_100081D90(v39, v39[3]);
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      int v29 = v38;
      AnyDimension.value(with:)();

      swift_release();
      (*(void (**)(char *, uint64_t))(v35 + 8))(v12, v36);
      return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v39);
    }
  }
  return result;
}

void sub_10030A378(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v6 - 8);
  sub_100082C6C(a1, (uint64_t)v17);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for BundleSearchResult();
  if (swift_dynamicCast())
  {
    BundleSearchResult.lockup.getter();
    uint64_t v7 = Lockup.icon.getter();
    swift_release();
    if (v7)
    {
      uint64_t v8 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
      uint64_t v16 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView);
      uint64_t v9 = qword_100980610;
      id v10 = *(id *)(v16 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
      if (v9 != -1) {
        swift_once();
      }
      uint64_t v11 = type metadata accessor for SmallLockupLayout.Metrics();
      sub_100087728(v11, (uint64_t)qword_1009E7358);
      SmallLockupLayout.Metrics.artworkSize.getter();
      [v10 contentMode];
      Artwork.config(_:mode:prefersLayeredImage:)();
      Artwork.style.getter();
      ArtworkView.style.setter();
      [v10 setContentMode:Artwork.contentMode.getter()];
      ArtworkLoaderConfig.size.getter();
      ArtworkView.imageSize.setter();
      if (!Artwork.backgroundColor.getter())
      {
        sub_10008E8A0();
        static UIColor.placeholderBackground.getter();
      }
      ArtworkView.backgroundColor.setter();
      double v12 = *(void **)(v16 + v8);
      type metadata accessor for ArtworkView();
      sub_10030A84C((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
      id v13 = v12;
      ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
      swift_release();

      swift_release();
    }
    BundleSearchResult.lockup.getter();
    unint64_t v14 = Lockup.children.getter();
    swift_release();
    if (v14)
    {
      sub_10027AC54(v14, a2);
      swift_bridgeObjectRelease();
    }
    id v15 = objc_retain(*(id *)(*(void *)(v3 + OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView)
                            + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_metadataRibbonView));
    sub_100375B74(a1, a2);
    swift_release();
  }
}

void sub_10030A688()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore29BundleSearchResultContentView_lockupView);
  uint64_t v2 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
  id v3 = *(id *)(v1 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  v15.value.super.Class isa = 0;
  v15.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v15, v4);

  uint64_t v5 = *(void **)(v1 + v2);
  type metadata accessor for ArtworkView();
  sub_10030A84C((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v6 = v5;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();

  uint64_t v7 = *(char **)(v1 + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_metadataRibbonView);
  uint64_t v8 = *(void *)&v7[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews];
  uint64_t v9 = *(void *)(v8 + 16);
  if (v9)
  {
    type metadata accessor for MetadataRibbonIconWithLabelView(0);
    unint64_t v14 = v7;
    swift_bridgeObjectRetain();
    uint64_t v10 = 32;
    do
    {
      uint64_t v11 = *(void **)(v8 + v10);
      if (swift_dynamicCastClass())
      {
        id v12 = v11;
        v16.value.super.Class isa = 0;
        v16.is_nil = 0;
        ArtworkView.setImage(image:animated:)(v16, v13);
        ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
      }
      v10 += 16;
      --v9;
    }
    while (v9);

    swift_bridgeObjectRelease();
  }
  sub_10027B2D4();
}

uint64_t sub_10030A84C(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_10030A898()
{
  type metadata accessor for BundleSearchResult();
  sub_10030A84C(&qword_10098E5C0, 255, (void (*)(uint64_t))&type metadata accessor for BundleSearchResult);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (using._rawValue)
  {
    BundleSearchResult.lockup.getter();
    swift_release();
    uint64_t v1 = MixedMediaLockup.metadataRibbonItems.getter();
    if (v1)
    {
      unint64_t v2 = v1;
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      id v3 = sub_100375F94(v2, (uint64_t)v4);

      swift_bridgeObjectRelease();
      sub_1000E3AF0((unint64_t)v3);
      ArtworkLoader.prefetchArtwork(using:)((Swift::OpaquePointer)_swiftEmptyArrayStorage);
      swift_bridgeObjectRelease();
    }
    return swift_release();
  }
  return result;
}

double sub_10030A9D4(double a1, double a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v19 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_100992100);
  __chkstk_darwin(v10 - 8);
  uint64_t v11 = sub_100082C28(&qword_100986CF0);
  uint64_t v21 = *(void *)(v11 - 8);
  uint64_t v22 = v11;
  __chkstk_darwin(v11);
  Swift::Bool v13 = (char *)&v19 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = 0;
  AnyHashable.init<A>(_:)();
  StatePath.init(component:)();
  uint64_t v24 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_stateStore);
  swift_retain();
  sub_100082C28((uint64_t *)&unk_100986D40);
  sub_1000DD560((unint64_t *)&qword_10098FE10, (uint64_t *)&unk_100986D40);
  StateLens.init<A>(contentsOf:in:)();
  uint64_t v14 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView + 8);
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v20 = v2 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_model;
  uint64_t v19 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_objectGraph);
  sub_100082C28((uint64_t *)&unk_10098FE18);
  uint64_t v16 = swift_allocObject();
  *(_OWORD *)(v16 + 16) = xmmword_1007BF1D0;
  static ComponentLayoutOptions.separatorHidden.getter();
  static ComponentLayoutOptions.overflowed.getter();
  uint64_t v24 = v16;
  sub_10030C1CC((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
  sub_100082C28(&qword_10098FE28);
  sub_1000DD560((unint64_t *)&qword_10098FE30, &qword_10098FE28);
  dispatch thunk of SetAlgebra.init<A>(_:)();
  double v17 = (*(double (**)(uint64_t, uint64_t, char *, uint64_t, char *, uint64_t, uint64_t, uint64_t, double, double))(v14 + 72))(v20, 1, v13, v19, v9, v3, ObjectType, v14, a1, a2);
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  (*(void (**)(char *, uint64_t))(v21 + 8))(v13, v22);
  return v17;
}

id sub_10030AE20()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = type metadata accessor for Shelf.PresentationHints();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  unint64_t v41 = (char *)&v31 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v40 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v6 = *(void *)(v40 - 8);
  __chkstk_darwin(v40);
  int v39 = (char *)&v31 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100992100);
  __chkstk_darwin(v8 - 8);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_10098FE00);
  uint64_t v42 = *(void *)(v9 - 8);
  *(void *)&double v10 = __chkstk_darwin(v9).n128_u64[0];
  uint64_t v12 = (char *)&v31 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  v47.receiver = v0;
  v47.super_class = ObjectType;
  [super viewDidLoad:v10];
  Swift::Bool v13 = *(void **)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView];
  uint64_t v37 = *(void *)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView + 8];
  uint64_t v38 = swift_getObjectType();
  id v44 = v13;
  id v14 = [v13 backgroundView];
  id result = [v0 view];
  uint64_t v16 = result;
  uint64_t v43 = v9;
  if (v14)
  {
    if (!result)
    {
LABEL_9:
      __break(1u);
      goto LABEL_10;
    }
    id v17 = [v14 backgroundColor];
    [v16 setBackgroundColor:v17];

LABEL_6:
    uint64_t v35 = v4;
    uint64_t v36 = v3;

    id result = [v0 view];
    if (result)
    {
      unint64_t v18 = result;
      uint64_t v19 = *(void **)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_scrollView];
      id v34 = v19;
      [result addSubview:v19];

      [v19 setDelegate:v0];
      [v19 setAlwaysBounceVertical:1];
      v45[0] = 0;
      AnyHashable.init<A>(_:)();
      StatePath.init(component:)();
      v46[0] = *(void *)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_stateStore];
      swift_retain();
      sub_100082C28((uint64_t *)&unk_100986D40);
      sub_1000DD560((unint64_t *)&qword_10098FE10, (uint64_t *)&unk_100986D40);
      WritableStateLens.init<A>(contentsOf:in:)();
      uint64_t v20 = (uint64_t)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_model];
      uint64_t v33 = *(void *)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_objectGraph];
      sub_100082C28((uint64_t *)&unk_10098FE18);
      uint64_t v21 = v12;
      uint64_t v32 = v12;
      uint64_t v22 = v6;
      uint64_t v23 = swift_allocObject();
      *(_OWORD *)(v23 + 16) = xmmword_1007BF1D0;
      static ComponentLayoutOptions.separatorHidden.getter();
      static ComponentLayoutOptions.overflowed.getter();
      v46[0] = v23;
      sub_10030C1CC((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
      sub_100082C28(&qword_10098FE28);
      sub_1000DD560((unint64_t *)&qword_10098FE30, &qword_10098FE28);
      uint64_t v24 = v39;
      uint64_t v25 = v40;
      dispatch thunk of SetAlgebra.init<A>(_:)();
      v46[0] = _swiftEmptyArrayStorage;
      sub_10030C1CC((unint64_t *)&unk_100982850, (void (*)(uint64_t))&type metadata accessor for Shelf.PresentationHints);
      sub_100082C28(&qword_10098FE40);
      sub_1000DD560(qword_10098FE48, &qword_10098FE40);
      id v26 = v41;
      uint64_t v27 = v36;
      dispatch thunk of SetAlgebra.init<A>(_:)();
      uint64_t v28 = v38;
      id v29 = v44;
      (*(void (**)(uint64_t, char *, uint64_t, char *, char *, char *, uint64_t))(v37 + 80))(v20, v21, v33, v24, v26, v1, v38);
      (*(void (**)(char *, uint64_t))(v35 + 8))(v26, v27);
      (*(void (**)(char *, uint64_t))(v22 + 8))(v24, v25);
      sub_100082C6C(v20, (uint64_t)v46);
      v45[3] = v28;
      v45[0] = v29;
      id v30 = v29;
      tryToFetch(artworkFor:into:on:asPartOf:)();
      sub_10030C558((uint64_t)v46);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v45);
      [v34 addSubview:v30];
      return (id)(*(uint64_t (**)(char *, uint64_t))(v42 + 8))(v32, v43);
    }
    __break(1u);
    goto LABEL_9;
  }
  if (result)
  {
    id v17 = [v44 backgroundColor];
    [v16 setBackgroundColor:v17];
    goto LABEL_6;
  }
LABEL_10:
  __break(1u);
  return result;
}

id sub_10030B524()
{
  v41.receiver = v0;
  v41.super_class = (Class)swift_getObjectType();
  [super viewDidLayoutSubviews];
  uint64_t v1 = *(void **)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_scrollView];
  id result = [v0 view];
  if (!result)
  {
    __break(1u);
    goto LABEL_9;
  }
  uint64_t v3 = result;
  [result bounds];
  double v5 = v4;
  double v7 = v6;
  double v9 = v8;
  double v11 = v10;

  [v1 setFrame:v5, v7, v9, v11];
  id result = [v0 view];
  if (!result)
  {
LABEL_9:
    __break(1u);
    goto LABEL_10;
  }
  uint64_t v12 = result;
  [result bounds];
  double v14 = v13;
  double v16 = v15;

  double v17 = sub_10030A9D4(v14, v16);
  double v19 = v18;
  [v1 frame];
  double Height = CGRectGetHeight(v42);
  uint64_t v21 = *(void **)&v0[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView];
  id result = [v0 view];
  if (!result)
  {
LABEL_10:
    __break(1u);
    goto LABEL_11;
  }
  uint64_t v22 = result;
  [result bounds];
  CGFloat v24 = v23;
  CGFloat v26 = v25;
  CGFloat v28 = v27;
  CGFloat v30 = v29;

  v43.origin.x = v24;
  v43.origin.y = v26;
  v43.size.width = v28;
  v43.size.height = v30;
  double MinX = CGRectGetMinX(v43);
  id result = [v0 view];
  if (!result)
  {
LABEL_11:
    __break(1u);
    return result;
  }
  uint64_t v32 = result;
  if (v19 <= Height) {
    double v19 = Height;
  }
  [result bounds];
  CGFloat v34 = v33;
  CGFloat v36 = v35;
  CGFloat v38 = v37;
  CGFloat v40 = v39;

  v44.origin.x = v34;
  v44.origin.y = v36;
  v44.size.width = v38;
  v44.size.height = v40;
  [v21 setFrame:MinX, CGRectGetMinY(v44), v17, v19];
  [v1 setContentSize:v17, v19];
  return [v0 setPreferredContentSize:v17, v19];
}

void sub_10030B83C(void *a1)
{
  v5.receiver = v1;
  v5.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  if (a1 && [a1 horizontalSizeClass] == (id)2)
  {
    id v3 = [v1 traitCollection];
    id v4 = [v3 horizontalSizeClass];

    if (v4 == (id)1) {
      [v1 dismissViewControllerAnimated:0 completion:0];
    }
  }
}

uint64_t sub_10030B960()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for Shelf.PresentationHints();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v25 = v2;
  uint64_t v26 = v3;
  __chkstk_darwin(v2);
  uint64_t v22 = (char *)&v17 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v20 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  double v7 = (char *)&v17 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100992100);
  __chkstk_darwin(v8 - 8);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_10098FE00);
  uint64_t v23 = *(void *)(v9 - 8);
  uint64_t v24 = v9;
  __chkstk_darwin(v9);
  double v11 = (char *)&v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = 0;
  AnyHashable.init<A>(_:)();
  StatePath.init(component:)();
  CGFloat v28 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_stateStore);
  swift_retain();
  sub_100082C28((uint64_t *)&unk_100986D40);
  sub_1000DD560((unint64_t *)&qword_10098FE10, (uint64_t *)&unk_100986D40);
  WritableStateLens.init<A>(contentsOf:in:)();
  uint64_t v19 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView + 8);
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v18 = v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_model;
  uint64_t v17 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_objectGraph);
  sub_100082C28((uint64_t *)&unk_10098FE18);
  uint64_t v12 = swift_allocObject();
  *(_OWORD *)(v12 + 16) = xmmword_1007BEDF0;
  static ComponentLayoutOptions.separatorHidden.getter();
  CGFloat v28 = (void *)v12;
  sub_10030C1CC((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
  sub_100082C28(&qword_10098FE28);
  sub_1000DD560((unint64_t *)&qword_10098FE30, &qword_10098FE28);
  uint64_t v13 = v5;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  CGFloat v28 = _swiftEmptyArrayStorage;
  sub_10030C1CC((unint64_t *)&unk_100982850, (void (*)(uint64_t))&type metadata accessor for Shelf.PresentationHints);
  sub_100082C28(&qword_10098FE40);
  sub_1000DD560(qword_10098FE48, &qword_10098FE40);
  double v14 = v22;
  uint64_t v15 = v25;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  (*(void (**)(uint64_t, char *, uint64_t, char *, char *, uint64_t, uint64_t))(v19 + 80))(v18, v11, v17, v7, v14, v1, ObjectType);
  (*(void (**)(char *, uint64_t))(v26 + 8))(v14, v15);
  (*(void (**)(char *, uint64_t))(v20 + 8))(v7, v13);
  return (*(uint64_t (**)(char *, uint64_t))(v23 + 8))(v11, v24);
}

id sub_10030BEC4(uint64_t a1)
{
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = (char *)&v17 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v6 = [objc_allocWithZone((Class)type metadata accessor for ComponentViewOverflowTransitioning()) init];
  uint64_t v7 = OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning;
  uint64_t v8 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning];
  *(void *)&v1[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning] = v6;

  uint64_t v9 = *(void *)&v1[v7];
  if (v9
    && (*(unsigned char *)(v9 + OBJC_IVAR____TtC8AppStore34ComponentViewOverflowTransitioning_isTransitioningFromContainer) = 1,
        (uint64_t v10 = *(void **)&v1[v7]) != 0))
  {
    uint64_t v11 = type metadata accessor for IndexPath();
    uint64_t v12 = *(void *)(v11 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v5, a1, v11);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v12 + 56))(v5, 0, 1, v11);
    uint64_t v13 = (uint64_t)v10 + OBJC_IVAR____TtC8AppStore34ComponentViewOverflowTransitioning_selectedIndexPath;
    swift_beginAccess();
    id v14 = v10;
    sub_10015B558((uint64_t)v5, v13);
    swift_endAccess();

    uint64_t v15 = *(void *)&v1[v7];
  }
  else
  {
    uint64_t v15 = 0;
  }
  [v1 setTransitioningDelegate:v15];
  return [v1 setModalPresentationStyle:4];
}

uint64_t type metadata accessor for ComponentViewOverflowViewController()
{
  return self;
}

uint64_t sub_10030C190()
{
  return sub_10030B960();
}

void sub_10030C1B4()
{
  uint64_t v1 = *(void **)(*v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning);
  *(void *)(*v0 + OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning) = 0;
}

uint64_t sub_10030C1CC(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_10030C214(uint64_t a1, uint64_t a2, uint64_t a3, char *a4, uint64_t a5, uint64_t a6)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  v24[3] = a5;
  v24[4] = a6;
  uint64_t v13 = sub_1000808B8(v24);
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(a5 - 8) + 32))(v13, a1, a5);
  *(void *)&a4[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_overflowTransitioning] = 0;
  id v14 = a4;
  if (sub_100600290())
  {
    uint64_t v16 = v15;
    *(void *)&v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_objectGraph] = a3;
    sub_100082C28((uint64_t *)&unk_100986D40);
    swift_allocObject();
    swift_retain();
    *(void *)&v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_stateStore] = TransientStateStore.init(isConcurrent:)();
    sub_100082C6C((uint64_t)v24, (uint64_t)&v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_model]);
    id v17 = [objc_allocWithZone((Class)UIScrollView) init];
    *(void *)&v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_scrollView] = v17;
    id v18 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) initWithFrame:0.0, 0.0, 0.0, 0.0];
    uint64_t v19 = &v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_componentView];
    *(void *)uint64_t v19 = v18;
    *((void *)v19 + 1) = v16;
    type metadata accessor for ArtworkLoader();
    *(void *)&v14[OBJC_IVAR____TtC8AppStore35ComponentViewOverflowViewController_artworkLoader] = inject(_:from:)();

    v23.receiver = v14;
    v23.super_class = ObjectType;
    id v20 = [super initWithNibName:0 bundle:0];
    uint64_t v21 = type metadata accessor for Shelf.ContentType();
    (*(void (**)(uint64_t, uint64_t))(*(void *)(v21 - 8) + 8))(a2, v21);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v24);
    return (uint64_t)v20;
  }
  else
  {
    uint64_t result = _assertionFailure(_:_:file:line:flags:)();
    __break(1u);
  }
  return result;
}

uint64_t sub_10030C45C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6)
{
  uint64_t v11 = *(void *)(a5 - 8);
  __chkstk_darwin(a1);
  uint64_t v13 = (char *)&v17 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = (char *)objc_allocWithZone(v14);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, a1, a5);
  return sub_10030C214((uint64_t)v13, a2, a3, v15, a5, a6);
}

uint64_t sub_10030C558(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_100989360);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

void sub_10030C5B8(void *a1, uint64_t a2, char a3)
{
  uint64_t v4 = v3;
  swift_getObjectType();
  sub_10050D68C((uint64_t)a1, a2, a3 & 1);
  uint64_t v7 = swift_dynamicCastClass();
  if (!v7) {
    return;
  }
  uint64_t v8 = (char *)v7;
  uint64_t v9 = *(void *)(v7 + qword_1009E2468);
  if (v9 && *(void *)&v4[qword_1009E2468])
  {
    uint64_t v10 = *(void *)(v7 + qword_1009E2468 + 8);
    uint64_t v11 = *(void *)&v4[qword_1009E2468 + 8];
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v13 = *(void (**)(uint64_t, uint64_t, void, uint64_t, uint64_t))(v11 + 120);
    id v14 = a1;
    swift_unknownObjectRetain();
    swift_unknownObjectRetain();
    v13(v9, v10, a3 & 1, ObjectType, v11);
    swift_unknownObjectRelease();
    swift_unknownObjectRelease();
    if (a3) {
      goto LABEL_11;
    }
LABEL_8:
    uint64_t v16 = *(void **)&v4[qword_1009E2450];
    uint64_t v17 = *(void **)&v8[qword_1009E2450];
    id v18 = [v17 text];
    [v16 setText:v18];

    id v19 = [v17 textColor];
    [v16 setTextColor:v19];

    id v20 = *(void **)&v4[qword_1009E2458];
    uint64_t v21 = *(void **)&v8[qword_1009E2458];
    id v22 = [v21 text];
    [v20 setText:v22];

    id v23 = [v21 textColor];
    [v20 setTextColor:v23];

    id v24 = [v4 backgroundView];
    if (v24)
    {
      uint64_t v25 = v24;
      id v26 = [v8 backgroundView];
      id v27 = [v26 backgroundColor];

      [v25 setBackgroundColor:v27];
    }
    id v28 = [v4 contentView];
    id v29 = [v8 contentView];
    [v29 layoutMargins];
    double v31 = v30;
    double v33 = v32;
    double v35 = v34;
    double v37 = v36;

    [v28 setLayoutMargins:v31, v33, v35, v37];
    [v4 setNeedsLayout];
    goto LABEL_11;
  }
  id v15 = a1;
  if ((a3 & 1) == 0) {
    goto LABEL_8;
  }
LABEL_11:
}

id sub_10030C900(uint64_t a1, unsigned int a2, uint64_t a3, uint64_t a4)
{
  uint64_t v5 = v4;
  uint64_t v10 = swift_isaMask & *v5;
  uint64_t v11 = type metadata accessor for TodayCard.Style();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  id v14 = (char *)&v44 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  unsigned int v46 = a2;
  uint64_t v47 = a3;
  sub_10001DCC4(a1, a2, a3);
  id v15 = *(void **)((char *)v5 + qword_1009E2450);
  TodayCard.heading.getter();
  uint64_t v44 = a4;
  uint64_t v45 = v10;
  if (v16)
  {
    NSString v17 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v17 = 0;
  }
  [v15 setText:v17, v44, v45];

  TodayCard.style.getter();
  id v18 = (void *)TodayCard.Style.cardHeadingTextColor.getter();
  id v19 = *(void (**)(char *, uint64_t))(v12 + 8);
  v19(v14, v11);
  [v15 setTextColor:v18];

  UIAccessibilityTraits v20 = UIAccessibilityTraitButton;
  [v15 setAccessibilityTraits:UIAccessibilityTraitButton];
  uint64_t v21 = *(void **)((char *)v5 + qword_1009E2458);
  TodayCard.title.getter();
  if (v22)
  {
    NSString v23 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v23 = 0;
  }
  uint64_t v24 = v44;
  [v21 setText:v23];

  TodayCard.style.getter();
  uint64_t v25 = (void *)TodayCard.Style.cardTitleTextColor.getter();
  v19(v14, v11);
  [v21 setTextColor:v25];

  [v21 setAccessibilityTraits:v20];
  id v26 = [v5 backgroundView];
  uint64_t v27 = v47;
  unsigned int v28 = v46;
  if (v26)
  {
    id v29 = v26;
    uint64_t v30 = TodayCard.backgroundColor.getter();
    if (!v30)
    {
      sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
      uint64_t v30 = static UIColor.todayCardDefaultBackground.getter();
    }
    double v31 = (void *)v30;
    [v29 setBackgroundColor:v30];
  }
  id v32 = [v5 contentView];
  id v33 = [v5 traitCollection];
  if (v28 != 4)
  {
    PageGrid.horizontalDirectionalMargins.getter();
    PageGrid.horizontalDirectionalMargins.getter();
  }
  [v33 layoutDirection];
  NSDirectionalEdgeInsets.insetsWithLayoutDirection(_:)();
  double v35 = v34;
  double v37 = v36;
  double v39 = v38;
  double v41 = v40;

  [v32 setLayoutMargins:v35, v37, v39, v41];
  uint64_t v42 = type metadata accessor for LegacyTodayCardCollectionViewCell();
  sub_100621968(a1, v27, v28, v24, v42, (uint64_t)&off_1008C5BA0);
  return [v5 setNeedsLayout];
}

uint64_t sub_10030CD14(uint64_t a1)
{
  sub_100082C6C(a1, (uint64_t)v7);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for TodayCard();
  uint64_t result = swift_dynamicCast();
  if (result)
  {
    uint64_t v3 = TodayCard.overlay.getter();
    if (v3)
    {
      uint64_t v4 = v3;
      uint64_t v5 = *(void *)(v1 + qword_1009E2468);
      if (v5)
      {
        v7[3] = type metadata accessor for TodayCardOverlay();
        v7[4] = sub_10030F2BC();
        v7[0] = v4;
        v6[3] = swift_getObjectType();
        v6[0] = v5;
        swift_unknownObjectRetain_n();
        swift_retain();
        tryToFetch(artworkFor:into:on:asPartOf:)();
        swift_unknownObjectRelease();
        swift_release();
        swift_release();
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v6);
        return sub_100082BCC((uint64_t)v7, &qword_100989360);
      }
      swift_release();
    }
    return swift_release();
  }
  return result;
}

void sub_10030CE50()
{
  sub_10004CA80();
  id v1 = [v0 contentView];
  sub_100082C28((uint64_t *)&unk_100984E80);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_1007BF710;
  id v3 = [*(id *)&v0[qword_1009E2450] text];
  if (v3)
  {
    uint64_t v4 = v3;
    uint64_t v5 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v7 = v6;
  }
  else
  {
    uint64_t v5 = 0;
    uint64_t v7 = 0;
  }
  *(void *)(inited + 32) = v5;
  *(void *)(inited + 40) = v7;
  id v8 = [*(id *)&v0[qword_1009E2458] text];
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v12 = v11;
  }
  else
  {
    uint64_t v10 = 0;
    uint64_t v12 = 0;
  }
  *(void *)(inited + 48) = v10;
  *(void *)(inited + 56) = v12;
  if (!*(void *)&v0[qword_1009E2468])
  {
    *(void *)(inited + 64) = 0;
    *(void *)(inited + 72) = 0;
    uint64_t v21 = *(void *)(inited + 40);
    if (v21) {
      goto LABEL_15;
    }
LABEL_11:
    uint64_t v22 = _swiftEmptyArrayStorage;
    uint64_t v23 = *(void *)(inited + 56);
    if (!v23) {
      goto LABEL_23;
    }
    goto LABEL_18;
  }
  uint64_t v13 = *(void *)&v0[qword_1009E2468 + 8];
  uint64_t ObjectType = swift_getObjectType();
  id v15 = *(uint64_t (**)(uint64_t, uint64_t))(v13 + 16);
  swift_unknownObjectRetain();
  uint64_t v16 = (void *)v15(ObjectType, v13);
  swift_unknownObjectRelease();
  id v17 = [v16 accessibilityLabel];

  if (v17)
  {
    uint64_t v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v20 = v19;
  }
  else
  {
    uint64_t v18 = 0;
    uint64_t v20 = 0;
  }
  *(void *)(inited + 64) = v18;
  *(void *)(inited + 72) = v20;
  uint64_t v21 = *(void *)(inited + 40);
  if (!v21) {
    goto LABEL_11;
  }
LABEL_15:
  uint64_t v24 = *(void *)(inited + 32);
  swift_bridgeObjectRetain();
  uint64_t v22 = sub_1000864FC(0, 1, 1, _swiftEmptyArrayStorage);
  unint64_t v26 = v22[2];
  unint64_t v25 = v22[3];
  if (v26 >= v25 >> 1) {
    uint64_t v22 = sub_1000864FC((void *)(v25 > 1), v26 + 1, 1, v22);
  }
  void v22[2] = v26 + 1;
  uint64_t v27 = &v22[2 * v26];
  v27[4] = v24;
  v27[5] = v21;
  uint64_t v23 = *(void *)(inited + 56);
  if (v23)
  {
LABEL_18:
    uint64_t v28 = *(void *)(inited + 48);
    swift_bridgeObjectRetain();
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v22 = sub_1000864FC(0, v22[2] + 1, 1, v22);
    }
    unint64_t v30 = v22[2];
    unint64_t v29 = v22[3];
    if (v30 >= v29 >> 1) {
      uint64_t v22 = sub_1000864FC((void *)(v29 > 1), v30 + 1, 1, v22);
    }
    void v22[2] = v30 + 1;
    double v31 = &v22[2 * v30];
    v31[4] = v28;
    v31[5] = v23;
  }
LABEL_23:
  uint64_t v32 = *(void *)(inited + 72);
  if (v32)
  {
    uint64_t v33 = *(void *)(inited + 64);
    swift_bridgeObjectRetain();
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v22 = sub_1000864FC(0, v22[2] + 1, 1, v22);
    }
    unint64_t v35 = v22[2];
    unint64_t v34 = v22[3];
    if (v35 >= v34 >> 1) {
      uint64_t v22 = sub_1000864FC((void *)(v34 > 1), v35 + 1, 1, v22);
    }
    void v22[2] = v35 + 1;
    double v36 = &v22[2 * v35];
    v36[4] = v33;
    v36[5] = v32;
  }
  swift_bridgeObjectRelease();
  sub_100082C28((uint64_t *)&unk_100984E90);
  sub_100086890();
  BidirectionalCollection<>.joined(separator:)();
  swift_bridgeObjectRelease();
  NSString v37 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v1 setAccessibilityLabel:v37];
}

uint64_t sub_10030D1FC()
{
  return *(void *)(v0 + qword_1009E2460);
}

uint64_t sub_10030D214(uint64_t result, char a2)
{
  uint64_t v3 = v2 + qword_1009E2460;
  *(void *)uint64_t v3 = result;
  *(unsigned char *)(v3 + 8) = a2 & 1;
  return result;
}

uint64_t sub_10030D230(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = (void *)(v2 + qword_1009E2468);
  *uint64_t v3 = a1;
  v3[1] = a2;
  return swift_unknownObjectRelease();
}

uint64_t sub_10030D24C()
{
  return swift_weakLoadStrong();
}

void sub_10030D25C(uint64_t a1)
{
  id v3 = [v1 backgroundView];
  [v3 addSubview:a1];
}

double sub_10030D2C4()
{
  uint64_t v1 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v2 = *(void *)(v1 - 8);
  *(void *)&double v3 = __chkstk_darwin(v1).n128_u64[0];
  uint64_t v5 = (char *)&v11 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*((unsigned char *)v0 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) == 1)
  {
    id v6 = [v0 traitCollection:v3];
    double v7 = sub_10048C37C((uint64_t)v6, v0);
  }
  else
  {
    if (qword_10097F940 != -1) {
      swift_once();
    }
    uint64_t v8 = type metadata accessor for StaticDimension();
    sub_100087728(v8, (uint64_t)qword_1009E5540);
    static Dimensions.defaultRoundingRule.getter();
    AnyDimension.value(in:rounded:)();
    double v7 = v9;
    (*(void (**)(char *, uint64_t))(v2 + 8))(v5, v1);
  }
  return v7;
}

double sub_10030D44C()
{
  uint64_t v0 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  double v3 = (char *)&v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F950 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100087728(v4, (uint64_t)qword_1009E5570);
  static Dimensions.defaultRoundingRule.getter();
  AnyDimension.value(in:rounded:)();
  double v6 = v5;
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return v6;
}

void sub_10030D58C(CGFloat *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v4 - 8);
  double v6 = (char *)&v50 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)&v1[qword_1009E2468])
  {
    uint64_t v7 = *(void *)&v1[qword_1009E2468 + 8];
    uint64_t ObjectType = swift_getObjectType();
    double v9 = *(uint64_t (**)(uint64_t, uint64_t))(v7 + 16);
    swift_unknownObjectRetain();
    id v50 = (id)v9(ObjectType, v7);
    uint64_t v10 = (void *)v9(ObjectType, v7);
    unsigned __int8 v11 = [v10 isHidden];

    if (v11)
    {
      swift_unknownObjectRelease();
      id v12 = v50;
    }
    else
    {
      if (*((unsigned char *)v2 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) == 1)
      {
        if ((*(uint64_t (**)(uint64_t, uint64_t))(v7 + 72))(ObjectType, v7))
        {
          double v13 = sub_10050DBF0();
          double v15 = v14;
          double v17 = v16;
        }
        else
        {
          uint64_t v26 = (uint64_t)v2 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_pageGrid;
          swift_beginAccess();
          sub_10001E09C(v26, (uint64_t)v6);
          id v27 = [v2 traitCollection];
          sub_10050F4E4((uint64_t)v6, v27);
          double v15 = v28;
          double v17 = v29;

          sub_100082BCC((uint64_t)v6, (uint64_t *)&unk_100983860);
        }
        id v30 = [v2 traitCollection];
        char v31 = UITraitCollection.prefersRightToLeftLayouts.getter();

        [v50 layoutMargins];
        [v50 setLayoutMargins];
        [v50 layoutMargins];
        double v20 = v32;
        double v22 = v33;
        double v24 = v34;
        if ((v31 & 1) == 0) {
          double v15 = v17;
        }
      }
      else
      {
        uint64_t v18 = (uint64_t)v2 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_pageGrid;
        swift_beginAccess();
        sub_10001E09C(v18, (uint64_t)v6);
        LOBYTE(v18) = *((unsigned char *)v2 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory);
        id v19 = [v2 traitCollection];
        double v20 = sub_10050FBF8((uint64_t)v6, v18, v19);
        double v22 = v21;
        double v24 = v23;
        double v15 = v25;

        sub_100082BCC((uint64_t)v6, (uint64_t *)&unk_100983860);
      }
      [v50 setLayoutMargins:v20, v22, v24, v15];
      id v35 = [v2 contentView];
      [v35 bounds];
      double v37 = v36;
      double v39 = v38;

      [v50 sizeThatFits:v37, v39];
      double v41 = v40;
      CGFloat v42 = *a1;
      CGFloat v43 = a1[1];
      CGFloat v44 = a1[2];
      double v45 = a1[3];
      v52.origin.x = *a1;
      v52.origin.y = v43;
      v52.size.width = v44;
      v52.size.height = v45;
      double MinX = CGRectGetMinX(v52);
      v53.origin.x = v42;
      v53.origin.y = v43;
      v53.size.width = v44;
      v53.size.height = v45;
      CGFloat v47 = CGRectGetMaxY(v53) - v41;
      v54.origin.x = v42;
      v54.origin.y = v43;
      v54.size.width = v44;
      v54.size.height = v45;
      double Width = CGRectGetWidth(v54);
      [v50 setFrame:MinX, v47, Width, v41];
      v55.origin.x = MinX;
      v55.origin.y = v47;
      v55.size.width = Width;
      v55.size.height = v41;
      double Height = CGRectGetHeight(v55);
      swift_unknownObjectRelease();

      a1[3] = v45 - Height;
    }
  }
}

double sub_10030DA00(CGFloat *a1)
{
  double v3 = sub_10030D2C4();
  double v36 = sub_10030D44C();
  CGFloat v5 = *a1;
  double v4 = a1[1];
  double v7 = a1[2];
  double v6 = a1[3];
  if (v1[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded] == 1)
  {
    sub_10050DBF0();
    double v9 = v8;
  }
  else
  {
    id v10 = [v1 contentView];
    [v10 layoutMargins];
    double v9 = v11;
  }
  CGFloat v12 = v7 - v9;
  double v13 = *(void **)&v1[qword_1009E2450];
  [v13 measurementsWithFitting:v1 in:v12];
  CGFloat v15 = v14;
  double v17 = v16;
  double v34 = v18;
  v37.origin.x = v5;
  v37.origin.y = v4;
  v37.size.width = v12;
  v37.size.height = v6;
  CGFloat MinX = CGRectGetMinX(v37);
  v38.origin.x = v5;
  v38.origin.y = v4;
  v38.size.width = v12;
  v38.size.height = v6;
  CGFloat v20 = CGRectGetMinY(v38) + v3 - v17;
  v39.origin.x = v5;
  v39.origin.y = v4;
  v39.size.width = v12;
  v39.size.height = v6;
  CGFloat Width = CGRectGetWidth(v39);
  [v1 bounds];
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v13 setFrame:];
  v40.origin.x = MinX;
  v40.origin.y = v20;
  v40.size.width = Width;
  v40.size.height = v15;
  CGFloat v22 = CGRectGetMaxY(v40) - v34;
  double v23 = *(void **)&v1[qword_1009E2458];
  v41.origin.x = v5;
  v41.origin.y = v4;
  v41.size.width = v12;
  v41.size.height = v6;
  double v24 = CGRectGetWidth(v41);
  v42.origin.x = v5;
  v42.origin.y = v4;
  v42.size.width = v12;
  v42.size.height = v6;
  [v23 measurementsWithFitting:v1 in:CGRectGetHeight(v42) - v22];
  CGFloat v26 = v25;
  double v28 = v27;
  double v35 = v29;
  v43.origin.x = v5;
  v43.origin.y = v4;
  v43.size.width = v12;
  v43.size.height = v6;
  CGFloat v30 = CGRectGetMinX(v43);
  v44.origin.x = v5;
  v44.origin.y = v4;
  v44.size.width = v12;
  v44.size.height = v6;
  CGFloat v31 = CGRectGetWidth(v44);
  [v1 bounds];
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v23 setFrame:];
  v45.origin.x = v30;
  v45.origin.y = v22 + v36 - v28;
  v45.size.width = v31;
  v45.size.height = v26;
  CGFloat v32 = CGRectGetMaxY(v45) - v35;
  a1[1] = v4 + v32;
  double result = v6 - v32;
  a1[3] = result;
  return result;
}

void sub_10030DC90(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  CGFloat v5 = v4;
  double v8 = &stru_100950000;
  double v9 = &selRef_accessibilityShowsBadge;
  if (a3)
  {
    uint64_t ObjectType = swift_getObjectType();
    CGFloat v12 = *(uint64_t (**)(uint64_t, uint64_t))(a4 + 16);
    double v13 = (void *)v12(ObjectType, a4);
    [v13 removeFromSuperview];

    uint64_t v14 = swift_getObjectType();
    CGFloat v15 = (void *)v12(v14, a4);
    [v15 _setContinuousCornerRadius:0.0];

    double v9 = &selRef_accessibilityShowsBadge;
    double v16 = (void *)v12(v14, a4);
    id v17 = [v16 layer];

    [v17 setMaskedCorners:15];
    double v8 = &stru_100950000;
  }
  if (a1)
  {
    double v18 = v8;
    uint64_t v19 = swift_getObjectType();
    CGFloat v20 = *(uint64_t (**)(uint64_t, uint64_t))(a2 + 16);
    swift_unknownObjectRetain();
    double v21 = (void *)v20(v19, a2);
    CGFloat v22 = v21;
    double v23 = 14.0;
    if (v5[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
      double v23 = 0.0;
    }
    [v21 v18[101].attr:v23];
    id v24 = [v22 v9[228]];
    [v24 setMaskedCorners:12];

    id v25 = [v5 contentView];
    [v25 addSubview:v22];
    swift_unknownObjectRelease();
  }
}

char *sub_10030DEB0(double a1, double a2, double a3, double a4)
{
  uint64_t v43 = swift_isaMask & *v4;
  uint64_t v44 = type metadata accessor for AutomationSemantics();
  uint64_t v46 = *(void *)(v44 - 8);
  __chkstk_darwin(v44);
  id v10 = (char *)&v37 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v45 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  double v13 = (char *)&v37 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v14 - 8);
  double v16 = (char *)&v37 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v17 = (char *)v4 + qword_1009E2460;
  *(void *)id v17 = 0;
  v17[8] = 1;
  double v18 = (void *)((char *)v4 + qword_1009E2468);
  *double v18 = 0;
  v18[1] = 0;
  swift_weakInit();
  uint64_t v19 = qword_10097F610;
  CGFloat v20 = v4;
  if (v19 != -1) {
    swift_once();
  }
  uint64_t v21 = type metadata accessor for FontUseCase();
  uint64_t v22 = sub_100087728(v21, (uint64_t)qword_1009E4C88);
  uint64_t v23 = *(void *)(v21 - 8);
  CGRect v42 = *(void (**)(char *, uint64_t, uint64_t))(v23 + 16);
  v42(v16, v22, v21);
  CGRect v41 = *(void (**)(char *, void, uint64_t, uint64_t))(v23 + 56);
  v41(v16, 0, 1, v21);
  id v24 = *(void (**)(void))(v45 + 104);
  unsigned int v40 = enum case for DirectionalTextAlignment.none(_:);
  v45 += 104;
  CGRect v39 = (void (*)(char *, void, uint64_t))v24;
  v24(v13);
  Class v38 = (Class)type metadata accessor for DynamicTypeLabel();
  id v25 = objc_allocWithZone(v38);
  *(void *)&v20[qword_1009E2450] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  long long v50 = 0u;
  long long v51 = 0u;
  long long v48 = 0u;
  long long v49 = 0u;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  uint64_t v26 = v11;
  double v27 = v20;
  sub_100082BCC((uint64_t)&v48, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v50, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();
  double v28 = *(void (**)(char *, uint64_t))(v46 + 8);
  v46 += 8;
  v28(v10, v44);
  if (qword_10097F618 != -1) {
    swift_once();
  }
  uint64_t v29 = sub_100087728(v21, (uint64_t)qword_1009E4CA0);
  v42(v16, v29, v21);
  v41(v16, 0, 1, v21);
  v39(v13, v40, v26);
  id v30 = objc_allocWithZone(v38);
  *(void *)&v27[qword_1009E2458] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  long long v50 = 0u;
  long long v51 = 0u;
  long long v48 = 0u;
  long long v49 = 0u;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v48, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v50, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();
  v28(v10, v44);

  CGFloat v31 = (objc_class *)type metadata accessor for LegacyTodayCardCollectionViewCell();
  v47.receiver = v27;
  v47.super_class = v31;
  CGFloat v32 = [super initWithFrame:a1, a2, a3, a4];
  id v33 = [v32 contentView];
  [v33 addSubview:*(void *)&v32[qword_1009E2450]];

  id v34 = [v32 contentView];
  id v35 = *(id *)&v32[qword_1009E2458];
  [v34 addSubview:v35];

  return v32;
}

char *sub_10030E49C(double a1, double a2, double a3, double a4)
{
  return sub_10030DEB0(a1, a2, a3, a4);
}

uint64_t sub_10030E4C0()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for PageGrid();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  CGFloat v5 = (char *)v31 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0) + 16;
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v6 - 8);
  double v8 = (char *)v31 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0) + 16;
  uint64_t v9 = (objc_class *)type metadata accessor for LegacyTodayCardCollectionViewCell();
  v34.receiver = v0;
  v34.super_class = v9;
  [super layoutSubviews];
  id v10 = [v0 contentView];
  [v10 bounds];
  CGFloat v12 = v11;
  CGFloat v14 = v13;
  double v16 = v15;
  uint64_t v18 = v17;

  v31[0] = v12;
  v31[1] = v14;
  double v32 = v16;
  uint64_t v33 = v18;
  sub_10030D58C(v31);
  id v19 = [v1 contentView];
  [v19 layoutMargins];
  double v21 = v20;
  double v23 = v22;

  if (*((unsigned char *)v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) == 1)
  {
    uint64_t v24 = (uint64_t)v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_pageGrid;
    swift_beginAccess();
    sub_10001E09C(v24, (uint64_t)v8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v3 + 48))(v8, 1, v2))
    {
      sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_100983860);
    }
    else
    {
      (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v5, v8, v2);
      sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_100983860);
      id v25 = [v1 traitCollection];
      PageGrid.horizontalDirectionalMargins.getter();
      PageGrid.horizontalDirectionalMargins.getter();
      [v25 layoutDirection];
      NSDirectionalEdgeInsets.insetsWithLayoutDirection(_:)();
      double v21 = v26;
      double v23 = v27;

      (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
    }
  }
  v31[0] = v21 + v31[0];
  double v32 = v32 - (v23 + v21);
  (*(void (**)(CGFloat *))((swift_isaMask & *v1) + 0x310))(v31);
  uint64_t v28 = (*(uint64_t (**)(CGFloat *))((swift_isaMask & *v1) + 0x318))(v31);
  return (*(uint64_t (**)(uint64_t))((swift_isaMask & *v1) + 0x188))(v28);
}

void sub_10030E8A8(void *a1)
{
  id v1 = a1;
  sub_10030E4C0();
}

uint64_t sub_10030E8F0()
{
  id v1 = (objc_class *)type metadata accessor for LegacyTodayCardCollectionViewCell();
  v3.receiver = v0;
  v3.super_class = v1;
  [super prepareForReuse];
  return sub_100621DB0((uint64_t)v1, (uint64_t)&off_1008C5BA0);
}

void sub_10030E968(void *a1)
{
  id v1 = a1;
  sub_10030E8F0();
}

id sub_10030E9B0(void *a1)
{
  uint64_t v2 = v1;
  v8.receiver = v2;
  v8.super_class = (Class)type metadata accessor for LegacyTodayCardCollectionViewCell();
  [super traitCollectionDidChange:a1];
  id v4 = [v2 traitCollection];
  id v5 = [v4 layoutDirection];

  if (!a1 || (id result = [a1 layoutDirection], v5 != result))
  {
    if (qword_10097F948 != -1) {
      swift_once();
    }
    uint64_t v7 = sub_100082C28((uint64_t *)&unk_100984B00);
    sub_100087728(v7, (uint64_t)qword_1009E5558);
    Conditional.evaluate(with:)();
    UILabel.alignment.setter();
    if (qword_10097F958 != -1) {
      swift_once();
    }
    sub_100087728(v7, (uint64_t)qword_1009E5588);
    Conditional.evaluate(with:)();
    return (id)UILabel.alignment.setter();
  }
  return result;
}

void sub_10030EB64(void *a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  id v6 = a1;
  sub_10030E9B0(a3);
}

Class sub_10030EBD0(void *a1)
{
  id v1 = a1;
  uint64_t v2 = sub_10030EC40();

  if (v2)
  {
    v3.super.Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
  }
  else
  {
    v3.super.Class isa = 0;
  }

  return v3.super.isa;
}

uint64_t sub_10030EC40()
{
  sub_100082C28(&qword_100981AD0);
  uint64_t v1 = swift_allocObject();
  *(_OWORD *)(v1 + 16) = xmmword_1007BEDF0;
  id v2 = [v0 contentView];
  *(void *)(v1 + 56) = sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  *(void *)(v1 + 32) = v2;
  if (!*(void *)&v0[qword_1009E2468]
    || (uint64_t v3 = *(void *)&v0[qword_1009E2468 + 8],
        uint64_t ObjectType = swift_getObjectType(),
        id v5 = *(uint64_t (**)(uint64_t, uint64_t))(v3 + 144),
        swift_unknownObjectRetain(),
        id v6 = (void *)v5(ObjectType, v3),
        swift_unknownObjectRelease(),
        !v6))
  {
    swift_bridgeObjectRelease();
    id v6 = _swiftEmptyArrayStorage;
  }
  sub_1000E36C0((uint64_t)v6);
  return v1;
}

void sub_10030ED54(void *a1, uint64_t a2, uint64_t a3)
{
  if (a3) {
    uint64_t v4 = static Array._unconditionallyBridgeFromObjectiveC(_:)();
  }
  else {
    uint64_t v4 = 0;
  }
  id v5 = a1;
  sub_10030EDCC(v4);
}

void sub_10030EDCC(uint64_t a1)
{
  if (a1)
  {
    v2.super.Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
  }
  else
  {
    v2.super.Class isa = 0;
  }
  v3.receiver = v1;
  v3.super_class = (Class)type metadata accessor for LegacyTodayCardCollectionViewCell();
  [super setAccessibilityElements:v2.super.isa];
}

uint64_t sub_10030EE84()
{
  swift_unknownObjectRelease();

  return swift_weakDestroy();
}

id sub_10030EEE4()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for LegacyTodayCardCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_10030EF40(uint64_t a1)
{
  swift_unknownObjectRelease();

  return swift_weakDestroy();
}

uint64_t sub_10030EFAC()
{
  return sub_10030D1FC();
}

uint64_t sub_10030EFC8(uint64_t a1, char a2)
{
  return sub_10030D214(a1, a2 & 1);
}

uint64_t sub_10030EFD0()
{
  return swift_unknownObjectRetain();
}

uint64_t sub_10030F004()
{
  sub_10030F058();

  return swift_release();
}

uint64_t sub_10030F044()
{
  return *(void *)(v0 + qword_1009E2468);
}

uint64_t sub_10030F058()
{
  return swift_weakAssign();
}

void sub_10030F06C()
{
  uint64_t v1 = v0;
  sub_10050F6F0();
  if (*(void *)(v0 + qword_1009E2468))
  {
    uint64_t v2 = *(void *)(v0 + qword_1009E2468 + 8);
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v4 = *(unsigned __int8 *)(v0 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded);
    id v5 = *(void (**)(uint64_t, uint64_t, uint64_t))(v2 + 32);
    swift_unknownObjectRetain();
    v5(v4, ObjectType, v2);
    swift_unknownObjectRelease();
  }
  uint64_t v6 = v0 + qword_1009E2468;
  uint64_t v7 = *(void *)(v0 + qword_1009E2468);
  if (*(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) == 1)
  {
    if (!v7) {
      return;
    }
    uint64_t v8 = *(void *)(v6 + 8);
    uint64_t v9 = swift_getObjectType();
    id v10 = *(uint64_t (**)(uint64_t, uint64_t))(v8 + 16);
    swift_unknownObjectRetain();
    id v14 = (id)v10(v9, v8);
    swift_unknownObjectRelease();
    [v14 _setContinuousCornerRadius:0.0];
  }
  else
  {
    if (!v7) {
      return;
    }
    uint64_t v11 = *(void *)(v6 + 8);
    uint64_t v12 = swift_getObjectType();
    double v13 = *(uint64_t (**)(uint64_t, uint64_t))(v11 + 16);
    swift_unknownObjectRetain();
    id v14 = (id)v13(v12, v11);
    swift_unknownObjectRelease();
    [v14 _setContinuousCornerRadius:14.0];
  }
}

uint64_t sub_10030F218(uint64_t result)
{
  if (*(void *)(v1 + qword_1009E2468))
  {
    uint64_t v2 = result;
    uint64_t v3 = *(void *)(v1 + qword_1009E2468 + 8);
    uint64_t ObjectType = swift_getObjectType();
    id v5 = *(void (**)(uint64_t, uint64_t, uint64_t))(v3 + 128);
    swift_unknownObjectRetain();
    v5(v2, ObjectType, v3);
    return swift_unknownObjectRelease();
  }
  return result;
}

unint64_t sub_10030F2BC()
{
  unint64_t result = qword_10098FED8;
  if (!qword_10098FED8)
  {
    type metadata accessor for TodayCardOverlay();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_10098FED8);
  }
  return result;
}

uint64_t sub_10030F314()
{
  uint64_t v0 = type metadata accessor for Shelf.ContentType();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v17 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)v17 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  id v10 = (char *)v17 - v9;
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v11 = *(void (**)(char *, uint64_t))(v5 + 8);
  v11(v10, v4);
  int v12 = (*(uint64_t (**)(char *, uint64_t))(v1 + 88))(v3, v0);
  if (v12 == enum case for Shelf.ContentType.annotation(_:))
  {
    char v13 = 1;
    return v13 & 1;
  }
  if (v12 != enum case for Shelf.ContentType.productBadge(_:))
  {
    char v13 = sub_100187678();
    (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
    return v13 & 1;
  }
  uint64_t result = ItemLayoutContext.index.getter();
  uint64_t v15 = result + 1;
  if (!__OFADD__(result, 1))
  {
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    swift_getKeyPath();
    ReadOnlyLens.subscript.getter();
    swift_release();
    v11(v7, v4);
    uint64_t v16 = *(void *)(v17[1] + 16);
    swift_bridgeObjectRelease();
    char v13 = v15 < v16;
    return v13 & 1;
  }
  __break(1u);
  return result;
}

uint64_t type metadata accessor for ProductPageSeparatorItemSupplementaryProvider()
{
  return self;
}

UIColor sub_10030F604(uint64_t a1)
{
  return sub_10030F630(0.9, a1, (UIColor *)&qword_1009E2478);
}

UIColor sub_10030F618(uint64_t a1)
{
  return sub_10030F630(0.6, a1, (UIColor *)&qword_1009E2480);
}

UIColor sub_10030F630(double a1, uint64_t a2, UIColor *a3)
{
  sub_10008E8A0();
  uint64_t v5 = self;
  id v6 = [v5 blackColor];
  id v7 = [v6 colorWithAlphaComponent:a1];

  id v8 = [v5 whiteColor];
  id v9 = [v8 colorWithAlphaComponent:a1];

  result.super.Class isa = UIColor.init(light:dark:)((UIColor)v7, (UIColor)v9).super.isa;
  a3->super.Class isa = result.super.isa;
  return result;
}

char *sub_10030F708(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_titleView;
  type metadata accessor for TitleHeaderView(0);
  id v10 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
  uint64_t v11 = v4;
  *(void *)&v4[v9] = [v10 init];
  int v12 = &v11[OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_currentState];
  uint64_t v13 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 - 8) + 56))(v12, 1, 1, v13);

  v19.receiver = v11;
  v19.super_class = (Class)type metadata accessor for InteractiveTitleHeaderView();
  [super initWithFrame:a1, a2, a3, a4];
  uint64_t v15 = self;
  uint64_t v16 = (char *)v14;
  id v17 = [v15 clearColor];
  [v16 setBackgroundColor:v17];

  [v16 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];
  [v16 addSubview:*(void *)&v16[OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_titleView]];

  return v16;
}

id sub_10030FB68()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for InteractiveTitleHeaderView();
  return [super dealloc];
}

uint64_t sub_10030FBEC()
{
  return type metadata accessor for InteractiveTitleHeaderView();
}

uint64_t type metadata accessor for InteractiveTitleHeaderView()
{
  uint64_t result = qword_10098FFD8;
  if (!qword_10098FFD8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_10030FC40()
{
  sub_100092C4C();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_10030FCE0@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = *v1 + OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_currentState;
  swift_beginAccess();
  return sub_100310034(v3, a1);
}

id sub_10030FD38(uint64_t a1)
{
  return sub_10030FD5C(a1);
}

id sub_10030FD5C(uint64_t a1)
{
  objc_super v2 = v1;
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100990400);
  __chkstk_darwin(v4 - 8);
  id v6 = (char *)&aBlock[-1] - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&aBlock[-1] - v8;
  uint64_t v10 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  uint64_t v11 = sub_10004C190();
  int v12 = *(void **)&v1[OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_titleView];
  id result = [v12 overrideUserInterfaceStyle];
  if (result != (id)v11)
  {
    uint64_t v14 = (uint64_t)&v1[OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_currentState];
    swift_beginAccess();
    sub_100310034(v14, (uint64_t)v9);
    uint64_t v15 = *(void *)(v10 - 8);
    int v16 = (*(uint64_t (**)(char *, uint64_t, uint64_t))(v15 + 48))(v9, 1, v10);
    sub_10031009C((uint64_t)v9);
    if (v16 == 1)
    {
      [v12 setOverrideUserInterfaceStyle:v11];
    }
    else
    {
      id v17 = self;
      uint64_t v18 = swift_allocObject();
      *(void *)(v18 + 16) = v2;
      *(void *)(v18 + 24) = v11;
      aBlock[4] = sub_100310200;
      aBlock[5] = v18;
      aBlock[0] = _NSConcreteStackBlock;
      aBlock[1] = 1107296256;
      aBlock[2] = sub_1000162D4;
      aBlock[3] = &unk_1008C5C40;
      objc_super v19 = _Block_copy(aBlock);
      id v20 = v2;
      swift_release();
      [v17 transitionWithView:v12 duration:5308420 options:v19 animations:0 completion:0.4];
      _Block_release(v19);
    }
    sub_1003100FC(a1, (uint64_t)v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v15 + 56))(v6, 0, 1, v10);
    swift_beginAccess();
    sub_100310160((uint64_t)v6, v14);
    return (id)swift_endAccess();
  }
  return result;
}

uint64_t sub_100310034(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100990400);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_10031009C(uint64_t a1)
{
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_100990400);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_1003100FC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_100310160(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100990400);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_1003101C8()
{
  return _swift_deallocObject(v0, 32, 7);
}

id sub_100310200()
{
  return [*(id *)(*(void *)(v0 + 16) + OBJC_IVAR____TtC8AppStore26InteractiveTitleHeaderView_titleView) setOverrideUserInterfaceStyle:*(void *)(v0 + 24)];
}

char *sub_10031021C(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.TextColorOverrides();
  __chkstk_darwin(v9 - 8);
  double v36 = (char *)&v34 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v35 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.Placement();
  uint64_t v11 = *(void *)(v35 - 8);
  __chkstk_darwin(v35);
  uint64_t v13 = (char *)&v34 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.TextAlignment();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  id v17 = (char *)&v34 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_headerView;
  type metadata accessor for CarouselItemModuleHeaderView();
  id v19 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
  id v20 = v4;
  *(void *)&v4[v18] = [v19 init];
  uint64_t v21 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView;
  type metadata accessor for CarouselItemModuleLockupView();
  *(void *)&v20[v21] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v22 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_tapGestureRecognizer;
  *(void *)&v20[v22] = [objc_allocWithZone((Class)UITapGestureRecognizer) init];
  (*(void (**)(char *, void, uint64_t))(v15 + 104))(v17, enum case for HeroCarouselItemOverlay.DisplayOptions.TextAlignment.center(_:), v14);
  (*(void (**)(char *, void, uint64_t))(v11 + 104))(v13, enum case for HeroCarouselItemOverlay.DisplayOptions.Placement.leading(_:), v35);
  HeroCarouselItemOverlay.DisplayOptions.TextColorOverrides.init()();
  HeroCarouselItemOverlay.DisplayOptions.init(textAlignment:horizontalPlacement:textColorOverrides:isOverDarkContent:)();
  double v23 = &v20[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_selectionHandler];
  *(void *)double v23 = 0;
  *((void *)v23 + 1) = 0;

  v38.receiver = v20;
  v38.super_class = ObjectType;
  id v24 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v28 = (char *)v24;
  [v28 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [v28 setMaximumContentSizeCategory:UIContentSizeCategoryAccessibilityMedium];
  id v29 = [v28 layer];
  [v29 setAllowsGroupOpacity:0];

  id v30 = *(void **)&v28[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_tapGestureRecognizer];
  [v30 setEnabled:0];
  [v30 addTarget:v28 action:"handleSelection:"];
  [v30 setDelegate:v28];
  [v28 addGestureRecognizer:v30];
  [v28 addSubview:*(void *)&v28[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_headerView]];
  [v28 addSubview:*(void *)&v28[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView]];
  sub_100082C28(&qword_100985E10);
  uint64_t v31 = swift_allocObject();
  *(_OWORD *)(v31 + 16) = xmmword_1007BEDF0;
  *(void *)(v31 + 32) = type metadata accessor for UITraitPreferredContentSizeCategory();
  *(void *)(v31 + 40) = &protocol witness table for UITraitPreferredContentSizeCategory;
  double v32 = v28;
  UIView.registerForTraitChanges(_:action:)();
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();

  return v32;
}

uint64_t sub_1003106D0@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v22 = a1;
  uint64_t v2 = type metadata accessor for VerticalStack();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v21 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v21 - v7;
  uint64_t v9 = type metadata accessor for DisjointStack();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v21 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  DisjointStack.init(with:)();
  *(void *)(swift_allocObject() + 16) = v1;
  uint64_t v13 = v1;
  VerticalStack.init(with:)();
  uint64_t v14 = *(void **)&v13[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_headerView];
  uint64_t v25 = type metadata accessor for CarouselItemModuleHeaderView();
  double v26 = (void *)sub_100311930(&qword_100990060, (void (*)(uint64_t))type metadata accessor for CarouselItemModuleHeaderView);
  v24[0] = (uint64_t)v14;
  id v15 = v14;
  VerticalStack.adding(_:with:)();
  uint64_t v16 = *(void (**)(char *, uint64_t))(v3 + 8);
  v16(v5, v2);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v24);
  id v17 = *(void **)&v13[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView];
  void v23[3] = type metadata accessor for CarouselItemModuleLockupView();
  v23[4] = sub_100311930(&qword_100990068, (void (*)(uint64_t))type metadata accessor for CarouselItemModuleLockupView);
  v23[0] = v17;
  uint64_t v25 = v2;
  double v26 = &protocol witness table for VerticalStack;
  sub_1000808B8(v24);
  id v18 = v17;
  VerticalStack.adding(_:with:)();
  v16(v8, v2);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v23);
  id v19 = v22;
  v22[3] = v9;
  id v19[4] = (uint64_t)&protocol witness table for DisjointStack;
  sub_1000808B8(v19);
  DisjointStack.inserting(_:at:with:)();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v24);
}

uint64_t sub_100310B08()
{
  uint64_t v0 = type metadata accessor for DisjointStack.EdgePosition();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (uint64_t *)((char *)&v5 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  v3[3] = type metadata accessor for ZeroDimension();
  v3[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v3);
  static ZeroDimension.zero.getter();
  (*(void (**)(uint64_t *, void, uint64_t))(v1 + 104))(v3, enum case for DisjointStack.EdgePosition.anchored(_:), v0);
  return DisjointStack.Properties.bottomEdge.setter();
}

uint64_t sub_100310BFC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.Placement();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v13 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = a2 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_displayOptions;
  swift_beginAccess();
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v11, v7);
  HeroCarouselItemOverlay.DisplayOptions.horizontalPlacement.getter();
  (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
  HeroCarouselItemOverlay.DisplayOptions.Placement.verticalStackAlignment.getter();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  return VerticalStack.Properties.alignment.setter();
}

id sub_100310F54(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  HeroCarouselItemOverlay.displayOptions.getter();
  uint64_t v10 = &v2[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_displayOptions];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v7 + 40))(v10, v9, v6);
  swift_endAccess();
  sub_1002D3064(a1, a2);
  HeroCarouselItemOverlay.displayOptions.getter();
  uint64_t v11 = HeroCarouselItemOverlay.badgeText.getter();
  uint64_t v13 = v12;
  uint64_t v14 = HeroCarouselItemOverlay.descriptionText.getter();
  sub_1004FC85C((uint64_t)v9, v11, v13, v14, v15);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  return [v3 setNeedsLayout];
}

uint64_t sub_1003111BC()
{
  return type metadata accessor for CarouselItemSingleModuleOverlay();
}

uint64_t type metadata accessor for CarouselItemSingleModuleOverlay()
{
  uint64_t result = qword_100990038;
  if (!qword_100990038) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100311210()
{
  uint64_t result = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_1003112BC(uint64_t a1, uint64_t a2)
{
  sub_100311404(a1, a2);

  return sub_10006012C(a1);
}

void sub_100311308()
{
}

void sub_100311334()
{
  unint64_t v1 = *(void **)(*(void *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView)
                            + OBJC_IVAR____TtC8AppStore28CarouselItemModuleLockupView_smallLockupView)
                + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  type metadata accessor for ArtworkView();
  sub_100311930((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v2 = v1;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

id sub_100311404(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_selectionHandler);
  uint64_t v4 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_selectionHandler);
  *uint64_t v3 = a1;
  v3[1] = a2;
  sub_100060050(a1);
  sub_10006012C(v4);
  uint64_t v5 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_tapGestureRecognizer);
  uint64_t v6 = *v3;
  uint64_t v7 = v3[1];
  if (*v3)
  {
    uint64_t v8 = swift_allocObject();
    *(void *)(v8 + 16) = v6;
    *(void *)(v8 + 24) = v7;
    uint64_t v9 = sub_10003EC24;
  }
  else
  {
    uint64_t v9 = 0;
  }
  sub_100060050(v6);
  sub_10006012C((uint64_t)v9);

  return [v5 setEnabled:v6 != 0];
}

uint64_t sub_1003114E4()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_10031151C()
{
  uint64_t v1 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.TextColorOverrides();
  __chkstk_darwin(v1 - 8);
  uint64_t v2 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.Placement();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v14 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for HeroCarouselItemOverlay.DisplayOptions.TextAlignment();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v14 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_headerView;
  type metadata accessor for CarouselItemModuleHeaderView();
  *(void *)&v0[v10] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v11 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView;
  type metadata accessor for CarouselItemModuleLockupView();
  *(void *)&v0[v11] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v12 = OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_tapGestureRecognizer;
  *(void *)&v0[v12] = [objc_allocWithZone((Class)UITapGestureRecognizer) init];
  (*(void (**)(char *, void, uint64_t))(v7 + 104))(v9, enum case for HeroCarouselItemOverlay.DisplayOptions.TextAlignment.center(_:), v6);
  (*(void (**)(char *, void, uint64_t))(v3 + 104))(v5, enum case for HeroCarouselItemOverlay.DisplayOptions.Placement.leading(_:), v2);
  HeroCarouselItemOverlay.DisplayOptions.TextColorOverrides.init()();
  HeroCarouselItemOverlay.DisplayOptions.init(textAlignment:horizontalPlacement:textColorOverrides:isOverDarkContent:)();
  uint64_t v13 = &v0[OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_selectionHandler];
  *(void *)uint64_t v13 = 0;
  *((void *)v13 + 1) = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

BOOL sub_1003117B8(void *a1)
{
  id v2 = [a1 touchesForView:*(void *)(*(void *)(*(void *)(v1 + OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_lockupView)+ OBJC_IVAR____TtC8AppStore28CarouselItemModuleLockupView_smallLockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_offerButton)];
  if (!v2) {
    return 1;
  }
  uint64_t v3 = v2;
  sub_1003118B0();
  sub_100311930((unint64_t *)&qword_1009A2510, (void (*)(uint64_t))sub_1003118B0);
  uint64_t v4 = static Set._unconditionallyBridgeFromObjectiveC(_:)();

  if ((v4 & 0xC000000000000001) != 0) {
    uint64_t v5 = __CocoaSet.count.getter();
  }
  else {
    uint64_t v5 = *(void *)(v4 + 16);
  }
  swift_bridgeObjectRelease();
  return v5 == 0;
}

unint64_t sub_1003118B0()
{
  unint64_t result = qword_100990050;
  if (!qword_100990050)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_100990050);
  }
  return result;
}

uint64_t sub_1003118F0()
{
  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100311928(uint64_t a1)
{
  return sub_100310BFC(a1, *(void *)(v1 + 16));
}

uint64_t sub_100311930(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

char *sub_100311978(double a1, double a2, double a3, double a4)
{
  uint64_t v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v11 = type metadata accessor for AutomationSemantics();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v47 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  NSString v15 = &v5[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_itemLayoutContext];
  uint64_t v16 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v15, 1, 1, v16);
  uint64_t v17 = OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView;
  id v18 = objc_allocWithZone((Class)type metadata accessor for SmallLockupView());
  id v19 = v5;
  *(void *)&v5[v17] = [v18 initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v19[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView] = 0;
  id v20 = &v19[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separator];
  uint64_t v21 = type metadata accessor for Separator();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v20, 1, 1, v21);
  v19[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_hideSeparatorIndependentlyOfLayout] = 0;

  v51.receiver = v19;
  v51.super_class = ObjectType;
  uint64_t v22 = (char *)[super initWithFrame:a1, a2, a3, a4];
  id v23 = [v22 contentView];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  [v23 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];

  [v22 setClipsToBounds:0];
  [v22 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  uint64_t v27 = OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView;
  uint64_t v28 = *(void **)(*(void *)&v22[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView]
                 + OBJC_IVAR____TtC8AppStore14BaseLockupView_titleLabel);
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v29 = v28;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  id v30 = *(void (**)(char *, uint64_t))(v12 + 8);
  v30(v14, v11);
  uint64_t v31 = *(void **)(*(void *)&v22[v27] + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel);
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v32 = v31;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  v30(v14, v11);
  uint64_t v33 = *(void **)(*(void *)&v22[v27] + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v34 = v33;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  v30(v14, v11);
  uint64_t v35 = *(void **)(*(void *)&v22[v27] + OBJC_IVAR____TtC8AppStore14BaseLockupView_ordinalLabel);
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v36 = v35;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  v30(v14, v11);
  uint64_t v37 = *(void *)&v22[v27];
  objc_super v38 = *(void **)(v37 + OBJC_IVAR____TtC8AppStore14BaseLockupView_headingLabel);
  if (v38)
  {
    long long v49 = 0u;
    long long v50 = 0u;
    long long v47 = 0u;
    long long v48 = 0u;
    id v39 = v38;
    static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
    sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
    sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
    UIView.setAutomationSemantics(_:)();

    v30(v14, v11);
    uint64_t v37 = *(void *)&v22[v27];
  }
  unsigned int v40 = *(void **)(v37 + OBJC_IVAR____TtC8AppStore14BaseLockupView_tertiaryTitleLabel);
  if (v40)
  {
    long long v49 = 0u;
    long long v50 = 0u;
    long long v47 = 0u;
    long long v48 = 0u;
    id v41 = v40;
    static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
    sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
    sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
    UIView.setAutomationSemantics(_:)();

    v30(v14, v11);
    uint64_t v37 = *(void *)&v22[v27];
  }
  CGRect v42 = *(void **)(v37 + OBJC_IVAR____TtC8AppStore14BaseLockupView_offerLabel);
  long long v49 = 0u;
  long long v50 = 0u;
  long long v47 = 0u;
  long long v48 = 0u;
  id v43 = v42;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)&v49, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  v30(v14, v11);
  id v44 = [v22 contentView];
  id v45 = *(id *)&v22[v27];
  [v44 addSubview:v45];

  return v22;
}

id sub_100312060()
{
  uint64_t v1 = sub_100082C28((uint64_t *)&unk_1009A3840);
  __chkstk_darwin(v1 - 8);
  uint64_t v3 = &v20[-((v2 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v4 = type metadata accessor for Separator();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = &v20[-((v6 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v8);
  uint64_t v10 = &v20[-v9];
  uint64_t v11 = v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separator;
  swift_beginAccess();
  sub_1000D2380(v11, (uint64_t)v3);
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v5 + 48))(v3, 1, v4) == 1)
  {
    sub_100082BCC((uint64_t)v3, (uint64_t *)&unk_1009A3840);
    id result = *(id *)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView);
    if (result) {
      return [result setHidden:1];
    }
  }
  else
  {
    (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v5 + 32))(v10, v3, v4);
    uint64_t v13 = *(char **)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView);
    if (v13)
    {
      (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v5 + 16))(v7, v10, v4);
      uint64_t v14 = &v13[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
      swift_beginAccess();
      NSString v15 = *(void (**)(char *, unsigned char *, uint64_t))(v5 + 24);
      uint64_t v16 = v13;
      v15(v14, v7, v4);
      swift_endAccess();
      [v16 setNeedsLayout];
      uint64_t v17 = *(void (**)(unsigned char *, uint64_t))(v5 + 8);
      v17(v7, v4);
      [v16 setHidden:0];

      return (id)((uint64_t (*)(unsigned char *, uint64_t))v17)(v10, v4);
    }
    else
    {
      (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v5 + 16))(v7, v10, v4);
      id v18 = [objc_allocWithZone((Class)type metadata accessor for SeparatorView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
      id v19 = &v18[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
      swift_beginAccess();
      (*(void (**)(char *, unsigned char *, uint64_t))(v5 + 40))(v19, v7, v4);
      swift_endAccess();
      sub_100312EB8(v18);

      return (id)(*(uint64_t (**)(unsigned char *, uint64_t))(v5 + 8))(v10, v4);
    }
  }
  return result;
}

uint64_t sub_1003123B0()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = type metadata accessor for Separator();
  uint64_t v4 = *(void *)(v3 - 8);
  *(void *)&double v5 = __chkstk_darwin(v3).n128_u64[0];
  uint64_t v7 = (char *)&v27 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v34.receiver = v1;
  v34.super_class = ObjectType;
  [super layoutSubviews:v5];
  id v8 = [v1 contentView];
  sub_10003A33C();
  LayoutMarginsAware<>.layoutFrame.getter();
  double v10 = v9;
  double v12 = v11;
  double v14 = v13;
  double v16 = v15;

  double v30 = v10;
  double v31 = v12;
  double v32 = v14;
  double v33 = v16;
  uint64_t v17 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView];
  if (!v17) {
    goto LABEL_4;
  }
  id v18 = v17;
  if ([v18 isHidden])
  {

LABEL_4:
    id v19 = 0;
LABEL_7:
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView] setFrame:v10, v12, v14, v16];
    return sub_10006012C((uint64_t)v19);
  }
  id v28 = self;
  uint64_t v20 = swift_allocObject();
  *(void *)(v20 + 16) = v18;
  *(void *)(v20 + 24) = &v30;
  uint64_t v21 = swift_allocObject();
  *(void *)(v21 + 16) = sub_100312FAC;
  *(void *)(v21 + 24) = v20;
  aBlock[4] = sub_10003EC24;
  aBlock[5] = v21;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_10003EBD4;
  aBlock[3] = &unk_1008C5D68;
  uint64_t v22 = _Block_copy(aBlock);
  id v23 = (char *)v18;
  swift_retain();
  swift_release();
  [v28 performWithoutAnimation:v22];
  _Block_release(v22);
  char isEscapingClosureAtFileLocation = swift_isEscapingClosureAtFileLocation();
  uint64_t result = swift_release();
  if ((isEscapingClosureAtFileLocation & 1) == 0)
  {
    double v26 = &v23[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
    swift_beginAccess();
    (*(void (**)(char *, char *, uint64_t))(v4 + 16))(v7, v26, v3);
    CGRect.inset(bySeparator:in:)();

    (*(void (**)(char *, uint64_t))(v4 + 8))(v7, v3);
    double v10 = v30;
    double v12 = v31;
    double v14 = v32;
    double v16 = v33;
    id v19 = sub_100312FAC;
    goto LABEL_7;
  }
  __break(1u);
  return result;
}

id sub_100312708(char *a1)
{
  uint64_t v2 = type metadata accessor for Separator();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  double v5 = (char *)&v16 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = &a1[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v5, v6, v2);
  Separator.frame(forBoundingRect:in:)();
  double v8 = v7;
  double v10 = v9;
  double v12 = v11;
  double v14 = v13;
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  return [a1 setFrame:v8, v10, v12, v14];
}

uint64_t sub_1003129C8()
{
  return type metadata accessor for SmallLockupCollectionViewCell();
}

uint64_t type metadata accessor for SmallLockupCollectionViewCell()
{
  uint64_t result = qword_100990098;
  if (!qword_100990098) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_100312A1C()
{
  sub_1000067EC(319, (unint64_t *)&qword_100984CD0, (void (*)(uint64_t))&type metadata accessor for ItemLayoutContext);
  if (v0 <= 0x3F)
  {
    sub_1000067EC(319, (unint64_t *)&unk_100982840, (void (*)(uint64_t))&type metadata accessor for Separator);
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

id sub_100312B3C()
{
  return objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView)
                           + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView));
}

double sub_100312B5C()
{
  uint64_t v1 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v9 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView)
     + OBJC_IVAR____TtC8AppStore15SmallLockupView_metrics;
  swift_beginAccess();
  (*(void (**)(char *, uint64_t, uint64_t))(v2 + 16))(v4, v5, v1);
  SmallLockupLayout.Metrics.artworkSize.getter();
  double v7 = v6;
  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  return v7;
}

void sub_100312C8C()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView);
  uint64_t v2 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
  id v3 = *(id *)(v1 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  ArtworkView.isImageHidden.setter();

  uint64_t v4 = *(void **)(v1 + v2);
  type metadata accessor for ArtworkView();
  sub_100312DC8((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v5 = v4;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

uint64_t sub_100312D70(uint64_t a1)
{
  uint64_t result = sub_100312DC8(&qword_1009900A8, (void (*)(uint64_t))type metadata accessor for SmallLockupCollectionViewCell);
  *(void *)(a1 + 8) = result;
  return result;
}

uint64_t sub_100312DC8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

double sub_100312E10(void *a1)
{
  type metadata accessor for SmallLockupView();
  if (qword_100980610 != -1) {
    swift_once();
  }
  uint64_t v2 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v3 = sub_100087728(v2, (uint64_t)qword_1009E7358);
  sub_10070A038(v3, a1);
  return v4;
}

id sub_100312EB8(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView;
  double v4 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView];
  if (v4)
  {
    [v4 removeFromSuperview];
    id v5 = *(void **)&v1[v3];
  }
  else
  {
    id v5 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v6 = a1;

  double v7 = *(void **)&v1[v3];
  if (v7)
  {
    id v8 = v7;
    id v9 = [v1 contentView];
    [v9 addSubview:v8];
  }

  return [v1 setNeedsLayout];
}

uint64_t sub_100312F74()
{
  return _swift_deallocObject(v0, 32, 7);
}

id sub_100312FAC()
{
  return sub_100312708(*(char **)(v0 + 16));
}

uint64_t sub_100312FB4()
{
  return _swift_deallocObject(v0, 32, 7);
}

void sub_100312FC4()
{
  uint64_t v1 = &v0[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_itemLayoutContext];
  uint64_t v2 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v2 - 8) + 56))(v1, 1, 1, v2);
  uint64_t v3 = OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView;
  *(void *)&v0[v3] = [objc_allocWithZone((Class)type metadata accessor for SmallLockupView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView] = 0;
  double v4 = &v0[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separator];
  uint64_t v5 = type metadata accessor for Separator();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 56))(v4, 1, 1, v5);
  v0[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_hideSeparatorIndependentlyOfLayout] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_10031310C()
{
  swift_bridgeObjectRelease();
  swift_release();

  return swift_deallocClassInstance();
}

void sub_100313154()
{
  uint64_t v1 = v0;
  v16.receiver = v0;
  v16.super_class = (Class)type metadata accessor for SegmentedViewController();
  [super viewDidLoad];
  id v2 = [v0 view];
  if (!v2)
  {
    __break(1u);
    goto LABEL_12;
  }
  uint64_t v3 = v2;
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  double v4 = (void *)static UIColor.defaultBackground.getter();
  [v3 setBackgroundColor:v4];

  uint64_t v5 = *(void **)&v0[OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView];
  id v6 = (void *)static UIColor.defaultBackground.getter();
  [v5 setBackgroundColor:v6];

  id v7 = [v1 view];
  if (!v7)
  {
LABEL_12:
    __break(1u);
    return;
  }
  id v8 = v7;
  [v7 addSubview:v5];

  id v9 = [v1 traitCollection];
  unint64_t v10 = *(void *)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v10 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v11 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v11 >= 4) {
      goto LABEL_5;
    }
LABEL_7:
    char v12 = UITraitCollection.isRegularPad.getter();

    if (v12) {
      return;
    }
    goto LABEL_8;
  }
  if (*(uint64_t *)((v10 & 0xFFFFFFFFFFFFFF8) + 0x10) < 4) {
    goto LABEL_7;
  }
LABEL_5:

LABEL_8:
  uint64_t v13 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl;
  if (!*(void *)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl])
  {
    id v14 = [objc_allocWithZone((Class)UISegmentedControl) initWithFrame:0.0, 0.0, 0.0, 0.0];
    [v14 addTarget:v1 action:"takeSelectedIndexFrom:" forControlEvents:4096];
    [v5 addSubview:v14];
    double v15 = *(void **)&v1[v13];
    *(void *)&v1[v13] = v14;
  }
}

void sub_1003133A8()
{
  uint64_t v1 = v0;
  v17.receiver = v0;
  v17.super_class = (Class)type metadata accessor for SegmentedViewController();
  [super didReceiveMemoryWarning];
  id v2 = [v0 traitCollection];
  uint64_t v3 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments;
  unint64_t v4 = *(void *)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v4 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v5 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v5 >= 4) {
      goto LABEL_3;
    }
  }
  else if (*(uint64_t *)((v4 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
  {
LABEL_3:

    goto LABEL_6;
  }
  char v6 = UITraitCollection.isRegularPad.getter();

  if (v6) {
    return;
  }
LABEL_6:
  unint64_t v7 = *(void *)&v1[v3];
  if (v7 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v8 = _CocoaArrayWrapper.endIndex.getter();
    if (v8) {
      goto LABEL_8;
    }
LABEL_21:
    swift_bridgeObjectRelease();
    return;
  }
  uint64_t v8 = *(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x10);
  swift_bridgeObjectRetain();
  if (!v8) {
    goto LABEL_21;
  }
LABEL_8:
  if (v8 >= 1)
  {
    uint64_t v9 = 0;
    uint64_t v10 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController;
    while (1)
    {
      if ((v7 & 0xC000000000000001) != 0)
      {
        uint64_t v11 = specialized _ArrayBuffer._getElementSlowPath(_:)();
        char v12 = *(void **)(v11 + 56);
        if (!v12) {
          goto LABEL_10;
        }
      }
      else
      {
        uint64_t v11 = *(void *)(v7 + 8 * v9 + 32);
        swift_retain();
        char v12 = *(void **)(v11 + 56);
        if (!v12) {
          goto LABEL_10;
        }
      }
      uint64_t v13 = *(void **)&v1[v10];
      if (!v13) {
        goto LABEL_19;
      }
      sub_100084CF0(0, (unint64_t *)&qword_100982B30);
      id v14 = v12;
      id v15 = v13;
      char v16 = static NSObject.== infix(_:_:)();

      if ((v16 & 1) == 0)
      {
        char v12 = *(void **)(v11 + 56);
LABEL_19:
        *(void *)(v11 + 56) = 0;
        swift_release();

        goto LABEL_11;
      }
LABEL_10:
      swift_release();
LABEL_11:
      if (v8 == ++v9) {
        goto LABEL_21;
      }
    }
  }
  __break(1u);
}

void sub_1003135F8(uint64_t a1)
{
  id v2 = v1;
  v56.receiver = v2;
  v56.super_class = (Class)type metadata accessor for SegmentedViewController();
  [super traitCollectionDidChange:a1];
  unint64_t v4 = &OBJC_IVAR____TtC8AppStore31CarouselItemSingleModuleOverlay_tapGestureRecognizer;
  uint64_t v5 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments;
  unint64_t v6 = *(void *)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  unint64_t v7 = &stru_100950000;
  unint64_t v8 = v6 >> 62;
  if (!a1)
  {
    if (v8) {
      goto LABEL_43;
    }
    if (*(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10)) {
      goto LABEL_49;
    }
    while (1)
    {
LABEL_16:
      id v15 = [v2 v7[196].name:v53];
      unint64_t v16 = *(void *)&v2[v4[24]];
      if (v16 >> 62)
      {
        swift_bridgeObjectRetain();
        uint64_t v17 = _CocoaArrayWrapper.endIndex.getter();
        swift_bridgeObjectRelease();
        if (v17 >= 4)
        {
LABEL_18:

          goto LABEL_23;
        }
      }
      else if (*(uint64_t *)((v16 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
      {
        goto LABEL_18;
      }
      char v18 = UITraitCollection.isRegularPad.getter();

      if (v18)
      {
        sub_100313FFC();
        uint64_t v19 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl;
        uint64_t v20 = *(void **)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl];
        if (v20)
        {
          [v20 removeFromSuperview];
          uint64_t v21 = *(void **)&v2[v19];
        }
        else
        {
LABEL_40:
          uint64_t v21 = 0;
        }
        *(void *)&v2[v19] = 0;

        goto LABEL_49;
      }
LABEL_23:
      unint64_t v4 = *(uint64_t **)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController];
      uint64_t v22 = &v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers];
      swift_beginAccess();
      CGRect v53 = v22;
      uint64_t v23 = *(void *)v22;
      if (*(void *)v22 >> 62)
      {
        CGRect v42 = v4;
        swift_bridgeObjectRetain();
        uint64_t v24 = _CocoaArrayWrapper.endIndex.getter();
        if (!v24)
        {
LABEL_46:
          swift_bridgeObjectRelease();
          *(void *)CGRect v53 = _swiftEmptyArrayStorage;

          swift_bridgeObjectRelease();
          uint64_t v43 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl;
          if (!*(void *)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl])
          {
            id v44 = [objc_allocWithZone((Class)UISegmentedControl) initWithFrame:0.0, 0.0, 0.0, 0.0];
            [v44 addTarget:v2 action:"takeSelectedIndexFrom:" forControlEvents:4096];
            [*(id *)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView] addSubview:v44];
            id v45 = *(void **)&v2[v43];
            *(void *)&v2[v43] = v44;
          }
          sub_1003145CC();
          goto LABEL_49;
        }
      }
      else
      {
        uint64_t v24 = *(void *)((v23 & 0xFFFFFFFFFFFFFF8) + 0x10);
        uint64_t v25 = v4;
        swift_bridgeObjectRetain();
        if (!v24) {
          goto LABEL_46;
        }
      }
      unint64_t v26 = v23 & 0xC000000000000001;
      uint64_t v27 = 4;
      unint64_t v54 = v23 & 0xC000000000000001;
      CGRect v55 = v2;
      while (1)
      {
        id v29 = v26 ? (id)specialized _ArrayBuffer._getElementSlowPath(_:)() : *(id *)(v23 + 8 * v27);
        double v30 = v29;
        unint64_t v7 = (__objc2_prop *)(v27 - 3);
        if (__OFADD__(v27 - 4, 1)) {
          break;
        }
        if (!v4
          || (sub_100084CF0(0, (unint64_t *)&qword_100982B30),
              double v31 = v4,
              char v32 = static NSObject.== infix(_:_:)(),
              v31,
              (v32 & 1) == 0))
        {
          id v33 = [v30 parentViewController];
          if (v33)
          {
            objc_super v34 = v33;
            sub_100084CF0(0, (unint64_t *)&qword_100982B30);
            uint64_t v35 = v2;
            id v36 = v4;
            uint64_t v37 = v23;
            uint64_t v38 = v24;
            id v39 = v34;
            uint64_t v19 = static NSObject.== infix(_:_:)();

            uint64_t v24 = v38;
            uint64_t v23 = v37;
            unint64_t v4 = v36;
            id v2 = v55;

            unint64_t v26 = v54;
            if (v19)
            {
              if ([v30 isViewLoaded])
              {
                id v40 = [v30 view];
                if (!v40)
                {
                  __break(1u);
                  goto LABEL_40;
                }
                id v28 = v40;
                [v40 removeFromSuperview];
              }
              [v30 willMoveToParentViewController:0];
              [v30 removeFromParentViewController];
            }
          }
        }

        ++v27;
        if (v7 == (__objc2_prop *)v24) {
          goto LABEL_46;
        }
      }
      __break(1u);
LABEL_43:
      swift_bridgeObjectRetain();
      uint64_t v41 = _CocoaArrayWrapper.endIndex.getter();
      swift_bridgeObjectRelease();
      if (v41) {
        goto LABEL_49;
      }
    }
  }
  if (v8)
  {
    swift_bridgeObjectRetain();
    uint64_t v10 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v10 > 3) {
      goto LABEL_4;
    }
  }
  else if (*(uint64_t *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10) > 3)
  {
LABEL_4:
    char v9 = 0;
    goto LABEL_10;
  }
  char v9 = UITraitCollection.isRegularPad.getter();
LABEL_10:
  id v11 = [v2 traitCollection];
  unint64_t v12 = *(void *)&v2[v5];
  if (v12 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v13 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v13 >= 4)
    {
LABEL_12:

      if (v9) {
        goto LABEL_16;
      }
      goto LABEL_49;
    }
  }
  else if (*(uint64_t *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
  {
    goto LABEL_12;
  }
  int v14 = UITraitCollection.isRegularPad.getter() & 1;

  if ((v9 & 1) != v14) {
    goto LABEL_16;
  }
LABEL_49:
  id v46 = sub_100314814();
  id v47 = [v2 childViewControllers];
  sub_100084CF0(0, (unint64_t *)&qword_100982B30);
  unint64_t v48 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

  if (!(v48 >> 62))
  {
    uint64_t v49 = *(void *)((v48 & 0xFFFFFFFFFFFFFF8) + 0x10);
    if (v49) {
      goto LABEL_51;
    }
LABEL_58:

    swift_bridgeObjectRelease();
    return;
  }
  swift_bridgeObjectRetain();
  uint64_t v49 = _CocoaArrayWrapper.endIndex.getter();
  swift_bridgeObjectRelease();
  if (!v49) {
    goto LABEL_58;
  }
LABEL_51:
  if (v49 >= 1)
  {
    for (uint64_t i = 0; i != v49; ++i)
    {
      if ((v48 & 0xC000000000000001) != 0) {
        id v51 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        id v51 = *(id *)(v48 + 8 * i + 32);
      }
      CGRect v52 = v51;
      [v2 setOverrideTraitCollection:v46 forChildViewController:v51];
    }
    goto LABEL_58;
  }
  __break(1u);
}

void sub_100313CE4(uint64_t a1, unint64_t a2)
{
  uint64_t v3 = v2;
  id v6 = [v2 traitCollection];
  uint64_t v7 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments;
  unint64_t v8 = *(void *)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v8 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v9 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v9 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  if (v9 < 4)
  {
    char v10 = UITraitCollection.isRegularPad.getter();

    if (v10) {
      goto LABEL_15;
    }
  }
  else
  {
  }
  if (a1 != -1)
  {
    uint64_t v11 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController;
    unint64_t v12 = *(void **)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController];
    if (v12)
    {
      id v13 = v12;
      id v14 = [v13 parentViewController];
      if (v14)
      {
        id v15 = v14;
        sub_100084CF0(0, (unint64_t *)&qword_100982B30);
        unint64_t v16 = v3;
        id v17 = v15;
        LOBYTE(v15) = static NSObject.== infix(_:_:)();

        if (v15)
        {
          if ([v13 isViewLoaded])
          {
            id v18 = [v13 view];
            if (!v18)
            {
LABEL_32:
              __break(1u);
              return;
            }
            uint64_t v19 = v18;
            [v18 removeFromSuperview];
          }
          [v13 willMoveToParentViewController:0];
          [v13 removeFromParentViewController];
        }
      }
      uint64_t v20 = *(void **)&v3[v11];
      *(void *)&v3[v11] = 0;
    }
  }
LABEL_15:
  if (a2 == -1) {
    goto LABEL_25;
  }
  uint64_t v21 = *(void *)&v3[v7];
  if ((v21 & 0xC000000000000001) != 0)
  {
    swift_bridgeObjectRetain();
    uint64_t v22 = specialized _ArrayBuffer._getElementSlowPath(_:)();
    uint64_t v23 = swift_bridgeObjectRelease();
    uint64_t v24 = *(void **)(v22 + 56);
    if (v24) {
      goto LABEL_20;
    }
LABEL_23:
    uint64_t v24 = (void *)(*(uint64_t (**)(uint64_t))(v22 + 40))(v23);
    uint64_t v27 = *(void **)(v22 + 56);
    *(void *)(v22 + 56) = v24;
    id v26 = v24;

    uint64_t v25 = 0;
    goto LABEL_24;
  }
  if ((a2 & 0x8000000000000000) != 0)
  {
    __break(1u);
    goto LABEL_30;
  }
  if (*(void *)((v21 & 0xFFFFFFFFFFFFFF8) + 0x10) <= a2)
  {
LABEL_30:
    __break(1u);
    goto LABEL_31;
  }
  uint64_t v22 = *(void *)(v21 + 8 * a2 + 32);
  uint64_t v23 = swift_retain();
  uint64_t v24 = *(void **)(v22 + 56);
  if (!v24) {
    goto LABEL_23;
  }
LABEL_20:
  uint64_t v25 = v24;
  id v26 = v24;
LABEL_24:
  id v28 = v25;
  sub_1003149E0(v26);
  id v29 = *(void **)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController];
  *(void *)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController] = v24;
  swift_release();

LABEL_25:
  [*(id *)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl] setSelectedSegmentIndex:a2];
  id v30 = [v3 view];
  if (!v30)
  {
LABEL_31:
    __break(1u);
    goto LABEL_32;
  }
  id v31 = v30;
  [v30 bringSubviewToFront:*(void *)&v3[OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView]];
}

void sub_100313FFC()
{
  uint64_t v1 = v0;
  id v2 = &stru_100950000;
  id v3 = [v0 traitCollection];
  uint64_t v4 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments;
  unint64_t v5 = *(void *)&v0[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v5 >> 62)
  {
    id v53 = v3;
    swift_bridgeObjectRetain();
    uint64_t v6 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    id v3 = v53;
    if (v6 >= 4) {
      goto LABEL_3;
    }
  }
  else if (*(uint64_t *)((v5 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
  {
LABEL_3:

    return;
  }
  id v54 = v3;
  char v7 = UITraitCollection.isRegularPad.getter();

  if ((v7 & 1) == 0) {
    return;
  }
  unint64_t v8 = *(void *)&v1[v4];
  if (v8 >> 62)
  {
LABEL_44:
    swift_bridgeObjectRetain();
    uint64_t v9 = _CocoaArrayWrapper.endIndex.getter();
    if (v9) {
      goto LABEL_10;
    }
  }
  else
  {
    uint64_t v9 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v9)
    {
LABEL_10:
      id v51 = &v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers];
      uint64_t v10 = 4;
      long long v48 = xmmword_1007BEFA0;
      uint64_t v49 = v4;
      uint64_t v50 = v9;
      while (1)
      {
        uint64_t v11 = v10 - 4;
        if ((v8 & 0xC000000000000001) != 0)
        {
          uint64_t v12 = specialized _ArrayBuffer._getElementSlowPath(_:)();
          uint64_t v13 = v10 - 3;
          if (__OFADD__(v11, 1)) {
            goto LABEL_43;
          }
        }
        else
        {
          uint64_t v12 = *(void *)(v8 + 8 * v10);
          swift_retain();
          uint64_t v13 = v10 - 3;
          if (__OFADD__(v11, 1))
          {
LABEL_43:
            __break(1u);
            goto LABEL_44;
          }
        }
        id v14 = *(void **)(v12 + 56);
        id v55 = (id)v10;
        uint64_t v52 = v13;
        if (v14)
        {
          id v15 = *(id *)(v12 + 56);
        }
        else
        {
          unint64_t v16 = (void *)(*(uint64_t (**)(void))(v12 + 40))();
          id v17 = *(void **)(v12 + 56);
          *(void *)(v12 + 56) = v16;
          id v15 = v16;

          id v14 = 0;
        }
        id v18 = v14;
        id v19 = [v15 parentViewController];
        if (!v19) {
          goto LABEL_21;
        }
        uint64_t v20 = v19;
        sub_100084CF0(0, (unint64_t *)&qword_100982B30);
        uint64_t v21 = v1;
        id v22 = v20;
        LOBYTE(v20) = static NSObject.== infix(_:_:)();

        if ((v20 & 1) == 0)
        {
LABEL_21:
          [v1 addChildViewController:v15];
          id v23 = [v1 view];
          if (!v23)
          {
            __break(1u);
LABEL_50:
            __break(1u);
LABEL_51:
            __break(1u);
            return;
          }
          uint64_t v24 = v23;
          id v25 = [v15 view];
          if (!v25) {
            goto LABEL_50;
          }
          id v26 = v25;
          [v24 addSubview:v25];

          swift_getObjectType();
          uint64_t v27 = swift_conformsToProtocol2();
          if (v27) {
            uint64_t v28 = v27;
          }
          else {
            uint64_t v28 = 0;
          }
          if (v27) {
            id v29 = v15;
          }
          else {
            id v29 = 0;
          }
          if (v29)
          {
            uint64_t ObjectType = swift_getObjectType();
            id v31 = v2;
            char v32 = *(void (**)(char *, _UNKNOWN **, uint64_t, uint64_t))(v28 + 16);
            id v33 = v1;
            id v34 = v15;
            v32(v1, &off_1008C5D90, ObjectType, v28);
            id v2 = v31;
            uint64_t v4 = v49;
          }
        }
        id v35 = [v1 v2[196].name:v48];
        unint64_t v36 = *(void *)&v1[v4];
        if (v36 >> 62)
        {
          swift_bridgeObjectRetain();
          uint64_t v37 = _CocoaArrayWrapper.endIndex.getter();
          swift_bridgeObjectRelease();
        }
        else
        {
          uint64_t v37 = *(void *)((v36 & 0xFFFFFFFFFFFFFF8) + 0x10);
        }
        if (v37 >= 4) {
          break;
        }
        char v38 = UITraitCollection.isRegularPad.getter();

        if ((v38 & 1) == 0) {
          goto LABEL_37;
        }
        sub_100082C28(&qword_100982B50);
        uint64_t v39 = swift_allocObject();
        *(_OWORD *)(v39 + 16) = v48;
        *(void *)(v39 + 32) = [v1 v2[196].name];
        id v40 = self;
        *(void *)(v39 + 40) = [v40 traitCollectionWithHorizontalSizeClass:1];
        specialized Array._endMutation()();
        sub_100084CF0(0, (unint64_t *)&qword_1009842A8);
        Class isa = Array._bridgeToObjectiveC()().super.isa;
        swift_bridgeObjectRelease();
        id v42 = [v40 traitCollectionWithTraitsFromCollections:isa];

LABEL_38:
        [v1 setOverrideTraitCollection:v42 forChildViewController:v15];

        swift_beginAccess();
        id v43 = v15;
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((*(void *)v51 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((*(void *)v51 & 0xFFFFFFFFFFFFFF8)
                                                                                     + 0x18) >> 1)
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();
        swift_endAccess();

        swift_release();
        uint64_t v10 = (uint64_t)v55 + 1;
        if (v52 == v50) {
          goto LABEL_45;
        }
      }

LABEL_37:
      id v42 = [v1 v2[196].name];
      goto LABEL_38;
    }
  }
LABEL_45:
  swift_bridgeObjectRelease();
  id v44 = *(void **)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl];
  if (v44)
  {
    id v45 = v44;
    id v46 = [v1 view];
    if (!v46) {
      goto LABEL_51;
    }
    id v47 = v46;
    [v46 bringSubviewToFront:v45];
  }
}

void sub_1003145CC()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl);
  if (!v1) {
    return;
  }
  id v7 = v1;
  [v7 removeAllSegments];
  unint64_t v2 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments);
  if (v2 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v3 = _CocoaArrayWrapper.endIndex.getter();
    if (v3) {
      goto LABEL_4;
    }
LABEL_15:
    swift_bridgeObjectRelease();
    [v7 setSelectedSegmentIndex:*(void *)(v0 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedIndex)];

    return;
  }
  uint64_t v3 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
  swift_bridgeObjectRetain();
  if (!v3) {
    goto LABEL_15;
  }
LABEL_4:
  if (v3 >= 1)
  {
    uint64_t v4 = 0;
    while (1)
    {
      if ((v2 & 0xC000000000000001) != 0)
      {
        if (!*(void *)(specialized _ArrayBuffer._getElementSlowPath(_:)() + 24)) {
          goto LABEL_12;
        }
      }
      else
      {
        uint64_t v6 = *(void *)(v2 + 8 * v4 + 32);
        swift_retain();
        if (!*(void *)(v6 + 24))
        {
LABEL_12:
          NSString v5 = 0;
          goto LABEL_7;
        }
      }
      swift_bridgeObjectRetain();
      NSString v5 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
LABEL_7:
      [v7 insertSegmentWithTitle:v5 atIndex:v4 animated:0];
      swift_release();

      if (v3 == ++v4) {
        goto LABEL_15;
      }
    }
  }
  __break(1u);
}

id sub_100314814()
{
  uint64_t v1 = v0;
  id v2 = [v0 traitCollection];
  unint64_t v3 = *(void *)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v3 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v4 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v4 >= 4) {
      goto LABEL_3;
    }
  }
  else if (*(uint64_t *)((v3 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
  {
LABEL_3:

    goto LABEL_7;
  }
  char v5 = UITraitCollection.isRegularPad.getter();

  if (v5)
  {
    sub_100082C28(&qword_100982B50);
    uint64_t v6 = swift_allocObject();
    *(_OWORD *)(v6 + 16) = xmmword_1007BEFA0;
    *(void *)(v6 + 32) = [v1 traitCollection];
    id v7 = self;
    *(void *)(v6 + 40) = [v7 traitCollectionWithHorizontalSizeClass:1];
    specialized Array._endMutation()();
    sub_100084CF0(0, (unint64_t *)&qword_1009842A8);
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v9 = [v7 traitCollectionWithTraitsFromCollections:isa];

    return v9;
  }
LABEL_7:
  id v11 = [v1 traitCollection];

  return v11;
}

void sub_1003149E0(void *a1)
{
  id v2 = v1;
  id v4 = [a1 parentViewController];
  if (!v4) {
    goto LABEL_3;
  }
  char v5 = v4;
  sub_100084CF0(0, (unint64_t *)&qword_100982B30);
  id v6 = v2;
  id v7 = v5;
  LOBYTE(v5) = static NSObject.== infix(_:_:)();

  if ((v5 & 1) == 0)
  {
LABEL_3:
    [v2 addChildViewController:a1];
    id v8 = [v2 view];
    if (v8)
    {
      id v9 = v8;
      id v10 = [a1 view];
      if (v10)
      {
        id v11 = v10;
        [v9 addSubview:v10];

        swift_getObjectType();
        uint64_t v12 = swift_conformsToProtocol2();
        if (v12) {
          uint64_t v13 = v12;
        }
        else {
          uint64_t v13 = 0;
        }
        if (v12) {
          id v14 = a1;
        }
        else {
          id v14 = 0;
        }
        if (v14)
        {
          uint64_t ObjectType = swift_getObjectType();
          unint64_t v16 = *(void (**)(void *, _UNKNOWN **, uint64_t, uint64_t))(v13 + 16);
          id v17 = v2;
          id v18 = a1;
          v16(v2, &off_1008C5D90, ObjectType, v13);
        }
        goto LABEL_13;
      }
    }
    else
    {
      __break(1u);
    }
    __break(1u);
    return;
  }
LABEL_13:
  id v19 = sub_100314814();
  [v2 setOverrideTraitCollection:v19 forChildViewController:a1];
}

void sub_100314BAC()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  char v5 = (char *)&v44 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v6 = (objc_class *)type metadata accessor for SegmentedViewController();
  v46.receiver = v0;
  v46.super_class = v6;
  [super viewWillLayoutSubviews];
  id v7 = [v0 view];
  if (!v7)
  {
    __break(1u);
    goto LABEL_16;
  }
  id v8 = v7;
  [v7 bounds];
  CGFloat v45 = v9;
  CGFloat v11 = v10;
  CGFloat v13 = v12;
  CGFloat v15 = v14;

  [v1 pageMarginInsets];
  double v17 = v16;
  double v44 = v18;
  id v19 = [v1 view];
  if (!v19)
  {
LABEL_16:
    __break(1u);
    return;
  }
  uint64_t v20 = v19;
  id v21 = [v19 safeAreaLayoutGuide];

  [v21 layoutFrame];
  CGFloat v23 = v22;
  CGFloat v25 = v24;
  CGFloat v27 = v26;
  CGFloat v29 = v28;

  v47.origin.x = v23;
  v47.origin.y = v25;
  v47.size.width = v27;
  v47.size.height = v29;
  double MinY = CGRectGetMinY(v47);
  CGFloat v31 = v45;
  double v33 = sub_100314F74(v45, v11, v13, v15, MinY, v17, v32, v44);
  double v35 = v34;
  id v36 = [v1 traitCollection:v33];
  LOBYTE(v21) = UITraitCollection.isSizeClassCompact.getter();

  double v37 = 0.0;
  if (v21)
  {
    if (qword_10097FC20 != -1) {
      swift_once();
    }
    uint64_t v38 = type metadata accessor for StaticDimension();
    sub_100087728(v38, (uint64_t)qword_1009E5D60);
    static Dimensions.defaultRoundingRule.getter();
    AnyDimension.value(in:rounded:)();
    double v37 = v39;
    (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  }
  id v40 = [v1 traitCollection];
  unint64_t v41 = *(void *)&v1[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v41 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v42 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  else
  {
    uint64_t v42 = *(void *)((v41 & 0xFFFFFFFFFFFFFF8) + 0x10);
  }
  if (v42 < 4)
  {
    char v43 = UITraitCollection.isRegularPad.getter();

    if (v43)
    {
      sub_1003154A4(v31, v11, v13, v15, v35 + v37, 0.0, 0.0, 0.0);
      return;
    }
  }
  else
  {
  }
  sub_10031530C(v31, v11, v13, v15, v35 + v37, 0.0, 0.0, 0.0);
}

double sub_100314F74(CGFloat a1, CGFloat a2, CGFloat a3, CGFloat a4, double a5, double a6, double a7, double a8)
{
  uint64_t v9 = v8;
  double v34 = a8;
  double v35 = a6;
  uint64_t v14 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  double v17 = (char *)&v32 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  v36.origin.x = a1;
  v36.origin.y = a2;
  v36.size.width = a3;
  v36.size.height = a4;
  double Width = CGRectGetWidth(v36);
  id v19 = *(void **)(v8 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerView);
  if (v19)
  {
    id v20 = v19;
    [v20 sizeThatFits:a3, a4];
    double v22 = v21;
    v37.origin.x = a1;
    v37.origin.y = a2;
    v37.size.width = a3;
    v37.size.height = a4;
    CGRectGetWidth(v37);
    CGRect.withLayoutDirection(in:relativeTo:)();
    [v20 setFrame:];

    double v23 = v22 + 0.0;
  }
  else
  {
    double v23 = 0.0;
  }
  double v24 = *(void **)(v8 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl);
  if (v24)
  {
    id v25 = v24;
    if ((uint64_t)[v25 numberOfSegments] < 2)
    {
      [v25 setHidden:1];
    }
    else
    {
      [v25 setHidden:0];
      [v25 sizeThatFits:a3, a4];
      double v32 = v26;
      v38.origin.x = a1;
      v38.origin.y = a2;
      v38.size.width = a3;
      v38.size.height = a4;
      CGRectGetWidth(v38);
      double v33 = Width;
      id v27 = v25;
      double v28 = v32;
      double Width = v33;
      CGRect.withLayoutDirection(in:relativeTo:)();
      [v27 setFrame:];

      double v23 = v23 + v28;
    }
  }
  if (v23 >= COERCE_DOUBLE(1))
  {
    if (qword_10097FC20 != -1) {
      swift_once();
    }
    uint64_t v29 = type metadata accessor for StaticDimension();
    sub_100087728(v29, (uint64_t)qword_1009E5D60);
    static Dimensions.defaultRoundingRule.getter();
    AnyDimension.value(in:rounded:)();
    (*(void (**)(char *, uint64_t))(v15 + 8))(v17, v14);
  }
  v39.origin.x = a1;
  v39.origin.y = a2;
  v39.size.width = a3;
  v39.size.height = a4;
  CGRectGetMinX(v39);
  v40.origin.x = a1;
  v40.origin.y = a2;
  v40.size.width = a3;
  v40.size.height = a4;
  CGRectGetMinY(v40);
  id v30 = *(void **)(v9 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView);
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v30 setFrame:];
  return Width;
}

void sub_10031530C(double a1, double a2, double a3, double a4, double a5, double a6, double a7, double a8)
{
  uint64_t v9 = *(void **)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController];
  if (v9)
  {
    id v18 = v9;
    id v19 = [v18 view];
    if (!v19)
    {
      __break(1u);
      return;
    }
    id v20 = v19;
    [v19 setFrame:a1, a2, a3, a4];

    id v21 = [v18 contentScrollView];
    if (v21)
    {
      double v22 = v21;
      if ([v21 contentInsetAdjustmentBehavior] != (id)2)
      {
        [v22 setContentInset:a5, a6, a7, a8];
        [v22 setScrollIndicatorInsets:a5, a6, a7, a8];
      }
      id v23 = v22;
      [v8 setContentScrollView:v23 forEdge:15];
    }
  }
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_multipleScrollObserver] = 0;
  swift_release();
  double v24 = &v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress];
  *(void *)double v24 = 0;
  v24[8] = 1;

  sub_100315BA4();
}

id sub_1003154A4(CGFloat a1, CGFloat a2, CGFloat a3, CGFloat a4, double a5, double a6, double a7, double a8)
{
  [v8 pageMarginInsets];
  v38.origin.x = a1;
  v38.origin.y = a2;
  v38.size.width = a3;
  v38.size.height = a4;
  CGRectGetWidth(v38);
  sub_10012D740(v13);
  uint64_t v14 = &v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers];
  swift_beginAccess();
  if (*(void *)v14 >> 62) {
    goto LABEL_18;
  }
  while (1)
  {
    uint64_t v15 = *(void *)v14;
    double v33 = v14;
    if (*(void *)v14 >> 62) {
      break;
    }
    uint64_t v16 = *(void *)((v15 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (!v16) {
      goto LABEL_20;
    }
LABEL_4:
    uint64_t v17 = 4;
    while (1)
    {
      id v19 = (v15 & 0xC000000000000001) != 0
          ? (id)specialized _ArrayBuffer._getElementSlowPath(_:)()
          : *(id *)(v15 + 8 * v17);
      id v18 = v19;
      uint64_t v14 = (char *)(v17 - 3);
      if (__OFADD__(v17 - 4, 1)) {
        break;
      }
      v39.origin.x = a1;
      v39.origin.y = a2;
      v39.size.width = a3;
      v39.size.height = a4;
      CGRectGetMinX(v39);
      v40.origin.x = a1;
      v40.origin.y = a2;
      v40.size.width = a3;
      v40.size.height = a4;
      CGRectGetMinY(v40);
      v41.origin.x = a1;
      v41.origin.y = a2;
      v41.size.width = a3;
      v41.size.height = a4;
      CGRectGetHeight(v41);
      id result = [v18 view];
      if (!result) {
        goto LABEL_36;
      }
      id v21 = result;
      CGRect.withLayoutDirection(in:relativeTo:)();
      [v21 setFrame:];

      id v22 = [v18 contentScrollView];
      if (v22)
      {
        id v23 = v22;
        if ([v22 contentInsetAdjustmentBehavior] != (id)2)
        {
          [v23 contentInset];
          [v23 setContentInset:a5, a6, a7, a8];
          [v23 setScrollIndicatorInsets:a5, a6, a7, a8];
          [v23 contentOffset];
          [v23 setContentOffset:];
        }
        self;
        uint64_t v24 = swift_dynamicCastObjCClass();
        if (v24)
        {
          id v25 = (void *)v24;
          id v23 = v23;
          id v26 = [v25 collectionViewLayout];
          [v26 invalidateLayout];

          id v18 = v23;
        }

        id v18 = v23;
      }

      ++v17;
      if (v14 == (char *)v16) {
        goto LABEL_20;
      }
    }
    __break(1u);
LABEL_18:
    swift_bridgeObjectRetain();
    _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  uint64_t v16 = _CocoaArrayWrapper.endIndex.getter();
  if (v16) {
    goto LABEL_4;
  }
LABEL_20:
  swift_bridgeObjectRelease();
  uint64_t v27 = *(void *)v33;
  if (*(void *)v33 >> 62)
  {
    swift_bridgeObjectRetain_n();
    id result = (id)_CocoaArrayWrapper.endIndex.getter();
    uint64_t v28 = (uint64_t)result;
    if (!result) {
      goto LABEL_34;
    }
LABEL_22:
    if (v28 >= 1)
    {
      for (uint64_t i = 0; i != v28; ++i)
      {
        if ((v27 & 0xC000000000000001) != 0) {
          id v30 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else {
          id v30 = *(id *)(v27 + 8 * i + 32);
        }
        CGFloat v31 = v30;
        id v32 = [v30 contentScrollView];

        if (v32)
        {
          specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
          if (*(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
            specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
          }
          specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
          specialized Array._endMutation()();
        }
      }
      goto LABEL_34;
    }
    __break(1u);
LABEL_36:
    __break(1u);
  }
  else
  {
    uint64_t v28 = *(void *)((v27 & 0xFFFFFFFFFFFFFF8) + 0x10);
    id result = (id)swift_bridgeObjectRetain_n();
    if (v28) {
      goto LABEL_22;
    }
LABEL_34:
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_1003159D8((unint64_t)_swiftEmptyArrayStorage);
    return (id)swift_bridgeObjectRelease();
  }
  return result;
}

unint64_t sub_1003159D8(unint64_t result)
{
  unint64_t v2 = result;
  if (result >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v5 = _CocoaArrayWrapper.endIndex.getter();
    id result = swift_bridgeObjectRelease();
    if (!v5) {
      return result;
    }
  }
  else if (!*(void *)((result & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    return result;
  }
  type metadata accessor for MultipleScrollObserver();
  uint64_t v3 = (void *)swift_allocObject();
  v3[2] = v2;
  uint64_t v4 = swift_allocObject();
  swift_unknownObjectWeakInit();
  v3[3] = sub_100316168;
  v3[4] = v4;
  swift_bridgeObjectRetain();
  sub_10006012C(0);
  *(void *)(v1 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_multipleScrollObserver) = v3;

  return swift_release();
}

void sub_100315AD8(double a1)
{
  swift_beginAccess();
  uint64_t Strong = (unsigned char *)swift_unknownObjectWeakLoadStrong();
  if (Strong
    && (double v3 = *(double *)&Strong[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress],
        char v4 = Strong[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress + 8],
        Strong,
        (v4 & 1) == 0))
  {
    if (v3 == a1) {
      return;
    }
  }
  else if (a1 == 1.79769313e308)
  {
    return;
  }
  swift_beginAccess();
  uint64_t v5 = swift_unknownObjectWeakLoadStrong();
  if (v5)
  {
    id v6 = (void *)v5;
    uint64_t v7 = v5 + OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress;
    *(double *)uint64_t v7 = a1;
    *(unsigned char *)(v7 + 8) = 0;
    sub_100315BA4();
  }
}

void sub_100315BA4()
{
  if (v0[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress + 8])
  {
    id v1 = [v0 navigationItem];
    unsigned int v2 = [v1 _isManualScrollEdgeAppearanceEnabled];

    if (!v2) {
      return;
    }
    id v10 = [v0 navigationItem];
    [v10 _setManualScrollEdgeAppearanceEnabled:0];
    goto LABEL_9;
  }
  double v3 = *(double *)&v0[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress];
  id v4 = [v0 navigationItem];
  [v4 _manualScrollEdgeAppearanceProgress];
  double v6 = v5;

  if (v6 != v3)
  {
    id v7 = [v0 navigationItem];
    [v7 _setManualScrollEdgeAppearanceProgress:v3];
  }
  id v8 = [v0 navigationItem];
  unsigned __int8 v9 = [v8 _isManualScrollEdgeAppearanceEnabled];

  if ((v9 & 1) == 0)
  {
    id v10 = [v0 navigationItem];
    [v10 _setManualScrollEdgeAppearanceEnabled:1];
LABEL_9:
  }
}

id sub_100315D34(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v6 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView;
  id v7 = objc_allocWithZone((Class)UIView);
  id v8 = v3;
  *(void *)&v3[v6] = [v7 init];
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerView] = 0;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments] = _swiftEmptyArrayStorage;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedIndex] = -1;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_multipleScrollObserver] = 0;
  unsigned __int8 v9 = &v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress];
  *(void *)unsigned __int8 v9 = 0;
  v9[8] = 1;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController] = 0;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers] = _swiftEmptyArrayStorage;
  *(void *)&v8[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl] = 0;

  if (a2)
  {
    NSString v10 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v10 = 0;
  }
  v13.receiver = v8;
  v13.super_class = (Class)type metadata accessor for SegmentedViewController();
  id v11 = [super initWithNibName:v10 bundle:a3];

  return v11;
}

id sub_100315EE0(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerBackgroundView;
  id v4 = objc_allocWithZone((Class)UIView);
  double v5 = v1;
  *(void *)&v1[v3] = [v4 init];
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_headerView] = 0;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments] = _swiftEmptyArrayStorage;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedIndex] = -1;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_multipleScrollObserver] = 0;
  uint64_t v6 = &v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_navigationBarAppearanceProgress];
  *(void *)uint64_t v6 = 0;
  v6[8] = 1;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectedViewController] = 0;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers] = _swiftEmptyArrayStorage;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore23SegmentedViewController_selectorControl] = 0;

  v9.receiver = v5;
  v9.super_class = (Class)type metadata accessor for SegmentedViewController();
  id v7 = [super initWithCoder:a1];

  return v7;
}

id sub_100316018()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for SegmentedViewController();
  return [super dealloc];
}

uint64_t type metadata accessor for SegmentedViewController()
{
  return self;
}

uint64_t type metadata accessor for SegmentedViewController.Segment()
{
  return self;
}

uint64_t sub_100316130()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_100316168(double a1)
{
}

double sub_100316170(double a1)
{
  objc_super v2 = v1;
  id v4 = [v1 traitCollection];
  unint64_t v5 = *(void *)&v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_segments];
  if (v5 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v6 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v6 >= 4) {
      goto LABEL_3;
    }
  }
  else if (*(uint64_t *)((v5 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 4)
  {
LABEL_3:

    return a1;
  }
  char v7 = UITraitCollection.isRegularPad.getter();

  if (v7)
  {
    [v2 pageMarginInsets];
    double v9 = v8;
    double v11 = v10;
    id v12 = [v2 traitCollection];
    char v13 = UITraitCollection.isRegularPad.getter();

    if (v13)
    {
      [v2 pageContainerSize];
      uint64_t v16 = sub_1004B66EC(v14, v15);
      double v18 = v17 + v17 + sub_10012D740(v16);
    }
    else
    {
      [v2 pageMarginInsets];
      double v20 = v19;
      double v22 = v21;
      [v2 pageContainerSize];
      double v18 = v23 - v20 - v22;
    }
    double v24 = a1 - v9;
    id v25 = &v2[OBJC_IVAR____TtC8AppStore23SegmentedViewController_columnViewControllers];
    swift_beginAccess();
    unint64_t v26 = *(void *)v25;
    if (v26 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v27 = _CocoaArrayWrapper.endIndex.getter();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v27 = *(void *)((v26 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    a1 = v24 - v11;
    if (v27 >= 1) {
      return a1 / (double)v27 - v18 / (double)v27;
    }
  }
  return a1;
}

char *sub_10031636C(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  double v10 = &v4[OBJC_IVAR____TtC8AppStore38ProductEditorsChoiceCollectionViewCell_itemLayoutContext];
  uint64_t v11 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 56))(v10, 1, 1, v11);
  uint64_t v12 = OBJC_IVAR____TtC8AppStore38ProductEditorsChoiceCollectionViewCell_editorsChoiceView;
  type metadata accessor for ProductEditorsChoiceView();
  id v13 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
  double v14 = v4;
  *(void *)&v4[v12] = [v13 init];

  v20.receiver = v14;
  v20.super_class = ObjectType;
  double v15 = (char *)objc_msgSendSuper2(&v20, "initWithFrame:", a1, a2, a3, a4);
  id v16 = [v15 contentView];
  [v16 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v17 = [v15 contentView];
  id v18 = *(id *)&v15[OBJC_IVAR____TtC8AppStore38ProductEditorsChoiceCollectionViewCell_editorsChoiceView];
  [v17 addSubview:v18];

  return v15;
}

uint64_t sub_100316734()
{
  return type metadata accessor for ProductEditorsChoiceCollectionViewCell();
}

uint64_t type metadata accessor for ProductEditorsChoiceCollectionViewCell()
{
  uint64_t result = qword_100990200;
  if (!qword_100990200) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100316788@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = Shelf.rowsPerColumn.getter();
  *a1 = result;
  return result;
}

uint64_t sub_1003167B8(uint64_t a1)
{
  uint64_t v26 = a1;
  uint64_t v2 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v24 = (uint64_t)&v24 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  char v7 = (char *)&v24 - v6;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100990400);
  __chkstk_darwin(v8 - 8);
  double v10 = (char *)&v24 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  id v13 = (char *)&v24 - v12;
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100990420);
  uint64_t v15 = v14 - 8;
  __chkstk_darwin(v14);
  id v17 = (char *)&v24 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = v1;
  uint64_t v18 = v1 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_currentState;
  swift_beginAccess();
  uint64_t v19 = (uint64_t)&v17[*(int *)(v15 + 56)];
  sub_100082B68(v18, (uint64_t)v17, (uint64_t *)&unk_100990400);
  sub_100082B68(v26, v19, (uint64_t *)&unk_100990400);
  objc_super v20 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v3 + 48);
  if (v20((uint64_t)v17, 1, v2) == 1)
  {
    if (v20(v19, 1, v2) == 1) {
      return sub_100082BCC((uint64_t)v17, (uint64_t *)&unk_100990400);
    }
  }
  else
  {
    sub_100082B68((uint64_t)v17, (uint64_t)v13, (uint64_t *)&unk_100990400);
    if (v20(v19, 1, v2) != 1)
    {
      sub_10031A814(v19, (uint64_t)v7);
      char v22 = sub_100319284((uint64_t)v13, (uint64_t)v7);
      sub_10031A878((uint64_t)v7);
      sub_10031A878((uint64_t)v13);
      uint64_t result = sub_100082BCC((uint64_t)v17, (uint64_t *)&unk_100990400);
      if (v22) {
        return result;
      }
      goto LABEL_8;
    }
    sub_10031A878((uint64_t)v13);
  }
  sub_100082BCC((uint64_t)v17, (uint64_t *)&unk_100990420);
LABEL_8:
  sub_100082B68(v18, (uint64_t)v10, (uint64_t *)&unk_100990400);
  if (v20((uint64_t)v10, 1, v2) == 1) {
    return sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100990400);
  }
  uint64_t v23 = v24;
  sub_10031A814((uint64_t)v10, v24);
  sub_100316AF4();
  return sub_10031A878(v23);
}

uint64_t sub_100316AF4()
{
  uint64_t v0 = type metadata accessor for IndexPath();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  IndexPath.section.getter();
  IndexPath.init(item:section:)();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (!Strong) {
    goto LABEL_4;
  }
  uint64_t v5 = (void *)Strong;
  type metadata accessor for InteractiveSectionBackgroundView();
  static UICollectionReusableView.elementKind.getter();
  NSString v6 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
  id v8 = [v5 _visibleDecorationViewOfKind:v6 atIndexPath:isa];

  if (!v8
    || (*(void *)&v16[0] = v8,
        sub_10031A8D4(),
        sub_100082C28((uint64_t *)&unk_100997A50),
        (swift_dynamicCast() & 1) == 0))
  {
LABEL_4:
    uint64_t v19 = 0;
    memset(v18, 0, sizeof(v18));
  }
  sub_100316D98((uint64_t)v18);
  uint64_t v9 = swift_unknownObjectWeakLoadStrong();
  if (!v9) {
    goto LABEL_8;
  }
  double v10 = (void *)v9;
  uint64_t v11 = UICollectionElementKindSectionHeader;
  Class v12 = IndexPath._bridgeToObjectiveC()().super.isa;
  id v13 = [v10 _visibleSupplementaryViewOfKind:v11 atIndexPath:v12];

  if (!v13 || (v15[1] = v13, sub_10031A8D4(), sub_100082C28((uint64_t *)&unk_100997A50), (swift_dynamicCast() & 1) == 0))
  {
LABEL_8:
    uint64_t v17 = 0;
    memset(v16, 0, sizeof(v16));
  }
  sub_100316D98((uint64_t)v16);
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100997A40);
  return sub_100082BCC((uint64_t)v18, (uint64_t *)&unk_100997A40);
}

uint64_t sub_100316D98(uint64_t a1)
{
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_100990420);
  __chkstk_darwin(v3);
  uint64_t v46 = (uint64_t)&v39 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100990400);
  __chkstk_darwin(v5 - 8);
  char v7 = (char *)&v39 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  double v10 = (char *)&v39 - v9;
  __chkstk_darwin(v11);
  id v13 = (char *)&v39 - v12;
  __chkstk_darwin(v14);
  uint64_t v16 = (long long *)((char *)&v39 - v15);
  uint64_t v17 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  uint64_t v44 = (uint64_t)&v39 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  char v22 = (char *)&v39 - v21;
  sub_100082B68(a1, (uint64_t)&v47, (uint64_t *)&unk_100997A40);
  if (!v48) {
    return sub_100082BCC((uint64_t)&v47, (uint64_t *)&unk_100997A40);
  }
  uint64_t v42 = a1;
  uint64_t v43 = v3;
  CGRect v41 = v7;
  CGFloat v45 = v22;
  sub_100081DD4(&v47, (uint64_t)v50);
  uint64_t v23 = v1 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_currentState;
  swift_beginAccess();
  sub_100082B68(v23, (uint64_t)v16, (uint64_t *)&unk_100990400);
  uint64_t v24 = *(unsigned int (**)(long long *, uint64_t, uint64_t))(v18 + 48);
  if (v24(v16, 1, v17) == 1)
  {
    uint64_t v25 = (uint64_t *)&unk_100990400;
    uint64_t v26 = v16;
LABEL_16:
    sub_100082BCC((uint64_t)v26, v25);
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
  }
  uint64_t v40 = v1;
  uint64_t v28 = (uint64_t)v45;
  sub_10031A814((uint64_t)v16, (uint64_t)v45);
  uint64_t v29 = v51;
  uint64_t v30 = v52;
  sub_100081D90(v50, v51);
  (*(void (**)(uint64_t, uint64_t))(v30 + 8))(v29, v30);
  sub_1003100FC(v28, (uint64_t)v10);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v18 + 56))(v10, 0, 1, v17);
  uint64_t v31 = v46;
  uint64_t v32 = v46 + *(int *)(v43 + 48);
  sub_100082B68((uint64_t)v13, v46, (uint64_t *)&unk_100990400);
  sub_100082B68((uint64_t)v10, v32, (uint64_t *)&unk_100990400);
  if (v24((long long *)v31, 1, v17) == 1)
  {
    sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100990400);
    sub_100082BCC((uint64_t)v13, (uint64_t *)&unk_100990400);
    if (v24((long long *)v32, 1, v17) == 1)
    {
      sub_100082BCC(v31, (uint64_t *)&unk_100990400);
      uint64_t v33 = (uint64_t)v45;
LABEL_12:
      sub_10031A878(v33);
      return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
    }
    goto LABEL_10;
  }
  uint64_t v34 = (uint64_t)v41;
  sub_100082B68(v31, (uint64_t)v41, (uint64_t *)&unk_100990400);
  if (v24((long long *)v32, 1, v17) == 1)
  {
    sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100990400);
    sub_100082BCC((uint64_t)v13, (uint64_t *)&unk_100990400);
    sub_10031A878(v34);
LABEL_10:
    sub_100082BCC(v31, (uint64_t *)&unk_100990420);
    uint64_t v33 = (uint64_t)v45;
    goto LABEL_13;
  }
  uint64_t v35 = v44;
  sub_10031A814(v32, v44);
  char v36 = sub_100319284(v34, v35);
  sub_10031A878(v35);
  sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100990400);
  sub_100082BCC((uint64_t)v13, (uint64_t *)&unk_100990400);
  sub_10031A878(v34);
  sub_100082BCC(v31, (uint64_t *)&unk_100990400);
  uint64_t v33 = (uint64_t)v45;
  if (v36) {
    goto LABEL_12;
  }
LABEL_13:
  sub_100082B68(v42, (uint64_t)&v47, (uint64_t *)&unk_100997A40);
  uint64_t v37 = v48;
  if (!v48)
  {
    sub_10031A878(v33);
    uint64_t v25 = (uint64_t *)&unk_100997A40;
    uint64_t v26 = &v47;
    goto LABEL_16;
  }
  uint64_t v38 = v49;
  sub_100081D90(&v47, v48);
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v38 + 16))(v33, *(void *)(v40 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_objectGraph), v37, v38);
  sub_10031A878(v33);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v47);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
}

uint64_t sub_1003172CC()
{
  uint64_t v1 = v0 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_shelfLayoutContext;
  uint64_t v2 = type metadata accessor for ShelfLayoutContext();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);
  swift_unknownObjectWeakDestroy();
  swift_release();
  sub_100082BCC(v0 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_currentState, (uint64_t *)&unk_100990400);

  return swift_deallocClassInstance();
}

uint64_t sub_1003173A4()
{
  return type metadata accessor for InteractiveSectionBackgroundScrollObserver(0);
}

uint64_t type metadata accessor for InteractiveSectionBackgroundScrollObserver(uint64_t a1)
{
  return sub_10007F0EC(a1, qword_100990248);
}

void sub_1003173CC()
{
  type metadata accessor for ShelfLayoutContext();
  if (v0 <= 0x3F)
  {
    sub_100092C4C();
    if (v1 <= 0x3F) {
      swift_updateClassMetadata2();
    }
  }
}

uint64_t *sub_1003174B0(uint64_t *a1, uint64_t *a2, int *a3)
{
  int v5 = *(_DWORD *)(*((void *)a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v13 = *a2;
    *a1 = *a2;
    a1 = (uint64_t *)(v13 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    uint64_t v7 = type metadata accessor for ShelfBackground();
    uint64_t v8 = *(void (**)(uint64_t *, uint64_t *, uint64_t))(*(void *)(v7 - 8) + 16);
    v8(a1, a2, v7);
    uint64_t v9 = a3[6];
    *(uint64_t *)((char *)a1 + a3[5]) = *(uint64_t *)((char *)a2 + a3[5]);
    double v10 = (char *)a1 + v9;
    uint64_t v11 = (char *)a2 + v9;
    uint64_t v12 = type metadata accessor for IndexPath();
    (*(void (**)(char *, char *, uint64_t))(*(void *)(v12 - 8) + 16))(v10, v11, v12);
    v8((uint64_t *)((char *)a1 + a3[7]), (uint64_t *)((char *)a2 + a3[7]), v7);
  }
  return a1;
}

uint64_t sub_1003175F0(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for ShelfBackground();
  uint64_t v9 = *(uint64_t (**)(uint64_t, uint64_t))(*(void *)(v4 - 8) + 8);
  ((void (*)(void *__return_ptr, uint64_t, uint64_t))v9)((void *)(v4 - 8), a1, v4);
  uint64_t v5 = a1 + *(int *)(a2 + 24);
  uint64_t v6 = type metadata accessor for IndexPath();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v6 - 8) + 8))(v5, v6);
  uint64_t v7 = a1 + *(int *)(a2 + 28);

  return v9(v7, v4);
}

uint64_t sub_1003176D0(uint64_t a1, uint64_t a2, int *a3)
{
  uint64_t v6 = type metadata accessor for ShelfBackground();
  uint64_t v7 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v6 - 8) + 16);
  v7(a1, a2, v6);
  uint64_t v8 = a3[6];
  *(void *)(a1 + a3[5]) = *(void *)(a2 + a3[5]);
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = type metadata accessor for IndexPath();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 16))(v9, v10, v11);
  v7(a1 + a3[7], a2 + a3[7], v6);
  return a1;
}

uint64_t sub_1003177C0(uint64_t a1, uint64_t a2, int *a3)
{
  uint64_t v6 = type metadata accessor for ShelfBackground();
  uint64_t v7 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v6 - 8) + 24);
  v7(a1, a2, v6);
  *(void *)(a1 + a3[5]) = *(void *)(a2 + a3[5]);
  uint64_t v8 = a3[6];
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = type metadata accessor for IndexPath();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 24))(v9, v10, v11);
  v7(a1 + a3[7], a2 + a3[7], v6);
  return a1;
}

uint64_t sub_1003178B4(uint64_t a1, uint64_t a2, int *a3)
{
  uint64_t v6 = type metadata accessor for ShelfBackground();
  uint64_t v7 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v6 - 8) + 32);
  v7(a1, a2, v6);
  uint64_t v8 = a3[6];
  *(void *)(a1 + a3[5]) = *(void *)(a2 + a3[5]);
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = type metadata accessor for IndexPath();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 32))(v9, v10, v11);
  v7(a1 + a3[7], a2 + a3[7], v6);
  return a1;
}

uint64_t sub_1003179A4(uint64_t a1, uint64_t a2, int *a3)
{
  uint64_t v6 = type metadata accessor for ShelfBackground();
  uint64_t v7 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v6 - 8) + 40);
  v7(a1, a2, v6);
  uint64_t v8 = a3[6];
  *(void *)(a1 + a3[5]) = *(void *)(a2 + a3[5]);
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = type metadata accessor for IndexPath();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 40))(v9, v10, v11);
  v7(a1 + a3[7], a2 + a3[7], v6);
  return a1;
}

uint64_t sub_100317A94(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_100317AA8);
}

uint64_t sub_100317AA8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = type metadata accessor for ShelfBackground();
  uint64_t v7 = *(void *)(v6 - 8);
  if (*(_DWORD *)(v7 + 84) == a2)
  {
    uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v7 + 48);
    return v8(a1, a2, v6);
  }
  else
  {
    uint64_t v10 = type metadata accessor for IndexPath();
    uint64_t v11 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 48);
    uint64_t v12 = v10;
    uint64_t v13 = a1 + *(int *)(a3 + 24);
    return v11(v13, a2, v12);
  }
}

uint64_t sub_100317BA0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_100317BB4);
}

uint64_t sub_100317BB4(uint64_t a1, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t v8 = type metadata accessor for ShelfBackground();
  uint64_t v9 = *(void *)(v8 - 8);
  if (*(_DWORD *)(v9 + 84) == a3)
  {
    uint64_t v10 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v9 + 56);
    return v10(a1, a2, a2, v8);
  }
  else
  {
    uint64_t v12 = type metadata accessor for IndexPath();
    uint64_t v13 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v12 - 8) + 56);
    uint64_t v14 = v12;
    uint64_t v15 = a1 + *(int *)(a4 + 24);
    return v13(v15, a2, a2, v14);
  }
}

unint64_t sub_100317CC0()
{
  unint64_t result = qword_1009903F8;
  if (!qword_1009903F8)
  {
    type metadata accessor for InteractiveSectionBackgroundScrollObserver(255);
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009903F8);
  }
  return result;
}

uint64_t sub_100317D18(uint64_t *a1)
{
  uint64_t v2 = *a1;
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  *a1 = v2;
  if ((isUniquelyReferenced_nonNull_native & 1) == 0)
  {
    uint64_t v2 = sub_10031925C(v2);
    *a1 = v2;
  }
  uint64_t v4 = *(void *)(v2 + 16);
  v6[0] = v2 + 32;
  v6[1] = v4;
  sub_100317D94(v6);
  return specialized ContiguousArray._endMutation()();
}

void sub_100317D94(uint64_t *a1)
{
  uint64_t v131 = type metadata accessor for IndexPath();
  uint64_t v2 = *(void *)(v131 - 8);
  __chkstk_darwin(v131);
  unint64_t v130 = (char *)&v116 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v129 = (char *)&v116 - v5;
  Swift::Int v6 = a1[1];
  Swift::Int v7 = _minimumMergeRunLength(_:)(v6);
  if (v7 >= v6)
  {
    if (v6 < 0) {
      goto LABEL_134;
    }
    if (v6) {
      sub_100318724(0, v6, 1, a1);
    }
    return;
  }
  if (v6 >= 0) {
    uint64_t v8 = v6;
  }
  else {
    uint64_t v8 = v6 + 1;
  }
  if (v6 < -1) {
    goto LABEL_142;
  }
  Swift::Int v121 = v7;
  if (v6 < 2)
  {
    uint64_t v11 = (char *)_swiftEmptyArrayStorage;
    uint64_t v134 = (uint64_t)_swiftEmptyArrayStorage;
    uint64_t v126 = (void **)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 32);
    if (v6 != 1)
    {
      unint64_t v14 = _swiftEmptyArrayStorage[2];
LABEL_100:
      uint64_t v107 = v127;
      if (v14 >= 2)
      {
        uint64_t v108 = *a1;
        do
        {
          unint64_t v109 = v14 - 2;
          if (v14 < 2) {
            goto LABEL_129;
          }
          if (!v108) {
            goto LABEL_141;
          }
          uint64_t v110 = v11;
          uint64_t v111 = v11 + 32;
          uint64_t v112 = *(void *)&v11[16 * v109 + 32];
          uint64_t v113 = *(void *)&v11[16 * v14 + 24];
          sub_10031895C(v108 + 8 * v112, (void **)(v108 + 8 * *(void *)&v111[16 * v14 - 16]), (void **)(v108 + 8 * v113), v126);
          if (v107) {
            break;
          }
          if (v113 < v112) {
            goto LABEL_130;
          }
          if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
            uint64_t v110 = sub_100319234((uint64_t)v110);
          }
          if (v109 >= *((void *)v110 + 2)) {
            goto LABEL_131;
          }
          uint64_t v114 = &v110[16 * v109 + 32];
          *(void *)uint64_t v114 = v112;
          *((void *)v114 + 1) = v113;
          unint64_t v115 = *((void *)v110 + 2);
          if (v14 > v115) {
            goto LABEL_132;
          }
          uint64_t v11 = v110;
          memmove(&v110[16 * v14 + 16], &v110[16 * v14 + 32], 16 * (v115 - v14));
          *((void *)v110 + 2) = v115 - 1;
          unint64_t v14 = v115 - 1;
        }
        while (v115 > 2);
      }
LABEL_111:
      swift_bridgeObjectRelease();
      *(void *)((v134 & 0xFFFFFFFFFFFFFF8) + 0x10) = 0;
      specialized Array._endMutation()();
      swift_bridgeObjectRelease();
      return;
    }
  }
  else
  {
    uint64_t v9 = v8 >> 1;
    sub_100082C28(&qword_1009838F0);
    uint64_t v10 = static Array._allocateBufferUninitialized(minimumCapacity:)();
    *(void *)((v10 & 0xFFFFFFFFFFFFFF8) + 0x10) = v9;
    uint64_t v126 = (void **)((v10 & 0xFFFFFFFFFFFFFF8) + 32);
    uint64_t v134 = v10;
  }
  Swift::Int v12 = 0;
  uint64_t v13 = *a1;
  uint64_t v128 = (void (**)(char *, uint64_t))(v2 + 8);
  uint64_t v119 = v13 + 16;
  uint64_t v117 = a1;
  uint64_t v118 = v13 - 8;
  uint64_t v11 = (char *)_swiftEmptyArrayStorage;
  Swift::Int v124 = v6;
  uint64_t v133 = v13;
  while (1)
  {
    Swift::Int v15 = v12;
    Swift::Int v16 = v12 + 1;
    Swift::Int v123 = v12;
    if (v12 + 1 < v6)
    {
      uint64_t v17 = *(void **)(v13 + 8 * v16);
      uint64_t v18 = *(void **)(v13 + 8 * v12);
      swift_unknownObjectRetain();
      swift_unknownObjectRetain();
      id v19 = [v17 indexPath];
      uint64_t v20 = v129;
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      id v21 = [v18 indexPath];
      char v22 = v130;
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      LODWORD(v132) = static IndexPath.< infix(_:_:)();
      uint64_t v23 = *v128;
      uint64_t v24 = v22;
      uint64_t v25 = v131;
      (*v128)(v24, v131);
      v23(v20, v25);
      swift_unknownObjectRelease();
      Swift::Int v6 = v124;
      swift_unknownObjectRelease();
      Swift::Int v16 = v15 + 2;
      if (v15 + 2 < v6)
      {
        uint64_t v120 = v11;
        uint64_t v26 = (void **)(v119 + 8 * v15);
        while (1)
        {
          Swift::Int v27 = v16;
          uint64_t v29 = *(v26 - 1);
          uint64_t v28 = *v26;
          swift_unknownObjectRetain();
          swift_unknownObjectRetain();
          id v30 = [v28 indexPath];
          uint64_t v31 = v129;
          static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

          id v32 = [v29 indexPath];
          uint64_t v33 = v130;
          static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

          LODWORD(v32) = static IndexPath.< infix(_:_:)();
          uint64_t v34 = v33;
          uint64_t v35 = v131;
          v23(v34, v131);
          v23(v31, v35);
          swift_unknownObjectRelease();
          swift_unknownObjectRelease();
          if ((v132 ^ v32)) {
            break;
          }
          ++v16;
          ++v26;
          Swift::Int v6 = v124;
          if (v124 == v27 + 1)
          {
            Swift::Int v16 = v124;
            uint64_t v11 = v120;
            goto LABEL_22;
          }
        }
        uint64_t v11 = v120;
        Swift::Int v6 = v124;
LABEL_22:
        Swift::Int v15 = v123;
      }
      uint64_t v13 = v133;
      if (v132)
      {
        if (v16 < v15) {
          goto LABEL_135;
        }
        if (v15 < v16)
        {
          char v36 = (uint64_t *)(v118 + 8 * v16);
          Swift::Int v37 = v16;
          Swift::Int v38 = v15;
          uint64_t v39 = (uint64_t *)(v133 + 8 * v15);
          do
          {
            if (v38 != --v37)
            {
              if (!v13) {
                goto LABEL_140;
              }
              uint64_t v40 = *v39;
              *uint64_t v39 = *v36;
              *char v36 = v40;
            }
            ++v38;
            --v36;
            ++v39;
          }
          while (v38 < v37);
        }
      }
    }
    if (v16 >= v6) {
      goto LABEL_50;
    }
    if (__OFSUB__(v16, v15)) {
      goto LABEL_133;
    }
    if (v16 - v15 >= v121) {
      goto LABEL_50;
    }
    if (__OFADD__(v15, v121)) {
      goto LABEL_136;
    }
    Swift::Int v41 = v15 + v121 >= v6 ? v6 : v15 + v121;
    if (v41 < v15) {
      break;
    }
    if (v16 != v41)
    {
      uint64_t v120 = v11;
      uint64_t v42 = v118 + 8 * v16;
      Swift::Int v122 = v41;
      do
      {
        uint64_t v44 = *(void **)(v13 + 8 * v16);
        Swift::Int v45 = v15;
        uint64_t v125 = v42;
        Swift::Int v132 = v16;
        while (1)
        {
          uint64_t v46 = *(void **)v42;
          swift_unknownObjectRetain();
          swift_unknownObjectRetain();
          id v47 = [v44 indexPath];
          uint64_t v48 = v129;
          static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

          id v49 = [v46 indexPath];
          uint64_t v50 = v130;
          static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

          LOBYTE(v49) = static IndexPath.< infix(_:_:)();
          uint64_t v51 = *v128;
          uint64_t v52 = v50;
          uint64_t v53 = v131;
          (*v128)(v52, v131);
          v51(v48, v53);
          swift_unknownObjectRelease();
          swift_unknownObjectRelease();
          if ((v49 & 1) == 0) {
            break;
          }
          Swift::Int v43 = v132;
          uint64_t v13 = v133;
          if (!v133) {
            goto LABEL_138;
          }
          id v54 = *(void **)v42;
          uint64_t v44 = *(void **)(v42 + 8);
          *(void *)uint64_t v42 = v44;
          *(void *)(v42 + 8) = v54;
          v42 -= 8;
          if (v43 == ++v45) {
            goto LABEL_43;
          }
        }
        Swift::Int v43 = v132;
        uint64_t v13 = v133;
LABEL_43:
        Swift::Int v16 = v43 + 1;
        uint64_t v42 = v125 + 8;
        Swift::Int v15 = v123;
      }
      while (v16 != v122);
      Swift::Int v16 = v122;
      uint64_t v11 = v120;
    }
LABEL_50:
    if (v16 < v15) {
      goto LABEL_128;
    }
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v11 = sub_100318E80(0, *((void *)v11 + 2) + 1, 1, v11);
    }
    unint64_t v56 = *((void *)v11 + 2);
    unint64_t v55 = *((void *)v11 + 3);
    unint64_t v14 = v56 + 1;
    uint64_t v13 = v133;
    if (v56 >= v55 >> 1)
    {
      uint64_t v106 = sub_100318E80((char *)(v55 > 1), v56 + 1, 1, v11);
      uint64_t v13 = v133;
      uint64_t v11 = v106;
    }
    *((void *)v11 + 2) = v14;
    Swift::String v57 = v11 + 32;
    uint64_t v58 = &v11[16 * v56 + 32];
    *(void *)uint64_t v58 = v15;
    *((void *)v58 + 1) = v16;
    Swift::Int v132 = v16;
    if (v56)
    {
      while (1)
      {
        unint64_t v59 = v14 - 1;
        if (v14 >= 4)
        {
          uint64_t v64 = &v57[16 * v14];
          uint64_t v65 = *((void *)v64 - 8);
          uint64_t v66 = *((void *)v64 - 7);
          BOOL v70 = __OFSUB__(v66, v65);
          uint64_t v67 = v66 - v65;
          if (v70) {
            goto LABEL_117;
          }
          uint64_t v69 = *((void *)v64 - 6);
          uint64_t v68 = *((void *)v64 - 5);
          BOOL v70 = __OFSUB__(v68, v69);
          uint64_t v62 = v68 - v69;
          char v63 = v70;
          if (v70) {
            goto LABEL_118;
          }
          unint64_t v71 = v14 - 2;
          uint64_t v72 = &v57[16 * v14 - 32];
          uint64_t v74 = *(void *)v72;
          uint64_t v73 = *((void *)v72 + 1);
          BOOL v70 = __OFSUB__(v73, v74);
          uint64_t v75 = v73 - v74;
          if (v70) {
            goto LABEL_120;
          }
          BOOL v70 = __OFADD__(v62, v75);
          uint64_t v76 = v62 + v75;
          if (v70) {
            goto LABEL_123;
          }
          if (v76 >= v67)
          {
            id v94 = &v57[16 * v59];
            uint64_t v96 = *(void *)v94;
            uint64_t v95 = *((void *)v94 + 1);
            BOOL v70 = __OFSUB__(v95, v96);
            uint64_t v97 = v95 - v96;
            if (v70) {
              goto LABEL_127;
            }
            BOOL v87 = v62 < v97;
            goto LABEL_87;
          }
        }
        else
        {
          if (v14 != 3)
          {
            uint64_t v88 = *((void *)v11 + 4);
            uint64_t v89 = *((void *)v11 + 5);
            BOOL v70 = __OFSUB__(v89, v88);
            uint64_t v81 = v89 - v88;
            char v82 = v70;
            goto LABEL_81;
          }
          uint64_t v61 = *((void *)v11 + 4);
          uint64_t v60 = *((void *)v11 + 5);
          BOOL v70 = __OFSUB__(v60, v61);
          uint64_t v62 = v60 - v61;
          char v63 = v70;
        }
        if (v63) {
          goto LABEL_119;
        }
        unint64_t v71 = v14 - 2;
        uint64_t v77 = &v57[16 * v14 - 32];
        uint64_t v79 = *(void *)v77;
        uint64_t v78 = *((void *)v77 + 1);
        BOOL v80 = __OFSUB__(v78, v79);
        uint64_t v81 = v78 - v79;
        char v82 = v80;
        if (v80) {
          goto LABEL_122;
        }
        uint64_t v83 = &v57[16 * v59];
        uint64_t v85 = *(void *)v83;
        uint64_t v84 = *((void *)v83 + 1);
        BOOL v70 = __OFSUB__(v84, v85);
        uint64_t v86 = v84 - v85;
        if (v70) {
          goto LABEL_125;
        }
        if (__OFADD__(v81, v86)) {
          goto LABEL_126;
        }
        if (v81 + v86 >= v62)
        {
          BOOL v87 = v62 < v86;
LABEL_87:
          if (v87) {
            unint64_t v59 = v71;
          }
          goto LABEL_89;
        }
LABEL_81:
        if (v82) {
          goto LABEL_121;
        }
        NSString v90 = &v57[16 * v59];
        uint64_t v92 = *(void *)v90;
        uint64_t v91 = *((void *)v90 + 1);
        BOOL v70 = __OFSUB__(v91, v92);
        uint64_t v93 = v91 - v92;
        if (v70) {
          goto LABEL_124;
        }
        if (v93 < v81) {
          goto LABEL_14;
        }
LABEL_89:
        unint64_t v98 = v59 - 1;
        if (v59 - 1 >= v14)
        {
          __break(1u);
LABEL_114:
          __break(1u);
LABEL_115:
          __break(1u);
LABEL_116:
          __break(1u);
LABEL_117:
          __break(1u);
LABEL_118:
          __break(1u);
LABEL_119:
          __break(1u);
LABEL_120:
          __break(1u);
LABEL_121:
          __break(1u);
LABEL_122:
          __break(1u);
LABEL_123:
          __break(1u);
LABEL_124:
          __break(1u);
LABEL_125:
          __break(1u);
LABEL_126:
          __break(1u);
LABEL_127:
          __break(1u);
LABEL_128:
          __break(1u);
LABEL_129:
          __break(1u);
LABEL_130:
          __break(1u);
LABEL_131:
          __break(1u);
LABEL_132:
          __break(1u);
LABEL_133:
          __break(1u);
LABEL_134:
          __break(1u);
LABEL_135:
          __break(1u);
LABEL_136:
          __break(1u);
          goto LABEL_137;
        }
        if (!v13) {
          goto LABEL_139;
        }
        uint64_t v99 = v11;
        uint64_t v100 = &v57[16 * v98];
        uint64_t v101 = *(void *)v100;
        uint64_t v102 = &v57[16 * v59];
        uint64_t v103 = *((void *)v102 + 1);
        uint64_t v104 = v127;
        sub_10031895C(v13 + 8 * *(void *)v100, (void **)(v13 + 8 * *(void *)v102), (void **)(v13 + 8 * v103), v126);
        uint64_t v127 = v104;
        if (v104) {
          goto LABEL_111;
        }
        if (v103 < v101) {
          goto LABEL_114;
        }
        if (v59 > *((void *)v99 + 2)) {
          goto LABEL_115;
        }
        *(void *)uint64_t v100 = v101;
        *(void *)&v57[16 * v98 + 8] = v103;
        unint64_t v105 = *((void *)v99 + 2);
        if (v59 >= v105) {
          goto LABEL_116;
        }
        uint64_t v11 = v99;
        unint64_t v14 = v105 - 1;
        memmove(&v57[16 * v59], v102 + 16, 16 * (v105 - 1 - v59));
        *((void *)v99 + 2) = v105 - 1;
        uint64_t v13 = v133;
        if (v105 <= 2) {
          goto LABEL_14;
        }
      }
    }
    unint64_t v14 = 1;
LABEL_14:
    Swift::Int v6 = v124;
    Swift::Int v12 = v132;
    if (v132 >= v124)
    {
      a1 = v117;
      goto LABEL_100;
    }
  }
LABEL_137:
  __break(1u);
LABEL_138:
  __break(1u);
LABEL_139:
  __break(1u);
LABEL_140:
  __break(1u);
LABEL_141:
  __break(1u);
LABEL_142:
  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_100318724(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  uint64_t v28 = a1;
  uint64_t v33 = type metadata accessor for IndexPath();
  __chkstk_darwin(v33);
  id v32 = (char *)&v26 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v31 = (char *)&v26 - v10;
  uint64_t v27 = a2;
  if (a3 != a2)
  {
    uint64_t v11 = *a4;
    uint64_t v30 = v9 + 8;
    uint64_t v34 = v11;
    uint64_t v12 = v11 + 8 * a3 - 8;
    unint64_t v14 = (void (**)(char *, uint64_t))(v9 + 8);
    uint64_t v13 = v31;
LABEL_5:
    Swift::Int v15 = *(void **)(v34 + 8 * a3);
    uint64_t v16 = v28;
    uint64_t v29 = v12;
    while (1)
    {
      uint64_t v17 = *(void **)v12;
      swift_unknownObjectRetain();
      uint64_t v35 = v17;
      swift_unknownObjectRetain();
      id v18 = [v15 indexPath];
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      id v19 = [v17 indexPath];
      uint64_t v20 = v32;
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      LOBYTE(v19) = static IndexPath.< infix(_:_:)();
      uint64_t v21 = a3;
      char v22 = *v14;
      uint64_t v23 = v20;
      uint64_t v24 = v33;
      (*v14)(v23, v33);
      v22(v13, v24);
      a3 = v21;
      swift_unknownObjectRelease();
      swift_unknownObjectRelease();
      if ((v19 & 1) == 0)
      {
LABEL_4:
        a3 = v21 + 1;
        uint64_t v12 = v29 + 8;
        if (v21 + 1 == v27) {
          return;
        }
        goto LABEL_5;
      }
      if (!v34) {
        break;
      }
      uint64_t v25 = *(void **)v12;
      Swift::Int v15 = *(void **)(v12 + 8);
      *(void *)uint64_t v12 = v15;
      *(void *)(v12 + 8) = v25;
      v12 -= 8;
      if (v21 == ++v16) {
        goto LABEL_4;
      }
    }
    __break(1u);
  }
}

uint64_t sub_10031895C(uint64_t a1, void **a2, void **a3, void **a4)
{
  uint64_t v56 = type metadata accessor for IndexPath();
  uint64_t v8 = *(void *)(v56 - 8);
  __chkstk_darwin(v56);
  unint64_t v55 = (char *)&v47 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v53 = a3;
  id v54 = (char *)&v47 - v12;
  uint64_t v13 = (uint64_t)a2 - a1;
  uint64_t v14 = v13 / 8;
  Swift::Int v15 = a2;
  uint64_t v16 = (char *)a3 - (char *)a2;
  uint64_t v17 = v16 / 8;
  uint64_t v60 = v11;
  unint64_t v59 = a4;
  Swift::String v57 = v11;
  if (v13 / 8 >= v16 / 8)
  {
    if (v16 < -7) {
      goto LABEL_42;
    }
    if (a4 != v15 || &v15[v17] <= a4)
    {
      memmove(a4, v15, 8 * v17);
      uint64_t v11 = v57;
    }
    uint64_t v30 = &a4[v17];
    uint64_t v58 = v30;
    uint64_t v60 = v15;
    if (v16 < 8 || v11 >= v15) {
      goto LABEL_41;
    }
    uint64_t v48 = (void (**)(char *, uint64_t))(v8 + 8);
    id v49 = a4;
    uint64_t v31 = v53 - 1;
    id v32 = v15;
    while (1)
    {
      uint64_t v53 = v15;
      uint64_t v51 = v30;
      uint64_t v52 = v31 + 1;
      uint64_t v33 = *--v30;
      uint64_t v34 = *(v32 - 1);
      uint64_t v50 = v32 - 1;
      swift_unknownObjectRetain();
      swift_unknownObjectRetain();
      id v35 = [v33 indexPath];
      char v36 = v54;
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      id v37 = [v34 indexPath];
      Swift::Int v38 = v55;
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      LOBYTE(v37) = static IndexPath.< infix(_:_:)();
      uint64_t v39 = *v48;
      uint64_t v40 = v38;
      uint64_t v41 = v56;
      (*v48)(v40, v56);
      v39(v36, v41);
      swift_unknownObjectRelease();
      swift_unknownObjectRelease();
      if (v37) {
        break;
      }
      uint64_t v58 = v30;
      uint64_t v42 = v30;
      if (v52 < v51 || v31 >= v51)
      {
        *uint64_t v31 = *v30;
        id v32 = v53;
        goto LABEL_39;
      }
      unint64_t v43 = (unint64_t)v49;
      uint64_t v44 = v57;
      Swift::Int v45 = v53;
      if (v52 != v51) {
        *uint64_t v31 = *v42;
      }
      id v32 = v45;
      uint64_t v30 = v42;
      if ((unint64_t)v42 <= v43) {
        goto LABEL_41;
      }
LABEL_40:
      --v31;
      Swift::Int v15 = v32;
      if (v32 <= v44) {
        goto LABEL_41;
      }
    }
    uint64_t v30 = v51;
    id v32 = v50;
    if (v52 != v53 || v31 >= v53) {
      *uint64_t v31 = *v50;
    }
    uint64_t v60 = v32;
LABEL_39:
    uint64_t v44 = v57;
    if (v30 <= v49) {
      goto LABEL_41;
    }
    goto LABEL_40;
  }
  if (v13 >= -7)
  {
    if (a4 != v11 || &v11[v14] <= a4)
    {
      memmove(a4, v57, 8 * v14);
      uint64_t v11 = v57;
    }
    uint64_t v52 = &a4[v14];
    uint64_t v58 = v52;
    if (v13 >= 8 && v15 < v53)
    {
      uint64_t v51 = (void **)(v8 + 8);
      id v18 = v54;
      do
      {
        Swift::String v57 = v11;
        id v19 = *v15;
        uint64_t v20 = *a4;
        swift_unknownObjectRetain();
        swift_unknownObjectRetain();
        uint64_t v21 = a4;
        id v22 = [v19 indexPath];
        static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

        id v23 = [v20 indexPath];
        uint64_t v24 = v55;
        static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

        LOBYTE(v23) = static IndexPath.< infix(_:_:)();
        uint64_t v25 = (void (*)(char *, uint64_t))*v51;
        uint64_t v26 = v24;
        uint64_t v27 = v56;
        ((void (*)(char *, uint64_t))*v51)(v26, v56);
        v25(v18, v27);
        swift_unknownObjectRelease();
        swift_unknownObjectRelease();
        if (v23)
        {
          a4 = v21;
          unint64_t v28 = (unint64_t)(v15 + 1);
          uint64_t v29 = v57;
          if (v57 < v15 || (unint64_t)v57 >= v28 || v57 != v15) {
            *Swift::String v57 = *v15;
          }
        }
        else
        {
          uint64_t v29 = v57;
          if (v57 != v21) {
            *Swift::String v57 = *v21;
          }
          a4 = v21 + 1;
          unint64_t v59 = v21 + 1;
          unint64_t v28 = (unint64_t)v15;
        }
        uint64_t v11 = v29 + 1;
        uint64_t v60 = v11;
        if (a4 >= v52) {
          break;
        }
        Swift::Int v15 = (void **)v28;
      }
      while (v28 < (unint64_t)v53);
    }
LABEL_41:
    sub_100319038((void **)&v60, (const void **)&v59, &v58);
    return 1;
  }
LABEL_42:
  uint64_t result = _fatalErrorMessage(_:_:file:line:flags:)();
  __break(1u);
  return result;
}

char *sub_100318E80(char *result, int64_t a2, char a3, char *a4)
{
  char v5 = (char)result;
  if (a3)
  {
    unint64_t v6 = *((void *)a4 + 3);
    int64_t v7 = v6 >> 1;
    if ((uint64_t)(v6 >> 1) < a2)
    {
      if (v7 + 0x4000000000000000 < 0)
      {
        __break(1u);
        return result;
      }
      int64_t v7 = v6 & 0xFFFFFFFFFFFFFFFELL;
      if ((uint64_t)(v6 & 0xFFFFFFFFFFFFFFFELL) <= a2) {
        int64_t v7 = a2;
      }
    }
  }
  else
  {
    int64_t v7 = a2;
  }
  uint64_t v8 = *((void *)a4 + 2);
  if (v7 <= v8) {
    uint64_t v9 = *((void *)a4 + 2);
  }
  else {
    uint64_t v9 = v7;
  }
  if (v9)
  {
    sub_100082C28((uint64_t *)&unk_100990430);
    uint64_t v10 = (char *)swift_allocObject();
    int64_t v11 = j__malloc_size(v10);
    uint64_t v12 = v11 - 32;
    if (v11 < 32) {
      uint64_t v12 = v11 - 17;
    }
    *((void *)v10 + 2) = v8;
    *((void *)v10 + 3) = 2 * (v12 >> 4);
  }
  else
  {
    uint64_t v10 = (char *)_swiftEmptyArrayStorage;
  }
  uint64_t v13 = v10 + 32;
  uint64_t v14 = a4 + 32;
  if (v5)
  {
    if (v10 != a4 || v13 >= &v14[16 * v8]) {
      memmove(v13, v14, 16 * v8);
    }
    *((void *)a4 + 2) = 0;
  }
  else
  {
    memcpy(v13, v14, 16 * v8);
  }
  swift_bridgeObjectRelease();
  return v10;
}

char *sub_100318F7C(void **a1, const void **a2, void *a3)
{
  uint64_t v3 = (char *)*a2;
  uint64_t v4 = *a3 - (void)v3;
  uint64_t v5 = v4 + 15;
  if (v4 >= 0) {
    uint64_t v5 = *a3 - (void)v3;
  }
  if (v4 <= -16)
  {
    uint64_t result = (char *)_fatalErrorMessage(_:_:file:line:flags:)();
    __break(1u);
  }
  else
  {
    uint64_t result = (char *)*a1;
    uint64_t v7 = v5 >> 4;
    if (result != v3 || result >= &v3[16 * v7])
    {
      return (char *)memmove(result, v3, 16 * v7);
    }
  }
  return result;
}

char *sub_100319038(void **a1, const void **a2, void *a3)
{
  uint64_t v3 = (char *)*a2;
  uint64_t v4 = *a3 - (void)v3;
  uint64_t v5 = v4 + 7;
  if (v4 >= 0) {
    uint64_t v5 = *a3 - (void)v3;
  }
  if (v4 <= -8)
  {
    uint64_t result = (char *)_fatalErrorMessage(_:_:file:line:flags:)();
    __break(1u);
  }
  else
  {
    uint64_t result = (char *)*a1;
    uint64_t v7 = v5 >> 3;
    if (result != v3 || result >= &v3[8 * v7])
    {
      return (char *)memmove(result, v3, 8 * v7);
    }
  }
  return result;
}

uint64_t sub_1003190F4(unint64_t *a1, unint64_t *a2, uint64_t *a3)
{
  unint64_t v3 = *a1;
  unint64_t v4 = *a2;
  uint64_t v5 = *a3;
  uint64_t result = type metadata accessor for IndexPath();
  uint64_t v7 = *(void *)(*(void *)(result - 8) + 72);
  if (!v7)
  {
    __break(1u);
LABEL_18:
    __break(1u);
    goto LABEL_19;
  }
  uint64_t v8 = v5 - v4;
  if (v5 - v4 == 0x8000000000000000 && v7 == -1) {
    goto LABEL_18;
  }
  if (v8 / v7 < 0)
  {
LABEL_19:
    uint64_t result = _fatalErrorMessage(_:_:file:line:flags:)();
    __break(1u);
    return result;
  }
  if (v3 < v4 || v3 >= v4 + v8 / v7 * v7)
  {
    return swift_arrayInitWithTakeFrontToBack();
  }
  else if (v3 != v4)
  {
    return swift_arrayInitWithTakeBackToFront();
  }
  return result;
}

char *sub_100319234(uint64_t a1)
{
  return sub_100318E80(0, *(void *)(a1 + 16), 0, (char *)a1);
}

uint64_t sub_100319248(uint64_t a1)
{
  return sub_100129E50(0, *(void *)(a1 + 16), 0, (char *)a1);
}

uint64_t sub_10031925C(uint64_t a1)
{
  return specialized _ContiguousArrayBuffer._consumeAndCreateNew(bufferIsUnique:minimumCapacity:growForAppend:)(0, *(void *)(a1 + 16), 0, a1);
}

uint64_t sub_100319270(void *a1)
{
  return sub_10012AE78(0, a1[2], 0, a1);
}

uint64_t sub_100319284(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  __chkstk_darwin(v4);
  unint64_t v6 = (char *)&v28 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v28 - v8;
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v28 - v11;
  __chkstk_darwin(v13);
  Swift::Int v15 = (char *)&v28 - v14;
  __chkstk_darwin(v16);
  id v18 = (char *)&v28 - v17;
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v28 - v20;
  char v22 = static ShelfBackground.== infix(_:_:)();
  sub_1003100FC(a1, (uint64_t)v21);
  sub_1003100FC(a2, (uint64_t)v18);
  if ((v22 & 1) == 0)
  {
    sub_10031A878((uint64_t)v18);
    sub_10031A878((uint64_t)v21);
    sub_1003100FC(a1, (uint64_t)v15);
    sub_1003100FC(a2, (uint64_t)v12);
    goto LABEL_6;
  }
  double v23 = *(double *)&v21[*(int *)(v4 + 20)];
  sub_10031A878((uint64_t)v21);
  double v24 = *(double *)&v18[*(int *)(v4 + 20)];
  sub_10031A878((uint64_t)v18);
  sub_1003100FC(a1, (uint64_t)v15);
  sub_1003100FC(a2, (uint64_t)v12);
  if (v23 != v24)
  {
LABEL_6:
    sub_10031A878((uint64_t)v12);
    sub_10031A878((uint64_t)v15);
    sub_1003100FC(a1, (uint64_t)v9);
    sub_1003100FC(a2, (uint64_t)v6);
    goto LABEL_7;
  }
  char v25 = static IndexPath.== infix(_:_:)();
  sub_10031A878((uint64_t)v12);
  sub_10031A878((uint64_t)v15);
  sub_1003100FC(a1, (uint64_t)v9);
  sub_1003100FC(a2, (uint64_t)v6);
  if ((v25 & 1) == 0)
  {
LABEL_7:
    char v26 = 0;
    goto LABEL_8;
  }
  char v26 = static ShelfBackground.== infix(_:_:)();
LABEL_8:
  sub_10031A878((uint64_t)v6);
  sub_10031A878((uint64_t)v9);
  return v26 & 1;
}

void sub_1003194EC(int a1, id a2)
{
  id v2 = [a2 collectionViewLayout];
  Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
  id v4 = [v2 layoutAttributesForItemAtIndexPath:isa];

  if (v4)
  {
    [v4 frame];
    CGRectGetMinX(v5);
    [v4 frame];
    CGRectGetWidth(v6);
  }
}

uint64_t sub_1003195D4(unint64_t a1, double a2)
{
  unint64_t v126 = a1;
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100990400);
  __chkstk_darwin(v4 - 8);
  uint64_t v121 = (uint64_t)&v115 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v120 = (char *)&v115 - v7;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v8 - 8);
  Swift::Int v124 = (char *)&v115 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v130 = type metadata accessor for IndexPath();
  uint64_t v136 = *(void *)(v130 - 8);
  __chkstk_darwin(v130);
  Swift::Int v123 = (char *)&v115 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v125 = (char *)&v115 - v12;
  __chkstk_darwin(v13);
  uint64_t v129 = (char *)&v115 - v14;
  __chkstk_darwin(v15);
  long long v139 = (char *)&v115 - v16;
  uint64_t v138 = type metadata accessor for ShelfBackground();
  uint64_t v137 = *(void *)(v138 - 8);
  __chkstk_darwin(v138);
  uint64_t v119 = (char *)&v115 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  Swift::Int v122 = (char *)&v115 - v19;
  __chkstk_darwin(v20);
  uint64_t v127 = (char *)&v115 - v21;
  __chkstk_darwin(v22);
  unint64_t v135 = (char *)&v115 - v23;
  __chkstk_darwin(v24);
  uint64_t v134 = (char *)&v115 - v25;
  uint64_t v142 = type metadata accessor for PageGrid();
  uint64_t v26 = *(void *)(v142 - 8);
  __chkstk_darwin(v142);
  uint64_t v28 = (char *)&v115 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v29 = type metadata accessor for ShelfLayoutContext();
  uint64_t v30 = *(void *)(v29 - 8);
  __chkstk_darwin(v29);
  id v32 = (char *)&v115 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v140 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v131 = *(void *)(v140 - 8);
  __n128 v33 = __chkstk_darwin(v140);
  uint64_t v141 = (char *)&v115 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v128 = v2;
  uint64_t v35 = v2 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_shelfLayoutContext;
  char v36 = *(void (**)(char *, uint64_t, uint64_t, __n128))(v30 + 16);
  v36(v32, v2 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_shelfLayoutContext, v29, v33);
  uint64_t v133 = (void (*)(char *, uint64_t, uint64_t))v36;
  ShelfLayoutContext.shelf.getter();
  id v37 = *(void (**)(char *, uint64_t))(v30 + 8);
  v37(v32, v29);
  ((void (*)(char *, uint64_t, uint64_t))v36)(v32, v35, v29);
  ShelfLayoutContext.contentPageGrid.getter();
  v37(v32, v29);
  PageGrid.horizontalDirectionalMargins.getter();
  double v39 = v38;
  uint64_t v40 = v26 + 8;
  uint64_t v41 = *(void (**)(char *, uint64_t))(v26 + 8);
  uint64_t v132 = v40;
  uint64_t v42 = v142;
  v41(v28, v142);
  v133(v32, v35, v29);
  ShelfLayoutContext.contentPageGrid.getter();
  v37(v32, v29);
  PageGrid.interColumnSpace.getter();
  double v44 = v43;
  Swift::Int v45 = v141;
  v41(v28, v42);
  uint64_t v46 = v140;
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v142 = v148;
  swift_getKeyPath();
  uint64_t v47 = v134;
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v48 = v137;
  uint64_t v50 = v137 + 104;
  id v49 = *(void (**)(char *, void, uint64_t))(v137 + 104);
  uint64_t v51 = v135;
  uint64_t v52 = v138;
  v49(v135, enum case for ShelfBackground.interactive(_:), v138);
  LOBYTE(v35) = static ShelfBackground.== infix(_:_:)();
  unint64_t v55 = *(void (**)(char *, uint64_t))(v48 + 8);
  unint64_t v53 = v48 + 8;
  id v54 = v55;
  v55(v51, v52);
  v55(v47, v52);
  if ((v35 & 1) == 0) {
    return (*(uint64_t (**)(char *, uint64_t))(v131 + 8))(v45, v46);
  }
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (!Strong) {
    return (*(uint64_t (**)(char *, uint64_t))(v131 + 8))(v45, v46);
  }
  Swift::String v57 = (void (*)(char *, uint64_t, uint64_t))Strong;
  uint64_t v116 = v49;
  if ((v126 & 0x8000000000000000) != 0 || (v126 & 0x4000000000000000) != 0) {
    goto LABEL_63;
  }
  uint64_t v58 = v126 & 0xFFFFFFFFFFFFFF8;
  swift_bridgeObjectRetain();
LABEL_6:
  uint64_t v59 = v130;
  uint64_t v148 = v58;
  sub_100317D18(&v148);
  uint64_t v60 = v148;
  unint64_t v126 = v53;
  if (v148 < 0 || (v148 & 0x4000000000000000) != 0)
  {
    swift_bridgeObjectRetain();
    uint64_t v61 = _CocoaArrayWrapper.endIndex.getter();
    swift_release();
  }
  else
  {
    uint64_t v61 = *(void *)(v148 + 16);
  }
  uint64_t v117 = v54;
  uint64_t v133 = v57;
  uint64_t v118 = v50;
  if (v61)
  {
    if (v61 >= 1)
    {
      uint64_t v50 = 0;
      unint64_t v53 = v60 & 0xC000000000000001;
      unint64_t v135 = (char *)(v136 + 8);
      uint64_t v132 = v136 + 32;
      Swift::String v57 = (void (*)(char *, uint64_t, uint64_t))_swiftEmptyArrayStorage;
      uint64_t v62 = &stru_100950000;
      uint64_t v134 = (char *)v60;
      while (1)
      {
        if (v53)
        {
          char v63 = (void *)specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else
        {
          char v63 = *(void **)(v60 + 8 * v50 + 32);
          swift_unknownObjectRetain();
        }
        if (![v63 representedElementCategory])
        {
          [v63 v62[126].name];
          double v64 = CGRectGetMinX(v150) - v44 - a2;
          [v63 v62[126].name];
          double v65 = CGRectGetMaxX(v151) - a2;
          if (v64 > v65)
          {
            __break(1u);
LABEL_61:
            __break(1u);
LABEL_62:
            __break(1u);
LABEL_63:
            unint64_t v114 = swift_bridgeObjectRetain();
            uint64_t v58 = (uint64_t)sub_1006171AC(v114);
            swift_bridgeObjectRelease();
            goto LABEL_6;
          }
          if (v64 <= v39 && v39 < v65)
          {
            uint64_t v67 = v61;
            id v68 = [v63 indexPath];
            id v54 = (void (*)(char *, uint64_t))v59;
            uint64_t v69 = v139;
            static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

            uint64_t v70 = IndexPath.item.getter();
            unint64_t v71 = v69;
            uint64_t v59 = (uint64_t)v54;
            uint64_t v72 = v142;
            (*(void (**)(char *, void))v135)(v71, v54);
            if (!v72) {
              goto LABEL_61;
            }
            if (v70 == 0x8000000000000000 && v142 == -1) {
              goto LABEL_62;
            }
            if (v70 % v142)
            {
              uint64_t v61 = v67;
              uint64_t v60 = (uint64_t)v134;
              uint64_t v62 = &stru_100950000;
            }
            else
            {
              id v73 = [v63 indexPath];
              static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

              uint64_t v62 = &stru_100950000;
              if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
                Swift::String v57 = (void (*)(char *, uint64_t, uint64_t))sub_1000AC7C0(0, *((void *)v57 + 2) + 1, 1, (unint64_t)v57);
              }
              unint64_t v75 = *((void *)v57 + 2);
              unint64_t v74 = *((void *)v57 + 3);
              if (v75 >= v74 >> 1) {
                Swift::String v57 = (void (*)(char *, uint64_t, uint64_t))sub_1000AC7C0(v74 > 1, v75 + 1, 1, (unint64_t)v57);
              }
              *((void *)v57 + 2) = v75 + 1;
              unint64_t v76 = (unint64_t)v57
                  + ((*(unsigned __int8 *)(v136 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v136 + 80))
                  + *(void *)(v136 + 72) * v75;
              uint64_t v59 = v130;
              (*(void (**)(unint64_t, char *, uint64_t))(v136 + 32))(v76, v129, v130);
              uint64_t v61 = v67;
              uint64_t v60 = (uint64_t)v134;
            }
          }
        }
        ++v50;
        swift_unknownObjectRelease();
        if (v61 == v50) {
          goto LABEL_35;
        }
      }
    }
    __break(1u);
LABEL_66:
    __break(1u);
    goto LABEL_67;
  }
  Swift::String v57 = (void (*)(char *, uint64_t, uint64_t))_swiftEmptyArrayStorage;
LABEL_35:
  swift_release();
  if (*((void *)v57 + 2))
  {
    uint64_t v78 = v136;
    uint64_t v79 = (uint64_t)v124;
    (*(void (**)(char *, unint64_t, uint64_t))(v136 + 16))(v124, (unint64_t)v57+ ((*(unsigned __int8 *)(v136 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v136 + 80)), v59);
    uint64_t v80 = 0;
    uint64_t v81 = v125;
    char v82 = v141;
  }
  else
  {
    uint64_t v80 = 1;
    uint64_t v78 = v136;
    uint64_t v81 = v125;
    char v82 = v141;
    uint64_t v79 = (uint64_t)v124;
  }
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v78 + 56))(v79, v80, 1, v59);
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v78 + 48))(v79, 1, v59) == 1)
  {
    (*(void (**)(char *, uint64_t))(v131 + 8))(v82, v140);

    return sub_100082BCC(v79, (uint64_t *)&unk_10098ABB0);
  }
  (*(void (**)(char *, uint64_t, uint64_t))(v78 + 32))(v81, v79, v59);
  if (__OFADD__(IndexPath.item.getter(), v142)) {
    goto LABEL_66;
  }
  IndexPath.section.getter();
  IndexPath.init(item:section:)();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v83 = *(void *)(v148 + 16);
  swift_bridgeObjectRelease();
  uint64_t v84 = IndexPath.item.getter();
  uint64_t v85 = v138;
  if (v84 < 0 || v84 >= v83) {
    goto LABEL_48;
  }
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v86 = v147;
  unint64_t v87 = IndexPath.item.getter();
  if ((v87 & 0x8000000000000000) != 0)
  {
LABEL_67:
    __break(1u);
    goto LABEL_68;
  }
  if (v87 >= *(void *)(v86 + 16))
  {
LABEL_68:
    __break(1u);
    goto LABEL_69;
  }
  sub_100082C6C(v86 + 40 * v87 + 32, (uint64_t)v146);
  swift_bridgeObjectRelease();
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_100990410);
  if ((swift_dynamicCast() & 1) == 0)
  {
    uint64_t v145 = 0;
    long long v143 = 0u;
    long long v144 = 0u;
    sub_100082BCC((uint64_t)&v143, &qword_100990418);
LABEL_48:
    v116(v127, enum case for ShelfBackground.none(_:), v85);
    goto LABEL_49;
  }
  sub_100081DD4(&v143, (uint64_t)&v148);
  sub_100081D90(&v148, v149);
  dispatch thunk of ShelfBackgroundProviding.shelfBackground.getter();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v148);
LABEL_49:
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v88 = *(void *)(v148 + 16);
  swift_bridgeObjectRelease();
  uint64_t v89 = IndexPath.item.getter();
  if (v89 < 0 || v89 >= v88) {
    goto LABEL_56;
  }
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v90 = v147;
  unint64_t v91 = IndexPath.item.getter();
  if ((v91 & 0x8000000000000000) != 0)
  {
LABEL_69:
    __break(1u);
    goto LABEL_70;
  }
  if (v91 >= *(void *)(v90 + 16))
  {
LABEL_70:
    __break(1u);
    uint64_t result = swift_release();
    __break(1u);
    return result;
  }
  sub_100082C6C(v90 + 40 * v91 + 32, (uint64_t)v146);
  swift_bridgeObjectRelease();
  sub_100082C28((uint64_t *)&unk_100983890);
  sub_100082C28(&qword_100990410);
  if ((swift_dynamicCast() & 1) == 0)
  {
    uint64_t v145 = 0;
    long long v143 = 0u;
    long long v144 = 0u;
    sub_100082BCC((uint64_t)&v143, &qword_100990418);
LABEL_56:
    uint64_t v92 = v81;
    int v95 = enum case for ShelfBackground.none(_:);
    id v94 = v122;
    v116(v122, enum case for ShelfBackground.none(_:), v85);
    goto LABEL_57;
  }
  uint64_t v92 = v81;
  sub_100081DD4(&v143, (uint64_t)&v148);
  sub_100081D90(&v148, v149);
  uint64_t v93 = v122;
  dispatch thunk of ShelfBackgroundProviding.shelfBackground.getter();
  id v94 = v93;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v148);
  int v95 = enum case for ShelfBackground.none(_:);
LABEL_57:
  uint64_t v96 = v137;
  uint64_t v97 = *(void (**)(char *, char *, uint64_t))(v137 + 16);
  unint64_t v98 = v119;
  v97(v119, v94, v85);
  int v99 = (*(uint64_t (**)(char *, uint64_t))(v96 + 88))(v98, v85);
  v117(v98, v85);
  double v100 = 1.0;
  BOOL v101 = v99 == v95;
  uint64_t v102 = v128;
  if (!v101)
  {
    sub_1003194EC((int)v92, v133);
    double v100 = v103;
  }
  uint64_t v104 = (uint64_t)v120;
  v97(v120, v127, v85);
  unint64_t v105 = (int *)type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  uint64_t v106 = v136;
  uint64_t v107 = v92;
  uint64_t v108 = v130;
  (*(void (**)(uint64_t, char *, uint64_t))(v136 + 16))(v104 + v105[6], v92, v130);
  unint64_t v109 = v122;
  v97((char *)(v104 + v105[7]), v122, v85);
  *(double *)(v104 + v105[5]) = v100;
  (*(void (**)(uint64_t, void, uint64_t, int *))(*((void *)v105 - 1) + 56))(v104, 0, 1, v105);
  uint64_t v110 = v102 + OBJC_IVAR____TtC8AppStore42InteractiveSectionBackgroundScrollObserver_currentState;
  swift_beginAccess();
  uint64_t v111 = v121;
  sub_100082B68(v110, v121, (uint64_t *)&unk_100990400);
  swift_beginAccess();
  sub_10031A7AC(v104, v110);
  swift_endAccess();
  sub_1003167B8(v111);
  sub_100082BCC(v104, (uint64_t *)&unk_100990400);
  sub_100082BCC(v111, (uint64_t *)&unk_100990400);

  uint64_t v112 = v117;
  v117(v109, v85);
  v112(v127, v85);
  uint64_t v113 = *(void (**)(char *, uint64_t))(v106 + 8);
  v113(v123, v108);
  v113(v107, v108);
  return (*(uint64_t (**)(char *, uint64_t))(v131 + 8))(v141, v140);
}

uint64_t sub_10031A778@<X0>(uint64_t *a1@<X8>)
{
  uint64_t result = Shelf.rowsPerColumn.getter();
  *a1 = result;
  return result;
}

uint64_t sub_10031A7AC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100990400);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 24))(a2, a1, v4);
  return a2;
}

uint64_t sub_10031A814(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_10031A878(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for InteractiveSectionBackgroundScrollObserver.State(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

unint64_t sub_10031A8D4()
{
  unint64_t result = qword_100990440;
  if (!qword_100990440)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_100990440);
  }
  return result;
}

uint64_t sub_10031A914(uint64_t a1)
{
  return sub_1000EA004(a1, qword_100990448, &qword_10097F638, (uint64_t)qword_1009E4D00);
}

uint64_t sub_10031A940(uint64_t a1)
{
  return sub_10031A964(a1, qword_100990460);
}

uint64_t sub_10031A954(uint64_t a1)
{
  return sub_10031A964(a1, qword_100990478);
}

uint64_t sub_10031A964(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13[-1] - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  sub_100042444(v7, a2);
  sub_100087728(v7, (uint64_t)a2);
  if (qword_10097E968 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_100990448);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16))(v6, v9, v8);
  (*(void (**)(char *, void, uint64_t))(v4 + 104))(v6, enum case for FontSource.useCase(_:), v3);
  uint64_t v13[3] = v3;
  v13[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v10 = sub_1000808B8(v13);
  (*(void (**)(uint64_t *, char *, uint64_t))(v4 + 16))(v10, v6, v3);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
}

uint64_t sub_10031AB40(uint64_t a1)
{
  return sub_1000EA004(a1, qword_100990490, &qword_10097F708, (uint64_t)qword_1009E4F70);
}

uint64_t sub_10031AB6C()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009904A8);
  sub_100087728(v4, (uint64_t)qword_1009904A8);
  if (qword_10097E980 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_100990490);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v10[3] = v0;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_10031AD40()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (UIFontTextStyle *)((char *)&v9[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009904C0);
  sub_100087728(v4, (uint64_t)qword_1009904C0);
  *uint64_t v3 = UIFontTextStyleSubheadline;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.textStyle(_:), v0);
  v9[3] = v0;
  v9[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v5 = sub_1000808B8(v9);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v1 + 16))(v5, v3, v0);
  uint64_t v6 = UIFontTextStyleSubheadline;
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(UIFontTextStyle *, uint64_t))(v1 + 8))(v3, v0);
}

void sub_10031AEAC()
{
  qword_1009E24E0 = 0x4020000000000000;
}

id sub_10031AEE8(void *a1, uint64_t a2, SEL *a3)
{
  v5.receiver = a1;
  v5.super_class = (Class)type metadata accessor for DetailCollectionViewCell();
  return [super a3];
}

void sub_10031AF40(void *a1, uint64_t a2, uint64_t a3, SEL *a4, SEL *a5)
{
  id v8 = a1;
  sub_10031AFB0(a3);
  v9.receiver = v8;
  v9.super_class = (Class)type metadata accessor for DetailCollectionViewCell();
  [super a3];
  sub_10031B064(a5);
}

id sub_10031AFB0(char a1)
{
  id v3 = [v1 contentView];
  uint64_t v4 = self;
  objc_super v5 = &selRef_clearColor;
  if ((a1 & 1) == 0) {
    objc_super v5 = &selRef_whiteColor;
  }
  id v6 = [v4 *v5];
  [v3 setBackgroundColor:v6];

  return [v1 setNeedsDisplay];
}

id sub_10031B064(SEL *a1)
{
  unsigned int v2 = [v1 *a1];
  id v3 = [v1 contentView];
  uint64_t v4 = self;
  objc_super v5 = &selRef_clearColor;
  if (!v2) {
    objc_super v5 = &selRef_whiteColor;
  }
  id v6 = [v4 *v5];
  [v3 setBackgroundColor:v6];

  return [v1 setNeedsDisplay];
}

char *sub_10031B124(double a1, double a2, double a3, double a4)
{
  uint64_t v85 = type metadata accessor for DividerView.Style(0);
  __chkstk_darwin(v85);
  uint64_t v86 = (uint64_t)&v82 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v88 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v10 = *(void *)(v88 - 8);
  __chkstk_darwin(v88);
  unint64_t v87 = (char *)&v82 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v82 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v4[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_previousTitleTextColor] = 0;
  *(void *)&v4[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_previousSubtitleTextColor] = 0;
  uint64_t v15 = &v4[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageMarginRight];
  *(void *)uint64_t v15 = 0;
  v15[8] = 1;
  *(void *)&v4[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryView] = 0;
  uint64_t v16 = &v4[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessory];
  uint64_t v17 = type metadata accessor for Accessory();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v17 - 8) + 56))(v16, 1, 1, v17);
  uint64_t v18 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider;
  uint64_t v19 = (objc_class *)type metadata accessor for DividerView(0);
  id v20 = objc_allocWithZone(v19);
  uint64_t v21 = v4;
  *(void *)&v4[v18] = [v20 initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v22 = &v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDividerInsets];
  *(_OWORD *)uint64_t v22 = 0u;
  *((_OWORD *)v22 + 1) = 0u;
  v22[32] = 1;
  v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showTopDivider] = 0;
  uint64_t v23 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider;
  *(void *)&v21[v23] = [objc_allocWithZone(v19) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v24 = &v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDividerInsets];
  *(_OWORD *)uint64_t v24 = 0u;
  *((_OWORD *)v24 + 1) = 0u;
  v24[32] = 1;
  v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showBottomDivider] = 0;
  uint64_t v25 = &v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryAction];
  *(void *)uint64_t v25 = 0;
  *((void *)v25 + 1) = 0;
  uint64_t v26 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_backgroundSelectionView;
  *(void *)&v21[v26] = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_isSelectable] = 1;
  v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_disabled] = 0;
  uint64_t v27 = &v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_selectionHandler];
  *(void *)uint64_t v27 = 0;
  *((void *)v27 + 1) = 0;
  *(void *)&v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_tapGestureRecognizer] = 0;
  *(void *)&v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageView] = [objc_allocWithZone((Class)type metadata accessor for ArtworkView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  if (qword_10097E968 != -1) {
    swift_once();
  }
  uint64_t v28 = type metadata accessor for FontUseCase();
  uint64_t v29 = sub_100087728(v28, (uint64_t)qword_100990448);
  uint64_t v30 = *(void *)(v28 - 8);
  uint64_t v84 = *(void (**)(char *, uint64_t, uint64_t))(v30 + 16);
  v84(v14, v29, v28);
  uint64_t v83 = *(void (**)(char *, void, uint64_t, uint64_t))(v30 + 56);
  v83(v14, 0, 1, v28);
  uint64_t v31 = enum case for DirectionalTextAlignment.none(_:);
  char v82 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 104);
  v82(v87, enum case for DirectionalTextAlignment.none(_:), v88);
  id v32 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  id v33 = objc_allocWithZone(v32);
  *(void *)&v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_titleLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  if (qword_10097E980 != -1) {
    swift_once();
  }
  uint64_t v34 = sub_100087728(v28, (uint64_t)qword_100990490);
  v84(v14, v34, v28);
  v83(v14, 0, 1, v28);
  v82(v87, v31, v88);
  id v35 = objc_allocWithZone(v32);
  *(void *)&v21[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();

  char v36 = (objc_class *)type metadata accessor for DetailCollectionViewCell();
  v89.receiver = v21;
  v89.super_class = v36;
  id v37 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v41 = (char *)v37;
  [v41 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  id v42 = [v41 contentView];
  double v43 = self;
  id v44 = [v43 whiteColor];
  [v42 setBackgroundColor:v44];

  uint64_t v45 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageView;
  id v46 = *(id *)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageView];
  id v47 = [v41 backgroundColor];
  ArtworkView.backgroundColor.setter();

  uint64_t v48 = *(void **)&v41[v45];
  [v48 setContentMode:1];
  id v49 = [v41 contentView];
  [v49 addSubview:v48];

  uint64_t v50 = *(void **)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_titleLabel];
  [v50 setLineBreakMode:4];
  id v51 = [v41 contentView];
  [v51 addSubview:v50];

  uint64_t v52 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel;
  id v53 = *(id *)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel];
  id v54 = [v43 systemGrayColor];
  [v53 setTextColor:v54];

  id v55 = [v41 contentView];
  [v55 addSubview:*(void *)&v41[v52]];

  uint64_t v56 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider;
  uint64_t v57 = qword_1009805D8;
  uint64_t v58 = (char *)*(id *)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider];
  if (v57 != -1) {
    swift_once();
  }
  uint64_t v59 = sub_100087728(v85, (uint64_t)qword_1009E7268);
  uint64_t v60 = v86;
  sub_10031DC24(v59, v86);
  uint64_t v61 = &v58[OBJC_IVAR____TtC8AppStore11DividerView_style];
  swift_beginAccess();
  sub_10031DC88(v60, (uint64_t)v61);
  swift_endAccess();
  uint64_t v62 = &v58[OBJC_IVAR____TtC8AppStore11DividerView_separatorInset];
  long long v63 = *((_OWORD *)v61 + 1);
  *(_OWORD *)uint64_t v62 = *(_OWORD *)v61;
  *((_OWORD *)v62 + 1) = v63;
  [v58 setNeedsLayout];
  [v58 setNeedsLayout];
  sub_10031DCEC(v60);

  double v64 = *(void **)&v41[v56];
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v65 = v64;
  uint64_t v66 = (void *)static UIColor.defaultLine.getter();
  [v65 setBackgroundColor:v66];

  [*(id *)&v41[v56] setHidden:1];
  id v67 = [v41 contentView];
  [v67 addSubview:*(void *)&v41[v56]];

  uint64_t v68 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider;
  uint64_t v69 = *(char **)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider];
  sub_10031DC24(v59, v60);
  uint64_t v70 = &v69[OBJC_IVAR____TtC8AppStore11DividerView_style];
  swift_beginAccess();
  unint64_t v71 = v69;
  sub_10031DC88(v60, (uint64_t)v70);
  swift_endAccess();
  uint64_t v72 = &v71[OBJC_IVAR____TtC8AppStore11DividerView_separatorInset];
  long long v73 = *((_OWORD *)v70 + 1);
  *(_OWORD *)uint64_t v72 = *(_OWORD *)v70;
  *((_OWORD *)v72 + 1) = v73;
  [v71 setNeedsLayout];
  [v71 setNeedsLayout];
  sub_10031DCEC(v60);

  id v74 = *(id *)&v41[v68];
  unint64_t v75 = (void *)static UIColor.defaultLine.getter();
  [v74 setBackgroundColor:v75];

  [*(id *)&v41[v68] setHidden:1];
  id v76 = [v41 contentView];
  [v76 addSubview:*(void *)&v41[v68]];

  uint64_t v77 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_backgroundSelectionView;
  id v78 = *(id *)&v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_backgroundSelectionView];
  uint64_t v79 = (void *)static UIColor.tableViewCellSelectedBackground.getter();
  [v78 setBackgroundColor:v79];

  uint64_t v80 = *(void **)&v41[v77];
  [v80 setOpaque:0];
  [v80 setUserInteractionEnabled:0];
  if (v41[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_isSelectable] == 1) {
    [v41 setSelectedBackgroundView:v80];
  }

  return v41;
}

void sub_10031BC50()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for StaticDimension();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v110 = (char *)v105 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v112 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v5 = *(void *)(v112 - 8);
  __chkstk_darwin(v112);
  uint64_t v111 = (char *)v105 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = (objc_class *)type metadata accessor for DetailCollectionViewCell();
  v114.receiver = v1;
  v114.super_class = v7;
  [super layoutSubviews];
  uint64_t v113 = v7;
  LayoutMarginsAware<>.layoutFrame.getter();
  double v9 = v8;
  uint64_t v10 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryView;
  uint64_t v11 = *(void **)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryView];
  if (v11) {
    unsigned int v12 = [v11 isHidden] ^ 1;
  }
  else {
    unsigned int v12 = 0;
  }
  uint64_t v13 = *(void *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageView];
  uint64_t v14 = (void *)ArtworkView.image.getter();

  uint64_t v15 = *(void **)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel];
  id v16 = [v15 text];
  id v17 = v16;
  if (v16) {

  }
  uint64_t v18 = (double *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageMarginRight];
  if (v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageMarginRight + 8] == 1)
  {
    if (qword_10097E998 != -1) {
      swift_once();
    }
    uint64_t v18 = (double *)&qword_1009E24E0;
  }
  double v19 = *v18;
  uint64_t v107 = v14;
  id v108 = v15;
  id v109 = v17;
  if (v14)
  {
    id v20 = (void *)ArtworkView.image.getter();
    if (!v20)
    {
      __break(1u);
      goto LABEL_53;
    }
    uint64_t v21 = v20;
    [v20 size];
    CGFloat v23 = v22;
    double v25 = v24;

    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat MinX = CGRectGetMinX(v115);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v27 = CGRectGetMidY(v116) + v25 * -0.5;
    ArtworkView.frame.setter();
    v117.origin.CGFloat x = MinX;
    v117.origin.CGFloat y = v27;
    v117.size.CGFloat width = v23;
    v117.size.CGFloat height = v25;
    double v9 = v9 - (v19 + CGRectGetWidth(v117));
    uint64_t v28 = &qword_10097E000;
    if (v12)
    {
LABEL_13:
      uint64_t v29 = *(void **)&v1[v10];
      if (v29)
      {
        uint64_t v30 = v13;
        id v31 = v29;
        LayoutMarginsAware<>.layoutFrame.getter();
        [v31 sizeThatFits:v32, v33];
        double v35 = v34;
        double v37 = v36;

        double v38 = *(void **)&v1[v10];
        if (v38)
        {
          uint64_t v39 = v5;
          [v38 lastBaselineFromBottom];
          double v41 = v40;
          LayoutMarginsAware<>.layoutFrame.getter();
          double v42 = CGRectGetMaxX(v118) - v35;
          uint64_t v13 = v30;
          if (v109)
          {
            [v1 bounds];
            CGFloat x = v119.origin.x;
            CGFloat y = v119.origin.y;
            CGFloat width = v119.size.width;
            double v106 = v35;
            double v46 = v37;
            double v47 = v42;
            double v48 = v9;
            double v49 = v19;
            CGFloat height = v119.size.height;
            CGRectGetMidX(v119);
            v120.origin.CGFloat x = x;
            v120.origin.CGFloat y = y;
            v120.size.CGFloat width = width;
            v120.size.CGFloat height = height;
            double v19 = v49;
            double v9 = v48;
            double v42 = v47;
            double v37 = v46;
            double v35 = v106;
            double v51 = CGRectGetMidY(v120) + v37 * -0.5;
            uint64_t v28 = &qword_10097E000;
          }
          else
          {
            LayoutMarginsAware<>.layoutFrame.getter();
            double MinY = CGRectGetMinY(v121);
            uint64_t v28 = &qword_10097E000;
            if (qword_10097E970 != -1) {
              swift_once();
            }
            sub_100087728(v2, (uint64_t)qword_100990460);
            id v53 = v111;
            static Dimensions.defaultRoundingRule.getter();
            AnyDimension.value(in:rounded:)();
            double v55 = v54;
            (*(void (**)(char *, uint64_t))(v5 + 8))(v53, v112);
            double v51 = MinY + v55 - (v37 - v41);
          }
          LayoutMarginsAware<>.layoutFrame.getter();
          double v56 = CGRectGetWidth(v122);
          if (v35 >= v56) {
            double v35 = v56;
          }
          [*(id *)&v1[v10] setFrame:v42, v51, v35, v37];
          v123.origin.CGFloat x = v42;
          v123.origin.CGFloat y = v51;
          v123.size.CGFloat width = v35;
          v123.size.CGFloat height = v37;
          double v9 = v9 - (CGRectGetWidth(v123) + 16.0);
          goto LABEL_25;
        }
LABEL_54:
        __break(1u);
        return;
      }
LABEL_53:
      __break(1u);
      goto LABEL_54;
    }
  }
  else
  {
    ArtworkView.frame.setter();
    uint64_t v28 = &qword_10097E000;
    if (v12) {
      goto LABEL_13;
    }
  }
  uint64_t v39 = v5;
LABEL_25:
  v105[1] = v13;
  if (v28[302] != -1) {
    swift_once();
  }
  uint64_t v57 = sub_100087728(v2, (uint64_t)qword_100990460);
  uint64_t v58 = v110;
  v105[0] = *(void *)(v3 + 16);
  ((void (*)(char *, uint64_t, uint64_t))v105[0])(v110, v57, v2);
  uint64_t v59 = *(void **)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_titleLabel];
  uint64_t v60 = v111;
  static Dimensions.defaultRoundingRule.getter();
  id v61 = [v59 traitCollection];
  StaticDimension.value(compatibleWith:rounded:)();
  double v63 = v62;

  [v59 firstBaselineFromTop];
  double v65 = v63 - v64;
  uint64_t v66 = *(void (**)(char *, uint64_t))(v39 + 8);
  v105[2] = v39 + 8;
  v66(v60, v112);
  id v67 = *(void (**)(char *, uint64_t))(v3 + 8);
  *(void *)&double v106 = v3 + 8;
  v67(v58, v2);
  LayoutMarginsAware<>.layoutFrame.getter();
  [v59 sizeThatFits:v9, CGRectGetHeight(v124)];
  double v70 = v69;
  if (v68 >= v9) {
    double v71 = v9;
  }
  else {
    double v71 = v68;
  }
  if (v107)
  {
    ArtworkView.frame.getter();
    double v72 = v19 + CGRectGetMaxX(v125);
  }
  else
  {
    LayoutMarginsAware<>.layoutFrame.getter();
    double v72 = CGRectGetMinX(v126);
  }
  LayoutMarginsAware<>.layoutFrame.getter();
  [v59 setFrame:CGRectMake(v72, v65 + CGRectGetMinY(v127), v71, v70)];
  if (v109)
  {
    id v73 = v108;
    [v108 setHidden:0];
    if (qword_10097E988 != -1) {
      swift_once();
    }
    uint64_t v74 = sub_100087728(v2, (uint64_t)qword_1009904A8);
    unint64_t v75 = v110;
    ((void (*)(char *, uint64_t, uint64_t))v105[0])(v110, v74, v2);
    id v76 = v111;
    static Dimensions.defaultRoundingRule.getter();
    id v77 = [v73 traitCollection];
    StaticDimension.value(compatibleWith:rounded:)();
    double v79 = v78;

    [v73 firstBaselineFromTop];
    double v81 = v79 - v80;
    v66(v76, v112);
    v67(v75, v2);
    LayoutMarginsAware<>.layoutFrame.getter();
    [v73 sizeThatFits:v9, CGRectGetHeight(v128)];
    double v83 = v82;
    double v85 = v84;
    [v59 frame];
    double v86 = CGRectGetMinX(v129);
    [v59 lastBaselineMaxY];
    [v73 setFrame:v86, v81 + v87, v83, v85];
  }
  else
  {
    id v88 = v108;
    [v108 setFrame:0.0, 0.0, 0.0, 0.0];
    [v88 setHidden:1];
  }
  if (v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showTopDivider] == 1)
  {
    LayoutMarginsAware<>.layoutFrame.getter();
    double v89 = CGRectGetMinX(v130);
    [v1 bounds];
    double v90 = CGRectGetMinY(v131);
    LayoutMarginsAware<>.layoutFrame.getter();
    double v91 = CGRectGetWidth(v132);
    if (qword_1009805C8 != -1) {
      swift_once();
    }
    double v92 = *(double *)&qword_1009E7248;
    uint64_t v93 = (double *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDividerInsets];
    if ((v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDividerInsets + 32] & 1) == 0)
    {
      double v94 = v93[3];
      double v89 = v93[1];
      [v1 bounds];
      double v91 = v95 - v89 - v94;
    }
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider] setFrame:v89, v90, v91, v92];
  }
  if (v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showBottomDivider] == 1)
  {
    LayoutMarginsAware<>.layoutFrame.getter();
    double v96 = CGRectGetMinX(v133);
    [v1 bounds];
    double MaxY = CGRectGetMaxY(v134);
    if (qword_1009805C8 != -1) {
      swift_once();
    }
    double v98 = *(double *)&qword_1009E7248;
    double v99 = MaxY - *(double *)&qword_1009E7248;
    LayoutMarginsAware<>.layoutFrame.getter();
    double v100 = CGRectGetWidth(v135);
    BOOL v101 = (double *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDividerInsets];
    if (v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDividerInsets + 32])
    {
      double v102 = v100;
    }
    else
    {
      double v103 = v101[3];
      double v96 = v101[1];
      [v1 bounds:v100];
      double v102 = v104 - v96 - v103;
    }
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider] setFrame:v96, v99, v102, v98];
  }
}

double sub_10031C6BC(double a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_100082C28(&qword_10098B8E8);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v29 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = (void *)ArtworkView.image.getter();
  double v8 = *(void **)&v2[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_titleLabel];
  id v9 = [v8 text];
  if (v9)
  {
    uint64_t v10 = v9;
    uint64_t v11 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v13 = v12;
  }
  else
  {
    uint64_t v11 = 0;
    uint64_t v13 = 0;
  }
  uint64_t v14 = type metadata accessor for StaticDimension();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v14 - 8) + 56))(v6, 1, 1, v14);
  id v15 = [v8 attributedText];
  id v16 = [*(id *)&v2[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel] text];
  if (v16)
  {
    id v17 = v16;
    uint64_t v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v20 = v19;
  }
  else
  {
    uint64_t v18 = 0;
    uint64_t v20 = 0;
  }
  char v21 = v2[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showTopDivider];
  char v22 = v2[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showBottomDivider];
  [v2 layoutMargins];
  double v27 = sub_10031D078(v7, v11, v13, 0, 1, (uint64_t)v6, v15, v23, v24, v25, v26, a1, v18, v20, v21, v22, v2);

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();

  sub_100082BCC((uint64_t)v6, &qword_10098B8E8);
  return v27;
}

double sub_10031CA10()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_1009A2980);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v19 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = (objc_class *)type metadata accessor for DetailCollectionViewCell();
  v20.receiver = v0;
  v20.super_class = v5;
  [super prepareForReuse];
  ArtworkView.image.setter();
  [v0 setNeedsLayout];
  uint64_t v6 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageMarginRight];
  *(void *)uint64_t v6 = 0;
  v6[8] = 1;
  uint64_t v7 = *(void **)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_titleLabel];
  [v7 setText:0];
  double v8 = *(void **)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_subtitleLabel];
  [v8 setText:0];
  uint64_t v9 = type metadata accessor for Accessory();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v9 - 8) + 56))(v4, 1, 1, v9);
  uint64_t v10 = (uint64_t)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessory];
  swift_beginAccess();
  sub_10031CFEC((uint64_t)v4, v10);
  swift_endAccess();
  uint64_t v11 = &v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryAction];
  uint64_t v12 = *(void *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryAction];
  *(void *)uint64_t v11 = 0;
  *((void *)v11 + 1) = 0;
  sub_10006012C(v12);
  uint64_t v13 = self;
  id v14 = [v13 blackColor];
  [v7 setTextColor:v14];

  id v15 = [v13 systemGrayColor];
  [v8 setTextColor:v15];

  v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showTopDivider] = 0;
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider] setHidden:1];
  id v16 = &v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDividerInsets];
  *(_OWORD *)id v16 = 0u;
  *((_OWORD *)v16 + 1) = 0u;
  v16[32] = 1;
  v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showBottomDivider] = 0;
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider] setHidden:1];
  id v17 = &v1[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDividerInsets];
  double result = 0.0;
  *(_OWORD *)id v17 = 0u;
  *((_OWORD *)v17 + 1) = 0u;
  v17[32] = 1;
  return result;
}

id sub_10031CD0C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for DetailCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_10031CE50()
{
  return type metadata accessor for DetailCollectionViewCell();
}

uint64_t type metadata accessor for DetailCollectionViewCell()
{
  uint64_t result = qword_100990550;
  if (!qword_100990550) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_10031CEA4()
{
  sub_10031CF94();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

void sub_10031CF94()
{
  if (!qword_100996130)
  {
    type metadata accessor for Accessory();
    unint64_t v0 = type metadata accessor for Optional();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_100996130);
    }
  }
}

uint64_t sub_10031CFEC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_1009A2980);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

double sub_10031D054(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, void *a7, double a8, double a9, double a10, double a11, double a12, uint64_t a13, uint64_t a14, char a15, char a16, void *a17)
{
  return sub_10031D078(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17);
}

double sub_10031D078(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5, uint64_t a6, void *a7, double a8, double a9, double a10, double a11, double a12, uint64_t a13, uint64_t a14, char a15, char a16, void *a17)
{
  uint64_t v54 = a6;
  int v57 = a5;
  uint64_t v58 = a4;
  uint64_t v53 = a3;
  uint64_t v52 = a2;
  uint64_t v20 = sub_100082C28(&qword_10098B8E8);
  __chkstk_darwin(v20 - 8);
  uint64_t v59 = (char *)&v52 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = type metadata accessor for StaticDimension();
  uint64_t v56 = *(void *)(v22 - 8);
  __chkstk_darwin(v22);
  double v55 = (char *)&v52 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v60 = *(void *)(v24 - 8);
  uint64_t v61 = v24;
  __chkstk_darwin(v24);
  double v26 = (char *)&v52 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = type metadata accessor for FontUseCase();
  uint64_t v28 = *(void *)(v27 - 8);
  __chkstk_darwin(v27);
  uint64_t v30 = (char *)&v52 - ((v29 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v31 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v31 - 8);
  double v33 = (char *)&v52 - ((v32 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1)
  {
    id v34 = a1;
    [v34 size:v52, v53, v54];
    if (qword_10097E998 != -1) {
      swift_once();
    }
    [v34 size];
  }
  id v35 = [a17 traitCollection:v52, v53];
  if (a7)
  {
    uint64_t v36 = qword_10097E968;
    id v37 = a7;
    if (v36 != -1) {
      swift_once();
    }
    uint64_t v38 = sub_100087728(v27, (uint64_t)qword_100990448);
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v33, v38, v27);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v28 + 56))(v33, 0, 1, v27);
    uint64_t v39 = type metadata accessor for Feature();
    uint64_t v63 = v39;
    unint64_t v64 = sub_10003643C();
    double v40 = sub_1000808B8(v62);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v39 - 8) + 104))(v40, enum case for Feature.measurement_with_labelplaceholder(_:), v39);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v62);
    static LabelPlaceholderCompatibility.measurements(attributedText:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();

    sub_100082BCC((uint64_t)v33, &qword_100984B10);
  }
  else
  {
    if (qword_10097E968 != -1) {
      swift_once();
    }
    uint64_t v41 = sub_100087728(v27, (uint64_t)qword_100990448);
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v30, v41, v27);
    uint64_t v42 = type metadata accessor for Feature();
    uint64_t v63 = v42;
    unint64_t v64 = sub_10003643C();
    double v43 = sub_1000808B8(v62);
    (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v42 - 8) + 104))(v43, enum case for Feature.measurement_with_labelplaceholder(_:), v42);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v62);
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    (*(void (**)(char *, uint64_t))(v28 + 8))(v30, v27);
  }
  uint64_t v45 = (uint64_t)v59;
  uint64_t v44 = v60;
  uint64_t v46 = v61;
  if (qword_10097E970 != -1) {
    swift_once();
  }
  sub_100087728(v22, (uint64_t)qword_100990460);
  AnyDimension.topMargin(from:in:)();
  if (a14)
  {
    if (qword_10097E988 != -1) {
      swift_once();
    }
    sub_100087728(v22, (uint64_t)qword_1009904A8);
    static Dimensions.defaultRoundingRule.getter();
    StaticDimension.value(compatibleWith:rounded:)();
    double v47 = *(void (**)(char *, uint64_t))(v44 + 8);
    v47(v26, v46);
    if (qword_10097E990 != -1) {
      swift_once();
    }
    sub_100087728(v22, (uint64_t)qword_1009904C0);
    static Dimensions.defaultRoundingRule.getter();
    StaticDimension.value(compatibleWith:rounded:)();
    v47(v26, v46);
  }
  else
  {
    sub_10031D9A8(v54, v45);
    uint64_t v48 = v56;
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v56 + 48))(v45, 1, v22) == 1)
    {
      double v49 = v55;
      if (qword_10097E978 != -1) {
        swift_once();
      }
      uint64_t v50 = sub_100087728(v22, (uint64_t)qword_100990478);
      (*(void (**)(char *, uint64_t, uint64_t))(v48 + 16))(v49, v50, v22);
      sub_100082BCC(v45, &qword_10098B8E8);
    }
    else
    {
      double v49 = v55;
      (*(void (**)(char *, uint64_t, uint64_t))(v48 + 32))(v55, v45, v22);
    }
    static Dimensions.defaultRoundingRule.getter();
    StaticDimension.value(compatibleWith:rounded:)();
    (*(void (**)(char *, uint64_t))(v44 + 8))(v26, v46);
    (*(void (**)(char *, uint64_t))(v48 + 8))(v49, v22);
  }
  if (a15)
  {
    if (qword_1009805C8 == -1) {
      goto LABEL_31;
    }
    goto LABEL_32;
  }
  if ((a16 & 1) != 0 && qword_1009805C8 != -1) {
LABEL_32:
  }
    swift_once();
LABEL_31:

  return a12;
}

uint64_t sub_10031D9A8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_10098B8E8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

void sub_10031DA10()
{
  *(void *)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_previousTitleTextColor] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_previousSubtitleTextColor] = 0;
  uint64_t v1 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_imageMarginRight];
  *(void *)uint64_t v1 = 0;
  v1[8] = 1;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryView] = 0;
  objc_super v2 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessory];
  uint64_t v3 = type metadata accessor for Accessory();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v3 - 8) + 56))(v2, 1, 1, v3);
  uint64_t v4 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDivider;
  uint64_t v5 = (objc_class *)type metadata accessor for DividerView(0);
  *(void *)&v0[v4] = [objc_allocWithZone(v5) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v6 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_topDividerInsets];
  *(_OWORD *)uint64_t v6 = 0u;
  *((_OWORD *)v6 + 1) = 0u;
  v6[32] = 1;
  v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showTopDivider] = 0;
  uint64_t v7 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDivider;
  *(void *)&v0[v7] = [objc_allocWithZone(v5) initWithFrame:0.0, 0.0, 0.0, 0.0];
  double v8 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_bottomDividerInsets];
  *(_OWORD *)double v8 = 0u;
  *((_OWORD *)v8 + 1) = 0u;
  v8[32] = 1;
  v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_showBottomDivider] = 0;
  uint64_t v9 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_accessoryAction];
  *uint64_t v9 = 0;
  v9[1] = 0;
  uint64_t v10 = OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_backgroundSelectionView;
  *(void *)&v0[v10] = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_isSelectable] = 1;
  v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_disabled] = 0;
  uint64_t v11 = &v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_selectionHandler];
  void *v11 = 0;
  v11[1] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore24DetailCollectionViewCell_tapGestureRecognizer] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_10031DC24(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for DividerView.Style(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_10031DC88(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for DividerView.Style(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 24))(a2, a1, v4);
  return a2;
}

uint64_t sub_10031DCEC(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for DividerView.Style(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t type metadata accessor for CappedSizeRoundedTitledButton()
{
  uint64_t result = qword_100990578;
  if (!qword_100990578) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_10031DD94()
{
  return swift_initClassMetadata2();
}

double sub_10031DDE8(void *a1, double a2, double a3)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v7 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v15 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  v15.receiver = a1;
  v15.super_class = ObjectType;
  uint64_t v11 = a1;
  [super sizeThatFits:a2, a3];
  double v13 = v12;
  sub_100081D90(&v11[qword_100990568], *(void *)&v11[qword_100990568 + 24]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);

  return v13;
}

void sub_10031DF50(char *a1, uint64_t a2, void *a3)
{
  uint64_t v3 = *(void (**)(uint64_t))&a1[qword_100990570];
  if (v3)
  {
    id v5 = a3;
    uint64_t v7 = a1;
    uint64_t v6 = sub_100060050((uint64_t)v3);
    v3(v6);
    sub_10006012C((uint64_t)v3);
  }
}

id sub_10031DFF8(void *a1, double a2, double a3, uint64_t a4, uint64_t a5)
{
  v9.receiver = a1;
  v9.super_class = (Class)swift_getObjectType();
  return [super measurementsWithFitting:a5 in:a2];
}

void sub_10031E060()
{
}

uint64_t sub_10031E090()
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + qword_100990568);
  uint64_t v1 = *(void *)(v0 + qword_100990570);

  return sub_10006012C(v1);
}

uint64_t sub_10031E0D4(uint64_t a1)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + qword_100990568);
  uint64_t v2 = *(void *)(a1 + qword_100990570);

  return sub_10006012C(v2);
}

uint64_t sub_10031E124()
{
  return type metadata accessor for CappedSizeRoundedTitledButton();
}

double sub_10031E12C(double a1, uint64_t a2, void *a3, char a4)
{
  uint64_t v5 = v4;
  char v9 = sub_10031EE5C();
  uint64_t v10 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
  [*(id *)(v5 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) pageMarginInsets];
  double v13 = a1 - v11 - v12;
  [a3 minimumInteritemSpacing];
  double v15 = (v13 - v14) * 0.5;
  type metadata accessor for AdvertsSearchResult();
  if (!swift_dynamicCastClass())
  {
    type metadata accessor for AppSearchResult();
    if (swift_dynamicCastClass())
    {
      uint64_t v22 = type metadata accessor for ContentSearchResultCollectionViewCell();
      swift_retain();
      uint64_t v23 = AppSearchResult.lockup.getter();
      uint64_t v24 = *(void **)(v5 + v10);
      uint64_t ObjectType = swift_getObjectType();
      swift_unknownObjectRetain();
      id v26 = (id)ASKDeviceTypeGetCurrent();
      uint64_t v27 = v23;
      uint64_t v28 = v24;
      uint64_t v29 = (uint64_t)v26;
      uint64_t v30 = v22;
      uint64_t v31 = ObjectType;
      goto LABEL_8;
    }
    type metadata accessor for BundleSearchResult();
    if (swift_dynamicCastClass())
    {
      swift_retain();
      BundleSearchResult.lockup.getter();
      swift_retain();
      uint64_t v38 = Lockup.title.getter();
      double v40 = v39;
      swift_release();
      swift_retain();
      uint64_t v41 = Lockup.subtitle.getter();
      uint64_t v43 = v42;
      swift_release();
      double v21 = sub_100566F4C(v38, v40, v41, v43, [*(id *)(v5 + v10) snapshotPageTraitEnvironment], v15);
      swift_unknownObjectRelease();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
    }
    else
    {
      type metadata accessor for EditorialSearchResult();
      if (swift_dynamicCastClass())
      {
        uint64_t v44 = *(void **)(v5 + v10);
        swift_retain();
        id v45 = [v44 snapshotPageTraitEnvironment];
        double left = UIEdgeInsetsZero.left;
        double bottom = UIEdgeInsetsZero.bottom;
        double right = UIEdgeInsetsZero.right;
        uint64_t v49 = dispatch thunk of EditorialSearchResult.typeDisplayText.getter();
        uint64_t v51 = v50;
        uint64_t v52 = EditorialSearchResult.title.getter();
        uint64_t v54 = v53;
        uint64_t v55 = EditorialSearchResult.subtitle.getter();
        double v21 = sub_100793B28(v49, v51, v52, v54, v55, v56, v45, UIEdgeInsetsZero.top, left, bottom, right, v15);
        swift_unknownObjectRelease();
        swift_release();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
      }
      else
      {
        type metadata accessor for InAppPurchaseSearchResult();
        if (swift_dynamicCastClass())
        {
          swift_retain();
          uint64_t v58 = InAppPurchaseSearchResult.lockup.getter();
          double v21 = sub_1003DE31C(v15, v58, [*(id *)(v5 + v10) snapshotPageTraitEnvironment]);
          swift_release();
          swift_unknownObjectRelease();
          goto LABEL_9;
        }
        type metadata accessor for LockupCollectionSearchResult();
        if (!swift_dynamicCastClass())
        {
          type metadata accessor for AppEventSearchResult();
          uint64_t v74 = swift_dynamicCastClass();
          if (!v74) {
            return 0.0;
          }
          uint64_t v75 = v74;
          swift_retain();
          if (dispatch thunk of SearchResultsPresenter.shouldDisplayAppEvent(for:)())
          {
            uint64_t v76 = type metadata accessor for AppEventSearchResultCollectionViewCell();
            id v77 = [*(id *)(v5 + v10) snapshotPageTraitEnvironment];
            uint64_t v78 = swift_getObjectType();
            double v21 = sub_1001FD824(v75, v77, *(void *)(v5 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_objectGraph), v15, v76, v78);
            swift_unknownObjectRelease();
            goto LABEL_9;
          }
          uint64_t v79 = type metadata accessor for ContentSearchResultCollectionViewCell();
          uint64_t v80 = AppEventSearchResult.lockup.getter();
          double v81 = *(void **)(v5 + v10);
          uint64_t v82 = swift_getObjectType();
          swift_unknownObjectRetain();
          id v26 = (id)ASKDeviceTypeGetCurrent();
          uint64_t v27 = v80;
          uint64_t v28 = v81;
          uint64_t v29 = (uint64_t)v26;
          uint64_t v30 = v79;
          uint64_t v31 = v82;
LABEL_8:
          sub_1004E4864(v27, v28, v29, v30, v31);
          double v21 = v32;
          swift_release();
          swift_unknownObjectRelease();

          goto LABEL_9;
        }
        uint64_t v59 = type metadata accessor for SearchLockupListCollectionViewCell();
        uint64_t v60 = *(void **)(v5 + v10);
        swift_retain();
        id v61 = [v60 snapshotPageTraitEnvironment];
        uint64_t v62 = swift_getObjectType();
        uint64_t v85 = v59;
        BOOL v63 = sub_100646F5C(v61);
        uint64_t v84 = v64;
        int v83 = v63;
        uint64_t v65 = LockupCollectionSearchResult.heading.getter();
        uint64_t v67 = v66;
        uint64_t v68 = LockupCollectionSearchResult.title.getter();
        uint64_t v70 = v69;
        if (LockupCollectionSearchResult.detailAction.getter())
        {
          uint64_t v71 = Action.title.getter();
          uint64_t v73 = v72;
          swift_release();
        }
        else
        {
          uint64_t v71 = 0;
          uint64_t v73 = 0;
        }
        double v21 = sub_1001608E0(v65, v67, v68, v70, v71, v73, v83, v84, v61, v85, v62);
        swift_unknownObjectRelease();
        swift_release();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
      }
    }
    swift_bridgeObjectRelease();
    return v21;
  }
  if (!(v9 & 1 | ((a4 & 1) == 0)))
  {
    if (*(void *)(v5 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_advertRotationController))
    {
      swift_retain();
      dispatch thunk of AdvertRotationController.currentAdvert.getter();
      swift_release();
      sub_100082C28(&qword_1009A4AB0);
      type metadata accessor for MixedMediaLockup();
      if (swift_dynamicCast())
      {
        uint64_t v33 = type metadata accessor for ContentSearchResultCollectionViewCell();
        id v34 = *(void **)(v5 + v10);
        uint64_t v35 = swift_getObjectType();
        swift_unknownObjectRetain();
        id v36 = (id)ASKDeviceTypeGetCurrent();
        sub_1004E4864(v86, v34, (uint64_t)v36, v33, v35);
        double v21 = v37;
        swift_unknownObjectRelease();

        swift_release();
        return v21;
      }
    }
    return 0.0;
  }
  if (!*(void *)(v5 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_advertRotationController)) {
    return 0.0;
  }
  swift_retain();
  dispatch thunk of AdvertRotationController.currentAdvert.getter();
  swift_release();
  sub_100082C28(&qword_1009A4AB0);
  type metadata accessor for MixedMediaLockup();
  if ((swift_dynamicCast() & 1) == 0) {
    return 0.0;
  }
  uint64_t v16 = type metadata accessor for AdvertSearchResultCollectionViewCell();
  id v17 = *(void **)(v5 + v10);
  uint64_t v18 = swift_getObjectType();
  swift_unknownObjectRetain();
  id v19 = (id)ASKDeviceTypeGetCurrent();
  sub_1006DA91C(v86, v17, (uint64_t)v19, v16, v18);
  double v21 = v20;
  swift_unknownObjectRelease();

LABEL_9:
  swift_release();
  return v21;
}

void sub_10031EA34(uint64_t a1, void *a2)
{
  uint64_t v3 = v2;
  uint64_t v5 = type metadata accessor for IndexPath();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v32 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = IndexPath.section.getter();
  id v34 = a2;
  sub_10031F1BC(v9, a2);
  uint64_t v10 = sub_10031F3F8();
  double v11 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_maxSizeForRowCache);
  swift_beginAccess();
  if (!*(void *)(*v11 + 16) || (sub_10006EE24(v10), (v12 & 1) == 0))
  {
    double v32 = v11;
    sub_10031F494();
    double v15 = 0.0;
    double v16 = 0.0;
    if (v13 == v14)
    {
LABEL_15:
      uint64_t v29 = sub_10031F3F8();
      uint64_t v30 = v32;
      swift_beginAccess();
      char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
      uint64_t v35 = *v30;
      *uint64_t v30 = 0x8000000000000000;
      sub_1006F0B90(v29, isUniquelyReferenced_nonNull_native, v16, v15);
      *uint64_t v30 = v35;
      swift_bridgeObjectRelease();
      swift_endAccess();
    }
    else
    {
      uint64_t v17 = v13;
      uint64_t v18 = v14;
      if (v14 >= v13)
      {
        uint64_t v33 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
        id v19 = (void (**)(char *, uint64_t))(v6 + 8);
        while (v17 < v18)
        {
          IndexPath.section.getter();
          IndexPath.init(item:section:)();
          uint64_t v20 = dispatch thunk of SearchResultsPresenter.result(at:)();
          if (v20)
          {
            uint64_t v21 = v20;
            char v22 = IndexPath.item.getter() == 0;
            [*(id *)(v3 + v33) pageContainerSize];
            double v24 = sub_10031E12C(v23, v21, v34, v22);
            double v26 = v25;
            char v28 = v27;
            swift_release();
            (*v19)(v8, v5);
            if (v28)
            {
              double v15 = v26;
              double v16 = v24;
              goto LABEL_15;
            }
            if (v15 < v26)
            {
              double v15 = v26;
              double v16 = v24;
            }
          }
          else
          {
            (*v19)(v8, v5);
          }
          if (v18 == ++v17) {
            goto LABEL_15;
          }
        }
        __break(1u);
      }
      __break(1u);
    }
  }
}

uint64_t sub_10031EE5C()
{
  uint64_t v1 = type metadata accessor for ScreenshotsDisplayStyle();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v13 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for AppSearchResult();
  if (swift_dynamicCastClass())
  {
    swift_retain();
    AppSearchResult.lockup.getter();
LABEL_3:
    swift_release();
LABEL_4:
    swift_retain();
    MixedMediaLockup.screenshotsDisplayStyle.getter();
    char v5 = ScreenshotsDisplayStyle.shouldShowScreenshots.getter();
    (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
    if (v5)
    {
      unint64_t v6 = MixedMediaLockup.screenshots.getter();
      if (v6 >> 62) {
        uint64_t v7 = _CocoaArrayWrapper.endIndex.getter();
      }
      else {
        uint64_t v7 = *(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10);
      }
      swift_bridgeObjectRelease();
      if (v7)
      {
        swift_release_n();
        return 1;
      }
      unint64_t v9 = MixedMediaLockup.trailers.getter();
      unint64_t v10 = v9;
      if (v9 >> 62)
      {
        if (_CocoaArrayWrapper.endIndex.getter())
        {
LABEL_15:
          if ((v10 & 0xC000000000000001) != 0)
          {
            specialized _ArrayBuffer._getElementSlowPath(_:)();
          }
          else
          {
            if (!*(void *)((v10 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              goto LABEL_33;
            }
            swift_retain();
          }
          swift_bridgeObjectRelease();
          unint64_t v11 = Trailers.videos.getter();
          swift_release();
          if (!(v11 >> 62))
          {
            uint64_t v12 = *(void *)((v11 & 0xFFFFFFFFFFFFFF8) + 0x10);
            swift_release_n();
LABEL_20:
            swift_bridgeObjectRelease();
            return v12 != 0;
          }
LABEL_33:
          swift_bridgeObjectRetain();
          uint64_t v12 = _CocoaArrayWrapper.endIndex.getter();
          swift_release_n();
          swift_bridgeObjectRelease();
          goto LABEL_20;
        }
      }
      else if (*(void *)((v9 & 0xFFFFFFFFFFFFFF8) + 0x10))
      {
        goto LABEL_15;
      }
      swift_release_n();
      swift_bridgeObjectRelease();
    }
    else
    {
      swift_release_n();
    }
    return 0;
  }
  type metadata accessor for AppEventSearchResult();
  if (!swift_dynamicCastClass())
  {
    type metadata accessor for AdvertsSearchResult();
    uint64_t result = swift_dynamicCastClass();
    if (!result) {
      return result;
    }
    if (!*(void *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_advertRotationController)) {
      return 0;
    }
    swift_retain();
    dispatch thunk of AdvertRotationController.currentAdvert.getter();
    swift_release();
    sub_100082C28(&qword_1009A4AB0);
    type metadata accessor for MixedMediaLockup();
    uint64_t result = swift_dynamicCast();
    if (!result) {
      return result;
    }
    goto LABEL_4;
  }
  swift_retain();
  if ((dispatch thunk of SearchResultsPresenter.shouldDisplayAppEvent(for:)() & 1) == 0)
  {
    AppEventSearchResult.lockup.getter();
    goto LABEL_3;
  }
  swift_release();
  return 0;
}

void sub_10031F1BC(uint64_t a1, void *a2)
{
  uint64_t v4 = type metadata accessor for IndexPath();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v21 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_isFirstItemFullWidth;
  if (*(unsigned char *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_isFirstItemFullWidth) == 2)
  {
    IndexPath.init(item:section:)();
    uint64_t v9 = dispatch thunk of SearchResultsPresenter.result(at:)();
    if (v9)
    {
      uint64_t v10 = v9;
      [*(id *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) pageContainerSize];
      double v12 = sub_10031E12C(v11, v10, a2, 1);
      char v15 = v14;
      if (v14)
      {
        double v16 = v12;
        double v17 = v13;
        uint64_t v18 = sub_10031F3F8();
        id v19 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_maxSizeForRowCache);
        swift_beginAccess();
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        uint64_t v21 = *v19;
        *id v19 = 0x8000000000000000;
        sub_1006F0B90(v18, isUniquelyReferenced_nonNull_native, v16, v17);
        *id v19 = v21;
        swift_bridgeObjectRelease();
        swift_endAccess();
        swift_release();
        (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
      }
      else
      {
        (*(void (**)(char *, uint64_t, double))(v5 + 8))(v7, v4, v12);
        swift_release();
      }
      *(unsigned char *)(v2 + v8) = v15 & 1;
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    }
  }
}

uint64_t sub_10031F3F8()
{
  uint64_t result = IndexPath.item.getter();
  uint64_t v2 = *(unsigned char *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_isFirstItemFullWidth) & 1;
  uint64_t v3 = result + v2;
  if (__OFADD__(result, v2))
  {
    __break(1u);
  }
  else
  {
    id v4 = [*(id *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) traitCollection];
    id v5 = [v4 horizontalSizeClass];

    uint64_t v6 = 1;
    if (v5 != (id)1) {
      uint64_t v6 = 2;
    }
    return v3 / v6;
  }
  return result;
}

void sub_10031F494()
{
  uint64_t v1 = sub_10031F3F8();
  uint64_t v2 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
  id v3 = [*(id *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) traitCollection];
  id v4 = [v3 horizontalSizeClass];

  if (v4 == (id)1) {
    uint64_t v5 = 1;
  }
  else {
    uint64_t v5 = 2;
  }
  uint64_t v6 = v1 * v5;
  if ((unsigned __int128)(v1 * (__int128)v5) >> 64 != (v1 * v5) >> 63)
  {
    __break(1u);
    goto LABEL_12;
  }
  uint64_t v7 = *(unsigned char *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_isFirstItemFullWidth) & 1;
  uint64_t v8 = v6 - v7;
  if (__OFSUB__(v6, v7))
  {
LABEL_12:
    __break(1u);
LABEL_13:
    __break(1u);
    goto LABEL_14;
  }
  id v9 = [*(id *)(v0 + v2) traitCollection];
  id v10 = [v9 horizontalSizeClass];

  uint64_t v11 = 1;
  if (v10 != (id)1) {
    uint64_t v11 = 2;
  }
  if (__OFADD__(v8, v11)) {
    goto LABEL_13;
  }
  if (v8 + v11 < v8) {
LABEL_14:
  }
    __break(1u);
}

uint64_t sub_10031F59C()
{
  uint64_t result = dispatch thunk of SearchResultsPresenter.result(at:)();
  if (result)
  {
    type metadata accessor for AdvertsSearchResult();
    if (swift_dynamicCastClass())
    {
      swift_release();
      return 3;
    }
    else
    {
      type metadata accessor for LockupCollectionSearchResult();
      if (swift_dynamicCastClass()
        && (dispatch thunk of SearchResultsPresenter.isCondensedSearchLockupsEnabled.getter() & 1) == 0)
      {
        id v2 = objc_msgSend(objc_msgSend(*(id *)(v0 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits), "snapshotPageTraitEnvironment"), "traitCollection");
        swift_unknownObjectRelease();
        char v3 = UITraitCollection.isSizeClassRegular.getter();

        swift_release();
        if (v3) {
          return 1;
        }
        else {
          return 2;
        }
      }
      else
      {
        swift_release();
        return 0;
      }
    }
  }
  return result;
}

double sub_10031F710(double a1, uint64_t a2, char a3)
{
  uint64_t v4 = v3;
  type metadata accessor for AppSearchResult();
  if (!swift_dynamicCastClass())
  {
    type metadata accessor for BundleSearchResult();
    if (swift_dynamicCastClass())
    {
      swift_retain();
      BundleSearchResult.lockup.getter();
      swift_retain();
      uint64_t v14 = Lockup.title.getter();
      double v16 = v15;
      swift_release();
      swift_retain();
      uint64_t v17 = Lockup.subtitle.getter();
      uint64_t v19 = v18;
      swift_release();
      uint64_t v20 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
      id v21 = [*(id *)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) snapshotPageTraitEnvironment];
      [*(id *)(v3 + v20) pageMarginInsets];
      double v13 = sub_100566F4C(v14, v16, v17, v19, v21, a1);
      swift_unknownObjectRelease();
      swift_release();
      swift_release();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v13;
    }
    type metadata accessor for AdvertsSearchResult();
    if (swift_dynamicCastClass())
    {
      if (*(void *)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_advertRotationController))
      {
        swift_retain();
        dispatch thunk of AdvertRotationController.currentAdvert.getter();
        swift_release();
        sub_100082C28(&qword_1009A4AB0);
        type metadata accessor for MixedMediaLockup();
        if (swift_dynamicCast())
        {
          uint64_t v22 = type metadata accessor for AdvertSearchResultCollectionViewCell();
          uint64_t v23 = sub_100210BA0(a3 & 1);
          double v24 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits);
          uint64_t ObjectType = swift_getObjectType();
          [(id)swift_unknownObjectRetain() pageMarginInsets];
          id v26 = (id)ASKDeviceTypeGetCurrent();
          sub_1006DA91C(v23, v24, (uint64_t)v26, v22, ObjectType);
          double v13 = v27;
          swift_release();
          swift_unknownObjectRelease();

          goto LABEL_3;
        }
      }
      return 0.0;
    }
    type metadata accessor for EditorialSearchResult();
    if (swift_dynamicCastClass())
    {
      uint64_t v28 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
      uint64_t v29 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits);
      swift_retain();
      id v30 = [v29 snapshotPageTraitEnvironment];
      [*(id *)(v3 + v28) pageMarginInsets];
      double v32 = v31;
      double v34 = v33;
      double v36 = v35;
      double v38 = v37;
      uint64_t v39 = dispatch thunk of EditorialSearchResult.typeDisplayText.getter();
      uint64_t v41 = v40;
      uint64_t v42 = EditorialSearchResult.title.getter();
      uint64_t v44 = v43;
      uint64_t v45 = EditorialSearchResult.subtitle.getter();
      double v13 = sub_100793B28(v39, v41, v42, v44, v45, v46, v30, v32, v34, v36, v38, a1);
      swift_unknownObjectRelease();
      swift_release();
      swift_bridgeObjectRelease();
LABEL_12:
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      return v13;
    }
    type metadata accessor for InAppPurchaseSearchResult();
    if (swift_dynamicCastClass())
    {
      swift_retain();
      uint64_t v47 = InAppPurchaseSearchResult.lockup.getter();
      uint64_t v48 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
      id v49 = [*(id *)(v4 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) snapshotPageTraitEnvironment];
      [*(id *)(v4 + v48) pageMarginInsets];
      double v13 = sub_1003DE31C(a1, v47, v49);
      swift_release();
    }
    else
    {
      type metadata accessor for LockupCollectionSearchResult();
      if (swift_dynamicCastClass())
      {
        uint64_t v50 = type metadata accessor for SearchLockupListCollectionViewCell();
        uint64_t v51 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
        uint64_t v52 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits);
        swift_retain();
        id v53 = [v52 snapshotPageTraitEnvironment];
        [*(id *)(v3 + v51) pageMarginInsets];
        uint64_t v54 = swift_getObjectType();
        uint64_t v55 = v50;
        BOOL v56 = sub_100646F5C(v53);
        uint64_t v81 = v57;
        int v80 = v56;
        uint64_t v79 = LockupCollectionSearchResult.heading.getter();
        uint64_t v59 = v58;
        uint64_t v60 = LockupCollectionSearchResult.title.getter();
        uint64_t v62 = v61;
        if (LockupCollectionSearchResult.detailAction.getter())
        {
          uint64_t v63 = Action.title.getter();
          uint64_t v65 = v64;
          swift_release();
        }
        else
        {
          uint64_t v63 = 0;
          uint64_t v65 = 0;
        }
        double v13 = sub_1001608E0(v79, v59, v60, v62, v63, v65, v80, v81, v53, v55, v54);
        swift_unknownObjectRelease();
        swift_release();
        swift_bridgeObjectRelease();
        goto LABEL_12;
      }
      type metadata accessor for AppEventSearchResult();
      uint64_t v66 = swift_dynamicCastClass();
      if (!v66) {
        return 0.0;
      }
      uint64_t v67 = v66;
      swift_retain();
      if ((dispatch thunk of SearchResultsPresenter.shouldDisplayAppEvent(for:)() & 1) == 0)
      {
        uint64_t v73 = type metadata accessor for ContentSearchResultCollectionViewCell();
        AppEventSearchResult.lockup.getter();
        uint64_t v74 = sub_100210BA0(a3 & 1);
        swift_release();
        uint64_t v75 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits);
        uint64_t v76 = swift_getObjectType();
        [(id)swift_unknownObjectRetain() pageMarginInsets];
        id v77 = (id)ASKDeviceTypeGetCurrent();
        sub_1004E4864(v74, v75, (uint64_t)v77, v73, v76);
        double v13 = v78;
        swift_release();
        swift_unknownObjectRelease();

        goto LABEL_3;
      }
      uint64_t v68 = type metadata accessor for AppEventSearchResultCollectionViewCell();
      uint64_t v69 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
      id v70 = [*(id *)(v4 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) snapshotPageTraitEnvironment];
      uint64_t v71 = swift_getObjectType();
      [*(id *)(v4 + v69) pageMarginInsets];
      double v13 = sub_1001FD824(v67, v70, *(void *)(v4 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_objectGraph), a1, v68, v71);
    }
    swift_unknownObjectRelease();
    goto LABEL_3;
  }
  uint64_t v7 = type metadata accessor for ContentSearchResultCollectionViewCell();
  swift_retain();
  AppSearchResult.lockup.getter();
  uint64_t v8 = sub_100210BA0(a3 & 1);
  swift_release();
  id v9 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits);
  uint64_t v10 = swift_getObjectType();
  [(id)swift_unknownObjectRetain() pageMarginInsets];
  id v11 = (id)ASKDeviceTypeGetCurrent();
  sub_1004E4864(v8, v9, (uint64_t)v11, v7, v10);
  double v13 = v12;
  swift_release();
  swift_unknownObjectRelease();

LABEL_3:
  swift_release();
  return v13;
}

double sub_10031FF84(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v5 = *(void *)(v4 - 8);
  *(void *)&double v6 = __chkstk_darwin(v4).n128_u64[0];
  uint64_t v8 = (char *)&v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v9 = [a1 traitCollection];
  id v10 = [v9 horizontalSizeClass];

  if (v10 == (id)2)
  {
    if (qword_10097FC30 != -1) {
      swift_once();
    }
    uint64_t v11 = type metadata accessor for StaticDimension();
    sub_100087728(v11, (uint64_t)qword_1009E5D90);
    id v12 = [a1 traitCollection];
    type metadata accessor for TraitEnvironmentPlaceholder();
    sub_100082C28(&qword_100982B50);
    uint64_t v13 = swift_allocObject();
    *(_OWORD *)(v13 + 16) = xmmword_1007BEA80;
    *(void *)(v13 + 32) = v12;
    id v14 = v12;
    char v15 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    dispatch thunk of AnyDimension.rawValue(in:)();
    double v17 = v16;

    uint64_t v18 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
    [*(id *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) pageMarginInsets];
    [*(id *)(v2 + v18) pageMarginInsets];
  }
  else
  {
    if (qword_10097ED38 != -1) {
      swift_once();
    }
    uint64_t v19 = type metadata accessor for StaticDimension();
    sub_100087728(v19, (uint64_t)qword_1009E3280);
    id v20 = [a1 traitCollection];
    static Dimensions.defaultRoundingRule.getter();
    StaticDimension.value(compatibleWith:rounded:)();
    double v17 = v21;

    (*(void (**)(char *, uint64_t))(v5 + 8))(v8, v4);
  }
  return v17;
}

double sub_10032022C(void *a1, uint64_t a2)
{
  uint64_t v3 = v2;
  self;
  uint64_t v6 = swift_dynamicCastObjCClass();
  double v7 = 0.0;
  if (v6)
  {
    uint64_t v8 = (void *)v6;
    id v9 = a1;
    uint64_t v10 = dispatch thunk of SearchResultsPresenter.result(at:)();
    if (v10)
    {
      uint64_t v11 = v10;
      uint64_t v12 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
      id v13 = [*(id *)(v2 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits) traitCollection];
      id v14 = [v13 horizontalSizeClass];

      if (v14 == (id)1)
      {
        id v15 = [*(id *)(v2 + v12) traitCollection];
        char v16 = dispatch thunk of SearchResultsPresenter.shouldResultHaveCondensedAppearance(at:in:)();

        [*(id *)(v3 + v12) pageContainerSize];
        double v18 = sub_10031F710(v17, v11, v16 & 1);
      }
      else
      {
        sub_10031EA34(a2, v8);
      }
      double v7 = v18;

      swift_release();
    }
    else
    {
    }
  }
  return v7;
}

unint64_t sub_10032039C()
{
  sub_100082C28((uint64_t *)&unk_100990630);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_1007BF710;
  static String._unconditionallyBridgeFromObjectiveC(_:)();
  AnyHashable.init<A>(_:)();
  *(void *)(inited + 96) = &type metadata for UInt32;
  *(_DWORD *)(inited + 72) = 0;
  static String._unconditionallyBridgeFromObjectiveC(_:)();
  AnyHashable.init<A>(_:)();
  *(void *)(inited + 168) = &type metadata for UInt32;
  *(_DWORD *)(inited + 144) = 0;
  static String._unconditionallyBridgeFromObjectiveC(_:)();
  AnyHashable.init<A>(_:)();
  *(void *)(inited + 240) = &type metadata for UInt32;
  *(_DWORD *)(inited + 216) = 0;
  return sub_10066D688(inited);
}

uint64_t sub_1003204B0()
{
  uint64_t v0 = sub_100082C28((uint64_t *)&unk_100984B00);
  sub_100042444(v0, qword_100990640);
  sub_100087728(v0, (uint64_t)qword_100990640);
  sub_100082C28(&qword_100985B80);
  type metadata accessor for NSTextAlignment(0);
  return Conditional<>.init(regularValue:rightToLeftValue:)();
}

uint64_t sub_10032053C()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009E2548);
  sub_100087728(v4, (uint64_t)qword_1009E2548);
  if (qword_10097F668 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4D90);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v10[3] = v0;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  double v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_100320710(uint64_t a1)
{
  return sub_10032071C(a1, qword_1009E2560);
}

uint64_t sub_10032071C(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13[-1] - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  sub_100042444(v7, a2);
  sub_100087728(v7, (uint64_t)a2);
  if (qword_10097F670 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E4DA8);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16))(v6, v9, v8);
  (*(void (**)(char *, void, uint64_t))(v4 + 104))(v6, enum case for FontSource.useCase(_:), v3);
  uint64_t v13[3] = v3;
  v13[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v10 = sub_1000808B8(v13);
  (*(void (**)(uint64_t *, char *, uint64_t))(v4 + 16))(v10, v6, v3);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
}

uint64_t sub_1003208EC(uint64_t a1)
{
  return sub_10032071C(a1, qword_1009E2578);
}

uint64_t sub_1003208F8()
{
  sub_10008E8A0();
  uint64_t result = static UIColor.componentBackgroundStandout.getter();
  qword_1009E2590 = result;
  return result;
}

void sub_10032092C(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v45 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v13 - 8);
  id v15 = (char *)&v45 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = qword_10097F668;
  uint64_t v50 = v4;
  if (v16 != -1) {
    swift_once();
  }
  uint64_t v17 = type metadata accessor for FontUseCase();
  uint64_t v18 = sub_100087728(v17, (uint64_t)qword_1009E4D90);
  uint64_t v19 = *(void *)(v17 - 8);
  id v49 = *(void (**)(char *, uint64_t, uint64_t))(v19 + 16);
  v49(v15, v18, v17);
  uint64_t v48 = *(void (**)(char *, void, uint64_t, uint64_t))(v19 + 56);
  v48(v15, 0, 1, v17);
  uint64_t v20 = enum case for DirectionalTextAlignment.none(_:);
  double v21 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 104);
  v21(v12, enum case for DirectionalTextAlignment.none(_:), v9);
  uint64_t v22 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  uint64_t v47 = v9;
  uint64_t v23 = v22;
  id v24 = objc_allocWithZone(v22);
  *(void *)&v50[OBJC_IVAR____TtC8AppStore16StandardLinkView_descriptionLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  if (qword_10097F670 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_100087728(v17, (uint64_t)qword_1009E4DA8);
  v49(v15, v25, v17);
  v48(v15, 0, 1, v17);
  v21(v12, v20, v47);
  id v26 = objc_allocWithZone(v23);
  uint64_t v27 = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v28 = v50;
  *(void *)&v50[OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel] = v27;
  uint64_t v29 = self;
  NSString v30 = String._bridgeToObjectiveC()();
  id v31 = [v29 kitImageNamed:v30];

  if (v31)
  {
    id v32 = [v31 imageWithRenderingMode:2];

    id v33 = [v32 imageFlippedForRightToLeftLayoutDirection];
    id v34 = [objc_allocWithZone((Class)UIImageView) initWithImage:v33];

    *(void *)&v28[OBJC_IVAR____TtC8AppStore16StandardLinkView_disclosureIndicator] = v34;
    v51.receiver = v28;
    v51.super_class = ObjectType;
    id v35 = [super initWithFrame:a1, a2, a3, a4];
    [v35 setLayoutMargins:0.0, 16.0, 0.0, 16.0];
    uint64_t v36 = qword_10097E9C0;
    double v37 = (char *)v35;
    if (v36 != -1) {
      swift_once();
    }
    [v37 setBackgroundColor:qword_1009E2590];

    [v37 _setCornerRadius:8.0];
    [v37 addSubview:*(void *)&v37[OBJC_IVAR____TtC8AppStore16StandardLinkView_descriptionLabel]];
    uint64_t v38 = OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel;
    uint64_t v39 = *(void **)&v37[OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel];
    sub_10008E8A0();
    id v40 = v39;
    uint64_t v41 = (void *)static UIColor.secondaryText.getter();
    [v40 setTextColor:v41];

    [v37 addSubview:*(void *)&v37[v38]];
    uint64_t v42 = OBJC_IVAR____TtC8AppStore16StandardLinkView_disclosureIndicator;
    id v43 = *(id *)&v37[OBJC_IVAR____TtC8AppStore16StandardLinkView_disclosureIndicator];
    uint64_t v44 = (void *)static UIColor.tableViewCellChevron.getter();
    [v43 setTintColor:v44];

    [v37 addSubview:*(void *)&v37[v42]];
  }
  else
  {
    __break(1u);
  }
}

double sub_100320F30(double a1)
{
  id v3 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore16StandardLinkView_descriptionLabel] text];
  if (v3)
  {
    uint64_t v4 = v3;
    uint64_t v5 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v7 = v6;
  }
  else
  {
    uint64_t v5 = 0;
    uint64_t v7 = 0;
  }
  id v8 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel] text];
  if (v8)
  {
    uint64_t v9 = v8;
    uint64_t v10 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v12 = v11;
  }
  else
  {
    uint64_t v10 = 0;
    uint64_t v12 = 0;
  }
  [v1 layoutMargins];
  sub_100321744(v5, v7, v10, v12);
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  return a1;
}

id sub_100321084()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v2 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v3 = *(void *)(v2 - 8);
  *(void *)&double v4 = __chkstk_darwin(v2).n128_u64[0];
  uint64_t v6 = (char *)&v34 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  v34.receiver = v0;
  v34.super_class = ObjectType;
  [super layoutSubviews:v4];
  uint64_t v7 = *(void **)&v0[OBJC_IVAR____TtC8AppStore16StandardLinkView_disclosureIndicator];
  unsigned __int8 v8 = [v7 isHidden];
  LayoutMarginsAware<>.layoutFrame.getter();
  if (v8)
  {
    double Width = CGRectGetWidth(*(CGRect *)&v9);
  }
  else
  {
    [v7 sizeThatFits:v11, v12];
    double v15 = v14;
    double v17 = v16;
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v18 = CGRectGetMaxX(v35) - v15;
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v19 = CGRectGetMidY(v36) + v17 * -0.5;
    LayoutMarginsAware<>.layoutFrame.getter();
    CGRect.withLayoutDirection(in:relativeTo:)();
    [v7 setFrame:];
    LayoutMarginsAware<>.layoutFrame.getter();
    double v20 = CGRectGetWidth(v37);
    v38.origin.CGFloat x = v18;
    v38.origin.CGFloat y = v19;
    v38.size.CGFloat width = v15;
    v38.size.CGFloat height = v17;
    double Width = v20 - (CGRectGetWidth(v38) + 24.0);
  }
  if (qword_10097E9A8 != -1) {
    swift_once();
  }
  uint64_t v21 = type metadata accessor for StaticDimension();
  sub_100087728(v21, (uint64_t)qword_1009E2548);
  static Dimensions.defaultRoundingRule.getter();
  AnyDimension.value(in:rounded:)();
  double v23 = v22;
  id v24 = *(void (**)(char *, uint64_t))(v3 + 8);
  v24(v6, v2);
  uint64_t v25 = *(void **)&v0[OBJC_IVAR____TtC8AppStore16StandardLinkView_descriptionLabel];
  LayoutMarginsAware<>.layoutFrame.getter();
  [v25 sizeThatFits:Width, CGRectGetHeight(v39)];
  CGFloat v27 = v26;
  LayoutMarginsAware<>.layoutFrame.getter();
  CGFloat MinX = CGRectGetMinX(v40);
  LayoutMarginsAware<>.layoutFrame.getter();
  double MinY = CGRectGetMinY(v41);
  [v25 firstBaselineFromTop];
  double v31 = MinY + v23 - v30;
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v25 setFrame:];
  if (qword_10097E9B0 != -1) {
    swift_once();
  }
  sub_100087728(v21, (uint64_t)qword_1009E2560);
  static Dimensions.defaultRoundingRule.getter();
  AnyDimension.value(in:rounded:)();
  v24(v6, v2);
  id v32 = *(void **)&v0[OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel];
  LayoutMarginsAware<>.layoutFrame.getter();
  [v32 sizeThatFits:Width, CGRectGetHeight(v42)];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRectGetMinX(v43);
  v44.origin.CGFloat x = MinX;
  v44.origin.CGFloat y = v31;
  v44.size.CGFloat width = Width;
  v44.size.CGFloat height = v27;
  CGRectGetMaxY(v44);
  [v32 firstBaselineFromTop];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRect.withLayoutDirection(in:relativeTo:)();
  return [v32 setFrame:];
}

id sub_1003214F4(void *a1)
{
  uint64_t v2 = v1;
  v9.receiver = v2;
  v9.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  id v4 = [v2 traitCollection];
  id v5 = [v4 layoutDirection];

  if (!a1 || (id result = [a1 layoutDirection], v5 != result))
  {
    if (qword_10097E9A0 != -1) {
      swift_once();
    }
    uint64_t v7 = sub_100082C28((uint64_t *)&unk_100984B00);
    sub_100087728(v7, (uint64_t)qword_100990640);
    Conditional.evaluate(with:)();
    [*(id *)&v2[OBJC_IVAR____TtC8AppStore16StandardLinkView_descriptionLabel] setTextAlignment:v8 v2];
    return [*(id *)&v2[OBJC_IVAR____TtC8AppStore16StandardLinkView_summaryLabel] setTextAlignment:v8];
  }
  return result;
}

uint64_t type metadata accessor for StandardLinkView()
{
  return self;
}

void sub_100321744(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  double v11 = (char *)&v26 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v12 = self;
  NSString v13 = String._bridgeToObjectiveC()();
  id v14 = [v12 kitImageNamed:v13];

  if (v14)
  {
    uint64_t v28 = a1;
    uint64_t v29 = a2;
    uint64_t v30 = a3;
    uint64_t v31 = a4;
    id v15 = [v14 imageWithRenderingMode:2];

    id v16 = [v15 imageFlippedForRightToLeftLayoutDirection];
    [v16 size];

    if (qword_10097F668 != -1) {
      swift_once();
    }
    uint64_t v17 = sub_100087728(v8, (uint64_t)qword_1009E4D90);
    CGFloat v27 = *(void (**)(char *, uint64_t, uint64_t))(v9 + 16);
    v27(v11, v17, v8);
    uint64_t v18 = type metadata accessor for Feature();
    uint64_t v33 = v18;
    unint64_t v26 = sub_10003643C();
    unint64_t v34 = v26;
    CGFloat v19 = sub_1000808B8(v32);
    uint64_t v20 = enum case for Feature.measurement_with_labelplaceholder(_:);
    uint64_t v21 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 104);
    v21(v19, enum case for Feature.measurement_with_labelplaceholder(_:), v18);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v32);
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    double v22 = *(void (**)(char *, uint64_t))(v9 + 8);
    v22(v11, v8);
    if (qword_10097F670 != -1) {
      swift_once();
    }
    uint64_t v23 = sub_100087728(v8, (uint64_t)qword_1009E4DA8);
    v27(v11, v23, v8);
    uint64_t v33 = v18;
    unint64_t v34 = v26;
    id v24 = sub_1000808B8(v32);
    v21(v24, v20, v18);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v32);
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    v22(v11, v8);
    if (qword_10097E9A8 != -1) {
      swift_once();
    }
    uint64_t v25 = type metadata accessor for StaticDimension();
    sub_100087728(v25, (uint64_t)qword_1009E2548);
    AnyDimension.topMargin(from:in:)();
    if (qword_10097E9B0 != -1) {
      swift_once();
    }
    sub_100087728(v25, (uint64_t)qword_1009E2560);
    AnyDimension.topMargin(from:in:)();
    if (qword_10097E9B8 != -1) {
      swift_once();
    }
    sub_100087728(v25, (uint64_t)qword_1009E2578);
    AnyDimension.bottomMargin(from:in:)();
  }
  else
  {
    __break(1u);
  }
}

uint64_t sub_100321CBC@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = sub_100082C28(&qword_100996310);
  __chkstk_darwin(v2 - 8);
  id v4 = (char *)&v19 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for Shelf.ContentType();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v19 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  double v12 = (char *)&v19 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  int v13 = (*(uint64_t (**)(char *, uint64_t))(v6 + 88))(v8, v5);
  if (v13 == enum case for Shelf.ContentType.paragraph(_:)
    || v13 == enum case for Shelf.ContentType.titledParagraph(_:))
  {
    if (qword_10097E6D8 != -1) {
      swift_once();
    }
    uint64_t v15 = type metadata accessor for TitleHeaderView.Style(0);
    uint64_t v16 = sub_100087728(v15, (uint64_t)qword_1009E1F30);
    return sub_10017768C(v16, a1);
  }
  else
  {
    uint64_t v17 = type metadata accessor for ShelfHeader.Configuration();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v17 - 8) + 56))(v4, 1, 1, v17);
    sub_10008D5D0(0, 0, 0, 0, 0, (uint64_t)v4, a1);
    sub_100290A00((uint64_t)v4);
    return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  }
}

uint64_t type metadata accessor for ArticlePageShelfSupplementaryProvider()
{
  return self;
}

uint64_t sub_100321FC0()
{
  return sub_100322AE0(&qword_100990830, (void (*)(uint64_t))type metadata accessor for PrivacyHeaderCollectionViewCell);
}

unint64_t sub_10032200C(void *a1)
{
  uint64_t v52 = type metadata accessor for PrivacyHeaderLayout.Metrics();
  uint64_t v51 = *(void *)(v52 - 8);
  __chkstk_darwin(v52);
  id v53 = (char *)v49 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for PrivacyHeaderLayout();
  uint64_t v55 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v54 = (char *)v49 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v65 = type metadata accessor for LabelPlaceholderCompatibility();
  uint64_t v66 = *(void *)(v65 - 8);
  __chkstk_darwin(v65);
  uint64_t v6 = (char *)v49 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for FontUseCase();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)v49 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for PageGrid();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  id v14 = (char *)v49 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for PrivacyHeader();
  sub_100322AE0(&qword_100990838, (void (*)(uint64_t))&type metadata accessor for PrivacyHeader);
  unint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  uint64_t v56 = (uint64_t)v76;
  if (v76)
  {
    uint64_t v50 = v3;
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    PageGrid.componentMeasuringSize(spanning:)();
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    sub_10005A19C();
    if (qword_10097F4E0 != -1) {
      swift_once();
    }
    uint64_t v16 = sub_100087728(v7, (uint64_t)qword_1009E48F8);
    (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, v16, v7);
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    uint64_t v17 = v76;
    uint64_t v18 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();

    (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
    PrivacyHeader.bodyText.getter();
    LinkableText.styledText.getter();
    swift_release();
    uint64_t v19 = (void *)dispatch thunk of StyledText.asAttributedString(using:)();
    swift_release();
    uint64_t v20 = type metadata accessor for Feature();
    uint64_t v77 = v20;
    uint64_t v63 = sub_100322AE0((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
    uint64_t v78 = v63;
    uint64_t v21 = sub_1000808B8((uint64_t *)&v76);
    uint64_t v22 = *(void *)(v20 - 8);
    uint64_t v23 = *(void (**)(void))(v22 + 104);
    unsigned int v62 = enum case for Feature.measurement_with_labelplaceholder(_:);
    uint64_t v61 = (void (*)(uint64_t *, void, uint64_t))v23;
    uint64_t v60 = v22 + 104;
    v23(v21);
    id v24 = v19;
    id v25 = v18;
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v76);
    id v64 = v25;
    LabelPlaceholderCompatibility.init(attributedText:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
    LabelPlaceholderCompatibility.layoutTextView.getter();
    unint64_t v26 = *(void (**)(char *, uint64_t))(v66 + 8);
    v66 += 8;
    uint64_t v59 = v26;
    v26(v6, v65);
    unint64_t result = PrivacyHeader.supplementaryItems.getter();
    unint64_t v27 = result;
    if (result >> 62)
    {
      unint64_t result = _CocoaArrayWrapper.endIndex.getter();
      uint64_t v28 = result;
    }
    else
    {
      uint64_t v28 = *(void *)((result & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    v49[1] = a1;
    v49[0] = v24;
    if (v28)
    {
      if (v28 < 1)
      {
        __break(1u);
        return result;
      }
      uint64_t v29 = 0;
      unint64_t v57 = v27 & 0xC000000000000001;
      uint64_t v30 = (char *)_swiftEmptyArrayStorage;
      unint64_t v58 = v27;
      do
      {
        if (v57) {
          specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else {
          swift_retain();
        }
        PrivacyHeaderSupplementaryItem.bodyText.getter();
        LinkableText.styledText.getter();
        swift_release();
        id v31 = v64;
        id v32 = (void *)dispatch thunk of StyledText.asAttributedString(using:)();
        swift_release();
        uint64_t v74 = v20;
        uint64_t v75 = v63;
        uint64_t v33 = sub_1000808B8(v73);
        v61(v33, v62, v20);
        id v34 = v31;
        id v35 = v32;
        isFeatureEnabled(_:)();
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v73);
        LabelPlaceholderCompatibility.init(attributedText:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
        LabelPlaceholderCompatibility.layoutTextView.getter();
        v59(v6, v65);
        sub_100082C6C((uint64_t)v73, (uint64_t)&v70);
        if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
          uint64_t v30 = sub_1000ABCC8(0, *((void *)v30 + 2) + 1, 1, v30);
        }
        unint64_t v37 = *((void *)v30 + 2);
        unint64_t v36 = *((void *)v30 + 3);
        if (v37 >= v36 >> 1) {
          uint64_t v30 = sub_1000ABCC8((char *)(v36 > 1), v37 + 1, 1, v30);
        }
        ++v29;
        *((void *)v30 + 2) = v37 + 1;
        sub_100081DD4(&v70, (uint64_t)&v30[40 * v37 + 32]);

        swift_release();
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v73);
      }
      while (v28 != v29);
    }
    else
    {
      uint64_t v30 = (char *)_swiftEmptyArrayStorage;
    }
    swift_bridgeObjectRelease();
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    CGRect v38 = (void *)v73[0];
    static Separator.thickness(compatibleWith:)();

    uint64_t v39 = type metadata accessor for LayoutViewPlaceholder();
    swift_allocObject();
    uint64_t v40 = LayoutViewPlaceholder.init(representing:)();
    if (qword_10097FAE0 != -1) {
      swift_once();
    }
    uint64_t v41 = v52;
    uint64_t v42 = sub_100087728(v52, (uint64_t)qword_1009E58D8);
    (*(void (**)(char *, uint64_t, uint64_t))(v51 + 16))(v53, v42, v41);
    PrivacyHeader.isDetailHeader.getter();
    uint64_t v43 = v77;
    uint64_t v44 = v78;
    uint64_t v45 = sub_100081D90(&v76, v77);
    uint64_t v74 = v43;
    uint64_t v75 = *(void *)(v44 + 8);
    uint64_t v46 = sub_1000808B8(v73);
    (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v43 - 8) + 16))(v46, v45, v43);
    sub_100307698((uint64_t)v30);
    swift_bridgeObjectRelease();
    uint64_t v71 = v39;
    uint64_t v72 = &protocol witness table for LayoutViewPlaceholder;
    uint64_t v69 = &protocol witness table for LayoutViewPlaceholder;
    *(void *)&long long v70 = v40;
    uint64_t v68 = v39;
    uint64_t v67 = v40;
    swift_retain_n();
    uint64_t v47 = v54;
    PrivacyHeaderLayout.init(metrics:isDetailHeader:bodyLabel:supplementaryItemLabels:topSeparatorView:middleSeparatorView:actionButtons:)();
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    sub_100322AE0((unint64_t *)&unk_100990840, (void (*)(uint64_t))&type metadata accessor for PrivacyHeaderLayout);
    uint64_t v48 = v50;
    dispatch thunk of Measurable.measurements(fitting:in:)();

    swift_release();
    swift_release();
    swift_unknownObjectRelease();
    (*(void (**)(char *, uint64_t))(v55 + 8))(v47, v48);
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v76);
  }
  return result;
}

uint64_t sub_100322AE0(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_100322B28()
{
  uint64_t v1 = (uint64_t *)(v0 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_appEventFormattedDatePresenter);
  swift_beginAccess();
  uint64_t v2 = *v1;
  if (v2)
  {
    uint64_t v3 = OBJC_IVAR____TtC8AppStore30AppEventFormattedDatePresenter_updateTimer;
    uint64_t v4 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore30AppEventFormattedDatePresenter_updateTimer);
    swift_retain();
    if (v4)
    {
      [v4 invalidate];
      uint64_t v4 = *(void **)(v2 + v3);
    }
    *(void *)(v2 + v3) = 0;
    swift_release();
  }
  uint64_t v5 = *(char **)(v0 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorAnimationCoordinator);
  if (v5)
  {
    uint64_t v6 = (void **)(v0 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorView);
    swift_beginAccess();
    uint64_t v7 = *v6;
    if (*v6)
    {
      swift_beginAccess();
      id v8 = v7;
      uint64_t v9 = v5;
      uint64_t v10 = (void *)sub_100324F1C(v8);
      swift_endAccess();
    }
    else
    {
      uint64_t v11 = v5;
    }
    uint64_t v12 = &v5[OBJC_IVAR____TtC8AppStore41AppEventLiveIndicatorAnimationCoordinator_animatingViews];
    swift_beginAccess();
    uint64_t v13 = *(void *)v12;
    if ((v13 & 0xC000000000000001) != 0)
    {
      swift_bridgeObjectRetain();
      uint64_t v14 = __CocoaSet.count.getter();
      swift_bridgeObjectRelease();
      if (v14)
      {
LABEL_12:

        return;
      }
    }
    else if (*(void *)(v13 + 16))
    {
      goto LABEL_12;
    }
    sub_10000A88C();
    goto LABEL_12;
  }
}

void sub_100322CC8()
{
  unint64_t v1 = v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_showLiveIndicator];
  v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_showLiveIndicator] = 0;
  sub_1000984D0((id)v1);
  uint64_t v2 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_textLabel];
  id v3 = [v2 text];
  if (v3)
  {

    [v2 setText:0];
    [v0 setNeedsLayout];
  }
  uint64_t v4 = *(char **)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorAnimationCoordinator];
  if (v4)
  {
    uint64_t v5 = (void **)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorView];
    swift_beginAccess();
    uint64_t v6 = *v5;
    if (*v5)
    {
      swift_beginAccess();
      id v7 = v6;
      id v8 = v4;
      uint64_t v9 = (void *)sub_100324F1C(v7);
      swift_endAccess();
    }
    else
    {
      uint64_t v10 = v4;
    }
    uint64_t v11 = &v4[OBJC_IVAR____TtC8AppStore41AppEventLiveIndicatorAnimationCoordinator_animatingViews];
    swift_beginAccess();
    uint64_t v12 = *(void *)v11;
    if ((v12 & 0xC000000000000001) != 0)
    {
      swift_bridgeObjectRetain();
      uint64_t v13 = __CocoaSet.count.getter();
      swift_bridgeObjectRelease();
      if (v13)
      {
LABEL_10:

        return;
      }
    }
    else if (*(void *)(v12 + 16))
    {
      goto LABEL_10;
    }
    sub_10000A88C();
    goto LABEL_10;
  }
}

uint64_t sub_100322E5C()
{
  uint64_t v0 = type metadata accessor for FontSource();
  unint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  id v3 = (char *)&v21 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F808 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v23 = sub_100087728(v4, (uint64_t)qword_1009E5270);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v24 = v5 + 16;
  v22(v3, v23, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  uint64_t v21 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v21(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v32 = v7;
  uint64_t v33 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v31);
  uint64_t v29 = v0;
  uint64_t v30 = &protocol witness table for FontSource;
  id v8 = sub_1000808B8((uint64_t *)&v28);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v22(v3, v23, v4);
  v21(v3, v6, v0);
  uint64_t v29 = v7;
  uint64_t v30 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v28);
  unint64_t v26 = (void *)v0;
  unint64_t v27 = &protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8((uint64_t *)&v25);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  unint64_t v26 = &type metadata for Double;
  unint64_t v27 = &protocol witness table for Double;
  *(void *)&long long v25 = 0x4018000000000000;
  static UIEdgeInsets.horizontal(left:right:)();
  uint64_t v13 = v12;
  uint64_t v15 = v14;
  uint64_t v17 = v16;
  uint64_t v19 = v18;
  sub_100081DD4(&v31, (uint64_t)&unk_1009E2598);
  sub_100081DD4(&v28, (uint64_t)&unk_1009E25C0);
  uint64_t result = sub_100081DD4(&v25, (uint64_t)&unk_1009E25E8);
  qword_1009E2610 = 0;
  unk_1009E2618 = 0;
  qword_1009E2620 = v13;
  unk_1009E2628 = v15;
  qword_1009E2630 = v17;
  unk_1009E2638 = v19;
  return result;
}

uint64_t sub_100323180()
{
  uint64_t v0 = type metadata accessor for FontSource();
  unint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  id v3 = (char *)&v21 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F828 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v23 = sub_100087728(v4, (uint64_t)qword_1009E52D0);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v24 = v5 + 16;
  v22(v3, v23, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  uint64_t v21 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v21(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v32 = v7;
  uint64_t v33 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v31);
  uint64_t v29 = v0;
  uint64_t v30 = &protocol witness table for FontSource;
  id v8 = sub_1000808B8((uint64_t *)&v28);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v22(v3, v23, v4);
  v21(v3, v6, v0);
  uint64_t v29 = v7;
  uint64_t v30 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v28);
  unint64_t v26 = (void *)v0;
  unint64_t v27 = &protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8((uint64_t *)&v25);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  unint64_t v26 = &type metadata for Double;
  unint64_t v27 = &protocol witness table for Double;
  *(void *)&long long v25 = 0x4018000000000000;
  static UIEdgeInsets.horizontal(left:right:)();
  uint64_t v13 = v12;
  uint64_t v15 = v14;
  uint64_t v17 = v16;
  uint64_t v19 = v18;
  sub_100081DD4(&v31, (uint64_t)&unk_1009E2640);
  sub_100081DD4(&v28, (uint64_t)&unk_1009E2668);
  uint64_t result = sub_100081DD4(&v25, (uint64_t)&unk_1009E2690);
  qword_1009E26B8 = 0;
  unk_1009E26C0 = 0;
  qword_1009E26C8 = v13;
  unk_1009E26D0 = v15;
  qword_1009E26D8 = v17;
  unk_1009E26E0 = v19;
  return result;
}

uint64_t sub_1003234A4()
{
  if (qword_10097E860 != -1) {
    swift_once();
  }
  uint64_t v0 = type metadata accessor for FlowcaseItemLayout.Metrics();
  sub_100087728(v0, (uint64_t)qword_1009E2198);
  FlowcaseItemLayout.Metrics.captionSpace.getter();
  uint64_t v14 = type metadata accessor for ZeroDimension();
  uint64_t v15 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v13);
  static ZeroDimension.zero.getter();
  uint64_t v11 = &type metadata for Double;
  uint64_t v12 = &protocol witness table for Double;
  *(void *)&long long v10 = 0x4018000000000000;
  static UIEdgeInsets.horizontal(left:right:)();
  uint64_t v2 = v1;
  uint64_t v4 = v3;
  uint64_t v6 = v5;
  uint64_t v8 = v7;
  sub_100081DD4(&v16, (uint64_t)&unk_1009E26E8);
  sub_100081DD4(&v13, (uint64_t)&unk_1009E2710);
  uint64_t result = sub_100081DD4(&v10, (uint64_t)&unk_1009E2738);
  qword_1009E2760 = 0;
  unk_1009E2768 = 0;
  qword_1009E2770 = v2;
  unk_1009E2778 = v4;
  qword_1009E2780 = v6;
  unk_1009E2788 = v8;
  return result;
}

double sub_1003235BC()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v13 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F660 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v15 = sub_100087728(v4, (uint64_t)qword_1009E4D78);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v16 = v5 + 16;
  v14(v3, v15, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  long long v13 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v13(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v22 = v7;
  uint64_t v23 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v21);
  uint64_t v19 = v0;
  uint64_t v20 = &protocol witness table for FontSource;
  uint64_t v8 = sub_1000808B8((uint64_t *)&v18);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  long long v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v14(v3, v15, v4);
  v13(v3, v6, v0);
  uint64_t v19 = v7;
  uint64_t v20 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v18);
  v17[3] = v0;
  v17[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8(v17);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  qword_1009E28A0 = (uint64_t)&type metadata for Double;
  unk_1009E28A8 = &protocol witness table for Double;
  qword_1009E2888 = 0x4018000000000000;
  sub_100081DD4(&v21, (uint64_t)&unk_1009E2838);
  sub_100081DD4(&v18, (uint64_t)&unk_1009E2860);
  qword_1009E28B0 = 0;
  unk_1009E28B8 = 0;
  unk_1009E28C0 = xmmword_1007D0D40;
  double result = 3.0;
  unk_1009E28D0 = xmmword_1007D0D50;
  return result;
}

double sub_1003238A8()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v13 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F660 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v15 = sub_100087728(v4, (uint64_t)qword_1009E4D78);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v16 = v5 + 16;
  v14(v3, v15, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  long long v13 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v13(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v22 = v7;
  uint64_t v23 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v21);
  uint64_t v19 = v0;
  uint64_t v20 = &protocol witness table for FontSource;
  uint64_t v8 = sub_1000808B8((uint64_t *)&v18);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  long long v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v14(v3, v15, v4);
  v13(v3, v6, v0);
  uint64_t v19 = v7;
  uint64_t v20 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v18);
  v17[3] = v0;
  v17[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8(v17);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  qword_1009E2948 = (uint64_t)&type metadata for Double;
  unk_1009E2950 = &protocol witness table for Double;
  qword_1009E2930 = 0x4018000000000000;
  sub_100081DD4(&v21, (uint64_t)&unk_1009E28E0);
  sub_100081DD4(&v18, (uint64_t)&unk_1009E2908);
  qword_1009E2958 = 0;
  unk_1009E2960 = 0;
  unk_1009E2968 = xmmword_1007D0D60;
  double result = 7.0;
  unk_1009E2978 = xmmword_1007D0D40;
  return result;
}

uint64_t sub_100323B94()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v21 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F660 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v23 = sub_100087728(v4, (uint64_t)qword_1009E4D78);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v24 = v5 + 16;
  v22(v3, v23, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  long long v21 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v21(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v32 = v7;
  uint64_t v33 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v31);
  uint64_t v29 = v0;
  uint64_t v30 = &protocol witness table for FontSource;
  uint64_t v8 = sub_1000808B8((uint64_t *)&v28);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  long long v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v22(v3, v23, v4);
  v21(v3, v6, v0);
  uint64_t v29 = v7;
  uint64_t v30 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v28);
  unint64_t v26 = (void *)v0;
  unint64_t v27 = &protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8((uint64_t *)&v25);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  unint64_t v26 = &type metadata for Double;
  unint64_t v27 = &protocol witness table for Double;
  *(void *)&long long v25 = 0x4018000000000000;
  static UIEdgeInsets.horizontal(left:right:)();
  uint64_t v13 = v12;
  uint64_t v15 = v14;
  uint64_t v17 = v16;
  uint64_t v19 = v18;
  sub_100081DD4(&v31, (uint64_t)&unk_1009E2988);
  sub_100081DD4(&v28, (uint64_t)&unk_1009E29B0);
  uint64_t result = sub_100081DD4(&v25, (uint64_t)&unk_1009E29D8);
  qword_1009E2A00 = 0;
  unk_1009E2A08 = 0;
  qword_1009E2A10 = v13;
  unk_1009E2A18 = v15;
  qword_1009E2A20 = v17;
  unk_1009E2A28 = v19;
  return result;
}

uint64_t sub_100323EB8()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v21 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F660 != -1) {
    swift_once();
  }
  uint64_t v4 = type metadata accessor for FontUseCase();
  uint64_t v23 = sub_100087728(v4, (uint64_t)qword_1009E4D78);
  uint64_t v5 = *(void *)(v4 - 8);
  uint64_t v22 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 16);
  uint64_t v24 = v5 + 16;
  v22(v3, v23, v4);
  uint64_t v6 = enum case for FontSource.useCase(_:);
  long long v21 = (void (*)(char *, uint64_t, uint64_t))v1[13];
  v21(v3, enum case for FontSource.useCase(_:), v0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v32 = v7;
  uint64_t v33 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v31);
  uint64_t v29 = v0;
  uint64_t v30 = &protocol witness table for FontSource;
  uint64_t v8 = sub_1000808B8((uint64_t *)&v28);
  uint64_t v9 = (void (*)(uint64_t *, char *, uint64_t))v1[2];
  v9(v8, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  long long v10 = (void (*)(char *, uint64_t))v1[1];
  v10(v3, v0);
  v22(v3, v23, v4);
  v21(v3, v6, v0);
  uint64_t v29 = v7;
  uint64_t v30 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v28);
  unint64_t v26 = (void *)v0;
  unint64_t v27 = &protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8((uint64_t *)&v25);
  v9(v11, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  v10(v3, v0);
  unint64_t v26 = &type metadata for Double;
  unint64_t v27 = &protocol witness table for Double;
  *(void *)&long long v25 = 0x4018000000000000;
  static UIEdgeInsets.horizontal(left:right:)();
  uint64_t v13 = v12;
  uint64_t v15 = v14;
  uint64_t v17 = v16;
  uint64_t v19 = v18;
  sub_100081DD4(&v31, (uint64_t)&unk_1009E2A30);
  sub_100081DD4(&v28, (uint64_t)&unk_1009E2A58);
  uint64_t result = sub_100081DD4(&v25, (uint64_t)&unk_1009E2A80);
  qword_1009E2AA8 = 0;
  unk_1009E2AB0 = 0;
  qword_1009E2AB8 = v13;
  unk_1009E2AC0 = v15;
  qword_1009E2AC8 = v17;
  unk_1009E2AD0 = v19;
  return result;
}

id sub_1003241DC()
{
  id result = [self systemRedColor];
  qword_100990868 = (uint64_t)result;
  return result;
}

void sub_100324218()
{
  id v0 = [self systemRedColor];
  id v1 = [v0 colorWithAlphaComponent:0.2];

  qword_100990870 = (uint64_t)v1;
}

id sub_100324284(uint64_t a1)
{
  return sub_1003242A4(a1, 14, &qword_100990878);
}

id sub_100324294(uint64_t a1)
{
  return sub_1003242A4(a1, 20, &qword_100990880);
}

id sub_1003242A4(uint64_t a1, uint64_t a2, void *a3)
{
  id result = [self effectWithStyle:a2];
  *a3 = result;
  return result;
}

id sub_100324318()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  sub_100322B28();
  v3.receiver = v0;
  v3.super_class = ObjectType;
  return [super dealloc];
}

id sub_100324464(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void **)&v2[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_textLabel];
  id result = [v5 text];
  if (result)
  {
    uint64_t v7 = result;
    uint64_t v8 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v10 = v9;

    if (!a2)
    {
      NSString v13 = 0;
      goto LABEL_12;
    }
    if (v8 == a1 && v10 == a2)
    {
      swift_bridgeObjectRelease();
LABEL_16:
      return (id)swift_bridgeObjectRelease();
    }
    char v12 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    if (v12) {
      goto LABEL_16;
    }
  }
  else if (!a2)
  {
    return result;
  }
  NSString v13 = String._bridgeToObjectiveC()();
LABEL_12:
  swift_bridgeObjectRelease();
  [v5 setText:v13];

  return [v2 setNeedsLayout];
}

void sub_100324664()
{
  id v1 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_vibrancyView];
  if (v1)
  {
    id v6 = v1;
    id v2 = [v6 contentView];
    [v2 addSubview:*(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_textLabel]];

    objc_super v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_blurredBackgroundView];
    if (v3)
    {
      id v4 = [v3 contentView];
      [v4 addSubview:v6];
    }
  }
  else
  {
    uint64_t v5 = *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_textLabel];
    [v0 addSubview:v5];
  }
}

uint64_t getEnumTagSinglePayload for AppPromotionFormattedDateView.Style(unsigned __int8 *a1, unsigned int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0xF9) {
    goto LABEL_17;
  }
  if (a2 + 7 >= 0xFFFF00) {
    int v2 = 4;
  }
  else {
    int v2 = 2;
  }
  if ((a2 + 7) >> 8 < 0xFF) {
    int v3 = 1;
  }
  else {
    int v3 = v2;
  }
  if (v3 == 4)
  {
    int v4 = *(_DWORD *)(a1 + 1);
    if (v4) {
      return (*a1 | (v4 << 8)) - 7;
    }
  }
  else
  {
    if (v3 == 2)
    {
      int v4 = *(unsigned __int16 *)(a1 + 1);
      if (!*(_WORD *)(a1 + 1)) {
        goto LABEL_17;
      }
      return (*a1 | (v4 << 8)) - 7;
    }
    int v4 = a1[1];
    if (a1[1]) {
      return (*a1 | (v4 << 8)) - 7;
    }
  }
LABEL_17:
  unsigned int v6 = *a1;
  BOOL v7 = v6 >= 8;
  int v8 = v6 - 8;
  if (!v7) {
    int v8 = -1;
  }
  return (v8 + 1);
}

unsigned char *storeEnumTagSinglePayload for AppPromotionFormattedDateView.Style(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 7 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 7) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xF9) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xF8)
  {
    unsigned int v6 = ((a2 - 249) >> 8) + 1;
    *id result = a2 + 7;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x100324A38);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *id result = a2 + 7;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for AppPromotionFormattedDateView.Style()
{
  return &type metadata for AppPromotionFormattedDateView.Style;
}

unint64_t sub_100324A74()
{
  unint64_t result = qword_100990900;
  if (!qword_100990900)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100990900);
  }
  return result;
}

uint64_t sub_100324AC8()
{
  return swift_retain();
}

uint64_t sub_100324B14(uint64_t a1)
{
  int v3 = (void *)(v1 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_appEventFormattedDatePresenter);
  swift_beginAccess();
  *int v3 = a1;
  return swift_release();
}

uint64_t (*sub_100324B68())()
{
  return j__swift_endAccess;
}

double sub_100324BC8(void *a1)
{
  sub_100015BFC(v8);
  type metadata accessor for TraitEnvironmentPlaceholder();
  sub_100082C28(&qword_100982B50);
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_1007BEA80;
  *(void *)(v2 + 32) = a1;
  id v3 = a1;
  unsigned int v4 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  sub_100012B9C((uint64_t)v4, v8);
  double v6 = v5;

  sub_1000431E4((uint64_t)v8);
  return v6;
}

Swift::Int sub_100324CA0(uint64_t a1, uint64_t a2)
{
  if (a2)
  {
    sub_100082C28(&qword_100984150);
    uint64_t v2 = static _SetStorage.convert(_:capacity:)();
    uint64_t v14 = v2;
    __CocoaSet.makeIterator()();
    if (__CocoaSet.Iterator.next()())
    {
      sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
      do
      {
        swift_dynamicCast();
        uint64_t v2 = v14;
        if (*(void *)(v14 + 24) <= *(void *)(v14 + 16))
        {
          sub_10026BF0C();
          uint64_t v2 = v14;
        }
        Swift::Int result = NSObject._rawHashValue(seed:)(*(void *)(v2 + 40));
        uint64_t v4 = v2 + 56;
        uint64_t v5 = -1 << *(unsigned char *)(v2 + 32);
        unint64_t v6 = result & ~v5;
        unint64_t v7 = v6 >> 6;
        if (((-1 << v6) & ~*(void *)(v2 + 56 + 8 * (v6 >> 6))) != 0)
        {
          unint64_t v8 = __clz(__rbit64((-1 << v6) & ~*(void *)(v2 + 56 + 8 * (v6 >> 6)))) | v6 & 0x7FFFFFFFFFFFFFC0;
        }
        else
        {
          char v9 = 0;
          unint64_t v10 = (unint64_t)(63 - v5) >> 6;
          do
          {
            if (++v7 == v10 && (v9 & 1) != 0)
            {
              __break(1u);
              return result;
            }
            BOOL v11 = v7 == v10;
            if (v7 == v10) {
              unint64_t v7 = 0;
            }
            v9 |= v11;
            uint64_t v12 = *(void *)(v4 + 8 * v7);
          }
          while (v12 == -1);
          unint64_t v8 = __clz(__rbit64(~v12)) + (v7 << 6);
        }
        *(void *)(v4 + ((v8 >> 3) & 0x1FFFFFFFFFFFFFF8)) |= 1 << v8;
        *(void *)(*(void *)(v2 + 48) + 8 * v8) = v13;
        ++*(void *)(v2 + 16);
      }
      while (__CocoaSet.Iterator.next()());
    }
    swift_release();
  }
  else
  {
    swift_unknownObjectRelease();
    return (Swift::Int)&_swiftEmptySetSingleton;
  }
  return v2;
}

unint64_t sub_100324E98(uint64_t a1, void *a2)
{
  NSObject._rawHashValue(seed:)(a2[5]);
  unint64_t result = _HashTable.nextHole(atOrAfter:)();
  *(void *)((char *)a2 + ((result >> 3) & 0x1FFFFFFFFFFFFFF8) + 56) |= 1 << result;
  *(void *)(a2[6] + 8 * result) = a1;
  ++a2[2];
  return result;
}

uint64_t sub_100324F1C(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = *v1;
  if ((*v1 & 0xC000000000000001) != 0)
  {
    swift_bridgeObjectRetain();
    id v5 = a1;
    char v6 = __CocoaSet.contains(_:)();

    if (v6)
    {
      uint64_t v7 = sub_1003253A8();
      swift_bridgeObjectRelease();
      return v7;
    }
LABEL_12:
    swift_bridgeObjectRelease();
    return 0;
  }
  Swift::Int v8 = *(void *)(v4 + 40);
  swift_bridgeObjectRetain();
  Swift::Int v9 = NSObject._rawHashValue(seed:)(v8);
  uint64_t v10 = -1 << *(unsigned char *)(v4 + 32);
  unint64_t v11 = v9 & ~v10;
  if (((*(void *)(v4 + 56 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11) & 1) == 0) {
    goto LABEL_12;
  }
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  id v12 = *(id *)(*(void *)(v4 + 48) + 8 * v11);
  char v13 = static NSObject.== infix(_:_:)();

  if ((v13 & 1) == 0)
  {
    uint64_t v14 = ~v10;
    do
    {
      unint64_t v11 = (v11 + 1) & v14;
      if (((*(void *)(v4 + 56 + ((v11 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v11) & 1) == 0) {
        goto LABEL_12;
      }
      id v15 = *(id *)(*(void *)(v4 + 48) + 8 * v11);
      char v16 = static NSObject.== infix(_:_:)();
    }
    while ((v16 & 1) == 0);
  }
  swift_bridgeObjectRelease();
  int isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v18 = *v2;
  uint64_t v20 = *v2;
  *uint64_t v2 = 0x8000000000000000;
  if (!isUniquelyReferenced_nonNull_native)
  {
    sub_10026DB68();
    uint64_t v18 = v20;
  }
  uint64_t v7 = *(void *)(*(void *)(v18 + 48) + 8 * v11);
  sub_100325544(v11);
  *uint64_t v2 = v20;
  swift_bridgeObjectRelease();
  return v7;
}

uint64_t sub_1003250F4@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v5 = type metadata accessor for AdamId();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  Swift::Int v8 = (char *)&v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = *v2;
  sub_100325DD4(&qword_10098B850);
  swift_bridgeObjectRetain();
  uint64_t v29 = a1;
  uint64_t v10 = dispatch thunk of Hashable._rawHashValue(seed:)();
  uint64_t v11 = -1 << *(unsigned char *)(v9 + 32);
  unint64_t v12 = v10 & ~v11;
  uint64_t v28 = v9 + 56;
  if ((*(void *)(v9 + 56 + ((v12 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v12))
  {
    uint64_t v24 = v2;
    uint64_t v25 = v6;
    uint64_t v26 = a2;
    uint64_t v27 = ~v11;
    id v15 = *(void (**)(char *, unint64_t, uint64_t))(v6 + 16);
    uint64_t v14 = v6 + 16;
    char v13 = v15;
    uint64_t v16 = *(void *)(v14 + 56);
    while (1)
    {
      v13(v8, *(void *)(v9 + 48) + v16 * v12, v5);
      sub_100325DD4(&qword_10098B858);
      char v17 = dispatch thunk of static Equatable.== infix(_:_:)();
      (*(void (**)(char *, uint64_t))(v14 - 8))(v8, v5);
      if (v17) {
        break;
      }
      unint64_t v12 = (v12 + 1) & v27;
      if (((*(void *)(v28 + ((v12 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v12) & 1) == 0)
      {
        swift_bridgeObjectRelease();
        uint64_t v18 = 1;
        uint64_t v6 = v25;
        a2 = v26;
        return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v6 + 56))(a2, v18, 1, v5);
      }
    }
    swift_bridgeObjectRelease();
    uint64_t v19 = v24;
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    uint64_t v21 = *v19;
    uint64_t v30 = *v19;
    *uint64_t v19 = 0x8000000000000000;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      sub_10026E3A4();
      uint64_t v21 = v30;
    }
    uint64_t v6 = v25;
    a2 = v26;
    (*(void (**)(uint64_t, unint64_t, uint64_t))(v25 + 32))(v26, *(void *)(v21 + 48) + v16 * v12, v5);
    sub_1003256E8(v12);
    *uint64_t v19 = v30;
    swift_bridgeObjectRelease();
    uint64_t v18 = 0;
  }
  else
  {
    swift_bridgeObjectRelease();
    uint64_t v18 = 1;
  }
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v6 + 56))(a2, v18, 1, v5);
}

uint64_t sub_1003253A8()
{
  uint64_t v1 = v0;
  swift_bridgeObjectRelease();
  uint64_t v2 = __CocoaSet.count.getter();
  uint64_t v3 = swift_unknownObjectRetain();
  Swift::Int v4 = sub_100324CA0(v3, v2);
  Swift::Int v16 = v4;
  Swift::Int v5 = *(void *)(v4 + 40);
  swift_retain();
  Swift::Int v6 = NSObject._rawHashValue(seed:)(v5);
  uint64_t v7 = -1 << *(unsigned char *)(v4 + 32);
  unint64_t v8 = v6 & ~v7;
  if ((*(void *)(v4 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8))
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    id v9 = *(id *)(*(void *)(v4 + 48) + 8 * v8);
    char v10 = static NSObject.== infix(_:_:)();

    if (v10)
    {
LABEL_6:
      swift_release();
      uint64_t v14 = *(void *)(*(void *)(v4 + 48) + 8 * v8);
      sub_100325544(v8);
      if (static NSObject.== infix(_:_:)())
      {
        *uint64_t v1 = v16;
        return v14;
      }
      __break(1u);
    }
    else
    {
      uint64_t v11 = ~v7;
      while (1)
      {
        unint64_t v8 = (v8 + 1) & v11;
        if (((*(void *)(v4 + 56 + ((v8 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v8) & 1) == 0) {
          break;
        }
        id v12 = *(id *)(*(void *)(v4 + 48) + 8 * v8);
        char v13 = static NSObject.== infix(_:_:)();

        if (v13) {
          goto LABEL_6;
        }
      }
    }
    swift_release();
    __break(1u);
  }
  uint64_t result = swift_release();
  __break(1u);
  return result;
}

unint64_t sub_100325544(unint64_t result)
{
  int64_t v2 = result;
  uint64_t v3 = *v1;
  uint64_t v4 = *v1 + 56;
  uint64_t v5 = -1 << *(unsigned char *)(*v1 + 32);
  unint64_t v6 = (result + 1) & ~v5;
  if (((1 << v6) & *(void *)(v4 + 8 * (v6 >> 6))) != 0)
  {
    uint64_t v7 = ~v5;
    swift_retain();
    uint64_t v8 = _HashTable.previousHole(before:)();
    if ((*(void *)(v4 + 8 * (v6 >> 6)) & (1 << v6)) != 0)
    {
      unint64_t v9 = (v8 + 1) & v7;
      do
      {
        Swift::Int v10 = *(void *)(v3 + 40);
        id v11 = *(id *)(*(void *)(v3 + 48) + 8 * v6);
        Swift::Int v12 = NSObject._rawHashValue(seed:)(v10);

        Swift::Int v13 = v12 & v7;
        if (v2 >= (uint64_t)v9)
        {
          if (v13 >= v9 && v2 >= v13)
          {
LABEL_16:
            uint64_t v16 = *(void *)(v3 + 48);
            char v17 = (void *)(v16 + 8 * v2);
            uint64_t v18 = (void *)(v16 + 8 * v6);
            if (v2 != v6 || (int64_t v2 = v6, v17 >= v18 + 1))
            {
              *char v17 = *v18;
              int64_t v2 = v6;
            }
          }
        }
        else if (v13 >= v9 || v2 >= v13)
        {
          goto LABEL_16;
        }
        unint64_t v6 = (v6 + 1) & v7;
      }
      while (((*(void *)(v4 + ((v6 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v6) & 1) != 0);
    }
    *(void *)(v4 + (((unint64_t)v2 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= (-1 << v2) - 1;
    uint64_t result = swift_release();
  }
  else
  {
    *(void *)(v4 + ((result >> 3) & 0x1FFFFFFFFFFFFFF8)) &= (-1 << result) - 1;
  }
  uint64_t v19 = *(void *)(v3 + 16);
  BOOL v20 = __OFSUB__(v19, 1);
  uint64_t v21 = v19 - 1;
  if (v20)
  {
    __break(1u);
  }
  else
  {
    *(void *)(v3 + 16) = v21;
    ++*(_DWORD *)(v3 + 36);
  }
  return result;
}

uint64_t sub_1003256E8(int64_t a1)
{
  uint64_t v3 = type metadata accessor for AdamId();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  unint64_t v6 = (char *)&v30 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t result = *v1;
  uint64_t v8 = *v1 + 56;
  uint64_t v9 = -1 << *(unsigned char *)(*v1 + 32);
  unint64_t v10 = (a1 + 1) & ~v9;
  if (((1 << v10) & *(void *)(v8 + 8 * (v10 >> 6))) != 0)
  {
    long long v31 = v1;
    uint64_t v11 = ~v9;
    uint64_t v35 = result;
    swift_retain();
    uint64_t v12 = _HashTable.previousHole(before:)();
    if ((*(void *)(v8 + 8 * (v10 >> 6)) & (1 << v10)) != 0)
    {
      unint64_t v33 = (v12 + 1) & v11;
      uint64_t v14 = *(void (**)(char *, unint64_t, uint64_t))(v4 + 16);
      uint64_t v13 = v4 + 16;
      uint64_t v32 = v14;
      uint64_t v15 = *(void *)(v13 + 56);
      uint64_t v34 = v13;
      uint64_t v16 = (void (**)(char *, uint64_t))(v13 - 8);
      uint64_t v17 = v35;
      do
      {
        uint64_t v18 = v8;
        uint64_t v19 = v15;
        int64_t v20 = v15 * v10;
        v32(v6, *(void *)(v17 + 48) + v15 * v10, v3);
        sub_100325DD4(&qword_10098B850);
        uint64_t v21 = dispatch thunk of Hashable._rawHashValue(seed:)();
        (*v16)(v6, v3);
        unint64_t v22 = v21 & v11;
        if (a1 >= (uint64_t)v33)
        {
          if (v22 < v33 || a1 < (uint64_t)v22)
          {
LABEL_4:
            uint64_t v8 = v18;
            uint64_t v15 = v19;
            uint64_t v17 = v35;
            goto LABEL_5;
          }
        }
        else if (v22 < v33 && a1 < (uint64_t)v22)
        {
          goto LABEL_4;
        }
        uint64_t v17 = v35;
        int64_t v25 = v19 * a1;
        uint64_t v8 = v18;
        if (v19 * a1 < v20
          || (uint64_t v15 = v19, *(void *)(v35 + 48) + v19 * a1 >= (unint64_t)(*(void *)(v35 + 48) + v20 + v19)))
        {
          swift_arrayInitWithTakeFrontToBack();
          goto LABEL_21;
        }
        a1 = v10;
        if (v25 != v20)
        {
          swift_arrayInitWithTakeBackToFront();
LABEL_21:
          uint64_t v17 = v35;
          uint64_t v15 = v19;
          a1 = v10;
        }
LABEL_5:
        unint64_t v10 = (v10 + 1) & v11;
      }
      while (((*(void *)(v8 + ((v10 >> 3) & 0xFFFFFFFFFFFFFF8)) >> v10) & 1) != 0);
    }
    *(void *)(v8 + (((unint64_t)a1 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= (-1 << a1) - 1;
    uint64_t result = swift_release();
    uint64_t v1 = v31;
  }
  else
  {
    *(void *)(v8 + (((unint64_t)a1 >> 3) & 0x1FFFFFFFFFFFFFF8)) &= (-1 << a1) - 1;
  }
  uint64_t v26 = *v1;
  uint64_t v27 = *(void *)(*v1 + 16);
  BOOL v28 = __OFSUB__(v27, 1);
  uint64_t v29 = v27 - 1;
  if (v28)
  {
    __break(1u);
  }
  else
  {
    *(void *)(v26 + 16) = v29;
    ++*(_DWORD *)(v26 + 36);
  }
  return result;
}

double sub_1003259F0(uint64_t a1)
{
  sub_100015BFC(v5);
  sub_10045E074(a1, v5);
  double v3 = v2;
  sub_1000431E4((uint64_t)v5);
  return v3;
}

void sub_100325A88()
{
  uint64_t v1 = (id *)(v0 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorView);
  swift_beginAccess();
  if (*v1) {
    [*v1 removeFromSuperview];
  }
  double v2 = *(char **)(v0 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorAnimationCoordinator);
  if (v2)
  {
    id v3 = *v1;
    if (*v1)
    {
      swift_beginAccess();
      id v4 = v3;
      uint64_t v5 = v2;
      unint64_t v6 = (void *)sub_100324F1C(v4);
      swift_endAccess();
    }
    else
    {
      uint64_t v7 = v2;
    }
    uint64_t v8 = &v2[OBJC_IVAR____TtC8AppStore41AppEventLiveIndicatorAnimationCoordinator_animatingViews];
    swift_beginAccess();
    uint64_t v9 = *(void *)v8;
    if ((v9 & 0xC000000000000001) != 0)
    {
      swift_bridgeObjectRetain();
      uint64_t v10 = __CocoaSet.count.getter();
      swift_bridgeObjectRelease();
      if (v10)
      {
LABEL_10:

        return;
      }
    }
    else if (*(void *)(v9 + 16))
    {
      goto LABEL_10;
    }
    sub_10000A88C();
    goto LABEL_10;
  }
}

id sub_100325BCC(void *a1)
{
  double v2 = v1;
  sub_100325A88();
  id v4 = (id *)&v1[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorView];
  swift_beginAccess();
  id v5 = *v4;
  *id v4 = a1;
  id v6 = a1;

  if (*v4)
  {
    uint64_t v7 = qword_10097EA10;
    id v8 = *v4;
    if (v7 != -1) {
      swift_once();
    }
    [v8 setBackgroundColor:qword_100990868];
    if (qword_10097EA18 != -1) {
      swift_once();
    }
    id v9 = (id)qword_100990870;
    dispatch thunk of RoundedCornerView.borderColor.setter();
    dispatch thunk of RoundedCornerView.borderWidth.setter();
    [v2 addSubview:v8];
  }
  return [v2 setNeedsLayout];
}

void sub_100325CFC()
{
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_delegate + 8] = 0;
  swift_unknownObjectWeakInit();
  v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_showLiveIndicator] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorView] = 0;
  v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_style] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_blurredBackgroundView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_vibrancyView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_backgroundView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_liveIndicatorAnimationCoordinator] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_appEventFormattedDatePresenter] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_100325DD4(unint64_t *a1)
{
  uint64_t result = *a1;
  if (!result)
  {
    type metadata accessor for AdamId();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

char *sub_100325E18(double a1, double a2, double a3, double a4)
{
  id v9 = &v4[OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_itemLayoutContext];
  uint64_t v10 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 56))(v9, 1, 1, v10);
  uint64_t v11 = OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView;
  id v12 = objc_allocWithZone((Class)type metadata accessor for ReviewSummaryView());
  uint64_t v13 = v4;
  *(void *)&v4[v11] = [v12 initWithFrame:0.0, 0.0, 0.0, 0.0];

  v19.receiver = v13;
  v19.super_class = (Class)type metadata accessor for ReviewSummaryCollectionViewCell();
  uint64_t v14 = (char *)[super initWithFrame:a1, a2, a3, a4];
  id v15 = [v14 contentView];
  [v15 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v16 = [v14 contentView];
  id v17 = *(id *)&v14[OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView];
  [v16 addSubview:v17];

  return v14;
}

id sub_100326220()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ReviewSummaryCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_1003262A4()
{
  return type metadata accessor for ReviewSummaryCollectionViewCell();
}

uint64_t type metadata accessor for ReviewSummaryCollectionViewCell()
{
  uint64_t result = qword_100990930;
  if (!qword_100990930) {
    return swift_getSingletonMetadata();
  }
  return result;
}

id sub_1003262F8()
{
  return objc_retain(*(id *)(*(void *)(v0
                                       + OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView)
                           + OBJC_IVAR____TtC8AppStore17ReviewSummaryView_bodyLabel));
}

id sub_100326318()
{
  return [*(id *)(v0 + OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView) setClipsToBounds:0];
}

id sub_100326334()
{
  return [*(id *)(v0 + OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView) setClipsToBounds:1];
}

void *sub_100326350()
{
  uint64_t v1 = *(void **)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore31ReviewSummaryCollectionViewCell_reviewSummaryView)
                + OBJC_IVAR____TtC8AppStore17ReviewSummaryView_previewContainer);
  id v2 = v1;
  return v1;
}

void sub_100326390()
{
  uint64_t v1 = v0;
  v16.receiver = v0;
  v16.super_class = (Class)swift_getObjectType();
  [super tintColorDidChange];
  id v2 = *(void **)(*(void *)&v0[OBJC_IVAR____TtC8AppStore37InAppPurchaseLockupCollectionViewCell_lockupView]
                + OBJC_IVAR____TtC8AppStore23InAppPurchaseLockupView_subtitleLabel);
  if (v2)
  {
    id v3 = [v2 attributedText];
    if (v3)
    {
      id v4 = v3;
      id v5 = v2;
      id v6 = [v1 tintColor];
      if (v6)
      {
        uint64_t v7 = v6;
        id v8 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v4];
        id v9 = [v4 length];
        uint64_t v10 = swift_allocObject();
        *(void *)(v10 + 16) = v8;
        *(void *)(v10 + 24) = v7;
        uint64_t v11 = swift_allocObject();
        *(void *)(v11 + 16) = sub_10032699C;
        *(void *)(v11 + 24) = v10;
        v15[4] = sub_1003269B4;
        uint64_t v15[5] = v11;
        v15[0] = _NSConcreteStackBlock;
        v15[1] = 1107296256;
        void v15[2] = sub_100687584;
        v15[3] = &unk_1008C5F48;
        id v12 = _Block_copy(v15);
        id v13 = v8;
        id v14 = v7;
        swift_retain();
        swift_release();
        [v4 enumerateAttribute:NSForegroundColorAttributeName inRange:0 options:0x100000 usingBlock:v12];
        _Block_release(v12);
        LOBYTE(v9) = swift_isEscapingClosureAtFileLocation();

        swift_release();
        swift_release();
        if ((v9 & 1) == 0)
        {
          [v5 setAttributedText:v13];

          return;
        }
        __break(1u);
      }
      __break(1u);
    }
  }
}

uint64_t sub_1003266B8()
{
  return type metadata accessor for InAppPurchaseTiledLockupCollectionViewCell();
}

uint64_t type metadata accessor for InAppPurchaseTiledLockupCollectionViewCell()
{
  uint64_t result = qword_100990968;
  if (!qword_100990968) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_100326710()
{
  id v3 = objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore37InAppPurchaseLockupCollectionViewCell_lockupView)
                         + OBJC_IVAR____TtC8AppStore23InAppPurchaseLockupView_iconView));
  v5.value.super.Class isa = 0;
  v5.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v5, v1);
  v6.value.super.Class isa = 0;
  v6.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v6, v2);
  type metadata accessor for ArtworkView();
  sub_100112948();
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

void sub_100326814(uint64_t a1, uint64_t a2)
{
  id v3 = v2;
  sub_100082C6C(a1, (uint64_t)v10);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for InAppPurchaseLockup();
  if (swift_dynamicCast())
  {
    uint64_t v5 = qword_10097FA28;
    id v6 = objc_retain(*(id *)(*(void *)&v3[OBJC_IVAR____TtC8AppStore37InAppPurchaseLockupCollectionViewCell_lockupView]
                           + OBJC_IVAR____TtC8AppStore23InAppPurchaseLockupView_iconView));
    if (v5 != -1) {
      swift_once();
    }
    uint64_t v7 = type metadata accessor for InAppPurchaseIconLayout.Metrics();
    sub_100087728(v7, (uint64_t)qword_1009E57D0);
    InAppPurchaseIconLayout.Metrics.mainIconSize.getter();
    id v8 = [v3 backgroundColor];
    sub_100342ADC(v9, (uint64_t)v8, a2);

    swift_release();
  }
}

uint64_t sub_10032695C()
{
  return _swift_deallocObject(v0, 32, 7);
}

id sub_10032699C(int a1, uint64_t a2, uint64_t a3, int a4)
{
  return sub_1003E7760(a1, a2, a3, a4, *(id *)(v4 + 16), *(void *)(v4 + 24));
}

uint64_t sub_1003269A4()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1003269B4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_10068755C(a1, a2, a3, a4, *(uint64_t (**)(void))(v4 + 16));
}

char *sub_1003269BC(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v9 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  id v12 = (char *)&v33 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v13 - 8);
  id v15 = (char *)&v33 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  objc_super v16 = &v4[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_currentState];
  *(_OWORD *)objc_super v16 = 0u;
  *((_OWORD *)v16 + 1) = 0u;
  *((void *)v16 + 4) = 0;
  unsigned char v16[40] = 1;
  uint64_t v17 = qword_10097F3B0;
  uint64_t v18 = v4;
  if (v17 != -1) {
    swift_once();
  }
  uint64_t v19 = type metadata accessor for FontUseCase();
  uint64_t v20 = sub_100087728(v19, (uint64_t)qword_1009E4568);
  uint64_t v21 = *(void *)(v19 - 8);
  unint64_t v36 = *(void (**)(char *, uint64_t, uint64_t))(v21 + 16);
  uint64_t v37 = v20;
  v36(v15, v20, v19);
  uint64_t v35 = *(void (**)(char *, void, uint64_t, uint64_t))(v21 + 56);
  v35(v15, 0, 1, v19);
  uint64_t v22 = enum case for DirectionalTextAlignment.none(_:);
  uint64_t v34 = *(void (**)(char *, uint64_t, uint64_t))(v10 + 104);
  v34(v12, enum case for DirectionalTextAlignment.none(_:), v9);
  uint64_t v23 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  uint64_t v33 = v9;
  uint64_t v24 = v23;
  id v25 = objc_allocWithZone(v23);
  *(void *)&v18[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_firstColumnLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  v36(v15, v37, v19);
  v35(v15, 0, 1, v19);
  v34(v12, v22, v33);
  id v26 = objc_allocWithZone(v24);
  *(void *)&v18[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_pinnedLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  *(void *)&v18[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_columnWidth] = 0;
  *(void *)&v18[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_interColumnSpace] = 0;

  v39.receiver = v18;
  v39.super_class = ObjectType;
  id v27 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  long long v31 = (char *)v27;
  [v31 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [v31 addSubview:*(void *)&v31[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_firstColumnLabel]];
  [v31 addSubview:*(void *)&v31[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_pinnedLabel]];

  return v31;
}

uint64_t sub_100326EDC(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for PageGrid();
  uint64_t v40 = *(void *)(v2 - 8);
  uint64_t v41 = v2;
  __chkstk_darwin(v2);
  CGRect v38 = (char *)&v35 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for Shelf.ContentsMetadata();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v35 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  unint64_t v36 = (char *)&v35 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v35 - v12;
  uint64_t v14 = type metadata accessor for ProductReviewsMetadata();
  uint64_t v42 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  objc_super v16 = (char *)&v35 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v37 = a1;
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v17 = *(void (**)(char *, uint64_t))(v9 + 8);
  v17(v13, v8);
  if ((*(unsigned int (**)(char *, uint64_t))(v5 + 88))(v7, v4) != enum case for Shelf.ContentsMetadata.productReviews(_:)) {
    return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  }
  (*(void (**)(char *, uint64_t))(v5 + 96))(v7, v4);
  uint64_t v18 = *(void (**)(char *, char *, uint64_t))(v42 + 32);
  uint64_t v35 = v14;
  v18(v16, v7, v14);
  uint64_t v19 = v39;
  uint64_t v20 = *(void **)(v39 + OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_firstColumnLabel);
  ProductReviewsMetadata.reviewSummaryTitle.getter();
  NSString v21 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v20 setText:v21];

  uint64_t v22 = *(void **)(v19 + OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_pinnedLabel);
  uint64_t v23 = v36;
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  v17(v23, v8);
  uint64_t v24 = v19;
  id v25 = v16;
  if (v43)
  {
    NSString v26 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v26 = 0;
  }
  [v22 setText:v26];

  BOOL v28 = v38;
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.columnWidth.getter();
  uint64_t v30 = v29;
  uint64_t v31 = v41;
  uint64_t v32 = *(void (**)(char *, uint64_t))(v40 + 8);
  v32(v28, v41);
  *(void *)(v24 + OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_columnWidth) = v30;
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.interColumnSpace.getter();
  uint64_t v34 = v33;
  v32(v28, v31);
  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v42 + 8))(v25, v35);
  *(void *)(v24 + OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_interColumnSpace) = v34;
  return result;
}

id sub_100327388()
{
  swift_getObjectType();
  if (v0[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_currentState + 40]) {
    Swift::Bool v1 = (double *)&v0[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_columnWidth];
  }
  else {
    Swift::Bool v1 = (double *)&v0[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_currentState + 24];
  }
  double v2 = *v1;
  uint64_t v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_firstColumnLabel];
  LayoutMarginsAware<>.layoutFrame.getter();
  [v3 measurementsWithFitting:v0 in:v2 CGRectGetHeight:v26];
  id v4 = [v0 traitCollection];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRect.withLayoutDirection(using:relativeTo:)();
  double v6 = v5;
  double v8 = v7;
  double v10 = v9;
  double v12 = v11;

  [v3 setFrame:v6, v8, v10, v12];
  uint64_t v13 = *(void **)&v0[OBJC_IVAR____TtC8AppStore40InteractiveProductReviewsShelfHeaderView_pinnedLabel];
  LayoutMarginsAware<>.layoutFrame.getter();
  double Width = CGRectGetWidth(v27);
  LayoutMarginsAware<>.layoutFrame.getter();
  [v13 measurementsWithFitting:v0 in:Width, CGRectGetHeight(v28)];
  id v15 = [v0 traitCollection];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRect.withLayoutDirection(using:relativeTo:)();
  double v17 = v16;
  double v19 = v18;
  double v21 = v20;
  double v23 = v22;

  return [v13 setFrame:v17, v19, v21, v23];
}

uint64_t type metadata accessor for InteractiveProductReviewsShelfHeaderView()
{
  return self;
}

id sub_100327678(void (*a1)(char *, char *, uint64_t))
{
  uint64_t v56 = a1;
  uint64_t v1 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v67 = *(void *)(v1 - 8);
  uint64_t v68 = v1;
  __chkstk_darwin(v1);
  uint64_t v65 = (char *)&v51 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for SpacerDimension();
  uint64_t v63 = *(void *)(v3 - 8);
  uint64_t v64 = v3;
  __chkstk_darwin(v3);
  unsigned int v62 = (char *)&v51 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v58 = *(void *)(v5 - 8);
  uint64_t v59 = v5;
  __chkstk_darwin(v5);
  unint64_t v57 = (char *)&v51 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v72 = type metadata accessor for LabelPlaceholder();
  uint64_t v69 = *(void *)(v72 - 8);
  __chkstk_darwin(v72);
  uint64_t v66 = (char *)&v51 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  long long v70 = (char *)&v51 - v9;
  uint64_t v10 = type metadata accessor for PageGrid();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v51 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for DynamicTextAppearance();
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  double v17 = (char *)&v51 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  double v20 = (char *)&v51 - v19;
  DynamicTextAppearance.init()();
  if (qword_10097F3B0 != -1) {
    swift_once();
  }
  uint64_t v21 = type metadata accessor for FontUseCase();
  sub_100087728(v21, (uint64_t)qword_1009E4568);
  uint64_t v55 = v20;
  DynamicTextAppearance.withFontUseCase(_:)();
  double v22 = *(void (**)(char *, uint64_t))(v15 + 8);
  uint64_t v60 = v15 + 8;
  uint64_t v61 = v22;
  v22(v17, v14);
  ShelfLayoutContext.contentPageGrid.getter();
  PageGrid.componentMeasuringSize(spanning:)();
  uint64_t v71 = v14;
  uint64_t v52 = *(void (**)(char *, uint64_t))(v11 + 8);
  uint64_t v51 = v10;
  v52(v13, v10);
  ProductReviewsMetadata.reviewSummaryTitle.getter();
  uint64_t v56 = *(void (**)(char *, char *, uint64_t))(v15 + 16);
  v56(v17, v20, v14);
  LabelPlaceholder.Options.init(rawValue:)();
  LabelPlaceholder.init(_:with:where:)();
  double v23 = (void *)ShelfLayoutContext.traitCollection.getter();
  type metadata accessor for TraitEnvironmentPlaceholder();
  uint64_t v54 = sub_100082C28(&qword_100982B50);
  uint64_t v24 = swift_allocObject();
  long long v53 = xmmword_1007BEA80;
  *(_OWORD *)(v24 + 16) = xmmword_1007BEA80;
  *(void *)(v24 + 32) = v23;
  id v25 = v23;
  CGRect v26 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v28 = v27;

  ShelfLayoutContext.contentPageGrid.getter();
  static CGFloat.allColumns.getter();
  PageGrid.componentMeasuringSize(spanning:)();
  v52(v13, v51);
  uint64_t v29 = v57;
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  uint64_t v30 = v59;
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v58 + 8))(v29, v30);
  uint64_t v31 = v55;
  v56(v17, v55, v71);
  LabelPlaceholder.Options.init(rawValue:)();
  uint64_t v32 = v66;
  LabelPlaceholder.init(_:with:where:)();
  uint64_t v33 = (void *)ShelfLayoutContext.traitCollection.getter();
  uint64_t v34 = swift_allocObject();
  *(_OWORD *)(v34 + 16) = v53;
  *(void *)(v34 + 32) = v33;
  id v35 = v33;
  unint64_t v36 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  uint64_t v37 = v72;
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v39 = v38;

  if (v28 > v39) {
    double v39 = v28;
  }
  uint64_t v40 = v62;
  SpacerDimension.init(constant:)();
  ShelfLayoutContext.traitEnvironment.getter();
  uint64_t v41 = v65;
  static Dimensions.defaultRoundingRule.getter();
  sub_100327E78();
  uint64_t v42 = v64;
  AnyDimension.value(in:rounded:)();
  double v44 = v43;
  swift_unknownObjectRelease();
  (*(void (**)(char *, uint64_t))(v67 + 8))(v41, v68);
  (*(void (**)(char *, uint64_t))(v63 + 8))(v40, v42);
  uint64_t v45 = self;
  id v46 = [v45 fractionalWidthDimension:1.0];
  id v47 = [v45 absoluteDimension:v39 + v44];
  id v48 = [self sizeWithWidthDimension:v46 heightDimension:v47];

  id v49 = *(void (**)(char *, uint64_t))(v69 + 8);
  v49(v32, v37);
  v49(v70, v37);
  v61(v31, v71);
  return v48;
}

unint64_t sub_100327E78()
{
  unint64_t result = qword_1009909C8;
  if (!qword_1009909C8)
  {
    type metadata accessor for SpacerDimension();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009909C8);
  }
  return result;
}

uint64_t sub_100327ED0(uint64_t a1, char *a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_10098AC10);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v59 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100981A70);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v59 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100981A80);
  __chkstk_darwin(v12 - 8);
  uint64_t v65 = (char *)&v59 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100995F00);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v59 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v17 - 8);
  uint64_t v19 = (char *)&v59 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v20 - 8);
  uint64_t v66 = (char *)&v59 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = InAppPurchaseInstallPage.lockup.getter();
  uint64_t v23 = InAppPurchaseInstallPage.parentLockup.getter();
  if (v23)
  {
    uint64_t v62 = v22;
    uint64_t v63 = v8;
    swift_retain();
    if (Lockup.icon.getter())
    {
      uint64_t v59 = v11;
      uint64_t v60 = a1;
      uint64_t v64 = v23;
      if (qword_100980610 != -1) {
        swift_once();
      }
      uint64_t v24 = type metadata accessor for SmallLockupLayout.Metrics();
      sub_100087728(v24, (uint64_t)qword_1009E7358);
      SmallLockupLayout.Metrics.artworkSize.getter();
      uint64_t v61 = v2;
      uint64_t v25 = *(void *)&v2[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_lockupView];
      uint64_t v26 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
      double v27 = *(void **)(v25 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
      [v27 contentMode];
      Artwork.config(_:mode:prefersLayeredImage:)();
      id v28 = v27;
      Artwork.style.getter();
      ArtworkView.style.setter();
      [v28 setContentMode:Artwork.contentMode.getter()];
      ArtworkLoaderConfig.size.getter();
      ArtworkView.imageSize.setter();
      if (!Artwork.backgroundColor.getter())
      {
        sub_10008E8A0();
        static UIColor.placeholderBackground.getter();
      }
      ArtworkView.backgroundColor.setter();

      type metadata accessor for ArtworkLoader();
      inject(_:from:)();
      uint64_t v29 = *(void **)(v25 + v26);
      type metadata accessor for ArtworkView();
      sub_100112948();
      id v30 = v29;
      ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
      swift_release();
      swift_release();
      swift_release();

      uint64_t v3 = v61;
      uint64_t v23 = v64;
      uint64_t v11 = v59;
    }
    uint64_t v31 = *(char **)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_lockupView];
    uint64_t v32 = sub_100082C28((uint64_t *)&unk_10098AC20);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v32 - 8) + 56))(v19, 1, 1, v32);
    uint64_t v33 = type metadata accessor for OfferStyle();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v33 - 8) + 56))(v16, 1, 1, v33);
    uint64_t v34 = type metadata accessor for OfferEnvironment();
    uint64_t v35 = (uint64_t)a2;
    uint64_t v36 = (uint64_t)v65;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(v65, 1, 1, v34);
    uint64_t v37 = sub_100082C28((uint64_t *)&unk_100981AC0);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v37 - 8) + 56))(v11, 1, 1, v37);
    uint64_t v38 = type metadata accessor for OfferTint();
    uint64_t v39 = (uint64_t)v63;
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v38 - 8) + 56))(v63, 1, 1, v38);
    sub_10006F94C(v23, v31, (uint64_t)v19, v35, 0, 0, (uint64_t)v16, v36, v39, (uint64_t)v11);
    sub_100082BCC(v39, (uint64_t *)&unk_10098AC10);
    v31[OBJC_IVAR____TtC8AppStore15SmallLockupView_enforceMaximumOfTwoLinesOverall] = 0;
    sub_100709290();
    [v31 setNeedsLayout];
    swift_release();
    sub_100082BCC((uint64_t)v11, (uint64_t *)&unk_100981A70);
    uint64_t v40 = v36;
    a2 = (char *)v35;
    sub_100082BCC(v40, (uint64_t *)&unk_100981A80);
    sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100995F00);
    sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100982860);
    uint64_t v22 = v62;
  }
  if (v22)
  {
    swift_retain();
    if (Lockup.icon.getter())
    {
      uint64_t v64 = v23;
      uint64_t v65 = a2;
      if (qword_100980118 != -1) {
        swift_once();
      }
      uint64_t v41 = *(void *)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_inAppPurchaseView];
      uint64_t v42 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView;
      double v43 = *(void **)(v41 + OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView);
      [v43 contentMode:v59, v60];
      Artwork.config(_:mode:prefersLayeredImage:)();
      id v44 = v43;
      Artwork.style.getter();
      ArtworkView.style.setter();
      [v44 setContentMode:Artwork.contentMode.getter()];
      ArtworkLoaderConfig.size.getter();
      ArtworkView.imageSize.setter();
      if (!Artwork.backgroundColor.getter())
      {
        sub_10008E8A0();
        static UIColor.placeholderBackground.getter();
      }
      ArtworkView.backgroundColor.setter();

      type metadata accessor for ArtworkLoader();
      inject(_:from:)();
      uint64_t v45 = *(void **)(v41 + v42);
      type metadata accessor for ArtworkView();
      sub_100112948();
      id v46 = v45;
      ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
      swift_release();
      swift_release();
      swift_release();
    }
    swift_release();
    id v47 = *(void **)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_titleLabel];
    swift_retain();
    Lockup.title.getter();
    uint64_t v49 = v48;
    swift_release();
    if (v49)
    {
      NSString v50 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v50 = 0;
    }
  }
  else
  {
    NSString v50 = 0;
    id v47 = *(void **)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_titleLabel];
  }
  [v47 setText:v50, v59, v60];

  uint64_t v51 = *(void **)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_descriptionLabel];
  InAppPurchaseInstallPage.preInstallOfferDescription.getter();
  if (v52)
  {
    NSString v53 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v53 = 0;
  }
  [v51 setText:v53];

  uint64_t v54 = *(void **)&v3[OBJC_IVAR____TtC8AppStore34InstallPagePreInstallPaidOfferView_messageLabel];
  v55._object = (void *)0x8000000100814230;
  v55._uint64_t countAndFlagsBits = 0xD000000000000030;
  v56._uint64_t countAndFlagsBits = 0;
  v56._object = (void *)0xE000000000000000;
  localizedString(_:comment:)(v55, v56);
  NSString v57 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v54 setText:v57];

  [v3 setNeedsLayout];
  swift_release();
  return swift_release();
}

uint64_t sub_100328794()
{
  uint64_t v0 = type metadata accessor for MetadataRibbonItemViewType();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  MetadataRibbonItem.viewContainerType.getter();
  int v4 = (*(uint64_t (**)(char *, uint64_t))(v1 + 88))(v3, v0);
  if (v4 == enum case for MetadataRibbonItemViewType.borderedTextLabel(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonBorderedLabelWithDescriptionView();
    uint64_t v6 = (unint64_t *)&unk_100981FF0;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonBorderedLabelWithDescriptionView;
  }
  else if (v4 == enum case for MetadataRibbonItemViewType.editorsChoice(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonEditorsChoiceView();
    uint64_t v6 = (unint64_t *)&unk_100984AE0;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonEditorsChoiceView;
  }
  else if (v4 == enum case for MetadataRibbonItemViewType.imageWithLabel(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonIconWithLabelView(0);
    uint64_t v6 = (unint64_t *)&unk_100981FE8;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonIconWithLabelView;
  }
  else if (v4 == enum case for MetadataRibbonItemViewType.starRating(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonStarRatingView();
    uint64_t v6 = (unint64_t *)&unk_100984AF0;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonStarRatingView;
  }
  else if (v4 == enum case for MetadataRibbonItemViewType.textLabel(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonTagView();
    uint64_t v6 = (unint64_t *)&unk_100981FE0;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonTagView;
  }
  else if (v4 == enum case for MetadataRibbonItemViewType.divider(_:))
  {
    uint64_t v5 = type metadata accessor for MetadataRibbonBarView();
    uint64_t v6 = (unint64_t *)&unk_100984AD0;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonBarView;
  }
  else
  {
    if (v4 != enum case for MetadataRibbonItemViewType.highlightedText(_:))
    {
      (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
      return 0;
    }
    uint64_t v5 = type metadata accessor for MetadataRibbonHighlightedTextView();
    uint64_t v6 = (unint64_t *)&unk_100981FD8;
    uint64_t v7 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonHighlightedTextView;
  }
  sub_100328AB8(v6, v7);
  return v5;
}

uint64_t sub_100328AB8(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

id sub_100328B00(uint64_t a1)
{
  uint64_t v3 = type metadata accessor for FontUseCase();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_presenter] = a1;
  id v7 = objc_allocWithZone((Class)UIPickerView);
  uint64_t v8 = v1;
  swift_retain();
  id v9 = [v7 init];
  *(void *)&v8[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_countryPicker] = v9;
  id v10 = [objc_allocWithZone((Class)UIPickerView) init];
  *(void *)&v8[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_languagePicker] = v10;
  type metadata accessor for DynamicTypeButton();
  if (qword_10097F6A0 != -1) {
    swift_once();
  }
  uint64_t v11 = sub_100087728(v3, (uint64_t)qword_1009E4E38);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 16);
  v12(v6, v11, v3);
  *(void *)&v8[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_submitButton] = DynamicTypeButton.__allocating_init(useCase:)();
  v12(v6, v11, v3);
  *(void *)&v8[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_backToUSButton] = DynamicTypeButton.__allocating_init(useCase:)();

  uint64_t v13 = (objc_class *)type metadata accessor for DebugStorefrontPickerViewController();
  v17.receiver = v8;
  v17.super_class = v13;
  id v14 = [super initWithNibName:0 bundle:0];
  sub_100329D54(&qword_100990AF0);
  id v15 = v14;
  dispatch thunk of StorefrontPickerPagePresenter.view.setter();

  swift_release();
  return v15;
}

id sub_100328D9C()
{
  uint64_t v1 = v0;
  v29.receiver = v0;
  v29.super_class = (Class)type metadata accessor for DebugStorefrontPickerViewController();
  [super viewDidLoad];
  id result = [v0 view];
  if (!result)
  {
    __break(1u);
    goto LABEL_15;
  }
  uint64_t v3 = result;
  [v1 pageMarginInsets];
  [v3 setLayoutMargins:];

  id result = [v1 view];
  if (!result)
  {
LABEL_15:
    __break(1u);
    goto LABEL_16;
  }
  uint64_t v4 = result;
  uint64_t v5 = self;
  id v6 = [v5 systemBackgroundColor];
  [v4 setBackgroundColor:v6];

  id result = [v1 view];
  if (!result)
  {
LABEL_16:
    __break(1u);
    goto LABEL_17;
  }
  id v7 = result;
  uint64_t v8 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_countryPicker];
  [result addSubview:v8];

  id result = [v1 view];
  if (!result)
  {
LABEL_17:
    __break(1u);
    goto LABEL_18;
  }
  id v9 = result;
  id v10 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_languagePicker];
  [result addSubview:v10];

  id result = [v1 view];
  if (!result)
  {
LABEL_18:
    __break(1u);
    goto LABEL_19;
  }
  uint64_t v11 = result;
  uint64_t v12 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_submitButton];
  [result addSubview:v12];

  id result = [v1 view];
  if (!result)
  {
LABEL_19:
    __break(1u);
LABEL_20:
    __break(1u);
    goto LABEL_21;
  }
  uint64_t v13 = result;
  id v14 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_backToUSButton];
  [result addSubview:v14];

  [v8 setDelegate:v1];
  [v8 setDataSource:v1];
  [v10 setDelegate:v1];
  [v10 setDataSource:v1];
  [v8 selectRow:dispatch thunk of StorefrontPickerPagePresenter.selectedCountryIndex.getter() inComponent:0 animated:0];
  [v10 selectRow:dispatch thunk of StorefrontPickerPagePresenter.selectedLanguageIndex.getter() inComponent:0 animated:0];
  NSString v15 = String._bridgeToObjectiveC()();
  [v12 setTitle:v15 forState:0];

  id v16 = [v12 titleLabel];
  if (v16)
  {
    objc_super v17 = v16;
    [v16 setTextAlignment:1];
  }
  id result = [v1 view];
  if (!result) {
    goto LABEL_20;
  }
  uint64_t v18 = result;
  id v19 = [result tintColor];

  [v12 setBackgroundColor:v19];
  id v20 = [v5 whiteColor];
  [v12 setTitleColor:v20 forState:0];

  id v21 = [v5 whiteColor];
  [v12 setTitleColor:v21 forState:2];

  [v12 setTitleEdgeInsets:5.0, 10.0, 5.0, 10.0];
  [v12 addTarget:v1 action:"setStorefront" forControlEvents:64];
  [v12 _setCornerRadius:10.0];
  sub_1003297B8();
  NSString v22 = String._bridgeToObjectiveC()();
  [v14 setTitle:v22 forState:0];

  id v23 = [v14 titleLabel];
  if (v23)
  {
    uint64_t v24 = v23;
    [v23 setTextAlignment:1];
  }
  id result = [v1 view];
  if (result)
  {
    uint64_t v25 = result;
    id v26 = [result tintColor];

    [v14 setBackgroundColor:v26];
    id v27 = [v5 whiteColor];
    [v14 setTitleColor:v27 forState:0];

    id v28 = [v5 whiteColor];
    [v14 setTitleColor:v28 forState:2];

    [v14 setTitleEdgeInsets:5.0, 10.0, 5.0, 10.0];
    [v14 addTarget:v1 action:"setStorefrontToUS" forControlEvents:64];
    return [v14 _setCornerRadius:10.0];
  }
LABEL_21:
  __break(1u);
  return result;
}

void sub_100329370()
{
  uint64_t v1 = v0;
  v40.receiver = v0;
  v40.super_class = (Class)type metadata accessor for DebugStorefrontPickerViewController();
  [super viewDidLayoutSubviews];
  id v2 = [v0 view];
  if (v2)
  {
    uint64_t v3 = v2;
    uint64_t v4 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_countryPicker];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    LayoutMarginsAware<>.layoutFrame.getter();
    [v4 sizeThatFits:v5, v6];
    double v8 = v7;
    LayoutMarginsAware<>.layoutFrame.getter();
    double MinX = CGRectGetMinX(v41);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v10 = CGRectGetMinY(v42) + 20.0;
    LayoutMarginsAware<>.layoutFrame.getter();
    [v4 setFrame:MinX, v10, CGRectGetWidth(v43), v8];
    uint64_t v11 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_languagePicker];
    LayoutMarginsAware<>.layoutFrame.getter();
    [v11 sizeThatFits:v12, v13];
    double v15 = v14;
    LayoutMarginsAware<>.layoutFrame.getter();
    double v16 = CGRectGetMinX(v44);
    [v4 frame];
    double MaxY = CGRectGetMaxY(v45);
    LayoutMarginsAware<>.layoutFrame.getter();
    [v11 setFrame:v16 MaxY:CGRectGetWidth(v46) v15];
    id v18 = *(id *)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_submitButton];
    LayoutMarginsAware<>.layoutFrame.getter();
    [v18 measurementsWithFitting:v3 in:v19];
    double v22 = v21;

    LayoutMarginsAware<>.layoutFrame.getter();
    double v23 = CGRectGetMinX(v47);
    [v11 frame];
    CGFloat v24 = CGRectGetMaxY(v48) + 20.0;
    LayoutMarginsAware<>.layoutFrame.getter();
    double Width = CGRectGetWidth(v49);
    [v18 titleEdgeInsets];
    double v27 = v22 + v26;
    [v18 titleEdgeInsets];
    [v18 setFrame:v23, v24, Width, v27 + v28];
    id v29 = *(id *)&v1[OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_backToUSButton];
    LayoutMarginsAware<>.layoutFrame.getter();
    [v29 measurementsWithFitting:v3 in:v30];
    double v33 = v32;

    LayoutMarginsAware<>.layoutFrame.getter();
    double v34 = CGRectGetMinX(v50);
    [v18 frame];
    CGFloat v35 = CGRectGetMaxY(v51) + 10.0;
    LayoutMarginsAware<>.layoutFrame.getter();
    double v36 = CGRectGetWidth(v52);
    [v29 titleEdgeInsets];
    double v38 = v33 + v37;
    [v29 titleEdgeInsets];
    [v29 setFrame:v34, v35, v36, v38 + v39];
  }
}

void sub_1003297B8()
{
  uint64_t v1 = v0;
  char updated = dispatch thunk of StorefrontPickerPagePresenter.canUpdateStorefront.getter();
  uint64_t v3 = self;
  uint64_t v4 = swift_allocObject();
  *(void *)(v4 + 16) = v1;
  char v5 = updated & 1;
  *(unsigned char *)(v4 + 24) = updated & 1;
  double v15 = sub_100329DCC;
  uint64_t v16 = v4;
  uint64_t v11 = _NSConcreteStackBlock;
  uint64_t v12 = 1107296256;
  double v13 = sub_1000162D4;
  double v14 = &unk_1008C5FA8;
  double v6 = _Block_copy(&v11);
  id v7 = v1;
  swift_release();
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = v7;
  *(unsigned char *)(v8 + 24) = v5;
  double v15 = sub_100329E00;
  uint64_t v16 = v8;
  uint64_t v11 = _NSConcreteStackBlock;
  uint64_t v12 = 1107296256;
  double v13 = sub_100526E54;
  double v14 = &unk_1008C5FF8;
  id v9 = _Block_copy(&v11);
  id v10 = v7;
  swift_release();
  [v3 animateWithDuration:v6 animations:v9 completion:0.2];
  _Block_release(v9);
  _Block_release(v6);
}

id sub_100329BB8()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for DebugStorefrontPickerViewController();
  [super dealloc];
}

uint64_t type metadata accessor for DebugStorefrontPickerViewController()
{
  return self;
}

uint64_t sub_100329C8C()
{
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_languagePicker);
  [v1 reloadAllComponents];
  [v1 selectedRowInComponent:0];
  return dispatch thunk of StorefrontPickerPagePresenter.didSelectLanguage(at:)();
}

uint64_t sub_100329CEC()
{
  return sub_100329D54(&qword_100990AE0);
}

uint64_t sub_100329D20()
{
  return sub_100329D54(&qword_100990AE8);
}

uint64_t sub_100329D54(unint64_t *a1)
{
  uint64_t result = *a1;
  if (!result)
  {
    type metadata accessor for DebugStorefrontPickerViewController();
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100329D94()
{
  return _swift_deallocObject(v0, 25, 7);
}

id sub_100329DCC()
{
  double v1 = 0.4;
  if (*(unsigned char *)(v0 + 24)) {
    double v1 = 1.0;
  }
  return [*(id *)(*(void *)(v0 + 16) + OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_submitButton) setAlpha:v1];
}

id sub_100329E00()
{
  return [*(id *)(*(void *)(v0 + 16) + OBJC_IVAR____TtC8AppStore35DebugStorefrontPickerViewController_submitButton) setEnabled:*(unsigned __int8 *)(v0 + 24)];
}

uint64_t sub_100329E20()
{
  if (static NSObject.== infix(_:_:)()) {
    return dispatch thunk of StorefrontPickerPagePresenter.numberOfCountries.getter();
  }
  if (static NSObject.== infix(_:_:)()) {
    return dispatch thunk of StorefrontPickerPagePresenter.numberOfLanguages.getter();
  }
  return 0;
}

uint64_t sub_100329EC4()
{
  if (static NSObject.== infix(_:_:)()) {
    return dispatch thunk of StorefrontPickerPagePresenter.country(at:)();
  }
  if (static NSObject.== infix(_:_:)()) {
    return dispatch thunk of StorefrontPickerPagePresenter.language(at:for:)();
  }
  return 0;
}

uint64_t sub_100329F80()
{
  sub_100084CF0(0, (unint64_t *)&qword_10098A0B0);
  if (static NSObject.== infix(_:_:)()) {
    return dispatch thunk of StorefrontPickerPagePresenter.didSelectCountry(at:)();
  }
  uint64_t result = static NSObject.== infix(_:_:)();
  if (result) {
    return dispatch thunk of StorefrontPickerPagePresenter.didSelectLanguage(at:)();
  }
  return result;
}

char *sub_10032A034(double a1, uint64_t a2, uint64_t a3, void *a4, uint64_t a5)
{
  uint64_t v9 = type metadata accessor for FontUseCase();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))((char *)&v26 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0), a5, v9);
  uint64_t v12 = (char *)DynamicTypeButton.__allocating_init(useCase:)();
  *(double *)&v12[qword_100990B18] = a1;
  double v13 = v12;
  id v14 = [v13 traitCollection];
  char v15 = UITraitCollection.prefersRightToLeftLayouts.getter();

  if (v15) {
    double v16 = a1;
  }
  else {
    double v16 = 0.0;
  }
  if (v15) {
    double v17 = 0.0;
  }
  else {
    double v17 = a1;
  }
  if (v15) {
    double v18 = -a1;
  }
  else {
    double v18 = a1;
  }
  if ((v15 & 1) == 0) {
    a1 = -a1;
  }
  [v13 setContentEdgeInsets:0.0, v17, 0.0, v16];
  [v13 setImageEdgeInsets:0.0, a1, 0.0, v18];
  double v19 = v13;
  if (a3)
  {
    NSString v20 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v20 = 0;
  }
  [v13 setTitle:v20 forState:0];

  [v13 setImage:a4 forState:0];
  CGAffineTransformMakeScale(&v26, -1.0, 1.0);
  [v13 setTransform:&v26];
  id v21 = [v13 titleLabel];
  if (v21)
  {
    double v22 = v21;
    CGAffineTransformMakeScale(&v26, -1.0, 1.0);
    [v22 setTransform:&v26];
  }
  id v23 = [v13 imageView];
  if (v23)
  {
    CGFloat v24 = v23;
    CGAffineTransformMakeScale(&v26, -1.0, 1.0);
    [v24 setTransform:&v26];

    a4 = v24;
  }

  (*(void (**)(uint64_t, uint64_t))(v10 + 8))(a5, v9);
  return v13;
}

uint64_t sub_10032A32C()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  sub_100042444(v0, qword_100990AF8);
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_100990AF8);
  if (qword_10097F148 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_100087728(v0, (uint64_t)qword_1009E3E48);
  uint64_t v3 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

uint64_t sub_10032A3F4()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v6 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for HeaderButton();
  if (qword_10097EA30 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_100087728(v0, (uint64_t)qword_100990AF8);
  (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v4, v0);
  uint64_t result = DynamicTypeButton.__allocating_init(useCase:)();
  qword_100990B10 = result;
  return result;
}

void sub_10032A510()
{
  qword_1009E2AE8 = 0x4020000000000000;
}

uint64_t sub_10032A520()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v7 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getObjectType();
  if (qword_10097EA30 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_100087728(v0, (uint64_t)qword_100990AF8);
  (*(void (**)(char *, uint64_t, uint64_t))(v1 + 16))(v3, v4, v0);
  uint64_t v5 = DynamicTypeButton.__allocating_init(useCase:)();
  swift_getObjectType();
  swift_deallocPartialClassInstance();
  return v5;
}

id sub_10032A664()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for HeaderButton();
  return [super dealloc];
}

uint64_t sub_10032A6A0()
{
  return type metadata accessor for HeaderButton();
}

double sub_10032A6A8(double a1, double a2, double a3, uint64_t a4, NSString a5, uint64_t a6, void *a7, uint64_t a8)
{
  if (qword_10097EA38 != -1) {
    swift_once();
  }
  char v15 = (void *)qword_100990B10;
  if (a5) {
    a5 = String._bridgeToObjectiveC()();
  }
  [v15 setTitle:a5 forState:0];

  double v16 = (void *)qword_100990B10;
  [(id)qword_100990B10 setImage:a6 forState:0];
  id v17 = [v16 titleLabel];
  double v18 = v17;
  if (v17)
  {
    if (a7)
    {
      id v19 = v17;
      NSString v20 = a7;
    }
    else
    {
      id v21 = [v17 font];
      if (!v21)
      {
        id v23 = 0;
        goto LABEL_11;
      }
      NSString v20 = v21;
    }
    id v22 = a7;
    id v23 = [v20 _fontAdjustedForContentSizeCategoryCompatibleWithTraitCollection:a8];

LABEL_11:
    [v18 setFont:v23];
  }
  [qword_100990B10 sizeThatFits:a1, a2];
  double v25 = v24;

  CGAffineTransform v26 = (void *)qword_100990B10;
  [(id)qword_100990B10 setTitle:0 forState:0];
  [v26 setImage:0 forState:0];
  return v25 + a3;
}

uint64_t sub_10032A888(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for FontSource();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v10[-1] - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for FontUseCase();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v6 - 8) + 16))(v5, a1, v6);
  (*(void (**)(char *, void, uint64_t))(v3 + 104))(v5, enum case for FontSource.useCase(_:), v2);
  v10[3] = v2;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v3 + 16))(v7, v5, v2);
  CGFloat.scalingLike(_:with:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v10);
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  return JUScreenClassGetMain();
}

uint64_t TodayCardLockupLayout.Metrics.init(artworkSize:artworkMargin:ordinalSpaceProvider:headingSpace:titleSpace:subtitleSpace:tertiaryTitleSpace:offerTextSpace:offerButtonSize:offerButtonMargin:preferVerticallyStackedIcon:preferStackedLargeAXLayouts:singleLineTitleAndSubtitle:allowAccessibilityLayout:)@<X0>(long long *a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, long long *a4@<X3>, long long *a5@<X4>, long long *a6@<X5>, long long *a7@<X6>, long long *a8@<X7>, uint64_t a9@<X8>, double a10@<D0>, double a11@<D1>, uint64_t a12, uint64_t a13, char a14, long long *a15, char a16, char a17, char a18, char a19)
{
  *(double *)a9 = a10;
  *(double *)(a9 + 8) = a11;
  sub_100081DD4(a1, a9 + 16);
  *(void *)(a9 + 56) = a2;
  *(void *)(a9 + 64) = a3;
  sub_100081DD4(a4, a9 + 72);
  sub_100081DD4(a5, a9 + 112);
  sub_100081DD4(a8, a9 + 232);
  sub_100081DD4(a6, a9 + 152);
  sub_100081DD4(a7, a9 + 192);
  *(void *)(a9 + 272) = a12;
  *(void *)(a9 + 280) = a13;
  *(unsigned char *)(a9 + 288) = a14 & 1;
  uint64_t result = sub_100081DD4(a15, a9 + 296);
  *(unsigned char *)(a9 + 336) = a16;
  *(unsigned char *)(a9 + 337) = a17;
  *(unsigned char *)(a9 + 338) = a18;
  *(unsigned char *)(a9 + 339) = a19;
  return result;
}

uint64_t TodayCardLockupLayout.Metrics.ordinalSpaceProvider.getter()
{
  uint64_t v1 = *(void *)(v0 + 56);
  swift_retain();
  return v1;
}

uint64_t TodayCardLockupLayout.Metrics.ordinalSpaceProvider.setter(uint64_t a1, uint64_t a2)
{
  uint64_t result = swift_release();
  *(void *)(v2 + 56) = a1;
  *(void *)(v2 + 64) = a2;
  return result;
}

uint64_t ProductLockupAccessibilityLayout.Metrics.secondaryBannerViewHeight.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 72, a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.secondaryBannerViewHeight.setter(long long *a1)
{
  uint64_t v3 = v1 + 72;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t ArcadeSubscribePageLayout.Metrics.offerButtonHeight.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 112, a1);
}

uint64_t ArcadeSubscribePageLayout.Metrics.offerButtonHeight.setter(long long *a1)
{
  uint64_t v3 = v1 + 112;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.iconSize.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.subtitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 152, a1);
}

uint64_t TodayCardLockupLayout.Metrics.subtitleSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + 152;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ArcadeSubscribePageLayout.Metrics.offerButtonMargins.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.tertiaryTitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 192, a1);
}

uint64_t TodayCardLockupLayout.Metrics.tertiaryTitleSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + 192;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*TodayCardLockupLayout.Metrics.tertiaryTitleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.offerTextSpace.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 232, a1);
}

uint64_t TodayCardLockupLayout.Metrics.offerTextSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + 232;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*TodayCardLockupLayout.Metrics.offerTextSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.offerButtonSize.getter()
{
  return *(void *)(v0 + 272);
}

uint64_t TodayCardLockupLayout.Metrics.offerButtonSize.setter(uint64_t result, uint64_t a2, char a3)
{
  *(void *)(v3 + 272) = result;
  *(void *)(v3 + 280) = a2;
  *(unsigned char *)(v3 + 288) = a3 & 1;
  return result;
}

uint64_t (*TodayCardLockupLayout.Metrics.offerButtonSize.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.offerButtonMargin.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 296, a1);
}

uint64_t TodayCardLockupLayout.Metrics.offerButtonMargin.setter(long long *a1)
{
  uint64_t v3 = v1 + 296;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*TodayCardLockupLayout.Metrics.offerButtonMargin.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.preferVerticallyStackedIcon.getter()
{
  return *(unsigned __int8 *)(v0 + 336);
}

uint64_t TodayCardLockupLayout.Metrics.preferVerticallyStackedIcon.setter(uint64_t result)
{
  *(unsigned char *)(v1 + 336) = result;
  return result;
}

uint64_t (*TodayCardLockupLayout.Metrics.preferVerticallyStackedIcon.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.preferStackedLargeAXLayouts.getter()
{
  return *(unsigned __int8 *)(v0 + 337);
}

uint64_t TodayCardLockupLayout.Metrics.preferStackedLargeAXLayouts.setter(uint64_t result)
{
  *(unsigned char *)(v1 + 337) = result;
  return result;
}

uint64_t (*TodayCardLockupLayout.Metrics.preferStackedLargeAXLayouts.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.singleLineTitleAndSubtitle.getter()
{
  return *(unsigned __int8 *)(v0 + 338);
}

uint64_t TodayCardLockupLayout.Metrics.singleLineTitleAndSubtitle.setter(uint64_t result)
{
  *(unsigned char *)(v1 + 338) = result;
  return result;
}

uint64_t (*TodayCardLockupLayout.Metrics.singleLineTitleAndSubtitle.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t TodayCardLockupLayout.Metrics.allowAccessibilityLayout.getter()
{
  return *(unsigned __int8 *)(v0 + 339);
}

uint64_t TodayCardLockupLayout.Metrics.allowAccessibilityLayout.setter(uint64_t result)
{
  *(unsigned char *)(v1 + 339) = result;
  return result;
}

uint64_t (*TodayCardLockupLayout.Metrics.allowAccessibilityLayout.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

void *TodayCardLockupLayout.Metrics.init(byCopying:)@<X0>(void *__src@<X0>, void *a2@<X8>)
{
  return memcpy(a2, __src, 0x154uLL);
}

uint64_t TodayCardLockupLayout.metrics.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100063D84(v1, a1);
}

uint64_t ArcadeSubscribePageLayout.detailsView.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 344, a1);
}

uint64_t TodayCardLockupLayout.ordinalText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 384, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.headingText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 424, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.titleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 464, a1);
}

uint64_t TodayCardLockupLayout.subtitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 504, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.tertiaryTitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 544, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.crossLinkTitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 584, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.crossLinkSubtitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 624, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.offerText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 664, a1, (uint64_t *)&unk_100990B70);
}

uint64_t TodayCardLockupLayout.offerButton.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 704, a1, (uint64_t *)&unk_1009932D0);
}

double TodayCardLockupLayout.measure(toFit:with:)(void *a1, double a2)
{
  if ((UITraitCollection.prefersAccessibilityLayouts.getter() & 1) != 0 && *(unsigned char *)(v2 + 339) == 1) {
    sub_10032B23C(0, a1, (uint64_t *)v8);
  }
  else {
    sub_10007FD90(0, a1, (uint64_t *)v8, a2);
  }
  sub_100081DD4(v8, (uint64_t)v9);
  sub_100081D90(v9, v9[3]);
  dispatch thunk of Placeable.measure(toFit:with:)();
  double v6 = v5;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v9);
  return v6;
}

uint64_t sub_10032B23C@<X0>(int a1@<W0>, void *a2@<X1>, uint64_t *a3@<X8>)
{
  uint64_t v4 = (uint64_t *)v3;
  LODWORD(v80) = a1;
  int v83 = a3;
  uint64_t v6 = type metadata accessor for HorizontalStack();
  uint64_t v7 = *(void *)(v6 - 8);
  uint64_t v75 = v6;
  uint64_t v76 = v7;
  __chkstk_darwin(v6);
  uint64_t v84 = (char *)&v72 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v86 = type metadata accessor for Resize.Rule();
  uint64_t v9 = *(void *)(v86 - 8);
  __chkstk_darwin(v86);
  double v90 = (double *)((char *)&v72 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v11);
  double v89 = (double *)((char *)&v72 - v12);
  __chkstk_darwin(v13);
  char v15 = (double *)((char *)&v72 - v14);
  __chkstk_darwin(v16);
  uint64_t v85 = (double *)((char *)&v72 - v17);
  uint64_t v18 = type metadata accessor for VerticalStack();
  uint64_t v81 = *(void *)(v18 - 8);
  uint64_t v82 = v18;
  __chkstk_darwin(v18);
  NSString v20 = (char *)&v72 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  VerticalStack.init(with:)();
  sub_100081D90((void *)(v3 + 112), *(void *)(v3 + 136));
  AnyDimension.value(with:)();
  double v22 = v21 + v21;
  sub_100081D90(v4 + 19, v4[22]);
  AnyDimension.value(with:)();
  double v24 = v22 + v23;
  uint64_t v77 = (unsigned char *)(v3 + 288);
  int v25 = *(unsigned __int8 *)(v3 + 336);
  sub_10008091C((uint64_t)v4, (uint64_t)v96);
  double v87 = a2;
  id v88 = v20;
  uint64_t v79 = v15;
  uint64_t v74 = v9;
  if (v25 == 1)
  {
    sub_100081E60(v96);
LABEL_5:
    sub_100081D90(v4 + 43, v4[46]);
    Measurable.placeable.getter();
    uint64_t v29 = *v4;
    double v30 = v85;
    uint64_t v31 = v86;
    *((void *)v85 + 3) = &type metadata for CGFloat;
    *((void *)v30 + 4) = &protocol witness table for CGFloat;
    *(void *)double v30 = v29;
    uint64_t v32 = enum case for Resize.Rule.replaced(_:);
    double v33 = *(void (**)(double *))(v9 + 104);
    LODWORD(v84) = enum case for Resize.Rule.replaced(_:);
    ((void (*)(double *, void, uint64_t))v33)(v30, enum case for Resize.Rule.replaced(_:), v31);
    uint64_t v34 = v4[1];
    *((void *)v15 + 3) = &type metadata for CGFloat;
    *((void *)v15 + 4) = &protocol witness table for CGFloat;
    *(void *)char v15 = v34;
    ((void (*)(double *, uint64_t, uint64_t))v33)(v15, v32, v31);
    uint64_t v35 = enum case for Resize.Rule.unchanged(_:);
    ((void (*)(double *, void, uint64_t))v33)(v89, enum case for Resize.Rule.unchanged(_:), v31);
    uint64_t v36 = v31;
    ((void (*)(double *, uint64_t, uint64_t))v33)(v90, v35, v31);
    uint64_t v76 = type metadata accessor for Resize();
    uint64_t v93 = v76;
    double v94 = &protocol witness table for Resize;
    sub_1000808B8(v92);
    Resize.init(_:width:height:firstBaseline:lastBaseline:)();
    sub_10008091C((uint64_t)v4, (uint64_t)v95);
    uint64_t v37 = swift_allocObject();
    memcpy((void *)(v37 + 16), v95, 0x2E9uLL);
    double v38 = v87;
    *(void *)(v37 + 768) = v87;
    id v39 = v38;
    VerticalStack.add(_:with:)();
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v92);
    sub_100080F28(v80 & 1, (uint64_t)v39, v92);
    *((void *)v30 + 3) = &type metadata for CGFloat;
    *((void *)v30 + 4) = &protocol witness table for CGFloat;
    *double v30 = v24;
    ((void (*)(double *, void, uint64_t))v33)(v30, v84, v36);
    ((void (*)(double *, uint64_t, uint64_t))v33)(v79, v35, v36);
    ((void (*)(double *, uint64_t, uint64_t))v33)(v89, v35, v36);
    unsigned int v78 = v35;
    int v80 = v33;
    ((void (*)(double *, uint64_t, uint64_t))v33)(v90, v35, v36);
    *((void *)&v95[1] + 1) = v76;
    *(void *)&v95[2] = &protocol witness table for Resize;
    sub_1000808B8((uint64_t *)v95);
    Resize.init(_:width:height:firstBaseline:lastBaseline:)();
    objc_super v40 = v88;
    VerticalStack.add(_:with:)();
    goto LABEL_8;
  }
  id v26 = [a2 preferredContentSizeCategory];
  char v27 = static UIContentSizeCategory.>= infix(_:_:)();

  memcpy(v95, v96, 0x2E9uLL);
  if (v27)
  {
    char v28 = BYTE1(v95[21]);
    sub_100081E60(v95);
    if (v28) {
      goto LABEL_5;
    }
  }
  else
  {
    sub_100081E60(v95);
  }
  HorizontalStack.init(with:)();
  sub_100081D90(v4 + 43, v4[46]);
  Measurable.placeable.getter();
  uint64_t v41 = *v4;
  CGRect v42 = v85;
  uint64_t v43 = v86;
  *((void *)v85 + 3) = &type metadata for CGFloat;
  *((void *)v42 + 4) = &protocol witness table for CGFloat;
  *(void *)CGRect v42 = v41;
  CGRect v44 = *(void (**)(double *))(v9 + 104);
  uint64_t v45 = enum case for Resize.Rule.replaced(_:);
  unsigned int v73 = enum case for Resize.Rule.replaced(_:);
  v44(v42);
  uint64_t v46 = v4[1];
  *((void *)v15 + 3) = &type metadata for CGFloat;
  *((void *)v15 + 4) = &protocol witness table for CGFloat;
  *(void *)char v15 = v46;
  ((void (*)(double *, uint64_t, uint64_t))v44)(v15, v45, v43);
  uint64_t v47 = enum case for Resize.Rule.unchanged(_:);
  unsigned int v78 = enum case for Resize.Rule.unchanged(_:);
  ((void (*)(double *, void, uint64_t))v44)(v89, enum case for Resize.Rule.unchanged(_:), v43);
  ((void (*)(double *, uint64_t, uint64_t))v44)(v90, v47, v43);
  uint64_t v72 = type metadata accessor for Resize();
  uint64_t v93 = v72;
  double v94 = &protocol witness table for Resize;
  sub_1000808B8(v92);
  Resize.init(_:width:height:firstBaseline:lastBaseline:)();
  sub_10008091C((uint64_t)v4, (uint64_t)v95);
  uint64_t v48 = swift_allocObject();
  memcpy((void *)(v48 + 16), v95, 0x2E9uLL);
  CGRect v49 = v87;
  *(void *)(v48 + 768) = v87;
  id v50 = v49;
  HorizontalStack.add(_:with:)();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v92);
  sub_100081D90(v4 + 2, v4[5]);
  AnyDimension.value(with:)();
  sub_100080F28(v80 & 1, (uint64_t)v50, (uint64_t *)v95);
  static Center.Axis.vertical.getter();
  uint64_t v93 = type metadata accessor for Center();
  double v94 = &protocol witness table for Center;
  sub_1000808B8(v92);
  Center.init(_:filling:)();
  *((void *)v42 + 3) = &type metadata for CGFloat;
  *((void *)v42 + 4) = &protocol witness table for CGFloat;
  *CGRect v42 = v24;
  ((void (*)(double *, void, uint64_t))v44)(v42, v73, v43);
  uint64_t v51 = v78;
  ((void (*)(double *, void, uint64_t))v44)(v15, v78, v43);
  ((void (*)(double *, uint64_t, uint64_t))v44)(v89, v51, v43);
  int v80 = v44;
  ((void (*)(double *, uint64_t, uint64_t))v44)(v90, v51, v43);
  *((void *)&v95[1] + 1) = v72;
  *(void *)&v95[2] = &protocol witness table for Resize;
  sub_1000808B8((uint64_t *)v95);
  Resize.init(_:width:height:firstBaseline:lastBaseline:)();
  CGRect v52 = v84;
  HorizontalStack.add(_:with:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v95);
  uint64_t v53 = v75;
  *((void *)&v95[1] + 1) = v75;
  *(void *)&v95[2] = &protocol witness table for HorizontalStack;
  uint64_t v54 = sub_1000808B8((uint64_t *)v95);
  uint64_t v55 = v76;
  (*(void (**)(uint64_t *, char *, uint64_t))(v76 + 16))(v54, v52, v53);
  objc_super v40 = v88;
  VerticalStack.add(_:with:)();
  (*(void (**)(char *, uint64_t))(v55 + 8))(v52, v53);
LABEL_8:
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v95);
  sub_100082B68((uint64_t)(v4 + 88), (uint64_t)v95, (uint64_t *)&unk_1009932D0);
  if (*((void *)&v95[1] + 1))
  {
    sub_100081DD4(v95, (uint64_t)v92);
    if ((*v77 & 1) == 0)
    {
      uint64_t v57 = v4[34];
      uint64_t v56 = v4[35];
      sub_100081D90(v92, v93);
      Measurable.placeable.getter();
      uint64_t v58 = v85;
      uint64_t v59 = v86;
      *((void *)v85 + 3) = &type metadata for CGFloat;
      *((void *)v58 + 4) = &protocol witness table for CGFloat;
      *(void *)uint64_t v58 = v57;
      uint64_t v60 = enum case for Resize.Rule.replaced(_:);
      uint64_t v61 = v80;
      ((void (*)(double *, void, uint64_t))v80)(v58, enum case for Resize.Rule.replaced(_:), v59);
      uint64_t v62 = v79;
      *((void *)v79 + 3) = &type metadata for CGFloat;
      *((void *)v62 + 4) = &protocol witness table for CGFloat;
      *(void *)uint64_t v62 = v56;
      ((void (*)(double *, uint64_t, uint64_t))v61)(v62, v60, v59);
      uint64_t v63 = v78;
      ((void (*)(double *, void, uint64_t))v61)(v89, v78, v59);
      ((void (*)(double *, uint64_t, uint64_t))v61)(v90, v63, v59);
      uint64_t v64 = v88;
      v91[3] = type metadata accessor for Resize();
      v91[4] = (uint64_t)&protocol witness table for Resize;
      sub_1000808B8(v91);
      Resize.init(_:width:height:firstBaseline:lastBaseline:)();
      sub_10008091C((uint64_t)v4, (uint64_t)v95);
      uint64_t v65 = swift_allocObject();
      memcpy((void *)(v65 + 16), v95, 0x2E9uLL);
      uint64_t v66 = v87;
      *(void *)(v65 + 768) = v87;
      id v67 = v66;
      objc_super v40 = v64;
      VerticalStack.add(_:with:)();
      swift_release();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v91);
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v92);
  }
  else
  {
    sub_100082BCC((uint64_t)v95, (uint64_t *)&unk_1009932D0);
  }
  uint64_t v69 = v82;
  uint64_t v68 = v83;
  v83[3] = v82;
  v68[4] = (uint64_t)&protocol witness table for VerticalStack;
  long long v70 = sub_1000808B8(v68);
  return (*(uint64_t (**)(uint64_t *, char *, uint64_t))(v81 + 32))(v70, v40, v69);
}

uint64_t sub_10032BDDC()
{
  return VerticalStack.Properties.alignment.setter();
}

uint64_t sub_10032BE04(uint64_t a1, uint64_t a2)
{
  return VerticalStack.Properties.bottomSpacing.setter();
}

uint64_t sub_10032BEAC(uint64_t a1, uint64_t a2)
{
  sub_100081D90((void *)(a2 + 16), *(void *)(a2 + 40));
  AnyDimension.value(with:)();
  uint64_t result = VerticalStack.Properties.bottomSpacing.setter();
  if (*(unsigned char *)(a2 + 336) == 1) {
    return VerticalStack.Properties.alignment.setter();
  }
  return result;
}

uint64_t sub_10032BF50(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = (void *)(a2 + 296);
  sub_100081D90((void *)(a2 + 296), *(void *)(a2 + 320));
  AnyDimension.value(with:)();
  uint64_t result = VerticalStack.Properties.topSpacing.setter();
  if (*(unsigned char *)(a2 + 336) == 1)
  {
    sub_100081D90(v3, *(void *)(a2 + 320));
    AnyDimension.value(with:)();
    return VerticalStack.Properties.bottomSpacing.setter();
  }
  return result;
}

uint64_t sub_10032C034(uint64_t a1, uint64_t a2)
{
  static VerticalStack.Edge.top.getter();
  VerticalStack.Properties.edgesAlignedToBaseline.setter();
  sub_100082C6C(a2 + 72, (uint64_t)v4);
  return VerticalStack.Properties.topSpacing.setter();
}

uint64_t sub_10032C07C(uint64_t a1, uint64_t a2)
{
  static VerticalStack.Edge.top.getter();
  VerticalStack.Properties.edgesAlignedToBaseline.setter();
  sub_100082C6C(a2 + 192, (uint64_t)v4);
  return VerticalStack.Properties.topSpacing.setter();
}

uint64_t sub_10032C0C4(uint64_t a1, uint64_t a2)
{
  static VerticalStack.Edge.top.getter();
  VerticalStack.Properties.edgesAlignedToBaseline.setter();
  sub_100082C6C(a2 + 232, (uint64_t)v4);
  return VerticalStack.Properties.topSpacing.setter();
}

uint64_t assignWithCopy for TodayCardLockupLayout(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = (unsigned char *)(a2 + 336);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  sub_100062A2C((uint64_t *)(a1 + 16), (uint64_t *)(a2 + 16));
  uint64_t v5 = *(void *)(a2 + 64);
  *(void *)(a1 + 56) = *(void *)(a2 + 56);
  *(void *)(a1 + 64) = v5;
  swift_retain();
  swift_release();
  sub_100062A2C((uint64_t *)(a1 + 72), (uint64_t *)(a2 + 72));
  sub_100062A2C((uint64_t *)(a1 + 112), (uint64_t *)(a2 + 112));
  sub_100062A2C((uint64_t *)(a1 + 152), (uint64_t *)(a2 + 152));
  sub_100062A2C((uint64_t *)(a1 + 192), (uint64_t *)(a2 + 192));
  sub_100062A2C((uint64_t *)(a1 + 232), (uint64_t *)(a2 + 232));
  long long v6 = *(_OWORD *)(a2 + 272);
  *(unsigned char *)(a1 + 288) = *(unsigned char *)(a2 + 288);
  *(_OWORD *)(a1 + 272) = v6;
  sub_100062A2C((uint64_t *)(a1 + 296), (uint64_t *)(a2 + 296));
  *(unsigned char *)(a1 + 336) = *(unsigned char *)(a2 + 336);
  *(unsigned char *)(a1 + 337) = v4[1];
  *(unsigned char *)(a1 + 338) = v4[2];
  *(unsigned char *)(a1 + 339) = v4[3];
  sub_100062A2C((uint64_t *)(a1 + 344), (uint64_t *)(a2 + 344));
  uint64_t v7 = *(void *)(a2 + 408);
  if (*(void *)(a1 + 408))
  {
    if (v7)
    {
      sub_100062A2C((uint64_t *)(a1 + 384), (uint64_t *)(a2 + 384));
      goto LABEL_8;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 384);
  }
  else if (v7)
  {
    *(void *)(a1 + 408) = v7;
    *(void *)(a1 + 416) = *(void *)(a2 + 416);
    (**(void (***)(uint64_t, uint64_t))(v7 - 8))(a1 + 384, a2 + 384);
    goto LABEL_8;
  }
  long long v8 = *(_OWORD *)(a2 + 384);
  long long v9 = *(_OWORD *)(a2 + 400);
  *(void *)(a1 + 416) = *(void *)(a2 + 416);
  *(_OWORD *)(a1 + 384) = v8;
  *(_OWORD *)(a1 + 400) = v9;
LABEL_8:
  uint64_t v10 = *(void *)(a2 + 448);
  if (*(void *)(a1 + 448))
  {
    if (v10)
    {
      sub_100062A2C((uint64_t *)(a1 + 424), (uint64_t *)(a2 + 424));
      goto LABEL_15;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 424);
  }
  else if (v10)
  {
    *(void *)(a1 + 448) = v10;
    *(void *)(a1 + 456) = *(void *)(a2 + 456);
    (**(void (***)(uint64_t, uint64_t))(v10 - 8))(a1 + 424, a2 + 424);
    goto LABEL_15;
  }
  long long v11 = *(_OWORD *)(a2 + 424);
  long long v12 = *(_OWORD *)(a2 + 440);
  *(void *)(a1 + 456) = *(void *)(a2 + 456);
  *(_OWORD *)(a1 + 424) = v11;
  *(_OWORD *)(a1 + 440) = v12;
LABEL_15:
  sub_100062A2C((uint64_t *)(a1 + 464), (uint64_t *)(a2 + 464));
  uint64_t v13 = *(void *)(a2 + 528);
  if (*(void *)(a1 + 528))
  {
    if (v13)
    {
      sub_100062A2C((uint64_t *)(a1 + 504), (uint64_t *)(a2 + 504));
      goto LABEL_22;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 504);
  }
  else if (v13)
  {
    *(void *)(a1 + 528) = v13;
    *(void *)(a1 + 536) = *(void *)(a2 + 536);
    (**(void (***)(uint64_t, uint64_t))(v13 - 8))(a1 + 504, a2 + 504);
    goto LABEL_22;
  }
  long long v14 = *(_OWORD *)(a2 + 504);
  long long v15 = *(_OWORD *)(a2 + 520);
  *(void *)(a1 + 536) = *(void *)(a2 + 536);
  *(_OWORD *)(a1 + 504) = v14;
  *(_OWORD *)(a1 + 520) = v15;
LABEL_22:
  uint64_t v16 = *(void *)(a2 + 568);
  if (*(void *)(a1 + 568))
  {
    if (v16)
    {
      sub_100062A2C((uint64_t *)(a1 + 544), (uint64_t *)(a2 + 544));
      goto LABEL_29;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 544);
  }
  else if (v16)
  {
    *(void *)(a1 + 568) = v16;
    *(void *)(a1 + 576) = *(void *)(a2 + 576);
    (**(void (***)(uint64_t, uint64_t))(v16 - 8))(a1 + 544, a2 + 544);
    goto LABEL_29;
  }
  long long v17 = *(_OWORD *)(a2 + 544);
  long long v18 = *(_OWORD *)(a2 + 560);
  *(void *)(a1 + 576) = *(void *)(a2 + 576);
  *(_OWORD *)(a1 + 544) = v17;
  *(_OWORD *)(a1 + 560) = v18;
LABEL_29:
  uint64_t v19 = *(void *)(a2 + 608);
  if (*(void *)(a1 + 608))
  {
    if (v19)
    {
      sub_100062A2C((uint64_t *)(a1 + 584), (uint64_t *)(a2 + 584));
      goto LABEL_36;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 584);
  }
  else if (v19)
  {
    *(void *)(a1 + 608) = v19;
    *(void *)(a1 + 616) = *(void *)(a2 + 616);
    (**(void (***)(uint64_t, uint64_t))(v19 - 8))(a1 + 584, a2 + 584);
    goto LABEL_36;
  }
  long long v20 = *(_OWORD *)(a2 + 584);
  long long v21 = *(_OWORD *)(a2 + 600);
  *(void *)(a1 + 616) = *(void *)(a2 + 616);
  *(_OWORD *)(a1 + 584) = v20;
  *(_OWORD *)(a1 + 600) = v21;
LABEL_36:
  uint64_t v22 = *(void *)(a2 + 648);
  if (*(void *)(a1 + 648))
  {
    if (v22)
    {
      sub_100062A2C((uint64_t *)(a1 + 624), (uint64_t *)(a2 + 624));
      goto LABEL_43;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 624);
  }
  else if (v22)
  {
    *(void *)(a1 + 648) = v22;
    *(void *)(a1 + 656) = *(void *)(a2 + 656);
    (**(void (***)(uint64_t, uint64_t))(v22 - 8))(a1 + 624, a2 + 624);
    goto LABEL_43;
  }
  long long v23 = *(_OWORD *)(a2 + 624);
  long long v24 = *(_OWORD *)(a2 + 640);
  *(void *)(a1 + 656) = *(void *)(a2 + 656);
  *(_OWORD *)(a1 + 624) = v23;
  *(_OWORD *)(a1 + 640) = v24;
LABEL_43:
  uint64_t v25 = *(void *)(a2 + 688);
  if (*(void *)(a1 + 688))
  {
    if (v25)
    {
      sub_100062A2C((uint64_t *)(a1 + 664), (uint64_t *)(a2 + 664));
      goto LABEL_50;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 664);
  }
  else if (v25)
  {
    *(void *)(a1 + 688) = v25;
    *(void *)(a1 + 696) = *(void *)(a2 + 696);
    (**(void (***)(uint64_t, uint64_t))(v25 - 8))(a1 + 664, a2 + 664);
    goto LABEL_50;
  }
  long long v26 = *(_OWORD *)(a2 + 664);
  long long v27 = *(_OWORD *)(a2 + 680);
  *(void *)(a1 + 696) = *(void *)(a2 + 696);
  *(_OWORD *)(a1 + 664) = v26;
  *(_OWORD *)(a1 + 680) = v27;
LABEL_50:
  uint64_t v28 = *(void *)(a2 + 728);
  if (!*(void *)(a1 + 728))
  {
    if (v28)
    {
      *(void *)(a1 + 728) = v28;
      *(void *)(a1 + 736) = *(void *)(a2 + 736);
      (**(void (***)(uint64_t, uint64_t))(v28 - 8))(a1 + 704, a2 + 704);
      goto LABEL_57;
    }
LABEL_56:
    long long v29 = *(_OWORD *)(a2 + 704);
    long long v30 = *(_OWORD *)(a2 + 720);
    *(void *)(a1 + 736) = *(void *)(a2 + 736);
    *(_OWORD *)(a1 + 704) = v29;
    *(_OWORD *)(a1 + 720) = v30;
    goto LABEL_57;
  }
  if (!v28)
  {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 704);
    goto LABEL_56;
  }
  sub_100062A2C((uint64_t *)(a1 + 704), (uint64_t *)(a2 + 704));
LABEL_57:
  *(unsigned char *)(a1 + 744) = v4[408];
  return a1;
}

void *initializeWithTake for TodayCardLockupLayout(void *a1, const void *a2)
{
  return memcpy(a1, a2, 0x2E9uLL);
}

uint64_t assignWithTake for TodayCardLockupLayout(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = (unsigned char *)(a2 + 336);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 16);
  long long v5 = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 16) = *(_OWORD *)(a2 + 16);
  *(_OWORD *)(a1 + 32) = v5;
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 72);
  *(_OWORD *)(a1 + 72) = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 88) = *(_OWORD *)(a2 + 88);
  *(void *)(a1 + 104) = *(void *)(a2 + 104);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 112);
  long long v6 = *(_OWORD *)(a2 + 128);
  *(_OWORD *)(a1 + 112) = *(_OWORD *)(a2 + 112);
  *(_OWORD *)(a1 + 128) = v6;
  *(void *)(a1 + 144) = *(void *)(a2 + 144);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 152);
  *(_OWORD *)(a1 + 152) = *(_OWORD *)(a2 + 152);
  *(_OWORD *)(a1 + 168) = *(_OWORD *)(a2 + 168);
  *(void *)(a1 + 184) = *(void *)(a2 + 184);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 192);
  long long v7 = *(_OWORD *)(a2 + 208);
  *(_OWORD *)(a1 + 192) = *(_OWORD *)(a2 + 192);
  *(_OWORD *)(a1 + 208) = v7;
  *(void *)(a1 + 224) = *(void *)(a2 + 224);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 232);
  *(_OWORD *)(a1 + 232) = *(_OWORD *)(a2 + 232);
  *(_OWORD *)(a1 + 248) = *(_OWORD *)(a2 + 248);
  *(void *)(a1 + 264) = *(void *)(a2 + 264);
  *(_OWORD *)(a1 + 272) = *(_OWORD *)(a2 + 272);
  *(unsigned char *)(a1 + 288) = *(unsigned char *)(a2 + 288);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 296);
  long long v8 = *(_OWORD *)(a2 + 312);
  *(_OWORD *)(a1 + 296) = *(_OWORD *)(a2 + 296);
  *(_OWORD *)(a1 + 312) = v8;
  *(void *)(a1 + 328) = *(void *)(a2 + 328);
  *(unsigned char *)(a1 + 336) = *(unsigned char *)(a2 + 336);
  *(unsigned char *)(a1 + 337) = v4[1];
  *(unsigned char *)(a1 + 338) = v4[2];
  *(unsigned char *)(a1 + 339) = v4[3];
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 344);
  long long v9 = *(_OWORD *)(a2 + 360);
  *(_OWORD *)(a1 + 344) = *(_OWORD *)(a2 + 344);
  *(_OWORD *)(a1 + 360) = v9;
  *(void *)(a1 + 376) = *(void *)(a2 + 376);
  if (*(void *)(a1 + 408)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 384);
  }
  long long v10 = *(_OWORD *)(a2 + 400);
  *(_OWORD *)(a1 + 384) = *(_OWORD *)(a2 + 384);
  *(_OWORD *)(a1 + 400) = v10;
  *(void *)(a1 + 416) = *(void *)(a2 + 416);
  if (*(void *)(a1 + 448)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 424);
  }
  long long v11 = *(_OWORD *)(a2 + 440);
  *(_OWORD *)(a1 + 424) = *(_OWORD *)(a2 + 424);
  *(_OWORD *)(a1 + 440) = v11;
  *(void *)(a1 + 456) = *(void *)(a2 + 456);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 464);
  long long v12 = *(_OWORD *)(a2 + 480);
  *(_OWORD *)(a1 + 464) = *(_OWORD *)(a2 + 464);
  *(_OWORD *)(a1 + 480) = v12;
  *(void *)(a1 + 496) = *(void *)(a2 + 496);
  if (*(void *)(a1 + 528)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 504);
  }
  long long v13 = *(_OWORD *)(a2 + 520);
  *(_OWORD *)(a1 + 504) = *(_OWORD *)(a2 + 504);
  *(_OWORD *)(a1 + 520) = v13;
  *(void *)(a1 + 536) = *(void *)(a2 + 536);
  if (*(void *)(a1 + 568)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 544);
  }
  long long v14 = *(_OWORD *)(a2 + 560);
  *(_OWORD *)(a1 + 544) = *(_OWORD *)(a2 + 544);
  *(_OWORD *)(a1 + 560) = v14;
  *(void *)(a1 + 576) = *(void *)(a2 + 576);
  if (*(void *)(a1 + 608)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 584);
  }
  long long v15 = *(_OWORD *)(a2 + 600);
  *(_OWORD *)(a1 + 584) = *(_OWORD *)(a2 + 584);
  *(_OWORD *)(a1 + 600) = v15;
  *(void *)(a1 + 616) = *(void *)(a2 + 616);
  if (*(void *)(a1 + 648)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 624);
  }
  long long v16 = *(_OWORD *)(a2 + 640);
  *(_OWORD *)(a1 + 624) = *(_OWORD *)(a2 + 624);
  *(_OWORD *)(a1 + 640) = v16;
  *(void *)(a1 + 656) = *(void *)(a2 + 656);
  if (*(void *)(a1 + 688)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 664);
  }
  long long v17 = *(_OWORD *)(a2 + 680);
  *(_OWORD *)(a1 + 664) = *(_OWORD *)(a2 + 664);
  *(_OWORD *)(a1 + 680) = v17;
  *(void *)(a1 + 696) = *(void *)(a2 + 696);
  if (*(void *)(a1 + 728)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 704);
  }
  long long v18 = *(_OWORD *)(a2 + 720);
  *(_OWORD *)(a1 + 704) = *(_OWORD *)(a2 + 704);
  *(_OWORD *)(a1 + 720) = v18;
  *(void *)(a1 + 736) = *(void *)(a2 + 736);
  *(unsigned char *)(a1 + 744) = v4[408];
  return a1;
}

uint64_t getEnumTagSinglePayload for TodayCardLockupLayout(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 745)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 40);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for TodayCardLockupLayout(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 248) = 0u;
    *(_OWORD *)(result + 232) = 0u;
    *(_OWORD *)(result + 216) = 0u;
    *(_OWORD *)(result + 200) = 0u;
    *(_OWORD *)(result + 184) = 0u;
    *(_OWORD *)(result + 168) = 0u;
    *(_OWORD *)(result + 152) = 0u;
    *(_OWORD *)(result + 136) = 0u;
    *(_OWORD *)(result + 120) = 0u;
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(unsigned char *)(result + 744) = 0;
    *(_OWORD *)(result + 728) = 0u;
    *(_OWORD *)(result + 712) = 0u;
    *(_OWORD *)(result + 696) = 0u;
    *(_OWORD *)(result + 680) = 0u;
    *(_OWORD *)(result + 664) = 0u;
    *(_OWORD *)(result + 648) = 0u;
    *(_OWORD *)(result + 632) = 0u;
    *(_OWORD *)(result + 616) = 0u;
    *(_OWORD *)(result + 600) = 0u;
    *(_OWORD *)(result + 584) = 0u;
    *(_OWORD *)(result + 568) = 0u;
    *(_OWORD *)(result + 552) = 0u;
    *(_OWORD *)(result + 536) = 0u;
    *(_OWORD *)(result + 520) = 0u;
    *(_OWORD *)(result + 504) = 0u;
    *(_OWORD *)(result + 488) = 0u;
    *(_OWORD *)(result + 472) = 0u;
    *(_OWORD *)(result + 456) = 0u;
    *(_OWORD *)(result + 440) = 0u;
    *(_OWORD *)(result + 424) = 0u;
    *(_OWORD *)(result + 408) = 0u;
    *(_OWORD *)(result + 392) = 0u;
    *(_OWORD *)(result + 376) = 0u;
    *(_OWORD *)(result + 360) = 0u;
    *(_OWORD *)(result + 344) = 0u;
    *(_OWORD *)(result + 328) = 0u;
    *(_OWORD *)(result + 312) = 0u;
    *(_OWORD *)(result + 296) = 0u;
    *(_OWORD *)(result + 280) = 0u;
    *(_OWORD *)(result + 264) = 0u;
    *(void *)uint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 745) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 40) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 745) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for TodayCardLockupLayout()
{
  return &type metadata for TodayCardLockupLayout;
}

uint64_t assignWithCopy for TodayCardLockupLayout.Metrics(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = (unsigned char *)(a2 + 336);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  sub_100062A2C((uint64_t *)(a1 + 16), (uint64_t *)(a2 + 16));
  uint64_t v5 = *(void *)(a2 + 64);
  *(void *)(a1 + 56) = *(void *)(a2 + 56);
  *(void *)(a1 + 64) = v5;
  swift_retain();
  swift_release();
  sub_100062A2C((uint64_t *)(a1 + 72), (uint64_t *)(a2 + 72));
  sub_100062A2C((uint64_t *)(a1 + 112), (uint64_t *)(a2 + 112));
  sub_100062A2C((uint64_t *)(a1 + 152), (uint64_t *)(a2 + 152));
  sub_100062A2C((uint64_t *)(a1 + 192), (uint64_t *)(a2 + 192));
  sub_100062A2C((uint64_t *)(a1 + 232), (uint64_t *)(a2 + 232));
  long long v6 = *(_OWORD *)(a2 + 272);
  *(unsigned char *)(a1 + 288) = *(unsigned char *)(a2 + 288);
  *(_OWORD *)(a1 + 272) = v6;
  sub_100062A2C((uint64_t *)(a1 + 296), (uint64_t *)(a2 + 296));
  *(unsigned char *)(a1 + 336) = *(unsigned char *)(a2 + 336);
  *(unsigned char *)(a1 + 337) = v4[1];
  *(unsigned char *)(a1 + 338) = v4[2];
  *(unsigned char *)(a1 + 339) = v4[3];
  return a1;
}

void *initializeWithTake for TodayCardLockupLayout.Metrics(void *a1, const void *a2)
{
  return memcpy(a1, a2, 0x154uLL);
}

uint64_t assignWithTake for TodayCardLockupLayout.Metrics(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = (unsigned char *)(a2 + 336);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 16);
  long long v5 = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 16) = *(_OWORD *)(a2 + 16);
  *(_OWORD *)(a1 + 32) = v5;
  *(void *)(a1 + 48) = *(void *)(a2 + 48);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 72);
  *(_OWORD *)(a1 + 72) = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 88) = *(_OWORD *)(a2 + 88);
  *(void *)(a1 + 104) = *(void *)(a2 + 104);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 112);
  long long v6 = *(_OWORD *)(a2 + 128);
  *(_OWORD *)(a1 + 112) = *(_OWORD *)(a2 + 112);
  *(_OWORD *)(a1 + 128) = v6;
  *(void *)(a1 + 144) = *(void *)(a2 + 144);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 152);
  *(_OWORD *)(a1 + 152) = *(_OWORD *)(a2 + 152);
  *(_OWORD *)(a1 + 168) = *(_OWORD *)(a2 + 168);
  *(void *)(a1 + 184) = *(void *)(a2 + 184);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 192);
  long long v7 = *(_OWORD *)(a2 + 208);
  *(_OWORD *)(a1 + 192) = *(_OWORD *)(a2 + 192);
  *(_OWORD *)(a1 + 208) = v7;
  *(void *)(a1 + 224) = *(void *)(a2 + 224);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 232);
  *(_OWORD *)(a1 + 232) = *(_OWORD *)(a2 + 232);
  *(_OWORD *)(a1 + 248) = *(_OWORD *)(a2 + 248);
  *(void *)(a1 + 264) = *(void *)(a2 + 264);
  *(_OWORD *)(a1 + 272) = *(_OWORD *)(a2 + 272);
  *(unsigned char *)(a1 + 288) = *(unsigned char *)(a2 + 288);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 296);
  long long v8 = *(_OWORD *)(a2 + 312);
  *(_OWORD *)(a1 + 296) = *(_OWORD *)(a2 + 296);
  *(_OWORD *)(a1 + 312) = v8;
  *(void *)(a1 + 328) = *(void *)(a2 + 328);
  *(unsigned char *)(a1 + 336) = *(unsigned char *)(a2 + 336);
  *(unsigned char *)(a1 + 337) = v4[1];
  *(unsigned char *)(a1 + 338) = v4[2];
  *(unsigned char *)(a1 + 339) = v4[3];
  return a1;
}

uint64_t getEnumTagSinglePayload for TodayCardLockupLayout.Metrics(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 340)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 40);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for TodayCardLockupLayout.Metrics(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 328) = 0;
    *(_OWORD *)(result + 248) = 0u;
    *(_OWORD *)(result + 232) = 0u;
    *(_OWORD *)(result + 216) = 0u;
    *(_OWORD *)(result + 200) = 0u;
    *(_OWORD *)(result + 184) = 0u;
    *(_OWORD *)(result + 168) = 0u;
    *(_OWORD *)(result + 152) = 0u;
    *(_OWORD *)(result + 136) = 0u;
    *(_OWORD *)(result + 120) = 0u;
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(_DWORD *)(result + 336) = 0;
    *(_OWORD *)(result + 312) = 0u;
    *(_OWORD *)(result + 296) = 0u;
    *(_OWORD *)(result + 280) = 0u;
    *(_OWORD *)(result + 264) = 0u;
    *(void *)uint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 340) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 40) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 340) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for TodayCardLockupLayout.Metrics()
{
  return &type metadata for TodayCardLockupLayout.Metrics;
}

uint64_t sub_10032CD8C(uint64_t a1)
{
  return sub_10032BF50(a1, v1 + 16);
}

uint64_t sub_10032CD9C(uint64_t a1)
{
  return sub_10032BEAC(a1, v1 + 16);
}

uint64_t sub_10032CDB0(uint64_t a1)
{
  return sub_10032C0C4(a1, v1 + 16);
}

uint64_t sub_10032CDBC(uint64_t a1)
{
  return sub_10032C07C(a1, v1 + 16);
}

uint64_t sub_10032CDC8(uint64_t a1)
{
  return sub_10032C034(a1, v1 + 16);
}

uint64_t sub_10032CDDC()
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 80);
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 136);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 176);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 216);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 256);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 296);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 360);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 408);
  if (*(void *)(v0 + 472)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 448);
  }
  if (*(void *)(v0 + 512)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 488);
  }
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 528);
  if (*(void *)(v0 + 592)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 568);
  }
  if (*(void *)(v0 + 632)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 608);
  }
  if (*(void *)(v0 + 672)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 648);
  }
  if (*(void *)(v0 + 712)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 688);
  }
  if (*(void *)(v0 + 752)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 728);
  }
  if (*(void *)(v0 + 792)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 768);
  }

  return _swift_deallocObject(v0, 824, 7);
}

uint64_t sub_10032CEE4(uint64_t a1)
{
  return sub_10032BE04(a1, v1 + 64);
}

uint64_t ProductLockupAccessibilityLayout.init(metrics:iconView:titleText:developerText:taglineText:tertiaryTitleText:offerButton:shareButton:offerSubtitleText:expandedOfferTitleText:expandedOfferSubtitleText:bannerView:secondaryBannerView:)@<X0>(uint64_t a1@<X0>, long long *a2@<X1>, long long *a3@<X2>, long long *a4@<X3>, long long *a5@<X4>, uint64_t a6@<X5>, long long *a7@<X6>, long long *a8@<X7>, uint64_t a9@<X8>, long long *a10, uint64_t a11, uint64_t a12, uint64_t a13, uint64_t a14)
{
  uint64_t v22 = type metadata accessor for ProductLockupAccessibilityLayout(0);
  sub_10032D06C(a1, a9 + *(int *)(v22 + 64));
  sub_100081DD4(a2, a9);
  sub_100081DD4(a3, a9 + 40);
  sub_100081DD4(a4, a9 + 80);
  sub_100081DD4(a5, a9 + 120);
  sub_100082CD0(a6, a9 + 160, (uint64_t *)&unk_100990B70);
  sub_100081DD4(a7, a9 + 200);
  sub_100081DD4(a8, a9 + 240);
  sub_100081DD4(a10, a9 + 280);
  sub_100082CD0(a11, a9 + 320, (uint64_t *)&unk_100990B70);
  sub_100082CD0(a12, a9 + 360, (uint64_t *)&unk_100990B70);
  sub_100082CD0(a13, a9 + 400, (uint64_t *)&unk_1009932D0);
  return sub_100082CD0(a14, a9 + 440, (uint64_t *)&unk_1009932D0);
}

uint64_t type metadata accessor for ProductLockupAccessibilityLayout(uint64_t a1)
{
  return sub_10007F0EC(a1, qword_100990C08);
}

uint64_t sub_10032D06C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t type metadata accessor for ProductLockupAccessibilityLayout.Metrics(uint64_t a1)
{
  return sub_10007F0EC(a1, qword_100990CC8);
}

uint64_t ProductLockupAccessibilityLayout.tertiaryTitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 160, a1, (uint64_t *)&unk_100990B70);
}

uint64_t ProductLockupAccessibilityLayout.offerSubtitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 280, a1);
}

uint64_t ProductLockupAccessibilityLayout.expandedOfferTitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 320, a1, (uint64_t *)&unk_100990B70);
}

uint64_t ProductLockupAccessibilityLayout.expandedOfferSubtitleText.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 360, a1, (uint64_t *)&unk_100990B70);
}

uint64_t ProductLockupAccessibilityLayout.bannerView.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 400, a1, (uint64_t *)&unk_1009932D0);
}

uint64_t ProductLockupAccessibilityLayout.secondaryBannerView.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082B68(v1 + 440, a1, (uint64_t *)&unk_1009932D0);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.init(layoutMargins:bannerViewHeight:secondaryBannerViewHeight:iconSize:titleSpace:developerSpace:taglineSpace:tertiaryTitleSpace:shareButtonLeadingMargin:offerTopSpace:offerSubtitleSpace:expandedOfferTitleSpace:expandedOfferSubtitleSpace:bottomSpace:)@<X0>(long long *a1@<X0>, long long *a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X5>, long long *a7@<X6>, long long *a8@<X7>, double *a9@<X8>, double a10@<D0>, double a11@<D1>, double a12@<D2>, double a13@<D3>, double a14@<D4>, double a15@<D5>, long long *a16, uint64_t a17, long long *a18, long long *a19)
{
  *a9 = a10;
  a9[1] = a11;
  a9[2] = a12;
  a9[3] = a13;
  sub_100081DD4(a1, (uint64_t)(a9 + 4));
  sub_100081DD4(a2, (uint64_t)(a9 + 9));
  a9[14] = a14;
  a9[15] = a15;
  long long v27 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v28 = (char *)a9 + v27[8];
  uint64_t v29 = sub_100082C28(&qword_10098A9C0);
  long long v30 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v29 - 8) + 32);
  v30(v28, a3, v29);
  v30((char *)a9 + v27[9], a4, v29);
  v30((char *)a9 + v27[10], a5, v29);
  v30((char *)a9 + v27[11], a6, v29);
  sub_100081DD4(a7, (uint64_t)a9 + v27[12]);
  sub_100081DD4(a8, (uint64_t)a9 + v27[13]);
  sub_100081DD4(a16, (uint64_t)a9 + v27[14]);
  v30((char *)a9 + v27[15], a17, v29);
  sub_100081DD4(a18, (uint64_t)a9 + v27[16]);
  uint64_t v31 = (uint64_t)a9 + v27[17];

  return sub_100081DD4(a19, v31);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.init(byCopying:)@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_10032D06C(a1, a2);
}

double ProductLockupAccessibilityLayout.Metrics.layoutMargins.getter()
{
  return *(double *)v0;
}

void ProductLockupAccessibilityLayout.Metrics.layoutMargins.setter(double a1, double a2, double a3, double a4)
{
  *uint64_t v4 = a1;
  v4[1] = a2;
  v4[2] = a3;
  v4[3] = a4;
}

uint64_t ProductLockupAccessibilityLayout.Metrics.bannerViewHeight.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100082C6C(v1 + 32, a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.bannerViewHeight.setter(long long *a1)
{
  uint64_t v3 = v1 + 32;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.bannerViewHeight.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

double ProductLockupAccessibilityLayout.Metrics.iconSize.getter()
{
  return *(double *)(v0 + 112);
}

void ProductLockupAccessibilityLayout.Metrics.iconSize.setter(double a1, double a2)
{
  *(double *)(v2 + 112) = a1;
  *(double *)(v2 + 120) = a2;
}

uint64_t ProductLockupAccessibilityLayout.Metrics.titleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 32);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16);

  return v5(a1, v3, v4);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.titleSpace.setter(uint64_t a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 32);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40);

  return v5(v3, a1, v4);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.titleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.developerSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 36);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16);

  return v5(a1, v3, v4);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.developerSpace.setter(uint64_t a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 36);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40);

  return v5(v3, a1, v4);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.developerSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.taglineSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 40);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16);

  return v5(a1, v3, v4);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.taglineSpace.setter(uint64_t a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 40);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40);

  return v5(v3, a1, v4);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.taglineSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.tertiaryTitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 44);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16);

  return v5(a1, v3, v4);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.tertiaryTitleSpace.setter(uint64_t a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 44);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40);

  return v5(v3, a1, v4);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.tertiaryTitleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.shareButtonLeadingMargin.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  return sub_100082C6C(v1 + *(int *)(v3 + 48), a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.shareButtonLeadingMargin.setter(long long *a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 48);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.shareButtonLeadingMargin.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.offerTopSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  return sub_100082C6C(v1 + *(int *)(v3 + 52), a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.offerTopSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 52);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.offerTopSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.offerSubtitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  return sub_100082C6C(v1 + *(int *)(v3 + 56), a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.offerSubtitleSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 56);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.offerSubtitleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.expandedOfferTitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 60);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16);

  return v5(a1, v3, v4);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.expandedOfferTitleSpace.setter(uint64_t a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 60);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  long long v5 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40);

  return v5(v3, a1, v4);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.expandedOfferTitleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.expandedOfferSubtitleSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  return sub_100082C6C(v1 + *(int *)(v3 + 64), a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.expandedOfferSubtitleSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 64);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.expandedOfferSubtitleSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.bottomSpace.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  return sub_100082C6C(v1 + *(int *)(v3 + 68), a1);
}

uint64_t ProductLockupAccessibilityLayout.Metrics.bottomSpace.setter(long long *a1)
{
  uint64_t v3 = v1 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0) + 68);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v3);

  return sub_100081DD4(a1, v3);
}

uint64_t (*ProductLockupAccessibilityLayout.Metrics.bottomSpace.modify())()
{
  return static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
}

uint64_t ProductLockupAccessibilityLayout.metrics.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = type metadata accessor for ProductLockupAccessibilityLayout(0);
  return sub_1003311B8(v1 + *(int *)(v3 + 64), a1, type metadata accessor for ProductLockupAccessibilityLayout.Metrics);
}

double ProductLockupAccessibilityLayout.measurements(fitting:in:)(void *a1, double a2)
{
  uint64_t ObjectType = swift_getObjectType();

  return sub_100331164(a1, v2, ObjectType, a2);
}

uint64_t ProductLockupAccessibilityLayout.placeChildren(relativeTo:in:)@<X0>(void *a1@<X0>, uint64_t a2@<X8>, CGFloat a3@<D0>, CGFloat a4@<D1>, CGFloat a5@<D2>, CGFloat a6@<D3>)
{
  uint64_t v7 = v6;
  uint64_t v280 = a2;
  uint64_t v13 = type metadata accessor for ProductLockupAccessibilityLayout(0);
  uint64_t v14 = v13 - 8;
  __chkstk_darwin(v13);
  uint64_t v276 = (uint64_t)&v262 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for LayoutRect();
  uint64_t v294 = *(void *)(v16 - 8);
  uint64_t v295 = v16;
  __chkstk_darwin(v16);
  v275 = (char *)&v262 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  v288 = (char *)&v262 - v19;
  uint64_t v20 = type metadata accessor for _VerticalFlowLayout();
  uint64_t v278 = *(void *)(v20 - 8);
  uint64_t v279 = v20;
  __chkstk_darwin(v20);
  v293 = (char *)&v262 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v304 = type metadata accessor for _VerticalFlowLayout.Child();
  uint64_t v327 = *(void *)(v304 - 8);
  uint64_t v329 = v304 - 8;
  uint64_t v328 = v327;
  __chkstk_darwin(v304 - 8);
  v263 = (char *)&v262 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  v282 = (char *)&v262 - v24;
  __chkstk_darwin(v25);
  v270 = (char *)&v262 - v26;
  __chkstk_darwin(v27);
  v291 = (char *)&v262 - v28;
  __chkstk_darwin(v29);
  v269 = (char *)&v262 - v30;
  __chkstk_darwin(v31);
  v262 = (char *)&v262 - v32;
  uint64_t v311 = type metadata accessor for _VerticalFlowLayout.ExclusionCondition();
  uint64_t v321 = *(void *)(v311 - 8);
  uint64_t v322 = v311 - 8;
  uint64_t v331 = v321;
  __chkstk_darwin(v311);
  v305 = (char *)&v262 - ((v33 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v332 = COERCE_DOUBLE(type metadata accessor for _VerticalFlowLayout.Child.HorizontalAlignment());
  CGFloat v334 = *(double *)(*(void *)&v332 - 8);
  __chkstk_darwin(*(void *)&v332);
  v330 = (char *)&v262 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v299 = type metadata accessor for _VerticalFlowLayout.Child.Placement();
  CGFloat v333 = *(double *)(v299 - 8);
  __chkstk_darwin(v299);
  v306 = (char *)&v262 - ((v35 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v36 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v37 = *(void *)(v36 - 8);
  *(void *)&double v38 = __chkstk_darwin(v36).n128_u64[0];
  objc_super v40 = (char *)&v262 - ((v39 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v41 = [a1 traitCollection:v38];
  int v301 = UITraitCollection.isSizeClassRegular.getter();

  uint64_t v42 = v7 + *(int *)(v14 + 72);
  sub_100081D90((void *)(v42 + 32), *(void *)(v42 + 56));
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v44 = v43;
  uint64_t v45 = *(void (**)(char *, uint64_t))(v37 + 8);
  v45(v40, v36);
  sub_100081D90((void *)(v42 + 72), *(void *)(v42 + 96));
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v47 = v46;
  v45(v40, v36);
  double v48 = *(double *)v42;
  double v49 = *(double *)(v42 + 8);
  double v285 = v44;
  double v277 = v47;
  v290.origin.CGFloat x = a3;
  v290.origin.CGFloat y = a4;
  v290.size.CGFloat width = a5;
  v290.size.CGFloat height = a6;
  double v50 = sub_100091510(a3, a4, a5, a6, v44 + v48, v49);
  CGFloat v52 = v51;
  CGFloat v54 = v53;
  CGFloat v56 = v55;
  uint64_t v57 = *(void *)(*(void *)&v335 + 264);
  v283 = (void *)(*(void *)&v335 + 240);
  sub_100081D90((void *)(*(void *)&v335 + 240), v57);
  Measurable.measuredSize(fitting:in:)();
  double v59 = v58;
  double v298 = v60;
  v312 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  sub_100081D90((void *)(v42 + v312[12]), *(void *)(v42 + v312[12] + 24));
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v62 = v61;
  v296 = v40;
  uint64_t v297 = v37 + 8;
  v286 = v45;
  uint64_t v287 = v36;
  uint64_t v63 = v36;
  CGFloat v64 = v335;
  v45(v40, v63);
  v307 = a1;
  id v65 = [a1 traitCollection];
  unsigned __int8 v66 = UITraitCollection.prefersRightToLeftLayouts.getter();

  v357.origin.CGFloat x = v50;
  v357.origin.CGFloat y = v52;
  v357.size.CGFloat width = v54;
  v357.size.CGFloat height = v56;
  double MinX = CGRectGetMinX(v357);
  double v68 = v62 + v59 + MinX;
  v358.origin.CGFloat x = v50;
  v358.origin.CGFloat y = v52;
  v358.size.CGFloat width = v54;
  v358.size.CGFloat height = v56;
  double Width = CGRectGetWidth(v358);
  double v264 = v59;
  if (v301) {
    double v70 = Width - v59 - v62;
  }
  else {
    double v70 = Width;
  }
  if ((v301 & 1 & v66) != 0) {
    CGFloat v71 = v68;
  }
  else {
    CGFloat v71 = MinX;
  }
  CGFloat v72 = v56;
  v359.origin.CGFloat x = v50;
  v359.origin.CGFloat y = v52;
  v359.size.CGFloat width = v54;
  v359.size.CGFloat height = v56;
  CGFloat MinY = CGRectGetMinY(v359);
  CGFloat v292 = v50;
  v360.origin.CGFloat x = v50;
  double v274 = v52;
  v360.origin.CGFloat y = v52;
  double v289 = v54;
  v360.size.CGFloat width = v54;
  v360.size.CGFloat height = v72;
  CGFloat Height = CGRectGetHeight(v360);
  sub_100081D90(*(void **)&v64, *(void *)(*(void *)&v64 + 24));
  uint64_t v308 = v42;
  uint64_t v75 = *(void *)(v42 + 120);
  LayoutView.withMeasurements(representing:)();
  v268 = v352;
  v272 = v355;
  v273 = v353;
  sub_100330290((uint64_t)v349, (uint64_t)v352, (uint64_t)v353, (uint64_t)v355, (uint64_t)a1);
  uint64_t v76 = *(void *)(*(void *)&v64 + 224);
  v300 = (void *)(*(void *)&v64 + 200);
  sub_100081D90((void *)(*(void *)&v64 + 200), v76);
  Measurable.measuredSize(fitting:in:)();
  double v78 = v77;
  sub_100082C28(&qword_100981750);
  uint64_t v302 = *(void *)(v327 + 72);
  unint64_t v79 = (*(unsigned __int8 *)(v328 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v328 + 80);
  uint64_t v267 = 2 * v302;
  uint64_t v80 = swift_allocObject();
  *(_OWORD *)(v80 + 16) = xmmword_1007BF710;
  unint64_t v303 = v79;
  unint64_t v309 = v80;
  unint64_t v81 = v80 + v79;
  *((void *)&v347 + 1) = &type metadata for CGFloat;
  v348 = &protocol witness table for CGFloat;
  *(void *)&long long v346 = v75;
  v345 = 0;
  long long v343 = 0u;
  long long v344 = 0u;
  unsigned int v310 = enum case for _VerticalFlowLayout.Child.Placement.firstBaseline(_:);
  uint64_t v82 = *(void (**)(void))(*(void *)&v333 + 104);
  uint64_t v327 = *(void *)&v333 + 104;
  v326 = (void (*)(char *, uint64_t, uint64_t))v82;
  uint64_t v83 = v299;
  v82(v306);
  LODWORD(v329) = enum case for _VerticalFlowLayout.Child.HorizontalAlignment.leading(_:);
  uint64_t v84 = *(void (**)(void))(*(void *)&v334 + 104);
  uint64_t v325 = *(void *)&v334 + 104;
  v324 = (void (*)(char *, uint64_t, void))v84;
  uint64_t v85 = v330;
  double v86 = v332;
  v84(v330);
  uint64_t v323 = sub_100082C28((uint64_t *)&unk_100990B80);
  uint64_t v87 = *(void *)(v321 + 72);
  uint64_t v88 = v331;
  uint64_t v89 = *(unsigned __int8 *)(v331 + 80);
  uint64_t v322 = (v89 + 32) & ~v89;
  uint64_t v320 = v89 | 7;
  uint64_t v321 = v322 + v87;
  uint64_t v90 = swift_allocObject();
  long long v319 = xmmword_1007BEDF0;
  *(_OWORD *)(v90 + 16) = xmmword_1007BEDF0;
  static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
  *(void *)&long long v340 = v90;
  uint64_t v318 = sub_100331300((unint64_t *)&qword_100985A30, (void (*)(uint64_t))&type metadata accessor for _VerticalFlowLayout.ExclusionCondition);
  uint64_t v317 = sub_100082C28(&qword_100990B90);
  unint64_t v316 = sub_100156B24();
  double v91 = v305;
  uint64_t v92 = v311;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  unint64_t v266 = v81;
  uint64_t v93 = v306;
  static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
  double v94 = *(void (**)(char *, uint64_t))(v88 + 8);
  uint64_t v331 = v88 + 8;
  v315 = v94;
  v94(v91, v92);
  double v95 = *(void (**)(char *, void))(*(void *)&v334 + 8);
  *(void *)&v334 += 8;
  v314 = v95;
  v95(v85, *(void *)&v86);
  double v96 = *(void (**)(char *, uint64_t))(*(void *)&v333 + 8);
  *(void *)&v333 += 8;
  v313 = v96;
  uint64_t v97 = v93;
  double v98 = v93;
  uint64_t v99 = v83;
  v96(v97, v83);
  sub_100082BCC((uint64_t)&v343, &qword_10098B900);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  uint64_t v265 = v81 + v302;
  CGFloat v100 = v335;
  uint64_t v101 = *(void *)(*(void *)&v335 + 64);
  uint64_t v102 = *(void *)(*(void *)&v335 + 72);
  double v103 = sub_100081D90((void *)(*(void *)&v335 + 40), v101);
  *((void *)&v347 + 1) = v101;
  v348 = *(void **)(v102 + 8);
  double v104 = sub_1000808B8((uint64_t *)&v346);
  (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v101 - 8) + 16))(v104, v103, v101);
  *(void *)&long long v340 = v307;
  uint64_t v281 = sub_100082C28(&qword_10098A9C0);
  Conditional.evaluate(with:)();
  double v105 = *(double *)&v343;
  uint64_t v106 = *(void *)(*(void *)&v100 + 64);
  v271 = (void *)(*(void *)&v100 + 40);
  sub_100081D90((void *)(*(void *)&v100 + 40), v106);
  dispatch thunk of LayoutTextView.languageAwareOutsets.getter();
  *((void *)&v344 + 1) = &type metadata for CGFloat;
  v345 = &protocol witness table for CGFloat;
  *(double *)&long long v343 = v105 + v107;
  v342 = 0;
  long long v340 = 0u;
  long long v341 = 0u;
  v326(v98, v310, v99);
  id v108 = v330;
  double v109 = v332;
  v324(v330, v329, *(void *)&v332);
  uint64_t v110 = swift_allocObject();
  *(_OWORD *)(v110 + 16) = v319;
  static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
  *(void *)&long long v337 = v110;
  uint64_t v111 = v311;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
  v315(v91, v111);
  v314(v108, *(void *)&v109);
  v313(v98, v99);
  sub_100082BCC((uint64_t)&v340, &qword_10098B900);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v343);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  v267 += v266;
  uint64_t v112 = v350;
  uint64_t v113 = v351;
  objc_super v114 = sub_100081D90(v349, v350);
  *((void *)&v347 + 1) = v112;
  CGRect v115 = *(void **)(v113 + 8);
  CGRect v116 = v91;
  v348 = v115;
  CGRect v117 = sub_1000808B8((uint64_t *)&v346);
  (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v112 - 8) + 16))(v117, v114, v112);
  v345 = 0;
  long long v343 = 0u;
  long long v344 = 0u;
  v326(v98, v310, v99);
  double v118 = v332;
  v324(v108, v329, *(void *)&v332);
  uint64_t v119 = swift_allocObject();
  *(_OWORD *)(v119 + 16) = v319;
  static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
  *(void *)&long long v340 = v119;
  uint64_t v120 = v311;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
  v315(v116, v120);
  v314(v108, *(void *)&v118);
  v313(v98, v99);
  sub_100082BCC((uint64_t)&v343, &qword_10098B900);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  CGRect v121 = v307;
  sub_100082B68(*(void *)&v335 + 160, (uint64_t)&v343, (uint64_t *)&unk_100990B70);
  if (*((void *)&v344 + 1))
  {
    CGRect v122 = v108;
    sub_100081DD4(&v343, (uint64_t)&v346);
    uint64_t v123 = *((void *)&v347 + 1);
    CGRect v124 = v348;
    CGRect v125 = sub_100081D90(&v346, *((uint64_t *)&v347 + 1));
    *((void *)&v344 + 1) = v123;
    v345 = (void *)v124[1];
    CGRect v126 = sub_1000808B8((uint64_t *)&v343);
    (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v123 - 8) + 16))(v126, v125, v123);
    *(void *)&long long v337 = v121;
    *((void *)&v341 + 1) = &type metadata for CGFloat;
    v342 = &protocol witness table for CGFloat;
    Conditional.evaluate(with:)();
    uint64_t v339 = 0;
    long long v337 = 0u;
    long long v338 = 0u;
    v326(v98, v310, v99);
    CGRect v127 = v122;
    CGRect v128 = v122;
    double v129 = v332;
    v324(v128, v329, *(void *)&v332);
    uint64_t v130 = swift_allocObject();
    *(_OWORD *)(v130 + 16) = v319;
    static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
    uint64_t v336 = v130;
    uint64_t v131 = v311;
    dispatch thunk of SetAlgebra.init<A>(_:)();
    CGRect v132 = v262;
    static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
    v315(v116, v131);
    v314(v127, *(void *)&v129);
    v313(v98, v99);
    sub_100082BCC((uint64_t)&v337, &qword_10098B900);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v340);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v343);
    uint64_t v134 = v308;
    uint64_t v133 = v309;
    unint64_t v136 = *(void *)(v309 + 16);
    unint64_t v135 = *(void *)(v309 + 24);
    if (v136 >= v135 >> 1) {
      uint64_t v133 = sub_1000ABB70(v135 > 1, v136 + 1, 1, v309);
    }
    unint64_t v138 = v303;
    uint64_t v137 = v304;
    *(void *)(v133 + 16) = v136 + 1;
    unint64_t v309 = v133;
    (*(void (**)(unint64_t, char *, uint64_t))(v328 + 32))(v133 + v138 + v136 * v302, v132, v137);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
    uint64_t v139 = v131;
  }
  else
  {
    sub_100082BCC((uint64_t)&v343, (uint64_t *)&unk_100990B70);
    uint64_t v134 = v308;
    uint64_t v139 = v311;
  }
  uint64_t v140 = v300;
  sub_100081D90(v300, *(void *)(*(void *)&v335 + 224));
  if (dispatch thunk of LayoutView.isHidden.getter())
  {
    uint64_t v141 = v330;
    unint64_t v142 = v309;
  }
  else
  {
    sub_100082C6C((uint64_t)v140, (uint64_t)&v346);
    sub_100081D90((void *)(v134 + v312[13]), *(void *)(v134 + v312[13] + 24));
    long long v143 = v296;
    j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
    AnyDimension.value(in:rounded:)();
    double v145 = v144;
    v286(v143, v287);
    *((void *)&v344 + 1) = &type metadata for CGFloat;
    v345 = &protocol witness table for CGFloat;
    *(double *)&long long v343 = v78 + v145;
    v342 = 0;
    long long v340 = 0u;
    long long v341 = 0u;
    uint64_t v146 = v306;
    uint64_t v147 = v299;
    v326(v306, v310, v299);
    uint64_t v141 = v330;
    double v148 = v332;
    v324(v330, v329, *(void *)&v332);
    uint64_t v149 = swift_allocObject();
    *(_OWORD *)(v149 + 16) = v319;
    static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
    *(void *)&long long v337 = v149;
    CGRect v150 = v305;
    dispatch thunk of SetAlgebra.init<A>(_:)();
    static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
    v315(v150, v139);
    v314(v141, *(void *)&v148);
    v313(v146, v147);
    sub_100082BCC((uint64_t)&v340, &qword_10098B900);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v343);
    unint64_t v142 = v309;
    unint64_t v152 = *(void *)(v309 + 16);
    unint64_t v151 = *(void *)(v309 + 24);
    if (v152 >= v151 >> 1) {
      unint64_t v142 = sub_1000ABB70(v151 > 1, v152 + 1, 1, v309);
    }
    unint64_t v154 = v303;
    uint64_t v153 = v304;
    *(void *)(v142 + 16) = v152 + 1;
    (*(void (**)(unint64_t, char *, uint64_t))(v328 + 32))(v142 + v154 + v152 * v302, v269, v153);
  }
  v348 = 0;
  long long v346 = 0u;
  long long v347 = 0u;
  uint64_t v155 = v306;
  uint64_t v156 = v299;
  v326(v306, v310, v299);
  double v157 = v332;
  v324(v141, v329, *(void *)&v332);
  uint64_t v158 = swift_allocObject();
  *(_OWORD *)(v158 + 16) = v319;
  static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
  *(void *)&long long v343 = v158;
  uint64_t v159 = v305;
  dispatch thunk of SetAlgebra.init<A>(_:)();
  static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
  id v160 = v159;
  uint64_t v161 = v156;
  v315(v160, v139);
  v314(v330, *(void *)&v157);
  v313(v155, v156);
  sub_100082BCC((uint64_t)&v346, &qword_10098B900);
  unint64_t v163 = *(void *)(v142 + 16);
  unint64_t v162 = *(void *)(v142 + 24);
  unint64_t v164 = v142;
  if (v163 >= v162 >> 1) {
    unint64_t v164 = sub_1000ABB70(v162 > 1, v163 + 1, 1, v142);
  }
  uint64_t v166 = v302;
  unint64_t v165 = v303;
  *(void *)(v164 + 16) = v163 + 1;
  v167 = *(char **)(v328 + 32);
  v168 = v291;
  v328 += 32;
  v291 = v167;
  ((void (*)(unint64_t, char *, uint64_t))v167)(v164 + v165 + v163 * v166, v168, v304);
  sub_100081D90(v300, *(void *)(*(void *)&v335 + 224));
  char v169 = dispatch thunk of LayoutView.isHidden.getter();
  v170 = v306;
  if (v301 & 1 | ((v169 & 1) == 0))
  {
    unint64_t v309 = v164;
  }
  else
  {
    *((void *)&v347 + 1) = &type metadata for CGFloat;
    v348 = &protocol witness table for CGFloat;
    *(double *)&long long v346 = v298;
    v345 = 0;
    long long v343 = 0u;
    long long v344 = 0u;
    v326(v306, v310, v156);
    v171 = v330;
    double v172 = v332;
    v324(v330, v329, *(void *)&v332);
    uint64_t v173 = swift_allocObject();
    *(_OWORD *)(v173 + 16) = v319;
    static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
    *(void *)&long long v340 = v173;
    v174 = v305;
    uint64_t v175 = v311;
    dispatch thunk of SetAlgebra.init<A>(_:)();
    static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
    v315(v174, v175);
    v314(v171, *(void *)&v172);
    v313(v170, v156);
    sub_100082BCC((uint64_t)&v343, &qword_10098B900);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
    unint64_t v177 = *(void *)(v164 + 16);
    unint64_t v176 = *(void *)(v164 + 24);
    if (v177 >= v176 >> 1) {
      unint64_t v164 = sub_1000ABB70(v176 > 1, v177 + 1, 1, v164);
    }
    *(void *)(v164 + 16) = v177 + 1;
    unint64_t v309 = v164;
    ((void (*)(unint64_t, char *, uint64_t))v291)(v164 + v303 + v177 * v166, v270, v304);
  }
  uint64_t v178 = v310;
  sub_100082B68(*(void *)&v335 + 320, (uint64_t)&v343, (uint64_t *)&unk_100990B70);
  if (*((void *)&v344 + 1))
  {
    sub_100081DD4(&v343, (uint64_t)&v346);
    uint64_t v179 = *((void *)&v347 + 1);
    v180 = v348;
    v181 = sub_100081D90(&v346, *((uint64_t *)&v347 + 1));
    *((void *)&v344 + 1) = v179;
    v345 = (void *)v180[1];
    v182 = sub_1000808B8((uint64_t *)&v343);
    (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v179 - 8) + 16))(v182, v181, v179);
    *(void *)&long long v337 = v307;
    *((void *)&v341 + 1) = &type metadata for CGFloat;
    v342 = &protocol witness table for CGFloat;
    Conditional.evaluate(with:)();
    uint64_t v339 = 0;
    long long v337 = 0u;
    long long v338 = 0u;
    v326(v170, v178, v156);
    v183 = v330;
    double v184 = v332;
    v324(v330, v329, *(void *)&v332);
    uint64_t v185 = swift_allocObject();
    *(_OWORD *)(v185 + 16) = v319;
    static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
    uint64_t v336 = v185;
    v186 = v305;
    uint64_t v187 = v311;
    dispatch thunk of SetAlgebra.init<A>(_:)();
    static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
    v315(v186, v187);
    v314(v183, *(void *)&v184);
    v313(v170, v156);
    sub_100082BCC((uint64_t)&v337, &qword_10098B900);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v340);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v343);
    uint64_t v188 = v309;
    unint64_t v190 = *(void *)(v309 + 16);
    unint64_t v189 = *(void *)(v309 + 24);
    if (v190 >= v189 >> 1) {
      uint64_t v188 = sub_1000ABB70(v189 > 1, v190 + 1, 1, v309);
    }
    *(void *)(v188 + 16) = v190 + 1;
    unint64_t v309 = v188;
    ((void (*)(unint64_t, char *, uint64_t))v291)(v188 + v303 + v190 * v166, v282, v304);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  }
  else
  {
    sub_100082BCC((uint64_t)&v343, (uint64_t *)&unk_100990B70);
  }
  sub_100082B68(*(void *)&v335 + 360, (uint64_t)&v343, (uint64_t *)&unk_100990B70);
  double v191 = v332;
  uint64_t v192 = v329;
  CGFloat v284 = v72;
  if (*((void *)&v344 + 1))
  {
    sub_100081DD4(&v343, (uint64_t)&v346);
    uint64_t v193 = *((void *)&v347 + 1);
    v194 = v348;
    v195 = sub_100081D90(&v346, *((uint64_t *)&v347 + 1));
    *((void *)&v344 + 1) = v193;
    v345 = (void *)v194[1];
    v196 = sub_1000808B8((uint64_t *)&v343);
    (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v193 - 8) + 16))(v196, v195, v193);
    v342 = 0;
    long long v340 = 0u;
    long long v341 = 0u;
    v326(v170, v178, v161);
    v197 = v170;
    uint64_t v198 = v161;
    v199 = v330;
    v324(v330, v192, *(void *)&v191);
    uint64_t v200 = swift_allocObject();
    *(_OWORD *)(v200 + 16) = v319;
    static _VerticalFlowLayout.ExclusionCondition.hasNoHeight.getter();
    *(void *)&long long v337 = v200;
    v201 = v305;
    uint64_t v202 = v311;
    dispatch thunk of SetAlgebra.init<A>(_:)();
    v203 = v263;
    static _VerticalFlowLayout.Child.make(forView:placement:horizontalAlignment:topSpace:bottomSpace:excludeWhen:)();
    v315(v201, v202);
    v314(v199, *(void *)&v191);
    v313(v197, v198);
    sub_100082BCC((uint64_t)&v340, &qword_10098B900);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v343);
    uint64_t v204 = v309;
    unint64_t v206 = *(void *)(v309 + 16);
    unint64_t v205 = *(void *)(v309 + 24);
    if (v206 >= v205 >> 1) {
      uint64_t v204 = sub_1000ABB70(v205 > 1, v206 + 1, 1, v309);
    }
    uint64_t v207 = v294;
    v208 = v300;
    v209 = v271;
    *(void *)(v204 + 16) = v206 + 1;
    ((void (*)(unint64_t, char *, uint64_t))v291)(v204 + v303 + v206 * v302, v203, v304);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
    uint64_t v210 = v207;
  }
  else
  {
    sub_100082BCC((uint64_t)&v343, (uint64_t *)&unk_100990B70);
    uint64_t v210 = v294;
    v208 = v300;
    v209 = v271;
  }
  _VerticalFlowLayout.init(expandChildrenToFit:children:)();
  v211 = v288;
  _VerticalFlowLayout.placeChildren(relativeTo:in:)();
  v212 = *(uint64_t **)&v335;
  sub_100081D90(v209, *(void *)(*(void *)&v335 + 64));
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v332 = v213;
  double v215 = v214;
  sub_100081D90(v209, v212[8]);
  dispatch thunk of LayoutView.frame.getter();
  CGFloat v216 = CGRectGetMaxY(v361) - v215;
  v362.origin.CGFloat x = v71;
  v362.origin.CGFloat y = MinY;
  v362.size.CGFloat width = v70;
  v362.size.CGFloat height = Height;
  CGFloat v217 = MinY;
  CGFloat v218 = CGRectGetMinX(v362);
  v363.origin.CGFloat x = v71;
  v363.origin.CGFloat y = v217;
  v363.size.CGFloat width = v70;
  v363.size.CGFloat height = Height;
  CGFloat v219 = v71;
  CGFloat v220 = CGRectGetWidth(v363);
  v221 = v275;
  uint64_t v222 = v295;
  (*(void (**)(char *, char *, uint64_t))(v210 + 16))(v275, v211, v295);
  LayoutRect.origin.getter();
  double v224 = v223;
  (*(void (**)(char *, uint64_t))(v210 + 8))(v221, v222);
  v364.origin.CGFloat x = v219;
  v364.origin.CGFloat y = v217;
  v364.size.CGFloat width = v70;
  v364.size.CGFloat height = Height;
  CGFloat v225 = v224 + CGRectGetHeight(v364) - v216;
  v226 = v273;
  sub_100081D90(v273, v354);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  CGFloat v333 = v218;
  v365.origin.CGFloat x = v218;
  v365.origin.CGFloat y = v216;
  v365.size.CGFloat width = v220;
  v365.size.CGFloat height = v225;
  CGFloat v334 = CGRectGetMinX(v365);
  v366.origin.CGFloat x = v218;
  v366.origin.CGFloat y = v216;
  v366.size.CGFloat width = v220;
  v366.size.CGFloat height = v225;
  CGRectGetMinY(v366);
  sub_100081D90(v272, v355[3]);
  AnyDimension.topMargin(from:in:)();
  sub_100081D90(v226, v354);
  CGRect.withLayoutDirection(in:relativeTo:)();
  dispatch thunk of LayoutView.frame.setter();
  uint64_t v227 = v276;
  sub_1003311B8((uint64_t)v212, v276, type metadata accessor for ProductLockupAccessibilityLayout);
  if (v301)
  {
    sub_100331220(v227);
    sub_100081D90(v209, v212[8]);
    dispatch thunk of LayoutView.frame.getter();
    CGFloat v334 = v332 + CGRectGetMinY(v367) - v298;
    CGFloat v228 = v274;
    CGFloat v229 = v289;
  }
  else
  {
    sub_100081D90((void *)(v227 + 200), *(void *)(v227 + 224));
    char v230 = dispatch thunk of LayoutView.isHidden.getter();
    sub_100331220(v227);
    CGFloat v231 = v284;
    double v232 = v285;
    CGFloat v233 = v292;
    CGFloat v234 = v274;
    CGFloat v229 = v289;
    double v235 = v298;
    if (v230) {
      goto LABEL_39;
    }
    double v236 = v274;
    sub_100081D90(v208, v212[28]);
    dispatch thunk of LayoutView.frame.getter();
    CGFloat v334 = CGRectGetMidY(v368) + v235 * -0.5;
    CGFloat v228 = v236;
  }
  v369.origin.CGFloat x = v292;
  v369.origin.CGFloat y = v228;
  v369.size.CGFloat width = v229;
  CGFloat v231 = v284;
  v369.size.CGFloat height = v284;
  CGRectGetMaxX(v369);
  sub_100081D90(v283, v212[33]);
  CGFloat v229 = v289;
  CGRect.withLayoutDirection(in:relativeTo:)();
  dispatch thunk of LayoutView.frame.setter();
  CGFloat v234 = v228;
  CGFloat v233 = v292;
  double v232 = v285;
LABEL_39:
  CGFloat v237 = v229;
  CGFloat v238 = v231;
  CGFloat v239 = CGRectGetWidth(*(CGRect *)&v233);
  v240 = (void (*)(long long *, void))LayoutRect.size.modify();
  CGFloat *v241 = v239;
  v240(&v346, 0);
  v242 = (void *)(v308 + v312[17]);
  sub_100081D90(v242, v242[3]);
  v243 = v296;
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v245 = v244;
  v246 = v243;
  v248 = v286;
  uint64_t v247 = v287;
  v286(v246, v287);
  v249 = (void (*)(long long *, void))LayoutRect.size.modify();
  *(double *)(v250 + 8) = v245 + *(double *)(v250 + 8);
  v249(&v346, 0);
  sub_100082B68((uint64_t)(v212 + 50), (uint64_t)&v343, (uint64_t *)&unk_1009932D0);
  if (*((void *)&v344 + 1))
  {
    sub_100081DD4(&v343, (uint64_t)&v346);
    sub_100081D90(&v346, *((uint64_t *)&v347 + 1));
    CGFloat x = v290.origin.x;
    CGFloat y = v290.origin.y;
    CGFloat v254 = v290.size.width;
    CGFloat v253 = v290.size.height;
    CGRectGetMinX(v290);
    v370.origin.CGFloat x = x;
    v370.origin.CGFloat y = y;
    v370.size.CGFloat width = v254;
    v370.size.CGFloat height = v253;
    CGRectGetMinY(v370);
    v371.origin.CGFloat x = x;
    v371.origin.CGFloat y = y;
    v371.size.CGFloat width = v254;
    v371.size.CGFloat height = v253;
    CGRectGetWidth(v371);
    dispatch thunk of LayoutView.frame.setter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  }
  else
  {
    sub_100082BCC((uint64_t)&v343, (uint64_t *)&unk_1009932D0);
    CGFloat v254 = v290.size.width;
    CGFloat v253 = v290.size.height;
    CGFloat x = v290.origin.x;
    CGFloat y = v290.origin.y;
  }
  sub_100082B68(*(void *)&v335 + 440, (uint64_t)&v343, (uint64_t *)&unk_1009932D0);
  if (*((void *)&v344 + 1))
  {
    sub_100081DD4(&v343, (uint64_t)&v346);
    sub_100081D90(&v346, *((uint64_t *)&v347 + 1));
    v372.origin.CGFloat x = x;
    v372.origin.CGFloat y = y;
    v372.size.CGFloat width = v254;
    v372.size.CGFloat height = v253;
    CGFloat v335 = CGRectGetMinX(v372);
    v373.origin.CGFloat x = x;
    v373.origin.CGFloat y = y;
    v373.size.CGFloat width = v254;
    v373.size.CGFloat height = v253;
    CGRectGetMaxY(v373);
    double v255 = v277;
    sub_100081D90(v242, v242[3]);
    v256 = v296;
    j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
    v211 = v288;
    AnyDimension.value(in:rounded:)();
    v248(v256, v247);
    v374.origin.CGFloat x = x;
    v374.origin.CGFloat y = y;
    v374.size.CGFloat width = v254;
    v374.size.CGFloat height = v253;
    CGRectGetWidth(v374);
    dispatch thunk of LayoutView.frame.setter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v346);
  }
  else
  {
    sub_100082BCC((uint64_t)&v343, (uint64_t *)&unk_1009932D0);
    double v255 = v277;
  }
  v257 = (void (*)(long long *, void))LayoutRect.size.modify();
  *(double *)(v258 + 8) = v232 + *(double *)(v258 + 8);
  v257(&v346, 0);
  v259 = (void (*)(long long *, void))LayoutRect.size.modify();
  *(double *)(v260 + 8) = v255 + *(double *)(v260 + 8);
  v259(&v346, 0);
  (*(void (**)(char *, uint64_t))(v278 + 8))(v293, v279);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v356);
  (*(void (**)(uint64_t, char *, uint64_t))(v294 + 32))(v280, v211, v295);
  return sub_100082BCC((uint64_t)v349, &qword_100990B98);
}

uint64_t sub_100330290(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  sub_100081D90(v5 + 10, v5[13]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v8 = v7;
  double v10 = v9;
  type metadata accessor for ProductLockupAccessibilityLayout(0);
  type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  sub_100082C28(&qword_10098A9C0);
  Conditional.evaluate(with:)();
  *(void *)&v30[0] = *(void *)&v31[0];
  AnyDimension.topMargin(from:in:)();
  double v12 = v8 - v10 + v11;
  uint64_t v13 = (uint64_t)(v5 + 15);
  sub_100081D90(v5 + 15, v5[18]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v15 = v14;
  double v17 = v16;
  Conditional.evaluate(with:)();
  *(void *)&v30[0] = *(void *)&v31[0];
  AnyDimension.topMargin(from:in:)();
  double v19 = v15 - v17 + v18;
  if (v19 >= v12)
  {
    sub_100082C6C(v13, (uint64_t)v31);
    uint64_t v13 = (uint64_t)(v5 + 10);
  }
  else
  {
    sub_100082C6C((uint64_t)(v5 + 10), (uint64_t)v31);
  }
  sub_100082C6C(v13, (uint64_t)v30);
  Conditional.evaluate(with:)();
  *(void *)&long long v26 = a5;
  Conditional.evaluate(with:)();
  double v20 = v29[0];
  *(void *)&v29[3] = &type metadata for CGFloat;
  *(void *)&v29[4] = &protocol witness table for CGFloat;
  if (v19 >= v12) {
    double v20 = v29[0];
  }
  uint64_t v27 = &type metadata for CGFloat;
  uint64_t v28 = &protocol witness table for CGFloat;
  *(double *)&long long v26 = v20;
  sub_100081DD4(v31, a1);
  sub_100082C6C((uint64_t)v29, a2);
  sub_100081DD4(v30, a3);
  sub_100081DD4(&v26, a4);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v29);
}

double ProductLockupAccessibilityLayout.offerButtonMinYDistanceFromBottom(fitting:in:)(uint64_t a1)
{
  swift_getObjectType();

  return sub_1003305C0(a1, v1);
}

uint64_t sub_100330584@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_1003311B8(v2 + *(int *)(a1 + 64), a2, type metadata accessor for ProductLockupAccessibilityLayout.Metrics);
}

double sub_1003305C0(uint64_t a1, void *a2)
{
  uint64_t v4 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  double v7 = (char *)&v44 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100081D90(a2 + 35, a2[38]);
  char v8 = dispatch thunk of LayoutView.isHidden.getter();
  double v9 = 0.0;
  double v10 = 0.0;
  if ((v8 & 1) == 0)
  {
    sub_100081D90(a2 + 35, a2[38]);
    dispatch thunk of Measurable.measurements(fitting:in:)();
    double v12 = v11;
    double v10 = v13;
    double v14 = (char *)a2 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout(0) + 64);
    uint64_t v15 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    sub_100081D90(&v14[*(int *)(v15 + 56)], *(void *)&v14[*(int *)(v15 + 56) + 24]);
    AnyDimension.topMargin(from:in:)();
    double v9 = v12 - v10 + v16;
  }
  double v46 = v9;
  sub_100082B68((uint64_t)(a2 + 40), (uint64_t)&v48, (uint64_t *)&unk_100990B70);
  if (v49)
  {
    sub_100081DD4(&v48, (uint64_t)v50);
    sub_100081D90(v50, v51);
    dispatch thunk of Measurable.measurements(fitting:in:)();
    double v18 = v17;
    double v10 = v19;
    type metadata accessor for ProductLockupAccessibilityLayout(0);
    type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    uint64_t v47 = a1;
    sub_100082C28(&qword_10098A9C0);
    Conditional.evaluate(with:)();
    uint64_t v47 = v48;
    double v20 = v18;
    AnyDimension.topMargin(from:in:)();
    double v22 = v21;
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
    double v45 = v10;
  }
  else
  {
    sub_100082BCC((uint64_t)&v48, (uint64_t *)&unk_100990B70);
    double v20 = JUMeasurementsZero[1];
    double v45 = JUMeasurementsZero[3];
    double v22 = 0.0;
  }
  sub_100082B68((uint64_t)(a2 + 45), (uint64_t)&v48, (uint64_t *)&unk_100990B70);
  if (v49)
  {
    sub_100081DD4(&v48, (uint64_t)v50);
    sub_100081D90(v50, v51);
    dispatch thunk of Measurable.measurements(fitting:in:)();
    double v24 = v23;
    double v44 = v22;
    double v10 = v25;
    long long v26 = (char *)a2 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout(0) + 64);
    uint64_t v27 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    sub_100081D90(&v26[*(int *)(v27 + 64)], *(void *)&v26[*(int *)(v27 + 64) + 24]);
    j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
    AnyDimension.value(in:rounded:)();
    uint64_t v29 = v28;
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    *(void *)&long long v48 = v29;
    double v22 = v44;
    AnyDimension.topMargin(from:in:)();
    double v31 = v30;
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v50);
    double v32 = v10;
  }
  else
  {
    sub_100082BCC((uint64_t)&v48, (uint64_t *)&unk_100990B70);
    double v24 = JUMeasurementsZero[1];
    double v32 = JUMeasurementsZero[3];
    double v31 = 0.0;
  }
  sub_100081D90(a2 + 25, a2[28]);
  Measurable.measuredSize(fitting:in:)();
  double v34 = v24 - v32 + v31 + v20 - v45 + v22 + v46 + v33;
  uint64_t v35 = (char *)a2 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout(0) + 64);
  sub_100081D90((void *)v35 + 9, *((void *)v35 + 12));
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v37 = v36;
  double v38 = *(void (**)(char *, uint64_t))(v5 + 8);
  v38(v7, v4);
  double v39 = v34 + v37;
  uint64_t v40 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  sub_100081D90(&v35[*(int *)(v40 + 68)], *(void *)&v35[*(int *)(v40 + 68) + 24]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v42 = v41;
  v38(v7, v4);
  return v10 + v39 + v42;
}

double sub_100330B24(void *a1, void *a2, uint64_t a3)
{
  uint64_t v48 = a3;
  uint64_t v5 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  char v8 = (char *)v42 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v9 = (char *)a2 + *(int *)(type metadata accessor for ProductLockupAccessibilityLayout(0) + 64);
  id v10 = [a1 traitCollection];
  LODWORD(v46) = UITraitCollection.isSizeClassRegular.getter();

  sub_100081D90(a2 + 30, a2[33]);
  Measurable.measuredSize(fitting:in:)();
  uint64_t v11 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  sub_100081D90(&v9[*(int *)(v11 + 48)], *(void *)&v9[*(int *)(v11 + 48) + 24]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v12 = *(void (**)(char *, uint64_t))(v6 + 8);
  uint64_t v50 = v5;
  uint64_t v49 = v6 + 8;
  uint64_t v47 = v12;
  v12(v8, v5);
  sub_100081D90(a2 + 5, a2[8]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v14 = v13;
  double v16 = v15;
  v54[0] = a1;
  v42[1] = sub_100082C28(&qword_10098A9C0);
  Conditional.evaluate(with:)();
  v54[0] = v55[0];
  AnyDimension.topMargin(from:in:)();
  double v46 = v17;
  sub_100081D90(a2 + 5, a2[8]);
  dispatch thunk of LayoutTextView.languageAwareOutsets.getter();
  double v45 = v18;
  sub_100330290((uint64_t)v55, (uint64_t)v56, (uint64_t)&v57, (uint64_t)v58, (uint64_t)a1);
  sub_100081D90(v55, v55[3]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v20 = v19;
  double v22 = v21;
  sub_100081D90(v56, v56[3]);
  double v44 = v20;
  double v43 = v22;
  AnyDimension.topMargin(from:in:)();
  double v24 = v23;
  sub_100082B68((uint64_t)(a2 + 20), (uint64_t)&v52, (uint64_t *)&unk_100990B70);
  if (v53)
  {
    sub_100081DD4(&v52, (uint64_t)v54);
    sub_100081D90(v54, v54[3]);
    dispatch thunk of Measurable.measurements(fitting:in:)();
    double v26 = v25;
    *(double *)double v42 = v24;
    double v28 = v27;
    uint64_t v51 = a1;
    Conditional.evaluate(with:)();
    uint64_t v51 = (void *)v52;
    AnyDimension.topMargin(from:in:)();
    double v29 = v26 - v28;
    double v24 = *(double *)v42;
    double v31 = v29 + v30;
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v54);
  }
  else
  {
    sub_100082BCC((uint64_t)&v52, (uint64_t *)&unk_100990B70);
    double v31 = 0.0;
  }
  double v32 = v31 + v44 - v43 + v24 + v14 - v16 + v46 + v45 + *((double *)v9 + 15);
  sub_100081D90(&v9[*(int *)(v11 + 52)], *(void *)&v9[*(int *)(v11 + 52) + 24]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v34 = v33;
  uint64_t v35 = v50;
  double v36 = v47;
  v47(v8, v50);
  double v37 = v32 + v34 + sub_1003305C0((uint64_t)a1, a2);
  sub_100081D90((void *)v9 + 4, *((void *)v9 + 7));
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v39 = v38;
  v36(v8, v35);
  double v40 = v37 + v39 + *(double *)v9 + *((double *)v9 + 2);
  sub_100082BCC((uint64_t)v55, &qword_100990B98);
  return v40;
}

double sub_100331164(void *a1, void *a2, uint64_t a3, double a4)
{
  return a4;
}

uint64_t sub_1003311B8(uint64_t a1, uint64_t a2, uint64_t (*a3)(void))
{
  uint64_t v5 = a3(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(a2, a1, v5);
  return a2;
}

uint64_t sub_100331220(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for ProductLockupAccessibilityLayout(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_10033127C(uint64_t a1)
{
  *(void *)(a1 + 8) = sub_100331300(&qword_100990BA0, (void (*)(uint64_t))type metadata accessor for ProductLockupAccessibilityLayout);
  uint64_t result = sub_100331300(&qword_100990BA8, (void (*)(uint64_t))type metadata accessor for ProductLockupAccessibilityLayout);
  *(void *)(a1 + 16) = result;
  return result;
}

uint64_t sub_100331300(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t initializeBufferWithCopyOfBuffer for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v4 = a1;
  int v5 = *(_DWORD *)(*(void *)(a3 - 8) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v15 = *a2;
    *(void *)uint64_t v4 = *a2;
    uint64_t v4 = v15 + ((v5 + 16) & ~(unint64_t)v5);
    swift_retain();
  }
  else
  {
    long long v7 = *(_OWORD *)(a2 + 3);
    *(_OWORD *)(a1 + 24) = v7;
    (**(void (***)(uint64_t, uint64_t *))(v7 - 8))(a1, a2);
    long long v8 = *((_OWORD *)a2 + 4);
    *(_OWORD *)(v4 + 64) = v8;
    (**(void (***)(uint64_t, uint64_t))(v8 - 8))(v4 + 40, (uint64_t)(a2 + 5));
    long long v9 = *(_OWORD *)(a2 + 13);
    *(_OWORD *)(v4 + 104) = v9;
    (**(void (***)(uint64_t, uint64_t))(v9 - 8))(v4 + 80, (uint64_t)(a2 + 10));
    long long v10 = *((_OWORD *)a2 + 9);
    *(_OWORD *)(v4 + 144) = v10;
    (**(void (***)(uint64_t, uint64_t))(v10 - 8))(v4 + 120, (uint64_t)(a2 + 15));
    uint64_t v11 = (_OWORD *)(v4 + 160);
    double v12 = a2 + 20;
    uint64_t v13 = a2[23];
    if (v13)
    {
      uint64_t v14 = a2[24];
      *(void *)(v4 + 184) = v13;
      *(void *)(v4 + 192) = v14;
      (**(void (***)(_OWORD *, _OWORD *))(v13 - 8))(v11, v12);
    }
    else
    {
      long long v16 = *((_OWORD *)a2 + 11);
      _OWORD *v11 = *v12;
      *(_OWORD *)(v4 + 176) = v16;
      *(void *)(v4 + 192) = a2[24];
    }
    long long v17 = *((_OWORD *)a2 + 14);
    *(_OWORD *)(v4 + 224) = v17;
    (**(void (***)(uint64_t, uint64_t))(v17 - 8))(v4 + 200, (uint64_t)(a2 + 25));
    uint64_t v18 = a2[33];
    uint64_t v19 = a2[34];
    *(void *)(v4 + 264) = v18;
    *(void *)(v4 + 272) = v19;
    (**(void (***)(uint64_t, uint64_t))(v18 - 8))(v4 + 240, (uint64_t)(a2 + 30));
    long long v20 = *((_OWORD *)a2 + 19);
    *(_OWORD *)(v4 + 304) = v20;
    (**(void (***)(uint64_t, uint64_t))(v20 - 8))(v4 + 280, (uint64_t)(a2 + 35));
    double v21 = (_OWORD *)(v4 + 320);
    double v22 = a2 + 40;
    uint64_t v23 = a2[43];
    if (v23)
    {
      uint64_t v24 = a2[44];
      *(void *)(v4 + 344) = v23;
      *(void *)(v4 + 352) = v24;
      (**(void (***)(_OWORD *, _OWORD *))(v23 - 8))(v21, v22);
    }
    else
    {
      long long v25 = *((_OWORD *)a2 + 21);
      *double v21 = *v22;
      *(_OWORD *)(v4 + 336) = v25;
      *(void *)(v4 + 352) = a2[44];
    }
    double v26 = (_OWORD *)(v4 + 360);
    double v27 = a2 + 45;
    uint64_t v28 = a2[48];
    if (v28)
    {
      uint64_t v29 = a2[49];
      *(void *)(v4 + 384) = v28;
      *(void *)(v4 + 392) = v29;
      (**(void (***)(_OWORD *, _OWORD *))(v28 - 8))(v26, v27);
    }
    else
    {
      long long v30 = *(_OWORD *)(a2 + 47);
      *double v26 = *v27;
      *(_OWORD *)(v4 + 376) = v30;
      *(void *)(v4 + 392) = a2[49];
    }
    double v31 = (_OWORD *)(v4 + 400);
    double v32 = a2 + 50;
    uint64_t v33 = a2[53];
    if (v33)
    {
      uint64_t v34 = a2[54];
      *(void *)(v4 + 424) = v33;
      *(void *)(v4 + 432) = v34;
      (**(void (***)(_OWORD *, _OWORD *))(v33 - 8))(v31, v32);
    }
    else
    {
      long long v35 = *((_OWORD *)a2 + 26);
      *double v31 = *v32;
      *(_OWORD *)(v4 + 416) = v35;
      *(void *)(v4 + 432) = a2[54];
    }
    double v36 = (_OWORD *)(v4 + 440);
    double v37 = a2 + 55;
    uint64_t v38 = a2[58];
    if (v38)
    {
      uint64_t v39 = a2[59];
      *(void *)(v4 + 464) = v38;
      *(void *)(v4 + 472) = v39;
      (**(void (***)(_OWORD *, _OWORD *))(v38 - 8))(v36, v37);
    }
    else
    {
      long long v40 = *(_OWORD *)(a2 + 57);
      *double v36 = *v37;
      *(_OWORD *)(v4 + 456) = v40;
      *(void *)(v4 + 472) = a2[59];
    }
    uint64_t v41 = *(int *)(a3 + 64);
    double v42 = (_OWORD *)(v4 + v41);
    uint64_t v43 = (uint64_t)a2 + v41;
    long long v44 = *(_OWORD *)((char *)a2 + v41 + 16);
    *double v42 = *(_OWORD *)((char *)a2 + v41);
    v42[1] = v44;
    long long v45 = *(_OWORD *)((char *)a2 + v41 + 56);
    *(_OWORD *)((char *)v42 + 56) = v45;
    (**(void (***)(uint64_t, uint64_t))(v45 - 8))(v4 + v41 + 32, (uint64_t)a2 + v41 + 32);
    long long v46 = *(_OWORD *)(v43 + 96);
    v42[6] = v46;
    (**(void (***)(uint64_t, uint64_t))(v46 - 8))((uint64_t)v42 + 72, v43 + 72);
    v42[7] = *(_OWORD *)(v43 + 112);
    uint64_t v47 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    uint64_t v48 = v47[8];
    uint64_t v49 = (char *)v42 + v48;
    uint64_t v50 = v43 + v48;
    uint64_t v51 = sub_100082C28(&qword_10098A9C0);
    long long v52 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v51 - 8) + 16);
    v52(v49, v50, v51);
    v52((char *)v42 + v47[9], v43 + v47[9], v51);
    v52((char *)v42 + v47[10], v43 + v47[10], v51);
    v52((char *)v42 + v47[11], v43 + v47[11], v51);
    uint64_t v53 = v47[12];
    long long v54 = *(_OWORD *)(v43 + v53 + 24);
    *(_OWORD *)((char *)v42 + v53 + 24) = v54;
    (**(void (***)(void))(v54 - 8))();
    uint64_t v55 = v47[13];
    long long v56 = *(_OWORD *)(v43 + v55 + 24);
    *(_OWORD *)((char *)v42 + v55 + 24) = v56;
    (**(void (***)(void))(v56 - 8))();
    uint64_t v57 = v47[14];
    long long v58 = *(_OWORD *)(v43 + v57 + 24);
    *(_OWORD *)((char *)v42 + v57 + 24) = v58;
    (**(void (***)(void))(v58 - 8))();
    v52((char *)v42 + v47[15], v43 + v47[15], v51);
    uint64_t v59 = v47[16];
    long long v60 = *(_OWORD *)(v43 + v59 + 24);
    *(_OWORD *)((char *)v42 + v59 + 24) = v60;
    (**(void (***)(void))(v60 - 8))();
    uint64_t v61 = v47[17];
    long long v62 = *(_OWORD *)(v43 + v61 + 24);
    *(_OWORD *)((char *)v42 + v61 + 24) = v62;
    (**(void (***)(void))(v62 - 8))();
  }
  return v4;
}

uint64_t destroy for ProductLockupAccessibilityLayout(void *a1, uint64_t a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)a1);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 5));
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 10));
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 15));
  if (a1[23]) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 20));
  }
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 25));
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 30));
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 35));
  if (a1[43]) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 40));
  }
  if (a1[48]) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 45));
  }
  if (a1[53]) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 50));
  }
  if (a1[58]) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(a1 + 55));
  }
  uint64_t v4 = (char *)a1 + *(int *)(a2 + 64);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(v4 + 32));
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)(v4 + 72));
  int v5 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v6 = &v4[v5[8]];
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  long long v8 = *(void (**)(char *, uint64_t))(*(void *)(v7 - 8) + 8);
  v8(v6, v7);
  v8(&v4[v5[9]], v7);
  v8(&v4[v5[10]], v7);
  v8(&v4[v5[11]], v7);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v4[v5[12]]);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v4[v5[13]]);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v4[v5[14]]);
  v8(&v4[v5[15]], v7);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v4[v5[16]]);
  uint64_t v9 = (uint64_t)&v4[v5[17]];

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v9);
}

uint64_t initializeWithCopy for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3)
{
  long long v6 = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 24) = v6;
  (**(void (***)(void))(v6 - 8))();
  long long v7 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 64) = v7;
  (**(void (***)(uint64_t, uint64_t))(v7 - 8))(a1 + 40, a2 + 40);
  long long v8 = *(_OWORD *)(a2 + 104);
  *(_OWORD *)(a1 + 104) = v8;
  (**(void (***)(uint64_t, uint64_t))(v8 - 8))(a1 + 80, a2 + 80);
  long long v9 = *(_OWORD *)(a2 + 144);
  *(_OWORD *)(a1 + 144) = v9;
  (**(void (***)(uint64_t, uint64_t))(v9 - 8))(a1 + 120, a2 + 120);
  long long v10 = (_OWORD *)(a1 + 160);
  uint64_t v11 = (_OWORD *)(a2 + 160);
  uint64_t v12 = *(void *)(a2 + 184);
  if (v12)
  {
    uint64_t v13 = *(void *)(a2 + 192);
    *(void *)(a1 + 184) = v12;
    *(void *)(a1 + 192) = v13;
    (**(void (***)(_OWORD *, _OWORD *))(v12 - 8))(v10, v11);
  }
  else
  {
    long long v14 = *(_OWORD *)(a2 + 176);
    *long long v10 = *v11;
    *(_OWORD *)(a1 + 176) = v14;
    *(void *)(a1 + 192) = *(void *)(a2 + 192);
  }
  long long v15 = *(_OWORD *)(a2 + 224);
  *(_OWORD *)(a1 + 224) = v15;
  (**(void (***)(uint64_t, uint64_t))(v15 - 8))(a1 + 200, a2 + 200);
  uint64_t v16 = *(void *)(a2 + 264);
  uint64_t v17 = *(void *)(a2 + 272);
  *(void *)(a1 + 264) = v16;
  *(void *)(a1 + 272) = v17;
  (**(void (***)(uint64_t, uint64_t))(v16 - 8))(a1 + 240, a2 + 240);
  long long v18 = *(_OWORD *)(a2 + 304);
  *(_OWORD *)(a1 + 304) = v18;
  (**(void (***)(uint64_t, uint64_t))(v18 - 8))(a1 + 280, a2 + 280);
  uint64_t v19 = (_OWORD *)(a1 + 320);
  long long v20 = (_OWORD *)(a2 + 320);
  uint64_t v21 = *(void *)(a2 + 344);
  if (v21)
  {
    uint64_t v22 = *(void *)(a2 + 352);
    *(void *)(a1 + 344) = v21;
    *(void *)(a1 + 352) = v22;
    (**(void (***)(_OWORD *, _OWORD *))(v21 - 8))(v19, v20);
  }
  else
  {
    long long v23 = *(_OWORD *)(a2 + 336);
    *uint64_t v19 = *v20;
    *(_OWORD *)(a1 + 336) = v23;
    *(void *)(a1 + 352) = *(void *)(a2 + 352);
  }
  uint64_t v24 = (_OWORD *)(a1 + 360);
  long long v25 = (_OWORD *)(a2 + 360);
  uint64_t v26 = *(void *)(a2 + 384);
  if (v26)
  {
    uint64_t v27 = *(void *)(a2 + 392);
    *(void *)(a1 + 384) = v26;
    *(void *)(a1 + 392) = v27;
    (**(void (***)(_OWORD *, _OWORD *))(v26 - 8))(v24, v25);
  }
  else
  {
    long long v28 = *(_OWORD *)(a2 + 376);
    *uint64_t v24 = *v25;
    *(_OWORD *)(a1 + 376) = v28;
    *(void *)(a1 + 392) = *(void *)(a2 + 392);
  }
  uint64_t v29 = (_OWORD *)(a1 + 400);
  long long v30 = (_OWORD *)(a2 + 400);
  uint64_t v31 = *(void *)(a2 + 424);
  if (v31)
  {
    uint64_t v32 = *(void *)(a2 + 432);
    *(void *)(a1 + 424) = v31;
    *(void *)(a1 + 432) = v32;
    (**(void (***)(_OWORD *, _OWORD *))(v31 - 8))(v29, v30);
  }
  else
  {
    long long v33 = *(_OWORD *)(a2 + 416);
    *uint64_t v29 = *v30;
    *(_OWORD *)(a1 + 416) = v33;
    *(void *)(a1 + 432) = *(void *)(a2 + 432);
  }
  uint64_t v34 = (_OWORD *)(a1 + 440);
  long long v35 = (_OWORD *)(a2 + 440);
  uint64_t v36 = *(void *)(a2 + 464);
  if (v36)
  {
    uint64_t v37 = *(void *)(a2 + 472);
    *(void *)(a1 + 464) = v36;
    *(void *)(a1 + 472) = v37;
    (**(void (***)(_OWORD *, _OWORD *))(v36 - 8))(v34, v35);
  }
  else
  {
    long long v38 = *(_OWORD *)(a2 + 456);
    *uint64_t v34 = *v35;
    *(_OWORD *)(a1 + 456) = v38;
    *(void *)(a1 + 472) = *(void *)(a2 + 472);
  }
  uint64_t v39 = *(int *)(a3 + 64);
  long long v40 = (_OWORD *)(a1 + v39);
  uint64_t v41 = a2 + v39;
  long long v42 = *(_OWORD *)(a2 + v39 + 16);
  *long long v40 = *(_OWORD *)(a2 + v39);
  v40[1] = v42;
  long long v43 = *(_OWORD *)(a2 + v39 + 56);
  *(_OWORD *)((char *)v40 + 56) = v43;
  (**(void (***)(uint64_t, uint64_t))(v43 - 8))(a1 + v39 + 32, a2 + v39 + 32);
  long long v44 = *(_OWORD *)(v41 + 96);
  v40[6] = v44;
  (**(void (***)(uint64_t, uint64_t))(v44 - 8))((uint64_t)v40 + 72, v41 + 72);
  v40[7] = *(_OWORD *)(v41 + 112);
  long long v45 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v46 = v45[8];
  uint64_t v47 = (char *)v40 + v46;
  uint64_t v48 = v41 + v46;
  uint64_t v49 = sub_100082C28(&qword_10098A9C0);
  uint64_t v50 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v49 - 8) + 16);
  v50(v47, v48, v49);
  v50((char *)v40 + v45[9], v41 + v45[9], v49);
  v50((char *)v40 + v45[10], v41 + v45[10], v49);
  v50((char *)v40 + v45[11], v41 + v45[11], v49);
  uint64_t v51 = v45[12];
  long long v52 = *(_OWORD *)(v41 + v51 + 24);
  *(_OWORD *)((char *)v40 + v51 + 24) = v52;
  (**(void (***)(void))(v52 - 8))();
  uint64_t v53 = v45[13];
  long long v54 = *(_OWORD *)(v41 + v53 + 24);
  *(_OWORD *)((char *)v40 + v53 + 24) = v54;
  (**(void (***)(void))(v54 - 8))();
  uint64_t v55 = v45[14];
  long long v56 = *(_OWORD *)(v41 + v55 + 24);
  *(_OWORD *)((char *)v40 + v55 + 24) = v56;
  (**(void (***)(void))(v56 - 8))();
  v50((char *)v40 + v45[15], v41 + v45[15], v49);
  uint64_t v57 = v45[16];
  long long v58 = *(_OWORD *)(v41 + v57 + 24);
  *(_OWORD *)((char *)v40 + v57 + 24) = v58;
  (**(void (***)(void))(v58 - 8))();
  uint64_t v59 = v45[17];
  long long v60 = *(_OWORD *)(v41 + v59 + 24);
  *(_OWORD *)((char *)v40 + v59 + 24) = v60;
  (**(void (***)(void))(v60 - 8))();
  return a1;
}

uint64_t assignWithCopy for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3)
{
  sub_100062A2C((uint64_t *)a1, (uint64_t *)a2);
  sub_100062A2C((uint64_t *)(a1 + 40), (uint64_t *)(a2 + 40));
  sub_100062A2C((uint64_t *)(a1 + 80), (uint64_t *)(a2 + 80));
  sub_100062A2C((uint64_t *)(a1 + 120), (uint64_t *)(a2 + 120));
  uint64_t v6 = *(void *)(a2 + 184);
  if (*(void *)(a1 + 184))
  {
    if (v6)
    {
      sub_100062A2C((uint64_t *)(a1 + 160), (uint64_t *)(a2 + 160));
      goto LABEL_8;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 160);
  }
  else if (v6)
  {
    *(void *)(a1 + 184) = v6;
    *(void *)(a1 + 192) = *(void *)(a2 + 192);
    (**(void (***)(uint64_t, uint64_t))(v6 - 8))(a1 + 160, a2 + 160);
    goto LABEL_8;
  }
  long long v7 = *(_OWORD *)(a2 + 160);
  long long v8 = *(_OWORD *)(a2 + 176);
  *(void *)(a1 + 192) = *(void *)(a2 + 192);
  *(_OWORD *)(a1 + 160) = v7;
  *(_OWORD *)(a1 + 176) = v8;
LABEL_8:
  sub_100062A2C((uint64_t *)(a1 + 200), (uint64_t *)(a2 + 200));
  sub_100062A2C((uint64_t *)(a1 + 240), (uint64_t *)(a2 + 240));
  sub_100062A2C((uint64_t *)(a1 + 280), (uint64_t *)(a2 + 280));
  uint64_t v9 = *(void *)(a2 + 344);
  if (*(void *)(a1 + 344))
  {
    if (v9)
    {
      sub_100062A2C((uint64_t *)(a1 + 320), (uint64_t *)(a2 + 320));
      goto LABEL_15;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 320);
  }
  else if (v9)
  {
    *(void *)(a1 + 344) = v9;
    *(void *)(a1 + 352) = *(void *)(a2 + 352);
    (**(void (***)(uint64_t, uint64_t))(v9 - 8))(a1 + 320, a2 + 320);
    goto LABEL_15;
  }
  long long v10 = *(_OWORD *)(a2 + 320);
  long long v11 = *(_OWORD *)(a2 + 336);
  *(void *)(a1 + 352) = *(void *)(a2 + 352);
  *(_OWORD *)(a1 + 320) = v10;
  *(_OWORD *)(a1 + 336) = v11;
LABEL_15:
  uint64_t v12 = *(void *)(a2 + 384);
  if (*(void *)(a1 + 384))
  {
    if (v12)
    {
      sub_100062A2C((uint64_t *)(a1 + 360), (uint64_t *)(a2 + 360));
      goto LABEL_22;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 360);
  }
  else if (v12)
  {
    *(void *)(a1 + 384) = v12;
    *(void *)(a1 + 392) = *(void *)(a2 + 392);
    (**(void (***)(uint64_t, uint64_t))(v12 - 8))(a1 + 360, a2 + 360);
    goto LABEL_22;
  }
  long long v13 = *(_OWORD *)(a2 + 360);
  long long v14 = *(_OWORD *)(a2 + 376);
  *(void *)(a1 + 392) = *(void *)(a2 + 392);
  *(_OWORD *)(a1 + 360) = v13;
  *(_OWORD *)(a1 + 376) = v14;
LABEL_22:
  uint64_t v15 = *(void *)(a2 + 424);
  if (*(void *)(a1 + 424))
  {
    if (v15)
    {
      sub_100062A2C((uint64_t *)(a1 + 400), (uint64_t *)(a2 + 400));
      goto LABEL_29;
    }
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 400);
  }
  else if (v15)
  {
    *(void *)(a1 + 424) = v15;
    *(void *)(a1 + 432) = *(void *)(a2 + 432);
    (**(void (***)(uint64_t, uint64_t))(v15 - 8))(a1 + 400, a2 + 400);
    goto LABEL_29;
  }
  long long v16 = *(_OWORD *)(a2 + 400);
  long long v17 = *(_OWORD *)(a2 + 416);
  *(void *)(a1 + 432) = *(void *)(a2 + 432);
  *(_OWORD *)(a1 + 400) = v16;
  *(_OWORD *)(a1 + 416) = v17;
LABEL_29:
  uint64_t v18 = *(void *)(a2 + 464);
  if (!*(void *)(a1 + 464))
  {
    if (v18)
    {
      *(void *)(a1 + 464) = v18;
      *(void *)(a1 + 472) = *(void *)(a2 + 472);
      (**(void (***)(uint64_t, uint64_t))(v18 - 8))(a1 + 440, a2 + 440);
      goto LABEL_36;
    }
LABEL_35:
    long long v19 = *(_OWORD *)(a2 + 440);
    long long v20 = *(_OWORD *)(a2 + 456);
    *(void *)(a1 + 472) = *(void *)(a2 + 472);
    *(_OWORD *)(a1 + 440) = v19;
    *(_OWORD *)(a1 + 456) = v20;
    goto LABEL_36;
  }
  if (!v18)
  {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 440);
    goto LABEL_35;
  }
  sub_100062A2C((uint64_t *)(a1 + 440), (uint64_t *)(a2 + 440));
LABEL_36:
  uint64_t v21 = *(int *)(a3 + 64);
  uint64_t v22 = (void *)(a1 + v21);
  long long v23 = (uint64_t *)(a2 + v21);
  *uint64_t v22 = *(void *)(a2 + v21);
  v22[1] = *(void *)(a2 + v21 + 8);
  void v22[2] = *(void *)(a2 + v21 + 16);
  v22[3] = *(void *)(a2 + v21 + 24);
  sub_100062A2C((uint64_t *)(a1 + v21 + 32), (uint64_t *)(a2 + v21 + 32));
  sub_100062A2C(v22 + 9, v23 + 9);
  v22[14] = v23[14];
  v22[15] = v23[15];
  uint64_t v24 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v25 = v24[8];
  uint64_t v26 = (char *)v22 + v25;
  uint64_t v27 = (char *)v23 + v25;
  uint64_t v28 = sub_100082C28(&qword_10098A9C0);
  uint64_t v29 = *(void (**)(char *, char *, uint64_t))(*(void *)(v28 - 8) + 24);
  v29(v26, v27, v28);
  v29((char *)v22 + v24[9], (char *)v23 + v24[9], v28);
  v29((char *)v22 + v24[10], (char *)v23 + v24[10], v28);
  v29((char *)v22 + v24[11], (char *)v23 + v24[11], v28);
  sub_100062A2C((void *)((char *)v22 + v24[12]), (uint64_t *)((char *)v23 + v24[12]));
  sub_100062A2C((void *)((char *)v22 + v24[13]), (uint64_t *)((char *)v23 + v24[13]));
  sub_100062A2C((void *)((char *)v22 + v24[14]), (uint64_t *)((char *)v23 + v24[14]));
  v29((char *)v22 + v24[15], (char *)v23 + v24[15], v28);
  sub_100062A2C((void *)((char *)v22 + v24[16]), (uint64_t *)((char *)v23 + v24[16]));
  sub_100062A2C((void *)((char *)v22 + v24[17]), (uint64_t *)((char *)v23 + v24[17]));
  return a1;
}

uint64_t initializeWithTake for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3)
{
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  *(void *)(a1 + 72) = *(void *)(a2 + 72);
  *(void *)(a1 + 112) = *(void *)(a2 + 112);
  long long v5 = *(_OWORD *)(a2 + 96);
  *(_OWORD *)(a1 + 80) = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 96) = v5;
  *(void *)(a1 + 152) = *(void *)(a2 + 152);
  *(_OWORD *)(a1 + 136) = *(_OWORD *)(a2 + 136);
  *(_OWORD *)(a1 + 120) = *(_OWORD *)(a2 + 120);
  *(void *)(a1 + 192) = *(void *)(a2 + 192);
  long long v6 = *(_OWORD *)(a2 + 176);
  *(_OWORD *)(a1 + 160) = *(_OWORD *)(a2 + 160);
  *(_OWORD *)(a1 + 176) = v6;
  *(_OWORD *)(a1 + 200) = *(_OWORD *)(a2 + 200);
  *(_OWORD *)(a1 + 216) = *(_OWORD *)(a2 + 216);
  *(void *)(a1 + 232) = *(void *)(a2 + 232);
  long long v7 = *(_OWORD *)(a2 + 240);
  long long v8 = *(_OWORD *)(a2 + 256);
  *(void *)(a1 + 272) = *(void *)(a2 + 272);
  *(_OWORD *)(a1 + 240) = v7;
  *(_OWORD *)(a1 + 256) = v8;
  long long v9 = *(_OWORD *)(a2 + 280);
  long long v10 = *(_OWORD *)(a2 + 296);
  *(void *)(a1 + 312) = *(void *)(a2 + 312);
  *(_OWORD *)(a1 + 280) = v9;
  *(_OWORD *)(a1 + 296) = v10;
  long long v11 = *(_OWORD *)(a2 + 320);
  long long v12 = *(_OWORD *)(a2 + 336);
  *(void *)(a1 + 352) = *(void *)(a2 + 352);
  *(_OWORD *)(a1 + 320) = v11;
  *(_OWORD *)(a1 + 336) = v12;
  long long v13 = *(_OWORD *)(a2 + 360);
  long long v14 = *(_OWORD *)(a2 + 376);
  *(void *)(a1 + 392) = *(void *)(a2 + 392);
  *(_OWORD *)(a1 + 360) = v13;
  *(_OWORD *)(a1 + 376) = v14;
  long long v15 = *(_OWORD *)(a2 + 400);
  long long v16 = *(_OWORD *)(a2 + 416);
  *(void *)(a1 + 432) = *(void *)(a2 + 432);
  *(_OWORD *)(a1 + 400) = v15;
  *(_OWORD *)(a1 + 416) = v16;
  long long v17 = *(_OWORD *)(a2 + 440);
  long long v18 = *(_OWORD *)(a2 + 456);
  *(void *)(a1 + 472) = *(void *)(a2 + 472);
  *(_OWORD *)(a1 + 440) = v17;
  *(_OWORD *)(a1 + 456) = v18;
  uint64_t v19 = *(int *)(a3 + 64);
  uint64_t v20 = a1 + v19;
  uint64_t v21 = a2 + v19;
  long long v22 = *(_OWORD *)(a2 + v19 + 16);
  *(_OWORD *)uint64_t v20 = *(_OWORD *)(a2 + v19);
  *(_OWORD *)(v20 + 16) = v22;
  *(void *)(v20 + 64) = *(void *)(a2 + v19 + 64);
  long long v23 = *(_OWORD *)(a2 + v19 + 48);
  *(_OWORD *)(v20 + 32) = *(_OWORD *)(a2 + v19 + 32);
  *(_OWORD *)(v20 + 48) = v23;
  long long v24 = *(_OWORD *)(a2 + v19 + 72);
  long long v25 = *(_OWORD *)(a2 + v19 + 88);
  *(void *)(v20 + 104) = *(void *)(a2 + v19 + 104);
  *(_OWORD *)(v20 + 88) = v25;
  *(_OWORD *)(v20 + 72) = v24;
  *(_OWORD *)(v20 + 112) = *(_OWORD *)(a2 + v19 + 112);
  uint64_t v26 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v27 = v26[8];
  uint64_t v28 = v20 + v27;
  uint64_t v29 = v21 + v27;
  uint64_t v30 = sub_100082C28(&qword_10098A9C0);
  uint64_t v31 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v30 - 8) + 32);
  v31(v28, v29, v30);
  v31(v20 + v26[9], v21 + v26[9], v30);
  v31(v20 + v26[10], v21 + v26[10], v30);
  v31(v20 + v26[11], v21 + v26[11], v30);
  uint64_t v32 = v26[12];
  uint64_t v33 = v20 + v32;
  uint64_t v34 = v21 + v32;
  long long v35 = *(_OWORD *)(v34 + 16);
  *(_OWORD *)uint64_t v33 = *(_OWORD *)v34;
  *(_OWORD *)(v33 + 16) = v35;
  *(void *)(v33 + 32) = *(void *)(v34 + 32);
  uint64_t v36 = v26[13];
  uint64_t v37 = v20 + v36;
  uint64_t v38 = v21 + v36;
  long long v39 = *(_OWORD *)(v38 + 16);
  *(_OWORD *)uint64_t v37 = *(_OWORD *)v38;
  *(_OWORD *)(v37 + 16) = v39;
  *(void *)(v37 + 32) = *(void *)(v38 + 32);
  uint64_t v40 = v26[14];
  uint64_t v41 = v20 + v40;
  uint64_t v42 = v21 + v40;
  long long v43 = *(_OWORD *)(v42 + 16);
  *(_OWORD *)uint64_t v41 = *(_OWORD *)v42;
  *(_OWORD *)(v41 + 16) = v43;
  *(void *)(v41 + 32) = *(void *)(v42 + 32);
  v31(v20 + v26[15], v21 + v26[15], v30);
  uint64_t v44 = v26[16];
  uint64_t v45 = v20 + v44;
  uint64_t v46 = v21 + v44;
  long long v47 = *(_OWORD *)(v46 + 16);
  *(_OWORD *)uint64_t v45 = *(_OWORD *)v46;
  *(_OWORD *)(v45 + 16) = v47;
  *(void *)(v45 + 32) = *(void *)(v46 + 32);
  uint64_t v48 = v26[17];
  uint64_t v49 = v20 + v48;
  uint64_t v50 = v21 + v48;
  long long v51 = *(_OWORD *)(v50 + 16);
  *(_OWORD *)uint64_t v49 = *(_OWORD *)v50;
  *(_OWORD *)(v49 + 16) = v51;
  *(void *)(v49 + 32) = *(void *)(v50 + 32);
  return a1;
}

uint64_t assignWithTake for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  long long v6 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v6;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 40);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  *(void *)(a1 + 72) = *(void *)(a2 + 72);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 80);
  long long v7 = *(_OWORD *)(a2 + 96);
  *(_OWORD *)(a1 + 80) = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 96) = v7;
  *(void *)(a1 + 112) = *(void *)(a2 + 112);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
  *(_OWORD *)(a1 + 120) = *(_OWORD *)(a2 + 120);
  *(_OWORD *)(a1 + 136) = *(_OWORD *)(a2 + 136);
  *(void *)(a1 + 152) = *(void *)(a2 + 152);
  if (*(void *)(a1 + 184)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 160);
  }
  long long v8 = *(_OWORD *)(a2 + 176);
  *(_OWORD *)(a1 + 160) = *(_OWORD *)(a2 + 160);
  *(_OWORD *)(a1 + 176) = v8;
  *(void *)(a1 + 192) = *(void *)(a2 + 192);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 200);
  *(_OWORD *)(a1 + 200) = *(_OWORD *)(a2 + 200);
  *(_OWORD *)(a1 + 216) = *(_OWORD *)(a2 + 216);
  *(void *)(a1 + 232) = *(void *)(a2 + 232);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 240);
  long long v9 = *(_OWORD *)(a2 + 256);
  *(_OWORD *)(a1 + 240) = *(_OWORD *)(a2 + 240);
  *(_OWORD *)(a1 + 256) = v9;
  *(void *)(a1 + 272) = *(void *)(a2 + 272);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 280);
  long long v10 = *(_OWORD *)(a2 + 296);
  *(_OWORD *)(a1 + 280) = *(_OWORD *)(a2 + 280);
  *(_OWORD *)(a1 + 296) = v10;
  *(void *)(a1 + 312) = *(void *)(a2 + 312);
  if (*(void *)(a1 + 344)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 320);
  }
  long long v11 = *(_OWORD *)(a2 + 336);
  *(_OWORD *)(a1 + 320) = *(_OWORD *)(a2 + 320);
  *(_OWORD *)(a1 + 336) = v11;
  *(void *)(a1 + 352) = *(void *)(a2 + 352);
  if (*(void *)(a1 + 384)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 360);
  }
  long long v12 = *(_OWORD *)(a2 + 376);
  *(_OWORD *)(a1 + 360) = *(_OWORD *)(a2 + 360);
  *(_OWORD *)(a1 + 376) = v12;
  *(void *)(a1 + 392) = *(void *)(a2 + 392);
  if (*(void *)(a1 + 424)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 400);
  }
  long long v13 = *(_OWORD *)(a2 + 416);
  *(_OWORD *)(a1 + 400) = *(_OWORD *)(a2 + 400);
  *(_OWORD *)(a1 + 416) = v13;
  *(void *)(a1 + 432) = *(void *)(a2 + 432);
  if (*(void *)(a1 + 464)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 440);
  }
  *(void *)(a1 + 472) = *(void *)(a2 + 472);
  long long v14 = *(_OWORD *)(a2 + 456);
  *(_OWORD *)(a1 + 440) = *(_OWORD *)(a2 + 440);
  *(_OWORD *)(a1 + 456) = v14;
  uint64_t v15 = *(int *)(a3 + 64);
  uint64_t v16 = a1 + v15;
  uint64_t v17 = a2 + v15;
  long long v18 = *(_OWORD *)(a2 + v15 + 16);
  *(_OWORD *)uint64_t v16 = *(_OWORD *)(a2 + v15);
  *(_OWORD *)(v16 + 16) = v18;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v15 + 32);
  long long v19 = *(_OWORD *)(v17 + 48);
  *(_OWORD *)(v16 + 32) = *(_OWORD *)(v17 + 32);
  *(_OWORD *)(v16 + 48) = v19;
  *(void *)(v16 + 64) = *(void *)(v17 + 64);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + 72);
  *(_OWORD *)(v16 + 72) = *(_OWORD *)(v17 + 72);
  *(_OWORD *)(v16 + 88) = *(_OWORD *)(v17 + 88);
  *(void *)(v16 + 104) = *(void *)(v17 + 104);
  *(_OWORD *)(v16 + 112) = *(_OWORD *)(v17 + 112);
  uint64_t v20 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  uint64_t v21 = v20[8];
  uint64_t v22 = v16 + v21;
  uint64_t v23 = v17 + v21;
  uint64_t v24 = sub_100082C28(&qword_10098A9C0);
  long long v25 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v24 - 8) + 40);
  v25(v22, v23, v24);
  v25(v16 + v20[9], v17 + v20[9], v24);
  v25(v16 + v20[10], v17 + v20[10], v24);
  v25(v16 + v20[11], v17 + v20[11], v24);
  uint64_t v26 = v20[12];
  uint64_t v27 = v16 + v26;
  uint64_t v28 = v17 + v26;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + v26);
  long long v29 = *(_OWORD *)(v28 + 16);
  *(_OWORD *)uint64_t v27 = *(_OWORD *)v28;
  *(_OWORD *)(v27 + 16) = v29;
  *(void *)(v27 + 32) = *(void *)(v28 + 32);
  uint64_t v30 = v20[13];
  uint64_t v31 = v16 + v30;
  uint64_t v32 = v17 + v30;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + v30);
  long long v33 = *(_OWORD *)(v32 + 16);
  *(_OWORD *)uint64_t v31 = *(_OWORD *)v32;
  *(_OWORD *)(v31 + 16) = v33;
  *(void *)(v31 + 32) = *(void *)(v32 + 32);
  uint64_t v34 = v20[14];
  uint64_t v35 = v16 + v34;
  uint64_t v36 = v17 + v34;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + v34);
  long long v37 = *(_OWORD *)(v36 + 16);
  *(_OWORD *)uint64_t v35 = *(_OWORD *)v36;
  *(_OWORD *)(v35 + 16) = v37;
  *(void *)(v35 + 32) = *(void *)(v36 + 32);
  v25(v16 + v20[15], v17 + v20[15], v24);
  uint64_t v38 = v20[16];
  uint64_t v39 = v16 + v38;
  uint64_t v40 = v17 + v38;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + v38);
  long long v41 = *(_OWORD *)(v40 + 16);
  *(_OWORD *)uint64_t v39 = *(_OWORD *)v40;
  *(_OWORD *)(v39 + 16) = v41;
  *(void *)(v39 + 32) = *(void *)(v40 + 32);
  uint64_t v42 = v20[17];
  uint64_t v43 = v16 + v42;
  uint64_t v44 = v17 + v42;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v16 + v42);
  long long v45 = *(_OWORD *)(v44 + 16);
  *(_OWORD *)uint64_t v43 = *(_OWORD *)v44;
  *(_OWORD *)(v43 + 16) = v45;
  *(void *)(v43 + 32) = *(void *)(v44 + 32);
  return a1;
}

uint64_t getEnumTagSinglePayload for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_100332EA0);
}

uint64_t sub_100332EA0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2 == 0x7FFFFFFF)
  {
    unint64_t v4 = *(void *)(a1 + 24);
    if (v4 >= 0xFFFFFFFF) {
      LODWORD(v4) = -1;
    }
    return (v4 + 1);
  }
  else
  {
    uint64_t v8 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    long long v9 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 48);
    uint64_t v10 = v8;
    uint64_t v11 = a1 + *(int *)(a3 + 64);
    return v9(v11, a2, v10);
  }
}

uint64_t storeEnumTagSinglePayload for ProductLockupAccessibilityLayout(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_100332F64);
}

uint64_t sub_100332F64(uint64_t result, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t v5 = result;
  if (a3 == 0x7FFFFFFF)
  {
    *(void *)(result + 24) = (a2 - 1);
  }
  else
  {
    uint64_t v7 = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
    uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v7 - 8) + 56);
    uint64_t v9 = v7;
    uint64_t v10 = v5 + *(int *)(a4 + 64);
    return v8(v10, a2, a2, v9);
  }
  return result;
}

uint64_t sub_10033300C()
{
  uint64_t result = type metadata accessor for ProductLockupAccessibilityLayout.Metrics(319);
  if (v1 <= 0x3F)
  {
    swift_initStructMetadata();
    return 0;
  }
  return result;
}

char *initializeBufferWithCopyOfBuffer for ProductLockupAccessibilityLayout.Metrics(_OWORD *a1, uint64_t *a2, int *a3)
{
  unint64_t v4 = (char *)a1;
  int v5 = *(_DWORD *)(*((void *)a3 - 1) + 80);
  if ((v5 & 0x20000) != 0)
  {
    uint64_t v25 = *a2;
    *(void *)unint64_t v4 = *a2;
    unint64_t v4 = (char *)(v25 + ((v5 + 16) & ~(unint64_t)v5));
    swift_retain();
  }
  else
  {
    long long v7 = *((_OWORD *)a2 + 1);
    *a1 = *(_OWORD *)a2;
    a1[1] = v7;
    long long v8 = *(_OWORD *)(a2 + 7);
    *(_OWORD *)((char *)a1 + 56) = v8;
    (**(void (***)(uint64_t, uint64_t))(v8 - 8))((uint64_t)(a1 + 2), (uint64_t)(a2 + 4));
    long long v9 = *((_OWORD *)a2 + 6);
    *((_OWORD *)v4 + 6) = v9;
    (**(void (***)(uint64_t, uint64_t))(v9 - 8))((uint64_t)(v4 + 72), (uint64_t)(a2 + 9));
    *((_OWORD *)v4 + 7) = *((_OWORD *)a2 + 7);
    uint64_t v10 = a3[8];
    uint64_t v11 = &v4[v10];
    uint64_t v12 = (uint64_t)a2 + v10;
    uint64_t v13 = sub_100082C28(&qword_10098A9C0);
    long long v14 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v13 - 8) + 16);
    v14(v11, v12, v13);
    v14(&v4[a3[9]], (uint64_t)a2 + a3[9], v13);
    v14(&v4[a3[10]], (uint64_t)a2 + a3[10], v13);
    v14(&v4[a3[11]], (uint64_t)a2 + a3[11], v13);
    uint64_t v15 = a3[12];
    long long v16 = *(_OWORD *)((char *)a2 + v15 + 24);
    *(_OWORD *)&v4[v15 + 24] = v16;
    (**(void (***)(void))(v16 - 8))();
    uint64_t v17 = a3[13];
    long long v18 = *(_OWORD *)((char *)a2 + v17 + 24);
    *(_OWORD *)&v4[v17 + 24] = v18;
    (**(void (***)(void))(v18 - 8))();
    uint64_t v19 = a3[14];
    long long v20 = *(_OWORD *)((char *)a2 + v19 + 24);
    *(_OWORD *)&v4[v19 + 24] = v20;
    (**(void (***)(void))(v20 - 8))();
    v14(&v4[a3[15]], (uint64_t)a2 + a3[15], v13);
    uint64_t v21 = a3[16];
    long long v22 = *(_OWORD *)((char *)a2 + v21 + 24);
    *(_OWORD *)&v4[v21 + 24] = v22;
    (**(void (***)(void))(v22 - 8))();
    uint64_t v23 = a3[17];
    long long v24 = *(_OWORD *)((char *)a2 + v23 + 24);
    *(_OWORD *)&v4[v23 + 24] = v24;
    (**(void (***)(void))(v24 - 8))();
  }
  return v4;
}

uint64_t destroy for ProductLockupAccessibilityLayout.Metrics(uint64_t a1, int *a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 32);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 72);
  uint64_t v4 = a1 + a2[8];
  uint64_t v5 = sub_100082C28(&qword_10098A9C0);
  long long v6 = *(void (**)(uint64_t, uint64_t))(*(void *)(v5 - 8) + 8);
  v6(v4, v5);
  v6(a1 + a2[9], v5);
  v6(a1 + a2[10], v5);
  v6(a1 + a2[11], v5);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + a2[12]);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + a2[13]);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + a2[14]);
  v6(a1 + a2[15], v5);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + a2[16]);
  uint64_t v7 = a1 + a2[17];

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v7);
}

_OWORD *initializeWithCopy for ProductLockupAccessibilityLayout.Metrics(_OWORD *a1, _OWORD *a2, int *a3)
{
  long long v6 = a2[1];
  *a1 = *a2;
  a1[1] = v6;
  long long v7 = *(_OWORD *)((char *)a2 + 56);
  *(_OWORD *)((char *)a1 + 56) = v7;
  (**(void (***)(uint64_t, uint64_t))(v7 - 8))((uint64_t)(a1 + 2), (uint64_t)(a2 + 2));
  long long v8 = a2[6];
  a1[6] = v8;
  (**(void (***)(uint64_t, uint64_t))(v8 - 8))((uint64_t)a1 + 72, (uint64_t)a2 + 72);
  a1[7] = a2[7];
  uint64_t v9 = a3[8];
  uint64_t v10 = (char *)a1 + v9;
  uint64_t v11 = (char *)a2 + v9;
  uint64_t v12 = sub_100082C28(&qword_10098A9C0);
  uint64_t v13 = *(void (**)(char *, char *, uint64_t))(*(void *)(v12 - 8) + 16);
  v13(v10, v11, v12);
  v13((char *)a1 + a3[9], (char *)a2 + a3[9], v12);
  v13((char *)a1 + a3[10], (char *)a2 + a3[10], v12);
  v13((char *)a1 + a3[11], (char *)a2 + a3[11], v12);
  uint64_t v14 = a3[12];
  long long v15 = *(_OWORD *)((char *)a2 + v14 + 24);
  *(_OWORD *)((char *)a1 + v14 + 24) = v15;
  (**(void (***)(void))(v15 - 8))();
  uint64_t v16 = a3[13];
  long long v17 = *(_OWORD *)((char *)a2 + v16 + 24);
  *(_OWORD *)((char *)a1 + v16 + 24) = v17;
  (**(void (***)(void))(v17 - 8))();
  uint64_t v18 = a3[14];
  long long v19 = *(_OWORD *)((char *)a2 + v18 + 24);
  *(_OWORD *)((char *)a1 + v18 + 24) = v19;
  (**(void (***)(void))(v19 - 8))();
  v13((char *)a1 + a3[15], (char *)a2 + a3[15], v12);
  uint64_t v20 = a3[16];
  long long v21 = *(_OWORD *)((char *)a2 + v20 + 24);
  *(_OWORD *)((char *)a1 + v20 + 24) = v21;
  (**(void (***)(void))(v21 - 8))();
  uint64_t v22 = a3[17];
  long long v23 = *(_OWORD *)((char *)a2 + v22 + 24);
  *(_OWORD *)((char *)a1 + v22 + 24) = v23;
  (**(void (***)(void))(v23 - 8))();
  return a1;
}

void *assignWithCopy for ProductLockupAccessibilityLayout.Metrics(void *a1, void *a2, int *a3)
{
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  sub_100062A2C(a1 + 4, a2 + 4);
  sub_100062A2C(a1 + 9, a2 + 9);
  a1[14] = a2[14];
  a1[15] = a2[15];
  uint64_t v6 = a3[8];
  long long v7 = (char *)a1 + v6;
  long long v8 = (char *)a2 + v6;
  uint64_t v9 = sub_100082C28(&qword_10098A9C0);
  uint64_t v10 = *(void (**)(char *, char *, uint64_t))(*(void *)(v9 - 8) + 24);
  v10(v7, v8, v9);
  v10((char *)a1 + a3[9], (char *)a2 + a3[9], v9);
  v10((char *)a1 + a3[10], (char *)a2 + a3[10], v9);
  v10((char *)a1 + a3[11], (char *)a2 + a3[11], v9);
  sub_100062A2C((void *)((char *)a1 + a3[12]), (void *)((char *)a2 + a3[12]));
  sub_100062A2C((void *)((char *)a1 + a3[13]), (void *)((char *)a2 + a3[13]));
  sub_100062A2C((void *)((char *)a1 + a3[14]), (void *)((char *)a2 + a3[14]));
  v10((char *)a1 + a3[15], (char *)a2 + a3[15], v9);
  sub_100062A2C((void *)((char *)a1 + a3[16]), (void *)((char *)a2 + a3[16]));
  sub_100062A2C((void *)((char *)a1 + a3[17]), (void *)((char *)a2 + a3[17]));
  return a1;
}

uint64_t initializeWithTake for ProductLockupAccessibilityLayout.Metrics(uint64_t a1, uint64_t a2, int *a3)
{
  long long v6 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v6;
  long long v7 = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 48) = v7;
  *(void *)(a1 + 64) = *(void *)(a2 + 64);
  *(_OWORD *)(a1 + 72) = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 88) = *(_OWORD *)(a2 + 88);
  *(void *)(a1 + 104) = *(void *)(a2 + 104);
  uint64_t v8 = a3[8];
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  *(_OWORD *)(a1 + 112) = *(_OWORD *)(a2 + 112);
  uint64_t v11 = sub_100082C28(&qword_10098A9C0);
  uint64_t v12 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 32);
  v12(v9, v10, v11);
  v12(a1 + a3[9], a2 + a3[9], v11);
  v12(a1 + a3[10], a2 + a3[10], v11);
  v12(a1 + a3[11], a2 + a3[11], v11);
  uint64_t v13 = a3[12];
  uint64_t v14 = a3[13];
  uint64_t v15 = a1 + v13;
  uint64_t v16 = a2 + v13;
  *(void *)(v15 + 32) = *(void *)(v16 + 32);
  long long v17 = *(_OWORD *)(v16 + 16);
  *(_OWORD *)uint64_t v15 = *(_OWORD *)v16;
  *(_OWORD *)(v15 + 16) = v17;
  uint64_t v18 = a1 + v14;
  uint64_t v19 = a2 + v14;
  *(void *)(v18 + 32) = *(void *)(v19 + 32);
  long long v20 = *(_OWORD *)(v19 + 16);
  *(_OWORD *)uint64_t v18 = *(_OWORD *)v19;
  *(_OWORD *)(v18 + 16) = v20;
  uint64_t v21 = a3[14];
  uint64_t v22 = a3[15];
  uint64_t v23 = a1 + v21;
  long long v24 = (long long *)(a2 + v21);
  long long v25 = *v24;
  long long v26 = v24[1];
  *(void *)(v23 + 32) = *((void *)v24 + 4);
  *(_OWORD *)uint64_t v23 = v25;
  *(_OWORD *)(v23 + 16) = v26;
  v12(a1 + v22, a2 + v22, v11);
  uint64_t v27 = a3[16];
  uint64_t v28 = a3[17];
  uint64_t v29 = a1 + v27;
  uint64_t v30 = a2 + v27;
  long long v31 = *(_OWORD *)(v30 + 16);
  *(_OWORD *)uint64_t v29 = *(_OWORD *)v30;
  *(_OWORD *)(v29 + 16) = v31;
  *(void *)(v29 + 32) = *(void *)(v30 + 32);
  uint64_t v32 = a1 + v28;
  uint64_t v33 = a2 + v28;
  long long v34 = *(_OWORD *)(v33 + 16);
  *(_OWORD *)uint64_t v32 = *(_OWORD *)v33;
  *(_OWORD *)(v32 + 16) = v34;
  *(void *)(v32 + 32) = *(void *)(v33 + 32);
  return a1;
}

uint64_t assignWithTake for ProductLockupAccessibilityLayout.Metrics(uint64_t a1, uint64_t a2, int *a3)
{
  long long v6 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v6;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 32);
  long long v7 = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  *(_OWORD *)(a1 + 48) = v7;
  *(void *)(a1 + 64) = *(void *)(a2 + 64);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 72);
  *(_OWORD *)(a1 + 72) = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 88) = *(_OWORD *)(a2 + 88);
  *(void *)(a1 + 104) = *(void *)(a2 + 104);
  *(_OWORD *)(a1 + 112) = *(_OWORD *)(a2 + 112);
  uint64_t v8 = a3[8];
  uint64_t v9 = a1 + v8;
  uint64_t v10 = a2 + v8;
  uint64_t v11 = sub_100082C28(&qword_10098A9C0);
  uint64_t v12 = *(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v11 - 8) + 40);
  v12(v9, v10, v11);
  v12(a1 + a3[9], a2 + a3[9], v11);
  v12(a1 + a3[10], a2 + a3[10], v11);
  v12(a1 + a3[11], a2 + a3[11], v11);
  uint64_t v13 = a3[12];
  uint64_t v14 = a1 + v13;
  uint64_t v15 = a2 + v13;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v13);
  long long v16 = *(_OWORD *)(v15 + 16);
  *(_OWORD *)uint64_t v14 = *(_OWORD *)v15;
  *(_OWORD *)(v14 + 16) = v16;
  *(void *)(v14 + 32) = *(void *)(v15 + 32);
  uint64_t v17 = a3[13];
  uint64_t v18 = a1 + v17;
  uint64_t v19 = a2 + v17;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v17);
  long long v20 = *(_OWORD *)(v19 + 16);
  *(_OWORD *)uint64_t v18 = *(_OWORD *)v19;
  *(_OWORD *)(v18 + 16) = v20;
  *(void *)(v18 + 32) = *(void *)(v19 + 32);
  uint64_t v21 = a3[14];
  uint64_t v22 = a1 + v21;
  uint64_t v23 = a2 + v21;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v21);
  long long v24 = *(_OWORD *)(v23 + 16);
  *(_OWORD *)uint64_t v22 = *(_OWORD *)v23;
  *(_OWORD *)(v22 + 16) = v24;
  *(void *)(v22 + 32) = *(void *)(v23 + 32);
  v12(a1 + a3[15], a2 + a3[15], v11);
  uint64_t v25 = a3[16];
  uint64_t v26 = a1 + v25;
  uint64_t v27 = a2 + v25;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v25);
  long long v28 = *(_OWORD *)(v27 + 16);
  *(_OWORD *)uint64_t v26 = *(_OWORD *)v27;
  *(_OWORD *)(v26 + 16) = v28;
  *(void *)(v26 + 32) = *(void *)(v27 + 32);
  uint64_t v29 = a3[17];
  uint64_t v30 = a1 + v29;
  uint64_t v31 = a2 + v29;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + v29);
  long long v32 = *(_OWORD *)(v31 + 16);
  *(_OWORD *)uint64_t v30 = *(_OWORD *)v31;
  *(_OWORD *)(v30 + 16) = v32;
  *(void *)(v30 + 32) = *(void *)(v31 + 32);
  return a1;
}

uint64_t getEnumTagSinglePayload for ProductLockupAccessibilityLayout.Metrics(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_100333E2C);
}

uint64_t sub_100333E2C(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (a2 == 0x7FFFFFFF)
  {
    unint64_t v4 = *(void *)(a1 + 56);
    if (v4 >= 0xFFFFFFFF) {
      LODWORD(v4) = -1;
    }
    return (v4 + 1);
  }
  else
  {
    uint64_t v8 = sub_100082C28(&qword_10098A9C0);
    uint64_t v9 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 48);
    uint64_t v10 = v8;
    uint64_t v11 = a1 + *(int *)(a3 + 32);
    return v9(v11, a2, v10);
  }
}

uint64_t storeEnumTagSinglePayload for ProductLockupAccessibilityLayout.Metrics(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_100333EF4);
}

uint64_t sub_100333EF4(uint64_t result, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t v5 = result;
  if (a3 == 0x7FFFFFFF)
  {
    *(void *)(result + 56) = (a2 - 1);
  }
  else
  {
    uint64_t v7 = sub_100082C28(&qword_10098A9C0);
    uint64_t v8 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v7 - 8) + 56);
    uint64_t v9 = v7;
    uint64_t v10 = v5 + *(int *)(a4 + 32);
    return v8(v10, a2, a2, v9);
  }
  return result;
}

void sub_100333FA0()
{
  sub_10033405C();
  if (v0 <= 0x3F) {
    swift_initStructMetadata();
  }
}

void sub_10033405C()
{
  if (!qword_1009A8920)
  {
    sub_100078F30(&qword_100985B80);
    unint64_t v0 = type metadata accessor for Conditional();
    if (!v1) {
      atomic_store(v0, (unint64_t *)&qword_1009A8920);
    }
  }
}

char *sub_1003340C0(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = type metadata accessor for CornerStyle();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v31 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_formattedDatePlaceholder;
  type metadata accessor for Placeholder();
  uint64_t v14 = v4;
  uint64_t v15 = static Placeholder.titleText.getter();
  uint64_t v17 = v16;
  if (qword_10097F808 != -1) {
    swift_once();
  }
  uint64_t v18 = type metadata accessor for FontUseCase();
  uint64_t v19 = sub_100087728(v18, (uint64_t)qword_1009E5270);
  id v20 = sub_1002B513C(v15, v17, v19);
  swift_bridgeObjectRelease();
  *(void *)&v14[v13] = v20;
  uint64_t v21 = OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_appEventPlaceholder;
  (*(void (**)(char *, void, uint64_t))(v10 + 104))(v12, enum case for CornerStyle.continuous(_:), v9);
  type metadata accessor for RoundedCornerView();
  id v22 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v23 = self;
  id v24 = v22;
  id v25 = [v23 secondarySystemBackgroundColor];
  [v24 setBackgroundColor:v25];

  dispatch thunk of RoundedCornerView.setCorner(radius:style:)();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  *(void *)&v14[v21] = v24;

  uint64_t v26 = (objc_class *)type metadata accessor for AppEventPlaceholderView();
  v31.receiver = v14;
  v31.super_class = v26;
  uint64_t v27 = (char *)[super initWithFrame:a1, a2, a3, a4];
  uint64_t v28 = *(void *)&v27[OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_formattedDatePlaceholder];
  uint64_t v29 = v27;
  [v29 addSubview:v28];
  [v29 addSubview:*(void *)&v29[OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_appEventPlaceholder]];

  return v29;
}

uint64_t sub_1003343A8()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for LayoutRect();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = &v21[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  long long v6 = (objc_class *)type metadata accessor for AppEventPlaceholderView();
  v30.receiver = v0;
  v30.super_class = v6;
  [super layoutSubviews];
  LayoutMarginsAware<>.layoutFrame.getter();
  uint64_t result = CGRectIsEmpty(v31);
  if ((result & 1) == 0)
  {
    if (qword_10097E9C8 != -1) {
      swift_once();
    }
    sub_100043074((uint64_t)&unk_1009E2598, (uint64_t)v28);
    uint64_t v8 = *(void **)&v0[OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_formattedDatePlaceholder];
    _OWORD v27[3] = type metadata accessor for DynamicTypeLabel();
    v27[4] = &protocol witness table for UILabel;
    uint64_t v26 = 0;
    v27[0] = v8;
    memset(v25, 0, sizeof(v25));
    uint64_t v24 = 0;
    memset(v23, 0, sizeof(v23));
    uint64_t v22 = 0;
    memset(v21, 0, sizeof(v21));
    id v9 = v8;
    AppPromotionFormattedDateLayout.init(metrics:textLabel:liveIndicatorView:backgroundView:vibrancyView:)((uint64_t)v28, v27, (uint64_t)v25, (uint64_t)v23, (uint64_t)v21, v29);
    LayoutMarginsAware<>.layoutFrame.getter();
    AppPromotionFormattedDateLayout.placeChildren(relativeTo:in:)(v10, v11, v12, v13);
    (*(void (**)(unsigned char *, uint64_t))(v3 + 8))(v5, v2);
    LayoutMarginsAware<>.layoutFrame.getter();
    sub_100097D54(v1, v29, v14, v15);
    double v17 = v16;
    uint64_t v18 = *(void **)&v1[OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_appEventPlaceholder];
    LayoutMarginsAware<>.layoutFrame.getter();
    double MinX = CGRectGetMinX(v32);
    LayoutMarginsAware<>.layoutFrame.getter();
    double Width = CGRectGetWidth(v33);
    LayoutMarginsAware<>.layoutFrame.getter();
    [v18 setFrame:MinX, v17, Width, CGRectGetHeight(v34) - v17];
    return sub_1000431E4((uint64_t)v29);
  }
  return result;
}

id sub_10033463C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for AppEventPlaceholderView();
  return [super dealloc];
}

uint64_t type metadata accessor for AppEventPlaceholderView()
{
  return self;
}

void sub_1003346E0()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for CornerStyle();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v18 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_formattedDatePlaceholder;
  type metadata accessor for Placeholder();
  uint64_t v7 = static Placeholder.titleText.getter();
  uint64_t v9 = v8;
  if (qword_10097F808 != -1) {
    swift_once();
  }
  uint64_t v10 = type metadata accessor for FontUseCase();
  uint64_t v11 = sub_100087728(v10, (uint64_t)qword_1009E5270);
  id v12 = sub_1002B513C(v7, v9, v11);
  swift_bridgeObjectRelease();
  *(void *)&v1[v6] = v12;
  uint64_t v13 = OBJC_IVAR____TtC8AppStore23AppEventPlaceholderView_appEventPlaceholder;
  (*(void (**)(char *, void, uint64_t))(v3 + 104))(v5, enum case for CornerStyle.continuous(_:), v2);
  type metadata accessor for RoundedCornerView();
  id v14 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  double v15 = self;
  id v16 = v14;
  id v17 = [v15 secondarySystemBackgroundColor];
  [v16 setBackgroundColor:v17];

  dispatch thunk of RoundedCornerView.setCorner(radius:style:)();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  *(void *)&v1[v13] = v16;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_100334918(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v7 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v7 - 8);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100982860);
  *(void *)&double v9 = __chkstk_darwin(v8 - 8).n128_u64[0];
  uint64_t v11 = (char *)v21 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = OBJC_IVAR____TtC8AppStore16FooterLockupView_lockupView;
  uint64_t v13 = *(void **)&v3[OBJC_IVAR____TtC8AppStore16FooterLockupView_lockupView];
  if (v13
    || (id v14 = objc_msgSend(v4, "traitCollection", v9),
        double v15 = sub_100285CEC(v14),
        v14,
        sub_100285048(v15),
        sub_100285054(0),
        (uint64_t v13 = *(void **)&v4[v12]) != 0))
  {
    uint64_t v16 = sub_100082C28((uint64_t *)&unk_10098AC20);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v11, 1, 1, v16);
    id v17 = v13;
    sub_1001ADDC8(a1, (uint64_t)v11, a3, 0, 0, 0);
    sub_100082BCC((uint64_t)v11, (uint64_t *)&unk_100982860);
    if (Lockup.icon.getter())
    {
      if (qword_10097E780 != -1) {
        swift_once();
      }
      uint64_t v18 = type metadata accessor for SmallLockupLayout.Metrics();
      sub_100087728(v18, (uint64_t)qword_1009E20B0);
      SmallLockupLayout.Metrics.artworkSize.getter();
      uint64_t v19 = *(void **)&v17[OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView];
      [v19 contentMode];
      Artwork.config(_:mode:prefersLayeredImage:)();
      id v20 = v19;
      Artwork.style.getter();
      ArtworkView.style.setter();
      [v20 setContentMode:Artwork.contentMode.getter()];
      ArtworkLoaderConfig.size.getter();
      ArtworkView.imageSize.setter();
      if (!Artwork.backgroundColor.getter())
      {
        sub_10008E8A0();
        static UIColor.placeholderBackground.getter();
      }
      ArtworkView.backgroundColor.setter();

      uint64_t v22 = 0;
      memset(v21, 0, sizeof(v21));
      swift_allocObject();
      swift_unknownObjectWeakInit();
      swift_retain();
      ArtworkLoader.fetchArtwork(using:forReason:closestMatch:handlerKey:completionHandler:)();
      swift_release();
      swift_release();
      swift_release();
      sub_100082BCC((uint64_t)v21, &qword_100981560);
      swift_release();
    }
    [v4 setNeedsLayout];
  }
}

void sub_100334C88(void *a1)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = (void *)Strong;
    id v4 = *(id *)(Strong + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);

    id v5 = a1;
    ArtworkView.image.setter();
  }
}

uint64_t sub_100334D10()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_100334D48(void *a1)
{
}

double sub_100334D50(uint64_t a1, double a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6, int a7, int a8, void *a9)
{
  int v67 = a8;
  int v68 = a7;
  double v70 = a6;
  uint64_t v66 = a5;
  uint64_t v65 = a4;
  uint64_t v64 = a1;
  uint64_t v78 = type metadata accessor for TitledParagraphLayout();
  uint64_t v77 = *(void *)(v78 - 8);
  __chkstk_darwin(v78);
  uint64_t v74 = (char *)&v62 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v75 = type metadata accessor for TitledParagraphLayout.Metrics();
  uint64_t v73 = *(void *)(v75 - 8);
  __chkstk_darwin(v75);
  CGFloat v71 = (char *)&v62 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  long long v62 = (char *)&v62 - v14;
  __chkstk_darwin(v15);
  CGFloat v72 = (char *)&v62 - v16;
  uint64_t v17 = type metadata accessor for LabelPlaceholderCompatibility();
  uint64_t v18 = *(void *)(v17 - 8);
  *(void *)&double v19 = __chkstk_darwin(v17).n128_u64[0];
  uint64_t v21 = (char *)&v62 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v76 = a9;
  id v22 = [a9 traitCollection];
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  if (qword_10097F298 != -1) {
    swift_once();
  }
  uint64_t v23 = type metadata accessor for FontUseCase();
  sub_100087728(v23, (uint64_t)qword_1009E4220);
  id v79 = v22;
  uint64_t v24 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();
  uint64_t v25 = type metadata accessor for Feature();
  uint64_t v88 = v25;
  uint64_t v63 = sub_100337554((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
  uint64_t v89 = v63;
  uint64_t v26 = sub_1000808B8(&v87);
  uint64_t v27 = enum case for Feature.measurement_with_labelplaceholder(_:);
  uint64_t v28 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v25 - 8) + 104);
  v28(v26, enum case for Feature.measurement_with_labelplaceholder(_:), v25);
  swift_bridgeObjectRetain();
  id v29 = v24;
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v87);
  LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
  LabelPlaceholderCompatibility.layoutTextView.getter();
  objc_super v30 = *(void (**)(char *, uint64_t))(v18 + 8);
  v30(v21, v17);
  uint64_t v85 = v25;
  uint64_t v86 = v63;
  CGRect v31 = sub_1000808B8(&v84);
  v28(v31, v27, v25);
  swift_bridgeObjectRetain();
  id v32 = v29;
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v84);
  LabelPlaceholderCompatibility.init(text:font:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:shouldUseLabelPlaceholder:)();
  LabelPlaceholderCompatibility.layoutTextView.getter();
  v30(v21, v17);
  char v33 = 0;
  char v34 = v67;
  if ((v67 & 1) == 0) {
    char v33 = static TitledParagraphLayout.isMultiColumn(compatibleWith:)();
  }
  uint64_t v35 = swift_allocObject();
  *(unsigned char *)(v35 + 16) = v33 & 1;
  uint64_t v36 = v76;
  *(void *)(v35 + 24) = v69;
  *(void *)(v35 + 32) = v36;
  *(unsigned char *)(v35 + 40) = v68 & 1;
  long long v37 = v70;
  *(void *)(v35 + 48) = v70;
  uint64_t v38 = type metadata accessor for LayoutViewPlaceholder();
  swift_allocObject();
  id v39 = v37;
  swift_unknownObjectRetain();
  uint64_t v40 = LayoutViewPlaceholder.init(measureWith:)();
  v83[3] = v38;
  v83[4] = &protocol witness table for LayoutViewPlaceholder;
  v83[0] = v40;
  uint64_t v41 = v73;
  if (v33)
  {
    uint64_t v42 = v75;
    if (qword_10097EA60 != -1) {
      swift_once();
    }
    uint64_t v43 = sub_100087728(v42, (uint64_t)qword_1009E2B38);
    uint64_t v44 = *(void (**)(char *, uint64_t, uint64_t))(v41 + 16);
    long long v45 = v72;
    v44(v72, v43, v42);
    sub_10033759C(v36, a2);
    TitledParagraphLayout.Metrics.columnWidth.setter();
    [v36 pageMarginInsets];
    TitledParagraphLayout.Metrics.columnMargin.setter();
  }
  else
  {
    uint64_t v42 = v75;
    if (v34)
    {
      long long v45 = v72;
      uint64_t v46 = v62;
      if (qword_10097EA68 != -1) {
        swift_once();
      }
      long long v47 = qword_1009E2B50;
    }
    else
    {
      long long v45 = v72;
      uint64_t v46 = v62;
      if (qword_10097EA58 != -1) {
        swift_once();
      }
      long long v47 = qword_1009E2B20;
    }
    uint64_t v48 = sub_100087728(v42, (uint64_t)v47);
    uint64_t v44 = *(void (**)(char *, uint64_t, uint64_t))(v41 + 16);
    v44(v46, v48, v42);
    (*(void (**)(char *, char *, uint64_t))(v41 + 32))(v45, v46, v42);
  }
  v44(v71, (uint64_t)v45, v42);
  uint64_t v49 = v88;
  uint64_t v50 = v89;
  long long v51 = sub_100081D90(&v87, v88);
  v82[3] = v49;
  v82[4] = *(void *)(v50 + 8);
  long long v52 = sub_1000808B8(v82);
  (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v49 - 8) + 16))(v52, v51, v49);
  uint64_t v53 = v85;
  uint64_t v54 = v86;
  uint64_t v55 = sub_100081D90(&v84, v85);
  v81[3] = v53;
  v81[4] = *(void *)(v54 + 8);
  long long v56 = sub_1000808B8(v81);
  (*(void (**)(uint64_t *, void *, uint64_t))(*(void *)(v53 - 8) + 16))(v56, v55, v53);
  sub_100082C6C((uint64_t)v83, (uint64_t)v80);
  uint64_t v57 = v74;
  TitledParagraphLayout.init(metrics:allowsMultiColumn:primaryText:secondaryText:bodyText:)();
  sub_100337554((unint64_t *)&unk_100990DD0, (void (*)(uint64_t))&type metadata accessor for TitledParagraphLayout);
  uint64_t v58 = v78;
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v60 = v59;

  (*(void (**)(char *, uint64_t))(v77 + 8))(v57, v58);
  (*(void (**)(char *, uint64_t))(v41 + 8))(v45, v42);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v83);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v84);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v87);
  return v60;
}

uint64_t sub_100335640()
{
  uint64_t v0 = sub_100082C28(&qword_100990DE0);
  sub_100042444(v0, qword_1009E2B00);
  sub_100087728(v0, (uint64_t)qword_1009E2B00);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

void sub_1003356CC()
{
  qword_1009E2B18 = 0x4014000000000000;
}

uint64_t sub_1003356DC(uint64_t a1)
{
  return sub_100335934(a1, qword_1009E2B20);
}

uint64_t sub_1003356F0()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v9 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for TitledParagraphLayout.Metrics();
  sub_100042444(v4, qword_1009E2B38);
  sub_100087728(v4, (uint64_t)qword_1009E2B38);
  if (qword_10097F298 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4220);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v12[3] = type metadata accessor for StaticDimension();
  v12[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v12);
  uint64_t v10 = v0;
  uint64_t v11 = &protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v9);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  uint64_t v10 = type metadata accessor for ZeroDimension();
  uint64_t v11 = &protocol witness table for ZeroDimension;
  sub_1000808B8(v9);
  static ZeroDimension.zero.getter();
  return TitledParagraphLayout.Metrics.init(textSpace:bodyTopSpace:columnWidth:columnMargin:)();
}

uint64_t sub_100335920(uint64_t a1)
{
  return sub_100335934(a1, qword_1009E2B50);
}

uint64_t sub_100335934(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  uint64_t v18 = *(void *)(v7 - 8);
  uint64_t v19 = v7;
  __chkstk_darwin(v7);
  double v9 = (char *)&v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for TitledParagraphLayout.Metrics();
  sub_100042444(v10, a2);
  uint64_t v20 = sub_100087728(v10, (uint64_t)a2);
  if (qword_10097F298 != -1) {
    swift_once();
  }
  uint64_t v11 = type metadata accessor for FontUseCase();
  uint64_t v17 = sub_100087728(v11, (uint64_t)qword_1009E4220);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v11 - 8) + 16);
  v12(v6, v17, v11);
  uint64_t v13 = enum case for FontSource.useCase(_:);
  uint64_t v14 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 104);
  v14(v6, enum case for FontSource.useCase(_:), v3);
  Conditional<>.init(accessibleLayoutConstant:regularLayoutConstant:source:)();
  Conditional<>.anyDimension.getter();
  (*(void (**)(char *, uint64_t))(v18 + 8))(v9, v19);
  v12(v6, v17, v11);
  v14(v6, v13, v3);
  v22[3] = type metadata accessor for StaticDimension();
  v22[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v22);
  v21[3] = v3;
  void v21[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v15 = sub_1000808B8(v21);
  (*(void (**)(uint64_t *, char *, uint64_t))(v4 + 16))(v15, v6, v3);
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  return TitledParagraphLayout.Metrics.init(textSpace:bodyTopSpace:columnWidth:columnMargin:)();
}

char *sub_100335C40(double a1, double a2, double a3, double a4)
{
  uint64_t v79 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v77 = *(void *)(v79 - 8);
  __chkstk_darwin(v79);
  uint64_t v78 = &v70[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v10 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v10 - 8);
  uint64_t v12 = &v70[-((v11 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v13 = type metadata accessor for Separator.Position();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = &v70[-((v15 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v17 = type metadata accessor for Separator();
  uint64_t v18 = *(void *)(v17 - 8);
  __n128 v19 = __chkstk_darwin(v17);
  uint64_t v21 = &v70[-((v20 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v22 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_separatorView;
  (*(void (**)(unsigned char *, void, uint64_t, __n128))(v14 + 104))(v16, enum case for Separator.Position.bottom(_:), v13, v19);
  v83[3] = type metadata accessor for ZeroDimension();
  v83[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v83);
  uint64_t v23 = v4;
  static ZeroDimension.zero.getter();
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
  uint64_t v24 = [(char *)objc_allocWithZone((Class)type metadata accessor for SeparatorView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v25 = &v24[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
  swift_beginAccess();
  (*(void (**)(char *, unsigned char *, uint64_t))(v18 + 40))(v25, v21, v17);
  swift_endAccess();
  *(void *)&v4[v22] = v24;
  uint64_t v26 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView;
  uint64_t v80 = sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  uint64_t v27 = (void *)static UIColor.defaultBackground.getter();
  id v28 = objc_allocWithZone((Class)type metadata accessor for ExpandableTextView());
  *(void *)&v23[v26] = sub_1005C6EE0(v27, 0.0, 0.0, 0.0, 0.0);
  uint64_t v75 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel;
  uint64_t v76 = v23;
  if (qword_10097F298 != -1) {
    swift_once();
  }
  uint64_t v29 = type metadata accessor for FontUseCase();
  uint64_t v30 = sub_100087728(v29, (uint64_t)qword_1009E4220);
  uint64_t v31 = *(void *)(v29 - 8);
  uint64_t v73 = *(void (**)(unsigned char *, uint64_t, uint64_t))(v31 + 16);
  uint64_t v74 = v30;
  v73(v12, v30, v29);
  CGFloat v72 = *(void (**)(unsigned char *, void, uint64_t, uint64_t))(v31 + 56);
  v72(v12, 0, 1, v29);
  unsigned int v71 = enum case for DirectionalTextAlignment.none(_:);
  id v32 = v78;
  uint64_t v77 = *(void *)(v77 + 104);
  uint64_t v33 = v79;
  ((void (*)(unsigned char *))v77)(v78);
  char v34 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  id v35 = objc_allocWithZone(v34);
  uint64_t v36 = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  long long v37 = v76;
  *(void *)&v76[v75] = v36;
  uint64_t v75 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel;
  v73(v12, v74, v29);
  v72(v12, 0, 1, v29);
  ((void (*)(unsigned char *, void, uint64_t))v77)(v32, v71, v33);
  id v38 = objc_allocWithZone(v34);
  *(void *)&v37[v75] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  id v39 = &v37[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_itemLayoutContext];
  uint64_t v40 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v40 - 8) + 56))(v39, 1, 1, v40);
  v37[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_useDetailPageStyling] = 0;
  *(void *)&v37[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_pageTraits] = 0;

  uint64_t v41 = (objc_class *)type metadata accessor for TitledParagraphCollectionViewCell();
  v82.receiver = v37;
  v82.super_class = v41;
  uint64_t v42 = (char *)[v82 initWithFrame:a1 a2:a2 a3:a3 a4:a4];
  id v43 = [v42 contentView];
  [v43 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v44 = [v42 contentView];
  long long v45 = (void *)static UIColor.defaultBackground.getter();
  [v44 setBackgroundColor:v45];

  id v46 = [v42 contentView];
  [v46 addSubview:*(void *)&v42[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_separatorView]];

  uint64_t v47 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel;
  id v48 = *(id *)&v42[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel];
  uint64_t v49 = (void *)static UIColor.secondaryText.getter();
  [v48 setTextColor:v49];

  id v50 = *(id *)&v42[v47];
  long long v51 = (void *)static UIColor.defaultBackground.getter();
  [v50 setBackgroundColor:v51];

  long long v52 = *(void **)&v42[v47];
  [v52 setNumberOfLines:1];
  id v53 = [v42 contentView];
  [v53 addSubview:v52];

  uint64_t v54 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel;
  id v55 = *(id *)&v42[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel];
  long long v56 = (void *)static UIColor.secondaryText.getter();
  [v55 setTextColor:v56];

  id v57 = *(id *)&v42[v54];
  uint64_t v58 = (void *)static UIColor.defaultBackground.getter();
  [v57 setBackgroundColor:v58];

  id v59 = [v42 contentView];
  [v59 addSubview:*(void *)&v42[v54]];

  uint64_t v60 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView;
  uint64_t v61 = *(void *)&v42[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView];
  if (qword_10097EA48 != -1) {
    swift_once();
  }
  uint64_t v62 = sub_100082C28(&qword_100990DE0);
  sub_100087728(v62, (uint64_t)qword_1009E2B00);
  unint64_t v81 = v42;
  Conditional.evaluate(with:)();
  uint64_t v63 = v83[0];
  uint64_t v64 = OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines;
  uint64_t v65 = *(void *)(v61 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines);
  *(void *)(v61 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines) = v83[0];
  uint64_t v66 = OBJC_IVAR____TtC8AppStore18ExpandableTextView_isCollapsed;
  if (*(unsigned char *)(v61 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_isCollapsed) == 1)
  {
    [*(id *)(v61 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_textLabel) setNumberOfLines:];
    uint64_t v63 = *(void *)(v61 + v64);
  }
  if (v63 != v65 && (*(unsigned char *)(v61 + v66) & 1) != 0) {
    sub_1005C7EBC();
  }
  id v67 = [v42 contentView];
  id v68 = *(id *)&v42[v60];
  [v67 addSubview:v68];

  return v42;
}

id sub_100336574()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v15 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel];
  if (v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_useDetailPageStyling] == 1)
  {
    if (qword_10097F2A0 != -1) {
      swift_once();
    }
    uint64_t v6 = type metadata accessor for FontUseCase();
    uint64_t v7 = sub_100087728(v6, (uint64_t)qword_1009E4238);
    uint64_t v8 = *(void *)(v6 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v4, v7, v6);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v4, 0, 1, v6);
    dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    uint64_t v9 = static UIColor.primaryText.getter();
  }
  else
  {
    if (qword_10097F298 != -1) {
      swift_once();
    }
    uint64_t v10 = type metadata accessor for FontUseCase();
    uint64_t v11 = sub_100087728(v10, (uint64_t)qword_1009E4220);
    uint64_t v12 = *(void *)(v10 - 8);
    (*(void (**)(char *, uint64_t, uint64_t))(v12 + 16))(v4, v11, v10);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v12 + 56))(v4, 0, 1, v10);
    dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    uint64_t v9 = static UIColor.secondaryText.getter();
  }
  uint64_t v13 = (void *)v9;
  [v5 setTextColor:v9];

  return [v1 setNeedsLayout];
}

void *sub_100336800()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for LayoutRect();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  id v67 = (char *)&v60 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v68 = type metadata accessor for TitledParagraphLayout();
  uint64_t v66 = *(void *)(v68 - 8);
  __chkstk_darwin(v68);
  uint64_t v65 = (char *)&v60 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for TitledParagraphLayout.Metrics();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v64 = (char *)&v60 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v60 - v10;
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v60 - v13;
  uint64_t v15 = type metadata accessor for Separator();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v60 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __n128 v19 = (objc_class *)type metadata accessor for TitledParagraphCollectionViewCell();
  v78.receiver = v1;
  v78.super_class = v19;
  [super layoutSubviews];
  uint64_t result = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_pageTraits];
  if (result)
  {
    uint64_t v61 = v3;
    uint64_t v62 = v2;
    uint64_t v21 = *(char **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_separatorView];
    uint64_t v63 = result;
    swift_unknownObjectRetain();
    [v1 bounds];
    uint64_t v22 = &v21[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
    swift_beginAccess();
    (*(void (**)(char *, char *, uint64_t))(v16 + 16))(v18, v22, v15);
    Separator.frame(forBoundingRect:in:)();
    double v24 = v23;
    double v26 = v25;
    double v28 = v27;
    double v30 = v29;
    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
    [v21 setFrame:v24, v26, v28, v30];
    id v31 = [v1 contentView];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v33 = v32;
    CGFloat v35 = v34;
    CGFloat v37 = v36;
    CGFloat v39 = v38;

    id v40 = [v1 traitCollection];
    uint64_t v41 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_useDetailPageStyling;
    char v42 = v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_useDetailPageStyling];
    id v60 = v40;
    if ((v42 & 1) != 0 || (static TitledParagraphLayout.isMultiColumn(compatibleWith:)() & 1) == 0)
    {
      char v49 = UITraitCollection.prefersAccessibilityLayouts.getter();
      id v43 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel];
      [v43 setTextAlignment:0];
      id v44 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel];
      if (v49) {
        uint64_t v50 = 0;
      }
      else {
        uint64_t v50 = 2;
      }
      [*(id *)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel] setTextAlignment:v50];
      if (v1[v41] == 1)
      {
        if (qword_10097EA68 != -1) {
          swift_once();
        }
        long long v51 = qword_1009E2B50;
      }
      else
      {
        if (qword_10097EA58 != -1) {
          swift_once();
        }
        long long v51 = qword_1009E2B20;
      }
      uint64_t v52 = sub_100087728(v6, (uint64_t)v51);
      uint64_t v47 = *(void (**)(char *, uint64_t, uint64_t))(v7 + 16);
      v47(v11, v52, v6);
      (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v14, v11, v6);
    }
    else
    {
      id v43 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel];
      [v43 setTextAlignment:2 v60];
      id v44 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel];
      [v44 setTextAlignment:2];
      v79.origin.CGFloat x = v33;
      v79.origin.CGFloat y = v35;
      v79.size.CGFloat width = v37;
      v79.size.CGFloat height = v39;
      double Width = CGRectGetWidth(v79);
      if (qword_10097EA60 != -1) {
        swift_once();
      }
      uint64_t v46 = sub_100087728(v6, (uint64_t)qword_1009E2B38);
      uint64_t v47 = *(void (**)(char *, uint64_t, uint64_t))(v7 + 16);
      v47(v14, v46, v6);
      id v48 = v63;
      sub_10033759C(v63, Width);
      TitledParagraphLayout.Metrics.columnWidth.setter();
      [v48 pageMarginInsets];
      TitledParagraphLayout.Metrics.columnMargin.setter();
    }
    v47(v64, (uint64_t)v14, v6);
    uint64_t v76 = type metadata accessor for DynamicTypeLabel();
    uint64_t v77 = &protocol witness table for UIView;
    uint64_t v74 = &protocol witness table for UIView;
    uint64_t v75 = v43;
    uint64_t v73 = v76;
    CGFloat v72 = v44;
    id v53 = *(void **)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView];
    uint64_t v54 = type metadata accessor for ExpandableTextView();
    unsigned int v71 = &protocol witness table for UIView;
    uint64_t v70 = v54;
    uint64_t v69 = v53;
    id v55 = v43;
    id v56 = v44;
    id v57 = v53;
    uint64_t v58 = v65;
    TitledParagraphLayout.init(metrics:allowsMultiColumn:primaryText:secondaryText:bodyText:)();
    id v59 = v67;
    TitledParagraphLayout.placeChildren(relativeTo:in:)();
    swift_unknownObjectRelease();

    (*(void (**)(char *, uint64_t))(v61 + 8))(v59, v62);
    (*(void (**)(char *, uint64_t))(v66 + 8))(v58, v68);
    return (void *)(*(uint64_t (**)(char *, uint64_t))(v7 + 8))(v14, v6);
  }
  return result;
}

void sub_100336FD0(id a1, char a2, double a3, double a4, uint64_t a5, void *a6, char a7, void *a8)
{
  if (a2)
  {
    id v14 = [a1 traitCollection];
    char v15 = static TitledParagraphLayout.isMultiColumn(compatibleWith:)();

    if (v15)
    {
      double v16 = sub_10033759C(a6, a3);
      [a6 pageMarginInsets];
      a3 = a3 - (v16 + v17);
    }
  }
  if (a7)
  {
    if (qword_10097EA48 != -1) {
      swift_once();
    }
    uint64_t v18 = sub_100082C28(&qword_100990DE0);
    sub_100087728(v18, (uint64_t)qword_1009E2B00);
    Conditional.evaluate(with:)();
    uint64_t v19 = v23;
  }
  else
  {
    uint64_t v19 = 0;
  }
  type metadata accessor for ExpandableTextView();
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  swift_getObjectType();
  sub_1005C8D84(a8, a7 & 1, v19, a1, UIEdgeInsetsZero.top, left, bottom, right, a3, a4);
}

id sub_10033715C(uint64_t a1)
{
  v12.receiver = v1;
  v12.super_class = (Class)type metadata accessor for TitledParagraphCollectionViewCell();
  [super traitCollectionDidChange:a1];
  uint64_t v3 = *(void *)&v1[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView];
  if (qword_10097EA48 != -1) {
    swift_once();
  }
  uint64_t v4 = sub_100082C28(&qword_100990DE0);
  sub_100087728(v4, (uint64_t)qword_1009E2B00);
  uint64_t v10 = v1;
  id result = (id)Conditional.evaluate(with:)();
  uint64_t v6 = v11;
  uint64_t v7 = OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines;
  uint64_t v8 = *(void *)(v3 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines);
  *(void *)(v3 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_collapsedNumberOfLines) = v11;
  uint64_t v9 = OBJC_IVAR____TtC8AppStore18ExpandableTextView_isCollapsed;
  if (*(unsigned char *)(v3 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_isCollapsed) == 1)
  {
    id result = [*(id *)(v3 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_textLabel) setNumberOfLines:v10];
    uint64_t v6 = *(void *)(v3 + v7);
  }
  if (v6 != v8 && (*(unsigned char *)(v3 + v9) & 1) != 0) {
    return sub_1005C7EBC();
  }
  return result;
}

id sub_100337320()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for TitledParagraphCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_1003373E4()
{
  return type metadata accessor for TitledParagraphCollectionViewCell();
}

uint64_t type metadata accessor for TitledParagraphCollectionViewCell()
{
  uint64_t result = qword_100990DB8;
  if (!qword_100990DB8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_100337438()
{
  sub_1000A1880();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

id sub_1003374F0()
{
  return *(id *)(v0 + OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView);
}

uint64_t sub_100337500()
{
  swift_unknownObjectRelease();

  return _swift_deallocObject(v0, 56, 7);
}

void sub_100337540(void *a1, double a2, double a3)
{
  sub_100336FD0(a1, *(unsigned char *)(v3 + 16), a2, a3, *(void *)(v3 + 24), *(void **)(v3 + 32), *(unsigned char *)(v3 + 40), *(void **)(v3 + 48));
}

uint64_t sub_100337554(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

double sub_10033759C(void *a1, double a2)
{
  uint64_t v4 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v21 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v21 - v9;
  if (qword_10097EA50 != -1) {
    swift_once();
  }
  double v11 = *(double *)&qword_1009E2B18;
  double v12 = *(double *)&qword_1009E2B18 + -1.0;
  [a1 pageMarginInsets];
  double v14 = (a2 - v12 * v13) / v11;
  static Dimensions.defaultRoundingRule.getter();
  double v22 = v14;
  (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v10, v4);
  int v15 = (*(uint64_t (**)(char *, uint64_t))(v5 + 88))(v7, v4);
  if (v15 == enum case for FloatingPointRoundingRule.toNearestOrAwayFromZero(_:))
  {
    double v16 = round(v14);
LABEL_13:
    (*(void (**)(char *, uint64_t))(v5 + 8))(v10, v4);
    return v16;
  }
  if (v15 == enum case for FloatingPointRoundingRule.toNearestOrEven(_:))
  {
    double v16 = rint(v14);
    goto LABEL_13;
  }
  if (v15 == enum case for FloatingPointRoundingRule.up(_:))
  {
    double v16 = ceil(v14);
    goto LABEL_13;
  }
  if (v15 == enum case for FloatingPointRoundingRule.down(_:))
  {
    double v16 = floor(v14);
    goto LABEL_13;
  }
  if (v15 == enum case for FloatingPointRoundingRule.towardZero(_:))
  {
    double v16 = trunc(v14);
    goto LABEL_13;
  }
  if (v15 == enum case for FloatingPointRoundingRule.awayFromZero(_:))
  {
    (*(void (**)(char *, uint64_t))(v5 + 8))(v10, v4);
    double v18 = ceil(v14);
    double v19 = floor(v14);
    if (v14 < 0.0) {
      return v19;
    }
    else {
      return v18;
    }
  }
  else
  {
    Double._roundSlowPath(_:)();
    uint64_t v20 = *(void (**)(char *, uint64_t))(v5 + 8);
    v20(v10, v4);
    v20(v7, v4);
    return v22;
  }
}

void sub_10033784C()
{
  uint64_t v1 = v0;
  uint64_t v43 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v41 = *(void *)(v43 - 8);
  __chkstk_darwin(v43);
  char v42 = &v35[-((v2 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v3 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = &v35[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v6 = type metadata accessor for Separator.Position();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = &v35[-((v8 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v10 = type metadata accessor for Separator();
  uint64_t v11 = *(void *)(v10 - 8);
  __n128 v12 = __chkstk_darwin(v10);
  double v14 = &v35[-((v13 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v15 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_separatorView;
  (*(void (**)(unsigned char *, void, uint64_t, __n128))(v7 + 104))(v9, enum case for Separator.Position.bottom(_:), v6, v12);
  v45[3] = type metadata accessor for ZeroDimension();
  void v45[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v45);
  static ZeroDimension.zero.getter();
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
  double v16 = [objc_allocWithZone((Class)type metadata accessor for SeparatorView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  double v17 = &v16[OBJC_IVAR____TtC8AppStore13SeparatorView_separator];
  swift_beginAccess();
  (*(void (**)(char *, unsigned char *, uint64_t))(v11 + 40))(v17, v14, v10);
  swift_endAccess();
  *(void *)&v1[v15] = v16;
  uint64_t v18 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_bodyTextView;
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  double v19 = (void *)static UIColor.defaultBackground.getter();
  id v20 = objc_allocWithZone((Class)type metadata accessor for ExpandableTextView());
  uint64_t v21 = sub_1005C6EE0(v19, 0.0, 0.0, 0.0, 0.0);
  id v44 = v1;
  *(void *)&v1[v18] = v21;
  uint64_t v40 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_primarySubtitleLabel;
  if (qword_10097F298 != -1) {
    swift_once();
  }
  uint64_t v22 = type metadata accessor for FontUseCase();
  uint64_t v23 = sub_100087728(v22, (uint64_t)qword_1009E4220);
  uint64_t v24 = *(void *)(v22 - 8);
  double v38 = *(void (**)(unsigned char *, uint64_t, uint64_t))(v24 + 16);
  uint64_t v39 = v23;
  v38(v5, v23, v22);
  CGFloat v37 = *(void (**)(unsigned char *, void, uint64_t, uint64_t))(v24 + 56);
  v37(v5, 0, 1, v22);
  unsigned int v36 = enum case for DirectionalTextAlignment.none(_:);
  double v25 = v42;
  uint64_t v41 = *(void *)(v41 + 104);
  uint64_t v26 = v43;
  ((void (*)(unsigned char *))v41)(v42);
  double v27 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  id v28 = objc_allocWithZone(v27);
  uint64_t v29 = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  double v30 = v44;
  uint64_t v31 = v39;
  *(void *)&v44[v40] = v29;
  uint64_t v40 = OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_secondarySubtitleLabel;
  v38(v5, v31, v22);
  v37(v5, 0, 1, v22);
  ((void (*)(unsigned char *, void, uint64_t))v41)(v25, v36, v26);
  id v32 = objc_allocWithZone(v27);
  *(void *)&v30[v40] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  CGFloat v33 = &v30[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_itemLayoutContext];
  uint64_t v34 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v34 - 8) + 56))(v33, 1, 1, v34);
  v30[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_useDetailPageStyling] = 0;
  *(void *)&v30[OBJC_IVAR____TtC8AppStore33TitledParagraphCollectionViewCell_pageTraits] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_100337E00(void *a1)
{
}

void sub_100337E0C(void *a1)
{
}

void sub_100337E18()
{
  v8.receiver = v0;
  v8.super_class = (Class)type metadata accessor for GenericProductReviewActionCollectionViewCell();
  [super layoutSubviews];
  id v1 = [v0 contentView];
  [v0 bounds];
  [v1 setFrame:];

  id v2 = [v0 backgroundView];
  if (v2)
  {
    uint64_t v3 = v2;
    [v0 bounds];
    [v3 setFrame:];
  }
  uint64_t v4 = *(void **)&v0[OBJC_IVAR____TtC8AppStore44GenericProductReviewActionCollectionViewCell_productTapToRateView];
  if (v4)
  {
    id v5 = v4;
    [v0 bounds];
    [v5 setFrame:];
  }
  uint64_t v6 = *(void **)&v0[OBJC_IVAR____TtC8AppStore44GenericProductReviewActionCollectionViewCell_productReviewActionsView];
  if (v6)
  {
    id v7 = v6;
    [v0 bounds];
    [v7 setFrame:];
  }
}

id sub_100338188()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for GenericProductReviewActionCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_10033821C()
{
  return type metadata accessor for GenericProductReviewActionCollectionViewCell();
}

uint64_t type metadata accessor for GenericProductReviewActionCollectionViewCell()
{
  uint64_t result = qword_100990E10;
  if (!qword_100990E10) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_100338270()
{
  sub_1000A1880();
  if (v0 <= 0x3F) {
    swift_updateClassMetadata2();
  }
}

uint64_t sub_10033830C()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (UIFontTextStyle *)((char *)v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for Separator.Position();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  id v7 = (char *)v12 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for Separator();
  sub_100042444(v8, qword_1009E2B98);
  sub_100087728(v8, (uint64_t)qword_1009E2B98);
  (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for Separator.Position.bottom(_:), v4);
  *uint64_t v3 = UIFontTextStyleBody;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.textStyle(_:), v0);
  uint64_t v13[3] = type metadata accessor for StaticDimension();
  v13[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v13);
  v12[3] = v0;
  v12[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v9 = sub_1000808B8(v12);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v1 + 16))(v9, v3, v0);
  uint64_t v10 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(UIFontTextStyle *, uint64_t))(v1 + 8))(v3, v0);
  return Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
}

char *sub_100338554(double a1, double a2, double a3, double a4)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v10 = type metadata accessor for Separator.Position();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v21 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = OBJC_IVAR____TtC8AppStore13SeparatorView_lineColor;
  sub_10008E8A0();
  uint64_t v15 = v4;
  *(void *)&v4[v14] = static UIColor.defaultLine.getter();
  double v16 = &v15[OBJC_IVAR____TtC8AppStore13SeparatorView_lineCompositingFilter];
  *(_OWORD *)double v16 = 0u;
  *((_OWORD *)v16 + 1) = 0u;
  (*(void (**)(char *, void, uint64_t))(v11 + 104))(v13, enum case for Separator.Position.bottom(_:), v10);
  void v23[3] = type metadata accessor for ZeroDimension();
  v23[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v23);
  static ZeroDimension.zero.getter();
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
  id v17 = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v15[OBJC_IVAR____TtC8AppStore13SeparatorView_lineView] = v17;

  v22.receiver = v15;
  v22.super_class = ObjectType;
  uint64_t v18 = (char *)[super initWithFrame:a1, a2, a3, a4];
  [v18 setUserInteractionEnabled:0];
  [v18 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];
  [v18 setEdgesInsettingLayoutMarginsFromSafeArea:0];
  double v19 = *(void **)&v18[OBJC_IVAR____TtC8AppStore13SeparatorView_lineView];
  [v19 setBackgroundColor:*(void *)&v18[OBJC_IVAR____TtC8AppStore13SeparatorView_lineColor]];
  [v18 addSubview:v19];

  return v18;
}

uint64_t sub_100338810(uint64_t a1)
{
  uint64_t v3 = v1 + OBJC_IVAR____TtC8AppStore13SeparatorView_lineCompositingFilter;
  swift_beginAccess();
  sub_100339048(a1, v3);
  swift_endAccess();
  id v4 = [*(id *)(v1 + OBJC_IVAR____TtC8AppStore13SeparatorView_lineView) layer];
  sub_1000897C0(v3, (uint64_t)v12);
  uint64_t v5 = v13;
  if (v13)
  {
    uint64_t v6 = sub_100081D90(v12, v13);
    uint64_t v7 = *(void *)(v5 - 8);
    __chkstk_darwin(v6);
    uint64_t v9 = (char *)v12 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
    (*(void (**)(char *))(v7 + 16))(v9);
    uint64_t v10 = _bridgeAnythingToObjectiveC<A>(_:)();
    (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v5);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v12);
  }
  else
  {
    uint64_t v10 = 0;
  }
  [v4 setCompositingFilter:v10];

  swift_unknownObjectRelease();
  return sub_100089384(a1);
}

id sub_100338C24()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v4 = *(void *)(v3 - 8);
  *(void *)&double v5 = __chkstk_darwin(v3).n128_u64[0];
  uint64_t v7 = (char *)v25 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v26.receiver = v1;
  v26.super_class = ObjectType;
  [super layoutSubviews:v5];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGFloat v9 = v8;
  CGFloat v11 = v10;
  CGFloat v13 = v12;
  CGFloat v15 = v14;
  id v16 = [v1 traitCollection];
  static Separator.thickness(compatibleWith:)();
  double v18 = v17;

  swift_beginAccess();
  Separator.verticalOutset.getter();
  swift_endAccess();
  sub_100081D90(v25, v25[3]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v20 = v19;
  (*(void (**)(char *, uint64_t))(v4 + 8))(v7, v3);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v25);
  uint64_t v21 = *(void **)&v1[OBJC_IVAR____TtC8AppStore13SeparatorView_lineView];
  v27.origin.CGFloat x = v9;
  v27.origin.CGFloat y = v11;
  v27.size.CGFloat width = v13;
  v27.size.CGFloat height = v15;
  double MinX = CGRectGetMinX(v27);
  v28.origin.CGFloat x = v9;
  v28.origin.CGFloat y = v11;
  v28.size.CGFloat width = v13;
  v28.size.CGFloat height = v15;
  double v23 = v20 + CGRectGetMinY(v28);
  v29.origin.CGFloat x = v9;
  v29.origin.CGFloat y = v11;
  v29.size.CGFloat width = v13;
  v29.size.CGFloat height = v15;
  return [v21 setFrame:MinX, v23, CGRectGetWidth(v29), v18];
}

uint64_t sub_100338F48()
{
  return type metadata accessor for SeparatorView();
}

uint64_t type metadata accessor for SeparatorView()
{
  uint64_t result = qword_100990E60;
  if (!qword_100990E60) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100338F9C()
{
  uint64_t result = type metadata accessor for Separator();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_100339048(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100982B40);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 24))(a2, a1, v4);
  return a2;
}

void sub_1003390B0()
{
  uint64_t v1 = type metadata accessor for Separator.Position();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v8[-1] - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = OBJC_IVAR____TtC8AppStore13SeparatorView_lineColor;
  sub_10008E8A0();
  *(void *)&v0[v5] = static UIColor.defaultLine.getter();
  uint64_t v6 = &v0[OBJC_IVAR____TtC8AppStore13SeparatorView_lineCompositingFilter];
  *(_OWORD *)uint64_t v6 = 0u;
  *((_OWORD *)v6 + 1) = 0u;
  (*(void (**)(char *, void, uint64_t))(v2 + 104))(v4, enum case for Separator.Position.bottom(_:), v1);
  v8[3] = type metadata accessor for ZeroDimension();
  v8[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v8);
  static ZeroDimension.zero.getter();
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_10033923C()
{
  uint64_t v0 = sub_100082C28(&qword_100982908);
  __chkstk_darwin(v0 - 8);
  uint64_t v29 = type metadata accessor for PageGrid.HorizontalMargins();
  uint64_t v1 = *(void *)(v29 - 8);
  __chkstk_darwin(v29);
  uint64_t v3 = (int64x2_t *)((char *)&v20 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = sub_100082C28(&qword_100982910);
  __chkstk_darwin(v4 - 8);
  __chkstk_darwin(v5);
  __chkstk_darwin(v6);
  __chkstk_darwin(v7);
  sub_100082C28(&qword_100982918);
  uint64_t v8 = *(void *)(type metadata accessor for PageGrid.Breakpoint() - 8);
  unint64_t v9 = (*(unsigned __int8 *)(v8 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v8 + 80);
  uint64_t v24 = *(void *)(v8 + 72);
  uint64_t v10 = swift_allocObject();
  *(_OWORD *)(v10 + 16) = xmmword_1007BFA20;
  uint64_t v23 = v10;
  unint64_t v27 = v10 + v9;
  if (qword_10097DF38 != -1) {
    swift_once();
  }
  uint64_t v30 = 0x3FF0000000000000;
  uint64_t v31 = 0x3FF8000000000000;
  sub_100075138();
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  uint64_t v30 = 0x4030000000000000;
  uint64_t v31 = 0x4020000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  uint64_t v31 = 0x4030000000000000;
  uint64_t v30 = 0x4034000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  __asm { FMOV            V0.2D, #16.0 }
  *uint64_t v3 = _Q0;
  id v16 = *(void (**)(void))(v1 + 104);
  unsigned int v26 = enum case for PageGrid.HorizontalMargins.absolute(_:);
  uint64_t v28 = v1 + 104;
  double v25 = (void (*)(int64x2_t *, void, uint64_t))v16;
  v16(v3);
  CGFloat left = UIEdgeInsetsZero.left;
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  if (qword_10097DF40 != -1) {
    swift_once();
  }
  uint64_t v30 = 0x3FF0000000000000;
  uint64_t v31 = 0x3FF8000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4024000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4030000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  __asm { FMOV            V0.2D, #20.0 }
  *uint64_t v3 = _Q0;
  v25(v3, v26, v29);
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  if (qword_10097DF48 != -1) {
    swift_once();
  }
  uint64_t v31 = 0x4008000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0x4034000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4030000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  int64x2_t v20 = vdupq_n_s64(0x4041000000000000uLL);
  *uint64_t v3 = v20;
  v25(v3, v26, v29);
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  CGFloat v21 = left;
  CGFloat top = UIEdgeInsetsZero.top;
  PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  if (qword_10097DF68 != -1) {
    swift_once();
  }
  uint64_t v31 = 0x4010000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0x4034000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4030000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  *uint64_t v3 = v20;
  v25(v3, v26, v29);
  static UIEdgeInsets.horizontal(left:right:)();
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  if (qword_10097DF70 != -1) {
    swift_once();
  }
  uint64_t v31 = 0x4014000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0x4038000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4030000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  int64x2_t v20 = vdupq_n_s64(0x404A000000000000uLL);
  *uint64_t v3 = v20;
  v25(v3, v26, v29);
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  if (qword_10097DF78 != -1) {
    swift_once();
  }
  uint64_t v31 = 0x4018000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0x4038000000000000;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v30 = 0x4034000000000000;
  uint64_t v31 = 0x4030000000000000;
  PageGrid.DirectionalValue.init(horizontal:vertical:)();
  *uint64_t v3 = v20;
  v25(v3, v26, v29);
  LOBYTE(v31) = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t v31 = 0;
  PageGrid.DirectionalValue.init(_:)();
  uint64_t result = PageGrid.Breakpoint.init(range:columnCount:columnExtendsToFillWidth:minimumColumnWidth:interColumnSpace:interRowSpace:horizontalMargins:additionalSafeAreaHorizontalMargins:)();
  qword_100990E70 = v23;
  return result;
}

ValueMetadata *type metadata accessor for InvalidateAllWidgetsActionImplementation()
{
  return &type metadata for InvalidateAllWidgetsActionImplementation;
}

unint64_t sub_100339C80()
{
  unint64_t result = qword_100990E78;
  if (!qword_100990E78)
  {
    type metadata accessor for InvalidateAllWidgetsAction();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100990E78);
  }
  return result;
}

uint64_t sub_100339CD8()
{
  uint64_t v0 = type metadata accessor for ActionOutcome();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v5 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  InvalidateAllWidgetsAction.run()();
  sub_100082C28(&qword_100988220);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for ActionOutcome.performed(_:), v0);
  return Promise.__allocating_init(value:)();
}

void sub_100339DC8()
{
  if (([v0 isViewLoaded] & 1) == 0)
  {
    v1._uint64_t countAndFlagsBits = 0x535F474E494D4F43;
    v1._object = (void *)0xEB000000004E4F4FLL;
    v2._uint64_t countAndFlagsBits = 0;
    v2._object = (void *)0xE000000000000000;
    localizedString(_:comment:)(v1, v2);
    id v3 = objc_allocWithZone((Class)_UIContentUnavailableView);
    NSString v4 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    id v5 = [v3 initWithFrame:v4 title:0 style:0.0, 0.0, 0.0, 0.0];

    [v0 setView:v5];
  }
}

id sub_10033A068()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ComingSoonViewController();
  return [super dealloc];
}

uint64_t type metadata accessor for ComingSoonViewController()
{
  return self;
}

uint64_t sub_10033A0C0()
{
  return sub_10033A100((unsigned int *)&enum case for StoreViewControllerLifecycleEvent.appEnteredWhileAppeared(_:), (uint64_t (*)(uint64_t))&dispatch thunk of DiffablePagePresenter.appEnteredWhileAppeared());
}

uint64_t sub_10033A0E0()
{
  return sub_10033A100((unsigned int *)&enum case for StoreViewControllerLifecycleEvent.appExitedWhileAppeared(_:), (uint64_t (*)(uint64_t))&dispatch thunk of DiffablePagePresenter.appExitedWhileAppeared());
}

uint64_t sub_10033A100(unsigned int *a1, uint64_t (*a2)(uint64_t))
{
  uint64_t v5 = type metadata accessor for StoreViewControllerLifecycleEvent();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v13[-1] - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = v2 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_lifecycleObserver;
  swift_beginAccess();
  sub_100082B68(v9, (uint64_t)v14, (uint64_t *)&unk_100982B20);
  if (v15)
  {
    sub_100082C6C((uint64_t)v14, (uint64_t)v13);
    sub_100082BCC((uint64_t)v14, (uint64_t *)&unk_100982B20);
    sub_100081D90(v13, v13[3]);
    (*(void (**)(char *, void, uint64_t))(v6 + 104))(v8, *a1, v5);
    dispatch thunk of StoreViewControllerLifecycleObserver.observe(lifecycleEvent:)();
    (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
    uint64_t v10 = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v13);
  }
  else
  {
    uint64_t v10 = sub_100082BCC((uint64_t)v14, (uint64_t *)&unk_100982B20);
  }
  return a2(v10);
}

uint64_t sub_10033A2B0()
{
  Swift::String v1 = v0;
  sub_100082C28(&qword_1009910C0);
  uint64_t v2 = swift_allocObject();
  *(_OWORD *)(v2 + 16) = xmmword_1007D1580;
  swift_getWitnessTable();
  type metadata accessor for OnDemandShelfFetchingCollectionElementsObserver();
  swift_allocObject();
  swift_retain();
  *(void *)(v2 + 32) = OnDemandShelfFetchingCollectionElementsObserver.init(presenter:)();
  *(void *)(v2 + 40) = &protocol witness table for OnDemandShelfFetchingCollectionElementsObserver;
  type metadata accessor for GenericPageCollectionElementsObserver();
  uint64_t v3 = swift_allocObject();
  uint64_t v4 = sub_1000098D4(&qword_1009910C8, (void (*)(uint64_t))type metadata accessor for GenericPageCollectionElementsObserver);
  *(void *)(v2 + 48) = v3;
  *(void *)(v2 + 56) = v4;
  swift_getWitnessTable();
  uint64_t v5 = *(void **)&v1[qword_1009E2BF0];
  swift_retain();
  id v6 = v5;
  TimedMetricsPagePresenter.impressionsCalculator.getter();
  type metadata accessor for ComponentContainerCollectionElementsObserver();
  swift_allocObject();
  uint64_t v7 = v1;
  *(void *)(v2 + 64) = ComponentContainerCollectionElementsObserver.init(presenter:parent:scrollObserver:impressionsCalculator:)();
  *(void *)(v2 + 72) = &protocol witness table for ComponentContainerCollectionElementsObserver;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  ShelfBasedCollectionViewController.shelfComponentTypeMappingProvider.getter();
  TimedMetricsPagePresenter.impressionsCalculator.getter();
  type metadata accessor for ImpressionsCollectionElementsObserver();
  swift_allocObject();
  *(void *)(v2 + 80) = ImpressionsCollectionElementsObserver.init(componentTypeMappingProvider:impressionsCalculator:)();
  *(void *)(v2 + 88) = &protocol witness table for ImpressionsCollectionElementsObserver;
  type metadata accessor for VideoRegistrationCollectionElementsObserver();
  swift_allocObject();
  *(void *)(v2 + 96) = VideoRegistrationCollectionElementsObserver.init()();
  *(void *)(v2 + 104) = &protocol witness table for VideoRegistrationCollectionElementsObserver;
  type metadata accessor for PlayableViewRegistrationCollectionElementsObserver();
  swift_allocObject();
  *(void *)(v2 + 112) = PlayableViewRegistrationCollectionElementsObserver.init()();
  *(void *)(v2 + 120) = &protocol witness table for PlayableViewRegistrationCollectionElementsObserver;
  ShelfBasedCollectionViewController.shelfComponentTypeMappingProvider.getter();
  type metadata accessor for ArtworkLoadingCollectionElementsObserver();
  swift_allocObject();
  *(void *)(v2 + 128) = ArtworkLoadingCollectionElementsObserver.init(componentTypeMappingProvider:)();
  *(void *)(v2 + 136) = &protocol witness table for ArtworkLoadingCollectionElementsObserver;
  uint64_t v8 = *(void *)&v7[qword_100990EC0];
  uint64_t v9 = sub_1000098D4((unint64_t *)&unk_1009910D0, (void (*)(uint64_t))type metadata accessor for ExpandableCellScrollOffsetCollectionElementsObserver);
  *(void *)(v2 + 144) = v8;
  *(void *)(v2 + 152) = v9;
  swift_getWitnessTable();
  type metadata accessor for SelectionHandlerCollectionElementsObserver();
  swift_allocObject();
  swift_retain();
  swift_retain();
  swift_retain();
  *(void *)(v2 + 160) = SelectionHandlerCollectionElementsObserver.init(presenter:componentHeightCache:)();
  *(void *)(v2 + 168) = &protocol witness table for SelectionHandlerCollectionElementsObserver;
  *(void *)(v2 + 176) = *(void *)&v7[qword_100990EB8];
  *(void *)(v2 + 184) = &protocol witness table for VisibleShelfSupplementaryCollectionElementsObserver;
  type metadata accessor for AutomationCollectionElementsObserver();
  swift_allocObject();
  swift_retain();
  *(void *)(v2 + 192) = AutomationCollectionElementsObserver.init()();
  *(void *)(v2 + 200) = &protocol witness table for AutomationCollectionElementsObserver;
  swift_getWitnessTable();
  type metadata accessor for InlineUnifiedMessageCollectionElementsObserver();
  swift_allocObject();
  swift_retain();
  uint64_t v10 = v7;
  *(void *)(v2 + 208) = InlineUnifiedMessageCollectionElementsObserver.init(presenter:parentViewController:)();
  *(void *)(v2 + 216) = &protocol witness table for InlineUnifiedMessageCollectionElementsObserver;
  type metadata accessor for CompoundCollectionElementsObserver();
  swift_allocObject();
  return CompoundCollectionElementsObserver.init(children:)();
}

void sub_10033A7B0(uint64_t a1)
{
  uint64_t v2 = v1;
  double v38 = (void *)(swift_isaMask & *v2);
  uint64_t v4 = type metadata accessor for JULoadingViewController.PresentationContext();
  __chkstk_darwin(v4 - 8);
  uint64_t v5 = v38[76];
  uint64_t v6 = v38[77];
  uint64_t v7 = v38[78];
  uint64_t v8 = v38[79];
  uint64_t v9 = v38[80];
  uint64_t v36 = v38[74];
  uint64_t v37 = v5;
  uint64_t v39 = v36;
  uint64_t v40 = v5;
  uint64_t v41 = v6;
  uint64_t v42 = v7;
  uint64_t v43 = v8;
  uint64_t v44 = v9;
  uint64_t updated = type metadata accessor for DiffablePagePresenter.UpdatePhase();
  uint64_t v11 = *(void *)(updated - 8);
  __n128 v12 = __chkstk_darwin(updated);
  double v14 = (uint64_t *)((char *)&v35 - v13);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v11 + 16))((char *)&v35 - v13, a1, updated, v12);
  int v15 = (*(uint64_t (**)(uint64_t *, uint64_t))(v11 + 88))(v14, updated);
  if (v15 == enum case for DiffablePagePresenter.UpdatePhase.completed<A>(_:))
  {
    (*(void (**)(uint64_t *, uint64_t))(v11 + 96))(v14, updated);
    swift_unknownObjectRelease();
    *((unsigned char *)v2 + qword_1009E2BC8) = 1;
    (*(void (**)(void))((swift_isaMask & *v2) + 0x188))(0);
    if (dispatch thunk of TimedMetricsPagePresenter.pendingPageRender.getter())
    {
      PendingPageRender.isLayoutPending.setter();
      swift_release();
    }
    id v16 = (void *)((char *)v2 + qword_100990EC8);
    swift_beginAccess();
    uint64_t v17 = *v16;
    if (*v16)
    {
      uint64_t v18 = swift_allocObject();
      swift_unknownObjectWeakInit();
      double v19 = (uint64_t (*)())swift_allocObject();
      *((void *)v19 + 2) = v36;
      uint64_t v20 = v37;
      *((void *)v19 + 3) = v38[75];
      *((void *)v19 + 4) = v20;
      *((void *)v19 + 5) = v6;
      *((void *)v19 + 6) = v7;
      *((void *)v19 + 7) = v8;
      *((void *)v19 + 8) = v9;
      *((void *)v19 + 9) = v18;
      CGFloat v21 = (uint64_t (**)())(v17 + OBJC_IVAR____TtC8AppStore33BaseCollectionCompositionalLayout_pendingPrepareObserver);
      uint64_t v22 = *(void *)(v17 + OBJC_IVAR____TtC8AppStore33BaseCollectionCompositionalLayout_pendingPrepareObserver);
      *CGFloat v21 = sub_100340F88;
      v21[1] = v19;
      sub_10006012C(v22);
    }
    uint64_t v23 = dispatch thunk of TimedMetricsPagePresenter.pageRenderMetrics.getter();
    id v24 = [self sharedApplication];
    unsigned int v25 = [v24 launchedToTest];

    if (!v25)
    {
      swift_release();
      return;
    }
    if (v23)
    {
      unsigned int v26 = self;
      swift_retain();
      id v27 = [v26 defaultCenter];
      type metadata accessor for PageRenderMetricsPresenter();
      uint64_t v28 = (void *)static PageRenderMetricsPresenter.pageEndNotification.getter();
      [v27 addObserver:v2 selector:"ppt_pageRenderMetricsPresenterPageLoaded:" name:v28 object:v23];
      swift_release_n();

      return;
    }
    sub_10010C75C();
    uint64_t v34 = swift_allocError();
    sub_100286500(v34);
    goto LABEL_18;
  }
  if (v15 == enum case for DiffablePagePresenter.UpdatePhase.error<A>(_:))
  {
    (*(void (**)(uint64_t *, uint64_t))(v11 + 96))(v14, updated);
    uint64_t v29 = *v14;
    uint64_t v30 = v14[1];
    type metadata accessor for JUContentUnavailableViewController();
    swift_getWitnessTable();
    swift_errorRetain();
    swift_retain();
    sub_100060050(v30);
    uint64_t v31 = JUContentUnavailableViewController.init(error:from:includeMetrics:retry:)();
    (*(void (**)(uint64_t))((swift_isaMask & *v2) + 0x188))(v31);
    sub_100286500(v29);
    sub_10006012C(v30);
LABEL_18:
    swift_errorRelease();
    return;
  }
  if (v15 == enum case for DiffablePagePresenter.UpdatePhase.started<A>(_:))
  {
    dispatch thunk of TimedMetricsPagePresenter.pageRenderMetrics.getter();
    static JULoadingViewController.PresentationContext.placeholder.getter();
    id v32 = objc_allocWithZone((Class)type metadata accessor for JULoadingViewController());
    uint64_t v33 = JULoadingViewController.init(label:presentationContext:pageRenderMetrics:)();
    (*(void (**)(uint64_t))((swift_isaMask & *v2) + 0x188))(v33);
    if (dispatch thunk of TimedMetricsPagePresenter.pendingPageRender.getter())
    {
      PendingPageRender.observeAssets(_:)();
      swift_release();
    }
    dispatch thunk of TimedMetricsPagePresenter.pageRenderMetrics.getter();
    ArtworkLoader.pageRenderMetrics.setter();
  }
  else
  {
    (*(void (**)(void))((swift_isaMask & *v2) + 0x188))(0);
    (*(void (**)(uint64_t *, uint64_t))(v11 + 8))(v14, updated);
  }
}

double sub_10033AE8C()
{
  return 500.0;
}

uint64_t sub_10033AE9C(uint64_t a1)
{
  uint64_t v3 = v1 + qword_1009E2BB8;
  swift_beginAccess();
  uint64_t v4 = type metadata accessor for ShelfBasedCollectionViewControllerDependencies();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(v3, a1, v4);
  return swift_endAccess();
}

uint64_t sub_10033AF28()
{
  return *(unsigned __int8 *)(v0 + qword_1009E2BC8);
}

uint64_t sub_10033AF38(uint64_t result)
{
  *(unsigned char *)(v1 + qword_1009E2BC8) = result;
  return result;
}

uint64_t sub_10033AF48()
{
  return *(unsigned __int8 *)(v0 + qword_1009E2BE0);
}

uint64_t sub_10033AF58(uint64_t result)
{
  *(unsigned char *)(v1 + qword_1009E2BE0) = result;
  return result;
}

uint64_t sub_10033AF68(uint64_t a1)
{
  *(void *)(v1 + qword_100990ED8) = a1;
  return swift_release();
}

uint64_t sub_10033AF80(uint64_t a1)
{
  *(void *)(v1 + qword_100990EE0) = a1;
  return _objc_release_x1();
}

uint64_t sub_10033AF94(uint64_t result)
{
  *(void *)(v1 + qword_1009E2BE8) = result;
  return result;
}

uint64_t sub_10033AFA4()
{
  return *(unsigned __int8 *)(v0 + qword_1009E2C00);
}

uint64_t sub_10033AFB4()
{
  uint64_t v1 = swift_isaMask & *v0;
  uint64_t v2 = *(void *)(v1 + 0x280);
  long long v3 = *(_OWORD *)(v1 + 0x260);
  long long v5 = *(_OWORD *)(v1 + 0x250);
  long long v6 = v3;
  long long v7 = *(_OWORD *)(v1 + 624);
  uint64_t v8 = v2;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  ShelfBasedCollectionViewController.pageGridProvider.getter();
  sub_100082C28(&qword_10098BA28);
  sub_100082C28((uint64_t *)&unk_100991190);
  if (swift_dynamicCast())
  {
    sub_100081D90(&v5, *((uint64_t *)&v6 + 1));
    dispatch thunk of PageGridCaching.invalidateCache()();
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v5);
  }
  else
  {
    *(void *)&long long v7 = 0;
    long long v5 = 0u;
    long long v6 = 0u;
    return sub_100082BCC((uint64_t)&v5, &qword_10098C768);
  }
}

uint64_t sub_10033B100()
{
  if ((*(unsigned char *)(v0 + qword_1009E2BC8) & 1) == 0) {
    return dispatch thunk of TimedMetricsPagePresenter.didLoad()();
  }
  return result;
}

uint64_t sub_10033B13C()
{
  uint64_t v1 = swift_isaMask & *v0;
  uint64_t v2 = type metadata accessor for GenericPageShelfSupplementaryProvider();
  uint64_t v3 = *(void *)((char *)v0 + qword_1009E2BC0);
  uint64_t v4 = *(void *)((char *)v0 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph);
  uint64_t v5 = *(void *)(v1 + 600);
  uint64_t WitnessTable = swift_getWitnessTable();
  uint64_t v7 = sub_1002D17E4(v3, v4, v2, v5, WitnessTable);
  sub_1000098D4((unint64_t *)&unk_100991170, (void (*)(uint64_t))type metadata accessor for GenericPageShelfSupplementaryProvider);
  swift_retain();
  return v7;
}

unint64_t sub_10033B238()
{
  uint64_t v1 = v0;
  uint64_t v112 = swift_isaMask & *v0;
  uint64_t v2 = type metadata accessor for ShelfBackground();
  uint64_t v109 = *(void *)(v2 - 8);
  uint64_t v110 = v2;
  __chkstk_darwin(v2);
  uint64_t v101 = (id *)((char *)&v97 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v4);
  double v104 = (id *)((char *)&v97 - v5);
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v107 = *(void *)(v6 - 8);
  uint64_t v108 = v6;
  __chkstk_darwin(v6);
  CGFloat v100 = (char *)&v97 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  double v103 = (char *)&v97 - v9;
  uint64_t v10 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v10 - 8);
  uint64_t v106 = (char *)&v97 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  double v14 = (char *)&v97 - v13;
  uint64_t v15 = type metadata accessor for ShelfLayoutContext();
  uint64_t v113 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v17 = (char *)&v97 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  double v105 = (char *)&v97 - v19;
  uint64_t v114 = sub_100082C28((uint64_t *)&unk_100991160);
  uint64_t v20 = *(void *)(v114 - 8);
  __chkstk_darwin(v114);
  uint64_t v111 = (char *)&v97 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v22);
  id v24 = (char *)&v97 - v23;
  uint64_t v25 = type metadata accessor for PaginatedPagePresenterState();
  uint64_t v26 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  uint64_t v28 = (char *)&v97 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  unint64_t v119 = (unint64_t)_swiftEmptyArrayStorage;
  dispatch thunk of DiffablePagePresenter.paginationState.getter();
  int v29 = (*(uint64_t (**)(char *, uint64_t))(v26 + 88))(v28, v25);
  uint64_t v102 = v17;
  if (v29 == enum case for PaginatedPagePresenterState.preparingNextPage(_:))
  {
    uint64_t v99 = v15;
    (*(void (**)(char *, uint64_t))(v26 + 96))(v28, v25);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v28);
    id v30 = [v0 traitCollection];
    if (qword_10097FC30 != -1) {
      swift_once();
    }
    uint64_t v31 = type metadata accessor for StaticDimension();
    sub_100087728(v31, (uint64_t)qword_1009E5D90);
    type metadata accessor for TraitEnvironmentPlaceholder();
    sub_100082C28(&qword_100982B50);
    uint64_t v32 = swift_allocObject();
    *(_OWORD *)(v32 + 16) = xmmword_1007BEA80;
    *(void *)(v32 + 32) = v30;
    id v33 = v30;
    uint64_t v34 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    dispatch thunk of AnyDimension.rawValue(in:)();
    double v36 = v35;

    uint64_t v37 = self;
    id v38 = [v37 fractionalWidthDimension:1.0];
    id v39 = [v37 absoluteDimension:v36];
    id v40 = [self sizeWithWidthDimension:v38 heightDimension:v39];

    type metadata accessor for InfiniteScrollFooterView();
    id v41 = v40;
    static UICollectionReusableView.elementKind.getter();
    NSString v42 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    id v43 = [self boundarySupplementaryItemWithLayoutSize:v41 elementKind:v42 alignment:5];

    id v44 = v43;
    specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
    if (*(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
      specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
    }
    specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
    specialized Array._endMutation()();

    uint64_t v15 = v99;
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v26 + 8))(v28, v25);
  }
  long long v45 = (id *)((char *)v1 + qword_100990ED0);
  swift_beginAccess();
  uint64_t v46 = v113;
  if (*v45)
  {
    id v47 = *v45;
    dispatch thunk of UICollectionViewDiffableDataSource.snapshot()();

    uint64_t v48 = v114;
    uint64_t v49 = NSDiffableDataSourceSnapshot.numberOfSections.getter();
    uint64_t v52 = *(void (**)(void, void))(v20 + 8);
    uint64_t v50 = v20 + 8;
    long long v51 = v52;
    v52(v24, v48);
    if (v49 < 1) {
      goto LABEL_12;
    }
    uint64_t v53 = *(void *)(v112 + 640);
    long long v54 = *(_OWORD *)(v112 + 608);
    long long v115 = *(_OWORD *)(v112 + 592);
    long long v116 = v54;
    long long v117 = *(_OWORD *)(v112 + 624);
    uint64_t v118 = v53;
    type metadata accessor for BaseDiffableShelfViewController();
    swift_getWitnessTable();
    ShelfBasedCollectionViewController.shelfLayoutContext(for:)();
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v46 + 48))(v14, 1, v15) == 1)
    {
      sub_100082BCC((uint64_t)v14, &qword_100991060);
LABEL_12:
      id v55 = *v45;
      if (!*v45) {
        return v119;
      }
      goto LABEL_20;
    }
    double v98 = v51;
    uint64_t v99 = v50;
    id v56 = *(void (**)(char *, char *, uint64_t))(v46 + 32);
    uint64_t v57 = v46;
    uint64_t v58 = v105;
    v56(v105, v14, v15);
    id v59 = v103;
    ShelfLayoutContext.shelf.getter();
    swift_getKeyPath();
    id v60 = v104;
    uint64_t v61 = v108;
    ReadOnlyLens.subscript.getter();
    swift_release();
    (*(void (**)(char *, uint64_t))(v107 + 8))(v59, v61);
    uint64_t v63 = v109;
    uint64_t v62 = v110;
    if ((*(unsigned int (**)(id *, uint64_t))(v109 + 88))(v60, v110) == enum case for ShelfBackground.color(_:))
    {
      uint64_t v64 = v58;
      (*(void (**)(id *, uint64_t))(v63 + 96))(v60, v62);

      uint64_t v65 = (char *)v60 + *(int *)(sub_100082C28(&qword_100984570) + 48);
      uint64_t v66 = type metadata accessor for ShelfBackgroundStyle();
      (*(void (**)(char *, uint64_t))(*(void *)(v66 - 8) + 8))(v65, v66);
      id v67 = self;
      id v68 = [v67 fractionalWidthDimension:1.0];
      id v69 = [v67 absoluteDimension:2000.0];
      id v70 = [self sizeWithWidthDimension:v68 heightDimension:v69];

      NSString v71 = String._bridgeToObjectiveC()();
      id v72 = [self boundarySupplementaryItemWithLayoutSize:v70 elementKind:v71 alignment:1 absoluteOffset:0.0 -2000.0];

      [v72 setExtendsBoundary:0];
      id v73 = v72;
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }
      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      specialized Array._endMutation()();

      uint64_t v46 = v57;
      (*(void (**)(char *, uint64_t))(v57 + 8))(v64, v15);
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v57 + 8))(v58, v15);
      (*(void (**)(id *, uint64_t))(v63 + 8))(v60, v62);
      uint64_t v46 = v57;
    }
    long long v51 = v98;
    id v55 = *v45;
    if (*v45)
    {
LABEL_20:
      id v74 = v55;
      uint64_t v75 = v111;
      dispatch thunk of UICollectionViewDiffableDataSource.snapshot()();

      uint64_t v76 = v114;
      uint64_t v77 = NSDiffableDataSourceSnapshot.numberOfSections.getter();
      v51(v75, v76);
      if (v77 >= 1)
      {
        uint64_t v78 = *(void *)(v112 + 640);
        long long v79 = *(_OWORD *)(v112 + 608);
        long long v115 = *(_OWORD *)(v112 + 592);
        long long v116 = v79;
        long long v117 = *(_OWORD *)(v112 + 624);
        uint64_t v118 = v78;
        type metadata accessor for BaseDiffableShelfViewController();
        swift_getWitnessTable();
        uint64_t v80 = (uint64_t)v106;
        ShelfBasedCollectionViewController.shelfLayoutContext(for:)();
        if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v46 + 48))(v80, 1, v15) == 1)
        {
          sub_100082BCC(v80, &qword_100991060);
        }
        else
        {
          unint64_t v81 = v102;
          (*(void (**)(char *, uint64_t, uint64_t))(v46 + 32))(v102, v80, v15);
          objc_super v82 = v100;
          ShelfLayoutContext.shelf.getter();
          swift_getKeyPath();
          uint64_t v83 = v101;
          uint64_t v84 = v108;
          ReadOnlyLens.subscript.getter();
          swift_release();
          (*(void (**)(char *, uint64_t))(v107 + 8))(v82, v84);
          uint64_t v86 = v109;
          uint64_t v85 = v110;
          if ((*(unsigned int (**)(id *, uint64_t))(v109 + 88))(v83, v110) == enum case for ShelfBackground.color(_:))
          {
            (*(void (**)(id *, uint64_t))(v86 + 96))(v83, v85);

            uint64_t v87 = (char *)v83 + *(int *)(sub_100082C28(&qword_100984570) + 48);
            uint64_t v88 = type metadata accessor for ShelfBackgroundStyle();
            (*(void (**)(char *, uint64_t))(*(void *)(v88 - 8) + 8))(v87, v88);
            uint64_t v89 = self;
            id v90 = [v89 fractionalWidthDimension:1.0];
            id v91 = [v89 absoluteDimension:2000.0];
            id v92 = [self sizeWithWidthDimension:v90 heightDimension:v91];

            NSString v93 = String._bridgeToObjectiveC()();
            id v94 = [self boundarySupplementaryItemWithLayoutSize:v92 elementKind:v93 alignment:5 absoluteOffset:0.0];

            [v94 setExtendsBoundary:0];
            id v95 = v94;
            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v119 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }
            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
            specialized Array._endMutation()();

            (*(void (**)(char *, uint64_t))(v46 + 8))(v81, v15);
          }
          else
          {
            (*(void (**)(char *, uint64_t))(v46 + 8))(v81, v15);
            (*(void (**)(id *, uint64_t))(v86 + 8))(v83, v85);
          }
        }
      }
    }
  }
  return v119;
}

double sub_10033C0E0@<D0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v7 = swift_isaMask & *v3;
  type metadata accessor for InfiniteScrollFooterView();
  if (static UICollectionReusableView.elementKind.getter() == a1 && v8 == a2)
  {
    swift_bridgeObjectRelease();
    goto LABEL_11;
  }
  char v10 = _stringCompareWithSmolCheck(_:_:expecting:)();
  swift_bridgeObjectRelease();
  if (v10)
  {
LABEL_11:
    swift_bridgeObjectRetain();
    static UICollectionReusableView.defaultReuseIdentifier.getter();
    *(void *)(a3 + 24) = sub_100082C28((uint64_t *)&unk_100991150);
    *(void *)(a3 + 32) = sub_1000DD560(&qword_10098D7B8, (uint64_t *)&unk_100991150);
    sub_1000808B8((uint64_t *)a3);
    goto LABEL_12;
  }
  if (a1 == 0x676B636142706F74 && a2 == 0xED0000646E756F72
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0
    || a1 == 0xD000000000000010 && a2 == 0x80000001008036B0
    || (_stringCompareWithSmolCheck(_:_:expecting:)() & 1) != 0)
  {
    uint64_t v11 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v12 = swift_allocObject();
    *(void *)(v12 + 16) = *(void *)(v7 + 592);
    *(_OWORD *)(v12 + 24) = *(_OWORD *)(v7 + 600);
    *(void *)(v12 + 40) = *(void *)(v7 + 616);
    *(_OWORD *)(v12 + 48) = *(_OWORD *)(v7 + 624);
    *(void *)(v12 + 64) = *(void *)(v7 + 640);
    *(void *)(v12 + 72) = v11;
    *(void *)(a3 + 24) = sub_100082C28(&qword_100991138);
    *(void *)(a3 + 32) = sub_1000DD560((unint64_t *)&unk_100991140, &qword_100991138);
    sub_1000808B8((uint64_t *)a3);
    sub_100084CF0(0, (unint64_t *)&qword_100990440);
    swift_bridgeObjectRetain_n();
LABEL_12:
    ReusableSupplementaryRegistration.init(elementKind:reuseIdentifier:configurationHandler:)();
    return result;
  }
  *(void *)(a3 + 32) = 0;
  double result = 0.0;
  *(_OWORD *)a3 = 0u;
  *(_OWORD *)(a3 + 16) = 0u;
  return result;
}

uint64_t sub_10033C4E8(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = a1;
  sub_100082B68(a2, (uint64_t)v5, (uint64_t *)&unk_100982B40);
  uint64_t v2 = (void *)swift_retain();
  sub_10033C89C(v2, (uint64_t)v5);
  return sub_100082BCC((uint64_t)&v4, &qword_10098E828);
}

uint64_t sub_10033C558(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = swift_isaMask & *v2;
  uint64_t v8 = v2;
  if (!*((void *)sub_1004D8C20((void (*)(char *))sub_100341164, (uint64_t)&v7, a2) + 2)) {
    return swift_bridgeObjectRelease();
  }
  uint64_t v4 = *(void *)(v3 + 640);
  long long v5 = *(_OWORD *)(v3 + 608);
  long long v9 = *(_OWORD *)(v3 + 592);
  long long v10 = v5;
  long long v11 = *(_OWORD *)(v3 + 624);
  uint64_t v12 = v4;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  ShelfBasedCollectionViewController.collectionElementsObserver.getter();
  swift_getObjectType();
  dispatch thunk of CollectionElementsObserver.prefetchCells(in:collectionView:asPartOf:)();
  swift_bridgeObjectRelease();
  return swift_unknownObjectRelease();
}

uint64_t sub_10033C69C@<X0>(uint64_t a1@<X1>, uint64_t a2@<X8>)
{
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = &v16[-((v6 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v8);
  long long v10 = &v16[-v9];
  uint64_t v11 = *(void *)(v2 + qword_100990EC0)
      + OBJC_IVAR____TtC8AppStore52ExpandableCellScrollOffsetCollectionElementsObserver_expandingIndexPath;
  swift_beginAccess();
  sub_100082B68(v11, (uint64_t)v10, (uint64_t *)&unk_10098ABB0);
  uint64_t v12 = type metadata accessor for IndexPath();
  uint64_t v13 = *(void *)(v12 - 8);
  double v14 = *(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(v13 + 56);
  v14(v7, 1, 1, v12);
  swift_beginAccess();
  sub_10015B558((uint64_t)v7, v11);
  swift_endAccess();
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v13 + 48))(v10, 1, v12) == 1)
  {
    sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_10098ABB0);
    return sub_100082B68(a1, a2, (uint64_t *)&unk_10098ABB0);
  }
  else
  {
    (*(void (**)(uint64_t, unsigned char *, uint64_t))(v13 + 32))(a2, v10, v12);
    return ((uint64_t (*)(uint64_t, void, uint64_t, uint64_t))v14)(a2, 0, 1, v12);
  }
}

id sub_10033C89C(void *a1, uint64_t a2)
{
  id v70 = a1;
  uint64_t v4 = type metadata accessor for Dependency();
  uint64_t v68 = *(void *)(v4 - 8);
  uint64_t v69 = v4;
  __chkstk_darwin(v4);
  uint64_t v65 = (char *)&v59 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v66 = type metadata accessor for MetricsFieldsContext();
  uint64_t v63 = *(void *)(v66 - 8);
  __chkstk_darwin(v66);
  uint64_t v62 = (char *)&v59 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v61 = (char *)&v59 - v8;
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v64 = (char *)&v59 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v12 - 8);
  double v14 = (char *)&v59 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v59 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for IndexPath();
  uint64_t v19 = *(void *)(v18 - 8);
  __chkstk_darwin(v18);
  uint64_t v21 = (char *)&v59 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100082B68(a2, (uint64_t)&v72, (uint64_t *)&unk_100982B40);
  uint64_t v67 = v9;
  if (v75)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    if (swift_dynamicCast())
    {
      id v22 = v71;
      id v23 = [v22 bounds];
      char v77 = 1;
      uint64_t v80 = 15;
      id v72 = v22;
      uint64_t v73 = v24;
      uint64_t v74 = v25;
      uint64_t v75 = v26;
      uint64_t v76 = v27;
      __asm { FMOV            V0.2D, #10.0 }
      long long v78 = _Q0;
      long long v79 = _Q0;
      __chkstk_darwin(v23);
      uint64_t v33 = (uint64_t)v70;
      *(&v59 - 2) = (uint64_t)v2;
      *(&v59 - 1) = v33;
      sub_100754A0C((uint64_t)&v72, (void (*)(uint64_t *__return_ptr, id *))sub_100341370, (uint64_t)(&v59 - 4));

      return (id)swift_release();
    }
  }
  else
  {
    sub_100082BCC((uint64_t)&v72, (uint64_t *)&unk_100982B40);
  }
  uint64_t v60 = v10;
  id result = [v2 collectionView];
  if (!result)
  {
    __break(1u);
    goto LABEL_21;
  }
  double v35 = result;
  id v36 = [result indexPathsForSelectedItems];

  if (v36)
  {
    uint64_t v37 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    if (*(void *)(v37 + 16))
    {
      (*(void (**)(char *, unint64_t, uint64_t))(v19 + 16))(v17, v37 + ((*(unsigned __int8 *)(v19 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v19 + 80)), v18);
      uint64_t v38 = 0;
    }
    else
    {
      uint64_t v38 = 1;
    }
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v19 + 56))(v17, v38, 1, v18);
    swift_bridgeObjectRelease();
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v19 + 48))(v17, 1, v18) == 1) {
      goto LABEL_12;
    }
    (*(void (**)(char *, char *, uint64_t))(v19 + 32))(v21, v17, v18);
    id result = [v2 collectionView];
    if (result)
    {
      uint64_t v48 = result;
      Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
      id v50 = [v48 cellForItemAtIndexPath:isa];

      if (v50)
      {
        id v51 = v50;
        id v52 = [v51 bounds];
        id v72 = v50;
        char v77 = 1;
        uint64_t v80 = 15;
        uint64_t v73 = v53;
        uint64_t v74 = v54;
        uint64_t v75 = v55;
        uint64_t v76 = v56;
        __asm { FMOV            V0.2D, #10.0 }
        long long v78 = _Q0;
        long long v79 = _Q0;
        __chkstk_darwin(v52);
        uint64_t v58 = (uint64_t)v70;
        *(&v59 - 2) = (uint64_t)v2;
        *(&v59 - 1) = v58;
        sub_100754A0C((uint64_t)&v72, (void (*)(uint64_t *__return_ptr, id *))sub_100341148, (uint64_t)(&v59 - 4));

        swift_release();
        return (id)(*(uint64_t (**)(char *, uint64_t))(v19 + 8))(v21, v18);
      }
      (*(void (**)(char *, uint64_t))(v19 + 8))(v21, v18);
      goto LABEL_13;
    }
LABEL_21:
    __break(1u);
    return result;
  }
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v19 + 56))(v17, 1, 1, v18);
LABEL_12:
  sub_100082BCC((uint64_t)v17, (uint64_t *)&unk_10098ABB0);
LABEL_13:
  ObjectGraph.actionDispatcher.getter();
  uint64_t v39 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v40 = *(void *)(v39 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v40 + 48))(v14, 1, v39) == 1) {
    return (id)sub_100082BCC((uint64_t)v14, &qword_1009875B0);
  }
  uint64_t v75 = type metadata accessor for Action();
  uint64_t v76 = sub_1000098D4((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
  id v72 = v70;
  swift_retain_n();
  id v41 = v61;
  sub_1005365D0();
  uint64_t v42 = v63;
  uint64_t v43 = v66;
  (*(void (**)(char *, char *, uint64_t))(v63 + 16))(v62, v41, v66);
  id v44 = v65;
  Dependency.init<A>(satisfying:with:)();
  dispatch thunk of BaseObjectGraph.adding(dependency:)();
  (*(void (**)(char *, uint64_t))(v68 + 8))(v44, v69);
  long long v45 = v64;
  (*(void (**)(char *, char *, uint64_t))(v42 + 32))(v64, v41, v43);
  uint64_t v46 = v60;
  uint64_t v47 = v67;
  (*(void (**)(char *, void, uint64_t))(v60 + 104))(v45, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v67);
  ActionDispatcher.perform(_:withMetrics:asPartOf:)();
  swift_release();
  (*(void (**)(char *, uint64_t))(v46 + 8))(v45, v47);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v72);
  swift_release();
  swift_release();
  return (id)(*(uint64_t (**)(char *, uint64_t))(v40 + 8))(v14, v39);
}

uint64_t sub_10033D14C@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v2 = type metadata accessor for BaseShelfComponentTypeMappingProvider();
  uint64_t v3 = swift_allocObject();
  type metadata accessor for AppPromotionsShelfComponentTypeMappingProvider();
  *(void *)(v3 + 16) = swift_allocObject();
  a1[3] = v2;
  uint64_t result = sub_1000098D4((unint64_t *)&unk_1009910F0, (void (*)(uint64_t))type metadata accessor for BaseShelfComponentTypeMappingProvider);
  a1[4] = result;
  *a1 = v3;
  return result;
}

unint64_t sub_10033D1E8@<X0>(uint64_t a1@<X8>)
{
  *(void *)(a1 + 24) = &type metadata for GenericPageShelfLayoutSpacingProvider;
  unint64_t result = sub_1001AD05C();
  *(void *)(a1 + 32) = result;
  return result;
}

uint64_t sub_10033D21C@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v3 = swift_isaMask & *v1;
  uint64_t v4 = (_OWORD *)v3;
  long long v25 = xmmword_1007BF1D0;
  uint64_t v5 = *(void *)(v3 + 640);
  long long v6 = v4[38];
  v23[0] = v4[37];
  v23[1] = v6;
  v23[2] = v4[39];
  uint64_t v24 = v5;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  uint64_t v7 = ShelfBasedCollectionViewController.shelfSupplementaryProvider.getter();
  v26[3] = swift_getObjectType();
  v26[0] = v7;
  uint64_t v8 = ShelfBasedCollectionViewController.collectionElementsObserver.getter();
  _OWORD v27[3] = swift_getObjectType();
  v27[0] = v8;
  sub_10008A898((uint64_t)v26, (uint64_t)v23);
  sub_10008A898((uint64_t)v23, (uint64_t)v21);
  sub_100082C28((uint64_t *)&unk_1009910B0);
  sub_100082C28(&qword_1009816A0);
  if ((swift_dynamicCast() & 1) == 0) {
    long long v22 = 0uLL;
  }
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v23);
  if ((void)v22)
  {
    long long v19 = v22;
    uint64_t v9 = _swiftEmptyArrayStorage;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v9 = sub_100031974(0, _swiftEmptyArrayStorage[2] + 1, 1, _swiftEmptyArrayStorage);
    }
    unint64_t v11 = v9[2];
    unint64_t v10 = v9[3];
    if (v11 >= v10 >> 1) {
      uint64_t v9 = sub_100031974((void *)(v10 > 1), v11 + 1, 1, v9);
    }
    v9[2] = v11 + 1;
    *(_OWORD *)&v9[2 * v11 + 4] = v19;
  }
  else
  {
    uint64_t v9 = _swiftEmptyArrayStorage;
  }
  sub_10008A898((uint64_t)v27, (uint64_t)v23);
  sub_10008A898((uint64_t)v23, (uint64_t)v21);
  sub_100082C28((uint64_t *)&unk_1009910B0);
  sub_100082C28(&qword_1009816A0);
  if ((swift_dynamicCast() & 1) == 0) {
    long long v22 = 0uLL;
  }
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v23);
  if ((void)v22)
  {
    long long v20 = v22;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
      uint64_t v9 = sub_100031974(0, v9[2] + 1, 1, v9);
    }
    unint64_t v13 = v9[2];
    unint64_t v12 = v9[3];
    long long v14 = v20;
    if (v13 >= v12 >> 1)
    {
      uint64_t v18 = sub_100031974((void *)(v12 > 1), v13 + 1, 1, v9);
      long long v14 = v20;
      uint64_t v9 = v18;
    }
    v9[2] = v13 + 1;
    *(_OWORD *)&v9[2 * v13 + 4] = v14;
  }
  swift_arrayDestroy();
  ShelfBasedCollectionViewController.shelfComponentTypeMappingProvider.getter();
  uint64_t v15 = type metadata accessor for GenericPageLayoutSectionProvider();
  swift_allocObject();
  sub_100082C6C((uint64_t)v23, (uint64_t)v21);
  swift_retain();
  uint64_t v16 = BasePageLayoutSectionProvider.init(componentTypeMappingProvider:visibleItemsObserverProviders:componentHeightCache:useEstimatedLayoutSizing:)();
  uint64_t result = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v23);
  a1[3] = v15;
  a1[4] = (uint64_t)&protocol witness table for BasePageLayoutSectionProvider;
  *a1 = v16;
  return result;
}

id sub_10033D5A8()
{
  uint64_t v0 = (void *)sub_100340F78();

  return v0;
}

id sub_10033D5DC()
{
  return *(id *)(v0 + qword_1009E2BF0);
}

void sub_10033D5EC(void *a1)
{
}

uint64_t (*sub_10033D5F8())()
{
  return j_j__swift_endAccess;
}

void sub_10033D654(void *a1)
{
}

uint64_t (*sub_10033D660())()
{
  return j_j__swift_endAccess;
}

void sub_10033D6BC(char a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = swift_isaMask & *v2;
  uint64_t v5 = type metadata accessor for ViewWillDisappearReason();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)v14 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = *(void *)(v4 + 640);
  long long v10 = *(_OWORD *)(v4 + 608);
  v14[0] = *(_OWORD *)(v4 + 592);
  v14[1] = v10;
  _OWORD v14[2] = *(_OWORD *)(v4 + 624);
  uint64_t v15 = v9;
  unint64_t v11 = (objc_class *)type metadata accessor for BaseDiffableShelfViewController();
  v16.receiver = v2;
  v16.super_class = v11;
  [super viewWillDisappear:a1 & 1];
  static ViewWillDisappearReason.inferred(for:)();
  dispatch thunk of DiffablePagePresenter.viewWillDisappear(forReason:)();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  if (*((unsigned char *)v2 + qword_1009E2C00) == 1)
  {
    type metadata accessor for VideoPlaybackCoordinator();
    unint64_t v12 = (void *)inject(_:from:)();
    dispatch thunk of VideoPlaybackCoordinator.pauseAutoPlayVideo()();
  }
  type metadata accessor for PlaybackCoordinator();
  type metadata accessor for ObjectGraph();
  inject<A, B>(_:from:)();
  unint64_t v13 = *(void **)&v14[0];
  dispatch thunk of PlaybackCoordinator.pause()();
}

void sub_10033D8B4(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_10033D6BC(a3);
}

uint64_t sub_10033D908(char a1)
{
  uint64_t v2 = v1;
  long long v5 = *(_OWORD *)((swift_isaMask & *v2) + 0x250);
  long long v6 = *(_OWORD *)((swift_isaMask & *v2) + 0x260);
  long long v7 = *(_OWORD *)((swift_isaMask & *v2) + 0x270);
  uint64_t v8 = *(void *)((swift_isaMask & *v2) + 0x280);
  v9.receiver = v2;
  v9.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  [super viewDidDisappear:a1 & 1, v5, v6, v7, v8];
  dispatch thunk of DiffablePagePresenter.viewDidDisappear()();
  return ArtworkLoader.isOccluded.setter();
}

void sub_10033D9E0(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_10033D908(a3);
}

uint64_t sub_10033DA34()
{
  return sub_10033DF78((SEL *)&selRef_didReceiveMemoryWarning, (uint64_t)&protocol conformance descriptor for DiffablePagePresenter<A>, (uint64_t (*)(void, uint64_t))&ViewControllerPresenter.viewDidReceiveMemoryWarning());
}

void sub_10033DA68(void *a1)
{
  id v1 = a1;
  sub_10033DF78((SEL *)&selRef_didReceiveMemoryWarning, (uint64_t)&protocol conformance descriptor for DiffablePagePresenter<A>, (uint64_t (*)(void, uint64_t))&ViewControllerPresenter.viewDidReceiveMemoryWarning());
}

uint64_t sub_10033DAE4()
{
  long long v2 = *(_OWORD *)((swift_isaMask & *v0) + 0x250);
  long long v3 = *(_OWORD *)((swift_isaMask & *v0) + 0x260);
  long long v4 = *(_OWORD *)((swift_isaMask & *v0) + 0x270);
  uint64_t v5 = *(void *)((swift_isaMask & *v0) + 0x280);
  v6.receiver = v0;
  v6.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  [super as_viewWillBecomePartiallyVisible:v2, v3, v4, v5];
  return dispatch thunk of DiffablePagePresenter.viewWillBecomePartiallyVisible()();
}

void sub_10033DB9C(void *a1)
{
  id v1 = a1;
  sub_10033DAE4();
}

void sub_10033DBE4()
{
  long long v2 = *(void **)((swift_isaMask & *v0) + 0x250);
  v3.receiver = v0;
  v3.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  [super as_viewDidBecomePartiallyVisible];
  swift_getWitnessTable();
  AppStoreViewControllerPresenter.viewDidBecomePartiallyVisible()();
  if (*((unsigned char *)v0 + qword_1009E2C00) == 1)
  {
    type metadata accessor for VideoPlaybackCoordinator();
    id v1 = (void *)inject(_:from:)();
    dispatch thunk of VideoPlaybackCoordinator.pauseAutoPlayVideo()();
  }
  ArtworkLoader.isOccluded.setter();
  type metadata accessor for PlaybackCoordinator();
  type metadata accessor for ObjectGraph();
  inject<A, B>(_:from:)();
  dispatch thunk of PlaybackCoordinator.pause()();
}

void sub_10033DD78(void *a1)
{
  id v1 = a1;
  sub_10033DBE4();
}

void sub_10033DDC0()
{
  long long v3 = *(_OWORD *)((swift_isaMask & *v0) + 0x250);
  v4.receiver = v0;
  v4.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  [super as_viewWillBecomeFullyVisible];
  dispatch thunk of DiffablePagePresenter.viewWillBecomeFullyVisible()();
  type metadata accessor for VideoPlaybackCoordinator();
  id v1 = (void *)inject(_:from:)();
  dispatch thunk of VideoPlaybackCoordinator.resumeAutoPlayVideo()();
  type metadata accessor for PlaybackCoordinator();
  BaseObjectGraph.optional<A>(_:)();
  if ((void)v3)
  {
    id v2 = (id)v3;
    dispatch thunk of PlaybackCoordinator.resume()();
  }
  ArtworkLoader.isOccluded.setter();
}

void sub_10033DEFC(void *a1)
{
  id v1 = a1;
  sub_10033DDC0();
}

uint64_t sub_10033DF44()
{
  return sub_10033DF78((SEL *)&selRef_as_viewDidBecomeFullyVisible, (uint64_t)&protocol conformance descriptor for DiffablePagePresenter<A>, (uint64_t (*)(void, uint64_t))&AppStoreViewControllerPresenter.viewDidBecomeFullyVisible());
}

uint64_t sub_10033DF78(SEL *a1, uint64_t a2, uint64_t (*a3)(void, uint64_t))
{
  long long v8 = *(_OWORD *)((swift_isaMask & *v3) + 0x258);
  v9.receiver = v3;
  v9.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  [super a1];
  uint64_t WitnessTable = swift_getWitnessTable();
  return a3(v8, WitnessTable);
}

void sub_10033E074(void *a1)
{
  id v1 = a1;
  sub_10033DF78((SEL *)&selRef_as_viewDidBecomeFullyVisible, (uint64_t)&protocol conformance descriptor for DiffablePagePresenter<A>, (uint64_t (*)(void, uint64_t))&AppStoreViewControllerPresenter.viewDidBecomeFullyVisible());
}

id sub_10033E0F0(void *a1, double a2, double a3)
{
  uint64_t v7 = swift_isaMask & *v3;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100991070);
  __chkstk_darwin(v8 - 8);
  long long v10 = (char *)&aBlock - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = *(void *)(v7 + 640);
  long long v12 = *(_OWORD *)(v7 + 608);
  long long aBlock = *(_OWORD *)(v7 + 592);
  long long v20 = v12;
  long long v21 = *(_OWORD *)(v7 + 624);
  uint64_t v22 = v11;
  unint64_t v13 = (objc_class *)type metadata accessor for BaseDiffableShelfViewController();
  v23.receiver = v3;
  v23.super_class = v13;
  [super viewWillTransitionToSize:a1 withTransitionCoordinator:a2 a3];
  id result = [v3 isViewLoaded];
  if (result)
  {
    uint64_t v15 = swift_allocObject();
    *(void *)(v15 + 16) = v3;
    *(double *)(v15 + 24) = a2;
    *(double *)(v15 + 32) = a3;
    *(void *)&long long v21 = sub_100340FF4;
    *((void *)&v21 + 1) = v15;
    *(void *)&long long aBlock = _NSConcreteStackBlock;
    *((void *)&aBlock + 1) = 1107296256;
    *(void *)&long long v20 = sub_1006DEF0C;
    *((void *)&v20 + 1) = &unk_1008C65F8;
    objc_super v16 = _Block_copy(&aBlock);
    uint64_t v17 = v3;
    swift_release();
    [a1 animateAlongsideTransition:v16 completion:0];
    _Block_release(v16);
    (*(void (**)(void))((swift_isaMask & *v17) + 0x408))();
    uint64_t v18 = sub_100082C28(&qword_100989CD8);
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56))(v10, 1, 1, v18);
    sub_1000419BC((uint64_t)v10);
    sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100991070);
    swift_getWitnessTable();
    return (id)ShelfBasedCollectionViewController.updateGlobalSupplementaries(fitting:)();
  }
  return result;
}

void sub_10033E3B4(double a1, double a2, uint64_t a3, void *a4)
{
  long long v10 = *(_OWORD *)((swift_isaMask & *a4) + 0x250);
  long long v11 = *(_OWORD *)((swift_isaMask & *a4) + 0x260);
  long long v12 = *(_OWORD *)((swift_isaMask & *a4) + 0x270);
  uint64_t v13 = *(void *)((swift_isaMask & *a4) + 0x280);
  type metadata accessor for BaseDiffableShelfViewController();
  sub_10003A8C8(*(uint64_t *)&a1, *(uint64_t *)&a2, 0);
  id v7 = [a4 collectionView:v10, v11, v12, v13];
  if (v7)
  {
    uint64_t v8 = v7;
    id v9 = [v7 collectionViewLayout];

    [v9 invalidateLayout];
  }
}

void sub_10033E4C8(void *a1, double a2, double a3, uint64_t a4, void *a5)
{
  swift_unknownObjectRetain();
  id v9 = a1;
  sub_10033E0F0(a5, a2, a3);
  swift_unknownObjectRelease();
}

uint64_t sub_10033E548(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  uint64_t v40 = a8;
  id v36 = a1;
  uint64_t v14 = type metadata accessor for ShelfBackground();
  uint64_t v38 = *(void *)(v14 - 8);
  uint64_t v39 = v14;
  __chkstk_darwin(v14);
  objc_super v16 = (void **)((char *)&v35 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v17 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v37 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  long long v19 = (char *)&v35 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v20 - 8);
  uint64_t v22 = (char *)&v35 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = type metadata accessor for ShelfLayoutContext();
  uint64_t v24 = *(void *)(v23 - 8);
  __chkstk_darwin(v23);
  uint64_t v26 = (char *)&v35 - ((v25 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (!Strong)
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v24 + 56))(v22, 1, 1, v23);
    return sub_100082BCC((uint64_t)v22, &qword_100991060);
  }
  uint64_t v28 = (void *)Strong;
  uint64_t v41 = a6;
  uint64_t v42 = a7;
  uint64_t v43 = v40;
  uint64_t v44 = a9;
  uint64_t v45 = a10;
  uint64_t v46 = a11;
  uint64_t v47 = a12;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  ShelfBasedCollectionViewController.shelfLayoutContext(for:)();

  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v24 + 48))(v22, 1, v23) == 1) {
    return sub_100082BCC((uint64_t)v22, &qword_100991060);
  }
  (*(void (**)(char *, char *, uint64_t))(v24 + 32))(v26, v22, v23);
  ShelfLayoutContext.shelf.getter();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v37 + 8))(v19, v17);
  uint64_t v30 = v38;
  uint64_t v29 = v39;
  if ((*(unsigned int (**)(void **, uint64_t))(v38 + 88))(v16, v39) == enum case for ShelfBackground.color(_:))
  {
    (*(void (**)(void **, uint64_t))(v30 + 96))(v16, v29);
    uint64_t v31 = *v16;
    uint64_t v32 = (char *)v16 + *(int *)(sub_100082C28(&qword_100984570) + 48);
    uint64_t v33 = type metadata accessor for ShelfBackgroundStyle();
    (*(void (**)(char *, uint64_t))(*(void *)(v33 - 8) + 8))(v32, v33);
    [v36 setBackgroundColor:v31];

    return (*(uint64_t (**)(char *, uint64_t))(v24 + 8))(v26, v23);
  }
  else
  {
    (*(void (**)(char *, uint64_t))(v24 + 8))(v26, v23);
    return (*(uint64_t (**)(void **, uint64_t))(v30 + 8))(v16, v29);
  }
}

void sub_10033E9A8(void *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, uint64_t a12)
{
  uint64_t v49 = a7;
  uint64_t v50 = a8;
  uint64_t v48 = a6;
  uint64_t v47 = type metadata accessor for ShelfBackground();
  uint64_t v46 = *(void *)(v47 - 8);
  __chkstk_darwin(v47);
  uint64_t v45 = (void **)((char *)&v41 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v44 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v43 = *(void *)(v44 - 8);
  __chkstk_darwin(v44);
  uint64_t v15 = (char *)&v41 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v41 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = type metadata accessor for ShelfLayoutContext();
  uint64_t v51 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v41 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_100082C28((uint64_t *)&unk_100991160);
  uint64_t v23 = *(void *)(v22 - 8);
  __chkstk_darwin(v22);
  uint64_t v25 = (char *)&v41 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v27 = (void *)Strong;
    id v42 = a1;
    uint64_t v28 = (id *)(Strong + qword_100990ED0);
    swift_beginAccess();
    if (!*v28)
    {

      return;
    }
    id v29 = *v28;

    dispatch thunk of UICollectionViewDiffableDataSource.snapshot()();
    uint64_t v30 = NSDiffableDataSourceSnapshot.numberOfSections.getter();
    (*(void (**)(char *, uint64_t))(v23 + 8))(v25, v22);
    swift_beginAccess();
    uint64_t v31 = swift_unknownObjectWeakLoadStrong();
    if (v31)
    {
      if (__OFSUB__(v30, 1))
      {
        __break(1u);
        return;
      }
      uint64_t v32 = (void *)v31;
      uint64_t v52 = v48;
      uint64_t v53 = v49;
      uint64_t v54 = v50;
      uint64_t v55 = a9;
      uint64_t v56 = a10;
      uint64_t v57 = a11;
      uint64_t v58 = a12;
      type metadata accessor for BaseDiffableShelfViewController();
      swift_getWitnessTable();
      ShelfBasedCollectionViewController.shelfLayoutContext(for:)();

      uint64_t v33 = v51;
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v51 + 48))(v18, 1, v19) != 1)
      {
        (*(void (**)(char *, char *, uint64_t))(v33 + 32))(v21, v18, v19);
        ShelfLayoutContext.shelf.getter();
        swift_getKeyPath();
        uint64_t v34 = v45;
        uint64_t v35 = v44;
        ReadOnlyLens.subscript.getter();
        swift_release();
        (*(void (**)(char *, uint64_t))(v43 + 8))(v15, v35);
        uint64_t v36 = v46;
        uint64_t v37 = v47;
        if ((*(unsigned int (**)(void **, uint64_t))(v46 + 88))(v34, v47) == enum case for ShelfBackground.color(_:))
        {
          (*(void (**)(void **, uint64_t))(v36 + 96))(v34, v37);
          uint64_t v38 = *v34;
          uint64_t v39 = (char *)v34 + *(int *)(sub_100082C28(&qword_100984570) + 48);
          uint64_t v40 = type metadata accessor for ShelfBackgroundStyle();
          (*(void (**)(char *, uint64_t))(*(void *)(v40 - 8) + 8))(v39, v40);
          [v42 setBackgroundColor:v38];

          (*(void (**)(char *, uint64_t))(v33 + 8))(v21, v19);
        }
        else
        {
          (*(void (**)(char *, uint64_t))(v33 + 8))(v21, v19);
          (*(void (**)(void **, uint64_t))(v36 + 8))(v34, v37);
        }
        return;
      }
    }
    else
    {
      (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v51 + 56))(v18, 1, 1, v19);
    }
    sub_100082BCC((uint64_t)v18, &qword_100991060);
  }
}

uint64_t sub_10033EF70(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = a1;
  sub_100082B68(a2, (uint64_t)v6, (uint64_t *)&unk_100982B40);
  sub_100082B68((uint64_t)v6, (uint64_t)v4, (uint64_t *)&unk_100982B40);
  uint64_t v2 = swift_retain();
  sub_10033C4E8(v2, (uint64_t)v4);
  sub_100082BCC((uint64_t)&v5, &qword_10098E828);
  return sub_100082BCC((uint64_t)v4, (uint64_t *)&unk_100982B40);
}

uint64_t sub_10033F018()
{
  swift_beginAccess();
  uint64_t result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    id v1 = (void *)result;
    swift_retain();

    uint64_t v2 = dispatch thunk of TimedMetricsPagePresenter.pendingPageRender.getter();
    uint64_t result = swift_release();
    if (v2)
    {
      PendingPageRender.isLayoutPending.setter();
      return swift_release();
    }
  }
  return result;
}

uint64_t sub_10033F0AC(uint64_t a1, void *a2, uint64_t a3)
{
  return sub_100035738(a1, a2, a3, (void (*)(id, char *, uint64_t, void, uint64_t, uint64_t))&dispatch thunk of CollectionElementsObserver.willDisplayCell(_:in:collectionView:asPartOf:));
}

uint64_t sub_10033F0C4(uint64_t a1, void *a2, uint64_t a3)
{
  return sub_100035738(a1, a2, a3, (void (*)(id, char *, uint64_t, void, uint64_t, uint64_t))&dispatch thunk of CollectionElementsObserver.didEndDisplayingCell(_:in:collectionView:asPartOf:));
}

uint64_t sub_10033F0DC(void *a1, uint64_t a2, void *a3, void *a4, uint64_t a5)
{
  return sub_10003561C(a1, a2, a3, a4, a5, (void (*)(id, char *, uint64_t, void, uint64_t, uint64_t))&dispatch thunk of CollectionElementsObserver.didEndDisplayingCell(_:in:collectionView:asPartOf:));
}

void sub_10033F0F4(void *a1)
{
  uint64_t v3 = swift_isaMask & *v1;
  uint64_t v4 = sub_100082C28(&qword_100984EA0);
  __chkstk_darwin(v4 - 8);
  objc_super v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for ItemLayoutContext();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  long long v10 = (char *)&v17 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
  id v18 = [a1 cellForItemAtIndexPath:isa];

  if (v18)
  {
    swift_getObjectType();
    if (swift_conformsToProtocol2()) {
      id v12 = v18;
    }
    else {
      id v12 = 0;
    }
    if (v12)
    {
      uint64_t v17 = a1;
      swift_getObjectType();
      id v13 = v18;
      dispatch thunk of ShelfComponentView.itemLayoutContext.getter();
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1)
      {

        sub_100082BCC((uint64_t)v6, &qword_100984EA0);
      }
      else
      {
        (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v10, v6, v7);
        uint64_t v15 = *(void *)(v3 + 640);
        long long v16 = *(_OWORD *)(v3 + 608);
        long long v19 = *(_OWORD *)(v3 + 592);
        long long v20 = v16;
        long long v21 = *(_OWORD *)(v3 + 624);
        uint64_t v22 = v15;
        type metadata accessor for BaseDiffableShelfViewController();
        swift_getWitnessTable();
        ShelfBasedCollectionViewController.collectionElementsObserver.getter();
        swift_getObjectType();
        dispatch thunk of CollectionElementsObserver.didSelectCell(_:in:collectionView:asPartOf:)();

        swift_unknownObjectRelease();
        (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
      }
    }
    else
    {
      id v14 = v18;
    }
  }
}

uint64_t sub_10033F418(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = type metadata accessor for IndexPath();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v12 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();
  id v9 = a3;
  id v10 = a1;
  sub_10033F0F4(v9);

  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

uint64_t sub_10033F514()
{
  return ShelfBasedCollectionViewController.itemLayoutContext(at:)();
}

uint64_t sub_10033F600(void *a1, uint64_t a2, void *a3)
{
  type metadata accessor for IndexPath();
  uint64_t v5 = static Array._unconditionallyBridgeFromObjectiveC(_:)();
  id v6 = a3;
  id v7 = a1;
  sub_10033C558((uint64_t)v6, v5);

  return swift_bridgeObjectRelease();
}

uint64_t sub_10033F680(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  void (*v22)(long long *__return_ptr, uint64_t, uint64_t, __n128);
  uint64_t v23;
  uint64_t v24;
  uint64_t v25;
  uint64_t v26;
  uint64_t v27;
  uint64_t v28;
  uint64_t v29;
  uint64_t v30;
  uint64_t v31;
  uint64_t v32;
  uint64_t v33;
  uint64_t v34;
  uint64_t v35;
  long long *v36;
  char *v37;
  uint64_t v38;
  int v39;
  char *v40;
  uint64_t *v41;
  long long *v42;
  uint64_t v44;
  uint64_t v45;
  char *v46;
  uint64_t v47;
  uint64_t v48;
  char *v49;
  uint64_t v50;
  long long *v51;
  uint64_t v52;
  uint64_t v53;
  char *v54;
  uint64_t v55;
  uint64_t v56;
  uint64_t v57;
  uint64_t v58;
  long long v59;
  uint64_t v60;
  uint64_t v61;
  uint64_t v62;
  uint64_t v63;
  uint64_t v64;
  long long v65;
  uint64_t v66;

  uint64_t v58 = a5;
  id v10 = (void *)(swift_isaMask & *v5);
  uint64_t v11 = sub_100082C28(&qword_100984EA0);
  __chkstk_darwin(v11 - 8);
  uint64_t v51 = (long long *)((char *)&v44 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v13 = type metadata accessor for ItemLayoutContext();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v54 = (char *)&v44 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v16 - 8);
  id v18 = (char *)&v44 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v57 = type metadata accessor for ShelfLayoutContext();
  uint64_t v19 = *(void *)(v57 - 8);
  __n128 v20 = __chkstk_darwin(v57);
  uint64_t v46 = (char *)&v44 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = (void (*)(long long *__return_ptr, uint64_t, uint64_t, __n128))v10[140];
  uint64_t v52 = a3;
  uint64_t v53 = a4;
  v22(&v59, a3, a4, v20);
  uint64_t v48 = a2;
  uint64_t v47 = a1;
  uint64_t v55 = v14;
  uint64_t v56 = v13;
  uint64_t v50 = v19;
  uint64_t v49 = v18;
  if (v61)
  {
    sub_100081DD4(&v59, (uint64_t)&v65);
    uint64_t v45 = v10[74];
    uint64_t v44 = v10[75];
    uint64_t v23 = v10[76];
    uint64_t v24 = v10[77];
    uint64_t v25 = v10[78];
    uint64_t v26 = v10[79];
    uint64_t v27 = v10[80];
    *(void *)&uint64_t v59 = v45;
    *((void *)&v59 + 1) = v44;
    uint64_t v60 = v23;
    uint64_t v61 = v24;
    uint64_t v62 = v25;
    uint64_t v63 = v26;
    uint64_t v64 = v27;
    type metadata accessor for BaseDiffableShelfViewController();
    swift_getWitnessTable();
    ShelfBasedCollectionViewController.collectionElementsObserver.getter();
    swift_getObjectType();
    dispatch thunk of CollectionElementsObserver.didEndDisplayingGlobalSupplementary(_:registeredWith:collectionView:asPartOf:)();
    swift_unknownObjectRelease();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v65);
    uint64_t v28 = v26;
    id v29 = v44;
    uint64_t v30 = v45;
  }
  else
  {
    sub_100082BCC((uint64_t)&v59, &qword_100991068);
    uint64_t v30 = v10[74];
    id v29 = v10[75];
    uint64_t v23 = v10[76];
    uint64_t v24 = v10[77];
    uint64_t v25 = v10[78];
    uint64_t v28 = v10[79];
    uint64_t v27 = v10[80];
  }
  uint64_t v31 = v57;
  *(void *)&uint64_t v59 = v30;
  *((void *)&v59 + 1) = v29;
  uint64_t v60 = v23;
  uint64_t v61 = v24;
  uint64_t v62 = v25;
  uint64_t v63 = v28;
  uint64_t v64 = v27;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  uint64_t v32 = (uint64_t)v49;
  ShelfBasedCollectionViewController.shelfLayoutContext(containing:)();
  uint64_t v33 = v50;
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v50 + 48))(v32, 1, v31) == 1)
  {
    sub_100082BCC(v32, &qword_100991060);
    uint64_t v35 = v55;
    uint64_t v34 = v56;
    uint64_t v36 = v51;
  }
  else
  {
    uint64_t v37 = v46;
    (*(void (**)(char *, uint64_t, uint64_t))(v33 + 32))(v46, v32, v31);
    ShelfBasedCollectionViewController.shelfSupplementaryProvider.getter();
    swift_getObjectType();
    dispatch thunk of ShelfSupplementaryProvider.supplementaryRegistration(for:in:asPartOf:)();
    swift_unknownObjectRelease();
    uint64_t v38 = v33;
    uint64_t v35 = v55;
    uint64_t v36 = v51;
    if (v66)
    {
      sub_100081DD4(&v65, (uint64_t)&v59);
      ShelfBasedCollectionViewController.collectionElementsObserver.getter();
      swift_getObjectType();
      dispatch thunk of CollectionElementsObserver.didEndDisplayingShelfSupplementary(_:in:registeredWith:collectionView:asPartOf:)();
      swift_unknownObjectRelease();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v59);
      (*(void (**)(char *, uint64_t))(v38 + 8))(v37, v57);
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v38 + 8))(v37, v57);
      sub_100082BCC((uint64_t)&v65, &qword_100991068);
    }
    uint64_t v34 = v56;
  }
  ShelfBasedCollectionViewController.itemLayoutContext(at:)();
  uint64_t v39 = (*(uint64_t (**)(long long *, uint64_t, uint64_t))(v35 + 48))(v36, 1, v34);
  uint64_t v40 = v54;
  if (v39 == 1)
  {
    uint64_t v41 = &qword_100984EA0;
    id v42 = v36;
  }
  else
  {
    (*(void (**)(char *, long long *, uint64_t))(v35 + 32))(v54, v36, v34);
    ShelfBasedCollectionViewController.itemSupplementaryProvider.getter();
    swift_getObjectType();
    dispatch thunk of ItemSupplementaryProvider.supplementaryRegistration(for:in:asPartOf:)();
    swift_unknownObjectRelease();
    if (v66)
    {
      sub_100081DD4(&v65, (uint64_t)&v59);
      ShelfBasedCollectionViewController.collectionElementsObserver.getter();
      swift_getObjectType();
      dispatch thunk of CollectionElementsObserver.didEndDisplayingItemSupplementary(_:in:registeredWith:collectionView:asPartOf:)();
      swift_unknownObjectRelease();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v59);
      return (*(uint64_t (**)(char *, uint64_t))(v35 + 8))(v40, v34);
    }
    (*(void (**)(char *, uint64_t))(v35 + 8))(v40, v34);
    uint64_t v41 = &qword_100991068;
    id v42 = &v65;
  }
  return sub_100082BCC((uint64_t)v42, v41);
}

uint64_t sub_10033FD58(void *a1, uint64_t a2, void *a3, void *a4, uint64_t a5, uint64_t a6)
{
  return sub_100013D74(a1, a2, a3, a4, a5, a6, (void (*)(id, id, uint64_t, uint64_t, char *))sub_10033F680);
}

Class sub_10033FD70(void *a1, uint64_t a2, void *a3, uint64_t a4)
{
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v7 - 8);
  id v9 = (char *)&v19 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v19 - v11;
  if (a4)
  {
    static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v13 = type metadata accessor for IndexPath();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v13 - 8) + 56))(v9, 0, 1, v13);
  }
  else
  {
    uint64_t v13 = type metadata accessor for IndexPath();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 - 8) + 56))(v9, 1, 1, v13);
  }
  id v14 = a3;
  id v15 = a1;
  sub_10033C69C((uint64_t)v9, (uint64_t)v12);

  sub_100082BCC((uint64_t)v9, (uint64_t *)&unk_10098ABB0);
  type metadata accessor for IndexPath();
  uint64_t v16 = *(void *)(v13 - 8);
  Class isa = 0;
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v16 + 48))(v12, 1, v13) != 1)
  {
    Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
    (*(void (**)(char *, uint64_t))(v16 + 8))(v12, v13);
  }

  return isa;
}

void sub_10033FF64(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  swift_unknownObjectRetain();
  id v5 = a1;
  sub_100340D3C();

  swift_unknownObjectRelease();
}

id sub_10033FFE8(uint64_t a1)
{
  return [*(id *)(v1 + qword_1009E2BF0) scrollViewWillBeginDecelerating:a1];
}

void sub_100340004(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_10033FFE8((uint64_t)v4);
}

id sub_10034006C(uint64_t a1)
{
  return [*(id *)(v1 + qword_1009E2BF0) scrollViewDidEndDecelerating:a1];
}

void sub_100340088(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_10034006C((uint64_t)v4);
}

id sub_1003400F0(uint64_t a1)
{
  return [*(id *)(v1 + qword_1009E2BF0) scrollViewWillBeginDragging:a1];
}

void sub_10034010C(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_1003400F0((uint64_t)v4);
}

id sub_100340174(uint64_t a1, char a2)
{
  return [*(id *)(v2 + qword_1009E2BF0) scrollViewDidEndDragging:a1 willDecelerate:a2 & 1];
}

void sub_100340198(void *a1, uint64_t a2, void *a3, char a4)
{
  id v6 = a3;
  id v7 = a1;
  sub_100340174((uint64_t)v6, a4);
}

uint64_t sub_100340208@<X0>(uint64_t a1@<X1>, uint64_t *a2@<X8>)
{
  uint64_t v31 = a1;
  uint64_t v32 = a2;
  uint64_t v2 = type metadata accessor for Dependency();
  uint64_t v29 = *(void *)(v2 - 8);
  uint64_t v30 = v2;
  __chkstk_darwin(v2);
  id v4 = (char *)&v24 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for MetricsFieldsContext();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v24 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v24 - v10;
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v27 = *(void *)(v12 - 8);
  uint64_t v28 = v12;
  __chkstk_darwin(v12);
  id v14 = (char *)&v24 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v24 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  ObjectGraph.actionDispatcher.getter();
  uint64_t v18 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v26 = *(void *)(v18 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v26 + 48))(v17, 1, v18) == 1)
  {
    uint64_t result = sub_100082BCC((uint64_t)v17, &qword_1009875B0);
    uint64_t v20 = 0;
  }
  else
  {
    v33[3] = type metadata accessor for Action();
    v33[4] = sub_1000098D4((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
    v33[0] = v31;
    swift_retain_n();
    uint64_t v25 = v18;
    sub_1005365D0();
    (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v8, v11, v5);
    Dependency.init<A>(satisfying:with:)();
    dispatch thunk of BaseObjectGraph.adding(dependency:)();
    (*(void (**)(char *, uint64_t))(v29 + 8))(v4, v30);
    (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v14, v11, v5);
    uint64_t v22 = v27;
    uint64_t v21 = v28;
    (*(void (**)(char *, void, uint64_t))(v27 + 104))(v14, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v28);
    uint64_t v23 = v25;
    uint64_t v20 = ActionDispatcher.perform(_:withMetrics:asPartOf:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v22 + 8))(v14, v21);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v33);
    swift_release();
    uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v26 + 8))(v17, v23);
  }
  *uint64_t v32 = v20;
  return result;
}

void sub_10034064C(void *a1)
{
  id v1 = a1;
  sub_10033A0C0();
}

void sub_100340694(void *a1)
{
  id v1 = a1;
  sub_10033A0E0();
}

uint64_t sub_1003406DC()
{
  swift_release();
  swift_release();

  uint64_t v1 = v0 + qword_1009E2BB8;
  uint64_t v2 = type metadata accessor for ShelfBasedCollectionViewControllerDependencies();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(v1, v2);
  swift_release();
  swift_release();

  swift_release();
  swift_release();

  swift_release();

  return swift_release();
}

id sub_100340818()
{
  long long v2 = *(_OWORD *)((swift_isaMask & *v0) + 0x250);
  long long v3 = *(_OWORD *)((swift_isaMask & *v0) + 0x260);
  long long v4 = *(_OWORD *)((swift_isaMask & *v0) + 0x270);
  uint64_t v5 = *(void *)((swift_isaMask & *v0) + 0x280);
  v6.receiver = v0;
  v6.super_class = (Class)type metadata accessor for BaseDiffableShelfViewController();
  return [super dealloc:v2, v3, v4, v5];
}

uint64_t sub_1003408B8(uint64_t a1)
{
  swift_release();
  swift_release();

  uint64_t v2 = a1 + qword_1009E2BB8;
  uint64_t v3 = type metadata accessor for ShelfBasedCollectionViewControllerDependencies();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v3 - 8) + 8))(v2, v3);
  swift_release();
  swift_release();

  swift_release();
  swift_release();

  swift_release();

  return swift_release();
}

uint64_t sub_1003409F8()
{
  return (*(uint64_t (**)(void))((swift_isaMask & *v0) + 0x378))();
}

uint64_t sub_100340A34()
{
  return (*(uint64_t (**)(void))((swift_isaMask & *v0) + 0x4C0))();
}

uint64_t sub_100340A70()
{
  return (*(uint64_t (**)(void))((swift_isaMask & *v0) + 0x4C8))();
}

uint64_t sub_100340AAC()
{
  return (*(uint64_t (**)(void))((swift_isaMask & *v0) + 0x4B8))();
}

void sub_100340AEC(void *a1)
{
  [v1 setCollectionView:a1];
}

void (*sub_100340B34(void *a1))(id *a1)
{
  a1[1] = v1;
  *a1 = [v1 collectionView];
  return sub_100340B90;
}

void sub_100340B90(id *a1)
{
  id v1 = *a1;
  [a1[1] setCollectionView:];
}

uint64_t (*sub_100340BD8(void *a1))()
{
  uint64_t v2 = malloc(0x28uLL);
  *a1 = v2;
  v2[4] = sub_10033D660();
  return sub_100090DB4;
}

uint64_t (*sub_100340C30(void *a1))()
{
  uint64_t v2 = malloc(0x28uLL);
  *a1 = v2;
  v2[4] = sub_10033D5F8();
  return sub_100090DB4;
}

uint64_t sub_100340C8C()
{
  return (*(uint64_t (**)(void))((swift_isaMask & *v0) + 0x468))();
}

uint64_t sub_100340CCC()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100340D04()
{
  swift_release();

  return _swift_deallocObject(v0, 80, 7);
}

uint64_t sub_100340D3C()
{
  uint64_t v1 = swift_isaMask & *v0;
  uint64_t v2 = sub_100082C28(&qword_100991060);
  __chkstk_darwin(v2 - 8);
  long long v4 = (char *)v12 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for ShelfLayoutContext();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)v12 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = *(void *)(v1 + 640);
  long long v10 = *(_OWORD *)(v1 + 608);
  v12[0] = *(_OWORD *)(v1 + 592);
  v12[1] = v10;
  _OWORD v12[2] = *(_OWORD *)(v1 + 624);
  uint64_t v13 = v9;
  type metadata accessor for BaseDiffableShelfViewController();
  swift_getWitnessTable();
  ShelfBasedCollectionViewController.shelfLayoutContext(for:)();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) == 1) {
    return sub_100082BCC((uint64_t)v4, &qword_100991060);
  }
  (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v8, v4, v5);
  dispatch thunk of CompoundScrollObserver.didScroll(orthogonalScrollView:in:)();
  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

uint64_t sub_100340F78()
{
  return *(void *)(v0 + qword_1009E2BF0);
}

uint64_t sub_100340F88()
{
  return sub_10033F018();
}

uint64_t sub_100340FBC()
{
  return _swift_deallocObject(v0, 40, 7);
}

void sub_100340FF4(uint64_t a1)
{
  sub_10033E3B4(*(double *)(v1 + 24), *(double *)(v1 + 32), a1, *(void **)(v1 + 16));
}

uint64_t (*sub_100341000(void *a1))(uint64_t a1, uint64_t a2)
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_10034112C;
}

uint64_t sub_100341064()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_1003410A0()
{
  swift_release();
  swift_unknownObjectRelease();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_1003410E0@<X0>(char *a1@<X8>, double a2@<D0>, double a3@<D1>)
{
  return sub_1003B4120(*(void *)(v3 + 24), *(void *)(v3 + 32), a1, a2, a3);
}

uint64_t sub_1003410EC(void *a1)
{
  return sub_10054C170(a1, *(uint64_t (**)(void, void *))(v1 + 16));
}

uint64_t sub_1003410F4()
{
  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10034112C(uint64_t a1, uint64_t a2)
{
  return sub_10033EF70(a1, a2);
}

uint64_t sub_100341148@<X0>(uint64_t *a1@<X8>)
{
  return sub_100340208(*(void *)(v1 + 24), a1);
}

uint64_t sub_100341164()
{
  return sub_10033F514();
}

uint64_t (*sub_100341180(void *a1))()
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_100341320;
}

uint64_t (*sub_1003411E4(void *a1))()
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_100341320;
}

uint64_t (*sub_100341248())(void *a1)
{
  uint64_t v1 = (*(uint64_t (**)(void))(v0 + 16))();
  uint64_t v3 = v2;
  uint64_t v4 = swift_allocObject();
  *(void *)(v4 + 16) = v1;
  *(void *)(v4 + 24) = v3;
  return sub_1003410EC;
}

uint64_t sub_1003412A8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_1003412D8(a1, a2, a3, a4, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, void, void, void, void, void))sub_10033E9A8);
}

uint64_t sub_1003412C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_1003412D8(a1, a2, a3, a4, (uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, void, void, void, void, void))sub_10033E548);
}

uint64_t sub_1003412D8(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t (*a5)(uint64_t, uint64_t, uint64_t, uint64_t, void, void, void, void, void, void, void, void))
{
  return a5(a1, a2, a3, a4, v5[9], v5[2], v5[3], v5[4], v5[5], v5[6], v5[7], v5[8]);
}

uint64_t sub_100341370@<X0>(uint64_t *a1@<X8>)
{
  return sub_100341148(a1);
}

uint64_t sub_10034138C(void *a1, uint64_t a2)
{
  uint64_t v62 = a2;
  uint64_t v3 = type metadata accessor for Dependency();
  uint64_t v58 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v54 = (char *)&v47 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v56 = type metadata accessor for MetricsFieldsContext();
  uint64_t v53 = *(void *)(v56 - 8);
  __chkstk_darwin(v56);
  uint64_t v50 = (char *)&v47 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v51 = (char *)&v47 - v7;
  uint64_t v57 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v55 = *(void *)(v57 - 8);
  __chkstk_darwin(v57);
  uint64_t v52 = (char *)&v47 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v47 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for ActionMetrics();
  __chkstk_darwin(v12 - 8);
  uint64_t v13 = type metadata accessor for NavigationTab();
  uint64_t v61 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v47 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for ReferrerData.Kind();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v47 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = type metadata accessor for ReferrerData();
  uint64_t v59 = *(void *)(v20 - 8);
  uint64_t v60 = v20;
  *(void *)&double v21 = __chkstk_darwin(v20).n128_u64[0];
  uint64_t v63 = (char *)&v47 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v23 = [a1 userInfo:v21];
  if (!v23)
  {
    long long v67 = 0u;
    long long v68 = 0u;
LABEL_12:
    sub_100082BCC((uint64_t)&v67, (uint64_t *)&unk_100982B40);
    return 0;
  }
  uint64_t v24 = v23;
  uint64_t v49 = v11;
  uint64_t v25 = static Dictionary._unconditionallyBridgeFromObjectiveC(_:)();

  uint64_t v64 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  uint64_t v65 = v26;
  AnyHashable.init<A>(_:)();
  if (*(void *)(v25 + 16) && (unint64_t v27 = sub_100407374((uint64_t)v66), (v28 & 1) != 0))
  {
    sub_10008A898(*(void *)(v25 + 56) + 32 * v27, (uint64_t)&v67);
  }
  else
  {
    long long v67 = 0u;
    long long v68 = 0u;
  }
  sub_1000E2D1C((uint64_t)v66);
  swift_bridgeObjectRelease();
  if (!*((void *)&v68 + 1)) {
    goto LABEL_12;
  }
  if ((swift_dynamicCast() & 1) == 0) {
    return 0;
  }
  uint64_t v48 = v3;
  uint64_t v30 = v66[0];
  uint64_t v29 = v66[1];
  if (static String._unconditionallyBridgeFromObjectiveC(_:)() != v30 || v31 != v29)
  {
    char v33 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    if (v33) {
      goto LABEL_15;
    }
    swift_bridgeObjectRelease();
    return 0;
  }
  swift_bridgeObjectRelease();
LABEL_15:
  (*(void (**)(char *, void, uint64_t))(v17 + 104))(v19, enum case for ReferrerData.Kind.spotlight(_:), v16);
  uint64_t v34 = v63;
  ReferrerData.init(app:externalUrl:kind:)();
  type metadata accessor for MetricsActivity();
  static MetricsActivity.current.getter();
  dispatch thunk of MetricsActivity.setReferrerData(_:)();
  swift_release();
  (*(void (**)(char *, void, uint64_t))(v61 + 104))(v15, enum case for NavigationTab.arcade(_:), v13);
  static ActionMetrics.notInstrumented.getter();
  uint64_t v35 = type metadata accessor for TabChangeAction();
  swift_allocObject();
  uint64_t v36 = TabChangeAction.init(navigationTab:actions:popToRoot:presentationStyle:actionMetrics:)();
  uint64_t v37 = (uint64_t)v49;
  ObjectGraph.actionDispatcher.getter();
  uint64_t v38 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v39 = *(void *)(v38 - 8);
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v39 + 48))(v37, 1, v38) == 1)
  {
    (*(void (**)(char *, uint64_t))(v59 + 8))(v34, v60);
    swift_release();
    sub_100082BCC(v37, &qword_1009875B0);
  }
  else
  {
    v66[3] = v35;
    v66[4] = sub_100342A84();
    v66[0] = v36;
    swift_retain_n();
    uint64_t v61 = v36;
    uint64_t v40 = v51;
    sub_1005365D0();
    uint64_t v41 = v53;
    uint64_t v42 = v56;
    (*(void (**)(char *, char *, uint64_t))(v53 + 16))(v50, v40, v56);
    uint64_t v43 = v54;
    Dependency.init<A>(satisfying:with:)();
    dispatch thunk of BaseObjectGraph.adding(dependency:)();
    (*(void (**)(char *, uint64_t))(v58 + 8))(v43, v48);
    uint64_t v44 = v52;
    (*(void (**)(char *, char *, uint64_t))(v41 + 32))(v52, v40, v42);
    uint64_t v45 = v55;
    uint64_t v46 = v57;
    (*(void (**)(char *, void, uint64_t))(v55 + 104))(v44, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v57);
    ActionDispatcher.perform(_:withMetrics:asPartOf:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v45 + 8))(v44, v46);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v66);
    swift_release();
    swift_release();
    (*(void (**)(char *, uint64_t))(v59 + 8))(v63, v60);
    swift_release();
    (*(void (**)(uint64_t, uint64_t))(v39 + 8))(v37, v38);
  }
  return 1;
}

uint64_t _sSo14NSUserActivityC8AppStoreE6handle04userB08asPartOfSbAB_9JetEngine15BaseObjectGraphCtFZ_0(void *a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for Dependency();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v74 = (char *)&v66 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v76 = type metadata accessor for MetricsFieldsContext();
  uint64_t v73 = *(void *)(v76 - 8);
  __chkstk_darwin(v76);
  id v70 = (char *)&v66 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  id v71 = (char *)&v66 - v9;
  uint64_t v77 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v75 = *(void *)(v77 - 8);
  __chkstk_darwin(v77);
  id v72 = (char *)&v66 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v66 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for FlowPresentationContext();
  uint64_t v89 = *(void *)(v14 - 8);
  uint64_t v90 = v14;
  __chkstk_darwin(v14);
  NSString v93 = (char *)&v66 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v87 = type metadata accessor for FlowOrigin();
  uint64_t v86 = *(void *)(v87 - 8);
  __chkstk_darwin(v87);
  id v91 = (char *)&v66 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v84 = type metadata accessor for FlowAnimationBehavior();
  uint64_t v83 = *(void *)(v84 - 8);
  __chkstk_darwin(v84);
  uint64_t v88 = (char *)&v66 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for ActionMetrics();
  __chkstk_darwin(v18 - 8);
  id v92 = (char *)&v66 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_100993950);
  __chkstk_darwin(v20 - 8);
  uint64_t v85 = (char *)&v66 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v22 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v22 - 8);
  objc_super v82 = (char *)&v66 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = type metadata accessor for FlowPage();
  uint64_t v79 = *(void *)(v80 - 8);
  __chkstk_darwin(v80);
  unint64_t v81 = (char *)&v66 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v25 = type metadata accessor for NavigationTab();
  uint64_t v78 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  double v96 = (char *)&v66 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v27 = type metadata accessor for ReferrerData();
  uint64_t v95 = *(void *)(v27 - 8);
  __chkstk_darwin(v27);
  uint64_t v29 = (char *)&v66 - ((v28 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = sub_100082C28(&qword_100997C30);
  __chkstk_darwin(v30 - 8);
  uint64_t v32 = (char *)&v66 - ((v31 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = type metadata accessor for AppStoreDeepLink();
  uint64_t v97 = *(void *)(v33 - 8);
  __chkstk_darwin(v33);
  id v94 = (char *)&v66 - ((v34 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ObjectGraph();
  uint64_t result = swift_dynamicCastClass();
  if (result)
  {
    uint64_t v98 = result;
    uint64_t v67 = v5;
    uint64_t v68 = v4;
    uint64_t v69 = v13;
    swift_retain();
    uint64_t v36 = a1;
    id v37 = [a1 activityType];
    uint64_t v38 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v40 = v39;

    uint64_t v41 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v99 = a2;
    if (v41 == v38 && v42 == v40)
    {
      swift_bridgeObjectRelease();
LABEL_6:
      swift_bridgeObjectRelease();
      char v44 = sub_10034138C(v36, v98);
      swift_release();
      return v44 & 1;
    }
    char v43 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    if (v43) {
      goto LABEL_6;
    }
    if (static String._unconditionallyBridgeFromObjectiveC(_:)() == v38 && v45 == v40)
    {
      swift_bridgeObjectRelease_n();
    }
    else
    {
      char v46 = _stringCompareWithSmolCheck(_:_:expecting:)();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      if ((v46 & 1) == 0)
      {
        swift_release();
        return 0;
      }
    }
    id v47 = v36;
    AppStoreDeepLink.init(userActivity:refApp:)();
    uint64_t v48 = v97;
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v97 + 48))(v32, 1, v33) == 1)
    {
      swift_release();
      sub_100082BCC((uint64_t)v32, &qword_100997C30);
      return 0;
    }
    (*(void (**)(char *, char *, uint64_t))(v48 + 32))(v94, v32, v33);
    type metadata accessor for MetricsActivity();
    static MetricsActivity.current.getter();
    AppStoreDeepLink.referral.getter();
    dispatch thunk of MetricsActivity.setReferrerData(_:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v95 + 8))(v29, v27);
    type metadata accessor for ASKBagContract();
    BaseObjectGraph.optional<A>(_:)();
    uint64_t v66 = v33;
    if ((void)v102)
    {
      static ResilientDeepLinkController.removeNonResilientDeepLinks(bag:)();
      swift_release();
    }
    (*(void (**)(char *, void, uint64_t))(v78 + 104))(v96, enum case for NavigationTab.loading(_:), v25);
    sub_100082C28(&qword_100982B50);
    uint64_t v49 = swift_allocObject();
    *(_OWORD *)(v49 + 16) = xmmword_1007BEA80;
    unint64_t v104 = 0;
    long long v102 = 0u;
    long long v103 = 0u;
    (*(void (**)(char *, void, uint64_t))(v79 + 104))(v81, enum case for FlowPage.unknown(_:), v80);
    uint64_t v50 = v82;
    AppStoreDeepLink.url.getter();
    uint64_t v51 = type metadata accessor for URL();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v51 - 8) + 56))(v50, 0, 1, v51);
    uint64_t v52 = v85;
    AppStoreDeepLink.referral.getter();
    (*(void (**)(char *, void, uint64_t, uint64_t))(v95 + 56))(v52, 0, 1, v27);
    long long v100 = 0u;
    long long v101 = 0u;
    static ActionMetrics.notInstrumented.getter();
    (*(void (**)(char *, void, uint64_t))(v83 + 104))(v88, enum case for FlowAnimationBehavior.never(_:), v84);
    (*(void (**)(char *, void, uint64_t))(v86 + 104))(v91, enum case for FlowOrigin.external(_:), v87);
    (*(void (**)(char *, void, uint64_t))(v89 + 104))(v93, enum case for FlowPresentationContext.infer(_:), v90);
    static FlowActionPresentation.stackPush.getter();
    type metadata accessor for FlowAction();
    swift_allocObject();
    *(void *)(v49 + 32) = FlowAction.init(id:title:artwork:page:url:referrerUrl:referrerData:pageData:actionMetrics:presentationContext:animationBehavior:origin:presentationStyle:presentation:)();
    *(void *)&long long v102 = v49;
    specialized Array._endMutation()();
    static ActionMetrics.notInstrumented.getter();
    uint64_t v53 = type metadata accessor for TabChangeAction();
    swift_allocObject();
    uint64_t v54 = TabChangeAction.init(navigationTab:actions:popToRoot:presentationStyle:actionMetrics:)();
    uint64_t v55 = (uint64_t)v69;
    ObjectGraph.actionDispatcher.getter();
    uint64_t v56 = sub_100082C28((uint64_t *)&unk_100984530);
    uint64_t v57 = *(void *)(v56 - 8);
    if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v57 + 48))(v55, 1, v56) == 1)
    {
      (*(void (**)(char *, uint64_t))(v97 + 8))(v94, v66);
      swift_release();
      swift_release();
      sub_100082BCC(v55, &qword_1009875B0);
    }
    else
    {
      *((void *)&v103 + 1) = v53;
      unint64_t v104 = sub_100342A84();
      *(void *)&long long v102 = v54;
      swift_retain_n();
      uint64_t v58 = v71;
      sub_1005365D0();
      uint64_t v59 = v73;
      uint64_t v60 = v76;
      (*(void (**)(char *, char *, uint64_t))(v73 + 16))(v70, v58, v76);
      uint64_t v61 = v74;
      Dependency.init<A>(satisfying:with:)();
      dispatch thunk of BaseObjectGraph.adding(dependency:)();
      (*(void (**)(char *, uint64_t))(v67 + 8))(v61, v68);
      uint64_t v62 = v72;
      (*(void (**)(char *, char *, uint64_t))(v59 + 32))(v72, v58, v60);
      uint64_t v63 = v75;
      uint64_t v64 = v77;
      (*(void (**)(char *, void, uint64_t))(v75 + 104))(v62, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v77);
      uint64_t v65 = v69;
      ActionDispatcher.perform(_:withMetrics:asPartOf:)();
      swift_release();
      (*(void (**)(char *, uint64_t))(v63 + 8))(v62, v64);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v102);
      swift_release();
      swift_release();
      swift_release();
      (*(void (**)(char *, uint64_t))(v97 + 8))(v94, v66);
      swift_release();
      (*(void (**)(char *, uint64_t))(v57 + 8))(v65, v56);
    }
    return 1;
  }
  return result;
}

unint64_t sub_100342A84()
{
  unint64_t result = qword_100997C20;
  if (!qword_100997C20)
  {
    type metadata accessor for TabChangeAction();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100997C20);
  }
  return result;
}

id sub_100342ADC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v16 = a2;
  uint64_t v17 = a3;
  uint64_t v15 = a1;
  uint64_t v4 = type metadata accessor for InAppPurchaseTheme();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v15 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v15 - v9;
  InAppPurchaseLockup.theme.getter();
  uint64_t v11 = &v3[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v5 + 24))(v11, v10, v4);
  swift_endAccess();
  uint64_t v12 = *(void (**)(char *, char *, uint64_t))(v5 + 16);
  v12(v7, v11, v4);
  sub_1003434FC((uint64_t)v7);
  uint64_t v13 = *(void (**)(char *, uint64_t))(v5 + 8);
  v13(v7, v4);
  v13(v10, v4);
  [v3 setBackgroundColor:v16];
  sub_10022932C(v15, (uint64_t)v3, v17, 2);
  v12(v10, v11, v4);
  sub_1003434FC((uint64_t)v10);
  v13(v10, v4);
  return [v3 setNeedsLayout];
}

id sub_100342CF4(uint64_t a1)
{
  return sub_10000837C(a1, (SEL *)&selRef_systemFillColor, &qword_100991200);
}

UIColor sub_100342D08()
{
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v0 = [self whiteColor];
  result.super.Class isa = UIColor.init(light:dark:)((UIColor)v0, (UIColor)[objc_allocWithZone((Class)UIColor) initWithRed:0.109803922 green:0.109803922 blue:0.117647059 alpha:1.0]).super.isa;
  qword_100991208 = (uint64_t)result.super.isa;
  return result;
}

id sub_100342DB4(uint64_t a1)
{
  return sub_10000837C(a1, (SEL *)&selRef_systemGrayColor, &qword_100991210);
}

char *sub_100342DC8(uint64_t a1, int a2)
{
  int v51 = a2;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v5 = sub_100082C28(&qword_100993520);
  __chkstk_darwin(v5 - 8);
  uint64_t v58 = (char *)&v50 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for Artwork.Style();
  uint64_t v54 = *(void *)(v7 - 8);
  uint64_t v55 = v7;
  __chkstk_darwin(v7);
  uint64_t v53 = (char *)&v50 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for InAppPurchaseTheme();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v50 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v2[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_smallCornerRadius] = 0x4010000000000000;
  uint64_t v13 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkContainingView;
  id v14 = objc_allocWithZone((Class)UIView);
  uint64_t v15 = v2;
  *(void *)&v2[v13] = [v14 initWithFrame:0.0, 0.0, 0.0, 0.0];
  LODWORD(v13) = a2;
  uint64_t v16 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView;
  uint64_t v17 = (objc_class *)type metadata accessor for ArtworkView();
  *(void *)&v15[v16] = static ArtworkView.iapIconArtworkView.getter();
  (*(void (**)(char *, void, uint64_t))(v10 + 104))(&v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme], enum case for InAppPurchaseTheme.infer(_:), v9);
  int v50 = v13;
  v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_iconType] = v13;
  uint64_t v18 = &v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_metrics];
  uint64_t v19 = type metadata accessor for InAppPurchaseIconLayout.Metrics();
  uint64_t v56 = *(void *)(v19 - 8);
  uint64_t v57 = v19;
  (*(void (**)(char *, uint64_t))(v56 + 16))(v18, a1);
  InAppPurchaseIconLayout.Metrics.plusLineWidth.getter();
  uint64_t v21 = v20;
  uint64_t v22 = (objc_class *)type metadata accessor for PlusView();
  uint64_t v23 = (char *)objc_allocWithZone(v22);
  *(void *)&v23[OBJC_IVAR____TtC8AppStore8PlusView_plusColor] = 0;
  *(void *)&v23[OBJC_IVAR____TtC8AppStore8PlusView_lineThickness] = v21;
  v60.receiver = v23;
  v60.super_class = v22;
  id v24 = [super initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v25 = self;
  id v26 = v24;
  id v27 = [v25 clearColor];
  [v26 setBackgroundColor:v27];

  *(void *)&v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_plusView] = v26;
  id v28 = [objc_allocWithZone(v17) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_tileIconArtworkView] = v28;
  if (v51 == 2)
  {
    id v29 = [objc_allocWithZone((Class)type metadata accessor for InAppBlendedBackgroundView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
    [v29 setClipsToBounds:1];
  }
  else
  {
    id v29 = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  }
  *(void *)&v15[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_backgroundView] = v29;

  v59.receiver = v15;
  v59.super_class = ObjectType;
  id v30 = [super initWithFrame:0.0, 0.0, 0.0, 0.0];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v34 = (char *)v30;
  [v34 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  if (InAppPurchaseIconLayout.Metrics.scaleToFit.getter()) {
    double v35 = *(double *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_smallCornerRadius]
  }
        + *(double *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_smallCornerRadius];
  else {
    double v35 = *(double *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_smallCornerRadius];
  }
  uint64_t ObjectType = (objc_class *)OBJC_IVAR____TtC8AppStore17InAppPurchaseView_backgroundView;
  [*(id *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_backgroundView] _setCornerRadius:v35];
  uint64_t v36 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkContainingView;
  id v37 = *(void **)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkContainingView];
  [v37 _setCornerRadius:v35];
  [v37 setClipsToBounds:1];
  uint64_t v38 = &v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v10 + 16))(v12, v38, v9);
  sub_1003434FC((uint64_t)v12);
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  uint64_t v39 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView;
  (*(void (**)(char *, void, uint64_t))(v54 + 104))(v53, enum case for Artwork.Style.iap(_:), v55);
  ArtworkView.style.setter();
  uint64_t v40 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_tileIconArtworkView;
  uint64_t v41 = a1;
  [*(id *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_tileIconArtworkView] setHidden:v50 != 1];
  uint64_t v42 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_plusView;
  id v43 = *(id *)&v34[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_plusView];
  [v43 setHidden:(InAppPurchaseIconLayout.Metrics.displaysPlus.getter() & 1) == 0];

  if (qword_10097EEA8 != -1) {
    swift_once();
  }
  uint64_t v44 = type metadata accessor for Shadow();
  uint64_t v45 = sub_100087728(v44, (uint64_t)qword_1009E3508);
  uint64_t v46 = *(void *)(v44 - 8);
  id v47 = v58;
  (*(void (**)(char *, uint64_t, uint64_t))(v46 + 16))(v58, v45, v44);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v46 + 56))(v47, 0, 1, v44);
  ArtworkView.shadow.setter();
  [v34 addSubview:*(void *)((char *)ObjectType + (void)v34)];
  uint64_t v48 = *(void **)&v34[v36];
  [v34 addSubview:v48];
  [v48 addSubview:*(void *)&v34[v39]];
  [v34 insertSubview:*(void *)&v34[v42] aboveSubview:v48];
  [v34 addSubview:*(void *)&v34[v40]];

  (*(void (**)(uint64_t, uint64_t))(v56 + 8))(v41, v57);
  return v34;
}

void sub_1003434FC(uint64_t a1)
{
  uint64_t v3 = type metadata accessor for InAppPurchaseTheme();
  uint64_t v4 = *(void *)(v3 - 8);
  __n128 v5 = __chkstk_darwin(v3);
  uint64_t v7 = (char *)&v18 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v4 + 16))(v7, a1, v3, v5);
  int v8 = (*(uint64_t (**)(char *, uint64_t))(v4 + 88))(v7, v3);
  if (v8 == enum case for InAppPurchaseTheme.infer(_:)
    || v8 == enum case for InAppPurchaseTheme.light(_:)
    || v8 == enum case for InAppPurchaseTheme.dark(_:))
  {
    if (qword_10097EA80 != -1) {
      swift_once();
    }
    uint64_t v11 = (void *)qword_100991200;
    goto LABEL_16;
  }
  if (v8 == enum case for InAppPurchaseTheme.spotlight(_:))
  {
    if (qword_10097EA88 != -1) {
      swift_once();
    }
    uint64_t v11 = (void *)qword_100991208;
LABEL_16:
    id v12 = v11;
    goto LABEL_20;
  }
  if (qword_10097EA80 != -1) {
    swift_once();
  }
  uint64_t v13 = *(void (**)(char *, uint64_t))(v4 + 8);
  id v12 = (id)qword_100991200;
  v13(v7, v3);
LABEL_20:
  if (v1[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_iconType] != 2) {
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_backgroundView] setBackgroundColor:v12];
  }
  id v14 = *(char **)&v1[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_plusView];
  if (qword_10097EA90 != -1) {
    swift_once();
  }
  uint64_t v15 = (void *)qword_100991210;
  uint64_t v16 = *(void **)&v14[OBJC_IVAR____TtC8AppStore8PlusView_plusColor];
  *(void *)&v14[OBJC_IVAR____TtC8AppStore8PlusView_plusColor] = qword_100991210;
  id v17 = v15;

  [v14 setNeedsDisplay];
  [v1 setNeedsDisplay];
}

uint64_t sub_1003437E8()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v58 = ObjectType;
  uint64_t v2 = type metadata accessor for CornerStyle();
  uint64_t v52 = *(void *)(v2 - 8);
  uint64_t v53 = v2;
  __chkstk_darwin(v2);
  int v51 = (char *)&v45 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for Artwork.Style();
  uint64_t v49 = *(void *)(v4 - 8);
  uint64_t v50 = v4;
  __chkstk_darwin(v4);
  id v47 = (char *)&v45 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v46 = (char *)&v45 - v7;
  __chkstk_darwin(v8);
  uint64_t v48 = (char *)&v45 - v9;
  uint64_t v10 = (void *)type metadata accessor for LayoutRect();
  uint64_t v56 = (void (**)(void, void))*(v10 - 1);
  id v57 = v10;
  __chkstk_darwin(v10);
  uint64_t v55 = (char *)&v45 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for InAppPurchaseIconLayout.Metrics();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v45 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v54 = v15;
  uint64_t v16 = type metadata accessor for InAppPurchaseIconLayout();
  uint64_t v59 = *(void *)(v16 - 8);
  uint64_t v60 = v16;
  *(void *)&double v17 = __chkstk_darwin(v16).n128_u64[0];
  uint64_t v19 = (objc_class *)((char *)&v45 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0));
  v79.receiver = v0;
  v79.super_class = ObjectType;
  [super layoutSubviews:v17];
  (*(void (**)(char *, char *, uint64_t))(v13 + 16))(v15, &v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_metrics], v12);
  uint64_t v20 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView];
  uint64_t v21 = type metadata accessor for ArtworkView();
  uint64_t v77 = v21;
  uint64_t v78 = &protocol witness table for UIView;
  uint64_t v76 = v20;
  uint64_t v22 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkContainingView];
  uint64_t v74 = sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  uint64_t v75 = &protocol witness table for UIView;
  id v72 = &protocol witness table for UIView;
  uint64_t v73 = v22;
  uint64_t v23 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_backgroundView];
  uint64_t v71 = v74;
  id v70 = v23;
  id v24 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_plusView];
  uint64_t v68 = type metadata accessor for PlusView();
  uint64_t v69 = &protocol witness table for UIView;
  uint64_t v66 = &protocol witness table for UIView;
  uint64_t v67 = v24;
  uint64_t v25 = *(void **)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_tileIconArtworkView];
  uint64_t v65 = v21;
  uint64_t v64 = v25;
  uint64_t v63 = 0;
  long long v61 = 0u;
  long long v62 = 0u;
  id v26 = v20;
  id v27 = v22;
  id v28 = v23;
  id v29 = v24;
  id v30 = v25;
  InAppPurchaseIconLayout.init(metrics:artworkView:artworkContainingView:backgroundView:plusView:tileArtworkView:tileArtworkBackgroundView:)();
  LayoutMarginsAware<>.layoutFrame.getter();
  uint64_t v31 = v55;
  uint64_t v54 = v0;
  uint64_t v58 = v19;
  InAppPurchaseIconLayout.placeChildren(relativeTo:in:)();
  ((void (**)(char *, id))v56)[1](v31, v57);
  if (([v30 isHidden] & 1) == 0)
  {
    ArtworkView.frame.getter();
    uint64_t v32 = v46;
    ArtworkView.style.getter();
    id v33 = v29;
    uint64_t v34 = v49;
    double v35 = *(void (**)(char *, void, uint64_t))(v49 + 104);
    uint64_t v56 = (void (**)(void, void))v28;
    id v57 = v27;
    uint64_t v36 = v47;
    uint64_t v37 = v50;
    v35(v47, enum case for Artwork.Style.roundedRect(_:), v50);
    uint64_t v38 = v48;
    Artwork.Style.orIfUnspecified(_:)();
    uint64_t v39 = *(void (**)(char *, uint64_t))(v34 + 8);
    v39(v36, v37);
    v39(v32, v37);
    Artwork.Style.iconCornerRadius(for:)();
    v39(v38, v37);
    uint64_t v41 = v51;
    uint64_t v40 = v52;
    uint64_t v42 = v53;
    (*(void (**)(char *, void, uint64_t))(v52 + 104))(v51, enum case for CornerStyle.arc(_:), v53);
    ArtworkView.setCorner(radius:style:)();
    id v43 = v41;
    id v29 = v33;
    (*(void (**)(char *, uint64_t))(v40 + 8))(v43, v42);
    sub_100343DBC(v30, v56);
    sub_100343DBC(v30, v57);
  }
  [v29 setNeedsDisplay];
  return (*(uint64_t (**)(objc_class *, uint64_t))(v59 + 8))(v58, v60);
}

void sub_100343DBC(void *a1, id a2)
{
  [a2 bounds];
  double v6 = v5;
  double v8 = v7;
  double v10 = v9;
  double v12 = v11;
  uint64_t v13 = self;
  id v14 = [v13 bezierPathWithRect:v6, v8, v10, v12];
  [a1 frame];
  CGFloat v16 = v15;
  CGFloat v18 = v17;
  CGFloat v20 = v19;
  CGFloat v22 = v21;
  [a2 frame];
  v57.origin.CGFloat x = v23;
  v57.origin.CGFloat y = v24;
  v57.size.CGFloat width = v25;
  v57.size.CGFloat height = v26;
  v53.origin.CGFloat x = v16;
  v53.origin.CGFloat y = v18;
  v53.size.CGFloat width = v20;
  v53.size.CGFloat height = v22;
  CGRect v54 = CGRectIntersection(v53, v57);
  CGFloat x = v54.origin.x;
  CGFloat y = v54.origin.y;
  CGFloat width = v54.size.width;
  CGFloat height = v54.size.height;
  InAppPurchaseIconLayout.Metrics.tileBorderWidth.getter();
  CGFloat v32 = -v31;
  InAppPurchaseIconLayout.Metrics.tileBorderWidth.getter();
  CGFloat v34 = -v33;
  v55.origin.CGFloat x = x;
  v55.origin.CGFloat y = y;
  v55.size.CGFloat width = width;
  v55.size.CGFloat height = height;
  CGRect v56 = CGRectInset(v55, v32, v34);
  [v2 convertRect:a2 toCoordinateSpace:v56.origin.x, v56.origin.y, v56.size.width, v56.size.height];
  double v36 = v35;
  double v38 = v37;
  double v40 = v39;
  double v42 = v41;
  dispatch thunk of RoundedCornerView.cornerRadius.getter();
  double v44 = v43;
  dispatch thunk of RoundedCornerView.cornerRadius.getter();
  id v46 = [v13 bezierPathWithRoundedRect:2 byRoundingCorners:v36 cornerRadii:v38 v40, v42, v44, v45];
  id v47 = [v46 bezierPathByReversingPath];

  [v14 appendPath:v47];
  id v48 = [objc_allocWithZone((Class)CAShapeLayer) init];
  id v49 = [v14 CGPath];
  [v48 setPath:v49];

  id v50 = [a2 layer];
  [v50 setMasksToBounds:1];

  id v51 = [a2 layer];
  [v51 setMask:v48];
}

void sub_1003440FC(char *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = type metadata accessor for InAppPurchaseTheme();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  double v7 = &v16[-((v6 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v8);
  double v10 = &v16[-v9];
  ArtworkView.image.getter();
  ArtworkView.image.setter();
  ArtworkView.image.getter();
  ArtworkView.image.setter();
  double v11 = &a1[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme];
  swift_beginAccess();
  double v12 = *(void (**)(unsigned char *, char *, uint64_t))(v5 + 16);
  v12(v10, v11, v4);
  uint64_t v13 = &v2[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme];
  swift_beginAccess();
  (*(void (**)(char *, unsigned char *, uint64_t))(v5 + 24))(v13, v10, v4);
  swift_endAccess();
  v12(v7, v13, v4);
  sub_1003434FC((uint64_t)v7);
  id v14 = *(void (**)(unsigned char *, uint64_t))(v5 + 8);
  v14(v7, v4);
  v14(v10, v4);
  id v15 = [a1 backgroundColor];
  [v2 setBackgroundColor:v15];
}

uint64_t sub_100344454()
{
  return type metadata accessor for InAppPurchaseView();
}

uint64_t type metadata accessor for InAppPurchaseView()
{
  uint64_t result = qword_100991270;
  if (!qword_100991270) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_1003444A8()
{
  uint64_t result = type metadata accessor for InAppPurchaseTheme();
  if (v1 <= 0x3F)
  {
    uint64_t result = type metadata accessor for InAppPurchaseIconLayout.Metrics();
    if (v2 <= 0x3F)
    {
      uint64_t result = swift_updateClassMetadata2();
      if (!result) {
        return 0;
      }
    }
  }
  return result;
}

char *sub_1003445A0(double a1, double a2, double a3, double a4)
{
  uint64_t v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v11 = sub_100082C28(&qword_100993520);
  __chkstk_darwin(v11 - 8);
  id v49 = (char *)&v47 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_topLayer;
  id v14 = objc_allocWithZone((Class)CALayer);
  id v15 = v5;
  *(void *)&v5[v13] = [v14 init];
  uint64_t v16 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_bottomLayer;
  *(void *)&v15[v16] = [objc_allocWithZone((Class)CALayer) init];
  uint64_t v17 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_blurView;
  *(void *)&v15[v17] = [objc_allocWithZone((Class)UIVisualEffectView) init];
  *(void *)&v15[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_shadowView] = 0;

  v51.receiver = v15;
  v51.super_class = ObjectType;
  CGFloat v18 = [super initWithFrame:a1 a2:a3 a4:a4];
  uint64_t v19 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_topLayer;
  CGFloat v20 = *(void **)&v18[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_topLayer];
  double v21 = self;
  CGFloat v22 = v18;
  id v23 = v20;
  id v24 = [v21 whiteColor];
  id v25 = [v24 colorWithAlphaComponent:0.5];

  id v26 = [v25 CGColor];
  [v23 setBackgroundColor:v26];

  uint64_t v47 = v19;
  id v48 = v18;
  [*(id *)&v18[v19] setCompositingFilter:kCAFilterScreenBlendMode];
  uint64_t v27 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_bottomLayer;
  id v28 = *(id *)&v22[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_bottomLayer];
  id v29 = [v21 whiteColor];
  id v30 = [v29 colorWithAlphaComponent:0.8];

  id v31 = [v30 CGColor];
  [v28 setBackgroundColor:v31];

  [*(id *)&v22[v27] setCompositingFilter:kCAFilterOverlayBlendMode];
  uint64_t v32 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_blurView;
  double v33 = *(void **)&v22[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_blurView];
  sub_100082C28(&qword_100982B50);
  uint64_t v34 = swift_allocObject();
  *(_OWORD *)(v34 + 16) = xmmword_1007BEFA0;
  double v35 = self;
  id v36 = v33;
  uint64_t result = (char *)[v35 effectWithBlurRadius:50.0];
  if (result)
  {
    *(void *)(v34 + 32) = result;
    *(void *)(v34 + 40) = [self colorEffectSaturate:1.4];
    uint64_t v50 = v34;
    specialized Array._endMutation()();
    sub_100084CF0(0, (unint64_t *)&qword_100991780);
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    [v36 setBackgroundEffects:isa];

    id v39 = [v22 layer];
    [v39 addSublayer:*(void *)&v22[v27]];

    id v40 = [v22 layer];
    [v40 addSublayer:*(void *)&v48[v47]];

    [v22 addSubview:*(void *)&v22[v32]];
    id v41 = [objc_allocWithZone((Class)type metadata accessor for ShadowView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
    if (qword_10097EF48 != -1) {
      swift_once();
    }
    uint64_t v42 = type metadata accessor for Shadow();
    uint64_t v43 = sub_100087728(v42, (uint64_t)qword_1009E36E8);
    uint64_t v44 = *(void *)(v42 - 8);
    double v45 = v49;
    (*(void (**)(char *, uint64_t, uint64_t))(v44 + 16))(v49, v43, v42);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v44 + 56))(v45, 0, 1, v42);
    dispatch thunk of ShadowView.shadow.setter();
    [v22 insertSubview:v41 belowSubview:*(void *)&v22[v32]];

    id v46 = *(void **)&v22[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_shadowView];
    *(void *)&v22[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_shadowView] = v41;

    return v22;
  }
  else
  {
    __break(1u);
  }
  return result;
}

void sub_100344B40()
{
  v6.receiver = v0;
  v6.super_class = (Class)swift_getObjectType();
  [super layoutSubviews];
  id v1 = *(id *)&v0[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_topLayer];
  [v0 bounds];
  [v1 setFrame:];

  id v2 = *(id *)&v0[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_bottomLayer];
  [v0 bounds];
  [v2 setFrame:];

  id v3 = *(id *)&v0[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_blurView];
  [v0 bounds];
  [v3 setFrame:];

  uint64_t v4 = *(void **)&v0[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_shadowView];
  if (v4)
  {
    id v5 = v4;
    [v0 bounds];
    [v5 setFrame:];
  }
}

uint64_t type metadata accessor for InAppBlendedBackgroundView()
{
  return self;
}

unsigned char *storeEnumTagSinglePayload for InAppPurchaseIconType(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x100344DF8);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for InAppPurchaseIconType()
{
  return &type metadata for InAppPurchaseIconType;
}

unint64_t sub_100344E34()
{
  unint64_t result = qword_1009912C8;
  if (!qword_1009912C8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009912C8);
  }
  return result;
}

void sub_100344E88()
{
  id v1 = v0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_smallCornerRadius] = 0x4010000000000000;
  uint64_t v2 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkContainingView;
  *(void *)&v1[v2] = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v3 = OBJC_IVAR____TtC8AppStore17InAppPurchaseView_artworkView;
  type metadata accessor for ArtworkView();
  *(void *)&v1[v3] = static ArtworkView.iapIconArtworkView.getter();
  unsigned int v4 = &v1[OBJC_IVAR____TtC8AppStore17InAppPurchaseView_theme];
  uint64_t v5 = enum case for InAppPurchaseTheme.infer(_:);
  uint64_t v6 = type metadata accessor for InAppPurchaseTheme();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v6 - 8) + 104))(v4, v5, v6);

  _StringGuts.grow(_:)(18);
  swift_bridgeObjectRelease();
  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

void sub_100344FC4()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_topLayer;
  *(void *)&v0[v1] = [objc_allocWithZone((Class)CALayer) init];
  uint64_t v2 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_bottomLayer;
  *(void *)&v0[v2] = [objc_allocWithZone((Class)CALayer) init];
  uint64_t v3 = OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_blurView;
  *(void *)&v0[v3] = [objc_allocWithZone((Class)UIVisualEffectView) init];
  *(void *)&v0[OBJC_IVAR____TtC8AppStoreP33_0929855FC914B63BD770DBF68A393ACE26InAppBlendedBackgroundView_shadowView] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

char *sub_100345098(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC8AppStore35SmallSearchLockupCollectionViewCell_lockupView;
  id v10 = objc_allocWithZone((Class)type metadata accessor for SmallLockupView());
  uint64_t v11 = v4;
  *(void *)&v4[v9] = [v10 initWithFrame:0.0, 0.0, 0.0, 0.0];

  v17.receiver = v11;
  v17.super_class = (Class)type metadata accessor for SmallSearchLockupCollectionViewCell();
  uint64_t v12 = (char *)[super initWithFrame:a1, a2, a3, a4];
  id v13 = [v12 contentView];
  [v13 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v14 = [v12 contentView];
  id v15 = *(id *)&v12[OBJC_IVAR____TtC8AppStore35SmallSearchLockupCollectionViewCell_lockupView];
  [v14 addSubview:v15];

  return v12;
}

double sub_1003452B8()
{
  double result = 0.0;
  xmmword_1009E2C30 = xmmword_1007D1910;
  qword_1009E2C40 = 0;
  unk_1009E2C48 = 0;
  return result;
}

id sub_1003453A4()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for SmallSearchLockupCollectionViewCell();
  return [super dealloc];
}

uint64_t type metadata accessor for SmallSearchLockupCollectionViewCell()
{
  return self;
}

uint64_t type metadata accessor for ArcadeDownloadPackGamesCardView(uint64_t a1)
{
  return sub_10007F0EC(a1, (uint64_t *)&unk_1009913E8);
}

uint64_t sub_10034542C()
{
  uint64_t result = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  if (v1 <= 0x3F) {
    return swift_initClassMetadata2();
  }
  return result;
}

uint64_t sub_100345524(unint64_t a1)
{
  unint64_t v2 = v1;
  uint64_t v16 = type metadata accessor for AdamId();
  uint64_t v4 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v6 = (char *)v14 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1 >> 62) {
    goto LABEL_15;
  }
  uint64_t v7 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (1)
  {
    uint64_t v8 = _swiftEmptyArrayStorage;
    if (!v7) {
      return (uint64_t)v8;
    }
    objc_super v17 = _swiftEmptyArrayStorage;
    uint64_t result = sub_1001296D0(0, v7 & ~(v7 >> 63), 0);
    if (v7 < 0) {
      break;
    }
    uint64_t v10 = 0;
    uint64_t v8 = v17;
    unint64_t v15 = a1 & 0xC000000000000001;
    v14[0] = v2;
    v14[1] = v4 + 32;
    unint64_t v11 = a1;
    while (v7 != v10)
    {
      if (v15) {
        specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        swift_retain();
      }
      Lockup.adamId.getter();
      swift_release();
      objc_super v17 = v8;
      unint64_t v13 = v8[2];
      unint64_t v12 = v8[3];
      unint64_t v2 = v13 + 1;
      if (v13 >= v12 >> 1)
      {
        sub_1001296D0(v12 > 1, v13 + 1, 1);
        uint64_t v8 = v17;
      }
      ++v10;
      long long v8[2] = v2;
      (*(void (**)(unint64_t, char *, uint64_t))(v4 + 32))((unint64_t)v8+ ((*(unsigned __int8 *)(v4 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80))+ *(void *)(v4 + 72) * v13, v6, v16);
      a1 = v11;
      if (v7 == v10) {
        return (uint64_t)v8;
      }
    }
    __break(1u);
LABEL_15:
    swift_bridgeObjectRetain();
    uint64_t v7 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
  __break(1u);
  return result;
}

uint64_t sub_100345740(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991478);
}

uint64_t sub_10034574C(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991478);
}

void sub_100345758()
{
}

void sub_100345780()
{
}

id sub_10034579C()
{
  id result = [objc_allocWithZone((Class)UISpringTimingParameters) initWithMass:1.0 stiffness:150.0 damping:25.0 initialVelocity:0.0];
  qword_100991300 = (uint64_t)result;
  return result;
}

double sub_1003457EC()
{
  double result = 8.0;
  xmmword_100991308 = xmmword_1007D1960;
  *(_OWORD *)&qword_100991318 = xmmword_1007D1960;
  return result;
}

void sub_100345804()
{
  qword_100991328 = 0x4028000000000000;
}

double sub_100345814()
{
  double result = 21.0;
  xmmword_100991330 = xmmword_1007D1970;
  *(_OWORD *)&qword_100991340 = xmmword_1007D1980;
  return result;
}

id sub_100345834()
{
  id result = [objc_allocWithZone((Class)UIColor) initWithRed:1.0 green:0.450980392 blue:0.333333333 alpha:1.0];
  qword_100991350 = (uint64_t)result;
  return result;
}

id sub_100345884()
{
  id result = [objc_allocWithZone((Class)UIColor) initWithRed:0.764705882 green:0.133333333 blue:0.180392157 alpha:1.0];
  qword_100991358 = (uint64_t)result;
  return result;
}

void sub_1003458DC()
{
  qword_100991360 = 0x402C000000000000;
}

void sub_1003458EC(uint64_t a1)
{
}

id sub_10034590C()
{
  id result = [self whiteColor];
  qword_100991370 = (uint64_t)result;
  return result;
}

void sub_100345948(uint64_t a1)
{
}

void sub_100345964(uint64_t a1)
{
}

void sub_100345980(double a1, uint64_t a2, SEL *a3, void *a4)
{
  id v6 = [self *a3];
  id v7 = [v6 colorWithAlphaComponent:a1];

  *a4 = v7;
}

uint64_t (*sub_1003459FC(uint64_t a1))(void *a1)
{
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v4 = *(void *)(AllButtonStyle - 8);
  uint64_t v5 = *(void *)(v4 + 64);
  __n128 v6 = __chkstk_darwin(AllButtonStyle);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v4 + 16))((char *)&v10 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0), a1, AllButtonStyle, v6);
  unint64_t v7 = (*(unsigned __int8 *)(v4 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v4 + 80);
  uint64_t v8 = swift_allocObject();
  (*(void (**)(unint64_t, char *, uint64_t))(v4 + 32))(v8 + v7, (char *)&v10 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0), AllButtonStyle);
  *(void *)(v8 + ((v5 + v7 + 7) & 0xFFFFFFFFFFFFFFF8)) = v1;
  return sub_10034D970;
}

uint64_t sub_100345B38(uint64_t a1)
{
  unint64_t v2 = v1;
  swift_getObjectType();
  uint64_t v4 = (uint64_t)&v1[qword_100991388];
  swift_beginAccess();
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v6 = *(void *)(AllButtonStyle - 8);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(v6 + 24))(v4, a1, AllButtonStyle);
  swift_endAccess();
  unint64_t v7 = *(void **)&v1[qword_1009913A8];
  uint64_t v11[4] = sub_1003459FC(v4);
  v11[5] = v8;
  v11[0] = _NSConcreteStackBlock;
  v11[1] = 1107296256;
  v11[2] = sub_1000FADA8;
  v11[3] = &unk_1008C6AB0;
  uint64_t v9 = _Block_copy(v11);
  swift_release();
  [v7 setConfigurationUpdateHandler:v9];
  _Block_release(v9);
  [v2 setNeedsLayout];
  return (*(uint64_t (**)(uint64_t, uint64_t))(v6 + 8))(a1, AllButtonStyle);
}

char *sub_100345CBC(double a1, double a2, double a3, double a4)
{
  uint64_t v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v11 = sub_100082C28(&qword_10098EF80);
  __chkstk_darwin(v11 - 8);
  unint64_t v13 = (char *)&v44 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v14 = &v5[qword_100991388];
  uint64_t v15 = enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 104))(v14, v15, AllButtonStyle);
  objc_super v17 = &v5[qword_1009E2C50];
  *(_OWORD *)objc_super v17 = 0u;
  *((_OWORD *)v17 + 1) = 0u;
  *((void *)v17 + 4) = 0;
  uint64_t v18 = qword_100991390;
  id v19 = objc_allocWithZone((Class)type metadata accessor for GradientView());
  CGFloat v20 = v5;
  *(void *)&v5[v18] = [v19 init];
  uint64_t v21 = qword_100991398;
  *(void *)&v20[v21] = [objc_allocWithZone((Class)UIView) init];
  *(void *)&v20[qword_1009913A0] = _swiftEmptyArrayStorage;
  uint64_t v22 = qword_1009913A8;
  *(void *)&v20[v22] = [self buttonWithType:0];
  id v23 = &v20[qword_1009913B0];
  *(void *)id v23 = static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
  *((void *)v23 + 1) = 0;
  *(void *)&v20[qword_1009913B8] = _swiftEmptyArrayStorage;
  swift_weakInit();
  *(void *)&v20[qword_1009913C8] = _swiftEmptyArrayStorage;
  v20[qword_1009913D0] = 0;
  *(void *)&v20[qword_1009913D8] = 0;
  v20[qword_1009E2C58] = 0;
  id v24 = &v20[qword_1009913E0];
  *(void *)id v24 = 0;
  v24[8] = 1;

  v46.receiver = v20;
  v46.super_class = ObjectType;
  id v25 = [super initWithFrame:a1, a2, a3, a4];
  uint64_t v26 = qword_10097EAD0;
  uint64_t v27 = (char *)v25;
  if (v26 != -1) {
    swift_once();
  }
  [v27 _setCornerRadius:*(double *)&qword_100991360];
  [v27 setClipsToBounds:1];
  id v28 = *(void **)&v27[qword_100991390];
  [v27 addSubview:v28];
  [v27 addSubview:*(void *)&v27[qword_100991398]];
  uint64_t v29 = qword_1009913A8;
  [v27 addSubview:*(void *)&v27[qword_1009913A8]];
  sub_100082C28(&qword_100982B50);
  uint64_t v30 = swift_allocObject();
  *(_OWORD *)(v30 + 16) = xmmword_1007BEFA0;
  uint64_t v31 = qword_10097EAC0;
  uint64_t v32 = v28;
  if (v31 != -1) {
    swift_once();
  }
  double v33 = (void *)qword_100991350;
  *(void *)(v30 + 32) = qword_100991350;
  uint64_t v34 = qword_10097EAC8;
  id v35 = v33;
  if (v34 != -1) {
    swift_once();
  }
  id v36 = (void *)qword_100991358;
  *(void *)(v30 + 40) = qword_100991358;
  uint64_t v45 = v30;
  specialized Array._endMutation()();
  *(void *)&v32[OBJC_IVAR____TtC8AppStore12GradientView_colors] = v45;
  id v37 = v36;
  swift_bridgeObjectRelease();
  sub_1000877D0();

  double v38 = *(void **)&v27[v29];
  [v38 addTarget:v27 action:"didTapDownloadAllButton" forControlEvents:64];
  static UIButton.Configuration.filled()();
  uint64_t v39 = type metadata accessor for UIButton.Configuration();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v39 - 8) + 56))(v13, 0, 1, v39);
  UIButton.configuration.setter();
  id v40 = [v38 layer];
  [v40 setCompositingFilter:kCAFilterPlusL];

  [*(id *)&v27[v29] setOverrideUserInterfaceStyle:2];
  id v41 = [v27 layer];
  [v41 setAllowsGroupBlending:0];

  id v42 = *(id *)&v27[v29];
  [v42 setHidden:1];

  return v27;
}

char *sub_1003461C8(double a1, double a2, double a3, double a4)
{
  return sub_100345CBC(a1, a2, a3, a4);
}

void sub_1003461EC(uint64_t a1, uint64_t a2, void *a3)
{
  id v3 = a3;
  sub_10034DCF0();
}

void sub_100346214()
{
  uint64_t v1 = v0 + qword_100991388;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 8))(v1, AllButtonStyle);
  sub_100082BCC(v0 + qword_1009E2C50, &qword_100991488);

  swift_bridgeObjectRelease();
  swift_release();
  swift_bridgeObjectRelease();
  swift_weakDestroy();
  swift_bridgeObjectRelease();
  id v3 = *(void **)(v0 + qword_1009913D8);
}

id sub_10034632C()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v2 = *(void *)&v0[qword_1009913C8];
  uint64_t v3 = *(void *)(v2 + 16);
  if (v3)
  {
    swift_bridgeObjectRetain();
    uint64_t v4 = v2 + 40;
    do
    {
      swift_getObjectType();
      swift_unknownObjectRetain();
      dispatch thunk of AppStateMachine.removeStateTransitionActions(for:)();
      swift_unknownObjectRelease();
      v4 += 16;
      --v3;
    }
    while (v3);
    swift_bridgeObjectRelease();
  }
  v6.receiver = v0;
  v6.super_class = ObjectType;
  return [super dealloc];
}

id sub_1003463F0(void *a1)
{
  id v1 = a1;
  return sub_10034632C();
}

void sub_100346418(uint64_t a1)
{
  uint64_t v2 = a1 + qword_100991388;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 8))(v2, AllButtonStyle);
  sub_100082BCC(a1 + qword_1009E2C50, &qword_100991488);

  swift_bridgeObjectRelease();
  swift_release();
  swift_bridgeObjectRelease();
  swift_weakDestroy();
  swift_bridgeObjectRelease();
  uint64_t v4 = *(void **)(a1 + qword_1009913D8);
}

uint64_t sub_100346534()
{
  uint64_t v1 = type metadata accessor for LegacyAppState();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v37 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  unint64_t v7 = (char *)&v37 - v6;
  uint64_t v8 = sub_100082C28(&qword_100984D98);
  uint64_t v56 = *(void *)(v8 - 8);
  uint64_t v57 = v8;
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v37 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v45 = qword_1009913C8;
  uint64_t v46 = v0;
  uint64_t v11 = *(void *)(v0 + qword_1009913C8);
  int64_t v12 = *(void *)(v11 + 16);
  unint64_t v13 = _swiftEmptyArrayStorage;
  if (!v12) {
    goto LABEL_31;
  }
  uint64_t v58 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRetain();
  sub_100129670(0, v12, 0);
  CGRect v53 = (uint64_t (**)(char *, uint64_t))(v2 + 88);
  CGRect v54 = (void (**)(char *, char *, uint64_t))(v2 + 16);
  int v52 = enum case for LegacyAppState.waiting(_:);
  int v49 = enum case for LegacyAppState.updatable(_:);
  int v50 = enum case for LegacyAppState.purchased(_:);
  int v47 = enum case for LegacyAppState.downloadable(_:);
  int v44 = enum case for LegacyAppState.paused(_:);
  int v41 = enum case for LegacyAppState.installing(_:);
  int v42 = enum case for LegacyAppState.downloading(_:);
  int v39 = enum case for LegacyAppState.buyable(_:);
  int v40 = enum case for LegacyAppState.openable(_:);
  CGRect v55 = (void (**)(char *, uint64_t))(v2 + 8);
  int v38 = enum case for LegacyAppState.installed(_:);
  objc_super v51 = (void (**)(char *, uint64_t))(v2 + 96);
  uint64_t v43 = v11;
  uint64_t v14 = v11 + 40;
  int v37 = enum case for LegacyAppState.unknown(_:);
  int v48 = enum case for PurchaseType.preorder(_:);
  do
  {
    swift_getObjectType();
    swift_unknownObjectRetain();
    dispatch thunk of AppStateMachine.adamId.getter();
    dispatch thunk of AppStateMachine.currentState.getter();
    (*v54)(v4, v7, v1);
    int v15 = (*v53)(v4, v1);
    if (v15 == v52)
    {
      (*v51)(v4, v1);
      uint64_t v16 = type metadata accessor for InstallationType();
LABEL_5:
      (*(void (**)(char *, uint64_t))(*(void *)(v16 - 8) + 8))(v4, v16);
LABEL_6:
      char v17 = 0;
      goto LABEL_14;
    }
    if (v15 == v50)
    {
      (*v51)(v4, v1);
      uint64_t v18 = type metadata accessor for PurchaseType();
      uint64_t v19 = *(void *)(v18 - 8);
      int v20 = (*(uint64_t (**)(char *, uint64_t))(v19 + 88))(v4, v18);
      if (v20 != v48)
      {
        (*(void (**)(char *, uint64_t))(v19 + 8))(v4, v18);
        goto LABEL_6;
      }
    }
    else if (v15 == v49 || v15 == v47)
    {
      (*v51)(v4, v1);
      swift_bridgeObjectRelease();
    }
    else if (v15 == v44)
    {
      (*v51)(v4, v1);
      uint64_t v24 = type metadata accessor for LegacyAppState.AppInstallationDetails();
      (*(void (**)(char *, uint64_t))(*(void *)(v24 - 8) + 8))(v4, v24);
    }
    else
    {
      if (v15 == v42 || v15 == v41)
      {
        (*v51)(v4, v1);
        uint64_t v16 = type metadata accessor for LegacyAppState.AppInstallationDetails();
        goto LABEL_5;
      }
      if (v15 == v40)
      {
        (*v51)(v4, v1);

        uint64_t v16 = type metadata accessor for OpenableDestination();
        goto LABEL_5;
      }
      if (v15 != v39)
      {
        if (v15 == v38) {
          goto LABEL_6;
        }
        if (v15 != v37)
        {
          (*v55)(v4, v1);
          goto LABEL_6;
        }
      }
    }
    char v17 = 1;
LABEL_14:
    uint64_t v21 = *(int *)(v57 + 48);
    (*v55)(v7, v1);
    swift_unknownObjectRelease();
    v10[v21] = v17;
    unint64_t v13 = v58;
    if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0)
    {
      sub_100129670(0, v13[2] + 1, 1);
      unint64_t v13 = v58;
    }
    unint64_t v23 = v13[2];
    unint64_t v22 = v13[3];
    if (v23 >= v22 >> 1)
    {
      sub_100129670(v22 > 1, v23 + 1, 1);
      unint64_t v13 = v58;
    }
    void v13[2] = v23 + 1;
    sub_100082CD0((uint64_t)v10, (uint64_t)v13+ ((*(unsigned __int8 *)(v56 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v56 + 80))+ *(void *)(v56 + 72) * v23, &qword_100984D98);
    v14 += 16;
    --v12;
  }
  while (v12);
  swift_bridgeObjectRelease();
LABEL_31:
  if (v13[2])
  {
    sub_100082C28(&qword_100982698);
    id v25 = (void *)static _DictionaryStorage.allocate(capacity:)();
  }
  else
  {
    id v25 = &_swiftEmptyDictionarySingleton;
  }
  uint64_t v26 = v46;
  uint64_t v58 = v25;
  uint64_t v27 = swift_bridgeObjectRetain();
  sub_10034CD20(v27, 1, &v58);
  uint64_t v28 = swift_allocObject();
  swift_bridgeObjectRelease();
  *(void *)(v28 + 16) = v58;
  uint64_t v29 = swift_allocObject();
  swift_unknownObjectWeakInit();
  uint64_t v30 = swift_allocObject();
  *(void *)(v30 + 16) = v28;
  *(void *)(v30 + 24) = v29;
  swift_retain();
  uint64_t v31 = swift_retain();
  sub_1003470E4(v31, v29);
  swift_release();
  uint64_t v32 = *(void *)(v26 + v45);
  uint64_t v33 = *(void *)(v32 + 16);
  if (v33)
  {
    swift_bridgeObjectRetain_n();
    uint64_t v57 = v32;
    uint64_t v34 = v32 + 40;
    do
    {
      swift_getObjectType();
      id v35 = (void *)swift_allocObject();
      _OWORD v35[2] = v28;
      v35[3] = sub_10034D31C;
      unsigned char v35[4] = v30;
      swift_retain();
      swift_unknownObjectRetain();
      swift_retain();
      dispatch thunk of AppStateMachine.addStateTransitionObserver(_:action:)();
      swift_unknownObjectRelease();
      swift_release();
      v34 += 16;
      --v33;
    }
    while (v33);
    swift_release();
    swift_release();
    return swift_bridgeObjectRelease_n();
  }
  else
  {
    swift_release();
    return swift_release();
  }
}

uint64_t sub_100346D48()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for LegacyAppState();
  uint64_t v3 = *(void *)(v2 - 8);
  __n128 v4 = __chkstk_darwin(v2);
  uint64_t v6 = (char *)&v13 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v3 + 16))(v6, v1, v2, v4);
  int v7 = (*(uint64_t (**)(char *, uint64_t))(v3 + 88))(v6, v2);
  if (v7 == enum case for LegacyAppState.waiting(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
    uint64_t v8 = type metadata accessor for InstallationType();
LABEL_3:
    (*(void (**)(char *, uint64_t))(*(void *)(v8 - 8) + 8))(v6, v8);
    return 0;
  }
  if (v7 == enum case for LegacyAppState.purchased(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
    uint64_t v10 = type metadata accessor for PurchaseType();
    uint64_t v11 = *(void *)(v10 - 8);
    if ((*(unsigned int (**)(char *, uint64_t))(v11 + 88))(v6, v10) != enum case for PurchaseType.preorder(_:))
    {
      (*(void (**)(char *, uint64_t))(v11 + 8))(v6, v10);
      return 0;
    }
  }
  else if (v7 == enum case for LegacyAppState.updatable(_:) || v7 == enum case for LegacyAppState.downloadable(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 8))(v6, v2);
  }
  else if (v7 == enum case for LegacyAppState.paused(_:))
  {
    (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
    uint64_t v12 = type metadata accessor for LegacyAppState.AppInstallationDetails();
    (*(void (**)(char *, uint64_t))(*(void *)(v12 - 8) + 8))(v6, v12);
  }
  else
  {
    if (v7 == enum case for LegacyAppState.downloading(_:) || v7 == enum case for LegacyAppState.installing(_:))
    {
      (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);
      uint64_t v8 = type metadata accessor for LegacyAppState.AppInstallationDetails();
      goto LABEL_3;
    }
    if (v7 == enum case for LegacyAppState.openable(_:))
    {
      (*(void (**)(char *, uint64_t))(v3 + 96))(v6, v2);

      uint64_t v8 = type metadata accessor for OpenableDestination();
      goto LABEL_3;
    }
    if (v7 != enum case for LegacyAppState.buyable(_:))
    {
      if (v7 == enum case for LegacyAppState.installed(_:)) {
        return 0;
      }
      if (v7 != enum case for LegacyAppState.unknown(_:))
      {
        (*(void (**)(char *, uint64_t))(v3 + 8))(v6, v2);
        return 0;
      }
    }
  }
  return 1;
}

void sub_1003470E4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_100991448);
  __chkstk_darwin(v4);
  uint64_t v6 = &v33[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  __chkstk_darwin(v7);
  uint64_t v9 = &v33[-v8];
  uint64_t v35 = a2 + 16;
  swift_beginAccess();
  uint64_t v10 = swift_bridgeObjectRetain();
  int v34 = sub_1003474B4(v10);
  uint64_t v11 = *(void *)(a1 + 16);
  swift_bridgeObjectRelease();
  uint64_t v12 = v11 + 64;
  uint64_t v13 = 1 << *(unsigned char *)(v11 + 32);
  uint64_t v14 = -1;
  if (v13 < 64) {
    uint64_t v14 = ~(-1 << v13);
  }
  unint64_t v15 = v14 & *(void *)(v11 + 64);
  int64_t v36 = (unint64_t)(v13 + 63) >> 6;
  swift_bridgeObjectRetain_n();
  int64_t v16 = 0;
  while (v15)
  {
    unint64_t v17 = __clz(__rbit64(v15));
    v15 &= v15 - 1;
    unint64_t v18 = v17 | (v16 << 6);
LABEL_5:
    uint64_t v19 = *(void *)(v11 + 48);
    uint64_t v20 = type metadata accessor for AdamId();
    (*(void (**)(unsigned char *, unint64_t, uint64_t))(*(void *)(v20 - 8) + 16))(v9, v19 + *(void *)(*(void *)(v20 - 8) + 72) * v18, v20);
    v9[*(int *)(v4 + 48)] = *(unsigned char *)(*(void *)(v11 + 56) + v18);
    sub_100082CD0((uint64_t)v9, (uint64_t)v6, &qword_100991448);
    int v21 = v6[*(int *)(v4 + 48)];
    sub_100082BCC((uint64_t)v6, &qword_100991448);
    if (v21 == 1)
    {
      uint64_t v25 = 1;
      goto LABEL_27;
    }
  }
  int64_t v22 = v16 + 1;
  if (__OFADD__(v16, 1))
  {
    __break(1u);
LABEL_40:
    __break(1u);
    return;
  }
  if (v22 >= v36) {
    goto LABEL_26;
  }
  unint64_t v23 = *(void *)(v12 + 8 * v22);
  ++v16;
  if (v23) {
    goto LABEL_24;
  }
  int64_t v16 = v22 + 1;
  if (v22 + 1 >= v36) {
    goto LABEL_26;
  }
  unint64_t v23 = *(void *)(v12 + 8 * v16);
  if (v23) {
    goto LABEL_24;
  }
  int64_t v16 = v22 + 2;
  if (v22 + 2 >= v36) {
    goto LABEL_26;
  }
  unint64_t v23 = *(void *)(v12 + 8 * v16);
  if (v23) {
    goto LABEL_24;
  }
  int64_t v16 = v22 + 3;
  if (v22 + 3 >= v36) {
    goto LABEL_26;
  }
  unint64_t v23 = *(void *)(v12 + 8 * v16);
  if (v23) {
    goto LABEL_24;
  }
  int64_t v16 = v22 + 4;
  if (v22 + 4 >= v36) {
    goto LABEL_26;
  }
  unint64_t v23 = *(void *)(v12 + 8 * v16);
  if (v23)
  {
LABEL_24:
    unint64_t v15 = (v23 - 1) & v23;
    unint64_t v18 = __clz(__rbit64(v23)) + (v16 << 6);
    goto LABEL_5;
  }
  int64_t v24 = v22 + 5;
  if (v24 < v36)
  {
    unint64_t v23 = *(void *)(v12 + 8 * v24);
    if (!v23)
    {
      while (1)
      {
        int64_t v16 = v24 + 1;
        if (__OFADD__(v24, 1)) {
          goto LABEL_40;
        }
        if (v16 >= v36) {
          goto LABEL_26;
        }
        unint64_t v23 = *(void *)(v12 + 8 * v16);
        ++v24;
        if (v23) {
          goto LABEL_24;
        }
      }
    }
    int64_t v16 = v24;
    goto LABEL_24;
  }
LABEL_26:
  uint64_t v25 = 0;
LABEL_27:
  swift_release();
  swift_bridgeObjectRelease();
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v27 = (void *)Strong;
    id v28 = *(id *)(Strong + qword_1009913A8);

    [v28 setEnabled:v25];
  }
  swift_beginAccess();
  uint64_t v29 = swift_unknownObjectWeakLoadStrong();
  if (v29)
  {
    uint64_t v30 = (void *)v29;
    uint64_t v31 = v29 + qword_1009E2C50;
    swift_beginAccess();
    if (*(void *)(v31 + 24))
    {
      sub_100082C6C(v31, (uint64_t)v37);

      sub_100081D90(v37, v37[3]);
      if (v25) {
        unsigned __int8 v32 = 1;
      }
      else {
        unsigned __int8 v32 = 2;
      }
      if (v34) {
        unsigned __int8 v32 = 0;
      }
      sub_10044A4D8(v32);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v37);
    }
    else
    {
    }
  }
}

uint64_t sub_1003474B4(uint64_t a1)
{
  uint64_t v43 = sub_100082C28(&qword_100991448);
  __chkstk_darwin(v43);
  int v42 = (char *)&v36 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  int v41 = (char *)&v36 - v4;
  __chkstk_darwin(v5);
  uint64_t v40 = (uint64_t)&v36 - v6;
  __chkstk_darwin(v7);
  int v39 = (char *)&v36 - v8;
  uint64_t v9 = *(void *)(a1 + 64);
  uint64_t v37 = a1 + 64;
  uint64_t v10 = 1 << *(unsigned char *)(a1 + 32);
  uint64_t v11 = -1;
  if (v10 < 64) {
    uint64_t v11 = ~(-1 << v10);
  }
  unint64_t v12 = v11 & v9;
  int64_t v38 = (unint64_t)(v10 + 63) >> 6;
  uint64_t v44 = a1;
  uint64_t result = swift_bridgeObjectRetain();
  int64_t v14 = 0;
  unint64_t v15 = v41;
  while (1)
  {
    if (v12)
    {
      uint64_t v45 = (v12 - 1) & v12;
      int64_t v46 = v14;
      unint64_t v16 = __clz(__rbit64(v12)) | (v14 << 6);
      goto LABEL_5;
    }
    int64_t v31 = v14 + 1;
    if (__OFADD__(v14, 1)) {
      break;
    }
    if (v31 >= v38) {
      goto LABEL_24;
    }
    unint64_t v32 = *(void *)(v37 + 8 * v31);
    int64_t v33 = v14 + 1;
    if (!v32)
    {
      int64_t v33 = v14 + 2;
      if (v14 + 2 >= v38) {
        goto LABEL_24;
      }
      unint64_t v32 = *(void *)(v37 + 8 * v33);
      if (!v32)
      {
        int64_t v33 = v14 + 3;
        if (v14 + 3 >= v38) {
          goto LABEL_24;
        }
        unint64_t v32 = *(void *)(v37 + 8 * v33);
        if (!v32)
        {
          int64_t v33 = v14 + 4;
          if (v14 + 4 >= v38) {
            goto LABEL_24;
          }
          unint64_t v32 = *(void *)(v37 + 8 * v33);
          if (!v32)
          {
            uint64_t v34 = v14 + 5;
            if (v14 + 5 >= v38)
            {
LABEL_24:
              uint64_t v35 = 1;
              goto LABEL_25;
            }
            unint64_t v32 = *(void *)(v37 + 8 * v34);
            if (!v32)
            {
              while (1)
              {
                int64_t v33 = v34 + 1;
                if (__OFADD__(v34, 1)) {
                  goto LABEL_27;
                }
                if (v33 >= v38) {
                  goto LABEL_24;
                }
                unint64_t v32 = *(void *)(v37 + 8 * v33);
                ++v34;
                if (v32) {
                  goto LABEL_22;
                }
              }
            }
            int64_t v33 = v14 + 5;
          }
        }
      }
    }
LABEL_22:
    uint64_t v45 = (v32 - 1) & v32;
    int64_t v46 = v33;
    unint64_t v16 = __clz(__rbit64(v32)) + (v33 << 6);
LABEL_5:
    uint64_t v17 = v44;
    uint64_t v18 = *(void *)(v44 + 48);
    uint64_t v19 = type metadata accessor for AdamId();
    uint64_t v20 = *(void *)(v19 - 8);
    uint64_t v21 = v20;
    uint64_t v22 = v18 + *(void *)(v20 + 72) * v16;
    unint64_t v23 = *(void (**)(char *, uint64_t, uint64_t))(v20 + 16);
    int64_t v24 = v39;
    v23(v39, v22, v19);
    uint64_t v25 = v43;
    v24[*(int *)(v43 + 48)] = *(unsigned char *)(*(void *)(v17 + 56) + v16);
    uint64_t v26 = (uint64_t)v24;
    uint64_t v27 = v40;
    sub_100082CD0(v26, v40, &qword_100991448);
    uint64_t v28 = *(int *)(v25 + 48);
    v23(v15, v27, v19);
    LOBYTE(v23) = *(unsigned char *)(v27 + v28);
    v15[v28] = (char)v23;
    uint64_t v29 = *(int *)(v25 + 48);
    uint64_t v30 = (uint64_t)v42;
    (*(void (**)(char *, char *, uint64_t))(v21 + 32))(v42, v15, v19);
    *(unsigned char *)(v30 + v29) = (_BYTE)v23;
    sub_100082BCC(v30, &qword_100991448);
    uint64_t result = sub_100082BCC(v27, &qword_100991448);
    int64_t v14 = v46;
    unint64_t v12 = v45;
    if ((v23 & 1) == 0)
    {
      uint64_t v35 = 0;
LABEL_25:
      swift_release();
      return v35;
    }
  }
  __break(1u);
LABEL_27:
  __break(1u);
  return result;
}

uint64_t sub_100347864(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(uint64_t), uint64_t a5)
{
  uint64_t v19 = a5;
  uint64_t v20 = a4;
  uint64_t v6 = type metadata accessor for LegacyAppState();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = type metadata accessor for AdamId();
  uint64_t v10 = *(void *)(v18 - 8);
  __chkstk_darwin(v18);
  unint64_t v12 = (char *)&v17 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getObjectType();
  dispatch thunk of AppStateMachine.adamId.getter();
  dispatch thunk of AppStateMachine.currentState.getter();
  char v13 = sub_100346D48();
  (*(void (**)(char *, uint64_t))(v7 + 8))(v9, v6);
  swift_beginAccess();
  char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
  uint64_t v21 = *(void *)(a3 + 16);
  *(void *)(a3 + 16) = 0x8000000000000000;
  sub_1006F0CC4(v13 & 1, (uint64_t)v12, isUniquelyReferenced_nonNull_native);
  *(void *)(a3 + 16) = v21;
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v18);
  uint64_t v15 = swift_endAccess();
  return v20(v15);
}

uint64_t sub_100347A74(uint64_t a1)
{
  uint64_t v3 = qword_1009913C8;
  uint64_t v4 = *(void *)(v1 + qword_1009913C8);
  uint64_t v5 = *(void *)(v4 + 16);
  if (v5)
  {
    swift_bridgeObjectRetain();
    uint64_t v6 = v4 + 40;
    do
    {
      swift_getObjectType();
      swift_unknownObjectRetain();
      dispatch thunk of AppStateMachine.removeStateTransitionActions(for:)();
      swift_unknownObjectRelease();
      v6 += 16;
      --v5;
    }
    while (v5);
    swift_bridgeObjectRelease();
  }
  *(void *)(v1 + v3) = a1;
  swift_bridgeObjectRelease();

  return sub_100346534();
}

uint64_t sub_100347B3C(void *a1, uint64_t a2)
{
  uint64_t v74 = a2;
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_100999610);
  __chkstk_darwin(v3 - 8);
  id v72 = (char *)&v57 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for UIBackgroundConfiguration();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v71 = (char *)&v57 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v57 - v9;
  uint64_t v11 = sub_100082C28(&qword_100991460);
  __chkstk_darwin(v11 - 8);
  uint64_t v69 = (char *)&v57 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  char v13 = (void (*)(char *, uint64_t))type metadata accessor for UIButton.Configuration.Size();
  uint64_t v66 = *((void *)v13 - 1);
  uint64_t v67 = v13;
  __chkstk_darwin(v13);
  uint64_t v65 = (char *)&v57 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v73 = *(void *)(AllButtonStyle - 8);
  __chkstk_darwin(AllButtonStyle);
  uint64_t v68 = (char *)&v57 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  uint64_t v19 = (char *)&v57 - v18;
  uint64_t v20 = sub_100082C28(&qword_10098EF80);
  __chkstk_darwin(v20 - 8);
  id v70 = (char *)&v57 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v22);
  int64_t v24 = (char *)&v57 - v23;
  uint64_t v25 = type metadata accessor for UIButton.Configuration();
  uint64_t v26 = *(void *)(v25 - 8);
  __chkstk_darwin(v25);
  uint64_t v28 = (char *)&v57 - ((v27 + 15) & 0xFFFFFFFFFFFFFFF0);
  UIButton.configuration.getter();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v26 + 48))(v24, 1, v25) == 1) {
    return sub_100082BCC((uint64_t)v24, &qword_10098EF80);
  }
  (*(void (**)(char *, char *, uint64_t))(v26 + 32))(v28, v24, v25);
  id v30 = [a1 state];
  uint64_t v63 = v6;
  uint64_t v64 = v5;
  long long v61 = a1;
  long long v62 = v10;
  if (v30 == (id)2)
  {
    if (qword_10097EAF0 != -1) {
      swift_once();
    }
    id v60 = (id)UIColor.highlighted.getter();
    if (qword_10097EAE8 != -1) {
      swift_once();
    }
    int64_t v31 = &qword_100991378;
    goto LABEL_18;
  }
  if (v30 == (id)1)
  {
    if (qword_10097EAF0 != -1) {
      swift_once();
    }
    id v60 = (id)UIColor.highlighted.getter();
    if (qword_10097EAE0 == -1) {
      goto LABEL_17;
    }
  }
  else
  {
    if (qword_10097EAF0 != -1) {
      swift_once();
    }
    uint64_t v32 = qword_10097EAE0;
    id v60 = (id)qword_100991380;
    if (v32 == -1) {
      goto LABEL_17;
    }
  }
  swift_once();
LABEL_17:
  int64_t v31 = &qword_100991370;
LABEL_18:
  int64_t v33 = (void *)*v31;
  uint64_t v34 = v73;
  uint64_t v59 = *(void (**)(char *, uint64_t, uint64_t))(v73 + 16);
  v59(v19, v74, AllButtonStyle);
  uint64_t v58 = *(uint64_t (**)(char *, uint64_t))(v34 + 88);
  int v35 = v58(v19, AllButtonStyle);
  int v36 = enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:);
  if (v35 == enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:))
  {
    uint64_t v37 = qword_10097EAB8;
    id v38 = v33;
    if (v37 != -1) {
      swift_once();
    }
    UIButton.Configuration.contentInsets.setter();
  }
  else if (v35 == enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.withinLockups(_:))
  {
    (*(void (**)(char *, void, void (*)(char *, uint64_t)))(v66 + 104))(v65, enum case for UIButton.Configuration.Size.large(_:), v67);
    id v39 = v33;
    UIButton.Configuration.buttonSize.setter();
  }
  else
  {
    uint64_t v67 = *(void (**)(char *, uint64_t))(v73 + 8);
    id v40 = v33;
    v67(v19, AllButtonStyle);
  }
  uint64_t v41 = swift_allocObject();
  int v42 = v61;
  *(void *)(v41 + 16) = v33;
  *(void *)(v41 + 24) = v42;
  uint64_t v67 = v33;
  v42;
  uint64_t v43 = v69;
  UIConfigurationTextAttributesTransformer.init(_:)();
  uint64_t v44 = type metadata accessor for UIConfigurationTextAttributesTransformer();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v44 - 8) + 56))(v43, 0, 1, v44);
  UIButton.Configuration.titleTextAttributesTransformer.setter();
  uint64_t v45 = v62;
  UIButton.Configuration.background.getter();
  int64_t v46 = v68;
  v59(v68, v74, AllButtonStyle);
  int v47 = v58(v46, AllButtonStyle);
  if (v47 == v36)
  {
    UIBackgroundConfiguration.cornerRadius.setter();
    uint64_t v49 = v63;
    uint64_t v48 = v64;
  }
  else
  {
    uint64_t v49 = v63;
    uint64_t v48 = v64;
    if (v47 == enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.withinLockups(_:))
    {
      if (qword_10097EAD0 != -1) {
        swift_once();
      }
      UIBackgroundConfiguration.cornerRadius.setter();
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v73 + 8))(v46, AllButtonStyle);
    }
  }
  int v50 = v45;
  uint64_t v51 = swift_allocObject();
  int v52 = v60;
  *(void *)(v51 + 16) = v60;
  id v53 = v52;
  CGRect v54 = v72;
  UIConfigurationColorTransformer.init(_:)();
  uint64_t v55 = type metadata accessor for UIConfigurationColorTransformer();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v55 - 8) + 56))(v54, 0, 1, v55);
  UIBackgroundConfiguration.backgroundColorTransformer.setter();
  (*(void (**)(char *, char *, uint64_t))(v49 + 16))(v71, v50, v48);
  UIButton.Configuration.background.setter();
  uint64_t v56 = v70;
  (*(void (**)(char *, char *, uint64_t))(v26 + 16))(v70, v28, v25);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v26 + 56))(v56, 0, 1, v25);
  UIButton.configuration.setter();

  (*(void (**)(char *, uint64_t))(v49 + 8))(v50, v48);
  return (*(uint64_t (**)(char *, uint64_t))(v26 + 8))(v28, v25);
}

uint64_t sub_100348474@<X0>(uint64_t a1@<X0>, void *a2@<X1>, void *a3@<X2>, uint64_t a4@<X8>)
{
  uint64_t v8 = type metadata accessor for AttributeContainer();
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16))(a4, a1, v8);
  swift_getKeyPath();
  swift_getKeyPath();
  sub_10034DAB4();
  id v9 = a2;
  AttributeContainer.subscript.setter();
  uint64_t KeyPath = swift_getKeyPath();
  swift_getKeyPath();
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  if (qword_10097F7B8 != -1) {
    swift_once();
  }
  uint64_t v10 = type metadata accessor for FontUseCase();
  sub_100087728(v10, (uint64_t)qword_1009E5180);
  id v11 = [a3 traitCollection];
  static UIFont.preferredFont(forUseWith:compatibleWith:)();

  sub_10001E31C();
  AttributeContainer.subscript.setter();
  uint64_t v12 = swift_getKeyPath();
  __chkstk_darwin(v12);
  swift_getKeyPath();
  if (qword_10097FE60 != -1) {
    swift_once();
  }
  char v13 = (void *)qword_1009E62E0;
  sub_10034DC30();
  id v14 = v13;
  return AttributeContainer.subscript.setter();
}

uint64_t sub_1003486B4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991480);
}

uint64_t sub_1003486C0(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991480);
}

void sub_1003486CC()
{
}

void sub_1003486F4()
{
}

uint64_t sub_100348710(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991470);
}

uint64_t sub_10034871C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t *a4)
{
  return dispatch thunk of static Equatable.== infix(_:_:)() & 1;
}

uint64_t sub_100348774(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991470);
}

uint64_t sub_100348780(uint64_t a1, uint64_t a2, uint64_t *a3)
{
  return dispatch thunk of Hashable.hashValue.getter();
}

void sub_1003487C4()
{
}

void sub_1003487EC()
{
}

uint64_t sub_100348808@<X0>(uint64_t *a1@<X8>)
{
  uint64_t v68 = a1;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v3 = type metadata accessor for DisjointStack();
  uint64_t v69 = *(void *)(v3 - 8);
  uint64_t v70 = v3;
  __chkstk_darwin(v3);
  uint64_t v66 = (char *)&v55 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v67 = (char *)&v55 - v6;
  uint64_t v58 = type metadata accessor for Resize.Rule();
  uint64_t v56 = *(void *)(v58 - 8);
  __chkstk_darwin(v58);
  uint64_t v57 = (double (**)(double, double))((char *)&v55 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v8);
  uint64_t v55 = (double (**)(double, double))((char *)&v55 - v9);
  __chkstk_darwin(v10);
  long long v62 = (double (**)(double, double))((char *)&v55 - v11);
  __chkstk_darwin(v12);
  id v14 = (double (**)(double, double))((char *)&v55 - v13);
  uint64_t v61 = type metadata accessor for Resize();
  uint64_t v60 = *(void *)(v61 - 8);
  __chkstk_darwin(v61);
  uint64_t v59 = (char *)&v55 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v17 = *(void *)(AllButtonStyle - 8);
  __chkstk_darwin(AllButtonStyle);
  uint64_t v19 = (char *)&v55 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v22 = (char *)&v55 - v21;
  uint64_t v65 = type metadata accessor for VerticalStack();
  uint64_t v64 = *(void *)(v65 - 8);
  __chkstk_darwin(v65);
  int64_t v24 = (char *)&v55 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  VerticalStack.init(with:)();
  swift_beginAccess();
  uint64_t v25 = swift_bridgeObjectRetain();
  uint64_t v63 = (char *)sub_100308ABC(v25);
  swift_bridgeObjectRelease();
  uint64_t v71 = v1;
  uint64_t v26 = v1 + qword_100991388;
  swift_beginAccess();
  (*(void (**)(char *, uint64_t, uint64_t))(v17 + 16))(v22, v26, AllButtonStyle);
  (*(void (**)(char *, void, uint64_t))(v17 + 104))(v19, enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.withinLockups(_:), AllButtonStyle);
  sub_10034D390(&qword_100991490, (void (*)(uint64_t))&type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  if ((void)v74 == v72 && *((void *)&v74 + 1) == *(void *)&v73[0])
  {
    swift_bridgeObjectRelease_n();
    uint64_t v27 = *(void (**)(char *, uint64_t))(v17 + 8);
    v27(v19, AllButtonStyle);
    v27(v22, AllButtonStyle);
  }
  else
  {
    char v28 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    uint64_t v29 = *(void (**)(char *, uint64_t))(v17 + 8);
    v29(v19, AllButtonStyle);
    v29(v22, AllButtonStyle);
    if ((v28 & 1) == 0)
    {
LABEL_6:
      int64_t v31 = v63;
      goto LABEL_12;
    }
  }
  id v30 = *(void **)(v71 + qword_1009913A8);
  if ([v30 isHidden]) {
    goto LABEL_6;
  }
  uint64_t v75 = sub_100084CF0(0, (unint64_t *)&qword_100986D60);
  uint64_t v76 = &protocol witness table for UIButton;
  *(void *)&long long v74 = v30;
  *id v14 = sub_10034E7D0;
  v14[1] = 0;
  uint64_t v32 = *(void (**)(double (**)(double, double), uint64_t, uint64_t))(v56 + 104);
  uint64_t v33 = v58;
  v32(v14, enum case for Resize.Rule.recalculated(_:), v58);
  uint64_t v34 = enum case for Resize.Rule.unchanged(_:);
  v32(v62, enum case for Resize.Rule.unchanged(_:), v33);
  v32(v55, v34, v33);
  v32(v57, v34, v33);
  id v35 = v30;
  int v36 = v59;
  Resize.init(_:width:height:firstBaseline:lastBaseline:)();
  int64_t v31 = v63;
  if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
    int64_t v31 = sub_1000AD114(0, *((void *)v31 + 2) + 1, 1, v31);
  }
  unint64_t v38 = *((void *)v31 + 2);
  unint64_t v37 = *((void *)v31 + 3);
  if (v38 >= v37 >> 1) {
    int64_t v31 = sub_1000AD114((char *)(v37 > 1), v38 + 1, 1, v31);
  }
  uint64_t v39 = v61;
  uint64_t v75 = v61;
  uint64_t v76 = &protocol witness table for Resize;
  id v40 = sub_1000808B8((uint64_t *)&v74);
  uint64_t v41 = v60;
  (*(void (**)(uint64_t *, char *, uint64_t))(v60 + 16))(v40, v36, v39);
  *((void *)v31 + 2) = v38 + 1;
  sub_100081DD4(&v74, (uint64_t)&v31[40 * v38 + 32]);
  (*(void (**)(char *, uint64_t))(v41 + 8))(v36, v39);
LABEL_12:
  uint64_t v42 = *((void *)v31 + 2);
  swift_bridgeObjectRetain();
  if (v42)
  {
    uint64_t v43 = 0;
    uint64_t v44 = (uint64_t)(v31 + 32);
    do
    {
      sub_100082C6C(v44, (uint64_t)v73);
      *(void *)&long long v74 = v43;
      sub_100081DD4(v73, (uint64_t)&v74 + 8);
      sub_100349184(v43, (uint64_t)&v74 + 8, (uint64_t)v24, v42, ObjectType);
      sub_100082BCC((uint64_t)&v74, &qword_100991498);
      v44 += 40;
      ++v43;
    }
    while (v42 != v43);
  }
  swift_bridgeObjectRelease_n();
  uint64_t v45 = v66;
  DisjointStack.init(with:)();
  uint64_t v72 = *(void *)(v71 + qword_100991398);
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  Measurable.placeable.getter();
  int64_t v46 = v67;
  DisjointStack.inserting(_:at:with:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v74);
  int v47 = *(void (**)(char *, uint64_t))(v69 + 8);
  uint64_t v48 = v45;
  uint64_t v49 = v70;
  v47(v48, v70);
  uint64_t v50 = v65;
  uint64_t v75 = v65;
  uint64_t v76 = &protocol witness table for VerticalStack;
  uint64_t v51 = sub_1000808B8((uint64_t *)&v74);
  uint64_t v52 = v64;
  (*(void (**)(uint64_t *, char *, uint64_t))(v64 + 16))(v51, v24, v50);
  id v53 = v68;
  uint64_t v68[3] = v49;
  v53[4] = (uint64_t)&protocol witness table for DisjointStack;
  sub_1000808B8(v53);
  DisjointStack.inserting(_:at:with:)();
  v47(v46, v49);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)&v74);
  return (*(uint64_t (**)(char *, uint64_t))(v52 + 8))(v24, v50);
}

uint64_t sub_100349184(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  if (qword_10097EAA8 != -1) {
    swift_once();
  }
  sub_100082C6C(a2, (uint64_t)&v11);
  _OWORD v12[3] = type metadata accessor for Margins();
  v12[4] = (uint64_t)&protocol witness table for Margins;
  sub_1000808B8(v12);
  Margins.init(insets:child:)();
  uint64_t v9 = (void *)swift_allocObject();
  v9[2] = a1;
  uint64_t v9[3] = a4;
  void v9[4] = a5;
  VerticalStack.add(_:with:)();
  swift_release();
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v12);
}

uint64_t sub_1003492B0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  if (!a2 && qword_10097EAB0 != -1) {
    swift_once();
  }
  VerticalStack.Properties.topSpacing.setter();
  if (__OFSUB__(a3, 1))
  {
    __break(1u);
LABEL_9:
    swift_once();
    return VerticalStack.Properties.bottomSpacing.setter();
  }
  if (a3 - 1 == a2 && qword_10097EAB0 != -1) {
    goto LABEL_9;
  }
  return VerticalStack.Properties.bottomSpacing.setter();
}

uint64_t sub_1003493B0()
{
  uint64_t v0 = type metadata accessor for DisjointStack.EdgePosition();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (uint64_t *)((char *)&v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for ZeroDimension();
  v3[3] = v4;
  v3[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v3);
  static ZeroDimension.zero.getter();
  uint64_t v5 = enum case for DisjointStack.EdgePosition.anchored(_:);
  uint64_t v6 = *(void (**)(uint64_t *, uint64_t, uint64_t))(v1 + 104);
  v6(v3, enum case for DisjointStack.EdgePosition.anchored(_:), v0);
  DisjointStack.Properties.topEdge.setter();
  v3[3] = v4;
  v3[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v3);
  static ZeroDimension.zero.getter();
  v6(v3, v5, v0);
  DisjointStack.Properties.leadingEdge.setter();
  v3[3] = v4;
  v3[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v3);
  static ZeroDimension.zero.getter();
  v6(v3, v5, v0);
  DisjointStack.Properties.bottomEdge.setter();
  v3[3] = v4;
  v3[4] = (uint64_t)&protocol witness table for ZeroDimension;
  sub_1000808B8(v3);
  static ZeroDimension.zero.getter();
  v6(v3, v5, v0);
  DisjointStack.Properties.trailingEdge.setter();
  return DisjointStack.Properties.anchorsHugContent.setter();
}

uint64_t sub_100349560()
{
  return DisjointStack.Properties.anchorsHugContent.setter();
}

uint64_t sub_100349588@<X0>(uint64_t *a1@<X8>)
{
  int64_t v46 = a1;
  uint64_t v43 = type metadata accessor for Resize.Rule();
  uint64_t v41 = *(void *)(v43 - 8);
  __chkstk_darwin(v43);
  uint64_t v45 = (double (**)(double, double))((char *)&v37 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  __chkstk_darwin(v3);
  uint64_t v44 = (double (**)(double, double))((char *)&v37 - v4);
  __chkstk_darwin(v5);
  uint64_t v42 = (double (**)(double, double))((char *)&v37 - v6);
  __chkstk_darwin(v7);
  id v40 = (double (**)(double, double))((char *)&v37 - v8);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v10 = *(void *)(AllButtonStyle - 8);
  __chkstk_darwin(AllButtonStyle);
  uint64_t v12 = (char *)&v37 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v37 - v14;
  uint64_t v16 = type metadata accessor for VerticalStack();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v37 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v20);
  uint64_t v22 = (char *)&v37 - v21;
  VerticalStack.init(with:)();
  sub_100348808(v51);
  VerticalStack.adding(_:with:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
  uint64_t v23 = v19;
  uint64_t v24 = v16;
  (*(void (**)(char *, uint64_t))(v17 + 8))(v23, v16);
  uint64_t v25 = *(void **)(v1 + qword_1009913A8);
  if (([v25 isHidden] & 1) == 0)
  {
    uint64_t v26 = v1 + qword_100991388;
    swift_beginAccess();
    (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v15, v26, AllButtonStyle);
    (*(void (**)(char *, void, uint64_t))(v10 + 104))(v12, enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:), AllButtonStyle);
    sub_10034D390(&qword_100991490, (void (*)(uint64_t))&type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle);
    dispatch thunk of RawRepresentable.rawValue.getter();
    dispatch thunk of RawRepresentable.rawValue.getter();
    if ((void *)v51[0] == v47 && v51[1] == v48)
    {
      swift_bridgeObjectRelease_n();
      uint64_t v27 = *(void (**)(char *, uint64_t))(v10 + 8);
      v27(v12, AllButtonStyle);
      v27(v15, AllButtonStyle);
LABEL_6:
      uint64_t v49 = sub_100084CF0(0, (unint64_t *)&qword_100986D60);
      uint64_t v50 = &protocol witness table for UIButton;
      int v47 = v25;
      id v38 = v25;
      uint64_t v29 = v40;
      *id v40 = sub_100090E94;
      v29[1] = 0;
      uint64_t v39 = v24;
      id v30 = *(void (**)(double (**)(double, double), uint64_t, uint64_t))(v41 + 104);
      uint64_t v31 = v43;
      v30(v29, enum case for Resize.Rule.recalculated(_:), v43);
      uint64_t v32 = enum case for Resize.Rule.unchanged(_:);
      v30(v42, enum case for Resize.Rule.unchanged(_:), v31);
      v30(v44, v32, v31);
      v30(v45, v32, v31);
      uint64_t v24 = v39;
      v51[3] = type metadata accessor for Resize();
      v51[4] = (uint64_t)&protocol witness table for Resize;
      sub_1000808B8(v51);
      id v33 = v38;
      Resize.init(_:width:height:firstBaseline:lastBaseline:)();
      VerticalStack.add(_:with:)();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v51);
      goto LABEL_7;
    }
    LODWORD(v39) = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    char v28 = *(void (**)(char *, uint64_t))(v10 + 8);
    v28(v12, AllButtonStyle);
    v28(v15, AllButtonStyle);
    if (v39) {
      goto LABEL_6;
    }
  }
LABEL_7:
  uint64_t v34 = v46;
  v46[3] = v24;
  v34[4] = (uint64_t)&protocol witness table for VerticalStack;
  id v35 = sub_1000808B8(v34);
  return (*(uint64_t (**)(uint64_t *, char *, uint64_t))(v17 + 32))(v35, v22, v24);
}

id sub_100349B54()
{
  type metadata accessor for CustomLayoutView();
  uint64_t v1 = (void (*)(void))method lookup function for CustomLayoutView();
  v1();
  uint64_t v2 = *(void **)&v0[qword_100991390];
  [v0 bounds];

  return [v2 setFrame:];
}

id sub_100349BD0(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = &v1[qword_1009913A0];
  swift_beginAccess();
  uint64_t v5 = *(void *)v4;
  uint64_t v6 = *(void *)(*(void *)v4 + 16);
  if (v6)
  {
    swift_bridgeObjectRetain();
    uint64_t v7 = 32;
    do
    {
      [*(id *)(v5 + v7) removeFromSuperview];
      v7 += 16;
      --v6;
    }
    while (v6);
    swift_bridgeObjectRelease();
  }
  *(void *)uint64_t v4 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  uint64_t v8 = &v2[qword_1009913B8];
  swift_beginAccess();
  *(void *)uint64_t v8 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  id result = (id)sub_100347A74((uint64_t)_swiftEmptyArrayStorage);
  if (a1 < 0)
  {
    __break(1u);
  }
  else
  {
    if (a1)
    {
      type metadata accessor for ArcadeDownloadPackGameLockupPlaceholder();
      ObjCClassFromMetadata = (objc_class *)swift_getObjCClassFromMetadata();
      do
      {
        uint64_t v11 = (char *)[objc_allocWithZone(ObjCClassFromMetadata) init];
        if (qword_10097EAD8 != -1) {
          swift_once();
        }
        id v12 = (id)qword_100991368;
        ArtworkView.backgroundColor.setter();
        [*(id *)&v11[OBJC_IVAR____TtC8AppStore39ArcadeDownloadPackGameLockupPlaceholder_headingPlaceholder] setTextColor:v12];
        [*(id *)&v11[OBJC_IVAR____TtC8AppStore39ArcadeDownloadPackGameLockupPlaceholder_titlePlaceholder] setTextColor:v12];
        [*(id *)&v11[OBJC_IVAR____TtC8AppStore39ArcadeDownloadPackGameLockupPlaceholder_offerButtonPlaceholder] setBackgroundColor:v12];
        [v2 addSubview:v11];
        swift_beginAccess();
        uint64_t v13 = *(void **)v4;
        uint64_t v14 = v11;
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        *(void *)uint64_t v4 = v13;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          uint64_t v13 = sub_1000ABE38(0, v13[2] + 1, 1, v13);
          *(void *)uint64_t v4 = v13;
        }
        unint64_t v17 = v13[2];
        unint64_t v16 = v13[3];
        if (v17 >= v16 >> 1)
        {
          uint64_t v13 = sub_1000ABE38((void *)(v16 > 1), v17 + 1, 1, v13);
          *(void *)uint64_t v4 = v13;
        }
        uint64_t v18 = sub_10034D390(&qword_100991440, (void (*)(uint64_t))type metadata accessor for ArcadeDownloadPackGameLockupPlaceholder);
        void v13[2] = v17 + 1;
        uint64_t v19 = &v13[2 * v17];
        id v19[4] = v14;
        v19[5] = v18;
        swift_endAccess();

        --a1;
      }
      while (a1);
    }
    [*(id *)&v2[qword_1009913A8] setHidden:1];
    return [v2 setNeedsLayout];
  }
  return result;
}

objc_class *sub_100349EC4(unint64_t a1, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t v101 = a4;
  LODWORD(v95) = a3;
  uint64_t v89 = a2;
  uint64_t v6 = sub_100082C28(&qword_10098EF80);
  __chkstk_darwin(v6 - 8);
  uint64_t v83 = (uint64_t)&v77 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v86 = (char *)&v77 - v9;
  uint64_t v88 = type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(0);
  uint64_t v87 = *(void *)(v88 - 8);
  __chkstk_darwin(v88);
  uint64_t v81 = (uint64_t)&v77 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v80 = v10;
  __chkstk_darwin(v11);
  uint64_t v79 = (uint64_t)&v77 - v12;
  uint64_t v98 = type metadata accessor for AdamId();
  uint64_t v94 = *(void *)(v98 - 8);
  __chkstk_darwin(v98);
  uint64_t v97 = (char *)&v77 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v96 = type metadata accessor for AutomationSemantics();
  uint64_t v82 = *(void *)(v96 - 8);
  __chkstk_darwin(v96);
  uint64_t v15 = (char *)&v77 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100991450);
  __chkstk_darwin(v16 - 8);
  uint64_t v78 = (uint64_t)&v77 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v84 = (uint64_t)&v77 - v19;
  __chkstk_darwin(v20);
  uint64_t v22 = (char *)&v77 - v21;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v23 = *(void (***)(void, void, void))(AllButtonStyle - 8);
  __chkstk_darwin(AllButtonStyle);
  NSString v93 = (char *)&v77 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v25);
  uint64_t v27 = (char *)&v77 - v26;
  char v28 = &v4[qword_1009913A0];
  swift_beginAccess();
  uint64_t v29 = *(void *)v28;
  uint64_t v30 = *(void *)(*(void *)v28 + 16);
  uint64_t v90 = v4;
  unint64_t v99 = a1;
  if (v30)
  {
    swift_bridgeObjectRetain();
    uint64_t v31 = 32;
    do
    {
      [*(id *)(v29 + v31) removeFromSuperview];
      v31 += 16;
      --v30;
    }
    while (v30);
    swift_bridgeObjectRelease();
    uint64_t v4 = v90;
    a1 = v99;
  }
  *(void *)char v28 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  uint64_t v32 = (unint64_t *)&v4[qword_1009913B8];
  swift_beginAccess();
  *uint64_t v32 = a1;
  swift_bridgeObjectRetain();
  swift_bridgeObjectRelease();
  swift_weakAssign();
  v4[qword_1009913D0] = v95 & 1;
  sub_100082B68(v89, (uint64_t)v22, &qword_100991450);
  uint64_t v33 = v87 + 48;
  uint64_t v34 = v88;
  id v91 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v87 + 48);
  if (v91(v22, 1, v88) == 1)
  {
    sub_100082BCC((uint64_t)v22, &qword_100991450);
    ((void (**)(char *, void, uint64_t))v23)[13](v27, enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:), AllButtonStyle);
  }
  else
  {
    id v35 = &v22[*(int *)(v34 + 20)];
    int v36 = v93;
    uint64_t v37 = AllButtonStyle;
    ((void (**)(char *, char *, uint64_t))v23)[2](v93, v35, AllButtonStyle);
    sub_10034D6B4((uint64_t)v22);
    ((void (**)(char *, char *, uint64_t))v23)[4](v27, v36, v37);
  }
  uint64_t v85 = v33;
  sub_100345B38((uint64_t)v27);
  type metadata accessor for ArtworkLoader();
  uint64_t AllButtonStyle = inject(_:from:)();
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v38 = _CocoaArrayWrapper.endIndex.getter();
    if (!v38) {
      goto LABEL_24;
    }
  }
  else
  {
    uint64_t v38 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (!v38) {
      goto LABEL_24;
    }
  }
  type metadata accessor for TodayCardLockupView();
  id result = (objc_class *)swift_getObjCClassFromMetadata();
  Class v95 = result;
  if (v38 < 1)
  {
    __break(1u);
    return result;
  }
  uint64_t v40 = 0;
  NSString v93 = *(char **)&v90[qword_100991398];
  unint64_t v92 = a1 & 0xC000000000000001;
  uint64_t v41 = (void (**)(char *, uint64_t))(v94 + 8);
  uint64_t v42 = (void (**)(char *, uint64_t))(v82 + 8);
  uint64_t v94 = v38;
  do
  {
    if (v92)
    {
      uint64_t v43 = specialized _ArrayBuffer._getElementSlowPath(_:)();
    }
    else
    {
      uint64_t v43 = *(void *)(a1 + 8 * v40 + 32);
      swift_retain();
    }
    uint64_t v44 = (char *)[objc_allocWithZone(v95) init];
    [v93 addSubview:v44];
    uint64_t v45 = v97;
    Lockup.adamId.getter();
    uint64_t v46 = AdamId.stringValue.getter();
    uint64_t v48 = v47;
    (*v41)(v45, v98);
    v103[3] = &type metadata for String;
    v103[0] = v46;
    v103[1] = v48;
    memset(v102, 0, sizeof(v102));
    static AutomationSemantics.shelfItem(itemKind:id:parentId:)();
    sub_100082BCC((uint64_t)v102, (uint64_t *)&unk_100982B40);
    sub_100082BCC((uint64_t)v103, (uint64_t *)&unk_100982B40);
    UIView.setAutomationSemantics(_:)();
    (*v42)(v15, v96);
    sub_10034AB50(v43, AllButtonStyle, v101);
    uint64_t v49 = qword_10097EAD8;
    id v50 = *(id *)&v44[OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView];
    if (v49 != -1) {
      swift_once();
    }
    id v51 = (id)qword_100991368;
    ArtworkView.placeholderColor.setter();

    swift_beginAccess();
    uint64_t v52 = *(void **)v28;
    id v53 = v44;
    char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
    *(void *)char v28 = v52;
    if ((isUniquelyReferenced_nonNull_native & 1) == 0)
    {
      uint64_t v52 = sub_1000ABE38(0, v52[2] + 1, 1, v52);
      *(void *)char v28 = v52;
    }
    unint64_t v56 = v52[2];
    unint64_t v55 = v52[3];
    if (v56 >= v55 >> 1)
    {
      uint64_t v52 = sub_1000ABE38((void *)(v55 > 1), v56 + 1, 1, v52);
      *(void *)char v28 = v52;
    }
    ++v40;
    uint64_t v57 = sub_10034D390(&qword_100991458, (void (*)(uint64_t))type metadata accessor for TodayCardLockupView);
    v52[2] = v56 + 1;
    uint64_t v58 = &v52[2 * v56];
    v58[4] = v53;
    v58[5] = v57;
    swift_endAccess();

    swift_release();
    a1 = v99;
  }
  while (v94 != v40);
LABEL_24:
  swift_bridgeObjectRelease();
  uint64_t v59 = v89;
  uint64_t v60 = v84;
  sub_100082B68(v89, v84, &qword_100991450);
  uint64_t v61 = v88;
  if (v91((char *)v60, 1, v88) == 1)
  {
    sub_100082BCC(v60, &qword_100991450);
    long long v62 = v90;
    uint64_t v63 = &v90[qword_1009913B0];
    *(void *)uint64_t v63 = static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
    *((void *)v63 + 1) = 0;
  }
  else
  {
    uint64_t v64 = v60;
    uint64_t v65 = v79;
    sub_10034D710(v64, v79);
    long long v62 = v90;
    swift_unknownObjectWeakInit();
    swift_unknownObjectWeakDestroy();
    uint64_t v66 = v81;
    sub_10034D710(v65, v81);
    unint64_t v67 = (*(unsigned __int8 *)(v87 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v87 + 80);
    uint64_t v68 = swift_allocObject();
    *(void *)(v68 + 16) = v101;
    sub_10034D710(v66, v68 + v67);
    uint64_t v69 = (uint64_t (**)())&v62[qword_1009913B0];
    *uint64_t v69 = sub_10034D870;
    v69[1] = (uint64_t (*)())v68;
    swift_retain();
  }
  swift_release();
  uint64_t v70 = (uint64_t)v86;
  uint64_t v71 = *(void **)&v62[qword_1009913A8];
  UIButton.configuration.getter();
  uint64_t v72 = type metadata accessor for UIButton.Configuration();
  if ((*(unsigned int (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v72 - 8) + 48))(v70, 1, v72))
  {
    sub_100082B68(v70, v83, &qword_10098EF80);
    UIButton.configuration.setter();
    sub_100082BCC(v70, &qword_10098EF80);
  }
  else
  {
    uint64_t v73 = v78;
    sub_100082B68(v59, v78, &qword_100991450);
    if (v91((char *)v73, 1, v61) == 1)
    {
      sub_100082BCC(v73, &qword_100991450);
    }
    else
    {
      swift_retain();
      sub_10034D6B4(v73);
      Action.title.getter();
      swift_release();
    }
    UIButton.Configuration.title.setter();
    UIButton.configuration.setter();
  }
  NSString v74 = String._bridgeToObjectiveC()();
  [v71 setAccessibilityIdentifier:v74];

  [v71 setHidden:v91((char *)v59, 1, v61) == 1];
  inject(_:from:)();
  uint64_t v75 = sub_100345524(a1);
  swift_unknownObjectRetain();
  uint64_t v76 = sub_10034D554(v75);
  swift_unknownObjectRelease();
  swift_bridgeObjectRelease();
  sub_100347A74((uint64_t)v76);
  [v62 setNeedsLayout];
  swift_release();
  return (objc_class *)swift_unknownObjectRelease();
}

void sub_10034AB50(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v43 = a2;
  uint64_t v44 = a3;
  uint64_t v45 = a1;
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100981A70);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v43 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_10098AC10);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (uint64_t *)((char *)&v43 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100981A80);
  __chkstk_darwin(v11 - 8);
  uint64_t v13 = (char *)&v43 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100995F00);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v43 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v17 - 8);
  uint64_t v19 = (char *)&v43 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_10098AC20);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v20 - 8) + 56))(v19, 1, 1, v20);
  uint64_t v21 = type metadata accessor for OfferStyle();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v16, 1, 1, v21);
  uint64_t v22 = type metadata accessor for OfferEnvironment();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v22 - 8) + 56))(v13, 1, 1, v22);
  if (qword_10097EAF0 != -1) {
    swift_once();
  }
  uint64_t v23 = qword_10097EAE0;
  id v24 = (id)qword_100991380;
  if (v23 != -1) {
    swift_once();
  }
  uint64_t v25 = (void *)qword_100991370;
  *uint64_t v10 = v24;
  v10[1] = v25;
  uint64_t v26 = enum case for OfferTint.custom(_:);
  uint64_t v27 = type metadata accessor for OfferTint();
  uint64_t v28 = *(void *)(v27 - 8);
  (*(void (**)(void *, uint64_t, uint64_t))(v28 + 104))(v10, v26, v27);
  (*(void (**)(void *, void, uint64_t, uint64_t))(v28 + 56))(v10, 0, 1, v27);
  uint64_t v29 = sub_100082C28((uint64_t *)&unk_100981AC0);
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v29 - 8) + 56))(v7, 1, 1, v29);
  id v30 = v25;
  sub_10006F94C(v45, v4, (uint64_t)v19, v44, 0, 0, (uint64_t)v16, (uint64_t)v13, (uint64_t)v10, (uint64_t)v7);
  v4[OBJC_IVAR____TtC8AppStore19TodayCardLockupView_enforceMaximumOfTwoLinesOverall] = 0;
  sub_10006F430();
  [v4 setNeedsLayout:v43];
  sub_10006F430();
  sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100981A70);
  sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_10098AC10);
  sub_100082BCC((uint64_t)v13, (uint64_t *)&unk_100981A80);
  sub_100082BCC((uint64_t)v16, (uint64_t *)&unk_100995F00);
  sub_100082BCC((uint64_t)v19, (uint64_t *)&unk_100982860);
  if (Lockup.icon.getter())
  {
    swift_beginAccess();
    Artwork.config(using:)();
    type metadata accessor for ArtworkView();
    sub_10034D390((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
    ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
    swift_release();
    swift_release();
  }
  [*(id *)&v4[OBJC_IVAR____TtC8AppStore14BaseLockupView_titleLabel] setOverrideUserInterfaceStyle:2];
  uint64_t v31 = OBJC_IVAR____TtC8AppStore14BaseLockupView_headingLabel;
  uint64_t v32 = *(void **)&v4[OBJC_IVAR____TtC8AppStore14BaseLockupView_headingLabel];
  if (v32)
  {
    [v32 setOverrideUserInterfaceStyle:2];
    uint64_t v33 = *(void **)&v4[v31];
    if (v33)
    {
      id v34 = [v33 layer];
      [v34 setCompositingFilter:kCAFilterPlusL];

      id v35 = *(void **)&v4[v31];
      if (v35)
      {
        sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
        id v36 = v35;
        uint64_t v37 = (void *)static UIColor.secondaryText.getter();
        [v36 setTextColor:v37];
      }
    }
  }
  uint64_t v38 = *(void **)&v4[OBJC_IVAR____TtC8AppStore14BaseLockupView_offerButton];
  id v39 = [v38 layer];
  [v39 setCompositingFilter:kCAFilterPlusL];

  uint64_t v40 = OBJC_IVAR____TtC8AppStore19TodayCardLockupView_allowsGroupBlending;
  v4[OBJC_IVAR____TtC8AppStore19TodayCardLockupView_allowsGroupBlending] = 0;
  id v41 = [v4 layer];
  [v41 setAllowsGroupBlending:v4[v40]];

  id v42 = [v38 layer];
  [v42 setAllowsGroupBlending:v4[v40]];
}

uint64_t sub_10034B1E8(uint64_t a1, uint64_t *a2)
{
  uint64_t v26 = a2;
  uint64_t v2 = type metadata accessor for Dependency();
  uint64_t v29 = *(void *)(v2 - 8);
  uint64_t v30 = v2;
  __chkstk_darwin(v2);
  uint64_t v25 = (char *)&v24 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for MetricsFieldsContext();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v24 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v24 - v9;
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v27 = *(void *)(v11 - 8);
  uint64_t v28 = v11;
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v24 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v24 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  ObjectGraph.actionDispatcher.getter();
  uint64_t v17 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v18 = *(uint64_t **)(v17 - 8);
  if (((unsigned int (*)(char *, uint64_t, uint64_t))v18[6])(v16, 1, v17) == 1) {
    return sub_100082BCC((uint64_t)v16, &qword_1009875B0);
  }
  uint64_t v20 = *v26;
  long long v31[3] = type metadata accessor for Action();
  v31[4] = sub_10034D390((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
  uint64_t v24 = v20;
  v31[0] = v20;
  swift_retain_n();
  uint64_t v26 = v18;
  sub_1005365D0();
  (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v10, v4);
  uint64_t v21 = v25;
  Dependency.init<A>(satisfying:with:)();
  dispatch thunk of BaseObjectGraph.adding(dependency:)();
  (*(void (**)(char *, uint64_t))(v29 + 8))(v21, v30);
  (*(void (**)(char *, char *, uint64_t))(v5 + 32))(v13, v10, v4);
  uint64_t v23 = v27;
  uint64_t v22 = v28;
  (*(void (**)(char *, void, uint64_t))(v27 + 104))(v13, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v28);
  ActionDispatcher.perform(_:withMetrics:asPartOf:)();
  swift_release();
  (*(void (**)(char *, uint64_t))(v23 + 8))(v13, v22);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v31);
  swift_release();
  swift_release();
  return ((uint64_t (*)(char *, uint64_t))v26[1])(v16, v17);
}

void sub_10034B618()
{
  uint64_t v1 = *(id *)((char *)v0 + qword_100991398);
  CGAffineTransformMakeScale(&aBlock, 0.9, 0.9);
  [v1 setTransform:&aBlock];
  uint64_t v2 = (char *)v0 + qword_1009913A0;
  swift_beginAccess();
  uint64_t v3 = *(void *)v2;
  uint64_t v4 = *(void *)(*(void *)v2 + 16);
  if (!v4)
  {
LABEL_15:
    [*(id *)((char *)v0 + qword_1009913A8) setAlpha:0.0];
    if (qword_10097EAA0 != -1) {
      goto LABEL_18;
    }
    goto LABEL_16;
  }
  uint64_t v17 = v0;
  uint64_t v0 = (id *)(v3 + 32);
  swift_bridgeObjectRetain_n();
  uint64_t v5 = 0;
  while (1)
  {
    id v6 = v0[2 * v5];
    id v7 = [v6 subviews];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    unint64_t v8 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    if (v8 >> 62) {
      break;
    }
    uint64_t v9 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v9) {
      goto LABEL_6;
    }
LABEL_3:
    ++v5;
    swift_bridgeObjectRelease_n();

    if (v5 == v4)
    {
      swift_bridgeObjectRelease_n();
      uint64_t v0 = v17;
      goto LABEL_15;
    }
  }
  swift_bridgeObjectRetain();
  uint64_t v9 = _CocoaArrayWrapper.endIndex.getter();
  if (!v9) {
    goto LABEL_3;
  }
LABEL_6:
  if (v9 >= 1)
  {
    for (uint64_t i = 0; i != v9; ++i)
    {
      if ((v8 & 0xC000000000000001) != 0) {
        id v11 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        id v11 = *(id *)(v8 + 8 * i + 32);
      }
      uint64_t v12 = v11;
      [v11 setAlpha:0.0];
    }
    goto LABEL_3;
  }
  __break(1u);
LABEL_18:
  swift_once();
LABEL_16:
  id v13 = [objc_allocWithZone((Class)UIViewPropertyAnimator) initWithDuration:qword_100991300 timingParameters:0.0];
  uint64_t v14 = swift_allocObject();
  *(void *)(v14 + 16) = v0;
  *(void *)&aBlock.tCGFloat x = sub_10034DCE8;
  *(void *)&aBlock.tCGFloat y = v14;
  *(void *)&aBlock.a = _NSConcreteStackBlock;
  *(void *)&aBlock.b = 1107296256;
  *(void *)&aBlock.c = sub_1000162D4;
  *(void *)&aBlock.d = &unk_1008C6BD8;
  uint64_t v15 = _Block_copy(&aBlock);
  uint64_t v16 = v0;
  swift_release();
  [v13 addAnimations:v15];
  _Block_release(v15);
  [v13 startAnimationAfterDelay:0.16];
}

id sub_10034B93C(uint64_t a1)
{
  uint64_t v1 = a1;
  uint64_t v2 = a1 + qword_1009913A0;
  swift_beginAccess();
  uint64_t v3 = *(void *)(*(void *)v2 + 16);
  if (!v3)
  {
LABEL_15:
    [*(id *)(v1 + qword_1009913A8) setAlpha:1.0];
    uint64_t v14 = *(void **)(v1 + qword_100991398);
    v16[0] = 0x3FF0000000000000;
    v16[1] = 0;
    _OWORD v16[2] = 0;
    v16[3] = 0x3FF0000000000000;
    v16[4] = 0;
    uint64_t v16[5] = 0;
    return [v14 setTransform:v16];
  }
  uint64_t v15 = v1;
  uint64_t v4 = *(void *)v2 + 32;
  swift_bridgeObjectRetain_n();
  uint64_t v5 = 0;
  while (1)
  {
    id v6 = *(id *)(v4 + 16 * v5);
    id v7 = [v6 subviews];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    unint64_t v8 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    if (v8 >> 62) {
      break;
    }
    uint64_t v9 = *(void *)((v8 & 0xFFFFFFFFFFFFFF8) + 0x10);
    id result = (id)swift_bridgeObjectRetain();
    if (v9) {
      goto LABEL_6;
    }
LABEL_3:
    ++v5;
    swift_bridgeObjectRelease_n();

    if (v5 == v3)
    {
      swift_bridgeObjectRelease_n();
      uint64_t v1 = v15;
      goto LABEL_15;
    }
  }
  swift_bridgeObjectRetain();
  id result = (id)_CocoaArrayWrapper.endIndex.getter();
  uint64_t v9 = (uint64_t)result;
  if (!result) {
    goto LABEL_3;
  }
LABEL_6:
  if (v9 >= 1)
  {
    for (uint64_t i = 0; i != v9; ++i)
    {
      if ((v8 & 0xC000000000000001) != 0) {
        id v12 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        id v12 = *(id *)(v8 + 8 * i + 32);
      }
      id v13 = v12;
      [v12 setAlpha:1.0];
    }
    goto LABEL_3;
  }
  __break(1u);
  return result;
}

uint64_t sub_10034BB2C(char *a1)
{
  uint64_t v1 = *(void (**)(uint64_t))&a1[qword_1009913B0];
  uint64_t v2 = a1;
  uint64_t v3 = swift_retain();
  v1(v3);

  return swift_release();
}

uint64_t sub_10034BB90()
{
  uint64_t v1 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v1 - 8);
  uint64_t v40 = (char *)&v33 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v5 = (char *)&v33 - v4;
  uint64_t v6 = type metadata accessor for ImpressionMetrics();
  id v7 = *(char **)(v6 - 8);
  __chkstk_darwin(v6);
  id v41 = (char *)&v33 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = &v0[qword_1009913B8];
  swift_beginAccess();
  uint64_t v10 = *(void *)v9;
  if (*(void *)v9 >> 62) {
    goto LABEL_14;
  }
  uint64_t v11 = *(void *)((v10 & 0xFFFFFFFFFFFFFF8) + 0x10);
  uint64_t result = swift_bridgeObjectRetain_n();
  if (!v11) {
    return swift_bridgeObjectRelease_n();
  }
  while (v11 >= 1)
  {
    id v13 = &v0[qword_1009913A0];
    unint64_t v43 = v10 & 0xC000000000000001;
    swift_beginAccess();
    unint64_t v14 = 0;
    id v42 = (unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
    uint64_t v37 = (void (**)(char *, char *, uint64_t))(v7 + 16);
    uint64_t v38 = (void (**)(char *, char *, uint64_t))(v7 + 32);
    id v35 = (void (**)(char *, uint64_t))(v7 + 8);
    id v36 = (void (**)(uint64_t, void, uint64_t, uint64_t))(v7 + 56);
    uint64_t v15 = 32;
    uint64_t v39 = v10;
    id v34 = v5;
    while (1)
    {
      if (v43)
      {
        uint64_t v16 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        uint64_t v16 = *(void *)(v10 + 8 * v14 + 32);
        swift_retain();
      }
      if (v14 >= *(void *)(*(void *)v13 + 16)) {
        break;
      }
      id v7 = (char *)*(id *)(*(void *)v13 + v15);
      uint64_t v0 = (char *)v16;
      Lockup.impressionMetrics.getter();
      if ((*v42)(v5, 1, v6) == 1)
      {

        sub_100082BCC((uint64_t)v5, &qword_100985970);
      }
      else
      {
        uint64_t v17 = v41;
        (*v38)(v41, v5, v6);
        id v7 = v7;
        [v7 bounds];
        double v19 = v18;
        double v21 = v20;
        double v23 = v22;
        double v25 = v24;
        id v26 = [self blueColor];
        id v27 = objc_allocWithZone((Class)type metadata accessor for ImpressionMetricsDebugOverlay());
        uint64_t v0 = sub_10078E828(v26, v19, v21, v23, v25);
        uint64_t v28 = v13;
        uint64_t v29 = v11;
        uint64_t v30 = (uint64_t)v40;
        (*v37)(v40, v17, v6);
        (*v36)(v30, 0, 1, v6);
        sub_10078E420(v30);
        sub_100082BCC(v30, &qword_100985970);
        id v31 = [v7 viewWithTag:58236912];
        [v31 removeFromSuperview];

        uint64_t v11 = v29;
        id v13 = v28;
        uint64_t v5 = v34;
        [v7 addSubview:v0];

        uint64_t v32 = v17;
        uint64_t v10 = v39;
        (*v35)(v32, v6);
      }
      swift_release();
      ++v14;
      v15 += 16;
      if (v11 == v14) {
        return swift_bridgeObjectRelease_n();
      }
    }
    __break(1u);
LABEL_14:
    swift_bridgeObjectRetain_n();
    uint64_t result = _CocoaArrayWrapper.endIndex.getter();
    uint64_t v11 = result;
    if (!result) {
      return swift_bridgeObjectRelease_n();
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_10034BFE0(unint64_t a1)
{
  uint64_t v3 = type metadata accessor for Dependency();
  uint64_t v34 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v31 = (char *)&v29 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for MetricsFieldsContext();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v29 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v29 - v10;
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v32 = *(void *)(v12 - 8);
  uint64_t v33 = v12;
  __chkstk_darwin(v12);
  unint64_t v14 = (char *)&v29 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v15 - 8);
  uint64_t v17 = (char *)&v29 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v18 = (uint64_t *)(v1 + qword_1009913B8);
  uint64_t result = swift_beginAccess();
  uint64_t v20 = *v18;
  BOOL v21 = (*v18 & 0xC000000000000001) == 0;
  uint64_t v35 = v3;
  if (!v21)
  {
    specialized _ArrayBuffer._getElementSlowPath(_:)();
    goto LABEL_6;
  }
  if ((a1 & 0x8000000000000000) != 0)
  {
    __break(1u);
    goto LABEL_15;
  }
  if (*(void *)((v20 & 0xFFFFFFFFFFFFFF8) + 0x10) <= a1)
  {
LABEL_15:
    __break(1u);
    return result;
  }
  swift_retain();
LABEL_6:
  swift_endAccess();
  uint64_t v22 = Lockup.clickAction.getter();
  if (!v22) {
    return swift_release();
  }
  uint64_t v23 = v22;
  if (!swift_weakLoadStrong())
  {
    swift_release();
    return swift_release();
  }
  ObjectGraph.actionDispatcher.getter();
  uint64_t v24 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v30 = *(void *)(v24 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v30 + 48))(v17, 1, v24) == 1)
  {
    swift_release();
    swift_release();
    swift_release();
    return sub_100082BCC((uint64_t)v17, &qword_1009875B0);
  }
  else
  {
    v36[3] = type metadata accessor for Action();
    v36[4] = sub_10034D390((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
    v36[0] = v23;
    swift_retain_n();
    uint64_t v29 = v24;
    sub_1005365D0();
    (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v8, v11, v5);
    double v25 = v31;
    Dependency.init<A>(satisfying:with:)();
    dispatch thunk of BaseObjectGraph.adding(dependency:)();
    (*(void (**)(char *, uint64_t))(v34 + 8))(v25, v35);
    (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v14, v11, v5);
    uint64_t v27 = v32;
    uint64_t v26 = v33;
    (*(void (**)(char *, void, uint64_t))(v32 + 104))(v14, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v33);
    uint64_t v28 = v29;
    ActionDispatcher.perform(_:withMetrics:asPartOf:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v27 + 8))(v14, v26);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v36);
    swift_release();
    swift_release();
    swift_release_n();
    swift_release();
    return (*(uint64_t (**)(char *, uint64_t))(v30 + 8))(v17, v28);
  }
}

void sub_10034C4F0(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  if (v2[qword_1009913D0] == 1)
  {
    uint64_t v5 = qword_1009913D8;
    uint64_t v6 = *(void **)&v2[qword_1009913D8];
    if (!v6
      || [v6 phase] == (id)3
      || (uint64_t v7 = *(void **)&v2[v5]) != 0 && [v7 phase] == (id)4)
    {
      uint64_t v8 = swift_bridgeObjectRetain();
      uint64_t v9 = (void *)sub_10069378C(v8);
      swift_bridgeObjectRelease();
      if (v9)
      {
        [v9 locationInView:v2];
        double v11 = v10;
        double v13 = v12;
        unint64_t v14 = &v2[qword_1009913A0];
        swift_beginAccess();
        uint64_t v15 = *(void *)v14;
        uint64_t v16 = *(void *)(v15 + 16);
        if (v16)
        {
          double v25 = v9;
          uint64_t v26 = v5;
          uint64_t v27 = ObjectType;
          swift_bridgeObjectRetain();
          uint64_t v17 = 0;
          uint64_t v18 = 32;
          while (1)
          {
            id v19 = *(id *)(v15 + v18);
            [v19 convertPoint:v2 fromCoordinateSpace:v11];
            unsigned int v20 = [v19 pointInside:a2 withEvent:nil];

            if (v20) {
              break;
            }
            ++v17;
            v18 += 16;
            if (v16 == v17)
            {
              swift_bridgeObjectRelease();
              uint64_t v17 = 0;
              char v21 = 1;
              goto LABEL_17;
            }
          }
          swift_bridgeObjectRelease();
          char v21 = 0;
LABEL_17:
          uint64_t ObjectType = v27;
          uint64_t v9 = v25;
          uint64_t v5 = v26;
        }
        else
        {
          uint64_t v17 = 0;
          char v21 = 1;
        }
        uint64_t v23 = &v2[qword_1009913E0];
        *(void *)uint64_t v23 = v17;
        v23[8] = v21;
        uint64_t v24 = *(void **)&v2[v5];
        *(void *)&v2[v5] = v9;

        sub_100084CF0(0, (unint64_t *)&qword_100990050);
        sub_100105B50();
        v22.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
        v28.receiver = v2;
        v28.super_class = ObjectType;
        [super touchesBegan:a2];
      }
      else
      {
        sub_100084CF0(0, (unint64_t *)&qword_100990050);
        sub_100105B50();
        v22.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
        v29.receiver = v2;
        v29.super_class = ObjectType;
        [super touchesBegan:a2 withEvent:v22.super.isa];
      }
    }
    else
    {
      sub_100084CF0(0, (unint64_t *)&qword_100990050);
      sub_100105B50();
      v22.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
      v30.receiver = v2;
      v30.super_class = ObjectType;
      [super touchesBegan:a2];
    }
  }
  else
  {
    sub_100084CF0(0, (unint64_t *)&qword_100990050);
    sub_100105B50();
    v22.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
    v31.receiver = v2;
    v31.super_class = ObjectType;
    [super touchesBegan:a2];
  }
}

uint64_t sub_10034C7F0(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  return sub_10034C9D0(a1, a2, a3, a4, (void (*)(uint64_t, void *))sub_10034C4F0);
}

void sub_10034C808(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = swift_getObjectType();
  if (*(unsigned char *)(v2 + qword_1009913D0) != 1)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100990050);
    sub_100105B50();
    v11.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
    [v14 touchesEnded:a2 withEvent:[v12 receiver] [v12 super_class] v13 [v13 receiver] [v13 super_class] v2 ObjectType];
    goto LABEL_11;
  }
  uint64_t v6 = qword_1009913D8;
  uint64_t v7 = *(void **)(v2 + qword_1009913D8);
  if (!v7)
  {
LABEL_10:
    sub_100084CF0(0, (unint64_t *)&qword_100990050);
    sub_100105B50();
    v11.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
    [v13 touchesEnded:a2 withEvent:v12];
    goto LABEL_11;
  }
  id v8 = v7;
  if ((sub_1002F99D4(v8, a1) & 1) == 0)
  {

    goto LABEL_10;
  }
  uint64_t v9 = *(void **)(v2 + v6);
  *(void *)(v2 + v6) = 0;

  uint64_t v10 = v2 + qword_1009913E0;
  if ((*(unsigned char *)(v2 + qword_1009913E0 + 8) & 1) == 0 && (*(unsigned char *)(v2 + qword_1009E2C58) & 1) == 0) {
    sub_10034BFE0(*(void *)v10);
  }

  *(void *)uint64_t v10 = 0;
  *(unsigned char *)(v10 + 8) = 1;
  sub_100084CF0(0, (unint64_t *)&qword_100990050);
  sub_100105B50();
  v11.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
  [v12 touchesEnded:a2 withEvent:ObjectType v13.receiver v13.super_class v14.receiver v14.super_class];
LABEL_11:
}

uint64_t sub_10034C9B8(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  return sub_10034C9D0(a1, a2, a3, a4, (void (*)(uint64_t, void *))sub_10034C808);
}

uint64_t sub_10034C9D0(void *a1, uint64_t a2, uint64_t a3, void *a4, void (*a5)(uint64_t, void *))
{
  sub_100084CF0(0, (unint64_t *)&qword_100990050);
  sub_100105B50();
  uint64_t v8 = static Set._unconditionallyBridgeFromObjectiveC(_:)();
  id v9 = a4;
  id v10 = a1;
  a5(v8, a4);

  return swift_bridgeObjectRelease();
}

void sub_10034CA80(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = swift_getObjectType();
  if (*(unsigned char *)(v2 + qword_1009913D0) == 1)
  {
    uint64_t v5 = *(void **)(v2 + qword_1009913D8);
    *(void *)(v2 + qword_1009913D8) = 0;

    uint64_t v6 = v2 + qword_1009913E0;
    *(void *)uint64_t v6 = 0;
    *(unsigned char *)(v6 + 8) = 1;
    sub_100084CF0(0, (unint64_t *)&qword_100990050);
    sub_100105B50();
    v7.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
    [super touchesCancelled:a2 withEvent:ObjectType];
  }
  else
  {
    sub_100084CF0(0, (unint64_t *)&qword_100990050);
    sub_100105B50();
    v7.super.Class isa = Set._bridgeToObjectiveC()().super.isa;
    [super touchesCancelled:a2 withEvent:v8];
  }
}

uint64_t sub_10034CBA4(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  return sub_10034C9D0(a1, a2, a3, a4, (void (*)(uint64_t, void *))sub_10034CA80);
}

uint64_t sub_10034CBBC()
{
  return type metadata accessor for ArcadeDownloadPackGamesCardView(0);
}

unsigned char *storeEnumTagSinglePayload for ArcadeDownloadPackGamesPurchaseAvailabilityStatus(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x10034CC90);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ArcadeDownloadPackGamesPurchaseAvailabilityStatus()
{
  return &type metadata for ArcadeDownloadPackGamesPurchaseAvailabilityStatus;
}

unint64_t sub_10034CCCC()
{
  unint64_t result = qword_100991438;
  if (!qword_100991438)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991438);
  }
  return result;
}

uint64_t sub_10034CD20(uint64_t a1, int a2, void *a3)
{
  uint64_t v7 = type metadata accessor for AdamId();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  id v10 = (char *)v55 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28(&qword_100984D98);
  __chkstk_darwin(v11);
  uint64_t v15 = (char *)v55 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = *(void *)(a1 + 16);
  if (!v16) {
    return swift_bridgeObjectRelease();
  }
  LODWORD(v58) = a2;
  v55[1] = v3;
  uint64_t v17 = *(int *)(v12 + 48);
  v55[0] = (*(unsigned __int8 *)(v13 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v13 + 80);
  uint64_t v18 = a1 + v55[0];
  uint64_t v60 = *(void *)(v13 + 72);
  uint64_t v57 = a1;
  swift_bridgeObjectRetain();
  sub_100082B68(v18, (uint64_t)v15, &qword_100984D98);
  uint64_t v56 = v8;
  id v19 = *(void (**)(unint64_t, char *, uint64_t))(v8 + 32);
  uint64_t v61 = v7;
  long long v62 = v19;
  v19((unint64_t)v10, v15, v7);
  uint64_t v59 = v17;
  char v20 = v15[v17];
  uint64_t v63 = a3;
  uint64_t v21 = *a3;
  unint64_t v23 = sub_100406FE0((uint64_t)v10);
  uint64_t v24 = *(void *)(v21 + 16);
  BOOL v25 = (v22 & 1) == 0;
  uint64_t v26 = v24 + v25;
  if (__OFADD__(v24, v25)) {
    goto LABEL_24;
  }
  char v27 = v22;
  if (*(void *)(v21 + 24) >= v26)
  {
    if (v58)
    {
      if (v22) {
        goto LABEL_10;
      }
    }
    else
    {
      sub_1000C93A4();
      if (v27) {
        goto LABEL_10;
      }
    }
LABEL_13:
    uint64_t v32 = (void *)*v63;
    *(void *)(*v63 + 8 * (v23 >> 6) + 64) |= 1 << v23;
    uint64_t v33 = v32[6];
    uint64_t v58 = *(void *)(v56 + 72);
    uint64_t v34 = v61;
    v62(v33 + v58 * v23, v10, v61);
    *(unsigned char *)(v32[7] + v23) = v20;
    uint64_t v35 = v32[2];
    BOOL v36 = __OFADD__(v35, 1);
    uint64_t v37 = v35 + 1;
    if (v36)
    {
LABEL_25:
      __break(1u);
      goto LABEL_26;
    }
    v32[2] = v37;
    uint64_t v38 = v16 - 1;
    if (v16 == 1) {
      return swift_bridgeObjectRelease_n();
    }
    uint64_t v39 = v57 + v60 + v55[0];
    while (1)
    {
      sub_100082B68(v39, (uint64_t)v15, &qword_100984D98);
      v62((unint64_t)v10, v15, v34);
      char v40 = v15[v59];
      id v41 = (void *)*v63;
      unint64_t v43 = sub_100406FE0((uint64_t)v10);
      uint64_t v44 = v41[2];
      BOOL v45 = (v42 & 1) == 0;
      uint64_t v46 = v44 + v45;
      if (__OFADD__(v44, v45)) {
        break;
      }
      char v47 = v42;
      if (v41[3] < v46)
      {
        sub_1000C3CFC(v46, 1);
        unint64_t v48 = sub_100406FE0((uint64_t)v10);
        if ((v47 & 1) != (v49 & 1)) {
          goto LABEL_26;
        }
        unint64_t v43 = v48;
      }
      if (v47) {
        goto LABEL_10;
      }
      id v50 = (void *)*v63;
      *(void *)(*v63 + 8 * (v43 >> 6) + 64) |= 1 << v43;
      uint64_t v34 = v61;
      v62(v50[6] + v58 * v43, v10, v61);
      *(unsigned char *)(v50[7] + v43) = v40;
      uint64_t v51 = v50[2];
      BOOL v36 = __OFADD__(v51, 1);
      uint64_t v52 = v51 + 1;
      if (v36) {
        goto LABEL_25;
      }
      v50[2] = v52;
      v39 += v60;
      if (!--v38) {
        return swift_bridgeObjectRelease_n();
      }
    }
LABEL_24:
    __break(1u);
    goto LABEL_25;
  }
  sub_1000C3CFC(v26, v58 & 1);
  unint64_t v28 = sub_100406FE0((uint64_t)v10);
  if ((v27 & 1) == (v29 & 1))
  {
    unint64_t v23 = v28;
    if ((v27 & 1) == 0) {
      goto LABEL_13;
    }
LABEL_10:
    uint64_t v31 = swift_allocError();
    swift_willThrow();
    uint64_t v66 = v31;
    swift_errorRetain();
    sub_100082C28(&qword_100984620);
    if ((swift_dynamicCast() & 1) == 0)
    {
      swift_bridgeObjectRelease();
      (*(void (**)(char *, uint64_t))(v56 + 8))(v10, v61);
      swift_bridgeObjectRelease();
      return swift_errorRelease();
    }
    goto LABEL_27;
  }
LABEL_26:
  KEY_TYPE_OF_DICTIONARY_VIOLATES_HASHABLE_REQUIREMENTS(_:)();
  __break(1u);
LABEL_27:
  uint64_t v64 = 0;
  unint64_t v65 = 0xE000000000000000;
  _StringGuts.grow(_:)(30);
  v53._object = (void *)0x8000000100813620;
  v53._uint64_t countAndFlagsBits = 0xD00000000000001BLL;
  String.append(_:)(v53);
  _print_unlocked<A, B>(_:_:)();
  v54._uint64_t countAndFlagsBits = 39;
  v54._object = (void *)0xE100000000000000;
  String.append(_:)(v54);
  uint64_t result = _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
  return result;
}

uint64_t sub_10034D26C()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10034D2A4()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10034D2DC()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_10034D31C()
{
  sub_1003470E4(*(void *)(v0 + 16), *(void *)(v0 + 24));
}

uint64_t sub_10034D324()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_10034D364(uint64_t a1, uint64_t a2)
{
  return sub_100347864(a1, a2, *(void *)(v2 + 16), *(uint64_t (**)(uint64_t))(v2 + 24), *(void *)(v2 + 32));
}

uint64_t type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(uint64_t a1)
{
  return sub_10007F0EC(a1, qword_1009914F8);
}

uint64_t sub_10034D390(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

double sub_10034D3D8(uint64_t a1, void *a2)
{
  if (qword_1009807D8 != -1) {
    swift_once();
  }
  sub_100063D84((uint64_t)&xmmword_1009E7A90, (uint64_t)v9);
  if (qword_1009807E0 != -1) {
    swift_once();
  }
  sub_100054354((uint64_t)v9, (uint64_t)&xmmword_1009E7BF0, a2, 0.0);
  double v5 = v4;
  sub_100082D34((uint64_t)v9);
  if (qword_10097EAB0 != -1) {
    swift_once();
  }
  double v6 = *(double *)&qword_100991328;
  double v7 = *(double *)&qword_100991328;
  if (qword_10097EAA8 != -1)
  {
    swift_once();
    double v7 = *(double *)&qword_100991328;
  }
  return v7 + v6 + (ceil(v5) + *(double *)&xmmword_100991308 + *(double *)&qword_100991318) * (double)a1;
}

void *sub_10034D554(uint64_t a1)
{
  int64_t v1 = *(void *)(a1 + 16);
  if (v1)
  {
    sub_1001296A0(0, v1, 0);
    uint64_t v3 = *(void *)(type metadata accessor for AdamId() - 8);
    uint64_t v4 = a1 + ((*(unsigned __int8 *)(v3 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));
    swift_getObjectType();
    uint64_t v12 = *(void *)(v3 + 72);
    do
    {
      uint64_t v5 = dispatch thunk of AppStateController.stateMachine(forApp:)();
      uint64_t v7 = v6;
      unint64_t v9 = _swiftEmptyArrayStorage[2];
      unint64_t v8 = _swiftEmptyArrayStorage[3];
      if (v9 >= v8 >> 1) {
        sub_1001296A0(v8 > 1, v9 + 1, 1);
      }
      _swiftEmptyArrayStorage[2] = v9 + 1;
      id v10 = &_swiftEmptyArrayStorage[2 * v9];
      v10[4] = v5;
      uint64_t v10[5] = v7;
      v4 += v12;
      --v1;
    }
    while (v1);
  }
  return _swiftEmptyArrayStorage;
}

uint64_t sub_10034D6B4(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_10034D710(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_10034D774()
{
  int64_t v1 = (int *)(type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(0) - 8);
  uint64_t v2 = *(unsigned __int8 *)(*(void *)v1 + 80);
  uint64_t v3 = (v2 + 24) & ~v2;
  uint64_t v4 = v3 + *(void *)(*(void *)v1 + 64);
  uint64_t v5 = v2 | 7;
  swift_release();
  swift_release();
  uint64_t v6 = v0 + v3 + v1[7];
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 8))(v6, AllButtonStyle);

  return _swift_deallocObject(v0, v4, v5);
}

uint64_t sub_10034D870()
{
  uint64_t v1 = *(void *)(type metadata accessor for ArcadeDownloadPackGamesCardView.DownloadAllButtonConfiguration(0) - 8);
  uint64_t v2 = *(void *)(v0 + 16);
  uint64_t v3 = (uint64_t *)(v0 + ((*(unsigned __int8 *)(v1 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v1 + 80)));

  return sub_10034B1E8(v2, v3);
}

uint64_t sub_10034D8D4()
{
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v2 = *(void *)(AllButtonStyle - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 16) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 8;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, AllButtonStyle);

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_10034D970(void *a1)
{
  uint64_t v3 = *(void *)(type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle() - 8);
  uint64_t v4 = v1 + ((*(unsigned __int8 *)(v3 + 80) + 16) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80));

  return sub_100347B3C(a1, v4);
}

uint64_t sub_10034DA0C()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10034DA4C@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  return sub_100348474(a1, *(void **)(v2 + 16), *(void **)(v2 + 24), a2);
}

uint64_t sub_10034DA54()
{
  return _swift_deallocObject(v0, 24, 7);
}

id sub_10034DA8C()
{
  return *(id *)(v0 + 16);
}

void sub_10034DA94()
{
}

unint64_t sub_10034DAB4()
{
  unint64_t result = qword_100999620;
  if (!qword_100999620)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100999620);
  }
  return result;
}

void sub_10034DB08()
{
}

uint64_t sub_10034DB30()
{
  return 8;
}

uint64_t sub_10034DB3C()
{
  return swift_release();
}

uint64_t sub_10034DB44(void *a1, void *a2)
{
  *a2 = *a1;
  return swift_retain();
}

uint64_t sub_10034DB50(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991480) & 1;
}

uint64_t sub_10034DB74(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991480);
}

void *sub_10034DB80(void *result, void *a2)
{
  *a2 = *result;
  return result;
}

void sub_10034DB8C()
{
}

void sub_10034DBAC()
{
}

uint64_t sub_10034DBD4()
{
  return 8;
}

uint64_t sub_10034DBE0(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991478) & 1;
}

uint64_t sub_10034DC04(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991478);
}

void sub_10034DC10()
{
}

unint64_t sub_10034DC30()
{
  unint64_t result = qword_100991468;
  if (!qword_100991468)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991468);
  }
  return result;
}

void sub_10034DC84()
{
}

uint64_t sub_10034DCAC()
{
  return 8;
}

uint64_t sub_10034DCB8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return sub_10034871C(a1, a2, a3, &qword_100991470) & 1;
}

uint64_t sub_10034DCDC(uint64_t a1, uint64_t a2)
{
  return sub_100348780(a1, a2, &qword_100991470);
}

id sub_10034DCE8()
{
  return sub_10034B93C(*(void *)(v0 + 16));
}

void sub_10034DCF0()
{
  uint64_t v1 = &v0[qword_100991388];
  uint64_t v2 = enum case for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle.chin(_:);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 104))(v1, v2, AllButtonStyle);
  uint64_t v4 = &v0[qword_1009E2C50];
  *(_OWORD *)uint64_t v4 = 0u;
  *((_OWORD *)v4 + 1) = 0u;
  *((void *)v4 + 4) = 0;
  uint64_t v5 = qword_100991390;
  *(void *)&v0[v5] = [objc_allocWithZone((Class)type metadata accessor for GradientView()) init];
  uint64_t v6 = qword_100991398;
  *(void *)&v0[v6] = [objc_allocWithZone((Class)UIView) init];
  *(void *)&v0[qword_1009913A0] = _swiftEmptyArrayStorage;
  uint64_t v7 = qword_1009913A8;
  *(void *)&v0[v7] = [self buttonWithType:0];
  unint64_t v8 = &v0[qword_1009913B0];
  void *v8 = static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:);
  v8[1] = 0;
  *(void *)&v0[qword_1009913B8] = _swiftEmptyArrayStorage;
  swift_weakInit();
  *(void *)&v0[qword_1009913C8] = _swiftEmptyArrayStorage;
  v0[qword_1009913D0] = 0;
  *(void *)&v0[qword_1009913D8] = 0;
  v0[qword_1009E2C58] = 0;
  unint64_t v9 = &v0[qword_1009913E0];
  *(void *)unint64_t v9 = 0;
  v9[8] = 1;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_10034DED4(uint64_t a1, uint64_t a2, void *a3)
{
  uint64_t v23 = a2;
  id v24 = a3;
  uint64_t v4 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v21 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for ImpressionMetrics();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  id v10 = (char *)&v21 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = (unint64_t *)(a1 + qword_1009913B8);
  swift_beginAccess();
  unint64_t v12 = *v11;
  unint64_t v27 = v12;
  if (v12 >> 62) {
    goto LABEL_14;
  }
  uint64_t v13 = *(void *)((v12 & 0xFFFFFFFFFFFFFF8) + 0x10);
  uint64_t result = swift_bridgeObjectRetain_n();
  uint64_t v28 = v13;
  if (!v13) {
    return swift_bridgeObjectRelease_n();
  }
  while (v28 >= 1)
  {
    unint64_t v25 = v12 & 0xC000000000000001;
    uint64_t v26 = a1 + qword_1009913A0;
    swift_beginAccess();
    unint64_t v15 = 0;
    uint64_t v16 = (unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48);
    char v22 = (void (**)(char *, char *, uint64_t))(v8 + 32);
    uint64_t v17 = (void (**)(char *, uint64_t))(v8 + 8);
    for (uint64_t i = 32; ; i += 16)
    {
      if (v25)
      {
        a1 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        a1 = *(void *)(v12 + 8 * v15 + 32);
        swift_retain();
      }
      if (v15 >= *(void *)(*(void *)v26 + 16)) {
        break;
      }
      id v19 = *(id *)(*(void *)v26 + i);
      uint64_t v8 = a1;
      Lockup.impressionMetrics.getter();
      if ((*v16)(v6, 1, v7) == 1)
      {

        sub_100082BCC((uint64_t)v6, &qword_100985970);
      }
      else
      {
        (*v22)(v10, v6, v7);
        id v20 = v19;
        [v20 bounds];
        [v24 convertRect:v20 fromCoordinateSpace:];
        uint64_t v8 = v23;
        ImpressionsCalculator.addElement(_:at:)();

        (*v17)(v10, v7);
      }
      swift_release();
      ++v15;
      unint64_t v12 = v27;
      if (v28 == v15) {
        return swift_bridgeObjectRelease_n();
      }
    }
    __break(1u);
LABEL_14:
    swift_bridgeObjectRetain_n();
    unint64_t v12 = v27;
    uint64_t result = _CocoaArrayWrapper.endIndex.getter();
    uint64_t v28 = result;
    if (!result) {
      return swift_bridgeObjectRelease_n();
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_10034E1E4()
{
  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_10034E1F4(uint64_t a1)
{
  return sub_1003492B0(a1, *(void *)(v1 + 16), *(void *)(v1 + 24));
}

uint64_t *sub_10034E200(uint64_t *a1, uint64_t *a2, uint64_t a3)
{
  int v3 = *(_DWORD *)(*(void *)(a3 - 8) + 80);
  uint64_t v4 = *a2;
  *a1 = *a2;
  if ((v3 & 0x20000) != 0)
  {
    uint64_t v5 = (uint64_t *)(v4 + ((v3 + 16) & ~(unint64_t)v3));
    swift_retain();
  }
  else
  {
    uint64_t v5 = a1;
    uint64_t v6 = *(int *)(a3 + 20);
    uint64_t v7 = (char *)a1 + v6;
    uint64_t v8 = (char *)a2 + v6;
    uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
    id v10 = *(void (**)(char *, char *, uint64_t))(*(void *)(AllButtonStyle - 8) + 16);
    swift_retain();
    v10(v7, v8, AllButtonStyle);
  }
  return v5;
}

uint64_t sub_10034E2E4(uint64_t a1, uint64_t a2)
{
  swift_release();
  uint64_t v4 = a1 + *(int *)(a2 + 20);
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v6 = *(uint64_t (**)(uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 8);

  return v6(v4, AllButtonStyle);
}

void *sub_10034E35C(void *a1, void *a2, uint64_t a3)
{
  *a1 = *a2;
  uint64_t v4 = *(int *)(a3 + 20);
  uint64_t v5 = (char *)a1 + v4;
  uint64_t v6 = (char *)a2 + v4;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  uint64_t v8 = *(void (**)(char *, char *, uint64_t))(*(void *)(AllButtonStyle - 8) + 16);
  swift_retain();
  v8(v5, v6, AllButtonStyle);
  return a1;
}

void *sub_10034E3F4(void *a1, void *a2, uint64_t a3)
{
  *a1 = *a2;
  swift_retain();
  swift_release();
  uint64_t v6 = *(int *)(a3 + 20);
  uint64_t v7 = (char *)a1 + v6;
  uint64_t v8 = (char *)a2 + v6;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(AllButtonStyle - 8) + 24))(v7, v8, AllButtonStyle);
  return a1;
}

void *sub_10034E488(void *a1, void *a2, uint64_t a3)
{
  *a1 = *a2;
  uint64_t v4 = *(int *)(a3 + 20);
  uint64_t v5 = (char *)a1 + v4;
  uint64_t v6 = (char *)a2 + v4;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(AllButtonStyle - 8) + 32))(v5, v6, AllButtonStyle);
  return a1;
}

void *sub_10034E504(void *a1, void *a2, uint64_t a3)
{
  *a1 = *a2;
  swift_release();
  uint64_t v6 = *(int *)(a3 + 20);
  uint64_t v7 = (char *)a1 + v6;
  uint64_t v8 = (char *)a2 + v6;
  uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  (*(void (**)(char *, char *, uint64_t))(*(void *)(AllButtonStyle - 8) + 40))(v7, v8, AllButtonStyle);
  return a1;
}

uint64_t sub_10034E590(uint64_t a1, uint64_t a2, uint64_t a3)
{
  return _swift_getEnumTagSinglePayloadGeneric(a1, a2, a3, sub_10034E5A4);
}

uint64_t sub_10034E5A4(uint64_t *a1, uint64_t a2, uint64_t a3)
{
  if (a2 == 0x7FFFFFFF)
  {
    uint64_t v4 = *a1;
    if ((unint64_t)*a1 >= 0xFFFFFFFF) {
      LODWORD(v4) = -1;
    }
    return (v4 + 1);
  }
  else
  {
    uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
    uint64_t v9 = *(uint64_t (**)(char *, uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 48);
    uint64_t v10 = AllButtonStyle;
    uint64_t v11 = (char *)a1 + *(int *)(a3 + 20);
    return v9(v11, a2, v10);
  }
}

uint64_t sub_10034E654(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return _swift_storeEnumTagSinglePayloadGeneric(a1, a2, a3, a4, sub_10034E668);
}

void *sub_10034E668(void *result, uint64_t a2, int a3, uint64_t a4)
{
  uint64_t v5 = result;
  if (a3 == 0x7FFFFFFF)
  {
    *uint64_t result = (a2 - 1);
  }
  else
  {
    uint64_t AllButtonStyle = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
    uint64_t v8 = *(uint64_t (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(AllButtonStyle - 8) + 56);
    uint64_t v9 = AllButtonStyle;
    uint64_t v10 = (char *)v5 + *(int *)(a4 + 20);
    return (void *)v8(v10, a2, a2, v9);
  }
  return result;
}

uint64_t sub_10034E710()
{
  uint64_t result = type metadata accessor for ArcadeDownloadPackSuggestionsPageGetAllButtonStyle();
  if (v1 <= 0x3F)
  {
    swift_initStructMetadata();
    return 0;
  }
  return result;
}

uint64_t type metadata accessor for DynamicTypeLinkedLabel()
{
  uint64_t result = qword_100991550;
  if (!qword_100991550) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_10034E824()
{
  return swift_initClassMetadata2();
}

id sub_10034E88C(void *a1)
{
  v3.receiver = a1;
  v3.super_class = (Class)type metadata accessor for DynamicTypeLinkedLabel();
  id v1 = [super textColor];

  return v1;
}

void sub_10034E8E8(void *a1, uint64_t a2, void *a3)
{
  id v6 = a3;
  id v5 = a1;
  sub_1003507A8((uint64_t)a3);
}

id sub_10034E944(void *a1)
{
  v2.receiver = a1;
  v2.super_class = (Class)type metadata accessor for DynamicTypeLinkedLabel();
  return [super textAlignment];
}

void sub_10034E988(void *a1, uint64_t a2, uint64_t a3)
{
  id v5 = (objc_class *)type metadata accessor for DynamicTypeLinkedLabel();
  v9.receiver = a1;
  v9.super_class = v5;
  id v6 = a1;
  id v7 = [super textAlignment];
  v8.receiver = v6;
  v8.super_class = v5;
  [super setTextAlignment:a3];
  if ([v6 textAlignment] != v7) {
    sub_10034F280();
  }
}

id sub_10034EA28(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v23 = a2;
  uint64_t v24 = a3;
  uint64_t v5 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  objc_super v8 = (char *)&v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v23 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v3[qword_100991530] = _swiftEmptyArrayStorage;
  *(void *)&v3[qword_100991538] = 0;
  *(void *)&v3[qword_100991540] = 0;
  uint64_t v12 = qword_100991548;
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  uint64_t v13 = v3;
  *(void *)&v3[v12] = static UIColor.primaryText.getter();

  uint64_t v14 = type metadata accessor for FontUseCase();
  uint64_t v15 = *(void *)(v14 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v15 + 16))(v11, a1, v14);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v15 + 56))(v11, 0, 1, v14);
  (*(void (**)(char *, void, uint64_t))(v6 + 104))(v8, enum case for DirectionalTextAlignment.none(_:), v5);
  uint64_t v16 = (void *)DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  id v20 = v16;
  [v20 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right, v23, v24];
  [v20 setUserInteractionEnabled:1];
  id v21 = [objc_allocWithZone((Class)UITapGestureRecognizer) initWithTarget:v20 action:"labelTapped:"];
  [v20 addGestureRecognizer:v21];

  (*(void (**)(uint64_t, uint64_t))(v15 + 8))(a1, v14);
  return v20;
}

void sub_10034ED24(void *a1)
{
  v2.receiver = a1;
  v2.super_class = (Class)type metadata accessor for DynamicTypeLinkedLabel();
  id v1 = v2.receiver;
  [super tintColorDidChange];
  sub_10034F280();
}

uint64_t sub_10034ED80(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v10 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = (void *)dispatch thunk of DynamicTypeLabel.traitCollectionForFontUseCases.getter();
  id v6 = [v5 preferredContentSizeCategory];

  dispatch thunk of DynamicTypeLabel.fontUseCaseContentSizeCategory.setter();
  uint64_t v7 = type metadata accessor for FontUseCase();
  uint64_t v8 = *(void *)(v7 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v4, a1, v7);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v4, 0, 1, v7);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();
  return sub_10034F280();
}

void sub_10034EEAC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = &v4[qword_100991530];
  swift_beginAccess();
  *(void *)uint64_t v8 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  if (*(void *)(*(void *)v8 + 16)) {
    uint64_t v9 = &UIAccessibilityTraitLink;
  }
  else {
    uint64_t v9 = &UIAccessibilityTraitStaticText;
  }
  [v4 setAccessibilityTraits:*v9];
  *(void *)&v4[qword_100991538] = a1;
  swift_retain();
  swift_release();
  *(void *)&v4[qword_100991540] = a2;
  swift_retain();
  swift_release();
  dispatch thunk of StyledText.plainText.getter();
  id v10 = objc_allocWithZone((Class)NSString);
  NSString v11 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  id v12 = [v10 initWithString:v11];

  uint64_t v13 = *(void *)(a3 + 16);
  if (v13)
  {
    swift_bridgeObjectRetain();
    UIAccessibilityTraits v27 = UIAccessibilityTraitStaticText;
    UIAccessibilityTraits v28 = UIAccessibilityTraitLink;
    uint64_t v14 = v13 - 1;
    uint64_t v15 = (long long *)(a3 + 48);
    id v29 = v12;
    while (1)
    {
      long long v30 = *v15;
      swift_bridgeObjectRetain();
      swift_retain();
      swift_retain();
      NSString v16 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
      id v17 = [v12 rangeOfString:v16 options:4];
      uint64_t v19 = v18;

      if (v17 == (id)NSNotFound.getter())
      {
        swift_release();
        swift_release();
        if (!v14) {
          goto LABEL_17;
        }
      }
      else
      {
        swift_beginAccess();
        id v20 = *(void **)v8;
        swift_retain();
        swift_retain();
        char isUniquelyReferenced_nonNull_native = swift_isUniquelyReferenced_nonNull_native();
        *(void *)uint64_t v8 = v20;
        if ((isUniquelyReferenced_nonNull_native & 1) == 0)
        {
          id v20 = sub_1000ABBB8(0, v20[2] + 1, 1, v20);
          *(void *)uint64_t v8 = v20;
        }
        unint64_t v23 = v20[2];
        unint64_t v22 = v20[3];
        if (v23 >= v22 >> 1)
        {
          id v20 = sub_1000ABBB8((void *)(v22 > 1), v23 + 1, 1, v20);
          *(void *)uint64_t v8 = v20;
        }
        v20[2] = v23 + 1;
        uint64_t v24 = &v20[4 * v23];
        v24[4] = v17;
        uint64_t v24[5] = v19;
        *((_OWORD *)v24 + 3) = v30;
        uint64_t v25 = *(void *)v8;
        swift_endAccess();
        if (*(void *)(v25 + 16)) {
          UIAccessibilityTraits v26 = v28;
        }
        else {
          UIAccessibilityTraits v26 = v27;
        }
        [v4 setAccessibilityTraits:v26];
        swift_release();
        swift_release();
        id v12 = v29;
        if (!v14)
        {
LABEL_17:
          swift_bridgeObjectRelease();
          break;
        }
      }
      --v14;
      v15 += 2;
    }
  }
  sub_10034F280();
}

id sub_10034F1CC()
{
  [v0 setAttributedText:0];
  *(void *)&v0[qword_100991538] = 0;
  swift_release();
  id v1 = &v0[qword_100991530];
  swift_beginAccess();
  *(void *)id v1 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  if (*(void *)(*(void *)v1 + 16)) {
    uint64_t v2 = &UIAccessibilityTraitLink;
  }
  else {
    uint64_t v2 = &UIAccessibilityTraitStaticText;
  }
  return [v0 setAccessibilityTraits:*v2];
}

uint64_t sub_10034F280()
{
  id v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v2 - 8);
  uint64_t v4 = (char *)&v21 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v21 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  dispatch thunk of DynamicTypeLabel.fontUseCase.getter();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v6 + 48))(v4, 1, v5) == 1) {
    return sub_100082BCC((uint64_t)v4, &qword_100984B10);
  }
  (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v8, v4, v5);
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  id v10 = (void *)dispatch thunk of DynamicTypeLabel.traitCollectionForFontUseCases.getter();
  NSString v11 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();

  uint64_t v12 = *(void *)&v0[qword_100991538];
  uint64_t v13 = *(void **)&v1[qword_100991548];
  swift_retain();
  id v14 = v13;
  id v21 = [v1 textAlignment];
  id v15 = [v1 lineBreakMode];
  NSString v16 = (uint64_t *)&v1[qword_100991530];
  swift_beginAccess();
  uint64_t v17 = *v16;
  swift_bridgeObjectRetain();
  id v18 = [v1 tintColor];
  id v19 = sub_10035055C(v12, (uint64_t)v11, (uint64_t)v14, (uint64_t)v21, (uint64_t)v15, v17, v18);
  swift_release();

  swift_bridgeObjectRelease();
  id v20 = sub_10034F54C(v19, v11);
  [v1 setAttributedText:v20];

  return (*(uint64_t (**)(char *, uint64_t))(v6 + 8))(v8, v5);
}

id sub_10034F54C(void *a1, void *a2)
{
  id v3 = a1;
  if (!a1 || !*(void *)(v2 + qword_100991540)) {
    goto LABEL_6;
  }
  uint64_t v5 = self;
  id v6 = v3;
  swift_retain();
  id v7 = [v5 configurationWithFont:a2];
  uint64_t v8 = (void *)static SystemImage.load(artwork:with:includePrivateImages:)();

  if (!v8)
  {
    swift_release();

LABEL_6:
    id v22 = v3;
    return v3;
  }
  [v8 size];
  double v10 = v9;
  double v12 = v11;
  [a2 capHeight];
  double v14 = floor((v13 - v12) * 0.5);
  id v15 = [self tintColor];
  id v16 = [v8 imageWithTintColor:v15];

  id v17 = [self textAttachmentWithImage:v16];
  [v17 setBounds:2.0, v14, v10, v12];
  id v3 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v6];

  id v18 = objc_allocWithZone((Class)NSAttributedString);
  NSString v19 = String._bridgeToObjectiveC()();
  id v20 = [v18 initWithString:v19];

  [v3 appendAttributedString:v20];
  id v21 = [self attributedStringWithAttachment:v17];
  [v3 appendAttributedString:v21];

  swift_release();
  return v3;
}

uint64_t sub_10034F7B8(void *a1)
{
  uint64_t v3 = type metadata accessor for Dependency();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v51 = (char *)&v41 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for MetricsFieldsContext();
  uint64_t v50 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  char v47 = (char *)&v41 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  unint64_t v48 = (char *)&v41 - v9;
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  char v49 = (char *)&v41 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v13 - 8);
  id v15 = (char *)&v41 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t result = (uint64_t)sub_10034FD58(a1);
  if ((v17 & 1) == 0)
  {
    unint64_t v18 = result;
    uint64_t v19 = v1 + qword_100991530;
    uint64_t result = swift_beginAccess();
    id v20 = *(void **)v19;
    uint64_t v21 = *(void *)(*(void *)v19 + 16);
    if (v21)
    {
      uint64_t v42 = v11;
      uint64_t v43 = v6;
      uint64_t v44 = v10;
      uint64_t v45 = v4;
      uint64_t v46 = v3;
      unint64_t v22 = v20[4];
      unint64_t v23 = v20[5];
      uint64_t v24 = v20[6];
      swift_bridgeObjectRetain();
      swift_retain();
      swift_retain();
      if (v18 < v22 || v18 - v22 >= v23)
      {
        swift_release();
        uint64_t result = swift_release();
        if (v21 == 1)
        {
          return swift_bridgeObjectRelease();
        }
        else
        {
          UIAccessibilityTraits v26 = v20 + 11;
          unint64_t v27 = 1;
          while (v27 < v20[2])
          {
            uint64_t v24 = *(v26 - 1);
            unint64_t v28 = *(v26 - 3);
            unint64_t v29 = *(v26 - 2);
            swift_retain();
            swift_retain();
            if (v18 >= v28 && v18 - v28 < v29) {
              goto LABEL_18;
            }
            swift_release();
            uint64_t result = swift_release();
            ++v27;
            v26 += 4;
            if (v21 == v27) {
              return swift_bridgeObjectRelease();
            }
          }
          __break(1u);
        }
      }
      else
      {
LABEL_18:
        swift_bridgeObjectRelease();
        ObjectGraph.actionDispatcher.getter();
        uint64_t v31 = sub_100082C28((uint64_t *)&unk_100984530);
        uint64_t v32 = *(char **)(v31 - 8);
        if ((*((unsigned int (**)(char *, uint64_t, uint64_t))v32 + 6))(v15, 1, v31) == 1)
        {
          swift_release();
          swift_release();
          return sub_100082BCC((uint64_t)v15, &qword_1009875B0);
        }
        else
        {
          v52[3] = type metadata accessor for Action();
          v52[4] = sub_100190598();
          v52[0] = v24;
          swift_retain_n();
          uint64_t v33 = v48;
          uint64_t v41 = v31;
          sub_1005365D0();
          uint64_t v34 = v50;
          uint64_t v35 = v43;
          (*(void (**)(char *, char *, uint64_t))(v50 + 16))(v47, v33, v43);
          BOOL v36 = v51;
          Dependency.init<A>(satisfying:with:)();
          dispatch thunk of BaseObjectGraph.adding(dependency:)();
          char v47 = v32;
          (*(void (**)(char *, uint64_t))(v45 + 8))(v36, v46);
          uint64_t v37 = v49;
          (*(void (**)(char *, char *, uint64_t))(v34 + 32))(v49, v33, v35);
          uint64_t v38 = v42;
          uint64_t v39 = v44;
          (*(void (**)(char *, void, uint64_t))(v42 + 104))(v37, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v44);
          uint64_t v40 = v41;
          ActionDispatcher.perform(_:withMetrics:asPartOf:)();
          swift_release();
          (*(void (**)(char *, uint64_t))(v38 + 8))(v37, v39);
          _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v52);
          swift_release();
          swift_release_n();
          swift_release();
          return (*((uint64_t (**)(char *, uint64_t))v47 + 1))(v15, v40);
        }
      }
    }
  }
  return result;
}

void sub_10034FCF0(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_10034F7B8(v4);
}

id sub_10034FD58(void *a1)
{
  uint64_t v2 = v1;
  id v4 = [v1 attributedText];
  if (!v4) {
    return 0;
  }
  id v5 = v4;
  id v6 = [a1 view];
  if (v6)
  {
    uint64_t v7 = v6;
    [v6 bounds];
    double v9 = v8;
    double v11 = v10;
    id v12 = [objc_allocWithZone((Class)NSTextStorage) initWithAttributedString:v5];
    id v13 = [objc_allocWithZone((Class)NSTextContainer) initWithSize:v9 1.79769313e308];
    id v14 = [objc_allocWithZone((Class)NSLayoutManager) init];
    [v14 addTextContainer:v13];
    [v12 addLayoutManager:v14];
    [v13 setLineFragmentPadding:0.0];
    [v13 setLineBreakMode:[v2 lineBreakMode]];
    [v13 setMaximumNumberOfLines:[v2 numberOfLines]];
    [a1 locationInView:v7];
    double v16 = v15;
    double v18 = v17;
    [v14 usedRectForTextContainer:v13];
    id v23 = [v14 characterIndexForPoint:v13 inTextContainer:0 fractionOfDistanceBetweenInsertionPoints:v16 - ((v9 - v19) * 0.5 - v20) v18 - ((v11 - v21) * 0.5 - v22)];

    id v5 = v14;
  }
  else
  {
    id v23 = 0;
  }

  return v23;
}

BOOL sub_10034FF88()
{
  uint64_t v1 = type metadata accessor for Dependency();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v33 = (char *)&v28 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for MetricsFieldsContext();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v28 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  double v10 = (char *)&v28 - v9;
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v34 = *(void *)(v11 - 8);
  uint64_t v35 = v11;
  __chkstk_darwin(v11);
  id v13 = (char *)&v28 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v14 - 8);
  double v16 = (char *)&v28 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v17 = (uint64_t *)(v0 + qword_100991530);
  swift_beginAccess();
  uint64_t v18 = *v17;
  uint64_t v19 = *(void *)(*v17 + 16);
  if (v19)
  {
    uint64_t v31 = v1;
    uint64_t v32 = v19;
    uint64_t v30 = v2;
    uint64_t v20 = *(void *)(v18 + 48);
    swift_retain();
    swift_retain();
    ObjectGraph.actionDispatcher.getter();
    uint64_t v21 = sub_100082C28((uint64_t *)&unk_100984530);
    uint64_t v22 = *(void *)(v21 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v22 + 48))(v16, 1, v21) == 1)
    {
      swift_release();
      swift_release();
      sub_100082BCC((uint64_t)v16, &qword_1009875B0);
    }
    else
    {
      v36[3] = type metadata accessor for Action();
      v36[4] = sub_100190598();
      v36[0] = v20;
      swift_retain_n();
      uint64_t v29 = v22;
      sub_1005365D0();
      uint64_t v28 = v20;
      uint64_t v23 = v5;
      (*(void (**)(char *, char *, uint64_t))(v5 + 16))(v7, v10, v4);
      uint64_t v24 = v33;
      Dependency.init<A>(satisfying:with:)();
      dispatch thunk of BaseObjectGraph.adding(dependency:)();
      (*(void (**)(char *, uint64_t))(v30 + 8))(v24, v31);
      (*(void (**)(char *, char *, uint64_t))(v23 + 32))(v13, v10, v4);
      uint64_t v26 = v34;
      uint64_t v25 = v35;
      (*(void (**)(char *, void, uint64_t))(v34 + 104))(v13, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v35);
      ActionDispatcher.perform(_:withMetrics:asPartOf:)();
      swift_release();
      (*(void (**)(char *, uint64_t))(v26 + 8))(v13, v25);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v36);
      swift_release();
      swift_release_n();
      swift_release();
      (*(void (**)(char *, uint64_t))(v29 + 8))(v16, v21);
    }
    uint64_t v19 = v32;
  }
  return v19 != 0;
}

BOOL sub_1003503EC(void *a1)
{
  id v1 = a1;
  BOOL v2 = sub_10034FF88();

  return v2;
}

void sub_100350420()
{
}

void sub_100350450()
{
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  id v1 = *(void **)(v0 + qword_100991548);
}

id sub_1003504B0()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for DynamicTypeLinkedLabel();
  return [super dealloc];
}

void sub_1003504E8(uint64_t a1)
{
  swift_bridgeObjectRelease();
  swift_release();
  swift_release();
  objc_super v2 = *(void **)(a1 + qword_100991548);
}

uint64_t sub_100350554()
{
  return type metadata accessor for DynamicTypeLinkedLabel();
}

id sub_10035055C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  if (!a1) {
    return 0;
  }
  swift_retain();
  uint64_t v11 = (void *)dispatch thunk of StyledText.asAttributedString(using:)();
  id v12 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v11];
  id v13 = [v12 length];
  [v12 addAttribute:value:range:];
  uint64_t v14 = *(void *)(a6 + 16);
  if (v14)
  {
    id v24 = v13;
    uint64_t v25 = v11;
    swift_bridgeObjectRetain();
    uint64_t v15 = a6 + 56;
    do
    {
      uint64_t v20 = *(void *)(v15 - 24);
      uint64_t v19 = *(void *)(v15 - 16);
      if (a7)
      {
        swift_retain();
        swift_retain();
        id v17 = a7;
      }
      else
      {
        double v16 = self;
        swift_retain();
        swift_retain();
        id v17 = [v16 systemBlueColor];
      }
      id v18 = a7;
      [v12 addAttribute:NSForegroundColorAttributeName value:v17 range:v20];
      swift_release();
      swift_release();

      v15 += 32;
      --v14;
    }
    while (v14);
    swift_bridgeObjectRelease();
    uint64_t v11 = v25;
    id v13 = v24;
  }
  id v21 = [objc_allocWithZone((Class)NSMutableParagraphStyle) init];
  [v21 setAlignment:a4];
  [v21 setLineBreakMode:a5];
  id v22 = v21;
  [v12 addAttribute:NSParagraphStyleAttributeName value:v22 range:0];
  swift_release();

  return v12;
}

void sub_1003507A8(uint64_t a1)
{
  objc_super v2 = v1;
  v8.receiver = v2;
  v8.super_class = (Class)type metadata accessor for DynamicTypeLinkedLabel();
  [super setTextColor:a1];
  id v4 = [v2 textColor];
  if (v4)
  {
    uint64_t v5 = v4;
    uint64_t v6 = *(void **)&v2[qword_100991548];
    *(void *)&v2[qword_100991548] = v4;
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    id v7 = v5;
    LOBYTE(v5) = static NSObject.== infix(_:_:)();

    if ((v5 & 1) == 0) {
      sub_10034F280();
    }
  }
  else
  {
    __break(1u);
  }
}

void sub_100350888()
{
}

id sub_1003508D4()
{
  return sub_100350A40();
}

uint64_t sub_1003508E8@<X0>(uint64_t a1@<X8>)
{
  swift_getObjectType();
  PageTraitEnvironment.pageColumnWidth.getter();
  PageTraitEnvironment.pageColumnMargin.getter();
  ComponentPrefetchSizing.init(size:contentMode:)();
  uint64_t v2 = type metadata accessor for ComponentPrefetchSizing();
  uint64_t v3 = *(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v2 - 8) + 56);

  return v3(a1, 0, 1, v2);
}

id sub_1003509A0()
{
  return sub_10035110C();
}

uint64_t sub_1003509B0()
{
  return sub_10006EEFC((unint64_t *)&qword_100993740, (void (*)(uint64_t))&type metadata accessor for Lockup);
}

uint64_t sub_1003509F8()
{
  return sub_10006EEFC(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

id sub_100350A40()
{
  id v1 = v0;
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_100999FC0);
  __chkstk_darwin(v2 - 8);
  id v4 = (char *)&v62 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  id v7 = (char *)&v62 - v6;
  swift_getObjectType();
  PageTraitEnvironment.pageColumnWidth.getter();
  double v9 = v8;
  PageTraitEnvironment.pageColumnMargin.getter();
  double v11 = (v9 - v10) * 0.5;
  id v12 = (double *)&v0[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_preferredArtworkSize];
  *id v12 = v11;
  v12[1] = v11;
  [v0 setNeedsLayout];
  uint64_t v13 = Lockup.heading.getter();
  if (v14)
  {
    uint64_t v15 = HIBYTE(v14) & 0xF;
    if ((v14 & 0x2000000000000000) == 0) {
      uint64_t v15 = v13 & 0xFFFFFFFFFFFFLL;
    }
    if (v15)
    {
      sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
      double v16 = (void *)static UIColor.primaryText.getter();
      sub_10027E548(1, (uint64_t)v16);

      id v17 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_headingLabel];
      if (v17)
      {
        id v18 = v17;
        NSString v19 = String._bridgeToObjectiveC()();
        swift_bridgeObjectRelease();
        [v18 setText:v19];
      }
      else
      {
        swift_bridgeObjectRelease();
      }
      goto LABEL_11;
    }
    swift_bridgeObjectRelease();
  }
  uint64_t v20 = *(void **)&v0[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_headingLabel];
  if (v20) {
    [v20 setHidden:1];
  }
LABEL_11:
  id v21 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_titleLabel];
  Lockup.title.getter();
  if (v22)
  {
    NSString v23 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v23 = 0;
  }
  [v21 setText:v23];

  Lockup.tertiaryTitle.getter();
  if (v24)
  {
    sub_10027E830();
    uint64_t v25 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_tertiaryTitleLabel];
    if (v25)
    {
      id v26 = v25;
      NSString v27 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
      [v26 setText:v27];
    }
    else
    {
      swift_bridgeObjectRelease();
    }
  }
  else
  {
    uint64_t v28 = OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_tertiaryTitleLabel;
    uint64_t v29 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_tertiaryTitleLabel];
    if (v29)
    {
      [v29 setHidden:1];
      uint64_t v30 = *(void **)&v1[v28];
      if (v30) {
        [v30 setText:0];
      }
    }
  }
  uint64_t v31 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_subtitleLabel];
  Lockup.subtitle.getter();
  uint64_t v63 = v4;
  if (v32)
  {
    NSString v33 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v33 = 0;
  }
  [v31 setText:v33];

  uint64_t v34 = OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_headingLabel;
  uint64_t v35 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_headingLabel];
  if (v35 && ([v35 isHidden] & 1) == 0 && (BOOL v36 = *(void **)&v1[v34]) != 0) {
    unsigned int v37 = [v36 hasContent];
  }
  else {
    unsigned int v37 = 0;
  }
  uint64_t v38 = OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_tertiaryTitleLabel;
  uint64_t v39 = *(void **)&v1[OBJC_IVAR____TtC8AppStore29LargeLockupCollectionViewCell_tertiaryTitleLabel];
  if (v39 && ([v39 isHidden] & 1) == 0 && (uint64_t v40 = *(void **)&v1[v38]) != 0) {
    unsigned int v41 = [v40 hasContent];
  }
  else {
    unsigned int v41 = 0;
  }
  if ([v31 hasContent]) {
    uint64_t v42 = v41 & v37;
  }
  else {
    uint64_t v42 = 1;
  }
  [v31 setHidden:v42];
  uint64_t v43 = Lockup.subtitleTextColor.getter();
  if (!v43)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    uint64_t v43 = static UIColor.secondaryText.getter();
  }
  uint64_t v44 = (void *)v43;
  [v31 setTextColor:v43];

  uint64_t v45 = &selRef_accessibilityShowsBadge;
  id v46 = [v31 layer];
  Lockup.subtitleTextFilter.getter();
  uint64_t v47 = type metadata accessor for TitleEffectFilterType();
  uint64_t v48 = *(void *)(v47 - 8);
  char v49 = *(unsigned int (**)(char *, uint64_t, uint64_t))(v48 + 48);
  if (v49(v7, 1, v47) == 1)
  {
    sub_1003510AC((uint64_t)v7);
LABEL_43:
    uint64_t v56 = 0;
    goto LABEL_44;
  }
  TitleEffectFilterType.compositingFilter.getter();
  (*(void (**)(char *, uint64_t))(v48 + 8))(v7, v47);
  uint64_t v50 = v65;
  if (!v65) {
    goto LABEL_43;
  }
  uint64_t v51 = sub_100081D90(v64, v65);
  uint64_t v62 = (uint64_t)&v62;
  uint64_t v52 = *(void *)(v50 - 8);
  __n128 v53 = __chkstk_darwin(v51);
  unint64_t v55 = (char *)&v62 - ((v54 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, __n128))(v52 + 16))(v55, v53);
  uint64_t v56 = _bridgeAnythingToObjectiveC<A>(_:)();
  (*(void (**)(char *, uint64_t))(v52 + 8))(v55, v50);
  uint64_t v45 = &selRef_accessibilityShowsBadge;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v64);
LABEL_44:
  [v46 setCompositingFilter:v56, v62];

  swift_unknownObjectRelease();
  id v57 = [v1 contentView];
  id v58 = [v57 v45[228]];

  uint64_t v59 = (uint64_t)v63;
  Lockup.subtitleTextFilter.getter();
  BOOL v60 = v49((char *)v59, 1, v47) == 1;
  sub_1003510AC(v59);
  [v58 setAllowsGroupBlending:v60];

  return [v1 setNeedsLayout];
}

uint64_t sub_1003510AC(uint64_t a1)
{
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_100999FC0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

id sub_10035110C()
{
  swift_getObjectType();
  PageTraitEnvironment.pageColumnWidth.getter();
  PageTraitEnvironment.pageColumnMargin.getter();
  sub_10027EFB4();
  double v1 = v0;
  double v3 = v2;
  id v4 = self;
  id v5 = [v4 absoluteDimension:v1];
  id v6 = [v4 absoluteDimension:v3];
  id v7 = self;
  id v8 = [v7 sizeWithWidthDimension:v5 heightDimension:v6];

  id v9 = [self itemWithLayoutSize:v8];
  id v10 = [v8 widthDimension];
  id v11 = [v8 heightDimension];
  id v12 = [v7 sizeWithWidthDimension:v10 heightDimension:v11];

  uint64_t v13 = self;
  sub_100082C28(&qword_100982B50);
  uint64_t v14 = swift_allocObject();
  *(_OWORD *)(v14 + 16) = xmmword_1007BEA80;
  *(void *)(v14 + 32) = v9;
  specialized Array._endMutation()();
  sub_100084CF0(0, (unint64_t *)&qword_1009A5C80);
  id v15 = v9;
  Class isa = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  id v17 = [v13 verticalGroupWithLayoutSize:v12 subitems:isa];

  return v17;
}

uint64_t LinkableHeaderViewLayout.init(metrics:topSeparator:text:bottomSeparator:)@<X0>(_OWORD *a1@<X0>, long long *a2@<X1>, long long *a3@<X2>, long long *a4@<X3>, _OWORD *a5@<X8>)
{
  long long v8 = a1[7];
  a5[6] = a1[6];
  a5[7] = v8;
  long long v9 = a1[9];
  a5[8] = a1[8];
  a5[9] = v9;
  long long v10 = a1[3];
  a5[2] = a1[2];
  a5[3] = v10;
  long long v11 = a1[5];
  a5[4] = a1[4];
  a5[5] = v11;
  long long v12 = a1[1];
  *a5 = *a1;
  a5[1] = v12;
  sub_100081DD4(a2, (uint64_t)(a5 + 10));
  sub_100081DD4(a3, (uint64_t)a5 + 200);

  return sub_100081DD4(a4, (uint64_t)(a5 + 15));
}

uint64_t LinkableHeaderViewLayout.Metrics.bottomSpace.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_100194C84(v1 + 120, a1);
}

uint64_t LinkableHeaderViewLayout.Metrics.bottomSpace.setter(uint64_t a1)
{
  return sub_1003513FC(a1, v1 + 120);
}

uint64_t sub_1003513FC(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28(&qword_10098B900);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t LinkableHeaderViewLayout.metrics.getter@<X0>(uint64_t a1@<X8>)
{
  return sub_10027400C(v1, a1);
}

double LinkableHeaderViewLayout.measurements(fitting:in:)(uint64_t a1, double a2)
{
  swift_getObjectType();

  return sub_1003518E4(a2, a1, v2);
}

uint64_t LinkableHeaderViewLayout.placeChildren(relativeTo:in:)(CGFloat a1, CGFloat a2, CGFloat a3, CGFloat a4)
{
  id v5 = v4;
  uint64_t v10 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v31 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100081D90(v4 + 20, v4[23]);
  Measurable.measuredSize(fitting:in:)();
  CGFloat v34 = v15;
  CGFloat v35 = v14;
  v37.origin.CGFloat x = a1;
  v37.origin.CGFloat y = a2;
  v37.size.CGFloat width = a3;
  v37.size.CGFloat height = a4;
  CGFloat MinX = CGRectGetMinX(v37);
  v38.origin.CGFloat x = a1;
  v38.origin.CGFloat y = a2;
  v38.size.CGFloat width = a3;
  v38.size.CGFloat height = a4;
  CGFloat MinY = CGRectGetMinY(v38);
  sub_100081D90(v4 + 20, v4[23]);
  dispatch thunk of LayoutView.frame.setter();
  v39.origin.CGFloat x = a1;
  v39.origin.CGFloat y = a2;
  v39.size.CGFloat width = a3;
  v39.size.CGFloat height = a4;
  CGRectGetWidth(v39);
  sub_100081D90(v5, v5[3]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  CGFloat v32 = a1;
  v40.origin.CGFloat x = a1;
  v40.origin.CGFloat y = a2;
  v40.size.CGFloat width = a3;
  v40.size.CGFloat height = a4;
  CGRectGetHeight(v40);
  sub_100081D90(v5 + 25, v5[28]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  double v18 = v17;
  CGFloat v20 = v19;
  *(CGFloat *)&v31[1] = a2;
  CGFloat v31[2] = v21;
  uint64_t v36 = v22;
  v41.origin.CGFloat x = a1;
  v41.origin.CGFloat y = a2;
  v41.size.CGFloat width = a3;
  CGFloat v23 = a4;
  v41.size.CGFloat height = a4;
  CGFloat v24 = CGRectGetMidX(v41) + v18 * -0.5;
  v42.origin.CGFloat x = MinX;
  v42.size.CGFloat height = v34;
  v42.origin.CGFloat y = MinY;
  v42.size.CGFloat width = v35;
  double MaxY = CGRectGetMaxY(v42);
  sub_100081D90(v5 + 5, v5[8]);
  AnyDimension.topMargin(from:in:)();
  CGFloat v27 = MaxY + v26;
  sub_100081D90(v5 + 25, v5[28]);
  dispatch thunk of LayoutView.frame.setter();
  sub_100081D90(v5 + 30, v5[33]);
  Measurable.measuredSize(fitting:in:)();
  CGFloat v34 = v29;
  CGFloat v35 = v28;
  v43.origin.CGFloat x = v32;
  v43.origin.CGFloat y = a2;
  v43.size.CGFloat width = a3;
  v43.size.CGFloat height = v23;
  CGRectGetMinX(v43);
  v44.origin.CGFloat x = v24;
  v44.origin.CGFloat y = v27;
  v44.size.CGFloat width = v18;
  v44.size.CGFloat height = v20;
  CGRectGetMaxY(v44);
  sub_100081D90(v5 + 10, v5[13]);
  AnyDimension.bottomMargin(from:in:)();
  sub_100081D90(v4 + 30, v4[33]);
  dispatch thunk of LayoutView.frame.setter();
  return LayoutRect.init(representing:)();
}

double sub_1003518E4(double a1, uint64_t a2, void *a3)
{
  uint64_t v5 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  long long v8 = (char *)&v12[-1] - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100081D90(a3, a3[3]);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  long long v9 = *(void (**)(char *, uint64_t))(v6 + 8);
  v9(v8, v5);
  sub_100081D90(a3 + 25, a3[28]);
  dispatch thunk of Measurable.measurements(fitting:in:)();
  sub_100194C84((uint64_t)(a3 + 15), (uint64_t)v12);
  if (v13)
  {
    sub_100081D90(v12, v13);
    j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
    AnyDimension.value(in:rounded:)();
    v9(v8, v5);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v12);
  }
  else
  {
    sub_1000AE138((uint64_t)v12);
  }
  sub_100081D90(a3 + 30, a3[33]);
  Measurable.measuredSize(fitting:in:)();
  sub_100081D90(a3 + 20, a3[23]);
  Measurable.measuredSize(fitting:in:)();
  sub_100081D90(a3 + 5, a3[8]);
  AnyDimension.topMargin(from:in:)();
  sub_100081D90(a3 + 10, a3[13]);
  AnyDimension.bottomMargin(from:in:)();
  return a1;
}

uint64_t destroy for LinkableHeaderViewLayout(uint64_t a1)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 40);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 80);
  if (*(void *)(a1 + 144)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
  }
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 160);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 200);

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 240);
}

uint64_t initializeWithCopy for LinkableHeaderViewLayout(uint64_t a1, uint64_t a2)
{
  long long v4 = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 24) = v4;
  (**(void (***)(void))(v4 - 8))();
  long long v5 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 64) = v5;
  (**(void (***)(uint64_t, uint64_t))(v5 - 8))(a1 + 40, a2 + 40);
  long long v6 = *(_OWORD *)(a2 + 104);
  *(_OWORD *)(a1 + 104) = v6;
  (**(void (***)(uint64_t, uint64_t))(v6 - 8))(a1 + 80, a2 + 80);
  uint64_t v7 = (_OWORD *)(a1 + 120);
  long long v8 = (_OWORD *)(a2 + 120);
  uint64_t v9 = *(void *)(a2 + 144);
  if (v9)
  {
    uint64_t v10 = *(void *)(a2 + 152);
    *(void *)(a1 + 144) = v9;
    *(void *)(a1 + 152) = v10;
    (**(void (***)(_OWORD *, _OWORD *))(v9 - 8))(v7, v8);
  }
  else
  {
    long long v11 = *(_OWORD *)(a2 + 136);
    *uint64_t v7 = *v8;
    *(_OWORD *)(a1 + 136) = v11;
    *(void *)(a1 + 152) = *(void *)(a2 + 152);
  }
  long long v12 = *(_OWORD *)(a2 + 184);
  *(_OWORD *)(a1 + 184) = v12;
  (**(void (***)(uint64_t, uint64_t))(v12 - 8))(a1 + 160, a2 + 160);
  long long v13 = *(_OWORD *)(a2 + 224);
  *(_OWORD *)(a1 + 224) = v13;
  (**(void (***)(uint64_t, uint64_t))(v13 - 8))(a1 + 200, a2 + 200);
  uint64_t v14 = *(void *)(a2 + 264);
  uint64_t v15 = *(void *)(a2 + 272);
  *(void *)(a1 + 264) = v14;
  *(void *)(a1 + 272) = v15;
  (**(void (***)(uint64_t, uint64_t))(v14 - 8))(a1 + 240, a2 + 240);
  return a1;
}

uint64_t assignWithCopy for LinkableHeaderViewLayout(uint64_t a1, uint64_t a2)
{
  sub_100062A2C((uint64_t *)a1, (uint64_t *)a2);
  sub_100062A2C((uint64_t *)(a1 + 40), (uint64_t *)(a2 + 40));
  sub_100062A2C((uint64_t *)(a1 + 80), (uint64_t *)(a2 + 80));
  uint64_t v4 = *(void *)(a2 + 144);
  if (!*(void *)(a1 + 144))
  {
    if (v4)
    {
      *(void *)(a1 + 144) = v4;
      *(void *)(a1 + 152) = *(void *)(a2 + 152);
      (**(void (***)(uint64_t, uint64_t))(v4 - 8))(a1 + 120, a2 + 120);
      goto LABEL_8;
    }
LABEL_7:
    long long v5 = *(_OWORD *)(a2 + 120);
    long long v6 = *(_OWORD *)(a2 + 136);
    *(void *)(a1 + 152) = *(void *)(a2 + 152);
    *(_OWORD *)(a1 + 120) = v5;
    *(_OWORD *)(a1 + 136) = v6;
    goto LABEL_8;
  }
  if (!v4)
  {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
    goto LABEL_7;
  }
  sub_100062A2C((uint64_t *)(a1 + 120), (uint64_t *)(a2 + 120));
LABEL_8:
  sub_100062A2C((uint64_t *)(a1 + 160), (uint64_t *)(a2 + 160));
  sub_100062A2C((uint64_t *)(a1 + 200), (uint64_t *)(a2 + 200));
  sub_100062A2C((uint64_t *)(a1 + 240), (uint64_t *)(a2 + 240));
  return a1;
}

void *initializeWithTake for LinkableHeaderViewLayout(void *a1, const void *a2)
{
  return memcpy(a1, a2, 0x118uLL);
}

uint64_t assignWithTake for LinkableHeaderViewLayout(uint64_t a1, uint64_t a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 40);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  *(void *)(a1 + 72) = *(void *)(a2 + 72);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 80);
  long long v5 = *(_OWORD *)(a2 + 96);
  *(_OWORD *)(a1 + 80) = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 96) = v5;
  *(void *)(a1 + 112) = *(void *)(a2 + 112);
  if (*(void *)(a1 + 144)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
  }
  long long v6 = *(_OWORD *)(a2 + 136);
  *(_OWORD *)(a1 + 120) = *(_OWORD *)(a2 + 120);
  *(_OWORD *)(a1 + 136) = v6;
  *(void *)(a1 + 152) = *(void *)(a2 + 152);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 160);
  long long v7 = *(_OWORD *)(a2 + 176);
  *(_OWORD *)(a1 + 160) = *(_OWORD *)(a2 + 160);
  *(_OWORD *)(a1 + 176) = v7;
  *(void *)(a1 + 192) = *(void *)(a2 + 192);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 200);
  *(_OWORD *)(a1 + 200) = *(_OWORD *)(a2 + 200);
  *(_OWORD *)(a1 + 216) = *(_OWORD *)(a2 + 216);
  *(void *)(a1 + 232) = *(void *)(a2 + 232);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 240);
  long long v8 = *(_OWORD *)(a2 + 256);
  *(_OWORD *)(a1 + 240) = *(_OWORD *)(a2 + 240);
  *(_OWORD *)(a1 + 256) = v8;
  *(void *)(a1 + 272) = *(void *)(a2 + 272);
  return a1;
}

uint64_t getEnumTagSinglePayload for LinkableHeaderViewLayout(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 280)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 24);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for LinkableHeaderViewLayout(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 248) = 0u;
    *(_OWORD *)(result + 232) = 0u;
    *(_OWORD *)(result + 216) = 0u;
    *(_OWORD *)(result + 200) = 0u;
    *(_OWORD *)(result + 184) = 0u;
    *(_OWORD *)(result + 168) = 0u;
    *(_OWORD *)(result + 152) = 0u;
    *(_OWORD *)(result + 136) = 0u;
    *(_OWORD *)(result + 120) = 0u;
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(_OWORD *)(result + 264) = 0u;
    *(void *)uint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 280) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 24) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 280) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for LinkableHeaderViewLayout()
{
  return &type metadata for LinkableHeaderViewLayout;
}

uint64_t destroy for LinkableHeaderViewLayout.Metrics(uint64_t a1)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 40);
  uint64_t result = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 80);
  if (*(void *)(a1 + 144))
  {
    return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
  }
  return result;
}

uint64_t initializeWithCopy for LinkableHeaderViewLayout.Metrics(uint64_t a1, uint64_t a2)
{
  long long v4 = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 24) = v4;
  (**(void (***)(void))(v4 - 8))();
  long long v5 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 64) = v5;
  (**(void (***)(uint64_t, uint64_t))(v5 - 8))(a1 + 40, a2 + 40);
  long long v6 = *(_OWORD *)(a2 + 104);
  *(_OWORD *)(a1 + 104) = v6;
  (**(void (***)(uint64_t, uint64_t))(v6 - 8))(a1 + 80, a2 + 80);
  long long v7 = (_OWORD *)(a1 + 120);
  long long v8 = (_OWORD *)(a2 + 120);
  uint64_t v9 = *(void *)(a2 + 144);
  if (v9)
  {
    uint64_t v10 = *(void *)(a2 + 152);
    *(void *)(a1 + 144) = v9;
    *(void *)(a1 + 152) = v10;
    (**(void (***)(_OWORD *, _OWORD *))(v9 - 8))(v7, v8);
  }
  else
  {
    long long v11 = *(_OWORD *)(a2 + 136);
    *long long v7 = *v8;
    *(_OWORD *)(a1 + 136) = v11;
    *(void *)(a1 + 152) = *(void *)(a2 + 152);
  }
  return a1;
}

uint64_t assignWithCopy for LinkableHeaderViewLayout.Metrics(uint64_t a1, uint64_t a2)
{
  sub_100062A2C((uint64_t *)a1, (uint64_t *)a2);
  sub_100062A2C((uint64_t *)(a1 + 40), (uint64_t *)(a2 + 40));
  sub_100062A2C((uint64_t *)(a1 + 80), (uint64_t *)(a2 + 80));
  uint64_t v4 = *(void *)(a2 + 144);
  if (!*(void *)(a1 + 144))
  {
    if (v4)
    {
      *(void *)(a1 + 144) = v4;
      *(void *)(a1 + 152) = *(void *)(a2 + 152);
      (**(void (***)(uint64_t, uint64_t))(v4 - 8))(a1 + 120, a2 + 120);
      return a1;
    }
LABEL_7:
    long long v5 = *(_OWORD *)(a2 + 120);
    long long v6 = *(_OWORD *)(a2 + 136);
    *(void *)(a1 + 152) = *(void *)(a2 + 152);
    *(_OWORD *)(a1 + 120) = v5;
    *(_OWORD *)(a1 + 136) = v6;
    return a1;
  }
  if (!v4)
  {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
    goto LABEL_7;
  }
  sub_100062A2C((uint64_t *)(a1 + 120), (uint64_t *)(a2 + 120));
  return a1;
}

__n128 initializeWithTake for OnboardingPageView.LayoutMetrics(uint64_t a1, uint64_t a2)
{
  long long v2 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v2;
  long long v3 = *(_OWORD *)(a2 + 32);
  long long v4 = *(_OWORD *)(a2 + 48);
  long long v5 = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 64) = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 80) = v5;
  *(_OWORD *)(a1 + 32) = v3;
  *(_OWORD *)(a1 + 48) = v4;
  __n128 result = *(__n128 *)(a2 + 96);
  long long v7 = *(_OWORD *)(a2 + 112);
  long long v8 = *(_OWORD *)(a2 + 144);
  *(_OWORD *)(a1 + 128) = *(_OWORD *)(a2 + 128);
  *(_OWORD *)(a1 + 144) = v8;
  *(__n128 *)(a1 + 96) = result;
  *(_OWORD *)(a1 + 112) = v7;
  return result;
}

uint64_t assignWithTake for LinkableHeaderViewLayout.Metrics(uint64_t a1, uint64_t a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 40);
  *(_OWORD *)(a1 + 40) = *(_OWORD *)(a2 + 40);
  *(_OWORD *)(a1 + 56) = *(_OWORD *)(a2 + 56);
  *(void *)(a1 + 72) = *(void *)(a2 + 72);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 80);
  long long v5 = *(_OWORD *)(a2 + 96);
  *(_OWORD *)(a1 + 80) = *(_OWORD *)(a2 + 80);
  *(_OWORD *)(a1 + 96) = v5;
  *(void *)(a1 + 112) = *(void *)(a2 + 112);
  if (*(void *)(a1 + 144)) {
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 120);
  }
  long long v6 = *(_OWORD *)(a2 + 136);
  *(_OWORD *)(a1 + 120) = *(_OWORD *)(a2 + 120);
  *(_OWORD *)(a1 + 136) = v6;
  *(void *)(a1 + 152) = *(void *)(a2 + 152);
  return a1;
}

uint64_t getEnumTagSinglePayload for OnboardingPageView.LayoutMetrics(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 160)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 24);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for OnboardingPageView.LayoutMetrics(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 152) = 0;
    *(_OWORD *)(result + 136) = 0u;
    *(_OWORD *)(result + 120) = 0u;
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)__n128 result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 160) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 24) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 160) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for LinkableHeaderViewLayout.Metrics()
{
  return &type metadata for LinkableHeaderViewLayout.Metrics;
}

char *sub_100352550(double a1, double a2, double a3, double a4)
{
  long long v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v10 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v85 = v10;
  uint64_t v86 = v11;
  __chkstk_darwin(v10);
  uint64_t v83 = (char *)&v73 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v77 = (char *)&v73 - v14;
  uint64_t v75 = type metadata accessor for AutomationSemantics();
  uint64_t v74 = *(void *)(v75 - 8);
  __chkstk_darwin(v75);
  double v16 = (char *)&v73 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  CGFloat v20 = (char *)&v73 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v21 - 8);
  CGFloat v23 = (char *)&v73 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v24 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_tapGestureRecognizer;
  id v25 = objc_allocWithZone((Class)UITapGestureRecognizer);
  double v26 = v5;
  *(void *)&v5[v24] = [v25 init];
  swift_weakInit();
  CGFloat v27 = &v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsUpdateBlock];
  *(void *)CGFloat v27 = 0;
  *((void *)v27 + 1) = 0;
  swift_unknownObjectWeakInit();
  v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_isExpanded] = 0;
  v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_sizeCategory] = 7;
  double v28 = &v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler];
  *(void *)double v28 = 0;
  *((void *)v28 + 1) = 0;
  id v29 = [objc_allocWithZone((Class)UIVisualEffectView) init];
  *(void *)&v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground] = v29;
  type metadata accessor for CrossLinkLockupView();
  *(void *)&v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  if (qword_10097F640 != -1) {
    swift_once();
  }
  uint64_t v30 = type metadata accessor for FontUseCase();
  uint64_t v31 = sub_100087728(v30, (uint64_t)qword_1009E4D18);
  uint64_t v32 = *(void *)(v30 - 8);
  NSString v33 = *(void (**)(char *, uint64_t, uint64_t))(v32 + 16);
  uint64_t v79 = v32 + 16;
  uint64_t v78 = v33;
  v33(v23, v31, v30);
  CGFloat v34 = *(void (**)(char *, void, uint64_t, uint64_t))(v32 + 56);
  uint64_t v81 = v32 + 56;
  uint64_t v82 = v30;
  uint64_t v80 = v34;
  v34(v23, 0, 1, v30);
  (*(void (**)(char *, void, uint64_t))(v18 + 104))(v20, enum case for DirectionalTextAlignment.none(_:), v17);
  id v35 = objc_allocWithZone((Class)type metadata accessor for DynamicTypeLabel());
  uint64_t v84 = v23;
  uint64_t v36 = (void *)DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  *(void *)&v26[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel] = v36;
  memset(v89, 0, 32);
  memset(v88, 0, sizeof(v88));
  id v37 = v36;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)v88, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)v89, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  (*(void (**)(char *, uint64_t))(v74 + 8))(v16, v75);
  v87.receiver = v26;
  v87.super_class = ObjectType;
  id v38 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  CGRect v42 = (char *)v38;
  [v42 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [v42 addSubview:*(void *)&v42[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground]];
  uint64_t v43 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v44 = *(id *)&v42[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView];
  id v45 = [v42 traitCollection];
  sub_1001ADCA8(v45);

  uint64_t v46 = qword_100980110;
  uint64_t v47 = (char *)*(id *)&v42[v43];
  if (v46 != -1) {
    swift_once();
  }
  uint64_t v48 = v85;
  uint64_t v49 = sub_100087728(v85, (uint64_t)qword_1009E6810);
  uint64_t v50 = v86;
  uint64_t v51 = *(void (**)(char *, uint64_t, uint64_t))(v86 + 16);
  uint64_t v52 = v77;
  v51(v77, v49, v48);
  __n128 v53 = *(char **)&v47[OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView];
  uint64_t v54 = v83;
  v51(v83, (uint64_t)v52, v48);
  unint64_t v55 = &v53[OBJC_IVAR____TtC8AppStore15SmallLockupView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v50 + 24))(v55, v54, v48);
  swift_endAccess();
  [v53 setNeedsLayout];
  uint64_t v56 = *(void (**)(char *, uint64_t))(v50 + 8);
  v56(v54, v48);
  [v47 setNeedsLayout];
  v56(v52, v48);

  [*(id *)&v42[v43] setLayoutMargins:2.0, 0.0, 3.0, 0.0];
  uint64_t v57 = qword_10097F188;
  id v58 = objc_retain(*(id *)(*(void *)(*(void *)&v42[v43] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
                          + OBJC_IVAR____TtC8AppStore14BaseLockupView_titleLabel));
  if (v57 != -1) {
    swift_once();
  }
  uint64_t v59 = v82;
  uint64_t v60 = sub_100087728(v82, (uint64_t)qword_1009E3F08);
  uint64_t v61 = v84;
  uint64_t v62 = v78;
  v78(v84, v60, v59);
  uint64_t v63 = v80;
  v80(v61, 0, 1, v59);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

  uint64_t v64 = qword_10097F1B0;
  id v65 = objc_retain(*(id *)(*(void *)(*(void *)&v42[v43] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
                          + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel));
  if (v64 != -1) {
    swift_once();
  }
  uint64_t v66 = sub_100087728(v59, (uint64_t)qword_1009E3F80);
  v62(v61, v66, v59);
  v63(v61, 0, 1, v59);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

  [*(id *)(*(void *)(*(void *)&v42[v43] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_titleLabel) setAccessibilityIgnoresInvertColors:1];
  [*(id *)(*(void *)(*(void *)&v42[v43] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel) setAccessibilityIgnoresInvertColors:1];
  [*(id *)(*(void *)(*(void *)&v42[v43] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_ordinalLabel) setAccessibilityIgnoresInvertColors:1];
  [v42 addSubview:*(void *)&v42[v43]];
  uint64_t v67 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel;
  [*(id *)&v42[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel] setAccessibilityIgnoresInvertColors:1];
  [v42 addSubview:*(void *)&v42[v67]];
  uint64_t v68 = *(void **)&v42[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_tapGestureRecognizer];
  [v68 setDelegate:v42];
  [v68 addTarget:v42 action:"handleTapWithGestureRecognizer:"];
  [v42 addGestureRecognizer:v68];
  id v69 = [*(id *)&v42[v67] layer];
  [v69 setOpacity:0.0];

  id v70 = [*(id *)&v42[v43] layer];
  LODWORD(v71) = 1.0;
  [v70 setOpacity:v71];

  return v42;
}

void sub_100352F40(char a1)
{
  if (a1)
  {
    id v2 = [*(id *)(v1 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel) layer];
    NSString v3 = String._bridgeToObjectiveC()();
    [v2 removeAnimationForKey:v3];

    id v4 = [*(id *)(v1 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView) layer];
    NSString v5 = String._bridgeToObjectiveC()();
    [v4 removeAnimationForKey:v5];
  }
  id v6 = [*(id *)(v1 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel) layer];
  [v6 setOpacity:0.0];

  id v8 = objc_retainAutoreleasedReturnValue(objc_msgSend(*(id *)(v1
                                                             + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView), "layer"));
  LODWORD(v7) = 1.0;
  [v8 setOpacity:v7];
}

id sub_1003530E8()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  [*(id *)&v0[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_tapGestureRecognizer] removeTarget:v0 action:0];
  v3.receiver = v0;
  v3.super_class = ObjectType;
  return [super dealloc];
}

void sub_100353278(double a1, double a2)
{
  id v5 = sub_1003533B4(1, a1, a2);
  id v6 = sub_1003533B4(0, a1, a2);
  id v7 = [*(id *)(v2 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel) layer];
  NSString v8 = String._bridgeToObjectiveC()();
  [v7 addAnimation:v5 forKey:v8];

  id v9 = objc_retainAutoreleasedReturnValue(objc_msgSend(*(id *)(v2
                                                             + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView), "layer"));
  id v10 = String._bridgeToObjectiveC()();
  [v9 addAnimation:v6 forKey:v10];
}

id sub_1003533B4(char a1, double a2, double a3)
{
  uint64_t v4 = v3;
  double v7 = a3 + 0.3;
  double v8 = a3 + 0.6;
  sub_100084CF0(0, (unint64_t *)&qword_10098FAF0);
  Class isa = NSNumber.init(floatLiteral:)(v7 / v8).super.super.isa;
  Class v10 = NSNumber.init(floatLiteral:)(0.3 / v8).super.super.isa;
  NSString v11 = String._bridgeToObjectiveC()();
  id v12 = [self animationWithKeyPath:v11];

  [v12 setRemovedOnCompletion:1];
  uint64_t v13 = self;
  id v14 = v12;
  id v15 = [v13 functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
  [v14 setTimingFunction:v15];

  id v16 = v14;
  [v16 setBeginTime:CACurrentMediaTime() + a2];

  [v16 setDuration:v8];
  sub_100082C28(&qword_100982B50);
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = xmmword_1007C77C0;
  double v18 = 0.0;
  *(NSNumber *)(v17 + 32) = NSNumber.init(floatLiteral:)(0.0);
  *(void *)(v17 + 40) = v10;
  *(void *)(v17 + 48) = isa;
  uint64_t v19 = v10;
  CGFloat v20 = isa;
  *(NSNumber *)(v17 + 56) = NSNumber.init(floatLiteral:)(1.0);
  specialized Array._endMutation()();
  Class v21 = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  [v16 setKeyTimes:v21];

  if (a1) {
    double v22 = 1.0;
  }
  else {
    double v22 = 0.0;
  }
  if ((a1 & 1) == 0) {
    double v18 = 1.0;
  }
  sub_100082C28(&qword_100981AD0);
  uint64_t v23 = swift_allocObject();
  *(_OWORD *)(v23 + 16) = xmmword_1007C2170;
  *(void *)(v23 + 56) = &type metadata for Double;
  *(double *)(v23 + 32) = v18;
  *(void *)(v23 + 88) = &type metadata for Double;
  *(double *)(v23 + 64) = v22;
  *(void *)(v23 + 120) = &type metadata for Double;
  *(double *)(v23 + 96) = v22;
  *(void *)(v23 + 152) = &type metadata for Double;
  *(double *)(v23 + 128) = v18;
  Class v24 = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  [v16 setValues:v24];

  id v25 = v16;
  [v25 setDelegate:v4];

  return v25;
}

void sub_1003537CC(char *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v4 = *(id *)&a1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView];
  [v4 setHidden:0];
  [v4 removeFromSuperview];
  uint64_t v5 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v6 = *(id *)&v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView];
  [v6 setHidden:1];
  [v6 removeFromSuperview];
  double v7 = *(void **)&v1[v5];
  *(void *)&v1[v5] = v4;
  id v8 = v4;

  [v1 addSubview:v8];
  id v9 = *(void **)&a1[v3];
  *(void *)&a1[v3] = v6;
  id v10 = v6;

  [a1 addSubview:v10];
  uint64_t v11 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel;
  id v12 = *(id *)&a1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel];
  [v12 setHidden:0];
  [v12 removeFromSuperview];
  uint64_t v13 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel;
  id v14 = *(id *)&v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel];
  [v14 setHidden:1];
  [v14 removeFromSuperview];
  id v15 = *(void **)&v1[v13];
  *(void *)&v1[v13] = v12;
  id v16 = v12;

  [v1 addSubview:v16];
  uint64_t v17 = *(void **)&a1[v11];
  *(void *)&a1[v11] = v14;
  id v18 = v14;

  [a1 addSubview:v18];
  [a1 setNeedsLayout];
}

double sub_100353A40(double a1)
{
  uint64_t v3 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v6 = (char *)&v10 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v7 = *(id *)(v1 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView);
  sub_1001AED8C((uint64_t)v6);
  [v7 layoutMargins];
  id v8 = [v7 traitCollection];
  sub_100709D3C((uint64_t)v6);

  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  return a1;
}

uint64_t sub_100353BF8()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v4 = *(void *)(v3 - 8);
  *(void *)&double v5 = __chkstk_darwin(v3).n128_u64[0];
  id v7 = (char *)&v36 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  v37.receiver = v1;
  v37.super_class = ObjectType;
  [super layoutSubviews:v5];
  id v8 = *(void **)&v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground];
  [v1 bounds];
  [v8 setFrame:];
  LayoutMarginsAware<>.layoutFrame.getter();
  CGFloat v10 = v9;
  CGFloat v12 = v11;
  double v14 = v13;
  double v16 = v15;
  uint64_t v17 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v18 = *(id *)&v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView];
  sub_1001AED8C((uint64_t)v7);
  [v18 layoutMargins];
  id v19 = [v18 traitCollection];
  sub_100709D3C((uint64_t)v7);
  double v21 = v20;

  (*(void (**)(char *, uint64_t))(v4 + 8))(v7, v3);
  id v22 = *(id *)&v1[v17];
  v38.origin.CGFloat x = v10;
  v38.origin.CGFloat y = v12;
  v38.size.CGFloat width = v14;
  v38.size.CGFloat height = v16;
  double MinX = CGRectGetMinX(v38);
  v39.origin.CGFloat x = v10;
  v39.origin.CGFloat y = v12;
  v39.size.CGFloat width = v14;
  v39.size.CGFloat height = v16;
  CGFloat v24 = CGRectGetMidY(v39) - v21 * 0.5;
  v40.origin.CGFloat x = v10;
  v40.origin.CGFloat y = v12;
  v40.size.CGFloat width = v14;
  v40.size.CGFloat height = v16;
  [v22 setFrame:MinX, v24, CGRectGetWidth(v40), v21];

  uint64_t v25 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel;
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel] sizeThatFits:v14, v16];
  double v27 = v26;
  id v28 = *(id *)&v1[v25];
  v41.origin.CGFloat x = v10;
  v41.origin.CGFloat y = v12;
  v41.size.CGFloat width = v14;
  v41.size.CGFloat height = v16;
  double v29 = CGRectGetMinX(v41);
  v42.origin.CGFloat x = v10;
  v42.origin.CGFloat y = v12;
  v42.size.CGFloat width = v14;
  v42.size.CGFloat height = v16;
  double MinY = CGRectGetMinY(v42);
  v43.origin.CGFloat x = v10;
  v43.origin.CGFloat y = v12;
  v43.size.CGFloat width = v14;
  v43.size.CGFloat height = v16;
  double v31 = MinY + (CGRectGetHeight(v43) - v27) * 0.5;
  v44.origin.CGFloat x = v10;
  v44.origin.CGFloat y = v12;
  v44.size.CGFloat width = v14;
  v44.size.CGFloat height = v16;
  [v28 setFrame:v29, v31, CGRectGetWidth(v44), v27];

  uint64_t v32 = &v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsUpdateBlock];
  uint64_t result = swift_beginAccess();
  CGFloat v34 = *(void (**)(uint64_t))v32;
  if (*(void *)v32)
  {
    uint64_t v35 = swift_retain();
    v34(v35);
    return sub_10006012C((uint64_t)v34);
  }
  return result;
}

uint64_t type metadata accessor for TodayCardMarketingLockupOverlayView()
{
  return self;
}

uint64_t sub_100354254(uint64_t a1, id a2, uint64_t a3, uint64_t a4, unsigned __int8 a5, uint64_t a6)
{
  id v7 = v6;
  uint64_t v150 = a6;
  uint64_t v159 = a1;
  uint64_t v160 = a4;
  id v154 = a2;
  int v9 = a5;
  uint64_t v10 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v10 - 8);
  uint64_t v149 = (char *)&v134 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v148 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v147 = *(void *)(v148 - 8);
  __chkstk_darwin(v148);
  uint64_t v146 = (char *)&v134 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v145 = type metadata accessor for Artwork.Crop();
  uint64_t v144 = *(void *)(v145 - 8);
  __chkstk_darwin(v145);
  long long v143 = (char *)&v134 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = type metadata accessor for Paragraph.Alignment();
  __chkstk_darwin(v14 - 8);
  unint64_t v142 = (char *)&v134 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v16 - 8);
  uint64_t v141 = (char *)&v134 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_100082C28((uint64_t *)&unk_100981A90);
  __chkstk_darwin(v18 - 8);
  uint64_t v153 = (char *)&v134 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = type metadata accessor for OfferButtonPresenterViewAlignment();
  unint64_t v151 = *(void (***)(char *, uint64_t, uint64_t, void))(v20 - 8);
  uint64_t v152 = v20;
  __chkstk_darwin(v20);
  id v22 = (char *)&v134 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v23 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v23 - 8);
  uint64_t v25 = (char *)&v134 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v155 = type metadata accessor for TodayCard.Style();
  uint64_t v158 = *(void *)(v155 - 8);
  __chkstk_darwin(v155);
  unint64_t v135 = (char *)&v134 - ((v26 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v27);
  uint64_t v140 = (char *)&v134 - v28;
  __chkstk_darwin(v29);
  uint64_t v134 = (char *)&v134 - v30;
  __chkstk_darwin(v31);
  NSString v33 = (char *)&v134 - v32;
  int v34 = *((unsigned __int8 *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_sizeCategory);
  *((unsigned char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_sizeCategory) = a5;
  if (v9 == 7)
  {
    if (v34 == 7) {
      goto LABEL_6;
    }
LABEL_5:
    [v7 setNeedsLayout];
    goto LABEL_6;
  }
  if (v34 == 7) {
    goto LABEL_5;
  }
  switch(v9)
  {
    case 6:
      if (v34 != 6) {
        goto LABEL_5;
      }
      break;
    case 5:
      if (v34 != 5) {
        goto LABEL_5;
      }
      break;
    case 4:
      if (v34 != 4) {
        goto LABEL_5;
      }
      break;
    default:
      if ((v34 - 7) > 0xFFFFFFFC || v34 != v9) {
        goto LABEL_5;
      }
      break;
  }
LABEL_6:
  uint64_t v35 = (void *)TodayCard.Style.overlayBackgroundColor.getter();
  [v7 setBackgroundColor:v35];

  id v36 = [v7 traitCollection];
  if (v9 != 4)
  {
    PageGrid.horizontalDirectionalMargins.getter();
    PageGrid.horizontalDirectionalMargins.getter();
  }
  [v36 layoutDirection];
  NSDirectionalEdgeInsets.insetsWithLayoutDirection(_:)();
  double v38 = v37;
  double v40 = v39;
  double v42 = v41;
  double v44 = v43;

  [v7 setLayoutMargins:v38, v40, v42, v44];
  uint64_t v157 = TodayCardMarketingLockupOverlay.lockup.getter();
  uint64_t v45 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v46 = *(id *)((char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView);
  uint64_t v47 = v160;
  uint64_t v48 = (void *)TodayCard.Style.overlayTextColor.getter();
  sub_100010940(v48);

  id v49 = objc_retain(*(id *)(*(void *)(*(void *)((char *)v7 + v45)
                                      + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
                          + OBJC_IVAR____TtC8AppStore14BaseLockupView_ordinalLabel));
  uint64_t v50 = (void *)TodayCard.Style.overlayTextColor.getter();
  [v49 setTextColor:v50];

  id v51 = objc_retain(*(id *)(*(void *)(*(void *)((char *)v7 + v45)
                                      + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
                          + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel));
  uint64_t v52 = (void *)TodayCard.Style.overlayDetailTextColor.getter();
  [v51 setTextColor:v52];

  [*(id *)(*(void *)(*(void *)((char *)v7 + v45) + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_offerLabel) _setTextColorFollowsTintColor:1];
  id v53 = objc_retain(*(id *)(*(void *)((char *)v7 + v45)
                          + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_crossLinkTitleLabel));
  uint64_t v54 = (void *)TodayCard.Style.overlayDetailTextColor.getter();
  [v53 setTextColor:v54];

  uint64_t v156 = (char *)v45;
  id v55 = objc_retain(*(id *)(*(void *)((char *)v7 + v45)
                          + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_crossLinkSubtitleLabel));
  uint64_t v56 = (void *)TodayCard.Style.overlayTextColor.getter();
  [v55 setTextColor:v56];

  uint64_t v57 = v158;
  id v58 = (char *)(v158 + 16);
  uint64_t v59 = v155;
  uint64_t v139 = *(void (**)(char *, uint64_t, uint64_t))(v158 + 16);
  v139(v33, v47, v155);
  unint64_t v138 = *(uint64_t (**)(char *, uint64_t))(v57 + 88);
  int v60 = v138(v33, v59);
  uint64_t v158 = v57 + 88;
  int v136 = enum case for TodayCard.Style.white(_:);
  int v137 = enum case for TodayCard.Style.automatic(_:);
  if (v60 == enum case for TodayCard.Style.automatic(_:) || v60 == enum case for TodayCard.Style.white(_:))
  {
    uint64_t v61 = v156;
    [*(id *)&v156[(void)v7] setOverrideUserInterfaceStyle:0];
    uint64_t v63 = qword_100987000;
    [*(id *)(*(void *)(*(void *)&v61[(void)v7] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)+ OBJC_IVAR____TtC8AppStore14BaseLockupView_offerButton) setTintColor:0];
  }
  else
  {
    if (v60 == enum case for TodayCard.Style.dark(_:))
    {
      uint64_t v61 = v156;
      [*(id *)&v156[(void)v7] setOverrideUserInterfaceStyle:2];
      uint64_t v62 = *(void *)&v61[(void)v7];
      uint64_t v63 = qword_100987000;
    }
    else
    {
      uint64_t v61 = v156;
      uint64_t v63 = qword_100987000;
      if (v60 != enum case for TodayCard.Style.light(_:))
      {
        v139(v134, v160, v155);
        CGAffineTransform aBlock = 0;
        unint64_t v162 = 0xE000000000000000;
        _StringGuts.grow(_:)(44);
        swift_bridgeObjectRelease();
        CGAffineTransform aBlock = (void **)0xD00000000000002ALL;
        unint64_t v162 = 0x8000000100807C80;
        v132._uint64_t countAndFlagsBits = TodayCard.Style.rawValue.getter();
        String.append(_:)(v132);
        swift_bridgeObjectRelease();
        goto LABEL_62;
      }
      [*(id *)&v156[(void)v7] setOverrideUserInterfaceStyle:1];
      uint64_t v62 = *(void *)&v61[(void)v7];
    }
    id v64 = *(id *)(*(void *)(v62 + v63[306]) + OBJC_IVAR____TtC8AppStore14BaseLockupView_offerButton);
    id v65 = (void *)TodayCard.Style.overlayTextColor.getter();
    [v64 setTintColor:v65];
  }
  uint64_t v66 = *(void **)&v61[(void)v7];
  uint64_t v67 = v151;
  uint64_t v68 = v152;
  ((void (*)(char *, void, uint64_t))v151[13])(v22, enum case for OfferButtonPresenterViewAlignment.right(_:), v152);
  v67[7](v153, 1, 1, v68);
  sub_1003562F8((unint64_t *)&unk_100981AB0, 255, (void (*)(uint64_t))&type metadata accessor for OfferButtonPresenterViewAlignment);
  id v69 = v66;
  AccessibilityConditional.init(value:axValue:)();
  uint64_t v70 = sub_100082C28((uint64_t *)&unk_10098AC20);
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v70 - 8) + 56))(v25, 0, 1, v70);
  sub_1001ADDC8(v157, (uint64_t)v25, (uint64_t)v154, 0, 0, 0);

  sub_100082BCC((uint64_t)v25, (uint64_t *)&unk_100982860);
  uint64_t v71 = *(void *)(*(void *)&v61[(void)v7] + v63[306]);
  uint64_t v72 = *(void **)(v71 + OBJC_IVAR____TtC8AppStore14BaseLockupView_headingLabel);
  if (v72)
  {
    id v73 = v72;
    uint64_t v74 = (void *)TodayCard.Style.overlayDetailTextColor.getter();
    uint64_t v75 = &stru_100950000;
    [v73 setTextColor:v74];

    uint64_t v71 = *(void *)(*(void *)&v61[(void)v7] + v63[306]);
  }
  else
  {
    uint64_t v75 = &stru_100950000;
  }
  uint64_t isEscapingClosureAtFileLocation = (uint64_t)&OBJC_IVAR____TtC8AppStore14BaseLockupView_tertiaryTitleLabel;
  uint64_t v77 = *(void **)(v71 + OBJC_IVAR____TtC8AppStore14BaseLockupView_tertiaryTitleLabel);
  if (!v77) {
    goto LABEL_29;
  }
  id v78 = v77;
  uint64_t v79 = (void *)TodayCard.Style.overlayDetailTextColor.getter();
  [v78 setTextColor:v79];

  uint64_t v80 = *(void **)(*(void *)(*(void *)&v61[(void)v7] + v63[306])
                 + OBJC_IVAR____TtC8AppStore14BaseLockupView_tertiaryTitleLabel);
  if (!v80) {
    goto LABEL_29;
  }
  uint64_t v81 = qword_10097F1D0;
  id v82 = v80;
  if (v81 != -1) {
    goto LABEL_59;
  }
  while (1)
  {
    uint64_t v83 = type metadata accessor for FontUseCase();
    uint64_t v84 = sub_100087728(v83, (uint64_t)qword_1009E3FE0);
    uint64_t v85 = *(void *)(v83 - 8);
    uint64_t v86 = v141;
    (*(void (**)(char *, uint64_t, uint64_t))(v85 + 16))(v141, v84, v83);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v85 + 56))(v86, 0, 1, v83);
    dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

    uint64_t v63 = qword_100987000;
    objc_super v87 = *(void **)(*(void *)(*(void *)&v61[(void)v7] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
                   + *(void *)isEscapingClosureAtFileLocation);
    if (v87) {
      [v87 setAccessibilityIgnoresInvertColors:1];
    }
LABEL_29:
    uint64_t v88 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel;
    id v89 = *(id *)((char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_paragraphLabel);
    uint64_t v90 = (void *)TodayCard.Style.overlayTextColor.getter();
    [v89 v75[185].name:v90];

    if (!TodayCardMarketingLockupOverlay.paragraph.getter()) {
      break;
    }
    uint64_t v152 = v88;
    uint64_t v153 = v58;
    unint64_t v151 = (void (**)(char *, uint64_t, uint64_t, void))*(id *)((char *)v7 + v88);
    id v82 = (id)Paragraph.text.getter();
    id v91 = [v7 traitCollection];
    id v92 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v82];
    id v154 = [v82 length];
    uint64_t v93 = swift_allocObject();
    *(void *)(v93 + 16) = 0;
    *(void *)(v93 + 24) = v91;
    *(void *)(v93 + 32) = v92;
    *(unsigned char *)(v93 + 40) = 1;
    uint64_t v94 = swift_allocObject();
    *(void *)(v94 + 16) = sub_100165B8C;
    *(void *)(v94 + 24) = v93;
    unint64_t v165 = sub_100165BAC;
    uint64_t v166 = v94;
    CGAffineTransform aBlock = _NSConcreteStackBlock;
    unint64_t v162 = 1107296256;
    unint64_t v163 = sub_100687488;
    unint64_t v164 = &unk_1008C6EB0;
    uint64_t v75 = (__objc2_prop *)_Block_copy(&aBlock);
    id v58 = (char *)v91;
    uint64_t v61 = (char *)v92;
    swift_retain();
    swift_release();
    [v82 enumerateAttributesInRange:0 options:0x100000 usingBlock:v75];
    _Block_release(v75);
    uint64_t isEscapingClosureAtFileLocation = swift_isEscapingClosureAtFileLocation();

    swift_release();
    swift_release();
    if ((isEscapingClosureAtFileLocation & 1) == 0)
    {
      id v95 = v151;
      [v151 setAttributedText:v61];

      id v96 = *(id *)((char *)v7 + v152);
      uint64_t v97 = (uint64_t)v142;
      Paragraph.alignment.getter();
      [v96 setTextAlignment:sub_10027F0DC(v97)];

      [v7 setNeedsLayout];
      if ((*((unsigned char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_isExpanded) & 1) == 0) {
        sub_100353278(3.0, 5.0);
      }
      swift_release();
      uint64_t v61 = v156;
      uint64_t v63 = qword_100987000;
      break;
    }
    __break(1u);
LABEL_59:
    swift_once();
  }
  TodayCardMarketingLockupOverlay.lockup.getter();
  uint64_t v98 = Lockup.icon.getter();
  swift_release();
  unint64_t v99 = &stru_100950000;
  if (v98)
  {
    long long v100 = v143;
    Artwork.crop.getter();
    uint64_t v101 = Artwork.Crop.preferredContentMode.getter();
    (*(void (**)(char *, uint64_t))(v144 + 8))(v100, v145);
    uint64_t v102 = *(void *)(*(void *)&v61[(void)v7] + v63[306]) + OBJC_IVAR____TtC8AppStore15SmallLockupView_metrics;
    swift_beginAccess();
    uint64_t v103 = v147;
    unint64_t v104 = v61;
    double v105 = v146;
    uint64_t v106 = v148;
    (*(void (**)(char *, uint64_t, uint64_t))(v147 + 16))(v146, v102, v148);
    SmallLockupLayout.Metrics.artworkSize.getter();
    (*(void (**)(char *, uint64_t))(v103 + 8))(v105, v106);
    Artwork.config(_:mode:prefersLayeredImage:)();
    id v107 = *(id *)(*(void *)&v104[(void)v7] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
    Artwork.style.getter();
    ArtworkView.style.setter();
    [v107 setContentMode:Artwork.contentMode.getter()];
    ArtworkLoaderConfig.size.getter();
    ArtworkView.imageSize.setter();
    if (!Artwork.backgroundColor.getter())
    {
      sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
      static UIColor.placeholderBackground.getter();
    }
    ArtworkView.backgroundColor.setter();

    [*(id *)(*(void *)&v104[(void)v7] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView) setContentMode:v101];
    uint64_t v108 = *(void **)(*(void *)&v104[(void)v7] + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
    type metadata accessor for ArtworkView();
    sub_1003562F8((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
    id v109 = v108;
    ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();

    uint64_t v110 = (void *)Artwork.backgroundColor.getter();
    if (v110 && (uint64_t v111 = v110, [v110 _luminance], v113 = v112, v111, v113 >= 0.54))
    {
      unint64_t v99 = &stru_100950000;
      id v114 = [self effectWithBrightness:v113 < 0.89];
    }
    else
    {
      id v114 = [self effectWithBrightness:2];
      unint64_t v99 = &stru_100950000;
    }
    id v121 = v114;
    CGRect v122 = (void *)TodayCardMarketingLockupOverlay.artworkBackgroundColor.getter();
    [v121 setBackgroundColorForReducedTransparency:v122];

    uint64_t v120 = *(void **)((char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground);
    sub_100082C28(&qword_100982B50);
    uint64_t v123 = swift_allocObject();
    *(_OWORD *)(v123 + 16) = xmmword_1007BEA80;
    *(void *)(v123 + 32) = v121;
    uint64_t v167 = v123;
    specialized Array._endMutation()();
    sub_100084CF0(0, (unint64_t *)&qword_100991780);
    id v124 = v121;
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    [v120 setBackgroundEffects:isa];
    swift_release();
    swift_release();

    goto LABEL_50;
  }
  long long v115 = v140;
  uint64_t v116 = v155;
  long long v117 = v139;
  v139(v140, v160, v155);
  int v118 = v138(v115, v116);
  if (v118 == v137 || v118 == v136)
  {
    uint64_t v120 = *(void **)((char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground);
    [v120 setHidden:1];
LABEL_50:
    [v120 v99[170].name TodayCardMarketingLockupOverlay.hideBackground.getter() & 1];
    return swift_release();
  }
  if (v118 == enum case for TodayCard.Style.dark(_:))
  {
    id v119 = [self effectWithBrightness:2];
LABEL_49:
    id v126 = v119;
    CGRect v127 = (void *)TodayCardMarketingLockupOverlay.artworkBackgroundColor.getter();
    [v126 setBackgroundColorForReducedTransparency:v127];

    uint64_t v120 = *(void **)((char *)v7 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_materialBackground);
    sub_100082C28(&qword_100982B50);
    uint64_t v128 = swift_allocObject();
    *(_OWORD *)(v128 + 16) = xmmword_1007BEA80;
    *(void *)(v128 + 32) = v126;
    CGAffineTransform aBlock = (void **)v128;
    specialized Array._endMutation()();
    sub_100084CF0(0, (unint64_t *)&qword_100991780);
    id v129 = v126;
    Class v130 = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    [v120 setBackgroundEffects:v130];

    goto LABEL_50;
  }
  if (v118 == enum case for TodayCard.Style.light(_:))
  {
    id v119 = [self effectWithBrightness:0];
    goto LABEL_49;
  }
  v117(v135, v160, v155);
  CGAffineTransform aBlock = 0;
  unint64_t v162 = 0xE000000000000000;
  _StringGuts.grow(_:)(44);
  swift_bridgeObjectRelease();
  CGAffineTransform aBlock = (void **)0xD00000000000002ALL;
  unint64_t v162 = 0x8000000100807C80;
  v133._uint64_t countAndFlagsBits = TodayCard.Style.rawValue.getter();
  String.append(_:)(v133);
  swift_bridgeObjectRelease();
LABEL_62:
  uint64_t result = _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
  return result;
}

void sub_100355794()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for Artwork.Style();
  __n128 v3 = __chkstk_darwin(v2);
  uint64_t v5 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  uint64_t v6 = *(void **)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView)
                + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
  (*(void (**)(char *, void, __n128))(v7 + 104))((char *)&v13 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0), enum case for Artwork.Style.unspecified(_:), v3);
  id v8 = v6;
  ArtworkView.style.setter();

  id v9 = *(id *)(*(void *)(v0 + v5) + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
  v14.value.super.Class isa = 0;
  v14.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v14, v10);

  uint64_t v11 = *(void **)(*(void *)(v1 + v5) + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
  type metadata accessor for ArtworkView();
  sub_1003562F8((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v12 = v11;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

void sub_100355930(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = &v24[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  uint64_t v7 = type metadata accessor for ImpressionMetrics();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  Swift::Bool v10 = &v24[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    id v12 = (char *)Strong;
    swift_beginAccess();
    if (!swift_weakLoadStrong())
    {

      return;
    }
    sub_100082C6C(a3, (uint64_t)v24);
    sub_100082C28((uint64_t *)&unk_100983890);
    type metadata accessor for TodayCard();
    if (swift_dynamicCast())
    {
      uint64_t v13 = TodayCard.overlay.getter();
      swift_release();
      if (v13)
      {
        type metadata accessor for TodayCardMarketingLockupOverlay();
        if (swift_dynamicCastClass())
        {
          TodayCardMarketingLockupOverlay.lockup.getter();
          Lockup.impressionMetrics.getter();
          swift_release();
          if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1)
          {

            swift_release();
            swift_release();
            sub_100082BCC((uint64_t)v6, &qword_100985970);
          }
          else
          {
            (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v10, v6, v7);
            [*(id *)&v12[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView] frame];
            double v15 = v14;
            double v17 = v16;
            double v19 = v18;
            double v21 = v20;
            id v22 = [v12 superview];
            [v12 convertRect:v22 toView:v15, v17, v19, v21];

            ImpressionsCalculator.addElement(_:at:)();
            swift_release();
            swift_release();
            (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
          }
          return;
        }
        swift_release();
      }
    }

    swift_release();
  }
}

uint64_t sub_100355C78(uint64_t *a1, void *a2, uint64_t a3, uint64_t a4, unsigned __int8 a5, uint64_t a6)
{
  return sub_100354254(*a1, a2, a3, a4, a5, a6);
}

void sub_100355C80(char *a1, char a2)
{
  if (a2) {
    sub_1003537CC(a1);
  }
  else {
    swift_unknownObjectWeakAssign();
  }
}

id sub_100355CA4(char a1)
{
  v1[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_isExpanded] = a1;
  return [v1 setNeedsLayout];
}

uint64_t sub_100355CC0(uint64_t a1, uint64_t a2)
{
  __n128 v3 = (void *)(v2 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler);
  uint64_t v4 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler);
  *__n128 v3 = a1;
  v3[1] = a2;
  return sub_10006012C(v4);
}

void sub_100355CE4()
{
}

id sub_100355CEC()
{
  return objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView)
                           + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView));
}

double sub_100355D0C()
{
  uint64_t v1 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = (char *)&v9 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = *(void *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView)
                 + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_lockupView)
     + OBJC_IVAR____TtC8AppStore15SmallLockupView_metrics;
  swift_beginAccess();
  (*(void (**)(char *, uint64_t, uint64_t))(v2 + 16))(v4, v5, v1);
  SmallLockupLayout.Metrics.artworkSize.getter();
  double v7 = v6;
  (*(void (**)(char *, uint64_t))(v2 + 8))(v4, v1);
  return v7;
}

uint64_t sub_100355E44()
{
  return swift_weakLoadStrong();
}

uint64_t sub_100355E90()
{
  return swift_release();
}

void (*sub_100355EEC(void *a1))(void **a1, char a2)
{
  uint64_t v3 = malloc(0x30uLL);
  *a1 = v3;
  uint64_t v4 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsCalculator;
  v3[4] = v1;
  v3[5] = v4;
  swift_beginAccess();
  v3[3] = swift_weakLoadStrong();
  return sub_1000F2374;
}

uint64_t sub_100355F70()
{
  uint64_t v1 = (uint64_t *)(v0 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v2 = *v1;
  sub_100060050(*v1);
  return v2;
}

uint64_t sub_100355FCC(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v6 = *v5;
  *uint64_t v5 = a1;
  v5[1] = a2;
  return sub_10006012C(v6);
}

uint64_t (*sub_10035602C())()
{
  return j__swift_endAccess;
}

void (*sub_100356088(uint64_t a1))()
{
  uint64_t v2 = swift_allocObject();
  swift_unknownObjectWeakInit();
  sub_100082C6C(a1, (uint64_t)v7);
  uint64_t v3 = swift_allocObject();
  swift_weakInit();
  sub_100081DD4(v7, (uint64_t)v6);
  uint64_t v4 = swift_allocObject();
  *(void *)(v4 + 16) = v2;
  *(void *)(v4 + 24) = v3;
  sub_100081DD4(v6, v4 + 32);
  return sub_100356450;
}

void sub_100356160()
{
  uint64_t v1 = v0;
  uint64_t v2 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView;
  id v3 = objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_lockupView)
                         + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView));
  ArtworkView.isImageHidden.setter();

  uint64_t v4 = *(void **)(*(void *)(v1 + v2) + OBJC_IVAR____TtC8AppStore19CrossLinkLockupView_artworkView);
  type metadata accessor for ArtworkView();
  sub_1003562F8((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v5 = v4;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

uint64_t sub_100356254(uint64_t a1, uint64_t a2)
{
  uint64_t result = sub_1003562F8(&qword_1009916C8, a2, (void (*)(uint64_t))type metadata accessor for TodayCardMarketingLockupOverlayView);
  *(void *)(a1 + 8) = result;
  return result;
}

uint64_t sub_1003562AC()
{
  return sub_1003562F8(&qword_1009916D0, 255, (void (*)(uint64_t))&type metadata accessor for TodayCardMarketingLockupOverlay);
}

uint64_t sub_1003562F8(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100356340()
{
  return _swift_deallocObject(v0, 41, 7);
}

uint64_t sub_100356388()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100356398()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_1003563D0()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100356408()
{
  swift_release();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 32);

  return _swift_deallocObject(v0, 72, 7);
}

void sub_100356450()
{
  sub_100355930(*(void *)(v0 + 16), *(void *)(v0 + 24), v0 + 32);
}

void sub_10035645C()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_tapGestureRecognizer;
  *(void *)&v0[v1] = [objc_allocWithZone((Class)UITapGestureRecognizer) init];
  swift_weakInit();
  uint64_t v2 = &v0[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_impressionsUpdateBlock];
  *uint64_t v2 = 0;
  v2[1] = 0;
  swift_unknownObjectWeakInit();
  v0[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_isExpanded] = 0;
  v0[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_sizeCategory] = 7;
  id v3 = &v0[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler];
  *id v3 = 0;
  v3[1] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

BOOL sub_100356548(void *a1)
{
  uint64_t v2 = v1;
  [a1 locationInView:v1];
  CGFloat v4 = v3;
  CGFloat v6 = v5;
  id v7 = [v1 hitTest:0];
  [v2 bounds];
  v18.CGFloat x = v4;
  v18.CGFloat y = v6;
  if (!CGRectContainsPoint(v19, v18))
  {

    return 0;
  }
  if (v7)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    uint64_t v8 = v2;
    id v9 = v7;
    char v10 = static NSObject.== infix(_:_:)();

    if (v10)
    {

      return 0;
    }
    self;
    uint64_t v12 = swift_dynamicCastObjCClass();

    if (v12) {
      return 0;
    }
  }
  uint64_t v13 = *(void *)&v2[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler];
  uint64_t v14 = *(void *)&v2[OBJC_IVAR____TtC8AppStore35TodayCardMarketingLockupOverlayView_clickActionHandler + 8];
  BOOL v11 = v13 != 0;
  if (v13)
  {
    uint64_t v15 = swift_allocObject();
    *(void *)(v15 + 16) = v13;
    *(void *)(v15 + 24) = v14;
    double v16 = sub_10003EC24;
  }
  else
  {
    double v16 = 0;
  }
  sub_100060050(v13);
  sub_10006012C((uint64_t)v16);
  return v11;
}

uint64_t sub_1003566DC()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

id sub_100356714()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for Dependency();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v32 = (char *)v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for MetricsFieldsContext();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)v26 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v9);
  BOOL v11 = (char *)v26 - v10;
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v33 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)v26 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_100082C28(&qword_1009875B0);
  *(void *)&double v16 = __chkstk_darwin(v15 - 8).n128_u64[0];
  CGPoint v18 = (char *)v26 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  id result = [v1 view:v16];
  if (result)
  {
    uint64_t v30 = v2;
    id v31 = result;
    uint64_t v28 = v12;
    uint64_t v29 = v3;
    ObjectGraph.actionDispatcher.getter();
    uint64_t v20 = sub_100082C28((uint64_t *)&unk_100984530);
    uint64_t v21 = *(void *)(v20 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v21 + 48))(v18, 1, v20) == 1)
    {

      return (id)sub_1000B59E0((uint64_t)v18);
    }
    else
    {
      uint64_t v22 = *(void *)&v1[OBJC_IVAR____TtC8AppStore26TapActionGestureRecognizer_action];
      v34[3] = type metadata accessor for Action();
      v34[4] = sub_100190598();
      v26[1] = v22;
      v34[0] = v22;
      swift_retain_n();
      uint64_t v27 = v21;
      sub_1005365D0();
      (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v8, v11, v5);
      uint64_t v23 = v32;
      Dependency.init<A>(satisfying:with:)();
      dispatch thunk of BaseObjectGraph.adding(dependency:)();
      (*(void (**)(char *, uint64_t))(v29 + 8))(v23, v30);
      (*(void (**)(char *, char *, uint64_t))(v6 + 32))(v14, v11, v5);
      uint64_t v24 = v33;
      uint64_t v25 = v28;
      (*(void (**)(char *, void, uint64_t))(v33 + 104))(v14, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v28);
      ActionDispatcher.perform(_:withMetrics:asPartOf:)();
      swift_release();
      (*(void (**)(char *, uint64_t))(v24 + 8))(v14, v25);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v34);
      swift_release();

      swift_release();
      return (id)(*(uint64_t (**)(char *, uint64_t))(v27 + 8))(v18, v20);
    }
  }
  return result;
}

uint64_t type metadata accessor for TapActionGestureRecognizer()
{
  return self;
}

uint64_t type metadata accessor for SearchAdTransparencyLabel()
{
  uint64_t result = qword_1009917E8;
  if (!qword_1009917E8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100356CB0()
{
  return swift_initClassMetadata2();
}

void sub_100356D18(void *a1, id a2)
{
  id v3 = [a2 layer];
  id v4 = [a1 CGContext];
  [v3 renderInContext:v4];
}

uint64_t sub_100356DA8(uint64_t a1, uint64_t (*a2)(void))
{
  return a2();
}

void sub_100356DD0(uint64_t a1, void *a2)
{
  uint64_t v2 = *(void (**)(void))(a1 + 32);
  id v3 = a2;
  v2();
}

char *sub_100356E1C(void *a1)
{
  uint64_t v3 = type metadata accessor for AutomationSemantics();
  uint64_t v26 = *(void *)(v3 - 8);
  uint64_t v27 = v3;
  __chkstk_darwin(v3);
  uint64_t v5 = (char *)&v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)&v26 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v10 - 8);
  uint64_t v12 = (char *)&v26 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = qword_1009917C0;
  id v14 = objc_allocWithZone((Class)UITapGestureRecognizer);
  uint64_t v15 = v1;
  *(void *)&v1[v13] = [v14 init];
  double v16 = &v15[qword_1009917D8];
  *(void *)double v16 = 0;
  *((void *)v16 + 1) = 0;
  v16[16] = 1;
  uint64_t v17 = &v15[qword_1009917E0];
  *(void *)uint64_t v17 = 0;
  *((void *)v17 + 1) = 0;
  *(void *)&v15[qword_1009917C8] = a1;
  id v18 = a1;
  *(void *)&v15[qword_1009917D0] = sub_100357BB0(v18);

  uint64_t v19 = type metadata accessor for FontUseCase();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v12, 1, 1, v19);
  (*(void (**)(char *, void, uint64_t))(v7 + 104))(v9, enum case for DirectionalTextAlignment.none(_:), v6);
  id v20 = (id)DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  [v20 setUserInteractionEnabled:1];
  memset(v29, 0, sizeof(v29));
  memset(v28, 0, sizeof(v28));
  uint64_t v21 = (char *)v20;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100089384((uint64_t)v28);
  sub_100089384((uint64_t)v29);
  UIView.setAutomationSemantics(_:)();

  (*(void (**)(char *, uint64_t))(v26 + 8))(v5, v27);
  uint64_t v22 = *(void **)&v21[qword_1009917C0];
  [v22 addTarget:v21 action:"didTapLabelWithGestureRecognizer:"];
  [v22 setDelegate:v21];
  uint64_t v23 = v21;
  id v24 = v22;
  [v23 addGestureRecognizer:v24];

  return v23;
}

double sub_1003571AC(char *a1)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = (uint64_t *)&a1[qword_1009917D8];
  if (a1[qword_1009917D8 + 16])
  {
    uint64_t v4 = a1;
  }
  else
  {
    uint64_t v6 = *v3;
    uint64_t v5 = v3[1];
    uint64_t v7 = a1;
    sub_100357304(v6, v5, (uint64_t)v12);
    sub_1001FE144((uint64_t)v12, (uint64_t)&v13);
    if ((v14 & 1) == 0)
    {
      unint64_t v8 = (unint64_t)UIAccessibilityConvertFrameToScreenCoordinates(v13, v7);
      goto LABEL_6;
    }
  }
  v11.receiver = a1;
  v11.super_class = ObjectType;
  [super accessibilityFrame];
LABEL_6:
  double v9 = *(double *)&v8;

  return v9;
}

id sub_100357294(void *a1, double a2, double a3, double a4, double a5)
{
  v10.receiver = a1;
  v10.super_class = (Class)swift_getObjectType();
  return [super setAccessibilityFrame:a2, a3, a4, a5];
}

void sub_100357304(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X8>)
{
  uint64_t v4 = v3;
  id v8 = [v3 attributedText];
  if (v8)
  {
    id v9 = [objc_allocWithZone((Class)NSTextStorage) initWithAttributedString:v8];
    id v10 = [objc_allocWithZone((Class)NSLayoutManager) init];
    [v9 addLayoutManager:v10];
    [v4 bounds];
    id v13 = [objc_allocWithZone((Class)NSTextContainer) initWithSize:v11, v12];
    [v13 setLineFragmentPadding:0.0];
    [v10 addTextContainer:v13];
    uint64_t v22 = 0;
    uint64_t v23 = 0;
    [v10 characterRangeForGlyphRange:a1 actualGlyphRange:a2];
    [v10 boundingRectForGlyphRange:v22 inTextContainer:v23];
    uint64_t v15 = v14;
    uint64_t v17 = v16;
    uint64_t v19 = v18;
    uint64_t v21 = v20;
  }
  else
  {
    uint64_t v15 = 0;
    uint64_t v17 = 0;
    uint64_t v19 = 0;
    uint64_t v21 = 0;
  }
  *(void *)a3 = v15;
  *(void *)(a3 + 8) = v17;
  *(void *)(a3 + 16) = v19;
  *(void *)(a3 + 24) = v21;
  *(unsigned char *)(a3 + 32) = v8 == 0;
}

void sub_1003574DC()
{
  uint64_t v1 = v0;
  sub_100082C28((uint64_t *)&unk_100986D50);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_1007BF1D0;
  *(void *)(inited + 32) = NSForegroundColorAttributeName;
  uint64_t v3 = qword_10097E288;
  uint64_t v4 = NSForegroundColorAttributeName;
  if (v3 != -1) {
    swift_once();
  }
  uint64_t v5 = (void *)qword_1009E1690;
  uint64_t v6 = sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  *(void *)(inited + 40) = v5;
  *(void *)(inited + 64) = v6;
  *(void *)(inited + 72) = NSFontAttributeName;
  id v7 = v5;
  id v8 = NSFontAttributeName;
  id v9 = [v1 font];
  *(void *)(inited + 104) = sub_100082C28(&qword_100991838);
  *(void *)(inited + 80) = v9;
  sub_10005A234(inited);
  sub_100084CF0(0, &qword_100991840);
  sub_100082C28(&qword_100982B50);
  uint64_t v10 = swift_allocObject();
  *(_OWORD *)(v10 + 16) = xmmword_1007BEA80;
  double v11 = *(void **)&v1[qword_1009917D0];
  *(void *)(v10 + 32) = v11;
  specialized Array._endMutation()();
  id v12 = v11;
  id v13 = [v1 traitCollection];
  uint64_t v14 = NSAttributedString.init(images:for:adjustsImageSizeForAccessibilityContentSizeCategory:interItemSpacing:defaultAttributes:imagesShouldRenderAsTemplates:)();
  id v15 = [v14 length];
  uint64_t v16 = &v1[qword_1009917D8];
  *(void *)uint64_t v16 = 0;
  *((void *)v16 + 1) = v15;
  v16[16] = 0;
  id v17 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v14];
  if (*(void *)&v1[qword_1009917E0 + 8])
  {
    id v18 = objc_allocWithZone((Class)NSAttributedString);
    swift_bridgeObjectRetain();
    NSString v19 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    id v20 = [v18 initWithString:v19];

    [v17 appendAttributedString:v20];
  }
  [v1 setAttributedText:v17];
}

void sub_10035776C(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = type metadata accessor for UITraitOverrides();
  __chkstk_darwin(v4);
  type metadata accessor for DynamicTypeLabel();
  uint64_t v5 = (void (*)(uint64_t))method lookup function for DynamicTypeLabel();
  v5(a1);
  uint64_t v6 = *(void **)&v2[qword_1009917C8];
  id v7 = [v2 traitCollection];
  id v8 = [v7 preferredContentSizeCategory];

  UIView.traitOverrides.getter();
  UIMutableTraits.preferredContentSizeCategory.setter();
  UIView.traitOverrides.setter();
  [v6 updateTraitsIfNeeded];
  uint64_t v9 = sub_100357BB0(v6);
  uint64_t v10 = *(void **)&v2[qword_1009917D0];
  *(void *)&v2[qword_1009917D0] = v9;

  sub_1003574DC();
}

BOOL sub_1003578CC(unsigned char *a1, uint64_t a2, void *a3, void *a4)
{
  uint64_t v4 = (uint64_t *)&a1[qword_1009917D8];
  if (a1[qword_1009917D8 + 16]) {
    return 0;
  }
  uint64_t v9 = *v4;
  uint64_t v8 = v4[1];
  id v10 = a3;
  id v11 = a4;
  id v12 = a1;
  sub_100357304(v9, v8, (uint64_t)v24);
  sub_1001FE144((uint64_t)v24, (uint64_t)&v25);
  if (v26)
  {
    BOOL v5 = 0;
  }
  else
  {
    CGRect.adding(outsets:)();
    CGFloat v14 = v13;
    CGFloat v16 = v15;
    CGFloat v18 = v17;
    CGFloat v20 = v19;
    [v11 locationInView:v12];
    v27.CGFloat x = v21;
    v27.CGFloat y = v22;
    v28.origin.CGFloat x = v14;
    v28.origin.CGFloat y = v16;
    v28.size.CGFloat width = v18;
    v28.size.CGFloat height = v20;
    BOOL v5 = CGRectContainsPoint(v28, v27);
  }

  return v5;
}

void sub_1003579EC(char *a1, uint64_t a2, void *a3)
{
  uint64_t v3 = *(void (**)(uint64_t))(*(void *)&a1[qword_1009917C8] + qword_100986DC0);
  if (v3)
  {
    id v5 = a3;
    id v7 = a1;
    uint64_t v6 = sub_100060050((uint64_t)v3);
    v3(v6);
    sub_10006012C((uint64_t)v3);
  }
}

void sub_100357AA4()
{
}

uint64_t sub_100357AD4()
{
  return swift_bridgeObjectRelease();
}

uint64_t sub_100357B38(uint64_t a1)
{
  return swift_bridgeObjectRelease();
}

uint64_t sub_100357BA8()
{
  return type metadata accessor for SearchAdTransparencyLabel();
}

uint64_t sub_100357BB0(void *a1)
{
  [a1 sizeToFit];
  [a1 bounds];
  id v6 = [objc_allocWithZone((Class)UIGraphicsImageRenderer) initWithBounds:v2, v3, v4, v5];
  uint64_t v7 = swift_allocObject();
  *(void *)(v7 + 16) = a1;
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = sub_100357DB8;
  *(void *)(v8 + 24) = v7;
  void v13[4] = sub_100357DD0;
  uint64_t v13[5] = v8;
  v13[0] = _NSConcreteStackBlock;
  v13[1] = 1107296256;
  void v13[2] = sub_100356DD0;
  uint64_t v13[3] = &unk_1008C6FC8;
  uint64_t v9 = _Block_copy(v13);
  id v10 = a1;
  swift_retain();
  swift_release();
  id v11 = [v6 imageWithActions:v9];

  _Block_release(v9);
  LOBYTE(v6) = swift_isEscapingClosureAtFileLocation();
  swift_release();
  uint64_t result = swift_release();
  if ((v6 & 1) == 0) {
    return (uint64_t)v11;
  }
  __break(1u);
  return result;
}

uint64_t sub_100357D80()
{
  return _swift_deallocObject(v0, 24, 7);
}

void sub_100357DB8(void *a1)
{
  sub_100356D18(a1, *(id *)(v1 + 16));
}

uint64_t sub_100357DC0()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100357DD0()
{
  return (*(uint64_t (**)(void))(v0 + 16))();
}

double sub_100357DF8(uint64_t *a1, double a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  return sub_1007653B8(a2, *a1, a7);
}

id sub_100357E04(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  if (v6[OBJC_IVAR____TtC8AppStore32UpsellBreakoutCollectionViewCell_shouldApplyBreakoutData] == 1)
  {
    v6[OBJC_IVAR____TtC8AppStore32UpsellBreakoutCollectionViewCell_shouldApplyBreakoutData] = 0;
    sub_100763694(*a1, a4, a3, a6);
  }

  return [v6 setNeedsLayout];
}

uint64_t sub_100357E7C()
{
  uint64_t v0 = dispatch thunk of UpsellBreakout.clickAction.getter();
  swift_release();
  if (v0) {
    return 3;
  }
  else {
    return 0;
  }
}

void sub_100357EB8()
{
}

id sub_100357EC0(double a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_100765BA0(a1, a4, a6);
}

uint64_t sub_100357ECC()
{
  return sub_100358530(&qword_10098D2D8, (void (*)(uint64_t))&type metadata accessor for UpsellBreakout);
}

uint64_t sub_100357F14()
{
  return sub_100358530(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

uint64_t sub_100357F5C(uint64_t a1, uint64_t a2)
{
  uint64_t v40 = a1;
  uint64_t v41 = a2;
  uint64_t v3 = type metadata accessor for PageGrid();
  uint64_t v38 = *(void *)(v3 - 8);
  uint64_t v39 = v3;
  __chkstk_darwin(v3);
  double v5 = (char *)&v33 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v33 - v7;
  uint64_t v9 = type metadata accessor for ItemLayoutContext();
  id v10 = *(void **)(v9 - 8);
  __chkstk_darwin(v9);
  id v12 = (char *)&v33 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100984EA0);
  __chkstk_darwin(v13 - 8);
  double v15 = (char *)&v33 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  CGFloat v18 = (char *)&v33 - v17;
  id v42 = v2;
  uint64_t v19 = (uint64_t)v2 + OBJC_IVAR____TtC8AppStore32UpsellBreakoutCollectionViewCell_itemLayoutContext;
  swift_beginAccess();
  sub_1000E70A0(v19, (uint64_t)v18);
  uint64_t v20 = v9;
  uint64_t v21 = v9;
  CGFloat v22 = (unsigned int (*)(char *, uint64_t, uint64_t))v10[6];
  if (v22(v18, 1, v21))
  {
    sub_1000A1D30((uint64_t)v18);
LABEL_6:
    [v42 bounds];
    uint64_t v27 = v40;
    return sub_1007630F4(v27, v41);
  }
  id v36 = (unsigned int (*)(uint64_t, uint64_t, uint64_t))v22;
  double v37 = v15;
  int v34 = v5;
  uint64_t v35 = v8;
  uint64_t v23 = (void (*)(char *, char *, uint64_t))v10[2];
  v23(v12, v18, v20);
  sub_1000A1D30((uint64_t)v18);
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  uint64_t v33 = (void (*)(char *, uint64_t))v10[1];
  v33(v12, v20);
  id v24 = v43;
  id v25 = [v43 horizontalSizeClass];

  if (v25 != (id)2) {
    goto LABEL_6;
  }
  uint64_t v26 = (uint64_t)v37;
  sub_1000E70A0(v19, (uint64_t)v37);
  if (v36(v26, 1, v20))
  {
    sub_1000A1D30(v26);
    [v42 bounds];
    CGRectGetWidth(v44);
  }
  else
  {
    v23(v12, (char *)v26, v20);
    sub_1000A1D30(v26);
    swift_getKeyPath();
    uint64_t v29 = v34;
    ItemLayoutContext.subscript.getter();
    swift_release();
    v33(v12, v20);
    uint64_t v31 = v38;
    uint64_t v30 = v39;
    uint64_t v32 = v35;
    (*(void (**)(char *, char *, uint64_t))(v38 + 32))(v35, v29, v39);
    PageGrid.containerWidth.getter();
    PageGrid.containerHeight.getter();
    (*(void (**)(char *, uint64_t))(v31 + 8))(v32, v30);
  }
  [v42 bounds];
  CGRectGetHeight(v45);
  uint64_t v27 = v40;
  return sub_1007630F4(v27, v41);
}

void sub_1003583A8()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore32UpsellBreakoutCollectionViewCell_upsellBreakoutView);
  double v2 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore18UpsellBreakoutView_artworkView);
  type metadata accessor for ArtworkView();
  sub_100358530((unint64_t *)&qword_1009828D0, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v3 = v2;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();

  uint64_t v4 = *(void **)(*(void *)(*(void *)(v1 + OBJC_IVAR____TtC8AppStore18UpsellBreakoutView_mediaViewContainer)
                            + OBJC_IVAR____TtC8AppStore9MediaView_contentContainer)
                + OBJC_IVAR____TtC8AppStoreP33_ECECB79BEF5D802E6E21EF3AE112F28D20UberContentContainer_contents);
  if (v4)
  {
    type metadata accessor for VideoView();
    if (swift_dynamicCastClass())
    {
      sub_100358530(&qword_1009932F0, (void (*)(uint64_t))type metadata accessor for VideoView);
      id v5 = v4;
      ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
    }
  }
}

uint64_t sub_100358530(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

ValueMetadata *type metadata accessor for ReviewsPageGridProvider()
{
  return &type metadata for ReviewsPageGridProvider;
}

uint64_t sub_100358590@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X4>, uint64_t a6@<X6>, uint64_t a7@<X8>)
{
  uint64_t v54 = a6;
  uint64_t v50 = a5;
  uint64_t v58 = a7;
  uint64_t v59 = a4;
  uint64_t v46 = type metadata accessor for DynamicTypeSize();
  uint64_t v45 = *(void *)(v46 - 8);
  __chkstk_darwin(v46);
  CGRect v44 = (char *)&v44 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for Shelf.ContentType();
  uint64_t v12 = *(void *)(v11 - 8);
  uint64_t v52 = v11;
  uint64_t v53 = v12;
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v44 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for PageGrid.Direction();
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  id v49 = (char *)&v44 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v20 = (char *)&v44 - v19;
  uint64_t v21 = sub_100082C28(&qword_100986260);
  __chkstk_darwin(v21);
  uint64_t v48 = (uint64_t)&v44 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v23);
  id v25 = (char *)&v44 - v24;
  uint64_t v27 = (char *)&v44 + *(int *)(v26 + 48) - v24;
  sub_100072F9C(a2, (uint64_t)&v44 - v24);
  uint64_t v47 = v27;
  sub_100072F9C(a3, (uint64_t)v27);
  swift_getKeyPath();
  sub_100082C28((uint64_t *)&unk_100986D30);
  ReadOnlyLens.subscript.getter();
  swift_release();
  uint64_t v56 = v16;
  CGRect v28 = *(void (**)(char *, uint64_t, uint64_t))(v16 + 104);
  uint64_t v29 = (unsigned int *)&enum case for PageGrid.Direction.horizontal(_:);
  if (!LOBYTE(v60[0])) {
    uint64_t v29 = (unsigned int *)&enum case for PageGrid.Direction.vertical(_:);
  }
  uint64_t v30 = *v29;
  id v55 = v20;
  uint64_t v57 = v15;
  v28(v20, v30, v15);
  ReviewsDiffablePagePresenter.initialFocusedReviewId.getter();
  uint64_t v31 = v60[3];
  sub_100082BCC((uint64_t)v60, &qword_100981560);
  swift_getKeyPath();
  uint64_t v54 = a1;
  uint64_t v32 = v52;
  ReadOnlyLens.subscript.getter();
  uint64_t v33 = v53;
  swift_release();
  int v34 = *(unsigned int (**)(char *, uint64_t))(v33 + 88);
  id v51 = v14;
  if (v34(v14, v32) == enum case for Shelf.ContentType.productReview(_:))
  {
    uint64_t v35 = (uint64_t)v25;
    double v37 = v55;
    uint64_t v36 = v56;
    uint64_t v38 = v57;
    if (v31)
    {
      uint64_t v39 = v56;
      (*(void (**)(char *, char *, uint64_t))(v56 + 16))(v49, v55, v57);
      sub_10007473C(0.0);
      PageGrid.init(name:direction:containerSize:safeAreaInsets:requiresAdditionalSafeAreaMargins:breakpoints:)();
    }
    else
    {
      uint64_t v43 = (uint64_t)v44;
      PageEnvironment.dynamicTypeSize.getter();
      uint64_t v39 = v36;
      (*(void (**)(char *, char *, uint64_t))(v36 + 16))(v49, v37, v38);
      sub_100255EC4(v43);
      PageGrid.init(name:direction:containerSize:safeAreaInsets:requiresAdditionalSafeAreaMargins:breakpoints:)();
      (*(void (**)(uint64_t, uint64_t))(v45 + 8))(v43, v46);
    }
    (*(void (**)(char *, uint64_t))(v39 + 8))(v37, v38);
    return sub_100082BCC(v35, &qword_100986260);
  }
  else
  {
    v60[0] = v50;
    uint64_t v40 = v48;
    uint64_t v41 = v48 + *(int *)(v21 + 48);
    sub_100072F9C((uint64_t)v25, v48);
    sub_100072F9C((uint64_t)v47, v41);
    sub_10008F80C();
    PageGridCaching.contentPageGrid(for:surroundedBy:containerSize:safeAreaInsets:environment:)();
    (*(void (**)(char *, uint64_t))(v56 + 8))(v55, v57);
    sub_100082BCC((uint64_t)v25, &qword_100986260);
    sub_100082BCC(v41, &qword_100984598);
    sub_100082BCC(v40, &qword_100984598);
    return (*(uint64_t (**)(char *, uint64_t))(v33 + 8))(v51, v32);
  }
}

uint64_t sub_100358BB0()
{
  sub_100358F40();

  return PageGridCaching.contentPageGrid(for:surroundedBy:containerSize:safeAreaInsets:environment:)();
}

uint64_t sub_100358C74()
{
  sub_100358F40();

  return PageGridCaching.supplementaryPageGrid(for:surroundedBy:containerSize:safeAreaInsets:environment:)();
}

uint64_t sub_100358D38(uint64_t a1, uint64_t a2)
{
  unint64_t v4 = sub_100358F9C();

  return PageGridCaching<>.invalidateCache()(a1, v4, a2);
}

uint64_t sub_100358D84@<X0>(uint64_t a1@<X0>, uint64_t a2@<X1>, uint64_t a3@<X2>, uint64_t a4@<X3>, uint64_t a5@<X8>)
{
  return sub_100358590(a1, a2, a3, a4, *v5, v5[2], a5);
}

uint64_t sub_100358D90(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v6 = sub_100082C28(&qword_100986260);
  uint64_t v7 = v6 - 8;
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v17 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)v17 - v11;
  uint64_t v13 = *v3;
  uint64_t v14 = (char *)v17 + *(int *)(v7 + 56) - v11;
  sub_100072F9C(a2, (uint64_t)v17 - v11);
  sub_100072F9C(a3, (uint64_t)v14);
  v17[1] = v13;
  uint64_t v15 = (uint64_t)&v9[*(int *)(v7 + 56)];
  sub_100072F9C((uint64_t)v12, (uint64_t)v9);
  sub_100072F9C((uint64_t)v14, v15);
  sub_10008F80C();
  PageGridCaching.supplementaryPageGrid(for:surroundedBy:containerSize:safeAreaInsets:environment:)();
  sub_100082BCC((uint64_t)v12, &qword_100986260);
  sub_100082BCC(v15, &qword_100984598);
  return sub_100082BCC((uint64_t)v9, &qword_100984598);
}

unint64_t sub_100358F40()
{
  unint64_t result = qword_100991890;
  if (!qword_100991890)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991890);
  }
  return result;
}

unint64_t sub_100358F9C()
{
  unint64_t result = qword_100991898;
  if (!qword_100991898)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991898);
  }
  return result;
}

uint64_t sub_100358FF0()
{
  swift_unknownObjectRelease();
  swift_release();
  swift_release();

  swift_release();
  swift_release();

  swift_release();
  swift_release();
  swift_release();
  sub_100082BCC(v0 + qword_1009918F0, (uint64_t *)&unk_100983860);

  swift_release();
  return sub_100082BCC(v0 + qword_1009E2CC0, &qword_100985970);
}

id sub_1003590F4()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  if (v0[qword_100991900] == 1) {
    v0[qword_100991900] = 0;
  }
  v3.receiver = v0;
  v3.super_class = ObjectType;
  return [super dealloc];
}

id sub_100359144(unsigned char *a1)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  if (a1[qword_100991900] == 1) {
    a1[qword_100991900] = 0;
  }
  v5.receiver = a1;
  v5.super_class = ObjectType;
  objc_super v3 = a1;
  return [super dealloc];
}

uint64_t sub_1003591A4(uint64_t a1)
{
  swift_release();
  swift_release();

  swift_release();
  swift_release();
  swift_release();
  sub_100082BCC(a1 + qword_1009918F0, (uint64_t *)&unk_100983860);

  swift_release();
  return sub_100082BCC(a1 + qword_1009E2CC0, &qword_100985970);
}

uint64_t sub_1003592B4()
{
  return 2;
}

uint64_t sub_1003592BC(uint64_t a1)
{
  return *(unsigned __int8 *)(a1 + qword_1009918A8);
}

void sub_1003592CC(char a1)
{
  double v2 = v1;
  unint64_t v4 = *(unsigned char **)&v1[qword_1009918D0];
  if (v4)
  {
    v4[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_isCardModeEnabled] = v1[qword_1009E2C98];
    objc_super v5 = v4;
    sub_10077B730();
  }
  uint64_t v6 = *(void **)&v2[qword_100991908];
  if (v6) {
    [v6 setHidden:v2[qword_1009E2C98]];
  }
  char v7 = a1 & ~v2[qword_1009E2C98];
  char v8 = sub_10035941C();
  if (v7 & 1) != 0 || (v8)
  {
    v2[qword_1009E2CB0] = 1;
    id v9 = [v2 viewIfLoaded];
    [v9 setNeedsLayout];

    v2[qword_1009918A0] = 1;
    id v10 = [v2 viewIfLoaded];
    [v10 setNeedsLayout];
  }
}

uint64_t sub_10035941C()
{
  uint64_t v1 = v0;
  uint64_t v2 = qword_1009918D0;
  objc_super v3 = *(void **)&v1[qword_1009918D0];
  if (!v3) {
    return 0;
  }
  id v4 = [v3 view];
  if (!v4) {
    return 0;
  }
  objc_super v5 = v4;
  if ((v1[qword_1009E2C98] & 1) != 0
    || !*(void *)&v1[v2]
    || (type metadata accessor for ListTodayCardCollectionViewCell(), !swift_dynamicCastClass()))
  {
    id v12 = [v5 superview];
    id v13 = [v1 view];
    uint64_t v14 = v13;
    if (v12)
    {
      if (v13)
      {
        sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
        id v15 = v12;
        char v16 = static NSObject.== infix(_:_:)();

        if (v16) {
          goto LABEL_16;
        }
LABEL_19:
        uint64_t v17 = self;
        uint64_t v18 = swift_allocObject();
        *(void *)(v18 + 16) = v5;
        *(void *)(v18 + 24) = v1;
        uint64_t v19 = swift_allocObject();
        *(void *)(v19 + 16) = sub_100360F00;
        *(void *)(v19 + 24) = v18;
        uint64_t v38 = sub_10003EC24;
        uint64_t v39 = v19;
        int v34 = _NSConcreteStackBlock;
        uint64_t v35 = 1107296256;
        uint64_t v36 = sub_10003EBD4;
        double v37 = &unk_1008C71D8;
        uint64_t v20 = _Block_copy(&v34);
        uint64_t v21 = v1;
        id v22 = v5;
        swift_retain();
        swift_release();
        [(id)v17 performWithoutAnimation:v20];
        _Block_release(v20);
        LOBYTE(v17) = swift_isEscapingClosureAtFileLocation();
        uint64_t result = swift_release();
        if ((v17 & 1) == 0)
        {
          uint64_t result = (uint64_t)[v21 view];
          if (result)
          {
            uint64_t v24 = (void *)result;
            uint64_t result = (uint64_t)[v21 collectionView];
            if (result)
            {
              id v25 = (void *)result;
              [v24 insertSubview:v22 aboveSubview:result];

              if ([v22 effectiveUserInterfaceLayoutDirection] == (id)1)
              {
                id v26 = [v22 layer];
                [v26 setFlipsHorizontalAxis:0];
                swift_release();

LABEL_33:
                return 1;
              }
LABEL_32:
              swift_release();
              goto LABEL_33;
            }
            goto LABEL_38;
          }
LABEL_37:
          __break(1u);
LABEL_38:
          __break(1u);
          goto LABEL_39;
        }
        __break(1u);
LABEL_36:
        __break(1u);
        goto LABEL_37;
      }
      uint64_t v14 = v12;
    }
    else if (!v13)
    {
      goto LABEL_16;
    }

    goto LABEL_19;
  }
  id v6 = [v5 superview];
  id v7 = [v1 collectionView];
  char v8 = v7;
  if (!v6)
  {
    if (!v7) {
      goto LABEL_16;
    }
LABEL_27:

    goto LABEL_28;
  }
  if (!v7)
  {
    char v8 = v6;
    goto LABEL_27;
  }
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  id v9 = v6;
  char v10 = static NSObject.== infix(_:_:)();

  if (v10)
  {
LABEL_16:

    return 0;
  }
LABEL_28:
  uint64_t v27 = self;
  uint64_t v28 = swift_allocObject();
  *(void *)(v28 + 16) = v5;
  *(void *)(v28 + 24) = v1;
  uint64_t v29 = swift_allocObject();
  *(void *)(v29 + 16) = sub_100360F3C;
  *(void *)(v29 + 24) = v28;
  uint64_t v38 = sub_1000E9854;
  uint64_t v39 = v29;
  int v34 = _NSConcreteStackBlock;
  uint64_t v35 = 1107296256;
  uint64_t v36 = sub_10003EBD4;
  double v37 = &unk_1008C7250;
  uint64_t v30 = _Block_copy(&v34);
  uint64_t v31 = v1;
  swift_retain();
  id v22 = v5;
  swift_release();
  [(id)v27 performWithoutAnimation:v30];
  _Block_release(v30);
  LOBYTE(v27) = swift_isEscapingClosureAtFileLocation();
  uint64_t result = swift_release();
  if (v27) {
    goto LABEL_36;
  }
  uint64_t result = (uint64_t)[v31 collectionView];
  if (result)
  {
    uint64_t v32 = (void *)result;
    [(id)result insertSubview:v22 atIndex:0];

    if ([v22 effectiveUserInterfaceLayoutDirection] == (id)1)
    {
      id v33 = [v22 layer];
      uint64_t v11 = 1;
      [v33 setFlipsHorizontalAxis:1];
      swift_release();

      return v11;
    }
    goto LABEL_32;
  }
LABEL_39:
  __break(1u);
  return result;
}

void sub_1003599C4(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_overlayViewController;
  id v4 = *(id *)&v1[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_overlayViewController];
  id v5 = a1;
  static ViewControllerContainment.remove(_:)();

  id v6 = *(void **)&v1[v3];
  *(void *)&v1[v3] = a1;
  id v14 = v5;

  id v7 = *(id *)&v1[v3];
  sub_100359B1C();
  static ViewControllerContainment.add(_:to:frame:)();

  if (*(void *)&v1[v3]
    && (type metadata accessor for JULoadingViewController(), swift_dynamicCastClass())
    && (char v8 = *(void **)&v1[qword_1009918D0]) != 0
    && (id v9 = [v8 viewIfLoaded]) != 0)
  {
    char v10 = v9;
    id v11 = [v1 view];
    if (!v11)
    {
      __break(1u);
      return;
    }
    id v12 = v11;
    [v11 bringSubviewToFront:v10];

    id v13 = v12;
  }
  else
  {
    id v13 = v14;
  }
}

void sub_100359B1C()
{
  uint64_t v1 = v0;
  uint64_t v2 = *(void **)&v0[qword_1009918D0];
  if (!v2
    || !*(void *)&v0[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_overlayViewController]
    || (type metadata accessor for JULoadingViewController(), !swift_dynamicCastClass()))
  {
    id v11 = [v0 view];
    if (v11)
    {
      id v12 = v11;
      [v11 bounds];

      return;
    }
    __break(1u);
    goto LABEL_12;
  }
  uint64_t v3 = v2;
  id v4 = [v1 view];
  if (!v4)
  {
LABEL_12:
    __break(1u);
    return;
  }
  id v5 = v4;
  [v4 bounds];
  double v7 = v6;

  char v8 = *(void **)&v3[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
  if (v8)
  {
    uint64_t v9 = *(void *)&v3[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell + 8];
    id v10 = *(id *)&v3[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
  }
  else
  {
    uint64_t v9 = *(void *)&v3[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell + 8];
    id v10 = *(id *)&v3[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell];
    char v8 = 0;
  }
  id v13 = v8;
  sub_10077C204(v7, (uint64_t)v10, v9);
}

void sub_100359CAC()
{
  uint64_t v1 = v0;
  v14.receiver = v0;
  v14.super_class = (Class)swift_getObjectType();
  [super viewDidLoad];
  uint64_t v2 = type metadata accessor for Feature.iOS();
  uint64_t v13[3] = v2;
  void v13[4] = sub_100361FA0((unint64_t *)&qword_10098A9B0, (void (*)(uint64_t))&type metadata accessor for Feature.iOS);
  uint64_t v3 = sub_1000808B8(v13);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v2 - 8) + 104))(v3, enum case for Feature.iOS.today_tab_largest_ax_support(_:), v2);
  LOBYTE(v2) = isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v13);
  if ((v2 & 1) == 0)
  {
    id v4 = [v1 view];
    if (!v4)
    {
LABEL_13:
      __break(1u);
      return;
    }
    id v5 = v4;
    [v4 setMaximumContentSizeCategory:UIContentSizeCategoryAccessibilityExtraLarge];
  }
  id v6 = [v1 view];
  if (!v6) {
    goto LABEL_11;
  }
  double v7 = v6;
  type metadata accessor for InsetCollectionViewControllerContentView();
  uint64_t v8 = swift_dynamicCastClass();
  if (!v8)
  {

LABEL_11:
    __break(1u);
    goto LABEL_12;
  }
  *(unsigned char *)(v8
           + OBJC_IVAR____TtC8AppStoreP33_F9B20E6387F6F627D5761E6B0A83FE5540InsetCollectionViewControllerContentView_insetLayoutMarginsFromTopSafeAreaInset) = 0;

  uint64_t v9 = *(void **)&v1[qword_1009E2CB8];
  [v9 addTarget:v1 action:"dismissAnimated" forControlEvents:64];
  id v10 = [v1 view];
  if (!v10)
  {
LABEL_12:
    __break(1u);
    goto LABEL_13;
  }
  id v11 = v10;
  [v10 addSubview:v9];

  type metadata accessor for ArticleLinkLoaderScrollObserver();
  swift_allocObject();
  uint64_t v12 = sub_1005AC30C();
  sub_10036196C(v12, &qword_1009918D8, &qword_100992028, (void (*)(uint64_t))type metadata accessor for ArticleLinkLoaderScrollObserver);
  swift_release();
  if (*(void *)&v1[qword_1009918D0]) {
    sub_10035941C();
  }
}

void sub_100359F04(void *a1)
{
  id v1 = a1;
  sub_100359CAC();
}

id sub_100359F4C(char a1)
{
  v11.receiver = v1;
  v11.super_class = (Class)swift_getObjectType();
  [super viewWillAppear:a1 & 1];
  id result = [v1 view];
  if (!result)
  {
    __break(1u);
    goto LABEL_7;
  }
  id v4 = result;
  id result = [v1 collectionView];
  if (!result)
  {
LABEL_7:
    __break(1u);
    return result;
  }
  id v5 = result;
  id v6 = [result panGestureRecognizer];

  [v4 addGestureRecognizer:v6];
  id v7 = [v1 navigationController];
  if (v7)
  {
    uint64_t v8 = v7;
    [v7 setNavigationBarHidden:1 animated:0];
  }
  uint64_t v9 = swift_allocObject();
  *(void *)(v9 + 16) = v1;
  id v10 = v1;
  sub_100360F78(sub_100361F80, v9, static CondensedEditorialSearchResultContentView.prefetchArtwork(for:with:asPartOf:), 0, v10, v10);
  return (id)swift_release();
}

void sub_10035A0B8(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_100359F4C(a3);
}

void sub_10035A10C(void *a1, uint64_t a2, uint64_t a3)
{
  v6.receiver = a1;
  v6.super_class = (Class)swift_getObjectType();
  id v4 = v6.receiver;
  [super viewDidAppear:a3];
  v4[qword_1009918A0] = 1;
  id v5 = [v4 viewIfLoaded];
  [v5 setNeedsLayout];
}

void sub_10035A1A8(char a1)
{
  v18.receiver = v1;
  v18.super_class = (Class)swift_getObjectType();
  [super viewWillDisappear:a1 & 1];
  id v3 = [v1 navigationController];
  if (!v3) {
    goto LABEL_10;
  }
  id v4 = v3;
  id v5 = [v3 viewControllers];

  sub_100084CF0(0, (unint64_t *)&qword_100982B30);
  unint64_t v6 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

  if (v6 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v9 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (v9) {
      goto LABEL_4;
    }
    goto LABEL_9;
  }
  if (!*(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
LABEL_9:
    swift_bridgeObjectRelease();
LABEL_10:
    BOOL v8 = 0;
    goto LABEL_11;
  }
LABEL_4:
  if ((v6 & 0xC000000000000001) != 0)
  {
    uint64_t v7 = specialized _ArrayBuffer._getElementSlowPath(_:)();
    swift_unknownObjectRelease();
  }
  else
  {
    if (!*(void *)((v6 & 0xFFFFFFFFFFFFFF8) + 0x10))
    {
      __break(1u);
      return;
    }
    uint64_t v7 = *(void *)(v6 + 32);
  }
  swift_bridgeObjectRelease();
  BOOL v8 = v7 == (void)v1;
LABEL_11:
  id v10 = [v1 navigationController];
  if (v10)
  {
    objc_super v11 = v10;
    id v12 = [v10 viewControllers];

    sub_100084CF0(0, (unint64_t *)&qword_100982B30);
    unint64_t v13 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    if (v13 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v14 = _CocoaArrayWrapper.endIndex.getter();
      swift_bridgeObjectRelease();
    }
    else
    {
      uint64_t v14 = *(void *)((v13 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    if (v14 > 1 && v8)
    {
      id v16 = [v1 navigationController];
      if (v16)
      {
        uint64_t v17 = v16;
        [v16 setNavigationBarHidden:0 animated:0];
      }
    }
  }
}

void sub_10035A3E4(void *a1, uint64_t a2, char a3)
{
  id v4 = a1;
  sub_10035A1A8(a3);
}

void sub_10035A438(void *a1, uint64_t a2, void *a3, void *a4)
{
  v12.receiver = a1;
  v12.super_class = (Class)swift_getObjectType();
  id v6 = a3;
  swift_unknownObjectRetain();
  id v7 = v12.receiver;
  [super willTransitionToTraitCollection:v6 withTransitionCoordinator:a4];
  uint64_t v8 = swift_allocObject();
  *(void *)(v8 + 16) = v7;
  uint64_t v11[4] = sub_100361F60;
  v11[5] = v8;
  v11[0] = _NSConcreteStackBlock;
  v11[1] = 1107296256;
  v11[2] = sub_1006DEF0C;
  v11[3] = &unk_1008C7598;
  uint64_t v9 = _Block_copy(v11);
  id v10 = v7;
  swift_release();
  [a4 animateAlongsideTransition:v9 completion:0];
  _Block_release(v9);

  swift_unknownObjectRelease();
}

void sub_10035A574(void *a1, double a2, double a3)
{
  v11.receiver = v3;
  v11.super_class = (Class)swift_getObjectType();
  [super viewWillTransitionToSize:a1 withTransitionCoordinator:a2];
  if ([v3 isViewLoaded])
  {
    uint64_t v7 = swift_allocObject();
    *(void *)(v7 + 16) = v3;
    v10[4] = sub_100361F58;
    uint64_t v10[5] = v7;
    v10[0] = _NSConcreteStackBlock;
    v10[1] = 1107296256;
    v10[2] = sub_1006DEF0C;
    v10[3] = &unk_1008C7548;
    uint64_t v8 = _Block_copy(v10);
    id v9 = v3;
    swift_release();
    [a1 animateAlongsideTransition:0 completion:v8];
    _Block_release(v8);
  }
}

void sub_10035A69C(int a1, unsigned char *a2)
{
  a2[qword_1009E2CB0] = 1;
  id v3 = [a2 viewIfLoaded];
  [v3 setNeedsLayout];

  a2[qword_1009918A0] = 1;
  id v4 = [a2 viewIfLoaded];
  [v4 setNeedsLayout];

  sub_10035A73C();
}

void sub_10035A73C()
{
  id v1 = v0;
  uint64_t v2 = type metadata accessor for IndexPath();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  id v5 = (char *)&v20 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = ArticleDiffablePagePresenter.footerVisibilitySectionThreshold.getter();
  if ((v7 & 1) == 0)
  {
    uint64_t v8 = v6;
    id v9 = [v1 collectionView];
    if (v9)
    {
      id v10 = v9;
      id v11 = [v9 numberOfSections];

      if (v8 >= (uint64_t)v11) {
        return;
      }
    }
    else if ((v8 & 0x8000000000000000) == 0)
    {
      return;
    }
    id v12 = [v1 collectionView];
    if (v12)
    {
      unint64_t v13 = v12;
      id v14 = [v12 collectionViewLayout];

      IndexPath.init(item:section:)();
      Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
      (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
      id v16 = [v14 layoutAttributesForItemAtIndexPath:isa];

      if (v16)
      {
        uint64_t v17 = *(void *)&v1[qword_100991910];
        if (v17)
        {
          swift_retain();
          [v14 collectionViewContentSize];
          double v19 = v18;
          [v16 frame];
          *(double *)(v17 + 48) = v19 - CGRectGetMinY(v21);
          sub_10026738C(1);
          swift_release();
        }
      }
      else
      {
        id v16 = v14;
      }
    }
    else
    {
      __break(1u);
    }
  }
}

void sub_10035A958(void *a1, double a2, double a3, uint64_t a4, void *a5)
{
  swift_unknownObjectRetain();
  id v9 = a1;
  sub_10035A574(a5, a2, a3);
  swift_unknownObjectRelease();
}

void sub_10035A9D8()
{
  v9.receiver = v0;
  v9.super_class = (Class)swift_getObjectType();
  [super viewWillLayoutSubviews];
  id v1 = [v0 view];
  if (!v1)
  {
    __break(1u);
LABEL_8:
    __break(1u);
    goto LABEL_9;
  }
  uint64_t v2 = v1;
  [v1 bringSubviewToFront:*(void *)&v0[qword_1009E2CB8]];

  uint64_t v3 = *(void **)&v0[qword_100991908];
  if (!v3) {
    return;
  }
  id v4 = v3;
  id v5 = [v0 view];
  if (!v5) {
    goto LABEL_8;
  }
  uint64_t v6 = v5;
  id v7 = [v0 collectionView];
  if (!v7)
  {
LABEL_9:
    __break(1u);
    return;
  }
  uint64_t v8 = v7;
  [v6 insertSubview:v4 aboveSubview:v7];
}

void sub_10035AAE0(void *a1)
{
  id v1 = a1;
  sub_10035A9D8();
}

void sub_10035AB28()
{
  id v1 = v0;
  v106.receiver = v0;
  v106.super_class = (Class)swift_getObjectType();
  [super viewDidLayoutSubviews];
  if (v0[qword_1009918A0] == 1)
  {
    v0[qword_1009918A0] = 0;
    sub_10035B244();
  }
  [v0 pageMarginInsets];
  [v0 pageMarginInsets];
  [v0 pageMarginInsets];
  [v0 pageMarginInsets];
  uint64_t v2 = &stru_100950000;
  id v3 = [v0 view];
  if (!v3)
  {
    __break(1u);
    goto LABEL_42;
  }
  id v4 = v3;
  [v3 bounds];
  CGFloat v6 = v5;
  CGFloat v8 = v7;
  double v10 = v9;
  double v12 = v11;

  unint64_t v13 = *(void **)&v1[qword_1009E2CB8];
  [v13 sizeThatFits:v10, v12];
  uint64_t v14 = qword_1009918D0;
  uint64_t v15 = *(void *)&v1[qword_1009918D0];
  if (v15
    && (id v16 = *(void **)(v15 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell),
        type metadata accessor for ListTodayCardCollectionViewCell(),
        swift_dynamicCastClass()))
  {
    id v17 = v16;
    [sub_100380FF0() frame];
    CGRectGetMaxX(v107);

    uint64_t v2 = &stru_100950000;
  }
  else
  {
    v108.origin.CGFloat x = v6;
    v108.origin.CGFloat y = v8;
    v108.size.CGFloat width = v10;
    v108.size.CGFloat height = v12;
    CGRectGetMaxX(v108);
  }
  v109.origin.CGFloat x = v6;
  v109.origin.CGFloat y = v8;
  v109.size.CGFloat width = v10;
  v109.size.CGFloat height = v12;
  CGRectGetMinY(v109);
  CGFloat v102 = v8;
  CGFloat v103 = v6;
  CGFloat v100 = v12;
  CGFloat v101 = v10;
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v13 setFrame:];
  dispatch thunk of ImageAlignedButton.touchOutsideMargin.setter();
  uint64_t v18 = qword_1009E2C98;
  if (v1[qword_1009E2C98] == 1)
  {
    double v19 = *(void **)&v1[v14];
    if (!v19) {
      goto LABEL_30;
    }
    id v20 = [v19 view];
    if (!v20)
    {
LABEL_17:
      if (v1[v18]) {
        goto LABEL_30;
      }
      goto LABEL_18;
    }
    CGRect v21 = v20;
    [v20 frame];
    double v23 = v22;
    id v24 = [v1 view];
    id v25 = v24;
    if (v23 >= 0.0)
    {
      if (v24)
      {
        [v24 bounds];
        double v27 = v46;
        double v41 = v47;
        double v43 = v48;
        double v45 = v49;

        goto LABEL_16;
      }
LABEL_43:
      __break(1u);
      return;
    }
    if (v24)
    {
      [v24 bounds];
      double v27 = v26;
      uint64_t v29 = v28;
      uint64_t v31 = v30;
      uint64_t v33 = v32;

      int v34 = self;
      [v34 inheritedAnimationDuration];
      double v36 = v35 * 0.8;
      double v37 = (double *)swift_allocObject();
      *((void *)v37 + 2) = v21;
      v37[3] = v27;
      *((void *)v37 + 4) = v29;
      *((void *)v37 + 5) = v31;
      *((void *)v37 + 6) = v33;
      aBlock[4] = sub_100361F48;
      aBlock[5] = v37;
      aBlock[0] = _NSConcreteStackBlock;
      aBlock[1] = 1107296256;
      aBlock[2] = sub_1000162D4;
      aBlock[3] = &unk_1008C74F8;
      uint64_t v38 = _Block_copy(aBlock);
      id v39 = v21;
      swift_release();
      [v34 animateWithDuration:612 delay:v38 usingSpringWithDamping:0 initialSpringVelocity:v36 options:0.0 animations:0.92 completion:0.0];
      _Block_release(v38);
      [v39 frame];
      [v39 setFrame:];
      [v39 frame];
      double v41 = v40;
      double v43 = v42;
      double v45 = v44;
      uint64_t v2 = &stru_100950000;
LABEL_16:
      [v21 setFrame:v27, v41, v43, v45];

      goto LABEL_17;
    }
LABEL_42:
    __break(1u);
    goto LABEL_43;
  }
LABEL_18:
  uint64_t v50 = *(void *)&v1[qword_1009918E0];
  if (v50)
  {
    id v51 = *(void **)(v50 + 24);
    swift_retain();
    [v51 _systemContentInset];
    double v53 = v52;
    double v55 = v54;
    [v51 contentOffset];
    double v57 = v56;
    double v59 = v58;
    [v51 contentInset];
    double v61 = v55 + v57 + v60;
    double v63 = v53 + v59 + v62;
    [v51 bounds];
    double v65 = sub_1000F3E14(v61, v63, v64);
    double v67 = v66;
    double v69 = v68;
    double v71 = v70;
    swift_release();
  }
  else
  {
    double v69 = 0.0;
    double v71 = 0.0;
    double v65 = 0.0;
    double v67 = 0.0;
  }
  uint64_t v72 = qword_1009E2CB0;
  if (v1[qword_1009E2CB0]) {
    goto LABEL_22;
  }
  v110.origin.CGFloat x = v65;
  v110.origin.CGFloat y = v67;
  v110.size.CGFloat width = v69;
  v110.size.CGFloat height = v71;
  double Width = CGRectGetWidth(v110);
  uint64_t v77 = *(void **)&v1[v14];
  if (!v77)
  {
LABEL_29:
    sub_10035B6A0(v65, v67, v69, v71);
    v1[v72] = 0;
    goto LABEL_30;
  }
  double v78 = Width;
  id v79 = [v77 v2[198].attr];
  if (!v79) {
    goto LABEL_22;
  }
  uint64_t v80 = v79;
  [v79 frame];
  CGFloat v82 = v81;
  CGFloat v84 = v83;
  CGFloat v86 = v85;
  CGFloat recta = v87;

  v111.origin.CGFloat x = v82;
  v111.origin.CGFloat y = v84;
  v111.size.CGFloat width = v86;
  v111.size.CGFloat height = recta;
  if (v78 != CGRectGetWidth(v111))
  {
LABEL_22:
    id v73 = *(void **)&v1[v14];
    if (v73)
    {
      id v74 = [v73 v2[198].attr];
      if (v74)
      {
        uint64_t v75 = v74;
        [v74 setFrame:v65, v67, v69, v71];
      }
    }
    goto LABEL_29;
  }
LABEL_30:
  uint64_t v88 = *(void **)&v1[qword_100991908];
  if (v88)
  {
    id v89 = v88;
    id v90 = [v1 traitCollection];
    char v91 = UITraitCollection.isRegularPad.getter();

    if (v91) {
      double v92 = 80.0;
    }
    else {
      double v92 = 8.0;
    }
    v112.origin.CGFloat y = v102;
    v112.origin.CGFloat x = v103;
    v112.size.CGFloat height = v100;
    v112.size.CGFloat width = v101;
    CGRect v113 = CGRectInset(v112, v92, 0.0);
    double v93 = sub_100285824(v113.size.width, v113.size.height);
    double v95 = v94;
    [v89 frame];
    if (v93 != v97 || v95 != v96)
    {
      id v98 = v89;
      [v98 frame];
      [v98 setFrame:v92];

      id v99 = v98;
      [v99 frame];
      [v99 setFrame:];
    }
    if (*(void *)&v1[qword_100991910])
    {
      swift_retain();
      sub_10026738C(1);
      swift_release();
    }
  }
}

void sub_10035B244()
{
  id v1 = v0;
  id v2 = [v0 collectionView];
  if (v2)
  {
    id v3 = v2;
    [v2 contentInset];
    double v6 = v5;
    double v8 = v7;
    double v10 = v9;
    double v11 = &unk_100991000;
    if (v0[qword_1009E2C98] == 1 && (double v12 = *(void **)&v0[qword_1009918D0]) != 0)
    {
      unint64_t v13 = v12;
      id v14 = [v1 view];
      if (!v14)
      {
        __break(1u);
        return;
      }
      uint64_t v15 = v14;
      [v14 bounds];
      double v17 = v16;

      uint64_t v18 = *(void **)&v13[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
      if (v18)
      {
        uint64_t v19 = *(void *)&v13[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell + 8];
        id v20 = *(id *)&v13[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
      }
      else
      {
        uint64_t v19 = *(void *)&v13[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell + 8];
        id v20 = *(id *)&v13[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell];
        uint64_t v18 = 0;
      }
      id v71 = v18;
      sub_10077C204(v17, (uint64_t)v20, v19);
      double Height = v72;
    }
    else
    {
      uint64_t v21 = *(void *)&v0[qword_1009918E0];
      if (v21)
      {
        double v22 = *(void **)(v21 + 24);
        swift_retain();
        [v22 _systemContentInset];
        double v24 = v23;
        double v26 = v25;
        [v22 contentOffset];
        double v28 = v27;
        double v30 = v29;
        [v22 contentInset];
        double v32 = v26 + v28 + v31;
        double v34 = v24 + v30 + v33;
        [v22 bounds];
        v81.origin.CGFloat x = sub_1000F3E14(v32, v34, v35);
        double Height = CGRectGetHeight(v81);
        double v37 = *(void **)&v0[qword_1009918D0];
        if (v37)
        {
          id v38 = [v37 view];
          if (v38)
          {
            id v39 = v38;
            [v22 _systemContentInset];
            double v41 = v40;
            double v43 = v42;
            [v22 contentOffset];
            double v45 = v44;
            double v47 = v46;
            [v22 contentInset];
            double v49 = v43 + v45 + v48;
            double v51 = v41 + v47 + v50;
            [v22 bounds];
            [v39 setFrame:sub_1000F3E14(v49, v51, v52)];
          }
        }
        double v53 = *(void **)(v21 + 24);
        [v53 _systemContentInset];
        double v55 = v54;
        double v57 = v56;
        [v53 contentOffset];
        double v59 = v58;
        double v61 = v60;
        [v53 contentInset];
        double v63 = v57 + v59 + v62;
        double v65 = v55 + v61 + v64;
        [v53 bounds];
        double v67 = sub_1000F3E14(v63, v65, v66);
        sub_10035B6A0(v67, v68, v69, v70);
        swift_release();
        double v10 = 0.0;
        double v8 = 0.0;
        double v6 = 0.0;
        double v11 = (void *)&unk_100991000;
      }
      else
      {
        double Height = v4;
      }
    }
    [v3 contentOffset];
    double v74 = v73;
    double v76 = v75;
    [v3 setContentInset:Height, v6, v8, v10];
    [v3 setContentOffset:v74, v76];
    double v77 = Height;
    if (*(void *)&v1[v11[282]])
    {
      type metadata accessor for LegacyListTodayCardCollectionViewCell();
      if (swift_dynamicCastClass()
        || (type metadata accessor for ListTodayCardCollectionViewCell(),
            uint64_t v78 = swift_dynamicCastClass(),
            double v77 = Height,
            v78))
      {
        double v77 = 0.0;
      }
    }
    [v3 setScrollIndicatorInsets:v77, 0.0, v8, 0.0];
    id v79 = v3;
    [v79 contentOffset];
    [v79 setContentOffset:];
  }
}

id sub_10035B6A0(double a1, double a2, double a3, double a4)
{
  double v5 = v4;
  uint64_t v10 = type metadata accessor for ImpressionMetrics.ID();
  uint64_t v39 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  double v12 = (char *)&v36 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v13 - 8);
  uint64_t v15 = (char *)&v36 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for ImpressionMetrics();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v36 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v20 = *(id *)&v4[qword_1009918E8];
  if (v20 || (id result = (id)ArticleDiffablePagePresenter.todayCard.getter(), (v20 = result) != 0))
  {
    swift_retain();
    TodayCard.impressionMetrics.getter();
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v17 + 48))(v15, 1, v16) == 1)
    {
      swift_release();
      return (id)sub_100082BCC((uint64_t)v15, &qword_100985970);
    }
    (*(void (**)(char *, char *, uint64_t))(v17 + 32))(v19, v15, v16);
    id v22 = [v4 collectionView];
    if (v22)
    {
      double v23 = v22;
      uint64_t v24 = TimedMetricsPagePresenter.impressionsCalculator.getter();
      id result = [v4 view];
      if (!result)
      {
        __break(1u);
        return result;
      }
      double v25 = result;
      [result convertRect:v23 toCoordinateSpace:a1, a2, a3, a4];

      uint64_t v38 = v24;
      ImpressionsCalculator.addElement(_:at:)();
      ImpressionMetrics.id.getter();
      uint64_t v26 = qword_1009918D0;
      uint64_t v27 = *(void *)&v5[qword_1009918D0];
      id v37 = v23;
      if (v27)
      {
        [*(id *)(v27 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell) bounds];
      }
      else
      {
        uint64_t v28 = 0;
        uint64_t v29 = 0;
        uint64_t v30 = 0;
        uint64_t v31 = 0;
      }
      v40[5] = v28;
      v40[6] = v29;
      v40[7] = v30;
      v40[8] = v31;
      BOOL v41 = v27 == 0;
      uint64_t v32 = ImpressionsCalculator.childCalculator(for:viewBounds:)();
      (*(void (**)(char *, uint64_t))(v39 + 8))(v12, v10);
      if (v32)
      {
        uint64_t v33 = *(void *)&v5[v26];
        if (v33)
        {
          double v34 = *(void **)(v33 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell);
          swift_getObjectType();
          uint64_t v40[3] = type metadata accessor for TodayCard();
          v40[4] = sub_100361FA0((unint64_t *)&qword_10098B840, (void (*)(uint64_t))&type metadata accessor for TodayCard);
          v40[0] = v20;
          id v35 = v34;
          swift_retain();
          dispatch thunk of NestedModelImpressionsRecording.startRecordingNestedImpressions(for:using:)();

          swift_release();
          swift_release();

          swift_release();
          (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
          return (id)_s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v40);
        }
        (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
        swift_release();
      }
      else
      {
        (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
      }
      swift_release();
    }
    else
    {
      (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
    }
    return (id)swift_release();
  }
  return result;
}

void sub_10035BB84(void *a1)
{
  id v1 = a1;
  sub_10035AB28();
}

void sub_10035BBCC(void *a1)
{
  id v2 = v1;
  v34.receiver = v1;
  v34.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  v1[qword_1009918A0] = 1;
  id v4 = [v1 viewIfLoaded];
  [v4 setNeedsLayout];

  uint64_t v5 = *(void *)&v2[qword_1009918C0];
  if (v5)
  {
    swift_retain();
    id v6 = [v2 traitCollection];
    uint64_t v7 = OBJC_IVAR____TtC8AppStore39ArticleCloseButtonAppearanceCoordinator_traitCollection;
    double v8 = *(void **)(v5 + OBJC_IVAR____TtC8AppStore39ArticleCloseButtonAppearanceCoordinator_traitCollection);
    *(void *)(v5 + OBJC_IVAR____TtC8AppStore39ArticleCloseButtonAppearanceCoordinator_traitCollection) = v6;
    id v9 = v6;
    id v10 = [v9 userInterfaceStyle];
    if (v10 == [v8 userInterfaceStyle])
    {
      id v11 = *(id *)(v5 + v7);
      int v12 = UITraitCollection.prefersAccessibilityLayouts.getter();

      if (((v12 ^ UITraitCollection.prefersAccessibilityLayouts.getter()) & 1) == 0)
      {
        swift_release();

        if (!a1) {
          return;
        }
        goto LABEL_9;
      }
    }
    char v13 = *(unsigned char *)(v5 + 24);
    id v14 = *(id *)(v5 + v7);
    static CGFloat.solvedValue(between:and:forInput:)();
    double v16 = v15;
    sub_100082C28(&qword_100991F18);
    AccessibilityConditional.value(with:)();
    if (v13)
    {
      char v17 = 0;
      char v33 = 0;
    }
    else
    {
      char v17 = v33;
    }
    uint64_t v18 = *(void **)(v5 + 16);
    uint64_t v19 = self;
    uint64_t v20 = swift_allocObject();
    *(void *)(v20 + 16) = v18;
    *(unsigned char *)(v20 + 24) = v17;
    aBlock[4] = sub_100361F04;
    aBlock[5] = v20;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_1000162D4;
    aBlock[3] = &unk_1008C74A8;
    uint64_t v21 = _Block_copy(aBlock);
    id v22 = v18;
    swift_release();
    [v19 animateWithDuration:4 delay:v21 options:0 animations:v16 completion:0.0];
    _Block_release(v21);
    swift_release();
  }
  if (!a1) {
    return;
  }
LABEL_9:
  id v23 = a1;
  if ([v23 horizontalSizeClass]
    && (id v24 = [v2 traitCollection],
        id v25 = [v24 horizontalSizeClass],
        v24,
        v25 != [v23 horizontalSizeClass])
    && ((uint64_t v26 = *(void *)&v2[qword_1009918E8]) != 0 || (uint64_t v26 = ArticleDiffablePagePresenter.todayCard.getter()) != 0))
  {
    uint64_t v27 = *(void *)&v2[qword_1009918D0];
    if (v27)
    {
      uint64_t v28 = v27 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell;
      uint64_t v30 = *(void **)v28;
      uint64_t v29 = *(void *)(v28 + 8);
      swift_retain();
      id v31 = v30;
      sub_10035BF88(v26, v31, v29, 5u);

      swift_release();
    }
    else
    {
      swift_retain();

      swift_release();
    }
  }
  else
  {
  }
}

uint64_t sub_10035BF88(uint64_t a1, void *a2, uint64_t a3, unsigned int a4)
{
  uint64_t v5 = v4;
  unsigned int v34 = a4;
  uint64_t v9 = type metadata accessor for Logger();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  int v12 = (char *)&v30 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for PageGrid();
  uint64_t v32 = *(void *)(v13 - 8);
  uint64_t v33 = v13;
  __chkstk_darwin(v13);
  double v15 = (char *)&v30 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  double v16 = *(void **)&v4[qword_1009918D0];
  if (v16)
  {
    type metadata accessor for ArticleHeaderViewController();
    id v17 = v16;
    sub_10077B334(v17);
  }
  else
  {
    type metadata accessor for ArticleHeaderViewController();
    sub_10077B334(v4);
    Logger.init()();
    uint64_t v18 = Logger.logObject.getter();
    uint64_t v19 = static os_log_type_t.fault.getter();
    if (os_log_type_enabled(v18, (os_log_type_t)v19))
    {
      uint64_t v20 = (uint8_t *)swift_slowAlloc();
      uint64_t v31 = v10;
      *(_WORD *)uint64_t v20 = 0;
      _os_log_impl((void *)&_mh_execute_header, v18, (os_log_type_t)v19, "ArticleDiffablePageViewController: header page grid derived from self unexpected", v20, 2u);
      uint64_t v10 = v31;
      swift_slowDealloc();
    }

    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  }
  unsigned int v21 = v34;
  uint64_t v22 = v34;
  if (v34 == 7)
  {
    id v23 = [v5 traitCollection];
    char v24 = UITraitCollection.isRegularPad.getter();
    type metadata accessor for ListTodayCardCollectionViewCell();
    if (swift_dynamicCastClass())
    {
      uint64_t ObjectType = swift_getObjectType();
      int v26 = (*(unsigned __int8 (**)(uint64_t, uint64_t))(a3 + 160))(ObjectType, a3);

      if (v26 == 6)
      {
        unsigned int v27 = 6;
LABEL_12:
        if (v24) {
          uint64_t v22 = v27;
        }
        else {
          uint64_t v22 = 5;
        }
        unsigned int v21 = v34;
        goto LABEL_16;
      }
    }
    else
    {
    }
    unsigned int v27 = 1;
    goto LABEL_12;
  }
LABEL_16:
  uint64_t v28 = swift_getObjectType();
  (*(void (**)(BOOL, uint64_t, uint64_t))(a3 + 96))((v5[qword_1009E2C98] & 1) == 0, v28, a3);
  (*(void (**)(uint64_t, uint64_t, char *, void, uint64_t, uint64_t))(a3 + 264))(a1, v22, v15, *(void *)&v5[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph], v28, a3);
  sub_10035DAF0(a1, a2, a3, (uint64_t)v15, v21);
  v35[3] = type metadata accessor for TodayCard();
  unsigned char v35[4] = &protocol witness table for TodayCard;
  v35[0] = a1;
  swift_retain();
  dispatch thunk of CellWithManagedArtwork.fetch(for:on:asPartOf:)();
  (*(void (**)(char *, uint64_t))(v32 + 8))(v15, v33);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v35);
}

void sub_10035C364(void *a1, uint64_t a2, void *a3)
{
  id v5 = a3;
  id v6 = a1;
  sub_10035BBCC(a3);
}

uint64_t sub_10035C3D0()
{
  swift_getObjectType();
  uint64_t v0 = sub_100082C28(&qword_100991F88);
  uint64_t v16 = *(void *)(v0 - 8);
  uint64_t v17 = v0;
  __chkstk_darwin(v0);
  double v15 = (char *)&v11 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_100082C28(&qword_100991F90);
  uint64_t v13 = *(void *)(v2 - 8);
  uint64_t v14 = v2;
  __chkstk_darwin(v2);
  int v12 = (char *)&v11 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_100082C28(&qword_100991F98);
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v11 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10043B5BC();
  ArticleDiffablePagePresenter.onPrepareToDisplayTodayCard.getter();
  sub_100082C28(&qword_100991FA0);
  sub_1000DD560(&qword_100991FA8, &qword_100991FA0);
  dispatch thunk of static EventEmitter.defaultScheduler.getter();
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v18);
  (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  ArticleDiffablePagePresenter.onShowFooterLockup.getter();
  sub_100082C28(&qword_100991FB0);
  sub_1000DD560(&qword_100991FB8, &qword_100991FB0);
  dispatch thunk of static EventEmitter.defaultScheduler.getter();
  double v8 = v12;
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v18);
  (*(void (**)(char *, uint64_t))(v13 + 8))(v8, v14);
  ArticleDiffablePagePresenter.onPrefetchLinkPresentations.getter();
  sub_100082C28(&qword_100991FC0);
  sub_1000DD560(&qword_100991FC8, &qword_100991FC0);
  dispatch thunk of static EventEmitter.defaultScheduler.getter();
  uint64_t v9 = v15;
  EventEmitter.addObserver<A>(on:target:method:)();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v18);
  return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v9, v17);
}

void sub_10035C7CC(uint64_t a1)
{
  uint64_t v2 = v1;
  sub_10035D78C();
  uint64_t v4 = qword_1009918E8;
  uint64_t v5 = *(void *)(v1 + qword_1009918E8);
  swift_retain();
  uint64_t v6 = ArticleDiffablePagePresenter.todayCard.getter();
  char v7 = sub_100361174(v5, v6);
  swift_release();
  swift_release();
  uint64_t v8 = *(void *)(v1 + v4);
  if ((v7 & 1) != 0 || !v8)
  {
    *(void *)(v2 + qword_1009918C8) = a1;
    swift_release();
    int v9 = *(unsigned __int8 *)(v2 + qword_1009E2CA8);
    swift_retain();
    if (v9 != 1 || v8 == 0)
    {
      sub_10035F0D8();
    }
  }
}

uint64_t (*sub_10035C8B4(void *a1))(void *a1)
{
  uint64_t v2 = swift_allocObject();
  *(void *)(v2 + 16) = a1;
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = sub_100361E70;
  *(void *)(v3 + 24) = v2;
  id v4 = a1;
  return sub_1002D750C;
}

uint64_t sub_10035C944(uint64_t a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v25 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for ArticleDiffablePagePresenter.FooterLockup();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (uint64_t *)((char *)&v25 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  sub_10035E7EC();
  (*(void (**)(uint64_t *, uint64_t, uint64_t))(v8 + 16))(v10, a1, v7);
  int v11 = (*(uint64_t (**)(uint64_t *, uint64_t))(v8 + 88))(v10, v7);
  if (v11 == enum case for ArticleDiffablePagePresenter.FooterLockup.standard(_:))
  {
    (*(void (**)(uint64_t *, uint64_t))(v8 + 96))(v10, v7);
    uint64_t v12 = *v10;
    uint64_t v13 = *(void **)(v1 + qword_100991908);
    if (v13)
    {
      uint64_t v14 = *(void *)(v1 + qword_1009E2BD0);
      uint64_t v15 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph);
      id v16 = v13;
      sub_100334918(v12, v14, v15);
    }
    Lockup.impressionMetrics.getter();
LABEL_11:
    swift_release();
    uint64_t v23 = v2 + qword_1009E2CC0;
    swift_beginAccess();
    sub_10006D1F8((uint64_t)v6, v23, &qword_100985970);
    return swift_endAccess();
  }
  if (v11 == enum case for ArticleDiffablePagePresenter.FooterLockup.arcade(_:))
  {
    (*(void (**)(uint64_t *, uint64_t))(v8 + 96))(v10, v7);
    uint64_t v17 = *v10;
    uint64_t v18 = *(void **)(v1 + qword_100991908);
    if (v18)
    {
      uint64_t v19 = *(void *)(v1 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph);
      uint64_t v20 = v18;
      sub_1002852F8(1);
      unsigned int v21 = *(void **)&v20[OBJC_IVAR____TtC8AppStore16FooterLockupView_arcadeLockupView];
      if (v21)
      {
        uint64_t v22 = v21;
        sub_1002E993C(v17, v19);
        [v20 setNeedsLayout];

        uint64_t v20 = v22;
      }
    }
    ArcadeLockup.impressionMetrics.getter();
    goto LABEL_11;
  }
  return (*(uint64_t (**)(uint64_t *, uint64_t))(v8 + 8))(v10, v7);
}

uint64_t (*sub_10035CC2C(void *a1))(uint64_t a1)
{
  *(void *)(swift_allocObject() + 16) = a1;
  id v2 = a1;
  return sub_100361E14;
}

uint64_t sub_10035CC90(unint64_t a1)
{
  sub_100082C28((uint64_t *)&unk_100991FD0);
  type metadata accessor for ObjectGraph();
  inject<A, B>(_:from:)();
  uint64_t v2 = v11[0];
  if (!(a1 >> 62))
  {
    uint64_t v3 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v3) {
      goto LABEL_3;
    }
LABEL_10:
    swift_release();
    return swift_bridgeObjectRelease();
  }
  swift_bridgeObjectRetain();
  uint64_t v3 = _CocoaArrayWrapper.endIndex.getter();
  if (!v3) {
    goto LABEL_10;
  }
LABEL_3:
  uint64_t result = sub_100084CF0(0, (unint64_t *)&qword_100984500);
  if (v3 >= 1)
  {
    uint64_t v5 = result;
    uint64_t v6 = 0;
    do
    {
      if ((a1 & 0xC000000000000001) != 0)
      {
        uint64_t v7 = specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        uint64_t v7 = *(void *)(a1 + 8 * v6 + 32);
        swift_retain();
      }
      ++v6;
      v11[0] = v7;
      dispatch thunk of LinkLoader.fetchPresentation(for:cacheEnabled:)();
      uint64_t v8 = swift_allocObject();
      swift_unknownObjectWeakInit();
      uint64_t v9 = (void *)swift_allocObject();
      v9[2] = v7;
      uint64_t v9[3] = v8;
      void v9[4] = v2;
      swift_retain_n();
      swift_retain();
      uint64_t v10 = static OS_dispatch_queue.main.getter();
      v11[3] = v5;
      uint64_t v11[4] = &protocol witness table for OS_dispatch_queue;
      v11[0] = v10;
      Promise.then(perform:orCatchError:on:)();
      swift_release();
      swift_release();
      swift_release_n();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v11);
    }
    while (v3 != v6);
    goto LABEL_10;
  }
  __break(1u);
  return result;
}

uint64_t (*sub_10035CEC0(void *a1))(void *a1)
{
  uint64_t v2 = swift_allocObject();
  *(void *)(v2 + 16) = a1;
  uint64_t v3 = swift_allocObject();
  *(void *)(v3 + 16) = sub_100361BD0;
  *(void *)(v3 + 24) = v2;
  id v4 = a1;
  return sub_10020B71C;
}

unint64_t sub_10035CF50@<X0>(uint64_t *a1@<X8>)
{
  type metadata accessor for PageGridCache();
  swift_allocObject();
  uint64_t v2 = PageGridCache.init()();
  a1[3] = (uint64_t)&type metadata for ArticlePageGridProvider;
  unint64_t result = sub_100361B7C();
  a1[4] = result;
  *a1 = v2;
  return result;
}

unint64_t sub_10035CFA8@<X0>(uint64_t a1@<X8>)
{
  *(void *)(a1 + 24) = &type metadata for ArticlePageShelfLayoutSpacingProvider;
  unint64_t result = sub_100361B28();
  *(void *)(a1 + 32) = result;
  return result;
}

uint64_t sub_10035CFDC()
{
  uint64_t v1 = *(void *)(v0 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph);
  type metadata accessor for ArticlePageShelfSupplementaryProvider();
  uint64_t v2 = swift_allocObject();
  uint64_t v3 = sub_100361FA0(&qword_100991F68, (void (*)(uint64_t))&type metadata accessor for ArticleDiffablePagePresenter);
  *(void *)(v2 + 32) = 0;
  swift_unknownObjectWeakInit();
  *(void *)(v2 + 32) = v3;
  swift_unknownObjectWeakAssign();
  *(void *)(v2 + 16) = v1;
  sub_100361FA0(&qword_100991F70, (void (*)(uint64_t))type metadata accessor for ArticlePageShelfSupplementaryProvider);
  swift_retain();
  return v2;
}

id sub_10035D0D8(uint64_t a1)
{
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_100991F40);
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v9 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10073A8F4(a1);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v5, a1, v2);
  int v6 = (*(uint64_t (**)(char *, uint64_t))(v3 + 88))(v5, v2);
  LODWORD(a1) = enum case for DiffablePagePresenter.UpdatePhase.completed<A>(_:);
  id result = (id)(*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  if (v6 == a1)
  {
    char v8 = ArticleDiffablePagePresenter.shouldTerminateOnClose.getter();
    sub_10035D224(v8 & 1);
    return sub_10035D304();
  }
  return result;
}

uint64_t sub_10035D224(uint64_t result)
{
  int v2 = *(unsigned __int8 *)(v1 + qword_1009918F8);
  int v3 = result & 1;
  *(unsigned char *)(v1 + qword_1009918F8) = result;
  if (v2 != v3)
  {
    uint64_t v4 = qword_100991900;
    int v5 = *(unsigned __int8 *)(v1 + qword_100991900);
    *(unsigned char *)(v1 + qword_100991900) = v3;
    if (v5 != v3)
    {
      id v6 = [self sharedCoordinator];
      uint64_t v7 = v6;
      if (*(unsigned char *)(v1 + v4)) {
        char v8 = &selRef_beginDelayingNotifications;
      }
      else {
        char v8 = &selRef_endDelayingNotifications;
      }
      [v6 *v8];
    }
    ArticleDiffablePagePresenter.shouldTerminateOnClose.getter();
    return AsyncEvent.post(_:)();
  }
  return result;
}

id sub_10035D304()
{
  uint64_t v1 = type metadata accessor for AppEntityVisualState();
  __chkstk_darwin(v1);
  uint64_t v25 = (char *)v22 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for URL();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v6 = (char *)v22 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for ShareSheetData.Metadata();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (void *)((char *)v22 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  id result = (id)ArticleDiffablePagePresenter.shareAction.getter();
  if (result)
  {
    id v24 = v0;
    type metadata accessor for ShareSheetAction();
    if (swift_dynamicCastClass())
    {
      ShareSheetAction.data.getter();
      ShareSheetData.metadata.getter();
      swift_release();
      if ((*(unsigned int (**)(uint64_t *, uint64_t))(v8 + 88))(v10, v7) == enum case for ShareSheetData.Metadata.article(_:))
      {
        (*(void (**)(uint64_t *, uint64_t))(v8 + 96))(v10, v7);
        uint64_t v12 = *v10;
        uint64_t v13 = ShareSheetArticleMetadata.id.getter();
        uint64_t v23 = v14;
        uint64_t v15 = ShareSheetArticleMetadata.text.getter();
        v22[1] = v16;
        void v22[2] = v15;
        v22[0] = v12;
        ShareSheetArticleMetadata.subtitle.getter();
        ShareSheetAction.data.getter();
        ShareSheetData.url.getter();
        swift_release();
        URL.absoluteString.getter();
        uint64_t v18 = v17;
        (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
        sub_10059BFD8(v13, v23, v18, (uint64_t *)v29);
        long long v31 = v29[0];
        *(void *)&long long v26 = _swiftEmptyArrayStorage;
        sub_1002A6D20((uint64_t)&v31);
        sub_100361FA0(&qword_100989C10, (void (*)(uint64_t))&type metadata accessor for AppEntityVisualState);
        swift_retain();
        swift_retain();
        swift_retain();
        sub_100082C28((uint64_t *)&unk_100991F50);
        sub_1000DD560(&qword_100989C18, (uint64_t *)&unk_100991F50);
        dispatch thunk of SetAlgebra.init<A>(_:)();
        long long v26 = v29[0];
        long long v27 = v29[1];
        uint64_t v28 = v30;
        id v19 = objc_allocWithZone((Class)type metadata accessor for AppEntityViewAnnotation());
        sub_100361AD4();
        uint64_t v20 = (void *)AppEntityViewAnnotation.init<A>(entity:state:)();
        id result = [v24 view];
        if (result)
        {
          unsigned int v21 = result;
          UIView.annotate(with:)();

          sub_1002A6D4C((uint64_t)&v31);
          swift_release();
          swift_release();
          swift_release();
          swift_release();
          return (id)swift_release();
        }
        else
        {
          __break(1u);
        }
      }
      else
      {
        swift_release();
        return (id)(*(uint64_t (**)(uint64_t *, uint64_t))(v8 + 8))(v10, v7);
      }
    }
    else
    {
      return (id)swift_release();
    }
  }
  return result;
}

uint64_t sub_10035D78C()
{
  uint64_t v1 = type metadata accessor for TodayCard.Style();
  __chkstk_darwin(v1 - 8);
  uint64_t v3 = &v12[-((v2 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v4 = sub_100082C28(&qword_100991F18);
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = &v12[-((v6 + 15) & 0xFFFFFFFFFFFFFFF0)];
  TodayCard.style.getter();
  v12[15] = sub_1006489E4((uint64_t)v3);
  TodayCard.media.getter();
  type metadata accessor for TodayCardMediaList();
  uint64_t v8 = swift_dynamicCastClass();
  swift_release();
  if (v8) {
    unsigned __int8 v9 = 0;
  }
  else {
    unsigned __int8 v9 = 3;
  }
  v12[14] = v9;
  sub_100361120();
  AccessibilityConditional.init(value:axValue:)();
  id v10 = [v0 traitCollection];
  AccessibilityConditional.value(with:)();

  sub_100647C1C(v12[13]);
  return (*(uint64_t (**)(unsigned __int8 *, uint64_t))(v5 + 8))(v7, v4);
}

uint64_t sub_10035D954(uint64_t a1, void *a2, uint64_t a3, uint64_t a4)
{
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v9 - 8);
  int v11 = (char *)&v16 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)(v4 + qword_1009918E8) = a1;
  swift_release();
  uint64_t v12 = type metadata accessor for PageGrid();
  uint64_t v13 = *(void *)(v12 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v13 + 16))(v11, a4, v12);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v13 + 56))(v11, 0, 1, v12);
  uint64_t v14 = v4 + qword_1009918F0;
  swift_beginAccess();
  swift_retain();
  sub_10006D1F8((uint64_t)v11, v14, (uint64_t *)&unk_100983860);
  swift_endAccess();
  sub_10035DAF0(a1, a2, a3, a4, 7u);
  sub_10035DD38(a1, a2, a3);
  return sub_10035D78C();
}

void sub_10035DAF0(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, unsigned int a5)
{
  uint64_t v6 = v5;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v12 = swift_conformsToProtocol2();
  if (v12) {
    uint64_t v13 = v12;
  }
  else {
    uint64_t v13 = 0;
  }
  if (v12) {
    uint64_t v14 = a2;
  }
  else {
    uint64_t v14 = 0;
  }
  if (v14)
  {
    if (a5 == 7)
    {
      uint64_t v15 = *(uint64_t (**)(uint64_t, uint64_t))(a3 + 136);
      id v16 = a2;
      a5 = v15(ObjectType, a3);
    }
    else
    {
      id v17 = a2;
    }
    uint64_t v18 = swift_getObjectType();
    sub_100621968(a1, a4, a5, *(void *)(v6 + OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph), v18, v13);
    id v19 = *(uint64_t (**)(uint64_t, uint64_t))(v13 + 32);
    if (v19(v18, v13))
    {
      uint64_t v21 = v20;
      uint64_t v22 = swift_getObjectType();
      (*(void (**)(BOOL, uint64_t, uint64_t))(v21 + 32))((*(unsigned char *)(v6 + qword_1009E2C98) & 1) == 0, v22, v21);
      swift_unknownObjectRelease();
    }
    if (v19(v18, v13))
    {
      uint64_t v24 = v23;
      uint64_t v25 = swift_getObjectType();
      uint64_t v26 = swift_allocObject();
      swift_unknownObjectWeakInit();
      long long v27 = *(void (**)(uint64_t (*)(), uint64_t, uint64_t, uint64_t))(v24 + 88);
      swift_retain();
      v27(sub_100361AA4, v26, v25, v24);
      swift_unknownObjectRelease();
      swift_release();
    }
  }
}

void sub_10035DD38(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = type metadata accessor for TodayCard.Style();
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = sub_100082C28(&qword_100991F18);
  uint64_t v11 = *(void *)(v33 - 8);
  __chkstk_darwin(v33);
  uint64_t v13 = (char *)&v30 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_10035E218(a1, a2, a3);
  uint64_t v15 = v14;
  sub_100361810(v14);
  id v34 = v15;

  id v16 = [v4 collectionView];
  if (v16)
  {
    id v17 = v16;
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v32 = v10;
    id v19 = *(uint64_t (**)(uint64_t, uint64_t))(a3 + 208);
    id v31 = v34;
    id v30 = v17;
    char v20 = v19(ObjectType, a3);
    uint64_t v10 = v32;
    LOBYTE(v17) = v20;
    type metadata accessor for ArticleHeaderScrollObserver();
    uint64_t v21 = swift_allocObject();
    uint64_t v22 = v30;
    *(void *)(v21 + 16) = v31;
    *(void *)(v21 + 24) = v22;
    *(unsigned char *)(v21 + 32) = v17 & 1;
    sub_10036196C(v21, &qword_1009918E0, &qword_100991F28, (void (*)(uint64_t))type metadata accessor for ArticleHeaderScrollObserver);

    swift_release();
  }
  id v23 = *(id *)&v4[qword_1009E2CB8];
  TodayCard.style.getter();
  char v36 = sub_1006489E4((uint64_t)v10);
  TodayCard.media.getter();
  type metadata accessor for TodayCardMediaList();
  uint64_t v24 = swift_dynamicCastClass();
  swift_release();
  if (v24) {
    char v25 = 0;
  }
  else {
    char v25 = 3;
  }
  char v35 = v25;
  sub_100361120();
  AccessibilityConditional.init(value:axValue:)();
  id v26 = [v4 traitCollection];
  type metadata accessor for ArticleCloseButtonAppearanceCoordinator();
  uint64_t v27 = swift_allocObject();
  *(unsigned char *)(v27 + 24) = 0;
  *(void *)(v27 + 16) = v23;
  (*(void (**)(uint64_t, char *, uint64_t))(v11 + 32))(v27 + OBJC_IVAR____TtC8AppStore39ArticleCloseButtonAppearanceCoordinator_editorialButtonStyle, v13, v33);
  *(void *)(v27 + OBJC_IVAR____TtC8AppStore39ArticleCloseButtonAppearanceCoordinator_traitCollection) = v26;
  sub_10036196C(v27, &qword_1009918C0, (unint64_t *)&unk_100991F30, (void (*)(uint64_t))type metadata accessor for ArticleCloseButtonAppearanceCoordinator);
  swift_release();
  v4[qword_1009E2CB0] = 1;
  id v28 = [v4 viewIfLoaded];
  [v28 setNeedsLayout];

  v4[qword_1009918A0] = 1;
  id v29 = [v4 viewIfLoaded];
  [v29 setNeedsLayout];
}

id sub_10035E12C(void *a1, id a2, SEL *a3, SEL *a4)
{
  id result = [a2 *a3];
  if (result)
  {
    uint64_t v8 = result;
    [a1 frame];
    double v10 = v9;
    double v12 = v11;
    id v13 = [a2 *a4];
    [v8 convertPoint:v13 fromView:v10];
    double v15 = v14;
    double v17 = v16;

    [a1 frame];
    return [a1 setFrame:v15, v17];
  }
  else
  {
    __break(1u);
  }
  return result;
}

unsigned char *sub_10035E218(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v4 = v3;
  id v8 = sub_10035E430(a2, a3, a1);
  uint64_t v10 = v9;
  double v11 = (objc_class *)type metadata accessor for ArticleHeaderViewController();
  double v12 = objc_allocWithZone(v11);
  v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_isDisappearing] = 0;
  v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_isAppearing] = 0;
  v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_isCardModeEnabled] = 1;
  *(void *)&v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_todayCard] = a1;
  id v13 = &v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell];
  *id v13 = a2;
  v13[1] = a3;
  double v14 = &v12[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
  *double v14 = v8;
  v14[1] = v10;
  v31.receiver = v12;
  v31.super_class = v11;
  swift_retain();
  id v15 = a2;
  id v16 = v8;
  double v17 = [super initWithNibName:0 bundle:0];
  v17[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_isCardModeEnabled] = v4[qword_1009E2C98];
  sub_10077B730();
  id result = [v4 view];
  if (!result)
  {
    __break(1u);
    goto LABEL_8;
  }
  id v19 = result;
  [result bounds];
  double v21 = v20;

  id result = [v17 view];
  if (!result)
  {
LABEL_8:
    __break(1u);
    return result;
  }
  uint64_t v22 = result;
  id v23 = &v17[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
  uint64_t v24 = *(void **)&v17[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell];
  if (v24)
  {
    uint64_t v25 = *((void *)v23 + 1);
    id v26 = *(id *)v23;
  }
  else
  {
    uint64_t v25 = *(void *)&v17[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell + 8];
    id v26 = *(id *)&v17[OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell];
    uint64_t v24 = 0;
  }
  id v27 = v24;
  double v28 = sub_10077C204(v21, (uint64_t)v26, v25);
  double v30 = v29;

  [v22 setFrame:0.0, 0.0, v28, v30];
  return v17;
}

id sub_10035E430(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v33 = a3;
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v5 - 8);
  uint64_t v7 = (char *)&v27 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for PageGrid();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  double v11 = (char *)&v27 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t ObjectType = swift_getObjectType();
  id v13 = *(unsigned __int8 (**)(uint64_t, uint64_t))(a2 + 136);
  if (v13(ObjectType, a2) != 4 && v13(ObjectType, a2) != 6) {
    return 0;
  }
  (*(void (**)(uint64_t, uint64_t))(a2 + 112))(ObjectType, a2);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v9 + 48))(v7, 1, v8) == 1)
  {
    sub_100082BCC((uint64_t)v7, (uint64_t *)&unk_100983860);
    return 0;
  }
  (*(void (**)(char *, char *, uint64_t))(v9 + 32))(v11, v7, v8);
  uint64_t v14 = sub_100361680(a1, a2, v33);
  if (!v14)
  {
    (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
    return 0;
  }
  uint64_t v16 = v14;
  uint64_t v17 = v15;
  id v18 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  id v28 = [v32 traitCollection];
  int v29 = UITraitCollection.isRegularPad.getter();
  uint64_t v19 = type metadata accessor for ListTodayCardCollectionViewCell();
  uint64_t v20 = swift_dynamicCastClass();
  uint64_t v30 = v19;
  uint64_t v31 = v16;
  if (!v20)
  {

    char v22 = v29;
    goto LABEL_12;
  }
  int v21 = (*(unsigned __int8 (**)(uint64_t, uint64_t))(v17 + 160))(v16, v17);

  char v22 = v29;
  if (v21 != 6)
  {
LABEL_12:
    unsigned int v23 = 1;
    goto LABEL_13;
  }
  unsigned int v23 = 6;
LABEL_13:
  if (v22) {
    uint64_t v24 = v23;
  }
  else {
    uint64_t v24 = 5;
  }
  uint64_t v25 = v31;
  (*(void (**)(uint64_t, uint64_t, char *, void, uint64_t, uint64_t))(v17 + 264))(v33, v24, v11, *(void *)&v32[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph], v31, v17);
  (*(void (**)(void *__return_ptr, uint64_t, uint64_t))(a2 + 216))(v34, ObjectType, a2);
  (*(void (**)(void *, uint64_t, uint64_t))(v17 + 224))(v34, v25, v17);
  if (swift_dynamicCastClass()) {
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v17 + 96))(1, v25, v17);
  }
  (*(void (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  return v18;
}

void sub_10035E7EC()
{
  uint64_t v1 = v0;
  uint64_t v2 = qword_100991908;
  uint64_t v3 = *(void **)&v0[qword_100991908];
  if (v3)
  {
    [v3 removeFromSuperview];
    uint64_t v4 = *(void **)&v0[v2];
  }
  else
  {
    uint64_t v4 = 0;
  }
  *(void *)&v0[v2] = 0;

  id v5 = [v0 collectionView];
  if (v5)
  {
    uint64_t v6 = v5;
    uint64_t v7 = (char *)[objc_allocWithZone((Class)type metadata accessor for FooterLockupView()) init];
    uint64_t v8 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v9 = *(void **)&v7[OBJC_IVAR____TtC8AppStore16FooterLockupView_tapGestureRecognizer];
    swift_retain();
    if (v9) {
      [v9 removeTarget:v7 action:"clickActionHandlerTrampoline"];
    }
    uint64_t v10 = (uint64_t (**)())&v7[OBJC_IVAR____TtC8AppStore16FooterLockupView_clickActionHandler];
    uint64_t v11 = *(void *)&v7[OBJC_IVAR____TtC8AppStore16FooterLockupView_clickActionHandler];
    *uint64_t v10 = sub_100361E38;
    v10[1] = (uint64_t (*)())v8;
    swift_retain();
    sub_10006012C(v11);
    sub_100285638();
    swift_release_n();
    double v12 = *(void **)&v1[v2];
    *(void *)&v1[v2] = v7;
    id v13 = v7;

    id v14 = [v1 view];
    if (v14)
    {
      uint64_t v15 = v14;
      [v14 addSubview:v13];

      type metadata accessor for ArticleFooterViewScrollObserver();
      swift_allocObject();
      uint64_t v16 = v13;
      id v22 = v6;
      uint64_t v17 = sub_100267518(v16, v22, 0);

      sub_10036196C(v17, &qword_100991910, &qword_100991FF0, (void (*)(uint64_t))type metadata accessor for ArticleFooterViewScrollObserver);
      swift_release();
      uint64_t v18 = qword_100991910;
      uint64_t v19 = *(void *)&v1[qword_100991910];
      if (v19)
      {
        uint64_t v20 = swift_allocObject();
        swift_unknownObjectWeakInit();
        uint64_t v21 = *(void *)(v19 + 32);
        *(void *)(v19 + 32) = sub_100361E68;
        *(void *)(v19 + 40) = v20;
        sub_10006012C(v21);
        if (*(void *)&v1[v18])
        {
          swift_retain();
          sub_10026738C(1);
          swift_release();
        }
      }
    }
    else
    {
      __break(1u);
    }
  }
}

uint64_t sub_10035EAD4(uint64_t a1, void (*a2)(void))
{
  swift_beginAccess();
  uint64_t result = swift_unknownObjectWeakLoadStrong();
  if (result)
  {
    uint64_t v4 = (void *)result;
    swift_retain();

    a2();
    return swift_release();
  }
  return result;
}

void sub_10035EB5C(char a1)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = (void *)Strong;
    sub_10035EBB8(a1 & 1);
  }
}

uint64_t sub_10035EBB8(int a1)
{
  int v18 = a1;
  uint64_t v2 = type metadata accessor for Date();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  id v5 = &v17[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v6 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = &v17[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v9 = type metadata accessor for ImpressionMetrics();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  double v12 = &v17[-((v11 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v13 = v1 + qword_1009E2CC0;
  swift_beginAccess();
  sub_100082B68(v13, (uint64_t)v8, &qword_100985970);
  if ((*(unsigned int (**)(unsigned char *, uint64_t, uint64_t))(v10 + 48))(v8, 1, v9) == 1) {
    return sub_100082BCC((uint64_t)v8, &qword_100985970);
  }
  (*(void (**)(unsigned char *, unsigned char *, uint64_t))(v10 + 32))(v12, v8, v9);
  TimedMetricsPagePresenter.impressionsTracker.getter();
  swift_getObjectType();
  Date.init()();
  uint64_t v15 = (void (**)(unsigned char *, uint64_t))(v3 + 8);
  uint64_t v16 = (uint64_t (**)(unsigned char *, uint64_t))(v10 + 8);
  if (v18) {
    dispatch thunk of ImpressionsTracker.elementDidEnterView(_:on:)();
  }
  else {
    dispatch thunk of ImpressionsTracker.elementDidLeaveView(_:on:)();
  }
  swift_unknownObjectRelease();
  (*v15)(v5, v2);
  return (*v16)(v12, v9);
}

void sub_10035EE64()
{
  uint64_t v1 = type metadata accessor for StoreViewControllerLifecycleEvent();
  uint64_t v2 = *(void *)(v1 - 8);
  __n128 v3 = __chkstk_darwin(v1);
  id v5 = (char *)&v11 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, void, uint64_t, __n128))(v2 + 104))(v5, enum case for StoreViewControllerLifecycleEvent.dismissedByBackButton(_:), v1, v3);
  type metadata accessor for ArticleDiffablePagePresenter();
  sub_100361FA0((unint64_t *)&unk_100992018, (void (*)(uint64_t))&type metadata accessor for ArticleDiffablePagePresenter);
  MetricsPagePresenter.observe(lifecycleEvent:)();
  (*(void (**)(char *, uint64_t))(v2 + 8))(v5, v1);
  if (*((unsigned char *)v0 + qword_1009918F8) == 1)
  {
    static ResilientDeepLinkController.removeAllDeepLinks()();
    uint64_t v6 = self;
    id v7 = [v6 sharedApplication];
    id v8 = [v7 delegate];

    if (v8)
    {
      type metadata accessor for AppDelegate();
      uint64_t v9 = swift_dynamicCastClass();
      if (v9)
      {
        *(unsigned char *)(v9 + OBJC_IVAR____TtC8AppStore11AppDelegate_terminateWhenInBackground) = 1;
        id v10 = [v6 sharedApplication];
        [v10 suspend];
        swift_unknownObjectRelease();
      }
      else
      {
        swift_unknownObjectRelease();
      }
    }
  }
  else
  {
    [v0 dismissViewControllerAnimated:1 completion:0];
  }
}

void sub_10035F090(void *a1)
{
  id v1 = a1;
  sub_10035EE64();
}

void sub_10035F0D8()
{
  uint64_t v1 = *(void *)(v0 + qword_1009918C8);
  if (v1)
  {
    uint64_t v2 = v0;
    swift_retain();
    TodayCard.media.getter();
    uint64_t v3 = TodayCardMedia.kind.getter();
    swift_release();
    uint64_t v4 = qword_1009918D0;
    uint64_t v5 = *(void *)(v2 + qword_1009918D0);
    if (v5)
    {
      uint64_t v6 = *(void **)(v5 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell);
      if (v6)
      {
        uint64_t v7 = *(void *)(v5 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell + 8);
        id v8 = *(id *)(v5 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_alternateCell);
      }
      else
      {
        uint64_t v7 = *(void *)(v5 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell + 8);
        id v8 = *(id *)(v5 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell);
        uint64_t v6 = 0;
      }
      id v12 = v6;
      id v11 = v8;
      id v10 = v11;
    }
    else
    {
      sub_1004D69B8(v3);
      uint64_t v7 = v9;
      id v10 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) initWithFrame:0.0, 0.0, 0.0, 0.0];
      if (!*(void *)(v2 + v4))
      {
        type metadata accessor for RiverTodayCardCollectionViewCell();
        if (swift_dynamicCastClass()) {
          sub_10035BF88(v1, v10, v7, 7u);
        }
        sub_10035DD38(v1, v10, v7);
      }
      id v11 = 0;
    }
    sub_10035BF88(v1, v10, v7, 7u);
    uint64_t v13 = *(void *)(v2 + v4);
    if (v13
      && ((id v14 = *(void **)(v13 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell),
           swift_getObjectType(),
           swift_conformsToProtocol2())
        ? (uint64_t v15 = v14)
        : (uint64_t v15 = 0),
          v15))
    {
      type metadata accessor for VideoPlaybackCoordinator();
      id v16 = v14;
      uint64_t v17 = (void *)inject(_:from:)();
      swift_getObjectType();
      id v19 = (id)dispatch thunk of AnyVideoViewProviding.someVideoView.getter();
      id v18 = v16;
      dispatch thunk of VideoPlaybackCoordinator.register(videoView:videoContainer:)();

      swift_release();
    }
    else
    {

      swift_release();
    }
  }
}

void sub_10035F390(uint64_t a1, uint64_t a2, NSObject *a3, uint64_t a4)
{
  uint64_t v33 = a4;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v7 - 8);
  uint64_t v9 = (char *)v31 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for OSLogger();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v31 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v14 = *(void ***)a1;
  uint64_t v32 = *(void **)(a1 + 8);
  id v34 = a3;
  char v36 = v14;
  dispatch_queue_t v37 = a3 + 2;
  if (qword_10097E348 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_100087728(v10, (uint64_t)qword_1009E1828);
  (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v15, v10);
  sub_100082C28((uint64_t *)&unk_100984540);
  type metadata accessor for LogMessage();
  *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
  LogMessage.init(stringLiteral:)();
  uint64_t v35 = a2;
  dispatch thunk of EditorialLink.url.getter();
  uint64_t v16 = type metadata accessor for URL();
  uint64_t v17 = *(void *)(v16 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v17 + 48))(v9, 1, v16) == 1)
  {
    sub_100082BCC((uint64_t)v9, (uint64_t *)&unk_100991FE0);
    long long aBlock = 0u;
    long long v39 = 0u;
  }
  else
  {
    *((void *)&v39 + 1) = v16;
    id v18 = sub_1000808B8((uint64_t *)&aBlock);
    (*(void (**)(uint64_t *, char *, uint64_t))(v17 + 32))(v18, v9, v16);
  }
  static LogMessage.sensitive(_:)();
  sub_100082BCC((uint64_t)&aBlock, (uint64_t *)&unk_100982B40);
  Logger.debug(_:)();
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v10);
  swift_beginAccess();
  uint64_t Strong = (char *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v20 = Strong;
    uint64_t v21 = *(void *)&Strong[qword_1009918D8];
    if (v21)
    {
      swift_retain();

      id v22 = (void *)swift_allocObject();
      unsigned int v23 = v32;
      uint64_t v24 = v33;
      uint64_t v26 = v35;
      uint64_t v25 = v36;
      void v22[2] = v33;
      void v22[3] = v25;
      v22[4] = v23;
      uint64_t v22[5] = v26;
      uint64_t v27 = (uint64_t)v34;
      v22[6] = v34;
      char v42 = 1;
      dispatch_queue_t v37 = *(dispatch_queue_t *)(v21 + 32);
      id v28 = (void *)swift_allocObject();
      _OWORD v28[2] = v21;
      void v28[3] = sub_100361CB0;
      unsigned char v28[4] = v22;
      v28[5] = &v42;
      uint64_t v29 = swift_allocObject();
      *(void *)(v29 + 16) = sub_100361D00;
      *(void *)(v29 + 24) = v28;
      double v40 = sub_1000E9854;
      uint64_t v41 = v29;
      *(void *)&long long aBlock = _NSConcreteStackBlock;
      *((void *)&aBlock + 1) = 1107296256;
      *(void *)&long long v39 = sub_10003EBD4;
      *((void *)&v39 + 1) = &unk_1008C7390;
      uint64_t v30 = _Block_copy(&aBlock);
      v31[1] = v41;
      swift_retain();
      sub_100361D1C((uint64_t)v25, v23);
      swift_retain();
      swift_retain();
      swift_retain();
      swift_retain();
      sub_100361D1C((uint64_t)v25, v23);
      swift_retain();
      swift_retain();
      swift_retain();
      swift_retain();
      swift_release();
      dispatch_sync(v37, v30);
      _Block_release(v30);
      LOBYTE(v30) = swift_isEscapingClosureAtFileLocation();
      swift_release();
      if (v30)
      {
        __break(1u);
      }
      else
      {
        if ((v42 & 1) == 0) {
          sub_10035F92C(v24, v36, (uint64_t)v23, v26, v27);
        }
        swift_release();
        swift_release();
        swift_release();
        sub_100361D80((uint64_t)v36, v23);
        swift_release();
        swift_release();
        swift_release();
      }
    }
    else
    {
    }
  }
}

uint64_t sub_10035F92C(uint64_t a1, void **a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v9 = type metadata accessor for DispatchWorkItemFlags();
  uint64_t v21 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v19 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = type metadata accessor for DispatchQoS();
  uint64_t v12 = *(void *)(v20 - 8);
  __chkstk_darwin(v20);
  id v14 = (char *)&v19 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  long long aBlock = a2;
  uint64_t v23 = a3;
  uint64_t v28 = a4;
  dispatch thunk of LinkLoader.setPresentation(_:forKey:)();
  sub_100084CF0(0, (unint64_t *)&qword_100984500);
  uint64_t v15 = (void *)static OS_dispatch_queue.main.getter();
  uint64_t v16 = swift_allocObject();
  *(void *)(v16 + 16) = a5;
  *(void *)(v16 + 24) = a4;
  uint64_t v26 = sub_100361DD4;
  uint64_t v27 = v16;
  long long aBlock = _NSConcreteStackBlock;
  uint64_t v23 = 1107296256;
  uint64_t v24 = sub_1000162D4;
  uint64_t v25 = &unk_1008C73E0;
  uint64_t v17 = _Block_copy(&aBlock);
  swift_retain();
  swift_retain();
  swift_release();
  static DispatchQoS.unspecified.getter();
  long long aBlock = (void **)_swiftEmptyArrayStorage;
  sub_100361FA0((unint64_t *)&qword_100988CC0, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
  sub_100082C28((uint64_t *)&unk_100984510);
  sub_1000DD560((unint64_t *)&qword_100988CD0, (uint64_t *)&unk_100984510);
  dispatch thunk of SetAlgebra.init<A>(_:)();
  OS_dispatch_queue.async(group:qos:flags:execute:)();
  _Block_release(v17);

  (*(void (**)(char *, uint64_t))(v21 + 8))(v11, v9);
  return (*(uint64_t (**)(char *, uint64_t))(v12 + 8))(v14, v20);
}

void sub_10035FC44()
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v1 = (void *)Strong;
    swift_retain();

    ArticleDiffablePagePresenter.reloadLink(_:)();
    swift_release();
  }
  swift_beginAccess();
  uint64_t v2 = (void *)swift_unknownObjectWeakLoadStrong();
  if (v2)
  {
    uint64_t v3 = v2;
    id v4 = [v2 collectionView];

    if (v4)
    {
      id v5 = [v4 collectionViewLayout];

      [v5 invalidateLayout];
    }
    else
    {
      __break(1u);
    }
  }
}

uint64_t sub_10035FD48()
{
  uint64_t v0 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v0 - 8);
  uint64_t v2 = (char *)&v12 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for OSLogger();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v12 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097E348 != -1) {
    swift_once();
  }
  uint64_t v7 = sub_100087728(v3, (uint64_t)qword_1009E1828);
  (*(void (**)(char *, uint64_t, uint64_t))(v4 + 16))(v6, v7, v3);
  sub_100082C28((uint64_t *)&unk_100984540);
  type metadata accessor for LogMessage();
  *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
  LogMessage.init(stringLiteral:)();
  dispatch thunk of EditorialLink.url.getter();
  uint64_t v8 = type metadata accessor for URL();
  uint64_t v9 = *(void *)(v8 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v9 + 48))(v2, 1, v8) == 1)
  {
    sub_100082BCC((uint64_t)v2, (uint64_t *)&unk_100991FE0);
    long long v12 = 0u;
    long long v13 = 0u;
  }
  else
  {
    *((void *)&v13 + 1) = v8;
    uint64_t v10 = sub_1000808B8((uint64_t *)&v12);
    (*(void (**)(uint64_t *, char *, uint64_t))(v9 + 32))(v10, v2, v8);
  }
  static LogMessage.sensitive(_:)();
  sub_100082BCC((uint64_t)&v12, (uint64_t *)&unk_100982B40);
  Logger.debug(_:)();
  swift_bridgeObjectRelease();
  return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
}

id sub_100360054(id result, uint64_t a2, uint64_t a3)
{
  if ((*((unsigned char *)result + qword_1009E2C98) & 1) == 0)
  {
    v4.receiver = result;
    v4.super_class = (Class)swift_getObjectType();
    return [super scrollViewDidScroll:a3];
  }
  return result;
}

id sub_1003600AC()
{
  return [*(id *)(v0 + qword_1009E2CB8) setHidden:1];
}

id sub_1003600C8()
{
  return [*(id *)(v0 + qword_1009E2CB8) setHidden:0];
}

uint64_t sub_1003600E4(void *a1)
{
  id v1 = a1;
  sub_10035EE64();

  return 1;
}

Class sub_100360114(void *a1)
{
  id v1 = a1;
  unint64_t v2 = sub_1001E27BC();

  if (v2)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100989350);
    v3.super.Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
  }
  else
  {
    v3.super.Class isa = 0;
  }

  return v3.super.isa;
}

void sub_100360194(void *a1, uint64_t a2, void *a3)
{
  id v4 = a3;
  id v5 = a1;
  sub_10035EE64();
}

uint64_t type metadata accessor for ArticleDiffablePageViewController()
{
  uint64_t result = qword_100991940;
  if (!qword_100991940) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_100360240()
{
  sub_1000064B8(319, qword_100991950, (void (*)(uint64_t))&type metadata accessor for PageGrid);
  if (v0 <= 0x3F)
  {
    sub_1000064B8(319, (unint64_t *)&qword_100985960, (void (*)(uint64_t))&type metadata accessor for ImpressionMetrics);
    if (v1 <= 0x3F) {
      swift_initClassMetadata2();
    }
  }
}

uint64_t sub_1003603AC()
{
  return type metadata accessor for ArticleDiffablePageViewController();
}

void sub_1003603B4(uint64_t a1)
{
  *(unsigned char *)(v1 + qword_1009E2CA8) = 0;
  sub_10035F0D8();
  uint64_t v3 = *(void *)(v1 + qword_1009918D0);
  if (v3)
  {
    id v4 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell);
    swift_getObjectType();
    if (swift_conformsToProtocol2() ? v4 : 0)
    {
      if (a1)
      {
        type metadata accessor for VideoPlaybackCoordinator();
        id v6 = v4;
        swift_retain();
        uint64_t v7 = (void *)inject(_:from:)();
        swift_getObjectType();
        uint64_t v8 = (void *)dispatch thunk of AnyVideoViewProviding.someVideoView.getter();
        id v9 = v6;
        dispatch thunk of VideoPlaybackCoordinator.unregister(videoView:videoContainer:pausingPlayback:)();
        swift_release();
      }
      else
      {
        id v10 = v4;
      }
      type metadata accessor for VideoPlaybackCoordinator();
      uint64_t v11 = (void *)inject(_:from:)();
      swift_getObjectType();
      id v13 = (id)dispatch thunk of AnyVideoViewProviding.someVideoView.getter();
      id v12 = v4;
      dispatch thunk of VideoPlaybackCoordinator.register(videoView:videoContainer:)();
    }
  }
}

void sub_1003605A0(char a1)
{
  unint64_t v2 = v1;
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v4 - 8);
  id v6 = (char *)v32 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for PageGrid();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  id v10 = (char *)v32 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = *(void *)&v2[qword_1009918E8];
  if (v11)
  {
    uint64_t v12 = *(void *)&v2[qword_1009918D0];
    if (v12)
    {
      uint64_t v13 = v12 + OBJC_IVAR____TtC8AppStore27ArticleHeaderViewController_cell;
      id v14 = *(void **)v13;
      uint64_t v15 = *(void *)(v13 + 8);
      uint64_t v16 = (uint64_t)&v2[qword_1009918F0];
      swift_beginAccess();
      sub_100082B68(v16, (uint64_t)v6, (uint64_t *)&unk_100983860);
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1)
      {
        sub_100082BCC((uint64_t)v6, (uint64_t *)&unk_100983860);
        return;
      }
      (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v10, v6, v7);
      uint64_t v34 = v15;
      if (a1)
      {
        swift_retain();
        v14;
        id v17 = [v2 traitCollection];
        int v18 = UITraitCollection.isRegularPad.getter();
        type metadata accessor for ListTodayCardCollectionViewCell();
        if (swift_dynamicCastClass())
        {
          uint64_t ObjectType = swift_getObjectType();
          uint64_t v20 = *(unsigned __int8 (**)(uint64_t, uint64_t))(v15 + 160);
          LODWORD(v33) = v18;
          int v18 = v20(ObjectType, v15);

          BOOL v22 = v18 == 6;
          LOBYTE(v18) = (_BYTE)v33;
          if (v22)
          {
            unsigned int v21 = 6;
            BOOL v22 = (v33 & 1) == 0;
            goto LABEL_19;
          }
        }
        else
        {
        }
        unsigned int v21 = 1;
        BOOL v22 = (v18 & 1) == 0;
LABEL_19:
        if (v22) {
          uint64_t v25 = 5;
        }
        else {
          uint64_t v25 = v21;
        }
        goto LABEL_22;
      }
      uint64_t v23 = swift_getObjectType();
      uint64_t v33 = *(uint64_t (**)(uint64_t, uint64_t))(v15 + 160);
      swift_retain();
      id v24 = v14;
      v32[0] = v23;
      v32[1] = v24;
      uint64_t v25 = v33(v23, v15);
      if (v25 != 7)
      {
LABEL_22:
        uint64_t v29 = swift_getObjectType();
        uint64_t v30 = *(void *)&v2[OBJC_IVAR____TtC8AppStore29StoreCollectionViewController_objectGraph];
        uint64_t v31 = v34;
        (*(void (**)(uint64_t, uint64_t, char *, uint64_t, uint64_t, uint64_t))(v34 + 264))(v11, v25, v10, v30, v29, v34);
        [v14 layoutIfNeeded];
        uint64_t v35 = v14;
        (*(void (**)(uint64_t))(*(void *)(v31 + 16) + 8))(v29);
        swift_release();
        (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);

        return;
      }
      id v26 = [v2 traitCollection];
      char v27 = UITraitCollection.isRegularPad.getter();
      type metadata accessor for ListTodayCardCollectionViewCell();
      if (swift_dynamicCastClass())
      {
        int v28 = v33(v32[0], v34);

        if (v28 == 6)
        {
          unsigned int v21 = 6;
LABEL_18:
          BOOL v22 = (v27 & 1) == 0;
          goto LABEL_19;
        }
      }
      else
      {
      }
      unsigned int v21 = 1;
      goto LABEL_18;
    }
  }
}

char *sub_1003609A0(uint64_t a1)
{
  uint64_t v3 = type metadata accessor for Dependency();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v6 = (char *)v21 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = qword_1009E2C90;
  id v8 = objc_allocWithZone((Class)type metadata accessor for TodayArticleTransitioningDelegate());
  uint64_t v9 = v1;
  *(void *)&v1[v7] = [v8 init];
  v9[qword_1009918A0] = 0;
  v9[qword_1009918A8] = 0;
  v9[qword_1009E2C98] = 1;
  uint64_t v10 = qword_1009E2CA0;
  sub_100082C28(&qword_100991F10);
  swift_allocObject();
  *(void *)&v9[v10] = AsyncEvent.init()();
  v9[qword_1009E2CA8] = 1;
  v9[qword_1009E2CB0] = 0;
  uint64_t v11 = qword_1009918B0;
  type metadata accessor for TodayCardOverlayReusePool();
  swift_allocObject();
  uint64_t v12 = sub_1000122E8(2);
  *(void *)&v9[v11] = v12;
  *(void *)&v9[qword_1009918B8] = 0x403C000000000000;
  uint64_t v13 = qword_1009E2CB8;
  id v14 = objc_allocWithZone((Class)type metadata accessor for CardHeaderButton());
  *(void *)&v9[v13] = sub_100647D74(0);
  *(void *)&v9[qword_1009918C0] = 0;
  *(void *)&v9[qword_1009918C8] = 0;
  *(void *)&v9[qword_1009918D0] = 0;
  *(void *)&v9[qword_1009918D8] = 0;
  *(void *)&v9[qword_1009918E0] = 0;
  *(void *)&v9[qword_1009918E8] = 0;
  uint64_t v15 = &v9[qword_1009918F0];
  uint64_t v16 = type metadata accessor for PageGrid();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v16 - 8) + 56))(v15, 1, 1, v16);
  v9[qword_1009918F8] = 0;
  v9[qword_100991900] = 0;
  *(void *)&v9[qword_100991908] = 0;
  *(void *)&v9[qword_100991910] = 0;
  id v17 = &v9[qword_1009E2CC0];
  uint64_t v18 = type metadata accessor for ImpressionMetrics();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56))(v17, 1, 1, v18);
  v21[1] = v12;
  swift_retain();
  Dependency.init<A>(satisfying:with:)();

  uint64_t v19 = dispatch thunk of BaseObjectGraph.adding(dependency:)();
  (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
  return sub_1003F10CC(a1, v19);
}

id sub_100360CD8(uint64_t a1, uint64_t a2)
{
  id v4 = objc_allocWithZone((Class)type metadata accessor for ArticleDiffablePageViewController());
  swift_retain();
  swift_retain();
  uint64_t v5 = sub_1003609A0(a1);
  swift_release();
  type metadata accessor for NavigationBarManualCheckLayoutMarginsChange();
  id v6 = (objc_class *)type metadata accessor for StoreNavigationController();
  uint64_t v7 = (char *)objc_allocWithZone(v6);
  *(void *)&v7[OBJC_IVAR____TtC8AppStore25StoreNavigationController_objectGraph] = a2;
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  v18.receiver = v7;
  v18.super_class = v6;
  swift_retain();
  id v9 = [super initWithNavigationBarClass:ObjCClassFromMetadata toolbarClass:0];
  [v9 setDelegate:v9];
  sub_100082C28(&qword_100982B50);
  uint64_t v10 = swift_allocObject();
  *(_OWORD *)(v10 + 16) = xmmword_1007BEA80;
  *(void *)(v10 + 32) = v5;
  specialized Array._endMutation()();
  sub_100084CF0(0, (unint64_t *)&qword_100982B30);
  id v11 = v9;
  uint64_t v12 = v5;
  Class isa = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  [v11 setViewControllers:isa];

  id v14 = v12;
  id v15 = sub_10075DE08(v11, v14);
  [v15 setModalPresentationStyle:4];
  [v15 setTransitioningDelegate:*(void *)&v14[qword_1009E2C90]];
  id v16 = v15;
  [v16 setModalPresentationCapturesStatusBarAppearance:1];

  return v16;
}

uint64_t sub_100360EC0()
{
  return _swift_deallocObject(v0, 32, 7);
}

id sub_100360F00()
{
  return sub_10035E12C(*(void **)(v0 + 16), *(id *)(v0 + 24), (SEL *)&selRef_view, (SEL *)&selRef_collectionView);
}

uint64_t sub_100360F2C()
{
  return _swift_deallocObject(v0, 32, 7);
}

id sub_100360F3C()
{
  return sub_10035E12C(*(void **)(v0 + 16), *(id *)(v0 + 24), (SEL *)&selRef_collectionView, (SEL *)&selRef_view);
}

uint64_t sub_100360F68()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100360F78(void *a1, uint64_t a2, void *a3, uint64_t a4, id a5, unsigned char *a6)
{
  id v11 = [a5 transitionCoordinator];
  if (v11)
  {
    uint64_t v12 = v11;
    if (a1)
    {
      uint64_t v19 = a1;
      uint64_t v20 = a2;
      id v15 = _NSConcreteStackBlock;
      uint64_t v16 = 1107296256;
      id v17 = sub_1006DEF0C;
      objc_super v18 = &unk_1008C7610;
      a1 = _Block_copy(&v15);
      swift_retain();
      swift_release();
    }
    if (a3)
    {
      uint64_t v19 = a3;
      uint64_t v20 = a4;
      id v15 = _NSConcreteStackBlock;
      uint64_t v16 = 1107296256;
      id v17 = sub_1006DEF0C;
      objc_super v18 = &unk_1008C75E8;
      a3 = _Block_copy(&v15);
      swift_retain();
      swift_release();
    }
    unsigned int v13 = [v12 animateAlongsideTransition:a1 completion:a3];
    swift_unknownObjectRelease();
    _Block_release(a3);
    _Block_release(a1);
    if (v13) {
      return 1;
    }
  }
  a6[qword_1009918A8] = 1;
  [a6 setNeedsStatusBarAppearanceUpdate];
  return 0;
}

unint64_t sub_100361120()
{
  unint64_t result = qword_100991F20;
  if (!qword_100991F20)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991F20);
  }
  return result;
}

uint64_t sub_100361174(uint64_t a1, uint64_t a2)
{
  if (!a1
    || (uint64_t v4 = TodayCard.overlay.getter()) == 0
    || (*(void *)&v23[0] = v4,
        type metadata accessor for TodayCardOverlay(),
        sub_100082C28(&qword_100992010),
        (swift_dynamicCast() & 1) == 0))
  {
    uint64_t v26 = 0;
    memset(v25, 0, sizeof(v25));
  }
  if (!a2
    || (uint64_t v5 = TodayCard.overlay.getter()) == 0
    || (*(void *)&v21[0] = v5,
        type metadata accessor for TodayCardOverlay(),
        sub_100082C28(&qword_100992010),
        (swift_dynamicCast() & 1) == 0))
  {
    uint64_t v24 = 0;
    memset(v23, 0, sizeof(v23));
  }
  if (!a1
    || (*(void *)&v19[0] = TodayCard.media.getter(),
        type metadata accessor for TodayCardMedia(),
        sub_100082C28(&qword_100992008),
        (swift_dynamicCast() & 1) == 0))
  {
    uint64_t v22 = 0;
    memset(v21, 0, sizeof(v21));
  }
  if (!a2
    || (v17[0] = TodayCard.media.getter(),
        type metadata accessor for TodayCardMedia(),
        sub_100082C28(&qword_100992008),
        (swift_dynamicCast() & 1) == 0))
  {
    uint64_t v20 = 0;
    memset(v19, 0, sizeof(v19));
  }
  sub_100082B68((uint64_t)v25, (uint64_t)v17, &qword_100991FF8);
  if (v18)
  {
    sub_100081D90(v17, v18);
    uint64_t v6 = dispatch thunk of PurchasableTodayCardOverlay.offerAdamIds.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100991FF8);
    uint64_t v6 = 0;
  }
  sub_100082B68((uint64_t)v23, (uint64_t)v17, &qword_100991FF8);
  if (v18)
  {
    sub_100081D90(v17, v18);
    uint64_t v7 = dispatch thunk of PurchasableTodayCardOverlay.offerAdamIds.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
    if (v6)
    {
      if (v7)
      {
        uint64_t v8 = swift_bridgeObjectRetain();
        char v9 = sub_1006EFB7C(v8, v7);
        swift_bridgeObjectRelease_n();
LABEL_26:
        swift_bridgeObjectRelease();
        goto LABEL_28;
      }
LABEL_23:
      char v9 = 0;
      goto LABEL_26;
    }
    if (v7)
    {
      char v9 = 0;
      goto LABEL_26;
    }
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100991FF8);
    if (v6) {
      goto LABEL_23;
    }
  }
  char v9 = 1;
LABEL_28:
  sub_100082B68((uint64_t)v21, (uint64_t)v17, &qword_100992000);
  if (v18)
  {
    sub_100081D90(v17, v18);
    uint64_t v10 = dispatch thunk of PurchasableTodayCardMedia.offerAdamIds.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100992000);
    uint64_t v10 = 0;
  }
  sub_100082B68((uint64_t)v19, (uint64_t)v17, &qword_100992000);
  if (v18)
  {
    sub_100081D90(v17, v18);
    uint64_t v11 = dispatch thunk of PurchasableTodayCardMedia.offerAdamIds.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
    if (v10)
    {
      if (v11)
      {
        uint64_t v12 = swift_bridgeObjectRetain();
        char v13 = sub_1006EFB7C(v12, v11);
        swift_bridgeObjectRelease_n();
LABEL_39:
        swift_bridgeObjectRelease();
        goto LABEL_41;
      }
LABEL_36:
      char v13 = 0;
      goto LABEL_39;
    }
    if (v11)
    {
      char v13 = 0;
      goto LABEL_39;
    }
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100992000);
    if (v10) {
      goto LABEL_36;
    }
  }
  char v13 = 1;
LABEL_41:
  sub_100082B68((uint64_t)v25, (uint64_t)v17, &qword_100991FF8);
  if (v18)
  {
    sub_100081D90(v17, v18);
    dispatch thunk of PurchasableTodayCardOverlay.offerAdamIds.getter();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
    swift_bridgeObjectRelease();
    sub_100082B68((uint64_t)v21, (uint64_t)v17, &qword_100992000);
    if (v9)
    {
      sub_100082BCC((uint64_t)v17, &qword_100992000);
      char v13 = 1;
      goto LABEL_48;
    }
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100991FF8);
    sub_100082B68((uint64_t)v21, (uint64_t)v17, &qword_100992000);
  }
  sub_100082B68((uint64_t)v17, (uint64_t)v15, &qword_100992000);
  if (v16)
  {
    sub_100081D90(v15, v16);
    dispatch thunk of PurchasableTodayCardMedia.offerAdamIds.getter();
    sub_100082BCC((uint64_t)v17, &qword_100992000);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v15);
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_100082BCC((uint64_t)v17, &qword_100992000);
    sub_100082BCC((uint64_t)v15, &qword_100992000);
    char v13 = 0;
  }
LABEL_48:
  sub_100082BCC((uint64_t)v19, &qword_100992000);
  sub_100082BCC((uint64_t)v21, &qword_100992000);
  sub_100082BCC((uint64_t)v23, &qword_100991FF8);
  sub_100082BCC((uint64_t)v25, &qword_100991FF8);
  return v13 & 1;
}

uint64_t sub_100361680(void *a1, uint64_t a2, uint64_t a3)
{
  type metadata accessor for MultiAppFallbackCardCollectionViewCell();
  if (swift_dynamicCastClass())
  {
    type metadata accessor for TodayShelfComponentTypeMappingProvider();
    uint64_t inited = swift_initStackObject();
    type metadata accessor for AppPromotionsShelfComponentTypeMappingProvider();
    *(void *)(inited + 16) = swift_initStackObject();
    uint64_t v6 = sub_100085650(a3, 5);
    swift_release();
    if (v6 && swift_dynamicCastMetatype()) {
      return 0;
    }
  }
  else
  {
    type metadata accessor for ListTodayCardCollectionViewCell();
    uint64_t v7 = swift_dynamicCastClass();
    if (v7
      && (!*(unsigned char *)(v7 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded)
        ? (uint64_t v8 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory)
        : (uint64_t v8 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory),
          *(unsigned char *)(v7 + *v8) == 6
       && (*(unsigned char *)(*(void *)(*(void *)(v7 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView)
                                + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView)
                    + OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia) & 1) == 0))
    {
      type metadata accessor for TodayShelfComponentTypeMappingProvider();
      uint64_t v10 = swift_initStackObject();
      type metadata accessor for AppPromotionsShelfComponentTypeMappingProvider();
      *(void *)(v10 + 16) = swift_initStackObject();
      id v11 = a1;
      uint64_t v6 = sub_100085650(a3, 6);
      swift_release();
    }
    else
    {
      return 0;
    }
  }
  return v6;
}

void sub_100361810(void *a1)
{
  uint64_t v3 = qword_1009918D0;
  uint64_t v4 = *(void **)&v1[qword_1009918D0];
  if (v4)
  {
    id v5 = v4;
    [v5 willMoveToParentViewController:0];
    [v5 removeFromParentViewController];
    id v6 = [v5 viewIfLoaded];
    [v6 removeFromSuperview];

    [v5 didMoveToParentViewController:0];
    uint64_t v7 = *(void **)&v1[v3];
  }
  else
  {
    uint64_t v7 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v8 = a1;

  char v9 = *(void **)&v1[v3];
  if (v9)
  {
    id v10 = v9;
    [v10 willMoveToParentViewController:v1];
    [v1 addChildViewController:v10];
    if ([v1 isViewLoaded]) {
      sub_10035941C();
    }
    [v10 didMoveToParentViewController:v1];
  }
}

uint64_t sub_10036196C(uint64_t a1, uint64_t *a2, unint64_t *a3, void (*a4)(uint64_t))
{
  uint64_t v8 = *a2;
  if (*(void *)(v4 + *a2)) {
    sub_100361FA0(a3, a4);
  }
  swift_retain();
  CompoundScrollObserver.removeChild(_:)();
  swift_release();
  *(void *)(v4 + v8) = a1;
  swift_retain();
  swift_release();
  if (*(void *)(v4 + v8)) {
    sub_100361FA0(a3, a4);
  }
  swift_retain();
  CompoundScrollObserver.addChild(_:)();

  return swift_release();
}

uint64_t sub_100361A6C()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100361AA4()
{
  return sub_10035EAD4(v0, (void (*)(void))&ArticleDiffablePagePresenter.didSelectCardOverlay());
}

unint64_t sub_100361AD4()
{
  unint64_t result = qword_100991F60;
  if (!qword_100991F60)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991F60);
  }
  return result;
}

unint64_t sub_100361B28()
{
  unint64_t result = qword_100991F78;
  if (!qword_100991F78)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991F78);
  }
  return result;
}

unint64_t sub_100361B7C()
{
  unint64_t result = qword_100991F80;
  if (!qword_100991F80)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100991F80);
  }
  return result;
}

uint64_t sub_100361BD0(unint64_t a1)
{
  return sub_10035CC90(a1);
}

uint64_t sub_100361BF4()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

void sub_100361C3C(uint64_t a1)
{
  sub_10035F390(a1, *(void *)(v1 + 16), *(NSObject **)(v1 + 24), *(void *)(v1 + 32));
}

uint64_t sub_100361C48()
{
  return sub_10035FD48();
}

uint64_t sub_100361C50()
{
  swift_release();
  uint64_t v1 = *(void *)(v0 + 24);
  if ((~v1 & 0xF000000000000007) != 0) {
    sub_100283F14(v1, *(void **)(v0 + 32));
  }
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 56, 7);
}

uint64_t sub_100361CB0()
{
  return sub_10035F92C(*(void *)(v0 + 16), *(void ***)(v0 + 24), *(void *)(v0 + 32), *(void *)(v0 + 40), *(void *)(v0 + 48));
}

uint64_t sub_100361CC0()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_100361D00()
{
  return sub_1005ABDC8(*(void *)(v0 + 16), *(void *)(v0 + 24), *(void *)(v0 + 32), *(unsigned char **)(v0 + 40));
}

uint64_t sub_100361D0C()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100361D1C(uint64_t a1, void *a2)
{
  if ((~a1 & 0xF000000000000007) != 0) {
    return (uint64_t)sub_100361D30(a1, a2);
  }
  return a1;
}

id sub_100361D30(uint64_t a1, void *a2)
{
  if (a1 < 0)
  {
    swift_retain();
    return a2;
  }
  else
  {
    return (id)swift_retain();
  }
}

void sub_100361D80(uint64_t a1, void *a2)
{
  if ((~a1 & 0xF000000000000007) != 0) {
    sub_100283F14(a1, a2);
  }
}

uint64_t sub_100361D94()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_100361DD4()
{
}

uint64_t sub_100361DDC()
{
  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100361E14(uint64_t a1)
{
  return sub_10035C944(a1);
}

uint64_t sub_100361E38()
{
  return sub_10035EAD4(v0, (void (*)(void))&ArticleDiffablePagePresenter.didSelectFooterLockup());
}

void sub_100361E68(char a1)
{
}

void sub_100361E70(uint64_t a1)
{
}

uint64_t sub_100361E94()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100361ECC()
{
  return _swift_deallocObject(v0, 25, 7);
}

id sub_100361F04()
{
  return sub_100647BF4(*(void *)(v0 + 16), *(unsigned char *)(v0 + 24));
}

uint64_t sub_100361F10()
{
  return _swift_deallocObject(v0, 56, 7);
}

id sub_100361F48()
{
  return sub_10076BC88(*(void **)(v0 + 16));
}

void sub_100361F58(int a1)
{
  sub_10035A69C(a1, *(unsigned char **)(v1 + 16));
}

id sub_100361F60()
{
  return [*(id *)(*(void *)(v0 + 16) + qword_1009E2CB8) setAlpha:1.0];
}

id sub_100361F80()
{
  uint64_t v1 = *(unsigned char **)(v0 + 16);
  v1[qword_1009918A8] = 1;
  return [v1 setNeedsStatusBarAppearanceUpdate];
}

uint64_t sub_100361FA0(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_10036204C@<X0>(uint64_t a1@<X8>)
{
  uint64_t v38 = a1;
  uint64_t v1 = type metadata accessor for ComponentSeparator.Position();
  uint64_t v36 = *(void *)(v1 - 8);
  uint64_t v37 = v1;
  __chkstk_darwin(v1);
  uint64_t v35 = (char *)&v27 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v32 = *(void *)(v3 - 8);
  uint64_t v33 = v3;
  __chkstk_darwin(v3);
  uint64_t v31 = (char *)&v27 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28(&qword_10098A9C0);
  uint64_t v29 = *(void *)(v5 - 8);
  uint64_t v30 = v5;
  __chkstk_darwin(v5);
  int v28 = (char *)&v27 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_1009828F0);
  uint64_t v27 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  char v9 = (char *)&v27 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = type metadata accessor for MediumLockupLayout.Metrics();
  uint64_t v10 = *(void *)(v34 - 8);
  __chkstk_darwin(v34);
  uint64_t v12 = (char *)&v27 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v27 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  swift_getKeyPath();
  ReadOnlyLens.subscript.getter();
  swift_release();
  (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
  if (v41 && (char v17 = ShelfHeader.hasTrailingArtwork.getter(), swift_release(), (v17 & 1) != 0))
  {
    uint64_t v18 = type metadata accessor for ComponentSeparator();
    return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v18 - 8) + 56))(v38, 1, 1, v18);
  }
  else
  {
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    uint64_t v20 = v41;
    sub_10065BA5C((uint64_t)v12);

    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    unsigned int v21 = v41;
    char v22 = UITraitCollection.prefersAccessibilityLayouts.getter();

    if ((v22 & 1) == 0)
    {
      MediumLockupLayout.Metrics.artworkSize.getter();
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      uint64_t v39 = v40;
      Conditional.evaluate(with:)();
      swift_unknownObjectRelease();
      (*(void (**)(char *, uint64_t))(v27 + 8))(v9, v7);
      uint64_t v23 = v28;
      MediumLockupLayout.Metrics.artworkMargin.getter();
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      uint64_t v24 = v31;
      static Dimensions.defaultRoundingRule.getter();
      Conditional<>.value(in:rounded:)();
      swift_unknownObjectRelease();
      (*(void (**)(char *, uint64_t))(v32 + 8))(v24, v33);
      (*(void (**)(char *, uint64_t))(v29 + 8))(v23, v30);
    }
    (*(void (**)(char *, void, uint64_t))(v36 + 104))(v35, enum case for ComponentSeparator.Position.bottom(_:), v37);
    uint64_t v25 = v38;
    ComponentSeparator.init(position:leadingInset:trailingInset:)();
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v34);
    uint64_t v26 = type metadata accessor for ComponentSeparator();
    return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v26 - 8) + 56))(v25, 0, 1, v26);
  }
}

double sub_100362660()
{
  uint64_t v0 = sub_100082C28((uint64_t *)&unk_1009977A0);
  uint64_t v46 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v2 = (char *)&v41 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_100082C28(&qword_10098A9C0);
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  double v50 = (char *)&v41 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v41 - v7;
  __chkstk_darwin(v9);
  double v49 = (char *)&v41 - v10;
  __chkstk_darwin(v11);
  double v48 = (char *)&v41 - v12;
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v41 - v14;
  uint64_t v16 = (int *)type metadata accessor for ProductLockupInlineUberLayout.Metrics(0);
  sub_100042444((uint64_t)v16, qword_1009E2CC8);
  uint64_t v17 = sub_100087728((uint64_t)v16, (uint64_t)qword_1009E2CC8);
  if (qword_10097EC30 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_100087728(v3, (uint64_t)qword_1009E3000);
  uint64_t v45 = v4;
  uint64_t v19 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 16);
  v19(v15, v18, v3);
  if (qword_10097EC20 != -1) {
    swift_once();
  }
  uint64_t v20 = sub_100087728(v3, (uint64_t)qword_1009E2FD0);
  v19(v48, v20, v3);
  if (qword_10097EC48 != -1) {
    swift_once();
  }
  uint64_t v21 = sub_100087728(v3, (uint64_t)qword_1009E3048);
  v19(v49, v21, v3);
  if (qword_10097EBD0 != -1) {
    swift_once();
  }
  double v70 = &type metadata for CGFloat;
  id v71 = &protocol witness table for CGFloat;
  *(void *)&long long v69 = qword_1009E2F10;
  if (qword_10097EBE0 != -1) {
    swift_once();
  }
  uint64_t v22 = sub_100087728(v3, (uint64_t)qword_1009E2F20);
  v19(v8, v22, v3);
  if (qword_10097EBC8 != -1) {
    swift_once();
  }
  *(void *)&long long v41 = v19;
  char v42 = v15;
  double v43 = v8;
  double v44 = v2;
  uint64_t v47 = v0;
  double v67 = &type metadata for CGFloat;
  double v68 = &protocol witness table for CGFloat;
  *(void *)&long long v66 = qword_1009E2F08;
  double v64 = &type metadata for Double;
  double v65 = &protocol witness table for Double;
  *(void *)&long long v63 = 0;
  double v61 = &type metadata for Double;
  double v62 = &protocol witness table for Double;
  *(void *)&long long v60 = 0;
  if (qword_10097EC90 != -1) {
    swift_once();
  }
  uint64_t v23 = type metadata accessor for StaticDimension();
  uint64_t v24 = sub_100087728(v23, (uint64_t)qword_1009E3110);
  uint64_t v58 = v23;
  double v59 = &protocol witness table for StaticDimension;
  uint64_t v25 = sub_1000808B8((uint64_t *)&v57);
  uint64_t v26 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v23 - 8) + 16);
  v26(v25, v24, v23);
  if (qword_10097EC98 != -1) {
    swift_once();
  }
  uint64_t v27 = sub_100087728(v23, (uint64_t)qword_1009E3128);
  uint64_t v55 = v23;
  double v56 = &protocol witness table for StaticDimension;
  int v28 = sub_1000808B8((uint64_t *)&v54);
  v26(v28, v27, v23);
  if (qword_10097EBE8 != -1) {
    swift_once();
  }
  uint64_t v29 = v47;
  uint64_t v30 = sub_100087728(v47, (uint64_t)qword_1009E2F38);
  uint64_t v31 = v46;
  uint64_t v32 = v44;
  (*(void (**)(char *, uint64_t, uint64_t))(v46 + 16))(v44, v30, v29);
  uint64_t v33 = v50;
  if (qword_10097EC00 != -1) {
    swift_once();
  }
  double v52 = &type metadata for CGFloat;
  double v53 = &protocol witness table for CGFloat;
  *(void *)&long long v51 = qword_1009E2F80;
  if (qword_10097EBF8 != -1) {
    swift_once();
  }
  uint64_t v34 = sub_100087728(v3, (uint64_t)qword_1009E2F68);
  uint64_t v35 = (void (*)(uint64_t, uint64_t, uint64_t))v41;
  ((void (*)(char *, uint64_t, uint64_t))v41)(v33, v34, v3);
  if (qword_10097EC08 != -1) {
    swift_once();
  }
  uint64_t v36 = sub_100087728(v3, (uint64_t)qword_1009E2F88);
  v35(v17 + v16[19], v36, v3);
  long long v41 = *(_OWORD *)&UIEdgeInsetsZero.top;
  CGFloat bottom = UIEdgeInsetsZero.bottom;
  CGFloat right = UIEdgeInsetsZero.right;
  *(void *)(v17 + 32) = 0;
  *(void *)(v17 + 40) = 0;
  uint64_t v39 = *(void (**)(uint64_t, char *, uint64_t))(v45 + 32);
  v39(v17 + v16[7], v42, v3);
  v39(v17 + v16[6], v48, v3);
  v39(v17 + v16[8], v49, v3);
  sub_100081DD4(&v69, v17 + v16[9]);
  v39(v17 + v16[10], v43, v3);
  sub_100081DD4(&v66, v17 + v16[14]);
  sub_100081DD4(&v63, v17 + v16[15]);
  sub_100081DD4(&v60, v17 + v16[16]);
  sub_100081DD4(&v57, v17 + v16[11]);
  sub_100081DD4(&v54, v17 + v16[12]);
  (*(void (**)(uint64_t, char *, uint64_t))(v31 + 32))(v17 + v16[13], v32, v29);
  sub_100081DD4(&v51, v17 + v16[17]);
  v39(v17 + v16[18], v50, v3);
  double result = *(double *)&v41;
  *(_OWORD *)uint64_t v17 = v41;
  *(CGFloat *)(v17 + 16) = bottom;
  *(CGFloat *)(v17 + 24) = right;
  return result;
}

uint64_t sub_100362E54@<X0>(uint64_t a1@<X0>, double *a2@<X8>)
{
  id v98 = a2;
  uint64_t v99 = a1;
  uint64_t v2 = type metadata accessor for OfferButtonMetrics();
  uint64_t v90 = *(void *)(v2 - 8);
  uint64_t v91 = v2;
  __chkstk_darwin(v2);
  uint64_t v88 = (char *)&v85 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  id v89 = (char *)&v85 - v5;
  uint64_t v93 = type metadata accessor for ProductLockupLayout.Metrics.OfferSubtitleMetrics(0);
  __chkstk_darwin(v93);
  uint64_t v107 = (uint64_t)&v85 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_100082C28(&qword_100990DE0);
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v106 = (uint64_t)&v85 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v105 = (uint64_t)&v85 - v11;
  __chkstk_darwin(v12);
  uint64_t v104 = (uint64_t)&v85 - v13;
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100992030);
  uint64_t v15 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v103 = (uint64_t)&v85 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  uint64_t v102 = (uint64_t)&v85 - v18;
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v85 - v20;
  uint64_t v22 = sub_100082C28(&qword_10098A9C0);
  uint64_t v23 = *(void *)(v22 - 8);
  __chkstk_darwin(v22);
  double v94 = (char *)&v85 - ((v24 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v25);
  CGFloat v101 = (char *)&v85 - v26;
  __chkstk_darwin(v27);
  CGFloat v100 = (char *)&v85 - v28;
  __chkstk_darwin(v29);
  uint64_t v31 = (char *)&v85 - v30;
  __chkstk_darwin(v32);
  uint64_t v34 = (char *)&v85 - v33;
  uint64_t v128 = &type metadata for Double;
  id v129 = &protocol witness table for Double;
  id v126 = &protocol witness table for Double;
  *(void *)&long long v127 = 0;
  CGRect v125 = &type metadata for Double;
  *(void *)&long long v124 = 0;
  if (qword_10097EC68 != -1) {
    swift_once();
  }
  uint64_t v35 = sub_100087728(v22, (uint64_t)qword_1009E30A8);
  uint64_t v37 = *(void (**)(char *, uint64_t, uint64_t))(v23 + 16);
  uint64_t v36 = v23 + 16;
  double v95 = v34;
  uint64_t v38 = v34;
  uint64_t v39 = v37;
  v37(v38, v35, v22);
  if (qword_10097EC10 != -1) {
    swift_once();
  }
  uint64_t v40 = sub_100087728(v22, (uint64_t)qword_1009E2FA0);
  double v96 = v31;
  v39(v31, v40, v22);
  if (qword_10097EB20 != -1) {
    swift_once();
  }
  uint64_t v41 = sub_100087728(v14, (uint64_t)qword_1009E2D10);
  char v42 = *(void (**)(uint64_t, uint64_t, uint64_t))(v15 + 16);
  double v97 = v21;
  CGRect v108 = v42;
  v42((uint64_t)v21, v41, v14);
  if (qword_10097ECB8 != -1) {
    swift_once();
  }
  uint64_t v43 = sub_100087728(v7, (uint64_t)qword_1009E3188);
  double v44 = *(void (**)(uint64_t, uint64_t, uint64_t))(v8 + 16);
  v44(v104, v43, v7);
  uint64_t v45 = v105;
  if (qword_10097EC40 != -1) {
    swift_once();
  }
  uint64_t v46 = sub_100087728(v22, (uint64_t)qword_1009E3030);
  v39(v100, v46, v22);
  if (qword_10097EB38 != -1) {
    swift_once();
  }
  uint64_t v47 = sub_100087728(v14, (uint64_t)qword_1009E2D58);
  v108(v102, v47, v14);
  if (qword_10097ECC8 != -1) {
    swift_once();
  }
  uint64_t v48 = sub_100087728(v7, (uint64_t)qword_1009E31B8);
  v44(v45, v48, v7);
  if (qword_10097EC50 != -1) {
    swift_once();
  }
  uint64_t v49 = sub_100087728(v22, (uint64_t)qword_1009E3060);
  v39(v101, v49, v22);
  if (qword_10097EB48 != -1) {
    swift_once();
  }
  uint64_t v50 = sub_100087728(v14, (uint64_t)qword_1009E2D88);
  v108(v103, v50, v14);
  if (qword_10097ECD0 != -1) {
    swift_once();
  }
  uint64_t v51 = sub_100087728(v7, (uint64_t)qword_1009E31D0);
  v44(v106, v51, v7);
  if (qword_10097EBB8 != -1) {
    swift_once();
  }
  uint64_t v52 = type metadata accessor for StaticDimension();
  uint64_t v53 = sub_100087728(v52, (uint64_t)qword_1009E2EE8);
  uint64_t v122 = v52;
  uint64_t v123 = &protocol witness table for StaticDimension;
  long long v54 = sub_1000808B8((uint64_t *)&v121);
  CGFloat v86 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v52 - 8) + 16);
  v86(v54, v53, v52);
  char v55 = UITraitCollection.prefersAccessibilityLayouts.getter();
  double v87 = (void (*)(uint64_t, uint64_t, uint64_t))v39;
  if (v55)
  {
    if (qword_100980418 != -1) {
      swift_once();
    }
    double v56 = qword_1009A4898;
  }
  else
  {
    if (qword_100980420 != -1) {
      swift_once();
    }
    double v56 = qword_1009A48B0;
  }
  uint64_t v92 = v36;
  uint64_t v57 = v91;
  uint64_t v58 = sub_100087728(v91, (uint64_t)v56);
  uint64_t v59 = v90;
  long long v60 = v88;
  (*(void (**)(char *, uint64_t, uint64_t))(v90 + 16))(v88, v58, v57);
  double v61 = v89;
  (*(void (**)(char *, char *, uint64_t))(v59 + 32))(v89, v60, v57);
  OfferButtonMetrics.inAppPurchaseTextSpace.getter();
  (*(void (**)(char *, uint64_t))(v59 + 8))(v61, v57);
  if (qword_10097EB50 != -1) {
    swift_once();
  }
  uint64_t v62 = sub_100087728(v14, (uint64_t)qword_1009E2DA0);
  uint64_t v63 = v93;
  uint64_t v64 = v107;
  v108(v107 + *(int *)(v93 + 20), v62, v14);
  static TextConfiguration.maxSubtitleWidth(with:)();
  double v65 = (void *)(v64 + *(int *)(v63 + 24));
  v65[3] = &type metadata for CGFloat;
  v65[4] = &protocol witness table for CGFloat;
  *double v65 = v66;
  static TextConfiguration.subtitleHorizontalSpacing.getter();
  double v67 = (void *)(v64 + *(int *)(v63 + 28));
  v67[3] = &type metadata for CGFloat;
  v67[4] = &protocol witness table for CGFloat;
  *double v67 = v68;
  sub_100081DD4(&v118, v64);
  if (qword_10097EBC0 != -1) {
    swift_once();
  }
  id v119 = &type metadata for CGFloat;
  uint64_t v120 = &protocol witness table for CGFloat;
  *(void *)&long long v118 = qword_1009E2F00;
  uint64_t v69 = (uint64_t)v94;
  id v71 = v86;
  double v70 = v87;
  if (qword_10097EC88 != -1) {
    swift_once();
  }
  uint64_t v72 = sub_100087728(v52, (uint64_t)qword_1009E30F8);
  uint64_t v116 = v52;
  long long v117 = &protocol witness table for StaticDimension;
  double v73 = sub_1000808B8((uint64_t *)&v115);
  v71(v73, v72, v52);
  if (qword_10097ECA0 != -1) {
    swift_once();
  }
  uint64_t v74 = sub_100087728(v22, (uint64_t)qword_1009E3140);
  v70(v69, v74, v22);
  if (qword_10097ECA8 != -1) {
    swift_once();
  }
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v78 = sub_100087728(v52, (uint64_t)qword_1009E3158);
  uint64_t v113 = v52;
  id v114 = &protocol witness table for StaticDimension;
  id v79 = sub_1000808B8((uint64_t *)&v112);
  v71(v79, v78, v52);
  uint64_t v80 = v71;
  uint64_t v81 = (uint64_t)v95;
  if (qword_10097EC60 != -1) {
    swift_once();
  }
  uint64_t v82 = sub_100087728(v52, (uint64_t)qword_1009E3090);
  uint64_t v110 = v52;
  CGRect v111 = &protocol witness table for StaticDimension;
  double v83 = sub_1000808B8((uint64_t *)&v109);
  v80(v83, v82, v52);
  return ProductLockupLayout.Metrics.init(layoutMargins:bannerViewHeight:secondaryBannerViewHeight:iconSize:iconHorizontalMargin:titleSpace:titleFont:titleMaxNumberOfLines:subtitleSpace:subtitleFont:subtitleMaxNumberOfLines:tertiaryTitleSpace:tertiaryTitleFont:tertiaryTitleMaxNumberOfLines:offerTopSpace:offerSubtitleMetrics:shareButtonLeadingMargin:expandedOfferSubtitleSpace:expandedOfferHorizontalMargin:compactExpandedOfferShareButtonTopSpace:bottomSpace:)(&v127, &v124, v81, (uint64_t)v96, (uint64_t)v97, v104, (uint64_t)v100, v102, v98, UIEdgeInsetsZero.top, left, bottom, right, 0.0, 0.0, v105, (uint64_t)v101, v103, v106,
           &v121,
           v107,
           &v118,
           &v115,
           v69,
           &v112,
           &v109);
}

uint64_t sub_100363AB4()
{
  uint64_t v0 = sub_100082C28(&qword_10098A9C0);
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v43 = (char *)&v36 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v3);
  uint64_t v5 = (char *)&v36 - v4;
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v36 - v7;
  __chkstk_darwin(v9);
  uint64_t v11 = (char *)&v36 - v10;
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v36 - v13;
  uint64_t v15 = (int *)type metadata accessor for ProductLockupAccessibilityLayout.Metrics(0);
  sub_100042444((uint64_t)v15, qword_1009E2CE0);
  uint64_t v16 = sub_100087728((uint64_t)v15, (uint64_t)qword_1009E2CE0);
  long long v60 = &type metadata for Double;
  double v61 = &protocol witness table for Double;
  uint64_t v58 = &protocol witness table for Double;
  *(void *)&long long v59 = 0;
  uint64_t v57 = &type metadata for Double;
  *(void *)&long long v56 = 0;
  if (qword_10097EC18 != -1) {
    swift_once();
  }
  uint64_t v17 = sub_100087728(v0, (uint64_t)qword_1009E2FB8);
  uint64_t v18 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  uint64_t v39 = v14;
  v18(v14, v17, v0);
  if (qword_10097EC40 != -1) {
    swift_once();
  }
  uint64_t v19 = sub_100087728(v0, (uint64_t)qword_1009E3030);
  v18(v11, v19, v0);
  v18(v8, v19, v0);
  if (qword_10097EC50 != -1) {
    swift_once();
  }
  uint64_t v20 = sub_100087728(v0, (uint64_t)qword_1009E3060);
  v18(v5, v20, v0);
  if (qword_10097EBC0 != -1) {
    swift_once();
  }
  uint64_t v38 = v1;
  uint64_t v40 = v11;
  uint64_t v41 = v8;
  char v42 = v5;
  long long v54 = &type metadata for CGFloat;
  char v55 = &protocol witness table for CGFloat;
  *(void *)&long long v53 = qword_1009E2F00;
  if (qword_10097EBB8 != -1) {
    swift_once();
  }
  uint64_t v21 = type metadata accessor for StaticDimension();
  uint64_t v22 = sub_100087728(v21, (uint64_t)qword_1009E2EE8);
  uint64_t v51 = v21;
  uint64_t v52 = &protocol witness table for StaticDimension;
  uint64_t v23 = sub_1000808B8((uint64_t *)&v50);
  uint64_t v24 = *(void (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v21 - 8) + 16);
  v24(v23, v22, v21);
  if (qword_10097EC58 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_100087728(v21, (uint64_t)qword_1009E3078);
  uint64_t v48 = v21;
  uint64_t v49 = &protocol witness table for StaticDimension;
  uint64_t v26 = sub_1000808B8((uint64_t *)&v47);
  v24(v26, v25, v21);
  if (qword_10097EC80 != -1) {
    swift_once();
  }
  uint64_t v27 = sub_100087728(v0, (uint64_t)qword_1009E30E0);
  v18(v43, v27, v0);
  uint64_t v28 = v38;
  if (qword_10097EC88 != -1) {
    swift_once();
  }
  long long v37 = *(_OWORD *)&UIEdgeInsetsZero.top;
  long long v36 = *(_OWORD *)&UIEdgeInsetsZero.bottom;
  uint64_t v29 = sub_100087728(v21, (uint64_t)qword_1009E30F8);
  uint64_t v45 = v21;
  uint64_t v46 = &protocol witness table for StaticDimension;
  uint64_t v30 = sub_1000808B8((uint64_t *)&v44);
  v24(v30, v29, v21);
  if (qword_10097EC70 != -1) {
    swift_once();
  }
  uint64_t v31 = qword_1009E30C0;
  uint64_t v32 = (uint64_t *)(v16 + v15[17]);
  uint64_t v32[3] = (uint64_t)&type metadata for CGFloat;
  v32[4] = (uint64_t)&protocol witness table for CGFloat;
  *uint64_t v32 = v31;
  long long v33 = v36;
  *(_OWORD *)uint64_t v16 = v37;
  *(_OWORD *)(v16 + 16) = v33;
  sub_100081DD4(&v59, v16 + 32);
  sub_100081DD4(&v56, v16 + 72);
  *(void *)(v16 + 112) = 0;
  *(void *)(v16 + 120) = 0;
  uint64_t v34 = *(void (**)(uint64_t, char *, uint64_t))(v28 + 32);
  v34(v16 + v15[8], v39, v0);
  v34(v16 + v15[9], v40, v0);
  v34(v16 + v15[10], v41, v0);
  v34(v16 + v15[11], v42, v0);
  sub_100081DD4(&v53, v16 + v15[12]);
  sub_100081DD4(&v50, v16 + v15[13]);
  sub_100081DD4(&v47, v16 + v15[14]);
  v34(v16 + v15[15], v43, v0);
  return sub_100081DD4(&v44, v16 + v15[16]);
}

id sub_100364154()
{
  id result = [self systemBlueColor];
  qword_1009E2CF8 = (uint64_t)result;
  return result;
}

UIColor sub_100364190()
{
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  result.super.Class isa = UIColor.init(_colorLiteralRed:green:blue:alpha:)(1.0, 0.58431, 0.0, 1.0).super.isa;
  qword_1009E2D00 = (uint64_t)result.super.isa;
  return result;
}

UIColor sub_1003641EC()
{
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  result.super.Class isa = UIColor.init(light:lightHighContrast:dark:darkHighContrast:)((UIColor)[objc_allocWithZone((Class)UIColor) initWithWhite:0.0 alpha:0.8], (UIColor)objc_msgSend(objc_allocWithZone((Class)UIColor), "initWithWhite:alpha:", 0.0, 0.8), (UIColor)objc_msgSend(objc_allocWithZone((Class)UIColor), "initWithWhite:alpha:", 1.0, 0.8), (UIColor)objc_msgSend(objc_allocWithZone((Class)UIColor), "initWithWhite:alpha:", 1.0,
                                  0.8)).super.isa;
  qword_1009E2D08 = (uint64_t)result.super.isa;
  return result;
}

uint64_t sub_1003642D4(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D10);
}

uint64_t sub_1003642F4@<X0>(void **a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_100364538(a1, &qword_10097EB68, (uint64_t)qword_1009E2DC8, a2);
}

uint64_t sub_100364318(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D28);
}

uint64_t sub_100364338(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_100992030);
  sub_100042444(v3, a2);
  sub_100087728(v3, (uint64_t)a2);
  sub_100082C28(&qword_100985B80);
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  return Conditional.init(_:)();
}

void sub_1003643CC(void **a1@<X0>, uint64_t *a2@<X8>)
{
}

uint64_t sub_1003643F0(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D40);
}

void sub_100364410(void **a1@<X0>, uint64_t *a2@<X8>)
{
}

void sub_100364434(void **a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X8>)
{
  uint64_t v7 = *a1;
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  if (*a2 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  sub_100087728(v8, a3);
  id v9 = [v7 traitCollection];
  uint64_t v10 = static UIFont.preferredFont(forUseWith:compatibleWith:)();

  *a4 = v10;
}

uint64_t sub_1003644F4(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D58);
}

uint64_t sub_100364514@<X0>(void **a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_100364538(a1, &qword_10097EB78, (uint64_t)qword_1009E2DF8, a2);
}

uint64_t sub_100364538@<X0>(void **a1@<X0>, void *a2@<X1>, uint64_t a3@<X2>, uint64_t *a4@<X8>)
{
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v17 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = *a1;
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  if (*a2 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100087728(v13, a3);
  v17[1] = v12;
  Conditional.evaluate(with:)();
  id v14 = [v12 traitCollection];
  uint64_t v15 = static UIFont.preferredFont(forUseWith:compatibleWith:)();

  uint64_t result = (*(uint64_t (**)(char *, uint64_t))(v9 + 8))(v11, v8);
  *a4 = v15;
  return result;
}

uint64_t sub_1003646C4(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D70);
}

uint64_t sub_1003646E4@<X0>(void **a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_100364538(a1, &qword_10097EB80, (uint64_t)qword_1009E2E10, a2);
}

uint64_t sub_100364708(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2D88);
}

uint64_t sub_100364728@<X0>(void **a1@<X0>, uint64_t *a2@<X8>)
{
  return sub_100364538(a1, &qword_10097EB88, (uint64_t)qword_1009E2E28, a2);
}

uint64_t sub_10036474C(uint64_t a1)
{
  return sub_100364338(a1, qword_1009E2DA0);
}

void sub_10036476C(void **a1@<X0>, uint64_t *a2@<X8>)
{
}

void sub_100364790()
{
  uint64_t v0 = self;
  id v1 = [v0 _preferredFontForTextStyle:UIFontTextStyleCaption1 addingSymbolicTraits:0x8000 weight:UIFontWeightMedium];
  if (!v1) {
    id v1 = [v0 preferredFontForTextStyle:UIFontTextStyleCaption1];
  }
  id v2 = sub_1002E6084();

  qword_1009E2DB8 = (uint64_t)v2;
}

void sub_100364838()
{
  id v0 = [self preferredFontForTextStyle:UIFontTextStyleCaption1];
  id v1 = sub_1002E6084();

  qword_1009E2DC0 = (uint64_t)v1;
}

uint64_t sub_100364898()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v12 - v5;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100042444(v7, qword_1009E2DC8);
  sub_100087728(v7, (uint64_t)qword_1009E2DC8);
  if (qword_10097F308 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_100087728(v0, (uint64_t)qword_1009E4370);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  if (qword_10097F300 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_100087728(v0, (uint64_t)qword_1009E4358);
  v9(v3, v10, v0);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

uint64_t sub_100364A68()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  sub_100042444(v0, qword_1009E2DE0);
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_1009E2DE0);
  if (qword_10097F310 != -1) {
    swift_once();
  }
  uint64_t v2 = sub_100087728(v0, (uint64_t)qword_1009E4388);
  uint64_t v3 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v1, v2, v0);
}

uint64_t sub_100364B30()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v12 - v5;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100042444(v7, qword_1009E2DF8);
  sub_100087728(v7, (uint64_t)qword_1009E2DF8);
  if (qword_10097F328 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_100087728(v0, (uint64_t)qword_1009E43D0);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  if (qword_10097F320 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_100087728(v0, (uint64_t)qword_1009E43B8);
  v9(v3, v10, v0);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

uint64_t sub_100364D00()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v11 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v11 - v5;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100042444(v7, qword_1009E2E10);
  sub_100087728(v7, (uint64_t)qword_1009E2E10);
  if (qword_10097F340 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_100087728(v0, (uint64_t)qword_1009E4418);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  v9(v3, v8, v0);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

uint64_t sub_100364E9C()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v12 - v5;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100042444(v7, qword_1009E2E28);
  sub_100087728(v7, (uint64_t)qword_1009E2E28);
  if (qword_10097F338 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_100087728(v0, (uint64_t)qword_1009E4400);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  if (qword_10097F330 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_100087728(v0, (uint64_t)qword_1009E43E8);
  v9(v3, v10, v0);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

uint64_t sub_10036506C()
{
  uint64_t v0 = type metadata accessor for FontUseCase();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v12 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v12 - v5;
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100985790);
  sub_100042444(v7, qword_1009E2E40);
  sub_100087728(v7, (uint64_t)qword_1009E2E40);
  if (qword_10097F578 != -1) {
    swift_once();
  }
  uint64_t v8 = sub_100087728(v0, (uint64_t)qword_1009E4AC0);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 16);
  v9(v6, v8, v0);
  if (qword_10097F570 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_100087728(v0, (uint64_t)qword_1009E4AA8);
  v9(v3, v10, v0);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(accessibleLayoutValue:regularLayoutValue:)();
}

uint64_t sub_10036523C()
{
  uint64_t v0 = sub_100082C28((uint64_t *)&unk_100984B00);
  sub_100042444(v0, qword_1009E2E58);
  sub_100087728(v0, (uint64_t)qword_1009E2E58);
  sub_100082C28(&qword_100985B80);
  type metadata accessor for NSTextAlignment(0);
  return Conditional<>.init(regularValue:rightToLeftValue:)();
}

uint64_t sub_1003652C8()
{
  if (qword_10097FC28 != -1) {
    swift_once();
  }
  uint64_t v0 = type metadata accessor for StaticDimension();
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_1009E5D78);
  qword_1009E2E88 = v0;
  unk_1009E2E90 = &protocol witness table for StaticDimension;
  uint64_t v2 = sub_1000808B8(qword_1009E2E70);
  uint64_t v3 = *(uint64_t (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v2, v1, v0);
}

uint64_t sub_100365384(uint64_t a1)
{
  return sub_100365398(a1, &qword_1009E2EB0, &qword_1009E2EB8, qword_1009E2E98);
}

uint64_t sub_100365398(uint64_t a1, uint64_t *a2, void *a3, uint64_t *a4)
{
  if (qword_10097FC20 != -1) {
    swift_once();
  }
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v8 = sub_100087728(v7, (uint64_t)qword_1009E5D60);
  *a2 = v7;
  *a3 = &protocol witness table for StaticDimension;
  uint64_t v9 = sub_1000808B8(a4);
  uint64_t v10 = *(uint64_t (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v7 - 8) + 16);

  return v10(v9, v8, v7);
}

uint64_t sub_100365470(uint64_t a1)
{
  return sub_100365398(a1, &qword_1009E2ED8, &qword_1009E2EE0, qword_1009E2EC0);
}

uint64_t sub_100365484(uint64_t a1)
{
  return sub_1003665A0(a1, qword_1009E2EE8, (void **)&UIFontTextStyleFootnote);
}

void sub_10036549C()
{
  qword_1009E2F00 = 0x4030000000000000;
}

void sub_1003654AC()
{
  qword_1009E2F08 = 0x4034000000000000;
}

void sub_1003654BC()
{
  qword_1009E2F10 = 0x4038000000000000;
}

void sub_1003654CC()
{
  qword_1009E2F18 = 0x4033000000000000;
}

uint64_t sub_1003654DC(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E2F20);
}

uint64_t sub_1003654F0(uint64_t a1)
{
  return sub_100365530(a1, qword_1009E2F38, (uint64_t)&off_1008B9780);
}

uint64_t sub_100365514(uint64_t a1)
{
  return sub_100365530(a1, qword_1009E2F50, (uint64_t)&off_1008B97A8);
}

uint64_t sub_100365530(uint64_t a1, uint64_t *a2, uint64_t a3)
{
  uint64_t v5 = sub_100082C28(&qword_10098A9C0);
  __chkstk_darwin(v5);
  __chkstk_darwin(v6);
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_1009977A0);
  sub_100042444(v7, a2);
  sub_100087728(v7, (uint64_t)a2);
  sub_1000FB880(a3);
  sub_100082C28(&qword_100985B80);
  Conditional<>.init(regularValue:compactValue:)();
  Conditional<>.init(regularValue:compactValue:)();
  return Conditional<>.init(whenOneOf:use:otherwiseUse:)();
}

uint64_t sub_10036569C(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E2F68);
}

void sub_1003656B8()
{
  qword_1009E2F80 = 0x4080E00000000000;
}

uint64_t sub_1003656CC(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E2F88);
}

uint64_t sub_1003656E0(uint64_t a1)
{
  return sub_10036570C(a1, qword_1009E2FA0);
}

uint64_t sub_1003656F4(uint64_t a1)
{
  return sub_10036570C(a1, qword_1009E2FB8);
}

uint64_t sub_10036570C(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v18 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v18 - v8;
  uint64_t v10 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v10, a2);
  sub_100087728(v10, (uint64_t)a2);
  if (qword_10097F308 != -1) {
    swift_once();
  }
  uint64_t v11 = type metadata accessor for FontUseCase();
  uint64_t v12 = sub_100087728(v11, (uint64_t)qword_1009E4370);
  uint64_t v13 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v11 - 8) + 16);
  v13(v9, v12, v11);
  uint64_t v14 = enum case for FontSource.useCase(_:);
  uint64_t v15 = *(void (**)(char *, uint64_t, uint64_t))(v4 + 104);
  v15(v9, enum case for FontSource.useCase(_:), v3);
  if (qword_10097F300 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_100087728(v11, (uint64_t)qword_1009E4358);
  v13(v6, v16, v11);
  v15(v6, v14, v3);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_10036594C()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v14 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)v14 - v5;
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, qword_1009E2FD0);
  v14[1] = sub_100087728(v7, (uint64_t)qword_1009E2FD0);
  if (qword_10097F310 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E4388);
  uint64_t v10 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16);
  v10(v6, v9, v8);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 104);
  v12(v6, enum case for FontSource.useCase(_:), v0);
  v10(v3, v9, v8);
  v12(v3, v11, v0);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_100365B54()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v14 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)v14 - v5;
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, qword_1009E2FE8);
  v14[1] = sub_100087728(v7, (uint64_t)qword_1009E2FE8);
  if (qword_10097F318 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E43A0);
  uint64_t v10 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16);
  v10(v6, v9, v8);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 104);
  v12(v6, enum case for FontSource.useCase(_:), v0);
  v10(v3, v9, v8);
  v12(v3, v11, v0);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_100365D50(uint64_t a1)
{
  return sub_100365D84(a1, qword_1009E3000);
}

uint64_t sub_100365D70(uint64_t a1)
{
  return sub_100365D84(a1, qword_1009E3018);
}

uint64_t sub_100365D84(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (UIFontTextStyle *)((char *)&v10 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, a2);
  sub_100087728(v7, (uint64_t)a2);
  *uint64_t v6 = UIFontTextStyleFootnote;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v4 + 104))(v6, enum case for FontSource.textStyle(_:), v3);
  uint64_t v8 = UIFontTextStyleFootnote;
  return Conditional<>.init(regularConstant:compactConstant:source:)();
}

uint64_t sub_100365EB4()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v15 - v5;
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, qword_1009E3030);
  sub_100087728(v7, (uint64_t)qword_1009E3030);
  if (qword_10097F328 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E43D0);
  uint64_t v10 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16);
  v10(v6, v9, v8);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 104);
  v12(v6, enum case for FontSource.useCase(_:), v0);
  if (qword_10097F320 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_100087728(v8, (uint64_t)qword_1009E43B8);
  v10(v3, v13, v8);
  v12(v3, v11, v0);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_1003660EC()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v14 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)v14 - v5;
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, qword_1009E3048);
  v14[1] = sub_100087728(v7, (uint64_t)qword_1009E3048);
  if (qword_10097F340 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E4418);
  uint64_t v10 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16);
  v10(v6, v9, v8);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 104);
  v12(v6, enum case for FontSource.useCase(_:), v0);
  v10(v3, v9, v8);
  v12(v3, v11, v0);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_1003662E8()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v15 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)&v15 - v5;
  uint64_t v7 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v7, qword_1009E3060);
  sub_100087728(v7, (uint64_t)qword_1009E3060);
  if (qword_10097F338 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E4400);
  uint64_t v10 = *(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16);
  v10(v6, v9, v8);
  uint64_t v11 = enum case for FontSource.useCase(_:);
  uint64_t v12 = *(void (**)(char *, uint64_t, uint64_t))(v1 + 104);
  v12(v6, enum case for FontSource.useCase(_:), v0);
  if (qword_10097F330 != -1) {
    swift_once();
  }
  uint64_t v13 = sub_100087728(v8, (uint64_t)qword_1009E43E8);
  v10(v3, v13, v8);
  v12(v3, v11, v0);
  return Conditional<>.init(regularConstant:compactConstant:regularSource:compactSource:)();
}

uint64_t sub_100366520(uint64_t a1)
{
  return sub_100366900(a1, qword_1009E3078, &qword_10097F578, (uint64_t)qword_1009E4AC0);
}

uint64_t sub_10036654C(uint64_t a1)
{
  return sub_1003665A0(a1, qword_1009E3090, (void **)&UIFontTextStyleBody);
}

uint64_t sub_100366564(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E30A8);
}

void sub_100366578()
{
  qword_1009E30C0 = 0x4044000000000000;
}

uint64_t sub_100366588(uint64_t a1)
{
  return sub_1003665A0(a1, qword_1009E30C8, (void **)&UIFontTextStyleCaption1);
}

uint64_t sub_1003665A0(uint64_t a1, uint64_t *a2, void **a3)
{
  uint64_t v5 = type metadata accessor for FontSource();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (uint64_t *)((char *)&v15[-1] - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v9 = type metadata accessor for StaticDimension();
  sub_100042444(v9, a2);
  sub_100087728(v9, (uint64_t)a2);
  uint64_t v10 = *a3;
  void *v8 = v10;
  (*(void (**)(void *, void, uint64_t))(v6 + 104))(v8, enum case for FontSource.textStyle(_:), v5);
  void v15[3] = v5;
  v15[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v11 = sub_1000808B8(v15);
  (*(void (**)(uint64_t *, void *, uint64_t))(v6 + 16))(v11, v8, v5);
  id v12 = v10;
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(void *, uint64_t))(v6 + 8))(v8, v5);
}

uint64_t sub_100366710()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v8 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v4, qword_1009E30E0);
  sub_100087728(v4, (uint64_t)qword_1009E30E0);
  if (qword_10097F348 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4430);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  return Conditional<>.init(regularConstant:compactConstant:source:)();
}

uint64_t sub_1003668A8(uint64_t a1)
{
  return sub_100366900(a1, qword_1009E30F8, &qword_10097F350, (uint64_t)qword_1009E4448);
}

uint64_t sub_1003668D4(uint64_t a1)
{
  return sub_100366900(a1, qword_1009E3110, &qword_10097F358, (uint64_t)qword_1009E4460);
}

uint64_t sub_100366900(uint64_t a1, uint64_t *a2, void *a3, uint64_t a4)
{
  uint64_t v7 = type metadata accessor for FontSource();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v17[-1] - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for StaticDimension();
  sub_100042444(v11, a2);
  sub_100087728(v11, (uint64_t)a2);
  if (*a3 != -1) {
    swift_once();
  }
  uint64_t v12 = type metadata accessor for FontUseCase();
  uint64_t v13 = sub_100087728(v12, a4);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v12 - 8) + 16))(v10, v13, v12);
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v10, enum case for FontSource.useCase(_:), v7);
  void v17[3] = v7;
  unsigned char v17[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v14 = sub_1000808B8(v17);
  (*(void (**)(uint64_t *, char *, uint64_t))(v8 + 16))(v14, v10, v7);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v10, v7);
}

uint64_t sub_100366ACC()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009E3128);
  sub_100087728(v4, (uint64_t)qword_1009E3128);
  if (qword_10097F358 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4460);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v10[3] = v0;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_100366CA0(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E3140);
}

uint64_t sub_100366CB4()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009E3158);
  sub_100087728(v4, (uint64_t)qword_1009E3158);
  if (qword_10097F350 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4448);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v10[3] = v0;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

uint64_t sub_100366E88(uint64_t a1)
{
  return sub_10036709C(a1, qword_1009E3170);
}

uint64_t sub_100366E98(uint64_t a1)
{
  return sub_100366F7C(a1, qword_1009E3188);
}

uint64_t sub_100366EBC(uint64_t a1)
{
  return sub_100366F7C(a1, qword_1009E31A0);
}

void sub_100366EDC(id *a1@<X0>, uint64_t *a2@<X8>)
{
  id v3 = [*a1 traitCollection];
  char v4 = UITraitCollection.prefersAccessibilityLayouts.getter();

  uint64_t v5 = 2;
  if (v4) {
    uint64_t v5 = 0;
  }
  *a2 = v5;
}

uint64_t sub_100366F3C(uint64_t a1)
{
  return sub_100366F7C(a1, qword_1009E31B8);
}

uint64_t sub_100366F5C(uint64_t a1)
{
  return sub_100366F7C(a1, qword_1009E31D0);
}

uint64_t sub_100366F7C(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_100082C28(&qword_100990DE0);
  sub_100042444(v3, a2);
  sub_100087728(v3, (uint64_t)a2);
  sub_100082C28(&qword_100985B80);
  return Conditional.init(_:)();
}

void sub_100366FF8(id *a1@<X0>, uint64_t *a2@<X8>)
{
  id v3 = [*a1 traitCollection];
  if (UITraitCollection.prefersAccessibilityLayouts.getter())
  {

    uint64_t v4 = 0;
  }
  else
  {
    char v5 = UITraitCollection.isSizeClassRegular.getter();

    uint64_t v4 = 1;
    if ((v5 & 1) == 0) {
      uint64_t v4 = 2;
    }
  }
  *a2 = v4;
}

uint64_t sub_10036706C(uint64_t a1)
{
  return sub_10036709C(a1, qword_1009E31E8);
}

uint64_t sub_10036707C(uint64_t a1)
{
  return sub_10036709C(a1, qword_1009E3200);
}

uint64_t sub_10036708C(uint64_t a1)
{
  return sub_10036709C(a1, qword_1009E3218);
}

uint64_t sub_10036709C(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_100082C28(&qword_100990DE0);
  sub_100042444(v3, a2);
  sub_100087728(v3, (uint64_t)a2);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(accessibleLayoutValue:regularLayoutValue:)();
}

uint64_t sub_100367124(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E3230);
}

uint64_t sub_10036713C(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E3248);
}

uint64_t sub_100367150(uint64_t a1)
{
  return sub_100367164(a1, qword_1009E3260);
}

uint64_t sub_100367164(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = sub_100082C28(&qword_10098A9C0);
  sub_100042444(v3, a2);
  sub_100087728(v3, (uint64_t)a2);
  sub_100082C28(&qword_100985B80);
  return Conditional<>.init(regularValue:compactValue:)();
}

void sub_1003671F0()
{
  id v0 = [objc_allocWithZone((Class)UIColor) initWithWhite:1.0 alpha:0.1];
  id v1 = [v0 CGColor];

  qword_1009E3278 = (uint64_t)v1;
}

void sub_100367258(objc_class *a1, uint64_t a2, uint64_t a3, void *a4)
{
  uint64_t v5 = v4;
  uint64_t v36 = a3;
  uint64_t v8 = type metadata accessor for IndexPath();
  uint64_t v38 = *(void *)(v8 - 8);
  uint64_t v39 = v8;
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)v32 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_100992100);
  __chkstk_darwin(v11 - 8);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_10098FE00);
  uint64_t v37 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)v32 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  Class v40 = a1;
  Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
  Class v16 = (Class)[a4 cellForItemAtIndexPath:isa];

  if (v16)
  {
    uint64_t v35 = v12;
    swift_getObjectType();
    uint64_t v17 = swift_conformsToProtocol2();
    if (v17) {
      uint64_t v18 = v17;
    }
    else {
      uint64_t v18 = 0;
    }
    if (v17) {
      Class v19 = v16;
    }
    else {
      Class v19 = 0;
    }
    if (v19)
    {
      id v34 = a4;
      uint64_t v20 = *(void *)(v5 + 16);
      uint64_t v21 = type metadata accessor for PurchasesContentPresenter();
      uint64_t v22 = sub_100368C08((unint64_t *)&qword_100992110, (void (*)(uint64_t))&type metadata accessor for PurchasesContentPresenter);
      void v32[2] = v21;
      uint64_t v32[3] = v20;
      v32[1] = v22;
      dispatch thunk of ShelfPresenter.model(at:)();
      long long v33 = *(void (**)(char *, Class, uint64_t))(v38 + 16);
      v33(v10, v40, v39);
      StatePath<A>.init(_:)();
      uint64_t v41 = *(void *)(v5 + 24);
      swift_retain();
      sub_100082C28((uint64_t *)&unk_100986D40);
      sub_1000CCD24();
      WritableStateLens.init<A>(contentsOf:in:)();
      uint64_t ObjectType = swift_getObjectType();
      char v24 = (*(uint64_t (**)(unsigned char *, char *, uint64_t, uint64_t, uint64_t))(v18 + 88))(v42, v14, v36, ObjectType, v18);
      char v25 = v24;
      if (v24)
      {
        dispatch thunk of ShelfPresenter.didSelectItem(at:)();
        uint64_t v26 = v35;
        if ((v25 & 2) == 0)
        {
LABEL_11:
          if ((v25 & 4) == 0)
          {
LABEL_13:

            (*(void (**)(char *, uint64_t))(v37 + 8))(v14, v26);
            _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v42);
            return;
          }
LABEL_12:
          sub_100082C28(&qword_100984E60);
          unint64_t v27 = (*(unsigned __int8 *)(v38 + 80) + 32) & ~(unint64_t)*(unsigned __int8 *)(v38 + 80);
          uint64_t v28 = swift_allocObject();
          *(_OWORD *)(v28 + 16) = xmmword_1007BEDF0;
          v33((char *)(v28 + v27), v40, v39);
          Class v29 = Array._bridgeToObjectiveC()().super.isa;
          swift_bridgeObjectRelease();
          [v34 reloadItemsAtIndexPaths:v29];

          Class v16 = v29;
          goto LABEL_13;
        }
      }
      else
      {
        uint64_t v26 = v35;
        if ((v24 & 2) == 0) {
          goto LABEL_11;
        }
      }
      Class v31 = IndexPath._bridgeToObjectiveC()().super.isa;
      [v34 deselectItemAtIndexPath:v31 animated:1];

      if ((v25 & 4) == 0) {
        goto LABEL_13;
      }
      goto LABEL_12;
    }
  }
  type metadata accessor for PurchasesContentPresenter();
  sub_100368C08((unint64_t *)&qword_100992110, (void (*)(uint64_t))&type metadata accessor for PurchasesContentPresenter);
  dispatch thunk of ShelfPresenter.didSelectItem(at:)();
  Class v40 = IndexPath._bridgeToObjectiveC()().super.isa;
  [a4 deselectItemAtIndexPath:v40 animated:1];
  Class v30 = v40;
}

id sub_1003677C0(void *a1, char *a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v8 = *(void (**)(char *, uint64_t, void *))(v3
                                                        + OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_artworkLoader);
  uint64_t v9 = OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_pageTraits;
  uint64_t v10 = *(void **)(v3 + OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_pageTraits);
  uint64_t v11 = *(void *)(v3 + OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_objectGraph);
  swift_unknownObjectRetain();
  sub_10072A0BC(a2, a3, v8, v10, v11, a1);
  swift_unknownObjectRelease();
  id v12 = [a2 contentView];
  [*(id *)(v4 + v9) pageMarginInsets];
  [v12 layoutMargins];
  [v12 setLayoutMargins:];

  id v13 = [a2 contentView];
  [*(id *)(v4 + v9) pageMarginInsets];
  [v13 layoutMargins];
  [v13 setLayoutMargins:];

  type metadata accessor for SmallLockupCollectionViewTableCell();
  id result = (id)swift_dynamicCastClass();
  if (result)
  {
    return [result setSelectionStyle:0];
  }
  return result;
}

id sub_100367E88()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for PurchasesCollectionViewDelegate();
  return [super dealloc];
}

uint64_t type metadata accessor for PurchasesCollectionViewDelegate()
{
  return self;
}

uint64_t sub_10036817C(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t))
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v5 = (void *)Strong;
    sub_1003681FC();
  }
  return a3(1);
}

uint64_t sub_1003681FC()
{
  uint64_t v0 = type metadata accessor for PurchasesContentMode();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)v11 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v4);
  uint64_t v6 = (char *)v11 - v5;
  PurchasesContentPresenter.mode.getter();
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for PurchasesContentMode.hidden(_:), v0);
  sub_100368C08(&qword_1009920F8, (void (*)(uint64_t))&type metadata accessor for PurchasesContentMode);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  if (v11[2] == v11[0] && v11[3] == v11[1])
  {
    swift_bridgeObjectRelease_n();
    uint64_t v7 = *(void (**)(char *, uint64_t))(v1 + 8);
    v7(v3, v0);
    v7(v6, v0);
    return PurchasesContentPresenter.unhidePurchase(at:)();
  }
  char v8 = _stringCompareWithSmolCheck(_:_:expecting:)();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v9 = *(void (**)(char *, uint64_t))(v1 + 8);
  v9(v3, v0);
  v9(v6, v0);
  if (v8) {
    return PurchasesContentPresenter.unhidePurchase(at:)();
  }
  return PurchasesContentPresenter.hidePurchase(at:)();
}

id sub_100368568(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v7 = &v5[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_didScrollHandler];
  *(void *)uint64_t v7 = 0;
  *((void *)v7 + 1) = 0;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_objectGraph] = a1;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_presenter] = a2;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_shelfDataSource] = a3;
  *(void *)&v5[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_artworkLoader] = a4;
  char v8 = v5;
  swift_retain();
  swift_retain();
  swift_retain();
  swift_retain();
  id v9 = [a5 snapshotPageTraitEnvironment];
  *(void *)&v8[OBJC_IVAR____TtC8AppStore31PurchasesCollectionViewDelegate_pageTraits] = v9;

  v11.receiver = v8;
  v11.super_class = (Class)type metadata accessor for PurchasesCollectionViewDelegate();
  return [super init];
}

id sub_100368658(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for IndexPath();
  uint64_t v3 = *(void *)(v2 - 8);
  uint64_t v4 = *(void *)(v3 + 64);
  __chkstk_darwin(v2);
  uint64_t v5 = type metadata accessor for PurchasesContentMode();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  char v8 = (char *)v23 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (PurchasesContentPresenter.canHidePurchases.getter())
  {
    PurchasesContentPresenter.mode.getter();
    uint64_t IsHidden = PurchasesContentMode.toggleIsHiddenText.getter();
    v23[0] = v10;
    v23[1] = IsHidden;
    (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
    uint64_t v11 = swift_allocObject();
    swift_unknownObjectWeakInit();
    (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))((char *)v23 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0), a1, v2);
    unint64_t v12 = (*(unsigned __int8 *)(v3 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v3 + 80);
    uint64_t v13 = swift_allocObject();
    *(void *)(v13 + 16) = v11;
    (*(void (**)(unint64_t, char *, uint64_t))(v3 + 32))(v13 + v12, (char *)v23 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0), v2);
    swift_retain();
    NSString v14 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    aBlock[4] = sub_100368B6C;
    aBlock[5] = v13;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_10067A3A4;
    aBlock[3] = &unk_1008C7688;
    uint64_t v15 = _Block_copy(aBlock);
    id v16 = [self contextualActionWithStyle:1 title:v14 handler:v15];

    _Block_release(v15);
    swift_release();
    swift_release();
    sub_100082C28(&qword_100982B50);
    uint64_t v17 = swift_allocObject();
    *(_OWORD *)(v17 + 16) = xmmword_1007BEA80;
    *(void *)(v17 + 32) = v16;
    aBlock[0] = v17;
    specialized Array._endMutation()();
    sub_100368A28();
    id v18 = v16;
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v20 = [self configurationWithActions:isa];

    [v20 setPerformsFirstActionWithFullSwipe:0];
  }
  else
  {
    sub_100368A28();
    Class v21 = Array._bridgeToObjectiveC()().super.isa;
    id v20 = [self configurationWithActions:v21];
  }
  return v20;
}

unint64_t sub_100368A28()
{
  unint64_t result = qword_1009A4350;
  if (!qword_1009A4350)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_1009A4350);
  }
  return result;
}

uint64_t sub_100368A68()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100368AA0()
{
  uint64_t v1 = type metadata accessor for IndexPath();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  uint64_t v5 = v4 + *(void *)(v2 + 64);
  uint64_t v6 = v3 | 7;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);

  return _swift_deallocObject(v0, v5, v6);
}

uint64_t sub_100368B6C(uint64_t a1, uint64_t a2, uint64_t (*a3)(uint64_t))
{
  type metadata accessor for IndexPath();

  return sub_10036817C(a1, a2, a3);
}

uint64_t sub_100368C08(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100368C50()
{
  if (qword_10097FC28 != -1) {
    swift_once();
  }
  uint64_t v0 = type metadata accessor for StaticDimension();
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_1009E5D78);
  qword_100992130 = v0;
  unk_100992138 = &protocol witness table for StaticDimension;
  uint64_t v2 = sub_1000808B8(qword_100992118);
  uint64_t v3 = *(uint64_t (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v2, v1, v0);
}

uint64_t sub_100368D0C()
{
  if (qword_10097FC30 != -1) {
    swift_once();
  }
  uint64_t v0 = type metadata accessor for StaticDimension();
  uint64_t v1 = sub_100087728(v0, (uint64_t)qword_1009E5D90);
  qword_100992158 = v0;
  unk_100992160 = &protocol witness table for StaticDimension;
  uint64_t v2 = sub_1000808B8(qword_100992140);
  uint64_t v3 = *(uint64_t (**)(uint64_t *, uint64_t, uint64_t))(*(void *)(v0 - 8) + 16);

  return v3(v2, v1, v0);
}

uint64_t sub_100368DC8(uint64_t a1)
{
  return sub_100368DE8(a1, qword_100992168);
}

uint64_t sub_100368DD8(uint64_t a1)
{
  return sub_100368DE8(a1, qword_100992180);
}

uint64_t sub_100368DE8(uint64_t a1, uint64_t *a2)
{
  uint64_t v3 = type metadata accessor for FontSource();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v13[-1] - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  sub_100042444(v7, a2);
  sub_100087728(v7, (uint64_t)a2);
  if (qword_10097F2A8 != -1) {
    swift_once();
  }
  uint64_t v8 = type metadata accessor for FontUseCase();
  uint64_t v9 = sub_100087728(v8, (uint64_t)qword_1009E4250);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v8 - 8) + 16))(v6, v9, v8);
  (*(void (**)(char *, void, uint64_t))(v4 + 104))(v6, enum case for FontSource.useCase(_:), v3);
  uint64_t v13[3] = v3;
  void v13[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v10 = sub_1000808B8(v13);
  (*(void (**)(uint64_t *, char *, uint64_t))(v4 + 16))(v10, v6, v3);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
}

void sub_100368FC4(uint64_t *a1, double a2, double a3, uint64_t a4, uint64_t a5, uint64_t a6, uint64_t a7, void *a8)
{
}

void sub_100368FD8(uint64_t *a1, void *a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
}

uint64_t sub_100368FEC()
{
  return 3;
}

unint64_t sub_100369060()
{
  unint64_t result = qword_100992198;
  if (!qword_100992198)
  {
    type metadata accessor for Paragraph();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100992198);
  }
  return result;
}

unint64_t sub_1003690C0()
{
  unint64_t result = qword_1009921E8;
  if (!qword_1009921E8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009921E8);
  }
  return result;
}

unint64_t sub_100369118()
{
  unint64_t result = qword_1009921F0;
  if (!qword_1009921F0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009921F0);
  }
  return result;
}

BOOL sub_10036916C(void *a1, void *a2, double a3, double a4, double a5, double a6, double a7, double a8)
{
  type metadata accessor for ExpandableTextView();
  sub_1005C8D84(a1, 0, 3, a2, a3, a4, a5, a6, a7, 1.79769313e308);
  return v16 > a8;
}

double sub_100369214(uint64_t a1, void *a2)
{
  uint64_t v3 = type metadata accessor for FontUseCase();
  uint64_t v4 = *(void **)(v3 - 8);
  uint64_t v47 = v3;
  uint64_t v48 = v4;
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)v41 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for StaticDimension();
  uint64_t v50 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)v41 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v51 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v49 = *(void *)(v51 - 8);
  __chkstk_darwin(v51);
  uint64_t v11 = (char *)v41 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for Paragraph.Style();
  uint64_t v13 = *(void *)(v12 - 8);
  *(void *)&double v14 = __chkstk_darwin(v12).n128_u64[0];
  double v16 = (char *)v41 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  [a2 pageMarginInsets:v14];
  double v18 = v17;
  if (Paragraph.suppressVerticalMargins.getter()) {
    return v18;
  }
  Paragraph.style.getter();
  int v19 = (*(uint64_t (**)(char *, uint64_t))(v13 + 88))(v16, v12);
  if (v19 != enum case for Paragraph.Style.standard(_:))
  {
    if (v19 == enum case for Paragraph.Style.article(_:))
    {
      if (qword_10097ED20 != -1) {
        swift_once();
      }
      uint64_t v20 = sub_100087728(v7, (uint64_t)qword_100992168);
      uint64_t v45 = *(void (**)(char *, uint64_t, uint64_t))(v50 + 16);
      uint64_t v46 = v50 + 16;
      v45(v9, v20, v7);
      uint64_t v22 = v47;
      Class v21 = v48;
      if (qword_10097F2A8 != -1) {
        swift_once();
      }
      uint64_t v23 = sub_100087728(v22, (uint64_t)qword_1009E4250);
      uint64_t v43 = (void (*)(char *))v21[2];
      uint64_t v44 = v23;
      v43(v6);
      id v42 = a2;
      id v24 = [a2 traitCollection];
      static Dimensions.defaultRoundingRule.getter();
      v41[1] = sub_100084CF0(0, (unint64_t *)&qword_100984D10);
      char v25 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();
      StaticDimension.value(compatibleWith:rounded:)();
      double v27 = v26;
      UIFont.estimatedFirstBaseline.getter();
      double v29 = v28;

      double v30 = v27 - v29;
      uint64_t v49 = *(void *)(v49 + 8);
      ((void (*)(char *, uint64_t))v49)(v11, v51);
      uint64_t v48 = (void *)v21[1];
      ((void (*)(char *, uint64_t))v48)(v6, v22);
      Class v31 = *(void (**)(char *, uint64_t))(v50 + 8);
      v50 += 8;
      v41[0] = v31;
      v31(v9, v7);
      if (qword_10097ED28 != -1) {
        swift_once();
      }
      double v18 = ceil(v30);
      uint64_t v32 = sub_100087728(v7, (uint64_t)qword_100992180);
      v45(v9, v32, v7);
      ((void (*)(char *, uint64_t, uint64_t))v43)(v6, v44, v22);
      id v33 = [v42 traitCollection];
      static Dimensions.defaultRoundingRule.getter();
      id v34 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();
      StaticDimension.value(compatibleWith:rounded:)();
      [v34 descender];

      ((void (*)(char *, uint64_t))v49)(v11, v51);
      ((void (*)(char *, uint64_t))v48)(v6, v22);
      ((void (*)(char *, uint64_t))v41[0])(v9, v7);
      return v18;
    }
    if (v19 != enum case for Paragraph.Style.caption(_:)
      && v19 != enum case for Paragraph.Style.todayCardOverlay(_:)
      && v19 != enum case for Paragraph.Style.privacyDefinitions(_:))
    {
      (*(void (**)(char *, uint64_t))(v13 + 8))(v16, v12);
      return v18;
    }
  }
  if (qword_10097ED10 != -1) {
    swift_once();
  }
  sub_100081D90(qword_100992118, qword_100992130);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  double v18 = v37;
  uint64_t v38 = *(void (**)(char *, uint64_t))(v49 + 8);
  uint64_t v39 = v51;
  v38(v11, v51);
  if (qword_10097ED18 != -1) {
    swift_once();
  }
  sub_100081D90(qword_100992140, qword_100992158);
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();
  v38(v11, v39);
  return v18;
}

void sub_100369944(uint64_t a1, double a2, double a3, uint64_t a4, uint64_t a5, void *a6)
{
  sub_100082C28(&qword_1009921F8);
  sub_1001A0F88();
  StateLens<A>.currentValue.getter();
  if (LOBYTE(aBlock[0]) == 2) {
    char v26 = Paragraph.isCollapsed.getter();
  }
  else {
    char v26 = aBlock[0] & 1;
  }
  uint64_t v10 = (void *)Paragraph.text.getter();
  swift_getObjectType();
  id v11 = [a6 traitCollection];
  id v12 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v10];
  id v13 = [v10 length];
  uint64_t v14 = swift_allocObject();
  *(void *)(v14 + 16) = 0;
  *(void *)(v14 + 24) = v11;
  *(void *)(v14 + 32) = v12;
  *(unsigned char *)(v14 + 40) = 1;
  uint64_t v15 = swift_allocObject();
  *(void *)(v15 + 16) = sub_1001924C0;
  *(void *)(v15 + 24) = v14;
  aBlock[4] = sub_1001924C4;
  aBlock[5] = v15;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_100687488;
  aBlock[3] = &unk_1008C7858;
  double v16 = _Block_copy(aBlock);
  uint64_t v25 = a1;
  id v17 = v11;
  id v18 = v12;
  swift_retain();
  swift_release();
  [v10 enumerateAttributesInRange:0 options:0x100000 usingBlock:v16];
  _Block_release(v16);
  char isEscapingClosureAtFileLocation = swift_isEscapingClosureAtFileLocation();

  swift_release();
  swift_release();
  if (isEscapingClosureAtFileLocation)
  {
    __break(1u);
  }
  else
  {
    id v20 = v18;
    [a6 pageMarginInsets];
    sub_100778AF8(v18, v26 & 1, a6, v21, v22, v23, v24, a2, a3);

    sub_100369214(v25, a6);
  }
}

void sub_100369C18(uint64_t a1, void *a2, uint64_t a3, uint64_t a4, void *a5)
{
  id v70 = a2;
  uint64_t v8 = sub_100082C28(&qword_10098E710);
  __chkstk_darwin(v8 - 8);
  uint64_t v72 = (char *)&v65 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for Paragraph.Style();
  uint64_t v68 = *(void *)(v10 - 8);
  uint64_t v69 = v10;
  __chkstk_darwin(v10);
  double v67 = (char *)&v65 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&double v13 = __chkstk_darwin(v12).n128_u64[0];
  uint64_t v66 = (char *)&v65 - v14;
  double v73 = v5;
  id v15 = [v5 contentView];
  [v15 setLayoutMargins:sub_100369214(a1, a5)];

  uint64_t v71 = a1;
  double v16 = (void *)Paragraph.text.getter();
  id v17 = [a5 traitCollection];
  id v18 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v16];
  id v19 = [v16 length];
  uint64_t v20 = swift_allocObject();
  *(void *)(v20 + 16) = 0;
  *(void *)(v20 + 24) = v17;
  *(void *)(v20 + 32) = v18;
  *(unsigned char *)(v20 + 40) = 1;
  uint64_t v21 = swift_allocObject();
  *(void *)(v21 + 16) = sub_100165B8C;
  *(void *)(v21 + 24) = v20;
  uint64_t v78 = sub_100165BAC;
  uint64_t v79 = v21;
  long long aBlock = _NSConcreteStackBlock;
  uint64_t v75 = 1107296256;
  double v76 = sub_100687488;
  double v77 = &unk_1008C7768;
  double v22 = _Block_copy(&aBlock);
  id v23 = v17;
  id v24 = v18;
  swift_retain();
  swift_release();
  [v16 enumerateAttributesInRange:0 options:0x100000 usingBlock:v22];
  _Block_release(v22);
  LOBYTE(v18) = swift_isEscapingClosureAtFileLocation();

  swift_release();
  swift_release();
  if (v18)
  {
    __break(1u);
    goto LABEL_21;
  }
  [a5 pageMarginInsets];
  double v26 = v25;
  double v28 = v27;
  double v30 = v29;
  double v32 = v31;
  id v33 = v73;
  id v34 = [v73 contentView];
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  LayoutMarginsAware<>.layoutFrame.getter();
  double v36 = v35;
  double v38 = v37;

  type metadata accessor for ExpandableTextView();
  sub_1005C8D84(v24, 0, 3, a5, v26, v28, v30, v32, v36, 1.79769313e308);
  double v40 = v39;
  uint64_t v41 = *(void *)&v33[OBJC_IVAR____TtC8AppStore27ParagraphCollectionViewCell_expandableTextView];
  id v42 = v66;
  Paragraph.style.getter();
  uint64_t v43 = v67;
  uint64_t v44 = v68;
  uint64_t v45 = v69;
  (*(void (**)(char *, char *, uint64_t))(v68 + 16))(v67, v42, v69);
  int v46 = (*(uint64_t (**)(char *, uint64_t))(v44 + 88))(v43, v45);
  uint64_t v47 = (uint64_t)v72;
  if (v46 == enum case for Paragraph.Style.standard(_:)) {
    goto LABEL_3;
  }
  if (v46 == enum case for Paragraph.Style.article(_:))
  {
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    uint64_t v48 = static UIColor.secondaryText.getter();
    goto LABEL_6;
  }
  if (v46 == enum case for Paragraph.Style.caption(_:)
    || v46 == enum case for Paragraph.Style.todayCardOverlay(_:)
    || v46 == enum case for Paragraph.Style.privacyDefinitions(_:))
  {
LABEL_3:
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    uint64_t v48 = static UIColor.primaryText.getter();
LABEL_6:
    uint64_t v49 = (void *)v48;
    goto LABEL_7;
  }
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  uint64_t v63 = static UIColor.primaryText.getter();
  uint64_t v64 = v43;
  uint64_t v49 = (void *)v63;
  (*(void (**)(char *, uint64_t))(v44 + 8))(v64, v45);
LABEL_7:
  (*(void (**)(char *, uint64_t))(v44 + 8))(v42, v45);
  [*(id *)(v41 + OBJC_IVAR____TtC8AppStore18ExpandableTextView_textLabel) setTextColor:v49];

  sub_100082C28(&qword_1009874B8);
  sub_1001A0F88();
  WritableStateLens<A>.currentValue.getter();
  if (aBlock == 2)
  {
    if ((Paragraph.isCollapsed.getter() & 1) == 0) {
      goto LABEL_14;
    }
  }
  else if ((aBlock & 1) == 0)
  {
LABEL_14:
    id v59 = v24;
    Paragraph.alignment.getter();
    uint64_t v62 = type metadata accessor for Paragraph.Alignment();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v62 - 8) + 56))(v47, 0, 1, v62);
    sub_1005C7B74(v24, 0, 0, v47);
    double v61 = v73;
    goto LABEL_15;
  }
  if (v40 <= v38) {
    goto LABEL_14;
  }
  id v70 = v24;
  uint64_t v50 = (void *)Paragraph.collapsedText.getter();
  id v51 = [a5 traitCollection];
  id v52 = [objc_allocWithZone((Class)NSMutableAttributedString) initWithAttributedString:v50];
  id v53 = [v50 length];
  uint64_t v54 = swift_allocObject();
  *(void *)(v54 + 16) = 0;
  *(void *)(v54 + 24) = v51;
  *(void *)(v54 + 32) = v52;
  *(unsigned char *)(v54 + 40) = 1;
  uint64_t v55 = swift_allocObject();
  *(void *)(v55 + 16) = sub_1001924C0;
  *(void *)(v55 + 24) = v54;
  uint64_t v78 = sub_1001924C4;
  uint64_t v79 = v55;
  long long aBlock = _NSConcreteStackBlock;
  uint64_t v75 = 1107296256;
  double v76 = sub_100687488;
  double v77 = &unk_1008C77E0;
  long long v56 = _Block_copy(&aBlock);
  id v57 = v51;
  id v58 = v52;
  swift_retain();
  swift_release();
  [v50 enumerateAttributesInRange:0 options:0x100000 usingBlock:v56];
  _Block_release(v56);
  LOBYTE(v53) = swift_isEscapingClosureAtFileLocation();

  swift_release();
  swift_release();
  if ((v53 & 1) == 0)
  {
    id v59 = v58;
    uint64_t v47 = (uint64_t)v72;
    Paragraph.alignment.getter();
    uint64_t v60 = type metadata accessor for Paragraph.Alignment();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v60 - 8) + 56))(v47, 0, 1, v60);
    sub_1005C7B74(v58, 1, 0, v47);

    double v61 = v73;
    id v24 = v70;
LABEL_15:

    sub_10036A4D0(v47);
    [v61 setNeedsLayout];

    return;
  }
LABEL_21:
  __break(1u);
}

uint64_t sub_10036A4C0()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10036A4D0(uint64_t a1)
{
  uint64_t v2 = sub_100082C28(&qword_10098E710);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_10036A534()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10036A548()
{
  return _swift_deallocObject(v0, 32, 7);
}

unsigned char *_s5StateVwst_4(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *unint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x10036A624);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *_s5StateVMa_4()
{
  return &_s5StateVN_4;
}

char *sub_10036A66C(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView;
  id v10 = objc_allocWithZone((Class)type metadata accessor for SmallSearchLockupView());
  uint64_t v11 = v4;
  *(void *)&v4[v9] = [v10 initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v12 = OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots;
  *(void *)&v11[v12] = [objc_allocWithZone((Class)type metadata accessor for LockupMediaView()) init];
  v11[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia] = 1;
  *(void *)&v11[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_preferredImageSizes] = &_swiftEmptyDictionarySingleton;
  *(void *)&v11[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsCalculator] = 0;
  double v13 = &v11[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsUpdateBlock];
  *(void *)double v13 = 0;
  *((void *)v13 + 1) = 0;

  v20.receiver = v11;
  v20.super_class = (Class)type metadata accessor for AppSearchResultContentView();
  id v14 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  id v18 = (char *)v14;
  [v18 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [v18 addSubview:*(void *)&v18[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView]];
  [v18 addSubview:*(void *)&v18[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots]];

  return v18;
}

uint64_t sub_10036A848(void *a1)
{
  if (!a1) {
    return 0;
  }
  uint64_t v2 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots);
  id v3 = [a1 superview];
  if (!v3) {
    return 0;
  }
  unsigned int v4 = v3;
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  id v5 = v2;
  id v6 = v4;
  char v7 = static NSObject.== infix(_:_:)();

  return v7 & 1;
}

void (*sub_10036A8E8(uint64_t *a1))(id *a1, char a2)
{
  a1[1] = v1;
  if (*(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia) == 1) {
    uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  }
  else {
    uint64_t Strong = 0;
  }
  *a1 = Strong;
  return sub_10036A968;
}

void sub_10036A968(id *a1, char a2)
{
  id v4 = *a1;
  if (a2)
  {
    id v2 = v4;
    sub_1002278D8();

    id v3 = v2;
  }
  else
  {
    sub_1002278D8();
    id v3 = v4;
  }
}

id sub_10036A9E0()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v2 - 8);
  id v4 = (char *)&v41 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = sub_100082C28((uint64_t *)&unk_100981580);
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v41 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = (objc_class *)type metadata accessor for AppSearchResultContentView();
  v56.receiver = v0;
  v56.super_class = v9;
  [super layoutSubviews];
  id v10 = *(char **)&v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView];
  LayoutMarginsAware<>.layoutFrame.getter();
  sub_100121C54();
  LayoutMarginsAware<>.layoutFrame.getter();
  LayoutMarginsAware<>.layoutFrame.getter();
  CGRect.withLayoutDirection(in:relativeTo:)();
  id result = [v10 setFrame:];
  if (v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia] == 1)
  {
    static StandardSearchResultContentViewMetrics.bottomMargin.getter();
    id v12 = [v0 traitCollection];
    uint64_t v13 = type metadata accessor for TraitEnvironmentPlaceholder();
    uint64_t v53 = sub_100082C28(&qword_100982B50);
    uint64_t v14 = swift_allocObject();
    long long v51 = xmmword_1007BEA80;
    *(_OWORD *)(v14 + 16) = xmmword_1007BEA80;
    *(void *)(v14 + 32) = v12;
    id v15 = v12;
    uint64_t v54 = v13;
    double v16 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    unint64_t v52 = sub_1000AA704();
    dispatch thunk of AnyDimension.rawValue(in:)();

    id v18 = *(void (**)(char *, uint64_t))(v6 + 8);
    uint64_t v17 = v6 + 8;
    uint64_t v50 = v18;
    v18(v8, v5);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGRectGetMinX(v57);
    [v10 frame];
    CGRectGetMaxY(v58);
    id v19 = *(NSString **)&v10[OBJC_IVAR____TtC8AppStore14BaseLockupView_title + 8];
    uint64_t v47 = *(void *)&v10[OBJC_IVAR____TtC8AppStore14BaseLockupView_title];
    objc_super v20 = *(void **)&v10[OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel];
    uint64_t v21 = v19;
    swift_bridgeObjectRetain();
    id v22 = [v20 text];
    if (v22)
    {
      id v23 = v22;
      uint64_t v46 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      uint64_t v49 = v24;
    }
    else
    {
      uint64_t v46 = 0;
      uint64_t v49 = 0;
    }
    uint64_t v48 = v8;
    id v25 = [*(id *)&v10[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_descriptionLabel] text];
    uint64_t v55 = v17;
    uint64_t v45 = v5;
    if (v25)
    {
      double v26 = v25;
      uint64_t v44 = static String._unconditionallyBridgeFromObjectiveC(_:)();
      uint64_t v28 = v27;
    }
    else
    {
      uint64_t v44 = 0;
      uint64_t v28 = 0;
    }
    uint64_t v43 = v28;
    double v29 = (unint64_t *)(*(void *)&v10[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_metadataRibbonView]
                             + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemModels);
    swift_beginAccess();
    unint64_t v42 = *v29;
    unint64_t v30 = v42;
    swift_bridgeObjectRetain();
    static MetadataRibbonViewLayout.Metrics.standard.getter();
    uint64_t v31 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v31 - 8) + 56))(v4, 0, 1, v31);
    unint64_t v32 = *(void *)(*(void *)&v10[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_searchTagsRibbonView]
                    + OBJC_IVAR____TtC8AppStore20SearchTagsRibbonView_metadataRibbonItemModels);
    unsigned __int8 v33 = v10[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_shouldEvenlyDistribute];
    swift_bridgeObjectRetain();
    LayoutMarginsAware<>.layoutFrame.getter();
    id v34 = [v1 traitCollection];
    sub_100123F94(v47, v21, v46, v49, v44, v28, v30, (uint64_t)v4, v32, v33, v34);
    double v35 = v48;
    static StandardSearchResultContentViewMetrics.bottomMargin.getter();
    uint64_t v36 = swift_allocObject();
    *(_OWORD *)(v36 + 16) = v51;
    *(void *)(v36 + 32) = v34;
    id v37 = v34;
    double v38 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    uint64_t v39 = v45;
    dispatch thunk of AnyDimension.rawValue(in:)();

    v50(v35, v39);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_100082BCC((uint64_t)v4, (uint64_t *)&unk_1009A4AA0);
    double v40 = *(void **)&v1[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots];
    [v1 bounds];
    CGRect.withLayoutDirection(in:relativeTo:)();
    return [v40 setFrame:];
  }
  return result;
}

id sub_10036B00C(uint64_t a1, uint64_t a2, Swift::Bool a3)
{
  id v4 = v3;
  sub_100122EC8(a1, a2, a3);
  uint64_t v5 = *(void **)&v3[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots];
  id result = (id)sub_100225FBC();
  char v7 = v4[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia];
  v4[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia] = 1;
  if ((v7 & 1) == 0)
  {
    [v5 setHidden:0];
    return [v4 setNeedsLayout];
  }
  return result;
}

uint64_t sub_10036B0B0(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v56 = a2;
  swift_getObjectType();
  uint64_t v4 = type metadata accessor for LockupMediaLayout.DisplayType();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v50 = (uint64_t)&v45 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v7 - 8);
  uint64_t v51 = (uint64_t)&v45 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28(&qword_100984EA0);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v45 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for PageGrid();
  uint64_t v54 = *(void *)(v12 - 8);
  uint64_t v55 = v12;
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v45 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for ScreenshotsDisplayStyle();
  uint64_t v52 = *(void *)(v15 - 8);
  uint64_t v53 = v15;
  __chkstk_darwin(v15);
  uint64_t v17 = (char *)&v45 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for AppSearchResult();
  sub_10036DA14(&qword_1009922A0, 255, (void (*)(uint64_t))&type metadata accessor for AppSearchResult);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v58)
  {
    uint64_t v48 = v5;
    uint64_t v49 = v4;
    uint64_t v57 = AppSearchResult.lockup.getter();
    MixedMediaLockup.screenshotsDisplayStyle.getter();
    char v19 = dispatch thunk of AppSearchResult.shouldDisplayMedia.getter();
    uint64_t v20 = OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia;
    int v21 = v2[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia];
    v2[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia] = v19 & 1;
    id v22 = &selRef_accessibilityShowsBadge;
    if ((v19 & 1) != v21)
    {
      [*(id *)&v2[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots] setHidden:(v19 & 1) == 0];
      [v2 setNeedsLayout];
    }
    static SearchPageGridBreakpointOverridable.pageGridWithSearchOverrides(for:)();
    PageGrid.interColumnSpace.getter();
    id v23 = *(char **)&v2[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView];
    *(void *)&v23[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_regularWidthColumnSpacing] = v24;
    [v23 setNeedsLayout];
    uint64_t v25 = type metadata accessor for ItemLayoutContext();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v25 - 8) + 56))(v11, 1, 1, v25);
    uint64_t v47 = type metadata accessor for ObjectGraph();
    uint64_t v26 = swift_dynamicCastClassUnconditional();
    sub_1002DF510(v57, (uint64_t)v11, v26);
    sub_100082BCC((uint64_t)v11, &qword_100984EA0);
    if (v3[v20] != 1 || (ScreenshotsDisplayStyle.shouldShowScreenshots.getter() & 1) == 0) {
      goto LABEL_39;
    }
    unint64_t v27 = MixedMediaLockup.screenshots.getter();
    unint64_t v28 = v27;
    if (v27 >> 62)
    {
      if (_CocoaArrayWrapper.endIndex.getter()) {
        goto LABEL_8;
      }
    }
    else if (*(void *)((v27 & 0xFFFFFFFFFFFFFF8) + 0x10))
    {
LABEL_8:
      if ((v28 & 0xC000000000000001) != 0)
      {
        id v22 = (char **)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        if (!*(void *)((v28 & 0xFFFFFFFFFFFFFF8) + 0x10))
        {
          __break(1u);
          goto LABEL_43;
        }
        id v22 = *(char ***)(v28 + 32);
        swift_retain();
      }
      swift_bridgeObjectRelease();
LABEL_14:
      uint64_t v29 = *(void *)&v3[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots];
      unint64_t v30 = MixedMediaLockup.trailers.getter();
      unint64_t v31 = v30;
      if (v30 >> 62)
      {
        uint64_t v33 = _CocoaArrayWrapper.endIndex.getter();
        uint64_t v46 = v29;
        if (v33)
        {
LABEL_16:
          if ((v31 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v31 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              goto LABEL_45;
            }
            uint64_t v45 = *(void **)(v31 + 32);
            swift_retain();
            goto LABEL_19;
          }
LABEL_43:
          uint64_t v45 = (void *)specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_19:
          swift_bridgeObjectRelease();
          goto LABEL_22;
        }
      }
      else
      {
        uint64_t v32 = *(void *)((v30 & 0xFFFFFFFFFFFFFF8) + 0x10);
        uint64_t v46 = v29;
        if (v32) {
          goto LABEL_16;
        }
      }
      swift_bridgeObjectRelease();
      uint64_t v45 = 0;
LABEL_22:
      type metadata accessor for ContentSearchResultCollectionViewCell();
      id v34 = (id)ASKDeviceTypeGetCurrent();
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      double v35 = v58;
      sub_1004E4548(v51);

      unint64_t v36 = MixedMediaLockup.screenshots.getter();
      unint64_t v37 = v36;
      if (v36 >> 62)
      {
        if (_CocoaArrayWrapper.endIndex.getter())
        {
LABEL_24:
          if ((v37 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v37 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              goto LABEL_47;
            }
            double v35 = *(void **)(v37 + 32);
            swift_retain();
            goto LABEL_27;
          }
LABEL_45:
          double v35 = (void *)specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_27:
          swift_bridgeObjectRelease();
          goto LABEL_30;
        }
      }
      else if (*(void *)((v36 & 0xFFFFFFFFFFFFFF8) + 0x10))
      {
        goto LABEL_24;
      }
      swift_bridgeObjectRelease();
      double v35 = 0;
LABEL_30:
      unint64_t v38 = MixedMediaLockup.trailers.getter();
      unint64_t v39 = v38;
      if (v38 >> 62)
      {
        uint64_t result = _CocoaArrayWrapper.endIndex.getter();
        if (result)
        {
LABEL_32:
          if ((v39 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v39 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              return result;
            }
            uint64_t v40 = *(void *)(v39 + 32);
            swift_retain();
            goto LABEL_35;
          }
LABEL_47:
          uint64_t v40 = specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_35:
          swift_bridgeObjectRelease();
LABEL_38:
          uint64_t v41 = v50;
          sub_100223CA4((unint64_t)v35, v40, (uint64_t)v17, v50);
          swift_release();
          swift_release();
          id v42 = (id)ASKDeviceTypeGetCurrent();
          uint64_t v43 = swift_dynamicCastClassUnconditional();
          uint64_t v44 = v51;
          sub_1005E45C4((unint64_t)v22, v45, v51, v41, (uint64_t)v17, v43);

          swift_release();
          swift_release();
          (*(void (**)(uint64_t, uint64_t))(v48 + 8))(v41, v49);
          sub_100082BCC(v44, (uint64_t *)&unk_1009856C0);
LABEL_39:
          [v3 setNeedsLayout:v45, v46];
          swift_release();
          swift_release();
          (*(void (**)(char *, uint64_t))(v54 + 8))(v14, v55);
          return (*(uint64_t (**)(char *, uint64_t))(v52 + 8))(v17, v53);
        }
      }
      else
      {
        uint64_t result = *(void *)((v38 & 0xFFFFFFFFFFFFFF8) + 0x10);
        if (result) {
          goto LABEL_32;
        }
      }
      swift_bridgeObjectRelease();
      uint64_t v40 = 0;
      goto LABEL_38;
    }
    swift_bridgeObjectRelease();
    id v22 = 0;
    goto LABEL_14;
  }
  return result;
}

uint64_t sub_10036B84C()
{
  uint64_t v1 = v0;
  uint64_t v2 = (void *)(v0 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsCalculator);
  swift_beginAccess();
  if (*v2)
  {
    swift_retain();
    ImpressionsCalculator.removeAllElements()();
    swift_release();
  }
  *uint64_t v2 = 0;
  swift_release();
  uint64_t v3 = (uint64_t *)(v0 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v4 = *v3;
  *uint64_t v3 = 0;
  v3[1] = 0;
  sub_10006012C(v4);
  uint64_t v5 = *(void *)(v1 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView);
  uint64_t v6 = (void *)(v5 + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_impressionsCalculator);
  swift_beginAccess();
  if (*v6)
  {
    swift_retain();
    ImpressionsCalculator.removeAllElements()();
    swift_release();
  }
  *uint64_t v6 = 0;
  swift_release();
  uint64_t v7 = (uint64_t *)(v5 + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v8 = *v7;
  *uint64_t v7 = 0;
  v7[1] = 0;
  sub_10006012C(v8);
  type metadata accessor for SearchTagsRibbonView();
  sub_10036DA14((unint64_t *)&unk_100992290, 255, (void (*)(uint64_t))type metadata accessor for SearchTagsRibbonView);
  return NestedModelImpressionsRecording.stopRecordingNestedImpressions(using:)();
}

id sub_10036B9F0()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for AppSearchResultContentView();
  [super dealloc];
}

uint64_t type metadata accessor for AppSearchResultContentView()
{
  return self;
}

uint64_t sub_10036BAD8()
{
  if (*(unsigned char *)(v0 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia) == 1) {
    return swift_unknownObjectWeakLoadStrong();
  }
  else {
    return 0;
  }
}

void sub_10036BB2C(void *a1)
{
  sub_1002278D8();
}

uint64_t (*sub_10036BB78(uint64_t **a1))()
{
  objc_super v2 = (uint64_t *)malloc(0x28uLL);
  *a1 = v2;
  v2[4] = (uint64_t)sub_10036A8E8(v2);
  return sub_100090DB4;
}

uint64_t sub_10036BBD0()
{
  return swift_retain();
}

uint64_t sub_10036BC1C(uint64_t a1)
{
  uint64_t v3 = (void *)(v1 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsCalculator);
  swift_beginAccess();
  *uint64_t v3 = a1;
  return swift_release();
}

uint64_t (*sub_10036BC70())()
{
  return j__swift_endAccess;
}

uint64_t sub_10036BCCC()
{
  uint64_t v1 = (uint64_t *)(v0 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v2 = *v1;
  sub_100060050(*v1);
  return v2;
}

uint64_t sub_10036BD28(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v6 = *v5;
  *uint64_t v5 = a1;
  v5[1] = a2;
  return sub_10006012C(v6);
}

uint64_t (*sub_10036BD88())()
{
  return j_j__swift_endAccess;
}

uint64_t sub_10036BDE4()
{
  return NestedModelImpressionsRecording.startRecordingNestedImpressions(for:using:)();
}

uint64_t sub_10036BE90(uint64_t a1)
{
  uint64_t WitnessTable = swift_getWitnessTable();

  return VideoViewProviding.someVideoView.getter(a1, WitnessTable);
}

uint64_t sub_10036BEE4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t WitnessTable = swift_getWitnessTable();

  return VideoViewProviding.someVideoView.setter(a1, a2, a3, WitnessTable);
}

uint64_t (*sub_10036BF50(void *a1))()
{
  uint64_t v2 = malloc(0x28uLL);
  *a1 = v2;
  swift_getWitnessTable();
  v2[4] = VideoViewProviding.someVideoView.modify();
  return sub_100090DB4;
}

uint64_t sub_10036BFD8(uint64_t a1, uint64_t a2)
{
  return sub_10036DA14(&qword_100992258, a2, (void (*)(uint64_t))type metadata accessor for AppSearchResultContentView);
}

uint64_t sub_10036C020(uint64_t a1, uint64_t a2)
{
  return sub_10036DA14(&qword_100992260, a2, (void (*)(uint64_t))type metadata accessor for AppSearchResultContentView);
}

uint64_t sub_10036C068(uint64_t a1, uint64_t a2)
{
  return sub_10036DA14((unint64_t *)&unk_100992268, a2, (void (*)(uint64_t))type metadata accessor for AppSearchResultContentView);
}

uint64_t sub_10036C0B0()
{
  return sub_10036DA14(&qword_1009859B0, 255, (void (*)(uint64_t))type metadata accessor for VideoView);
}

uint64_t sub_10036C0FC(uint64_t a1, uint64_t a2)
{
  *(void *)(a1 + 24) = sub_10036DA14(&qword_100992278, a2, (void (*)(uint64_t))type metadata accessor for AppSearchResultContentView);
  uint64_t result = sub_10036DA14((unint64_t *)&unk_100992280, v3, (void (*)(uint64_t))type metadata accessor for AppSearchResultContentView);
  *(void *)(a1 + 32) = result;
  return result;
}

uint64_t sub_10036C180(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for LockupMediaLayout.DisplayType();
  uint64_t v74 = *(void *)(v2 - 8);
  uint64_t v75 = v2;
  __chkstk_darwin(v2);
  double v77 = (char *)&v62 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v4 - 8);
  double v76 = (char *)&v62 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100981580);
  uint64_t v79 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v78 = (char *)&v62 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v62 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for ShelfLayoutContext();
  __chkstk_darwin(v11 - 8);
  uint64_t v12 = type metadata accessor for PageGrid();
  uint64_t v80 = *(void *)(v12 - 8);
  uint64_t v81 = v12;
  __chkstk_darwin(v12);
  uint64_t v82 = (char *)&v62 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v83 = type metadata accessor for ScreenshotsDisplayStyle();
  uint64_t v14 = *(void *)(v83 - 8);
  __chkstk_darwin(v83);
  uint64_t v16 = (char *)&v62 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v17);
  char v19 = (char *)&v62 - v18;
  type metadata accessor for AppSearchResult();
  sub_10036DA14(&qword_1009922A0, 255, (void (*)(uint64_t))&type metadata accessor for AppSearchResult);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  int v21 = v84;
  if (!v84) {
    return result;
  }
  double v73 = v10;
  uint64_t v63 = v6;
  AppSearchResult.lockup.getter();
  MixedMediaLockup.screenshotsDisplayStyle.getter();
  ItemLayoutContext.parentShelfLayoutContext.getter();
  if (qword_1009806B8 != -1) {
    swift_once();
  }
  swift_bridgeObjectRetain();
  PageGrid.init(from:breakpointOverrides:)();
  PageGrid.componentMeasuringSize(spanning:)();
  uint64_t v65 = v21;
  char v22 = dispatch thunk of AppSearchResult.shouldDisplayMedia.getter();
  (*(void (**)(char *, char *, uint64_t))(v14 + 16))(v16, v19, v83);
  if (v22) {
    int v68 = ScreenshotsDisplayStyle.shouldShowScreenshots.getter();
  }
  else {
    int v68 = 0;
  }
  id v23 = *(uint64_t (**)(char *, uint64_t))(v14 + 8);
  uint64_t v67 = v14 + 8;
  uint64_t v64 = v23;
  v23(v16, v83);
  swift_retain();
  uint64_t v70 = Lockup.title.getter();
  uint64_t v72 = v24;
  swift_release();
  swift_retain();
  uint64_t v69 = Lockup.subtitle.getter();
  uint64_t v71 = v25;
  swift_release();
  swift_retain();
  uint64_t v26 = Lockup.searchAd.getter();
  swift_release();
  uint64_t v27 = (uint64_t)v73;
  uint64_t v66 = v19;
  uint64_t v28 = a1;
  if (v26)
  {
    uint64_t v29 = SearchAd.advertisingText.getter();
    uint64_t v31 = v30;
    swift_release();
  }
  else
  {
    uint64_t v29 = 0;
    uint64_t v31 = 0;
  }
  unint64_t v32 = MixedMediaLockup.metadataRibbonItems.getter();
  static MetadataRibbonViewLayout.Metrics.standard.getter();
  uint64_t v33 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v33 - 8) + 56))(v27, 0, 1, v33);
  unint64_t v34 = MixedMediaLockup.searchTagRibbonItems.getter();
  uint64_t v35 = MixedMediaLockup.shouldEvenlyDistributeRibbonItems.getter() & 1;
  swift_getKeyPath();
  uint64_t v62 = v28;
  ItemLayoutContext.subscript.getter();
  swift_release();
  unint64_t v36 = v84;
  sub_100123F94(v70, v72, v69, v71, v29, v31, v32, v27, v34, v35, v84);

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  sub_100082BCC(v27, (uint64_t *)&unk_1009A4AA0);
  if ((v68 & 1) == 0)
  {
    swift_release();
    swift_release();
    (*(void (**)(char *, uint64_t))(v80 + 8))(v82, v81);
    return v64(v66, v83);
  }
  unint64_t v37 = v78;
  static StandardSearchResultContentViewMetrics.bottomMargin.getter();
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  unint64_t v38 = v84;
  type metadata accessor for TraitEnvironmentPlaceholder();
  sub_100082C28(&qword_100982B50);
  uint64_t v39 = swift_allocObject();
  *(_OWORD *)(v39 + 16) = xmmword_1007BEA80;
  *(void *)(v39 + 32) = v38;
  id v40 = v38;
  uint64_t v41 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  sub_1000AA704();
  uint64_t v42 = v63;
  dispatch thunk of AnyDimension.rawValue(in:)();

  (*(void (**)(char *, uint64_t))(v79 + 8))(v37, v42);
  unint64_t v43 = MixedMediaLockup.screenshots.getter();
  unint64_t v44 = v43;
  if (v43 >> 62)
  {
    uint64_t v47 = _CocoaArrayWrapper.endIndex.getter();
    uint64_t v46 = (uint64_t)v76;
    uint64_t v45 = (uint64_t)v77;
    if (v47) {
      goto LABEL_14;
    }
LABEL_20:
    swift_bridgeObjectRelease();
    uint64_t v41 = 0;
    goto LABEL_21;
  }
  uint64_t v46 = (uint64_t)v76;
  uint64_t v45 = (uint64_t)v77;
  if (!*(void *)((v43 & 0xFFFFFFFFFFFFFF8) + 0x10)) {
    goto LABEL_20;
  }
LABEL_14:
  if ((v44 & 0xC000000000000001) != 0)
  {
    uint64_t v41 = (void *)specialized _ArrayBuffer._getElementSlowPath(_:)();
  }
  else
  {
    if (!*(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x10))
    {
      __break(1u);
      goto LABEL_48;
    }
    uint64_t v41 = *(void **)(v44 + 32);
    swift_retain();
  }
  swift_bridgeObjectRelease();
LABEL_21:
  unint64_t v48 = MixedMediaLockup.trailers.getter();
  unint64_t v49 = v48;
  if (v48 >> 62)
  {
    if (_CocoaArrayWrapper.endIndex.getter())
    {
LABEL_23:
      if ((v49 & 0xC000000000000001) == 0)
      {
        if (!*(void *)((v49 & 0xFFFFFFFFFFFFFF8) + 0x10))
        {
          __break(1u);
          goto LABEL_50;
        }
        uint64_t v35 = *(void *)(v49 + 32);
        swift_retain();
        goto LABEL_26;
      }
LABEL_48:
      uint64_t v35 = specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_26:
      swift_bridgeObjectRelease();
      goto LABEL_29;
    }
  }
  else if (*(void *)((v48 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    goto LABEL_23;
  }
  swift_bridgeObjectRelease();
  uint64_t v35 = 0;
LABEL_29:
  unint64_t v50 = type metadata accessor for ContentSearchResultCollectionViewCell();
  id v51 = (id)ASKDeviceTypeGetCurrent();
  swift_getKeyPath();
  ItemLayoutContext.subscript.getter();
  swift_release();
  uint64_t v52 = v84;
  sub_1004E4548(v46);

  unint64_t v53 = MixedMediaLockup.screenshots.getter();
  unint64_t v54 = v53;
  if (v53 >> 62)
  {
    if (_CocoaArrayWrapper.endIndex.getter())
    {
LABEL_31:
      if ((v54 & 0xC000000000000001) == 0)
      {
        if (!*(void *)((v54 & 0xFFFFFFFFFFFFFF8) + 0x10))
        {
          __break(1u);
          goto LABEL_52;
        }
        unint64_t v50 = *(void *)(v54 + 32);
        swift_retain();
        goto LABEL_34;
      }
LABEL_50:
      unint64_t v50 = specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_34:
      swift_bridgeObjectRelease();
      goto LABEL_37;
    }
  }
  else if (*(void *)((v53 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    goto LABEL_31;
  }
  swift_bridgeObjectRelease();
  unint64_t v50 = 0;
LABEL_37:
  unint64_t v55 = MixedMediaLockup.trailers.getter();
  unint64_t v56 = v55;
  if (!(v55 >> 62))
  {
    uint64_t result = *(void *)((v55 & 0xFFFFFFFFFFFFFF8) + 0x10);
    uint64_t v79 = v35;
    if (result) {
      goto LABEL_39;
    }
LABEL_44:
    unint64_t v57 = (unint64_t)v41;
    uint64_t v58 = v46;
    swift_bridgeObjectRelease();
    uint64_t v59 = 0;
    goto LABEL_45;
  }
  uint64_t result = _CocoaArrayWrapper.endIndex.getter();
  uint64_t v79 = v35;
  if (!result) {
    goto LABEL_44;
  }
LABEL_39:
  if ((v56 & 0xC000000000000001) != 0)
  {
LABEL_52:
    unint64_t v57 = (unint64_t)v41;
    uint64_t v58 = v46;
    uint64_t v59 = specialized _ArrayBuffer._getElementSlowPath(_:)();
    goto LABEL_42;
  }
  if (*(void *)((v56 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    unint64_t v57 = (unint64_t)v41;
    uint64_t v58 = v46;
    uint64_t v59 = *(void *)(v56 + 32);
    swift_retain();
LABEL_42:
    swift_bridgeObjectRelease();
LABEL_45:
    type metadata accessor for LockupMediaView();
    uint64_t v60 = (uint64_t)v66;
    sub_100223CA4(v50, v59, (uint64_t)v66, v45);
    swift_release();
    swift_release();
    id v61 = sub_1000F3FC0();
    swift_getObjectType();
    sub_1005E4358(v57, v79, v58, v45, (uint64_t)v61, v60);
    swift_release();
    swift_release();
    swift_unknownObjectRelease();
    swift_release();
    swift_release();
    (*(void (**)(uint64_t, uint64_t))(v74 + 8))(v45, v75);
    sub_100082BCC(v58, (uint64_t *)&unk_1009856C0);
    (*(void (**)(char *, uint64_t))(v80 + 8))(v82, v81);
    return v64((char *)v60, v83);
  }
  __break(1u);
  return result;
}

uint64_t sub_10036CCC8(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100981580);
  uint64_t v77 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v75 = (char *)v65 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v8 - 8);
  double v76 = (char *)v65 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for ScreenshotsDisplayStyle();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)v65 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v14);
  uint64_t v16 = (char *)v65 - v15;
  uint64_t v17 = type metadata accessor for Artwork.Style();
  __chkstk_darwin(v17 - 8);
  sub_100082C6C(a1, (uint64_t)v79);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for AppSearchResult();
  uint64_t result = swift_dynamicCast();
  if (result)
  {
    uint64_t v68 = v6;
    uint64_t v73 = v78;
    uint64_t v74 = v16;
    AppSearchResult.lockup.getter();
    swift_retain();
    uint64_t v19 = Lockup.icon.getter();
    swift_release();
    uint64_t v72 = v2;
    if (v19)
    {
      uint64_t v70 = v11;
      uint64_t v71 = a2;
      uint64_t v69 = v10;
      uint64_t v20 = *(void *)&v2[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView];
      uint64_t v21 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
      uint64_t v22 = qword_100980610;
      id v23 = *(id *)(v20 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
      if (v22 != -1) {
        swift_once();
      }
      uint64_t v24 = type metadata accessor for SmallLockupLayout.Metrics();
      sub_100087728(v24, (uint64_t)qword_1009E7358);
      SmallLockupLayout.Metrics.artworkSize.getter();
      [v23 contentMode];
      Artwork.config(_:mode:prefersLayeredImage:)();
      Artwork.style.getter();
      ArtworkView.style.setter();
      [v23 setContentMode:Artwork.contentMode.getter()];
      ArtworkLoaderConfig.size.getter();
      ArtworkView.imageSize.setter();
      if (!Artwork.backgroundColor.getter())
      {
        sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
        static UIColor.placeholderBackground.getter();
      }
      ArtworkView.backgroundColor.setter();
      uint64_t v25 = *(void **)(v20 + v21);
      type metadata accessor for ArtworkView();
      sub_10036DA14((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
      id v26 = v25;
      uint64_t v27 = v71;
      ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
      swift_release();

      a2 = v27;
      swift_release();

      uint64_t v10 = v69;
      uint64_t v11 = v70;
      uint64_t v3 = v72;
    }
    id v28 = objc_retain(*(id *)(*(void *)&v3[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView]
                            + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_metadataRibbonView));
    sub_100375B74(a1, a2);

    uint64_t v29 = (uint64_t)v74;
    MixedMediaLockup.screenshotsDisplayStyle.getter();
    char v30 = dispatch thunk of AppSearchResult.shouldDisplayMedia.getter();
    (*(void (**)(char *, uint64_t, uint64_t))(v11 + 16))(v13, v29, v10);
    if (v30)
    {
      char v31 = ScreenshotsDisplayStyle.shouldShowScreenshots.getter();
      unint64_t v34 = *(void (**)(void, void))(v11 + 8);
      uint64_t v33 = v11 + 8;
      unint64_t v32 = (void (*)(char *, uint64_t))v34;
      v34(v13, v10);
      if (v31)
      {
        v65[0] = v32;
        uint64_t v70 = v33;
        uint64_t v71 = a2;
        swift_retain();
        uint64_t v69 = Lockup.title.getter();
        unint64_t v36 = v35;
        swift_release();
        swift_retain();
        uint64_t v67 = Lockup.subtitle.getter();
        uint64_t v66 = v37;
        swift_release();
        swift_retain();
        uint64_t v38 = Lockup.searchAd.getter();
        swift_release();
        if (v38)
        {
          uint64_t v39 = SearchAd.advertisingText.getter();
          uint64_t v41 = v40;
          swift_release();
        }
        else
        {
          uint64_t v39 = 0;
          uint64_t v41 = 0;
        }
        uint64_t v42 = v72;
        unint64_t v43 = MixedMediaLockup.metadataRibbonItems.getter();
        v65[1] = v43;
        uint64_t v44 = (uint64_t)v76;
        static MetadataRibbonViewLayout.Metrics.standard.getter();
        uint64_t v45 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v45 - 8) + 56))(v44, 0, 1, v45);
        unint64_t v46 = MixedMediaLockup.searchTagRibbonItems.getter();
        v65[2] = v46;
        unsigned __int8 v47 = MixedMediaLockup.shouldEvenlyDistributeRibbonItems.getter() & 1;
        id v48 = [v42 traitCollection];
        sub_100123F94(v69, v36, v67, v66, v39, v41, v43, v44, v46, v47, v48);
        uint64_t v69 = (uint64_t)v36;
        unint64_t v49 = v75;
        static StandardSearchResultContentViewMetrics.bottomMargin.getter();
        type metadata accessor for TraitEnvironmentPlaceholder();
        sub_100082C28(&qword_100982B50);
        uint64_t v50 = swift_allocObject();
        *(_OWORD *)(v50 + 16) = xmmword_1007BEA80;
        *(void *)(v50 + 32) = v48;
        id v51 = v48;
        uint64_t v52 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
        sub_1000AA704();
        uint64_t v53 = v68;
        dispatch thunk of AnyDimension.rawValue(in:)();

        (*(void (**)(char *, uint64_t))(v77 + 8))(v49, v53);
        unint64_t v54 = v72;
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        swift_bridgeObjectRelease();
        sub_100082BCC(v44, (uint64_t *)&unk_1009A4AA0);
        unint64_t v55 = MixedMediaLockup.screenshots.getter();
        unint64_t v56 = v55;
        if (v55 >> 62)
        {
          uint64_t v58 = _CocoaArrayWrapper.endIndex.getter();
          uint64_t v57 = v71;
          if (v58) {
            goto LABEL_17;
          }
        }
        else
        {
          uint64_t v57 = v71;
          if (*(void *)((v55 & 0xFFFFFFFFFFFFFF8) + 0x10))
          {
LABEL_17:
            if ((v56 & 0xC000000000000001) != 0)
            {
              uint64_t v44 = specialized _ArrayBuffer._getElementSlowPath(_:)();
            }
            else
            {
              if (!*(void *)((v56 & 0xFFFFFFFFFFFFFF8) + 0x10))
              {
                __break(1u);
                goto LABEL_35;
              }
              uint64_t v44 = *(void *)(v56 + 32);
              swift_retain();
            }
            swift_bridgeObjectRelease();
LABEL_23:
            unint64_t v59 = MixedMediaLockup.trailers.getter();
            unint64_t v60 = v59;
            if (v59 >> 62)
            {
              uint64_t result = _CocoaArrayWrapper.endIndex.getter();
              if (result)
              {
LABEL_25:
                if ((v60 & 0xC000000000000001) == 0)
                {
                  if (!*(void *)((v60 & 0xFFFFFFFFFFFFFF8) + 0x10))
                  {
                    __break(1u);
                    return result;
                  }
                  uint64_t v61 = *(void *)(v60 + 32);
                  swift_retain();
                  goto LABEL_28;
                }
LABEL_35:
                uint64_t v61 = specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_28:
                swift_bridgeObjectRelease();
LABEL_31:
                id v62 = [v54 traitCollection];
                uint64_t v63 = v57;
                uint64_t v64 = (uint64_t)v74;
                sub_1005E38D4(v44, v61, (uint64_t)v62, v63, (uint64_t)v74);
                swift_release();
                swift_release();

                swift_release();
                swift_release();
                return ((uint64_t (*)(uint64_t, uint64_t))v65[0])(v64, v10);
              }
            }
            else
            {
              uint64_t result = *(void *)((v59 & 0xFFFFFFFFFFFFFF8) + 0x10);
              if (result) {
                goto LABEL_25;
              }
            }
            swift_bridgeObjectRelease();
            uint64_t v61 = 0;
            goto LABEL_31;
          }
        }
        swift_bridgeObjectRelease();
        uint64_t v44 = 0;
        goto LABEL_23;
      }
    }
    else
    {
      unint64_t v32 = *(void (**)(char *, uint64_t))(v11 + 8);
      v32(v13, v10);
    }
    v32((char *)v29, v10);
    swift_release();
    return swift_release();
  }
  return result;
}

void sub_10036D5E0()
{
  uint64_t v1 = (uint64_t *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots)
                 + OBJC_IVAR____TtC8AppStore15LockupMediaView_imageViews);
  swift_beginAccess();
  uint64_t v2 = *v1;
  if ((unint64_t)*v1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v3 = _CocoaArrayWrapper.endIndex.getter();
    if (!v3) {
      goto LABEL_10;
    }
  }
  else
  {
    uint64_t v3 = *(void *)((v2 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (!v3) {
      goto LABEL_10;
    }
  }
  if (v3 < 1)
  {
    __break(1u);
    return;
  }
  uint64_t v4 = 0;
  do
  {
    if ((v2 & 0xC000000000000001) != 0) {
      id v5 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
    }
    else {
      id v5 = *(id *)(v2 + 8 * v4 + 32);
    }
    uint64_t v6 = v5;
    ++v4;
    type metadata accessor for BorderedScreenshotView();
    sub_10036DA14(&qword_1009859B8, 255, (void (*)(uint64_t))type metadata accessor for BorderedScreenshotView);
    uint64_t v7 = v6;
    AnyHashable.init<A>(_:)();
    ArtworkLoader.forgetFetch(forHandlerKey:deprioritizingFetch:)();
    sub_1000E2D1C((uint64_t)v28);
    id v8 = *(id *)&v7[OBJC_IVAR____TtC8AppStore22BorderedScreenshotView_artworkView];
    v29.value.super.Class isa = 0;
    v29.is_nil = 0;
    ArtworkView.setImage(image:animated:)(v29, v9);
  }
  while (v3 != v4);
LABEL_10:
  swift_bridgeObjectRelease();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v11 = (void *)Strong;
    [*(id *)(Strong + qword_10099B108) setImage:0];
    type metadata accessor for VideoView();
    sub_10036DA14((unint64_t *)&qword_1009859C8, 255, (void (*)(uint64_t))type metadata accessor for VideoView);
    id v12 = v11;
    AnyHashable.init<A>(_:)();
    ArtworkLoader.forgetFetch(forHandlerKey:deprioritizingFetch:)();

    sub_1000E2D1C((uint64_t)v28);
  }
  uint64_t v13 = *(void *)(v27 + OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView);
  uint64_t v14 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
  id v15 = *(id *)(v13 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  v30.value.super.Class isa = 0;
  v30.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v30, v16);

  uint64_t v17 = *(char **)(v13 + OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_metadataRibbonView);
  uint64_t v18 = *(void *)&v17[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews];
  uint64_t v19 = *(void *)(v18 + 16);
  if (v19)
  {
    type metadata accessor for MetadataRibbonIconWithLabelView(0);
    id v26 = v17;
    swift_bridgeObjectRetain();
    uint64_t v20 = 32;
    do
    {
      uint64_t v21 = *(void **)(v18 + v20);
      if (swift_dynamicCastClass())
      {
        id v22 = v21;
        v31.value.super.Class isa = 0;
        v31.is_nil = 0;
        ArtworkView.setImage(image:animated:)(v31, v23);
        type metadata accessor for ArtworkView();
        sub_10036DA14((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
        ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
      }
      v20 += 16;
      --v19;
    }
    while (v19);

    swift_bridgeObjectRelease();
  }
  uint64_t v24 = *(void **)(v13 + v14);
  type metadata accessor for ArtworkView();
  sub_10036DA14((unint64_t *)&qword_1009828D0, 255, (void (*)(uint64_t))&type metadata accessor for ArtworkView);
  id v25 = v24;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

uint64_t sub_10036DA14(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_10036DA60(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for LockupMediaLayout.DisplayType();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v65 = (uint64_t)&v52 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = sub_100082C28((uint64_t *)&unk_100981580);
  uint64_t v66 = *(void *)(v7 - 8);
  uint64_t v67 = v7;
  __chkstk_darwin(v7);
  Swift::Bool v9 = (char *)&v52 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v10 - 8);
  id v12 = (char *)&v52 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for ShelfLayoutContext();
  __chkstk_darwin(v13 - 8);
  uint64_t v14 = type metadata accessor for PageGrid();
  uint64_t v63 = *(void *)(v14 - 8);
  uint64_t v64 = v14;
  __chkstk_darwin(v14);
  uint64_t v68 = (char *)&v52 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for ScreenshotsDisplayStyle();
  uint64_t v70 = *(void *)(v16 - 8);
  uint64_t v71 = v16;
  __chkstk_darwin(v16);
  uint64_t v18 = (char *)&v52 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for AppSearchResult();
  sub_10036DA14(&qword_1009922A0, 255, (void (*)(uint64_t))&type metadata accessor for AppSearchResult);
  uint64_t v72 = a1;
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v74._rawValue)
  {
    uint64_t v61 = v5;
    uint64_t v62 = v4;
    uint64_t v69 = a2;
    AppSearchResult.lockup.getter();
    v74._rawValue = _swiftEmptyArrayStorage;
    swift_retain();
    uint64_t v20 = Lockup.icon.getter();
    swift_release();
    if (v20)
    {
      if (qword_100980610 != -1) {
        swift_once();
      }
      uint64_t v21 = type metadata accessor for SmallLockupLayout.Metrics();
      sub_100087728(v21, (uint64_t)qword_1009E7358);
      SmallLockupLayout.Metrics.artworkSize.getter();
      Artwork.config(_:mode:prefersLayeredImage:)();
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*(void *)(((unint64_t)v74._rawValue & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)(((unint64_t)v74._rawValue & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }
      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      specialized Array._endMutation()();
      swift_release();
    }
    unint64_t v22 = MixedMediaLockup.metadataRibbonItems.getter();
    swift_getKeyPath();
    uint64_t v23 = v72;
    ItemLayoutContext.subscript.getter();
    swift_release();
    uint64_t v24 = v73;
    id v25 = sub_100375F94(v22, (uint64_t)v73);

    swift_bridgeObjectRelease();
    sub_1000E3AF0((unint64_t)v25);
    MixedMediaLockup.screenshotsDisplayStyle.getter();
    unint64_t v26 = MixedMediaLockup.screenshots.getter();
    if (v26 >> 62) {
      uint64_t v27 = _CocoaArrayWrapper.endIndex.getter();
    }
    else {
      uint64_t v27 = *(void *)((v26 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    swift_bridgeObjectRelease();
    if (!v27
      || (dispatch thunk of AppSearchResult.shouldDisplayMedia.getter() & 1) == 0
      || (ScreenshotsDisplayStyle.shouldShowScreenshots.getter() & 1) == 0)
    {
      goto LABEL_52;
    }
    ItemLayoutContext.parentShelfLayoutContext.getter();
    if (qword_1009806B8 != -1) {
      swift_once();
    }
    swift_bridgeObjectRetain();
    PageGrid.init(from:breakpointOverrides:)();
    PageGrid.columnWidth.getter();
    sub_10036C180(v23);
    swift_retain();
    uint64_t v56 = Lockup.title.getter();
    uint64_t v57 = v28;
    swift_release();
    swift_retain();
    uint64_t v55 = Lockup.subtitle.getter();
    uint64_t v60 = v29;
    swift_release();
    swift_retain();
    uint64_t v30 = Lockup.searchAd.getter();
    swift_release();
    if (v30)
    {
      uint64_t v53 = SearchAd.advertisingText.getter();
      uint64_t v58 = v31;
      swift_release();
    }
    else
    {
      uint64_t v53 = 0;
      uint64_t v58 = 0;
    }
    unint64_t v59 = MixedMediaLockup.metadataRibbonItems.getter();
    static MetadataRibbonViewLayout.Metrics.standard.getter();
    uint64_t v32 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
    (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v32 - 8) + 56))(v12, 0, 1, v32);
    unint64_t v33 = MixedMediaLockup.searchTagRibbonItems.getter();
    unint64_t v54 = v33;
    unsigned __int8 v34 = MixedMediaLockup.shouldEvenlyDistributeRibbonItems.getter() & 1;
    swift_getKeyPath();
    ItemLayoutContext.subscript.getter();
    swift_release();
    uint64_t v35 = v73;
    sub_100123F94(v56, v57, v55, v60, v53, v58, v59, (uint64_t)v12, v33, v34, v73);
    static StandardSearchResultContentViewMetrics.bottomMargin.getter();
    type metadata accessor for TraitEnvironmentPlaceholder();
    sub_100082C28(&qword_100982B50);
    uint64_t v36 = swift_allocObject();
    *(_OWORD *)(v36 + 16) = xmmword_1007BEA80;
    *(void *)(v36 + 32) = v35;
    id v37 = v35;
    uint64_t v38 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    sub_1000AA704();
    uint64_t v39 = v67;
    dispatch thunk of AnyDimension.rawValue(in:)();

    (*(void (**)(char *, uint64_t))(v66 + 8))(v9, v39);
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    sub_100082BCC((uint64_t)v12, (uint64_t *)&unk_1009A4AA0);
    unint64_t v40 = MixedMediaLockup.screenshots.getter();
    unint64_t v41 = v40;
    if (v40 >> 62)
    {
      if (_CocoaArrayWrapper.endIndex.getter()) {
        goto LABEL_20;
      }
    }
    else if (*(void *)((v40 & 0xFFFFFFFFFFFFFF8) + 0x10))
    {
LABEL_20:
      if ((v41 & 0xC000000000000001) != 0)
      {
        uint64_t v38 = (void *)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else
      {
        if (!*(void *)((v41 & 0xFFFFFFFFFFFFFF8) + 0x10))
        {
          __break(1u);
          goto LABEL_56;
        }
        uint64_t v38 = *(void **)(v41 + 32);
        swift_retain();
      }
      swift_bridgeObjectRelease();
LABEL_27:
      unint64_t v42 = MixedMediaLockup.trailers.getter();
      unint64_t v43 = v42;
      if (v42 >> 62)
      {
        if (_CocoaArrayWrapper.endIndex.getter())
        {
LABEL_29:
          if ((v43 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v43 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              goto LABEL_58;
            }
            Swift::Bool v9 = *(char **)(v43 + 32);
            swift_retain();
            goto LABEL_32;
          }
LABEL_56:
          Swift::Bool v9 = (char *)specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_32:
          swift_bridgeObjectRelease();
          goto LABEL_35;
        }
      }
      else if (*(void *)((v42 & 0xFFFFFFFFFFFFFF8) + 0x10))
      {
        goto LABEL_29;
      }
      swift_bridgeObjectRelease();
      Swift::Bool v9 = 0;
LABEL_35:
      unint64_t v44 = MixedMediaLockup.screenshots.getter();
      unint64_t v45 = v44;
      if (v44 >> 62)
      {
        if (_CocoaArrayWrapper.endIndex.getter())
        {
LABEL_37:
          if ((v45 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v45 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              goto LABEL_60;
            }
            id v12 = *(char **)(v45 + 32);
            swift_retain();
            goto LABEL_40;
          }
LABEL_58:
          id v12 = (char *)specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_40:
          swift_bridgeObjectRelease();
          goto LABEL_43;
        }
      }
      else if (*(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x10))
      {
        goto LABEL_37;
      }
      swift_bridgeObjectRelease();
      id v12 = 0;
LABEL_43:
      unint64_t v46 = MixedMediaLockup.trailers.getter();
      unint64_t v47 = v46;
      if (v46 >> 62)
      {
        uint64_t result = _CocoaArrayWrapper.endIndex.getter();
        if (result)
        {
LABEL_45:
          if ((v47 & 0xC000000000000001) == 0)
          {
            if (!*(void *)((v47 & 0xFFFFFFFFFFFFFF8) + 0x10))
            {
              __break(1u);
              return result;
            }
            uint64_t v48 = *(void *)(v47 + 32);
            swift_retain();
            goto LABEL_48;
          }
LABEL_60:
          uint64_t v48 = specialized _ArrayBuffer._getElementSlowPath(_:)();
LABEL_48:
          swift_bridgeObjectRelease();
LABEL_51:
          uint64_t v49 = v65;
          sub_100223CA4((unint64_t)v12, v48, (uint64_t)v18, v65);
          swift_release();
          swift_release();
          id v50 = sub_1000F3FC0();
          id v51 = sub_1005E5738((unint64_t)v38, (uint64_t)v9, v49, v50);
          swift_unknownObjectRelease();
          swift_release();
          swift_release();
          (*(void (**)(uint64_t, uint64_t))(v61 + 8))(v49, v62);
          sub_1000E3AF0((unint64_t)v51);
          (*(void (**)(char *, uint64_t))(v63 + 8))(v68, v64);
LABEL_52:
          ArtworkLoader.prefetchArtwork(using:)(v74);
          swift_release();
          swift_release();
          swift_bridgeObjectRelease();
          return (*(uint64_t (**)(char *, uint64_t))(v70 + 8))(v18, v71);
        }
      }
      else
      {
        uint64_t result = *(void *)((v46 & 0xFFFFFFFFFFFFFF8) + 0x10);
        if (result) {
          goto LABEL_45;
        }
      }
      swift_bridgeObjectRelease();
      uint64_t v48 = 0;
      goto LABEL_51;
    }
    swift_bridgeObjectRelease();
    uint64_t v38 = 0;
    goto LABEL_27;
  }
  return result;
}

void sub_10036E4F4()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_lockupView;
  *(void *)&v0[v1] = [objc_allocWithZone((Class)type metadata accessor for SmallSearchLockupView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v2 = OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_screenshots;
  *(void *)&v0[v2] = [objc_allocWithZone((Class)type metadata accessor for LockupMediaView()) init];
  v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_shouldDisplayMedia] = 1;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_preferredImageSizes] = &_swiftEmptyDictionarySingleton;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsCalculator] = 0;
  uint64_t v3 = &v0[OBJC_IVAR____TtC8AppStore26AppSearchResultContentView_impressionsUpdateBlock];
  *uint64_t v3 = 0;
  v3[1] = 0;

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t assignWithCopy for OpenAppActionImplementation(uint64_t a1, uint64_t a2)
{
  uint64_t result = swift_unknownObjectWeakCopyAssign();
  *(void *)(result + 8) = *(void *)(a2 + 8);
  return result;
}

uint64_t assignWithTake for OpenAppActionImplementation(uint64_t a1, uint64_t a2)
{
  uint64_t result = swift_unknownObjectWeakTakeAssign();
  *(void *)(result + 8) = *(void *)(a2 + 8);
  return result;
}

uint64_t getEnumTagSinglePayload for OpenAppActionImplementation(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 16)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  if ((*(void *)(a1 + 8) & 0xF000000000000007) != 0) {
    int v2 = *(_DWORD *)a1 & 0x7FFFFFFF;
  }
  else {
    int v2 = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for OpenAppActionImplementation(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)uint64_t result = a2 ^ 0x80000000;
    *(void *)(result + 8) = 0;
    if (a3 < 0) {
      *(unsigned char *)(result + 16) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)uint64_t result = (a2 - 1);
      *(void *)(result + 8) = 1;
      return result;
    }
    *(unsigned char *)(result + 16) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for OpenAppActionImplementation()
{
  return &type metadata for OpenAppActionImplementation;
}

uint64_t sub_10036E6E4()
{
  return sub_100370914(&qword_10098C488, (void (*)(uint64_t))&type metadata accessor for OpenAppAction);
}

uint64_t sub_10036E72C(uint64_t a1, uint64_t a2)
{
  uint64_t v59 = type metadata accessor for OSSignpostID();
  uint64_t v57 = *(void *)(v59 - 8);
  __chkstk_darwin(v59);
  uint64_t v56 = (char *)&v45 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v54 = v4;
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v45 - v6;
  uint64_t v8 = type metadata accessor for AdamId();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)&v45 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v45 - v13;
  sub_100082C28(&qword_100988220);
  uint64_t v15 = Promise.__allocating_init()();
  OpenAppAction.adamId.getter();
  uint64_t v16 = AdamId.numberValue.getter();
  uint64_t v17 = *(void (**)(char *, uint64_t))(v9 + 8);
  v17(v14, v8);
  uint64_t v53 = v16;
  if (v16)
  {
    uint64_t v58 = v7;
    uint64_t v51 = a2;
    uint64_t v52 = v15;
    inject(_:from:)();
    swift_getObjectType();
    OpenAppAction.adamId.getter();
    uint64_t v18 = dispatch thunk of AppStateController.stateMachine(forApp:)();
    swift_unknownObjectRelease();
    v17(v11, v8);
    swift_getObjectType();
    uint64_t v49 = v18;
    uint64_t v19 = "ActionDispatcher[ASDAppQuery]:handleOpenAppAction";
    if (dispatch thunk of AppStateMachine.hasCurrentBetaState.getter())
    {
      int v20 = OpenAppAction.allowBetaApps.getter();
      if (v20)
      {
        uint64_t v19 = "ActionDispatcher[ASDAppQuery.BetaApps]:handleOpenAppAction";
        uint64_t v21 = 58;
      }
      else
      {
        uint64_t v21 = 49;
      }
    }
    else
    {
      int v20 = 0;
      uint64_t v21 = 49;
    }
    uint64_t v24 = v58;
    id v25 = (void *)v53;
    type metadata accessor for SignpostAggregator();
    static SignpostAggregator.log.getter();
    OSSignpostID.init(log:)();
    static os_signpost_type_t.begin.getter();
    unint64_t v26 = (void *)static SignpostAggregator.log.getter();
    os_signpost(_:dso:log:name:signpostID:)();

    sub_100082C28(&qword_100982B50);
    uint64_t v27 = swift_allocObject();
    *(_OWORD *)(v27 + 16) = xmmword_1007BEA80;
    *(void *)(v27 + 32) = v25;
    LODWORD(v53) = v20;
    uint64_t v50 = a1;
    uint64_t v47 = v21;
    uint64_t v48 = v19;
    aBlock[0] = v27;
    specialized Array._endMutation()();
    if (v20) {
      id v28 = &selRef_queryForBetaAppsWithStoreItemIDs_;
    }
    else {
      id v28 = &selRef_queryForStoreItemIDs_;
    }
    sub_100084CF0(0, (unint64_t *)&qword_10098FAF0);
    id v45 = v25;
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v46 = [self *v28 isa];

    uint64_t v31 = v56;
    uint64_t v30 = v57;
    (*(void (**)(char *, char *, uint64_t))(v57 + 16))(v56, v24, v59);
    sub_10037017C(v55, (uint64_t)v61);
    unint64_t v32 = (*(unsigned __int8 *)(v30 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v30 + 80);
    uint64_t v33 = v32 + v54;
    unint64_t v34 = (v32 + v54) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v35 = (v34 + 23) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v36 = (v35 + 23) & 0xFFFFFFFFFFFFFFF8;
    unint64_t v37 = (v36 + 15) & 0xFFFFFFFFFFFFFFF8;
    uint64_t v38 = swift_allocObject();
    uint64_t v39 = v47;
    *(void *)(v38 + 16) = v48;
    *(void *)(v38 + 24) = v39;
    *(unsigned char *)(v38 + 32) = 2;
    (*(void (**)(unint64_t, char *, uint64_t))(v30 + 32))(v38 + v32, v31, v59);
    *(unsigned char *)(v38 + v33) = v53 & 1;
    *(void *)(v34 + v38 + 8) = v50;
    sub_10004DEC0((uint64_t)v61, v38 + v35);
    uint64_t v15 = v52;
    *(void *)(v38 + v36) = v51;
    *(void *)(v38 + v37) = v15;
    unint64_t v40 = v45;
    *(void *)(v38 + ((v37 + 15) & 0xFFFFFFFFFFFFFFF8)) = v45;
    aBlock[4] = sub_1003702AC;
    aBlock[5] = v38;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_1003C4AE0;
    aBlock[3] = &unk_1008C7A08;
    unint64_t v41 = _Block_copy(aBlock);
    id v42 = v40;
    swift_retain();
    swift_retain();
    swift_retain();
    swift_release();
    id v43 = v46;
    [v46 executeQueryWithResultHandler:v41];
    _Block_release(v41);

    swift_unknownObjectRelease();
    (*(void (**)(char *, uint64_t))(v30 + 8))(v58, v59);
  }
  else
  {
    if (qword_10097E350 != -1) {
      swift_once();
    }
    uint64_t v22 = type metadata accessor for OSLogger();
    sub_100087728(v22, (uint64_t)qword_1009E1840);
    sub_100082C28((uint64_t *)&unk_100984540);
    type metadata accessor for LogMessage();
    *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BEDF0;
    LogMessage.init(stringLiteral:)();
    Logger.error(_:)();
    swift_bridgeObjectRelease();
    sub_100370128();
    swift_allocError();
    *uint64_t v23 = 0;
    Promise.reject(_:)();
    swift_errorRelease();
  }
  return v15;
}

void sub_10036EDFC(unint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, int a7, uint64_t a8, uint64_t a9, uint64_t a10, uint64_t a11, void **a12)
{
  int v53 = a7;
  uint64_t v54 = a8;
  uint64_t v55 = a11;
  uint64_t v51 = a9;
  uint64_t v52 = a10;
  uint64_t v13 = type metadata accessor for OSLogger();
  uint64_t v47 = *(void *)(v13 - 8);
  uint64_t v48 = v13;
  __chkstk_darwin(v13);
  id v46 = (char *)&v45 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for ActionMetrics();
  __chkstk_darwin(v15 - 8);
  id v45 = (char *)&v45 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for AdamId();
  __chkstk_darwin(v17 - 8);
  uint64_t v18 = type metadata accessor for OpenableDestination();
  uint64_t v49 = *(void *)(v18 - 8);
  uint64_t v50 = v18;
  __chkstk_darwin(v18);
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v45 - v20;
  static os_signpost_type_t.end.getter();
  type metadata accessor for SignpostAggregator();
  uint64_t v22 = (void *)static SignpostAggregator.log.getter();
  os_signpost(_:dso:log:name:signpostID:)();

  if (!a1)
  {
LABEL_15:
    if (v53)
    {
      Action.title.getter();
      OpenAppAction.adamId.getter();
      OpenAppAction.destination.getter();
      Action.presentationStyle.getter();
      Action.actionMetrics.getter();
      type metadata accessor for OpenAppAction();
      swift_allocObject();
      uint64_t v38 = OpenAppAction.init(title:adamId:allowBetaApps:destination:presentationStyle:actionMetrics:)();
      sub_100370440(v38, v52, v51, (uint64_t (*)(void))&type metadata accessor for OpenAppAction, &qword_10098C488, (void (*)(uint64_t))&type metadata accessor for OpenAppAction);
      Promise.pipe(to:)();
      swift_release();
      swift_release();
      return;
    }
    uint64_t v23 = a12;
    if (qword_10097E350 == -1) {
      goto LABEL_18;
    }
    goto LABEL_21;
  }
  uint64_t v23 = (void **)(a1 & 0xFFFFFFFFFFFFFF8);
  if (!(a1 >> 62))
  {
    uint64_t v24 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v24) {
      goto LABEL_4;
    }
    goto LABEL_14;
  }
  swift_bridgeObjectRetain();
  if (!_CocoaArrayWrapper.endIndex.getter())
  {
LABEL_14:
    swift_bridgeObjectRelease();
    goto LABEL_15;
  }
LABEL_4:
  if ((a1 & 0xC000000000000001) != 0)
  {
    id v25 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
    goto LABEL_7;
  }
  if (!*(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10))
  {
    __break(1u);
LABEL_21:
    swift_once();
LABEL_18:
    uint64_t v39 = v48;
    uint64_t v40 = sub_100087728(v48, (uint64_t)qword_1009E1840);
    id v42 = v46;
    uint64_t v41 = v47;
    (*(void (**)(char *, uint64_t, uint64_t))(v47 + 16))(v46, v40, v39);
    sub_100082C28((uint64_t *)&unk_100984540);
    type metadata accessor for LogMessage();
    *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF710;
    LogMessage.init(stringLiteral:)();
    uint64_t v59 = (void *)sub_100084CF0(0, (unint64_t *)&qword_10098FAF0);
    long long aBlock = v23;
    id v43 = v23;
    static LogMessage.traceableSensitive(_:)();
    sub_100082BCC((uint64_t)&aBlock, (uint64_t *)&unk_100982B40);
    LogMessage.init(stringLiteral:)();
    Logger.error(_:)();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v41 + 8))(v42, v39);
    sub_100370128();
    swift_allocError();
    *unint64_t v44 = 1;
    Promise.reject(_:)();
    swift_errorRelease();
    return;
  }
  id v25 = *(id *)(a1 + 32);
LABEL_7:
  unint64_t v26 = v25;
  swift_bridgeObjectRelease();
  uint64_t v27 = v54;
  OpenAppAction.destination.getter();
  uint64_t v29 = v49;
  uint64_t v28 = v50;
  int v30 = (*(uint64_t (**)(char *, uint64_t))(v49 + 88))(v21, v50);
  if (v30 == enum case for OpenableDestination.app(_:))
  {
    uint64_t v31 = self;
    sub_10037017C(v51, (uint64_t)v62);
    unint64_t v32 = (void *)swift_allocObject();
    sub_10004DEC0((uint64_t)v62, (uint64_t)(v32 + 2));
    uint64_t v33 = v52;
    void v32[4] = v27;
    v32[5] = v33;
    v32[6] = v55;
    uint64_t v60 = sub_10037039C;
    uint64_t v61 = v32;
    long long aBlock = _NSConcreteStackBlock;
    uint64_t v57 = 1107296256;
    uint64_t v58 = sub_10036FE80;
    uint64_t v59 = &unk_1008C7AA8;
    unint64_t v34 = _Block_copy(&aBlock);
    swift_retain();
    swift_retain();
    swift_retain();
    swift_release();
    [v31 launchApp:v26 withResultHandler:v34];
LABEL_11:

    _Block_release(v34);
    return;
  }
  if (v30 == enum case for OpenableDestination.messages(_:))
  {
    unint64_t v35 = self;
    sub_10037017C(v51, (uint64_t)v62);
    unint64_t v36 = (void *)swift_allocObject();
    sub_10004DEC0((uint64_t)v62, (uint64_t)(v36 + 2));
    uint64_t v37 = v52;
    v36[4] = v27;
    void v36[5] = v37;
    v36[6] = v55;
    uint64_t v60 = sub_10037039C;
    uint64_t v61 = v36;
    long long aBlock = _NSConcreteStackBlock;
    uint64_t v57 = 1107296256;
    uint64_t v58 = sub_10036FE80;
    uint64_t v59 = &unk_1008C7A58;
    unint64_t v34 = _Block_copy(&aBlock);
    swift_retain();
    swift_retain();
    swift_retain();
    swift_release();
    [v35 launchMessagesExtensionForApp:v26 withResultHandler:v34];
    goto LABEL_11;
  }

  (*(void (**)(char *, uint64_t))(v29 + 8))(v21, v28);
}

uint64_t sub_10036F5E8(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v40 = a3;
  uint64_t v45 = a2;
  uint64_t v6 = type metadata accessor for ActionOutcome();
  uint64_t v38 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v36 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v44 = type metadata accessor for AdamId();
  uint64_t v37 = *(void *)(v44 - 8);
  __chkstk_darwin(v44);
  uint64_t v10 = (char *)&v36 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for OSLogger();
  uint64_t v42 = *(void *)(v11 - 8);
  uint64_t v43 = v11;
  __chkstk_darwin(v11);
  uint64_t v41 = (char *)&v36 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for DispatchWorkItemFlags();
  uint64_t v39 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v36 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for DispatchQoS();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v19 = (char *)&v36 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1 == 2)
  {
    if (qword_10097E350 != -1) {
      swift_once();
    }
    uint64_t v29 = v43;
    uint64_t v30 = sub_100087728(v43, (uint64_t)qword_1009E1840);
    unint64_t v32 = v41;
    uint64_t v31 = v42;
    (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v41, v30, v29);
    sub_100082C28((uint64_t *)&unk_100984540);
    type metadata accessor for LogMessage();
    *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
    LogMessage.init(stringLiteral:)();
    uint64_t v47 = (void *)v44;
    sub_1000808B8(aBlock);
    OpenAppAction.adamId.getter();
    static LogMessage.traceableSensitive(_:)();
    sub_100082BCC((uint64_t)aBlock, (uint64_t *)&unk_100982B40);
    Logger.error(_:)();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v31 + 8))(v32, v29);
    sub_100082C28(&qword_100988220);
    sub_100370128();
    swift_allocError();
    char v28 = 1;
    goto LABEL_9;
  }
  if (a1 == 1)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100984500);
    uint64_t v20 = (void *)static OS_dispatch_queue.main.getter();
    sub_10037017C(v4, (uint64_t)v50);
    uint64_t v21 = swift_allocObject();
    sub_10004DEC0((uint64_t)v50, v21 + 16);
    *(void *)(v21 + 32) = v40;
    uint64_t v48 = sub_100370434;
    uint64_t v49 = v21;
    aBlock[0] = (uint64_t)_NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = (uint64_t)sub_1000162D4;
    uint64_t v47 = &unk_1008C7AF8;
    uint64_t v22 = _Block_copy(aBlock);
    swift_retain();
    swift_release();
    static DispatchQoS.unspecified.getter();
    aBlock[0] = (uint64_t)_swiftEmptyArrayStorage;
    sub_100370914((unint64_t *)&qword_100988CC0, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
    sub_100082C28((uint64_t *)&unk_100984510);
    sub_100060CC8();
    dispatch thunk of SetAlgebra.init<A>(_:)();
    OS_dispatch_queue.async(group:qos:flags:execute:)();
    _Block_release(v22);

    (*(void (**)(char *, uint64_t))(v39 + 8))(v15, v13);
    (*(void (**)(char *, uint64_t))(v17 + 8))(v19, v16);
    if (qword_10097E350 != -1) {
      swift_once();
    }
    uint64_t v23 = v43;
    uint64_t v24 = sub_100087728(v43, (uint64_t)qword_1009E1840);
    unint64_t v26 = v41;
    uint64_t v25 = v42;
    (*(void (**)(char *, uint64_t, uint64_t))(v42 + 16))(v41, v24, v23);
    sub_100082C28((uint64_t *)&unk_100984540);
    type metadata accessor for LogMessage();
    *(_OWORD *)(swift_allocObject() + 16) = xmmword_1007BF1D0;
    LogMessage.init(stringLiteral:)();
    uint64_t v47 = (void *)v44;
    sub_1000808B8(aBlock);
    OpenAppAction.adamId.getter();
    static LogMessage.traceableSensitive(_:)();
    sub_100082BCC((uint64_t)aBlock, (uint64_t *)&unk_100982B40);
    Logger.error(_:)();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v25 + 8))(v26, v23);
    sub_100082C28(&qword_100988220);
    sub_100370128();
    swift_allocError();
    char v28 = 2;
LABEL_9:
    *uint64_t v27 = v28;
    return Promise.__allocating_init(error:)();
  }
  if (swift_unknownObjectWeakLoadStrong())
  {
    uint64_t v34 = *(void *)(v4 + 8);
    uint64_t ObjectType = swift_getObjectType();
    OpenAppAction.adamId.getter();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v34 + 8))(v10, 1, ObjectType, v34);
    swift_unknownObjectRelease();
    (*(void (**)(char *, uint64_t))(v37 + 8))(v10, v44);
  }
  sub_100082C28(&qword_100988220);
  (*(void (**)(char *, void, uint64_t))(v38 + 104))(v8, enum case for ActionOutcome.performed(_:), v6);
  return Promise.__allocating_init(value:)();
}

uint64_t sub_10036FE80(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = *(void (**)(uint64_t))(a1 + 32);
  swift_retain();
  v3(a2);

  return swift_release();
}

uint64_t sub_10036FED4(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AlertActionStyle();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (char *)&v15 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for ActionMetrics();
  __chkstk_darwin(v8 - 8);
  v9._object = (void *)0x80000001008155E0;
  v9._uint64_t countAndFlagsBits = 0xD000000000000021;
  v10._uint64_t countAndFlagsBits = 0;
  v10._object = (void *)0xE000000000000000;
  localizedString(_:comment:)(v9, v10);
  v11._uint64_t countAndFlagsBits = 0xD000000000000023;
  v11._object = (void *)0x8000000100815610;
  v12._uint64_t countAndFlagsBits = 0;
  v12._object = (void *)0xE000000000000000;
  localizedString(_:comment:)(v11, v12);
  static ActionMetrics.notInstrumented.getter();
  (*(void (**)(char *, void, uint64_t))(v5 + 104))(v7, enum case for AlertActionStyle.normal(_:), v4);
  type metadata accessor for AlertAction();
  swift_allocObject();
  uint64_t v13 = AlertAction.init(title:message:isCancelable:cancelTitle:cancelAction:buttonActions:destructiveActionIndex:style:artwork:toastDuration:presentationStyle:actionMetrics:)();
  sub_100370440(v13, a2, a1, (uint64_t (*)(void))&type metadata accessor for AlertAction, &qword_100995620, (void (*)(uint64_t))&type metadata accessor for AlertAction);
  swift_release();
  return swift_release();
}

uint64_t sub_100370120(uint64_t *a1, uint64_t a2)
{
  return sub_10036E72C(*a1, a2);
}

unint64_t sub_100370128()
{
  unint64_t result = qword_1009922A8;
  if (!qword_1009922A8)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009922A8);
  }
  return result;
}

uint64_t sub_10037017C(uint64_t a1, uint64_t a2)
{
  *(void *)(a2 + 8) = *(void *)(a1 + 8);
  return a2;
}

uint64_t sub_1003701B8()
{
  uint64_t v1 = type metadata accessor for OSSignpostID();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 33) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = (((((((((v4 + *(void *)(v2 + 64)) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8)
        + 15) & 0xFFFFFFFFFFFFFFF8)
      + 15) & 0xFFFFFFFFFFFFFFF8;
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();
  swift_unknownObjectWeakDestroy();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, v6 + 8, v5);
}

void sub_1003702AC(unint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void *)(type metadata accessor for OSSignpostID() - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 33) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  unint64_t v7 = v6 + *(void *)(v5 + 64);
  unint64_t v8 = ((v7 & 0xFFFFFFFFFFFFFFF8) + 23) & 0xFFFFFFFFFFFFFFF8;
  sub_10036EDFC(a1, a2, *(void *)(v2 + 16), *(void *)(v2 + 24), *(unsigned __int8 *)(v2 + 32), v2 + v6, *(unsigned __int8 *)(v2 + v7), *(void *)((v7 & 0xFFFFFFFFFFFFFFF8) + v2 + 8), v2 + v8, *(void *)(v2 + ((v8 + 23) & 0xFFFFFFFFFFFFFFF8)), *(void *)(v2 + ((((v8 + 23) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8)), *(void ***)(v2 + ((((((v8 + 23) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8) + 15) & 0xFFFFFFFFFFFFFFF8)));
}

uint64_t sub_1003703A4(uint64_t a1)
{
  sub_10036F5E8(a1, *(void *)(v1 + 32), *(void *)(v1 + 40));
  Promise.pipe(to:)();

  return swift_release();
}

uint64_t sub_1003703F4()
{
  swift_unknownObjectWeakDestroy();
  swift_release();

  return _swift_deallocObject(v0, 40, 7);
}

uint64_t sub_100370434()
{
  return sub_10036FED4(v0 + 16, *(void *)(v0 + 32));
}

uint64_t sub_100370440(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t (*a4)(void), unint64_t *a5, void (*a6)(uint64_t))
{
  uint64_t v36 = a5;
  uint64_t v37 = a6;
  uint64_t v34 = a4;
  uint64_t v7 = type metadata accessor for Dependency();
  uint64_t v41 = *(void *)(v7 - 8);
  uint64_t v42 = v7;
  __chkstk_darwin(v7);
  uint64_t v38 = (char *)&v33 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = type metadata accessor for MetricsFieldsContext();
  uint64_t v9 = *(void *)(v33 - 8);
  __chkstk_darwin(v33);
  Swift::String v11 = (char *)&v33 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v33 - v13;
  uint64_t v15 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v39 = *(void *)(v15 - 8);
  uint64_t v40 = v15;
  __chkstk_darwin(v15);
  unint64_t v35 = (char *)&v33 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v17 - 8);
  uint64_t v19 = (char *)&v33 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v20 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v21 = *(void *)(v20 - 8);
  __chkstk_darwin(v20);
  uint64_t v23 = (char *)&v33 - ((v22 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v43 = a1;
  swift_retain();
  BaseObjectGraph.optional<A>(_:)();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v21 + 48))(v19, 1, v20) == 1)
  {
    sub_100082BCC((uint64_t)v19, &qword_1009875B0);
    sub_100082C28(&qword_100988220);
    sub_1000B5A40();
    swift_allocError();
    *uint64_t v24 = 1;
    uint64_t v25 = Promise.__allocating_init(error:)();
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v21 + 32))(v23, v19, v20);
    uint64_t v44[3] = v34(0);
    void v44[4] = sub_100370914(v36, v37);
    v44[0] = v43;
    swift_retain();
    sub_1005365D0();
    unint64_t v26 = v11;
    uint64_t v27 = v33;
    (*(void (**)(char *, char *, uint64_t))(v9 + 16))(v26, v14, v33);
    char v28 = v38;
    Dependency.init<A>(satisfying:with:)();
    dispatch thunk of BaseObjectGraph.adding(dependency:)();
    (*(void (**)(char *, uint64_t))(v41 + 8))(v28, v42);
    uint64_t v29 = v35;
    (*(void (**)(char *, char *, uint64_t))(v9 + 32))(v35, v14, v27);
    uint64_t v31 = v39;
    uint64_t v30 = v40;
    (*(void (**)(char *, void, uint64_t))(v39 + 104))(v29, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v40);
    uint64_t v25 = ActionDispatcher.perform(_:withMetrics:asPartOf:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v31 + 8))(v29, v30);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v44);
    (*(void (**)(char *, uint64_t))(v21 + 8))(v23, v20);
  }
  swift_release();
  return v25;
}

uint64_t sub_100370914(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

unsigned char *storeEnumTagSinglePayload for OpenAppActionImplementation.ImplementationError(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 2 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 2) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFE) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFD)
  {
    unsigned int v6 = ((a2 - 254) >> 8) + 1;
    *uint64_t result = a2 + 2;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x100370A28);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *uint64_t result = a2 + 2;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for OpenAppActionImplementation.ImplementationError()
{
  return &type metadata for OpenAppActionImplementation.ImplementationError;
}

unint64_t sub_100370A64()
{
  unint64_t result = qword_1009922B0;
  if (!qword_1009922B0)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009922B0);
  }
  return result;
}

ValueMetadata *type metadata accessor for SearchAdActionImplementation()
{
  return &type metadata for SearchAdActionImplementation;
}

uint64_t sub_100370AD0()
{
  return sub_100370FFC(&qword_1009922B8, (void (*)(uint64_t))&type metadata accessor for SearchAdAction);
}

uint64_t sub_100370B04()
{
  uint64_t v0 = SearchAdAction.action.getter();
  uint64_t v1 = sub_100370B48(v0);
  swift_release();
  return v1;
}

uint64_t sub_100370B48(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for Dependency();
  uint64_t v32 = *(void *)(v2 - 8);
  uint64_t v33 = v2;
  __chkstk_darwin(v2);
  uint64_t v29 = (char *)&v26 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for MetricsFieldsContext();
  uint64_t v28 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v27 = (char *)&v26 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  uint64_t v8 = (char *)&v26 - v7;
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v30 = *(void *)(v9 - 8);
  uint64_t v31 = v9;
  __chkstk_darwin(v9);
  Swift::String v11 = (char *)&v26 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v12 - 8);
  uint64_t v14 = (char *)&v26 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = sub_100082C28((uint64_t *)&unk_100984530);
  uint64_t v16 = *(void *)(v15 - 8);
  __chkstk_darwin(v15);
  uint64_t v18 = (char *)&v26 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v34 = a1;
  swift_retain();
  BaseObjectGraph.optional<A>(_:)();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v16 + 48))(v14, 1, v15) == 1)
  {
    sub_1000B59E0((uint64_t)v14);
    sub_100082C28(&qword_100988220);
    sub_1000B5A40();
    swift_allocError();
    *uint64_t v19 = 1;
    uint64_t v20 = Promise.__allocating_init(error:)();
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v16 + 32))(v18, v14, v15);
    v35[3] = type metadata accessor for Action();
    unsigned char v35[4] = sub_100370FFC((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
    v35[0] = v34;
    swift_retain();
    sub_1005365D0();
    uint64_t v21 = v28;
    (*(void (**)(char *, char *, uint64_t))(v28 + 16))(v27, v8, v4);
    uint64_t v22 = v29;
    Dependency.init<A>(satisfying:with:)();
    dispatch thunk of BaseObjectGraph.adding(dependency:)();
    (*(void (**)(char *, uint64_t))(v32 + 8))(v22, v33);
    (*(void (**)(char *, char *, uint64_t))(v21 + 32))(v11, v8, v4);
    uint64_t v24 = v30;
    uint64_t v23 = v31;
    (*(void (**)(char *, void, uint64_t))(v30 + 104))(v11, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v31);
    uint64_t v20 = ActionDispatcher.perform(_:withMetrics:asPartOf:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v24 + 8))(v11, v23);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v35);
    (*(void (**)(char *, uint64_t))(v16 + 8))(v18, v15);
  }
  swift_release();
  return v20;
}

uint64_t sub_100370FFC(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100371050(uint64_t a1)
{
  if (a1 != 2) {
    return 0;
  }
  sub_100082C28(&qword_100982B50);
  uint64_t v1 = swift_allocObject();
  *(_OWORD *)(v1 + 16) = xmmword_1007BEFA0;
  uint64_t v2 = self;
  *(void *)(v1 + 32) = [v2 clearColor];
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v3 = [v2 blackColor];
  id v4 = [v3 colorWithAlphaComponent:0.06];

  *(UIColor *)(v1 + 40) = UIColor.init(light:dark:)((UIColor)v4, (UIColor)[objc_allocWithZone((Class)UIColor) initWithWhite:0.06667 alpha:1.0]);
  specialized Array._endMutation()();
  return v1;
}

unint64_t sub_100371188@<X0>(unint64_t *a1@<X0>, uint64_t a2@<X8>)
{
  unint64_t result = sub_100373B14(*a1);
  *(void *)a2 = result;
  *(unsigned char *)(a2 + 8) = v4 & 1;
  return result;
}

id sub_1003711E8()
{
  *(void *)&v0[OBJC_IVAR____TtC8AppStore26SearchCollectionViewLayout_backgroundCornerRadius] = 0;
  uint64_t v1 = &v0[OBJC_IVAR____TtC8AppStore26SearchCollectionViewLayout_pendingPrepareObserver];
  uint64_t v2 = (objc_class *)type metadata accessor for SearchCollectionViewLayout();
  *(void *)uint64_t v1 = 0;
  *((void *)v1 + 1) = 0;
  v11.receiver = v0;
  v11.super_class = v2;
  id v3 = [super init];
  type metadata accessor for SearchResultBackgroundView();
  uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
  id v5 = v3;
  NSString v6 = String._bridgeToObjectiveC()();
  [v5 registerClass:ObjCClassFromMetadata forDecorationViewOfKind:v6];

  type metadata accessor for SearchTransparencyView();
  uint64_t v7 = swift_getObjCClassFromMetadata();
  id v8 = v5;
  static UICollectionReusableView.elementKind.getter();
  NSString v9 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  [v8 registerClass:v7 forDecorationViewOfKind:v9];

  return v8;
}

double sub_1003713F8()
{
  uint64_t v1 = v0;
  v15.receiver = v0;
  v15.super_class = (Class)type metadata accessor for SearchCollectionViewLayout();
  [super collectionViewContentSize];
  double v3 = v2;
  id v4 = [v0 collectionView];
  if (v4)
  {
    id v5 = v4;
    id v6 = [v0 collectionView];
    if (v6
      && (uint64_t v7 = v6, v8 = (char *)[v6 delegate], v7, v8))
    {
      swift_getObjectType();
      if (swift_conformsToProtocol2()) {
        NSString v9 = v8;
      }
      else {
        NSString v9 = 0;
      }
      if (v9)
      {
        uint64_t v10 = dispatch thunk of SearchResultsPresenter.transparencyLink.getter();
        if (v10)
        {
          uint64_t v11 = v10;
          uint64_t v12 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
          [*(id *)&v9[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] pageContainerSize];
          [*(id *)&v9[v12] pageMarginInsets];
          CGSize.subtracting(insets:)();
          sub_1002D6FE8(v13, v11, v5);
          swift_unknownObjectRelease();
          swift_release();
        }
        else
        {
          swift_unknownObjectRelease();
        }
        [v1 minimumLineSpacing];
      }
      else
      {

        swift_unknownObjectRelease();
      }
    }
    else
    {
    }
  }
  return v3;
}

uint64_t sub_1003715BC(double a1)
{
  double v2 = v1;
  uint64_t v80 = sub_100082C28((uint64_t *)&unk_100992300);
  __chkstk_darwin(v80);
  id v5 = (char *)&v66 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for IndexPath();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  NSString v9 = (char *)&v66 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v66 - v11;
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v13 - 8);
  objc_super v15 = (char *)&v66 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v16);
  uint64_t v71 = (uint64_t)&v66 - v17;
  __chkstk_darwin(v18);
  uint64_t v81 = (uint64_t)&v66 - v19;
  double v20 = sub_1003720B8(a1);
  double v22 = v21;
  double v24 = v23;
  double v26 = v25;
  uint64_t v27 = (objc_class *)type metadata accessor for SearchCollectionViewLayout();
  v85.receiver = v1;
  v85.super_class = v27;
  id v28 = [super layoutAttributesForElementsInRect:v20, v22, v24, v26];
  if (!v28) {
    return 0;
  }
  uint64_t v29 = v28;
  sub_100084CF0(0, (unint64_t *)&qword_1009839F0);
  uint64_t v30 = (void *)static Array._unconditionallyBridgeFromObjectiveC(_:)();

  id v31 = [v2 collectionView];
  if (!v31) {
    return (uint64_t)v30;
  }
  uint64_t v32 = v31;
  uint64_t v33 = (char *)[v31 delegate];

  if (!v33) {
    return (uint64_t)v30;
  }
  swift_getObjectType();
  if (swift_conformsToProtocol2()) {
    uint64_t v34 = v33;
  }
  else {
    uint64_t v34 = 0;
  }
  if (!v34)
  {
    swift_unknownObjectRelease();
    return (uint64_t)v30;
  }
  uint64_t v66 = v33;
  unint64_t v79 = (unint64_t)v30;
  id v35 = [*(id *)&v34[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] traitCollection:v33];
  [v35 horizontalSizeClass];

  dispatch thunk of SearchResultsPresenter.transparencyLinkIndex(columnCount:)();
  if (v36)
  {
    uint64_t v38 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v7 + 56);
    uint64_t v39 = v81;
    uint64_t v40 = 1;
  }
  else
  {
    uint64_t v37 = v81;
    IndexPath.init(item:section:)();
    uint64_t v38 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v7 + 56);
    uint64_t v39 = v37;
    uint64_t v40 = 0;
  }
  uint64_t v78 = v38;
  uint64_t result = ((uint64_t (*)(uint64_t, uint64_t, uint64_t, uint64_t))v38)(v39, v40, 1, v6);
  unint64_t v42 = v79;
  unint64_t v84 = (unint64_t)_swiftEmptyArrayStorage;
  if (v79 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v43 = _CocoaArrayWrapper.endIndex.getter();
    uint64_t result = swift_bridgeObjectRelease();
    if (v43) {
      goto LABEL_15;
    }
    goto LABEL_40;
  }
  uint64_t v43 = *(void *)((v79 & 0xFFFFFFFFFFFFFF8) + 0x10);
  if (!v43)
  {
LABEL_40:
    swift_bridgeObjectRelease();
    swift_unknownObjectRelease();
    uint64_t v30 = _swiftEmptyArrayStorage;
LABEL_41:
    sub_100082BCC(v81, (uint64_t *)&unk_10098ABB0);
    return (uint64_t)v30;
  }
LABEL_15:
  uint64_t v70 = v15;
  uint64_t v68 = v9;
  id v83 = v2;
  if (v43 >= 1)
  {
    uint64_t v44 = 0;
    uint64_t v75 = (void (**)(uint64_t, char *, uint64_t))(v7 + 16);
    unint64_t v76 = v42 & 0xC000000000000001;
    uint64_t v73 = (unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48);
    uint64_t v74 = v7 + 56;
    uint64_t v67 = (void (**)(char *, uint64_t, uint64_t))(v7 + 32);
    uint64_t v82 = (void (**)(uint64_t, uint64_t))(v7 + 8);
    unint64_t v72 = 0x80000001008156B0;
    uint64_t v45 = v71;
    uint64_t v77 = v43;
    while (1)
    {
      if (v76) {
        id v46 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        id v46 = *(id *)(v42 + 8 * v44 + 32);
      }
      uint64_t v47 = v46;
      id v48 = [v46 indexPath];
      static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

      NSString v49 = String._bridgeToObjectiveC()();
      Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
      id v51 = [v83 layoutAttributesForDecorationViewOfKind:v49 atIndexPath:isa];

      if (v51)
      {
        id v52 = v51;
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();
      }
      (*v75)(v45, v12, v6);
      v78(v45, 0, 1, v6);
      uint64_t v53 = (uint64_t)&v5[*(int *)(v80 + 48)];
      sub_10027074C(v45, (uint64_t)v5);
      sub_10027074C(v81, v53);
      uint64_t v54 = *v73;
      if ((*v73)(v5, 1, v6) == 1) {
        break;
      }
      uint64_t v55 = (uint64_t)v70;
      sub_10027074C((uint64_t)v5, (uint64_t)v70);
      if (v54((char *)v53, 1, v6) == 1)
      {
        uint64_t v56 = v71;
        sub_100082BCC(v71, (uint64_t *)&unk_10098ABB0);
        uint64_t v57 = v55;
        uint64_t v45 = v56;
        (*v82)(v57, v6);
LABEL_29:
        sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_100992300);
        goto LABEL_35;
      }
      uint64_t v58 = v68;
      (*v67)(v68, v53, v6);
      sub_100373A54();
      int v69 = dispatch thunk of static Equatable.== infix(_:_:)();
      uint64_t v59 = *v82;
      (*v82)((uint64_t)v58, v6);
      uint64_t v60 = v71;
      sub_100082BCC(v71, (uint64_t *)&unk_10098ABB0);
      uint64_t v61 = v55;
      uint64_t v45 = v60;
      v59(v61, v6);
      sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_10098ABB0);
      if (v69) {
        goto LABEL_31;
      }
LABEL_35:
      sub_100372264(v47);
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }
      ++v44;
      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      specialized Array._endMutation()();

      (*v82)((uint64_t)v12, v6);
      unint64_t v42 = v79;
      if (v77 == v44)
      {
        swift_bridgeObjectRelease();
        swift_unknownObjectRelease();
        uint64_t v30 = (void *)v84;
        goto LABEL_41;
      }
    }
    sub_100082BCC(v45, (uint64_t *)&unk_10098ABB0);
    if (v54((char *)v53, 1, v6) == 1)
    {
      sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_10098ABB0);
LABEL_31:
      type metadata accessor for SearchTransparencyView();
      static UICollectionReusableView.elementKind.getter();
      NSString v62 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
      Class v63 = IndexPath._bridgeToObjectiveC()().super.isa;
      id v64 = [v83 layoutAttributesForDecorationViewOfKind:v62 atIndexPath:v63];

      if (v64)
      {
        id v65 = v64;
        specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
        if (*(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v84 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
          specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
        }
        specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
        specialized Array._endMutation()();
      }
      goto LABEL_35;
    }
    goto LABEL_29;
  }
  __break(1u);
  return result;
}

double sub_1003720B8(double a1)
{
  id v3 = [v1 collectionView];
  if (v3)
  {
    uint64_t v4 = v3;
    id v5 = [v1 collectionView];
    if (v5
      && (uint64_t v6 = v5, v7 = (char *)[v5 delegate], v6, v7))
    {
      swift_getObjectType();
      if (swift_conformsToProtocol2()) {
        uint64_t v8 = v7;
      }
      else {
        uint64_t v8 = 0;
      }
      if (v8)
      {
        uint64_t v9 = dispatch thunk of SearchResultsPresenter.transparencyLink.getter();
        if (v9)
        {
          uint64_t v10 = v9;
          uint64_t v11 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
          [*(id *)&v8[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] pageContainerSize];
          [*(id *)&v8[v11] pageMarginInsets];
          CGSize.subtracting(insets:)();
          sub_1002D6FE8(v12, v10, v4);
          swift_unknownObjectRelease();

          swift_release();
        }
        else
        {
          swift_unknownObjectRelease();
        }
      }
      else
      {

        swift_unknownObjectRelease();
      }
    }
    else
    {
    }
  }
  return a1;
}

id sub_100372264(void *a1)
{
  double v2 = v1;
  id v39 = a1;
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v3 - 8);
  id v5 = (char *)v37 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for IndexPath();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v37 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&double v11 = __chkstk_darwin(v10).n128_u64[0];
  uint64_t v13 = (char *)v37 - v12;
  id v14 = [v1 collectionView];
  if (v14)
  {
    objc_super v15 = v14;
    id v16 = [v1 collectionView];
    if (v16)
    {
      uint64_t v17 = v16;
      uint64_t v18 = (char *)[v16 delegate];

      if (v18)
      {
        swift_getObjectType();
        if (swift_conformsToProtocol2()) {
          uint64_t v19 = v18;
        }
        else {
          uint64_t v19 = 0;
        }
        if (v19)
        {
          v37[0] = v9;
          v37[1] = &protocol descriptor for UICollectionViewDelegateSearchLayout;
          uint64_t v38 = v13;
          id v20 = [*(id *)&v19[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] traitCollection];
          [v20 horizontalSizeClass];

          dispatch thunk of SearchResultsPresenter.transparencyLinkIndex(columnCount:)();
          if (v21)
          {
            (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56))(v5, 1, 1, v6);
          }
          else
          {
            IndexPath.init(item:section:)();
            (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v5, 0, 1, v6);
          }
          double v24 = v38;
          swift_unknownObjectRelease();
          if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48))(v5, 1, v6) != 1)
          {
            (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v24, v5, v6);
            id v25 = [v2 collectionView];
            if (v25)
            {
              double v26 = v25;
              uint64_t v27 = (char *)[v25 delegate];

              if (v27)
              {
                swift_getObjectType();
                if (swift_conformsToProtocol2()) {
                  id v28 = v27;
                }
                else {
                  id v28 = 0;
                }
                if (v28)
                {
                  uint64_t v29 = dispatch thunk of SearchResultsPresenter.transparencyLink.getter();
                  if (v29)
                  {
                    uint64_t v30 = v29;
                    uint64_t v31 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
                    [*(id *)&v28[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] pageContainerSize];
                    [*(id *)&v28[v31] pageMarginInsets];
                    CGSize.subtracting(insets:)();
                    sub_1002D6FE8(v32, v30, v15);
                    swift_unknownObjectRelease();
                    swift_release();
                  }
                  else
                  {
                    swift_unknownObjectRelease();
                  }
                  id v33 = [v39 indexPath];
                  uint64_t v34 = v37[0];
                  static IndexPath._unconditionallyBridgeFromObjectiveC(_:)();

                  LOBYTE(v33) = static IndexPath.> infix(_:_:)();
                  id v35 = *(void (**)(uint64_t, uint64_t))(v7 + 8);
                  v35(v34, v6);
                  if (v33)
                  {
                    sub_100084CF0(0, (unint64_t *)&qword_1009839F0);
                    char v36 = NSCopying.makeCopy()();
                    [v2 minimumLineSpacing];
                    [v36 frame];
                    [v36 setFrame:];

                    v35((uint64_t)v24, v6);
                    return v36;
                  }
                  v35((uint64_t)v24, v6);
                  goto LABEL_28;
                }
                swift_unknownObjectRelease();
              }
            }
            (*(void (**)(char *, uint64_t))(v7 + 8))(v24, v6);
LABEL_28:

            goto LABEL_13;
          }
          goto LABEL_12;
        }
        swift_unknownObjectRelease();
      }
    }
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v7 + 56))(v5, 1, 1, v6);
LABEL_12:

    sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_10098ABB0);
  }
LABEL_13:
  id v22 = v39;

  return v22;
}

uint64_t sub_100372794(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = v3;
  uint64_t v129 = a2;
  uint64_t v130 = a1;
  uint64_t v6 = type metadata accessor for IndexPath();
  uint64_t v128 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  long long v124 = (char *)&v117 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100992300);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v117 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = sub_100082C28((uint64_t *)&unk_10098ABB0);
  __chkstk_darwin(v11 - 8);
  uint64_t v125 = (uint64_t)&v117 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v126 = (uint64_t)&v117 - v14;
  __chkstk_darwin(v15);
  uint64_t v127 = (uint64_t)&v117 - v16;
  uint64_t v17 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  id v20 = (char *)&v117 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  Class isa = IndexPath._bridgeToObjectiveC()().super.isa;
  id v22 = (objc_class *)type metadata accessor for SearchCollectionViewLayout();
  v132.receiver = v4;
  v132.super_class = v22;
  id v23 = [super layoutAttributesForItemAtIndexPath:isa];

  if (!v23) {
    return 0;
  }
  uint64_t v123 = v10;
  id v24 = [v4 collectionView];
  if (!v24) {
    goto LABEL_14;
  }
  id v25 = v24;
  id v26 = [v4 collectionView];
  if (!v26
    || (uint64_t v27 = v26,
        uint64_t v121 = v6,
        id v28 = (char *)[v26 delegate],
        v27,
        !v28))
  {

LABEL_14:
    return 0;
  }
  swift_getObjectType();
  if (swift_conformsToProtocol2()) {
    uint64_t v29 = v28;
  }
  else {
    uint64_t v29 = 0;
  }
  if (!v29)
  {

    swift_unknownObjectRelease();
    return 0;
  }
  long long v118 = v29;
  id v119 = v28;
  id v120 = v23;
  type metadata accessor for SearchCollectionLayoutAttributes();
  swift_bridgeObjectRetain();
  NSString v30 = String._bridgeToObjectiveC()();
  uint64_t v122 = v25;
  uint64_t v31 = v30;
  swift_bridgeObjectRelease();
  Class v32 = IndexPath._bridgeToObjectiveC()().super.isa;
  id v33 = (char *)[(id)swift_getObjCClassFromMetadata() layoutAttributesForDecorationViewOfKind:v31 withIndexPath:v32];

  uint64_t v34 = v122;
  id v35 = [v34 traitCollection];
  id v117 = [v35 horizontalSizeClass];

  id v36 = [v34 traitCollection];
  id v37 = [v36 userInterfaceIdiom];

  if (v37)
  {
    if (qword_10097FC20 != -1) {
      swift_once();
    }
    uint64_t v38 = type metadata accessor for StaticDimension();
    sub_100087728(v38, (uint64_t)qword_1009E5D60);
    id v39 = [v34 traitCollection];
    type metadata accessor for TraitEnvironmentPlaceholder();
    sub_100082C28(&qword_100982B50);
    uint64_t v40 = swift_allocObject();
    *(_OWORD *)(v40 + 16) = xmmword_1007BEA80;
    *(void *)(v40 + 32) = v39;
    id v41 = v39;
    unint64_t v42 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    dispatch thunk of AnyDimension.rawValue(in:)();
    double v44 = v43;
  }
  else
  {
    if (qword_10097ED38 != -1) {
      swift_once();
    }
    uint64_t v47 = type metadata accessor for StaticDimension();
    sub_100087728(v47, (uint64_t)qword_1009E3280);
    id v48 = [v34 traitCollection];
    static Dimensions.defaultRoundingRule.getter();
    StaticDimension.value(compatibleWith:rounded:)();
    double v44 = v49;

    (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v17);
  }
  uint64_t v50 = v129;
  id v51 = v120;
  if (v130 != 0xD000000000000022 || v129 != 0x80000001008156B0)
  {
    char v53 = _stringCompareWithSmolCheck(_:_:expecting:)();
    id v52 = v122;
    if ((v53 & 1) != 0 && v117 == (id)1)
    {
LABEL_27:
      uint64_t v45 = (char *)sub_10031F59C();
      if (v45)
      {
        [v51 frame];
        double Width = CGRectGetWidth(v133);
        [v51 frame];
        double v56 = Width + v55 + v55;
        [v51 frame];
        double v57 = v44 + v44 + CGRectGetHeight(v134);
        [v51 frame];
        double v59 = v58;
        double v61 = v60;
        [v51 frame];
        [v33 setFrame:CGRectMake(v59 - v62, v61 - v44, v56, v57)];
        *(void *)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_cornerRadius] = 0;
        unint64_t v63 = (unint64_t)(v45 - 1);
        if (v45 != (char *)1)
        {
          id v64 = 0;
          if (v45 == (char *)2) {
            goto LABEL_47;
          }
          goto LABEL_39;
        }
LABEL_46:
        id v64 = [self secondarySystemBackgroundColor];
        goto LABEL_47;
      }
LABEL_38:
      swift_unknownObjectRelease();

LABEL_54:
      return (uint64_t)v45;
    }
    if (_stringCompareWithSmolCheck(_:_:expecting:)()) {
      goto LABEL_32;
    }
    type metadata accessor for SearchTransparencyView();
    if (static UICollectionReusableView.elementKind.getter() == v130 && v71 == v50)
    {
      swift_bridgeObjectRelease();
    }
    else
    {
      char v76 = _stringCompareWithSmolCheck(_:_:expecting:)();
      swift_bridgeObjectRelease();
      if ((v76 & 1) == 0)
      {
        swift_unknownObjectRelease();

        return 0;
      }
    }
    uint64_t v77 = v127;
    uint64_t v78 = v128;
    uint64_t v79 = v121;
    (*(void (**)(uint64_t, uint64_t, uint64_t))(v128 + 16))(v127, a3, v121);
    uint64_t v80 = *(void (**)(uint64_t, void, uint64_t, uint64_t))(v78 + 56);
    uint64_t v81 = 1;
    v80(v77, 0, 1, v79);
    uint64_t v129 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_presenter;
    uint64_t v130 = OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits;
    id v82 = [*(id *)&v118[OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_pageTraits] traitCollection];
    [v82 horizontalSizeClass];

    dispatch thunk of SearchResultsPresenter.transparencyLinkIndex(columnCount:)();
    uint64_t v83 = v126;
    if ((v84 & 1) == 0)
    {
      IndexPath.init(item:section:)();
      uint64_t v81 = 0;
    }
    uint64_t v85 = v121;
    v80(v83, v81, 1, v121);
    uint64_t v86 = (uint64_t)v123;
    uint64_t v87 = (uint64_t)&v123[*(int *)(v8 + 48)];
    uint64_t v88 = v127;
    sub_10027074C(v127, (uint64_t)v123);
    sub_10027074C(v83, v87);
    id v89 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(v128 + 48);
    if (v89(v86, 1, v85) == 1)
    {
      sub_100082BCC(v83, (uint64_t *)&unk_10098ABB0);
      sub_100082BCC(v88, (uint64_t *)&unk_10098ABB0);
      int v90 = v89(v87, 1, v85);
      uint64_t v91 = v120;
      uint64_t v92 = v122;
      if (v90 == 1)
      {
        sub_100082BCC(v86, (uint64_t *)&unk_10098ABB0);
LABEL_67:
        uint64_t v102 = v118;
        uint64_t v103 = v130;
        [*(id *)&v118[v130] pageMarginInsets];
        double v105 = v104;
        uint64_t v106 = v33;
        uint64_t v107 = v102;
        uint64_t v45 = v106;
        [v91 frame];
        double MaxY = CGRectGetMaxY(v137);
        [v4 minimumLineSpacing];
        double v110 = v109;
        uint64_t v111 = dispatch thunk of SearchResultsPresenter.transparencyLink.getter();
        if (v111)
        {
          uint64_t v112 = v111;
          [*(id *)&v107[v103] pageContainerSize];
          [*(id *)&v107[v103] pageMarginInsets];
          CGSize.subtracting(insets:)();
          double v114 = sub_1002D6FE8(v113, v112, v92);
          double v116 = v115;
          swift_release();
        }
        else
        {
          double v114 = 0.0;
          double v116 = 0.0;
        }
        [v45 setFrame:v105 MaxY + v110, v114, v116];

        swift_unknownObjectRelease();
        return (uint64_t)v45;
      }
    }
    else
    {
      uint64_t v93 = v125;
      sub_10027074C(v86, v125);
      int v94 = v89(v87, 1, v85);
      double v95 = v120;
      uint64_t v92 = v122;
      if (v94 != 1)
      {
        uint64_t v96 = v128;
        uint64_t v97 = v93;
        id v98 = v124;
        (*(void (**)(char *, uint64_t, uint64_t))(v128 + 32))(v124, v87, v85);
        sub_100373A54();
        char v99 = dispatch thunk of static Equatable.== infix(_:_:)();
        CGFloat v100 = *(void (**)(char *, uint64_t))(v96 + 8);
        v100(v98, v85);
        sub_100082BCC(v126, (uint64_t *)&unk_10098ABB0);
        sub_100082BCC(v127, (uint64_t *)&unk_10098ABB0);
        uint64_t v101 = v97;
        uint64_t v92 = v122;
        v100((char *)v101, v85);
        sub_100082BCC(v86, (uint64_t *)&unk_10098ABB0);
        uint64_t v91 = v95;
        if (v99) {
          goto LABEL_67;
        }
        goto LABEL_64;
      }
      sub_100082BCC(v126, (uint64_t *)&unk_10098ABB0);
      sub_100082BCC(v88, (uint64_t *)&unk_10098ABB0);
      (*(void (**)(uint64_t, uint64_t))(v128 + 8))(v93, v85);
      uint64_t v91 = v95;
    }
    sub_100082BCC(v86, (uint64_t *)&unk_100992300);
LABEL_64:
    swift_unknownObjectRelease();

    return 0;
  }
  id v52 = v122;
  if (v117 == (id)1) {
    goto LABEL_27;
  }
LABEL_32:
  uint64_t v45 = (char *)sub_10031F59C();
  if (!v45) {
    goto LABEL_38;
  }
  [v51 frame];
  double v65 = CGRectGetWidth(v135);
  if (qword_10097ED30 != -1) {
    swift_once();
  }
  double v66 = *(double *)&qword_1009922C0;
  [v51 frame];
  double v67 = v44 + v44 + CGRectGetHeight(v136);
  [v51 frame];
  [v33 setFrame:v68 - v66, v69 - v44, v65 + v66 + v66, v67];
  *(void *)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_cornerRadius] = *(void *)&v4[OBJC_IVAR____TtC8AppStore26SearchCollectionViewLayout_backgroundCornerRadius];
  unint64_t v63 = (unint64_t)(v45 - 1);
  if (v45 == (char *)1) {
    goto LABEL_46;
  }
  if (v45 == (char *)2)
  {
    id v64 = 0;
    goto LABEL_47;
  }
LABEL_39:
  if (v45 != (char *)3) {
    goto LABEL_71;
  }
  if (qword_10097FDB8 != -1) {
    swift_once();
  }
  id v64 = (id)qword_1009E6210;
  id v70 = (id)qword_1009E6210;
LABEL_47:
  unint64_t v72 = *(void **)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_backgroundColor];
  *(void *)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_backgroundColor] = v64;

  *(void *)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_backgroundGradientColors] = sub_100371050((uint64_t)v45);
  swift_bridgeObjectRelease();
  if (v63 < 2)
  {
    uint64_t v73 = 0;
LABEL_53:
    uint64_t v75 = *(void **)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_borderColor];
    *(void *)&v33[OBJC_IVAR____TtC8AppStore32SearchCollectionLayoutAttributes_borderColor] = v73;

    uint64_t v45 = v33;
    [v45 setZIndex:-1];

    swift_unknownObjectRelease();
    goto LABEL_54;
  }
  if (v45 == (char *)3)
  {
    if (qword_10097FDC0 != -1) {
      swift_once();
    }
    uint64_t v73 = qword_1009E6218;
    id v74 = (id)qword_1009E6218;
    goto LABEL_53;
  }
LABEL_71:
  uint64_t v131 = v45;
  uint64_t result = _diagnoseUnexpectedEnumCaseValue<A, B>(type:rawValue:)();
  __break(1u);
  return result;
}

uint64_t sub_1003736A0()
{
  id v1 = [v0 collectionView];
  if (v1)
  {
    double v2 = v1;
    id v3 = [v1 delegate];

    if (v3)
    {
      swift_getObjectType();
      if (swift_conformsToProtocol2()) {
        id v4 = v3;
      }
      else {
        id v4 = 0;
      }
      if (v4)
      {
        type metadata accessor for SearchResultsCollectionViewDelegate();
        uint64_t v5 = swift_dynamicCastClass();
        if (v5)
        {
          uint64_t v6 = v5;
          unint64_t v7 = sub_10067041C((uint64_t)_swiftEmptyArrayStorage);
          uint64_t v8 = (unint64_t *)(v6
                                  + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_maxSizeForRowCache);
          swift_beginAccess();
          unint64_t *v8 = v7;
          swift_bridgeObjectRelease();
          *(unsigned char *)(v6 + OBJC_IVAR____TtC8AppStore35SearchResultsCollectionViewDelegate_isFirstItemFullWidth) = 2;
        }
      }
      swift_unknownObjectRelease();
    }
  }
  v13.receiver = v0;
  v13.super_class = (Class)type metadata accessor for SearchCollectionViewLayout();
  [super prepareLayout];
  uint64_t v9 = (uint64_t *)&v0[OBJC_IVAR____TtC8AppStore26SearchCollectionViewLayout_pendingPrepareObserver];
  uint64_t v10 = *(void (**)(char *))&v0[OBJC_IVAR____TtC8AppStore26SearchCollectionViewLayout_pendingPrepareObserver];
  if (v10)
  {
    swift_retain();
    v10(v0);
    sub_10006012C((uint64_t)v10);
    uint64_t v11 = *v9;
  }
  else
  {
    uint64_t v11 = 0;
  }
  *uint64_t v9 = 0;
  v9[1] = 0;
  return sub_10006012C(v11);
}

id sub_10037386C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for SearchCollectionViewLayout();
  [super dealloc];
}

uint64_t type metadata accessor for SearchCollectionViewLayout()
{
  return self;
}

void sub_1003738D8()
{
  qword_1009922C0 = 0x4028000000000000;
}

uint64_t sub_1003738E8()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  id v3 = (UIFontTextStyle *)((char *)&v9[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009E3280);
  sub_100087728(v4, (uint64_t)qword_1009E3280);
  *id v3 = UIFontTextStyleBody;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.textStyle(_:), v0);
  uint64_t v9[3] = v0;
  void v9[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v5 = sub_1000808B8(v9);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v1 + 16))(v5, v3, v0);
  uint64_t v6 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(UIFontTextStyle *, uint64_t))(v1 + 8))(v3, v0);
}

unint64_t sub_100373A54()
{
  unint64_t result = qword_100992310;
  if (!qword_100992310)
  {
    type metadata accessor for IndexPath();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100992310);
  }
  return result;
}

ValueMetadata *type metadata accessor for SearchBackgroundStyle()
{
  return &type metadata for SearchBackgroundStyle;
}

unint64_t sub_100373AC0()
{
  unint64_t result = qword_100992320;
  if (!qword_100992320)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100992320);
  }
  return result;
}

unint64_t sub_100373B14(unint64_t result)
{
  if (result > 3) {
    return 0;
  }
  return result;
}

void *sub_100373B24(uint64_t a1)
{
  uint64_t v1 = *(void *)(a1 + 16);
  if (!v1) {
    return _swiftEmptyArrayStorage;
  }
  uint64_t v2 = swift_bridgeObjectRetain() + 40;
  id v3 = _swiftEmptyArrayStorage;
  do
  {
    uint64_t v4 = *(void **)(v2 - 8);
    swift_getObjectType();
    id v5 = v4;
    dispatch thunk of MetadataRibbonItemView.layoutContext.getter();

    if (*((void *)&v17 + 1))
    {
      long long v12 = v18;
      long long v13 = v19;
      long long v14 = v20;
      __int16 v15 = v21;
      long long v10 = v16;
      long long v11 = v17;
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        id v3 = sub_1000AB8F0(0, v3[2] + 1, 1, v3);
      }
      unint64_t v7 = v3[2];
      unint64_t v6 = v3[3];
      if (v7 >= v6 >> 1) {
        id v3 = sub_1000AB8F0((void *)(v6 > 1), v7 + 1, 1, v3);
      }
      v3[2] = v7 + 1;
      uint64_t v8 = &v3[11 * v7];
      *((_OWORD *)v8 + 2) = v10;
      *((_OWORD *)v8 + 3) = v11;
      *((_WORD *)v8 + 56) = v15;
      *((_OWORD *)v8 + 5) = v13;
      *((_OWORD *)v8 + 6) = v14;
      *((_OWORD *)v8 + 4) = v12;
    }
    else
    {
      sub_100082BCC((uint64_t)&v16, &qword_100992378);
    }
    v2 += 16;
    --v1;
  }
  while (v1);
  swift_bridgeObjectRelease();
  return v3;
}

uint64_t MetadataRibbonView.hasContent.getter()
{
  swift_getObjectType();
  uint64_t v1 = (unint64_t *)(v0 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemModels);
  swift_beginAccess();
  unint64_t v2 = *v1;
  swift_bridgeObjectRetain();
  char v3 = sub_1004AAD44(0, v2);
  swift_bridgeObjectRelease();
  return v3 & 1;
}

uint64_t MetadataRibbonView.isInsideSearchAd.setter(char a1)
{
  uint64_t v3 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  unint64_t v6 = &v10[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  unint64_t v7 = &v1[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_isInsideSearchAd];
  uint64_t result = swift_beginAccess();
  *unint64_t v7 = a1;
  if (a1)
  {
    static MetadataRibbonViewLayout.Metrics.standard.getter();
    uint64_t v9 = &v1[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
    swift_beginAccess();
    (*(void (**)(char *, unsigned char *, uint64_t))(v4 + 24))(v9, v6, v3);
    swift_endAccess();
    [v1 setNeedsLayout];
    return (*(uint64_t (**)(unsigned char *, uint64_t))(v4 + 8))(v6, v3);
  }
  return result;
}

uint64_t sub_100373E90()
{
  uint64_t v1 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = &v12[-((v3 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v5 = &v0[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemModels];
  swift_beginAccess();
  *(void *)uint64_t v5 = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  uint64_t v6 = OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews;
  uint64_t v7 = *(void *)&v0[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews];
  uint64_t v8 = *(void *)(v7 + 16);
  if (v8)
  {
    swift_bridgeObjectRetain();
    uint64_t v9 = 32;
    do
    {
      [*(id *)(v7 + v9) removeFromSuperview];
      v9 += 16;
      --v8;
    }
    while (v8);
    swift_bridgeObjectRelease();
  }
  *(void *)&v0[v6] = _swiftEmptyArrayStorage;
  swift_bridgeObjectRelease();
  sub_10037466C();
  static MetadataRibbonViewLayout.Metrics.standard.getter();
  long long v10 = &v0[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, unsigned char *, uint64_t))(v2 + 24))(v10, v4, v1);
  swift_endAccess();
  [v0 setNeedsLayout];
  return (*(uint64_t (**)(unsigned char *, uint64_t))(v2 + 8))(v4, v1);
}

id sub_100374050(unint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v7 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  long long v10 = (char *)&v39 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v52 = type metadata accessor for MetadataRibbonItemViewType();
  uint64_t v11 = *(void *)(v52 - 8);
  __chkstk_darwin(v52);
  long long v13 = (char *)&v39 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  char v53 = _swiftEmptyArrayStorage;
  unint64_t v45 = a1;
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    id result = (id)_CocoaArrayWrapper.endIndex.getter();
    uint64_t v14 = (uint64_t)result;
    uint64_t v43 = a2;
    double v44 = v10;
    if (result) {
      goto LABEL_3;
    }
LABEL_32:
    unint64_t v17 = v45;
    swift_bridgeObjectRelease();
    NSString v30 = _swiftEmptyArrayStorage;
    goto LABEL_33;
  }
  uint64_t v14 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  id result = (id)swift_bridgeObjectRetain();
  uint64_t v43 = a2;
  double v44 = v10;
  if (!v14) {
    goto LABEL_32;
  }
LABEL_3:
  if (v14 < 1)
  {
    __break(1u);
    return result;
  }
  uint64_t v39 = a3;
  uint64_t v40 = v8;
  uint64_t v41 = v7;
  unint64_t v42 = v3;
  uint64_t v16 = 0;
  unint64_t v17 = v45;
  unint64_t v51 = v45 & 0xC000000000000001;
  long long v18 = (uint64_t (**)(char *, uint64_t))(v11 + 88);
  int v49 = enum case for MetadataRibbonItemViewType.editorsChoice(_:);
  int v50 = enum case for MetadataRibbonItemViewType.borderedTextLabel(_:);
  int v47 = enum case for MetadataRibbonItemViewType.starRating(_:);
  int v48 = enum case for MetadataRibbonItemViewType.imageWithLabel(_:);
  int v46 = enum case for MetadataRibbonItemViewType.textLabel(_:);
  int v19 = enum case for MetadataRibbonItemViewType.divider(_:);
  long long v20 = (void (**)(char *, uint64_t))(v11 + 8);
  int v21 = enum case for MetadataRibbonItemViewType.highlightedText(_:);
  do
  {
    if (v51) {
      specialized _ArrayBuffer._getElementSlowPath(_:)();
    }
    else {
      swift_retain();
    }
    MetadataRibbonItem.viewContainerType.getter();
    uint64_t v22 = v52;
    int v23 = (*v18)(v13, v52);
    if (v23 == v50 || v23 == v49 || v23 == v48 || v23 == v47 || v23 == v46 || v23 == v19 || v23 == v21)
    {
      specialized ContiguousArray._makeUniqueAndReserveCapacityIfNotUnique()();
      specialized ContiguousArray._reserveCapacityAssumingUniqueBuffer(oldCount:)();
      unint64_t v17 = v45;
      specialized ContiguousArray._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      specialized ContiguousArray._endMutation()();
    }
    else
    {
      (*v20)(v13, v22);
      swift_release();
    }
    ++v16;
  }
  while (v14 != v16);
  swift_bridgeObjectRelease();
  NSString v30 = v53;
  uint64_t v7 = v41;
  uint64_t v3 = v42;
  a3 = v39;
  uint64_t v8 = v40;
LABEL_33:
  uint64_t v31 = &v3[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemModels];
  swift_beginAccess();
  *(void *)uint64_t v31 = v30;
  swift_bridgeObjectRelease();
  swift_retain();
  Class v32 = sub_100375618(v17, a3);
  swift_release();
  uint64_t v33 = OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews;
  uint64_t v34 = *(void *)&v3[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews];
  uint64_t v35 = *(void *)(v34 + 16);
  if (v35)
  {
    swift_bridgeObjectRetain();
    uint64_t v36 = 32;
    do
    {
      [*(id *)(v34 + v36) removeFromSuperview:v39, v40, v41, v42];
      v36 += 16;
      --v35;
    }
    while (v35);
    swift_bridgeObjectRelease();
  }
  *(void *)&v3[v33] = v32;
  swift_bridgeObjectRelease();
  sub_10037466C();
  id v37 = v44;
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v44, v43, v7);
  uint64_t v38 = &v3[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v8 + 24))(v38, v37, v7);
  swift_endAccess();
  [v3 setNeedsLayout];
  (*(void (**)(char *, uint64_t))(v8 + 8))(v37, v7);
  return [v3 setNeedsLayout];
}

id sub_10037466C()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v16 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = *(void *)&v1[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews];
  uint64_t v7 = &v1[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v3 + 16))(v5, v7, v2);
  swift_bridgeObjectRetain();
  uint64_t v8 = MetadataRibbonViewLayout.Metrics.maximumNumberOfItems.getter();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  id result = (id)sub_1004C8780(v8, v6);
  unint64_t v13 = (v12 >> 1) - v11;
  if (v12 >> 1 == v11) {
    goto LABEL_5;
  }
  if ((uint64_t)(v12 >> 1) > v11)
  {
    uint64_t v14 = (uint64_t *)(v10 + 16 * v11);
    do
    {
      uint64_t v15 = *v14;
      v14 += 2;
      [v1 addSubview:v15];
      --v13;
    }
    while (v13);
LABEL_5:
    swift_unknownObjectRelease();
    return [v1 setNeedsLayout];
  }
  __break(1u);
  return result;
}

uint64_t MetadataRibbonView.metrics.getter@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics;
  swift_beginAccess();
  uint64_t v4 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a1, v3, v4);
}

uint64_t sub_100374870@<X0>(void *a1@<X0>, uint64_t a2@<X8>)
{
  uint64_t v3 = *a1 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics;
  swift_beginAccess();
  uint64_t v4 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  return (*(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, v3, v4);
}

uint64_t sub_1003748F8(uint64_t a1, void **a2)
{
  uint64_t v4 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v5 = *(void *)(v4 - 8);
  __n128 v6 = __chkstk_darwin(v4);
  uint64_t v8 = (char *)&v12 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v5 + 16))(v8, a1, v4, v6);
  uint64_t v9 = (char *)*a2;
  uint64_t v10 = &v9[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v5 + 24))(v10, v8, v4);
  swift_endAccess();
  [v9 setNeedsLayout];
  return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v8, v4);
}

uint64_t MetadataRibbonView.metadataRibbonItemModels.getter()
{
  return swift_bridgeObjectRetain();
}

Swift::Void __swiftcall MetadataRibbonView.layoutSubviews()()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v2 = type metadata accessor for LayoutRect();
  uint64_t v17 = *(void *)(v2 - 8);
  uint64_t v18 = v2;
  __chkstk_darwin(v2);
  uint64_t v4 = (char *)&v15 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v15 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for MetadataRibbonViewLayout();
  uint64_t v9 = *(void *)(v16 - 8);
  *(void *)&double v10 = __chkstk_darwin(v16).n128_u64[0];
  uint64_t v12 = (char *)&v15 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  v19.receiver = v0;
  v19.super_class = ObjectType;
  [super layoutSubviews:v10];
  uint64_t v13 = swift_bridgeObjectRetain();
  sub_100373B24(v13);
  swift_bridgeObjectRelease();
  uint64_t v14 = &v0[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v6 + 16))(v8, v14, v5);
  MetadataRibbonViewLayout.init(metadataRibbonItemLayoutContexts:metrics:)();
  LayoutMarginsAware<>.layoutFrame.getter();
  MetadataRibbonViewLayout.placeChildren(relativeTo:in:)();
  (*(void (**)(char *, uint64_t))(v17 + 8))(v4, v18);
  (*(void (**)(char *, uint64_t))(v9 + 8))(v12, v16);
}

double MetadataRibbonView.measurements(fitting:in:)()
{
  uint64_t v1 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  uint64_t v4 = &v14[-((v3 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v5 = type metadata accessor for MetadataRibbonViewLayout();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = &v14[-((v7 + 15) & 0xFFFFFFFFFFFFFFF0)];
  uint64_t v9 = swift_bridgeObjectRetain();
  sub_100373B24(v9);
  swift_bridgeObjectRelease();
  uint64_t v10 = v0 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics;
  swift_beginAccess();
  (*(void (**)(unsigned char *, uint64_t, uint64_t))(v2 + 16))(v4, v10, v1);
  MetadataRibbonViewLayout.init(metadataRibbonItemLayoutContexts:metrics:)();
  MetadataRibbonViewLayout.measurements(fitting:in:)();
  double v12 = v11;
  (*(void (**)(unsigned char *, uint64_t))(v6 + 8))(v8, v5);
  return v12;
}

uint64_t sub_100375198()
{
  return dispatch thunk of static MetadataRibbonItemView.measurements(for:fitting:in:)();
}

uint64_t MetadataRibbonView.isInsideSearchAd.getter()
{
  uint64_t v1 = (unsigned __int8 *)(v0 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_isInsideSearchAd);
  swift_beginAccess();
  return *v1;
}

void (*MetadataRibbonView.isInsideSearchAd.modify(void *a1))(uint64_t *a1, char a2)
{
  uint64_t v3 = malloc(0x58uLL);
  *a1 = v3;
  v3[6] = v1;
  uint64_t v4 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  v3[7] = v4;
  uint64_t v5 = *(void *)(v4 - 8);
  v3[8] = v5;
  uint64_t v6 = malloc(*(void *)(v5 + 64));
  uint64_t v7 = OBJC_IVAR____TtC8AppStore18MetadataRibbonView_isInsideSearchAd;
  v3[9] = v6;
  v3[10] = v7;
  swift_beginAccess();
  return sub_10037537C;
}

void sub_10037537C(uint64_t *a1, char a2)
{
  uint64_t v3 = *a1;
  swift_endAccess();
  if ((a2 & 1) == 0)
  {
    uint64_t v4 = *(char **)(v3 + 48);
    if (v4[*(void *)(v3 + 80)] == 1)
    {
      uint64_t v6 = *(void *)(v3 + 64);
      uint64_t v5 = *(void *)(v3 + 72);
      uint64_t v7 = *(void *)(v3 + 56);
      static MetadataRibbonViewLayout.Metrics.standard.getter();
      uint64_t v8 = &v4[OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metrics];
      swift_beginAccess();
      (*(void (**)(char *, uint64_t, uint64_t))(v6 + 24))(v8, v5, v7);
      swift_endAccess();
      [v4 setNeedsLayout];
      (*(void (**)(uint64_t, uint64_t))(v6 + 8))(v5, v7);
    }
  }
  free(*(void **)(v3 + 72));

  free((void *)v3);
}

uint64_t sub_100375510()
{
  return type metadata accessor for MetadataRibbonView();
}

uint64_t type metadata accessor for MetadataRibbonView()
{
  uint64_t result = qword_100992360;
  if (!qword_100992360) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100375564()
{
  uint64_t result = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

void *sub_100375618(unint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v34 = a2;
  uint64_t v36 = type metadata accessor for MetadataRibbonItemViewType();
  uint64_t v5 = *(void *)(v36 - 8);
  __chkstk_darwin(v36);
  uint64_t v35 = (char *)&v22 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (a1 >> 62)
  {
LABEL_32:
    swift_bridgeObjectRetain();
    uint64_t v7 = _CocoaArrayWrapper.endIndex.getter();
    if (v7) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v7 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v7)
    {
LABEL_3:
      uint64_t v25 = v3;
      unint64_t v33 = a1 & 0xC000000000000001;
      uint64_t v8 = (uint64_t (**)(char *, uint64_t))(v5 + 88);
      int v32 = enum case for MetadataRibbonItemViewType.borderedTextLabel(_:);
      int v29 = enum case for MetadataRibbonItemViewType.editorsChoice(_:);
      int v27 = enum case for MetadataRibbonItemViewType.starRating(_:);
      int v28 = enum case for MetadataRibbonItemViewType.imageWithLabel(_:);
      int v26 = enum case for MetadataRibbonItemViewType.textLabel(_:);
      int v24 = enum case for MetadataRibbonItemViewType.divider(_:);
      uint64_t v22 = (void (**)(char *, uint64_t))(v5 + 8);
      uint64_t v9 = 4;
      int v23 = enum case for MetadataRibbonItemViewType.highlightedText(_:);
      uint64_t v10 = _swiftEmptyArrayStorage;
      uint64_t v30 = v7;
      unint64_t v31 = a1;
      while (1)
      {
        uint64_t v3 = v9 - 4;
        if (v33)
        {
          uint64_t v5 = specialized _ArrayBuffer._getElementSlowPath(_:)();
          uint64_t v11 = v9 - 3;
          if (__OFADD__(v3, 1)) {
            goto LABEL_31;
          }
        }
        else
        {
          uint64_t v5 = *(void *)(a1 + 8 * v9);
          swift_retain();
          uint64_t v11 = v9 - 3;
          if (__OFADD__(v3, 1))
          {
LABEL_31:
            __break(1u);
            goto LABEL_32;
          }
        }
        double v12 = v35;
        MetadataRibbonItem.viewContainerType.getter();
        int v13 = (*v8)(v12, v36);
        if (v13 == v32) {
          break;
        }
        if (v13 == v29)
        {
          type metadata accessor for MetadataRibbonEditorsChoiceView();
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonEditorsChoiceView;
          uint64_t v15 = (unint64_t *)&unk_100984AE0;
          goto LABEL_23;
        }
        if (v13 == v28)
        {
          type metadata accessor for MetadataRibbonIconWithLabelView(0);
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonIconWithLabelView;
          uint64_t v15 = (unint64_t *)&unk_100981FE8;
          goto LABEL_23;
        }
        if (v13 == v27)
        {
          type metadata accessor for MetadataRibbonStarRatingView();
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonStarRatingView;
          uint64_t v15 = (unint64_t *)&unk_100984AF0;
          goto LABEL_23;
        }
        if (v13 == v26)
        {
          type metadata accessor for MetadataRibbonTagView();
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonTagView;
          uint64_t v15 = (unint64_t *)&unk_100981FE0;
          goto LABEL_23;
        }
        if (v13 == v24)
        {
          type metadata accessor for MetadataRibbonBarView();
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonBarView;
          uint64_t v15 = (unint64_t *)&unk_100984AD0;
          goto LABEL_23;
        }
        if (v13 == v23)
        {
          type metadata accessor for MetadataRibbonHighlightedTextView();
          uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonHighlightedTextView;
          uint64_t v15 = (unint64_t *)&unk_100981FD8;
          goto LABEL_23;
        }
        (*v22)(v35, v36);
        swift_release();
LABEL_28:
        ++v9;
        if (v11 == v7)
        {
          swift_bridgeObjectRelease();
          return v10;
        }
      }
      type metadata accessor for MetadataRibbonBorderedLabelWithDescriptionView();
      uint64_t v14 = (void (*)(uint64_t))type metadata accessor for MetadataRibbonBorderedLabelWithDescriptionView;
      uint64_t v15 = (unint64_t *)&unk_100981FF0;
LABEL_23:
      uint64_t v16 = sub_1003765B4(v15, v14);
      id v17 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) initWithFrame:0.0, 0.0, 0.0, 0.0];
      dispatch thunk of MetadataRibbonItemView.apply(_:asPartOf:)();
      MetadataRibbonItem.id.getter();
      dispatch thunk of MetadataRibbonItemView.id.setter();
      swift_release();
      if ((swift_isUniquelyReferenced_nonNull_native() & 1) == 0) {
        uint64_t v10 = sub_1000AC3D4(0, v10[2] + 1, 1, v10);
      }
      uint64_t v7 = v30;
      unint64_t v19 = v10[2];
      unint64_t v18 = v10[3];
      if (v19 >= v18 >> 1) {
        uint64_t v10 = sub_1000AC3D4((void *)(v18 > 1), v19 + 1, 1, v10);
      }
      v10[2] = v19 + 1;
      long long v20 = &v10[2 * v19];
      v20[4] = v17;
      v20[5] = v16;
      a1 = v31;
      goto LABEL_28;
    }
  }
  swift_bridgeObjectRelease();
  return _swiftEmptyArrayStorage;
}

uint64_t sub_100375B74(uint64_t a1, uint64_t a2)
{
  uint64_t v22 = a2;
  uint64_t v21 = type metadata accessor for Artwork.Crop();
  uint64_t v3 = *(void *)(v21 - 8);
  __chkstk_darwin(v21);
  long long v20 = (char *)&v17 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v5 = (unint64_t *)(v2 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemModels);
  uint64_t result = swift_beginAccess();
  unint64_t v7 = *v5;
  if (*v5)
  {
    uint64_t v8 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore18MetadataRibbonView_metadataRibbonItemViews);
    uint64_t v9 = v7 & 0xFFFFFFFFFFFFFF8;
    if (v7 >> 62) {
      goto LABEL_24;
    }
    uint64_t v10 = *(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    uint64_t result = swift_bridgeObjectRetain();
    if (v10)
    {
      do
      {
        unint64_t v25 = v7 & 0xC000000000000001;
        if ((v7 & 0xC000000000000001) != 0)
        {
          specialized _ArrayBuffer._getElementSlowPath(_:)();
        }
        else
        {
          if (!*(void *)(v9 + 16))
          {
            __break(1u);
            return result;
          }
          swift_retain();
        }
        uint64_t v24 = *(void *)(v8 + 16);
        if (!v24)
        {
LABEL_21:
          swift_bridgeObjectRelease();
          swift_bridgeObjectRelease();
          return swift_release();
        }
        unint64_t v11 = 0;
        id v17 = (void (**)(char *, uint64_t))(v3 + 8);
        uint64_t v18 = v9;
        uint64_t v23 = v10 - 1;
        uint64_t v12 = 32;
        uint64_t v19 = v8;
        while (v11 < *(void *)(v8 + 16))
        {
          int v13 = *(void **)(v8 + v12);
          type metadata accessor for MetadataRibbonIconWithLabelView(0);
          uint64_t v14 = swift_dynamicCastClass();
          if (!v14) {
            goto LABEL_15;
          }
          uint64_t v3 = v14;
          id v15 = v13;
          if (MetadataRibbonItem.artwork.getter())
          {
            uint64_t v16 = v20;
            Artwork.crop.getter();
            Artwork.Crop.preferredContentMode.getter();
            (*v17)(v16, v21);
            Artwork.config(_:mode:prefersLayeredImage:)();
            type metadata accessor for ArtworkLoader();
            type metadata accessor for ArtworkView();
            static ArtworkLoader.handlerKey<A>(for:)();
            swift_allocObject();
            swift_unknownObjectWeakInit();
            swift_retain();
            ArtworkLoader.fetchArtwork(using:forReason:closestMatch:handlerKey:completionHandler:)();
            uint64_t v9 = v18;
            swift_release();
            swift_release();
            sub_100082BCC((uint64_t)v26, &qword_100981560);
            swift_release();

            swift_release();
            uint64_t v8 = v19;
LABEL_15:
            swift_release();
            goto LABEL_17;
          }
          swift_release();

LABEL_17:
          if (v23 == v11) {
            goto LABEL_25;
          }
          if (v25)
          {
            specialized _ArrayBuffer._getElementSlowPath(_:)();
          }
          else
          {
            if (v11 + 1 >= *(void *)(v9 + 16)) {
              goto LABEL_23;
            }
            swift_retain();
          }
          ++v11;
          v12 += 16;
          if (v24 == v11) {
            goto LABEL_21;
          }
        }
        __break(1u);
LABEL_23:
        __break(1u);
LABEL_24:
        swift_bridgeObjectRetain();
        swift_bridgeObjectRetain();
        uint64_t result = _CocoaArrayWrapper.endIndex.getter();
        uint64_t v10 = result;
      }
      while (result);
    }
LABEL_25:
    swift_bridgeObjectRelease();
    return swift_bridgeObjectRelease();
  }
  return result;
}

uint64_t sub_100375F54()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100375F8C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  return sub_100197AF8(a1, a2, a3, a4, v4);
}

void *sub_100375F94(unint64_t a1, uint64_t a2)
{
  uint64_t v35 = a2;
  uint64_t v34 = type metadata accessor for Artwork.Crop();
  unint64_t v25 = *(void (***)(char *, uint64_t))(v34 - 8);
  __chkstk_darwin(v34);
  unint64_t v33 = (char *)&v25 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v32 = type metadata accessor for AspectRatio();
  uint64_t v4 = *(void *)(v32 - 8);
  __chkstk_darwin(v32);
  unint64_t v31 = (char *)&v25 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v30 = type metadata accessor for MetadataRibbonIconWithLabelViewLayout.Metrics();
  uint64_t v6 = *(void *)(v30 - 8);
  __chkstk_darwin(v30);
  int v29 = (char *)&v25 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for MetadataRibbonItemViewType();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  unint64_t v11 = (char *)&v25 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)&v25 - v13;
  uint64_t result = _swiftEmptyArrayStorage;
  if (!a1) {
    return result;
  }
  unint64_t v41 = (unint64_t)_swiftEmptyArrayStorage;
  if (a1 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t result = (void *)_CocoaArrayWrapper.endIndex.getter();
    uint64_t v16 = (uint64_t)result;
    if (result) {
      goto LABEL_4;
    }
LABEL_20:
    swift_bridgeObjectRelease();
    return _swiftEmptyArrayStorage;
  }
  uint64_t v16 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
  uint64_t result = (void *)swift_bridgeObjectRetain();
  if (!v16) {
    goto LABEL_20;
  }
LABEL_4:
  if (v16 >= 1)
  {
    uint64_t v17 = 0;
    unint64_t v38 = a1 & 0xC000000000000001;
    unsigned int v37 = enum case for MetadataRibbonItemViewType.imageWithLabel(_:);
    uint64_t v36 = (void (**)(char *, void, uint64_t))(v9 + 104);
    uint64_t v18 = (void (**)(char *, uint64_t))(v9 + 8);
    int v27 = (void (**)(char *, uint64_t))(v4 + 8);
    int v26 = (void (**)(char *, uint64_t))(v6 + 8);
    ++v25;
    unint64_t v28 = a1;
    uint64_t v39 = v16;
    while (1)
    {
      if (v38) {
        specialized _ArrayBuffer._getElementSlowPath(_:)();
      }
      else {
        swift_retain();
      }
      MetadataRibbonItem.viewContainerType.getter();
      (*v36)(v11, v37, v8);
      sub_1003765B4(&qword_100992370, (void (*)(uint64_t))&type metadata accessor for MetadataRibbonItemViewType);
      dispatch thunk of RawRepresentable.rawValue.getter();
      dispatch thunk of RawRepresentable.rawValue.getter();
      if (v40[0] == v40[5] && v40[1] == v40[6]) {
        break;
      }
      char v20 = _stringCompareWithSmolCheck(_:_:expecting:)();
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      uint64_t v21 = *v18;
      (*v18)(v11, v8);
      v21(v14, v8);
      if (v20) {
        goto LABEL_15;
      }
LABEL_7:
      ++v17;
      swift_release();
      if (v39 == v17)
      {
        swift_bridgeObjectRelease();
        return (void *)v41;
      }
    }
    swift_bridgeObjectRelease_n();
    uint64_t v19 = *v18;
    (*v18)(v11, v8);
    v19(v14, v8);
LABEL_15:
    if (MetadataRibbonItem.artwork.getter())
    {
      uint64_t v22 = v29;
      static MetadataRibbonIconWithLabelViewLayout.Metrics.standard.getter();
      MetadataRibbonIconWithLabelViewLayout.Metrics.defaultArtworkHeight.getter();
      sub_100081D90(v40, v40[3]);
      AnyDimension.value(with:)();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v40);
      Artwork.size.getter();
      uint64_t v23 = v31;
      AspectRatio.init(_:_:)();
      AspectRatio.width(fromHeight:)();
      (*v27)(v23, v32);
      (*v26)(v22, v30);
      uint64_t v24 = v33;
      Artwork.crop.getter();
      Artwork.Crop.preferredContentMode.getter();
      (*v25)(v24, v34);
      Artwork.config(_:mode:prefersLayeredImage:)();
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*(void *)((v41 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v41 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
      }
      specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
      specialized Array._endMutation()();
      swift_release();
    }
    goto LABEL_7;
  }
  __break(1u);
  return result;
}

uint64_t sub_1003765B4(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

void sub_1003765FC(void *a1)
{
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  swift_unknownObjectWeakAssign();
  uint64_t v2 = (void *)swift_unknownObjectWeakLoadStrong();
  if (v2)
  {
    uint64_t v3 = v2;
    if (Strong)
    {
      type metadata accessor for ProductLockupCollectionViewCell();
      id v4 = Strong;
      id v5 = v3;
      char v6 = static NSObject.== infix(_:_:)();

      if (v6) {
        goto LABEL_9;
      }
    }
    else
    {
    }
LABEL_8:
    sub_1003778E4();
    id v4 = Strong;
LABEL_9:

    goto LABEL_10;
  }
  if (Strong) {
    goto LABEL_8;
  }
LABEL_10:
}

void sub_1003766D4(uint64_t a1)
{
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = (void *)Strong;
    id v4 = *(id *)(Strong + qword_1009E2BF0);

    if (a1) {
      sub_100378CE0(&qword_100992518, (void (*)(uint64_t))type metadata accessor for ChevronView);
    }
    CompoundScrollObserver.removeChild(_:)();
  }
  uint64_t v5 = swift_unknownObjectWeakLoadStrong();
  if (v5)
  {
    char v6 = (void *)v5;
    id v7 = *(id *)(v5 + qword_1009E2BF0);

    id v8 = (id)swift_unknownObjectWeakLoadStrong();
    if (v8) {
      sub_100378CE0(&qword_100992518, (void (*)(uint64_t))type metadata accessor for ChevronView);
    }
    CompoundScrollObserver.addChild(_:)();
  }
}

uint64_t sub_100376844()
{
  if (*(void *)(v0 + 64))
  {
    uint64_t v1 = *(void *)(v0 + 64);
  }
  else
  {
    uint64_t v2 = swift_allocObject();
    swift_weakInit();
    type metadata accessor for ProductScrollObserver();
    uint64_t v1 = swift_allocObject();
    *(void *)(v1 + 16) = 0;
    *(unsigned char *)(v1 + 24) = 1;
    *(void *)(v1 + 48) = 0;
    *(void *)(v1 + 56) = 0;
    *(void *)(v1 + 32) = sub_100378E20;
    *(void *)(v1 + 40) = v2;
    *(void *)(v0 + 64) = v1;
    swift_retain();
    swift_release();
  }
  swift_retain();
  return v1;
}

uint64_t sub_1003768F8(uint64_t a1, char a2)
{
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    sub_100377508(a1, a2 & 1);
    return swift_release();
  }
  return result;
}

uint64_t sub_10037697C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    sub_100376B48(a4, a1, a2, a5);
    return swift_release();
  }
  return result;
}

uint64_t sub_100376A08(void *a1)
{
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t Strong = swift_weakLoadStrong();
    uint64_t result = swift_release();
    if (Strong)
    {
      v5[3] = sub_100084CF0(0, (unint64_t *)&qword_100986D60);
      v5[0] = a1;
      id v4 = a1;
      ProductDiffablePagePresenter.didSelectShare(sender:)();
      swift_release();
      return sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_100982B40);
    }
  }
  return result;
}

uint64_t sub_100376ABC()
{
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t Strong = swift_weakLoadStrong();
    uint64_t result = swift_release();
    if (Strong)
    {
      memset(v2, 0, sizeof(v2));
      ProductDiffablePagePresenter.didSelectDeveloper(sender:)();
      swift_release();
      return sub_100082BCC((uint64_t)v2, (uint64_t *)&unk_100982B40);
    }
  }
  return result;
}

uint64_t sub_100376B48(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  v40[2] = a3;
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v6 - 8);
  id v8 = (char *)v40 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for LegacyAppState();
  uint64_t v41 = *(void *)(v9 - 8);
  uint64_t v42 = v9;
  __chkstk_darwin(v9);
  unint64_t v11 = (char *)v40 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_100992520);
  uint64_t v43 = *(void *)(v12 - 8);
  uint64_t v44 = v12;
  __chkstk_darwin(v12);
  uint64_t v14 = (char *)v40 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ASKBagContract();
  type metadata accessor for BaseObjectGraph();
  inject<A, B>(_:from:)();
  uint64_t v15 = ASKBagContract.downloadProgressDisplayWaitTime.getter();
  swift_release();
  double v16 = (double)v15;
  inject<A, B>(_:from:)();
  uint64_t v17 = ASKBagContract.downloadProgressDisplayRemainingTime.getter();
  swift_release();
  double v18 = (double)v17;
  sub_100082C28(&qword_100992528);
  v40[0] = a4;
  BaseObjectGraph.inject<A>(_:)();
  sub_100081D90(v46, v46[3]);
  char v19 = dispatch thunk of NetworkInquiry.isLikelyReachable.getter();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v46);
  sub_100378D78();
  v40[1] = a1;
  ItemLayoutContext.typedWritableState<A>(as:)();
  swift_getObjectType();
  dispatch thunk of AppStateMachine.currentState.getter();
  dispatch thunk of AppStateMachine.startDownloadTime.getter();
  uint64_t v20 = type metadata accessor for Date();
  uint64_t v21 = *(void *)(v20 - 8);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v21 + 48))(v8, 1, v20) == 1)
  {
    sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_10098FAE0);
    double v22 = 0.0;
  }
  else
  {
    Date.timeIntervalSinceNow.getter();
    double v22 = v23;
    (*(void (**)(char *, uint64_t))(v21 + 8))(v8, v20);
  }
  swift_getKeyPath();
  uint64_t v24 = v44;
  WritableStateLens<A>.subscript.getter();
  swift_release();
  uint64_t v25 = sub_100377DAC((uint64_t)v11, LOBYTE(v46[0]), v19 & 1, v18, v16, -v22);
  uint64_t v27 = v26;
  (*(void (**)(char *, uint64_t))(v41 + 8))(v11, v42);
  swift_getKeyPath();
  WritableStateLens<A>.subscript.getter();
  uint64_t Strong = (void *)swift_release();
  if ((v27 != 0) == LOBYTE(v46[0]))
  {
    char v31 = 0;
  }
  else
  {
    uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
    if (Strong)
    {
      int v29 = Strong;
      id v30 = [Strong traitCollection];

      char v31 = UITraitCollection.prefersAccessibilityLayouts.getter();
    }
    else
    {
      char v31 = 0;
    }
  }
  __chkstk_darwin(Strong);
  LOBYTE(v40[-4]) = v32;
  v40[-3] = v25;
  v40[-2] = v27;
  WritableStateLens<A>.updateValue(_:)();
  swift_bridgeObjectRelease();
  if (v31)
  {
    if (swift_weakLoadStrong())
    {
      ProductDiffablePagePresenter.reconfigureProductTopLockup()();
      swift_release();
    }
  }
  else
  {
    uint64_t v33 = swift_unknownObjectWeakLoadStrong();
    if (v33)
    {
      uint64_t v34 = (char *)v33;
      swift_getKeyPath();
      WritableStateLens<A>.subscript.getter();
      swift_release();
      uint64_t v36 = v46[0];
      uint64_t v35 = v46[1];
      swift_getKeyPath();
      WritableStateLens<A>.subscript.getter();
      swift_release();
      int v37 = v45;
      type metadata accessor for ObjectGraph();
      swift_dynamicCastClassUnconditional();
      id v38 = sub_1000F3FC0();
      swift_getObjectType();
      sub_100459DEC(v36, v35, v37, v38, v34);

      swift_unknownObjectRelease();
      swift_bridgeObjectRelease();
    }
  }
  return (*(uint64_t (**)(char *, uint64_t))(v43 + 8))(v14, v24);
}

uint64_t sub_100377114(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for AspectRatio();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ProductTopLockup();
  sub_100378CE0((unint64_t *)&unk_100985750, (void (*)(uint64_t))&type metadata accessor for ProductTopLockup);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v20)
  {
    if (swift_weakLoadStrong())
    {
      uint64_t v8 = swift_allocObject();
      swift_weakInit();
      uint64_t Strong = swift_unknownObjectWeakLoadStrong();
      if (Strong)
      {
        uint64_t v10 = (void *)Strong;
        id v19 = *(id *)(Strong + qword_1009E1AE8);

        uint64_t v17 = ProductTopLockup.title.getter();
        uint64_t v18 = a2;
        unint64_t v12 = v11;
        sub_1004BDE78();
        AspectRatio.init(_:_:)();
        uint64_t v13 = ProductDiffablePagePresenter.titleOfferDisplayProperties.getter();
        uint64_t v14 = ProductTopLockup.offerAction.getter();
        uint64_t v15 = ProductDiffablePagePresenter.offerButtonMode.getter();
        double v16 = v19;
        sub_1002D8DD0(v17, v12, (uint64_t)v6, v13, v14, v15, v18, (uint64_t)sub_100378D70, v8);
        swift_release();
        swift_release();

        swift_release();
        swift_release();
        swift_release();
        swift_bridgeObjectRelease();
        return (*(uint64_t (**)(char *, uint64_t))(v4 + 8))(v6, v3);
      }
      swift_release();
      swift_release();
    }
    return swift_release();
  }
  return result;
}

void sub_100377380()
{
  swift_beginAccess();
  if (swift_weakLoadStrong())
  {
    uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
    swift_release();
    if (Strong)
    {
      id v1 = [Strong collectionView];

      if (v1)
      {
        [v1 scrollToTopAnimated:1];
      }
    }
  }
}

void sub_100377420(void *a1)
{
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = Strong;
    id v4 = [Strong collectionView];

    if (v4)
    {
      sub_100084CF0(0, (unint64_t *)&qword_100981E70);
      id v5 = a1;
      char v6 = static NSObject.== infix(_:_:)();

      if (v6)
      {
        sub_100376844();
        sub_1000BAA1C(v5);
        swift_release();
      }
    }
  }
}

uint64_t sub_100377508(uint64_t a1, int a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = sub_100082C28(&qword_1009845E0);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v28 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t result = swift_weakLoadStrong();
  if (!result) {
    return result;
  }
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    unint64_t v11 = (char *)Strong;
    int v29 = ProductDiffablePagePresenter.isOfferButtonHiddenByPresenter.getter();
    uint64_t v31 = ProductNavigationBarMode.rawValue.getter();
    uint64_t v30 = ProductNavigationBarMode.rawValue.getter();
    if (a2) {
      uint64_t v33 = sub_1000BAB94();
    }
    else {
      uint64_t v33 = 0;
    }
    uint64_t v12 = qword_1009E1AE8;
    int v32 = a2 ^ 1;
    char v13 = ProductOfferButtonMode.isHidden.getter();
    uint64_t v14 = *(void *)&v11[qword_1009E1AF0];
    if (v14 && (v13 & 1) == 0)
    {
      if (!a1)
      {
        uint64_t v18 = swift_allocObject();
        *(void *)(v18 + 16) = v11;
        *(void *)(v18 + 24) = v14;
        swift_bridgeObjectRetain();
        uint64_t v27 = v11;
        uint64_t v17 = sub_100378D68;
LABEL_15:
        id v19 = *(void **)&v11[v12];
        int v20 = v32 & 1;
        id v21 = v19;
        sub_1002D849C(a1, v33, v20, v17, v18);

        uint64_t v22 = swift_unknownObjectWeakLoadStrong();
        if (v22)
        {
          double v23 = (void *)v22;
          ProductDiffablePagePresenter.adamId.getter();
          if (swift_weakLoadStrong() && (uint64_t v24 = ProductDiffablePagePresenter.shareAction.getter(), swift_release(), v24))
          {
            swift_release();
            char v25 = 1;
          }
          else
          {
            char v25 = 0;
          }
          sub_10044EA84(v31 == v30, v33, v20, (v29 & 1) == 0, (uint64_t)v8, v25);

          swift_release();
          sub_10006012C((uint64_t)v17);
          return sub_100082BCC((uint64_t)v8, &qword_1009845E0);
        }
        else
        {
          BOOL v26 = v31 != v30;
          sub_10006012C((uint64_t)v17);

          uint64_t result = swift_release();
          *(unsigned char *)(v3 + 48) = v26;
        }
        return result;
      }
      if (a1 == 1)
      {
        id v15 = [v11 navigationItem];
        sub_100084CF0(0, (unint64_t *)&qword_100981A18);
        Class isa = Array._bridgeToObjectiveC()().super.isa;
        [v15 setRightBarButtonItems:isa animated:0];
      }
    }
    uint64_t v17 = 0;
    uint64_t v18 = 0;
    goto LABEL_15;
  }

  return swift_release();
}

void sub_10037784C(void *a1)
{
  id v1 = [a1 navigationItem];
  sub_100084CF0(0, (unint64_t *)&qword_100981A18);
  Class isa = Array._bridgeToObjectiveC()().super.isa;
  [v1 setRightBarButtonItems:isa animated:0];
}

void sub_1003778E4()
{
  uint64_t Strong = (char *)swift_unknownObjectWeakLoadStrong();
  if (!Strong) {
    return;
  }
  uint64_t v0 = (void *)swift_unknownObjectWeakLoadStrong();
  if (v0)
  {
    id v1 = v0;
    id v2 = [v0 collectionView];

    if (v2)
    {
      uint64_t v3 = *(void **)&Strong[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_offerButton];
      id v4 = *(void **)&Strong[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_downloadProgressLabel];
      if (v4)
      {
        id v5 = v3;
        id v6 = v4;
        if (([v6 isHidden] & 1) == 0)
        {
LABEL_12:
          if ([v3 isHidden] && objc_msgSend(v6, "isHidden"))
          {
            uint64_t v8 = *(void **)&Strong[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_shareButton];
          }
          else
          {
            unsigned __int8 v9 = [v3 isHidden];
            uint64_t v8 = v6;
            if ((v9 & 1) == 0)
            {
              unsigned __int8 v10 = [v6 isHidden];
              uint64_t v8 = v3;
              if ((v10 & 1) == 0)
              {
                v53.receiver = v3;
                v53.super_class = (Class)type metadata accessor for OfferButton();
                [super frame];
                double MaxY = CGRectGetMaxY(v55);
                [v6 frame];
                if (MaxY >= CGRectGetMaxY(v56)) {
                  uint64_t v8 = v3;
                }
                else {
                  uint64_t v8 = v6;
                }
              }
            }
          }
          id v12 = v8;
          [v12 frame];
          double v14 = v13;
          double v16 = v15;
          double v18 = v17;
          double v20 = v19;
          id v21 = [v12 superview];
          [v2 convertRect:v21 fromView:v14];
          CGFloat v23 = v22;
          CGFloat v25 = v24;
          CGFloat v27 = v26;
          CGFloat v29 = v28;

          v57.origin.CGFloat x = v23;
          v57.origin.CGFloat y = v25;
          v57.size.CGFloat width = v27;
          v57.size.CGFloat height = v29;
          double MinY = CGRectGetMinY(v57);
          uint64_t v31 = (void *)swift_unknownObjectWeakLoadStrong();
          if (!v31) {
            goto LABEL_24;
          }
          int v32 = v31;
          id v33 = [v31 view];
          if (v33)
          {
            uint64_t v34 = v33;
            type metadata accessor for InsetCollectionViewControllerContentView();
            uint64_t v35 = swift_dynamicCastClass();
            if (v35)
            {
              char v36 = *(unsigned char *)(v35
                             + OBJC_IVAR____TtC8AppStoreP33_F9B20E6387F6F627D5761E6B0A83FE5540InsetCollectionViewControllerContentView_insetLayoutMarginsFromTopSafeAreaInset);

              if (v36)
              {
LABEL_28:
                uint64_t v50 = sub_100376844();
                *(double *)(v50 + 16) = MinY;
                *(unsigned char *)(v50 + 24) = 0;
                unint64_t v51 = *(void (**)(void, void, double))(v50 + 32);
                if (v51) {
                  v51(*(void *)(v50 + 48), 0, *(double *)(v50 + 56));
                }

                swift_release();
                return;
              }
LABEL_24:
              int v37 = (void *)swift_unknownObjectWeakLoadStrong();
              double v38 = 0.0;
              if (v37)
              {
                uint64_t v39 = v37;
                id v40 = [v37 navigationController];

                if (v40)
                {
                  id v41 = [v40 navigationBar];

                  [v41 frame];
                  CGFloat v43 = v42;
                  CGFloat v45 = v44;
                  CGFloat v47 = v46;
                  CGFloat v49 = v48;

                  v58.origin.CGFloat x = v43;
                  v58.origin.CGFloat y = v45;
                  v58.size.CGFloat width = v47;
                  v58.size.CGFloat height = v49;
                  double v38 = CGRectGetMaxY(v58);
                }
              }
              double MinY = MinY - v38;
              goto LABEL_28;
            }
          }
          __break(1u);
          return;
        }
      }
      else
      {
        id v7 = v3;
      }
      id v6 = *(id *)&Strong[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_offerSubtitleLabel];
      goto LABEL_12;
    }
  }
}

uint64_t sub_100377C98()
{
  swift_weakDestroy();
  swift_unknownObjectWeakDestroy();
  swift_unknownObjectWeakDestroy();
  swift_release();
  swift_unknownObjectWeakDestroy();
  swift_release();

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for ProductTopLockupCollectionElementsObserver()
{
  return self;
}

void sub_100377D1C(void *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
}

void sub_100377D30(void *a1)
{
  [a1 adjustedContentInset];
  double v4 = v3;
  [a1 contentOffset];
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore11ChevronView_shouldAnimate) = v4 + v5 <= 0.1;

  sub_1000A5D0C();
}

uint64_t sub_100377DAC(uint64_t a1, int a2, int a3, double a4, double a5, double a6)
{
  int v52 = a2;
  int v53 = a3;
  uint64_t v10 = type metadata accessor for LegacyAppState.AppInstallationDetails();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  CGFloat v49 = (char *)&v49 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v13);
  uint64_t v50 = (char *)&v49 - v14;
  __chkstk_darwin(v15);
  double v17 = (char *)&v49 - v16;
  uint64_t v18 = type metadata accessor for LegacyAppState();
  uint64_t v19 = *(void *)(v18 - 8);
  __chkstk_darwin(v18);
  id v21 = (char *)&v49 - ((v20 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v22);
  double v24 = (char *)&v49 - v23;
  __n128 v26 = __chkstk_darwin(v25);
  CGFloat v27 = *(void (**)(__n128))(v19 + 16);
  uint64_t v51 = a1;
  CGFloat v29 = (char *)&v49 - v28;
  v27(v26);
  int v30 = (*(uint64_t (**)(char *, uint64_t))(v19 + 88))(v29, v18);
  if (v30 == enum case for LegacyAppState.downloading(_:))
  {
    ((void (*)(char *, char *, uint64_t))v27)(v24, v29, v18);
    (*(void (**)(char *, uint64_t))(v19 + 96))(v24, v18);
    (*(void (**)(char *, char *, uint64_t))(v11 + 32))(v17, v24, v10);
    uint64_t v31 = v11;
    if ((v53 & 1) != 0 && a5 < a6)
    {
      uint64_t v32 = LegacyAppState.estimatedTimeRemaining.getter();
      if ((v33 & 1) == 0)
      {
        double v34 = *(double *)&v32;
        if ((LegacyAppState.AppInstallationDetails.hasPostProcessing.getter() & 1) == 0
          || (uint64_t v35 = (void *)LegacyAppState.AppInstallationDetails.postProcessingPhaseProgress.getter()) == 0
          || (char v36 = v35, v37 = [v35 completedUnitCount], v36, (uint64_t)v37 > 0))
        {
          if (v34 > a4 || (v52 & 1) != 0)
          {
            uint64_t countAndFlagsBits = LegacyAppState.estimatedTimeRemainingText.getter();
            (*(void (**)(char *, uint64_t))(v31 + 8))(v17, v10);
            goto LABEL_20;
          }
        }
      }
    }
    (*(void (**)(char *, uint64_t))(v31 + 8))(v17, v10);
    goto LABEL_15;
  }
  if (v30 == enum case for LegacyAppState.installing(_:))
  {
    double v38 = v29;
    ((void (*)(char *, char *, uint64_t))v27)(v21, v29, v18);
    (*(void (**)(char *, uint64_t))(v19 + 96))(v21, v18);
    uint64_t v39 = v11;
    id v40 = v50;
    (*(void (**)(char *, char *, uint64_t))(v11 + 32))(v50, v21, v10);
    id v41 = *(void (**)(char *, char *, uint64_t))(v11 + 16);
    double v42 = v49;
    v41(v49, v40, v10);
    if (v52)
    {
      char v43 = LegacyAppState.AppInstallationDetails.hasPostProcessing.getter();
      double v44 = *(void (**)(char *, uint64_t))(v39 + 8);
      v44(v42, v10);
      if ((v43 & 1) == 0)
      {
        v46._object = (void *)0x8000000100815870;
        v46._uint64_t countAndFlagsBits = 0xD000000000000024;
        v47._uint64_t countAndFlagsBits = 0;
        v47._object = (void *)0xE000000000000000;
        uint64_t countAndFlagsBits = localizedString(_:comment:)(v46, v47)._countAndFlagsBits;
        v44(v40, v10);
        goto LABEL_19;
      }
    }
    else
    {
      double v44 = *(void (**)(char *, uint64_t))(v39 + 8);
      v44(v42, v10);
    }
    v44(v40, v10);
    uint64_t countAndFlagsBits = 0;
LABEL_19:
    CGFloat v29 = v38;
    goto LABEL_20;
  }
LABEL_15:
  uint64_t countAndFlagsBits = 0;
LABEL_20:
  (*(void (**)(char *, uint64_t))(v19 + 8))(v29, v18);
  return countAndFlagsBits;
}

void sub_100378264(void *a1, uint64_t a2, uint64_t a3)
{
  uint64_t v7 = sub_100082C28(&qword_1009845E0);
  __chkstk_darwin(v7 - 8);
  unsigned __int8 v9 = (char *)&v77 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for ItemLayoutContext();
  uint64_t v87 = *(void *)(v10 - 8);
  uint64_t v88 = v10;
  uint64_t v11 = *(void *)(v87 + 64);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v77 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for AdamId();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v77 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for ProductLockupCollectionViewCell();
  uint64_t v17 = swift_dynamicCastClass();
  if (!v17) {
    return;
  }
  uint64_t v85 = v14;
  uint64_t v86 = v13;
  char v84 = v9;
  uint64_t v89 = a3;
  uint64_t v18 = (char *)v17;
  type metadata accessor for ProductTopLockup();
  uint64_t v90 = a2;
  sub_100378CE0((unint64_t *)&unk_100985750, (void (*)(uint64_t))&type metadata accessor for ProductTopLockup);
  id v19 = a1;
  ItemLayoutContext.typedModel<A>(as:)();
  uint64_t v20 = v91;
  if (!v91)
  {

    return;
  }
  uint64_t v21 = v3;
  uint64_t Strong = swift_weakLoadStrong();
  if (!Strong)
  {

LABEL_22:
    swift_release();
    return;
  }
  uint64_t v23 = Strong;
  id v78 = v19;
  uint64_t v81 = v18;
  sub_1003765FC(v18);
  sub_100082C28(&qword_100999640);
  uint64_t v24 = v89;
  BaseObjectGraph.inject<A>(_:)();
  uint64_t v83 = v20;
  swift_getObjectType();
  uint64_t v82 = v23;
  ProductTopLockup.adamId.getter();
  uint64_t v25 = dispatch thunk of AppStateController.stateMachine(forApp:)();
  uint64_t v27 = v26;
  swift_unknownObjectRelease();
  (*(void (**)(char *, uint64_t))(v85 + 8))(v16, v86);
  uint64_t v28 = v90;
  uint64_t v80 = v27;
  sub_100376B48(v90, v25, v27, v24);
  uint64_t ObjectType = swift_getObjectType();
  dispatch thunk of AppStateMachine.removeStateTransitionActions(for:)();
  uint64_t v29 = swift_allocObject();
  swift_weakInit();
  uint64_t v30 = v87;
  uint64_t v31 = v88;
  (*(void (**)(char *, uint64_t, uint64_t))(v87 + 16))((char *)&v77 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0), v28, v88);
  unint64_t v32 = (*(unsigned __int8 *)(v30 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v30 + 80);
  unint64_t v33 = (v11 + v32 + 7) & 0xFFFFFFFFFFFFFFF8;
  uint64_t v34 = swift_allocObject();
  *(void *)(v34 + 16) = v29;
  (*(void (**)(unint64_t, char *, uint64_t))(v30 + 32))(v34 + v32, v12, v31);
  *(void *)(v34 + v33) = v89;
  swift_retain();
  swift_retain();
  uint64_t v88 = v25;
  dispatch thunk of AppStateMachine.addStateTransitionObserver(_:action:)();
  uint64_t v35 = v81;
  swift_release();
  swift_release();
  if (*(unsigned char *)(v21 + 48))
  {
    *(unsigned char *)(v21 + 48) = 0;
    char v36 = ProductDiffablePagePresenter.isOfferButtonHiddenByPresenter.getter();
    uint64_t v37 = (uint64_t)v84;
    ProductTopLockup.adamId.getter();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v85 + 56))(v37, 0, 1, v86);
    if (swift_weakLoadStrong() && (uint64_t v38 = ProductDiffablePagePresenter.shareAction.getter(), swift_release(), v38))
    {
      swift_release();
      char v39 = 1;
    }
    else
    {
      char v39 = 0;
    }
    sub_10044EA84(0, 0, 1, (v36 & 1) == 0, v37, v39);
    sub_100082BCC(v37, &qword_1009845E0);
  }
  id v40 = *(void **)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_disclosureArrow];
  id v41 = (void *)swift_unknownObjectWeakLoadStrong();
  swift_unknownObjectWeakAssign();
  id v42 = v40;
  sub_1003766D4((uint64_t)v41);

  uint64_t v43 = swift_allocObject();
  swift_weakInit();
  double v44 = (uint64_t (**)(void *))&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_shareTapHandler];
  uint64_t v45 = *(void *)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_shareTapHandler];
  *double v44 = sub_100378CD0;
  v44[1] = (uint64_t (*)(void *))v43;
  sub_10006012C(v45);
  uint64_t v46 = swift_weakLoadStrong();
  uint64_t v47 = v90;
  if (v46 && (uint64_t v48 = ProductDiffablePagePresenter.shareAction.getter(), swift_release(), v48))
  {
    swift_release();
    uint64_t v49 = 0;
  }
  else
  {
    uint64_t v49 = 1;
  }
  [*(id *)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_shareButton] setHidden:v49];
  uint64_t v50 = swift_allocObject();
  swift_weakInit();
  uint64_t v51 = (uint64_t (**)())&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_developerTapHandler];
  uint64_t v52 = *(void *)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_developerTapHandler];
  *uint64_t v51 = sub_100378CD8;
  v51[1] = (uint64_t (*)())v50;
  sub_10006012C(v52);
  type metadata accessor for ObjectGraph();
  uint64_t v53 = swift_dynamicCastClassUnconditional();
  sub_100377114(v47, v53);
  uint64_t v54 = swift_unknownObjectWeakLoadStrong();
  id v55 = (id)v54;
  if (v54)
  {
    CGRect v56 = (char *)*(id *)(v54 + qword_1009E1AE8);

    id v55 = objc_retain(*(id *)(*(void *)&v56[OBJC_IVAR____TtC8AppStore16ProductTitleView_iconTitleView]
                            + OBJC_IVAR____TtCC8AppStore16ProductTitleViewP33_601B9F87A521249726497EC9B648F39D13IconTitleView_iconView));
  }
  dispatch thunk of ProductTopLockupIconFetcher.addIconRecipient(recipient:)();

  id v57 = *(id *)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_iconView];
  dispatch thunk of ProductTopLockupIconFetcher.addIconRecipient(recipient:)();

  dispatch thunk of ProductTopLockupIconFetcher.fetchArtwork(for:in:)();
  CGRect v58 = *(void **)&v35[OBJC_IVAR____TtC8AppStore31ProductLockupCollectionViewCell_uberView];
  if (!v58)
  {

    swift_unknownObjectRelease();
    swift_release();
    goto LABEL_22;
  }
  double v59 = (void *)swift_unknownObjectWeakLoadStrong();
  double v60 = v58;
  if (v59)
  {
    id v61 = [v59 navigationItem];
  }
  else
  {
    id v61 = 0;
  }
  uint64_t v62 = OBJC_IVAR____TtC8AppStore14UberHeaderView_navigationItem;
  unint64_t v63 = *(void **)&v60[OBJC_IVAR____TtC8AppStore14UberHeaderView_navigationItem];
  if (v63)
  {
    id v64 = v63;
    NSString v65 = String._bridgeToObjectiveC()();
    [v64 removeObserver:v60 forKeyPath:v65 context:&unk_100986A78];

    double v66 = *(void **)&v60[v62];
  }
  else
  {
    double v66 = 0;
  }
  *(void *)&v60[v62] = v61;
  id v67 = v61;

  double v68 = *(void **)&v60[v62];
  if (v68
    && (id v69 = v68,
        NSString v70 = String._bridgeToObjectiveC()(),
        [v69 addObserver:v60 forKeyPath:v70 options:0 context:&unk_100986A78],
        v69,
        v70,
        (uint64_t v71 = *(void **)&v60[v62]) != 0)
    && (id v72 = [v71 title]) != 0)
  {
    uint64_t v73 = v72;
    uint64_t v74 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v76 = v75;
  }
  else
  {
    uint64_t v74 = 0;
    uint64_t v76 = 0;
  }
  sub_100175A44(v74, v76);

  swift_unknownObjectRelease();
  swift_release();
  swift_release();
}

uint64_t sub_100378B00()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100378B38()
{
  uint64_t v1 = type metadata accessor for ItemLayoutContext();
  uint64_t v2 = *(void *)(v1 - 8);
  uint64_t v3 = *(unsigned __int8 *)(v2 + 80);
  uint64_t v4 = (v3 + 24) & ~v3;
  uint64_t v5 = v3 | 7;
  unint64_t v6 = ((*(void *)(v2 + 64) + v4 + 7) & 0xFFFFFFFFFFFFFFF8) + 8;
  swift_release();
  (*(void (**)(uint64_t, uint64_t))(v2 + 8))(v0 + v4, v1);
  swift_release();

  return _swift_deallocObject(v0, v6, v5);
}

uint64_t sub_100378C20(uint64_t a1, uint64_t a2)
{
  uint64_t v5 = *(void *)(type metadata accessor for ItemLayoutContext() - 8);
  unint64_t v6 = (*(unsigned __int8 *)(v5 + 80) + 24) & ~(unint64_t)*(unsigned __int8 *)(v5 + 80);
  uint64_t v7 = *(void *)(v2 + 16);
  uint64_t v8 = *(void *)(v2 + ((*(void *)(v5 + 64) + v6 + 7) & 0xFFFFFFFFFFFFFFF8));

  return sub_10037697C(a1, a2, v7, v2 + v6, v8);
}

uint64_t sub_100378CD0(void *a1)
{
  return sub_100376A08(a1);
}

uint64_t sub_100378CD8()
{
  return sub_100376ABC();
}

uint64_t sub_100378CE0(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100378D28()
{
  swift_bridgeObjectRelease();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_100378D68()
{
  sub_10037784C(*(void **)(v0 + 16));
}

void sub_100378D70()
{
}

unint64_t sub_100378D78()
{
  unint64_t result = qword_100992530;
  if (!qword_100992530)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100992530);
  }
  return result;
}

uint64_t sub_100378DCC(uint64_t a1)
{
  char v3 = *(unsigned char *)(v1 + 16);
  uint64_t v5 = *(void *)(v1 + 24);
  uint64_t v4 = *(void *)(v1 + 32);
  *(unsigned char *)a1 = v3;
  swift_bridgeObjectRetain();
  uint64_t result = swift_bridgeObjectRelease();
  *(void *)(a1 + 8) = v5;
  *(void *)(a1 + 16) = v4;
  return result;
}

uint64_t sub_100378E20(uint64_t a1, char a2)
{
  return sub_1003768F8(a1, a2);
}

id sub_100378E2C(uint64_t a1, void *a2)
{
  uint64_t v21 = a2;
  uint64_t v2 = type metadata accessor for Artwork.URLTemplate();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v20 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_100991FE0);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v20 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for URL();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v20 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  Artwork.template.getter();
  Artwork.URLTemplate.rawValue.getter();
  (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
  URL.init(string:)();
  swift_bridgeObjectRelease();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48))(v8, 1, v9) == 1)
  {
    sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_100991FE0);
    return 0;
  }
  uint64_t v13 = v21;
  (*(void (**)(char *, char *, uint64_t))(v10 + 32))(v12, v8, v9);
  uint64_t v14 = URL.host.getter();
  if (!v15)
  {
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
    return 0;
  }
  uint64_t v16 = v14;
  uint64_t v17 = v15;
  if ((dispatch thunk of Artwork.isBundleImage.getter() & 1) == 0)
  {
    (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
    swift_bridgeObjectRelease();
    return 0;
  }
  id v18 = sub_100038400(v16, v17, v13);
  swift_bridgeObjectRelease();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  return v18;
}

UIImage *_sSo7UIImageC8AppStoreE16singlePointImage5colorABSgSo7UIColorC_tFZ_0(void *a1)
{
  id v2 = [self mainScreen];
  [v2 scale];
  CGFloat v4 = v3;

  v11.CGFloat width = 1.0;
  v11.CGFloat height = 1.0;
  UIGraphicsBeginImageContextWithOptions(v11, 0, v4);
  uint64_t v5 = UIGraphicsGetCurrentContext();
  uint64_t v6 = v5;
  if (v5)
  {
    uint64_t v7 = v5;
    uint64_t v8 = (CGColor *)[a1 CGColor];
    CGContextSetFillColorWithColor(v7, v8);

    v12.origin.CGFloat x = 0.0;
    v12.origin.CGFloat y = 0.0;
    v12.size.CGFloat width = 1.0;
    v12.size.CGFloat height = 1.0;
    CGContextFillRect(v7, v12);
  }
  uint64_t v9 = UIGraphicsGetImageFromCurrentImageContext();
  UIGraphicsEndImageContext();

  return v9;
}

uint64_t sub_1003791F4@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_itemLayoutContext;
  swift_beginAccess();
  return sub_1000E70A0(v3, a1);
}

uint64_t sub_10037924C(uint64_t a1)
{
  uint64_t v3 = v1 + OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_itemLayoutContext;
  swift_beginAccess();
  sub_1000E7038(a1, v3);
  return swift_endAccess();
}

uint64_t (*sub_1003792AC())()
{
  return j__swift_endAccess;
}

uint64_t sub_100379310(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10 = sub_10037A108(&qword_1009866F8, (void (*)(uint64_t))type metadata accessor for PlaceholderCollectionViewCell);

  return static ConfigurableCell<>.dequeueConfiguredCell(in:collectionView:asPartOf:)(a1, a2, a3, v5, a5, v10);
}

void sub_1003793A8(uint64_t a1)
{
  uint64_t v3 = type metadata accessor for Shelf.PresentationHints();
  uint64_t v82 = *(void *)(v3 - 8);
  uint64_t v83 = v3;
  __chkstk_darwin(v3);
  uint64_t v87 = (char *)&v77 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v88 = (char *)&v77 - v6;
  uint64_t v7 = type metadata accessor for ShelfLayoutContext();
  uint64_t v84 = *(void *)(v7 - 8);
  uint64_t v85 = v7;
  __chkstk_darwin(v7);
  uint64_t v86 = (char *)&v77 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_1009A35C0);
  __chkstk_darwin(v9 - 8);
  CGSize v11 = (char *)&v77 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100986D30);
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v15 = (char *)&v77 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = type metadata accessor for Shelf.ContentType();
  uint64_t v17 = *(void *)(v16 - 8);
  __chkstk_darwin(v16);
  uint64_t v81 = (char *)&v77 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v19);
  uint64_t v21 = (char *)&v77 - v20;
  __chkstk_darwin(v22);
  uint64_t v89 = (char *)&v77 - v23;
  type metadata accessor for Placeholder();
  sub_10037A108(&qword_1009925D8, (void (*)(uint64_t))&type metadata accessor for Placeholder);
  ItemLayoutContext.typedModel<A>(as:)();
  if (v90)
  {
    uint64_t v80 = v1;
    swift_release();
    swift_getKeyPath();
    uint64_t v79 = a1;
    ItemLayoutContext.subscript.getter();
    swift_release();
    swift_getKeyPath();
    ReadOnlyLens.subscript.getter();
    swift_release();
    (*(void (**)(char *, uint64_t))(v13 + 8))(v15, v12);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v17 + 48))(v11, 1, v16) == 1)
    {
      sub_10013A038((uint64_t)v11);
      return;
    }
    uint64_t v24 = v89;
    (*(void (**)(char *, char *, uint64_t))(v17 + 32))(v89, v11, v16);
    uint64_t v25 = *(void (**)(char *, char *, uint64_t))(v17 + 16);
    v25(v21, v24, v16);
    int v26 = (*(uint64_t (**)(char *, uint64_t))(v17 + 88))(v21, v16);
    uint64_t v78 = v17;
    if (v26 == enum case for Shelf.ContentType.smallLockup(_:)
      || v26 == enum case for Shelf.ContentType.mediumLockup(_:)
      || v26 == enum case for Shelf.ContentType.largeLockup(_:))
    {
      unint64_t v32 = *(void **)&v80[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView];
      type metadata accessor for LockupPlaceholderView();
      uint64_t v33 = swift_dynamicCastClass();
      if (v33)
      {
        uint64_t v27 = (char *)v33;
        id v34 = v32;
      }
      else
      {
        uint64_t v27 = (char *)[objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
      }
      uint64_t v39 = v84;
      uint64_t v38 = v85;
      id v40 = v81;
      v25(v81, v89, v16);
      id v41 = &v27[OBJC_IVAR____TtC8AppStore21LockupPlaceholderView_contentType];
      swift_beginAccess();
      (*(void (**)(char *, char *, uint64_t))(v17 + 24))(v41, v40, v16);
      swift_endAccess();
      [v27 setNeedsLayout];
      (*(void (**)(char *, uint64_t))(v17 + 8))(v40, v16);
      id v42 = v86;
      ItemLayoutContext.parentShelfLayoutContext.getter();
      uint64_t v43 = v88;
      ShelfLayoutContext.shelfPresentationHints.getter();
      (*(void (**)(char *, uint64_t))(v39 + 8))(v42, v38);
      double v44 = v87;
      static Shelf.PresentationHints.isAppleArcadeContext.getter();
      sub_10037A108((unint64_t *)&unk_100982850, (void (*)(uint64_t))&type metadata accessor for Shelf.PresentationHints);
      uint64_t v45 = v83;
      LOBYTE(v38) = dispatch thunk of SetAlgebra.isSuperset(of:)();
      uint64_t v46 = *(void (**)(char *, uint64_t))(v82 + 8);
      v46(v44, v45);
      v46(v43, v45);
      v27[OBJC_IVAR____TtC8AppStore21LockupPlaceholderView_wantsHeadingTextPlaceholder] = v38 & 1;
      [v27 setNeedsLayout];
      uint64_t v31 = v80;
      goto LABEL_27;
    }
    if (v26 == enum case for Shelf.ContentType.videoCard(_:))
    {
      uint64_t v27 = (char *)[objc_allocWithZone((Class)UIView) init];
      id v28 = [self secondarySystemBackgroundColor];
      [v27 setBackgroundColor:v28];

      id v29 = [v27 layer];
      if (qword_10097E4F8 != -1) {
        swift_once();
      }
      [v29 setCornerRadius:*(double *)&qword_1009E1BC0];

      id v30 = [v27 layer];
      [v30 setCornerCurve:kCACornerCurveContinuous];

      uint64_t v31 = v80;
      goto LABEL_27;
    }
    if (v26 == enum case for Shelf.ContentType.brick(_:))
    {
      uint64_t v31 = v80;
      uint64_t v35 = *(void **)&v80[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView];
      type metadata accessor for BrickPlaceholderView();
      uint64_t v36 = swift_dynamicCastClass();
      if (v36)
      {
        uint64_t v27 = (char *)v36;
        id v37 = v35;
      }
      else
      {
        uint64_t v27 = (char *)[objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
      }
      uint64_t v51 = v82;
      uint64_t v50 = v83;
      uint64_t v53 = v84;
      uint64_t v52 = v85;
      uint64_t v54 = v86;
      ItemLayoutContext.parentShelfLayoutContext.getter();
      id v55 = v88;
      ShelfLayoutContext.shelfPresentationHints.getter();
      (*(void (**)(char *, uint64_t))(v53 + 8))(v54, v52);
      CGRect v56 = v87;
      static Shelf.PresentationHints.showSupplementaryText.getter();
      sub_10037A108((unint64_t *)&unk_100982850, (void (*)(uint64_t))&type metadata accessor for Shelf.PresentationHints);
      LOBYTE(v52) = dispatch thunk of SetAlgebra.isSuperset(of:)();
      id v57 = *(void (**)(char *, uint64_t))(v51 + 8);
      v57(v56, v50);
      v57(v55, v50);
      v27[OBJC_IVAR____TtC8AppStore20BrickPlaceholderView_wantsSupplementaryTextPlaceholder] = v52 & 1;
      [v27 setNeedsLayout];
      goto LABEL_27;
    }
    if (v26 == enum case for Shelf.ContentType.categoryBrick(_:))
    {
      uint64_t v31 = v80;
      uint64_t v47 = *(void **)&v80[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView];
      type metadata accessor for CategoryBrickPlaceholderView();
      uint64_t v48 = swift_dynamicCastClass();
      if (v48)
      {
        uint64_t v27 = (char *)v48;
        id v49 = v47;
LABEL_27:
        [v27 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];
        goto LABEL_28;
      }
    }
    else
    {
      if (v26 == enum case for Shelf.ContentType.appTrailerLockup(_:)
        || v26 == enum case for Shelf.ContentType.screenshotsLockup(_:))
      {
        type metadata accessor for MixedMediaLockupPlaceholderView();
        uint64_t v27 = (char *)[objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
        id v67 = v81;
        v25(v81, v89, v16);
        double v68 = &v27[OBJC_IVAR____TtC8AppStore31MixedMediaLockupPlaceholderView_contentType];
        swift_beginAccess();
        (*(void (**)(char *, char *, uint64_t))(v17 + 24))(v68, v67, v16);
        swift_endAccess();
        [v27 setNeedsLayout];
        (*(void (**)(char *, uint64_t))(v17 + 8))(v67, v16);
        id v69 = v86;
        ItemLayoutContext.parentShelfLayoutContext.getter();
        NSString v70 = v88;
        ShelfLayoutContext.shelfPresentationHints.getter();
        (*(void (**)(char *, uint64_t))(v84 + 8))(v69, v85);
        uint64_t v71 = v87;
        static Shelf.PresentationHints.showSupplementaryText.getter();
        sub_10037A108((unint64_t *)&unk_100982850, (void (*)(uint64_t))&type metadata accessor for Shelf.PresentationHints);
        uint64_t v72 = v83;
        LOBYTE(v69) = dispatch thunk of SetAlgebra.isSuperset(of:)();
        uint64_t v73 = *(void (**)(char *, uint64_t))(v82 + 8);
        v73(v71, v72);
        v73(v70, v72);
        v27[OBJC_IVAR____TtC8AppStore31MixedMediaLockupPlaceholderView_wantsSupplementaryTextPlaceholder] = v69 & 1;
        [v27 setNeedsLayout];
        uint64_t v31 = v80;
        goto LABEL_27;
      }
      if (v26 == enum case for Shelf.ContentType.smallStoryCard(_:))
      {
        type metadata accessor for TodayBrickPlaceholderView();
        uint64_t v27 = (char *)[objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
        uint64_t v31 = v80;
        goto LABEL_27;
      }
      uint64_t v31 = v80;
      if (v26 == enum case for Shelf.ContentType.posterLockup(_:))
      {
        uint64_t v27 = (char *)[objc_allocWithZone((Class)UIView) init];
        id v74 = [self secondarySystemBackgroundColor];
        [v27 setBackgroundColor:v74];

        id v75 = [v27 layer];
        [v75 setCornerRadius:5.0];

        id v76 = [v27 layer];
        [v76 setCornerCurve:kCACornerCurveContinuous];

        goto LABEL_27;
      }
      if (v26 != enum case for Shelf.ContentType.appPromotion(_:))
      {
        (*(void (**)(char *, uint64_t))(v17 + 8))(v21, v16);
        uint64_t v27 = 0;
LABEL_28:
        uint64_t v58 = OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView;
        double v59 = *(void **)&v31[OBJC_IVAR____TtC8AppStore29PlaceholderCollectionViewCell_placeholderView];
        double v60 = v27;
        [v59 removeFromSuperview];
        if (v27)
        {
          id v61 = v60;
          id v62 = [v31 contentView];
          [v62 addSubview:v61];

          unint64_t v63 = *(void **)&v31[v58];
          *(void *)&v31[v58] = v61;
          id v64 = v61;

          [v31 setNeedsLayout];
          (*(void (**)(char *, uint64_t))(v78 + 8))(v89, v16);
        }
        else
        {
          id v65 = [objc_allocWithZone((Class)UIView) init];
          double v66 = *(void **)&v31[v58];
          *(void *)&v31[v58] = v65;

          (*(void (**)(char *, uint64_t))(v78 + 8))(v89, v16);
        }
        return;
      }
      type metadata accessor for AppEventPlaceholderView();
    }
    uint64_t v27 = (char *)[objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
    goto LABEL_27;
  }
}

uint64_t sub_10037A108(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

ValueMetadata *type metadata accessor for FlowPreviewActionImplementation()
{
  return &type metadata for FlowPreviewActionImplementation;
}

unint64_t sub_10037A164()
{
  unint64_t result = qword_1009925E0;
  if (!qword_1009925E0)
  {
    type metadata accessor for FlowPreviewAction();
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_1009925E0);
  }
  return result;
}

uint64_t sub_10037A1BC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v43 = a2;
  uint64_t v5 = type metadata accessor for ActionOutcome();
  uint64_t v42 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v39 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for FlowPresentationContext();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  CGSize v11 = (char *)&v39 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100082C28(&qword_100988220);
  uint64_t v12 = Promise.__allocating_init()();
  uint64_t Strong = (void *)swift_unknownObjectUnownedLoadStrong();
  id v14 = [Strong presentedViewController];

  if (v14)
  {
    uint64_t v15 = (void *)swift_unknownObjectUnownedLoadStrong();
    sub_1001C7608(v3, (uint64_t)v46);
    uint64_t v16 = (void *)swift_allocObject();
    sub_10004DEB0((uint64_t)v46, (uint64_t)(v16 + 2));
    uint64_t v17 = v43;
    v16[3] = a1;
    v16[4] = v17;
    uint64_t v16[5] = v12;
    aBlock[4] = sub_10037ABC4;
    aBlock[5] = v16;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_1000162D4;
    uint64_t aBlock[3] = &unk_1008C7D50;
    uint64_t v18 = _Block_copy(aBlock);
    swift_retain();
    swift_retain();
    swift_retain();
    swift_release();
    [v15 dismissViewControllerAnimated:1 completion:v18];
    _Block_release(v18);

    return v12;
  }
  else
  {
    uint64_t v20 = v43;
    id v40 = v7;
    uint64_t v41 = v9;
    uint64_t v21 = (void *)FlowPreviewAction.previewViewController.getter();
    uint64_t v39 = v11;
    FlowPreviewAction.presentationContext.getter();
    uint64_t v19 = v12;
    if (FlowPreviewAction.requiresNavigationController.getter())
    {
      type metadata accessor for NavigationBarManualCheckLayoutMarginsChange();
      uint64_t v22 = (objc_class *)type metadata accessor for StoreNavigationController();
      uint64_t v23 = (char *)objc_allocWithZone(v22);
      *(void *)&v23[OBJC_IVAR____TtC8AppStore25StoreNavigationController_objectGraph] = v20;
      uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
      v44.receiver = v23;
      v44.super_class = v22;
      swift_retain();
      id v25 = [super initWithNavigationBarClass:ObjCClassFromMetadata toolbarClass:0];
      [v25 setDelegate:v25];
      sub_100084CF0(0, (unint64_t *)&qword_10098F030);
      swift_allocObject();
      int v26 = (void *)swift_unknownObjectUnownedLoadStrong();
      swift_unknownObjectWeakInit();

      uint64_t v27 = (void *)UIAction.init(title:subtitle:image:selectedImage:identifier:discoverabilityTitle:attributes:state:handler:)();
      sub_1000B3574(v21, v27);

      sub_100082C28(&qword_100982B50);
      uint64_t v28 = swift_allocObject();
      *(_OWORD *)(v28 + 16) = xmmword_1007BEA80;
      *(void *)(v28 + 32) = v21;
      aBlock[0] = v28;
      specialized Array._endMutation()();
      sub_100084CF0(0, (unint64_t *)&qword_100982B30);
      id v29 = v25;
      id v30 = v21;
      Class isa = Array._bridgeToObjectiveC()().super.isa;
      swift_bridgeObjectRelease();
      [v29 setViewControllers:isa];

      unint64_t v32 = (void *)swift_unknownObjectUnownedLoadStrong();
      [v32 presentViewController:v29 animated:0 completion:0];

      uint64_t v21 = v29;
    }
    else
    {
      unint64_t v32 = (void *)swift_unknownObjectUnownedLoadStrong();
      [v32 presentViewController:v21 animated:0 completion:0];
    }
    uint64_t v33 = v8;
    uint64_t v34 = v5;
    uint64_t v36 = v40;
    uint64_t v35 = v41;

    (*(void (**)(char *, uint64_t))(v35 + 8))(v39, v33);
    uint64_t v37 = v42;
    (*(void (**)(char *, void, uint64_t))(v42 + 104))(v36, enum case for ActionOutcome.performed(_:), v34);
    Promise.resolve(_:)();
    (*(void (**)(char *, uint64_t))(v37 + 8))(v36, v34);
  }
  return v19;
}

uint64_t sub_10037A6FC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v7 = type metadata accessor for ActionOutcome();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v33 = type metadata accessor for FlowPresentationContext();
  uint64_t v11 = *(void *)(v33 - 8);
  __chkstk_darwin(v33);
  uint64_t v13 = (char *)v30 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v14 = (void *)FlowPreviewAction.previewViewController.getter();
  FlowPreviewAction.presentationContext.getter();
  if (FlowPreviewAction.requiresNavigationController.getter())
  {
    type metadata accessor for NavigationBarManualCheckLayoutMarginsChange();
    uint64_t v15 = (objc_class *)type metadata accessor for StoreNavigationController();
    uint64_t v31 = v7;
    uint64_t v16 = v15;
    uint64_t v17 = (char *)objc_allocWithZone(v15);
    uint64_t v32 = a4;
    id v18 = v17;
    *(void *)&v17[OBJC_IVAR____TtC8AppStore25StoreNavigationController_objectGraph] = a3;
    uint64_t ObjCClassFromMetadata = swift_getObjCClassFromMetadata();
    v35.receiver = v18;
    v35.super_class = v16;
    swift_retain();
    id v20 = [super initWithNavigationBarClass:ObjCClassFromMetadata toolbarClass:0];
    [v20 setDelegate:v20];
    sub_100084CF0(0, (unint64_t *)&qword_10098F030);
    swift_allocObject();
    uint64_t Strong = swift_unknownObjectUnownedLoadStrong();
    v30[1] = a1;
    uint64_t v22 = (void *)Strong;
    uint64_t v7 = v31;
    swift_unknownObjectWeakInit();

    uint64_t v23 = (void *)UIAction.init(title:subtitle:image:selectedImage:identifier:discoverabilityTitle:attributes:state:handler:)();
    sub_1000B3574(v14, v23);

    sub_100082C28(&qword_100982B50);
    uint64_t v24 = swift_allocObject();
    *(_OWORD *)(v24 + 16) = xmmword_1007BEA80;
    *(void *)(v24 + 32) = v14;
    uint64_t v34 = v24;
    specialized Array._endMutation()();
    sub_100084CF0(0, (unint64_t *)&qword_100982B30);
    id v25 = v20;
    id v26 = v14;
    Class isa = Array._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    [v25 setViewControllers:isa];

    uint64_t v28 = (void *)swift_unknownObjectUnownedLoadStrong();
    [v28 presentViewController:v25 animated:0 completion:0];

    id v14 = v25;
  }
  else
  {
    uint64_t v28 = (void *)swift_unknownObjectUnownedLoadStrong();
    [v28 presentViewController:v14 animated:0 completion:0];
  }

  (*(void (**)(char *, uint64_t))(v11 + 8))(v13, v33);
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v10, enum case for ActionOutcome.performed(_:), v7);
  Promise.resolve(_:)();
  return (*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v10, v7);
}

void sub_10037AAE4()
{
  swift_beginAccess();
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v1 = Strong;
    id v2 = [Strong presentedViewController];

    if (v2)
    {
      [v2 dismissViewControllerAnimated:1 completion:0];
    }
  }
}

uint64_t sub_10037AB6C(uint64_t *a1, uint64_t a2)
{
  return sub_10037A1BC(*a1, a2);
}

uint64_t sub_10037AB74()
{
  swift_unknownObjectUnownedDestroy();
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_10037ABC4()
{
  return sub_10037A6FC((uint64_t)(v0 + 2), v0[3], v0[4], v0[5]);
}

uint64_t sub_10037ABD4()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_10037AC0C()
{
}

void sub_10037AC14()
{
  qword_1009925E8 = 0x4034000000000000;
}

uint64_t sub_10037AC24()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  uint64_t v3 = (char *)&v10[-1] - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for StaticDimension();
  sub_100042444(v4, qword_1009925F0);
  sub_100087728(v4, (uint64_t)qword_1009925F0);
  if (qword_10097F6B0 != -1) {
    swift_once();
  }
  uint64_t v5 = type metadata accessor for FontUseCase();
  uint64_t v6 = sub_100087728(v5, (uint64_t)qword_1009E4E68);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v5 - 8) + 16))(v3, v6, v5);
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for FontSource.useCase(_:), v0);
  v10[3] = v0;
  v10[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v7 = sub_1000808B8(v10);
  (*(void (**)(uint64_t *, char *, uint64_t))(v1 + 16))(v7, v3, v0);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v1 + 8))(v3, v0);
}

char *sub_10037ADF8(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = &v4[OBJC_IVAR____TtC8AppStore39InAppPurchaseShowcaseCollectionViewCell_itemLayoutContext];
  uint64_t v10 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v10 - 8) + 56))(v9, 1, 1, v10);
  uint64_t v11 = OBJC_IVAR____TtC8AppStore39InAppPurchaseShowcaseCollectionViewCell_lockupView;
  id v12 = objc_allocWithZone((Class)type metadata accessor for InAppPurchaseShowcaseLockupView());
  uint64_t v13 = v4;
  *(void *)&v4[v11] = [v12 initWithFrame:0.0, 0.0, 0.0, 0.0];

  v19.receiver = v13;
  v19.super_class = (Class)type metadata accessor for InAppPurchaseShowcaseCollectionViewCell();
  id v14 = [super initWithFrame:a1, a2, a3, a4];
  id v15 = [v14 contentView];
  [v15 setLayoutMargins:UIEdgeInsetsZero.top, UIEdgeInsetsZero.left, UIEdgeInsetsZero.bottom, UIEdgeInsetsZero.right];

  id v16 = [v14 contentView];
  id v17 = *(id *)&v14[OBJC_IVAR____TtC8AppStore39InAppPurchaseShowcaseCollectionViewCell_lockupView];
  [v16 addSubview:v17];

  return v14;
}

id sub_10037B1BC()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for InAppPurchaseShowcaseCollectionViewCell();
  return [super dealloc];
}

uint64_t sub_10037B240()
{
  return type metadata accessor for InAppPurchaseShowcaseCollectionViewCell();
}

uint64_t type metadata accessor for InAppPurchaseShowcaseCollectionViewCell()
{
  uint64_t result = qword_100992630;
  if (!qword_100992630) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_10037B298()
{
  id v3 = objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore39InAppPurchaseShowcaseCollectionViewCell_lockupView)
                         + OBJC_IVAR____TtC8AppStore31InAppPurchaseShowcaseLockupView_iconView));
  v5.value.super.Class isa = 0;
  v5.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v5, v1);
  v6.value.super.Class isa = 0;
  v6.is_nil = 0;
  ArtworkView.setImage(image:animated:)(v6, v2);
  type metadata accessor for ArtworkView();
  sub_100112948();
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

void sub_10037B398(uint64_t a1, uint64_t a2)
{
  sub_100082C6C(a1, (uint64_t)v7);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for InAppPurchaseShowcase();
  if (swift_dynamicCast())
  {
    if (qword_100980500 != -1) {
      swift_once();
    }
    id v4 = objc_retain(*(id *)(*(void *)&v2[OBJC_IVAR____TtC8AppStore39InAppPurchaseShowcaseCollectionViewCell_lockupView]
                           + OBJC_IVAR____TtC8AppStore31InAppPurchaseShowcaseLockupView_iconView));
    uint64_t v5 = InAppPurchaseShowcase.lockup.getter();
    id v6 = [v2 backgroundColor];
    sub_100342ADC(v5, (uint64_t)v6, a2);
    swift_release();

    swift_release();
  }
}

uint64_t sub_10037B4D4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  uint64_t v26 = a4;
  uint64_t v24 = a1;
  uint64_t v25 = a3;
  uint64_t v7 = type metadata accessor for FontSource();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (UIFontTextStyle *)((char *)&v24 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v11 = type metadata accessor for Separator.Position();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  id v14 = (char *)&v24 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for Separator();
  uint64_t v16 = *(void *)(v15 - 8);
  *(void *)&double v17 = __chkstk_darwin(v15).n128_u64[0];
  objc_super v19 = (char *)&v24 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v20 = [a6 traitCollection:v17];
  (*(void (**)(char *, void, uint64_t))(v12 + 104))(v14, enum case for Separator.Position.bottom(_:), v11);
  *uint64_t v10 = UIFontTextStyleBody;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v8 + 104))(v10, enum case for FontSource.textStyle(_:), v7);
  void v28[3] = type metadata accessor for StaticDimension();
  unsigned char v28[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v28);
  _OWORD v27[3] = v7;
  void v27[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v21 = sub_1000808B8(v27);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v8 + 16))(v21, v10, v7);
  uint64_t v22 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(UIFontTextStyle *, uint64_t))(v8 + 8))(v10, v7);
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
  sub_10037B7CC(v24, (uint64_t)v19, v25, v26, (uint64_t)v20);

  return (*(uint64_t (**)(char *, uint64_t))(v16 + 8))(v19, v15);
}

id sub_10037B7CC(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  id v6 = v5;
  v53[1] = a5;
  uint64_t v60 = a3;
  uint64_t v61 = a2;
  uint64_t v59 = a1;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_10098AC10);
  __chkstk_darwin(v8 - 8);
  uint64_t v58 = (char *)v53 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_100981A70);
  __chkstk_darwin(v10 - 8);
  id v57 = (char *)v53 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28((uint64_t *)&unk_100981A80);
  __chkstk_darwin(v12 - 8);
  CGRect v56 = (char *)v53 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100995F00);
  __chkstk_darwin(v14 - 8);
  id v55 = (char *)v53 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28((uint64_t *)&unk_100982860);
  __chkstk_darwin(v16 - 8);
  uint64_t v54 = (char *)v53 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v18 = sub_100082C28((uint64_t *)&unk_1009A3840);
  __chkstk_darwin(v18 - 8);
  id v20 = (char *)v53 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v21 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v22 = *(void *)(v21 - 8);
  __chkstk_darwin(v21);
  uint64_t v24 = (char *)v53 - ((v23 + 15) & 0xFFFFFFFFFFFFFFF0);
  static ComponentLayoutOptions.separatorHidden.getter();
  sub_10006EF44((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
  uint64_t v62 = a4;
  char v25 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  uint64_t v26 = *(void (**)(char *, uint64_t))(v22 + 8);
  v26(v24, v21);
  uint64_t v27 = type metadata accessor for Separator();
  uint64_t v28 = *(void *)(v27 - 8);
  uint64_t v29 = v28;
  if (v25)
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v28 + 56))(v20, 1, 1, v27);
    uint64_t v30 = (uint64_t)&v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separator];
    swift_beginAccess();
    sub_1000D2318((uint64_t)v20, v30);
    swift_endAccess();
    sub_100312060();
    sub_100082BCC((uint64_t)v20, (uint64_t *)&unk_1009A3840);
    static ComponentLayoutOptions.fixedHeightContainer.getter();
    LOBYTE(v30) = dispatch thunk of SetAlgebra.isSuperset(of:)();
    v26(v24, v21);
    id v31 = [v6 contentView];
    uint64_t v32 = v31;
    if (v30)
    {
      [v31 layoutMargins];
      [v32 setLayoutMargins:];
    }
    else
    {
      Separator.verticalOutset.getter();
      sub_100081D90(v63, v63[3]);
      AnyDimension.value(with:)();
      [v32 layoutMargins];
      [v32 setLayoutMargins:];

      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v63);
    }
    uint64_t v38 = v59;
    uint64_t v37 = v60;
    uint64_t v40 = (uint64_t)v57;
    uint64_t v39 = (uint64_t)v58;
    uint64_t v42 = (uint64_t)v55;
    uint64_t v41 = (uint64_t)v56;
    uint64_t v43 = (uint64_t)v54;
  }
  else
  {
    (*(void (**)(char *, uint64_t, uint64_t))(v28 + 16))(v20, v61, v27);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v29 + 56))(v20, 0, 1, v27);
    uint64_t v33 = (uint64_t)&v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separator];
    swift_beginAccess();
    sub_1000D2318((uint64_t)v20, v33);
    swift_endAccess();
    sub_100312060();
    sub_100082BCC((uint64_t)v20, (uint64_t *)&unk_1009A3840);
    id v34 = [v6 contentView];
    [v34 layoutMargins];
    [v34 setLayoutMargins:];

    static ComponentLayoutOptions.hasBackground.getter();
    char v35 = dispatch thunk of SetAlgebra.isSuperset(of:)();
    v26(v24, v21);
    int v36 = v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_hideSeparatorIndependentlyOfLayout];
    v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_hideSeparatorIndependentlyOfLayout] = v35 & 1;
    uint64_t v38 = v59;
    uint64_t v37 = v60;
    uint64_t v40 = (uint64_t)v57;
    uint64_t v39 = (uint64_t)v58;
    uint64_t v42 = (uint64_t)v55;
    uint64_t v41 = (uint64_t)v56;
    uint64_t v43 = (uint64_t)v54;
    if ((v35 & 1) != v36)
    {
      objc_super v44 = *(void **)&v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_separatorView];
      if (v44)
      {
        double v45 = 1.0;
        if (v35) {
          double v45 = 0.0;
        }
        [v44 setAlpha:v45];
      }
    }
  }
  uint64_t v46 = *(char **)&v6[OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView];
  uint64_t v47 = sub_100082C28((uint64_t *)&unk_10098AC20);
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v47 - 8) + 56))(v43, 1, 1, v47);
  uint64_t v48 = type metadata accessor for OfferStyle();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v48 - 8) + 56))(v42, 1, 1, v48);
  uint64_t v49 = type metadata accessor for OfferEnvironment();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v49 - 8) + 56))(v41, 1, 1, v49);
  uint64_t v50 = sub_100082C28((uint64_t *)&unk_100981AC0);
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v50 - 8) + 56))(v40, 1, 1, v50);
  uint64_t v51 = type metadata accessor for OfferTint();
  (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(*(void *)(v51 - 8) + 56))(v39, 1, 1, v51);
  sub_10006F94C(v38, v46, v43, v37, 0, 0, v42, v41, v39, v40);
  sub_100082BCC(v39, (uint64_t *)&unk_10098AC10);
  v46[OBJC_IVAR____TtC8AppStore15SmallLockupView_enforceMaximumOfTwoLinesOverall] = 0;
  sub_100709290();
  [v46 setNeedsLayout];
  sub_100082BCC(v40, (uint64_t *)&unk_100981A70);
  sub_100082BCC(v41, (uint64_t *)&unk_100981A80);
  sub_100082BCC(v42, (uint64_t *)&unk_100995F00);
  sub_100082BCC(v43, (uint64_t *)&unk_100982860);
  return [v6 setNeedsLayout];
}

double sub_10037BFEC(double a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  return sub_10037C1BC(a1, a4, a6, a7);
}

uint64_t sub_10037BFFC(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_10037B4D4(*a1, a2, a3, a4, a5, a6);
}

void sub_10037C004(uint64_t a1, uint64_t a2)
{
}

uint64_t sub_10037C034()
{
  return *(unsigned __int8 *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore29SmallLockupCollectionViewCell_lockupView)
                            + OBJC_IVAR____TtC8AppStore15SmallLockupView_isDisplayingSearchAd);
}

uint64_t sub_10037C058@<X0>(uint64_t a1@<X8>)
{
  if (qword_100980610 != -1) {
    swift_once();
  }
  uint64_t v2 = type metadata accessor for SmallLockupLayout.Metrics();
  sub_100087728(v2, (uint64_t)qword_1009E7358);
  SmallLockupLayout.Metrics.artworkSize.getter();
  ComponentPrefetchSizing.init(size:contentMode:)();
  uint64_t v3 = type metadata accessor for ComponentPrefetchSizing();
  id v4 = *(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v3 - 8) + 56);

  return v4(a1, 0, 1, v3);
}

uint64_t sub_10037C11C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  return sub_10037C768(a2, a3, a5);
}

uint64_t sub_10037C12C()
{
  return sub_10006EF44((unint64_t *)&qword_100993740, (void (*)(uint64_t))&type metadata accessor for Lockup);
}

uint64_t sub_10037C174()
{
  return sub_10006EF44(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

double sub_10037C1BC(double a1, uint64_t a2, uint64_t a3, void *a4)
{
  int v36 = a4;
  uint64_t v5 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v31 = *(void *)(v5 - 8);
  uint64_t v32 = v5;
  __chkstk_darwin(v5);
  uint64_t v30 = (char *)&v29 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for FontSource();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (UIFontTextStyle *)((char *)&v29 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v11 = type metadata accessor for Separator.Position();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v29 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = type metadata accessor for Separator();
  uint64_t v34 = *(void *)(v15 - 8);
  uint64_t v35 = v15;
  __chkstk_darwin(v15);
  uint64_t v33 = (char *)&v29 - ((v16 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for ComponentLayoutOptions();
  uint64_t v18 = *(void *)(v17 - 8);
  __chkstk_darwin(v17);
  id v20 = (char *)&v29 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  static ComponentLayoutOptions.separatorHidden.getter();
  sub_10006EF44((unint64_t *)&qword_100982870, (void (*)(uint64_t))&type metadata accessor for ComponentLayoutOptions);
  char v21 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  (*(void (**)(char *, uint64_t))(v18 + 8))(v20, v17);
  (*(void (**)(char *, void, uint64_t))(v12 + 104))(v14, enum case for Separator.Position.bottom(_:), v11);
  *uint64_t v10 = UIFontTextStyleBody;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v8 + 104))(v10, enum case for FontSource.textStyle(_:), v7);
  uint64_t v39 = type metadata accessor for StaticDimension();
  uint64_t v40 = &protocol witness table for StaticDimension;
  sub_1000808B8(v38);
  v37[3] = v7;
  v37[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v22 = sub_1000808B8(v37);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v8 + 16))(v22, v10, v7);
  uint64_t v23 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(UIFontTextStyle *, uint64_t))(v8 + 8))(v10, v7);
  if (v21)
  {
    uint64_t v24 = v33;
    Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
    Separator.verticalOutset.getter();
    (*(void (**)(char *, uint64_t))(v34 + 8))(v24, v35);
    sub_100081D90(v38, v39);
    char v25 = v30;
    j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
    uint64_t v26 = v36;
    AnyDimension.value(in:rounded:)();
    (*(void (**)(char *, uint64_t))(v31 + 8))(v25, v32);
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v38);
  }
  else
  {
    uint64_t v27 = v33;
    Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
    uint64_t v26 = v36;
    Separator.height(in:)();
    (*(void (**)(char *, uint64_t))(v34 + 8))(v27, v35);
  }
  swift_getObjectType();
  sub_100312E10(v26);
  return a1;
}

uint64_t sub_10037C768(uint64_t a1, uint64_t a2, void *a3)
{
  v23[1] = a1;
  uint64_t v4 = type metadata accessor for FontSource();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  uint64_t v7 = (UIFontTextStyle *)((char *)v23 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v8 = type metadata accessor for Separator.Position();
  uint64_t v9 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v11 = (char *)v23 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for Separator();
  uint64_t v13 = *(void *)(v12 - 8);
  __n128 v14 = __chkstk_darwin(v12);
  uint64_t v16 = (char *)v23 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, void, uint64_t, __n128))(v9 + 104))(v11, enum case for Separator.Position.bottom(_:), v8, v14);
  *uint64_t v7 = UIFontTextStyleBody;
  (*(void (**)(UIFontTextStyle *, void, uint64_t))(v5 + 104))(v7, enum case for FontSource.textStyle(_:), v4);
  v25[3] = type metadata accessor for StaticDimension();
  void v25[4] = (uint64_t)&protocol witness table for StaticDimension;
  sub_1000808B8(v25);
  uint64_t v24[3] = v4;
  v24[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v17 = sub_1000808B8(v24);
  (*(void (**)(uint64_t *, UIFontTextStyle *, uint64_t))(v5 + 16))(v17, v7, v4);
  uint64_t v18 = UIFontTextStyleBody;
  StaticDimension.init(_:scaledLike:)();
  (*(void (**)(UIFontTextStyle *, uint64_t))(v5 + 8))(v7, v4);
  Separator.init(position:leadingInset:trailingInset:verticalOutset:)();
  swift_getObjectType();
  Separator.height(in:)();
  (*(void (**)(char *, uint64_t))(v13 + 8))(v16, v12);
  sub_100312E10(a3);
  uint64_t v19 = self;
  PageTraitEnvironment.pageColumnWidth.getter();
  id v20 = [v19 absoluteDimension:];
  uint64_t v21 = static ComponentLayoutBuilder.columnGroup(separatedBy:itemHeight:groupWidth:rowCount:)();

  return v21;
}

uint64_t sub_10037CAB4()
{
  sub_100092F18(v0 + 16);

  return swift_deallocClassInstance();
}

uint64_t type metadata accessor for NavigationBarVisibilityThresholdCollectionElementsObserver()
{
  return self;
}

void sub_10037CB14(void *a1, uint64_t a2, void *a3)
{
  uint64_t v5 = type metadata accessor for IndexPath();
  uint64_t v6 = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  uint64_t v8 = (char *)&v33 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  ItemLayoutContext.indexPath.getter();
  uint64_t v9 = IndexPath.section.getter();
  (*(void (**)(char *, uint64_t))(v6 + 8))(v8, v5);
  if (!v9)
  {
    swift_getObjectType();
    uint64_t v10 = swift_conformsToProtocol2();
    uint64_t v11 = v10 ? v10 : 0;
    if (v10 ? a1 : 0)
    {
      uint64_t ObjectType = swift_getObjectType();
      __n128 v14 = *(double (**)(uint64_t, uint64_t))(v11 + 8);
      id v15 = a1;
      double v16 = v14(ObjectType, v11);
      uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
      if (Strong)
      {
        uint64_t v18 = Strong;
        id v19 = [Strong view];

        if (!v19)
        {
          __break(1u);
          return;
        }
        id v20 = [v19 safeAreaLayoutGuide];

        [v20 layoutFrame];
        CGFloat v22 = v21;
        CGFloat v24 = v23;
        CGFloat v26 = v25;
        CGFloat v28 = v27;

        v34.origin.CGFloat x = v22;
        v34.origin.CGFloat y = v24;
        v34.size.CGFloat width = v26;
        v34.size.CGFloat height = v28;
        double MinY = CGRectGetMinY(v34);
      }
      else
      {
        double MinY = 0.0;
      }
      uint64_t v30 = swift_unknownObjectWeakLoadStrong();
      if (v30)
      {
        uint64_t v31 = (void *)v30;
        uint64_t v32 = *(void *)(v30 + qword_1009E3A30);
        swift_retain();

        if (v32)
        {
          sub_1000ED154(a3, v16 - MinY);
          swift_release();
        }
      }
    }
  }
}

void *sub_10037CD64(unint64_t a1)
{
  if (a1 >> 62)
  {
LABEL_18:
    swift_bridgeObjectRetain();
    uint64_t v2 = _CocoaArrayWrapper.endIndex.getter();
    if (v2) {
      goto LABEL_3;
    }
  }
  else
  {
    uint64_t v2 = *(void *)((a1 & 0xFFFFFFFFFFFFFF8) + 0x10);
    swift_bridgeObjectRetain();
    if (v2)
    {
LABEL_3:
      uint64_t v3 = 4;
      do
      {
        uint64_t v4 = v3 - 4;
        if ((a1 & 0xC000000000000001) != 0)
        {
          specialized _ArrayBuffer._getElementSlowPath(_:)();
          uint64_t v5 = v3 - 3;
          if (__OFADD__(v4, 1)) {
            goto LABEL_17;
          }
        }
        else
        {
          swift_retain();
          uint64_t v5 = v3 - 3;
          if (__OFADD__(v4, 1))
          {
LABEL_17:
            __break(1u);
            goto LABEL_18;
          }
        }
        swift_retain();
        if (dispatch thunk of Lockup.artwork.getter())
        {
          uint64_t v6 = Artwork.backgroundColor.getter();
          swift_release_n();
          swift_release();
          if (v6)
          {
            specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
            if (*(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)(((unint64_t)_swiftEmptyArrayStorage & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
              specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
            }
            specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
            specialized Array._endMutation()();
          }
        }
        else
        {
          swift_release_n();
        }
        ++v3;
      }
      while (v5 != v2);
    }
  }
  swift_bridgeObjectRelease();
  return _swiftEmptyArrayStorage;
}

uint64_t sub_10037CF04()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for DisjointStack();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = &v7[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  DisjointStack.init(with:)();
  DisjointStack.insert(_:at:with:)();
  sub_100082C6C(v1 + 88, (uint64_t)v7);
  v8[3] = type metadata accessor for Margins();
  v8[4] = (uint64_t)&protocol witness table for Margins;
  sub_1000808B8(v8);
  Margins.init(top:left:bottom:right:child:)();
  DisjointStack.insert(_:at:with:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v8);
  dispatch thunk of Placeable.place(at:with:)();
  return (*(uint64_t (**)(unsigned char *, uint64_t))(v3 + 8))(v5, v2);
}

void sub_10037D0D8()
{
  uint64_t v1 = v0;
  uint64_t v2 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning;
  *(unsigned char *)(*(void *)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_labelsView] + qword_10099E280) = v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning];
  sub_100579014();
  uint64_t v3 = (uint64_t *)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView];
  swift_beginAccess();
  uint64_t v4 = *v3;
  if (v4)
  {
    *(unsigned char *)(v4 + qword_10099E280) = v1[v2];
    sub_100579014();
  }
  uint64_t v5 = *(unsigned char **)(*(void *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView]
                 + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
  uint64_t v6 = v1[v2];
  v5[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_isTransitioning] = v6;
  *(unsigned char *)(*(void *)&v5[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingImageView]
           + OBJC_IVAR____TtC8AppStore18RevealingImageView_isTransitioning) = v6;
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v8 = Strong;
    uint64_t v9 = *(void (**)(uint64_t))((swift_isaMask & *Strong) + 0xC8);
    uint64_t v10 = v5;
    v9(v6);
  }
  id v11 = [v1 contentView];
  [v11 setClipsToBounds:(v1[v2] & 1) == 0];
}

void sub_10037D270(char a1)
{
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning) = a1;
  sub_10037D0D8();
}

uint64_t sub_10037D284()
{
  if (*(unsigned char *)(*(void *)(*(void *)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView]
                            + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView)
                + OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia) != 1)
    return 1;
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    uint64_t v1 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  }
  else {
    uint64_t v1 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  if (v0[*v1] == 6) {
    return 0;
  }
  id v3 = [v0 traitCollection];
  char v4 = UITraitCollection.prefersAccessibilityLayouts.getter();

  return v4 & 1;
}

void sub_10037D3D8(char a1)
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  v9.receiver = v1;
  v9.super_class = ObjectType;
  [super setDragging:a1 & 1];
  uint64_t v4 = *(void *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer];
  v8.receiver = v1;
  v8.super_class = ObjectType;
  *(unsigned char *)(v4 + OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isDragging) = [super isDragging];
  uint64_t v5 = *(void **)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer];
  if (v5)
  {
    v7.receiver = v1;
    v7.super_class = ObjectType;
    uint64_t v6 = v5;
    v6[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isDragging] = [super isDragging];
  }
}

uint64_t sub_10037D644(void *a1)
{
  if (a1)
  {
    id v3 = *(char **)(*(void *)(v1 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView)
                  + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
    uint64_t v4 = *(void **)&v3[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingVideoView];
    uint64_t v5 = v3;
    id v6 = [a1 superview];
    if (v6)
    {
      sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
      objc_super v7 = v4;
      id v8 = v6;
      LOBYTE(v6) = static NSObject.== infix(_:_:)();

      uint64_t v5 = v7;
    }
  }
  else
  {
    LOBYTE(v6) = 0;
  }
  return v6 & 1;
}

void (*sub_10037D724(uint64_t *a1))(uint64_t a1, char a2)
{
  uint64_t v2 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  a1[1] = *(void *)(v1 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView);
  a1[2] = v2;
  *a1 = swift_unknownObjectWeakLoadStrong();
  return sub_10037D7A4;
}

void sub_10037D7A4(uint64_t a1, char a2)
{
  id v3 = *(void **)a1;
  id v8 = *(id *)(*(void *)(a1 + 8) + *(void *)(a1 + 16));
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  swift_unknownObjectWeakAssign();
  if (a2)
  {
    id v5 = v3;
    id v6 = v8;
    sub_100008670(Strong);
  }
  else
  {
    id v7 = v8;
    sub_100008670(Strong);
  }
}

id sub_10037D874@<X0>(uint64_t a1@<X0>, uint64_t a2@<X8>)
{
  char v5 = v2[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded];
  id v6 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  if (!v5) {
    id v6 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  int v7 = v2[*v6];
  id v8 = [v2 traitCollection];
  sub_10000CF18(a1, v7, v5, v8);
  uint64_t v10 = v9;
  uint64_t v12 = v11;
  uint64_t v14 = v13;
  uint64_t v16 = v15;

  char v17 = sub_10005E8F0();
  uint64_t v18 = *(void **)&v2[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
  *(void *)(a2 + 72) = type metadata accessor for HeaderView();
  *(void *)(a2 + 80) = sub_10002D074(&qword_100992840, (void (*)(uint64_t))type metadata accessor for HeaderView);
  *(void *)(a2 + 48) = v18;
  id v21 = *(id *)&v2[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_labelsView];
  *(void *)(a2 + 112) = type metadata accessor for TodayCardLabelsView();
  *(void *)(a2 + 120) = &protocol witness table for CustomLayoutView;
  *(void *)(a2 + 88) = v21;
  *(unsigned char *)a2 = v17 & 1;
  *(void *)(a2 + 8) = v10;
  *(void *)(a2 + 16) = v12;
  *(void *)(a2 + 24) = v14;
  *(void *)(a2 + 32) = v16;
  *(void *)(a2 + 40) = 0x4030000000000000;
  id v19 = v18;

  return v21;
}

uint64_t sub_10037DA0C@<X0>(uint64_t result@<X0>, uint64_t a2@<X8>)
{
  id v3 = v2;
  char v5 = *(void **)&v2[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer];
  if (v5
    && (uint64_t v6 = result,
        int v7 = (void **)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView],
        uint64_t result = swift_beginAccess(),
        (id v8 = *v7) != 0)
    && *(void *)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_todayCard])
  {
    swift_retain();
    id v9 = v5;
    id v10 = v8;
    id v11 = [v3 traitCollection];
    double v46 = sub_100380820(v6, v11);
    uint64_t v13 = v12;
    uint64_t v15 = v14;
    uint64_t v17 = v16;

    id v18 = [v3 traitCollection];
    double v19 = sub_1003810C4(v6, v18);
    uint64_t v21 = v20;
    uint64_t v23 = v22;
    uint64_t v25 = v24;

    char v45 = sub_10005E8F0();
    int v26 = v3[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded];
    unsigned __int8 v44 = v3[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isTransitioning];

    if (v26) {
      double v27 = 272.0;
    }
    else {
      double v27 = 177.0;
    }
    *(void *)&long long v62 = *(void *)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
    type metadata accessor for HeaderView();
    Measurable.placeable.getter();
    *(void *)&long long v59 = v10;
    uint64_t v28 = type metadata accessor for TodayCardLabelsView();
    Measurable.placeable.getter();
    uint64_t v29 = *(void **)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_labelsView];
    uint64_t v60 = v28;
    uint64_t v61 = &protocol witness table for CustomLayoutView;
    *(void *)&long long v59 = v29;
    uint64_t v57 = type metadata accessor for TodayListCardLockupContainer();
    uint64_t v58 = &protocol witness table for UIView;
    id v55 = &protocol witness table for UIView;
    *(void *)&long long v56 = v9;
    uint64_t v30 = *(char **)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer];
    uint64_t v54 = v57;
    *(void *)&long long v53 = v30;
    uint64_t v31 = &v30[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_listCells];
    swift_beginAccess();
    uint64_t v43 = *(void *)(*(void *)v31 + 16);
    uint64_t v32 = &v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverContainerView];
    swift_beginAccess();
    if (*(void *)v32)
    {
      *(void *)&v49[0] = *(void *)v32;
      sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
      id v33 = v9;
      id v34 = v29;
      uint64_t v35 = v30;
      Measurable.placeable.getter();
    }
    else
    {
      uint64_t v52 = 0;
      memset(v51, 0, sizeof(v51));
      id v36 = v9;
      id v37 = v29;
      uint64_t v38 = v30;
    }
    uint64_t v39 = &v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverView];
    swift_beginAccess();
    if (*(void *)v39)
    {
      *(void *)&v47[0] = *(void *)v39;
      sub_100082C28(&qword_10098F8E8);
      Measurable.placeable.getter();
    }
    else
    {
      uint64_t v50 = 0;
      memset(v49, 0, sizeof(v49));
    }
    uint64_t v40 = (void **)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverBackgroundView];
    swift_beginAccess();
    uint64_t v41 = *v40;
    if (v41)
    {
      type metadata accessor for RiverTodayCardBackgroundView();
      id v42 = v41;
      Measurable.placeable.getter();

      swift_release();
    }
    else
    {
      swift_release();

      uint64_t v48 = 0;
      memset(v47, 0, sizeof(v47));
    }
    *(unsigned char *)a2 = v26;
    *(unsigned char *)(a2 + 1) = v44;
    *(unsigned char *)(a2 + 2) = v45 & 1;
    *(double *)(a2 + 8) = v46;
    *(void *)(a2 + 16) = v13;
    *(void *)(a2 + 24) = v15;
    *(void *)(a2 + 32) = v17;
    *(double *)(a2 + 40) = v19;
    *(void *)(a2 + 48) = v21;
    *(void *)(a2 + 56) = v23;
    *(void *)(a2 + 64) = v25;
    *(double *)(a2 + 72) = v27;
    sub_100081DD4(&v63, a2 + 80);
    sub_100081DD4(&v62, a2 + 120);
    sub_100081DD4(&v59, a2 + 160);
    sub_100081DD4(&v56, a2 + 200);
    sub_100081DD4(&v53, a2 + 240);
    *(void *)(a2 + 280) = v43;
    sub_1002CD2B4((uint64_t)v51, a2 + 288);
    sub_1002CD2B4((uint64_t)v49, a2 + 328);
    return sub_1002CD2B4((uint64_t)v47, a2 + 368);
  }
  else
  {
    *(void *)(a2 + 400) = 0;
    *(_OWORD *)(a2 + 368) = 0u;
    *(_OWORD *)(a2 + 384) = 0u;
    *(_OWORD *)(a2 + 336) = 0u;
    *(_OWORD *)(a2 + 352) = 0u;
    *(_OWORD *)(a2 + 304) = 0u;
    *(_OWORD *)(a2 + 320) = 0u;
    *(_OWORD *)(a2 + 272) = 0u;
    *(_OWORD *)(a2 + 288) = 0u;
    *(_OWORD *)(a2 + 240) = 0u;
    *(_OWORD *)(a2 + 256) = 0u;
    *(_OWORD *)(a2 + 208) = 0u;
    *(_OWORD *)(a2 + 224) = 0u;
    *(_OWORD *)(a2 + 176) = 0u;
    *(_OWORD *)(a2 + 192) = 0u;
    *(_OWORD *)(a2 + 144) = 0u;
    *(_OWORD *)(a2 + 160) = 0u;
    *(_OWORD *)(a2 + 112) = 0u;
    *(_OWORD *)(a2 + 128) = 0u;
    *(_OWORD *)(a2 + 80) = 0u;
    *(_OWORD *)(a2 + 96) = 0u;
    *(_OWORD *)(a2 + 48) = 0u;
    *(_OWORD *)(a2 + 64) = 0u;
    *(_OWORD *)(a2 + 16) = 0u;
    *(_OWORD *)(a2 + 32) = 0u;
    *(_OWORD *)a2 = 0u;
  }
  return result;
}

uint64_t sub_10037DEC4()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = sub_100082C28(&qword_100986FE0);
  *(void *)&double v4 = __chkstk_darwin(v3 - 8).n128_u64[0];
  uint64_t v6 = &v20[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0)];
  v21.receiver = v1;
  v21.super_class = ObjectType;
  [super prepareForReuse:v4];
  id v7 = objc_retain(*(id *)(*(void *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView]
                         + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView));
  sub_10070B4EC();

  sub_1003AFFB8();
  uint64_t v8 = type metadata accessor for TodayCard.Style();
  (*(void (**)(unsigned char *, uint64_t, uint64_t, uint64_t))(*(void *)(v8 - 8) + 56))(v6, 1, 1, v8);
  uint64_t v9 = (uint64_t)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_cardStyle];
  swift_beginAccess();
  sub_10006D1F8((uint64_t)v6, v9, &qword_100986FE0);
  swift_endAccess();
  v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_isMediaDark] = 0;
  sub_10001A848();
  id v10 = (id *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverView];
  swift_beginAccess();
  if (*v10)
  {
    id v11 = *v10;
    uint64_t v12 = dispatch thunk of RiverView.dataSource.getter();

    swift_beginAccess();
    *(void *)(v12 + 32) = _swiftEmptyArrayStorage;
    swift_release();
    swift_bridgeObjectRelease();
    if (*v10)
    {
      id v13 = *v10;
      dispatch thunk of RiverView.flushRows()();
    }
  }
  uint64_t v14 = (void **)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverBackgroundView];
  uint64_t result = swift_beginAccess();
  uint64_t v16 = (char *)*v14;
  if (*v14)
  {
    uint64_t v17 = (uint64_t *)&v16[OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_colors];
    swift_beginAccess();
    uint64_t v18 = *v17;
    *uint64_t v17 = (uint64_t)_swiftEmptyArrayStorage;
    double v19 = v16;
    sub_1004C8F98(v18);

    return swift_bridgeObjectRelease();
  }
  return result;
}

id sub_10037E16C()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v3 = type metadata accessor for CornerStyle();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v49 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10050F6F0();
  id v7 = *(char **)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_labelsView];
  uint64_t v8 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded;
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    uint64_t v9 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  }
  else {
    uint64_t v9 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  int v10 = v0[*v9];
  id v11 = sub_100053DF8;
  uint64_t v12 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
  id v13 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
  uint64_t v14 = sub_100096684;
  uint64_t v50 = v4;
  uint64_t v51 = v3;
  uint64_t v49 = (objc_class *)ObjectType;
  if (v10 != 6)
  {
    if (v10 == 4)
    {
      id v11 = sub_1002EDB0C;
      uint64_t v12 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
      uint64_t v14 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
      id v13 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    }
    else
    {
      id v11 = (uint64_t (*)())sub_1000147D4;
      uint64_t v12 = sub_100096708;
      id v13 = (uint64_t (*)())sub_1000966B0;
      uint64_t v14 = (uint64_t (*)())sub_1000966DC;
    }
  }
  uint64_t v15 = (uint64_t (**)())&v7[qword_10099E270];
  objc_class *v15 = sub_100093430;
  v15[1] = 0;
  void v15[2] = v14;
  void v15[3] = 0;
  v15[4] = v13;
  uint64_t v15[5] = 0;
  void v15[6] = v12;
  v15[7] = 0;
  v15[8] = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
  v15[9] = 0;
  v15[10] = v11;
  v15[11] = 0;
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  swift_release();
  sub_100053760();
  sub_10005E8F0();
  uint64_t v16 = &v7[qword_10099E230];
  *(void *)uint64_t v16 = 0x4000000000000000;
  *((void *)v16 + 1) = 0;
  *((void *)v16 + 2) = 0;
  *((void *)v16 + 3) = 0x4018000000000000;
  *((void *)v16 + 4) = 0;
  unsigned char v16[40] = 1;
  [v7 setNeedsLayout];
  uint64_t v17 = *(char **)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
  uint64_t v18 = *(unsigned char **)&v17[OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView];
  char v19 = v0[v8];
  uint64_t v20 = OBJC_IVAR____TtC8AppStore18StoryCardMediaView_isExpanded;
  v18[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_isExpanded] = v19;
  objc_super v21 = *(unsigned char **)&v18[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingImageView];
  v21[OBJC_IVAR____TtC8AppStore18RevealingImageView_isExpanded] = v19;
  uint64_t v22 = v18;
  [v21 setNeedsLayout];
  *(unsigned char *)(*(void *)&v22[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingVideoView]
           + OBJC_IVAR____TtC8AppStore18RevealingVideoView_isExpanded) = v18[v20];
  sub_10068BD9C();

  uint64_t v23 = *(unsigned char **)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer];
  int v24 = v1[v8];
  int v25 = v23[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isExpanded];
  v23[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isExpanded] = v24;
  if (v24 != v25) {
    [v23 setNeedsLayout];
  }
  double v26 = 14.0;
  if (v1[v8]) {
    double v26 = 0.0;
  }
  double v27 = v49;
  v53.receiver = v1;
  v53.super_class = v49;
  [super _setContinuousCornerRadius:v26, v49];
  v52.receiver = v1;
  v52.super_class = v27;
  [super _continuousCornerRadius];
  double v29 = v28;
  uint64_t v31 = v50;
  uint64_t v30 = v51;
  (*(void (**)(char *, void, uint64_t))(v50 + 104))(v6, enum case for CornerStyle.continuous(_:), v51);
  sub_10070AEB4((uint64_t)v6, v29);
  id v32 = [v17 layer];
  [v32 setMaskedCorners:UIRectCorner.caCornerMask.getter()];

  (*(void (**)(char *, uint64_t))(v31 + 8))(v6, v30);
  id v33 = *(unsigned char **)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer];
  if (v33)
  {
    int v34 = v1[v8];
    int v35 = v33[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isExpanded];
    v33[OBJC_IVAR____TtC8AppStore28TodayListCardLockupContainer_isExpanded] = v34;
    if (v34 != v35) {
      [v33 setNeedsLayout];
    }
  }
  id v36 = (id *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView];
  swift_beginAccess();
  id v37 = (char *)*v36;
  if (*v36)
  {
    uint64_t v38 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    if (!v1[v8]) {
      uint64_t v38 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    int v39 = v1[*v38];
    uint64_t v40 = sub_100053DF8;
    uint64_t v41 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    id v42 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    uint64_t v43 = sub_100096684;
    if (v39 != 6)
    {
      if (v39 == 4)
      {
        uint64_t v40 = sub_1002EDB0C;
        uint64_t v41 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
        uint64_t v43 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
        id v42 = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
      }
      else
      {
        uint64_t v40 = (uint64_t (*)())sub_1000147D4;
        uint64_t v41 = sub_100096708;
        id v42 = (uint64_t (*)())sub_1000966B0;
        uint64_t v43 = (uint64_t (*)())sub_1000966DC;
      }
    }
    unsigned __int8 v44 = (uint64_t (**)())&v37[qword_10099E270];
    *unsigned __int8 v44 = sub_100093430;
    v44[1] = 0;
    v44[2] = v43;
    uint64_t v44[3] = 0;
    void v44[4] = v42;
    void v44[5] = 0;
    v44[6] = v41;
    v44[7] = 0;
    v44[8] = variable initialization expression of CondensedEditorialSearchResultContentView.iconGrid;
    v44[9] = 0;
    v44[10] = v40;
    v44[11] = 0;
    char v45 = v37;
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    swift_release();
    sub_100053760();

    if (*v36)
    {
      double v46 = (char *)*v36;
      sub_10005E8F0();
      uint64_t v47 = &v46[qword_10099E230];
      *(void *)uint64_t v47 = 0x4000000000000000;
      *((void *)v47 + 1) = 0;
      *((void *)v47 + 2) = 0;
      *((void *)v47 + 3) = 0x4018000000000000;
      *((void *)v47 + 4) = 0;
      v47[40] = 1;
      [v46 setNeedsLayout];
    }
  }
  sub_10000E70C();
  return [v1 setNeedsLayout];
}

void sub_10037E8AC()
{
  uint64_t v1 = v0;
  swift_beginAccess();
  if (swift_weakLoadStrong())
  {
    ImpressionsCalculator.removeAllElements()();
    swift_release();
  }
  swift_weakAssign();
  uint64_t v2 = (uint64_t *)(v0 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_impressionsUpdateBlock);
  swift_beginAccess();
  uint64_t v3 = *v2;
  *uint64_t v2 = 0;
  v2[1] = 0;
  sub_10006012C(v3);
  type metadata accessor for TodayListCardLockupContainer();
  sub_10002D074(&qword_100992830, (void (*)(uint64_t))type metadata accessor for TodayListCardLockupContainer);
  NestedModelImpressionsRecording.stopRecordingNestedImpressions(using:)();
  uint64_t v4 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer);
  if (v4)
  {
    id v5 = v4;
    NestedModelImpressionsRecording.stopRecordingNestedImpressions(using:)();
  }
}

uint64_t sub_10037E9F0(uint64_t a1, unint64_t a2, unsigned __int8 a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  v58[1] = a5;
  uint64_t v10 = type metadata accessor for TodayCard.Style();
  uint64_t v11 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  uint64_t v61 = (char *)v58 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = *(void *)(v5 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView);
  uint64_t v59 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  uint64_t v60 = v13;
  uint64_t v14 = (id *)(v5 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverView);
  if ((*(unsigned char *)(*(void *)(v13 + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView)
                 + OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia) & 1) != 0)
  {
    swift_beginAccess();
    if (*v14)
    {
      id v15 = *v14;
      uint64_t v16 = dispatch thunk of RiverView.dataSource.getter();

      swift_beginAccess();
      *(void *)(v16 + 32) = _swiftEmptyArrayStorage;
      swift_release();
      swift_bridgeObjectRelease();
    }
    uint64_t v17 = (void **)(v6 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverBackgroundView);
    swift_beginAccess();
    uint64_t v18 = (char *)*v17;
    if (*v17)
    {
      char v19 = (uint64_t *)&v18[OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_colors];
      swift_beginAccess();
      uint64_t v20 = *v19;
      *char v19 = (uint64_t)_swiftEmptyArrayStorage;
      objc_super v21 = v18;
LABEL_11:
      sub_1004C8F98(v20);

      swift_bridgeObjectRelease();
    }
  }
  else
  {
    swift_beginAccess();
    if (*v14)
    {
      id v22 = *v14;
      uint64_t v23 = dispatch thunk of RiverView.dataSource.getter();

      v58[0] = TodayCardMediaList.lockups.getter();
      swift_beginAccess();
      *(void *)(v23 + 32) = v58[0];
      swift_release();
      swift_bridgeObjectRelease();
      if (*v14)
      {
        id v24 = *v14;
        uint64_t v25 = dispatch thunk of RiverView.dataSource.getter();

        type metadata accessor for ArtworkLoader();
        *(void *)(v25 + 16) = inject(_:from:)();
        swift_release();
        swift_release();
      }
    }
    double v26 = (id *)(v6 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverBackgroundView);
    swift_beginAccess();
    if (*v26)
    {
      objc_super v21 = (char *)*v26;
      unint64_t v27 = TodayCardMediaList.lockups.getter();
      double v28 = sub_10037CD64(v27);
      v58[0] = v6;
      uint64_t v29 = v10;
      unint64_t v30 = a2;
      uint64_t v31 = v28;
      swift_bridgeObjectRelease();
      id v32 = (uint64_t *)&v21[OBJC_IVAR____TtC8AppStore28RiverTodayCardBackgroundView_colors];
      swift_beginAccess();
      uint64_t v20 = *v32;
      *id v32 = (uint64_t)v31;
      a2 = v30;
      uint64_t v10 = v29;
      uint64_t v6 = v58[0];
      goto LABEL_11;
    }
  }
  id v33 = (void **)(v6 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView);
  uint64_t result = swift_beginAccess();
  int v35 = *v33;
  if (!*v33) {
    goto LABEL_22;
  }
  if (*(unsigned char *)(*(void *)(v60 + v59) + OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia) != 1)
  {
    if (*(unsigned char *)(v6 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded)) {
      uint64_t v38 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    }
    else {
      uint64_t v38 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    uint64_t v36 = (uint64_t)v61;
    if (*(unsigned char *)(v6 + *v38) != 6) {
      goto LABEL_15;
    }
LABEL_20:
    (*(void (**)(uint64_t, void, uint64_t))(v11 + 104))(v36, enum case for TodayCard.Style.dark(_:), v10);
    id v39 = v35;
    goto LABEL_21;
  }
  uint64_t v36 = (uint64_t)v61;
  if (*(unsigned char *)(v6 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_isMediaDark)) {
    goto LABEL_20;
  }
LABEL_15:
  id v37 = v35;
  TodayCard.style.getter();
  uint64_t v36 = (uint64_t)v61;
LABEL_21:
  sub_10005E0B4((char *)v35, a1, a2, v36, a3);

  uint64_t result = (*(uint64_t (**)(uint64_t, uint64_t))(v11 + 8))(v36, v10);
LABEL_22:
  if (*(unsigned char *)(v6 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded)) {
    return result;
  }
  unint64_t v40 = TodayCardMediaList.lockups.getter();
  unint64_t v41 = v40;
  uint64_t v42 = v40 >> 62;
  if (!(v40 >> 62))
  {
    if (*(uint64_t *)((v40 & 0xFFFFFFFFFFFFFF8) + 0x10) >= 6) {
      uint64_t v43 = 6;
    }
    else {
      uint64_t v43 = *(void *)((v40 & 0xFFFFFFFFFFFFFF8) + 0x10);
    }
    if ((v40 & 0xC000000000000001) == 0) {
      goto LABEL_31;
    }
    goto LABEL_28;
  }
  swift_bridgeObjectRetain();
  uint64_t v47 = _CocoaArrayWrapper.endIndex.getter();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRetain();
  uint64_t v46 = _CocoaArrayWrapper.endIndex.getter();
  swift_bridgeObjectRelease();
  if (v46 < 0)
  {
    __break(1u);
    goto LABEL_48;
  }
  if (v47 >= 6) {
    uint64_t v56 = 6;
  }
  else {
    uint64_t v56 = v47;
  }
  if (v47 >= 0) {
    uint64_t v43 = v56;
  }
  else {
    uint64_t v43 = 6;
  }
  swift_bridgeObjectRetain();
  uint64_t v57 = _CocoaArrayWrapper.endIndex.getter();
  swift_bridgeObjectRelease();
  if (v57 < v43) {
    __break(1u);
  }
  if ((v41 & 0xC000000000000001) != 0)
  {
LABEL_28:
    if (v43)
    {
      type metadata accessor for Lockup();
      Swift::Int v44 = 0;
      do
      {
        Swift::Int v45 = v44 + 1;
        _ArrayBuffer._typeCheckSlowPath(_:)(v44);
        Swift::Int v44 = v45;
      }
      while (v43 != v45);
    }
  }
LABEL_31:
  if (v42)
  {
    swift_bridgeObjectRetain();
    uint64_t v47 = _CocoaArrayWrapper.subscript.getter();
    uint64_t v42 = v48;
    uint64_t v46 = v49;
    a2 = v50;
    swift_bridgeObjectRelease_n();
    if (a2) {
      goto LABEL_36;
    }
  }
  else
  {
    uint64_t v46 = 0;
    uint64_t v47 = v41 & 0xFFFFFFFFFFFFFF8;
    uint64_t v42 = (v41 & 0xFFFFFFFFFFFFFF8) + 32;
    a2 = (2 * v43) | 1;
    if (a2)
    {
LABEL_36:
      type metadata accessor for __ContiguousArrayStorageBase();
      swift_unknownObjectRetain_n();
      objc_super v52 = (void *)swift_dynamicCastClass();
      if (!v52)
      {
        swift_unknownObjectRelease();
        objc_super v52 = _swiftEmptyArrayStorage;
      }
      uint64_t v53 = v52[2];
      swift_release();
      if (!__OFSUB__(a2 >> 1, v46))
      {
        if (v53 == (a2 >> 1) - v46)
        {
          uint64_t v51 = (void *)swift_dynamicCastClass();
          if (!v51)
          {
            swift_unknownObjectRelease();
            uint64_t v51 = _swiftEmptyArrayStorage;
          }
          goto LABEL_42;
        }
        goto LABEL_49;
      }
LABEL_48:
      __break(1u);
LABEL_49:
      swift_unknownObjectRelease();
    }
  }
  uint64_t v51 = sub_100616BA0(v47, v42, v46, a2);
LABEL_42:
  swift_unknownObjectRelease();
  uint64_t v54 = *(void **)(v6 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer);
  if (v54)
  {
    type metadata accessor for ArtworkLoader();
    id v55 = v54;
    inject(_:from:)();
    sub_1003B1498((uint64_t)v51);

    swift_release();
  }
  return swift_release();
}

void sub_10037F0F8(void *a1, uint64_t a2, char a3)
{
  uint64_t v4 = v3;
  swift_getObjectType();
  int v8 = a3 & 1;
  uint64_t v9 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v9 - 8);
  uint64_t v11 = (char *)&v44 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10050D68C((uint64_t)a1, a2, a3 & 1);
  uint64_t v12 = swift_dynamicCastClass();
  if (v12)
  {
    uint64_t v13 = (char *)v12;
    *(void *)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_todayCard] = *(void *)(v12 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_todayCard);
    id v45 = a1;
    swift_retain();
    swift_release();
    Swift::Int v44 = *(char **)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
    uint64_t v14 = *(void **)&v44[OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView];
    id v15 = *(char **)&v13[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
    uint64_t v16 = *(void **)&v15[OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView];
    uint64_t v17 = (uint64_t)&v4[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_pageGrid];
    swift_beginAccess();
    sub_100082B68(v17, (uint64_t)v11, (uint64_t *)&unk_100983860);
    if (v4[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
      uint64_t v18 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    }
    else {
      uint64_t v18 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    unsigned int v19 = v4[*v18];
    id v20 = v14;
    objc_super v21 = v16;
    sub_10070B0EC(v21, v8, (uint64_t)v11, v19);

    sub_100082BCC((uint64_t)v11, (uint64_t *)&unk_100983860);
    if (v8)
    {
      sub_10037F530(v13);
    }
    else
    {
      id v22 = (id *)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverView];
      swift_beginAccess();
      if (*v22)
      {
        id v23 = *v22;
        dispatch thunk of RiverView.isAnimating.setter();
      }
      swift_unknownObjectWeakAssign();
      id v24 = *(id *)&v13[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_labelsView];
      sub_10057B000(v24);

      uint64_t v25 = (char *)*(id *)&v13[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer];
      sub_1003B1548(v25);

      [v15 frame];
      double v26 = v44;
      [v44 setFrame:];
      [v26 setHidden:[v15 isHidden]];
      unint64_t v27 = *(char **)&v15[OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_gradientBlurView];
      uint64_t v28 = *(void *)&v27[OBJC_IVAR____TtC8AppStore28TodayCardProtectionLayerView_style];
      uint64_t v29 = *(void *)&v27[OBJC_IVAR____TtC8AppStore28TodayCardProtectionLayerView_style + 8];
      uint64_t v30 = *(void *)&v27[OBJC_IVAR____TtC8AppStore28TodayCardProtectionLayerView_blurUserInterfaceStyle];
      swift_bridgeObjectRetain();
      swift_bridgeObjectRetain();
      id v31 = [v27 isHidden];
      id v32 = *(char **)&v26[OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_gradientBlurView];
      swift_bridgeObjectRetain();
      swift_bridgeObjectRetain();
      sub_10001159C(v28, v29);
      uint64_t v33 = 1;
      if (v30 == 2) {
        uint64_t v33 = 2;
      }
      *(void *)&v32[OBJC_IVAR____TtC8AppStore28TodayCardProtectionLayerView_blurUserInterfaceStyle] = v33;
      sub_10000C8E8();
      [v32 setHidden:v31];
      swift_bridgeObjectRelease();
      swift_bridgeObjectRelease();
      [v26 setNeedsLayout];
      int v34 = (void **)&v13[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView];
      swift_beginAccess();
      int v35 = *v34;
      if (*v34)
      {
        uint64_t v36 = (void **)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView];
        swift_beginAccess();
        id v37 = *v36;
        if (v37)
        {
          uint64_t v38 = v35;
          id v39 = v37;
          sub_10057B000(v38);
        }
      }
      unint64_t v40 = *(void **)&v13[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer];
      if (v40)
      {
        unint64_t v41 = *(void **)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer];
        if (v41)
        {
          uint64_t v42 = v40;
          id v43 = v41;
          sub_1003B1548(v42);
        }
      }
      sub_10004C91C();
    }
    [v4 setNeedsLayout];
  }
}

char *sub_10037F530(char *result)
{
  if ((*(unsigned char *)(*(void *)(*(void *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView]
                             + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView)
                 + OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia) & 1) == 0)
  {
    if (v1[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
      uint64_t v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
    }
    else {
      uint64_t v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
    }
    if (v1[*v2] == 6)
    {
      uint64_t v3 = result;
      uint64_t KeyPath = swift_getKeyPath();
      id v5 = [v1 contentView];
      uint64_t v6 = swift_getKeyPath();
      id v7 = [v3 contentView];
      sub_1003814EC(v1, KeyPath, v5, v3, v6, v7);
      swift_release();

      swift_release();
      uint64_t v8 = swift_getKeyPath();
      id v9 = [v1 contentView];
      uint64_t v10 = swift_getKeyPath();
      id v11 = [v3 contentView];
      sub_100381330(v1, v8, v9, v3, v10, v11);
      swift_release();

      swift_release();
      uint64_t v12 = swift_getKeyPath();
      uint64_t v13 = (void **)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverContainerView];
      swift_beginAccess();
      uint64_t v14 = *v13;
      uint64_t v15 = swift_getKeyPath();
      uint64_t v16 = (id *)&v3[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_riverContainerView];
      swift_beginAccess();
      id v17 = *v16;
      id v18 = *v16;
      id v19 = v14;
      sub_1003814EC(v1, v12, v14, v3, v15, v17);
      swift_release();

      swift_release();
      uint64_t v20 = swift_getKeyPath();
      id v21 = [v1 contentView];
      uint64_t v22 = swift_getKeyPath();
      id v23 = *v16;
      id v24 = v23;
      sub_1003814EC(v1, v20, v21, v3, v22, v23);
      swift_release();

      swift_release();
      [v3 setNeedsLayout];
      return (char *)[v1 setNeedsLayout];
    }
  }
  return result;
}

void sub_10037F86C()
{
  sub_100578E9C();
  uint64_t v1 = (id *)(v0 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_topLabelsView);
  swift_beginAccess();
  if (*v1)
  {
    id v2 = *v1;
    sub_100578E9C();
  }
}

uint64_t sub_10037F8DC(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for PageGrid();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v19 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for TodayCard();
  sub_10002D074((unint64_t *)&qword_10098B840, (void (*)(uint64_t))&type metadata accessor for TodayCard);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v22)
  {
    TodayCard.media.getter();
    swift_release();
    type metadata accessor for TodayCardMediaList();
    uint64_t v8 = swift_dynamicCastClass();
    if (v8)
    {
      id v9 = (void *)v8;
      unint64_t v10 = TodayCardMediaList.lockups.getter();
      uint64_t v20 = a2;
      sub_1003B1C70(v10);
      swift_bridgeObjectRelease();
      type metadata accessor for TodayPageSectionGridTracker();
      type metadata accessor for BaseObjectGraph();
      inject<A, B>(_:from:)();
      HIDWORD(v19) = sub_10008533C();
      uint64_t v22 = v9;
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      id v11 = v21;
      uint64_t v12 = TodayCardMediaWithArtwork.prefetchableArtwork(for:)();

      if (v12)
      {
        uint64_t v13 = TodayCardMediaList.artworkLayoutsWithMetrics.getter();
        if (v13)
        {
          uint64_t v14 = v13;
          swift_getKeyPath();
          ItemLayoutContext.subscript.getter();
          swift_release();
          swift_getKeyPath();
          ItemLayoutContext.subscript.getter();
          swift_release();
          uint64_t v15 = v22;
          uint64_t v16 = sub_10070BCA4(v12, v14, SHIDWORD(v19), (uint64_t)v6, v22);
          swift_bridgeObjectRelease();

          (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
          sub_100082C28(&qword_100982B50);
          uint64_t v17 = swift_allocObject();
          *(_OWORD *)(v17 + 16) = xmmword_1007BEA80;
          *(void *)(v17 + 32) = v16;
          uint64_t v22 = (void *)v17;
          specialized Array._endMutation()();
          v18._rawValue = v22;
          swift_retain();
          ArtworkLoader.prefetchArtwork(using:)(v18);
          swift_release();
          swift_release();
          swift_release();
          swift_release();
          return swift_bridgeObjectRelease();
        }
        swift_release();
      }
      swift_release();
    }
    return swift_release();
  }
  return result;
}

void sub_10037FC20()
{
  id v1 = objc_retain(*(id *)(*(void *)(v0 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView)
                         + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView));
  sub_10070B20C();
}

uint64_t sub_10037FD0C()
{
  id v1 = v0;
  id v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  if (!v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    id v2 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  if ((v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded] & 1) == 0
    && v0[*v2] == 6
    && (uint64_t v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_trailingLockupContainer]) != 0)
  {
    sub_100082C28(&qword_100982B50);
    unint64_t inited = swift_initStackObject();
    *(_OWORD *)(inited + 16) = xmmword_1007BEA80;
    id v5 = v3;
    *(void *)(inited + 32) = [v1 contentView];
    specialized Array._endMutation()();
    id v6 = [v5 subviews];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    unint64_t v7 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    sub_10008C62C(v7);
    uint64_t v8 = sub_100308BFC(inited);
    swift_bridgeObjectRelease();
  }
  else
  {
    sub_100082C28(&qword_100982B50);
    unint64_t v9 = swift_initStackObject();
    *(_OWORD *)(v9 + 16) = xmmword_1007BEA80;
    *(void *)(v9 + 32) = [v1 contentView];
    specialized Array._endMutation()();
    id v10 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer] subviews];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    unint64_t v11 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    sub_10008C62C(v11);
    uint64_t v8 = sub_100308BFC(v9);
    swift_bridgeObjectRelease();
  }
  return v8;
}

uint64_t sub_10037FFCC()
{
  swift_release();

  sub_100082BCC(v0 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_cardStyle, &qword_100986FE0);

  return swift_unknownObjectWeakDestroy();
}

uint64_t sub_100380188()
{
  return type metadata accessor for ListTodayCardCollectionViewCell();
}

void sub_100380190(void *a1)
{
  id v2 = *(void **)(*(void *)(v1 + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView)
                + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  swift_unknownObjectWeakAssign();
  id v4 = v2;
  sub_100008670(Strong);
}

uint64_t (*sub_10038023C(uint64_t **a1))()
{
  id v2 = (uint64_t *)malloc(0x28uLL);
  *a1 = v2;
  v2[4] = (uint64_t)sub_10037D724(v2);
  return sub_100090DB4;
}

uint64_t sub_100380294(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v5 = sub_10002D074(&qword_100992828, (void (*)(uint64_t))type metadata accessor for ListTodayCardCollectionViewCell);

  return VideoViewProviding.someVideoView.setter(a1, a2, ObjectType, v5);
}

uint64_t (*sub_100380320(void *a1))()
{
  swift_getObjectType();
  id v2 = malloc(0x28uLL);
  *a1 = v2;
  sub_10002D074(&qword_100992828, (void (*)(uint64_t))type metadata accessor for ListTodayCardCollectionViewCell);
  v2[4] = VideoViewProviding.someVideoView.modify();
  return sub_100090DB4;
}

void sub_1003803F0(uint64_t a1, char a2, double a3)
{
  uint64_t v7 = type metadata accessor for CornerStyle();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  id v10 = (char *)&v16 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_10070AEB4(a1, a3);
  if ((a2 & 0xC) != 0)
  {
    (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v10, a1, v7);
    int v11 = (*(uint64_t (**)(char *, uint64_t))(v8 + 88))(v10, v7);
    if (v11 == enum case for CornerStyle.continuous(_:))
    {
      [v3 _setContinuousCornerRadius:a3];
    }
    else
    {
      int v13 = v11;
      int v14 = enum case for CornerStyle.arc(_:);
      [v3 _setCornerRadius:a3];
      if (v13 != v14) {
        (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
      }
    }
    id v15 = [v3 layer];
    [v15 setMaskedCorners:UIRectCorner.caCornerMask.getter()];
  }
  else
  {
    id v17 = [v3 layer];
    [v17 setMaskedCorners:UIRectCorner.caCornerMask.getter()];
    id v12 = v17;
  }
}

id sub_100380668()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for HeaderView();
  [super dealloc];
}

uint64_t sub_1003806EC(uint64_t a1)
{
  uint64_t result = sub_10002D074(&qword_10098CDB0, (void (*)(uint64_t))type metadata accessor for ListTodayCardCollectionViewCell);
  *(void *)(a1 + 8) = result;
  return result;
}

id sub_100380744()
{
  return sub_100380810();
}

uint64_t sub_100380770()
{
  return sub_10002D074(&qword_10098BC50, (void (*)(uint64_t))type metadata accessor for TodayCardVideoView);
}

uint64_t sub_1003807B8(uint64_t a1)
{
  uint64_t result = sub_10002D074(&qword_100992828, (void (*)(uint64_t))type metadata accessor for ListTodayCardCollectionViewCell);
  *(void *)(a1 + 8) = result;
  return result;
}

id sub_100380810()
{
  return [v0 setFrame:];
}

double sub_100380820(uint64_t a1, void *a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v4 - 8);
  id v6 = (char *)&v17 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for PageGrid();
  uint64_t v8 = *(void *)(v7 - 8);
  (*(void (**)(char *, uint64_t, uint64_t))(v8 + 16))(v6, a1, v7);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v8 + 56))(v6, 0, 1, v7);
  sub_10050F4E4((uint64_t)v6, a2);
  sub_100082BCC((uint64_t)v6, (uint64_t *)&unk_100983860);
  if (UITraitCollection.isSizeClassRegular.getter())
  {
    if (qword_10097FC50 != -1) {
      swift_once();
    }
    uint64_t v9 = type metadata accessor for StaticDimension();
    sub_100087728(v9, (uint64_t)qword_1009E5DF0);
    type metadata accessor for TraitEnvironmentPlaceholder();
    sub_100082C28(&qword_100982B50);
    uint64_t v10 = swift_allocObject();
    *(_OWORD *)(v10 + 16) = xmmword_1007BEA80;
    *(void *)(v10 + 32) = a2;
    id v11 = a2;
    id v12 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
    dispatch thunk of AnyDimension.rawValue(in:)();
    double v14 = v13;
  }
  else
  {
    PageGrid.safeAreaInsets.getter();
    double v14 = v15;
  }
  return v14 + 20.0;
}

uint64_t sub_100380A2C(uint64_t a1, uint64_t a2, int a3, uint64_t a4, uint64_t a5)
{
  id v6 = v5;
  uint64_t v37 = a4;
  uint64_t v38 = a5;
  int v36 = a3;
  uint64_t v35 = a2;
  uint64_t v8 = type metadata accessor for VideoControls();
  __chkstk_darwin(v8 - 8);
  __chkstk_darwin(v9);
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v10 - 8);
  id v12 = (char *)&v33 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for VideoFillMode();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v16 = (char *)&v33 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = type metadata accessor for VideoConfiguration();
  uint64_t v33 = *(void *)(v17 - 8);
  uint64_t v34 = v17;
  __n128 v18 = __chkstk_darwin(v17);
  uint64_t v20 = (char *)&v33 - ((v19 + 15) & 0xFFFFFFFFFFFFFFF0);
  (*(void (**)(char *, void, uint64_t, __n128))(v14 + 104))(v16, enum case for VideoFillMode.scaleAspectFill(_:), v13, v18);
  Video.preview.getter();
  Artwork.size.getter();
  AspectRatio.init(_:_:)();
  swift_release();
  uint64_t v21 = type metadata accessor for AspectRatio();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v21 - 8) + 56))(v12, 0, 1, v21);
  Video.playbackControls.getter();
  Video.autoPlayPlaybackControls.getter();
  Video.canPlayFullScreen.getter();
  Video.allowsAutoPlay.getter();
  Video.looping.getter();
  VideoConfiguration.init(fillMode:aspectRatio:playbackControls:autoPlayPlaybackControls:canPlayFullScreen:allowsAutoPlay:looping:roundedCorners:deviceCornerRadiusFactor:)();
  uint64_t v22 = Video.preview.getter();
  id v23 = [v6 traitCollection];
  uint64_t v24 = v35;
  unsigned int v25 = v36;
  uint64_t v26 = v37;
  uint64_t v27 = sub_10070BCA4(v22, v35, v36, v37, v23);
  swift_release();

  uint64_t v28 = *(void *)&v6[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
  uint64_t v29 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  id v30 = *(id *)(v28 + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
  sub_10070C3CC(a1, v24, (uint64_t)v20, v27, v26, v25, v38);

  LOBYTE(v6) = v6[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory];
  id v31 = *(id *)(v28 + v29);
  sub_10001A474((char)v6);
  swift_release();

  return (*(uint64_t (**)(char *, uint64_t))(v33 + 8))(v20, v34);
}

void sub_100380E0C(uint64_t a1, uint64_t a2, unsigned int a3, uint64_t a4)
{
  uint64_t v5 = v4;
  id v10 = [v4 traitCollection];
  uint64_t v19 = sub_10070BCA4(a1, a2, a3, a4, v10);

  uint64_t v11 = *(void *)&v4[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
  uint64_t v12 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  uint64_t v13 = *(void **)(v11 + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
  type metadata accessor for ArtworkLoader();
  type metadata accessor for BaseObjectGraph();
  uint64_t v14 = v13;
  inject<A, B>(_:from:)();
  uint64_t v15 = *(void **)&v14[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingVideoView];
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  swift_unknownObjectWeakAssign();
  sub_100008670(Strong);

  uint64_t v17 = *(void **)&v14[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_revealingImageView];
  sub_10021170C(v19, a2, a4, a3, v21);
  [v17 setHidden:0];
  [v15 setHidden:1];
  swift_release();
  v14[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia] = 1;

  LOBYTE(v5) = v5[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory];
  id v18 = *(id *)(v11 + v12);
  sub_10001A474((char)v5);
  swift_release();
}

unsigned char *sub_100380FF0()
{
  uint64_t v1 = v0;
  uint64_t v2 = *(void *)&v0[OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_headerView];
  uint64_t v3 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  uint64_t result = *(unsigned char **)(v2 + OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView);
  if (result[OBJC_IVAR____TtC8AppStore18StoryCardMediaView_hasMedia] != 1) {
    return v0;
  }
  if (v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
    uint64_t v5 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory;
  }
  else {
    uint64_t v5 = &OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory;
  }
  if (v0[*v5] != 6)
  {
    id v6 = [v0 traitCollection];
    char v7 = UITraitCollection.prefersAccessibilityLayouts.getter();

    uint64_t result = v1;
    if ((v7 & 1) == 0) {
      return *(unsigned char **)(v2 + v3);
    }
  }
  return result;
}

double sub_1003810C4(uint64_t a1, void *a2)
{
  uint64_t v4 = type metadata accessor for PageGrid();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  char v7 = (char *)&v16 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_100983860);
  __chkstk_darwin(v8 - 8);
  id v10 = (char *)&v16 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __n128 v12 = __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v16 - v13;
  (*(void (**)(char *, uint64_t, uint64_t, __n128))(v5 + 16))((char *)&v16 - v13, a1, v4, v12);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v5 + 56))(v14, 0, 1, v4);
  sub_100082B68((uint64_t)v14, (uint64_t)v10, (uint64_t *)&unk_100983860);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v5 + 48))(v10, 1, v4) == 1)
  {
    sub_100082BCC((uint64_t)v10, (uint64_t *)&unk_100983860);
  }
  else
  {
    (*(void (**)(char *, char *, uint64_t))(v5 + 32))(v7, v10, v4);
    PageGrid.horizontalDirectionalMargins.getter();
    PageGrid.horizontalDirectionalMargins.getter();
    [a2 layoutDirection];
    NSDirectionalEdgeInsets.insetsWithLayoutDirection(_:)();
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  }
  sub_100082BCC((uint64_t)v14, (uint64_t *)&unk_100983860);
  return 20.0;
}

void sub_100381330(void *a1, uint64_t a2, void *a3, void *a4, uint64_t a5, void *a6)
{
  id v26 = a4;
  id v23 = a4;
  char v7 = (void (*)(void *, void))swift_readAtKeyPath();
  id v9 = *v8;
  id v10 = *v8;
  v7(v25, 0);

  [v10 removeFromSuperview];
  id v26 = a1;
  id v11 = a1;
  __n128 v12 = (void (*)(void *, void))swift_readAtKeyPath();
  id v14 = *v13;
  id v15 = *v13;
  v12(v25, 0);

  [v15 removeFromSuperview];
  if (v9)
  {
    v25[0] = v11;
    id v26 = v9;
    id v16 = v10;
    id v17 = v11;
    swift_setAtReferenceWritableKeyPath();

    [a3 addSubview:v16];
  }
  if (v14)
  {
    v25[0] = v23;
    id v26 = v14;
    id v18 = v15;
    id v19 = v23;
    id v20 = v18;
    swift_setAtReferenceWritableKeyPath();

    if (a6)
    {
      id v21 = v20;
      [a6 addSubview:v21];
    }
  }
}

void sub_1003814EC(void *a1, uint64_t a2, void *a3, void *a4, uint64_t a5, void *a6)
{
  id v26 = a4;
  id v22 = a4;
  char v7 = (void (*)(void *, void))swift_readAtKeyPath();
  id v9 = *v8;
  id v10 = *v8;
  v7(v25, 0);

  if (v9) {
    [v10 removeFromSuperview];
  }
  id v26 = a1;
  id v11 = a1;
  __n128 v12 = (void (*)(void *, void))swift_readAtKeyPath();
  id v14 = *v13;
  id v15 = *v13;
  v12(v25, 0);

  if (v14) {
    [v15 removeFromSuperview];
  }
  if (v9)
  {
    v25[0] = v11;
    id v26 = v9;
    id v16 = v10;
    id v17 = v11;
    swift_setAtReferenceWritableKeyPath();

    if (a3) {
      [a3 addSubview:v16];
    }
  }
  if (v14)
  {
    v25[0] = v22;
    id v26 = v14;
    id v18 = v15;
    id v19 = v22;
    id v20 = v18;
    swift_setAtReferenceWritableKeyPath();

    if (a6)
    {
      id v21 = v20;
      [a6 addSubview:v21];
    }
  }
}

void sub_1003816B4()
{
  uint64_t v1 = v0;
  uint64_t v2 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_mediaView;
  type metadata accessor for StoryCardMediaView();
  *(void *)&v1[v2] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  uint64_t v3 = OBJC_IVAR____TtC8AppStoreP33_50FB26AE35933B3A04EC44A4A275C3B010HeaderView_gradientBlurView;
  if (qword_10097E630 != -1) {
    swift_once();
  }
  objc_allocWithZone((Class)type metadata accessor for TodayCardProtectionLayerView());
  uint64_t v4 = swift_bridgeObjectRetain();
  *(void *)&v1[v3] = sub_100058758(v4);

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_1003817B0()
{
  return _swift_deallocObject(v0, 24, 7);
}

id sub_1003817E8()
{
  return [*(id *)(*(void *)(v0 + 16) + OBJC_IVAR____TtC8AppStore31ListTodayCardCollectionViewCell_lockupContainer) layoutIfNeeded];
}

uint64_t sub_100381804()
{
  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100381814(uint64_t a1)
{
  return a1;
}

uint64_t sub_100381868(uint64_t a1)
{
  return a1;
}

unint64_t sub_1003818BC()
{
  sub_100082C28((uint64_t *)&unk_100986D50);
  uint64_t inited = swift_initStackObject();
  *(_OWORD *)(inited + 16) = xmmword_1007BF710;
  *(void *)(inited + 32) = NSFontAttributeName;
  uint64_t v2 = *(void **)v0;
  uint64_t v3 = sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  *(void *)(inited + 40) = v2;
  *(void *)(inited + 64) = v3;
  *(void *)(inited + 72) = NSParagraphStyleAttributeName;
  uint64_t v4 = *(void **)(v0 + 16);
  uint64_t v5 = sub_100084CF0(0, &qword_100983C78);
  *(void *)(inited + 80) = v4;
  *(void *)(inited + 104) = v5;
  *(void *)(inited + 112) = NSBaselineOffsetAttributeName;
  double v6 = *(double *)(v0 + 8);
  id v7 = objc_allocWithZone((Class)NSNumber);
  uint64_t v8 = NSFontAttributeName;
  id v9 = v2;
  id v10 = NSParagraphStyleAttributeName;
  id v11 = v4;
  __n128 v12 = NSBaselineOffsetAttributeName;
  id v13 = [v7 initWithDouble:v6];
  *(void *)(inited + 144) = sub_100084CF0(0, (unint64_t *)&qword_10098FAF0);
  *(void *)(inited + 120) = v13;
  return sub_10005A234(inited);
}

double sub_100381A04()
{
  return 15.0;
}

char *sub_100381A18(double a1, double a2, double a3, double a4)
{
  uint64_t v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v11 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v11 - 8);
  id v13 = (char *)&v30 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v14 = &v5[qword_1009E32C8];
  uint64_t v15 = type metadata accessor for TodayCard.Style();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v15 - 8) + 56))(v14, 1, 1, v15);
  *(void *)&v5[qword_1009E32D0] = 0;
  *(void *)&v5[qword_1009E32D8] = 0;
  id v16 = &v5[qword_100992848];
  id v17 = self;
  id v18 = v5;
  id v19 = [v17 systemFontOfSize:43.0 weight:UIFontWeightHeavy];
  id v20 = [objc_allocWithZone((Class)NSMutableParagraphStyle) init];
  [v20 setMinimumLineHeight:35.99];
  [v20 setMaximumLineHeight:36.0];
  *(void *)id v16 = v19;
  *((void *)v16 + 1) = 0xC01C000000000000;
  *((void *)v16 + 2) = v20;
  *(_OWORD *)(v16 + 24) = xmmword_1007D3180;
  *((void *)v16 + 5) = 0x405D800000000000;
  v18[qword_100992850] = 0;
  *(void *)&v18[qword_100992858] = 0;

  v30.receiver = v18;
  v30.super_class = ObjectType;
  id v21 = [super initWithFrame:a1, a2, a3, a4];
  id v22 = *(void **)&v21[qword_1009E2458];
  uint64_t v23 = type metadata accessor for FontUseCase();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v13, 1, 1, v23);
  uint64_t v24 = v21;
  id v25 = v22;
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

  [*(id *)&v24[qword_1009E2450] setHidden:1];
  id v26 = [v24 contentView];
  id v27 = [v26 layer];

  [v27 setMaskedCorners:15];
  id v28 = [v24 contentView];
  [v28 _setContinuousCornerRadius:14.0];

  return v24;
}

char *sub_100381D4C(double a1, double a2, double a3, double a4)
{
  return sub_100381A18(a1, a2, a3, a4);
}

void sub_100381D70(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = qword_1009E32D0;
  id v16 = *(id *)&v1[qword_1009E32D0];
  if (v16)
  {
    if (a1)
    {
      type metadata accessor for ArtworkView();
      id v5 = v16;
      id v6 = a1;
      char v7 = static NSObject.== infix(_:_:)();

      if (v7) {
        goto LABEL_7;
      }
    }
    else
    {
      id v8 = v16;
    }
    [v16 removeFromSuperview];
LABEL_7:
  }
  id v9 = *(void **)&v2[v4];
  *(void *)&v2[v4] = a1;
  id v10 = a1;

  uint64_t v11 = *(void **)&v2[v4];
  if (!v11)
  {
LABEL_12:

    goto LABEL_15;
  }
  if (v16)
  {
    type metadata accessor for ArtworkView();
    id v12 = v16;
    id v16 = v11;
    char v13 = static NSObject.== infix(_:_:)();

    if (v13)
    {

      goto LABEL_12;
    }
  }
  else
  {
    id v14 = v11;
    id v12 = 0;
  }
  id v15 = [v2 contentView];
  [v15 setClipsToBounds:1];

  id v16 = [v2 contentView];
  [v16 insertSubview:v11 belowSubview:*(void *)&v2[qword_1009E2458]];

LABEL_15:
}

void sub_100381F1C(void *a1)
{
  uint64_t v2 = v1;
  uint64_t v4 = qword_1009E32D8;
  id v17 = *(id *)&v1[qword_1009E32D8];
  if (v17)
  {
    if (a1)
    {
      sub_100084CF0(0, (unint64_t *)&unk_1009932E0);
      id v5 = v17;
      id v6 = a1;
      char v7 = static NSObject.== infix(_:_:)();

      if (v7) {
        goto LABEL_7;
      }
    }
    else
    {
      id v8 = v17;
    }
    [v17 removeFromSuperview];
LABEL_7:
  }
  id v9 = *(void **)&v2[v4];
  *(void *)&v2[v4] = a1;
  id v10 = a1;

  uint64_t v11 = *(void **)&v2[v4];
  if (v11)
  {
    if (v17)
    {
      sub_100084CF0(0, (unint64_t *)&unk_1009932E0);
      id v12 = v17;
      id v17 = v11;
      char v13 = static NSObject.== infix(_:_:)();

      if (v13)
      {

        goto LABEL_12;
      }
    }
    else
    {
      id v14 = v11;
      id v12 = 0;
    }
    [v11 setClipsToBounds:1];
    if (v2[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded]) {
      double v15 = 0.0;
    }
    else {
      double v15 = 14.0;
    }
    id v16 = [v11 layer];
    [v16 setCornerRadius:v15];

    id v17 = [v2 contentView];
    [v17 insertSubview:v11 atIndex:0];

    goto LABEL_18;
  }
LABEL_12:

LABEL_18:
}

double sub_10038211C(CGFloat *a1)
{
  CGFloat v4 = *a1;
  double v3 = a1[1];
  CGFloat v6 = a1[2];
  double v5 = a1[3];
  v25.origin.CGFloat x = *a1;
  v25.origin.CGFloat y = v3;
  v25.size.CGFloat width = v6;
  v25.size.CGFloat height = v5;
  double Width = CGRectGetWidth(v25);
  v26.origin.CGFloat x = v4;
  v26.origin.CGFloat y = v3;
  v26.size.CGFloat width = v6;
  v26.size.CGFloat height = v5;
  CGFloat Height = CGRectGetHeight(v26);
  id v9 = *(void **)(v1 + qword_1009E2458);
  [v9 sizeThatFits:Width, Height];
  double v11 = v10;
  double v24 = v10;
  [v9 lastBaselineFromBottom];
  double v13 = v11 - v12;
  v27.origin.CGFloat x = v4;
  v27.origin.CGFloat y = v3;
  v27.size.CGFloat width = v6;
  v27.size.CGFloat height = v5;
  CGFloat v14 = CGRectGetMaxY(v27) - *(double *)(v1 + qword_100992848 + 24);
  [*(id *)(v1 + qword_100992848) pointSize];
  double v16 = v15 * 10.0 / 36.0;
  v28.origin.CGFloat x = v4;
  v28.origin.CGFloat y = v3;
  v28.size.CGFloat width = v6;
  v28.size.CGFloat height = v5;
  double MinX = CGRectGetMinX(v28);
  CGFloat v18 = v14 - v13 - v16;
  v29.origin.CGFloat x = v4;
  v29.origin.CGFloat y = v3;
  v29.size.CGFloat width = v6;
  v29.size.CGFloat height = v5;
  double v19 = CGRectGetWidth(v29);
  [v9 setFrame:MinX, v18, v19, v24 + v16 + v16];
  v30.origin.CGFloat x = MinX;
  v30.origin.CGFloat y = v18;
  v30.size.CGFloat width = v19;
  v30.size.CGFloat height = v24 + v16 + v16;
  double MaxY = CGRectGetMaxY(v30);
  [v9 lastBaselineFromBottom];
  double v22 = MaxY - v21;
  a1[1] = v3 + v22;
  double result = v5 - v22;
  a1[3] = result;
  return result;
}

void sub_1003822CC()
{
  uint64_t v1 = v0;
  uint64_t v2 = *(void **)&v0[qword_1009E32D0];
  if (v2)
  {
    id v3 = v2;
    *(_OWORD *)&v11.a = 0x3FF0000000000000uLL;
    v11.c = 0.0;
    v11.d = 1.0;
    *(_OWORD *)&v11.tCGFloat x = 0uLL;
    [v3 setTransform:&v11];
    [v1 bounds];
    CGRectGetMaxX(v12);
    [v1 bounds];
    CGRectGetMinY(v13);
    [v1 bounds];
    CGRect.withLayoutDirection(in:relativeTo:)();
    ArtworkView.frame.setter();
    id v4 = v3;
    id v5 = [v1 traitCollection];
    char v6 = UITraitCollection.prefersRightToLeftLayouts.getter();

    if (v6) {
      CGFloat v7 = 0.523598776;
    }
    else {
      CGFloat v7 = -0.523598776;
    }
    CGAffineTransformMakeRotation(&v11, v7);
    [v4 setTransform:&v11];
  }
  id v8 = *(void **)&v1[qword_1009E32D8];
  if (v8)
  {
    id v9 = v8;
    [v1 bounds];
    double Width = CGRectGetWidth(v14);
    [v1 bounds];
    [v9 setFrame:CGRectMake(0.0, 0.0, Width, CGRectGetMaxY(v15))];
  }
}

void sub_1003824A0()
{
  sub_10060E388();
  uint64_t v1 = *(unsigned char **)&v0[qword_1009E62B0];
  uint64_t v2 = OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded;
  v1[OBJC_IVAR____TtC8AppStore18RevealingImageView_isExpanded] = v0[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded];
  [v1 setNeedsLayout];
  double v3 = 14.0;
  if (v0[v2]) {
    double v3 = 0.0;
  }
  [v1 _setContinuousCornerRadius:v3];
  id v4 = *(void **)&v0[qword_100992858];
  if (v0[v2] == 1)
  {
    if (v4) {
      [v4 _setContinuousCornerRadius:0.0];
    }
    id v5 = *(void **)&v0[qword_1009E32D8];
    if (v5)
    {
      id v6 = [v5 layer];
      [v6 setCornerRadius:0.0];
    }
    id v9 = [v0 contentView];
    [v9 _setContinuousCornerRadius:0.0];
  }
  else
  {
    if (v4) {
      [v4 _setContinuousCornerRadius:14.0];
    }
    CGFloat v7 = *(void **)&v0[qword_1009E32D8];
    if (v7)
    {
      id v8 = [v7 layer];
      [v8 setCornerRadius:14.0];
    }
    id v9 = [v0 contentView];
    [v9 _setContinuousCornerRadius:14.0];
  }
}

void sub_100382648(uint64_t a1, char a2, uint64_t a3, void *a4)
{
  sub_100382684(a1, a2, a3, a4);
  sub_100381D70(0);
  sub_100384FC0(0);

  sub_100381F1C(0);
}

uint64_t sub_100382684(uint64_t a1, char a2, uint64_t a3, void *a4)
{
  sub_1003850B8(a1, a2, a3, a4);
  CGFloat v7 = *(void **)(v4 + qword_1009E62B0);
  type metadata accessor for RevealingImageView();
  sub_100385BAC(&qword_100992C78, (void (*)(uint64_t))type metadata accessor for RevealingImageView);
  id v5 = v7;
  AnyHashable.init<A>(_:)();
  swift_allocObject();
  swift_unknownObjectWeakInit();
  swift_retain();
  ArtworkLoader.fetchArtwork(using:forReason:closestMatch:handlerKey:completionHandler:)();
  swift_release();
  swift_release();
  sub_100082BCC((uint64_t)v8, &qword_100981560);
  return swift_release();
}

uint64_t sub_1003827B8()
{
  uint64_t v1 = v0;
  uint64_t v2 = sub_100082C28(&qword_10098E1E0);
  *(void *)&double v3 = __chkstk_darwin(v2 - 8).n128_u64[0];
  id v5 = (char *)&v30[-1] - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  [*(id *)(*(void *)(v0 + qword_1009E62B0) + OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView) setImage:0 v3];
  id v6 = *(char **)(v0 + qword_100992858);
  if (v6)
  {
    CGFloat v7 = *(void **)&v6[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image];
    *(void *)&v6[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image] = 0;
    id v8 = v6;

    sub_1005AE620();
  }
  else
  {
    type metadata accessor for BrandedAppTodayCardLargeIconBackgroundView();
    id v9 = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
    id v8 = (char *)v9;
    sub_100384FC0(v9);
  }
  id v10 = [objc_allocWithZone((Class)UIVisualEffectView) init];
  TodayCardMediaAppIcon.icon.getter();
  CGAffineTransform v11 = (void *)Artwork.backgroundColor.getter();
  swift_release();
  if (v11 && ([v11 _luminance], double v13 = v12, v11, v13 >= 0.54))
  {
    CGRect v14 = self;
    uint64_t v15 = v13 < 0.89;
  }
  else
  {
    CGRect v14 = self;
    uint64_t v15 = 2;
  }
  id v16 = [v14 effectWithBrightness:v15];
  sub_100082C28(&qword_100982B50);
  uint64_t v17 = swift_allocObject();
  *(_OWORD *)(v17 + 16) = xmmword_1007BEA80;
  *(void *)(v17 + 32) = v16;
  v30[0] = v17;
  specialized Array._endMutation()();
  sub_100084CF0(0, (unint64_t *)&qword_100991780);
  id v18 = v16;
  Class isa = Array._bridgeToObjectiveC()().super.isa;
  swift_bridgeObjectRelease();
  [v10 setBackgroundEffects:isa];

  id v20 = v10;
  sub_100381F1C(v10);
  double v21 = *(void **)(v1 + qword_1009E32D0);
  if (v21)
  {
    double v22 = *(void **)(v1 + qword_1009E32D0);
  }
  else
  {
    type metadata accessor for ArtworkView();
    double v22 = (void *)static ArtworkView.iconArtworkView.getter();
    double v21 = 0;
  }
  id v23 = v21;
  ArtworkView.image.setter();
  id v24 = v22;
  sub_100381D70(v22);
  TodayCardMediaAppIcon.icon.getter();
  Artwork.style.getter();
  swift_release();
  uint64_t v25 = type metadata accessor for Artwork.Style();
  (*(void (**)(char *, void, uint64_t, uint64_t))(*(void *)(v25 - 8) + 56))(v5, 0, 1, v25);
  uint64_t v26 = (uint64_t)&v8[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_style];
  swift_beginAccess();
  sub_1002DDB2C((uint64_t)v5, v26);
  swift_endAccess();
  [v8 setNeedsLayout];
  sub_100082BCC((uint64_t)v5, &qword_10098E1E0);
  TodayCardMediaAppIcon.icon.getter();
  Artwork.config(_:mode:prefersLayeredImage:)();
  swift_release();
  CGRect v29 = v8;
  type metadata accessor for BrandedAppTodayCardLargeIconBackgroundView();
  sub_100385BAC((unint64_t *)&unk_100992CA0, (void (*)(uint64_t))type metadata accessor for BrandedAppTodayCardLargeIconBackgroundView);
  CGRect v27 = v8;
  AnyHashable.init<A>(_:)();
  swift_allocObject();
  swift_unknownObjectWeakInit();
  swift_retain();
  ArtworkLoader.fetchArtwork(using:forReason:closestMatch:handlerKey:completionHandler:)();

  swift_release();
  swift_release();
  sub_100082BCC((uint64_t)v30, &qword_100981560);
  return swift_release();
}

void sub_100382C88(void *a1)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    id v3 = (id)Strong;
    uint64_t v4 = *(void **)(Strong + qword_100992858);
    if (v4)
    {
      id v5 = v4;

      id v6 = *(void **)&v5[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image];
      *(void *)&v5[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image] = a1;
      id v3 = a1;

      sub_1005AE620();
    }
  }
  swift_beginAccess();
  uint64_t v7 = swift_unknownObjectWeakLoadStrong();
  if (v7)
  {
    id v8 = (void *)v7;
    id v9 = *(void **)(v7 + qword_1009E32D0);
    if (v9)
    {
      id v10 = v9;

      id v11 = a1;
      id v8 = v10;
      ArtworkView.image.setter();
    }
  }
}

void sub_100382D88(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v5 = v4;
  uint64_t v10 = type metadata accessor for Locale();
  v44[0] = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  double v12 = (char *)v44 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = type metadata accessor for StringCharacteristics();
  uint64_t v14 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  id v16 = (char *)v44 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  v44[1] = a1;
  sub_10038314C(a1, a2, a3, a4);
  if ((v5[qword_100992850] & 1) == 0)
  {
    TodayCard.titleCharacteristics.getter();
    [v5 bounds];
    CGFloat v18 = v17;
    CGFloat v20 = v19;
    CGFloat v22 = v21;
    CGFloat v24 = v23;
    static Locale.storefront.getter();
    double v25 = sub_1003854EC(a2, (uint64_t)&v45, v18, v20, v22, v24);
    (*(void (**)(char *, uint64_t, double))(v44[0] + 8))(v12, v10, v25);
    (*(void (**)(char *, uint64_t))(v14 + 8))(v16, v13);
    uint64_t v26 = (void *)v45;
    CGRect v27 = (void *)v46;
    CGRect v28 = &v5[qword_100992848];
    CGRect v29 = *(void **)&v5[qword_100992848];
    CGRect v30 = *(void **)&v5[qword_100992848 + 16];
    long long v31 = v47;
    *((_OWORD *)v28 + 1) = v46;
    *((_OWORD *)v28 + 2) = v31;
    *(_OWORD *)CGRect v28 = v45;
    id v32 = v26;
    id v33 = v27;

    [v5 setNeedsLayout];
  }
  TodayCard.title.getter();
  if (v34)
  {
    uint64_t v35 = *(void **)&v5[qword_1009E2458];
    long long v36 = *(_OWORD *)&v5[qword_100992848 + 16];
    long long v48 = *(_OWORD *)&v5[qword_100992848];
    long long v49 = v36;
    long long v50 = *(_OWORD *)&v5[qword_100992848 + 32];
    uint64_t v37 = (void *)v36;
    id v38 = (id)v48;
    id v39 = v37;
    sub_1003818BC();

    id v40 = objc_allocWithZone((Class)NSAttributedString);
    NSString v41 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
    type metadata accessor for Key(0);
    sub_100385BAC((unint64_t *)&qword_100981180, type metadata accessor for Key);
    Class isa = Dictionary._bridgeToObjectiveC()().super.isa;
    swift_bridgeObjectRelease();
    id v43 = [v40 initWithString:v41 attributes:isa];

    [v35 setAttributedText:v43];
  }
  else
  {
    [*(id *)&v5[qword_1009E2458] setAttributedText:0];
  }
}

void sub_10038314C(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  id v5 = v4;
  uint64_t v10 = type metadata accessor for TodayCard.Style();
  uint64_t v68 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  id v67 = (char *)&v60 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = type metadata accessor for TodayCardMedia.TitleBackingGradient();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  uint64_t v61 = (char *)&v60 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v65 = sub_100082C28(&qword_100992C88);
  __chkstk_darwin(v65);
  uint64_t v66 = (uint64_t)&v60 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_100992C90);
  __chkstk_darwin(v16 - 8);
  uint64_t v62 = (uint64_t)&v60 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v18);
  uint64_t v70 = (uint64_t)&v60 - v19;
  __n128 v21 = __chkstk_darwin(v20);
  uint64_t v71 = (uint64_t)&v60 - v22;
  uint64_t v69 = a3;
  sub_10060B2C8(a1, a2, a3, a4, v21);
  uint64_t v72 = a1;
  uint64_t v23 = TodayCard.media.getter();
  type metadata accessor for TodayCardMediaBrandedSingleApp();
  uint64_t v24 = swift_dynamicCastClass();
  if (v24)
  {
    uint64_t v25 = v24;
    uint64_t v63 = v10;
    *((unsigned char *)v5 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell__sizeCategory) = a2;
    if ((*((unsigned char *)v5 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded) & 1) == 0
      || *((unsigned char *)v5 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory) == 7)
    {
      *((unsigned char *)v5 + OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_originalSizeCategory) = a2;
      if (a2 == 4)
      {
        uint64_t v26 = v13;
        uint64_t v27 = v12;
        uint64_t v28 = v23;
        id v29 = [v5 contentView];
        [v29 setClipsToBounds:1];

        uint64_t v23 = v28;
        uint64_t v12 = v27;
        uint64_t v13 = v26;
      }
      [v5 setNeedsLayout];
    }
    uint64_t v64 = v23;
    [v5 setNeedsLayout];
    type metadata accessor for ArtworkLoader();
    uint64_t v30 = inject(_:from:)();
    uint64_t v73 = v25;
    id v31 = [v5 traitCollection];
    uint64_t v32 = TodayCardMediaWithArtwork.artwork(for:)();

    if (v32)
    {
      id v33 = (void *)TodayCard.backgroundColor.getter();

      if (!v33)
      {
        uint64_t v34 = Artwork.backgroundColor.getter();
        if (v34)
        {
          uint64_t v35 = (void *)v34;
          id v36 = [v5 backgroundView];
          if (v36)
          {
            uint64_t v37 = v36;
            [v36 setBackgroundColor:v35];
          }
        }
      }
      id v38 = [v5 traitCollection];
      (*(void (**)(uint64_t, uint64_t, uint64_t, id, uint64_t))((swift_isaMask & *v5) + 0x368))(v32, a2, v69, v38, v30);
      swift_release();
    }
    else
    {
      (*(void (**)(uint64_t, uint64_t))((swift_isaMask & *v5) + 0x370))(v25, v30);
    }
    uint64_t v39 = v71;
    id v40 = [v5 traitCollection];
    char v41 = UITraitCollection.prefersRightToLeftLayouts.getter();

    if (v41)
    {
      TodayCardMedia.titleBackingGradient.getter();
      uint64_t v42 = v70;
      (*(void (**)(uint64_t, void, uint64_t))(v13 + 104))(v70, enum case for TodayCardMedia.TitleBackingGradient.rightToLeft(_:), v12);
      (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v13 + 56))(v42, 0, 1, v12);
      uint64_t v43 = v66;
      uint64_t v44 = v66 + *(int *)(v65 + 48);
      sub_100082B68(v39, v66, &qword_100992C90);
      sub_100082B68(v42, v44, &qword_100992C90);
      uint64_t v45 = v13;
      long long v46 = *(unsigned int (**)(uint64_t, uint64_t, uint64_t))(v13 + 48);
      if (v46(v43, 1, v12) == 1)
      {
        sub_100082BCC(v42, &qword_100992C90);
        sub_100082BCC(v39, &qword_100992C90);
        if (v46(v44, 1, v12) == 1)
        {
          sub_100082BCC(v43, &qword_100992C90);
          uint64_t v47 = v63;
LABEL_33:
          TodayCard.title.getter();
          BOOL v49 = v59 != 0;
          swift_bridgeObjectRelease();
          goto LABEL_27;
        }
      }
      else
      {
        uint64_t v48 = v62;
        sub_100082B68(v43, v62, &qword_100992C90);
        if (v46(v44, 1, v12) != 1)
        {
          uint64_t v54 = v45;
          id v55 = *(void (**)(char *, uint64_t, uint64_t))(v45 + 32);
          uint64_t v56 = v61;
          v55(v61, v44, v12);
          sub_100385BAC(&qword_100992C98, (void (*)(uint64_t))&type metadata accessor for TodayCardMedia.TitleBackingGradient);
          char v57 = dispatch thunk of static Equatable.== infix(_:_:)();
          uint64_t v58 = *(void (**)(char *, uint64_t))(v54 + 8);
          v58(v56, v12);
          sub_100082BCC(v70, &qword_100992C90);
          sub_100082BCC(v71, &qword_100992C90);
          v58((char *)v48, v12);
          sub_100082BCC(v43, &qword_100992C90);
          uint64_t v47 = v63;
          if ((v57 & 1) == 0)
          {
            BOOL v49 = 0;
            goto LABEL_27;
          }
          goto LABEL_33;
        }
        sub_100082BCC(v70, &qword_100992C90);
        sub_100082BCC(v39, &qword_100992C90);
        (*(void (**)(uint64_t, uint64_t))(v45 + 8))(v48, v12);
      }
      sub_100082BCC(v43, &qword_100992C88);
    }
    BOOL v49 = 0;
    uint64_t v47 = v63;
LABEL_27:
    id v50 = [self standardUserDefaults];
    char v51 = sub_10074AD30();

    if ((v51 & 1) != 0 || v49)
    {
      uint64_t v52 = (uint64_t)v67;
      TodayCard.style.getter();
      uint64_t v53 = (void *)sub_1003D89CC(v52);
      (*(void (**)(uint64_t, uint64_t))(v68 + 8))(v52, v47);
      sub_1003853B0(v53);
      swift_release();
      swift_release();
    }
    else
    {
      sub_1003853B0(0);
      swift_release();
      swift_release();
    }
    return;
  }

  swift_release();
}

void sub_1003839C8(void *a1, uint64_t a2, char a3)
{
  uint64_t v4 = v3;
  swift_getObjectType();
  uint64_t v8 = sub_100082C28(&qword_10098E1E0);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v51 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  sub_100383E14(a1, a2, a3 & 1);
  uint64_t v11 = swift_dynamicCastClass();
  if (v11 && (a3 & 1) == 0)
  {
    uint64_t v12 = v11;
    uint64_t v13 = *(void **)(v11 + qword_100992848);
    uint64_t v14 = *(void *)(v11 + qword_100992848 + 8);
    uint64_t v15 = *(void **)(v11 + qword_100992848 + 16);
    uint64_t v16 = *(void *)(v11 + qword_100992848 + 40);
    uint64_t v17 = &v4[qword_100992848];
    uint64_t v18 = *(void **)&v4[qword_100992848];
    uint64_t v19 = *(void **)&v4[qword_100992848 + 16];
    long long v20 = *(_OWORD *)(v11 + qword_100992848 + 24);
    *(void *)uint64_t v17 = v13;
    *((void *)v17 + 1) = v14;
    *((void *)v17 + 2) = v15;
    *(_OWORD *)(v17 + 24) = v20;
    *((void *)v17 + 5) = v16;
    id v21 = v13;
    id v22 = v15;
    id v23 = v21;
    id v24 = v22;
    id v52 = a1;

    [v4 setNeedsLayout];
    v4[qword_100992850] = 1;
    uint64_t v25 = *(void **)&v4[qword_1009E2458];
    id v26 = [*(id *)(v12 + qword_1009E2458) attributedText];
    [v25 setAttributedText:v26];

    uint64_t v27 = *(void **)(v12 + qword_100992858);
    if (v27)
    {
      type metadata accessor for BrandedAppTodayCardLargeIconBackgroundView();
      id v28 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());
      id v29 = v27;
      id v30 = [v28 init];
      id v31 = (char *)v30;
      sub_100384FC0(v30);
      uint64_t v32 = (uint64_t)&v29[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_style];
      swift_beginAccess();
      sub_100082B68(v32, (uint64_t)v10, &qword_10098E1E0);
      uint64_t v33 = (uint64_t)&v31[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_style];
      swift_beginAccess();
      sub_1002DDB2C((uint64_t)v10, v33);
      swift_endAccess();
      [v31 setNeedsLayout];
      sub_100082BCC((uint64_t)v10, &qword_10098E1E0);
      uint64_t v34 = *(void **)&v29[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image];
      uint64_t v35 = *(void **)&v31[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image];
      *(void *)&v31[OBJC_IVAR____TtC8AppStore42BrandedAppTodayCardLargeIconBackgroundView_image] = v34;
      id v36 = v34;

      sub_1005AE620();
      uint64_t v37 = *(void **)(v12 + qword_1009E32D8);
      if (v37)
      {
        id v38 = objc_allocWithZone((Class)UIVisualEffectView);
        id v39 = v37;
        id v40 = [v38 init];
        Class isa = (Class)[v39 backgroundEffects];
        if (!isa)
        {
          sub_100084CF0(0, (unint64_t *)&qword_100991780);
          static Array._unconditionallyBridgeFromObjectiveC(_:)();
          Class isa = Array._bridgeToObjectiveC()().super.isa;
          swift_bridgeObjectRelease();
        }
        [v40 setBackgroundEffects:isa];

        id v42 = v40;
        sub_100381F1C(v40);
      }
      uint64_t v43 = *(void **)(v12 + qword_1009E32D0);
      if (v43)
      {
        uint64_t v44 = *(void **)&v4[qword_1009E32D0];
        if (v44)
        {
          id v45 = v43;
          long long v46 = v44;
        }
        else
        {
          type metadata accessor for ArtworkView();
          id v48 = v43;
          long long v46 = (void *)static ArtworkView.iconArtworkView.getter();
        }
        id v49 = v44;
        ArtworkView.image.setter();
        id v50 = v46;
        sub_100381D70(v46);
        ArtworkView.image.getter();
        ArtworkView.image.setter();
      }
      else
      {
      }
    }
    else
    {
      id v47 = v52;
    }
  }
}

void sub_100383E14(void *a1, uint64_t a2, char a3)
{
  swift_getObjectType();
  uint64_t v6 = a3 & 1;
  sub_10060AF70(a1, a2, v6);
  if (!swift_dynamicCastClass()) {
    return;
  }
  sub_100082C28(&qword_100992C80);
  uint64_t v7 = swift_dynamicCastClass();
  if (!v7) {
    return;
  }
  uint64_t v8 = v7;
  uint64_t v9 = *(void **)(v7 + qword_10099CF20);
  if (v9)
  {
    id v10 = a1;
    id v11 = v9;
    id v12 = _s8AppStore29TodayCardTitleBackingGradientO4make4fromSo15CAGradientLayerCAG_tFZ_0(v11);
    sub_1003853B0(v12);

    uint64_t v13 = *(void **)(v3 + qword_10099CF20);
    if (v13)
    {
      id v14 = v13;
      [v14 setHidden:[v11 isHidden]];
    }
    if (v6) {
      goto LABEL_8;
    }
  }
  else
  {
    id v17 = a1;
    if (v6) {
      goto LABEL_8;
    }
  }
  uint64_t v15 = *(void *)(v3 + qword_1009E62B0);
  id v16 = [*(id *)(*(void *)(v8 + qword_1009E62B0) + OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView) image];
  [*(id *)(v15 + OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView) setImage:v16];

  sub_10038458C();
LABEL_8:
}

uint64_t sub_100383FC0(uint64_t a1, uint64_t a2)
{
  sub_1003858B4(a1, a2);
  type metadata accessor for TodayCard();
  sub_100385BAC((unint64_t *)&qword_10098B840, (void (*)(uint64_t))&type metadata accessor for TodayCard);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v7)
  {
    TodayCard.media.getter();
    swift_release();
    type metadata accessor for TodayCardMediaBrandedSingleApp();
    if (swift_dynamicCastClass()
      && (swift_getKeyPath(),
          ItemLayoutContext.subscript.getter(),
          swift_release(),
          uint64_t v3 = TodayCardMediaWithArtwork.artwork(for:)(),
          v6,
          swift_release(),
          !v3))
    {
      swift_retain();
      TodayCardMediaAppIcon.icon.getter();
      swift_release();
      uint64_t v4 = Artwork.config(_:mode:prefersLayeredImage:)();
      swift_release();
      sub_100082C28(&qword_100982B50);
      uint64_t v5 = swift_allocObject();
      *(_OWORD *)(v5 + 16) = xmmword_1007BEA80;
      *(void *)(v5 + 32) = v4;
      v8._rawValue = (void *)v5;
      specialized Array._endMutation()();
      swift_retain();
      ArtworkLoader.prefetchArtwork(using:)(v8);
      swift_release();
      swift_release();
      return swift_bridgeObjectRelease();
    }
    else
    {
      return swift_release();
    }
  }
  return result;
}

uint64_t sub_1003841A4(uint64_t a1)
{
  if (*(void *)(v1 + qword_1009E2468))
  {
    uint64_t v3 = *(void *)(v1 + qword_1009E2468 + 8);
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v5 = *(void (**)(uint64_t, uint64_t, uint64_t))(v3 + 128);
    swift_unknownObjectRetain();
    v5(a1, ObjectType, v3);
    swift_unknownObjectRelease();
  }
  uint64_t v6 = *(char **)(v1 + qword_1009E62B0);
  [*(id *)&v6[OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView] setImage:0];
  type metadata accessor for RevealingImageView();
  sub_100385BAC(&qword_100992C78, (void (*)(uint64_t))type metadata accessor for RevealingImageView);
  uint64_t v7 = v6;
  AnyHashable.init<A>(_:)();
  ArtworkLoader.forgetFetch(forHandlerKey:deprioritizingFetch:)();
  return sub_1000E2D1C((uint64_t)v9);
}

void sub_1003842E8(void *a1)
{
  v3.receiver = a1;
  v3.super_class = (Class)swift_getObjectType();
  id v1 = v3.receiver;
  [super prepareForReuse];
  sub_100381D70(0);
  id v2 = [v1 contentView];
  [v2 setClipsToBounds:0];
}

void sub_100384374()
{
  sub_100082BCC(v0 + qword_1009E32C8, &qword_100986FE0);

  id v1 = *(void **)(v0 + qword_100992848);
  id v2 = *(void **)(v0 + qword_100992858);
}

void sub_100384400(uint64_t a1)
{
  sub_100082BCC(a1 + qword_1009E32C8, &qword_100986FE0);

  id v2 = *(void **)(a1 + qword_100992848);
  objc_super v3 = *(void **)(a1 + qword_100992858);
}

uint64_t type metadata accessor for BrandedAppTodayCardCollectionViewCell()
{
  uint64_t result = qword_100992888;
  if (!qword_100992888) {
    return swift_getSingletonMetadata();
  }
  return result;
}

void sub_1003844DC()
{
  sub_1000072A8();
  if (v0 <= 0x3F) {
    swift_initClassMetadata2();
  }
}

void sub_10038458C()
{
  id v1 = [v0 backgroundView];
  if (v1)
  {
    id v2 = v1;
    [v1 bounds];
    double v4 = v3;
    double v6 = v5;
    double v8 = v7;
    [v2 bounds];
    double Width = CGRectGetWidth(v17);
    id v10 = [v2 subviews];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    unint64_t v11 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

    if (v11 >> 62)
    {
      swift_bridgeObjectRetain();
      uint64_t v12 = _CocoaArrayWrapper.endIndex.getter();
      swift_bridgeObjectRelease();
      if (v12) {
        goto LABEL_4;
      }
    }
    else
    {
      uint64_t v12 = *(void *)((v11 & 0xFFFFFFFFFFFFFF8) + 0x10);
      if (v12)
      {
LABEL_4:
        if (v12 < 1)
        {
          __break(1u);
          return;
        }
        for (uint64_t i = 0; i != v12; ++i)
        {
          if ((v11 & 0xC000000000000001) != 0) {
            id v14 = (id)specialized _ArrayBuffer._getElementSlowPath(_:)();
          }
          else {
            id v14 = *(id *)(v11 + 8 * i + 32);
          }
          uint64_t v15 = v14;
          [v14 setFrame:v4, v6, Width, v8];
        }
      }
    }
    swift_bridgeObjectRelease();
  }

  sub_100384728();
}

void sub_100384728()
{
  id v1 = v0;
  id v2 = *(void **)&v0[qword_10099CF20];
  if (v2)
  {
    uint64_t ObjectType = swift_getObjectType();
    id v4 = v2;
    id v5 = [v1 contentView];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v7 = v6;
    CGFloat v9 = v8;
    CGFloat v11 = v10;
    CGFloat v13 = v12;

    (*(void (**)(void))(ObjectType + 840))();
    v21.origin.CGFloat x = v7;
    v21.origin.CGFloat y = v9;
    v21.size.CGFloat width = v11;
    v21.size.CGFloat height = v13;
    CGRectGetMinX(v21);
    id v14 = *(void **)&v1[qword_1009E2458];
    [v14 frame];
    CGRectGetMinY(v22);
    v23.origin.CGFloat x = v7;
    v23.origin.CGFloat y = v9;
    v23.size.CGFloat width = v11;
    v23.size.CGFloat height = v13;
    CGRectGetWidth(v23);
    [v14 frame];
    CGRectGetHeight(v24);
    CGRect.adding(outsets:)();
    id v15 = v4;
    [v1 bounds];
    CGRect.withLayoutDirection(in:relativeTo:)();
    [v15 setFrame:];

    id v16 = *(void **)(*(void *)&v1[qword_1009E62B0] + OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView);
    id v19 = v15;
    id v17 = [v16 image];
    id v18 = v17;
    if (v17) {

    }
    [v19 setHidden:v18 == 0];
  }
}

uint64_t sub_100384988()
{
  return type metadata accessor for BrandedAppTodayCardCollectionViewCell();
}

void destroy for BrandedAppTodayCardLayoutMetrics(uint64_t a1)
{
  id v2 = *(void **)(a1 + 16);
}

uint64_t initializeWithCopy for BrandedAppTodayCardLayoutMetrics(uint64_t a1, uint64_t a2)
{
  double v3 = *(void **)a2;
  uint64_t v4 = *(void *)(a2 + 8);
  *(void *)a1 = *(void *)a2;
  *(void *)(a1 + 8) = v4;
  double v6 = *(void **)(a2 + 16);
  uint64_t v5 = *(void *)(a2 + 24);
  *(void *)(a1 + 16) = v6;
  *(void *)(a1 + 24) = v5;
  *(_OWORD *)(a1 + 32) = *(_OWORD *)(a2 + 32);
  id v7 = v3;
  id v8 = v6;
  return a1;
}

uint64_t assignWithCopy for BrandedAppTodayCardLayoutMetrics(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void **)a2;
  uint64_t v5 = *(void **)a1;
  *(void *)a1 = *(void *)a2;
  id v6 = v4;

  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  id v7 = *(void **)(a2 + 16);
  id v8 = *(void **)(a1 + 16);
  *(void *)(a1 + 16) = v7;
  id v9 = v7;

  *(void *)(a1 + 24) = *(void *)(a2 + 24);
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  return a1;
}

uint64_t assignWithTake for BrandedAppTodayCardLayoutMetrics(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = *(void **)a1;
  *(void *)a1 = *(void *)a2;

  *(void *)(a1 + 8) = *(void *)(a2 + 8);
  uint64_t v5 = *(void **)(a1 + 16);
  *(void *)(a1 + 16) = *(void *)(a2 + 16);

  *(_OWORD *)(a1 + 24) = *(_OWORD *)(a2 + 24);
  *(void *)(a1 + 40) = *(void *)(a2 + 40);
  return a1;
}

uint64_t getEnumTagSinglePayload for BrandedAppTodayCardLayoutMetrics(uint64_t *a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *((unsigned char *)a1 + 48)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  uint64_t v2 = *a1;
  if ((unint64_t)*a1 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for BrandedAppTodayCardLayoutMetrics(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(void *)(result + 40) = 0;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)uint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 48) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)uint64_t result = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 48) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for BrandedAppTodayCardLayoutMetrics()
{
  return &type metadata for BrandedAppTodayCardLayoutMetrics;
}

void sub_100384B8C(uint64_t a1)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    double v3 = (void *)Strong;
    uint64_t v4 = (char *)*(id *)(Strong + qword_1009E62B0);

    [*(id *)&v4[OBJC_IVAR____TtC8AppStore18RevealingImageView_imageView] setImage:a1];
  }
  swift_beginAccess();
  uint64_t v5 = swift_unknownObjectWeakLoadStrong();
  if (v5)
  {
    id v6 = (void *)v5;
    sub_10038458C();
  }
}

double sub_100384C4C(char a1, uint64_t a2, void *a3)
{
  UIContentSizeCategory v5 = (UIContentSizeCategory)type metadata accessor for AspectRatio();
  id v6 = (char **)*(v5 - 1);
  __chkstk_darwin(v5);
  id v8 = (NSString *)((char *)&v24 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0));
  static CGFloat.allColumns.getter();
  PageGrid.componentMeasuringSize(spanning:)();
  double v10 = v9;
  if (a1 == 6)
  {
    double v12 = floor(v9);
  }
  else
  {
    if (a1 == 5)
    {
      PageGrid.columnWidth.getter();
    }
    else
    {
      if (a1 == 4)
      {
        PageGrid.interColumnSpace.getter();
        double v12 = floor((v10 - v11) * 0.5);
        goto LABEL_9;
      }
      double v13 = sub_1006AFBF0(a1);
    }
    double v12 = v13;
  }
LABEL_9:
  if (UITraitCollection.isSizeClassCompact.getter())
  {
    if (v12 >= 300.0)
    {
      if (qword_10097FE48 != -1) {
        swift_once();
      }
      id v14 = qword_10099CEF0;
      goto LABEL_20;
    }
    if (qword_10097FE50 == -1)
    {
LABEL_12:
      id v14 = qword_10099CF08;
LABEL_20:
      uint64_t v18 = sub_100087728((uint64_t)v5, (uint64_t)v14);
      ((void (*)(NSString *, uint64_t, UIContentSizeCategory))v6[2])(v8, v18, v5);
      AspectRatio.height(fromWidth:)();
      ((void (*)(NSString *, UIContentSizeCategory))v6[1])(v8, v5);
      return v12;
    }
LABEL_29:
    swift_once();
    goto LABEL_12;
  }
  id v6 = &selRef_accessibilityShowsBadge;
  UIContentSizeCategory v5 = (UIContentSizeCategory)[a3 preferredContentSizeCategory];
  id v15 = UIContentSizeCategoryAccessibilityMedium;
  id v8 = UIContentSizeCategoryAccessibilityExtraLarge;
  if ((static UIContentSizeCategory.<= infix(_:_:)() & 1) == 0)
  {
    __break(1u);
LABEL_28:
    __break(1u);
    goto LABEL_29;
  }
  if (static UIContentSizeCategory.>= infix(_:_:)())
  {
    id v8 = v8;
    id v16 = v5;
    char v17 = static UIContentSizeCategory.<= infix(_:_:)();

    if (v17) {
      return v12;
    }
  }
  else
  {
  }
  id v19 = [a3 preferredContentSizeCategory];
  long long v20 = UIContentSizeCategoryAccessibilityExtraExtraLarge;
  UIContentSizeCategory v5 = UIContentSizeCategoryAccessibilityExtraExtraExtraLarge;
  if ((static UIContentSizeCategory.<= infix(_:_:)() & 1) == 0) {
    goto LABEL_28;
  }
  if (static UIContentSizeCategory.>= infix(_:_:)())
  {
    CGRect v21 = v5;
    id v22 = v19;
    static UIContentSizeCategory.<= infix(_:_:)();
  }
  else
  {
  }
  return v12;
}

void sub_100384FC0(void *a1)
{
  uint64_t v3 = qword_100992858;
  uint64_t v4 = *(void **)&v1[qword_100992858];
  if (v4)
  {
    [v4 removeFromSuperview];
    UIContentSizeCategory v5 = *(void **)&v1[v3];
  }
  else
  {
    UIContentSizeCategory v5 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v6 = a1;

  uint64_t v7 = *(void **)&v1[v3];
  if (v7)
  {
    int v8 = v1[OBJC_IVAR____TtC8AppStore31BaseTodayCardCollectionViewCell_isExpanded];
    id v9 = v7;
    double v10 = v9;
    double v11 = 14.0;
    if (v8) {
      double v11 = 0.0;
    }
    [v9 _setContinuousCornerRadius:v11];
    id v12 = [v1 backgroundView];
    [v12 addSubview:v10];
  }
}

uint64_t sub_1003850B8(uint64_t a1, char a2, uint64_t a3, void *a4)
{
  char v17 = a4;
  uint64_t v6 = type metadata accessor for Artwork.Format();
  __chkstk_darwin(v6 - 8);
  uint64_t v7 = type metadata accessor for Artwork.Crop();
  __chkstk_darwin(v7 - 8);
  uint64_t v8 = type metadata accessor for Artwork.URLTemplate();
  __chkstk_darwin(v8 - 8);
  uint64_t v9 = type metadata accessor for Artwork.Variant();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  id v12 = (char *)&v16 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v13 = [self mainScreen];
  [v13 scale];

  sub_100384C4C(a2, a3, v17);
  dispatch thunk of Artwork.bestVariant(prefersLayeredImage:)();
  Artwork.template.getter();
  JUScreenClassGetMain();
  JUScreenClassIsPhone();
  JUScreenClassGetMain();
  if (JUScreenClassIsPhone()) {
    static Artwork.Crop.fn.getter();
  }
  else {
    static Artwork.Crop.sourceSize.getter();
  }
  Artwork.Variant.format.getter();
  Artwork.Variant.quality.getter();
  type metadata accessor for ArtworkLoaderConfig();
  swift_allocObject();
  uint64_t v14 = ArtworkLoaderConfig.init(template:size:scale:crop:format:quality:useWideGamut:)();
  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  return v14;
}

void sub_1003853B0(void *a1)
{
  uint64_t v3 = qword_10099CF20;
  uint64_t v4 = *(void **)&v1[qword_10099CF20];
  if (v4)
  {
    [v4 removeFromSuperlayer];
    UIContentSizeCategory v5 = *(void **)&v1[v3];
  }
  else
  {
    UIContentSizeCategory v5 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v6 = a1;

  uint64_t v7 = *(void **)&v1[v3];
  if (v7)
  {
    id v11 = v7;
    id v8 = [v1 contentView];
    id v9 = [v8 layer];

    id v10 = [*(id *)&v1[qword_1009E2458] layer];
    [v9 insertSublayer:v11 below:v10];

    [v11 setHidden:1];
    [v1 setNeedsLayout];
  }
}

double sub_1003854EC@<D0>(char a1@<W1>, uint64_t a2@<X8>, CGFloat a3@<D0>, CGFloat a4@<D1>, CGFloat a5@<D2>, CGFloat a6@<D3>)
{
  uint64_t v12 = type metadata accessor for StringCharacteristics();
  uint64_t v13 = *(void *)(v12 - 8);
  __chkstk_darwin(v12);
  id v15 = (char *)&v41 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  static StringCharacteristics.legacyExtraTallCharacters.getter();
  sub_100385BAC(&qword_10098E1F8, (void (*)(uint64_t))&type metadata accessor for StringCharacteristics);
  char v16 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  char v17 = *(void (**)(char *, uint64_t))(v13 + 8);
  v17(v15, v12);
  static StringCharacteristics.accentedCharacters.getter();
  char v18 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  v17(v15, v12);
  static StringCharacteristics.longWords.getter();
  char v19 = dispatch thunk of SetAlgebra.isSuperset(of:)();
  v17(v15, v12);
  if ((v19 & 1) != 0
    && (a1 == 5
     || (v42.origin.CGFloat x = a3, v42.origin.y = a4, v42.size.width = a5, v42.size.height = a6, CGRectGetWidth(v42) <= 335.0)))
  {
    id v23 = [self currentDevice];
    id v24 = [v23 userInterfaceIdiom];

    id v25 = [self mainScreen];
    id v26 = [v25 fixedCoordinateSpace];

    [v26 bounds];
    CGFloat v28 = v27;
    CGFloat v30 = v29;
    CGFloat v32 = v31;
    CGFloat v34 = v33;
    swift_unknownObjectRelease();
    v43.origin.CGFloat x = v28;
    v43.origin.CGFloat y = v30;
    v43.size.CGFloat width = v32;
    v43.size.CGFloat height = v34;
    double Width = CGRectGetWidth(v43);
    BOOL v36 = v24 != (id)1 && Width > 320.0;
    double v37 = 36.0;
    if (v36) {
      double v22 = 36.0;
    }
    else {
      double v22 = 33.0;
    }
    if ((v18 & 1) == 0) {
      double v37 = 34.0;
    }
    if (v16) {
      double v21 = 44.0;
    }
    else {
      double v21 = v37;
    }
  }
  else
  {
    double v20 = 36.0;
    if (v18) {
      double v20 = 44.0;
    }
    if (v16) {
      double v21 = 52.0;
    }
    else {
      double v21 = v20;
    }
    double v22 = 43.0;
  }
  id v38 = [self systemFontOfSize:v22 weight:UIFontWeightHeavy];
  id v39 = [objc_allocWithZone((Class)NSMutableParagraphStyle) init];
  [v39 setMinimumLineHeight:v21 + -0.01];
  [v39 setMaximumLineHeight:v21];
  *(void *)a2 = v38;
  *(double *)(a2 + 8) = fmin(v21 - v22, 0.0);
  *(void *)(a2 + 16) = v39;
  double result = 29.0;
  *(_OWORD *)(a2 + 24) = xmmword_1007D3180;
  *(void *)(a2 + 40) = 0x405D800000000000;
  return result;
}

uint64_t sub_1003858B4(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = type metadata accessor for PageGrid();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  id v6 = (char *)&v16 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  type metadata accessor for TodayCard();
  sub_100385BAC((unint64_t *)&qword_10098B840, (void (*)(uint64_t))&type metadata accessor for TodayCard);
  uint64_t result = ItemLayoutContext.typedModel<A>(as:)();
  if (v19)
  {
    uint64_t v17 = a2;
    TodayCard.media.getter();
    type metadata accessor for TodayCardMediaBrandedSingleApp();
    uint64_t v8 = swift_dynamicCastClass();
    if (v8)
    {
      id v9 = (void *)v8;
      type metadata accessor for TodayPageSectionGridTracker();
      type metadata accessor for BaseObjectGraph();
      inject<A, B>(_:from:)();
      HIDWORD(v16) = sub_10008533C();
      char v19 = v9;
      swift_getKeyPath();
      ItemLayoutContext.subscript.getter();
      swift_release();
      id v10 = v18;
      uint64_t v11 = TodayCardMediaWithArtwork.artwork(for:)();

      if (v11)
      {
        swift_getKeyPath();
        ItemLayoutContext.subscript.getter();
        swift_release();
        swift_getKeyPath();
        ItemLayoutContext.subscript.getter();
        swift_release();
        uint64_t v12 = v19;
        uint64_t v13 = sub_1003850B8(v11, SBYTE4(v16), (uint64_t)v6, v19);

        (*(void (**)(char *, uint64_t))(v4 + 8))(v6, v3);
        sub_100082C28(&qword_100982B50);
        uint64_t v14 = swift_allocObject();
        *(_OWORD *)(v14 + 16) = xmmword_1007BEA80;
        *(void *)(v14 + 32) = v13;
        char v19 = (void *)v14;
        specialized Array._endMutation()();
        v15._rawValue = v19;
        swift_retain();
        ArtworkLoader.prefetchArtwork(using:)(v15);
        swift_release();
        swift_release();
        swift_bridgeObjectRelease();
      }
      swift_release();
      swift_release();
    }
    else
    {
      swift_release();
    }
    return swift_release();
  }
  return result;
}

uint64_t sub_100385BAC(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100385BF4()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

void sub_100385C2C(void *a1)
{
}

void sub_100385C34(uint64_t a1)
{
}

id sub_100385D88(uint64_t a1, uint64_t a2, uint64_t a3)
{
  *(void *)&v3[OBJC_IVAR____TtC8AppStore23CollectionTableViewCell_dataSource] = 0;
  swift_unknownObjectWeakInit();
  *(void *)&v3[OBJC_IVAR____TtC8AppStore23CollectionTableViewCell_collectionView] = 0;
  if (a3)
  {
    NSString v6 = String._bridgeToObjectiveC()();
    swift_bridgeObjectRelease();
  }
  else
  {
    NSString v6 = 0;
  }
  v9.receiver = v3;
  v9.super_class = (Class)type metadata accessor for CollectionTableViewCell();
  [super initWithStyle:a1 reuseIdentifier:v6];

  return v7;
}

id sub_100385EFC()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for CollectionTableViewCell();
  return [super dealloc];
}

uint64_t type metadata accessor for CollectionTableViewCell()
{
  return self;
}

void sub_100385FB0()
{
  sub_1000A1880();
  if (v0 <= 0x3F) {
    swift_initClassMetadata2();
  }
}

uint64_t sub_100386048@<X0>(uint64_t a1@<X8>)
{
  uint64_t v3 = v1 + qword_1009E32E0;
  swift_beginAccess();
  return sub_1000E70A0(v3, a1);
}

uint64_t sub_10038609C(uint64_t a1)
{
  uint64_t v3 = v1 + qword_1009E32E0;
  swift_beginAccess();
  sub_1000E7038(a1, v3);
  return swift_endAccess();
}

uint64_t (*sub_1003860F8())()
{
  return j__swift_endAccess;
}

uint64_t sub_100386154()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v2 = swift_isaMask & *v0;
  v4.receiver = v0;
  v4.super_class = ObjectType;
  [super prepareForReuse];
  return (*(uint64_t (**)(void))(*(void *)(v2 + 88) + 88))(*(void *)(v2 + 80));
}

uint64_t sub_1003861FC(uint64_t a1, uint64_t a2)
{
  return (*(uint64_t (**)(uint64_t, uint64_t, void))(*(void *)((swift_isaMask & *v2) + 0x58) + 96))(a1, a2, *(void *)((swift_isaMask & *v2) + 0x50));
}

uint64_t sub_100386278@<X0>(uint64_t a1@<X8>)
{
  uint64_t v2 = type metadata accessor for ComponentSeparator.Position();
  __n128 v3 = __chkstk_darwin(v2);
  (*(void (**)(char *, void, __n128))(v5 + 104))((char *)&v8 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0), enum case for ComponentSeparator.Position.bottom(_:), v3);
  ComponentSeparator.init(position:leadingInset:trailingInset:)();
  uint64_t v6 = type metadata accessor for ComponentSeparator();
  return (*(uint64_t (**)(uint64_t, void, uint64_t, uint64_t))(*(void *)(v6 - 8) + 56))(a1, 0, 1, v6);
}

uint64_t sub_100386388()
{
  return dispatch thunk of static ArtworkPrefetchingShelfComponentView.sizingForArtworkPrefetch(in:asPartOf:)();
}

uint64_t sub_1003863B4()
{
  return dispatch thunk of static ArtworkPrefetchingShelfComponentView.prefetchArtwork(for:with:asPartOf:)();
}

char *sub_1003863E0(double a1, double a2, double a3, double a4)
{
  uint64_t v5 = v4;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v11 = swift_isaMask & *(void *)v4;
  uint64_t v12 = &v5[qword_1009E32E0];
  uint64_t v13 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v13 - 8) + 56))(v12, 1, 1, v13);
  uint64_t v14 = qword_1009E32E8;
  uint64_t v15 = *(void *)(v11 + 80);
  uint64_t v16 = *(void *)(v11 + 88);
  uint64_t v17 = *(uint64_t (**)(uint64_t, uint64_t, double, double, double, double))(v16 + 72);
  char v18 = v5;
  *(void *)&v5[v14] = v17(v15, v16, 0.0, 0.0, 0.0, 0.0);

  v28.receiver = v18;
  v28.super_class = ObjectType;
  id v19 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  id v23 = (char *)v19;
  [v23 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  id v24 = [v23 contentView];
  [v24 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];

  id v25 = [v23 contentView];
  id v26 = *(id *)&v23[qword_1009E32E8];
  [v25 addSubview:v26];

  return v23;
}

char *sub_100386604(double a1, double a2, double a3, double a4)
{
  return sub_1003863E0(a1, a2, a3, a4);
}

void sub_100386628(uint64_t a1, uint64_t a2, void *a3)
{
  id v3 = a3;
  sub_100386A5C();
}

id sub_100386650()
{
  v3.receiver = v0;
  v3.super_class = (Class)swift_getObjectType();
  [super layoutSubviews];
  uint64_t v1 = *(void **)&v0[qword_1009E32E8];
  [v0 bounds];
  return [v1 setFrame:];
}

void sub_1003866BC(void *a1)
{
  id v1 = a1;
  sub_100386650();
}

uint64_t sub_100386704()
{
  return CustomLayoutView.sizeThatFits(_:)();
}

double sub_100386768(void *a1)
{
  id v1 = a1;
  sub_100386704();
  double v3 = v2;

  return v3;
}

void sub_1003867BC(void *a1)
{
  id v1 = a1;
  sub_100386154();
}

id sub_100386804(void *a1)
{
  id v1 = a1;
  double v2 = (void *)sub_100386848();

  return v2;
}

uint64_t sub_100386848()
{
  return (*(uint64_t (**)(void))(*(void *)((swift_isaMask & *v0) + 0x58) + 40))(*(void *)((swift_isaMask & *v0) + 0x50));
}

uint64_t sub_1003868C4()
{
  return dispatch thunk of static ExactHeightProviding.height(in:asPartOf:)();
}

uint64_t sub_1003868F0()
{
  return dispatch thunk of CellWithArtwork.fetch(artwork:on:)();
}

uint64_t sub_100386960()
{
  return dispatch thunk of CellWithArtwork.cancelArtworkFetch(on:deprioritizingFetch:)();
}

void sub_1003869D0(uint64_t a1)
{
  sub_1000A1D30(a1 + qword_1009E32E0);
  double v2 = *(void **)(a1 + qword_1009E32E8);
}

uint64_t type metadata accessor for SearchLinkCollectionViewCell()
{
  return sub_10001421C();
}

uint64_t sub_100386A40()
{
  return swift_getWitnessTable();
}

void sub_100386A5C()
{
  id v1 = v0;
  uint64_t v2 = swift_isaMask & *(void *)v0;
  double v3 = &v1[qword_1009E32E0];
  uint64_t v4 = type metadata accessor for ItemLayoutContext();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 56))(v3, 1, 1, v4);
  uint64_t v5 = qword_1009E32E8;
  *(void *)&v1[v5] = (*(uint64_t (**)(double, double, double, double))(*(void *)(v2 + 88) + 72))(0.0, 0.0, 0.0, 0.0);

  _assertionFailure(_:_:file:line:flags:)();
  __break(1u);
}

uint64_t sub_100386B84(uint64_t a1, char a2, uint64_t a3, uint64_t a4)
{
  TodayCard.media.getter();
  type metadata accessor for TodayCardMediaMediumLockupWithScreenshots();
  if (swift_dynamicCastClass())
  {
    id v9 = sub_100386F28();
    uint64_t v10 = TodayCardMediaMediumLockupWithScreenshots.mediumAdLockupWithScreenshotsBackground.getter();
    sub_100221BA0(v10, a4);

    swift_release();
    sub_10001DCC4(a1, a2, a3);
    [v4 setNeedsLayout];
  }

  return swift_release();
}

uint64_t sub_100386C64(uint64_t a1, uint64_t a2)
{
  return sub_10022306C(a1, a2);
}

void sub_100386CA4(uint64_t a1, uint64_t a2)
{
  sub_100082C6C(a1, (uint64_t)v5);
  sub_100082C28((uint64_t *)&unk_10098D100);
  type metadata accessor for TodayCard();
  if (swift_dynamicCast())
  {
    TodayCard.media.getter();
    swift_release();
    type metadata accessor for TodayCardMediaMediumLockupWithScreenshots();
    if (swift_dynamicCastClass())
    {
      id v3 = sub_100386F28();
      uint64_t v4 = TodayCardMediaMediumLockupWithScreenshots.mediumAdLockupWithScreenshotsBackground.getter();
      sub_1003879C4(v4, a2, (uint64_t)v3);
      swift_release();
      swift_release();
    }
    else
    {
      swift_release();
    }
  }
}

void sub_100386D90()
{
  unint64_t v0 = (char *)sub_100386F28();
  uint64_t v1 = *(void *)&v0[OBJC_IVAR____TtC8AppStore43MediumAdLockupWithScreenshotsBackgroundView_lockupView];
  uint64_t v2 = OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView;
  id v3 = *(id *)(v1 + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
  ArtworkView.image.setter();

  uint64_t v4 = *(void **)(v1 + v2);
  type metadata accessor for ArtworkView();
  sub_100112948();
  id v5 = v4;
  ArtworkLoader.forgetFetch<A>(forView:deprioritizingFetch:)();
}

void (*sub_100386E54(uint64_t a1))()
{
  uint64_t v2 = swift_allocObject();
  swift_unknownObjectWeakInit();
  sub_100082C6C(a1, (uint64_t)v7);
  uint64_t v3 = swift_allocObject();
  swift_weakInit();
  sub_100081DD4(v7, (uint64_t)v6);
  uint64_t v4 = swift_allocObject();
  *(void *)(v4 + 16) = v2;
  *(void *)(v4 + 24) = v3;
  sub_100081DD4(v6, v4 + 32);
  return sub_1003879B8;
}

id sub_100386F28()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell____lazy_storage___mediumAdLockupWithScreenshotsBackgroundView;
  uint64_t v2 = *(void **)(v0
                + OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell____lazy_storage___mediumAdLockupWithScreenshotsBackgroundView);
  if (v2)
  {
    id v3 = *(id *)(v0
               + OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell____lazy_storage___mediumAdLockupWithScreenshotsBackgroundView);
  }
  else
  {
    uint64_t v4 = v0;
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v6 = (void *)(*(uint64_t (**)(void))(ObjectType + 680))();
    id v7 = *(void **)(v0 + v1);
    *(void *)(v4 + v1) = v6;
    id v3 = v6;

    uint64_t v2 = 0;
  }
  id v8 = v2;
  return v3;
}

id sub_100386FA8(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = type metadata accessor for AutomationSemantics();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)v21 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v4[OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell____lazy_storage___mediumAdLockupWithScreenshotsBackgroundView] = 0;
  v4[OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell_isAnimationEnabled] = 1;
  uint64_t v13 = (objc_class *)type metadata accessor for MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell();
  v23.receiver = v4;
  v23.super_class = v13;
  id v14 = [super initWithFrame:a1, a2, a3, a4];
  id v15 = [v14 contentView];
  [v15 setClipsToBounds:1];

  id v16 = sub_100386F28();
  [v16 setClipsToBounds:1];

  id v17 = [v14 contentView];
  id v18 = sub_100386F28();
  [v17 addSubview:v18];

  memset(v22, 0, sizeof(v22));
  memset(v21, 0, sizeof(v21));
  id v19 = v14;
  static AutomationSemantics.shelfItemSubComponent(itemKind:id:parentId:)();
  sub_100082BCC((uint64_t)v21, (uint64_t *)&unk_100982B40);
  sub_100082BCC((uint64_t)v22, (uint64_t *)&unk_100982B40);
  UIView.setAutomationSemantics(_:)();

  (*(void (**)(char *, uint64_t))(v10 + 8))(v12, v9);
  return v19;
}

id sub_100387200()
{
  type metadata accessor for MediumAdLockupWithScreenshotsBackgroundView();
  id v0 = objc_allocWithZone((Class)swift_getObjCClassFromMetadata());

  return [v0 init];
}

double sub_1003872C0(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  type metadata accessor for MediumAdLockupWithScreenshotsBackgroundView();
  sub_100220030(a4, a5);
  return v7;
}

void sub_1003874CC(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t v4 = sub_100082C28(&qword_100985970);
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = &v14[-((v5 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  uint64_t v7 = type metadata accessor for ImpressionMetrics();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = &v14[-((v9 + 15) & 0xFFFFFFFFFFFFFFF0) - 8];
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v12 = (void *)Strong;
    swift_beginAccess();
    if (swift_weakLoadStrong())
    {
      sub_100082C6C(a3, (uint64_t)v14);
      sub_100082C28((uint64_t *)&unk_100983890);
      type metadata accessor for TodayCard();
      if (swift_dynamicCast())
      {
        TodayCard.media.getter();
        swift_release();
        TodayCardMedia.impressionMetrics.getter();
        if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v8 + 48))(v6, 1, v7) == 1)
        {
          swift_release();
          swift_release();

          sub_100082BCC((uint64_t)v6, &qword_100985970);
        }
        else
        {
          (*(void (**)(char *, char *, uint64_t))(v8 + 32))(v10, v6, v7);
          [v12 bounds];
          ImpressionsCalculator.addElement(_:at:)();

          swift_release();
          swift_release();
          (*(void (**)(char *, uint64_t))(v8 + 8))(v10, v7);
        }
      }
      else
      {

        swift_release();
      }
    }
    else
    {
    }
  }
}

void sub_100387754()
{
  objc_release(*(id *)(v0
                     + OBJC_IVAR____TtC8AppStore66MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell____lazy_storage___mediumAdLockupWithScreenshotsBackgroundView));
}

id sub_100387764()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell();
  [super dealloc];
}

uint64_t sub_1003877AC()
{
  return type metadata accessor for MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell();
}

uint64_t type metadata accessor for MediumAdLockupWithScreenshotsBackgroundTodayCardCollectionViewCell()
{
  uint64_t result = qword_100992DA8;
  if (!qword_100992DA8) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100387800()
{
  return swift_updateClassMetadata2();
}

void sub_10038784C(uint64_t a1, uint64_t a2)
{
  id v4 = sub_100386F28();
  sub_100783280(a1, a2);
}

uint64_t sub_1003878B8()
{
  uint64_t v0 = (char *)sub_100386F28();
  uint64_t v1 = *(unsigned __int8 *)(*(void *)&v0[OBJC_IVAR____TtC8AppStore43MediumAdLockupWithScreenshotsBackgroundView_lockupView]
                          + OBJC_IVAR____TtC8AppStore19TodayCardLockupView_isDisplayingSearchAd);

  return v1;
}

uint64_t sub_100387900()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100387938()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100387970()
{
  swift_release();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v0 + 32);

  return _swift_deallocObject(v0, 72, 7);
}

void sub_1003879B8()
{
  sub_1003874CC(*(void *)(v0 + 16), *(void *)(v0 + 24), v0 + 32);
}

uint64_t sub_1003879C4(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t ObjectType = swift_getObjectType();
  void v12[3] = type metadata accessor for MediumAdLockupWithScreenshotsBackground();
  v12[4] = &protocol witness table for MediumAdLockupWithScreenshotsBackground;
  v12[0] = a1;
  sub_100082C6C((uint64_t)v12, (uint64_t)&v11);
  swift_retain();
  sub_100082C28((uint64_t *)&unk_10098D100);
  if (swift_dynamicCast())
  {
    MediumAdLockupWithScreenshotsBackground.lockup.getter();
    uint64_t v6 = Lockup.icon.getter();
    uint64_t v7 = swift_release();
    if (v6)
    {
      (*(void (**)(uint64_t *__return_ptr, uint64_t))(ObjectType + 168))(&v11, v7);
      sub_100082D34((uint64_t)&v11);
      Artwork.config(_:mode:prefersLayeredImage:)();
      uint64_t v8 = *(void **)(*(void *)(a3 + OBJC_IVAR____TtC8AppStore43MediumAdLockupWithScreenshotsBackgroundView_lockupView)
                    + OBJC_IVAR____TtC8AppStore14BaseLockupView_artworkView);
      type metadata accessor for ArtworkView();
      sub_100112948();
      id v9 = v8;
      ArtworkLoader.fetchArtwork<A>(using:forReason:closestMatch:into:)();
      swift_release();
      swift_release();
      swift_release();
    }
    else
    {
      swift_release();
    }
  }
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v12);
}

uint64_t sub_100387B6C(uint64_t a1)
{
  return sub_100387BA0(a1, &qword_1009E3308, &qword_1009E3310, qword_1009E32F0);
}

uint64_t sub_100387B88(uint64_t a1)
{
  return sub_100387BA0(a1, &qword_1009E3330, &qword_1009E3338, qword_1009E3318);
}

uint64_t sub_100387BA0(uint64_t a1, uint64_t *a2, void *a3, uint64_t *a4)
{
  uint64_t v7 = type metadata accessor for FontSource();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v10 = (char *)&v16[-1] - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (qword_10097F5D0 != -1) {
    swift_once();
  }
  uint64_t v11 = type metadata accessor for FontUseCase();
  uint64_t v12 = sub_100087728(v11, (uint64_t)qword_1009E4BC8);
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v11 - 8) + 16))(v10, v12, v11);
  (*(void (**)(char *, void, uint64_t))(v8 + 104))(v10, enum case for FontSource.useCase(_:), v7);
  *a2 = type metadata accessor for StaticDimension();
  *a3 = &protocol witness table for StaticDimension;
  sub_1000808B8(a4);
  v16[3] = v7;
  v16[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v13 = sub_1000808B8(v16);
  (*(void (**)(uint64_t *, char *, uint64_t))(v8 + 16))(v13, v10, v7);
  StaticDimension.init(_:scaledLike:)();
  return (*(uint64_t (**)(char *, uint64_t))(v8 + 8))(v10, v7);
}

char *sub_100387D8C(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = type metadata accessor for FontUseCase();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v12 = (char *)&v29 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v13 = OBJC_IVAR____TtC8AppStore22SearchTransparencyView_linkedLabel;
  uint64_t v14 = qword_10097F5D0;
  id v15 = v4;
  if (v14 != -1) {
    swift_once();
  }
  uint64_t v16 = sub_100087728(v9, (uint64_t)qword_1009E4BC8);
  (*(void (**)(char *, uint64_t, uint64_t))(v10 + 16))(v12, v16, v9);
  id v17 = objc_allocWithZone((Class)type metadata accessor for DynamicTypeLinkedLabel());
  *(void *)&v15[v13] = sub_10034EA28((uint64_t)v12, 0, 0);

  id v18 = (objc_class *)type metadata accessor for SearchTransparencyView();
  v29.receiver = v15;
  v29.super_class = v18;
  id v19 = [super initWithFrame:a1, a2, a3, a4];
  uint64_t v20 = OBJC_IVAR____TtC8AppStore22SearchTransparencyView_linkedLabel;
  uint64_t v21 = *(void *)&v19[OBJC_IVAR____TtC8AppStore22SearchTransparencyView_linkedLabel];
  double v22 = v19;
  [v22 addSubview:v21];
  [v22 setLayoutMargins:0.0, 32.0, 0.0, 32.0];
  sub_10008E8A0();
  objc_super v23 = v22;
  id v24 = (void *)static UIColor.componentBackgroundStandout.getter();
  [v23 setBackgroundColor:v24];

  [v23 _setCornerRadius:10.0];
  id v25 = *(id *)&v19[v20];
  id v26 = (void *)static UIColor.secondaryText.getter();
  [v25 setTextColor:v26];

  id v27 = *(id *)&v19[v20];
  [v27 setTextAlignment:1];

  return v23;
}

id sub_1003881B0()
{
  v10.receiver = v0;
  v10.super_class = (Class)type metadata accessor for SearchTransparencyView();
  [super layoutSubviews];
  id v1 = *(id *)&v0[OBJC_IVAR____TtC8AppStore22SearchTransparencyView_linkedLabel];
  LayoutMarginsAware<>.layoutFrame.getter();
  [v1 measurementsWithFitting:v0 in:v2];
  double v5 = v4;
  double v7 = v6;

  LayoutMarginsAware<>.layoutFrame.getter();
  CGFloat v8 = CGRectGetMidX(v11) - v5 * 0.5;
  LayoutMarginsAware<>.layoutFrame.getter();
  return [v1 setFrame:CGRectMake(v8, CGRectGetMidY(v12) - v7 * 0.5, v5, v7)];
}

id sub_10038833C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for SearchTransparencyView();
  [super dealloc];
}

uint64_t type metadata accessor for SearchTransparencyView()
{
  return self;
}

uint64_t sub_1003883A4@<X0>(uint64_t a1@<X8>)
{
  return sub_1003883BC(&enum case for AppStoreInteractionType.adButtonGetArcade(_:), a1);
}

uint64_t sub_1003883B0@<X0>(uint64_t a1@<X8>)
{
  return sub_1003883BC(&enum case for AppStoreInteractionType.adButtonGet(_:), a1);
}

uint64_t sub_1003883BC@<X0>(unsigned int *a1@<X2>, uint64_t a2@<X8>)
{
  uint64_t v4 = type metadata accessor for LegacyAppState();
  uint64_t v5 = *(void *)(v4 - 8);
  __chkstk_darwin(v4);
  double v7 = (char *)&v25 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_getObjectType();
  dispatch thunk of AppStateMachine.currentState.getter();
  int v8 = (*(uint64_t (**)(char *, uint64_t))(v5 + 88))(v7, v4);
  if (v8 == enum case for LegacyAppState.updatable(_:))
  {
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    uint64_t v9 = (unsigned int *)&enum case for AppStoreInteractionType.adButtonUpdate(_:);
LABEL_11:
    uint64_t v13 = *v9;
    uint64_t v14 = type metadata accessor for AppStoreInteractionType();
    id v15 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v14 - 8) + 104);
    uint64_t v16 = a2;
    uint64_t v17 = v13;
    return v15(v16, v17, v14);
  }
  int v10 = v8;
  if (v8 == enum case for LegacyAppState.downloadable(_:))
  {
    (*(void (**)(char *, uint64_t))(v5 + 8))(v7, v4);
    uint64_t v9 = (unsigned int *)&enum case for AppStoreInteractionType.adButtonCloud(_:);
    goto LABEL_11;
  }
  if (v8 == enum case for LegacyAppState.downloading(_:) || v8 == enum case for LegacyAppState.installing(_:))
  {
    (*(void (**)(char *, uint64_t))(v5 + 96))(v7, v4);
    uint64_t v12 = type metadata accessor for LegacyAppState.AppInstallationDetails();
    (*(void (**)(char *, uint64_t))(*(void *)(v12 - 8) + 8))(v7, v12);
    uint64_t v9 = (unsigned int *)&enum case for AppStoreInteractionType.adButtonCancel(_:);
    goto LABEL_11;
  }
  if (v8 == enum case for LegacyAppState.openable(_:))
  {
    (*(void (**)(char *, uint64_t))(v5 + 96))(v7, v4);

    uint64_t v19 = enum case for AppStoreInteractionType.adButtonOpen(_:);
    uint64_t v20 = type metadata accessor for AppStoreInteractionType();
    (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v20 - 8) + 104))(a2, v19, v20);
    uint64_t v21 = type metadata accessor for OpenableDestination();
    return (*(uint64_t (**)(char *, uint64_t))(*(void *)(v21 - 8) + 8))(v7, v21);
  }
  int v22 = enum case for LegacyAppState.buyable(_:);
  int v23 = enum case for LegacyAppState.unknown(_:);
  uint64_t v14 = type metadata accessor for AppStoreInteractionType();
  id v15 = *(uint64_t (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v14 - 8) + 104);
  if (v10 != v22 && v10 != v23)
  {
    v15(a2, enum case for AppStoreInteractionType.unknown(_:), v14);
    return (*(uint64_t (**)(char *, uint64_t))(v5 + 8))(v7, v4);
  }
  uint64_t v17 = *a1;
  uint64_t v16 = a2;
  return v15(v16, v17, v14);
}

double sub_100388734(uint64_t *a1, double a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7)
{
  return sub_1003887F8(*a1, a2, a4, a6, a7);
}

id sub_100388748(uint64_t *a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5, void *a6)
{
  return sub_100389250(*a1, a2, a4, a5, a6);
}

uint64_t sub_10038875C(uint64_t a1, uint64_t a2, void *a3, uint64_t a4)
{
  return sub_1003896E4(a1, a3, a4);
}

uint64_t sub_100388768()
{
  return sub_10038969C(&qword_100994760, (void (*)(uint64_t))&type metadata accessor for Quote);
}

uint64_t sub_1003887B0()
{
  return sub_10038969C(&qword_1009A9C80, (void (*)(uint64_t))&type metadata accessor for NilState);
}

double sub_1003887F8(uint64_t a1, double a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v63 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v62 = *(void *)(v63 - 8);
  __chkstk_darwin(v63);
  uint64_t v60 = (char *)&v52 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v61 = type metadata accessor for AspectRatio();
  uint64_t v59 = *(void *)(v61 - 8);
  __chkstk_darwin(v61);
  uint64_t v66 = (char *)&v52 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = type metadata accessor for FontUseCase();
  uint64_t v67 = *(void *)(v10 - 8);
  __chkstk_darwin(v10);
  char v57 = (char *)&v52 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v12 = sub_100082C28(&qword_100984B10);
  *(void *)&double v13 = __chkstk_darwin(v12 - 8).n128_u64[0];
  id v15 = (char *)&v52 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  [a5 pageMarginInsets:v13];
  v16._object = (void *)0x8000000100804370;
  v16._uint64_t countAndFlagsBits = 0xD000000000000010;
  v17._uint64_t countAndFlagsBits = 0;
  v17._object = (void *)0xE000000000000000;
  Swift::String v18 = localizedString(_:comment:)(v16, v17);
  sub_1000EC7B8(v18._countAndFlagsBits, v18._object, (uint64_t)v72);
  swift_bridgeObjectRelease();
  [a5 pageMarginInsets];
  id v19 = [objc_allocWithZone((Class)type metadata accessor for QuotesLabel()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v20 = sub_1000EC9C8((uint64_t)v72);

  uint64_t v68 = a1;
  uint64_t v21 = Quote.text.getter();
  int v23 = v22;
  sub_100084CF0(0, (unint64_t *)&qword_100984D10);
  if (qword_10097DFF0 != -1) {
    swift_once();
  }
  uint64_t v24 = sub_100087728(v10, (uint64_t)qword_1009E0F48);
  uint64_t v25 = v10;
  id v26 = [a5 traitCollection];
  id v27 = (void *)static UIFont.preferredFont(forUseWith:compatibleWith:)();

  uint64_t v65 = v20;
  id v28 = sub_1000ECCF0(v73, v21, v23, v27, v20, -1, 0);
  sub_1000ED054((uint64_t)v72);
  swift_bridgeObjectRelease();

  uint64_t v29 = v67;
  uint64_t v56 = *(void (**)(char *, uint64_t, uint64_t))(v67 + 16);
  v56(v15, v24, v25);
  CGFloat v30 = *(void (**)(char *, void, uint64_t, uint64_t))(v29 + 56);
  uint64_t v58 = v25;
  uint64_t v31 = v25;
  CGFloat v32 = a5;
  v30(v15, 0, 1, v31);
  uint64_t v33 = type metadata accessor for Feature();
  uint64_t v70 = v33;
  uint64_t v34 = sub_10038969C((unint64_t *)&qword_100984AA0, (void (*)(uint64_t))&type metadata accessor for Feature);
  uint64_t v71 = v34;
  uint64_t v35 = sub_1000808B8(v69);
  uint64_t v36 = enum case for Feature.measurement_with_labelplaceholder(_:);
  uint64_t v37 = *(void *)(v33 - 8);
  id v55 = *(void (**)(uint64_t *, uint64_t, uint64_t))(v37 + 104);
  uint64_t v54 = v37 + 104;
  v55(v35, enum case for Feature.measurement_with_labelplaceholder(_:), v33);
  isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v69);
  id v64 = v28;
  static LabelPlaceholderCompatibility.measurements(attributedText:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
  sub_100082BCC((uint64_t)v15, &qword_100984B10);
  if (qword_10097E000 != -1) {
    swift_once();
  }
  uint64_t v38 = type metadata accessor for StaticDimension();
  sub_100087728(v38, (uint64_t)qword_1009E0F78);
  AnyDimension.topMargin(from:in:)();
  if (qword_10097E008 != -1) {
    swift_once();
  }
  sub_100087728(v38, (uint64_t)qword_1009E0F90);
  AnyDimension.bottomMargin(from:in:)();
  id v39 = [objc_allocWithZone((Class)NSStringDrawingContext) init];
  [v39 setMaximumNumberOfLines:0];
  Quote.credit.getter();
  uint64_t v40 = v67;
  if (v41)
  {
    id v52 = v32;
    uint64_t v42 = v36;
    uint64_t v43 = v34;
    id v53 = v39;
    if (qword_10097DFF8 != -1) {
      swift_once();
    }
    uint64_t v44 = v58;
    uint64_t v45 = sub_100087728(v58, (uint64_t)qword_1009E0F60);
    long long v46 = v57;
    v56(v57, v45, v44);
    uint64_t v70 = v33;
    uint64_t v71 = v43;
    id v47 = sub_1000808B8(v69);
    v55(v47, v42, v33);
    isFeatureEnabled(_:)();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v69);
    CGFloat v32 = v52;
    static LabelPlaceholderCompatibility.measurements(text:fontUseCase:textAlignment:lineBreakMode:lineSpacing:numberOfLines:isLanguageAware:fitting:in:shouldUseLabelPlaceholder:)();
    swift_bridgeObjectRelease();
    (*(void (**)(char *, uint64_t))(v40 + 8))(v46, v44);
    if (qword_10097E010 != -1) {
      swift_once();
    }
    sub_100087728(v38, (uint64_t)qword_1009E0FA8);
    AnyDimension.topMargin(from:in:)();
    id v48 = v66;
    id v49 = v65;
    if (qword_10097E018 != -1) {
      swift_once();
    }
    sub_100087728(v38, (uint64_t)qword_1009E0FC0);
    AnyDimension.bottomMargin(from:in:)();
    id v39 = v53;
  }
  else
  {
    id v48 = v66;
    id v49 = v65;
  }
  if (Quote.artwork.getter())
  {
    Artwork.size.getter();
    Artwork.size.getter();
    AspectRatio.init(_:_:)();
    if ((Quote.isFullWidthArtwork.getter() & 1) == 0)
    {
      [v32 pageMarginInsets:a2];
      [v32 pageMarginInsets];
    }
    AspectRatio.height(fromWidth:)();
    if (qword_10097E020 != -1) {
      swift_once();
    }
    sub_100087728(v38, (uint64_t)qword_1009E0FD8);
    id v50 = v60;
    static Dimensions.defaultRoundingRule.getter();
    AnyDimension.value(in:rounded:)();
    swift_release();

    (*(void (**)(char *, uint64_t))(v62 + 8))(v50, v63);
    (*(void (**)(char *, uint64_t))(v59 + 8))(v48, v61);
  }
  else
  {
  }
  return a2;
}

id sub_100389250(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, void *a5)
{
  uint64_t v6 = v5;
  uint64_t v8 = sub_100082C28((uint64_t *)&unk_1009856C0);
  __chkstk_darwin(v8 - 8);
  uint64_t v10 = (char *)&v40 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for AspectRatio();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v40 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v15 = *(unsigned char **)&v5[OBJC_IVAR____TtC8AppStore23QuoteCollectionViewCell_quoteView];
  uint64_t v16 = Quote.text.getter();
  sub_1000EA630(v16, v17);
  uint64_t v18 = Quote.credit.getter();
  sub_1000EAA84(v18, v19);
  char v20 = Quote.isFullWidthArtwork.getter();
  v15[OBJC_IVAR____TtC8AppStore9QuoteView_isFullWidthArtwork] = v20 & 1;
  v15[OBJC_IVAR____TtC8AppStore9QuoteView_artworkHasRoundedCorners] = (v20 & 1) == 0;
  sub_1000EAE6C();
  if (Quote.artwork.getter())
  {
    Artwork.size.getter();
    Artwork.size.getter();
    AspectRatio.init(_:_:)();
    (*(void (**)(char *, char *, uint64_t))(v12 + 16))(v10, v14, v11);
    (*(void (**)(char *, void, uint64_t, uint64_t))(v12 + 56))(v10, 0, 1, v11);
    uint64_t v21 = (uint64_t)&v15[OBJC_IVAR____TtC8AppStore9QuoteView_artworkAspectRatio];
    swift_beginAccess();
    sub_100389634((uint64_t)v10, v21);
    swift_endAccess();
    [*(id *)&v15[OBJC_IVAR____TtC8AppStore9QuoteView_artworkView] setHidden:0];
    [v15 setNeedsLayout];
    id v22 = [v6 contentView];
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    LayoutMarginsAware<>.layoutFrame.getter();
    CGFloat v24 = v23;
    CGFloat v26 = v25;
    CGFloat v28 = v27;
    CGFloat v30 = v29;

    v41.origin.CGFloat x = v24;
    v41.origin.CGFloat y = v26;
    v41.size.CGFloat width = v28;
    v41.size.CGFloat height = v30;
    CGFloat Width = CGRectGetWidth(v41);
    AspectRatio.height(fromWidth:)();
    uint64_t v33 = v32;
    swift_release();
    (*(void (**)(char *, uint64_t))(v12 + 8))(v14, v11);
    uint64_t v34 = (CGFloat *)&v6[OBJC_IVAR____TtC8AppStore23QuoteCollectionViewCell_preferredArtworkSize];
    *uint64_t v34 = Width;
    *((void *)v34 + 1) = v33;
  }
  else
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(v12 + 56))(v10, 1, 1, v11);
    uint64_t v35 = (uint64_t)&v15[OBJC_IVAR____TtC8AppStore9QuoteView_artworkAspectRatio];
    swift_beginAccess();
    sub_100389634((uint64_t)v10, v35);
    swift_endAccess();
    [*(id *)&v15[OBJC_IVAR____TtC8AppStore9QuoteView_artworkView] setHidden:1];
    [v15 setNeedsLayout];
    uint64_t v36 = &v6[OBJC_IVAR____TtC8AppStore23QuoteCollectionViewCell_preferredArtworkSize];
    *(void *)uint64_t v36 = 0;
    *((void *)v36 + 1) = 0;
  }
  [a5 pageMarginInsets];
  double v38 = v37;
  [a5 pageMarginInsets];
  return [v15 setLayoutMargins:0.0 v38:0.0];
}

uint64_t sub_100389634(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = sub_100082C28((uint64_t *)&unk_1009856C0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 40))(a2, a1, v4);
  return a2;
}

uint64_t sub_10038969C(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_1003896E4(uint64_t a1, void *a2, uint64_t a3)
{
  uint64_t v14 = a3;
  id v11 = a2;
  uint64_t v13 = type metadata accessor for AspectRatio();
  uint64_t v3 = *(void *)(v13 - 8);
  __chkstk_darwin(v13);
  uint64_t v5 = (char *)&v11 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = Shelf.items.getter();
  unint64_t v7 = *(void *)(v6 + 16);
  uint64_t v12 = (uint64_t (**)(char *, uint64_t))(v3 + 8);
  uint64_t result = swift_bridgeObjectRetain();
  unint64_t v9 = 0;
  while (1)
  {
    if (v9 == v7)
    {
      uint64_t v22 = 0;
      unint64_t v9 = v7;
      long long v20 = 0u;
      long long v21 = 0u;
      goto LABEL_9;
    }
    if (v9 >= *(void *)(v6 + 16)) {
      break;
    }
    sub_100082C6C(v6 + 32 + 40 * v9++, (uint64_t)&v20);
LABEL_9:
    sub_1001921A0((uint64_t)&v20, (uint64_t)&v18);
    if (!v19) {
      return swift_bridgeObjectRelease_n();
    }
    sub_100081DD4(&v18, (uint64_t)v17);
    sub_100082C6C((uint64_t)v17, (uint64_t)v15);
    sub_100082C28((uint64_t *)&unk_100983890);
    type metadata accessor for Quote();
    if (swift_dynamicCast())
    {
      uint64_t v10 = v16;
      uint64_t result = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
      if (v10)
      {
        if (Quote.artwork.getter())
        {
          Artwork.size.getter();
          Artwork.size.getter();
          AspectRatio.init(_:_:)();
          if ((Quote.isFullWidthArtwork.getter() & 1) == 0) {
            [v11 pageMarginInsets];
          }
          AspectRatio.height(fromWidth:)();
          Artwork.config(_:mode:prefersLayeredImage:)();
          uint64_t v22 = 0;
          long long v20 = 0u;
          long long v21 = 0u;
          ArtworkLoader.fetchArtwork(using:forReason:closestMatch:handlerKey:completionHandler:)();
          swift_release();
          swift_release();
          swift_release();
          sub_100082BCC((uint64_t)&v20, &qword_100981560);
          uint64_t result = (*v12)(v5, v13);
        }
        else
        {
          uint64_t result = swift_release();
        }
      }
    }
    else
    {
      uint64_t result = _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v17);
    }
  }
  __break(1u);
  return result;
}

uint64_t sub_1003899C0(void *a1)
{
  if (!a1) {
    return 0;
  }
  objc_super v2 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_screenshots);
  id v3 = [a1 superview];
  if (!v3) {
    return 0;
  }
  uint64_t v4 = v3;
  sub_10003A33C();
  id v5 = v2;
  id v6 = v4;
  char v7 = static NSObject.== infix(_:_:)();

  return v7 & 1;
}

char *sub_100389A50(double a1, double a2, double a3, double a4)
{
  uint64_t v9 = OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_lockupView;
  id v10 = objc_allocWithZone((Class)type metadata accessor for SmallSearchLockupView());
  id v11 = v4;
  *(void *)&v4[v9] = [v10 initWithFrame:0.0, 0.0, 0.0, 0.0];
  uint64_t v12 = OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_screenshots;
  *(void *)&v11[v12] = [objc_allocWithZone((Class)type metadata accessor for LockupMediaView()) init];
  *(void *)&v11[OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_preferredImageSizes] = _swiftEmptyDictionarySingleton;

  v23.receiver = v11;
  v23.super_class = (Class)type metadata accessor for ContentSearchResultCollectionViewCell();
  id v13 = [super initWithFrame:a1, a2, a3, a4];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  Swift::String v17 = (char *)v13;
  [v17 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  id v18 = [v17 contentView];
  [v18 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];

  id v19 = [v17 contentView];
  [v19 addSubview:*(void *)&v17[OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_lockupView]];

  id v20 = [v17 contentView];
  id v21 = *(id *)&v17[OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_screenshots];
  [v20 addSubview:v21];

  return v17;
}

id sub_100389D3C()
{
  uint64_t v1 = v0;
  v33.receiver = v0;
  v33.super_class = (Class)type metadata accessor for ContentSearchResultCollectionViewCell();
  [super layoutSubviews];
  id v2 = [v0 contentView];
  sub_10003A33C();
  LayoutMarginsAware<>.layoutFrame.getter();
  CGFloat v4 = v3;
  CGFloat v6 = v5;
  double v8 = v7;
  CGFloat v10 = v9;

  id v11 = *(char **)&v1[OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_lockupView];
  sub_100121C54();
  CGRect.withLayoutDirection(in:relativeTo:)();
  [v11 setFrame:];
  v34.origin.CGFloat x = v4;
  v34.origin.CGFloat y = v6;
  v34.size.CGFloat width = v8;
  v34.size.CGFloat height = v10;
  CGRectGetMinX(v34);
  [v11 frame];
  CGRectGetMaxY(v35);
  if (qword_10097FC20 != -1) {
    swift_once();
  }
  uint64_t v12 = type metadata accessor for StaticDimension();
  sub_100087728(v12, (uint64_t)qword_1009E5D60);
  id v13 = [v1 traitCollection];
  type metadata accessor for TraitEnvironmentPlaceholder();
  sub_100082C28(&qword_100982B50);
  uint64_t v14 = swift_allocObject();
  *(_OWORD *)(v14 + 16) = xmmword_1007BEA80;
  *(void *)(v14 + 32) = v13;
  id v15 = v13;
  uint64_t v16 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  dispatch thunk of AnyDimension.rawValue(in:)();

  uint64_t v18 = *(void *)&v11[OBJC_IVAR____TtC8AppStore14BaseLockupView_title];
  Swift::String v17 = *(NSString **)&v11[OBJC_IVAR____TtC8AppStore14BaseLockupView_title + 8];
  id v19 = *(void **)&v11[OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel];
  swift_bridgeObjectRetain();
  id v20 = [v19 text];
  if (v20)
  {
    id v21 = v20;
    uint64_t v22 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v24 = v23;
  }
  else
  {
    uint64_t v22 = 0;
    uint64_t v24 = 0;
  }
  id v25 = [*(id *)&v11[OBJC_IVAR____TtC8AppStore21SmallSearchLockupView_descriptionLabel] text];
  if (v25)
  {
    CGFloat v26 = v25;
    uint64_t v27 = static String._unconditionallyBridgeFromObjectiveC(_:)();
    uint64_t v29 = v28;
  }
  else
  {
    uint64_t v27 = 0;
    uint64_t v29 = 0;
  }
  id v30 = [v1 traitCollection];
  sub_10038A56C(v18, v17, v22, v24, v27, v29, v30, v8);
  swift_bridgeObjectRelease();

  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  uint64_t v31 = *(void **)&v1[OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_screenshots];
  [v1 bounds];
  CGRect.withLayoutDirection(in:relativeTo:)();
  return [v31 setFrame:];
}

id sub_10038A17C()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for ContentSearchResultCollectionViewCell();
  [super dealloc];
}

uint64_t type metadata accessor for ContentSearchResultCollectionViewCell()
{
  return self;
}

uint64_t sub_10038A230()
{
  return swift_unknownObjectWeakLoadStrong();
}

void sub_10038A250(void *a1)
{
  sub_1002278D8();
}

void (*sub_10038A29C(uint64_t *a1))(id *a1, char a2)
{
  a1[1] = *(void *)(v1 + OBJC_IVAR____TtC8AppStore37ContentSearchResultCollectionViewCell_screenshots);
  *a1 = swift_unknownObjectWeakLoadStrong();
  return sub_10022673C;
}

uint64_t sub_10038A300(uint64_t a1)
{
  uint64_t WitnessTable = swift_getWitnessTable();

  return VideoViewProviding.someVideoView.getter(a1, WitnessTable);
}

uint64_t sub_10038A354(uint64_t a1, uint64_t a2, uint64_t a3)
{
  uint64_t WitnessTable = swift_getWitnessTable();

  return VideoViewProviding.someVideoView.setter(a1, a2, a3, WitnessTable);
}

void (*sub_10038A3C0(void *a1))(void *a1)
{
  objc_super v2 = malloc(0x28uLL);
  *a1 = v2;
  swift_getWitnessTable();
  v2[4] = VideoViewProviding.someVideoView.modify();
  return sub_1000D8184;
}

uint64_t sub_10038A448(uint64_t a1, uint64_t a2)
{
  return sub_10038A524(&qword_1009859C0, a2, (void (*)(uint64_t))type metadata accessor for ContentSearchResultCollectionViewCell);
}

uint64_t sub_10038A490(uint64_t a1, uint64_t a2)
{
  return sub_10038A524(&qword_100992F10, a2, (void (*)(uint64_t))type metadata accessor for ContentSearchResultCollectionViewCell);
}

uint64_t sub_10038A4D8()
{
  return sub_10038A524(&qword_1009859B0, 255, (void (*)(uint64_t))type metadata accessor for VideoView);
}

uint64_t sub_10038A524(unint64_t *a1, uint64_t a2, void (*a3)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a3(a2);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

double sub_10038A56C(uint64_t a1, NSString *a2, uint64_t a3, uint64_t a4, uint64_t a5, uint64_t a6, void *a7, double a8)
{
  uint64_t v16 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v25 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = type metadata accessor for MetadataRibbonViewLayout.Metrics();
  (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v19 - 8) + 56))(v18, 1, 1, v19);
  sub_100123F94(a1, a2, a3, a4, a5, a6, 0, (uint64_t)v18, 0, 0, a7);
  sub_10038A768((uint64_t)v18);
  if (qword_10097FC20 != -1) {
    swift_once();
  }
  uint64_t v20 = type metadata accessor for StaticDimension();
  sub_100087728(v20, (uint64_t)qword_1009E5D60);
  type metadata accessor for TraitEnvironmentPlaceholder();
  sub_100082C28(&qword_100982B50);
  uint64_t v21 = swift_allocObject();
  *(_OWORD *)(v21 + 16) = xmmword_1007BEA80;
  *(void *)(v21 + 32) = a7;
  id v22 = a7;
  uint64_t v23 = (void *)TraitEnvironmentPlaceholder.__allocating_init(_:)();
  dispatch thunk of AnyDimension.rawValue(in:)();

  return a8;
}

uint64_t sub_10038A768(uint64_t a1)
{
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_1009A4AA0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v2 - 8) + 8))(a1, v2);
  return a1;
}

uint64_t sub_10038A7C8()
{
  uint64_t v0 = type metadata accessor for UUID();
  uint64_t v39 = *(void *)(v0 - 8);
  uint64_t v40 = v0;
  __chkstk_darwin(v0);
  double v38 = (char *)&v37 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v2 = sub_100082C28((uint64_t *)&unk_100994A20);
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  double v5 = (char *)&v37 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v6);
  double v8 = (char *)&v37 - v7;
  uint64_t v37 = sub_100082C28(&qword_100982B50);
  uint64_t v9 = swift_allocObject();
  *(_OWORD *)(v9 + 16) = xmmword_1007C0090;
  if (qword_10097E038 != -1) {
    swift_once();
  }
  uint64_t v10 = sub_100087728(v2, (uint64_t)qword_1009E1030);
  id v11 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
  v11(v8, v10, v2);
  uint64_t v42 = type metadata accessor for LocalPreferences();
  uint64_t v12 = static LocalPreferences.AppStoreKitInternal.getter();
  v11(v5, (uint64_t)v8, v2);
  type metadata accessor for BoolPreferencesDebugSetting();
  uint64_t v13 = swift_allocObject();
  uint64_t v14 = sub_1005FCDAC(0xD00000000000001BLL, 0x8000000100815E30, 0, 0, 0, (uint64_t)v5, v12, v13);
  swift_release();
  CGRect v41 = *(void (**)(char *, uint64_t))(v3 + 8);
  v41(v8, v2);
  *(void *)(v9 + 32) = v14;
  if (qword_10097E040 != -1) {
    swift_once();
  }
  uint64_t v15 = sub_100087728(v2, (uint64_t)qword_1009E1048);
  v11(v8, v15, v2);
  uint64_t v16 = static LocalPreferences.AppStoreKitInternal.getter();
  v11(v5, (uint64_t)v8, v2);
  uint64_t v17 = swift_allocObject();
  uint64_t v18 = sub_1005FCDAC(0xD000000000000019, 0x8000000100815E50, 0, 0, 0, (uint64_t)v5, v16, v17);
  swift_release();
  v41(v8, v2);
  *(void *)(v9 + 40) = v18;
  sub_10038AF78();
  uint64_t v19 = static NSUserDefaults.jsAdLoggingEnabledKey.getter();
  uint64_t v21 = v20;
  type metadata accessor for BoolUserDefaultsDebugSetting();
  swift_allocObject();
  *(void *)(v9 + 48) = sub_1000E7FE8(0xD000000000000014, 0x8000000100815E70, 0, v19, v21, 0);
  unint64_t v44 = v9;
  specialized Array._endMutation()();
  if (qword_10097E048 != -1) {
    swift_once();
  }
  uint64_t v22 = sub_100087728(v2, (uint64_t)qword_1009E1060);
  v11(v8, v22, v2);
  uint64_t v23 = static LocalPreferences.AppStoreKitInternal.getter();
  v11(v5, (uint64_t)v8, v2);
  uint64_t v24 = swift_allocObject();
  sub_1005FCDAC(0xD00000000000001DLL, 0x8000000100815E90, 0, 0, 0, (uint64_t)v5, v23, v24);
  swift_release();
  v41(v8, v2);
  if (qword_10097E050 != -1) {
    swift_once();
  }
  uint64_t v25 = sub_100087728(v2, (uint64_t)qword_1009E1078);
  v11(v8, v25, v2);
  uint64_t v26 = static LocalPreferences.AppStoreKitInternal.getter();
  v11(v5, (uint64_t)v8, v2);
  uint64_t v27 = swift_allocObject();
  sub_1005FCDAC(0xD000000000000029, 0x8000000100815EB0, 0, 0, 0, (uint64_t)v5, v26, v27);
  swift_release();
  v41(v8, v2);
  if (v44 >> 62)
  {
    swift_bridgeObjectRetain();
    uint64_t v36 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
    if (!__OFADD__(v36, 2))
    {
LABEL_11:
      sub_10071D6BC();
      specialized Array._endMutation()();
      swift_retain();
      specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
      if (*(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x10) < *(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
        goto LABEL_12;
      }
      goto LABEL_18;
    }
  }
  else if (!__OFADD__(*(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x10), 2))
  {
    goto LABEL_11;
  }
  __break(1u);
LABEL_18:
  specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
LABEL_12:
  specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
  specialized Array._endMutation()();
  swift_retain();
  specialized Array._makeUniqueAndReserveCapacityIfNotUnique()();
  if (*(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x10) >= *(void *)((v44 & 0xFFFFFFFFFFFFFF8) + 0x18) >> 1) {
    specialized Array._createNewBuffer(bufferIsUnique:minimumCapacity:growForAppend:)();
  }
  specialized Array._appendElementAssumeUniqueAndCapacity(_:newElement:)();
  specialized Array._endMutation()();
  swift_release();
  swift_release();
  uint64_t v28 = swift_allocObject();
  *(_OWORD *)(v28 + 16) = xmmword_1007BEA80;
  unint64_t v29 = v44;
  type metadata accessor for DebugSection();
  id v30 = (void *)swift_allocObject();
  uint64_t v31 = v38;
  UUID.init()();
  uint64_t v32 = UUID.uuidString.getter();
  uint64_t v34 = v33;
  (*(void (**)(char *, uint64_t))(v39 + 8))(v31, v40);
  void v30[2] = v32;
  uint64_t v30[3] = v34;
  v30[4] = 7562305;
  uint64_t v30[5] = 0xE300000000000000;
  v30[6] = v29;
  *(void *)(v28 + 32) = v30;
  uint64_t v43 = v28;
  specialized Array._endMutation()();
  return v43;
}

id sub_10038AF20()
{
  v2.receiver = v0;
  v2.super_class = (Class)type metadata accessor for AdsSettings();
  return [super dealloc];
}

uint64_t type metadata accessor for AdsSettings()
{
  return self;
}

unint64_t sub_10038AF78()
{
  unint64_t result = qword_100992F40;
  if (!qword_100992F40)
  {
    self;
    unint64_t result = swift_getObjCClassMetadata();
    atomic_store(result, (unint64_t *)&qword_100992F40);
  }
  return result;
}

BOOL sub_10038AFB8(double a1)
{
  objc_super v2 = v1;
  uint64_t v4 = type metadata accessor for Feature.iOS();
  void v12[3] = v4;
  v12[4] = sub_100007250();
  double v5 = sub_1000808B8(v12);
  (*(void (**)(uint64_t *, void, uint64_t))(*(void *)(v4 - 8) + 104))(v5, enum case for Feature.iOS.shelves_2_0_reviews(_:), v4);
  LOBYTE(v4) = isFeatureEnabled(_:)();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v12);
  if ((v4 & 1) == 0 && (UITraitCollection.prefersAccessibilityLayouts.getter() & 1) != 0
    || (UITraitCollection.isSizeClassCompact.getter() & 1) != 0)
  {
    return 1;
  }
  sub_100081D90(v2 + 11, v2[14]);
  dispatch thunk of Placeable.measure(toFit:with:)();
  double v8 = v7;
  sub_100081D90(v2 + 16, v2[19]);
  dispatch thunk of Placeable.measure(toFit:with:)();
  double v10 = v9;
  sub_100081D90(v2, v2[3]);
  AnyDimension.value(with:)();
  return v10 + v8 + v11 > a1;
}

uint64_t sub_10038B134@<X0>(char a1@<W0>, uint64_t *a2@<X8>)
{
  uint64_t v3 = v2;
  uint64_t v36 = a2;
  uint64_t v5 = type metadata accessor for HorizontalStack();
  v35[0] = *(void *)(v5 - 8);
  __chkstk_darwin(v5);
  double v7 = (char *)v35 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v8);
  double v10 = (char *)v35 - v9;
  uint64_t v11 = type metadata accessor for VerticalStack();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)v35 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v15);
  uint64_t v17 = (char *)v35 - v16;
  v35[1] = v3 + 128;
  if (a1)
  {
    VerticalStack.init(with:)();
    sub_100082C6C(v3 + 88, (uint64_t)v48);
    sub_10038B854(v3, (uint64_t)&v37);
    uint64_t v18 = swift_allocObject();
    long long v19 = v46;
    *(_OWORD *)(v18 + 144) = v45;
    *(_OWORD *)(v18 + 160) = v19;
    *(void *)(v18 + 176) = v47;
    long long v20 = v42;
    *(_OWORD *)(v18 + 80) = v41;
    *(_OWORD *)(v18 + 96) = v20;
    long long v21 = v44;
    *(_OWORD *)(v18 + 112) = v43;
    *(_OWORD *)(v18 + 128) = v21;
    long long v22 = v38;
    *(_OWORD *)(v18 + 16) = v37;
    *(_OWORD *)(v18 + 32) = v22;
    long long v23 = v40;
    *(_OWORD *)(v18 + 48) = v39;
    *(_OWORD *)(v18 + 64) = v23;
    VerticalStack.adding(_:with:)();
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v48);
    uint64_t v24 = *(void (**)(char *, uint64_t))(v12 + 8);
    v24(v14, v11);
    uint64_t v25 = v36;
    v36[3] = v11;
    void v25[4] = (uint64_t)&protocol witness table for VerticalStack;
    sub_1000808B8(v25);
    VerticalStack.adding(_:with:)();
    return ((uint64_t (*)(char *, uint64_t))v24)(v17, v11);
  }
  else
  {
    HorizontalStack.init(with:)();
    sub_100082C6C(v3 + 88, (uint64_t)v48);
    sub_10038B854(v3, (uint64_t)&v37);
    uint64_t v27 = swift_allocObject();
    long long v28 = v46;
    *(_OWORD *)(v27 + 144) = v45;
    *(_OWORD *)(v27 + 160) = v28;
    *(void *)(v27 + 176) = v47;
    long long v29 = v42;
    *(_OWORD *)(v27 + 80) = v41;
    *(_OWORD *)(v27 + 96) = v29;
    long long v30 = v44;
    *(_OWORD *)(v27 + 112) = v43;
    *(_OWORD *)(v27 + 128) = v30;
    long long v31 = v38;
    *(_OWORD *)(v27 + 16) = v37;
    *(_OWORD *)(v27 + 32) = v31;
    long long v32 = v40;
    *(_OWORD *)(v27 + 48) = v39;
    *(_OWORD *)(v27 + 64) = v32;
    HorizontalStack.adding(_:with:)();
    swift_release();
    _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v48);
    uint64_t v33 = *(void (**)(char *, uint64_t))(v35[0] + 8);
    v33(v7, v5);
    uint64_t v34 = v36;
    v36[3] = v5;
    v34[4] = (uint64_t)&protocol witness table for HorizontalStack;
    sub_1000808B8(v34);
    HorizontalStack.adding(_:with:)();
    return ((uint64_t (*)(char *, uint64_t))v33)(v10, v5);
  }
}

uint64_t sub_10038B548(void *a1, double a2, double a3, double a4)
{
  uint64_t v7 = type metadata accessor for DisjointStack();
  uint64_t v8 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  double v10 = (char *)&v20[-1] - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v20[-1] - v12;
  BOOL v14 = sub_10038AFB8(a4);
  sub_10038B854(v4, (uint64_t)v20);
  if (v14)
  {
    sub_1001851F0((uint64_t)v20);
    char v15 = 0;
  }
  else
  {
    char v16 = v21;
    sub_1001851F0((uint64_t)v20);
    char v15 = v16 ^ 1;
  }
  sub_10038B134(v14, v20);
  DisjointStack.init(with:)();
  *(unsigned char *)(swift_allocObject() + 16) = v15 & 1;
  DisjointStack.inserting(_:at:with:)();
  swift_release();
  uint64_t v17 = *(void (**)(char *, uint64_t))(v8 + 8);
  v17(v10, v7);
  sub_100562EF0(a1);
  v17(v13, v7);
  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v20);
}

void sub_10038B750(uint64_t a1, char a2)
{
  uint64_t v3 = type metadata accessor for DisjointStack.EdgePosition();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (uint64_t *)((char *)&v7 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0));
  if (a2)
  {
    v6[3] = type metadata accessor for ZeroDimension();
    void v6[4] = (uint64_t)&protocol witness table for ZeroDimension;
    sub_1000808B8(v6);
    static ZeroDimension.zero.getter();
    (*(void (**)(uint64_t *, void, uint64_t))(v4 + 104))(v6, enum case for DisjointStack.EdgePosition.anchored(_:), v3);
    DisjointStack.Properties.leadingEdge.setter();
  }
}

uint64_t sub_10038B854(uint64_t a1, uint64_t a2)
{
  return a2;
}

uint64_t sub_10038B890()
{
  sub_100082C6C(v0 + 16, (uint64_t)v2);
  return HorizontalStack.Properties.trailingSpacing.setter();
}

uint64_t sub_10038B8D4()
{
  sub_100082C6C(v0 + 64, (uint64_t)v2);
  return VerticalStack.Properties.bottomSpacing.setter();
}

uint64_t destroy for ProductTapToRateLayout(uint64_t a1)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 48);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 88);

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 128);
}

uint64_t initializeWithCopy for ProductTapToRateLayout(uint64_t a1, uint64_t a2)
{
  long long v4 = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 24) = v4;
  (**(void (***)(void))(v4 - 8))();
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  long long v5 = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 72) = v5;
  (**(void (***)(uint64_t, uint64_t))(v5 - 8))(a1 + 48, a2 + 48);
  long long v6 = *(_OWORD *)(a2 + 112);
  *(_OWORD *)(a1 + 112) = v6;
  (**(void (***)(uint64_t, uint64_t))(v6 - 8))(a1 + 88, a2 + 88);
  long long v7 = *(_OWORD *)(a2 + 152);
  *(_OWORD *)(a1 + 152) = v7;
  (**(void (***)(uint64_t, uint64_t))(v7 - 8))(a1 + 128, a2 + 128);
  return a1;
}

uint64_t assignWithCopy for ProductTapToRateLayout(uint64_t a1, uint64_t a2)
{
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  sub_100062A2C((uint64_t *)(a1 + 48), (uint64_t *)(a2 + 48));
  sub_100062A2C((uint64_t *)(a1 + 88), (uint64_t *)(a2 + 88));
  sub_100062A2C((uint64_t *)(a1 + 128), (uint64_t *)(a2 + 128));
  return a1;
}

uint64_t assignWithTake for ProductTapToRateLayout(uint64_t a1, uint64_t a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 48);
  long long v5 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 48) = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 64) = v5;
  *(void *)(a1 + 80) = *(void *)(a2 + 80);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 88);
  *(_OWORD *)(a1 + 88) = *(_OWORD *)(a2 + 88);
  *(_OWORD *)(a1 + 104) = *(_OWORD *)(a2 + 104);
  *(void *)(a1 + 120) = *(void *)(a2 + 120);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 128);
  long long v6 = *(_OWORD *)(a2 + 144);
  *(_OWORD *)(a1 + 128) = *(_OWORD *)(a2 + 128);
  *(_OWORD *)(a1 + 144) = v6;
  *(void *)(a1 + 160) = *(void *)(a2 + 160);
  return a1;
}

uint64_t getEnumTagSinglePayload for ProductTapToRateLayout(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 168)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 24);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ProductTapToRateLayout(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 136) = 0u;
    *(_OWORD *)(result + 152) = 0u;
    *(_OWORD *)(result + 120) = 0u;
    *(_OWORD *)(result + 104) = 0u;
    *(_OWORD *)(result + 88) = 0u;
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)unint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 168) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 24) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 168) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ProductTapToRateLayout()
{
  return &type metadata for ProductTapToRateLayout;
}

uint64_t destroy for ProductTapToRateLayout.Metrics(uint64_t a1)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 48);
}

uint64_t initializeWithCopy for ProductTapToRateLayout.Metrics(uint64_t a1, uint64_t a2)
{
  long long v4 = *(_OWORD *)(a2 + 24);
  *(_OWORD *)(a1 + 24) = v4;
  (**(void (***)(void))(v4 - 8))();
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  long long v5 = *(_OWORD *)(a2 + 72);
  *(_OWORD *)(a1 + 72) = v5;
  (**(void (***)(uint64_t, uint64_t))(v5 - 8))(a1 + 48, a2 + 48);
  return a1;
}

uint64_t assignWithCopy for ProductTapToRateLayout.Metrics(uint64_t a1, uint64_t a2)
{
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  sub_100062A2C((uint64_t *)(a1 + 48), (uint64_t *)(a2 + 48));
  return a1;
}

uint64_t assignWithTake for ProductTapToRateLayout.Metrics(uint64_t a1, uint64_t a2)
{
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1);
  long long v4 = *(_OWORD *)(a2 + 16);
  *(_OWORD *)a1 = *(_OWORD *)a2;
  *(_OWORD *)(a1 + 16) = v4;
  *(void *)(a1 + 32) = *(void *)(a2 + 32);
  *(unsigned char *)(a1 + 40) = *(unsigned char *)(a2 + 40);
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(a1 + 48);
  long long v5 = *(_OWORD *)(a2 + 64);
  *(_OWORD *)(a1 + 48) = *(_OWORD *)(a2 + 48);
  *(_OWORD *)(a1 + 64) = v5;
  *(void *)(a1 + 80) = *(void *)(a2 + 80);
  return a1;
}

uint64_t getEnumTagSinglePayload for ProductTapToRateLayout.Metrics(uint64_t a1, int a2)
{
  if (!a2) {
    return 0;
  }
  if (a2 < 0 && *(unsigned char *)(a1 + 88)) {
    return *(_DWORD *)a1 + 0x80000000;
  }
  unint64_t v2 = *(void *)(a1 + 24);
  if (v2 >= 0xFFFFFFFF) {
    LODWORD(v2) = -1;
  }
  return (v2 + 1);
}

uint64_t storeEnumTagSinglePayload for ProductTapToRateLayout.Metrics(uint64_t result, int a2, int a3)
{
  if (a2 < 0)
  {
    *(_OWORD *)(result + 72) = 0u;
    *(_OWORD *)(result + 56) = 0u;
    *(_OWORD *)(result + 40) = 0u;
    *(_OWORD *)(result + 24) = 0u;
    *(_OWORD *)(result + 8) = 0u;
    *(void *)unint64_t result = a2 ^ 0x80000000;
    if (a3 < 0) {
      *(unsigned char *)(result + 88) = 1;
    }
  }
  else
  {
    if ((a3 & 0x80000000) == 0)
    {
      if (!a2) {
        return result;
      }
LABEL_8:
      *(void *)(result + 24) = (a2 - 1);
      return result;
    }
    *(unsigned char *)(result + 88) = 0;
    if (a2) {
      goto LABEL_8;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ProductTapToRateLayout.Metrics()
{
  return &type metadata for ProductTapToRateLayout.Metrics;
}

double sub_10038BE90(double a1)
{
  BOOL v1 = sub_10038AFB8(a1);
  sub_10038B134(v1, v5);
  sub_100081D90(v5, v5[3]);
  dispatch thunk of Placeable.measure(toFit:with:)();
  double v3 = v2;
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v5);
  return v3;
}

uint64_t sub_10038BF40()
{
  return _swift_deallocObject(v0, 17, 7);
}

void sub_10038BF50(uint64_t a1)
{
  sub_10038B750(a1, *(unsigned char *)(v1 + 16));
}

unsigned char *storeEnumTagSinglePayload for ProductTapToRateLayout.Metrics.HorizontalAlignment(unsigned char *result, unsigned int a2, unsigned int a3)
{
  if (a3 + 1 >= 0xFFFF00) {
    int v3 = 4;
  }
  else {
    int v3 = 2;
  }
  if ((a3 + 1) >> 8 < 0xFF) {
    unsigned int v4 = 1;
  }
  else {
    unsigned int v4 = v3;
  }
  if (a3 >= 0xFF) {
    uint64_t v5 = v4;
  }
  else {
    uint64_t v5 = 0;
  }
  if (a2 > 0xFE)
  {
    unsigned int v6 = ((a2 - 255) >> 8) + 1;
    *unint64_t result = a2 + 1;
    switch(v5)
    {
      case 1:
        result[1] = v6;
        break;
      case 2:
        *(_WORD *)(result + 1) = v6;
        break;
      case 3:
LABEL_23:
        __break(1u);
        JUMPOUT(0x10038C024);
      case 4:
        *(_DWORD *)(result + 1) = v6;
        break;
      default:
        return result;
    }
  }
  else
  {
    switch(v5)
    {
      case 1:
        result[1] = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      case 2:
        *(_WORD *)(result + 1) = 0;
        goto LABEL_17;
      case 3:
        goto LABEL_23;
      case 4:
        *(_DWORD *)(result + 1) = 0;
        if (!a2) {
          return result;
        }
        goto LABEL_18;
      default:
LABEL_17:
        if (a2) {
LABEL_18:
        }
          *unint64_t result = a2 + 1;
        break;
    }
  }
  return result;
}

ValueMetadata *type metadata accessor for ProductTapToRateLayout.Metrics.HorizontalAlignment()
{
  return &type metadata for ProductTapToRateLayout.Metrics.HorizontalAlignment;
}

unint64_t sub_10038C060()
{
  unint64_t result = qword_100992F48;
  if (!qword_100992F48)
  {
    unint64_t result = swift_getWitnessTable();
    atomic_store(result, (unint64_t *)&qword_100992F48);
  }
  return result;
}

uint64_t sub_10038C0B4()
{
  uint64_t v1 = type metadata accessor for Date();
  uint64_t v2 = *(void *)(v1 - 8);
  __chkstk_darwin(v1);
  unsigned int v4 = (char *)&v20 - ((v3 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  long long v7 = (char *)&v20 - v6;
  if (!*(void *)(v0 + 24))
  {
    uint64_t v16 = v0 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
    swift_beginAccess();
    uint64_t result = swift_unknownObjectWeakLoadStrong();
    if (!result) {
      return result;
    }
    uint64_t v18 = *(void *)(v16 + 8);
    uint64_t ObjectType = swift_getObjectType();
    (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v18 + 40))(1, 0, ObjectType, v18);
    return swift_unknownObjectRelease();
  }
  swift_retain();
  AppEventNotificationConfig.displayTime.getter();
  Date.init()();
  sub_10003C3AC(&qword_100993058, (void (*)(uint64_t))&type metadata accessor for Date);
  char v8 = dispatch thunk of static Comparable.< infix(_:_:)();
  uint64_t v9 = *(void (**)(char *, uint64_t))(v2 + 8);
  v9(v4, v1);
  v9(v7, v1);
  char v10 = UserNotificationsManager.hasScheduledNotification(with:)();
  uint64_t v11 = v0 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  swift_beginAccess();
  if (swift_unknownObjectWeakLoadStrong())
  {
    uint64_t v12 = *(void *)(v11 + 8);
    uint64_t v13 = swift_getObjectType();
    (*(void (**)(BOOL, void, uint64_t, uint64_t))(v12 + 40))((v8 & 1) == 0, 0, v13, v12);
    swift_unknownObjectRelease();
  }
  if (swift_unknownObjectWeakLoadStrong())
  {
    uint64_t v14 = *(void *)(v11 + 8);
    uint64_t v15 = swift_getObjectType();
    (*(void (**)(void, void, uint64_t, uint64_t))(v14 + 32))(v10 & 1, 0, v15, v14);
    swift_release();
    return swift_unknownObjectRelease();
  }
  return swift_release();
}

uint64_t NotifyMeButtonPresenter.view.getter()
{
  return swift_unknownObjectWeakLoadStrong();
}

uint64_t NotifyMeButtonPresenter.view.setter(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = v2 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  swift_beginAccess();
  *(void *)(v4 + 8) = a2;
  swift_unknownObjectWeakAssign();
  sub_10038C0B4();
  return swift_unknownObjectRelease();
}

void (*NotifyMeButtonPresenter.view.modify(void *a1))(uint64_t a1, char a2)
{
  uint64_t v3 = malloc(0x38uLL);
  *a1 = v3;
  uint64_t v4 = OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  v3[5] = v1;
  v3[6] = v4;
  uint64_t v5 = v1 + v4;
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  uint64_t v7 = *(void *)(v5 + 8);
  v3[3] = Strong;
  v3[4] = v7;
  return sub_10038C4A4;
}

void sub_10038C4A4(uint64_t a1, char a2)
{
  uint64_t v3 = *(void **)a1;
  *(void *)(*(void *)(*(void *)a1 + 40) + *(void *)(*(void *)a1 + 48) + 8) = *(void *)(*(void *)a1 + 32);
  swift_unknownObjectWeakAssign();
  if (a2)
  {
    swift_unknownObjectRelease();
    swift_endAccess();
  }
  else
  {
    swift_endAccess();
    swift_unknownObjectRelease();
    sub_10038C0B4();
  }

  free(v3);
}

uint64_t NotifyMeButtonPresenter.__allocating_init(userNotificationsManager:notificationConfig:view:asPartOf:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v10 = swift_allocObject();
  NotifyMeButtonPresenter.init(userNotificationsManager:notificationConfig:view:asPartOf:)(a1, a2, a3, a4, a5);
  return v10;
}

uint64_t NotifyMeButtonPresenter.init(userNotificationsManager:notificationConfig:view:asPartOf:)(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, uint64_t a5)
{
  uint64_t v6 = v5;
  uint64_t v22 = a3;
  uint64_t v11 = type metadata accessor for MetricsPipeline();
  uint64_t v12 = *(void *)(v11 - 8);
  __chkstk_darwin(v11);
  uint64_t v14 = (char *)&v22 - ((v13 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v15 = v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  *(void *)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view + 8) = 0;
  swift_unknownObjectWeakInit();
  *(void *)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer) = 0;
  *(unsigned char *)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 0;
  swift_beginAccess();
  *(void *)(v15 + 8) = a4;
  swift_unknownObjectWeakAssign();
  *(void *)(v6 + 16) = a1;
  *(void *)(v6 + 24) = a2;
  swift_retain();
  swift_retain();
  inject(_:from:)();
  (*(void (**)(uint64_t, char *, uint64_t))(v12 + 32))(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_metricsPipeline, v14, v11);
  *(void *)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_objectGraph) = a5;
  type metadata accessor for ASKBagContract();
  swift_retain();
  *(void *)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_bag) = inject(_:from:)();
  sub_10038C0B4();
  sub_10038C894();
  uint64_t v16 = self;
  id v17 = [v16 defaultCenter:v22];
  type metadata accessor for UserNotificationsManager();
  swift_retain();
  uint64_t v18 = (void *)static UserNotificationsManager.userNotificationsDidChangeNotification.getter();
  [v17 addObserver:v6 selector:"userNotificationsDidChangeNotification:" name:v18 object:0];

  swift_release();
  id v19 = [v16 defaultCenter];
  [v19 addObserver:v6 selector:"appEnteredWhileAppeared" name:UIApplicationDidBecomeActiveNotification object:0];

  id v20 = [v16 defaultCenter];
  swift_retain();
  [v20 addObserver:v6 selector:"appExitedWhileAppeared" name:UIApplicationDidEnterBackgroundNotification object:0];

  swift_release();
  swift_release();
  swift_release();
  swift_unknownObjectRelease();
  swift_release();
  return v6;
}

void sub_10038C894()
{
  uint64_t v1 = v0;
  uint64_t v2 = *v0;
  uint64_t v3 = sub_100082C28((uint64_t *)&unk_10098FAE0);
  __chkstk_darwin(v3 - 8);
  uint64_t v5 = (char *)v21 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for Date();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v9 = (char *)v21 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __n128 v11 = __chkstk_darwin(v10);
  uint64_t v13 = (char *)v21 - v12;
  if (!v0[3])
  {
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t, __n128))(v7 + 56))(v5, 1, 1, v6, v11);
    goto LABEL_7;
  }
  AppEventNotificationConfig.displayTime.getter();
  (*(void (**)(char *, void, uint64_t, uint64_t))(v7 + 56))(v5, 0, 1, v6);
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v7 + 48))(v5, 1, v6) == 1)
  {
LABEL_7:
    sub_100082BCC((uint64_t)v5, (uint64_t *)&unk_10098FAE0);
    return;
  }
  (*(void (**)(char *, char *, uint64_t))(v7 + 32))(v13, v5, v6);
  Date.init()();
  char v14 = static Date.> infix(_:_:)();
  uint64_t v15 = *(void (**)(char *, uint64_t))(v7 + 8);
  v15(v9, v6);
  if ((v14 & 1) != 0
    && (uint64_t v16 = OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer,
        !*(void *)((char *)v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer)))
  {
    (*(void (**)(char *, char *, uint64_t))(v7 + 16))(v9, v13, v6);
    void v22[3] = v2;
    v22[0] = v1;
    memset(v21, 0, sizeof(v21));
    id v17 = objc_allocWithZone((Class)NSTimer);
    swift_retain();
    id v18 = sub_10000F380((uint64_t)v9, v22, (uint64_t)"displayTimeReached", v21, 0, 0.0);
    id v19 = [self mainRunLoop];
    [v19 addTimer:v18 forMode:NSRunLoopCommonModes];

    v15(v13, v6);
    id v20 = *(void **)((char *)v1 + v16);
    *(void *)((char *)v1 + v16) = v18;
  }
  else
  {
    v15(v13, v6);
  }
}

uint64_t NotifyMeButtonPresenter.deinit()
{
  id v1 = [self defaultCenter];
  [v1 removeObserver:v0];

  swift_release();
  swift_release();
  uint64_t v2 = v0 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_metricsPipeline;
  uint64_t v3 = type metadata accessor for MetricsPipeline();
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v3 - 8) + 8))(v2, v3);
  swift_release();
  swift_release();
  sub_100092F18(v0 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view);

  return v0;
}

uint64_t NotifyMeButtonPresenter.__deallocating_deinit()
{
  NotifyMeButtonPresenter.deinit();

  return swift_deallocClassInstance();
}

Swift::Void __swiftcall NotifyMeButtonPresenter.didTapButton(sender:)(UIButton sender)
{
  uint64_t v2 = *(void *)(v1 + 24);
  if (v2 && (*(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) & 1) == 0)
  {
    swift_retain();
    if (ASKBagContract.enableAppEventsServerNotifications.getter())
    {
      if (UserNotificationsManager.hasScheduledNotification(with:)()) {
        sub_10038EF50(v2);
      }
      else {
        sub_10038F3AC(v2);
      }
      swift_release();
    }
    else
    {
      UserNotificationsManager.getIsAuthorized()();
      uint64_t v4 = swift_allocObject();
      swift_weakInit();
      uint64_t v5 = swift_allocObject();
      swift_weakInit();
      uint64_t v6 = (UIButton *)swift_allocObject();
      v6[2].super.super.super.super.Class isa = (Class)v4;
      v6[3].super.super.super.super.Class isa = (Class)v5;
      v6[4].super.super.super.super.Class isa = (Class)v2;
      v6[5].super.super.super.super.Class isa = sender.super.super.super.super.isa;
      uint64_t v7 = swift_allocObject();
      swift_weakInit();
      uint64_t v8 = swift_allocObject();
      *(void *)(v8 + 16) = v7;
      *(void *)(v8 + 24) = v2;
      uint64_t v9 = sub_100084CF0(0, (unint64_t *)&qword_100984500);
      swift_retain_n();
      uint64_t v10 = sender.super.super.super.super.isa;
      swift_retain();
      v11[3] = v9;
      void v11[4] = &protocol witness table for OS_dispatch_queue;
      v11[0] = static OS_dispatch_queue.main.getter();
      Promise.then(perform:orCatchError:on:)();
      swift_release();
      swift_release();
      swift_release();
      swift_release();
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v11);
      swift_release();
    }
  }
}

uint64_t sub_10038CF5C()
{
  swift_weakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_10038CF94(char *a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v39 = a4;
  uint64_t v5 = type metadata accessor for Dependency();
  uint64_t v37 = *(void *)(v5 - 8);
  uint64_t v38 = v5;
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v32 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for MetricsFieldsContext();
  uint64_t v34 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v32 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v32 - v12;
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v35 = *(void *)(v14 - 8);
  uint64_t v36 = v14;
  __chkstk_darwin(v14);
  uint64_t v16 = (char *)&v32 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v17 - 8);
  id v19 = (char *)&v32 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  char v20 = *a1;
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    swift_beginAccess();
    uint64_t Strong = swift_weakLoadStrong();
    if (!Strong) {
      return swift_release();
    }
    uint64_t v23 = Strong;
    if (v20)
    {
      swift_retain();
      uint64_t v24 = v39;
      char v25 = UserNotificationsManager.hasScheduledNotification(with:)();
      swift_release();
      if (v25) {
        sub_10038EF50(v24);
      }
      else {
        sub_10038F3AC(v24);
      }
      goto LABEL_11;
    }
    uint64_t v26 = AppEventNotificationConfig.notAuthorizedAction.getter();
    if (!v26)
    {
LABEL_11:
      swift_release();
      return swift_release();
    }
    uint64_t v39 = v26;
    ObjectGraph.actionDispatcher.getter();
    uint64_t v27 = sub_100082C28((uint64_t *)&unk_100984530);
    uint64_t v28 = *(void *)(v27 - 8);
    if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v28 + 48))(v19, 1, v27) == 1)
    {
      swift_release();
      swift_release();
      swift_release();
      return sub_100082BCC((uint64_t)v19, &qword_1009875B0);
    }
    else
    {
      void v40[3] = type metadata accessor for Action();
      v40[4] = sub_10003C3AC((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
      v40[0] = v39;
      swift_retain_n();
      uint64_t v33 = v28;
      sub_1005365D0();
      uint64_t v32 = v23;
      uint64_t v29 = v34;
      (*(void (**)(char *, char *, uint64_t))(v34 + 16))(v10, v13, v8);
      Dependency.init<A>(satisfying:with:)();
      dispatch thunk of BaseObjectGraph.adding(dependency:)();
      (*(void (**)(char *, uint64_t))(v37 + 8))(v7, v38);
      (*(void (**)(char *, char *, uint64_t))(v29 + 32))(v16, v13, v8);
      uint64_t v31 = v35;
      uint64_t v30 = v36;
      (*(void (**)(char *, void, uint64_t))(v35 + 104))(v16, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v36);
      ActionDispatcher.perform(_:withMetrics:asPartOf:)();
      swift_release();
      (*(void (**)(char *, uint64_t))(v31 + 8))(v16, v30);
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v40);
      swift_release();
      swift_release_n();
      swift_release();
      swift_release();
      return (*(uint64_t (**)(char *, uint64_t))(v33 + 8))(v19, v27);
    }
  }
  return result;
}

uint64_t sub_10038D4A8()
{
  swift_release();
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 48, 7);
}

uint64_t sub_10038D4F8(char *a1)
{
  return sub_10038CF94(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_10038D504()
{
  uint64_t v0 = type metadata accessor for Dependency();
  uint64_t v28 = *(void *)(v0 - 8);
  uint64_t v29 = v0;
  __chkstk_darwin(v0);
  uint64_t v2 = (char *)&v24 - ((v1 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = type metadata accessor for MetricsFieldsContext();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  uint64_t v6 = (char *)&v24 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v24 - v8;
  uint64_t v10 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v11 = *(void *)(v10 - 8);
  uint64_t v26 = v10;
  uint64_t v27 = v11;
  __chkstk_darwin(v10);
  uint64_t v13 = (char *)&v24 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v14 - 8);
  uint64_t v16 = (char *)&v24 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t v18 = AppEventNotificationConfig.failureAction.getter();
    if (v18)
    {
      uint64_t v19 = v18;
      ObjectGraph.actionDispatcher.getter();
      uint64_t v20 = sub_100082C28((uint64_t *)&unk_100984530);
      uint64_t v25 = *(void *)(v20 - 8);
      if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v25 + 48))(v16, 1, v20) == 1)
      {
        swift_release();
        swift_release();
        return sub_100082BCC((uint64_t)v16, &qword_1009875B0);
      }
      else
      {
        uint64_t v30[3] = type metadata accessor for Action();
        v30[4] = sub_10003C3AC((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
        v30[0] = v19;
        swift_retain_n();
        uint64_t v24 = v20;
        sub_1005365D0();
        (*(void (**)(char *, char *, uint64_t))(v4 + 16))(v6, v9, v3);
        Dependency.init<A>(satisfying:with:)();
        dispatch thunk of BaseObjectGraph.adding(dependency:)();
        (*(void (**)(char *, uint64_t))(v28 + 8))(v2, v29);
        (*(void (**)(char *, char *, uint64_t))(v4 + 32))(v13, v9, v3);
        uint64_t v21 = v26;
        uint64_t v22 = v27;
        (*(void (**)(char *, void, uint64_t))(v27 + 104))(v13, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v26);
        uint64_t v23 = v24;
        ActionDispatcher.perform(_:withMetrics:asPartOf:)();
        swift_release();
        (*(void (**)(char *, uint64_t))(v22 + 8))(v13, v21);
        _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v30);
        swift_release_n();
        swift_release();
        swift_release();
        return (*(uint64_t (**)(char *, uint64_t))(v25 + 8))(v16, v23);
      }
    }
    else
    {
      return swift_release();
    }
  }
  return result;
}

uint64_t sub_10038D97C()
{
  swift_release();
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_10038D9BC()
{
  return sub_10038D504();
}

uint64_t sub_10038D9C4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4)
{
  uint64_t v46 = a4;
  uint64_t v47 = a3;
  uint64_t v5 = type metadata accessor for Dependency();
  uint64_t v44 = *(void *)(v5 - 8);
  uint64_t v45 = v5;
  __chkstk_darwin(v5);
  long long v41 = (char *)&v38 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for MetricsFieldsContext();
  uint64_t v40 = *(void *)(v7 - 8);
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)&v38 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v10);
  uint64_t v12 = (char *)&v38 - v11;
  uint64_t v13 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v42 = *(void *)(v13 - 8);
  uint64_t v43 = v13;
  __chkstk_darwin(v13);
  uint64_t v15 = (char *)&v38 - ((v14 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v16 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v16 - 8);
  uint64_t v18 = (char *)&v38 - ((v17 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v19 = type metadata accessor for UserNotificationsManager.SchedulingResult();
  uint64_t v20 = *(void *)(v19 - 8);
  __chkstk_darwin(v19);
  uint64_t v22 = (char *)&v38 - ((v21 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t v24 = result;
    (*(void (**)(char *, uint64_t, uint64_t))(v20 + 16))(v22, a1, v19);
    int v25 = (*(uint64_t (**)(char *, uint64_t))(v20 + 88))(v22, v19);
    if (v25 == enum case for UserNotificationsManager.SchedulingResult.scheduleChanged(_:)
      || v25 == enum case for UserNotificationsManager.SchedulingResult.scheduleAlreadyExists(_:))
    {
      uint64_t v29 = AppEventNotificationConfig.scheduledAction.getter();
      if (v29)
      {
        uint64_t v30 = v29;
        swift_beginAccess();
        if (swift_weakLoadStrong())
        {
          ObjectGraph.actionDispatcher.getter();
          uint64_t v31 = sub_100082C28((uint64_t *)&unk_100984530);
          uint64_t v32 = *(void *)(v31 - 8);
          if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v32 + 48))(v18, 1, v31) == 1)
          {
            swift_release();
            swift_release();
            sub_100082BCC((uint64_t)v18, &qword_1009875B0);
          }
          else
          {
            uint64_t v48[3] = type metadata accessor for Action();
            v48[4] = sub_10003C3AC((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
            v48[0] = v30;
            swift_retain_n();
            uint64_t v39 = v31;
            sub_1005365D0();
            uint64_t v33 = v40;
            (*(void (**)(char *, char *, uint64_t))(v40 + 16))(v9, v12, v7);
            uint64_t v47 = v32;
            uint64_t v34 = v41;
            Dependency.init<A>(satisfying:with:)();
            dispatch thunk of BaseObjectGraph.adding(dependency:)();
            uint64_t v46 = v30;
            (*(void (**)(char *, uint64_t))(v44 + 8))(v34, v45);
            (*(void (**)(char *, char *, uint64_t))(v33 + 32))(v15, v12, v7);
            uint64_t v36 = v42;
            uint64_t v35 = v43;
            (*(void (**)(char *, void, uint64_t))(v42 + 104))(v15, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v43);
            uint64_t v37 = v39;
            ActionDispatcher.perform(_:withMetrics:asPartOf:)();
            swift_release();
            (*(void (**)(char *, uint64_t))(v36 + 8))(v15, v35);
            _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v48);
            swift_release();
            swift_release_n();
            swift_release();
            (*(void (**)(char *, uint64_t))(v47 + 8))(v18, v37);
          }
        }
        else
        {
          swift_release();
        }
      }
    }
    else
    {
      if (v25 != enum case for UserNotificationsManager.SchedulingResult.signInDidNotComplete(_:))
      {
        uint64_t result = _diagnoseUnexpectedEnumCase<A>(type:)();
        __break(1u);
        return result;
      }
      uint64_t v26 = v24 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
      swift_beginAccess();
      if (swift_unknownObjectWeakLoadStrong())
      {
        uint64_t v27 = *(void *)(v26 + 8);
        uint64_t ObjectType = swift_getObjectType();
        (*(void (**)(void, void, uint64_t, uint64_t))(v27 + 32))(0, 0, ObjectType, v27);
        swift_unknownObjectRelease();
      }
    }
    *(unsigned char *)(v24 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 0;
    return swift_release();
  }
  return result;
}

uint64_t sub_10038E000(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for UserNotificationsManager.SchedulingResult();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = &v13[-((v4 + 15) & 0xFFFFFFFFFFFFFFF0)];
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t v7 = result;
    (*(void (**)(unsigned char *, uint64_t, uint64_t))(v3 + 16))(v5, a1, v2);
    int v8 = (*(uint64_t (**)(unsigned char *, uint64_t))(v3 + 88))(v5, v2);
    if (v8 != enum case for UserNotificationsManager.SchedulingResult.scheduleChanged(_:)
      && v8 != enum case for UserNotificationsManager.SchedulingResult.scheduleAlreadyExists(_:))
    {
      if (v8 != enum case for UserNotificationsManager.SchedulingResult.signInDidNotComplete(_:))
      {
        uint64_t result = _diagnoseUnexpectedEnumCase<A>(type:)();
        __break(1u);
        return result;
      }
      uint64_t v10 = v7 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
      swift_beginAccess();
      if (swift_unknownObjectWeakLoadStrong())
      {
        uint64_t v11 = *(void *)(v10 + 8);
        uint64_t ObjectType = swift_getObjectType();
        (*(void (**)(uint64_t, void, uint64_t, uint64_t))(v11 + 32))(1, 0, ObjectType, v11);
        swift_unknownObjectRelease();
      }
    }
    *(unsigned char *)(v7 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 0;
    return swift_release();
  }
  return result;
}

uint64_t sub_10038E1D4(uint64_t a1, uint64_t a2, uint64_t a3, uint64_t a4, int a5)
{
  int v42 = a5;
  uint64_t v5 = type metadata accessor for Dependency();
  uint64_t v40 = *(void *)(v5 - 8);
  uint64_t v41 = v5;
  __chkstk_darwin(v5);
  uint64_t v7 = (char *)&v33 - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = type metadata accessor for MetricsFieldsContext();
  uint64_t v38 = *(void *)(v8 - 8);
  __chkstk_darwin(v8);
  uint64_t v10 = (char *)&v33 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v11);
  uint64_t v13 = (char *)&v33 - v12;
  uint64_t v14 = sub_100082C28((uint64_t *)&unk_100984520);
  uint64_t v39 = *(void *)(v14 - 8);
  __chkstk_darwin(v14);
  uint64_t v16 = (char *)&v33 - ((v15 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v17 = sub_100082C28(&qword_1009875B0);
  __chkstk_darwin(v17 - 8);
  uint64_t v19 = (char *)&v33 - ((v18 + 15) & 0xFFFFFFFFFFFFFFF0);
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    uint64_t v21 = result;
    uint64_t v22 = AppEventNotificationConfig.failureAction.getter();
    if (v22)
    {
      uint64_t v23 = v22;
      swift_beginAccess();
      uint64_t Strong = swift_weakLoadStrong();
      if (Strong)
      {
        uint64_t v25 = v23;
        uint64_t v37 = Strong;
        ObjectGraph.actionDispatcher.getter();
        uint64_t v26 = sub_100082C28((uint64_t *)&unk_100984530);
        uint64_t v36 = *(void *)(v26 - 8);
        if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v36 + 48))(v19, 1, v26) == 1)
        {
          swift_release();
          swift_release();
          sub_100082BCC((uint64_t)v19, &qword_1009875B0);
        }
        else
        {
          v43[3] = type metadata accessor for Action();
          v43[4] = sub_10003C3AC((unint64_t *)&qword_1009875D0, (void (*)(uint64_t))&type metadata accessor for Action);
          uint64_t v35 = v25;
          v43[0] = v25;
          swift_retain_n();
          uint64_t v34 = v26;
          sub_1005365D0();
          uint64_t v27 = v38;
          (*(void (**)(char *, char *, uint64_t))(v38 + 16))(v10, v13, v8);
          Dependency.init<A>(satisfying:with:)();
          dispatch thunk of BaseObjectGraph.adding(dependency:)();
          (*(void (**)(char *, uint64_t))(v40 + 8))(v7, v41);
          (*(void (**)(char *, char *, uint64_t))(v27 + 32))(v16, v13, v8);
          uint64_t v28 = v39;
          (*(void (**)(char *, void, uint64_t))(v39 + 104))(v16, enum case for ActionDispatcher.MetricsBehavior.fromAction<A>(_:), v14);
          uint64_t v29 = v34;
          ActionDispatcher.perform(_:withMetrics:asPartOf:)();
          swift_release();
          (*(void (**)(char *, uint64_t))(v28 + 8))(v16, v14);
          _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v43);
          swift_release();
          swift_release_n();
          swift_release();
          (*(void (**)(char *, uint64_t))(v36 + 8))(v19, v29);
        }
      }
      else
      {
        swift_release();
      }
    }
    uint64_t v30 = v21 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
    swift_beginAccess();
    if (swift_unknownObjectWeakLoadStrong())
    {
      uint64_t v31 = *(void *)(v30 + 8);
      uint64_t ObjectType = swift_getObjectType();
      (*(void (**)(void, void, uint64_t, uint64_t))(v31 + 32))(v42 & 1, 0, ObjectType, v31);
      swift_unknownObjectRelease();
    }
    *(unsigned char *)(v21 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 0;
    return swift_release();
  }
  return result;
}

void sub_10038E70C()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for DispatchWorkItemFlags();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)&v30 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = type metadata accessor for DispatchQoS();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  uint64_t v10 = (char *)&v30 - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  if (*(void *)(v1 + 24))
  {
    uint64_t v30 = v8;
    uint64_t v31 = v3;
    swift_retain();
    uint64_t v11 = Notification.userInfo.getter();
    if (v11)
    {
      uint64_t v12 = v11;
      type metadata accessor for UserNotificationsManager();
      uint64_t v32 = static UserNotificationsManager.appEventIdKey.getter();
      uint64_t v33 = v13;
      AnyHashable.init<A>(_:)();
      if (*(void *)(v12 + 16) && (unint64_t v14 = sub_100407374((uint64_t)aBlock), (v15 & 1) != 0))
      {
        sub_10008A898(*(void *)(v12 + 56) + 32 * v14, (uint64_t)&v34);
      }
      else
      {
        long long v34 = 0u;
        long long v35 = 0u;
      }
      swift_bridgeObjectRelease();
      sub_1000E2D1C((uint64_t)aBlock);
      if (*((void *)&v35 + 1))
      {
        if (swift_dynamicCast())
        {
          uint64_t v17 = v32;
          uint64_t v16 = v33;
          if (v17 == AppEventNotificationConfig.appEventId.getter() && v16 == v18)
          {
            swift_bridgeObjectRelease_n();
          }
          else
          {
            char v29 = _stringCompareWithSmolCheck(_:_:expecting:)();
            swift_bridgeObjectRelease();
            swift_bridgeObjectRelease();
            if ((v29 & 1) == 0)
            {
LABEL_27:
              swift_release();
              return;
            }
          }
        }
      }
      else
      {
        sub_100082BCC((uint64_t)&v34, (uint64_t *)&unk_100982B40);
      }
    }
    uint64_t v19 = Notification.userInfo.getter();
    if (v19)
    {
      uint64_t v20 = v19;
      type metadata accessor for UserNotificationsManager();
      uint64_t v32 = static UserNotificationsManager.sourceViewKey.getter();
      uint64_t v33 = v21;
      AnyHashable.init<A>(_:)();
      if (*(void *)(v20 + 16) && (unint64_t v22 = sub_100407374((uint64_t)aBlock), (v23 & 1) != 0))
      {
        sub_10008A898(*(void *)(v20 + 56) + 32 * v22, (uint64_t)&v34);
      }
      else
      {
        long long v34 = 0u;
        long long v35 = 0u;
      }
      swift_bridgeObjectRelease();
      sub_1000E2D1C((uint64_t)aBlock);
      if (*((void *)&v35 + 1))
      {
        sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
        if (swift_dynamicCast())
        {
          uint64_t v24 = (void *)v32;
          swift_beginAccess();
          uint64_t Strong = swift_unknownObjectWeakLoadStrong();

          if (Strong)
          {
            swift_unknownObjectRelease();
            if (v24 == (void *)Strong) {
              goto LABEL_27;
            }
          }
        }
      }
      else
      {
        sub_100082BCC((uint64_t)&v34, (uint64_t *)&unk_100982B40);
      }
    }
    sub_100084CF0(0, (unint64_t *)&qword_100984500);
    uint64_t v26 = (void *)static OS_dispatch_queue.main.getter();
    uint64_t v27 = swift_allocObject();
    swift_weakInit();
    aBlock[4] = sub_10038F964;
    aBlock[5] = v27;
    aBlock[0] = _NSConcreteStackBlock;
    aBlock[1] = 1107296256;
    aBlock[2] = sub_1000162D4;
    uint64_t aBlock[3] = &unk_1008C8420;
    uint64_t v28 = _Block_copy(aBlock);
    swift_release();
    static DispatchQoS.unspecified.getter();
    aBlock[0] = _swiftEmptyArrayStorage;
    sub_10003C3AC((unint64_t *)&qword_100988CC0, (void (*)(uint64_t))&type metadata accessor for DispatchWorkItemFlags);
    sub_100082C28((uint64_t *)&unk_100984510);
    sub_100060CC8();
    dispatch thunk of SetAlgebra.init<A>(_:)();
    OS_dispatch_queue.async(group:qos:flags:execute:)();
    swift_release();
    _Block_release(v28);

    (*(void (**)(char *, uint64_t))(v31 + 8))(v5, v2);
    (*(void (**)(char *, uint64_t))(v7 + 8))(v10, v30);
  }
}

uint64_t sub_10038EC40()
{
  swift_beginAccess();
  uint64_t result = swift_weakLoadStrong();
  if (result)
  {
    sub_10038C0B4();
    return swift_release();
  }
  return result;
}

Swift::Void __swiftcall NotifyMeButtonPresenter.tearDown()()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer;
  uint64_t v2 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer);
  if (v2)
  {
    [v2 invalidate];
    uint64_t v2 = *(void **)(v0 + v1);
  }
  *(void *)(v0 + v1) = 0;
}

uint64_t sub_10038EF50(uint64_t a1)
{
  uint64_t v28 = a1;
  uint64_t v2 = type metadata accessor for MetricsFieldsContext();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  uint64_t v5 = (char *)v26 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_1009856B0);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)v26 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for MetricsData();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v27 = (char *)v26 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 1;
  uint64_t v12 = v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  swift_beginAccess();
  if (swift_unknownObjectWeakLoadStrong())
  {
    v26[1] = v1;
    uint64_t v13 = v2;
    uint64_t v14 = *(void *)(v12 + 8);
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v16 = *(void (**)(void, uint64_t, uint64_t, uint64_t))(v14 + 32);
    uint64_t v17 = v14;
    uint64_t v2 = v13;
    v16(0, 1, ObjectType, v17);
    swift_unknownObjectRelease();
  }
  AppEventNotificationConfig.cancelScheduleClickEvent.getter();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48))(v8, 1, v9) == 1)
  {
    sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_1009856B0);
  }
  else
  {
    uint64_t v18 = v27;
    (*(void (**)(char *, char *, uint64_t))(v10 + 32))(v27, v8, v9);
    static MetricsFieldsContext.emptyContext.getter();
    MetricsPipeline.process(_:using:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v2);
    (*(void (**)(char *, uint64_t))(v10 + 8))(v18, v9);
  }
  swift_unknownObjectWeakLoadStrong();
  uint64_t v19 = v28;
  UserNotificationsManager.cancelScheduledNotification(with:from:)();
  swift_unknownObjectRelease();
  swift_allocObject();
  swift_weakInit();
  uint64_t v20 = swift_allocObject();
  swift_weakInit();
  uint64_t v21 = swift_allocObject();
  swift_weakInit();
  unint64_t v22 = (void *)swift_allocObject();
  objc_super v22[2] = v20;
  void v22[3] = v19;
  void v22[4] = v21;
  uint64_t v23 = sub_100084CF0(0, (unint64_t *)&qword_100984500);
  swift_retain();
  swift_retain();
  swift_retain();
  uint64_t v24 = static OS_dispatch_queue.main.getter();
  v29[3] = v23;
  v29[4] = &protocol witness table for OS_dispatch_queue;
  v29[0] = v24;
  Promise.then(perform:orCatchError:on:)();
  swift_release();
  swift_release();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v29);
  swift_release();
  return swift_release();
}

uint64_t sub_10038F3AC(uint64_t a1)
{
  uint64_t v28 = type metadata accessor for MetricsFieldsContext();
  uint64_t v3 = *(void *)(v28 - 8);
  __chkstk_darwin(v28);
  uint64_t v5 = (char *)&v25 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = sub_100082C28((uint64_t *)&unk_1009856B0);
  __chkstk_darwin(v6 - 8);
  uint64_t v8 = (char *)&v25 - ((v7 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = type metadata accessor for MetricsData();
  uint64_t v10 = *(void *)(v9 - 8);
  __chkstk_darwin(v9);
  uint64_t v27 = (char *)&v25 - ((v11 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(unsigned char *)(v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_isSchedulingNotification) = 1;
  uint64_t v12 = v1 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_view;
  swift_beginAccess();
  if (swift_unknownObjectWeakLoadStrong())
  {
    uint64_t v26 = v10;
    uint64_t v13 = *(void *)(v12 + 8);
    uint64_t ObjectType = swift_getObjectType();
    uint64_t v10 = v26;
    (*(void (**)(uint64_t, uint64_t, uint64_t, uint64_t))(v13 + 32))(1, 1, ObjectType, v13);
    swift_unknownObjectRelease();
  }
  AppEventNotificationConfig.scheduleClickEvent.getter();
  if ((*(unsigned int (**)(char *, uint64_t, uint64_t))(v10 + 48))(v8, 1, v9) == 1)
  {
    sub_100082BCC((uint64_t)v8, (uint64_t *)&unk_1009856B0);
  }
  else
  {
    char v15 = v27;
    (*(void (**)(char *, char *, uint64_t))(v10 + 32))(v27, v8, v9);
    static MetricsFieldsContext.emptyContext.getter();
    MetricsPipeline.process(_:using:)();
    swift_release();
    (*(void (**)(char *, uint64_t))(v3 + 8))(v5, v28);
    (*(void (**)(char *, uint64_t))(v10 + 8))(v15, v9);
  }
  swift_unknownObjectWeakLoadStrong();
  UserNotificationsManager.scheduleNotification(with:from:)();
  swift_unknownObjectRelease();
  uint64_t v16 = swift_allocObject();
  swift_weakInit();
  uint64_t v17 = swift_allocObject();
  swift_weakInit();
  uint64_t v18 = (void *)swift_allocObject();
  _OWORD v18[2] = v16;
  void v18[3] = a1;
  v18[4] = v17;
  uint64_t v19 = swift_allocObject();
  swift_weakInit();
  uint64_t v20 = swift_allocObject();
  swift_weakInit();
  uint64_t v21 = (void *)swift_allocObject();
  _OWORD v21[2] = v19;
  v21[3] = a1;
  void v21[4] = v20;
  uint64_t v22 = sub_100084CF0(0, (unint64_t *)&qword_100984500);
  swift_retain_n();
  swift_retain();
  swift_retain();
  uint64_t v23 = static OS_dispatch_queue.main.getter();
  v29[3] = v22;
  v29[4] = &protocol witness table for OS_dispatch_queue;
  v29[0] = v23;
  Promise.then(perform:orCatchError:on:)();
  swift_release();
  swift_release();
  swift_release();
  _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v29);
  swift_release();
  return swift_release();
}

uint64_t sub_10038F848()
{
  return type metadata accessor for NotifyMeButtonPresenter();
}

uint64_t type metadata accessor for NotifyMeButtonPresenter()
{
  uint64_t result = qword_100992F98;
  if (!qword_100992F98) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_10038F89C()
{
  uint64_t result = type metadata accessor for MetricsPipeline();
  if (v1 <= 0x3F)
  {
    uint64_t result = swift_updateClassMetadata2();
    if (!result) {
      return 0;
    }
  }
  return result;
}

uint64_t sub_10038F964()
{
  return sub_10038EC40();
}

uint64_t sub_10038F96C(uint64_t a1)
{
  return sub_10038E000(a1);
}

uint64_t sub_10038F978(uint64_t a1)
{
  return sub_10038E1D4(a1, v1[2], v1[3], v1[4], 1);
}

uint64_t sub_10038F9A0(uint64_t a1)
{
  return sub_10038D9C4(a1, v1[2], v1[3], v1[4]);
}

uint64_t sub_10038F9B0(uint64_t a1)
{
  return sub_10038E1D4(a1, v1[2], v1[3], v1[4], 0);
}

void sub_10038F9D8()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_haveFlashedScrollIndicators;
  if ((*(unsigned char *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_haveFlashedScrollIndicators) & 1) == 0)
  {
    uint64_t v2 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView);
    [v2 contentSize];
    double v4 = v3;
    [v2 bounds];
    if (CGRectGetHeight(v7) < v4
      || (uint64_t v2 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView),
          [v2 contentSize],
          double v6 = v5,
          [v2 bounds],
          CGRectGetHeight(v8) < v6))
    {
      [v2 flashScrollIndicators];
      *(unsigned char *)(v0 + v1) = 1;
    }
  }
}

uint64_t sub_10038FAA4()
{
  uint64_t v0 = type metadata accessor for SmallLockupLayout.Metrics();
  sub_100042444(v0, qword_1009E3350);
  sub_100087728(v0, (uint64_t)qword_1009E3350);
  if (qword_100980610 != -1) {
    swift_once();
  }
  sub_100087728(v0, (uint64_t)qword_1009E7358);
  return Copyable.copyWithOverrides(in:)();
}

uint64_t sub_10038FB60(uint64_t a1)
{
  uint64_t v2 = type metadata accessor for FontSource();
  double v3 = *(void **)(v2 - 8);
  __chkstk_darwin(v2);
  double v5 = (char *)v30 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  SmallLockupLayout.Metrics.artworkSize.setter();
  uint64_t v45 = &type metadata for Double;
  uint64_t v46 = &protocol witness table for Double;
  v44[0] = 0x4024000000000000;
  uint64_t v40 = a1;
  SmallLockupLayout.Metrics.artworkMargin.setter();
  if (qword_10097F228 != -1) {
    swift_once();
  }
  uint64_t v6 = type metadata accessor for FontUseCase();
  uint64_t v7 = sub_100087728(v6, (uint64_t)qword_1009E40E8);
  uint64_t v8 = *(void *)(v6 - 8);
  uint64_t v9 = *(void (**)(char *, uint64_t, uint64_t))(v8 + 16);
  uint64_t v39 = v8 + 16;
  v9(v5, v7, v6);
  uint64_t v11 = v3 + 13;
  uint64_t v10 = (void (*)(char *))v3[13];
  unsigned int v36 = enum case for FontSource.useCase(_:);
  v10(v5);
  uint64_t v38 = type metadata accessor for StaticDimension();
  uint64_t v45 = (void *)v38;
  uint64_t v46 = &protocol witness table for StaticDimension;
  sub_1000808B8(v44);
  uint64_t v42 = v2;
  uint64_t v43 = &protocol witness table for FontSource;
  uint64_t v12 = sub_1000808B8(v41);
  uint64_t v13 = v3 + 2;
  uint64_t v37 = (void (*)(uint64_t *, char *, uint64_t))v3[2];
  v37(v12, v5, v2);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v16 = (void (*)(char *, uint64_t))v3[1];
  uint64_t v14 = v3 + 1;
  char v15 = v16;
  v16(v5, v2);
  SmallLockupLayout.Metrics.tertiaryTitleSpace.setter();
  if (qword_10097F220 != -1) {
    swift_once();
  }
  uint64_t v33 = sub_100087728(v6, (uint64_t)qword_1009E40D0);
  ((void (*)(char *))v9)(v5);
  ((void (*)(char *, void, uint64_t))v10)(v5, v36, v2);
  uint64_t v45 = (void *)v38;
  uint64_t v46 = &protocol witness table for StaticDimension;
  sub_1000808B8(v44);
  long long v34 = v9;
  uint64_t v42 = v2;
  uint64_t v43 = &protocol witness table for FontSource;
  uint64_t v17 = sub_1000808B8(v41);
  v37(v17, v5, v2);
  StaticDimension.init(_:scaledLike:)();
  v15(v5, v2);
  SmallLockupLayout.Metrics.offerTextSpace.setter();
  long long v35 = v15;
  if (qword_10097F210 != -1) {
    swift_once();
  }
  uint64_t v18 = sub_100087728(v6, (uint64_t)qword_1009E40A0);
  v34(v5, v18, v6);
  uint64_t v19 = v36;
  ((void (*)(char *, void, uint64_t))v10)(v5, v36, v2);
  uint64_t v45 = (void *)v38;
  uint64_t v46 = &protocol witness table for StaticDimension;
  sub_1000808B8(v44);
  uint64_t v42 = v2;
  uint64_t v43 = &protocol witness table for FontSource;
  uint64_t v20 = sub_1000808B8(v41);
  v37(v20, v5, v2);
  StaticDimension.init(_:scaledLike:)();
  v35(v5, v2);
  SmallLockupLayout.Metrics.headingSpace.setter();
  uint64_t v32 = v14;
  uint64_t v21 = v13;
  if (qword_10097F218 != -1) {
    swift_once();
  }
  uint64_t v22 = sub_100087728(v6, (uint64_t)qword_1009E40B8);
  uint64_t v31 = v6;
  uint64_t v23 = v34;
  v34(v5, v22, v6);
  ((void (*)(char *, uint64_t, uint64_t))v10)(v5, v19, v2);
  void v30[2] = v11;
  uint64_t v24 = (void *)v38;
  uint64_t v45 = (void *)v38;
  uint64_t v46 = &protocol witness table for StaticDimension;
  sub_1000808B8(v44);
  uint64_t v42 = v2;
  uint64_t v43 = &protocol witness table for FontSource;
  uint64_t v25 = sub_1000808B8(v41);
  uint64_t v26 = v37;
  v37(v25, v5, v2);
  StaticDimension.init(_:scaledLike:)();
  uint64_t v27 = v35;
  v30[1] = v21;
  v35(v5, v2);
  SmallLockupLayout.Metrics.titleWithHeadingSpace.setter();
  SmallLockupLayout.Metrics.numberOfLines.setter();
  v23(v5, v33, v31);
  ((void (*)(char *, void, uint64_t))v10)(v5, v36, v2);
  uint64_t v45 = v24;
  uint64_t v46 = &protocol witness table for StaticDimension;
  sub_1000808B8(v44);
  uint64_t v42 = v2;
  uint64_t v43 = &protocol witness table for FontSource;
  uint64_t v28 = sub_1000808B8(v41);
  v26(v28, v5, v2);
  StaticDimension.init(_:scaledLike:)();
  v27(v5, v2);
  return SmallLockupLayout.Metrics.subtitleSpace.setter();
}

uint64_t sub_100390154()
{
  uint64_t v0 = type metadata accessor for SmallLockupLayout.Metrics();
  sub_100042444(v0, qword_1009E3368);
  sub_100087728(v0, (uint64_t)qword_1009E3368);
  if (qword_10097ED68 != -1) {
    swift_once();
  }
  sub_100087728(v0, (uint64_t)qword_1009E3350);
  return Copyable.copyWithOverrides(in:)();
}

uint64_t sub_100390210()
{
  return SmallLockupLayout.Metrics.artworkSize.setter();
}

uint64_t sub_100390240()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void **)(v0 - 8);
  __chkstk_darwin(v0);
  double v3 = (uint64_t *)((char *)&v69 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for AspectRatio();
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)&v69 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  sub_100042444(v7, qword_1009E3380);
  uint64_t v70 = sub_100087728(v7, (uint64_t)qword_1009E3380);
  uint64_t v71 = v6;
  AspectRatio.init(_:_:)();
  uint64_t v160 = &type metadata for Double;
  uint64_t v161 = &protocol witness table for Double;
  uint64_t v158 = &protocol witness table for Double;
  *(void *)&long long v159 = 0x4030000000000000;
  uint64_t v157 = &type metadata for Double;
  *(void *)&long long v156 = 0x4030000000000000;
  if (qword_10097EDA8 != -1) {
    swift_once();
  }
  uint64_t v8 = (void *)qword_100993080;
  *double v3 = qword_100993080;
  unsigned int v77 = enum case for FontSource.textStyle(_:);
  double v73 = (void (*)(void *))v1[13];
  v73(v3);
  uint64_t v79 = type metadata accessor for StaticDimension();
  uint64_t v154 = v79;
  uint64_t v155 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v153);
  unint64_t v151 = (void *)v0;
  uint64_t v152 = &protocol witness table for FontSource;
  uint64_t v9 = sub_1000808B8((uint64_t *)&v150);
  uint64_t v10 = (void (*)(uint64_t *, void *, uint64_t))v1[2];
  v10(v9, v3, v0);
  id v11 = v8;
  StaticDimension.init(_:scaledLike:)();
  uint64_t v12 = (void (*)(void *, uint64_t))v1[1];
  v12(v3, v0);
  uint64_t v152 = &protocol witness table for Double;
  unint64_t v151 = &type metadata for Double;
  *(void *)&long long v150 = 0x4030000000000000;
  uint64_t v149 = &protocol witness table for Double;
  uint64_t v148 = &type metadata for Double;
  *(void *)&long long v147 = 0x4030000000000000;
  uint64_t v13 = type metadata accessor for ZeroDimension();
  uint64_t v145 = v13;
  uint64_t v146 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v144);
  static ZeroDimension.zero.getter();
  uint64_t v69 = v13;
  uint64_t v142 = v13;
  uint64_t v14 = v77;
  long long v143 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v141);
  static ZeroDimension.zero.getter();
  char v15 = (void *)qword_100993080;
  *double v3 = qword_100993080;
  uint64_t v78 = v1 + 13;
  ((void (*)(void *, uint64_t, uint64_t))v73)(v3, v14, v0);
  uint64_t v139 = v79;
  uint64_t v140 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v138);
  uint64_t v136 = v0;
  CGRect v137 = &protocol witness table for FontSource;
  uint64_t v16 = sub_1000808B8((uint64_t *)&v135);
  id v74 = v10;
  id v75 = v1 + 2;
  v10(v16, v3, v0);
  id v17 = v15;
  StaticDimension.init(_:scaledLike:)();
  id v76 = v12;
  uint64_t v72 = v1 + 1;
  v12(v3, v0);
  if (qword_10097EDB0 != -1) {
    swift_once();
  }
  uint64_t v18 = (void *)qword_100993088;
  *double v3 = qword_100993088;
  ((void (*)(void *, uint64_t, uint64_t))v73)(v3, v14, v0);
  uint64_t v19 = v79;
  uint64_t v136 = v79;
  CGRect v137 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v135);
  CGRect v133 = (void *)v0;
  CGRect v134 = &protocol witness table for FontSource;
  uint64_t v20 = sub_1000808B8((uint64_t *)&v132);
  uint64_t v21 = v74;
  v74(v20, v3, v0);
  id v22 = v18;
  StaticDimension.init(_:scaledLike:)();
  v76(v3, v0);
  CGRect v134 = &protocol witness table for Double;
  CGRect v133 = &type metadata for Double;
  *(void *)&long long v132 = 0x4034000000000000;
  uint64_t v23 = (void *)qword_100993080;
  *double v3 = qword_100993080;
  uint64_t v24 = v14;
  uint64_t v25 = (void (*)(void *, void, uint64_t))v73;
  ((void (*)(void *, uint64_t, uint64_t))v73)(v3, v24, v0);
  uint64_t v130 = v19;
  uint64_t v131 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v129);
  uint64_t v127 = v0;
  uint64_t v128 = &protocol witness table for FontSource;
  uint64_t v26 = sub_1000808B8((uint64_t *)&v126);
  v21(v26, v3, v0);
  id v27 = v23;
  StaticDimension.init(_:scaledLike:)();
  v76(v3, v0);
  uint64_t v28 = v69;
  uint64_t v127 = v69;
  uint64_t v128 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v126);
  static ZeroDimension.zero.getter();
  uint64_t v124 = v28;
  uint64_t v125 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v123);
  static ZeroDimension.zero.getter();
  uint64_t v121 = v28;
  uint64_t v122 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v120);
  static ZeroDimension.zero.getter();
  if (qword_10097EDB8 != -1) {
    swift_once();
  }
  char v29 = (void *)qword_100993090;
  *double v3 = qword_100993090;
  v25(v3, v77, v0);
  uint64_t v118 = v79;
  id v119 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v117);
  uint64_t v115 = v0;
  double v116 = &protocol witness table for FontSource;
  uint64_t v30 = sub_1000808B8((uint64_t *)&v114);
  uint64_t v31 = v74;
  v74(v30, v3, v0);
  id v32 = v29;
  StaticDimension.init(_:scaledLike:)();
  v76(v3, v0);
  uint64_t v33 = (void *)qword_100993090;
  *double v3 = qword_100993090;
  uint64_t v34 = v77;
  v25(v3, v77, v0);
  uint64_t v35 = v79;
  uint64_t v115 = v79;
  double v116 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v114);
  uint64_t v112 = v0;
  double v113 = &protocol witness table for FontSource;
  unsigned int v36 = sub_1000808B8((uint64_t *)&v111);
  v31(v36, v3, v0);
  id v37 = v33;
  StaticDimension.init(_:scaledLike:)();
  uint64_t v38 = v76;
  v76(v3, v0);
  uint64_t v39 = (void *)qword_100993090;
  *double v3 = qword_100993090;
  uint64_t v40 = (void (*)(void *, uint64_t, uint64_t))v73;
  ((void (*)(void *, uint64_t, uint64_t))v73)(v3, v34, v0);
  uint64_t v112 = v35;
  double v113 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v111);
  uint64_t v109 = v0;
  double v110 = &protocol witness table for FontSource;
  uint64_t v41 = sub_1000808B8((uint64_t *)&v108);
  v31(v41, v3, v0);
  id v42 = v39;
  StaticDimension.init(_:scaledLike:)();
  v38(v3, v0);
  if (qword_10097EDC0 != -1) {
    swift_once();
  }
  uint64_t v43 = (void *)qword_100993098;
  *double v3 = qword_100993098;
  v40(v3, v34, v0);
  uint64_t v109 = v79;
  double v110 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v108);
  uint64_t v106 = v0;
  uint64_t v107 = &protocol witness table for FontSource;
  uint64_t v44 = sub_1000808B8((uint64_t *)&v105);
  uint64_t v45 = v74;
  v74(v44, v3, v0);
  id v46 = v43;
  StaticDimension.init(_:scaledLike:)();
  v76(v3, v0);
  uint64_t v47 = (void *)qword_100993098;
  *double v3 = qword_100993098;
  v40(v3, v77, v0);
  uint64_t v48 = v79;
  uint64_t v106 = v79;
  uint64_t v107 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v105);
  uint64_t v103 = (void *)v0;
  double v104 = &protocol witness table for FontSource;
  id v49 = sub_1000808B8((uint64_t *)&v102);
  v45(v49, v3, v0);
  id v50 = v47;
  StaticDimension.init(_:scaledLike:)();
  uint64_t v51 = v76;
  v76(v3, v0);
  double v104 = &protocol witness table for Double;
  uint64_t v103 = &type metadata for Double;
  *(void *)&long long v102 = 0x4032000000000000;
  id v52 = (void *)qword_100993098;
  *double v3 = qword_100993098;
  v40(v3, v77, v0);
  uint64_t v100 = v48;
  uint64_t v101 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v99);
  uint64_t v97 = (void *)v0;
  id v98 = &protocol witness table for FontSource;
  id v53 = sub_1000808B8((uint64_t *)&v96);
  v74(v53, v3, v0);
  id v54 = v52;
  StaticDimension.init(_:scaledLike:)();
  id v55 = v51;
  v51(v3, v0);
  id v98 = &protocol witness table for Double;
  uint64_t v97 = &type metadata for Double;
  double v95 = &protocol witness table for Double;
  *(void *)&long long v96 = 0x4032000000000000;
  int v94 = &type metadata for Double;
  *(void *)&long long v93 = 0x4024000000000000;
  uint64_t v56 = (void *)qword_100993098;
  *double v3 = qword_100993098;
  char v57 = (void (*)(void *, void, uint64_t))v73;
  ((void (*)(void *, void, uint64_t))v73)(v3, v77, v0);
  uint64_t v58 = v79;
  uint64_t v91 = v79;
  uint64_t v92 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v90);
  uint64_t v88 = v0;
  uint64_t v89 = &protocol witness table for FontSource;
  uint64_t v59 = sub_1000808B8((uint64_t *)&v87);
  v74(v59, v3, v0);
  id v60 = v56;
  StaticDimension.init(_:scaledLike:)();
  v55(v3, v0);
  uint64_t v61 = (void *)qword_100993098;
  *double v3 = qword_100993098;
  v57(v3, v77, v0);
  uint64_t v88 = v58;
  uint64_t v89 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v87);
  uint64_t v85 = (void *)v0;
  uint64_t v86 = &protocol witness table for FontSource;
  uint64_t v62 = sub_1000808B8((uint64_t *)&v84);
  uint64_t v63 = v74;
  v74(v62, v3, v0);
  id v64 = v61;
  StaticDimension.init(_:scaledLike:)();
  v55(v3, v0);
  uint64_t v86 = &protocol witness table for Double;
  uint64_t v85 = &type metadata for Double;
  *(void *)&long long v84 = 0x4024000000000000;
  if (qword_10097ED98 != -1) {
    swift_once();
  }
  uint64_t v65 = (void *)qword_100993070;
  *double v3 = qword_100993070;
  ((void (*)(void *, void, uint64_t))v73)(v3, v77, v0);
  uint64_t v82 = v79;
  uint64_t v83 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v81);
  v80[3] = v0;
  v80[4] = (uint64_t)&protocol witness table for FontSource;
  uint64_t v66 = sub_1000808B8(v80);
  v63(v66, v3, v0);
  id v67 = v65;
  StaticDimension.init(_:scaledLike:)();
  v76(v3, v0);
  return AppEventDetailPageLayout.Metrics.init(artworkAspectRatio:contentHorizontalMargin:formattedDateTopMargin:accessibleFormattedDateTopMargin:closeButtonTopMargin:closeButtonLeadingMargin:closeButtonSize:muteButtonSpace:kindTopSpace:accessibleKindTopSpace:titleTopSpace:titleTrailingMargin:accessibleOverlayBottomSpace:shareButtonSize:accessibleShareButtonTopSpace:shareButtonLeadingContentInset:shareButtonBaseline:detailTopSpace:accessibleDetailTopSpace:accessibleContentContainerTopSpace:requirementsTopSpace:accessibleRequirementsTopSpace:notifyMeButtonTopSpace:accessibleNotifyMeButtonTopSpace:separatorTopSpace:separatorBottomSpace:accessibleSeparatorTopSpace:accessibleSeparatorBottomSpace:lockupBottomSpace:accessibleLockupBottomSpace:)((uint64_t)v71, &v159, &v156, &v153, &v150, &v147, &v144, &v141, v70, 0.0, 0.0, 0.0, 0.0, &v138, &v135, &v132, &v129, &v126, &v123,
           &v120,
           &v117,
           &v114,
           &v111,
           &v108,
           &v105,
           &v102,
           &v99,
           &v96,
           &v93,
           &v90,
           &v87,
           &v84,
           &v81);
}

uint64_t sub_100390F18()
{
  uint64_t v0 = type metadata accessor for FontSource();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  double v3 = (void *)((char *)v47 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0));
  uint64_t v4 = type metadata accessor for AspectRatio();
  __chkstk_darwin(v4 - 8);
  uint64_t v6 = (char *)v47 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  sub_100042444(v7, qword_1009E3398);
  uint64_t v48 = sub_100087728(v7, (uint64_t)qword_1009E3398);
  id v49 = v6;
  AspectRatio.init(_:_:)();
  CGRect v137 = &type metadata for Double;
  long long v138 = &protocol witness table for Double;
  long long v135 = &protocol witness table for Double;
  *(void *)&long long v136 = 0x4034000000000000;
  CGRect v134 = &type metadata for Double;
  *(void *)&long long v133 = 0x4034000000000000;
  uint64_t v8 = type metadata accessor for ZeroDimension();
  uint64_t v131 = v8;
  long long v132 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v130);
  static ZeroDimension.zero.getter();
  uint64_t v128 = &type metadata for Double;
  long long v129 = &protocol witness table for Double;
  *(void *)&long long v127 = 0x4034000000000000;
  long long v126 = &protocol witness table for Double;
  uint64_t v125 = &type metadata for Double;
  *(void *)&long long v124 = 0x4034000000000000;
  uint64_t v52 = v8;
  uint64_t v122 = v8;
  long long v123 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v121);
  static ZeroDimension.zero.getter();
  if (qword_10097ED88 != -1) {
    swift_once();
  }
  uint64_t v9 = (void *)qword_100993060;
  *double v3 = qword_100993060;
  unsigned int v57 = enum case for FontSource.textStyle(_:);
  uint64_t v10 = v1;
  uint64_t v12 = v1 + 104;
  id v11 = *(void (**)(void *))(v1 + 104);
  v11(v3);
  uint64_t v56 = type metadata accessor for StaticDimension();
  uint64_t v119 = v56;
  long long v120 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v118);
  uint64_t v116 = v0;
  long long v117 = &protocol witness table for FontSource;
  uint64_t v13 = sub_1000808B8((uint64_t *)&v115);
  uint64_t v14 = *(void (**)(uint64_t *, void *, uint64_t))(v10 + 16);
  v14(v13, v3, v0);
  id v15 = v9;
  StaticDimension.init(_:scaledLike:)();
  uint64_t v16 = *(void (**)(void *, uint64_t))(v10 + 8);
  v16(v3, v0);
  id v17 = (void *)qword_100993060;
  *double v3 = qword_100993060;
  id v53 = (void (*)(void *, void, uint64_t))v11;
  uint64_t v50 = v12;
  ((void (*)(void *, void, uint64_t))v11)(v3, v57, v0);
  uint64_t v116 = v56;
  long long v117 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v115);
  double v113 = (void *)v0;
  long long v114 = &protocol witness table for FontSource;
  uint64_t v18 = sub_1000808B8((uint64_t *)&v112);
  id v55 = v14;
  uint64_t v51 = v10 + 16;
  v14(v18, v3, v0);
  id v19 = v17;
  StaticDimension.init(_:scaledLike:)();
  v16(v3, v0);
  long long v114 = &protocol witness table for Double;
  double v113 = &type metadata for Double;
  *(void *)&long long v112 = 0x4000000000000000;
  long long v111 = &protocol witness table for Double;
  double v110 = &type metadata for Double;
  *(void *)&long long v109 = 0x4034000000000000;
  uint64_t v20 = v52;
  uint64_t v107 = v52;
  long long v108 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v106);
  static ZeroDimension.zero.getter();
  if (qword_10097ED90 != -1) {
    swift_once();
  }
  uint64_t v21 = (void *)qword_100993068;
  *double v3 = qword_100993068;
  v53(v3, v57, v0);
  uint64_t v104 = v56;
  long long v105 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v103);
  uint64_t v101 = v0;
  long long v102 = &protocol witness table for FontSource;
  id v22 = sub_1000808B8((uint64_t *)&v100);
  v55(v22, v3, v0);
  id v23 = v21;
  StaticDimension.init(_:scaledLike:)();
  v16(v3, v0);
  uint64_t v101 = v20;
  long long v102 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v100);
  static ZeroDimension.zero.getter();
  uint64_t v98 = v20;
  long long v99 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v97);
  static ZeroDimension.zero.getter();
  id v54 = v16;
  if (qword_10097ED98 != -1) {
    swift_once();
  }
  uint64_t v24 = (void *)qword_100993070;
  *double v3 = qword_100993070;
  uint64_t v25 = v53;
  v53(v3, v57, v0);
  uint64_t v95 = v56;
  long long v96 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v94);
  uint64_t v92 = v0;
  long long v93 = &protocol witness table for FontSource;
  uint64_t v26 = sub_1000808B8((uint64_t *)&v91);
  v55(v26, v3, v0);
  id v27 = v24;
  StaticDimension.init(_:scaledLike:)();
  v54(v3, v0);
  uint64_t v92 = v20;
  long long v93 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v91);
  static ZeroDimension.zero.getter();
  uint64_t v89 = v20;
  long long v90 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v88);
  static ZeroDimension.zero.getter();
  long long v87 = &protocol witness table for Double;
  uint64_t v86 = &type metadata for Double;
  long long v84 = &protocol witness table for ZeroDimension;
  *(void *)&long long v85 = 0x4022000000000000;
  uint64_t v83 = v20;
  sub_1000808B8((uint64_t *)&v82);
  static ZeroDimension.zero.getter();
  uint64_t v28 = v10 + 8;
  if (qword_10097EDA0 != -1) {
    swift_once();
  }
  char v29 = (void *)qword_100993078;
  *double v3 = qword_100993078;
  v25(v3, v57, v0);
  uint64_t v80 = v56;
  long long v81 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v79);
  uint64_t v77 = v0;
  uint64_t v78 = &protocol witness table for FontSource;
  uint64_t v30 = sub_1000808B8((uint64_t *)&v76);
  v55(v30, v3, v0);
  id v31 = v29;
  StaticDimension.init(_:scaledLike:)();
  v54(v3, v0);
  uint64_t v77 = v52;
  uint64_t v78 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v76);
  static ZeroDimension.zero.getter();
  id v32 = (void *)qword_100993078;
  *double v3 = qword_100993078;
  uint64_t v33 = v57;
  v25(v3, v57, v0);
  uint64_t v34 = v56;
  uint64_t v74 = v56;
  id v75 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v73);
  uint64_t v71 = v0;
  uint64_t v72 = &protocol witness table for FontSource;
  uint64_t v35 = sub_1000808B8((uint64_t *)&v70);
  unsigned int v36 = v55;
  v55(v35, v3, v0);
  id v37 = v32;
  StaticDimension.init(_:scaledLike:)();
  v47[1] = v28;
  uint64_t v38 = v54;
  v54(v3, v0);
  uint64_t v39 = (void *)qword_100993078;
  *double v3 = qword_100993078;
  v53(v3, v33, v0);
  uint64_t v71 = v34;
  uint64_t v72 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v70);
  uint64_t v68 = v0;
  uint64_t v69 = &protocol witness table for FontSource;
  uint64_t v40 = sub_1000808B8((uint64_t *)&v67);
  v36(v40, v3, v0);
  id v41 = v39;
  StaticDimension.init(_:scaledLike:)();
  v38(v3, v0);
  uint64_t v42 = v52;
  uint64_t v68 = v52;
  uint64_t v69 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v67);
  static ZeroDimension.zero.getter();
  uint64_t v65 = v42;
  uint64_t v66 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v64);
  static ZeroDimension.zero.getter();
  uint64_t v43 = (void *)qword_100993078;
  *double v3 = qword_100993078;
  v53(v3, v57, v0);
  uint64_t v62 = v56;
  uint64_t v63 = &protocol witness table for StaticDimension;
  sub_1000808B8((uint64_t *)&v61);
  uint64_t v59 = v0;
  id v60 = &protocol witness table for FontSource;
  uint64_t v44 = sub_1000808B8((uint64_t *)&v58);
  v36(v44, v3, v0);
  id v45 = v43;
  StaticDimension.init(_:scaledLike:)();
  v54(v3, v0);
  uint64_t v59 = v42;
  id v60 = &protocol witness table for ZeroDimension;
  sub_1000808B8((uint64_t *)&v58);
  static ZeroDimension.zero.getter();
  return AppEventDetailPageLayout.Metrics.init(artworkAspectRatio:contentHorizontalMargin:formattedDateTopMargin:accessibleFormattedDateTopMargin:closeButtonTopMargin:closeButtonLeadingMargin:closeButtonSize:muteButtonSpace:kindTopSpace:accessibleKindTopSpace:titleTopSpace:titleTrailingMargin:accessibleOverlayBottomSpace:shareButtonSize:accessibleShareButtonTopSpace:shareButtonLeadingContentInset:shareButtonBaseline:detailTopSpace:accessibleDetailTopSpace:accessibleContentContainerTopSpace:requirementsTopSpace:accessibleRequirementsTopSpace:notifyMeButtonTopSpace:accessibleNotifyMeButtonTopSpace:separatorTopSpace:separatorBottomSpace:accessibleSeparatorTopSpace:accessibleSeparatorBottomSpace:lockupBottomSpace:accessibleLockupBottomSpace:)((uint64_t)v49, &v136, &v133, &v130, &v127, &v124, &v121, &v118, v48, 0.0, 0.0, 0.0, 0.0, &v115, &v112, &v109, &v106, &v103, &v100,
           &v97,
           &v94,
           &v91,
           &v88,
           &v85,
           &v82,
           &v79,
           &v76,
           &v73,
           &v70,
           &v67,
           &v64,
           &v61,
           &v58);
}

UIFontTextStyle sub_10039192C()
{
  qword_100993060 = (uint64_t)UIFontTextStyleFootnote;
  return UIFontTextStyleFootnote;
}

UIFontTextStyle sub_100391944()
{
  qword_100993068 = (uint64_t)UIFontTextStyleTitle1;
  return UIFontTextStyleTitle1;
}

UIFontTextStyle sub_10039195C()
{
  qword_100993070 = (uint64_t)UIFontTextStyleSubheadline;
  return UIFontTextStyleSubheadline;
}

UIFontTextStyle sub_100391974()
{
  qword_100993078 = (uint64_t)UIFontTextStyleCaption1;
  return UIFontTextStyleCaption1;
}

UIFontTextStyle sub_10039198C()
{
  qword_100993080 = (uint64_t)UIFontTextStyleCaption2;
  return UIFontTextStyleCaption2;
}

UIFontTextStyle sub_1003919A4()
{
  qword_100993088 = (uint64_t)UIFontTextStyleTitle3;
  return UIFontTextStyleTitle3;
}

UIFontTextStyle sub_1003919BC()
{
  qword_100993090 = (uint64_t)UIFontTextStyleFootnote;
  return UIFontTextStyleFootnote;
}

UIFontTextStyle sub_1003919D4()
{
  qword_100993098 = (uint64_t)UIFontTextStyleCaption2;
  return UIFontTextStyleCaption2;
}

id sub_1003919EC(uint64_t a1)
{
  return sub_100391BBC(a1, &qword_10097ED88, &qword_100993060, &qword_1009930A0);
}

id sub_100391A18()
{
  uint64_t v0 = self;
  if (qword_10097ED90 != -1) {
    swift_once();
  }
  id result = [v0 _preferredFontForTextStyle:qword_100993068 weight:UIFontWeightMedium];
  qword_1009930A8 = (uint64_t)result;
  return result;
}

id sub_100391AA8(uint64_t a1)
{
  return sub_100391C7C(a1, &qword_10097ED98, &qword_100993070, &qword_1009930B0);
}

id sub_100391AD4()
{
  uint64_t v0 = self;
  if (qword_10097EDA0 != -1) {
    swift_once();
  }
  id result = [v0 _preferredFontForTextStyle:qword_100993078 weight:UIFontWeightMedium];
  qword_1009930B8 = (uint64_t)result;
  return result;
}

id sub_100391B64(uint64_t a1)
{
  return sub_100391BBC(a1, &qword_10097EDA8, &qword_100993080, &qword_1009930C0);
}

id sub_100391B90(uint64_t a1)
{
  return sub_100391BBC(a1, &qword_10097EDB0, &qword_100993088, &qword_1009930C8);
}

id sub_100391BBC(uint64_t a1, void *a2, void *a3, void *a4)
{
  uint64_t v7 = self;
  if (*a2 != -1) {
    swift_once();
  }
  id result = [v7 _preferredFontForTextStyle:*a3 weight:UIFontWeightSemibold];
  *a4 = result;
  return result;
}

id sub_100391C50(uint64_t a1)
{
  return sub_100391C7C(a1, &qword_10097EDB8, &qword_100993090, &qword_1009930D0);
}

id sub_100391C7C(uint64_t a1, void *a2, void *a3, void *a4)
{
  uint64_t v7 = self;
  if (*a2 != -1) {
    swift_once();
  }
  id result = [v7 preferredFontForTextStyle:*a3];
  *a4 = result;
  return result;
}

id sub_100391D04()
{
  uint64_t v0 = self;
  if (qword_10097EDC0 != -1) {
    swift_once();
  }
  id result = [v0 _preferredFontForTextStyle:qword_100993098 weight:UIFontWeightMedium];
  qword_1009930D8 = (uint64_t)result;
  return result;
}

UIColor sub_100391D94()
{
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  uint64_t v0 = self;
  result.super.Class isa = UIColor.init(light:dark:)((UIColor)[v0 whiteColor], (UIColor)objc_msgSend(v0, "secondarySystemBackgroundColor")).super.isa;
  qword_1009930E0 = (uint64_t)result.super.isa;
  return result;
}

id sub_100391E28()
{
  id result = [self blackColor];
  qword_1009930E8 = (uint64_t)result;
  return result;
}

uint64_t sub_100391E64()
{
  uint64_t v0 = type metadata accessor for SystemImage();
  uint64_t v1 = *(void *)(v0 - 8);
  __chkstk_darwin(v0);
  double v3 = (char *)&v7 - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v4 = type metadata accessor for UIButton.Configuration();
  sub_100042444(v4, qword_1009930F0);
  sub_100087728(v4, (uint64_t)qword_1009930F0);
  static UIButton.Configuration.plain()();
  UIButton.Configuration.contentInsets.setter();
  id v5 = [self configurationWithTextStyle:UIFontTextStyleTitle3 scale:2];
  UIButton.Configuration.preferredSymbolConfigurationForImage.setter();
  (*(void (**)(char *, void, uint64_t))(v1 + 104))(v3, enum case for SystemImage.squareAndArrowUp(_:), v0);
  static SystemImage.load(_:with:)();
  (*(void (**)(char *, uint64_t))(v1 + 8))(v3, v0);
  return UIButton.Configuration.image.setter();
}

id sub_100391FE4()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for CornerStyle();
  uint64_t v3 = *(void *)(v2 - 8);
  *(void *)&double v4 = __chkstk_darwin(v2).n128_u64[0];
  uint64_t v6 = (char *)&v48 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v7 = [v0 traitCollection];
  char v8 = UITraitCollection.isSizeClassCompact.getter();

  if (v8)
  {
    BOOL v9 = 1;
  }
  else
  {
    uint64_t v10 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView];
    [v10 contentSize];
    double v12 = v11;
    [v10 bounds];
    BOOL v9 = v12 <= CGRectGetHeight(v49);
  }
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView] setAlwaysBounceVertical:v9];
  uint64_t v13 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardContentView];
  id v14 = [v1 traitCollection];
  char v15 = UITraitCollection.isSizeClassRegular.getter();

  if (v15)
  {
    if (qword_10097EE10 != -1) {
      swift_once();
    }
    uint64_t v16 = &qword_1009930E8;
  }
  else
  {
    if (qword_10097EE08 != -1) {
      swift_once();
    }
    uint64_t v16 = &qword_1009930E0;
  }
  [v13 setBackgroundColor:*v16];
  id v17 = [v1 traitCollection];
  char v18 = UITraitCollection.isSizeClassRegular.getter();

  if (v18) {
    double v19 = 12.0;
  }
  else {
    double v19 = 8.0;
  }
  uint64_t v20 = enum case for CornerStyle.continuous(_:);
  uint64_t v21 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 104);
  v21(v6, enum case for CornerStyle.continuous(_:), v2);
  dispatch thunk of RoundedCornerView.setCorner(radius:style:)();
  id v22 = *(void (**)(char *, uint64_t))(v3 + 8);
  v22(v6, v2);
  v21(v6, v20, v2);
  dispatch thunk of ShadowView.setCorner(radius:style:)();
  v22(v6, v2);
  v21(v6, v20, v2);
  dispatch thunk of RoundedCornerView.setCorner(radius:style:)();
  v22(v6, v2);
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v24 = Strong;
    [Strong _setCornerRadius:v19];
  }
  uint64_t v25 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel];
  id v26 = [v1 traitCollection];
  char v27 = UITraitCollection.isSizeClassRegular.getter();

  if (v27)
  {
    if (qword_10097EDC8 != -1) {
      swift_once();
    }
    uint64_t v28 = &qword_1009930A0;
  }
  else
  {
    if (qword_10097EDE8 != -1) {
      swift_once();
    }
    uint64_t v28 = &qword_1009930C0;
  }
  [v25 setFont:*v28];
  char v29 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel];
  id v30 = [v1 traitCollection];
  char v31 = UITraitCollection.isSizeClassRegular.getter();

  if (v31)
  {
    if (qword_10097EDD0 != -1) {
      swift_once();
    }
    id v32 = &qword_1009930A8;
  }
  else
  {
    if (qword_10097EDF0 != -1) {
      swift_once();
    }
    id v32 = &qword_1009930C8;
  }
  [v29 setFont:*v32];
  uint64_t v33 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel];
  id v34 = [v1 traitCollection];
  char v35 = UITraitCollection.isSizeClassRegular.getter();

  if (v35)
  {
    if (qword_10097EDD8 != -1) {
      swift_once();
    }
    unsigned int v36 = &qword_1009930B0;
  }
  else
  {
    if (qword_10097EDF8 != -1) {
      swift_once();
    }
    unsigned int v36 = &qword_1009930D0;
  }
  [v33 setFont:*v36];
  id v37 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel];
  if (v37)
  {
    id v38 = v37;
    id v39 = [v1 traitCollection];
    char v40 = UITraitCollection.isSizeClassRegular.getter();

    if (v40)
    {
      if (qword_10097EDE0 != -1) {
        swift_once();
      }
      id v41 = &qword_1009930B8;
    }
    else
    {
      if (qword_10097EE00 != -1) {
        swift_once();
      }
      id v41 = &qword_1009930D8;
    }
    [v38 setFont:*v41];
  }
  id v42 = [v1 traitCollection];
  char v43 = UITraitCollection.isSizeClassRegular.getter();

  if (v43)
  {
    uint64_t v44 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView];
    if (v44) {
      [v44 setHidden:1];
    }
    sub_1003941B8();
    sub_100396048();
  }
  else
  {
    sub_10039626C();
    id v45 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView];
    if (v45) {
      [v45 setHidden:1];
    }
    id v46 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView];
    if (v46) {
      [v46 setHidden:1];
    }
  }
  return [v1 setNeedsLayout];
}

uint64_t sub_1003926C8()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for SmallLockupLayout.Metrics();
  uint64_t v3 = *(void *)(v2 - 8);
  *(void *)&double v4 = __chkstk_darwin(v2).n128_u64[0];
  uint64_t v6 = (char *)&v45 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v7 = [v0 traitCollection];
  char v8 = UITraitCollection.prefersAccessibilityLayouts.getter();
  id v45 = v6;
  if (v8)
  {
    char v9 = UITraitCollection.isSizeClassCompact.getter();

    if (v9)
    {
      uint64_t v10 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView];
      double v11 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel];
      [v10 addSubview:v11];
      uint64_t v12 = *(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton];
      [v10 addSubview:v12];
      [v10 addSubview:*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView]];
      uint64_t v13 = *(char **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView];
      [v10 addSubview:];
      uint64_t v14 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel;
      if (*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel]) {
        [v10 addSubview:];
      }
      unsigned int v15 = *(unsigned __int8 *)(v12 + OBJC_IVAR____TtC8AppStore14NotifyMeButton_style);
      *(unsigned char *)(v12 + OBJC_IVAR____TtC8AppStore14NotifyMeButton_style) = 2;
      if (v15 > 1)
      {
        swift_bridgeObjectRelease();
      }
      else
      {
        char v27 = _stringCompareWithSmolCheck(_:_:expecting:)();
        swift_bridgeObjectRelease();
        if ((v27 & 1) == 0) {
          sub_1004D26D0();
        }
      }
      sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
      uint64_t v28 = (void *)static UIColor.primaryText.getter();
      [v11 setTextColor:v28];

      char v29 = *(void **)&v1[v14];
      if (v29)
      {
        id v25 = v29;
        uint64_t v26 = static UIColor.secondaryText.getter();
        goto LABEL_21;
      }
      goto LABEL_22;
    }
  }
  else
  {
  }
  uint64_t v16 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView];
  id v17 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel];
  [v16 addSubview:v17];
  uint64_t v18 = *(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton];
  [v16 addSubview:v18];
  [v16 addSubview:*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView]];
  uint64_t v13 = *(char **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView];
  [v16 addSubview:];
  uint64_t v19 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel;
  if (*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel]) {
    [v16 addSubview:];
  }
  int v20 = *(unsigned __int8 *)(v18 + OBJC_IVAR____TtC8AppStore14NotifyMeButton_style);
  *(unsigned char *)(v18 + OBJC_IVAR____TtC8AppStore14NotifyMeButton_style) = 1;
  if (v20 == 1)
  {
    swift_bridgeObjectRelease();
  }
  else
  {
    char v21 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    if ((v21 & 1) == 0) {
      sub_1004D26D0();
    }
  }
  sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v22 = (void *)static UIColor.primaryText.getter();
  id v23 = [v22 colorWithAlphaComponent:0.7];

  [v17 setTextColor:v23];
  uint64_t v24 = *(void **)&v1[v19];
  if (v24)
  {
    id v25 = v24;
    uint64_t v26 = static UIColor.primaryText.getter();
LABEL_21:
    id v30 = (void *)v26;
    [v25 setTextColor:v26];
    char v31 = v13;
    id v32 = v45;
    uint64_t v33 = &stru_100950000;
    id v34 = &stru_100950000;

    goto LABEL_23;
  }
LABEL_22:
  char v31 = v13;
  id v32 = v45;
  uint64_t v33 = &stru_100950000;
  id v34 = &stru_100950000;
LABEL_23:
  id v35 = [v1 v33[196].name:v45];
  if (UITraitCollection.isSizeClassCompact.getter())
  {
    id v36 = [v35 preferredContentSizeCategory];
    char v37 = static UIContentSizeCategory.>= infix(_:_:)();

    if (v37)
    {
      id v38 = &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView;
      goto LABEL_28;
    }
  }
  else
  {
  }
  id v38 = &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView;
LABEL_28:
  [*(id *)&v1[*v38] v34[103].name *(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel]];
  id v39 = [v1 v33[196].name];
  char v40 = UITraitCollection.prefersAccessibilityLayouts.getter();

  if (v40)
  {
    if (qword_10097ED70 != -1) {
      swift_once();
    }
    id v41 = qword_1009E3368;
  }
  else
  {
    if (qword_10097ED68 != -1) {
      swift_once();
    }
    id v41 = qword_1009E3350;
  }
  uint64_t v42 = sub_100087728(v2, (uint64_t)v41);
  (*(void (**)(char *, uint64_t, uint64_t))(v3 + 16))(v32, v42, v2);
  char v43 = &v31[OBJC_IVAR____TtC8AppStore15SmallLockupView_metrics];
  swift_beginAccess();
  (*(void (**)(char *, char *, uint64_t))(v3 + 24))(v43, v32, v2);
  swift_endAccess();
  [v31 setNeedsLayout];
  return (*(uint64_t (**)(char *, uint64_t))(v3 + 8))(v32, v2);
}

void sub_100392D10()
{
  uint64_t v1 = v0;
  id v2 = [*(id *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView] traitCollection];
  [v2 userInterfaceStyle];

  static String._unconditionallyBridgeFromObjectiveC(_:)();
  id v29 = String._bridgeToObjectiveC()();
  swift_bridgeObjectRelease();
  id v3 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView] layer];
  [v3 setCompositingFilter:v29];

  id v4 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel] layer];
  [v4 setCompositingFilter:v29];

  id v5 = [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel] layer];
  [v5 setCompositingFilter:v29];

  uint64_t v6 = *(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView];
  id v7 = objc_retainAutoreleasedReturnValue(objc_msgSend(*(id *)(v6
                                                             + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel), "layer"));
  [v7 setCompositingFilter:v29];

  id v8 = [*(id *)(*(void *)(v6 + OBJC_IVAR____TtC8AppStore14BaseLockupView_offerButton)+ OBJC_IVAR____TtC8AppStore11OfferButton_subtitleLabel) layer];
  [v8 setCompositingFilter:v29];

  char v9 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton];
  if (v9)
  {
    id v10 = [v9 imageView];
    if (v10)
    {
      double v11 = v10;
      id v12 = [v10 layer];

      [v12 setCompositingFilter:v29];
    }
  }
  if (v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_includeBorderInDarkMode] == 1)
  {
    id v13 = [v1 traitCollection];
    id v14 = [v13 userInterfaceStyle];

    BOOL v15 = v14 != (id)2;
  }
  else
  {
    BOOL v15 = 1;
  }
  [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_borderView] setHidden:v15];
  sub_1004D26D0();
  uint64_t v16 = *(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator];
  if (!v16) {
    goto LABEL_10;
  }
  swift_retain();
  id v17 = [v1 traitCollection];
  id v18 = [v17 userInterfaceStyle];

  id v19 = *(id *)(v16 + 32);
  *(void *)(v16 + 32) = v18;
  if (v18 == v19)
  {
    swift_release();
LABEL_10:

    return;
  }
  char v20 = *(unsigned char *)(v16 + 24);
  static CGFloat.solvedValue(between:and:forInput:)();
  double v22 = v21;
  if (v20) {
    char v23 = *(unsigned char *)(v16 + 25);
  }
  else {
    char v23 = 0;
  }
  uint64_t v24 = *(void **)(v16 + 16);
  id v25 = self;
  uint64_t v26 = swift_allocObject();
  *(void *)(v26 + 16) = v24;
  *(unsigned char *)(v26 + 24) = v23;
  aBlock[4] = sub_100361F04;
  aBlock[5] = v26;
  aBlock[0] = _NSConcreteStackBlock;
  aBlock[1] = 1107296256;
  aBlock[2] = sub_1000162D4;
  uint64_t aBlock[3] = &unk_1008C8570;
  char v27 = _Block_copy(aBlock);
  id v28 = v24;
  swift_release();
  [v25 animateWithDuration:4 delay:v27 options:0 animations:v22 completion:0.0];
  _Block_release(v27);
  swift_release();
}

id sub_100393194(uint64_t a1, uint64_t a2)
{
  id v3 = v2;
  uint64_t v6 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  char v9 = (char *)&v37 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v10 = sub_100082C28(&qword_100984B10);
  *(void *)&double v11 = __chkstk_darwin(v10 - 8).n128_u64[0];
  id v13 = (char *)&v37 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v14 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel;
  id result = *(id *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel];
  if (!result || (id result = objc_msgSend(result, "text", v11)) == 0)
  {
    if (!a2) {
      return result;
    }
    goto LABEL_11;
  }
  uint64_t v16 = result;
  id v38 = v3;
  uint64_t v17 = a1;
  uint64_t v18 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  uint64_t v20 = v19;

  if (!a2)
  {
    swift_bridgeObjectRelease();
    id v3 = v38;
    if (*(void *)&v38[v14]) {
      goto LABEL_12;
    }
    goto LABEL_14;
  }
  if (v18 != v17 || v20 != a2)
  {
    char v22 = _stringCompareWithSmolCheck(_:_:expecting:)();
    swift_bridgeObjectRelease();
    id v3 = v38;
    if (v22) {
      goto LABEL_19;
    }
LABEL_11:
    if (*(void *)&v3[v14])
    {
LABEL_12:
      swift_bridgeObjectRelease();
      return [v3 setNeedsLayout];
    }
LABEL_14:
    uint64_t v23 = type metadata accessor for FontUseCase();
    (*(void (**)(char *, uint64_t, uint64_t, uint64_t))(*(void *)(v23 - 8) + 56))(v13, 1, 1, v23);
    (*(void (**)(char *, void, uint64_t))(v7 + 104))(v9, enum case for DirectionalTextAlignment.none(_:), v6);
    id v24 = objc_allocWithZone((Class)type metadata accessor for DynamicTypeLabel());
    id v25 = (void *)DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
    id v26 = [v3 traitCollection];
    char v27 = UITraitCollection.isSizeClassRegular.getter();

    if (v27)
    {
      if (qword_10097EDE0 != -1) {
        swift_once();
      }
      id v28 = &qword_1009930B8;
    }
    else
    {
      if (qword_10097EE00 != -1) {
        swift_once();
      }
      id v28 = &qword_1009930D8;
    }
    [v25 setFont:*v28];
    if (a2)
    {
      NSString v29 = String._bridgeToObjectiveC()();
      swift_bridgeObjectRelease();
    }
    else
    {
      NSString v29 = 0;
    }
    [v25 setText:v29];

    id v30 = *(void **)&v3[v14];
    *(void *)&v3[v14] = v25;
    id v31 = v25;

    id v32 = [v3 traitCollection];
    if (UITraitCollection.prefersAccessibilityLayouts.getter())
    {
      char v33 = UITraitCollection.isSizeClassCompact.getter();

      if (v33)
      {
        [*(id *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] addSubview:v31];
        sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
        id v34 = v31;
        uint64_t v35 = static UIColor.secondaryText.getter();
LABEL_33:
        id v36 = (void *)v35;
        [v34 setTextColor:v35];

        return [v3 setNeedsLayout];
      }
    }
    else
    {
    }
    [*(id *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView] addSubview:v31];
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    id v34 = v31;
    uint64_t v35 = static UIColor.primaryText.getter();
    goto LABEL_33;
  }
  swift_bridgeObjectRelease();
LABEL_19:

  return (id)swift_bridgeObjectRelease();
}

uint64_t sub_100393634(uint64_t result, uint64_t a2, char a3)
{
  id v4 = (double *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkViewSize];
  double v5 = *(double *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkViewSize];
  double v6 = *(double *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkViewSize + 8];
  char v7 = v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkViewSize + 16];
  *id v4 = *(double *)&result;
  v4[1] = *(double *)&a2;
  *((unsigned char *)v4 + 16) = a3 & 1;
  if ((a3 & 1) == 0)
  {
    if ((v7 & 1) != 0 || (v5 == *(double *)&result ? (BOOL v8 = v6 == *(double *)&a2) : (BOOL v8 = 0), !v8))
    {
      if ((*(double *)&result != 0.0 || *(double *)&a2 != 0.0)
        && (v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_isCollapsing] & 1) == 0)
      {
        uint64_t v9 = *(void *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkLoader];
        swift_retain();
        uint64_t v10 = swift_retain();
        sub_100399E48(v10, v9, v3, v3);
        swift_release();
        *(double *)&id result = COERCE_DOUBLE(swift_release());
      }
    }
  }
  return result;
}

uint64_t sub_100393718(uint64_t result)
{
  uint64_t v2 = v1;
  if (!*(void *)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupArtwork))
  {
    if (!result) {
      return result;
    }
    goto LABEL_6;
  }
  if (!result
    || (type metadata accessor for Artwork(),
        sub_100398110((unint64_t *)&unk_1009932A8, (void (*)(uint64_t))&type metadata accessor for Artwork), swift_retain_n(), v3 = dispatch thunk of static Equatable.== infix(_:_:)(), swift_release(), id result = swift_release(), (v3 & 1) == 0))
  {
LABEL_6:
    uint64_t v4 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkLoader);
    swift_retain();
    uint64_t v5 = swift_retain();
    sub_1003D630C(v5, v4);
    swift_release();
    return swift_release();
  }
  return result;
}

id sub_100393830()
{
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView) setAlpha:0.0];
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton) setAlpha:0.0];
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel) setAlpha:0.0];
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel) setAlpha:0.0];
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel) setAlpha:0.0];
  uint64_t v1 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel);
  if (v1) {
    [v1 setAlpha:0.0];
  }
  uint64_t v2 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton);
  if (v2) {
    [v2 setAlpha:0.0];
  }
  [*(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton) setAlpha:0.0];
  char v3 = *(void **)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView);

  return [v3 setAlpha:0.0];
}

void sub_10039393C()
{
  uint64_t v1 = v0;
  uint64_t v2 = type metadata accessor for MediaOverlayStyle();
  uint64_t v3 = *(void *)(v2 - 8);
  __chkstk_darwin(v2);
  CGRect v49 = (char *)v45 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  __chkstk_darwin(v5);
  uint64_t v48 = (char *)v45 - v6;
  __chkstk_darwin(v7);
  uint64_t v9 = (char *)v45 - v8;
  uint64_t v10 = v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaOverlayStyle;
  swift_beginAccess();
  double v11 = *(void (**)(char *, uint64_t, uint64_t))(v3 + 16);
  v11(v9, v10, v2);
  sub_100398110(&qword_1009932A0, (void (*)(uint64_t))&type metadata accessor for MediaOverlayStyle);
  char v12 = dispatch thunk of static Equatable.== infix(_:_:)();
  id v13 = *(void (**)(char *, uint64_t))(v3 + 8);
  v13(v9, v2);
  if (v12) {
    return;
  }
  uint64_t v50 = v11;
  uint64_t v14 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView);
  v50(v9, v10, v2);
  uint64_t v15 = MediaOverlayStyle.userInterfaceStyle.getter();
  v13(v9, v2);
  [v14 setOverrideUserInterfaceStyle:v15];
  uint64_t v16 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView);
  v50(v9, v10, v2);
  uint64_t v17 = MediaOverlayStyle.userInterfaceStyle.getter();
  v13(v9, v2);
  uint64_t v18 = v16;
  uint64_t v19 = v50;
  [v18 setOverrideUserInterfaceStyle:v17];
  uint64_t v46 = v1;
  uint64_t v20 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView);
  v19(v9, v10, v2);
  uint64_t v21 = MediaOverlayStyle.inverseUserInterfaceStyle.getter();
  uint64_t v47 = v13;
  v45[2] = v3 + 8;
  v13(v9, v2);
  [v20 setOverrideUserInterfaceStyle:v21];
  char v22 = v48;
  v45[0] = v10;
  v45[1] = v3 + 16;
  v19(v48, v10, v2);
  uint64_t v23 = v49;
  (*(void (**)(char *, void, uint64_t))(v3 + 104))(v49, enum case for MediaOverlayStyle.light(_:), v2);
  sub_100398110((unint64_t *)&qword_10098D338, (void (*)(uint64_t))&type metadata accessor for MediaOverlayStyle);
  dispatch thunk of RawRepresentable.rawValue.getter();
  dispatch thunk of RawRepresentable.rawValue.getter();
  id v24 = v22;
  if (aBlock == v57 && v52 == v58)
  {
    swift_bridgeObjectRelease_n();
    id v25 = v47;
    v47(v23, v2);
    v25(v24, v2);
LABEL_6:
    uint64_t v27 = v46;
    uint64_t v28 = *(void *)(v46
                    + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator);
    if (v28)
    {
      *(unsigned char *)(v28 + 25) = 2;
      if (*(unsigned char *)(v28 + 24) == 1)
      {
        swift_retain();
        static CGFloat.solvedValue(between:and:forInput:)();
        double v30 = v29;
        char v31 = *(unsigned char *)(v28 + 25);
        id v32 = *(void **)(v28 + 16);
        char v33 = self;
        uint64_t v34 = swift_allocObject();
        *(void *)(v34 + 16) = v32;
        *(unsigned char *)(v34 + 24) = v31;
        id v55 = sub_10039A220;
        uint64_t v56 = v34;
        long long aBlock = _NSConcreteStackBlock;
        uint64_t v52 = 1107296256;
        uint64_t v35 = &unk_1008C8610;
LABEL_12:
        id v53 = sub_1000162D4;
        id v54 = v35;
        char v40 = _Block_copy(&aBlock);
        id v41 = v32;
        swift_release();
        [v33 animateWithDuration:4 delay:v40 options:0 animations:v30 completion:0.0];
        _Block_release(v40);
        swift_release();
        uint64_t v27 = v46;
        id v25 = v47;
        goto LABEL_13;
      }
    }
    goto LABEL_13;
  }
  char v26 = _stringCompareWithSmolCheck(_:_:expecting:)();
  swift_bridgeObjectRelease();
  swift_bridgeObjectRelease();
  id v25 = v47;
  v47(v23, v2);
  v25(v24, v2);
  if (v26) {
    goto LABEL_6;
  }
  uint64_t v27 = v46;
  uint64_t v36 = *(void *)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator);
  if (v36)
  {
    *(unsigned char *)(v36 + 25) = 1;
    if (*(unsigned char *)(v36 + 24) == 1)
    {
      swift_retain();
      static CGFloat.solvedValue(between:and:forInput:)();
      double v30 = v37;
      char v38 = *(unsigned char *)(v36 + 25);
      id v32 = *(void **)(v36 + 16);
      char v33 = self;
      uint64_t v39 = swift_allocObject();
      *(void *)(v39 + 16) = v32;
      *(unsigned char *)(v39 + 24) = v38;
      id v55 = sub_10039A220;
      uint64_t v56 = v39;
      long long aBlock = _NSConcreteStackBlock;
      uint64_t v52 = 1107296256;
      uint64_t v35 = &unk_1008C85C0;
      goto LABEL_12;
    }
  }
LABEL_13:
  uint64_t v42 = *(void **)(v27 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView);
  if (v42)
  {
    v50(v9, v45[0], v2);
    id v43 = v42;
    uint64_t v44 = MediaOverlayStyle.userInterfaceStyle.getter();
    v25(v9, v2);
    [v43 setOverrideUserInterfaceStyle:v44];
  }
  sub_100392D10();
}

void sub_100393FF8()
{
  uint64_t v1 = v0;
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = *(void **)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView];
    uint64_t v9 = (unsigned char *)Strong;
    [v3 setHidden:1];
    v9[qword_1009E5B38] = 1;
    *(void *)&v9[qword_10099B0F8 + 8] = &off_1008C8530;
    swift_unknownObjectWeakAssign();
    id v4 = [v0 traitCollection];
    char v5 = UITraitCollection.isSizeClassRegular.getter();

    double v6 = 8.0;
    if (v5) {
      double v6 = 12.0;
    }
    [v9 _setCornerRadius:v6];
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView] insertSubview:v9 aboveSubview:v3];
    id v7 = [objc_allocWithZone((Class)UITapGestureRecognizer) init];
    sub_100398818(v7, &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoTapGestureRecognizer, &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView, (uint64_t *)&selRef_videoTapGestureRecognized_);

    id v8 = [v1 traitCollection];
    LOBYTE(v7) = UITraitCollection.isSizeClassRegular.getter();

    if (v7) {
      sub_1003941B8();
    }
    [v1 setNeedsLayout];
  }
}

id sub_1003941B8()
{
  uint64_t v1 = v0;
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v3 = (void *)Strong;
    uint64_t v4 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView;
    if (!*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView]
      || (type metadata accessor for VideoMirrorView(), !swift_dynamicCastClass()))
    {
      long long v10 = *(_OWORD *)&CATransform3DIdentity.m33;
      long long v36 = *(_OWORD *)&CATransform3DIdentity.m31;
      long long v37 = v10;
      long long v11 = *(_OWORD *)&CATransform3DIdentity.m43;
      long long v38 = *(_OWORD *)&CATransform3DIdentity.m41;
      long long v39 = v11;
      long long v12 = *(_OWORD *)&CATransform3DIdentity.m13;
      long long v32 = *(_OWORD *)&CATransform3DIdentity.m11;
      long long v33 = v12;
      long long v13 = *(_OWORD *)&CATransform3DIdentity.m23;
      long long v34 = *(_OWORD *)&CATransform3DIdentity.m21;
      long long v35 = v13;
      objc_allocWithZone((Class)type metadata accessor for VideoMirrorView());
      id v14 = v3;
      uint64_t v15 = sub_10076AB68((char *)v3, (uint64_t *)&v32, 1.0, 0.0);
      uint64_t v16 = *(void **)&v1[v4];
      if (v16)
      {
        [v16 removeFromSuperview];
        uint64_t v17 = *(void **)&v1[v4];
      }
      else
      {
        uint64_t v17 = 0;
      }
      *(void *)&v1[v4] = v15;
      uint64_t v27 = v15;

      uint64_t v28 = *(void *)&v1[v4];
      if (v28) {
        [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] insertSubview:v28 atIndex:0];
      }
      [v1 setNeedsLayout:v32, v33, v34, v35, v36, v37, v38, v39];

      goto LABEL_26;
    }
  }
  char v5 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView];
  unsigned __int8 v6 = [v5 isHidden];
  uint64_t v7 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView;
  id v8 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView];
  if ((v6 & 1) == 0)
  {
    if (v8)
    {
      type metadata accessor for VideoMirrorView();
      if (!swift_dynamicCastClass()) {
        goto LABEL_14;
      }
    }
    long long v18 = *(_OWORD *)&CATransform3DIdentity.m33;
    long long v36 = *(_OWORD *)&CATransform3DIdentity.m31;
    long long v37 = v18;
    long long v19 = *(_OWORD *)&CATransform3DIdentity.m43;
    long long v38 = *(_OWORD *)&CATransform3DIdentity.m41;
    long long v39 = v19;
    long long v20 = *(_OWORD *)&CATransform3DIdentity.m13;
    long long v32 = *(_OWORD *)&CATransform3DIdentity.m11;
    long long v33 = v20;
    long long v21 = *(_OWORD *)&CATransform3DIdentity.m23;
    long long v34 = *(_OWORD *)&CATransform3DIdentity.m21;
    long long v35 = v21;
    objc_allocWithZone((Class)type metadata accessor for MirrorView());
    id v22 = v5;
    uint64_t v23 = sub_10024A9E0(v5, (uint64_t *)&v32, 1.0, 0.0);
    id v24 = *(void **)&v1[v7];
    if (v24)
    {
      [v24 removeFromSuperview:v32, v33, v34, v35, v36, v37, v38, v39];
      id v25 = *(void **)&v1[v7];
    }
    else
    {
      id v25 = 0;
    }
    *(void *)&v1[v7] = v23;
    uint64_t v27 = v23;

    uint64_t v29 = *(void *)&v1[v7];
    if (v29) {
      [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] insertSubview:v29 atIndex:0];
    }
    [v1 setNeedsLayout:v32, v33, v34, v35, v36, v37, v38, v39];
LABEL_26:

    goto LABEL_27;
  }
  if (v8)
  {
LABEL_14:
    [v8 removeFromSuperview];
    uint64_t v9 = *(void **)&v1[v7];
    goto LABEL_15;
  }
  uint64_t v9 = 0;
LABEL_15:
  *(void *)&v1[v7] = 0;

  uint64_t v26 = *(void *)&v1[v7];
  if (v26) {
    [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] insertSubview:v26 atIndex:0];
  }
  [v1 setNeedsLayout];
LABEL_27:
  double v30 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView];
  if (v30) {
    [v30 setHidden:0];
  }

  return [v1 setNeedsLayout];
}

void (*sub_100394494(uint64_t *a1))(id *a1, char a2)
{
  uint64_t v2 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoView;
  a1[1] = v1;
  a1[2] = v2;
  *a1 = swift_unknownObjectWeakLoadStrong();
  return sub_1003944E8;
}

void sub_1003944E8(id *a1, char a2)
{
  if (a2)
  {
    id v2 = *a1;
    sub_1003981D8();
    swift_unknownObjectWeakAssign();
    sub_100393FF8();
  }
  else
  {
    id v2 = *a1;
    sub_1003981D8();
    swift_unknownObjectWeakAssign();
    sub_100393FF8();
  }
}

uint64_t sub_100394570()
{
  uint64_t v1 = v0;
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v3 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v4 = *(void *)(v3 - 8);
  __chkstk_darwin(v3);
  unsigned __int8 v6 = (char *)&v150 - ((v5 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v7 = type metadata accessor for LayoutRect();
  uint64_t v179 = *(void *)(v7 - 8);
  *(void *)&long long v180 = v7;
  __chkstk_darwin(v7);
  uint64_t v178 = (char *)&v150 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v9 = (int *)type metadata accessor for AppEventDetailPageLayout(0);
  __chkstk_darwin(v9);
  unint64_t v177 = (char *)&v150 - ((v10 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v11 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  __chkstk_darwin(v11);
  long long v13 = (char *)&v150 - ((v12 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&double v15 = __chkstk_darwin(v14).n128_u64[0];
  uint64_t v17 = (char *)&v150 - v16;
  v235.receiver = v1;
  v235.super_class = ObjectType;
  [super layoutSubviews:v15];
  [v1 bounds];
  uint64_t result = CGRectIsEmpty(v236);
  if ((result & 1) == 0)
  {
    uint64_t v151 = v11;
    uint64_t v152 = v6;
    uint64_t v153 = v4;
    uint64_t v154 = v3;
    uint64_t v175 = ObjectType;
    LayoutMarginsAware<>.layoutFrame.getter();
    double v20 = v19;
    double v22 = v21;
    uint64_t v23 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton);
    id v24 = (char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoView;
    uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
    sub_100395524(v1, v23, (uint64_t)Strong, (uint64_t)v17, v20, v22);

    unint64_t v176 = v17;
    unint64_t v165 = v13;
    sub_100398B18((uint64_t)v17, (uint64_t)v13);
    uint64_t v26 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shadowView);
    uint64_t v233 = type metadata accessor for ShadowView();
    CGFloat v234 = &protocol witness table for UIView;
    id v174 = v26;
    *(void *)&long long v232 = v26;
    uint64_t v27 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardContentView);
    uint64_t v230 = type metadata accessor for RoundedCornerView();
    CGFloat v231 = &protocol witness table for UIView;
    CGFloat v228 = &protocol witness table for UIView;
    *(void *)&long long v229 = v27;
    uint64_t v28 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_borderView);
    uint64_t v227 = v230;
    id v172 = v28;
    id v173 = v27;
    *(void *)&long long v226 = v28;
    uint64_t v29 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView);
    uint64_t v30 = sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    CGFloat v225 = &protocol witness table for UIView;
    uint64_t v224 = v30;
    id v171 = v29;
    *(void *)&long long v223 = v29;
    char v31 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView);
    uint64_t v222 = &protocol witness table for UIView;
    uint64_t v159 = v30;
    uint64_t v221 = v30;
    id v169 = v31;
    *(void *)&long long v220 = v31;
    long long v32 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView);
    uint64_t v33 = sub_100084CF0(0, (unint64_t *)&qword_10098A7F0);
    CGFloat v219 = &protocol witness table for UIView;
    uint64_t v218 = v33;
    id v168 = v32;
    *(void *)&long long v217 = v32;
    uint64_t v155 = v24;
    uint64_t v34 = swift_unknownObjectWeakLoadStrong();
    if (v34)
    {
      uint64_t v35 = v34;
      uint64_t v36 = type metadata accessor for VideoView();
      CGFloat v216 = &protocol witness table for UIView;
      *((void *)&v215 + 1) = v36;
      *(void *)&long long v214 = v35;
    }
    else
    {
      CGFloat v216 = 0;
      long long v214 = 0u;
      long long v215 = 0u;
    }
    uint64_t v37 = (uint64_t)v177;
    unint64_t v177 = (char *)OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView;
    long long v38 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView);
    if (v38)
    {
      uint64_t v39 = type metadata accessor for MediaOverlayGradientBlurView();
      double v213 = &protocol witness table for UIView;
      *((void *)&v212 + 1) = v39;
      *(void *)&long long v211 = v38;
    }
    else
    {
      double v213 = 0;
      long long v211 = 0u;
      long long v212 = 0u;
    }
    char v40 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView);
    if (v40)
    {
      uint64_t v41 = type metadata accessor for MirrorView();
      uint64_t v210 = &protocol witness table for UIView;
      *((void *)&v209 + 1) = v41;
      *(void *)&long long v208 = v40;
    }
    else
    {
      uint64_t v210 = 0;
      long long v208 = 0u;
      long long v209 = 0u;
    }
    uint64_t v42 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView);
    uint64_t v43 = type metadata accessor for OverlayContentContainerView();
    uint64_t v207 = &protocol witness table for UIView;
    uint64_t v206 = v43;
    id v164 = v42;
    *(void *)&long long v205 = v42;
    uint64_t v44 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView);
    id v170 = v38;
    id v166 = v44;
    if (v44)
    {
      uint64_t v45 = sub_100084CF0(0, (unint64_t *)&unk_1009932E0);
      uint64_t v204 = &protocol witness table for UIView;
      *((void *)&v203 + 1) = v45;
      *(void *)&long long v202 = v44;
    }
    else
    {
      uint64_t v204 = 0;
      long long v202 = 0u;
      long long v203 = 0u;
    }
    uint64_t v46 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView);
    uint64_t v47 = type metadata accessor for AppPromotionFormattedDateView();
    v201 = &protocol witness table for UIView;
    uint64_t v200 = v47;
    id v163 = v46;
    *(void *)&long long v199 = v46;
    uint64_t v197 = type metadata accessor for CardHeaderButton();
    uint64_t v198 = &protocol witness table for UIView;
    uint64_t v48 = v23;
    *(void *)&long long v196 = v23;
    CGRect v49 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel);
    uint64_t v50 = type metadata accessor for DynamicTypeLabel();
    uint64_t v194 = v50;
    v195 = &protocol witness table for UILabel;
    uint64_t v192 = &protocol witness table for UILabel;
    *(void *)&long long v193 = v49;
    uint64_t v51 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel);
    uint64_t v191 = v50;
    id v161 = v51;
    id v162 = v49;
    *(void *)&long long v190 = v51;
    uint64_t v150 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton;
    uint64_t v52 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton);
    id v167 = v40;
    id v158 = v52;
    if (v52)
    {
      *((void *)&v188 + 1) = sub_100084CF0(0, (unint64_t *)&qword_100986D60);
      unint64_t v189 = &protocol witness table for UIView;
      *(void *)&long long v187 = v52;
    }
    else
    {
      unint64_t v189 = 0;
      long long v187 = 0u;
      long long v188 = 0u;
    }
    id v53 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel);
    uint64_t v185 = v50;
    v186 = &protocol witness table for UILabel;
    id v160 = v53;
    *(void *)&long long v184 = v53;
    id v54 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel);
    id v157 = v48;
    if (v54)
    {
      *((void *)&v182 + 1) = v50;
      v183 = &protocol witness table for UILabel;
      *(void *)&long long v181 = v54;
    }
    else
    {
      v183 = 0;
      long long v181 = 0u;
      long long v182 = 0u;
    }
    id v55 = (void *)(v37 + v9[23]);
    id v156 = *(id *)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton);
    id v56 = v156;
    v55[3] = type metadata accessor for NotifyMeButton();
    v55[4] = &protocol witness table for UIView;
    unsigned int v57 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView);
    void *v55 = v56;
    uint64_t v58 = (void *)(v37 + v9[24]);
    v58[3] = v159;
    v58[4] = &protocol witness table for UIView;
    *uint64_t v58 = v57;
    uint64_t v59 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView);
    id v60 = (void *)(v37 + v9[25]);
    v60[3] = type metadata accessor for SmallLockupView();
    void v60[4] = &protocol witness table for UIView;
    void *v60 = v59;
    uint64_t v159 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_isCollapsing;
    char v61 = *((unsigned char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_isCollapsing);
    sub_100398B7C((uint64_t)v165, v37);
    sub_100081DD4(&v232, v37 + v9[5]);
    sub_100081DD4(&v229, v37 + v9[6]);
    sub_100081DD4(&v226, v37 + v9[7]);
    sub_100081DD4(&v223, v37 + v9[8]);
    sub_100081DD4(&v220, v37 + v9[9]);
    sub_100081DD4(&v217, v37 + v9[10]);
    sub_100082CD0((uint64_t)&v214, v37 + v9[11], (uint64_t *)&unk_1009932D0);
    sub_100082CD0((uint64_t)&v211, v37 + v9[12], (uint64_t *)&unk_1009932D0);
    sub_100082CD0((uint64_t)&v208, v37 + v9[13], (uint64_t *)&unk_1009932D0);
    sub_100081DD4(&v205, v37 + v9[14]);
    sub_100082CD0((uint64_t)&v202, v37 + v9[15], (uint64_t *)&unk_1009932D0);
    sub_100081DD4(&v199, v37 + v9[16]);
    sub_100081DD4(&v196, v37 + v9[17]);
    sub_100081DD4(&v193, v37 + v9[18]);
    sub_100081DD4(&v190, v37 + v9[19]);
    sub_100082CD0((uint64_t)&v187, v37 + v9[20], (uint64_t *)&unk_1009932D0);
    sub_100081DD4(&v184, v37 + v9[21]);
    sub_100082CD0((uint64_t)&v181, v37 + v9[22], (uint64_t *)&unk_100990B70);
    *(unsigned char *)(v37 + v9[26]) = v61;
    id v62 = v158;
    id v63 = v54;
    id v64 = v174;
    id v65 = v173;
    id v66 = v172;
    id v67 = v171;
    id v172 = v169;
    id v173 = v168;
    id v174 = v164;
    id v168 = v163;
    id v169 = v157;
    id v68 = v162;
    id v69 = v161;
    id v70 = v160;
    id v71 = v156;
    id v72 = v57;
    id v171 = v59;
    id v73 = v170;
    id v74 = v167;
    id v75 = v166;
    LayoutMarginsAware<>.layoutFrame.getter();
    long long v76 = v178;
    AppEventDetailPageLayout.placeChildren(relativeTo:in:)(v1, v77, v78, v79, v80);
    (*(void (**)(char *, void))(v179 + 8))(v76, v180);
    long long v81 = *(void **)((char *)v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView);
    [v67 bounds];
    [v81 setContentSize:v82, v83];
    [v1 bounds];
    [v81 setBounds:0.0, 0.0];
    [v1 bounds];
    CGFloat v84 = CGRectGetWidth(v237) * 0.5;
    [v1 bounds];
    [v81 setCenter:v84, CGRectGetHeight(v238) * 0.5];
    long long v85 = *(void **)&v177[(void)v1];
    if (v85 && (*((unsigned char *)v1 + v159) & 1) == 0)
    {
      uint64_t v86 = v85;
      [v86 frame];
      double Height = CGRectGetHeight(v239);
      id v88 = [v1 traitCollection];
      char v89 = UITraitCollection.prefersAccessibilityLayouts.getter();

      if (v89)
      {
        if (*(void *)((char *)v1 + v150)) {
          id v68 = *(id *)((char *)v1 + v150);
        }
        else {
          id v68 = v168;
        }
      }
      id v90 = v68;
      *(void *)&long long v180 = v90;
      [v172 frame];
      double v91 = CGRectGetHeight(v240);
      [v90 frame];
      double v92 = Height - (v91 - CGRectGetMinY(v241));
      double v93 = (v92 + -100.0) / Height;
      double v94 = (v92 + 30.0) / Height;
      uint64_t v95 = OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_colorGradientStartY;
      *(double *)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_colorGradientStartY] = v93;
      long long v96 = *(void **)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_colorGradientView];
      id v97 = [v96 layer];
      self;
      [(id)swift_dynamicCastObjCClassUnconditional() startPoint];
      double v99 = v98;

      double v100 = *(double *)&v86[v95];
      id v101 = [v96 layer];
      self;
      [swift_dynamicCastObjCClassUnconditional() setStartPoint:v99, v100];

      id v102 = [*(id *)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_secondaryColorGradientView] layer];
      self;
      [swift_dynamicCastObjCClassUnconditional() setStartPoint:v99, v100];

      uint64_t v103 = OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientStartY;
      *(double *)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientStartY] = v93;
      uint64_t v104 = OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientMaskView;
      long long v105 = *(void **)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientMaskView];
      id v106 = [v105 layer];
      self;
      [(id)swift_dynamicCastObjCClassUnconditional() startPoint];
      double v108 = v107;

      double v109 = *(double *)&v86[v103];
      id v110 = [v105 layer];
      self;
      [swift_dynamicCastObjCClassUnconditional() setStartPoint:v108, v109];

      sub_1002B576C(v94);
      uint64_t v111 = OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientEndY;
      *(double *)&v86[OBJC_IVAR____TtC8AppStore28MediaOverlayGradientBlurView_blurGradientEndY] = v94;
      long long v112 = *(void **)&v86[v104];
      id v113 = [v112 layer];
      self;
      [(id)swift_dynamicCastObjCClassUnconditional() endPoint];
      double v115 = v114;

      double v116 = *(double *)&v86[v111];
      id v117 = [v112 layer];
      self;
      [swift_dynamicCastObjCClassUnconditional() setEndPoint:v115 v116];
    }
    id v118 = [v1 traitCollection:v150];
    char v119 = UITraitCollection.isSizeClassRegular.getter();

    if (v119)
    {
      *(void *)&long long v180 = v81;
      [v171 frame];
      double MaxY = CGRectGetMaxY(v242);
      sub_100081D90(&v176[*(int *)(v151 + 128)], *(void *)&v176[*(int *)(v151 + 128) + 24]);
      long long v121 = v152;
      j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
      AnyDimension.value(in:rounded:)();
      double v123 = v122;
      (*(void (**)(char *, uint64_t))(v153 + 8))(v121, v154);
      id v124 = v174;
      [v174 bounds];
      [v124 setContentSize:CGRectGetWidth(v243), MaxY + v123 * 0.8];
      id v125 = [v1 traitCollection];
      char v126 = UITraitCollection.isSizeClassCompact.getter();

      if (v126)
      {
        BOOL v127 = 1;
      }
      else
      {
        [v124 contentSize];
        double v134 = v133;
        [v124 bounds];
        BOOL v127 = v134 <= CGRectGetHeight(v244);
      }
      id v132 = v173;
      uint64_t v131 = (uint64_t)v176;
      [(id)v180 setAlwaysBounceVertical:v127];
    }
    else
    {
      id v128 = v174;
      [v174 bounds];
      [v128 setContentSize:v129, v130];
      uint64_t v131 = (uint64_t)v176;
      id v132 = v173;
    }
    [v132 bounds];
    sub_100393634(v135, v136, 0);
    uint64_t v137 = *(void *)((char *)v1
                     + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator);
    if (v137)
    {
      swift_retain();
      [v172 bounds];
      *(CGFloat *)(v137 + 40) = CGRectGetHeight(v245);
      swift_release();
    }
    uint64_t v138 = swift_unknownObjectWeakLoadStrong();
    if (v138)
    {
      uint64_t v139 = (char *)v138;
      id v140 = [v1 traitCollection];
      char v141 = UITraitCollection.isSizeClassCompact.getter();

      if ((v141 & 1) == 0)
      {
        sub_100398BE0(v37, type metadata accessor for AppEventDetailPageLayout);

        return sub_100398BE0(v131, type metadata accessor for AppEventDetailPageLayout.Metrics);
      }
      [v139 frame];
      *(double *)&long long v143 = v142 + -53.0;
      long long v180 = v143;
      [v169 frame];
      double v145 = v144 + 25.0;
      uint64_t v146 = &v139[qword_1009E5AE8];
      float64x2_t v147 = *(float64x2_t *)&v139[qword_1009E5AE8];
      float64x2_t v148 = *(float64x2_t *)&v139[qword_1009E5AE8 + 16];
      *(_OWORD *)uint64_t v146 = xmmword_1007D3810;
      *(void *)&v149.f64[0] = v180;
      *((void *)v146 + 2) = v180;
      *((double *)v146 + 3) = v145;
      v149.f64[1] = v145;
      if ((vminv_u16((uint16x4_t)vcltz_s16(vshl_n_s16(vmovn_s32(vuzp1q_s32((int32x4_t)vceqq_f64((float64x2_t)xmmword_1007D3810, v147), (int32x4_t)vceqq_f64(v149, v148))), 0xFuLL))) & 1) == 0)sub_100505478(); {
    }
      }
    sub_100398BE0(v37, type metadata accessor for AppEventDetailPageLayout);
    return sub_100398BE0(v131, type metadata accessor for AppEventDetailPageLayout.Metrics);
  }
  return result;
}

void sub_100395524(id a1@<X2>, void *a2@<X0>, uint64_t a3@<X1>, uint64_t a4@<X8>, double a5@<D0>, double a6@<D1>)
{
  id v12 = [a1 traitCollection];
  char v13 = UITraitCollection.isSizeClassRegular.getter();

  if (v13)
  {
    if (qword_10097ED80 != -1) {
      swift_once();
    }
    uint64_t v14 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
    double v15 = (int *)v14;
    uint64_t v16 = qword_1009E3398;
  }
  else
  {
    if (qword_10097ED78 != -1) {
      swift_once();
    }
    uint64_t v14 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
    double v15 = (int *)v14;
    uint64_t v16 = qword_1009E3380;
  }
  uint64_t v17 = sub_100087728(v14, (uint64_t)v16);
  sub_100398B18(v17, a4);
  [a2 sizeThatFits:a5, a6];
  uint64_t v19 = v18;
  uint64_t v21 = v20;
  type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  double v22 = (void *)(a4 + v15[10]);
  *double v22 = v19;
  v22[1] = v21;
  if (qword_10097EE18 != -1) {
    swift_once();
  }
  uint64_t v23 = type metadata accessor for UIButton.Configuration();
  sub_100087728(v23, (uint64_t)qword_1009930F0);
  swift_beginAccess();
  uint64_t v24 = UIButton.Configuration.image.getter();
  if (v24)
  {
    id v25 = (void *)v24;
    swift_endAccess();
    swift_beginAccess();
    uint64_t v26 = UIButton.Configuration.preferredSymbolConfigurationForImage.getter();
    if (v26)
    {
      uint64_t v27 = (void *)v26;
      uint64_t v44 = a3;
      swift_endAccess();
      id v28 = [v25 imageWithConfiguration:v27];
      [v28 size];
      uint64_t v29 = (void *)(a4 + v15[17]);
      *uint64_t v29 = v30;
      v29[1] = v31;
      [v28 contentInsets];
      uint64_t v46 = &type metadata for CGFloat;
      uint64_t v47 = &protocol witness table for CGFloat;
      *(void *)&long long v45 = v32;
      uint64_t v33 = a4 + v15[20];
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v33);
      sub_100081DD4(&v45, v33);
      id v34 = [a1 traitCollection];
      char v35 = UITraitCollection.prefersRightToLeftLayouts.getter();

      [v28 contentInsets];
      uint64_t v37 = v36;
      uint64_t v39 = v38;
      uint64_t v46 = &type metadata for CGFloat;
      uint64_t v47 = &protocol witness table for CGFloat;

      if (v35) {
        *(void *)&long long v45 = v39;
      }
      else {
        *(void *)&long long v45 = v37;
      }
      uint64_t v40 = a4 + v15[19];
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v40);
      sub_100081DD4(&v45, v40);
    }
    else
    {
      swift_endAccess();
    }
  }
  else
  {
    swift_endAccess();
  }
  id v41 = [a1 traitCollection:v44];
  char v42 = UITraitCollection.isSizeClassCompact.getter();

  if (v42)
  {
    if (a3)
    {
      uint64_t v46 = &type metadata for Double;
      uint64_t v47 = &protocol witness table for Double;
      *(void *)&long long v45 = 0x404E000000000000;
      uint64_t v43 = a4 + v15[11];
      _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0(v43);
      sub_100081DD4(&v45, v43);
    }
  }
}

void sub_1003958DC(uint64_t a1)
{
}

void sub_1003958F4(uint64_t a1)
{
}

void sub_100395900(uint64_t a1, void *a2)
{
  uint64_t v4 = v2;
  uint64_t v6 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButtonPresenter);
  if (v6)
  {
    uint64_t v7 = OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer;
    uint64_t v8 = *(void **)(v6 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer);
    swift_retain();
    if (v8)
    {
      [v8 invalidate];
      uint64_t v8 = *(void **)(v6 + v7);
    }
    *(void *)(v6 + v7) = 0;
    swift_release();
  }
  sub_100322B28();
  uint64_t v9 = *(void (**)(uint64_t))(v4 + *a2);
  if (v9)
  {
    swift_retain();
    v9(a1);
    sub_10006012C((uint64_t)v9);
  }
}

uint64_t sub_100395A00(void *a1, uint64_t a2, uint64_t a3, void *a4)
{
  swift_unknownObjectRetain();
  id v6 = a1;
  _bridgeAnyObjectToAny(_:)();
  swift_unknownObjectRelease();
  sub_100395900((uint64_t)v8, a4);

  return _s8AppStore27ProductRatingsRegularLayoutV7MetricsVwxx_0((uint64_t)v8);
}

void sub_100395B34()
{
  uint64_t Strong = (char *)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v1 = Strong;
    uint64_t v2 = *(void **)&Strong[qword_10099B130];
    if (v2)
    {
      uint64_t v3 = swift_allocObject();
      swift_unknownObjectWeakInit();
      void v6[4] = sub_10013CCB8;
      v6[5] = v3;
      v6[0] = _NSConcreteStackBlock;
      v6[1] = 1107296256;
      long long v6[2] = sub_100506FB4;
      v6[3] = &unk_1008C87F0;
      uint64_t v4 = _Block_copy(v6);
      id v5 = v2;
      swift_release();
      [v5 enterFullScreenAnimated:1 completionHandler:v4];
      _Block_release(v4);
    }
    else
    {
    }
  }
  sub_100395C6C(0, 0);
}

void sub_100395C6C(char a1, char a2)
{
  uint64_t v3 = v2;
  id v6 = [v2 traitCollection];
  char v7 = UITraitCollection.isSizeClassRegular.getter();

  if ((v7 & 1) == 0)
  {
    if (a1) {
      double v8 = 1.0;
    }
    else {
      double v8 = 0.0;
    }
    uint64_t Strong = swift_unknownObjectWeakLoadStrong();
    if (Strong)
    {
      uint64_t v10 = (void *)Strong;
      id v11 = *(id *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoBackgroundColor];
      [v10 setBackgroundColor:v11];

      uint64_t v12 = swift_allocObject();
      swift_unknownObjectWeakInit();
      uint64_t v13 = swift_allocObject();
      *(void *)(v13 + 16) = v12;
      *(double *)(v13 + 24) = v8;
      uint64_t v14 = sub_100398980;
      if (a2)
      {
LABEL_7:
        double v15 = v14;
        uint64_t v16 = self;
        void v22[4] = v15;
        uint64_t v22[5] = v13;
        v22[0] = _NSConcreteStackBlock;
        v22[1] = 1107296256;
        objc_super v22[2] = sub_1000162D4;
        void v22[3] = &unk_1008C8688;
        uint64_t v17 = _Block_copy(v22);
        swift_retain();
        swift_release();
        [v16 animateWithDuration:4 delay:v17 options:0 animations:0.3 completion:0.0];
        swift_release();
        _Block_release(v17);
        return;
      }
    }
    else
    {
      uint64_t v18 = swift_allocObject();
      swift_unknownObjectWeakInit();
      uint64_t v13 = swift_allocObject();
      *(void *)(v13 + 16) = v18;
      *(double *)(v13 + 24) = v8;
      uint64_t v14 = sub_10039A224;
      if (a2) {
        goto LABEL_7;
      }
    }
    swift_beginAccess();
    uint64_t v19 = swift_unknownObjectWeakLoadStrong();
    if (v19)
    {
      uint64_t v20 = (char *)v19;
      uint64_t v21 = *(void **)(v19 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView);
      swift_retain();
      [v21 setAlpha:v8];
      [*(id *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton] setAlpha:v8];
      swift_release();
      swift_release();
    }
    else
    {
      swift_release();
    }
  }
}

void sub_100396048()
{
  uint64_t v1 = type metadata accessor for MediaOverlayStyle();
  uint64_t v2 = *(void *)(v1 - 8);
  *(void *)&double v3 = __chkstk_darwin(v1).n128_u64[0];
  id v5 = (char *)&v18 - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v6 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView;
  char v7 = *(void **)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView];
  if (v7) {
    goto LABEL_8;
  }
  id v8 = [self effectWithStyle:7];
  id v9 = [objc_allocWithZone((Class)UIVisualEffectView) initWithEffect:v8];
  uint64_t v10 = *(void **)&v0[v6];
  if (v10)
  {
    [v10 removeFromSuperview];
    id v11 = *(void **)&v0[v6];
  }
  else
  {
    id v11 = 0;
  }
  *(void *)&v0[v6] = v9;
  id v12 = v9;

  uint64_t v13 = *(void *)&v0[v6];
  if (v13) {
    [*(id *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] insertSubview:v13 belowSubview:*(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView]];
  }
  [v0 setNeedsLayout];

  char v7 = *(void **)&v0[v6];
  if (v7)
  {
LABEL_8:
    [v7 setHidden:0 v3];
    uint64_t v14 = *(void **)&v0[v6];
    if (v14)
    {
      double v15 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaOverlayStyle];
      swift_beginAccess();
      (*(void (**)(char *, char *, uint64_t))(v2 + 16))(v5, v15, v1);
      id v16 = v14;
      uint64_t v17 = MediaOverlayStyle.userInterfaceStyle.getter();
      (*(void (**)(char *, uint64_t))(v2 + 8))(v5, v1);
      [v16 setOverrideUserInterfaceStyle:v17];
    }
  }
}

id sub_10039626C()
{
  uint64_t v1 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView;
  id result = *(id *)(v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView);
  if (result
    || (id v3 = objc_allocWithZone((Class)type metadata accessor for MediaOverlayGradientBlurView()),
        uint64_t v4 = sub_1002B66A4(0),
        sub_1003989DC(v4),
        v4,
        (id result = *(id *)(v0 + v1)) != 0)
    && ([result setUserInteractionEnabled:0], (id result = *(id *)(v0 + v1)) != 0))
  {
    return [result setHidden:0];
  }
  return result;
}

void sub_100396314()
{
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v1 = (void *)Strong;
    uint64_t v2 = *(void **)(Strong + qword_10099B130);
    id v3 = v2;

    if (v2)
    {
      [v3 setShowsPlaybackControls:1];
    }
  }
}

void sub_1003963A8(double a1)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    id v3 = (char *)Strong;
    [*(id *)(Strong + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView) setAlpha:a1];
    [*(id *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton] setAlpha:a1];
  }
}

void sub_100396438(uint64_t a1)
{
  uint64_t v2 = *(void *)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButtonPresenter);
  *(void *)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButtonPresenter) = a1;
  swift_retain();
  if (v2)
  {
    uint64_t v3 = OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer;
    uint64_t v4 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore23NotifyMeButtonPresenter_displayTimeReachedTimer);
    if (v4)
    {
      [v4 invalidate];
      id v5 = *(id *)(v2 + v3);
    }
    else
    {
      id v5 = 0;
    }
    *(void *)(v2 + v3) = 0;
    swift_release();
    swift_release();
  }
  else
  {
    swift_release();
  }
}

void sub_1003964FC(char a1, char a2)
{
  if (a2)
  {
    if ((a1 & 1) == 0)
    {
      uint64_t v4 = *(void **)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton];
      if ([v4 isHidden])
      {
        [v4 setAlpha:0.0];
        [v4 setHidden:0];
      }
    }
    id v5 = self;
    uint64_t v6 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v7 = swift_allocObject();
    *(void *)(v7 + 16) = v6;
    LOBYTE(v6) = a1 & 1;
    *(unsigned char *)(v7 + 24) = a1 & 1;
    uint64_t v18 = sub_1003989C4;
    uint64_t v19 = v7;
    uint64_t v14 = _NSConcreteStackBlock;
    uint64_t v15 = 1107296256;
    id v16 = sub_1000162D4;
    uint64_t v17 = &unk_1008C8700;
    id v8 = _Block_copy(&v14);
    swift_release();
    uint64_t v9 = swift_allocObject();
    swift_unknownObjectWeakInit();
    uint64_t v10 = swift_allocObject();
    *(void *)(v10 + 16) = v9;
    *(unsigned char *)(v10 + 24) = v6;
    uint64_t v18 = sub_1003989D0;
    uint64_t v19 = v10;
    uint64_t v14 = _NSConcreteStackBlock;
    uint64_t v15 = 1107296256;
    id v16 = sub_100526E54;
    uint64_t v17 = &unk_1008C8750;
    id v11 = _Block_copy(&v14);
    swift_release();
    [v5 animateWithDuration:v8 animations:v11 completion:0.3];
    _Block_release(v11);
    _Block_release(v8);
  }
  else
  {
    id v12 = *(void **)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton];
    if (a1) {
      double v13 = 0.0;
    }
    else {
      double v13 = 1.0;
    }
    [*(id *)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton] setHidden:a1 & 1];
    [v12 setAlpha:v13];
    [v2 setNeedsLayout];
  }
}

void sub_1003967A0(uint64_t a1, char a2)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    uint64_t v4 = (void *)Strong;
    id v5 = *(id *)(Strong + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton);

    double v6 = 1.0;
    if (a2) {
      double v6 = 0.0;
    }
    [v5 setAlpha:v6];
  }
}

void sub_100396834(uint64_t a1, uint64_t a2, char a3)
{
  swift_beginAccess();
  uint64_t Strong = swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    id v5 = (void *)Strong;
    id v6 = *(id *)(Strong + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton);

    [v6 setHidden:a3 & 1];
  }
  swift_beginAccess();
  uint64_t v7 = (void *)swift_unknownObjectWeakLoadStrong();
  if (v7)
  {
    id v8 = v7;
    [v7 setNeedsLayout];
  }
}

BOOL sub_1003968F0(void *a1, void *a2)
{
  uint64_t v4 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureRecognizer);
  if (v4)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009932C0);
    id v6 = v4;
    id v7 = a1;
    char v8 = static NSObject.== infix(_:_:)();

    if (v8)
    {
      uint64_t v9 = *(void **)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoTapGestureRecognizer);
      if (v9)
      {
        id v10 = v9;
        id v11 = a2;
        char v12 = static NSObject.== infix(_:_:)();

        if (v12) {
          return 0;
        }
      }
    }
  }
  self;
  return swift_dynamicCastObjCClass() == 0;
}

BOOL sub_100396A40(void *a1, id a2)
{
  uint64_t v3 = v2;
  [a2 locationInView:v2];
  CGFloat v7 = v6;
  CGFloat v9 = v8;
  id v10 = [v2 hitTest:0];
  id v11 = *(void **)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureRecognizer];
  if (v11)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009932C0);
    id v12 = v11;
    id v13 = a1;
    char v14 = static NSObject.== infix(_:_:)();

    if (v14)
    {
      [v3 bounds];
      v66.CGFloat x = v7;
      v66.CGFloat y = v9;
      if (CGRectContainsPoint(v69, v66))
      {
        if (v10)
        {
          sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
          uint64_t v15 = v3;
          id v16 = v10;
          char v17 = static NSObject.== infix(_:_:)();

          if (v17)
          {
            uint64_t v18 = *(void *)&v15[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureActionBlock];
            uint64_t v19 = *(void *)&v15[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureActionBlock + 8];
            BOOL v20 = v18 != 0;
            if (v18)
            {
              uint64_t v21 = swift_allocObject();
              *(void *)(v21 + 16) = v18;
              *(void *)(v21 + 24) = v19;
              double v22 = sub_10039A270;
LABEL_31:
              uint64_t v63 = (uint64_t)v22;
LABEL_33:
              sub_100060050(v18);
              sub_10006012C(v63);
              return v20;
            }
            goto LABEL_32;
          }
        }
        return 0;
      }
      goto LABEL_27;
    }
  }
  uint64_t v23 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoTapGestureRecognizer];
  if (!v23
    || (sub_100084CF0(0, (unint64_t *)&qword_1009932C0),
        id v24 = a1,
        id v25 = v23,
        char v26 = static NSObject.== infix(_:_:)(),
        v24,
        v25,
        (v26 & 1) == 0))
  {
    uint64_t v51 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureRecognizer];
    if (!v51
      || (sub_100084CF0(0, (unint64_t *)&qword_1009932C0),
          id v52 = a1,
          id v53 = v51,
          char v54 = static NSObject.== infix(_:_:)(),
          v52,
          v53,
          (v54 & 1) == 0))
    {

      return 1;
    }
    id v55 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView];
    [a2 locationInView:v55];
    CGFloat v57 = v56;
    CGFloat v59 = v58;
    [v55 bounds];
    v68.CGFloat x = v57;
    v68.CGFloat y = v59;
    if (CGRectContainsPoint(v71, v68))
    {
      if (!v10 || (self, uint64_t v60 = swift_dynamicCastObjCClass(), v10, !v60))
      {
        uint64_t v18 = *(void *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureActionBlock];
        uint64_t v61 = *(void *)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureActionBlock + 8];
        BOOL v20 = v18 != 0;
        if (v18)
        {
          uint64_t v62 = swift_allocObject();
          *(void *)(v62 + 16) = v18;
          *(void *)(v62 + 24) = v61;
          double v22 = sub_100398AF0;
          goto LABEL_31;
        }
LABEL_32:
        uint64_t v63 = 0;
        goto LABEL_33;
      }
      return 0;
    }
LABEL_27:

    return 0;
  }
  uint64_t Strong = (void *)swift_unknownObjectWeakLoadStrong();
  if (!Strong) {
    goto LABEL_27;
  }
  id v28 = Strong;
  [Strong frame];
  CGFloat v30 = v29;
  CGFloat v32 = v31;
  CGFloat v34 = v33;
  CGFloat v36 = v35;

  v70.origin.CGFloat x = v30;
  v70.origin.CGFloat y = v32;
  v70.size.CGFloat width = v34;
  v70.size.CGFloat height = v36;
  v67.CGFloat x = v7;
  v67.CGFloat y = v9;
  if (!CGRectContainsPoint(v70, v67)) {
    goto LABEL_27;
  }
  uint64_t v37 = swift_unknownObjectWeakLoadStrong();
  if (!v37) {
    goto LABEL_27;
  }
  id v38 = (id)v37;
  uint64_t v39 = *(void **)(v37 + qword_10099B128);
  if (!v39)
  {

    goto LABEL_36;
  }
  id v40 = v39;
  char v41 = dispatch thunk of VideoPlayer.isPlaying.getter();

  if ((v41 & 1) == 0) {
    goto LABEL_27;
  }
  char v42 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton];
  if (!v10)
  {
    if (v42) {
      return 1;
    }
    id v65 = 0;
    return 0;
  }
  if (v42)
  {
    sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
    id v38 = v10;
    id v43 = v42;
    char v44 = static NSObject.== infix(_:_:)();

    if (v44)
    {
LABEL_36:

      return 0;
    }
  }
  long long v45 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton];
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  id v10 = v10;
  id v46 = v45;
  char v47 = static NSObject.== infix(_:_:)();

  if (v47) {
    goto LABEL_27;
  }
  uint64_t v48 = *(void **)&v3[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView];
  id v10 = v10;
  id v49 = v48;
  char v50 = static NSObject.== infix(_:_:)();

  if (v50) {
    goto LABEL_27;
  }
  self;
  BOOL v20 = swift_dynamicCastObjCClass() == 0;

  return v20;
}

id sub_100396FC8(void *a1)
{
  uint64_t v2 = v1;
  v26.receiver = v1;
  v26.super_class = (Class)swift_getObjectType();
  [super traitCollectionDidChange:a1];
  if (a1) {
    int v4 = UITraitCollection.isSizeClassRegular.getter() & 1;
  }
  else {
    int v4 = 2;
  }
  id v5 = [v1 traitCollection];
  int v6 = UITraitCollection.isSizeClassRegular.getter();

  if (v4 == 2 || ((v6 ^ (v4 != 0)) & 1) != 0)
  {
    sub_100391FE4();
    if (a1) {
      goto LABEL_7;
    }
LABEL_9:
    int v7 = 2;
    goto LABEL_10;
  }
  if (!a1) {
    goto LABEL_9;
  }
LABEL_7:
  int v7 = UITraitCollection.prefersAccessibilityLayouts.getter() & 1;
LABEL_10:
  id v8 = [v2 traitCollection];
  int v9 = UITraitCollection.prefersAccessibilityLayouts.getter();

  if (v7 == 2 || ((v9 ^ (v7 != 0)) & 1) != 0) {
    goto LABEL_18;
  }
  id v10 = [v2 traitCollection];
  id v11 = [v10 preferredContentSizeCategory];

  if (!a1)
  {

    goto LABEL_18;
  }
  id v12 = [a1 preferredContentSizeCategory];
  uint64_t v13 = static String._unconditionallyBridgeFromObjectiveC(_:)();
  uint64_t v15 = v14;
  if (v13 != static String._unconditionallyBridgeFromObjectiveC(_:)() || v15 != v16)
  {
    char v17 = _stringCompareWithSmolCheck(_:_:expecting:)();

    swift_bridgeObjectRelease();
    swift_bridgeObjectRelease();
    if (v17) {
      goto LABEL_19;
    }
LABEL_18:
    sub_1003926C8();
    goto LABEL_19;
  }

  swift_bridgeObjectRelease_n();
LABEL_19:
  id v18 = [v2 traitCollection];
  id v19 = [v18 userInterfaceStyle];

  if (!a1 || v19 != [a1 userInterfaceStyle]) {
    sub_100392D10();
  }
  id v20 = [v2 traitCollection];
  id v21 = [v20 layoutDirection];

  if (!a1 || (id result = [a1 layoutDirection], v21 != result))
  {
    id v23 = [v2 traitCollection];
    char v24 = UITraitCollection.prefersRightToLeftLayouts.getter();

    if (v24) {
      double v25 = -*(double *)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_defaultPageMargin];
    }
    else {
      double v25 = 0.0;
    }
    return [v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView] setScrollIndicatorInsets:0.0, v25];
  }
  return result;
}

uint64_t sub_100397344(uint64_t result, uint64_t a2, void *a3, void *a4, void (*a5)(id))
{
  if (*(void *)(result + *a4))
  {
    int v6 = (void *)result;
    id v7 = a3;
    id v8 = v6;
    swift_retain();
    a5(v7);

    return swift_release();
  }
  return result;
}

uint64_t sub_100397740()
{
  return type metadata accessor for AppEventDetailPageView();
}

uint64_t type metadata accessor for AppEventDetailPageView()
{
  uint64_t result = qword_100993250;
  if (!qword_100993250) {
    return swift_getSingletonMetadata();
  }
  return result;
}

uint64_t sub_100397794()
{
  uint64_t result = type metadata accessor for MediaOverlayStyle();
  if (v1 <= 0x3F) {
    return swift_updateClassMetadata2();
  }
  return result;
}

uint64_t sub_1003978B8()
{
  return swift_unknownObjectWeakLoadStrong();
}

void sub_1003978C8(void *a1)
{
  sub_1003981D8();
  swift_unknownObjectWeakAssign();
  sub_100393FF8();
}

uint64_t (*sub_100397918(uint64_t **a1))()
{
  uint64_t v2 = (uint64_t *)malloc(0x28uLL);
  *a1 = v2;
  v2[4] = (uint64_t)sub_100394494(v2);
  return sub_100090DB4;
}

void sub_100397974()
{
}

uint64_t sub_100397980()
{
  return swift_retain();
}

void (*sub_100397994(void *a1))(uint64_t *a1, char a2)
{
  *a1 = *(void *)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButtonPresenter);
  a1[1] = v1;
  swift_retain();
  return sub_1003979E8;
}

void sub_1003979E8(uint64_t *a1, char a2)
{
  if (a2)
  {
    uint64_t v2 = swift_retain();
    sub_100396438(v2);
    swift_release();
  }
  else
  {
    sub_100396438(*a1);
  }
}

id sub_100397A40(char a1, char a2)
{
  *(unsigned char *)(*(void *)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton]
           + OBJC_IVAR____TtC8AppStore14NotifyMeButton_isActive) = a1;
  sub_1004D36B0();
  sub_1004D37CC(a2);

  return [v2 setNeedsLayout];
}

id sub_100397AB0()
{
  return *(id *)(*v0 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView);
}

double sub_100397AC4()
{
  [*v0 bounds];
  return 0.0;
}

CGFloat sub_100397AF0()
{
  id v1 = *v0;
  [*v0 bounds];
  CGFloat v2 = CGRectGetWidth(v4) * 0.5;
  [v1 bounds];
  CGRectGetHeight(v5);
  return v2;
}

uint64_t sub_100397B4C()
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v1 = sub_100398110(&qword_1009932B8, (void (*)(uint64_t))type metadata accessor for AppEventDetailPageView);

  return VideoViewProviding.someVideoView.getter(ObjectType, v1);
}

uint64_t sub_100397BC0(uint64_t a1, uint64_t a2)
{
  uint64_t ObjectType = swift_getObjectType();
  uint64_t v5 = sub_100398110(&qword_1009932B8, (void (*)(uint64_t))type metadata accessor for AppEventDetailPageView);

  return VideoViewProviding.someVideoView.setter(a1, a2, ObjectType, v5);
}

uint64_t (*sub_100397C4C(void *a1))()
{
  swift_getObjectType();
  CGFloat v2 = malloc(0x28uLL);
  *a1 = v2;
  sub_100398110(&qword_1009932B8, (void (*)(uint64_t))type metadata accessor for AppEventDetailPageView);
  v2[4] = VideoViewProviding.someVideoView.modify();
  return sub_100090DB4;
}

uint64_t sub_100397CF0(void *a1)
{
  if (!a1) {
    return 0;
  }
  id v2 = [a1 superview];
  if (!v2) {
    return 0;
  }
  uint64_t v3 = v2;
  CGRect v4 = *(void **)(v1 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView);
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  id v5 = v4;
  id v6 = v3;
  char v7 = static NSObject.== infix(_:_:)();

  return v7 & 1;
}

uint64_t sub_100397D90(uint64_t a1, double a2, double a3)
{
  id v6 = [v3 subviews];
  sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
  unint64_t v7 = static Array._unconditionallyBridgeFromObjectiveC(_:)();

  if (v7 >> 62) {
    goto LABEL_15;
  }
  uint64_t v8 = *(void *)((v7 & 0xFFFFFFFFFFFFFF8) + 0x10);
  while (v8)
  {
    uint64_t v9 = 4;
    while (1)
    {
      id v10 = (v7 & 0xC000000000000001) != 0
          ? (id)specialized _ArrayBuffer._getElementSlowPath(_:)()
          : *(id *)(v7 + 8 * v9);
      id v11 = v10;
      uint64_t v12 = v9 - 3;
      if (__OFADD__(v9 - 4, 1)) {
        break;
      }
      if (([v10 isHidden] & 1) != 0
        || ([v11 isUserInteractionEnabled] & 1) == 0)
      {
      }
      else
      {
        [v3 convertPoint:v11 toCoordinateSpace:a2, a3];
        unsigned int v13 = [v11 pointInside:a1];

        if (v13)
        {
          uint64_t v14 = 1;
          goto LABEL_17;
        }
      }
      ++v9;
      if (v12 == v8) {
        goto LABEL_16;
      }
    }
    __break(1u);
LABEL_15:
    swift_bridgeObjectRetain();
    uint64_t v8 = _CocoaArrayWrapper.endIndex.getter();
    swift_bridgeObjectRelease();
  }
LABEL_16:
  uint64_t v14 = 0;
LABEL_17:
  swift_bridgeObjectRelease();
  return v14;
}

uint64_t type metadata accessor for OverlayContentContainerView()
{
  return self;
}

uint64_t sub_100398080()
{
  return sub_100398110(&qword_100988BC8, (void (*)(uint64_t))type metadata accessor for AppEventDetailPageView);
}

uint64_t sub_1003980C8()
{
  return sub_100398110((unint64_t *)&unk_100993290, (void (*)(uint64_t))type metadata accessor for AppEventDetailPageView);
}

uint64_t sub_100398110(unint64_t *a1, void (*a2)(uint64_t))
{
  uint64_t result = *a1;
  if (!result)
  {
    a2(255);
    uint64_t result = swift_getWitnessTable();
    atomic_store(result, a1);
  }
  return result;
}

uint64_t sub_100398158()
{
  return sub_100398110(&qword_1009859B0, (void (*)(uint64_t))type metadata accessor for VideoView);
}

uint64_t sub_1003981A0()
{
  return _swift_deallocObject(v0, 25, 7);
}

void sub_1003981D8()
{
  uint64_t v1 = v0;
  id Strong = (id)swift_unknownObjectWeakLoadStrong();
  if (Strong)
  {
    sub_100398110(&qword_1009859B0, (void (*)(uint64_t))type metadata accessor for VideoView);
    id v2 = [Strong superview];
    if (v2)
    {
      uint64_t v3 = v2;
      CGRect v4 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView];
      sub_100084CF0(0, (unint64_t *)&qword_1009828E0);
      id v5 = v4;
      id v6 = v3;
      LOBYTE(v3) = static NSObject.== infix(_:_:)();

      if (v3)
      {
        unint64_t v7 = (void *)swift_unknownObjectWeakLoadStrong();
        if (v7)
        {
          uint64_t v8 = v7;
          [v7 removeFromSuperview];
        }
        [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView] setHidden:0];
        sub_100398818(0, &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoTapGestureRecognizer, &OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView, (uint64_t *)&selRef_videoTapGestureRecognized_);
        uint64_t v9 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView;
        id v10 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView];
        if (v10)
        {
          [v10 removeFromSuperview];
          id v11 = *(void **)&v1[v9];
        }
        else
        {
          id v11 = 0;
        }
        *(void *)&v1[v9] = 0;

        uint64_t v12 = *(void *)&v1[v9];
        if (v12) {
          [*(id *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] insertSubview:v12 atIndex:0];
        }
        [v1 setNeedsLayout];
      }
    }
    else
    {
    }
  }
}

void sub_1003983F0(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureRecognizer;
  if (*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureRecognizer])
  {
    [v1 removeGestureRecognizer:];
    CGRect v4 = *(void **)&v1[v3];
  }
  else
  {
    CGRect v4 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v5 = a1;

  id v6 = *(void **)&v1[v3];
  if (v6)
  {
    id v7 = v6;
    [v7 addTarget:v1 action:"dismissTapGestureRecognized:"];
    [v7 setDelegate:v1];
    [v1 addGestureRecognizer:v7];
  }
}

id sub_1003984D4(void *a1)
{
  id v2 = v1;
  uint64_t v4 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton;
  id v5 = *(void **)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton];
  if (v5)
  {
    [v5 removeFromSuperview];
    id v6 = *(void **)&v2[v4];
  }
  else
  {
    id v6 = 0;
  }
  *(void *)&v2[v4] = a1;
  id v7 = a1;

  uint64_t v8 = *(void **)&v2[v4];
  if (v8)
  {
    sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
    id v9 = v8;
    id v10 = (void *)static UIColor.primaryText.getter();
    id v11 = [v10 colorWithAlphaComponent:0.7];

    [v9 setTintColor:v11];
    [v9 setHitTestInsets:-10.0, -10.0, -10.0, -10.0];
    [*(id *)&v2[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView] addSubview:v9];
    sub_100392D10();
  }

  return [v2 setNeedsLayout];
}

id sub_10039860C(uint64_t a1, uint64_t a2)
{
  uint64_t v3 = v2;
  uint64_t v6 = type metadata accessor for UIButton.Configuration();
  uint64_t v7 = *(void *)(v6 - 8);
  __chkstk_darwin(v6);
  id v9 = (char *)&v16 - ((v8 + 15) & 0xFFFFFFFFFFFFFFF0);
  id v10 = (uint64_t *)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButtonActionBlock);
  uint64_t v11 = *(void *)(v2 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButtonActionBlock);
  if (!v11)
  {
    sub_1003984D4(0);
    uint64_t v11 = *v10;
  }
  *id v10 = a1;
  v10[1] = a2;
  sub_100060050(a1);
  id result = (id)sub_10006012C(v11);
  if (*v10)
  {
    uint64_t v13 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton;
    if (!*(void *)(v3 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton))
    {
      sub_100084CF0(0, (unint64_t *)&qword_100986D60);
      if (qword_10097EE18 != -1) {
        swift_once();
      }
      uint64_t v14 = sub_100087728(v6, (uint64_t)qword_1009930F0);
      swift_beginAccess();
      (*(void (**)(char *, uint64_t, uint64_t))(v7 + 16))(v9, v14, v6);
      uint64_t v15 = (void *)UIButton.init(configuration:primaryAction:)();
      sub_1003984D4(v15);

      id result = *(id *)(v3 + v13);
      if (result) {
        return [result addTarget:v3 action:"didTapShareButton:" forControlEvents:64];
      }
    }
  }
  return result;
}

void sub_1003987FC(void *a1)
{
}

void sub_100398818(void *a1, uint64_t *a2, void *a3, uint64_t *a4)
{
  uint64_t v8 = *a2;
  if (*(void *)(v4 + *a2))
  {
    [*(id *)(v4 + *a3) removeGestureRecognizer:];
    id v9 = *(void **)(v4 + v8);
  }
  else
  {
    id v9 = 0;
  }
  *(void *)(v4 + v8) = a1;
  id v10 = a1;

  uint64_t v11 = *(void **)(v4 + v8);
  if (v11)
  {
    uint64_t v12 = *a4;
    id v13 = v11;
    [v13 addTarget:v4 action:v12];
    [v13 setDelegate:v4];
    [*(id *)(v4 + *a3) addGestureRecognizer:v13];
  }
}

uint64_t sub_100398910()
{
  swift_unknownObjectWeakDestroy();

  return _swift_deallocObject(v0, 24, 7);
}

uint64_t sub_100398948()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

void sub_100398980()
{
  sub_1003963A8(*(double *)(v0 + 24));
}

uint64_t sub_10039898C()
{
  swift_release();

  return _swift_deallocObject(v0, 25, 7);
}

void sub_1003989C4()
{
  sub_1003967A0(*(void *)(v0 + 16), *(unsigned char *)(v0 + 24));
}

void sub_1003989D0(uint64_t a1)
{
  sub_100396834(a1, *(void *)(v1 + 16), *(unsigned char *)(v1 + 24));
}

id sub_1003989DC(void *a1)
{
  uint64_t v3 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView;
  uint64_t v4 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView];
  if (v4)
  {
    [v4 removeFromSuperview];
    id v5 = *(void **)&v1[v3];
  }
  else
  {
    id v5 = 0;
  }
  *(void *)&v1[v3] = a1;
  id v6 = a1;

  uint64_t v7 = *(void *)&v1[v3];
  if (v7)
  {
    id Strong = (void *)swift_unknownObjectWeakLoadStrong();
    id v9 = *(void **)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView];
    if (Strong)
    {
      [v9 insertSubview:v7 aboveSubview:Strong];
    }
    else
    {
      [v9 insertSubview:v7 aboveSubview:*(void *)&v1[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView]];
    }
  }

  return [v1 setNeedsLayout];
}

uint64_t sub_100398AB8()
{
  swift_release();

  return _swift_deallocObject(v0, 32, 7);
}

uint64_t sub_100398AF0()
{
  return (*(uint64_t (**)(void))(v0 + 16))();
}

uint64_t sub_100398B18(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 16))(a2, a1, v4);
  return a2;
}

uint64_t sub_100398B7C(uint64_t a1, uint64_t a2)
{
  uint64_t v4 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  (*(void (**)(uint64_t, uint64_t, uint64_t))(*(void *)(v4 - 8) + 32))(a2, a1, v4);
  return a2;
}

uint64_t sub_100398BE0(uint64_t a1, uint64_t (*a2)(void))
{
  uint64_t v3 = a2(0);
  (*(void (**)(uint64_t, uint64_t))(*(void *)(v3 - 8) + 8))(a1, v3);
  return a1;
}

char *sub_100398C40()
{
  uint64_t ObjectType = (objc_class *)swift_getObjectType();
  uint64_t v1 = type metadata accessor for FloatingPointRoundingRule();
  uint64_t v122 = *(void *)(v1 - 8);
  uint64_t v123 = v1;
  __chkstk_darwin(v1);
  long long v121 = (char *)&ObjCClassFromMetadata - ((v2 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v3 = sub_100082C28(&qword_100993520);
  __chkstk_darwin(v3 - 8);
  double v116 = (char *)&ObjCClassFromMetadata - ((v4 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v125 = type metadata accessor for DirectionalTextAlignment();
  uint64_t v5 = *(void *)(v125 - 8);
  __chkstk_darwin(v125);
  uint64_t v7 = (char *)&ObjCClassFromMetadata - ((v6 + 15) & 0xFFFFFFFFFFFFFFF0);
  uint64_t v8 = sub_100082C28(&qword_100984B10);
  __chkstk_darwin(v8 - 8);
  id v10 = (char *)&ObjCClassFromMetadata - ((v9 + 15) & 0xFFFFFFFFFFFFFFF0);
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_gradientBlurView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentBackgroundBlurView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaReplicationView] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_requirementsLabel] = 0;
  uint64_t v11 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButtonActionBlock];
  void *v11 = 0;
  v11[1] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureRecognizer] = 0;
  uint64_t v12 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_dismissTapGestureActionBlock];
  *uint64_t v12 = 0;
  v12[1] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoTapGestureRecognizer] = 0;
  id v13 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButtonActionBlock];
  *id v13 = 0;
  v13[1] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shareButton] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureRecognizer] = 0;
  uint64_t v14 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupTapGestureActionBlock];
  *uint64_t v14 = 0;
  v14[1] = 0;
  uint64_t v15 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkViewSize];
  *(void *)uint64_t v15 = 0;
  *((void *)v15 + sub_100395C6C(1, 1) = 0;
  v15[16] = 1;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mainArtwork] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupArtwork] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkLoader] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_videoBackgroundColor] = 0;
  v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_haveFlashedScrollIndicators] = 0;
  v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_isCollapsing] = 0;
  uint64_t v16 = &v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaOverlayStyle];
  uint64_t v17 = enum case for MediaOverlayStyle.matchSystem(_:);
  uint64_t v18 = type metadata accessor for MediaOverlayStyle();
  (*(void (**)(char *, uint64_t, uint64_t))(*(void *)(v18 - 8) + 104))(v16, v17, v18);
  v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_includeBorderInDarkMode] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_defaultPageMargin] = 0;
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator] = 0;
  swift_unknownObjectWeakInit();
  *(void *)&v0[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButtonPresenter] = 0;
  id v19 = objc_allocWithZone((Class)UIScrollView);
  id v20 = v0;
  id v21 = [v19 initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView] = v21;
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shadowView] = [objc_allocWithZone((Class)type metadata accessor for ShadowView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  type metadata accessor for RoundedCornerView();
  Class ObjCClassFromMetadata = (Class)swift_getObjCClassFromMetadata();
  id v22 = [objc_allocWithZone(ObjCClassFromMetadata) init];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardContentView] = v22;
  id v23 = [objc_allocWithZone((Class)UIView) init];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView] = v23;
  id v24 = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView] = v24;
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView] = [objc_allocWithZone((Class)type metadata accessor for OverlayContentContainerView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  id v25 = [objc_allocWithZone((Class)UIImageView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView] = v25;
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView] = [objc_allocWithZone((Class)type metadata accessor for AppPromotionFormattedDateView()) initWithFrame:0.0, 0.0, 0.0, 0.0];
  id v26 = objc_allocWithZone((Class)type metadata accessor for CardHeaderButton());
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton] = sub_100647D74(0);
  uint64_t v27 = type metadata accessor for FontUseCase();
  uint64_t v118 = *(void *)(v27 - 8);
  uint64_t v29 = v118 + 56;
  id v28 = *(void (**)(char *, uint64_t, uint64_t, uint64_t))(v118 + 56);
  v28(v10, 1, 1, v27);
  uint64_t v30 = enum case for DirectionalTextAlignment.none(_:);
  double v114 = *(void (**)(char *, uint64_t, uint64_t))(v5 + 104);
  uint64_t v124 = v5 + 104;
  double v31 = v7;
  CGFloat v32 = v7;
  uint64_t v33 = v125;
  v114(v32, enum case for DirectionalTextAlignment.none(_:), v125);
  CGFloat v34 = (objc_class *)type metadata accessor for DynamicTypeLabel();
  id v35 = objc_allocWithZone(v34);
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  v28(v10, 1, 1, v27);
  uint64_t v36 = v33;
  uint64_t v37 = v114;
  v114(v31, v30, v36);
  id v38 = objc_allocWithZone(v34);
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  uint64_t v117 = v27;
  char v119 = v28;
  uint64_t v120 = v29;
  v28(v10, 1, 1, v27);
  v37(v31, v30, v125);
  id v39 = objc_allocWithZone(v34);
  double v114 = (void (*)(char *, uint64_t, uint64_t))v10;
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_detailLabel] = DynamicTypeLabel.init(useCase:numberOfLines:lineBreakMode:isUserInteractionEnabled:directionalTextAlignment:contentSizeCategoryMapping:)();
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton] = [objc_allocWithZone((Class)type metadata accessor for NotifyMeButton()) init];
  id v40 = [objc_allocWithZone((Class)UIView) initWithFrame:0.0, 0.0, 0.0, 0.0];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView] = v40;
  type metadata accessor for SmallLockupView();
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView] = [objc_allocWithZone((Class)swift_getObjCClassFromMetadata()) init];
  id v41 = [objc_allocWithZone(ObjCClassFromMetadata) init];
  *(void *)&v20[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_borderView] = v41;

  v126.receiver = v20;
  v126.super_class = ObjectType;
  [super initWithFrame:0.0, 0.0, 0.0, 0.0];
  double left = UIEdgeInsetsZero.left;
  double bottom = UIEdgeInsetsZero.bottom;
  double right = UIEdgeInsetsZero.right;
  uint64_t v46 = (uint64_t)v42;
  [v46 setLayoutMargins:UIEdgeInsetsZero.top, left, bottom, right];
  [(id)v46 setClipsToBounds:0];
  uint64_t v47 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView;
  uint64_t v48 = *(void **)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardScrollView);
  [v48 setClipsToBounds:0];
  [v48 setContentInsetAdjustmentBehavior:2];
  [(id)v46 addSubview:v48];
  uint64_t v49 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_shadowView;
  if (qword_10097EF08 != -1) {
    swift_once();
  }
  uint64_t v50 = type metadata accessor for Shadow();
  uint64_t v51 = sub_100087728(v50, (uint64_t)qword_1009E3628);
  uint64_t v52 = *(void *)(v50 - 8);
  id v53 = v116;
  (*(void (**)(char *, uint64_t, uint64_t))(v52 + 16))(v116, v51, v50);
  (*(void (**)(char *, void, uint64_t, uint64_t))(v52 + 56))(v53, 0, 1, v50);
  dispatch thunk of ShadowView.shadow.setter();
  id v54 = *(id *)(v46 + v49);
  dispatch thunk of ShadowView.shouldAnimateBoundsChange.setter();

  uint64_t v124 = v47;
  id v55 = *(void **)(v46 + v47);
  [v55 addSubview:*(void *)(v46 + v49)];
  uint64_t v56 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardContentView;
  CGFloat v57 = *(void **)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_cardContentView);
  [v55 addSubview:v57];
  double v116 = (char *)OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView;
  double v58 = *(void **)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_contentContainerView);
  [v57 addSubview:v58];
  CGFloat v59 = *(void **)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_mediaContainerView);
  [v58 addSubview:v59];
  uint64_t v60 = *(void **)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_artworkView);
  [v60 setContentMode:2];
  [v60 setClipsToBounds:1];
  [v60 setAccessibilityIgnoresInvertColors:1];
  [v59 addSubview:v60];
  uint64_t v61 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView;
  [v58 addSubview:*(void *)(v46 + OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_overlayContentContainerView)];
  if (qword_10097ED78 != -1) {
    swift_once();
  }
  uint64_t v62 = type metadata accessor for AppEventDetailPageLayout.Metrics(0);
  uint64_t v63 = sub_100087728(v62, (uint64_t)qword_1009E3380);
  sub_100081D90((void *)(v63 + *(int *)(v62 + 20)), *(void *)(v63 + *(int *)(v62 + 20) + 24));
  id v64 = (char *)(id)v46;
  id v65 = v121;
  j___s5JetUI10DimensionsV19defaultRoundingRules013FloatingPointeF0OvgZ();
  AnyDimension.value(in:rounded:)();

  (*(void (**)(char *, uint64_t))(v122 + 8))(v65, v123);
  uint64_t v66 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton;
  id v67 = *(id *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_closeButton];
  dispatch thunk of ImageAlignedButton.touchOutsideMargin.setter();

  CGPoint v68 = *(void **)(v46 + v56);
  uint64_t v123 = v66;
  [v68 addSubview:*(void *)&v64[v66]];
  uint64_t v69 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView;
  CGRect v70 = *(unsigned char **)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_formattedDateView];
  LOBYTE(v67) = v70[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_style];
  v70[OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_style] = 1;
  CGRect v71 = v70;
  sub_10005C314((char)v67);

  uint64_t v72 = *(void *)&v64[v69];
  *(void *)(v72 + OBJC_IVAR____TtC8AppStore29AppPromotionFormattedDateView_delegate + 8) = &off_1008C84F0;
  swift_unknownObjectWeakAssign();
  [*(id *)(v46 + v61) addSubview:v72];
  uint64_t v73 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel;
  id v74 = *(void **)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_kindLabel];
  uint64_t v75 = sub_100084CF0(0, (unint64_t *)&qword_100981AA0);
  id v76 = v74;
  CGFloat v77 = (void *)static UIColor.primaryText.getter();
  id v78 = [v77 colorWithAlphaComponent:0.7];

  [v76 setTextColor:v78];
  [*(id *)(v46 + v61) addSubview:*(void *)&v64[v73]];
  id v79 = *(id *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_titleLabel];
  CGFloat v80 = (void *)static UIColor.primaryText.getter();
  [v79 setTextColor:v80];

  [*(id *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_notifyMeButton] addTarget:v64 action:"notifyMeButtonTapped:" forControlEvents:64];
  uint64_t v81 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView;
  id v82 = *(id *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_separatorView];
  uint64_t v122 = v75;
  double v83 = (void *)static UIColor.primaryText.getter();
  id v84 = [v83 colorWithAlphaComponent:0.5];

  [v82 setBackgroundColor:v84];
  uint64_t v125 = v46;
  [*(id *)&v116[v46] addSubview:*(void *)&v64[v81]];
  uint64_t v85 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView;
  uint64_t v86 = qword_10097F218;
  id v87 = objc_retain(*(id *)(*(void *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_lockupView]
                          + OBJC_IVAR____TtC8AppStore14BaseLockupView_titleLabel));
  uint64_t v88 = v118;
  if (v86 != -1) {
    swift_once();
  }
  uint64_t v89 = v117;
  uint64_t v90 = sub_100087728(v117, (uint64_t)qword_1009E40B8);
  double v91 = *(void (**)(char *, uint64_t, uint64_t))(v88 + 16);
  double v92 = (char *)v114;
  v91((char *)v114, v90, v89);
  double v93 = v119;
  v119(v92, 0, 1, v89);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

  uint64_t v94 = qword_10097F220;
  id v95 = *(id *)(*(void *)&v64[v85] + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel);
  if (v94 != -1) {
    swift_once();
  }
  uint64_t v96 = sub_100087728(v89, (uint64_t)qword_1009E40D0);
  v91(v92, v96, v89);
  v93(v92, 0, 1, v89);
  dispatch thunk of DynamicTypeLabel.fontUseCase.setter();

  id v97 = *(id *)(*(void *)&v64[v85] + OBJC_IVAR____TtC8AppStore14BaseLockupView_subtitleLabel);
  double v98 = (void *)static UIColor.primaryText.getter();
  id v99 = [v98 colorWithAlphaComponent:0.7];

  [v97 setTextColor:v99];
  uint64_t v100 = OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_borderView;
  id v101 = *(void **)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_borderView];
  id v102 = self;
  id v103 = v101;
  id v104 = [v102 whiteColor];
  id v105 = [v104 colorWithAlphaComponent:0.2];

  dispatch thunk of RoundedCornerView.borderColor.setter();
  id v106 = *(id *)&v64[v100];
  dispatch thunk of RoundedCornerView.borderWidth.setter();

  double v107 = *(void **)&v64[v100];
  [v107 setUserInteractionEnabled:0];
  [v107 setHidden:1];
  [*(id *)(v125 + v124) addSubview:v107];
  id v108 = *(id *)&v64[v123];
  id v109 = [v64 traitCollection];
  id v110 = [v109 userInterfaceStyle];

  type metadata accessor for AppPromotionDetailCloseButtonAppearanceCoordinator();
  uint64_t v111 = swift_allocObject();
  *(_WORD *)(v111 + 24) = 1;
  *(void *)(v111 + 16) = v108;
  *(void *)(v111 + 32) = v110;
  *(void *)(v111 + 40) = 0;
  *(void *)&v64[OBJC_IVAR____TtC8AppStore22AppEventDetailPageView_appPromotionCloseButtonAppearanceCoordinator] = v111;
  swift_release();
  sub_100391FE4();
  sub_1003926C8();
  sub_100392D10();

  return v64;
}